{"version":3,"file":"ApplicationInfo.spec.js","names":["sap","ui","define","__path","ResourceBundle","sap_cards_ap_common_helpers_ApplicationInfo","sap_cards_ap_test_JestHelper","UIComponent","_interopRequireDefault","obj","__esModule","default","path","ApplicationInfo","getApplicationFloorplan","compileCDS","getMetaModel","i18nMap","appTitle","appDescription","CardGeneratorHeaderTitle","CardGeneratorHeaderSubTitle","CardGeneratorGroupPropertyLabel_Groups_0_Items_0","CardGeneratorGroupPropertyLabel_Groups_0_Items_1","CardGeneratorGroupPropertyLabel_Groups_0_Items_2","CardGeneratorGroupHeader_Groups_0","CardGeneratorGroupPropertyLabel_Groups_1_Items_0","CardGeneratorGroupPropertyLabel_Groups_1_Items_1","CardGeneratorGroupPropertyLabel_Groups_1_Items_2","CardGeneratorGroupHeader_Groups_1","describe","windowSpy","getModelSpy","resourceBundleCreateSpy","metaModel","sapAppId","Component","extend","metadata","manifest","id","type","uri","createContent","rootComponent","beforeEach","getInstance","_resetInstance","jest","spyOn","afterEach","mockRestore","beforeAll","metadataUrl","join","__dirname","odataFormat","Promise","resolve","then","_getMetaModel","window","mockImplementation","isA","getResourceBundle","fn","oUrlInfo","url","e","reject","afterAll","test","hasher","getHash","getText","key","fetchDetails","applicationInfo","expect","toMatchObject","componentName","entitySet","context","freestyleAppComponent","freestyleComponent","getServiceUrl","mockReturnValue","isDesignMode","appType","odataModel","toHaveBeenCalled","_ApplicationInfo$getI2","not","entitySetWithObjectContext","mockI18nModel","mockResolvedValue","getModel","name","firstCall","secondCall","toBe","appComponent","getManifestEntry","it","mockReturnValueOnce","floorplan","toHaveBeenCalledWith","routing","targets","target1","target2","undefined"],"sources":["ApplicationInfo.spec.ts"],"sourcesContent":["/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n *  * (c) Copyright 2009-2025 SAP SE. All rights reserved\n */\nimport path from \"path\";\nimport ResourceBundle from \"sap/base/i18n/ResourceBundle\";\nimport { ApplicationInfo, getApplicationFloorplan } from \"sap/cards/ap/common/helpers/ApplicationInfo\";\nimport { compileCDS, getMetaModel } from \"sap/cards/ap/test/JestHelper\";\nimport UIComponent from \"sap/ui/core/UIComponent\";\nimport ODataMetaModel from \"sap/ui/model/odata/v4/ODataMetaModel\";\n\nconst i18nMap: {\n\t[key: string]: string;\n} = {\n\tappTitle: \"Sales Order\",\n\tappDescription: \"A Fiori application.\",\n\tCardGeneratorHeaderTitle: \"Sales Order\",\n\tCardGeneratorHeaderSubTitle: \"A Fiori application.\",\n\tCardGeneratorGroupPropertyLabel_Groups_0_Items_0: \"Net Amount\",\n\tCardGeneratorGroupPropertyLabel_Groups_0_Items_1: \"Gross Amount\",\n\tCardGeneratorGroupPropertyLabel_Groups_0_Items_2: \"Tax Amount\",\n\tCardGeneratorGroupHeader_Groups_0: \"Amount\",\n\tCardGeneratorGroupPropertyLabel_Groups_1_Items_0: \"Business Partner ID\",\n\tCardGeneratorGroupPropertyLabel_Groups_1_Items_1: \"Created At\",\n\tCardGeneratorGroupPropertyLabel_Groups_1_Items_2: \"Sales Order ID\",\n\tCardGeneratorGroupHeader_Groups_1: \"Additional Info\"\n};\n\ndescribe(\"fetchDetails\", () => {\n\tlet windowSpy: jest.SpyInstance;\n\tlet getModelSpy: jest.SpyInstance;\n\tlet resourceBundleCreateSpy: jest.SpyInstance;\n\tlet metaModel: ODataMetaModel;\n\tconst sapAppId = \"testComponent\";\n\tconst Component = UIComponent.extend(\"rootComponent\", {\n\t\tmetadata: {\n\t\t\tmanifest: {\n\t\t\t\t\"sap.app\": {\n\t\t\t\t\tid: sapAppId,\n\t\t\t\t\ttype: \"application\"\n\t\t\t\t},\n\t\t\t\t\"sap.ui5\": {},\n\t\t\t\t\"sap.platform.abap\": {\n\t\t\t\t\turi: \"\"\n\t\t\t\t},\n\t\t\t\t\"sap.ui.generic.app\": {}\n\t\t\t}\n\t\t},\n\t\tcreateContent() {\n\t\t\treturn null;\n\t\t}\n\t});\n\tconst rootComponent = new Component(sapAppId);\n\n\tbeforeEach(() => {\n\t\tApplicationInfo.getInstance(rootComponent)._resetInstance();\n\t\tresourceBundleCreateSpy = jest.spyOn(ResourceBundle, \"create\");\n\t});\n\n\tafterEach(() => {\n\t\tresourceBundleCreateSpy.mockRestore();\n\t});\n\n\tbeforeAll(async () => {\n\t\tconst metadataUrl = compileCDS(path.join(`${__dirname}`, \"../fixtures/Sample.cds\"), { odataFormat: \"structured\" });\n\t\tmetaModel = await getMetaModel(metadataUrl);\n\t\twindowSpy = jest.spyOn(window, \"window\", \"get\");\n\t\tgetModelSpy = jest.spyOn(rootComponent, \"getModel\").mockImplementation(() => {\n\t\t\treturn {\n\t\t\t\tisA: () => true,\n\t\t\t\tgetMetaModel: () => {\n\t\t\t\t\treturn metaModel;\n\t\t\t\t},\n\t\t\t\tgetResourceBundle: jest.fn().mockImplementation(() => {\n\t\t\t\t\treturn {\n\t\t\t\t\t\toUrlInfo: {\n\t\t\t\t\t\t\turl: \"i18n.properties\"\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t})\n\t\t\t};\n\t\t});\n\t});\n\n\tafterAll(() => {\n\t\twindowSpy.mockRestore();\n\t\tgetModelSpy.mockRestore();\n\t});\n\n\ttest(\"returns the application info, object page\", async () => {\n\t\twindowSpy.mockImplementation(() => ({\n\t\t\thasher: {\n\t\t\t\tgetHash: () =>\n\t\t\t\t\t\"test-intent&/CashBank(node_key=005056a7-004e-1ed8-b2e0-081387831f0d,IsActiveEntity=true,BankCountry=0000000006)\"\n\t\t\t}\n\t\t}));\n\t\tresourceBundleCreateSpy.mockImplementation(() => {\n\t\t\treturn {\n\t\t\t\tgetText: (key: string) => {\n\t\t\t\t\treturn i18nMap[key] || key;\n\t\t\t\t}\n\t\t\t};\n\t\t});\n\n\t\tconst applicationInfo = await ApplicationInfo.getInstance(rootComponent).fetchDetails();\n\t\texpect(applicationInfo).toMatchObject({\n\t\t\tcomponentName: sapAppId,\n\t\t\tentitySet: \"CashBank\",\n\t\t\tcontext: \"node_key=005056a7-004e-1ed8-b2e0-081387831f0d,IsActiveEntity=true,BankCountry=0000000006\"\n\t\t});\n\t});\n\n\ttest(\"returns the application info, other than object page\", async () => {\n\t\twindowSpy.mockImplementation(() => ({\n\t\t\thasher: {\n\t\t\t\tgetHash: () => \"test-intent\"\n\t\t\t}\n\t\t}));\n\n\t\tresourceBundleCreateSpy.mockImplementation(() => {\n\t\t\treturn {\n\t\t\t\tgetText: (key: string) => {\n\t\t\t\t\treturn i18nMap[key] || key;\n\t\t\t\t}\n\t\t\t};\n\t\t});\n\t\tconst id = \"free.style.app\";\n\t\tconst freestyleAppComponent = UIComponent.extend(\"freestyleApp\", {\n\t\t\tmetadata: {\n\t\t\t\tmanifest: {\n\t\t\t\t\t\"sap.app\": {\n\t\t\t\t\t\tid: \"free.style.app\",\n\t\t\t\t\t\ttype: \"application\"\n\t\t\t\t\t},\n\t\t\t\t\t\"sap.ui5\": {},\n\t\t\t\t\t\"sap.platform.abap\": {\n\t\t\t\t\t\turi: \"\"\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\tcreateContent() {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t});\n\t\tconst freestyleComponent = new freestyleAppComponent(id);\n\t\tconst getModelSpy = jest.spyOn(freestyleComponent, \"getModel\").mockImplementation(() => {\n\t\t\treturn {\n\t\t\t\tisA: () => true,\n\t\t\t\tgetMetaModel: () => {\n\t\t\t\t\treturn metaModel;\n\t\t\t\t},\n\t\t\t\tgetServiceUrl: jest.fn().mockReturnValue(\"/sap/opu/odata\"),\n\t\t\t\tgetResourceBundle: jest.fn().mockImplementation(() => {\n\t\t\t\t\treturn {\n\t\t\t\t\t\toUrlInfo: {\n\t\t\t\t\t\t\turl: \"i18n.properties\"\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t})\n\t\t\t};\n\t\t});\n\n\t\tconst applicationInfo = await ApplicationInfo.getInstance(freestyleComponent).fetchDetails({\n\t\t\tisDesignMode: false\n\t\t});\n\t\texpect(applicationInfo).toMatchObject({\n\t\t\tcomponentName: id,\n\t\t\tappType: \"FreeStyle\",\n\t\t\todataModel: \"V4\",\n\t\t\tcontext: \"\"\n\t\t});\n\t\tgetModelSpy.mockRestore();\n\t});\n\n\ttest(\"ResourceBundle create method should be called, when isDesignMode option is true\", async () => {\n\t\twindowSpy.mockImplementation(() => ({\n\t\t\thasher: {\n\t\t\t\tgetHash: () =>\n\t\t\t\t\t\"test-intent&/CashBank(node_key=005056a7-004e-1ed8-b2e0-081387831f0d,IsActiveEntity=true,BankCountry=0000000006)\"\n\t\t\t}\n\t\t}));\n\n\t\tawait ApplicationInfo.getInstance(rootComponent).fetchDetails({ isDesignMode: true });\n\t\texpect(resourceBundleCreateSpy).toHaveBeenCalled();\n\t});\n\n\ttest(\"ResourceBundle create method should not be called, when isDesignMode option is false\", async () => {\n\t\twindowSpy.mockImplementation(() => ({\n\t\t\thasher: {\n\t\t\t\tgetHash: () =>\n\t\t\t\t\t\"test-intent&/CashBank(node_key=005056a7-004e-1ed8-b2e0-081387831f0d,IsActiveEntity=true,BankCountry=0000000006)\"\n\t\t\t}\n\t\t}));\n\n\t\tawait await ApplicationInfo.getInstance(rootComponent).fetchDetails({ isDesignMode: false });\n\t\texpect(resourceBundleCreateSpy).not.toHaveBeenCalled();\n\t});\n\n\ttest(\"returns the application info, object page in case of FCL Layout application or url has instance of `?` in string\", async () => {\n\t\twindowSpy.mockImplementation(() => ({\n\t\t\thasher: {\n\t\t\t\tgetHash: () =>\n\t\t\t\t\t\"test-intent&/CashBank(node_key=005056a7-004e-1ed8-b2e0-081387831f0d,IsActiveEntity=true,BankCountry=0000000006)?layout=TwoColumnsMidExpanded&sap-iapp-state=TASUI4HMOZD7OLBHKR0P0RGGG1PBWF1HGTRD33J1P\"\n\t\t\t}\n\t\t}));\n\t\tresourceBundleCreateSpy.mockImplementation(() => {\n\t\t\treturn {\n\t\t\t\tgetText: (key: string) => {\n\t\t\t\t\treturn i18nMap[key] || key;\n\t\t\t\t}\n\t\t\t};\n\t\t});\n\n\t\tconst applicationInfo = await ApplicationInfo.getInstance(rootComponent).fetchDetails();\n\t\texpect(applicationInfo).toMatchObject({\n\t\t\tcomponentName: sapAppId,\n\t\t\tentitySet: \"CashBank\",\n\t\t\tcontext: \"node_key=005056a7-004e-1ed8-b2e0-081387831f0d,IsActiveEntity=true,BankCountry=0000000006\",\n\t\t\tentitySetWithObjectContext: \"CashBank(node_key=005056a7-004e-1ed8-b2e0-081387831f0d,IsActiveEntity=true,BankCountry=0000000006)\"\n\t\t});\n\t});\n\ttest(\"returns cached appInfo when path matches\", async () => {\n\t\twindowSpy.mockImplementation(() => ({\n\t\t\thasher: {\n\t\t\t\tgetHash: () => \"test-intent&/CashBank(node_key=123,IsActiveEntity=true)\"\n\t\t\t}\n\t\t}));\n\t\tconst mockI18nModel = {\n\t\t\tgetResourceBundle: jest.fn().mockResolvedValue({\n\t\t\t\tgetText: (key: string) => i18nMap[key] || key\n\t\t\t})\n\t\t};\n\t\t(rootComponent as any).getModel = jest.fn((name?: string) => {\n\t\t\tif (name === \"i18n\" || name === \"@i18n\") {\n\t\t\t\treturn mockI18nModel;\n\t\t\t}\n\t\t\treturn { isA: jest.fn().mockReturnValue(false) };\n\t\t});\n\t\tconst firstCall = await ApplicationInfo.getInstance(rootComponent).fetchDetails();\n\t\tconst secondCall = await ApplicationInfo.getInstance(rootComponent).fetchDetails();\n\t\texpect(secondCall).toBe(firstCall); // same reference proves cache reuse\n\t});\n\n\ttest(\"recomputes appInfo when path does not match\", async () => {\n\t\twindowSpy.mockImplementation(() => ({\n\t\t\thasher: {\n\t\t\t\tgetHash: () => \"test-intent&/CashBank(node_key=123,IsActiveEntity=true)\"\n\t\t\t}\n\t\t}));\n\t\tconst mockI18nModel = {\n\t\t\tgetResourceBundle: jest.fn().mockResolvedValue({\n\t\t\t\tgetText: (key: string) => i18nMap[key] || key\n\t\t\t})\n\t\t};\n\t\t(rootComponent as any).getModel = jest.fn((name?: string) => {\n\t\t\tif (name === \"i18n\" || name === \"@i18n\") {\n\t\t\t\treturn mockI18nModel;\n\t\t\t}\n\t\t\treturn { isA: jest.fn().mockReturnValue(false) };\n\t\t});\n\t\tconst firstCall = await ApplicationInfo.getInstance(rootComponent).fetchDetails();\n\t\t// Now change hash â†’ different path\n\t\twindowSpy.mockImplementation(() => ({\n\t\t\thasher: {\n\t\t\t\tgetHash: () => \"test-intent&/BankAccount(node_key=456,IsActiveEntity=true)\"\n\t\t\t}\n\t\t}));\n\t\tconst secondCall = await ApplicationInfo.getInstance(rootComponent).fetchDetails();\n\t\texpect(secondCall).not.toBe(firstCall); // new object proves recomputation\n\t\texpect(secondCall.entitySet).toBe(\"BankAccount\");\n\t});\n});\n\ndescribe(\"getApplicationFloorplan\", () => {\n\tlet appComponent: jest.Mocked<UIComponent>;\n\n\tbeforeEach(() => {\n\t\tappComponent = {\n\t\t\tgetManifestEntry: jest.fn()\n\t\t} as unknown as jest.Mocked<UIComponent>;\n\t});\n\n\tit(\"should return 'ObjectPage' if the application is a V2 Fiori Elements app\", () => {\n\t\tappComponent.getManifestEntry.mockReturnValueOnce(true);\n\n\t\tconst floorplan = getApplicationFloorplan(appComponent);\n\n\t\texpect(floorplan).toBe(\"ObjectPage\");\n\t\texpect(appComponent.getManifestEntry).toHaveBeenCalledWith(\"sap.ui.generic.app\");\n\t});\n\n\tit(\"should return 'ObjectPage' if any routing target is a Fiori Elements template\", () => {\n\t\tappComponent.getManifestEntry.mockImplementation((key: string) => {\n\t\t\tif (key === \"sap.ui.generic.app\") {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tif (key === \"sap.ui5\") {\n\t\t\t\treturn {\n\t\t\t\t\trouting: {\n\t\t\t\t\t\ttargets: {\n\t\t\t\t\t\t\ttarget1: { name: \"sap.fe.templates.ObjectPage\" },\n\t\t\t\t\t\t\ttarget2: { name: \"com.sap.template\" }\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t}\n\t\t});\n\n\t\tconst floorplan = getApplicationFloorplan(appComponent);\n\n\t\texpect(floorplan).toBe(\"ObjectPage\");\n\t\texpect(appComponent.getManifestEntry).toHaveBeenCalledWith(\"sap.ui.generic.app\");\n\t\texpect(appComponent.getManifestEntry).toHaveBeenCalledWith(\"sap.ui5\");\n\t});\n\n\tit(\"should return 'FreeStyle' if no routing target is a Fiori Elements template\", () => {\n\t\tappComponent.getManifestEntry.mockImplementation((key: string) => {\n\t\t\tif (key === \"sap.ui.generic.app\") {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tif (key === \"sap.ui5\") {\n\t\t\t\treturn {\n\t\t\t\t\trouting: {\n\t\t\t\t\t\ttargets: {\n\t\t\t\t\t\t\ttarget1: { name: \"com.sap.template1\" },\n\t\t\t\t\t\t\ttarget2: { name: \"com.sap.template\" }\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t}\n\t\t});\n\n\t\tconst floorplan = getApplicationFloorplan(appComponent);\n\n\t\texpect(floorplan).toBe(\"FreeStyle\");\n\t\texpect(appComponent.getManifestEntry).toHaveBeenCalledWith(\"sap.ui.generic.app\");\n\t\texpect(appComponent.getManifestEntry).toHaveBeenCalledWith(\"sap.ui5\");\n\t});\n\n\tit(\"should return 'FreeStyle' if there are no routing targets\", () => {\n\t\tappComponent.getManifestEntry.mockImplementation((key: string) => {\n\t\t\tif (key === \"sap.ui.generic.app\") {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tif (key === \"sap.ui5\") {\n\t\t\t\treturn {\n\t\t\t\t\trouting: {}\n\t\t\t\t};\n\t\t\t}\n\t\t});\n\n\t\tconst floorplan = getApplicationFloorplan(appComponent);\n\n\t\texpect(floorplan).toBe(\"FreeStyle\");\n\t\texpect(appComponent.getManifestEntry).toHaveBeenCalledWith(\"sap.ui.generic.app\");\n\t\texpect(appComponent.getManifestEntry).toHaveBeenCalledWith(\"sap.ui5\");\n\t});\n\n\tit(\"should return 'FreeStyle' if sap.ui5 is not defined\", () => {\n\t\tappComponent.getManifestEntry.mockImplementation((key: string) => {\n\t\t\tif (key === \"sap.ui.generic.app\") {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn undefined;\n\t\t});\n\n\t\tconst floorplan = getApplicationFloorplan(appComponent);\n\n\t\texpect(floorplan).toBe(\"FreeStyle\");\n\t\texpect(appComponent.getManifestEntry).toHaveBeenCalledWith(\"sap.ui.generic.app\");\n\t\texpect(appComponent.getManifestEntry).toHaveBeenCalledWith(\"sap.ui5\");\n\t});\n});\n"],"mappings":"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","ignoreList":[]}