{"version":3,"file":"Application.spec.js","names":["sap","ui","define","sap_cards_ap_generator_pages_Application","sap_cards_ap_generator_pages_FreeStyle","sap_cards_ap_generator_pages_ObjectPage","UIComponent","ODataModel","ODataV4Model","Application","ODataModelVersion","FreeStyle","ObjectPage","jest","mock","resolvePath","requireActual","getEntityNames","fn","mockReturnValue","getPropertyReference","name","getEntitySetWithContextURLs","mockResolvedValue","labelWithValue","type","getPropertyReferenceKey","getObjectPageContext","describe","windowSpy","requestObjectMock","sId","oManifest","id","dataSources","mainService","uri","models","dataSource","embeds","default","Component","extend","metadata","manifest","createContent","rootComponent","getModel","beforeEach","spyOn","window","mockImplementation","hasher","getHash","afterEach","getInstance","_resetInstance","mockRestore","it","instance","createInstance","expect","toBeInstanceOf","firstInstance","secondInstance","toBe","getRootComponent","_oDataModelVersion","V2","details","fetchDetails","odataModel","entitySet","serviceUrl","entitySetWithObjectContext","componentName","semanticObject","action","validateCardGeneration","Promise","resolve","e","reject","model","read","url","options","success","freeStyleInstance","getFreeStyleModelForDialog","getData","toMatchSnapshot","updateObjectContextFreeStyleModel","then","originalFetch","global","fetch","json","isA","bindContext","requestObject","toHaveBeenCalledTimes","setModel"],"sources":["Application.spec.ts"],"sourcesContent":["/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n *  * (c) Copyright 2009-2025 SAP SE. All rights reserved\n */\nimport { Application, ODataModelVersion } from \"sap/cards/ap/generator/pages/Application\";\nimport { FreeStyle } from \"sap/cards/ap/generator/pages/FreeStyle\";\nimport { ObjectPage } from \"sap/cards/ap/generator/pages/ObjectPage\";\nimport UIComponent from \"sap/ui/core/UIComponent\";\nimport ODataModel from \"sap/ui/model/odata/v2/ODataModel\";\nimport ODataV4Model from \"sap/ui/model/odata/v4/ODataModel\";\n\ndeclare namespace sap {\n\texport namespace jest {\n\t\tfunction resolvePath(path: string): string;\n\t}\n}\n\njest.mock(sap.jest.resolvePath(\"sap/cards/ap/generator/odata/ODataUtils\"), () => {\n\treturn {\n\t\t...jest.requireActual(sap.jest.resolvePath(\"sap/cards/ap/generator/odata/ODataUtils\")),\n\t\tgetEntityNames: jest.fn().mockReturnValue([\"C_SalesPlanTP\", \"C_SalesPlanDimnSelectionTP\", \"C_SalesPlanItemTP\"]),\n\t\tgetPropertyReference: jest.fn().mockReturnValue([{ name: \"SalesPlanUUID\" }, { name: \"IsActiveEntity\" }])\n\t};\n});\n\njest.mock(sap.jest.resolvePath(\"sap/cards/ap/common/odata/ODataUtils\"), () => {\n\treturn {\n\t\t...jest.requireActual(sap.jest.resolvePath(\"sap/cards/ap/common/odata/ODataUtils\")),\n\t\tgetEntitySetWithContextURLs: jest.fn().mockResolvedValue([\n\t\t\t{\n\t\t\t\tlabelWithValue: \"C_SalesPlanTP(SalesPlanUUID=guid'fa163e3c-f83d-1ee9-a0a1-8f912f73bf72',IsActiveEntity=false)\",\n\t\t\t\tname: \"C_SalesPlanTP(SalesPlanUUID=guid'fa163e3c-f83d-1ee9-a0a1-8f912f73bf72',IsActiveEntity=false)\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabelWithValue: \"C_SalesPlanTP(SalesPlanUUID=guid'fa163e3c-f83d-1ee9-a09f-8091d302d596',IsActiveEntity=true)\",\n\t\t\t\tname: \"C_SalesPlanTP(SalesPlanUUID=guid'fa163e3c-f83d-1ee9-a09f-8091d302d596',IsActiveEntity=true)\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabelWithValue: \"C_SalesPlanTP(SalesPlanUUID=guid'42f2e9af-c3df-1ee9-a0bb-0d6579917880',IsActiveEntity=true)\",\n\t\t\t\tname: \"C_SalesPlanTP(SalesPlanUUID=guid'42f2e9af-c3df-1ee9-a0bb-0d6579917880',IsActiveEntity=true)\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabelWithValue: \"C_SalesPlanTP(SalesPlanUUID=guid'fa163e3c-f83d-1ee9-a09f-5cd256c05529',IsActiveEntity=true)\",\n\t\t\t\tname: \"C_SalesPlanTP(SalesPlanUUID=guid'fa163e3c-f83d-1ee9-a09f-5cd256c05529',IsActiveEntity=true)\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabelWithValue: \"C_SalesPlanTP(SalesPlanUUID=guid'fa163e3c-f83d-1ee9-a09f-540e5299d527',IsActiveEntity=true)\",\n\t\t\t\tname: \"C_SalesPlanTP(SalesPlanUUID=guid'fa163e3c-f83d-1ee9-a09f-540e5299d527',IsActiveEntity=true)\"\n\t\t\t}\n\t\t])\n\t};\n});\n\njest.mock(sap.jest.resolvePath(\"sap/cards/ap/common/odata/v2/MetadataAnalyzer\"), () => {\n\treturn {\n\t\t...jest.requireActual(sap.jest.resolvePath(\"sap/cards/ap/common/odata/v2/MetadataAnalyzer\")),\n\t\tgetPropertyReference: jest.fn().mockReturnValue([\n\t\t\t{ name: \"SalesPlanUUID\", type: \"Edm.Guid\" },\n\t\t\t{ name: \"IsActiveEntity\", type: \"Edm.Boolean\" }\n\t\t])\n\t};\n});\n\njest.mock(sap.jest.resolvePath(\"sap/cards/ap/common/odata/v4/MetadataAnalyzer\"), () => {\n\treturn {\n\t\t...jest.requireActual(sap.jest.resolvePath(\"sap/cards/ap/common/odata/v4/MetadataAnalyzer\")),\n\t\tgetPropertyReferenceKey: jest.fn().mockReturnValue([\n\t\t\t{ name: \"SalesPlanUUID\", type: \"Edm.Guid\" },\n\t\t\t{ name: \"IsActiveEntity\", type: \"Edm.Boolean\" }\n\t\t])\n\t};\n});\n\njest.mock(sap.jest.resolvePath(\"sap/cards/ap/generator/helpers/IntegrationCardHelper\"), () => {\n\treturn {\n\t\t...jest.requireActual(sap.jest.resolvePath(\"sap/cards/ap/generator/helpers/IntegrationCardHelper\")),\n\t\tgetObjectPageContext: jest\n\t\t\t.fn()\n\t\t\t.mockReturnValue(\"SalesPlanUUID=guid'{{parameters.SalesPlanUUID}}',IsActiveEntity={{parameters.IsActiveEntity}}\")\n\t};\n});\n\ndescribe(\"Application\", () => {\n\tlet windowSpy: jest.SpyInstance;\n\tconst requestObjectMock: jest.Mock = jest.fn();\n\n\tconst sId = \"testComponent\";\n\tconst oManifest = {\n\t\t\"sap.app\": {\n\t\t\tid: sId,\n\t\t\ttype: \"application\",\n\t\t\tdataSources: {\n\t\t\t\tmainService: {\n\t\t\t\t\turi: \"/sap/opu/odata/sap/SD_SALESPLAN/\",\n\t\t\t\t\ttype: \"OData\"\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t\"sap.ui5\": {\n\t\t\tmodels: {\n\t\t\t\t\"\": {\n\t\t\t\t\tdataSource: \"mainService\"\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t\"sap.cards.ap\": {\n\t\t\tembeds: {\n\t\t\t\tObjectPage: {\n\t\t\t\t\tdefault: \"C_SalesPlanTP\"\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\tconst Component = UIComponent.extend(\"component\", {\n\t\tmetadata: {\n\t\t\tmanifest: oManifest\n\t\t},\n\t\tcreateContent() {\n\t\t\treturn null;\n\t\t}\n\t});\n\n\tconst rootComponent = new Component(sId);\n\trootComponent.getModel = jest.fn().mockReturnValue(new ODataModel(\"sap/opu/odata\"));\n\n\tbeforeEach(() => {\n\t\twindowSpy = jest.spyOn(window, \"window\", \"get\");\n\t\twindowSpy.mockImplementation(() => ({\n\t\t\thasher: {\n\t\t\t\tgetHash: () => \"test-intent?salesOrder='1234'&/testEntity(12345)\"\n\t\t\t}\n\t\t}));\n\t});\n\n\tafterEach(() => {\n\t\tApplication.getInstance()._resetInstance();\n\t\twindowSpy.mockRestore();\n\t});\n\n\tit(\"should create a new instance of ObjectPage card one does not exist\", () => {\n\t\tconst instance = ObjectPage.createInstance(rootComponent);\n\t\texpect(instance).toBeInstanceOf(Application);\n\t});\n\n\tit(\"should return the same instance if one already exists\", () => {\n\t\tconst firstInstance = ObjectPage.createInstance(rootComponent);\n\t\tconst secondInstance = ObjectPage.createInstance(rootComponent);\n\t\texpect(firstInstance).toBe(secondInstance);\n\t});\n\n\tit(\"should return the root component\", () => {\n\t\tconst instance = ObjectPage.createInstance(rootComponent);\n\t\texpect(instance.getRootComponent()).toBe(rootComponent);\n\t});\n\n\tit(\"should set the correct ODataModelVersion\", () => {\n\t\tconst instance = ObjectPage.createInstance(rootComponent);\n\t\texpect(instance._oDataModelVersion).toBe(ODataModelVersion.V2);\n\t});\n\n\tit(\"should fetch the correct details\", () => {\n\t\tconst instance = ObjectPage.createInstance(rootComponent);\n\t\tconst details = instance.fetchDetails();\n\t\texpect(details.rootComponent).toBe(rootComponent);\n\t\texpect(details.odataModel).toBe(ODataModelVersion.V2);\n\t\texpect(details.entitySet).toBe(\"testEntity\");\n\t\texpect(details.serviceUrl).toBe(\"sap/opu/odata\");\n\t\texpect(details.entitySetWithObjectContext).toBe(\"testEntity(12345)\");\n\t\texpect(details.componentName).toBe(sId);\n\t\texpect(details.semanticObject).toBe(\"test\");\n\t\texpect(details.action).toBe(\"intent\");\n\t});\n\n\tit(\"should validate card generation\", async () => {\n\t\tconst instance = ObjectPage.createInstance(rootComponent);\n\t\texpect(instance.validateCardGeneration()).toBe(true);\n\t});\n\n\tit(\"should return the same instance if one already exists and create a new once if does not exists\", () => {\n\t\tconst firstInstance = FreeStyle.createInstance(rootComponent) as FreeStyle;\n\t\texpect(firstInstance).toBeInstanceOf(Application);\n\t\tconst secondInstance = FreeStyle.createInstance(rootComponent);\n\t\texpect(firstInstance).toBe(secondInstance);\n\t});\n\n\tit(\"should validate card generation for freestyle application\", async () => {\n\t\tconst instance = FreeStyle.createInstance(rootComponent);\n\t\texpect(instance.validateCardGeneration()).toBe(true);\n\t});\n\n\tit(\"should initialize and update the freeStyle Model for dialog\", async () => {\n\t\tconst model = rootComponent.getModel();\n\t\tmodel.read = jest.fn((url, options) => {\n\t\t\toptions.success({});\n\t\t});\n\t\tconst freeStyleInstance = FreeStyle.createInstance(rootComponent) as FreeStyle;\n\t\texpect(freeStyleInstance.validateCardGeneration()).toBe(true);\n\t\texpect(freeStyleInstance.getFreeStyleModelForDialog().getData()).toMatchSnapshot();\n\t\tawait freeStyleInstance.updateObjectContextFreeStyleModel();\n\t\texpect(freeStyleInstance.getFreeStyleModelForDialog().getData()).toMatchSnapshot();\n\t});\n\n\tit(\"test for OData V4 based freestyle application\", async () => {\n\t\tconst originalFetch = global.fetch;\n\t\tglobal.fetch = jest.fn(() =>\n\t\t\tPromise.resolve({\n\t\t\t\tjson: () => Promise.resolve({})\n\t\t\t})\n\t\t) as jest.Mock;\n\t\trootComponent.getModel = jest.fn().mockReturnValue(\n\t\t\tnew ODataV4Model({\n\t\t\t\tserviceUrl: \"/sap/opu/odata/sap/SD_SALESPLAN/\"\n\t\t\t})\n\t\t);\n\t\trootComponent.getModel().isA = jest.fn().mockReturnValue(true);\n\t\trootComponent.getModel().bindContext = jest.fn().mockReturnValue({\n\t\t\trequestObject: requestObjectMock\n\t\t});\n\t\tconst firstInstance = FreeStyle.createInstance(rootComponent) as FreeStyle;\n\t\tawait firstInstance.updateObjectContextFreeStyleModel();\n\t\texpect(firstInstance).toBeInstanceOf(Application);\n\t\texpect(firstInstance.getFreeStyleModelForDialog().getData()).toMatchSnapshot();\n\t\texpect(requestObjectMock).toHaveBeenCalledTimes(1);\n\t\tglobal.fetch = originalFetch;\n\t});\n});\n\ndescribe(\"Invalidate Card Generation\", () => {\n\tlet windowSpy: jest.SpyInstance;\n\tconst sId = \"testComponent1\";\n\tconst oManifest = {\n\t\t\"sap.app\": {\n\t\t\tid: sId,\n\t\t\ttype: \"application\",\n\t\t\tdataSources: {\n\t\t\t\tmainService: {\n\t\t\t\t\turi: \"/sap/opu/odata/sap/SD_SALESPLAN/\",\n\t\t\t\t\ttype: \"OData\"\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t\"sap.ui5\": {\n\t\t\tmodels: {\n\t\t\t\t\"\": {\n\t\t\t\t\tdataSource: \"mainService\"\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\tconst Component = UIComponent.extend(\"component\", {\n\t\tmetadata: {\n\t\t\tmanifest: oManifest\n\t\t},\n\t\tcreateContent() {\n\t\t\treturn null;\n\t\t}\n\t});\n\n\tconst rootComponent = new Component(sId);\n\trootComponent.setModel(new ODataModel(\"sap/opu/odata\"));\n\n\tafterEach(() => {\n\t\tApplication.getInstance()._resetInstance();\n\t\twindowSpy.mockRestore();\n\t});\n\n\tit(\"should invalidate the card generation for non-object page\", async () => {\n\t\twindowSpy = jest.spyOn(window, \"window\", \"get\");\n\t\twindowSpy.mockImplementation(() => ({\n\t\t\thasher: {\n\t\t\t\tgetHash: () => \"test-intent&/testEntity\"\n\t\t\t}\n\t\t}));\n\n\t\tconst instance = ObjectPage.createInstance(rootComponent);\n\t\texpect(instance.validateCardGeneration()).toBe(false);\n\t});\n\n\tit(\"should invalidate the card generation for unavailable object context\", async () => {\n\t\twindowSpy = jest.spyOn(window, \"window\", \"get\");\n\t\twindowSpy.mockImplementation(() => ({\n\t\t\thasher: {\n\t\t\t\tgetHash: () => \"test-intent&/testEntity()\"\n\t\t\t}\n\t\t}));\n\n\t\tconst instance = ObjectPage.createInstance(rootComponent);\n\t\texpect(instance.validateCardGeneration()).toBe(false);\n\t});\n\n\tit(\"should invalidate the card generation when no entitySet is provided\", async () => {\n\t\twindowSpy = jest.spyOn(window, \"window\", \"get\");\n\t\twindowSpy.mockImplementation(() => ({\n\t\t\thasher: {\n\t\t\t\tgetHash: () => \"test-intent\"\n\t\t\t}\n\t\t}));\n\n\t\tconst instance = ObjectPage.createInstance(rootComponent);\n\t\texpect(instance.validateCardGeneration()).toBe(false);\n\t});\n\n\tit(\"should fetch the correct details in case of FCL Layout app or url has instance of `?` in string\", () => {\n\t\twindowSpy = jest.spyOn(window, \"window\", \"get\");\n\t\twindowSpy.mockImplementation(() => ({\n\t\t\thasher: {\n\t\t\t\tgetHash: () =>\n\t\t\t\t\t\"test-intent&/testEntity('1234')?layout=TwoColumnsMidExpanded&sap-iapp-state=TASUI4HMOZD7OLBHKR0P0RGGG1PBWF1HGTRD33J1P\"\n\t\t\t}\n\t\t}));\n\n\t\tconst instance = ObjectPage.createInstance(rootComponent);\n\t\tconst details = instance.fetchDetails();\n\t\texpect(details.entitySetWithObjectContext).toBe(\"testEntity('1234')\");\n\t\texpect(details.entitySet).toBe(\"testEntity\");\n\t});\n});\n"],"mappings":"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","ignoreList":[]}