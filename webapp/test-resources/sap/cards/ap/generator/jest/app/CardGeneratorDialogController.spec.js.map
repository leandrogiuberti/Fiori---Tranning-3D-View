{"version":3,"file":"CardGeneratorDialogController.spec.js","names":["sap","ui","define","Log","sap_cards_ap_generator_app_CardGeneratorDialogController","sap_cards_ap_generator_helpers_FooterActions","sap_cards_ap_generator_helpers_I18nHelper","sap_cards_ap_generator_helpers_IntegrationCardHelper","sap_cards_ap_generator_helpers_Transpiler","ODataUtils","sap_cards_ap_generator_pages_Application","sap_cards_ap_generator_pages_ObjectPage","sap_cards_ap_generator_utils_CommonUtils","ComboBox","MessageBox","MessageToast","ToggleButton","VBox","Event","CoreElement","Fragment","Item","UIComponent","sap_ui_core_library","Splitter","JSONModel","jQuery","CardGeneratorDialogController","getCriticality","toggleOffAdvancedPanel","addActionToCardManifest","createAndStoreGeneratedi18nKeys","getCurrentCardManifest","getPreviewItems","renderCardPreview","transpileIntegrationCardToAdaptive","Application","ObjectPage","getColorForGroup","ValueState","jest","mock","resolvePath","updateCardGroups","fn","enhanceManifestWithInsights","enhanceManifestWithConfigurationParameters","removeActionFromManifest","updateCardManifestAction","resetCardActions","requireActual","sId","oManifest","id","type","Component","extend","metadata","manifest","createContent","rootComponent","spyOn","mockImplementation","sServiceUrl","isA","getMetaModel","getODataEntitySet","entityType","getODataEntityType","key","propertyRef","name","getContext","getObject","node_key","IsActiveEntity","describe","getCurrentCardManifestMock","setPropertyMock","windowSpy","coreElementGetElementByIdSpy","oDialogModel","configuration","properties","advancedFormattingOptions","unitOfMeasures","textArrangements","propertyValueFormatters","trendOptions","sourceProperty","indicatorsValue","selectedIndicatorOptions","mainIndicatorStatusKey","navigationProperty","label","selectedNavigationProperties","value","$data","net_amount","getResourceBundleMock","mockReturnValue","getResourceBundle","getText","_version","title","applicationVersion","version","parameters","contextParameters","header","data","request","batch","url","oDialog","getModel","open","setModel","close","beforeAll","window","hasher","getHash","createInstance","setProperty","initialize","afterAll","mockRestore","getInstance","_resetInstance","clearAllMocks","test","setValueStateMock","oEvent","getSource","getSelectedKey","setValueState","getValue","getParameter","newValue","to_BillingStatus","Status","Status_Text","Promise","resolve","onStateIndicatorSelection","then","count","expect","toHaveBeenNthCalledWith","labelWithValue","toHaveBeenCalledWith","None","e","reject","renderCardPreviewMock","manifestWhenThereIsNoMainIndicatorValue","beforeEach","afterEach","expectedManifest","onTitleSelection","subTitle","onSubTitleSelection","unitOfMeasurement","onHeaderUOMSelection","mainIndicator","state","number","trend","sideIndicators","unit","setValueStateTextMock","event","setValueStateText","Error","arrangementKey","propKey","formatterName","displayName","defaultValue","defaultSelectedKey","selectedKey","options","visible","property","groups","items","isEnabled","_updateHeaderArrangements","_updateArrangements","expected","getProperty","toEqual","propertyKeyForId","navigationalPropertiesForId","isNavigationForId","navigationKeyForId","propertyKeyForDescription","isNavigationForDescription","navigationKeyForDescription","arrangementType","textArrangement","selected","navigationValue","selectedNavigationPropertyHeader","mainIndicatorNavigationSelectedKey","calledWithArgs","calls","toMatchSnapshot","navigationalProperties","isNavigation","navKey","isNavigationEnabled","navigationalPropertiesForDescription","newItem","path","content","oModel","popoverContentType","targetFormatterProperty","sourceCriticalityProperty","criticality","getBindingContext","getPath","getParent","getKey","it","result","handleCriticalityAction","toBe","mainIndicatorOptions","activeCalculation","hostCriticality","sourceUoMProperty","targetProperty","downDifference","downDifferenceValueState","upDifference","upDifferenceValueState","referenceValue","referenceValueState","upDown","selectedTrendOptions","extension","isCalcuationType","applyCriticality","_updateCriticality","toHaveBeenCalled","testCases","input","undefined","forEach","applyUoMFormatting","onTrendDelete","updated","navEntry","find","entry","toBeDefined","mainIndicatorStatusUnit","UOM","isDate","text","source","sPath","getId","addDependent","configurationController","onPopoverClose","onPropertyFormatterChange","applyFormatting","resetValueState","onDownDifferenceChange","onUpDifferenceChange","onReferenceValInputChange","onTargetValueChange","onDeviationValueChange","onTargetUnitChange","onDeviationUnitChange","applyIndicators","applyTrendCalculation","onDelete","onIndicatorsDelete","onDeleteFormatter","onDeleteCriticality","load","mockResolvedValue","setBindingContext","openBy","loadAdvancedFormattingConfigurationFragment","oDialogModelData","textArrangementSelectedKey","targetValue","targetUnit","deviationValue","deviationUnit","setData","expectedTrendValues","_updateTrendForCardHeader","expectedIndicatorValues","_updateSideIndicatorsForHeader","_setAdvancedFormattingOptionsEnablement","targetDeviation","createAndStoreGeneratedi18nKeysMock","jQueryAjaxSpy","addActionToCardManifestMock","actions","addedActions","annotationActions","action","isAddActionEnabled","isConfirmationRequired","complimentaryAction","titleKey","style","complimentaryActionKey","errorControls","keyParameters","appIntent","getCustomHeader","getContentMiddle","_entitySet","templateName","parentAppId","cardType","versions","ui5","getManifest","location","href","origin","onActionAddClick","enablePathKey","isStyleControlEnabled","mockComboBox","getMetadata","getName","mockInputListControl","findAggregatedObjects","onAddedActionDelete","onAddedActionStyleChange","okPressed","settings","JSON","parse","show","success","toHaveBeenCalledTimes","jqXHR","status","statusText","textStatus","errorThrown","error","errorMessage","expectedAddedAction","onAddedActionTitleChange","any","Object","focus","comboBox","template","suspended","itemsBinding","getBinding","getItems","length","isSuspended","loadActions","getValueState","expectedResult","_validateHeader","oEventMock","getPressed","setPressed","control","validateControl","cancelPressed","refresh","onDeleteClick","onAddClick","groupLimitReached","onGroupAddClick","deleteGroup","warning","onGroupDeleteClick","getPreviewItemsMock","onPropertySelection","selectedNavigationPropertiesContent","oDataV4","contentUrlPath","selectedContentNavigation","selectedHeaderNavigation","navProperty","updateContentNavigationSelection","entityUrlPath","updateHeaderNavigationSelection","DraftAdministrativeData","ProcessingStartDateTime","mockProperties","mockData","op_id_fc","Delete_mc","Update_mc","so_id","bp_id","currency_code","gross_amount","tax_amount","lifecycle_status","billing_status","delivery_status","to_Currency","Currency_Code","Currency_Code_Text","Decimals","addLabelsForProperties","name1","value1","value2","name2","handleFormatterUomAction","getParameters","selectedItem","textArrangementChanged","checkForNavigationProperty","expectedIsNavigationForDescription","expectedNavigationalPropertiesForDescription","expectedIsNavigationForId","expectedNavigationalPropertiesForId","isUoMEnabled","is_active","overall_status","created_at","selectedProperty","disableOrEnableUOMAndTrend","parent","enableAddMoreGroupItems","indexOfItem","onDrop","prop","setCriticalitySourceProperty","removeSplitterContentSpy","insertSplitterContentSpy","getSplitterContentSpy","mockToggleButton","setEnabled","dialog","contentAreas","prototype","toggleButton","toggleEvent","toggleAdvancedSetting","not","defaultIntegrationCard","adaptiveCardContainer","customIntegrationCard","setSelectedKey","setVisible","setWidth","setHeight","hosts","width","height","_setDefaultCardPreview","onPropertyFormatting","onFormatTypeSelection","valueState","Information","oData","valueStateText","navigationValueState","navigationValueStateText","isEdited","preventDefault","onBeforeDialogClosed"],"sources":["CardGeneratorDialogController.spec.ts"],"sourcesContent":["/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n *  * (c) Copyright 2009-2025 SAP SE. All rights reserved\n */\nimport Log from \"sap/base/Log\";\nimport {\n\tCardGeneratorDialogController,\n\tgetCriticality,\n\ttoggleOffAdvancedPanel\n} from \"sap/cards/ap/generator/app/CardGeneratorDialogController\";\nimport { addActionToCardManifest } from \"sap/cards/ap/generator/helpers/FooterActions\";\nimport { createAndStoreGeneratedi18nKeys } from \"sap/cards/ap/generator/helpers/I18nHelper\";\nimport { getCurrentCardManifest, getPreviewItems, renderCardPreview } from \"sap/cards/ap/generator/helpers/IntegrationCardHelper\";\nimport { transpileIntegrationCardToAdaptive } from \"sap/cards/ap/generator/helpers/Transpiler\";\nimport * as ODataUtils from \"sap/cards/ap/generator/odata/ODataUtils\";\nimport { Application } from \"sap/cards/ap/generator/pages/Application\";\nimport { ObjectPage } from \"sap/cards/ap/generator/pages/ObjectPage\";\nimport { NavigationalData } from \"sap/cards/ap/generator/types/PropertyTypes\";\nimport { getColorForGroup } from \"sap/cards/ap/generator/utils/CommonUtils\";\nimport ComboBox from \"sap/m/ComboBox\";\nimport MessageBox from \"sap/m/MessageBox\";\nimport MessageToast from \"sap/m/MessageToast\";\nimport ToggleButton from \"sap/m/ToggleButton\";\nimport VBox from \"sap/m/VBox\";\nimport Event from \"sap/ui/base/Event\";\nimport Control from \"sap/ui/core/Control\";\nimport CoreElement from \"sap/ui/core/Element\";\nimport Fragment from \"sap/ui/core/Fragment\";\nimport Item from \"sap/ui/core/Item\";\nimport UIComponent from \"sap/ui/core/UIComponent\";\nimport { ValueState } from \"sap/ui/core/library\";\nimport type Card from \"sap/ui/integration/widgets/Card\";\nimport Splitter from \"sap/ui/layout/Splitter\";\nimport JSONModel from \"sap/ui/model/json/JSONModel\";\nimport jQuery from \"sap/ui/thirdparty/jquery\";\n\ndeclare namespace sap {\n\texport namespace jest {\n\t\tfunction resolvePath(path: string): string;\n\t}\n}\n\njest.mock(sap.jest.resolvePath(\"sap/cards/ap/generator/helpers/IntegrationCardHelper\"), () => ({\n\tupdateCardGroups: jest.fn(),\n\tgetCurrentCardManifest: jest.fn(),\n\trenderCardPreview: jest.fn(),\n\tenhanceManifestWithInsights: jest.fn(),\n\tenhanceManifestWithConfigurationParameters: jest.fn(),\n\tgetPreviewItems: jest.fn()\n}));\n\njest.mock(sap.jest.resolvePath(\"sap/cards/ap/generator/helpers/Transpiler\"), () => {\n\treturn {\n\t\ttranspileIntegrationCardToAdaptive: jest.fn()\n\t};\n});\n\njest.mock(sap.jest.resolvePath(\"sap/cards/ap/generator/helpers/FooterActions\"), () => {\n\treturn {\n\t\taddActionToCardManifest: jest.fn(),\n\t\tremoveActionFromManifest: jest.fn(),\n\t\tupdateCardManifestAction: jest.fn(),\n\t\tresetCardActions: jest.fn()\n\t};\n});\n\njest.mock(sap.jest.resolvePath(\"sap/cards/ap/generator/helpers/I18nHelper\"), () => {\n\treturn {\n\t\t...jest.requireActual(sap.jest.resolvePath(\"sap/cards/ap/generator/helpers/I18nHelper\")),\n\t\tcreateAndStoreGeneratedi18nKeys: jest.fn()\n\t};\n});\n\nconst sId = \"testComponent\";\nconst oManifest = {\n\t\"sap.app\": {\n\t\tid: sId,\n\t\ttype: \"application\"\n\t}\n};\nconst Component = UIComponent.extend(\"component\", {\n\tmetadata: {\n\t\tmanifest: oManifest\n\t},\n\tcreateContent() {\n\t\treturn null;\n\t}\n});\n\nconst rootComponent = new Component(sId);\njest.spyOn(rootComponent, \"getModel\").mockImplementation(() => {\n\treturn {\n\t\tsServiceUrl: \"/sap/opu/odata\",\n\t\tisA: () => false,\n\t\tgetMetaModel: function () {\n\t\t\treturn {\n\t\t\t\tgetODataEntitySet: function () {\n\t\t\t\t\treturn {\n\t\t\t\t\t\tentityType: \"SD_SALESPLAN.C_SalesPlanTPType\"\n\t\t\t\t\t};\n\t\t\t\t},\n\t\t\t\tgetODataEntityType: function () {\n\t\t\t\t\treturn {\n\t\t\t\t\t\tkey: {\n\t\t\t\t\t\t\tpropertyRef: [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tname: \"node_key\"\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tname: \"IsActiveEntity\"\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t};\n\t\t},\n\t\tgetContext: () => {\n\t\t\treturn {\n\t\t\t\tgetObject: () => {\n\t\t\t\t\treturn {\n\t\t\t\t\t\tnode_key: \"12345\",\n\t\t\t\t\t\tIsActiveEntity: true\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t};\n});\n\ndescribe(\"update header for navigation property\", () => {\n\tlet getCurrentCardManifestMock = getCurrentCardManifest as jest.Mock;\n\tlet setPropertyMock: jest.Mock;\n\tlet windowSpy: jest.SpyInstance;\n\tlet coreElementGetElementByIdSpy: jest.SpyInstance;\n\n\tconst oDialogModel = new JSONModel({\n\t\tconfiguration: {\n\t\t\tproperties: [\n\t\t\t\t{\n\t\t\t\t\tname: \"net_amount\",\n\t\t\t\t\ttype: \"Edm.Int32\"\n\t\t\t\t}\n\t\t\t],\n\t\t\tadvancedFormattingOptions: {\n\t\t\t\tunitOfMeasures: [],\n\t\t\t\ttextArrangements: [],\n\t\t\t\tpropertyValueFormatters: []\n\t\t\t},\n\t\t\ttrendOptions: {\n\t\t\t\tsourceProperty: \"\"\n\t\t\t},\n\t\t\tindicatorsValue: {},\n\t\t\tselectedIndicatorOptions: [],\n\t\t\tmainIndicatorStatusKey: \"to_BillingStatus\",\n\t\t\tnavigationProperty: [\n\t\t\t\t{\n\t\t\t\t\tname: \"to_BillingStatus\",\n\t\t\t\t\tproperties: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tlabel: \"Lower Value\",\n\t\t\t\t\t\t\ttype: \"Edm.String\",\n\t\t\t\t\t\t\tname: \"Status\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tlabel: \"Confirmation\",\n\t\t\t\t\t\t\ttype: \"Edm.String\",\n\t\t\t\t\t\t\tname: \"Status_Text\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t],\n\t\t\tselectedNavigationProperties: {\n\t\t\t\tname: \"to_BillingStatus\",\n\t\t\t\tvalue: [\n\t\t\t\t\t{\n\t\t\t\t\t\tlabel: \"Lower Value\",\n\t\t\t\t\t\ttype: \"Edm.String\",\n\t\t\t\t\t\tname: \"Status\"\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tlabel: \"Confirmation\",\n\t\t\t\t\t\ttype: \"Edm.String\",\n\t\t\t\t\t\tname: \"Status_Text\"\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t},\n\t\t\t$data: {\n\t\t\t\tnet_amount: 6938.0\n\t\t\t}\n\t\t}\n\t});\n\tconst getResourceBundleMock = jest.fn().mockReturnValue({\n\t\tgetResourceBundle: jest.fn().mockReturnValue({\n\t\t\tgetText: jest.fn().mockImplementation((key) => {\n\t\t\t\tif (key === \"GENERATOR_MAIN_INDICATOR\") return \"Main Indicator\";\n\t\t\t\tif (key === \"GENERIC_ERR_MSG\") return \"Error occurred for Main Indicator\";\n\t\t\t})\n\t\t})\n\t});\n\n\tgetCurrentCardManifestMock.mockReturnValue({\n\t\t_version: \"1.15.0\",\n\t\t\"sap.app\": {\n\t\t\tid: \"objectCard\",\n\t\t\ttype: \"card\",\n\t\t\ttitle: \"Card Title\",\n\t\t\tapplicationVersion: {\n\t\t\t\tversion: \"1.0.0\"\n\t\t\t}\n\t\t},\n\t\t\"sap.ui\": {},\n\t\t\"sap.card\": {\n\t\t\ttype: \"Object\",\n\t\t\tconfiguration: {\n\t\t\t\tparameters: {\n\t\t\t\t\tcontextParameters: {\n\t\t\t\t\t\ttype: \"string\",\n\t\t\t\t\t\tvalue: \"node_key=guid'fa163ee4-7bdd-1ee8-b1ff-d3c5a4e5236a',IsActiveEntity=true\"\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\theader: {\n\t\t\t\ttitle: \"{sales_order_id}\"\n\t\t\t},\n\t\t\tdata: {\n\t\t\t\trequest: {\n\t\t\t\t\tbatch: {\n\t\t\t\t\t\theader: {\n\t\t\t\t\t\t\turl: \"C_STTA_SalesOrder_WD_20({{parameters.contextParameters}})\"\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t});\n\tconst oDialog = {\n\t\tgetModel: (type?: string) => {\n\t\t\tif (type && type === \"i18n\") {\n\t\t\t\treturn getResourceBundleMock();\n\t\t\t} else {\n\t\t\t\treturn oDialogModel;\n\t\t\t}\n\t\t},\n\t\topen: jest.fn(),\n\t\tsetModel: jest.fn(),\n\t\tclose: jest.fn()\n\t};\n\n\tbeforeAll(() => {\n\t\tcoreElementGetElementByIdSpy = jest.spyOn(CoreElement, \"getElementById\");\n\t\tgetCurrentCardManifestMock = getCurrentCardManifest as jest.Mock;\n\t\tsetPropertyMock = jest.fn();\n\t\twindowSpy = jest.spyOn(window, \"window\", \"get\");\n\t\twindowSpy.mockImplementation(() => ({\n\t\t\thasher: {\n\t\t\t\tgetHash: () => \"test-intent&/testEntity(12345)\"\n\t\t\t}\n\t\t}));\n\t\tObjectPage.createInstance(rootComponent);\n\n\t\toDialogModel.setProperty = setPropertyMock;\n\t\tCardGeneratorDialogController.initialize();\n\t\tcoreElementGetElementByIdSpy.mockImplementation((id) => {\n\t\t\tif (id === \"cardGeneratorDialog--cardGeneratorDialog\") {\n\t\t\t\treturn oDialog;\n\t\t\t}\n\t\t});\n\t});\n\n\tafterAll(() => {\n\t\twindowSpy.mockRestore();\n\t\tApplication.getInstance()._resetInstance();\n\t\tjest.clearAllMocks();\n\t\tcoreElementGetElementByIdSpy.mockRestore();\n\t});\n\n\ttest(\"UpdateCardHeader - navigational property\", async () => {\n\t\tconst setValueStateMock = jest.fn();\n\t\tconst oEvent = {\n\t\t\tgetSource: jest.fn().mockReturnValue({\n\t\t\t\tgetSelectedKey: jest.fn().mockReturnValue(\"to_BillingStatus\"),\n\t\t\t\tsetValueState: setValueStateMock,\n\t\t\t\tgetValue: jest.fn().mockReturnValue(\"to_BillingStatus)\")\n\t\t\t}),\n\t\t\tgetParameter: jest.fn().mockReturnValue({ newValue: \"to_BillingStatus\" })\n\t\t};\n\t\tconst data = {\n\t\t\tnode_key: \"12345\",\n\t\t\tIsActiveEntity: true,\n\t\t\tto_BillingStatus: {\n\t\t\t\tStatus: \"\",\n\t\t\t\tStatus_Text: \"Initial\",\n\t\t\t\ttest: \"123\"\n\t\t\t}\n\t\t};\n\t\tjest.spyOn(ODataUtils, \"fetchDataAsync\").mockImplementation(() => Promise.resolve(data));\n\n\t\tgetCurrentCardManifestMock.mockReturnValue({\n\t\t\t_version: \"1.15.0\",\n\t\t\t\"sap.app\": {\n\t\t\t\tid: \"objectCard\",\n\t\t\t\ttype: \"card\",\n\t\t\t\ttitle: \"Card Title\",\n\t\t\t\tapplicationVersion: {\n\t\t\t\t\tversion: \"1.0.0\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t\"sap.ui\": {},\n\t\t\t\"sap.card\": {\n\t\t\t\ttype: \"Object\",\n\t\t\t\theader: {\n\t\t\t\t\ttitle: \"{sales_order_id}\"\n\t\t\t\t},\n\t\t\t\tdata: {\n\t\t\t\t\trequest: {\n\t\t\t\t\t\tbatch: {\n\t\t\t\t\t\t\theader: {\n\t\t\t\t\t\t\t\turl: \"C_STTA_SalesOrder_WD_20({{parameters.contextParameters}})\"\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tawait CardGeneratorDialogController.onStateIndicatorSelection(oEvent);\n\t\tlet count = 1;\n\n\t\texpect(setPropertyMock).toHaveBeenNthCalledWith(count++, \"/configuration/selectedNavigationalProperties\", [\n\t\t\t{\n\t\t\t\tname: \"to_BillingStatus\",\n\t\t\t\tvalue: [\n\t\t\t\t\t{ label: \"Lower Value\", labelWithValue: \"Lower Value (<empty>)\", name: \"Status\", type: \"Edm.String\" },\n\t\t\t\t\t{ label: \"Confirmation\", labelWithValue: \"Confirmation (Initial)\", name: \"Status_Text\", type: \"Edm.String\" }\n\t\t\t\t]\n\t\t\t}\n\t\t]);\n\t\texpect(setPropertyMock).toHaveBeenNthCalledWith(count++, \"/configuration/selectedNavigationPropertyHeader\", {\n\t\t\tname: \"to_BillingStatus\",\n\t\t\tvalue: [\n\t\t\t\t{ label: \"Lower Value\", labelWithValue: \"Lower Value (<empty>)\", name: \"Status\", type: \"Edm.String\" },\n\t\t\t\t{ label: \"Confirmation\", labelWithValue: \"Confirmation (Initial)\", name: \"Status_Text\", type: \"Edm.String\" }\n\t\t\t]\n\t\t});\n\t\texpect(setPropertyMock).toHaveBeenNthCalledWith(count++, \"/configuration/$data\", {\n\t\t\tnet_amount: 6938,\n\t\t\tto_BillingStatus: { Status: \"\", Status_Text: \"Initial\", test: \"123\" }\n\t\t});\n\t\texpect(setPropertyMock).toHaveBeenNthCalledWith(count++, \"/configuration/mainIndicatorNavigationSelectedValue\", \"\");\n\t\texpect(setPropertyMock).toHaveBeenNthCalledWith(count++, \"/configuration/mainIndicatorStatusKeyInitial\", {\n\t\t\tnewValue: \"to_BillingStatus\"\n\t\t});\n\t\texpect(setPropertyMock).toHaveBeenNthCalledWith(count++, \"/configuration/mainIndicatorNavigationSelectedKey\", \"\");\n\t\texpect(setPropertyMock).toHaveBeenNthCalledWith(count++, \"/configuration/mainIndicatorStatusKey\", \"to_BillingStatus\");\n\t\texpect(setPropertyMock).toHaveBeenNthCalledWith(count++, \"/configuration/advancedFormattingOptions/isFormatterEnabled\", false);\n\t\texpect(setPropertyMock).toHaveBeenNthCalledWith(\n\t\t\tcount++,\n\t\t\t\"/configuration/advancedFormattingOptions/textArrangementSourceProperty\",\n\t\t\t\"{to_BillingStatus}\"\n\t\t);\n\t\texpect(setPropertyMock).toHaveBeenNthCalledWith(\n\t\t\tcount++,\n\t\t\t\"/configuration/advancedFormattingOptions/textArrangementSelectedKey\",\n\t\t\t\"to_BillingStatus\"\n\t\t);\n\t\texpect(setPropertyMock).toHaveBeenNthCalledWith(count++, \"/configuration/trendOptions\", {});\n\t\texpect(setPropertyMock).toHaveBeenNthCalledWith(count++, \"/configuration/indicatorsValue\", {});\n\t\texpect(setPropertyMock).toHaveBeenNthCalledWith(count++, \"/configuration/trendOptions/sourceProperty\", \"to_BillingStatus\");\n\t\texpect(setPropertyMock).toHaveBeenNthCalledWith(count++, \"/configuration/indicatorsValue/sourceProperty\", \"to_BillingStatus\");\n\t\texpect(setPropertyMock).toHaveBeenNthCalledWith(count++, \"/configuration/navigationValue\", \"\");\n\t\texpect(setPropertyMock).toHaveBeenNthCalledWith(\n\t\t\tcount++,\n\t\t\t\"/configuration/advancedFormattingOptions/sourceProperty\",\n\t\t\t\"to_BillingStatus\"\n\t\t);\n\t\texpect(setValueStateMock).toHaveBeenCalledWith(ValueState.None);\n\t});\n});\n\ndescribe(\"Update header, title, subtitle, uom, KPI value\", () => {\n\tlet renderCardPreviewMock: jest.Mock;\n\t// let getCurrentCardManifestMock: jest.Mock;\n\tlet getCurrentCardManifestMock = getCurrentCardManifest as jest.Mock;\n\tlet setPropertyMock: jest.Mock;\n\tlet coreElementGetElementByIdSpy: jest.SpyInstance;\n\n\tconst oDialogModel = new JSONModel({\n\t\tconfiguration: {\n\t\t\tproperties: [\n\t\t\t\t{\n\t\t\t\t\tname: \"net_amount\",\n\t\t\t\t\ttype: \"Edm.Int32\"\n\t\t\t\t}\n\t\t\t],\n\t\t\tadvancedFormattingOptions: {\n\t\t\t\tunitOfMeasures: [],\n\t\t\t\ttextArrangements: [],\n\t\t\t\tpropertyValueFormatters: []\n\t\t\t},\n\t\t\ttrendOptions: {\n\t\t\t\tsourceProperty: \"\"\n\t\t\t},\n\t\t\tindicatorsValue: {},\n\t\t\tselectedIndicatorOptions: [],\n\t\t\tmainIndicatorStatusKey: \"to_BillingStatus\",\n\t\t\tnavigationProperty: [],\n\t\t\tselectedNavigationProperties: {\n\t\t\t\tname: \"\",\n\t\t\t\tvalue: []\n\t\t\t}\n\t\t}\n\t});\n\tconst getResourceBundleMock = jest.fn().mockReturnValue({\n\t\tgetResourceBundle: jest.fn().mockReturnValue({\n\t\t\tgetText: jest.fn().mockImplementation((key) => {\n\t\t\t\tif (key === \"GENERATOR_MAIN_INDICATOR\") return \"Main Indicator\";\n\t\t\t\tif (key === \"GENERIC_ERR_MSG\") return \"Error occurred for Main Indicator\";\n\t\t\t})\n\t\t})\n\t});\n\n\tconst oDialog = {\n\t\tgetModel: (type?: string) => {\n\t\t\tif (type && type === \"i18n\") {\n\t\t\t\treturn getResourceBundleMock();\n\t\t\t} else {\n\t\t\t\treturn oDialogModel;\n\t\t\t}\n\t\t},\n\t\topen: jest.fn(),\n\t\tsetModel: jest.fn(),\n\t\tclose: jest.fn()\n\t};\n\n\tconst manifestWhenThereIsNoMainIndicatorValue = {\n\t\t_version: \"1.15.0\",\n\t\t\"sap.app\": {\n\t\t\tid: \"objectCard\",\n\t\t\ttype: \"card\",\n\t\t\ttitle: \"Card Title\",\n\t\t\tapplicationVersion: {\n\t\t\t\tversion: \"1.0.0\"\n\t\t\t}\n\t\t},\n\t\t\"sap.ui\": {},\n\t\t\"sap.card\": {\n\t\t\ttype: \"Object\",\n\t\t\theader: {\n\t\t\t\ttitle: \"{sales_order_id}\"\n\t\t\t}\n\t\t}\n\t};\n\n\tbeforeAll(() => {\n\t\tcoreElementGetElementByIdSpy = jest.spyOn(CoreElement, \"getElementById\");\n\t\tcoreElementGetElementByIdSpy.mockImplementation((id) => {\n\t\t\tif (id === \"cardGeneratorDialog--cardGeneratorDialog\") {\n\t\t\t\treturn oDialog;\n\t\t\t}\n\t\t});\n\t});\n\n\tafterAll(() => {\n\t\tcoreElementGetElementByIdSpy.mockRestore();\n\t});\n\n\tbeforeEach(() => {\n\t\trenderCardPreviewMock = renderCardPreview as jest.Mock;\n\t\tgetCurrentCardManifestMock = getCurrentCardManifest as jest.Mock;\n\t\tsetPropertyMock = jest.fn();\n\t\toDialogModel.setProperty = setPropertyMock;\n\t\tCardGeneratorDialogController.initialize();\n\t\tgetCurrentCardManifestMock.mockReturnValue({\n\t\t\t_version: \"1.15.0\",\n\t\t\t\"sap.app\": {\n\t\t\t\tid: \"objectCard\",\n\t\t\t\ttype: \"card\",\n\t\t\t\ttitle: \"Card Title\",\n\t\t\t\tapplicationVersion: {\n\t\t\t\t\tversion: \"1.0.0\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t\"sap.ui\": {},\n\t\t\t\"sap.card\": {\n\t\t\t\ttype: \"Object\",\n\t\t\t\theader: {\n\t\t\t\t\ttitle: \"{sales_order_id}\"\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t});\n\n\tafterEach(() => {\n\t\tjest.clearAllMocks();\n\t});\n\n\ttest(\"UpdateCardHeader - card title\", () => {\n\t\tconst setValueStateMock = jest.fn();\n\t\tconst oEvent = {\n\t\t\tgetSource: jest.fn().mockReturnValue({\n\t\t\t\tgetSelectedKey: jest.fn().mockReturnValue(\"sales_order_id\"),\n\t\t\t\tsetValueState: setValueStateMock\n\t\t\t}),\n\t\t\tgetParameter: jest.fn().mockReturnValue({ newValue: \"sales_order_id\" })\n\t\t};\n\t\tconst expectedManifest = {\n\t\t\t_version: \"1.15.0\",\n\t\t\t\"sap.app\": {\n\t\t\t\tid: \"objectCard\",\n\t\t\t\ttype: \"card\",\n\t\t\t\ttitle: \"Card Title\",\n\t\t\t\tapplicationVersion: {\n\t\t\t\t\tversion: \"1.0.0\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t\"sap.ui\": {},\n\t\t\t\"sap.card\": {\n\t\t\t\ttype: \"Object\",\n\t\t\t\theader: {\n\t\t\t\t\ttitle: \"{sales_order_id}\"\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\tgetCurrentCardManifestMock.mockReturnValue({\n\t\t\t_version: \"1.15.0\",\n\t\t\t\"sap.app\": {\n\t\t\t\tid: \"objectCard\",\n\t\t\t\ttype: \"card\",\n\t\t\t\ttitle: \"Card Title\",\n\t\t\t\tapplicationVersion: {\n\t\t\t\t\tversion: \"1.0.0\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t\"sap.ui\": {},\n\t\t\t\"sap.card\": {\n\t\t\t\ttype: \"Object\"\n\t\t\t}\n\t\t});\n\n\t\tCardGeneratorDialogController.onTitleSelection(oEvent);\n\n\t\texpect(renderCardPreviewMock).toHaveBeenCalledWith(expectedManifest, oDialogModel);\n\t\texpect(setValueStateMock).toHaveBeenCalledWith(ValueState.None);\n\t\texpect(setPropertyMock).toHaveBeenNthCalledWith(1, \"/configuration/advancedFormattingOptions/sourceProperty\", \"sales_order_id\");\n\t});\n\n\ttest(\"UpdateCardHeader - card subtitle\", () => {\n\t\tconst setValueStateMock = jest.fn();\n\t\tconst oEvent = {\n\t\t\tgetSource: jest.fn().mockReturnValue({\n\t\t\t\tgetSelectedKey: jest.fn().mockReturnValue(\"description\"),\n\t\t\t\tsetValueState: setValueStateMock\n\t\t\t}),\n\t\t\tgetParameter: jest.fn().mockReturnValue({ newValue: \"description\" })\n\t\t};\n\n\t\tconst expectedManifest = {\n\t\t\t_version: \"1.15.0\",\n\t\t\t\"sap.app\": {\n\t\t\t\tid: \"objectCard\",\n\t\t\t\ttype: \"card\",\n\t\t\t\ttitle: \"Card Title\",\n\t\t\t\tapplicationVersion: {\n\t\t\t\t\tversion: \"1.0.0\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t\"sap.ui\": {},\n\t\t\t\"sap.card\": {\n\t\t\t\ttype: \"Object\",\n\t\t\t\theader: {\n\t\t\t\t\ttitle: \"{sales_order_id}\",\n\t\t\t\t\tsubTitle: \"{description}\"\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tCardGeneratorDialogController.onSubTitleSelection(oEvent);\n\n\t\texpect(renderCardPreviewMock).toHaveBeenCalledWith(expectedManifest, oDialogModel);\n\t\texpect(setValueStateMock).toHaveBeenCalledWith(ValueState.None);\n\t\texpect(setPropertyMock).toHaveBeenNthCalledWith(1, \"/configuration/advancedFormattingOptions/sourceProperty\", \"description\");\n\t});\n\n\ttest(\"UpdateCardHeader - card UOM\", () => {\n\t\tconst setValueStateMock = jest.fn();\n\t\tconst oEvent = {\n\t\t\tgetSource: jest.fn().mockReturnValue({\n\t\t\t\tgetSelectedKey: jest.fn().mockReturnValue(\"currency_code\"),\n\t\t\t\tsetValueState: setValueStateMock\n\t\t\t}),\n\t\t\tgetParameter: jest.fn().mockReturnValue({ newValue: \"currency_code\" })\n\t\t};\n\t\tconst expectedManifest = {\n\t\t\t_version: \"1.15.0\",\n\t\t\t\"sap.app\": {\n\t\t\t\tid: \"objectCard\",\n\t\t\t\ttype: \"card\",\n\t\t\t\ttitle: \"Card Title\",\n\t\t\t\tapplicationVersion: {\n\t\t\t\t\tversion: \"1.0.0\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t\"sap.ui\": {},\n\t\t\t\"sap.card\": {\n\t\t\t\ttype: \"Object\",\n\t\t\t\theader: {\n\t\t\t\t\ttitle: \"{sales_order_id}\",\n\t\t\t\t\tunitOfMeasurement: \"{currency_code}\"\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tCardGeneratorDialogController.onHeaderUOMSelection(oEvent);\n\n\t\texpect(renderCardPreviewMock).toHaveBeenCalledWith(expectedManifest, oDialogModel);\n\t\texpect(setValueStateMock).toHaveBeenCalledWith(ValueState.None);\n\t\texpect(setPropertyMock).toHaveBeenNthCalledWith(1, \"/configuration/advancedFormattingOptions/sourceProperty\", \"currency_code\");\n\t});\n\n\ttest(\"UpdateCardHeader - card KPI\", async () => {\n\t\tconst setValueStateMock = jest.fn();\n\t\tconst oEvent = {\n\t\t\tgetSource: jest.fn().mockReturnValue({\n\t\t\t\tgetSelectedKey: jest.fn().mockReturnValue(\"net_amount\"),\n\t\t\t\tsetValueState: setValueStateMock,\n\t\t\t\tgetValue: jest.fn().mockReturnValue(\"Net Amount (6938.00)\")\n\t\t\t}),\n\t\t\tgetParameter: jest.fn().mockReturnValue({ newValue: \"net_amount\" })\n\t\t};\n\n\t\tconst expectedManifest = {\n\t\t\t_version: \"1.15.0\",\n\t\t\t\"sap.app\": {\n\t\t\t\tid: \"objectCard\",\n\t\t\t\ttype: \"card\",\n\t\t\t\ttitle: \"Card Title\",\n\t\t\t\tapplicationVersion: {\n\t\t\t\t\tversion: \"1.0.0\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t\"sap.ui\": {},\n\t\t\t\"sap.card\": {\n\t\t\t\ttype: \"Object\",\n\t\t\t\theader: {\n\t\t\t\t\ttitle: \"{sales_order_id}\",\n\t\t\t\t\tmainIndicator: {\n\t\t\t\t\t\tstate: \"None\",\n\t\t\t\t\t\tnumber: \"{net_amount}\",\n\t\t\t\t\t\ttrend: \"None\"\n\t\t\t\t\t},\n\t\t\t\t\tsideIndicators: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tnumber: \"\",\n\t\t\t\t\t\t\ttitle: \"\",\n\t\t\t\t\t\t\tunit: \"\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tnumber: \"\",\n\t\t\t\t\t\t\ttitle: \"\",\n\t\t\t\t\t\t\tunit: \"\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tawait CardGeneratorDialogController.onStateIndicatorSelection(oEvent);\n\t\tlet count = 1;\n\n\t\texpect(setPropertyMock).toHaveBeenNthCalledWith(count++, \"/configuration/selectedNavigationalProperties\", []);\n\t\texpect(setPropertyMock).toHaveBeenNthCalledWith(count++, \"/configuration/selectedNavigationPropertyHeader\", {\n\t\t\tname: \"\",\n\t\t\tvalue: []\n\t\t});\n\t\texpect(setPropertyMock).toHaveBeenNthCalledWith(count++, \"/configuration/mainIndicatorNavigationSelectedValue\", \"\");\n\t\t//expect(setPropertyMock).toHaveBeenNthCalledWith(count++, \"/configuration/mainIndicatorNavigationSelectedValue\", \"\");\n\t\texpect(setPropertyMock).toHaveBeenNthCalledWith(count++, \"/configuration/mainIndicatorStatusKeyInitial\", {\n\t\t\tnewValue: \"net_amount\"\n\t\t});\n\t\texpect(setPropertyMock).toHaveBeenNthCalledWith(count++, \"/configuration/mainIndicatorNavigationSelectedKey\", \"\");\n\t\texpect(setPropertyMock).toHaveBeenNthCalledWith(count++, \"/configuration/mainIndicatorStatusKey\", \"net_amount\");\n\t\texpect(setPropertyMock).toHaveBeenNthCalledWith(count++, \"/configuration/advancedFormattingOptions/isFormatterEnabled\", true);\n\t\texpect(setPropertyMock).toHaveBeenNthCalledWith(\n\t\t\tcount++,\n\t\t\t\"/configuration/advancedFormattingOptions/textArrangementSourceProperty\",\n\t\t\t\"{net_amount}\"\n\t\t);\n\t\texpect(setPropertyMock).toHaveBeenNthCalledWith(\n\t\t\tcount++,\n\t\t\t\"/configuration/advancedFormattingOptions/textArrangementSelectedKey\",\n\t\t\t\"net_amount\"\n\t\t);\n\t\texpect(setPropertyMock).toHaveBeenNthCalledWith(count++, \"/configuration/trendOptions\", {});\n\t\texpect(setPropertyMock).toHaveBeenNthCalledWith(count++, \"/configuration/indicatorsValue\", {});\n\t\texpect(setPropertyMock).toHaveBeenNthCalledWith(count++, \"/configuration/trendOptions/sourceProperty\", \"net_amount\");\n\t\texpect(setPropertyMock).toHaveBeenNthCalledWith(count++, \"/configuration/indicatorsValue/sourceProperty\", \"net_amount\");\n\t\texpect(renderCardPreviewMock).toHaveBeenCalledWith(expectedManifest, oDialogModel);\n\t\texpect(setValueStateMock).toHaveBeenCalledWith(ValueState.None);\n\n\t\t//validate header does not have main indicator or side indicator when main indicator value is not provided\n\t\tconst setValueStateTextMock = jest.fn();\n\t\tconst event = {\n\t\t\tgetSource: jest.fn().mockReturnValue({\n\t\t\t\tgetSelectedKey: jest.fn().mockReturnValue(\"\"),\n\t\t\t\tsetValueState: setValueStateMock,\n\t\t\t\tsetValueStateText: setValueStateTextMock,\n\t\t\t\tgetValue: jest.fn().mockReturnValue(\"\")\n\t\t\t}),\n\t\t\tgetParameter: jest.fn().mockReturnValue({ newValue: \"\" })\n\t\t};\n\n\t\tawait CardGeneratorDialogController.onStateIndicatorSelection(event);\n\t\texpect(renderCardPreview).toHaveBeenCalledWith(manifestWhenThereIsNoMainIndicatorValue, oDialogModel);\n\t});\n\n\ttest(\"sets value state to none - when selected key and value exists\", async () => {\n\t\tconst setValueStateMock = jest.fn();\n\t\tconst setValueStateTextMock = jest.fn();\n\n\t\tconst oEvent = {\n\t\t\tgetSource: jest.fn().mockReturnValue({\n\t\t\t\tgetSelectedKey: jest.fn().mockReturnValue(\"net_amount\"),\n\t\t\t\tsetValueState: setValueStateMock,\n\t\t\t\tsetValueStateText: setValueStateTextMock,\n\t\t\t\tgetValue: jest.fn().mockReturnValue(\"Net Amount (6938.00)\")\n\t\t\t}),\n\t\t\tgetParameter: jest.fn().mockReturnValue({ newValue: \"net_amount\" })\n\t\t};\n\n\t\tawait CardGeneratorDialogController.onStateIndicatorSelection(oEvent);\n\t\tlet count = 1;\n\n\t\texpect(setPropertyMock).toHaveBeenNthCalledWith(count++, \"/configuration/selectedNavigationalProperties\", []);\n\t\texpect(setPropertyMock).toHaveBeenNthCalledWith(count++, \"/configuration/selectedNavigationPropertyHeader\", {\n\t\t\tname: \"\",\n\t\t\tvalue: []\n\t\t});\n\t\texpect(setPropertyMock).toHaveBeenNthCalledWith(count++, \"/configuration/mainIndicatorNavigationSelectedValue\", \"\");\n\t\texpect(setPropertyMock).toHaveBeenNthCalledWith(count++, \"/configuration/mainIndicatorStatusKeyInitial\", {\n\t\t\tnewValue: \"net_amount\"\n\t\t});\n\t\texpect(setPropertyMock).toHaveBeenNthCalledWith(count++, \"/configuration/mainIndicatorNavigationSelectedKey\", \"\");\n\t\texpect(setPropertyMock).toHaveBeenNthCalledWith(count++, \"/configuration/mainIndicatorStatusKey\", \"net_amount\");\n\t\texpect(setPropertyMock).toHaveBeenNthCalledWith(count++, \"/configuration/advancedFormattingOptions/isFormatterEnabled\", true);\n\t\texpect(setPropertyMock).toHaveBeenNthCalledWith(\n\t\t\tcount++,\n\t\t\t\"/configuration/advancedFormattingOptions/textArrangementSourceProperty\",\n\t\t\t\"{net_amount}\"\n\t\t);\n\t\texpect(setPropertyMock).toHaveBeenNthCalledWith(\n\t\t\tcount++,\n\t\t\t\"/configuration/advancedFormattingOptions/textArrangementSelectedKey\",\n\t\t\t\"net_amount\"\n\t\t);\n\t\texpect(setPropertyMock).toHaveBeenNthCalledWith(count++, \"/configuration/trendOptions\", {});\n\t\texpect(setPropertyMock).toHaveBeenNthCalledWith(count++, \"/configuration/indicatorsValue\", {});\n\t\texpect(setPropertyMock).toHaveBeenNthCalledWith(count++, \"/configuration/trendOptions/sourceProperty\", \"net_amount\");\n\t\texpect(setPropertyMock).toHaveBeenNthCalledWith(count++, \"/configuration/indicatorsValue/sourceProperty\", \"net_amount\");\n\t\texpect(setPropertyMock).toHaveBeenNthCalledWith(count++, \"/configuration/navigationValue\", \"\");\n\t\texpect(setPropertyMock).toHaveBeenNthCalledWith(count++, \"/configuration/advancedFormattingOptions/sourceProperty\", \"net_amount\");\n\t\texpect(setValueStateMock).toHaveBeenCalledWith(ValueState.None);\n\n\t\t//validate header does not have main indicator or side indicator when main indicator value is not provided\n\t\tconst event = {\n\t\t\tgetSource: jest.fn().mockReturnValue({\n\t\t\t\tgetSelectedKey: jest.fn().mockReturnValue(\"\"),\n\t\t\t\tsetValueState: setValueStateMock,\n\t\t\t\tsetValueStateText: setValueStateTextMock,\n\t\t\t\tgetValue: jest.fn().mockReturnValue(\"\")\n\t\t\t}),\n\t\t\tgetParameter: jest.fn().mockReturnValue({ newValue: \"\" })\n\t\t};\n\t\tawait CardGeneratorDialogController.onStateIndicatorSelection(event);\n\t\texpect(renderCardPreview).toHaveBeenCalledWith(manifestWhenThereIsNoMainIndicatorValue, oDialogModel);\n\t});\n\ttest(\"sets error state and state indicator text when no selected key but value exists\", async () => {\n\t\tconst setValueStateMock = jest.fn();\n\t\tconst setValueStateTextMock = jest.fn();\n\n\t\tconst oEvent = {\n\t\t\tgetSource: jest.fn().mockReturnValue({\n\t\t\t\tgetSelectedKey: jest.fn().mockReturnValue(\"\"),\n\t\t\t\tsetValueState: setValueStateMock,\n\t\t\t\tsetValueStateText: setValueStateTextMock,\n\t\t\t\tgetValue: jest.fn().mockReturnValue(\"Net Amount (6938.00)\")\n\t\t\t}),\n\t\t\tgetParameter: jest.fn().mockReturnValue(\"net_amount\")\n\t\t};\n\n\t\tawait CardGeneratorDialogController.onStateIndicatorSelection(oEvent);\n\t\tlet count = 1;\n\n\t\texpect(setPropertyMock).toHaveBeenNthCalledWith(count++, \"/configuration/selectedNavigationalProperties\", []);\n\t\texpect(setPropertyMock).toHaveBeenNthCalledWith(count++, \"/configuration/selectedNavigationPropertyHeader\", {\n\t\t\tname: \"\",\n\t\t\tvalue: []\n\t\t});\n\t\t// expect(setPropertyMock).toHaveBeenNthCalledWith(count++,\"/configuration/mainIndicatorNavigationSelectedValue\", \"\");\n\t\texpect(setPropertyMock).toHaveBeenNthCalledWith(count++, \"/configuration/mainIndicatorNavigationSelectedValue\", \"\");\n\t\texpect(setPropertyMock).toHaveBeenNthCalledWith(count++, \"/configuration/mainIndicatorStatusKeyInitial\", \"net_amount\");\n\t\texpect(setPropertyMock).toHaveBeenNthCalledWith(count++, \"/configuration/mainIndicatorNavigationSelectedKey\", \"\");\n\t\texpect(setPropertyMock).toHaveBeenNthCalledWith(count++, \"/configuration/mainIndicatorStatusKey\", \"\");\n\t\texpect(setPropertyMock).toHaveBeenNthCalledWith(count++, \"/configuration/advancedFormattingOptions/isFormatterEnabled\", false);\n\t\texpect(setPropertyMock).toHaveBeenNthCalledWith(\n\t\t\tcount++,\n\t\t\t\"/configuration/advancedFormattingOptions/textArrangementSourceProperty\",\n\t\t\t\"net_amount\"\n\t\t);\n\t\texpect(setPropertyMock).toHaveBeenNthCalledWith(count++, \"/configuration/advancedFormattingOptions/textArrangementSelectedKey\", \"\");\n\t\texpect(setPropertyMock).toHaveBeenNthCalledWith(count++, \"/configuration/trendOptions/sourceProperty\", \"\");\n\t\texpect(setPropertyMock).toHaveBeenNthCalledWith(count++, \"/configuration/indicatorsValue/sourceProperty\", \"\");\n\t\texpect(setPropertyMock).toHaveBeenNthCalledWith(count++, \"/configuration/navigationValue\", \"\");\n\t\texpect(setPropertyMock).toHaveBeenNthCalledWith(count++, \"/configuration/advancedFormattingOptions/sourceProperty\", \"\");\n\t\texpect(setValueStateMock).toHaveBeenCalledWith(ValueState.Error);\n\t\texpect(setValueStateTextMock).toHaveBeenCalledWith(\"Error occurred for Main Indicator\");\n\t\t//validate header does not have main indicator or side indicator when there is no selected key for main indicator but value exists\n\t\tawait CardGeneratorDialogController.onStateIndicatorSelection(oEvent);\n\t\texpect(renderCardPreview).toHaveBeenCalledWith(manifestWhenThereIsNoMainIndicatorValue, oDialogModel);\n\t});\n\n\ttest(\"updateTrendForCardHeader - trend \", async () => {\n\t\tconst setValueStateMock = jest.fn();\n\t\tconst oEvent = {\n\t\t\tgetSource: jest.fn().mockReturnValue({\n\t\t\t\tgetSelectedKey: jest.fn().mockReturnValue(\"net_amount\"),\n\t\t\t\tsetValueState: setValueStateMock,\n\t\t\t\tgetValue: jest.fn().mockReturnValue(\"Net Amount (6938.00)\")\n\t\t\t}),\n\t\t\tgetParameter: jest.fn().mockReturnValue({ newValue: \"net_amount\" })\n\t\t};\n\t\tgetCurrentCardManifestMock.mockReturnValue({\n\t\t\t_version: \"1.15.0\",\n\t\t\t\"sap.app\": {\n\t\t\t\tid: \"objectCard\",\n\t\t\t\ttype: \"card\",\n\t\t\t\ttitle: \"Card Title\",\n\t\t\t\tapplicationVersion: {\n\t\t\t\t\tversion: \"1.0.0\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t\"sap.ui\": {},\n\t\t\t\"sap.card\": {\n\t\t\t\ttype: \"Object\",\n\t\t\t\theader: {\n\t\t\t\t\ttitle: \"{sales_order_id}\"\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\tconst expectedManifest = {\n\t\t\t_version: \"1.15.0\",\n\t\t\t\"sap.app\": {\n\t\t\t\tid: \"objectCard\",\n\t\t\t\ttype: \"card\",\n\t\t\t\ttitle: \"Card Title\",\n\t\t\t\tapplicationVersion: {\n\t\t\t\t\tversion: \"1.0.0\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t\"sap.ui\": {},\n\t\t\t\"sap.card\": {\n\t\t\t\ttype: \"Object\",\n\t\t\t\theader: {\n\t\t\t\t\ttitle: \"{sales_order_id}\",\n\t\t\t\t\tmainIndicator: {\n\t\t\t\t\t\tstate: \"None\",\n\t\t\t\t\t\tnumber: \"{net_amount}\",\n\t\t\t\t\t\ttrend: \"None\"\n\t\t\t\t\t},\n\t\t\t\t\tsideIndicators: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tnumber: \"\",\n\t\t\t\t\t\t\ttitle: \"\",\n\t\t\t\t\t\t\tunit: \"\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tnumber: \"\",\n\t\t\t\t\t\t\ttitle: \"\",\n\t\t\t\t\t\t\tunit: \"\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tawait CardGeneratorDialogController.onStateIndicatorSelection(oEvent);\n\t\tlet count = 1;\n\n\t\texpect(setPropertyMock).toHaveBeenNthCalledWith(count++, \"/configuration/selectedNavigationalProperties\", []);\n\t\texpect(setPropertyMock).toHaveBeenNthCalledWith(count++, \"/configuration/selectedNavigationPropertyHeader\", {\n\t\t\tname: \"\",\n\t\t\tvalue: []\n\t\t});\n\t\texpect(setPropertyMock).toHaveBeenNthCalledWith(count++, \"/configuration/mainIndicatorNavigationSelectedValue\", \"\");\n\t\t//expect(setPropertyMock).toHaveBeenNthCalledWith(count++,  \"/configuration/selectedNavigationPropertyHeader\", {\"name\": \"\", \"value\": []});\n\t\t//expect(setPropertyMock).toHaveBeenNthCalledWith(count++, \"/configuration/mainIndicatorNavigationSelectedValue\", \"\");\n\t\texpect(setPropertyMock).toHaveBeenNthCalledWith(count++, \"/configuration/mainIndicatorStatusKeyInitial\", {\n\t\t\tnewValue: \"net_amount\"\n\t\t});\n\t\texpect(setPropertyMock).toHaveBeenNthCalledWith(count++, \"/configuration/mainIndicatorNavigationSelectedKey\", \"\");\n\t\texpect(setPropertyMock).toHaveBeenNthCalledWith(count++, \"/configuration/mainIndicatorStatusKey\", \"net_amount\");\n\t\t//expect(setPropertyMock).toHaveBeenNthCalledWith(count++, \"/configuration/mainIndicatorStatusKey\", \"net_amount\");\n\t\texpect(setPropertyMock).toHaveBeenNthCalledWith(count++, \"/configuration/advancedFormattingOptions/isFormatterEnabled\", true);\n\t\texpect(setPropertyMock).toHaveBeenNthCalledWith(\n\t\t\tcount++,\n\t\t\t\"/configuration/advancedFormattingOptions/textArrangementSourceProperty\",\n\t\t\t\"{net_amount}\"\n\t\t);\n\t\texpect(setPropertyMock).toHaveBeenNthCalledWith(\n\t\t\tcount++,\n\t\t\t\"/configuration/advancedFormattingOptions/textArrangementSelectedKey\",\n\t\t\t\"net_amount\"\n\t\t);\n\t\texpect(setPropertyMock).toHaveBeenNthCalledWith(count++, \"/configuration/trendOptions\", {});\n\t\texpect(setPropertyMock).toHaveBeenNthCalledWith(count++, \"/configuration/indicatorsValue\", {});\n\t\texpect(setPropertyMock).toHaveBeenNthCalledWith(count++, \"/configuration/trendOptions/sourceProperty\", \"net_amount\");\n\t\texpect(setPropertyMock).toHaveBeenNthCalledWith(count++, \"/configuration/indicatorsValue/sourceProperty\", \"net_amount\");\n\t\texpect(setPropertyMock).toHaveBeenNthCalledWith(count++, \"/configuration/navigationValue\", \"\");\n\t\texpect(setPropertyMock).toHaveBeenNthCalledWith(count++, \"/configuration/advancedFormattingOptions/sourceProperty\", \"net_amount\");\n\t\texpect(renderCardPreviewMock).toHaveBeenCalledWith(expectedManifest, oDialogModel);\n\t\texpect(setValueStateMock).toHaveBeenCalledWith(ValueState.None);\n\t});\n});\n//One file\ndescribe(\"Validate header with arrangements - updateHeaderArrangements and updateArrangements\", () => {\n\tlet renderCardPreviewMock: jest.Mock;\n\tlet getCurrentCardManifestMock: jest.Mock;\n\tlet coreElementGetElementByIdSpy: jest.SpyInstance;\n\n\tconst oDialogModel = new JSONModel({\n\t\tconfiguration: {\n\t\t\tmainIndicatorStatusKey: \"net_amount\",\n\t\t\tadvancedFormattingOptions: {\n\t\t\t\tunitOfMeasures: [\n\t\t\t\t\t{\n\t\t\t\t\t\tarrangementKey: \"currency_code\",\n\t\t\t\t\t\tname: \"net_amount\",\n\t\t\t\t\t\tpropKey: \"net_amount\",\n\t\t\t\t\t\tvalue: \"currency_code\"\n\t\t\t\t\t}\n\t\t\t\t],\n\t\t\t\ttextArrangements: [],\n\t\t\t\tpropertyValueFormatters: [\n\t\t\t\t\t{\n\t\t\t\t\t\tformatterName: \"format.float\",\n\t\t\t\t\t\tdisplayName: \"Float\",\n\t\t\t\t\t\tparameters: [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tname: \"options\",\n\t\t\t\t\t\t\t\tdisplayName: \"Options\",\n\t\t\t\t\t\t\t\ttype: \"object\",\n\t\t\t\t\t\t\t\tdefaultValue: \"\",\n\t\t\t\t\t\t\t\tproperties: [\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tname: \"decimals\",\n\t\t\t\t\t\t\t\t\t\tdisplayName: \"Decimals\",\n\t\t\t\t\t\t\t\t\t\ttype: \"number\",\n\t\t\t\t\t\t\t\t\t\tdefaultValue: 2,\n\t\t\t\t\t\t\t\t\t\tvalue: 2\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tname: \"style\",\n\t\t\t\t\t\t\t\t\t\tdisplayName: \"Style\",\n\t\t\t\t\t\t\t\t\t\ttype: \"enum\",\n\t\t\t\t\t\t\t\t\t\tdefaultSelectedKey: \"short\",\n\t\t\t\t\t\t\t\t\t\tselectedKey: \"long\",\n\t\t\t\t\t\t\t\t\t\toptions: [\n\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\tvalue: \"short\",\n\t\t\t\t\t\t\t\t\t\t\t\tname: \"Short\"\n\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\tvalue: \"long\",\n\t\t\t\t\t\t\t\t\t\t\t\tname: \"Long\"\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t\t\tvalue: \"short\"\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t],\n\t\t\t\t\t\ttype: \"numeric\",\n\t\t\t\t\t\tvisible: true,\n\t\t\t\t\t\tproperty: \"net_amount\"\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t},\n\t\t\tgroups: [\n\t\t\t\t{\n\t\t\t\t\ttitle: \"Group 1\",\n\t\t\t\t\titems: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tlabel: \"\",\n\t\t\t\t\t\t\tvalue: \"\",\n\t\t\t\t\t\t\tisEnabled: false,\n\t\t\t\t\t\t\tname: \"\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t]\n\t\t}\n\t});\n\tconst oDialog = {\n\t\tgetModel: jest.fn().mockReturnValue(oDialogModel),\n\t\topen: jest.fn(),\n\t\tsetModel: jest.fn(),\n\t\tclose: jest.fn()\n\t};\n\n\tbeforeAll(() => {\n\t\tcoreElementGetElementByIdSpy = jest.spyOn(CoreElement, \"getElementById\");\n\t\tcoreElementGetElementByIdSpy.mockImplementation((id) => {\n\t\t\tif (id === \"cardGeneratorDialog--cardGeneratorDialog\") {\n\t\t\t\treturn oDialog;\n\t\t\t}\n\t\t});\n\t});\n\n\tafterAll(() => {\n\t\tcoreElementGetElementByIdSpy.mockRestore();\n\t});\n\n\tbeforeEach(() => {\n\t\trenderCardPreviewMock = renderCardPreview as jest.Mock;\n\t\tgetCurrentCardManifestMock = getCurrentCardManifest as jest.Mock;\n\t\tCardGeneratorDialogController.initialize();\n\t});\n\n\tafterEach(() => {\n\t\tjest.clearAllMocks();\n\t});\n\n\ttest(\"updateHeaderArrangements - Validate card header with arrangements\", () => {\n\t\tgetCurrentCardManifestMock.mockReturnValue({\n\t\t\t_version: \"1.15.0\",\n\t\t\t\"sap.app\": {\n\t\t\t\tid: \"objectCard\",\n\t\t\t\ttype: \"card\",\n\t\t\t\ttitle: \"Card Title\",\n\t\t\t\tapplicationVersion: {\n\t\t\t\t\tversion: \"1.0.0\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t\"sap.ui\": {},\n\t\t\t\"sap.card\": {\n\t\t\t\ttype: \"Object\",\n\t\t\t\theader: {\n\t\t\t\t\ttype: \"Numeric\",\n\t\t\t\t\ttitle: \"Sales Order\",\n\t\t\t\t\tsubTitle: \"{so_id}\",\n\t\t\t\t\tunitOfMeasurement: \"{currency_code}\",\n\t\t\t\t\tmainIndicator: {\n\t\t\t\t\t\tnumber: \"{net_amount}\",\n\t\t\t\t\t\tunit: \"\",\n\t\t\t\t\t\ttrend: \"None\",\n\t\t\t\t\t\tstate: \"Good\"\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tconfiguration: {\n\t\t\t\t\tparameters: {\n\t\t\t\t\t\tcontextParameters: {\n\t\t\t\t\t\t\ttype: \"string\",\n\t\t\t\t\t\t\tvalue: \"node_key=guid'fa163ee4-7bdd-1ee8-b1ff-d3c5a4e5236a',IsActiveEntity=true\"\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tdata: {\n\t\t\t\t\trequest: {\n\t\t\t\t\t\tbatch: {\n\t\t\t\t\t\t\theader: {\n\t\t\t\t\t\t\t\turl: \"C_STTA_SalesOrder_WD_20({{parameters.contextParameters}})\"\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tconst expectedManifest = {\n\t\t\t_version: \"1.15.0\",\n\t\t\t\"sap.app\": {\n\t\t\t\tid: \"objectCard\",\n\t\t\t\ttype: \"card\",\n\t\t\t\ttitle: \"Card Title\",\n\t\t\t\tapplicationVersion: {\n\t\t\t\t\tversion: \"1.0.0\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t\"sap.ui\": {},\n\t\t\t\"sap.card\": {\n\t\t\t\tconfiguration: {\n\t\t\t\t\tparameters: {\n\t\t\t\t\t\tcontextParameters: {\n\t\t\t\t\t\t\ttype: \"string\",\n\t\t\t\t\t\t\tvalue: \"node_key=guid'fa163ee4-7bdd-1ee8-b1ff-d3c5a4e5236a',IsActiveEntity=true\"\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tdata: {\n\t\t\t\t\trequest: {\n\t\t\t\t\t\tbatch: {\n\t\t\t\t\t\t\theader: {\n\t\t\t\t\t\t\t\turl: \"C_STTA_SalesOrder_WD_20({{parameters.contextParameters}})\"\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\ttype: \"Object\",\n\t\t\t\theader: {\n\t\t\t\t\ttype: \"Numeric\",\n\t\t\t\t\ttitle: \"Sales Order\",\n\t\t\t\t\tsubTitle: \"{so_id}\",\n\t\t\t\t\tunitOfMeasurement: \"{currency_code}\",\n\t\t\t\t\tmainIndicator: {\n\t\t\t\t\t\tnumber: '{= format.unit(${net_amount}, ${currency_code}, {\"decimals\":2,\"style\":\"long\"})}',\n\t\t\t\t\t\tunit: \"\",\n\t\t\t\t\t\ttrend: \"None\",\n\t\t\t\t\t\tstate: \"Good\"\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\tCardGeneratorDialogController._updateHeaderArrangements();\n\n\t\texpect(renderCardPreviewMock).toHaveBeenCalledWith(expectedManifest, oDialogModel);\n\t});\n\n\ttest(\"updateArrangements - Validate if value assignment for items under the group is not done when item does not have name (when it has empty string)\", () => {\n\t\tgetCurrentCardManifestMock.mockReturnValue({\n\t\t\t_version: \"1.15.0\",\n\t\t\t\"sap.app\": {\n\t\t\t\tid: \"objectCard\",\n\t\t\t\ttype: \"card\",\n\t\t\t\ttitle: \"Card Title\",\n\t\t\t\tapplicationVersion: {\n\t\t\t\t\tversion: \"1.0.0\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t\"sap.ui\": {},\n\t\t\t\"sap.card\": {\n\t\t\t\ttype: \"Object\",\n\t\t\t\theader: {\n\t\t\t\t\ttype: \"Numeric\",\n\t\t\t\t\ttitle: \"Sales Order\",\n\t\t\t\t\tsubTitle: \"{so_id}\",\n\t\t\t\t\tunitOfMeasurement: \"{currency_code}\",\n\t\t\t\t\tmainIndicator: {\n\t\t\t\t\t\tnumber: \"{net_amount}\",\n\t\t\t\t\t\tunit: \"\",\n\t\t\t\t\t\ttrend: \"None\",\n\t\t\t\t\t\tstate: \"Good\"\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\tCardGeneratorDialogController._updateArrangements();\n\t\tconst expected = oDialogModel.getProperty(\"/configuration/groups\")[0].items[0].value;\n\t\texpect(expected).toEqual(\"\");\n\t});\n});\n\ndescribe(\"Validate header with arrangements - updateHeaderArrangements, when header has a navigational property of date type.\", () => {\n\tlet renderCardPreviewMock: jest.Mock;\n\tlet getCurrentCardManifestMock: jest.Mock;\n\tlet coreElementGetElementByIdSpy: jest.SpyInstance;\n\tconst oDialogModel = new JSONModel({\n\t\tconfiguration: {\n\t\t\tmainIndicatorStatusKey: \"DraftAdministrativeData\",\n\t\t\tadvancedFormattingOptions: {\n\t\t\t\tunitOfMeasures: [\n\t\t\t\t\t{\n\t\t\t\t\t\tarrangementKey: \"currency_code\",\n\t\t\t\t\t\tname: \"net_amount\",\n\t\t\t\t\t\tpropKey: \"net_amount\",\n\t\t\t\t\t\tvalue: \"currency_code\"\n\t\t\t\t\t}\n\t\t\t\t],\n\t\t\t\ttextArrangements: [\n\t\t\t\t\t{\n\t\t\t\t\t\tpropertyKeyForId: \"DraftAdministrativeData\",\n\t\t\t\t\t\tname: \"DraftAdministrativeData/CreationDateTime\",\n\t\t\t\t\t\tvalue: \"gross_amount\",\n\t\t\t\t\t\tnavigationalPropertiesForId: [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tlabel: \"Draft Created On\",\n\t\t\t\t\t\t\t\ttype: \"Edm.DateTimeOffset\",\n\t\t\t\t\t\t\t\tname: \"CreationDateTime\",\n\t\t\t\t\t\t\t\tlabelWithValue: \"Draft Created On (Dec 26, 2024, 2:59:39PM)\"\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t],\n\t\t\t\t\t\tisNavigationForId: true,\n\t\t\t\t\t\tnavigationKeyForId: \"CreationDateTime\",\n\t\t\t\t\t\tpropertyKeyForDescription: \"gross_amount\",\n\t\t\t\t\t\tisNavigationForDescription: false,\n\t\t\t\t\t\tnavigationKeyForDescription: \"\",\n\t\t\t\t\t\tarrangementType: \"TextFirst\",\n\t\t\t\t\t\ttextArrangement: \"TextFirst\"\n\t\t\t\t\t}\n\t\t\t\t],\n\t\t\t\tpropertyValueFormatters: [\n\t\t\t\t\t{\n\t\t\t\t\t\tproperty: \"DraftAdministrativeData/CreationDateTime\",\n\t\t\t\t\t\tformatterName: \"format.dateTime\",\n\t\t\t\t\t\tdisplayName: \"Date/Time\",\n\t\t\t\t\t\tparameters: [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tname: \"options\",\n\t\t\t\t\t\t\t\tdisplayName: \"Options\",\n\t\t\t\t\t\t\t\ttype: \"object\",\n\t\t\t\t\t\t\t\tdefaultValue: \"\",\n\t\t\t\t\t\t\t\tproperties: [\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tname: \"relative\",\n\t\t\t\t\t\t\t\t\t\tdisplayName: \"Relative\",\n\t\t\t\t\t\t\t\t\t\ttype: \"boolean\",\n\t\t\t\t\t\t\t\t\t\tdefaultValue: false,\n\t\t\t\t\t\t\t\t\t\tselected: false\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tname: \"UTC\",\n\t\t\t\t\t\t\t\t\t\tdisplayName: \"UTC\",\n\t\t\t\t\t\t\t\t\t\ttype: \"boolean\",\n\t\t\t\t\t\t\t\t\t\tdefaultValue: false,\n\t\t\t\t\t\t\t\t\t\tselected: true\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t],\n\t\t\t\t\t\ttype: \"Date\",\n\t\t\t\t\t\tvisible: true\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t},\n\t\t\tnavigationValue: \"DraftAdministrativeData/CreationDateTime\",\n\t\t\tselectedNavigationPropertyHeader: {\n\t\t\t\tvalue: [\n\t\t\t\t\t{\n\t\t\t\t\t\tlabel: \"Draft Created On\",\n\t\t\t\t\t\ttype: \"Edm.DateTimeOffset\",\n\t\t\t\t\t\tname: \"CreationDateTime\",\n\t\t\t\t\t\tlabelWithValue: \"Draft Created On (Dec 23, 2024, 9:39:31AM)\"\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t},\n\t\t\tmainIndicatorNavigationSelectedKey: \"CreationDateTime\",\n\t\t\tgroups: []\n\t\t}\n\t});\n\tconst oDialog = {\n\t\tgetModel: jest.fn().mockReturnValue(oDialogModel),\n\t\topen: jest.fn(),\n\t\tsetModel: jest.fn(),\n\t\tclose: jest.fn()\n\t};\n\n\tbeforeAll(() => {\n\t\tcoreElementGetElementByIdSpy = jest.spyOn(CoreElement, \"getElementById\");\n\t\tcoreElementGetElementByIdSpy.mockImplementation((id) => {\n\t\t\tif (id === \"cardGeneratorDialog--cardGeneratorDialog\") {\n\t\t\t\treturn oDialog;\n\t\t\t}\n\t\t});\n\t});\n\n\tafterAll(() => {\n\t\tcoreElementGetElementByIdSpy.mockRestore();\n\t});\n\n\tbeforeEach(() => {\n\t\trenderCardPreviewMock = renderCardPreview as jest.Mock;\n\t\tgetCurrentCardManifestMock = getCurrentCardManifest as jest.Mock;\n\t\tCardGeneratorDialogController.initialize();\n\t});\n\n\tafterEach(() => {\n\t\tjest.clearAllMocks();\n\t});\n\n\ttest(\"Validate to check if text arrangement and formatting both are getting applied correctly\", () => {\n\t\tgetCurrentCardManifestMock.mockReturnValue({\n\t\t\t_version: \"1.15.0\",\n\t\t\t\"sap.card\": {\n\t\t\t\ttype: \"Object\",\n\t\t\t\theader: {\n\t\t\t\t\ttype: \"Numeric\",\n\t\t\t\t\ttitle: \"Sales Order\",\n\t\t\t\t\tsubTitle: \"{so_id}\",\n\t\t\t\t\tmainIndicator: {\n\t\t\t\t\t\tnumber: '{= format.dateTime(${DraftAdministrativeData/ProcessingStartDateTime}, {\"relative\":false\"UTC\":true})}',\n\t\t\t\t\t\ttrend: \"None\",\n\t\t\t\t\t\tstate: \"Good\"\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tCardGeneratorDialogController._updateHeaderArrangements();\n\t\tconst calledWithArgs = renderCardPreviewMock.mock.calls[0][0];\n\t\texpect(calledWithArgs[\"sap.card\"].header.mainIndicator.number).toMatchSnapshot();\n\t});\n});\n\ndescribe(\"Validate header with arrangements -updateArrangements when group is having the matching content(group) value\", () => {\n\tlet renderCardPreviewMock: jest.Mock;\n\tlet getCurrentCardManifestMock: jest.Mock;\n\tlet coreElementGetElementByIdSpy: jest.SpyInstance;\n\n\tconst oDialogModel = new JSONModel({\n\t\tconfiguration: {\n\t\t\tmainIndicatorStatusKey: \"net_amount\",\n\t\t\tadvancedFormattingOptions: {\n\t\t\t\tunitOfMeasures: [\n\t\t\t\t\t{\n\t\t\t\t\t\tarrangementKey: \"currency_code\",\n\t\t\t\t\t\tname: \"net_amount\",\n\t\t\t\t\t\tpropKey: \"net_amount\",\n\t\t\t\t\t\tvalue: \"currency_code\"\n\t\t\t\t\t}\n\t\t\t\t],\n\t\t\t\ttextArrangements: [\n\t\t\t\t\t{\n\t\t\t\t\t\tpropKey: \"Language\",\n\t\t\t\t\t\tname: \"Language\",\n\t\t\t\t\t\tarrangementKey: \"to_BillingStatus\",\n\t\t\t\t\t\tvalue: \"to_BillingStatus/Status_Text\",\n\t\t\t\t\t\tnavigationalProperties: [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tlabel: \"Lower Value\",\n\t\t\t\t\t\t\t\ttype: \"Edm.String\",\n\t\t\t\t\t\t\t\tname: \"Status\",\n\t\t\t\t\t\t\t\tlabelWithValue: \"Lower Value (<empty>)\"\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tlabel: \"Confirmation\",\n\t\t\t\t\t\t\t\ttype: \"Edm.String\",\n\t\t\t\t\t\t\t\tname: \"Status_Text\",\n\t\t\t\t\t\t\t\tlabelWithValue: \"Confirmation (Initial)\"\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t],\n\t\t\t\t\t\tisNavigation: true,\n\t\t\t\t\t\tnavKey: \"Status_Text\",\n\t\t\t\t\t\tarrangementType: \"TextLast\",\n\t\t\t\t\t\ttextArrangement: \"TextLast\"\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t},\n\t\t\tgroups: [\n\t\t\t\t{\n\t\t\t\t\ttitle: \"Group 1\",\n\t\t\t\t\titems: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tlabel: \"Language\",\n\t\t\t\t\t\t\tvalue: \"{Language} ({to_BillingStatus/Status_Text})\",\n\t\t\t\t\t\t\tisEnabled: true,\n\t\t\t\t\t\t\tname: \"Language\",\n\t\t\t\t\t\t\tnavigationProperty: \"\",\n\t\t\t\t\t\t\tisNavigationEnabled: false\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tlabel: \"Gross Amount\",\n\t\t\t\t\t\t\tvalue: \"{to_Currency/Currency_Code_Text} ({gross_amount}) {currency_code}\",\n\t\t\t\t\t\t\tisEnabled: true,\n\t\t\t\t\t\t\tisNavigationEnabled: false,\n\t\t\t\t\t\t\tnavigationalProperties: [],\n\t\t\t\t\t\t\tname: \"gross_amount\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t]\n\t\t}\n\t});\n\tconst oDialog = {\n\t\tgetModel: jest.fn().mockReturnValue(oDialogModel),\n\t\topen: jest.fn(),\n\t\tsetModel: jest.fn(),\n\t\tclose: jest.fn()\n\t};\n\n\tbeforeAll(() => {\n\t\tcoreElementGetElementByIdSpy = jest.spyOn(CoreElement, \"getElementById\");\n\t\tcoreElementGetElementByIdSpy.mockImplementation((id) => {\n\t\t\tif (id === \"cardGeneratorDialog--cardGeneratorDialog\") {\n\t\t\t\treturn oDialog;\n\t\t\t}\n\t\t});\n\t});\n\n\tafterAll(() => {\n\t\tcoreElementGetElementByIdSpy.mockRestore();\n\t});\n\n\tbeforeEach(() => {\n\t\trenderCardPreviewMock = renderCardPreview as jest.Mock;\n\t\tgetCurrentCardManifestMock = getCurrentCardManifest as jest.Mock;\n\t\tCardGeneratorDialogController.initialize();\n\t});\n\n\tafterEach(() => {\n\t\tjest.clearAllMocks();\n\t});\n\n\ttest(\"updateArrangements - Validate card header with arrangements\", () => {\n\t\tgetCurrentCardManifestMock.mockReturnValue({\n\t\t\t_version: \"1.15.0\",\n\t\t\t\"sap.app\": {\n\t\t\t\tid: \"objectCard\",\n\t\t\t\ttype: \"card\",\n\t\t\t\ttitle: \"Card Title\",\n\t\t\t\tapplicationVersion: {\n\t\t\t\t\tversion: \"1.0.0\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t\"sap.ui\": {},\n\t\t\t\"sap.card\": {\n\t\t\t\ttype: \"Object\",\n\t\t\t\theader: {\n\t\t\t\t\ttype: \"Numeric\",\n\t\t\t\t\ttitle: \"Sales Order\",\n\t\t\t\t\tsubTitle: \"{so_id}\",\n\t\t\t\t\tunitOfMeasurement: \"{currency_code}\",\n\t\t\t\t\tmainIndicator: {\n\t\t\t\t\t\tnumber: \"{net_amount}\",\n\t\t\t\t\t\tunit: \"\",\n\t\t\t\t\t\ttrend: \"None\",\n\t\t\t\t\t\tstate: \"Good\"\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\tCardGeneratorDialogController._updateArrangements();\n\t\tconst expected = oDialogModel.getProperty(\"/configuration/groups\")[0].items[0].value;\n\t\texpect(expected).toMatchSnapshot();\n\t});\n});\n\ndescribe(\"Validate updateArrangements - when group items are having navigational properties of date type, arrangement is a navigational property of date type.\", () => {\n\tlet getCurrentCardManifestMock: jest.Mock;\n\tlet coreElementGetElementByIdSpy: jest.SpyInstance;\n\n\tconst oDialogModel = new JSONModel({\n\t\tconfiguration: {\n\t\t\tmainIndicatorStatusKey: \"\",\n\t\t\tadvancedFormattingOptions: {\n\t\t\t\tunitOfMeasures: [\n\t\t\t\t\t{\n\t\t\t\t\t\tarrangementKey: \"currency_code\",\n\t\t\t\t\t\tname: \"net_amount\",\n\t\t\t\t\t\tpropKey: \"net_amount\",\n\t\t\t\t\t\tvalue: \"currency_code\"\n\t\t\t\t\t}\n\t\t\t\t],\n\t\t\t\ttextArrangements: [\n\t\t\t\t\t{\n\t\t\t\t\t\tpropertyKeyForId: \"DraftAdministrativeData\",\n\t\t\t\t\t\tname: \"DraftAdministrativeData/ProcessingStartDateTime\",\n\t\t\t\t\t\tvalue: \"to_BusinessPartner/CreatedAt\",\n\t\t\t\t\t\tnavigationalPropertiesForId: [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tlabel: \"Draft In Process Since\",\n\t\t\t\t\t\t\t\ttype: \"Edm.DateTimeOffset\",\n\t\t\t\t\t\t\t\tname: \"ProcessingStartDateTime\",\n\t\t\t\t\t\t\t\tlabelWithValue: \"Draft In Process Since (Dec 26, 2024, 6:37:47PM)\"\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t],\n\t\t\t\t\t\tisNavigationForId: true,\n\t\t\t\t\t\tnavigationKeyForId: \"ProcessingStartDateTime\",\n\t\t\t\t\t\tpropertyKeyForDescription: \"to_BusinessPartner\",\n\t\t\t\t\t\tnavigationalPropertiesForDescription: [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tlabel: \"Created At\",\n\t\t\t\t\t\t\t\ttype: \"Edm.DateTimeOffset\",\n\t\t\t\t\t\t\t\tname: \"CreatedAt\",\n\t\t\t\t\t\t\t\tlabelWithValue: \"Created At (Oct 1, 2018, 4:45:56PM)\"\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t],\n\t\t\t\t\t\tisNavigationForDescription: true,\n\t\t\t\t\t\tnavigationKeyForDescription: \"CreatedAt\",\n\t\t\t\t\t\tarrangementType: \"TextFirst\",\n\t\t\t\t\t\ttextArrangement: \"TextFirst\"\n\t\t\t\t\t}\n\t\t\t\t],\n\t\t\t\tpropertyValueFormatters: [\n\t\t\t\t\t{\n\t\t\t\t\t\tproperty: \"DraftAdministrativeData/ProcessingStartDateTime\",\n\t\t\t\t\t\tformatterName: \"format.dateTime\",\n\t\t\t\t\t\tdisplayName: \"Date/Time\",\n\t\t\t\t\t\tparameters: [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tname: \"options\",\n\t\t\t\t\t\t\t\tdisplayName: \"Options\",\n\t\t\t\t\t\t\t\ttype: \"object\",\n\t\t\t\t\t\t\t\tdefaultValue: \"\",\n\t\t\t\t\t\t\t\tproperties: [\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tname: \"relative\",\n\t\t\t\t\t\t\t\t\t\tdisplayName: \"Relative\",\n\t\t\t\t\t\t\t\t\t\ttype: \"boolean\",\n\t\t\t\t\t\t\t\t\t\tdefaultValue: false,\n\t\t\t\t\t\t\t\t\t\tselected: false\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tname: \"UTC\",\n\t\t\t\t\t\t\t\t\t\tdisplayName: \"UTC\",\n\t\t\t\t\t\t\t\t\t\ttype: \"boolean\",\n\t\t\t\t\t\t\t\t\t\tdefaultValue: false,\n\t\t\t\t\t\t\t\t\t\tselected: true\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t],\n\t\t\t\t\t\ttype: \"Date\",\n\t\t\t\t\t\tvisible: true\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tproperty: \"to_BusinessPartner/CreatedAt\",\n\t\t\t\t\t\tformatterName: \"format.dateTime\",\n\t\t\t\t\t\tdisplayName: \"Date/Time\",\n\t\t\t\t\t\tparameters: [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tname: \"options\",\n\t\t\t\t\t\t\t\tdisplayName: \"Options\",\n\t\t\t\t\t\t\t\ttype: \"object\",\n\t\t\t\t\t\t\t\tdefaultValue: \"\",\n\t\t\t\t\t\t\t\tproperties: [\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tname: \"relative\",\n\t\t\t\t\t\t\t\t\t\tdisplayName: \"Relative\",\n\t\t\t\t\t\t\t\t\t\ttype: \"boolean\",\n\t\t\t\t\t\t\t\t\t\tdefaultValue: false,\n\t\t\t\t\t\t\t\t\t\tselected: false\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tname: \"UTC\",\n\t\t\t\t\t\t\t\t\t\tdisplayName: \"UTC\",\n\t\t\t\t\t\t\t\t\t\ttype: \"boolean\",\n\t\t\t\t\t\t\t\t\t\tdefaultValue: false,\n\t\t\t\t\t\t\t\t\t\tselected: true\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t],\n\t\t\t\t\t\ttype: \"Date\",\n\t\t\t\t\t\tvisible: true\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t},\n\t\t\tgroups: [\n\t\t\t\t{\n\t\t\t\t\ttitle: \"Group 1\",\n\t\t\t\t\titems: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tlabel: \"Draft In Process Since\",\n\t\t\t\t\t\t\tvalue: '{= format.dateTime(${DraftAdministrativeData/ProcessingStartDateTime}, {\"relative\":false,\"UTC\":true})}',\n\t\t\t\t\t\t\tisEnabled: false,\n\t\t\t\t\t\t\tisNavigationEnabled: true,\n\t\t\t\t\t\t\tnavigationalProperties: [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tlabel: \"Draft In Process Since\",\n\t\t\t\t\t\t\t\t\ttype: \"Edm.DateTimeOffset\",\n\t\t\t\t\t\t\t\t\tname: \"ProcessingStartDateTime\",\n\t\t\t\t\t\t\t\t\tlabelWithValue: \"Draft In Process Since (Dec 23, 2024, 1:47:52PM)\"\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\tname: \"DraftAdministrativeData\",\n\t\t\t\t\t\t\tnavigationProperty: \"ProcessingStartDateTime\"\n\t\t\t\t\t\t}\n\t\t\t\t\t],\n\t\t\t\t\tnewItem: {\n\t\t\t\t\t\tlabel: null,\n\t\t\t\t\t\tvalue: null,\n\t\t\t\t\t\tisEnabled: false,\n\t\t\t\t\t\tisNavigationEnabled: false,\n\t\t\t\t\t\tnavigationalProperties: []\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t]\n\t\t}\n\t});\n\tconst oDialog = {\n\t\tgetModel: jest.fn().mockReturnValue(oDialogModel),\n\t\topen: jest.fn(),\n\t\tsetModel: jest.fn(),\n\t\tclose: jest.fn()\n\t};\n\n\tbeforeAll(() => {\n\t\tcoreElementGetElementByIdSpy = jest.spyOn(CoreElement, \"getElementById\");\n\t\tcoreElementGetElementByIdSpy.mockImplementation((id) => {\n\t\t\tif (id === \"cardGeneratorDialog--cardGeneratorDialog\") {\n\t\t\t\treturn oDialog;\n\t\t\t}\n\t\t});\n\t});\n\n\tafterAll(() => {\n\t\tcoreElementGetElementByIdSpy.mockRestore();\n\t});\n\n\tbeforeEach(() => {\n\t\tgetCurrentCardManifestMock = getCurrentCardManifest as jest.Mock;\n\t\tCardGeneratorDialogController.initialize();\n\t});\n\n\tafterEach(() => {\n\t\tjest.clearAllMocks();\n\t});\n\n\ttest(\"Validate to check if formatting and text arrangement both are getting applied correctly\", () => {\n\t\tgetCurrentCardManifestMock.mockReturnValue({\n\t\t\t_version: \"1.15.0\",\n\t\t\t\"sap.card\": {\n\t\t\t\ttype: \"Object\",\n\t\t\t\theader: {\n\t\t\t\t\tdata: {\n\t\t\t\t\t\tpath: \"/header/d/\"\n\t\t\t\t\t},\n\t\t\t\t\ttype: \"Numeric\",\n\t\t\t\t\ttitle: \"Sales Order\",\n\t\t\t\t\tsubTitle: \"A Fiori application.\",\n\t\t\t\t\tunitOfMeasurement: \"\",\n\t\t\t\t\tmainIndicator: {\n\t\t\t\t\t\tnumber: \"\"\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tcontent: {\n\t\t\t\t\tdata: {\n\t\t\t\t\t\tpath: \"/content/d/\"\n\t\t\t\t\t},\n\t\t\t\t\tgroups: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle: \"Group 1\",\n\t\t\t\t\t\t\titems: [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tlabel: \"Draft In Process Since\",\n\t\t\t\t\t\t\t\t\tvalue: '{= format.dateTime(${DraftAdministrativeData/ProcessingStartDateTime}, {\"relative\":false,\"UTC\":true})}',\n\t\t\t\t\t\t\t\t\tname: \"DraftAdministrativeData\"\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\tCardGeneratorDialogController._updateArrangements();\n\t\texpect(oDialogModel.getProperty(\"/configuration/groups\")[0].items[0].value).toMatchSnapshot();\n\t});\n});\n\ndescribe(\"handleCriticalityAction\", () => {\n\tlet oModel: JSONModel;\n\tlet oEvent: any;\n\tbeforeEach(() => {\n\t\t// Initialize the model and event mock objects\n\t\toModel = new JSONModel({\n\t\t\tconfiguration: {\n\t\t\t\tpopoverContentType: \"\",\n\t\t\t\tadvancedFormattingOptions: {\n\t\t\t\t\ttargetFormatterProperty: \"\",\n\t\t\t\t\tsourceCriticalityProperty: [{ name: \"property1\", criticality: \"Critical\" }]\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\toEvent = {\n\t\t\tgetSource: jest.fn().mockReturnValue({\n\t\t\t\tgetBindingContext: jest.fn().mockReturnValue({\n\t\t\t\t\tgetPath: jest.fn().mockReturnValue(\"/configuration/groups/0/items/0\")\n\t\t\t\t}),\n\t\t\t\tgetParent: jest.fn()\n\t\t\t}),\n\t\t\tgetParameter: jest.fn().mockReturnValue({\n\t\t\t\tgetKey: jest.fn().mockReturnValue(\"criticality\")\n\t\t\t})\n\t\t};\n\n\t\toModel.setProperty = jest.fn();\n\t\toModel.getProperty = jest.fn((path: string) => {\n\t\t\tconst data: { [key: string]: any } = {\n\t\t\t\t\"/configuration/groups/0/items/0\": { name: \"to_BusinessPartner\", navigationProperty: \"BusinessPartnerRole\" }\n\t\t\t};\n\t\t\treturn data[path];\n\t\t});\n\t});\n\n\tit(\"should handle criticality action correctly\", () => {\n\t\tconst result = CardGeneratorDialogController.handleCriticalityAction(\"criticality\", oEvent, oModel);\n\t\texpect(result).toBe(\"to_BusinessPartner/BusinessPartnerRole\");\n\t});\n});\n\ndescribe(\"Validate criticality and UoM, delete trend\", () => {\n\tlet renderCardPreviewMock: jest.Mock;\n\tlet getCurrentCardManifestMock: jest.Mock;\n\tlet coreElementGetElementByIdSpy: jest.SpyInstance;\n\n\tconst oDialogModel = new JSONModel({\n\t\tconfiguration: {\n\t\t\tmainIndicatorOptions: {\n\t\t\t\tcriticality: [\n\t\t\t\t\t{\n\t\t\t\t\t\tactiveCalculation: true,\n\t\t\t\t\t\tcriticality: \"Good\",\n\t\t\t\t\t\tname: \"net_amount\"\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t},\n\t\t\tadvancedFormattingOptions: {\n\t\t\t\tsourceCriticalityProperty: [\n\t\t\t\t\t{\n\t\t\t\t\t\tname: \"net_amount\",\n\t\t\t\t\t\tactiveCalculation: false,\n\t\t\t\t\t\tcriticality: \"Critical\",\n\t\t\t\t\t\thostCriticality: \"Good\"\n\t\t\t\t\t}\n\t\t\t\t],\n\t\t\t\ttextArrangements: [],\n\t\t\t\tpropertyValueFormatters: [],\n\t\t\t\tsourceUoMProperty: \"so_id\",\n\t\t\t\ttargetProperty: \"currency_code\",\n\t\t\t\tunitOfMeasures: [\n\t\t\t\t\t{\n\t\t\t\t\t\tarrangementKey: \"currency_code\",\n\t\t\t\t\t\tname: \"gross_amount\",\n\t\t\t\t\t\tpropKey: \"gross_amount\",\n\t\t\t\t\t\tvalue: \"currency_code\"\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tarrangementKey: \"currency_code\",\n\t\t\t\t\t\tname: \"net_amount\",\n\t\t\t\t\t\tpropKey: \"net_amount\",\n\t\t\t\t\t\tvalue: \"currency_code\"\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tarrangementKey: \"currency_code\",\n\t\t\t\t\t\tname: \"tax_amount\",\n\t\t\t\t\t\tpropKey: \"tax_amount\",\n\t\t\t\t\t\tvalue: \"currency_code\"\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t},\n\t\t\ttrendOptions: {\n\t\t\t\tsourceProperty: \"net_amount\",\n\t\t\t\tdownDifference: \"1000\",\n\t\t\t\tdownDifferenceValueState: \"None\",\n\t\t\t\tupDifference: \"1000\",\n\t\t\t\tupDifferenceValueState: \"None\",\n\t\t\t\treferenceValue: \"2\",\n\t\t\t\treferenceValueState: \"None\",\n\t\t\t\tupDown: \"2\"\n\t\t\t},\n\t\t\tselectedTrendOptions: [\n\t\t\t\t{\n\t\t\t\t\treferenceValue: \"2\",\n\t\t\t\t\tdownDifference: \"1000\",\n\t\t\t\t\tupDifference: \"1000\",\n\t\t\t\t\tsourceProperty: \"net_amount\"\n\t\t\t\t}\n\t\t\t]\n\t\t}\n\t});\n\tconst oDialog = {\n\t\tgetModel: jest.fn().mockReturnValue(oDialogModel),\n\t\topen: jest.fn(),\n\t\tsetModel: jest.fn(),\n\t\tclose: jest.fn()\n\t};\n\n\tbeforeAll(() => {\n\t\tcoreElementGetElementByIdSpy = jest.spyOn(CoreElement, \"getElementById\");\n\t\tcoreElementGetElementByIdSpy.mockImplementation((id) => {\n\t\t\tif (id === \"cardGeneratorDialog--cardGeneratorDialog\") {\n\t\t\t\treturn oDialog;\n\t\t\t}\n\t\t});\n\t});\n\n\tafterAll(() => {\n\t\tcoreElementGetElementByIdSpy.mockRestore();\n\t});\n\n\tbeforeEach(() => {\n\t\trenderCardPreviewMock = renderCardPreview as jest.Mock;\n\t\tgetCurrentCardManifestMock = getCurrentCardManifest as jest.Mock;\n\t\tgetCurrentCardManifestMock.mockReturnValue({\n\t\t\t_version: \"1.15.0\",\n\t\t\t\"sap.app\": {\n\t\t\t\tid: \"objectCard\",\n\t\t\t\ttype: \"card\",\n\t\t\t\ttitle: \"Card Title\",\n\t\t\t\tapplicationVersion: {\n\t\t\t\t\tversion: \"1.0.0\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t\"sap.ui\": {},\n\t\t\t\"sap.card\": {\n\t\t\t\textension: \"module:sap/cards/ap/common/extensions/BaseIntegrationCardExtension\",\n\t\t\t\ttype: \"Object\",\n\t\t\t\theader: {\n\t\t\t\t\tdata: {\n\t\t\t\t\t\tpath: \"/header/d/\"\n\t\t\t\t\t},\n\t\t\t\t\ttype: \"Numeric\",\n\t\t\t\t\ttitle: \"Sales Order\",\n\t\t\t\t\tsubTitle: \"A Fiori application.\",\n\t\t\t\t\tunitOfMeasurement: \"\",\n\t\t\t\t\tmainIndicator: {\n\t\t\t\t\t\tnumber: \"{= format.unit(${net_amount}, ${currency_code})}\",\n\t\t\t\t\t\tunit: \"\",\n\t\t\t\t\t\ttrend: \"None\",\n\t\t\t\t\t\tstate: \"Good\"\n\t\t\t\t\t},\n\t\t\t\t\tsideIndicators: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle: \"\",\n\t\t\t\t\t\t\tnumber: \"\",\n\t\t\t\t\t\t\tunit: \"\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle: \"\",\n\t\t\t\t\t\t\tnumber: \"\",\n\t\t\t\t\t\t\tunit: \"\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t\tcontent: {\n\t\t\t\t\tdata: {\n\t\t\t\t\t\tpath: \"/content/d/\"\n\t\t\t\t\t},\n\t\t\t\t\tgroups: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle: \"Group 1\",\n\t\t\t\t\t\t\titems: [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tlabel: \"Gross Amount\",\n\t\t\t\t\t\t\t\t\tvalue: \"{= format.unit(${gross_amount}, ${currency_code})}\",\n\t\t\t\t\t\t\t\t\tname: \"gross_amount\",\n\t\t\t\t\t\t\t\t\tstate: \"{= extension.formatters.formatCriticality(${Language}, 'state') }\",\n\t\t\t\t\t\t\t\t\ttype: \"Status\"\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tlabel: \"Tax Amount\",\n\t\t\t\t\t\t\t\t\tvalue: '{= format.dateTime(${DraftEntityCreationDateTime}, {\"relative\":false,\"UTC\":true})}',\n\t\t\t\t\t\t\t\t\tname: \"DraftEntityCreationDateTime\",\n\t\t\t\t\t\t\t\t\tstate: \"Error\",\n\t\t\t\t\t\t\t\t\ttype: \"Status\"\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tlabel: \"CardGeneratorGroupPropertyLabel_Groups_0_Items_3\",\n\t\t\t\t\t\t\t\t\tvalue: \"{so_id}\",\n\t\t\t\t\t\t\t\t\tname: \"so_id\",\n\t\t\t\t\t\t\t\t\tstate: \"{= extension.formatters.formatCriticality(${op_id_fc}, 'state') }\",\n\t\t\t\t\t\t\t\t\ttype: \"Status\"\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle: \"Additional Info\",\n\t\t\t\t\t\t\titems: [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tlabel: \"Business Partner ID\",\n\t\t\t\t\t\t\t\t\tvalue: \"{= format.unit(${net_amount}, ${currency_code})}\",\n\t\t\t\t\t\t\t\t\tname: \"net_amount\",\n\t\t\t\t\t\t\t\t\tstate: \"{= extension.formatters.formatCriticality(${Language}, 'state') }\",\n\t\t\t\t\t\t\t\t\ttype: \"Status\"\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tlabel: \"Created At\",\n\t\t\t\t\t\t\t\t\tvalue: \"{node_key}\",\n\t\t\t\t\t\t\t\t\tname: \"node_key\",\n\t\t\t\t\t\t\t\t\tstate: \"Warning\",\n\t\t\t\t\t\t\t\t\ttype: \"Status\"\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle: \"CardGeneratorGroupHeader_Groups_2\",\n\t\t\t\t\t\t\titems: [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tlabel: \"CardGeneratorGroupPropertyLabel_Groups_2_Items_0\",\n\t\t\t\t\t\t\t\t\tvalue: '{= format.dateTime(${DraftEntityCreationDateTime}, {\"relative\":false,\"UTC\":true})}',\n\t\t\t\t\t\t\t\t\tname: \"DraftEntityCreationDateTime\",\n\t\t\t\t\t\t\t\t\tstate: \"Error\",\n\t\t\t\t\t\t\t\t\ttype: \"Status\"\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tlabel: \"CardGeneratorGroupPropertyLabel_Groups_2_Items_1\",\n\t\t\t\t\t\t\t\t\tvalue: \"{= format.unit(${net_amount}, ${currency_code})}\",\n\t\t\t\t\t\t\t\t\tname: \"net_amount\",\n\t\t\t\t\t\t\t\t\tstate: \"{= extension.formatters.formatCriticality(${Language}, 'state') }\",\n\t\t\t\t\t\t\t\t\ttype: \"Status\"\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tlabel: \"CardGeneratorGroupPropertyLabel_Groups_2_Items_2\",\n\t\t\t\t\t\t\t\t\tvalue: '{= format.dateTime(${changed_at}, {\"relative\":false,\"UTC\":true})}',\n\t\t\t\t\t\t\t\t\tname: \"changed_at\",\n\t\t\t\t\t\t\t\t\tstate: '{= extension.formatters.formatValueColor(${changed_at},{\"deviationLow\":\"100\",\"deviationHigh\":\"100\",\"toleranceLow\":\"100\",\"toleranceHigh\":\"100\",\"sImprovementDirection\":\"Target\",\"oCriticalityConfigValues\":{\"None\":\"None\",\"Negative\":\"Error\",\"Critical\":\"Warning\",\"Positive\":\"Success\"}}) }',\n\t\t\t\t\t\t\t\t\ttype: \"Status\"\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\tCardGeneratorDialogController.initialize();\n\t});\n\n\tafterEach(() => {\n\t\tjest.clearAllMocks();\n\t});\n\ttest(\"applyCriticality - Validate hostCriticality from sourceCriticalityProperty gets deleted, mainIndicatorCriticality gets updated with updated sourceCriticalityProperty\", () => {\n\t\tconst event = {\n\t\t\tgetParameter: jest.fn().mockReturnValue({ isCalcuationType: true })\n\t\t};\n\t\tCardGeneratorDialogController.applyCriticality(event);\n\t\texpect(oDialog.getModel().getProperty(\"/configuration/mainIndicatorOptions/criticality\")).toMatchSnapshot();\n\t});\n\ttest(\"updateCriticality \", () => {\n\t\tconst expectedManifest = {\n\t\t\t_version: \"1.15.0\",\n\t\t\t\"sap.app\": {\n\t\t\t\tid: \"objectCard\",\n\t\t\t\ttype: \"card\",\n\t\t\t\ttitle: \"Card Title\",\n\t\t\t\tapplicationVersion: {\n\t\t\t\t\tversion: \"1.0.0\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t\"sap.ui\": {},\n\t\t\t\"sap.card\": {\n\t\t\t\textension: \"module:sap/cards/ap/common/extensions/BaseIntegrationCardExtension\",\n\t\t\t\ttype: \"Object\",\n\t\t\t\theader: {\n\t\t\t\t\tdata: {\n\t\t\t\t\t\tpath: \"/header/d/\"\n\t\t\t\t\t},\n\t\t\t\t\ttype: \"Numeric\",\n\t\t\t\t\ttitle: \"Sales Order\",\n\t\t\t\t\tsubTitle: \"A Fiori application.\",\n\t\t\t\t\tunitOfMeasurement: \"\",\n\t\t\t\t\tmainIndicator: {\n\t\t\t\t\t\tnumber: \"{= format.unit(${net_amount}, ${currency_code})}\",\n\t\t\t\t\t\tunit: \"\",\n\t\t\t\t\t\ttrend: \"None\",\n\t\t\t\t\t\tstate: \"Good\"\n\t\t\t\t\t},\n\t\t\t\t\tsideIndicators: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle: \"\",\n\t\t\t\t\t\t\tnumber: \"\",\n\t\t\t\t\t\t\tunit: \"\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle: \"\",\n\t\t\t\t\t\t\tnumber: \"\",\n\t\t\t\t\t\t\tunit: \"\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t\tcontent: {\n\t\t\t\t\tdata: {\n\t\t\t\t\t\tpath: \"/content/d/\"\n\t\t\t\t\t},\n\t\t\t\t\tgroups: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle: \"Group 1\",\n\t\t\t\t\t\t\titems: [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tlabel: \"Gross Amount\",\n\t\t\t\t\t\t\t\t\tvalue: \"{= format.unit(${gross_amount}, ${currency_code})}\",\n\t\t\t\t\t\t\t\t\tname: \"gross_amount\",\n\t\t\t\t\t\t\t\t\tstate: \"{= extension.formatters.formatCriticality(${Language}, 'state') }\",\n\t\t\t\t\t\t\t\t\ttype: \"Status\"\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tlabel: \"Tax Amount\",\n\t\t\t\t\t\t\t\t\tvalue: '{= format.dateTime(${DraftEntityCreationDateTime}, {\"relative\":false,\"UTC\":true})}',\n\t\t\t\t\t\t\t\t\tname: \"DraftEntityCreationDateTime\",\n\t\t\t\t\t\t\t\t\tstate: \"Error\",\n\t\t\t\t\t\t\t\t\ttype: \"Status\"\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tlabel: \"CardGeneratorGroupPropertyLabel_Groups_0_Items_3\",\n\t\t\t\t\t\t\t\t\tvalue: \"{so_id}\",\n\t\t\t\t\t\t\t\t\tname: \"so_id\",\n\t\t\t\t\t\t\t\t\tstate: \"{= extension.formatters.formatCriticality(${op_id_fc}, 'state') }\",\n\t\t\t\t\t\t\t\t\ttype: \"Status\"\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle: \"Additional Info\",\n\t\t\t\t\t\t\titems: [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tlabel: \"Business Partner ID\",\n\t\t\t\t\t\t\t\t\tvalue: \"{= format.unit(${net_amount}, ${currency_code})}\",\n\t\t\t\t\t\t\t\t\tname: \"net_amount\",\n\t\t\t\t\t\t\t\t\tstate: \"{= extension.formatters.formatCriticality(${Language}, 'state') }\",\n\t\t\t\t\t\t\t\t\ttype: \"Status\"\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tlabel: \"Created At\",\n\t\t\t\t\t\t\t\t\tvalue: \"{node_key}\",\n\t\t\t\t\t\t\t\t\tname: \"node_key\",\n\t\t\t\t\t\t\t\t\tstate: \"Warning\",\n\t\t\t\t\t\t\t\t\ttype: \"Status\"\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle: \"CardGeneratorGroupHeader_Groups_2\",\n\t\t\t\t\t\t\titems: [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tlabel: \"CardGeneratorGroupPropertyLabel_Groups_2_Items_0\",\n\t\t\t\t\t\t\t\t\tvalue: '{= format.dateTime(${DraftEntityCreationDateTime}, {\"relative\":false,\"UTC\":true})}',\n\t\t\t\t\t\t\t\t\tname: \"DraftEntityCreationDateTime\",\n\t\t\t\t\t\t\t\t\tstate: \"Error\",\n\t\t\t\t\t\t\t\t\ttype: \"Status\"\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tlabel: \"CardGeneratorGroupPropertyLabel_Groups_2_Items_1\",\n\t\t\t\t\t\t\t\t\tvalue: \"{= format.unit(${net_amount}, ${currency_code})}\",\n\t\t\t\t\t\t\t\t\tname: \"net_amount\",\n\t\t\t\t\t\t\t\t\tstate: \"{= extension.formatters.formatCriticality(${Language}, 'state') }\",\n\t\t\t\t\t\t\t\t\ttype: \"Status\"\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tlabel: \"CardGeneratorGroupPropertyLabel_Groups_2_Items_2\",\n\t\t\t\t\t\t\t\t\tvalue: '{= format.dateTime(${changed_at}, {\"relative\":false,\"UTC\":true})}',\n\t\t\t\t\t\t\t\t\tname: \"changed_at\",\n\t\t\t\t\t\t\t\t\tstate: '{= extension.formatters.formatValueColor(${changed_at},{\"deviationLow\":\"100\",\"deviationHigh\":\"100\",\"toleranceLow\":\"100\",\"toleranceHigh\":\"100\",\"sImprovementDirection\":\"Target\",\"oCriticalityConfigValues\":{\"None\":\"None\",\"Negative\":\"Error\",\"Critical\":\"Warning\",\"Positive\":\"Success\"}}) }',\n\t\t\t\t\t\t\t\t\ttype: \"Status\"\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tCardGeneratorDialogController._updateCriticality(false);\n\t\texpect(renderCardPreviewMock).toHaveBeenCalledWith(expectedManifest, oDialogModel);\n\t\texpect(transpileIntegrationCardToAdaptive).toHaveBeenCalled();\n\t});\n\n\ttest(\"getColorForGroup\", () => {\n\t\tconst testCases = [\n\t\t\t{ input: \"Error\", expected: \"Error\" },\n\t\t\t{ input: \"Neutral\", expected: \"None\" },\n\t\t\t{ input: \"Critical\", expected: \"Warning\" },\n\t\t\t{ input: \"Good\", expected: \"Success\" },\n\t\t\t{\n\t\t\t\tinput: \"{= extension.formatters.formatCriticality(${net_amount}, 'state') }\",\n\t\t\t\texpected: \"{= extension.formatters.formatCriticality(${net_amount}, 'state') }\"\n\t\t\t},\n\t\t\t{ input: \"{net_amount}\", expected: \"{= extension.formatters.formatCriticality(${net_amount}, 'state') }\" },\n\t\t\t{\n\t\t\t\tinput: { activeCalculation: true, name: \"Net_amount\" },\n\t\t\t\texpected:\n\t\t\t\t\t'{= extension.formatters.formatValueColor(${Net_amount},{\"oCriticalityConfigValues\":{\"None\":\"None\",\"Negative\":\"Error\",\"Critical\":\"Warning\",\"Positive\":\"Success\"}}) }'\n\t\t\t},\n\t\t\t{ input: \"NoValue\", expected: undefined },\n\t\t\t{ input: undefined, expected: undefined }\n\t\t];\n\n\t\ttestCases.forEach(({ input, expected }) => {\n\t\t\tconst result = getColorForGroup(input);\n\t\t\texpect(result).toEqual(expected);\n\t\t});\n\t});\n\n\ttest(\"applyUoMFormatting - Validate if UoM array gets updated with source property object, when target (UoM) is applied and source is not a part of the UoM array\", () => {\n\t\toDialog.getModel().setProperty(\"/configuration/groups\", []);\n\t\tCardGeneratorDialogController.applyUoMFormatting();\n\t\texpect(oDialog.getModel().getProperty(\"/configuration/advancedFormattingOptions/unitOfMeasures\")).toMatchSnapshot();\n\t});\n\n\ttest(\"onTrendDelete\", () => {\n\t\tCardGeneratorDialogController.onTrendDelete();\n\t\texpect(oDialog.getModel().getProperty(\"/configuration/trendOptions\")).toMatchSnapshot();\n\t});\n\n\ttest(\"applyCriticality - Navigation property formatting gets applied correctly\", () => {\n\t\tconst oModel = oDialog.getModel() as JSONModel;\n\n\t\tconst sourceProperty = {\n\t\t\tname: \"SalesOrder/Amount\",\n\t\t\tcriticality: \"Critical\",\n\t\t\thostCriticality: \"Good\",\n\t\t\tactiveCalculation: false\n\t\t};\n\n\t\toModel.setProperty(\"/configuration/advancedFormattingOptions/sourceCriticalityProperty\", [sourceProperty]);\n\t\toModel.setProperty(\"/configuration/navigationProperty\", [\n\t\t\t{\n\t\t\t\tname: \"SalesOrder\",\n\t\t\t\tproperties: [{ name: \"Amount\" }]\n\t\t\t}\n\t\t]);\n\n\t\tconst event = {\n\t\t\tgetParameter: jest.fn().mockReturnValue({ isCalcuationType: true })\n\t\t};\n\n\t\tCardGeneratorDialogController.applyCriticality(event);\n\n\t\tconst updated = oModel.getProperty(\"/configuration/mainIndicatorOptions/criticality\");\n\n\t\tconst navEntry = updated.find((entry: any) => entry.name === \"SalesOrder\");\n\n\t\texpect(navEntry).toBeDefined();\n\t\texpect(navEntry.isNavigationForId).toBe(true);\n\t\texpect(navEntry.propertyKeyForId).toBe(\"Amount\");\n\t\texpect(navEntry.navigationKeyForId).toBe(\"Amount\");\n\t\texpect(navEntry.navigationalPropertiesForId).toEqual([{ name: \"Amount\" }]);\n\t\texpect(navEntry.criticality).toBe(\"Good\");\n\t});\n});\n\ndescribe(\"loadAdvancedFormattingConfigurationFragment\", () => {\n\tlet coreElementGetElementByIdSpy: jest.SpyInstance;\n\tconst oDialogModel = new JSONModel({\n\t\tconfiguration: {\n\t\t\tmainIndicatorStatusUnit: \"Gross Amount (5631.08)\",\n\t\t\tgroups: [\n\t\t\t\t{\n\t\t\t\t\titems: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tlabel: \"Net Amount\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t],\n\t\t\tproperties: [\n\t\t\t\t{\n\t\t\t\t\tlabel: \"Net Amount\",\n\t\t\t\t\ttype: \"Edm.Decimal\",\n\t\t\t\t\tname: \"net_amount\",\n\t\t\t\t\tUOM: \"currency_code\",\n\t\t\t\t\tisDate: false,\n\t\t\t\t\tvalue: \"4732.00\",\n\t\t\t\t\tlabelWithValue: \"Net Amount (4732.00)\"\n\t\t\t\t}\n\t\t\t]\n\t\t}\n\t});\n\tconst getResourceBundleMock = jest.fn().mockReturnValue({\n\t\tgetResourceBundle: jest.fn().mockReturnValue({\n\t\t\tgetText: jest.fn().mockImplementation((key, text) => {\n\t\t\t\tif (key === \"SELECT_UOM_TEXT\") return \"Select UoM for\";\n\t\t\t\tif (key === \"SELECT_FORMATTER_TEXT\") return \"Select Formatter for\";\n\t\t\t\tif (key === \"SELECT_CRITICALITY_TEXT\") return \"Select Criticality for\";\n\t\t\t})\n\t\t})\n\t});\n\tconst oDialog = {\n\t\tgetModel: (type?: string) => {\n\t\t\tif (type && type === \"i18n\") {\n\t\t\t\treturn getResourceBundleMock();\n\t\t\t} else {\n\t\t\t\treturn oDialogModel;\n\t\t\t}\n\t\t}\n\t};\n\n\tbeforeAll(() => {\n\t\tcoreElementGetElementByIdSpy = jest.spyOn(CoreElement, \"getElementById\");\n\t\tcoreElementGetElementByIdSpy.mockImplementation((id) => {\n\t\t\tif (id === \"cardGeneratorDialog--cardGeneratorDialog\") {\n\t\t\t\treturn oDialog;\n\t\t\t}\n\t\t});\n\t});\n\n\tafterAll(() => {\n\t\tcoreElementGetElementByIdSpy.mockRestore();\n\t});\n\n\tbeforeEach(() => {\n\t\tCardGeneratorDialogController.initialize();\n\t});\n\n\tafterEach(() => {\n\t\tjest.clearAllMocks();\n\t});\n\n\ttest(\"loadAdvancedFormattingConfigurationFragment - validate if getText of oResourceBundle is passed with correct second argument\", async () => {\n\t\t//when getBindingContext is present (when items in groups are added) - corresponding group item label is passed as text\n\t\tlet source = {\n\t\t\tgetBindingContext: jest.fn().mockReturnValue({\n\t\t\t\tsPath: \"/configuration/groups/0/items/0\"\n\t\t\t}),\n\t\t\tgetId: jest.fn().mockReturnValue(\"cardGeneratorDialog--additionalActions-__list9-__vbox3-0-0\"),\n\t\t\taddDependent: jest.fn()\n\t\t};\n\t\tconst configurationController = {\n\t\t\tapplyCriticality: jest.fn(),\n\t\t\tonPopoverClose: jest.fn(),\n\t\t\tonPropertyFormatterChange: jest.fn(),\n\t\t\tapplyUoMFormatting: jest.fn(),\n\t\t\tapplyFormatting: jest.fn(),\n\t\t\tresetValueState: jest.fn(),\n\t\t\tonDownDifferenceChange: jest.fn(),\n\t\t\tonUpDifferenceChange: jest.fn(),\n\t\t\tonReferenceValInputChange: jest.fn(),\n\t\t\tonTargetValueChange: jest.fn(),\n\t\t\tonDeviationValueChange: jest.fn(),\n\t\t\tonTargetUnitChange: jest.fn(),\n\t\t\tonDeviationUnitChange: jest.fn(),\n\t\t\tapplyIndicators: jest.fn(),\n\t\t\tapplyTrendCalculation: jest.fn(),\n\t\t\tonDelete: jest.fn(),\n\t\t\tonTrendDelete: jest.fn(),\n\t\t\tonIndicatorsDelete: jest.fn(),\n\t\t\tonDeleteFormatter: jest.fn(),\n\t\t\tonDeleteCriticality: jest.fn()\n\t\t};\n\t\tFragment.load = jest.fn().mockResolvedValue(\n\t\t\tPromise.resolve({\n\t\t\t\tsetBindingContext: jest.fn(),\n\t\t\t\topenBy: jest.fn(),\n\t\t\t\tsetModel: jest.fn()\n\t\t\t})\n\t\t);\n\t\tawait CardGeneratorDialogController.loadAdvancedFormattingConfigurationFragment(source, configurationController);\n\t\texpect(getResourceBundleMock().getResourceBundle().getText).toHaveBeenCalledWith(\"SELECT_UOM_TEXT\");\n\t\texpect(getResourceBundleMock().getResourceBundle().getText).toHaveBeenCalledWith(\"SELECT_FORMATTER_TEXT\");\n\t\texpect(getResourceBundleMock().getResourceBundle().getText).toHaveBeenCalledWith(\"SELECT_CRITICALITY_TEXT\");\n\n\t\t//when getBindingContext is undefined (when items in groups are not added) - mainIndicator label is passed as text\n\t\tsource = {\n\t\t\tgetBindingContext: jest.fn().mockReturnValue(undefined),\n\t\t\tgetId: jest.fn().mockReturnValue(\"cardGeneratorDialog--additionalActions-__list9-__vbox3-0-0\"),\n\t\t\taddDependent: jest.fn()\n\t\t};\n\t\tawait CardGeneratorDialogController.loadAdvancedFormattingConfigurationFragment(source, configurationController);\n\t\texpect(getResourceBundleMock().getResourceBundle().getText).toHaveBeenCalledWith(\"SELECT_UOM_TEXT\");\n\t\texpect(getResourceBundleMock().getResourceBundle().getText).toHaveBeenCalledWith(\"SELECT_FORMATTER_TEXT\");\n\t\texpect(getResourceBundleMock().getResourceBundle().getText).toHaveBeenCalledWith(\"SELECT_CRITICALITY_TEXT\");\n\t});\n});\n\ndescribe(\"Update header - trend, side indicator\", () => {\n\tlet renderCardPreviewMock: jest.Mock;\n\tlet getCurrentCardManifestMock: jest.Mock;\n\tlet setPropertyMock: jest.Mock;\n\tlet coreElementGetElementByIdSpy: jest.SpyInstance;\n\n\tconst oDialogModelData = {\n\t\tconfiguration: {\n\t\t\tproperties: [\n\t\t\t\t{\n\t\t\t\t\tname: \"net_amount\",\n\t\t\t\t\ttype: \"Edm.Int32\"\n\t\t\t\t}\n\t\t\t],\n\t\t\tadvancedFormattingOptions: {\n\t\t\t\ttextArrangementSelectedKey: \"net_amount\"\n\t\t\t},\n\t\t\ttrendOptions: {\n\t\t\t\tsourceProperty: \"net_amount\",\n\t\t\t\tdownDifference: \"200\",\n\t\t\t\tdownDifferenceValueState: \"None\",\n\t\t\t\tupDifference: \"400\",\n\t\t\t\tupDifferenceValueState: \"None\",\n\t\t\t\treferenceValue: \"300\",\n\t\t\t\treferenceValueState: \"None\"\n\t\t\t},\n\t\t\tselectedTrendOptions: [],\n\t\t\tindicatorsValue: {\n\t\t\t\tsourceProperty: \"net_amount\",\n\t\t\t\ttargetValue: \"200\",\n\t\t\t\ttargetUnit: \"K\",\n\t\t\t\tdeviationValue: \"300\",\n\t\t\t\tdeviationUnit: \"K\"\n\t\t\t},\n\t\t\tselectedIndicatorOptions: []\n\t\t}\n\t};\n\tconst oDialogModel = new JSONModel(oDialogModelData);\n\tconst oDialog = {\n\t\tgetModel: jest.fn().mockReturnValue(oDialogModel),\n\t\topen: jest.fn(),\n\t\tsetModel: jest.fn(),\n\t\tclose: jest.fn()\n\t};\n\n\tbeforeAll(() => {\n\t\tcoreElementGetElementByIdSpy = jest.spyOn(CoreElement, \"getElementById\");\n\t\tcoreElementGetElementByIdSpy.mockImplementation((id) => {\n\t\t\tif (id === \"cardGeneratorDialog--cardGeneratorDialog\") {\n\t\t\t\treturn oDialog;\n\t\t\t}\n\t\t});\n\t});\n\n\tafterAll(() => {\n\t\tcoreElementGetElementByIdSpy.mockRestore();\n\t});\n\n\tbeforeEach(() => {\n\t\trenderCardPreviewMock = renderCardPreview as jest.Mock;\n\t\tgetCurrentCardManifestMock = getCurrentCardManifest as jest.Mock;\n\t\tsetPropertyMock = jest.fn();\n\t\toDialogModel.setData(oDialogModelData);\n\t\toDialogModel.setProperty = setPropertyMock;\n\t\tCardGeneratorDialogController.initialize();\n\t});\n\n\ttest(\"updateTrendForCardHeader - trend \", () => {\n\t\tgetCurrentCardManifestMock.mockReturnValue({\n\t\t\t_version: \"1.15.0\",\n\t\t\t\"sap.app\": {\n\t\t\t\tid: \"objectCard\",\n\t\t\t\ttype: \"card\",\n\t\t\t\ttitle: \"Card Title\",\n\t\t\t\tapplicationVersion: {\n\t\t\t\t\tversion: \"1.0.0\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t\"sap.ui\": {},\n\t\t\t\"sap.card\": {\n\t\t\t\ttype: \"Object\",\n\t\t\t\theader: {\n\t\t\t\t\ttype: \"Numeric\",\n\t\t\t\t\ttitle: \"{sales_order_id}\",\n\t\t\t\t\tmainIndicator: {\n\t\t\t\t\t\tstate: \"None\",\n\t\t\t\t\t\tnumber: \"{net_amount}\",\n\t\t\t\t\t\ttrend: \"None\"\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\tconst expectedManifest = {\n\t\t\t_version: \"1.15.0\",\n\t\t\t\"sap.app\": {\n\t\t\t\tid: \"objectCard\",\n\t\t\t\ttype: \"card\",\n\t\t\t\ttitle: \"Card Title\",\n\t\t\t\tapplicationVersion: {\n\t\t\t\t\tversion: \"1.0.0\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t\"sap.ui\": {},\n\t\t\t\"sap.card\": {\n\t\t\t\ttype: \"Object\",\n\t\t\t\theader: {\n\t\t\t\t\ttype: \"Numeric\",\n\t\t\t\t\ttitle: \"{sales_order_id}\",\n\t\t\t\t\tmainIndicator: {\n\t\t\t\t\t\tstate: \"None\",\n\t\t\t\t\t\tnumber: \"{net_amount}\",\n\t\t\t\t\t\ttrend: \"None\"\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tconst expectedTrendValues = {\n\t\t\treferenceValue: \"300\",\n\t\t\tdownDifference: \"200\",\n\t\t\tupDifference: \"400\",\n\t\t\tsourceProperty: \"net_amount\"\n\t\t};\n\n\t\tCardGeneratorDialogController._updateTrendForCardHeader();\n\n\t\texpect(renderCardPreviewMock).toHaveBeenCalledWith(expectedManifest, oDialogModel);\n\t\texpect(oDialogModel.getProperty(\"/configuration/selectedTrendOptions\")).toEqual([expectedTrendValues]);\n\t});\n\ttest(\"updateTrendForCardHeader - side indicator \", () => {\n\t\tgetCurrentCardManifestMock.mockReturnValue({\n\t\t\t_version: \"1.15.0\",\n\t\t\t\"sap.app\": {\n\t\t\t\tid: \"objectCard\",\n\t\t\t\ttype: \"card\",\n\t\t\t\ttitle: \"Card Title\",\n\t\t\t\tapplicationVersion: {\n\t\t\t\t\tversion: \"1.0.0\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t\"sap.ui\": {},\n\t\t\t\"sap.card\": {\n\t\t\t\tconfiguration: {\n\t\t\t\t\tparameters: {\n\t\t\t\t\t\tcontextParameters: {\n\t\t\t\t\t\t\ttype: \"string\",\n\t\t\t\t\t\t\tvalue: \"node_key=guid'fa163ee4-7bdd-1ee8-b1ff-d3c5a4e5236a',IsActiveEntity=true\"\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tdata: {\n\t\t\t\t\trequest: {\n\t\t\t\t\t\tbatch: {\n\t\t\t\t\t\t\theader: {\n\t\t\t\t\t\t\t\turl: \"C_STTA_SalesOrder_WD_20({{parameters.contextParameters}})\"\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\ttype: \"Object\",\n\t\t\t\theader: {\n\t\t\t\t\ttype: \"Numeric\",\n\t\t\t\t\ttitle: \"{sales_order_id}\",\n\t\t\t\t\tmainIndicator: {\n\t\t\t\t\t\tstate: \"None\",\n\t\t\t\t\t\tnumber: \"{net_amount}\",\n\t\t\t\t\t\ttrend: \"None\"\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\tconst expectedManifest = {\n\t\t\t_version: \"1.15.0\",\n\t\t\t\"sap.app\": {\n\t\t\t\tid: \"objectCard\",\n\t\t\t\ttype: \"card\",\n\t\t\t\ttitle: \"Card Title\",\n\t\t\t\tapplicationVersion: {\n\t\t\t\t\tversion: \"1.0.0\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t\"sap.ui\": {},\n\t\t\t\"sap.card\": {\n\t\t\t\tconfiguration: {\n\t\t\t\t\tparameters: {\n\t\t\t\t\t\tcontextParameters: {\n\t\t\t\t\t\t\ttype: \"string\",\n\t\t\t\t\t\t\tvalue: \"node_key=guid'fa163ee4-7bdd-1ee8-b1ff-d3c5a4e5236a',IsActiveEntity=true\"\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tdata: {\n\t\t\t\t\trequest: {\n\t\t\t\t\t\tbatch: {\n\t\t\t\t\t\t\theader: {\n\t\t\t\t\t\t\t\turl: \"C_STTA_SalesOrder_WD_20({{parameters.contextParameters}})\"\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\ttype: \"Object\",\n\t\t\t\theader: {\n\t\t\t\t\ttype: \"Numeric\",\n\t\t\t\t\ttitle: \"{sales_order_id}\",\n\t\t\t\t\tmainIndicator: {\n\t\t\t\t\t\tstate: \"None\",\n\t\t\t\t\t\tnumber: \"{net_amount}\",\n\t\t\t\t\t\ttrend: \"None\"\n\t\t\t\t\t},\n\t\t\t\t\tsideIndicators: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle: \"Target\",\n\t\t\t\t\t\t\tnumber: \"200\",\n\t\t\t\t\t\t\tunit: \"K\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle: \"Deviation\",\n\t\t\t\t\t\t\tnumber: \"300\",\n\t\t\t\t\t\t\tunit: \"K\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tconst expectedIndicatorValues = {\n\t\t\ttargetValue: \"200\",\n\t\t\tdeviationValue: \"300\",\n\t\t\ttargetUnit: \"K\",\n\t\t\tdeviationUnit: \"K\",\n\t\t\tsourceProperty: \"net_amount\"\n\t\t};\n\n\t\tCardGeneratorDialogController._updateSideIndicatorsForHeader();\n\n\t\texpect(renderCardPreviewMock).toHaveBeenCalledWith(expectedManifest, oDialogModel);\n\t\texpect(oDialogModel.getProperty(\"/configuration/selectedIndicatorOptions\")).toEqual([expectedIndicatorValues]);\n\t\texpect(setPropertyMock).toHaveBeenNthCalledWith(1, \"/configuration/indicatorsValue/targetDeviation\", \"200\");\n\t});\n});\n\ndescribe(\"Update header for selected values - trend, side indicator\", () => {\n\tlet renderCardPreviewMock: jest.Mock;\n\tlet getCurrentCardManifestMock: jest.Mock;\n\tlet setPropertyMock: jest.Mock;\n\tlet coreElementGetElementByIdSpy: jest.SpyInstance;\n\n\tconst oDialogModelData = {\n\t\tconfiguration: {\n\t\t\tproperties: [\n\t\t\t\t{\n\t\t\t\t\tname: \"net_amount\",\n\t\t\t\t\ttype: \"Edm.Int32\"\n\t\t\t\t}\n\t\t\t],\n\t\t\tadvancedFormattingOptions: {\n\t\t\t\ttextArrangementSelectedKey: \"net_amount\"\n\t\t\t},\n\t\t\ttrendOptions: {\n\t\t\t\tsourceProperty: \"net_amount\",\n\t\t\t\tdownDifference: \"200\",\n\t\t\t\tdownDifferenceValueState: \"None\",\n\t\t\t\tupDifference: \"400\",\n\t\t\t\tupDifferenceValueState: \"None\",\n\t\t\t\treferenceValue: \"300\",\n\t\t\t\treferenceValueState: \"None\"\n\t\t\t},\n\t\t\tselectedTrendOptions: [\n\t\t\t\t{\n\t\t\t\t\treferenceValue: \"33333333\",\n\t\t\t\t\tdownDifference: \"11\",\n\t\t\t\t\tupDifference: \"22\",\n\t\t\t\t\tsourceProperty: \"net_amount\"\n\t\t\t\t}\n\t\t\t],\n\t\t\tindicatorsValue: {\n\t\t\t\tsourceProperty: \"net_amount\",\n\t\t\t\ttargetValue: \"200\",\n\t\t\t\ttargetUnit: \"K\",\n\t\t\t\tdeviationValue: \"300\",\n\t\t\t\tdeviationUnit: \"K\"\n\t\t\t},\n\t\t\tselectedIndicatorOptions: [\n\t\t\t\t{\n\t\t\t\t\ttargetValue: \"11\",\n\t\t\t\t\tdeviationValue: \"55\",\n\t\t\t\t\ttargetUnit: \"%\",\n\t\t\t\t\tdeviationUnit: \"K\",\n\t\t\t\t\tsourceProperty: \"net_amount\"\n\t\t\t\t}\n\t\t\t]\n\t\t}\n\t};\n\tconst oDialogModel = new JSONModel(oDialogModelData);\n\tconst oDialog = {\n\t\tgetModel: jest.fn().mockReturnValue(oDialogModel),\n\t\topen: jest.fn(),\n\t\tsetModel: jest.fn()\n\t};\n\n\tbeforeAll(() => {\n\t\tcoreElementGetElementByIdSpy = jest.spyOn(CoreElement, \"getElementById\");\n\t\tcoreElementGetElementByIdSpy.mockImplementation((id) => {\n\t\t\tif (id === \"cardGeneratorDialog--cardGeneratorDialog\") {\n\t\t\t\treturn oDialog;\n\t\t\t}\n\t\t});\n\t});\n\n\tafterAll(() => {\n\t\tcoreElementGetElementByIdSpy.mockRestore();\n\t});\n\n\tbeforeEach(() => {\n\t\trenderCardPreviewMock = renderCardPreview as jest.Mock;\n\t\tgetCurrentCardManifestMock = getCurrentCardManifest as jest.Mock;\n\t\tsetPropertyMock = jest.fn();\n\n\t\toDialogModel.setData(oDialogModelData);\n\t\toDialogModel.setProperty = setPropertyMock;\n\t\tCardGeneratorDialogController.initialize();\n\t});\n\n\ttest(\"updateTrendForCardHeader - for selected trend \", () => {\n\t\tgetCurrentCardManifestMock.mockReturnValue({\n\t\t\t_version: \"1.15.0\",\n\t\t\t\"sap.app\": {\n\t\t\t\tid: \"objectCard\",\n\t\t\t\ttype: \"card\",\n\t\t\t\ttitle: \"Card Title\",\n\t\t\t\tapplicationVersion: {\n\t\t\t\t\tversion: \"1.0.0\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t\"sap.ui\": {},\n\t\t\t\"sap.card\": {\n\t\t\t\ttype: \"Object\",\n\t\t\t\theader: {\n\t\t\t\t\ttype: \"Numeric\",\n\t\t\t\t\ttitle: \"{sales_order_id}\",\n\t\t\t\t\tmainIndicator: {\n\t\t\t\t\t\tstate: \"None\",\n\t\t\t\t\t\tnumber: \"{net_amount}\",\n\t\t\t\t\t\ttrend: \"None\"\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\tconst expectedManifest = {\n\t\t\t_version: \"1.15.0\",\n\t\t\t\"sap.app\": {\n\t\t\t\tid: \"objectCard\",\n\t\t\t\ttype: \"card\",\n\t\t\t\ttitle: \"Card Title\",\n\t\t\t\tapplicationVersion: {\n\t\t\t\t\tversion: \"1.0.0\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t\"sap.ui\": {},\n\t\t\t\"sap.card\": {\n\t\t\t\ttype: \"Object\",\n\t\t\t\theader: {\n\t\t\t\t\ttype: \"Numeric\",\n\t\t\t\t\ttitle: \"{sales_order_id}\",\n\t\t\t\t\tmainIndicator: {\n\t\t\t\t\t\tstate: \"None\",\n\t\t\t\t\t\tnumber: \"{net_amount}\",\n\t\t\t\t\t\ttrend: \"None\"\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tconst expectedTrendValues = {\n\t\t\treferenceValue: \"300\",\n\t\t\tdownDifference: \"200\",\n\t\t\tupDifference: \"400\",\n\t\t\tsourceProperty: \"net_amount\"\n\t\t};\n\n\t\tCardGeneratorDialogController._updateTrendForCardHeader();\n\n\t\texpect(renderCardPreviewMock).toHaveBeenCalledWith(expectedManifest, oDialogModel);\n\t\texpect(oDialogModel.getProperty(\"/configuration/selectedTrendOptions\")).toEqual([expectedTrendValues]);\n\t\texpect(setPropertyMock).toHaveBeenNthCalledWith(1, \"/configuration/trendOptions\", {\n\t\t\tdownDifference: \"200\",\n\t\t\tdownDifferenceValueState: \"None\",\n\t\t\treferenceValue: \"300\",\n\t\t\treferenceValueState: \"None\",\n\t\t\tsourceProperty: \"net_amount\",\n\t\t\tupDifference: \"400\",\n\t\t\tupDifferenceValueState: \"None\"\n\t\t});\n\t});\n\ttest(\"updateSideIndicatorsForHeader - for selected side indicator \", () => {\n\t\tgetCurrentCardManifestMock.mockReturnValue({\n\t\t\t_version: \"1.15.0\",\n\t\t\t\"sap.app\": {\n\t\t\t\tid: \"objectCard\",\n\t\t\t\ttype: \"card\",\n\t\t\t\ttitle: \"Card Title\",\n\t\t\t\tapplicationVersion: {\n\t\t\t\t\tversion: \"1.0.0\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t\"sap.ui\": {},\n\t\t\t\"sap.card\": {\n\t\t\t\ttype: \"Object\",\n\t\t\t\theader: {\n\t\t\t\t\ttype: \"Numeric\",\n\t\t\t\t\ttitle: \"{sales_order_id}\",\n\t\t\t\t\tmainIndicator: {\n\t\t\t\t\t\tstate: \"None\",\n\t\t\t\t\t\tnumber: \"{net_amount}\",\n\t\t\t\t\t\ttrend: \"None\"\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\tconst expectedManifest = {\n\t\t\t_version: \"1.15.0\",\n\t\t\t\"sap.app\": {\n\t\t\t\tid: \"objectCard\",\n\t\t\t\ttype: \"card\",\n\t\t\t\ttitle: \"Card Title\",\n\t\t\t\tapplicationVersion: {\n\t\t\t\t\tversion: \"1.0.0\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t\"sap.ui\": {},\n\t\t\t\"sap.card\": {\n\t\t\t\ttype: \"Object\",\n\t\t\t\theader: {\n\t\t\t\t\ttype: \"Numeric\",\n\t\t\t\t\ttitle: \"{sales_order_id}\",\n\t\t\t\t\tmainIndicator: {\n\t\t\t\t\t\tstate: \"None\",\n\t\t\t\t\t\tnumber: \"{net_amount}\",\n\t\t\t\t\t\ttrend: \"None\"\n\t\t\t\t\t},\n\t\t\t\t\tsideIndicators: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle: \"Target\",\n\t\t\t\t\t\t\tnumber: \"200\",\n\t\t\t\t\t\t\tunit: \"K\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle: \"Deviation\",\n\t\t\t\t\t\t\tnumber: \"300\",\n\t\t\t\t\t\t\tunit: \"K\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\tCardGeneratorDialogController._updateSideIndicatorsForHeader();\n\n\t\texpect(renderCardPreviewMock).toHaveBeenCalledWith(expectedManifest, oDialogModel);\n\t\texpect(oDialogModel.getProperty(\"/configuration/selectedIndicatorOptions\")).toMatchSnapshot();\n\t\texpect(setPropertyMock).toHaveBeenNthCalledWith(1, \"/configuration/indicatorsValue\", {\n\t\t\tdeviationUnit: \"K\",\n\t\t\tdeviationValue: \"300\",\n\t\t\tsourceProperty: \"net_amount\",\n\t\t\ttargetUnit: \"K\",\n\t\t\ttargetValue: \"200\"\n\t\t}),\n\t\t\texpect(setPropertyMock).toHaveBeenNthCalledWith(2, \"/configuration/indicatorsValue/targetDeviation\", \"200\");\n\t});\n});\n\ndescribe(\"Validations - Card header\", () => {\n\tlet setPropertyMock: jest.Mock;\n\tlet coreElementGetElementByIdSpy: jest.SpyInstance;\n\n\tconst oDialogModel = new JSONModel();\n\tconst oDialog = {\n\t\tgetModel: jest.fn().mockReturnValue(oDialogModel),\n\t\topen: jest.fn(),\n\t\tsetModel: jest.fn(),\n\t\tclose: jest.fn()\n\t};\n\n\tbeforeAll(() => {\n\t\tcoreElementGetElementByIdSpy = jest.spyOn(CoreElement, \"getElementById\");\n\t\tcoreElementGetElementByIdSpy.mockImplementation((id) => {\n\t\t\tif (id === \"cardGeneratorDialog--cardGeneratorDialog\") {\n\t\t\t\treturn oDialog;\n\t\t\t}\n\t\t});\n\t});\n\n\tafterAll(() => {\n\t\tcoreElementGetElementByIdSpy.mockRestore();\n\t});\n\n\tbeforeEach(() => {\n\t\tsetPropertyMock = jest.fn();\n\t\toDialogModel.setProperty = setPropertyMock;\n\t\tCardGeneratorDialogController.initialize();\n\t});\n\n\tafterEach(() => {\n\t\tjest.clearAllMocks();\n\t});\n\n\ttest(\"setAdvancedFormattingOptionsEnablement - Criticality applied for direct and composite property keys\", () => {\n\t\tconst oDialogModelData = {\n\t\t\tconfiguration: {\n\t\t\t\tmainIndicatorStatusKey: \"net_amount\",\n\t\t\t\tproperties: [{ name: \"net_amount\", type: \"Edm.Int32\" }],\n\t\t\t\tmainIndicatorOptions: {\n\t\t\t\t\tcriticality: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: \"net_amount\",\n\t\t\t\t\t\t\tpropertyKeyForId: \"criticality_code\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: \"to_Business\",\n\t\t\t\t\t\t\tpropertyKeyForId: \"net_amount\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t\tnavigationProperty: [\n\t\t\t\t\t{\n\t\t\t\t\t\tname: \"to_Business\",\n\t\t\t\t\t\tproperties: [{ name: \"net_amount\", type: \"Edm.Int32\" }]\n\t\t\t\t\t}\n\t\t\t\t],\n\t\t\t\tadvancedFormattingOptions: {\n\t\t\t\t\tunitOfMeasures: [],\n\t\t\t\t\tpropertyValueFormatters: []\n\t\t\t\t},\n\t\t\t\ttrendOptions: {},\n\t\t\t\tselectedTrendOptions: [],\n\t\t\t\tindicatorsValue: {},\n\t\t\t\tselectedIndicatorOptions: []\n\t\t\t}\n\t\t};\n\n\t\toDialogModel.setData(oDialogModelData);\n\n\t\t// Direct match\n\t\tCardGeneratorDialogController._setAdvancedFormattingOptionsEnablement(\"net_amount\");\n\t\texpect(setPropertyMock).toHaveBeenCalledWith(\"/configuration/advancedFormattingOptions/isCriticalityApplied\", true);\n\n\t\t// Composite match\n\t\tCardGeneratorDialogController._setAdvancedFormattingOptionsEnablement(\"to_Business/net_amount\");\n\t\texpect(setPropertyMock).toHaveBeenCalledWith(\"/configuration/advancedFormattingOptions/isCriticalityApplied\", true);\n\t\texpect(setPropertyMock).toHaveBeenCalledWith(\"/configuration/advancedFormattingOptions/isFormatterEnabled\", true);\n\t});\n\ttest(\"setAdvancedFormattingOptionsEnablement - Navigation property path is resolved and data type is fetched\", () => {\n\t\tconst oDialogModelData = {\n\t\t\tconfiguration: {\n\t\t\t\tmainIndicatorStatusKey: \"to_Business/net_amount\",\n\t\t\t\tproperties: [],\n\t\t\t\tnavigationProperty: [\n\t\t\t\t\t{\n\t\t\t\t\t\tname: \"to_Business\",\n\t\t\t\t\t\tproperties: [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tname: \"net_amount\",\n\t\t\t\t\t\t\t\ttype: \"Edm.Int32\"\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t]\n\t\t\t\t\t}\n\t\t\t\t],\n\t\t\t\tadvancedFormattingOptions: {\n\t\t\t\t\tunitOfMeasures: [],\n\t\t\t\t\tpropertyValueFormatters: []\n\t\t\t\t},\n\t\t\t\ttrendOptions: {},\n\t\t\t\tselectedTrendOptions: [],\n\t\t\t\tindicatorsValue: {},\n\t\t\t\tselectedIndicatorOptions: []\n\t\t\t}\n\t\t};\n\t\toDialogModel.setData(oDialogModelData);\n\n\t\tCardGeneratorDialogController._setAdvancedFormattingOptionsEnablement(\"to_Business/net_amount\");\n\n\t\texpect(setPropertyMock).toHaveBeenCalledWith(\"/configuration/advancedFormattingOptions/isFormatterEnabled\", true);\n\t});\n\n\ttest(\"setAdvancedFormattingOptionsEnablement - Validate advanced formatting options for additional actions enablement\", () => {\n\t\tlet oDialogModelData = {\n\t\t\tconfiguration: {\n\t\t\t\tmainIndicatorStatusKey: \"net_amount\",\n\t\t\t\tproperties: [\n\t\t\t\t\t{\n\t\t\t\t\t\tname: \"net_amount\",\n\t\t\t\t\t\ttype: \"Edm.Int32\"\n\t\t\t\t\t}\n\t\t\t\t],\n\t\t\t\tadvancedFormattingOptions: {\n\t\t\t\t\tunitOfMeasures: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: \"net_amount\",\n\t\t\t\t\t\t\tvalue: \"currency_code\"\n\t\t\t\t\t\t}\n\t\t\t\t\t],\n\t\t\t\t\tpropertyValueFormatters: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tformatterName: \"format.unit\",\n\t\t\t\t\t\t\tdisplayName: \"\",\n\t\t\t\t\t\t\tparameters: [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tname: \"type\",\n\t\t\t\t\t\t\t\t\tdisplayName: \"\",\n\t\t\t\t\t\t\t\t\ttype: \"string\",\n\t\t\t\t\t\t\t\t\tdefaultValue: \"\",\n\t\t\t\t\t\t\t\t\tvalue: \"${currency_code}\"\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tname: \"options\",\n\t\t\t\t\t\t\t\t\tdisplayName: \"Options\",\n\t\t\t\t\t\t\t\t\ttype: \"object\",\n\t\t\t\t\t\t\t\t\tdefaultValue: \"\",\n\t\t\t\t\t\t\t\t\tproperties: [\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\tname: \"decimals\",\n\t\t\t\t\t\t\t\t\t\t\tdisplayName: \"Decimals\",\n\t\t\t\t\t\t\t\t\t\t\ttype: \"number\",\n\t\t\t\t\t\t\t\t\t\t\tdefaultValue: 2\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\tname: \"style\",\n\t\t\t\t\t\t\t\t\t\t\tdisplayName: \"Style\",\n\t\t\t\t\t\t\t\t\t\t\ttype: \"enum\",\n\t\t\t\t\t\t\t\t\t\t\tdefaultSelectedKey: \"short\",\n\t\t\t\t\t\t\t\t\t\t\toptions: [\n\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue: \"short\",\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"Short\"\n\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue: \"long\",\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"Long\"\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\ttype: \"numeric\",\n\t\t\t\t\t\t\tvisible: false,\n\t\t\t\t\t\t\tproperty: \"net_amount\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t\ttrendOptions: {\n\t\t\t\t\tsourceProperty: \"net_amount\",\n\t\t\t\t\tdownDifference: \"200\",\n\t\t\t\t\tupDifference: \"400\",\n\t\t\t\t\treferenceValue: \"300\"\n\t\t\t\t},\n\t\t\t\tselectedTrendOptions: [\n\t\t\t\t\t{\n\t\t\t\t\t\treferenceValue: \"\",\n\t\t\t\t\t\tdownDifference: \"\",\n\t\t\t\t\t\tupDifference: \"\",\n\t\t\t\t\t\tsourceProperty: \"\",\n\t\t\t\t\t\tupDown: false\n\t\t\t\t\t}\n\t\t\t\t],\n\t\t\t\tindicatorsValue: {\n\t\t\t\t\tsourceProperty: \"net_amount\",\n\t\t\t\t\ttargetValue: \"200\",\n\t\t\t\t\ttargetUnit: \"K\",\n\t\t\t\t\tdeviationValue: \"300\",\n\t\t\t\t\tdeviationUnit: \"K\"\n\t\t\t\t},\n\t\t\t\tselectedIndicatorOptions: [\n\t\t\t\t\t{\n\t\t\t\t\t\ttargetValue: \"\",\n\t\t\t\t\t\ttargetUnit: \"\",\n\t\t\t\t\t\tdeviationValue: \"\",\n\t\t\t\t\t\tdeviationUnit: \"\",\n\t\t\t\t\t\tsourceProperty: \"\",\n\t\t\t\t\t\ttargetDeviation: false\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t}\n\t\t};\n\t\toDialogModel.setData(oDialogModelData);\n\n\t\tCardGeneratorDialogController._setAdvancedFormattingOptionsEnablement(\"net_amount\");\n\t\tlet count = 1;\n\t\texpect(setPropertyMock).toHaveBeenNthCalledWith(count++, \"/configuration/trendOptions/sourceProperty\", \"net_amount\");\n\t\texpect(setPropertyMock).toHaveBeenNthCalledWith(count++, \"/configuration/indicatorsValue/sourceProperty\", \"net_amount\");\n\t\texpect(setPropertyMock).toHaveBeenNthCalledWith(count++, \"/configuration/advancedFormattingOptions/isFormatterApplied\", false);\n\t\texpect(setPropertyMock).toHaveBeenNthCalledWith(count++, \"/configuration/advancedFormattingOptions/isFormatterEnabled\", true);\n\t\texpect(setPropertyMock).toHaveBeenNthCalledWith(count++, \"/configuration/advancedFormattingOptions/isUOMApplied\", true);\n\t\texpect(setPropertyMock).toHaveBeenNthCalledWith(count++, \"/configuration/advancedFormattingOptions/isCriticalityApplied\", false);\n\t\texpect(setPropertyMock).toHaveBeenNthCalledWith(count++, \"/configuration/advancedFormattingOptions/isTrendApplied\", false);\n\t\texpect(setPropertyMock).toHaveBeenNthCalledWith(count++, \"/configuration/advancedFormattingOptions/isIndicatorsApplied\", false);\n\t\texpect(setPropertyMock).toHaveBeenNthCalledWith(count++, \"/configuration/trendOptions/upDown\", true);\n\t\texpect(setPropertyMock).toHaveBeenNthCalledWith(count++, \"/configuration/indicatorsValue/targetDeviation\", true);\n\n\t\t//when unit formatter has default formatOptions\n\t\toDialogModelData = {\n\t\t\tconfiguration: {\n\t\t\t\tmainIndicatorStatusKey: \"net_amount\",\n\t\t\t\tproperties: [\n\t\t\t\t\t{\n\t\t\t\t\t\tname: \"{net_amount}\",\n\t\t\t\t\t\ttype: \"Edm.Int32\"\n\t\t\t\t\t}\n\t\t\t\t],\n\t\t\t\tadvancedFormattingOptions: {\n\t\t\t\t\tunitOfMeasures: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: \"net_amount\",\n\t\t\t\t\t\t\tvalue: \"currency_code\"\n\t\t\t\t\t\t}\n\t\t\t\t\t],\n\t\t\t\t\tpropertyValueFormatters: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tformatterName: \"format.unit\",\n\t\t\t\t\t\t\tdisplayName: \"\",\n\t\t\t\t\t\t\tparameters: [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tname: \"type\",\n\t\t\t\t\t\t\t\t\tdisplayName: \"\",\n\t\t\t\t\t\t\t\t\ttype: \"string\",\n\t\t\t\t\t\t\t\t\tdefaultValue: \"\",\n\t\t\t\t\t\t\t\t\tvalue: \"${currency_code}\"\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tname: \"options\",\n\t\t\t\t\t\t\t\t\tdisplayName: \"Options\",\n\t\t\t\t\t\t\t\t\ttype: \"object\",\n\t\t\t\t\t\t\t\t\tdefaultValue: \"\",\n\t\t\t\t\t\t\t\t\tproperties: [\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\tname: \"decimals\",\n\t\t\t\t\t\t\t\t\t\t\tdisplayName: \"Decimals\",\n\t\t\t\t\t\t\t\t\t\t\ttype: \"number\",\n\t\t\t\t\t\t\t\t\t\t\tdefaultValue: 2\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\tname: \"style\",\n\t\t\t\t\t\t\t\t\t\t\tdisplayName: \"Style\",\n\t\t\t\t\t\t\t\t\t\t\ttype: \"enum\",\n\t\t\t\t\t\t\t\t\t\t\tdefaultSelectedKey: \"short\",\n\t\t\t\t\t\t\t\t\t\t\toptions: [\n\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue: \"short\",\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"Short\"\n\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue: \"long\",\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"Long\"\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\ttype: \"numeric\",\n\t\t\t\t\t\t\tvisible: false,\n\t\t\t\t\t\t\tproperty: \"net_amount\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t\ttrendOptions: {},\n\t\t\t\tselectedTrendOptions: [],\n\t\t\t\tindicatorsValue: {},\n\t\t\t\tselectedIndicatorOptions: []\n\t\t\t}\n\t\t};\n\t\toDialogModel.setData(oDialogModelData);\n\t\tCardGeneratorDialogController._setAdvancedFormattingOptionsEnablement(\"{net_amount}\");\n\t\texpect(setPropertyMock).toHaveBeenNthCalledWith(13, \"/configuration/advancedFormattingOptions/isFormatterApplied\", false);\n\n\t\t//when unit formatter has user provided formatOptions\n\t\toDialogModelData = {\n\t\t\tconfiguration: {\n\t\t\t\tmainIndicatorStatusKey: \"net_amount\",\n\t\t\t\tproperties: [\n\t\t\t\t\t{\n\t\t\t\t\t\tname: \"{net_amount}\",\n\t\t\t\t\t\ttype: \"Edm.Int32\"\n\t\t\t\t\t}\n\t\t\t\t],\n\t\t\t\tadvancedFormattingOptions: {\n\t\t\t\t\tunitOfMeasures: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: \"net_amount\",\n\t\t\t\t\t\t\tvalue: \"currency_code\"\n\t\t\t\t\t\t}\n\t\t\t\t\t],\n\t\t\t\t\tpropertyValueFormatters: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tformatterName: \"format.unit\",\n\t\t\t\t\t\t\tdisplayName: \"\",\n\t\t\t\t\t\t\tparameters: [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tname: \"type\",\n\t\t\t\t\t\t\t\t\tdisplayName: \"\",\n\t\t\t\t\t\t\t\t\ttype: \"string\",\n\t\t\t\t\t\t\t\t\tdefaultValue: \"\",\n\t\t\t\t\t\t\t\t\tvalue: \"${currency_code}\"\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tname: \"options\",\n\t\t\t\t\t\t\t\t\tdisplayName: \"Options\",\n\t\t\t\t\t\t\t\t\ttype: \"object\",\n\t\t\t\t\t\t\t\t\tdefaultValue: \"\",\n\t\t\t\t\t\t\t\t\tproperties: [\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\tname: \"decimals\",\n\t\t\t\t\t\t\t\t\t\t\tdisplayName: \"Decimals\",\n\t\t\t\t\t\t\t\t\t\t\ttype: \"number\",\n\t\t\t\t\t\t\t\t\t\t\tdefaultValue: 2,\n\t\t\t\t\t\t\t\t\t\t\tvalue: 1\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\tname: \"style\",\n\t\t\t\t\t\t\t\t\t\t\tdisplayName: \"Style\",\n\t\t\t\t\t\t\t\t\t\t\ttype: \"enum\",\n\t\t\t\t\t\t\t\t\t\t\tdefaultSelectedKey: \"short\",\n\t\t\t\t\t\t\t\t\t\t\toptions: [\n\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue: \"short\",\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"Short\"\n\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue: \"long\",\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"Long\"\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t\t\t\tselectedKey: \"long\"\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\ttype: \"numeric\",\n\t\t\t\t\t\t\tvisible: false,\n\t\t\t\t\t\t\tproperty: \"net_amount\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t\ttrendOptions: {},\n\t\t\t\tselectedTrendOptions: [],\n\t\t\t\tindicatorsValue: {},\n\t\t\t\tselectedIndicatorOptions: []\n\t\t\t}\n\t\t};\n\t\toDialogModel.setData(oDialogModelData);\n\t\tCardGeneratorDialogController._setAdvancedFormattingOptionsEnablement(\"net_amount\");\n\t\texpect(setPropertyMock).toHaveBeenNthCalledWith(21, \"/configuration/advancedFormattingOptions/isFormatterApplied\", true);\n\n\t\t//when unit formatter has user provided formatOptions - decimals in formatOptions is 0\n\t\toDialogModelData = {\n\t\t\tconfiguration: {\n\t\t\t\tproperties: [\n\t\t\t\t\t{\n\t\t\t\t\t\tname: \"{net_amount}\",\n\t\t\t\t\t\ttype: \"Edm.Int32\"\n\t\t\t\t\t}\n\t\t\t\t],\n\t\t\t\tadvancedFormattingOptions: {\n\t\t\t\t\tunitOfMeasures: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: \"net_amount\",\n\t\t\t\t\t\t\tvalue: \"currency_code\"\n\t\t\t\t\t\t}\n\t\t\t\t\t],\n\t\t\t\t\tpropertyValueFormatters: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tformatterName: \"format.unit\",\n\t\t\t\t\t\t\tdisplayName: \"\",\n\t\t\t\t\t\t\tparameters: [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tname: \"type\",\n\t\t\t\t\t\t\t\t\tdisplayName: \"\",\n\t\t\t\t\t\t\t\t\ttype: \"string\",\n\t\t\t\t\t\t\t\t\tdefaultValue: \"\",\n\t\t\t\t\t\t\t\t\tvalue: \"${currency_code}\"\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tname: \"options\",\n\t\t\t\t\t\t\t\t\tdisplayName: \"Options\",\n\t\t\t\t\t\t\t\t\ttype: \"object\",\n\t\t\t\t\t\t\t\t\tdefaultValue: \"\",\n\t\t\t\t\t\t\t\t\tproperties: [\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\tname: \"decimals\",\n\t\t\t\t\t\t\t\t\t\t\tdisplayName: \"Decimals\",\n\t\t\t\t\t\t\t\t\t\t\ttype: \"number\",\n\t\t\t\t\t\t\t\t\t\t\tdefaultValue: 2,\n\t\t\t\t\t\t\t\t\t\t\tvalue: 0\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\tname: \"style\",\n\t\t\t\t\t\t\t\t\t\t\tdisplayName: \"Style\",\n\t\t\t\t\t\t\t\t\t\t\ttype: \"enum\",\n\t\t\t\t\t\t\t\t\t\t\tdefaultSelectedKey: \"short\",\n\t\t\t\t\t\t\t\t\t\t\toptions: [\n\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue: \"short\",\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"Short\"\n\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue: \"long\",\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"Long\"\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t\t\t\tselectedKey: \"long\"\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\ttype: \"numeric\",\n\t\t\t\t\t\t\tvisible: false,\n\t\t\t\t\t\t\tproperty: \"net_amount\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t\ttrendOptions: {},\n\t\t\t\tselectedTrendOptions: [],\n\t\t\t\tindicatorsValue: {},\n\t\t\t\tselectedIndicatorOptions: []\n\t\t\t}\n\t\t};\n\t\toDialogModel.setData(oDialogModelData);\n\t\tCardGeneratorDialogController._setAdvancedFormattingOptionsEnablement(\"net_amount\");\n\t\texpect(setPropertyMock).toHaveBeenNthCalledWith(29, \"/configuration/advancedFormattingOptions/isFormatterApplied\", true);\n\n\t\toDialogModelData = {\n\t\t\tconfiguration: {\n\t\t\t\tmainIndicatorStatusKey: \"net_amount\",\n\t\t\t\tproperties: [\n\t\t\t\t\t{\n\t\t\t\t\t\tname: \"net_amount\",\n\t\t\t\t\t\ttype: \"Edm.Int32\"\n\t\t\t\t\t}\n\t\t\t\t],\n\t\t\t\tadvancedFormattingOptions: {\n\t\t\t\t\tunitOfMeasures: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: \"net_amount\",\n\t\t\t\t\t\t\tvalue: \"currency_code\"\n\t\t\t\t\t\t}\n\t\t\t\t\t],\n\t\t\t\t\tpropertyValueFormatters: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tformatterName: \"format.unit\",\n\t\t\t\t\t\t\tdisplayName: \"\",\n\t\t\t\t\t\t\tparameters: [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tname: \"type\",\n\t\t\t\t\t\t\t\t\tdisplayName: \"\",\n\t\t\t\t\t\t\t\t\ttype: \"string\",\n\t\t\t\t\t\t\t\t\tdefaultValue: \"\",\n\t\t\t\t\t\t\t\t\tvalue: \"${currency_code}\"\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tname: \"options\",\n\t\t\t\t\t\t\t\t\tdisplayName: \"Options\",\n\t\t\t\t\t\t\t\t\ttype: \"object\",\n\t\t\t\t\t\t\t\t\tdefaultValue: \"\",\n\t\t\t\t\t\t\t\t\tproperties: [\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\tname: \"decimals\",\n\t\t\t\t\t\t\t\t\t\t\tdisplayName: \"Decimals\",\n\t\t\t\t\t\t\t\t\t\t\ttype: \"number\",\n\t\t\t\t\t\t\t\t\t\t\tdefaultValue: 2\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\tname: \"style\",\n\t\t\t\t\t\t\t\t\t\t\tdisplayName: \"Style\",\n\t\t\t\t\t\t\t\t\t\t\ttype: \"enum\",\n\t\t\t\t\t\t\t\t\t\t\tdefaultSelectedKey: \"short\",\n\t\t\t\t\t\t\t\t\t\t\toptions: [\n\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue: \"short\",\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"Short\"\n\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue: \"long\",\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"Long\"\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\ttype: \"numeric\",\n\t\t\t\t\t\t\tvisible: false,\n\t\t\t\t\t\t\tproperty: \"net_amount\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t\ttrendOptions: {\n\t\t\t\t\tsourceProperty: \"\",\n\t\t\t\t\tdownDifference: \"\",\n\t\t\t\t\tupDifference: \"\",\n\t\t\t\t\treferenceValue: \"\"\n\t\t\t\t},\n\t\t\t\tselectedTrendOptions: [\n\t\t\t\t\t{\n\t\t\t\t\t\treferenceValue: \"3333\",\n\t\t\t\t\t\tdownDifference: \"11\",\n\t\t\t\t\t\tupDifference: \"22\",\n\t\t\t\t\t\tsourceProperty: \"net_amount\",\n\t\t\t\t\t\tupDown: true\n\t\t\t\t\t}\n\t\t\t\t],\n\t\t\t\tindicatorsValue: {\n\t\t\t\t\tsourceProperty: \"\",\n\t\t\t\t\ttargetValue: \"\",\n\t\t\t\t\ttargetUnit: \"\",\n\t\t\t\t\tdeviationValue: \"\",\n\t\t\t\t\tdeviationUnit: \"\"\n\t\t\t\t},\n\t\t\t\tselectedIndicatorOptions: [\n\t\t\t\t\t{\n\t\t\t\t\t\ttargetValue: \"1144\",\n\t\t\t\t\t\ttargetUnit: \"%\",\n\t\t\t\t\t\tdeviationValue: \"22\",\n\t\t\t\t\t\tdeviationUnit: \"%\",\n\t\t\t\t\t\tsourceProperty: \"net_amount\",\n\t\t\t\t\t\ttargetDeviation: true\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t}\n\t\t};\n\t\toDialogModel.setData(oDialogModelData);\n\n\t\tCardGeneratorDialogController._setAdvancedFormattingOptionsEnablement(\"net_amount\");\n\t\texpect(setPropertyMock).toHaveBeenNthCalledWith(41, \"/configuration/advancedFormattingOptions/isTrendApplied\", true);\n\t\texpect(setPropertyMock).toHaveBeenNthCalledWith(42, \"/configuration/advancedFormattingOptions/isIndicatorsApplied\", true);\n\t});\n\ttest(\"setAdvancedFormattingOptionsEnablement - Validate for Navigational source property\", () => {\n\t\tlet oDialogModelData = {\n\t\t\tconfiguration: {\n\t\t\t\tmainIndicatorStatusKey: \"to_Business/net_amount\",\n\t\t\t\tproperties: [\n\t\t\t\t\t{\n\t\t\t\t\t\tname: \"net_amount\",\n\t\t\t\t\t\ttype: \"Edm.Int32\"\n\t\t\t\t\t}\n\t\t\t\t],\n\t\t\t\tadvancedFormattingOptions: {\n\t\t\t\t\tunitOfMeasures: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: \"net_amount\",\n\t\t\t\t\t\t\tvalue: \"currency_code\"\n\t\t\t\t\t\t}\n\t\t\t\t\t],\n\t\t\t\t\tpropertyValueFormatters: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tformatterName: \"format.unit\",\n\t\t\t\t\t\t\tdisplayName: \"\",\n\t\t\t\t\t\t\tparameters: [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tname: \"type\",\n\t\t\t\t\t\t\t\t\tdisplayName: \"\",\n\t\t\t\t\t\t\t\t\ttype: \"string\",\n\t\t\t\t\t\t\t\t\tdefaultValue: \"\",\n\t\t\t\t\t\t\t\t\tvalue: \"${currency_code}\"\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tname: \"options\",\n\t\t\t\t\t\t\t\t\tdisplayName: \"Options\",\n\t\t\t\t\t\t\t\t\ttype: \"object\",\n\t\t\t\t\t\t\t\t\tdefaultValue: \"\",\n\t\t\t\t\t\t\t\t\tproperties: [\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\tname: \"decimals\",\n\t\t\t\t\t\t\t\t\t\t\tdisplayName: \"Decimals\",\n\t\t\t\t\t\t\t\t\t\t\ttype: \"number\",\n\t\t\t\t\t\t\t\t\t\t\tdefaultValue: 2\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\tname: \"style\",\n\t\t\t\t\t\t\t\t\t\t\tdisplayName: \"Style\",\n\t\t\t\t\t\t\t\t\t\t\ttype: \"enum\",\n\t\t\t\t\t\t\t\t\t\t\tdefaultSelectedKey: \"short\",\n\t\t\t\t\t\t\t\t\t\t\toptions: [\n\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue: \"short\",\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"Short\"\n\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue: \"long\",\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"Long\"\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\ttype: \"numeric\",\n\t\t\t\t\t\t\tvisible: false,\n\t\t\t\t\t\t\tproperty: \"to_Business/net_amount\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t\ttrendOptions: {\n\t\t\t\t\tsourceProperty: \"to_Business/net_amount\",\n\t\t\t\t\tdownDifference: \"200\",\n\t\t\t\t\tupDifference: \"400\",\n\t\t\t\t\treferenceValue: \"300\"\n\t\t\t\t},\n\t\t\t\tselectedTrendOptions: [\n\t\t\t\t\t{\n\t\t\t\t\t\treferenceValue: \"\",\n\t\t\t\t\t\tdownDifference: \"\",\n\t\t\t\t\t\tupDifference: \"\",\n\t\t\t\t\t\tsourceProperty: \"\",\n\t\t\t\t\t\tupDown: false\n\t\t\t\t\t}\n\t\t\t\t],\n\t\t\t\tindicatorsValue: {\n\t\t\t\t\tsourceProperty: \"to_Business/net_amount\",\n\t\t\t\t\ttargetValue: \"200\",\n\t\t\t\t\ttargetUnit: \"K\",\n\t\t\t\t\tdeviationValue: \"300\",\n\t\t\t\t\tdeviationUnit: \"K\"\n\t\t\t\t},\n\t\t\t\tselectedIndicatorOptions: [\n\t\t\t\t\t{\n\t\t\t\t\t\ttargetValue: \"\",\n\t\t\t\t\t\ttargetUnit: \"\",\n\t\t\t\t\t\tdeviationValue: \"\",\n\t\t\t\t\t\tdeviationUnit: \"\",\n\t\t\t\t\t\tsourceProperty: \"\",\n\t\t\t\t\t\ttargetDeviation: false\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t}\n\t\t};\n\t\toDialogModel.setData(oDialogModelData);\n\n\t\tCardGeneratorDialogController._setAdvancedFormattingOptionsEnablement(\"to_Business/net_amount\");\n\t\tlet count = 1;\n\t\texpect(setPropertyMock).toHaveBeenNthCalledWith(count++, \"/configuration/trendOptions/sourceProperty\", \"to_Business/net_amount\");\n\t\texpect(setPropertyMock).toHaveBeenNthCalledWith(count++, \"/configuration/indicatorsValue/sourceProperty\", \"to_Business/net_amount\");\n\t\texpect(setPropertyMock).toHaveBeenNthCalledWith(count++, \"/configuration/advancedFormattingOptions/isFormatterApplied\", false);\n\t\texpect(setPropertyMock).toHaveBeenNthCalledWith(count++, \"/configuration/advancedFormattingOptions/isFormatterEnabled\", false);\n\t\texpect(setPropertyMock).toHaveBeenNthCalledWith(count++, \"/configuration/advancedFormattingOptions/isUOMApplied\", false);\n\t\texpect(setPropertyMock).toHaveBeenNthCalledWith(count++, \"/configuration/advancedFormattingOptions/isCriticalityApplied\", false);\n\t\texpect(setPropertyMock).toHaveBeenNthCalledWith(count++, \"/configuration/advancedFormattingOptions/isTrendApplied\", false);\n\t\texpect(setPropertyMock).toHaveBeenNthCalledWith(count++, \"/configuration/advancedFormattingOptions/isIndicatorsApplied\", false);\n\t\texpect(setPropertyMock).toHaveBeenNthCalledWith(count++, \"/configuration/trendOptions/upDown\", true);\n\t\texpect(setPropertyMock).toHaveBeenNthCalledWith(count++, \"/configuration/indicatorsValue/targetDeviation\", true);\n\t});\n});\n\ndescribe(\"Card Action Handlers\", () => {\n\tlet setValueStateMock: jest.Mock;\n\tlet createAndStoreGeneratedi18nKeysMock: jest.Mock;\n\tlet jQueryAjaxSpy: jest.SpyInstance;\n\tlet windowSpy: jest.SpyInstance;\n\tlet addActionToCardManifestMock: jest.Mock;\n\tlet coreElementGetElementByIdSpy: jest.SpyInstance;\n\n\tconst oDialogModelData = {\n\t\tconfiguration: {\n\t\t\tactions: {\n\t\t\t\taddedActions: [],\n\t\t\t\tannotationActions: [\n\t\t\t\t\t{\n\t\t\t\t\t\tlabel: \"Release\",\n\t\t\t\t\t\taction: \"C_SalesPlanTPRelease\"\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tlabel: \"Reopen\",\n\t\t\t\t\t\taction: \"C_SalesPlanTPReopen\"\n\t\t\t\t\t}\n\t\t\t\t],\n\t\t\t\tisAddActionEnabled: true,\n\t\t\t\tisConfirmationRequired: \"false\",\n\t\t\t\tcomplimentaryAction: {\n\t\t\t\t\ttitle: \"\",\n\t\t\t\t\ttitleKey: \"\",\n\t\t\t\t\tstyle: \"Default\",\n\t\t\t\t\tisConfirmationRequired: \"false\",\n\t\t\t\t\tcomplimentaryActionKey: \"\"\n\t\t\t\t}\n\t\t\t},\n\t\t\terrorControls: [],\n\t\t\tkeyParameters: [],\n\t\t\tappIntent: \"SalesQuotation-manageV2\"\n\t\t}\n\t};\n\tconst oDialogModel = new JSONModel(oDialogModelData);\n\tconst getResourceBundleMock = jest.fn().mockReturnValue({\n\t\tgetResourceBundle: jest.fn().mockReturnValue({\n\t\t\tgetText: jest.fn().mockImplementation((key) => {\n\t\t\t\tif (key === \"GENERATOR_CARD_TITLE\") return \"Card Title\";\n\t\t\t\tif (key === \"GENERATOR_MAIN_INDICATOR\") return \"Main Indicator\";\n\t\t\t\tif (key === \"GENERIC_ERR_MSG\") return \"Error occurred for Main Indicator \";\n\t\t\t})\n\t\t}),\n\t\tgetObject: jest.fn().mockImplementation((key) => {\n\t\t\tif (key === \"GENERATOR_ACTION_ERROR_TEXT\") return \"Error occurred\";\n\t\t})\n\t});\n\tconst oDialog = {\n\t\tgetModel: (type?: string) => {\n\t\t\tif (type && type === \"i18n\") {\n\t\t\t\treturn getResourceBundleMock();\n\t\t\t} else {\n\t\t\t\treturn oDialogModel;\n\t\t\t}\n\t\t},\n\t\topen: jest.fn(),\n\t\tsetModel: jest.fn(),\n\t\tclose: jest.fn(),\n\t\tgetCustomHeader: jest.fn().mockReturnValue({\n\t\t\tgetContentMiddle: jest.fn().mockReturnValue([{}, {}, {}, {}, new ToggleButton()])\n\t\t})\n\t};\n\tconst expectedManifest = {\n\t\t\"sap.app\": {\n\t\t\tid: \"objectCard\",\n\t\t\ttype: \"card\",\n\t\t\ttitle: \"Card Title\",\n\t\t\tapplicationVersion: {\n\t\t\t\tversion: \"1.0.0\"\n\t\t\t}\n\t\t},\n\t\t\"sap.ui\": {},\n\t\t\"sap.card\": {\n\t\t\ttype: \"Object\",\n\t\t\theader: {\n\t\t\t\ttitle: \"{sales_order_id}\"\n\t\t\t},\n\t\t\tconfiguration: {\n\t\t\t\tparameters: {\n\t\t\t\t\t_entitySet: {\n\t\t\t\t\t\ttype: \"string\",\n\t\t\t\t\t\tvalue: \"SalesOrderManage\"\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t\"sap.insights\": {\n\t\t\ttemplateName: \"ObjectPage\",\n\t\t\tparentAppId: \"sales.order.wd20\",\n\t\t\tcardType: \"LEAN_DT\",\n\t\t\tversions: {\n\t\t\t\tui5: \"1.120.1-202405021611\"\n\t\t\t}\n\t\t}\n\t};\n\n\tbeforeAll(() => {\n\t\tcoreElementGetElementByIdSpy = jest.spyOn(CoreElement, \"getElementById\");\n\t\tcoreElementGetElementByIdSpy.mockImplementation((id) => {\n\t\t\tif (id === \"cardGeneratorDialog--cardGeneratorDialog\") {\n\t\t\t\treturn oDialog;\n\t\t\t}\n\t\t\tif (id === \"cardGeneratorDialog--cardPreview\") {\n\t\t\t\treturn {\n\t\t\t\t\tgetManifest: jest.fn().mockReturnValue(expectedManifest)\n\t\t\t\t};\n\t\t\t}\n\t\t});\n\t\tObjectPage.createInstance(rootComponent);\n\t});\n\n\tafterAll(() => {\n\t\tApplication.getInstance()._resetInstance();\n\t\tcoreElementGetElementByIdSpy.mockRestore();\n\t});\n\n\tbeforeEach(() => {\n\t\tsetValueStateMock = jest.fn();\n\t\taddActionToCardManifestMock = addActionToCardManifest as jest.Mock;\n\t\tcreateAndStoreGeneratedi18nKeysMock = createAndStoreGeneratedi18nKeys as jest.Mock;\n\t\tjQueryAjaxSpy = jest.spyOn(jQuery, \"ajax\");\n\t\twindowSpy = jest.spyOn(window, \"window\", \"get\");\n\t\twindowSpy.mockImplementation(() => ({\n\t\t\thasher: {\n\t\t\t\tgetHash: () => \"SalesQuotation-manageV2&/SalesQuotationManage('20000005')\"\n\t\t\t},\n\t\t\tlocation: {\n\t\t\t\thref: \"https://my313815.s4hana.ondemand.com/ui#SalesQuotation-manageV2&/SalesQuotationManage('20000005')\",\n\t\t\t\torigin: \"https://my313815.s4hana.ondemand.com\"\n\t\t\t}\n\t\t}));\n\t\toDialogModel.setData(oDialogModelData);\n\t\tCardGeneratorDialogController.initialize();\n\t});\n\n\tafterEach(() => {\n\t\twindowSpy.mockRestore();\n\t\tjest.clearAllMocks();\n\t});\n\n\ttest(\"onActionAddClick : Test the handler when add action button is being clicked on UI\", () => {\n\t\texpect(oDialogModel.getProperty(\"/configuration/actions/addedActions\")).toMatchSnapshot();\n\t\t// set isEdited flag to false before trigerring add event\n\t\toDialogModel.setProperty(\"/configuration/isEdited\", false);\n\t\tCardGeneratorDialogController.onActionAddClick();\n\t\texpect(oDialogModel.getProperty(\"/configuration/isEdited\")).toBe(true);\n\t\texpect(oDialogModel.getProperty(\"/configuration/actions/addedActions\")).toMatchSnapshot();\n\t});\n\n\ttest(\"onAddedActionDelete : Test the handler when Delete action is being clicked on UI and there exists two action on UI\", () => {\n\t\tconst addedActions: any = [\n\t\t\t{\n\t\t\t\ttitle: \"Reopen\",\n\t\t\t\ttitleKey: \"C_SalesPlanTPReopen\",\n\t\t\t\tstyle: \"Positive\",\n\t\t\t\tenablePathKey: \"IsActiveEntity\",\n\t\t\t\tisStyleControlEnabled: true\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: \"Release\",\n\t\t\t\ttitleKey: \"C_SalesPlanTPRelease\",\n\t\t\t\tstyle: \"Negative\",\n\t\t\t\tenablePathKey: \"Update_mc\",\n\t\t\t\tisStyleControlEnabled: true\n\t\t\t}\n\t\t];\n\t\toDialogModelData.configuration.actions.addedActions = addedActions;\n\t\toDialogModelData.configuration.actions.isAddActionEnabled = false;\n\n\t\tconst mockComboBox = {\n\t\t\tgetMetadata: () => ({ getName: () => \"sap.m.ComboBox\" }),\n\t\t\tsetValueState: jest.fn()\n\t\t};\n\n\t\tconst mockInputListControl = {\n\t\t\tfindAggregatedObjects: jest.fn().mockReturnValue([mockComboBox])\n\t\t};\n\n\t\tconst oEvent: any = {\n\t\t\tgetSource: jest.fn().mockReturnValue({\n\t\t\t\tgetBindingContext: jest.fn().mockReturnValue({\n\t\t\t\t\tgetPath: jest.fn().mockReturnValue(\"/configuration/actions/addedActions/0\")\n\t\t\t\t}),\n\t\t\t\tgetParent: jest.fn().mockReturnValue({\n\t\t\t\t\tgetParent: jest.fn().mockReturnValue(mockInputListControl)\n\t\t\t\t})\n\t\t\t})\n\t\t};\n\t\texpect(oDialogModelData.configuration.actions.addedActions).toMatchSnapshot();\n\t\texpect(oDialogModelData.configuration.actions.annotationActions).toMatchSnapshot();\n\t\texpect(oDialogModelData.configuration.actions.isAddActionEnabled).toBe(false);\n\t\tCardGeneratorDialogController.onAddedActionDelete(oEvent);\n\t\texpect(oDialogModelData.configuration.actions.addedActions).toMatchSnapshot();\n\t\texpect(oDialogModelData.configuration.actions.annotationActions).toMatchSnapshot();\n\t\texpect(oDialogModelData.configuration.actions.isAddActionEnabled).toBe(true);\n\n\t\t//Delete the last action\n\t\tCardGeneratorDialogController.onAddedActionDelete(oEvent);\n\t\texpect(oDialogModelData.configuration.actions.addedActions).toMatchSnapshot();\n\t\texpect(oDialogModelData.configuration.actions.annotationActions).toMatchSnapshot();\n\t\texpect(oDialogModelData.configuration.actions.isAddActionEnabled).toBe(true);\n\t});\n\n\ttest(\"onAddedActionStyleChange : Test the handler when added actions style property is changed\", () => {\n\t\tconst addedActions: any = [\n\t\t\t{\n\t\t\t\ttitle: \"Reopen\",\n\t\t\t\ttitleKey: \"C_SalesPlanTPReopen\",\n\t\t\t\tstyle: \"Positive\",\n\t\t\t\tenablePathKey: \"IsActiveEntity\",\n\t\t\t\tisStyleControlEnabled: true\n\t\t\t}\n\t\t];\n\t\toDialogModelData.configuration.actions.addedActions = addedActions;\n\t\tconst oEvent: any = {\n\t\t\tgetSource: jest.fn().mockReturnValue({\n\t\t\t\tgetSelectedKey: jest.fn().mockReturnValue(\"Negative\"),\n\t\t\t\tgetValue: jest.fn().mockReturnValue(\"Negative\"),\n\t\t\t\tgetBindingContext: jest.fn().mockReturnValue({\n\t\t\t\t\tgetPath: jest.fn().mockReturnValue(\"/configuration/actions/addedActions/0\")\n\t\t\t\t})\n\t\t\t})\n\t\t};\n\n\t\tCardGeneratorDialogController.onAddedActionStyleChange(oEvent);\n\t\texpect(oDialogModel.getProperty(\"/configuration/actions/addedActions\")).toMatchSnapshot();\n\t\texpect(oDialogModel.getProperty(\"/configuration/isEdited\")).toBe(true);\n\t});\n\n\ttest(\"okPressed : Test the handler when OK button is clicked to save the card\", async () => {\n\t\tawait CardGeneratorDialogController.okPressed();\n\t\tconst settings = jQueryAjaxSpy.mock.calls[0][0];\n\t\texpect(createAndStoreGeneratedi18nKeysMock).toHaveBeenCalledWith(expectedManifest);\n\t\texpect(JSON.parse(settings.data)).toMatchSnapshot();\n\t\texpect(oDialogModel.getProperty(\"/configuration/isEdited\")).toBe(false);\n\t});\n\ttest(\"okPressed : should show success message on successful save\", async () => {\n\t\tMessageToast.show = jest.fn();\n\t\tjQueryAjaxSpy.mockImplementation(({ success }) => {\n\t\t\tsuccess();\n\t\t});\n\t\tawait CardGeneratorDialogController.okPressed();\n\t\texpect(MessageToast.show).toHaveBeenCalledTimes(1);\n\t});\n\n\ttest(\"okPressed : should show error message on failed save\", async () => {\n\t\tconst jqXHR = { status: 500, statusText: \"Internal Server Error\" };\n\t\tconst textStatus = \"error\";\n\t\tconst errorThrown = \"Server Error\";\n\n\t\tjQueryAjaxSpy.mockImplementation(({ error }) => {\n\t\t\terror(jqXHR, textStatus, errorThrown);\n\t\t});\n\t\tLog.error = jest.fn();\n\t\tMessageBox.error = jest.fn();\n\t\tawait CardGeneratorDialogController.okPressed();\n\n\t\tconst errorMessage = `Unable to save the card: ${textStatus} - ${errorThrown} (Status: ${jqXHR.status} - ${jqXHR.statusText})`;\n\t\texpect(Log.error).toHaveBeenCalledWith(errorMessage);\n\t\texpect(MessageBox.error).toHaveBeenCalledTimes(1);\n\t});\n\ttest(\"onAddedActionTitleChange : Test the handler when added actions title property is changed to a valid action value\", async () => {\n\t\tconst addedActions: any = [\n\t\t\t{\n\t\t\t\ttitle: \"Reopen\",\n\t\t\t\ttitleKey: \"C_SalesPlanTPReopen\",\n\t\t\t\tstyle: \"Positive\",\n\t\t\t\tenablePathKey: \"IsActiveEntity\",\n\t\t\t\tisStyleControlEnabled: true\n\t\t\t}\n\t\t];\n\t\toDialogModelData.configuration.actions.addedActions = addedActions;\n\t\tconst oEvent: any = {\n\t\t\tgetSource: jest.fn().mockReturnValue({\n\t\t\t\tgetSelectedKey: jest.fn().mockReturnValue(\"C_SalesPlanTPRelease\"),\n\t\t\t\tgetValue: jest.fn().mockReturnValue(\"Release\"),\n\t\t\t\tgetBindingContext: jest.fn().mockReturnValue({\n\t\t\t\t\tgetPath: jest.fn().mockReturnValue(\"/configuration/actions/addedActions/0\")\n\t\t\t\t}),\n\t\t\t\tsetValueState: setValueStateMock\n\t\t\t})\n\t\t};\n\n\t\tconst expectedAddedAction = {\n\t\t\ttitle: \"Release\",\n\t\t\ttitleKey: \"C_SalesPlanTPRelease\",\n\t\t\tstyle: \"Positive\",\n\t\t\tenablePathKey: \"IsActiveEntity\",\n\t\t\tisStyleControlEnabled: true\n\t\t};\n\n\t\texpect(oDialogModel.getProperty(\"/configuration/actions/addedActions\")).toMatchSnapshot();\n\t\tawait CardGeneratorDialogController.onAddedActionTitleChange(oEvent);\n\t\texpect(addActionToCardManifestMock).toHaveBeenCalledWith(expect.any(Object), expectedAddedAction);\n\t\texpect(setValueStateMock).toHaveBeenCalledWith(ValueState.None);\n\t});\n\n\ttest(\"onAddedActionTitleChange : Test the handler when added actions title property is changed to a Invalid action value\", async () => {\n\t\tconst addedActions: any = [\n\t\t\t{\n\t\t\t\ttitle: \"Reopen1\",\n\t\t\t\ttitleKey: \"C_SalesPlanTPReopen1\",\n\t\t\t\tstyle: \"Positive\",\n\t\t\t\tenablePathKey: \"IsActiveEntity\",\n\t\t\t\tisStyleControlEnabled: true\n\t\t\t}\n\t\t];\n\t\toDialogModelData.configuration.actions.addedActions = addedActions;\n\t\tconst setValueStateTextMock = jest.fn();\n\t\tconst oEvent: any = {\n\t\t\tgetSource: jest.fn().mockReturnValue({\n\t\t\t\tgetSelectedKey: jest.fn().mockReturnValue(\"C_SalesPlanTPRelease1\"),\n\t\t\t\tgetValue: jest.fn().mockReturnValue(\"Release1\"),\n\t\t\t\tgetBindingContext: jest.fn().mockReturnValue({\n\t\t\t\t\tgetPath: jest.fn().mockReturnValue(\"/configuration/actions/addedActions/0\")\n\t\t\t\t}),\n\t\t\t\tsetValueState: setValueStateMock,\n\t\t\t\tsetValueStateText: setValueStateTextMock,\n\t\t\t\tfocus: jest.fn()\n\t\t\t})\n\t\t};\n\n\t\texpect(oDialogModel.getProperty(\"/configuration/actions/addedActions\")).toMatchSnapshot();\n\t\tawait CardGeneratorDialogController.onAddedActionTitleChange(oEvent);\n\t\texpect(oDialogModel.getProperty(\"/configuration/actions/addedActions\")).toMatchSnapshot();\n\t\texpect(setValueStateMock).toHaveBeenCalledWith(ValueState.Error);\n\t});\n\n\ttest(\"onAddedActionTitleChange : Test the handler when added actions title property is changed to an empty value\", async () => {\n\t\tconst addedActions: any = [\n\t\t\t{\n\t\t\t\ttitle: \"\",\n\t\t\t\ttitleKey: \"\",\n\t\t\t\tstyle: \"Default\",\n\t\t\t\tenablePathKey: \"\",\n\t\t\t\tisStyleControlEnabled: true\n\t\t\t}\n\t\t];\n\t\toDialogModelData.configuration.actions.addedActions = addedActions;\n\t\tconst setValueStateTextMock = jest.fn();\n\t\tconst oEvent: any = {\n\t\t\tgetSource: jest.fn().mockReturnValue({\n\t\t\t\tgetSelectedKey: jest.fn().mockReturnValue(\"\"),\n\t\t\t\tgetValue: jest.fn().mockReturnValue(\"\"),\n\t\t\t\tgetBindingContext: jest.fn().mockReturnValue({\n\t\t\t\t\tgetPath: jest.fn().mockReturnValue(\"/configuration/actions/addedActions/0\")\n\t\t\t\t}),\n\t\t\t\tsetValueState: setValueStateMock,\n\t\t\t\tsetValueStateText: setValueStateTextMock,\n\t\t\t\tfocus: jest.fn()\n\t\t\t})\n\t\t};\n\n\t\texpect(oDialogModel.getProperty(\"/configuration/actions/addedActions\")).toMatchSnapshot();\n\t\tawait CardGeneratorDialogController.onAddedActionTitleChange(oEvent);\n\t\texpect(oDialogModel.getProperty(\"/configuration/actions/addedActions\")).toMatchSnapshot();\n\t\texpect(setValueStateMock).toHaveBeenCalledWith(ValueState.None);\n\t});\n\n\ttest(\"loadActions : The card actions which are initially suspended, should load on calling the function loadActions\", () => {\n\t\tconst addedActions: any = [\n\t\t\t{\n\t\t\t\ttitle: \"Reopen\",\n\t\t\t\ttitleKey: \"C_SalesPlanTPReopen\",\n\t\t\t\tstyle: \"Positive\",\n\t\t\t\tenablePathKey: \"IsActiveEntity\",\n\t\t\t\tisStyleControlEnabled: true\n\t\t\t}\n\t\t];\n\t\toDialogModelData.configuration.actions.addedActions = addedActions;\n\n\t\tconst comboBox = new ComboBox({\n\t\t\titems: {\n\t\t\t\tpath: \"/configuration/actions/annotationActions\",\n\t\t\t\ttemplate: new Item({\n\t\t\t\t\tkey: \"{action}\",\n\t\t\t\t\ttext: \"{label}\"\n\t\t\t\t}),\n\t\t\t\tsuspended: true\n\t\t\t}\n\t\t});\n\t\tcomboBox.setModel(oDialogModel);\n\t\tconst event = {\n\t\t\tgetSource: jest.fn().mockReturnValue(comboBox)\n\t\t};\n\n\t\tconst itemsBinding = comboBox.getBinding(\"items\");\n\t\texpect(comboBox.getItems().length).toEqual(0);\n\t\texpect(itemsBinding?.isSuspended()).toBe(true);\n\t\tCardGeneratorDialogController.loadActions(event as any);\n\t\texpect(itemsBinding?.isSuspended()).toBe(false);\n\t\texpect(comboBox.getItems().length).toEqual(2);\n\t});\n});\n\ndescribe(\"validateHeader\", () => {\n\tlet setPropertyMock: jest.Mock;\n\tlet coreElementGetElementByIdSpy: jest.SpyInstance;\n\n\tconst oDialogModel = new JSONModel({\n\t\tconfiguration: {\n\t\t\tproperties: [\n\t\t\t\t{\n\t\t\t\t\tname: \"net_amount\",\n\t\t\t\t\ttype: \"Edm.Int32\"\n\t\t\t\t}\n\t\t\t],\n\t\t\terrorControls: [\n\t\t\t\t{\n\t\t\t\t\tgetValue: function () {\n\t\t\t\t\t\treturn \"sdf\";\n\t\t\t\t\t},\n\t\t\t\t\tgetValueState: function () {\n\t\t\t\t\t\treturn \"Error\";\n\t\t\t\t\t},\n\t\t\t\t\tsetValueState: jest.fn()\n\t\t\t\t}\n\t\t\t]\n\t\t}\n\t});\n\tconst getResourceBundleMock = jest.fn().mockReturnValue({\n\t\tgetResourceBundle: jest.fn().mockReturnValue({\n\t\t\tgetText: jest.fn().mockImplementation((key) => {\n\t\t\t\tif (key === \"GENERATOR_CARD_TITLE\") return \"Card Title\";\n\t\t\t\tif (key === \"GENERATOR_MAIN_INDICATOR\") return \"Main Indicator\";\n\t\t\t\tif (key === \"GENERIC_ERR_MSG\") return \"Error occurred for Main Indicator \";\n\t\t\t})\n\t\t})\n\t});\n\tconst oDialog = {\n\t\tgetModel: (type?: string) => {\n\t\t\tif (type && type === \"i18n\") {\n\t\t\t\treturn getResourceBundleMock();\n\t\t\t} else {\n\t\t\t\treturn oDialogModel;\n\t\t\t}\n\t\t}\n\t};\n\n\tbeforeAll(() => {\n\t\tcoreElementGetElementByIdSpy = jest.spyOn(CoreElement, \"getElementById\");\n\t\tcoreElementGetElementByIdSpy.mockImplementation((id) => {\n\t\t\tif (id === \"cardGeneratorDialog--cardGeneratorDialog\") {\n\t\t\t\treturn oDialog;\n\t\t\t}\n\t\t});\n\t});\n\n\tafterAll(() => {\n\t\tcoreElementGetElementByIdSpy.mockRestore();\n\t});\n\n\tbeforeEach(() => {\n\t\tsetPropertyMock = jest.fn();\n\t\toDialogModel.setProperty = setPropertyMock;\n\t\tCardGeneratorDialogController.initialize();\n\t});\n\tafterEach(() => {\n\t\tjest.clearAllMocks();\n\t});\n\n\ttest(\"returns true when controls has error state\", () => {\n\t\tconst expectedResult = CardGeneratorDialogController._validateHeader();\n\t\texpect(expectedResult).toBe(true);\n\t});\n});\n\ndescribe(\"validateControl\", () => {\n\tlet setPropertyMock: jest.Mock;\n\tlet coreElementGetElementByIdSpy: jest.SpyInstance;\n\n\tconst oEventMock = {\n\t\tgetSource: jest.fn().mockReturnValue({\n\t\t\tgetSelectedKey: jest.fn(),\n\t\t\tsetValueState: jest.fn(),\n\t\t\tsetValueStateText: jest.fn()\n\t\t}),\n\t\tgetParameter: jest.fn()\n\t};\n\tconst oDialogModel = new JSONModel({\n\t\tconfiguration: {\n\t\t\tproperties: [\n\t\t\t\t{\n\t\t\t\t\tname: \"net_amount\",\n\t\t\t\t\ttype: \"Edm.Int32\"\n\t\t\t\t}\n\t\t\t],\n\t\t\terrorControls: [\n\t\t\t\t{\n\t\t\t\t\tname: \"test\",\n\t\t\t\t\tgetId: function () {\n\t\t\t\t\t\treturn \"123\";\n\t\t\t\t\t},\n\t\t\t\t\tsetValueState: jest.fn()\n\t\t\t\t}\n\t\t\t]\n\t\t}\n\t});\n\tconst getResourceBundleMock = jest.fn().mockReturnValue({\n\t\tgetResourceBundle: jest.fn().mockReturnValue({\n\t\t\tgetText: jest.fn().mockImplementation((key) => {\n\t\t\t\tif (key === \"GENERATOR_CARD_TITLE\") return \"Card Title\";\n\t\t\t\tif (key === \"GENERATOR_MAIN_INDICATOR\") return \"Main Indicator\";\n\t\t\t\tif (key === \"GENERIC_ERR_MSG\") return \"Error occurred for Main Indicator\";\n\t\t\t})\n\t\t})\n\t});\n\tconst oDialog = {\n\t\tgetModel: (type?: string) => {\n\t\t\tif (type && type === \"i18n\") {\n\t\t\t\treturn getResourceBundleMock();\n\t\t\t} else {\n\t\t\t\treturn oDialogModel;\n\t\t\t}\n\t\t},\n\t\topen: jest.fn(),\n\t\tclose: jest.fn(),\n\t\tsetModel: jest.fn(),\n\t\tgetCustomHeader: jest.fn().mockReturnValue({\n\t\t\tgetContentMiddle: jest.fn().mockReturnValue([\n\t\t\t\t{},\n\t\t\t\t{},\n\t\t\t\t{},\n\t\t\t\t{},\n\t\t\t\t{\n\t\t\t\t\tgetPressed: jest.fn().mockReturnValue(false),\n\t\t\t\t\tsetPressed: jest.fn()\n\t\t\t\t}\n\t\t\t])\n\t\t})\n\t};\n\n\tbeforeAll(() => {\n\t\tcoreElementGetElementByIdSpy = jest.spyOn(CoreElement, \"getElementById\");\n\t\tcoreElementGetElementByIdSpy.mockImplementation((id) => {\n\t\t\tif (id === \"cardGeneratorDialog--cardGeneratorDialog\") {\n\t\t\t\treturn oDialog;\n\t\t\t}\n\t\t});\n\t});\n\n\tafterAll(() => {\n\t\tcoreElementGetElementByIdSpy.mockRestore();\n\t});\n\n\tbeforeEach(() => {\n\t\tsetPropertyMock = jest.fn();\n\t\toDialogModel.setProperty = setPropertyMock;\n\t\tCardGeneratorDialogController.initialize();\n\t});\n\tafterEach(() => {\n\t\tjest.clearAllMocks();\n\t});\n\n\ttest(\"should add control to errorControls and set value state and text if selected key is empty and value is not empty\", () => {\n\t\tconst setValueStateMock = jest.fn();\n\t\tconst setValueStateTextMock = jest.fn();\n\n\t\tconst control = {\n\t\t\tgetSelectedKey: jest.fn().mockReturnValue(undefined),\n\t\t\tsetValueState: setValueStateMock,\n\t\t\tsetValueStateText: setValueStateTextMock,\n\t\t\tgetId: jest.fn().mockReturnValue(\"123\")\n\t\t};\n\t\tconst oEvent = {\n\t\t\t...oEventMock,\n\t\t\tgetSource: jest.fn().mockReturnValue(control),\n\t\t\tgetParameter: jest.fn().mockReturnValue(\"value\")\n\t\t};\n\n\t\tCardGeneratorDialogController.validateControl(oEvent);\n\t\texpect(oDialogModel.getProperty(\"/configuration/errorControls\").length).toEqual(2);\n\t\texpect(control.setValueState).toHaveBeenCalledWith(ValueState.Error);\n\t\texpect(control.setValueStateText).toHaveBeenCalledWith(\"Error occurred for Main Indicator\");\n\t});\n\n\ttest(\"should remove control from errorControls and set value state to None if selected key and value are not empty\", () => {\n\t\tconst setValueStateMock = jest.fn();\n\t\tconst control = {\n\t\t\tgetSelectedKey: jest.fn().mockReturnValue(\"key\"),\n\t\t\tsetValueState: setValueStateMock,\n\t\t\tgetId: jest.fn().mockReturnValue(\"123\")\n\t\t};\n\t\tconst oEvent = {\n\t\t\t...oEventMock,\n\t\t\tgetSource: jest.fn().mockReturnValue(control),\n\t\t\tgetParameter: jest.fn().mockReturnValue(\"value\")\n\t\t};\n\n\t\tCardGeneratorDialogController.validateControl(oEvent, \"stateIndicator\");\n\t\texpect(oDialogModel.getProperty(\"/configuration/errorControls\").length).toEqual(1);\n\t\texpect(control.setValueState).toHaveBeenCalledWith(ValueState.None);\n\t});\n\ttest(\"should add control to errorControls and set value state text if selected key and value are empty and control name is title\", () => {\n\t\tconst setValueStateMock = jest.fn();\n\t\tconst setValueStateTextMock = jest.fn();\n\n\t\tconst control = {\n\t\t\tgetSelectedKey: jest.fn().mockReturnValue(undefined),\n\t\t\tsetValueState: setValueStateMock,\n\t\t\tsetValueStateText: setValueStateTextMock,\n\t\t\tgetId: jest.fn().mockReturnValue(\"123\")\n\t\t};\n\t\tconst oEvent = {\n\t\t\t...oEventMock,\n\t\t\tgetSource: jest.fn().mockReturnValue(control),\n\t\t\tgetParameter: jest.fn().mockReturnValue(undefined)\n\t\t};\n\n\t\tCardGeneratorDialogController.validateControl(oEvent, \"title\");\n\t\texpect(oDialogModel.getProperty(\"/configuration/errorControls\").length).toEqual(2);\n\t\texpect(control.setValueStateText).toHaveBeenCalledWith(\"Error occurred for Main Indicator\");\n\t});\n\ttest(\"cancelPressed- should close dialog and reset error controls\", () => {\n\t\tCardGeneratorDialogController.cancelPressed();\n\t\toDialog\n\t\t\t.getModel()\n\t\t\t.getProperty(\"/configuration/errorControls\")\n\t\t\t.forEach((control) => {\n\t\t\t\texpect(control.setValueState).toHaveBeenCalledWith(\"None\");\n\t\t\t});\n\t\texpect(oDialogModel.getProperty(\"/configuration/errorControls\").length).toEqual(2);\n\t});\n});\n\ndescribe(\"Close Dialog for FreeStyle Application\", () => {\n\tlet coreElementGetElementByIdSpy: jest.SpyInstance;\n\tconst oDialogModel = undefined;\n\tconst oDialog = {\n\t\tgetModel: () => {\n\t\t\treturn oDialogModel;\n\t\t},\n\t\topen: jest.fn(),\n\t\tclose: jest.fn()\n\t};\n\n\tbeforeAll(() => {\n\t\tcoreElementGetElementByIdSpy = jest.spyOn(CoreElement, \"getElementById\");\n\t\tcoreElementGetElementByIdSpy.mockImplementation((id) => {\n\t\t\tif (id === \"cardGeneratorDialog--cardGeneratorDialog\") {\n\t\t\t\treturn oDialog;\n\t\t\t}\n\t\t});\n\t});\n\n\tafterAll(() => {\n\t\tcoreElementGetElementByIdSpy.mockRestore();\n\t});\n\n\tbeforeEach(() => {\n\t\tCardGeneratorDialogController.initialize();\n\t});\n\tafterEach(() => {\n\t\tjest.clearAllMocks();\n\t});\n\n\ttest(\"cancelPressed- should close dialog when the model is undefined\", () => {\n\t\tCardGeneratorDialogController.cancelPressed();\n\t\texpect(oDialog.close).toHaveBeenCalled();\n\t});\n});\n\ndescribe(\"onDeleteClick\", () => {\n\tlet coreElementGetElementByIdSpy: jest.SpyInstance;\n\n\tconst oDialogModel = new JSONModel({\n\t\tconfiguration: {\n\t\t\tproperties: [\n\t\t\t\t{\n\t\t\t\t\tname: \"net_amount\",\n\t\t\t\t\ttype: \"Edm.Int32\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: \"gross_amount\",\n\t\t\t\t\ttype: \"Edm.Int32\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: \"tax_amount\",\n\t\t\t\t\ttype: \"Edm.Int32\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: \"bp_id\",\n\t\t\t\t\ttype: \"Edm.Int32\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: \"so_id\",\n\t\t\t\t\ttype: \"Edm.Int32\"\n\t\t\t\t}\n\t\t\t],\n\t\t\tgroups: [\n\t\t\t\t{\n\t\t\t\t\ttitle: \"Group 1\",\n\t\t\t\t\titems: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tlabel: \"Gross Amount\",\n\t\t\t\t\t\t\tvalue: \"{gross_amount} {currency_code}\",\n\t\t\t\t\t\t\tisEnabled: true,\n\t\t\t\t\t\t\tname: \"gross_amount\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tlabel: \"Net Amount\",\n\t\t\t\t\t\t\tvalue: \"{net_amount} {currency_code}\",\n\t\t\t\t\t\t\tisEnabled: true,\n\t\t\t\t\t\t\tname: \"net_amount\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tlabel: \"Tax Amount\",\n\t\t\t\t\t\t\tvalue: \"{tax_amount} {currency_code}\",\n\t\t\t\t\t\t\tisEnabled: true,\n\t\t\t\t\t\t\tname: \"tax_amount\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tlabel: \"Business Partner ID\",\n\t\t\t\t\t\t\tvalue: \"{bp_id}\",\n\t\t\t\t\t\t\tisEnabled: true,\n\t\t\t\t\t\t\tname: \"bp_amount\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tlabel: \"Sales Order ID\",\n\t\t\t\t\t\t\tvalue: \"{so_id}\",\n\t\t\t\t\t\t\tisEnabled: true,\n\t\t\t\t\t\t\tname: \"so_id\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t]\n\t\t}\n\t});\n\tconst getResourceBundleMock = jest.fn().mockReturnValue({\n\t\tgetResourceBundle: jest.fn().mockReturnValue({\n\t\t\tgetText: jest.fn().mockImplementation((key) => {\n\t\t\t\tif (key === \"UNSELECTED_ITEM\") return \"The card preview doesn't show this value because the field isn't configured.\";\n\t\t\t})\n\t\t})\n\t});\n\tconst oDialog = {\n\t\tgetModel: (type?: string) => {\n\t\t\tif (type && type === \"i18n\") {\n\t\t\t\treturn getResourceBundleMock();\n\t\t\t} else {\n\t\t\t\treturn oDialogModel;\n\t\t\t}\n\t\t},\n\t\tsetModel: jest.fn(),\n\t\trefresh: jest.fn()\n\t};\n\n\tbeforeAll(() => {\n\t\tcoreElementGetElementByIdSpy = jest.spyOn(CoreElement, \"getElementById\");\n\t\tcoreElementGetElementByIdSpy.mockImplementation((id) => {\n\t\t\tif (id === \"cardGeneratorDialog--cardGeneratorDialog\") {\n\t\t\t\treturn oDialog;\n\t\t\t}\n\t\t});\n\t});\n\n\tafterAll(() => {\n\t\tcoreElementGetElementByIdSpy.mockRestore();\n\t});\n\n\tbeforeEach(() => {\n\t\tCardGeneratorDialogController.initialize();\n\t});\n\n\tafterEach(() => {\n\t\tjest.clearAllMocks();\n\t});\n\n\ttest(\"should delete item & set enableAddMoreGroupItems to true if total items is less than the limit set. onAddClick should add a new item & set enableAddMoreGroupItems to false if total items is equal to limit set\", () => {\n\t\tlet oEvent = {\n\t\t\tgetSource: jest.fn().mockReturnValue({\n\t\t\t\tgetBindingContext: jest.fn().mockReturnValue({\n\t\t\t\t\tgetPath: jest.fn().mockReturnValue(\"/configuration/groups/0/items/0\")\n\t\t\t\t})\n\t\t\t})\n\t\t};\n\t\texpect(oDialogModel.getProperty(\"/configuration/isEdited\")).toBe(undefined);\n\t\tCardGeneratorDialogController.onDeleteClick(oEvent);\n\t\texpect(oDialogModel.getProperty(\"/configuration/isEdited\")).toBe(true);\n\t\texpect(oDialogModel.getProperty(\"/configuration/groups/0\").items).toMatchSnapshot();\n\t\texpect(oDialogModel.getProperty(\"/configuration/groups/0/enableAddMoreGroupItems\")).toBe(true);\n\n\t\t//should add the new item and set enableAddMoreGroupItems to false if the total items in the group is equal to the limit set\n\t\toEvent = {\n\t\t\tgetSource: jest.fn().mockReturnValue({\n\t\t\t\tgetBindingContext: jest.fn().mockReturnValue({\n\t\t\t\t\tgetPath: jest.fn().mockReturnValue(\"/configuration/groups/0\")\n\t\t\t\t})\n\t\t\t})\n\t\t};\n\n\t\tCardGeneratorDialogController.onAddClick(oEvent);\n\t\texpect(oDialogModel.getProperty(\"/configuration/groups/0\").items).toMatchSnapshot();\n\t\texpect(oDialogModel.getProperty(\"/configuration/groups/0/enableAddMoreGroupItems\")).toBe(false);\n\t});\n});\n\ndescribe(\"onAddClick\", () => {\n\tlet coreElementGetElementByIdSpy: jest.SpyInstance;\n\n\tconst oDialogModel = new JSONModel({\n\t\tconfiguration: {\n\t\t\tproperties: [\n\t\t\t\t{\n\t\t\t\t\tname: \"net_amount\",\n\t\t\t\t\ttype: \"Edm.Int32\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: \"gross_amount\",\n\t\t\t\t\ttype: \"Edm.Int32\"\n\t\t\t\t}\n\t\t\t],\n\t\t\tgroups: [\n\t\t\t\t{\n\t\t\t\t\ttitle: \"Group 1\",\n\t\t\t\t\titems: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tlabel: \"Gross Amount\",\n\t\t\t\t\t\t\tvalue: \"{gross_amount} {currency_code}\",\n\t\t\t\t\t\t\tisEnabled: true,\n\t\t\t\t\t\t\tname: \"gross_amount\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tlabel: \"Net Amount\",\n\t\t\t\t\t\t\tvalue: \"{net_amount} {currency_code}\",\n\t\t\t\t\t\t\tisEnabled: true,\n\t\t\t\t\t\t\tname: \"net_amount\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t]\n\t\t}\n\t});\n\n\tconst oDialog = {\n\t\tgetModel: jest.fn().mockReturnValue(oDialogModel),\n\t\tsetModel: jest.fn(),\n\t\trefresh: jest.fn()\n\t};\n\n\tbeforeAll(() => {\n\t\tcoreElementGetElementByIdSpy = jest.spyOn(CoreElement, \"getElementById\");\n\t\tcoreElementGetElementByIdSpy.mockImplementation((id) => {\n\t\t\tif (id === \"cardGeneratorDialog--cardGeneratorDialog\") {\n\t\t\t\treturn oDialog;\n\t\t\t}\n\t\t});\n\t});\n\n\tafterAll(() => {\n\t\tcoreElementGetElementByIdSpy.mockRestore();\n\t});\n\n\tbeforeEach(() => {\n\t\tCardGeneratorDialogController.initialize();\n\t});\n\n\tafterEach(() => {\n\t\tjest.clearAllMocks();\n\t});\n\n\ttest(\"should add a new item and set enableAddMoreGroupItems to true if the total items in the group is less than the limit set\", () => {\n\t\tconst oEvent = {\n\t\t\tgetSource: jest.fn().mockReturnValue({\n\t\t\t\tgetBindingContext: jest.fn().mockReturnValue({\n\t\t\t\t\tgetPath: jest.fn().mockReturnValue(\"/configuration/groups/0\")\n\t\t\t\t})\n\t\t\t})\n\t\t};\n\n\t\tCardGeneratorDialogController.onAddClick(oEvent);\n\t\texpect(oDialogModel.getProperty(\"/configuration/groups/0\").items).toMatchSnapshot();\n\t\texpect(oDialogModel.getProperty(\"/configuration/groups/0/enableAddMoreGroupItems\")).toBe(true);\n\t});\n});\n\ndescribe(\"onGroupAddClick\", () => {\n\tlet coreElementGetElementByIdSpy: jest.SpyInstance;\n\n\tconst oDialogModel = new JSONModel({\n\t\tconfiguration: {\n\t\t\tgroups: [\n\t\t\t\t{\n\t\t\t\t\ttitle: \"Group 1\",\n\t\t\t\t\titems: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tlabel: \"Gross Amount\",\n\t\t\t\t\t\t\tvalue: \"{gross_amount} {currency_code}\",\n\t\t\t\t\t\t\tisEnabled: true,\n\t\t\t\t\t\t\tname: \"gross_amount\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t],\n\t\t\tgroupLimitReached: false\n\t\t}\n\t});\n\tconst getResourceBundleMock = jest.fn().mockReturnValue({\n\t\tgetResourceBundle: jest.fn().mockReturnValue({\n\t\t\tgetText: jest.fn().mockImplementation((key, value) => {\n\t\t\t\tif (key === \"GENERATOR_DEFAULT_GROUP_NAME\" && value[0] === 2) return \"Group 2\";\n\t\t\t})\n\t\t})\n\t});\n\tconst oDialog = {\n\t\tgetModel: (type?: string) => {\n\t\t\tif (type && type === \"i18n\") {\n\t\t\t\treturn getResourceBundleMock();\n\t\t\t} else {\n\t\t\t\treturn oDialogModel;\n\t\t\t}\n\t\t}\n\t};\n\n\tbeforeAll(() => {\n\t\tcoreElementGetElementByIdSpy = jest.spyOn(CoreElement, \"getElementById\");\n\t\tcoreElementGetElementByIdSpy.mockImplementation((id) => {\n\t\t\tif (id === \"cardGeneratorDialog--cardGeneratorDialog\") {\n\t\t\t\treturn oDialog;\n\t\t\t}\n\t\t});\n\t});\n\n\tafterAll(() => {\n\t\tcoreElementGetElementByIdSpy.mockRestore();\n\t});\n\n\tbeforeEach(() => {\n\t\tCardGeneratorDialogController.initialize();\n\t});\n\n\tafterEach(() => {\n\t\tjest.clearAllMocks();\n\t});\n\n\ttest(\"validate if transpileIntegrationCardToAdaptive function is called when adding groups\", () => {\n\t\tCardGeneratorDialogController.onGroupAddClick({});\n\t\texpect(transpileIntegrationCardToAdaptive).toHaveBeenCalled();\n\t\texpect(oDialogModel.getProperty(\"/configuration/groups\")).toMatchSnapshot();\n\t\texpect(oDialogModel.getProperty(\"/configuration/groupLimitReached\")).toBe(false);\n\t});\n});\n\ndescribe(\"onGroupAddClick - when there are 4 groups and 5th group is being added, onGroupDeleteClick - when there are less than 5 groups\", () => {\n\tlet coreElementGetElementByIdSpy: jest.SpyInstance;\n\n\tconst oDialogModel = new JSONModel({\n\t\tconfiguration: {\n\t\t\tgroups: [\n\t\t\t\t{\n\t\t\t\t\ttitle: \"Group 1\",\n\t\t\t\t\titems: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tlabel: \"Gross Amount\",\n\t\t\t\t\t\t\tvalue: \"{gross_amount} {currency_code}\",\n\t\t\t\t\t\t\tisEnabled: true,\n\t\t\t\t\t\t\tname: \"gross_amount\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttitle: \"Group 2\",\n\t\t\t\t\titems: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tlabel: \"Gross Amount\",\n\t\t\t\t\t\t\tvalue: \"{gross_amount} {currency_code}\",\n\t\t\t\t\t\t\tisEnabled: true,\n\t\t\t\t\t\t\tname: \"gross_amount\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttitle: \"Group 3\",\n\t\t\t\t\titems: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tlabel: \"Gross Amount\",\n\t\t\t\t\t\t\tvalue: \"{gross_amount} {currency_code}\",\n\t\t\t\t\t\t\tisEnabled: true,\n\t\t\t\t\t\t\tname: \"gross_amount\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttitle: \"Group 4\",\n\t\t\t\t\titems: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tlabel: \"Gross Amount\",\n\t\t\t\t\t\t\tvalue: \"{gross_amount} {currency_code}\",\n\t\t\t\t\t\t\tisEnabled: true,\n\t\t\t\t\t\t\tname: \"gross_amount\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t],\n\t\t\tgroupLimitReached: false\n\t\t}\n\t});\n\tconst getResourceBundleMock = jest.fn().mockReturnValue({\n\t\tgetResourceBundle: jest.fn().mockReturnValue({\n\t\t\tgetText: jest.fn().mockImplementation((key, value) => {\n\t\t\t\tif (key === \"GENERATOR_DEFAULT_GROUP_NAME\" && value[0] === 5) return \"Group 5\";\n\t\t\t})\n\t\t})\n\t});\n\tconst oDialog = {\n\t\tgetModel: (type?: string) => {\n\t\t\tif (type && type === \"i18n\") {\n\t\t\t\treturn getResourceBundleMock();\n\t\t\t} else {\n\t\t\t\treturn oDialogModel;\n\t\t\t}\n\t\t}\n\t};\n\n\tbeforeAll(() => {\n\t\tcoreElementGetElementByIdSpy = jest.spyOn(CoreElement, \"getElementById\");\n\t\tcoreElementGetElementByIdSpy.mockImplementation((id) => {\n\t\t\tif (id === \"cardGeneratorDialog--cardGeneratorDialog\") {\n\t\t\t\treturn oDialog;\n\t\t\t}\n\t\t});\n\t});\n\n\tafterAll(() => {\n\t\tcoreElementGetElementByIdSpy.mockRestore();\n\t});\n\n\tbeforeEach(() => {\n\t\tCardGeneratorDialogController.initialize();\n\t});\n\n\tafterEach(() => {\n\t\tjest.clearAllMocks();\n\t});\n\n\ttest(\"validate if groupLimitReached is set to true when no of groups is 5\", () => {\n\t\tCardGeneratorDialogController.onGroupAddClick({});\n\t\texpect(transpileIntegrationCardToAdaptive).toHaveBeenCalled();\n\t\texpect(oDialogModel.getProperty(\"/configuration/groupLimitReached\")).toBe(true);\n\n\t\t//validate if groupLimitReached is set to false when a group is deleted\n\t\tconst oEvent = {\n\t\t\tgetSource: jest.fn().mockReturnValue({\n\t\t\t\tgetBindingContext: jest.fn().mockReturnValue({\n\t\t\t\t\tgetPath: jest.fn().mockReturnValue(\"/configuration/groups/1\")\n\t\t\t\t})\n\t\t\t})\n\t\t};\n\t\tCardGeneratorDialogController.deleteGroup(oEvent);\n\t\texpect(oDialogModel.getProperty(\"/configuration/groupLimitReached\")).toBe(false);\n\t});\n\n\ttest(\"validate if data loss warning will be trigerred on group delete\", () => {\n\t\tMessageBox.warning = jest.fn();\n\t\toDialogModel.setProperty(\"/configuration/isEdited\", false);\n\t\tconst oEvent = {\n\t\t\tgetSource: jest.fn().mockReturnValue({\n\t\t\t\tgetBindingContext: jest.fn().mockReturnValue({\n\t\t\t\t\tgetPath: jest.fn().mockReturnValue(\"/configuration/groups/1\")\n\t\t\t\t})\n\t\t\t})\n\t\t};\n\t\tCardGeneratorDialogController.onGroupDeleteClick(oEvent);\n\t\texpect(MessageBox.warning).toHaveBeenCalledTimes(1);\n\t});\n});\n\ndescribe(\"onPropertySelection\", () => {\n\tlet setPropertyMock: jest.Mock;\n\tlet getPreviewItemsMock = getPreviewItems as jest.Mock;\n\tlet windowSpy: jest.SpyInstance;\n\tlet coreElementGetElementByIdSpy: jest.SpyInstance;\n\n\tconst oDialogModel = new JSONModel({\n\t\tconfiguration: {\n\t\t\tproperties: [\n\t\t\t\t{\n\t\t\t\t\tname: \"net_amount\",\n\t\t\t\t\ttype: \"Edm.Int32\"\n\t\t\t\t}\n\t\t\t],\n\t\t\tadvancedFormattingOptions: {\n\t\t\t\tunitOfMeasures: [\n\t\t\t\t\t{\n\t\t\t\t\t\tname: \"net_amount\",\n\t\t\t\t\t\tvalue: \"currency_code\"\n\t\t\t\t\t}\n\t\t\t\t],\n\t\t\t\ttextArrangements: [],\n\t\t\t\tpropertyValueFormatters: []\n\t\t\t},\n\t\t\tgroups: [\n\t\t\t\t{\n\t\t\t\t\ttitle: \"Group 1\",\n\t\t\t\t\titems: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tlabel: null,\n\t\t\t\t\t\t\tvalue: \"{/items/0}\",\n\t\t\t\t\t\t\tisEnabled: false,\n\t\t\t\t\t\t\tname: \"net_amount\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t],\n\t\t\t$data: {\n\t\t\t\tnet_amount: 6942.0\n\t\t\t}\n\t\t}\n\t});\n\tconst getResourceBundleMock = jest.fn().mockReturnValue({\n\t\tgetResourceBundle: jest.fn().mockReturnValue({\n\t\t\tgetText: jest.fn().mockImplementation((key) => {\n\t\t\t\tif (key === \"GENERATOR_MAIN_INDICATOR\") return \"Main Indicator\";\n\t\t\t\tif (key === \"GENERIC_ERR_MSG\") return \"Error occurred for Main Indicator\";\n\t\t\t})\n\t\t})\n\t});\n\tconst oDialog = {\n\t\tgetModel: (type?: string) => {\n\t\t\tif (type && type === \"i18n\") {\n\t\t\t\treturn getResourceBundleMock();\n\t\t\t} else {\n\t\t\t\treturn oDialogModel;\n\t\t\t}\n\t\t}\n\t};\n\tgetPreviewItemsMock.mockReturnValue([\"net_amount\"]);\n\n\tbeforeAll(() => {\n\t\tObjectPage.createInstance(rootComponent);\n\t\tcoreElementGetElementByIdSpy = jest.spyOn(CoreElement, \"getElementById\");\n\t\tcoreElementGetElementByIdSpy.mockImplementation((id) => {\n\t\t\tif (id === \"cardGeneratorDialog--cardGeneratorDialog\") {\n\t\t\t\treturn oDialog;\n\t\t\t}\n\t\t});\n\t});\n\n\tafterAll(() => {\n\t\tApplication.getInstance()._resetInstance();\n\t\tcoreElementGetElementByIdSpy.mockRestore();\n\t});\n\n\tbeforeEach(() => {\n\t\tsetPropertyMock = jest.fn();\n\t\twindowSpy = jest.spyOn(window, \"window\", \"get\");\n\t\twindowSpy.mockImplementation(() => ({\n\t\t\thasher: {\n\t\t\t\tgetHash: () => \"test-intent&/testEntity(12345)\"\n\t\t\t}\n\t\t}));\n\t\toDialogModel.setProperty = setPropertyMock;\n\t\tCardGeneratorDialogController.initialize();\n\t});\n\n\tafterEach(() => {\n\t\twindowSpy.mockRestore();\n\t\tjest.clearAllMocks();\n\t});\n\n\ttest(\"it should update model properties correctly when selectedKey is not empty\", async () => {\n\t\tconst setValueStateMock = jest.fn();\n\t\tconst oEvent = {\n\t\t\tgetSource: jest.fn().mockReturnValue({\n\t\t\t\tgetSelectedKey: jest.fn().mockReturnValue(\"net_amount\"),\n\t\t\t\tsetValueState: setValueStateMock,\n\t\t\t\tgetBindingContext: jest.fn().mockReturnValue({\n\t\t\t\t\tgetPath: jest.fn().mockReturnValue(\"/configuration/groups/0/items/0\")\n\t\t\t\t})\n\t\t\t}),\n\t\t\tgetParameter: jest.fn().mockReturnValue({ newValue: \"net_amount\" })\n\t\t};\n\n\t\tjest.spyOn(ODataUtils, \"getPropertyLabel\").mockReturnValue(\"Net Amount\");\n\t\tawait CardGeneratorDialogController.onPropertySelection(oEvent);\n\t\tlet count = 1;\n\n\t\texpect(setPropertyMock).toHaveBeenNthCalledWith(count++, \"/configuration/selectedNavigationalProperties\", []);\n\t\texpect(setPropertyMock).toHaveBeenNthCalledWith(count++, \"/configuration/selectedNavigationPropertiesContent\", {\n\t\t\tname: \"\",\n\t\t\tvalue: []\n\t\t});\n\t\texpect(setPropertyMock).toHaveBeenNthCalledWith(count++, \"/configuration/advancedFormattingOptions/sourceProperty\", \"net_amount\");\n\t\texpect(setValueStateMock).toHaveBeenCalledWith(ValueState.None);\n\t\texpect(oDialogModel.getProperty(\"/configuration/groups/0\").items).toMatchSnapshot();\n\t});\n\ttest(\"it should update model properties correctly when selectedKey is empty\", async () => {\n\t\tconst setValueStateMock = jest.fn();\n\t\tconst setValueStateTextMock = jest.fn();\n\t\tconst oEvent = {\n\t\t\tgetSource: jest.fn().mockReturnValue({\n\t\t\t\tgetSelectedKey: jest.fn().mockReturnValue(\"\"),\n\t\t\t\tsetValueState: setValueStateMock,\n\t\t\t\tsetValueStateText: setValueStateTextMock,\n\t\t\t\tgetBindingContext: jest.fn().mockReturnValue({\n\t\t\t\t\tgetPath: jest.fn().mockReturnValue(\"/configuration/groups/0/items/0\")\n\t\t\t\t})\n\t\t\t}),\n\t\t\tgetParameter: jest.fn().mockReturnValue({ newValue: \"test\" })\n\t\t};\n\t\tjest.spyOn(ODataUtils, \"getPropertyLabel\").mockReturnValue(\"\");\n\t\tawait CardGeneratorDialogController.onPropertySelection(oEvent);\n\n\t\texpect(setPropertyMock).toHaveBeenNthCalledWith(1, \"/configuration/selectedNavigationalProperties\", []);\n\t\texpect(setPropertyMock).toHaveBeenNthCalledWith(2, \"/configuration/selectedNavigationPropertiesContent\", { name: \"\", value: [] });\n\t\texpect(setPropertyMock).toHaveBeenNthCalledWith(3, \"/configuration/advancedFormattingOptions/sourceProperty\", \"\");\n\t\texpect(setValueStateMock).toHaveBeenCalledWith(ValueState.Error);\n\t\texpect(setValueStateTextMock).toHaveBeenCalledWith(\"Error occurred for Main Indicator\");\n\t\texpect(oDialogModel.getProperty(\"/configuration/groups/0\").items).toMatchSnapshot();\n\t});\n});\n\ndescribe(\"onPropertySelection with navigation\", () => {\n\tlet setPropertyMock: jest.Mock;\n\tlet getPreviewItemsMock = getPreviewItems as jest.Mock;\n\tlet windowSpy: jest.SpyInstance;\n\tlet coreElementGetElementByIdSpy: jest.SpyInstance;\n\n\tconst oDialogModel = new JSONModel({\n\t\tconfiguration: {\n\t\t\tproperties: [\n\t\t\t\t{\n\t\t\t\t\tname: \"net_amount\",\n\t\t\t\t\ttype: \"Edm.Int32\"\n\t\t\t\t}\n\t\t\t],\n\t\t\tadvancedFormattingOptions: {\n\t\t\t\tunitOfMeasures: [\n\t\t\t\t\t{\n\t\t\t\t\t\tname: \"net_amount\",\n\t\t\t\t\t\tvalue: \"currency_code\"\n\t\t\t\t\t}\n\t\t\t\t],\n\t\t\t\ttextArrangements: [],\n\t\t\t\tpropertyValueFormatters: []\n\t\t\t},\n\t\t\tgroups: [\n\t\t\t\t{\n\t\t\t\t\ttitle: \"Group 1\",\n\t\t\t\t\titems: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tlabel: null,\n\t\t\t\t\t\t\tvalue: \"{/items/0}\",\n\t\t\t\t\t\t\tisEnabled: false,\n\t\t\t\t\t\t\tisNavigationEnabled: false,\n\t\t\t\t\t\t\tname: \"net_amount\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t],\n\t\t\tnavigationProperty: [\n\t\t\t\t{\n\t\t\t\t\tname: \"to_BillingStatus\",\n\t\t\t\t\tproperties: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tlabel: \"Lower Value\",\n\t\t\t\t\t\t\ttype: \"Edm.String\",\n\t\t\t\t\t\t\tname: \"Status\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tlabel: \"Confirmation\",\n\t\t\t\t\t\t\ttype: \"Edm.String\",\n\t\t\t\t\t\t\tname: \"Status_Text\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t],\n\t\t\tselectedNavigationPropertiesContent: {\n\t\t\t\tname: \"to_BillingStatus\",\n\t\t\t\tvalue: [\n\t\t\t\t\t{\n\t\t\t\t\t\tlabel: \"Lower Value\",\n\t\t\t\t\t\ttype: \"Edm.String\",\n\t\t\t\t\t\tname: \"Status\"\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tlabel: \"Confirmation\",\n\t\t\t\t\t\ttype: \"Edm.String\",\n\t\t\t\t\t\tname: \"Status_Text\"\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t},\n\t\t\t$data: {\n\t\t\t\tnet_amount: 6942.0\n\t\t\t}\n\t\t}\n\t});\n\tconst getResourceBundleMock = jest.fn().mockReturnValue({\n\t\tgetResourceBundle: jest.fn().mockReturnValue({\n\t\t\tgetText: jest.fn().mockImplementation((key) => {\n\t\t\t\tif (key === \"GENERATOR_MAIN_INDICATOR\") return \"Main Indicator\";\n\t\t\t\tif (key === \"GENERIC_ERR_MSG\") return \"Error occurred for Main Indicator\";\n\t\t\t})\n\t\t})\n\t});\n\tconst oDialog = {\n\t\tgetModel: (type?: string) => {\n\t\t\tif (type && type === \"i18n\") {\n\t\t\t\treturn getResourceBundleMock();\n\t\t\t} else {\n\t\t\t\treturn oDialogModel;\n\t\t\t}\n\t\t}\n\t};\n\tconst data = {\n\t\tnode_key: \"12345\",\n\t\tIsActiveEntity: true,\n\t\tto_BillingStatus: {\n\t\t\tStatus: \"\",\n\t\t\tStatus_Text: \"Initial\",\n\t\t\ttest: \"123\"\n\t\t}\n\t};\n\tgetPreviewItemsMock.mockReturnValue([\"net_amount\"]);\n\n\tbeforeAll(() => {\n\t\tObjectPage.createInstance(rootComponent);\n\t\tcoreElementGetElementByIdSpy = jest.spyOn(CoreElement, \"getElementById\");\n\t\tcoreElementGetElementByIdSpy.mockImplementation((id) => {\n\t\t\tif (id === \"cardGeneratorDialog--cardGeneratorDialog\") {\n\t\t\t\treturn oDialog;\n\t\t\t}\n\t\t});\n\t});\n\n\tafterAll(() => {\n\t\tApplication.getInstance()._resetInstance();\n\t\tcoreElementGetElementByIdSpy.mockRestore();\n\t});\n\n\tbeforeEach(() => {\n\t\tsetPropertyMock = jest.fn();\n\t\twindowSpy = jest.spyOn(window, \"window\", \"get\");\n\t\twindowSpy.mockImplementation(() => ({\n\t\t\thasher: {\n\t\t\t\tgetHash: () => \"test-intent&/testEntity(12345)\"\n\t\t\t}\n\t\t}));\n\t\toDialogModel.setProperty = setPropertyMock;\n\t\tCardGeneratorDialogController.initialize();\n\t});\n\n\tafterEach(() => {\n\t\twindowSpy.mockRestore();\n\t\tjest.clearAllMocks();\n\t});\n\ttest(\"it should update model properties correctly when selectedKey is not empty\", async () => {\n\t\tconst setValueStateMock = jest.fn();\n\t\tconst oEvent = {\n\t\t\tgetSource: jest.fn().mockReturnValue({\n\t\t\t\tgetSelectedKey: jest.fn().mockReturnValue(\"to_BillingStatus\"),\n\t\t\t\tsetValueState: setValueStateMock,\n\t\t\t\tgetBindingContext: jest.fn().mockReturnValue({\n\t\t\t\t\tgetPath: jest.fn().mockReturnValue(\"/configuration/groups/0/items/0\")\n\t\t\t\t})\n\t\t\t}),\n\t\t\tgetParameter: jest.fn().mockReturnValue({ newValue: \"to_BillingStatus\" })\n\t\t};\n\n\t\tjest.spyOn(ODataUtils, \"getPropertyLabel\").mockReturnValue(\"to_BillingStatus\");\n\t\tjest.spyOn(ODataUtils, \"fetchDataAsync\").mockImplementation(() => Promise.resolve(data));\n\t\tawait CardGeneratorDialogController.onPropertySelection(oEvent);\n\n\t\texpect(setPropertyMock).toHaveBeenNthCalledWith(1, \"/configuration/selectedNavigationalProperties\", [\n\t\t\t{\n\t\t\t\tname: \"to_BillingStatus\",\n\t\t\t\tvalue: [\n\t\t\t\t\t{ label: \"Lower Value\", labelWithValue: \"Lower Value (<empty>)\", name: \"Status\", type: \"Edm.String\" },\n\t\t\t\t\t{ label: \"Confirmation\", labelWithValue: \"Confirmation (Initial)\", name: \"Status_Text\", type: \"Edm.String\" }\n\t\t\t\t]\n\t\t\t}\n\t\t]);\n\t\texpect(setPropertyMock).toHaveBeenNthCalledWith(2, \"/configuration/selectedNavigationPropertiesContent\", {\n\t\t\tname: \"to_BillingStatus\",\n\t\t\tvalue: [\n\t\t\t\t{ label: \"Lower Value\", labelWithValue: \"Lower Value (<empty>)\", name: \"Status\", type: \"Edm.String\" },\n\t\t\t\t{ label: \"Confirmation\", labelWithValue: \"Confirmation (Initial)\", name: \"Status_Text\", type: \"Edm.String\" }\n\t\t\t]\n\t\t});\n\t\texpect(setValueStateMock).toHaveBeenCalledWith(ValueState.None);\n\t\texpect(oDialogModel.getProperty(\"/configuration/groups/0\").items).toMatchSnapshot();\n\t});\n});\n\ndescribe(\"updateContentNavigationSelection for V2\", () => {\n\tlet setPropertyMock: jest.Mock;\n\tlet getPreviewItemsMock = getPreviewItems as jest.Mock;\n\tlet coreElementGetElementByIdSpy: jest.SpyInstance;\n\tlet windowSpy: jest.SpyInstance;\n\n\tconst oDialogModel = new JSONModel({\n\t\tconfiguration: {\n\t\t\tproperties: [\n\t\t\t\t{\n\t\t\t\t\tname: \"net_amount\",\n\t\t\t\t\ttype: \"Edm.Int32\"\n\t\t\t\t}\n\t\t\t],\n\t\t\tadvancedFormattingOptions: {\n\t\t\t\tunitOfMeasures: [\n\t\t\t\t\t{\n\t\t\t\t\t\tname: \"net_amount\",\n\t\t\t\t\t\tvalue: \"currency_code\"\n\t\t\t\t\t}\n\t\t\t\t],\n\t\t\t\ttextArrangements: [],\n\t\t\t\tpropertyValueFormatters: []\n\t\t\t},\n\t\t\toDataV4: false,\n\t\t\tcontentUrlPath: \"C_STTA_SalesOrder_WD_20({{parameters.contextParameters}})\",\n\t\t\tgroups: [\n\t\t\t\t{\n\t\t\t\t\ttitle: \"Group 1\",\n\t\t\t\t\titems: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tisEnabled: false,\n\t\t\t\t\t\t\tisNavigationEnabled: true,\n\t\t\t\t\t\t\tlabel: \"\",\n\t\t\t\t\t\t\tname: \"to_BillingStatus\",\n\t\t\t\t\t\t\tnavigationProperty: \"Status_Text\",\n\t\t\t\t\t\t\tvalue: \"{to_BillingStatus/Status_Text}\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t],\n\t\t\tselectedContentNavigation: [],\n\t\t\tselectedHeaderNavigation: []\n\t\t}\n\t});\n\tconst oDialog = {\n\t\tgetModel: (type?: string) => {\n\t\t\tif (type && type === \"i18n\") {\n\t\t\t\treturn {\n\t\t\t\t\tgetResourceBundle: () => ({\n\t\t\t\t\t\tgetText: (key: string) => {\n\t\t\t\t\t\t\tif (key === \"UNSELECTED_ITEM\") {\n\t\t\t\t\t\t\t\treturn \"The card preview doesn't show this value because the field isn't configured.\";\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn \"\";\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t};\n\t\t\t}\n\t\t\treturn oDialogModel;\n\t\t},\n\t\topen: jest.fn(),\n\t\tsetModel: jest.fn(),\n\t\tclose: jest.fn()\n\t};\n\tgetPreviewItemsMock.mockReturnValue([\"to_BillingStatus\"]);\n\n\tbeforeAll(() => {\n\t\tObjectPage.createInstance(rootComponent);\n\t\tcoreElementGetElementByIdSpy = jest.spyOn(CoreElement, \"getElementById\");\n\t\tcoreElementGetElementByIdSpy.mockImplementation((id) => {\n\t\t\tif (id === \"cardGeneratorDialog--cardGeneratorDialog\") {\n\t\t\t\treturn oDialog;\n\t\t\t}\n\t\t});\n\t});\n\n\tafterAll(() => {\n\t\tApplication.getInstance()._resetInstance();\n\t\tcoreElementGetElementByIdSpy.mockRestore();\n\t});\n\n\tbeforeEach(() => {\n\t\twindowSpy = jest.spyOn(window, \"window\", \"get\");\n\t\twindowSpy.mockImplementation(() => ({\n\t\t\thasher: {\n\t\t\t\tgetHash: () => \"test-intent&/testEntity(12345)\"\n\t\t\t}\n\t\t}));\n\t\tsetPropertyMock = jest.fn();\n\t\toDialogModel.setProperty = setPropertyMock;\n\t\tCardGeneratorDialogController.initialize();\n\t});\n\n\tafterEach(() => {\n\t\tjest.clearAllMocks();\n\t\twindowSpy.mockRestore();\n\t});\n\n\ttest(\"it should update model properties correctly when selectedKey is not empty\", () => {\n\t\tconst setValueStateMock = jest.fn();\n\t\tconst navProperty = {\n\t\t\tname: \"to_BillingStatus\",\n\t\t\tproperties: [\n\t\t\t\t{\n\t\t\t\t\tlabel: \"Lower Value\",\n\t\t\t\t\ttype: \"Edm.String\",\n\t\t\t\t\tname: \"Status\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tlabel: \"Confirmation\",\n\t\t\t\t\ttype: \"Edm.String\",\n\t\t\t\t\tname: \"Status_Text\"\n\t\t\t\t}\n\t\t\t]\n\t\t};\n\t\tconst data = {\n\t\t\tnode_key: \"12345\",\n\t\t\tIsActiveEntity: true,\n\t\t\tto_BillingStatus: {\n\t\t\t\tStatus: \"\",\n\t\t\t\tStatus_Text: \"Initial\",\n\t\t\t\ttest: \"123\"\n\t\t\t}\n\t\t};\n\t\tconst oEvent = {\n\t\t\tgetSource: jest.fn().mockReturnValue({\n\t\t\t\tgetSelectedKey: jest.fn().mockReturnValue(\"Status_Text\"),\n\t\t\t\tsetValueState: setValueStateMock,\n\t\t\t\tgetBindingContext: jest.fn().mockReturnValue({\n\t\t\t\t\tgetPath: jest.fn().mockReturnValue(\"/configuration/groups/0/items/0\")\n\t\t\t\t})\n\t\t\t}),\n\t\t\tgetParameter: jest.fn().mockReturnValue({ newValue: \"Status_Text\" })\n\t\t};\n\n\t\tjest.spyOn(ODataUtils, \"getPropertyLabel\").mockReturnValue(navProperty);\n\t\tjest.spyOn(ODataUtils, \"fetchDataAsync\").mockImplementation(() => Promise.resolve(data));\n\n\t\tCardGeneratorDialogController.updateContentNavigationSelection(oEvent);\n\t\texpect(setPropertyMock).toHaveBeenNthCalledWith(1, \"/configuration/selectedContentNavigation\", [\n\t\t\t{ name: \"to_BillingStatus\", value: [\"Status_Text\"] }\n\t\t]);\n\t\texpect(oDialogModel.getProperty(\"/configuration/groups/0\").items).toMatchSnapshot();\n\t});\n});\n\ndescribe(\"updateContentNavigationSelection for V4\", () => {\n\tlet setPropertyMock: jest.Mock;\n\tlet coreElementGetElementByIdSpy: jest.SpyInstance;\n\tlet windowSpy: jest.SpyInstance;\n\n\tconst oDialogModel = new JSONModel({\n\t\tconfiguration: {\n\t\t\tproperties: [\n\t\t\t\t{\n\t\t\t\t\tname: \"net_amount\",\n\t\t\t\t\ttype: \"Edm.Int32\"\n\t\t\t\t}\n\t\t\t],\n\t\t\tadvancedFormattingOptions: {\n\t\t\t\tunitOfMeasures: [\n\t\t\t\t\t{\n\t\t\t\t\t\tname: \"net_amount\",\n\t\t\t\t\t\tvalue: \"currency_code\"\n\t\t\t\t\t}\n\t\t\t\t],\n\t\t\t\ttextArrangements: [],\n\t\t\t\tpropertyValueFormatters: []\n\t\t\t},\n\t\t\toDataV4: true,\n\t\t\tcontentUrlPath: \"C_STTA_SalesOrder_WD_20({{parameters.contextParameters}})\",\n\t\t\tgroups: [\n\t\t\t\t{\n\t\t\t\t\ttitle: \"Group 1\",\n\t\t\t\t\titems: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tisEnabled: false,\n\t\t\t\t\t\t\tisNavigationEnabled: true,\n\t\t\t\t\t\t\tlabel: \"\",\n\t\t\t\t\t\t\tname: \"to_BillingStatus\",\n\t\t\t\t\t\t\tnavigationProperty: \"Status_Text\",\n\t\t\t\t\t\t\tvalue: \"{to_BillingStatus/Status_Text}\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t],\n\t\t\tselectedContentNavigation: [],\n\t\t\tselectedHeaderNavigation: []\n\t\t}\n\t});\n\tconst oDialog = {\n\t\tgetModel: (type?: string) => {\n\t\t\tif (type === \"i18n\") {\n\t\t\t\treturn {\n\t\t\t\t\tgetResourceBundle: () => ({\n\t\t\t\t\t\tgetText: (key: string) => {\n\t\t\t\t\t\t\tif (key === \"UNSELECTED_ITEM\") {\n\t\t\t\t\t\t\t\treturn \"The card preview doesn't show this value because the field isn't configured.\";\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn \"\";\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t};\n\t\t\t}\n\t\t\treturn oDialogModel;\n\t\t},\n\t\topen: jest.fn(),\n\t\tsetModel: jest.fn(),\n\t\tclose: jest.fn()\n\t};\n\n\tbeforeAll(() => {\n\t\tObjectPage.createInstance(rootComponent);\n\t\tcoreElementGetElementByIdSpy = jest.spyOn(CoreElement, \"getElementById\");\n\t\tcoreElementGetElementByIdSpy.mockImplementation((id) => {\n\t\t\tif (id === \"cardGeneratorDialog--cardGeneratorDialog\") {\n\t\t\t\treturn oDialog;\n\t\t\t}\n\t\t});\n\t});\n\n\tafterAll(() => {\n\t\tApplication.getInstance()._resetInstance();\n\t\tcoreElementGetElementByIdSpy.mockRestore();\n\t});\n\n\tbeforeEach(() => {\n\t\twindowSpy = jest.spyOn(window, \"window\", \"get\");\n\t\twindowSpy.mockImplementation(() => ({\n\t\t\thasher: {\n\t\t\t\tgetHash: () => \"test-intent&/testEntity(12345)\"\n\t\t\t}\n\t\t}));\n\t\tsetPropertyMock = jest.fn();\n\t\toDialogModel.setProperty = setPropertyMock;\n\t\tCardGeneratorDialogController.initialize();\n\t});\n\n\tafterEach(() => {\n\t\tjest.clearAllMocks();\n\t\twindowSpy.mockRestore();\n\t});\n\n\ttest(\"it should update model properties correctly when selectedKey is not empty\", () => {\n\t\tconst setValueStateMock = jest.fn();\n\t\tconst navProperty = {\n\t\t\tname: \"to_BillingStatus\",\n\t\t\tproperties: [\n\t\t\t\t{\n\t\t\t\t\tlabel: \"Lower Value\",\n\t\t\t\t\ttype: \"Edm.String\",\n\t\t\t\t\tname: \"Status\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tlabel: \"Confirmation\",\n\t\t\t\t\ttype: \"Edm.String\",\n\t\t\t\t\tname: \"Status_Text\"\n\t\t\t\t}\n\t\t\t]\n\t\t};\n\t\tconst data = {\n\t\t\tnode_key: \"12345\",\n\t\t\tIsActiveEntity: true,\n\t\t\tto_BillingStatus: {\n\t\t\t\tStatus: \"\",\n\t\t\t\tStatus_Text: \"Initial\",\n\t\t\t\ttest: \"123\"\n\t\t\t}\n\t\t};\n\t\tconst oEvent = {\n\t\t\tgetSource: jest.fn().mockReturnValue({\n\t\t\t\tgetSelectedKey: jest.fn().mockReturnValue(\"Status_Text\"),\n\t\t\t\tsetValueState: setValueStateMock,\n\t\t\t\tgetBindingContext: jest.fn().mockReturnValue({\n\t\t\t\t\tgetPath: jest.fn().mockReturnValue(\"/configuration/groups/0/items/0\")\n\t\t\t\t})\n\t\t\t}),\n\t\t\tgetParameter: jest.fn().mockReturnValue({ newValue: \"Status_Text\" })\n\t\t};\n\n\t\tjest.spyOn(ODataUtils, \"getPropertyLabel\").mockReturnValue(navProperty);\n\t\tjest.spyOn(ODataUtils, \"fetchDataAsync\").mockImplementation(() => Promise.resolve(data));\n\n\t\tCardGeneratorDialogController.updateContentNavigationSelection(oEvent);\n\n\t\texpect(setPropertyMock).toHaveBeenNthCalledWith(1, \"/configuration/selectedContentNavigation\", [\n\t\t\t{\n\t\t\t\tname: \"to_BillingStatus\",\n\t\t\t\tvalue: [\"Status_Text\"]\n\t\t\t}\n\t\t]);\n\t\texpect(oDialogModel.getProperty(\"/configuration/groups/0\").items).toMatchSnapshot();\n\t});\n});\n\ndescribe(\"updateHeaderNavigationSelection for V2\", () => {\n\tlet setPropertyMock: jest.Mock;\n\tlet coreElementGetElementByIdSpy: jest.SpyInstance;\n\tlet windowSpy: jest.SpyInstance;\n\n\tconst oDialogModel = new JSONModel({\n\t\tconfiguration: {\n\t\t\tproperties: [\n\t\t\t\t{\n\t\t\t\t\tname: \"net_amount\",\n\t\t\t\t\ttype: \"Edm.Int32\"\n\t\t\t\t}\n\t\t\t],\n\t\t\tadvancedFormattingOptions: {\n\t\t\t\tunitOfMeasures: [\n\t\t\t\t\t{\n\t\t\t\t\t\tname: \"net_amount\",\n\t\t\t\t\t\tvalue: \"currency_code\"\n\t\t\t\t\t}\n\t\t\t\t],\n\t\t\t\ttextArrangements: [],\n\t\t\t\tpropertyValueFormatters: []\n\t\t\t},\n\t\t\toDataV4: false,\n\t\t\tcontentUrlPath: \"C_STTA_SalesOrder_WD_20({{parameters.contextParameters}})\",\n\t\t\tentityUrlPath: \"C_STTA_SalesOrder_WD_20(node_key=guid'fa163ee4-7bdd-1ee8-b1ff-d3c5a4e5236a',IsActiveEntity=true)\",\n\t\t\tmainIndicatorStatusKey: \"to_BillingStatus\",\n\t\t\tselectedContentNavigation: [\n\t\t\t\t{\n\t\t\t\t\tname: \"to_BillingStatus\",\n\t\t\t\t\tvalue: [\"Status_Text\"]\n\t\t\t\t}\n\t\t\t],\n\t\t\tselectedHeaderNavigation: []\n\t\t}\n\t});\n\n\tconst getResourceBundleMock = jest.fn().mockReturnValue({\n\t\tgetResourceBundle: jest.fn().mockReturnValue({\n\t\t\tgetText: jest.fn().mockImplementation((key) => {\n\t\t\t\tif (key === \"UNSELECTED_ITEM\") return \"The card preview doesn't show this value because the field isn't configured.\";\n\t\t\t})\n\t\t})\n\t});\n\tconst oDialog = {\n\t\tgetModel: (type?: string) => {\n\t\t\tif (type && type === \"i18n\") {\n\t\t\t\treturn getResourceBundleMock();\n\t\t\t} else {\n\t\t\t\treturn oDialogModel;\n\t\t\t}\n\t\t},\n\t\topen: jest.fn(),\n\t\tsetModel: jest.fn(),\n\t\tclose: jest.fn()\n\t};\n\n\tbeforeAll(() => {\n\t\tObjectPage.createInstance(rootComponent);\n\t\tcoreElementGetElementByIdSpy = jest.spyOn(CoreElement, \"getElementById\");\n\t\tcoreElementGetElementByIdSpy.mockImplementation((id) => {\n\t\t\tif (id === \"cardGeneratorDialog--cardGeneratorDialog\") {\n\t\t\t\treturn oDialog;\n\t\t\t}\n\t\t});\n\t});\n\n\tafterAll(() => {\n\t\tApplication.getInstance()._resetInstance();\n\t\tcoreElementGetElementByIdSpy.mockRestore();\n\t});\n\n\tbeforeEach(() => {\n\t\twindowSpy = jest.spyOn(window, \"window\", \"get\");\n\t\twindowSpy.mockImplementation(() => ({\n\t\t\thasher: {\n\t\t\t\tgetHash: () => \"test-intent&/testEntity(12345)\"\n\t\t\t}\n\t\t}));\n\t\tsetPropertyMock = jest.fn();\n\t\toDialogModel.setProperty = setPropertyMock;\n\t\tCardGeneratorDialogController.initialize();\n\t});\n\n\tafterEach(() => {\n\t\tjest.clearAllMocks();\n\t\twindowSpy.mockRestore();\n\t});\n\n\ttest(\"it should update model properties correctly when selectedKey is not empty\", () => {\n\t\tconst setValueStateMock = jest.fn();\n\t\tconst navProperty = {\n\t\t\tname: \"to_BillingStatus\",\n\t\t\tproperties: [\n\t\t\t\t{\n\t\t\t\t\tlabel: \"Lower Value\",\n\t\t\t\t\ttype: \"Edm.String\",\n\t\t\t\t\tname: \"Status\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tlabel: \"Confirmation\",\n\t\t\t\t\ttype: \"Edm.String\",\n\t\t\t\t\tname: \"Status_Text\"\n\t\t\t\t}\n\t\t\t]\n\t\t};\n\t\tconst data = {\n\t\t\tnode_key: \"12345\",\n\t\t\tIsActiveEntity: true,\n\t\t\tto_BillingStatus: {\n\t\t\t\tStatus: \"\",\n\t\t\t\tStatus_Text: \"Initial\",\n\t\t\t\ttest: \"123\"\n\t\t\t}\n\t\t};\n\t\tconst oEvent = {\n\t\t\tgetSource: jest.fn().mockReturnValue({\n\t\t\t\tgetSelectedKey: jest.fn().mockReturnValue(\"Status_Text\"),\n\t\t\t\tsetValueState: setValueStateMock,\n\t\t\t\tgetValue: jest.fn().mockReturnValue(\"Status_Text)\")\n\t\t\t}),\n\t\t\tgetParameter: jest.fn().mockReturnValue({ newValue: \"Status_Text\" })\n\t\t};\n\n\t\tjest.spyOn(ODataUtils, \"getPropertyLabel\").mockReturnValue(navProperty);\n\t\tjest.spyOn(ODataUtils, \"fetchDataAsync\").mockImplementation(() => Promise.resolve(data));\n\n\t\tCardGeneratorDialogController.updateHeaderNavigationSelection(oEvent);\n\n\t\texpect(setPropertyMock).toHaveBeenNthCalledWith(1, \"/configuration/mainIndicatorStatusKeyInitial\", \"to_BillingStatus\");\n\t\texpect(setPropertyMock).toHaveBeenNthCalledWith(2, \"/configuration/selectedHeaderNavigation\", [\n\t\t\t{\n\t\t\t\tname: \"to_BillingStatus\",\n\t\t\t\tvalue: [\"Status_Text\"]\n\t\t\t}\n\t\t]);\n\t\texpect(setPropertyMock).toHaveBeenNthCalledWith(3, \"/configuration/navigationValue\", \"to_BillingStatus/Status_Text\");\n\t\texpect(setPropertyMock).toHaveBeenNthCalledWith(4, \"/configuration/mainIndicatorNavigationSelectedKey\", \"Status_Text\");\n\t\texpect(setPropertyMock).toHaveBeenNthCalledWith(5, \"/configuration/mainIndicatorStatusKey\", \"to_BillingStatus/Status_Text\");\n\t});\n});\n\ndescribe(\"updateHeaderNavigationSelection for V4\", () => {\n\tlet setPropertyMock: jest.Mock;\n\tlet windowSpy: jest.SpyInstance;\n\tlet coreElementGetElementByIdSpy: jest.SpyInstance;\n\n\tconst oDialogModel = new JSONModel({\n\t\tconfiguration: {\n\t\t\tproperties: [\n\t\t\t\t{\n\t\t\t\t\tname: \"net_amount\",\n\t\t\t\t\ttype: \"Edm.Int32\"\n\t\t\t\t}\n\t\t\t],\n\t\t\tadvancedFormattingOptions: {\n\t\t\t\tunitOfMeasures: [\n\t\t\t\t\t{\n\t\t\t\t\t\tname: \"net_amount\",\n\t\t\t\t\t\tvalue: \"currency_code\"\n\t\t\t\t\t}\n\t\t\t\t],\n\t\t\t\ttextArrangements: [],\n\t\t\t\tpropertyValueFormatters: []\n\t\t\t},\n\t\t\toDataV4: true,\n\t\t\tcontentUrlPath: \"C_STTA_SalesOrder_WD_20({{parameters.contextParameters}})\",\n\t\t\tentityUrlPath: \"C_STTA_SalesOrder_WD_20(node_key=guid'fa163ee4-7bdd-1ee8-b1ff-d3c5a4e5236a',IsActiveEntity=true)\",\n\t\t\tmainIndicatorStatusKey: \"to_BillingStatus\",\n\t\t\tselectedContentNavigation: [\n\t\t\t\t{\n\t\t\t\t\tname: \"to_BillingStatus\",\n\t\t\t\t\tvalue: [\"Status_Text\"]\n\t\t\t\t}\n\t\t\t],\n\t\t\tselectedHeaderNavigation: []\n\t\t}\n\t});\n\tconst getResourceBundleMock = jest.fn().mockReturnValue({\n\t\tgetResourceBundle: jest.fn().mockReturnValue({\n\t\t\tgetText: jest.fn().mockImplementation((key) => {\n\t\t\t\tif (key === \"UNSELECTED_ITEM\") return \"The card preview doesn't show this value because the field isn't configured.\";\n\t\t\t})\n\t\t})\n\t});\n\tconst oDialog = {\n\t\tgetModel: (type?: string) => {\n\t\t\tif (type && type === \"i18n\") {\n\t\t\t\treturn getResourceBundleMock();\n\t\t\t} else {\n\t\t\t\treturn oDialogModel;\n\t\t\t}\n\t\t},\n\t\topen: jest.fn(),\n\t\tsetModel: jest.fn(),\n\t\tclose: jest.fn()\n\t};\n\n\tbeforeAll(() => {\n\t\tObjectPage.createInstance(rootComponent);\n\t\tcoreElementGetElementByIdSpy = jest.spyOn(CoreElement, \"getElementById\");\n\t\tcoreElementGetElementByIdSpy.mockImplementation((id) => {\n\t\t\tif (id === \"cardGeneratorDialog--cardGeneratorDialog\") {\n\t\t\t\treturn oDialog;\n\t\t\t}\n\t\t});\n\t});\n\n\tafterAll(() => {\n\t\tApplication.getInstance()._resetInstance();\n\t\tcoreElementGetElementByIdSpy.mockRestore();\n\t});\n\n\tbeforeEach(() => {\n\t\twindowSpy = jest.spyOn(window, \"window\", \"get\");\n\t\twindowSpy.mockImplementation(() => ({\n\t\t\thasher: {\n\t\t\t\tgetHash: () => \"test-intent&/testEntity(12345)\"\n\t\t\t}\n\t\t}));\n\t\tsetPropertyMock = jest.fn();\n\t\toDialogModel.setProperty = setPropertyMock;\n\t\tCardGeneratorDialogController.initialize();\n\t});\n\n\tafterEach(() => {\n\t\tjest.clearAllMocks();\n\t\twindowSpy.mockRestore();\n\t});\n\n\ttest(\"it should update model properties correctly when selectedKey is not empty\", () => {\n\t\tconst setValueStateMock = jest.fn();\n\t\tconst navProperty = {\n\t\t\tname: \"to_BillingStatus\",\n\t\t\tproperties: [\n\t\t\t\t{\n\t\t\t\t\tlabel: \"Lower Value\",\n\t\t\t\t\ttype: \"Edm.String\",\n\t\t\t\t\tname: \"Status\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tlabel: \"Confirmation\",\n\t\t\t\t\ttype: \"Edm.String\",\n\t\t\t\t\tname: \"Status_Text\"\n\t\t\t\t}\n\t\t\t]\n\t\t};\n\t\tconst data = {\n\t\t\tnode_key: \"12345\",\n\t\t\tIsActiveEntity: true,\n\t\t\tto_BillingStatus: {\n\t\t\t\tStatus: \"\",\n\t\t\t\tStatus_Text: \"Initial\",\n\t\t\t\ttest: \"123\"\n\t\t\t}\n\t\t};\n\t\tconst oEvent = {\n\t\t\tgetSource: jest.fn().mockReturnValue({\n\t\t\t\tgetSelectedKey: jest.fn().mockReturnValue(\"Status_Text\"),\n\t\t\t\tsetValueState: setValueStateMock,\n\t\t\t\tgetValue: jest.fn().mockReturnValue(\"Status_Text)\")\n\t\t\t}),\n\t\t\tgetParameter: jest.fn().mockReturnValue({ newValue: \"Status_Text\" })\n\t\t};\n\n\t\tjest.spyOn(ODataUtils, \"getPropertyLabel\").mockReturnValue(navProperty);\n\t\tjest.spyOn(ODataUtils, \"fetchDataAsync\").mockImplementation(() => Promise.resolve(data));\n\n\t\tCardGeneratorDialogController.updateHeaderNavigationSelection(oEvent);\n\n\t\texpect(setPropertyMock).toHaveBeenNthCalledWith(1, \"/configuration/mainIndicatorStatusKeyInitial\", \"to_BillingStatus\");\n\t\texpect(setPropertyMock).toHaveBeenNthCalledWith(2, \"/configuration/selectedHeaderNavigation\", [\n\t\t\t{\n\t\t\t\tname: \"to_BillingStatus\",\n\t\t\t\tvalue: [\"Status_Text\"]\n\t\t\t}\n\t\t]);\n\t\texpect(setPropertyMock).toHaveBeenNthCalledWith(3, \"/configuration/navigationValue\", \"to_BillingStatus/Status_Text\");\n\t\texpect(setPropertyMock).toHaveBeenNthCalledWith(4, \"/configuration/mainIndicatorNavigationSelectedKey\", \"Status_Text\");\n\t\texpect(setPropertyMock).toHaveBeenNthCalledWith(5, \"/configuration/mainIndicatorStatusKey\", \"to_BillingStatus/Status_Text\");\n\t});\n});\n\ndescribe(\"updateHeaderNavigationSelection for V2 if selectedHeaderNavigation present\", () => {\n\tlet setPropertyMock: jest.Mock;\n\tlet coreElementGetElementByIdSpy: jest.SpyInstance;\n\tlet windowSpy: jest.SpyInstance;\n\n\tconst oDialogModel = new JSONModel({\n\t\tconfiguration: {\n\t\t\tproperties: [\n\t\t\t\t{\n\t\t\t\t\tname: \"net_amount\",\n\t\t\t\t\ttype: \"Edm.Int32\"\n\t\t\t\t}\n\t\t\t],\n\t\t\tadvancedFormattingOptions: {\n\t\t\t\tunitOfMeasures: [\n\t\t\t\t\t{\n\t\t\t\t\t\tname: \"net_amount\",\n\t\t\t\t\t\tvalue: \"currency_code\"\n\t\t\t\t\t}\n\t\t\t\t],\n\t\t\t\ttextArrangements: [],\n\t\t\t\tpropertyValueFormatters: []\n\t\t\t},\n\t\t\toDataV4: false,\n\t\t\tcontentUrlPath: \"C_STTA_SalesOrder_WD_20({{parameters.contextParameters}})\",\n\t\t\tentityUrlPath: \"C_STTA_SalesOrder_WD_20(node_key=guid'fa163ee4-7bdd-1ee8-b1ff-d3c5a4e5236a',IsActiveEntity=true)\",\n\t\t\tmainIndicatorStatusKey: \"to_BillingStatus\",\n\t\t\tselectedContentNavigation: [],\n\t\t\tselectedHeaderNavigation: [\n\t\t\t\t{\n\t\t\t\t\tname: \"to_BillingStatus\",\n\t\t\t\t\tvalue: [\"Status_Text\"]\n\t\t\t\t}\n\t\t\t]\n\t\t}\n\t});\n\n\tconst getResourceBundleMock = jest.fn().mockReturnValue({\n\t\tgetResourceBundle: jest.fn().mockReturnValue({\n\t\t\tgetText: jest.fn().mockImplementation((key) => {\n\t\t\t\tif (key === \"UNSELECTED_ITEM\") return \"The card preview doesn't show this value because the field isn't configured.\";\n\t\t\t})\n\t\t})\n\t});\n\tconst oDialog = {\n\t\tgetModel: (type?: string) => {\n\t\t\tif (type && type === \"i18n\") {\n\t\t\t\treturn getResourceBundleMock();\n\t\t\t} else {\n\t\t\t\treturn oDialogModel;\n\t\t\t}\n\t\t},\n\t\topen: jest.fn(),\n\t\tsetModel: jest.fn(),\n\t\tclose: jest.fn()\n\t};\n\n\tbeforeAll(() => {\n\t\tObjectPage.createInstance(rootComponent);\n\t\tcoreElementGetElementByIdSpy = jest.spyOn(CoreElement, \"getElementById\");\n\t\tcoreElementGetElementByIdSpy.mockImplementation((id) => {\n\t\t\tif (id === \"cardGeneratorDialog--cardGeneratorDialog\") {\n\t\t\t\treturn oDialog;\n\t\t\t}\n\t\t});\n\t});\n\n\tafterAll(() => {\n\t\tApplication.getInstance()._resetInstance();\n\t\tcoreElementGetElementByIdSpy.mockRestore();\n\t});\n\n\tbeforeEach(() => {\n\t\twindowSpy = jest.spyOn(window, \"window\", \"get\");\n\t\twindowSpy.mockImplementation(() => ({\n\t\t\thasher: {\n\t\t\t\tgetHash: () => \"test-intent&/testEntity(12345)\"\n\t\t\t}\n\t\t}));\n\t\tsetPropertyMock = jest.fn();\n\t\toDialogModel.setProperty = setPropertyMock;\n\t\tCardGeneratorDialogController.initialize();\n\t});\n\n\tafterEach(() => {\n\t\tjest.clearAllMocks();\n\t\twindowSpy.mockRestore();\n\t});\n\n\ttest(\"it should update model properties correctly when selectedKey is not empty\", () => {\n\t\tconst setValueStateMock = jest.fn();\n\t\tconst navProperty = {\n\t\t\tname: \"to_BillingStatus\",\n\t\t\tproperties: [\n\t\t\t\t{\n\t\t\t\t\tlabel: \"Lower Value\",\n\t\t\t\t\ttype: \"Edm.String\",\n\t\t\t\t\tname: \"Status\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tlabel: \"Confirmation\",\n\t\t\t\t\ttype: \"Edm.String\",\n\t\t\t\t\tname: \"Status_Text\"\n\t\t\t\t}\n\t\t\t]\n\t\t};\n\t\tconst data = {\n\t\t\tnode_key: \"12345\",\n\t\t\tIsActiveEntity: true,\n\t\t\tto_BillingStatus: {\n\t\t\t\tStatus: \"\",\n\t\t\t\tStatus_Text: \"Initial\",\n\t\t\t\ttest: \"123\"\n\t\t\t}\n\t\t};\n\t\tconst oEvent = {\n\t\t\tgetSource: jest.fn().mockReturnValue({\n\t\t\t\tgetSelectedKey: jest.fn().mockReturnValue(\"Status_Text\"),\n\t\t\t\tsetValueState: setValueStateMock,\n\t\t\t\tgetValue: jest.fn().mockReturnValue(\"Status_Text)\")\n\t\t\t}),\n\t\t\tgetParameter: jest.fn().mockReturnValue({ newValue: \"Status_Text\" })\n\t\t};\n\n\t\tjest.spyOn(ODataUtils, \"getPropertyLabel\").mockReturnValue(navProperty);\n\t\tjest.spyOn(ODataUtils, \"fetchDataAsync\").mockImplementation(() => Promise.resolve(data));\n\n\t\tCardGeneratorDialogController.updateHeaderNavigationSelection(oEvent);\n\n\t\texpect(setPropertyMock).toHaveBeenNthCalledWith(1, \"/configuration/mainIndicatorStatusKeyInitial\", \"to_BillingStatus\");\n\t\texpect(setPropertyMock).toHaveBeenNthCalledWith(2, \"/configuration/selectedHeaderNavigation\", [\n\t\t\t{\n\t\t\t\tname: \"to_BillingStatus\",\n\t\t\t\tvalue: [\"Status_Text\"]\n\t\t\t}\n\t\t]);\n\t\texpect(setPropertyMock).toHaveBeenNthCalledWith(3, \"/configuration/navigationValue\", \"to_BillingStatus/Status_Text\");\n\t\texpect(setPropertyMock).toHaveBeenNthCalledWith(4, \"/configuration/mainIndicatorNavigationSelectedKey\", \"Status_Text\");\n\t\texpect(setPropertyMock).toHaveBeenNthCalledWith(5, \"/configuration/mainIndicatorStatusKey\", \"to_BillingStatus/Status_Text\");\n\t});\n});\n\ndescribe(\"updateHeaderNavigationSelection - when navigationValue is of date type.\", () => {\n\tlet setPropertyMock: jest.Mock;\n\tlet renderCardPreviewMock: jest.Mock;\n\tlet coreElementGetElementByIdSpy: jest.SpyInstance;\n\tlet windowSpy: jest.SpyInstance;\n\n\tconst oDialogModel = new JSONModel({\n\t\tconfiguration: {\n\t\t\tproperties: [\n\t\t\t\t{\n\t\t\t\t\tname: \"net_amount\",\n\t\t\t\t\ttype: \"Edm.Int32\"\n\t\t\t\t}\n\t\t\t],\n\t\t\tadvancedFormattingOptions: {\n\t\t\t\tunitOfMeasures: [\n\t\t\t\t\t{\n\t\t\t\t\t\tname: \"net_amount\",\n\t\t\t\t\t\tvalue: \"currency_code\"\n\t\t\t\t\t}\n\t\t\t\t],\n\t\t\t\ttextArrangements: [],\n\t\t\t\tpropertyValueFormatters: [\n\t\t\t\t\t{\n\t\t\t\t\t\tformatterName: \"format.dateTime\",\n\t\t\t\t\t\tdisplayName: \"Date/Time\",\n\t\t\t\t\t\tparameters: [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tname: \"options\",\n\t\t\t\t\t\t\t\tdisplayName: \"Options\",\n\t\t\t\t\t\t\t\ttype: \"object\",\n\t\t\t\t\t\t\t\tdefaultValue: \"\",\n\t\t\t\t\t\t\t\tproperties: [\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tname: \"relative\",\n\t\t\t\t\t\t\t\t\t\tdisplayName: \"Relative\",\n\t\t\t\t\t\t\t\t\t\ttype: \"boolean\",\n\t\t\t\t\t\t\t\t\t\tdefaultValue: false\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tname: \"UTC\",\n\t\t\t\t\t\t\t\t\t\tdisplayName: \"UTC\",\n\t\t\t\t\t\t\t\t\t\ttype: \"boolean\",\n\t\t\t\t\t\t\t\t\t\tdefaultValue: false,\n\t\t\t\t\t\t\t\t\t\tselected: true\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t],\n\t\t\t\t\t\ttype: \"Date\",\n\t\t\t\t\t\tvisible: true,\n\t\t\t\t\t\tproperty: \"DraftAdministrativeData/ProcessingStartDateTime\"\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t},\n\t\t\toDataV4: false,\n\t\t\tcontentUrlPath: \"C_STTA_SalesOrder_WD_20({{parameters.contextParameters}})\",\n\t\t\tentityUrlPath: \"C_STTA_SalesOrder_WD_20(node_key=guid'fa163ee4-7bdd-1ee8-b1ff-d3c5a4e5236a',IsActiveEntity=true)\",\n\t\t\tmainIndicatorStatusKey: \"DraftAdministrativeData\",\n\t\t\tselectedContentNavigation: [],\n\t\t\tselectedHeaderNavigation: [\n\t\t\t\t{\n\t\t\t\t\tname: \"DraftAdministrativeData\",\n\t\t\t\t\tvalue: [\"ProcessingStartDateTime\"]\n\t\t\t\t}\n\t\t\t],\n\t\t\tselectedNavigationPropertyHeader: {\n\t\t\t\tname: \"DraftAdministrativeData\",\n\t\t\t\tvalue: [\n\t\t\t\t\t{\n\t\t\t\t\t\tlabel: \"Draft In Process Since\",\n\t\t\t\t\t\ttype: \"Edm.DateTimeOffset\",\n\t\t\t\t\t\tname: \"ProcessingStartDateTime\",\n\t\t\t\t\t\tlabelWithValue: \"Draft In Process Since (Dec 20, 2024, 8:51:30PM)\"\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t},\n\t\t\tnavigationValue: \"DraftAdministrativeData/ProcessingStartDateTime\"\n\t\t}\n\t});\n\n\tconst getResourceBundleMock = jest.fn().mockReturnValue({\n\t\tgetResourceBundle: jest.fn().mockReturnValue({\n\t\t\tgetText: jest.fn().mockImplementation((key) => {\n\t\t\t\tif (key === \"UNSELECTED_ITEM\") return \"The card preview doesn't show this value because the field isn't configured.\";\n\t\t\t})\n\t\t})\n\t});\n\tconst oDialog = {\n\t\tgetModel: (type?: string) => {\n\t\t\tif (type && type === \"i18n\") {\n\t\t\t\treturn getResourceBundleMock();\n\t\t\t} else {\n\t\t\t\treturn oDialogModel;\n\t\t\t}\n\t\t},\n\t\topen: jest.fn(),\n\t\tsetModel: jest.fn(),\n\t\tclose: jest.fn()\n\t};\n\n\tbeforeAll(() => {\n\t\tObjectPage.createInstance(rootComponent);\n\t\tcoreElementGetElementByIdSpy = jest.spyOn(CoreElement, \"getElementById\");\n\t\tcoreElementGetElementByIdSpy.mockImplementation((id) => {\n\t\t\tif (id === \"cardGeneratorDialog--cardGeneratorDialog\") {\n\t\t\t\treturn oDialog;\n\t\t\t}\n\t\t});\n\t});\n\n\tafterAll(() => {\n\t\tApplication.getInstance()._resetInstance();\n\t\tcoreElementGetElementByIdSpy.mockRestore();\n\t});\n\n\tbeforeEach(() => {\n\t\twindowSpy = jest.spyOn(window, \"window\", \"get\");\n\t\twindowSpy.mockImplementation(() => ({\n\t\t\thasher: {\n\t\t\t\tgetHash: () => \"test-intent&/testEntity(12345)\"\n\t\t\t}\n\t\t}));\n\t\tsetPropertyMock = jest.fn();\n\t\trenderCardPreviewMock = renderCardPreview as jest.Mock;\n\t\toDialogModel.setProperty = setPropertyMock;\n\t\tCardGeneratorDialogController.initialize();\n\t});\n\n\tafterEach(() => {\n\t\tjest.clearAllMocks();\n\t\twindowSpy.mockRestore();\n\t});\n\n\ttest(\"Validate card header to check formatting is applied correctly\", () => {\n\t\tconst setValueStateMock = jest.fn();\n\t\tconst oEvent = {\n\t\t\tgetSource: jest.fn().mockReturnValue({\n\t\t\t\tgetSelectedKey: jest.fn().mockReturnValue(\"ProcessingStartDateTime\"),\n\t\t\t\tsetValueState: setValueStateMock,\n\t\t\t\tgetValue: jest.fn().mockReturnValue(\"ProcessingStartDateTime\")\n\t\t\t}),\n\t\t\tgetParameter: jest.fn().mockReturnValue({ newValue: \"Draft In Process Since (Dec 20, 2024, 8:51:30PM)\" })\n\t\t};\n\n\t\tCardGeneratorDialogController.updateHeaderNavigationSelection(oEvent);\n\n\t\tconst calledWithArgs = renderCardPreviewMock.mock.calls[0][0];\n\t\texpect(calledWithArgs[\"sap.card\"].header.mainIndicator.number).toMatchSnapshot();\n\t\texpect(setPropertyMock).toHaveBeenNthCalledWith(1, \"/configuration/mainIndicatorStatusKeyInitial\", \"DraftAdministrativeData\");\n\t\texpect(setPropertyMock).toHaveBeenNthCalledWith(2, \"/configuration/selectedHeaderNavigation\", [\n\t\t\t{\n\t\t\t\tname: \"DraftAdministrativeData\",\n\t\t\t\tvalue: [\"ProcessingStartDateTime\"]\n\t\t\t}\n\t\t]);\n\t\texpect(setPropertyMock).toHaveBeenNthCalledWith(\n\t\t\t3,\n\t\t\t\"/configuration/navigationValue\",\n\t\t\t\"DraftAdministrativeData/ProcessingStartDateTime\"\n\t\t);\n\t\texpect(setPropertyMock).toHaveBeenNthCalledWith(4, \"/configuration/mainIndicatorNavigationSelectedKey\", \"ProcessingStartDateTime\");\n\t\texpect(setPropertyMock).toHaveBeenNthCalledWith(\n\t\t\t5,\n\t\t\t\"/configuration/mainIndicatorStatusKey\",\n\t\t\t\"DraftAdministrativeData/ProcessingStartDateTime\"\n\t\t);\n\t});\n});\n\ndescribe(\"updateContentNavigationSelection for V2 if selectedContentNavigation is present\", () => {\n\tlet setPropertyMock: jest.Mock;\n\tlet coreElementGetElementByIdSpy: jest.SpyInstance;\n\tlet windowSpy: jest.SpyInstance;\n\n\tconst oDialogModel = new JSONModel({\n\t\tconfiguration: {\n\t\t\tproperties: [\n\t\t\t\t{\n\t\t\t\t\tname: \"net_amount\",\n\t\t\t\t\ttype: \"Edm.Int32\"\n\t\t\t\t}\n\t\t\t],\n\t\t\tadvancedFormattingOptions: {\n\t\t\t\tunitOfMeasures: [\n\t\t\t\t\t{\n\t\t\t\t\t\tname: \"net_amount\",\n\t\t\t\t\t\tvalue: \"currency_code\"\n\t\t\t\t\t}\n\t\t\t\t],\n\t\t\t\ttextArrangements: [],\n\t\t\t\tpropertyValueFormatters: []\n\t\t\t},\n\t\t\tgroups: [\n\t\t\t\t{\n\t\t\t\t\ttitle: \"Group 1\",\n\t\t\t\t\titems: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tisEnabled: false,\n\t\t\t\t\t\t\tisNavigationEnabled: true,\n\t\t\t\t\t\t\tlabel: \"\",\n\t\t\t\t\t\t\tname: \"to_BillingStatus\",\n\t\t\t\t\t\t\tnavigationProperty: \"Status_Text\",\n\t\t\t\t\t\t\tvalue: \"{to_BillingStatus/Status_Text}\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t],\n\t\t\toDataV4: false,\n\t\t\tcontentUrlPath: \"C_STTA_SalesOrder_WD_20({{parameters.contextParameters}})\",\n\t\t\tentityUrlPath: \"C_STTA_SalesOrder_WD_20(node_key=guid'fa163ee4-7bdd-1ee8-b1ff-d3c5a4e5236a',IsActiveEntity=true)\",\n\t\t\tmainIndicatorStatusKey: \"to_BillingStatus\",\n\t\t\tselectedContentNavigation: [\n\t\t\t\t{\n\t\t\t\t\tname: \"to_BillingStatus\",\n\t\t\t\t\tvalue: [\"Status_Text\"]\n\t\t\t\t}\n\t\t\t],\n\t\t\tselectedHeaderNavigation: []\n\t\t}\n\t});\n\n\tconst oDialog = {\n\t\tgetModel: (type?: string) => {\n\t\t\tif (type && type === \"i18n\") {\n\t\t\t\treturn {\n\t\t\t\t\tgetResourceBundle: () => ({\n\t\t\t\t\t\tgetText: (key: string) => {\n\t\t\t\t\t\t\tif (key === \"UNSELECTED_ITEM\") {\n\t\t\t\t\t\t\t\treturn \"The card preview doesn't show this value because the field isn't configured.\";\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn \"\";\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t};\n\t\t\t}\n\t\t\treturn oDialogModel;\n\t\t},\n\t\topen: jest.fn(),\n\t\tsetModel: jest.fn(),\n\t\tclose: jest.fn()\n\t};\n\n\tbeforeAll(() => {\n\t\tObjectPage.createInstance(rootComponent);\n\t\tcoreElementGetElementByIdSpy = jest.spyOn(CoreElement, \"getElementById\");\n\t\tcoreElementGetElementByIdSpy.mockImplementation((id) => {\n\t\t\tif (id === \"cardGeneratorDialog--cardGeneratorDialog\") {\n\t\t\t\treturn oDialog;\n\t\t\t}\n\t\t});\n\t});\n\n\tafterAll(() => {\n\t\tApplication.getInstance()._resetInstance();\n\t\tcoreElementGetElementByIdSpy.mockRestore();\n\t});\n\n\tbeforeEach(() => {\n\t\twindowSpy = jest.spyOn(window, \"window\", \"get\");\n\t\twindowSpy.mockImplementation(() => ({\n\t\t\thasher: {\n\t\t\t\tgetHash: () => \"test-intent&/testEntity(12345)\"\n\t\t\t}\n\t\t}));\n\t\tsetPropertyMock = jest.fn();\n\t\toDialogModel.setProperty = setPropertyMock;\n\t\tCardGeneratorDialogController.initialize();\n\t});\n\n\tafterEach(() => {\n\t\tjest.clearAllMocks();\n\t\twindowSpy.mockRestore();\n\t});\n\n\ttest(\"it should update model properties correctly when selectedKey is not empty\", () => {\n\t\tconst setValueStateMock = jest.fn();\n\t\tconst navProperty = {\n\t\t\tname: \"to_BillingStatus\",\n\t\t\tproperties: [\n\t\t\t\t{\n\t\t\t\t\tlabel: \"Lower Value\",\n\t\t\t\t\ttype: \"Edm.String\",\n\t\t\t\t\tname: \"Status\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tlabel: \"Confirmation\",\n\t\t\t\t\ttype: \"Edm.String\",\n\t\t\t\t\tname: \"Status_Text\"\n\t\t\t\t}\n\t\t\t]\n\t\t};\n\t\tconst data = {\n\t\t\tnode_key: \"12345\",\n\t\t\tIsActiveEntity: true,\n\t\t\tto_BillingStatus: {\n\t\t\t\tStatus: \"\",\n\t\t\t\tStatus_Text: \"Initial\",\n\t\t\t\ttest: \"123\"\n\t\t\t}\n\t\t};\n\t\tconst oEvent = {\n\t\t\tgetSource: jest.fn().mockReturnValue({\n\t\t\t\tgetSelectedKey: jest.fn().mockReturnValue(\"Status_Text\"),\n\t\t\t\tsetValueState: setValueStateMock,\n\t\t\t\tgetValue: jest.fn().mockReturnValue(\"Status_Text)\"),\n\t\t\t\tgetBindingContext: jest.fn().mockReturnValue({\n\t\t\t\t\tgetPath: jest.fn().mockReturnValue(\"/configuration/groups/0/items/0\")\n\t\t\t\t})\n\t\t\t}),\n\t\t\tgetParameter: jest.fn().mockReturnValue({ newValue: \"Status_Text\" })\n\t\t};\n\n\t\tjest.spyOn(ODataUtils, \"getPropertyLabel\").mockReturnValue(navProperty);\n\t\tjest.spyOn(ODataUtils, \"fetchDataAsync\").mockImplementation(() => Promise.resolve(data));\n\n\t\tCardGeneratorDialogController.updateContentNavigationSelection(oEvent);\n\n\t\texpect(setPropertyMock).toHaveBeenNthCalledWith(1, \"/configuration/selectedContentNavigation\", [\n\t\t\t{ name: \"to_BillingStatus\", value: [\"Status_Text\"] }\n\t\t]);\n\t\texpect(oDialogModel.getProperty(\"/configuration/groups/0\").items).toMatchSnapshot();\n\t});\n});\n\ndescribe(\"updateContentNavigationSelection - when selectedContentNavigation is present and is of type date.\", () => {\n\tlet setPropertyMock: jest.Mock;\n\tlet coreElementGetElementByIdSpy: jest.SpyInstance;\n\tlet windowSpy: jest.SpyInstance;\n\n\tconst oDialogModel = new JSONModel({\n\t\tconfiguration: {\n\t\t\tproperties: [\n\t\t\t\t{\n\t\t\t\t\tname: \"net_amount\",\n\t\t\t\t\ttype: \"Edm.Int32\"\n\t\t\t\t}\n\t\t\t],\n\t\t\tadvancedFormattingOptions: {\n\t\t\t\tunitOfMeasures: [\n\t\t\t\t\t{\n\t\t\t\t\t\tname: \"net_amount\",\n\t\t\t\t\t\tvalue: \"currency_code\"\n\t\t\t\t\t}\n\t\t\t\t],\n\t\t\t\ttextArrangements: [],\n\t\t\t\tpropertyValueFormatters: [\n\t\t\t\t\t{\n\t\t\t\t\t\tformatterName: \"format.dateTime\",\n\t\t\t\t\t\tdisplayName: \"Date/Time\",\n\t\t\t\t\t\tparameters: [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tname: \"options\",\n\t\t\t\t\t\t\t\tdisplayName: \"Options\",\n\t\t\t\t\t\t\t\ttype: \"object\",\n\t\t\t\t\t\t\t\tdefaultValue: \"\",\n\t\t\t\t\t\t\t\tproperties: [\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tname: \"relative\",\n\t\t\t\t\t\t\t\t\t\tdisplayName: \"Relative\",\n\t\t\t\t\t\t\t\t\t\ttype: \"boolean\",\n\t\t\t\t\t\t\t\t\t\tdefaultValue: false,\n\t\t\t\t\t\t\t\t\t\tselected: false\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tname: \"UTC\",\n\t\t\t\t\t\t\t\t\t\tdisplayName: \"UTC\",\n\t\t\t\t\t\t\t\t\t\ttype: \"boolean\",\n\t\t\t\t\t\t\t\t\t\tdefaultValue: false,\n\t\t\t\t\t\t\t\t\t\tselected: true\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t],\n\t\t\t\t\t\ttype: \"Date\",\n\t\t\t\t\t\tvisible: true,\n\t\t\t\t\t\tproperty: \"DraftAdministrativeData/ProcessingStartDateTime\"\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t},\n\t\t\tgroups: [\n\t\t\t\t{\n\t\t\t\t\ttitle: \"Group 1\",\n\t\t\t\t\titems: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tisEnabled: false,\n\t\t\t\t\t\t\tisNavigationEnabled: true,\n\t\t\t\t\t\t\tlabel: \"\",\n\t\t\t\t\t\t\tname: \"DraftAdministrativeData\",\n\t\t\t\t\t\t\tnavigationProperty: \"ProcessingStartDateTime\",\n\t\t\t\t\t\t\tvalue: \"{DraftAdministrativeData/ProcessingStartDateTime}\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t],\n\t\t\toDataV4: false,\n\t\t\tcontentUrlPath: \"C_STTA_SalesOrder_WD_20({{parameters.contextParameters}})\",\n\t\t\tentityUrlPath: \"C_STTA_SalesOrder_WD_20(node_key=guid'fa163ee4-7bdd-1ee8-b1ff-d3c5a4e5236a',IsActiveEntity=true)\",\n\t\t\tmainIndicatorStatusKey: \"to_BillingStatus\",\n\t\t\tselectedContentNavigation: [\n\t\t\t\t{\n\t\t\t\t\tname: \"DraftAdministrativeData\",\n\t\t\t\t\tvalue: [\"ProcessingStartDateTime\"]\n\t\t\t\t}\n\t\t\t],\n\t\t\tselectedHeaderNavigation: []\n\t\t}\n\t});\n\n\tconst oDialog = {\n\t\tgetModel: (type?: string) => {\n\t\t\tif (type && type === \"i18n\") {\n\t\t\t\treturn {\n\t\t\t\t\tgetResourceBundle: () => ({\n\t\t\t\t\t\tgetText: (key: string) => {\n\t\t\t\t\t\t\tif (key === \"UNSELECTED_ITEM\") {\n\t\t\t\t\t\t\t\treturn \"The card preview doesn't show this value because the field isn't configured.\";\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn \"\";\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t};\n\t\t\t}\n\t\t\treturn oDialogModel;\n\t\t},\n\t\topen: jest.fn(),\n\t\tsetModel: jest.fn(),\n\t\tclose: jest.fn()\n\t};\n\n\tbeforeAll(() => {\n\t\tObjectPage.createInstance(rootComponent);\n\t\tcoreElementGetElementByIdSpy = jest.spyOn(CoreElement, \"getElementById\");\n\t\tcoreElementGetElementByIdSpy.mockImplementation((id) => {\n\t\t\tif (id === \"cardGeneratorDialog--cardGeneratorDialog\") {\n\t\t\t\treturn oDialog;\n\t\t\t}\n\t\t});\n\t});\n\n\tafterAll(() => {\n\t\tApplication.getInstance()._resetInstance();\n\t\tcoreElementGetElementByIdSpy.mockRestore();\n\t});\n\n\tbeforeEach(() => {\n\t\twindowSpy = jest.spyOn(window, \"window\", \"get\");\n\t\twindowSpy.mockImplementation(() => ({\n\t\t\thasher: {\n\t\t\t\tgetHash: () => \"test-intent&/testEntity(12345)\"\n\t\t\t}\n\t\t}));\n\t\tsetPropertyMock = jest.fn();\n\t\toDialogModel.setProperty = setPropertyMock;\n\t\tCardGeneratorDialogController.initialize();\n\t});\n\n\tafterEach(() => {\n\t\tjest.clearAllMocks();\n\t\twindowSpy.mockRestore();\n\t});\n\n\ttest(\"Validate group item to check formatting is applied correctly\", () => {\n\t\tconst setValueStateMock = jest.fn();\n\t\tconst navProperty = {\n\t\t\tname: \"DraftAdministrativeData\",\n\t\t\tproperties: [\n\t\t\t\t{\n\t\t\t\t\tlabel: \"Lower Value\",\n\t\t\t\t\ttype: \"Edm.String\",\n\t\t\t\t\tname: \"Status\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tlabel: \"Confirmation\",\n\t\t\t\t\ttype: \"Edm.DateTimeOffset\",\n\t\t\t\t\tname: \"ProcessingStartDateTime\"\n\t\t\t\t}\n\t\t\t]\n\t\t};\n\t\tconst data = {\n\t\t\tnode_key: \"12345\",\n\t\t\tIsActiveEntity: true,\n\t\t\tDraftAdministrativeData: {\n\t\t\t\tStatus: \"\",\n\t\t\t\tProcessingStartDateTime: \"Dec 20, 2024, 8:51:30PM\",\n\t\t\t\ttest: \"123\"\n\t\t\t}\n\t\t};\n\t\tconst oEvent = {\n\t\t\tgetSource: jest.fn().mockReturnValue({\n\t\t\t\tgetSelectedKey: jest.fn().mockReturnValue(\"ProcessingStartDateTime\"),\n\t\t\t\tsetValueState: setValueStateMock,\n\t\t\t\tgetValue: jest.fn().mockReturnValue(\"ProcessingStartDateTime)\"),\n\t\t\t\tgetBindingContext: jest.fn().mockReturnValue({\n\t\t\t\t\tgetPath: jest.fn().mockReturnValue(\"/configuration/groups/0/items/0\")\n\t\t\t\t})\n\t\t\t}),\n\t\t\tgetParameter: jest.fn().mockReturnValue({ newValue: \"ProcessingStartDateTime\" })\n\t\t};\n\n\t\tjest.spyOn(ODataUtils, \"getPropertyLabel\").mockReturnValue(navProperty);\n\t\tjest.spyOn(ODataUtils, \"fetchDataAsync\").mockImplementation(() => Promise.resolve(data));\n\n\t\tCardGeneratorDialogController.updateContentNavigationSelection(oEvent);\n\n\t\texpect(setPropertyMock).toHaveBeenNthCalledWith(1, \"/configuration/selectedContentNavigation\", [\n\t\t\t{ name: \"DraftAdministrativeData\", value: [\"ProcessingStartDateTime\"] }\n\t\t]);\n\t\texpect(oDialogModel.getProperty(\"/configuration/groups/0\").items).toMatchSnapshot();\n\t});\n});\n\ndescribe(\"addLabelsForProperties function\", () => {\n\ttest(\"should add labels with values for properties\", async () => {\n\t\tconst mockProperties: NavigationalData = {\n\t\t\tname: \"to_Currency\",\n\t\t\tvalue: [\n\t\t\t\t{\n\t\t\t\t\tlabel: \"Currency Code\",\n\t\t\t\t\ttype: \"Edm.String\",\n\t\t\t\t\tname: \"Currency_Code\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tlabel: \"Long Text\",\n\t\t\t\t\ttype: \"Edm.String\",\n\t\t\t\t\tname: \"Currency_Code_Text\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tlabel: \"Decimal Places\",\n\t\t\t\t\ttype: \"Edm.Byte\",\n\t\t\t\t\tname: \"Decimals\"\n\t\t\t\t}\n\t\t\t]\n\t\t};\n\t\tconst mockData = {\n\t\t\top_id_fc: 3,\n\t\t\tDelete_mc: true,\n\t\t\tUpdate_mc: true,\n\t\t\tnode_key: \"005056a7-004e-1ed8-b2e0-081387831f0d\",\n\t\t\tso_id: \"500000070\",\n\t\t\tbp_id: \"\",\n\t\t\tcurrency_code: \"USD\",\n\t\t\tgross_amount: \"101299.22\",\n\t\t\tnet_amount: \"85125.40\",\n\t\t\ttax_amount: \"16173.82\",\n\t\t\tlifecycle_status: \"P\",\n\t\t\tbilling_status: \"\",\n\t\t\tdelivery_status: \"D\",\n\t\t\tto_Currency: {\n\t\t\t\tCurrency_Code: \"USD\",\n\t\t\t\tCurrency_Code_Text: \"United States Dollar\",\n\t\t\t\tDecimals: 2\n\t\t\t}\n\t\t};\n\t\tCardGeneratorDialogController.addLabelsForProperties(mockProperties, mockData);\n\t\texpect(mockProperties).toMatchSnapshot();\n\t});\n\n\ttest(\"should add labels with (<empty>) for properties with undefined or null data\", () => {\n\t\tconst mockProperties: NavigationalData = {\n\t\t\tname: \"name1\",\n\t\t\tvalue: [\n\t\t\t\t{\n\t\t\t\t\tlabel: \"Value 1\",\n\t\t\t\t\ttype: \"Edm.String\",\n\t\t\t\t\tname: \"Value1\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tlabel: \"Value 2\",\n\t\t\t\t\ttype: \"Edm.String\",\n\t\t\t\t\tname: \"Value2\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tlabel: \"Value 3\",\n\t\t\t\t\ttype: \"Edm.Byte\",\n\t\t\t\t\tname: \"Value3\"\n\t\t\t\t}\n\t\t\t]\n\t\t};\n\t\tconst mockData = {\n\t\t\tname1: { value1: undefined, value2: null },\n\t\t\tname2: null\n\t\t};\n\n\t\tCardGeneratorDialogController.addLabelsForProperties(mockProperties, mockData);\n\t\texpect(mockProperties).toMatchSnapshot();\n\t});\n});\n\ndescribe(\"handleFormatterUomAction\", () => {\n\tlet oModel: JSONModel;\n\tlet oEvent: any;\n\tlet setPropertyMock: jest.Mock;\n\n\tbeforeEach(() => {\n\t\toModel = new JSONModel({\n\t\t\tconfiguration: {\n\t\t\t\tpopoverContentType: \"\",\n\t\t\t\tadvancedFormattingOptions: {\n\t\t\t\t\ttargetFormatterProperty: \"\",\n\t\t\t\t\tsourceUoMProperty: \"\",\n\t\t\t\t\tunitOfMeasures: [\n\t\t\t\t\t\t{ name: \"unit1\", value: \"value1\" },\n\t\t\t\t\t\t{ name: \"unit2\", value: \"value2\" }\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\toEvent = {\n\t\t\tgetSource: jest.fn().mockReturnValue({\n\t\t\t\tgetBindingContext: jest.fn().mockReturnValue({\n\t\t\t\t\tgetPath: jest.fn().mockReturnValue(\"/somePath\")\n\t\t\t\t}),\n\t\t\t\tgetParent: jest.fn()\n\t\t\t}),\n\t\t\tgetParameter: jest.fn().mockReturnValue({\n\t\t\t\tgetKey: jest.fn().mockReturnValue(\"uom\")\n\t\t\t})\n\t\t};\n\t\tsetPropertyMock = jest.fn();\n\t\toModel.setProperty = setPropertyMock;\n\t\toModel.getProperty = jest.fn((path: string) => {\n\t\t\tconst data: { [key: string]: any } = {\n\t\t\t\t\"/somePath\": { name: \"propertyName\", navigationProperty: \"navProp\" },\n\t\t\t\t\"/configuration/advancedFormattingOptions/unitOfMeasures\": [\n\t\t\t\t\t{ name: \"unit1\", value: \"value1\" },\n\t\t\t\t\t{ name: \"unit2\", value: \"value2\" }\n\t\t\t\t],\n\t\t\t\t\"/configuration/advancedFormattingOptions/sourceUoMProperty\": \"unit1\"\n\t\t\t};\n\t\t\treturn data[path];\n\t\t});\n\t});\n\n\tit(\"should handle formatter UoM action correctly\", () => {\n\t\tCardGeneratorDialogController.handleFormatterUomAction(\"uom\", oEvent, oModel);\n\t\texpect(setPropertyMock).toHaveBeenNthCalledWith(1, \"/configuration/popoverContentType\", \"uom\");\n\t\texpect(setPropertyMock).toHaveBeenNthCalledWith(\n\t\t\t2,\n\t\t\t\"/configuration/advancedFormattingOptions/targetFormatterProperty\",\n\t\t\t\"propertyName/navProp\"\n\t\t);\n\t\texpect(setPropertyMock).toHaveBeenNthCalledWith(\n\t\t\t3,\n\t\t\t\"/configuration/advancedFormattingOptions/sourceUoMProperty\",\n\t\t\t\"propertyName/navProp\"\n\t\t);\n\t\texpect(setPropertyMock).toHaveBeenNthCalledWith(4, \"/configuration/advancedFormattingOptions/targetProperty\", \"value1\");\n\t});\n});\n\ndescribe(\"textArrangement- checkForNavigationProperty\", () => {\n\tlet setPropertyMock: jest.Mock;\n\tlet windowSpy: jest.SpyInstance;\n\tlet coreElementGetElementByIdSpy: jest.SpyInstance;\n\n\tconst oDialogModel = new JSONModel({\n\t\tconfiguration: {\n\t\t\tproperties: [\n\t\t\t\t{\n\t\t\t\t\tname: \"net_amount\",\n\t\t\t\t\ttype: \"Edm.Int32\"\n\t\t\t\t}\n\t\t\t],\n\t\t\tadvancedFormattingOptions: {\n\t\t\t\tunitOfMeasures: [],\n\t\t\t\ttextArrangements: [],\n\t\t\t\tpropertyValueFormatters: []\n\t\t\t},\n\t\t\ttrendOptions: {\n\t\t\t\tsourceProperty: \"\"\n\t\t\t},\n\t\t\tindicatorsValue: {},\n\t\t\tselectedIndicatorOptions: [],\n\t\t\tmainIndicatorStatusKey: \"to_BillingStatus\",\n\t\t\tnavigationProperty: [\n\t\t\t\t{\n\t\t\t\t\tname: \"to_BillingStatus\",\n\t\t\t\t\tproperties: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tlabel: \"Lower Value\",\n\t\t\t\t\t\t\ttype: \"Edm.String\",\n\t\t\t\t\t\t\tname: \"Status\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tlabel: \"Confirmation\",\n\t\t\t\t\t\t\ttype: \"Edm.String\",\n\t\t\t\t\t\t\tname: \"Status_Text\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t],\n\t\t\tselectedNavigationProperties: {\n\t\t\t\tname: \"to_BillingStatus\",\n\t\t\t\tvalue: [\n\t\t\t\t\t{\n\t\t\t\t\t\tlabel: \"Lower Value\",\n\t\t\t\t\t\ttype: \"Edm.String\",\n\t\t\t\t\t\tname: \"Status\"\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tlabel: \"Confirmation\",\n\t\t\t\t\t\ttype: \"Edm.String\",\n\t\t\t\t\t\tname: \"Status_Text\"\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t},\n\t\t\t$data: {\n\t\t\t\tnet_amount: 100\n\t\t\t}\n\t\t}\n\t});\n\n\tconst oDialog = {\n\t\tgetModel: jest.fn().mockReturnValue(oDialogModel),\n\t\topen: jest.fn(),\n\t\tsetModel: jest.fn(),\n\t\tclose: jest.fn()\n\t};\n\n\tbeforeAll(() => {\n\t\tObjectPage.createInstance(rootComponent);\n\t\tcoreElementGetElementByIdSpy = jest.spyOn(CoreElement, \"getElementById\");\n\t\tcoreElementGetElementByIdSpy.mockImplementation((id) => {\n\t\t\tif (id === \"cardGeneratorDialog--cardGeneratorDialog\") {\n\t\t\t\treturn oDialog;\n\t\t\t}\n\t\t});\n\t});\n\n\tafterAll(() => {\n\t\tApplication.getInstance()._resetInstance();\n\t\tcoreElementGetElementByIdSpy.mockRestore();\n\t});\n\n\tbeforeEach(() => {\n\t\tsetPropertyMock = jest.fn();\n\t\twindowSpy = jest.spyOn(window, \"window\", \"get\");\n\t\twindowSpy.mockImplementation(() => ({\n\t\t\thasher: {\n\t\t\t\tgetHash: () => \"test-intent&/testEntity(12345)\"\n\t\t\t}\n\t\t}));\n\t\toDialogModel.setProperty = setPropertyMock;\n\t\tCardGeneratorDialogController.initialize();\n\t});\n\n\tafterEach(() => {\n\t\twindowSpy.mockRestore();\n\t\tjest.clearAllMocks();\n\t});\n\ttest(\"checkForNavigationProperty with no mathing arrangement property textArrangementChanged as false\", async () => {\n\t\tconst oEvent = {\n\t\t\tgetParameters: jest.fn().mockReturnValue({\n\t\t\t\tselectedItem: {\n\t\t\t\t\tpropertyKeyForId: \"overall_status\",\n\t\t\t\t\tname: \"overall_status\",\n\t\t\t\t\tpropertyKeyForDescription: \"to_LifecycleStatus\",\n\t\t\t\t\tvalue: \"to_LifecycleStatus\",\n\t\t\t\t\tnavigationalPropertiesForDescription: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tlabel: \"Lower Value\",\n\t\t\t\t\t\t\ttype: \"Edm.String\",\n\t\t\t\t\t\t\tname: \"Status\",\n\t\t\t\t\t\t\tlabelWithValue: \"Lower Value (D)\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tlabel: \"Delivery Status\",\n\t\t\t\t\t\t\ttype: \"Edm.String\",\n\t\t\t\t\t\t\tname: \"Status_Text\",\n\t\t\t\t\t\t\tlabelWithValue: \"Delivery Status (Delivered)\"\n\t\t\t\t\t\t}\n\t\t\t\t\t],\n\t\t\t\t\tnavigationalPropertiesForId: [],\n\t\t\t\t\tisNavigationForId: false,\n\t\t\t\t\tisNavigationForDescription: true,\n\t\t\t\t\tnavigationKeyForDescription: \"Status_Text\",\n\t\t\t\t\tarrangementType: \"TextLast\",\n\t\t\t\t\ttextArrangement: \"TextLast\"\n\t\t\t\t},\n\t\t\t\ttextArrangementChanged: false\n\t\t\t})\n\t\t};\n\t\tconst data = {\n\t\t\tnode_key: \"12345\",\n\t\t\tIsActiveEntity: true,\n\t\t\tto_BillingStatus: {\n\t\t\t\tStatus: \"\",\n\t\t\t\tStatus_Text: \"Initial\",\n\t\t\t\ttest: \"123\"\n\t\t\t}\n\t\t};\n\t\tjest.spyOn(ODataUtils, \"fetchDataAsync\").mockImplementation(() => Promise.resolve(data));\n\n\t\tawait CardGeneratorDialogController.checkForNavigationProperty(oEvent);\n\t\texpect(setPropertyMock).toHaveBeenNthCalledWith(1, \"/configuration/selectedNavigationalProperties\", []);\n\t\t//check this..\n\t\tconst expected = oEvent.getParameters().selectedItem.isNavigationForDescription;\n\t\texpect(expected).toMatchSnapshot();\n\t});\n\n\ttest(\"checkForNavigationProperty with matching arrangement property having textArrangementChanged as false\", async () => {\n\t\tconst oEvent = {\n\t\t\tgetParameters: jest.fn().mockReturnValue({\n\t\t\t\tselectedItem: {\n\t\t\t\t\tpropertyKeyForId: \"Language\",\n\t\t\t\t\tname: \"Language\",\n\t\t\t\t\tpropertyKeyForDescription: \"to_BillingStatus\",\n\t\t\t\t\tvalue: \"to_BillingStatus\",\n\t\t\t\t\tnavigationalPropertiesForDescription: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tlabel: \"Currency Code\",\n\t\t\t\t\t\t\ttype: \"Edm.String\",\n\t\t\t\t\t\t\tname: \"Currency_Code\",\n\t\t\t\t\t\t\tlabelWithValue: \"Currency Code (USD)\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tlabel: \"Long Text\",\n\t\t\t\t\t\t\ttype: \"Edm.String\",\n\t\t\t\t\t\t\tname: \"Currency_Code_Text\",\n\t\t\t\t\t\t\tlabelWithValue: \"Long Text (United States Dollar)\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tlabel: \"Decimal Places\",\n\t\t\t\t\t\t\ttype: \"Edm.Byte\",\n\t\t\t\t\t\t\tname: \"Decimals\",\n\t\t\t\t\t\t\tlabelWithValue: \"Decimal Places (2)\"\n\t\t\t\t\t\t}\n\t\t\t\t\t],\n\t\t\t\t\tnavigationalPropertiesForId: [],\n\t\t\t\t\tisNavigationForId: false,\n\t\t\t\t\tisNavigationForDescription: false,\n\t\t\t\t\tnavigationKeyForDescription: \"Currency_Code_Text\",\n\t\t\t\t\tarrangementType: \"TextLast\",\n\t\t\t\t\ttextArrangement: \"TextLast\"\n\t\t\t\t},\n\t\t\t\ttextArrangementChanged: false\n\t\t\t})\n\t\t};\n\t\tconst data = {\n\t\t\tnode_key: \"12345\",\n\t\t\tIsActiveEntity: true,\n\t\t\tto_BillingStatus: {\n\t\t\t\tStatus: \"\",\n\t\t\t\tStatus_Text: \"Initial\",\n\t\t\t\ttest: \"123\"\n\t\t\t}\n\t\t};\n\t\tjest.spyOn(ODataUtils, \"fetchDataAsync\").mockImplementation(() => Promise.resolve(data));\n\n\t\tawait CardGeneratorDialogController.checkForNavigationProperty(oEvent);\n\t\texpect(setPropertyMock).toHaveBeenNthCalledWith(1, \"/configuration/selectedNavigationalProperties\", [\n\t\t\t{\n\t\t\t\tname: \"to_BillingStatus\",\n\t\t\t\tvalue: [\n\t\t\t\t\t{ label: \"Lower Value\", labelWithValue: \"Lower Value (<empty>)\", name: \"Status\", type: \"Edm.String\" },\n\t\t\t\t\t{ label: \"Confirmation\", labelWithValue: \"Confirmation (Initial)\", name: \"Status_Text\", type: \"Edm.String\" }\n\t\t\t\t]\n\t\t\t}\n\t\t]);\n\t\texpect(setPropertyMock).toHaveBeenNthCalledWith(2, \"/configuration/$data\", {\n\t\t\tnet_amount: 100,\n\t\t\tto_BillingStatus: { Status: \"\", Status_Text: \"Initial\", test: \"123\" }\n\t\t});\n\t\tconst expectedIsNavigationForDescription = oEvent.getParameters().selectedItem.isNavigationForDescription;\n\t\tconst expectedNavigationalPropertiesForDescription = oEvent.getParameters().selectedItem.navigationalPropertiesForDescription;\n\n\t\texpect(expectedIsNavigationForDescription).toMatchSnapshot();\n\t\texpect(expectedNavigationalPropertiesForDescription).toMatchSnapshot();\n\t});\n\n\ttest(\"checkForNavigationProperty with no mathing arrangement property textArrangementChanged as true\", async () => {\n\t\tconst oEvent = {\n\t\t\tgetParameters: jest.fn().mockReturnValue({\n\t\t\t\tselectedItem: {\n\t\t\t\t\tpropertyKeyForId: \"to_LifecycleStatus\",\n\t\t\t\t\tname: \"to_LifecycleStatus\",\n\t\t\t\t\tvalue: \"to_LifecycleStatus\",\n\t\t\t\t\tnavigationalPropertiesForId: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tlabel: \"Lower Value\",\n\t\t\t\t\t\t\ttype: \"Edm.String\",\n\t\t\t\t\t\t\tname: \"Status\",\n\t\t\t\t\t\t\tlabelWithValue: \"Lower Value (N)\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tlabel: \"Lifecycle Status\",\n\t\t\t\t\t\t\ttype: \"Edm.String\",\n\t\t\t\t\t\t\tname: \"Status_Text\",\n\t\t\t\t\t\t\tlabelWithValue: \"Lifecycle Status (New)\"\n\t\t\t\t\t\t}\n\t\t\t\t\t],\n\t\t\t\t\tisNavigationForId: false,\n\t\t\t\t\tnavigationKeyForId: \"\"\n\t\t\t\t},\n\t\t\t\ttextArrangementChanged: true\n\t\t\t})\n\t\t};\n\t\tconst data = {\n\t\t\tnode_key: \"12345\",\n\t\t\tIsActiveEntity: true,\n\t\t\tto_BillingStatus: {\n\t\t\t\tStatus: \"\",\n\t\t\t\tStatus_Text: \"Initial\",\n\t\t\t\ttest: \"123\"\n\t\t\t}\n\t\t};\n\t\tjest.spyOn(ODataUtils, \"fetchDataAsync\").mockImplementation(() => Promise.resolve(data));\n\n\t\tawait CardGeneratorDialogController.checkForNavigationProperty(oEvent);\n\t\texpect(setPropertyMock).toHaveBeenNthCalledWith(1, \"/configuration/selectedNavigationalProperties\", []);\n\t\tconst expected = oEvent.getParameters().selectedItem.isNavigationForId;\n\t\texpect(expected).toMatchSnapshot();\n\t});\n\n\ttest(\"checkForNavigationProperty with matching arrangement property having textArrangementChanged as true\", async () => {\n\t\tconst oEvent = {\n\t\t\tgetParameters: jest.fn().mockReturnValue({\n\t\t\t\tselectedItem: {\n\t\t\t\t\tpropertyKeyForId: \"to_BillingStatus\",\n\t\t\t\t\tname: \"to_BillingStatus\",\n\t\t\t\t\tvalue: \"to_BillingStatus\",\n\t\t\t\t\tnavigationalPropertiesForId: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tlabel: \"Currency Code\",\n\t\t\t\t\t\t\ttype: \"Edm.String\",\n\t\t\t\t\t\t\tname: \"Currency_Code\",\n\t\t\t\t\t\t\tlabelWithValue: \"Currency Code (USD)\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tlabel: \"Long Text\",\n\t\t\t\t\t\t\ttype: \"Edm.String\",\n\t\t\t\t\t\t\tname: \"Currency_Code_Text\",\n\t\t\t\t\t\t\tlabelWithValue: \"Long Text (United States Dollar)\"\n\t\t\t\t\t\t}\n\t\t\t\t\t],\n\t\t\t\t\tisNavigationForId: false,\n\t\t\t\t\tnavigationKeyForId: \"\"\n\t\t\t\t},\n\t\t\t\ttextArrangementChanged: true\n\t\t\t})\n\t\t};\n\t\tconst data = {\n\t\t\tnode_key: \"12345\",\n\t\t\tIsActiveEntity: true,\n\t\t\tto_BillingStatus: {\n\t\t\t\tStatus: \"\",\n\t\t\t\tStatus_Text: \"Initial\",\n\t\t\t\ttest: \"123\"\n\t\t\t}\n\t\t};\n\t\tjest.spyOn(ODataUtils, \"fetchDataAsync\").mockImplementation(() => Promise.resolve(data));\n\n\t\tawait CardGeneratorDialogController.checkForNavigationProperty(oEvent);\n\t\texpect(setPropertyMock).toHaveBeenNthCalledWith(1, \"/configuration/selectedNavigationalProperties\", [\n\t\t\t{\n\t\t\t\tname: \"to_BillingStatus\",\n\t\t\t\tvalue: [\n\t\t\t\t\t{ label: \"Lower Value\", labelWithValue: \"Lower Value (<empty>)\", name: \"Status\", type: \"Edm.String\" },\n\t\t\t\t\t{ label: \"Confirmation\", labelWithValue: \"Confirmation (Initial)\", name: \"Status_Text\", type: \"Edm.String\" }\n\t\t\t\t]\n\t\t\t}\n\t\t]);\n\t\texpect(setPropertyMock).toHaveBeenNthCalledWith(2, \"/configuration/$data\", {\n\t\t\tnet_amount: 100,\n\t\t\tto_BillingStatus: { Status: \"\", Status_Text: \"Initial\", test: \"123\" }\n\t\t});\n\t\tconst expectedIsNavigationForId = oEvent.getParameters().selectedItem.isNavigationForId;\n\t\tconst expectedNavigationalPropertiesForId = oEvent.getParameters().selectedItem.navigationalPropertiesForId;\n\n\t\texpect(expectedIsNavigationForId).toMatchSnapshot();\n\t\texpect(expectedNavigationalPropertiesForId).toMatchSnapshot();\n\t});\n});\n\ndescribe(\"disableOrEnableUOMAndTrend\", () => {\n\tlet coreElementGetElementByIdSpy: jest.SpyInstance;\n\n\tconst oDialogModel = new JSONModel({\n\t\tconfiguration: {\n\t\t\tadvancedFormattingOptions: {\n\t\t\t\tsourceProperty: \"net_amount\",\n\t\t\t\tisUoMEnabled: false\n\t\t\t},\n\t\t\tproperties: [\n\t\t\t\t{\n\t\t\t\t\tname: \"net_amount\",\n\t\t\t\t\ttype: \"Edm.Decimal\",\n\t\t\t\t\tlabel: \"Net Amount\",\n\t\t\t\t\tlabelWithValue: \"Net Amount (43556.00)\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: \"is_active\",\n\t\t\t\t\ttype: \"Edm.Boolean\",\n\t\t\t\t\tlabel: \"Dyn. Action Control\",\n\t\t\t\t\tlabelWithValue: \"Dyn. Action Control (true)\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: \"node_key\",\n\t\t\t\t\ttype: \"Edm.Guid\",\n\t\t\t\t\tlabel: \"Node Key\",\n\t\t\t\t\tlabelWithValue: \"Node Key (fa163ee4-7bdd-1ee8-b1ff-d3c5a4e5236a)\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: \"bp_id\",\n\t\t\t\t\ttype: \"Edm.String\",\n\t\t\t\t\tlabel: \"Business Process ID\",\n\t\t\t\t\tlabelWithValue: \"Business Process ID (123456)\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: \"overall_status\",\n\t\t\t\t\ttype: \"Edm.String\",\n\t\t\t\t\tlabel: \"Overall Status\",\n\t\t\t\t\tlabelWithValue: \"Overall Status (N473M2)\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: \"op_id_fc\",\n\t\t\t\t\ttype: \"Edm.Byte\",\n\t\t\t\t\tlabel: \"Dyn. Field Control\",\n\t\t\t\t\tlabelWithValue: \"Dyn. Field Control (3)\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tlabel: \"Created At\",\n\t\t\t\t\ttype: \"Edm.DateTimeOffset\",\n\t\t\t\t\tname: \"created_at\",\n\t\t\t\t\tlabelWithValue: \"Created At (Oct 2, 2018, 3:30:00AM)\"\n\t\t\t\t}\n\t\t\t],\n\t\t\t$data: {\n\t\t\t\tnet_amount: \"43556.00\",\n\t\t\t\tis_active: true,\n\t\t\t\tnode_key: \"fa163ee4-7bdd-1ee8-b1ff-d3c5a4e5236a\",\n\t\t\t\tbp_id: \"473278\",\n\t\t\t\toverall_status: \"N473M2\",\n\t\t\t\top_id_fc: 3,\n\t\t\t\tcreated_at: \"2018-10-01T22:00:00.000Z\"\n\t\t\t}\n\t\t}\n\t});\n\tconst oDialog = {\n\t\tgetModel: () => {\n\t\t\treturn oDialogModel;\n\t\t},\n\t\topen: jest.fn(),\n\t\tsetModel: jest.fn(),\n\t\tclose: jest.fn()\n\t};\n\n\tbeforeAll(() => {\n\t\tcoreElementGetElementByIdSpy = jest.spyOn(CoreElement, \"getElementById\");\n\t\tcoreElementGetElementByIdSpy.mockImplementation((id) => {\n\t\t\tif (id === \"cardGeneratorDialog--cardGeneratorDialog\") {\n\t\t\t\treturn oDialog;\n\t\t\t}\n\t\t});\n\t});\n\n\tafterAll(() => {\n\t\tcoreElementGetElementByIdSpy.mockRestore();\n\t});\n\n\tbeforeEach(() => {\n\t\tCardGeneratorDialogController.initialize();\n\t});\n\n\ttest(\"should enable UoM when the selected property type is Edm.Decimal\", () => {\n\t\tconst selectedProperty = \"toBussiness/net_amount\";\n\t\tCardGeneratorDialogController.disableOrEnableUOMAndTrend(oDialogModel, selectedProperty);\n\t\texpect(oDialogModel.getProperty(\"/configuration/advancedFormattingOptions/isUoMEnabled\")).toBe(true);\n\t\texpect(oDialogModel.getProperty(\"/configuration/advancedFormattingOptions/isTrendEnabled\")).toBe(false);\n\t});\n\n\ttest(\"should disable UoM when the selected property type is Edm.Boolean\", () => {\n\t\tconst selectedProperty = \"is_active\";\n\t\tCardGeneratorDialogController.disableOrEnableUOMAndTrend(oDialogModel, selectedProperty);\n\t\texpect(oDialogModel.getProperty(\"/configuration/advancedFormattingOptions/isUoMEnabled\")).toBe(false);\n\t\texpect(oDialogModel.getProperty(\"/configuration/advancedFormattingOptions/isTrendEnabled\")).toBe(false);\n\t});\n\n\ttest(\"should disable UoM when the selected property type is Edm.Guid\", () => {\n\t\tconst selectedProperty = \"node_key\";\n\t\tCardGeneratorDialogController.disableOrEnableUOMAndTrend(oDialogModel, selectedProperty);\n\t\texpect(oDialogModel.getProperty(\"/configuration/advancedFormattingOptions/isUoMEnabled\")).toBe(false);\n\t\texpect(oDialogModel.getProperty(\"/configuration/advancedFormattingOptions/isTrendEnabled\")).toBe(false);\n\t});\n\ttest(\"should disable UoM when the selected property type is Edm.DateTimeOffset\", () => {\n\t\tconst selectedProperty = \"created_at\";\n\t\tCardGeneratorDialogController.disableOrEnableUOMAndTrend(oDialogModel, selectedProperty);\n\t\texpect(oDialogModel.getProperty(\"/configuration/advancedFormattingOptions/isUoMEnabled\")).toBe(false);\n\t\texpect(oDialogModel.getProperty(\"/configuration/advancedFormattingOptions/isTrendEnabled\")).toBe(false);\n\t});\n\n\ttest(\"should enable UoM when the selected property type is Edm.String having numeric value\", () => {\n\t\tconst selectedProperty = \"bp_id\";\n\t\tCardGeneratorDialogController.disableOrEnableUOMAndTrend(oDialogModel, selectedProperty);\n\t\texpect(oDialogModel.getProperty(\"/configuration/advancedFormattingOptions/isUoMEnabled\")).toBe(true);\n\t\texpect(oDialogModel.getProperty(\"/configuration/advancedFormattingOptions/isTrendEnabled\")).toBe(false);\n\t});\n\n\ttest(\"should enable UoM when the selected property type is Edm.String with non numeric value\", () => {\n\t\tconst selectedProperty = \"overall_status\";\n\t\tCardGeneratorDialogController.disableOrEnableUOMAndTrend(oDialogModel, selectedProperty);\n\t\texpect(oDialogModel.getProperty(\"/configuration/advancedFormattingOptions/isUoMEnabled\")).toBe(false);\n\t\texpect(oDialogModel.getProperty(\"/configuration/advancedFormattingOptions/isTrendEnabled\")).toBe(false);\n\t});\n\n\ttest(\"should enable UoM when the selected property type is Edm.Byte\", () => {\n\t\tconst selectedProperty = \"op_id_fc\";\n\t\tCardGeneratorDialogController.disableOrEnableUOMAndTrend(oDialogModel, selectedProperty);\n\t\texpect(oDialogModel.getProperty(\"/configuration/advancedFormattingOptions/isUoMEnabled\")).toBe(true);\n\t\texpect(oDialogModel.getProperty(\"/configuration/advancedFormattingOptions/isTrendEnabled\")).toBe(false);\n\t});\n\ttest(\"should handle navigation property and enable UoM when the selected property has a nested path (Edm.Decimal)\", () => {\n\t\t// Simulate a selected property with a nested path\n\t\tconst selectedProperty = \"parent/net_amount\";\n\t\t// Set up a mock navigation property with a nested structure\n\t\toDialogModel.setProperty(\"/configuration/navigationProperty\", [\n\t\t\t{\n\t\t\t\tname: \"parent\",\n\t\t\t\tproperties: [\n\t\t\t\t\t{\n\t\t\t\t\t\tname: \"net_amount\",\n\t\t\t\t\t\ttype: \"Edm.Decimal\"\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t}\n\t\t]);\n\t\toDialogModel.setProperty(\"/configuration/$data\", {\n\t\t\tparent: {\n\t\t\t\tnet_amount: \"43556.00\"\n\t\t\t}\n\t\t});\n\n\t\tCardGeneratorDialogController.disableOrEnableUOMAndTrend(oDialogModel, selectedProperty);\n\n\t\texpect(oDialogModel.getProperty(\"/configuration/advancedFormattingOptions/isUoMEnabled\")).toBe(true);\n\t\texpect(oDialogModel.getProperty(\"/configuration/advancedFormattingOptions/isTrendEnabled\")).toBe(true);\n\t});\n\n\ttest(\"should handle navigation property and disable UoM when the selected property has a nested path (Edm.Boolean)\", () => {\n\t\t// Simulate a selected property with a nested path\n\t\tconst selectedProperty = \"parent/is_active\";\n\t\t// Set up a mock navigation property with a nested structure\n\t\toDialogModel.setProperty(\"/configuration/navigationProperty\", [\n\t\t\t{\n\t\t\t\tname: \"parent\",\n\t\t\t\tproperties: [\n\t\t\t\t\t{\n\t\t\t\t\t\tname: \"is_active\",\n\t\t\t\t\t\ttype: \"Edm.Boolean\"\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t}\n\t\t]);\n\t\t// Set a nested data structure in the model\n\t\toDialogModel.setProperty(\"/configuration/$data\", {\n\t\t\tparent: {\n\t\t\t\tis_active: true\n\t\t\t}\n\t\t});\n\n\t\tCardGeneratorDialogController.disableOrEnableUOMAndTrend(oDialogModel, selectedProperty);\n\n\t\texpect(oDialogModel.getProperty(\"/configuration/advancedFormattingOptions/isUoMEnabled\")).toBe(false);\n\t\texpect(oDialogModel.getProperty(\"/configuration/advancedFormattingOptions/isTrendEnabled\")).toBe(false);\n\t});\n\n\ttest(\"should handle navigation property and disable UoM when the selected property has a nested path (Edm.Guid)\", () => {\n\t\t// Simulate a selected property with a nested path\n\t\tconst selectedProperty = \"parent/node_key\";\n\t\t// Set up a mock navigation property with a nested structure\n\t\toDialogModel.setProperty(\"/configuration/navigationProperty\", [\n\t\t\t{\n\t\t\t\tname: \"parent\",\n\t\t\t\tproperties: [\n\t\t\t\t\t{\n\t\t\t\t\t\tname: \"node_key\",\n\t\t\t\t\t\ttype: \"Edm.Guid\"\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t}\n\t\t]);\n\t\t// Set a nested data structure in the model\n\t\toDialogModel.setProperty(\"/configuration/$data\", {\n\t\t\tparent: {\n\t\t\t\tnode_key: \"fa163ee4-7bdd-1ee8-b1ff-d3c5a4e5236a\"\n\t\t\t}\n\t\t});\n\n\t\tCardGeneratorDialogController.disableOrEnableUOMAndTrend(oDialogModel, selectedProperty);\n\n\t\texpect(oDialogModel.getProperty(\"/configuration/advancedFormattingOptions/isUoMEnabled\")).toBe(false);\n\t\texpect(oDialogModel.getProperty(\"/configuration/advancedFormattingOptions/isTrendEnabled\")).toBe(false);\n\t});\n\n\ttest(\"should handle navigation property and disable UoM when the selected property has a nested path (Edm.DateTimeOffset)\", () => {\n\t\t// Simulate a selected property with a nested path\n\t\tconst selectedProperty = \"parent/created_at\";\n\t\t// Set up a mock navigation property with a nested structure\n\t\toDialogModel.setProperty(\"/configuration/navigationProperty\", [\n\t\t\t{\n\t\t\t\tname: \"parent\",\n\t\t\t\tproperties: [\n\t\t\t\t\t{\n\t\t\t\t\t\tname: \"created_at\",\n\t\t\t\t\t\ttype: \"Edm.DateTimeOffset\"\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t}\n\t\t]);\n\t\t// Set a nested data structure in the model\n\t\toDialogModel.setProperty(\"/configuration/$data\", {\n\t\t\tparent: {\n\t\t\t\tcreated_at: \"2018-10-01T22:00:00.000Z\"\n\t\t\t}\n\t\t});\n\n\t\tCardGeneratorDialogController.disableOrEnableUOMAndTrend(oDialogModel, selectedProperty);\n\n\t\texpect(oDialogModel.getProperty(\"/configuration/advancedFormattingOptions/isUoMEnabled\")).toBe(false);\n\t\texpect(oDialogModel.getProperty(\"/configuration/advancedFormattingOptions/isTrendEnabled\")).toBe(false);\n\t});\n\n\ttest(\"should handle navigation property and enable UoM when the selected property has a nested path (Edm.String with numeric value)\", () => {\n\t\t// Simulate a selected property with a nested path\n\t\tconst selectedProperty = \"parent/bp_id\";\n\t\t// Set up a mock navigation property with a nested structure\n\t\toDialogModel.setProperty(\"/configuration/navigationProperty\", [\n\t\t\t{\n\t\t\t\tname: \"parent\",\n\t\t\t\tproperties: [\n\t\t\t\t\t{\n\t\t\t\t\t\tname: \"bp_id\",\n\t\t\t\t\t\ttype: \"Edm.String\"\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t}\n\t\t]);\n\t\t// Set a nested data structure in the model\n\t\toDialogModel.setProperty(\"/configuration/$data\", {\n\t\t\tparent: {\n\t\t\t\tbp_id: \"123456\"\n\t\t\t}\n\t\t});\n\n\t\tCardGeneratorDialogController.disableOrEnableUOMAndTrend(oDialogModel, selectedProperty);\n\n\t\texpect(oDialogModel.getProperty(\"/configuration/advancedFormattingOptions/isUoMEnabled\")).toBe(true);\n\t\texpect(oDialogModel.getProperty(\"/configuration/advancedFormattingOptions/isTrendEnabled\")).toBe(false);\n\t});\n\n\ttest(\"should handle navigation property and disable UoM when the selected property has a nested path (Edm.String with non-numeric value)\", () => {\n\t\t// Simulate a selected property with a nested path\n\t\tconst selectedProperty = \"parent/overall_status\";\n\t\t// Set up a mock navigation property with a nested structure\n\t\toDialogModel.setProperty(\"/configuration/navigationProperty\", [\n\t\t\t{\n\t\t\t\tname: \"parent\",\n\t\t\t\tproperties: [\n\t\t\t\t\t{\n\t\t\t\t\t\tname: \"overall_status\",\n\t\t\t\t\t\ttype: \"Edm.String\"\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t}\n\t\t]);\n\t\t// Set a nested data structure in the model\n\t\toDialogModel.setProperty(\"/configuration/$data\", {\n\t\t\tparent: {\n\t\t\t\toverall_status: \"N473M2\"\n\t\t\t}\n\t\t});\n\n\t\tCardGeneratorDialogController.disableOrEnableUOMAndTrend(oDialogModel, selectedProperty);\n\n\t\texpect(oDialogModel.getProperty(\"/configuration/advancedFormattingOptions/isUoMEnabled\")).toBe(false);\n\t\texpect(oDialogModel.getProperty(\"/configuration/advancedFormattingOptions/isTrendEnabled\")).toBe(false);\n\t});\n\n\ttest(\"should handle navigation property and enable UoM when the selected property has a nested path (Edm.Byte)\", () => {\n\t\t// Simulate a selected property with a nested path\n\t\tconst selectedProperty = \"parent/op_id_fc\";\n\t\t// Set up a mock navigation property with a nested structure\n\t\toDialogModel.setProperty(\"/configuration/navigationProperty\", [\n\t\t\t{\n\t\t\t\tname: \"parent\",\n\t\t\t\tproperties: [\n\t\t\t\t\t{\n\t\t\t\t\t\tname: \"op_id_fc\",\n\t\t\t\t\t\ttype: \"Edm.Byte\"\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t}\n\t\t]);\n\t\t// Set a nested data structure in the model\n\t\toDialogModel.setProperty(\"/configuration/$data\", {\n\t\t\tparent: {\n\t\t\t\top_id_fc: 3\n\t\t\t}\n\t\t});\n\n\t\tCardGeneratorDialogController.disableOrEnableUOMAndTrend(oDialogModel, selectedProperty);\n\n\t\texpect(oDialogModel.getProperty(\"/configuration/advancedFormattingOptions/isUoMEnabled\")).toBe(true);\n\t\texpect(oDialogModel.getProperty(\"/configuration/advancedFormattingOptions/isTrendEnabled\")).toBe(false);\n\t});\n});\n\ndescribe(\"onDrop when source and target group has 5 items each \", () => {\n\tlet coreElementGetElementByIdSpy: jest.SpyInstance;\n\n\tconst oDialogModel = new JSONModel({\n\t\tconfiguration: {\n\t\t\tgroups: [\n\t\t\t\t{\n\t\t\t\t\ttitle: \"Group 1\",\n\t\t\t\t\titems: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: \"to_BillingStatus\",\n\t\t\t\t\t\t\tvalue: \"{to_BillingStatus}\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: \"to_BillingStatus\",\n\t\t\t\t\t\t\tvalue: \"{to_BillingStatus}\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: \"to_BillingStatus\",\n\t\t\t\t\t\t\tvalue: \"{to_BillingStatus}\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: \"to_BillingStatus\",\n\t\t\t\t\t\t\tvalue: \"{to_BillingStatus}\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: \"to_BillingStatus\",\n\t\t\t\t\t\t\tvalue: \"{to_BillingStatus}\"\n\t\t\t\t\t\t}\n\t\t\t\t\t],\n\t\t\t\t\tenableAddMoreGroupItems: false\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttitle: \"Group 2\",\n\t\t\t\t\titems: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: \"to_BillingStatus\",\n\t\t\t\t\t\t\tvalue: \"{to_BillingStatus}\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: \"to_BillingStatus\",\n\t\t\t\t\t\t\tvalue: \"{to_BillingStatus}\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: \"to_BillingStatus\",\n\t\t\t\t\t\t\tvalue: \"{to_BillingStatus}\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: \"to_BillingStatus\",\n\t\t\t\t\t\t\tvalue: \"{to_BillingStatus}\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: \"to_BillingStatus\",\n\t\t\t\t\t\t\tvalue: \"{to_BillingStatus}\"\n\t\t\t\t\t\t}\n\t\t\t\t\t],\n\t\t\t\t\tenableAddMoreGroupItems: false\n\t\t\t\t}\n\t\t\t]\n\t\t}\n\t});\n\n\tconst oDialog = {\n\t\tgetModel: () => {\n\t\t\treturn oDialogModel;\n\t\t},\n\t\topen: jest.fn(),\n\t\tsetModel: jest.fn(),\n\t\tclose: jest.fn()\n\t};\n\n\tbeforeAll(() => {\n\t\tcoreElementGetElementByIdSpy = jest.spyOn(CoreElement, \"getElementById\");\n\t\tcoreElementGetElementByIdSpy.mockImplementation((id) => {\n\t\t\tif (id === \"cardGeneratorDialog--cardGeneratorDialog\") {\n\t\t\t\treturn oDialog;\n\t\t\t}\n\t\t});\n\t});\n\n\tafterAll(() => {\n\t\tcoreElementGetElementByIdSpy.mockRestore();\n\t});\n\n\tbeforeEach(() => {\n\t\tCardGeneratorDialogController.initialize();\n\t});\n\n\tafterEach(() => {\n\t\tjest.clearAllMocks();\n\t});\n\n\ttest(\"validate item is not added\", () => {\n\t\tconst oEvent = {\n\t\t\tgetParameter: jest.fn().mockImplementation((key) => {\n\t\t\t\tif (key === \"draggedControl\") {\n\t\t\t\t\treturn {\n\t\t\t\t\t\tgetParent: jest.fn().mockReturnValue({\n\t\t\t\t\t\t\tgetBindingContext: jest.fn().mockReturnValue({\n\t\t\t\t\t\t\t\tgetPath: jest.fn().mockReturnValue(\"/configuration/groups/0\")\n\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\tindexOfItem: jest.fn().mockReturnValue(0)\n\t\t\t\t\t\t})\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\tif (key === \"droppedControl\") {\n\t\t\t\t\treturn {\n\t\t\t\t\t\tgetParent: jest.fn().mockReturnValue({\n\t\t\t\t\t\t\tgetBindingContext: jest.fn().mockReturnValue({\n\t\t\t\t\t\t\t\tgetPath: jest.fn().mockReturnValue(\"/configuration/groups/1\")\n\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\tindexOfItem: jest.fn().mockReturnValue(3)\n\t\t\t\t\t\t})\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\tif (key === \"dropPosition\") {\n\t\t\t\t\treturn \"After\";\n\t\t\t\t}\n\t\t\t})\n\t\t};\n\t\tCardGeneratorDialogController.onDrop(oEvent);\n\t\texpect(oDialogModel.getProperty(\"/configuration/groups/1/enableAddMoreGroupItems\")).toBe(false);\n\t\texpect(oDialogModel.getProperty(\"/configuration/groups/0/items\").length).toEqual(5);\n\t\texpect(oDialogModel.getProperty(\"/configuration/groups/1/items\").length).toEqual(5);\n\t\texpect(oDialogModel.getProperty(\"/configuration/groups/0/items\")).toMatchSnapshot();\n\t\texpect(oDialogModel.getProperty(\"/configuration/groups/1/items\")).toMatchSnapshot();\n\t});\n});\n\ndescribe(\"onDrop when source group has 3 items and target group has 5 items\", () => {\n\tlet coreElementGetElementByIdSpy: jest.SpyInstance;\n\n\tconst oDialogModel = new JSONModel({\n\t\tconfiguration: {\n\t\t\tgroups: [\n\t\t\t\t{\n\t\t\t\t\ttitle: \"Group 1\",\n\t\t\t\t\titems: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: \"to_BillingStatus\",\n\t\t\t\t\t\t\tvalue: \"{to_BillingStatus}\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: \"to_BillingStatus\",\n\t\t\t\t\t\t\tvalue: \"{to_BillingStatus}\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: \"to_BillingStatus\",\n\t\t\t\t\t\t\tvalue: \"{to_BillingStatus}\"\n\t\t\t\t\t\t}\n\t\t\t\t\t],\n\t\t\t\t\tenableAddMoreGroupItems: true\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttitle: \"Group 2\",\n\t\t\t\t\titems: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: \"to_BillingStatus\",\n\t\t\t\t\t\t\tvalue: \"{to_BillingStatus}\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: \"to_BillingStatus\",\n\t\t\t\t\t\t\tvalue: \"{to_BillingStatus}\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: \"to_BillingStatus\",\n\t\t\t\t\t\t\tvalue: \"{to_BillingStatus}\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: \"to_BillingStatus\",\n\t\t\t\t\t\t\tvalue: \"{to_BillingStatus}\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: \"to_BillingStatus\",\n\t\t\t\t\t\t\tvalue: \"{to_BillingStatus}\"\n\t\t\t\t\t\t}\n\t\t\t\t\t],\n\t\t\t\t\tenableAddMoreGroupItems: false\n\t\t\t\t}\n\t\t\t]\n\t\t}\n\t});\n\n\tconst oDialog = {\n\t\tgetModel: () => {\n\t\t\treturn oDialogModel;\n\t\t},\n\t\topen: jest.fn(),\n\t\tsetModel: jest.fn(),\n\t\tclose: jest.fn()\n\t};\n\tbeforeAll(() => {\n\t\tcoreElementGetElementByIdSpy = jest.spyOn(CoreElement, \"getElementById\");\n\t\tcoreElementGetElementByIdSpy.mockImplementation((id) => {\n\t\t\tif (id === \"cardGeneratorDialog--cardGeneratorDialog\") {\n\t\t\t\treturn oDialog;\n\t\t\t}\n\t\t});\n\t});\n\n\tafterAll(() => {\n\t\tcoreElementGetElementByIdSpy.mockRestore();\n\t});\n\n\tbeforeEach(() => {\n\t\tCardGeneratorDialogController.initialize();\n\t});\n\n\tafterEach(() => {\n\t\tjest.clearAllMocks();\n\t});\n\ttest(\"validate if item is not added to the target group\", () => {\n\t\tconst oEvent = {\n\t\t\tgetParameter: jest.fn().mockImplementation((key) => {\n\t\t\t\tif (key === \"draggedControl\") {\n\t\t\t\t\treturn {\n\t\t\t\t\t\tgetParent: jest.fn().mockReturnValue({\n\t\t\t\t\t\t\tgetBindingContext: jest.fn().mockReturnValue({\n\t\t\t\t\t\t\t\tgetPath: jest.fn().mockReturnValue(\"/configuration/groups/0\")\n\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\tindexOfItem: jest.fn().mockReturnValue(1)\n\t\t\t\t\t\t})\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\tif (key === \"droppedControl\") {\n\t\t\t\t\treturn {\n\t\t\t\t\t\tgetParent: jest.fn().mockReturnValue({\n\t\t\t\t\t\t\tgetBindingContext: jest.fn().mockReturnValue({\n\t\t\t\t\t\t\t\tgetPath: jest.fn().mockReturnValue(\"/configuration/groups/1\")\n\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\tindexOfItem: jest.fn().mockReturnValue(3)\n\t\t\t\t\t\t})\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\tif (key === \"dropPosition\") {\n\t\t\t\t\treturn \"Before\";\n\t\t\t\t}\n\t\t\t})\n\t\t};\n\t\tCardGeneratorDialogController.onDrop(oEvent);\n\t\texpect(oDialogModel.getProperty(\"/configuration/groups/1/enableAddMoreGroupItems\")).toBe(false);\n\t\texpect(oDialogModel.getProperty(\"/configuration/groups/0/items\").length).toEqual(3);\n\t\texpect(oDialogModel.getProperty(\"/configuration/groups/1/items\").length).toEqual(5);\n\t\texpect(oDialogModel.getProperty(\"/configuration/groups/0/items\")).toMatchSnapshot();\n\t\texpect(oDialogModel.getProperty(\"/configuration/groups/1/items\")).toMatchSnapshot();\n\t});\n});\n\ndescribe(\"onDrop when source has 5 items and target group has 4 items \", () => {\n\tlet coreElementGetElementByIdSpy: jest.SpyInstance;\n\n\tconst oDialogModel = new JSONModel({\n\t\tconfiguration: {\n\t\t\tgroups: [\n\t\t\t\t{\n\t\t\t\t\ttitle: \"Group 1\",\n\t\t\t\t\titems: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: \"to_BillingStatus\",\n\t\t\t\t\t\t\tvalue: \"{to_BillingStatus_0}\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: \"to_BillingStatus\",\n\t\t\t\t\t\t\tvalue: \"{to_BillingStatus_1}\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: \"to_BillingStatus\",\n\t\t\t\t\t\t\tvalue: \"{to_BillingStatus_2}\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: \"to_BillingStatus\",\n\t\t\t\t\t\t\tvalue: \"{to_BillingStatus_3}\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: \"to_BillingStatus\",\n\t\t\t\t\t\t\tvalue: \"{to_BillingStatus_4}\"\n\t\t\t\t\t\t}\n\t\t\t\t\t],\n\t\t\t\t\tenableAddMoreGroupItems: false\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttitle: \"Group 2\",\n\t\t\t\t\titems: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: \"to_BillingStatus\",\n\t\t\t\t\t\t\tvalue: \"{to_BillingStatus_0}\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: \"to_BillingStatus\",\n\t\t\t\t\t\t\tvalue: \"{to_BillingStatus_1}\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: \"to_BillingStatus\",\n\t\t\t\t\t\t\tvalue: \"{to_BillingStatus_2}\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: \"to_BillingStatus\",\n\t\t\t\t\t\t\tvalue: \"{to_BillingStatus_3}\"\n\t\t\t\t\t\t}\n\t\t\t\t\t],\n\t\t\t\t\tenableAddMoreGroupItems: true\n\t\t\t\t}\n\t\t\t]\n\t\t}\n\t});\n\n\tconst oDialog = {\n\t\tgetModel: () => {\n\t\t\treturn oDialogModel;\n\t\t},\n\t\topen: jest.fn(),\n\t\tsetModel: jest.fn(),\n\t\tclose: jest.fn()\n\t};\n\n\tbeforeAll(() => {\n\t\tcoreElementGetElementByIdSpy = jest.spyOn(CoreElement, \"getElementById\");\n\t\tcoreElementGetElementByIdSpy.mockImplementation((id) => {\n\t\t\tif (id === \"cardGeneratorDialog--cardGeneratorDialog\") {\n\t\t\t\treturn oDialog;\n\t\t\t}\n\t\t});\n\t});\n\n\tafterAll(() => {\n\t\tcoreElementGetElementByIdSpy.mockRestore();\n\t});\n\n\tbeforeEach(() => {\n\t\tCardGeneratorDialogController.initialize();\n\t});\n\n\tafterEach(() => {\n\t\tjest.clearAllMocks();\n\t});\n\n\ttest(\"validate if item is added from the source group to the target group, when dropPosition is Before\", () => {\n\t\tlet oEvent = {\n\t\t\tgetParameter: jest.fn().mockImplementation((key) => {\n\t\t\t\tif (key === \"draggedControl\") {\n\t\t\t\t\treturn {\n\t\t\t\t\t\tgetParent: jest.fn().mockReturnValue({\n\t\t\t\t\t\t\tgetBindingContext: jest.fn().mockReturnValue({\n\t\t\t\t\t\t\t\tgetPath: jest.fn().mockReturnValue(\"/configuration/groups/0\")\n\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\tindexOfItem: jest.fn().mockReturnValue(0)\n\t\t\t\t\t\t})\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\tif (key === \"droppedControl\") {\n\t\t\t\t\treturn {\n\t\t\t\t\t\tgetParent: jest.fn().mockReturnValue({\n\t\t\t\t\t\t\tgetBindingContext: jest.fn().mockReturnValue({\n\t\t\t\t\t\t\t\tgetPath: jest.fn().mockReturnValue(\"/configuration/groups/1\")\n\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\tindexOfItem: jest.fn().mockReturnValue(3)\n\t\t\t\t\t\t})\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\tif (key === \"dropPosition\") {\n\t\t\t\t\treturn \"Before\";\n\t\t\t\t}\n\t\t\t})\n\t\t};\n\t\tCardGeneratorDialogController.onDrop(oEvent);\n\t\texpect(oDialogModel.getProperty(\"/configuration/groups/0/enableAddMoreGroupItems\")).toBe(true);\n\t\texpect(oDialogModel.getProperty(\"/configuration/groups/1/enableAddMoreGroupItems\")).toBe(false);\n\t\texpect(oDialogModel.getProperty(\"/configuration/groups/0/items\").length).toEqual(4);\n\t\texpect(oDialogModel.getProperty(\"/configuration/groups/1/items\").length).toEqual(5);\n\t\texpect(oDialogModel.getProperty(\"/configuration/groups/0/items\")).toMatchSnapshot();\n\t\texpect(oDialogModel.getProperty(\"/configuration/groups/1/items\")).toMatchSnapshot();\n\t});\n});\n\ndescribe(\"onDrop when source has 4 items and target group has 4 items \", () => {\n\tlet coreElementGetElementByIdSpy: jest.SpyInstance;\n\n\tconst oDialogModel = new JSONModel({\n\t\tconfiguration: {\n\t\t\tgroups: [\n\t\t\t\t{\n\t\t\t\t\ttitle: \"Group 1\",\n\t\t\t\t\titems: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: \"to_BillingStatus\",\n\t\t\t\t\t\t\tvalue: \"{to_BillingStatus_0}\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: \"to_BillingStatus\",\n\t\t\t\t\t\t\tvalue: \"{to_BillingStatus_1}\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: \"to_BillingStatus\",\n\t\t\t\t\t\t\tvalue: \"{to_BillingStatus_2}\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: \"to_BillingStatus\",\n\t\t\t\t\t\t\tvalue: \"{to_BillingStatus_3}\"\n\t\t\t\t\t\t}\n\t\t\t\t\t],\n\t\t\t\t\tenableAddMoreGroupItems: true\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttitle: \"Group 2\",\n\t\t\t\t\titems: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: \"to_BillingStatus\",\n\t\t\t\t\t\t\tvalue: \"{to_BillingStatus_0}\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: \"to_BillingStatus\",\n\t\t\t\t\t\t\tvalue: \"{to_BillingStatus_1}\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: \"to_BillingStatus\",\n\t\t\t\t\t\t\tvalue: \"{to_BillingStatus_2}\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: \"to_BillingStatus\",\n\t\t\t\t\t\t\tvalue: \"{to_BillingStatus_3}\"\n\t\t\t\t\t\t}\n\t\t\t\t\t],\n\t\t\t\t\tenableAddMoreGroupItems: true\n\t\t\t\t}\n\t\t\t]\n\t\t}\n\t});\n\n\tconst oDialog = {\n\t\tgetModel: () => {\n\t\t\treturn oDialogModel;\n\t\t},\n\t\topen: jest.fn(),\n\t\tsetModel: jest.fn(),\n\t\tclose: jest.fn()\n\t};\n\n\tbeforeAll(() => {\n\t\tcoreElementGetElementByIdSpy = jest.spyOn(CoreElement, \"getElementById\");\n\t\tcoreElementGetElementByIdSpy.mockImplementation((id) => {\n\t\t\tif (id === \"cardGeneratorDialog--cardGeneratorDialog\") {\n\t\t\t\treturn oDialog;\n\t\t\t}\n\t\t});\n\t});\n\n\tafterAll(() => {\n\t\tcoreElementGetElementByIdSpy.mockRestore();\n\t});\n\n\tbeforeEach(() => {\n\t\tCardGeneratorDialogController.initialize();\n\t});\n\n\tafterEach(() => {\n\t\tjest.clearAllMocks();\n\t});\n\ttest(\"validate if item is added from the source group to the target group, when dropPosition is After\", () => {\n\t\tconst oEvent = {\n\t\t\tgetParameter: jest.fn().mockImplementation((key) => {\n\t\t\t\tif (key === \"draggedControl\") {\n\t\t\t\t\treturn {\n\t\t\t\t\t\tgetParent: jest.fn().mockReturnValue({\n\t\t\t\t\t\t\tgetBindingContext: jest.fn().mockReturnValue({\n\t\t\t\t\t\t\t\tgetPath: jest.fn().mockReturnValue(\"/configuration/groups/0\")\n\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\tindexOfItem: jest.fn().mockReturnValue(0)\n\t\t\t\t\t\t})\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\tif (key === \"droppedControl\") {\n\t\t\t\t\treturn {\n\t\t\t\t\t\tgetParent: jest.fn().mockReturnValue({\n\t\t\t\t\t\t\tgetBindingContext: jest.fn().mockReturnValue({\n\t\t\t\t\t\t\t\tgetPath: jest.fn().mockReturnValue(\"/configuration/groups/1\")\n\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\tindexOfItem: jest.fn().mockReturnValue(3)\n\t\t\t\t\t\t})\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\tif (key === \"dropPosition\") {\n\t\t\t\t\treturn \"After\";\n\t\t\t\t}\n\t\t\t})\n\t\t};\n\n\t\tCardGeneratorDialogController.onDrop(oEvent);\n\t\texpect(oDialogModel.getProperty(\"/configuration/groups/0/enableAddMoreGroupItems\")).toBe(true);\n\t\texpect(oDialogModel.getProperty(\"/configuration/groups/1/enableAddMoreGroupItems\")).toBe(false);\n\t\texpect(oDialogModel.getProperty(\"/configuration/groups/0/items\").length).toEqual(3);\n\t\texpect(oDialogModel.getProperty(\"/configuration/groups/1/items\").length).toEqual(5);\n\t\texpect(oDialogModel.getProperty(\"/configuration/groups/0/items\")).toMatchSnapshot();\n\t\texpect(oDialogModel.getProperty(\"/configuration/groups/1/items\")).toMatchSnapshot();\n\t});\n});\n\ndescribe(\"getCriticality\", () => {\n\tlet coreElementGetElementByIdSpy: jest.SpyInstance;\n\n\tconst oDialogModel = new JSONModel({\n\t\tconfiguration: {\n\t\t\tmainIndicatorOptions: {\n\t\t\t\tcriticality: [\n\t\t\t\t\t{\n\t\t\t\t\t\tname: \"net_amount\",\n\t\t\t\t\t\tcriticality: \"Neutral\"\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t},\n\t\t\tadvancedFormattingOptions: {\n\t\t\t\tsourceCriticalityProperty: [\n\t\t\t\t\t{\n\t\t\t\t\t\tactiveCalculation: false,\n\t\t\t\t\t\tcriticality: \"\",\n\t\t\t\t\t\tname: \"net_amount\"\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t}\n\t\t}\n\t});\n\n\tconst oDialog = {\n\t\tgetModel: () => {\n\t\t\treturn oDialogModel;\n\t\t},\n\t\topen: jest.fn(),\n\t\tsetModel: jest.fn(),\n\t\tclose: jest.fn()\n\t};\n\n\tbeforeAll(() => {\n\t\tcoreElementGetElementByIdSpy = jest.spyOn(CoreElement, \"getElementById\");\n\t\tcoreElementGetElementByIdSpy.mockImplementation((id) => {\n\t\t\tif (id === \"cardGeneratorDialog--cardGeneratorDialog\") {\n\t\t\t\treturn oDialog;\n\t\t\t}\n\t\t});\n\t});\n\n\tafterAll(() => {\n\t\tcoreElementGetElementByIdSpy.mockRestore();\n\t});\n\n\tbeforeEach(() => {\n\t\tCardGeneratorDialogController.initialize();\n\t});\n\n\tafterEach(() => {\n\t\tjest.clearAllMocks();\n\t});\n\n\ttest(\"Criticality - None\", () => {\n\t\texpect(getCriticality(\"{net_amount}\", false)).toEqual(\"Neutral\");\n\t});\n\n\ttest(\"Criticality - Negative\", () => {\n\t\toDialogModel.setProperty(\"/configuration/mainIndicatorOptions/criticality/0/criticality\", \"Error\");\n\t\texpect(getCriticality(\"{net_amount}\", false)).toEqual(\"Error\");\n\t});\n\n\ttest(\"Criticality - Critical\", () => {\n\t\toDialogModel.setProperty(\"/configuration/mainIndicatorOptions/criticality/0/criticality\", \"Critical\");\n\t\texpect(getCriticality(\"{net_amount}\", false)).toEqual(\"Critical\");\n\t});\n\n\ttest(\"Criticality - Positive\", () => {\n\t\toDialogModel.setProperty(\"/configuration/mainIndicatorOptions/criticality/0/criticality\", \"Good\");\n\t\texpect(getCriticality(\"{net_amount}\", false)).toEqual(\"Good\");\n\t});\n\n\ttest(\"Edge case: Criticality - undefined\", () => {\n\t\toDialogModel.setProperty(\"/configuration/mainIndicatorOptions/criticality\", undefined);\n\t\texpect(getCriticality(\"{net_amount}\", false)).toEqual(\"None\");\n\t});\n\ttest(\"Criticality - Match by complex path with propertyKeyForId\", () => {\n\t\toDialogModel.setProperty(\"/configuration/mainIndicatorOptions/criticality\", [\n\t\t\t{\n\t\t\t\tname: \"net_amount\",\n\t\t\t\tpropertyKeyForId: \"id\",\n\t\t\t\tcriticality: \"Critical\"\n\t\t\t}\n\t\t]);\n\t\texpect(getCriticality(\"{net_amount/id}\", false)).toEqual(\"Critical\");\n\t});\n\n\ttest(\"Criticality - Binding criticality returns formatter expression\", () => {\n\t\toDialogModel.setProperty(\"/configuration/mainIndicatorOptions/criticality\", [\n\t\t\t{\n\t\t\t\tname: \"net_amount\",\n\t\t\t\tcriticality: \"{some_binding_expression}\"\n\t\t\t}\n\t\t]);\n\n\t\tconst result = getCriticality(\"{net_amount}\", false);\n\t\texpect(result).toEqual(\"{= extension.formatters.formatCriticality(${some_binding_expression}, 'color') }\");\n\t});\n});\n\ndescribe(\"setCriticality\", () => {\n\tlet renderCardPreviewMock: jest.Mock;\n\tlet getCurrentCardManifestMock: jest.Mock;\n\tlet coreElementGetElementByIdSpy: jest.SpyInstance;\n\n\tconst oDialogModel = new JSONModel({\n\t\tconfiguration: {\n\t\t\tmainIndicatorOptions: {\n\t\t\t\tcriticality: [\n\t\t\t\t\t{\n\t\t\t\t\t\tactiveCalculation: true,\n\t\t\t\t\t\tcriticality: \"Good\",\n\t\t\t\t\t\tname: \"net_amount\"\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tactiveCalculation: true,\n\t\t\t\t\t\tcriticality: \"Good\",\n\t\t\t\t\t\tname: \"gross_amount\",\n\t\t\t\t\t\tpropertyKeyForId: \"to_BillingStatus\"\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t},\n\t\t\tadvancedFormattingOptions: {\n\t\t\t\tsourceCriticalityProperty: [\n\t\t\t\t\t{\n\t\t\t\t\t\tname: \"net_amount\",\n\t\t\t\t\t\tactiveCalculation: false,\n\t\t\t\t\t\tcriticality: \"Critical\",\n\t\t\t\t\t\thostCriticality: \"Good\"\n\t\t\t\t\t}\n\t\t\t\t],\n\t\t\t\ttextArrangements: [],\n\t\t\t\tpropertyValueFormatters: [],\n\t\t\t\tsourceUoMProperty: \"so_id\",\n\t\t\t\ttargetProperty: \"currency_code\",\n\t\t\t\tunitOfMeasures: [\n\t\t\t\t\t{\n\t\t\t\t\t\tarrangementKey: \"currency_code\",\n\t\t\t\t\t\tname: \"gross_amount\",\n\t\t\t\t\t\tpropKey: \"gross_amount\",\n\t\t\t\t\t\tvalue: \"currency_code\"\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tarrangementKey: \"currency_code\",\n\t\t\t\t\t\tname: \"net_amount\",\n\t\t\t\t\t\tpropKey: \"net_amount\",\n\t\t\t\t\t\tvalue: \"currency_code\"\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tarrangementKey: \"currency_code\",\n\t\t\t\t\t\tname: \"tax_amount\",\n\t\t\t\t\t\tpropKey: \"tax_amount\",\n\t\t\t\t\t\tvalue: \"currency_code\"\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t},\n\t\t\ttrendOptions: {\n\t\t\t\tsourceProperty: \"net_amount\",\n\t\t\t\tdownDifference: \"1000\",\n\t\t\t\tdownDifferenceValueState: \"None\",\n\t\t\t\tupDifference: \"1000\",\n\t\t\t\tupDifferenceValueState: \"None\",\n\t\t\t\treferenceValue: \"2\",\n\t\t\t\treferenceValueState: \"None\",\n\t\t\t\tupDown: \"2\"\n\t\t\t},\n\t\t\tselectedTrendOptions: [\n\t\t\t\t{\n\t\t\t\t\treferenceValue: \"2\",\n\t\t\t\t\tdownDifference: \"1000\",\n\t\t\t\t\tupDifference: \"1000\",\n\t\t\t\t\tsourceProperty: \"net_amount\"\n\t\t\t\t}\n\t\t\t]\n\t\t}\n\t});\n\tconst oDialog = {\n\t\tgetModel: jest.fn().mockReturnValue(oDialogModel),\n\t\topen: jest.fn(),\n\t\tsetModel: jest.fn(),\n\t\tclose: jest.fn()\n\t};\n\n\tbeforeAll(() => {\n\t\tcoreElementGetElementByIdSpy = jest.spyOn(CoreElement, \"getElementById\");\n\t\tcoreElementGetElementByIdSpy.mockImplementation((id) => {\n\t\t\tif (id === \"cardGeneratorDialog--cardGeneratorDialog\") {\n\t\t\t\treturn oDialog;\n\t\t\t}\n\t\t});\n\t});\n\n\tafterAll(() => {\n\t\tcoreElementGetElementByIdSpy.mockRestore();\n\t});\n\n\tbeforeEach(() => {\n\t\trenderCardPreviewMock = renderCardPreview as jest.Mock;\n\t\tgetCurrentCardManifestMock = getCurrentCardManifest as jest.Mock;\n\t\tgetCurrentCardManifestMock.mockReturnValue({\n\t\t\t_version: \"1.15.0\",\n\t\t\t\"sap.app\": {\n\t\t\t\tid: \"objectCard\",\n\t\t\t\ttype: \"card\",\n\t\t\t\ttitle: \"Card Title\",\n\t\t\t\tapplicationVersion: {\n\t\t\t\t\tversion: \"1.0.0\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t\"sap.ui\": {},\n\t\t\t\"sap.card\": {\n\t\t\t\textension: \"module:sap/cards/ap/common/extensions/BaseIntegrationCardExtension\",\n\t\t\t\ttype: \"Object\",\n\t\t\t\theader: {\n\t\t\t\t\tdata: {\n\t\t\t\t\t\tpath: \"/header/d/\"\n\t\t\t\t\t},\n\t\t\t\t\ttype: \"Numeric\",\n\t\t\t\t\ttitle: \"Sales Order\",\n\t\t\t\t\tsubTitle: \"A Fiori application.\",\n\t\t\t\t\tunitOfMeasurement: \"\",\n\t\t\t\t\tmainIndicator: {\n\t\t\t\t\t\tnumber: \"{= format.unit(${net_amount}, ${currency_code})}\",\n\t\t\t\t\t\tunit: \"\",\n\t\t\t\t\t\ttrend: \"None\",\n\t\t\t\t\t\tstate: \"Good\"\n\t\t\t\t\t},\n\t\t\t\t\tsideIndicators: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle: \"\",\n\t\t\t\t\t\t\tnumber: \"\",\n\t\t\t\t\t\t\tunit: \"\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle: \"\",\n\t\t\t\t\t\t\tnumber: \"\",\n\t\t\t\t\t\t\tunit: \"\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t\tcontent: {\n\t\t\t\t\tdata: {\n\t\t\t\t\t\tpath: \"/content/d/\"\n\t\t\t\t\t},\n\t\t\t\t\tgroups: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle: \"Group 1\",\n\t\t\t\t\t\t\titems: [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tlabel: \"Gross Amount\",\n\t\t\t\t\t\t\t\t\tvalue: \"{= format.unit(${gross_amount}, ${currency_code})}\",\n\t\t\t\t\t\t\t\t\tname: \"gross_amount\",\n\t\t\t\t\t\t\t\t\tstate: \"{= extension.formatters.formatCriticality(${Language}, 'state') }\",\n\t\t\t\t\t\t\t\t\ttype: \"Status\"\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tlabel: \"Tax Amount\",\n\t\t\t\t\t\t\t\t\tvalue: '{= format.dateTime(${DraftEntityCreationDateTime}, {\"relative\":false,\"UTC\":true})}',\n\t\t\t\t\t\t\t\t\tname: \"DraftEntityCreationDateTime\",\n\t\t\t\t\t\t\t\t\tstate: \"Error\",\n\t\t\t\t\t\t\t\t\ttype: \"Status\"\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tlabel: \"CardGeneratorGroupPropertyLabel_Groups_0_Items_3\",\n\t\t\t\t\t\t\t\t\tvalue: \"{so_id}\",\n\t\t\t\t\t\t\t\t\tname: \"so_id\",\n\t\t\t\t\t\t\t\t\tstate: \"{= extension.formatters.formatCriticality(${op_id_fc}, 'state') }\",\n\t\t\t\t\t\t\t\t\ttype: \"Status\"\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle: \"Additional Info\",\n\t\t\t\t\t\t\titems: [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tlabel: \"Business Partner ID\",\n\t\t\t\t\t\t\t\t\tvalue: \"{= format.unit(${net_amount}, ${currency_code})}\",\n\t\t\t\t\t\t\t\t\tname: \"net_amount\",\n\t\t\t\t\t\t\t\t\tstate: \"{= extension.formatters.formatCriticality(${Language}, 'state') }\",\n\t\t\t\t\t\t\t\t\ttype: \"Status\"\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tlabel: \"Created At\",\n\t\t\t\t\t\t\t\t\tvalue: \"{node_key}\",\n\t\t\t\t\t\t\t\t\tname: \"node_key\",\n\t\t\t\t\t\t\t\t\tstate: \"Warning\",\n\t\t\t\t\t\t\t\t\ttype: \"Status\"\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle: \"CardGeneratorGroupHeader_Groups_2\",\n\t\t\t\t\t\t\titems: [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tlabel: \"CardGeneratorGroupPropertyLabel_Groups_2_Items_0\",\n\t\t\t\t\t\t\t\t\tvalue: '{= format.dateTime(${DraftEntityCreationDateTime}, {\"relative\":false,\"UTC\":true})}',\n\t\t\t\t\t\t\t\t\tname: \"DraftEntityCreationDateTime\",\n\t\t\t\t\t\t\t\t\tstate: \"Error\",\n\t\t\t\t\t\t\t\t\ttype: \"Status\"\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tlabel: \"CardGeneratorGroupPropertyLabel_Groups_2_Items_1\",\n\t\t\t\t\t\t\t\t\tvalue: \"{= format.unit(${net_amount}, ${currency_code})}\",\n\t\t\t\t\t\t\t\t\tname: \"net_amount\",\n\t\t\t\t\t\t\t\t\tstate: \"{= extension.formatters.formatCriticality(${Language}, 'state') }\",\n\t\t\t\t\t\t\t\t\ttype: \"Status\"\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tlabel: \"CardGeneratorGroupPropertyLabel_Groups_2_Items_2\",\n\t\t\t\t\t\t\t\t\tvalue: '{= format.dateTime(${changed_at}, {\"relative\":false,\"UTC\":true})}',\n\t\t\t\t\t\t\t\t\tname: \"changed_at\",\n\t\t\t\t\t\t\t\t\tstate: '{= extension.formatters.formatValueColor(${changed_at},{\"deviationLow\":\"100\",\"deviationHigh\":\"100\",\"toleranceLow\":\"100\",\"toleranceHigh\":\"100\",\"sImprovementDirection\":\"Target\",\"oCriticalityConfigValues\":{\"None\":\"None\",\"Negative\":\"Error\",\"Critical\":\"Warning\",\"Positive\":\"Success\"}}) }',\n\t\t\t\t\t\t\t\t\ttype: \"Status\"\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\tCardGeneratorDialogController.initialize();\n\t});\n\n\tafterEach(() => {\n\t\tjest.clearAllMocks();\n\t});\n\ttest(\"setCriticalitySourceProperty\", () => {\n\t\tconst prop = \"gross_amount/to_BillingStatus\";\n\t\tCardGeneratorDialogController.setCriticalitySourceProperty(prop);\n\t\texpect(oDialog.getModel().getProperty(\"/configuration/advancedFormattingOptions/sourceCriticalityProperty\")).toMatchSnapshot();\n\t});\n});\n\ndescribe(\"Toggle Advanced Settings\", () => {\n\tlet coreElementGetElementByIdSpy: jest.SpyInstance;\n\tlet removeSplitterContentSpy: jest.Mock;\n\tlet insertSplitterContentSpy: jest.Mock;\n\tlet getSplitterContentSpy: jest.Mock;\n\tconst mockToggleButton: jest.Mocked<ToggleButton> = {\n\t\tgetPressed: jest.fn(),\n\t\tsetPressed: jest.fn(),\n\t\tsetEnabled: jest.fn()\n\t} as unknown as jest.Mocked<ToggleButton>;\n\n\tconst dialog = {\n\t\tgetModel: () => {\n\t\t\treturn {};\n\t\t},\n\t\topen: jest.fn(),\n\t\tsetModel: jest.fn(),\n\t\tclose: jest.fn(),\n\t\tgetCustomHeader: jest.fn().mockReturnValue({\n\t\t\tgetContentMiddle: jest.fn().mockReturnValue([{}, {}, {}, {}, mockToggleButton])\n\t\t})\n\t};\n\n\tbeforeAll(() => {\n\t\tcoreElementGetElementByIdSpy = jest.spyOn(CoreElement, \"getElementById\");\n\t\tcoreElementGetElementByIdSpy.mockImplementation((id) => {\n\t\t\tif (id === \"cardGeneratorDialog--contentSplitter\") {\n\t\t\t\treturn new Splitter(\"\", {\n\t\t\t\t\tcontentAreas: [new VBox(), new VBox()]\n\t\t\t\t});\n\t\t\t}\n\t\t\tif (id === \"cardGeneratorDialog--cardGeneratorDialog\") {\n\t\t\t\treturn dialog;\n\t\t\t}\n\t\t});\n\t\tremoveSplitterContentSpy = jest.spyOn(Splitter.prototype, \"removeContentArea\") as unknown as jest.Mock;\n\t\tinsertSplitterContentSpy = jest.spyOn(Splitter.prototype, \"insertContentArea\") as unknown as jest.Mock;\n\t\tgetSplitterContentSpy = jest.spyOn(Splitter.prototype, \"getContentAreas\") as unknown as jest.Mock;\n\t});\n\tafterAll(() => {\n\t\tcoreElementGetElementByIdSpy.mockRestore();\n\t\tremoveSplitterContentSpy.mockRestore();\n\t\tinsertSplitterContentSpy.mockRestore();\n\t\tgetSplitterContentSpy.mockRestore();\n\t});\n\n\ttest(\"removeContentArea should be called\", async () => {\n\t\tconst toggleButton = new ToggleButton();\n\t\tconst toggleEvent = new Event(\"toggle\", toggleButton, {});\n\t\tawait CardGeneratorDialogController.toggleAdvancedSetting(toggleEvent);\n\t\texpect(getSplitterContentSpy).toHaveBeenCalledTimes(1);\n\t\texpect(removeSplitterContentSpy).toHaveBeenCalledTimes(1);\n\t\texpect(insertSplitterContentSpy).toHaveBeenCalledTimes(0);\n\t});\n\n\ttest(\"should not call setPressed when Advanced Settings button is not pressed\", () => {\n\t\tmockToggleButton.getPressed.mockReturnValue(false);\n\t\ttoggleOffAdvancedPanel();\n\t\texpect(mockToggleButton.setPressed).not.toHaveBeenCalled();\n\t});\n});\n\ndescribe(\"setDefaultCardPreview\", () => {\n\tlet comboBox: ComboBox;\n\tlet defaultIntegrationCard: Card;\n\tlet adaptiveCardContainer: Control;\n\tlet customIntegrationCard: Control;\n\n\tbeforeEach(() => {\n\t\tcomboBox = {\n\t\t\tgetSelectedKey: jest.fn().mockReturnValue(\"some-other-key\"),\n\t\t\tsetSelectedKey: jest.fn()\n\t\t} as unknown as ComboBox;\n\t\tdefaultIntegrationCard = { setVisible: jest.fn(), setWidth: jest.fn(), setHeight: jest.fn() } as unknown as Card;\n\t\tadaptiveCardContainer = { setVisible: jest.fn() } as unknown as Control;\n\t\tcustomIntegrationCard = { setVisible: jest.fn() } as unknown as Control;\n\t\tconst oDialog = {\n\t\t\tgetModel: jest.fn().mockReturnValue(\n\t\t\t\tnew JSONModel({\n\t\t\t\t\thosts: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tkey: \"int-default\",\n\t\t\t\t\t\t\twidth: \"500px\",\n\t\t\t\t\t\t\theight: \"auto\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t})\n\t\t\t),\n\t\t\tsetModel: jest.fn()\n\t\t};\n\n\t\tjest.spyOn(CoreElement, \"getElementById\").mockImplementation((id) => {\n\t\t\tif (id === \"cardGeneratorDialog--preview-select\") return comboBox;\n\t\t\tif (id === \"cardGeneratorDialog--cardPreview\") return defaultIntegrationCard;\n\t\t\tif (id === \"cardGeneratorDialog--adaptiveCardPreviewContainer\") return adaptiveCardContainer;\n\t\t\tif (id === \"cardGeneratorDialog--custom-entry\") return customIntegrationCard;\n\t\t\tif (id === \"cardGeneratorDialog--cardGeneratorDialog\") return oDialog;\n\t\t\treturn null;\n\t\t});\n\t\tCardGeneratorDialogController.initialize();\n\t});\n\n\tafterEach(() => {\n\t\tjest.clearAllMocks();\n\t});\n\n\ttest(\"should set ComboBox selected key to 'int-default' and update visibility of cards\", () => {\n\t\tCardGeneratorDialogController._setDefaultCardPreview();\n\t\texpect(comboBox.setSelectedKey).toHaveBeenCalledWith(\"int-default\");\n\t\texpect(defaultIntegrationCard.setVisible).toHaveBeenCalledWith(true);\n\t\texpect(adaptiveCardContainer.setVisible).toHaveBeenCalledWith(false);\n\t\texpect(customIntegrationCard.setVisible).toHaveBeenCalledWith(false);\n\t\texpect(defaultIntegrationCard.setWidth).toHaveBeenCalledWith(\"500px\");\n\t\texpect(defaultIntegrationCard.setHeight).toHaveBeenCalledWith(\"auto\");\n\t});\n});\n\ndescribe(\"onPropertyFormatting and onFormatTypeSelection\", () => {\n\tlet coreElementGetElementByIdSpy: jest.SpyInstance;\n\n\tFragment.load = jest.fn().mockResolvedValue(\n\t\tPromise.resolve({\n\t\t\tsetBindingContext: jest.fn(),\n\t\t\topenBy: jest.fn(),\n\t\t\tsetModel: jest.fn()\n\t\t})\n\t);\n\n\tconst getResourceBundleMock = jest.fn().mockReturnValue({\n\t\tgetResourceBundle: jest.fn().mockReturnValue({\n\t\t\tgetText: jest.fn().mockImplementation((key) => {\n\t\t\t\tif (key === \"GENERATOR_MAIN_INDICATOR\") return \"Main Indicator\";\n\t\t\t\tif (key === \"GENERIC_ERR_MSG\") return \"Error occurred for Main Indicator\";\n\t\t\t})\n\t\t})\n\t});\n\n\tconst oDialogModel = new JSONModel({\n\t\tconfiguration: {\n\t\t\tproperties: [\n\t\t\t\t{\n\t\t\t\t\tname: \"net_amount\",\n\t\t\t\t\ttype: \"Edm.Int32\"\n\t\t\t\t}\n\t\t\t],\n\t\t\tadvancedFormattingOptions: {\n\t\t\t\tunitOfMeasures: [\n\t\t\t\t\t{\n\t\t\t\t\t\tname: \"net_amount\",\n\t\t\t\t\t\tvalue: \"currency_code\"\n\t\t\t\t\t}\n\t\t\t\t],\n\t\t\t\ttextArrangements: [],\n\t\t\t\tpropertyValueFormatters: [],\n\t\t\t\ttargetProperty: \"testProperty\"\n\t\t\t},\n\t\t\ttrendOptions: {\n\t\t\t\tsourceProperty: \"\"\n\t\t\t},\n\t\t\tindicatorsValue: {},\n\t\t\tselectedIndicatorOptions: [],\n\t\t\tmainIndicatorStatusKey: \"net_amount\",\n\t\t\tmainIndicatorNavigationSelectedKey: \"\",\n\t\t\tnavigationProperty: [\n\t\t\t\t{\n\t\t\t\t\tname: \"to_BillingStatus\",\n\t\t\t\t\tproperties: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tlabel: \"Lower Value\",\n\t\t\t\t\t\t\ttype: \"Edm.String\",\n\t\t\t\t\t\t\tname: \"Status\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tlabel: \"Confirmation\",\n\t\t\t\t\t\t\ttype: \"Edm.String\",\n\t\t\t\t\t\t\tname: \"Status_Text\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t],\n\t\t\tselectedNavigationProperties: {\n\t\t\t\tname: \"to_BillingStatus\",\n\t\t\t\tvalue: [\n\t\t\t\t\t{\n\t\t\t\t\t\tlabel: \"Lower Value\",\n\t\t\t\t\t\ttype: \"Edm.String\",\n\t\t\t\t\t\tname: \"Status\"\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tlabel: \"Confirmation\",\n\t\t\t\t\t\ttype: \"Edm.String\",\n\t\t\t\t\t\tname: \"Status_Text\"\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t},\n\t\t\t$data: {\n\t\t\t\tnet_amount: 6938.0\n\t\t\t}\n\t\t}\n\t});\n\n\tconst oDialog = {\n\t\tgetModel: (type?: string) => {\n\t\t\tif (type === \"i18n\") {\n\t\t\t\treturn getResourceBundleMock();\n\t\t\t}\n\t\t\treturn oDialogModel;\n\t\t},\n\t\topen: jest.fn(),\n\t\tsetModel: jest.fn(),\n\t\tclose: jest.fn(),\n\t\tgetResourceBundle: jest.fn().mockReturnValue({})\n\t};\n\n\tbeforeAll(() => {\n\t\tcoreElementGetElementByIdSpy = jest.spyOn(CoreElement, \"getElementById\");\n\t\tcoreElementGetElementByIdSpy.mockImplementation((id) => {\n\t\t\tif (id === \"cardGeneratorDialog--cardGeneratorDialog\") {\n\t\t\t\treturn oDialog;\n\t\t\t}\n\t\t});\n\t});\n\n\tafterAll(() => {\n\t\tjest.clearAllMocks();\n\t\tcoreElementGetElementByIdSpy.mockRestore();\n\t});\n\ttest(\"onPropertyFormatting and onFormatTypeSelection of the card generator controller\", () => {\n\t\tconst event = {\n\t\t\tgetSource: jest.fn().mockReturnValue({\n\t\t\t\taddDependent: jest.fn(),\n\t\t\t\tgetBindingContext: jest.fn(),\n\t\t\t\tgetParent: jest.fn(),\n\t\t\t\tgetId: jest.fn().mockReturnValue(\"cardGeneratorDialog--cardGeneratorDialog--net_amount\")\n\t\t\t}),\n\t\t\tgetParameter: jest.fn().mockReturnValue({\n\t\t\t\tgetKey: jest.fn().mockReturnValue(\"criticality\")\n\t\t\t})\n\t\t};\n\t\tCardGeneratorDialogController.onPropertyFormatting(event);\n\t\texpect(Fragment.load).toHaveBeenCalled();\n\t\texpect(Fragment.load).toHaveBeenCalledTimes(1);\n\t\texpect(oDialogModel.getProperty(\"/configuration/advancedFormattingOptions/targetFormatterProperty\")).toBe(\"net_amount\");\n\t\texpect(oDialogModel.getProperty(\"/configuration/advancedFormattingOptions/sourceUoMProperty\")).toBe(\"net_amount\");\n\t\texpect(oDialogModel.getProperty(\"/configuration/advancedFormattingOptions/targetProperty\")).toBe(\"testProperty\");\n\t\tCardGeneratorDialogController.onFormatTypeSelection(event, event.getSource());\n\t\texpect(oDialogModel.getProperty(\"/configuration/popoverContentType\")).toBe(\"criticality\");\n\t\toDialogModel.setProperty(\"/configuration/mainIndicatorStatusKey\", \"business\");\n\t\toDialogModel.setProperty(\"/configuration/mainIndicatorNavigationSelectedKey\", \"netValue\");\n\t});\n\ttest(\"should append navigation key to mainIndicatorStatusKey when both are set and '/' not present\", async () => {\n\t\t// Arrange\n\t\toDialogModel.setProperty(\"/configuration/mainIndicatorStatusKey\", \"net_amount\");\n\t\toDialogModel.setProperty(\"/configuration/mainIndicatorNavigationSelectedKey\", \"netValue\");\n\n\t\tconst event = {\n\t\t\tgetSource: jest.fn().mockReturnValue({\n\t\t\t\taddDependent: jest.fn(),\n\t\t\t\tgetBindingContext: jest.fn(),\n\t\t\t\tgetParent: jest.fn(),\n\t\t\t\tgetId: jest.fn().mockReturnValue(\"cardGeneratorDialog--cardGeneratorDialog--net_amount\")\n\t\t\t}),\n\t\t\tgetParameter: jest.fn().mockReturnValue({\n\t\t\t\tgetKey: jest.fn().mockReturnValue(\"criticality\")\n\t\t\t})\n\t\t};\n\n\t\t// Act\n\t\tCardGeneratorDialogController.onPropertyFormatting(event);\n\n\t\t// Assert\n\t\texpect(oDialogModel.getProperty(\"/configuration/advancedFormattingOptions/targetFormatterProperty\")).toBe(\"net_amount/netValue\");\n\t\texpect(oDialogModel.getProperty(\"/configuration/advancedFormattingOptions/sourceUoMProperty\")).toBe(\"net_amount/netValue\");\n\t});\n});\n\ndescribe(\"Set and Reset information state when item is added to preview\", () => {\n\tlet renderCardPreviewMock: jest.Mock;\n\tlet getCurrentCardManifestMock = getCurrentCardManifest as jest.Mock;\n\tlet getPreviewItemsMock = getPreviewItems as jest.Mock;\n\tlet setPropertyMock: jest.Mock;\n\tlet coreElementGetElementByIdSpy: jest.SpyInstance;\n\n\tconst oDialogModel = new JSONModel({\n\t\tconfiguration: {\n\t\t\tproperties: [\n\t\t\t\t{\n\t\t\t\t\tname: \"net_amount\",\n\t\t\t\t\ttype: \"Edm.Int32\"\n\t\t\t\t}\n\t\t\t],\n\t\t\tadvancedFormattingOptions: {\n\t\t\t\tunitOfMeasures: [\n\t\t\t\t\t{\n\t\t\t\t\t\tname: \"net_amount\",\n\t\t\t\t\t\tvalueState: ValueState.Information\n\t\t\t\t\t}\n\t\t\t\t],\n\t\t\t\ttextArrangements: [],\n\t\t\t\tpropertyValueFormatters: []\n\t\t\t},\n\t\t\ttrendOptions: {\n\t\t\t\tsourceProperty: \"\"\n\t\t\t},\n\t\t\tindicatorsValue: {},\n\t\t\tselectedIndicatorOptions: [],\n\t\t\tmainIndicatorStatusKey: \"net_amount\",\n\t\t\tnavigationProperty: [],\n\t\t\tselectedNavigationProperties: {\n\t\t\t\tname: \"\",\n\t\t\t\tvalue: []\n\t\t\t}\n\t\t}\n\t});\n\tconst getResourceBundleMock = jest.fn().mockReturnValue({\n\t\tgetResourceBundle: jest.fn().mockReturnValue({\n\t\t\tgetText: jest.fn().mockImplementation((key) => {\n\t\t\t\tif (key === \"UNSELECTED_ITEM\") {\n\t\t\t\t\treturn \"The card preview doesn't show this value because the field isn't configured.\";\n\t\t\t\t}\n\t\t\t\treturn \"\";\n\t\t\t})\n\t\t})\n\t});\n\n\tconst oDialog = {\n\t\tgetModel: (type?: string) => {\n\t\t\tif (type && type === \"i18n\") {\n\t\t\t\treturn getResourceBundleMock();\n\t\t\t} else {\n\t\t\t\treturn oDialogModel;\n\t\t\t}\n\t\t},\n\t\topen: jest.fn(),\n\t\tsetModel: jest.fn(),\n\t\tclose: jest.fn()\n\t};\n\n\tbeforeAll(() => {\n\t\tcoreElementGetElementByIdSpy = jest.spyOn(CoreElement, \"getElementById\");\n\t\tcoreElementGetElementByIdSpy.mockImplementation((id) => {\n\t\t\tif (id === \"cardGeneratorDialog--cardGeneratorDialog\") {\n\t\t\t\treturn oDialog;\n\t\t\t}\n\t\t});\n\t});\n\n\tafterAll(() => {\n\t\tcoreElementGetElementByIdSpy.mockRestore();\n\t});\n\n\tbeforeEach(() => {\n\t\trenderCardPreviewMock = renderCardPreview as jest.Mock;\n\t\tgetCurrentCardManifestMock = getCurrentCardManifest as jest.Mock;\n\t\tsetPropertyMock = jest.fn();\n\t\toDialogModel.setProperty = setPropertyMock;\n\t\tCardGeneratorDialogController.initialize();\n\t});\n\n\tafterEach(() => {\n\t\tjest.clearAllMocks();\n\t});\n\n\ttest(\"Resets info state when property exists in preview\", async () => {\n\t\tconst setValueStateMock = jest.fn();\n\t\tconst setValueStateTextMock = jest.fn();\n\n\t\tconst oEvent = {\n\t\t\tgetSource: jest.fn().mockReturnValue({\n\t\t\t\tgetSelectedKey: jest.fn().mockReturnValue(\"net_amount\"),\n\t\t\t\tsetValueState: setValueStateMock,\n\t\t\t\tsetValueStateText: setValueStateTextMock,\n\t\t\t\tgetValue: jest.fn().mockReturnValue(\"Net Amount (6938.00)\")\n\t\t\t}),\n\t\t\tgetParameter: jest.fn().mockReturnValue(\"net_amount\")\n\t\t};\n\t\tgetPreviewItemsMock.mockReturnValue([\"net_amount\"]);\n\n\t\tawait CardGeneratorDialogController.onStateIndicatorSelection(oEvent);\n\t\texpect(setPropertyMock).toHaveBeenCalledWith(\n\t\t\t\"/configuration/advancedFormattingOptions/unitOfMeasures/0/valueState\",\n\t\t\tValueState.None\n\t\t);\n\t\texpect(setPropertyMock).toHaveBeenCalledWith(\"/configuration/advancedFormattingOptions/unitOfMeasures/0/valueStateText\", \"\");\n\t});\n\n\ttest(\"Sets value state to Infromation when property does not exist in preview\", async () => {\n\t\tconst setValueStateMock = jest.fn();\n\t\tconst setValueStateTextMock = jest.fn();\n\n\t\tconst oEvent = {\n\t\t\tgetSource: jest.fn().mockReturnValue({\n\t\t\t\tgetSelectedKey: jest.fn().mockReturnValue(\"bp_id\"),\n\t\t\t\tsetValueState: setValueStateMock,\n\t\t\t\tsetValueStateText: setValueStateTextMock,\n\t\t\t\tgetValue: jest.fn().mockReturnValue(\"bp_id\")\n\t\t\t}),\n\t\t\tgetParameter: jest.fn().mockReturnValue(\"bp_id\")\n\t\t};\n\t\tgetPreviewItemsMock.mockReturnValue([\"bp_id\"]);\n\t\toDialogModel.oData.configuration.advancedFormattingOptions.unitOfMeasures[0].name = \"createdByUser\";\n\t\toDialogModel.oData.configuration.advancedFormattingOptions.unitOfMeasures[0].valueState = ValueState.None;\n\n\t\tawait CardGeneratorDialogController.onStateIndicatorSelection(oEvent);\n\t\texpect(setPropertyMock).toHaveBeenCalledWith(\n\t\t\t\"/configuration/advancedFormattingOptions/unitOfMeasures/0/valueState\",\n\t\t\tValueState.Information\n\t\t);\n\t\texpect(setPropertyMock).toHaveBeenCalledWith(\n\t\t\t\"/configuration/advancedFormattingOptions/unitOfMeasures/0/valueStateText\",\n\t\t\t\"The card preview doesn't show this value because the field isn't configured.\"\n\t\t);\n\t});\n});\n\ndescribe(\"Set and Reset information state when navigation property is added to preview\", () => {\n\tlet renderCardPreviewMock: jest.Mock;\n\tlet getCurrentCardManifestMock = getCurrentCardManifest as jest.Mock;\n\tlet getPreviewItemsMock = getPreviewItems as jest.Mock;\n\tlet setPropertyMock: jest.Mock;\n\tlet coreElementGetElementByIdSpy: jest.SpyInstance;\n\n\tconst oDialogModel = new JSONModel({\n\t\tconfiguration: {\n\t\t\tproperties: [\n\t\t\t\t{\n\t\t\t\t\tname: \"net_amount\",\n\t\t\t\t\ttype: \"Edm.Int32\"\n\t\t\t\t}\n\t\t\t],\n\t\t\tadvancedFormattingOptions: {\n\t\t\t\tunitOfMeasures: [\n\t\t\t\t\t{\n\t\t\t\t\t\tpropertyKeyForId: \"to_BillingStatus\",\n\t\t\t\t\t\tname: \"to_BillingStatus/Status\",\n\t\t\t\t\t\tvalueState: ValueState.Information,\n\t\t\t\t\t\tvalueStateText: \"The card preview doesn't show this value because the field isn't configured.\",\n\t\t\t\t\t\tnavigationalPropertiesForId: [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tlabel: \"Lower Value\",\n\t\t\t\t\t\t\t\ttype: \"Edm.String\",\n\t\t\t\t\t\t\t\tname: \"Status\",\n\t\t\t\t\t\t\t\tlabelWithValue: \"Lower Value (<empty>)\"\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tlabel: \"Confirmation\",\n\t\t\t\t\t\t\t\ttype: \"Edm.String\",\n\t\t\t\t\t\t\t\tname: \"Status_Text\",\n\t\t\t\t\t\t\t\tlabelWithValue: \"Confirmation (Initial)\"\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t],\n\t\t\t\t\t\tisNavigationForId: true,\n\t\t\t\t\t\tnavigationKeyForId: \"Status\",\n\t\t\t\t\t\tnavigationValueState: ValueState.Information,\n\t\t\t\t\t\tnavigationValueStateText: \"The card preview doesn't show this value because the field isn't configured.\"\n\t\t\t\t\t}\n\t\t\t\t],\n\t\t\t\ttextArrangements: [],\n\t\t\t\tpropertyValueFormatters: []\n\t\t\t},\n\t\t\ttrendOptions: {\n\t\t\t\tsourceProperty: \"\"\n\t\t\t},\n\t\t\tindicatorsValue: {},\n\t\t\tselectedIndicatorOptions: [],\n\t\t\tmainIndicatorStatusKey: \"\",\n\t\t\tnavigationProperty: [],\n\t\t\tselectedNavigationProperties: {\n\t\t\t\tname: \"\",\n\t\t\t\tvalue: []\n\t\t\t}\n\t\t}\n\t});\n\tconst getResourceBundleMock = jest.fn().mockReturnValue({\n\t\tgetResourceBundle: jest.fn().mockReturnValue({\n\t\t\tgetText: jest.fn().mockImplementation((key) => {\n\t\t\t\tif (key === \"UNSELECTED_ITEM\") {\n\t\t\t\t\treturn \"The card preview doesn't show this value because the field isn't configured.\";\n\t\t\t\t}\n\t\t\t\treturn \"\";\n\t\t\t})\n\t\t})\n\t});\n\n\tconst oDialog = {\n\t\tgetModel: (type?: string) => {\n\t\t\tif (type && type === \"i18n\") {\n\t\t\t\treturn getResourceBundleMock();\n\t\t\t} else {\n\t\t\t\treturn oDialogModel;\n\t\t\t}\n\t\t},\n\t\topen: jest.fn(),\n\t\tsetModel: jest.fn(),\n\t\tclose: jest.fn()\n\t};\n\n\tbeforeAll(() => {\n\t\tcoreElementGetElementByIdSpy = jest.spyOn(CoreElement, \"getElementById\");\n\t\tcoreElementGetElementByIdSpy.mockImplementation((id) => {\n\t\t\tif (id === \"cardGeneratorDialog--cardGeneratorDialog\") {\n\t\t\t\treturn oDialog;\n\t\t\t}\n\t\t});\n\t});\n\n\tafterAll(() => {\n\t\tcoreElementGetElementByIdSpy.mockRestore();\n\t});\n\n\tbeforeEach(() => {\n\t\trenderCardPreviewMock = renderCardPreview as jest.Mock;\n\t\tgetCurrentCardManifestMock = getCurrentCardManifest as jest.Mock;\n\t\tsetPropertyMock = jest.fn();\n\t\toDialogModel.setProperty = setPropertyMock;\n\t\tCardGeneratorDialogController.initialize();\n\t});\n\n\tafterEach(() => {\n\t\tjest.clearAllMocks();\n\t});\n\n\ttest(\"Resets info state when navigational property exists in preview\", async () => {\n\t\tconst setValueStateMock = jest.fn();\n\t\tconst setValueStateTextMock = jest.fn();\n\n\t\tconst oEvent = {\n\t\t\tgetSource: jest.fn().mockReturnValue({\n\t\t\t\tgetSelectedKey: jest.fn().mockReturnValue(\"to_BillingStatus/Status\"),\n\t\t\t\tsetValueState: setValueStateMock,\n\t\t\t\tsetValueStateText: setValueStateTextMock,\n\t\t\t\tgetValue: jest.fn().mockReturnValue(\"Value (Initial)\")\n\t\t\t}),\n\t\t\tgetParameter: jest.fn().mockReturnValue(\"net_amount\")\n\t\t};\n\t\tgetPreviewItemsMock.mockReturnValue([\"to_BillingStatus/Status\"]);\n\n\t\tawait CardGeneratorDialogController.onStateIndicatorSelection(oEvent);\n\t\texpect(setPropertyMock).toHaveBeenCalledWith(\n\t\t\t\"/configuration/advancedFormattingOptions/unitOfMeasures/0/valueState\",\n\t\t\tValueState.None\n\t\t);\n\t\texpect(setPropertyMock).toHaveBeenCalledWith(\"/configuration/advancedFormattingOptions/unitOfMeasures/0/valueStateText\", \"\");\n\t\texpect(setPropertyMock).toHaveBeenCalledWith(\n\t\t\t\"/configuration/advancedFormattingOptions/unitOfMeasures/0/navigationValueState\",\n\t\t\tValueState.None\n\t\t);\n\t\texpect(setPropertyMock).toHaveBeenCalledWith(\n\t\t\t\"/configuration/advancedFormattingOptions/unitOfMeasures/0/navigationValueStateText\",\n\t\t\t\"\"\n\t\t);\n\t});\n\n\ttest(\"Sets value state to Infromation when property does not exist in preview\", async () => {\n\t\tconst setValueStateMock = jest.fn();\n\t\tconst setValueStateTextMock = jest.fn();\n\n\t\tconst oEvent = {\n\t\t\tgetSource: jest.fn().mockReturnValue({\n\t\t\t\tgetSelectedKey: jest.fn().mockReturnValue(\"someotherKey\"),\n\t\t\t\tsetValueState: setValueStateMock,\n\t\t\t\tsetValueStateText: setValueStateTextMock,\n\t\t\t\tgetValue: jest.fn().mockReturnValue(\"Value (Initial)\")\n\t\t\t}),\n\t\t\tgetParameter: jest.fn().mockReturnValue(\"\")\n\t\t};\n\t\tgetPreviewItemsMock.mockReturnValue([\"someotherKey\"]);\n\t\toDialogModel.oData.configuration.advancedFormattingOptions.unitOfMeasures[0].valueState = ValueState.None;\n\t\toDialogModel.oData.configuration.advancedFormattingOptions.unitOfMeasures[0].valueStateText = \"\";\n\t\toDialogModel.oData.configuration.advancedFormattingOptions.unitOfMeasures[0].navigationValueState = ValueState.None;\n\t\toDialogModel.oData.configuration.advancedFormattingOptions.unitOfMeasures[0].navigationValueStateText = \"\";\n\n\t\tawait CardGeneratorDialogController.onStateIndicatorSelection(oEvent);\n\t\texpect(setPropertyMock).toHaveBeenCalledWith(\n\t\t\t\"/configuration/advancedFormattingOptions/unitOfMeasures/0/valueState\",\n\t\t\tValueState.Information\n\t\t);\n\t\texpect(setPropertyMock).toHaveBeenCalledWith(\n\t\t\t\"/configuration/advancedFormattingOptions/unitOfMeasures/0/valueStateText\",\n\t\t\t\"The card preview doesn't show this value because the field isn't configured.\"\n\t\t);\n\t\texpect(setPropertyMock).toHaveBeenCalledWith(\n\t\t\t\"/configuration/advancedFormattingOptions/unitOfMeasures/0/navigationValueState\",\n\t\t\tValueState.Information\n\t\t);\n\t\texpect(setPropertyMock).toHaveBeenCalledWith(\n\t\t\t\"/configuration/advancedFormattingOptions/unitOfMeasures/0/navigationValueStateText\",\n\t\t\t\"The card preview doesn't show this value because the field isn't configured.\"\n\t\t);\n\t});\n});\n\ndescribe(\"onBeforeDialogClosed\", () => {\n\tlet oEvent: any;\n\tlet coreElementGetElementByIdSpy: jest.SpyInstance;\n\n\tconst oDialogModel = new JSONModel({\n\t\tconfiguration: {\n\t\t\tisEdited: true\n\t\t}\n\t});\n\tconst getResourceBundleMock = jest.fn().mockReturnValue({\n\t\tgetResourceBundle: jest.fn().mockReturnValue({\n\t\t\tgetText: jest.fn().mockImplementation((key) => {\n\t\t\t\tif (key === \"GENERATOR_UNSAVED_CHANGE_WARNING\") return \"Unsaved changes warning\";\n\t\t\t\treturn \"\";\n\t\t\t})\n\t\t})\n\t});\n\toEvent = {\n\t\tpreventDefault: jest.fn()\n\t};\n\tconst oDialog = {\n\t\tgetModel: (type?: string) => {\n\t\t\tif (type && type === \"i18n\") {\n\t\t\t\treturn getResourceBundleMock();\n\t\t\t} else {\n\t\t\t\treturn oDialogModel;\n\t\t\t}\n\t\t},\n\t\tclose: jest.fn()\n\t};\n\n\tbeforeAll(() => {\n\t\tcoreElementGetElementByIdSpy = jest.spyOn(CoreElement, \"getElementById\");\n\t\tcoreElementGetElementByIdSpy.mockImplementation((id) => {\n\t\t\tif (id === \"cardGeneratorDialog--cardGeneratorDialog\") {\n\t\t\t\treturn oDialog;\n\t\t\t}\n\t\t});\n\t});\n\n\tafterAll(() => {\n\t\tcoreElementGetElementByIdSpy.mockRestore();\n\t});\n\n\tbeforeEach(() => {\n\t\tCardGeneratorDialogController.initialize();\n\t});\n\n\tafterEach(() => {\n\t\tjest.clearAllMocks();\n\t});\n\n\ttest(\"should show warning and prevent default if dialog is edited\", () => {\n\t\tCardGeneratorDialogController.onBeforeDialogClosed(oEvent);\n\t\texpect(oDialogModel.getProperty(\"/configuration/isEdited\")).toBe(true);\n\t\texpect(oEvent.preventDefault).toHaveBeenCalled();\n\t});\n\n\ttest(\"should not show warning or prevent default if dialog is not edited\", () => {\n\t\toDialogModel.setProperty(\"/configuration/isEdited\", false);\n\t\texpect(oEvent.preventDefault).not.toHaveBeenCalled();\n\t});\n});\n"],"mappings":"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","ignoreList":[]}