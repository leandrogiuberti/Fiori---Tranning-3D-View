{"version":3,"file":"CompactFormatterSelection.spec.js","names":["sap","ui","define","deepClone","CompactFormatterSelection","CheckBox","Input","Select","StepInput","jest","mock","resolvePath","getFormatterConfiguration","fn","mockReturnValue","formatterName","displayName","parameters","name","type","defaultValue","properties","visible","describe","compactFormatterSelection","formattersMap","property","selected","value","defaultSelectedKey","options","selectedKey","beforeEach","settings","formatters","getModel","getObject","path","getProperty","setProperty","getData","configuration","getFormatters","fireEvent","setAggregation","setFormatters","afterEach","clearAllMocks","destroy","test","control","getType","_deleteButton","setVisible","_applyButton","rm","openStart","openEnd","renderControl","close","renderer","render","expect","toHaveBeenCalled","toHaveBeenCalledWith","_selectorControl","_List","_refreshControl","expectedUpdatedFormatter","createControl","toMatchSnapshot","context","_createParametersControl","aggregationItems","getAggregation","Array","isArray","toBeTruthy","input_1","input_2","input_3","input_4","eventMock","getSource","getSelectedKey","mockGetFormatterConfiguration","onFormatterSelected","targetProperty","formatter","Object","assign","model","applyFormatter","propertyValueFormatters","deleteFormatter"],"sources":["CompactFormatterSelection.spec.ts"],"sourcesContent":["/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n *  * (c) Copyright 2009-2025 SAP SE. All rights reserved\n */\nimport deepClone from \"sap/base/util/deepClone\";\nimport CompactFormatterSelection from \"sap/cards/ap/generator/app/controls/CompactFormatterSelection\";\nimport type { FormatterConfigurationMap } from \"sap/cards/ap/generator/helpers/Formatter\";\nimport CheckBox from \"sap/m/CheckBox\";\nimport Input from \"sap/m/Input\";\nimport Select from \"sap/m/Select\";\nimport StepInput from \"sap/m/StepInput\";\nimport Event from \"sap/ui/base/Event\";\nimport RenderManager from \"sap/ui/core/RenderManager\";\nimport JSONModel from \"sap/ui/model/json/JSONModel\";\n\ndeclare namespace sap {\n\texport namespace jest {\n\t\tfunction resolvePath(path: string): string;\n\t}\n}\n\njest.mock(sap.jest.resolvePath(\"sap/cards/ap/generator/config/FormatterOptions\"), () => {\n\treturn {\n\t\tgetFormatterConfiguration: jest.fn().mockReturnValue([\n\t\t\t{\n\t\t\t\tformatterName: \"format.date\",\n\t\t\t\tdisplayName: \"Format Date\",\n\t\t\t\tparameters: [\n\t\t\t\t\t{\n\t\t\t\t\t\tname: \"options\",\n\t\t\t\t\t\tdisplayName: \"Options\",\n\t\t\t\t\t\ttype: \"object\",\n\t\t\t\t\t\tdefaultValue: \"\",\n\t\t\t\t\t\tproperties: [{ name: \"UTC\", displayName: \"UTC\", type: \"boolean\", defaultValue: false }]\n\t\t\t\t\t}\n\t\t\t\t],\n\t\t\t\ttype: \"Date\",\n\t\t\t\tvisible: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tformatterName: \"format.percent\",\n\t\t\t\tdisplayName: \"Format Percent\",\n\t\t\t\tparameters: [],\n\t\t\t\ttype: \"numeric\",\n\t\t\t\tvisible: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tformatterName: \"extension.formatters.formatWithPercentage\",\n\t\t\t\tdisplayName: \"Format Value with Percentage\",\n\t\t\t\tparameters: [],\n\t\t\t\ttype: \"string\",\n\t\t\t\tvisible: true\n\t\t\t}\n\t\t])\n\t};\n});\n\ndescribe(\"CompactFormatterSelection\", () => {\n\tlet compactFormatterSelection: CompactFormatterSelection;\n\tconst formattersMap: FormatterConfigurationMap = [\n\t\t{\n\t\t\tproperty: \"created_at\",\n\t\t\tformatterName: \"format.dateTime\",\n\t\t\tdisplayName: \"Date/Time\",\n\t\t\tparameters: [\n\t\t\t\t{\n\t\t\t\t\tname: \"options\",\n\t\t\t\t\tdisplayName: \"Options\",\n\t\t\t\t\ttype: \"object\",\n\t\t\t\t\tdefaultValue: \"\",\n\t\t\t\t\tproperties: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: \"relative\",\n\t\t\t\t\t\t\tdisplayName: \"Relative\",\n\t\t\t\t\t\t\ttype: \"boolean\",\n\t\t\t\t\t\t\tdefaultValue: false\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: \"UTC\",\n\t\t\t\t\t\t\tdisplayName: \"UTC\",\n\t\t\t\t\t\t\ttype: \"boolean\",\n\t\t\t\t\t\t\tdefaultValue: false,\n\t\t\t\t\t\t\tselected: true\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t],\n\t\t\ttype: \"Date\",\n\t\t\tvisible: true\n\t\t},\n\t\t{\n\t\t\tproperty: \"changed_at\",\n\t\t\tformatterName: \"format.dateTime\",\n\t\t\tdisplayName: \"Date/Time\",\n\t\t\tparameters: [\n\t\t\t\t{\n\t\t\t\t\tname: \"options\",\n\t\t\t\t\tdisplayName: \"Options\",\n\t\t\t\t\ttype: \"object\",\n\t\t\t\t\tdefaultValue: \"\",\n\t\t\t\t\tproperties: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: \"relative\",\n\t\t\t\t\t\t\tdisplayName: \"Relative\",\n\t\t\t\t\t\t\ttype: \"boolean\",\n\t\t\t\t\t\t\tdefaultValue: false\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: \"UTC\",\n\t\t\t\t\t\t\tdisplayName: \"UTC\",\n\t\t\t\t\t\t\ttype: \"boolean\",\n\t\t\t\t\t\t\tdefaultValue: false,\n\t\t\t\t\t\t\tselected: true\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t],\n\t\t\ttype: \"Date\",\n\t\t\tvisible: true\n\t\t},\n\t\t{\n\t\t\tproperty: \"gross_amount\",\n\t\t\tformatterName: \"format.unit\",\n\t\t\tdisplayName: \"\",\n\t\t\tparameters: [\n\t\t\t\t{\n\t\t\t\t\tname: \"type\",\n\t\t\t\t\tdisplayName: \"\",\n\t\t\t\t\ttype: \"string\",\n\t\t\t\t\tdefaultValue: \"\",\n\t\t\t\t\tvalue: \"${currency_code}\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: \"options\",\n\t\t\t\t\tdisplayName: \"Options\",\n\t\t\t\t\ttype: \"object\",\n\t\t\t\t\tdefaultValue: \"\",\n\t\t\t\t\tproperties: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: \"decimals\",\n\t\t\t\t\t\t\tdisplayName: \"Decimals\",\n\t\t\t\t\t\t\ttype: \"number\",\n\t\t\t\t\t\t\tdefaultValue: 2,\n\t\t\t\t\t\t\tvalue: 1\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: \"style\",\n\t\t\t\t\t\t\tdisplayName: \"Style\",\n\t\t\t\t\t\t\ttype: \"enum\",\n\t\t\t\t\t\t\tdefaultSelectedKey: \"short\",\n\t\t\t\t\t\t\toptions: [\n\t\t\t\t\t\t\t\t{ value: \"short\", name: \"Short\" },\n\t\t\t\t\t\t\t\t{ value: \"long\", name: \"Long\" }\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\tselectedKey: \"long\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t],\n\t\t\ttype: \"numeric\",\n\t\t\tvisible: false\n\t\t}\n\t];\n\tbeforeEach(() => {\n\t\tconst settings = {\n\t\t\ttype: \"COMPACT\",\n\t\t\tformatters: {\n\t\t\t\tformatterName: \"format.date\",\n\t\t\t\tdisplayName: \"Format Date\",\n\t\t\t\tparameters: [\n\t\t\t\t\t{\n\t\t\t\t\t\tname: \"options\",\n\t\t\t\t\t\tdisplayName: \"Options\",\n\t\t\t\t\t\ttype: \"object\",\n\t\t\t\t\t\tdefaultValue: \"\",\n\t\t\t\t\t\tproperties: [{ name: \"UTC\", displayName: \"UTC\", type: \"boolean\", defaultValue: false }]\n\t\t\t\t\t}\n\t\t\t\t],\n\t\t\t\ttype: \"Date\",\n\t\t\t\tvisible: true\n\t\t\t}\n\t\t};\n\t\tcompactFormatterSelection = new CompactFormatterSelection(settings);\n\t\tcompactFormatterSelection.getModel = jest.fn().mockReturnValue({\n\t\t\tgetObject: jest.fn((path) => {\n\t\t\t\tif (path === \"FORMATTER_CONTROL_APPLY\") {\n\t\t\t\t\treturn \"Apply Formatter\";\n\t\t\t\t}\n\t\t\t}),\n\t\t\tgetProperty: jest.fn((path) => {\n\t\t\t\tif (path === \"/configuration/advancedFormattingOptions/targetFormatterProperty\") {\n\t\t\t\t\treturn \"created_at\";\n\t\t\t\t} else if (path === \"/configuration/advancedFormattingOptions/propertyValueFormatters\") {\n\t\t\t\t\treturn formattersMap[0];\n\t\t\t\t}\n\t\t\t}),\n\t\t\tsetProperty: jest.fn(),\n\t\t\tgetData: jest.fn().mockReturnValue({\n\t\t\t\tconfiguration: {\n\t\t\t\t\tproperties: [{ name: \"created_at\", type: \"Edm.DateTimeOffset\" }]\n\t\t\t\t}\n\t\t\t})\n\t\t});\n\t\tcompactFormatterSelection.getFormatters = jest.fn().mockReturnValue([\n\t\t\t{\n\t\t\t\tproperty: \"created_at\",\n\t\t\t\tformatterName: \"format.dateTime\",\n\t\t\t\tdisplayName: \"Date/Time\",\n\t\t\t\tparameters: [\n\t\t\t\t\t{\n\t\t\t\t\t\tname: \"options\",\n\t\t\t\t\t\tdisplayName: \"Options\",\n\t\t\t\t\t\ttype: \"object\",\n\t\t\t\t\t\tdefaultValue: \"\",\n\t\t\t\t\t\tproperties: [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tname: \"relative\",\n\t\t\t\t\t\t\t\tdisplayName: \"Relative\",\n\t\t\t\t\t\t\t\ttype: \"boolean\",\n\t\t\t\t\t\t\t\tdefaultValue: false\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tname: \"UTC\",\n\t\t\t\t\t\t\t\tdisplayName: \"UTC\",\n\t\t\t\t\t\t\t\ttype: \"boolean\",\n\t\t\t\t\t\t\t\tdefaultValue: false,\n\t\t\t\t\t\t\t\tselected: true\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t]\n\t\t\t\t\t}\n\t\t\t\t],\n\t\t\t\ttype: \"Date\",\n\t\t\t\tvisible: true\n\t\t\t}\n\t\t]);\n\t\tcompactFormatterSelection.fireEvent = jest.fn();\n\t\tcompactFormatterSelection.setAggregation = jest.fn();\n\t\tcompactFormatterSelection.setProperty = jest.fn();\n\t\tcompactFormatterSelection.setFormatters(formattersMap);\n\t});\n\n\tafterEach(() => {\n\t\tjest.clearAllMocks();\n\t\tcompactFormatterSelection.destroy();\n\t});\n\n\ttest(\"renderer renders controls correctly\", () => {\n\t\tconst control = {\n\t\t\tgetType: jest.fn().mockReturnValue(\"COMPACT\"),\n\t\t\t_deleteButton: { setVisible: jest.fn() },\n\t\t\t_applyButton: { setVisible: jest.fn() }\n\t\t};\n\t\tconst rm: RenderManager = {\n\t\t\topenStart: jest.fn(),\n\t\t\topenEnd: jest.fn(),\n\t\t\trenderControl: jest.fn(),\n\t\t\tclose: jest.fn()\n\t\t};\n\t\tCompactFormatterSelection.renderer.render(rm, control);\n\n\t\texpect(control.getType).toHaveBeenCalled();\n\t\texpect(rm.openStart).toHaveBeenCalledWith(\"div\", control);\n\t\texpect(rm.openEnd).toHaveBeenCalled();\n\t\texpect(rm.renderControl).toHaveBeenCalledWith(control._selectorControl);\n\t\texpect(rm.renderControl).toHaveBeenCalledWith(control._deleteButton);\n\t\texpect(rm.renderControl).toHaveBeenCalledWith(control._List);\n\t\texpect(rm.renderControl).toHaveBeenCalledWith(control._applyButton);\n\t\texpect(rm.close).toHaveBeenCalledWith(\"div\");\n\t\t// Verify that _deleteButton.setVisible and _applyButton.setVisible are called with false when control type is 'COMPACT'\n\t\texpect(control._deleteButton.setVisible).toHaveBeenCalledWith(false);\n\t\texpect(control._applyButton.setVisible).toHaveBeenCalledWith(false);\n\t});\n\n\ttest(\"setFormatters() sets formatters property and updates controls accordingly\", () => {\n\t\tcompactFormatterSelection.setFormatters(formattersMap);\n\t\texpect(compactFormatterSelection.setAggregation).toHaveBeenCalledWith(\"_list\", compactFormatterSelection._List);\n\t\texpect(compactFormatterSelection.setProperty).toHaveBeenCalledWith(\"formatters\", formattersMap, true);\n\t});\n\n\ttest(\"setFormatters() check if the refreshControl is called with float formatter when selected formatter is - format.unit & second parameter is having value for decimal property\", () => {\n\t\tcompactFormatterSelection.getModel = jest.fn().mockReturnValue({\n\t\t\tgetObject: jest.fn((path) => {\n\t\t\t\tif (path === \"FORMATTER_CONTROL_APPLY\") {\n\t\t\t\t\treturn \"Apply Formatter\";\n\t\t\t\t} else if (path === \"FORMAT_FLOAT\") {\n\t\t\t\t\treturn \"Float\";\n\t\t\t\t}\n\t\t\t}),\n\t\t\tgetProperty: jest.fn((path) => {\n\t\t\t\tif (path === \"/configuration/advancedFormattingOptions/targetFormatterProperty\") {\n\t\t\t\t\treturn \"gross_amount\";\n\t\t\t\t}\n\t\t\t}),\n\t\t\tsetProperty: jest.fn(),\n\t\t\tgetData: jest.fn().mockReturnValue({\n\t\t\t\tconfiguration: {\n\t\t\t\t\tproperties: [{ name: \"gross_amount\", type: \"Edm.Decimal\" }]\n\t\t\t\t}\n\t\t\t})\n\t\t});\n\t\tcompactFormatterSelection._refreshControl = jest.fn();\n\t\tcompactFormatterSelection.setFormatters(formattersMap);\n\t\tconst expectedUpdatedFormatter = {\n\t\t\tformatterName: \"format.float\",\n\t\t\tdisplayName: \"Float\",\n\t\t\tparameters: [\n\t\t\t\t{\n\t\t\t\t\tname: \"options\",\n\t\t\t\t\tdisplayName: \"Options\",\n\t\t\t\t\ttype: \"object\",\n\t\t\t\t\tdefaultValue: \"\",\n\t\t\t\t\tproperties: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: \"decimals\",\n\t\t\t\t\t\t\tdisplayName: \"Decimals\",\n\t\t\t\t\t\t\ttype: \"number\",\n\t\t\t\t\t\t\tdefaultValue: 2,\n\t\t\t\t\t\t\tvalue: 1\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: \"style\",\n\t\t\t\t\t\t\tdisplayName: \"Style\",\n\t\t\t\t\t\t\ttype: \"enum\",\n\t\t\t\t\t\t\tdefaultSelectedKey: \"short\",\n\t\t\t\t\t\t\toptions: [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tvalue: \"short\",\n\t\t\t\t\t\t\t\t\tname: \"Short\"\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tvalue: \"long\",\n\t\t\t\t\t\t\t\t\tname: \"Long\"\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\tselectedKey: \"long\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t],\n\t\t\tproperty: \"gross_amount\",\n\t\t\ttype: \"numeric\",\n\t\t\tvisible: false\n\t\t};\n\t\texpect(compactFormatterSelection._refreshControl).toHaveBeenCalledWith(expectedUpdatedFormatter);\n\t});\n\n\ttest(\"setFormatters() check if the refreshControl is called with empty object when selected formatter is - format.unit & second parameter is not having value for decimal property\", () => {\n\t\tconst formattersMap: FormatterConfigurationMap = [\n\t\t\t{\n\t\t\t\tproperty: \"gross_amount\",\n\t\t\t\tformatterName: \"format.unit\",\n\t\t\t\tdisplayName: \"\",\n\t\t\t\tparameters: [\n\t\t\t\t\t{\n\t\t\t\t\t\tname: \"type\",\n\t\t\t\t\t\tdisplayName: \"\",\n\t\t\t\t\t\ttype: \"string\",\n\t\t\t\t\t\tdefaultValue: \"\",\n\t\t\t\t\t\tvalue: \"${currency_code}\"\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tname: \"options\",\n\t\t\t\t\t\tdisplayName: \"Options\",\n\t\t\t\t\t\ttype: \"object\",\n\t\t\t\t\t\tdefaultValue: \"\",\n\t\t\t\t\t\tproperties: [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tname: \"decimals\",\n\t\t\t\t\t\t\t\tdisplayName: \"Decimals\",\n\t\t\t\t\t\t\t\ttype: \"number\",\n\t\t\t\t\t\t\t\tdefaultValue: 2\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tname: \"style\",\n\t\t\t\t\t\t\t\tdisplayName: \"Style\",\n\t\t\t\t\t\t\t\ttype: \"enum\",\n\t\t\t\t\t\t\t\tdefaultSelectedKey: \"short\",\n\t\t\t\t\t\t\t\toptions: [\n\t\t\t\t\t\t\t\t\t{ value: \"short\", name: \"Short\" },\n\t\t\t\t\t\t\t\t\t{ value: \"long\", name: \"Long\" }\n\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t]\n\t\t\t\t\t}\n\t\t\t\t],\n\t\t\t\ttype: \"numeric\",\n\t\t\t\tvisible: false\n\t\t\t}\n\t\t];\n\t\tcompactFormatterSelection.getModel = jest.fn().mockReturnValue({\n\t\t\tgetObject: jest.fn((path) => {\n\t\t\t\tif (path === \"FORMATTER_CONTROL_APPLY\") {\n\t\t\t\t\treturn \"Apply Formatter\";\n\t\t\t\t} else if (path === \"FORMAT_FLOAT\") {\n\t\t\t\t\treturn \"Float\";\n\t\t\t\t}\n\t\t\t}),\n\t\t\tgetProperty: jest.fn((path) => {\n\t\t\t\tif (path === \"/configuration/advancedFormattingOptions/targetFormatterProperty\") {\n\t\t\t\t\treturn \"gross_amount\";\n\t\t\t\t}\n\t\t\t}),\n\t\t\tsetProperty: jest.fn(),\n\t\t\tgetData: jest.fn().mockReturnValue({\n\t\t\t\tconfiguration: {\n\t\t\t\t\tproperties: [{ name: \"gross_amount\", type: \"Edm.Decimal\" }]\n\t\t\t\t}\n\t\t\t})\n\t\t});\n\t\tcompactFormatterSelection._refreshControl = jest.fn();\n\t\tcompactFormatterSelection.setFormatters(formattersMap);\n\t\texpect(compactFormatterSelection._refreshControl).toHaveBeenCalledWith({});\n\t});\n\n\ttest(\"setFormatters- for navigation property\", () => {\n\t\tconst formattersMap: FormatterConfigurationMap = [\n\t\t\t{\n\t\t\t\tproperty: \"gross_amount\",\n\t\t\t\tformatterName: \"format.unit\",\n\t\t\t\tdisplayName: \"\",\n\t\t\t\tparameters: [\n\t\t\t\t\t{\n\t\t\t\t\t\tname: \"type\",\n\t\t\t\t\t\tdisplayName: \"\",\n\t\t\t\t\t\ttype: \"string\",\n\t\t\t\t\t\tdefaultValue: \"\",\n\t\t\t\t\t\tvalue: \"${currency_code}\"\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tname: \"options\",\n\t\t\t\t\t\tdisplayName: \"Options\",\n\t\t\t\t\t\ttype: \"object\",\n\t\t\t\t\t\tdefaultValue: \"\",\n\t\t\t\t\t\tproperties: [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tname: \"decimals\",\n\t\t\t\t\t\t\t\tdisplayName: \"Decimals\",\n\t\t\t\t\t\t\t\ttype: \"number\",\n\t\t\t\t\t\t\t\tdefaultValue: 2\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tname: \"style\",\n\t\t\t\t\t\t\t\tdisplayName: \"Style\",\n\t\t\t\t\t\t\t\ttype: \"enum\",\n\t\t\t\t\t\t\t\tdefaultSelectedKey: \"short\",\n\t\t\t\t\t\t\t\toptions: [\n\t\t\t\t\t\t\t\t\t{ value: \"short\", name: \"Short\" },\n\t\t\t\t\t\t\t\t\t{ value: \"long\", name: \"Long\" }\n\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t]\n\t\t\t\t\t}\n\t\t\t\t],\n\t\t\t\ttype: \"numeric\",\n\t\t\t\tvisible: false\n\t\t\t}\n\t\t];\n\t\tcompactFormatterSelection.getModel = jest.fn().mockReturnValue({\n\t\t\tgetObject: jest.fn((path) => {\n\t\t\t\tif (path === \"FORMATTER_CONTROL_APPLY\") {\n\t\t\t\t\treturn \"Apply Formatter\";\n\t\t\t\t} else if (path === \"FORMAT_FLOAT\") {\n\t\t\t\t\treturn \"Float\";\n\t\t\t\t}\n\t\t\t}),\n\t\t\tgetProperty: jest.fn((path) => {\n\t\t\t\tif (path === \"/configuration/advancedFormattingOptions/targetFormatterProperty\") {\n\t\t\t\t\treturn \"gross_amount/ID\";\n\t\t\t\t}\n\t\t\t}),\n\t\t\tsetProperty: jest.fn(),\n\t\t\tgetData: jest.fn().mockReturnValue({\n\t\t\t\tconfiguration: {\n\t\t\t\t\tproperties: [{ name: \"gross_amount/ID\", type: \"Edm.Decimal\" }]\n\t\t\t\t}\n\t\t\t})\n\t\t});\n\t\tcompactFormatterSelection._refreshControl = jest.fn();\n\t\tcompactFormatterSelection.setFormatters(formattersMap);\n\t\texpect(compactFormatterSelection._refreshControl).toHaveBeenCalledWith({});\n\t});\n\n\ttest(\"createControl sets up controls correctly\", () => {\n\t\tlet type = \"Edm.Date\";\n\t\tcompactFormatterSelection.createControl(type);\n\t\texpect((compactFormatterSelection._selectorControl.getModel() as JSONModel).getData()[\"formattersList\"]).toMatchSnapshot();\n\t\ttype = \"Edm.DateTimeOffset\";\n\t\tcompactFormatterSelection.createControl(type);\n\t\texpect((compactFormatterSelection._selectorControl.getModel() as JSONModel).getData()[\"formattersList\"]).toMatchSnapshot();\n\t\ttype = \"Edm.DateTime\";\n\t\tcompactFormatterSelection.createControl(type);\n\t\texpect((compactFormatterSelection._selectorControl.getModel() as JSONModel).getData()[\"formattersList\"]).toMatchSnapshot();\n\t\ttype = \"Edm.Decimal\";\n\t\tcompactFormatterSelection.createControl(type);\n\t\texpect((compactFormatterSelection._selectorControl.getModel() as JSONModel).getData()[\"formattersList\"]).toMatchSnapshot();\n\t\ttype = \"Edm.String\";\n\t\tcompactFormatterSelection.createControl(type);\n\t\texpect((compactFormatterSelection._selectorControl.getModel() as JSONModel).getData()[\"formattersList\"]).toMatchSnapshot();\n\t});\n\n\ttest(\"_createParametersControl: returns Text control for string propertytype\", () => {\n\t\tconst property = { type: \"string\" };\n\t\tconst context = { getProperty: jest.fn().mockReturnValue(property) };\n\t\tconst control = compactFormatterSelection._createParametersControl(\"id\", context);\n\t\tconst aggregationItems = control.getAggregation(\"items\");\n\t\tif (Array.isArray(aggregationItems)) {\n\t\t\texpect(aggregationItems[1] instanceof Input).toBeTruthy();\n\t\t}\n\t});\n\n\ttest(\"_createParametersControl: returns CheckBox control for boolean propertytype\", () => {\n\t\tconst property = { type: \"boolean\" };\n\t\tconst context = { getProperty: jest.fn().mockReturnValue(property) };\n\t\tconst control = compactFormatterSelection._createParametersControl(\"id\", context);\n\t\tconst aggregationItems = control.getAggregation(\"items\");\n\t\tif (Array.isArray(aggregationItems)) {\n\t\t\texpect(aggregationItems[1] instanceof CheckBox).toBeTruthy();\n\t\t}\n\t});\n\n\ttest(\"_createParametersControl: returns Select control for enum propertytype\", () => {\n\t\tconst property = {\n\t\t\ttype: \"enum\",\n\t\t\toptions: [\n\t\t\t\t{ name: \"Short\", value: \"short\" },\n\t\t\t\t{ name: \"Long\", value: \"long\" }\n\t\t\t]\n\t\t};\n\t\tconst context = { getProperty: jest.fn().mockReturnValue(property) };\n\t\tconst control = compactFormatterSelection._createParametersControl(\"id\", context);\n\t\tconst aggregationItems = control.getAggregation(\"items\");\n\t\tif (Array.isArray(aggregationItems)) {\n\t\t\texpect(aggregationItems[1] instanceof Select).toBeTruthy();\n\t\t}\n\t});\n\n\ttest(\"_createParametersControl: returns Input, Checkbox, Input, Select control for object propertytype with properties of type string, boolean, number, enum\", () => {\n\t\tconst property = {\n\t\t\ttype: \"object\",\n\t\t\tproperties: [\n\t\t\t\t{\n\t\t\t\t\tname: \"sImprovementDirection\",\n\t\t\t\t\tdisplayName: \"Improvement Direction\",\n\t\t\t\t\ttype: \"string\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: \"bIsDeviationLowBinding\",\n\t\t\t\t\tdisplayName: \"Deviation Low Binding\",\n\t\t\t\t\ttype: \"boolean\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: \"deviationLow\",\n\t\t\t\t\tdisplayName: \"Low Deviation\",\n\t\t\t\t\ttype: \"number\",\n\t\t\t\t\tdefaultValue: 0\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: \"style\",\n\t\t\t\t\tdisplayName: \"Style\",\n\t\t\t\t\ttype: \"enum\",\n\t\t\t\t\tdefaultSelectedKey: \"short\",\n\t\t\t\t\tselectedKey: \"short\",\n\t\t\t\t\toptions: [\n\t\t\t\t\t\t{ value: \"short\", name: \"Short\" },\n\t\t\t\t\t\t{ value: \"long\", name: \"Long\" }\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t]\n\t\t};\n\t\tconst context = { getProperty: jest.fn().mockReturnValue(property) };\n\t\tconst control = compactFormatterSelection._createParametersControl(\"id\", context);\n\t\tconst aggregationItems = control.getAggregation(\"items\");\n\t\tif (Array.isArray(aggregationItems)) {\n\t\t\tconst input_1 = aggregationItems[0].getAggregation(\"items\");\n\t\t\tconst input_2 = aggregationItems[1].getAggregation(\"items\");\n\t\t\tconst input_3 = aggregationItems[2].getAggregation(\"items\");\n\t\t\tconst input_4 = aggregationItems[3].getAggregation(\"items\");\n\t\t\tif (Array.isArray(input_1) && Array.isArray(input_2) && Array.isArray(input_3) && Array.isArray(input_4)) {\n\t\t\t\texpect(input_1[1] instanceof Input).toBeTruthy();\n\t\t\t\texpect(input_2[1] instanceof CheckBox).toBeTruthy();\n\t\t\t\texpect(input_3[1] instanceof StepInput).toBeTruthy();\n\t\t\t\texpect(input_4[1] instanceof Select).toBeTruthy();\n\t\t\t}\n\t\t}\n\t});\n\n\ttest(\"onFormatterSelected: updates control with selected formatter configuration\", () => {\n\t\tconst eventMock: Event = { getSource: jest.fn().mockReturnValue({ getSelectedKey: jest.fn().mockReturnValue(\"format.date\") }) };\n\t\tconst mockGetFormatterConfiguration = {\n\t\t\tformatterName: \"format.date\",\n\t\t\tdisplayName: \"Format Date\",\n\t\t\tparameters: [\n\t\t\t\t{\n\t\t\t\t\tname: \"options\",\n\t\t\t\t\tdisplayName: \"Options\",\n\t\t\t\t\ttype: \"object\",\n\t\t\t\t\tdefaultValue: \"\",\n\t\t\t\t\tproperties: [{ name: \"UTC\", displayName: \"UTC\", type: \"boolean\", defaultValue: false }]\n\t\t\t\t}\n\t\t\t],\n\t\t\ttype: \"Date\",\n\t\t\tvisible: true\n\t\t};\n\t\tcompactFormatterSelection._refreshControl = jest.fn();\n\t\tcompactFormatterSelection.onFormatterSelected(eventMock);\n\t\tconst targetProperty = (compactFormatterSelection.getModel() as JSONModel).getProperty(\n\t\t\t\"/configuration/advancedFormattingOptions/targetFormatterProperty\"\n\t\t);\n\t\tconst formatter = Object.assign({ property: targetProperty }, deepClone(mockGetFormatterConfiguration));\n\t\texpect(compactFormatterSelection._refreshControl).toHaveBeenCalledWith(formatter);\n\t});\n\n\ttest(\"onFormatterSelected: disable apply formatter button for invalid entry\", () => {\n\t\tconst model = compactFormatterSelection.getModel() as JSONModel;\n\t\tconst eventMock: Event = { getSource: jest.fn().mockReturnValue({ getSelectedKey: jest.fn().mockReturnValue(\"\") }) };\n\t\tcompactFormatterSelection.onFormatterSelected(eventMock);\n\t\texpect(model.setProperty).toHaveBeenCalledWith(\"/configuration/advancedFormattingOptions/isFormatterApplied\", false);\n\t});\n\n\ttest(\"applyFormatter: should update data and fire change event\", () => {\n\t\tcompactFormatterSelection.applyFormatter();\n\t\tconst propertyValueFormatters = (compactFormatterSelection.getModel() as JSONModel).getProperty(\n\t\t\t\"/configuration/advancedFormattingOptions/propertyValueFormatters\"\n\t\t);\n\t\texpect(compactFormatterSelection.fireEvent).toHaveBeenCalledWith(\"change\", { value: propertyValueFormatters });\n\t});\n\n\ttest(\"deleteFormatter: should delete the formatter applied and clear selected formatter from the dropdown\", () => {\n\t\tcompactFormatterSelection.deleteFormatter();\n\t\texpect(compactFormatterSelection.fireEvent).toHaveBeenCalledWith(\"change\", { value: [] });\n\t});\n});\n"],"mappings":"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","ignoreList":[]}