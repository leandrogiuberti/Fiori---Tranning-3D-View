<mvc:View
	controllerName="sap.gantt.sample.GanttChart2MinuteTimeline.Gantt"
	height="100%"
	xmlns="sap.gantt.simple"
	xmlns:axistime="sap.gantt.axistime"
	xmlns:config="sap.gantt.config"
	xmlns:core="sap.ui.core"
	xmlns:mvc="sap.ui.core.mvc"
	xmlns:m="sap.m"
	xmlns:shapes="sap.gantt.simple.shapes"
	xmlns:f="sap.ui.layout.form"
	xmlns:table="sap.ui.table"
	xmlns:rm="sap.ui.table.rowmodes"
	core:require="{DateTimeType: 'sap/ui/model/type/DateTime'}">
	<m:VBox>
		<f:SimpleForm id="form" editable="true" layout="ColumnLayout"
			columnsM="2" columnsL="3" columnsXL="3">
			<f:content>
				<m:Label text="Total Horizon" />
				<m:DateTimePicker id="tHorStartDate"
					value="{path:'view>/root/tHorizon/start', type:'DateTimeType'}">
					<m:layoutData>
						<f:ColumnElementData cellsSmall="6" cellsLarge="4" />
					</m:layoutData>
				</m:DateTimePicker>
				<m:DateTimePicker id="tHorEndDate"
					value="{path:'view>/root/tHorizon/end', type:'DateTimeType'}">
					<m:layoutData>
						<f:ColumnElementData cellsSmall="6" cellsLarge="4" />
					</m:layoutData>
				</m:DateTimePicker>
			</f:content>
		</f:SimpleForm>
	</m:VBox>
	<m:Panel height="calc(100% - 82px)">
		<GanttChartContainer enableStatusBar="true" height="75%" statusBarTimePattern="hh:mm:ss SSS a">
			<toolbar>
				<ContainerToolbar stepCountOfSlider="15" showSearchButton="false">
					<m:Label
						text="Proportion Zoom Strategy - 15 Zoom levels (Use Ctrl + Shift + MouseWheel to zoom)" />
				</ContainerToolbar>
			</toolbar>
			<GanttChartWithTable id="gantt1" shapeSelectionMode="Single">
				<axisTimeStrategy>
					<axistime:ProportionZoomStrategy enableMillisecondSupport="true"  zoomLevels="15"
						id="proportion">
						<axistime:totalHorizon>
							<config:TimeHorizon
								startTime="{path: 'view>/root/tHorizon/start', formatter: '.dateToAbapTimestamp'}"
								endTime="{path: 'view>/root/tHorizon/end', formatter: '.dateToAbapTimestamp'}" />
						</axistime:totalHorizon>
						<axistime:visibleHorizon>
							<config:TimeHorizon
								startTime="{path: 'view>/root/vHorizon/start', formatter: '.dateToAbapTimestamp'}"
								endTime="{path: 'view>/root/vHorizon/end', formatter: '.dateToAbapTimestamp'}" />
						</axistime:visibleHorizon>
					</axistime:ProportionZoomStrategy>
				</axisTimeStrategy>
				<table>
					<table:TreeTable
						selectionMode="Single"
						selectionBehavior="RowSelector"
						enableColumnReordering="true"
						rows="{
						path: '/root',
						parameters: {
							arrayNames: ['children'],
							numberOfExpandedLevels: 1
						}
					}">
						<table:columns>
							<table:Column>
								<m:Text text="Object Name"/>
								<table:template>
									<m:Label text="{text}"/>
								</table:template>
				            </table:Column>
						</table:columns>
						<table:rowMode>
							<rm:Auto minRowCount="12"/>
						</table:rowMode>
						<table:rowSettingsTemplate>
							<GanttRowSettings rowId="{id}"
								shapes1="{path: 'tasks', templateShareable:false}">
								<shapes1>
									<shapes:Task
										time="{path: 'startTime', formatter: '.fnTimeConverter'}" selectable="true"
										endTime="{path: 'endTime', formatter: '.fnTimeConverter'}"
										type="{type}" />
								</shapes1>
							</GanttRowSettings>
						</table:rowSettingsTemplate>
					</table:TreeTable>
				</table>
			</GanttChartWithTable>
		</GanttChartContainer>
	</m:Panel>

</mvc:View>
