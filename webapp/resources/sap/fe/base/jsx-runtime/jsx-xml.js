/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.define(["sap/fe/base/BindingToolkit"],function(e){"use strict";var t=e.compileExpression;function n(e){return e?._type!==undefined}const s=function(e){if(Array.isArray(e)){return e.join("")}else{return e}};function i(e){return e?.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}const o=function(e,t,n){if(n===undefined){return}if(!e[t]){e[t]=[]}if(typeof n==="string"){if(n.trim().length>0){e[t].push(n)}}else if(Array.isArray(n)){n.forEach(n=>{o(e,t,n)})}else{for(const t of Object.keys(n)){o(e,t,n[t])}}};const a=function(e){return!!e?.getMetadata};const r="fl:delegate";const c="dt:designtime";const l="core:require";const f="log:sourcePath";const u="customData:entityType";function p(e,t,n){const s=[];const o=[];Object.keys(e).forEach(n=>{const a=e[n];if(a!==undefined){if(typeof a==="object"){if(Array.isArray(a)){o.push(`<${n}>`);for(const e of a){o.push(p(e,t,n))}o.push(`</${n}>`)}else{o.push(p(a,t,n))}}else{s.push(`${n}='${i(a.toString())}'`)}}});const a=t?`${t}:${n}`:n;return`<${a} ${s.join(" ")}>${o.join("\n")}</${a}>`}function m(e,s,o,a,m,g){Object.keys(s).forEach(h=>{if(e.hasOwnProperty(h)&&e[h]!==undefined){const o=e[h];if(h===l){a.push(`xmlns:core="sap.ui.core"`)}if(h===r){a.push(`xmlns:fl="sap.ui.fl"`)}if(h===c){a.push(`xmlns:dt="sap.ui.dt"`)}if(h===f){a.push(`xmlns:log="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1"`)}if(h===u){a.push(`xmlns:customData="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1"`)}if(o&&typeof o==="object"){if(s[h].type==="sap.ui.model.Context"){a.push(`${h}='${o.getPath()}'`)}else if(n(o)){a.push(`${h}='${i(t(o))}'`)}else if(Array.isArray(o)){if(o.length===1){const e=typeof o[0]==="string"?o[0]:JSON.stringify(o[0]);a.push(`${h}='${e}'`)}else{const e=s[h].type?.endsWith("[]")?",":" ";const t=o.every(e=>typeof e==="string")?o.join(e):JSON.stringify(o);a.push(`${h}='${t}'`)}}else if(g){const e={ui5object:true,...o};a.push(`${h}='${i(JSON.stringify(e))}'`)}else{m.push(p(o,undefined,h))}}else if(o!==null){const e=o;a.push(`${h}='${i(e.toString())}'`)}}else if(e.children?.hasOwnProperty(h)&&Object.keys(e.children?.[h]??{}).length>0){const t=e.children?.[h];m.push(p(t,o,h))}})}function g(e,t){const n=e["jsx:command"];if(n){const[s,i]=n.split("|");const o=t[i];if(o&&s.startsWith("cmd:")){e[o.name]=s}}delete e["jsx:command"]}function h(e,t,n,a,r,c){const l={};o(l,a??"customData",e.children);const f=Object.keys(l);let u=false;if(f.length===1&&f[0]===a){u=true}Object.keys(t).forEach(t=>{if(l.hasOwnProperty(t)&&l[t].length>0){if(t===a&&u){c.push(`${s(l[t])}`)}else{c.push(`<${n}:${t}>\n\t\t\t\t\t\t${s(l[t])}\n\t\t\t\t\t</${n}:${t}>`)}}if(e.hasOwnProperty(t)&&e[t]!==undefined){if(typeof e[t]==="object"){r.push(`${t}='${JSON.stringify(e[t])}'`)}else{r.push(`${t}='${i(e[t])}'`)}}});return l}const d=function(e,t,n,s,i){let o;let p;let d;let $;let y;let j;let A=false;if(e==="slot"){return`<slot name="${t.name}"/>`}else if(a(e)){o=e.getMetadata();p=o.getAllProperties();p={...p,...o.getAllEvents(),...o.getAllAssociations()};d=o.getAllEvents();$=o.getName();y=o.getAllAggregations();j=o.getDefaultAggregationName();A=true}else{o=e.metadata;p={...o.properties};y={...{dependents:{},customData:{}},...o.aggregations};d={};j=o.defaultAggregation;$=o.namespace+"."+o.name}const x=$.split(".");if(n!==undefined){t["key"]=n}p["class"]={name:"class"};p["id"]={name:"id"};p["binding"]={name:"binding"};p[r]={name:r};p[c]={name:c};p[l]={name:l};p[f]={name:f};p[u]={name:u};p["xmlns:fl"]={name:r};p["xmlns:dt"]={name:c};p["xmlns:core"]={name:l};p["xmlns:log"]={name:f};if($==="sap.ui.core.Fragment"){p["fragmentName"]={name:"fragmentName"}}const O=x.slice(0,-1);const b=x[x.length-1];let k=O[O.length-1];if(s[O.join(".")]){k=s[O.join(".")]}let N=`${k}:${b}`;const D=[];const E=[];g(t,d);m(t,p,k,D,E,A);h(t,y,k,j,D,E);if(i){N=i}return`<${N} xmlns:${k}="${O.join(".")}" ${D.join(" ")}>${E.join("")}</${N}>`};return d},false);
//# sourceMappingURL=jsx-xml.js.map