/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.define(["sap/base/Log","sap/fe/base/BindingToolkit","sap/m/Text","sap/ui/base/BindingInfo","sap/ui/base/DataType","sap/ui/core/mvc/EventHandlerResolver"],function(e,t,n,s,i,o){"use strict";var a=t.isPathInModelExpression;var l=t.isConstant;var r=t.isBindingToolkitExpression;var f=t.compileExpression;var c=t.compileConstant;const d="fl:delegate";const p="core:require";const u="dt:designtime";const g=function(e,t,n){if(n===null||n===undefined||typeof n==="string"){return}if(!e[t]){e[t]=[]}if(m(n)){e[t].push(n)}else if(Array.isArray(n)){n.forEach(n=>{g(e,t,n)})}else if(typeof n==="function"){e[t]=n}else{Object.keys(n).forEach(t=>{g(e,t,n[t])})}};const m=function(e){return e?.isA?.("sap.ui.core.Element")};const h=function(e){return!!e?.getMetadata};function y(e,t){const n=e.getAllAggregations();const i=e.getDefaultAggregationName();const o={};g(o,i,t.children);delete t.children;Object.keys(n).forEach(e=>{if(o[e]!==undefined){if(t.hasOwnProperty(e)){if(typeof t[e]==="string"){const n=s.parse(t[e]);if(n){t[e]={path:n.path,model:n.model}}else{t[e]={path:t[e]}}}if(typeof o[e]==="function"){t[e].factory=o[e]}else{t[e].template=o[e][0]}}else{t[e]=o[e]}}})}function b(e,t,n,s){if(l(n)){e[t]=c(n,false,true,true)}else if(!Object.hasOwnProperty.call(s,t)){if(a(n)){e[t]={path:n.path,model:n.modelName}}}else{e[t]=f(n)}}function E(t,n,s,o,a,l){if(!s.startsWith("{")){if(Object.hasOwnProperty.call(o,n)){e.error(`Event handlers cannot be set as string in JSX, ${n} in ${l.getName()}`)}const r=a[n]?.getType?.();if(r&&r instanceof i&&["boolean","int","float"].includes(r.getName())){t[n]=r.parseValue(s)}}else{t[n]=s}}function v(e,t,n,s){if(n.then){s[t]=n;delete e[t]}else if(n.__bindingInfo){e[t]=n.__bindingInfo}}function j(e,t){let n;const s={};const i=e.getAllEvents();const o=e.getAllProperties();for(n in t){const a=t[n];if(r(a)){b(t,n,a,o)}else if(a!==null&&typeof a==="object"){v(t,n,a,s)}else if(typeof a==="string"){E(t,n,a,i,o,e)}else if(a===undefined){delete t[n]}}return s}function A(e,t){const n=t["jsx:command"];if(n){const[s,i]=n.split("|");const a=e.getAllEvents()[i];if(a&&s.startsWith("cmd:")){t[a.name]=o.resolveEventHandler(s)}}delete t["jsx:command"]}const O=function(t,i,o,a,l){let r;if(t?.isFragment){r=i.children}else if(h(t)){const n=t.getMetadata();if(o!==undefined){i["key"]=o}const a=j(n,i);A(n,i);y(n,i);const f=i.class;const c=i.ref;const g=i.binding;const m=i[d];const h=i[u];delete i.ref;delete i.class;delete i.binding;delete i[d];delete i[u];delete i[p];const b=new t(i,{...l});if(f){b.addStyleClass(f)}if(c){c.setCurrent(b)}const E=b.data("sap-ui-custom-settings")??{};if(m){E["sap.ui.fl"]??={};E["sap.ui.fl"].delegate=m}if(h){E["sap.ui.dt"]??={};E["sap.ui.dt"].designtime=h}if(Object.keys(E).length>0){b.data("sap-ui-custom-settings",E)}if(g){if(typeof g==="string"){const e=s.parse(g);if(e){b.bindElement({model:e.model??undefined,path:e.path,parameters:e.parameters??undefined})}else{b.bindElement(g)}}else{Object.keys(g).forEach(e=>{b.bindElement({model:e,path:g[e]})})}}for(const n in a){a[n].then(e=>b.setProperty(n,e)).catch(s=>{e.error(`Couldn't set property ${n} on ${t.getMetadata().getName()}`,s,"jsxControl")})}r=b}else if(typeof t==="function"){const e=t;r=e(i)}else{r=new n({text:"Missing component "+t})}return r};return O},false);
//# sourceMappingURL=jsx-control.js.map