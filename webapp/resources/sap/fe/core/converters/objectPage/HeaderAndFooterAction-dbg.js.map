{"version":3,"names":["getIdentificationDataFieldForActions","entityType","isDeterminingAction","annotations","UI","Identification","filter","identificationDataField","$Type","Boolean","Determining","valueOf","ActionTarget","isBound","Core","OperationAvailable","_exports","getIdentificationDataFieldForActionsOrGroups","getIdentificationDataFieldForIBNActions","IMPORTANT_CRITICALITIES","getDeleteButtonVisibility","converterContext","deleteHidden","dataModelObjectPath","getDataModelObjectPath","visitedNavigationPaths","navigationProperties","map","navProp","name","deleteHiddenExpression","getExpressionFromAnnotation","path","singletonPathVisitor","getConvertedTypes","manifestWrapper","getManifestWrapper","viewLevel","getViewLevel","editableExpression","IsEditable","not","ifElse","undefined","and","equal","getDeleteButtonEnabled","isDeletable","isParentDeletable","entitySet","getEntitySet","isDraftRoot","ModelHelper","ret","constant","pathInModel","getEditButtonVisibility","rootUpdateHidden","rootConverterContext","updateHidden","capabilities","rootEntitySet","isFCLEnabled","isFclEnabled","isDraftEnabled","rootUpdateHiddenExpression","getHiddenExpression","hiddenDraft","HiddenDraft","enabled","isDraftNode","updateHiddenExpression","notEditableExpression","resultantExpression","Draft","HasNoDraftForCurrentUser","getEditButtonEnabledExpression","updateRestrictions","isSticky","editActionName","isEntitySet","Common","DraftRoot","EditAction","Session","StickySessionSupported","editActionAnnotationPath","getAbsoluteAnnotationPath","editAction","resolveAbsolutePath","target","getEnabledForAnnotationActionExpression","getEditButtonEnabled","compileExpression","getHeaderDefaultActions","sContextPath","getContextPath","rootEntitySetPath","getRootEntitySetPath","getConverterContextFor","getEntityType","rootEntityType","stickySessionSupported","getStickySession","draftRoot","getDraftRoot","collaborationOnRoot","isCollaborationDraftSupportedFromConverterContext","draftNode","getDraftNode","entityDeleteRestrictions","Capabilities","DeleteRestrictions","isUpdateHidden","isPathDeletable","pathVisitor","navigationPaths","parentEntitySetDeletable","identificationDataFieldForActions","copyDataField","getCopyAction","dataField","dataFieldIsCopyAction","headerDataFieldForActions","headerActions","push","type","ActionType","DraftActions","key","updatablePropertyPath","UpdateRestrictions","Updatable","CollaborationAvatars","computeActionsAndActionGroups","visible","hasCollaborationAuthorization","Primary","Deletable","getDeleteHidden","Secondary","parentEntityDeleteEnabled","getDataFieldAnnotationAction","Copy","text","Label","toString","Library","getResourceBundleFor","getText","headerDataFieldForIBNActions","criticality","Criticality","includes","forEach","RequiresContext","Error","Inline","oNavigationParams","semanticObjectMapping","getSemanticObjectMapping","Mapping","DataFieldForIntentBasedNavigation","annotationPath","getEntitySetBasedAnnotationPath","fullyQualifiedName","buttonType","ButtonType","Ghost","Hidden","NavigationAvailable","KeyHelper","generateKeyFromDataField","isNavigable","press","fn","SemanticObject","Action","customData","semanticObject","action","getHiddenHeaderActions","hiddenActions","Default","getFooterDefaultActions","entitySetDraftRoot","term","conditionSave","SaveAction","conditionApply","conditionCancel","DiscardAction","conditionCreateNext","hideCreateNext","footerDataFieldForActions","footerActions","CreateNext","entityTypeName","DefaultApply","position","placement","Placement","End","isVisibleExp","isVisible","DataFieldForAction","getEnabledForAnnotationAction","isAIOperation","isActionAIOperation","prioritizeCriticality","headerDataFieldForActionsOrGroups","Menu","id","menu","Actions","isMenuAIOperation"],"sourceRoot":".","sources":["HeaderAndFooterAction.ts"],"sourcesContent":["import type { Action, EntityType, PropertyAnnotationValue } from \"@sap-ux/vocabularies-types\";\nimport { CommonAnnotationTerms } from \"@sap-ux/vocabularies-types/vocabularies/Common\";\nimport type {\n\tDataFieldForAction,\n\tDataFieldForActionGroupTypes,\n\tDataFieldForActionTypes,\n\tDataFieldForIntentBasedNavigationTypes,\n\tDeleteHidden,\n\tUpdateHidden\n} from \"@sap-ux/vocabularies-types/vocabularies/UI\";\nimport { UIAnnotationTypes } from \"@sap-ux/vocabularies-types/vocabularies/UI\";\nimport type { BindingToolkitExpression, CompiledBindingToolkitExpression } from \"sap/fe/base/BindingToolkit\";\nimport {\n\tand,\n\tcompileExpression,\n\tconstant,\n\tequal,\n\tfn,\n\tgetExpressionFromAnnotation,\n\tifElse,\n\tnot,\n\tpathInModel\n} from \"sap/fe/base/BindingToolkit\";\nimport type { HiddenDraft } from \"sap/fe/core/converters/ManifestSettings\";\nimport type { PageContextPathTarget } from \"sap/fe/core/converters/TemplateConverter\";\nimport type { AnnotationAction, BaseAction, DataFieldForActionOrActionGroup } from \"sap/fe/core/converters/controls/Common/Action\";\nimport {\n\tButtonType,\n\tdataFieldIsCopyAction,\n\tgetCopyAction,\n\tgetEnabledForAnnotationAction,\n\tgetEnabledForAnnotationActionExpression,\n\tgetSemanticObjectMapping,\n\tisActionAIOperation,\n\tisMenuAIOperation\n} from \"sap/fe/core/converters/controls/Common/Action\";\nimport { Placement } from \"sap/fe/core/converters/helpers/ConfigurableObject\";\nimport { KeyHelper } from \"sap/fe/core/converters/helpers/Key\";\nimport ModelHelper from \"sap/fe/core/helpers/ModelHelper\";\nimport { isEntitySet } from \"sap/fe/core/helpers/TypeGuards\";\nimport { isPathDeletable } from \"sap/fe/core/templating/DataModelPathHelper\";\nimport { isVisible } from \"sap/fe/core/templating/UIFormatters\";\nimport Library from \"sap/ui/core/Lib\";\nimport { Draft, UI, singletonPathVisitor } from \"../../helpers/BindingHelper\";\nimport type { EnvironmentCapabilities } from \"../../services/EnvironmentServiceFactory\";\nimport type ConverterContext from \"../ConverterContext\";\nimport { ActionType } from \"../ManifestSettings\";\n\n/**\n * Retrieves all the DataFieldForActions from the Identification annotation\n * They must be\n * - Either linked to an unbound action or to an action which has an OperationAvailable that is not set to false statically.\n * @param entityType The current entity type\n * @param isDeterminingAction The flag which denotes whether or not the action is a determining action\n * @returns An array of DataFieldForAction respecting the input parameter 'isDeterminingAction'\n */\nexport function getIdentificationDataFieldForActions(entityType: EntityType, isDeterminingAction: boolean): DataFieldForActionTypes[] {\n\treturn (entityType.annotations?.UI?.Identification?.filter((identificationDataField) => {\n\t\treturn identificationDataField.$Type === UIAnnotationTypes.DataFieldForAction &&\n\t\t\tBoolean(identificationDataField.Determining?.valueOf()) === isDeterminingAction &&\n\t\t\t(identificationDataField.ActionTarget?.isBound?.valueOf() !== true ||\n\t\t\t\tidentificationDataField?.ActionTarget?.annotations?.Core?.OperationAvailable?.valueOf() !== false)\n\t\t\t? true\n\t\t\t: false;\n\t}) || []) as DataFieldForActionTypes[];\n}\n\n/**\n * Retrieves all the data field for actions for the identification annotation\n * They must be\n * - Either linked to an Unbound action or to an action which has an OperationAvailable that is not set to false statically.\n * @param entityType The current entity type\n * @param isDeterminingAction The flag which denotes whether or not the action is a determining action\n * @returns An array of DataField for action respecting the input parameter 'isDeterminingAction'\n */\nexport function getIdentificationDataFieldForActionsOrGroups(\n\tentityType: EntityType,\n\tisDeterminingAction: boolean\n): DataFieldForActionOrActionGroup[] {\n\treturn (entityType.annotations?.UI?.Identification?.filter((identificationDataField) => {\n\t\treturn (identificationDataField.$Type === UIAnnotationTypes.DataFieldForAction &&\n\t\t\tBoolean(identificationDataField.Determining?.valueOf()) === isDeterminingAction &&\n\t\t\t(identificationDataField.ActionTarget?.isBound?.valueOf() !== true ||\n\t\t\t\tidentificationDataField?.ActionTarget?.annotations?.Core?.OperationAvailable?.valueOf() !== false)) ||\n\t\t\tidentificationDataField.$Type === UIAnnotationTypes.DataFieldForActionGroup\n\t\t\t? true\n\t\t\t: false;\n\t}) || []) as DataFieldForActionOrActionGroup[];\n}\n\n/**\n * Retrieve all the IBN actions for the identification annotation.\n * @param entityType The current entitytype\n * @param isDeterminingAction Whether or not the action should be determining\n * @returns An array of data field for action respecting the isDeterminingAction property.\n */\nfunction getIdentificationDataFieldForIBNActions(\n\tentityType: EntityType,\n\tisDeterminingAction: boolean\n): DataFieldForIntentBasedNavigationTypes[] {\n\treturn (entityType.annotations?.UI?.Identification?.filter((identificationDataField) => {\n\t\treturn identificationDataField.$Type === UIAnnotationTypes.DataFieldForIntentBasedNavigation &&\n\t\t\tBoolean(identificationDataField.Determining?.valueOf()) === isDeterminingAction\n\t\t\t? true\n\t\t\t: false;\n\t}) || []) as DataFieldForIntentBasedNavigationTypes[];\n}\n\nexport const IMPORTANT_CRITICALITIES = [\n\t\"UI.CriticalityType/VeryPositive\",\n\t\"UI.CriticalityType/Positive\",\n\t\"UI.CriticalityType/Negative\",\n\t\"UI.CriticalityType/VeryNegative\"\n];\n\n/**\n * Method to determine the 'visible' property binding for the Delete button on an object page.\n * @param converterContext Instance of the converter context.\n * @param deleteHidden The value of the UI.DeleteHidden annotation on the entity set / type.\n * @returns The binding expression for the 'visible' property of the Delete button.\n */\nexport function getDeleteButtonVisibility(\n\tconverterContext: ConverterContext<PageContextPathTarget>,\n\tdeleteHidden: DeleteHidden | undefined\n): BindingToolkitExpression<boolean> {\n\tconst dataModelObjectPath = converterContext.getDataModelObjectPath(),\n\t\tvisitedNavigationPaths = dataModelObjectPath.navigationProperties.map((navProp) => navProp.name),\n\t\t// Set absolute binding path for Singleton references, otherwise the configured annotation path itself.\n\t\t// For e.g. /com.sap.namespace.EntityContainer/Singleton/Property to /Singleton/Property\n\t\tdeleteHiddenExpression = getExpressionFromAnnotation(deleteHidden, visitedNavigationPaths, false, (path: string) =>\n\t\t\tsingletonPathVisitor(path, converterContext.getConvertedTypes(), [])\n\t\t), // default to false\n\t\tmanifestWrapper = converterContext.getManifestWrapper(),\n\t\tviewLevel = manifestWrapper.getViewLevel(),\n\t\t// Delete button is visible\n\t\t// In OP \t\t-->  when not in edit mode\n\t\t// In sub-OP \t-->  when in edit mode\n\t\teditableExpression: BindingToolkitExpression<boolean> = viewLevel > 1 ? UI.IsEditable : not(UI.IsEditable);\n\n\t// If UI.DeleteHidden annotation on entity set or type is either not defined or explicitly set to false,\n\t// Delete button is visible based on editableExpression.\n\t// else,\n\t// Delete button is visible based on both annotation path and editableExpression.\n\treturn ifElse(\n\t\tdeleteHidden === undefined || deleteHidden.valueOf() === false,\n\t\teditableExpression,\n\t\tand(editableExpression, equal(deleteHiddenExpression, false))\n\t);\n}\n\n/**\n * Method to determine the 'enabled' property binding for the Delete button on an object page.\n * @param isDeletable The delete restriction configured\n * @param isParentDeletable The delete restriction configured on the parent entity\n * @param converterContext\n * @returns The binding expression for the 'enabled' property of the Delete button\n */\nexport function getDeleteButtonEnabled(\n\tisDeletable: PropertyAnnotationValue<Boolean> | undefined,\n\tisParentDeletable: BindingToolkitExpression<boolean>,\n\tconverterContext: ConverterContext<PageContextPathTarget>\n): BindingToolkitExpression<boolean> {\n\tconst entitySet = converterContext.getEntitySet(),\n\t\tisDraftRoot = ModelHelper.isDraftRoot(entitySet);\n\n\tlet ret = ifElse(\n\t\tisParentDeletable !== undefined,\n\t\tisParentDeletable,\n\t\tifElse(isDeletable !== undefined, equal(getExpressionFromAnnotation(isDeletable), true), constant(true))\n\t);\n\n\t// delete should be disabled for Locked objects\n\tret = isDraftRoot ? and(ret, not(pathInModel(\"DraftAdministrativeData/InProcessByUser\"))) : ret;\n\n\treturn ret;\n}\n\n/**\n * Method to determine the 'visible' property binding for the Edit button on an object page.\n * @param converterContext Instance of the converter context.\n * @param rootUpdateHidden The value of the UI.UpdateHidden annotation on the entity set / type.\n * @param rootConverterContext\n * @param updateHidden\n * @param viewLevel\n * @param capabilities\n * @returns The binding expression for the 'visible' property of the Edit button.\n */\nexport function getEditButtonVisibility(\n\tconverterContext: ConverterContext<PageContextPathTarget>,\n\trootUpdateHidden: UpdateHidden | undefined,\n\trootConverterContext: ConverterContext<PageContextPathTarget>,\n\tupdateHidden?: UpdateHidden | undefined,\n\tviewLevel?: number | undefined,\n\tcapabilities?: EnvironmentCapabilities\n): BindingToolkitExpression<boolean> {\n\tconst rootEntitySet = rootConverterContext?.getEntitySet(),\n\t\tentitySet = converterContext.getEntitySet(),\n\t\tisFCLEnabled = converterContext.getManifestWrapper().isFclEnabled();\n\tlet isDraftEnabled;\n\tconst rootUpdateHiddenExpression = getHiddenExpression(rootConverterContext, rootUpdateHidden);\n\tconst hiddenDraft = (capabilities?.HiddenDraft as HiddenDraft)?.enabled;\n\tif (viewLevel && viewLevel > 1) {\n\t\t// if viewlevel > 1 check if node is draft enabled\n\t\tisDraftEnabled = ModelHelper.isDraftNode(entitySet);\n\t} else {\n\t\tisDraftEnabled = ModelHelper.isDraftRoot(rootEntitySet);\n\t}\n\tconst updateHiddenExpression = getHiddenExpression(rootConverterContext, updateHidden);\n\n\tconst notEditableExpression: BindingToolkitExpression<boolean> = not(UI.IsEditable);\n\n\t// If UI.UpdateHidden annotation on entity set or type is either not defined or explicitly set to false,\n\t// Edit button is visible in display mode.\n\t// else,\n\t// Edit button is visible based on both annotation path and in display mode.\n\tconst resultantExpression: BindingToolkitExpression<boolean> = ifElse(\n\t\t(viewLevel as number) > 1 || hiddenDraft,\n\t\tifElse(\n\t\t\tupdateHidden === undefined || updateHidden.valueOf() === false,\n\t\t\tand(\n\t\t\t\tnotEditableExpression,\n\t\t\t\tequal(pathInModel(\"rootEditVisible\", \"internal\"), true),\n\t\t\t\tifElse(isFCLEnabled, equal(pathInModel(\"/showEditButton\", \"fclhelper\"), true), true)\n\t\t\t),\n\t\t\tand(\n\t\t\t\tnotEditableExpression,\n\t\t\t\tequal(updateHiddenExpression, false),\n\t\t\t\tequal(pathInModel(\"rootEditVisible\", \"internal\"), true),\n\t\t\t\tifElse(isFCLEnabled, equal(pathInModel(\"/showEditButton\", \"fclhelper\"), true), true)\n\t\t\t)\n\t\t),\n\t\tifElse(\n\t\t\trootUpdateHidden === undefined || rootUpdateHidden.valueOf() === false,\n\t\t\tnotEditableExpression,\n\t\t\tand(notEditableExpression, equal(rootUpdateHiddenExpression, false))\n\t\t)\n\t);\n\treturn ifElse(isDraftEnabled, and(resultantExpression, Draft.HasNoDraftForCurrentUser), resultantExpression);\n}\n\nexport function getHiddenExpression(\n\tconverterContext: ConverterContext<PageContextPathTarget>,\n\tupdateHidden: UpdateHidden | undefined\n): BindingToolkitExpression<boolean> {\n\tconst dataModelObjectPath = converterContext.getDataModelObjectPath(),\n\t\tvisitedNavigationPaths = dataModelObjectPath.navigationProperties.map((navProp) => navProp.name),\n\t\t// Set absolute binding path for Singleton references, otherwise the configured annotation path itself.\n\t\t// For e.g. /com.sap.namespace.EntityContainer/Singleton/Property to /Singleton/Property\n\t\tupdateHiddenExpression = getExpressionFromAnnotation(updateHidden, visitedNavigationPaths, false, (path: string) =>\n\t\t\tsingletonPathVisitor(path, converterContext.getConvertedTypes(), visitedNavigationPaths)\n\t\t);\n\treturn updateHiddenExpression;\n}\n/**\n * Method to determine the 'enabled' property binding for the Edit button on an object page.\n * @param converterContext Instance of the converter context.\n * @param updateRestrictions\n * @param viewLevel\n * @returns The binding expression for the 'enabled' property of the Edit button.\n */\nexport function getEditButtonEnabledExpression(\n\tconverterContext: ConverterContext<PageContextPathTarget>,\n\tupdateRestrictions?: PropertyAnnotationValue<Boolean>,\n\tviewLevel?: number | undefined\n): BindingToolkitExpression<boolean> {\n\tconst entitySet = converterContext.getEntitySet(),\n\t\tisDraftRoot = ModelHelper.isDraftRoot(entitySet),\n\t\tisSticky = ModelHelper.isSticky(entitySet);\n\tlet editActionName: string | undefined;\n\tif (isDraftRoot && isEntitySet(entitySet)) {\n\t\teditActionName = entitySet.annotations.Common?.DraftRoot?.EditAction as string;\n\t} else if (isSticky && isEntitySet(entitySet)) {\n\t\teditActionName = entitySet.annotations.Session?.StickySessionSupported?.EditAction as string;\n\t}\n\tif (editActionName) {\n\t\tconst editActionAnnotationPath = converterContext.getAbsoluteAnnotationPath(editActionName);\n\t\tconst editAction = converterContext.resolveAbsolutePath(editActionAnnotationPath).target as Action | null;\n\t\tif (editAction?.annotations?.Core?.OperationAvailable === null) {\n\t\t\t// We disabled action advertisement but kept it in the code for the time being\n\t\t\t//return \"{= ${#\" + editActionName + \"} ? true : false }\";\n\t\t} else if ((viewLevel as number) > 1) {\n\t\t\t// Edit button is enabled based on the update restrictions of the sub-OP\n\t\t\tif (updateRestrictions !== undefined) {\n\t\t\t\treturn and(\n\t\t\t\t\tequal(getExpressionFromAnnotation(updateRestrictions), true),\n\t\t\t\t\tequal(pathInModel(\"rootEditEnabled\", \"internal\"), true)\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\treturn equal(pathInModel(\"rootEditEnabled\", \"internal\"), true);\n\t\t\t}\n\t\t} else {\n\t\t\treturn getEnabledForAnnotationActionExpression(converterContext, editAction ?? undefined);\n\t\t}\n\t}\n\treturn constant(true);\n}\n\nexport function getEditButtonEnabled(\n\tconverterContext: ConverterContext<PageContextPathTarget>,\n\tupdateRestrictions?: PropertyAnnotationValue<Boolean>,\n\tviewLevel?: number | undefined\n): CompiledBindingToolkitExpression {\n\treturn compileExpression(getEditButtonEnabledExpression(converterContext, updateRestrictions, viewLevel));\n}\n\nexport function getHeaderDefaultActions(\n\tconverterContext: ConverterContext<PageContextPathTarget>,\n\tcapabilities?: EnvironmentCapabilities\n): BaseAction[] {\n\tconst sContextPath = converterContext.getContextPath();\n\tconst rootEntitySetPath = ModelHelper.getRootEntitySetPath(sContextPath);\n\tconst rootConverterContext = converterContext.getConverterContextFor<PageContextPathTarget>(\"/\" + rootEntitySetPath);\n\tconst entitySet = converterContext.getEntitySet(),\n\t\tentityType = converterContext.getEntityType(),\n\t\trootEntitySet = rootConverterContext.getEntitySet(),\n\t\trootEntityType = rootConverterContext.getEntityType(),\n\t\tstickySessionSupported = ModelHelper.getStickySession(rootEntitySet), //for sticky app\n\t\tdraftRoot = ModelHelper.getDraftRoot(rootEntitySet), //entitySet && entitySet.annotations.Common?.DraftRoot,\n\t\tcollaborationOnRoot = ModelHelper.isCollaborationDraftSupportedFromConverterContext(converterContext) && draftRoot,\n\t\tdraftNode = ModelHelper.getDraftNode(rootEntitySet),\n\t\tentityDeleteRestrictions = entitySet && entitySet.annotations?.Capabilities?.DeleteRestrictions,\n\t\trootUpdateHidden = ModelHelper.isUpdateHidden(rootEntitySet, rootEntityType),\n\t\tupdateHidden = rootEntitySet && isEntitySet(rootEntitySet) && rootUpdateHidden?.valueOf(),\n\t\tdataModelObjectPath = converterContext.getDataModelObjectPath(),\n\t\tisParentDeletable = isPathDeletable(dataModelObjectPath, {\n\t\t\tpathVisitor: (path: string, navigationPaths: string[]) =>\n\t\t\t\tsingletonPathVisitor(path, converterContext.getConvertedTypes(), navigationPaths)\n\t\t}),\n\t\tparentEntitySetDeletable = isParentDeletable ? compileExpression(isParentDeletable) : isParentDeletable,\n\t\tidentificationDataFieldForActions = getIdentificationDataFieldForActionsOrGroups(converterContext.getEntityType(), false);\n\n\tconst copyDataField =\n\t\tconverterContext.getManifestWrapper().getViewLevel() === 1\n\t\t\t? getCopyAction(\n\t\t\t\t\tidentificationDataFieldForActions.filter((dataField) => {\n\t\t\t\t\t\tif (dataField.$Type === UIAnnotationTypes.DataFieldForAction) {\n\t\t\t\t\t\t\treturn dataFieldIsCopyAction(dataField);\n\t\t\t\t\t\t}\n\t\t\t\t\t}) as DataFieldForAction[]\n\t\t\t  )\n\t\t\t: undefined;\n\n\tconst headerDataFieldForActions = identificationDataFieldForActions.filter((dataField) => {\n\t\treturn !dataFieldIsCopyAction(dataField as DataFieldForActionTypes);\n\t});\n\n\t// Initialize actions and start with draft actions if available since they should appear in the first\n\t// leftmost position in the actions area of the OP header\n\t// This is more like a placeholder than a single action, since this controls not only the templating of\n\t// the button for switching between draft and active document versions but also the controls for\n\t// the collaborative draft fragment.\n\tconst headerActions: BaseAction[] = [];\n\tif (isEntitySet(entitySet) && draftRoot?.EditAction && updateHidden !== true) {\n\t\theaderActions.push({ type: ActionType.DraftActions, key: \"DraftActions\" });\n\t}\n\n\tconst viewLevel = converterContext.getManifestWrapper().getViewLevel();\n\tconst updatablePropertyPath = viewLevel > 1 ? entitySet?.annotations.Capabilities?.UpdateRestrictions?.Updatable : undefined;\n\tif (draftRoot || draftNode) {\n\t\theaderActions.push({ type: ActionType.CollaborationAvatars, key: \"CollaborationAvatars\" });\n\t}\n\t// Then add the \"Critical\" DataFieldForActions and DataFieldForActionGroups\n\t// Prioritizes actions and action groups that have the Criticality annotation, placing them before those without the annotation\n\tcomputeActionsAndActionGroups(headerActions, true, headerDataFieldForActions, converterContext);\n\n\t// Then the edit action if it exists\n\tif ((draftRoot?.EditAction || stickySessionSupported?.EditAction) && updateHidden !== true) {\n\t\tlet visible = getEditButtonVisibility(\n\t\t\tconverterContext,\n\t\t\trootUpdateHidden,\n\t\t\trootConverterContext,\n\t\t\tModelHelper.isUpdateHidden(entitySet, entityType),\n\t\t\tviewLevel,\n\t\t\tcapabilities\n\t\t);\n\t\tif (collaborationOnRoot) {\n\t\t\tvisible = and(visible, not(equal(UI.hasCollaborationAuthorization, false)));\n\t\t}\n\t\theaderActions.push({\n\t\t\ttype: ActionType.Primary,\n\t\t\tkey: \"EditAction\",\n\t\t\tvisible: compileExpression(visible),\n\t\t\tenabled: getEditButtonEnabled(rootConverterContext, updatablePropertyPath, viewLevel)\n\t\t});\n\t}\n\t// Then the delete action if we're not statically not deletable\n\tif (\n\t\t(parentEntitySetDeletable && parentEntitySetDeletable !== \"false\") ||\n\t\t(entityDeleteRestrictions?.Deletable?.valueOf() !== false && parentEntitySetDeletable !== \"false\")\n\t) {\n\t\tconst deleteHidden = ModelHelper.getDeleteHidden(entitySet, entityType);\n\t\tlet visible = getDeleteButtonVisibility(converterContext, deleteHidden);\n\t\tif (collaborationOnRoot) {\n\t\t\tvisible = and(visible, not(equal(UI.hasCollaborationAuthorization, false)));\n\t\t}\n\n\t\theaderActions.push({\n\t\t\ttype: ActionType.Secondary,\n\t\t\tkey: \"DeleteAction\",\n\t\t\tvisible: compileExpression(visible),\n\t\t\tenabled: compileExpression(getDeleteButtonEnabled(entityDeleteRestrictions?.Deletable, isParentDeletable, converterContext)),\n\t\t\tparentEntityDeleteEnabled: parentEntitySetDeletable\n\t\t});\n\t}\n\n\tif (copyDataField) {\n\t\theaderActions.push({\n\t\t\t...getDataFieldAnnotationAction(copyDataField, converterContext),\n\t\t\ttype: ActionType.Copy,\n\t\t\ttext: copyDataField.Label?.toString() ?? Library.getResourceBundleFor(\"sap.fe.core\")!.getText(\"C_COMMON_COPY\")\n\t\t});\n\t}\n\n\tconst headerDataFieldForIBNActions = getIdentificationDataFieldForIBNActions(converterContext.getEntityType(), false);\n\n\theaderDataFieldForIBNActions\n\t\t.filter((dataField) => {\n\t\t\tconst criticality = compileExpression(getExpressionFromAnnotation(dataField?.Criticality));\n\t\t\treturn !IMPORTANT_CRITICALITIES.includes(criticality!);\n\t\t})\n\t\t.forEach((dataField) => {\n\t\t\tif (dataField.RequiresContext?.valueOf() === true) {\n\t\t\t\tthrow new Error(`RequiresContext property should not be true for header IBN action : ${dataField.Label}`);\n\t\t\t}\n\t\t\tif (dataField.Inline?.valueOf() === true) {\n\t\t\t\tthrow new Error(`Inline property should not be true for header IBN action : ${dataField.Label}`);\n\t\t\t}\n\t\t\tconst oNavigationParams = {\n\t\t\t\tsemanticObjectMapping: getSemanticObjectMapping(dataField.Mapping)\n\t\t\t};\n\n\t\t\theaderActions.push({\n\t\t\t\ttype: ActionType.DataFieldForIntentBasedNavigation,\n\t\t\t\ttext: dataField.Label?.toString(),\n\t\t\t\tannotationPath: converterContext.getEntitySetBasedAnnotationPath(dataField.fullyQualifiedName),\n\t\t\t\tbuttonType: ButtonType.Ghost,\n\t\t\t\tvisible: compileExpression(\n\t\t\t\t\tand(\n\t\t\t\t\t\tnot(equal(getExpressionFromAnnotation(dataField.annotations?.UI?.Hidden), true)),\n\t\t\t\t\t\tnot(equal(pathInModel(\"shellNavigationNotAvailable\", \"internal\"), true))\n\t\t\t\t\t)\n\t\t\t\t),\n\t\t\t\tenabled:\n\t\t\t\t\tdataField.NavigationAvailable !== undefined\n\t\t\t\t\t\t? compileExpression(equal(getExpressionFromAnnotation(dataField.NavigationAvailable), true))\n\t\t\t\t\t\t: true,\n\t\t\t\tkey: KeyHelper.generateKeyFromDataField(dataField),\n\t\t\t\tisNavigable: true,\n\t\t\t\tpress: compileExpression(\n\t\t\t\t\tfn(\"._intentBasedNavigation.navigate\", [\n\t\t\t\t\t\tgetExpressionFromAnnotation(dataField.SemanticObject),\n\t\t\t\t\t\tgetExpressionFromAnnotation(dataField.Action),\n\t\t\t\t\t\toNavigationParams\n\t\t\t\t\t])\n\t\t\t\t),\n\t\t\t\tcustomData: compileExpression({\n\t\t\t\t\tsemanticObject: getExpressionFromAnnotation(dataField.SemanticObject),\n\t\t\t\t\taction: getExpressionFromAnnotation(dataField.Action)\n\t\t\t\t})\n\t\t\t} as AnnotationAction);\n\t\t});\n\t// Finally the non critical DataFieldForActions and DataFieldForActionGroups\n\tcomputeActionsAndActionGroups(headerActions, false, headerDataFieldForActions, converterContext);\n\n\treturn headerActions;\n}\n\nexport function getHiddenHeaderActions(converterContext: ConverterContext<PageContextPathTarget>): BaseAction[] {\n\tconst entityType = converterContext.getEntityType();\n\tconst hiddenActions = (entityType.annotations?.UI?.Identification?.filter((identificationDataField) => {\n\t\treturn identificationDataField?.annotations?.UI?.Hidden?.valueOf() === true;\n\t}) || []) as DataFieldForActionTypes[];\n\treturn hiddenActions.map((dataField) => {\n\t\treturn {\n\t\t\ttype: ActionType.Default,\n\t\t\tkey: KeyHelper.generateKeyFromDataField(dataField)\n\t\t};\n\t});\n}\n\nexport function getFooterDefaultActions(\n\tviewLevel: number,\n\tconverterContext: ConverterContext<PageContextPathTarget>,\n\tcapabilities?: EnvironmentCapabilities\n): BaseAction[] {\n\tconst entitySet = converterContext.getEntitySet();\n\tconst entityType = converterContext.getEntityType();\n\tconst stickySessionSupported = ModelHelper.getStickySession(entitySet), //for sticky app\n\t\tentitySetDraftRoot =\n\t\t\tisEntitySet(entitySet) &&\n\t\t\t(entitySet.annotations.Common?.DraftRoot?.term ?? entitySet.annotations.Session?.StickySessionSupported?.term),\n\t\tconditionSave = Boolean(\n\t\t\tentitySetDraftRoot === CommonAnnotationTerms.DraftRoot ||\n\t\t\t\t(capabilities?.HiddenDraft as HiddenDraft)?.enabled ||\n\t\t\t\t(stickySessionSupported && stickySessionSupported?.SaveAction)\n\t\t),\n\t\tconditionApply = viewLevel > 1 && !(capabilities?.HiddenDraft as HiddenDraft)?.enabled,\n\t\tconditionCancel = Boolean(\n\t\t\tentitySetDraftRoot === CommonAnnotationTerms.DraftRoot ||\n\t\t\t\t(capabilities?.HiddenDraft as HiddenDraft)?.enabled ||\n\t\t\t\t(stickySessionSupported && stickySessionSupported?.DiscardAction)\n\t\t),\n\t\tconditionCreateNext =\n\t\t\tviewLevel > 1 &&\n\t\t\t(capabilities?.HiddenDraft as HiddenDraft)?.enabled &&\n\t\t\t!(capabilities?.HiddenDraft as HiddenDraft)?.hideCreateNext;\n\n\t// Retrieve all determining actions\n\tconst footerDataFieldForActions = getIdentificationDataFieldForActions(converterContext.getEntityType(), true);\n\n\t// First add the \"Critical\" DataFieldForActions\n\tconst footerActions: BaseAction[] = footerDataFieldForActions\n\t\t.filter((dataField) => {\n\t\t\tconst criticality = compileExpression(getExpressionFromAnnotation(dataField?.Criticality));\n\t\t\treturn criticality && IMPORTANT_CRITICALITIES.includes(criticality);\n\t\t})\n\t\t.map((dataField) => {\n\t\t\treturn getDataFieldAnnotationAction(dataField, converterContext);\n\t\t});\n\tif (conditionCreateNext) {\n\t\tfooterActions.push({ type: ActionType.CreateNext, key: \"CreateNextAction\" });\n\t}\n\t// Then the save action if it exists\n\tif (entitySet?.entityTypeName === entityType?.fullyQualifiedName && conditionSave) {\n\t\tfooterActions.push({ type: ActionType.Primary, key: \"SaveAction\" });\n\t}\n\n\t// Then the apply action if it exists\n\tif (conditionApply) {\n\t\tfooterActions.push({ type: ActionType.DefaultApply, key: \"ApplyAction\" });\n\t}\n\t// Then the non critical DataFieldForActions\n\tfooterDataFieldForActions\n\t\t.filter((dataField) => {\n\t\t\tconst criticality = compileExpression(getExpressionFromAnnotation(dataField?.Criticality));\n\t\t\treturn criticality && !IMPORTANT_CRITICALITIES.includes(criticality);\n\t\t})\n\t\t.forEach((dataField) => {\n\t\t\tfooterActions.push(getDataFieldAnnotationAction(dataField, converterContext));\n\t\t});\n\n\t// Then the cancel action if it exists\n\tif (conditionCancel) {\n\t\tfooterActions.push({\n\t\t\ttype: ActionType.Secondary,\n\t\t\tkey: \"CancelAction\",\n\t\t\tposition: { placement: Placement.End }\n\t\t});\n\t}\n\treturn footerActions;\n}\n\nfunction getDataFieldAnnotationAction(\n\tdataField: DataFieldForActionTypes,\n\tconverterContext: ConverterContext<PageContextPathTarget>\n): AnnotationAction {\n\tlet isVisibleExp = isVisible(dataField);\n\tconst collaborationOnRoot =\n\t\tModelHelper.isCollaborationDraftSupportedFromConverterContext(converterContext) &&\n\t\tModelHelper.getDraftRoot(converterContext.getEntitySet());\n\tif (collaborationOnRoot) {\n\t\tisVisibleExp = and(isVisibleExp, not(equal(UI.hasCollaborationAuthorization, false)));\n\t}\n\treturn {\n\t\ttype: ActionType.DataFieldForAction,\n\t\tannotationPath: converterContext.getEntitySetBasedAnnotationPath(dataField.fullyQualifiedName),\n\t\tkey: KeyHelper.generateKeyFromDataField(dataField),\n\t\tvisible: compileExpression(isVisibleExp),\n\t\tenabled: getEnabledForAnnotationAction(converterContext, dataField.ActionTarget),\n\t\tisNavigable: true,\n\t\tisAIOperation: isActionAIOperation(dataField) === true || undefined\n\t};\n}\n\n/**\n * Adds actions and action groups to the headerActions array, prioritizing them according to their criticality.\n * @param headerActions Array with all the current header actions in it\n * @param prioritizeCriticality Flag to determine the priority of the criticality action or actionGroups inside headerActions\n * @param headerDataFieldForActionsOrGroups All actions and action groups from the identification annotation with CopyAction filtered out\n * @param converterContext Instance of the converter context\n */\nfunction computeActionsAndActionGroups(\n\theaderActions: BaseAction[],\n\tprioritizeCriticality: boolean,\n\theaderDataFieldForActionsOrGroups: (DataFieldForActionTypes | DataFieldForActionGroupTypes)[],\n\tconverterContext: ConverterContext<PageContextPathTarget>\n): void {\n\theaderDataFieldForActionsOrGroups\n\t\t.filter((dataField) => {\n\t\t\tconst criticality = compileExpression(getExpressionFromAnnotation(dataField?.Criticality));\n\t\t\treturn prioritizeCriticality ? IMPORTANT_CRITICALITIES.includes(criticality!) : !IMPORTANT_CRITICALITIES.includes(criticality!);\n\t\t})\n\t\t.forEach((dataField) => {\n\t\t\tif (dataField.$Type === UIAnnotationTypes.DataFieldForAction) {\n\t\t\t\theaderActions.push(getDataFieldAnnotationAction(dataField, converterContext));\n\t\t\t} else if (dataField.$Type === UIAnnotationTypes.DataFieldForActionGroup) {\n\t\t\t\tlet isVisibleExp = not(equal(getExpressionFromAnnotation(dataField.annotations?.UI?.Hidden), true));\n\t\t\t\tconst collaborationOnRoot =\n\t\t\t\t\tModelHelper.isCollaborationDraftSupportedFromConverterContext(converterContext) &&\n\t\t\t\t\tModelHelper.getDraftRoot(converterContext.getEntitySet());\n\t\t\t\tif (collaborationOnRoot) {\n\t\t\t\t\tisVisibleExp = and(isVisibleExp, not(equal(UI.hasCollaborationAuthorization, false)));\n\t\t\t\t}\n\t\t\t\theaderActions.push({\n\t\t\t\t\ttype: ActionType.Menu,\n\t\t\t\t\ttext: dataField.Label as string,\n\t\t\t\t\tkey: KeyHelper.generateKeyFromDataField(dataField),\n\t\t\t\t\tid: KeyHelper.generateKeyFromDataField(dataField),\n\t\t\t\t\tvisible: compileExpression(isVisibleExp),\n\t\t\t\t\tmenu: dataField.Actions.map((action) =>\n\t\t\t\t\t\tgetDataFieldAnnotationAction(action as DataFieldForActionTypes, converterContext)\n\t\t\t\t\t),\n\t\t\t\t\tisAIOperation: isMenuAIOperation(dataField.Actions) === true || undefined\n\t\t\t\t});\n\t\t\t}\n\t\t});\n}\n"],"mappings":"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","ignoreList":[],"file":"HeaderAndFooterAction-dbg.js"}