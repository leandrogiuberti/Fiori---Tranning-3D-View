/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.define(["sap/base/Log"],function(e){"use strict";var n={};let t=function(e){e["After"]="After";e["Before"]="Before";e["End"]="End";return e}({});n.Placement=t;const o=function(e,n){let o;const s=Object.keys(n).filter(e=>n[e].placement===t.Before);if(s.length>1){const e=s.find(e=>!s.includes(n[e].anchor));o=e||s[0]}else if(s.length){o=s[0]}else{o=Object.keys(n)[0]}e.push(o);return o};const s=(e,n)=>n.includes(e);const i=(e,n,t)=>{if(e===-1){return false}return!s(n,t)};const c=(e,n,t,o)=>!!(Object.keys(e).length&&Object.keys(e).map(n=>e[n].anchor).some(e=>n.includes(e)))||Object.keys(t).length===o.length&&o.length-n.length===Object.keys(e).length&&Object.keys(e).every(n=>Object.keys(e).includes(e[n].anchor));const r=(e,n,t,o)=>{const s=[];const i={first:undefined,last:undefined};i.first=e.length?e[0].key:undefined;i.last=e.length?e[e.length-1].key:undefined;const c={};Object.keys(t).forEach(e=>{f(t,e,s,i,c,[])});const r=s.map(e=>n[e]);r.forEach((e,t)=>{if(e.position&&!n[e.key]?.position){delete r[t].position}});if(o){r.push(o)}return r};const l=(e,n,s,i,c,r)=>{let l=e.indexOf(n);if(Object.keys(i).includes(n)){delete i[n]}if(s&&s.anchor&&n!==s.anchor&&!e.includes(s.anchor)){i[n]=c[n];if(Object.keys(i).length&&!Object.keys(i).some(n=>e.includes(i[n].anchor))&&r.length-e.length===Object.keys(i).length){const n=o(e,i);delete i[n]}else{return-1}}else if(n===s.anchor){l=e.length}else{l=e.indexOf(s.anchor);if(s.placement===t.After){l++}}return l};const f=(n,r,a,h,u,d)=>{if(s(r,a)){return}const p=n[r];d=d.length?d:Object.keys(n);if(p.anchor&&!Object.keys(n).includes(p.anchor)&&!d.includes(p.anchor)){e.warning(`Position anchor '${p.anchor}' not found for item '${r}'. Please check settings. Defaulting as if no Anchor was set.`);n[r].anchor=r;p.anchor=r}if(!p.anchor){p.anchor=p.placement===t.After?h.last:h.first;if(p.anchor===undefined){o(a,{[r]:p})}}const y=l(a,r,p,u,n,d);if(i(y,r,a)){a.splice(y,0,r)}h.last=a[a.length-1];if(Object.keys(u).length&&c(u,a,n,d)){Object.keys(u).forEach(e=>{f({...u},e,a,h,u,d)})}};let a=function(e){e["merge"]="merge";e["overwrite"]="overwrite";e["ignore"]="ignore";return e}({});n.OverrideType=a;function h(e){return typeof e==="object"}function u(e,n,t){const o=n||t;for(const s in e){if(Object.hasOwnProperty.call(e,s)){const i=e[s];if(n!==null){switch(i){case"overwrite":if(t.hasOwnProperty(s)&&t[s]!==undefined){n[s]=t[s]}break;case"merge":default:const e=n[s]||[];let o={};if(h(i)){o=i}if(Array.isArray(e)){n[s]=d(e,t&&t[s]||{},o)}break}}else{switch(i){case"overwrite":if(t.hasOwnProperty(s)&&t[s]!==undefined){o[s]=t[s]}break;case"merge":default:let e={};if(h(i)){e=i}o[s]=d([],t&&t[s]||{},e);break}}}}return o}function d(e,n){let o=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};let s;const i={};const c={};e.forEach(e=>{if(e.position?.placement===t.End&&!s){s=e}else{i[e.key]={anchor:e.position?.anchor||e.key,placement:e.position?.placement||t.After}}c[e.key]=e});Object.keys(n).forEach(e=>{const s=n[e];const r=s.position.anchor;if(!s.position.placement){s.position.placement=t.After}const l=s.key;if(c[l]){c[l]=u(o,c[l],s);if(r&&s.position&&o.position&&o.position==="overwrite"){i[l]=c[l].position}}else{c[l]=u(o,null,s);i[l]=s.position}});return r(e,c,i,s)}n.insertCustomElements=d;return n},false);
//# sourceMappingURL=ConfigurableObject.js.map