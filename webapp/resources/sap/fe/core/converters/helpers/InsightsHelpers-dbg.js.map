{"version":3,"names":["getInsightsVisibility","cardType","converterContext","visualizationPath","standardActionsContext","tableManifestConfig","isResponsiveTable","isMultiEntity","getManifestWrapper","hasMultipleEntitySets","isMultipleVisualizations","hasMultipleVisualizations","viewConfig","getViewConfiguration","isMultiTabs","undefined","paths","length","templateBindingExpression","getTemplateType","TemplateType","ListReport","vizPathConfiguration","getManifestControlConfiguration","enableAddCardToInsights","tableSettings","tableManifestConfiguration","type","and","constant","equal","pathInModel","_exports","getInsightsEnablement"],"sourceRoot":".","sources":["InsightsHelpers.ts"],"sourcesContent":["import { and, constant, equal, pathInModel, type BindingToolkitExpression } from \"sap/fe/base/BindingToolkit\";\nimport type { PageContextPathTarget } from \"sap/fe/core/converters/TemplateConverter\";\nimport type ConverterContext from \"../ConverterContext\";\nimport type { ChartManifestConfiguration, TableManifestConfiguration } from \"../ManifestSettings\";\nimport { TemplateType } from \"../ManifestSettings\";\nimport type { StandardActionsContext } from \"../controls/Common/table/StandardActions\";\n\n/**\n * Gets the boolean value for the 'visible' property of the 'AddCardToInsights' action.\n * @param cardType\n * @param converterContext\n * @param visualizationPath\n * @param standardActionsContext\n * @returns Boolean value for the 'visible' property of the 'AddCardToInsights' action.\n */\nexport function getInsightsVisibility(\n\tcardType: \"Analytical\" | \"Table\",\n\tconverterContext: ConverterContext<PageContextPathTarget>,\n\tvisualizationPath: string,\n\tstandardActionsContext?: StandardActionsContext\n): BindingToolkitExpression<boolean> {\n\tlet tableManifestConfig, isResponsiveTable;\n\n\tconst isMultiEntity = converterContext.getManifestWrapper().hasMultipleEntitySets();\n\tconst isMultipleVisualizations = converterContext.getManifestWrapper().hasMultipleVisualizations();\n\tconst viewConfig = converterContext.getManifestWrapper().getViewConfiguration();\n\tconst isMultiTabs = viewConfig !== undefined && viewConfig.paths.length > 1 ? true : false;\n\tconst templateBindingExpression = converterContext.getTemplateType() === TemplateType.ListReport;\n\tconst vizPathConfiguration = converterContext.getManifestControlConfiguration<TableManifestConfiguration | ChartManifestConfiguration>(\n\t\tvisualizationPath\n\t);\n\tconst enableAddCardToInsights =\n\t\tcardType === \"Analytical\"\n\t\t\t? (vizPathConfiguration as ChartManifestConfiguration)?.enableAddCardToInsights ?? true\n\t\t\t: (vizPathConfiguration as TableManifestConfiguration)?.tableSettings?.enableAddCardToInsights ?? true;\n\n\tif (cardType === \"Table\") {\n\t\ttableManifestConfig = standardActionsContext?.tableManifestConfiguration;\n\t\tisResponsiveTable = tableManifestConfig?.type === \"ResponsiveTable\";\n\t}\n\n\treturn and(\n\t\tconstant(enableAddCardToInsights),\n\t\tconstant(templateBindingExpression),\n\t\tconstant(!isMultiEntity),\n\t\tconstant(!isMultiTabs),\n\t\tconstant(cardType === \"Table\" ? (isResponsiveTable ?? false) && !isMultipleVisualizations : true),\n\t\tequal(pathInModel(\"isInsightsSupported\", \"pageInternal\"), true)\n\t);\n}\n\nexport function getInsightsEnablement(): BindingToolkitExpression<boolean> {\n\treturn equal(pathInModel(\"isInsightsEnabled\", \"internal\"), true);\n}\n"],"mappings":";;;;;;;;;;;;;EAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;EACO,SAASA,qBAAqBA,CACpCC,QAAgC,EAChCC,gBAAyD,EACzDC,iBAAyB,EACzBC,sBAA+C,EACX;IACpC,IAAIC,mBAAmB,EAAEC,iBAAiB;IAE1C,MAAMC,aAAa,GAAGL,gBAAgB,CAACM,kBAAkB,CAAC,CAAC,CAACC,qBAAqB,CAAC,CAAC;IACnF,MAAMC,wBAAwB,GAAGR,gBAAgB,CAACM,kBAAkB,CAAC,CAAC,CAACG,yBAAyB,CAAC,CAAC;IAClG,MAAMC,UAAU,GAAGV,gBAAgB,CAACM,kBAAkB,CAAC,CAAC,CAACK,oBAAoB,CAAC,CAAC;IAC/E,MAAMC,WAAW,GAAGF,UAAU,KAAKG,SAAS,IAAIH,UAAU,CAACI,KAAK,CAACC,MAAM,GAAG,CAAC,GAAG,IAAI,GAAG,KAAK;IAC1F,MAAMC,yBAAyB,GAAGhB,gBAAgB,CAACiB,eAAe,CAAC,CAAC,KAAKC,YAAY,CAACC,UAAU;IAChG,MAAMC,oBAAoB,GAAGpB,gBAAgB,CAACqB,+BAA+B,CAC5EpB,iBACD,CAAC;IACD,MAAMqB,uBAAuB,GAC5BvB,QAAQ,KAAK,YAAY,GACrBqB,oBAAoB,EAAiCE,uBAAuB,IAAI,IAAI,GACpFF,oBAAoB,EAAiCG,aAAa,EAAED,uBAAuB,IAAI,IAAI;IAExG,IAAIvB,QAAQ,KAAK,OAAO,EAAE;MACzBI,mBAAmB,GAAGD,sBAAsB,EAAEsB,0BAA0B;MACxEpB,iBAAiB,GAAGD,mBAAmB,EAAEsB,IAAI,KAAK,iBAAiB;IACpE;IAEA,OAAOC,GAAG,CACTC,QAAQ,CAACL,uBAAuB,CAAC,EACjCK,QAAQ,CAACX,yBAAyB,CAAC,EACnCW,QAAQ,CAAC,CAACtB,aAAa,CAAC,EACxBsB,QAAQ,CAAC,CAACf,WAAW,CAAC,EACtBe,QAAQ,CAAC5B,QAAQ,KAAK,OAAO,GAAG,CAACK,iBAAiB,IAAI,KAAK,KAAK,CAACI,wBAAwB,GAAG,IAAI,CAAC,EACjGoB,KAAK,CAACC,WAAW,CAAC,qBAAqB,EAAE,cAAc,CAAC,EAAE,IAAI,CAC/D,CAAC;EACF;EAACC,QAAA,CAAAhC,qBAAA,GAAAA,qBAAA;EAEM,SAASiC,qBAAqBA,CAAA,EAAsC;IAC1E,OAAOH,KAAK,CAACC,WAAW,CAAC,mBAAmB,EAAE,UAAU,CAAC,EAAE,IAAI,CAAC;EACjE;EAACC,QAAA,CAAAC,qBAAA,GAAAA,qBAAA;EAAA,OAAAD,QAAA;AAAA","ignoreList":[],"file":"InsightsHelpers-dbg.js"}