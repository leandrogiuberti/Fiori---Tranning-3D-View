{"version":3,"names":["HeaderFacetType","_exports","FacetType","FlexDesignTimeType","HeaderDataPointType","TargetAnnotationType","getHeaderFacetsFromAnnotations","converterContext","headerFacets","getEntityType","annotations","UI","HeaderFacets","forEach","facet","headerFacet","createHeaderFacet","push","getHeaderFacetsFromManifest","manifestCustomHeaderFacets","customHeaderFacets","Object","keys","manifestHeaderFacetKey","customHeaderFacet","createCustomHeaderFacet","getStashedSettingsForHeaderFacet","facetDefinition","collectionFacetDefinition","$Type","headerFacetID","createIdForAnnotation","headerFacetsControlConfig","getManifestWrapper","getHeaderFacets","stashedSetting","stashed","getDesignTimeMetadataSettingsForHeaderFacet","designTimeMetadata","Default","NotAdaptableTree","designTime","flexSettings","designtime","NotAdaptable","NotAdaptableVisibility","createReferenceHeaderFacet","Hidden","valueOf","getHeaderFacetID","getHeaderFacetKey","facetDefinitionToCheck","fallback","ID","toString","Label","targetAnnotationValue","Target","value","targetAnnotationType","getTargetAnnotationType","headerFormData","headerDataPointData","FieldGroup","getFieldGroupFormData","DataPoint","getDataPointData","$target","term","isAnnotationFieldStaticallyHidden","undefined","type","Annotation","facetType","Reference","id","containerId","getHeaderFacetContainerID","key","visible","compileExpression","isVisible","annotationPath","getEntitySetBasedAnnotationPath","fullyQualifiedName","createCollectionHeaderFacet","facets","Facets","Collection","annotationType","None","annotationTypeMap","Chart","Identification","Contact","Address","PresentationVariant","Error","formElements","insertCustomElements","getFormElementsFromAnnotations","getFormElementsFromManifest","getHeaderFacetFormID","label","annotationBasedFormElements","resolvedTarget","getEntityTypeAnnotation","Data","dataField","semanticObjectAnnotationPath","getSemanticObjectPath","isReferencePropertyStaticallyHidden","isValueMultilineText","isMultiLineText","Value","FormElementType","KeyHelper","generateKeyFromDataField","Common","idPrefix","semanticObjectPath","Content","Visualization","ProgressIndicator","RatingIndicator","dataPoint","property","SemanticObject","generateBinding","requestGroupId","groupId","includes","customHeaderFacetDefinition","headerFacetKey","customHeaderFacetID","getCustomHeaderFacetID","position","placement","Placement","After","fragmentName","template","name","title","subTitle","binding","templateEdit"],"sourceRoot":".","sources":["HeaderFacet.ts"],"sourcesContent":["import type {\n\tDataFieldAbstractTypes,\n\tDataPoint,\n\tFacetTypes,\n\tFieldGroup,\n\tReferenceFacetTypes\n} from \"@sap-ux/vocabularies-types/vocabularies/UI\";\nimport { UIAnnotationTerms, UIAnnotationTypes } from \"@sap-ux/vocabularies-types/vocabularies/UI\";\nimport { compileExpression, type CompiledBindingToolkitExpression } from \"sap/fe/base/BindingToolkit\";\nimport type { ManifestHeaderFacet } from \"sap/fe/core/converters/ManifestSettings\";\nimport type { PageContextPathTarget } from \"sap/fe/core/converters/TemplateConverter\";\nimport { getSemanticObjectPath } from \"sap/fe/core/converters/annotations/DataField\";\nimport type { ConfigurableObject, ConfigurableRecord, CustomElement, Position } from \"sap/fe/core/converters/helpers/ConfigurableObject\";\nimport { Placement, insertCustomElements } from \"sap/fe/core/converters/helpers/ConfigurableObject\";\nimport {\n\tgetCustomHeaderFacetID,\n\tgetHeaderFacetContainerID,\n\tgetHeaderFacetFormID,\n\tgetHeaderFacetID\n} from \"sap/fe/core/converters/helpers/ID\";\nimport { KeyHelper } from \"sap/fe/core/converters/helpers/Key\";\nimport { isMultiLineText } from \"sap/fe/core/templating/PropertyHelper\";\nimport { isVisible } from \"sap/fe/core/templating/UIFormatters\";\nimport { createIdForAnnotation } from \"../../../helpers/StableIdHelper\";\nimport type ConverterContext from \"../../ConverterContext\";\nimport { isAnnotationFieldStaticallyHidden, isReferencePropertyStaticallyHidden } from \"../../helpers/DataFieldHelper\";\nimport type { AnnotationFormElement, FormElement } from \"../Common/Form\";\nimport { FormElementType, getFormElementsFromManifest } from \"../Common/Form\";\n\n// region definitions\n////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n// Definitions: Header Facet Types, Generic OP Header Facet, Manifest Properties for Custom Header Facet\n////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\nexport enum HeaderFacetType {\n\tAnnotation = \"Annotation\",\n\tXMLFragment = \"XMLFragment\"\n}\n\nexport enum FacetType {\n\tReference = \"Reference\",\n\tCollection = \"Collection\"\n}\n\nexport enum FlexDesignTimeType {\n\tDefault = \"Default\",\n\tNotAdaptable = \"not-adaptable\", // disable all actions on that instance\n\tNotAdaptableTree = \"not-adaptable-tree\", // disable all actions on that instance and on all children of that instance\n\tNotAdaptableVisibility = \"not-adaptable-visibility\" // disable all actions that influence the visibility, namely reveal and remove\n}\n\nexport type FlexSettings = {\n\tdesigntime?: FlexDesignTimeType;\n};\n\nexport type HeaderFormData = {\n\tid: string;\n\tlabel?: string;\n\tformElements: FormElement[];\n};\n\nenum HeaderDataPointType {\n\tProgressIndicator = \"ProgressIndicator\",\n\tRatingIndicator = \"RatingIndicator\",\n\tContent = \"Content\"\n}\n\ntype HeaderDataPointData = {\n\ttype: HeaderDataPointType;\n\tsemanticObjectPath?: string;\n};\n\nenum TargetAnnotationType {\n\tNone = \"None\",\n\tDataPoint = \"DataPoint\",\n\tChart = \"Chart\",\n\tIdentification = \"Identification\",\n\tContact = \"Contact\",\n\tAddress = \"Address\",\n\tFieldGroup = \"FieldGroup\",\n\tPresentationVariant = \"PresentationVariant\"\n}\n\ntype BaseHeaderFacet = ConfigurableObject & {\n\ttype?: HeaderFacetType; // Manifest or Metadata\n\tid: string;\n\tcontainerId: string;\n\tannotationPath?: string;\n\tflexSettings: FlexSettings;\n\tstashed: boolean;\n\tvisible: CompiledBindingToolkitExpression;\n\ttargetAnnotationValue?: string;\n\ttargetAnnotationType?: TargetAnnotationType;\n};\n\ntype BaseReferenceFacet = BaseHeaderFacet & {\n\tfacetType: FacetType.Reference;\n};\n\nexport type FieldGroupFacet = BaseReferenceFacet & {\n\theaderFormData: HeaderFormData;\n};\n\nexport type DataPointFacet = BaseReferenceFacet & {\n\theaderDataPointData?: HeaderDataPointData;\n};\n\ntype ReferenceFacet = FieldGroupFacet | DataPointFacet;\n\nexport type CollectionFacet = BaseHeaderFacet & {\n\tfacetType: FacetType.Collection;\n\tfacets: ReferenceFacet[];\n};\n\nexport type ObjectPageHeaderFacet = ReferenceFacet | CollectionFacet;\n\nexport type CustomObjectPageHeaderFacet = CustomElement<ObjectPageHeaderFacet> & {\n\tfragmentName?: string;\n\ttitle?: string;\n\tsubTitle?: string;\n\tstashed?: boolean;\n\tbinding?: string;\n\ttemplateEdit?: string;\n};\n\n// endregion definitions\n\n////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n// Collect All Header Facets: Custom (via Manifest) and Annotation Based (via Metamodel)\n////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n/**\n * Retrieve header facets from annotations.\n * @param converterContext\n * @returns Header facets from annotations\n */\nexport function getHeaderFacetsFromAnnotations(converterContext: ConverterContext<PageContextPathTarget>): ObjectPageHeaderFacet[] {\n\tconst headerFacets: ObjectPageHeaderFacet[] = [];\n\tconverterContext.getEntityType().annotations?.UI?.HeaderFacets?.forEach((facet) => {\n\t\tconst headerFacet: ObjectPageHeaderFacet | undefined = createHeaderFacet(facet, converterContext);\n\t\tif (headerFacet) {\n\t\t\theaderFacets.push(headerFacet);\n\t\t}\n\t});\n\n\treturn headerFacets;\n}\n\n/**\n * Retrieve custom header facets from manifest.\n * @param manifestCustomHeaderFacets\n * @returns HeaderFacets from manifest\n */\nexport function getHeaderFacetsFromManifest(\n\tmanifestCustomHeaderFacets: ConfigurableRecord<ManifestHeaderFacet>\n): Record<string, CustomObjectPageHeaderFacet> {\n\tconst customHeaderFacets: Record<string, CustomObjectPageHeaderFacet> = {};\n\n\tObject.keys(manifestCustomHeaderFacets).forEach((manifestHeaderFacetKey) => {\n\t\tconst customHeaderFacet: ManifestHeaderFacet = manifestCustomHeaderFacets[manifestHeaderFacetKey];\n\t\tcustomHeaderFacets[manifestHeaderFacetKey] = createCustomHeaderFacet(customHeaderFacet, manifestHeaderFacetKey);\n\t});\n\n\treturn customHeaderFacets;\n}\n\n/**\n * Retrieve stashed settings for header facets from manifest.\n * @param facetDefinition\n * @param collectionFacetDefinition\n * @param converterContext\n * @returns Stashed setting for header facet or false\n */\nexport function getStashedSettingsForHeaderFacet(\n\tfacetDefinition: FacetTypes,\n\tcollectionFacetDefinition: FacetTypes,\n\tconverterContext: ConverterContext<PageContextPathTarget>\n): boolean {\n\t// When a HeaderFacet is nested inside a CollectionFacet, stashing is not supported\n\tif (\n\t\tfacetDefinition.$Type === UIAnnotationTypes.ReferenceFacet &&\n\t\tcollectionFacetDefinition.$Type === UIAnnotationTypes.CollectionFacet\n\t) {\n\t\treturn false;\n\t}\n\tconst headerFacetID = createIdForAnnotation(facetDefinition) ?? \"\";\n\tconst headerFacetsControlConfig = converterContext.getManifestWrapper().getHeaderFacets();\n\tconst stashedSetting = headerFacetsControlConfig[headerFacetID]?.stashed;\n\treturn stashedSetting === true;\n}\n\n/**\n * Retrieve flexibility designtime settings from manifest.\n * @param facetDefinition\n * @param collectionFacetDefinition\n * @param converterContext\n * @returns Designtime setting or default\n */\nexport function getDesignTimeMetadataSettingsForHeaderFacet(\n\tfacetDefinition: FacetTypes,\n\tcollectionFacetDefinition: FacetTypes,\n\tconverterContext: ConverterContext<PageContextPathTarget>\n): FlexDesignTimeType {\n\tlet designTimeMetadata: FlexDesignTimeType = FlexDesignTimeType.Default;\n\tconst headerFacetID = createIdForAnnotation(facetDefinition);\n\n\t// For HeaderFacets nested inside CollectionFacet RTA should be disabled, therefore set to \"not-adaptable-tree\"\n\tif (\n\t\tfacetDefinition.$Type === UIAnnotationTypes.ReferenceFacet &&\n\t\tcollectionFacetDefinition.$Type === UIAnnotationTypes.CollectionFacet\n\t) {\n\t\tdesignTimeMetadata = FlexDesignTimeType.NotAdaptableTree;\n\t} else {\n\t\tconst headerFacetsControlConfig = converterContext.getManifestWrapper().getHeaderFacets();\n\t\tif (headerFacetID) {\n\t\t\tconst designTime = headerFacetsControlConfig[headerFacetID]?.flexSettings?.designtime;\n\t\t\tswitch (designTime) {\n\t\t\t\tcase FlexDesignTimeType.NotAdaptable:\n\t\t\t\tcase FlexDesignTimeType.NotAdaptableTree:\n\t\t\t\tcase FlexDesignTimeType.NotAdaptableVisibility:\n\t\t\t\t\tdesignTimeMetadata = designTime;\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\treturn designTimeMetadata;\n}\n\n////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n// Convert & Build Annotation Based Header Facets\n////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\nfunction createReferenceHeaderFacet(\n\tfacetDefinition: FacetTypes,\n\tcollectionFacetDefinition: FacetTypes,\n\tconverterContext: ConverterContext<PageContextPathTarget>\n): ReferenceFacet | undefined {\n\tif (facetDefinition.$Type === UIAnnotationTypes.ReferenceFacet && facetDefinition.annotations?.UI?.Hidden?.valueOf() !== true) {\n\t\tconst headerFacetID = getHeaderFacetID(facetDefinition),\n\t\t\tgetHeaderFacetKey = (facetDefinitionToCheck: FacetTypes, fallback: string): string => {\n\t\t\t\treturn facetDefinitionToCheck.ID?.toString() || facetDefinitionToCheck.Label?.toString() || fallback;\n\t\t\t},\n\t\t\ttargetAnnotationValue = facetDefinition.Target.value,\n\t\t\ttargetAnnotationType = getTargetAnnotationType(facetDefinition);\n\n\t\tlet headerFormData: HeaderFormData | undefined;\n\t\tlet headerDataPointData: HeaderDataPointData | undefined;\n\n\t\tswitch (targetAnnotationType) {\n\t\t\tcase TargetAnnotationType.FieldGroup:\n\t\t\t\theaderFormData = getFieldGroupFormData(facetDefinition, converterContext);\n\t\t\t\tbreak;\n\n\t\t\tcase TargetAnnotationType.DataPoint:\n\t\t\t\theaderDataPointData = getDataPointData(facetDefinition, converterContext);\n\t\t\t\tbreak;\n\t\t\t// ToDo: Handle other cases\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\n\t\tif (facetDefinition.Target?.$target?.term === UIAnnotationTerms.Chart && isAnnotationFieldStaticallyHidden(facetDefinition)) {\n\t\t\treturn undefined;\n\t\t} else {\n\t\t\treturn {\n\t\t\t\ttype: HeaderFacetType.Annotation,\n\t\t\t\tfacetType: FacetType.Reference,\n\t\t\t\tid: headerFacetID,\n\t\t\t\tcontainerId: getHeaderFacetContainerID(facetDefinition),\n\t\t\t\tkey: getHeaderFacetKey(facetDefinition, headerFacetID),\n\t\t\t\tflexSettings: {\n\t\t\t\t\tdesigntime: getDesignTimeMetadataSettingsForHeaderFacet(facetDefinition, collectionFacetDefinition, converterContext)\n\t\t\t\t},\n\t\t\t\tstashed: getStashedSettingsForHeaderFacet(facetDefinition, collectionFacetDefinition, converterContext),\n\t\t\t\tvisible: compileExpression(isVisible(facetDefinition)),\n\t\t\t\tannotationPath: `${converterContext.getEntitySetBasedAnnotationPath(facetDefinition.fullyQualifiedName)}/`,\n\t\t\t\ttargetAnnotationValue,\n\t\t\t\ttargetAnnotationType,\n\t\t\t\theaderFormData,\n\t\t\t\theaderDataPointData\n\t\t\t};\n\t\t}\n\t}\n\n\treturn undefined;\n}\n\nfunction createCollectionHeaderFacet(\n\tcollectionFacetDefinition: FacetTypes,\n\tconverterContext: ConverterContext<PageContextPathTarget>\n): CollectionFacet | undefined {\n\tif (collectionFacetDefinition.$Type === UIAnnotationTypes.CollectionFacet) {\n\t\tconst facets: ReferenceFacet[] = [],\n\t\t\theaderFacetID = getHeaderFacetID(collectionFacetDefinition),\n\t\t\tgetHeaderFacetKey = (facetDefinition: FacetTypes, fallback: string): string => {\n\t\t\t\treturn facetDefinition.ID?.toString() || facetDefinition.Label?.toString() || fallback;\n\t\t\t};\n\n\t\tcollectionFacetDefinition.Facets.forEach((facetDefinition) => {\n\t\t\tconst facet: ReferenceFacet | undefined = createReferenceHeaderFacet(\n\t\t\t\tfacetDefinition,\n\t\t\t\tcollectionFacetDefinition,\n\t\t\t\tconverterContext\n\t\t\t);\n\t\t\tif (facet) {\n\t\t\t\tfacets.push(facet);\n\t\t\t}\n\t\t});\n\n\t\treturn {\n\t\t\ttype: HeaderFacetType.Annotation,\n\t\t\tfacetType: FacetType.Collection,\n\t\t\tid: headerFacetID,\n\t\t\tcontainerId: getHeaderFacetContainerID(collectionFacetDefinition),\n\t\t\tkey: getHeaderFacetKey(collectionFacetDefinition, headerFacetID),\n\t\t\tflexSettings: {\n\t\t\t\tdesigntime: getDesignTimeMetadataSettingsForHeaderFacet(\n\t\t\t\t\tcollectionFacetDefinition,\n\t\t\t\t\tcollectionFacetDefinition,\n\t\t\t\t\tconverterContext\n\t\t\t\t)\n\t\t\t},\n\t\t\tstashed: getStashedSettingsForHeaderFacet(collectionFacetDefinition, collectionFacetDefinition, converterContext),\n\t\t\tvisible: compileExpression(isVisible(collectionFacetDefinition)),\n\t\t\tannotationPath: `${converterContext.getEntitySetBasedAnnotationPath(collectionFacetDefinition.fullyQualifiedName)}/`,\n\t\t\tfacets\n\t\t};\n\t}\n\n\treturn undefined;\n}\n\nfunction getTargetAnnotationType(facetDefinition: FacetTypes): TargetAnnotationType {\n\tlet annotationType = TargetAnnotationType.None;\n\tconst annotationTypeMap: Record<string, TargetAnnotationType> = {\n\t\t\"com.sap.vocabularies.UI.v1.DataPoint\": TargetAnnotationType.DataPoint,\n\t\t\"com.sap.vocabularies.UI.v1.Chart\": TargetAnnotationType.Chart,\n\t\t\"com.sap.vocabularies.UI.v1.Identification\": TargetAnnotationType.Identification,\n\t\t\"com.sap.vocabularies.Communication.v1.Contact\": TargetAnnotationType.Contact,\n\t\t\"com.sap.vocabularies.Communication.v1.Address\": TargetAnnotationType.Address,\n\t\t\"com.sap.vocabularies.UI.v1.FieldGroup\": TargetAnnotationType.FieldGroup,\n\t\t\"com.sap.vocabularies.UI.v1.PresentationVariant\": TargetAnnotationType.PresentationVariant\n\t};\n\t// ReferenceURLFacet and CollectionFacet do not have Target property.\n\tif (\n\t\tfacetDefinition.$Type !== UIAnnotationTypes.ReferenceURLFacet &&\n\t\tfacetDefinition.$Type !== UIAnnotationTypes.CollectionFacet &&\n\t\tfacetDefinition.Target.$target\n\t) {\n\t\tannotationType = annotationTypeMap[facetDefinition.Target.$target.term] ?? TargetAnnotationType.None;\n\t}\n\n\treturn annotationType;\n}\n\nfunction getFieldGroupFormData(\n\tfacetDefinition: ReferenceFacetTypes,\n\tconverterContext: ConverterContext<PageContextPathTarget>\n): HeaderFormData {\n\t// split in this from annotation + getFieldGroupFromDefault\n\tif (!facetDefinition) {\n\t\tthrow new Error(\"Cannot get FieldGroup form data without facet definition\");\n\t}\n\n\tconst formElements = insertCustomElements(\n\t\tgetFormElementsFromAnnotations(facetDefinition, converterContext),\n\t\tgetFormElementsFromManifest(facetDefinition, converterContext)\n\t);\n\n\treturn {\n\t\tid: getHeaderFacetFormID(facetDefinition),\n\t\tlabel: facetDefinition.Label?.toString(),\n\t\tformElements\n\t};\n}\n\n/**\n * Creates an array of manifest-based FormElements.\n * @param facetDefinition The definition of the facet\n * @param converterContext The converter context for the facet\n * @returns Annotation-based FormElements\n */\nfunction getFormElementsFromAnnotations(\n\tfacetDefinition: FacetTypes,\n\tconverterContext: ConverterContext<PageContextPathTarget>\n): AnnotationFormElement[] {\n\tconst annotationBasedFormElements: AnnotationFormElement[] = [];\n\n\t// ReferenceURLFacet and CollectionFacet do not have Target property.\n\tif (facetDefinition.$Type !== UIAnnotationTypes.ReferenceURLFacet && facetDefinition.$Type !== UIAnnotationTypes.CollectionFacet) {\n\t\tconst resolvedTarget = converterContext.getEntityTypeAnnotation(facetDefinition.Target.value);\n\t\tconverterContext = resolvedTarget.converterContext;\n\t\t(facetDefinition.Target?.$target as FieldGroup)?.Data.forEach((dataField: DataFieldAbstractTypes) => {\n\t\t\tif (dataField.annotations?.UI?.Hidden?.valueOf() !== true) {\n\t\t\t\tconst semanticObjectAnnotationPath = getSemanticObjectPath(converterContext, dataField);\n\t\t\t\tif (\n\t\t\t\t\t(dataField.$Type === UIAnnotationTypes.DataField ||\n\t\t\t\t\t\tdataField.$Type === UIAnnotationTypes.DataFieldWithUrl ||\n\t\t\t\t\t\tdataField.$Type === UIAnnotationTypes.DataFieldWithNavigationPath ||\n\t\t\t\t\t\tdataField.$Type === UIAnnotationTypes.DataFieldWithIntentBasedNavigation ||\n\t\t\t\t\t\tdataField.$Type === UIAnnotationTypes.DataFieldWithAction) &&\n\t\t\t\t\t!isReferencePropertyStaticallyHidden(dataField)\n\t\t\t\t) {\n\t\t\t\t\tannotationBasedFormElements.push({\n\t\t\t\t\t\tisValueMultilineText: isMultiLineText(dataField.Value?.$target),\n\t\t\t\t\t\ttype: FormElementType.Annotation,\n\t\t\t\t\t\tkey: KeyHelper.generateKeyFromDataField(dataField),\n\t\t\t\t\t\tvisible: compileExpression(isVisible(dataField)),\n\t\t\t\t\t\tlabel: dataField.Value?.$target?.annotations?.Common?.Label || dataField.Label,\n\t\t\t\t\t\tidPrefix: getHeaderFacetFormID(facetDefinition, dataField),\n\t\t\t\t\t\tannotationPath: `${converterContext.getEntitySetBasedAnnotationPath(dataField.fullyQualifiedName)}/`,\n\t\t\t\t\t\tsemanticObjectPath: semanticObjectAnnotationPath\n\t\t\t\t\t});\n\t\t\t\t} else if (\n\t\t\t\t\tdataField.$Type === UIAnnotationTypes.DataFieldForAnnotation &&\n\t\t\t\t\t!isReferencePropertyStaticallyHidden(dataField)\n\t\t\t\t) {\n\t\t\t\t\tannotationBasedFormElements.push({\n\t\t\t\t\t\tisValueMultilineText: false, // was dataField.Target?.$target?.annotations?.UI?.MultiLineText?.valueOf() === true but that doesn't make sense as the target cannot have that annotation\n\t\t\t\t\t\ttype: FormElementType.Annotation,\n\t\t\t\t\t\tkey: KeyHelper.generateKeyFromDataField(dataField),\n\t\t\t\t\t\tvisible: compileExpression(isVisible(dataField)),\n\t\t\t\t\t\tlabel: dataField.Target?.$target?.annotations?.Common?.Label?.toString() || dataField.Label?.toString(),\n\t\t\t\t\t\tidPrefix: getHeaderFacetFormID(facetDefinition, dataField),\n\t\t\t\t\t\tannotationPath: `${converterContext.getEntitySetBasedAnnotationPath(dataField.fullyQualifiedName)}/`,\n\t\t\t\t\t\tsemanticObjectPath: semanticObjectAnnotationPath\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\n\treturn annotationBasedFormElements;\n}\n\nfunction getDataPointData(facetDefinition: FacetTypes, converterContext: ConverterContext<PageContextPathTarget>): HeaderDataPointData {\n\tlet type = HeaderDataPointType.Content;\n\tlet semanticObjectPath;\n\tif (facetDefinition.$Type === UIAnnotationTypes.ReferenceFacet && !isAnnotationFieldStaticallyHidden(facetDefinition)) {\n\t\tif ((facetDefinition.Target?.$target as DataPoint)?.Visualization === \"UI.VisualizationType/Progress\") {\n\t\t\ttype = HeaderDataPointType.ProgressIndicator;\n\t\t} else if ((facetDefinition.Target?.$target as DataPoint)?.Visualization === \"UI.VisualizationType/Rating\") {\n\t\t\ttype = HeaderDataPointType.RatingIndicator;\n\t\t}\n\t\tconst dataPoint = facetDefinition.Target?.$target as DataPoint;\n\n\t\tif (typeof dataPoint === \"object\") {\n\t\t\tif (dataPoint?.Value?.$target) {\n\t\t\t\tconst property = dataPoint.Value.$target;\n\t\t\t\tif (property?.annotations?.Common?.SemanticObject !== undefined) {\n\t\t\t\t\tsemanticObjectPath = converterContext.getEntitySetBasedAnnotationPath(property?.fullyQualifiedName);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn { type, semanticObjectPath };\n}\n\n/**\n * Creates an annotation-based header facet.\n * @param facetDefinition The definition of the facet\n * @param converterContext The converter context\n * @returns The created annotation-based header facet\n */\nfunction createHeaderFacet(\n\tfacetDefinition: FacetTypes,\n\tconverterContext: ConverterContext<PageContextPathTarget>\n): ObjectPageHeaderFacet | undefined {\n\tlet headerFacet: ObjectPageHeaderFacet | undefined;\n\tswitch (facetDefinition.$Type) {\n\t\tcase UIAnnotationTypes.ReferenceFacet:\n\t\t\theaderFacet = createReferenceHeaderFacet(facetDefinition, facetDefinition, converterContext);\n\t\t\tbreak;\n\n\t\tcase UIAnnotationTypes.CollectionFacet:\n\t\t\theaderFacet = createCollectionHeaderFacet(facetDefinition, converterContext);\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tbreak;\n\t}\n\n\treturn headerFacet;\n}\n\n////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n// Convert & Build Manifest Based Header Facets\n////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\nfunction generateBinding(requestGroupId?: string): string | undefined {\n\tif (!requestGroupId) {\n\t\treturn undefined;\n\t}\n\tconst groupId = [\"Heroes\", \"Decoration\", \"Workers\", \"LongRunners\"].includes(requestGroupId)\n\t\t? `$auto.${requestGroupId}`\n\t\t: requestGroupId;\n\n\treturn `{ path : '', parameters : { $$groupId : '${groupId}' } }`;\n}\n\n/**\n * Create a manifest based custom header facet.\n * @param customHeaderFacetDefinition\n * @param headerFacetKey\n * @returns The manifest based custom header facet created\n */\nfunction createCustomHeaderFacet(customHeaderFacetDefinition: ManifestHeaderFacet, headerFacetKey: string): CustomObjectPageHeaderFacet {\n\tconst customHeaderFacetID = getCustomHeaderFacetID(headerFacetKey);\n\n\tlet position: Position | undefined = customHeaderFacetDefinition.position;\n\tif (!position) {\n\t\tposition = {\n\t\t\tplacement: Placement.After\n\t\t};\n\t}\n\t// TODO for an non annotation fragment the name is mandatory -> Not checked\n\treturn {\n\t\tfacetType: FacetType.Reference,\n\t\ttype: customHeaderFacetDefinition.type,\n\t\tid: customHeaderFacetID,\n\t\tcontainerId: customHeaderFacetID,\n\t\tkey: headerFacetKey,\n\t\tposition: position,\n\t\tvisible: customHeaderFacetDefinition.visible,\n\t\tfragmentName: customHeaderFacetDefinition.template || customHeaderFacetDefinition.name,\n\t\ttitle: customHeaderFacetDefinition.title,\n\t\tsubTitle: customHeaderFacetDefinition.subTitle,\n\t\tstashed: customHeaderFacetDefinition.stashed || false,\n\t\tflexSettings: { ...{ designtime: FlexDesignTimeType.Default }, ...customHeaderFacetDefinition.flexSettings },\n\t\tbinding: generateBinding(customHeaderFacetDefinition.requestGroupId),\n\t\ttemplateEdit: customHeaderFacetDefinition.templateEdit\n\t};\n}\n"],"mappings":"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","ignoreList":[],"file":"HeaderFacet-dbg.js"}