{"version":3,"file":"ManifestWrapper.js","names":["ensureAnnotationPath","obj","property","propertyValue","Array","isArray","forEach","entry","includes","ManifestWrapper","oManifestSettings","appComponent","this","views","paths","path","controlConfiguration","Object","values","quickVariantSelection","tableSettings","_proto","prototype","getSapFeManifestConfiguration","sapFeManifestConfiguration","getTemplateType","converterType","isFilterBarHidden","hideFilterBar","useHiddenFilterBar","getCollapsedHeaderFragment","content","header","customHeader","collapsedHeaderFragment","getExpandedHeaderFragment","expandedHeaderFragment","isDesktop","isPhone","getFormContainer","facetTarget","getHeaderFacets","merge","facets","getHeaderActions","actions","getFooterActions","footer","getVariantManagement","variantManagement","VariantManagementType","None","getDefaultTemplateAnnotationPath","defaultTemplateAnnotationPath","getControlConfiguration","sAnnotationPath","getNavigationConfiguration","navigationOrCollectionName","navigation","getViewLevel","viewLevel","getContentDensities","contentDensities","cozy","compact","isFclEnabled","fclEnabled","isCondensedLayoutCompliant","manifestContentDensity","shellContentDensity","isSmallDevice","Device","system","desktop","resize","width","isCompactType","getOutboundNavigationEntries","getManifestEntry","crossNavigation","outbounds","getSectionLayout","sectionLayout","getSections","sections","body","getHorizontalLayoutForFieldGroup","fieldTarget","subSections","horizontalLayout","isHeaderEditable","getShowObjectPageHeader","editableHeaderContent","getUseTextForNoDataMessages","useTextForNoDataMessages","getShowAnchorBar","anchorBarVisible","undefined","useIconTabBar","visible","getEnableLazyLoading","enableLazyLoading","getTransportSelection","transportSelection","getViewConfiguration","getStickyMultiTabHeaderConfiguration","bStickyMultiTabHeader","stickyMultiTabHeader","getKPIConfiguration","keyPerformanceIndicators","getFilterConfiguration","configPath","arguments","length","hasMultipleEntitySets","viewConfig","manifestEntitySet","entitySet","find","template","hasMultipleVisualizations","primary","secondary","some","primaryPath","secondaryPath","getContextPath","contextPath","isViewPathConfiguration","isCombinedViewConfiguration","isCustomViewConfiguration","multipleViewsConfiguration","getEntitySet","hasInlineEdit","inlineEdit","disabledFields","enabledFields","getInlineEditEnabledFields","getInlineEditDisabledFields","getInlineConnectedFields","connectedFields"],"sources":["./ManifestWrapper.ts"],"sourcesContent":["import merge from \"sap/base/util/merge\";\nimport type AppComponent from \"sap/fe/core/AppComponent\";\nimport type {\n\tBaseManifestSettings,\n\tCombinedViewPathConfiguration,\n\tContentDensitiesType,\n\tControlManifestConfiguration,\n\tCustomViewTemplateConfiguration,\n\tFilterManifestConfiguration,\n\tFormManifestConfiguration,\n\tKPIConfiguration,\n\tListReportManifestSettings,\n\tManifestAction,\n\tManifestHeaderFacet,\n\tManifestSection,\n\tMultipleViewsConfiguration,\n\tNavigationSettingsConfiguration,\n\tObjectPageManifestSettings,\n\tSingleViewPathConfiguration,\n\tTableManifestConfiguration,\n\tTemplateType,\n\tTransportSelectionDefinition,\n\tViewConfiguration\n} from \"sap/fe/core/converters/ManifestSettings\";\nimport { VariantManagementType } from \"sap/fe/core/converters/ManifestSettings\";\nimport type { ConfigurableRecord } from \"sap/fe/core/converters/helpers/ConfigurableObject\";\nimport Device from \"sap/ui/Device\";\nimport type { ManifestContent, ManifestOutboundEntry } from \"sap/ui/core/Manifest\";\n\nfunction ensureAnnotationPath<T extends object>(obj: T | undefined, property: keyof T): void {\n\tconst propertyValue = obj?.[property];\n\tif (Array.isArray(propertyValue)) {\n\t\tpropertyValue.forEach((entry) => ensureAnnotationPath(entry, \"annotationPath\"));\n\t} else if (propertyValue && typeof propertyValue === \"string\" && !propertyValue.includes(\"@\")) {\n\t\tobj[property] = (\"@\" + propertyValue) as T[keyof T];\n\t}\n}\n\n/**\n *\n */\nclass ManifestWrapper {\n\t/**\n\t * Creates a wrapper object to ensure the data returned from the manifest is consistent and everything is merged correctly.\n\t * @param oManifestSettings The manifest settings for the current page\n\t * @param appComponent The app component\n\t * @returns The manifest wrapper object\n\t */\n\tconstructor(\n\t\tprivate oManifestSettings: BaseManifestSettings,\n\t\tprivate appComponent?: AppComponent\n\t) {\n\t\t// Ensure that properties which are meant to contain an *annotation* path contain a '@'\n\t\tensureAnnotationPath(this.oManifestSettings, \"defaultTemplateAnnotationPath\");\n\n\t\t(this.oManifestSettings as ListReportManifestSettings).views?.paths.forEach((path) => {\n\t\t\tensureAnnotationPath(path as SingleViewPathConfiguration, \"annotationPath\");\n\t\t\tensureAnnotationPath(path as CombinedViewPathConfiguration, \"primary\");\n\t\t\tensureAnnotationPath(path as CombinedViewPathConfiguration, \"secondary\");\n\t\t});\n\n\t\tif (this.oManifestSettings.controlConfiguration) {\n\t\t\tfor (const controlConfiguration of Object.values(this.oManifestSettings.controlConfiguration)) {\n\t\t\t\tconst quickVariantSelection = (controlConfiguration as TableManifestConfiguration).tableSettings?.quickVariantSelection;\n\t\t\t\tensureAnnotationPath(quickVariantSelection, \"paths\");\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Returns the global manifest content sap.fe.\n\t * @returns The Object manifest sap.fe\n\t */\n\tgetSapFeManifestConfiguration(): ManifestContent[\"sap.fe\"] | undefined {\n\t\treturn this.oManifestSettings.sapFeManifestConfiguration;\n\t}\n\n\t/**\n\t * Returns the current template type.\n\t * @returns The type of the current template\n\t */\n\tgetTemplateType(): TemplateType {\n\t\treturn this.oManifestSettings.converterType;\n\t}\n\n\t/**\n\t * Checks whether the current template should display the filter bar.\n\t * @returns `true` if the filter bar should be hidden\n\t */\n\tisFilterBarHidden(): boolean {\n\t\treturn !!(this.oManifestSettings as ListReportManifestSettings)?.hideFilterBar;\n\t}\n\n\tuseHiddenFilterBar(): boolean {\n\t\treturn !!(this.oManifestSettings as ListReportManifestSettings)?.useHiddenFilterBar;\n\t}\n\n\tgetCollapsedHeaderFragment(): string | undefined {\n\t\treturn (this.oManifestSettings as ListReportManifestSettings)?.content?.header?.customHeader?.collapsedHeaderFragment;\n\t}\n\n\tgetExpandedHeaderFragment(): string | undefined {\n\t\treturn (this.oManifestSettings as ListReportManifestSettings)?.content?.header?.customHeader?.expandedHeaderFragment;\n\t}\n\n\t/**\n\t * Checks whether the current environment is a desktop or not.\n\t * @returns `true` if we are on a desktop\n\t */\n\tisDesktop(): boolean {\n\t\treturn !!this.oManifestSettings.isDesktop;\n\t}\n\n\t/**\n\t * Checks whether the current environment is a mobile phone or not.\n\t * @returns `true` if we are on a mobile phone\n\t */\n\tisPhone(): boolean {\n\t\treturn !!this.oManifestSettings.isPhone;\n\t}\n\n\t/**\n\t * Retrieves the form containers (field groups or identification) defined in the manifest.\n\t * @param facetTarget The target annotation path for this form\n\t * @returns A set of form containers defined in the manifest indexed by an iterable key\n\t */\n\tgetFormContainer(facetTarget: string): FormManifestConfiguration {\n\t\treturn this.oManifestSettings.controlConfiguration?.[facetTarget] as FormManifestConfiguration;\n\t}\n\n\t/**\n\t * Retrieves the header facets defined in the manifest.\n\t * @returns A set of header facets defined in the manifest indexed by an iterable key\n\t */\n\tgetHeaderFacets(): ConfigurableRecord<ManifestHeaderFacet> {\n\t\treturn merge(\n\t\t\t{},\n\t\t\tthis.oManifestSettings.controlConfiguration?.[\"@com.sap.vocabularies.UI.v1.HeaderFacets\"]?.facets ?? {},\n\t\t\t(this.oManifestSettings as ObjectPageManifestSettings).content?.header?.facets ?? {}\n\t\t) as unknown as ConfigurableRecord<ManifestHeaderFacet>;\n\t}\n\n\t/**\n\t * Retrieves the header actions defined in the manifest.\n\t * @returns A set of actions defined in the manifest indexed by an iterable key\n\t */\n\tgetHeaderActions(): ConfigurableRecord<ManifestAction> {\n\t\treturn this.oManifestSettings.content?.header?.actions || {};\n\t}\n\n\t/**\n\t * Retrieves the footer actions defined in the manifest.\n\t * @returns A set of actions defined in the manifest indexed by an iterable key\n\t */\n\tgetFooterActions(): ConfigurableRecord<ManifestAction> {\n\t\treturn this.oManifestSettings.content?.footer?.actions || {};\n\t}\n\n\t/**\n\t * Retrieves the variant management as defined in the manifest.\n\t * @returns A type of variant management\n\t */\n\tgetVariantManagement(): VariantManagementType {\n\t\treturn this.oManifestSettings.variantManagement || VariantManagementType.None;\n\t}\n\n\t/**\n\t * Retrieves the annotation Path for the SPV in the manifest.\n\t * @returns The annotation path for the default SPV or undefined.\n\t */\n\tgetDefaultTemplateAnnotationPath(): string | undefined {\n\t\treturn this.oManifestSettings.defaultTemplateAnnotationPath;\n\t}\n\n\t/**\n\t * Retrieves the control configuration as defined in the manifest for a specific annotation path.\n\t * @param sAnnotationPath The relative annotation path\n\t * @returns The control configuration\n\t */\n\tgetControlConfiguration<T = ControlManifestConfiguration>(sAnnotationPath: string): T {\n\t\treturn (this.oManifestSettings?.controlConfiguration?.[sAnnotationPath] || {}) as T;\n\t}\n\n\t/**\n\t * Retrieves the configured settings for a given navigation target.\n\t * @param navigationOrCollectionName The name of the navigation to check\n\t * @returns The navigation settings configuration\n\t */\n\tgetNavigationConfiguration(navigationOrCollectionName: string): NavigationSettingsConfiguration {\n\t\treturn this.oManifestSettings?.navigation?.[navigationOrCollectionName] || {};\n\t}\n\n\t/**\n\t * Retrieves the view level.\n\t * @returns The current view level\n\t */\n\tgetViewLevel(): number {\n\t\treturn this.oManifestSettings?.viewLevel || -1;\n\t}\n\n\t/**\n\t * Retrieves the contentDensities setting of the application.\n\t * @returns The current content density\n\t */\n\tgetContentDensities(): ContentDensitiesType {\n\t\treturn (\n\t\t\tthis.oManifestSettings?.contentDensities || {\n\t\t\t\tcozy: false,\n\t\t\t\tcompact: false\n\t\t\t}\n\t\t);\n\t}\n\n\t/**\n\t * Checks whether we are in FCL mode or not.\n\t * @returns `true` if we are in FCL\n\t */\n\tisFclEnabled(): boolean {\n\t\treturn !!this.oManifestSettings?.fclEnabled;\n\t}\n\n\t/**\n\t * Checks whether the current settings (application / shell) allows us to use condensed layout.\n\t * @returns `true` if we can use the condensed layout, false otherwise\n\t */\n\tisCondensedLayoutCompliant(): boolean {\n\t\tconst manifestContentDensity = this.oManifestSettings?.contentDensities || {\n\t\t\tcozy: false,\n\t\t\tcompact: false\n\t\t};\n\t\tconst shellContentDensity = this.oManifestSettings?.shellContentDensity || \"compact\";\n\t\tlet isCondensedLayoutCompliant = true;\n\t\tconst isSmallDevice = !Device.system.desktop || Device.resize.width <= 320;\n\t\tif (\n\t\t\t(manifestContentDensity?.cozy === true && manifestContentDensity?.compact !== true) ||\n\t\t\tshellContentDensity === \"cozy\" ||\n\t\t\tisSmallDevice\n\t\t) {\n\t\t\tisCondensedLayoutCompliant = false;\n\t\t}\n\t\treturn isCondensedLayoutCompliant;\n\t}\n\n\t/**\n\t * Checks whether the current settings (application / shell) uses compact mode as content density.\n\t * @returns `true` if compact mode is set as content density, false otherwise\n\t */\n\tisCompactType(): boolean {\n\t\tconst manifestContentDensity = this.getContentDensities();\n\t\tconst shellContentDensity = this.oManifestSettings?.shellContentDensity || \"compact\";\n\t\treturn manifestContentDensity.compact !== false || shellContentDensity === \"compact\" ? true : false;\n\t}\n\n\t/**\n\t * Retrieves the outbound navigation entries defined in the cross-navigation section of the application manifest.\n\t * @returns The entries if they exist, otherwise undefined\n\t */\n\tgetOutboundNavigationEntries(): Record<string, ManifestOutboundEntry> | undefined {\n\t\treturn this.appComponent?.getManifestEntry(\"sap.app\")?.crossNavigation?.outbounds;\n\t}\n\n\t//region OP Specific\n\n\t/**\n\t * Retrieves the section layout defined in the manifest.\n\t * @returns The type of section layout of the object page\n\t */\n\tgetSectionLayout(): string {\n\t\treturn (this.oManifestSettings as ObjectPageManifestSettings).sectionLayout ?? \"Tabs\";\n\t}\n\n\t/**\n\t * Retrieves the sections defined in the manifest.\n\t * @returns A set of manifest sections indexed by an iterable key\n\t */\n\tgetSections(): ConfigurableRecord<ManifestSection> {\n\t\treturn merge(\n\t\t\t{},\n\t\t\tthis.oManifestSettings.controlConfiguration?.[\"@com.sap.vocabularies.UI.v1.Facets\"]?.sections ?? {},\n\t\t\t(this.oManifestSettings as ObjectPageManifestSettings).content?.body?.sections ?? {}\n\t\t) as unknown as ConfigurableRecord<ManifestSection>;\n\t}\n\n\t/**\n\t * Returns the horizontal layout setting for a field group, if there is one.\n\t * @param facetTarget The target annotation path for the outer field group in the facet\n\t * @param fieldTarget The target annotation path for the field inside the field group, which is a field group itself in case of the horizontalLayout setting\n\t * @returns The horizontal layout setting for the field group, if it exists, otherwise undefined\n\t */\n\tgetHorizontalLayoutForFieldGroup(facetTarget: string, fieldTarget: string): boolean | undefined {\n\t\treturn (this.oManifestSettings as ObjectPageManifestSettings).content?.body?.sections?.[facetTarget]?.subSections?.[fieldTarget]\n\t\t\t?.horizontalLayout;\n\t}\n\n\t/**\n\t * Returns true of the header of the application is editable and should appear in the facets.\n\t * @returns `true` if the header if editable\n\t */\n\tisHeaderEditable(): boolean {\n\t\treturn this.getShowObjectPageHeader() && !!(this.oManifestSettings as ObjectPageManifestSettings).editableHeaderContent;\n\t}\n\n\t/**\n\t * Returns true if we should use text instead of IllustratedMessage for the noData aggregation in the whole page.\n\t * @returns `true` if we should use text for noData aggregation\n\t */\n\tgetUseTextForNoDataMessages(): boolean {\n\t\treturn (this.oManifestSettings as ObjectPageManifestSettings).useTextForNoDataMessages ?? false;\n\t}\n\n\t/**\n\t * Returns true if we should show the object page header.\n\t * @returns `true` if the header should be displayed\n\t */\n\tgetShowAnchorBar(): boolean {\n\t\treturn (this.oManifestSettings as ObjectPageManifestSettings).content?.header?.anchorBarVisible !== undefined\n\t\t\t? !!(this.oManifestSettings as ObjectPageManifestSettings).content?.header?.anchorBarVisible\n\t\t\t: true;\n\t}\n\n\t/**\n\t * Defines whether or not the section will be displayed in different tabs.\n\t * @returns `true` if the icon tab bar should be used instead of scrolling\n\t */\n\tuseIconTabBar(): boolean {\n\t\treturn this.getShowAnchorBar() && (this.oManifestSettings as ObjectPageManifestSettings).sectionLayout === \"Tabs\";\n\t}\n\n\t/**\n\t * Returns true if the object page header is to be shown.\n\t * @returns `true` if the object page header is to be displayed\n\t */\n\tgetShowObjectPageHeader(): boolean {\n\t\treturn (this.oManifestSettings as ObjectPageManifestSettings).content?.header?.visible !== undefined\n\t\t\t? !!(this.oManifestSettings as ObjectPageManifestSettings).content?.header?.visible\n\t\t\t: true;\n\t}\n\n\t/**\n\t * Returns whether the lazy loader should be enabled for this page or not.\n\t * @returns `true` if the lazy loader should be enabled\n\t */\n\tgetEnableLazyLoading(): boolean {\n\t\treturn this.oManifestSettings.enableLazyLoading ?? false;\n\t}\n\n\t/**\n\t * Returns the transport selection definition.\n\t * @returns Definition with transport property and select action\n\t */\n\tgetTransportSelection(): TransportSelectionDefinition | undefined {\n\t\treturn (this.oManifestSettings as ObjectPageManifestSettings).content?.transportSelection;\n\t}\n\n\t//endregion OP Specific\n\n\t//region LR Specific\n\n\t/**\n\t * Retrieves the multiple view configuration from the manifest.\n\t * @returns The views that represent the manifest object\n\t */\n\tgetViewConfiguration(): MultipleViewsConfiguration | undefined {\n\t\treturn (this.oManifestSettings as ListReportManifestSettings).views;\n\t}\n\n\t/**\n\t * Retrieves the stickyMultiTabHeader configuration from the manifest.\n\t * @returns Returns True if stickyMultiTabHeader is enabled or undefined\n\t */\n\tgetStickyMultiTabHeaderConfiguration(): boolean {\n\t\tconst bStickyMultiTabHeader = (this.oManifestSettings as ListReportManifestSettings).stickyMultiTabHeader;\n\t\treturn bStickyMultiTabHeader !== undefined ? bStickyMultiTabHeader : true;\n\t}\n\n\t/**\n\t * Retrieves the KPI configuration from the manifest.\n\t * @returns Returns a map between KPI names and their respective configuration\n\t */\n\tgetKPIConfiguration(): { [kpiName: string]: KPIConfiguration } {\n\t\treturn (this.oManifestSettings as ListReportManifestSettings).keyPerformanceIndicators || {};\n\t}\n\n\t/**\n\t * Retrieves the filter configuration from the manifest.\n\t * @param configPath\n\t * @returns The filter configuration from the manifest\n\t */\n\tgetFilterConfiguration(configPath = \"@com.sap.vocabularies.UI.v1.SelectionFields\"): FilterManifestConfiguration {\n\t\treturn this.getControlConfiguration<FilterManifestConfiguration>(configPath);\n\t}\n\n\t/**\n\t * Returns true if there are multiple entity sets to be displayed.\n\t * @returns `true` if there are multiple entity sets\n\t */\n\thasMultipleEntitySets(): boolean {\n\t\tconst viewConfig = this.getViewConfiguration() || { paths: [] };\n\t\tconst manifestEntitySet = this.oManifestSettings.entitySet;\n\t\treturn (\n\t\t\tviewConfig.paths.find((path: ViewConfiguration) => {\n\t\t\t\tif ((path as CustomViewTemplateConfiguration)?.template) {\n\t\t\t\t\treturn undefined;\n\t\t\t\t} else if (this.hasMultipleVisualizations(path as CombinedViewPathConfiguration)) {\n\t\t\t\t\tconst { primary, secondary } = path as CombinedViewPathConfiguration;\n\t\t\t\t\treturn (\n\t\t\t\t\t\tprimary.some((primaryPath) => primaryPath.entitySet && primaryPath.entitySet !== manifestEntitySet) ||\n\t\t\t\t\t\tsecondary.some((secondaryPath) => secondaryPath.entitySet && secondaryPath.entitySet !== manifestEntitySet)\n\t\t\t\t\t);\n\t\t\t\t} else {\n\t\t\t\t\tpath = path as SingleViewPathConfiguration;\n\t\t\t\t\treturn path.entitySet && path.entitySet !== manifestEntitySet;\n\t\t\t\t}\n\t\t\t}) !== undefined\n\t\t);\n\t}\n\n\t/**\n\t * Returns the context path for the template if it is specified in the manifest.\n\t * @returns The context path for the template\n\t */\n\tgetContextPath(): string | undefined {\n\t\treturn this.oManifestSettings?.contextPath;\n\t}\n\n\t/**\n\t * Returns true if the configuration is a single path configuration.\n\t * @param viewConfig The view configuration\n\t * @returns `true` if this is a single path configuration\n\t */\n\tisViewPathConfiguration(viewConfig: ViewConfiguration): viewConfig is SingleViewPathConfiguration {\n\t\treturn \"annotationPath\" in viewConfig && !(\"primary\" in viewConfig) && !(\"secondary\" in viewConfig);\n\t}\n\n\t/**\n\t * Returns true if the configuration is a combined configuration.\n\t * @param viewConfig The view configuration\n\t * @returns `true` if this is a combined configuration\n\t */\n\tisCombinedViewConfiguration(viewConfig: ViewConfiguration): viewConfig is CombinedViewPathConfiguration {\n\t\treturn !this.isCustomViewConfiguration(viewConfig) && !this.isViewPathConfiguration(viewConfig)\n\t\t\t? viewConfig.primary?.length > 0 && viewConfig.secondary?.length > 0\n\t\t\t: false;\n\t}\n\n\t/**\n\t * Returns true if the configuration is a custom configuration.\n\t * @param viewConfig The view configuration\n\t * @returns `true` if this is a custom configuration\n\t */\n\tisCustomViewConfiguration(viewConfig: ViewConfiguration): viewConfig is CustomViewTemplateConfiguration {\n\t\treturn \"template\" in viewConfig;\n\t}\n\n\t/**\n\t * Returns true if there are multiple visualizations.\n\t * @param viewConfig The path from the view\n\t * @returns `true` if there are multiple visualizations\n\t */\n\thasMultipleVisualizations(viewConfig?: ViewConfiguration): boolean {\n\t\tif (!viewConfig) {\n\t\t\tconst multipleViewsConfiguration = this.getViewConfiguration() || { paths: [] };\n\t\t\treturn multipleViewsConfiguration.paths.some((path) => this.isCombinedViewConfiguration(path));\n\t\t}\n\t\treturn this.isCombinedViewConfiguration(viewConfig);\n\t}\n\n\t/**\n\t * Retrieves the entity set defined in the manifest.\n\t * @returns The entity set defined in the manifest\n\t */\n\tgetEntitySet(): string | undefined {\n\t\treturn this.oManifestSettings.entitySet;\n\t}\n\n\thasInlineEdit(): boolean {\n\t\treturn !!this.oManifestSettings.inlineEdit?.disabledFields || (this.oManifestSettings?.inlineEdit?.enabledFields?.length ?? 0) > 0;\n\t}\n\n\tgetInlineEditEnabledFields(): string[] {\n\t\treturn this.oManifestSettings?.inlineEdit?.enabledFields ?? [];\n\t}\n\n\tgetInlineEditDisabledFields(): string[] {\n\t\treturn this.oManifestSettings?.inlineEdit?.disabledFields ?? [];\n\t}\n\n\tgetInlineConnectedFields(): (string | string[])[] {\n\t\treturn this.oManifestSettings?.inlineEdit?.connectedFields ?? [];\n\t}\n\t//end region LR Specific\n}\n\nexport default ManifestWrapper;\n"],"mappings":"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","ignoreList":[]}