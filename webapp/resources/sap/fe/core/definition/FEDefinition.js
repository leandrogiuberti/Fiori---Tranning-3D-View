/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2024 SAP SE. All rights reserved
 */
sap.ui.define([],function(){var e;(function(){"use strict";var t={42:function(e,t){Object.defineProperty(t,"__esModule",{value:true});t.Placement=t.BaseDefinition=void 0;t.annotation=o;t.configurable=i;let n=t.Placement=function(e){e["After"]="After";e["Before"]="Before";e["End"]="End";return e}({});class r{constructor(e,t){this.annotationPath=e?.getPath();for(const e in this.__configurableProperties){const n=this.__configurableProperties[e];if(n){const r=t[n.aliasFor];if(r!==undefined){this[e]=n.validator(r)}else if(n.defaultValue!==undefined){this[e]=n.defaultValue}}}const n=e?.getTarget();if(n){for(const e in this.__annotationProperties){const t=this.__annotationProperties[e];if(t){const r=n.annotations._annotations?.[t.term];if(r!==undefined&&r!==null){this[e]=r.valueOf()}else if(t.defaultValue!==undefined){this[e]=t.defaultValue}}}}}getConfiguration(){const e={};for(const t in this.__configurableProperties){const n=this.__configurableProperties[t];if(n){e[n.aliasFor]=this[t]}}return e}}t.BaseDefinition=r;function a(e){return e}function i(e={}){return function(t,n,r){const i={name:n,validator:e.validator||a,aliasFor:e.aliasFor||n,defaultValue:r.initializer?.()};const o=t.constructor.prototype;if(!o.__configurableProperties){o.__configurableProperties={}}delete r?.initializer;o.__configurableProperties[n]=i}}function o(e){return function(t,n,r){const a={name:n,term:e.term,defaultValue:r.initializer?.()};const i=t.constructor.prototype;if(!i.__annotationProperties){i.__annotationProperties={}}i.__annotationProperties[n]=a;delete r.initializer;return r}}},156:function(e,t,n){Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var r=n(890);function a(e,t){if(t){if(t.startsWith("/")){return t}else if(t.startsWith("@")){return e+t}else if(!e.endsWith("/")){return e+"/"+t}else{return e+t}}return e}class i{constructor(e,t,n){this.convertedMetadata=e;this.metaPath=t;this.contextPath=n;this.navigationProperties=[];this.contextNavigationProperties=[];this.absolutePath=a(n,t);this.relativePath=this.absolutePath.replace(n,"");if(this.relativePath.startsWith("/")){this.relativePath=this.relativePath.substring(1)}const i=this.convertedMetadata.resolvePath(this.absolutePath);const o=this.convertedMetadata.resolvePath(n);if(i.target===undefined||i.target===null){throw new Error(`No annotation target found for ${t}`)}this.targetObject=i.target;let s;let u;let l;let c=[];i.objectPath.forEach(e=>{if((0,r.isServiceObject)(e)){switch(e._type){case"NavigationProperty":c.push(e.name);this.navigationProperties.push(e);l=e.targetType;if(u?.navigationPropertyBinding.hasOwnProperty(c.join("/"))){u=u.navigationPropertyBinding[c.join("/")];c=[]}break;case"EntitySet":if(s===undefined){s=e}u=e;l=u.entityType;break;case"EntityType":if(l===undefined){l=e}break;default:break}}});o.objectPath.forEach(e=>{s=this.getResolvedContextPath(e,l,s)});if(s===undefined||l===undefined){throw new Error("MetaPath doesn't contain an entitySet -> Should never happen")}this.serviceObjectPath="/"+s.name;if(this.navigationProperties.length){this.serviceObjectPath+="/"+this.navigationProperties.map(e=>e.name).join("/")}this.rootEntitySet=s;this.currentEntitySet=u;this.currentEntityType=l}getResolvedContextPath(e,t,n){if((0,r.isServiceObject)(e)){switch(e._type){case"NavigationProperty":this.contextNavigationProperties.push(e);break;case"EntitySet":if(this.contextRootEntitySet===undefined){this.contextRootEntitySet=e}if(n===undefined&&e.entityType===t){n=e}break;default:break}}return n}getContextPath(){return this.contextPath}getPath(e){return a(this.absolutePath,e)}getRelativePath(e){return a(this.relativePath,e)}getTarget(){return this.targetObject}getClosestEntitySet(){let e=this.rootEntitySet;for(const t of this.navigationProperties){const n=e.navigationPropertyBinding[t.name];if(n){e=n}}return e}getClosestEntityType(){let e=this.rootEntitySet.entityType;for(const t of this.navigationProperties){e=t.targetType}return e}getContextClosestEntitySet(){let e=this.contextRootEntitySet;if(e===undefined){return e}const t=e;for(const n of this.contextNavigationProperties){if(t.navigationPropertyBinding[n.name]){e=t.navigationPropertyBinding[n.name]}}return e}getNavigationProperties(){return this.navigationProperties}getMetaPathForClosestEntitySet(){return new i(this.convertedMetadata,"",this.getClosestEntitySet().fullyQualifiedName)}getMetaPathForPath(e){try{return new i(this.convertedMetadata,a(this.serviceObjectPath,e),this.contextPath)}catch(e){return undefined}}getMetaPathForObject(e){if((0,r.isAnnotationPath)(e)){return this.getMetaPathForPath(e.value)}else if((0,r.isPathAnnotationExpression)(e)){return this.getMetaPathForPath(e.path)}else{const t=e.fullyQualifiedName.replace(this.rootEntitySet.entityType.fullyQualifiedName,this.contextPath);return new i(this.convertedMetadata,t,this.contextPath)}}getConvertedMetadata(){return this.convertedMetadata}}t["default"]=i},227:function(e,t,n){Object.defineProperty(t,"__esModule",{value:true});t["default"]=t.FilterField=void 0;var r=n(42);var a=y(n(779));var i=n(890);var o,s,u,l,c,f,p,d,h,m;function y(e){return e&&e.__esModule?e:{default:e}}function g(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function v(e,t,n){return(t=P(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function P(e){var t=b(e,"string");return"symbol"==typeof t?t:t+""}function b(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function F(e,t,n,r,a){var i={};return Object.keys(r).forEach(function(e){i[e]=r[e]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(n,r){return r(e,t,n)||n},i),a&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(a):void 0,i.initializer=void 0),void 0===i.initializer?(Object.defineProperty(e,t,i),null):i}function _(e,t){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let I=t.FilterField=(o=(0,r.configurable)(),s=(0,r.configurable)(),u=(0,r.configurable)(),l=(0,r.configurable)(),c=(0,r.configurable)(),f=class e extends r.BaseDefinition{get name(){return this.filterFieldProperty.getTarget().name}get isParameter(){return!!this.filterFieldProperty.getClosestEntityType().annotations.Common?.ResultContext}get label(){return this.filterFieldProperty.getTarget().annotations.Common?.Label?.toString()??this.filterFieldProperty.getTarget().name}constructor(e,t){super(e,t);g(this,"group",p,this);g(this,"groupLabel",d,this);g(this,"visible",h,this);g(this,"required",m,this);this.filterFieldProperty=e}getTarget(){return this.filterFieldProperty.getTarget()}},p=F(f.prototype,"group",[o],{configurable:true,enumerable:true,writable:true,initializer:null}),d=F(f.prototype,"groupLabel",[s],{configurable:true,enumerable:true,writable:true,initializer:null}),h=F(f.prototype,"visible",[u],{configurable:true,enumerable:true,writable:true,initializer:null}),m=F(f.prototype,"required",[l],{configurable:true,enumerable:true,writable:true,initializer:null}),F(f.prototype,"name",[c],Object.getOwnPropertyDescriptor(f.prototype,"name"),f.prototype),f);class T{constructor(e,t,n){this.selectionFields=e;this.filterBarConfiguration=t;this.metaPath=n}isParameterizedEntitySet(){const e=this.metaPath.getTarget();if(e._type==="NavigationProperty"&&e.containsTarget){return this.metaPath.getClosestEntitySet().entityType.annotations.Common?.ResultContext!==undefined}return false}getFilterGroups(){const e=this.metaPath.getClosestEntityType().annotations.UI?.FilterFacets;const t={};if(!e){const e=Object.keys(this.metaPath.getClosestEntityType().annotations.UI??{}).filter(e=>e.startsWith("FieldGroup")).map(e=>this.metaPath.getClosestEntityType().annotations.UI?.[e]);for(const n of e){n.Data.forEach(e=>{switch(e.$Type){case"com.sap.vocabularies.UI.v1.DataField":{const r=e.Value;if((0,i.isPathAnnotationExpression)(r)&&r.$target){t[r.$target.fullyQualifiedName]={group:n.fullyQualifiedName,groupLabel:n.Label?.toString()??n.annotations?.Common?.Label?.toString()??n.qualifier}}break}default:break}})}}else{e.forEach(e=>{const n=e.Target.$target;if((0,i.isAnnotationOfType)(n,"com.sap.vocabularies.UI.v1.FieldGroupType")){n.Data.forEach(n=>{switch(n.$Type){case"com.sap.vocabularies.UI.v1.DataField":{const r=n.Value;if((0,i.isPathAnnotationExpression)(r)&&r.$target){t[r.$target.fullyQualifiedName]={group:e.ID?.toString(),groupLabel:e.Label?.toString()}}break}default:break}})}})}return t}getFilterFields(){const e=this.getFilterGroups();const t={};let n=[];if(this.isParameterizedEntitySet()){const r=this.metaPath.getMetaPathForClosestEntitySet();n=r.getClosestEntityType().entityProperties.map(n=>{const a=r.getMetaPathForPath(n.name);if(a){t[a.getTarget().fullyQualifiedName]=true;return new I(a,{group:e[a.getTarget().fullyQualifiedName]?.group,groupLabel:e[a.getTarget().fullyQualifiedName]?.groupLabel,visible:true,required:true,isParameter:true})}}).filter(e=>!!e)}const r=new a.default(this.metaPath).getRequiredProperties();const o=this.selectionFields.filter(i.isValidPropertyPathExpression).map(n=>{const a=this.metaPath.getMetaPathForPath(n.value);if(a&&!t[a.getTarget().fullyQualifiedName]){t[a.getTarget().fullyQualifiedName]=true;return new I(a,{group:e[a.getTarget().fullyQualifiedName]?.group,groupLabel:e[a.getTarget().fullyQualifiedName]?.groupLabel,visible:true,required:r.includes(a.getTarget())})}}).filter(e=>!!e);const s=new a.default(this.metaPath).getNonFilterableProperties();this.metaPath.getClosestEntityType().entityProperties.forEach(n=>{if(!t[n.fullyQualifiedName]&&!s.includes(n)&&n.targetType===undefined&&n.annotations.UI?.Hidden?.valueOf()!==true){t[n.fullyQualifiedName]=true;o.push(new I(this.metaPath.getMetaPathForPath(n.name),{group:e[n.fullyQualifiedName]?.group,groupLabel:e[n.fullyQualifiedName]?.groupLabel,visible:false}))}});return[...n,...o]}isSearchSupported(){return new a.default(this.metaPath).isSearchAllowed()}}t["default"]=T},465:function(e,t,n){Object.defineProperty(t,"__esModule",{value:true});t.DefinitionPage=void 0;var r=s(n(227));var a=n(674);var i=n(893);var o=n(526);function s(e){return e&&e.__esModule?e:{default:e}}class u{constructor(e){this.metaPath=e}getMetaPath(){return this.metaPath}getIdentification(){const e=this.metaPath.getClosestEntityType();const t=e.annotations.UI?.Identification;if(t){return new i._Identification(t,this.metaPath)}else{return undefined}}getHeaderInfo(){const e=this.metaPath.getClosestEntityType();const t=e.annotations.UI?.HeaderInfo;if(t){return new a._HeaderInfo(t,this.metaPath)}else{return undefined}}getTableVisualization(){return o._LineItem.fromSPV(this._getTableVisualizationAnnotation(),this.metaPath)}getFilterBarDefinition(e){const t=this.metaPath.getClosestEntityType();let n=t.annotations.UI?.SelectionFields;if(!n){n=Object.assign([],{term:"com.sap.vocabularies.UI.v1.SelectionFields"})}return new r.default(n,e,this.metaPath)}createDefaultTableVisualization(){return o._LineItem.createDefault(this.metaPath)}_getTableVisualizationAnnotation(){const e=this.metaPath.getClosestEntityType();const t=e.annotations.UI?.SelectionPresentationVariant;if(t){if(t.PresentationVariant.Visualizations.find(e=>e.$target?.term==="com.sap.vocabularies.UI.v1.LineItem")){return t}}const n=e.annotations.UI?.PresentationVariant;if(n?.Visualizations){if(n.Visualizations.find(e=>e.$target?.term==="com.sap.vocabularies.UI.v1.LineItem")){return n}}return e.annotations.UI?.LineItem}}t.DefinitionPage=u},16:function(e,t,n){Object.defineProperty(t,"__esModule",{value:true});var r={FilterField:true,DefinitionPage:true,_DataField:true,_LineItem:true,DefinitionContext:true,QueryBuilder:true,FORMATTERS_PATH:true,formatters:true};Object.defineProperty(t,"DefinitionContext",{enumerable:true,get:function(){return u.DefinitionContext}});Object.defineProperty(t,"DefinitionPage",{enumerable:true,get:function(){return i.DefinitionPage}});Object.defineProperty(t,"FORMATTERS_PATH",{enumerable:true,get:function(){return c.FORMATTERS_PATH}});Object.defineProperty(t,"FilterField",{enumerable:true,get:function(){return a.FilterField}});Object.defineProperty(t,"QueryBuilder",{enumerable:true,get:function(){return l.QueryBuilder}});Object.defineProperty(t,"_DataField",{enumerable:true,get:function(){return o._DataField}});Object.defineProperty(t,"_LineItem",{enumerable:true,get:function(){return s._LineItem}});Object.defineProperty(t,"formatters",{enumerable:true,get:function(){return c.formatters}});var a=n(227);var i=n(465);var o=n(703);var s=n(526);var u=n(666);var l=n(139);var c=n(507);var f=n(890);Object.keys(f).forEach(function(e){if(e==="default"||e==="__esModule")return;if(Object.prototype.hasOwnProperty.call(r,e))return;if(e in t&&t[e]===f[e])return;Object.defineProperty(t,e,{enumerable:true,get:function(){return f[e]}})})},666:function(e,t,n){Object.defineProperty(t,"__esModule",{value:true});t.DefinitionContext=void 0;var r=i(n(156));var a=n(465);function i(e){return e&&e.__esModule?e:{default:e}}class o{constructor(e){this.convertedMetadata=e}addApplicationManifest(e){this.manifest=e}getEntitySets(){return this.convertedMetadata.entitySets}getEntitySet(e){return this.convertedMetadata.entitySets.by_name(e)}getRootEntitySet(){if(this.manifest){const e=":?query:";const t=(this.manifest["sap.ui5"]?.routing?.routes).find(t=>t.pattern===e);if(t?.target&&this.manifest["sap.ui5"]?.routing?.targets){const e=this.manifest["sap.ui5"].routing.targets[t.target];if(e?.name){const t=e.options;const n=t?.settings;const r=this.convertedMetadata.resolvePath(n?.contextPath??`${n?.entitySet}`);return r.target}}}}getMetaPath(e,t){return new r.default(this.convertedMetadata,e,t)}getPageFor(e){return new a.DefinitionPage(new r.default(this.convertedMetadata,e,e))}getVersion(){const e=this.convertedMetadata.version.match(/^(\d+)\.(\d+)$/);if(!e){throw new Error("Invalid version format")}return{major:parseInt(e[1],10),minor:parseInt(e[2],10)}}}t.DefinitionContext=o},779:function(e,t,n){Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var r=n(42);class a extends r.BaseDefinition{constructor(e,t={}){super(e,t);this.entitySet=e;this.entitySetConfiguration=t}getRequiredProperties(){const e=this.entitySet.getTarget().annotations.Capabilities?.FilterRestrictions?.RequiredProperties??[];return e.map(e=>e.$target).filter(e=>!!e)}getNonFilterableProperties(){const e=this.entitySet.getTarget().annotations.Capabilities?.FilterRestrictions?.NonFilterableProperties??[];return e.map(e=>e.$target).filter(e=>!!e)}getAllowedFilterExpression(e){const t=this.entitySet.getTarget().annotations.Capabilities?.FilterRestrictions?.FilterExpressionRestrictions??[];const n=t.filter(t=>t.Property?.$target===e);return n.map(e=>e.AllowedExpressions).filter(e=>!!e)}isSearchAllowed(){return!!this.entitySet.getTarget().annotations.Capabilities?.SearchRestrictions?.Searchable}}t["default"]=a},139:function(e,t,n){Object.defineProperty(t,"__esModule",{value:true});t.QueryBuilder=void 0;var r=n(678);function a(e,t,n){return(t=i(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e){var t=o(e,"string");return"symbol"==typeof t?t:t+""}function o(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}class s{constructor(e,t){a(this,"paths",new Set);this.contextMetaPath=e;this.definitionContext=t}addPathsFromExpression(e){(0,r.transformRecursively)(e,"PathInModel",e=>{this.addPath(e.path);return e},true)}addPath(e){this.paths.add(e)}buildQuery(){let e;if(this.definitionContext.getVersion().major>=4){e=this.createQueryV4(this.paths)}else{e=this.createQueryV2(this.paths)}return e}createQueryV2(e){const t=[];const n=new Set;e.forEach(e=>{const r=e.split("/");const a=this.contextMetaPath.getMetaPathForPath(e);const i=r[0];if(i&&this.isNavigationProperty(i,a?.getNavigationProperties()??[])){n.add(i)}else{t.push(e)}});const r={$format:"json",$select:t.join(",")};if(n.size>0){r.$expand=Array.from(n).join(",")}return r}createQueryV4(e){const t={name:"",$select:new Set,$expand:new Map};e.forEach(e=>{const n=e.split("/");const r=this.contextMetaPath.getMetaPathForPath(e);const a=r?.getNavigationProperties()??[];this.processPathRecursiveV4(n,t,a)});const n={$format:"json",$select:Array.from(t.$select).join(",")};if(t.$expand.size>0){n.$expand=Array.from(t.$expand.values()).map(u).join(",")}return n}processPathRecursiveV4(e,t,n){let r;const a=e[0];if(a&&this.isNavigationProperty(a,n)){r=t.$expand.get(a);if(!r){r={name:a,$select:new Set,$expand:new Map}}t.$expand.set(a,r);if(e.length===2){r.$select.add(e[1]??"")}else{this.processPathRecursiveV4(e.slice(1),r,n.slice(1))}}else{t.$select.add(e.join("/"))}}isNavigationProperty(e,t){const n=this.contextMetaPath.getNavigationProperties().length;return t.length>n&&e===t[n]?.name}}t.QueryBuilder=s;function u(e){const t=l(e.$select);const n=Array.from(e.$expand.values()).map(u).join(",");const r=n.length>0?`$expand=${n}`:"";const a=t.length>0&&r.length>0?";":"";return`${e.name}(${t}${a}${r})`}function l(e){return e.size>0?`$select=${Array.from(e).join(",")}`:""}},703:function(e,t,n){Object.defineProperty(t,"__esModule",{value:true});t._DataField=void 0;var r=n(678);var a=o(n(507));var i=n(890);function o(e){return e&&e.__esModule?e:{default:e}}class s{constructor(e,t){this.dataField=e;this.scopedContextMetaPath=t}getValue(){if(!(0,i.isAnnotationOfType)(this.dataField,"com.sap.vocabularies.UI.v1.DataFieldForAnnotation")){return(0,r.getExpressionFromAnnotation)(this.dataField.Value)}return r.unresolvableExpression}getFormattedValue(){if(!(0,i.isAnnotationOfType)(this.dataField,"com.sap.vocabularies.UI.v1.DataFieldForAnnotation")){const e=(0,r.getExpressionFromAnnotation)(this.dataField.Value,this.scopedContextMetaPath.getNavigationProperties().map(e=>e.name));return(0,r.transformRecursively)(e,"PathInModel",e=>{const t=this.scopedContextMetaPath.getMetaPathForPath(e.ownPath);if(!t){return r.unresolvableExpression}const n=this.getMeasure(t);if(n){return(0,r.concat)(e," ",n)}const i=this.getDisplayMode(t);if(i!=="Value"){const n=(0,r.getExpressionFromAnnotation)(t.getTarget().annotations.Common?.Text,t.getNavigationProperties().map(e=>e.name));if(i==="Description"){return n}else if(i==="DescriptionValue"){return(0,r.formatResult)([n,e],a.default.formatWithBrackets)}else if(i==="ValueDescription"){return(0,r.formatResult)([e,n],a.default.formatWithBrackets)}}return e})}return r.unresolvableExpression}getMeasure(e){const t=e.getTarget().annotations.Measures;if(t){const e=t.Unit??t.ISOCurrency;if(e){return(0,r.getExpressionFromAnnotation)(e)}}return undefined}getDisplayMode(e){const t=e.getClosestEntityType();const n=e.getTarget().annotations.Common?.Text;const r=n?.annotations?.UI?.TextArrangement??t.annotations.UI?.TextArrangement;let a=n?"DescriptionValue":"Value";if(n&&r!=null){if(r==="UI.TextArrangementType/TextOnly"){a="Description"}else if(r==="UI.TextArrangementType/TextLast"){a="ValueDescription"}else if(r==="UI.TextArrangementType/TextSeparate"){a="Value"}else{a="DescriptionValue"}}return a}getLabel(){let e=this.dataField.Label?.toString()??this.dataField.annotations?.Common?.Label?.toString();if(!e){e=this.dataField.fullyQualifiedName;if((0,i.isAnnotationOfType)(this.dataField,"com.sap.vocabularies.UI.v1.DataFieldForAnnotation")){const t=this.dataField.Target.$target;if((0,i.isAnnotationOfType)(t,"com.sap.vocabularies.UI.v1.FieldGroupType")&&t.Label){e=t.Label.toString()}}else{const t=this.dataField.Value;if((0,i.isPathAnnotationExpression)(t)){e=t.$target?.annotations.Common?.Label?.toString()??t.$target?.name??t.path}}}return e}getProperty(){if(!(0,i.isAnnotationOfType)(this.dataField,"com.sap.vocabularies.UI.v1.DataFieldForAnnotation")){const e=this.dataField.Value;if(e&&(0,i.isPathAnnotationExpression)(e)){return e.$target}}return undefined}getFullyQualifiedName(){return this.dataField.fullyQualifiedName}}t._DataField=s},674:function(e,t,n){Object.defineProperty(t,"__esModule",{value:true});t._HeaderInfo=void 0;var r=n(703);class a{constructor(e,t){this.info=e;this.pageMetaPath=t}getFullyQualifiedName(){return this.info.fullyQualifiedName}getTitle(){return this.info.Title?new r._DataField(this.info.Title,this.pageMetaPath):undefined}getDescription(){return this.info.Description?new r._DataField(this.info.Description,this.pageMetaPath):undefined}getTypeName(){return this.info.TypeName.toString()}}t._HeaderInfo=a},893:function(e,t,n){Object.defineProperty(t,"__esModule",{value:true});t._Identification=void 0;var r=n(703);class a{constructor(e,t){this.id=e;this.pageMetaPath=t}getDataFields(e){return this.id.filter(t=>{if(e?.restrictTypes&&!e.restrictTypes.includes(t.$Type)){return false}switch(t.$Type){case"com.sap.vocabularies.UI.v1.DataField":case"com.sap.vocabularies.UI.v1.DataFieldWithUrl":case"com.sap.vocabularies.UI.v1.DataFieldWithAction":case"com.sap.vocabularies.UI.v1.DataFieldWithActionGroup":case"com.sap.vocabularies.UI.v1.DataFieldWithIntentBasedNavigation":case"com.sap.vocabularies.UI.v1.DataFieldWithNavigationPath":case"com.sap.vocabularies.UI.v1.DataFieldForAnnotation":case"com.sap.vocabularies.UI.v1.DataFieldForAction":case"com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation":case"com.sap.vocabularies.UI.v1.DataFieldForActionGroup":return e?.importance===undefined||e.importance.includes(t.annotations?.UI?.Importance?.toString());default:return false}}).map(e=>new r._DataField(e,this.pageMetaPath))}}t._Identification=a},526:function(e,t,n){Object.defineProperty(t,"__esModule",{value:true});t._LineItem=void 0;var r=n(703);class a{constructor(e,t){this.lineItem=e;this.pageMetaPath=t}static createDefault(e){const t=e.getClosestEntityType().entityProperties.map(e=>{if(e.annotations.UI?.DataFieldDefault){return e.annotations.UI.DataFieldDefault}else{return{$Type:"com.sap.vocabularies.UI.v1.DataField",Value:{type:"Path",path:e.name,$target:e}}}});t.term="com.sap.vocabularies.UI.v1.LineItem";return new a(t,e)}static fromSPV(e,t){switch(e?.term){case"com.sap.vocabularies.UI.v1.LineItem":return new a(e,t);case"com.sap.vocabularies.UI.v1.PresentationVariant":return new a(e.Visualizations[0].$target,t);case"com.sap.vocabularies.UI.v1.SelectionPresentationVariant":return new a(e.PresentationVariant.Visualizations[0].$target,t);case undefined:return undefined}}getActions(){return this.lineItem.filter(e=>e.$Type==="com.sap.vocabularies.UI.v1.DataFieldForAction")}getHeaderActions(){return this.getActions().filter(e=>e.Determining===true)}getDataFields(e){return this.lineItem.filter(t=>{if(e?.restrictTypes&&!e.restrictTypes.includes(t.$Type)){return false}switch(t.$Type){case"com.sap.vocabularies.UI.v1.DataField":case"com.sap.vocabularies.UI.v1.DataFieldWithUrl":case"com.sap.vocabularies.UI.v1.DataFieldWithAction":case"com.sap.vocabularies.UI.v1.DataFieldWithActionGroup":case"com.sap.vocabularies.UI.v1.DataFieldWithIntentBasedNavigation":case"com.sap.vocabularies.UI.v1.DataFieldWithNavigationPath":case"com.sap.vocabularies.UI.v1.DataFieldForAnnotation":case"com.sap.vocabularies.UI.v1.DataFieldForAction":case"com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation":case"com.sap.vocabularies.UI.v1.DataFieldForActionGroup":return e?.importance===undefined||e.importance.includes(t.annotations?.UI?.Importance?.toString());default:return false}}).map(e=>new r._DataField(e,this.pageMetaPath))}}t._LineItem=a},678:function(e,t){Object.defineProperty(t,"__esModule",{value:true});t._checkExpressionsAreEqual=a;t.and=s;t.annotationApplyExpression=A;t.annotationIfExpression=w;t.concat=H;t.constant=d;t.equal=j;t.fn=G;t.formatResult=z;t.getExpressionFromAnnotation=O;t.getFiscalType=void 0;t.greaterOrEqual=V;t.greaterThan=L;t.hasUnresolvableExpression=r;t.ifElse=k;t.isComplexTypeExpression=_;t.isConstant=v;t.isEmpty=q;t.isExpression=g;t.isPathInModelExpression=F;t.isTruthy=c;t.isUndefinedExpression=$;t.length=D;t.lessOrEqual=R;t.lessThan=B;t.not=l;t.notEqual=U;t.objectPath=f;t.or=u;t.pathInModel=p;t.ref=m;t.resolveBindingString=h;t.transformRecursively=Y;t.unresolvableExpression=void 0;t.wrapPrimitive=y;const n=t.unresolvableExpression={_type:"Unresolvable"};function r(...e){return e.find(e=>e._type==="Unresolvable")!==undefined}function a(e,t){if(!e||!t){return false}if(e._type!==t._type){return false}switch(e._type){case"Unresolvable":return false;case"Constant":case"EmbeddedBinding":case"EmbeddedExpressionBinding":return e.value===t.value;case"Not":return a(e.operand,t.operand);case"Truthy":return a(e.operand,t.operand);case"Set":return e.operator===t.operator&&e.operands.length===t.operands.length&&e.operands.every(e=>t.operands.some(t=>a(e,t)));case"IfElse":return a(e.condition,t.condition)&&a(e.onTrue,t.onTrue)&&a(e.onFalse,t.onFalse);case"Comparison":return e.operator===t.operator&&a(e.operand1,t.operand1)&&a(e.operand2,t.operand2);case"Concat":{const n=e.expressions;const r=t.expressions;if(n.length!==r.length){return false}return n.every((e,t)=>a(e,r[t]))}case"Length":return a(e.pathInModel,t.pathInModel);case"PathInModel":return e.modelName===t.modelName&&e.path===t.path&&e.targetEntitySet===t.targetEntitySet;case"Formatter":return e.fn===t.fn&&e.parameters.length===t.parameters.length&&e.parameters.every((e,n)=>a(t.parameters[n],e));case"ComplexType":return e.type===t.type&&e.bindingParameters.length===t.bindingParameters.length&&e.bindingParameters.every((e,n)=>a(t.bindingParameters[n],e));case"Function":const n=t;if(e.obj===undefined||n.obj===undefined){return e.obj===n}return e.fn===n.fn&&a(e.obj,n.obj)&&e.parameters.length===n.parameters.length&&e.parameters.every((e,t)=>a(n.parameters[t],e));case"Ref":return e.ref===t.ref}return false}function i(e){return e.operands.reduce((t,n)=>{const r=n._type==="Set"&&n.operator===e.operator?n.operands:[n];r.forEach(e=>{if(t.operands.every(t=>!a(t,e))){t.operands.push(e)}});return t},{_type:"Set",operator:e.operator,operands:[]})}function o(e){const t=e.map(l);return e.some((e,n)=>{for(let r=n+1;r<t.length;r++){if(a(e,t[r])){return true}}return false})}function s(...e){const t=i({_type:"Set",operator:"&&",operands:e.map(y)}).operands;if(r(...t)){return n}let a=false;const s=t.filter(e=>{if(b(e)){a=true}return!v(e)});if(a){return d(false)}else if(s.length===0){const e=t.reduce((e,t)=>e&&P(t),true);return d(e)}else if(s.length===1){return s[0]}else if(o(s)){return d(false)}else{return{_type:"Set",operator:"&&",operands:s}}}function u(...e){const t=i({_type:"Set",operator:"||",operands:e.map(y)}).operands;if(r(...t)){return n}let a=false;const s=t.filter(e=>{if(P(e)){a=true}return!v(e)||e.value});if(a){return d(true)}else if(s.length===0){const e=t.reduce((e,t)=>e&&P(t),true);return d(e)}else if(s.length===1){return s[0]}else if(o(s)){return d(true)}else{return{_type:"Set",operator:"||",operands:s}}}function l(e){e=y(e);if(r(e)){return n}else if(v(e)){return d(!e.value)}else if(typeof e==="object"&&e._type==="Set"&&e.operator==="||"&&e.operands.every(e=>v(e)||E(e))){return s(...e.operands.map(e=>l(e)))}else if(typeof e==="object"&&e._type==="Set"&&e.operator==="&&"&&e.operands.every(e=>v(e)||E(e))){return u(...e.operands.map(e=>l(e)))}else if(E(e)){switch(e.operator){case"!==":return{...e,operator:"==="};case"<":return{...e,operator:">="};case"<=":return{...e,operator:">"};case"===":return{...e,operator:"!=="};case">":return{...e,operator:"<="};case">=":return{...e,operator:"<"}}}else if(e._type==="Not"){return e.operand}return{_type:"Not",operand:e}}function c(e){if(v(e)){return d(!!e.value)}else{return{_type:"Truthy",operand:e}}}function f(e,t,n=[],r){return p(e,t,n,r)}function p(e,t,r=[],a){if(e===undefined){return n}let i;if(a){i=a(e);if(i===undefined){return n}}else{const t=r.concat();t.push(e);i=t.join("/")}return{_type:"PathInModel",modelName:t,path:i,ownPath:e}}function d(e){let t;if(typeof e==="object"&&e!==null&&e!==undefined){if(Array.isArray(e)){t=e.map(y)}else if(x(e)){t=e.valueOf()}else{t=Object.entries(e).reduce((e,[t,n])=>{const r=y(n);if(r._type!=="Constant"||r.value!==undefined){e[t]=r}return e},{})}}else{t=e}return{_type:"Constant",value:t}}function h(e,t){if(e!==undefined&&typeof e==="string"&&e.startsWith("{")){const t=/^{(.*)>(.+)}$/;const n=t.exec(e);if(e.startsWith("{=")){return{_type:"EmbeddedExpressionBinding",value:e}}else if(n){return p(n[2]||"",n[1]||undefined)}else{return{_type:"EmbeddedBinding",value:e}}}else if(t==="boolean"&&typeof e==="string"&&(e==="true"||e==="false")){return d(e==="true")}else if(t==="number"&&typeof e==="string"&&(!isNaN(Number(e))||e==="NaN")){return d(Number(e))}else{return d(e)}}function m(e){return{_type:"Ref",ref:e}}function y(e){if(g(e)){return e}return d(e)}function g(e){return e?._type!==undefined}function v(e){return typeof e!=="object"||e._type==="Constant"}function P(e){return v(e)&&e.value===true}function b(e){return v(e)&&e.value===false}function F(e){return e._type==="PathInModel"}function _(e){return e._type==="ComplexType"}function I(e){return e._type==="Concat"}function T(e){return e._type==="IfElse"}function E(e){return e._type==="Comparison"}function $(e){const t=e;return t._type==="Constant"&&t.value===undefined}function x(e){switch(e.constructor.name){case"String":case"Number":case"Boolean":return true;default:return false}}function S(e){return typeof e==="object"&&!x(e)}function O(e,t=[],r,a){if(e===undefined){return y(r)}e=e.valueOf();if(!S(e)){return d(e)}switch(e.type){case"Path":return p(e.path,undefined,t,a);case"If":return w(e.$If,t,a);case"Not":return l(C(e.$Not,t,a));case"Eq":return j(C(e.$Eq[0],t,a),C(e.$Eq[1],t,a));case"Ne":return U(C(e.$Ne[0],t,a),C(e.$Ne[1],t,a));case"Gt":return L(C(e.$Gt[0],t,a),C(e.$Gt[1],t,a));case"Ge":return V(C(e.$Ge[0],t,a),C(e.$Ge[1],t,a));case"Lt":return B(C(e.$Lt[0],t,a),C(e.$Lt[1],t,a));case"Le":return R(C(e.$Le[0],t,a),C(e.$Le[1],t,a));case"Or":return u(...e.$Or.map(function(e){return C(e,t,a)}));case"And":return s(...e.$And.map(function(e){return C(e,t,a)}));case"Apply":return A(e,t,a);case"Constant":return d(e.value)}return n}function C(e,t=[],n){if(e===null||typeof e!=="object"){return d(e)}else if(e.hasOwnProperty("$Or")){return u(...e.$Or.map(function(e){return C(e,t,n)}))}else if(e.hasOwnProperty("$And")){return s(...e.$And.map(function(e){return C(e,t,n)}))}else if(e.hasOwnProperty("$Not")){return l(C(e.$Not,t,n))}else if(e.hasOwnProperty("$Eq")){return j(C(e.$Eq[0],t,n),C(e.$Eq[1],t,n))}else if(e.hasOwnProperty("$Ne")){return U(C(e.$Ne[0],t,n),C(e.$Ne[1],t,n))}else if(e.hasOwnProperty("$Gt")){return L(C(e.$Gt[0],t,n),C(e.$Gt[1],t,n))}else if(e.hasOwnProperty("$Ge")){return V(C(e.$Ge[0],t,n),C(e.$Ge[1],t,n))}else if(e.hasOwnProperty("$Lt")){return B(C(e.$Lt[0],t,n),C(e.$Lt[1],t,n))}else if(e.hasOwnProperty("$Le")){return R(C(e.$Le[0],t,n),C(e.$Le[1],t,n))}else if(e.hasOwnProperty("$Path")){return p(e.$Path,undefined,t,n)}else if(e.hasOwnProperty("Path")){return p(e.Path,undefined,t,n)}else if(e.hasOwnProperty("$Apply")){return O({type:"Apply",$Function:e.$Function,$Apply:e.$Apply},t,undefined,n)}else if(e.hasOwnProperty("$If")){return O({type:"If",$If:e.$If},t,undefined,n)}else if(e.hasOwnProperty("$EnumMember")){return d(e.$EnumMember)}else if(e.hasOwnProperty("String")){return d(e.String)}else if(e.hasOwnProperty("Bool")){return d(e.Bool)}else if(e.hasOwnProperty("Int")){return d(e.Int)}else if(e.hasOwnProperty("Decimal")){return d(e.Decimal)}else if(e.hasOwnProperty("type")&&e.type==="Null"){return d(null)}return d(false)}function w(e,t=[],n){return k(C(e[0],t,n),C(e[1],t,n),C(e[2],t,n))}function M(e){let t=e;if(e.hasOwnProperty("$Path")){t={type:"Path",path:e.$Path}}else if(e.hasOwnProperty("$If")){t={type:"If",$If:e.$If}}else if(e.hasOwnProperty("$Apply")){t={type:"Apply",$Function:e.$Function,$Apply:e.$Apply}}return t}function A(e,t=[],r){switch(e.$Function){case"odata.concat":return H(...e.$Apply.map(e=>O(M(e),t,undefined,r)));case"odata.uriEncode":const n=O(M(e.$Apply[0]),t,undefined,r);return G("odata.uriEncode",[n,"Edm.String"],undefined,true);case"odata.fillUriTemplate":const a=e.$Apply[0];const i=e.$Apply.slice(1);const o={};i.forEach(e=>{o[e.$Name]=O(M(e.$LabeledElement),t,undefined,r)});return G("odata.fillUriTemplate",[a,o],undefined,true)}return n}function N(e,t,a){const i=y(t);const o=y(a);if(r(i,o)){return n}if(v(i)&&v(o)){switch(e){case"!==":return d(i.value!==o.value);case"===":return d(i.value===o.value);case"<":if(i.value===null||i.value===undefined||o.value===null||o.value===undefined){return d(false)}return d(i.value<o.value);case"<=":if(i.value===null||i.value===undefined||o.value===null||o.value===undefined){return d(false)}return d(i.value<=o.value);case">":if(i.value===null||i.value===undefined||o.value===null||o.value===undefined){return d(false)}return d(i.value>o.value);case">=":if(i.value===null||i.value===undefined||o.value===null||o.value===undefined){return d(false)}return d(i.value>=o.value)}}else{return{_type:"Comparison",operator:e,operand1:i,operand2:o}}}function D(e,t=false){if(e._type==="Unresolvable"){return e}if(!t){return{_type:"Length",pathInModel:e}}return k(j(e,undefined),-1,D(e))}function j(e,t){const i=y(e);const o=y(t);if(r(i,o)){return n}if(a(i,o)){return d(true)}function s(e,t){if(e._type==="Comparison"&&P(t)){return e}else if(e._type==="Comparison"&&b(t)){return l(e)}else if(e._type==="IfElse"&&a(e.onTrue,t)){return u(e.condition,j(e.onFalse,t))}else if(e._type==="IfElse"&&a(e.onFalse,t)){return u(l(e.condition),j(e.onTrue,t))}else if(e._type==="IfElse"&&v(e.onTrue)&&v(e.onFalse)&&v(t)&&!a(e.onTrue,t)&&!a(e.onFalse,t)){return d(false)}return undefined}const c=s(i,o)??s(o,i);return c??N("===",i,o)}function U(e,t){return l(j(e,t))}function V(e,t){return N(">=",e,t)}function L(e,t){return N(">",e,t)}function R(e,t){return N("<=",e,t)}function B(e,t){return N("<",e,t)}function k(e,t,i){let o=y(e);let c=y(t);let f=y(i);if(o._type==="Not"){[c,f]=[f,c];o=l(o)}if(c._type==="IfElse"&&a(o,c.condition)){c=c.onTrue}if(f._type==="IfElse"&&a(o,f.condition)){f=f.onFalse}if(v(o)){return o.value?c:f}if(a(c,f)){return c}if(b(f)){return s(o,c)}if(P(f)){return u(l(o),c)}if(b(c)){return s(l(o),f)}if(P(c)){return u(o,f)}if(r(o,c,f)){return n}if(_(e)||_(t)||_(i)){let n=0;const r=z([e,t,i],"sap.fe.core.formatters.StandardFormatter#ifElse");const a=[];Y(r,"PathInModel",e=>{a.push(e);return p(`$${n++}`,"$")},true);a.unshift(d(JSON.stringify(r)));return z(a,"sap.fe.core.formatters.StandardFormatter#evaluateComplexExpression",undefined,true)}return{_type:"IfElse",condition:o,onTrue:c,onFalse:f}}function Q(e){switch(e._type){case"Constant":case"Formatter":case"ComplexType":return false;case"Set":return e.operands.some(Q);case"PathInModel":return e.modelName===undefined;case"Comparison":return Q(e.operand1)||Q(e.operand2);case"IfElse":return Q(e.condition)||Q(e.onTrue)||Q(e.onFalse);case"Not":case"Truthy":return Q(e.operand);default:return false}}function z(e,t,a,i=false){const o=e.map(y);if(r(...o)){return n}if(a){if(!o.some(Q)){a.keys.forEach(e=>o.push(p(e.name,"")))}}let s="";if(typeof t==="string"){s=t}else{s=t.__functionName}const[u,l]=s.split("#");if(!i&&(o.some(_)||o.some(I)||o.some(T))){let e=0;const t=z(o,s,undefined,true);const n=[];Y(t,"PathInModel",t=>{n.push(t);return p(`$${e++}`,"$")},true);n.unshift(d(JSON.stringify(t)));return z(n,"sap.fe.core.formatters.StandardFormatter#evaluateComplexExpression",undefined,true)}else if(!!l&&l.length>0){o.unshift(d(l))}return{_type:"Formatter",fn:u,parameters:o}}const W=function(e){if(e.annotations.Common?.IsFiscalYear){return"com.sap.vocabularies.Common.v1.IsFiscalYear"}if(e.annotations.Common?.IsFiscalPeriod){return"com.sap.vocabularies.Common.v1.IsFiscalPeriod"}if(e.annotations.Common?.IsFiscalYearPeriod){return"com.sap.vocabularies.Common.v1.IsFiscalYearPeriod"}if(e.annotations.Common?.IsFiscalQuarter){return"com.sap.vocabularies.Common.v1.IsFiscalQuarter"}if(e.annotations.Common?.IsFiscalYearQuarter){return"com.sap.vocabularies.Common.v1.IsFiscalYearQuarter"}if(e.annotations.Common?.IsFiscalWeek){return"com.sap.vocabularies.Common.v1.IsFiscalWeek"}if(e.annotations.Common?.IsFiscalYearWeek){return"com.sap.vocabularies.Common.v1.IsFiscalYearWeek"}if(e.annotations.Common?.IsDayOfFiscalYear){return"com.sap.vocabularies.Common.v1.IsDayOfFiscalYear"}};t.getFiscalType=W;function G(e,t,n,r=false){const a=typeof e==="string"?e:e.__functionName;return{_type:"Function",obj:n!==undefined?y(n):undefined,fn:a,isFormattingFn:r,parameters:t.map(y)}}function q(e){const t=[];Y(e,"PathInModel",e=>{t.push(u(j(e,""),j(e,undefined),j(e,null)));return e});return s(...t)}function H(...e){const t=e.map(y);if(r(...t)){return n}if(t.every(v)){return d(t.reduce((e,t)=>{if(t.value!==undefined&&t.value!==null){return e+t.value.toString()}return e},""))}else if(t.some(_)){let e=0;const n=z(t,"sap.fe.core.formatters.StandardFormatter#concat",undefined,true);const r=[];Y(n,"PathInModel",t=>{r.push(t);return p(`$${e++}`,"$")});r.unshift(d(JSON.stringify(n)));return z(r,"sap.fe.core.formatters.StandardFormatter#evaluateComplexExpression",undefined,true)}return{_type:"Concat",expressions:t}}function Y(e,t,n,r=false){let a=e;switch(a._type){case"Function":case"Formatter":a.parameters=a.parameters.map(e=>Y(e,t,n,r));break;case"Concat":a.expressions=a.expressions.map(e=>Y(e,t,n,r));a=H(...a.expressions);break;case"ComplexType":a.bindingParameters=a.bindingParameters.map(e=>Y(e,t,n,r));break;case"IfElse":{const e=Y(a.onTrue,t,n,r);const i=Y(a.onFalse,t,n,r);let o=a.condition;if(r){o=Y(a.condition,t,n,r)}a=k(o,e,i);break}case"Not":if(r){const e=Y(a.operand,t,n,r);a=l(e)}break;case"Truthy":break;case"Set":if(r){const e=a.operands.map(e=>Y(e,t,n,r));a=a.operator==="||"?u(...e):s(...e)}break;case"Comparison":if(r){const e=Y(a.operand1,t,n,r);const i=Y(a.operand2,t,n,r);a=N(a.operator,e,i)}break;case"Constant":{const e=a.value;if(typeof e==="object"&&e){Object.keys(e).forEach(a=>{e[a]=Y(e[a],t,n,r)})}break}case"Ref":case"Length":case"PathInModel":case"EmbeddedBinding":case"EmbeddedExpressionBinding":case"Unresolvable":break}if(t===a._type){a=n(e)}return a}},507:function(e,t){Object.defineProperty(t,"__esModule",{value:true});t["default"]=t.FORMATTERS_PATH=void 0;t.formatWithBrackets=a;t.formatters=void 0;const n=function(e,...t){if(n.hasOwnProperty(e)){return n[e].apply(this,t)}else{return""}};t.formatters=n;const r=t.FORMATTERS_PATH="sap.fe.definition.formatters";function a(e,t){if(e&&t){return`${e} (${t})`}else{return e||t||""}}a.__functionName=`${r}#formatWithBrackets`;n.formatWithBrackets=a;var i=t["default"]=n},890:function(e,t){Object.defineProperty(t,"__esModule",{value:true});t.isAnnotationOfTerm=r;t.isAnnotationOfType=n;t.isAnnotationPath=g;t.isAnnotationTerm=a;t.isComplexType=o;t.isEntityContainer=u;t.isEntitySet=l;t.isEntityType=f;t.isMultipleNavigationProperty=m;t.isNavigationProperty=d;t.isPathAnnotationExpression=y;t.isProperty=p;t.isPropertyPathExpression=v;t.isServiceObject=i;t.isSingleNavigationProperty=h;t.isSingleton=c;t.isTypeDefinition=s;t.isValidPropertyPathExpression=P;function n(e,t){if(Array.isArray(t)){return t.includes(e?.$Type)}return e?.$Type===t}function r(e,t){return e.term===t}function a(e){return e.hasOwnProperty("term")}function i(e){return e?.hasOwnProperty("_type")??false}function o(e){return e._type==="ComplexType"}function s(e){return e._type==="TypeDefinition"}function u(e){return e._type==="EntityContainer"}function l(e){return e._type==="EntitySet"}function c(e){return e._type==="Singleton"}function f(e){return e._type==="EntityType"}function p(e){return e._type==="Property"}function d(e){return e._type==="NavigationProperty"}function h(e){return d(e)&&!e.isCollection}function m(e){return d(e)&&e.isCollection}function y(e){return e.type==="Path"}function g(e){return e.type=="AnnotationPath"}function v(e){return e?.type==="PropertyPath"}function P(e){return e.type==="PropertyPath"&&!!e.$target}}};var n={};function r(e){var a=n[e];if(a!==undefined){return a.exports}var i=n[e]={exports:{}};t[e](i,i.exports,r);return i.exports}var a=r(16);e=a})();return e},true);
//# sourceMappingURL=FEDefinition.js.map