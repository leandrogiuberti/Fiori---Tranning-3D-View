/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.define(["sap/base/Log","sap/base/strings/whitespaceReplacer","sap/fe/core/templating/SemanticObjectHelper","sap/ui/core/IconPool","sap/ui/core/Lib","sap/ui/core/date/UI5Date","sap/ui/core/format/DateFormat","sap/ui/core/format/NumberFormat"],function(t,e,r,a,i,o,n,s){"use strict";var c={};var f=r.getReachableSemanticObjectsSettings;const l={yyyy:/[1-9]\d{3,}|0\d{3}/,Q:/[1-4]/,MM:/0[1-9]|1[0-2]/,ww:/0[1-9]|[1-4]\d|5[0-3]/,yyyyMMdd:/(?:[1-9]\d{3}|0\d{3})(0[1-9]|1[0-2])(0[1-9]|[12]\d|3[01])/,yyyyMM:/(?:[1-9]\d{3}|0\d{3})(0[1-9]|1[0-2])/,"yyyy-MM-dd":/(?:[1-9]\d{3}|0\d{3})-(0[1-9]|1[0-2])-(0[1-9]|[12]\d|3[01])/};const m=function(t){if(m.hasOwnProperty(t)){for(var e=arguments.length,r=new Array(e>1?e-1:0),a=1;a<e;a++){r[a-1]=arguments[a]}return m[t].apply(this,r)}else{return""}};const u=(t,e)=>{if(t&&e){const r=i.getResourceBundleFor("sap.fe.core");return r.getText("C_FORMAT_FOR_TEXT_ARRANGEMENT",[t,e])}else{return t||e||""}};u.__functionName="._formatters.ValueFormatter#formatWithBrackets";const p=(e,r,a)=>{if(r in l){const i=e?.toString().match(l[r]);if(i&&i?.length){const e=i[0];const o=n.getDateInstance({pattern:r}).parse(e,false,true);if(o instanceof Date){return o.getTime()}else{t.warning("Date value could not be determined for "+a)}return 0}}t.warning("Pattern not supported for "+a);return 0};p.__functionName="._formatters.ValueFormatter#formatStringDimension";const y=(t,r)=>r?u(e(t),e(r)):e(t);y.__functionName="._formatters.ValueFormatter#formatTitle";const _=(t,e)=>{const r=!!e&&!e.startsWith("T_NEW_OBJECT|")?e:t;return y(r)};_.__functionName="._formatters.ValueFormatter#formatCreationTitle";const d=(t,e,r)=>{let a;if(t===undefined){return"0"}const i=typeof t==="string"?parseFloat(t):t;const o=typeof e==="string"?parseFloat(e):e;if(r==="%"){if(i>100){a="100"}else if(i<=0){a="0"}else{a=typeof t==="string"?t:t?.toString()}}else if(i>o){a="100"}else if(i<=0){a="0"}else{a=i&&o?(i/o*100).toString():"0"}return a};d.__functionName="._formatters.ValueFormatter#computePercentage";const g=t=>{let e;if(t==="UI.CriticalityType/Negative"||t==="1"||t===1){e="Error"}else if(t==="UI.CriticalityType/Critical"||t==="2"||t===2){e="Warning"}else if(t==="UI.CriticalityType/Positive"||t==="3"||t===3){e="Success"}else if(t==="UI.CriticalityType/Information"||t==="5"||t===5){e="Information"}else{e="None"}return e};g.__functionName="._formatters.ValueFormatter#formatCriticalityValueState";c.formatCriticalityValueState=g;const T=t=>{let e;if(t==="UI.CriticalityType/Negative"||t==="1"||t===1){e="Reject"}else if(t==="UI.CriticalityType/Positive"||t==="3"||t===3){e="Accept"}else{e="Default"}return e};T.__functionName="._formatters.ValueFormatter#formatCriticalityButtonType";c.formatCriticalityButtonType=T;const h=t=>{let e;if(t==="UI.CriticalityType/Negative"||t==="1"||t===1){e="Error"}else if(t==="UI.CriticalityType/Critical"||t==="2"||t===2){e="Critical"}else if(t==="UI.CriticalityType/Positive"||t==="3"||t===3){e="Good"}else{e="Neutral"}return e};h.__functionName="._formatters.ValueFormatter#formatCriticalityColorMicroChart";c.formatCriticalityColorMicroChart=h;const C=(t,e,r,a,o)=>{if(t&&e&&r){const c=r.split("-");const f=`${c[1]===undefined?r:c[1]}-narrow`;const l=n.getDateInstance();const m=l.oLocaleData.mData;const u=i.getResourceBundleFor("sap.fe.macros");let p=r;if(m?.dateFields[f]?.displayName){p=m.dateFields[f].displayName}else if(m?.units?.short[r]?.displayName){p=m.units.short[r].displayName}let y;if(a){y=s.getCurrencyInstance({customCurrencies:o,showMeasure:false})}else{y=s.getUnitInstance({customUnits:o,showMeasure:false})}const _=y.format(+t,p);const d=y.format(+e,p);return u.getText("T_COMMON_PROGRESS_INDICATOR_DISPLAY_VALUE_WITH_UOM",[_,d,p])}};C.__functionName="._formatters.ValueFormatter#formatProgressIndicatorText";c.formatProgressIndicatorText=C;const N=t=>{if(t?.length){return"*".repeat(t.length)}return undefined};N.__functionName="._formatters.ValueFormatter#formatPasswordText";c.formatPasswordText=N;const I=t=>t===null||t===undefined?"":e(t+"");I.__functionName="._formatters.ValueFormatter#formatToKeepWhitespace";c.formatToKeepWhitespace=I;function F(e){if(e){const r=new Date(e);if(!isNaN(Date.parse(r))){return o.getInstance(e)}else{t.warning("Warning: Valid date format has to be sent to retrieve UI5 date instance")}}return null}F.__functionName="._formatters.ValueFormatter#provideDateInstance";const M=function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++){e[r]=arguments[r]}const a=e[0];const i=[];for(let t=1;t<e.length;t++){if(e[t]){i.push(e[t])}}if(i.length>0){return f(a,{semanticObjectsList:i,semanticObjectsExpressionList:[],qualifierMap:{}}).hasReachableStaticSemanticObject}return undefined};M.__functionName="._formatters.ValueFormatter#hasSemanticObjects";c.hasSemanticObjects=M;const S=function(t){return e(t)};S.__functionName="._formatters.ValueFormatter#replaceWhitespace";c.replaceWhitespace=S;const V=function(t){return a.getIconForMimeType(t)};V.__functionName="._formatters.ValueFormatter#getIconForMimeType";m.hasSemanticObjects=M;m.formatWithBrackets=u;m.formatTitle=y;m.formatCreationTitle=_;m.provideDateInstance=F;m.computePercentage=d;m.formatCriticalityValueState=g;m.formatCriticalityButtonType=T;m.formatCriticalityColorMicroChart=h;m.formatProgressIndicatorText=C;m.formatPasswordText=N;m.formatToKeepWhitespace=I;m.formatStringDimension=p;m.getIconForMimeType=V;m.replaceWhitespace=S;return m},false);
//# sourceMappingURL=ValueFormatter.js.map