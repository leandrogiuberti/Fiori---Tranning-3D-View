{"version":3,"file":"CollaborationFormatter.js","names":["collaborationFormatters","sName","hasOwnProperty","_len","arguments","length","oArgs","Array","_key","apply","this","hasCollaborationActivity","activities","getCollaborationActivity","__functionName","_exports","getCollaborationInfo","getCollaborationActivityInitials","activity","initials","getCollaborationActivityColor","color","control","path","getBindingContext","getPath","undefined","activityKey","getActivityKeyFromPath","find","key","getFormattedText","textId","resourceBundle","Library","getResourceBundleFor","params","i","push","getText"],"sources":["./CollaborationFormatter.ts"],"sourcesContent":["/**\n * Collection of formatters needed for the collaboration draft.\n * @param {object} this The context\n * @param {string} sName The inner function name\n * @param {object[]} oArgs The inner function parameters\n * @returns {object} The value from the inner function\n */\n\nimport type { Property } from \"@sap-ux/vocabularies-types\";\nimport type { UserActivity } from \"sap/fe/core/controllerextensions/collaboration/CollaborationCommon\";\nimport { getActivityKeyFromPath } from \"sap/fe/core/controllerextensions/collaboration/CollaborationCommon\";\nimport type ManagedObject from \"sap/ui/base/ManagedObject\";\nimport Library from \"sap/ui/core/Lib\";\n\nconst collaborationFormatters = function (this: object, sName: string, ...oArgs: unknown[]): unknown {\n\tif (collaborationFormatters.hasOwnProperty(sName)) {\n\t\treturn (collaborationFormatters as unknown as Record<string, Function>)[sName].apply(this, oArgs);\n\t} else {\n\t\treturn \"\";\n\t}\n};\nexport const hasCollaborationActivity = function (this: ManagedObject, activities: UserActivity[], ..._keys: unknown[]): boolean {\n\treturn !!getCollaborationActivity(activities, this);\n};\nhasCollaborationActivity.__functionName = \"._formatters.CollaborationFormatter.bind($control)#hasCollaborationActivity\";\n\nexport const getCollaborationInfo = function (this: ManagedObject, activities: UserActivity[], ..._keys: unknown[]): object | undefined {\n\treturn getCollaborationActivity(activities, this);\n};\ngetCollaborationInfo.__functionName = \"._formatters.CollaborationFormatter.bind($control)#getCollaborationInfo\";\n\nexport const getCollaborationActivityInitials = function (\n\tthis: ManagedObject,\n\tactivities: UserActivity[],\n\t..._keys: Property[]\n): string | undefined {\n\tconst activity = getCollaborationActivity(activities, this);\n\treturn activity?.initials;\n};\ngetCollaborationActivityInitials.__functionName = \"._formatters.CollaborationFormatter.bind($control)#getCollaborationActivityInitials\";\n\nexport const getCollaborationActivityColor = function (\n\tthis: ManagedObject,\n\tactivities: UserActivity[],\n\t..._keys: Property[]\n): string | undefined {\n\tconst activity = getCollaborationActivity(activities, this);\n\treturn activity?.color;\n};\ngetCollaborationActivityColor.__functionName = \"._formatters.CollaborationFormatter.bind($control)#getCollaborationActivityColor\";\n\nfunction getCollaborationActivity(activities?: UserActivity[], control?: ManagedObject): UserActivity | undefined {\n\tconst path = control?.getBindingContext()?.getPath();\n\tif (!path) {\n\t\treturn undefined;\n\t}\n\tconst activityKey = getActivityKeyFromPath(path);\n\tif (activities && activities.length > 0) {\n\t\treturn activities.find((activity) => {\n\t\t\treturn activity.key === activityKey;\n\t\t});\n\t} else {\n\t\treturn undefined;\n\t}\n}\n\n/**\n * Compute the Invitation dialog title based on the underlying resource bundle.\n * @param args The inner function parameters\n * @returns The dialog title\n */\nexport const getFormattedText = (...args: string[]): string => {\n\tconst textId = args[0];\n\tconst resourceBundle = Library.getResourceBundleFor(\"sap.fe.core\")!;\n\tconst params = [];\n\tfor (let i = 1; i < args.length; i++) {\n\t\tparams.push(args[i]);\n\t}\n\treturn resourceBundle.getText(textId, params);\n};\n\ngetFormattedText.__functionName = \"._formatters.CollaborationFormatter#getFormattedText\";\n\ncollaborationFormatters.hasCollaborationActivity = hasCollaborationActivity;\ncollaborationFormatters.getCollaborationActivityInitials = getCollaborationActivityInitials;\ncollaborationFormatters.getCollaborationActivityColor = getCollaborationActivityColor;\ncollaborationFormatters.getFormattedText = getFormattedText;\ncollaborationFormatters.getCollaborationInfo = getCollaborationInfo;\n\nexport default collaborationFormatters;\n"],"mappings":";;;;0KAcA,MAAMA,EAA0B,SAAwBC,GACvD,GAAID,EAAwBE,eAAeD,GAAQ,SAAAE,EAAAC,UAAAC,OADsBC,EAAK,IAAAC,MAAAJ,EAAA,EAAAA,EAAA,KAAAK,EAAA,EAAAA,EAAAL,EAAAK,IAAA,CAALF,EAAKE,EAAA,GAAAJ,UAAAI,EAAA,CAE7E,OAAQR,EAAgEC,GAAOQ,MAAMC,KAAMJ,EAC5F,KAAO,CACN,MAAO,EACR,CACD,EACO,MAAMK,EAA2B,SAA+BC,GACtE,QAASC,EAAyBD,EAAYF,KAC/C,EACAC,EAAyBG,eAAiB,8EAA8EC,EAAAJ,2BAEjH,MAAMK,EAAuB,SAA+BJ,GAClE,OAAOC,EAAyBD,EAAYF,KAC7C,EACAM,EAAqBF,eAAiB,0EAA0EC,EAAAC,uBAEzG,MAAMC,EAAmC,SAE/CL,GAGA,MAAMM,EAAWL,EAAyBD,EAAYF,MACtD,OAAOQ,GAAUC,QAClB,EACAF,EAAiCH,eAAiB,sFAAsFC,EAAAE,mCAEjI,MAAMG,EAAgC,SAE5CR,GAGA,MAAMM,EAAWL,EAAyBD,EAAYF,MACtD,OAAOQ,GAAUG,KAClB,EACAD,EAA8BN,eAAiB,mFAAmFC,EAAAK,gCAElI,SAASP,EAAyBD,EAA6BU,GAC9D,MAAMC,EAAOD,GAASE,qBAAqBC,UAC3C,IAAKF,EAAM,CACV,OAAOG,SACR,CACA,MAAMC,EAAcC,EAAuBL,GAC3C,GAAIX,GAAcA,EAAWP,OAAS,EAAG,CACxC,OAAOO,EAAWiB,KAAMX,GAChBA,EAASY,MAAQH,EAE1B,KAAO,CACN,OAAOD,SACR,CACD,CAOO,MAAMK,EAAmB,WAC/B,MAAMC,EAAM5B,UAAAC,QAAA,EAAAqB,UAAAtB,UAAA,GACZ,MAAM6B,EAAiBC,EAAQC,qBAAqB,eACpD,MAAMC,EAAS,GACf,IAAK,IAAIC,EAAI,EAAGA,EAAIjC,UAAKC,OAAQgC,IAAK,CACrCD,EAAOE,KAAUD,EAAC,GAAAjC,UAAAC,QAADgC,EAACX,UAAAtB,UAADiC,GAClB,CACA,OAAOJ,EAAeM,QAAQP,EAAQI,EACvC,EAEAL,EAAiBjB,eAAiB,uDAAuDC,EAAAgB,mBAEzF/B,EAAwBW,yBAA2BA,EACnDX,EAAwBiB,iCAAmCA,EAC3DjB,EAAwBoB,8BAAgCA,EACxDpB,EAAwB+B,iBAAmBA,EAC3C/B,EAAwBgB,qBAAuBA,EAAqB,OAErDhB,CAAuB","ignoreList":[]}