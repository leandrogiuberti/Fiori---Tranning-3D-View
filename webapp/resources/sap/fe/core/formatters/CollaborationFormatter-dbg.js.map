{"version":3,"names":["collaborationFormatters","sName","hasOwnProperty","_len","arguments","length","oArgs","Array","_key","apply","hasCollaborationActivity","activities","getCollaborationActivity","__functionName","_exports","getCollaborationInfo","getCollaborationActivityInitials","activity","initials","getCollaborationActivityColor","color","control","path","getBindingContext","getPath","undefined","activityKey","getActivityKeyFromPath","find","key","getFormattedText","textId","resourceBundle","Library","getResourceBundleFor","params","i","push","getText"],"sourceRoot":".","sources":["CollaborationFormatter.ts"],"sourcesContent":["/**\n * Collection of formatters needed for the collaboration draft.\n * @param {object} this The context\n * @param {string} sName The inner function name\n * @param {object[]} oArgs The inner function parameters\n * @returns {object} The value from the inner function\n */\n\nimport type { Property } from \"@sap-ux/vocabularies-types\";\nimport type { UserActivity } from \"sap/fe/core/controllerextensions/collaboration/CollaborationCommon\";\nimport { getActivityKeyFromPath } from \"sap/fe/core/controllerextensions/collaboration/CollaborationCommon\";\nimport type ManagedObject from \"sap/ui/base/ManagedObject\";\nimport Library from \"sap/ui/core/Lib\";\n\nconst collaborationFormatters = function (this: object, sName: string, ...oArgs: unknown[]): unknown {\n\tif (collaborationFormatters.hasOwnProperty(sName)) {\n\t\treturn (collaborationFormatters as unknown as Record<string, Function>)[sName].apply(this, oArgs);\n\t} else {\n\t\treturn \"\";\n\t}\n};\nexport const hasCollaborationActivity = function (this: ManagedObject, activities: UserActivity[], ..._keys: unknown[]): boolean {\n\treturn !!getCollaborationActivity(activities, this);\n};\nhasCollaborationActivity.__functionName = \"._formatters.CollaborationFormatter.bind($control)#hasCollaborationActivity\";\n\nexport const getCollaborationInfo = function (this: ManagedObject, activities: UserActivity[], ..._keys: unknown[]): object | undefined {\n\treturn getCollaborationActivity(activities, this);\n};\ngetCollaborationInfo.__functionName = \"._formatters.CollaborationFormatter.bind($control)#getCollaborationInfo\";\n\nexport const getCollaborationActivityInitials = function (\n\tthis: ManagedObject,\n\tactivities: UserActivity[],\n\t..._keys: Property[]\n): string | undefined {\n\tconst activity = getCollaborationActivity(activities, this);\n\treturn activity?.initials;\n};\ngetCollaborationActivityInitials.__functionName = \"._formatters.CollaborationFormatter.bind($control)#getCollaborationActivityInitials\";\n\nexport const getCollaborationActivityColor = function (\n\tthis: ManagedObject,\n\tactivities: UserActivity[],\n\t..._keys: Property[]\n): string | undefined {\n\tconst activity = getCollaborationActivity(activities, this);\n\treturn activity?.color;\n};\ngetCollaborationActivityColor.__functionName = \"._formatters.CollaborationFormatter.bind($control)#getCollaborationActivityColor\";\n\nfunction getCollaborationActivity(activities?: UserActivity[], control?: ManagedObject): UserActivity | undefined {\n\tconst path = control?.getBindingContext()?.getPath();\n\tif (!path) {\n\t\treturn undefined;\n\t}\n\tconst activityKey = getActivityKeyFromPath(path);\n\tif (activities && activities.length > 0) {\n\t\treturn activities.find((activity) => {\n\t\t\treturn activity.key === activityKey;\n\t\t});\n\t} else {\n\t\treturn undefined;\n\t}\n}\n\n/**\n * Compute the Invitation dialog title based on the underlying resource bundle.\n * @param args The inner function parameters\n * @returns The dialog title\n */\nexport const getFormattedText = (...args: string[]): string => {\n\tconst textId = args[0];\n\tconst resourceBundle = Library.getResourceBundleFor(\"sap.fe.core\")!;\n\tconst params = [];\n\tfor (let i = 1; i < args.length; i++) {\n\t\tparams.push(args[i]);\n\t}\n\treturn resourceBundle.getText(textId, params);\n};\n\ngetFormattedText.__functionName = \"._formatters.CollaborationFormatter#getFormattedText\";\n\ncollaborationFormatters.hasCollaborationActivity = hasCollaborationActivity;\ncollaborationFormatters.getCollaborationActivityInitials = getCollaborationActivityInitials;\ncollaborationFormatters.getCollaborationActivityColor = getCollaborationActivityColor;\ncollaborationFormatters.getFormattedText = getFormattedText;\ncollaborationFormatters.getCollaborationInfo = getCollaborationInfo;\n\nexport default collaborationFormatters;\n"],"mappings":"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","ignoreList":[],"file":"CollaborationFormatter-dbg.js"}