{"version":3,"names":["SizeHelper","calls","hiddenButton","undefined","init","Button","placeAt","StaticArea","getDomRef","setVisible","getButtonWidth","text","setText","UIArea","rerenderControl","buttonWidth","Rem","fromPx","scrollWidth","Math","round","exit","destroy"],"sourceRoot":".","sources":["SizeHelper.ts"],"sourcesContent":["import Button from \"sap/m/Button\";\nimport type Control from \"sap/ui/core/Control\";\nimport StaticArea from \"sap/ui/core/StaticArea\";\nimport UIArea from \"sap/ui/core/UIArea\";\nimport Rem from \"sap/ui/dom/units/Rem\";\n\nconst SizeHelper = {\n\tcalls: 0,\n\thiddenButton: undefined as undefined | Button,\n\n\t/**\n\t * Creates a hidden button and places it in the static area.\n\t */\n\tinit: function (): void {\n\t\t// Create a new button in static area\n\t\tthis.calls++;\n\t\tthis.hiddenButton = this.hiddenButton ? this.hiddenButton : new Button().placeAt(StaticArea.getDomRef());\n\t\t// Hide button from accessibility tree\n\t\tthis.hiddenButton.setVisible(false);\n\t},\n\t/**\n\t * Method to calculate the width of the button from a temporarily created button placed in the static area.\n\t * @param text The text to measure inside the Button.\n\t * @returns The value of the Button width.\n\t */\n\tgetButtonWidth: function (text?: string): number {\n\t\tif (!text || !this.hiddenButton) {\n\t\t\treturn 0;\n\t\t}\n\n\t\tthis.hiddenButton.setVisible(true);\n\t\tthis.hiddenButton.setText(text);\n\t\t(UIArea as unknown as { rerenderControl(control: Control): void }).rerenderControl(this.hiddenButton);\n\n\t\tconst buttonWidth = Rem.fromPx(this.hiddenButton.getDomRef()?.scrollWidth);\n\t\tthis.hiddenButton.setVisible(false);\n\t\treturn Math.round(buttonWidth * 100) / 100;\n\t},\n\n\t/**\n\t * Deletes the hidden button if not needed anymore.\n\t */\n\texit: function (): void {\n\t\tthis.calls--;\n\t\tif (this.calls === 0) {\n\t\t\tthis.hiddenButton?.destroy();\n\t\t\tthis.hiddenButton = undefined;\n\t\t}\n\t}\n};\n\nexport default SizeHelper;\n"],"mappings":";;;;;;;EAMA,MAAMA,UAAU,GAAG;IAClBC,KAAK,EAAE,CAAC;IACRC,YAAY,EAAEC,SAA+B;IAE7C;AACD;AACA;IACCC,IAAI,EAAE,SAAAA,CAAA,EAAkB;MACvB;MACA,IAAI,CAACH,KAAK,EAAE;MACZ,IAAI,CAACC,YAAY,GAAG,IAAI,CAACA,YAAY,GAAG,IAAI,CAACA,YAAY,GAAG,IAAIG,MAAM,CAAC,CAAC,CAACC,OAAO,CAACC,UAAU,CAACC,SAAS,CAAC,CAAC,CAAC;MACxG;MACA,IAAI,CAACN,YAAY,CAACO,UAAU,CAAC,KAAK,CAAC;IACpC,CAAC;IACD;AACD;AACA;AACA;AACA;IACCC,cAAc,EAAE,SAAAA,CAAUC,IAAa,EAAU;MAChD,IAAI,CAACA,IAAI,IAAI,CAAC,IAAI,CAACT,YAAY,EAAE;QAChC,OAAO,CAAC;MACT;MAEA,IAAI,CAACA,YAAY,CAACO,UAAU,CAAC,IAAI,CAAC;MAClC,IAAI,CAACP,YAAY,CAACU,OAAO,CAACD,IAAI,CAAC;MAC9BE,MAAM,CAA4DC,eAAe,CAAC,IAAI,CAACZ,YAAY,CAAC;MAErG,MAAMa,WAAW,GAAGC,GAAG,CAACC,MAAM,CAAC,IAAI,CAACf,YAAY,CAACM,SAAS,CAAC,CAAC,EAAEU,WAAW,CAAC;MAC1E,IAAI,CAAChB,YAAY,CAACO,UAAU,CAAC,KAAK,CAAC;MACnC,OAAOU,IAAI,CAACC,KAAK,CAACL,WAAW,GAAG,GAAG,CAAC,GAAG,GAAG;IAC3C,CAAC;IAED;AACD;AACA;IACCM,IAAI,EAAE,SAAAA,CAAA,EAAkB;MACvB,IAAI,CAACpB,KAAK,EAAE;MACZ,IAAI,IAAI,CAACA,KAAK,KAAK,CAAC,EAAE;QACrB,IAAI,CAACC,YAAY,EAAEoB,OAAO,CAAC,CAAC;QAC5B,IAAI,CAACpB,YAAY,GAAGC,SAAS;MAC9B;IACD;EACD,CAAC;EAAC,OAEaH,UAAU;AAAA","ignoreList":[],"file":"SizeHelper-dbg.js"}