{"version":3,"file":"SizeHelper.js","names":["SizeHelper","calls","hiddenButton","undefined","init","this","Button","placeAt","StaticArea","getDomRef","setVisible","getButtonWidth","text","setText","UIArea","rerenderControl","buttonWidth","Rem","fromPx","scrollWidth","Math","round","exit","destroy"],"sources":["./SizeHelper.ts"],"sourcesContent":["import Button from \"sap/m/Button\";\nimport type Control from \"sap/ui/core/Control\";\nimport StaticArea from \"sap/ui/core/StaticArea\";\nimport UIArea from \"sap/ui/core/UIArea\";\nimport Rem from \"sap/ui/dom/units/Rem\";\n\nconst SizeHelper = {\n\tcalls: 0,\n\thiddenButton: undefined as undefined | Button,\n\n\t/**\n\t * Creates a hidden button and places it in the static area.\n\t */\n\tinit: function (): void {\n\t\t// Create a new button in static area\n\t\tthis.calls++;\n\t\tthis.hiddenButton = this.hiddenButton ? this.hiddenButton : new Button().placeAt(StaticArea.getDomRef());\n\t\t// Hide button from accessibility tree\n\t\tthis.hiddenButton.setVisible(false);\n\t},\n\t/**\n\t * Method to calculate the width of the button from a temporarily created button placed in the static area.\n\t * @param text The text to measure inside the Button.\n\t * @returns The value of the Button width.\n\t */\n\tgetButtonWidth: function (text?: string): number {\n\t\tif (!text || !this.hiddenButton) {\n\t\t\treturn 0;\n\t\t}\n\n\t\tthis.hiddenButton.setVisible(true);\n\t\tthis.hiddenButton.setText(text);\n\t\t(UIArea as unknown as { rerenderControl(control: Control): void }).rerenderControl(this.hiddenButton);\n\n\t\tconst buttonWidth = Rem.fromPx(this.hiddenButton.getDomRef()?.scrollWidth);\n\t\tthis.hiddenButton.setVisible(false);\n\t\treturn Math.round(buttonWidth * 100) / 100;\n\t},\n\n\t/**\n\t * Deletes the hidden button if not needed anymore.\n\t */\n\texit: function (): void {\n\t\tthis.calls--;\n\t\tif (this.calls === 0) {\n\t\t\tthis.hiddenButton?.destroy();\n\t\t\tthis.hiddenButton = undefined;\n\t\t}\n\t}\n};\n\nexport default SizeHelper;\n"],"mappings":";;;;mIAMA,MAAMA,EAAa,CAClBC,MAAO,EACPC,aAAcC,UAKdC,KAAM,WAELC,KAAKJ,QACLI,KAAKH,aAAeG,KAAKH,aAAeG,KAAKH,cAAe,IAAII,GAASC,QAAQC,EAAWC,aAE5FJ,KAAKH,aAAaQ,WAAW,MAC9B,EAMAC,eAAgB,SAAUC,GACzB,IAAKA,IAASP,KAAKH,aAAc,CAChC,OAAO,CACR,CAEAG,KAAKH,aAAaQ,WAAW,MAC7BL,KAAKH,aAAaW,QAAQD,GACzBE,EAAkEC,gBAAgBV,KAAKH,cAExF,MAAMc,EAAcC,EAAIC,OAAOb,KAAKH,aAAaO,aAAaU,aAC9Dd,KAAKH,aAAaQ,WAAW,OAC7B,OAAOU,KAAKC,MAAML,EAAc,KAAO,GACxC,EAKAM,KAAM,WACLjB,KAAKJ,QACL,GAAII,KAAKJ,QAAU,EAAG,CACrBI,KAAKH,cAAcqB,UACnBlB,KAAKH,aAAeC,SACrB,CACD,GACC,OAEaH,CAAU","ignoreList":[]}