{"version":3,"names":["PromiseKeeper","promise","Promise","resolve","reject","resolver","rejector","_exports","_proto","prototype","result","error","undefined","Error"],"sourceRoot":".","sources":["PromiseKeeper.ts"],"sourcesContent":["/**\n * Helper class that allows to create a Promise and resolve it \"from the outside\".\n *\n * For example, to return a string promise that is resolved when an event is fired:\n * <code>\n * \t\tconst keeper = new PromiseKeeper<string>();\n * \t\teventProvider.attachEvent('myEvent', () => {\n * \t\t\tkeeper.resolve(\"I'm resolved!!\");\n * \t\t});\n *\n * \t\treturn keeper.promise;\n * </code>\n */\nexport default class PromiseKeeper<Type> {\n\tprivate resolver?: (result: Type) => void;\n\n\tprivate rejector?: (error: Error) => void;\n\n\t/**\n\t * The Promise wrapped by the PromiseKeeper\n\t */\n\tpublic readonly promise: Promise<Type>;\n\n\tconstructor() {\n\t\tthis.promise = new Promise<Type>((resolve, reject) => {\n\t\t\tthis.resolver = resolve;\n\t\t\tthis.rejector = reject;\n\t\t});\n\t}\n\n\t/**\n\t * Resolves the wrapped Promise.\n\t * @param result The resolved value.\n\t */\n\tresolve(result: Type): void {\n\t\tif (this.resolver) {\n\t\t\tthis.resolver(result);\n\t\t}\n\t}\n\n\t/**\n\t * Rejects the wrapped Promise. The promise is always rejected using an Error object.\n\t * @param error The error or error message for the rejection.\n\t */\n\treject(error?: string | Error): void {\n\t\tif (this.rejector) {\n\t\t\tif (error === undefined || typeof error === \"string\") {\n\t\t\t\tthis.rejector(new Error(error));\n\t\t\t} else {\n\t\t\t\tthis.rejector(error);\n\t\t\t}\n\t\t}\n\t}\n}\n"],"mappings":";;;;;;;;EAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;EAZA,IAaqBA,aAAa;IAKjC;AACD;AACA;;IAGC,SAAAA,cAAA,EAAc;MACb,IAAI,CAACC,OAAO,GAAG,IAAIC,OAAO,CAAO,CAACC,OAAO,EAAEC,MAAM,KAAK;QACrD,IAAI,CAACC,QAAQ,GAAGF,OAAO;QACvB,IAAI,CAACG,QAAQ,GAAGF,MAAM;MACvB,CAAC,CAAC;IACH;;IAEA;AACD;AACA;AACA;IAHCG,QAAA,GAAAP,aAAA;IAAA,IAAAQ,MAAA,GAAAR,aAAA,CAAAS,SAAA;IAAAD,MAAA,CAIAL,OAAO,GAAP,SAAAA,OAAOA,CAACO,MAAY,EAAQ;MAC3B,IAAI,IAAI,CAACL,QAAQ,EAAE;QAClB,IAAI,CAACA,QAAQ,CAACK,MAAM,CAAC;MACtB;IACD;;IAEA;AACD;AACA;AACA,OAHC;IAAAF,MAAA,CAIAJ,MAAM,GAAN,SAAAA,MAAMA,CAACO,KAAsB,EAAQ;MACpC,IAAI,IAAI,CAACL,QAAQ,EAAE;QAClB,IAAIK,KAAK,KAAKC,SAAS,IAAI,OAAOD,KAAK,KAAK,QAAQ,EAAE;UACrD,IAAI,CAACL,QAAQ,CAAC,IAAIO,KAAK,CAACF,KAAK,CAAC,CAAC;QAChC,CAAC,MAAM;UACN,IAAI,CAACL,QAAQ,CAACK,KAAK,CAAC;QACrB;MACD;IACD,CAAC;IAAA,OAAAX,aAAA;EAAA;EAAAO,QAAA,GAAAP,aAAA;EAAA,OAAAO,QAAA;AAAA","ignoreList":[],"file":"PromiseKeeper-dbg.js"}