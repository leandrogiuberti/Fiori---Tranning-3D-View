{"version":3,"names":["resourceBundleDesigntime","Lib","getResourceBundleFor","getText","key","_exports","TEXT_ARRANGEMENT_LABELS","filterPropertyWithTextAnnotation","prop","annotations","Common","Text","undefined","hasCurrency","hasUnit","isCurrency","isUnit","_collectProperties","entityType","properties","filterFn","visitedEntity","fullyQualifiedName","push","entityProperties","filter","UI","Hidden","valueOf","targetType","map","property","collectProperties","templateComponent","control","metaModel","getMetaModel","contextPathToUse","getFullContextPath","buildingBlock","isA","getParent","metaPath","getProperty","targetEntity","MetaPath","convertTypes","e","Log","warning","getClosestEntityType","getTargetPropertyFromFormElement","oControl","targetProperty","fields","getFields","length","targetObject","getMainPropertyRelativePath","getRenameAction","isAtElementLevel","arguments","changeType","title","icon","singleRename","controlBasedRenameChangeType","type","AnnotationTypes","StringType","delegate","getAnnotationsChangeInfo","_annotation","Component","getOwnerComponentFor","view","CommonUtils","getTargetView","getController","getOwnerComponent","targetPropertyPath","find","name","serviceUrl","getModel","getServiceUrl","propertyName","annotationPath","currentValue","Label","toString","possibleValues","preSelectedProperty","getTextArrangementChangeAction","ValueListType","defaultType","TextArrangement","Object","keys","sKey","text"],"sourceRoot":".","sources":["AnnotationBasedChanges.ts"],"sourcesContent":["import type { EntityType, Property } from \"@sap-ux/vocabularies-types\";\nimport { TextArrangementType } from \"@sap-ux/vocabularies-types/vocabularies/UI\";\nimport Log from \"sap/base/Log\";\nimport type TemplateComponent from \"sap/fe/core/TemplateComponent\";\nimport type BuildingBlock from \"sap/fe/core/buildingBlocks/BuildingBlock\";\nimport { convertTypes } from \"sap/fe/core/converters/MetaModelConverter\";\nimport MetaPath from \"sap/fe/core/helpers/MetaPath\";\nimport type ManagedObject from \"sap/ui/base/ManagedObject\";\nimport Component from \"sap/ui/core/Component\";\nimport Lib from \"sap/ui/core/Lib\";\nimport type ODataModel from \"sap/ui/model/odata/v4/ODataModel\";\n// OK since we are in designtime we can ignore that dependency\nimport { hasCurrency, hasUnit, isCurrency, isUnit } from \"sap/fe/core/templating/PropertyHelper\";\nimport type Field from \"sap/fe/macros/Field\";\nimport type FormElement from \"sap/ui/layout/form/FormElement\";\n// eslint-disable-next-line @typescript-eslint/no-restricted-imports\nimport CommonUtils from \"sap/fe/core/CommonUtils\";\nimport AnnotationTypes from \"sap/ui/rta/plugin/annotations/AnnotationTypes\";\n\nconst resourceBundleDesigntime = Lib.getResourceBundleFor(\"sap.fe.core.designtime\")!;\n\nexport const getText = function (key: string): string {\n\treturn resourceBundleDesigntime.getText(key);\n};\n\ntype AnnotationChangeReturnType = {\n\tserviceUrl: string | undefined;\n\tproperties: {\n\t\tpropertyName: string;\n\t\tannotationPath: string;\n\t\tcurrentValue: string;\n\t}[];\n\tpossibleValues: { key: string; text: string }[];\n\tpreSelectedProperty: string; // if the action is triggered from a control that corresponds to a property, only this one will be shown in the Dialog initially (search field populated with this string)\n};\n\nconst TEXT_ARRANGEMENT_LABELS = {\n\t[TextArrangementType.TextOnly]: \"Text Only\",\n\t[TextArrangementType.TextFirst]: \"Text First\",\n\t[TextArrangementType.TextLast]: \"Text Last\",\n\t[TextArrangementType.TextSeparate]: \"ID Only\"\n};\n\nfunction filterPropertyWithTextAnnotation(prop: Property): boolean {\n\treturn prop.annotations.Common?.Text !== undefined && !hasCurrency(prop) && !hasUnit(prop) && !isCurrency(prop) && !isUnit(prop);\n}\n\n/**\n * Collects all properties with a Text annotation from the given entity type and its navigation properties.\n * @param entityType The entity type to start with\n * @param properties The array to collect the properties in\n * @param filterFn A filter function to determine which properties to collect\n * @param visitedEntity A map to keep track of visited entities\n */\nfunction _collectProperties(\n\tentityType: EntityType,\n\tproperties: { property: Property; entityType: EntityType }[],\n\tfilterFn: (prop: Property) => boolean,\n\tvisitedEntity: Record<string, boolean>\n): void {\n\tif (visitedEntity[entityType.fullyQualifiedName]) {\n\t\treturn;\n\t}\n\tvisitedEntity[entityType.fullyQualifiedName] = true;\n\tproperties.push(\n\t\t...entityType.entityProperties\n\t\t\t.filter(filterFn)\n\t\t\t.filter((prop) => {\n\t\t\t\t// Always filter out UI.Hidden = true\n\t\t\t\t// Always filter out complex type\n\t\t\t\tif (prop.annotations.UI?.Hidden?.valueOf() === true || !!prop.targetType) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t})\n\t\t\t.map((prop: Property) => {\n\t\t\t\treturn {\n\t\t\t\t\tproperty: prop,\n\t\t\t\t\tentityType: entityType\n\t\t\t\t};\n\t\t\t})\n\t);\n}\n\nfunction collectProperties(\n\ttemplateComponent: TemplateComponent,\n\tcontrol: ManagedObject,\n\tfilterFn: (prop: Property) => boolean\n): { property: Property; entityType: EntityType }[] | null {\n\tconst metaModel = templateComponent.getMetaModel();\n\tconst contextPathToUse = templateComponent.getFullContextPath();\n\t// Find closest building block\n\tlet buildingBlock: ManagedObject | null = control;\n\twhile (buildingBlock && !buildingBlock.isA<BuildingBlock>(\"sap.fe.core.buildingBlocks.BuildingBlock\")) {\n\t\tbuildingBlock = buildingBlock.getParent();\n\t}\n\tlet metaPath = contextPathToUse!;\n\tif (buildingBlock) {\n\t\tmetaPath = buildingBlock.getProperty(\"metaPath\") ?? contextPathToUse;\n\t}\n\tconst properties: { property: Property; entityType: EntityType }[] = [];\n\tif (metaModel && contextPathToUse) {\n\t\tlet targetEntity: MetaPath<EntityType>;\n\t\ttry {\n\t\t\ttargetEntity = new MetaPath(convertTypes(metaModel), metaPath, contextPathToUse);\n\t\t} catch (e) {\n\t\t\tLog.warning(`No metamodel or metaPath is not reachable with ${metaPath} and ${contextPathToUse}`);\n\t\t\treturn null;\n\t\t}\n\n\t\tconst visitedEntity: Record<string, boolean> = {};\n\t\t// Collect all properties, don't apply filters\n\t\t_collectProperties(targetEntity.getClosestEntityType(), properties, filterFn, visitedEntity);\n\t}\n\treturn properties;\n}\n\nexport function getTargetPropertyFromFormElement(oControl: ManagedObject): string | undefined {\n\tlet targetProperty;\n\tif (oControl.isA<FormElement>(\"sap.ui.layout.form.FormElement\")) {\n\t\tconst fields = oControl.getFields();\n\t\tif (fields?.length > 0 && fields[0].isA<Field>(\"sap.fe.macros.Field\")) {\n\t\t\tconst targetObject = fields[0];\n\t\t\ttargetProperty = targetObject.getMainPropertyRelativePath();\n\t\t}\n\t}\n\treturn targetProperty;\n}\n\nexport function getRenameAction(isAtElementLevel = false): {\n\tchangeType: string;\n\tsingleRename: boolean;\n\tcontrolBasedRenameChangeType: string;\n\ttitle: () => string;\n\ticon: string;\n\ttype: string;\n\tdelegate: { getAnnotationsChangeInfo: (oControl: ManagedObject, _annotation: string) => AnnotationChangeReturnType | null };\n} {\n\treturn {\n\t\tchangeType: \"renameLabel\",\n\t\ttitle: (): string => (isAtElementLevel ? getText(\"RTA_CONTEXT_ACTIONMENU_RENAME\") : getText(\"RTA_CONTEXT_ACTIONMENU_CHANGELABELS\")),\n\t\ticon: \"sap-icon://edit\",\n\t\tsingleRename: isAtElementLevel,\n\t\tcontrolBasedRenameChangeType: \"renameField\",\n\t\ttype: AnnotationTypes.StringType,\n\t\tdelegate: {\n\t\t\tgetAnnotationsChangeInfo: (oControl: ManagedObject, _annotation: string): AnnotationChangeReturnType | null => {\n\t\t\t\tlet templateComponent = Component.getOwnerComponentFor(oControl) as TemplateComponent | undefined;\n\t\t\t\tif (!templateComponent) {\n\t\t\t\t\tconst view = CommonUtils.getTargetView(oControl);\n\t\t\t\t\ttemplateComponent = view?.getController().getOwnerComponent() as TemplateComponent | undefined;\n\t\t\t\t}\n\t\t\t\tif (templateComponent) {\n\t\t\t\t\tlet targetProperty: Property | undefined;\n\t\t\t\t\tconst properties = collectProperties(templateComponent, oControl, () => true);\n\t\t\t\t\tconst targetPropertyPath = getTargetPropertyFromFormElement(oControl);\n\t\t\t\t\tif (targetPropertyPath) {\n\t\t\t\t\t\ttargetProperty = properties?.find((prop) => {\n\t\t\t\t\t\t\treturn prop.property.name === targetPropertyPath;\n\t\t\t\t\t\t})?.property;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (properties && properties.length > 0) {\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\tserviceUrl: (oControl.getModel() as ODataModel | undefined)?.getServiceUrl(),\n\t\t\t\t\t\t\tproperties: properties.map((prop: { property: Property; entityType: EntityType }) => {\n\t\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\t\tpropertyName: `${prop.property.name}`,\n\t\t\t\t\t\t\t\t\tannotationPath:\n\t\t\t\t\t\t\t\t\t\t\"/\" +\n\t\t\t\t\t\t\t\t\t\tprop.entityType.fullyQualifiedName +\n\t\t\t\t\t\t\t\t\t\t\"/\" +\n\t\t\t\t\t\t\t\t\t\tprop.property.name +\n\t\t\t\t\t\t\t\t\t\t\"@com.sap.vocabularies.Common.v1.Label\",\n\t\t\t\t\t\t\t\t\tcurrentValue: prop.property.annotations.Common?.Label?.toString() ?? prop.property.name\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\tpossibleValues: [],\n\t\t\t\t\t\t\tpreSelectedProperty: targetProperty\n\t\t\t\t\t\t\t\t? \"/\" + targetProperty.fullyQualifiedName + \"@com.sap.vocabularies.Common.v1.Label\"\n\t\t\t\t\t\t\t\t: \"\" // if the action is triggered from a control that corresponds to a property, only this one will be shown in the Dialog initially (search field populated with this string)\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn null;\n\t\t\t}\n\t\t}\n\t};\n}\n\nexport function getTextArrangementChangeAction(key = \"RTA_CONTEXT_ACTIONMENU_TEXTARRANGE\"): {\n\tchangeType: string;\n\ttitle: () => string;\n\ttype: string;\n\tdelegate: { getAnnotationsChangeInfo: (oControl: ManagedObject, _annotation: string) => AnnotationChangeReturnType | null };\n} {\n\treturn {\n\t\tchangeType: \"textArrangement_Test\",\n\t\ttitle: (): string => getText(key),\n\t\ttype: AnnotationTypes.ValueListType,\n\t\tdelegate: {\n\t\t\tgetAnnotationsChangeInfo: (oControl: ManagedObject, _annotation: string): AnnotationChangeReturnType | null => {\n\t\t\t\tlet templateComponent = Component.getOwnerComponentFor(oControl) as TemplateComponent | undefined;\n\t\t\t\tif (!templateComponent) {\n\t\t\t\t\tconst view = CommonUtils.getTargetView(oControl);\n\t\t\t\t\ttemplateComponent = view?.getController().getOwnerComponent() as TemplateComponent | undefined;\n\t\t\t\t}\n\t\t\t\tif (templateComponent) {\n\t\t\t\t\tconst properties = collectProperties(templateComponent, oControl, filterPropertyWithTextAnnotation);\n\t\t\t\t\tif (properties && properties.length > 0) {\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\tserviceUrl: (oControl.getModel() as ODataModel | undefined)?.getServiceUrl(),\n\t\t\t\t\t\t\tproperties: properties.map((prop: { property: Property; entityType: EntityType }) => {\n\t\t\t\t\t\t\t\tconst defaultType =\n\t\t\t\t\t\t\t\t\tprop.entityType.annotations.UI?.TextArrangement?.toString() ?? TextArrangementType.TextFirst.toString();\n\t\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\t\tpropertyName: prop.property.annotations.Common?.Label?.toString() ?? prop.property.name,\n\t\t\t\t\t\t\t\t\tannotationPath:\n\t\t\t\t\t\t\t\t\t\t\"/\" +\n\t\t\t\t\t\t\t\t\t\tprop.entityType.fullyQualifiedName +\n\t\t\t\t\t\t\t\t\t\t\"/\" +\n\t\t\t\t\t\t\t\t\t\tprop.property.name +\n\t\t\t\t\t\t\t\t\t\t\"@com.sap.vocabularies.Common.v1.Text@com.sap.vocabularies.UI.v1.TextArrangement\",\n\t\t\t\t\t\t\t\t\tcurrentValue:\n\t\t\t\t\t\t\t\t\t\tprop.property.annotations.Common?.Text?.annotations?.UI?.TextArrangement?.toString() ?? defaultType\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\tpossibleValues: Object.keys(TEXT_ARRANGEMENT_LABELS).map((sKey) => ({\n\t\t\t\t\t\t\t\tkey: sKey,\n\t\t\t\t\t\t\t\ttext: TEXT_ARRANGEMENT_LABELS[sKey as unknown as keyof typeof TEXT_ARRANGEMENT_LABELS]\n\t\t\t\t\t\t\t})),\n\t\t\t\t\t\t\tpreSelectedProperty: \"\" // if the action is triggered from a control that corresponds to a property, only this one will be shown in the Dialog initially (search field populated with this string)\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn null;\n\t\t\t}\n\t\t}\n\t};\n}\n"],"mappings":"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","ignoreList":[],"file":"AnnotationBasedChanges-dbg.js"}