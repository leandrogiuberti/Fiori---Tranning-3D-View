/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.define(["sap/fe/core/helpers/ResourceModelHelper","sap/m/Bar","sap/m/Button","sap/m/Dialog","sap/m/FormattedText","sap/m/MessageBox","sap/m/MessageItem","sap/m/MessageToast","sap/m/MessageView","sap/m/Text","sap/m/library","sap/ui/base/ManagedObject","sap/ui/core/Element","sap/ui/core/IconPool","sap/ui/core/Lib","sap/ui/core/Messaging","sap/ui/core/format/DateFormat","sap/ui/core/message/Message","sap/ui/core/message/MessageType","sap/ui/model/Filter","sap/ui/model/FilterOperator","sap/ui/model/Sorter","sap/ui/model/json/JSONModel"],function(e,t,n,s,o,r,a,i,l,g,c,u,f,d,T,p,m,E,_,h,S,A,M){"use strict";var C=e.getResourceModel;const I=c.ButtonType;let N=[];let b;let P;let R;function x(){let e;function t(e){return e.property?"( ${"+e.property+'} ? ("<p>'+e.property.substring(Math.max(e.property.lastIndexOf("/"),e.property.lastIndexOf("."))+1)+' : " + '+"${"+e.property+'} + "</p>") : "" )':""}function n(t){let n="";if(t.groupName&&t.property&&t.groupName!==e){n+="( ${"+t.property+'} ? "<br><h3>'+t.groupName+'</h3>" : "" ) + ';e=t.groupName}return n}function s(){const e="technicalDetails";return[{groupName:"",property:`${e}/status`},{groupName:"",property:`${e}/statusText`},{groupName:"Application",property:`${e}/error/@SAP__common.Application/ComponentId`},{groupName:"Application",property:`${e}/error/@SAP__common.Application/ServiceId`},{groupName:"Application",property:`${e}/error/@SAP__common.Application/ServiceRepository`},{groupName:"Application",property:`${e}/error/@SAP__common.Application/ServiceVersion`},{groupName:"ErrorResolution",property:`${e}/error/@SAP__common.ErrorResolution/Analysis`},{groupName:"ErrorResolution",property:`${e}/error/@SAP__common.ErrorResolution/Note`},{groupName:"ErrorResolution",property:`${e}/error/@SAP__common.ErrorResolution/DetailedNote`},{groupName:"ErrorResolution",property:`${e}/error/@SAP__common.ExceptionCategory`},{groupName:"ErrorResolution",property:`${e}/error/@SAP__common.TimeStamp`},{groupName:"ErrorResolution",property:`${e}/error/@SAP__common.TransactionId`},{groupName:"Messages",property:`${e}/error/code`},{groupName:"Messages",property:`${e}/error/message`}]}let o="Object.keys("+"${technicalDetails}"+').length > 0 ? "<h2>Technical Details</h2>" : "" ';s().forEach(function(e){o=`${o+n(e)}${t(e)} + `});return o}function O(){return"(${"+"description} ? (${"+'description}) : "")'}function y(e){let t=_.None;const n=e.length;const s={Error:0,Warning:0,Success:0,Information:0};for(let t=0;t<n;t++){++s[e[t].getType()]}if(s[_.Error]>0){t=_.Error}else if(s[_.Warning]>0){t=_.Warning}else if(s[_.Success]>0){t=_.Success}else if(s[_.Information]>0){t=_.Information}return t}function G(e,t){const n=p.getMessageModel().getObject("/");let s=false;let o="";n.forEach(function(r,a){const i=r.getTechnicalDetails&&r.getTechnicalDetails();if(i&&i.httpStatus===412&&i.isConcurrentModification){if(t){o=o||e.getText("C_APP_COMPONENT_SAPFE_ETAG_TECHNICAL_ISSUES_CONCURRENT_MODIFICATION")}else{o=o||e.getText("C_APP_COMPONENT_SAPFE_ETAG_TECHNICAL_ISSUES")}p.removeMessages(n[a]);r.setMessage(o);r.setTargets([""]);p.addMessages(r);s=true}});return s}function D(){b.close();P.setVisible(false);const e=b.getContent()[0];const t=e.getModel();if(t){t.setData({})}Ee()}function w(e,t){const n=new Date;const s=e.getTechnicalDetails();const o=T.getResourceBundleFor("sap.fe.core");let r;if(s&&s.httpStatus===503&&s.retryAfter){const e=s.retryAfter;let a;if(n.getFullYear()!==e.getFullYear()){a=m.getDateTimeInstance({pattern:"MMMM dd, yyyy 'at' hh:mm a"});r=o.getText("C_MESSAGE_HANDLING_SAPFE_503_ERROR",[a.format(e)])}else if(n.getFullYear()==e.getFullYear()){if(t){r=`${o.getText("C_MESSAGE_HANDLING_SAPFE_503_TITLE")} ${o.getText("C_MESSAGE_HANDLING_SAPFE_503_DESC")}`}else if(n.getMonth()!==e.getMonth()||n.getDate()!==e.getDate()){a=m.getDateTimeInstance({pattern:"MMMM dd 'at' hh:mm a"});r=o.getText("C_MESSAGE_HANDLING_SAPFE_503_ERROR",[a.format(e)])}else{a=m.getDateTimeInstance({pattern:"hh:mm a"});r=o.getText("C_MESSAGE_HANDLING_SAPFE_503_ERROR_DAY",[a.format(e)])}}}if(s&&s.httpStatus===503&&!s.retryAfter){r=o.getText("C_MESSAGE_HANDLING_SAPFE_503_ERROR_NO_RETRY_AFTER")}return r}function F(){return[...Se(undefined,true),...Se(true,true)].some(function(e){return e.getType()==="Error"||e.getType()==="Warning"})}function B(e,t,s){let o;if(!t){const e='{= ${description} ? "<html><body>" + '+O()+' + "</html></body>" : "" }';const t='{= ${technicalDetails} ? "<html><body>" + '+x()+' + "</html></body>" : "" }';o=new a(undefined,{counter:{path:"counter"},title:"{message}",subtitle:"{additionalText}",longtextUrl:"{descriptionUrl}",type:{path:"type"},groupName:"{headerName}",description:e+t,markupDescription:true})}else if(s){o=new a(undefined,{counter:{path:"counter"},title:"{message}",subtitle:"{additionalText}",longtextUrl:"{descriptionUrl}",type:{path:"type"},description:"{description}",markupDescription:true})}else{o=new a({title:"{message}",type:{path:"type"},longtextUrl:"{descriptionUrl}"})}R=new l({showDetailsPageHeader:false,itemSelect:function(){P.setVisible(true)},items:{path:"/",template:o,length:9999}});R.setGroupItems(true);P=P||new n({icon:d.getIconURI("nav-back"),visible:false,press:function(){R.navigateBack();this.setVisible(false)}});R.setModel(e);return{messageView:R,oBackButton:P}}function $(e){const t=e.getTechnicalDetails();if(t&&(t.originalMessage!==undefined&&t.originalMessage!==null||t.httpStatus!==undefined&&t.httpStatus!==null)||e.getCode()){return true}return false}function L(e,t){let n=this.getMessages();if(e){n=n.concat(this.getMessages(true,true))}return n}function U(e,t){let n=[...e];let s=e.length===1&&e[0].getCode()==="503"?"Box":"Dialog";let o;let r;if(t){const a={showMessageDialog:s==="Dialog",showMessageBox:s==="Box"};const{showMessageBox:i,showMessageDialog:l,showChangeSetErrorDialog:g,filteredMessages:c,fnGetMessageSubtitle:u,containsBoundTransistion:f}=t(e,a);if(i===true){s="Box"}else if(l===true){s="Dialog"}else{s="None"}r=f;o=u;if(g||f===false){n=c??[]}}return{uiElementToUse:s,messagesToShow:n,fnGetMessageSubtitle:o,containsBoundTransition:r}}function H(e,t){let n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;let s=arguments.length>3?arguments[3]:undefined;let o=arguments.length>4?arguments[4]:undefined;let r=arguments.length>5?arguments[5]:undefined;let a=arguments.length>6?arguments[6]:undefined;let i=arguments.length>7?arguments[7]:undefined;let l=arguments.length>8&&arguments[8]!==undefined?arguments[8]:false;let g=arguments.length>9?arguments[9]:undefined;let c=arguments.length>10?arguments[10]:undefined;let u=arguments.length>11?arguments[11]:undefined;if(e&&e.length){Y(e)}const f=L.call(this,n,t);const d=U.call(this,f,a);let{messagesToShow:p,uiElementToUse:m="Dialog"}=d;n=d.containsBoundTransition??n;const E=k(n,l);p=z(E,p??[]);p=u?.filterContextBoundMessages(p,t)||p;({messagesToShow:p,uiElementToUse:m}=W({messagesToShow:p,uiElementToUse:m}));const h=this.modifyETagMessagesOnly(T.getResourceBundleFor("sap.fe.core"),s);if(p.length>0&&m!=="None"){if(p.length>1&&c&&V(p)){const e=v(c,g);p=e?[e]:[p[0]]}if(p.length===1){const e=p[0];if(e.getType()===_.Success){m="Toast"}else if(h||e.getDescription()?.length||e.getDescriptionUrl()?.length){m="Dialog"}else{m="Box"}}if(m==="Dialog"){$e.updateMessageObjectGroupName(p,o,r,i)}const e=d.fnGetMessageSubtitle;if(e){p.forEach(function(t){e(t)})}}return{messagesToShow:p,uiElementToUse:m,contextNeedsEtagRefresh:h?t:undefined,containsBoundTransition:n}}function v(e,t){const n=t?.aSelectedContexts;if(n&&Array.isArray(n)&&n?.length>1&&e){let s=t?.boundActionName;const o=t?.entitySet;s=s?.includes(".")?s?.split(".")[s?.split(".").length-1]:s;const r=s&&o?`${o}|${s}`:"";return new E({message:e.getText("C_COMMON_SUCCESS_MESSAGE",[n?.length],r),type:_.Success,target:"",persistent:true,code:"C_COMMON_SUCCESS_MESSAGE"})}}function V(e){let t;const n=e.some((e,n)=>{if(e.getType()!==_.Success){return true}if(n===0){t=e;return false}else if(t.getCode()===e.getCode()&&t.getMessage()===e.getMessage()&&t.getDescription()===e.getDescription()&&t.getDescriptionUrl()===e.getDescriptionUrl()&&t.getAdditionalText()===e.getAdditionalText()){return false}return true});return!n}async function j(e){const{messagesToShow:t,uiElementToUse:n}=e;if(t.length===0){return Promise.resolve(undefined)}else if(n==="Toast"){return $e.showMessageToast(t[0])}else if(n==="Dialog"){await $e.showMessageDialogControl(e);return Promise.resolve(undefined)}else if(n==="Box"){return $e.showMessageBoxControl(e)}else{return Promise.resolve(undefined)}}function k(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;const n=t?[]:[new h({path:"persistent",operator:S.NE,value1:false})];const s=new h({path:"",test:$});if(t||e){const o=function(e){return $e.isMessageOutOfParameterDialog(e)};n.push(new h({path:"controlIds",test:o,caseSensitive:true}));if(e&&!t){n.push(new h({path:"persistent",operator:S.EQ,value1:true}));n.push(s)}}else{n.push(new h({filters:[new h({path:"",test:e=>e.getTargets().length===0||e.getTargets()[0]===""}),s],and:true}))}return n}function W(e){let{messagesToShow:t,uiElementToUse:n}=e;let s=[...t];if(t.length===2){const e=[];const n=[];t.forEach(t=>{if(t.getCode()==="FE_CUSTOM_MESSAGE_CHANGESET_ALL_FAILED"){e.push(t)}else{n.push(t)}});if(e.length===1){const{fe:t}=e[0].getTechnicalDetails()||{};if(t?.changeSetPreTextForSingleError){const o=t?.changeSetPreTextForSingleError;if(o){const t={fe:{singleErrorPreText:o,singleGenericMessageId:e[0].getId()}};const r=n[0].getTechnicalDetails()??{};n[0].setTechnicalDetails({...r,...t});s=n}}}}return{messagesToShow:s,uiElementToUse:s.length===1&&n!=="None"?"Box":n}}function Y(e){e.forEach(function(e){const t=e.code?e.code:"";p.addMessages(new E({message:e.text,type:e.type,target:"",persistent:true,code:t}))})}function K(){return new A("",undefined,undefined,(e,t)=>{const n=ie(e);const s=ie(t);if(n<s){return-1}if(n>s){return 1}return 0})}function z(e,t){let n=[...t];const s=p.getMessageModel().bindList("/",undefined,undefined,e),o=s.getCurrentContexts();if(o.length>0){const e=o.map(e=>e.getObject());const t={};n=e.concat(n).filter(function(e){return!t[e.getId()]&&(t[e.getId()]=true)})}return n}async function X(e){return new Promise(t=>{i.show(e.getMessage());this.removeUnboundTransitionMessages();t(undefined)})}async function J(e){let o=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;let r;let a;return new Promise(function(i){N.push(i);const l=T.getResourceBundleFor("sap.fe.core");const c=false;const{messagesToShow:u,contextNeedsEtagRefresh:f}=e;const d=new M(u);const m=B(d,c);const E=K();m.messageView.getBinding("items").sort(E);if(!b||!b.isOpen()){b=new s({resizable:true,endButton:new n({press:function(){D();p.removeMessages(u)},text:l.getText("C_COMMON_SAPFE_CLOSE")}),escapeHandler:function(e){D();p.removeMessages(u);e.resolve()},customHeader:new t({contentMiddle:[new g({text:l.getText("C_MESSAGE_HANDLING_SAPFE_ERROR_MESSAGES_PAGE_TITLE")})],contentLeft:[P]}),contentWidth:"37.5em",contentHeight:"21.5em",verticalScrolling:false,closeOnNavigation:false,afterClose:function(){for(const e of N){e()}N=[]}})}b.removeAllContent();b.addContent(R);if(f){b.setBeginButton(new n({press:function(){D();if(f.hasPendingChanges()){f.getBinding().resetChanges()}f.refresh()},text:l.getText("C_COMMON_SAPFE_REFRESH"),type:I.Emphasized}))}else{b.destroyBeginButton()}r=y(R.getItems());a=me(r);b.setState(r);b.getCustomHeader().getContentMiddle()[0].setText(a);R.navigateBack();b.open();if(o){i(b)}})}async function Q(e){return new Promise(function(t){const{messagesToShow:n}=e;const s=n[0];const r=s.getTechnicalDetails();const{singleGenericMessageId:a,singleErrorPreText:i}=r?.fe??{};const l=$e.getRetryAfterMessage(s,true);const g=l?r:true;if(g){const e="<html><body><span style='white-space:pre-wrap'>",n="</span></body></html>";let r=e;if(l){r=`${r}<h6>${l}</h6><br></br>`}else{if(i){const e=s?.["headerName"]?`${s?.["headerName"]}:`:"";r=`${r}${i}<br/><br/>${e} `}}const g=s.getMessage().replaceAll("<","&lt;").replaceAll(">","&gt;");if(s.getCode()!=="503"&&s.getAdditionalText()!==undefined){r=`${r+s.getAdditionalText()}: ${g}${n}`}else{r=`${r+g}${n}`}const c=new o({htmlText:u.escapeSettingsValue(r)});Z(c,{onClose:q.bind(null,s,t,a)},s)}})}function q(e,t,n){const s=[e];if(n){const e=p.getMessageModel().getData();const t=e.find(e=>e.getId()===n);if(t){s.push(t)}}p.removeMessages(s);t(undefined)}function Z(e,t,n){switch(n.getType()){case _.Error:r.error(e,t);break;case _.Warning:r.warning(e,t);break;case _.Success:r.success(e,t);break;case _.Information:r.information(e,t);break;default:r.show(e,t)}}function ee(e,t,n,s){e.forEach(e=>{e["headerName"]="";if(!e.target?.length&&e.getCode?.()!=="FE_CUSTOM_MESSAGE_CHANGESET_ALL_FAILED"){const t=T.getResourceBundleFor("sap.fe.core").getText("T_MESSAGE_BUTTON_SAPFE_MESSAGE_GROUP_GENERAL");e["headerName"]=t}else if(e.target?.length){if(s==="ListReport"&&t?.isA("sap.ui.mdc.Table")){$e.setGroupNameLRTable(t,e,n)}else if(s==="ObjectPage"){$e.setGroupNameOPDisplayMode(e,n,t)}else{e["headerName"]=$e.getLastActionTextAndActionName(n)}}})}function te(e,t,n){const s=e&&e.getRowBinding();if(s){const o=`${e.getRowBinding().getPath()}`;if(t.target?.indexOf(o)===0){const o=s.getCurrentContexts();o.forEach(s=>{if(t.target?.includes(s.getPath())){const o=`${s.getPath()}/`;const r=e.getParent().getIdentifierColumn();const a=r&&s.getObject()[r];const i=$e.getTableColProperty(e,t,o);const{sTableTargetColName:l}=$e.getTableColInfo(e,i);if(i&&l){t["headerName"]=a?` ${a}`:e.getHeader()}else{t["headerName"]=$e.getLastActionTextAndActionName(n)}}})}}}function ne(e,t,n){const s=e.getParent().getIdentifierColumn();if(s){const o=e.getRowBinding().getContexts();o.forEach(e=>{if(t.getTargets()?.[0]?.includes(e.getPath())){const o=s?e.getObject()[s]:"";const r=n.sTableTargetColName?`, ${n.sTableTargetColName}`:"";t.setAdditionalText(`${o}${r}`)}})}else if(n.sTableTargetColName){t.setAdditionalText(`${n.sTableTargetColName}`)}}function se(e,t,n,s){let o=t.getHeaderVisible()&&s.tableHeader;if(!o){o=e.getTitle()}else{const e=T.getResourceBundleFor("sap.fe.core");o=`${e.getText("T_MESSAGE_GROUP_TITLE_TABLE_DENOMINATOR")}: ${o}`}n["headerName"]=o}function oe(e,t,n,s,o,r){const a=t.getRowBinding(),i=true;let l;t.findElements(true).forEach(e=>{if(e.isA("sap.m.Table")||e.isA("sap.ui.table.Table")){l=e}});if(a){const g=`${s?.getPath()}/${t.getRowBinding()?.getPath()}`;if(n.target?.indexOf(g)===0){const s=$e.getTableColumnDataAndSetSubtile(n,t,l,a,r,i,le);const{oTargetTableInfo:g}=s;$e.updateAddtionalTextForMessageInOPTable(t,n,g);$e.updateHeaderNameForMessageInOPTable(e,t,n,g);o=false}}return o}function re(e,t,n){const s=n?.getBindingContext();const o=n?.getContent&&n?.getContent()[0];let r=true;if(o){$e.getVisibleSectionsFromObjectPageLayout(o).forEach(function(n){const o=n.getSubSections();o.forEach(function(n){n.findElements(true).forEach(function(o){if(o.isA("sap.ui.mdc.Table")){r=oe(n,o,e,s,r,t)}})})})}if(r){const n=`${s?.getPath()}`;if(e.target?.indexOf(n)===0){e["headerName"]=$e.getLastActionTextAndActionName(t)}else{e["headerName"]=T.getResourceBundleFor("sap.fe.core").getText("T_MESSAGE_BUTTON_SAPFE_MESSAGE_GROUP_GENERAL")}}}function ae(e){const t=T.getResourceBundleFor("sap.fe.core").getText("T_MESSAGE_BUTTON_SAPFE_MESSAGE_GROUP_LAST_ACTION");return e?`${t}: ${e}`:""}function ie(e){if(e.getCode()==="FE_CUSTOM_MESSAGE_CHANGESET_ALL_FAILED"){return 1}else if(e.headerName?.toString().includes("Last Action")){return 2}else if(e.headerName?.toString().includes("General")){return 4}else{return 3}}const le=(e,t,n)=>{if(n){e["headerName"]=T.getResourceBundleFor("sap.fe.core").getText("T_MESSAGE_BUTTON_SAPFE_MESSAGE_GROUP_GENERAL")}else{e["headerName"]=$e.getLastActionTextAndActionName(t)}};function ge(e,t,n,s,o,r,a){const i=$e.getTableAndTargetInfo(t,e,n,s);i.tableHeader=t.getHeader();let l,g;if(!i.oTableRowContext){l=e.getControlIds().find(function(e){return $e.isControlInTable(t,e)})}if(l){const e=f.getElementById(l);g=$e.isControlPartOfCreationRow(e)}if(!i.sTableTargetColName){if(e.getPersistent()&&o){a(e,o);r=false}}const c=$e.getMessageSubtitle(e,i.oTableRowBindingContexts,i.oTableRowContext,i.sTableTargetColName,t,g);return{oTargetTableInfo:i,subTitle:c}}function ce(e,t,n,s,o,r,a){let i;let l;const g=C(o);const c=o.getParent()?.getTableColumnVisibilityInfo(n);const u=$e.fetchColumnInfo(e,o);if(r||n?.isInactive()){i=g.getText("T_MESSAGE_ITEM_SUBTITLE",[g.getText("T_MESSAGE_ITEM_SUBTITLE_CREATION_ROW_INDICATOR"),s?s:u.label])}else{const e=$e.getTableColBindingContextForTextAnnotation(o,n,c);const r=e?e.getObject("$Path"):undefined;const f=r&&e?e.getObject("@com.sap.vocabularies.UI.v1.TextArrangement/$EnumMember"):undefined;if(t.length>0){if(a){l=a.getValue()}else if(n&&c&&c.length===1){l=o.getParent()?.getTableColValue(n,r,f,c)}else if(n&&c&&c.length>1){l=g.getText("T_MESSAGE_ITEM_SUBTITLE_DETAILED_ROW_INFO")}else{l=undefined}const e=$e.determineColumnInfo(u,g);if(l&&s){i=g.getText("T_MESSAGE_ITEM_SUBTITLE",[l,s])}else if(l&&e.sColumnIndicator==="Hidden"){i=`${g.getText("T_MESSAGE_GROUP_DESCRIPTION_TABLE_ROW_WITH_IDENTIFIER",[l])}, ${e.sColumnValue}`}else if(l&&e.sColumnIndicator==="Unknown"){i=g.getText("T_MESSAGE_GROUP_DESCRIPTION_TABLE_ROW_WITH_IDENTIFIER",[l])}else if(l&&e.sColumnIndicator==="undefined"){i=g.getText("T_MESSAGE_GROUP_DESCRIPTION_TABLE_ROW_WITH_IDENTIFIER",[l])}else if(!l&&s){i=g.getText("T_MESSAGE_GROUP_DESCRIPTION_TABLE_COLUMN")+": "+s}else if(!l&&e.sColumnIndicator==="Hidden"){i=e.sColumnValue}else{i=null}}else{i=null}}return i}function ue(e,t,n){let s;if(t&&n&&n.length===1){const{key:o}=n[0];const r=e?.getModel();const a=r?.getMetaModel();const i=a?.getMetaPath(t.getPath());if(a?.getObject(`${i}/${o}@com.sap.vocabularies.Common.v1.Text/$Path`)){s=a.createBindingContext(`${i}/${o}@com.sap.vocabularies.Common.v1.Text`)}}return s}function fe(e,t){const n=e?.getTargets()[0].split("/").pop();return t.getParent()?.getKeyColumnInfo(n)}function de(e,t){const n={sColumnIndicator:"",sColumnValue:""};if(e){if(e.availability==="Hidden"){n.sColumnValue=undefined;n.sColumnIndicator="undefined"}else{n.sColumnValue=`${t.getText("T_MESSAGE_GROUP_DESCRIPTION_TABLE_COLUMN")} (${t.getText("T_COLUMN_INDICATOR_IN_TABLE_DEFINITION")}): ${e.label}`;n.sColumnIndicator="Hidden"}}else{n.sColumnIndicator="Unknown"}return n}function Te(e,t){const n=f.getElementById(t);if(n&&!n.isA("sap.ui.table.Table")&&!n.isA("sap.m.Table")){return e.findElements(true,function(e){return e.getId()===n.getId()})}return false}function pe(e){let t=e?.getParent();while(t&&!t?.isA("sap.ui.table.Row")&&!t?.isA("sap.ui.table.CreationRow")&&!t?.isA("sap.m.ColumnListItem")){t=t.getParent()}return!!t&&t.isA("sap.ui.table.CreationRow")}function me(e){const t=T.getResourceBundleFor("sap.fe.core");switch(e){case"Error":return t.getText("C_COMMON_SAPFE_ERROR_MESSAGES_PAGE_TITLE_ERROR");case"Information":return t.getText("C_MESSAGE_HANDLING_SAPFE_ERROR_MESSAGES_PAGE_TITLE_INFO");case"Success":return t.getText("C_MESSAGE_HANDLING_SAPFE_ERROR_MESSAGES_PAGE_TITLE_SUCCESS");case"Warning":return t.getText("C_MESSAGE_HANDLING_SAPFE_ERROR_MESSAGES_PAGE_TITLE_WARNING");default:return t.getText("C_MESSAGE_HANDLING_SAPFE_ERROR_MESSAGES_PAGE_TITLE")}}function Ee(){Ae(false)}function _e(e){Ae(true,e)}function he(e,t){if(t===undefined){return e.getObject("/")}const n=e.bindList("/");n.filter(new h({path:"",test:e=>e.getTargets().some(e=>e.startsWith(t))}));return n.getCurrentContexts().map(function(e){return e.getObject()})}function Se(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;let n=arguments.length>2?arguments[2]:undefined;let s;const o=p.getMessageModel(),r=T.getResourceBundleFor("sap.fe.core"),a=[];let i=[];if(e&&t&&n){i=he(o,n)}else{i=o.getObject("/")}for(s=0;s<i.length;s++){if((!t||i[s].getPersistent())&&(e&&i[s].getTargets()[0]!==""||!e&&(!i[s].getTargets()[0]||i[s].getTargets()[0]===""))){a.push(i[s])}}for(s=0;s<a.length;s++){if(a[s].getCode()==="503"&&a[s].getMessage()!==""&&!a[s].getMessage().includes(r.getText("C_MESSAGE_HANDLING_SAPFE_503_BACKEND_PREFIX"))){a[s].setMessage(`\n${r.getText("C_MESSAGE_HANDLING_SAPFE_503_BACKEND_PREFIX")}${a[s].getMessage()}`)}}const l=a.filter($);return l}function Ae(e,t){const n=Se(e,true,t);if(n.length>0){p.removeMessages(n)}}function Me(e,t,n){if(n.additionalText===undefined){const s=e.getParent().getIdentifierColumn();const o=t.find(function(e){return n.getTargets()[0].includes(e.getPath())});n.additionalText=o?o.getObject()[s]:undefined}}function Ce(e){return e.getSections().filter(function(e){return e.getVisible()})}function Ie(e,t){return e.findElements(true,e=>Re(t.getControlIds(),e)).sort(function(e,t){if(e.isA("sap.ui.mdc.Table")&&!t.isA("sap.ui.mdc.Table")){return-1}return 1})}function Ne(e,t,n){const s=function(e){return e.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&")};if(!n){const t=`${e.getBindingContext()?.getPath()}/${e.getRowBinding().getPath()}`;n=new RegExp(`${s(t)}\\(.*\\)/`)}return t.getTargets()[0].replace(n,"")}function be(e,t){let n;const s=e.getColumns().find(function(e){return e.getPropertyKey()==t});if(!s){const s=e.getControlDelegate().getColumnsFor(e).find(function(e){if(!!e.template&&e.propertyInfos){return e.propertyInfos[0]===t||e.propertyInfos[0].replace("Property::","")===t}else{return false}});if(s){t=s?.name;n=e.getColumns().find(function(e){return t===e.getPropertyKey()})?.getHeader()}else{const s=e.getControlDelegate().getColumnsFor(e);const o=s.find(function(e){if(e.key.includes("::FieldGroup::")){return e.propertyInfos?.find(function(e){return e===t||e.replace("Property::","")===t})}});let r=false;if(o&&o.label){r=e.getColumns().some(function(e){return e.getHeader()===o.label})}n=r?o?.label:undefined;t=r?o?.key:undefined}}else{n=s.getHeader()}return{sTableTargetColName:n,sTableTargetColProperty:t}}function Pe(e,t,n,s){const o=Ne(e,t);const r=be(e,o);const a=n?.isA("sap.ui.table.Table")?s.getContexts():s.getCurrentContexts();const i={oTableRowBindingContexts:a,sTableTargetColName:r.sTableTargetColName,sTableTargetColProperty:r.sTableTargetColProperty,oTableRowContext:a.find(function(e){return e&&t.getTargets()[0].indexOf(e.getPath())===0})};return i}function Re(e,t){return e.some(function(e){if(e===t.getId()){return true}return false})}function xe(e,t,n,s,o){let r=arguments.length>5&&arguments[5]!==undefined?arguments[5]:true;return e.getTitle()+(t.getTitle()&&n?`, ${t.getTitle()}`:"")+(s&&s.tableHeader&&r?`, ${o.getText("T_MESSAGE_GROUP_TITLE_TABLE_DENOMINATOR")}: ${s.tableHeader}`:"")}function Oe(e,t){return!t.some(function(t){let n=e.getParent();while(n&&n!==t){n=n.getParent()}return n?true:false})}function ye(e){const t=p.getMessageModel();const n=t.bindList("/");n.filter(new h({path:"",test:t=>t.getTargets().length>0&&t.getTargets()[0].startsWith(e.getPath())}));const s=n.getCurrentContexts();return s.map(e=>e.getObject())}function Ge(e){let t,n;const o=Infinity;if(e.length===1){t=f.getElementById(e[0]);n=f.getElementById(e[0])}else{let n;e.forEach(e=>{const s=f.getElementById(e);if(s?.isA("sap.ui.mdc.Field")){n=e;t=f.getElementById(n)}})}while(t){const e=Infinity;if(t instanceof s){if(o>e){n?.focus()}return false}t=t.getParent()}return true}function De(e){const t=p.getMessageModel().getData();const n=[];t?.forEach(t=>{const s=t.getTargets().length===1;const o=t.getTargets()[0]===e?.getPath();const r=t.getPersistent()===true;if(s&&o&&r){n.push(t)}});if(n.length===1){p.removeMessages(n)}}function we(e,t){const n=[];if(t?.length===1){e?.forEach(e=>{if(e.getTargets().length===1&&e.getTargets()[0]===t?.[0]?.getPath()&&e.getPersistent()===true){n.push(e)}})}if(n.length>0){p.removeMessages(n)}}function Fe(e){const t=e?.filter(e=>e.getPersistent()===true&&e.getTargets()[0]!=="");e=e?.filter(e=>!t?.includes(e));return e}function Be(e){p.getMessageModel().getData()?.forEach(t=>{const n=t.getTargets();if(n.length===1&&n[0].includes(e.getPath())&&t.getPersistent()){p.removeMessages(t)}})}const $e={getMessages:Se,getUIDecisions:H,removeUnboundTransitionMessages:Ee,removeBoundTransitionMessages:_e,modifyETagMessagesOnly:G,getRetryAfterMessage:w,prepareMessageViewForDialog:B,setMessageSubtitle:Me,getVisibleSectionsFromObjectPageLayout:Ce,getControlFromMessageRelatingToSubSection:Ie,fnFilterUponIds:Re,getTableAndTargetInfo:Pe,createSectionGroupName:xe,bIsOrphanElement:Oe,getLastActionTextAndActionName:ae,getTableColumnDataAndSetSubtile:ge,getTableColInfo:be,getTableColProperty:Ne,getMessageSubtitle:ce,determineColumnInfo:de,fetchColumnInfo:fe,getTableColBindingContextForTextAnnotation:ue,getMessageRank:ie,hasTransitionErrorsOrWarnings:F,fnCallbackSetGroupName:le,setGroupNameOPDisplayMode:re,updateMessageObjectGroupName:ee,setGroupNameLRTable:te,isControlInTable:Te,isControlPartOfCreationRow:pe,getFiltersForMessages:k,showMessagesInUI:j,showMessageDialogControl:J,showMessageToast:X,showMessageBoxControl:Q,getMessagesForContext:ye,isMessageOutOfParameterDialog:Ge,removeContextMessagesfromModel:we,removeMessagesForActionParameterDialog:Fe,setGroupNameOPTableDisplayMode:oe,updateAddtionalTextForMessageInOPTable:ne,updateHeaderNameForMessageInOPTable:se,closeMessageBox:q,removeTransistionMessageForContext:De,checkIfAllAreSameSuccessMessages:V,addGenericSuccessMessage:v,isNonTechnicalMessage:$,removeAllTransitionMessagesForContext:Be};return $e},false);
//# sourceMappingURL=messageHandling.js.map