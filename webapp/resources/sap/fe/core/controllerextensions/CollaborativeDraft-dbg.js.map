{"version":3,"names":["CollaborativeDraft","_dec","defineUI5Class","_class","_BaseControllerExtens","apply","arguments","_exports","_inheritsLoose","_proto","prototype","getCollaborativeDraftService","collaborativeDraftService","base","getAppComponent","handleContentFocusIn","source","focusEvent","isA","getParent","targetOutsideOfControlDomRef","getDomRef","contains","relatedTarget","lastFocusId","getLastFocusId","getId","getLastFocusFieldGroups","getFieldGroupIds","join","lastFocused","Element","getElementById","sendFocusOutMessage","setLastFocusInformation","sendFocusInMessage","handleContentFocusOut","fieldGroupEvent","control","getSource","fieldGroupIds","getParameter","some","groupId","startsWith","CollaborationFieldGroupPrefix","sourceControl","currentFocusedControl","getActiveElement","undefined","lastFocusFieldGroups","focusedField","fieldpAPI","collaborationPath","getCollaborationPath","send","action","Activity","Lock","content","Unlock","field","bindingContext","getBindingContext","getMainPropertyRelativePath","fieldWrapper","FieldEditMode","Editable","EditableDisplay","EditableReadOnly","includes","getProperty","getPath","keypath","getBindingInfo","template","getBindingPath","path","message","getView","isConnected","connect","draftRootContext","disconnect","uiModel","getModel","cleanDraftRoot","setProperty","isCollaborationEnabled","retainAsyncMessages","activityPaths","releaseAsyncMessages","updateLocksForContextPath","oldContextPath","newContextPath","getCurrentDraftRootPath","internalModel","getDraftUserListPromise","isInitialShare","setInitialShare","isInitial","setDraftRoot","userListPromise","getObject","Promise","resolve","draftAdminUsers","bindList","requestContexts","then","e","map","c","catch","Log","error","requestSideEffects","requestObject","activateCollaboration","pageContext","isActiveEntity","CommonUtils","findOrCreateRootContext","$$groupId","getGroupId","$select","rootContext","currentDraftRootPath","usersInvited","me","CollaborationUtils","getMe","hasMe","singleUser","UserID","id","err","executeShareAction","sharePromise","shareObject","addSelf","sendLockChange","context","propertyName","isLocked","sendPropertyValuesChange","propertyNames","Array","isArray","Change","prop","sendContextsCreated","contexts","Create","sendContextsDeleted","Delete","BaseControllerExtension"],"sourceRoot":".","sources":["CollaborativeDraft.ts"],"sourcesContent":["import Log from \"sap/base/Log\";\nimport { defineUI5Class } from \"sap/fe/base/ClassSupport\";\nimport type Field from \"sap/fe/macros/Field\";\nimport type FieldWrapper from \"sap/fe/macros/controls/FieldWrapper\";\nimport type Tokenizer from \"sap/m/Tokenizer\";\nimport type ManagedObject from \"sap/ui/base/ManagedObject\";\nimport type Control from \"sap/ui/core/Control\";\nimport type { Control$ValidateFieldGroupEvent } from \"sap/ui/core/Control\";\nimport Element from \"sap/ui/core/Element\";\nimport type MultiValueField from \"sap/ui/mdc/MultiValueField\";\nimport type JSONModel from \"sap/ui/model/json/JSONModel\";\nimport type Context from \"sap/ui/model/odata/v4/Context\";\nimport type { FEView } from \"../BaseController\";\nimport CommonUtils from \"../CommonUtils\";\nimport type PageController from \"../PageController\";\nimport type { CollaborativeDraftService } from \"../services/collaborativeDraftServiceFactory\";\nimport { FieldEditMode } from \"../templating/UIFormatters\";\nimport BaseControllerExtension from \"./BaseControllerExtension\";\nimport { Activity, CollaborationFieldGroupPrefix, CollaborationUtils, addSelf, shareObject } from \"./collaboration/CollaborationCommon\";\n\ntype DraftAdminUser = {\n\tDraftEntityType: string;\n\tDraftUUID: string;\n\tUserID: string;\n};\n\n/**\n * A controller extension to handle collaborative draft scenarios.\n * @ui5-experimental-since 1.141.0\n * @since 1.141.0\n * @public\n */\n@defineUI5Class(\"sap.fe.core.controllerextensions.CollaborativeDraft\")\nexport default class CollaborativeDraft extends BaseControllerExtension {\n\tprivate base!: PageController;\n\n\tprivate lastFocusId: string | undefined;\n\n\tprivate lastFocusFieldGroups: string | undefined;\n\n\tprivate collaborativeDraftService!: CollaborativeDraftService;\n\n\tprivate getCollaborativeDraftService(): CollaborativeDraftService {\n\t\tthis.collaborativeDraftService = this.collaborativeDraftService ?? this.base.getAppComponent().getCollaborativeDraftService();\n\t\treturn this.collaborativeDraftService;\n\t}\n\n\t/**\n\t * Callback when the focus is set in the Field or one of its children.\n\t * @param source\n\t * @param focusEvent\n\t */\n\tpublic handleContentFocusIn(source: Field | MultiValueField, focusEvent?: FocusEvent): void {\n\t\t// We send the event only if the focus was previously out of the Field\n\t\tif (source.isA<Tokenizer>(\"sap.m.Tokenizer\")) {\n\t\t\tsource = source.getParent()?.getParent() as MultiValueField;\n\t\t}\n\t\tlet targetOutsideOfControlDomRef = false;\n\t\tif (focusEvent) {\n\t\t\ttargetOutsideOfControlDomRef = !source.getDomRef()?.contains(focusEvent.relatedTarget as Node);\n\t\t}\n\t\tif (source.isA<MultiValueField>(\"sap.ui.mdc.MultiValueField\") || targetOutsideOfControlDomRef) {\n\t\t\t// We need to handle the case where the newly focused Field is different from the previous one, but they share the same fieldGroupIDs\n\t\t\t// (e.g. fields in different rows in the same column of a table)\n\t\t\t// In such case, the focusOut handler was not called (because we stay in the same fieldGroupID), so we need to send a focusOut event manually\n\t\t\tconst lastFocusId = this.getLastFocusId();\n\t\t\tif (lastFocusId && lastFocusId !== source.getId() && this.getLastFocusFieldGroups() === source.getFieldGroupIds().join(\",\")) {\n\t\t\t\tconst lastFocused = Element.getElementById(lastFocusId) as Field;\n\t\t\t\tthis?.sendFocusOutMessage(lastFocused);\n\t\t\t}\n\n\t\t\tthis.setLastFocusInformation(source);\n\n\t\t\tthis.sendFocusInMessage(source);\n\t\t}\n\t}\n\n\t/**\n\t * Callback when the focus is removed from the Field or one of its children.\n\t * @param fieldGroupEvent\n\t */\n\tpublic handleContentFocusOut(fieldGroupEvent: Control$ValidateFieldGroupEvent): void {\n\t\tlet control: ManagedObject | null = fieldGroupEvent.getSource();\n\t\tif (control.isA<Tokenizer>(\"sap.m.Tokenizer\")) {\n\t\t\tcontrol = control.getParent()?.getParent() as MultiValueField;\n\t\t}\n\t\tif (!control.isA<MultiValueField>(\"sap.ui.mdc.MultiValueField\")) {\n\t\t\twhile (control && !control?.isA<Field>(\"sap.fe.macros.Field\")) {\n\t\t\t\tcontrol = control?.getParent();\n\t\t\t}\n\t\t\tif (!control) return;\n\t\t}\n\n\t\tconst fieldGroupIds = fieldGroupEvent.getParameter(\"fieldGroupIds\") as string[];\n\n\t\t// We send the event only if the validated fieldCroup corresponds to a collaboration group\n\t\tif (\n\t\t\tfieldGroupIds.some((groupId) => {\n\t\t\t\treturn groupId.startsWith(CollaborationFieldGroupPrefix);\n\t\t\t})\n\t\t) {\n\t\t\tconst sourceControl: Control = fieldGroupEvent.getSource();\n\n\t\t\t// Determine if the control that sent the event still has the focus (or one of its children).\n\t\t\t// This could happen e.g. if the user pressed <Enter> to validate the input.\n\t\t\tlet currentFocusedControl: ManagedObject | null | undefined = Element.getActiveElement();\n\t\t\twhile (currentFocusedControl && currentFocusedControl !== sourceControl) {\n\t\t\t\tcurrentFocusedControl = currentFocusedControl.getParent();\n\t\t\t}\n\t\t\tif (currentFocusedControl !== sourceControl) {\n\t\t\t\t// The control that sent the event isn't focused anymore\n\t\t\t\tthis.sendFocusOutMessage(control);\n\t\t\t\tif (this.getLastFocusId() === control.getId()) {\n\t\t\t\t\tthis.setLastFocusInformation(undefined);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Gets the id of the last focused Field (if any).\n\t * @returns ID\n\t */\n\tprivate getLastFocusId(): string | undefined {\n\t\treturn this.lastFocusId;\n\t}\n\n\t/**\n\t * Gets the fieldgroups of the last focused Field (if any).\n\t * @returns A string containing the fieldgroups separated by ','\n\t */\n\tprivate getLastFocusFieldGroups(): string | undefined {\n\t\treturn this.lastFocusFieldGroups;\n\t}\n\n\t/**\n\t * Stores information about the last focused Field (id and fieldgroups).\n\t * @param focusedField\n\t */\n\tprivate setLastFocusInformation(focusedField: Field | MultiValueField | undefined): void {\n\t\tthis.lastFocusId = focusedField?.getId();\n\t\tthis.lastFocusFieldGroups = focusedField?.getFieldGroupIds().join(\",\");\n\t}\n\n\t/**\n\t * If collaboration is enabled, send a Lock collaboration message.\n\t * @param fieldpAPI\n\t */\n\tprivate sendFocusInMessage(fieldpAPI: Field | MultiValueField): void {\n\t\tconst collaborationPath = this.getCollaborationPath(fieldpAPI);\n\n\t\tif (collaborationPath) {\n\t\t\tthis.send({ action: Activity.Lock, content: collaborationPath });\n\t\t}\n\t}\n\n\t/**\n\t * If collaboration is enabled, send an Unlock collaboration message.\n\t * @param fieldpAPI\n\t */\n\tprivate sendFocusOutMessage(fieldpAPI: Field | MultiValueField | undefined): void {\n\t\tif (!fieldpAPI) {\n\t\t\treturn;\n\t\t}\n\t\tconst collaborationPath = this.getCollaborationPath(fieldpAPI);\n\t\tif (collaborationPath) {\n\t\t\tthis.send({ action: Activity.Unlock, content: collaborationPath });\n\t\t}\n\t}\n\n\t/**\n\t * Gets the path used to send collaboration messages.\n\t * @param field\n\t * @returns The path (or undefined is no valid path could be found)\n\t */\n\tprivate getCollaborationPath(field: Field | MultiValueField): string | undefined {\n\t\t// Note: we send messages even if the context is inactive (empty creation rows),\n\t\t// otherwise we can't update the corresponding locks when the context is activated.\n\t\tconst bindingContext = field?.getBindingContext() as Context | undefined;\n\t\tif (!bindingContext) {\n\t\t\treturn;\n\t\t}\n\t\tif (field.isA<Field>(\"sap.fe.macros.Field\")) {\n\t\t\tif (!field.getMainPropertyRelativePath()) {\n\t\t\t\treturn undefined;\n\t\t\t}\n\n\t\t\tconst fieldWrapper = field.content as FieldWrapper | undefined;\n\t\t\tif (\n\t\t\t\t![FieldEditMode.Editable, FieldEditMode.EditableDisplay, FieldEditMode.EditableReadOnly].includes(\n\t\t\t\t\tfieldWrapper?.getProperty(\"editMode\")\n\t\t\t\t)\n\t\t\t) {\n\t\t\t\t// The field is not in edit mode --> no collaboration messages\n\t\t\t\treturn undefined;\n\t\t\t}\n\n\t\t\treturn `${bindingContext.getPath()}/${field.getMainPropertyRelativePath()}`;\n\t\t} else if (field.isA<MultiValueField>(\"sap.ui.mdc.MultiValueField\")) {\n\t\t\tconst keypath = field.getBindingInfo(\"items\").template.getBindingPath(\"key\");\n\t\t\treturn `${bindingContext.getPath()}/${field.getBindingInfo(\"items\").path}/${keypath}`;\n\t\t}\n\t}\n\n\tpublic send(message: {\n\t\taction: Activity;\n\t\tcontent: string | string[] | undefined;\n\t\ttriggeredActionName?: string;\n\t\trefreshListBinding?: boolean;\n\t\tactionRequestedProperties?: string[];\n\t}): void {\n\t\tthis.getCollaborativeDraftService().send(this.getView(), message);\n\t}\n\n\tpublic isConnected(): boolean {\n\t\treturn this.getCollaborativeDraftService().isConnected(this.getView());\n\t}\n\n\tpublic async connect(draftRootContext: Context): Promise<void> {\n\t\treturn this.getCollaborativeDraftService().connect(draftRootContext, this.getView() as FEView);\n\t}\n\n\tpublic disconnect(): void {\n\t\tconst uiModel = this.getView().getModel(\"ui\") as JSONModel;\n\t\tthis.cleanDraftRoot();\n\t\tuiModel.setProperty(\"/hasCollaborationAuthorization\", undefined);\n\n\t\tif (this.isConnected()) {\n\t\t\tthis.getCollaborativeDraftService().disconnect(this.getView() as FEView);\n\t\t}\n\t}\n\n\tpublic isCollaborationEnabled(): boolean {\n\t\treturn this.getCollaborativeDraftService().isCollaborationEnabled(this.getView());\n\t}\n\n\tpublic retainAsyncMessages(activityPaths: string | string[]): void {\n\t\treturn this.getCollaborativeDraftService().retainAsyncMessages(this.getView(), activityPaths);\n\t}\n\n\tpublic releaseAsyncMessages(activityPaths: string | string[]): void {\n\t\treturn this.getCollaborativeDraftService().releaseAsyncMessages(this.getView(), activityPaths);\n\t}\n\n\tpublic updateLocksForContextPath(oldContextPath: string, newContextPath: string): void {\n\t\treturn this.getCollaborativeDraftService().updateLocksForContextPath(this.getView(), oldContextPath, newContextPath);\n\t}\n\n\tprivate getCurrentDraftRootPath(): string | undefined {\n\t\tconst internalModel = this.getView().getModel(\"internal\");\n\t\treturn internalModel?.getProperty(\"/collaborativeDraftRootPath\");\n\t}\n\n\tprivate getDraftUserListPromise(): Promise<DraftAdminUser[]> | undefined {\n\t\tconst internalModel = this.getView().getModel(\"internal\");\n\t\treturn internalModel?.getProperty(\"/collaborativeDraftUserListPromise\");\n\t}\n\n\tprivate isInitialShare(): boolean {\n\t\tconst internalModel = this.getView().getModel(\"internal\");\n\t\treturn internalModel?.getProperty(\"/collaborativeDraftShareInitial\") === true;\n\t}\n\n\tsetInitialShare(isInitial: boolean): void {\n\t\tconst internalModel = this.getView().getModel(\"internal\") as JSONModel;\n\t\tinternalModel?.setProperty(\"/collaborativeDraftShareInitial\", isInitial);\n\t}\n\n\t/**\n\t * Sets the draft root context for the collaboration.\n\t * Its path is stored in the internal model, so that it can be used later to check if the collaboration is active.\n\t * It also retrieves the list of users invited in the draft and stores it in the internal model.\n\t * @param draftRootContext The context for the draft root\n\t * @param groupId The groupId to request the list of users invited in the draft\n\t */\n\tprivate setDraftRoot(draftRootContext: Context, groupId: string): void {\n\t\tconst internalModel = this.getView().getModel(\"internal\") as JSONModel;\n\t\tlet userListPromise: Promise<DraftAdminUser[]>;\n\t\tif (draftRootContext.getObject(\"DraftAdministrativeData/DraftAdministrativeUser\") === undefined) {\n\t\t\tuserListPromise = new Promise((resolve) => {\n\t\t\t\tconst draftAdminUsers = draftRootContext\n\t\t\t\t\t.getModel()\n\t\t\t\t\t.bindList(\"DraftAdministrativeData/DraftAdministrativeUser\", draftRootContext);\n\t\t\t\tdraftAdminUsers\n\t\t\t\t\t.requestContexts()\n\t\t\t\t\t.then((e: Context[]) => {\n\t\t\t\t\t\treturn resolve(e.map((c: Context) => c.getObject()));\n\t\t\t\t\t})\n\t\t\t\t\t.catch((e: Error) => {\n\t\t\t\t\t\tLog.error(\"Error while loading the DraftAdministrativeUser \" + e);\n\t\t\t\t\t});\n\t\t\t});\n\t\t} else {\n\t\t\tuserListPromise = draftRootContext\n\t\t\t\t.requestSideEffects([\"DraftAdministrativeData/DraftAdministrativeUser\"], groupId)\n\t\t\t\t.then(async () => draftRootContext.requestObject(\"DraftAdministrativeData/DraftAdministrativeUser\"));\n\t\t}\n\n\t\tinternalModel?.setProperty(\"/collaborativeDraftUserListPromise\", userListPromise);\n\t\tinternalModel?.setProperty(\"/collaborativeDraftRootPath\", draftRootContext.getPath());\n\t}\n\n\t/**\n\t * Cleans the draft root context and the list of users invited in the draft.\n\t * This is called when the collaboration is deactivated or when the draft root context changes.\n\t */\n\tprivate cleanDraftRoot(): void {\n\t\tconst internalModel = this.getView().getModel(\"internal\") as JSONModel;\n\t\tinternalModel?.setProperty(\"/collaborativeDraftUserListPromise\", undefined);\n\t\tinternalModel?.setProperty(\"/collaborativeDraftRootPath\", undefined);\n\t}\n\n\t/**\n\t * Activates the collaboration for the given page context.\n\t * Checks if the current user is authorized to collaborate on the draft, and sets the flag in the UI model accordingly.\n\t * @param pageContext The page context (not necessarily a draft root)\n\t * @param isActiveEntity Is the context the active one (not a draft)?\n\t * @returns True if the user is authorized to collaborate, false otherwise.\n\t */\n\tasync activateCollaboration(pageContext: Context, isActiveEntity: boolean): Promise<boolean> {\n\t\ttry {\n\t\t\tconst uiModel = this.getView().getModel(\"ui\") as JSONModel;\n\t\t\tif (isActiveEntity) {\n\t\t\t\t// We're not in a draft -> disconnect if we were connected before\n\t\t\t\tuiModel.setProperty(\"/hasCollaborationAuthorization\", undefined);\n\t\t\t\tthis.disconnect();\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tconst draftRootContext = CommonUtils.findOrCreateRootContext(\n\t\t\t\tpageContext,\n\t\t\t\t\"Draft\",\n\t\t\t\tthis.getView(),\n\t\t\t\tthis.base.getAppComponent(),\n\t\t\t\t{ $$groupId: pageContext.getGroupId(), $select: \"DraftAdministrativeData/DraftAdministrativeUser\" }\n\t\t\t).rootContext;\n\t\t\tif (!draftRootContext) {\n\t\t\t\tLog.error(\"Couldn't find draft root context for enabling collaboration\");\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tconst currentDraftRootPath = this.getCurrentDraftRootPath();\n\t\t\tif (currentDraftRootPath !== draftRootContext.getPath()) {\n\t\t\t\tLog.error(\n\t\t\t\t\t`Unexpected path for checking collaboration authorizations: ${draftRootContext.getPath()} (expecting ${currentDraftRootPath})`\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tconst usersInvited = await this.getDraftUserListPromise();\n\t\t\tif (uiModel.getProperty(\"/hasCollaborationAuthorization\") !== undefined) {\n\t\t\t\treturn uiModel.getProperty(\"/hasCollaborationAuthorization\"); // Already checked, all good\n\t\t\t}\n\t\t\tconst me = CollaborationUtils.getMe(this.base.getAppComponent());\n\t\t\tconst hasMe = usersInvited?.some((singleUser) => singleUser.UserID === me.id) ?? false;\n\t\t\tuiModel.setProperty(\"/hasCollaborationAuthorization\", hasMe);\n\t\t\tuiModel.setProperty(\"/showCollaborationStrip\", !hasMe);\n\n\t\t\tif (hasMe) {\n\t\t\t\tthis.connect(draftRootContext).catch((error) => {\n\t\t\t\t\tLog.error(\"Error when connecting to the collaboration draft \" + error);\n\t\t\t\t});\n\t\t\t} else if (this.isConnected()) {\n\t\t\t\t// Disconnect the websocket but keep the properties in the internal model (so don't call this.disconnect)\n\t\t\t\tthis.getCollaborativeDraftService().disconnect(this.getView() as FEView);\n\t\t\t}\n\t\t\treturn hasMe;\n\t\t} catch (err) {\n\t\t\tLog.error(\"Error while activating the collaborative draft \" + err);\n\t\t\treturn false;\n\t\t}\n\t}\n\n\t/**\n\t * Adds the current user in the draft root context.\n\t * @param pageContext The page context (not necessarily a draft root)\n\t */\n\tasync executeShareAction(pageContext: Context): Promise<void> {\n\t\ttry {\n\t\t\tconst draftRootContext = CommonUtils.findOrCreateRootContext(\n\t\t\t\tpageContext,\n\t\t\t\t\"Draft\",\n\t\t\t\tthis.getView(),\n\t\t\t\tthis.base.getAppComponent(),\n\t\t\t\t{ $$groupId: pageContext.getGroupId(), $select: \"DraftAdministrativeData/DraftAdministrativeUser\" }\n\t\t\t).rootContext;\n\t\t\tif (!draftRootContext) {\n\t\t\t\tLog.error(\"Couldn't find draft root context for enabling collaboration\");\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst currentDraftRootPath = this.getCurrentDraftRootPath();\n\t\t\tif (currentDraftRootPath !== undefined && currentDraftRootPath !== draftRootContext.getPath()) {\n\t\t\t\t// Collaboration was enabled on another draft --> disconnect first\n\t\t\t\tthis.disconnect();\n\t\t\t}\n\n\t\t\tif (currentDraftRootPath === draftRootContext.getPath()) {\n\t\t\t\treturn; // share was already called before, we don't need to call the Share action again\n\t\t\t}\n\n\t\t\tconst sharePromise = this.isInitialShare()\n\t\t\t\t? shareObject(draftRootContext, undefined, draftRootContext.getGroupId())\n\t\t\t\t: addSelf(draftRootContext);\n\t\t\tthis.setInitialShare(false); // Reset the initial share flag, so that we don't call the initial Share action again\n\t\t\tthis.setDraftRoot(draftRootContext, draftRootContext.getGroupId());\n\t\t\tawait sharePromise;\n\t\t} catch (err) {\n\t\t\tLog.error(\"Error while adding current user in the collaborative draft \" + err);\n\t\t}\n\t}\n\n\t/**\n\t * Sends a notification to other users that a property has been locked or unlocked by the current user.\n\t * @param context The context for the property\n\t * @param propertyName The name of the property\n\t * @param isLocked True if the property is locked, false if it is unlocked\n\t * @public\n\t * @ui5-experimental-since 1.141.0\n\t * @since 1.141.0\n\t */\n\tsendLockChange(context: Context, propertyName: string, isLocked: boolean): void {\n\t\tthis.send({ action: isLocked ? Activity.Lock : Activity.Unlock, content: `${context.getPath()}/${propertyName}` });\n\t}\n\n\t/**\n\t * Sends a notification to other users that property values have been changed by the current user.\n\t *\n\t * This notification must be sent after the changes have been sent successfully to the back-end.\n\t * @param context The context for the properties\n\t * @param propertyNames The property name or the array of property names\n\t * @public\n\t * @ui5-experimental-since 1.141.0\n\t * @since 1.141.0\n\t */\n\tsendPropertyValuesChange(context: Context, propertyNames: string | string[]): void {\n\t\tif (!Array.isArray(propertyNames)) {\n\t\t\tpropertyNames = [propertyNames];\n\t\t}\n\t\tthis.send({ action: Activity.Change, content: propertyNames.map((prop) => `${context.getPath()}/${prop}`) });\n\t}\n\n\t/**\n\t * Sends a notification to other users that new contexts have been created by the current user.\n\t *\n\t * This notification must be sent after the new contexts have been created successfully in the back-end.\n\t * @param contexts The array of newly created contexts\n\t * @public\n\t * @ui5-experimental-since 1.141.0\n\t * @since 1.141.0\n\t */\n\tsendContextsCreated(contexts: Context[]): void {\n\t\tthis.send({ action: Activity.Create, content: contexts.map((context) => context.getPath()) });\n\t}\n\n\t/**\n\t * Sends a notification to other users that contexts have been deleted by the current user.\n\t *\n\t * This notification must be sent after the contexts have been deleted successfully in the back-end.\n\t * @param contexts The array of deleted contexts\n\t * @public\n\t * @ui5-experimental-since 1.141.0\n\t * @since 1.141.0\n\t */\n\tsendContextsDeleted(contexts: Context[]): void {\n\t\tthis.send({ action: Activity.Delete, content: contexts.map((context) => context.getPath()) });\n\t}\n}\n"],"mappings":"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","ignoreList":[],"file":"CollaborativeDraft-dbg.js"}