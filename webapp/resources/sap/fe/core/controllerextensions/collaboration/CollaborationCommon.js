/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.define(["sap/ui/core/Component","sap/ui/core/Lib"],function(e,t){"use strict";var n={};let r=function(e){e[e["NotYetInvited"]=0]="NotYetInvited";e[e["NoChangesMade"]=1]="NoChangesMade";e[e["ChangesMade"]=2]="ChangesMade";e[e["CurrentlyEditing"]=3]="CurrentlyEditing";return e}({});n.UserStatus=r;let o=function(e){e["NoChanges"]="N";e["InProgress"]="P";return e}({});n.UserEditingState=o;let a=function(e){e["Join"]="JOIN";e["JoinEcho"]="JOINECHO";e["Leave"]="LEAVE";e["Change"]="CHANGE";e["Create"]="CREATE";e["Delete"]="DELETE";e["Action"]="ACTION";e["Lock"]="LOCK";e["LockEcho"]="LOCKECHO";e["Activate"]="ACTIVATE";e["Discard"]="DISCARD";e["Unlock"]="UNLOCK";return e}({});n.Activity=a;function i(e){const t=["Dr.","Prof.","Prof. Dr.","B.A.","MBA","Ph.D."];t.forEach(function(t){e=e.replace(t,"")});let n;const r=e.trimStart().split(" ");if(r.length>1){n=(r?.shift()?.charAt(0)||"")+r.pop()?.charAt(0)}else{n=e.substring(0,2)}return n.toUpperCase()}function s(e,t,n){const r=t.find(t=>t.id===e);if(r){return r.color}else{for(let e=1;e<=10;e++){if(t.findIndex(t=>t.color===`Accent${e}`)===-1&&n.findIndex(t=>t.color===`Accent${e}`)===-1){return`Accent${e}`}}return"Accent10"}}function c(t){if(t.isA("sap.fe.core.AppComponent")){return t}const n=e.getOwnerComponentFor(t);if(!n){return t}else{return c(n)}}function l(e){const t=e.getShellServices();let n,o,a;if(t?.hasUShell()){n=t.getUserInitials();o=t.getUser().getId();a=t.getUser().getFullName()}else if(window.adt){o=window.adt.userID;a=window.adt.userName;n=i(a)}else{throw"No Shell... No User"}return{initials:n,id:o,name:u("C_COLLABORATIONDRAFT_ME",a),initialName:a,color:"Accent6",me:true,status:r.CurrentlyEditing}}function u(e){const n=t.getResourceBundleFor("sap.fe.core");for(var r=arguments.length,o=new Array(r>1?r-1:0),a=1;a<r;a++){o[a-1]=arguments[a]}return n.getText(e,o)}n.getText=u;const d={formatInitials:i,getUserColor:s,getMe:l,getAppComponent:c,getText:u};n.CollaborationUtils=d;async function f(e){const t=e.getModel();const n=t.getMetaModel();const r=n.getMetaPath(e.getPath());const o=n.getObject(`${r}@com.sap.vocabularies.Common.v1.DraftRoot/ShareAction`);const a=t.bindContext(`${o}(...)`,e);a.setParameter("Users",[]);a.setParameter("ShareAll",true);a.setParameter("IsDeltaUpdate",true);a.setParameter("If-Match","*");return a.invoke(undefined,true)}n.addSelf=f;async function g(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];let n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:"$auto.Workers";const r=e.getModel();const o=r.getMetaModel();const a=o.getMetaPath(e.getPath());const i=o.getObject(`${a}@com.sap.vocabularies.Common.v1.DraftRoot/ShareAction`);const s=r.bindContext(`${i}(...)`,e);s.setParameter("Users",t);s.setParameter("ShareAll",true);return s.invoke(n,true)}n.shareObject=g;function C(e){return e.substring(e.lastIndexOf("(")+1,e.lastIndexOf(")"))}n.getActivityKeyFromPath=C;const h="_CollaborationDraft_";n.CollaborationFieldGroupPrefix=h;return n},false);
//# sourceMappingURL=CollaborationCommon.js.map