{"version":3,"names":["DIALOGRESULT","_exports","InlineEditExitDialog","view","dialogCallBack","containingView","optionsList","_jsx","List","mode","showSeparators","includeItemInSelection","backgroundDesign","class","children","items","CustomListItem","customData","CustomData","key","value","_jsxs","VBox","Label","text","design","Text","dialog","Dialog","title","type","contentWidth","state","ValueState","Warning","content","beginButton","Button","press","closeAndOK","endButton","closeAndCancel","addDependent","_proto","prototype","open","selectAndFocusFirstEntry","getSelectedKey","getSelectedItem","data","firstListItemOption","getItems","setSelectedItem","focus","SAVE","DISCARD","close","destroy","CANCEL"],"sourceRoot":".","sources":["InlineEditExitDialog.tsx"],"sourcesContent":["import type { FEView } from \"sap/fe/core/BaseController\";\nimport Button from \"sap/m/Button\";\nimport CustomListItem from \"sap/m/CustomListItem\";\nimport Dialog from \"sap/m/Dialog\";\nimport Label from \"sap/m/Label\";\nimport List from \"sap/m/List\";\nimport Text from \"sap/m/Text\";\nimport VBox from \"sap/m/VBox\";\nimport CustomData from \"sap/ui/core/CustomData\";\nimport { ValueState } from \"sap/ui/core/library\";\n\nexport enum DIALOGRESULT {\n\tSAVE = \"Save\",\n\tDISCARD = \"Discard\",\n\tCANCEL = \"Cancel\"\n}\nexport default class InlineEditExitDialog {\n\tpublic containingView!: FEView;\n\n\tpublic dialog!: Dialog;\n\n\tprivate optionsList!: List;\n\n\tprivate dialogCallBack!: Function;\n\n\tconstructor(view: FEView, dialogCallBack: Function) {\n\t\tthis.containingView = view;\n\t\tthis.dialogCallBack = dialogCallBack;\n\t\tthis.optionsList = (\n\t\t\t<List\n\t\t\t\tmode=\"SingleSelectLeft\"\n\t\t\t\tshowSeparators=\"None\"\n\t\t\t\tincludeItemInSelection=\"true\"\n\t\t\t\tbackgroundDesign=\"Transparent\"\n\t\t\t\tclass=\"sapUiNoContentPadding\"\n\t\t\t>\n\t\t\t\t{{\n\t\t\t\t\titems: [\n\t\t\t\t\t\t<CustomListItem customData={[new CustomData({ key: \"itemKey\", value: \"SAVE\" })]}>\n\t\t\t\t\t\t\t<VBox class=\"sapUiTinyMargin\">\n\t\t\t\t\t\t\t\t<Label text=\"{sap.fe.i18n>C_INLINE_EDIT_BEFORENAVIGATION_SAVE_RBL}\" design=\"Bold\" />\n\t\t\t\t\t\t\t\t<Text text=\"{sap.fe.i18n>C_INLINE_EDIT_BEFORENAVIGATION_SAVE_TOL}\" />\n\t\t\t\t\t\t\t</VBox>\n\t\t\t\t\t\t</CustomListItem>,\n\t\t\t\t\t\t<CustomListItem customData={[new CustomData({ key: \"itemKey\", value: \"DISCARD\" })]}>\n\t\t\t\t\t\t\t<VBox class=\"sapUiTinyMargin\">\n\t\t\t\t\t\t\t\t<Label text=\"{sap.fe.i18n>C_INLINE_EDIT_BEFORENAVIGATION_DISCARD_RBL}\" design=\"Bold\" />\n\t\t\t\t\t\t\t\t<Text text=\"{sap.fe.i18n>C_INLINE_EDIT_BEFORENAVIGATION_DISCARD_TOL}\" />\n\t\t\t\t\t\t\t</VBox>\n\t\t\t\t\t\t</CustomListItem>\n\t\t\t\t\t]\n\t\t\t\t}}\n\t\t\t</List>\n\t\t);\n\n\t\tthis.dialog = (\n\t\t\t<Dialog title=\"{sap.fe.i18n>WARNING}\" type=\"Message\" contentWidth={\"22rem\"} state={ValueState.Warning}>\n\t\t\t\t{{\n\t\t\t\t\tcontent: [\n\t\t\t\t\t\t<Text\n\t\t\t\t\t\t\ttext=\"{sap.fe.i18n>C_INLINE_EDIT_BEFORENAVIGATION_MESSAGE}\"\n\t\t\t\t\t\t\tclass=\"sapUiTinyMarginBegin sapUiTinyMarginTopBottom\"\n\t\t\t\t\t\t/>,\n\t\t\t\t\t\tthis.optionsList\n\t\t\t\t\t]\n\t\t\t\t}}\n\t\t\t\t{{\n\t\t\t\t\tbeginButton: <Button type=\"Emphasized\" text=\"{sap.fe.i18n>C_COMMON_DIALOG_OK}\" press={(): void => this.closeAndOK()} />\n\t\t\t\t}}\n\t\t\t\t{{ endButton: <Button text=\"{sap.fe.i18n>C_COMMON_DIALOG_CANCEL}\" press={(): void => this.closeAndCancel()} /> }}\n\t\t\t</Dialog>\n\t\t);\n\t\tview.addDependent(this.dialog);\n\t}\n\n\t/**\n\t * Open the dialog.\n\t */\n\tpublic open(): void {\n\t\tthis.dialog.open();\n\t\tthis.selectAndFocusFirstEntry();\n\t}\n\n\t/**\n\t * Gets the key of the selected item from the list of options that was set via customData.\n\t * @returns The key of the currently selected item\n\t */\n\tprivate getSelectedKey(): string {\n\t\tconst optionsList = this.optionsList;\n\t\treturn optionsList.getSelectedItem().data(\"itemKey\");\n\t}\n\n\t/**\n\t * Sets the focus on the first list item of the dialog.\n\t *\n\t */\n\tprivate selectAndFocusFirstEntry(): void {\n\t\tconst firstListItemOption: CustomListItem = this.optionsList.getItems()[0] as CustomListItem;\n\t\tthis.optionsList.setSelectedItem(firstListItemOption);\n\t\t// We do not set the focus on the button, but catch the ENTER key in the dialog\n\t\t// and process it as Ok, since focusing the button was reported as an ACC issue\n\t\tfirstListItemOption?.focus();\n\t}\n\n\t/**\n\t * Close the dialog and call the callBack with the selected key.\n\t * @private\n\t */\n\tprivate closeAndOK(): void {\n\t\tif (this.getSelectedKey() === \"SAVE\") {\n\t\t\tthis.dialogCallBack(DIALOGRESULT.SAVE);\n\t\t} else {\n\t\t\tthis.dialogCallBack(DIALOGRESULT.DISCARD);\n\t\t}\n\t\tthis.dialog.close();\n\t\tthis.dialog.destroy();\n\t}\n\n\t/**\n\t * Close the dialog and call the callBack with 'CANCEL'.\n\t * @private\n\t */\n\tprivate closeAndCancel(): void {\n\t\tthis.dialogCallBack(DIALOGRESULT.CANCEL);\n\t\tthis.dialog.close();\n\t\tthis.dialog.destroy();\n\t}\n}\n"],"mappings":"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","ignoreList":[],"file":"InlineEditExitDialog-dbg.js"}