{"version":3,"names":["ProgrammingModel","FELibrary","RecommendationDialogDecision","_exports","ConfirmRecommendationDialog","_dec","defineUI5Class","_dec2","defineReference","_class","_class2","_ManagedObject","props","_this","call","_initializerDefineProperty","_descriptor","view","programmingModel","confirmRecommendationDialogResourceModel","getResourceModel","_inheritsLoose","_proto","prototype","getOpenRecommendations","visibleContextPaths","getVisiblePageContextPaths","openRecommendations","getOpenRecommendationsForVisibleContextPaths","recommendations","length","forEach","recommendation","primaryContext","context","fallbackContext","getBindingContext","propertyPath","isEmpty","ctx","path","value","getProperty","undefined","push","visiblePageContextPaths","getPath","controller","getController","fclController","getAppComponent","getRootViewController","isFclEnabled","_isFclEnabled","isFullScreen","getHelper","getCurrentUIState","rightMostContext","getRightmostContext","includes","contextPaths","localAnnotationModel","getModel","getLocalAnnotationModel","contextPath","localAnnotationObject","getObject","annotationObject","fetchLocalAnnotationObject","recommendationObject","currentKey","currentValue","keys","MetaModelConverter","getInvolvedDataModelObjectEntityKeys","contextIdentifier","getOpenRecommendationsForContext","contextData","recommendationContext","contextKey","arguments","currentValueIsContext","isA","split","openRecommendation","contextIdentifierText","description","text","Array","isArray","open","isSave","standardRecommendationHelper","addContextIdentifierText","recommendationData","acceptAllParams","onBeforeAcceptRecommendations","legacyRecommendationsExist","checkIfRecommendationsExist","fetchAcceptAllParams","acceptModel","getAcceptAllModel","setModel","getData","items","Skipped","dialog","getContent","setEscapeHandler","onContinueEditing","bind","addDependent","Promise","resolve","reject","promiseResolve","promiseReject","close","confirmRecommendationDialog","current","destroy","onAcceptAndSave","isAccepted","acceptRecommendations","Accept","Log","error","onIgnoreAndSave","rejectedRecommendations","processedContextPaths","Set","has","_processRecommendationContext","ignoreRecommendationForContexts","Reject","rejectedContextData","_filterRecommendationKeys","_clearRecommendationProperties","setProperty","add","key","Object","Continue","getFieldName","targetPath","involvedDataModelObject","getInvolvedDataModelObjectsForTargetPath","getMetaModel","targetObject","annotations","Common","Label","toString","getText","displayMode","valueFormatters","formatWithBrackets","getButton","type","pressHandler","_jsx","Button","width","press","children","layoutData","_Fragment","FlexItemData","minWidth","getFooter","Toolbar","content","_jsxs","ToolbarSpacer","_getDialogButtonText","save","recommendationDialogDecision","isAcceptButton","isCreateMode","JSONModel","entityNameLabel","getEntityName","identifierTexts","getDisplayModeForTargetPath","listData","fieldName","valueOf","fieldValue","setData","getGroup","getMessage","acceptAllData","messageText","Text","getDialogContent","List","model","sorter","Sorter","CustomListItem","HBox","class","Dialog","title","state","ValueState","Information","ref","resizable","contentWidth","footer","ManagedObject","_applyDecoratedDescriptor","configurable","enumerable","writable","initializer"],"sourceRoot":".","sources":["ConfirmRecommendationDialog.tsx"],"sourcesContent":["import type { Property } from \"@sap-ux/vocabularies-types\";\nimport Log from \"sap/base/Log\";\nimport type { PropertiesOf } from \"sap/fe/base/ClassSupport\";\nimport { defineReference, defineUI5Class } from \"sap/fe/base/ClassSupport\";\nimport type { Ref } from \"sap/fe/base/jsx-runtime/jsx\";\nimport * as MetaModelConverter from \"sap/fe/core/converters/MetaModelConverter\";\nimport { getResourceModel } from \"sap/fe/core/helpers/ResourceModelHelper\";\nimport FELibrary from \"sap/fe/core/library\";\nimport Button from \"sap/m/Button\";\nimport CustomListItem from \"sap/m/CustomListItem\";\nimport Dialog from \"sap/m/Dialog\";\nimport FlexItemData from \"sap/m/FlexItemData\";\nimport HBox from \"sap/m/HBox\";\nimport List from \"sap/m/List\";\nimport Text from \"sap/m/Text\";\nimport Toolbar from \"sap/m/Toolbar\";\nimport ToolbarSpacer from \"sap/m/ToolbarSpacer\";\nimport ManagedObject from \"sap/ui/base/ManagedObject\";\nimport type UI5Element from \"sap/ui/core/Element\";\nimport { ValueState } from \"sap/ui/core/library\";\nimport type View from \"sap/ui/core/mvc/View\";\nimport type Context from \"sap/ui/model/Context\";\nimport Sorter from \"sap/ui/model/Sorter\";\nimport JSONModel from \"sap/ui/model/json/JSONModel\";\nimport type { default as ODataV4Context } from \"sap/ui/model/odata/v4/Context\";\nimport type ODataMetaModel from \"sap/ui/model/odata/v4/ODataMetaModel\";\nimport type ODataModel from \"sap/ui/model/odata/v4/ODataModel\";\nimport type { EventHandler } from \"types/extension_types\";\nimport type BaseController from \"../../BaseController\";\nimport type PageController from \"../../PageController\";\nimport type ResourceModel from \"../../ResourceModel\";\nimport type { AcceptAllParams, RecommendationData } from \"../../controllerextensions/Recommendations\";\nimport valueFormatters from \"../../formatters/ValueFormatter\";\nimport type { RecommendationContextsInfo } from \"../../helpers/StandardRecommendationHelper\";\nimport { standardRecommendationHelper, type StandardRecommendationDataType } from \"../../helpers/StandardRecommendationHelper\";\nimport type FclController from \"../../rootView/Fcl.controller\";\n\nconst ProgrammingModel = FELibrary.ProgrammingModel;\ntype ProgrammingModelType = (typeof ProgrammingModel)[keyof typeof ProgrammingModel];\n\nexport enum RecommendationDialogDecision {\n\tAccept = \"Accept_Recommendations\",\n\tReject = \"Reject_Recommendations\",\n\tContinue = \"Continue_Editing\",\n\tSkipped = \"Skipped\"\n}\n\n@defineUI5Class(\"sap.fe.core.controls.Recommendations.ConfirmRecommendationDialog\")\nexport class ConfirmRecommendationDialog extends ManagedObject {\n\tconstructor(props: PropertiesOf<ConfirmRecommendationDialog>) {\n\t\tsuper(props);\n\t\tthis.view = props.view as View;\n\t\tthis.programmingModel = props.programmingModel;\n\t\tthis.confirmRecommendationDialogResourceModel = getResourceModel(this.view);\n\t}\n\n\t@defineReference()\n\tconfirmRecommendationDialog!: Ref<Dialog>;\n\n\tpublic view!: View;\n\n\tpublic programmingModel!: ProgrammingModelType;\n\n\tprivate confirmRecommendationDialogResourceModel!: ResourceModel;\n\n\tprotected key!: string;\n\n\tprivate isSave!: boolean;\n\n\tprivate acceptAllParams!: AcceptAllParams;\n\n\t/**\n\t * Resolves the promise with the selected dialog list option\n\t */\n\tprivate promiseResolve!: Function;\n\n\t/**\n\t * Rejects the promise of open dialog\n\t */\n\tpublic promiseReject!: Function;\n\n\t/**\n\t *\n\t * @returns Recommendation Data\n\t */\n\n\tpublic getOpenRecommendations(): RecommendationData[] {\n\t\tconst visibleContextPaths = this.getVisiblePageContextPaths();\n\t\tconst openRecommendations = this.getOpenRecommendationsForVisibleContextPaths(visibleContextPaths);\n\t\tconst recommendations: RecommendationData[] = [];\n\n\t\tif (openRecommendations.length > 0) {\n\t\t\topenRecommendations.forEach((recommendation) => {\n\t\t\t\tconst primaryContext = recommendation.context;\n\t\t\t\tconst fallbackContext = this.view.getBindingContext();\n\t\t\t\tconst propertyPath = recommendation.propertyPath ?? \"\";\n\n\t\t\t\tconst isEmpty = (ctx: Context | undefined | null, path: string): boolean => {\n\t\t\t\t\tconst value = ctx?.getProperty(path);\n\t\t\t\t\treturn value === null || value === undefined || value === \"\";\n\t\t\t\t};\n\n\t\t\t\t// push recommendation if property is empty in both contexts\n\t\t\t\tif (isEmpty(primaryContext, propertyPath) && isEmpty(fallbackContext, propertyPath)) {\n\t\t\t\t\trecommendations.push(recommendation);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\treturn recommendations;\n\t}\n\n\t/**\n\t *\n\t * @returns Collection of context paths\n\t */\n\n\tpublic getVisiblePageContextPaths(): (string | undefined)[] {\n\t\tconst visiblePageContextPaths = [this.view.getBindingContext()?.getPath()];\n\t\tconst controller = this.view.getController() as BaseController;\n\t\tconst fclController = controller.getAppComponent().getRootViewController() as FclController;\n\t\tconst isFclEnabled = controller.getAppComponent()._isFclEnabled();\n\t\tconst isFullScreen = isFclEnabled ? fclController.getHelper().getCurrentUIState().isFullScreen : true;\n\t\tif (isFclEnabled && !isFullScreen) {\n\t\t\tconst rightMostContext = fclController.getRightmostContext();\n\t\t\tif (!visiblePageContextPaths.includes(rightMostContext?.getPath())) {\n\t\t\t\tvisiblePageContextPaths.push(rightMostContext?.getPath());\n\t\t\t}\n\t\t}\n\t\treturn visiblePageContextPaths;\n\t}\n\n\t/**\n\t *\n\t * @param contextPaths Paths of the contexts\n\t * @returns RecommendationData for visible contexts\n\t */\n\tpublic getOpenRecommendationsForVisibleContextPaths(contextPaths: (string | undefined)[]): RecommendationData[] {\n\t\tconst openRecommendations: RecommendationData[] = [];\n\t\tif (contextPaths.length > 0) {\n\t\t\tconst localAnnotationModel = (this.view.getModel() as ODataModel).getLocalAnnotationModel();\n\t\t\t// check context paths in local annotation models which match to\n\t\t\t// 1. current page and\n\t\t\t// 2. immediate children of the current page\n\t\t\t// Need to consider also immediate children\n\t\t\t// iterate over all keys\n\t\t\tcontextPaths.forEach((contextPath) => {\n\t\t\t\tif (contextPath !== undefined) {\n\t\t\t\t\tconst localAnnotationObject = localAnnotationModel.getObject(contextPath);\n\t\t\t\t\tif (localAnnotationObject) {\n\t\t\t\t\t\tconst annotationObject = localAnnotationObject;\n\t\t\t\t\t\t/**\n\t\t\t\t\t\t * The local annotation object will be of the following structure :\n\t\t\t\t\t\t * {\n\t\t\t\t\t\t * \"PropertyName@$ui5.fe.recommendations.placeholderDescription\": Value\n\t\t\t\t\t\t * \"PropertyName@$ui5.fe.recommendations.placeholderValue\": Value\n\t\t\t\t\t\t * \"PropertyName@$ui5.fe.recommendations.typeAheadValues\": Value\n\t\t\t\t\t\t * PropertyName: {\n\t\t\t\t\t\t * \t\t\"PropertyName@$ui5.fe.recommendations.placeholderDescription\": Value\n\t\t\t\t\t\t * \t\t\"PropertyName@$ui5.fe.recommendations.placeholderValue\": Value\n\t\t\t\t\t\t * \t\t\"PropertyName@$ui5.fe.recommendations.typeAheadValues\": Value\n\t\t\t\t\t\t * \t\trecommendationContext:{ context }\n\t\t\t\t\t\t * \t }\n\t\t\t\t\t\t * recommendationContext:{ context }\n\t\t\t\t\t\t * }\n\t\t\t\t\t\t *\n\t\t\t\t\t\t * so in order to get the recommendations as per each context - for parent/child entities we need to iterate over each keys recursively in the fetchLocalAnnotationObject function,\n\t\t\t\t\t\t * form the corresponding structure and then send it for getting the recommendations accordingly.\n\t\t\t\t\t\t */\n\t\t\t\t\t\tthis.fetchLocalAnnotationObject(annotationObject, openRecommendations);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\treturn openRecommendations;\n\t}\n\n\t/**\n\t *\n\t * @param annotationObject\n\t * @param openRecommendations Recommendation Data\n\t */\n\n\tprivate fetchLocalAnnotationObject(annotationObject: Record<string, unknown>, openRecommendations: RecommendationData[]): void {\n\t\tif (annotationObject[\"recommendationContext\"]) {\n\t\t\tconst recommendationObject: Record<string, unknown> = {};\n\t\t\trecommendationObject[\"recommendationContext\"] = annotationObject[\"recommendationContext\"] as ODataV4Context;\n\t\t\tfor (const currentKey in annotationObject) {\n\t\t\t\tconst currentValue = annotationObject[currentKey];\n\t\t\t\tif (currentValue) {\n\t\t\t\t\tif ((currentValue as Record<string, ODataV4Context>)[\"recommendationContext\"]) {\n\t\t\t\t\t\tthis.fetchLocalAnnotationObject(annotationObject[currentKey] as Record<string, unknown>, openRecommendations);\n\t\t\t\t\t} else if (\n\t\t\t\t\t\tcurrentKey.includes(\"@$ui5.fe.recommendations.placeholderValue\") ||\n\t\t\t\t\t\tcurrentKey.includes(\"@$ui5.fe.recommendations.placeholderDescription\") ||\n\t\t\t\t\t\tcurrentKey.includes(\"@$ui5.fe.recommendations.typeAheadValues\")\n\t\t\t\t\t) {\n\t\t\t\t\t\trecommendationObject[currentKey] = currentValue;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tconst keys = MetaModelConverter.getInvolvedDataModelObjectEntityKeys(\n\t\t\t\trecommendationObject[\"recommendationContext\"] as ODataV4Context\n\t\t\t);\n\t\t\t(recommendationObject[\"recommendationContext\"] as RecommendationContextsInfo).contextIdentifier = keys[\"semanticKeys\"]\n\t\t\t\t? keys[\"semanticKeys\"]\n\t\t\t\t: keys[\"technicalKeys\"];\n\t\t\tthis.getOpenRecommendationsForContext(\n\t\t\t\trecommendationObject,\n\t\t\t\trecommendationObject[\"recommendationContext\"] as ODataV4Context,\n\t\t\t\topenRecommendations\n\t\t\t);\n\t\t}\n\t}\n\t/**\n\t *\n\t * @param contextData The context data object for recommendations\n\t * @param recommendationContext The recommendation context\n\t * @param openRecommendations RecommendationData\n\t * @param contextKey Context Key\n\t */\n\n\tprivate getOpenRecommendationsForContext(\n\t\tcontextData: Record<string, unknown>,\n\t\trecommendationContext: ODataV4Context,\n\t\topenRecommendations: RecommendationData[],\n\t\tcontextKey = \"\"\n\t): void {\n\t\tfor (const currentKey in contextData) {\n\t\t\tconst currentValue = contextData[currentKey];\n\t\t\tif (currentValue) {\n\t\t\t\tconst currentValueIsContext =\n\t\t\t\t\t(currentValue as ODataV4Context).isA && (currentValue as ODataV4Context).isA(\"sap.ui.model.odata.v4.Context\");\n\t\t\t\tif (currentKey.includes(\"@$ui5.fe.recommendations.placeholderValue\")) {\n\t\t\t\t\tconst propertyPath = currentKey.split(\"@$ui5.fe.recommendations.placeholderValue\")[0];\n\t\t\t\t\tconst openRecommendation: RecommendationData = {\n\t\t\t\t\t\tcontext: recommendationContext,\n\t\t\t\t\t\tpropertyPath: contextKey ? `${contextKey}/${propertyPath}` : propertyPath,\n\t\t\t\t\t\tvalue: currentValue as string,\n\t\t\t\t\t\tcontextIdentifier: (recommendationContext as RecommendationContextsInfo).contextIdentifier,\n\t\t\t\t\t\tcontextIdentifierText: []\n\t\t\t\t\t};\n\t\t\t\t\tconst description = contextData[`${propertyPath}@$ui5.fe.recommendations.placeholderDescription`];\n\t\t\t\t\tif (description) {\n\t\t\t\t\t\topenRecommendation.text = description as string;\n\t\t\t\t\t}\n\t\t\t\t\topenRecommendations.push(openRecommendation);\n\t\t\t\t} else if (typeof currentValue === \"object\" && !Array.isArray(currentValue) && !currentValueIsContext) {\n\t\t\t\t\tthis.getOpenRecommendationsForContext(\n\t\t\t\t\t\tcurrentValue as Record<string, unknown>,\n\t\t\t\t\t\trecommendationContext,\n\t\t\t\t\t\topenRecommendations,\n\t\t\t\t\t\tcurrentKey\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Opens the confirm recommendations dialog.\n\t * @param isSave Boolean flag which would be set to true if we are saving the document and would be false if we do apply changes\n\t * @returns Promise which would resolve with RecommendationDialogDecision (Accept, Ignore, Continue, Skipped)\n\t */\n\tpublic async open(isSave: boolean): Promise<RecommendationDialogDecision | undefined> {\n\t\t// check for built-in recommendations\n\t\tconst openRecommendations = this.getOpenRecommendations();\n\t\tif (openRecommendations.length > 0) {\n\t\t\tstandardRecommendationHelper.addContextIdentifierText(\n\t\t\t\t{ recommendationData: openRecommendations },\n\t\t\t\tthis.view.getBindingContext()?.getPath()\n\t\t\t);\n\t\t\tthis.acceptAllParams = {\n\t\t\t\trecommendationData: openRecommendations\n\t\t\t};\n\t\t\tawait (this.view?.getController() as PageController).recommendations.onBeforeAcceptRecommendations(this.acceptAllParams);\n\t\t} else {\n\t\t\t// if built-in recommendations are not found then check for legacy recommendations.\n\t\t\tconst legacyRecommendationsExist = (this.view?.getController() as PageController).recommendations.checkIfRecommendationsExist();\n\t\t\tif (legacyRecommendationsExist) {\n\t\t\t\tthis.acceptAllParams = await (this.view?.getController() as PageController).recommendations.fetchAcceptAllParams();\n\t\t\t} else {\n\t\t\t\treturn undefined;\n\t\t\t}\n\t\t}\n\t\tconst acceptModel = this.getAcceptAllModel();\n\t\tthis.view.setModel(acceptModel, \"_acceptDialogModel\");\n\t\tif (!acceptModel.getData().items?.length) {\n\t\t\treturn RecommendationDialogDecision.Skipped;\n\t\t}\n\t\tthis.isSave = isSave;\n\t\tconst dialog = this.getContent();\n\t\tdialog?.setEscapeHandler(this.onContinueEditing.bind(this));\n\t\tthis.view.addDependent(dialog as UI5Element);\n\t\tdialog?.open();\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tthis.promiseResolve = resolve;\n\t\t\tthis.promiseReject = reject;\n\t\t});\n\t}\n\n\t/**\n\t * Handler to close the confirmRecommendation dialog.\n\t *\n\t */\n\tpublic close(): void {\n\t\tthis.confirmRecommendationDialog.current?.close();\n\t\tthis.confirmRecommendationDialog.current?.destroy();\n\t}\n\n\t/**\n\t * Handler for Accept and Save button.\n\t */\n\tprivate async onAcceptAndSave(): Promise<void> {\n\t\ttry {\n\t\t\tconst isAccepted = await (this.view?.getController() as PageController).recommendations.acceptRecommendations(\n\t\t\t\tthis.acceptAllParams\n\t\t\t);\n\t\t\tif (!isAccepted) {\n\t\t\t\tthis.promiseReject(\"Accept Failed\");\n\t\t\t}\n\t\t\tthis.promiseResolve(RecommendationDialogDecision.Accept);\n\t\t} catch {\n\t\t\tLog.error(\"Accept Recommendations Failed\");\n\t\t\tthis.promiseReject(\"Accept Failed\");\n\t\t} finally {\n\t\t\tthis.close();\n\t\t}\n\t}\n\n\t/**\n\t * Handler for Reject and Save button.\n\t */\n\t/**\n\t * Handler for Reject and Save button.\n\t */\n\tprivate onIgnoreAndSave(): void {\n\t\tconst localAnnotationModel = (this.view.getModel() as ODataModel).getLocalAnnotationModel();\n\t\tconst rejectedRecommendations = localAnnotationModel.getProperty(\"/rejectedRecommendations\") ?? {};\n\n\t\tif (!this.acceptAllParams?.recommendationData) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst processedContextPaths = new Set<string>();\n\n\t\tfor (const recommendation of this.acceptAllParams.recommendationData) {\n\t\t\tconst contextPath = recommendation.context?.getPath() ?? \"\";\n\n\t\t\tif (contextPath !== \"\" && !processedContextPaths.has(contextPath)) {\n\t\t\t\tconst annotationObject = localAnnotationModel.getObject(contextPath);\n\n\t\t\t\tif (annotationObject !== null && typeof annotationObject === \"object\") {\n\t\t\t\t\tthis._processRecommendationContext(\n\t\t\t\t\t\tcontextPath,\n\t\t\t\t\t\tannotationObject,\n\t\t\t\t\t\trejectedRecommendations,\n\t\t\t\t\t\tlocalAnnotationModel,\n\t\t\t\t\t\tprocessedContextPaths\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t(this.view?.getController() as PageController).recommendations.ignoreRecommendationForContexts();\n\t\tthis.promiseResolve(RecommendationDialogDecision.Reject);\n\t\tthis.close();\n\t}\n\n\t/**\n\t * Processes a single recommendation context.\n\t * @param contextPath The context path being processed\n\t * @param annotationObject The annotation object for the context\n\t * @param rejectedRecommendations The rejected recommendations object\n\t * @param localAnnotationModel The local annotation model\n\t * @param processedContextPaths Set to track processed contexts\n\t */\n\tprivate _processRecommendationContext(\n\t\tcontextPath: string,\n\t\tannotationObject: Record<string, unknown>,\n\t\trejectedRecommendations: Record<string, unknown>,\n\t\tlocalAnnotationModel: JSONModel,\n\t\tprocessedContextPaths: Set<string>\n\t): void {\n\t\t// Build a shallow copy, then filter for recommendation keys only\n\t\tconst rejectedContextData = this._filterRecommendationKeys(annotationObject);\n\n\t\t// Clear recommendation properties from local annotation model\n\t\tthis._clearRecommendationProperties(annotationObject, contextPath, localAnnotationModel);\n\n\t\t// Store the filtered rejected context in rejectedRecommendations\n\t\trejectedRecommendations[contextPath] = rejectedContextData;\n\t\tlocalAnnotationModel.setProperty(\"/rejectedRecommendations\", rejectedRecommendations);\n\n\t\t// Mark this contextPath as processed\n\t\tprocessedContextPaths.add(contextPath);\n\t}\n\n\t/**\n\t * Filters annotation object to keep only recommendation keys.\n\t * @param annotationObject The source annotation object\n\t * @returns Object containing only recommendation-related keys\n\t */\n\tprivate _filterRecommendationKeys(annotationObject: Record<string, unknown>): Record<string, unknown> {\n\t\tconst rejectedContextData: Record<string, unknown> = {};\n\n\t\tfor (const key of Object.keys(annotationObject)) {\n\t\t\tif (key.includes(\"ui5.fe.recommendations\")) {\n\t\t\t\trejectedContextData[key] = annotationObject[key];\n\t\t\t}\n\t\t}\n\n\t\treturn rejectedContextData;\n\t}\n\n\t/**\n\t * Clears recommendation properties from local annotation model.\n\t * @param annotationObject The annotation object containing keys to clear\n\t * @param contextPath The context path for property clearing\n\t * @param localAnnotationModel The local annotation model\n\t */\n\tprivate _clearRecommendationProperties(\n\t\tannotationObject: Record<string, unknown>,\n\t\tcontextPath: string,\n\t\tlocalAnnotationModel: JSONModel\n\t): void {\n\t\tfor (const key of Object.keys(annotationObject)) {\n\t\t\tif (key.includes(\"ui5.fe.recommendations\")) {\n\t\t\t\tlocalAnnotationModel.setProperty(`${contextPath}/${key}`, undefined);\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Handler for Continue Editing button.\n\t */\n\tprivate onContinueEditing(): void {\n\t\tthis.promiseResolve(RecommendationDialogDecision.Continue);\n\t\tthis.close();\n\t}\n\n\t/**\n\t * Gets the label or name of the Field based on its property path.\n\t * @param targetPath\n\t * @returns Returns the label of the Field.\n\t */\n\tprivate getFieldName(targetPath: string): string {\n\t\tconst involvedDataModelObject = MetaModelConverter.getInvolvedDataModelObjectsForTargetPath<Property>(\n\t\t\ttargetPath,\n\t\t\tthis.view?.getBindingContext()?.getModel()?.getMetaModel() as ODataMetaModel\n\t\t);\n\t\treturn (\n\t\t\tinvolvedDataModelObject?.targetObject?.annotations?.Common?.Label?.toString() ||\n\t\t\ttargetPath.split(\"/\")[targetPath.split(\"/\").length - 1]\n\t\t);\n\t}\n\n\t/**\n\t * Fetches text for recommendation based on display mode.\n\t * @param recommendation\n\t * @param displayMode\n\t * @returns Text for a recommendation\n\t */\n\tprivate getText(recommendation: StandardRecommendationDataType, displayMode: string): string {\n\t\tif (recommendation.text || recommendation.value) {\n\t\t\tswitch (displayMode) {\n\t\t\t\tcase \"Description\":\n\t\t\t\t\treturn recommendation.text!;\n\t\t\t\tcase \"DescriptionValue\":\n\t\t\t\t\treturn valueFormatters.formatWithBrackets(recommendation.text, recommendation.value);\n\t\t\t\tcase \"ValueDescription\":\n\t\t\t\t\treturn valueFormatters.formatWithBrackets(recommendation.value, recommendation.text);\n\t\t\t\tcase \"Value\":\n\t\t\t\t\treturn recommendation.value!;\n\t\t\t}\n\t\t}\n\t\treturn recommendation.value || \"\";\n\t}\n\n\t/**\n\t * Returns Button with given text, type and pressHandler.\n\t * @param text Text for the button\n\t * @param type Type of the button\n\t * @param pressHandler Press Handler for the button\n\t * @returns Button with the given settings\n\t */\n\tprivate getButton(text: string, type: string, pressHandler: EventHandler): Button {\n\t\treturn (\n\t\t\t<Button text={text} type={type} width={\"auto\"} press={pressHandler}>\n\t\t\t\t{{\n\t\t\t\t\tlayoutData: (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<FlexItemData minWidth={\"100%\"}></FlexItemData>\n\t\t\t\t\t\t</>\n\t\t\t\t\t)\n\t\t\t\t}}\n\t\t\t</Button>\n\t\t);\n\t}\n\n\t/**\n\t * Returns Footer with Buttons.\n\t * @returns Footer\n\t */\n\n\tprivate getFooter(): Toolbar {\n\t\treturn (\n\t\t\t<Toolbar>\n\t\t\t\t{{\n\t\t\t\t\tcontent: (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<ToolbarSpacer />\n\t\t\t\t\t\t\t{this.getButton(\n\t\t\t\t\t\t\t\tthis._getDialogButtonText(this.isSave, RecommendationDialogDecision.Accept),\n\t\t\t\t\t\t\t\t\"Emphasized\",\n\t\t\t\t\t\t\t\tthis.onAcceptAndSave.bind(this)\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t{this.getButton(\n\t\t\t\t\t\t\t\tthis._getDialogButtonText(this.isSave, RecommendationDialogDecision.Reject),\n\t\t\t\t\t\t\t\t\"Ghost\",\n\t\t\t\t\t\t\t\tthis.onIgnoreAndSave.bind(this)\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t{this.getButton(\n\t\t\t\t\t\t\t\tthis.confirmRecommendationDialogResourceModel.getText(\"C_RECOMMENDATION_DIALOG_CONTINUE_EDITING\"),\n\t\t\t\t\t\t\t\t\"Ghost\",\n\t\t\t\t\t\t\t\tthis.onContinueEditing.bind(this)\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</>\n\t\t\t\t\t)\n\t\t\t\t}}\n\t\t\t</Toolbar>\n\t\t);\n\t}\n\n\tprivate _getDialogButtonText(save: boolean, recommendationDialogDecision: RecommendationDialogDecision): string {\n\t\tconst isAcceptButton = recommendationDialogDecision === RecommendationDialogDecision.Accept;\n\t\tif (save) {\n\t\t\tconst isCreateMode = this.view.getBindingContext(\"pageInternal\")?.getProperty(\"createMode\");\n\n\t\t\tif (isCreateMode) {\n\t\t\t\treturn isAcceptButton\n\t\t\t\t\t? this.confirmRecommendationDialogResourceModel.getText(\"C_RECOMMENDATION_DIALOG_ACCEPT_AND_CREATE\")\n\t\t\t\t\t: this.confirmRecommendationDialogResourceModel.getText(\"C_RECOMMENDATION_DIALOG_REJECT_AND_CREATE\");\n\t\t\t}\n\n\t\t\treturn isAcceptButton\n\t\t\t\t? this.confirmRecommendationDialogResourceModel.getText(\"C_RECOMMENDATION_DIALOG_ACCEPT_AND_SAVE\")\n\t\t\t\t: this.confirmRecommendationDialogResourceModel.getText(\"C_RECOMMENDATION_DIALOG_REJECT_AND_SAVE\");\n\t\t}\n\n\t\t// Not saving â€“ plain Accept/Ignore\n\t\treturn isAcceptButton\n\t\t\t? this.confirmRecommendationDialogResourceModel.getText(\"C_RECOMMENDATION_DIALOG_ACCEPT\")\n\t\t\t: this.confirmRecommendationDialogResourceModel.getText(\"C_RECOMMENDATION_DIALOG_REJECT\");\n\t}\n\n\t/**\n\t * This method created a JSON Model for the accept all dialog data.\n\t * @returns The JSON Model for accept all dialog.\n\t */\n\tgetAcceptAllModel(): JSONModel {\n\t\tconst acceptModel = new JSONModel();\n\t\tconst items = [];\n\t\tfor (const recommendationData of this.acceptAllParams?.recommendationData || []) {\n\t\t\tconst entityNameLabel = standardRecommendationHelper.getEntityName(recommendationData.context as ODataV4Context) || \"\";\n\n\t\t\tconst identifierTexts =\n\t\t\t\trecommendationData.contextIdentifierText && recommendationData.contextIdentifierText.length > 0\n\t\t\t\t\t? `${entityNameLabel} (${recommendationData.contextIdentifierText})`\n\t\t\t\t\t: entityNameLabel;\n\n\t\t\tif (recommendationData.value || recommendationData.text) {\n\t\t\t\tconst targetPath = recommendationData.context?.getPath() + \"/\" + recommendationData.propertyPath;\n\t\t\t\tconst displayMode = standardRecommendationHelper.getDisplayModeForTargetPath(\n\t\t\t\t\ttargetPath,\n\t\t\t\t\tthis.view?.getBindingContext()?.getModel()?.getMetaModel() as ODataMetaModel\n\t\t\t\t);\n\t\t\t\tconst listData = {\n\t\t\t\t\tfieldName: this.getFieldName(targetPath).valueOf(),\n\t\t\t\t\tfieldValue: this.getText(recommendationData, displayMode),\n\t\t\t\t\tidentifierTexts: identifierTexts\n\t\t\t\t};\n\t\t\t\titems.push(listData);\n\t\t\t}\n\t\t}\n\t\tacceptModel.setData({ items: items });\n\t\treturn acceptModel;\n\t}\n\n\t/**\n\t * This method groups the contexts according to the identifier texts.\n\t * @param context The context of the item\n\t * @returns The text of the group\n\t */\n\tgetGroup(context: ODataV4Context): string {\n\t\treturn context.getProperty(\"identifierTexts\");\n\t}\n\n\t/**\n\t * This function returns the message to be shown in the accept dialog.\n\t * @returns A message with the desired text.\n\t */\n\tgetMessage(): Text {\n\t\tconst acceptAllData = (this.view.getModel(\"_acceptDialogModel\") as JSONModel)?.getData()?.items;\n\t\tconst messageText =\n\t\t\tacceptAllData.length > 1\n\t\t\t\t? this.confirmRecommendationDialogResourceModel.getText(\"C_RECOMMENDATION_DIALOG_TEXT\", [acceptAllData.length])\n\t\t\t\t: this.confirmRecommendationDialogResourceModel.getText(\"C_RECOMMENDATION_DIALOG_TEXT_SINGULAR\");\n\t\treturn <Text text={messageText} />;\n\t}\n\n\t/**\n\t * This method creates the content for the dialog.\n\t * @returns A list as content of the dialog.\n\t */\n\tgetDialogContent(): List {\n\t\treturn (\n\t\t\t<List items={{ model: \"_acceptDialogModel\", path: \"/items\", sorter: new Sorter(\"identifierTexts\", false, this.getGroup) }}>\n\t\t\t\t<CustomListItem>\n\t\t\t\t\t<HBox class=\"sapUiSmallMarginBegin sapUiTinyMargin\">\n\t\t\t\t\t\t<Text text=\"{_acceptDialogModel>fieldName}: {_acceptDialogModel>fieldValue}\" />\n\t\t\t\t\t</HBox>\n\t\t\t\t</CustomListItem>\n\t\t\t</List>\n\t\t);\n\t}\n\n\t/**\n\t * The building block render function.\n\t * @returns An XML-based string\n\t */\n\tgetContent(): Dialog {\n\t\treturn (\n\t\t\t<Dialog\n\t\t\t\ttitle={this.confirmRecommendationDialogResourceModel.getText(\"C_RECOMMENDATION_DIALOG_TITLE\")}\n\t\t\t\tstate={ValueState.Information}\n\t\t\t\ttype={\"Message\"}\n\t\t\t\tref={this.confirmRecommendationDialog}\n\t\t\t\tresizable={\"true\"}\n\t\t\t\tcontentWidth={\"35rem\"}\n\t\t\t>\n\t\t\t\t{{\n\t\t\t\t\tcontent: (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t{this.getMessage()}\n\t\t\t\t\t\t\t{this.getDialogContent()}\n\t\t\t\t\t\t</>\n\t\t\t\t\t),\n\t\t\t\t\tfooter: <>{this.getFooter()}</>\n\t\t\t\t}}\n\t\t\t</Dialog>\n\t\t) as Dialog;\n\t}\n}\n"],"mappings":"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","ignoreList":[],"file":"ConfirmRecommendationDialog-dbg.js"}