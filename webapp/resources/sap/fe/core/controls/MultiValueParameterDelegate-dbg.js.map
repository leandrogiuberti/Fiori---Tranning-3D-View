{"version":3,"names":["oMultiValueFieldDelegate","Object","assign","MultiValueFieldDelegate","_transformConditions","aConditions","sKeyPath","sDescriptionPath","aTransformedItems","condition","oItem","values","push","updateItems","oPayload","oMultiValueField","oListBinding","getBinding","oBindingInfo","getBindingInfo","sItemPath","path","oTemplate","template","oKeyBindingInfo","parts","oDescriptionBindingInfo","oModel","getModel","setProperty"],"sourceRoot":".","sources":["MultiValueParameterDelegate.ts"],"sourcesContent":["import type MultiValueField from \"sap/ui/mdc/MultiValueField\";\nimport type { ConditionObject } from \"sap/ui/mdc/condition/Condition\";\n// This is a special case as it only will happen when using the action parameter dialog so at a point where the MDC library will have been loaded anyway\n// eslint-disable-next-line @typescript-eslint/no-restricted-imports\nimport MultiValueFieldDelegate from \"sap/ui/mdc/field/MultiValueFieldDelegate\";\nimport type ODataListBinding from \"sap/ui/model/odata/v4/ODataListBinding\";\n\nconst oMultiValueFieldDelegate = Object.assign({}, MultiValueFieldDelegate, {\n\t_transformConditions: function (aConditions: ConditionObject[], sKeyPath: string, sDescriptionPath: string) {\n\t\tconst aTransformedItems = [];\n\t\tfor (const condition of aConditions) {\n\t\t\tconst oItem: Record<string, unknown> = {};\n\t\t\toItem[sKeyPath] = condition.values[0];\n\t\t\tif (sDescriptionPath) {\n\t\t\t\toItem[sDescriptionPath] = condition.values[1];\n\t\t\t}\n\t\t\taTransformedItems.push(oItem);\n\t\t}\n\t\treturn aTransformedItems;\n\t},\n\tupdateItems: function (oPayload: unknown, aConditions: ConditionObject[], oMultiValueField: MultiValueField) {\n\t\tconst oListBinding = oMultiValueField.getBinding(\"items\") as ODataListBinding;\n\t\tconst oBindingInfo = oMultiValueField.getBindingInfo(\"items\");\n\t\tconst sItemPath = oBindingInfo.path;\n\t\tconst oTemplate = oBindingInfo.template;\n\t\tconst oKeyBindingInfo = oTemplate.getBindingInfo(\"key\");\n\t\tconst sKeyPath = oKeyBindingInfo && oKeyBindingInfo.parts[0].path;\n\t\tconst oDescriptionBindingInfo = oTemplate.getBindingInfo(\"description\");\n\t\tconst sDescriptionPath = oDescriptionBindingInfo && oDescriptionBindingInfo.parts[0].path;\n\t\tconst oModel = oListBinding.getModel();\n\n\t\toModel.setProperty(sItemPath, this._transformConditions(aConditions, sKeyPath, sDescriptionPath));\n\t}\n});\n\nexport default oMultiValueFieldDelegate;\n"],"mappings":";;;;;;;EAEA;EACA;EAIA,MAAMA,wBAAwB,GAAGC,MAAM,CAACC,MAAM,CAAC,CAAC,CAAC,EAAEC,uBAAuB,EAAE;IAC3EC,oBAAoB,EAAE,SAAAA,CAAUC,WAA8B,EAAEC,QAAgB,EAAEC,gBAAwB,EAAE;MAC3G,MAAMC,iBAAiB,GAAG,EAAE;MAC5B,KAAK,MAAMC,SAAS,IAAIJ,WAAW,EAAE;QACpC,MAAMK,KAA8B,GAAG,CAAC,CAAC;QACzCA,KAAK,CAACJ,QAAQ,CAAC,GAAGG,SAAS,CAACE,MAAM,CAAC,CAAC,CAAC;QACrC,IAAIJ,gBAAgB,EAAE;UACrBG,KAAK,CAACH,gBAAgB,CAAC,GAAGE,SAAS,CAACE,MAAM,CAAC,CAAC,CAAC;QAC9C;QACAH,iBAAiB,CAACI,IAAI,CAACF,KAAK,CAAC;MAC9B;MACA,OAAOF,iBAAiB;IACzB,CAAC;IACDK,WAAW,EAAE,SAAAA,CAAUC,QAAiB,EAAET,WAA8B,EAAEU,gBAAiC,EAAE;MAC5G,MAAMC,YAAY,GAAGD,gBAAgB,CAACE,UAAU,CAAC,OAAO,CAAqB;MAC7E,MAAMC,YAAY,GAAGH,gBAAgB,CAACI,cAAc,CAAC,OAAO,CAAC;MAC7D,MAAMC,SAAS,GAAGF,YAAY,CAACG,IAAI;MACnC,MAAMC,SAAS,GAAGJ,YAAY,CAACK,QAAQ;MACvC,MAAMC,eAAe,GAAGF,SAAS,CAACH,cAAc,CAAC,KAAK,CAAC;MACvD,MAAMb,QAAQ,GAAGkB,eAAe,IAAIA,eAAe,CAACC,KAAK,CAAC,CAAC,CAAC,CAACJ,IAAI;MACjE,MAAMK,uBAAuB,GAAGJ,SAAS,CAACH,cAAc,CAAC,aAAa,CAAC;MACvE,MAAMZ,gBAAgB,GAAGmB,uBAAuB,IAAIA,uBAAuB,CAACD,KAAK,CAAC,CAAC,CAAC,CAACJ,IAAI;MACzF,MAAMM,MAAM,GAAGX,YAAY,CAACY,QAAQ,CAAC,CAAC;MAEtCD,MAAM,CAACE,WAAW,CAACT,SAAS,EAAE,IAAI,CAAChB,oBAAoB,CAACC,WAAW,EAAEC,QAAQ,EAAEC,gBAAgB,CAAC,CAAC;IAClG;EACD,CAAC,CAAC;EAAC,OAEYP,wBAAwB;AAAA","ignoreList":[],"file":"MultiValueParameterDelegate-dbg.js"}