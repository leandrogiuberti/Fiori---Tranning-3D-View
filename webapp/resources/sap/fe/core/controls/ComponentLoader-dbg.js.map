{"version":3,"names":["ComponentLoader","_dec","defineUI5Class","_dec2","property","type","required","_dec3","_dec4","_dec5","aggregation","multiple","isDefault","_class","_class2","_Control","_this","_len","arguments","length","args","Array","_key","call","_initializerDefineProperty","_descriptor","_descriptor2","_descriptor3","_descriptor4","_exports","_inheritsLoose","_proto","prototype","init","targets","getTargets","component","Component","getOwnerComponentFor","isA","Error","addTarget","target","getTarget","getId","targetSettings","name","id","controlId","controlAggregation","settings","options","applySettings","mSettings","oScope","onBeforeRendering","display","prefix","routeRelevant","render","rm","loader","getRenderer","Control","_applyDecoratedDescriptor","configurable","enumerable","writable","initializer"],"sourceRoot":".","sources":["ComponentLoader.ts"],"sourcesContent":["import { aggregation, defineUI5Class, property } from \"sap/fe/base/ClassSupport\";\nimport type { $ManagedObjectSettings } from \"sap/ui/base/ManagedObject\";\nimport Component from \"sap/ui/core/Component\";\nimport type ComponentContainer from \"sap/ui/core/ComponentContainer\";\nimport type { $ComponentContainerSettings } from \"sap/ui/core/ComponentContainer\";\nimport Control from \"sap/ui/core/Control\";\nimport type RenderManager from \"sap/ui/core/RenderManager\";\nimport type { $TargetSettings } from \"sap/ui/core/routing/Target\";\nimport type Targets from \"sap/ui/core/routing/Targets\";\nimport type UIComponent from \"sap/ui/core/UIComponent\";\n\n/**\n * Control for loading a component using UI5 routing.\n */\n@defineUI5Class(\"sap.fe.core.controls.ComponentLoader\")\nexport default class ComponentLoader extends Control {\n\t/**\n\t * Name of the component.\n\t */\n\t@property({ type: \"string\", required: true })\n\tname!: string;\n\n\t/**\n\t * Route prefix for the component.\n\t */\n\t@property({ type: \"string\" })\n\tprefix?: string;\n\n\t/**\n\t * Setting that will be passed to the component.\n\t */\n\t@property({ type: \"object\" })\n\tsettings?: $ComponentContainerSettings[\"settings\"];\n\n\t/**\n\t * This aggregation holds the embedded component.\n\t */\n\t@aggregation({ type: \"sap.ui.core.ComponentContainer\", multiple: false, isDefault: true })\n\tprivate component: ComponentContainer | null = null;\n\n\t/**\n\t * Targets API.\n\t */\n\tprivate targets!: Targets;\n\n\tinit(): void {\n\t\tthis.targets = this.getTargets();\n\t}\n\n\t/**\n\t * Get the {@link Targets} instance responsible for this control.\n\t * @returns The {@link Targets} instance.\n\t * @throws If the instance could not be found, e.g., if there is no router at all.\n\t */\n\tprivate getTargets(): Targets {\n\t\tlet component = Component.getOwnerComponentFor(this);\n\t\tlet targets: Targets | undefined;\n\t\twhile (component && !targets) {\n\t\t\tif (component.isA<UIComponent>(\"sap.ui.core.UIComponent\")) {\n\t\t\t\ttargets = component.getTargets();\n\t\t\t}\n\t\t\tcomponent = Component.getOwnerComponentFor(component);\n\t\t}\n\n\t\tif (!targets) {\n\t\t\tthrow new Error(\"Could not determine the instance of sap.ui.core.routing.Targets\");\n\t\t}\n\n\t\treturn targets;\n\t}\n\n\t/**\n\t * Add a target, using this control's ID as the name.\n\t */\n\tprivate addTarget(): void {\n\t\tconst target = this.targets.getTarget(this.getId(), true);\n\t\tif (!target) {\n\t\t\t// UI5 routing will later create one instance of the component per tuple [name, id] or [usage, id], respectively.\n\t\t\tconst targetSettings: $TargetSettings & { options?: object } = {\n\t\t\t\ttype: \"Component\",\n\t\t\t\tname: this.name,\n\t\t\t\tid: this.getId(),\n\n\t\t\t\t// this is where the component's view will be placed. It must be **this** control's 'component' aggregation.\n\t\t\t\tcontrolId: this.getId(),\n\t\t\t\tcontrolAggregation: \"component\"\n\t\t\t};\n\n\t\t\tif (this.settings) {\n\t\t\t\ttargetSettings.options = { settings: this.settings };\n\t\t\t}\n\n\t\t\tthis.targets.addTarget(this.getId(), targetSettings);\n\t\t}\n\t}\n\n\tapplySettings(mSettings: $ManagedObjectSettings, oScope?: object): this {\n\t\tsuper.applySettings(mSettings, oScope);\n\t\tthis.addTarget();\n\t\treturn this;\n\t}\n\n\tonBeforeRendering(): void {\n\t\tthis.targets.display({\n\t\t\tname: this.getId(),\n\t\t\tprefix: this.prefix,\n\t\t\trouteRelevant: true\n\t\t});\n\t}\n\n\tstatic render(rm: RenderManager, loader: ComponentLoader): void {\n\t\t// delegate rendering to the nested ComponentContainer\n\t\tif (loader.component) {\n\t\t\tloader.component.getRenderer().render(rm, loader.component);\n\t\t}\n\t}\n}\n"],"mappings":"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","ignoreList":[],"file":"ComponentLoader-dbg.js"}