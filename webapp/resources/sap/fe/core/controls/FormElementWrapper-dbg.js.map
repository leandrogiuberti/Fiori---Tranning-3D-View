{"version":3,"names":["FormElementWrapper","_dec","defineUI5Class","_dec2","implementInterface","_dec3","property","type","defaultValue","undefined","_dec4","_dec5","association","multiple","singularName","_dec6","aggregation","isDefault","_class","_class2","_Control","id","settings","_this","call","_initializerDefineProperty","_descriptor","_descriptor2","_descriptor3","_descriptor4","_descriptor5","_inheritsLoose","_proto","prototype","getAccessibilityInfo","oContent","content","onBeforeRendering","setAriaLabelledByForControl","control","isA","items","getItems","filter","item","setAriaLabelledByForDraftIndicator","setAriaLabelledBy","getContent","addAriaLabelledBy","ariaLabelledBy","element","ariaLabelledBys","getAriaLabelledBy","indexOf","addAriaLabelledByForDraftIndicator","includes","render","oRm","oControl","openStart","style","width","openEnd","renderControl","close","Control","_applyDecoratedDescriptor","configurable","enumerable","writable","initializer"],"sourceRoot":".","sources":["FormElementWrapper.ts"],"sourcesContent":["import type { EnhanceWithUI5, PropertiesOf } from \"sap/fe/base/ClassSupport\";\nimport { aggregation, association, defineUI5Class, implementInterface, property } from \"sap/fe/base/ClassSupport\";\nimport type DraftIndicator from \"sap/fe/macros/draftIndicator/DraftIndicator\";\nimport type Avatar from \"sap/m/Avatar\";\nimport type HBox from \"sap/m/HBox\";\nimport type VBox from \"sap/m/VBox\";\nimport type { $ControlSettings } from \"sap/ui/core/Control\";\nimport Control from \"sap/ui/core/Control\";\nimport type RenderManager from \"sap/ui/core/RenderManager\";\nimport type { AccessibilityInfo, CSSSize, IFormContent } from \"sap/ui/core/library\";\n\n@defineUI5Class(\"sap.fe.core.controls.FormElementWrapper\")\nclass FormElementWrapper extends Control implements IFormContent {\n\t@implementInterface(\"sap.ui.core.IFormContent\")\n\t__implements__sap_ui_core_IFormContent = true;\n\n\t@property({\n\t\ttype: \"sap.ui.core.CSSSize\",\n\t\tdefaultValue: undefined\n\t})\n\twidth!: CSSSize;\n\n\t@property({\n\t\ttype: \"boolean\",\n\t\tdefaultValue: false\n\t})\n\tformDoNotAdjustWidth!: boolean;\n\n\t/**\n\t * Association to controls / IDs that label this control (see WAI-ARIA attribute aria-labelledby).\n\t */\n\t@association({ type: \"sap.ui.core.Control\", multiple: true, singularName: \"ariaLabelledBy\" })\n\tariaLabelledBy!: (string | Control)[];\n\n\t@aggregation({ type: \"sap.ui.core.Control\", multiple: false, isDefault: true })\n\tcontent!: Control;\n\n\tgetAccessibilityInfo(): AccessibilityInfo {\n\t\tconst oContent = this.content;\n\t\treturn oContent && oContent.getAccessibilityInfo ? oContent.getAccessibilityInfo() : {};\n\t}\n\n\tconstructor(\n\t\tid?: string | undefined | (PropertiesOf<FormElementWrapper> & $ControlSettings),\n\t\tsettings?: $ControlSettings & PropertiesOf<FormElementWrapper>\n\t) {\n\t\tsuper(id as string, settings);\n\t}\n\n\tonBeforeRendering(): void {\n\t\tconst setAriaLabelledByForControl = (control: Control): void => {\n\t\t\tif (control.isA<VBox>(\"sap.m.VBox\") || control.isA<HBox>(\"sap.m.HBox\")) {\n\t\t\t\tconst items = control.getItems().filter((item) => !item.isA<Avatar>(\"sap.m.Avatar\"));\n\t\t\t\t//exclude Avatar from aria-labelledby to avoid overriding aria-label\n\t\t\t\tfor (const item of items) {\n\t\t\t\t\tsetAriaLabelledByForControl(item);\n\t\t\t\t}\n\t\t\t} else if (control.isA(\"sap.fe.macros.draftIndicator.DraftIndicator\")) {\n\t\t\t\tthis.setAriaLabelledByForDraftIndicator(control as DraftIndicator);\n\t\t\t} else {\n\t\t\t\tthis.setAriaLabelledBy(control);\n\t\t\t}\n\t\t};\n\t\tsetAriaLabelledByForControl((this as unknown as EnhanceWithUI5<FormElementWrapper>).getContent());\n\t}\n\n\t/**\n\t * Sets ariaLabelledBy for the content control.\n\t * @param content The content control.\n\t */\n\tprivate setAriaLabelledBy(content: (Control & { addAriaLabelledBy?: Function; getAriaLabelledBy?: Function }) | undefined): void {\n\t\tif (content?.addAriaLabelledBy) {\n\t\t\tconst ariaLabelledBy = this.ariaLabelledBy;\n\n\t\t\tfor (const element of ariaLabelledBy) {\n\t\t\t\tconst ariaLabelledBys = content.getAriaLabelledBy?.() || [];\n\t\t\t\tif (ariaLabelledBys.indexOf(element) === -1) {\n\t\t\t\t\tcontent.addAriaLabelledBy(element);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Sets ariaLabelledBy for the draft indicator.\n\t * @param content The draft indicator control.\n\t */\n\tprivate setAriaLabelledByForDraftIndicator(content: DraftIndicator | undefined): void {\n\t\tif (content?.addAriaLabelledByForDraftIndicator) {\n\t\t\tconst ariaLabelledBy = this.ariaLabelledBy;\n\n\t\t\tfor (const element of ariaLabelledBy) {\n\t\t\t\tconst ariaLabelledBys = content.getAriaLabelledBy();\n\t\t\t\tif (!ariaLabelledBys.includes(element as string)) {\n\t\t\t\t\tcontent.addAriaLabelledByForDraftIndicator(element as string);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tstatic render(oRm: RenderManager, oControl: FormElementWrapper): void {\n\t\toRm.openStart(\"div\", oControl);\n\t\toRm.style(\"min-height\", \"1rem\");\n\t\toRm.style(\"width\", oControl.width);\n\t\toRm.openEnd();\n\n\t\toRm.openStart(\"div\");\n\t\toRm.style(\"display\", \"flex\");\n\t\toRm.style(\"box-sizing\", \"border-box\");\n\t\toRm.style(\"justify-content\", \"space-between\");\n\t\toRm.style(\"align-items\", \"center\");\n\t\toRm.style(\"flex-wrap\", \"wrap\");\n\t\toRm.style(\"align-content\", \"stretch\");\n\t\toRm.style(\"width\", \"100%\");\n\t\toRm.openEnd();\n\t\toRm.renderControl(oControl.content); // render the child Control\n\t\toRm.close(\"div\");\n\t\toRm.close(\"div\"); // end of the complete Control\n\t}\n}\nexport default FormElementWrapper;\n"],"mappings":"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","ignoreList":[],"file":"FormElementWrapper-dbg.js"}