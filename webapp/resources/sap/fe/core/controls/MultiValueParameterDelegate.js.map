{"version":3,"file":"MultiValueParameterDelegate.js","names":["oMultiValueFieldDelegate","Object","assign","MultiValueFieldDelegate","_transformConditions","aConditions","sKeyPath","sDescriptionPath","aTransformedItems","condition","oItem","values","push","updateItems","oPayload","oMultiValueField","oListBinding","getBinding","oBindingInfo","getBindingInfo","sItemPath","path","oTemplate","template","oKeyBindingInfo","parts","oDescriptionBindingInfo","oModel","getModel","setProperty","this"],"sources":["./MultiValueParameterDelegate.ts"],"sourcesContent":["import type MultiValueField from \"sap/ui/mdc/MultiValueField\";\nimport type { ConditionObject } from \"sap/ui/mdc/condition/Condition\";\n// This is a special case as it only will happen when using the action parameter dialog so at a point where the MDC library will have been loaded anyway\n// eslint-disable-next-line @typescript-eslint/no-restricted-imports\nimport MultiValueFieldDelegate from \"sap/ui/mdc/field/MultiValueFieldDelegate\";\nimport type ODataListBinding from \"sap/ui/model/odata/v4/ODataListBinding\";\n\nconst oMultiValueFieldDelegate = Object.assign({}, MultiValueFieldDelegate, {\n\t_transformConditions: function (aConditions: ConditionObject[], sKeyPath: string, sDescriptionPath: string) {\n\t\tconst aTransformedItems = [];\n\t\tfor (const condition of aConditions) {\n\t\t\tconst oItem: Record<string, unknown> = {};\n\t\t\toItem[sKeyPath] = condition.values[0];\n\t\t\tif (sDescriptionPath) {\n\t\t\t\toItem[sDescriptionPath] = condition.values[1];\n\t\t\t}\n\t\t\taTransformedItems.push(oItem);\n\t\t}\n\t\treturn aTransformedItems;\n\t},\n\tupdateItems: function (oPayload: unknown, aConditions: ConditionObject[], oMultiValueField: MultiValueField) {\n\t\tconst oListBinding = oMultiValueField.getBinding(\"items\") as ODataListBinding;\n\t\tconst oBindingInfo = oMultiValueField.getBindingInfo(\"items\");\n\t\tconst sItemPath = oBindingInfo.path;\n\t\tconst oTemplate = oBindingInfo.template;\n\t\tconst oKeyBindingInfo = oTemplate.getBindingInfo(\"key\");\n\t\tconst sKeyPath = oKeyBindingInfo && oKeyBindingInfo.parts[0].path;\n\t\tconst oDescriptionBindingInfo = oTemplate.getBindingInfo(\"description\");\n\t\tconst sDescriptionPath = oDescriptionBindingInfo && oDescriptionBindingInfo.parts[0].path;\n\t\tconst oModel = oListBinding.getModel();\n\n\t\toModel.setProperty(sItemPath, this._transformConditions(aConditions, sKeyPath, sDescriptionPath));\n\t}\n});\n\nexport default oMultiValueFieldDelegate;\n"],"mappings":";;;;oFAOA,MAAMA,EAA2BC,OAAOC,OAAO,CAAC,EAAGC,EAAyB,CAC3EC,qBAAsB,SAAUC,EAAgCC,EAAkBC,GACjF,MAAMC,EAAoB,GAC1B,IAAK,MAAMC,KAAaJ,EAAa,CACpC,MAAMK,EAAiC,CAAC,EACxCA,EAAMJ,GAAYG,EAAUE,OAAO,GACnC,GAAIJ,EAAkB,CACrBG,EAAMH,GAAoBE,EAAUE,OAAO,EAC5C,CACAH,EAAkBI,KAAKF,EACxB,CACA,OAAOF,CACR,EACAK,YAAa,SAAUC,EAAmBT,EAAgCU,GACzE,MAAMC,EAAeD,EAAiBE,WAAW,SACjD,MAAMC,EAAeH,EAAiBI,eAAe,SACrD,MAAMC,EAAYF,EAAaG,KAC/B,MAAMC,EAAYJ,EAAaK,SAC/B,MAAMC,EAAkBF,EAAUH,eAAe,OACjD,MAAMb,EAAWkB,GAAmBA,EAAgBC,MAAM,GAAGJ,KAC7D,MAAMK,EAA0BJ,EAAUH,eAAe,eACzD,MAAMZ,EAAmBmB,GAA2BA,EAAwBD,MAAM,GAAGJ,KACrF,MAAMM,EAASX,EAAaY,WAE5BD,EAAOE,YAAYT,EAAWU,KAAK1B,qBAAqBC,EAAaC,EAAUC,GAChF,IACE,OAEYP,CAAwB","ignoreList":[]}