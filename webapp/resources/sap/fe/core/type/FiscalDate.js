/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.define(["sap/base/i18n/date/CalendarType","sap/fe/base/ClassSupport","sap/fe/core/formatters/FiscalFormat","sap/ui/core/Lib","sap/ui/model/ValidateException","sap/ui/model/odata/type/String"],function(a,e,t,r,o,s){"use strict";var i,c,l;var n=e.defineUI5Class;function m(a,e){a.prototype=Object.create(e.prototype),a.prototype.constructor=a,u(a,e)}function u(a,e){return u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,e){return a.__proto__=e,a},u(a,e)}let p=(i=n("sap.fe.core.type.FiscalDate"),i(c=(l=function(e){function s(r,o){var i;if((r.fiscalType==="com.sap.vocabularies.Common.v1.IsFiscalYearPeriod"||r.fiscalType==="com.sap.vocabularies.Common.v1.IsFiscalYearQuarter"||r.fiscalType==="com.sap.vocabularies.Common.v1.IsFiscalYearWeek")&&o?.maxLength){o.maxLength=o.maxLength+1}i=e.call(this,r,o)||this;i.annotationType=r.fiscalType;const c=s.dateFormats[i.annotationType];if(c){i.formatter=t.getDateInstance({format:c,calendarType:a.Gregorian})}return i}m(s,e);var i=s.prototype;i.getPattern=function a(){return this.formatter?.getPattern()};i.formatValue=function a(t,r){return this.formatter?this.formatter.format(e.prototype.formatValue.call(this,t,r)):e.prototype.formatValue.call(this,t,r)};i.parseValue=function a(t,r){return this.formatter?this.formatter.parse(e.prototype.parseValue.call(this,t,r)):e.prototype.parseValue.call(this,t,r)};i.validateValue=function a(t){try{e.prototype.validateValue.call(this,t)}catch(a){if(!this.formatter){throw a}if(!this.formatter.validate(t)){throw new o(this.getErrorMessage(this.annotationType))}}if(!this.formatter||t===""||t===null){return}if(!this.formatter.validate(t)){throw new o(this.getErrorMessage(this.annotationType))}};i.getErrorMessage=function a(e){let t="";this.fullYear=this.fullYear||(new Date).getFullYear().toString();switch(e){case"com.sap.vocabularies.Common.v1.IsFiscalYear":t=this.fullYear;break;case"com.sap.vocabularies.Common.v1.IsFiscalPeriod":t="001";break;case"com.sap.vocabularies.Common.v1.IsFiscalYearPeriod":t=this.fullYear+"001";break;case"com.sap.vocabularies.Common.v1.IsFiscalQuarter":t="1";break;case"com.sap.vocabularies.Common.v1.IsFiscalYearQuarter":t=this.fullYear+"1";break;case"com.sap.vocabularies.Common.v1.IsFiscalWeek":t="01";break;case"com.sap.vocabularies.Common.v1.IsFiscalYearWeek":t=this.fullYear+"01";break;case"com.sap.vocabularies.Common.v1.IsDayOfFiscalYear":t="1";break;case"com.sap.vocabularies.Common.v1.IsFiscalYearVariant":break;default:t=this.fullYear}return r.getResourceBundleFor("sap.fe.core").getText("FISCAL_VALIDATION_FAILS",[this.formatValue(t,"string")])};i.getName=function a(){return"sap.fe.core.type.FiscalDate"};i.getFormatter=function a(){return this.formatter};return s}(s),l.dateFormats={["com.sap.vocabularies.Common.v1.IsFiscalYear"]:"YYYY",["com.sap.vocabularies.Common.v1.IsFiscalPeriod"]:"PPP",["com.sap.vocabularies.Common.v1.IsFiscalYearPeriod"]:"YYYYPPP",["com.sap.vocabularies.Common.v1.IsFiscalQuarter"]:"Q",["com.sap.vocabularies.Common.v1.IsFiscalYearQuarter"]:"YYYYQ",["com.sap.vocabularies.Common.v1.IsFiscalWeek"]:"WW",["com.sap.vocabularies.Common.v1.IsFiscalYearWeek"]:"YYYYWW",["com.sap.vocabularies.Common.v1.IsDayOfFiscalYear"]:"d",["com.sap.vocabularies.Common.v1.IsFiscalYearVariant"]:""},l))||c);return p},false);
//# sourceMappingURL=FiscalDate.js.map