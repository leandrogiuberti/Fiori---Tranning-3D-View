{"version":3,"file":"CommonHelper.js","names":["Categories","SupportLib","Severity","Audiences","_exports","getSeverity","oSeverity","IssueSeverity","Low","High","Medium","getIssueByCategory","oIssueManager","oCoreFacade","issueCategoryType","issueSubCategoryType","mComponents","getComponents","oAppComponent","Object","keys","forEach","sKey","oComponent","getMetadata","getParent","getName","aIssues","getDiagnostics","getIssuesByCategory","IssueCategory","oElement","addIssue","severity","details","context","id","category"],"sources":["./CommonHelper.ts"],"sourcesContent":["/**\n * Defines support rules of the ObjectPageHeader control of sap.uxap library.\n */\nimport type AppComponent from \"sap/fe/core/AppComponent\";\nimport { IssueCategory, IssueSeverity } from \"sap/fe/core/converters/helpers/IssueManager\";\nimport type { IssueDefinition } from \"sap/fe/core/support/Diagnostics\";\nimport type Component from \"sap/ui/core/Component\";\nimport SupportLib from \"sap/ui/support/library\";\nexport type IssueManagerFacade = {\n\taddIssue(\n\t\t/**\n\t\t * Issue object to be added\n\t\t */\n\t\toIssue: {\n\t\t\tseverity: SupportLib.Severity;\n\n\t\t\tdetails: string;\n\n\t\t\tcontext: {\n\t\t\t\tid: string;\n\t\t\t};\n\t\t}\n\t): void;\n};\nexport type CoreFacade = {\n\tgetComponents(): Record<string, Component>;\n};\nexport type DiagnosticRule = {\n\tid: string;\n\ttitle: string;\n\tminversion: string;\n\taudiences: SupportLib.Audiences[];\n\tcategories: SupportLib.Categories[];\n\tdescription: string;\n\tresolution: string;\n\tresolutionurls?: {\n\t\ttext: string;\n\t\thref: string;\n\t}[];\n\tcheck: (oIssueManager: IssueManagerFacade, oCoreFacade: CoreFacade) => void;\n};\nexport const Categories = SupportLib.Categories, // Accessibility, Performance, Memory, ...\n\tSeverity = SupportLib.Severity, // Hint, Warning, Error\n\tAudiences = SupportLib.Audiences; // Control, Internal, Application\n\n//**********************************************************\n// Rule Definitions\n//**********************************************************\n\n// Rule checks if objectPage componentContainer height is set\n\nexport const getSeverity = function (oSeverity: IssueSeverity): SupportLib.Severity {\n\tswitch (oSeverity) {\n\t\tcase IssueSeverity.Low:\n\t\t\treturn Severity.Low;\n\t\tcase IssueSeverity.High:\n\t\t\treturn Severity.High;\n\t\tcase IssueSeverity.Medium:\n\t\t\treturn Severity.Medium;\n\t\t// no default\n\t}\n};\n\nexport const getIssueByCategory = function (\n\toIssueManager: IssueManagerFacade,\n\toCoreFacade: CoreFacade /*oScope: any*/,\n\tissueCategoryType: IssueCategory,\n\tissueSubCategoryType?: string\n): void {\n\tconst mComponents = oCoreFacade.getComponents();\n\tlet oAppComponent!: AppComponent;\n\tObject.keys(mComponents).forEach((sKey) => {\n\t\tconst oComponent = mComponents[sKey];\n\t\tif (oComponent?.getMetadata()?.getParent()?.getName() === \"sap.fe.core.AppComponent\") {\n\t\t\toAppComponent = oComponent as AppComponent;\n\t\t}\n\t});\n\tif (oAppComponent) {\n\t\tconst aIssues = oAppComponent.getDiagnostics().getIssuesByCategory(IssueCategory[issueCategoryType], issueSubCategoryType);\n\n\t\taIssues.forEach(function (oElement: IssueDefinition) {\n\t\t\toIssueManager.addIssue({\n\t\t\t\tseverity: getSeverity(oElement.severity),\n\t\t\t\tdetails: oElement.details,\n\t\t\t\tcontext: {\n\t\t\t\t\tid: oElement.category\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t}\n};\n"],"mappings":";;;;uKAyCO,MAAMA,EAAaC,EAAWD,WACpCE,EAAWD,EAAWC,SACtBC,EAAYF,EAAWE,UAMxBC,EAAAJ,aAAAI,EAAAD,YAAAC,EAAAF,WAEO,MAAMG,EAAc,SAAUC,GACpC,OAAQA,GACP,KAAKC,EAAcC,IAClB,OAAON,EAASM,IACjB,KAAKD,EAAcE,KAClB,OAAOP,EAASO,KACjB,KAAKF,EAAcG,OAClB,OAAOR,EAASQ,OAGnB,EAAEN,EAAAC,cAEK,MAAMM,EAAqB,SACjCC,EACAC,EACAC,EACAC,GAEA,MAAMC,EAAcH,EAAYI,gBAChC,IAAIC,EACJC,OAAOC,KAAKJ,GAAaK,QAASC,IACjC,MAAMC,EAAaP,EAAYM,GAC/B,GAAIC,GAAYC,eAAeC,aAAaC,YAAc,2BAA4B,CACrFR,EAAgBK,CACjB,IAED,GAAIL,EAAe,CAClB,MAAMS,EAAUT,EAAcU,iBAAiBC,oBAAoBC,EAAchB,GAAoBC,GAErGY,EAAQN,QAAQ,SAAUU,GACzBnB,EAAcoB,SAAS,CACtBC,SAAU5B,EAAY0B,EAASE,UAC/BC,QAASH,EAASG,QAClBC,QAAS,CACRC,GAAIL,EAASM,WAGhB,EACD,CACD,EAAEjC,EAAAO,qBAAA,OAAAP,CAAA","ignoreList":[]}