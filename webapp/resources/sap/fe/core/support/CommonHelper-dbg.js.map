{"version":3,"names":["Categories","SupportLib","Severity","Audiences","_exports","getSeverity","oSeverity","IssueSeverity","Low","High","Medium","getIssueByCategory","oIssueManager","oCoreFacade","issueCategoryType","issueSubCategoryType","mComponents","getComponents","oAppComponent","Object","keys","forEach","sKey","oComponent","getMetadata","getParent","getName","aIssues","getDiagnostics","getIssuesByCategory","IssueCategory","oElement","addIssue","severity","details","context","id","category"],"sourceRoot":".","sources":["CommonHelper.ts"],"sourcesContent":["/**\n * Defines support rules of the ObjectPageHeader control of sap.uxap library.\n */\nimport type AppComponent from \"sap/fe/core/AppComponent\";\nimport { IssueCategory, IssueSeverity } from \"sap/fe/core/converters/helpers/IssueManager\";\nimport type { IssueDefinition } from \"sap/fe/core/support/Diagnostics\";\nimport type Component from \"sap/ui/core/Component\";\nimport SupportLib from \"sap/ui/support/library\";\nexport type IssueManagerFacade = {\n\taddIssue(\n\t\t/**\n\t\t * Issue object to be added\n\t\t */\n\t\toIssue: {\n\t\t\tseverity: SupportLib.Severity;\n\n\t\t\tdetails: string;\n\n\t\t\tcontext: {\n\t\t\t\tid: string;\n\t\t\t};\n\t\t}\n\t): void;\n};\nexport type CoreFacade = {\n\tgetComponents(): Record<string, Component>;\n};\nexport type DiagnosticRule = {\n\tid: string;\n\ttitle: string;\n\tminversion: string;\n\taudiences: SupportLib.Audiences[];\n\tcategories: SupportLib.Categories[];\n\tdescription: string;\n\tresolution: string;\n\tresolutionurls?: {\n\t\ttext: string;\n\t\thref: string;\n\t}[];\n\tcheck: (oIssueManager: IssueManagerFacade, oCoreFacade: CoreFacade) => void;\n};\nexport const Categories = SupportLib.Categories, // Accessibility, Performance, Memory, ...\n\tSeverity = SupportLib.Severity, // Hint, Warning, Error\n\tAudiences = SupportLib.Audiences; // Control, Internal, Application\n\n//**********************************************************\n// Rule Definitions\n//**********************************************************\n\n// Rule checks if objectPage componentContainer height is set\n\nexport const getSeverity = function (oSeverity: IssueSeverity): SupportLib.Severity {\n\tswitch (oSeverity) {\n\t\tcase IssueSeverity.Low:\n\t\t\treturn Severity.Low;\n\t\tcase IssueSeverity.High:\n\t\t\treturn Severity.High;\n\t\tcase IssueSeverity.Medium:\n\t\t\treturn Severity.Medium;\n\t\t// no default\n\t}\n};\n\nexport const getIssueByCategory = function (\n\toIssueManager: IssueManagerFacade,\n\toCoreFacade: CoreFacade /*oScope: any*/,\n\tissueCategoryType: IssueCategory,\n\tissueSubCategoryType?: string\n): void {\n\tconst mComponents = oCoreFacade.getComponents();\n\tlet oAppComponent!: AppComponent;\n\tObject.keys(mComponents).forEach((sKey) => {\n\t\tconst oComponent = mComponents[sKey];\n\t\tif (oComponent?.getMetadata()?.getParent()?.getName() === \"sap.fe.core.AppComponent\") {\n\t\t\toAppComponent = oComponent as AppComponent;\n\t\t}\n\t});\n\tif (oAppComponent) {\n\t\tconst aIssues = oAppComponent.getDiagnostics().getIssuesByCategory(IssueCategory[issueCategoryType], issueSubCategoryType);\n\n\t\taIssues.forEach(function (oElement: IssueDefinition) {\n\t\t\toIssueManager.addIssue({\n\t\t\t\tseverity: getSeverity(oElement.severity),\n\t\t\t\tdetails: oElement.details,\n\t\t\t\tcontext: {\n\t\t\t\t\tid: oElement.category\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t}\n};\n"],"mappings":";;;;;;;;;;EAAA;AACA;AACA;EAuCO,MAAMA,UAAU,GAAGC,UAAU,CAACD,UAAU;IAAE;IAChDE,QAAQ,GAAGD,UAAU,CAACC,QAAQ;IAAE;IAChCC,SAAS,GAAGF,UAAU,CAACE,SAAS,CAAC,CAAC;;EAEnC;EACA;EACA;;EAEA;EAAAC,QAAA,CAAAJ,UAAA,GAAAA,UAAA;EAAAI,QAAA,CAAAD,SAAA,GAAAA,SAAA;EAAAC,QAAA,CAAAF,QAAA,GAAAA,QAAA;EAEO,MAAMG,WAAW,GAAG,SAAAA,CAAUC,SAAwB,EAAuB;IACnF,QAAQA,SAAS;MAChB,KAAKC,aAAa,CAACC,GAAG;QACrB,OAAON,QAAQ,CAACM,GAAG;MACpB,KAAKD,aAAa,CAACE,IAAI;QACtB,OAAOP,QAAQ,CAACO,IAAI;MACrB,KAAKF,aAAa,CAACG,MAAM;QACxB,OAAOR,QAAQ,CAACQ,MAAM;MACvB;IACD;EACD,CAAC;EAACN,QAAA,CAAAC,WAAA,GAAAA,WAAA;EAEK,MAAMM,kBAAkB,GAAG,SAAAA,CACjCC,aAAiC,EACjCC,WAAuB,EACvBC,iBAAgC,EAChCC,oBAA6B,EACtB;IACP,MAAMC,WAAW,GAAGH,WAAW,CAACI,aAAa,CAAC,CAAC;IAC/C,IAAIC,aAA4B;IAChCC,MAAM,CAACC,IAAI,CAACJ,WAAW,CAAC,CAACK,OAAO,CAAEC,IAAI,IAAK;MAC1C,MAAMC,UAAU,GAAGP,WAAW,CAACM,IAAI,CAAC;MACpC,IAAIC,UAAU,EAAEC,WAAW,CAAC,CAAC,EAAEC,SAAS,CAAC,CAAC,EAAEC,OAAO,CAAC,CAAC,KAAK,0BAA0B,EAAE;QACrFR,aAAa,GAAGK,UAA0B;MAC3C;IACD,CAAC,CAAC;IACF,IAAIL,aAAa,EAAE;MAClB,MAAMS,OAAO,GAAGT,aAAa,CAACU,cAAc,CAAC,CAAC,CAACC,mBAAmB,CAACC,aAAa,CAAChB,iBAAiB,CAAC,EAAEC,oBAAoB,CAAC;MAE1HY,OAAO,CAACN,OAAO,CAAC,UAAUU,QAAyB,EAAE;QACpDnB,aAAa,CAACoB,QAAQ,CAAC;UACtBC,QAAQ,EAAE5B,WAAW,CAAC0B,QAAQ,CAACE,QAAQ,CAAC;UACxCC,OAAO,EAAEH,QAAQ,CAACG,OAAO;UACzBC,OAAO,EAAE;YACRC,EAAE,EAAEL,QAAQ,CAACM;UACd;QACD,CAAC,CAAC;MACH,CAAC,CAAC;IACH;EACD,CAAC;EAACjC,QAAA,CAAAO,kBAAA,GAAAA,kBAAA;EAAA,OAAAP,QAAA;AAAA","ignoreList":[],"file":"CommonHelper-dbg.js"}