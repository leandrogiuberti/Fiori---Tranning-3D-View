/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.define(["sap/base/Log","sap/fe/base/ClassSupport","sap/fe/core/CommonUtils","sap/fe/core/fpm/Component","sap/ui/core/Component"],function(e,t,n,i,o){"use strict";var r,a,s,c,l,u,p;var f=t.property;var h=t.event;var g=t.defineUI5Class;function d(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function b(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,m(e,t)}function m(e,t){return m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},m(e,t)}function v(e,t,n,i,o){var r={};return Object.keys(i).forEach(function(e){r[e]=i[e]}),r.enumerable=!!r.enumerable,r.configurable=!!r.configurable,("value"in r||r.initializer)&&(r.writable=!0),r=n.slice().reverse().reduce(function(n,i){return i(e,t,n)||n},r),o&&void 0!==r.initializer&&(r.value=r.initializer?r.initializer.call(o):void 0,r.initializer=void 0),void 0===r.initializer?(Object.defineProperty(e,t,r),null):r}function w(e,t){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let C=(r=g("sap.fe.core.ReuseComponent"),a=f({type:"object"}),s=h(),r(c=(l=function(t){function i(){var e;for(var n=arguments.length,i=new Array(n),o=0;o<n;o++){i[o]=arguments[o]}e=t.call(this,...i)||this;d(e,"override",u,e);d(e,"initialized",p,e);e.hooksApplied=false;return e}b(i,t);var r=i.prototype;r.setContainer=function e(n){t.prototype.setContainer.call(this,n);this.container=n;const i=this.getRouter();if(i){i.initialize()}return this};r.applyHooks=function t(){if(this.hooksApplied||!this.container){return}const n=this.getPageComponent().getRootController();if(!n){return}for(const t in this.override){const i=this.override[t];const o=n[t];if(!o){e.error(`The controller extension ${t} does not exist in the page controller.`);continue}for(const r in i){const a=o[`attach${String(r)}`];if(!a){e.error(`The hook ${r} does not exist in the page controller extension ${t}.`);continue}const s=i[r];a(s);n.getView().attachBeforeExit(()=>{this.hooksApplied=false;o[`detach${String(r)}`](s)})}}this.hooksApplied=true;this.fireEvent("initialized")};r.createContent=async function e(){this.attachModelContextChange(this.applyHooks.bind(this));return new Promise(e=>{this.rootControlCreated=e})};r.setAggregation=function e(n,i,o){if(n==="rootControl"){const e=i;this.rootControlCreated(e)}return t.prototype.setAggregation.call(this,n,i,o)};r.getContextPath=function e(){const t=this.contextPath;if(t?.startsWith("/")){return t}else{const e=n.getCurrentPageView(this.getAppComponent());const i=e.getViewData().contextPath||"/"+e.getViewData().entitySet;if(t){return i+"/"+t}else{return i}}};r.getViewName=function e(){const t=this.getManifestEntry("sap.ui5").rootView?.viewName;if(!t&&!this.viewName){throw new Error("No root view defined in the manifest nor viewName set in the component")}return t||this.viewName};r.getPageComponent=function e(){const t=this.container?.getParent();if(!t){throw new Error("The parent of the reuse component is not yet set. Thus, the page component cannot be retrieved.")}return o.getOwnerComponentFor(t)};r.getExtensionAPI=function e(){return this.getPageComponent().getExtensionAPI()};return i}(i),u=v(l.prototype,"override",[a],{configurable:true,enumerable:true,writable:true,initializer:null}),p=v(l.prototype,"initialized",[s],{configurable:true,enumerable:true,writable:true,initializer:null}),l))||c);return C},false);
//# sourceMappingURL=ReuseComponent.js.map