{"version":3,"names":["InlineEditService","_Service","_this","_len","arguments","length","args","Array","_key","call","pageConfigurations","Map","_exports","_inheritsLoose","_proto","prototype","init","initPromise","Promise","resolve","appComponent","getContext","bind","scopeObject","computePageConfigurations","model","getModel","isA","getMetaModel","requestObject","targets","getManifestEntry","routing","pageKey","pageConfiguration","getPageConfiguration","options","settings","undefined","set","getInlineConnectedProperties","targetProperty","connectedProperties","get","properties","includes","sort","propertyA","propertyB","getAssociatedDataModelObject","metaModel","annotationPath","pageContextPath","pageMetaContext","createBindingContext","replace","targetContext","MetaModelConverter","getInvolvedDataModelObjects","manifestEntry","manifestWrapper","ManifestWrapper","hasInlineEdit","active","enabledProperties","disabledProperties","contextPath","entitySet","getTargetPropertiesForInlineEdit","getInlineEditEnabledFields","getInlineEditDisabledFields","getConnectedPropertiesForPage","getInlineConnectedFields","targetPaths","connectedPropertiesForPage","targetPath","connectedTargets","isArray","push","targetProperties","dataModelObject","targetObject","concat","getPropertiesForInlineEdit","isProperty","fullyQualifiedName","$Type","Value","$target","Target","term","Data","reduce","acc","dataField","doesPageHaveInlineEdit","isPropertyConsideredForInlineEdit","propertyFullyQualifiedName","Service","InlineEditServiceFactory","_ServiceFactory","apply","_proto2","createInstance","oServiceContext","inlineEditService","ServiceFactory"],"sourceRoot":".","sources":["InlineEditServiceFactory.ts"],"sourcesContent":["import type { Property } from \"@sap-ux/vocabularies-types\";\nimport {\n\tUIAnnotationTerms,\n\tUIAnnotationTypes,\n\ttype DataField,\n\ttype DataFieldAbstractTypes,\n\ttype DataFieldForAnnotation,\n\ttype FieldGroup,\n\ttype Identification,\n\ttype LineItem\n} from \"@sap-ux/vocabularies-types/vocabularies/UI\";\nimport { type BaseManifestSettings } from \"sap/fe/core/converters/ManifestSettings\";\nimport ManifestWrapper from \"sap/fe/core/converters/ManifestWrapper\";\nimport * as MetaModelConverter from \"sap/fe/core/converters/MetaModelConverter\";\nimport { isProperty } from \"sap/fe/core/helpers/TypeGuards\";\nimport type { DataModelObjectPath } from \"sap/fe/core/templating/DataModelPathHelper\";\nimport Service from \"sap/ui/core/service/Service\";\nimport ServiceFactory from \"sap/ui/core/service/ServiceFactory\";\nimport type Context from \"sap/ui/model/Context\";\nimport type ODataMetaModel from \"sap/ui/model/odata/v4/ODataMetaModel\";\nimport type ODataModel from \"sap/ui/model/odata/v4/ODataModel\";\nimport type { ServiceContext } from \"types/metamodel_types\";\nimport type AppComponent from \"../AppComponent\";\n\ntype PageConfiguration = {\n\tactive: boolean;\n\tenabledProperties: string[];\n\tdisabledProperties: string[];\n\tconnectedProperties: string[][];\n};\n\nexport class InlineEditService extends Service<InlineEditServiceFactory> {\n\tinitPromise!: Promise<InlineEditService>;\n\n\tprivate appComponent!: AppComponent;\n\n\tpageConfigurations: Map<string, PageConfiguration> = new Map();\n\n\tinit(): void {\n\t\tthis.initPromise = new Promise(async (resolve) => {\n\t\t\tthis.appComponent = super.getContext.bind(this)().scopeObject as AppComponent;\n\t\t\tawait this.computePageConfigurations();\n\t\t\tresolve(this);\n\t\t});\n\t}\n\n\t/**\n\t * Compute the page configurations for inline edit for all the pages in the app.\n\t * @returns A promise that resolves when the page configurations are computed\n\t */\n\tprivate async computePageConfigurations(): Promise<void> {\n\t\tconst model = this.appComponent.getModel();\n\t\tif (model?.isA?.<ODataModel>(\"sap.ui.model.odata.v4.ODataModel\")) {\n\t\t\t// We need to wait for the MetaModel to be requested\n\t\t\tawait model.getMetaModel().requestObject(\"/$EntityContainer/\");\n\t\t\tconst targets = (this.appComponent.getManifestEntry(\"sap.ui5\")?.routing?.targets ?? {}) as unknown as Record<\n\t\t\t\tstring,\n\t\t\t\tPartial<{ options: Partial<{ settings: BaseManifestSettings }> }>\n\t\t\t>;\n\t\t\tfor (const pageKey in targets) {\n\t\t\t\tconst pageConfiguration = this.getPageConfiguration(\n\t\t\t\t\t(targets[pageKey].options?.settings as BaseManifestSettings) || undefined,\n\t\t\t\t\tmodel.getMetaModel()\n\t\t\t\t);\n\t\t\t\tif (pageConfiguration) {\n\t\t\t\t\tthis.pageConfigurations.set(pageKey, pageConfiguration);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Get the connected properties to the given target property.\n\t * @param pageKey\n\t * @param targetProperty\n\t * @returns The connected properties to the given target property\n\t */\n\tpublic getInlineConnectedProperties(pageKey: string, targetProperty: string): string[] | undefined {\n\t\tconst connectedProperties = this.pageConfigurations.get(pageKey)?.connectedProperties;\n\t\tif (!connectedProperties) {\n\t\t\treturn [];\n\t\t}\n\t\tfor (const properties of connectedProperties) {\n\t\t\tif (properties.includes(targetProperty)) {\n\t\t\t\t// sort the properties for the targetProperty to be always in first position. That ensures the focus to be set on this property\n\t\t\t\tproperties.sort((propertyA: string, propertyB: string) => {\n\t\t\t\t\tif (propertyA === targetProperty) return -1;\n\t\t\t\t\tif (propertyB === targetProperty) return 1;\n\t\t\t\t\treturn 0;\n\t\t\t\t});\n\t\t\t\treturn properties;\n\t\t\t}\n\t\t}\n\t\treturn [];\n\t}\n\n\t/**\n\t * Get the data model object associated with the given annotation path.\n\t * @param metaModel\n\t * @param annotationPath\n\t * @param pageContextPath\n\t * @returns The data model object associated with the given annotation path\n\t */\n\tprivate getAssociatedDataModelObject(\n\t\tmetaModel: ODataMetaModel,\n\t\tannotationPath: string,\n\t\tpageContextPath: string\n\t): DataModelObjectPath<unknown> | undefined {\n\t\tconst pageMetaContext = metaModel.createBindingContext(pageContextPath);\n\t\tif (annotationPath.includes(UIAnnotationTerms.FieldGroup)) {\n\t\t\tannotationPath = annotationPath.replace(`@${UIAnnotationTerms.FieldGroup}`, `$Type/@${UIAnnotationTerms.FieldGroup}`);\n\t\t} else if (annotationPath.includes(UIAnnotationTerms.Identification)) {\n\t\t\tannotationPath = annotationPath.replace(`@${UIAnnotationTerms.Identification}`, `$Type/@${UIAnnotationTerms.Identification}`);\n\t\t} else if (annotationPath.includes(UIAnnotationTerms.LineItem)) {\n\t\t\tannotationPath = annotationPath.replace(`@${UIAnnotationTerms.LineItem}`, `$Type/@${UIAnnotationTerms.LineItem}`);\n\t\t}\n\t\tconst targetContext = pageMetaContext ? metaModel.createBindingContext(annotationPath, pageMetaContext) : null;\n\t\treturn targetContext\n\t\t\t? MetaModelConverter.getInvolvedDataModelObjects<unknown>(targetContext, pageMetaContext as Context)\n\t\t\t: undefined;\n\t}\n\n\t/**\n\t * Get the page configuration for the given manifest entry.\n\t * @param manifestEntry\n\t * @param metaModel\n\t * @returns The page configuration\n\t */\n\tprivate getPageConfiguration(manifestEntry: BaseManifestSettings | undefined, metaModel: ODataMetaModel): PageConfiguration | null {\n\t\tif (!manifestEntry) {\n\t\t\treturn null;\n\t\t}\n\t\tconst manifestWrapper = new ManifestWrapper(manifestEntry);\n\t\tif (!manifestWrapper.hasInlineEdit()) {\n\t\t\treturn {\n\t\t\t\tactive: false,\n\t\t\t\tenabledProperties: [],\n\t\t\t\tdisabledProperties: [],\n\t\t\t\tconnectedProperties: []\n\t\t\t};\n\t\t}\n\t\tlet pageContextPath = manifestEntry.contextPath;\n\t\tif (!pageContextPath) {\n\t\t\tpageContextPath = manifestEntry.entitySet ? `/${manifestEntry.entitySet}` : undefined;\n\t\t}\n\t\treturn {\n\t\t\tactive: true,\n\t\t\tenabledProperties: this.getTargetPropertiesForInlineEdit(\n\t\t\t\tmanifestWrapper.getInlineEditEnabledFields(),\n\t\t\t\tpageContextPath,\n\t\t\t\tmetaModel\n\t\t\t),\n\t\t\tdisabledProperties: this.getTargetPropertiesForInlineEdit(\n\t\t\t\tmanifestWrapper.getInlineEditDisabledFields(),\n\t\t\t\tpageContextPath,\n\t\t\t\tmetaModel\n\t\t\t),\n\t\t\tconnectedProperties: this.getConnectedPropertiesForPage(manifestWrapper.getInlineConnectedFields(), pageContextPath, metaModel)\n\t\t};\n\t}\n\n\t/**\n\t * Get the connected properties for a given page .\n\t * @param targetPaths\n\t * @param pageContextPath\n\t * @param metaModel\n\t * @returns The connected properties for the given page\n\t */\n\tprivate getConnectedPropertiesForPage(\n\t\ttargetPaths: (string | string[])[],\n\t\tpageContextPath: string | undefined,\n\t\tmetaModel: ODataMetaModel\n\t): string[][] {\n\t\tconst connectedPropertiesForPage = [];\n\t\tfor (const targetPath of targetPaths) {\n\t\t\tconst connectedTargets = Array.isArray(targetPath) ? targetPath : [targetPath];\n\n\t\t\tconnectedPropertiesForPage.push(this.getTargetPropertiesForInlineEdit(connectedTargets, pageContextPath, metaModel));\n\t\t}\n\t\treturn connectedPropertiesForPage;\n\t}\n\n\t/**\n\t * Get the properties that are considered in edition for the given target paths.\n\t * @param targetPaths\n\t * @param pageContextPath\n\t * @param metaModel\n\t * @returns The properties that are considered in edition for the given target paths\n\t */\n\tprivate getTargetPropertiesForInlineEdit(\n\t\ttargetPaths: string[],\n\t\tpageContextPath: string | undefined,\n\t\tmetaModel: ODataMetaModel\n\t): string[] {\n\t\tif (!pageContextPath) {\n\t\t\treturn [];\n\t\t}\n\t\tlet targetProperties: string[] = [];\n\t\tfor (const targetPath of targetPaths) {\n\t\t\tconst dataModelObject = this.getAssociatedDataModelObject(metaModel, targetPath, pageContextPath);\n\t\t\tif (dataModelObject && dataModelObject.targetObject) {\n\t\t\t\ttargetProperties = targetProperties.concat(InlineEditService.getPropertiesForInlineEdit(dataModelObject.targetObject));\n\t\t\t}\n\t\t}\n\t\treturn targetProperties;\n\t}\n\n\t/**\n\t * Gets the properties that can be edited for the given target object.\n\t * @param targetObject\n\t * @returns The properties that are considered in edition for the given target object\n\t */\n\tprivate static getPropertiesForInlineEdit(targetObject: undefined | Property | Partial<{ $Type: string; term: string }>): string[] {\n\t\tif (!targetObject) {\n\t\t\treturn [];\n\t\t}\n\t\tif (isProperty(targetObject)) {\n\t\t\treturn [targetObject.fullyQualifiedName];\n\t\t}\n\t\tif (targetObject.$Type) {\n\t\t\tswitch (targetObject.$Type) {\n\t\t\t\tcase UIAnnotationTypes.DataField:\n\t\t\t\tcase UIAnnotationTypes.DataFieldWithUrl:\n\t\t\t\tcase UIAnnotationTypes.DataPointType:\n\t\t\t\t\treturn InlineEditService.getPropertiesForInlineEdit((targetObject as DataField).Value?.$target);\n\t\t\t\tcase UIAnnotationTypes.DataFieldForAnnotation:\n\t\t\t\t\treturn InlineEditService.getPropertiesForInlineEdit((targetObject as DataFieldForAnnotation).Target?.$target);\n\t\t\t}\n\t\t}\n\t\tif (targetObject.term) {\n\t\t\tswitch (targetObject.term) {\n\t\t\t\tcase UIAnnotationTerms.FieldGroup:\n\t\t\t\t\treturn (targetObject as FieldGroup).Data.reduce(\n\t\t\t\t\t\t(acc: string[], dataField: DataFieldAbstractTypes) =>\n\t\t\t\t\t\t\tacc.concat(InlineEditService.getPropertiesForInlineEdit(dataField)),\n\t\t\t\t\t\t[]\n\t\t\t\t\t);\n\t\t\t\tcase UIAnnotationTerms.Identification:\n\t\t\t\tcase UIAnnotationTerms.LineItem:\n\t\t\t\t\treturn (targetObject as Identification | LineItem).reduce(\n\t\t\t\t\t\t(acc: string[], dataField: DataFieldAbstractTypes) =>\n\t\t\t\t\t\t\tacc.concat(InlineEditService.getPropertiesForInlineEdit(dataField)),\n\t\t\t\t\t\t[]\n\t\t\t\t\t);\n\t\t\t}\n\t\t}\n\t\treturn [];\n\t}\n\n\t/**\n\t * Check if the given page has inline edit enabled.\n\t * @param pageKey\n\t * @returns Whether the given page has inline edit enabled\n\t */\n\tpublic doesPageHaveInlineEdit(pageKey: string): boolean {\n\t\treturn this.pageConfigurations.get(pageKey)?.active ?? false;\n\t}\n\n\t/**\n\t * Check if the given property is considered for inline edit on the given page.\n\t * @param pageKey\n\t * @param propertyFullyQualifiedName\n\t * @returns Whether the given property is considered for inline edit on the given page\n\t */\n\tpublic isPropertyConsideredForInlineEdit(pageKey: string, propertyFullyQualifiedName: string): boolean {\n\t\tif (propertyFullyQualifiedName === \"\") {\n\t\t\treturn false;\n\t\t}\n\t\tconst pageConfiguration = this.pageConfigurations.get(pageKey);\n\t\tif (pageConfiguration) {\n\t\t\treturn (\n\t\t\t\t(pageConfiguration.enabledProperties.includes(propertyFullyQualifiedName) ||\n\t\t\t\t\tpageConfiguration.enabledProperties.length === 0) &&\n\t\t\t\t!pageConfiguration.disabledProperties.includes(propertyFullyQualifiedName)\n\t\t\t);\n\t\t}\n\t\treturn false;\n\t}\n}\n\nexport default class InlineEditServiceFactory extends ServiceFactory<InlineEditServiceFactory> {\n\tpublic async createInstance(oServiceContext: ServiceContext<InlineEditServiceFactory>): Promise<InlineEditService> {\n\t\tconst inlineEditService = new InlineEditService(oServiceContext);\n\t\treturn inlineEditService.initPromise;\n\t}\n}\n"],"mappings":"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","ignoreList":[],"file":"InlineEditServiceFactory-dbg.js"}