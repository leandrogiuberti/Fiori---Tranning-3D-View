{"version":3,"names":["getProperty","oContext","oInterface","sPath","context","getPath","Error","hasOwnProperty","$kind","oConverterContext","getConverterContext","isPathAnnotationExpression","$target","_exports","getPropertyObjectPath","involvedDataModelObjects","getInvolvedDataModelObjects","targetObject","enhanceDataModelPath","path","isKey","oProperty","PropertyHelper","hasValueHelp","hasDateType","hasValueHelpWithFixedValues","getName","name","getLabel","getPropertyPath","propertyPath","getTargetObjectPath","getRelativePropertyPath"],"sourceRoot":".","sources":["PropertyFormatters.ts"],"sourcesContent":["import type { PathAnnotationExpression, Property } from \"@sap-ux/vocabularies-types\";\nimport { getInvolvedDataModelObjects } from \"sap/fe/core/converters/MetaModelConverter\";\nimport { isPathAnnotationExpression } from \"sap/fe/core/helpers/TypeGuards\";\nimport type { DataModelObjectPath } from \"sap/fe/core/templating/DataModelPathHelper\";\nimport { enhanceDataModelPath, getTargetObjectPath } from \"sap/fe/core/templating/DataModelPathHelper\";\nimport * as PropertyHelper from \"./PropertyHelper\";\nimport type { ComputedAnnotationInterface, MetaModelContext } from \"./UIFormatters\";\nimport { getConverterContext } from \"./UIFormatters\";\n\nexport const getProperty = function (oContext: MetaModelContext, oInterface: ComputedAnnotationInterface): Property {\n\tconst sPath = oInterface.context.getPath();\n\tif (!oContext) {\n\t\tthrow new Error(`Unresolved context path ${sPath}`);\n\t}\n\tif (typeof oContext === \"object\" && oContext.hasOwnProperty(\"$kind\") && oContext.$kind !== \"Property\") {\n\t\tthrow new Error(`Context does not resolve to a Property object but to a ${oContext.$kind}`);\n\t}\n\tlet oConverterContext: Property | PathAnnotationExpression<Property> = getConverterContext(oContext, oInterface) as\n\t\t| Property\n\t\t| PathAnnotationExpression<Property>;\n\tif (isPathAnnotationExpression(oConverterContext)) {\n\t\toConverterContext = oConverterContext.$target!;\n\t}\n\treturn oConverterContext;\n};\n\nexport const getPropertyObjectPath = function (\n\toContext: MetaModelContext | string,\n\toInterface: ComputedAnnotationInterface\n): DataModelObjectPath<Property> {\n\tconst sPath = oInterface.context.getPath();\n\tif (!oContext) {\n\t\tthrow new Error(`Unresolved context path ${sPath}`);\n\t}\n\tif (typeof oContext === \"object\" && oContext.hasOwnProperty(\"$kind\") && oContext.$kind !== \"Property\") {\n\t\tthrow new Error(`Context does not resolve to a Property object but to a ${oContext.$kind}`);\n\t}\n\tlet involvedDataModelObjects = getInvolvedDataModelObjects<Property>(oInterface.context);\n\tif (isPathAnnotationExpression(involvedDataModelObjects.targetObject)) {\n\t\tinvolvedDataModelObjects = enhanceDataModelPath(involvedDataModelObjects, involvedDataModelObjects.targetObject.path);\n\t}\n\treturn involvedDataModelObjects;\n};\n\nexport const isKey = function (oContext: MetaModelContext, oInterface: ComputedAnnotationInterface): boolean {\n\tconst oProperty: Property = getProperty(oContext, oInterface);\n\treturn PropertyHelper.isKey(oProperty);\n};\n\nexport const hasValueHelp = function (oContext: MetaModelContext, oInterface: ComputedAnnotationInterface): boolean {\n\tconst oProperty: Property = getProperty(oContext, oInterface);\n\treturn PropertyHelper.hasValueHelp(oProperty);\n};\n\nexport const hasDateType = function (oContext: MetaModelContext, oInterface: ComputedAnnotationInterface): boolean {\n\tconst oProperty: Property = getProperty(oContext, oInterface);\n\treturn PropertyHelper.hasDateType(oProperty);\n};\n\nexport const hasValueHelpWithFixedValues = function (oContext: MetaModelContext, oInterface: ComputedAnnotationInterface): boolean {\n\tconst oProperty: Property = getProperty(oContext, oInterface);\n\treturn PropertyHelper.hasValueHelpWithFixedValues(oProperty);\n};\n\nexport const getName = function (oContext: MetaModelContext, oInterface: ComputedAnnotationInterface): string {\n\tconst oProperty: Property = getProperty(oContext, oInterface);\n\treturn oProperty.name;\n};\n\nexport const getLabel = function (oContext: MetaModelContext, oInterface: ComputedAnnotationInterface): string {\n\tconst oProperty: Property = getProperty(oContext, oInterface);\n\treturn PropertyHelper.getLabel(oProperty);\n};\n\nexport const getPropertyPath = function (oContext: MetaModelContext, oInterface: ComputedAnnotationInterface): string {\n\tconst propertyPath = getPropertyObjectPath(oContext, oInterface);\n\treturn getTargetObjectPath(propertyPath);\n};\n\nexport const getRelativePropertyPath = function (oContext: MetaModelContext, oInterface: ComputedAnnotationInterface): string {\n\tconst propertyPath = getPropertyObjectPath(oContext, oInterface);\n\treturn getTargetObjectPath(propertyPath, true);\n};\n"],"mappings":"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","ignoreList":[],"file":"PropertyFormatters-dbg.js"}