{"version":3,"file":"PropertyFormatters.js","names":["getProperty","oContext","oInterface","sPath","context","getPath","Error","hasOwnProperty","$kind","oConverterContext","getConverterContext","isPathAnnotationExpression","$target","_exports","getPropertyObjectPath","involvedDataModelObjects","getInvolvedDataModelObjects","targetObject","enhanceDataModelPath","path","isKey","oProperty","PropertyHelper","hasValueHelp","hasDateType","hasValueHelpWithFixedValues","getName","name","getLabel","getPropertyPath","propertyPath","getTargetObjectPath","getRelativePropertyPath"],"sources":["./PropertyFormatters.ts"],"sourcesContent":["import type { PathAnnotationExpression, Property } from \"@sap-ux/vocabularies-types\";\nimport { getInvolvedDataModelObjects } from \"sap/fe/core/converters/MetaModelConverter\";\nimport { isPathAnnotationExpression } from \"sap/fe/core/helpers/TypeGuards\";\nimport type { DataModelObjectPath } from \"sap/fe/core/templating/DataModelPathHelper\";\nimport { enhanceDataModelPath, getTargetObjectPath } from \"sap/fe/core/templating/DataModelPathHelper\";\nimport * as PropertyHelper from \"./PropertyHelper\";\nimport type { ComputedAnnotationInterface, MetaModelContext } from \"./UIFormatters\";\nimport { getConverterContext } from \"./UIFormatters\";\n\nexport const getProperty = function (oContext: MetaModelContext, oInterface: ComputedAnnotationInterface): Property {\n\tconst sPath = oInterface.context.getPath();\n\tif (!oContext) {\n\t\tthrow new Error(`Unresolved context path ${sPath}`);\n\t}\n\tif (typeof oContext === \"object\" && oContext.hasOwnProperty(\"$kind\") && oContext.$kind !== \"Property\") {\n\t\tthrow new Error(`Context does not resolve to a Property object but to a ${oContext.$kind}`);\n\t}\n\tlet oConverterContext: Property | PathAnnotationExpression<Property> = getConverterContext(oContext, oInterface) as\n\t\t| Property\n\t\t| PathAnnotationExpression<Property>;\n\tif (isPathAnnotationExpression(oConverterContext)) {\n\t\toConverterContext = oConverterContext.$target!;\n\t}\n\treturn oConverterContext;\n};\n\nexport const getPropertyObjectPath = function (\n\toContext: MetaModelContext | string,\n\toInterface: ComputedAnnotationInterface\n): DataModelObjectPath<Property> {\n\tconst sPath = oInterface.context.getPath();\n\tif (!oContext) {\n\t\tthrow new Error(`Unresolved context path ${sPath}`);\n\t}\n\tif (typeof oContext === \"object\" && oContext.hasOwnProperty(\"$kind\") && oContext.$kind !== \"Property\") {\n\t\tthrow new Error(`Context does not resolve to a Property object but to a ${oContext.$kind}`);\n\t}\n\tlet involvedDataModelObjects = getInvolvedDataModelObjects<Property>(oInterface.context);\n\tif (isPathAnnotationExpression(involvedDataModelObjects.targetObject)) {\n\t\tinvolvedDataModelObjects = enhanceDataModelPath(involvedDataModelObjects, involvedDataModelObjects.targetObject.path);\n\t}\n\treturn involvedDataModelObjects;\n};\n\nexport const isKey = function (oContext: MetaModelContext, oInterface: ComputedAnnotationInterface): boolean {\n\tconst oProperty: Property = getProperty(oContext, oInterface);\n\treturn PropertyHelper.isKey(oProperty);\n};\n\nexport const hasValueHelp = function (oContext: MetaModelContext, oInterface: ComputedAnnotationInterface): boolean {\n\tconst oProperty: Property = getProperty(oContext, oInterface);\n\treturn PropertyHelper.hasValueHelp(oProperty);\n};\n\nexport const hasDateType = function (oContext: MetaModelContext, oInterface: ComputedAnnotationInterface): boolean {\n\tconst oProperty: Property = getProperty(oContext, oInterface);\n\treturn PropertyHelper.hasDateType(oProperty);\n};\n\nexport const hasValueHelpWithFixedValues = function (oContext: MetaModelContext, oInterface: ComputedAnnotationInterface): boolean {\n\tconst oProperty: Property = getProperty(oContext, oInterface);\n\treturn PropertyHelper.hasValueHelpWithFixedValues(oProperty);\n};\n\nexport const getName = function (oContext: MetaModelContext, oInterface: ComputedAnnotationInterface): string {\n\tconst oProperty: Property = getProperty(oContext, oInterface);\n\treturn oProperty.name;\n};\n\nexport const getLabel = function (oContext: MetaModelContext, oInterface: ComputedAnnotationInterface): string {\n\tconst oProperty: Property = getProperty(oContext, oInterface);\n\treturn PropertyHelper.getLabel(oProperty);\n};\n\nexport const getPropertyPath = function (oContext: MetaModelContext, oInterface: ComputedAnnotationInterface): string {\n\tconst propertyPath = getPropertyObjectPath(oContext, oInterface);\n\treturn getTargetObjectPath(propertyPath);\n};\n\nexport const getRelativePropertyPath = function (oContext: MetaModelContext, oInterface: ComputedAnnotationInterface): string {\n\tconst propertyPath = getPropertyObjectPath(oContext, oInterface);\n\treturn getTargetObjectPath(propertyPath, true);\n};\n"],"mappings":";;;;oXASO,MAAMA,EAAc,SAAUC,EAA4BC,GAChE,MAAMC,EAAQD,EAAWE,QAAQC,UACjC,IAAKJ,EAAU,CACd,MAAM,IAAIK,MAAM,2BAA2BH,IAC5C,CACA,UAAWF,IAAa,UAAYA,EAASM,eAAe,UAAYN,EAASO,QAAU,WAAY,CACtG,MAAM,IAAIF,MAAM,0DAA0DL,EAASO,QACpF,CACA,IAAIC,EAAmEC,EAAoBT,EAAUC,GAGrG,GAAIS,EAA2BF,GAAoB,CAClDA,EAAoBA,EAAkBG,OACvC,CACA,OAAOH,CACR,EAAEI,EAAAb,cAEK,MAAMc,EAAwB,SACpCb,EACAC,GAEA,MAAMC,EAAQD,EAAWE,QAAQC,UACjC,IAAKJ,EAAU,CACd,MAAM,IAAIK,MAAM,2BAA2BH,IAC5C,CACA,UAAWF,IAAa,UAAYA,EAASM,eAAe,UAAYN,EAASO,QAAU,WAAY,CACtG,MAAM,IAAIF,MAAM,0DAA0DL,EAASO,QACpF,CACA,IAAIO,EAA2BC,EAAsCd,EAAWE,SAChF,GAAIO,EAA2BI,EAAyBE,cAAe,CACtEF,EAA2BG,EAAqBH,EAA0BA,EAAyBE,aAAaE,KACjH,CACA,OAAOJ,CACR,EAAEF,EAAAC,wBAEK,MAAMM,EAAQ,SAAUnB,EAA4BC,GAC1D,MAAMmB,EAAsBrB,EAAYC,EAAUC,GAClD,OAAOoB,EAAeF,MAAMC,EAC7B,EAAER,EAAAO,QAEK,MAAMG,EAAe,SAAUtB,EAA4BC,GACjE,MAAMmB,EAAsBrB,EAAYC,EAAUC,GAClD,OAAOoB,EAAeC,aAAaF,EACpC,EAAER,EAAAU,eAEK,MAAMC,EAAc,SAAUvB,EAA4BC,GAChE,MAAMmB,EAAsBrB,EAAYC,EAAUC,GAClD,OAAOoB,EAAeE,YAAYH,EACnC,EAAER,EAAAW,cAEK,MAAMC,EAA8B,SAAUxB,EAA4BC,GAChF,MAAMmB,EAAsBrB,EAAYC,EAAUC,GAClD,OAAOoB,EAAeG,4BAA4BJ,EACnD,EAAER,EAAAY,8BAEK,MAAMC,EAAU,SAAUzB,EAA4BC,GAC5D,MAAMmB,EAAsBrB,EAAYC,EAAUC,GAClD,OAAOmB,EAAUM,IAClB,EAAEd,EAAAa,UAEK,MAAME,EAAW,SAAU3B,EAA4BC,GAC7D,MAAMmB,EAAsBrB,EAAYC,EAAUC,GAClD,OAAOoB,EAAeM,SAASP,EAChC,EAAER,EAAAe,WAEK,MAAMC,EAAkB,SAAU5B,EAA4BC,GACpE,MAAM4B,EAAehB,EAAsBb,EAAUC,GACrD,OAAO6B,EAAoBD,EAC5B,EAAEjB,EAAAgB,kBAEK,MAAMG,EAA0B,SAAU/B,EAA4BC,GAC5E,MAAM4B,EAAehB,EAAsBb,EAAUC,GACrD,OAAO6B,EAAoBD,EAAc,KAC1C,EAAEjB,EAAAmB,0BAAA,OAAAnB,CAAA","ignoreList":[]}