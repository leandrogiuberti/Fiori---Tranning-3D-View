/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.define(["sap/fe/base/BindingToolkit","sap/fe/core/converters/MetaModelConverter","sap/fe/core/helpers/BindingHelper","sap/fe/core/helpers/TypeGuards","sap/fe/core/templating/DataModelPathHelper","sap/fe/core/templating/UIFormatters"],function(t,e,a,o,n,r){"use strict";var i={};var s=r.isVisible;var c=r.getConverterContext;var l=n.getRelativePaths;var u=n.enhanceDataModelPath;var p=o.isProperty;var v=o.isPathAnnotationExpression;var d=o.isAnnotationPath;var f=a.UI;var g=e.getInvolvedDataModelObjects;var h=t.or;var b=t.not;var y=t.ifElse;var m=t.equal;var $=t.constant;var F=t.concat;var I=t.compileExpression;var P=t.and;const T=function(t,e){const a=e.context.getPath();if(!t){throw new Error(`Unresolved context path ${a}`)}if(typeof t==="object"&&t.hasOwnProperty("$kind")&&t.$kind!=="Property"){throw new Error(`Context does not resolve to a DataField object but to a ${t.$kind}`)}let o=c(t,e);if(d(o)||v(o)){o=o.$target}return o};i.getDataField=T;const U=function(t,e){const a=e.context.getPath();if(!t){throw new Error(`Unresolved context path ${a}`)}if(typeof t==="object"&&t.hasOwnProperty("$kind")&&t.$kind!=="Property"){throw new Error(`Context does not resolve to a Property object but to a ${t.$kind}`)}let o=g(e.context);if(o.targetObject&&v(o.targetObject)){o=u(o,o.targetObject.path)}if(o.targetObject&&d(o.targetObject)){o=u(o,o.targetObject.value)}if(a.endsWith("$Path")||a.endsWith("$AnnotationPath")){o=u(o,t)}return o};i.getDataFieldObjectPath=U;const j=function(t,e){const a=T(t,e);return a.$Type==="com.sap.vocabularies.UI.v1.ConnectedFieldsType"};i.isSemanticallyConnectedFields=j;const D=function(t,e){const a=T(t,e);return a.$Type==="com.sap.vocabularies.UI.v1.FieldGroupType"};i.isFieldGroup=D;const O=function(t,e){const a=T(t,e);return a.Value?.$target?.type==="Edm.Boolean"};i.isBooleanFieldGroupItem=O;const x=function(t,e){const a=T(t,e);return a.annotations?.UI?.MultiLineText?.valueOf()===true};i.isMultiLineText=x;const w=/(?:({[^}]+})[^{]*)/g;const E=/{([^}]+)}(.*)/;const k=function(t,e){let a=arguments.length>2&&arguments[2]!==undefined?arguments[2]:true;const o=t.targetObject;const n=o.Template.toString().match(w);if(!n){return""}const r=n.reduce((a,n)=>{const r=n.match(E);if(r&&r.length>1){const n=r[1];const i=o.Data[n];if(i){const o=u(t,i.fullyQualifiedName.replace(t.targetEntityType.fullyQualifiedName,""));o.targetObject=o.targetObject.Value;a.push(e(o,{}));if(r.length>2){a.push($(r[2]))}}}return a},[]);return a?I(F(...r)):F(...r)};i.getLabelForConnectedFields=k;const A=function(t,e){let a;let o;const n=t.targetObject;if(n&&!p(n)){switch(n.$Type){case"com.sap.vocabularies.UI.v1.DataField":case"com.sap.vocabularies.UI.v1.DataFieldWithUrl":case"com.sap.vocabularies.UI.v1.DataFieldWithNavigationPath":case"com.sap.vocabularies.UI.v1.DataFieldWithIntentBasedNavigation":case"com.sap.vocabularies.UI.v1.DataFieldWithAction":case"com.sap.vocabularies.UI.v1.DataPointType":a=n.Value.$target;o=u(t,n.Value.path);break;case"com.sap.vocabularies.UI.v1.DataFieldForAnnotation":if(n?.Target?.$target?.$Type==="com.sap.vocabularies.UI.v1.DataPointType"){a=n.Target.$target?.Value.$target;o=u(t,n.Target.value);o=u(o,n.Target.$target?.Value.path);break}case"com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation":case"com.sap.vocabularies.UI.v1.DataFieldForAction":default:a=undefined}}else if(n&&p(n)){o=u(t,n)}const r=e?.isAnalytics?f.IsExpanded:$(false);const i=e?.isAnalytics?m(f.NodeLevel,0):$(false);return P(...[s(t.targetObject,l(t)),y(!!a,a&&s(a,l(o)),true),h(b(r),i)])};i.generateVisibleExpression=A;return i},false);
//# sourceMappingURL=DataFieldFormatters.js.map