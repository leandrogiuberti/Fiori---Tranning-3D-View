/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.define(["sap/fe/core/helpers/TypeGuards","./DataModelPathHelper"],function(e,t){"use strict";var r={};var n=t.getTargetEntitySetInfo;var i=e.isEntitySet;const o=function(e,t,r){const n={nonSortableProperties:s(e,t,r),nonFilterableProperties:p(e,t,r)};const i={nonSortableProperties:l(e,t,r),nonFilterableProperties:f(e,t,r)};return{nonSortableProperties:Array.from(new Set([...n.nonSortableProperties,...i.nonSortableProperties])),nonFilterableProperties:Array.from(new Set([...n.nonFilterableProperties,...i.nonFilterableProperties]))}};const a=function(e){let t={nonSortableProperties:[],nonFilterableProperties:[]};const r=e.getDataModelObjectPath();const{parentEntitySet:a,targetEntitySet:s,parentNavigationPath:l}=n(r);if(i(s)){return o(s)}else if(a&&i(a)){return o(a,undefined,l)}return t};r.getRestrictionsOnProperties=a;function s(e,t,r){const n=[];e.annotations.Capabilities?.NavigationRestrictions?.RestrictedProperties?.forEach(e=>{if(r&&r!==e?.NavigationProperty?.value){return}if(e?.SortRestrictions?.Sortable===false){const t=e.NavigationProperty.$target;if(t){n.push(...u(t,e,r))}}else{const i=e?.SortRestrictions?.NonSortableProperties?.map(e=>c(e,t,r));if(i?.length){n.push(...i)}}});return n}function l(e,t,r){const n=[];if(e.annotations.Capabilities?.SortRestrictions?.Sortable===false){n.push(...e.entityType.entityProperties.map(e=>e.name))}else{const i=[];e.annotations.Capabilities?.SortRestrictions?.NonSortableProperties?.forEach(e=>{if(r&&!e.value.includes(r)){return}i.push(c(e,t,r))});if(i?.length){n.push(...i)}}return n}function p(e,t,r){const n=[];e.annotations.Capabilities?.NavigationRestrictions?.RestrictedProperties?.forEach(e=>{if(r&&!e?.NavigationProperty?.value.includes(r)){return}if(e?.FilterRestrictions?.Filterable===false){const t=e.NavigationProperty.$target;if(t){n.push(...u(t,e,r))}}else{const i=e?.FilterRestrictions?.NonFilterableProperties?.map(e=>c(e,t,r));if(i?.length){n.push(...i)}}});return n}function u(e,t,r){if(r){if(t?.NavigationProperty?.value!==e.name){const n=t?.NavigationProperty?.value.replace(`${r}/`,"");return e.targetType.entityProperties.map(e=>`${n}/${e.name}`)}else{return e.targetType.entityProperties.map(e=>e.name)}}else{return e.targetType.entityProperties.map(t=>`${e.name}/${t.name}`)}}function c(e,t,r){if(r&&e.value.includes(r)){return e.value.replace(`${r}/`,"")}else if(t&&e.$target?.name){return e.$target?.name}else{return e.value}}function f(e,t,r){const n=[];if(e.annotations.Capabilities?.FilterRestrictions?.Filterable===false){n.push(...e.entityType.entityProperties.map(e=>e.name))}else{const i=[];e.annotations.Capabilities?.FilterRestrictions?.NonFilterableProperties?.forEach(e=>{if(r&&!e.value.includes(r)){return}i.push(c(e,t,r))});if(i?.length){n.push(...i)}}return n}return r},false);
//# sourceMappingURL=EntitySetHelper.js.map