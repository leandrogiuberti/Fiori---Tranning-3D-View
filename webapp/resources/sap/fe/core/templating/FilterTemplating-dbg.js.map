{"version":3,"names":["getIsRequired","converterContext","sPropertyPath","entitySet","getEntitySet","capabilities","isEntitySet","annotations","Capabilities","aRequiredProperties","FilterRestrictions","RequiredProperties","bIsRequired","forEach","oRequiredProperty","value","_exports","isPropertyFilterable","valueListProperty","bNotFilterable","bHidden","entityType","getEntityType","nonFilterableProperties","NonFilterableProperties","properties","entityProperties","property","PropertyPath","name","UI","Hidden","valueOf","length","item","sPropertyName"],"sourceRoot":".","sources":["FilterTemplating.ts"],"sourcesContent":["import type { Property } from \"@sap-ux/vocabularies-types\";\nimport type ConverterContext from \"sap/fe/core/converters/ConverterContext\";\nimport { isEntitySet } from \"sap/fe/core/helpers/TypeGuards\";\n\nexport function getIsRequired(converterContext: ConverterContext, sPropertyPath: string): boolean {\n\tconst entitySet = converterContext.getEntitySet();\n\tlet capabilities;\n\n\tif (isEntitySet(entitySet)) {\n\t\tcapabilities = entitySet.annotations.Capabilities;\n\t}\n\tconst aRequiredProperties = capabilities?.FilterRestrictions?.RequiredProperties;\n\tlet bIsRequired = false;\n\tif (aRequiredProperties) {\n\t\taRequiredProperties.forEach(function (oRequiredProperty) {\n\t\t\tif (sPropertyPath === oRequiredProperty?.value) {\n\t\t\t\tbIsRequired = true;\n\t\t\t}\n\t\t});\n\t}\n\treturn bIsRequired;\n}\n\nexport function isPropertyFilterable(converterContext: ConverterContext, valueListProperty: string): boolean | undefined {\n\tlet bNotFilterable, bHidden;\n\tconst entityType = converterContext.getEntityType();\n\tconst entitySet = converterContext.getEntitySet();\n\tlet capabilities;\n\tif (isEntitySet(entitySet)) {\n\t\tcapabilities = entitySet.annotations.Capabilities;\n\t}\n\tconst nonFilterableProperties = capabilities?.FilterRestrictions?.NonFilterableProperties;\n\tconst properties = entityType.entityProperties;\n\tproperties.forEach((property: Property) => {\n\t\tconst PropertyPath = property.name;\n\t\tif (PropertyPath === valueListProperty) {\n\t\t\tbHidden = property.annotations?.UI?.Hidden?.valueOf();\n\t\t}\n\t});\n\tif (nonFilterableProperties && nonFilterableProperties.length > 0) {\n\t\tfor (const item of nonFilterableProperties) {\n\t\t\tconst sPropertyName = item?.value;\n\t\t\tif (sPropertyName === valueListProperty) {\n\t\t\t\tbNotFilterable = true;\n\t\t\t}\n\t\t}\n\t}\n\treturn bNotFilterable || bHidden;\n}\n"],"mappings":";;;;;;;;;EAIO,SAASA,aAAaA,CAACC,gBAAkC,EAAEC,aAAqB,EAAW;IACjG,MAAMC,SAAS,GAAGF,gBAAgB,CAACG,YAAY,CAAC,CAAC;IACjD,IAAIC,YAAY;IAEhB,IAAIC,WAAW,CAACH,SAAS,CAAC,EAAE;MAC3BE,YAAY,GAAGF,SAAS,CAACI,WAAW,CAACC,YAAY;IAClD;IACA,MAAMC,mBAAmB,GAAGJ,YAAY,EAAEK,kBAAkB,EAAEC,kBAAkB;IAChF,IAAIC,WAAW,GAAG,KAAK;IACvB,IAAIH,mBAAmB,EAAE;MACxBA,mBAAmB,CAACI,OAAO,CAAC,UAAUC,iBAAiB,EAAE;QACxD,IAAIZ,aAAa,KAAKY,iBAAiB,EAAEC,KAAK,EAAE;UAC/CH,WAAW,GAAG,IAAI;QACnB;MACD,CAAC,CAAC;IACH;IACA,OAAOA,WAAW;EACnB;EAACI,QAAA,CAAAhB,aAAA,GAAAA,aAAA;EAEM,SAASiB,oBAAoBA,CAAChB,gBAAkC,EAAEiB,iBAAyB,EAAuB;IACxH,IAAIC,cAAc,EAAEC,OAAO;IAC3B,MAAMC,UAAU,GAAGpB,gBAAgB,CAACqB,aAAa,CAAC,CAAC;IACnD,MAAMnB,SAAS,GAAGF,gBAAgB,CAACG,YAAY,CAAC,CAAC;IACjD,IAAIC,YAAY;IAChB,IAAIC,WAAW,CAACH,SAAS,CAAC,EAAE;MAC3BE,YAAY,GAAGF,SAAS,CAACI,WAAW,CAACC,YAAY;IAClD;IACA,MAAMe,uBAAuB,GAAGlB,YAAY,EAAEK,kBAAkB,EAAEc,uBAAuB;IACzF,MAAMC,UAAU,GAAGJ,UAAU,CAACK,gBAAgB;IAC9CD,UAAU,CAACZ,OAAO,CAAEc,QAAkB,IAAK;MAC1C,MAAMC,YAAY,GAAGD,QAAQ,CAACE,IAAI;MAClC,IAAID,YAAY,KAAKV,iBAAiB,EAAE;QACvCE,OAAO,GAAGO,QAAQ,CAACpB,WAAW,EAAEuB,EAAE,EAAEC,MAAM,EAAEC,OAAO,CAAC,CAAC;MACtD;IACD,CAAC,CAAC;IACF,IAAIT,uBAAuB,IAAIA,uBAAuB,CAACU,MAAM,GAAG,CAAC,EAAE;MAClE,KAAK,MAAMC,IAAI,IAAIX,uBAAuB,EAAE;QAC3C,MAAMY,aAAa,GAAGD,IAAI,EAAEnB,KAAK;QACjC,IAAIoB,aAAa,KAAKjB,iBAAiB,EAAE;UACxCC,cAAc,GAAG,IAAI;QACtB;MACD;IACD;IACA,OAAOA,cAAc,IAAIC,OAAO;EACjC;EAACJ,QAAA,CAAAC,oBAAA,GAAAA,oBAAA;EAAA,OAAAD,QAAA;AAAA","ignoreList":[],"file":"FilterTemplating-dbg.js"}