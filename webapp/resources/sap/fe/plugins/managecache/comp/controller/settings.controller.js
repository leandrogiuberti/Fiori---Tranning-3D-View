/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.define(["sap/m/MessageToast", "sap/ui/core/cache/CacheManager", "sap/ui/core/mvc/Controller", "sap/ui/model/resource/ResourceModel"], function (MessageToast, CacheManager, Controller, i18nModel) {
  "use strict";

  function _inheritsLoose(t, o) { t.prototype = Object.create(o.prototype), t.prototype.constructor = t, _setPrototypeOf(t, o); }
  function _setPrototypeOf(t, e) { return _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) { return t.__proto__ = e, t; }, _setPrototypeOf(t, e); }
  let RequestSettingsController = /*#__PURE__*/function (_Controller) {
    function RequestSettingsController() {
      return _Controller.apply(this, arguments) || this;
    }
    _inheritsLoose(RequestSettingsController, _Controller);
    var _proto = RequestSettingsController.prototype;
    _proto.onInit = function onInit() {
      this.viewInstance = this.getView();
    };
    _proto.onSave = function onSave(period) {
      const internalModel = this.viewInstance?.getModel();
      internalModel.setProperty("/oldperiod", period);
    };
    _proto.onCancel = function onCancel() {
      const internalModel = this.viewInstance?.getModel();
      const oldPeriod = internalModel.getProperty("/oldperiod");
      if (oldPeriod) {
        internalModel.setProperty("/period", oldPeriod);
      }
    };
    _proto.onChange = function onChange(event) {
      const internalModel = this.viewInstance?.getModel();
      const period = event.getParameter("value");
      internalModel.setProperty("/period", period);
    };
    _proto.onCleanup = function onCleanup() {
      // Remove all optimistic batch entries via cache manager
      CacheManager.delWithFilters();
      const i18n = new i18nModel({
        bundleName: "sap.fe.plugins.managecache.comp.i18n.messagebundle"
      });
      const successToast = i18n.getResourceBundle().getText("M_CLEANUP_SUCCESS");
      MessageToast.show(successToast);
    };
    return RequestSettingsController;
  }(Controller);
  return RequestSettingsController;
}, false);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJSZXF1ZXN0U2V0dGluZ3NDb250cm9sbGVyIiwiX0NvbnRyb2xsZXIiLCJhcHBseSIsImFyZ3VtZW50cyIsIl9pbmhlcml0c0xvb3NlIiwiX3Byb3RvIiwicHJvdG90eXBlIiwib25Jbml0Iiwidmlld0luc3RhbmNlIiwiZ2V0VmlldyIsIm9uU2F2ZSIsInBlcmlvZCIsImludGVybmFsTW9kZWwiLCJnZXRNb2RlbCIsInNldFByb3BlcnR5Iiwib25DYW5jZWwiLCJvbGRQZXJpb2QiLCJnZXRQcm9wZXJ0eSIsIm9uQ2hhbmdlIiwiZXZlbnQiLCJnZXRQYXJhbWV0ZXIiLCJvbkNsZWFudXAiLCJDYWNoZU1hbmFnZXIiLCJkZWxXaXRoRmlsdGVycyIsImkxOG4iLCJpMThuTW9kZWwiLCJidW5kbGVOYW1lIiwic3VjY2Vzc1RvYXN0IiwiZ2V0UmVzb3VyY2VCdW5kbGUiLCJnZXRUZXh0IiwiTWVzc2FnZVRvYXN0Iiwic2hvdyIsIkNvbnRyb2xsZXIiXSwic291cmNlUm9vdCI6Ii4iLCJzb3VyY2VzIjpbInNldHRpbmdzLmNvbnRyb2xsZXIudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHR5cGUgUmVzb3VyY2VCdW5kbGUgZnJvbSBcInNhcC9iYXNlL2kxOG4vUmVzb3VyY2VCdW5kbGVcIjtcbmltcG9ydCBNZXNzYWdlVG9hc3QgZnJvbSBcInNhcC9tL01lc3NhZ2VUb2FzdFwiO1xuaW1wb3J0IHR5cGUgRXZlbnQgZnJvbSBcInNhcC91aS9iYXNlL0V2ZW50XCI7XG5pbXBvcnQgQ2FjaGVNYW5hZ2VyIGZyb20gXCJzYXAvdWkvY29yZS9jYWNoZS9DYWNoZU1hbmFnZXJcIjtcbmltcG9ydCBDb250cm9sbGVyIGZyb20gXCJzYXAvdWkvY29yZS9tdmMvQ29udHJvbGxlclwiO1xuaW1wb3J0IHR5cGUgVmlldyBmcm9tIFwic2FwL3VpL2NvcmUvbXZjL1ZpZXdcIjtcbmltcG9ydCB0eXBlIEpTT05Nb2RlbCBmcm9tIFwic2FwL3VpL21vZGVsL2pzb24vSlNPTk1vZGVsXCI7XG5pbXBvcnQgaTE4bk1vZGVsIGZyb20gXCJzYXAvdWkvbW9kZWwvcmVzb3VyY2UvUmVzb3VyY2VNb2RlbFwiO1xuXG5jbGFzcyBSZXF1ZXN0U2V0dGluZ3NDb250cm9sbGVyIGV4dGVuZHMgQ29udHJvbGxlciB7XG5cdHZpZXdJbnN0YW5jZSE6IFZpZXcgfCB1bmRlZmluZWQ7XG5cblx0b25Jbml0KCk6IHZvaWQge1xuXHRcdHRoaXMudmlld0luc3RhbmNlID0gdGhpcy5nZXRWaWV3KCk7XG5cdH1cblxuXHRvblNhdmUocGVyaW9kOiBudW1iZXIpOiB2b2lkIHtcblx0XHRjb25zdCBpbnRlcm5hbE1vZGVsID0gdGhpcy52aWV3SW5zdGFuY2U/LmdldE1vZGVsKCkgYXMgSlNPTk1vZGVsO1xuXHRcdGludGVybmFsTW9kZWwuc2V0UHJvcGVydHkoXCIvb2xkcGVyaW9kXCIsIHBlcmlvZCk7XG5cdH1cblxuXHRvbkNhbmNlbCgpOiB2b2lkIHtcblx0XHRjb25zdCBpbnRlcm5hbE1vZGVsID0gdGhpcy52aWV3SW5zdGFuY2U/LmdldE1vZGVsKCkgYXMgSlNPTk1vZGVsO1xuXHRcdGNvbnN0IG9sZFBlcmlvZCA9IGludGVybmFsTW9kZWwuZ2V0UHJvcGVydHkoXCIvb2xkcGVyaW9kXCIpIGFzIG51bWJlcjtcblx0XHRpZiAob2xkUGVyaW9kKSB7XG5cdFx0XHRpbnRlcm5hbE1vZGVsLnNldFByb3BlcnR5KFwiL3BlcmlvZFwiLCBvbGRQZXJpb2QpO1xuXHRcdH1cblx0fVxuXG5cdG9uQ2hhbmdlKGV2ZW50OiBFdmVudDx7IHZhbHVlOiBzdHJpbmcgfT4pOiB2b2lkIHtcblx0XHRjb25zdCBpbnRlcm5hbE1vZGVsID0gdGhpcy52aWV3SW5zdGFuY2U/LmdldE1vZGVsKCkgYXMgSlNPTk1vZGVsO1xuXHRcdGNvbnN0IHBlcmlvZCA9IGV2ZW50LmdldFBhcmFtZXRlcihcInZhbHVlXCIpO1xuXHRcdGludGVybmFsTW9kZWwuc2V0UHJvcGVydHkoXCIvcGVyaW9kXCIsIHBlcmlvZCk7XG5cdH1cblxuXHRvbkNsZWFudXAoKTogdm9pZCB7XG5cdFx0Ly8gUmVtb3ZlIGFsbCBvcHRpbWlzdGljIGJhdGNoIGVudHJpZXMgdmlhIGNhY2hlIG1hbmFnZXJcblx0XHRDYWNoZU1hbmFnZXIuZGVsV2l0aEZpbHRlcnMoKTtcblx0XHRjb25zdCBpMThuID0gbmV3IGkxOG5Nb2RlbCh7IGJ1bmRsZU5hbWU6IFwic2FwLmZlLnBsdWdpbnMubWFuYWdlY2FjaGUuY29tcC5pMThuLm1lc3NhZ2VidW5kbGVcIiB9KTtcblx0XHRjb25zdCBzdWNjZXNzVG9hc3QgPSAoaTE4bi5nZXRSZXNvdXJjZUJ1bmRsZSgpIGFzIFJlc291cmNlQnVuZGxlKS5nZXRUZXh0KFwiTV9DTEVBTlVQX1NVQ0NFU1NcIik7XG5cdFx0TWVzc2FnZVRvYXN0LnNob3coc3VjY2Vzc1RvYXN0KTtcblx0fVxufVxuZXhwb3J0IGRlZmF1bHQgUmVxdWVzdFNldHRpbmdzQ29udHJvbGxlcjtcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O01BU01BLHlCQUF5QiwwQkFBQUMsV0FBQTtJQUFBLFNBQUFELDBCQUFBO01BQUEsT0FBQUMsV0FBQSxDQUFBQyxLQUFBLE9BQUFDLFNBQUE7SUFBQTtJQUFBQyxjQUFBLENBQUFKLHlCQUFBLEVBQUFDLFdBQUE7SUFBQSxJQUFBSSxNQUFBLEdBQUFMLHlCQUFBLENBQUFNLFNBQUE7SUFBQUQsTUFBQSxDQUc5QkUsTUFBTSxHQUFOLFNBQUFBLE1BQU1BLENBQUEsRUFBUztNQUNkLElBQUksQ0FBQ0MsWUFBWSxHQUFHLElBQUksQ0FBQ0MsT0FBTyxDQUFDLENBQUM7SUFDbkMsQ0FBQztJQUFBSixNQUFBLENBRURLLE1BQU0sR0FBTixTQUFBQSxNQUFNQSxDQUFDQyxNQUFjLEVBQVE7TUFDNUIsTUFBTUMsYUFBYSxHQUFHLElBQUksQ0FBQ0osWUFBWSxFQUFFSyxRQUFRLENBQUMsQ0FBYztNQUNoRUQsYUFBYSxDQUFDRSxXQUFXLENBQUMsWUFBWSxFQUFFSCxNQUFNLENBQUM7SUFDaEQsQ0FBQztJQUFBTixNQUFBLENBRURVLFFBQVEsR0FBUixTQUFBQSxRQUFRQSxDQUFBLEVBQVM7TUFDaEIsTUFBTUgsYUFBYSxHQUFHLElBQUksQ0FBQ0osWUFBWSxFQUFFSyxRQUFRLENBQUMsQ0FBYztNQUNoRSxNQUFNRyxTQUFTLEdBQUdKLGFBQWEsQ0FBQ0ssV0FBVyxDQUFDLFlBQVksQ0FBVztNQUNuRSxJQUFJRCxTQUFTLEVBQUU7UUFDZEosYUFBYSxDQUFDRSxXQUFXLENBQUMsU0FBUyxFQUFFRSxTQUFTLENBQUM7TUFDaEQ7SUFDRCxDQUFDO0lBQUFYLE1BQUEsQ0FFRGEsUUFBUSxHQUFSLFNBQUFBLFFBQVFBLENBQUNDLEtBQStCLEVBQVE7TUFDL0MsTUFBTVAsYUFBYSxHQUFHLElBQUksQ0FBQ0osWUFBWSxFQUFFSyxRQUFRLENBQUMsQ0FBYztNQUNoRSxNQUFNRixNQUFNLEdBQUdRLEtBQUssQ0FBQ0MsWUFBWSxDQUFDLE9BQU8sQ0FBQztNQUMxQ1IsYUFBYSxDQUFDRSxXQUFXLENBQUMsU0FBUyxFQUFFSCxNQUFNLENBQUM7SUFDN0MsQ0FBQztJQUFBTixNQUFBLENBRURnQixTQUFTLEdBQVQsU0FBQUEsU0FBU0EsQ0FBQSxFQUFTO01BQ2pCO01BQ0FDLFlBQVksQ0FBQ0MsY0FBYyxDQUFDLENBQUM7TUFDN0IsTUFBTUMsSUFBSSxHQUFHLElBQUlDLFNBQVMsQ0FBQztRQUFFQyxVQUFVLEVBQUU7TUFBcUQsQ0FBQyxDQUFDO01BQ2hHLE1BQU1DLFlBQVksR0FBSUgsSUFBSSxDQUFDSSxpQkFBaUIsQ0FBQyxDQUFDLENBQW9CQyxPQUFPLENBQUMsbUJBQW1CLENBQUM7TUFDOUZDLFlBQVksQ0FBQ0MsSUFBSSxDQUFDSixZQUFZLENBQUM7SUFDaEMsQ0FBQztJQUFBLE9BQUEzQix5QkFBQTtFQUFBLEVBaENzQ2dDLFVBQVU7RUFBQSxPQWtDbkNoQyx5QkFBeUI7QUFBQSIsImlnbm9yZUxpc3QiOltdfQ==