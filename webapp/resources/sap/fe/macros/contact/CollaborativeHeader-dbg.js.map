{"version":3,"names":["CollaborativeHeader","_dec","defineUI5Class","_dec2","property","type","isBindingInfo","_dec3","_dec4","_dec5","_dec6","defaultValue","_class","_class2","_BuildingBlock","properties","others","_this","call","_initializerDefineProperty","_descriptor","_descriptor2","_descriptor3","_descriptor4","_descriptor5","_exports","_inheritsLoose","_proto","prototype","onMetadataAvailable","createContent","addProfileStatus","mail","appComponent","getAppComponent","contactStatus","getCollaborativeToolsService","getTeamContactStatus","chatContactOption","getTeamContactOption","forEach","element","key","avatar","data","setBadgeIcon","badgeIcon","setBadgeValueState","badgeValueState","setTooltip","badgeTooltip","setBadgeTooltip","FESRHelper","setSemanticStepname","fesrStepName","setMail","_jsx","Avatar","src","photoSrc","displaySize","displayShape","isNaturalPerson","AvatarShape","Circle","Square","class","header","_jsxs","HBox","children","VBox","Title","text","fullName","level","wrapping","Text","role","content","BuildingBlock","_applyDecoratedDescriptor","configurable","enumerable","writable","initializer"],"sourceRoot":".","sources":["CollaborativeHeader.tsx"],"sourcesContent":["import { defineUI5Class, property, type PropertiesOf } from \"sap/fe/base/ClassSupport\";\nimport BuildingBlock from \"sap/fe/core/buildingBlocks/BuildingBlock\";\nimport Avatar from \"sap/m/Avatar\";\nimport AvatarShape from \"sap/m/AvatarShape\";\nimport HBox from \"sap/m/HBox\";\nimport Text from \"sap/m/Text\";\nimport Title from \"sap/m/Title\";\nimport VBox from \"sap/m/VBox\";\nimport type { $ControlSettings } from \"sap/ui/core/Control\";\nimport FESRHelper from \"sap/ui/performance/trace/FESRHelper\";\n\n@defineUI5Class(\"sap.fe.macros.contact.CollaborativeHeader\")\nexport default class CollaborativeHeader extends BuildingBlock<HBox> {\n\t@property({ type: \"string\", isBindingInfo: true })\n\tfullName: string | undefined;\n\n\t@property({ type: \"string\", isBindingInfo: true })\n\trole: string | undefined;\n\n\t@property({ type: \"string\", isBindingInfo: true })\n\tphotoSrc: string | undefined;\n\n\t@property({ type: \"string\" })\n\tmail: string | undefined;\n\n\t@property({ type: \"boolean\", defaultValue: false })\n\tisNaturalPerson!: boolean;\n\n\tavatar: Avatar | undefined;\n\n\tconstructor(properties: $ControlSettings & PropertiesOf<CollaborativeHeader>, others?: $ControlSettings) {\n\t\tsuper(properties, others);\n\t}\n\n\t/**\n\t * Handler for the onMetadataAvailable event.\n\t */\n\tonMetadataAvailable(): void {\n\t\tthis.createContent();\n\t}\n\n\t/**\n\t * Retrieve the profile status from the collaborative tools service.\n\t * @param mail\n\t */\n\tasync addProfileStatus(mail: string): Promise<void> {\n\t\tconst appComponent = this.getAppComponent();\n\t\tif (appComponent) {\n\t\t\tconst contactStatus = await appComponent.getCollaborativeToolsService().getTeamContactStatus(mail);\n\t\t\tconst chatContactOption = await appComponent.getCollaborativeToolsService().getTeamContactOption(\"chat\");\n\t\t\t// The badge info used for contact status on the Avatar is shown directly without waiting for a click event\n\t\t\tif (contactStatus && chatContactOption) {\n\t\t\t\tcontactStatus.forEach((element) => {\n\t\t\t\t\tif (element.key === \"profileStatus\") {\n\t\t\t\t\t\t// add custom data to be used by teams helper to trigger collaboration\n\t\t\t\t\t\tif (this.avatar) {\n\t\t\t\t\t\t\tthis.avatar.data(\"type\", chatContactOption.key);\n\t\t\t\t\t\t\tthis.avatar.data(\"email\", this.mail);\n\t\t\t\t\t\t\tthis.avatar.setBadgeIcon(element.badgeIcon);\n\t\t\t\t\t\t\tthis.avatar.setBadgeValueState(element.badgeValueState);\n\t\t\t\t\t\t\tthis.avatar.setTooltip(element.badgeTooltip);\n\t\t\t\t\t\t\tthis.avatar.setBadgeTooltip(element.badgeTooltip);\n\t\t\t\t\t\t\tFESRHelper.setSemanticStepname(this.avatar, \"press\", chatContactOption.fesrStepName);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Setter for the mail that additionally adds the status to the header.\n\t * @param mail\n\t */\n\tsetMail(mail: string): void {\n\t\tthis.mail = mail;\n\t\tthis.addProfileStatus(mail);\n\t}\n\n\t/**\n\t * Create the content.\n\t */\n\tcreateContent(): void {\n\t\tthis.avatar = (\n\t\t\t<Avatar\n\t\t\t\tsrc={this.photoSrc}\n\t\t\t\tdisplaySize=\"M\"\n\t\t\t\tdisplayShape={this.isNaturalPerson ? AvatarShape.Circle : AvatarShape.Square}\n\t\t\t\tclass=\"sapUiTinyMarginEnd\"\n\t\t\t/>\n\t\t);\n\t\tconst header = (\n\t\t\t<HBox>\n\t\t\t\t{this.avatar}\n\t\t\t\t<VBox class=\"sapUiTinyMarginBegin\">\n\t\t\t\t\t<Title text={this.fullName} level=\"H3\" wrapping=\"true\" />\n\t\t\t\t\t<Text text={this.role} />\n\t\t\t\t</VBox>\n\t\t\t</HBox>\n\t\t);\n\t\tthis.content = header;\n\t}\n}\n"],"mappings":"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","ignoreList":[],"file":"CollaborativeHeader-dbg.js"}