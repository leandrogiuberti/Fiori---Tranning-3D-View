{"version":3,"file":"Contact.js","names":["Contact","_dec","defineUI5Class","_dec2","association","type","_dec3","property","required","_dec4","_dec5","_dec6","_class","_class2","_BuildingBlock","properties","others","_this","call","this","_initializerDefineProperty","_descriptor","_descriptor2","_descriptor3","_descriptor4","_descriptor5","_exports","_inheritsLoose","_proto","prototype","onMetadataAvailable","content","createContent","getEnabled","id","_flexId","idPrefix","generate","undefined","contactDataModelObjectPath","getDataModelObjectForMetaPath","metaPath","contextPath","isNaturalPerson","targetEntityType","annotations","Common","IsNaturalPerson","valueOf","value","getExpressionFromAnnotation","targetObject","fn","getRelativePaths","delegateConfiguration","name","payload","contact","mail","getMsTeamsMail","_jsx","MdcField","delegate","editMode","width","showEmptyIndicator","compileExpression","multipleLines","children","fieldInfo","MdcLink","enablePersonalization","getValue","BuildingBlock","_applyDecoratedDescriptor","configurable","enumerable","writable","initializer"],"sources":["./Contact.tsx"],"sourcesContent":["import type { ContactType } from \"@sap-ux/vocabularies-types/vocabularies/Communication\";\nimport { compileExpression, getExpressionFromAnnotation } from \"sap/fe/base/BindingToolkit\";\nimport { association, defineUI5Class, property, type PropertiesOf } from \"sap/fe/base/ClassSupport\";\nimport BuildingBlock from \"sap/fe/core/buildingBlocks/BuildingBlock\";\nimport { generate } from \"sap/fe/core/helpers/StableIdHelper\";\nimport { getRelativePaths } from \"sap/fe/core/templating/DataModelPathHelper\";\nimport { getMsTeamsMail } from \"sap/fe/macros/contact/ContactHelper\";\nimport type Control from \"sap/ui/core/Control\";\nimport type { $ControlSettings } from \"sap/ui/core/Control\";\nimport MdcField from \"sap/ui/mdc/Field\";\nimport MdcLink from \"sap/ui/mdc/Link\";\n\n@defineUI5Class(\"sap.fe.macros.contact.Contact\")\nexport default class Contact extends BuildingBlock<Control> {\n\t/**\n\t * Prefix added to the generated ID of the field\n\t */\n\t@association({\n\t\ttype: \"string\"\n\t})\n\tpublic idPrefix?: string;\n\n\t/**\n\t * Metadata path to the dataPoint.\n\t */\n\t@property({\n\t\ttype: \"string\",\n\t\trequired: true\n\t})\n\tpublic metaPath!: string;\n\n\t@property({\n\t\ttype: \"string\"\n\t})\n\tpublic contextPath?: string;\n\n\t@property({\n\t\ttype: \"boolean\"\n\t})\n\tpublic showEmptyIndicator?: boolean;\n\n\t@association({\n\t\ttype: \"string\"\n\t})\n\tpublic _flexId?: string;\n\n\tconstructor(properties: $ControlSettings & PropertiesOf<Contact>, others?: $ControlSettings) {\n\t\tsuper(properties, others);\n\t}\n\n\t/**\n\t * Handler for the onMetadataAvailable event.\n\t */\n\tonMetadataAvailable(): void {\n\t\tif (!this.content) {\n\t\t\tconst content = this.createContent();\n\t\t\tif (content) {\n\t\t\t\tthis.content = content;\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Gets the current enablement state of the contact.\n\t * @returns Boolean value with the enablement state\n\t */\n\tgetEnabled(): boolean {\n\t\treturn true;\n\t}\n\n\tcreateContent(): MdcField | null {\n\t\tlet id;\n\t\tif (this._flexId) {\n\t\t\t//in case a flex id is given, take this one\n\t\t\tid = this._flexId;\n\t\t} else {\n\t\t\t//alternatively check for idPrefix and generate an appropriate id\n\t\t\tid = this.idPrefix ? generate([this.idPrefix, \"Field-content\"]) : undefined;\n\t\t}\n\t\tconst contactDataModelObjectPath = this.getDataModelObjectForMetaPath<ContactType>(this.metaPath, this.contextPath);\n\t\tif (!contactDataModelObjectPath) {\n\t\t\treturn null;\n\t\t}\n\t\tconst isNaturalPerson = !!contactDataModelObjectPath.targetEntityType?.annotations?.Common?.IsNaturalPerson?.valueOf();\n\t\tconst value = getExpressionFromAnnotation(\n\t\t\tcontactDataModelObjectPath.targetObject?.fn,\n\t\t\tgetRelativePaths(contactDataModelObjectPath)\n\t\t);\n\n\t\tconst delegateConfiguration = {\n\t\t\tname: \"sap/fe/macros/contact/ContactDelegate\",\n\t\t\tpayload: {\n\t\t\t\tcontact: this.metaPath,\n\t\t\t\tmail: getMsTeamsMail(contactDataModelObjectPath),\n\t\t\t\tisNaturalPerson: isNaturalPerson\n\t\t\t}\n\t\t};\n\n\t\treturn (\n\t\t\t<MdcField\n\t\t\t\tdelegate={{ name: \"sap/fe/macros/field/FieldBaseDelegate\" }}\n\t\t\t\tid={id}\n\t\t\t\teditMode=\"Display\"\n\t\t\t\twidth=\"100%\"\n\t\t\t\tshowEmptyIndicator={this.showEmptyIndicator}\n\t\t\t\tvalue={compileExpression(value)}\n\t\t\t\tmultipleLines={true}\n\t\t\t>\n\t\t\t\t{{\n\t\t\t\t\tfieldInfo: <MdcLink enablePersonalization=\"false\" delegate={delegateConfiguration} />\n\t\t\t\t}}\n\t\t\t</MdcField>\n\t\t);\n\t}\n\n\t/**\n\t * Retrieves the current value of the datapoint.\n\t * @returns The current value of the datapoint\n\t */\n\tgetValue(): boolean | string | undefined {\n\t\treturn (this.content as MdcField | undefined)?.getValue();\n\t}\n}\n"],"mappings":";;;;igDAaqBA,GAAOC,EAD3BC,EAAe,iCAAgCC,EAK9CC,EAAY,CACZC,KAAM,WACLC,EAMDC,EAAS,CACTF,KAAM,SACNG,SAAU,OACTC,EAGDF,EAAS,CACTF,KAAM,WACLK,EAGDH,EAAS,CACTF,KAAM,YACLM,EAGDP,EAAY,CACZC,KAAM,WACLJ,EAAAW,GAAAC,EAAA,SAAAC,GAGF,SAAAd,EAAYe,EAAsDC,GAA2B,IAAAC,EAC5FA,EAAAH,EAAAI,KAAAC,KAAMJ,EAAYC,IAAOG,KAjC1BC,EAAAH,EAAA,WAAAI,EAAAJ,GAQAG,EAAAH,EAAA,WAAAK,EAAAL,GAAAG,EAAAH,EAAA,cAAAM,EAAAN,GAAAG,EAAAH,EAAA,qBAAAO,EAAAP,GAAAG,EAAAH,EAAA,UAAAQ,EAAAR,GAAA,OAAAA,CA0BA,CAEAS,EAAA1B,EAAA2B,EAAA3B,EAAAc,GAAA,IAAAc,EAAA5B,EAAA6B,UAAAD,EAGAE,oBAAA,SAAAA,IACC,IAAKX,KAAKY,QAAS,CAClB,MAAMA,EAAUZ,KAAKa,gBACrB,GAAID,EAAS,CACZZ,KAAKY,QAAUA,CAChB,CACD,CACD,EAEAH,EAIAK,WAAA,SAAAA,IACC,OAAO,IACR,EAACL,EAEDI,cAAA,SAAAA,IACC,IAAIE,EACJ,GAAIf,KAAKgB,QAAS,CAEjBD,EAAKf,KAAKgB,OACX,KAAO,CAEND,EAAKf,KAAKiB,SAAWC,EAAS,CAAClB,KAAKiB,SAAU,kBAAoBE,SACnE,CACA,MAAMC,EAA6BpB,KAAKqB,8BAA2CrB,KAAKsB,SAAUtB,KAAKuB,aACvG,IAAKH,EAA4B,CAChC,OAAO,IACR,CACA,MAAMI,IAAoBJ,EAA2BK,kBAAkBC,aAAaC,QAAQC,iBAAiBC,UAC7G,MAAMC,EAAQC,EACbX,EAA2BY,cAAcC,GACzCC,EAAiBd,IAGlB,MAAMe,EAAwB,CAC7BC,KAAM,wCACNC,QAAS,CACRC,QAAStC,KAAKsB,SACdiB,KAAMC,EAAepB,GACrBI,gBAAiBA,IAInB,OACCiB,EAACC,EAAQ,CACRC,SAAU,CAAEP,KAAM,yCAClBrB,GAAIA,EACJ6B,SAAS,UACTC,MAAM,OACNC,mBAAoB9C,KAAK8C,mBACzBhB,MAAOiB,EAAkBjB,GACzBkB,cAAe,KAAKC,SAEnB,CACAC,UAAWT,EAACU,EAAO,CAACC,sBAAsB,QAAQT,SAAUR,MAIhE,EAEA1B,EAIA4C,SAAA,SAAAA,IACC,OAAQrD,KAAKY,SAAkCyC,UAChD,EAAC,OAAAxE,CAAA,CA9EC,CA9BkCyE,GAAapD,EAAAqD,EAAA7D,EAAAgB,UAAA,YAAA1B,GAAA,CAAAwE,aAAA,KAAAC,WAAA,KAAAC,SAAA,KAAAC,YAAA,OAAAxD,EAAAoD,EAAA7D,EAAAgB,UAAA,YAAAvB,GAAA,CAAAqE,aAAA,KAAAC,WAAA,KAAAC,SAAA,KAAAC,YAAA,OAAAvD,EAAAmD,EAAA7D,EAAAgB,UAAA,eAAApB,GAAA,CAAAkE,aAAA,KAAAC,WAAA,KAAAC,SAAA,KAAAC,YAAA,OAAAtD,EAAAkD,EAAA7D,EAAAgB,UAAA,sBAAAnB,GAAA,CAAAiE,aAAA,KAAAC,WAAA,KAAAC,SAAA,KAAAC,YAAA,OAAArD,EAAAiD,EAAA7D,EAAAgB,UAAA,WAAAlB,GAAA,CAAAgE,aAAA,KAAAC,WAAA,KAAAC,SAAA,KAAAC,YAAA,OAAAjE,KAAAD,GAAAc,EAAA1B,EAAA,OAAA0B,CAAA","ignoreList":[]}