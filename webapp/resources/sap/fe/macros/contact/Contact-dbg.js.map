{"version":3,"names":["Contact","_dec","defineUI5Class","_dec2","association","type","_dec3","property","required","_dec4","_dec5","_dec6","_class","_class2","_BuildingBlock","properties","others","_this","call","_initializerDefineProperty","_descriptor","_descriptor2","_descriptor3","_descriptor4","_descriptor5","_exports","_inheritsLoose","_proto","prototype","onMetadataAvailable","content","createContent","getEnabled","id","_flexId","idPrefix","generate","undefined","contactDataModelObjectPath","getDataModelObjectForMetaPath","metaPath","contextPath","isNaturalPerson","targetEntityType","annotations","Common","IsNaturalPerson","valueOf","value","getExpressionFromAnnotation","targetObject","fn","getRelativePaths","delegateConfiguration","name","payload","contact","mail","getMsTeamsMail","_jsx","MdcField","delegate","editMode","width","showEmptyIndicator","compileExpression","multipleLines","children","fieldInfo","MdcLink","enablePersonalization","getValue","BuildingBlock","_applyDecoratedDescriptor","configurable","enumerable","writable","initializer"],"sourceRoot":".","sources":["Contact.tsx"],"sourcesContent":["import type { ContactType } from \"@sap-ux/vocabularies-types/vocabularies/Communication\";\nimport { compileExpression, getExpressionFromAnnotation } from \"sap/fe/base/BindingToolkit\";\nimport { association, defineUI5Class, property, type PropertiesOf } from \"sap/fe/base/ClassSupport\";\nimport BuildingBlock from \"sap/fe/core/buildingBlocks/BuildingBlock\";\nimport { generate } from \"sap/fe/core/helpers/StableIdHelper\";\nimport { getRelativePaths } from \"sap/fe/core/templating/DataModelPathHelper\";\nimport { getMsTeamsMail } from \"sap/fe/macros/contact/ContactHelper\";\nimport type Control from \"sap/ui/core/Control\";\nimport type { $ControlSettings } from \"sap/ui/core/Control\";\nimport MdcField from \"sap/ui/mdc/Field\";\nimport MdcLink from \"sap/ui/mdc/Link\";\n\n@defineUI5Class(\"sap.fe.macros.contact.Contact\")\nexport default class Contact extends BuildingBlock<Control> {\n\t/**\n\t * Prefix added to the generated ID of the field\n\t */\n\t@association({\n\t\ttype: \"string\"\n\t})\n\tpublic idPrefix?: string;\n\n\t/**\n\t * Metadata path to the dataPoint.\n\t */\n\t@property({\n\t\ttype: \"string\",\n\t\trequired: true\n\t})\n\tpublic metaPath!: string;\n\n\t@property({\n\t\ttype: \"string\"\n\t})\n\tpublic contextPath?: string;\n\n\t@property({\n\t\ttype: \"boolean\"\n\t})\n\tpublic showEmptyIndicator?: boolean;\n\n\t@association({\n\t\ttype: \"string\"\n\t})\n\tpublic _flexId?: string;\n\n\tconstructor(properties: $ControlSettings & PropertiesOf<Contact>, others?: $ControlSettings) {\n\t\tsuper(properties, others);\n\t}\n\n\t/**\n\t * Handler for the onMetadataAvailable event.\n\t */\n\tonMetadataAvailable(): void {\n\t\tif (!this.content) {\n\t\t\tconst content = this.createContent();\n\t\t\tif (content) {\n\t\t\t\tthis.content = content;\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Gets the current enablement state of the contact.\n\t * @returns Boolean value with the enablement state\n\t */\n\tgetEnabled(): boolean {\n\t\treturn true;\n\t}\n\n\tcreateContent(): MdcField | null {\n\t\tlet id;\n\t\tif (this._flexId) {\n\t\t\t//in case a flex id is given, take this one\n\t\t\tid = this._flexId;\n\t\t} else {\n\t\t\t//alternatively check for idPrefix and generate an appropriate id\n\t\t\tid = this.idPrefix ? generate([this.idPrefix, \"Field-content\"]) : undefined;\n\t\t}\n\t\tconst contactDataModelObjectPath = this.getDataModelObjectForMetaPath<ContactType>(this.metaPath, this.contextPath);\n\t\tif (!contactDataModelObjectPath) {\n\t\t\treturn null;\n\t\t}\n\t\tconst isNaturalPerson = !!contactDataModelObjectPath.targetEntityType?.annotations?.Common?.IsNaturalPerson?.valueOf();\n\t\tconst value = getExpressionFromAnnotation(\n\t\t\tcontactDataModelObjectPath.targetObject?.fn,\n\t\t\tgetRelativePaths(contactDataModelObjectPath)\n\t\t);\n\n\t\tconst delegateConfiguration = {\n\t\t\tname: \"sap/fe/macros/contact/ContactDelegate\",\n\t\t\tpayload: {\n\t\t\t\tcontact: this.metaPath,\n\t\t\t\tmail: getMsTeamsMail(contactDataModelObjectPath),\n\t\t\t\tisNaturalPerson: isNaturalPerson\n\t\t\t}\n\t\t};\n\n\t\treturn (\n\t\t\t<MdcField\n\t\t\t\tdelegate={{ name: \"sap/fe/macros/field/FieldBaseDelegate\" }}\n\t\t\t\tid={id}\n\t\t\t\teditMode=\"Display\"\n\t\t\t\twidth=\"100%\"\n\t\t\t\tshowEmptyIndicator={this.showEmptyIndicator}\n\t\t\t\tvalue={compileExpression(value)}\n\t\t\t\tmultipleLines={true}\n\t\t\t>\n\t\t\t\t{{\n\t\t\t\t\tfieldInfo: <MdcLink enablePersonalization=\"false\" delegate={delegateConfiguration} />\n\t\t\t\t}}\n\t\t\t</MdcField>\n\t\t);\n\t}\n\n\t/**\n\t * Retrieves the current value of the datapoint.\n\t * @returns The current value of the datapoint\n\t */\n\tgetValue(): boolean | string | undefined {\n\t\treturn (this.content as MdcField | undefined)?.getValue();\n\t}\n}\n"],"mappings":"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","ignoreList":[],"file":"Contact-dbg.js"}