/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.define(["sap/fe/core/CommonUtils","sap/ui/core/Fragment","sap/ui/core/util/XMLPreprocessor","sap/ui/core/XMLTemplateProcessor","sap/ui/mdc/enums/LinkType","sap/ui/mdc/LinkDelegate","sap/ui/model/json/JSONModel"],function(e,t,n,o,i,a,s){"use strict";return Object.assign({},a,{_fnTemplateFragment:async function(i,a,c){const r="sap.fe.macros.contact.ContactQuickView";const d=e.getTargetView(c);const g=e.getAppComponent(d);const l={bindingContexts:{},models:{},appComponent:g};const u=a.createBindingContext(i.contact);const p=new s(i);if(i.contact&&u){l.bindingContexts={contact:u,payload:p.createBindingContext("/")};l.models={contact:a,payload:p}}const m=o.loadTemplate(r,"fragment");const f=d.getController().getOwnerComponent();const C=await n.process(m,{name:r},l);return f.runAsOwner(async()=>t.load({definition:C,controller:d.getController()}))},fetchAdditionalContent:async function(e){const t=e.getPayload();const n=t.navigationPath?.match(/{(.*?)}/);const o=e.getBindingContext()?.getBinding();const i=o?.isA("sap.ui.model.odata.v4.ODataListBinding")?o.getAggregation():undefined;const a=i!==undefined&&!i.hierarchyQualifier;let s=n&&n.length>1&&n[1]?e.getModel().bindContext(n[1],e.getBindingContext(),{$$ownRequest:true}):null;if(a&&!s){s=e.getModel().bindContext("",e.getBindingContext(),{$$ownRequest:true})}if(e.isA("sap.ui.mdc.Link")){const n=e.getModel().getMetaModel();const o=await this._fnTemplateFragment(t,n,e);if(s){o.setBindingContext(s.getBoundContext())}return[o]}return Promise.resolve([])},fetchLinkType:async function(){return Promise.resolve({initialType:{type:i.Popover,directLink:undefined},runtimeType:undefined})}})},false);
//# sourceMappingURL=ContactDelegate.js.map