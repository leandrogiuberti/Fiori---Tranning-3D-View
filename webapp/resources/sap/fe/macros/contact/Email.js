/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.define(["sap/fe/base/BindingToolkit","sap/fe/base/ClassSupport","sap/fe/core/buildingBlocks/BuildingBlock","sap/m/Link","sap/m/library","sap/fe/base/jsx-runtime/jsx"],function(e,t,i,n,r,a){"use strict";var o,l,s,u,c,p,b,f,d,v,y,m,g;var h={};var k=t.property;var z=t.defineUI5Class;var E=e.constant;function j(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function w(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,C(e,t)}function C(e,t){return C=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},C(e,t)}function M(e,t,i,n,r){var a={};return Object.keys(n).forEach(function(e){a[e]=n[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce(function(i,n){return n(e,t,i)||i},a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer?(Object.defineProperty(e,t,a),null):a}function P(e,t){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let O=(o=z("sap.fe.macros.contact.Email"),l=k({type:"any",isBindingInfo:true}),s=k({type:"any",isBindingInfo:true}),u=k({type:"boolean"}),c=k({type:"string"}),p=k({type:"string"}),o(b=(f=function(e){function t(t,i){var n;n=e.call(this,t,i)||this;j(n,"visible",d,n);j(n,"text",v,n);j(n,"linkEnabled",y,n);j(n,"mail",m,n);j(n,"emptyIndicatorMode",g,n);if(n.visible===undefined||typeof n.visible==="object"&&Object.keys(n.visible).length===0){n.visible=E(true)}if(!n.linkEnabled)n.linkEnabled=true;return n}h=t;w(t,e);var i=t.prototype;i.isTeamsConnectionActive=async function e(){const t=this.getAppComponent();if(t){return t.getCollaborativeToolsService().isContactsCollaborationSupported()}else{return false}};i.getMailPopoverFromMsTeamsIntegration=function e(t){const i=this.getAppComponent();if(i){return i.getCollaborativeToolsService().getMailPopoverFromMsTeamsIntegration(t)}else{return undefined}};i.setLinkEnabled=function e(t){this.linkEnabled=t;this.content?.setEnabled(t)};i.onMetadataAvailable=function e(){if(!this.content){if(this.visible===undefined||typeof this.visible==="object"&&Object.keys(this.visible).length===0){this.visible=E(true)}if(!this.linkEnabled)this.linkEnabled=true;this.content=this.createContent()}};i.openPopover=async function e(t){t.preventDefault();let i=false;const n=t.getSource();const a=n.getParent();if(await this.isTeamsConnectionActive()){if(a.mail){const e=await this.getMailPopoverFromMsTeamsIntegration(a.mail);if(e){e.openBy(n)}else{i=true}}}else{i=true}if(i){r.URLHelper.redirect(`mailto:${a.mail}`)}};i.getValue=function e(){return this.content?.getText()};i.setValue=function e(t){this.setProperty("text",t);this.content?.setText(t);return this};i.createContent=function e(){return a(n,{visible:this.visible,text:this.text,enabled:this.linkEnabled,emptyIndicatorMode:this.emptyIndicatorMode,class:"sapMTextRenderWhitespaceWrap",press:async e=>this.openPopover(e),ariaLabelledBy:this.ariaLabelledBy,wrapping:true})};return t}(i),d=M(f.prototype,"visible",[l],{configurable:true,enumerable:true,writable:true,initializer:function(){return E(true)}}),v=M(f.prototype,"text",[s],{configurable:true,enumerable:true,writable:true,initializer:null}),y=M(f.prototype,"linkEnabled",[u],{configurable:true,enumerable:true,writable:true,initializer:function(){return true}}),m=M(f.prototype,"mail",[c],{configurable:true,enumerable:true,writable:true,initializer:null}),g=M(f.prototype,"emptyIndicatorMode",[p],{configurable:true,enumerable:true,writable:true,initializer:function(){return"Off"}}),f))||b);h=O;return h},false);
//# sourceMappingURL=Email.js.map