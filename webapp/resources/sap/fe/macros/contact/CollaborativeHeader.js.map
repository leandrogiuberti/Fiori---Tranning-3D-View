{"version":3,"file":"CollaborativeHeader.js","names":["CollaborativeHeader","_dec","defineUI5Class","_dec2","property","type","isBindingInfo","_dec3","_dec4","_dec5","_dec6","defaultValue","_class","_class2","_BuildingBlock","properties","others","_this","call","this","_initializerDefineProperty","_descriptor","_descriptor2","_descriptor3","_descriptor4","_descriptor5","_exports","_inheritsLoose","_proto","prototype","onMetadataAvailable","createContent","addProfileStatus","async","mail","appComponent","getAppComponent","contactStatus","getCollaborativeToolsService","getTeamContactStatus","chatContactOption","getTeamContactOption","forEach","element","key","avatar","data","setBadgeIcon","badgeIcon","setBadgeValueState","badgeValueState","setTooltip","badgeTooltip","setBadgeTooltip","FESRHelper","setSemanticStepname","fesrStepName","setMail","_jsx","Avatar","src","photoSrc","displaySize","displayShape","isNaturalPerson","AvatarShape","Circle","Square","class","header","_jsxs","HBox","children","VBox","Title","text","fullName","level","wrapping","Text","role","content","BuildingBlock","_applyDecoratedDescriptor","configurable","enumerable","writable","initializer"],"sources":["./CollaborativeHeader.tsx"],"sourcesContent":["import { defineUI5Class, property, type PropertiesOf } from \"sap/fe/base/ClassSupport\";\nimport BuildingBlock from \"sap/fe/core/buildingBlocks/BuildingBlock\";\nimport Avatar from \"sap/m/Avatar\";\nimport AvatarShape from \"sap/m/AvatarShape\";\nimport HBox from \"sap/m/HBox\";\nimport Text from \"sap/m/Text\";\nimport Title from \"sap/m/Title\";\nimport VBox from \"sap/m/VBox\";\nimport type { $ControlSettings } from \"sap/ui/core/Control\";\nimport FESRHelper from \"sap/ui/performance/trace/FESRHelper\";\n\n@defineUI5Class(\"sap.fe.macros.contact.CollaborativeHeader\")\nexport default class CollaborativeHeader extends BuildingBlock<HBox> {\n\t@property({ type: \"string\", isBindingInfo: true })\n\tfullName: string | undefined;\n\n\t@property({ type: \"string\", isBindingInfo: true })\n\trole: string | undefined;\n\n\t@property({ type: \"string\", isBindingInfo: true })\n\tphotoSrc: string | undefined;\n\n\t@property({ type: \"string\" })\n\tmail: string | undefined;\n\n\t@property({ type: \"boolean\", defaultValue: false })\n\tisNaturalPerson!: boolean;\n\n\tavatar: Avatar | undefined;\n\n\tconstructor(properties: $ControlSettings & PropertiesOf<CollaborativeHeader>, others?: $ControlSettings) {\n\t\tsuper(properties, others);\n\t}\n\n\t/**\n\t * Handler for the onMetadataAvailable event.\n\t */\n\tonMetadataAvailable(): void {\n\t\tthis.createContent();\n\t}\n\n\t/**\n\t * Retrieve the profile status from the collaborative tools service.\n\t * @param mail\n\t */\n\tasync addProfileStatus(mail: string): Promise<void> {\n\t\tconst appComponent = this.getAppComponent();\n\t\tif (appComponent) {\n\t\t\tconst contactStatus = await appComponent.getCollaborativeToolsService().getTeamContactStatus(mail);\n\t\t\tconst chatContactOption = await appComponent.getCollaborativeToolsService().getTeamContactOption(\"chat\");\n\t\t\t// The badge info used for contact status on the Avatar is shown directly without waiting for a click event\n\t\t\tif (contactStatus && chatContactOption) {\n\t\t\t\tcontactStatus.forEach((element) => {\n\t\t\t\t\tif (element.key === \"profileStatus\") {\n\t\t\t\t\t\t// add custom data to be used by teams helper to trigger collaboration\n\t\t\t\t\t\tif (this.avatar) {\n\t\t\t\t\t\t\tthis.avatar.data(\"type\", chatContactOption.key);\n\t\t\t\t\t\t\tthis.avatar.data(\"email\", this.mail);\n\t\t\t\t\t\t\tthis.avatar.setBadgeIcon(element.badgeIcon);\n\t\t\t\t\t\t\tthis.avatar.setBadgeValueState(element.badgeValueState);\n\t\t\t\t\t\t\tthis.avatar.setTooltip(element.badgeTooltip);\n\t\t\t\t\t\t\tthis.avatar.setBadgeTooltip(element.badgeTooltip);\n\t\t\t\t\t\t\tFESRHelper.setSemanticStepname(this.avatar, \"press\", chatContactOption.fesrStepName);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Setter for the mail that additionally adds the status to the header.\n\t * @param mail\n\t */\n\tsetMail(mail: string): void {\n\t\tthis.mail = mail;\n\t\tthis.addProfileStatus(mail);\n\t}\n\n\t/**\n\t * Create the content.\n\t */\n\tcreateContent(): void {\n\t\tthis.avatar = (\n\t\t\t<Avatar\n\t\t\t\tsrc={this.photoSrc}\n\t\t\t\tdisplaySize=\"M\"\n\t\t\t\tdisplayShape={this.isNaturalPerson ? AvatarShape.Circle : AvatarShape.Square}\n\t\t\t\tclass=\"sapUiTinyMarginEnd\"\n\t\t\t/>\n\t\t);\n\t\tconst header = (\n\t\t\t<HBox>\n\t\t\t\t{this.avatar}\n\t\t\t\t<VBox class=\"sapUiTinyMarginBegin\">\n\t\t\t\t\t<Title text={this.fullName} level=\"H3\" wrapping=\"true\" />\n\t\t\t\t\t<Text text={this.role} />\n\t\t\t\t</VBox>\n\t\t\t</HBox>\n\t\t);\n\t\tthis.content = header;\n\t}\n}\n"],"mappings":"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","ignoreList":[]}