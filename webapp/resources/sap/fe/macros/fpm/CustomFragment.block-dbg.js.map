{"version":3,"names":["CustomFragmentBlock","_dec","defineBuildingBlock","name","namespace","_dec2","blockAttribute","type","required","_dec3","_dec4","_dec5","blockAggregation","slot","_class","_class2","_BuildingBlockTemplat","props","configuration","settings","_this","call","_initializerDefineProperty","_descriptor","_descriptor2","_descriptor3","_descriptor4","_exports","_inheritsLoose","_proto","prototype","getTemplate","fragmentInstanceName","fragmentName","replace","customData","childCustomData","customDataObj","child","firstElementChild","getAttribute","nextElementSibling","xml","attr","Object","keys","length","JSON","stringify","undefined","id","contextPath","getPath","BuildingBlockTemplatingBase","_applyDecoratedDescriptor","configurable","enumerable","writable","initializer"],"sourceRoot":".","sources":["CustomFragment.block.ts"],"sourcesContent":["import { type PropertiesOf } from \"sap/fe/base/ClassSupport\";\nimport { blockAggregation, blockAttribute, defineBuildingBlock } from \"sap/fe/core/buildingBlocks/templating/BuildingBlockSupport\";\nimport type { TemplateProcessorSettings } from \"sap/fe/core/buildingBlocks/templating/BuildingBlockTemplateProcessor\";\nimport { xml } from \"sap/fe/core/buildingBlocks/templating/BuildingBlockTemplateProcessor\";\nimport BuildingBlockTemplatingBase from \"sap/fe/core/buildingBlocks/templating/BuildingBlockTemplatingBase\";\nimport type Context from \"sap/ui/model/Context\";\n\n/**\n * Content of a custom fragment\n * @private\n */\n@defineBuildingBlock({\n\tname: \"CustomFragment\",\n\tnamespace: \"sap.fe.macros.fpm\"\n})\nexport default class CustomFragmentBlock extends BuildingBlockTemplatingBase {\n\t/**\n\t * ID of the custom fragment\n\t */\n\t@blockAttribute({ type: \"string\", required: true })\n\tpublic id!: string;\n\n\t/**\n\t * Context Path\n\t */\n\t@blockAttribute({ type: \"sap.ui.model.Context\", required: false })\n\tpublic contextPath?: Context;\n\n\t/**\n\t *  Name of the custom fragment\n\t */\n\t@blockAttribute({ type: \"string\", required: true })\n\tpublic fragmentName!: string;\n\n\t@blockAggregation({ type: \"sap.ui.core.CustomData\", slot: \"childCustomData\" })\n\tpublic childCustomData!: Element;\n\n\tconstructor(props: PropertiesOf<CustomFragmentBlock>, configuration: unknown, settings: TemplateProcessorSettings) {\n\t\tsuper(props, configuration, settings);\n\t}\n\n\t/**\n\t * The building block template function.\n\t * @returns An XML-based string\n\t */\n\tgetTemplate(): string {\n\t\tconst fragmentInstanceName = this.fragmentName + \"-JS\".replace(/\\//g, \".\");\n\t\tconst customData: Element = this.childCustomData;\n\t\tconst customDataObj: Record<string, string | null> = {};\n\t\tlet child = customData?.firstElementChild;\n\t\twhile (child) {\n\t\t\tconst name = child.getAttribute(\"key\");\n\t\t\tif (name !== null) {\n\t\t\t\tcustomDataObj[name] = child.getAttribute(\"value\");\n\t\t\t}\n\t\t\tchild = child.nextElementSibling;\n\t\t}\n\t\treturn xml`<macros:CustomFragmentFragment\n\t\t\txmlns:compo=\"http://schemas.sap.com/sapui5/extension/sap.ui.core.xmlcomposite/1\"\n\t\t\txmlns:macros=\"sap.fe.macros.fpm\"\n\t\t\tfragmentName=\"${fragmentInstanceName}\"\n\t\t\t${this.attr(\"childCustomData\", Object.keys(customDataObj).length ? JSON.stringify(customDataObj) : undefined)}\n\t\t\tid=\"${this.id}\"\n\t\t\ttype=\"CUSTOM\"\n\t\t\tcontextPath=\"${this.contextPath?.getPath()}\"\n\t\t>\n\t\t\t<compo:fragmentContent>\n\t\t\t\t<core:FragmentDefinition>\n\t\t\t\t\t<core:Fragment fragmentName=\"${this.fragmentName}\" type=\"XML\"/>\n\t\t\t\t</core:FragmentDefinition>\n\t\t\t</compo:fragmentContent>\n\t\t</macros:CustomFragmentFragment>`;\n\t}\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;EAOA;AACA;AACA;AACA;EAHA,IAQqBA,mBAAmB,IAAAC,IAAA,GAJvCC,mBAAmB,CAAC;IACpBC,IAAI,EAAE,gBAAgB;IACtBC,SAAS,EAAE;EACZ,CAAC,CAAC,EAAAC,KAAA,GAKAC,cAAc,CAAC;IAAEC,IAAI,EAAE,QAAQ;IAAEC,QAAQ,EAAE;EAAK,CAAC,CAAC,EAAAC,KAAA,GAMlDH,cAAc,CAAC;IAAEC,IAAI,EAAE,sBAAsB;IAAEC,QAAQ,EAAE;EAAM,CAAC,CAAC,EAAAE,KAAA,GAMjEJ,cAAc,CAAC;IAAEC,IAAI,EAAE,QAAQ;IAAEC,QAAQ,EAAE;EAAK,CAAC,CAAC,EAAAG,KAAA,GAGlDC,gBAAgB,CAAC;IAAEL,IAAI,EAAE,wBAAwB;IAAEM,IAAI,EAAE;EAAkB,CAAC,CAAC,EAAAZ,IAAA,CAAAa,MAAA,IAAAC,OAAA,0BAAAC,qBAAA;IAG9E,SAAAhB,oBAAYiB,KAAwC,EAAEC,aAAsB,EAAEC,QAAmC,EAAE;MAAA,IAAAC,KAAA;MAClHA,KAAA,GAAAJ,qBAAA,CAAAK,IAAA,OAAMJ,KAAK,EAAEC,aAAa,EAAEC,QAAQ,CAAC;MAtBtC;AACD;AACA;MAFCG,0BAAA,CAAAF,KAAA,QAAAG,WAAA,EAAAH,KAAA;MAMA;AACD;AACA;MAFCE,0BAAA,CAAAF,KAAA,iBAAAI,YAAA,EAAAJ,KAAA;MAMA;AACD;AACA;MAFCE,0BAAA,CAAAF,KAAA,kBAAAK,YAAA,EAAAL,KAAA;MAAAE,0BAAA,CAAAF,KAAA,qBAAAM,YAAA,EAAAN,KAAA;MAAA,OAAAA,KAAA;IAWA;;IAEA;AACD;AACA;AACA;IAHCO,QAAA,GAAA3B,mBAAA;IAAA4B,cAAA,CAAA5B,mBAAA,EAAAgB,qBAAA;IAAA,IAAAa,MAAA,GAAA7B,mBAAA,CAAA8B,SAAA;IAAAD,MAAA,CAIAE,WAAW,GAAX,SAAAA,WAAWA,CAAA,EAAW;MACrB,MAAMC,oBAAoB,GAAG,IAAI,CAACC,YAAY,GAAG,KAAK,CAACC,OAAO,CAAC,KAAK,EAAE,GAAG,CAAC;MAC1E,MAAMC,UAAmB,GAAG,IAAI,CAACC,eAAe;MAChD,MAAMC,aAA4C,GAAG,CAAC,CAAC;MACvD,IAAIC,KAAK,GAAGH,UAAU,EAAEI,iBAAiB;MACzC,OAAOD,KAAK,EAAE;QACb,MAAMnC,IAAI,GAAGmC,KAAK,CAACE,YAAY,CAAC,KAAK,CAAC;QACtC,IAAIrC,IAAI,KAAK,IAAI,EAAE;UAClBkC,aAAa,CAAClC,IAAI,CAAC,GAAGmC,KAAK,CAACE,YAAY,CAAC,OAAO,CAAC;QAClD;QACAF,KAAK,GAAGA,KAAK,CAACG,kBAAkB;MACjC;MACA,OAAOC,GAAG;AACZ;AACA;AACA,mBAAmBV,oBAAoB;AACvC,KAAK,IAAI,CAACW,IAAI,CAAC,iBAAiB,EAAEC,MAAM,CAACC,IAAI,CAACR,aAAa,CAAC,CAACS,MAAM,GAAGC,IAAI,CAACC,SAAS,CAACX,aAAa,CAAC,GAAGY,SAAS,CAAC;AAChH,SAAS,IAAI,CAACC,EAAE;AAChB;AACA,kBAAkB,IAAI,CAACC,WAAW,EAAEC,OAAO,CAAC,CAAC;AAC7C;AACA;AACA;AACA,oCAAoC,IAAI,CAACnB,YAAY;AACrD;AACA;AACA,mCAAmC;IAClC,CAAC;IAAA,OAAAjC,mBAAA;EAAA,EAzD+CqD,2BAA2B,GAAA9B,WAAA,GAAA+B,yBAAA,CAAAvC,OAAA,CAAAe,SAAA,SAAAzB,KAAA;IAAAkD,YAAA;IAAAC,UAAA;IAAAC,QAAA;IAAAC,WAAA;EAAA,IAAAlC,YAAA,GAAA8B,yBAAA,CAAAvC,OAAA,CAAAe,SAAA,kBAAArB,KAAA;IAAA8C,YAAA;IAAAC,UAAA;IAAAC,QAAA;IAAAC,WAAA;EAAA,IAAAjC,YAAA,GAAA6B,yBAAA,CAAAvC,OAAA,CAAAe,SAAA,mBAAApB,KAAA;IAAA6C,YAAA;IAAAC,UAAA;IAAAC,QAAA;IAAAC,WAAA;EAAA,IAAAhC,YAAA,GAAA4B,yBAAA,CAAAvC,OAAA,CAAAe,SAAA,sBAAAnB,KAAA;IAAA4C,YAAA;IAAAC,UAAA;IAAAC,QAAA;IAAAC,WAAA;EAAA,IAAA3C,OAAA,MAAAD,MAAA;EAAAa,QAAA,GAAA3B,mBAAA;EAAA,OAAA2B,QAAA;AAAA","ignoreList":[],"file":"CustomFragment.block-dbg.js"}