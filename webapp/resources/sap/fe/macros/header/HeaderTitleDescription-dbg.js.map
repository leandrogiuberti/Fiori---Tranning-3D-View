{"version":3,"names":["HeaderTitleDescription","_dec","defineUI5Class","_dec2","property","type","_class","_class2","_BuildingBlock","settings","others","_this","call","_initializerDefineProperty","_descriptor","_exports","_inheritsLoose","_proto","prototype","onMetadataAvailable","content","createContent","getTitleControl","dataModelObjectPath","headerInfo","owner","Title","isReferencePropertyStaticallyHidden","_jsx","text","getTitleBindingExpression","getTextBindingExpression","undefined","getRootController","getView","getViewData","wrapping","level","TitleLevel","H2","layoutData","FlexItemData","minWidth","getDescription","Description","Label","HeaderHelper","getDescriptionExpression","_getOwner","getDataModelObjectPath","preprocessorContext","fullContextPath","targetEntityType","annotations","UI","HeaderInfo","_jsxs","VBox","renderType","VBoxType","children","BuildingBlock","_applyDecoratedDescriptor","configurable","enumerable","writable","initializer","FlexRendertype","Div"],"sourceRoot":".","sources":["HeaderTitleDescription.tsx"],"sourcesContent":["import type { EntitySet, Property } from \"@sap-ux/vocabularies-types\";\nimport type { HeaderInfo } from \"@sap-ux/vocabularies-types/vocabularies/UI\";\nimport type { PropertiesOf } from \"sap/fe/base/ClassSupport\";\nimport { defineUI5Class, property } from \"sap/fe/base/ClassSupport\";\nimport type TemplateComponent from \"sap/fe/core/TemplateComponent\";\nimport BuildingBlock from \"sap/fe/core/buildingBlocks/BuildingBlock\";\nimport { isReferencePropertyStaticallyHidden } from \"sap/fe/core/converters/helpers/DataFieldHelper\";\nimport { getTitleBindingExpression } from \"sap/fe/core/helpers/TitleHelper\";\nimport type { ViewData } from \"sap/fe/core/services/TemplatedViewServiceFactory\";\nimport type { DataModelObjectPath } from \"sap/fe/core/templating/DataModelPathHelper\";\nimport FlexItemData from \"sap/m/FlexItemData\";\nimport Label from \"sap/m/Label\";\nimport Title from \"sap/m/Title\";\nimport VBox from \"sap/m/VBox\";\nimport { FlexRendertype } from \"sap/m/library\";\nimport type { $ControlSettings } from \"sap/ui/core/Control\";\nimport { TitleLevel } from \"sap/ui/core/library\";\nimport { getTextBindingExpression } from \"../field/FieldTemplating\";\nimport HeaderHelper from \"./HeaderHelper\";\n\n/**\n * Building block used to create title and description in the OP header\n * @private\n */\n@defineUI5Class(\"sap.fe.macros.header.HeaderTitleDescription\")\nexport default class HeaderTitleDescription extends BuildingBlock {\n\t@property({ type: \"string\" })\n\tVBoxType: FlexRendertype = FlexRendertype.Div;\n\n\tconstructor(settings: PropertiesOf<HeaderTitleDescription>, others?: $ControlSettings) {\n\t\tsuper(settings, others);\n\t}\n\n\tonMetadataAvailable(): void {\n\t\tif (!this.content) {\n\t\t\tthis.content = this.createContent();\n\t\t}\n\t}\n\n\tprivate getTitleControl(\n\t\tdataModelObjectPath: DataModelObjectPath<Property>,\n\t\theaderInfo: HeaderInfo,\n\t\towner?: TemplateComponent\n\t): Title | undefined {\n\t\tif (headerInfo.Title && !isReferencePropertyStaticallyHidden(headerInfo.Title)) {\n\t\t\treturn (\n\t\t\t\t<Title\n\t\t\t\t\ttext={getTitleBindingExpression(\n\t\t\t\t\t\tdataModelObjectPath,\n\t\t\t\t\t\tgetTextBindingExpression,\n\t\t\t\t\t\tundefined,\n\t\t\t\t\t\theaderInfo,\n\t\t\t\t\t\towner?.getRootController()?.getView().getViewData() || ({} as ViewData)\n\t\t\t\t\t)}\n\t\t\t\t\twrapping={true}\n\t\t\t\t\tlevel={TitleLevel.H2}\n\t\t\t\t\tlayoutData={<FlexItemData minWidth=\"0\"></FlexItemData>}\n\t\t\t\t/>\n\t\t\t);\n\t\t}\n\t}\n\n\tprivate getDescription(dataModelObjectPath: DataModelObjectPath<EntitySet>, headerInfo: HeaderInfo): Label | undefined {\n\t\tif (headerInfo.Description && !isReferencePropertyStaticallyHidden(headerInfo.Description)) {\n\t\t\treturn <Label text={HeaderHelper.getDescriptionExpression(dataModelObjectPath, headerInfo)} wrapping={true} />;\n\t\t}\n\t}\n\n\tprivate createContent(): VBox | undefined {\n\t\tconst owner = this._getOwner();\n\t\tconst dataModelObjectPath = this.getDataModelObjectPath(owner?.preprocessorContext?.fullContextPath);\n\t\tconst headerInfo = dataModelObjectPath?.targetEntityType?.annotations?.UI?.HeaderInfo;\n\n\t\tif (headerInfo && (headerInfo.Title || headerInfo.Description)) {\n\t\t\treturn (\n\t\t\t\t<VBox renderType={this.VBoxType} layoutData={<FlexItemData minWidth=\"0\"></FlexItemData>}>\n\t\t\t\t\t{this.getTitleControl(dataModelObjectPath as DataModelObjectPath<Property>, headerInfo, owner)}\n\t\t\t\t\t{this.getDescription(dataModelObjectPath as DataModelObjectPath<EntitySet>, headerInfo)}\n\t\t\t\t</VBox>\n\t\t\t);\n\t\t}\n\t}\n}\n"],"mappings":"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","ignoreList":[],"file":"HeaderTitleDescription-dbg.js"}