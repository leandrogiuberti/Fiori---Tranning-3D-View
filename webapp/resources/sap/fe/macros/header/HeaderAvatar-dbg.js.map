{"version":3,"names":["HeaderAvatar","_dec","defineUI5Class","_dec2","property","type","isBindingInfo","_dec3","_dec4","_dec5","_class","_class2","_BuildingBlock","settings","others","_this","call","_initializerDefineProperty","_descriptor","_descriptor2","_descriptor3","_descriptor4","content","createContent","_exports","_inheritsLoose","_proto","prototype","src","owner","_getOwner","dataModelObjectPath","getDataModelObjectPath","preprocessorContext","fullContextPath","headerInfo","targetEntityType","annotations","UI","HeaderInfo","avatar","_jsx","Avatar","initials","fallbackIcon","displayShape","displaySize","AvatarSize","S","imageFitType","AvatarImageFitType","Cover","children","detailBox","LightBox","LightBoxItem","imageSrc","title","getTitleBindingExpression","getTextBindingExpression","undefined","getRootController","getView","getViewData","subtitle","HeaderHelper","getDescriptionExpression","addStyleClass","BuildingBlock","_applyDecoratedDescriptor","configurable","enumerable","writable","initializer"],"sourceRoot":".","sources":["HeaderAvatar.tsx"],"sourcesContent":["import type { EntitySet, Property } from \"@sap-ux/vocabularies-types\";\nimport type { PropertiesOf } from \"sap/fe/base/ClassSupport\";\nimport { defineUI5Class, property } from \"sap/fe/base/ClassSupport\";\nimport BuildingBlock from \"sap/fe/core/buildingBlocks/BuildingBlock\";\nimport { getTitleBindingExpression } from \"sap/fe/core/helpers/TitleHelper\";\nimport type { ViewData } from \"sap/fe/core/services/TemplatedViewServiceFactory\";\nimport type { DataModelObjectPath } from \"sap/fe/core/templating/DataModelPathHelper\";\nimport Avatar from \"sap/m/Avatar\";\nimport AvatarImageFitType from \"sap/m/AvatarImageFitType\";\nimport AvatarSize from \"sap/m/AvatarSize\";\nimport LightBox from \"sap/m/LightBox\";\nimport LightBoxItem from \"sap/m/LightBoxItem\";\nimport type { $ControlSettings } from \"sap/ui/core/Control\";\nimport { getTextBindingExpression } from \"../field/FieldTemplating\";\nimport HeaderHelper from \"./HeaderHelper\";\n\n/**\n * Building block used to create avatar in the object page header\n * @private\n */\n@defineUI5Class(\"sap.fe.macros.header.HeaderAvatar\")\nexport default class HeaderAvatar extends BuildingBlock {\n\t@property({ type: \"string\", isBindingInfo: true })\n\tsrc?: string;\n\n\t@property({ type: \"string\" })\n\tinitials?: string;\n\n\t@property({ type: \"string\" })\n\tfallbackIcon?: string;\n\n\t@property({ type: \"string\" })\n\tdisplayShape?: string;\n\n\tconstructor(settings: PropertiesOf<HeaderAvatar>, others?: $ControlSettings) {\n\t\tsuper(settings, others);\n\t\tthis.content = this.createContent();\n\t}\n\n\tprivate createContent(): Avatar | undefined {\n\t\tif (!this.src) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst owner = this._getOwner();\n\t\tconst dataModelObjectPath = this.getDataModelObjectPath(owner?.preprocessorContext?.fullContextPath);\n\t\tconst headerInfo = dataModelObjectPath?.targetEntityType?.annotations?.UI?.HeaderInfo;\n\n\t\tconst avatar = (\n\t\t\t<Avatar\n\t\t\t\tsrc={this.src}\n\t\t\t\tinitials={this.initials}\n\t\t\t\tfallbackIcon={this.fallbackIcon}\n\t\t\t\tdisplayShape={this.displayShape}\n\t\t\t\tdisplaySize={AvatarSize.S}\n\t\t\t\timageFitType={AvatarImageFitType.Cover}\n\t\t\t>\n\t\t\t\t{{\n\t\t\t\t\tdetailBox: (\n\t\t\t\t\t\t<LightBox>\n\t\t\t\t\t\t\t<LightBoxItem\n\t\t\t\t\t\t\t\timageSrc={this.src}\n\t\t\t\t\t\t\t\ttitle={getTitleBindingExpression(\n\t\t\t\t\t\t\t\t\tdataModelObjectPath as DataModelObjectPath<Property>,\n\t\t\t\t\t\t\t\t\tgetTextBindingExpression,\n\t\t\t\t\t\t\t\t\tundefined,\n\t\t\t\t\t\t\t\t\theaderInfo,\n\t\t\t\t\t\t\t\t\towner?.getRootController()?.getView().getViewData() || ({} as ViewData)\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\tsubtitle={HeaderHelper.getDescriptionExpression(\n\t\t\t\t\t\t\t\t\tdataModelObjectPath as DataModelObjectPath<EntitySet>,\n\t\t\t\t\t\t\t\t\theaderInfo\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</LightBox>\n\t\t\t\t\t)\n\t\t\t\t}}\n\t\t\t</Avatar>\n\t\t);\n\t\tavatar.addStyleClass(\"sapUiSmallMarginEnd\");\n\n\t\treturn avatar;\n\t}\n}\n"],"mappings":"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","ignoreList":[],"file":"HeaderAvatar-dbg.js"}