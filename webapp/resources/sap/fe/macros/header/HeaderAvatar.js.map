{"version":3,"file":"HeaderAvatar.js","names":["HeaderAvatar","_dec","defineUI5Class","_dec2","property","type","isBindingInfo","_dec3","_dec4","_dec5","_class","_class2","_BuildingBlock","settings","others","_this","call","this","_initializerDefineProperty","_descriptor","_descriptor2","_descriptor3","_descriptor4","content","createContent","_exports","_inheritsLoose","_proto","prototype","src","owner","_getOwner","dataModelObjectPath","getDataModelObjectPath","preprocessorContext","fullContextPath","headerInfo","targetEntityType","annotations","UI","HeaderInfo","avatar","_jsx","Avatar","initials","fallbackIcon","displayShape","displaySize","AvatarSize","S","imageFitType","AvatarImageFitType","Cover","children","detailBox","LightBox","LightBoxItem","imageSrc","title","getTitleBindingExpression","getTextBindingExpression","undefined","getRootController","getView","getViewData","subtitle","HeaderHelper","getDescriptionExpression","addStyleClass","BuildingBlock","_applyDecoratedDescriptor","configurable","enumerable","writable","initializer"],"sources":["./HeaderAvatar.tsx"],"sourcesContent":["import type { EntitySet, Property } from \"@sap-ux/vocabularies-types\";\nimport type { PropertiesOf } from \"sap/fe/base/ClassSupport\";\nimport { defineUI5Class, property } from \"sap/fe/base/ClassSupport\";\nimport BuildingBlock from \"sap/fe/core/buildingBlocks/BuildingBlock\";\nimport { getTitleBindingExpression } from \"sap/fe/core/helpers/TitleHelper\";\nimport type { ViewData } from \"sap/fe/core/services/TemplatedViewServiceFactory\";\nimport type { DataModelObjectPath } from \"sap/fe/core/templating/DataModelPathHelper\";\nimport Avatar from \"sap/m/Avatar\";\nimport AvatarImageFitType from \"sap/m/AvatarImageFitType\";\nimport AvatarSize from \"sap/m/AvatarSize\";\nimport LightBox from \"sap/m/LightBox\";\nimport LightBoxItem from \"sap/m/LightBoxItem\";\nimport type { $ControlSettings } from \"sap/ui/core/Control\";\nimport { getTextBindingExpression } from \"../field/FieldTemplating\";\nimport HeaderHelper from \"./HeaderHelper\";\n\n/**\n * Building block used to create avatar in the object page header\n * @private\n */\n@defineUI5Class(\"sap.fe.macros.header.HeaderAvatar\")\nexport default class HeaderAvatar extends BuildingBlock {\n\t@property({ type: \"string\", isBindingInfo: true })\n\tsrc?: string;\n\n\t@property({ type: \"string\" })\n\tinitials?: string;\n\n\t@property({ type: \"string\" })\n\tfallbackIcon?: string;\n\n\t@property({ type: \"string\" })\n\tdisplayShape?: string;\n\n\tconstructor(settings: PropertiesOf<HeaderAvatar>, others?: $ControlSettings) {\n\t\tsuper(settings, others);\n\t\tthis.content = this.createContent();\n\t}\n\n\tprivate createContent(): Avatar | undefined {\n\t\tif (!this.src) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst owner = this._getOwner();\n\t\tconst dataModelObjectPath = this.getDataModelObjectPath(owner?.preprocessorContext?.fullContextPath);\n\t\tconst headerInfo = dataModelObjectPath?.targetEntityType?.annotations?.UI?.HeaderInfo;\n\n\t\tconst avatar = (\n\t\t\t<Avatar\n\t\t\t\tsrc={this.src}\n\t\t\t\tinitials={this.initials}\n\t\t\t\tfallbackIcon={this.fallbackIcon}\n\t\t\t\tdisplayShape={this.displayShape}\n\t\t\t\tdisplaySize={AvatarSize.S}\n\t\t\t\timageFitType={AvatarImageFitType.Cover}\n\t\t\t>\n\t\t\t\t{{\n\t\t\t\t\tdetailBox: (\n\t\t\t\t\t\t<LightBox>\n\t\t\t\t\t\t\t<LightBoxItem\n\t\t\t\t\t\t\t\timageSrc={this.src}\n\t\t\t\t\t\t\t\ttitle={getTitleBindingExpression(\n\t\t\t\t\t\t\t\t\tdataModelObjectPath as DataModelObjectPath<Property>,\n\t\t\t\t\t\t\t\t\tgetTextBindingExpression,\n\t\t\t\t\t\t\t\t\tundefined,\n\t\t\t\t\t\t\t\t\theaderInfo,\n\t\t\t\t\t\t\t\t\towner?.getRootController()?.getView().getViewData() || ({} as ViewData)\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\tsubtitle={HeaderHelper.getDescriptionExpression(\n\t\t\t\t\t\t\t\t\tdataModelObjectPath as DataModelObjectPath<EntitySet>,\n\t\t\t\t\t\t\t\t\theaderInfo\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</LightBox>\n\t\t\t\t\t)\n\t\t\t\t}}\n\t\t\t</Avatar>\n\t\t);\n\t\tavatar.addStyleClass(\"sapUiSmallMarginEnd\");\n\n\t\treturn avatar;\n\t}\n}\n"],"mappings":";;;;o6CAgBA,IAKqBA,GAAYC,EADhCC,EAAe,qCAAoCC,EAElDC,EAAS,CAAEC,KAAM,SAAUC,cAAe,OAAOC,EAGjDH,EAAS,CAAEC,KAAM,WAAWG,EAG5BJ,EAAS,CAAEC,KAAM,WAAWI,EAG5BL,EAAS,CAAEC,KAAM,WAAWJ,EAAAS,GAAAC,EAAA,SAAAC,GAG7B,SAAAZ,EAAYa,EAAsCC,GAA2B,IAAAC,EAC5EA,EAAAH,EAAAI,KAAAC,KAAMJ,EAAUC,IAAOG,KAACC,EAAAH,EAAA,MAAAI,EAAAJ,GAAAG,EAAAH,EAAA,WAAAK,EAAAL,GAAAG,EAAAH,EAAA,eAAAM,EAAAN,GAAAG,EAAAH,EAAA,eAAAO,EAAAP,GACxBA,EAAKQ,QAAUR,EAAKS,gBAAgB,OAAAT,CACrC,CAACU,EAAAzB,EAAA0B,EAAA1B,EAAAY,GAAA,IAAAe,EAAA3B,EAAA4B,UAAAD,EAEOH,cAAR,SAAQA,IACP,IAAKP,KAAKY,IAAK,CACd,MACD,CAEA,MAAMC,EAAQb,KAAKc,YACnB,MAAMC,EAAsBf,KAAKgB,uBAAuBH,GAAOI,qBAAqBC,iBACpF,MAAMC,EAAaJ,GAAqBK,kBAAkBC,aAAaC,IAAIC,WAE3E,MAAMC,EACLC,EAACC,EAAM,CACNd,IAAKZ,KAAKY,IACVe,SAAU3B,KAAK2B,SACfC,aAAc5B,KAAK4B,aACnBC,aAAc7B,KAAK6B,aACnBC,YAAaC,EAAWC,EACxBC,aAAcC,EAAmBC,MAAMC,SAEtC,CACAC,UACCZ,EAACa,EAAQ,CAAAF,SACRX,EAACc,EAAY,CACZC,SAAUxC,KAAKY,IACf6B,MAAOC,EACN3B,EACA4B,EACAC,UACAzB,EACAN,GAAOgC,qBAAqBC,UAAUC,eAAkB,CAAC,GAE1DC,SAAUC,EAAaC,yBACtBnC,EACAI,UAQPK,EAAO2B,cAAc,uBAErB,OAAO3B,CACR,EAAC,OAAAzC,CAAA,CAnD4B,CAVYqE,GAAalD,EAAAmD,EAAA3D,EAAAiB,UAAA,OAAAzB,GAAA,CAAAoE,aAAA,KAAAC,WAAA,KAAAC,SAAA,KAAAC,YAAA,OAAAtD,EAAAkD,EAAA3D,EAAAiB,UAAA,YAAArB,GAAA,CAAAgE,aAAA,KAAAC,WAAA,KAAAC,SAAA,KAAAC,YAAA,OAAArD,EAAAiD,EAAA3D,EAAAiB,UAAA,gBAAApB,GAAA,CAAA+D,aAAA,KAAAC,WAAA,KAAAC,SAAA,KAAAC,YAAA,OAAApD,EAAAgD,EAAA3D,EAAAiB,UAAA,gBAAAnB,GAAA,CAAA8D,aAAA,KAAAC,WAAA,KAAAC,SAAA,KAAAC,YAAA,OAAA/D,KAAAD,GAAAe,EAAAzB,EAAA,OAAAyB,CAAA","ignoreList":[]}