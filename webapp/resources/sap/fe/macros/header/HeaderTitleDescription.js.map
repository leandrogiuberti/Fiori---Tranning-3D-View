{"version":3,"file":"HeaderTitleDescription.js","names":["HeaderTitleDescription","_dec","defineUI5Class","_dec2","property","type","_class","_class2","_BuildingBlock","settings","others","_this","call","this","_initializerDefineProperty","_descriptor","_exports","_inheritsLoose","_proto","prototype","onMetadataAvailable","content","createContent","getTitleControl","dataModelObjectPath","headerInfo","owner","Title","isReferencePropertyStaticallyHidden","_jsx","text","getTitleBindingExpression","getTextBindingExpression","undefined","getRootController","getView","getViewData","wrapping","level","TitleLevel","H2","layoutData","FlexItemData","minWidth","getDescription","Description","Label","HeaderHelper","getDescriptionExpression","_getOwner","getDataModelObjectPath","preprocessorContext","fullContextPath","targetEntityType","annotations","UI","HeaderInfo","_jsxs","VBox","renderType","VBoxType","children","BuildingBlock","_applyDecoratedDescriptor","configurable","enumerable","writable","initializer","FlexRendertype","Div"],"sources":["./HeaderTitleDescription.tsx"],"sourcesContent":["import type { EntitySet, Property } from \"@sap-ux/vocabularies-types\";\nimport type { HeaderInfo } from \"@sap-ux/vocabularies-types/vocabularies/UI\";\nimport type { PropertiesOf } from \"sap/fe/base/ClassSupport\";\nimport { defineUI5Class, property } from \"sap/fe/base/ClassSupport\";\nimport type TemplateComponent from \"sap/fe/core/TemplateComponent\";\nimport BuildingBlock from \"sap/fe/core/buildingBlocks/BuildingBlock\";\nimport { isReferencePropertyStaticallyHidden } from \"sap/fe/core/converters/helpers/DataFieldHelper\";\nimport { getTitleBindingExpression } from \"sap/fe/core/helpers/TitleHelper\";\nimport type { ViewData } from \"sap/fe/core/services/TemplatedViewServiceFactory\";\nimport type { DataModelObjectPath } from \"sap/fe/core/templating/DataModelPathHelper\";\nimport FlexItemData from \"sap/m/FlexItemData\";\nimport Label from \"sap/m/Label\";\nimport Title from \"sap/m/Title\";\nimport VBox from \"sap/m/VBox\";\nimport { FlexRendertype } from \"sap/m/library\";\nimport type { $ControlSettings } from \"sap/ui/core/Control\";\nimport { TitleLevel } from \"sap/ui/core/library\";\nimport { getTextBindingExpression } from \"../field/FieldTemplating\";\nimport HeaderHelper from \"./HeaderHelper\";\n\n/**\n * Building block used to create title and description in the OP header\n * @private\n */\n@defineUI5Class(\"sap.fe.macros.header.HeaderTitleDescription\")\nexport default class HeaderTitleDescription extends BuildingBlock {\n\t@property({ type: \"string\" })\n\tVBoxType: FlexRendertype = FlexRendertype.Div;\n\n\tconstructor(settings: PropertiesOf<HeaderTitleDescription>, others?: $ControlSettings) {\n\t\tsuper(settings, others);\n\t}\n\n\tonMetadataAvailable(): void {\n\t\tif (!this.content) {\n\t\t\tthis.content = this.createContent();\n\t\t}\n\t}\n\n\tprivate getTitleControl(\n\t\tdataModelObjectPath: DataModelObjectPath<Property>,\n\t\theaderInfo: HeaderInfo,\n\t\towner?: TemplateComponent\n\t): Title | undefined {\n\t\tif (headerInfo.Title && !isReferencePropertyStaticallyHidden(headerInfo.Title)) {\n\t\t\treturn (\n\t\t\t\t<Title\n\t\t\t\t\ttext={getTitleBindingExpression(\n\t\t\t\t\t\tdataModelObjectPath,\n\t\t\t\t\t\tgetTextBindingExpression,\n\t\t\t\t\t\tundefined,\n\t\t\t\t\t\theaderInfo,\n\t\t\t\t\t\towner?.getRootController()?.getView().getViewData() || ({} as ViewData)\n\t\t\t\t\t)}\n\t\t\t\t\twrapping={true}\n\t\t\t\t\tlevel={TitleLevel.H2}\n\t\t\t\t\tlayoutData={<FlexItemData minWidth=\"0\"></FlexItemData>}\n\t\t\t\t/>\n\t\t\t);\n\t\t}\n\t}\n\n\tprivate getDescription(dataModelObjectPath: DataModelObjectPath<EntitySet>, headerInfo: HeaderInfo): Label | undefined {\n\t\tif (headerInfo.Description && !isReferencePropertyStaticallyHidden(headerInfo.Description)) {\n\t\t\treturn <Label text={HeaderHelper.getDescriptionExpression(dataModelObjectPath, headerInfo)} wrapping={true} />;\n\t\t}\n\t}\n\n\tprivate createContent(): VBox | undefined {\n\t\tconst owner = this._getOwner();\n\t\tconst dataModelObjectPath = this.getDataModelObjectPath(owner?.preprocessorContext?.fullContextPath);\n\t\tconst headerInfo = dataModelObjectPath?.targetEntityType?.annotations?.UI?.HeaderInfo;\n\n\t\tif (headerInfo && (headerInfo.Title || headerInfo.Description)) {\n\t\t\treturn (\n\t\t\t\t<VBox renderType={this.VBoxType} layoutData={<FlexItemData minWidth=\"0\"></FlexItemData>}>\n\t\t\t\t\t{this.getTitleControl(dataModelObjectPath as DataModelObjectPath<Property>, headerInfo, owner)}\n\t\t\t\t\t{this.getDescription(dataModelObjectPath as DataModelObjectPath<EntitySet>, headerInfo)}\n\t\t\t\t</VBox>\n\t\t\t);\n\t\t}\n\t}\n}\n"],"mappings":";;;;qkDAoBA,IAKqBA,GAAsBC,EAD1CC,EAAe,+CAA8CC,EAE5DC,EAAS,CAAEC,KAAM,WAAWJ,EAAAK,GAAAC,EAAA,SAAAC,GAG7B,SAAAR,EAAYS,EAAgDC,GAA2B,IAAAC,EACtFA,EAAAH,EAAAI,KAAAC,KAAMJ,EAAUC,IAAOG,KAACC,EAAAH,EAAA,WAAAI,EAAAJ,GAAA,OAAAA,CACzB,CAACK,EAAAhB,EAAAiB,EAAAjB,EAAAQ,GAAA,IAAAU,EAAAlB,EAAAmB,UAAAD,EAEDE,oBAAA,SAAAA,IACC,IAAKP,KAAKQ,QAAS,CAClBR,KAAKQ,QAAUR,KAAKS,eACrB,CACD,EAACJ,EAEOK,gBAAR,SAAQA,EACPC,EACAC,EACAC,GAEA,GAAID,EAAWE,QAAUC,EAAoCH,EAAWE,OAAQ,CAC/E,OACCE,EAACF,EAAK,CACLG,KAAMC,EACLP,EACAQ,EACAC,UACAR,EACAC,GAAOQ,qBAAqBC,UAAUC,eAAkB,CAAC,GAE1DC,SAAU,KACVC,MAAOC,EAAWC,GAClBC,WAAYZ,EAACa,EAAY,CAACC,SAAS,OAGtC,CACD,EAACzB,EAEO0B,eAAR,SAAQA,EAAepB,EAAqDC,GAC3E,GAAIA,EAAWoB,cAAgBjB,EAAoCH,EAAWoB,aAAc,CAC3F,OAAOhB,EAACiB,EAAK,CAAChB,KAAMiB,EAAaC,yBAAyBxB,EAAqBC,GAAaY,SAAU,MACvG,CACD,EAACnB,EAEOI,cAAR,SAAQA,IACP,MAAMI,EAAQb,KAAKoC,YACnB,MAAMzB,EAAsBX,KAAKqC,uBAAuBxB,GAAOyB,qBAAqBC,iBACpF,MAAM3B,EAAaD,GAAqB6B,kBAAkBC,aAAaC,IAAIC,WAE3E,GAAI/B,IAAeA,EAAWE,OAASF,EAAWoB,aAAc,CAC/D,OACCY,EAACC,EAAI,CAACC,WAAY9C,KAAK+C,SAAUnB,WAAYZ,EAACa,EAAY,CAACC,SAAS,MAAoBkB,SAAA,CACtFhD,KAAKU,gBAAgBC,EAAsDC,EAAYC,GACvFb,KAAK+B,eAAepB,EAAuDC,KAG/E,CACD,EAAC,OAAAzB,CAAA,CAvD4B,CADsB8D,GAAa/C,EAAAgD,EAAAxD,EAAAY,UAAA,YAAAhB,GAAA,CAAA6D,aAAA,KAAAC,WAAA,KAAAC,SAAA,KAAAC,YAAA,kBAErCC,EAAeC,GAAG,IAAA9D,KAAAD,GAAAU,EAAAhB,EAAA,OAAAgB,CAAA","ignoreList":[]}