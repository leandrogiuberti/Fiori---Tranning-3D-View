{"version":3,"names":["MultiValueFieldBlock","_dec","defineUI5Class","_dec2","implementInterface","_dec3","property","type","_dec4","association","_dec5","_dec6","required","_dec7","_dec8","_dec9","isBindingInfo","_dec10","aggregation","multiple","defaultClass","FormatOptions","_dec11","_dec12","_class","_class2","_BuildingBlock","props","others","_this","_isInEditMode","compileExpression","UI","IsEditable","call","_initializerDefineProperty","_descriptor","_descriptor2","_descriptor3","_descriptor4","_descriptor5","_descriptor6","_descriptor7","_descriptor8","_descriptor9","_descriptor10","_descriptor11","_exports","_inheritsLoose","_proto","prototype","_overrideValue","collectionBinding","itemDataModelObjectPath","textExpression","key","items","model","modelName","path","commonTargetObjectProperty","targetObject","commonPropertyPath","name","isPathAnnotationExpression","annotations","Common","Text","description","_getMultiInputSettings","propertyDataModelObjectPath","formatOptions","pathStructure","_getPathStructure","collectionPath","metaPath","startsWith","contextLocation","startingEntitySet","useParentBindingCache","templateShareable","parameters","$$ownRequest","propertyPathOrProperty","propertyDefinition","isPropertyPathExpression","$target","commonText","relativeLocation","getRelativePaths","getExpressionFromAnnotation","getValueBinding","displayOnly","length","dataModelObjectPath","firstCollectionPath","currentEntitySet","targetEntitySet","navigatedPaths","contextNavsForItem","navigationProperties","navProp","undefined","some","contextNavProp","fullyQualifiedName","push","navigationPropertyBinding","hasOwnProperty","isMultipleNavigationProperty","join","Object","assign","computeFieldGroupIds","appComponent","sideEffectService","getSideEffectsService","fieldGroupIds","dataModelPath","targetEntityType","collaborationEnabled","collaborationFieldGroup","CollaborationFieldGroupPrefix","dataSourcePath","result","initialize","metaContextPath","owner","_getOwner","contextPath","preprocessorContext","fullContextPath","odataMetaModel","getMetaModel","metaContext","createBindingContext","getPath","metaPathObject","getTarget","isProperty","DataFieldDefault","enhancedMetaPath","dataFieldDataModelPath","getDataModelObjectForMetaPath","convertedDataField","enhanceDataModelPath","Value","getTargetObjectPath","insertable","isPathInsertable","deleteNavigationRestriction","isPathDeletable","ignoreTargetCollection","authorizeUnresolvable","deletePath","deletable","ifElse","_type","or","not","isConstant","constant","readOnly","visible","getVisibleExpression","insertableAndDeletable","and","collaborationExpression","computeCollaborationProperties","isPropertyInitial","editMode","equal","isReadOnlyExpression","displayMode","getDisplayMode","localDataModelPath","item","collection","getAppComponent","onMetadataAvailable","content","createContent","isCollaborationDraftSupported","ModelHelper","UIFormatters","getCollaborationExpression","CollaborationFormatters","hasCollaborationActivity","collaborationInitialsExpression","getCollaborationActivityInitials","collaborationColorExpression","getCollaborationActivityColor","getRequired","getMultiValueField","getItems","getMetaPathObject","id","vhIdPrefix","ID","generate","getId","createId","controller","getRootController","view","getView","context","getContextPath","itemsAggregation","customAggregationLength","getManifestEntry","macros","multiValueField","itemsSizeLimit","label","FieldHelper","computeLabelText","vhControl","ValueHelp","getValueHelpForMetaPath","getPageController","getContextRelativeTargetObjectPath","getOwnerContextPath","valueHelp","getContent","_jsx","MultiValueField","delegate","display","width","ariaLabelledBy","showEmptyIndicator","isRequiredExpression","change","MultiValueFieldRuntime","handleChange","bind","validateFieldGroup","FieldRuntime","onValidateFieldGroup","children","MultiValueFieldItem","customData","CustomData","value","formwrapper","avatar","Avatar","initials","displaySize","customDisplaySize","customFontSize","backgroundColor","press","FieldRuntimeHelper","showCollaborationEditUser","FormElementWrapper","HBox","renderType","alignItems","addEventDelegate","onfocusin","evt","currentMultiValueField","srcControl","getParent","collaborativeDraft","handleContentFocusIn","valueHelpControl","getDomRef","attachEventOnce","focus","onfocusout","isA","event","UI5Event","getFieldGroupIds","handleContentFocusOut","Element","getElementById","getValueHelp","attachOpened","getSource","getControl","addCustomData","setReadOnly","setProperty","updateEditMode","set_isInEditMode","inEditMode","multivalueField","data","setEditMode","onBeforeRendering","aAriaLabelledBy","getAriaLabelledBy","sId","aAriaLabelledBys","includes","addAriaLabelledBy","BuildingBlock","_applyDecoratedDescriptor","configurable","enumerable","writable","initializer"],"sourceRoot":".","sources":["MultiValueField.tsx"],"sourcesContent":["import type { Property } from \"@sap-ux/vocabularies-types\";\nimport type { PathAnnotationExpression, PropertyPath } from \"@sap-ux/vocabularies-types/Edm\";\nimport type { DataField, DataFieldTypes } from \"@sap-ux/vocabularies-types/vocabularies/UI\";\nimport { UIAnnotationTerms } from \"@sap-ux/vocabularies-types/vocabularies/UI\";\nimport type { BindingToolkitExpression, CompiledBindingToolkitExpression } from \"sap/fe/base/BindingToolkit\";\nimport {\n\tand,\n\tcompileExpression,\n\tconstant,\n\tequal,\n\tgetExpressionFromAnnotation,\n\tifElse,\n\tisConstant,\n\tnot,\n\tor\n} from \"sap/fe/base/BindingToolkit\";\nimport {\n\taggregation,\n\tassociation,\n\tdefineUI5Class,\n\timplementInterface,\n\tproperty,\n\ttype EnhanceWithUI5,\n\ttype PropertiesOf\n} from \"sap/fe/base/ClassSupport\";\nimport type AppComponent from \"sap/fe/core/AppComponent\";\nimport { UI } from \"sap/fe/core/helpers/BindingHelper\";\nimport * as ID from \"sap/fe/core/helpers/StableIdHelper\";\nimport {\n\tisMultipleNavigationProperty,\n\tisPathAnnotationExpression,\n\tisProperty,\n\tisPropertyPathExpression\n} from \"sap/fe/core/helpers/TypeGuards\";\nimport type { DataModelObjectPath } from \"sap/fe/core/templating/DataModelPathHelper\";\nimport {\n\tenhanceDataModelPath,\n\tgetContextRelativeTargetObjectPath,\n\tgetRelativePaths,\n\tgetTargetObjectPath,\n\tisPathDeletable,\n\tisPathInsertable\n} from \"sap/fe/core/templating/DataModelPathHelper\";\nimport type { DisplayMode } from \"sap/fe/core/templating/UIFormatters\";\nimport { getCollaborationExpression, getDisplayMode } from \"sap/fe/core/templating/UIFormatters\";\nimport FieldHelper from \"sap/fe/macros/field/FieldHelper\";\nimport { getValueBinding, getVisibleExpression } from \"sap/fe/macros/field/FieldTemplating\";\nimport type Tokenizer from \"sap/m/Tokenizer\";\nimport type { PropertyBindingInfo } from \"sap/ui/base/ManagedObject\";\nimport type Control from \"sap/ui/core/Control\";\nimport CustomData from \"sap/ui/core/CustomData\";\nimport MultiValueField from \"sap/ui/mdc/MultiValueField\";\nimport type FieldEditMode from \"sap/ui/mdc/enums/FieldEditMode\";\nimport MultiValueFieldItem from \"sap/ui/mdc/field/MultiValueFieldItem\";\nimport type Context from \"sap/ui/model/odata/v4/Context\";\n\nimport type PageController from \"sap/fe/core/PageController\";\nimport BuildingBlock from \"sap/fe/core/buildingBlocks/BuildingBlock\";\nimport { CollaborationFieldGroupPrefix } from \"sap/fe/core/controllerextensions/collaboration/CollaborationCommon\";\nimport FormElementWrapper from \"sap/fe/core/controls/FormElementWrapper\";\nimport * as CollaborationFormatters from \"sap/fe/core/formatters/CollaborationFormatter\";\nimport type MetaPath from \"sap/fe/core/helpers/MetaPath\";\nimport ModelHelper from \"sap/fe/core/helpers/ModelHelper\";\nimport { isReadOnlyExpression, isRequiredExpression } from \"sap/fe/core/templating/FieldControlHelper\";\nimport * as UIFormatters from \"sap/fe/core/templating/UIFormatters\";\nimport FieldRuntime from \"sap/fe/macros/field/FieldRuntime\";\nimport FormatOptions from \"sap/fe/macros/multivaluefield/FormatOptions\";\nimport MultiValueFieldRuntime from \"sap/fe/macros/multivaluefield/MultiValueFieldRuntime\";\nimport Avatar from \"sap/m/Avatar\";\nimport HBox from \"sap/m/HBox\";\nimport UI5Event from \"sap/ui/base/Event\";\nimport type { $ControlSettings } from \"sap/ui/core/Control\";\nimport Element from \"sap/ui/core/Element\";\nimport type { default as MdcValueHelp, ValueHelp$OpenedEvent } from \"sap/ui/mdc/ValueHelp\";\nimport type { MetaModelType } from \"../../../../../../types/metamodel_types\";\nimport ValueHelp from \"./ValueHelp\";\nimport FieldRuntimeHelper from \"./field/FieldRuntimeHelper\";\n\ntype MultiInputSettings = {\n\tdescription: BindingToolkitExpression<string> | CompiledBindingToolkitExpression;\n\tcollectionBinding: PropertyBindingInfo;\n\tkey: BindingToolkitExpression<string> | CompiledBindingToolkitExpression;\n\tdisplayOnly?: boolean;\n};\n\ntype MultiValueFieldPathStructure = {\n\tcollectionPath: string;\n\titemDataModelObjectPath: DataModelObjectPath<Property>;\n};\n\n/**\n * Building block for creating a MultiValueField based on the metadata provided by OData V4.\n * <br>\n * The MultiValueField can be used to display either a DataField or Property directly. It has to point to a collection property.\n * <br>\n * Usage example:\n * <pre>\n * &lt;macro:MultiValueField\n * id=\"SomeUniqueIdentifier\"\n * contextPath=\"{entitySet&gt;}\"\n * metaPath=\"{dataField&gt;}\"\n * /&gt;\n * </pre>\n * @alias sap.fe.macros.MultiValueField\n * @public\n * @since 1.118.0\n */\n\n@defineUI5Class(\"sap.fe.macros.MultiValueField\")\nexport default class MultiValueFieldBlock extends BuildingBlock<Control> {\n\t@implementInterface(\"sap.ui.core.IFormContent\")\n\t__implements__sap_ui_core_IFormContent = true;\n\n\t/**\n\t * The 'id' property\n\t */\n\t@property({\n\t\ttype: \"string\"\n\t})\n\tpublic id?: string;\n\n\t/**\n\t * Prefix added to the generated ID of the field - only if no id is provided\n\t */\n\t@association({\n\t\ttype: \"string\"\n\t})\n\tidPrefix?: string;\n\n\t/**\n\t * Prefix added to the generated ID of the value help used for the field\n\t */\n\t@association({\n\t\ttype: \"string\"\n\t})\n\tvhIdPrefix!: string;\n\n\t/**\n\t * Defines the relative Metadata path to the MultiValueField.\n\t * The metaPath should point to a Property or DataField.\n\t * @public\n\t */\n\t@property({\n\t\ttype: \"string\",\n\t\trequired: true\n\t})\n\tpublic metaPath!: string;\n\n\t/**\n\t * The readOnly flag\n\t * @public\n\t */\n\t@property({ type: \"boolean\", required: false })\n\tpublic readOnly?: boolean | CompiledBindingToolkitExpression;\n\n\t/**\n\t * The context path provided for the MultiValueField\n\t * @public\n\t */\n\t@property({\n\t\ttype: \"string\"\n\t})\n\tpublic contextPath?: string;\n\n\t/**\n\t * Property added to be able to add data / items to the multi-input field using a different model\n\t * @public\n\t */\n\t@property({\n\t\ttype: \"any\",\n\t\tisBindingInfo: true\n\t})\n\tpublic items?: PropertyBindingInfo;\n\n\t/**\n\t * The object with the formatting options\n\t *\n\t */\n\t@aggregation({ type: \"sap.fe.macros.multivaluefield.FormatOptions\", multiple: false, defaultClass: FormatOptions })\n\tformatOptions?: FormatOptions;\n\n\t@property({ type: \"boolean\" })\n\t_isInEditMode: boolean | CompiledBindingToolkitExpression = false;\n\n\t@property({ type: \"boolean\" })\n\tuseParentBindingCache = false;\n\n\t// Computed properties\n\n\tprivate item!: MultiInputSettings;\n\n\t/**\n\t * Pointed at a dataField. This can be DataFieldDefault from a property.\n\t */\n\tprivate convertedDataField!: DataField;\n\n\t/**\n\t * DataModelPath for the corresponding property displayed.\n\t */\n\tprivate dataModelPath!: DataModelObjectPath<Property>;\n\n\t/**\n\t * Property to be displayed\n\t */\n\tprivate property!: Property;\n\n\t/**\n\t * Edit Mode of the field.\n\t * If the editMode is undefined then we compute it based on the metadata\n\t * Otherwise we use the value provided here.\n\t */\n\tprivate editMode!: FieldEditMode | CompiledBindingToolkitExpression;\n\n\t/**\n\t * The display mode added to the collection field\n\t */\n\tprivate displayMode!: DisplayMode;\n\n\t/**\n\t * The CompiledBindingToolkitExpression that is calculated internally\n\t */\n\tprivate collection!: PropertyBindingInfo;\n\n\tprivate visible: CompiledBindingToolkitExpression;\n\n\tprivate fieldGroupIds?: string;\n\n\tprivate enhancedMetaPath!: Context;\n\n\tprivate enableExpression: CompiledBindingToolkitExpression;\n\n\tprivate collaborationExpression!: BindingToolkitExpression<boolean>;\n\n\tprivate collaborationInitialsExpression!: CompiledBindingToolkitExpression;\n\n\tprivate collaborationColorExpression!: CompiledBindingToolkitExpression;\n\n\tprivate collaborationEnabled!: boolean;\n\n\tprivate dataSourcePath!: string;\n\n\tprivate insertableAndDeletable!: BindingToolkitExpression<boolean>;\n\n\tconstructor(props: string | ($ControlSettings & PropertiesOf<MultiValueFieldBlock>), others?: $ControlSettings) {\n\t\tif (typeof props !== \"string\") {\n\t\t\t// type of props can be a string if we are cloning the MultiValueField inside an aggregation\n\t\t\t// in that case _isInEditMode has already been computed on the one we clone\n\t\t\tprops._isInEditMode = compileExpression(UI.IsEditable);\n\t\t}\n\t\tsuper(props, others);\n\t}\n\n\t/**\n\t * In case an external value is set (e.g. for providing data in a json model) we need to override the binding strings for the item.\n\t * @param collectionBinding\n\t * @param itemDataModelObjectPath\n\t * @param textExpression\n\t * @param key\n\t * @returns MultiInputSettings\n\t */\n\tprivate _overrideValue(\n\t\tcollectionBinding: PropertyBindingInfo & { parameters?: object },\n\t\titemDataModelObjectPath: DataModelObjectPath<PropertyPath | Property>,\n\t\ttextExpression: CompiledBindingToolkitExpression,\n\t\tkey: CompiledBindingToolkitExpression\n\t): MultiInputSettings {\n\t\tif (this.items) {\n\t\t\tconst model = this.items.model ?? this.items.modelName;\n\t\t\tcollectionBinding = { path: `${model}>${this.items.path}` };\n\t\t\tconst commonTargetObjectProperty = itemDataModelObjectPath.targetObject as Property;\n\t\t\tconst commonPropertyPath = `{${model}>${commonTargetObjectProperty.name}}`;\n\n\t\t\t// Text arrangement use case\n\t\t\tif (isPathAnnotationExpression<string>(commonTargetObjectProperty.annotations.Common?.Text)) {\n\t\t\t\ttextExpression = `{${model}>${commonTargetObjectProperty.annotations.Common?.Text?.path}}`;\n\t\t\t\t// non text arrangement use case\n\t\t\t} else {\n\t\t\t\ttextExpression = commonPropertyPath;\n\t\t\t}\n\t\t\tkey = commonPropertyPath;\n\t\t}\n\t\treturn {\n\t\t\tdescription: textExpression,\n\t\t\tcollectionBinding,\n\t\t\tkey: key\n\t\t};\n\t}\n\n\t/**\n\t * Function to get the correct settings for the multi input.\n\t * @param propertyDataModelObjectPath The corresponding DataModelObjectPath.\n\t * @param formatOptions The format options to calculate the result\n\t * @returns MultiInputSettings\n\t */\n\tprivate _getMultiInputSettings(\n\t\tpropertyDataModelObjectPath: DataModelObjectPath<Property>,\n\t\tformatOptions: FormatOptions | undefined\n\t): MultiInputSettings {\n\t\tconst pathStructure = MultiValueFieldBlock._getPathStructure(propertyDataModelObjectPath);\n\t\tlet { collectionPath } = pathStructure;\n\t\tconst itemDataModelObjectPath = pathStructure.itemDataModelObjectPath;\n\t\tif (this.metaPath.startsWith(\"/\") && this.items) {\n\t\t\t// we only support an absolute metapath if there is an items binding provided\n\t\t\tcollectionPath = `/${propertyDataModelObjectPath.contextLocation?.startingEntitySet.name}`;\n\t\t}\n\t\tconst collectionBinding = this.useParentBindingCache\n\t\t\t? { path: collectionPath, templateShareable: false }\n\t\t\t: { path: collectionPath, parameters: { $$ownRequest: true }, templateShareable: false };\n\n\t\tconst propertyPathOrProperty = propertyDataModelObjectPath.targetObject as PropertyPath | Property;\n\t\tconst propertyDefinition = isPropertyPathExpression(propertyPathOrProperty)\n\t\t\t? propertyPathOrProperty.$target\n\t\t\t: propertyPathOrProperty;\n\t\tconst commonText = propertyDefinition?.annotations.Common?.Text;\n\t\tconst relativeLocation = getRelativePaths(propertyDataModelObjectPath);\n\n\t\tconst textExpression = commonText\n\t\t\t? compileExpression(getExpressionFromAnnotation(commonText, relativeLocation))\n\t\t\t: getValueBinding(itemDataModelObjectPath, formatOptions ?? {}, true);\n\n\t\tconst key = getValueBinding(itemDataModelObjectPath, formatOptions ?? {}, true);\n\t\tlet displayOnly = false;\n\t\tif (getRelativePaths(itemDataModelObjectPath).length > 0) {\n\t\t\t// if the relative path to the value contains a navigation, create will not be possible in the delegate, so we force the display Mode\n\t\t\tdisplayOnly = true;\n\t\t}\n\t\treturn {\n\t\t\tdisplayOnly,\n\t\t\t...this._overrideValue(collectionBinding, itemDataModelObjectPath, textExpression, key)\n\t\t};\n\t}\n\n\t// Process the dataModelPath to find the collection and the relative DataModelPath for the item.\n\tprivate static _getPathStructure(dataModelObjectPath: DataModelObjectPath<Property>): MultiValueFieldPathStructure {\n\t\tlet firstCollectionPath = \"\";\n\t\tconst currentEntitySet = dataModelObjectPath.contextLocation?.targetEntitySet\n\t\t\t? dataModelObjectPath.contextLocation.targetEntitySet\n\t\t\t: dataModelObjectPath.startingEntitySet;\n\t\tconst navigatedPaths: string[] = [];\n\t\tconst contextNavsForItem = dataModelObjectPath.contextLocation?.navigationProperties || [];\n\t\tfor (const navProp of dataModelObjectPath.navigationProperties) {\n\t\t\tif (\n\t\t\t\tdataModelObjectPath.contextLocation === undefined ||\n\t\t\t\t!dataModelObjectPath.contextLocation.navigationProperties.some(\n\t\t\t\t\t(contextNavProp) => contextNavProp.fullyQualifiedName === navProp.fullyQualifiedName\n\t\t\t\t)\n\t\t\t) {\n\t\t\t\t// in case of relative entitySetPath we don't consider navigationPath that are already in the context\n\t\t\t\tnavigatedPaths.push(navProp.name);\n\t\t\t\tcontextNavsForItem.push(navProp);\n\t\t\t\tif (currentEntitySet.navigationPropertyBinding.hasOwnProperty(navProp.name)) {\n\t\t\t\t\tif (isMultipleNavigationProperty(navProp)) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tfirstCollectionPath = `${navigatedPaths.join(\"/\")}`;\n\t\tconst itemDataModelObjectPath: DataModelObjectPath<Property> = Object.assign({}, dataModelObjectPath);\n\t\tif (itemDataModelObjectPath.contextLocation) {\n\t\t\titemDataModelObjectPath.contextLocation.navigationProperties = contextNavsForItem; // this changes the creation of the valueHelp ID ...\n\t\t}\n\n\t\treturn { collectionPath: firstCollectionPath, itemDataModelObjectPath: itemDataModelObjectPath };\n\t}\n\n\t/**\n\t * Calculate the fieldGroupIds for the MultiValueField.\n\t * @param appComponent\n\t * @returns The value for the fieldGroupIds\n\t */\n\tprivate computeFieldGroupIds(appComponent?: AppComponent): string | undefined {\n\t\tif (!appComponent) {\n\t\t\t//for ValueHelp / Mass edit Templating the appComponent is not passed to the templating\n\t\t\treturn \"\";\n\t\t}\n\t\tconst sideEffectService = appComponent.getSideEffectsService();\n\t\tconst fieldGroupIds = sideEffectService.computeFieldGroupIds(\n\t\t\tthis.dataModelPath.targetEntityType.fullyQualifiedName,\n\t\t\t(this.dataModelPath.targetObject as Property).fullyQualifiedName\n\t\t);\n\t\tif (this.collaborationEnabled) {\n\t\t\tconst collaborationFieldGroup = `${CollaborationFieldGroupPrefix}${this.dataSourcePath}`;\n\t\t\tfieldGroupIds.push(collaborationFieldGroup);\n\t\t}\n\t\tthis.fieldGroupIds = fieldGroupIds.length ? fieldGroupIds.join(\",\") : undefined;\n\t\tconst result = fieldGroupIds.join(\",\");\n\t\treturn result === \"\" ? undefined : result;\n\t}\n\n\tinitialize(metaContextPath: MetaPath<unknown>): void {\n\t\tconst owner = this._getOwner();\n\n\t\tthis.contextPath = this.contextPath ?? owner?.preprocessorContext?.fullContextPath;\n\t\tconst odataMetaModel = owner?.getMetaModel();\n\n\t\tconst metaContext = odataMetaModel?.createBindingContext(metaContextPath.getPath()) as Context | undefined;\n\n\t\tconst metaPathObject = metaContextPath?.getTarget();\n\n\t\t// If the target is a property with a DataFieldDefault, use this as data field\n\t\tif (isProperty(metaPathObject) && metaPathObject.annotations.UI?.DataFieldDefault !== undefined) {\n\t\t\tthis.enhancedMetaPath = odataMetaModel?.createBindingContext(`@${UIAnnotationTerms.DataFieldDefault}`, metaContext) as Context;\n\t\t} else {\n\t\t\tthis.enhancedMetaPath = metaContext as Context;\n\t\t}\n\t\tconst dataFieldDataModelPath = this.getDataModelObjectForMetaPath(this.enhancedMetaPath.getPath(), this.contextPath)!;\n\n\t\tthis.convertedDataField = dataFieldDataModelPath.targetObject as DataField;\n\n\t\tthis.dataModelPath = enhanceDataModelPath<Property>(\n\t\t\tdataFieldDataModelPath,\n\t\t\t(this.convertedDataField.Value as PathAnnotationExpression<string>).path\n\t\t);\n\t\tthis.dataSourcePath = getTargetObjectPath(this.dataModelPath);\n\t\tthis.property = this.dataModelPath.targetObject as Property;\n\n\t\tlet insertable = isPathInsertable(this.dataModelPath);\n\t\tconst deleteNavigationRestriction = isPathDeletable(this.dataModelPath, {\n\t\t\tignoreTargetCollection: true,\n\t\t\tauthorizeUnresolvable: true\n\t\t});\n\t\tconst deletePath = isPathDeletable(this.dataModelPath);\n\n\t\t// deletable:\n\t\t//\t\tif restrictions come from Navigation we apply it\n\t\t//\t\totherwise we apply restrictions defined on target collection only if it's a constant\n\t\t//      otherwise it's true!\n\t\tlet deletable = ifElse(\n\t\t\tdeleteNavigationRestriction._type === \"Unresolvable\",\n\t\t\tor(not(isConstant(deletePath)), deletePath),\n\t\t\tdeletePath\n\t\t);\n\n\t\tif (this.items) {\n\t\t\tinsertable = deletable = constant(!this.readOnly);\n\t\t} else {\n\t\t\tthis.visible = getVisibleExpression(this.dataModelPath, this.formatOptions);\n\t\t}\n\n\t\tthis.insertableAndDeletable = and(insertable, deletable);\n\t\tthis.collaborationExpression = constant(false);\n\t\tthis.computeCollaborationProperties();\n\t\tconst readOnly = this.isPropertyInitial(\"readOnly\") ? undefined : this.readOnly;\n\t\tif (this.formatOptions?.displayOnly === true || readOnly === true) {\n\t\t\tthis.editMode = \"Display\";\n\t\t} else if (this.readOnly === false) {\n\t\t\tthis.editMode = compileExpression(\n\t\t\t\tifElse(\n\t\t\t\t\tand(insertable, deletable),\n\t\t\t\t\tifElse(this.collaborationExpression, constant(\"ReadOnly\"), constant(\"Editable\")),\n\t\t\t\t\tconstant(\"Display\")\n\t\t\t\t)\n\t\t\t);\n\t\t} else {\n\t\t\tthis.editMode = compileExpression(\n\t\t\t\tifElse(\n\t\t\t\t\tand(insertable, deletable, UI.IsEditable, not(equal(true, isReadOnlyExpression(this.convertedDataField)))),\n\t\t\t\t\tifElse(this.collaborationExpression, constant(\"ReadOnly\"), constant(\"Editable\")),\n\t\t\t\t\tconstant(\"Display\")\n\t\t\t\t)\n\t\t\t);\n\t\t}\n\n\t\tthis.displayMode = getDisplayMode(this.dataModelPath);\n\n\t\tconst localDataModelPath = enhanceDataModelPath<Property>(\n\t\t\tthis.getDataModelObjectForMetaPath(this.enhancedMetaPath.getPath(), this.contextPath)!,\n\t\t\t(this.convertedDataField.Value as PathAnnotationExpression<string>).path\n\t\t);\n\n\t\tthis.item = this._getMultiInputSettings(localDataModelPath, this.formatOptions); // this function rewrites dataModelPath, therefore, for now a clean object is passed\n\t\tif (this.item.displayOnly) {\n\t\t\tthis.editMode = \"Display\";\n\t\t}\n\t\tthis.collection = this.item.collectionBinding;\n\n\t\tconst appComponent = this.getAppComponent();\n\t\tthis.fieldGroupIds = this.computeFieldGroupIds(appComponent);\n\t}\n\n\t/**\n\t * Handler for the onMetadataAvailable event.\n\t */\n\tonMetadataAvailable(): void {\n\t\tif (!this.content) {\n\t\t\tthis.content = this.createContent();\n\t\t}\n\t}\n\n\t/**\n\t * The function checks if the collaboration draft is supported.\n\t * @returns True if the collaboration draft is supported.\n\t */\n\tisCollaborationDraftSupported(): boolean {\n\t\tconst owner = this._getOwner();\n\t\tconst odataMetaModel = owner?.getMetaModel();\n\t\treturn ModelHelper.isCollaborationDraftSupported(odataMetaModel!);\n\t}\n\n\t/**\n\t * This helper computes the properties that are needed for the collaboration avatar.\n\t */\n\tcomputeCollaborationProperties(): void {\n\t\tif (this.isCollaborationDraftSupported() && this.editMode !== \"Display\") {\n\t\t\tthis.collaborationEnabled = true;\n\t\t\tthis.collaborationExpression = UIFormatters.getCollaborationExpression(\n\t\t\t\tthis.dataModelPath,\n\t\t\t\tCollaborationFormatters.hasCollaborationActivity\n\t\t\t);\n\n\t\t\tthis.collaborationInitialsExpression = compileExpression(\n\t\t\t\tgetCollaborationExpression(this.dataModelPath, CollaborationFormatters.getCollaborationActivityInitials)\n\t\t\t);\n\t\t\tthis.collaborationColorExpression = compileExpression(\n\t\t\t\tgetCollaborationExpression(this.dataModelPath, CollaborationFormatters.getCollaborationActivityColor)\n\t\t\t);\n\t\t}\n\t}\n\n\tgetRequired(): boolean | undefined {\n\t\treturn this.getMultiValueField().getRequired();\n\t}\n\n\tgetItems(): MultiValueFieldItem[] | undefined {\n\t\treturn this.getMultiValueField().getItems();\n\t}\n\n\t/**\n\t * Creates the content.\n\t * @returns The content of the building block.\n\t */\n\tcreateContent(): Control | undefined {\n\t\tconst metaContextPath = this.getMetaPathObject(this.metaPath, this.contextPath);\n\t\tif (metaContextPath) {\n\t\t\tthis.initialize(metaContextPath);\n\n\t\t\t// BuildingBlock with set ID scenario\n\t\t\tif (this.id) {\n\t\t\t\tthis.vhIdPrefix = ID.generate([this.getId(), this.vhIdPrefix ?? \"FieldValueHelp\"]); // Use getId to retrieve ID, not this.id\n\t\t\t} else if (!this.vhIdPrefix) {\n\t\t\t\t// Maybe not entered\n\t\t\t\tthis.vhIdPrefix = this.createId(\"FieldValueHelp\")!;\n\t\t\t}\n\t\t\tconst controller = this._getOwner()?.getRootController() as PageController;\n\t\t\tconst view = controller.getView();\n\t\t\tconst odataMetaModel = this._getOwner()?.getMetaModel();\n\t\t\tconst metaContext = odataMetaModel?.createBindingContext(metaContextPath.getPath());\n\t\t\tconst context = odataMetaModel?.createBindingContext(metaContextPath.getContextPath());\n\t\t\tif (!metaContext || !context) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t//create a new binding context for the value help\n\n\t\t\tconst itemsAggregation = this.collection;\n\t\t\tconst customAggregationLength = this.getAppComponent()?.getManifestEntry(\"sap.fe\")?.macros?.multiValueField?.itemsSizeLimit;\n\t\t\tif (customAggregationLength !== undefined) {\n\t\t\t\titemsAggregation.length = customAggregationLength;\n\t\t\t}\n\n\t\t\t//compute the correct label\n\t\t\tconst label = FieldHelper.computeLabelText(this.convertedDataField.Value as MetaModelType<DataFieldTypes>, {\n\t\t\t\tcontext: metaContext\n\t\t\t}) as string;\n\n\t\t\tconst vhControl = ValueHelp.getValueHelpForMetaPath(\n\t\t\t\tthis.getPageController(),\n\t\t\t\tgetContextRelativeTargetObjectPath(this.dataModelPath)!,\n\t\t\t\tthis.contextPath ?? this.getOwnerContextPath()!,\n\t\t\t\tthis._getOwner()?.getMetaModel()\n\t\t\t);\n\t\t\tlet valueHelp: string | undefined;\n\t\t\tif (vhControl && vhControl.getContent()) {\n\t\t\t\tvalueHelp = vhControl.getContent()!.getId();\n\t\t\t}\n\t\t\tconst multiValueField = (\n\t\t\t\t<MultiValueField\n\t\t\t\t\tid={this.createId(\"_mvf\")}\n\t\t\t\t\tdelegate={{ name: \"sap/fe/macros/multivaluefield/MultiValueFieldDelegate\" }}\n\t\t\t\t\titems={itemsAggregation}\n\t\t\t\t\tdisplay={this.displayMode}\n\t\t\t\t\twidth=\"100%\"\n\t\t\t\t\teditMode={this.editMode}\n\t\t\t\t\tvalueHelp={valueHelp}\n\t\t\t\t\tariaLabelledBy={this.ariaLabelledBy ? this.ariaLabelledBy : []}\n\t\t\t\t\tshowEmptyIndicator={this.formatOptions?.showEmptyIndicator}\n\t\t\t\t\tlabel={label}\n\t\t\t\t\trequired={compileExpression(and(UI.IsEditable, isRequiredExpression(this.convertedDataField)))}\n\t\t\t\t\tchange={(MultiValueFieldRuntime.handleChange as unknown as Function).bind(MultiValueFieldRuntime, controller)}\n\t\t\t\t\tfieldGroupIds={this.fieldGroupIds}\n\t\t\t\t\tvalidateFieldGroup={FieldRuntime.onValidateFieldGroup}\n\t\t\t\t>\n\t\t\t\t\t{{\n\t\t\t\t\t\titems: <MultiValueFieldItem key={this.item.key} description={this.item.description} />,\n\t\t\t\t\t\tcustomData: <CustomData key=\"insertableAndDeletable\" value={this.insertableAndDeletable} />\n\t\t\t\t\t}}\n\t\t\t\t</MultiValueField>\n\t\t\t);\n\n\t\t\tlet formwrapper = null;\n\t\t\tif (this.collaborationEnabled) {\n\t\t\t\tconst avatar = (\n\t\t\t\t\t<Avatar\n\t\t\t\t\t\tvisible={this.collaborationExpression}\n\t\t\t\t\t\tinitials={this.collaborationInitialsExpression}\n\t\t\t\t\t\tdisplaySize=\"Custom\"\n\t\t\t\t\t\tcustomDisplaySize=\"1.5rem\"\n\t\t\t\t\t\tcustomFontSize=\"0.8rem\"\n\t\t\t\t\t\tbackgroundColor={this.collaborationColorExpression}\n\t\t\t\t\t\tpress={(): void => {\n\t\t\t\t\t\t\tFieldRuntimeHelper.showCollaborationEditUser(avatar, view);\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t\t\tformwrapper = (\n\t\t\t\t\t<FormElementWrapper>\n\t\t\t\t\t\t<HBox width=\"100%\" renderType=\"Bare\" alignItems=\"End\">\n\t\t\t\t\t\t\t{{\n\t\t\t\t\t\t\t\titems: [multiValueField, avatar]\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t</HBox>\n\t\t\t\t\t</FormElementWrapper>\n\t\t\t\t);\n\n\t\t\t\tmultiValueField?.addEventDelegate(\n\t\t\t\t\t{\n\t\t\t\t\t\tonfocusin: (evt: jQuery.Event & { srcControl: Control }) => {\n\t\t\t\t\t\t\tconst currentMultiValueField = evt.srcControl.getParent() as MultiValueField;\n\t\t\t\t\t\t\tcontroller.collaborativeDraft?.handleContentFocusIn(currentMultiValueField);\n\n\t\t\t\t\t\t\tif (valueHelpControl?.getDomRef()) {\n\t\t\t\t\t\t\t\tvalueHelpControl.attachEventOnce(\"closed\", () => {\n\t\t\t\t\t\t\t\t\tcurrentMultiValueField?.focus();\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tonfocusout: (evt: jQuery.Event & { srcControl: Control }) => {\n\t\t\t\t\t\t\tlet currentMultiValueField = evt.srcControl.getParent() as MultiValueField;\n\t\t\t\t\t\t\tif (currentMultiValueField?.isA<Tokenizer>(\"sap.m.Tokenizer\")) {\n\t\t\t\t\t\t\t\tcurrentMultiValueField = currentMultiValueField.getParent()?.getParent() as MultiValueField;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tconst event = new UI5Event(\"\", currentMultiValueField, {\n\t\t\t\t\t\t\t\tfieldGroupIds: currentMultiValueField.getFieldGroupIds()\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tcontroller.collaborativeDraft.handleContentFocusOut(event);\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tthis\n\t\t\t\t);\n\n\t\t\t\tconst valueHelpControl = Element.getElementById(multiValueField.getValueHelp()) as MdcValueHelp;\n\n\t\t\t\tvalueHelpControl?.attachOpened((evt: ValueHelp$OpenedEvent) => {\n\t\t\t\t\tconst currentMultiValueField = evt.getSource().getControl()!;\n\t\t\t\t\tcontroller.collaborativeDraft.handleContentFocusIn(currentMultiValueField as MultiValueField);\n\t\t\t\t});\n\t\t\t}\n\t\t\tmultiValueField.addCustomData(new CustomData({ key: \"forwardedItemsBinding\", value: this.items }));\n\t\t\treturn this.collaborationEnabled ? formwrapper : multiValueField;\n\t\t}\n\t}\n\n\t/**\n\t * Setter for the readOnly property.\n\t * @param readOnly\n\t */\n\tsetReadOnly(readOnly: boolean): void {\n\t\tsuper.setProperty(\"readOnly\", readOnly);\n\t\tthis.updateEditMode();\n\t}\n\n\t/**\n\t * Setter for the _isInEditMode property.\n\t * @param inEditMode\n\t */\n\tset_isInEditMode(inEditMode: boolean): void {\n\t\tsuper.setProperty(\"_isInEditMode\", inEditMode);\n\t\tthis.updateEditMode();\n\t}\n\n\t/**\n\t * The function returns the MultiValueField.\n\t * @returns The MultiValueField.\n\t */\n\tgetMultiValueField(): MultiValueField {\n\t\tif (this.isCollaborationDraftSupported()) {\n\t\t\treturn ((this.content as FormElementWrapper).content as HBox).getItems()[0] as MultiValueField;\n\t\t} else {\n\t\t\treturn this.content as MultiValueField;\n\t\t}\n\t}\n\n\t/**\n\t * Update the edit mode based on the readOnly and _isInEditMode properties.\n\t */\n\tupdateEditMode(): void {\n\t\tif (!this.content) {\n\t\t\treturn;\n\t\t}\n\t\tconst multivalueField = this.getMultiValueField();\n\t\tconst insertableAndDeletable = multivalueField.data(\"insertableAndDeletable\");\n\t\tif (this.readOnly === true || !insertableAndDeletable) {\n\t\t\tthis.editMode = \"Display\";\n\t\t\tmultivalueField.setEditMode(\"Display\");\n\t\t} else if (this.readOnly === false && insertableAndDeletable) {\n\t\t\t//readOnly false can only have impact if items are provided\n\t\t\tif (this._isInEditMode) {\n\t\t\t\tthis.editMode = \"Editable\";\n\t\t\t\tmultivalueField.setEditMode(\"Editable\");\n\t\t\t} else {\n\t\t\t\tthis.editMode = \"Display\";\n\t\t\t\tmultivalueField.setEditMode(\"Display\");\n\t\t\t}\n\t\t}\n\t\t// if readOnly is not explicitly set we keep teh standard behavior\n\t}\n\n\t/**\n\t * On Before rendering froward the ariaLabelledBy to the mdc MultiValueField.\n\t */\n\tonBeforeRendering(): void {\n\t\tif (this.content) {\n\t\t\tconst multiValueField = this.getMultiValueField();\n\t\t\tconst aAriaLabelledBy = (this as unknown as EnhanceWithUI5<MultiValueFieldBlock>).getAriaLabelledBy();\n\n\t\t\tfor (const sId of aAriaLabelledBy) {\n\t\t\t\tconst aAriaLabelledBys = multiValueField.getAriaLabelledBy();\n\t\t\t\tif (!aAriaLabelledBys.includes(sId)) {\n\t\t\t\t\tmultiValueField.addAriaLabelledBy(sId);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n"],"mappings":"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","ignoreList":[],"file":"MultiValueField-dbg.js"}