{"version":3,"file":"Status.js","names":["Status","_dec","defineUI5Class","_dec2","implementInterface","_dec3","property","type","required","_dec4","_dec5","allowedValues","_dec6","_dec7","_dec8","_dec9","event","_class","_class2","_BuildingBlock","properties","others","_this","call","this","_initializerDefineProperty","_descriptor","_descriptor2","_descriptor3","_descriptor4","_descriptor5","_descriptor6","_descriptor7","_descriptor8","_exports","_inheritsLoose","_proto","prototype","onMetadataAvailable","getTemplatingObjects","dataModelPath","valueDataModelPath","content","createContent","internalDataModelPath","getDataModelObjectForMetaPath","metaPath","contextPath","targetObject","isProperty","annotations","UI","DataFieldDefault","undefined","Value","path","enhanceDataModelPath","getCriticalityExpression","specificColorMap","buildExpressionForCriticalityColor","getCriticalityIconExpression","buildExpressionForCriticalityIcon","getObjectStatusTextBinding","propertyOrDataFieldDataModelObjectPath","getTextBinding","statusConfig","getAppComponent","getAdditionalConfiguration","dataFieldOrPropertyDataModelObjectPath","visible","getVisibleExpression","criticalityExpression","colorMap","criticalityIconExpression","textBinding","isActive","hasListeners","isPropertyInitial","inverted","invertedDefaultValue","largeDesign","hideIcon","_jsx","MObjectStatus","id","generate","getId","class","state","icon","text","active","reactiveAreaMode","press","pressEvent","fireEvent","BuildingBlock","_applyDecoratedDescriptor","configurable","enumerable","writable","initializer"],"sources":["./Status.tsx"],"sourcesContent":["import type { Property } from \"@sap-ux/vocabularies-types\";\nimport type { DataField, DataPointType } from \"@sap-ux/vocabularies-types/vocabularies/UI\";\nimport { UIAnnotationTerms } from \"@sap-ux/vocabularies-types/vocabularies/UI\";\nimport type { CompiledBindingToolkitExpression } from \"sap/fe/base/BindingToolkit\";\nimport { defineUI5Class, event, implementInterface, property, type PropertiesOf } from \"sap/fe/base/ClassSupport\";\nimport BuildingBlock from \"sap/fe/core/buildingBlocks/BuildingBlock\";\nimport { generate } from \"sap/fe/core/helpers/StableIdHelper\";\nimport { isProperty } from \"sap/fe/core/helpers/TypeGuards\";\nimport { buildExpressionForCriticalityColor, buildExpressionForCriticalityIcon } from \"sap/fe/core/templating/CriticalityFormatters\";\nimport type { DataModelObjectPath } from \"sap/fe/core/templating/DataModelPathHelper\";\nimport { enhanceDataModelPath } from \"sap/fe/core/templating/DataModelPathHelper\";\nimport { getTextBinding, getVisibleExpression } from \"sap/fe/macros/field/FieldTemplating\";\nimport type { ObjectStatus$PressEvent } from \"sap/m/ObjectStatus\";\nimport MObjectStatus from \"sap/m/ObjectStatus\";\nimport type { $ControlSettings } from \"sap/ui/core/Control\";\nimport type { IFormContent } from \"sap/ui/core/library\";\n\n/**\n * Building block to display a status and criticality.\n * @public\n * @ui5-experimental-since 1.141.0\n * @since 1.141.0\n */\n@defineUI5Class(\"sap.fe.macros.Status\")\nexport default class Status extends BuildingBlock<MObjectStatus> implements IFormContent {\n\t@implementInterface(\"sap.ui.core.IFormContent\")\n\t__implements__sap_ui_core_IFormContent = true;\n\n\t/**\n\t * Metadata path to the DataField annotation or property.\n\t * @public\n\t */\n\t@property({\n\t\ttype: \"string\",\n\t\trequired: true\n\t})\n\tpublic metaPath!: string;\n\n\t/**\n\t * Context path for the binding context.\n\t * @public\n\t */\n\t@property({\n\t\ttype: \"string\"\n\t})\n\tpublic contextPath?: string;\n\n\t/**\n\t *  When the Status is clickable, it defines the size of the reactive area of the clickable element:\n\t *\n\t * - ReactiveAreaMode.Inline - The Status is displayed as part of a sentence.\n\t * - ReactiveAreaMode.Overlay - The Status is displayed as an overlay on top of other interactive parts of the page.\n\t * Note: It is designed to make the clickable element easier to activate and helps meet the WCAG 2.2 Target Size requirement. It is applicable only for the SAP Horizon themes. Note: The size of the reactive area is sufficiently large to help users avoid accidentally selecting (clicking or tapping) unintended UI elements. UI elements positioned over other parts of the page may need an invisible active touch area. This ensures that no elements beneath are activated accidentally when the user tries to interact with the overlay element.\n\t * @public\n\t */\n\t@property({ type: \"string\", allowedValues: [\"Inline\", \"Overlay\"] })\n\tpublic reactiveAreaMode?: \"Inline\" | \"Overlay\";\n\n\t/**\n\t * Indicates whether the ObjectStatus should be displayed in large design mode.\n\t * @public\n\t */\n\t@property({ type: \"boolean\" })\n\tpublic largeDesign = false;\n\n\t/**\n\t * Determines whether the background color reflects the set state of the ObjectStatus instead of the control's text.\n\t * @public\n\t */\n\t@property({ type: \"boolean\" })\n\tpublic inverted = false;\n\n\t@property({ type: \"boolean\" })\n\tpublic hideIcon = false;\n\n\t/**\n\t * Press event fired when the ObjectStatus is clicked.\n\t * @param event The press event\n\t * @public\n\t */\n\t@event()\n\tpublic press?: (event: ObjectStatus$PressEvent) => void;\n\n\t/**\n\t * Internal property to store the data model path\n\t */\n\tprivate dataModelPath?: DataModelObjectPath<DataField | DataPointType>;\n\n\tprivate valueDataModelPath?: DataModelObjectPath<Property>;\n\n\t/**\n\t * Constructor for the Status building block.\n\t * @param properties The properties object containing Status-specific settings and base control settings\n\t * @param [others] Additional control settings that may be applied to the building block\n\t */\n\tconstructor(properties: $ControlSettings & PropertiesOf<Status>, others?: $ControlSettings) {\n\t\tsuper(properties, others);\n\t}\n\n\t/**\n\t * Handler for the onMetadataAvailable event.\n\t */\n\tonMetadataAvailable(): void {\n\t\tthis.getTemplatingObjects();\n\t\tif (!this.dataModelPath && !this.valueDataModelPath) {\n\t\t\t// there cannot be a static value and no datafield or datapoint\n\t\t\treturn;\n\t\t}\n\t\tif (!this.content) {\n\t\t\tthis.content = this.createContent();\n\t\t}\n\t}\n\n\t/**\n\t * Function to get the templating objects and prepare data model paths.\n\t */\n\tprivate getTemplatingObjects(): void {\n\t\t// Try to get as DataField first, then as DataPoint, then as Property\n\t\tconst internalDataModelPath = this.getDataModelObjectForMetaPath<DataField | DataPointType | Property>(\n\t\t\tthis.metaPath,\n\t\t\tthis.contextPath\n\t\t);\n\t\tconst targetObject = internalDataModelPath?.targetObject;\n\n\t\tif (!internalDataModelPath) {\n\t\t\treturn;\n\t\t}\n\t\tif (isProperty(targetObject)) {\n\t\t\tif (targetObject?.annotations?.UI?.DataFieldDefault !== undefined) {\n\t\t\t\tthis.dataModelPath = this.getDataModelObjectForMetaPath<DataField>(\n\t\t\t\t\t`${this.metaPath}@${UIAnnotationTerms.DataFieldDefault}`,\n\t\t\t\t\tthis.contextPath\n\t\t\t\t);\n\t\t\t}\n\t\t\tthis.valueDataModelPath = internalDataModelPath as DataModelObjectPath<Property>;\n\t\t} else {\n\t\t\tthis.dataModelPath = internalDataModelPath as DataModelObjectPath<DataField | DataPointType>;\n\t\t\tif (this.dataModelPath?.targetObject?.Value?.path) {\n\t\t\t\tthis.valueDataModelPath = enhanceDataModelPath<Property>(internalDataModelPath, this.dataModelPath.targetObject.Value.path);\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Gets the criticality expression for the ObjectStatus.\n\t * @returns The compiled binding expression for criticality color, or undefined if no criticality is available\n\t */\n\tprivate getCriticalityExpression(specificColorMap?: Record<string, string>): CompiledBindingToolkitExpression | undefined {\n\t\treturn this.dataModelPath === undefined\n\t\t\t? undefined\n\t\t\t: buildExpressionForCriticalityColor(this.dataModelPath, this.dataModelPath, specificColorMap);\n\t}\n\n\t/**\n\t * Gets the criticality icon expression for the ObjectStatus.\n\t * @returns The compiled binding expression for criticality icon, or undefined if no criticality is available\n\t */\n\tprivate getCriticalityIconExpression(): CompiledBindingToolkitExpression | undefined {\n\t\treturn this.dataModelPath === undefined ? undefined : buildExpressionForCriticalityIcon(this.dataModelPath, this.dataModelPath);\n\t}\n\n\t/**\n\t * Gets the text binding expression for the ObjectStatus.\n\t * @returns The compiled binding expression for the ObjectStatus text content\n\t */\n\tprivate getObjectStatusTextBinding(): CompiledBindingToolkitExpression {\n\t\tconst propertyOrDataFieldDataModelObjectPath = (this.valueDataModelPath ?? this.dataModelPath) as DataModelObjectPath<\n\t\t\tProperty | DataField | DataPointType\n\t\t>;\n\t\treturn getTextBinding(propertyOrDataFieldDataModelObjectPath, {}) as CompiledBindingToolkitExpression;\n\t}\n\n\t/**\n\t * Creates the ObjectStatus control content.\n\t * @returns The configured ObjectStatus control ready for rendering\n\t */\n\tcreateContent(): MObjectStatus {\n\t\tconst statusConfig = this.getAppComponent()?.getAdditionalConfiguration()?.[\"sap.fe.macros\"]?.Status;\n\t\tconst dataFieldOrPropertyDataModelObjectPath = (this.dataModelPath ?? this.valueDataModelPath) as DataModelObjectPath<\n\t\t\tProperty | DataField | DataPointType\n\t\t>;\n\t\tconst visible = getVisibleExpression(dataFieldOrPropertyDataModelObjectPath);\n\t\tconst criticalityExpression = this.getCriticalityExpression(statusConfig?.colorMap);\n\t\tconst criticalityIconExpression = this.getCriticalityIconExpression();\n\t\tconst textBinding = this.getObjectStatusTextBinding();\n\t\tconst isActive = this.hasListeners(\"press\");\n\t\tif (this.isPropertyInitial(\"inverted\")) {\n\t\t\t// if inverted is not set, use the default from configuration\n\t\t\tthis.inverted = statusConfig?.invertedDefaultValue === true;\n\t\t}\n\t\tif (this.largeDesign) {\n\t\t\tthis.hideIcon = true;\n\t\t}\n\n\t\treturn (\n\t\t\t<MObjectStatus\n\t\t\t\tid={generate([this.getId(), \"ObjectStatus\"])}\n\t\t\t\tinverted={this.inverted}\n\t\t\t\tclass={this.largeDesign ? \"sapMObjectStatusLarge sapMObjectStatusLongText\" : undefined}\n\t\t\t\tstate={criticalityExpression}\n\t\t\t\ticon={this.hideIcon ? undefined : criticalityIconExpression}\n\t\t\t\ttext={textBinding}\n\t\t\t\tvisible={visible}\n\t\t\t\tactive={isActive}\n\t\t\t\treactiveAreaMode={this.reactiveAreaMode}\n\t\t\t\tpress={(pressEvent: ObjectStatus$PressEvent): void => {\n\t\t\t\t\tthis.fireEvent(\"press\", pressEvent);\n\t\t\t\t}}\n\t\t\t/>\n\t\t);\n\t}\n}\n"],"mappings":"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","ignoreList":[]}