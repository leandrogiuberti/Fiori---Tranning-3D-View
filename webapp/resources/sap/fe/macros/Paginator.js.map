{"version":3,"file":"Paginator.js","names":["ButtonType","Paginator","_dec","defineUI5Class","_dec2","property","type","_dec3","_dec4","defineReference","_dec5","_dec6","_dec7","_dec8","controllerExtensionHandler","_class","_class2","_BuildingBlock","props","others","_this","call","this","_initializerDefineProperty","_descriptor","_descriptor2","_descriptor3","_descriptor4","_descriptor5","_descriptor6","paginatorModel","JSONModel","navUpEnabled","navDownEnabled","_iCurrentIndex","_nextIndex","_previousIndex","_listCurrentContexts","_exports","_inheritsLoose","load","async","ObjectPageHeaderActionButton","undefined","default","__ui5_require_async","_proto","prototype","onMetadataAvailable","_ownerComponent","content","createContent","onModelContextChange","event","source","getSource","isA","upButton","current","downButton","context","getBindingContext","_updateDescriptionAndFocus","initialize","listBinding","getAllCurrentContexts","_oListBinding","attachEvent","_updateIndicesAndButtonEnablement","bind","_oCurrentContext","_setPrevOrNextIndex","index","direction","getPageController","paginator","determineContextNavigationType","navigationAvailable","ModelHelper","evaluateVirtualExpression","getRoutingTargetName","ContextNavigationType","None","Internal","Next","length","Previous","sPath","getPath","findIndex","oContext","oCurrentIndexContext","_updateCurrentIndex","_invokeSetPrevOrNextIndex","then","_handleButtonEnablement","catch","error","Log","Promise","resolve","buttonEnablementModel","setProperty","isInactive","updateCurrentContext","newContextIndex","oModel","getModel","submitBatch","currentContexts","newContext","preventIdxUpdate","onBeforeContextUpdate","onContextUpdate","focusControl","Element","getActiveElement","upEnabled","getEnabled","downEnabled","upDescriptionText","downDescriptionText","focus","getTranslatedText","upDescription","setText","downDescription","navUpEnabledExpression","pathInModel","navDownEnabledExpression","visibleExpression","or","navUpTooltipExpression","navDownTooltipExpression","titleDescription","ariaTitle","setModel","_jsxs","HBox","displayInline","id","createId","visible","compileExpression","modelContextChange","children","_jsx","InvisibleText","ref","text","enabled","tooltip","icon","press","importance","ariaDescribedBy","filter","val","BuildingBlock","_applyDecoratedDescriptor","configurable","enumerable","writable","initializer","Object","getOwnPropertyDescriptor"],"sources":["./Paginator.tsx"],"sourcesContent":["import Log from \"sap/base/Log\";\nimport { compileExpression, or, pathInModel, type CompiledBindingToolkitExpression } from \"sap/fe/base/BindingToolkit\";\nimport type { PropertiesOf } from \"sap/fe/base/ClassSupport\";\nimport { defineReference, defineUI5Class, property } from \"sap/fe/base/ClassSupport\";\nimport { controllerExtensionHandler } from \"sap/fe/base/HookSupport\";\nimport type { Ref } from \"sap/fe/base/jsx-runtime/jsx\";\nimport type PageController from \"sap/fe/core/PageController\";\nimport type TemplateComponent from \"sap/fe/core/TemplateComponent\";\nimport BuildingBlock from \"sap/fe/core/buildingBlocks/BuildingBlock\";\nimport ModelHelper from \"sap/fe/core/helpers/ModelHelper\";\nimport { ContextNavigationType } from \"sap/fe/core/library\";\nimport HBox from \"sap/m/HBox\";\nimport type UI5Event from \"sap/ui/base/Event\";\nimport Element from \"sap/ui/core/Element\";\nimport InvisibleText from \"sap/ui/core/InvisibleText\";\nimport JSONModel from \"sap/ui/model/json/JSONModel\";\nimport type { default as Context, default as ODataV4Context } from \"sap/ui/model/odata/v4/Context\";\nimport type ODataListBinding from \"sap/ui/model/odata/v4/ODataListBinding\";\nimport type ObjectPageHeaderActionButton from \"sap/uxap/ObjectPageHeaderActionButton\";\n\nenum ButtonType {\n\tNext = \"Next\",\n\tPrevious = \"Previous\"\n}\n\n/**\n * Building block used to create a paginator control.\n *\n * Usage example:\n * <pre>\n * &lt;macros:Paginator /&gt;\n * </pre>\n * @hideconstructor\n * @public\n * @since 1.94.0\n */\n@defineUI5Class(\"sap.fe.macros.Paginator\")\nexport default class Paginator extends BuildingBlock<HBox> {\n\t/**\n\t * The identifier of the Paginator control.\n\t */\n\t@property({ type: \"string\" })\n\tpublic id = \"\";\n\n\t/**\n\t * Title of the object that is readout by screen readers when the next/previous item is loaded via keyboard focus on the paginator button.\n\t * @public\n\t */\n\t@property({ type: \"string\" })\n\tpublic ariaTitle?: CompiledBindingToolkitExpression;\n\n\t@defineReference()\n\tupButton!: Ref<ObjectPageHeaderActionButton>;\n\n\t@defineReference()\n\tdownButton!: Ref<ObjectPageHeaderActionButton>;\n\n\t@defineReference()\n\tupDescription!: Ref<InvisibleText>;\n\n\t@defineReference()\n\tdownDescription!: Ref<InvisibleText>;\n\n\tprotected base!: PageController;\n\n\tprivate paginatorModel = new JSONModel({\n\t\tnavUpEnabled: false,\n\t\tnavDownEnabled: false\n\t});\n\n\tprivate _oListBinding?: ODataListBinding;\n\n\tprivate _oCurrentContext?: Context;\n\n\tprivate _iCurrentIndex = -1;\n\n\tprivate _nextIndex = -1;\n\n\tprivate _previousIndex = -1;\n\n\tprivate _listCurrentContexts: ODataV4Context[] = [];\n\n\tconstructor(props?: PropertiesOf<Paginator>, others?: PropertiesOf<Paginator>) {\n\t\tsuper(props, others);\n\t}\n\n\tprivate static ObjectPageHeaderActionButton: typeof ObjectPageHeaderActionButton;\n\n\tstatic async load(): Promise<typeof Paginator> {\n\t\tif (Paginator.ObjectPageHeaderActionButton === undefined) {\n\t\t\tconst { default: ObjectPageHeaderActionButton } = await import(\"sap/uxap/ObjectPageHeaderActionButton\");\n\t\t\tPaginator.ObjectPageHeaderActionButton = ObjectPageHeaderActionButton;\n\t\t}\n\t\treturn this;\n\t}\n\n\tasync onMetadataAvailable(_ownerComponent: TemplateComponent): Promise<void> {\n\t\tawait Paginator.load();\n\t\tthis.content = this.createContent(_ownerComponent);\n\t}\n\n\tonModelContextChange(event: UI5Event): void {\n\t\tconst source = event.getSource();\n\t\tif (source.isA<HBox>(\"sap.m.HBox\") && this.upButton.current && this.downButton.current) {\n\t\t\tconst context = source.getBindingContext();\n\t\t\tif (!context) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis._updateDescriptionAndFocus(this.upButton.current, this.downButton.current);\n\t\t}\n\t}\n\n\t/**\n\t * Initiates the paginator control.\n\t * @param listBinding ODataListBinding object\n\t * @param context Current context where the navigation is initiated\n\t * @since 1.94.0\n\t */\n\t@controllerExtensionHandler(\"paginator\", \"initialize\")\n\tinitialize(listBinding?: ODataListBinding, context?: Context): void {\n\t\tif (listBinding && (listBinding as { getAllCurrentContexts?: Function }).getAllCurrentContexts) {\n\t\t\tthis._oListBinding = listBinding;\n\t\t\tthis._listCurrentContexts = this._oListBinding.getAllCurrentContexts();\n\t\t\tlistBinding.attachEvent(\"change\", this._updateIndicesAndButtonEnablement.bind(this));\n\t\t} else {\n\t\t\tthis._oListBinding = undefined;\n\t\t}\n\t\tif (context) {\n\t\t\tthis._oCurrentContext = context;\n\t\t}\n\n\t\tthis._updateIndicesAndButtonEnablement();\n\t}\n\n\t/**\n\t * Updates the indices for the paginator based on the current context and direction.\n\t * @param index Determines the next or previous index from the current context.\n\t * @param direction The navigation direction, either \"Next\" or \"Previous\".\n\t */\n\tasync _setPrevOrNextIndex(index: number, direction: ButtonType): Promise<void> {\n\t\tlet type = await this.getPageController()?.paginator.determineContextNavigationType(this._listCurrentContexts[index]);\n\n\t\tconst navigationAvailable = await ModelHelper.evaluateVirtualExpression(\n\t\t\t\"@$ui5.fe.virtual.routeNavigable-\" + this.getPageController().getRoutingTargetName(),\n\t\t\tthis._listCurrentContexts[index]\n\t\t);\n\t\tif (navigationAvailable === false) {\n\t\t\ttype = ContextNavigationType.None;\n\t\t}\n\t\tif (type === ContextNavigationType.Internal) {\n\t\t\tif (direction === ButtonType.Next) {\n\t\t\t\tthis._nextIndex = index;\n\t\t\t} else {\n\t\t\t\tthis._previousIndex = index;\n\t\t\t}\n\t\t} else if (direction === ButtonType.Next) {\n\t\t\tif (index !== this._listCurrentContexts.length - 1) {\n\t\t\t\tawait this._setPrevOrNextIndex(index + 1, ButtonType.Next);\n\t\t\t} else {\n\t\t\t\tthis._nextIndex = -1;\n\t\t\t}\n\t\t} else if (index !== 0) {\n\t\t\tawait this._setPrevOrNextIndex(index - 1, ButtonType.Previous);\n\t\t} else {\n\t\t\tthis._previousIndex = -1;\n\t\t}\n\t}\n\n\tasync _updateIndicesAndButtonEnablement(): Promise<void> {\n\t\tif (this._oCurrentContext && this._oListBinding) {\n\t\t\tthis._listCurrentContexts = this._oListBinding.getAllCurrentContexts();\n\t\t\tconst sPath = this._oCurrentContext.getPath();\n\t\t\t// Storing the currentIndex in global variable\n\t\t\tthis._iCurrentIndex = this._listCurrentContexts?.findIndex(function (oContext: ODataV4Context) {\n\t\t\t\treturn oContext && oContext.getPath() === sPath;\n\t\t\t});\n\t\t\tconst oCurrentIndexContext = this._listCurrentContexts?.[this._iCurrentIndex];\n\t\t\tif (\n\t\t\t\t(!this._iCurrentIndex && this._iCurrentIndex !== 0) ||\n\t\t\t\t!oCurrentIndexContext ||\n\t\t\t\tthis._oCurrentContext.getPath() !== oCurrentIndexContext.getPath()\n\t\t\t) {\n\t\t\t\tthis._updateCurrentIndex();\n\t\t\t}\n\n\t\t\treturn this._invokeSetPrevOrNextIndex()\n\t\t\t\t.then((): void => {\n\t\t\t\t\tthis._handleButtonEnablement();\n\t\t\t\t\treturn;\n\t\t\t\t})\n\t\t\t\t.catch((error) => {\n\t\t\t\t\tLog.error(\"Error occurred while setting button indices or handling button enablement:\", error);\n\t\t\t\t});\n\t\t} else {\n\t\t\tthis._handleButtonEnablement();\n\t\t\treturn Promise.resolve();\n\t\t}\n\t}\n\n\t/**\n\t * Handles the enablement of navigation buttons based on the current context and list binding.\n\t * If applicable, updates the model properties to enable or disable the navigation buttons.\n\t */\n\t_handleButtonEnablement(): void {\n\t\t//Enabling and Disabling the Buttons on change of the control context\n\t\tconst buttonEnablementModel = this.paginatorModel;\n\t\tif (this._oListBinding && this._oListBinding.getAllCurrentContexts()?.length > 1 && this._iCurrentIndex > -1) {\n\t\t\tthis._listCurrentContexts = this._oListBinding.getAllCurrentContexts();\n\t\t\tif (this._iCurrentIndex === this._listCurrentContexts.length - 1 || this._nextIndex === -1) {\n\t\t\t\tbuttonEnablementModel.setProperty(\"/navDownEnabled\", false);\n\t\t\t} else if (this._listCurrentContexts[this._iCurrentIndex + 1].isInactive()) {\n\t\t\t\t//check the next context is not an inactive context\n\t\t\t\tbuttonEnablementModel.setProperty(\"/navDownEnabled\", false);\n\t\t\t} else {\n\t\t\t\tbuttonEnablementModel.setProperty(\"/navDownEnabled\", true);\n\t\t\t}\n\t\t\tif (this._iCurrentIndex === 0 || this._previousIndex === -1) {\n\t\t\t\tbuttonEnablementModel.setProperty(\"/navUpEnabled\", false);\n\t\t\t} else if (this._listCurrentContexts[this._iCurrentIndex - 1].isInactive()) {\n\t\t\t\tbuttonEnablementModel.setProperty(\"/navUpEnabled\", false);\n\t\t\t} else {\n\t\t\t\tbuttonEnablementModel.setProperty(\"/navUpEnabled\", true);\n\t\t\t}\n\t\t} else {\n\t\t\t// Don't show the paginator buttons\n\t\t\t// 1. When no listbinding is available\n\t\t\t// 2. Only '1' or '0' context exists in the listBinding\n\t\t\t// 3. The current index is -ve, i.e the currentIndex is invalid.\n\t\t\tbuttonEnablementModel.setProperty(\"/navUpEnabled\", false);\n\t\t\tbuttonEnablementModel.setProperty(\"/navDownEnabled\", false);\n\t\t}\n\t}\n\n\t_updateCurrentIndex(): void {\n\t\tif (this._oCurrentContext && this._oListBinding) {\n\t\t\tconst sPath = this._oCurrentContext.getPath();\n\t\t\t// Storing the currentIndex in global variable\n\t\t\tthis._iCurrentIndex = this._listCurrentContexts?.findIndex(function (oContext: ODataV4Context) {\n\t\t\t\treturn oContext && oContext.getPath() === sPath;\n\t\t\t});\n\t\t}\n\t}\n\n\tasync _invokeSetPrevOrNextIndex(): Promise<void> {\n\t\tif (this._listCurrentContexts.length > 1) {\n\t\t\tif (this._iCurrentIndex !== this._listCurrentContexts.length - 1) {\n\t\t\t\tawait this._setPrevOrNextIndex(this._iCurrentIndex + 1, ButtonType.Next);\n\t\t\t}\n\n\t\t\tif (this._iCurrentIndex !== 0) {\n\t\t\t\tawait this._setPrevOrNextIndex(this._iCurrentIndex - 1, ButtonType.Previous);\n\t\t\t}\n\t\t}\n\t}\n\n\tasync updateCurrentContext(newContextIndex: number): Promise<void> {\n\t\tif (!this._oListBinding) {\n\t\t\treturn;\n\t\t}\n\t\tconst oModel = this._oCurrentContext?.getModel ? this._oCurrentContext?.getModel() : undefined;\n\t\t//Submitting any pending changes that might be there before navigating to next context.\n\t\tawait oModel?.submitBatch(\"$auto\");\n\t\tconst currentContexts = this._oListBinding.getAllCurrentContexts();\n\t\tconst newContext = currentContexts[newContextIndex];\n\n\t\tif (newContext) {\n\t\t\tconst preventIdxUpdate = this.getPageController()?.paginator.onBeforeContextUpdate(\n\t\t\t\tthis._oListBinding,\n\t\t\t\tthis._iCurrentIndex,\n\t\t\t\tnewContextIndex\n\t\t\t);\n\t\t\tif (!preventIdxUpdate) {\n\t\t\t\tthis._iCurrentIndex = newContextIndex;\n\t\t\t\tthis._oCurrentContext = newContext;\n\t\t\t}\n\t\t\tthis.getPageController()?.paginator.onContextUpdate(newContext);\n\t\t}\n\t\tthis._updateIndicesAndButtonEnablement();\n\t}\n\n\t_updateDescriptionAndFocus(upButton: ObjectPageHeaderActionButton, downButton: ObjectPageHeaderActionButton): void {\n\t\tconst focusControl = Element.getActiveElement();\n\t\tconst upEnabled = upButton.getEnabled();\n\t\tconst downEnabled = downButton.getEnabled();\n\t\tlet upDescriptionText = \"\";\n\t\tlet downDescriptionText = \"\";\n\n\t\tif (upEnabled && !downEnabled && focusControl === downButton) {\n\t\t\t// Last record in the list.\n\t\t\tupButton.focus();\n\t\t\tupDescriptionText = this.getTranslatedText(\"M_PAGINATOR_TITLE_BOTTOM\");\n\t\t\tdownDescriptionText = \"\";\n\t\t} else if (downEnabled && !upEnabled && focusControl === upButton) {\n\t\t\t// First record in the list.\n\t\t\tdownButton.focus();\n\t\t\tupDescriptionText = \"\";\n\t\t\tdownDescriptionText = this.getTranslatedText(\"M_PAGINATOR_TITLE_TOP\");\n\t\t}\n\n\t\tif (this.upDescription.current) {\n\t\t\tthis.upDescription.current.setText(upDescriptionText);\n\t\t}\n\t\tif (this.downDescription.current) {\n\t\t\tthis.downDescription.current.setText(downDescriptionText);\n\t\t}\n\t}\n\n\t/**\n\t * The runtime building block template function.\n\t * @param _ownerComponent\n\t * @returns A JS-based string\n\t */\n\tcreateContent(_ownerComponent: TemplateComponent): HBox {\n\t\t// The model name is hardcoded, as this building block can also be used transparently by application developers\n\t\tconst navUpEnabledExpression = pathInModel(\"/navUpEnabled\", \"paginator\");\n\t\tconst navDownEnabledExpression = pathInModel(\"/navDownEnabled\", \"paginator\");\n\t\tconst visibleExpression = or(navUpEnabledExpression, navDownEnabledExpression);\n\n\t\tconst navUpTooltipExpression = pathInModel(\"T_PAGINATOR_CONTROL_PAGINATOR_TOOLTIP_UP\", \"sap.fe.i18n\");\n\t\tconst navDownTooltipExpression = pathInModel(\"T_PAGINATOR_CONTROL_PAGINATOR_TOOLTIP_DOWN\", \"sap.fe.i18n\");\n\t\tconst titleDescription = this.ariaTitle\n\t\t\t? this.getTranslatedText(\"M_PAGINATOR_ANNOUNCEMENT_TITLE_LOADED\", [this.ariaTitle])\n\t\t\t: this.getTranslatedText(\"M_PAGINATOR_ANNOUNCEMENT_OBJECT_LOADED\");\n\n\t\t_ownerComponent.setModel(this.paginatorModel, \"paginator\");\n\n\t\treturn (\n\t\t\t<HBox\n\t\t\t\tdisplayInline=\"true\"\n\t\t\t\tid={this.createId(\"_box\")}\n\t\t\t\tvisible={compileExpression(visibleExpression)}\n\t\t\t\tmodelContextChange={(event: UI5Event): void => {\n\t\t\t\t\tthis.onModelContextChange(event);\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<InvisibleText ref={this.upDescription} id={this.createId(\"upDescription\")} />\n\t\t\t\t<InvisibleText ref={this.downDescription} id={this.createId(\"downDescription\")} />\n\t\t\t\t<InvisibleText id={this.createId(\"titleDescription\")} text={titleDescription} />\n\t\t\t\t<Paginator.ObjectPageHeaderActionButton\n\t\t\t\t\tid={this.createId(\"previousItem\")}\n\t\t\t\t\tref={this.upButton}\n\t\t\t\t\tenabled={compileExpression(navUpEnabledExpression)}\n\t\t\t\t\ttooltip={compileExpression(navUpTooltipExpression)}\n\t\t\t\t\ticon=\"sap-icon://navigation-up-arrow\"\n\t\t\t\t\tpress={async (): Promise<void> => this.updateCurrentContext(this._previousIndex)}\n\t\t\t\t\ttype=\"Transparent\"\n\t\t\t\t\timportance=\"High\"\n\t\t\t\t\tariaDescribedBy={\n\t\t\t\t\t\t[this.createId(\"titleDescription\"), this.createId(\"upDescription\")].filter((val) => val !== undefined) as string[]\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t\t<Paginator.ObjectPageHeaderActionButton\n\t\t\t\t\tid={this.createId(\"nextItem\")}\n\t\t\t\t\tref={this.downButton}\n\t\t\t\t\tenabled={compileExpression(navDownEnabledExpression)}\n\t\t\t\t\ttooltip={compileExpression(navDownTooltipExpression)}\n\t\t\t\t\ticon=\"sap-icon://navigation-down-arrow\"\n\t\t\t\t\tpress={async (): Promise<void> => this.updateCurrentContext(this._nextIndex)}\n\t\t\t\t\ttype=\"Transparent\"\n\t\t\t\t\timportance=\"High\"\n\t\t\t\t\tariaDescribedBy={\n\t\t\t\t\t\t[this.createId(\"titleDescription\"), this.createId(\"downDescription\")].filter((val) => val !== undefined) as string[]\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t</HBox>\n\t\t);\n\t}\n}\n"],"mappings":"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","ignoreList":[]}