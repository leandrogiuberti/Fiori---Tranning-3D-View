{"version":3,"names":["getChangedPropertyValues","designtimeSettings","unchangedData","propertyValues","propertyChanges","forEach","setting","id","JSON","stringify","writeObject","writeObjectFor","changeObject","length","settingsTogether","path","skipChange","_exports","getChangeStructure","appComponent","page","propertyPath","selector","changeSpecificData","appDescriptorChangeType","content","parameters","entityPropertyChange","operation","propertyValue","setLocalText","item","resourceModel","key","getText","setLocalTexts","model","settingsData","getData","control","controlData","enum","enumData","createAdaptionDialogContent","configContext","configPath","arguments","undefined","settingsModel","JSONModel","setData","deepClone","getProperty","list","List","setModel","updatePersonalizationDependentControls","selectedValue","dependentControls","isOwnSettings","controlId","listItems","getItems","getContent","data","setSelected","listItem","InputListItem","label","bindContent","factory","context","type","Item","text","select","Select","selectedKey","change","event","getParameter","getKey","bindItems","template","Input","value","oMultiInput","MultiInput","width","showValueHelp","showClearIcon","tokens","navigationProperties","map","navigationProperty","Token","tokenUpdate","array","push","splice","indexOf","addValidator","args","CheckBox","selected","toLowerCase","parse","toString","openAdaptionDialog","title","infoText","size","informationMessage","MessageStrip","showIcon","addStyleClass","listIndex","Promise","resolve","reject","dialog","Dialog","contentWidth","contentHeight","height","buttons","Button","press","updateConfigModel","getModel","close","open","processChanges","singleChange","changes","Object","entries","getChange","processGlobalChanges","keys","separateChanges","CommonUtils","getAppComponent","getPage","getParent","separateGlobalChanges","viewId","getTargetView","getId","split","extractChanges","propertyValuesEntered","globalSettings","globalChanges","global","concat","noChanges","isFioriToolsRtaMode","urlParams","shellService","getShellServices","parseParameters","window","location","search","isRTAMode","getSettingsIfKeyUser","items","filter","keyUser","isConfigModelPrepared","prepareConfigModel","setProperty","getPersonalizationSetting","settings","getObject","personalizationSetting","find","updatedSettings","getPropertyNamesAndDescriptions","props","prop","name","description","enums","enumm","isManifestChangesEnabled","owner","Component","getOwnerComponentFor","sapFeManifest","getManifestEntry","app","disableManifestChanges"],"sourceRoot":".","sources":["Designtime.helper.ts"],"sourcesContent":["/*!\n * Reuse functions for designtime adaption\n */\n\nimport deepClone from \"sap/base/util/deepClone\";\nimport type AppComponent from \"sap/fe/core/AppComponent\";\nimport CommonUtils from \"sap/fe/core/CommonUtils\";\nimport type ResourceModel from \"sap/fe/core/ResourceModel\";\nimport type TemplateComponent from \"sap/fe/core/TemplateComponent\";\nimport type { TemplateType } from \"sap/fe/core/converters/ManifestSettings\";\nimport Button from \"sap/m/Button\";\nimport CheckBox from \"sap/m/CheckBox\";\nimport Dialog from \"sap/m/Dialog\";\nimport Input from \"sap/m/Input\";\nimport InputListItem from \"sap/m/InputListItem\";\nimport List from \"sap/m/List\";\nimport MessageStrip from \"sap/m/MessageStrip\";\nimport type { MultiInput$TokenUpdateEvent } from \"sap/m/MultiInput\";\nimport MultiInput from \"sap/m/MultiInput\";\nimport Select from \"sap/m/Select\";\nimport Token from \"sap/m/Token\";\nimport Component from \"sap/ui/core/Component\";\nimport type Control from \"sap/ui/core/Control\";\nimport Item from \"sap/ui/core/Item\";\nimport type Context from \"sap/ui/model/Context\";\nimport JSONModel from \"sap/ui/model/json/JSONModel\";\n\nexport type adaptionChange = {\n\tappComponent: AppComponent;\n\tselector: AppComponent;\n\tchangeSpecificData: {\n\t\tappDescriptorChangeType: \"appdescr_fe_changePageConfiguration\";\n\t\tcontent: {\n\t\t\tparameters: {\n\t\t\t\tpage: string;\n\t\t\t\tentityPropertyChange: {\n\t\t\t\t\tpropertyPath: string;\n\t\t\t\t\toperation: string;\n\t\t\t\t\tpropertyValue: string | string[] | boolean | number | object | undefined;\n\t\t\t\t};\n\t\t\t};\n\t\t};\n\t};\n};\n\nexport type DesigntimeSettingEnums = {\n\tid: string;\n\tname: string;\n\tdescription?: string;\n};\n\nexport type DesigntimeSetting = {\n\tid: string;\n\tpath?: string;\n\tname: string;\n\tdescription: string;\n\trestrictedTo?: TemplateType[];\n\tvalue: unknown;\n\ttype?: string;\n\tenums?: DesigntimeSettingEnums[];\n\tskipChange?: boolean;\n\twriteObjectFor?: string;\n\twriteObject?: { id: string; path?: string }[];\n\tkeyUser?: boolean;\n};\n\nexport type PropertyValue = Record<string, string | string[] | boolean | number | object | undefined>;\n\nexport type SettingsData = {\n\tlabel: string;\n\ttooltip: string;\n\tcontrol: ControlData[];\n\tkeyUser?: boolean;\n};\n\ntype ControlData = {\n\ttype: string | undefined;\n\tenum: DesigntimeSettingEnums[] | undefined;\n\tvalue: unknown;\n\tid: string;\n};\n\ntype propKeyAndValue = { [key: string]: string | string[] | boolean | number | object | undefined };\n\n/**\n * Identify which settings have changed.\n * @param designtimeSettings\n * @param unchangedData\n * @param propertyValues\n *  @returns The configuration properties where the values have been changed compared to the starting values\n */\nexport function getChangedPropertyValues(\n\tdesigntimeSettings: DesigntimeSetting[],\n\tunchangedData: PropertyValue,\n\tpropertyValues: PropertyValue\n): PropertyValue {\n\tconst propertyChanges: PropertyValue = {};\n\n\tdesigntimeSettings.forEach(function (setting) {\n\t\tif (\n\t\t\t(typeof unchangedData[setting.id] !== \"object\" && unchangedData[setting.id] !== propertyValues[setting.id]) ||\n\t\t\t(typeof unchangedData[setting.id] === \"object\" &&\n\t\t\t\tJSON.stringify(unchangedData[setting.id]) !== JSON.stringify(propertyValues[setting.id]))\n\t\t) {\n\t\t\tif (setting.writeObject && propertyValues[setting.id] === setting.writeObjectFor) {\n\t\t\t\t// We write an object for this setting\n\t\t\t\tconst changeObject: PropertyValue = {};\n\t\t\t\tif (setting.writeObject && setting.writeObject?.length > 0) {\n\t\t\t\t\tsetting.writeObject.forEach(function (settingsTogether) {\n\t\t\t\t\t\tchangeObject[settingsTogether.path ? settingsTogether.path : settingsTogether.id] =\n\t\t\t\t\t\t\tpropertyValues[settingsTogether.id];\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tpropertyChanges[setting.path ? setting.path : setting.id] = changeObject;\n\t\t\t} else if (!setting.skipChange) {\n\t\t\t\tpropertyChanges[setting.path ? setting.path : setting.id] = propertyValues[setting.id];\n\t\t\t}\n\t\t}\n\t});\n\treturn propertyChanges;\n}\n/**\n * Convert sap.fe change into a structure required by the flexibility tools.\n * @param appComponent\n * @param page\n * @param propertyPath\n * @param propertyChanges\n * @returns The change structure used by flexibility tools\n */\nexport function getChangeStructure(\n\tappComponent: AppComponent,\n\tpage: string,\n\tpropertyPath: string,\n\tpropertyChanges: string | string[] | boolean | number | object | undefined\n): adaptionChange {\n\treturn {\n\t\tappComponent: appComponent,\n\t\tselector: appComponent,\n\t\tchangeSpecificData: {\n\t\t\tappDescriptorChangeType: \"appdescr_fe_changePageConfiguration\",\n\t\t\tcontent: {\n\t\t\t\tparameters: {\n\t\t\t\t\tpage: page,\n\t\t\t\t\tentityPropertyChange: {\n\t\t\t\t\t\tpropertyPath: propertyPath,\n\t\t\t\t\t\toperation: \"UPSERT\",\n\t\t\t\t\t\tpropertyValue: propertyChanges\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n}\n\nfunction setLocalText(item: Record<string, unknown>, resourceModel: ResourceModel): void {\n\tfor (const key in item) {\n\t\tif (key !== \"id\" && typeof item[key] === \"string\") {\n\t\t\titem[key] = resourceModel.getText(item[key] as string);\n\t\t}\n\t}\n}\n\nfunction setLocalTexts(model: JSONModel, resourceModel: ResourceModel): void {\n\tconst settingsData = model.getData() as SettingsData[];\n\tsettingsData.forEach((setting) => {\n\t\tsetLocalText(setting, resourceModel);\n\t\tsetting.control.forEach((controlData) => {\n\t\t\tsetLocalText(controlData, resourceModel);\n\t\t\tcontrolData.enum?.forEach((enumData) => {\n\t\t\t\tsetLocalText(enumData, resourceModel);\n\t\t\t});\n\t\t});\n\t});\n}\n\nexport function createAdaptionDialogContent(\n\tconfigContext: Context,\n\tpropertyValues: PropertyValue,\n\tresourceModel: ResourceModel,\n\tconfigPath = \"rta/configSettings\"\n): List {\n\tconst settingsModel = new JSONModel();\n\tsettingsModel.setData(deepClone(configContext.getProperty(configPath)));\n\tsetLocalTexts(settingsModel, resourceModel);\n\tconst list = new List();\n\tlist.setModel(settingsModel);\n\n\t// Function to clear personalization dependent controls when \"Own Settings\" is selected\n\tconst updatePersonalizationDependentControls = (selectedValue: string): void => {\n\t\tconst dependentControls = [\"personalizationSort\", \"personalizationColumn\", \"personalizationFilter\", \"personalizationGroup\"];\n\t\tconst isOwnSettings = selectedValue === \"Own Settings\";\n\t\tif (isOwnSettings) {\n\t\t\tdependentControls.forEach((controlId) => {\n\t\t\t\tconst listItems = list.getItems();\n\t\t\t\tfor (const item of listItems) {\n\t\t\t\t\tconst content = (item as InputListItem).getContent();\n\t\t\t\t\tfor (const control of content) {\n\t\t\t\t\t\tif (control.data(\"id\") === controlId) {\n\t\t\t\t\t\t\tif ((control as CheckBox).setSelected) {\n\t\t\t\t\t\t\t\t(control as CheckBox).setSelected(false);\n\t\t\t\t\t\t\t\tpropertyValues[controlId] = false;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t};\n\n\tconst listItem = new InputListItem({\n\t\tlabel: \"{label}\"\n\t});\n\n\tlistItem.bindContent({\n\t\tpath: \"control\",\n\t\tfactory: function (path: string, context: { getProperty(name: string): string } /* sap.ui.model.Context */) {\n\t\t\tconst type = context.getProperty(\"type\");\n\t\t\tconst id = context.getProperty(\"id\");\n\n\t\t\tswitch (type) {\n\t\t\t\tcase \"string\":\n\t\t\t\t\tif (context.getProperty(\"enum\")) {\n\t\t\t\t\t\t// Create a select list for multiple options to select\n\t\t\t\t\t\tconst item = new Item({\n\t\t\t\t\t\t\ttext: \"{name}\",\n\t\t\t\t\t\t\tkey: \"{id}\"\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tconst select = new Select({\n\t\t\t\t\t\t\tselectedKey: \"{value}\",\n\t\t\t\t\t\t\tchange: function (event): void {\n\t\t\t\t\t\t\t\tpropertyValues[(this as Select).data(\"id\") as keyof PropertyValue] = (\n\t\t\t\t\t\t\t\t\tevent.getParameter(\"selectedItem\") as Item\n\t\t\t\t\t\t\t\t).getKey() as string & boolean;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}).data(\"id\", id);\n\n\t\t\t\t\t\tselect.bindItems({\n\t\t\t\t\t\t\tpath: \"enum\",\n\t\t\t\t\t\t\ttemplate: item\n\t\t\t\t\t\t});\n\t\t\t\t\t\treturn select;\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// Create an Input for text changes\n\t\t\t\t\t\treturn new Input({\n\t\t\t\t\t\t\tvalue: \"{value}\",\n\t\t\t\t\t\t\tchange: function (event): void {\n\t\t\t\t\t\t\t\tpropertyValues[(this as Input).data(\"id\") as keyof PropertyValue] = event.getParameter(\"value\") as string &\n\t\t\t\t\t\t\t\t\tboolean;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}).data(\"id\", id);\n\t\t\t\t\t}\n\t\t\t\tcase \"string[]\":\n\t\t\t\t\t// Create an multi input field for the navigation properties\n\t\t\t\t\tconst oMultiInput = new MultiInput({\n\t\t\t\t\t\twidth: \"70%\",\n\t\t\t\t\t\tshowValueHelp: false,\n\t\t\t\t\t\tshowClearIcon: true,\n\t\t\t\t\t\ttokens: (propertyValues?.navigationProperties as string[]).map((navigationProperty) => {\n\t\t\t\t\t\t\treturn new Token({ text: navigationProperty, key: navigationProperty });\n\t\t\t\t\t\t}),\n\t\t\t\t\t\ttokenUpdate: function (event: MultiInput$TokenUpdateEvent): void {\n\t\t\t\t\t\t\tconst array = propertyValues[(this as MultiInput).data(\"id\")] as string[];\n\t\t\t\t\t\t\tif ((event.getParameter(\"addedTokens\") as Token[])?.length > 0) {\n\t\t\t\t\t\t\t\tarray.push((event?.getParameter(\"addedTokens\") as Token[])[0]?.getProperty(\"key\"));\n\t\t\t\t\t\t\t} else if ((event.getParameter(\"removedTokens\") as Token[])?.length > 0) {\n\t\t\t\t\t\t\t\tarray.splice(array.indexOf((event?.getParameter(\"removedTokens\") as Token[])[0]?.getProperty(\"key\")), 1);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}).data(\"id\", id);\n\t\t\t\t\toMultiInput.addValidator(function (args: { text: string }) {\n\t\t\t\t\t\tconst text = args.text;\n\t\t\t\t\t\treturn new Token({\n\t\t\t\t\t\t\tkey: text,\n\t\t\t\t\t\t\ttext: text\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t\treturn oMultiInput;\n\t\t\t\tcase \"number\":\n\t\t\t\t\t// Create an Input for number changes\n\t\t\t\t\treturn new Input({\n\t\t\t\t\t\tvalue: \"{value}\",\n\t\t\t\t\t\ttype: \"Number\",\n\t\t\t\t\t\tchange: function (event): void {\n\t\t\t\t\t\t\tpropertyValues[(this as Input).data(\"id\") as keyof PropertyValue] = event.getParameter(\"value\") as string &\n\t\t\t\t\t\t\t\tboolean;\n\t\t\t\t\t\t}\n\t\t\t\t\t}).data(\"id\", id);\n\t\t\t\tcase \"boolean\":\n\t\t\t\t\t// Create a checkbox for true/false values\n\t\t\t\t\treturn new CheckBox({\n\t\t\t\t\t\tselected: \"{value}\",\n\t\t\t\t\t\tselect: function (event): void {\n\t\t\t\t\t\t\tpropertyValues[(this as CheckBox).data(\"id\") as keyof PropertyValue] = event.getParameter(\n\t\t\t\t\t\t\t\t\"selected\"\n\t\t\t\t\t\t\t) as string & boolean;\n\t\t\t\t\t\t}\n\t\t\t\t\t}).data(\"id\", id);\n\t\t\t\tcase \"booleanOrString\":\n\t\t\t\t\t// Create a select list for boolean and string options to select\n\t\t\t\t\t// This type is at the moment only used for personalization settings which can be undefined, true, false or an object\n\t\t\t\t\t// The select list is used to select between true, false and \"Own Settings\"\n\t\t\t\t\t// If \"Own Settings\" is selected, the personalization object is written, otherwise the boolean is written (undefined cannot be written in a manifest change)\n\t\t\t\t\tconst item = new Item({\n\t\t\t\t\t\ttext: \"{name}\",\n\t\t\t\t\t\tkey: \"{id}\"\n\t\t\t\t\t});\n\n\t\t\t\t\tconst select = new Select({\n\t\t\t\t\t\tselectedKey: \"{value}\",\n\t\t\t\t\t\tchange: function (event): void {\n\t\t\t\t\t\t\tlet value = (event.getParameter(\"selectedItem\") as Item).getKey();\n\t\t\t\t\t\t\t// Convert string to boolean if necessary\n\t\t\t\t\t\t\tif (value.toLowerCase() === \"false\" || value.toLowerCase() === \"true\") {\n\t\t\t\t\t\t\t\tvalue = JSON.parse(value.toLowerCase());\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tpropertyValues[(this as Select).data(\"id\") as keyof PropertyValue] = value;\n\t\t\t\t\t\t\t// Special handling for personalization setting\n\t\t\t\t\t\t\tif ((this as Select).data(\"id\") === \"personalization\") {\n\t\t\t\t\t\t\t\tupdatePersonalizationDependentControls(value);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}).data(\"id\", id);\n\n\t\t\t\t\tselect.bindItems({\n\t\t\t\t\t\tpath: \"enum\",\n\t\t\t\t\t\ttemplate: item\n\t\t\t\t\t});\n\t\t\t\t\treturn select;\n\t\t\t\tcase \"json\":\n\t\t\t\t\t// Create an input for json object descriptions\n\t\t\t\t\t// A text area would have been better but this does not work with the InputListItem\n\t\t\t\t\t// we would have needed a CustomListItem instead\n\t\t\t\t\t// which would have been too much effort as we would have needed to change the whole structure\n\t\t\t\t\treturn new Input({\n\t\t\t\t\t\tvalue: \"{value}\",\n\t\t\t\t\t\tchange: function (event): void {\n\t\t\t\t\t\t\tpropertyValues[(this as Input).data(\"id\") as keyof PropertyValue] = JSON.parse(\n\t\t\t\t\t\t\t\tevent.getParameter(\"value\")?.toString() as string\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\t\t\t\t\t}).data(\"id\", id);\n\t\t\t\tdefault:\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t});\n\n\tlist.bindItems({\n\t\tpath: \"/\",\n\t\ttemplate: listItem\n\t});\n\n\treturn list;\n}\n\nexport async function openAdaptionDialog(\n\tconfigContext: Context,\n\tpropertyValues: PropertyValue,\n\ttitle: string,\n\tresourceModel: ResourceModel,\n\tconfigPath = \"rta/configSettings\",\n\tinfoText = \"{sap.fe.i18n>RTA_CONFIGURATION_INFO_MESSAGE}\",\n\tsize?: { width: string; height: string }\n): Promise<PropertyValue> {\n\tconst list = createAdaptionDialogContent(configContext, propertyValues, resourceModel, configPath);\n\tconst content: (List | MessageStrip)[] = [];\n\tconst informationMessage = new MessageStrip({\n\t\tshowIcon: true,\n\t\ttype: \"Information\",\n\t\ttext: infoText\n\t});\n\tinformationMessage.addStyleClass(\"sapUiSmallMarginBottom\");\n\tcontent.push(informationMessage);\n\tcontent.push(list);\n\tconst listIndex = content.indexOf(list);\n\treturn new Promise(function (resolve, reject) {\n\t\tconst dialog = new Dialog({\n\t\t\ttitle: title,\n\t\t\tcontentWidth: size ? size.width : \"550px\",\n\t\t\tcontentHeight: size ? size.height : \"300px\",\n\t\t\tcontent: content,\n\t\t\tbuttons: [\n\t\t\t\tnew Button({\n\t\t\t\t\ttext: \"{sap.fe.i18n>RTA_CONFIGURATION_APPLY}\",\n\t\t\t\t\ttype: \"Emphasized\",\n\t\t\t\t\tpress: function (): void {\n\t\t\t\t\t\t// persist changes done\n\t\t\t\t\t\tupdateConfigModel(configContext, dialog.getContent()[listIndex].getModel() as JSONModel, configPath);\n\t\t\t\t\t\tdialog.close();\n\t\t\t\t\t\tresolve(propertyValues);\n\t\t\t\t\t}\n\t\t\t\t}),\n\t\t\t\tnew Button({\n\t\t\t\t\ttext: \"{sap.fe.i18n>RTA_CONFIGURATION_CANCEL}\",\n\t\t\t\t\tpress: function (): void {\n\t\t\t\t\t\tdialog.close();\n\t\t\t\t\t\treject();\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t]\n\t\t});\n\t\tdialog.setModel(resourceModel, \"sap.fe.i18n\");\n\t\tdialog.addStyleClass(\"sapUiContentPadding\");\n\t\tdialog.addStyleClass(\"sapUiRTABorder\");\n\t\tdialog.open();\n\t\treturn;\n\t});\n}\n\nexport function processChanges(\n\tpropertyChanges: propKeyAndValue,\n\tappComponent: AppComponent,\n\tpage: string,\n\tpropertyPath: string\n): adaptionChange[] {\n\tlet singleChange: propKeyAndValue = {};\n\tconst changes = [];\n\tfor (const [key, value] of Object.entries(propertyChanges)) {\n\t\tsingleChange = {};\n\t\tsingleChange[key] = value;\n\t\tchanges.push(getChange(singleChange, appComponent, page, propertyPath));\n\t}\n\treturn changes;\n}\n\n/**\n * Format each change made to global settings \"sap.fe\"\n * The set of changes are put into individual changes to ensure\n * that earlier changes are not lost when these are loaded at runtime.\n * @param propertyChanges\n * @param appComponent\n * @param page\n * @param propertyPath\n * @returns The change structure used by flexibility tools\n */\nexport function processGlobalChanges(\n\tpropertyChanges: propKeyAndValue,\n\tappComponent: AppComponent,\n\tpage: string,\n\tpropertyPath: string\n): adaptionChange[] {\n\tlet singleChange: propKeyAndValue = {};\n\tconst changes = [];\n\tfor (const [key, value] of Object.entries(propertyChanges)) {\n\t\tsingleChange = {};\n\t\tsingleChange[key] = value;\n\t\tchanges.push(getChange(singleChange, appComponent, page, propertyPath));\n\t}\n\treturn changes;\n}\n\nexport function getChange(\n\tpropertyChanges: propKeyAndValue,\n\tappComponent: AppComponent,\n\tpage: string,\n\tpropertyPath: string\n): adaptionChange {\n\t// Changes for controls have a path starting with controlConfiguration, followed by an annotation path\n\t// For the list report changes, there is no path because the properties are directly under Settings\n\t// for the \"sap.fe.templates.ListReport\" in the manifest.\n\tif (propertyPath === \"\") {\n\t\tpropertyPath = Object.keys(propertyChanges)[0];\n\t} else {\n\t\tpropertyPath = propertyPath + \"/\" + Object.keys(propertyChanges)[0];\n\t}\n\tconst value = propertyChanges[Object.keys(propertyChanges)[0]];\n\n\treturn getChangeStructure(appComponent, page, propertyPath, value);\n}\n\n/**\n * Get the parameters other than the control settings that are needed\n * for the change structure.\n * @param propertyChanges\n * @param propertyPath\n * @param control\n * @returns The changes in a structure used by flexibility tools\n */\nexport function separateChanges(propertyChanges: PropertyValue, propertyPath: string, control: Control): adaptionChange[] {\n\tconst appComponent = CommonUtils.getAppComponent(control);\n\tconst page = getPage(control.getParent() as Control);\n\treturn processChanges(propertyChanges, appComponent, page, propertyPath);\n}\n\n/**\n * Get the parameters other than the global settings that are needed\n * for the change structure.\n * @param propertyChanges\n * @param propertyPath\n * @param control\n * @returns The changes in a structure used by flexibility tools\n */\nfunction separateGlobalChanges(propertyChanges: PropertyValue, propertyPath: string, control: Control): adaptionChange[] {\n\tconst appComponent = CommonUtils.getAppComponent(control);\n\tconst page = \"sap.fe\";\n\treturn processGlobalChanges(propertyChanges, appComponent, page, propertyPath);\n}\n\nfunction getPage(control: Control): string {\n\tconst viewId = CommonUtils.getTargetView(control).getId().split(\"::\");\n\treturn viewId[viewId.length - 1];\n}\n\nexport const extractChanges = function (\n\tdesigntimeSettings: DesigntimeSetting[],\n\tunchangedData: PropertyValue,\n\tpropertyValuesEntered: PropertyValue,\n\tpropertyPath: string,\n\tcontrol: Control,\n\tglobalSettings?: DesigntimeSetting[]\n): adaptionChange[] {\n\tconst propertyChanges = getChangedPropertyValues(designtimeSettings, unchangedData, propertyValuesEntered);\n\t// Put each property into its own change. This ensures that we don't lose previous changes.\n\tlet changes = separateChanges(propertyChanges, propertyPath, control);\n\tif (globalSettings) {\n\t\tconst globalChanges = getChangedPropertyValues(globalSettings, unchangedData, propertyValuesEntered);\n\t\tconst global = separateGlobalChanges(globalChanges, propertyPath, control);\n\t\tchanges = changes.concat(global);\n\t}\n\tif (changes.length > 0) {\n\t\treturn changes;\n\t} else {\n\t\treturn [];\n\t}\n};\n\nexport const noChanges = function (): [] {\n\treturn [];\n};\n\nexport function isFioriToolsRtaMode(appComponent: AppComponent): boolean {\n\t// Check if rta mode has been specified on url (for local testing)\n\tlet urlParams: Record<string, string[]> = {};\n\tconst shellService = appComponent.getShellServices();\n\turlParams = shellService?.parseParameters?.(window.location.search);\n\treturn !!urlParams && urlParams[\"fiori-tools-rta-mode\"]?.[0] === \"forAdaptation\";\n}\n\nexport function isRTAMode(appComponent: AppComponent): boolean {\n\t// Check if rta mode has been specified on url (for local testing)\n\tlet urlParams: Record<string, string[]> = {};\n\tconst shellService = appComponent.getShellServices();\n\turlParams = shellService?.parseParameters?.(window.location.search);\n\treturn !!urlParams && urlParams[\"sap-fe-rta-mode\"]?.[0] === \"true\";\n}\n\nexport function getSettingsIfKeyUser(appComponent: AppComponent, items: SettingsData[]): SettingsData[] {\n\tif (!isFioriToolsRtaMode(appComponent)) {\n\t\t// not tools => key user\n\t\treturn items.filter((setting) => {\n\t\t\treturn setting.keyUser;\n\t\t});\n\t}\n\treturn items;\n}\n\nexport function isConfigModelPrepared(configContext: Context, path = \"rta/configSettings\"): boolean {\n\tif (configContext.getProperty(path)) {\n\t\treturn true;\n\t}\n\treturn false;\n}\n\nexport function prepareConfigModel(items: SettingsData[], configContext: Context, path = \"rta/configSettings\"): void {\n\tif (!configContext.getProperty(path)) {\n\t\tconfigContext.setProperty(path, items);\n\t}\n}\n\nexport function getPersonalizationSetting(configContext: Context, path = \"rta/configSettings\"): boolean | string | undefined {\n\tconst settings = configContext.getObject(path);\n\tconst personalizationSetting = settings.find((setting: SettingsData) => {\n\t\treturn setting?.control[0]?.id === \"personalization\";\n\t});\n\tif (personalizationSetting) {\n\t\treturn personalizationSetting.control[0].value;\n\t}\n\treturn undefined;\n}\n\nexport function updateConfigModel(configContext: Context, settingsModel: JSONModel, path = \"rta/configSettings\"): void {\n\tconst updatedSettings = deepClone(settingsModel.getData());\n\tconfigContext.setProperty(path, updatedSettings);\n}\n\nexport function getPropertyNamesAndDescriptions(props: DesigntimeSetting[], resourceModel: ResourceModel): DesigntimeSetting[] {\n\tprops.forEach(function (prop) {\n\t\tprop.name = resourceModel.getText(prop.name);\n\t\tprop.description = resourceModel.getText(prop.description);\n\t\tif (prop.enums) {\n\t\t\tprop.enums.forEach(function (enumm) {\n\t\t\t\tenumm.name = resourceModel.getText(enumm.name);\n\t\t\t});\n\t\t}\n\t});\n\n\treturn props;\n}\n\nexport function isManifestChangesEnabled(control: Control): boolean {\n\tlet owner = Component.getOwnerComponentFor(control) as TemplateComponent;\n\tif (owner === undefined && control.getParent()) {\n\t\t// In case of MassEdit, control is a sap.m.Dialog for which there is now OwnerComponent, so we need to consider its parent control\n\t\towner = Component.getOwnerComponentFor(control.getParent()!) as TemplateComponent;\n\t}\n\tconst sapFeManifest = owner?.getAppComponent().getManifestEntry(\"sap.fe\");\n\treturn sapFeManifest?.app?.disableManifestChanges !== true;\n}\n"],"mappings":";;;;;;;;EAAA;AACA;AACA;EAkFA;AACA;AACA;AACA;AACA;AACA;AACA;EACO,SAASA,wBAAwBA,CACvCC,kBAAuC,EACvCC,aAA4B,EAC5BC,cAA6B,EACb;IAChB,MAAMC,eAA8B,GAAG,CAAC,CAAC;IAEzCH,kBAAkB,CAACI,OAAO,CAAC,UAAUC,OAAO,EAAE;MAC7C,IACE,OAAOJ,aAAa,CAACI,OAAO,CAACC,EAAE,CAAC,KAAK,QAAQ,IAAIL,aAAa,CAACI,OAAO,CAACC,EAAE,CAAC,KAAKJ,cAAc,CAACG,OAAO,CAACC,EAAE,CAAC,IACzG,OAAOL,aAAa,CAACI,OAAO,CAACC,EAAE,CAAC,KAAK,QAAQ,IAC7CC,IAAI,CAACC,SAAS,CAACP,aAAa,CAACI,OAAO,CAACC,EAAE,CAAC,CAAC,KAAKC,IAAI,CAACC,SAAS,CAACN,cAAc,CAACG,OAAO,CAACC,EAAE,CAAC,CAAE,EACzF;QACD,IAAID,OAAO,CAACI,WAAW,IAAIP,cAAc,CAACG,OAAO,CAACC,EAAE,CAAC,KAAKD,OAAO,CAACK,cAAc,EAAE;UACjF;UACA,MAAMC,YAA2B,GAAG,CAAC,CAAC;UACtC,IAAIN,OAAO,CAACI,WAAW,IAAIJ,OAAO,CAACI,WAAW,EAAEG,MAAM,GAAG,CAAC,EAAE;YAC3DP,OAAO,CAACI,WAAW,CAACL,OAAO,CAAC,UAAUS,gBAAgB,EAAE;cACvDF,YAAY,CAACE,gBAAgB,CAACC,IAAI,GAAGD,gBAAgB,CAACC,IAAI,GAAGD,gBAAgB,CAACP,EAAE,CAAC,GAChFJ,cAAc,CAACW,gBAAgB,CAACP,EAAE,CAAC;YACrC,CAAC,CAAC;UACH;UACAH,eAAe,CAACE,OAAO,CAACS,IAAI,GAAGT,OAAO,CAACS,IAAI,GAAGT,OAAO,CAACC,EAAE,CAAC,GAAGK,YAAY;QACzE,CAAC,MAAM,IAAI,CAACN,OAAO,CAACU,UAAU,EAAE;UAC/BZ,eAAe,CAACE,OAAO,CAACS,IAAI,GAAGT,OAAO,CAACS,IAAI,GAAGT,OAAO,CAACC,EAAE,CAAC,GAAGJ,cAAc,CAACG,OAAO,CAACC,EAAE,CAAC;QACvF;MACD;IACD,CAAC,CAAC;IACF,OAAOH,eAAe;EACvB;EACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;EAPAa,QAAA,CAAAjB,wBAAA,GAAAA,wBAAA;EAQO,SAASkB,kBAAkBA,CACjCC,YAA0B,EAC1BC,IAAY,EACZC,YAAoB,EACpBjB,eAA0E,EACzD;IACjB,OAAO;MACNe,YAAY,EAAEA,YAAY;MAC1BG,QAAQ,EAAEH,YAAY;MACtBI,kBAAkB,EAAE;QACnBC,uBAAuB,EAAE,qCAAqC;QAC9DC,OAAO,EAAE;UACRC,UAAU,EAAE;YACXN,IAAI,EAAEA,IAAI;YACVO,oBAAoB,EAAE;cACrBN,YAAY,EAAEA,YAAY;cAC1BO,SAAS,EAAE,QAAQ;cACnBC,aAAa,EAAEzB;YAChB;UACD;QACD;MACD;IACD,CAAC;EACF;EAACa,QAAA,CAAAC,kBAAA,GAAAA,kBAAA;EAED,SAASY,YAAYA,CAACC,IAA6B,EAAEC,aAA4B,EAAQ;IACxF,KAAK,MAAMC,GAAG,IAAIF,IAAI,EAAE;MACvB,IAAIE,GAAG,KAAK,IAAI,IAAI,OAAOF,IAAI,CAACE,GAAG,CAAC,KAAK,QAAQ,EAAE;QAClDF,IAAI,CAACE,GAAG,CAAC,GAAGD,aAAa,CAACE,OAAO,CAACH,IAAI,CAACE,GAAG,CAAW,CAAC;MACvD;IACD;EACD;EAEA,SAASE,aAAaA,CAACC,KAAgB,EAAEJ,aAA4B,EAAQ;IAC5E,MAAMK,YAAY,GAAGD,KAAK,CAACE,OAAO,CAAC,CAAmB;IACtDD,YAAY,CAAChC,OAAO,CAAEC,OAAO,IAAK;MACjCwB,YAAY,CAACxB,OAAO,EAAE0B,aAAa,CAAC;MACpC1B,OAAO,CAACiC,OAAO,CAAClC,OAAO,CAAEmC,WAAW,IAAK;QACxCV,YAAY,CAACU,WAAW,EAAER,aAAa,CAAC;QACxCQ,WAAW,CAACC,IAAI,EAAEpC,OAAO,CAAEqC,QAAQ,IAAK;UACvCZ,YAAY,CAACY,QAAQ,EAAEV,aAAa,CAAC;QACtC,CAAC,CAAC;MACH,CAAC,CAAC;IACH,CAAC,CAAC;EACH;EAEO,SAASW,2BAA2BA,CAC1CC,aAAsB,EACtBzC,cAA6B,EAC7B6B,aAA4B,EAErB;IAAA,IADPa,UAAU,GAAAC,SAAA,CAAAjC,MAAA,QAAAiC,SAAA,QAAAC,SAAA,GAAAD,SAAA,MAAG,oBAAoB;IAEjC,MAAME,aAAa,GAAG,IAAIC,SAAS,CAAC,CAAC;IACrCD,aAAa,CAACE,OAAO,CAACC,SAAS,CAACP,aAAa,CAACQ,WAAW,CAACP,UAAU,CAAC,CAAC,CAAC;IACvEV,aAAa,CAACa,aAAa,EAAEhB,aAAa,CAAC;IAC3C,MAAMqB,IAAI,GAAG,IAAIC,IAAI,CAAC,CAAC;IACvBD,IAAI,CAACE,QAAQ,CAACP,aAAa,CAAC;;IAE5B;IACA,MAAMQ,sCAAsC,GAAIC,aAAqB,IAAW;MAC/E,MAAMC,iBAAiB,GAAG,CAAC,qBAAqB,EAAE,uBAAuB,EAAE,uBAAuB,EAAE,sBAAsB,CAAC;MAC3H,MAAMC,aAAa,GAAGF,aAAa,KAAK,cAAc;MACtD,IAAIE,aAAa,EAAE;QAClBD,iBAAiB,CAACrD,OAAO,CAAEuD,SAAS,IAAK;UACxC,MAAMC,SAAS,GAAGR,IAAI,CAACS,QAAQ,CAAC,CAAC;UACjC,KAAK,MAAM/B,IAAI,IAAI8B,SAAS,EAAE;YAC7B,MAAMpC,OAAO,GAAIM,IAAI,CAAmBgC,UAAU,CAAC,CAAC;YACpD,KAAK,MAAMxB,OAAO,IAAId,OAAO,EAAE;cAC9B,IAAIc,OAAO,CAACyB,IAAI,CAAC,IAAI,CAAC,KAAKJ,SAAS,EAAE;gBACrC,IAAKrB,OAAO,CAAc0B,WAAW,EAAE;kBACrC1B,OAAO,CAAc0B,WAAW,CAAC,KAAK,CAAC;kBACxC9D,cAAc,CAACyD,SAAS,CAAC,GAAG,KAAK;gBAClC;gBACA;cACD;YACD;UACD;QACD,CAAC,CAAC;MACH;IACD,CAAC;IAED,MAAMM,QAAQ,GAAG,IAAIC,aAAa,CAAC;MAClCC,KAAK,EAAE;IACR,CAAC,CAAC;IAEFF,QAAQ,CAACG,WAAW,CAAC;MACpBtD,IAAI,EAAE,SAAS;MACfuD,OAAO,EAAE,SAAAA,CAAUvD,IAAY,EAAEwD,OAA8C,EAA6B;QAC3G,MAAMC,IAAI,GAAGD,OAAO,CAACnB,WAAW,CAAC,MAAM,CAAC;QACxC,MAAM7C,EAAE,GAAGgE,OAAO,CAACnB,WAAW,CAAC,IAAI,CAAC;QAEpC,QAAQoB,IAAI;UACX,KAAK,QAAQ;YACZ,IAAID,OAAO,CAACnB,WAAW,CAAC,MAAM,CAAC,EAAE;cAChC;cACA,MAAMrB,IAAI,GAAG,IAAI0C,IAAI,CAAC;gBACrBC,IAAI,EAAE,QAAQ;gBACdzC,GAAG,EAAE;cACN,CAAC,CAAC;cAEF,MAAM0C,MAAM,GAAG,IAAIC,MAAM,CAAC;gBACzBC,WAAW,EAAE,SAAS;gBACtBC,MAAM,EAAE,SAAAA,CAAUC,KAAK,EAAQ;kBAC9B5E,cAAc,CAAE,IAAI,CAAY6D,IAAI,CAAC,IAAI,CAAC,CAAwB,GACjEe,KAAK,CAACC,YAAY,CAAC,cAAc,CAAC,CACjCC,MAAM,CAAC,CAAqB;gBAC/B;cACD,CAAC,CAAC,CAACjB,IAAI,CAAC,IAAI,EAAEzD,EAAE,CAAC;cAEjBoE,MAAM,CAACO,SAAS,CAAC;gBAChBnE,IAAI,EAAE,MAAM;gBACZoE,QAAQ,EAAEpD;cACX,CAAC,CAAC;cACF,OAAO4C,MAAM;YACd,CAAC,MAAM;cACN;cACA,OAAO,IAAIS,KAAK,CAAC;gBAChBC,KAAK,EAAE,SAAS;gBAChBP,MAAM,EAAE,SAAAA,CAAUC,KAAK,EAAQ;kBAC9B5E,cAAc,CAAE,IAAI,CAAW6D,IAAI,CAAC,IAAI,CAAC,CAAwB,GAAGe,KAAK,CAACC,YAAY,CAAC,OAAO,CACtF;gBACT;cACD,CAAC,CAAC,CAAChB,IAAI,CAAC,IAAI,EAAEzD,EAAE,CAAC;YAClB;UACD,KAAK,UAAU;YACd;YACA,MAAM+E,WAAW,GAAG,IAAIC,UAAU,CAAC;cAClCC,KAAK,EAAE,KAAK;cACZC,aAAa,EAAE,KAAK;cACpBC,aAAa,EAAE,IAAI;cACnBC,MAAM,EAAE,CAACxF,cAAc,EAAEyF,oBAAoB,EAAcC,GAAG,CAAEC,kBAAkB,IAAK;gBACtF,OAAO,IAAIC,KAAK,CAAC;kBAAErB,IAAI,EAAEoB,kBAAkB;kBAAE7D,GAAG,EAAE6D;gBAAmB,CAAC,CAAC;cACxE,CAAC,CAAC;cACFE,WAAW,EAAE,SAAAA,CAAUjB,KAAkC,EAAQ;gBAChE,MAAMkB,KAAK,GAAG9F,cAAc,CAAE,IAAI,CAAgB6D,IAAI,CAAC,IAAI,CAAC,CAAa;gBACzE,IAAKe,KAAK,CAACC,YAAY,CAAC,aAAa,CAAC,EAAcnE,MAAM,GAAG,CAAC,EAAE;kBAC/DoF,KAAK,CAACC,IAAI,CAAC,CAACnB,KAAK,EAAEC,YAAY,CAAC,aAAa,CAAC,EAAa,CAAC,CAAC,EAAE5B,WAAW,CAAC,KAAK,CAAC,CAAC;gBACnF,CAAC,MAAM,IAAK2B,KAAK,CAACC,YAAY,CAAC,eAAe,CAAC,EAAcnE,MAAM,GAAG,CAAC,EAAE;kBACxEoF,KAAK,CAACE,MAAM,CAACF,KAAK,CAACG,OAAO,CAAC,CAACrB,KAAK,EAAEC,YAAY,CAAC,eAAe,CAAC,EAAa,CAAC,CAAC,EAAE5B,WAAW,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC;gBACzG;cACD;YACD,CAAC,CAAC,CAACY,IAAI,CAAC,IAAI,EAAEzD,EAAE,CAAC;YACjB+E,WAAW,CAACe,YAAY,CAAC,UAAUC,IAAsB,EAAE;cAC1D,MAAM5B,IAAI,GAAG4B,IAAI,CAAC5B,IAAI;cACtB,OAAO,IAAIqB,KAAK,CAAC;gBAChB9D,GAAG,EAAEyC,IAAI;gBACTA,IAAI,EAAEA;cACP,CAAC,CAAC;YACH,CAAC,CAAC;YACF,OAAOY,WAAW;UACnB,KAAK,QAAQ;YACZ;YACA,OAAO,IAAIF,KAAK,CAAC;cAChBC,KAAK,EAAE,SAAS;cAChBb,IAAI,EAAE,QAAQ;cACdM,MAAM,EAAE,SAAAA,CAAUC,KAAK,EAAQ;gBAC9B5E,cAAc,CAAE,IAAI,CAAW6D,IAAI,CAAC,IAAI,CAAC,CAAwB,GAAGe,KAAK,CAACC,YAAY,CAAC,OAAO,CACtF;cACT;YACD,CAAC,CAAC,CAAChB,IAAI,CAAC,IAAI,EAAEzD,EAAE,CAAC;UAClB,KAAK,SAAS;YACb;YACA,OAAO,IAAIgG,QAAQ,CAAC;cACnBC,QAAQ,EAAE,SAAS;cACnB7B,MAAM,EAAE,SAAAA,CAAUI,KAAK,EAAQ;gBAC9B5E,cAAc,CAAE,IAAI,CAAc6D,IAAI,CAAC,IAAI,CAAC,CAAwB,GAAGe,KAAK,CAACC,YAAY,CACxF,UACD,CAAqB;cACtB;YACD,CAAC,CAAC,CAAChB,IAAI,CAAC,IAAI,EAAEzD,EAAE,CAAC;UAClB,KAAK,iBAAiB;YACrB;YACA;YACA;YACA;YACA,MAAMwB,IAAI,GAAG,IAAI0C,IAAI,CAAC;cACrBC,IAAI,EAAE,QAAQ;cACdzC,GAAG,EAAE;YACN,CAAC,CAAC;YAEF,MAAM0C,MAAM,GAAG,IAAIC,MAAM,CAAC;cACzBC,WAAW,EAAE,SAAS;cACtBC,MAAM,EAAE,SAAAA,CAAUC,KAAK,EAAQ;gBAC9B,IAAIM,KAAK,GAAIN,KAAK,CAACC,YAAY,CAAC,cAAc,CAAC,CAAUC,MAAM,CAAC,CAAC;gBACjE;gBACA,IAAII,KAAK,CAACoB,WAAW,CAAC,CAAC,KAAK,OAAO,IAAIpB,KAAK,CAACoB,WAAW,CAAC,CAAC,KAAK,MAAM,EAAE;kBACtEpB,KAAK,GAAG7E,IAAI,CAACkG,KAAK,CAACrB,KAAK,CAACoB,WAAW,CAAC,CAAC,CAAC;gBACxC;gBACAtG,cAAc,CAAE,IAAI,CAAY6D,IAAI,CAAC,IAAI,CAAC,CAAwB,GAAGqB,KAAK;gBAC1E;gBACA,IAAK,IAAI,CAAYrB,IAAI,CAAC,IAAI,CAAC,KAAK,iBAAiB,EAAE;kBACtDR,sCAAsC,CAAC6B,KAAK,CAAC;gBAC9C;cACD;YACD,CAAC,CAAC,CAACrB,IAAI,CAAC,IAAI,EAAEzD,EAAE,CAAC;YAEjBoE,MAAM,CAACO,SAAS,CAAC;cAChBnE,IAAI,EAAE,MAAM;cACZoE,QAAQ,EAAEpD;YACX,CAAC,CAAC;YACF,OAAO4C,MAAM;UACd,KAAK,MAAM;YACV;YACA;YACA;YACA;YACA,OAAO,IAAIS,KAAK,CAAC;cAChBC,KAAK,EAAE,SAAS;cAChBP,MAAM,EAAE,SAAAA,CAAUC,KAAK,EAAQ;gBAC9B5E,cAAc,CAAE,IAAI,CAAW6D,IAAI,CAAC,IAAI,CAAC,CAAwB,GAAGxD,IAAI,CAACkG,KAAK,CAC7E3B,KAAK,CAACC,YAAY,CAAC,OAAO,CAAC,EAAE2B,QAAQ,CAAC,CACvC,CAAC;cACF;YACD,CAAC,CAAC,CAAC3C,IAAI,CAAC,IAAI,EAAEzD,EAAE,CAAC;UAClB;YACC;QACF;MACD;IACD,CAAC,CAAC;IAEF8C,IAAI,CAAC6B,SAAS,CAAC;MACdnE,IAAI,EAAE,GAAG;MACToE,QAAQ,EAAEjB;IACX,CAAC,CAAC;IAEF,OAAOb,IAAI;EACZ;EAACpC,QAAA,CAAA0B,2BAAA,GAAAA,2BAAA;EAEM,eAAeiE,kBAAkBA,CACvChE,aAAsB,EACtBzC,cAA6B,EAC7B0G,KAAa,EACb7E,aAA4B,EAIH;IAAA,IAHzBa,UAAU,GAAAC,SAAA,CAAAjC,MAAA,QAAAiC,SAAA,QAAAC,SAAA,GAAAD,SAAA,MAAG,oBAAoB;IAAA,IACjCgE,QAAQ,GAAAhE,SAAA,CAAAjC,MAAA,QAAAiC,SAAA,QAAAC,SAAA,GAAAD,SAAA,MAAG,8CAA8C;IAAA,IACzDiE,IAAwC,GAAAjE,SAAA,CAAAjC,MAAA,OAAAiC,SAAA,MAAAC,SAAA;IAExC,MAAMM,IAAI,GAAGV,2BAA2B,CAACC,aAAa,EAAEzC,cAAc,EAAE6B,aAAa,EAAEa,UAAU,CAAC;IAClG,MAAMpB,OAAgC,GAAG,EAAE;IAC3C,MAAMuF,kBAAkB,GAAG,IAAIC,YAAY,CAAC;MAC3CC,QAAQ,EAAE,IAAI;MACd1C,IAAI,EAAE,aAAa;MACnBE,IAAI,EAAEoC;IACP,CAAC,CAAC;IACFE,kBAAkB,CAACG,aAAa,CAAC,wBAAwB,CAAC;IAC1D1F,OAAO,CAACyE,IAAI,CAACc,kBAAkB,CAAC;IAChCvF,OAAO,CAACyE,IAAI,CAAC7C,IAAI,CAAC;IAClB,MAAM+D,SAAS,GAAG3F,OAAO,CAAC2E,OAAO,CAAC/C,IAAI,CAAC;IACvC,OAAO,IAAIgE,OAAO,CAAC,UAAUC,OAAO,EAAEC,MAAM,EAAE;MAC7C,MAAMC,MAAM,GAAG,IAAIC,MAAM,CAAC;QACzBZ,KAAK,EAAEA,KAAK;QACZa,YAAY,EAAEX,IAAI,GAAGA,IAAI,CAACvB,KAAK,GAAG,OAAO;QACzCmC,aAAa,EAAEZ,IAAI,GAAGA,IAAI,CAACa,MAAM,GAAG,OAAO;QAC3CnG,OAAO,EAAEA,OAAO;QAChBoG,OAAO,EAAE,CACR,IAAIC,MAAM,CAAC;UACVpD,IAAI,EAAE,uCAAuC;UAC7CF,IAAI,EAAE,YAAY;UAClBuD,KAAK,EAAE,SAAAA,CAAA,EAAkB;YACxB;YACAC,iBAAiB,CAACpF,aAAa,EAAE4E,MAAM,CAACzD,UAAU,CAAC,CAAC,CAACqD,SAAS,CAAC,CAACa,QAAQ,CAAC,CAAC,EAAepF,UAAU,CAAC;YACpG2E,MAAM,CAACU,KAAK,CAAC,CAAC;YACdZ,OAAO,CAACnH,cAAc,CAAC;UACxB;QACD,CAAC,CAAC,EACF,IAAI2H,MAAM,CAAC;UACVpD,IAAI,EAAE,wCAAwC;UAC9CqD,KAAK,EAAE,SAAAA,CAAA,EAAkB;YACxBP,MAAM,CAACU,KAAK,CAAC,CAAC;YACdX,MAAM,CAAC,CAAC;UACT;QACD,CAAC,CAAC;MAEJ,CAAC,CAAC;MACFC,MAAM,CAACjE,QAAQ,CAACvB,aAAa,EAAE,aAAa,CAAC;MAC7CwF,MAAM,CAACL,aAAa,CAAC,qBAAqB,CAAC;MAC3CK,MAAM,CAACL,aAAa,CAAC,gBAAgB,CAAC;MACtCK,MAAM,CAACW,IAAI,CAAC,CAAC;MACb;IACD,CAAC,CAAC;EACH;EAAClH,QAAA,CAAA2F,kBAAA,GAAAA,kBAAA;EAEM,SAASwB,cAAcA,CAC7BhI,eAAgC,EAChCe,YAA0B,EAC1BC,IAAY,EACZC,YAAoB,EACD;IACnB,IAAIgH,YAA6B,GAAG,CAAC,CAAC;IACtC,MAAMC,OAAO,GAAG,EAAE;IAClB,KAAK,MAAM,CAACrG,GAAG,EAAEoD,KAAK,CAAC,IAAIkD,MAAM,CAACC,OAAO,CAACpI,eAAe,CAAC,EAAE;MAC3DiI,YAAY,GAAG,CAAC,CAAC;MACjBA,YAAY,CAACpG,GAAG,CAAC,GAAGoD,KAAK;MACzBiD,OAAO,CAACpC,IAAI,CAACuC,SAAS,CAACJ,YAAY,EAAElH,YAAY,EAAEC,IAAI,EAAEC,YAAY,CAAC,CAAC;IACxE;IACA,OAAOiH,OAAO;EACf;;EAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;EATArH,QAAA,CAAAmH,cAAA,GAAAA,cAAA;EAUO,SAASM,oBAAoBA,CACnCtI,eAAgC,EAChCe,YAA0B,EAC1BC,IAAY,EACZC,YAAoB,EACD;IACnB,IAAIgH,YAA6B,GAAG,CAAC,CAAC;IACtC,MAAMC,OAAO,GAAG,EAAE;IAClB,KAAK,MAAM,CAACrG,GAAG,EAAEoD,KAAK,CAAC,IAAIkD,MAAM,CAACC,OAAO,CAACpI,eAAe,CAAC,EAAE;MAC3DiI,YAAY,GAAG,CAAC,CAAC;MACjBA,YAAY,CAACpG,GAAG,CAAC,GAAGoD,KAAK;MACzBiD,OAAO,CAACpC,IAAI,CAACuC,SAAS,CAACJ,YAAY,EAAElH,YAAY,EAAEC,IAAI,EAAEC,YAAY,CAAC,CAAC;IACxE;IACA,OAAOiH,OAAO;EACf;EAACrH,QAAA,CAAAyH,oBAAA,GAAAA,oBAAA;EAEM,SAASD,SAASA,CACxBrI,eAAgC,EAChCe,YAA0B,EAC1BC,IAAY,EACZC,YAAoB,EACH;IACjB;IACA;IACA;IACA,IAAIA,YAAY,KAAK,EAAE,EAAE;MACxBA,YAAY,GAAGkH,MAAM,CAACI,IAAI,CAACvI,eAAe,CAAC,CAAC,CAAC,CAAC;IAC/C,CAAC,MAAM;MACNiB,YAAY,GAAGA,YAAY,GAAG,GAAG,GAAGkH,MAAM,CAACI,IAAI,CAACvI,eAAe,CAAC,CAAC,CAAC,CAAC;IACpE;IACA,MAAMiF,KAAK,GAAGjF,eAAe,CAACmI,MAAM,CAACI,IAAI,CAACvI,eAAe,CAAC,CAAC,CAAC,CAAC,CAAC;IAE9D,OAAOc,kBAAkB,CAACC,YAAY,EAAEC,IAAI,EAAEC,YAAY,EAAEgE,KAAK,CAAC;EACnE;;EAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;EAPApE,QAAA,CAAAwH,SAAA,GAAAA,SAAA;EAQO,SAASG,eAAeA,CAACxI,eAA8B,EAAEiB,YAAoB,EAAEkB,OAAgB,EAAoB;IACzH,MAAMpB,YAAY,GAAG0H,WAAW,CAACC,eAAe,CAACvG,OAAO,CAAC;IACzD,MAAMnB,IAAI,GAAG2H,OAAO,CAACxG,OAAO,CAACyG,SAAS,CAAC,CAAY,CAAC;IACpD,OAAOZ,cAAc,CAAChI,eAAe,EAAEe,YAAY,EAAEC,IAAI,EAAEC,YAAY,CAAC;EACzE;;EAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;EAPAJ,QAAA,CAAA2H,eAAA,GAAAA,eAAA;EAQA,SAASK,qBAAqBA,CAAC7I,eAA8B,EAAEiB,YAAoB,EAAEkB,OAAgB,EAAoB;IACxH,MAAMpB,YAAY,GAAG0H,WAAW,CAACC,eAAe,CAACvG,OAAO,CAAC;IACzD,MAAMnB,IAAI,GAAG,QAAQ;IACrB,OAAOsH,oBAAoB,CAACtI,eAAe,EAAEe,YAAY,EAAEC,IAAI,EAAEC,YAAY,CAAC;EAC/E;EAEA,SAAS0H,OAAOA,CAACxG,OAAgB,EAAU;IAC1C,MAAM2G,MAAM,GAAGL,WAAW,CAACM,aAAa,CAAC5G,OAAO,CAAC,CAAC6G,KAAK,CAAC,CAAC,CAACC,KAAK,CAAC,IAAI,CAAC;IACrE,OAAOH,MAAM,CAACA,MAAM,CAACrI,MAAM,GAAG,CAAC,CAAC;EACjC;EAEO,MAAMyI,cAAc,GAAG,SAAAA,CAC7BrJ,kBAAuC,EACvCC,aAA4B,EAC5BqJ,qBAAoC,EACpClI,YAAoB,EACpBkB,OAAgB,EAChBiH,cAAoC,EACjB;IACnB,MAAMpJ,eAAe,GAAGJ,wBAAwB,CAACC,kBAAkB,EAAEC,aAAa,EAAEqJ,qBAAqB,CAAC;IAC1G;IACA,IAAIjB,OAAO,GAAGM,eAAe,CAACxI,eAAe,EAAEiB,YAAY,EAAEkB,OAAO,CAAC;IACrE,IAAIiH,cAAc,EAAE;MACnB,MAAMC,aAAa,GAAGzJ,wBAAwB,CAACwJ,cAAc,EAAEtJ,aAAa,EAAEqJ,qBAAqB,CAAC;MACpG,MAAMG,MAAM,GAAGT,qBAAqB,CAACQ,aAAa,EAAEpI,YAAY,EAAEkB,OAAO,CAAC;MAC1E+F,OAAO,GAAGA,OAAO,CAACqB,MAAM,CAACD,MAAM,CAAC;IACjC;IACA,IAAIpB,OAAO,CAACzH,MAAM,GAAG,CAAC,EAAE;MACvB,OAAOyH,OAAO;IACf,CAAC,MAAM;MACN,OAAO,EAAE;IACV;EACD,CAAC;EAACrH,QAAA,CAAAqI,cAAA,GAAAA,cAAA;EAEK,MAAMM,SAAS,GAAG,SAAAA,CAAA,EAAgB;IACxC,OAAO,EAAE;EACV,CAAC;EAAC3I,QAAA,CAAA2I,SAAA,GAAAA,SAAA;EAEK,SAASC,mBAAmBA,CAAC1I,YAA0B,EAAW;IACxE;IACA,IAAI2I,SAAmC,GAAG,CAAC,CAAC;IAC5C,MAAMC,YAAY,GAAG5I,YAAY,CAAC6I,gBAAgB,CAAC,CAAC;IACpDF,SAAS,GAAGC,YAAY,EAAEE,eAAe,GAAGC,MAAM,CAACC,QAAQ,CAACC,MAAM,CAAC;IACnE,OAAO,CAAC,CAACN,SAAS,IAAIA,SAAS,CAAC,sBAAsB,CAAC,GAAG,CAAC,CAAC,KAAK,eAAe;EACjF;EAAC7I,QAAA,CAAA4I,mBAAA,GAAAA,mBAAA;EAEM,SAASQ,SAASA,CAAClJ,YAA0B,EAAW;IAC9D;IACA,IAAI2I,SAAmC,GAAG,CAAC,CAAC;IAC5C,MAAMC,YAAY,GAAG5I,YAAY,CAAC6I,gBAAgB,CAAC,CAAC;IACpDF,SAAS,GAAGC,YAAY,EAAEE,eAAe,GAAGC,MAAM,CAACC,QAAQ,CAACC,MAAM,CAAC;IACnE,OAAO,CAAC,CAACN,SAAS,IAAIA,SAAS,CAAC,iBAAiB,CAAC,GAAG,CAAC,CAAC,KAAK,MAAM;EACnE;EAAC7I,QAAA,CAAAoJ,SAAA,GAAAA,SAAA;EAEM,SAASC,oBAAoBA,CAACnJ,YAA0B,EAAEoJ,KAAqB,EAAkB;IACvG,IAAI,CAACV,mBAAmB,CAAC1I,YAAY,CAAC,EAAE;MACvC;MACA,OAAOoJ,KAAK,CAACC,MAAM,CAAElK,OAAO,IAAK;QAChC,OAAOA,OAAO,CAACmK,OAAO;MACvB,CAAC,CAAC;IACH;IACA,OAAOF,KAAK;EACb;EAACtJ,QAAA,CAAAqJ,oBAAA,GAAAA,oBAAA;EAEM,SAASI,qBAAqBA,CAAC9H,aAAsB,EAAwC;IAAA,IAAtC7B,IAAI,GAAA+B,SAAA,CAAAjC,MAAA,QAAAiC,SAAA,QAAAC,SAAA,GAAAD,SAAA,MAAG,oBAAoB;IACxF,IAAIF,aAAa,CAACQ,WAAW,CAACrC,IAAI,CAAC,EAAE;MACpC,OAAO,IAAI;IACZ;IACA,OAAO,KAAK;EACb;EAACE,QAAA,CAAAyJ,qBAAA,GAAAA,qBAAA;EAEM,SAASC,kBAAkBA,CAACJ,KAAqB,EAAE3H,aAAsB,EAAqC;IAAA,IAAnC7B,IAAI,GAAA+B,SAAA,CAAAjC,MAAA,QAAAiC,SAAA,QAAAC,SAAA,GAAAD,SAAA,MAAG,oBAAoB;IAC5G,IAAI,CAACF,aAAa,CAACQ,WAAW,CAACrC,IAAI,CAAC,EAAE;MACrC6B,aAAa,CAACgI,WAAW,CAAC7J,IAAI,EAAEwJ,KAAK,CAAC;IACvC;EACD;EAACtJ,QAAA,CAAA0J,kBAAA,GAAAA,kBAAA;EAEM,SAASE,yBAAyBA,CAACjI,aAAsB,EAA6D;IAAA,IAA3D7B,IAAI,GAAA+B,SAAA,CAAAjC,MAAA,QAAAiC,SAAA,QAAAC,SAAA,GAAAD,SAAA,MAAG,oBAAoB;IAC5F,MAAMgI,QAAQ,GAAGlI,aAAa,CAACmI,SAAS,CAAChK,IAAI,CAAC;IAC9C,MAAMiK,sBAAsB,GAAGF,QAAQ,CAACG,IAAI,CAAE3K,OAAqB,IAAK;MACvE,OAAOA,OAAO,EAAEiC,OAAO,CAAC,CAAC,CAAC,EAAEhC,EAAE,KAAK,iBAAiB;IACrD,CAAC,CAAC;IACF,IAAIyK,sBAAsB,EAAE;MAC3B,OAAOA,sBAAsB,CAACzI,OAAO,CAAC,CAAC,CAAC,CAAC8C,KAAK;IAC/C;IACA,OAAOtC,SAAS;EACjB;EAAC9B,QAAA,CAAA4J,yBAAA,GAAAA,yBAAA;EAEM,SAAS7C,iBAAiBA,CAACpF,aAAsB,EAAEI,aAAwB,EAAqC;IAAA,IAAnCjC,IAAI,GAAA+B,SAAA,CAAAjC,MAAA,QAAAiC,SAAA,QAAAC,SAAA,GAAAD,SAAA,MAAG,oBAAoB;IAC9G,MAAMoI,eAAe,GAAG/H,SAAS,CAACH,aAAa,CAACV,OAAO,CAAC,CAAC,CAAC;IAC1DM,aAAa,CAACgI,WAAW,CAAC7J,IAAI,EAAEmK,eAAe,CAAC;EACjD;EAACjK,QAAA,CAAA+G,iBAAA,GAAAA,iBAAA;EAEM,SAASmD,+BAA+BA,CAACC,KAA0B,EAAEpJ,aAA4B,EAAuB;IAC9HoJ,KAAK,CAAC/K,OAAO,CAAC,UAAUgL,IAAI,EAAE;MAC7BA,IAAI,CAACC,IAAI,GAAGtJ,aAAa,CAACE,OAAO,CAACmJ,IAAI,CAACC,IAAI,CAAC;MAC5CD,IAAI,CAACE,WAAW,GAAGvJ,aAAa,CAACE,OAAO,CAACmJ,IAAI,CAACE,WAAW,CAAC;MAC1D,IAAIF,IAAI,CAACG,KAAK,EAAE;QACfH,IAAI,CAACG,KAAK,CAACnL,OAAO,CAAC,UAAUoL,KAAK,EAAE;UACnCA,KAAK,CAACH,IAAI,GAAGtJ,aAAa,CAACE,OAAO,CAACuJ,KAAK,CAACH,IAAI,CAAC;QAC/C,CAAC,CAAC;MACH;IACD,CAAC,CAAC;IAEF,OAAOF,KAAK;EACb;EAACnK,QAAA,CAAAkK,+BAAA,GAAAA,+BAAA;EAEM,SAASO,wBAAwBA,CAACnJ,OAAgB,EAAW;IACnE,IAAIoJ,KAAK,GAAGC,SAAS,CAACC,oBAAoB,CAACtJ,OAAO,CAAsB;IACxE,IAAIoJ,KAAK,KAAK5I,SAAS,IAAIR,OAAO,CAACyG,SAAS,CAAC,CAAC,EAAE;MAC/C;MACA2C,KAAK,GAAGC,SAAS,CAACC,oBAAoB,CAACtJ,OAAO,CAACyG,SAAS,CAAC,CAAE,CAAsB;IAClF;IACA,MAAM8C,aAAa,GAAGH,KAAK,EAAE7C,eAAe,CAAC,CAAC,CAACiD,gBAAgB,CAAC,QAAQ,CAAC;IACzE,OAAOD,aAAa,EAAEE,GAAG,EAAEC,sBAAsB,KAAK,IAAI;EAC3D;EAAChL,QAAA,CAAAyK,wBAAA,GAAAA,wBAAA;EAAA,OAAAzK,QAAA;AAAA","ignoreList":[],"file":"Designtime.helper-dbg.js"}