{"version":3,"names":["ObjectTitleDefinition","headerInfo","_proto","prototype","hasAvatar","ImageUrl","TypeImageUrl","Initials","getTitle","compileExpression","getExpressionFromAnnotation","Title","Value","isDescriptionVisible","Description","annotations","UI","Hidden","valueOf","getDescription","ObjectTitle","_dec","defineUI5Class","_dec2","property","type","_class","_class2","_BuildingBlock","idOrSettings","settings","_this","call","_initializerDefineProperty","_descriptor","_exports","_inheritsLoose","_proto2","onMetadataAvailable","content","createContent","_createAvatar","_jsx","Avatar","class","src","initials","fallbackIcon","displayShape","displaySize","imageFitType","children","detailBox","LightBox","LightBoxItem","imageSrc","title","subtitle","_createTitle","definition","text","wrapping","level","_createDescription","Label","_getTitlePart","FlexBox","direction","items","metaPathObject","getMetaPathObject","metaPath","getTarget","renderType","BuildingBlock","_applyDecoratedDescriptor","configurable","enumerable","writable","initializer"],"sourceRoot":".","sources":["ObjectTitle.tsx"],"sourcesContent":["import type { DataField, HeaderInfo } from \"@sap-ux/vocabularies-types/vocabularies/UI\";\nimport { UIAnnotationTerms } from \"@sap-ux/vocabularies-types/vocabularies/UI\";\nimport type { CompiledBindingToolkitExpression } from \"sap/fe/base/BindingToolkit\";\nimport { compileExpression, getExpressionFromAnnotation } from \"sap/fe/base/BindingToolkit\";\nimport type { PropertiesOf } from \"sap/fe/base/ClassSupport\";\nimport { defineUI5Class, property } from \"sap/fe/base/ClassSupport\";\nimport BuildingBlock from \"sap/fe/core/buildingBlocks/BuildingBlock\";\nimport Avatar from \"sap/m/Avatar\";\nimport FlexBox from \"sap/m/FlexBox\";\nimport Label from \"sap/m/Label\";\nimport LightBox from \"sap/m/LightBox\";\nimport LightBoxItem from \"sap/m/LightBoxItem\";\nimport Title from \"sap/m/Title\";\n\nclass ObjectTitleDefinition {\n\tconstructor(private readonly headerInfo: HeaderInfo) {}\n\n\thasAvatar(): boolean {\n\t\treturn !!(this.headerInfo.ImageUrl ?? this.headerInfo.TypeImageUrl ?? this.headerInfo.Initials);\n\t}\n\n\tgetTitle(): CompiledBindingToolkitExpression {\n\t\treturn compileExpression(getExpressionFromAnnotation((this.headerInfo.Title as DataField).Value));\n\t}\n\n\tisDescriptionVisible(): boolean {\n\t\t// Not statically hidden\n\t\treturn this.headerInfo.Description?.annotations?.UI?.Hidden?.valueOf() !== false;\n\t}\n\n\tgetDescription(): CompiledBindingToolkitExpression {\n\t\treturn compileExpression(getExpressionFromAnnotation((this.headerInfo.Description as DataField).Value));\n\t}\n}\n@defineUI5Class(\"sap.fe.macros.ObjectTitle\")\nexport default class ObjectTitle extends BuildingBlock {\n\t@property({ type: \"string\" })\n\tmetaPath: string = UIAnnotationTerms.HeaderInfo;\n\n\tconstructor(idOrSettings: string);\n\n\tconstructor(idOrSettings: PropertiesOf<ObjectTitle>);\n\n\tconstructor(idOrSettings: string | PropertiesOf<ObjectTitle>, settings?: PropertiesOf<ObjectTitle>) {\n\t\tsuper(idOrSettings, settings);\n\t}\n\n\tonMetadataAvailable(): void {\n\t\tif (!this.content) {\n\t\t\tthis.content = this.createContent();\n\t\t}\n\t}\n\n\t_createAvatar(): Avatar {\n\t\treturn (\n\t\t\t<Avatar\n\t\t\t\tclass=\"sapUiSmallMarginEnd\"\n\t\t\t\tsrc=\"{avatar>src}\"\n\t\t\t\tinitials=\"{avatar>initials}\"\n\t\t\t\tfallbackIcon=\"{avatar>fallbackIcon}\"\n\t\t\t\tdisplayShape=\"{avatar>displayShape}\"\n\t\t\t\tdisplaySize=\"S\"\n\t\t\t\timageFitType=\"Cover\"\n\t\t\t>\n\t\t\t\t{{\n\t\t\t\t\tdetailBox: (\n\t\t\t\t\t\t<LightBox>\n\t\t\t\t\t\t\t<LightBoxItem\n\t\t\t\t\t\t\t\timageSrc=\"{avatar>src}\"\n\t\t\t\t\t\t\t\ttitle=\"{= OP.getExpressionForTitle(${fullContextPath>@@UI.getDataModelObjectPath}, ${viewData>}, ${headerInfo>@@UI.getConverterContext})}\"\n\t\t\t\t\t\t\t\tsubtitle=\"{= OP.getExpressionForDescription(${fullContextPath>@@UI.getDataModelObjectPath}, ${headerInfo>@@UI.getConverterContext})}\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</LightBox>\n\t\t\t\t\t)\n\t\t\t\t}}\n\t\t\t</Avatar>\n\t\t);\n\t}\n\n\t_createTitle(definition: ObjectTitleDefinition): Title {\n\t\treturn <Title text={definition.getTitle()} wrapping=\"true\" level=\"H2\" />;\n\t}\n\n\t_createDescription(definition: ObjectTitleDefinition): Label {\n\t\treturn <Label text={definition.getDescription()} wrapping=\"true\" />;\n\t}\n\n\t_getTitlePart(definition: ObjectTitleDefinition): FlexBox | Title {\n\t\tif (definition.isDescriptionVisible()) {\n\t\t\treturn <FlexBox direction=\"Column\">{{ items: [this._createTitle(definition), this._createDescription(definition)] }}</FlexBox>;\n\t\t} else {\n\t\t\treturn this._createTitle(definition);\n\t\t}\n\t}\n\n\tcreateContent(): FlexBox | Title | undefined {\n\t\tconst metaPathObject = this.getMetaPathObject<HeaderInfo>(`@${this.metaPath}`);\n\t\tif (metaPathObject) {\n\t\t\tconst definition = new ObjectTitleDefinition(metaPathObject.getTarget());\n\t\t\tif (definition.hasAvatar()) {\n\t\t\t\treturn <FlexBox renderType=\"Bare\">{{ items: [this._createAvatar(), this._getTitlePart(definition)] }}</FlexBox>;\n\t\t\t} else {\n\t\t\t\treturn this._getTitlePart(definition);\n\t\t\t}\n\t\t}\n\t}\n}\n"],"mappings":"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","ignoreList":[],"file":"ObjectTitle-dbg.js"}