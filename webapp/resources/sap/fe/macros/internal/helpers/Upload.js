/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.define(["sap/fe/core/CommonUtils","sap/fe/core/helpers/ResourceModelHelper","sap/m/MessageBox","sap/ui/core/Item","sap/ui/unified/FileUploaderParameter"],function(e,t,o,a,r){"use strict";var i={};var s=t.getResourceModel;function n(e,t,a){const r=s(e);o.error(r.getText("M_FIELD_FILEUPLOADER_WRONG_MIMETYPE"),{details:`<p><strong>${r.getText("M_FIELD_FILEUPLOADER_WRONG_MIMETYPE_DETAILS_SELECTED")}</strong></p>${t}<br><br>`+`<p><strong>${r.getText("M_FIELD_FILEUPLOADER_WRONG_MIMETYPE_DETAILS_ALLOWED")}</strong></p>${a.toString().replaceAll(",",", ")}`,contentWidth:"150px"})}i.showTypeMismatchDialog=n;function l(e,t){const a=s(e);o.error(a.getText("M_FIELD_FILEUPLOADER_FILE_TOO_BIG",[t]),{contentWidth:"150px"})}i.showFileSizeExceedDialog=l;function c(e,t){const a=s(e);o.error(a.getText("M_FIELD_FILEUPLOADER_FILENAME_TOO_BIG",[t]),{contentWidth:"150px"})}i.showFileNameLengthExceedDialog=c;function d(e,t){let a,r;try{r=t&&JSON.parse(t);a=r.error?.message}catch(o){a=t||s(e).getText("M_FIELD_FILEUPLOADER_ABORTED_TEXT")}o.error(a)}i.displayMessageForFailedUpload=d;function p(e,t,o){if(e.isA("sap.ui.unified.FileUploader")){const a=new r;a.setName(t);a.setValue(o);e.addHeaderParameter(a)}else if(e.isA("sap.m.upload.UploadItem")){const r=new a({key:t,text:o});e.addHeaderField(r)}}function E(t,o,a){if(t.isA("sap.ui.unified.FileUploader")){t.removeAllHeaderParameters()}else if(t.isA("sap.m.upload.UploadItem")){t.removeAllHeaderFields()}const r=t.getModel()?.getHttpHeaders()?.["X-CSRF-Token"];if(r){p(t,"x-csrf-token",r)}const i=a?.getProperty("@odata.etag")??t.getBindingContext()?.getProperty("@odata.etag");if(i){const o=e.getTargetView(t);const a=o.getController().collaborativeDraft;p(t,"If-Match",a.isConnected()?"*":i)}p(t,"Accept","application/json");p(t,"Content-Type",o||"application/octet-stream")}i.setHeaderFields=E;return i},false);
//# sourceMappingURL=Upload.js.map