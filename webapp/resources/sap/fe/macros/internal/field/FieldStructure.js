/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.define(["sap/fe/core/helpers/StableIdHelper","sap/fe/core/templating/DataModelPathHelper","sap/fe/core/templating/PropertyHelper","sap/fe/macros/ValueHelp","sap/m/HBox","sap/m/VBox","sap/ui/mdc/enums/FieldEditMode","../../CommonHelper","../../controls/FieldWrapper","../../field/FieldHelper","./DisplayStyle","./EditStyle","./FieldStructureHelper","sap/fe/base/jsx-runtime/jsx","sap/fe/base/jsx-runtime/jsxs"],function(e,t,a,l,n,i,r,d,o,s,p,u,c,m,h){"use strict";var v={};var F=c.setUpField;var g=a.hasValueHelp;var H=a.getAssociatedUnitProperty;var f=a.getAssociatedCurrencyProperty;var y=t.getContextRelativeTargetObjectPath;var P=e.generate;function $(e,t,a){const n=f(e.property)??H(e.property)??e.property;if(n&&g(n)){const n=l.getValueHelpForMetaPath(t,e.dataSourcePath,e.contextPath?.getPath(),a,e._requiresValidation);return n?.getContent()?.getId()}return""}v.getPossibleValueHelpTemplateId=$;function x(e){let t;if(e._flexId){t=e._flexId}else if(e.idPrefix){t=P([e.idPrefix,"Field-content"])}else{t=undefined}const a=p.getTemplate(e);const l=u.getTemplateWithWrapper(e);const n=e.editStyle==="InputWithValueHelp"&&e.computedEditMode?.includes("@$ui5.context")?true:undefined;return m(o,{id:t,editMode:e.editMode??e.computedEditMode,width:"100%",textAlign:e.textAlign,class:e.class,validateFieldGroup:e.eventHandlers.onFocusOut,delaySwitchToDisplay:n,children:{contentDisplay:a,contentEdit:l}})}v.createFieldWrapper=x;function E(e){let t=e;if(!(e.isDynamicInstantiation??false)){t=F(e,e._controlConfiguration,e._settings.models.viewData,e._settings.models.internal??e._settings.appComponent?.getModel?.("internal"),e._settings.appComponent,e.isPropertyInitial("readOnly"));const a=t.fileFilenameExpression?"{ path: '"+t.fileFilenameExpression+"' }":"undefined";t.eventHandlers.change="Field.handleChange";t.eventHandlers.liveChange="Field.handleLiveChange";t.eventHandlers.validateFieldGroup="Field.onValidateFieldGroup";t.eventHandlers.handleTypeMissmatch="FieldRuntimeHelper.handleTypeMissmatch";t.eventHandlers.handleFileSizeExceed="FieldRuntimeHelper.handleFileSizeExceed";t.eventHandlers.handleUploadComplete=`FieldRuntimeHelper.handleUploadComplete($event, ${a}, '${t.fileRelativePropertyPath}', $controller)`;t.eventHandlers.uploadStream="FieldRuntimeHelper.uploadStream($controller, $event)";t.eventHandlers.removeStream=`FieldRuntimeHelper.removeStream($event, ${a}, '${t.fileRelativePropertyPath}', $controller)`;t.eventHandlers.handleOpenUploader="FieldRuntimeHelper.handleOpenUploader";t.eventHandlers.handleCloseUploader="FieldRuntimeHelper.handleCloseUploader";t.eventHandlers.openExternalLink="FieldRuntimeHelper.openExternalLink";t.eventHandlers.onFocusOut=".collaborativeDraft.handleContentFocusOut";t.eventHandlers.linkPressed="FieldRuntimeHelper.pressLink";t.eventHandlers.displayAggregationDetails=`FIELDRUNTIME.displayAggregateDetails($event, '${y(t.dataModelPath)}')`;if(t.convertedMetaPath.$Type==="com.sap.vocabularies.UI.v1.DataFieldWithNavigationPath"){t.eventHandlers.onDataFieldWithNavigationPath=`FieldRuntimeHelper.onDataFieldWithNavigationPath(\${$source>/}, $controller, '${t.convertedMetaPath.Target.value}')`}t.eventHandlers.showCollaborationEditUser="FieldRuntimeHelper.showCollaborationEditUser(${$source>/}, ${$view>/})";t.eventHandlers.onDataFieldActionButton=s.getPressEventForDataFieldActionButton(t,t.metaPath.getObject());t.eventHandlers.onDataFieldWithIBN=d.getPressHandlerForDataFieldForIBN(t.metaPath.getObject())}if(t.displayStyle==="Avatar"||t.displayStyle==="Contact"||t.displayStyle==="Button"||t.displayStyle==="File"){if(t.displayStyle==="File"&&(t.collaborationEnabled??false)&&(t.editMode??t.computedEditMode)!==r.Display){return h(n,{width:"100%",alignItems:"End",children:[m(i,{width:"100%",children:p.getFileTemplate(t)}),u.getCollaborationAvatar(t)]})}else{return p.getTemplate(t)}}else if(t.formatOptions.fieldMode==="nowrapper"&&(t.editMode??t.computedEditMode)===r.Display){return p.getTemplate(t)}else{return x(t)}}v.getFieldStructureTemplate=E;return v},false);
//# sourceMappingURL=FieldStructure.js.map