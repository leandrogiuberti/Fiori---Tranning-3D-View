{"version":3,"names":["p","strValue","content","Array","isArray","children","map","child","output","getMetadata","getName","getHref","getText","getValue","join","_jsx","FormattedText","htmlText","class","wrapper","Page","h1","Title","text","level","TitleLevel","H1","a","ul","ulContent","li","h2","H2","pre","BuildingBlockPlayground","inValue","sourceHBox","createReference","binding","path","undefined","target","Panel","headerText","HBox","ref","bindElement","macroLibrary","register","fragmentOrPromise","XMLPreprocessor","process","parseXMLString","name","MDXViewLoader","preprocessorData","Promise","resolve","then","fragment","owner","Component","getOwnerComponentFor","getRootControl","Fragment","load","definition","firstElementChild","containingView","fragmentContent","current","removeAllItems","addItem","catch","err","Log","error","CodeBlock","snippet","trim","lineCount","Math","max","split","length","type","className","myCodeEditor","CodeEditor","lineNumbers","editable","maxLines","height","width","setValue","source","fetch","res","splittedText","start","slice","end","newLineCount","setMaxLines","e","message","provideComponenents","code"],"sourceRoot":".","sources":["useMDXComponents.tsx"],"sourcesContent":["import Log from \"sap/base/Log\";\nimport { createReference } from \"sap/fe/base/ClassSupport\";\nimport MDXViewLoader from \"sap/fe/base/jsx-runtime/ViewLoader\";\nimport { parseXMLString } from \"sap/fe/core/buildingBlocks/templating/BuildingBlockTemplateProcessor\";\n// eslint-disable-next-line @typescript-eslint/no-restricted-imports\nimport macroLibrary from \"sap/fe/macros/macroLibrary\";\nimport FormattedText from \"sap/m/FormattedText\";\nimport HBox from \"sap/m/HBox\";\nimport type Link from \"sap/m/Link\";\nimport Page from \"sap/m/Page\";\nimport Panel from \"sap/m/Panel\";\nimport Title from \"sap/m/Title\";\n// eslint-disable-next-line @typescript-eslint/no-restricted-imports\nimport CodeEditor from \"sap/ui/codeeditor/CodeEditor\";\nimport Component from \"sap/ui/core/Component\";\nimport type Control from \"sap/ui/core/Control\";\nimport Fragment from \"sap/ui/core/Fragment\";\nimport type UIComponent from \"sap/ui/core/UIComponent\";\nimport { TitleLevel } from \"sap/ui/core/library\";\nimport type View from \"sap/ui/core/mvc/View\";\nimport XMLPreprocessor from \"sap/ui/core/util/XMLPreprocessor\";\nfunction p(strValue: { children: (string | Control)[] }): string {\n\tconst content = Array.isArray(strValue.children)\n\t\t? strValue.children\n\t\t\t\t.map((child: string | Control) => {\n\t\t\t\t\tlet output;\n\t\t\t\t\tif (typeof child === \"string\") {\n\t\t\t\t\t\toutput = child;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tswitch (child.getMetadata().getName()) {\n\t\t\t\t\t\t\tcase \"sap.m.Link\":\n\t\t\t\t\t\t\t\toutput = `<a href=\"${(child as Link).getHref()}\">${(child as Link).getText()}</a>`;\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase \"sap.ui.codeeditor.CodeEditor\":\n\t\t\t\t\t\t\t\toutput = `<code>${(child as CodeEditor).getValue()}</code>`;\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn output;\n\t\t\t\t})\n\t\t\t\t.join(\"\")\n\t\t: strValue.children;\n\treturn <FormattedText htmlText={content} class={\"sapUiTinyMarginBottom\"} />;\n}\n\nfunction wrapper(strValue: { children: Control[] }): Page {\n\treturn (<Page class={\"sapUiContentPadding\"}>{{ content: strValue.children }}</Page>) as Page;\n}\nfunction h1(strValue: { children: string }): string {\n\treturn <Title text={strValue.children} level={TitleLevel.H1} class={\"sapUiTinyMarginBottom\"} />;\n}\nfunction a(strValue: { href: string; children: string }): string {\n\treturn `<a href={strValue.href}>${strValue.children}</a>`;\n}\nfunction ul(strValue: { children: string | string[] }): string {\n\tconst ulContent = `<ul>${Array.isArray(strValue.children) ? strValue.children.join(\"\") : strValue.children}</ul>`;\n\treturn <FormattedText htmlText={ulContent} />;\n}\nfunction li(strValue: { children: string | string[] }): string {\n\treturn `<li>${Array.isArray(strValue.children) ? strValue.children.join(\"\") : strValue.children}</li>`;\n}\nfunction h2(strValue: { children: string | string[] }): string {\n\treturn <Title text={strValue.children} level={TitleLevel.H2} class={\"sapUiSmallMarginTop sapUiTinyMarginBottom\"} />;\n}\nfunction pre(content: { children: string }): string {\n\treturn content.children;\n}\n\nfunction BuildingBlockPlayground(inValue: { binding: string; headerText: string; children: string }): Control {\n\tconst sourceHBox = createReference<HBox>();\n\tconst binding = inValue.binding ? { path: inValue.binding } : undefined;\n\tconst target = (\n\t\t<Panel headerText={inValue.headerText || \"\"} class={\"sapUiSmallMarginTop\"}>\n\t\t\t<HBox ref={sourceHBox}></HBox>\n\t\t</Panel>\n\t);\n\t// \t<TabContainer>\n\t// \t\t{{\n\t// \t\t\titems: [\n\t// \t\t\t\t<TabContainerItem name={\"Sample\"}>{{ content:  }},</TabContainerItem>,\n\t// \t\t\t\t<TabContainerItem name={\"Source\"}>\n\t// \t\t\t\t\t{{\n\t// \t\t\t\t\t\tcontent: (\n\t// \t\t\t\t\t\t\t<CodeBlock editable={false} lineNumbers={true} type={\"xml\"} lineCount={10}>\n\t// \t\t\t\t\t\t\t\t{inValue.children}\n\t// \t\t\t\t\t\t\t</CodeBlock>\n\t// \t\t\t\t\t\t)\n\t// \t\t\t\t\t}}\n\t// \t\t\t\t</TabContainerItem>\n\t// \t\t\t]\n\t// \t\t}}\n\t// \t</TabContainer>\n\t// );\n\tif (binding) {\n\t\ttarget.bindElement(binding);\n\t}\n\tmacroLibrary.register();\n\tconst fragmentOrPromise = XMLPreprocessor.process(\n\t\tparseXMLString(`<root>${inValue.children}</root>`, true)[0],\n\t\t{ name: \"myBuildingBlockFragment\" },\n\t\tMDXViewLoader.preprocessorData\n\t);\n\tPromise.resolve(fragmentOrPromise)\n\t\t.then(async (fragment: Element) => {\n\t\t\tconst owner = (Component.getOwnerComponentFor(target) as UIComponent) ?? { getRootControl: (): unknown => undefined };\n\t\t\treturn Fragment.load({\n\t\t\t\tdefinition: fragment.firstElementChild as unknown as string,\n\t\t\t\tcontainingView: owner.getRootControl() as unknown as View\n\t\t\t});\n\t\t})\n\t\t.then((fragmentContent: Control | Control[]): void => {\n\t\t\tsourceHBox.current?.removeAllItems();\n\t\t\tsourceHBox.current?.addItem(fragmentContent as Control);\n\t\t\treturn;\n\t\t})\n\t\t.catch((err: unknown): void => {\n\t\t\tLog.error(err as string);\n\t\t});\n\treturn target;\n}\nfunction CodeBlock(inValue: {\n\tchildren: string;\n\tlineNumbers?: boolean;\n\ttype?: string;\n\teditable?: boolean;\n\tlineCount?: number;\n\tsource?: string;\n\tstart?: number;\n\tend?: number;\n\tclassName?: string;\n}): CodeEditor {\n\tconst snippet = inValue.children?.trim() || \"\";\n\tconst lineCount = inValue.lineCount || Math.max(snippet.split(\"\\n\")?.length, 3);\n\tconst type = inValue.type || inValue?.className?.split(\"-\")[1] || \"js\";\n\tconst myCodeEditor = (\n\t\t<CodeEditor\n\t\t\tclass=\"sapUiTinyMargin\"\n\t\t\tlineNumbers={inValue.lineNumbers || false}\n\t\t\ttype={type}\n\t\t\teditable={inValue.editable || false}\n\t\t\tmaxLines={lineCount}\n\t\t\theight={\"auto\"}\n\t\t\twidth={\"98%\"}\n\t\t></CodeEditor>\n\t);\n\tmyCodeEditor.setValue(snippet);\n\tif (inValue.source) {\n\t\tfetch(inValue.source)\n\t\t\t.then(async (res) => res.text())\n\t\t\t.then((text) => {\n\t\t\t\tlet splittedText = text.split(\"\\n\");\n\t\t\t\tif (inValue.start) {\n\t\t\t\t\tsplittedText = splittedText.slice(inValue.start - 1, inValue.end);\n\t\t\t\t}\n\t\t\t\tconst newLineCount = Math.max(splittedText.length, 3);\n\t\t\t\tmyCodeEditor.setMaxLines(newLineCount);\n\t\t\t\tmyCodeEditor.setValue(splittedText.join(\"\\n\"));\n\t\t\t\treturn;\n\t\t\t})\n\t\t\t.catch((e) => {\n\t\t\t\tmyCodeEditor.setValue(e.message);\n\t\t\t});\n\t}\n\treturn myCodeEditor;\n}\n\nconst provideComponenents = function (): {\n\twrapper: Function;\n\tp: Function;\n\ta: Function;\n\th1: Function;\n\th2: Function;\n\tul: Function;\n\tli: Function;\n\tpre: Function;\n\tcode: Function;\n\tCodeBlock: Function;\n\tBuildingBlockPlayground: Function;\n} {\n\treturn {\n\t\twrapper: wrapper,\n\t\tp: p,\n\t\ta: a,\n\t\th1: h1,\n\t\th2: h2,\n\t\tul: ul,\n\t\tli: li,\n\t\tpre: pre,\n\t\tcode: CodeBlock,\n\t\tCodeBlock: CodeBlock,\n\t\tBuildingBlockPlayground: BuildingBlockPlayground\n\t};\n};\nexport default provideComponenents;\n"],"mappings":"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","ignoreList":[],"file":"useMDXComponents-dbg.js"}