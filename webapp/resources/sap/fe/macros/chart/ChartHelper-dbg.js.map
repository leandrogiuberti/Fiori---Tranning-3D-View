{"version":3,"names":["getEntitySetPath","annotationContext","getPath","replace","ChartTypeEnum","DimensionRoleTypeEnum","ChartHelper","formatJSONToString","crit","undefined","criticality","JSON","stringify","RegExp","formatChartType","chartType","$EnumMember","formatDimensions","annotation","getObject","metaModel","getModel","entitySetPath","dimensions","isNavigationText","DimensionAttributes","dimension","Dimensions","key","$PropertyPath","text","includes","Log","error","$Path","indexOf","chartDimension","textPath","label","role","attribute","Dimension","Role","fetchCriticality","createBindingContext","push","dimensionModel","JSONModel","$$valueAsPromise","oMetaModel","oCtx","UI","aValueCriticality","oCriticality","oValueCriticality","VeryPositive","Positive","Critical","VeryNegative","Negative","Neutral","i","length","Criticality","endsWith","Value","sKey","formatMeasures","getData","getUiChart","presentationContext","getUiControl","getOperationAvailableMap","chart","contextContext","chartCollection","Actions","ActionHelper","getSortConditions","oContext","oPresentationVariant","sPresentationVariantPath","oApplySupported","CommonHelper","_isPresentationVariantAnnotation","SortOrder","aSortConditions","sorters","sEntityPath","split","forEach","oCondition","arguments","oSortProperty","DynamicProperty","$AnnotationPath","Name","Property","aGroupableProperties","GroupableProperties","oSorter","name","descending","Descending","Error","_getModel","oCollection","oInterface","context","isDataFieldForActionButtonEnabled","bIsBound","sAction","sOperationAvailableMap","sEnableSelectOn","oModel","sNavPath","sPartner","$Partner","oOperationAvailableMap","parse","aPath","sNumberOfSelectedContexts","getNumberOfContextsExpression","sPath","getHiddenPathExpressionForTableActionsAndIBN","sHiddenPath","oDetails","sPropertyPath","sEntitySetPath","ODataModelAnnotationHelper","getNavigationPath","aSplitHiddenPath","sNavigationPath","slice","join","getPressEventForDataFieldForActionButton","id","action","operationAvailableMap","getPressEventDataFieldForActionButton","contexts","getActionType","valueOf","getCollectionName","collection","collectionSplit","requiresIContext"],"sourceRoot":".","sources":["ChartHelper.ts"],"sourcesContent":["import type * as Edm from \"@sap-ux/vocabularies-types/Edm\";\nimport { AggregationAnnotationTerms } from \"@sap-ux/vocabularies-types/vocabularies/Aggregation\";\nimport type { SortOrderType } from \"@sap-ux/vocabularies-types/vocabularies/Common\";\nimport { CommonAnnotationTerms } from \"@sap-ux/vocabularies-types/vocabularies/Common\";\nimport type {\n\tChart,\n\tChartType,\n\tCriticalityType,\n\tDataFieldForAction,\n\tOperationGroupingType,\n\tPresentationVariantType,\n\tValueCriticalityType\n} from \"@sap-ux/vocabularies-types/vocabularies/UI\";\nimport { UIAnnotationTerms, UIAnnotationTypes } from \"@sap-ux/vocabularies-types/vocabularies/UI\";\nimport Log from \"sap/base/Log\";\nimport type DimensionRoleType from \"sap/chart/data/DimensionRoleType\";\nimport type AttributeModel from \"sap/fe/core/buildingBlocks/templating/AttributeModel\";\nimport type { ChartApplySupported } from \"sap/fe/core/converters/controls/Common/Chart\";\nimport { getUiControl } from \"sap/fe/core/converters/controls/Common/DataVisualization\";\nimport type { ComputedAnnotationInterface } from \"sap/fe/core/templating/UIFormatters\";\nimport CommonHelper from \"sap/fe/macros/CommonHelper\";\nimport type { MeasureType } from \"sap/fe/macros/chart/MdcChartTemplate\";\nimport ActionHelper from \"sap/fe/macros/internal/helpers/ActionHelper\";\nimport type Context from \"sap/ui/model/Context\";\nimport JSONModel from \"sap/ui/model/json/JSONModel\";\nimport ODataModelAnnotationHelper from \"sap/ui/model/odata/v4/AnnotationHelper\";\nimport type ODataMetaModel from \"sap/ui/model/odata/v4/ODataMetaModel\";\nimport type { ExpandPathType, MetaModelEnum, MetaModelType } from \"types/metamodel_types\";\n\nfunction getEntitySetPath(annotationContext: Context): string {\n\treturn annotationContext.getPath().replace(/@com.sap.vocabularies.UI.v1.(Chart|PresentationVariant).*/, \"\");\n}\n\nconst ChartTypeEnum = {\n\t\"com.sap.vocabularies.UI.v1.ChartType/Column\": \"column\",\n\t\"com.sap.vocabularies.UI.v1.ChartType/ColumnStacked\": \"stacked_column\",\n\t\"com.sap.vocabularies.UI.v1.ChartType/ColumnDual\": \"dual_column\",\n\t\"com.sap.vocabularies.UI.v1.ChartType/ColumnStackedDual\": \"dual_stacked_column\",\n\t\"com.sap.vocabularies.UI.v1.ChartType/ColumnStacked100\": \"100_stacked_column\",\n\t\"com.sap.vocabularies.UI.v1.ChartType/ColumnStackedDual100\": \"100_dual_stacked_column\",\n\t\"com.sap.vocabularies.UI.v1.ChartType/Bar\": \"bar\",\n\t\"com.sap.vocabularies.UI.v1.ChartType/BarStacked\": \"stacked_bar\",\n\t\"com.sap.vocabularies.UI.v1.ChartType/BarDual\": \"dual_bar\",\n\t\"com.sap.vocabularies.UI.v1.ChartType/BarStackedDual\": \"dual_stacked_bar\",\n\t\"com.sap.vocabularies.UI.v1.ChartType/BarStacked100\": \"100_stacked_bar\",\n\t\"com.sap.vocabularies.UI.v1.ChartType/BarStackedDual100\": \"100_dual_stacked_bar\",\n\t\"com.sap.vocabularies.UI.v1.ChartType/Area\": \"area\",\n\t\"com.sap.vocabularies.UI.v1.ChartType/AreaStacked\": \"stacked_column\",\n\t\"com.sap.vocabularies.UI.v1.ChartType/AreaStacked100\": \"100_stacked_column\",\n\t\"com.sap.vocabularies.UI.v1.ChartType/HorizontalArea\": \"bar\",\n\t\"com.sap.vocabularies.UI.v1.ChartType/HorizontalAreaStacked\": \"stacked_bar\",\n\t\"com.sap.vocabularies.UI.v1.ChartType/HorizontalAreaStacked100\": \"100_stacked_bar\",\n\t\"com.sap.vocabularies.UI.v1.ChartType/Line\": \"line\",\n\t\"com.sap.vocabularies.UI.v1.ChartType/LineDual\": \"dual_line\",\n\t\"com.sap.vocabularies.UI.v1.ChartType/Combination\": \"combination\",\n\t\"com.sap.vocabularies.UI.v1.ChartType/CombinationStacked\": \"stacked_combination\",\n\t\"com.sap.vocabularies.UI.v1.ChartType/CombinationDual\": \"dual_combination\",\n\t\"com.sap.vocabularies.UI.v1.ChartType/CombinationStackedDual\": \"dual_stacked_combination\",\n\t\"com.sap.vocabularies.UI.v1.ChartType/HorizontalCombinationStacked\": \"horizontal_stacked_combination\",\n\t\"com.sap.vocabularies.UI.v1.ChartType/Pie\": \"pie\",\n\t\"com.sap.vocabularies.UI.v1.ChartType/Donut\": \"donut\",\n\t\"com.sap.vocabularies.UI.v1.ChartType/Scatter\": \"scatter\",\n\t\"com.sap.vocabularies.UI.v1.ChartType/Bubble\": \"bubble\",\n\t\"com.sap.vocabularies.UI.v1.ChartType/Radar\": \"line\",\n\t\"com.sap.vocabularies.UI.v1.ChartType/HeatMap\": \"heatmap\",\n\t\"com.sap.vocabularies.UI.v1.ChartType/TreeMap\": \"treemap\",\n\t\"com.sap.vocabularies.UI.v1.ChartType/Waterfall\": \"waterfall\",\n\t\"com.sap.vocabularies.UI.v1.ChartType/Bullet\": \"bullet\",\n\t\"com.sap.vocabularies.UI.v1.ChartType/VerticalBullet\": \"vertical_bullet\",\n\t\"com.sap.vocabularies.UI.v1.ChartType/HorizontalWaterfall\": \"horizontal_waterfall\",\n\t\"com.sap.vocabularies.UI.v1.ChartType/HorizontalCombinationDual\": \"dual_horizontal_combination\",\n\t\"com.sap.vocabularies.UI.v1.ChartType/HorizontalCombinationStackedDual\": \"dual_horizontal_stacked_combination\"\n};\nconst DimensionRoleTypeEnum = {\n\t\"com.sap.vocabularies.UI.v1.ChartDimensionRoleType/Category\": \"category\",\n\t\"com.sap.vocabularies.UI.v1.ChartDimensionRoleType/Series\": \"series\",\n\t\"com.sap.vocabularies.UI.v1.ChartDimensionRoleType/Category2\": \"category2\"\n};\n/**\n * Helper class for sap.fe.macros Chart phantom control for preprocessing.\n * <h3><b>Note:</b></h3>\n * The class is experimental and the API/behaviour is not finalised\n * and hence this should not be used for productive usage.\n * Especially this class is not intended to be used for the FE scenario,\n * here we shall use sap.fe.macros.ChartHelper that is especially tailored for V4\n * meta model\n * @author SAP SE\n * @private\n * @since 1.62.0\n * @alias sap.fe.macros.ChartHelper\n */\nconst ChartHelper = {\n\tformatJSONToString(crit: object | undefined): string | undefined {\n\t\tif (!crit) {\n\t\t\treturn undefined;\n\t\t}\n\n\t\tlet criticality = JSON.stringify(crit);\n\t\tcriticality = criticality.replace(new RegExp(\"{\", \"g\"), \"\\\\{\");\n\t\tcriticality = criticality.replace(new RegExp(\"}\", \"g\"), \"\\\\}\");\n\t\treturn criticality;\n\t},\n\tformatChartType(chartType: ChartType): string {\n\t\treturn ChartTypeEnum[(chartType as unknown as MetaModelEnum<ChartType>)?.$EnumMember as keyof typeof ChartTypeEnum];\n\t},\n\tformatDimensions(annotationContext: Context): Context {\n\t\tconst annotation = annotationContext.getObject(\"./\") as Chart,\n\t\t\tmetaModel = annotationContext.getModel(),\n\t\t\tentitySetPath = getEntitySetPath(annotationContext),\n\t\t\tdimensions = [];\n\n\t\tlet isNavigationText = false;\n\n\t\t//perhaps there are no dimension\n\t\tannotation.DimensionAttributes = annotation.DimensionAttributes || [];\n\n\t\tfor (const dimension of annotation.Dimensions) {\n\t\t\tconst key = (dimension as unknown as ExpandPathType<Edm.PropertyPath>).$PropertyPath;\n\t\t\tconst text = metaModel.getObject(`${entitySetPath + key}@${CommonAnnotationTerms.Text}`) || {};\n\t\t\tif (key.includes(\"/\")) {\n\t\t\t\tLog.error(`$expand is not yet supported. Dimension: ${key} from an association cannot be used`);\n\t\t\t}\n\t\t\tif (text.$Path && text.$Path.indexOf(\"/\") > -1) {\n\t\t\t\tLog.error(\n\t\t\t\t\t`$expand is not yet supported. Text Property: ${text.$Path} from an association cannot be used for the dimension ${key}`\n\t\t\t\t);\n\t\t\t\tisNavigationText = true;\n\t\t\t}\n\n\t\t\tconst chartDimension: { [key: string]: string | undefined } = {\n\t\t\t\tkey: key,\n\t\t\t\ttextPath: !isNavigationText ? text.$Path : undefined,\n\t\t\t\tlabel: metaModel.getObject(`${entitySetPath + key}@${CommonAnnotationTerms.Label}`),\n\t\t\t\trole: \"category\"\n\t\t\t};\n\n\t\t\tfor (const attribute of annotation.DimensionAttributes) {\n\t\t\t\tif (chartDimension.key === (attribute.Dimension as unknown as ExpandPathType<Edm.PropertyPath>)?.$PropertyPath) {\n\t\t\t\t\tchartDimension.role =\n\t\t\t\t\t\tDimensionRoleTypeEnum[\n\t\t\t\t\t\t\t(attribute.Role as unknown as MetaModelEnum<DimensionRoleType>)\n\t\t\t\t\t\t\t\t?.$EnumMember as keyof typeof DimensionRoleTypeEnum\n\t\t\t\t\t\t] || chartDimension.role;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tconst criticality = this.fetchCriticality(metaModel, metaModel.createBindingContext(entitySetPath + key));\n\t\t\tchartDimension.criticality = this.formatJSONToString(criticality);\n\t\t\tdimensions.push(chartDimension);\n\t\t}\n\n\t\tconst dimensionModel = new JSONModel(dimensions);\n\t\t(dimensionModel as AttributeModel).$$valueAsPromise = true;\n\t\treturn dimensionModel.createBindingContext(\"/\");\n\t},\n\n\tfetchCriticality(oMetaModel: ODataMetaModel, oCtx: Context): object | undefined {\n\t\tconst UI = \"@com.sap.vocabularies.UI.v1\";\n\t\tconst aValueCriticality: MetaModelType<ValueCriticalityType>[] = oMetaModel.getObject(`${UI}.ValueCriticality`, oCtx);\n\t\tlet oCriticality: Record<string, unknown[]> | undefined, oValueCriticality: MetaModelType<ValueCriticalityType>;\n\n\t\tif (aValueCriticality) {\n\t\t\toCriticality = {\n\t\t\t\tVeryPositive: [],\n\t\t\t\tPositive: [],\n\t\t\t\tCritical: [],\n\t\t\t\tVeryNegative: [],\n\t\t\t\tNegative: [],\n\t\t\t\tNeutral: []\n\t\t\t};\n\n\t\t\tfor (let i = 0; i < aValueCriticality.length; i++) {\n\t\t\t\toValueCriticality = aValueCriticality[i];\n\t\t\t\tconst criticality = oValueCriticality.Criticality as unknown as MetaModelEnum<CriticalityType>;\n\t\t\t\tif (criticality?.$EnumMember.endsWith(\"VeryPositive\")) {\n\t\t\t\t\toCriticality.VeryPositive.push(oValueCriticality.Value);\n\t\t\t\t} else if (criticality?.$EnumMember.endsWith(\"Positive\")) {\n\t\t\t\t\toCriticality.Positive.push(oValueCriticality.Value);\n\t\t\t\t} else if (criticality?.$EnumMember.endsWith(\"Critical\")) {\n\t\t\t\t\toCriticality.Critical.push(oValueCriticality.Value);\n\t\t\t\t} else if (criticality?.$EnumMember.endsWith(\"VeryNegative\")) {\n\t\t\t\t\toCriticality.VeryNegative.push(oValueCriticality.Value);\n\t\t\t\t} else if (criticality?.$EnumMember.endsWith(\"Negative\")) {\n\t\t\t\t\toCriticality.Negative.push(oValueCriticality.Value);\n\t\t\t\t} else {\n\t\t\t\t\toCriticality.Neutral.push(oValueCriticality.Value);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfor (const sKey in oCriticality) {\n\t\t\t\tif (oCriticality[sKey]?.length == 0) {\n\t\t\t\t\tdelete oCriticality[sKey];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn oCriticality;\n\t},\n\n\tformatMeasures(annotationContext: Context): MeasureType[] {\n\t\treturn (annotationContext.getModel() as JSONModel).getData();\n\t},\n\n\tgetUiChart(presentationContext: Context): Context {\n\t\treturn getUiControl(presentationContext, `@${UIAnnotationTerms.Chart}`);\n\t},\n\tgetOperationAvailableMap(chart: Chart, contextContext: ComputedAnnotationInterface): string {\n\t\tconst chartCollection = chart?.Actions || [];\n\t\treturn JSON.stringify(ActionHelper.getOperationAvailableMap(chartCollection, \"chart\", contextContext));\n\t},\n\n\t/**\n\t * Returns a JSON object containing Presentation Variant sort conditions.\n\t * @param oContext\n\t * @param oContext.getPath\n\t * @param oContext.getModel\n\t * @param oPresentationVariant Presentation Variant annotation\n\t * @param sPresentationVariantPath\n\t * @param oApplySupported\n\t * @returns JSON object\n\t */\n\tgetSortConditions: function (\n\t\toContext: Context,\n\t\toPresentationVariant: MetaModelType<PresentationVariantType>,\n\t\tsPresentationVariantPath: string,\n\t\toApplySupported: ChartApplySupported\n\t):\n\t\t| {\n\t\t\t\tsorters: { name: string; descending: boolean }[];\n\t\t  }\n\t\t| undefined {\n\t\tif (\n\t\t\toPresentationVariant &&\n\t\t\tCommonHelper._isPresentationVariantAnnotation(sPresentationVariantPath) &&\n\t\t\toPresentationVariant.SortOrder\n\t\t) {\n\t\t\tconst aSortConditions: {\n\t\t\t\tsorters: { name: string; key: string; descending: boolean }[];\n\t\t\t} = {\n\t\t\t\tsorters: []\n\t\t\t};\n\t\t\tconst sEntityPath = oContext.getPath().split(\"@\")[0];\n\t\t\toPresentationVariant.SortOrder.forEach(function (oCondition: MetaModelType<SortOrderType> = {}): void {\n\t\t\t\tlet oSortProperty = \"\";\n\t\t\t\tif (oCondition.DynamicProperty) {\n\t\t\t\t\toSortProperty =\n\t\t\t\t\t\t\"_fe_aggregatable_\" + oContext.getModel().getObject(sEntityPath + oCondition.DynamicProperty.$AnnotationPath)?.Name;\n\t\t\t\t} else if (oCondition.Property) {\n\t\t\t\t\tconst aGroupableProperties = oApplySupported.GroupableProperties;\n\t\t\t\t\tif (aGroupableProperties && aGroupableProperties.length) {\n\t\t\t\t\t\tfor (let i = 0; i < aGroupableProperties.length; i++) {\n\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t(aGroupableProperties[i] as { $PropertyPath: string }).$PropertyPath === oCondition.Property.$PropertyPath\n\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\toSortProperty = \"_fe_groupable_\" + oCondition.Property.$PropertyPath;\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (!oSortProperty) {\n\t\t\t\t\t\t\t\toSortProperty = \"_fe_aggregatable_\" + oCondition.Property.$PropertyPath;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if (\n\t\t\t\t\t\toContext\n\t\t\t\t\t\t\t.getModel()\n\t\t\t\t\t\t\t.getObject(`${sEntityPath + oCondition.Property.$PropertyPath}@${AggregationAnnotationTerms.Groupable}`)\n\t\t\t\t\t) {\n\t\t\t\t\t\toSortProperty = \"_fe_groupable_\" + oCondition.Property.$PropertyPath;\n\t\t\t\t\t} else {\n\t\t\t\t\t\toSortProperty = \"_fe_aggregatable_\" + oCondition.Property.$PropertyPath;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (oSortProperty) {\n\t\t\t\t\tconst oSorter = {\n\t\t\t\t\t\tname: oSortProperty,\n\t\t\t\t\t\tkey: oSortProperty,\n\t\t\t\t\t\tdescending: !!oCondition.Descending\n\t\t\t\t\t};\n\t\t\t\t\taSortConditions.sorters.push(oSorter);\n\t\t\t\t} else {\n\t\t\t\t\tthrow new Error(\"Please define the right path to the sort property\");\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn aSortConditions;\n\t\t}\n\t\treturn undefined;\n\t},\n\t_getModel(oCollection: unknown, oInterface: ComputedAnnotationInterface): Context {\n\t\treturn oInterface.context;\n\t},\n\t// TODO: combine this one with the one from the table\n\tisDataFieldForActionButtonEnabled(\n\t\tbIsBound: boolean,\n\t\tsAction: string,\n\t\toCollection: Context,\n\t\tsOperationAvailableMap: string,\n\t\tsEnableSelectOn: string\n\t): string {\n\t\tif (bIsBound !== true) {\n\t\t\treturn \"true\";\n\t\t}\n\t\tconst oModel = oCollection.getModel();\n\t\tconst sNavPath = oCollection.getPath();\n\t\tconst sPartner = oModel.getObject(sNavPath).$Partner;\n\t\tconst oOperationAvailableMap = sOperationAvailableMap && JSON.parse(sOperationAvailableMap);\n\t\tconst aPath = oOperationAvailableMap && oOperationAvailableMap[sAction] && oOperationAvailableMap[sAction].split(\"/\");\n\t\tconst sNumberOfSelectedContexts = ActionHelper.getNumberOfContextsExpression(sEnableSelectOn);\n\t\tif (aPath && aPath[0] === sPartner) {\n\t\t\tconst sPath = oOperationAvailableMap[sAction].replace(sPartner + \"/\", \"\");\n\t\t\treturn \"{= ${\" + sNumberOfSelectedContexts + \" && ${\" + sPath + \"}}\";\n\t\t} else {\n\t\t\treturn \"{= ${\" + sNumberOfSelectedContexts + \"}\";\n\t\t}\n\t},\n\tgetHiddenPathExpressionForTableActionsAndIBN(sHiddenPath: string, oDetails: ComputedAnnotationInterface): string | true {\n\t\tconst oContext = oDetails.context,\n\t\t\tsPropertyPath = oContext.getPath(),\n\t\t\tsEntitySetPath = ODataModelAnnotationHelper.getNavigationPath(sPropertyPath);\n\t\tif (sHiddenPath.indexOf(\"/\") > 0) {\n\t\t\tconst aSplitHiddenPath = sHiddenPath.split(\"/\");\n\t\t\tconst sNavigationPath = aSplitHiddenPath[0];\n\t\t\t// supports visiblity based on the property from the partner association\n\t\t\tif (oContext.getObject(sEntitySetPath + \"/$Partner\") === sNavigationPath) {\n\t\t\t\treturn \"{= !%{\" + aSplitHiddenPath.slice(1).join(\"/\") + \"} }\";\n\t\t\t}\n\t\t\t// any other association will be ignored and the button will be made visible\n\t\t}\n\t\treturn true;\n\t},\n\t/**\n\t * Method to get press event for DataFieldForActionButton.\n\t * @param id Current control ID\n\t * @param action DataFieldForAction model\n\t * @param operationAvailableMap Stringified JSON object\n\t * @returns A binding expression for the press property of the DataFieldForActionButton\n\t */\n\tgetPressEventForDataFieldForActionButton(\n\t\tid: string,\n\t\taction: MetaModelType<DataFieldForAction> & { InvocationGrouping: MetaModelEnum<OperationGroupingType> },\n\t\toperationAvailableMap: string\n\t): string {\n\t\treturn ActionHelper.getPressEventDataFieldForActionButton(\n\t\t\tid,\n\t\t\taction,\n\t\t\t{\n\t\t\t\tcontexts: \"${internal>selectedContexts}\"\n\t\t\t},\n\t\t\toperationAvailableMap\n\t\t);\n\t},\n\t/**\n\t * @param action DataFieldForAction model\n\t * @returns A Boolean value depending on the action type\n\t */\n\tgetActionType(action: DataFieldForAction): boolean {\n\t\treturn (\n\t\t\t(action[\"$Type\"].includes(UIAnnotationTypes.DataFieldForIntentBasedNavigation) ||\n\t\t\t\taction[\"$Type\"].includes(UIAnnotationTypes.DataFieldForAction)) &&\n\t\t\taction[\"Inline\"]\n\t\t).valueOf();\n\t},\n\tgetCollectionName(collection: string): string {\n\t\tconst collectionSplit = collection.split(\"/\");\n\t\treturn collectionSplit[collectionSplit.length - 1];\n\t}\n};\n(ChartHelper.getSortConditions as { requiresIContext?: boolean }).requiresIContext = true;\n\nexport default ChartHelper;\n"],"mappings":"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","ignoreList":[],"file":"ChartHelper-dbg.js"}