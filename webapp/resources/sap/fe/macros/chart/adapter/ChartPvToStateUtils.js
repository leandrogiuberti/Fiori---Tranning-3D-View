/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.define([],function(){"use strict";const e={convertPvToStateUtilPv:(t,r,s)=>{const n=t.getChartVisualization();const i=t.getProperties();const o=r.getChartVisualization();const a=r.getProperties();let l=[];let u=[];l=e._overrideExistingSorters(i?.SortOrder??[],a?.SortOrder??[],s??[]);u=e._overrideExistingItems(n,o);return{items:u,sorters:l,supplementaryConfig:{properties:{chartType:e._getCharsAfterSlashInLowerCase(n?.Content?.ChartType)}}}},_getCharsAfterSlashInLowerCase:e=>{if(e==undefined){return undefined}return e.split("/")[1].toLowerCase()},_getPropertyNameWithPrefix:(e,t)=>{let r;for(const s of t){r=s.name;if(r?.includes(e)){break}}return r??e},_overrideExistingSorters:(t,r,s)=>{const n=[];const i=t.map(t=>{n.push(t.Property);return{descending:t.Descending,key:e._getPropertyNameWithPrefix(t.Property,s),name:e._getPropertyNameWithPrefix(t.Property,s)}});const o=r.filter(e=>!n.includes(e.Property)).map(t=>({descending:t.Descending,key:e._getPropertyNameWithPrefix(t.Property,s),name:e._getPropertyNameWithPrefix(t.Property,s),sorted:false}));return[...i,...o]},_overrideExistingItems:(t,r)=>{const s=e._overrideExistingItemsMeasures(t,r);const n=e._overrideExistingItemsDimensions(t,r);return[...s,...n]},_overrideExistingItemsMeasures:(t,r)=>{const s=[];const n=t?.Content?.MeasureAttributes.map(t=>{s.push(t.Measure);return{name:"_fe_aggregatable_"+t.Measure,role:e._getCharsAfterSlashInLowerCase(t.Role)}})??[];const i=r?.Content?.MeasureAttributes.filter(e=>!s.includes(e.Measure)).map(t=>({name:"_fe_aggregatable_"+t.Measure,role:e._getCharsAfterSlashInLowerCase(t.Role),visible:false}))??[];return[...n,...i]},_overrideExistingItemsDimensions:(t,r)=>{const s=[];const n=t?.Content?.DimensionAttributes.map(t=>{s.push(t.Dimension);return{name:"_fe_groupable_"+t.Dimension,role:e._getCharsAfterSlashInLowerCase(t.Role)}})??[];const i=r?.Content?.DimensionAttributes.filter(e=>!s.includes(e.Dimension)).map(t=>({name:"_fe_groupable_"+t.Dimension,role:e._getCharsAfterSlashInLowerCase(t.Role),visible:false}))??[];return[...n,...i]}};return{convertPvToStateUtilPv:e.convertPvToStateUtilPv}},false);
//# sourceMappingURL=ChartPvToStateUtils.js.map