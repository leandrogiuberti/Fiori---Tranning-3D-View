{"version":3,"names":["getPropertyPath","_exports","getDesigntimeSettings","showClearButton","id","name","description","type","value","keyUser","useSemanticDateRange","navigationProperties","getAdapationProperties","designtimeSettings","filterBar","filterBarApi","filterBarInfoForConversion","StateHelper","_getControlInfoForConversion","propertyValues","forEach","setting","getContent","getProperty","selectionFieldsConfigs","getSettings","items","manifestSetting","settingsData","label","tooltip","control","controlData","enum","enums","push"],"sourceRoot":".","sources":["FilterBar.designtime.helper.ts"],"sourcesContent":["import type { DesigntimeSetting, DesigntimeSettingEnums, PropertyValue, SettingsData } from \"sap/fe/macros/designtime/Designtime.helper\";\nimport type FilterBarAPI from \"sap/fe/macros/filterBar/FilterBarAPI\";\nimport StateHelper from \"sap/fe/macros/mdc/adapter/StateHelper\";\nimport type FilterBar from \"sap/ui/mdc/FilterBar\";\n/*!\n * Find the current values of the filterBar configuration that is provided in the filterBar adapt dialog\n */\n\ntype ControlData = {\n\ttype: string | undefined;\n\tenum: DesigntimeSettingEnums[] | undefined;\n\tvalue: unknown;\n\tid: string;\n};\n\nexport function getPropertyPath(): string {\n\treturn \"controlConfiguration/@com.sap.vocabularies.UI.v1.SelectionFields\";\n}\n\n/**\n * Return the available design time settings for the filterBar building block.\n * @returns The available design time settings for this building block\n */\nexport function getDesigntimeSettings(): DesigntimeSetting[] {\n\t// For first implementaton of table design time adaption\n\tconst showClearButton: DesigntimeSetting = {\n\t\tid: \"showClearButton\",\n\t\tname: \"RTA_CONFIGURATION_FILTERBAR_SHOWCLEARBUTTON_NAME\",\n\t\tdescription: \"RTA_CONFIGURATION_FILTERBAR_SHOWCLEARBUTTON_DESC\",\n\t\ttype: \"boolean\",\n\t\tvalue: false,\n\t\tkeyUser: true\n\t};\n\tconst useSemanticDateRange: DesigntimeSetting = {\n\t\tid: \"useSemanticDateRange\",\n\t\tname: \"RTA_CONFIGURATION_FILTERBAR_USESEMANTICDATERANGE_NAME\",\n\t\tdescription: \"RTA_CONFIGURATION_FILTERBAR_USESEMANTICDATERANGE_DESC\",\n\t\ttype: \"boolean\",\n\t\tvalue: true,\n\t\tkeyUser: true\n\t};\n\tconst navigationProperties: DesigntimeSetting = {\n\t\tid: \"navigationProperties\",\n\t\tname: \"RTA_CONFIGURATION_FILTERBAR_NAVIGATIONPROPS_NAME\",\n\t\tdescription: \"RTA_CONFIGURATION_FILTERBAR_NAVIGATIONPROPS_DESC\",\n\t\ttype: \"string[]\",\n\t\tvalue: []\n\t};\n\treturn [showClearButton, useSemanticDateRange, navigationProperties];\n}\n/**\n * Returns the values of the settings that are defined for filter bar adaption.\n * @param designtimeSettings Array of the settings for filter bar\n * @param filterBar Reference to the filter bar\n * @param filterBarApi Reference to the filter bar\n * @returns An object containg the settings with values\n */\nexport function getAdapationProperties(\n\tdesigntimeSettings: DesigntimeSetting[],\n\tfilterBar: FilterBar,\n\tfilterBarApi: FilterBarAPI\n): PropertyValue {\n\tconst filterBarInfoForConversion = StateHelper._getControlInfoForConversion(filterBar);\n\n\tconst propertyValues: PropertyValue = {\n\t\tshowClearButton: false,\n\t\tuseSemanticDateRange: false,\n\t\tnavigationProperties: []\n\t};\n\n\tdesigntimeSettings.forEach(function (setting) {\n\t\tswitch (setting.id) {\n\t\t\tcase \"showClearButton\":\n\t\t\t\tpropertyValues.showClearButton = filterBarApi.getContent()?.getProperty(\"showClearButton\") || false;\n\t\t\t\tbreak;\n\t\t\tcase \"useSemanticDateRange\":\n\t\t\t\tpropertyValues.useSemanticDateRange =\n\t\t\t\t\tfilterBarInfoForConversion.useSemanticDateRange ||\n\t\t\t\t\tfilterBarInfoForConversion.selectionFieldsConfigs?.useSemanticDateRange;\n\t\t\t\tbreak;\n\t\t\tcase \"navigationProperties\":\n\t\t\t\tpropertyValues.navigationProperties = filterBarInfoForConversion.selectionFieldsConfigs?.navigationProperties || []; // prevent navigationProperties from being undefined\n\t\t\t\tbreak;\n\t\t}\n\t});\n\n\treturn propertyValues;\n}\n/**\n * Returns the values of the settings that are defined for table adaption.\n * @param filterBar Refernce to selected filter bar\n * @param propertyValues List of settings and current values provided for filter bar\n * @returns Content in list form to be used in adapation dialog\n */\nexport function getSettings(filterBar: FilterBarAPI, propertyValues: PropertyValue): SettingsData[] {\n\tconst items: SettingsData[] = [];\n\n\tgetDesigntimeSettings().forEach(function (manifestSetting) {\n\t\t//Fill model for adaptation settings data\n\t\tconst settingsData: SettingsData = {\n\t\t\tlabel: manifestSetting.name,\n\t\t\ttooltip: manifestSetting.description,\n\t\t\tcontrol: [],\n\t\t\tkeyUser: manifestSetting.keyUser\n\t\t};\n\n\t\tconst controlData: ControlData = {\n\t\t\ttype: manifestSetting.type,\n\t\t\tenum: manifestSetting.enums,\n\t\t\tvalue: propertyValues[manifestSetting.id],\n\t\t\tid: manifestSetting.id\n\t\t};\n\n\t\tsettingsData.control.push(controlData);\n\t\titems.push(settingsData);\n\t});\n\treturn items;\n}\n"],"mappings":"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","ignoreList":[],"file":"FilterBar.designtime.helper-dbg.js"}