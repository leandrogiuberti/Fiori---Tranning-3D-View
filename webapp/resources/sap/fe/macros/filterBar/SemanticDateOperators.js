/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.define(["sap/fe/core/templating/DisplayModeFormatter","sap/fe/macros/filterBar/DefaultSemanticDateOperators","sap/fe/macros/filterBar/ExtendedSemanticDateOperators","sap/ui/model/Filter","sap/ui/model/FilterOperator"],function(e,t,n,r,a){"use strict";var o=e.ODATA_TYPE_MAPPING;const s=["TODAY","TOMORROW","YESTERDAY"];const i=["DATE","FROM","TO","DATERANGE"];function c(e,t){if(!t){return true}t=Array.isArray(t)?t:[t];const r=e["key"];const a=n.isExtendedOperator(r);let o;const s=t.some(function(t){let n;if(!t.path){return false}const r=e[t.path];const s=t.exclude??a??false;let i;if(t.contains&&r){i=t.contains.split(",");for(n=0;n<i.length;n++){if(s&&r.includes(i[n])){o=false;return true}else if(!s&&r.includes(i[n])){o=true;return true}}}if(t.equals&&r){i=t.equals.split(",");for(n=0;n<i.length;n++){if(s&&r===i[n]){o=false;return true}else if(!s&&r===i[n]){o=true;return true}}}return false});return s?o:!a}function l(e){return{...t.getOperatorsInfo(e),...n.getOperatorsInfo()}}const f={getBasicSemanticDateOperations:function(){return[...i]},getSemanticDateOperations:function(e){return[...t.getSemanticDateOperations(e),...n.getSemanticDateOperations()]},removeSemanticDateOperators:function(){},getFilterOperations:function(e,t){const n=[];const r=l(t);for(const t in r){const a=r[t];if(c(a,e)){n.push(a)}}return n.map(function(e){return e.key})},hasSemanticDateOperations:function(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;const n=this.getSemanticDateOperations();for(const r in e){const a=e[r];const o=a.find(function(e){return n.includes(e.operator)});if(o){if(t){return true}else{return!i.includes(o.operator)}}}return false},getSemanticOpsFilterProperties:function(e){const t=[];for(const[n,r]of Object.entries(e)){const e=r[0].SemanticDates;if(e&&!i.includes(e.operator)){t.push({filterName:n,filterSemanticInfo:e,filterType:""})}}return t},getSemanticDateFiltersWithFlpPlaceholders(e,t){const i=[];const c={};e.forEach(e=>{let{filterName:l,filterSemanticInfo:f,filterType:u}=e;const p=t.find(e=>e.key===l);if(p&&p.typeConfig?.className){u=o[p.typeConfig?.className]}const d=f.operator;const m=f.high;const O=f.low;if(d){let e;const t=n.isExtendedOperator(d);const o=t?n.getCorrespondingSingleDateOperator(d):d;if((t||s.includes(d))&&u!=="Edm.DateTimeOffset"){const a=`${l}placeholder`;const s=t?n.getFilterOperator(d):"EQ";e=new r({path:l,operator:s,value1:a});c[a]=`{${u}%%DynamicDate.${o}%%}`}else{const s=[o,m,O].filter(e=>e!==undefined&&e!==null).join(".");const i=`${l}placeholderStart`;const f=`${l}placeholderEnd`;const p=`${u}%%DynamicDate.${s}`;const D=new r({path:l,operator:"GE",value1:i});const g=new r({path:l,operator:"LE",value1:f});if(t){const t=n.getFilterOperator(d);e=t===a.GE?D:g}else{e=new r({filters:[D,g],and:true})}c[i]=`{${p}.start%%}`;c[f]=`{${p}.end%%}`}i.push(e)}});return[c,i]},addSemanticDateOperators(){t.addSemanticDateOperators();n.addExtendedFilterOperators()}};return f},false);
//# sourceMappingURL=SemanticDateOperators.js.map