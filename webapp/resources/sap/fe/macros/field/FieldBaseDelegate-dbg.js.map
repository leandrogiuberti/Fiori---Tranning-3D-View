{"version":3,"names":["Object","assign","FieldBaseDelegate","apiVersion","initializeTypeFromBinding","field","type","value","result","isA","Array","isArray","length","undefined","formatValue","bTypeInitialized","mCustomUnits","initializeInternalUnitType","typeInitialization","enhanceValueForUnit","values","push","getDefaultValueHelpDelegate","_field","name","payload","getTypeMap","TypeMap","_getValueListParameter","valueListInfo","propertyName","Parameters","filter","entry","LocalDataProperty","$PropertyPath","_getFilter","valueList","valueHelpProperty","keyValue","valuehelpPayload","valuehelpConditionPayload","bindingContext","filterBarConditions","filters","parameters","parameter","$Type","ValueListProperty","filterValue","isActionParameterDialog","apdFieldPath","apdField","Element","getElementById","getValue","sourcePath","conditionPayload","getObject","condition","operator","Filter","path","value1","concat","_getRemainingKeyValueFilters","$model","valueListModel","CollectionPath","collectionPath","metaContext","getMetaModel","getMetaContext","entityType","getInvolvedDataModelObjects","targetEntityType","allLocalDataProperties","reduce","arr","allRemainingKeys","keys","_ref","keyName","includes","hasOwnProperty","key","keyContext","CommonHelper","isPropertyFilterable","getItemForValue","valueHelp","config","checkDescription","container","getTypeahead","getPayload","selectedContent","getSelectedContent","contentId","getId","ValueHelpDelegate","retrieveContent","maxLength","valueLength","toString","descriptionPath","valueHelpDescriptionPath","_getFilterBar","filterBarAPI","getParent","getContent","getDescription","_conditionIn","_conditionOut","_ConditionModel","_conditionModelName","control","_type","emptyAllowed","getDisplay","retrieveTextFromValueList","isFilterField","dataModel","getModel","owner","Component","getOwnerComponentFor","metaModel","CommonUtils","getAppComponent","valueHelpQualifier","propertyPath","propertyDescriptionPath","textProperty","requestValueListInfo","filterBar","filterConditions","filterState","StateUtil","retrieveExternalState","valueHelpParameters","Error","textAnnotation","$Path","listBinding","bindList","$select","contexts","requestContexts","lastIndex","lastIndexOf","sideEffectPath","substring","sideEffectsService","getSideEffectsService","requestSideEffects","Log","warning","externalIdPath","externalIdFullPath","replace","externalIdName","externalIdDescriptionPath","error","status","message","String","msg"],"sourceRoot":".","sources":["FieldBaseDelegate.ts"],"sourcesContent":["import { CommonAnnotationTypes } from \"@sap-ux/vocabularies-types/vocabularies/Common\";\nimport Log from \"sap/base/Log\";\nimport CommonUtils from \"sap/fe/core/CommonUtils\";\nimport { getInvolvedDataModelObjects } from \"sap/fe/core/converters/MetaModelConverter\";\nimport type { AnnotationValueListType, ValueHelpPayload } from \"sap/fe/macros/internal/valuehelp/ValueListHelper\";\nimport Component from \"sap/ui/core/Component\";\nimport type Control from \"sap/ui/core/Control\";\nimport Element from \"sap/ui/core/Element\";\nimport type Field from \"sap/ui/mdc/Field\";\nimport type ValueHelp from \"sap/ui/mdc/ValueHelp\";\nimport type { ItemForValueConfiguration } from \"sap/ui/mdc/ValueHelp\";\nimport { type ConditionObject } from \"sap/ui/mdc/condition/Condition\";\nimport type ConditionModel from \"sap/ui/mdc/condition/ConditionModel\";\nimport type FieldBase from \"sap/ui/mdc/field/FieldBase\";\nimport FieldBaseDelegate from \"sap/ui/mdc/field/FieldBaseDelegate\";\nimport TypeMap from \"sap/ui/mdc/odata/v4/TypeMap\";\nimport StateUtil from \"sap/ui/mdc/p13n/StateUtil\";\nimport Filter from \"sap/ui/model/Filter\";\nimport type SimpleType from \"sap/ui/model/SimpleType\";\nimport type Context from \"sap/ui/model/odata/v4/Context\";\nimport type ODataModel from \"sap/ui/model/odata/v4/ODataModel\";\nimport CommonHelper from \"../CommonHelper\";\nimport type FilterBar from \"../controls/FilterBar\";\nimport type FilterBarAPI from \"../filterBar/FilterBarAPI\";\nimport type { ConditionPayloadMap, ConditionPayloadType, ExternalStateType } from \"../valuehelp/ValueHelpDelegate\";\nimport ValueHelpDelegate from \"../valuehelp/ValueHelpDelegate\";\n\nexport type FieldPayload = {\n\tretrieveTextFromValueList?: boolean;\n\tisFilterField?: boolean;\n};\n\nexport type Value = string | Date | number | boolean | undefined | null;\n\nexport type TypeInitialization = {\n\tbTypeInitialized?: boolean;\n\tmCustomUnits?: string;\n};\n\nexport type Config = {\n\tvalue: Value;\n\tparsedValue: Value;\n\tbindingContext: Context;\n\tcheckKey: boolean;\n\tcheckDescription: boolean;\n\tconditionModel?: ConditionModel;\n\tconditionModelName?: string;\n\tcontrol?: object;\n};\n\nexport default Object.assign({}, FieldBaseDelegate, {\n\tapiVersion: 2,\n\n\t/**\n\t * If the <code>Field</code> control is used, the used data type might come from the binding.\n\t * In V4-unit or currency case it might need to be formatted once.\n\t * To initialize the internal type later on, the currencies must be returned.\n\t * @param field The <code>Field</code> instance\n\t * @param type Type from binding\n\t * @param value Given value\n\t * @returns Information needed to initialize internal type (needs to set bTypeInitialized to true if initialized)\n\t */\n\tinitializeTypeFromBinding: function (field: Field, type: SimpleType | undefined, value: Value | Value[]) {\n\t\t// V4 Unit and Currency types have a map with valid units and create an internal customizing for it.\n\t\t// The Field needs to keep this customizing logic when creating the internal type.\n\t\t// (As external RAW binding is used there is no formatting on parsing.)\n\n\t\tconst result: TypeInitialization = {};\n\t\tif (\n\t\t\ttype &&\n\t\t\ttype.isA([\"sap.ui.model.odata.type.Unit\", \"sap.ui.model.odata.type.Currency\"]) &&\n\t\t\tArray.isArray(value) &&\n\t\t\tvalue.length > 2 &&\n\t\t\tvalue[2] !== undefined\n\t\t) {\n\t\t\t// format once to set internal customizing. Allow null as valid values for custom units\n\t\t\ttype.formatValue(value, \"string\");\n\t\t\tresult.bTypeInitialized = true;\n\t\t\tresult.mCustomUnits = value[2] as string; // TODO: find a better way to provide custom units to internal type\n\t\t}\n\n\t\treturn result;\n\t},\n\n\t/**\n\t * This function initializes the unit type.\n\t * If the <code>Field</code> control is used, the used data type might come from the binding.\n\t * If the type is a V4 unit or currency, it might need to be formatted once.\n\t * @param field The <code>Field</code> instance\n\t * @param type Type from binding\n\t * @param typeInitialization Information needed to initialize internal type\n\t */\n\tinitializeInternalUnitType: function (field: Field, type: SimpleType, typeInitialization?: TypeInitialization) {\n\t\tif (typeInitialization?.mCustomUnits !== undefined) {\n\t\t\t// if already initialized initialize new type too.\n\t\t\ttype.formatValue([null, null, typeInitialization.mCustomUnits], \"string\");\n\t\t}\n\t},\n\n\t/**\n\t * This function enhances the value with unit or currency information if needed by the data type.\n\t * @param field The <code>Field</code> instance\n\t * @param  values Values\n\t * @param  typeInitialization Information needed to initialize internal type\n\t * @returns Values\n\t */\n\tenhanceValueForUnit: function (field: Field, values: Value[], typeInitialization?: TypeInitialization) {\n\t\tif (typeInitialization?.bTypeInitialized === true && values.length === 2) {\n\t\t\tvalues.push(typeInitialization.mCustomUnits);\n\t\t\treturn values;\n\t\t}\n\n\t\treturn undefined;\n\t},\n\n\t/**\n\t * This function returns which <code>ValueHelpDelegate</code> is used\n\t * if a default field help (for example, for defining conditions in </code>FilterField</code>)\n\t * is created.\n\t * @param _field The <code>Field</code> instance\n\t * @returns Delegate object with name and payload\n\t */\n\tgetDefaultValueHelpDelegate: function (_field: Field) {\n\t\treturn { name: \"sap/ui/mdc/odata/v4/ValueHelpDelegate\", payload: {} };\n\t},\n\n\tgetTypeMap: function (_field: Field) {\n\t\treturn TypeMap;\n\t},\n\n\t/**\n\t * Determine all parameters in a value help that use a specific property.\n\t * @param valueListInfo Value list info\n\t * @param propertyName Name of the property\n\t * @returns List of all found parameters\n\t */\n\t_getValueListParameter: function (valueListInfo: AnnotationValueListType, propertyName: string) {\n\t\t//determine path to value list property\n\t\treturn valueListInfo.Parameters.filter(function (entry) {\n\t\t\tif (entry.LocalDataProperty) {\n\t\t\t\treturn entry.LocalDataProperty.$PropertyPath === propertyName;\n\t\t\t} else {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t});\n\t},\n\t/**\n\t * Build filters for each relevant parameter.\n\t * @param valueList Value list info\n\t * @param propertyName Name of the property\n\t * @param valueHelpProperty Name of the value help property\n\t * @param keyValue Value of the property\n\t * @param valuehelpPayload Payload of the value help\n\t * @param valuehelpConditionPayload Additional condition information for this key\n\t * @param bindingContext BindingContext of the field\n\t * @returns List of filters\n\t */\n\t_getFilter: function (\n\t\tvalueList: AnnotationValueListType,\n\t\tpropertyName: string,\n\t\tvalueHelpProperty: string,\n\t\tkeyValue: string,\n\t\tvaluehelpPayload: ValueHelpPayload,\n\t\tvaluehelpConditionPayload: ConditionPayloadType[] | undefined,\n\t\tbindingContext?: Context,\n\t\tfilterBarConditions?: Record<string, ConditionObject[]>\n\t) {\n\t\tlet filters: Filter[] = [];\n\t\tconst parameters = valueList.Parameters.filter(function (parameter) {\n\t\t\treturn (\n\t\t\t\tparameter.$Type === CommonAnnotationTypes.ValueListParameterIn ||\n\t\t\t\tparameter.$Type === CommonAnnotationTypes.ValueListParameterInOut ||\n\t\t\t\t(parameter.LocalDataProperty?.$PropertyPath === propertyName && parameter.ValueListProperty === valueHelpProperty)\n\t\t\t);\n\t\t});\n\t\tfor (const parameter of parameters) {\n\t\t\tlet filterValue;\n\t\t\tif (parameter.LocalDataProperty?.$PropertyPath === propertyName) {\n\t\t\t\tfilterValue = keyValue;\n\t\t\t} else if (valuehelpPayload?.isActionParameterDialog === true) {\n\t\t\t\tconst apdFieldPath = `APD_::${parameter.LocalDataProperty?.$PropertyPath}`;\n\t\t\t\tconst apdField = Element.getElementById(apdFieldPath) as Field;\n\t\t\t\tfilterValue = apdField?.getValue();\n\t\t\t} else if (valuehelpConditionPayload !== undefined) {\n\t\t\t\tconst sourcePath = parameter.ValueListProperty;\n\t\t\t\tconst conditionPayload = valuehelpConditionPayload?.[0];\n\t\t\t\tfilterValue = sourcePath && conditionPayload?.[sourcePath];\n\t\t\t} else if (bindingContext) {\n\t\t\t\t// if the value help is not used try getting the filter value from the binding context\n\t\t\t\tconst sourcePath = parameter.LocalDataProperty?.$PropertyPath;\n\t\t\t\tfilterValue = bindingContext.getObject(sourcePath);\n\t\t\t}\n\t\t\tif (!filterValue && filterBarConditions) {\n\t\t\t\tconst condition = filterBarConditions?.[parameter.ValueListProperty];\n\t\t\t\tif (condition?.length === 1 && condition[0]?.operator === \"EQ\") {\n\t\t\t\t\tfilterValue = condition[0]?.values[0];\n\t\t\t\t}\n\t\t\t}\n\t\t\t/* Add value to the filter for the text determination */\n\t\t\tif (filterValue !== null && filterValue !== undefined) {\n\t\t\t\tfilters.push(new Filter({ path: parameter.ValueListProperty, operator: \"EQ\", value1: filterValue }));\n\t\t\t}\n\t\t}\n\t\tif (valuehelpConditionPayload?.[0]) {\n\t\t\t// In case of multiple keys for the valuelist collection, the main ValueListProperty might not be unique to get exact value list selection.\n\t\t\t// So, we add filters for key properties if they are present in the valuehelpConditionPayload.\n\t\t\tfilters = filters.concat(this._getRemainingKeyValueFilters(valuehelpConditionPayload[0], valueList));\n\t\t}\n\t\treturn filters;\n\t},\n\n\t/**\n\t * Get model filters to ensure a precise selection from the condition payload.\n\t * @param conditionPayload Additional condition information for this key\n\t * @param valueList Value list information\n\t * @returns List of filters\n\t */\n\t_getRemainingKeyValueFilters(conditionPayload: ConditionPayloadType, valueList: AnnotationValueListType): Filter[] {\n\t\tconst { $model: valueListModel, CollectionPath: collectionPath, Parameters: parameters } = valueList;\n\t\tconst metaContext = valueListModel.getMetaModel().getMetaContext(`/${collectionPath}`);\n\t\tconst entityType = getInvolvedDataModelObjects(metaContext).targetEntityType;\n\t\tconst allLocalDataProperties = parameters.reduce((arr, parameter) => {\n\t\t\tif (parameter.LocalDataProperty?.$PropertyPath) {\n\t\t\t\tarr.push(parameter.LocalDataProperty.$PropertyPath);\n\t\t\t}\n\t\t\treturn arr;\n\t\t}, [] as string[]);\n\t\tconst allRemainingKeys = entityType.keys.reduce((arr, { name: keyName }) => {\n\t\t\tif (!allLocalDataProperties.includes(keyName) && conditionPayload.hasOwnProperty(keyName)) {\n\t\t\t\tarr.push(keyName);\n\t\t\t}\n\t\t\treturn arr;\n\t\t}, [] as string[]);\n\t\tif (allRemainingKeys.length > 0) {\n\t\t\treturn allRemainingKeys.reduce((filters: Filter[], key: string): Filter[] => {\n\t\t\t\t// This is a metamodel operation. The original isPropertyFilterable needs to be converted later.\n\t\t\t\tconst keyContext = valueListModel.getMetaModel().getMetaContext(`/${collectionPath}/${key}`);\n\t\t\t\tif (CommonHelper.isPropertyFilterable(keyContext, undefined, true)) {\n\t\t\t\t\tfilters.push(new Filter({ path: key, operator: \"EQ\", value1: conditionPayload[key] }));\n\t\t\t\t}\n\t\t\t\treturn filters;\n\t\t\t}, []);\n\t\t}\n\t\treturn [];\n\t},\n\n\t/**\n\t * Determines the key, description, and payload of a user input.\n\t * @param field The <code>Field</code> instance\n\t * @param valueHelp Value help instance\n\t * @param config Configuration Object\n\t * @returns Object containing description, key, and payload. If it is not available right now (must be requested), a <code>Promise</code> is returned\n\t */\n\tgetItemForValue: async function (field: Field, valueHelp: ValueHelp, config: ItemForValueConfiguration) {\n\t\t//BCP: 2270162887 . The MDC field should not try to get the item when the field is emptied\n\t\t// JIRA: FIORITECHP1-25361 - Improve the type-ahead behavior for missinng text annotation or constraints violations of the existing text annotation\n\t\tif (config.value === \"\") {\n\t\t\treturn;\n\t\t}\n\n\t\tif (config.checkDescription) {\n\t\t\tconst container = valueHelp.getTypeahead();\n\t\t\tconst payload = valueHelp.getPayload() as ValueHelpPayload;\n\t\t\tconst selectedContent = container.getSelectedContent();\n\t\t\tconst contentId = selectedContent && selectedContent.getId();\n\t\t\t// In cases where getItemForValue is called before showValueList, the description may not be available.\n\t\t\t// Therefore, this retrieveContent method is used to update the description.\n\t\t\tawait ValueHelpDelegate.retrieveContent(valueHelp, container, contentId);\n\t\t\tconst maxLength = payload.maxLength;\n\t\t\tconst valueLength = config.value?.toString().length || 0;\n\t\t\tconst descriptionPath = payload.valueHelpDescriptionPath;\n\t\t\tif (descriptionPath === \"\") {\n\t\t\t\t// In case the property value help collection has no text annotation (descriptionPath is empty) the description check shouldnÂ´t occur.\n\t\t\t\t// In such a case the method getDescription will be called by MDC and within this method a SideEffect is requested to retrieve the text from the text property of the main entity\n\t\t\t\tconfig.checkDescription = false;\n\t\t\t} else if (maxLength !== undefined && valueLength > maxLength) {\n\t\t\t\t//value length is > text proeperty length constraint\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t\treturn FieldBaseDelegate.getItemForValue(field, valueHelp, config);\n\t},\n\n\t/**\n\t * Retrieves the filter bar instance associated with the current field.\n\t * @param field Field Control\n\t * @returns The filter bar instance\n\t */\n\t_getFilterBar: function (field: Field | null): FilterBar | undefined {\n\t\tlet filterBarAPI;\n\t\tif (field?.isA(\"sap.ui.mdc.FilterField\")) {\n\t\t\twhile (field) {\n\t\t\t\tif (field?.isA<FilterBarAPI>(\"sap.fe.macros.filterBar.FilterBarAPI\")) {\n\t\t\t\t\tfilterBarAPI = field;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tfield = field?.getParent() as unknown as Field;\n\t\t\t}\n\t\t\tif (filterBarAPI?.getContent()?.isA(\"sap.fe.macros.controls.FilterBar\")) {\n\t\t\t\treturn filterBarAPI.getContent() as FilterBar;\n\t\t\t}\n\t\t}\n\t\treturn undefined;\n\t},\n\n\t/**\n\t * Determines the description for a given key.\n\t * @param field The <code>Field</code> instance\n\t * @param valueHelp Field help assigned to the <code>Field</code> or <code>FilterField</code> control\n\t * @param key Key value of the description\n\t * @param _conditionIn In parameters for the key (no longer supported)\n\t * @param _conditionOut Out parameters for the key (no longer supported)\n\t * @param bindingContext BindingContext <code>BindingContext</code> of the checked field. Inside a table, the <code>ValueHelp</code> element can be connected to a different row\n\t * @param _ConditionModel ConditionModel</code>, if bound to one\n\t * @param _conditionModelName Name of the <code>ConditionModel</code>, if bound to one\n\t * @param conditionPayload Additional context information for this key\n\t * @param control Instance of the calling control\n\t * @param _type Type of the value\n\t * @returns Description for the key or object containing a description, key and payload. If the description is not available right away (it must be requested), a <code>Promise</code> is returned\n\t */\n\tgetDescription: async function (\n\t\tfield: Field | null,\n\t\tvalueHelp: ValueHelp,\n\t\tkey: string,\n\t\t_conditionIn: object,\n\t\t_conditionOut: object,\n\t\tbindingContext: Context | undefined,\n\t\t_ConditionModel: ConditionModel,\n\t\t_conditionModelName: string,\n\t\tconditionPayload: ConditionPayloadMap,\n\t\tcontrol: Control,\n\t\t_type: unknown,\n\t\temptyAllowed: boolean\n\t) {\n\t\t//JIRA: FIORITECHP1-22022 . The MDC field should not  tries to determine description with the initial GET of the data.\n\t\t// it should rely on the data we already received from the backend\n\t\t// But The getDescription function is also called in the FilterField case if a variant is loaded.\n\t\t// As the description text could be language dependent it is not stored in the variant, so it needs to be read on rendering.\n\n\t\tlet payload = field?.getPayload() as FieldPayload;\n\n\t\t/* Retrieve text from value help, if value was set by out-parameter (BCP 2270160633) */\n\t\tif (!payload && (control as FieldBase)?.getDisplay().includes(\"Description\")) {\n\t\t\tpayload = {\n\t\t\t\tretrieveTextFromValueList: true\n\t\t\t};\n\t\t}\n\n\t\tif (payload?.retrieveTextFromValueList === true || payload?.isFilterField === true) {\n\t\t\tconst dataModel = valueHelp.getModel() as ODataModel | undefined;\n\t\t\tconst owner = Component.getOwnerComponentFor(valueHelp as unknown as Control);\n\t\t\t// If neither dataModel nor owner is defined, the valueHelp cannot be an FE control.\n\t\t\t// This occurs in cases of a standard MDC controls (e.g., default ValueHelp for boolean values).\n\t\t\tif (!dataModel && !owner) {\n\t\t\t\treturn FieldBaseDelegate.getDescription(\n\t\t\t\t\tfield as FieldBase,\n\t\t\t\t\tvalueHelp,\n\t\t\t\t\tkey,\n\t\t\t\t\t_conditionIn,\n\t\t\t\t\t_conditionOut,\n\t\t\t\t\tbindingContext as Context,\n\t\t\t\t\tundefined,\n\t\t\t\t\tundefined,\n\t\t\t\t\tconditionPayload,\n\t\t\t\t\tcontrol,\n\t\t\t\t\t_type,\n\t\t\t\t\temptyAllowed\n\t\t\t\t);\n\t\t\t}\n\t\t\tconst metaModel = dataModel\n\t\t\t\t? dataModel.getMetaModel()\n\t\t\t\t: CommonUtils.getAppComponent(valueHelp as unknown as Control)\n\t\t\t\t\t\t.getModel()\n\t\t\t\t\t\t.getMetaModel();\n\t\t\tconst valuehelpPayload = valueHelp.getPayload() as ValueHelpPayload;\n\t\t\tconst valuehelpConditionPayload = conditionPayload?.[valuehelpPayload.valueHelpQualifier];\n\t\t\tconst propertyPath = valuehelpPayload.propertyPath;\n\t\t\tconst propertyDescriptionPath = valuehelpPayload?.propertyDescriptionPath;\n\t\t\tlet textProperty: string;\n\n\t\t\ttry {\n\t\t\t\t/* Request value help metadata */\n\t\t\t\tconst valueListInfo = await metaModel.requestValueListInfo(propertyPath, true, bindingContext);\n\t\t\t\tconst filterBar = this._getFilterBar(field);\n\t\t\t\tlet filterConditions: Record<string, ConditionObject[]> | undefined;\n\t\t\t\tif (filterBar) {\n\t\t\t\t\tconst filterState: ExternalStateType = await StateUtil.retrieveExternalState(filterBar);\n\t\t\t\t\tfilterConditions = filterState.filter;\n\t\t\t\t}\n\t\t\t\tconst propertyName = metaModel.getObject(`${propertyPath}@sapui.name`) as string;\n\t\t\t\t// take the first value list annotation - alternatively take the one without qualifier or the first one\n\t\t\t\tconst valueList = valueListInfo[Object.keys(valueListInfo)[0]];\n\t\t\t\tconst valueHelpParameters = this._getValueListParameter(valueList, propertyName);\n\t\t\t\tconst valueHelpProperty = valueHelpParameters?.[0]?.ValueListProperty;\n\t\t\t\tif (!valueHelpProperty) {\n\t\t\t\t\tthrow Error(`Inconsistent value help annotation for ${propertyName}`);\n\t\t\t\t}\n\t\t\t\t// get text annotation for this value list property\n\t\t\t\tconst valueListModel = valueList.$model;\n\t\t\t\tconst textAnnotation = valueListModel\n\t\t\t\t\t.getMetaModel()\n\t\t\t\t\t.getObject(`/${valueList.CollectionPath}/${valueHelpProperty}@com.sap.vocabularies.Common.v1.Text`);\n\t\t\t\tif (textAnnotation && textAnnotation.$Path) {\n\t\t\t\t\ttextProperty = textAnnotation.$Path;\n\t\t\t\t\t/* Build the filter for the relevant parameters */\n\t\t\t\t\tconst filters = this._getFilter(\n\t\t\t\t\t\tvalueList,\n\t\t\t\t\t\tpropertyName,\n\t\t\t\t\t\tvalueHelpProperty,\n\t\t\t\t\t\tkey,\n\t\t\t\t\t\tvaluehelpPayload,\n\t\t\t\t\t\tvaluehelpConditionPayload,\n\t\t\t\t\t\tbindingContext,\n\t\t\t\t\t\tfilterConditions\n\t\t\t\t\t);\n\t\t\t\t\tconst listBinding = valueListModel.bindList(`/${valueList.CollectionPath}`, undefined, undefined, filters, {\n\t\t\t\t\t\t$select: textProperty\n\t\t\t\t\t});\n\t\t\t\t\t/* Request description for given key from value list entity */\n\t\t\t\t\tconst contexts = await listBinding.requestContexts(0, 2);\n\t\t\t\t\treturn contexts.length ? contexts[0].getObject(textProperty) : undefined;\n\t\t\t\t} else if (bindingContext !== undefined && propertyDescriptionPath) {\n\t\t\t\t\tconst lastIndex = propertyDescriptionPath.lastIndexOf(\"/\");\n\t\t\t\t\tconst sideEffectPath = lastIndex > 0 ? propertyDescriptionPath.substring(0, lastIndex) : propertyDescriptionPath;\n\t\t\t\t\tconst sideEffectsService = CommonUtils.getAppComponent(valueHelp as unknown as Control).getSideEffectsService();\n\t\t\t\t\tawait sideEffectsService.requestSideEffects([sideEffectPath], bindingContext);\n\t\t\t\t\tLog.warning(\n\t\t\t\t\t\t`RequestSideEffects is triggered because the text annotation for ${valueHelpProperty} is not defined at the CollectionPath of the value help`\n\t\t\t\t\t);\n\t\t\t\t\treturn undefined;\n\t\t\t\t} else {\n\t\t\t\t\t/* EXTERNAlID */\n\t\t\t\t\tconst externalIdPath = metaModel?.getObject(\n\t\t\t\t\t\t`${valuehelpPayload.propertyPath}@com.sap.vocabularies.Common.v1.ExternalID`\n\t\t\t\t\t)?.$Path;\n\t\t\t\t\tif (externalIdPath) {\n\t\t\t\t\t\tconst externalIdFullPath = valuehelpPayload.propertyPath.replace(propertyName, externalIdPath);\n\t\t\t\t\t\tconst externalIdName = metaModel.getObject(`${externalIdFullPath}@sapui.name`);\n\t\t\t\t\t\tconst externalIdDescriptionPath = metaModel?.getObject(`${externalIdFullPath}@com.sap.vocabularies.Common.v1.Text`)\n\t\t\t\t\t\t\t?.$Path;\n\t\t\t\t\t\tconst filters = [];\n\t\t\t\t\t\tfilters.push(new Filter({ path: externalIdName, operator: \"EQ\", value1: key }));\n\t\t\t\t\t\tconst listBinding = valueListModel.bindList(`/${valueList.CollectionPath}`, undefined, undefined, filters, {\n\t\t\t\t\t\t\t$select: `${externalIdName},${externalIdDescriptionPath}`\n\t\t\t\t\t\t});\n\t\t\t\t\t\tconst contexts = await listBinding.requestContexts(0, 2);\n\t\t\t\t\t\tif (contexts.length) {\n\t\t\t\t\t\t\treturn contexts[0].getObject(externalIdDescriptionPath);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tLog.error(`Text Annotation for ${valueHelpProperty} is not defined`);\n\t\t\t\t\treturn undefined;\n\t\t\t\t}\n\t\t\t} catch (error) {\n\t\t\t\tconst status = error ? (error as XMLHttpRequest).status : undefined;\n\t\t\t\tconst message = error instanceof Error ? error.message : String(error);\n\t\t\t\tconst msg = status === 404 ? `Metadata not found (${status}) for value help of property ${propertyPath}` : message;\n\t\t\t\tLog.error(msg);\n\t\t\t}\n\t\t}\n\t\treturn undefined;\n\t}\n});\n"],"mappings":"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","ignoreList":[],"file":"FieldBaseDelegate-dbg.js"}