{"version":3,"names":["FieldRuntimeHelper","uploadPromises","creatingInactiveRow","fetchRecommendations","field","controller","view","CommonUtils","getTargetView","fieldBindingContext","getBindingContext","recommendationsContext","fieldBinding","getBinding","isA","feController","getExtensionController","valueHelpId","getValueHelp","metaPath","ModelHelper","getMetaPathForContext","propertyPath","data","replace","fieldPath","getPath","selectedValue","getValue","recommendations","updateTelemetryDataBasedOnUserSelection","includes","tableId","substring","indexOf","table","byId","contextIdentifier","getParent","getIdentifierColumn","fetchAndApplyRecommendationsOnFieldChange","context","oController","_controller","getFieldStateOnChange","oEvent","oSourceField","getSource","mFieldState","_isBindingStateMessages","oBinding","getDataState","getInvalidValue","undefined","getContent","FieldWrapper","getMetadata","getName","getEditMode","getContentEdit","bIsValid","getParameter","getMaxConditions","oValueBindingInfo","getBindingInfo","binding","getProperty","fieldValue","validity","state","pressLink","oSource","sapmLink","findElements","elem","getDependents","length","oFieldInfo","openLink","mdcLink","hRef","getTriggerHref","_useDelegateItems","linkItems","retrieveLinkItems","getPayload","hasQuickViewFacets","popover","createPopoverWithNoTargets","addDependent","openBy","open","error","Log","appComponent","getAppComponent","shellService","getShellServices","shellHash","parseShellHash","navArgs","target","semanticObject","action","params","KeepAliveHelper","storeControlRefreshStrategyForHash","isStickyEditMode","navigate","newHref","hrefForExternal","openWindow","mdcLinkId","getId","illustratedMessageSettings","title","getResourceModel","getText","description","enableFormattedText","illustrationSize","IllustratedMessageSize","ExtraSmall","illustrationType","IllustratedMessageType","NoData","illustratedMessage","IllustratedMessage","popoverSettings","horizontalScrolling","showHeader","Device","system","phone","placement","mobilelibrary","PlacementType","Auto","content","afterClose","event","destroy","ResponsivePopover","handleTypeMissmatch","fileUploader","givenType","acceptedTypes","getMimeType","showTypeMismatchDialog","handleFileSizeExceed","showFileSizeExceedDialog","getMaximumFileSize","toFixed","handleUploadComplete","propertyFileName","status","Number","fileWrapper","setUIBusy","displayMessageForFailedUpload","reject","newETag","etag","setProperty","path","avatar","refreshAvatarCacheBusting","_callSideEffectsForStream","resolve","fireEvent","isCollaborationEnabled","collaborativeDraft","isConnected","notificationData","push","oView","hasPendingChanges","attachEventOnce","send","Activity","Change","Unlock","removeStream","deleteButton","bCollaborationEnabled","Lock","oControl","oFEController","isTransient","_sideEffects","handleFieldChange","uploadStream","FEController","uploadUrl","getUploadUrl","setUploadUrl","files","fileType","type","setHeaderFields","uploadPromise","Promise","upload","editFlow","syncTask","MessageBox","handleOpenUploader","_sendCollaborationMessageForFileUploader","getController","bindingPath","fullPath","handleCloseUploader","openExternalLink","source","getIconForMimeType","mimeType","IconPool","onDataFieldWithNavigationPath","navPath","_routing","bindingContext","metaModel","getModel","getMetaModel","viewData","getViewData","draftRootPath","getDraftRootPath","urlNavigation","getHashForNavigation","navigateFn","getRouterProxy","navToHash","isStickySessionSupported","startsWith","sameOPNavigation","converterType","draft","processDataLossOrDraftDiscardConfirmation","Function","prototype","NavigationType","ForwardNavigation","showCollaborationEditUser","resourceModel","ResourceModelHelper","Element","getElementById","addStyleClass","getBindings","find","activities","getObject","editingActivity","activity","key","getActivityKeyFromPath","destroyContent","addContent","Label","text","name"],"sourceRoot":".","sources":["FieldRuntimeHelper.ts"],"sourcesContent":["import Log from \"sap/base/Log\";\nimport type { EnhanceWithUI5 } from \"sap/fe/base/ClassSupport\";\nimport CommonUtils from \"sap/fe/core/CommonUtils\";\nimport type ExtensionAPI from \"sap/fe/core/ExtensionAPI\";\nimport type PageController from \"sap/fe/core/PageController\";\nimport type { UserActivity } from \"sap/fe/core/controllerextensions/collaboration/CollaborationCommon\";\nimport { Activity, getActivityKeyFromPath } from \"sap/fe/core/controllerextensions/collaboration/CollaborationCommon\";\nimport draft from \"sap/fe/core/controllerextensions/editFlow/draft\";\nimport KeepAliveHelper from \"sap/fe/core/helpers/KeepAliveHelper\";\nimport ModelHelper from \"sap/fe/core/helpers/ModelHelper\";\nimport ResourceModelHelper, { getResourceModel } from \"sap/fe/core/helpers/ResourceModelHelper\";\nimport type TextLink from \"sap/fe/macros/controls/TextLink\";\nimport type { LinkDelegatePayload } from \"sap/fe/macros/quickView/QuickViewDelegate\";\nimport type Avatar from \"sap/m/Avatar\";\nimport type { Button$PressEvent } from \"sap/m/Button\";\nimport type { $IllustratedMessageSettings } from \"sap/m/IllustratedMessage\";\nimport IllustratedMessage from \"sap/m/IllustratedMessage\";\nimport IllustratedMessageSize from \"sap/m/IllustratedMessageSize\";\nimport IllustratedMessageType from \"sap/m/IllustratedMessageType\";\nimport Label from \"sap/m/Label\";\nimport type Link from \"sap/m/Link\";\nimport MessageBox from \"sap/m/MessageBox\";\nimport type ObjectIdentifier from \"sap/m/ObjectIdentifier\";\nimport type { $ResponsivePopoverSettings } from \"sap/m/ResponsivePopover\";\nimport ResponsivePopover from \"sap/m/ResponsivePopover\";\nimport mobilelibrary from \"sap/m/library\";\nimport Device from \"sap/ui/Device\";\nimport type Event from \"sap/ui/base/Event\";\nimport type Control from \"sap/ui/core/Control\";\nimport Element from \"sap/ui/core/Element\";\nimport IconPool from \"sap/ui/core/IconPool\";\nimport type View from \"sap/ui/core/mvc/View\";\nimport type { Field$ChangeEvent, default as mdcField } from \"sap/ui/mdc/Field\";\nimport type MdcLink from \"sap/ui/mdc/Link\";\nimport type CompositeBinding from \"sap/ui/model/CompositeBinding\";\nimport type DataState from \"sap/ui/model/DataState\";\nimport type PropertyBinding from \"sap/ui/model/PropertyBinding\";\nimport type Context from \"sap/ui/model/odata/v4/Context\";\nimport type FileUploader from \"sap/ui/unified/FileUploader\";\nimport type {\n\tFileUploader$ChangeEvent,\n\tFileUploader$FileSizeExceedEvent,\n\tFileUploader$TypeMissmatchEvent,\n\tFileUploader$UploadCompleteEvent\n} from \"sap/ui/unified/FileUploader\";\nimport openWindow from \"sap/ui/util/openWindow\";\nimport type Field from \"../Field\";\nimport FieldWrapper from \"../controls/FieldWrapper\";\nimport type FileWrapper from \"../controls/FileWrapper\";\nimport {\n\tdisplayMessageForFailedUpload,\n\tsetHeaderFields,\n\tshowFileSizeExceedDialog,\n\tshowTypeMismatchDialog\n} from \"../internal/helpers/Upload\";\nimport type TableAPI from \"../table/TableAPI\";\n\ntype File = {\n\ttype: string;\n};\n\nconst FieldRuntimeHelper = {\n\tuploadPromises: {} as Record<string, { resolve: Function; reject: Function }>,\n\tcreatingInactiveRow: false,\n\n\tfetchRecommendations: function (field: Control, controller: PageController | ExtensionAPI): void {\n\t\tconst view = CommonUtils.getTargetView(field);\n\t\tconst fieldBindingContext = field.getBindingContext();\n\t\tlet recommendationsContext: Context;\n\n\t\t// determine recommendation context to use\n\t\tconst fieldBinding = (fieldBindingContext as Context)?.getBinding();\n\n\t\tif (fieldBinding.isA(\"sap.ui.model.odata.v4.ODataListBinding\")) {\n\t\t\t// inside a table, use the row\n\t\t\trecommendationsContext = fieldBindingContext as Context;\n\t\t} else {\n\t\t\t// inside a form now\n\t\t\t// can have 1-1 navigation property/direct property - use view context\n\t\t\trecommendationsContext = view.getBindingContext();\n\t\t}\n\t\tconst feController = FieldRuntimeHelper.getExtensionController(controller);\n\t\tconst valueHelpId = field.isA<mdcField>(\"sap.ui.mdc.Field\") && field.getValueHelp();\n\t\t// update telemetry data as per user selection\n\t\tconst metaPath = ModelHelper.getMetaPathForContext(field.getBindingContext() as Context);\n\t\tconst propertyPath = field.data(\"sourcePath\").replace(metaPath, \"\");\n\t\tconst fieldPath = `${field.getBindingContext()?.getPath()}${propertyPath}`;\n\t\tconst selectedValue = field.isA<mdcField>(\"sap.ui.mdc.Field\") && field.getValue();\n\t\tfeController.recommendations.updateTelemetryDataBasedOnUserSelection(fieldPath, selectedValue);\n\n\t\tif (valueHelpId && valueHelpId.includes(\"::TableValueHelp::\")) {\n\t\t\tconst tableId = valueHelpId.substring(0, valueHelpId.indexOf(\"::TableValueHelp::\"));\n\t\t\tconst table = view.byId(tableId);\n\t\t\tconst contextIdentifier = (table?.getParent() as TableAPI)?.getIdentifierColumn() as string[];\n\t\t\tfeController.recommendations.fetchAndApplyRecommendationsOnFieldChange(field, {\n\t\t\t\tcontext: recommendationsContext,\n\t\t\t\tcontextIdentifier\n\t\t\t});\n\t\t} else {\n\t\t\tfeController.recommendations.fetchAndApplyRecommendationsOnFieldChange(field, { context: recommendationsContext });\n\t\t}\n\t},\n\n\tgetExtensionController: function (oController: PageController | ExtensionAPI): PageController {\n\t\treturn oController.isA<ExtensionAPI>(\"sap.fe.core.ExtensionAPI\") ? oController._controller : oController;\n\t},\n\n\t/**\n\t * Gets the field value and validity on a change event.\n\t * @param oEvent The event object passed by the change event\n\t * @returns Field value and validity\n\t */\n\tgetFieldStateOnChange: function (oEvent: Field$ChangeEvent & Event<{ isValid: boolean }, Control>): {\n\t\tfield: mdcField;\n\t\tstate: {\n\t\t\tfieldValue?: unknown;\n\t\t\tvalidity: boolean;\n\t\t};\n\t} {\n\t\tlet oSourceField = oEvent.getSource(),\n\t\t\tmFieldState: {\n\t\t\t\tfieldValue?: unknown;\n\t\t\t\tvalidity: boolean;\n\t\t\t};\n\t\tconst _isBindingStateMessages = function (oBinding: PropertyBinding & { getDataState: () => DataState }): boolean {\n\t\t\treturn oBinding && oBinding.getDataState() ? oBinding.getDataState().getInvalidValue() === undefined : true;\n\t\t};\n\t\tif (oSourceField.isA<mdcField>(\"sap.fe.macros.field.Field\")) {\n\t\t\toSourceField = oSourceField.getContent() as mdcField;\n\t\t}\n\t\tif (oSourceField.isA<EnhanceWithUI5<Field>>(\"sap.fe.macros.Field\")) {\n\t\t\toSourceField = oSourceField.getContent() as mdcField;\n\t\t}\n\n\t\tif (\n\t\t\toSourceField.isA<EnhanceWithUI5<FieldWrapper>>(FieldWrapper.getMetadata().getName()) &&\n\t\t\toSourceField.getEditMode() === \"Editable\"\n\t\t) {\n\t\t\toSourceField = (oSourceField as EnhanceWithUI5<FieldWrapper>).getContentEdit()[0] as mdcField;\n\t\t}\n\n\t\tif (oSourceField.isA<mdcField>(\"sap.ui.mdc.Field\")) {\n\t\t\tlet bIsValid = oEvent.getParameter(\"valid\") || oEvent.getParameter(\"isValid\");\n\t\t\tif (bIsValid === undefined) {\n\t\t\t\tif (oSourceField.getMaxConditions() === 1) {\n\t\t\t\t\tconst oValueBindingInfo = oSourceField.getBindingInfo(\"value\");\n\t\t\t\t\tbIsValid = _isBindingStateMessages(oValueBindingInfo && oValueBindingInfo.binding);\n\t\t\t\t}\n\t\t\t\tif (oSourceField.getValue() === \"\" && !oSourceField.getProperty(\"required\")) {\n\t\t\t\t\tbIsValid = true;\n\t\t\t\t}\n\t\t\t}\n\t\t\tmFieldState = {\n\t\t\t\tfieldValue: oSourceField.getValue(),\n\t\t\t\tvalidity: !!bIsValid\n\t\t\t};\n\t\t} else {\n\t\t\t// oSourceField extends from a FileUploader || Input || is a CheckBox\n\t\t\tconst oBinding =\n\t\t\t\t(oSourceField as Control).getBinding(\"uploadUrl\") ||\n\t\t\t\t(oSourceField as Control).getBinding(\"value\") ||\n\t\t\t\t(oSourceField as Control).getBinding(\"selected\");\n\t\t\tmFieldState = {\n\t\t\t\tfieldValue: oBinding && (oBinding as PropertyBinding).getValue(),\n\t\t\t\tvalidity: _isBindingStateMessages(oBinding as PropertyBinding & { getDataState: () => DataState })\n\t\t\t};\n\t\t}\n\t\treturn {\n\t\t\tfield: oSourceField,\n\t\t\tstate: mFieldState\n\t\t};\n\t},\n\t/**\n\t * Handles the press event for a link.\n\t * @param oEvent The press event\n\t * @returns The pressed link\n\t */\n\tpressLink: async function (oEvent: Button$PressEvent): Promise<Link> {\n\t\tconst oSource = oEvent.getSource();\n\t\tlet sapmLink = oSource.isA<ObjectIdentifier>(\"sap.m.ObjectIdentifier\")\n\t\t\t? oSource.findElements(false, (elem: Element) => {\n\t\t\t\t\treturn elem.isA<Link>(\"sap.m.Link\");\n\t\t\t  })[0]\n\t\t\t: oSource;\n\t\tif (oSource?.isA<TextLink>(\"sap.fe.macros.controls.TextLink\")) {\n\t\t\t//when the link is inside a TextLink control, the dependent will be on the TextLink\n\t\t\tsapmLink = oSource.getContent() as Link;\n\t\t}\n\n\t\tif (oSource.getDependents() && oSource.getDependents().length > 0 && sapmLink.getProperty(\"text\") !== \"\") {\n\t\t\tconst oFieldInfo = oSource.getDependents()[0];\n\t\t\tif (oFieldInfo && oFieldInfo.isA<MdcLink>(\"sap.ui.mdc.Link\")) {\n\t\t\t\tawait FieldRuntimeHelper.openLink(oFieldInfo, sapmLink as Link);\n\t\t\t}\n\t\t}\n\t\treturn sapmLink as Link;\n\t},\n\n\topenLink: async function (mdcLink: MdcLink, sapmLink: Link): Promise<void> {\n\t\ttry {\n\t\t\tconst hRef = await mdcLink.getTriggerHref();\n\t\t\tif (!hRef) {\n\t\t\t\ttry {\n\t\t\t\t\tawait (mdcLink as unknown as { _useDelegateItems: Function })._useDelegateItems();\n\t\t\t\t\tconst linkItems = await mdcLink.retrieveLinkItems();\n\t\t\t\t\tif (linkItems?.length === 0 && (mdcLink.getPayload() as LinkDelegatePayload).hasQuickViewFacets === \"false\") {\n\t\t\t\t\t\tconst popover: ResponsivePopover = FieldRuntimeHelper.createPopoverWithNoTargets(mdcLink);\n\t\t\t\t\t\tmdcLink.addDependent(popover);\n\t\t\t\t\t\tpopover.openBy(sapmLink as unknown as Control);\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n\t\t\t\t\t\t// @ts-ignore\n\t\t\t\t\t\tawait mdcLink.open(sapmLink as unknown as Control);\n\t\t\t\t\t}\n\t\t\t\t} catch (error) {\n\t\t\t\t\tLog.error(`Cannot retrieve the QuickView Popover dialog: ${error}`);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tconst view = CommonUtils.getTargetView(sapmLink);\n\t\t\t\tconst appComponent = CommonUtils.getAppComponent(view);\n\t\t\t\tconst shellService = appComponent.getShellServices();\n\t\t\t\tconst shellHash = shellService.parseShellHash(hRef);\n\t\t\t\tconst navArgs = {\n\t\t\t\t\ttarget: {\n\t\t\t\t\t\tsemanticObject: shellHash.semanticObject,\n\t\t\t\t\t\taction: shellHash.action\n\t\t\t\t\t},\n\t\t\t\t\tparams: shellHash.params\n\t\t\t\t};\n\t\t\t\tKeepAliveHelper.storeControlRefreshStrategyForHash(view, shellHash);\n\t\t\t\tif (CommonUtils.isStickyEditMode(sapmLink as unknown as Control) !== true) {\n\t\t\t\t\t//URL params and xappState has been generated earlier hence using navigate\n\t\t\t\t\tawait shellService.navigate(navArgs, appComponent);\n\t\t\t\t} else {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tconst newHref = await shellService.hrefForExternal(navArgs, appComponent);\n\t\t\t\t\t\topenWindow(newHref);\n\t\t\t\t\t} catch (error) {\n\t\t\t\t\t\tLog.error(`Error while retireving hrefForExternal : ${error}`);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t} catch (error) {\n\t\t\tLog.error(`Error triggering link Href: ${error}`);\n\t\t}\n\t},\n\n\tcreatePopoverWithNoTargets: function (mdcLink: MdcLink): ResponsivePopover {\n\t\tconst mdcLinkId = mdcLink.getId();\n\t\tconst illustratedMessageSettings: $IllustratedMessageSettings = {\n\t\t\ttitle: getResourceModel(mdcLink as unknown as Control).getText(\"M_ILLUSTRATEDMESSAGE_TITLE\"),\n\t\t\tdescription: getResourceModel(mdcLink as unknown as Control).getText(\"M_ILLUSTRATEDMESSAGE_DESCRIPTION\"),\n\t\t\tenableFormattedText: true,\n\t\t\tillustrationSize: IllustratedMessageSize.ExtraSmall,\n\t\t\tillustrationType: IllustratedMessageType.NoData\n\t\t};\n\t\tconst illustratedMessage = new IllustratedMessage(`${mdcLinkId}-illustratedmessage`, illustratedMessageSettings);\n\t\tconst popoverSettings: $ResponsivePopoverSettings = {\n\t\t\thorizontalScrolling: false,\n\t\t\tshowHeader: Device.system.phone,\n\t\t\tplacement: mobilelibrary.PlacementType.Auto,\n\t\t\tcontent: [illustratedMessage],\n\t\t\tafterClose: function (event) {\n\t\t\t\tif (event.getSource()) {\n\t\t\t\t\tevent.getSource().destroy();\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\treturn new ResponsivePopover(`${mdcLinkId}-popover`, popoverSettings);\n\t},\n\n\t/**\n\t * Handles the type mismatch event for a file uploader.\n\t *\n\t * Displays a dialog to inform the user about the type mismatch.\n\t * @param event The event object containing details about the type mismatch\n\t */\n\thandleTypeMissmatch: function (event: FileUploader$TypeMissmatchEvent): void {\n\t\tconst fileUploader = event.getSource();\n\t\tconst givenType = event.getParameter(\"mimeType\");\n\t\tconst acceptedTypes = fileUploader.getMimeType();\n\t\tif (givenType) {\n\t\t\tshowTypeMismatchDialog(fileUploader, givenType, acceptedTypes);\n\t\t}\n\t},\n\n\t/**\n\t * Handles the file size exceed event for a file uploader.\n\t *\n\t * Displays a dialog to inform the user about the file size exceed.\n\t * @param event The event object containing details about the file size exceed\n\t */\n\thandleFileSizeExceed: function (event: FileUploader$FileSizeExceedEvent): void {\n\t\tconst fileUploader = event.getSource();\n\t\tshowFileSizeExceedDialog(fileUploader, fileUploader.getMaximumFileSize().toFixed(3));\n\t},\n\n\t/**\n\t * Handles the upload complete event for a file uploader.\n\t *\n\t * Displays a message for a failed upload and resolves or rejects the upload promise.\n\t * @param event The event object containing details about the upload\n\t * @param propertyFileName The property name for the file name\n\t * @param propertyPath The property path for the file\n\t * @param controller The page controller\n\t */\n\thandleUploadComplete: function (\n\t\tevent: FileUploader$UploadCompleteEvent,\n\t\tpropertyFileName: { path: string } | undefined,\n\t\tpropertyPath: string,\n\t\tcontroller: PageController\n\t): void {\n\t\tconst status = Number(event.getParameter(\"status\")),\n\t\t\tfileUploader = event.getSource(),\n\t\t\tfileWrapper = fileUploader.getParent() as unknown as FileWrapper,\n\t\t\tfield = fileWrapper.getParent();\n\t\tfileWrapper.setUIBusy(false);\n\n\t\tconst context = fileUploader.getBindingContext() as Context | undefined | null;\n\t\tif (status === 0 || status >= 400) {\n\t\t\tconst error = (event.getParameter(\"responseRaw\") || event.getParameter(\"response\")) as string;\n\t\t\tdisplayMessageForFailedUpload(fileUploader, error);\n\t\t\tFieldRuntimeHelper.uploadPromises[fileUploader.getId()].reject();\n\t\t} else {\n\t\t\tconst newETag = (event.getParameter(\"headers\") as Record<string, unknown>)?.etag;\n\n\t\t\tif (newETag) {\n\t\t\t\t// set new etag for filename update, but without sending patch request\n\t\t\t\tcontext?.setProperty(\"@odata.etag\", newETag, null as unknown as string);\n\t\t\t}\n\n\t\t\t// set filename for link text\n\t\t\tif (propertyFileName?.path) {\n\t\t\t\tcontext?.setProperty(propertyFileName.path, fileUploader.getValue());\n\t\t\t}\n\n\t\t\t// delete the avatar cache that not gets updated otherwise\n\t\t\tfileWrapper.avatar?.refreshAvatarCacheBusting();\n\n\t\t\tFieldRuntimeHelper._callSideEffectsForStream(\n\t\t\t\tevent as unknown as Field$ChangeEvent & Event<{ isValid: boolean }>,\n\t\t\t\tfileWrapper,\n\t\t\t\tcontroller\n\t\t\t);\n\n\t\t\tthis.uploadPromises[fileUploader.getId()].resolve();\n\t\t\tfield?.fireEvent(\"change\", event);\n\t\t}\n\n\t\tdelete this.uploadPromises[fileUploader.getId()];\n\n\t\t// Collaboration Draft Activity Sync\n\t\tconst isCollaborationEnabled = controller.collaborativeDraft?.isConnected();\n\t\tif (!isCollaborationEnabled || !context) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst notificationData = [`${context.getPath()}/${propertyPath}`];\n\t\tif (propertyFileName?.path) {\n\t\t\tnotificationData.push(`${context.getPath()}/${propertyFileName.path}`);\n\t\t}\n\n\t\tlet binding = context.getBinding();\n\t\tif (!binding.isA(\"sap.ui.model.odata.v4.ODataListBinding\")) {\n\t\t\tconst oView = CommonUtils.getTargetView(fileUploader);\n\t\t\tbinding = oView.getBindingContext().getBinding();\n\t\t}\n\t\tif (binding.hasPendingChanges()) {\n\t\t\tbinding.attachEventOnce(\"patchCompleted\", () => {\n\t\t\t\tcontroller.collaborativeDraft.send({ action: Activity.Change, content: notificationData });\n\t\t\t\tcontroller.collaborativeDraft.send({ action: Activity.Unlock, content: notificationData });\n\t\t\t});\n\t\t} else {\n\t\t\tcontroller.collaborativeDraft.send({ action: Activity.Change, content: notificationData });\n\t\t\tcontroller.collaborativeDraft.send({ action: Activity.Unlock, content: notificationData });\n\t\t}\n\t},\n\n\t/**\n\t * Removes a stream from a file property.\n\t *\n\t * Sets the property to null and then undefined to recreate the upload URL.\n\t * Handles collaboration draft activity sync if enabled.\n\t * @param event The change event object\n\t * @param  propertyFileName The property name for the file name.\n\t * @param propertyPath The property path for the file.\n\t * @param controller The page controller.\n\t */\n\tremoveStream: function (\n\t\tevent: Field$ChangeEvent & Event<{ isValid: boolean }>,\n\t\tpropertyFileName: { path: string } | undefined,\n\t\tpropertyPath: string,\n\t\tcontroller: PageController\n\t): void {\n\t\tconst deleteButton = event.getSource();\n\t\tconst fileWrapper = deleteButton.getParent() as unknown as FileWrapper;\n\t\tconst context = fileWrapper.getBindingContext() as Context;\n\t\tconst field = fileWrapper.getParent();\n\n\t\t// streams are removed by assigning the null value\n\t\tcontext.setProperty(propertyPath, null);\n\t\t// When setting the property to null, the uploadUrl (@@MODEL.format) is set to \"\" by the model\n\t\t//\twith that another upload is not possible before refreshing the page\n\t\t// (refreshing the page would recreate the URL)\n\t\t//\tThis is the workaround:\n\t\t//\tWe set the property to undefined only on the frontend which will recreate the uploadUrl\n\t\tcontext.setProperty(propertyPath, undefined, null as unknown as string);\n\n\t\tFieldRuntimeHelper._callSideEffectsForStream(event, fileWrapper, controller);\n\n\t\t// Collaboration Draft Activity Sync\n\t\tconst bCollaborationEnabled = controller.collaborativeDraft?.isConnected();\n\t\tif (bCollaborationEnabled) {\n\t\t\tlet binding = context.getBinding();\n\t\t\tif (!binding.isA(\"sap.ui.model.odata.v4.ODataListBinding\")) {\n\t\t\t\tconst oView = CommonUtils.getTargetView(deleteButton);\n\t\t\t\tbinding = oView.getBindingContext().getBinding();\n\t\t\t}\n\n\t\t\tconst data = [`${context.getPath()}/${propertyPath}`];\n\t\t\tif (propertyFileName?.path) {\n\t\t\t\tdata.push(`${context.getPath()}/${propertyFileName.path}`);\n\t\t\t}\n\t\t\tcontroller.collaborativeDraft.send({ action: Activity.Lock, content: data });\n\n\t\t\tbinding.attachEventOnce(\"patchCompleted\", function () {\n\t\t\t\tcontroller.collaborativeDraft.send({ action: Activity.Change, content: data });\n\t\t\t\tcontroller.collaborativeDraft.send({ action: Activity.Unlock, content: data });\n\t\t\t});\n\t\t}\n\t\tfield?.fireEvent(\"change\", event);\n\t},\n\n\t_callSideEffectsForStream: function (\n\t\toEvent: Field$ChangeEvent & Event<{ isValid: boolean }>,\n\t\toControl: Control,\n\t\toController: PageController\n\t): void {\n\t\tconst oFEController = FieldRuntimeHelper.getExtensionController(oController);\n\t\tif (oControl && (oControl.getBindingContext() as unknown as { isTransient: Function }).isTransient()) {\n\t\t\treturn;\n\t\t}\n\t\tif (oControl) {\n\t\t\t(oEvent as unknown as { oSource: Control }).oSource = oControl;\n\t\t}\n\t\toFEController._sideEffects.handleFieldChange(oEvent, FieldRuntimeHelper.getFieldStateOnChange(oEvent).state[\"validity\"]);\n\t},\n\n\t/**\n\t * Uploads a stream using the file uploader.\n\t *\n\t * Sets the upload URL, synchronizes the upload with other requests, and handles collaboration draft activity sync if enabled.\n\t * @param controller The page controller.\n\t * @param event The change event object of the file uploader.\n\t */\n\tuploadStream: function (controller: PageController, event: FileUploader$ChangeEvent): void {\n\t\tconst fileUploader = event.getSource(),\n\t\t\tFEController = FieldRuntimeHelper.getExtensionController(controller),\n\t\t\tfileWrapper = fileUploader.getParent() as unknown as FileWrapper,\n\t\t\tuploadUrl = fileWrapper.getUploadUrl();\n\n\t\tif (uploadUrl !== \"\") {\n\t\t\tfileWrapper.setUIBusy(true);\n\n\t\t\t// use uploadUrl from FileWrapper which returns a canonical URL\n\t\t\tfileUploader.setUploadUrl(uploadUrl);\n\n\t\t\t// set the request header for the upload\n\t\t\tconst files = event.getParameter(\"files\");\n\t\t\t// there is only one file as we allow selecting only one\n\t\t\tconst fileType = (files && (files[0] as File).type) as string;\n\t\t\tsetHeaderFields(fileUploader, fileType);\n\n\t\t\t// synchronize upload with other requests\n\t\t\tconst uploadPromise = new Promise((resolve: Function, reject: Function) => {\n\t\t\t\tthis.uploadPromises = this.uploadPromises || {};\n\t\t\t\tthis.uploadPromises[fileUploader.getId()] = {\n\t\t\t\t\tresolve: resolve,\n\t\t\t\t\treject: reject\n\t\t\t\t};\n\t\t\t\tfileUploader.upload();\n\t\t\t});\n\t\t\tFEController.editFlow.syncTask(uploadPromise);\n\t\t} else {\n\t\t\tMessageBox.error(getResourceModel(controller).getText(\"M_FIELD_FILEUPLOADER_ABORTED_TEXT\"));\n\t\t}\n\t},\n\n\t/**\n\t * Handler when a FileUpload dialog is opened.\n\t * @param event\n\t */\n\thandleOpenUploader: function (event: Event<{}, FileUploader>): void {\n\t\tconst fileUploader = event.getSource();\n\t\tFieldRuntimeHelper._sendCollaborationMessageForFileUploader(fileUploader, Activity.Lock);\n\t},\n\n\t/**\n\t * Method to send collaboration messages from a FileUploader.\n\t * @param fileUploader\n\t * @param action\n\t */\n\t_sendCollaborationMessageForFileUploader(fileUploader: FileUploader, action: Activity): void {\n\t\tconst view = CommonUtils.getTargetView(fileUploader);\n\t\tconst collaborativeDraft = view.getController().collaborativeDraft;\n\t\tif (collaborativeDraft.isConnected()) {\n\t\t\tconst bindingPath = fileUploader.getParent()?.getProperty(\"propertyPath\");\n\t\t\tconst fullPath = `${fileUploader.getBindingContext()?.getPath()}/${bindingPath}`;\n\t\t\tcollaborativeDraft.send({ action, content: fullPath });\n\t\t}\n\t},\n\n\t/**\n\t * Handler when a FileUpload dialog is closed.\n\t * @param event\n\t */\n\thandleCloseUploader: function (event: Event<{}, FileUploader>): void {\n\t\tconst fileUploader = event.getSource();\n\t\tFieldRuntimeHelper._sendCollaborationMessageForFileUploader(fileUploader, Activity.Unlock);\n\t},\n\n\t/**\n\t * Opens an external link in the same tab.\n\t *\n\t * This function retrieves the URL from the link's data and opens it in the same tab.\n\t * @param event The event object containing details about the link click.\n\t */\n\topenExternalLink: function (event: Event<{}, Link>): void {\n\t\tconst source = event.getSource();\n\t\tif (source.data(\"url\") && source.getProperty(\"text\") !== \"\") {\n\t\t\t// This opens the link in the same tab as the link. It was done to be more consistent with other type of links.\n\t\t\topenWindow(source.data(\"url\"), \"_self\");\n\t\t}\n\t},\n\n\t/**\n\t * Retrieves the icon for a given MIME type.\n\t *\n\t * This function uses the `IconPool` to get the appropriate icon for the specified MIME type.\n\t * @param mimeType The MIME type for which the icon is to be retrieved\n\t * @returns The icon corresponding to the given MIME type\n\t */\n\tgetIconForMimeType: function (mimeType: string): string {\n\t\treturn IconPool.getIconForMimeType(mimeType);\n\t},\n\n\t/**\n\t * Triggers an internal navigation on the link pertaining to DataFieldWithNavigationPath.\n\t * @param source Source of the press event\n\t * @param controller Instance of the controller\n\t * @param navPath The navigation path\n\t */\n\tonDataFieldWithNavigationPath: async function (source: Control, controller: PageController, navPath: string): Promise<void> {\n\t\tif (controller._routing) {\n\t\t\tconst bindingContext = source.getBindingContext() as Context;\n\n\t\t\tconst view = CommonUtils.getTargetView(source),\n\t\t\t\tmetaModel = bindingContext.getModel().getMetaModel();\n\t\t\tconst viewData = view.getViewData();\n\n\t\t\tconst draftRootPath = ModelHelper.getDraftRootPath(bindingContext) ?? bindingContext.getPath();\n\t\t\tlet urlNavigation = await controller._routing.getHashForNavigation(bindingContext, navPath);\n\t\t\tconst navigateFn = (): void => {\n\t\t\t\tcontroller\n\t\t\t\t\t.getAppComponent()\n\t\t\t\t\t.getRouterProxy()\n\t\t\t\t\t.navToHash(\n\t\t\t\t\t\turlNavigation,\n\t\t\t\t\t\ttrue,\n\t\t\t\t\t\tfalse,\n\t\t\t\t\t\tfalse,\n\t\t\t\t\t\t!ModelHelper.isStickySessionSupported(bindingContext.getModel().getMetaModel())\n\t\t\t\t\t);\n\t\t\t};\n\n\t\t\t// To know if we're navigating on the same OP Entity\n\t\t\tif (!urlNavigation?.startsWith(\"/\")) {\n\t\t\t\turlNavigation = `/${urlNavigation}`;\n\t\t\t}\n\t\t\tconst sameOPNavigation = urlNavigation.startsWith(draftRootPath);\n\n\t\t\t// Show draft loss confirmation dialog in case of Object page\n\t\t\tif (viewData.converterType === \"ObjectPage\" && !ModelHelper.isStickySessionSupported(metaModel) && !sameOPNavigation) {\n\t\t\t\tdraft.processDataLossOrDraftDiscardConfirmation(\n\t\t\t\t\tnavigateFn,\n\t\t\t\t\tFunction.prototype,\n\t\t\t\t\tbindingContext,\n\t\t\t\t\tview.getController(),\n\t\t\t\t\ttrue,\n\t\t\t\t\tdraft.NavigationType.ForwardNavigation\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\tnavigateFn();\n\t\t\t}\n\t\t} else {\n\t\t\tLog.error(\n\t\t\t\t\"FieldRuntime: No routing listener controller extension found. Internal navigation aborted.\",\n\t\t\t\t\"sap.fe.macros.field.FieldRuntime\",\n\t\t\t\t\"onDataFieldWithNavigationPath\"\n\t\t\t);\n\t\t}\n\t},\n\n\t/**\n\t * Event handler to create and show who is editing the field popover.\n\t * @param source The avatar which is next to the field locked\n\t * @param view Current view\n\t */\n\tshowCollaborationEditUser: function (source: Avatar, view: View): void {\n\t\tconst resourceModel = ResourceModelHelper.getResourceModel(view);\n\t\tlet popover = Element.getElementById(`manageCollaborationDraft--editUser`) as ResponsivePopover;\n\n\t\tif (!popover) {\n\t\t\tpopover = new ResponsivePopover(\"manageCollaborationDraft--editUser\", {\n\t\t\t\tshowHeader: false,\n\t\t\t\tplacement: \"Bottom\"\n\t\t\t});\n\t\t\tpopover.addStyleClass(\"sapUiContentPadding\");\n\t\t\tview.addDependent(popover);\n\t\t}\n\n\t\tconst bindingPath = (source.getBinding(\"initials\") as CompositeBinding | undefined)\n\t\t\t?.getBindings()\n\t\t\t.find((binding) => binding?.getPath()?.startsWith(\"/collaboration/activities\"))\n\t\t\t.getPath();\n\t\tconst activities = source.getBindingContext(\"internal\")?.getObject(bindingPath);\n\n\t\tlet editingActivity: UserActivity | undefined;\n\t\tif (activities && activities.length > 0) {\n\t\t\teditingActivity = activities.find((activity: UserActivity) => {\n\t\t\t\treturn activity.key === getActivityKeyFromPath(source.getBindingContext()!.getPath());\n\t\t\t});\n\t\t}\n\t\tpopover.destroyContent();\n\t\tpopover.addContent(\n\t\t\tnew Label({\n\t\t\t\ttext: resourceModel.getText(\"C_COLLABORATIONAVATAR_USER_EDIT_FIELD\", [`${editingActivity?.name}`])\n\t\t\t})\n\t\t);\n\t\tpopover.openBy(source);\n\t}\n};\n\nexport default FieldRuntimeHelper;\n"],"mappings":"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","ignoreList":[],"file":"FieldRuntimeHelper-dbg.js"}