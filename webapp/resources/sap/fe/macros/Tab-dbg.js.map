{"version":3,"names":["Tab","_dec","defineUI5Class","_dec2","property","type","_dec3","_dec4","event","_dec5","_dec6","_dec7","_dec8","xmlEventHandler","_class","_class2","_IconTabFilter","settings","others","_this","id","call","_initializerDefineProperty","_descriptor","_descriptor2","_descriptor3","_descriptor4","_descriptor5","_descriptor6","isSuspended","setKey","generate","insertContent","_jsx","MessageStrip","text","showIcon","showCloseButton","class","visible","getTabContent","attachEvent","onInternalDataRequested","bind","_exports","_inheritsLoose","_proto","prototype","evt","fireEvent","getParameters","getContent","filter","item","isA","resumeBinding","requestIfNotInitialized","forEach","content","suspendBinding","invalidateContent","hasCounts","hasListeners","getCounts","refreshCount","setCount","then","count","catch","error","Log","refreshNotApplicableFields","filterControl","IconTabFilter","_applyDecoratedDescriptor","configurable","enumerable","writable","initializer","Object","getOwnPropertyDescriptor"],"sourceRoot":".","sources":["Tab.tsx"],"sourcesContent":["import Log from \"sap/base/Log\";\nimport { defineUI5Class, event, property, xmlEventHandler, type PropertiesOf } from \"sap/fe/base/ClassSupport\";\nimport { generate } from \"sap/fe/core/helpers/StableIdHelper\";\nimport type { $IconTabFilterSettings } from \"sap/m/IconTabFilter\";\nimport IconTabFilter from \"sap/m/IconTabFilter\";\nimport MessageStrip from \"sap/m/MessageStrip\";\nimport type UI5Event from \"sap/ui/base/Event\";\nimport type Control from \"sap/ui/core/Control\";\nimport type MacroAPI from \"./MacroAPI\";\n\nexport type InnerControlType = MacroAPI &\n\tPartial<{\n\t\tresumeBinding: Function;\n\t\tsuspendBinding: Function;\n\t\tgetCounts: Function;\n\t\trefreshNotApplicableFields: Function;\n\t\tinvalidateContent: Function;\n\t\tgetContent: Function;\n\t}>;\n\n@defineUI5Class(\"sap.fe.macros.Tab\")\nexport default class Tab extends IconTabFilter {\n\t@property({ type: \"string\" })\n\tid!: string;\n\n\t@property({ type: \"string\" })\n\tcount?: string;\n\n\t@event()\n\tinternalDataRequested!: Function;\n\n\t@event()\n\tcustomRefreshCount?: Function;\n\n\t@event()\n\tcustomResumeBinding?: Function;\n\n\t@event()\n\tcustomSuspendBinding?: Function;\n\n\tisSuspended = false;\n\n\tconstructor(settings: string | ($IconTabFilterSettings & PropertiesOf<Tab>), others?: $IconTabFilterSettings & PropertiesOf<Tab>) {\n\t\tif (typeof settings === \"string\") {\n\t\t\tothers ??= {};\n\t\t\tothers.id = settings;\n\t\t}\n\t\tsuper(settings as unknown as string, others);\n\t\tthis.setKey(generate([this.id]));\n\t\tthis.insertContent(\n\t\t\t<MessageStrip\n\t\t\t\ttext={\"{tabsInternal>/\" + this.id + \"/notApplicable/title}\"}\n\t\t\t\ttype=\"Information\"\n\t\t\t\tshowIcon=\"true\"\n\t\t\t\tshowCloseButton=\"true\"\n\t\t\t\tclass=\"sapUiTinyMargin\"\n\t\t\t\tvisible={\"{= (${tabsInternal>/\" + this.id + \"/notApplicable/fields} || []).length>0 }\"}\n\t\t\t/>,\n\t\t\t0\n\t\t);\n\t\tthis.getTabContent()[0]?.attachEvent(\"internalDataRequested\", this.onInternalDataRequested.bind(this));\n\t}\n\n\t@xmlEventHandler()\n\tonInternalDataRequested(evt: UI5Event): void {\n\t\tthis.fireEvent(\"internalDataRequested\", evt.getParameters());\n\t}\n\n\t/**\n\t * Gets tab content only of inner control type (table or chart).\n\t * @returns Array of inner controls\n\t */\n\tgetTabContent(): InnerControlType[] {\n\t\treturn this.getContent().filter((item) => item.isA([\"sap.fe.macros.table.TableAPI\", \"sap.fe.macros.Chart\"])) as InnerControlType[];\n\t}\n\n\tresumeBinding(requestIfNotInitialized: boolean): void {\n\t\tif (this.isSuspended) {\n\t\t\tthis.getTabContent()?.forEach((content) => content.resumeBinding?.(requestIfNotInitialized));\n\t\t\tthis.fireEvent(\"customResumeBinding\");\n\t\t\tthis.isSuspended = false;\n\t\t}\n\t}\n\n\tsuspendBinding(): void {\n\t\tif (!this.isSuspended) {\n\t\t\tthis.getTabContent()?.forEach((content) => content.suspendBinding?.());\n\t\t\tthis.fireEvent(\"customSuspendBinding\");\n\t\t\tthis.isSuspended = true;\n\t\t}\n\t}\n\n\tinvalidateContent(): void {\n\t\tthis.getTabContent()?.forEach((content) => content.invalidateContent?.());\n\t}\n\n\thasCounts(): boolean {\n\t\tif (this.hasListeners(\"customRefreshCount\") || this.getTabContent()?.[0]?.getCounts) {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\t/**\n\t * Refreshes the tab count.\n\t *\n\t */\n\trefreshCount(): void {\n\t\tif (this.hasCounts()) {\n\t\t\tthis.setCount(\"...\");\n\t\t\tthis.getTabContent()?.[0]\n\t\t\t\t?.getCounts?.()\n\t\t\t\t.then((count: string): Tab => {\n\t\t\t\t\treturn this.setCount(count || \"0\");\n\t\t\t\t})\n\t\t\t\t.catch(function (error: unknown): void {\n\t\t\t\t\tLog.error(`Error while requesting Counts for Control: ${error}`);\n\t\t\t\t});\n\t\t\tthis.fireEvent(\"customRefreshCount\");\n\t\t}\n\t}\n\n\trefreshNotApplicableFields(filterControl: Control): string[] {\n\t\treturn this.getTabContent()?.[0]?.refreshNotApplicableFields?.(filterControl);\n\t}\n}\n"],"mappings":"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","ignoreList":[],"file":"Tab-dbg.js"}