{"version":3,"names":["MultiValue","_dec","defineUI5Class","_class","_Value","apply","arguments","_exports","_inheritsLoose","_proto","prototype","getOperatorConfig","operatorName","name","multiValue","formatValue","internalValue","externalValueType","result","split","Array","isArray","map","value","call","getElementTypeName","filter","undefined","parseValue","externalValue","values","externalToString","hasCustomOperator","operator","validated","format","Value"],"sourceRoot":".","sources":["MultiValue.ts"],"sourcesContent":["import { defineUI5Class } from \"sap/fe/base/ClassSupport\";\nimport Value from \"sap/fe/macros/filter/type/Value\";\nimport { type CustomFilterOperatorInfo } from \"sap/ui/core/Manifest\";\nimport type { ConditionObject } from \"sap/ui/mdc/condition/Condition\";\n\n/**\n * Handle format/parse of multi value filters.\n */\n@defineUI5Class(\"sap.fe.macros.filter.type.MultiValue\")\nexport default class MultiValue extends Value {\n\t/**\n\t * Custom Operator Info.\n\t * @param operatorName The binding operator name\n\t * @returns Custom operator info\n\t */\n\tpublic getOperatorConfig(operatorName: string): CustomFilterOperatorInfo {\n\t\treturn {\n\t\t\tname: operatorName,\n\t\t\tmultiValue: true\n\t\t};\n\t}\n\n\t/**\n\t * Returns the string value parsed to the external value type.\n\t * @param internalValue The internal string value to be formatted\n\t * @param externalValueType The external value type, e.g. int, float[], string, etc.\n\t * @returns The formatted value\n\t * @protected\n\t */\n\tformatValue(internalValue: unknown | undefined, externalValueType: string | undefined): string[] {\n\t\tlet result = internalValue;\n\n\t\tif (typeof result === \"string\") {\n\t\t\tresult = result.split(\",\");\n\t\t}\n\n\t\tif (Array.isArray(result)) {\n\t\t\tresult = result\n\t\t\t\t.map((value: string) => super.formatValue(value, this.getElementTypeName(externalValueType)))\n\t\t\t\t.filter((value: unknown) => value !== undefined);\n\t\t}\n\n\t\treturn (result || []) as string[];\n\t}\n\n\t/**\n\t * Returns the value parsed to the internal string value.\n\t * @param externalValue The value to be parsed\n\t * @param externalValueType The external value type, e.g. int, float[], string, etc.\n\t * @returns The parsed value\n\t * @protected\n\t */\n\t// eslint-disable-next-line @typescript-eslint/no-unused-vars\n\tparseValue(externalValue: unknown[] | undefined, externalValueType: string | undefined): ConditionObject | string[] {\n\t\tif (!externalValue) {\n\t\t\texternalValue = [];\n\t\t}\n\n\t\tconst values = super.externalToString(externalValue as string[], externalValueType) as string[];\n\n\t\tif (super.hasCustomOperator()) {\n\t\t\t// Returning the ConditionObject through CustomFilterFieldContentWrapper\n\t\t\treturn {\n\t\t\t\toperator: this.operator.name,\n\t\t\t\tvalues: [values],\n\t\t\t\tvalidated: undefined\n\t\t\t} as ConditionObject;\n\t\t}\n\n\t\treturn externalValue.map((value: unknown) => {\n\t\t\tif (value === undefined) {\n\t\t\t\tvalue = [];\n\t\t\t} else if (!Array.isArray(value)) {\n\t\t\t\tvalue = [value];\n\t\t\t}\n\t\t\treturn this.operator.format({ values: value } as ConditionObject);\n\t\t});\n\t}\n}\n"],"mappings":";;;;;;;;;;;;EAKA;AACA;AACA;EAFA,IAIqBA,UAAU,IAAAC,IAAA,GAD9BC,cAAc,CAAC,sCAAsC,CAAC,EAAAD,IAAA,CAAAE,MAAA,0BAAAC,MAAA;IAAA,SAAAJ,WAAA;MAAA,OAAAI,MAAA,CAAAC,KAAA,OAAAC,SAAA;IAAA;IAAAC,QAAA,GAAAP,UAAA;IAAAQ,cAAA,CAAAR,UAAA,EAAAI,MAAA;IAAA,IAAAK,MAAA,GAAAT,UAAA,CAAAU,SAAA;IAEtD;AACD;AACA;AACA;AACA;IAJCD,MAAA,CAKOE,iBAAiB,GAAxB,SAAOA,iBAAiBA,CAACC,YAAoB,EAA4B;MACxE,OAAO;QACNC,IAAI,EAAED,YAAY;QAClBE,UAAU,EAAE;MACb,CAAC;IACF;;IAEA;AACD;AACA;AACA;AACA;AACA;AACA,OANC;IAAAL,MAAA,CAOAM,WAAW,GAAX,SAAAA,WAAWA,CAACC,aAAkC,EAAEC,iBAAqC,EAAY;MAChG,IAAIC,MAAM,GAAGF,aAAa;MAE1B,IAAI,OAAOE,MAAM,KAAK,QAAQ,EAAE;QAC/BA,MAAM,GAAGA,MAAM,CAACC,KAAK,CAAC,GAAG,CAAC;MAC3B;MAEA,IAAIC,KAAK,CAACC,OAAO,CAACH,MAAM,CAAC,EAAE;QAC1BA,MAAM,GAAGA,MAAM,CACbI,GAAG,CAAEC,KAAa,IAAAnB,MAAA,CAAAM,SAAA,CAAWK,WAAW,CAAAS,IAAA,OAACD,KAAK,EAAE,IAAI,CAACE,kBAAkB,CAACR,iBAAiB,CAAC,CAAC,CAAC,CAC5FS,MAAM,CAAEH,KAAc,IAAKA,KAAK,KAAKI,SAAS,CAAC;MAClD;MAEA,OAAQT,MAAM,IAAI,EAAE;IACrB;;IAEA;AACD;AACA;AACA;AACA;AACA;AACA;IACC;IAAA;IAAAT,MAAA,CACAmB,UAAU,GAAV,SAAAA,UAAUA,CAACC,aAAoC,EAAEZ,iBAAqC,EAA8B;MACnH,IAAI,CAACY,aAAa,EAAE;QACnBA,aAAa,GAAG,EAAE;MACnB;MAEA,MAAMC,MAAM,GAAA1B,MAAA,CAAAM,SAAA,CAASqB,gBAAgB,CAAAP,IAAA,OAACK,aAAa,EAAcZ,iBAAiB,CAAa;MAE/F,IAAAb,MAAA,CAAAM,SAAA,CAAUsB,iBAAiB,CAAAR,IAAA,QAAI;QAC9B;QACA,OAAO;UACNS,QAAQ,EAAE,IAAI,CAACA,QAAQ,CAACpB,IAAI;UAC5BiB,MAAM,EAAE,CAACA,MAAM,CAAC;UAChBI,SAAS,EAAEP;QACZ,CAAC;MACF;MAEA,OAAOE,aAAa,CAACP,GAAG,CAAEC,KAAc,IAAK;QAC5C,IAAIA,KAAK,KAAKI,SAAS,EAAE;UACxBJ,KAAK,GAAG,EAAE;QACX,CAAC,MAAM,IAAI,CAACH,KAAK,CAACC,OAAO,CAACE,KAAK,CAAC,EAAE;UACjCA,KAAK,GAAG,CAACA,KAAK,CAAC;QAChB;QACA,OAAO,IAAI,CAACU,QAAQ,CAACE,MAAM,CAAC;UAAEL,MAAM,EAAEP;QAAM,CAAoB,CAAC;MAClE,CAAC,CAAC;IACH,CAAC;IAAA,OAAAvB,UAAA;EAAA,EApEsCoC,KAAK,MAAAjC,MAAA;EAAAI,QAAA,GAAAP,UAAA;EAAA,OAAAO,QAAA;AAAA","ignoreList":[],"file":"MultiValue-dbg.js"}