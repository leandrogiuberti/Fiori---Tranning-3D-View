/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.define(["sap/base/Log","sap/fe/base/ClassSupport","sap/fe/macros/filter/FilterOperatorUtils","sap/ui/mdc/condition/FilterOperatorUtil","sap/ui/mdc/enums/FieldDisplay","sap/ui/model/SimpleType","sap/ui/model/type/Boolean","sap/ui/model/type/Date","sap/ui/model/type/Float","sap/ui/model/type/Integer","sap/ui/model/type/String"],function(e,t,r,n,a,o,i,s,u,p,l){"use strict";var c,f,m;var y={};var d=t.defineUI5Class;function T(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,_(e,t)}function _(e,t){return _=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},_(e,t)}let g=(c=d("sap.fe.macros.filter.type.Value"),c(f=(m=function(t){function o(e,r){var a;a=t.call(this,e,r)||this;const o=e?.operator||a.getDefaultOperatorName();const i=n.getOperator(o);a.operator=i;if(a.operator===undefined&&o.includes(".")){const e=a.getOperatorConfig(o);a.registerCustomOperator(e)}return a}y=o;T(o,t);var c=o.prototype;c.getOperatorConfig=function e(t){return{name:t}};c.registerCustomOperator=function t(n){r.registerCustomOperators([n]).then(t=>{if(t[0]){this.operator=t[0]}else{e.error(`Failed to register operator: ${n.name}`)}return}).catch(t=>{e.error(`Failed to register operator: ${n.name}`,t)})};c._isMultiValueOperator=function e(t){return t.valueTypes.filter(function(e){return!!e&&e!==o.OPERATOR_VALUE_TYPE_STATIC}).length>1};c.hasCustomOperator=function e(){return this.operator.name.includes(".")};c._stringToExternal=function e(t,r){let n;const a=this._getTypeInstance(r);if(r&&o._isArrayType(r)){if(!Array.isArray(t)){t=[t]}n=t.map(e=>a?a.parseValue(e,o.INTERNAL_VALUE_TYPE):e)}else{n=a?a.parseValue(t,o.INTERNAL_VALUE_TYPE):t}return n};o._isArrayType=function e(t){if(!t){return false}return t==="array"||t.endsWith("[]")};c.externalToString=function e(t,r){let n;const a=this._getTypeInstance(r);if(r&&o._isArrayType(r)){if(!Array.isArray(t)){t=[t]}n=t.map(e=>a?a.formatValue(e,o.INTERNAL_VALUE_TYPE):e)}else{n=a?a.formatValue(t,o.INTERNAL_VALUE_TYPE):t}return n};c._getTypeInstance=function t(r){r=this.getElementTypeName(r)||r;switch(r){case"string":return new l;case"number":case"int":case"integer":return new p;case"float":return new u;case"date":return new s;case"boolean":return new i;default:e.error("Unexpected filter type");throw new Error("Unexpected filter type")}};c.getDefaultOperatorName=function e(){return n.getEQOperator().name};c.getElementTypeName=function e(t){if(t?.endsWith("[]")){return t.substring(0,t.length-2)}return undefined};c.formatValue=function e(t,r){if(!t){return undefined}const n=this._isMultiValueOperator(this.operator),i=this._getTypeInstance(o.INTERNAL_VALUE_TYPE);const s=this.operator.parse(t||"",i,a.Value,false);const u=!n&&Array.isArray(s)?s[0]:s;return this._stringToExternal(u,r)};c.parseValue=function e(t,r){if(!t){return undefined}const n=this._isMultiValueOperator(this.operator),a=this._getTypeInstance(r);const o=this.externalToString(t,r);const i=n?o:[o];if(this.hasCustomOperator()){return{operator:this.operator.name,values:[this.operator.format({values:i},a)],validated:undefined}}return this.operator.format({values:i},a)};c.validateValue=function e(t){};return o}(o),m.INTERNAL_VALUE_TYPE="string",m.OPERATOR_VALUE_TYPE_STATIC="static",m))||f);y=g;return y},false);
//# sourceMappingURL=Value.js.map