{"version":3,"names":["QuickView","valueDataModelPath","metaPath","contextPath","semanticObject","computePropertiesAndPayload","_exports","getRelativePathToQuickViewEntity","propertyDataModelPath","relativePathToQuickViewEntity","quickViewNavProp","getNavPropToQuickViewEntity","navigationProperties","reduce","relativPath","navProp","name","contextLocation","find","contextNavProp","getSemanticObjectMappingsForPayload","propertyWithSemanticObject","qualifierMap","semanticObjectMappings","undefined","semanticObjectMapping","getSemanticObjectMappings","correspondingSemanticObject","qualifier","push","items","map","semanticObjectMappingType","$Type","Error","key","LocalProperty","value","SemanticObjectProperty","valueOf","getSemanticObjectUnavailableActionsForPayload","semanticObjectUnavailableActions","unavailableActionAnnotation","getSemanticObjectUnavailableActions","actions","unavailableAction","addCustomSemanticObjectToSemanticObjectListForPayload","semanticObjectsList","customSemanticObject","splice","length","startsWith","includes","JSON","parse","property","targetObject","targetEntityType","referentialConstraint","some","sourceProperty","targetType","annotations","UI","QuickViewFacets","targetEntitySet","semanticKeys","Common","SemanticKey","isPropertySemanticKey","semanticKey","$target","lastNavProp","isKey","_proto","prototype","valueProperty","isProperty","hasQuickViewFacets","isUsedInNavigationWithQuickViewFacets","absoluteContextPath","endsWith","slice","quickViewEntity","navigationPath","compileExpression","pathInModel","getPropertyWithSemanticObject","getSemanticObjectsAndQualifierMap","propertyPathLabel","Label","qualifiers","Object","fromEntries","entries","_ref","qualifierKey","payload","semanticObjects","entityType","dataField","contact","dataFieldPropPath","getContextRelativeTargetObjectPath","createContent","delegateConfiguration","customData","getAllCustomData","_jsx","MdcLink","delegate","children","getCustomDataForSemanticObject","dynamicPathWithRelativeLocation","indexOfQualifier","getDynamicPathFromSemanticObject","keys","CustomData","relativeLocation","getRelativePaths","dynamicPathFromSemanticObject","values","findIndex","semanticObjectFromQualifier","item","customDataForSemanticObject"],"sourceRoot":".","sources":["QuickView.tsx"],"sourcesContent":["import type { AnnotationTerm, NavigationProperty, Property } from \"@sap-ux/vocabularies-types\";\nimport type * as Edm from \"@sap-ux/vocabularies-types/Edm\";\nimport type { CommonAnnotationTerms } from \"@sap-ux/vocabularies-types/vocabularies/Common\";\nimport { CommonAnnotationTypes } from \"@sap-ux/vocabularies-types/vocabularies/Common\";\nimport { compileExpression, pathInModel, type CompiledBindingToolkitExpression } from \"sap/fe/base/BindingToolkit\";\nimport { isProperty } from \"sap/fe/core/helpers/TypeGuards\";\nimport { getContextRelativeTargetObjectPath, getRelativePaths, type DataModelObjectPath } from \"sap/fe/core/templating/DataModelPathHelper\";\nimport {\n\tgetDynamicPathFromSemanticObject,\n\tgetPropertyWithSemanticObject,\n\tgetSemanticObjectMappings,\n\tgetSemanticObjectUnavailableActions,\n\tgetSemanticObjectsAndQualifierMap\n} from \"sap/fe/core/templating/SemanticObjectHelper\";\nimport { isUsedInNavigationWithQuickViewFacets } from \"sap/fe/macros/field/FieldTemplating\";\nimport type {\n\tLinkDelegatePayload,\n\tRegisteredSemanticObjectMapping,\n\tRegisteredSemanticObjectUnavailableAction\n} from \"sap/fe/macros/quickView/QuickViewDelegate\";\nimport CustomData from \"sap/ui/core/CustomData\";\nimport MdcLink from \"sap/ui/mdc/Link\";\n\nexport default class QuickView {\n\tpublic metaPath!: string;\n\n\tpublic contextPath!: string;\n\n\t/**\n\t * Custom semantic object\n\t */\n\tpublic semanticObject?: string;\n\n\tpublic valueDataModelPath!: DataModelObjectPath<Property>;\n\n\tprivate payload!: LinkDelegatePayload;\n\n\tprivate qualifierMap!: Record<string, CompiledBindingToolkitExpression>;\n\n\tconstructor(valueDataModelPath: DataModelObjectPath<Property>, metaPath: string, contextPath: string, semanticObject?: string) {\n\t\tthis.valueDataModelPath = valueDataModelPath;\n\t\tthis.metaPath = metaPath;\n\t\tthis.contextPath = contextPath;\n\t\tthis.semanticObject = semanticObject;\n\t\tthis.computePropertiesAndPayload();\n\t}\n\n\t/**\n\t * Get the relative path to the entity which quick view Facets we want to display.\n\t * @param propertyDataModelPath\n\t * @returns A path if it exists.\n\t */\n\tstatic getRelativePathToQuickViewEntity(propertyDataModelPath: DataModelObjectPath<Property>): string | undefined {\n\t\tlet relativePathToQuickViewEntity: string | undefined;\n\t\tconst quickViewNavProp = this.getNavPropToQuickViewEntity(propertyDataModelPath);\n\t\tif (quickViewNavProp) {\n\t\t\trelativePathToQuickViewEntity = propertyDataModelPath.navigationProperties.reduce((relativPath: string, navProp) => {\n\t\t\t\tif (\n\t\t\t\t\tnavProp.name !== quickViewNavProp.name &&\n\t\t\t\t\t!propertyDataModelPath.contextLocation?.navigationProperties.find(\n\t\t\t\t\t\t(contextNavProp) => contextNavProp.name === navProp.name\n\t\t\t\t\t)\n\t\t\t\t) {\n\t\t\t\t\t// we keep only navProperties that are part of the relativePath and not the one for quickViewNavProp\n\t\t\t\t\treturn `${relativPath}${navProp.name}/`;\n\t\t\t\t}\n\t\t\t\treturn relativPath;\n\t\t\t}, \"\");\n\t\t\trelativePathToQuickViewEntity = `${relativePathToQuickViewEntity}${quickViewNavProp.name}`;\n\t\t}\n\t\treturn relativePathToQuickViewEntity;\n\t}\n\n\t/**\n\t * Get the semanticObjectMappings from metadata in the payload expected structure.\n\t * @param propertyWithSemanticObject\n\t * @param qualifierMap\n\t * @returns A payload structure for semanticObjectMappings\n\t */\n\tstatic getSemanticObjectMappingsForPayload(\n\t\tpropertyWithSemanticObject: Property | NavigationProperty | undefined,\n\t\tqualifierMap: Record<string, CompiledBindingToolkitExpression>\n\t): RegisteredSemanticObjectMapping[] {\n\t\tconst semanticObjectMappings: RegisteredSemanticObjectMapping[] = [];\n\t\tif (propertyWithSemanticObject !== undefined) {\n\t\t\tfor (const semanticObjectMapping of getSemanticObjectMappings(propertyWithSemanticObject)) {\n\t\t\t\tconst correspondingSemanticObject = qualifierMap[semanticObjectMapping.qualifier || \"\"];\n\t\t\t\tif (correspondingSemanticObject) {\n\t\t\t\t\tsemanticObjectMappings.push({\n\t\t\t\t\t\tsemanticObject: correspondingSemanticObject,\n\t\t\t\t\t\titems: semanticObjectMapping.map((semanticObjectMappingType) => {\n\t\t\t\t\t\t\tswitch (semanticObjectMappingType.$Type) {\n\t\t\t\t\t\t\t\tcase CommonAnnotationTypes.SemanticObjectMappingConstant:\n\t\t\t\t\t\t\t\t\tthrow new Error(\"Using SemanticObjectMappingConstant is not supported.\");\n\t\t\t\t\t\t\t\tcase CommonAnnotationTypes.SemanticObjectMappingType:\n\t\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\t\t\tkey: semanticObjectMappingType.LocalProperty.value,\n\t\t\t\t\t\t\t\t\t\tvalue: semanticObjectMappingType.SemanticObjectProperty.valueOf()\n\t\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn semanticObjectMappings;\n\t}\n\n\t/**\n\t * Get the semanticObjectUnavailableActions from metadata in the payload expected structure.\n\t * @param propertyWithSemanticObject\n\t * @param qualifierMap\n\t * @returns A payload structure for semanticObjectUnavailableActions\n\t */\n\tstatic getSemanticObjectUnavailableActionsForPayload(\n\t\tpropertyWithSemanticObject: Property | NavigationProperty | undefined,\n\t\tqualifierMap: Record<string, CompiledBindingToolkitExpression>\n\t): RegisteredSemanticObjectUnavailableAction[] {\n\t\tconst semanticObjectUnavailableActions: RegisteredSemanticObjectUnavailableAction[] = [];\n\t\tif (propertyWithSemanticObject !== undefined) {\n\t\t\tfor (const unavailableActionAnnotation of getSemanticObjectUnavailableActions(propertyWithSemanticObject) as ({\n\t\t\t\tterm: CommonAnnotationTerms.SemanticObjectUnavailableActions;\n\t\t\t} & AnnotationTerm<Edm.String[]>)[]) {\n\t\t\t\tconst correspondingSemanticObject = qualifierMap[unavailableActionAnnotation.qualifier || \"\"];\n\t\t\t\tif (correspondingSemanticObject) {\n\t\t\t\t\tsemanticObjectUnavailableActions.push({\n\t\t\t\t\t\tsemanticObject: correspondingSemanticObject,\n\t\t\t\t\t\tactions: unavailableActionAnnotation.map((unavailableAction) => unavailableAction as string)\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn semanticObjectUnavailableActions;\n\t}\n\n\t/**\n\t * Add customObject(s) to the semanticObject list for the payload if it exists.\n\t * @param semanticObjectsList List of actual semantic objects\n\t * @param customSemanticObject Semantic object defined in the property 'semanticObject' of the macro field block\n\t * @param qualifierMap Map of semantic object qualifiers from annotations\n\t */\n\tstatic addCustomSemanticObjectToSemanticObjectListForPayload(\n\t\tsemanticObjectsList: string[],\n\t\tcustomSemanticObject: string | undefined,\n\t\tqualifierMap: Record<string, CompiledBindingToolkitExpression>\n\t): void {\n\t\tif (customSemanticObject) {\n\t\t\tsemanticObjectsList.splice(0, semanticObjectsList.length);\n\t\t\t// the custom semantic objects are either a single string/key to custom data or a stringified array\n\t\t\tif (!customSemanticObject.startsWith(\"[\")) {\n\t\t\t\t// customSemanticObject = \"semanticObject\" | \"{pathInModel} | {formatter...}\"\n\t\t\t\tif (!semanticObjectsList.includes(customSemanticObject)) {\n\t\t\t\t\tsemanticObjectsList.push(customSemanticObject);\n\t\t\t\t\tqualifierMap[\"undefined\"] = customSemanticObject;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// customSemanticObject = '[\"semanticObject1\",\"semanticObject2\"]'\n\t\t\t\tfor (const semanticObject of JSON.parse(customSemanticObject) as string[]) {\n\t\t\t\t\tif (!semanticObjectsList.includes(semanticObject)) {\n\t\t\t\t\t\tsemanticObjectsList.push(semanticObject);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Get the navigationProperty to an entity with QuickViewFacets that can be linked to the property.\n\t * @param propertyDataModelPath\n\t * @returns A navigation property if it exists.\n\t */\n\tstatic getNavPropToQuickViewEntity(propertyDataModelPath: DataModelObjectPath<Property>): NavigationProperty | undefined {\n\t\t//TODO we should investigate to put this code as common with FieldTemplating.isUsedInNavigationWithQuickViewFacets\n\t\tconst property = propertyDataModelPath.targetObject as Property;\n\t\tconst navigationProperties = propertyDataModelPath.targetEntityType.navigationProperties;\n\t\tlet quickViewNavProp = navigationProperties.find((navProp: NavigationProperty) => {\n\t\t\treturn navProp.referentialConstraint.some((referentialConstraint) => {\n\t\t\t\treturn referentialConstraint.sourceProperty === property.name && navProp.targetType.annotations.UI?.QuickViewFacets;\n\t\t\t});\n\t\t});\n\t\tif (!quickViewNavProp && propertyDataModelPath.contextLocation?.targetEntitySet !== propertyDataModelPath.targetEntitySet) {\n\t\t\tconst semanticKeys = propertyDataModelPath.targetEntityType.annotations.Common?.SemanticKey || [];\n\t\t\tconst isPropertySemanticKey = semanticKeys.some((semanticKey) => semanticKey.$target === property);\n\t\t\tconst lastNavProp = propertyDataModelPath.navigationProperties[propertyDataModelPath.navigationProperties.length - 1];\n\t\t\tif ((isPropertySemanticKey || property.isKey) && propertyDataModelPath.targetEntityType.annotations.UI?.QuickViewFacets) {\n\t\t\t\tquickViewNavProp = lastNavProp as unknown as NavigationProperty;\n\t\t\t}\n\t\t}\n\t\treturn quickViewNavProp;\n\t}\n\n\t/**\n\t * Compute the properties and payload for the QuickView.\n\t */\n\tcomputePropertiesAndPayload(): void {\n\t\tconst valueProperty = isProperty(this.valueDataModelPath.targetObject) ? this.valueDataModelPath.targetObject : undefined;\n\t\tconst hasQuickViewFacets =\n\t\t\tvalueProperty && isUsedInNavigationWithQuickViewFacets(this.valueDataModelPath, valueProperty) ? \"true\" : \"false\";\n\n\t\tconst relativePathToQuickViewEntity = QuickView.getRelativePathToQuickViewEntity(this.valueDataModelPath);\n\t\tlet absoluteContextPath = this.contextPath;\n\t\tabsoluteContextPath = absoluteContextPath.endsWith(\"/\") ? absoluteContextPath.slice(0, -1) : absoluteContextPath;\n\t\tconst quickViewEntity = relativePathToQuickViewEntity ? `${absoluteContextPath}/${relativePathToQuickViewEntity}` : undefined;\n\t\tconst navigationPath = relativePathToQuickViewEntity ? compileExpression(pathInModel(relativePathToQuickViewEntity)) : undefined;\n\n\t\tconst propertyWithSemanticObject = getPropertyWithSemanticObject(this.valueDataModelPath);\n\t\tconst { semanticObjectsList, qualifierMap } = getSemanticObjectsAndQualifierMap(propertyWithSemanticObject);\n\t\tconst semanticObjectMappings = QuickView.getSemanticObjectMappingsForPayload(propertyWithSemanticObject, qualifierMap);\n\t\tconst semanticObjectUnavailableActions = QuickView.getSemanticObjectUnavailableActionsForPayload(\n\t\t\tpropertyWithSemanticObject,\n\t\t\tqualifierMap\n\t\t);\n\t\tQuickView.addCustomSemanticObjectToSemanticObjectListForPayload(semanticObjectsList, this.semanticObject, qualifierMap);\n\t\tconst propertyPathLabel = (valueProperty?.annotations.Common?.Label?.valueOf() as string) || \"\";\n\n\t\tconst qualifiers = Object.fromEntries(\n\t\t\tObject.entries(qualifierMap).map(([key, value]) => {\n\t\t\t\tconst qualifierKey = key === \"\" ? \"SemanticObject\" : `SemanticObject#${key}`;\n\t\t\t\treturn [qualifierKey, value];\n\t\t\t})\n\t\t);\n\t\tthis.qualifierMap = qualifierMap;\n\t\tthis.payload = {\n\t\t\tsemanticObjects: semanticObjectsList,\n\t\t\tentityType: quickViewEntity,\n\t\t\tsemanticObjectUnavailableActions: semanticObjectUnavailableActions,\n\t\t\tsemanticObjectMappings: semanticObjectMappings,\n\t\t\tpropertyPathLabel: propertyPathLabel,\n\t\t\tcontextPath: this.contextPath,\n\t\t\tdataField: quickViewEntity === undefined ? this.metaPath : undefined,\n\t\t\tcontact: undefined,\n\t\t\tdataFieldPropPath: getContextRelativeTargetObjectPath(this.valueDataModelPath),\n\t\t\tnavigationPath: navigationPath,\n\t\t\thasQuickViewFacets: hasQuickViewFacets,\n\t\t\tqualifiers: qualifiers\n\t\t};\n\t}\n\n\t/**\n\t * Create the content for the QuickView.\n\t * @returns The control definition.\n\t */\n\tpublic createContent(): MdcLink | string {\n\t\tconst delegateConfiguration = {\n\t\t\tname: \"sap/fe/macros/quickView/QuickViewDelegate\",\n\t\t\tpayload: this.payload\n\t\t};\n\t\tconst customData = this.getAllCustomData(this.payload.semanticObjects, this.valueDataModelPath);\n\t\treturn <MdcLink delegate={delegateConfiguration}>{customData.length ? { customData: customData } : {}}</MdcLink>;\n\t}\n\n\t/**\n\t * Prepare the custom data information for the mdc link control.\n\t * @param dynamicPathWithRelativeLocation The complied expression of the semantic object\n\t * @param indexOfQualifier The index of the qualifier map\n\t * @returns The custom data node updated.\n\t */\n\tgetCustomDataForSemanticObject(dynamicPathWithRelativeLocation: string, indexOfQualifier: number): CustomData | undefined {\n\t\tif (getDynamicPathFromSemanticObject(dynamicPathWithRelativeLocation)) {\n\t\t\tconst qualifier =\n\t\t\t\tObject.keys(this.qualifierMap)[indexOfQualifier] === \"\" ? \"\" : `#${Object.keys(this.qualifierMap)[indexOfQualifier]}`;\n\t\t\tconst key = `SemanticObject${qualifier}`;\n\t\t\treturn <CustomData key={key} value={dynamicPathWithRelativeLocation} />;\n\t\t}\n\t\treturn;\n\t}\n\n\t/**\n\t * Get all custom data for the semantic objects.\n\t * @param semanticObjects The list of semantic objects\n\t * @param valueDataModelPath The data model path of the property\n\t * @returns The custom data.\n\t */\n\n\tgetAllCustomData(semanticObjects: string[], valueDataModelPath: DataModelObjectPath<Property> | undefined): CustomData[] {\n\t\tconst customData = [];\n\t\tlet indexOfQualifier = 0;\n\t\tconst relativeLocation = valueDataModelPath && getRelativePaths(valueDataModelPath);\n\n\t\tfor (const semanticObject of semanticObjects) {\n\t\t\tconst dynamicPathFromSemanticObject = getDynamicPathFromSemanticObject(semanticObject);\n\t\t\tlet dynamicPathWithRelativeLocation;\n\t\t\tif (dynamicPathFromSemanticObject) {\n\t\t\t\tindexOfQualifier = Object.values(this.qualifierMap).findIndex(\n\t\t\t\t\t(semanticObjectFromQualifier) => semanticObjectFromQualifier === semanticObject\n\t\t\t\t);\n\t\t\t\tif (semanticObject.startsWith(\"{=\") || semanticObject.startsWith(\"{$componentState>\")) {\n\t\t\t\t\t// This a complex semantic object or a binding on another model, we do not manipulate the expression binding.\n\t\t\t\t\tdynamicPathWithRelativeLocation = semanticObject;\n\t\t\t\t} else {\n\t\t\t\t\tdynamicPathWithRelativeLocation = compileExpression(\n\t\t\t\t\t\tpathInModel(dynamicPathFromSemanticObject, undefined, relativeLocation)\n\t\t\t\t\t);\n\t\t\t\t\tfor (const item of Object.keys(this.qualifierMap)) {\n\t\t\t\t\t\tif (this.qualifierMap[item] === semanticObject) {\n\t\t\t\t\t\t\tthis.qualifierMap[item] = dynamicPathWithRelativeLocation;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tconst customDataForSemanticObject = this.getCustomDataForSemanticObject(\n\t\t\t\t\tdynamicPathWithRelativeLocation ? dynamicPathWithRelativeLocation : \"\",\n\t\t\t\t\tindexOfQualifier\n\t\t\t\t);\n\t\t\t\tif (customDataForSemanticObject) {\n\t\t\t\t\tcustomData.push(customDataForSemanticObject);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn customData;\n\t}\n}\n"],"mappings":"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","ignoreList":[],"file":"QuickView-dbg.js"}