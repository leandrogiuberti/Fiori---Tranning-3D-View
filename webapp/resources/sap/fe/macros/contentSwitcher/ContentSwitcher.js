/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.define(["sap/fe/base/BindingToolkit","sap/fe/base/ClassSupport","sap/fe/controls/easyFilter/PXFeedback","sap/fe/core/buildingBlocks/BuildingBlock","sap/m/SegmentedButton","sap/m/SegmentedButtonItem","sap/ui/core/Element","sap/fe/base/jsx-runtime/jsx"],function(e,t,r,i,n,o,s,a){"use strict";var l,c,u,f,p,d,y,m,b,g,h,v,S;var w={};var _=r.triggerPXIntegration;var C=t.property;var K=t.implementInterface;var I=t.event;var k=t.defineUI5Class;var z=t.defineReference;var B=t.aggregation;var x=e.bindState;function P(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function j(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,O(e,t)}function O(e,t){return O=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},O(e,t)}function E(e,t,r,i,n){var o={};return Object.keys(i).forEach(function(e){o[e]=i[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer?(Object.defineProperty(e,t,o),null):o}function V(e,t){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let $=(l=k("sap.fe.macros.contentSwitcher.ContentSwitcher"),c=K("sap.fe.core.controllerextensions.viewState.IViewStateContributor"),u=B({type:"sap.fe.macros.contentSwitcher.ContentSwitcherItem",multiple:true,isDefault:true}),f=I(),p=z(),d=C({type:"string",bindToState:true}),l(y=(m=function(e){function t(t,r){var i;i=e.call(this,t,r)||this;P(i,"__implements__sap_fe_core_controllerextensions_viewState_IViewStateContributor",b,i);P(i,"items",g,i);P(i,"selectionChange",h,i);P(i,"$segmentedButton",v,i);P(i,"selectedKey",S,i);i.currentKey="";i.content=i.createContent();i.currentKey=i.retrieveState().selectedKey;if(i.state.selectedKey){i.onStateChange(["selectedKey"])}else{i.state.selectedKey="key0"}return i}w=t;j(t,e);var r=t.prototype;r.retrieveState=function e(){return{selectedKey:this.$segmentedButton.current?.getSelectedKey()}};r.applyState=function e(t){if(t){this.state.selectedKey=t.selectedKey??this.items[0]?.key??"key0"}};r._getControlFromItem=function e(t){const r=t.controlToSwitch;if(r){const e=s.getElementById(r);if(e?.isA("sap.ui.core.Control")){return e}}};r.showHideControls=function e(t){const r=[];const i=[];for(const e of this.items){const n=this._getControlFromItem(e);if(n&&e.key!==t){r.push(n)}else if(n){i.push(n)}}for(const e of r){if(!i.includes(e)){e.setVisible(false)}}for(const e of i){e.setVisible(true)}};r.onStateChange=function e(t){if(t?.includes("selectedKey")){this.showHideControls(this.state.selectedKey);this.getPageController()?.getExtensionAPI().updateAppState();if(this.currentKey==="ai"&&this.state.selectedKey==="compact"){_("toggleSwitch")}this.currentKey=this.state.selectedKey;this.fireEvent("selectionChange")}};r.createContent=function e(){const t=this.createId("filterTypeSwitch");return a(n,{ref:this.$segmentedButton,id:t,selectedKey:x(this.state,"selectedKey"),children:{items:this.items.map((e,t)=>this.createSegmentedButtonItem(e,t))}})};r.createSegmentedButtonItem=function e(t,r){const i=this.createId(t.key);t.key??=`key${r}`;if(t.icon){return a(o,{icon:t.icon,tooltip:t.text,id:i},t.key)}return a(o,{text:t.text,id:i},t.key)};return t}(i),b=E(m.prototype,"__implements__sap_fe_core_controllerextensions_viewState_IViewStateContributor",[c],{configurable:true,enumerable:true,writable:true,initializer:function(){return true}}),g=E(m.prototype,"items",[u],{configurable:true,enumerable:true,writable:true,initializer:null}),h=E(m.prototype,"selectionChange",[f],{configurable:true,enumerable:true,writable:true,initializer:null}),v=E(m.prototype,"$segmentedButton",[p],{configurable:true,enumerable:true,writable:true,initializer:null}),S=E(m.prototype,"selectedKey",[d],{configurable:true,enumerable:true,writable:true,initializer:null}),m))||y);w=$;return w},false);
//# sourceMappingURL=ContentSwitcher.js.map