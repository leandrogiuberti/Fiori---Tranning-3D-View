{"version":3,"file":"Page.js","names":["Page","_dec","defineUI5Class","_dec2","aggregation","type","multiple","isDefault","_dec3","_dec4","property","_dec5","_dec6","_dec7","_class","_class2","_BuildingBlock","idOrSettings","settings","_this","call","this","_initializerDefineProperty","_descriptor","_descriptor2","_descriptor3","_descriptor4","_descriptor5","_descriptor6","_exports","_inheritsLoose","_proto","prototype","onMetadataAvailable","content","createContent","createAvatar","isExpanded","avatarSrc","_jsx","Avatar","class","src","displayShape","AvatarShape","Square","displaySize","AvatarSize","XL","S","createTitle","Title","text","title","createDescription","Label","description","getTitlePart","FlexBox","direction","children","items","ObjectTitle","getShareAction","Share","id","createId","shareOptions","ShareOptions","showSendEmail","showCollaborationManager","msTeamsOptions","MsTeamsOptions","enableCard","DynamicPage","DynamicPageTitle","expandedHeading","snappedHeading","renderType","actions","concat","header","DynamicPageHeader","map","item","addStyleClass","dependents","CommandExecution","execute","oContext","getBindingContext","oModel","getModel","BusyLocker","lock","getPageController","editFlow","editDocument","finally","unlock","enabled","visible","command","BuildingBlock","_applyDecoratedDescriptor","configurable","enumerable","writable","initializer"],"sources":["./Page.tsx"],"sourcesContent":["import DynamicPage from \"sap/f/DynamicPage\";\nimport DynamicPageHeader from \"sap/f/DynamicPageHeader\";\nimport DynamicPageTitle from \"sap/f/DynamicPageTitle\";\nimport type { PropertiesOf } from \"sap/fe/base/ClassSupport\";\nimport { aggregation, defineUI5Class, property } from \"sap/fe/base/ClassSupport\";\nimport BuildingBlock from \"sap/fe/core/buildingBlocks/BuildingBlock\";\nimport BusyLocker from \"sap/fe/core/controllerextensions/BusyLocker\";\nimport CommandExecution from \"sap/fe/core/controls/CommandExecution\";\nimport ObjectTitle from \"sap/fe/macros/ObjectTitle\";\nimport Share from \"sap/fe/macros/Share\";\nimport ShareOptions from \"sap/fe/macros/share/ShareOptions\";\nimport Avatar from \"sap/m/Avatar\";\nimport AvatarShape from \"sap/m/AvatarShape\";\nimport AvatarSize from \"sap/m/AvatarSize\";\nimport FlexBox from \"sap/m/FlexBox\";\nimport Label from \"sap/m/Label\";\nimport Title from \"sap/m/Title\";\nimport type Control from \"sap/ui/core/Control\";\nimport type Context from \"sap/ui/model/odata/v4/Context\";\nimport MsTeamsOptions from \"./share/MsTeamsOptions\";\n\n/**\n * Building block used to create a custom page with a title and the content. By default, the page includes a title.\n * @public\n */\n@defineUI5Class(\"sap.fe.macros.Page\")\nexport default class Page extends BuildingBlock {\n\t/**\n\t * Content(s) of the page\n\t * @public\n\t */\n\t@aggregation({ type: \"sap.ui.core.Control\", multiple: true, isDefault: true })\n\titems!: Control[];\n\n\t/**\n\t * @private\n\t */\n\t@aggregation({ type: \"sap.ui.core.Control\", multiple: true })\n\tactions!: Control[];\n\n\t/**\n\t * Title of the page. If no title is provided, the title, avatar, and description are derived from the unqualified HeaderInfo annotation associated with the entity.\n\t * @public\n\t */\n\t@property({ type: \"string\" })\n\ttitle?: string;\n\n\t/**\n\t * @private\n\t */\n\t@property({ type: \"boolean\" })\n\teditable = false;\n\n\t/**\n\t * Provides additional details of the page. This property is considered only if the title property is defined.\n\t * @public\n\t */\n\t@property({ type: \"string\" })\n\tdescription?: string;\n\n\t/**\n\t * Source of the avatar image. This property is considered only if the title property is defined.\n\t * @public\n\t */\n\t@property({ type: \"string\" })\n\tavatarSrc?: string;\n\n\tconstructor(idOrSettings: string);\n\n\tconstructor(idOrSettings: PropertiesOf<Page>);\n\n\tconstructor(idOrSettings: string | PropertiesOf<Page>, settings?: PropertiesOf<Page>) {\n\t\tsuper(idOrSettings, settings);\n\t}\n\n\tonMetadataAvailable(): void {\n\t\tthis.content = this.createContent();\n\t}\n\n\tprivate createAvatar(isExpanded: boolean): Avatar | undefined {\n\t\tif (this.avatarSrc) {\n\t\t\treturn (\n\t\t\t\t<Avatar\n\t\t\t\t\tclass=\"sapUiSmallMarginEnd\"\n\t\t\t\t\tsrc={this.avatarSrc}\n\t\t\t\t\tdisplayShape={AvatarShape.Square}\n\t\t\t\t\tdisplaySize={isExpanded ? AvatarSize.XL : AvatarSize.S}\n\t\t\t\t/>\n\t\t\t);\n\t\t}\n\t}\n\n\tprivate createTitle(): Title {\n\t\treturn <Title text={this.title} />;\n\t}\n\n\tprivate createDescription(): Label {\n\t\treturn <Label text={this.description} />;\n\t}\n\n\tprivate getTitlePart(): FlexBox | ObjectTitle {\n\t\tif (this.title && this.description) {\n\t\t\treturn <FlexBox direction=\"Column\">{{ items: [this.createTitle(), this.createDescription()] }}</FlexBox>;\n\t\t} else if (this.title) {\n\t\t\treturn <FlexBox direction=\"Column\">{{ items: [this.createTitle()] }}</FlexBox>;\n\t\t} else {\n\t\t\treturn <ObjectTitle />;\n\t\t}\n\t}\n\n\t/**\n\t * Returns the Share action with share options.\n\t * @returns {Control} The Share action control\n\t */\n\tgetShareAction(): Control {\n\t\treturn (\n\t\t\t<Share id={this.createId(\"share\")}>\n\t\t\t\t{{\n\t\t\t\t\tshareOptions: <ShareOptions showSendEmail=\"true\" showCollaborationManager=\"true\" />,\n\t\t\t\t\tmsTeamsOptions: <MsTeamsOptions enableCard=\"false\" />\n\t\t\t\t}}\n\t\t\t</Share>\n\t\t);\n\t}\n\n\tprivate createContent(): DynamicPage {\n\t\treturn (\n\t\t\t<DynamicPage id={this.createId(\"page\")}>\n\t\t\t\t{{\n\t\t\t\t\ttitle: (\n\t\t\t\t\t\t<DynamicPageTitle id={this.createId(\"title\")}>\n\t\t\t\t\t\t\t{{\n\t\t\t\t\t\t\t\texpandedHeading: this.getTitlePart(),\n\t\t\t\t\t\t\t\tsnappedHeading: (\n\t\t\t\t\t\t\t\t\t<FlexBox renderType=\"Bare\">{{ items: [this.createAvatar(false), this.getTitlePart()] }}</FlexBox>\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\tactions: this.actions.concat(this.getShareAction())\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t</DynamicPageTitle>\n\t\t\t\t\t),\n\t\t\t\t\theader: <DynamicPageHeader>{this.createAvatar(true)}</DynamicPageHeader>,\n\t\t\t\t\tcontent: (\n\t\t\t\t\t\t<FlexBox id={this.createId(\"content\")} direction=\"Column\">\n\t\t\t\t\t\t\t{{\n\t\t\t\t\t\t\t\titems: this.items.map((item) => {\n\t\t\t\t\t\t\t\t\titem.addStyleClass(\"sapUiMediumMarginBottom\");\n\t\t\t\t\t\t\t\t\treturn item;\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t</FlexBox>\n\t\t\t\t\t),\n\t\t\t\t\tdependents: [\n\t\t\t\t\t\t<CommandExecution\n\t\t\t\t\t\t\texecute={(): void => {\n\t\t\t\t\t\t\t\tconst oContext = this.getBindingContext() as Context;\n\t\t\t\t\t\t\t\tconst oModel = this.getModel(\"ui\")!;\n\t\t\t\t\t\t\t\tBusyLocker.lock(oModel);\n\t\t\t\t\t\t\t\tthis.getPageController()\n\t\t\t\t\t\t\t\t\t?.editFlow?.editDocument(oContext)\n\t\t\t\t\t\t\t\t\t.finally(function () {\n\t\t\t\t\t\t\t\t\t\tBusyLocker.unlock(oModel);\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tenabled={true}\n\t\t\t\t\t\t\tvisible={true}\n\t\t\t\t\t\t\tcommand=\"Edit\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t]\n\t\t\t\t}}\n\t\t\t</DynamicPage>\n\t\t);\n\t}\n}\n"],"mappings":"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","ignoreList":[]}