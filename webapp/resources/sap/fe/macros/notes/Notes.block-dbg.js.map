{"version":3,"names":["NotesBuildingBlock","_dec","defineBuildingBlock","name","namespace","libraries","_dec2","blockAttribute","type","isPublic","required","_dec3","_class","_class2","_BuildingBlockTemplat","_this","_len","arguments","length","args","Array","_key","call","_initializerDefineProperty","_descriptor","_descriptor2","_exports","_inheritsLoose","load","metadata","Promise","all","map","libraryName","Library","e","errorMessage","join","Log","error","Error","resolve","_proto","prototype","getTemplate","xml","id","BuildingBlockTemplatingBase","_applyDecoratedDescriptor","configurable","enumerable","writable","initializer"],"sourceRoot":".","sources":["Notes.block.tsx"],"sourcesContent":["import Log from \"sap/base/Log\";\nimport { blockAttribute, defineBuildingBlock } from \"sap/fe/core/buildingBlocks/templating/BuildingBlockSupport\";\nimport { xml } from \"sap/fe/core/buildingBlocks/templating/BuildingBlockTemplateProcessor\";\nimport BuildingBlockTemplatingBase from \"sap/fe/core/buildingBlocks/templating/BuildingBlockTemplatingBase\";\nimport Library from \"sap/ui/core/Lib\";\nimport type Context from \"sap/ui/model/Context\";\n\n@defineBuildingBlock({\n\tname: \"Notes\",\n\tnamespace: \"sap.fe.macros\",\n\tlibraries: [\"sap/nw/core/gbt/notes/lib/reuse\"]\n})\nexport default class NotesBuildingBlock extends BuildingBlockTemplatingBase {\n\t/**\n\t * The 'id' property\n\t */\n\t@blockAttribute({ type: \"string\", isPublic: true, required: true })\n\tpublic id!: string;\n\n\t/**\n\t * The context path provided for the field\n\t */\n\t@blockAttribute({\n\t\ttype: \"sap.ui.model.Context\",\n\t\tisPublic: true,\n\t\trequired: true\n\t})\n\tpublic contextPath!: Context;\n\n\tprivate static async load(): Promise<typeof NotesBuildingBlock> {\n\t\tif (this.metadata.libraries) {\n\t\t\t// Required before usage to ensure the library is loaded and not each file individually\n\t\t\ttry {\n\t\t\t\tawait Promise.all(this.metadata.libraries.map(async (libraryName) => Library.load({ name: libraryName })));\n\t\t\t} catch (e) {\n\t\t\t\tconst errorMessage = `Couldn't load building block ${\n\t\t\t\t\tthis.metadata.name\n\t\t\t\t} please make sure the following libraries are available ${this.metadata.libraries.join(\",\")}`;\n\t\t\t\tLog.error(errorMessage);\n\t\t\t\tthrow new Error(errorMessage);\n\t\t\t}\n\t\t}\n\t\treturn Promise.resolve(this);\n\t}\n\n\tasync getTemplate(): Promise<string> {\n\t\t// Required before usage to ensure the library is loaded and not each file individually\n\t\ttry {\n\t\t\tawait NotesBuildingBlock.load();\n\t\t} catch (e) {\n\t\t\treturn xml`<m:Label text=\"${e as string}\"/>`;\n\t\t}\n\t\treturn xml`<fpm:CustomFragment xmlns:fpm=\"sap.fe.macros.fpm\" id=\"${this.id}\" contextPath=\"{contextPath>}\" fragmentName=\"sap.nw.core.gbt.notes.lib.reuse.fe.fragment.NoteList\"/>`;\n\t}\n}\n"],"mappings":"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","ignoreList":[],"file":"Notes.block-dbg.js"}