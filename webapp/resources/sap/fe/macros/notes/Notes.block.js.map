{"version":3,"file":"Notes.block.js","names":["NotesBuildingBlock","_dec","defineBuildingBlock","name","namespace","libraries","_dec2","blockAttribute","type","isPublic","required","_dec3","_class","_class2","_BuildingBlockTemplat","_this","_len","arguments","length","args","Array","_key","call","this","_initializerDefineProperty","_descriptor","_descriptor2","_exports","_inheritsLoose","load","async","metadata","Promise","all","map","Library","libraryName","e","errorMessage","join","Log","error","Error","resolve","_proto","prototype","getTemplate","xml","id","BuildingBlockTemplatingBase","_applyDecoratedDescriptor","configurable","enumerable","writable","initializer"],"sources":["./Notes.block.tsx"],"sourcesContent":["import Log from \"sap/base/Log\";\nimport { blockAttribute, defineBuildingBlock } from \"sap/fe/core/buildingBlocks/templating/BuildingBlockSupport\";\nimport { xml } from \"sap/fe/core/buildingBlocks/templating/BuildingBlockTemplateProcessor\";\nimport BuildingBlockTemplatingBase from \"sap/fe/core/buildingBlocks/templating/BuildingBlockTemplatingBase\";\nimport Library from \"sap/ui/core/Lib\";\nimport type Context from \"sap/ui/model/Context\";\n\n@defineBuildingBlock({\n\tname: \"Notes\",\n\tnamespace: \"sap.fe.macros\",\n\tlibraries: [\"sap/nw/core/gbt/notes/lib/reuse\"]\n})\nexport default class NotesBuildingBlock extends BuildingBlockTemplatingBase {\n\t/**\n\t * The 'id' property\n\t */\n\t@blockAttribute({ type: \"string\", isPublic: true, required: true })\n\tpublic id!: string;\n\n\t/**\n\t * The context path provided for the field\n\t */\n\t@blockAttribute({\n\t\ttype: \"sap.ui.model.Context\",\n\t\tisPublic: true,\n\t\trequired: true\n\t})\n\tpublic contextPath!: Context;\n\n\tprivate static async load(): Promise<typeof NotesBuildingBlock> {\n\t\tif (this.metadata.libraries) {\n\t\t\t// Required before usage to ensure the library is loaded and not each file individually\n\t\t\ttry {\n\t\t\t\tawait Promise.all(this.metadata.libraries.map(async (libraryName) => Library.load({ name: libraryName })));\n\t\t\t} catch (e) {\n\t\t\t\tconst errorMessage = `Couldn't load building block ${\n\t\t\t\t\tthis.metadata.name\n\t\t\t\t} please make sure the following libraries are available ${this.metadata.libraries.join(\",\")}`;\n\t\t\t\tLog.error(errorMessage);\n\t\t\t\tthrow new Error(errorMessage);\n\t\t\t}\n\t\t}\n\t\treturn Promise.resolve(this);\n\t}\n\n\tasync getTemplate(): Promise<string> {\n\t\t// Required before usage to ensure the library is loaded and not each file individually\n\t\ttry {\n\t\t\tawait NotesBuildingBlock.load();\n\t\t} catch (e) {\n\t\t\treturn xml`<m:Label text=\"${e as string}\"/>`;\n\t\t}\n\t\treturn xml`<fpm:CustomFragment xmlns:fpm=\"sap.fe.macros.fpm\" id=\"${this.id}\" contextPath=\"{contextPath>}\" fragmentName=\"sap.nw.core.gbt.notes.lib.reuse.fe.fragment.NoteList\"/>`;\n\t}\n}\n"],"mappings":";;;;4zCAYqBA,GAAkBC,EALtCC,EAAoB,CACpBC,KAAM,QACNC,UAAW,gBACXC,UAAW,CAAC,qCACXC,EAKAC,EAAe,CAAEC,KAAM,SAAUC,SAAU,KAAMC,SAAU,OAAOC,EAMlEJ,EAAe,CACfC,KAAM,uBACNC,SAAU,KACVC,SAAU,OACTT,EAAAW,GAAAC,EAAA,SAAAC,GAAA,SAAAd,IAAA,IAAAe,EAAA,QAAAC,EAAAC,UAAAC,OAAAC,EAAA,IAAAC,MAAAJ,GAAAK,EAAA,EAAAA,EAAAL,EAAAK,IAAA,CAAAF,EAAAE,GAAAJ,UAAAI,EAAA,CAAAN,EAAAD,EAAAQ,KAAAC,QAAAJ,IAAAI,KAbFC,EAAAT,EAAA,KAAAU,EAAAV,GAMAS,EAAAT,EAAA,cAAAW,EAAAX,GAAA,OAAAA,CAAA,CAAAY,EAAA3B,EAAA4B,EAAA5B,EAAAc,GAAAd,EAUqB6B,KAArBC,eAAqBD,IACpB,GAAIN,KAAKQ,SAAS1B,UAAW,CAE5B,UACO2B,QAAQC,IAAIV,KAAKQ,SAAS1B,UAAU6B,IAAIJ,SAAuBK,EAAQN,KAAK,CAAE1B,KAAMiC,KAC3F,CAAE,MAAOC,GACR,MAAMC,EAAe,gCACpBf,KAAKQ,SAAS5B,+DAC4CoB,KAAKQ,SAAS1B,UAAUkC,KAAK,OACxFC,EAAIC,MAAMH,GACV,MAAM,IAAII,MAAMJ,EACjB,CACD,CACA,OAAON,QAAQW,QAAQpB,KACxB,EAAC,IAAAqB,EAAA5C,EAAA6C,UAAAD,EAEKE,YAANhB,eAAMgB,IAEL,UACO9C,EAAmB6B,MAC1B,CAAE,MAAOQ,GACR,OAAOU,CAAG,kBAAkBV,MAC7B,CACA,OAAOU,CAAG,yDAAyDxB,KAAKyB,wGACzE,EAAC,OAAAhD,CAAA,CA3BC,CAd6CiD,GAA2BxB,EAAAyB,EAAArC,EAAAgC,UAAA,MAAAvC,GAAA,CAAA6C,aAAA,KAAAC,WAAA,KAAAC,SAAA,KAAAC,YAAA,OAAA5B,EAAAwB,EAAArC,EAAAgC,UAAA,eAAAlC,GAAA,CAAAwC,aAAA,KAAAC,WAAA,KAAAC,SAAA,KAAAC,YAAA,OAAAzC,KAAAD,GAAAe,EAAA3B,EAAA,OAAA2B,CAAA","ignoreList":[]}