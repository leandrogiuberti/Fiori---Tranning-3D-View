{"version":3,"names":["VisualFilterRuntime","selectionChanged","oEvent","oInteractiveChart","getSource","sOutParameter","data","sValueListProperty","sDimension","sDimensionText","bMultipleSelectionAllowed","sDimensionType","oSelectedAggregation","getParameter","bIsAggregationSelected","oConditionModel","getModel","aConditions","getProperty","Log","error","sSelectionChangedValue","getBindingContext","getObject","sSelectionChangedValueText","String","undefined","VisualFilterUtils","_parseDateTime","oCondition","Condition","createItemCondition","push","filter","operator","Date","parse","values","setProperty","getAggregationSelected","aSelectableValues","i","length","getParent","sDimensionValue","includes","getParentVisualFilterControlBB","potentialVisualFilter","isA","getFiltersFromConditions","_len","arguments","aArguments","Array","_key","oFilterBar","aInParameters","customData","bIsDraftSupported","aPropertyInfoSet","FilterUtils","getFilterPropertyInfo","mConditions","aValueListPropertyInfoSet","oFilters","aFilters","aParameters","oSelectionVariantAnnotation","oInteractiveChartListBinding","getBinding","sPath","getPath","oMetaModel","getMetaModel","sEntitySetPath","filterConditions","getFiltersConditionsFromSelectionVariant","getCustomConditions","bind","typeConfig","TypeMap","getTypeConfig","dataType","oSelectionVariantConditions","convertFilterCondions","Object","keys","forEach","sKey","inParameterForKey","find","inParameter","valueListProperty","localDataProperty","propertyInfoSet","name","baseType","condition","_formatDateTime","oInParameter","index","oInternalModelContext","sInfoPath","bEnableBinding","oResourceBundle","Library","getResourceBundleFor","aRequiredProperties","CommonHelper","parseCustomData","aNotMatchedConditions","requiredPropertyPath","errorMessageTitle","errorMessage","showError","getText","sLabel","sFilterEntityName","split","sChartEntityName","sBindingPath","getBindingPathForParameters","parameter","MdcFilterUtil","getFilterInfo","filters","e","debug","getFilters","Filter","FilterOperator","EQ","visualFilterBB","_setInternalUpdatePending","getFilterCounts","oConditions","scaleVisualFilterValue","oValue","scaleFactor","numberOfFractionalDigits","currency","oRawValue","getFormattedNumber","fireValueHelp","fireEvent","ObjectPath","set"],"sourceRoot":".","sources":["VisualFilterRuntime.ts"],"sourcesContent":["import type { SelectionVariantType } from \"@sap-ux/vocabularies-types/vocabularies/UI\";\nimport Log from \"sap/base/Log\";\nimport ObjectPath from \"sap/base/util/ObjectPath\";\nimport type { InternalModelContext } from \"sap/fe/core/helpers/ModelHelper\";\nimport CommonHelper from \"sap/fe/macros/CommonHelper\";\nimport VisualFilterUtils from \"sap/fe/macros/controls/filterbar/utils/VisualFilterUtils\";\nimport type { IFilterControl } from \"sap/fe/macros/filter/FilterUtils\";\nimport FilterUtils from \"sap/fe/macros/filter/FilterUtils\";\nimport { getFiltersConditionsFromSelectionVariant } from \"sap/fe/macros/filterBar/FilterHelper\";\nimport type { PropertyInfo } from \"sap/fe/macros/internal/PropertyInfo\";\nimport type VisualFilterBlock from \"sap/fe/macros/visualfilters/VisualFilter\";\nimport type { InteractiveBarChart$SelectionChangedEvent } from \"sap/suite/ui/microchart/InteractiveBarChart\";\nimport type { InteractiveDonutChart$SelectionChangedEvent } from \"sap/suite/ui/microchart/InteractiveDonutChart\";\nimport type { InteractiveLineChart$SelectionChangedEvent } from \"sap/suite/ui/microchart/InteractiveLineChart\";\nimport type UI5Event from \"sap/ui/base/Event\";\nimport type ManagedObject from \"sap/ui/base/ManagedObject\";\nimport type Control from \"sap/ui/core/Control\";\nimport Library from \"sap/ui/core/Lib\";\nimport type { ConditionObject } from \"sap/ui/mdc/condition/Condition\";\nimport Condition from \"sap/ui/mdc/condition/Condition\";\nimport TypeMap from \"sap/ui/mdc/odata/v4/TypeMap\";\nimport MdcFilterUtil from \"sap/ui/mdc/util/FilterUtil\";\nimport Filter from \"sap/ui/model/Filter\";\nimport FilterOperator from \"sap/ui/model/FilterOperator\";\nimport type JSONModel from \"sap/ui/model/json/JSONModel\";\nimport type ODataListBinding from \"sap/ui/model/odata/v4/ODataListBinding\";\nimport type ODataModel from \"sap/ui/model/odata/v4/ODataModel\";\nimport type { MetaModelType } from \"../../../../../../../types/metamodel_types\";\n\n/**\n * Static class used by Visual Filter during runtime\n * @private\n */\nconst VisualFilterRuntime = {\n\tselectionChanged(\n\t\toEvent:\n\t\t\t| UI5Event\n\t\t\t| InteractiveBarChart$SelectionChangedEvent\n\t\t\t| InteractiveLineChart$SelectionChangedEvent\n\t\t\t| InteractiveDonutChart$SelectionChangedEvent\n\t): void {\n\t\tconst oInteractiveChart: Control = (oEvent as UI5Event).getSource();\n\t\tconst sOutParameter = oInteractiveChart.data(\"outParameter\");\n\t\tconst sValueListProperty = oInteractiveChart.data(\"valuelistProperty\");\n\t\tconst sDimension = oInteractiveChart.data(\"dimension\");\n\t\tconst sDimensionText = oInteractiveChart.data(\"dimensionText\");\n\t\tconst bMultipleSelectionAllowed = oInteractiveChart.data(\"multipleSelectionAllowed\");\n\t\tconst sDimensionType = oInteractiveChart.data(\"dimensionType\");\n\t\tconst oSelectedAggregation =\n\t\t\t(oEvent as InteractiveBarChart$SelectionChangedEvent).getParameter(\"bar\") ||\n\t\t\t(oEvent as InteractiveLineChart$SelectionChangedEvent).getParameter(\"point\") ||\n\t\t\t(oEvent as InteractiveDonutChart$SelectionChangedEvent).getParameter(\"segment\");\n\t\tconst bIsAggregationSelected = (oEvent as InteractiveBarChart$SelectionChangedEvent).getParameter(\"selected\");\n\t\tconst oConditionModel = oInteractiveChart.getModel(\"$field\") as JSONModel;\n\t\tlet aConditions = oConditionModel.getProperty(\"/conditions\");\n\n\t\tif (!sOutParameter || sValueListProperty !== sDimension) {\n\t\t\tLog.error(\"VisualFilter: Cannot sync values with regular filter as out parameter is not configured properly!\");\n\t\t} else {\n\t\t\tlet sSelectionChangedValue = oSelectedAggregation?.getBindingContext()?.getObject(sValueListProperty);\n\t\t\tif (sSelectionChangedValue) {\n\t\t\t\tlet sSelectionChangedValueText = oSelectedAggregation?.getBindingContext()?.getObject(sDimensionText);\n\t\t\t\tif (typeof sSelectionChangedValueText !== \"string\" && !(sSelectionChangedValueText instanceof String)) {\n\t\t\t\t\tsSelectionChangedValueText = undefined;\n\t\t\t\t}\n\t\t\t\t// if selection has been done on the aggregation then add to conditions\n\t\t\t\tif (bIsAggregationSelected) {\n\t\t\t\t\tif (bMultipleSelectionAllowed === false) {\n\t\t\t\t\t\taConditions = [];\n\t\t\t\t\t}\n\t\t\t\t\tif (sDimensionType === \"Edm.DateTimeOffset\") {\n\t\t\t\t\t\tsSelectionChangedValue = VisualFilterUtils._parseDateTime(sSelectionChangedValue);\n\t\t\t\t\t}\n\t\t\t\t\tconst oCondition = Condition.createItemCondition(\n\t\t\t\t\t\tsSelectionChangedValue,\n\t\t\t\t\t\tsSelectionChangedValueText || undefined,\n\t\t\t\t\t\t{},\n\t\t\t\t\t\t{}\n\t\t\t\t\t);\n\t\t\t\t\taConditions.push(oCondition);\n\t\t\t\t} else {\n\t\t\t\t\t// because selection was removed on the aggregation hence remove this from conditions\n\t\t\t\t\taConditions = aConditions.filter(function (oCondition: ConditionObject) {\n\t\t\t\t\t\tif (sDimensionType === \"Edm.DateTimeOffset\") {\n\t\t\t\t\t\t\treturn oCondition.operator !== \"EQ\" || Date.parse(oCondition.values[0]) !== Date.parse(sSelectionChangedValue);\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn oCondition.operator !== \"EQ\" || oCondition.values[0] !== sSelectionChangedValue;\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\toConditionModel.setProperty(\"/conditions\", aConditions);\n\t\t\t} else {\n\t\t\t\tLog.error(\"VisualFilter: No vaue found for the outParameter\");\n\t\t\t}\n\t\t}\n\t},\n\t// THIS IS A FORMATTER\n\tgetAggregationSelected(this: ManagedObject, aConditions: ConditionObject[]): boolean | undefined {\n\t\tlet aSelectableValues = [];\n\t\tif (!this.getBindingContext()) {\n\t\t\treturn;\n\t\t}\n\t\tfor (let i = 0; i <= aConditions.length - 1; i++) {\n\t\t\tconst oCondition = aConditions[i];\n\t\t\t// 1. get conditions with EQ operator (since visual filter can only deal with EQ operators) and get their values\n\t\t\tif (oCondition.operator === \"EQ\") {\n\t\t\t\taSelectableValues.push(oCondition.values[0]);\n\t\t\t}\n\t\t}\n\n\t\t// access the interactive chart from the control.\n\t\tconst oInteractiveChart = this.getParent() as Control;\n\t\tconst sDimension = oInteractiveChart.data(\"dimension\");\n\t\tconst sDimensionType = oInteractiveChart.data(\"dimensionType\");\n\t\tlet sDimensionValue = this.getBindingContext()?.getObject(sDimension);\n\t\tif (sDimensionType === \"Edm.DateTimeOffset\") {\n\t\t\tsDimensionValue = VisualFilterUtils._parseDateTime(sDimensionValue) as unknown;\n\t\t}\n\t\tif (oInteractiveChart.data(\"multipleSelectionAllowed\") === false && aSelectableValues.length > 1) {\n\t\t\taSelectableValues = [aSelectableValues[0]];\n\t\t}\n\t\treturn aSelectableValues.includes(sDimensionValue);\n\t},\n\n\t/**\n\t * Get Visual Filter control for the given child control.\n\t * @param potentialVisualFilter Expected instance of Visual Filter child control.\n\t * @returns The parent Visual Filter Buildingblock control instance if found, otherwise null.\n\t */\n\tgetParentVisualFilterControlBB(potentialVisualFilter: ManagedObject | null): VisualFilterBlock | null {\n\t\twhile (potentialVisualFilter && !potentialVisualFilter.isA<VisualFilterBlock>(\"sap.fe.macros.visualfilters.VisualFilter\")) {\n\t\t\tpotentialVisualFilter = potentialVisualFilter.getParent();\n\t\t}\n\t\treturn potentialVisualFilter;\n\t},\n\n\t// THIS IS A FORMATTER\n\tgetFiltersFromConditions(this: ManagedObject, ...aArguments: ConditionObject[][]): Filter[] | undefined {\n\t\tconst oInteractiveChart = this.getParent() as Control;\n\t\tconst oFilterBar = oInteractiveChart.getParent()?.getParent()?.getParent()?.getParent()?.getParent() as IFilterControl;\n\t\tconst aInParameters = oInteractiveChart.data(\"inParameters\").customData;\n\t\tconst bIsDraftSupported = oInteractiveChart.data(\"draftSupported\") === true;\n\t\tconst aPropertyInfoSet = FilterUtils.getFilterPropertyInfo(oFilterBar) as PropertyInfo[];\n\t\tconst mConditions: Record<string, ConditionObject[]> = {};\n\t\tconst aValueListPropertyInfoSet: unknown[] = [];\n\t\tlet oFilters;\n\t\tlet aFilters: Filter[] = [];\n\t\tconst aParameters = oInteractiveChart.data(\"parameters\") as string[];\n\t\tconst oSelectionVariantAnnotation = oInteractiveChart.data(\"selectionVariantAnnotation\") as\n\t\t\t| MetaModelType<SelectionVariantType>\n\t\t\t| SelectionVariantType;\n\t\tconst oInteractiveChartListBinding =\n\t\t\toInteractiveChart.getBinding(\"bars\") || oInteractiveChart.getBinding(\"points\") || oInteractiveChart.getBinding(\"segments\");\n\t\tconst sPath = oInteractiveChartListBinding!.getPath();\n\t\tconst oMetaModel = (oInteractiveChart.getModel() as ODataModel).getMetaModel();\n\t\tconst sEntitySetPath = oInteractiveChartListBinding!.getPath();\n\t\tconst filterConditions = getFiltersConditionsFromSelectionVariant(\n\t\t\tsEntitySetPath,\n\t\t\toMetaModel,\n\t\t\toSelectionVariantAnnotation,\n\t\t\tVisualFilterUtils.getCustomConditions.bind(VisualFilterUtils)\n\t\t);\n\t\tfor (const i in aPropertyInfoSet) {\n\t\t\taPropertyInfoSet[i].typeConfig = TypeMap.getTypeConfig(aPropertyInfoSet[i].dataType, {}, {});\n\t\t}\n\t\tconst oSelectionVariantConditions = VisualFilterUtils.convertFilterCondions(filterConditions);\n\t\t// aInParameters and the bindings to in parameters are in the same order so we can rely on it to create our conditions\n\t\tObject.keys(oSelectionVariantConditions).forEach(function (sKey: string) {\n\t\t\tmConditions[sKey] = oSelectionVariantConditions[sKey];\n\t\t\t//fetch localDataProperty if selection variant key is based on vaue list property\n\t\t\tconst inParameterForKey = aInParameters.find(function (inParameter: { valueListProperty: string }) {\n\t\t\t\treturn inParameter.valueListProperty === sKey;\n\t\t\t});\n\t\t\tconst localDataProperty = inParameterForKey ? inParameterForKey.localDataProperty : sKey;\n\t\t\tif (!aParameters || (aParameters && !aParameters.includes(sKey))) {\n\t\t\t\tfor (const i in aPropertyInfoSet) {\n\t\t\t\t\tconst propertyInfoSet = aPropertyInfoSet[i];\n\t\t\t\t\tif (localDataProperty === propertyInfoSet.name) {\n\t\t\t\t\t\tif (propertyInfoSet?.typeConfig?.baseType === \"DateTime\") {\n\t\t\t\t\t\t\tif (mConditions[sKey]) {\n\t\t\t\t\t\t\t\tmConditions[sKey].forEach(function (condition) {\n\t\t\t\t\t\t\t\t\tcondition.values[0] = VisualFilterUtils._formatDateTime(condition.values[0]);\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\taValueListPropertyInfoSet.push({\n\t\t\t\t\t\t\tname: sKey,\n\t\t\t\t\t\t\ttypeConfig: propertyInfoSet.typeConfig\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\taInParameters.forEach(function (oInParameter: { valueListProperty: string; localDataProperty: string }, index: number) {\n\t\t\tif (aArguments[index].length > 0) {\n\t\t\t\t// store conditions with value list property since we are filtering on the value list collection path\n\t\t\t\tmConditions[oInParameter.valueListProperty] = aArguments[index];\n\t\t\t\tif (!aParameters || (aParameters && !aParameters.includes(oInParameter.valueListProperty))) {\n\t\t\t\t\t// aPropertyInfoSet is list of properties from the filter bar but we need to create conditions for the value list\n\t\t\t\t\t// which could have a different collectionPath.\n\t\t\t\t\t// Only typeConfig from aPropertyInfoSet is required for getting the converted filters from conditions\n\t\t\t\t\t// so we update aPropertyInfoSet to have the valueListProperties only\n\t\t\t\t\t// This way conditions will be converted to sap.ui.model.Filter for the value list\n\t\t\t\t\t// This works because for in parameter mapping the property from the main entity type should be of the same type as the value list entity type\n\t\t\t\t\t// TODO: Follow up with MDC to check if they can provide a clean api to convert conditions into filters\n\t\t\t\t\tfor (const i in aPropertyInfoSet) {\n\t\t\t\t\t\t// store conditions with value list property since we are filtering on the value list collection path\n\t\t\t\t\t\tconst propertyInfoSet = aPropertyInfoSet[i];\n\t\t\t\t\t\tif (propertyInfoSet.name === oInParameter.localDataProperty) {\n\t\t\t\t\t\t\tif (propertyInfoSet?.typeConfig?.baseType === \"DateTime\") {\n\t\t\t\t\t\t\t\tif (mConditions[oInParameter.valueListProperty]) {\n\t\t\t\t\t\t\t\t\tmConditions[oInParameter.valueListProperty].forEach(function (condition) {\n\t\t\t\t\t\t\t\t\t\tcondition.values[0] = VisualFilterUtils._formatDateTime(condition.values[0]);\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\taValueListPropertyInfoSet.push({\n\t\t\t\t\t\t\t\tname: oInParameter.valueListProperty,\n\t\t\t\t\t\t\t\ttypeConfig: propertyInfoSet.typeConfig\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tconst oInternalModelContext = oInteractiveChart.getBindingContext(\"internal\") as InternalModelContext;\n\t\tconst sInfoPath = oInteractiveChart.data(\"infoPath\");\n\t\tlet bEnableBinding;\n\t\tconst oResourceBundle = Library.getResourceBundleFor(\"sap.fe.macros\")!;\n\t\tconst aRequiredProperties = CommonHelper.parseCustomData(oInteractiveChart.data(\"requiredProperties\")) as string[];\n\t\tif (aRequiredProperties.length) {\n\t\t\tconst aConditions = Object.keys(mConditions) || [];\n\t\t\tconst aNotMatchedConditions: string[] = [];\n\t\t\taRequiredProperties.forEach(function (requiredPropertyPath: string) {\n\t\t\t\tif (!aConditions.includes(requiredPropertyPath)) {\n\t\t\t\t\taNotMatchedConditions.push(requiredPropertyPath);\n\t\t\t\t}\n\t\t\t});\n\t\t\tif (!aNotMatchedConditions.length) {\n\t\t\t\tbEnableBinding = oInternalModelContext.getProperty(`${sInfoPath}/showError`);\n\t\t\t\toInternalModelContext.setProperty(sInfoPath, {\n\t\t\t\t\terrorMessageTitle: \"\",\n\t\t\t\t\terrorMessage: \"\",\n\t\t\t\t\tshowError: false\n\t\t\t\t});\n\t\t\t} else if (aNotMatchedConditions.length > 1) {\n\t\t\t\toInternalModelContext.setProperty(sInfoPath, {\n\t\t\t\t\terrorMessageTitle: oResourceBundle.getText(\"M_VISUAL_FILTERS_ERROR_MESSAGE_TITLE\"),\n\t\t\t\t\terrorMessage: oResourceBundle.getText(\"M_VISUAL_FILTERS_PROVIDE_FILTER_VAL_MULTIPLEVF\"),\n\t\t\t\t\tshowError: true\n\t\t\t\t});\n\t\t\t\treturn;\n\t\t\t} else {\n\t\t\t\tconst sLabel =\n\t\t\t\t\toMetaModel.getObject(`${sEntitySetPath}/${aNotMatchedConditions[0]}@com.sap.vocabularies.Common.v1.Label`) ||\n\t\t\t\t\taNotMatchedConditions[0];\n\t\t\t\toInternalModelContext.setProperty(sInfoPath, {\n\t\t\t\t\terrorMessageTitle: oResourceBundle.getText(\"M_VISUAL_FILTERS_ERROR_MESSAGE_TITLE\"),\n\t\t\t\t\terrorMessage: oResourceBundle.getText(\"M_VISUAL_FILTERS_PROVIDE_FILTER_VAL_SINGLEVF\", [sLabel]),\n\t\t\t\t\tshowError: true\n\t\t\t\t});\n\t\t\t\treturn;\n\t\t\t}\n\t\t} else {\n\t\t\tbEnableBinding = oInternalModelContext.getProperty(`${sInfoPath}/showError`);\n\t\t\toInternalModelContext.setProperty(sInfoPath, { errorMessageTitle: \"\", errorMessage: \"\", showError: false });\n\t\t}\n\n\t\tconst sFilterEntityName = oFilterBar.data(\"entityType\").split(\"/\")[1];\n\t\tconst sChartEntityName = sPath.split(\"/\")[1].split(\"(\")[0];\n\t\tif (aParameters && aParameters.length && sFilterEntityName === sChartEntityName) {\n\t\t\tconst sBindingPath = bEnableBinding\n\t\t\t\t? FilterUtils.getBindingPathForParameters(oFilterBar, mConditions, aPropertyInfoSet, aParameters)\n\t\t\t\t: undefined;\n\n\t\t\tif (sBindingPath) {\n\t\t\t\t(oInteractiveChartListBinding as { sPath?: string }).sPath = sBindingPath;\n\t\t\t}\n\t\t}\n\n\t\tif (aParameters && aParameters.length) {\n\t\t\t//Remove parameters from mConditions since it should not be a part of $filter\n\t\t\taParameters.forEach(function (parameter: string) {\n\t\t\t\tif (mConditions[parameter]) {\n\t\t\t\t\tdelete mConditions[parameter];\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\t// On InitialLoad when initiallayout is visual, aPropertyInfoSet is always empty and we cannot get filters from MDCFilterUtil.\n\t\t// Also when SVQualifier is there then we should not change the listbinding filters to empty as we are not getting filters from MDCFilterUtil but\n\t\t// instead we need to not call listbinding.filter and use the template time binding itself.\n\t\tif (Object.keys(mConditions).length > 0 && aValueListPropertyInfoSet.length) {\n\t\t\ttry {\n\t\t\t\toFilters = (MdcFilterUtil.getFilterInfo(oFilterBar, mConditions, aValueListPropertyInfoSet, []) as { filters: Filter })\n\t\t\t\t\t.filters;\n\t\t\t} catch (e) {\n\t\t\t\tLog.debug(\"VisualFilter: Error while getting filters from MDCFilterUtil\");\n\t\t\t}\n\t\t\tif (oFilters) {\n\t\t\t\tif (!oFilters.getFilters()) {\n\t\t\t\t\taFilters.push(oFilters);\n\t\t\t\t} else if (oFilters.getFilters()) {\n\t\t\t\t\taFilters = oFilters.getFilters()!;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (bIsDraftSupported) {\n\t\t\taFilters.push(new Filter(\"IsActiveEntity\", FilterOperator.EQ, true));\n\t\t}\n\t\tif (aFilters && aFilters.length > 0) {\n\t\t\t(oInteractiveChartListBinding as ODataListBinding)?.filter(aFilters);\n\t\t} else if (!Object.keys(mConditions).length) {\n\t\t\t(oInteractiveChartListBinding as ODataListBinding)?.filter();\n\t\t}\n\t\t// update the interactive chart binding\n\t\tif (bEnableBinding) {\n\t\t\tconst visualFilterBB = VisualFilterRuntime.getParentVisualFilterControlBB(oInteractiveChart);\n\t\t\tvisualFilterBB?._setInternalUpdatePending(false);\n\t\t}\n\t\treturn aFilters;\n\t},\n\tgetFilterCounts(this: Control, oConditions: ConditionObject[]): string | undefined {\n\t\tif (this.data(\"multipleSelectionAllowed\") === false && oConditions.length > 0) {\n\t\t\treturn `(1)`;\n\t\t}\n\t\tif (oConditions.length > 0) {\n\t\t\treturn `(${oConditions.length})`;\n\t\t} else {\n\t\t\treturn undefined;\n\t\t}\n\t},\n\n\tscaleVisualFilterValue(\n\t\toValue: string,\n\t\tscaleFactor: number,\n\t\tnumberOfFractionalDigits: number,\n\t\tcurrency: string,\n\t\toRawValue: string | number\n\t): string {\n\t\t// ScaleFactor if defined is priority for formatting\n\t\tif (scaleFactor) {\n\t\t\treturn VisualFilterUtils.getFormattedNumber(oRawValue, scaleFactor, numberOfFractionalDigits);\n\t\t\t// If Scale Factor is not defined, use currency formatting\n\t\t} else if (currency) {\n\t\t\treturn VisualFilterUtils.getFormattedNumber(oRawValue, undefined, undefined, currency);\n\t\t\t// No ScaleFactor and no Currency, use numberOfFractionalDigits defined in DataPoint\n\t\t} else if (numberOfFractionalDigits > 0) {\n\t\t\t// Number of fractional digits shall not exceed 2, unless required by currency\n\t\t\tnumberOfFractionalDigits = numberOfFractionalDigits > 2 ? 2 : numberOfFractionalDigits;\n\t\t\treturn VisualFilterUtils.getFormattedNumber(oRawValue, undefined, numberOfFractionalDigits);\n\t\t} else {\n\t\t\treturn oValue;\n\t\t}\n\t},\n\tfireValueHelp(oEvent: UI5Event<{}, Control>): void {\n\t\toEvent.getSource().getParent()?.getParent()?.getParent()?.getParent()?.fireEvent(\"valueHelpRequest\");\n\t}\n};\n\nObjectPath.set(\"sap.fe.macros.visualfilters.VisualFilterRuntime\", VisualFilterRuntime);\n\nexport default VisualFilterRuntime;\n"],"mappings":";;;;;;;;EA6BA;AACA;AACA;AACA;EACA,MAAMA,mBAAmB,GAAG;IAC3BC,gBAAgBA,CACfC,MAI8C,EACvC;MACP,MAAMC,iBAA0B,GAAID,MAAM,CAAcE,SAAS,CAAC,CAAC;MACnE,MAAMC,aAAa,GAAGF,iBAAiB,CAACG,IAAI,CAAC,cAAc,CAAC;MAC5D,MAAMC,kBAAkB,GAAGJ,iBAAiB,CAACG,IAAI,CAAC,mBAAmB,CAAC;MACtE,MAAME,UAAU,GAAGL,iBAAiB,CAACG,IAAI,CAAC,WAAW,CAAC;MACtD,MAAMG,cAAc,GAAGN,iBAAiB,CAACG,IAAI,CAAC,eAAe,CAAC;MAC9D,MAAMI,yBAAyB,GAAGP,iBAAiB,CAACG,IAAI,CAAC,0BAA0B,CAAC;MACpF,MAAMK,cAAc,GAAGR,iBAAiB,CAACG,IAAI,CAAC,eAAe,CAAC;MAC9D,MAAMM,oBAAoB,GACxBV,MAAM,CAA+CW,YAAY,CAAC,KAAK,CAAC,IACxEX,MAAM,CAAgDW,YAAY,CAAC,OAAO,CAAC,IAC3EX,MAAM,CAAiDW,YAAY,CAAC,SAAS,CAAC;MAChF,MAAMC,sBAAsB,GAAIZ,MAAM,CAA+CW,YAAY,CAAC,UAAU,CAAC;MAC7G,MAAME,eAAe,GAAGZ,iBAAiB,CAACa,QAAQ,CAAC,QAAQ,CAAc;MACzE,IAAIC,WAAW,GAAGF,eAAe,CAACG,WAAW,CAAC,aAAa,CAAC;MAE5D,IAAI,CAACb,aAAa,IAAIE,kBAAkB,KAAKC,UAAU,EAAE;QACxDW,GAAG,CAACC,KAAK,CAAC,mGAAmG,CAAC;MAC/G,CAAC,MAAM;QACN,IAAIC,sBAAsB,GAAGT,oBAAoB,EAAEU,iBAAiB,CAAC,CAAC,EAAEC,SAAS,CAAChB,kBAAkB,CAAC;QACrG,IAAIc,sBAAsB,EAAE;UAC3B,IAAIG,0BAA0B,GAAGZ,oBAAoB,EAAEU,iBAAiB,CAAC,CAAC,EAAEC,SAAS,CAACd,cAAc,CAAC;UACrG,IAAI,OAAOe,0BAA0B,KAAK,QAAQ,IAAI,EAAEA,0BAA0B,YAAYC,MAAM,CAAC,EAAE;YACtGD,0BAA0B,GAAGE,SAAS;UACvC;UACA;UACA,IAAIZ,sBAAsB,EAAE;YAC3B,IAAIJ,yBAAyB,KAAK,KAAK,EAAE;cACxCO,WAAW,GAAG,EAAE;YACjB;YACA,IAAIN,cAAc,KAAK,oBAAoB,EAAE;cAC5CU,sBAAsB,GAAGM,iBAAiB,CAACC,cAAc,CAACP,sBAAsB,CAAC;YAClF;YACA,MAAMQ,UAAU,GAAGC,SAAS,CAACC,mBAAmB,CAC/CV,sBAAsB,EACtBG,0BAA0B,IAAIE,SAAS,EACvC,CAAC,CAAC,EACF,CAAC,CACF,CAAC;YACDT,WAAW,CAACe,IAAI,CAACH,UAAU,CAAC;UAC7B,CAAC,MAAM;YACN;YACAZ,WAAW,GAAGA,WAAW,CAACgB,MAAM,CAAC,UAAUJ,UAA2B,EAAE;cACvE,IAAIlB,cAAc,KAAK,oBAAoB,EAAE;gBAC5C,OAAOkB,UAAU,CAACK,QAAQ,KAAK,IAAI,IAAIC,IAAI,CAACC,KAAK,CAACP,UAAU,CAACQ,MAAM,CAAC,CAAC,CAAC,CAAC,KAAKF,IAAI,CAACC,KAAK,CAACf,sBAAsB,CAAC;cAC/G;cACA,OAAOQ,UAAU,CAACK,QAAQ,KAAK,IAAI,IAAIL,UAAU,CAACQ,MAAM,CAAC,CAAC,CAAC,KAAKhB,sBAAsB;YACvF,CAAC,CAAC;UACH;UACAN,eAAe,CAACuB,WAAW,CAAC,aAAa,EAAErB,WAAW,CAAC;QACxD,CAAC,MAAM;UACNE,GAAG,CAACC,KAAK,CAAC,kDAAkD,CAAC;QAC9D;MACD;IACD,CAAC;IACD;IACAmB,sBAAsBA,CAAsBtB,WAA8B,EAAuB;MAChG,IAAIuB,iBAAiB,GAAG,EAAE;MAC1B,IAAI,CAAC,IAAI,CAAClB,iBAAiB,CAAC,CAAC,EAAE;QAC9B;MACD;MACA,KAAK,IAAImB,CAAC,GAAG,CAAC,EAAEA,CAAC,IAAIxB,WAAW,CAACyB,MAAM,GAAG,CAAC,EAAED,CAAC,EAAE,EAAE;QACjD,MAAMZ,UAAU,GAAGZ,WAAW,CAACwB,CAAC,CAAC;QACjC;QACA,IAAIZ,UAAU,CAACK,QAAQ,KAAK,IAAI,EAAE;UACjCM,iBAAiB,CAACR,IAAI,CAACH,UAAU,CAACQ,MAAM,CAAC,CAAC,CAAC,CAAC;QAC7C;MACD;;MAEA;MACA,MAAMlC,iBAAiB,GAAG,IAAI,CAACwC,SAAS,CAAC,CAAY;MACrD,MAAMnC,UAAU,GAAGL,iBAAiB,CAACG,IAAI,CAAC,WAAW,CAAC;MACtD,MAAMK,cAAc,GAAGR,iBAAiB,CAACG,IAAI,CAAC,eAAe,CAAC;MAC9D,IAAIsC,eAAe,GAAG,IAAI,CAACtB,iBAAiB,CAAC,CAAC,EAAEC,SAAS,CAACf,UAAU,CAAC;MACrE,IAAIG,cAAc,KAAK,oBAAoB,EAAE;QAC5CiC,eAAe,GAAGjB,iBAAiB,CAACC,cAAc,CAACgB,eAAe,CAAY;MAC/E;MACA,IAAIzC,iBAAiB,CAACG,IAAI,CAAC,0BAA0B,CAAC,KAAK,KAAK,IAAIkC,iBAAiB,CAACE,MAAM,GAAG,CAAC,EAAE;QACjGF,iBAAiB,GAAG,CAACA,iBAAiB,CAAC,CAAC,CAAC,CAAC;MAC3C;MACA,OAAOA,iBAAiB,CAACK,QAAQ,CAACD,eAAe,CAAC;IACnD,CAAC;IAED;AACD;AACA;AACA;AACA;IACCE,8BAA8BA,CAACC,qBAA2C,EAA4B;MACrG,OAAOA,qBAAqB,IAAI,CAACA,qBAAqB,CAACC,GAAG,CAAoB,0CAA0C,CAAC,EAAE;QAC1HD,qBAAqB,GAAGA,qBAAqB,CAACJ,SAAS,CAAC,CAAC;MAC1D;MACA,OAAOI,qBAAqB;IAC7B,CAAC;IAED;IACAE,wBAAwBA,CAAA,EAAgF;MAAA,SAAAC,IAAA,GAAAC,SAAA,CAAAT,MAAA,EAAvDU,UAAU,OAAAC,KAAA,CAAAH,IAAA,GAAAI,IAAA,MAAAA,IAAA,GAAAJ,IAAA,EAAAI,IAAA;QAAVF,UAAU,CAAAE,IAAA,IAAAH,SAAA,CAAAG,IAAA;MAAA;MAC1D,MAAMnD,iBAAiB,GAAG,IAAI,CAACwC,SAAS,CAAC,CAAY;MACrD,MAAMY,UAAU,GAAGpD,iBAAiB,CAACwC,SAAS,CAAC,CAAC,EAAEA,SAAS,CAAC,CAAC,EAAEA,SAAS,CAAC,CAAC,EAAEA,SAAS,CAAC,CAAC,EAAEA,SAAS,CAAC,CAAmB;MACtH,MAAMa,aAAa,GAAGrD,iBAAiB,CAACG,IAAI,CAAC,cAAc,CAAC,CAACmD,UAAU;MACvE,MAAMC,iBAAiB,GAAGvD,iBAAiB,CAACG,IAAI,CAAC,gBAAgB,CAAC,KAAK,IAAI;MAC3E,MAAMqD,gBAAgB,GAAGC,WAAW,CAACC,qBAAqB,CAACN,UAAU,CAAmB;MACxF,MAAMO,WAA8C,GAAG,CAAC,CAAC;MACzD,MAAMC,yBAAoC,GAAG,EAAE;MAC/C,IAAIC,QAAQ;MACZ,IAAIC,QAAkB,GAAG,EAAE;MAC3B,MAAMC,WAAW,GAAG/D,iBAAiB,CAACG,IAAI,CAAC,YAAY,CAAa;MACpE,MAAM6D,2BAA2B,GAAGhE,iBAAiB,CAACG,IAAI,CAAC,4BAA4B,CAEhE;MACvB,MAAM8D,4BAA4B,GACjCjE,iBAAiB,CAACkE,UAAU,CAAC,MAAM,CAAC,IAAIlE,iBAAiB,CAACkE,UAAU,CAAC,QAAQ,CAAC,IAAIlE,iBAAiB,CAACkE,UAAU,CAAC,UAAU,CAAC;MAC3H,MAAMC,KAAK,GAAGF,4BAA4B,CAAEG,OAAO,CAAC,CAAC;MACrD,MAAMC,UAAU,GAAIrE,iBAAiB,CAACa,QAAQ,CAAC,CAAC,CAAgByD,YAAY,CAAC,CAAC;MAC9E,MAAMC,cAAc,GAAGN,4BAA4B,CAAEG,OAAO,CAAC,CAAC;MAC9D,MAAMI,gBAAgB,GAAGC,wCAAwC,CAChEF,cAAc,EACdF,UAAU,EACVL,2BAA2B,EAC3BxC,iBAAiB,CAACkD,mBAAmB,CAACC,IAAI,CAACnD,iBAAiB,CAC7D,CAAC;MACD,KAAK,MAAMc,CAAC,IAAIkB,gBAAgB,EAAE;QACjCA,gBAAgB,CAAClB,CAAC,CAAC,CAACsC,UAAU,GAAGC,OAAO,CAACC,aAAa,CAACtB,gBAAgB,CAAClB,CAAC,CAAC,CAACyC,QAAQ,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;MAC7F;MACA,MAAMC,2BAA2B,GAAGxD,iBAAiB,CAACyD,qBAAqB,CAACT,gBAAgB,CAAC;MAC7F;MACAU,MAAM,CAACC,IAAI,CAACH,2BAA2B,CAAC,CAACI,OAAO,CAAC,UAAUC,IAAY,EAAE;QACxE1B,WAAW,CAAC0B,IAAI,CAAC,GAAGL,2BAA2B,CAACK,IAAI,CAAC;QACrD;QACA,MAAMC,iBAAiB,GAAGjC,aAAa,CAACkC,IAAI,CAAC,UAAUC,WAA0C,EAAE;UAClG,OAAOA,WAAW,CAACC,iBAAiB,KAAKJ,IAAI;QAC9C,CAAC,CAAC;QACF,MAAMK,iBAAiB,GAAGJ,iBAAiB,GAAGA,iBAAiB,CAACI,iBAAiB,GAAGL,IAAI;QACxF,IAAI,CAACtB,WAAW,IAAKA,WAAW,IAAI,CAACA,WAAW,CAACrB,QAAQ,CAAC2C,IAAI,CAAE,EAAE;UACjE,KAAK,MAAM/C,CAAC,IAAIkB,gBAAgB,EAAE;YACjC,MAAMmC,eAAe,GAAGnC,gBAAgB,CAAClB,CAAC,CAAC;YAC3C,IAAIoD,iBAAiB,KAAKC,eAAe,CAACC,IAAI,EAAE;cAC/C,IAAID,eAAe,EAAEf,UAAU,EAAEiB,QAAQ,KAAK,UAAU,EAAE;gBACzD,IAAIlC,WAAW,CAAC0B,IAAI,CAAC,EAAE;kBACtB1B,WAAW,CAAC0B,IAAI,CAAC,CAACD,OAAO,CAAC,UAAUU,SAAS,EAAE;oBAC9CA,SAAS,CAAC5D,MAAM,CAAC,CAAC,CAAC,GAAGV,iBAAiB,CAACuE,eAAe,CAACD,SAAS,CAAC5D,MAAM,CAAC,CAAC,CAAC,CAAC;kBAC7E,CAAC,CAAC;gBACH;cACD;cACA0B,yBAAyB,CAAC/B,IAAI,CAAC;gBAC9B+D,IAAI,EAAEP,IAAI;gBACVT,UAAU,EAAEe,eAAe,CAACf;cAC7B,CAAC,CAAC;YACH;UACD;QACD;MACD,CAAC,CAAC;MACFvB,aAAa,CAAC+B,OAAO,CAAC,UAAUY,YAAsE,EAAEC,KAAa,EAAE;QACtH,IAAIhD,UAAU,CAACgD,KAAK,CAAC,CAAC1D,MAAM,GAAG,CAAC,EAAE;UACjC;UACAoB,WAAW,CAACqC,YAAY,CAACP,iBAAiB,CAAC,GAAGxC,UAAU,CAACgD,KAAK,CAAC;UAC/D,IAAI,CAAClC,WAAW,IAAKA,WAAW,IAAI,CAACA,WAAW,CAACrB,QAAQ,CAACsD,YAAY,CAACP,iBAAiB,CAAE,EAAE;YAC3F;YACA;YACA;YACA;YACA;YACA;YACA;YACA,KAAK,MAAMnD,CAAC,IAAIkB,gBAAgB,EAAE;cACjC;cACA,MAAMmC,eAAe,GAAGnC,gBAAgB,CAAClB,CAAC,CAAC;cAC3C,IAAIqD,eAAe,CAACC,IAAI,KAAKI,YAAY,CAACN,iBAAiB,EAAE;gBAC5D,IAAIC,eAAe,EAAEf,UAAU,EAAEiB,QAAQ,KAAK,UAAU,EAAE;kBACzD,IAAIlC,WAAW,CAACqC,YAAY,CAACP,iBAAiB,CAAC,EAAE;oBAChD9B,WAAW,CAACqC,YAAY,CAACP,iBAAiB,CAAC,CAACL,OAAO,CAAC,UAAUU,SAAS,EAAE;sBACxEA,SAAS,CAAC5D,MAAM,CAAC,CAAC,CAAC,GAAGV,iBAAiB,CAACuE,eAAe,CAACD,SAAS,CAAC5D,MAAM,CAAC,CAAC,CAAC,CAAC;oBAC7E,CAAC,CAAC;kBACH;gBACD;gBACA0B,yBAAyB,CAAC/B,IAAI,CAAC;kBAC9B+D,IAAI,EAAEI,YAAY,CAACP,iBAAiB;kBACpCb,UAAU,EAAEe,eAAe,CAACf;gBAC7B,CAAC,CAAC;cACH;YACD;UACD;QACD;MACD,CAAC,CAAC;MAEF,MAAMsB,qBAAqB,GAAGlG,iBAAiB,CAACmB,iBAAiB,CAAC,UAAU,CAAyB;MACrG,MAAMgF,SAAS,GAAGnG,iBAAiB,CAACG,IAAI,CAAC,UAAU,CAAC;MACpD,IAAIiG,cAAc;MAClB,MAAMC,eAAe,GAAGC,OAAO,CAACC,oBAAoB,CAAC,eAAe,CAAE;MACtE,MAAMC,mBAAmB,GAAGC,YAAY,CAACC,eAAe,CAAC1G,iBAAiB,CAACG,IAAI,CAAC,oBAAoB,CAAC,CAAa;MAClH,IAAIqG,mBAAmB,CAACjE,MAAM,EAAE;QAC/B,MAAMzB,WAAW,GAAGoE,MAAM,CAACC,IAAI,CAACxB,WAAW,CAAC,IAAI,EAAE;QAClD,MAAMgD,qBAA+B,GAAG,EAAE;QAC1CH,mBAAmB,CAACpB,OAAO,CAAC,UAAUwB,oBAA4B,EAAE;UACnE,IAAI,CAAC9F,WAAW,CAAC4B,QAAQ,CAACkE,oBAAoB,CAAC,EAAE;YAChDD,qBAAqB,CAAC9E,IAAI,CAAC+E,oBAAoB,CAAC;UACjD;QACD,CAAC,CAAC;QACF,IAAI,CAACD,qBAAqB,CAACpE,MAAM,EAAE;UAClC6D,cAAc,GAAGF,qBAAqB,CAACnF,WAAW,CAAC,GAAGoF,SAAS,YAAY,CAAC;UAC5ED,qBAAqB,CAAC/D,WAAW,CAACgE,SAAS,EAAE;YAC5CU,iBAAiB,EAAE,EAAE;YACrBC,YAAY,EAAE,EAAE;YAChBC,SAAS,EAAE;UACZ,CAAC,CAAC;QACH,CAAC,MAAM,IAAIJ,qBAAqB,CAACpE,MAAM,GAAG,CAAC,EAAE;UAC5C2D,qBAAqB,CAAC/D,WAAW,CAACgE,SAAS,EAAE;YAC5CU,iBAAiB,EAAER,eAAe,CAACW,OAAO,CAAC,sCAAsC,CAAC;YAClFF,YAAY,EAAET,eAAe,CAACW,OAAO,CAAC,gDAAgD,CAAC;YACvFD,SAAS,EAAE;UACZ,CAAC,CAAC;UACF;QACD,CAAC,MAAM;UACN,MAAME,MAAM,GACX5C,UAAU,CAACjD,SAAS,CAAC,GAAGmD,cAAc,IAAIoC,qBAAqB,CAAC,CAAC,CAAC,uCAAuC,CAAC,IAC1GA,qBAAqB,CAAC,CAAC,CAAC;UACzBT,qBAAqB,CAAC/D,WAAW,CAACgE,SAAS,EAAE;YAC5CU,iBAAiB,EAAER,eAAe,CAACW,OAAO,CAAC,sCAAsC,CAAC;YAClFF,YAAY,EAAET,eAAe,CAACW,OAAO,CAAC,8CAA8C,EAAE,CAACC,MAAM,CAAC,CAAC;YAC/FF,SAAS,EAAE;UACZ,CAAC,CAAC;UACF;QACD;MACD,CAAC,MAAM;QACNX,cAAc,GAAGF,qBAAqB,CAACnF,WAAW,CAAC,GAAGoF,SAAS,YAAY,CAAC;QAC5ED,qBAAqB,CAAC/D,WAAW,CAACgE,SAAS,EAAE;UAAEU,iBAAiB,EAAE,EAAE;UAAEC,YAAY,EAAE,EAAE;UAAEC,SAAS,EAAE;QAAM,CAAC,CAAC;MAC5G;MAEA,MAAMG,iBAAiB,GAAG9D,UAAU,CAACjD,IAAI,CAAC,YAAY,CAAC,CAACgH,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;MACrE,MAAMC,gBAAgB,GAAGjD,KAAK,CAACgD,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAACA,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;MAC1D,IAAIpD,WAAW,IAAIA,WAAW,CAACxB,MAAM,IAAI2E,iBAAiB,KAAKE,gBAAgB,EAAE;QAChF,MAAMC,YAAY,GAAGjB,cAAc,GAChC3C,WAAW,CAAC6D,2BAA2B,CAAClE,UAAU,EAAEO,WAAW,EAAEH,gBAAgB,EAAEO,WAAW,CAAC,GAC/FxC,SAAS;QAEZ,IAAI8F,YAAY,EAAE;UAChBpD,4BAA4B,CAAwBE,KAAK,GAAGkD,YAAY;QAC1E;MACD;MAEA,IAAItD,WAAW,IAAIA,WAAW,CAACxB,MAAM,EAAE;QACtC;QACAwB,WAAW,CAACqB,OAAO,CAAC,UAAUmC,SAAiB,EAAE;UAChD,IAAI5D,WAAW,CAAC4D,SAAS,CAAC,EAAE;YAC3B,OAAO5D,WAAW,CAAC4D,SAAS,CAAC;UAC9B;QACD,CAAC,CAAC;MACH;;MAEA;MACA;MACA;MACA,IAAIrC,MAAM,CAACC,IAAI,CAACxB,WAAW,CAAC,CAACpB,MAAM,GAAG,CAAC,IAAIqB,yBAAyB,CAACrB,MAAM,EAAE;QAC5E,IAAI;UACHsB,QAAQ,GAAI2D,aAAa,CAACC,aAAa,CAACrE,UAAU,EAAEO,WAAW,EAAEC,yBAAyB,EAAE,EAAE,CAAC,CAC7F8D,OAAO;QACV,CAAC,CAAC,OAAOC,CAAC,EAAE;UACX3G,GAAG,CAAC4G,KAAK,CAAC,8DAA8D,CAAC;QAC1E;QACA,IAAI/D,QAAQ,EAAE;UACb,IAAI,CAACA,QAAQ,CAACgE,UAAU,CAAC,CAAC,EAAE;YAC3B/D,QAAQ,CAACjC,IAAI,CAACgC,QAAQ,CAAC;UACxB,CAAC,MAAM,IAAIA,QAAQ,CAACgE,UAAU,CAAC,CAAC,EAAE;YACjC/D,QAAQ,GAAGD,QAAQ,CAACgE,UAAU,CAAC,CAAE;UAClC;QACD;MACD;MACA,IAAItE,iBAAiB,EAAE;QACtBO,QAAQ,CAACjC,IAAI,CAAC,IAAIiG,MAAM,CAAC,gBAAgB,EAAEC,cAAc,CAACC,EAAE,EAAE,IAAI,CAAC,CAAC;MACrE;MACA,IAAIlE,QAAQ,IAAIA,QAAQ,CAACvB,MAAM,GAAG,CAAC,EAAE;QACnC0B,4BAA4B,EAAuBnC,MAAM,CAACgC,QAAQ,CAAC;MACrE,CAAC,MAAM,IAAI,CAACoB,MAAM,CAACC,IAAI,CAACxB,WAAW,CAAC,CAACpB,MAAM,EAAE;QAC3C0B,4BAA4B,EAAuBnC,MAAM,CAAC,CAAC;MAC7D;MACA;MACA,IAAIsE,cAAc,EAAE;QACnB,MAAM6B,cAAc,GAAGpI,mBAAmB,CAAC8C,8BAA8B,CAAC3C,iBAAiB,CAAC;QAC5FiI,cAAc,EAAEC,yBAAyB,CAAC,KAAK,CAAC;MACjD;MACA,OAAOpE,QAAQ;IAChB,CAAC;IACDqE,eAAeA,CAAgBC,WAA8B,EAAsB;MAClF,IAAI,IAAI,CAACjI,IAAI,CAAC,0BAA0B,CAAC,KAAK,KAAK,IAAIiI,WAAW,CAAC7F,MAAM,GAAG,CAAC,EAAE;QAC9E,OAAO,KAAK;MACb;MACA,IAAI6F,WAAW,CAAC7F,MAAM,GAAG,CAAC,EAAE;QAC3B,OAAO,IAAI6F,WAAW,CAAC7F,MAAM,GAAG;MACjC,CAAC,MAAM;QACN,OAAOhB,SAAS;MACjB;IACD,CAAC;IAED8G,sBAAsBA,CACrBC,MAAc,EACdC,WAAmB,EACnBC,wBAAgC,EAChCC,QAAgB,EAChBC,SAA0B,EACjB;MACT;MACA,IAAIH,WAAW,EAAE;QAChB,OAAO/G,iBAAiB,CAACmH,kBAAkB,CAACD,SAAS,EAAEH,WAAW,EAAEC,wBAAwB,CAAC;QAC7F;MACD,CAAC,MAAM,IAAIC,QAAQ,EAAE;QACpB,OAAOjH,iBAAiB,CAACmH,kBAAkB,CAACD,SAAS,EAAEnH,SAAS,EAAEA,SAAS,EAAEkH,QAAQ,CAAC;QACtF;MACD,CAAC,MAAM,IAAID,wBAAwB,GAAG,CAAC,EAAE;QACxC;QACAA,wBAAwB,GAAGA,wBAAwB,GAAG,CAAC,GAAG,CAAC,GAAGA,wBAAwB;QACtF,OAAOhH,iBAAiB,CAACmH,kBAAkB,CAACD,SAAS,EAAEnH,SAAS,EAAEiH,wBAAwB,CAAC;MAC5F,CAAC,MAAM;QACN,OAAOF,MAAM;MACd;IACD,CAAC;IACDM,aAAaA,CAAC7I,MAA6B,EAAQ;MAClDA,MAAM,CAACE,SAAS,CAAC,CAAC,CAACuC,SAAS,CAAC,CAAC,EAAEA,SAAS,CAAC,CAAC,EAAEA,SAAS,CAAC,CAAC,EAAEA,SAAS,CAAC,CAAC,EAAEqG,SAAS,CAAC,kBAAkB,CAAC;IACrG;EACD,CAAC;EAEDC,UAAU,CAACC,GAAG,CAAC,iDAAiD,EAAElJ,mBAAmB,CAAC;EAAC,OAExEA,mBAAmB;AAAA","ignoreList":[],"file":"VisualFilterRuntime-dbg.js"}