/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.define(["sap/fe/base/ClassSupport","sap/fe/core/buildingBlocks/BuildingBlock","sap/fe/core/controls/CommandExecution","sap/fe/macros/ai/EasyFillDialog","sap/m/Button","sap/m/OverflowToolbarLayoutData","sap/m/library","sap/ui/performance/trace/FESRHelper","sap/fe/base/jsx-runtime/jsx"],function(e,t,i,r,n,a,o,l,s){"use strict";var c,u,p,d,f,b,g;var m={};var y=o.OverflowToolbarPriority;var v=o.ButtonType;var E=e.property;var h=e.implementInterface;var w=e.defineUI5Class;function C(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function _(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,O(e,t)}function O(e,t){return O=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},O(e,t)}function P(e,t,i,r,n){var a={};return Object.keys(r).forEach(function(e){a[e]=r[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce(function(i,r){return r(e,t,i)||i},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer?(Object.defineProperty(e,t,a),null):a}function T(e,t){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let j=(c=w("sap.fe.macros.ai.EasyFillButton"),u=E({type:"string"}),p=h("sap.m.IOverflowToolbarContent"),c(d=(f=function(e){function t(){var t;for(var i=arguments.length,r=new Array(i),n=0;n<i;n++){r[n]=arguments[n]}t=e.call(this,...r)||this;C(t,"text",b,t);C(t,"__implements__sap_m_IOverflowToolbarContent",g,t);return t}m=t;_(t,e);var o=t.prototype;o.onMetadataAvailable=function t(i){e.prototype.onMetadataAvailable.call(this,i);this.content=this.createContent()};o._easyEditDocument=async function e(){if(this.getAppComponent()?.getEnvironmentCapabilities().getCapabilities().EasyEdit){const e=this.getPageController();const t=e.getView();if(!this.getPageController()?.getModel("ui").getProperty("/isEditable")){await e.editFlow.editDocument.apply(e.editFlow,[t?.getBindingContext()])}const i=this.getPageController().getOwnerComponent()?.runAsOwner(()=>new r({getEditableFields:this._getEditableFields.bind(this)}));i.open();t?.addDependent(i)}};o._getEditableFields=async function e(){const t=this.getPageController().getView()?.findAggregatedObjects(true,e=>e.isA("sap.fe.macros.Field"));const i={};t.forEach(e=>{const t=e.getMainPropertyRelativePath();if(t){if(i[t]===undefined){i[t]={isEditable:e.getEditable()}}else{i[t].isEditable=i[t].isEditable||e.getEditable()}}});return Promise.resolve(i)};o.createContent=function e(){if(this.getAppComponent()?.getEnvironmentCapabilities().getCapabilities().EasyEdit){this.getPageController().getView()?.addDependent(s(i,{execute:this._easyEditDocument.bind(this),command:"EasyEdit"}));const e=s(n,{id:this.createId("button"),"dt:designtime":"not-adaptable",text:this.getTranslatedText("C_EASYEDIT_BUTTON"),icon:"sap-icon://ai",type:v.Ghost,"jsx:command":"cmd:EasyEdit|press"});this.setLayoutData(s(a,{priority:y.High}));l.setSemanticStepname(e,"press","fe4:ef:easyfill");return e}this.setVisible(false)};o.getOverflowToolbarConfig=function e(){return{canOverflow:true}};return t}(t),b=P(f.prototype,"text",[u],{configurable:true,enumerable:true,writable:true,initializer:null}),g=P(f.prototype,"__implements__sap_m_IOverflowToolbarContent",[p],{configurable:true,enumerable:true,writable:true,initializer:function(){return true}}),f))||d);m=j;return m},false);
//# sourceMappingURL=EasyFillButton.js.map