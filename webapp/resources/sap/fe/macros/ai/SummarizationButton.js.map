{"version":3,"file":"SummarizationButton.js","names":["SummarizationButton","_dec","defineUI5Class","_dec2","implementInterface","_dec3","property","type","required","_class","_class2","_BuildingBlock","_this","_len","arguments","length","args","Array","_key","call","this","_initializerDefineProperty","_descriptor","_descriptor2","fesrStepName","_exports","_inheritsLoose","_proto","prototype","onMetadataAvailable","content","createContent","getOverflowToolbarConfig","canOverflow","environmentService","getAppComponent","getEnvironmentCapabilities","button","environmentCapabilities","SmartSummarize","_jsx","Button","id","createId","text","icon","ButtonType","Ghost","press","async","prepareFeature","library","__ui5_require_async","summarize","view","CommonUtils","getTargetView","error","Log","setLayoutData","OverflowToolbarLayoutData","priority","OverflowToolbarPriority","High","FESRHelper","setSemanticStepname","BuildingBlock","_applyDecoratedDescriptor","configurable","enumerable","writable","initializer"],"sources":["./SummarizationButton.tsx"],"sourcesContent":["import Log from \"sap/base/Log\";\nimport { defineUI5Class, implementInterface, property } from \"sap/fe/base/ClassSupport\";\nimport CommonUtils from \"sap/fe/core/CommonUtils\";\nimport BuildingBlock from \"sap/fe/core/buildingBlocks/BuildingBlock\";\nimport Button from \"sap/m/Button\";\nimport OverflowToolbarLayoutData from \"sap/m/OverflowToolbarLayoutData\";\nimport { ButtonType, OverflowToolbarPriority } from \"sap/m/library\";\nimport FESRHelper from \"sap/ui/performance/trace/FESRHelper\";\n\n/**\n * Summarization button building block.\n *\n * If the summarization feature is available, this building block will render a button that triggers the summarization feature.\n */\n@defineUI5Class(\"sap.fe.macros.ai.SummarizationButton\")\nexport default class SummarizationButton extends BuildingBlock {\n\t@implementInterface(\"sap.m.IOverflowToolbarContent\")\n\t__implements__sap_m_IOverflowToolbarContent = true;\n\t/**\n\t * The ID of the button.\n\t */\n\t@property({ type: \"string\", required: true })\n\tpublic id!: string;\n\n\tfesrStepName = \"fe4:sum:summarize\";\n\n\tonMetadataAvailable(): void {\n\t\tthis.content = this.createContent();\n\t}\n\n\tgetOverflowToolbarConfig(): object {\n\t\treturn {\n\t\t\tcanOverflow: true\n\t\t};\n\t}\n\n\tcreateContent(): Button | undefined {\n\t\tconst environmentService = this.getAppComponent()?.getEnvironmentCapabilities();\n\t\tlet button;\n\t\tif (environmentService?.environmentCapabilities.SmartSummarize === true) {\n\t\t\tbutton = (\n\t\t\t\t<Button\n\t\t\t\t\tid={this.createId(\"button\")}\n\t\t\t\t\tdt:designtime=\"not-adaptable\"\n\t\t\t\t\ttext=\"{sap.fe.i18n>SUMMARIZE}\"\n\t\t\t\t\ticon=\"sap-icon://ai\"\n\t\t\t\t\ttype={ButtonType.Ghost}\n\t\t\t\t\tpress={async (): Promise<void> => {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tawait environmentService.prepareFeature(\"SmartSummarize\");\n\t\t\t\t\t\t\tconst library = await import(\"ux/eng/fioriai/reuse/summary/SmartSummary\");\n\t\t\t\t\t\t\tawait library.summarize({ view: CommonUtils.getTargetView(this) });\n\t\t\t\t\t\t} catch (error) {\n\t\t\t\t\t\t\tLog.error(\"Summarization failed\", error as Error);\n\t\t\t\t\t\t}\n\t\t\t\t\t}}\n\t\t\t\t></Button>\n\t\t\t);\n\t\t\tthis.setLayoutData(<OverflowToolbarLayoutData priority={OverflowToolbarPriority.High} />);\n\t\t\tFESRHelper.setSemanticStepname(button, \"press\", this.fesrStepName);\n\t\t}\n\t\treturn button;\n\t}\n}\n"],"mappings":";;;;wmDASA,IAMqBA,GAAmBC,EADvCC,EAAe,wCAAuCC,EAErDC,EAAmB,iCAAgCC,EAKnDC,EAAS,CAAEC,KAAM,SAAUC,SAAU,OAAOP,EAAAQ,GAAAC,EAAA,SAAAC,GAAA,SAAAX,IAAA,IAAAY,EAAA,QAAAC,EAAAC,UAAAC,OAAAC,EAAA,IAAAC,MAAAJ,GAAAK,EAAA,EAAAA,EAAAL,EAAAK,IAAA,CAAAF,EAAAE,GAAAJ,UAAAI,EAAA,CAAAN,EAAAD,EAAAQ,KAAAC,QAAAJ,IAAAI,KAAAC,EAAAT,EAAA,8CAAAU,EAAAV,GAH7CS,EAAAT,EAAA,KAAAW,EAAAX,KAMAY,aAAe,oBAAmB,OAAAZ,CAAA,CAAAa,EAAAzB,EAAA0B,EAAA1B,EAAAW,GAAA,IAAAgB,EAAA3B,EAAA4B,UAAAD,EAElCE,oBAAA,SAAAA,IACCT,KAAKU,QAAUV,KAAKW,eACrB,EAACJ,EAEDK,yBAAA,SAAAA,IACC,MAAO,CACNC,YAAa,KAEf,EAACN,EAEDI,cAAA,SAAAA,IACC,MAAMG,EAAqBd,KAAKe,mBAAmBC,6BACnD,IAAIC,EACJ,GAAIH,GAAoBI,wBAAwBC,iBAAmB,KAAM,CACxEF,EACCG,EAACC,EAAM,CACNC,GAAItB,KAAKuB,SAAS,UAClB,gBAAc,gBACdC,KAAK,0BACLC,KAAK,gBACLtC,KAAMuC,EAAWC,MACjBC,MAAOC,UACN,UACOf,EAAmBgB,eAAe,kBACxC,MAAMC,QAAgBC,EAAO,mDACvBD,EAAQE,UAAU,CAAEC,KAAMC,EAAYC,cAAcpC,OAC3D,CAAE,MAAOqC,GACRC,EAAID,MAAM,uBAAwBA,EACnC,KAIHrC,KAAKuC,cAAcnB,EAACoB,EAAyB,CAACC,SAAUC,EAAwBC,QAChFC,EAAWC,oBAAoB5B,EAAQ,QAASjB,KAAKI,aACtD,CACA,OAAOa,CACR,EAAC,OAAArC,CAAA,CAzC4C,CANGkE,GAAa5C,EAAA6C,EAAAzD,EAAAkB,UAAA,+CAAAzB,GAAA,CAAAiE,aAAA,KAAAC,WAAA,KAAAC,SAAA,KAAAC,YAAA,kBAEf,IAAI,IAAAhD,EAAA4C,EAAAzD,EAAAkB,UAAA,MAAAvB,GAAA,CAAA+D,aAAA,KAAAC,WAAA,KAAAC,SAAA,KAAAC,YAAA,OAAA7D,KAAAD,GAAAgB,EAAAzB,EAAA,OAAAyB,CAAA","ignoreList":[]}