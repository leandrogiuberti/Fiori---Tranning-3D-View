{"version":3,"names":["SummarizationButton","_dec","defineUI5Class","_dec2","implementInterface","_dec3","property","type","required","_class","_class2","_BuildingBlock","_this","_len","arguments","length","args","Array","_key","call","_initializerDefineProperty","_descriptor","_descriptor2","fesrStepName","_exports","_inheritsLoose","_proto","prototype","onMetadataAvailable","content","createContent","getOverflowToolbarConfig","canOverflow","environmentService","getAppComponent","getEnvironmentCapabilities","button","environmentCapabilities","SmartSummarize","_jsx","Button","id","createId","text","icon","ButtonType","Ghost","press","prepareFeature","library","__ui5_require_async","summarize","view","CommonUtils","getTargetView","error","Log","setLayoutData","OverflowToolbarLayoutData","priority","OverflowToolbarPriority","High","FESRHelper","setSemanticStepname","BuildingBlock","_applyDecoratedDescriptor","configurable","enumerable","writable","initializer"],"sourceRoot":".","sources":["SummarizationButton.tsx"],"sourcesContent":["import Log from \"sap/base/Log\";\nimport { defineUI5Class, implementInterface, property } from \"sap/fe/base/ClassSupport\";\nimport CommonUtils from \"sap/fe/core/CommonUtils\";\nimport BuildingBlock from \"sap/fe/core/buildingBlocks/BuildingBlock\";\nimport Button from \"sap/m/Button\";\nimport OverflowToolbarLayoutData from \"sap/m/OverflowToolbarLayoutData\";\nimport { ButtonType, OverflowToolbarPriority } from \"sap/m/library\";\nimport FESRHelper from \"sap/ui/performance/trace/FESRHelper\";\n\n/**\n * Summarization button building block.\n *\n * If the summarization feature is available, this building block will render a button that triggers the summarization feature.\n */\n@defineUI5Class(\"sap.fe.macros.ai.SummarizationButton\")\nexport default class SummarizationButton extends BuildingBlock {\n\t@implementInterface(\"sap.m.IOverflowToolbarContent\")\n\t__implements__sap_m_IOverflowToolbarContent = true;\n\t/**\n\t * The ID of the button.\n\t */\n\t@property({ type: \"string\", required: true })\n\tpublic id!: string;\n\n\tfesrStepName = \"fe4:sum:summarize\";\n\n\tonMetadataAvailable(): void {\n\t\tthis.content = this.createContent();\n\t}\n\n\tgetOverflowToolbarConfig(): object {\n\t\treturn {\n\t\t\tcanOverflow: true\n\t\t};\n\t}\n\n\tcreateContent(): Button | undefined {\n\t\tconst environmentService = this.getAppComponent()?.getEnvironmentCapabilities();\n\t\tlet button;\n\t\tif (environmentService?.environmentCapabilities.SmartSummarize === true) {\n\t\t\tbutton = (\n\t\t\t\t<Button\n\t\t\t\t\tid={this.createId(\"button\")}\n\t\t\t\t\tdt:designtime=\"not-adaptable\"\n\t\t\t\t\ttext=\"{sap.fe.i18n>SUMMARIZE}\"\n\t\t\t\t\ticon=\"sap-icon://ai\"\n\t\t\t\t\ttype={ButtonType.Ghost}\n\t\t\t\t\tpress={async (): Promise<void> => {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tawait environmentService.prepareFeature(\"SmartSummarize\");\n\t\t\t\t\t\t\tconst library = await import(\"ux/eng/fioriai/reuse/summary/SmartSummary\");\n\t\t\t\t\t\t\tawait library.summarize({ view: CommonUtils.getTargetView(this) });\n\t\t\t\t\t\t} catch (error) {\n\t\t\t\t\t\t\tLog.error(\"Summarization failed\", error as Error);\n\t\t\t\t\t\t}\n\t\t\t\t\t}}\n\t\t\t\t></Button>\n\t\t\t);\n\t\t\tthis.setLayoutData(<OverflowToolbarLayoutData priority={OverflowToolbarPriority.High} />);\n\t\t\tFESRHelper.setSemanticStepname(button, \"press\", this.fesrStepName);\n\t\t}\n\t\treturn button;\n\t}\n}\n"],"mappings":"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","ignoreList":[],"file":"SummarizationButton-dbg.js"}