{"version":3,"names":["ConditionalWrapper","_dec","defineUI5Class","_dec2","implementInterface","_dec3","property","type","defaultValue","_dec4","_dec5","_dec6","association","multiple","singularName","_dec7","aggregation","isDefault","_dec8","_class","_class2","_Control","id","settings","_this","call","_initializerDefineProperty","_descriptor","_descriptor2","_descriptor3","_descriptor4","_descriptor5","_descriptor6","_descriptor7","_inheritsLoose","_proto","prototype","enhanceAccessibilityState","oElement","mAriaProps","oParent","getParent","getAccessibilityInfo","content","condition","contentTrue","contentFalse","_setAriaLabelledBy","oContent","addAriaLabelledBy","getAriaLabelledBy","aAriaLabelledBy","ariaLabelledBy","sId","aAriaLabelledBys","includes","onBeforeRendering","render","oRm","oControl","openStart","style","width","openEnd","renderControl","close","Control","_applyDecoratedDescriptor","configurable","enumerable","writable","initializer"],"sourceRoot":".","sources":["ConditionalWrapper.ts"],"sourcesContent":["import type { CompiledBindingToolkitExpression } from \"sap/fe/base/BindingToolkit\";\nimport type { EnhanceWithUI5, PropertiesOf } from \"sap/fe/base/ClassSupport\";\nimport { aggregation, association, defineUI5Class, implementInterface, property } from \"sap/fe/base/ClassSupport\";\nimport type { $ControlSettings } from \"sap/ui/core/Control\";\nimport Control from \"sap/ui/core/Control\";\nimport type RenderManager from \"sap/ui/core/RenderManager\";\nimport type { AccessibilityInfo, CSSSize, IFormContent } from \"sap/ui/core/library\";\ntype ControlWithAccessibility = Control & { addAriaLabelledBy?: (id: string) => void; getAriaLabelledBy?: () => string[] };\n@defineUI5Class(\"sap.fe.macros.controls.ConditionalWrapper\")\nclass ConditionalWrapper extends Control implements IFormContent {\n\t@implementInterface(\"sap.ui.core.IFormContent\")\n\t__implements__sap_ui_core_IFormContent = true;\n\n\t@property({ type: \"sap.ui.core.CSSSize\", defaultValue: null })\n\twidth!: CSSSize;\n\n\t@property({ type: \"boolean\", defaultValue: false })\n\tformDoNotAdjustWidth!: boolean;\n\n\t@property({ type: \"boolean\", defaultValue: false })\n\tcondition!: boolean | CompiledBindingToolkitExpression;\n\n\t/**\n\t * Association to controls / IDs that label this control (see WAI-ARIA attribute aria-labelledby).\n\t */\n\t@association({ type: \"sap.ui.core.Control\", multiple: true, singularName: \"ariaLabelledBy\" })\n\tariaLabelledBy!: string[];\n\n\t@aggregation({ type: \"sap.ui.core.Control\", multiple: false, isDefault: true })\n\tcontentTrue!: ControlWithAccessibility;\n\n\t@aggregation({ type: \"sap.ui.core.Control\", multiple: false })\n\tcontentFalse!: ControlWithAccessibility;\n\n\tconstructor(\n\t\tid?: string | undefined | (PropertiesOf<ConditionalWrapper> & $ControlSettings),\n\t\tsettings?: $ControlSettings & PropertiesOf<ConditionalWrapper>\n\t) {\n\t\tsuper(id as string, settings);\n\t}\n\n\tenhanceAccessibilityState(oElement: Control, mAriaProps: object): object {\n\t\tconst oParent = this.getParent() as Control;\n\n\t\tif (oParent && oParent.enhanceAccessibilityState) {\n\t\t\toParent.enhanceAccessibilityState(this, mAriaProps);\n\t\t}\n\n\t\treturn mAriaProps;\n\t}\n\n\t/**\n\t * This function provides the current accessibility state of the control.\n\t * @returns The accessibility info of the wrapped control\n\t */\n\tgetAccessibilityInfo(): AccessibilityInfo {\n\t\tlet content;\n\t\tif (this.condition) {\n\t\t\tcontent = this.contentTrue;\n\t\t} else {\n\t\t\tcontent = this.contentFalse;\n\t\t}\n\t\treturn content?.getAccessibilityInfo ? content.getAccessibilityInfo() : {};\n\t}\n\n\t_setAriaLabelledBy(oContent?: ControlWithAccessibility): void {\n\t\tif (oContent && oContent.addAriaLabelledBy && oContent.getAriaLabelledBy) {\n\t\t\tconst aAriaLabelledBy = this.ariaLabelledBy;\n\n\t\t\tfor (const sId of aAriaLabelledBy) {\n\t\t\t\tconst aAriaLabelledBys = oContent.getAriaLabelledBy() || [];\n\t\t\t\tif (!aAriaLabelledBys.includes(sId)) {\n\t\t\t\t\toContent.addAriaLabelledBy(sId);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tonBeforeRendering(): void {\n\t\t// before calling the renderer of the ConditionalWrapper parent control may have set ariaLabelledBy\n\t\t// we ensure it is passed to its inner controls\n\t\tthis._setAriaLabelledBy(this.contentTrue);\n\t\tthis._setAriaLabelledBy(this.contentFalse);\n\t}\n\n\tstatic render(oRm: RenderManager, oControl: ConditionalWrapper): void {\n\t\toRm.openStart(\"div\", oControl);\n\t\toRm.style(\"width\", oControl.width);\n\t\toRm.style(\"display\", \"inline-block\");\n\t\toRm.openEnd();\n\t\tif (oControl.condition) {\n\t\t\toRm.renderControl(oControl.contentTrue);\n\t\t} else {\n\t\t\toRm.renderControl(oControl.contentFalse);\n\t\t}\n\t\toRm.close(\"div\"); // end of the complete Control\n\t}\n}\n\nexport default ConditionalWrapper as unknown as EnhanceWithUI5<ConditionalWrapper>;\n"],"mappings":"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","ignoreList":[],"file":"ConditionalWrapper-dbg.js"}