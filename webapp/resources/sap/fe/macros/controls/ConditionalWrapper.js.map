{"version":3,"file":"ConditionalWrapper.js","names":["ConditionalWrapper","_dec","defineUI5Class","_dec2","implementInterface","_dec3","property","type","defaultValue","_dec4","_dec5","_dec6","association","multiple","singularName","_dec7","aggregation","isDefault","_dec8","_class","_class2","_Control","id","settings","_this","call","this","_initializerDefineProperty","_descriptor","_descriptor2","_descriptor3","_descriptor4","_descriptor5","_descriptor6","_descriptor7","_inheritsLoose","_proto","prototype","enhanceAccessibilityState","oElement","mAriaProps","oParent","getParent","getAccessibilityInfo","content","condition","contentTrue","contentFalse","_setAriaLabelledBy","oContent","addAriaLabelledBy","getAriaLabelledBy","aAriaLabelledBy","ariaLabelledBy","sId","aAriaLabelledBys","includes","onBeforeRendering","render","oRm","oControl","openStart","style","width","openEnd","renderControl","close","Control","_applyDecoratedDescriptor","configurable","enumerable","writable","initializer"],"sources":["./ConditionalWrapper.ts"],"sourcesContent":["import type { CompiledBindingToolkitExpression } from \"sap/fe/base/BindingToolkit\";\nimport type { EnhanceWithUI5, PropertiesOf } from \"sap/fe/base/ClassSupport\";\nimport { aggregation, association, defineUI5Class, implementInterface, property } from \"sap/fe/base/ClassSupport\";\nimport type { $ControlSettings } from \"sap/ui/core/Control\";\nimport Control from \"sap/ui/core/Control\";\nimport type RenderManager from \"sap/ui/core/RenderManager\";\nimport type { AccessibilityInfo, CSSSize, IFormContent } from \"sap/ui/core/library\";\ntype ControlWithAccessibility = Control & { addAriaLabelledBy?: (id: string) => void; getAriaLabelledBy?: () => string[] };\n@defineUI5Class(\"sap.fe.macros.controls.ConditionalWrapper\")\nclass ConditionalWrapper extends Control implements IFormContent {\n\t@implementInterface(\"sap.ui.core.IFormContent\")\n\t__implements__sap_ui_core_IFormContent = true;\n\n\t@property({ type: \"sap.ui.core.CSSSize\", defaultValue: null })\n\twidth!: CSSSize;\n\n\t@property({ type: \"boolean\", defaultValue: false })\n\tformDoNotAdjustWidth!: boolean;\n\n\t@property({ type: \"boolean\", defaultValue: false })\n\tcondition!: boolean | CompiledBindingToolkitExpression;\n\n\t/**\n\t * Association to controls / IDs that label this control (see WAI-ARIA attribute aria-labelledby).\n\t */\n\t@association({ type: \"sap.ui.core.Control\", multiple: true, singularName: \"ariaLabelledBy\" })\n\tariaLabelledBy!: string[];\n\n\t@aggregation({ type: \"sap.ui.core.Control\", multiple: false, isDefault: true })\n\tcontentTrue!: ControlWithAccessibility;\n\n\t@aggregation({ type: \"sap.ui.core.Control\", multiple: false })\n\tcontentFalse!: ControlWithAccessibility;\n\n\tconstructor(\n\t\tid?: string | undefined | (PropertiesOf<ConditionalWrapper> & $ControlSettings),\n\t\tsettings?: $ControlSettings & PropertiesOf<ConditionalWrapper>\n\t) {\n\t\tsuper(id as string, settings);\n\t}\n\n\tenhanceAccessibilityState(oElement: Control, mAriaProps: object): object {\n\t\tconst oParent = this.getParent() as Control;\n\n\t\tif (oParent && oParent.enhanceAccessibilityState) {\n\t\t\toParent.enhanceAccessibilityState(this, mAriaProps);\n\t\t}\n\n\t\treturn mAriaProps;\n\t}\n\n\t/**\n\t * This function provides the current accessibility state of the control.\n\t * @returns The accessibility info of the wrapped control\n\t */\n\tgetAccessibilityInfo(): AccessibilityInfo {\n\t\tlet content;\n\t\tif (this.condition) {\n\t\t\tcontent = this.contentTrue;\n\t\t} else {\n\t\t\tcontent = this.contentFalse;\n\t\t}\n\t\treturn content?.getAccessibilityInfo ? content.getAccessibilityInfo() : {};\n\t}\n\n\t_setAriaLabelledBy(oContent?: ControlWithAccessibility): void {\n\t\tif (oContent && oContent.addAriaLabelledBy && oContent.getAriaLabelledBy) {\n\t\t\tconst aAriaLabelledBy = this.ariaLabelledBy;\n\n\t\t\tfor (const sId of aAriaLabelledBy) {\n\t\t\t\tconst aAriaLabelledBys = oContent.getAriaLabelledBy() || [];\n\t\t\t\tif (!aAriaLabelledBys.includes(sId)) {\n\t\t\t\t\toContent.addAriaLabelledBy(sId);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tonBeforeRendering(): void {\n\t\t// before calling the renderer of the ConditionalWrapper parent control may have set ariaLabelledBy\n\t\t// we ensure it is passed to its inner controls\n\t\tthis._setAriaLabelledBy(this.contentTrue);\n\t\tthis._setAriaLabelledBy(this.contentFalse);\n\t}\n\n\tstatic render(oRm: RenderManager, oControl: ConditionalWrapper): void {\n\t\toRm.openStart(\"div\", oControl);\n\t\toRm.style(\"width\", oControl.width);\n\t\toRm.style(\"display\", \"inline-block\");\n\t\toRm.openEnd();\n\t\tif (oControl.condition) {\n\t\t\toRm.renderControl(oControl.contentTrue);\n\t\t} else {\n\t\t\toRm.renderControl(oControl.contentFalse);\n\t\t}\n\t\toRm.close(\"div\"); // end of the complete Control\n\t}\n}\n\nexport default ConditionalWrapper as unknown as EnhanceWithUI5<ConditionalWrapper>;\n"],"mappings":";;;;qrCASMA,GAAkBC,EADvBC,EAAe,6CAA4CC,EAE1DC,EAAmB,4BAA2BC,EAG9CC,EAAS,CAAEC,KAAM,sBAAuBC,aAAc,OAAOC,EAG7DH,EAAS,CAAEC,KAAM,UAAWC,aAAc,QAAQE,EAGlDJ,EAAS,CAAEC,KAAM,UAAWC,aAAc,QAAQG,EAMlDC,EAAY,CAAEL,KAAM,sBAAuBM,SAAU,KAAMC,aAAc,mBAAmBC,EAG5FC,EAAY,CAAET,KAAM,sBAAuBM,SAAU,MAAOI,UAAW,OAAOC,EAG9EF,EAAY,CAAET,KAAM,sBAAuBM,SAAU,QAAQZ,EAAAkB,GAAAC,EAAA,SAAAC,GAG9D,SAAArB,EACCsB,EACAC,GACC,IAAAC,EACDA,EAAAH,EAAAI,KAAAC,KAAMJ,EAAcC,IAASG,KAACC,EAAAH,EAAA,yCAAAI,EAAAJ,GAAAG,EAAAH,EAAA,QAAAK,EAAAL,GAAAG,EAAAH,EAAA,uBAAAM,EAAAN,GAAAG,EAAAH,EAAA,YAAAO,EAAAP,GAhB/BG,EAAAH,EAAA,iBAAAQ,EAAAR,GAAAG,EAAAH,EAAA,cAAAS,EAAAT,GAAAG,EAAAH,EAAA,eAAAU,EAAAV,GAAA,OAAAA,CAiBA,CAACW,EAAAnC,EAAAqB,GAAA,IAAAe,EAAApC,EAAAqC,UAAAD,EAEDE,0BAAA,SAAAA,EAA0BC,EAAmBC,GAC5C,MAAMC,EAAUf,KAAKgB,YAErB,GAAID,GAAWA,EAAQH,0BAA2B,CACjDG,EAAQH,0BAA0BZ,KAAMc,EACzC,CAEA,OAAOA,CACR,EAEAJ,EAIAO,qBAAA,SAAAA,IACC,IAAIC,EACJ,GAAIlB,KAAKmB,UAAW,CACnBD,EAAUlB,KAAKoB,WAChB,KAAO,CACNF,EAAUlB,KAAKqB,YAChB,CACA,OAAOH,GAASD,qBAAuBC,EAAQD,uBAAyB,CAAC,CAC1E,EAACP,EAEDY,mBAAA,SAAAA,EAAmBC,GAClB,GAAIA,GAAYA,EAASC,mBAAqBD,EAASE,kBAAmB,CACzE,MAAMC,EAAkB1B,KAAK2B,eAE7B,IAAK,MAAMC,KAAOF,EAAiB,CAClC,MAAMG,EAAmBN,EAASE,qBAAuB,GACzD,IAAKI,EAAiBC,SAASF,GAAM,CACpCL,EAASC,kBAAkBI,EAC5B,CACD,CACD,CACD,EAAClB,EAEDqB,kBAAA,SAAAA,IAGC/B,KAAKsB,mBAAmBtB,KAAKoB,aAC7BpB,KAAKsB,mBAAmBtB,KAAKqB,aAC9B,EAAC/C,EAEM0D,OAAP,SAAOA,EAAOC,EAAoBC,GACjCD,EAAIE,UAAU,MAAOD,GACrBD,EAAIG,MAAM,QAASF,EAASG,OAC5BJ,EAAIG,MAAM,UAAW,gBACrBH,EAAIK,UACJ,GAAIJ,EAASf,UAAW,CACvBc,EAAIM,cAAcL,EAASd,YAC5B,KAAO,CACNa,EAAIM,cAAcL,EAASb,aAC5B,CACAY,EAAIO,MAAM,MACX,EAAC,OAAAlE,CAAA,CAjE6D,CAtB9BmE,GAAOvC,EAAAwC,EAAAhD,EAAAiB,UAAA,0CAAAlC,GAAA,CAAAkE,aAAA,KAAAC,WAAA,KAAAC,SAAA,KAAAC,YAAA,kBAEE,IAAI,IAAA3C,EAAAuC,EAAAhD,EAAAiB,UAAA,SAAAhC,GAAA,CAAAgE,aAAA,KAAAC,WAAA,KAAAC,SAAA,KAAAC,YAAA,OAAA1C,EAAAsC,EAAAhD,EAAAiB,UAAA,wBAAA5B,GAAA,CAAA4D,aAAA,KAAAC,WAAA,KAAAC,SAAA,KAAAC,YAAA,OAAAzC,EAAAqC,EAAAhD,EAAAiB,UAAA,aAAA3B,GAAA,CAAA2D,aAAA,KAAAC,WAAA,KAAAC,SAAA,KAAAC,YAAA,OAAAxC,EAAAoC,EAAAhD,EAAAiB,UAAA,kBAAA1B,GAAA,CAAA0D,aAAA,KAAAC,WAAA,KAAAC,SAAA,KAAAC,YAAA,OAAAvC,EAAAmC,EAAAhD,EAAAiB,UAAA,eAAAtB,GAAA,CAAAsD,aAAA,KAAAC,WAAA,KAAAC,SAAA,KAAAC,YAAA,OAAAtC,EAAAkC,EAAAhD,EAAAiB,UAAA,gBAAAnB,GAAA,CAAAmD,aAAA,KAAAC,WAAA,KAAAC,SAAA,KAAAC,YAAA,OAAApD,KAAAD,GAAA,OAwF/BnB,CAAkB","ignoreList":[]}