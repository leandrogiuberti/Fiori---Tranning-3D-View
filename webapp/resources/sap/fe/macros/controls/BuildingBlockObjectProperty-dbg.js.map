{"version":3,"names":["BuildingBlockObjectProperty","_dec","defineUI5Class","_class","_UI5Element","apply","arguments","_exports","_inheritsLoose","_proto","prototype","getPropertyBag","settings","properties","getMetadata","getAllProperties","aggregations","getAllAggregations","propertyName","property","getProperty","aggregationName","aggregationContent","getAggregation","Array","isArray","childrenArray","managedObject","isA","push","getId","serialize","overrideNodeName","events","getAllEvents","children","eventName","jsxXml","getClass","undefined","bindProperty","name","bindingInfo","propertyMetadata","bindable","group","call","UI5Element"],"sourceRoot":".","sources":["BuildingBlockObjectProperty.ts"],"sourcesContent":["import type { PropertiesOf } from \"sap/fe/base/ClassSupport\";\nimport { defineUI5Class } from \"sap/fe/base/ClassSupport\";\nimport type { ControlProperties, NonControlProperties } from \"sap/fe/base/jsx-runtime/jsx\";\nimport jsxXml from \"sap/fe/base/jsx-runtime/jsx-xml\";\nimport type { PropertyBindingInfo } from \"sap/ui/base/ManagedObject\";\nimport type Control from \"sap/ui/core/Control\";\nimport UI5Element from \"sap/ui/core/Element\";\n\n/**\n * Base class for building block complex object properties that can be serialized to XML.\n * @public\n */\n@defineUI5Class(\"sap.fe.macros.controls.BuildingBlockObjectProperty\")\nexport default class BuildingBlockObjectProperty extends UI5Element {\n\tgetPropertyBag(): PropertiesOf<this> {\n\t\tconst settings: PropertiesOf<this> = {} as PropertiesOf<this>;\n\t\tconst properties = this.getMetadata().getAllProperties();\n\t\tconst aggregations = this.getMetadata().getAllAggregations();\n\t\tfor (const propertyName in properties) {\n\t\t\tconst property = this.getProperty(propertyName);\n\t\t\tif (typeof property !== \"function\") {\n\t\t\t\tsettings[propertyName as keyof PropertiesOf<this>] = property;\n\t\t\t}\n\t\t}\n\t\tfor (const aggregationName in aggregations) {\n\t\t\tconst aggregationContent = this.getAggregation(aggregationName);\n\t\t\tif (Array.isArray(aggregationContent)) {\n\t\t\t\tconst childrenArray = [];\n\t\t\t\tfor (const managedObject of aggregationContent) {\n\t\t\t\t\tif (managedObject.isA<BuildingBlockObjectProperty>(\"sap.fe.macros.controls.BuildingBlockObjectProperty\")) {\n\t\t\t\t\t\tchildrenArray.push(managedObject.getPropertyBag());\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tsettings[aggregationName as keyof PropertiesOf<this>] = childrenArray;\n\t\t\t} else if (aggregationContent) {\n\t\t\t\tif (aggregationContent.isA<BuildingBlockObjectProperty>(\"sap.fe.macros.controls.BuildingBlockObjectProperty\")) {\n\t\t\t\t\tsettings[aggregationName as keyof PropertiesOf<this>] = aggregationContent.getPropertyBag();\n\t\t\t\t} else {\n\t\t\t\t\tsettings[aggregationName as keyof PropertiesOf<this>] = aggregationContent.getId();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn settings;\n\t}\n\n\tserialize(overrideNodeName?: string): string {\n\t\tconst properties = this.getMetadata().getAllProperties();\n\t\tconst events = this.getMetadata().getAllEvents();\n\t\tconst aggregations = this.getMetadata().getAllAggregations();\n\t\tconst settings: Record<string, unknown> & { children: Record<string, unknown> } = { children: {} };\n\t\tfor (const eventName in events) {\n\t\t\tsettings[eventName] = `THIS._fireEvent($event, $controller, '${eventName}')`;\n\t\t}\n\t\tfor (const propertyName in properties) {\n\t\t\tconst property = this.getProperty(propertyName);\n\t\t\tif (typeof property !== \"function\") {\n\t\t\t\tsettings[propertyName] = property;\n\t\t\t}\n\t\t}\n\t\tfor (const aggregationName in aggregations) {\n\t\t\tconst aggregationContent = this.getAggregation(aggregationName);\n\t\t\tif (Array.isArray(aggregationContent)) {\n\t\t\t\tconst childrenArray = [];\n\t\t\t\tfor (const managedObject of aggregationContent) {\n\t\t\t\t\tif (managedObject.isA<BuildingBlockObjectProperty>(\"sap.fe.macros.controls.BuildingBlockObjectProperty\")) {\n\t\t\t\t\t\tchildrenArray.push(managedObject.serialize());\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tsettings.children[aggregationName] = childrenArray;\n\t\t\t} else if (aggregationContent) {\n\t\t\t\tif (aggregationContent.isA<BuildingBlockObjectProperty>(\"sap.fe.macros.controls.BuildingBlockObjectProperty\")) {\n\t\t\t\t\tsettings.children[aggregationName] = aggregationContent.serialize();\n\t\t\t\t} else {\n\t\t\t\t\tsettings[aggregationName] = aggregationContent.getId();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn jsxXml<BuildingBlockObjectProperty>(\n\t\t\tthis.getMetadata().getClass() as unknown as typeof Control,\n\t\t\tsettings as NonControlProperties<BuildingBlockObjectProperty> & {\n\t\t\t\tkey?: string;\n\t\t\t\tchildren?: UI5Element | ControlProperties<BuildingBlockObjectProperty>;\n\t\t\t},\n\t\t\tundefined,\n\t\t\t{},\n\t\t\toverrideNodeName\n\t\t);\n\t}\n\n\toverride bindProperty(name: string, bindingInfo: PropertyBindingInfo): this {\n\t\tconst propertyMetadata = this.getMetadata().getProperty(name);\n\t\tif (propertyMetadata?.bindable === false && propertyMetadata.group === \"Data\") {\n\t\t\t(this as Record<string, unknown>)[name] = bindingInfo;\n\t\t} else {\n\t\t\tsuper.bindProperty(name, bindingInfo);\n\t\t}\n\t\treturn this;\n\t}\n}\n"],"mappings":"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","ignoreList":[],"file":"BuildingBlockObjectProperty-dbg.js"}