{"version":3,"names":["BuildingBlockWithTemplating","_dec","defineUI5Class","_class","_BuildingBlock","apply","arguments","_exports","_inheritsLoose","_proto","prototype","onMetadataAvailable","content","_createContent","owner","_getOwner","isA","contentCreated","createContent","createProxyMethods","methods","_this","method","_len","length","args","Array","_key","setProperty","propertyKey","propertyValue","bSuppressInvalidate","_applyingSettings","undefined","Object","keys","getMetadata","getProperties","includes","call","setAggregation","aggregationObject","getAggregations","removeAggregation","aggregationName","object","suppressInvalidate","removed","addAggregation","insertAggregation","index","preprocessorContext","getPreprocessorContext","models","bindingContexts","metadata","bbMetadata","buildingBlockMetadata","namespace","publicNamespace","name","fqnName","getName","replaceAll","xmlProperties","xmlAggregations","allAggregations","aggregations","propertiesKey","properties","propertyValueObject","hasOwnProperty","getModel","model","getObject","path","type","push","xml","xmlAggregation","serialize","isContext","getPath","aggregationKey","_aggregationValue","isArray","aggregationChildren","aggregationChild","join","fragment","XMLPreprocessor","process","parseXMLString","firstElementChild","destroy","runAsOwner","Fragment","load","definition","controller","getRootController","BuildingBlock"],"sourceRoot":".","sources":["BuildingBlockWithTemplating.ts"],"sourcesContent":["import type { EnhanceWithUI5, UI5ControlMetadataDefinition } from \"sap/fe/base/ClassSupport\";\nimport { defineUI5Class } from \"sap/fe/base/ClassSupport\";\nimport type TemplateComponent from \"sap/fe/core/TemplateComponent\";\nimport BuildingBlock from \"sap/fe/core/buildingBlocks/BuildingBlock\";\nimport type { BuildingBlockMetadata } from \"sap/fe/core/buildingBlocks/templating/BuildingBlockSupport\";\nimport { parseXMLString, xml } from \"sap/fe/core/buildingBlocks/templating/BuildingBlockTemplateProcessor\";\nimport { isContext } from \"sap/fe/core/helpers/TypeGuards\";\nimport type BuildingBlockObjectProperty from \"sap/fe/macros/controls/BuildingBlockObjectProperty\";\nimport type ManagedObject from \"sap/ui/base/ManagedObject\";\nimport type { PropertyBindingInfo } from \"sap/ui/base/ManagedObject\";\nimport type BaseObject from \"sap/ui/base/Object\";\nimport type Control from \"sap/ui/core/Control\";\nimport type UI5Element from \"sap/ui/core/Element\";\nimport Fragment from \"sap/ui/core/Fragment\";\nimport XMLPreprocessor from \"sap/ui/core/util/XMLPreprocessor\";\n\n/**\n * Using this class you can define a building block that will manage and render a templating based building block.\n * On change of the main properties you will be able to recreate the content.\n * @public\n * @ui5-experimental-since\n * @deprecated\n * @deprecatedsince 1.140\n */\n@defineUI5Class(\"sap.fe.macros.controls.BuildingBlockWithTemplating\")\nexport default class BuildingBlockWithTemplating extends BuildingBlock<Control> {\n\tpublic contentCreated?: Promise<void>;\n\n\tprivate metadata!: UI5ControlMetadataDefinition;\n\n\tonMetadataAvailable(): void {\n\t\tif (!this.content) {\n\t\t\tthis._createContent();\n\t\t}\n\t}\n\n\t_createContent(): void {\n\t\tconst owner = this._getOwner();\n\t\tif (owner?.isA<TemplateComponent>(\"sap.fe.core.TemplateComponent\")) {\n\t\t\tthis.contentCreated = this.createContent(owner as EnhanceWithUI5<TemplateComponent>);\n\t\t}\n\t}\n\n\t/**\n\t * Create proxy methods to forward calls to the content for the given methods.\n\t * @param methods The method to proxy\n\t */\n\tcreateProxyMethods(methods: string[]): void {\n\t\tfor (const method of methods) {\n\t\t\t(this as unknown as Record<string, Function>)[method] = (...args: unknown[]): unknown => {\n\t\t\t\treturn (this.content as unknown as Record<string, Function>)?.[method]?.(...args);\n\t\t\t};\n\t\t}\n\t}\n\n\tsetProperty(propertyKey: string, propertyValue: string, bSuppressInvalidate?: boolean): this {\n\t\tif (\n\t\t\t!this._applyingSettings &&\n\t\t\tpropertyValue !== undefined &&\n\t\t\tObject.keys(this.getMetadata().getProperties()).includes(propertyKey)\n\t\t) {\n\t\t\tsuper.setProperty(propertyKey, propertyValue, true);\n\t\t\tthis._createContent();\n\t\t} else {\n\t\t\tsuper.setProperty(propertyKey, propertyValue, bSuppressInvalidate);\n\t\t}\n\t\treturn this;\n\t}\n\n\tsetAggregation(propertyKey: string, aggregationObject: ManagedObject, bSuppressInvalidate?: boolean): this {\n\t\tif (!this._applyingSettings && Object.keys(this.getMetadata().getAggregations()).includes(propertyKey)) {\n\t\t\tsuper.setAggregation(propertyKey, aggregationObject, true);\n\t\t\tthis._createContent();\n\t\t} else {\n\t\t\tsuper.setAggregation(propertyKey, aggregationObject, bSuppressInvalidate);\n\t\t}\n\t\treturn this;\n\t}\n\n\tremoveAggregation(\n\t\taggregationName: string,\n\t\tobject: ManagedObject | number | string,\n\t\tsuppressInvalidate?: boolean\n\t): ManagedObject | null {\n\t\tlet removed: ManagedObject | null;\n\t\tif (\n\t\t\t!this._applyingSettings &&\n\t\t\tobject !== undefined &&\n\t\t\tObject.keys(this.getMetadata().getAggregations()).includes(aggregationName)\n\t\t) {\n\t\t\tremoved = super.removeAggregation(aggregationName, object, suppressInvalidate);\n\t\t\tthis._createContent();\n\t\t} else {\n\t\t\tremoved = super.removeAggregation(aggregationName, object, suppressInvalidate);\n\t\t}\n\t\treturn removed;\n\t}\n\n\taddAggregation(aggregationName: string, object: ManagedObject, suppressInvalidate?: boolean): this {\n\t\tif (!this._applyingSettings && Object.keys(this.getMetadata().getAggregations()).includes(aggregationName)) {\n\t\t\tsuper.addAggregation(aggregationName, object, suppressInvalidate);\n\t\t\tthis._createContent();\n\t\t} else {\n\t\t\tsuper.addAggregation(aggregationName, object, suppressInvalidate);\n\t\t}\n\t\treturn this;\n\t}\n\n\tinsertAggregation(aggregationName: string, object: ManagedObject, index: number, suppressInvalidate?: boolean): this {\n\t\tif (!this._applyingSettings && Object.keys(this.getMetadata().getAggregations()).includes(aggregationName)) {\n\t\t\tsuper.insertAggregation(aggregationName, object, index, suppressInvalidate);\n\t\t\tthis._createContent();\n\t\t} else {\n\t\t\tsuper.insertAggregation(aggregationName, object, index, suppressInvalidate);\n\t\t}\n\t\treturn this;\n\t}\n\n\tasync createContent(owner: EnhanceWithUI5<TemplateComponent>): Promise<void> {\n\t\tif (this.contentCreated) {\n\t\t\tawait this.contentCreated;\n\t\t}\n\t\t// Only special building block will implement this\n\t\tconst preprocessorContext = owner.getPreprocessorContext() ?? {\n\t\t\tmodels: {},\n\t\t\tbindingContexts: {}\n\t\t};\n\n\t\tconst metadata = this.getMetadata();\n\t\tconst bbMetadata = this.metadata.buildingBlockMetadata as BuildingBlockMetadata | undefined;\n\t\tif (bbMetadata) {\n\t\t\tconst namespace = bbMetadata.publicNamespace ?? bbMetadata.namespace;\n\t\t\tconst name = bbMetadata.name;\n\t\t\tconst fqnName = `${metadata.getName()}`.replaceAll(\".\", \"/\");\n\t\t\tconst xmlProperties: string[] = [];\n\t\t\tconst xmlAggregations: string[] = [];\n\t\t\tconst allAggregations = bbMetadata.aggregations;\n\n\t\t\tfor (const propertiesKey in bbMetadata.properties) {\n\t\t\t\tlet propertyValue = this[propertiesKey as keyof this] as unknown;\n\t\t\t\tlet propertyValueObject = propertyValue as BaseObject;\n\t\t\t\tif (propertyValueObject?.hasOwnProperty?.(\"path\") && propertyValueObject?.hasOwnProperty?.(\"model\")) {\n\t\t\t\t\tpropertyValueObject = this.getModel((propertyValueObject as PropertyBindingInfo).model)?.getObject(\n\t\t\t\t\t\t(propertyValueObject as PropertyBindingInfo).path\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t\tif (bbMetadata.properties[propertiesKey].type === \"function\") {\n\t\t\t\t\txmlProperties.push(xml`${propertiesKey}=\"THIS._fireEvent($event, $controller, '${propertiesKey}')\"`);\n\t\t\t\t} else if (\n\t\t\t\t\tpropertyValueObject?.isA &&\n\t\t\t\t\tpropertyValueObject.isA<BuildingBlockObjectProperty>(\"sap.fe.macros.controls.BuildingBlockObjectProperty\")\n\t\t\t\t) {\n\t\t\t\t\tconst xmlAggregation = propertyValueObject.serialize(`feBB:${propertiesKey}`);\n\t\t\t\t\txmlAggregations.push(xmlAggregation);\n\t\t\t\t} else if (bbMetadata.properties[propertiesKey].type === \"array\") {\n\t\t\t\t\tallAggregations[propertiesKey] = bbMetadata.properties[propertiesKey];\n\t\t\t\t} else if (\n\t\t\t\t\tpropertyValue !== undefined &&\n\t\t\t\t\tpropertyValue !== null &&\n\t\t\t\t\t(typeof propertyValue !== \"object\" || Object.keys(propertyValue).length > 0)\n\t\t\t\t) {\n\t\t\t\t\tif (isContext(propertyValue)) {\n\t\t\t\t\t\tpropertyValue = propertyValue.getPath();\n\t\t\t\t\t} else if (propertiesKey === \"id\") {\n\t\t\t\t\t\txmlProperties.push(xml`${propertiesKey}=\"${propertyValue}-block\"`);\n\t\t\t\t\t} else {\n\t\t\t\t\t\txmlProperties.push(xml`${propertiesKey}=\"${propertyValue}\"`);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tfor (const aggregationKey in allAggregations) {\n\t\t\t\tconst _aggregationValue = this[aggregationKey as keyof this] as unknown as UI5Element | UI5Element[] | null;\n\t\t\t\tif (_aggregationValue && (!Array.isArray(_aggregationValue) || _aggregationValue?.length > 0)) {\n\t\t\t\t\tconst aggregationChildren: string[] = [];\n\t\t\t\t\tif (Array.isArray(_aggregationValue)) {\n\t\t\t\t\t\tfor (const aggregationChild of _aggregationValue) {\n\t\t\t\t\t\t\tif (aggregationChild.isA<BuildingBlockObjectProperty>(\"sap.fe.macros.controls.BuildingBlockObjectProperty\"))\n\t\t\t\t\t\t\t\taggregationChildren.push(aggregationChild.serialize());\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if (_aggregationValue.isA<BuildingBlockObjectProperty>(\"sap.fe.macros.controls.BuildingBlockObjectProperty\")) {\n\t\t\t\t\t\taggregationChildren.push(_aggregationValue.serialize());\n\t\t\t\t\t}\n\t\t\t\t\tconst xmlAggregation = `<feBB:${aggregationKey}>${aggregationChildren.join(\"\\n\")}</feBB:${aggregationKey}>`;\n\n\t\t\t\t\txmlAggregations.push(xmlAggregation);\n\t\t\t\t}\n\t\t\t}\n\t\t\tconst fragment = await XMLPreprocessor.process(\n\t\t\t\tparseXMLString(\n\t\t\t\t\txml`<root><feBB:${name}\n\t\t\txmlns:core=\"sap.ui.core\"\n\t\t\txmlns:feBB=\"${namespace}\"\n\t\t\t${xmlProperties.length > 0 ? xmlProperties : \"\"}\n\t\t\tcore:require=\"{THIS: '${fqnName}'}\"\n\t\t\t>${xmlAggregations.length > 0 ? xmlAggregations : \"\"}</feBB:${name}></root>`,\n\t\t\t\t\ttrue\n\t\t\t\t)[0],\n\t\t\t\t{ models: {} },\n\t\t\t\tpreprocessorContext\n\t\t\t);\n\t\t\tif (fragment.firstElementChild) {\n\t\t\t\tthis.content?.destroy();\n\t\t\t\tthis.content = await owner.runAsOwner(async () => {\n\t\t\t\t\treturn Fragment.load({\n\t\t\t\t\t\tdefinition: fragment.firstElementChild as Element,\n\t\t\t\t\t\tcontroller: owner.getRootController()\n\t\t\t\t\t}) as Promise<Control>;\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n}\n"],"mappings":"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","ignoreList":[],"file":"BuildingBlockWithTemplating-dbg.js"}