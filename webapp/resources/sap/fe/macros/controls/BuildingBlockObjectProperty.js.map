{"version":3,"file":"BuildingBlockObjectProperty.js","names":["BuildingBlockObjectProperty","_dec","defineUI5Class","_class","_UI5Element","apply","this","arguments","_exports","_inheritsLoose","_proto","prototype","getPropertyBag","settings","properties","getMetadata","getAllProperties","aggregations","getAllAggregations","propertyName","property","getProperty","aggregationName","aggregationContent","getAggregation","Array","isArray","childrenArray","managedObject","isA","push","getId","serialize","overrideNodeName","events","getAllEvents","children","eventName","jsxXml","getClass","undefined","bindProperty","name","bindingInfo","propertyMetadata","bindable","group","call","UI5Element"],"sources":["./BuildingBlockObjectProperty.ts"],"sourcesContent":["import type { PropertiesOf } from \"sap/fe/base/ClassSupport\";\nimport { defineUI5Class } from \"sap/fe/base/ClassSupport\";\nimport type { ControlProperties, NonControlProperties } from \"sap/fe/base/jsx-runtime/jsx\";\nimport jsxXml from \"sap/fe/base/jsx-runtime/jsx-xml\";\nimport type { PropertyBindingInfo } from \"sap/ui/base/ManagedObject\";\nimport type Control from \"sap/ui/core/Control\";\nimport UI5Element from \"sap/ui/core/Element\";\n\n/**\n * Base class for building block complex object properties that can be serialized to XML.\n * @public\n */\n@defineUI5Class(\"sap.fe.macros.controls.BuildingBlockObjectProperty\")\nexport default class BuildingBlockObjectProperty extends UI5Element {\n\tgetPropertyBag(): PropertiesOf<this> {\n\t\tconst settings: PropertiesOf<this> = {} as PropertiesOf<this>;\n\t\tconst properties = this.getMetadata().getAllProperties();\n\t\tconst aggregations = this.getMetadata().getAllAggregations();\n\t\tfor (const propertyName in properties) {\n\t\t\tconst property = this.getProperty(propertyName);\n\t\t\tif (typeof property !== \"function\") {\n\t\t\t\tsettings[propertyName as keyof PropertiesOf<this>] = property;\n\t\t\t}\n\t\t}\n\t\tfor (const aggregationName in aggregations) {\n\t\t\tconst aggregationContent = this.getAggregation(aggregationName);\n\t\t\tif (Array.isArray(aggregationContent)) {\n\t\t\t\tconst childrenArray = [];\n\t\t\t\tfor (const managedObject of aggregationContent) {\n\t\t\t\t\tif (managedObject.isA<BuildingBlockObjectProperty>(\"sap.fe.macros.controls.BuildingBlockObjectProperty\")) {\n\t\t\t\t\t\tchildrenArray.push(managedObject.getPropertyBag());\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tsettings[aggregationName as keyof PropertiesOf<this>] = childrenArray;\n\t\t\t} else if (aggregationContent) {\n\t\t\t\tif (aggregationContent.isA<BuildingBlockObjectProperty>(\"sap.fe.macros.controls.BuildingBlockObjectProperty\")) {\n\t\t\t\t\tsettings[aggregationName as keyof PropertiesOf<this>] = aggregationContent.getPropertyBag();\n\t\t\t\t} else {\n\t\t\t\t\tsettings[aggregationName as keyof PropertiesOf<this>] = aggregationContent.getId();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn settings;\n\t}\n\n\tserialize(overrideNodeName?: string): string {\n\t\tconst properties = this.getMetadata().getAllProperties();\n\t\tconst events = this.getMetadata().getAllEvents();\n\t\tconst aggregations = this.getMetadata().getAllAggregations();\n\t\tconst settings: Record<string, unknown> & { children: Record<string, unknown> } = { children: {} };\n\t\tfor (const eventName in events) {\n\t\t\tsettings[eventName] = `THIS._fireEvent($event, $controller, '${eventName}')`;\n\t\t}\n\t\tfor (const propertyName in properties) {\n\t\t\tconst property = this.getProperty(propertyName);\n\t\t\tif (typeof property !== \"function\") {\n\t\t\t\tsettings[propertyName] = property;\n\t\t\t}\n\t\t}\n\t\tfor (const aggregationName in aggregations) {\n\t\t\tconst aggregationContent = this.getAggregation(aggregationName);\n\t\t\tif (Array.isArray(aggregationContent)) {\n\t\t\t\tconst childrenArray = [];\n\t\t\t\tfor (const managedObject of aggregationContent) {\n\t\t\t\t\tif (managedObject.isA<BuildingBlockObjectProperty>(\"sap.fe.macros.controls.BuildingBlockObjectProperty\")) {\n\t\t\t\t\t\tchildrenArray.push(managedObject.serialize());\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tsettings.children[aggregationName] = childrenArray;\n\t\t\t} else if (aggregationContent) {\n\t\t\t\tif (aggregationContent.isA<BuildingBlockObjectProperty>(\"sap.fe.macros.controls.BuildingBlockObjectProperty\")) {\n\t\t\t\t\tsettings.children[aggregationName] = aggregationContent.serialize();\n\t\t\t\t} else {\n\t\t\t\t\tsettings[aggregationName] = aggregationContent.getId();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn jsxXml<BuildingBlockObjectProperty>(\n\t\t\tthis.getMetadata().getClass() as unknown as typeof Control,\n\t\t\tsettings as NonControlProperties<BuildingBlockObjectProperty> & {\n\t\t\t\tkey?: string;\n\t\t\t\tchildren?: UI5Element | ControlProperties<BuildingBlockObjectProperty>;\n\t\t\t},\n\t\t\tundefined,\n\t\t\t{},\n\t\t\toverrideNodeName\n\t\t);\n\t}\n\n\toverride bindProperty(name: string, bindingInfo: PropertyBindingInfo): this {\n\t\tconst propertyMetadata = this.getMetadata().getProperty(name);\n\t\tif (propertyMetadata?.bindable === false && propertyMetadata.group === \"Data\") {\n\t\t\t(this as Record<string, unknown>)[name] = bindingInfo;\n\t\t} else {\n\t\t\tsuper.bindProperty(name, bindingInfo);\n\t\t}\n\t\treturn this;\n\t}\n}\n"],"mappings":";;;;yXAQA,IAKqBA,GAA2BC,EAD/CC,EAAe,sDAAqDD,EAAAE,EAAA,SAAAC,GAAA,SAAAJ,IAAA,OAAAI,EAAAC,MAAAC,KAAAC,YAAAD,IAAA,CAAAE,EAAAR,EAAAS,EAAAT,EAAAI,GAAA,IAAAM,EAAAV,EAAAW,UAAAD,EAEpEE,eAAA,SAAAA,IACC,MAAMC,EAA+B,CAAC,EACtC,MAAMC,EAAaR,KAAKS,cAAcC,mBACtC,MAAMC,EAAeX,KAAKS,cAAcG,qBACxC,IAAK,MAAMC,KAAgBL,EAAY,CACtC,MAAMM,EAAWd,KAAKe,YAAYF,GAClC,UAAWC,IAAa,WAAY,CACnCP,EAASM,GAA4CC,CACtD,CACD,CACA,IAAK,MAAME,KAAmBL,EAAc,CAC3C,MAAMM,EAAqBjB,KAAKkB,eAAeF,GAC/C,GAAIG,MAAMC,QAAQH,GAAqB,CACtC,MAAMI,EAAgB,GACtB,IAAK,MAAMC,KAAiBL,EAAoB,CAC/C,GAAIK,EAAcC,IAAiC,sDAAuD,CACzGF,EAAcG,KAAKF,EAAchB,iBAClC,CACD,CACAC,EAASS,GAA+CK,CACzD,MAAO,GAAIJ,EAAoB,CAC9B,GAAIA,EAAmBM,IAAiC,sDAAuD,CAC9GhB,EAASS,GAA+CC,EAAmBX,gBAC5E,KAAO,CACNC,EAASS,GAA+CC,EAAmBQ,OAC5E,CACD,CACD,CACA,OAAOlB,CACR,EAACH,EAEDsB,UAAA,SAAAA,EAAUC,GACT,MAAMnB,EAAaR,KAAKS,cAAcC,mBACtC,MAAMkB,EAAS5B,KAAKS,cAAcoB,eAClC,MAAMlB,EAAeX,KAAKS,cAAcG,qBACxC,MAAML,EAA4E,CAAEuB,SAAU,CAAC,GAC/F,IAAK,MAAMC,KAAaH,EAAQ,CAC/BrB,EAASwB,GAAa,yCAAyCA,KAChE,CACA,IAAK,MAAMlB,KAAgBL,EAAY,CACtC,MAAMM,EAAWd,KAAKe,YAAYF,GAClC,UAAWC,IAAa,WAAY,CACnCP,EAASM,GAAgBC,CAC1B,CACD,CACA,IAAK,MAAME,KAAmBL,EAAc,CAC3C,MAAMM,EAAqBjB,KAAKkB,eAAeF,GAC/C,GAAIG,MAAMC,QAAQH,GAAqB,CACtC,MAAMI,EAAgB,GACtB,IAAK,MAAMC,KAAiBL,EAAoB,CAC/C,GAAIK,EAAcC,IAAiC,sDAAuD,CACzGF,EAAcG,KAAKF,EAAcI,YAClC,CACD,CACAnB,EAASuB,SAASd,GAAmBK,CACtC,MAAO,GAAIJ,EAAoB,CAC9B,GAAIA,EAAmBM,IAAiC,sDAAuD,CAC9GhB,EAASuB,SAASd,GAAmBC,EAAmBS,WACzD,KAAO,CACNnB,EAASS,GAAmBC,EAAmBQ,OAChD,CACD,CACD,CACA,OAAOO,EACNhC,KAAKS,cAAcwB,WACnB1B,EAIA2B,UACA,CAAC,EACDP,EAEF,EAACvB,EAEQ+B,aAAT,SAASA,EAAaC,EAAcC,GACnC,MAAMC,EAAmBtC,KAAKS,cAAcM,YAAYqB,GACxD,GAAIE,GAAkBC,WAAa,OAASD,EAAiBE,QAAU,OAAQ,CAC7ExC,KAAiCoC,GAAQC,CAC3C,KAAO,CACNvC,EAAAO,UAAM8B,aAAYM,KAAAzC,KAACoC,EAAMC,EAC1B,CACA,OAAOrC,IACR,EAAC,OAAAN,CAAA,CArFmE,CACZgD,KAAU7C,GAAAK,EAAAR,EAAA,OAAAQ,CAAA","ignoreList":[]}