{"version":3,"names":["MassEditField","properties","context","isValid","select","createSelect","field","createField","_exports","_proto","prototype","getControls","controls","push","getFieldValues","selectedKey","getSelectedKey","selectedItem","selectItems","find","item","key","values","propertyValue","propertyUnitValue","bindingValue","getBindingContext","getProperty","propertyInfo","relativePath","getParent","getVisible","SpecificSelectKeys","ClearFieldValueKey","getFormattedValue","ReplaceKey","unitOrCurrencyValue","unitOrCurrencyPropertyPath","undefined","selectOptions","text","newValue","newPropertyValue","KeepKey","inputType","isReadOnlyOnContext","readOnlyInfo","readOnlyExpression","isReadOnly","isConstant","compileConstant","anyObject","Any","anyBoolean","compileExpression","setModel","getModel","setBindingContext","getBinding","getExternalValue","destroy","value","emptyValue","_jsx","Field","contextPath","metaPath","id","ID","generate","editMode","FieldEditMode","Editable","visible","change","handleFieldChange","bind","event","FieldRuntimeHelper","getFieldStateOnChange","state","isFieldValid","Select","items","map","selectItem","Item","required","isFieldRequired","handleSelectionChange","width","ariaLabelledBy","getSelectedItem","bindingContext","getKey","selectedValue","setVisible","includes","setSelectedKey","uniPropertyPath","setProperty","descriptionPath"],"sourceRoot":".","sources":["MassEditField.tsx"],"sourcesContent":["import type { PrimitiveType } from \"sap/fe/base/BindingToolkit\";\nimport { compileConstant, compileExpression, isConstant } from \"sap/fe/base/BindingToolkit\";\nimport Any from \"sap/fe/core/controls/Any\";\nimport * as ID from \"sap/fe/core/helpers/StableIdHelper\";\nimport Field from \"sap/fe/macros/Field\";\nimport type { MassFieldProperties } from \"sap/fe/macros/table/massEdit/library\";\nimport { SpecificSelectKeys } from \"sap/fe/macros/table/massEdit/library\";\nimport Select from \"sap/m/Select\";\nimport type UI5Event from \"sap/ui/base/Event\";\nimport type Control from \"sap/ui/core/Control\";\nimport Item from \"sap/ui/core/Item\";\nimport type FormElement from \"sap/ui/layout/form/FormElement\";\nimport type { Field$ChangeEvent } from \"sap/ui/mdc/Field\";\nimport FieldEditMode from \"sap/ui/mdc/enums/FieldEditMode\";\nimport type BaseContext from \"sap/ui/model/Context\";\nimport type PropertyBinding from \"sap/ui/model/PropertyBinding\";\nimport type Context from \"sap/ui/model/odata/v4/Context\";\nimport FieldRuntimeHelper from \"../../field/FieldRuntimeHelper\";\n\nexport default class MassEditField {\n\tprivate readonly select: Select;\n\n\tprivate readonly field: Field | undefined;\n\n\tprivate isValid = true;\n\n\t/**\n\t * Constructor of the MassEdit field.\n\t * @param properties The field properties\n\t * @param context Defines the Odata metamodel context used in the current MassEdit dialog\n\t */\n\tconstructor(\n\t\tpublic readonly properties: MassFieldProperties,\n\t\tprivate readonly context: BaseContext\n\t) {\n\t\tthis.context = context;\n\t\tthis.select = this.createSelect();\n\t\tthis.field = this.createField();\n\t}\n\n\t/**\n\t * Gets the inner controls.\n\t * @returns The controls\n\t */\n\tgetControls(): Control[] {\n\t\tconst controls: Control[] = [this.select];\n\t\tif (this.field) {\n\t\t\tcontrols.push(this.field);\n\t\t}\n\t\treturn controls;\n\t}\n\n\t/**\n\t * Gets the property and unit values of the mass edit field.\n\t * @returns The values\n\t */\n\tgetFieldValues(): Record<string, PrimitiveType> {\n\t\tconst selectedKey = this.select.getSelectedKey();\n\t\tconst selectedItem = this.properties.selectItems.find((item) => selectedKey === item.key);\n\t\tconst values: Record<string, PrimitiveType> = {};\n\t\tlet propertyValue: PrimitiveType = \"\";\n\t\tlet propertyUnitValue = \"\";\n\t\tconst bindingValue = this.field?.getBindingContext()?.getProperty(this.properties.propertyInfo.relativePath);\n\n\t\tif (!(this.select.getParent() as FormElement | undefined)?.getVisible() || !selectedItem) {\n\t\t\treturn {};\n\t\t}\n\t\tswitch (selectedItem.key) {\n\t\t\tcase SpecificSelectKeys.ClearFieldValueKey:\n\t\t\t\tpropertyValue = this.getFormattedValue(bindingValue);\n\t\t\t\tbreak;\n\t\t\tcase SpecificSelectKeys.ReplaceKey:\n\t\t\t\tif (this.field) {\n\t\t\t\t\t/**\n\t\t\t\t\t * If the value on the field comes from an existing entry into the select\n\t\t\t\t\t * the value to use is not the one into the bindingContext since it could contain the description\n\t\t\t\t\t * so FE has to retrieve the value from the select option.\n\t\t\t\t\t */\n\t\t\t\t\tconst unitOrCurrencyValue = this.properties.propertyInfo.unitOrCurrencyPropertyPath\n\t\t\t\t\t\t? this.field.getBindingContext()?.getProperty(this.properties.propertyInfo.unitOrCurrencyPropertyPath)\n\t\t\t\t\t\t: undefined;\n\t\t\t\t\tconst selectOptions = this.properties.selectItems.find(\n\t\t\t\t\t\t(item) =>\n\t\t\t\t\t\t\t(this.properties.propertyInfo.unitOrCurrencyPropertyPath &&\n\t\t\t\t\t\t\t\titem.propertyValue === bindingValue &&\n\t\t\t\t\t\t\t\titem.unitOrCurrencyValue === unitOrCurrencyValue) ||\n\t\t\t\t\t\t\t(!this.properties.propertyInfo.unitOrCurrencyPropertyPath && item.text === bindingValue)\n\t\t\t\t\t);\n\t\t\t\t\tconst newValue = selectOptions?.propertyValue ?? bindingValue;\n\t\t\t\t\tconst newPropertyValue = selectOptions?.unitOrCurrencyValue ?? unitOrCurrencyValue;\n\t\t\t\t\tif (newValue === null && newPropertyValue === null) {\n\t\t\t\t\t\treturn {}; // If the Field is empty we don't want to update the value\n\t\t\t\t\t}\n\t\t\t\t\tpropertyValue = this.getFormattedValue(newValue);\n\t\t\t\t\tpropertyUnitValue = newPropertyValue;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase SpecificSelectKeys.KeepKey:\n\t\t\t\treturn {};\n\t\t\tdefault:\n\t\t\t\tif (this.properties.inputType === \"CheckBox\") {\n\t\t\t\t\tpropertyValue = this.getFormattedValue(selectedItem.key);\n\t\t\t\t} else {\n\t\t\t\t\treturn {};\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t}\n\t\tvalues[this.properties.propertyInfo.relativePath] = propertyValue;\n\t\tif (this.properties.propertyInfo.unitOrCurrencyPropertyPath) {\n\t\t\tvalues[this.properties.propertyInfo.unitOrCurrencyPropertyPath] = propertyUnitValue;\n\t\t}\n\t\treturn values;\n\t}\n\n\t/**\n\t * Checks if the targeted property is read only on the specified context.\n\t * @param context The row context\n\t * @returns True if the field is readonly on this context, false otherwise.\n\t */\n\tpublic isReadOnlyOnContext(context: Context): boolean {\n\t\tconst readOnlyInfo = this.properties.readOnlyExpression;\n\t\tlet isReadOnly = false;\n\t\tif (isConstant(readOnlyInfo)) {\n\t\t\tisReadOnly = compileConstant(readOnlyInfo, false, undefined, true) as boolean;\n\t\t} else {\n\t\t\t// We evaluate the value of the expression via a UI5 managed object instance.\n\t\t\tconst anyObject = new Any({ anyBoolean: compileExpression(readOnlyInfo) });\n\t\t\tanyObject.setModel(context.getModel());\n\t\t\tanyObject.setBindingContext(context);\n\t\t\tisReadOnly = (anyObject.getBinding(\"anyBoolean\") as PropertyBinding)?.getExternalValue();\n\t\t\tanyObject.destroy();\n\t\t}\n\t\treturn isReadOnly;\n\t}\n\n\t/**\n\t * Gets the formatted value.\n\t * @param value The raw value\n\t * @returns The formatted value.\n\t */\n\tprivate getFormattedValue(value?: PrimitiveType): PrimitiveType {\n\t\tif (this.properties.inputType === \"CheckBox\") {\n\t\t\treturn value === \"true\";\n\t\t}\n\t\treturn value ?? this.properties.propertyInfo.emptyValue;\n\t}\n\n\t/**\n\t * Create the inner field.\n\t * @returns The field if needed, undefined otherwise.\n\t */\n\tprivate createField(): Field | undefined {\n\t\tif (this.properties.inputType !== \"CheckBox\") {\n\t\t\treturn (\n\t\t\t\t<Field\n\t\t\t\t\tcontextPath={this.context as unknown as string}\n\t\t\t\t\tmetaPath={this.properties.propertyInfo.relativePath as unknown as string}\n\t\t\t\t\tid={ID.generate([\"MED_\", this.properties.propertyInfo.key, \"_Field\"])}\n\t\t\t\t\teditMode={FieldEditMode.Editable}\n\t\t\t\t\tvisible={false}\n\t\t\t\t\tchange={this.handleFieldChange.bind(this)}\n\t\t\t\t/>\n\t\t\t);\n\t\t}\n\t}\n\n\tprivate handleFieldChange(event: Field$ChangeEvent): void {\n\t\tthis.isValid = !!FieldRuntimeHelper.getFieldStateOnChange(event as Field$ChangeEvent & UI5Event<{ isValid: boolean }>).state[\n\t\t\t\"validity\"\n\t\t];\n\t}\n\n\tpublic isFieldValid(): boolean {\n\t\treturn this.isValid;\n\t}\n\n\t/**\n\t * Create the inner select.\n\t * @returns The select.\n\t */\n\tprivate createSelect(): Select {\n\t\treturn (\n\t\t\t<Select\n\t\t\t\tid={ID.generate([\"MED_\", this.properties.propertyInfo.key])}\n\t\t\t\titems={this.properties.selectItems.map((selectItem) => (\n\t\t\t\t\t<Item key={selectItem.key} text={selectItem.text} />\n\t\t\t\t))}\n\t\t\t\trequired={this.properties.isFieldRequired}\n\t\t\t\tchange={this.handleSelectionChange.bind(this)}\n\t\t\t\twidth=\"100%\"\n\t\t\t\tariaLabelledBy={[ID.generate([\"MED_\", this.properties.propertyInfo.key, \"Label\"])]}\n\t\t\t/>\n\t\t);\n\t}\n\n\t/**\n\t * Manages the selection change through the drop down.\n\t */\n\tprivate handleSelectionChange(): void {\n\t\tconst selectedItem = this.select.getSelectedItem();\n\t\tif (this.field && selectedItem) {\n\t\t\tthis.isValid = true;\n\t\t\tconst bindingContext = this.field.getBindingContext();\n\t\t\tconst key = selectedItem.getKey();\n\t\t\tlet selectedValue;\n\t\t\tthis.field.setVisible(\n\t\t\t\t![SpecificSelectKeys.KeepKey, SpecificSelectKeys.ClearFieldValueKey].includes(selectedItem.getKey() as SpecificSelectKeys)\n\t\t\t);\n\n\t\t\tif (!(key in SpecificSelectKeys)) {\n\t\t\t\tselectedValue = this.properties.selectItems.find((item) => item.key === key);\n\t\t\t\tthis.select.setSelectedKey(SpecificSelectKeys.ReplaceKey);\n\t\t\t}\n\t\t\t/**\n\t\t\t * Sets the value on the field.\n\t\t\t * This value has to include the description if needed.\n\t\t\t */\n\t\t\tif (bindingContext) {\n\t\t\t\tconst uniPropertyPath = this.properties.propertyInfo.unitOrCurrencyPropertyPath;\n\t\t\t\tbindingContext.setProperty(\n\t\t\t\t\tthis.properties.propertyInfo.relativePath,\n\t\t\t\t\tthis.properties.descriptionPath ? selectedValue?.text : selectedValue?.propertyValue\n\t\t\t\t);\n\t\t\t\tif (uniPropertyPath) {\n\t\t\t\t\tbindingContext.setProperty(uniPropertyPath, selectedValue?.unitOrCurrencyValue);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n"],"mappings":"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","ignoreList":[],"file":"MassEditField-dbg.js"}