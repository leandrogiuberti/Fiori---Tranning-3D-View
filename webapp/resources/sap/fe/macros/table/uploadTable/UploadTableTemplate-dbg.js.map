{"version":3,"names":["getUploadButtonInvisible","tableDefinition","annotation","uploadTable","uploadAction","isTemplated","visibleExpression","not","getUploadPlugin","id","handlerProvider","_jsx","UploadSetwithTable","httpRequestMethod","multiple","uploadButtonInvisible","itemValidationHandler","uploadItemValidationHandler","mediaTypeMismatch","uploadMediaTypeMismatch","fileSizeExceeded","uploadFileSizeExceeded","maxFileSize","FieldHelper","calculateMBfromByte","maxLength","uploadCompleted","uploadEnabled","enabled","mediaTypes","acceptableMediaTypes","actions","uploadUrl","stream","maxFileNameLength","fileNameMaxLength","fileNameLengthExceeded","uploadFileNameLengthExceeded","children","rowConfiguration","UploadItemConfiguration","fileNamePath","fileName","_exports"],"sourceRoot":".","sources":["UploadTableTemplate.tsx"],"sourcesContent":["import type { BindingToolkitExpression } from \"sap/fe/base/BindingToolkit\";\nimport { not } from \"sap/fe/base/BindingToolkit\";\nimport type { TableVisualization } from \"sap/fe/core/converters/controls/Common/Table\";\nimport FieldHelper from \"sap/fe/macros/field/FieldHelper\";\nimport UploadSetwithTable from \"sap/m/plugins/UploadSetwithTable\";\nimport UploadItemConfiguration from \"sap/m/upload/UploadItemConfiguration\";\nimport type TableEventHandlerProvider from \"../TableEventHandlerProvider\";\n\nfunction getUploadButtonInvisible(tableDefinition: TableVisualization): BindingToolkitExpression<boolean> | boolean {\n\tif (\n\t\ttableDefinition.annotation?.uploadTable?.uploadAction?.isTemplated &&\n\t\ttableDefinition.annotation?.uploadTable?.uploadAction?.visibleExpression\n\t) {\n\t\treturn not(tableDefinition.annotation.uploadTable.uploadAction.visibleExpression);\n\t} else {\n\t\t// not create enabled, therefore upload button is always invisible\n\t\treturn true;\n\t}\n}\n\nexport function getUploadPlugin(\n\ttableDefinition: TableVisualization,\n\tid: string,\n\thandlerProvider: TableEventHandlerProvider\n): UploadSetwithTable {\n\treturn (\n\t\t<UploadSetwithTable\n\t\t\tcore:require=\"{UploadTableRuntime: 'sap/fe/macros/table/uploadTable/UploadTableRuntime'}\"\n\t\t\thttpRequestMethod=\"Put\"\n\t\t\tmultiple={false}\n\t\t\tuploadButtonInvisible={getUploadButtonInvisible(tableDefinition)}\n\t\t\titemValidationHandler={handlerProvider.uploadItemValidationHandler}\n\t\t\tmediaTypeMismatch={handlerProvider.uploadMediaTypeMismatch}\n\t\t\tfileSizeExceeded={handlerProvider.uploadFileSizeExceeded}\n\t\t\tmaxFileSize={FieldHelper.calculateMBfromByte(tableDefinition.annotation?.uploadTable?.maxLength)}\n\t\t\tuploadCompleted={handlerProvider.uploadCompleted}\n\t\t\tuploadEnabled={tableDefinition.annotation?.uploadTable?.uploadAction?.enabled}\n\t\t\tmediaTypes={tableDefinition.annotation?.uploadTable?.acceptableMediaTypes}\n\t\t\tactions={[`${id}-uploadButton`]}\n\t\t\tuploadUrl={tableDefinition.annotation?.uploadTable?.stream}\n\t\t\tmaxFileNameLength={tableDefinition.annotation?.uploadTable?.fileNameMaxLength}\n\t\t\tfileNameLengthExceeded={handlerProvider.uploadFileNameLengthExceeded}\n\t\t>\n\t\t\t{{\n\t\t\t\trowConfiguration: <UploadItemConfiguration fileNamePath={tableDefinition.annotation?.uploadTable?.fileName} />\n\t\t\t}}\n\t\t</UploadSetwithTable>\n\t);\n}\n"],"mappings":";;;;;;;;;EAQA,SAASA,wBAAwBA,CAACC,eAAmC,EAA+C;IACnH,IACCA,eAAe,CAACC,UAAU,EAAEC,WAAW,EAAEC,YAAY,EAAEC,WAAW,IAClEJ,eAAe,CAACC,UAAU,EAAEC,WAAW,EAAEC,YAAY,EAAEE,iBAAiB,EACvE;MACD,OAAOC,GAAG,CAACN,eAAe,CAACC,UAAU,CAACC,WAAW,CAACC,YAAY,CAACE,iBAAiB,CAAC;IAClF,CAAC,MAAM;MACN;MACA,OAAO,IAAI;IACZ;EACD;EAEO,SAASE,eAAeA,CAC9BP,eAAmC,EACnCQ,EAAU,EACVC,eAA0C,EACrB;IACrB,OACCC,IAAA,CAACC,kBAAkB;MAClB,gBAAa,4EAA4E;MACzFC,iBAAiB,EAAC,KAAK;MACvBC,QAAQ,EAAE,KAAM;MAChBC,qBAAqB,EAAEf,wBAAwB,CAACC,eAAe,CAAE;MACjEe,qBAAqB,EAAEN,eAAe,CAACO,2BAA4B;MACnEC,iBAAiB,EAAER,eAAe,CAACS,uBAAwB;MAC3DC,gBAAgB,EAAEV,eAAe,CAACW,sBAAuB;MACzDC,WAAW,EAAEC,WAAW,CAACC,mBAAmB,CAACvB,eAAe,CAACC,UAAU,EAAEC,WAAW,EAAEsB,SAAS,CAAE;MACjGC,eAAe,EAAEhB,eAAe,CAACgB,eAAgB;MACjDC,aAAa,EAAE1B,eAAe,CAACC,UAAU,EAAEC,WAAW,EAAEC,YAAY,EAAEwB,OAAQ;MAC9EC,UAAU,EAAE5B,eAAe,CAACC,UAAU,EAAEC,WAAW,EAAE2B,oBAAqB;MAC1EC,OAAO,EAAE,CAAC,GAAGtB,EAAE,eAAe,CAAE;MAChCuB,SAAS,EAAE/B,eAAe,CAACC,UAAU,EAAEC,WAAW,EAAE8B,MAAO;MAC3DC,iBAAiB,EAAEjC,eAAe,CAACC,UAAU,EAAEC,WAAW,EAAEgC,iBAAkB;MAC9EC,sBAAsB,EAAE1B,eAAe,CAAC2B,4BAA6B;MAAAC,QAAA,EAEpE;QACAC,gBAAgB,EAAE5B,IAAA,CAAC6B,uBAAuB;UAACC,YAAY,EAAExC,eAAe,CAACC,UAAU,EAAEC,WAAW,EAAEuC;QAAS,CAAE;MAC9G;IAAC,CACkB,CAAC;EAEvB;EAACC,QAAA,CAAAnC,eAAA,GAAAA,eAAA;EAAA,OAAAmC,QAAA;AAAA","ignoreList":[],"file":"UploadTableTemplate-dbg.js"}