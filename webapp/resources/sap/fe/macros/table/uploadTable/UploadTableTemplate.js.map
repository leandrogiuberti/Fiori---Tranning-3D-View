{"version":3,"file":"UploadTableTemplate.js","names":["getUploadButtonInvisible","tableDefinition","annotation","uploadTable","uploadAction","isTemplated","visibleExpression","not","getUploadPlugin","id","handlerProvider","_jsx","UploadSetwithTable","httpRequestMethod","multiple","uploadButtonInvisible","itemValidationHandler","uploadItemValidationHandler","mediaTypeMismatch","uploadMediaTypeMismatch","fileSizeExceeded","uploadFileSizeExceeded","maxFileSize","FieldHelper","calculateMBfromByte","maxLength","uploadCompleted","uploadEnabled","enabled","mediaTypes","acceptableMediaTypes","actions","uploadUrl","stream","maxFileNameLength","fileNameMaxLength","fileNameLengthExceeded","uploadFileNameLengthExceeded","children","rowConfiguration","UploadItemConfiguration","fileNamePath","fileName","_exports"],"sources":["./UploadTableTemplate.tsx"],"sourcesContent":["import type { BindingToolkitExpression } from \"sap/fe/base/BindingToolkit\";\nimport { not } from \"sap/fe/base/BindingToolkit\";\nimport type { TableVisualization } from \"sap/fe/core/converters/controls/Common/Table\";\nimport FieldHelper from \"sap/fe/macros/field/FieldHelper\";\nimport UploadSetwithTable from \"sap/m/plugins/UploadSetwithTable\";\nimport UploadItemConfiguration from \"sap/m/upload/UploadItemConfiguration\";\nimport type TableEventHandlerProvider from \"../TableEventHandlerProvider\";\n\nfunction getUploadButtonInvisible(tableDefinition: TableVisualization): BindingToolkitExpression<boolean> | boolean {\n\tif (\n\t\ttableDefinition.annotation?.uploadTable?.uploadAction?.isTemplated &&\n\t\ttableDefinition.annotation?.uploadTable?.uploadAction?.visibleExpression\n\t) {\n\t\treturn not(tableDefinition.annotation.uploadTable.uploadAction.visibleExpression);\n\t} else {\n\t\t// not create enabled, therefore upload button is always invisible\n\t\treturn true;\n\t}\n}\n\nexport function getUploadPlugin(\n\ttableDefinition: TableVisualization,\n\tid: string,\n\thandlerProvider: TableEventHandlerProvider\n): UploadSetwithTable {\n\treturn (\n\t\t<UploadSetwithTable\n\t\t\tcore:require=\"{UploadTableRuntime: 'sap/fe/macros/table/uploadTable/UploadTableRuntime'}\"\n\t\t\thttpRequestMethod=\"Put\"\n\t\t\tmultiple={false}\n\t\t\tuploadButtonInvisible={getUploadButtonInvisible(tableDefinition)}\n\t\t\titemValidationHandler={handlerProvider.uploadItemValidationHandler}\n\t\t\tmediaTypeMismatch={handlerProvider.uploadMediaTypeMismatch}\n\t\t\tfileSizeExceeded={handlerProvider.uploadFileSizeExceeded}\n\t\t\tmaxFileSize={FieldHelper.calculateMBfromByte(tableDefinition.annotation?.uploadTable?.maxLength)}\n\t\t\tuploadCompleted={handlerProvider.uploadCompleted}\n\t\t\tuploadEnabled={tableDefinition.annotation?.uploadTable?.uploadAction?.enabled}\n\t\t\tmediaTypes={tableDefinition.annotation?.uploadTable?.acceptableMediaTypes}\n\t\t\tactions={[`${id}-uploadButton`]}\n\t\t\tuploadUrl={tableDefinition.annotation?.uploadTable?.stream}\n\t\t\tmaxFileNameLength={tableDefinition.annotation?.uploadTable?.fileNameMaxLength}\n\t\t\tfileNameLengthExceeded={handlerProvider.uploadFileNameLengthExceeded}\n\t\t>\n\t\t\t{{\n\t\t\t\trowConfiguration: <UploadItemConfiguration fileNamePath={tableDefinition.annotation?.uploadTable?.fileName} />\n\t\t\t}}\n\t\t</UploadSetwithTable>\n\t);\n}\n"],"mappings":";;;;6OAQA,SAASA,EAAyBC,GACjC,GACCA,EAAgBC,YAAYC,aAAaC,cAAcC,aACvDJ,EAAgBC,YAAYC,aAAaC,cAAcE,kBACtD,CACD,OAAOC,EAAIN,EAAgBC,WAAWC,YAAYC,aAAaE,kBAChE,KAAO,CAEN,OAAO,IACR,CACD,CAEO,SAASE,EACfP,EACAQ,EACAC,GAEA,OACCC,EAACC,EAAkB,CAClB,eAAa,6EACbC,kBAAkB,MAClBC,SAAU,MACVC,sBAAuBf,EAAyBC,GAChDe,sBAAuBN,EAAgBO,4BACvCC,kBAAmBR,EAAgBS,wBACnCC,iBAAkBV,EAAgBW,uBAClCC,YAAaC,EAAYC,oBAAoBvB,EAAgBC,YAAYC,aAAasB,WACtFC,gBAAiBhB,EAAgBgB,gBACjCC,cAAe1B,EAAgBC,YAAYC,aAAaC,cAAcwB,QACtEC,WAAY5B,EAAgBC,YAAYC,aAAa2B,qBACrDC,QAAS,CAAC,GAAGtB,kBACbuB,UAAW/B,EAAgBC,YAAYC,aAAa8B,OACpDC,kBAAmBjC,EAAgBC,YAAYC,aAAagC,kBAC5DC,uBAAwB1B,EAAgB2B,6BAA6BC,SAEpE,CACAC,iBAAkB5B,EAAC6B,EAAuB,CAACC,aAAcxC,EAAgBC,YAAYC,aAAauC,aAItG,CAACC,EAAAnC,kBAAA,OAAAmC,CAAA","ignoreList":[]}