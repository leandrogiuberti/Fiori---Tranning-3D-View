{"version":3,"file":"TableAPI.js","names":["TableAPI","_dec","defineUI5Class","returnTypes","_dec2","mixin","TableAPIStateHandler","_dec3","TableExport","_dec4","TableOptimisticBatch","_dec5","TableHierarchy","_dec6","EmptyRowsHandler","_dec7","ContextMenuHandler","_dec8","TableSharing","_dec9","ColumnManagement","_dec10","implementInterface","_dec11","_dec12","property","type","expectedTypes","expectedAnnotations","required","_dec13","_dec14","_dec15","_dec16","_dec17","_dec18","_dec19","_dec20","_dec21","_dec22","_dec23","allowedValues","_dec24","_dec25","_dec26","_dec27","_dec28","_dec29","_dec30","_dec31","_dec32","_dec33","_dec34","_dec35","aggregation","altTypes","multiple","_dec36","_dec37","_dec38","_dec39","defaultValue","_dec40","_dec41","_dec42","_dec43","_dec44","_dec45","_dec46","_dec47","_dec48","_dec49","_dec50","TitleLevel","Auto","_dec51","_dec52","_dec53","_dec54","_dec55","_dec56","_dec57","_dec58","isBindingInfo","_dec59","_dec60","_dec61","_dec62","_dec63","_dec64","_dec65","_dec66","defaultClass","TableCreationOptions","_dec67","forwarding","getter","_dec68","_dec69","_dec70","_dec71","event","_dec72","_dec73","_dec74","_dec75","_dec76","_dec77","_dec78","_dec79","xmlEventHandler","_dec80","_dec81","_dec82","_dec83","_dec84","_dec85","_dec86","_dec87","_dec88","_dec89","_dec90","_dec91","_dec92","_dec93","_dec94","_dec95","_dec96","_dec97","_dec98","_dec99","_dec100","_dec101","_dec102","_dec103","_dec104","_dec105","_dec106","_class","_class2","_MacroAPI","mSettings","_this","_len","arguments","length","others","Array","_key","call","this","propertyEditModeCache","initialControlState","_initializerDefineProperty","_descriptor","_descriptor2","_descriptor3","_descriptor4","_descriptor5","_descriptor6","_descriptor7","_descriptor8","_descriptor9","_descriptor10","_descriptor11","_descriptor12","_descriptor13","_descriptor14","_descriptor15","_descriptor16","_descriptor17","_descriptor18","_descriptor19","_descriptor20","_descriptor21","_descriptor22","_descriptor23","_descriptor24","_descriptor25","_descriptor26","_descriptor27","_descriptor28","_descriptor29","_descriptor30","_descriptor31","_descriptor32","_descriptor33","_descriptor34","_descriptor35","_descriptor36","_descriptor37","_descriptor38","_descriptor39","_descriptor40","_descriptor41","_descriptor42","_descriptor43","_descriptor44","_descriptor45","_descriptor46","_descriptor47","_descriptor48","_descriptor49","_descriptor50","_descriptor51","_descriptor52","_descriptor53","_descriptor54","_descriptor55","_descriptor56","_descriptor57","_descriptor58","_descriptor59","_descriptor60","_descriptor61","_descriptor62","_descriptor63","_descriptor64","_descriptor65","_descriptor66","_descriptor67","_descriptor68","ignoreContextChangeEvent","lock","storedEvents","overrideRowPress","_descriptor69","enhancedPropertyInfos","propertyInfos","originalTableDefinition","tableDefinition","attachStateChangeHandler","attachManifestEvents","hasListeners","_inheritsLoose","_proto","prototype","getRowBinding","parameters","mdcTable","content","dataModel","getModel","bindList","getRowCollectionPath","undefined","StateUtil","detachStateChange","stateChangeHandler","attachStateChange","oEvent","control","getParameter","isA","tableAPI","getParent","handleStateChange","attachIfNoListeners","eventName","methodConfig","attachEvent","ui5Event","FPMHelper","loadModuleAndCallMethod","moduleName","methodName","catch","error","Log","getCustomFunctionInfo","beforeRebindTable","rowPress","selectionChange","setUpNoDataInformation","table","getNoData","owner","_getOwner","description","title","resourceModel","getResourceModel","suffix","metaPath","startsWith","substring","getText","resourceBundle","Library","getResourceBundleFor","getNoDataMessageMode","setAggregation","Text","text","illustratedMessage","IllustratedMessage","illustrationType","IllustratedMessageType","BeforeSearch","illustrationSize","enableDefaultTitleAndDescription","getSectionContentRole","sendDataToConsumer","consumerData","setHeader","setHeaderStyle","headerStyle","setHeaderLevel","titleLevel","getIgnoreContextChangeEvent","setIgnoreContextChangeEvent","value","setBusy","setAttachEvents","eventHandlers","_getAPIExtension","source","instanceMap","get","find","api","getBinding","getSelectedContexts","isContextMenuActive","getBindingContext","getProperty","addMessage","async","getContent","Promise","resolve","checkContextChange","detachEvent","rowBinding","resolvedPath","getResolvedPath","createMessage","path","message","Message","target","processor","persistent","_getMessageManager","addMessages","getId","checkIfRecommendationRelevant","_oEvent","isTableReadOnly","isEditable","CommonUtils","getIsEditable","view","getTargetView","viewData","getViewData","converterType","removeMessage","id","msgManager","messages","getMessageModel","getData","result","e","removeMessages","refresh","tableRowBinding","isRelative","getTableDefinition","appComponent","getAppComponent","headerContext","getHeaderContext","getSideEffectsService","requestSideEffects","$NavigationPropertyPath","getGroupId","getQuickFilter","getPresentationVariant","tableState","retrieveExternalState","sortOrder","sorters","map","sorter","Property","name","replace","Descending","descending","groupLevels","group","tableViz","Content","items","item","Value","Type","aggregations","hasAggregations","key","newKey","initialExpansionLevel","getPayload","tablePV","PresentationVariantClass","setTableVisualization","properties","GroupBy","SortOrder","Aggregations","setProperties","Error","String","setPresentationVariant","currentStatePV","getEnhancedFetchedPropertyInfos","propertyInfoNames","propInfo","newTableState","convertPVToState","tableProperties","getProperties","tablePayload","applyExternalState","getCurrentVariantKey","getVariant","setCurrentVariantKey","variantManagement","Messaging","_getRowBinding","oTable","getCounts","TableUtils","getListBindingForCount","batchGroupId","data","additionalFilters","getHiddenFilters","then","iValue","getCountFormatted","onListBindingChange","fireEvent","getParameters","setFastCreationRowEnablement","refreshSelectedCount","TableRuntime","setContextsAsync","onFieldLiveChange","_onFieldLiveChange","onQuickFilterSelectionChange","filterBarID","getFilter","filterBar","UI5Element","getElementById","getSuspendSelection","rebind","getController","getExtensionAPI","updateAppState","onTableNavigate","oController","oContext","mParameters","isTableRowNavigationPossible","fullScreenDialog","close","navigationParameters","Object","assign","reason","NavigationReason","RowPress","_routing","navigateForwardToContext","onTableRowPress","pressEvent","rowNavigationInfo","annotation","row","navigationInfo","controller","getPageController","bindingContext","avoidParallelCalls","_intentBasedNavigation","onChevronPressNavigateOutBound","navigationTarget","editable","checkEditable","callExtension","targetPath","recreateContext","onSegmentedButtonPressed","onVariantSelected","originalSource","getSource","onVariantSaved","onRowPressed","context","emptyRow","isInactive","isTransient","analyticalGroupHeaderExpanded","enableAnalytics","onShareToCollaborationManagerPress","contexts","maxNumberofSelectedItems","_onShareToCollaborationManagerPress","onOpenInNewTabPress","allContexts","navigableContexts","promiseToWait","PromiseKeeper","textKey","MessageBox","confirm","getTranslatedText","onClose","shouldProceed","promise","forEach","warning","onInternalPatchCompleted","evt","internalModelContext","selectedContexts","DeleteHelper","updateDeleteInfoForSelectedContexts","messageHandler","showMessageDialog","releaseHoldByControl","onInternalPatchSent","editFlowExtension","editFlow","holdMessagesForControl","handlePatchSent","inlineEditFlow","isInlineEditPossible","handleInlineEditPatchSent","onInternalDataReceived","isRecommendationRelevant","contextIdentifier","getIdentifierColumn","responseContextsArray","getAllCurrentContexts","newContexts","push","recommendations","fetchAndApplyRecommendations","setDownloadUrl","onInternalDataRequested","setProperty","filters","quickFilters","showCounts","setCountsAsLoading","refreshUnSelectedCounts","onPaste","forContextMenu","setContextMenuActive","rawPastedData","menu","internalContext","enablePaste","action","srcContexts","srcContext","newParentContext","getPath","all","move","parent","copy","requestSideEffectsForCopyAction","requestSideEffectsForChangeNextSiblingAction","MessageToast","show","getEnablePaste","cellSelection","getCellSelector","getSelection","columns","PasteHelper","pasteRangeData","pasteData","onCut","_onCopyCut","onCopy","onBeforeExport","exportEvent","_onBeforeExport","dataStateIndicatorFilter","sTableContextBindingPath","sTableRowBinding","getTargets","onDataStateChange","dataStateIndicator","filteredMessages","hiddenMandatoryProperties","msg","technicalDetails","getTechnicalDetails","emptyRowMessage","missingColumn","filter","hiddenProperty","messageStripError","join","showMessage","internalModel","resumeBinding","bRequestIfNotInitialized","getDataInitialized","refreshNotApplicableFields","oFilterControl","FilterUtils","getNotApplicableFilters","suspendBinding","invalidateContent","fastCreationRow","getCreationRow","tableBinding","getContext","TableHelper","enableFastCreationRow","onAddCardToInsightsPressed","_onAddCardToInsightsPressed","onMassEditButtonPressed","massEditHelper","MassEditDialogHelper","onContextMenu","setMassEditDialogHelper","open","onSelectionChanged","ui5event","setContexts","selectedContext","onActionPress","pageController","actionName","model","labelExpression","resolveBindingString","label","isPathInModelExpression","modelName","executeAction","notApplicableContexts","convertedMetadata","convertTypes","getMetaModel","entityType","resolvePath","entityTypeFullyQualifiedName","myUnapplicableContextDialog","NotApplicableContextDialog","entitySet","entitySetName","applicableContexts","invokeAction","info","onContextMenuPress","_onContextMenuPress","massEditDialogHelper","getMassEditDialogHelper","updateFilterBar","filterBarRefId","getFilterBar","_setFilterBar","detachFilterBar","setFilter","getFilterBarControl","tableAPIId","tableAPILocalId","potentialfilterBarId","RegExp","byId","handleCreateActivate","activateEvent","_handleCreateActivate","onDragEnterDocument","_onDragEnterDocument","onDragStartDocument","_onDragStartDocument","onDropDocument","_onDropDocument","onCollapseExpandNode","expand","getMetadata","_onCollapseExpandNode","onMoveUpDown","moveUp","_onMoveUpDown","getSelectionVariant","StateHelper","setSelectionVariant","selectionVariant","prefillDescriptions","setSelectionVariantToMdcControl","_createContentV2Mode","preprocessorContext","metaModel","createBindingContext","contextPath","deepClone","updateColumnsVisibility","ignoredFields","collectionEntity","collection","contextObjectPath","getInvolvedDataModelObjects","handlerProvider","TableEventHandlerProvider","fragment","XMLPreprocessor","process","parseXMLString","xml","jsx","renderAsXML","MdcTableTemplate","getMDCTableTemplate","getConvertedMetadata","models","firstElementChild","destroy","Fragment","load","definition","getRootController","containingView","getRootControl","propertyKey","propertyValue","bSuppressInvalidate","_applyingSettings","includes","getDataModelAndConvertedTargetObject","propertyName","entityPath","targetMetaPath","propertyInfo","annotationPath","targetObject","convertedtargetObject","MetaModelConverter","convertMetaModelContext","dataModelPath","FieldTemplating","getDataModelObjectPathForValue","createAnyControl","ModeAsExpression","rowContext","anyObject","Any","any","setModel","getPropertyEditMode","propertyForFieldControl","editModeAsExpression","compileExpression","UIFormatters","getEditMode","setBindingContext","addDependent","editMode","getAny","showColumns","columnKeys","columnKey","modifyDynamicVisibilityForColumn","hideColumns","setIgnoredFields","getIgnoredFields","getControlState","controlState","fullState","initialState","getStateKey","oControl","getLocalId","dynamicVisibilityForColumns","updateColumnsVisibilityStatic","getMDCTable","asyncCall","lockName","suppressInvalidate","setFullScreenDialog","dialog","setEnhancedFetchedPropertyInfos","getPropertyInfos","enhancedPropertyInfo","visible","exportSettings","clipboardSettings","visualSettings","tooltip","isKey","extension","technicallyGroupable","technicallyAggregatable","customAggregate","additionalProperties","fromEntries","entries","_ref","_","maxConditions","formatOptions","constraints","groupLabel","caseSensitive","filterable","sortable","groupable","dataType","aggregatable","unit","_ref2","setCachedPropertyInfos","getCachedPropertyInfos","collectionContext","getContextRelativeTargetObjectPath","getTargetObjectPath","getTableTemplateBindingInfo","rowBindingInfo","suspended","$count","enable$select","select","keys","requestAtLeast","$select","enable$$getKeepAliveContext","$$getKeepAliveContext","$$clearSelectionOnFilter","$$groupId","$$updateGroupId","$$ownRequest","$$patchWithoutSideEffects","patchCompleted","bind","dataReceived","dataRequested","change","createActivate","createSent","handleCreateSent","patchSent","events","addSetting","getSettingsForManifest","tableSettings","enableExport","exportRequestSize","exportFileName","exportSheetName","frozenColumnCount","disableColumnFreeze","widthIncludingColumnHeader","rowCountMode","rowCount","enableFullScreen","disableCopyToClipboard","scrollThreshold","threshold","popinLayout","selectionMode","enablePastingOfComputedProperties","enableSelectAll","selectionLimit","condensedTableLayout","creationMode","creationFields","createAtEnd","inlineCreationRowsHiddenInEditMode","outbound","massEdit","enableMassEdit","customContent","visibleFields","operationGroupingMode","analyticalConfiguration","aggregationOnLeafLevel","quickVariantSelection","paths","findSlotActionFromKey","actions","a","onMetadataAvailable","createContent","getFullMetaPath","endsWith","forceCreation","getOwnerContextPath","fullMetaPath","metaPathContext","createTableDefinition","updatePropertiesFromTableDefinition","convertedTypes","targetType","fullyQualifiedName","createMDCTable","setupOptimisticBatch","setMetaPath","ManagedObjectMetadata","isGeneratedId","contentId","useBasicSearch","generate","readOnly","displayMode","emptyRowsEnabled","enabled","CreationMode","InlineCreationRows","StandardActionKeys","Create","mode","modeForNoDataMessage","split","getCount","MacroAPI","_applyDecoratedDescriptor","configurable","enumerable","writable","initializer","getOwnPropertyDescriptor"],"sources":["./TableAPI.ts"],"sourcesContent":["import type { EntitySet, EntityType, NavigationProperty, Property } from \"@sap-ux/vocabularies-types\";\nimport type {\n\tDataFieldAbstractTypes,\n\tDataFieldTypes,\n\tDataPointTypeTypes,\n\tLineItem,\n\tPresentationVariant,\n\tSelectionPresentationVariant\n} from \"@sap-ux/vocabularies-types/vocabularies/UI\";\nimport Log from \"sap/base/Log\";\nimport deepClone from \"sap/base/util/deepClone\";\nimport {\n\tcompileExpression,\n\tisPathInModelExpression,\n\tresolveBindingString,\n\ttype CompiledBindingToolkitExpression\n} from \"sap/fe/base/BindingToolkit\";\nimport type { PropertiesOf, XMLEventHolder } from \"sap/fe/base/ClassSupport\";\nimport { aggregation, defineUI5Class, event, implementInterface, mixin, property, xmlEventHandler } from \"sap/fe/base/ClassSupport\";\nimport jsx from \"sap/fe/base/jsx-runtime/jsx\";\nimport CommonUtils from \"sap/fe/core/CommonUtils\";\nimport type IRowBindingInterface from \"sap/fe/core/IRowBindingInterface\";\nimport type PageController from \"sap/fe/core/PageController\";\nimport type ResourceModel from \"sap/fe/core/ResourceModel\";\nimport type BuildingBlock from \"sap/fe/core/buildingBlocks/BuildingBlock\";\nimport { parseXMLString, xml } from \"sap/fe/core/buildingBlocks/templating/BuildingBlockTemplateProcessor\";\nimport NotApplicableContextDialog from \"sap/fe/core/controllerextensions/editFlow/NotApplicableContextDialog\";\nimport NavigationReason from \"sap/fe/core/controllerextensions/routing/NavigationReason\";\nimport Any from \"sap/fe/core/controls/Any\";\nimport { CreationMode } from \"sap/fe/core/converters/ManifestSettings\";\nimport * as MetaModelConverter from \"sap/fe/core/converters/MetaModelConverter\";\nimport { convertTypes, getInvolvedDataModelObjects } from \"sap/fe/core/converters/MetaModelConverter\";\nimport {\n\tgetCustomFunctionInfo,\n\ttype ExternalMethodConfig,\n\ttype TableType,\n\ttype TableVisualization\n} from \"sap/fe/core/converters/controls/Common/Table\";\nimport { StandardActionKeys } from \"sap/fe/core/converters/controls/Common/table/StandardActions\";\nimport DeleteHelper from \"sap/fe/core/helpers/DeleteHelper\";\nimport FPMHelper from \"sap/fe/core/helpers/FPMHelper\";\nimport type { InternalModelContext } from \"sap/fe/core/helpers/ModelHelper\";\nimport PasteHelper from \"sap/fe/core/helpers/PasteHelper\";\nimport PromiseKeeper from \"sap/fe/core/helpers/PromiseKeeper\";\nimport { getResourceModel } from \"sap/fe/core/helpers/ResourceModelHelper\";\nimport { generate } from \"sap/fe/core/helpers/StableIdHelper\";\nimport type { RecommendationContextsInfo } from \"sap/fe/core/helpers/StandardRecommendationHelper\";\nimport type { RoutingNavigationParameters } from \"sap/fe/core/services/RoutingServiceFactory\";\nimport {\n\tgetContextRelativeTargetObjectPath,\n\tgetTargetObjectPath,\n\ttype DataModelObjectPath\n} from \"sap/fe/core/templating/DataModelPathHelper\";\nimport { type DisplayMode } from \"sap/fe/core/templating/DisplayModeFormatter\";\nimport * as UIFormatters from \"sap/fe/core/templating/UIFormatters\";\nimport type { CollectionBindingInfo, EventHandler } from \"sap/fe/macros/CollectionBindingInfo\";\nimport MacroAPI from \"sap/fe/macros/MacroAPI\";\nimport type ISingleSectionContributor from \"sap/fe/macros/controls/section/ISingleSectionContributor\";\nimport type { ConsumerData } from \"sap/fe/macros/controls/section/ISingleSectionContributor\";\nimport * as FieldTemplating from \"sap/fe/macros/field/FieldTemplating\";\nimport FilterUtils from \"sap/fe/macros/filter/FilterUtils\";\nimport type FilterBarBBV4 from \"sap/fe/macros/filterBar/FilterBar\";\nimport type FilterBarAPI from \"sap/fe/macros/filterBar/FilterBarAPI\";\nimport type { ControlState } from \"sap/fe/macros/insights/CommonInsightsHelper\";\nimport type Action from \"sap/fe/macros/table/Action\";\nimport type ActionGroup from \"sap/fe/macros/table/ActionGroup\";\nimport type BasicSearch from \"sap/fe/macros/table/BasicSearch\";\nimport type Column from \"sap/fe/macros/table/Column\";\nimport * as MdcTableTemplate from \"sap/fe/macros/table/MdcTableTemplate\";\nimport type QuickFilterSelector from \"sap/fe/macros/table/QuickFilterSelector\";\nimport TableCreationOptions from \"sap/fe/macros/table/TableCreationOptions\";\nimport TableHelper from \"sap/fe/macros/table/TableHelper\";\nimport TableRuntime from \"sap/fe/macros/table/TableRuntime\";\nimport TableUtils from \"sap/fe/macros/table/Utils\";\nimport { convertPVToState } from \"sap/fe/macros/table/adapter/TablePVToState\";\nimport MassEditDialogHelper from \"sap/fe/macros/table/massEdit/MassEditDialogHelper\";\nimport type { PvProperties } from \"sap/fe/navigation/PresentationVariant\";\nimport PresentationVariantClass from \"sap/fe/navigation/PresentationVariant\";\nimport type SelectionVariant from \"sap/fe/navigation/SelectionVariant\";\nimport type Dialog from \"sap/m/Dialog\";\nimport IllustratedMessage from \"sap/m/IllustratedMessage\";\nimport IllustratedMessageType from \"sap/m/IllustratedMessageType\";\nimport type Menu from \"sap/m/Menu\";\nimport MessageBox from \"sap/m/MessageBox\";\nimport MessageToast from \"sap/m/MessageToast\";\nimport Text from \"sap/m/Text\";\nimport type { DataStateIndicator$DataStateChangeEvent } from \"sap/m/plugins/DataStateIndicator\";\nimport type { PasteProvider$PasteEvent } from \"sap/m/plugins/PasteProvider\";\nimport type { default as Event, default as UI5Event } from \"sap/ui/base/Event\";\nimport type ManagedObject from \"sap/ui/base/ManagedObject\";\nimport ManagedObjectMetadata from \"sap/ui/base/ManagedObjectMetadata\";\nimport type Control from \"sap/ui/core/Control\";\nimport type { $ControlSettings } from \"sap/ui/core/Control\";\nimport UI5Element from \"sap/ui/core/Element\";\nimport Fragment from \"sap/ui/core/Fragment\";\nimport Library from \"sap/ui/core/Lib\";\nimport Messaging from \"sap/ui/core/Messaging\";\nimport type DragDropInfo from \"sap/ui/core/dnd/DragDropInfo\";\nimport { TitleLevel } from \"sap/ui/core/library\";\nimport Message from \"sap/ui/core/message/Message\";\nimport type MessageType from \"sap/ui/core/message/MessageType\";\nimport XMLPreprocessor from \"sap/ui/core/util/XMLPreprocessor\";\nimport type FilterBar from \"sap/ui/mdc/FilterBar\";\nimport type {\n\tdefault as MDCTable,\n\tMDCTablePropertyInfo as PropertyInfo,\n\tdefault as Table,\n\tTable$BeforeExportEvent,\n\tTable$BeforeOpenContextMenuEvent,\n\tTable$SelectionChangeEvent\n} from \"sap/ui/mdc/Table\";\nimport type TypeConfig from \"sap/ui/mdc/TypeConfig\";\nimport type { GroupLevels, Items, Sorters } from \"sap/ui/mdc/p13n/StateUtil\";\nimport StateUtil from \"sap/ui/mdc/p13n/StateUtil\";\nimport { type RowActionItem$PressEvent } from \"sap/ui/mdc/table/RowActionItem\";\nimport type JSONModel from \"sap/ui/model/json/JSONModel\";\nimport type Context from \"sap/ui/model/odata/v4/Context\";\nimport type { ODataContextBinding$PatchSentEvent } from \"sap/ui/model/odata/v4/ODataContextBinding\";\nimport type ODataListBinding from \"sap/ui/model/odata/v4/ODataListBinding\";\nimport type ODataModel from \"sap/ui/model/odata/v4/ODataModel\";\nimport StateHelper from \"../mdc/adapter/StateHelper\";\nimport type ActionGroupOverride from \"./ActionGroupOverride\";\nimport type ActionOverride from \"./ActionOverride\";\nimport type AnalyticalConfiguration from \"./AnalyticalConfiguration\";\nimport type ColumnOverride from \"./ColumnOverride\";\nimport type MassEdit from \"./MassEdit\";\nimport type QuickVariantSelection from \"./QuickVariantSelection\";\nimport { createTableDefinition } from \"./TableDefinition\";\nimport TableEventHandlerProvider from \"./TableEventHandlerProvider\";\nimport ColumnManagement from \"./mixin/ColumnManagement\";\nimport ContextMenuHandler from \"./mixin/ContextMenuHandler\";\nimport EmptyRowsHandler from \"./mixin/EmptyRowsHandler\";\nimport TableAPIStateHandler from \"./mixin/TableAPIStateHandler\";\nimport TableExport from \"./mixin/TableExport\";\nimport TableHierarchy from \"./mixin/TableHierarchy\";\nimport TableOptimisticBatch from \"./mixin/TableOptimisticBatch\";\nimport TableSharing from \"./mixin/TableSharing\";\n\nexport type EnhancedFEPropertyInfo = PropertyInfo & {\n\tname: string;\n\tannotationPath: string;\n\trelativePath: string;\n\tdescriptionProperty?: string;\n\tmode?: DisplayMode;\n\tvalueProperty?: string;\n\ttypeConfig?: TypeConfig;\n\texportDataPointTargetValue?: string;\n\tadditionalLabels?: string[];\n\ttype?: string;\n\ttextArrangement?: {\n\t\ttextProperty: string;\n\t\tmode: DisplayMode;\n\t};\n};\n\ntype DataModelConversion = {\n\tdataModelPath: DataModelObjectPath<DataFieldAbstractTypes | DataPointTypeTypes | Property>;\n\tconvertedtargetObject: DataFieldAbstractTypes | DataPointTypeTypes;\n};\n\nexport type TableColumnProperties = {\n\tkey: string;\n\tvisibility: boolean;\n}[];\n\nexport type DynamicVisibilityForColumn = { columnKey: string; visible: boolean };\n\nexport type TableState = {\n\tinnerTable?: {\n\t\tinitialState?: {\n\t\t\titems?: { name: string }[];\n\t\t\tsupplementaryConfig?: object;\n\t\t};\n\t\tfullState?: {\n\t\t\titems?: { name: string }[];\n\t\t\tfilter?: object;\n\t\t};\n\t};\n\tquickFilter?: {\n\t\tselectedKey?: string;\n\t};\n\tvariantManagement?: {\n\t\tvariantId?: string | null;\n\t};\n\tsupplementaryConfig?: object;\n};\n\nexport interface ITableBlock extends BuildingBlock {\n\tenableOptimisticBatchMode(): void;\n\tmetaPath: string;\n\tcontextPath?: string;\n\temptyRowsEnabled: boolean;\n\tgetContent(): Table;\n\tgetTableDefinition(): TableVisualization;\n\tgetSelectedContexts(): Context[];\n\tisTableRowNavigationPossible(context: Context): boolean;\n\tcreateAnyControl(ModeAsExpression: CompiledBindingToolkitExpression, rowContext: Context | undefined): typeof Any;\n\tgetDataModelAndConvertedTargetObject(propertyName: string | undefined): DataModelConversion | undefined;\n}\n\ninterface TableAPI\n\textends TableAPIStateHandler,\n\t\tTableExport,\n\t\tTableOptimisticBatch,\n\t\tTableHierarchy,\n\t\tEmptyRowsHandler,\n\t\tContextMenuHandler,\n\t\tTableSharing,\n\t\tColumnManagement {\n\t// aggregation\n\tgetContent(): MDCTable;\n\t// association\n\tgetFilterBar(): string;\n\t// property\n\tgetDataInitialized(): boolean;\n}\n\n/**\n * Building block used to create a table based on the metadata provided by OData V4.\n * <br>\n * Usually, a LineItem, PresentationVariant or SelectionPresentationVariant annotation is expected, but the Table building block can also be used to display an EntitySet.\n * <br>\n * If a PresentationVariant is specified, then it must have UI.LineItem as the first property of the Visualizations.\n * <br>\n * If a SelectionPresentationVariant is specified, then it must contain a valid PresentationVariant that also has a UI.LineItem as the first property of the Visualizations.\n *\n * Usage example:\n * <pre>\n * &lt;macros:Table id=\"MyTable\" metaPath=\"@com.sap.vocabularies.UI.v1.LineItem\" /&gt;\n * </pre>\n * @private\n */\n\n@defineUI5Class(\"sap.fe.macros.table.TableAPI\", { returnTypes: [\"sap.fe.macros.MacroAPI\"] })\n@mixin(TableAPIStateHandler)\n@mixin(TableExport)\n@mixin(TableOptimisticBatch)\n@mixin(TableHierarchy)\n@mixin(EmptyRowsHandler)\n@mixin(ContextMenuHandler)\n@mixin(TableSharing)\n@mixin(ColumnManagement)\nclass TableAPI extends MacroAPI implements ISingleSectionContributor, IRowBindingInterface, ITableBlock {\n\tcontent!: Table;\n\n\tmassEditDialogHelper: MassEditDialogHelper | undefined;\n\n\toriginalTableDefinition!: TableVisualization;\n\n\tpropertyEditModeCache: Record<string, typeof Any> = {};\n\n\tinitialControlState: Record<string, unknown> = {};\n\n\tconstructor(mSettings?: PropertiesOf<TableAPI> & { id?: string }, ...others: $ControlSettings[]) {\n\t\tsuper(mSettings, ...others);\n\t\tthis.originalTableDefinition = this.tableDefinition;\n\n\t\tthis.attachStateChangeHandler();\n\t\tthis.attachManifestEvents();\n\t\tthis.overrideRowPress = this.hasListeners(\"rowPress\");\n\t}\n\n\t@implementInterface(\"sap.fe.core.IRowBindingInterface\")\n\t__implements__sap_fe_core_IRowBindingInterface = true;\n\n\tgetRowBinding(parameters?: object): ODataListBinding {\n\t\tconst mdcTable = this.content;\n\t\tconst dataModel = mdcTable.getModel();\n\t\treturn (\n\t\t\tmdcTable.getRowBinding() ??\n\t\t\t(dataModel?.bindList(this.getRowCollectionPath(), undefined, undefined, undefined, parameters) as ODataListBinding)\n\t\t);\n\t}\n\n\tprivate attachStateChangeHandler(): void {\n\t\tStateUtil.detachStateChange(this.stateChangeHandler);\n\t\tStateUtil.attachStateChange(this.stateChangeHandler);\n\t}\n\n\tstateChangeHandler(oEvent: Event<{ control: Control }>): void {\n\t\tconst control = oEvent.getParameter(\"control\");\n\t\tif (control.isA<Table>(\"sap.ui.mdc.Table\")) {\n\t\t\tconst tableAPI = control.getParent() as unknown as { handleStateChange?: Function };\n\t\t\tif (tableAPI?.handleStateChange) {\n\t\t\t\ttableAPI.handleStateChange();\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Attach the event handlers coming from the manifest for 'rowPress', 'selectionChange' and 'beforeRebindTable'.\n\t * We ignore the manifest handlers if the table already has event handlers (override).\n\t */\n\tprivate attachManifestEvents(): void {\n\t\tconst attachIfNoListeners = (eventName: string, methodConfig: ExternalMethodConfig | undefined): void => {\n\t\t\tif (!this.hasListeners(eventName) && methodConfig !== undefined) {\n\t\t\t\tthis.attachEvent(eventName, (ui5Event: UI5Event) => {\n\t\t\t\t\tFPMHelper.loadModuleAndCallMethod(methodConfig.moduleName, methodConfig.methodName, ui5Event, ui5Event).catch(\n\t\t\t\t\t\t(error) => {\n\t\t\t\t\t\t\tLog.error(\n\t\t\t\t\t\t\t\t`Failed to call ${eventName} event handler ${methodConfig.moduleName} ${methodConfig.methodName}`,\n\t\t\t\t\t\t\t\terror\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\t\t\t\t\t);\n\t\t\t\t});\n\t\t\t}\n\t\t};\n\n\t\tattachIfNoListeners(\n\t\t\t\"beforeRebindTable\",\n\t\t\tgetCustomFunctionInfo(this.tableDefinition?.control?.beforeRebindTable, this.tableDefinition?.control)\n\t\t);\n\t\tattachIfNoListeners(\"rowPress\", getCustomFunctionInfo(this.tableDefinition?.control?.rowPress, this.tableDefinition?.control));\n\t\tattachIfNoListeners(\n\t\t\t\"selectionChange\",\n\t\t\tgetCustomFunctionInfo(this.tableDefinition?.control?.selectionChange, this.tableDefinition?.control)\n\t\t);\n\t}\n\n\t/**\n\t * Sets an illustrated message during the initialisation of the table API.\n\t * Useful if we have a building block in a list report without initial load.\n\t * @private\n\t */\n\tprivate setUpNoDataInformation(): void {\n\t\tconst table = this.content;\n\t\tif (!table || table.getNoData()) {\n\t\t\treturn;\n\t\t}\n\t\tconst owner = this._getOwner();\n\t\tlet description;\n\t\tlet title;\n\t\tif (owner) {\n\t\t\tconst resourceModel = getResourceModel(owner);\n\t\t\tif (resourceModel) {\n\t\t\t\tlet suffix;\n\t\t\t\tconst metaPath = this.metaPath;\n\t\t\t\tif (metaPath) {\n\t\t\t\t\tsuffix = metaPath.startsWith(\"/\") ? metaPath.substring(1) : metaPath;\n\t\t\t\t}\n\t\t\t\ttitle = resourceModel.getText(\"T_ILLUSTRATED_MESSAGE_TITLE_BEFORESEARCH\");\n\t\t\t\tdescription = resourceModel.getText(\"T_TABLE_AND_CHART_NO_DATA_TEXT\", undefined, suffix);\n\t\t\t}\n\t\t} else {\n\t\t\tconst resourceBundle = Library.getResourceBundleFor(\"sap.fe.templates\")!;\n\t\t\ttitle = resourceBundle.getText(\"T_ILLUSTRATED_MESSAGE_TITLE_BEFORESEARCH\");\n\t\t\tdescription = resourceBundle.getText(\"T_TABLE_AND_CHART_NO_DATA_TEXT\");\n\t\t}\n\n\t\tif (this.getNoDataMessageMode() === \"text\") {\n\t\t\tthis.setAggregation(\"noData\", new Text({ text: description }));\n\t\t} else {\n\t\t\tconst illustratedMessage = new IllustratedMessage({\n\t\t\t\ttitle: title,\n\t\t\t\tdescription: description,\n\t\t\t\tillustrationType: IllustratedMessageType.BeforeSearch,\n\t\t\t\tillustrationSize: this.getNoDataMessageMode(),\n\t\t\t\tenableDefaultTitleAndDescription: false\n\t\t\t});\n\n\t\t\tthis.setAggregation(\"noData\", illustratedMessage);\n\t\t}\n\t}\n\n\t@implementInterface(\"sap.fe.macros.controls.section.ISingleSectionContributor\")\n\t__implements__sap_fe_macros_controls_section_ISingleSectionContributor = true;\n\n\tgetSectionContentRole(): \"provider\" | \"consumer\" {\n\t\treturn \"consumer\";\n\t}\n\n\t/**\n\t * Implementation of the sendDataToConsumer method which is a part of the ISingleSectionContributor\n\t *\n\t * Will be called from the sap.fe.macros.controls.Section control when there is a Table building block rendered within a section\n\t * along with the consumerData i.e. section's data such as title and title level which is then applied to the table using the implementation below accordingly.\n\t *\n\t */\n\n\tsendDataToConsumer(consumerData: ConsumerData): void {\n\t\tif (this.content?.isA<Table>(\"sap.ui.mdc.Table\")) {\n\t\t\tthis.content?.setHeader(consumerData.title);\n\t\t\tthis.content?.setHeaderStyle(consumerData.headerStyle as TitleLevel);\n\t\t\tthis.content?.setHeaderLevel(consumerData.titleLevel as TitleLevel);\n\t\t}\n\t}\n\n\t@property({\n\t\ttype: \"string\",\n\t\texpectedTypes: [\"EntitySet\", \"EntityType\", \"Singleton\", \"NavigationProperty\"],\n\t\texpectedAnnotations: [\n\t\t\t\"com.sap.vocabularies.UI.v1.LineItem\",\n\t\t\t\"com.sap.vocabularies.UI.v1.PresentationVariant\",\n\t\t\t\"com.sap.vocabularies.UI.v1.SelectionPresentationVariant\"\n\t\t],\n\t\trequired: true\n\t})\n\tmetaPath!: string;\n\n\t@property({\n\t\ttype: \"string\",\n\t\texpectedTypes: [\"EntitySet\", \"EntityType\", \"Singleton\", \"NavigationProperty\"]\n\t})\n\tcontextPath!: string;\n\n\t@property({ type: \"object\" })\n\ttableDefinition!: TableVisualization;\n\n\t@property({ type: \"string\" })\n\tcontentId!: string;\n\n\t@property({ type: \"string\" })\n\tentityTypeFullyQualifiedName!: string;\n\n\t@property({ type: \"boolean\" })\n\tenableFullScreen?: boolean;\n\n\t@property({ type: \"boolean\" })\n\tenableExport?: boolean;\n\n\t@property({ type: \"string\" })\n\texportFileName?: string;\n\n\t@property({ type: \"string\" })\n\texportSheetName?: string;\n\n\t@property({ type: \"int\" })\n\tfrozenColumnCount?: number;\n\n\t@property({ type: \"boolean\" })\n\tdisableColumnFreeze?: boolean;\n\n\t@property({ type: \"string\", allowedValues: [\"Auto\", \"Fixed\"] })\n\trowCountMode?: string;\n\n\t@property({ type: \"int\" })\n\trowCount?: number;\n\n\t@property({ type: \"boolean\" })\n\tenablePaste?: boolean | CompiledBindingToolkitExpression;\n\n\t@property({ type: \"boolean\" })\n\tdisableCopyToClipboard?: boolean;\n\n\t@property({ type: \"int\" })\n\tscrollThreshold?: number;\n\n\t@property({ type: \"int\" })\n\tthreshold?: number;\n\n\t@property({ type: \"string\", allowedValues: [\"Block\", \"GridLarge\", \"GridSmall\"] })\n\tpopinLayout?: string;\n\n\t@property({ type: \"boolean\" })\n\tisSearchable?: boolean;\n\n\t@property({ type: \"string\", allowedValues: [\"GridTable\", \"ResponsiveTable\", \"AnalyticalTable\"] })\n\ttype?: TableType;\n\n\t@property({ type: \"boolean\" })\n\tuseCondensedLayout?: boolean;\n\n\t@property({ type: \"string\", allowedValues: [\"None\", \"Single\", \"Multi\", \"Auto\", \"ForceMulti\", \"ForceSingle\"] })\n\tselectionMode?: string;\n\n\t@property({ type: \"boolean\" })\n\tcondensedTableLayout?: boolean;\n\n\t@aggregation({\n\t\ttype: \"sap.fe.macros.table.Action\",\n\t\taltTypes: [\"sap.fe.macros.table.ActionGroup\", \"sap.fe.macros.table.ActionOverride\", \"sap.fe.macros.table.ActionGroupOverride\"],\n\t\tmultiple: true\n\t})\n\tactions?: (Action | ActionGroup | ActionOverride | ActionGroupOverride)[];\n\n\t@aggregation({\n\t\ttype: \"sap.fe.macros.table.Column\",\n\t\taltTypes: [\"sap.fe.macros.table.ColumnOverride\"],\n\t\tmultiple: true\n\t})\n\tcolumns?: (Column | ColumnOverride)[];\n\n\t/**\n\t * An expression that allows you to control the 'read-only' state of the table.\n\t *\n\t * If you do not set any expression, SAP Fiori elements hooks into the standard lifecycle to determine the current state.\n\t */\n\t@property({ type: \"boolean\" })\n\treadOnly!: boolean;\n\n\t/**\n\t * ID of the FilterBar building block associated with the table.\n\t */\n\t//@association({ type: \"sap.fe.macros.filterBar.FilterBarAPI\" })\n\t@property({ type: \"string\" })\n\tfilterBar?: string;\n\n\t/**\n\t * Specifies if the column width is automatically calculated.\n\t */\n\t@property({ type: \"boolean\", defaultValue: true })\n\tenableAutoColumnWidth!: boolean;\n\n\t/**\n\t * Indicates if the column header should be a part of the width calculation.\n\t */\n\t@property({ type: \"boolean\", defaultValue: false })\n\twidthIncludingColumnHeader?: boolean;\n\n\t/**\n\t * Changes the size of the IllustratedMessage in the table, or removes it completely.\n\t * Allowed values are `illustratedMessage-Auto`, `illustratedMessage-Base`, `illustratedMessage-Dialog`, `illustratedMessage-Dot`, `illustratedMessage-Scene`, `illustratedMessage-Spot` or `text`.\n\t */\n\t@property({\n\t\ttype: \"string\",\n\t\tallowedValues: [\n\t\t\t\"illustratedMessage-Auto\",\n\t\t\t\"illustratedMessage-Base\",\n\t\t\t\"illustratedMessage-Dialog\",\n\t\t\t\"illustratedMessage-Medium\",\n\t\t\t\"illustratedMessage-Dot\",\n\t\t\t\"illustratedMessage-ExtraSmall\",\n\t\t\t\"illustratedMessage-Scene\",\n\t\t\t\"illustratedMessage-Large\",\n\t\t\t\"illustratedMessage-Spot\",\n\t\t\t\"illustratedMessage-Small\",\n\t\t\t\"text\"\n\t\t]\n\t})\n\tmodeForNoDataMessage?: string;\n\n\t@property({ type: \"boolean\", defaultValue: false })\n\tdataInitialized!: boolean;\n\n\t@property({ type: \"boolean\", defaultValue: false })\n\tbindingSuspended!: boolean;\n\n\t@property({ type: \"boolean\", defaultValue: false })\n\toutDatedBinding!: boolean;\n\n\t@property({ type: \"boolean\", defaultValue: false })\n\tisAlp!: boolean;\n\n\t@property({ type: \"string\" })\n\tvariantManagement?: string;\n\n\t@property({ type: \"string\" })\n\tignoredFields?: string;\n\n\t@property({ type: \"string\" })\n\tid!: string;\n\n\t@property({ type: \"string\" })\n\tfieldMode?: string;\n\n\t@property({ type: \"sap.ui.core.TitleLevel\", defaultValue: TitleLevel.Auto })\n\theaderLevel!: TitleLevel;\n\n\t@property({ type: \"sap.ui.core.TitleLevel\" })\n\theaderStyle?: TitleLevel;\n\n\t@property({ type: \"int\" })\n\texportRequestSize?: number;\n\n\t@property({ type: \"boolean\" })\n\tinitialLoad?: boolean;\n\n\t/**\n\t * Controls which options should be enabled for the table personalization dialog.\n\t *\n\t * If it is set to `true`, all possible options for this kind of table are enabled.<br/>\n\t * If it is set to `false`, personalization is disabled.<br/>\n\t *<br/>\n\t * You can also provide a more granular control for the personalization by providing a comma-separated list with the options you want to be available.<br/>\n\t * Available options are:<br/>\n\t *  - Sort<br/>\n\t *  - Column<br/>\n\t *  - Filter<br/>\n\t *  - Group<br/>\n\t *<br/>\n\t * The Group option is only applicable to analytical tables and responsive tables.<br/>\n\t */\n\t@property({ type: \"string\" })\n\tpersonalization?: string;\n\n\t/**\n\t * Specifies the header text that is shown in the table.\n\t *\n\t */\n\t@property({ type: \"string\" })\n\theader?: string;\n\n\t@property({ type: \"boolean\" })\n\tuseBasicSearch?: boolean;\n\n\t/**\n\t * Specifies if the empty rows are enabled. This allows to have dynamic enablement of the empty rows using the setter function.\n\t */\n\t@property({ type: \"boolean\", defaultValue: false })\n\temptyRowsEnabled!: boolean;\n\n\t/**\n\t * Controls if the header text should be shown or not.\n\t *\n\t */\n\t@property({ type: \"boolean\", isBindingInfo: true })\n\theaderVisible?: boolean;\n\n\t@property({ type: \"string\" })\n\ttabTitle?: string;\n\n\t@property({ type: \"string\" })\n\tassociatedSelectionVariantPath?: string;\n\n\t@property({ type: \"boolean\" })\n\tinMultiView?: boolean;\n\n\t@property({ type: \"boolean\" })\n\tdisplaySegmentedButton?: boolean;\n\n\t@property({ type: \"boolean\" })\n\tenablePastingOfComputedProperties?: boolean;\n\n\t@property({ type: \"boolean\" })\n\tenableSelectAll?: boolean;\n\n\t@property({ type: \"int\" })\n\tselectionLimit?: number;\n\n\t@aggregation({ type: \"sap.fe.macros.table.TableCreationOptions\", defaultClass: TableCreationOptions })\n\tcreationMode?: TableCreationOptions;\n\n\t/**\n\t * Aggregation to forward the IllustratedMessage control to the mdc control.\n\t * @public\n\t */\n\t@aggregation({\n\t\ttype: \"sap.m.IllustratedMessage\",\n\t\taltTypes: [\"sap.m.Text\"],\n\t\tforwarding: {\n\t\t\tgetter: \"getMDCTable\",\n\t\t\taggregation: \"noData\"\n\t\t}\n\t})\n\tnoData?: IllustratedMessage;\n\n\t/**\n\t * A set of options that can be configured to control the aggregation behavior\n\t * @public\n\t */\n\t@aggregation({\n\t\ttype: \"sap.fe.macros.table.AnalyticalConfiguration\"\n\t})\n\tanalyticalConfiguration?: AnalyticalConfiguration;\n\n\t/**\n\t * Aggregate quickVariantSelection of the table.\n\t */\n\t@aggregation({\n\t\ttype: \"sap.fe.macros.table.QuickVariantSelection\"\n\t})\n\tquickVariantSelection?: QuickVariantSelection;\n\n\t/**\n\t * Aggregate mass edit of the table.\n\t */\n\t@aggregation({\n\t\ttype: \"sap.fe.macros.table.MassEdit\"\n\t})\n\tmassEdit?: MassEdit;\n\n\t/**\n\t * An event is triggered when the table is about to be rebound. This event contains information about the binding info.\n\t *\n\t * The event contains a parameter, `collectionBindingInfo`, which is an instance of `CollectionBindingInfoAPI`.\n\t * This allows you to manipulate the table's list binding.\n\t *\n\t * You can use this event to attach event handlers to the table's list binding.\n\t *\n\t * You can use this event to add or read: Filters, Sorters.\n\t * You can use this event to read the binding info.\n\t * You can use this event to add: Selects.\n\t */\n\t@event()\n\tbeforeRebindTable?: Function;\n\n\t/**\n\t * An event is triggered when the user chooses a row; the event contains information about which row is chosen.\n\t *\n\t * You can set this in order to handle the navigation manually.\n\t */\n\t@event()\n\trowPress?: Function;\n\n\t/**\n\t * An event is triggered when the user switched between view in an ALP.\n\t */\n\t@event()\n\tsegmentedButtonPress?: Function;\n\n\t/**\n\t * An event is triggered when the user saved the variant.\n\t */\n\t@event()\n\tvariantSaved?: Function;\n\n\t/**\n\t * An event is triggered when the user selected a variant.\n\t */\n\t@event()\n\tvariantSelected?: Function;\n\n\t/**\n\t * An event triggered when the Table list binding changes.\n\t */\n\t@event()\n\tlistBindingChange?: Function;\n\n\t@event()\n\tinternalDataRequested!: Function;\n\n\tcontextObjectPath!: DataModelObjectPath<LineItem | PresentationVariant | SelectionPresentationVariant>;\n\n\tprivate ignoreContextChangeEvent = false;\n\n\tprivate lock: Record<string, boolean> = {};\n\n\tstoredEvents: EventHandler[] = [];\n\n\toverrideRowPress = false;\n\n\tgetIgnoreContextChangeEvent(): boolean {\n\t\treturn this.ignoreContextChangeEvent;\n\t}\n\n\tsetIgnoreContextChangeEvent(value: boolean): void {\n\t\tthis.ignoreContextChangeEvent = value;\n\t}\n\n\tsetBusy(value: boolean): this {\n\t\tsuper.setBusy(value);\n\t\tthis.content?.setBusy(value);\n\t\treturn this;\n\t}\n\n\t/**\n\t * Sets the event handlers to the TableAPI.\n\t * @param eventHandlers\n\t */\n\tsetAttachEvents(eventHandlers: EventHandler[]): void {\n\t\tthis.storedEvents = eventHandlers;\n\t}\n\n\t/**\n\t * Gets the relevant tableAPI for a UI5 event.\n\t * An event can be triggered either by the inner control (the table) or the OData listBinding\n\t * The first initiator is the usual one so it's managed by the MacroAPI whereas\n\t * the second one is specific to this API and has to managed by the TableAPI.\n\t * @param source The UI5 event source\n\t * @returns The TableAPI or false if not found\n\t * @private\n\t */\n\tstatic _getAPIExtension(source: ManagedObject): TableAPI | undefined {\n\t\tlet tableAPI: TableAPI | undefined;\n\t\tif (source.isA<ODataListBinding>(\"sap.ui.model.odata.v4.ODataListBinding\")) {\n\t\t\ttableAPI = ((this as unknown as XMLEventHolder).instanceMap?.get(this) as TableAPI[])?.find(\n\t\t\t\t(api) => api.content?.getRowBinding?.() === source || api.content?.getBinding(\"items\") === source\n\t\t\t);\n\t\t}\n\t\treturn tableAPI;\n\t}\n\n\t/**\n\t * Gets contexts from the table that have been selected by the user.\n\t * @returns Contexts of the rows selected by the user\n\t * @public\n\t */\n\tgetSelectedContexts(): Context[] {\n\t\t// When a context menu item has been pressed, the selectedContexts correspond to the items on which\n\t\t// the corresponding action shall be applied.\n\t\treturn this.isContextMenuActive()\n\t\t\t? this.getBindingContext(\"internal\")?.getProperty(\"contextmenu/selectedContexts\") ?? []\n\t\t\t: this.content.getSelectedContexts();\n\t}\n\n\t/**\n\t * Adds a message to the table.\n\t *\n\t * The message applies to the whole table and not to an individual table row.\n\t * @param [parameters] The parameters to create the message\n\t * @param parameters.type Message type\n\t * @param parameters.message Message text\n\t * @param parameters.description Message description\n\t * @param parameters.persistent True if the message is persistent\n\t * @returns Promise<string> The ID of the message\n\t * @public\n\t */\n\tasync addMessage(parameters: { type?: MessageType; message?: string; description?: string; persistent?: boolean }): Promise<string> {\n\t\tconst table = this.getContent();\n\t\tif (!table.getBindingContext() && !table.getRowBinding()) {\n\t\t\tawait new Promise<void>((resolve) => {\n\t\t\t\tconst checkContextChange = function (): void {\n\t\t\t\t\tif (table.getBindingContext()) {\n\t\t\t\t\t\ttable.detachEvent(\"modelContextChange\", checkContextChange);\n\t\t\t\t\t\tresolve();\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t\ttable.attachEvent(\"modelContextChange\", checkContextChange);\n\t\t\t});\n\t\t}\n\t\tconst rowBinding = table.getRowBinding();\n\t\tconst resolvedPath = rowBinding.getResolvedPath() as string;\n\t\treturn this.createMessage(table, resolvedPath, parameters);\n\t}\n\n\tprivate createMessage(\n\t\ttable: MDCTable,\n\t\tpath: string,\n\t\tparameters: { type?: MessageType; message?: string; description?: string; persistent?: boolean }\n\t): string {\n\t\tconst message = new Message({\n\t\t\ttarget: path,\n\t\t\ttype: parameters.type,\n\t\t\tmessage: parameters.message,\n\t\t\tprocessor: table.getModel(),\n\t\t\tdescription: parameters.description,\n\t\t\tpersistent: parameters.persistent\n\t\t});\n\t\tthis._getMessageManager().addMessages(message);\n\t\treturn message.getId();\n\t}\n\n\t/**\n\t * This function will check if the table should request recommendations function.\n\t * The table in view should only request recommendations if\n\t * 1. The Page is in Edit mode\n\t * 2. Table is not read only\n\t * 3. It has annotation for Common.RecommendedValuesFunction\n\t * 4. View is not ListReport, for OP/SubOP and forward views recommendations should be requested.\n\t * @param _oEvent\n\t * @returns True if recommendations needs to be requested\n\t */\n\tcheckIfRecommendationRelevant(_oEvent: UI5Event): boolean {\n\t\tconst isTableReadOnly = this.getProperty(\"readOnly\");\n\t\tconst isEditable = CommonUtils.getIsEditable(this);\n\t\tconst view = CommonUtils.getTargetView(this);\n\t\tconst viewData = view.getViewData();\n\t\t// request for action only if we are in OP/SubOP and in Edit mode, also table is not readOnly\n\t\tif (!isTableReadOnly && isEditable && viewData.converterType !== \"ListReport\") {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\t/**\n\t * Removes a message from the table.\n\t * @param id The id of the message\n\t * @public\n\t */\n\tremoveMessage(id: string): void {\n\t\tconst msgManager = this._getMessageManager();\n\t\tconst messages = msgManager.getMessageModel().getData();\n\t\tconst result = messages.find((e: Message) => e.getId() === id);\n\t\tif (result) {\n\t\t\tmsgManager.removeMessages(result);\n\t\t}\n\t}\n\n\t/**\n\t * Requests a refresh of the table.\n\t * @public\n\t */\n\trefresh(): void {\n\t\tconst tableRowBinding = this.content.getRowBinding();\n\t\tif (tableRowBinding && (tableRowBinding.isRelative() || this.getTableDefinition().control.type === \"TreeTable\")) {\n\t\t\t// For tree tables, the refresh is always done using side effects to preserve expansion states\n\t\t\tconst appComponent = CommonUtils.getAppComponent(this.content);\n\t\t\tconst headerContext = tableRowBinding.getHeaderContext();\n\n\t\t\tif (headerContext) {\n\t\t\t\tappComponent\n\t\t\t\t\t.getSideEffectsService()\n\t\t\t\t\t.requestSideEffects([{ $NavigationPropertyPath: \"\" }], headerContext, tableRowBinding.getGroupId());\n\t\t\t}\n\t\t} else {\n\t\t\ttableRowBinding?.refresh();\n\t\t}\n\t}\n\n\tgetQuickFilter(): QuickFilterSelector | undefined {\n\t\treturn this.content?.getQuickFilter() as QuickFilterSelector | undefined;\n\t}\n\n\t/**\n\t * Get the presentation variant that is currently applied on the table.\n\t * @returns The presentation variant applied to the table\n\t * @public\n\t */\n\tasync getPresentationVariant(): Promise<PresentationVariantClass> {\n\t\ttry {\n\t\t\tconst table = this.content;\n\t\t\tconst tableState = await StateUtil.retrieveExternalState(table);\n\n\t\t\t//We remove \"Property::\" as it is prefixed to those columns that have associated propertyInfos.\n\t\t\t//The Presentation Variant format does not support this (it is only required by the Table and AppState).\n\t\t\tconst sortOrder = tableState.sorters?.map((sorter: Sorters) => {\n\t\t\t\treturn {\n\t\t\t\t\tProperty: sorter.name.replace(\"Property::\", \"\"),\n\t\t\t\t\tDescending: sorter.descending ?? false\n\t\t\t\t};\n\t\t\t});\n\t\t\tconst groupLevels = tableState.groupLevels?.map((group: GroupLevels) => {\n\t\t\t\treturn group.name.replace(\"Property::\", \"\");\n\t\t\t});\n\t\t\tconst tableViz = {\n\t\t\t\tContent: tableState.items?.map((item: Items) => {\n\t\t\t\t\treturn {\n\t\t\t\t\t\tValue: item.name\n\t\t\t\t\t};\n\t\t\t\t}),\n\t\t\t\tType: \"LineItem\"\n\t\t\t};\n\t\t\tconst aggregations: Record<string, { aggregated?: boolean }> = {};\n\t\t\tlet hasAggregations = false;\n\t\t\tfor (const key in tableState.aggregations) {\n\t\t\t\tconst newKey = key.replace(\"Property::\", \"\");\n\t\t\t\taggregations[newKey] = tableState.aggregations[key];\n\t\t\t\thasAggregations = true;\n\t\t\t}\n\t\t\tconst initialExpansionLevel = (table.getPayload() as { initialExpansionLevel?: number; hierarchyQualifier?: string })\n\t\t\t\t?.initialExpansionLevel;\n\t\t\tconst tablePV = new PresentationVariantClass();\n\t\t\ttablePV.setTableVisualization(tableViz);\n\t\t\tconst properties: PvProperties = {\n\t\t\t\tGroupBy: groupLevels || [],\n\t\t\t\tSortOrder: sortOrder || []\n\t\t\t};\n\t\t\tif (hasAggregations) {\n\t\t\t\tproperties.Aggregations = aggregations;\n\t\t\t}\n\t\t\tif (initialExpansionLevel) {\n\t\t\t\tproperties.initialExpansionLevel = initialExpansionLevel;\n\t\t\t}\n\t\t\ttablePV.setProperties(properties);\n\t\t\treturn tablePV;\n\t\t} catch (error) {\n\t\t\tconst id = this.getId();\n\t\t\tconst message = error instanceof Error ? error.message : String(error);\n\t\t\tLog.error(`Table Building Block (${id}) - get presentation variant failed : ${message}`);\n\t\t\tthrow Error(error as string);\n\t\t}\n\t}\n\n\t/**\n\t * Set a new presentation variant to the table.\n\t * @param tablePV The new presentation variant that is to be set on the table.\n\t * @public\n\t */\n\tasync setPresentationVariant(tablePV: PresentationVariantClass): Promise<void> {\n\t\ttry {\n\t\t\tconst table = this.content;\n\n\t\t\tconst currentStatePV = await this.getPresentationVariant();\n\t\t\tconst propertyInfos = this.getEnhancedFetchedPropertyInfos();\n\t\t\tconst propertyInfoNames = propertyInfos.map((propInfo) => propInfo.key);\n\t\t\tconst newTableState = convertPVToState(tablePV, currentStatePV, propertyInfoNames);\n\t\t\tconst tableProperties = tablePV.getProperties();\n\t\t\tif (tableProperties?.initialExpansionLevel !== undefined) {\n\t\t\t\tconst tablePayload = table.getPayload() as { initialExpansionLevel?: number; hierarchyQualifier?: string };\n\t\t\t\ttablePayload.initialExpansionLevel = tableProperties.initialExpansionLevel;\n\t\t\t}\n\t\t\tawait StateUtil.applyExternalState(table, newTableState);\n\t\t} catch (error) {\n\t\t\tconst id = this.getId();\n\t\t\tconst message = error instanceof Error ? error.message : String(error);\n\t\t\tLog.error(`Table Building Block (${id}) - set presentation variant failed : ${message}`);\n\t\t\tthrow Error(message);\n\t\t}\n\t}\n\n\t/**\n\t * Get the variant management applied to the table.\n\t * @returns Key of the currently selected variant. In case the model is not yet set, `null` will be returned.\n\t * @public\n\t */\n\tgetCurrentVariantKey(): string | null {\n\t\treturn this.content.getVariant()?.getCurrentVariantKey();\n\t}\n\n\t/**\n\t * Set a variant management to the table.\n\t * @param key Key of the variant that should be selected. If the passed key doesn't identify a variant, it will be ignored.\n\t * @public\n\t */\n\tsetCurrentVariantKey(key: string): void {\n\t\tconst variantManagement = this.content.getVariant();\n\t\tvariantManagement.setCurrentVariantKey(key);\n\t}\n\n\t_getMessageManager(): Messaging {\n\t\treturn Messaging;\n\t}\n\n\t/**\n\t * An event triggered when the selection in the table changes.\n\t */\n\t@event()\n\tselectionChange?: Function;\n\n\t_getRowBinding(): ODataListBinding {\n\t\tconst oTable = this.getContent();\n\t\treturn oTable.getRowBinding();\n\t}\n\n\tasync getCounts(): Promise<string> {\n\t\tconst oTable = this.getContent();\n\t\treturn TableUtils.getListBindingForCount(oTable, oTable.getBindingContext(), {\n\t\t\tbatchGroupId: !this.getProperty(\"bindingSuspended\") ? oTable.data(\"batchGroupId\") : \"$auto\",\n\t\t\tadditionalFilters: TableUtils.getHiddenFilters(oTable)\n\t\t})\n\t\t\t.then((iValue: number) => {\n\t\t\t\treturn TableUtils.getCountFormatted(iValue);\n\t\t\t})\n\t\t\t.catch(() => {\n\t\t\t\treturn \"0\";\n\t\t\t});\n\t}\n\n\t/**\n\t * Handles the context change on the table.\n\t * An event is fired to propagate the OdataListBinding event and the enablement\n\t * of the creation row is calculated.\n\t * @param ui5Event The UI5 event\n\t */\n\tonListBindingChange(ui5Event: UI5Event): void {\n\t\tthis.fireEvent(\"listBindingChange\", ui5Event.getParameters());\n\t\tthis.setFastCreationRowEnablement();\n\t\tthis.getQuickFilter()?.refreshSelectedCount();\n\t\tTableRuntime.setContextsAsync(this.content);\n\t}\n\n\t/**\n\t * Handler for the onFieldLiveChange event.\n\t * @param ui5Event The event object passed by the onFieldLiveChange event\n\t */\n\t@xmlEventHandler()\n\tonFieldLiveChange(ui5Event: UI5Event<{}, Control>): void {\n\t\t// We can't fully move an xmlEventHandler to a mixin...\n\t\tthis._onFieldLiveChange(ui5Event);\n\t}\n\n\t/**\n\t * Handles the change on a quickFilter\n\t * The table is rebound if the FilterBar is not suspended and update the AppState.\n\t *\n\t */\n\tonQuickFilterSelectionChange(): void {\n\t\tconst table = this.content;\n\t\t// Rebind the table to reflect the change in quick filter key.\n\t\t// We don't rebind the table if the filterBar for the table is suspended\n\t\t// as rebind will be done when the filterBar is resumed\n\t\tconst filterBarID = table.getFilter();\n\t\tconst filterBar = (filterBarID && UI5Element.getElementById(filterBarID)) as FilterBar | undefined;\n\t\tif (!filterBar?.getSuspendSelection?.()) {\n\t\t\ttable.rebind();\n\t\t}\n\t\t(CommonUtils.getTargetView(this)?.getController() as PageController | undefined)?.getExtensionAPI().updateAppState();\n\t}\n\n\tonTableNavigate(oController: PageController, oContext: Context, mParameters: object): boolean | undefined {\n\t\tif (this.isTableRowNavigationPossible(oContext)) {\n\t\t\tif (this.fullScreenDialog) {\n\t\t\t\t// Exit fullscreen mode before navigation\n\t\t\t\tthis.fullScreenDialog.close(); // The fullscreendialog will set this.fullScreenDialog to undefined when closing\n\t\t\t}\n\t\t\tconst navigationParameters = Object.assign({}, mParameters, { reason: NavigationReason.RowPress });\n\t\t\toController._routing.navigateForwardToContext(oContext, navigationParameters);\n\t\t} else {\n\t\t\treturn false;\n\t\t}\n\t}\n\n\t/**\n\t * Event handler for the row press event of the table.\n\t * @param pressEvent\n\t * @returns Promise<boolean>\n\t */\n\t@xmlEventHandler()\n\tasync onTableRowPress(pressEvent: RowActionItem$PressEvent): Promise<boolean | void> {\n\t\tconst rowNavigationInfo = this.tableDefinition?.annotation.row?.navigationInfo;\n\t\tif (this.overrideRowPress === true) {\n\t\t\t// There's an event handler for the rowPress event --> we just fire the event and do not navigate\n\t\t\tthis.fireEvent(\"rowPress\", pressEvent.getParameters());\n\t\t} else if (rowNavigationInfo !== undefined) {\n\t\t\tconst controller = this.getPageController();\n\t\t\tconst bindingContext = pressEvent.getParameter(\"bindingContext\") as Context;\n\t\t\tif (rowNavigationInfo.type === \"Outbound\") {\n\t\t\t\t// Outbound navigation\n\t\t\t\treturn this.avoidParallelCalls(\n\t\t\t\t\tasync () =>\n\t\t\t\t\t\tcontroller._intentBasedNavigation.onChevronPressNavigateOutBound(\n\t\t\t\t\t\t\tcontroller,\n\t\t\t\t\t\t\trowNavigationInfo.navigationTarget,\n\t\t\t\t\t\t\tbindingContext,\n\t\t\t\t\t\t\t\"\"\n\t\t\t\t\t\t),\n\t\t\t\t\t\"onChevronPressNavigateOutBound\"\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\t// Internal navigation\n\t\t\t\tconst editable = rowNavigationInfo.checkEditable ? !bindingContext.getProperty(\"IsActiveEntity\") : undefined;\n\t\t\t\tconst parameters = {\n\t\t\t\t\tcallExtension: true,\n\t\t\t\t\ttargetPath: rowNavigationInfo.targetPath,\n\t\t\t\t\teditable,\n\t\t\t\t\trecreateContext: rowNavigationInfo.recreateContext\n\t\t\t\t};\n\n\t\t\t\treturn this.onTableNavigate(controller, bindingContext, parameters);\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Fires the corresponding event when the segmented button is pressed (in ALP).\n\t * @param oEvent\n\t */\n\t@xmlEventHandler()\n\tonSegmentedButtonPressed(oEvent: UI5Event): void {\n\t\tthis.fireEvent(\"segmentedButtonPress\", oEvent.getParameters());\n\t}\n\n\t/**\n\t * Fires the corresponding event when a new variant is selected.\n\t * @param oEvent\n\t */\n\t@xmlEventHandler()\n\tonVariantSelected(oEvent: UI5Event): void {\n\t\tconst parameters = {\n\t\t\t...oEvent.getParameters(),\n\t\t\toriginalSource: oEvent.getSource()\n\t\t};\n\t\tthis.fireEvent(\"variantSelected\", parameters);\n\t}\n\n\t/**\n\t * Fires the corresponding event when a variant is saved.\n\t * @param oEvent\n\t */\n\t@xmlEventHandler()\n\tonVariantSaved(oEvent: UI5Event): void {\n\t\tthis.fireEvent(\"variantSaved\", oEvent.getParameters());\n\t}\n\n\t/**\n\t * Fires the corresponding event when a row is pressed.\n\t * @param oEvent\n\t */\n\t@xmlEventHandler()\n\tonRowPressed(oEvent: UI5Event): void {\n\t\tthis.fireEvent(\"rowPress\", oEvent.getParameters());\n\t}\n\n\tisTableRowNavigationPossible(context: Context): boolean {\n\t\t// prevent navigation to an empty row\n\t\tconst emptyRow = context.isInactive() == true && context.isTransient() === true;\n\t\t// Or in the case of an analytical table, if we're trying to navigate to a context corresponding to a visual group or grand total\n\t\t// --> Cancel navigation\n\t\tconst analyticalGroupHeaderExpanded =\n\t\t\tthis.getTableDefinition().enableAnalytics === true &&\n\t\t\tcontext.isA(\"sap.ui.model.odata.v4.Context\") &&\n\t\t\ttypeof context.getProperty(\"@$ui5.node.isExpanded\") === \"boolean\";\n\t\treturn !(emptyRow || analyticalGroupHeaderExpanded);\n\t}\n\n\t@xmlEventHandler()\n\tonShareToCollaborationManagerPress(\n\t\toEvent: UI5Event,\n\t\tcontroller: PageController,\n\t\tcontexts: Context[],\n\t\tmaxNumberofSelectedItems: number\n\t): void | boolean {\n\t\t// We can't fully move an xmlEventHandler to a mixin...\n\t\treturn this._onShareToCollaborationManagerPress(controller, contexts, maxNumberofSelectedItems);\n\t}\n\n\t@xmlEventHandler()\n\tasync onOpenInNewTabPress(\n\t\toEvent: UI5Event,\n\t\tcontroller: PageController,\n\t\tallContexts: Context[],\n\t\tnavigableContexts: Context[],\n\t\tparameters: RoutingNavigationParameters,\n\t\tmaxNumberofSelectedItems: number\n\t): Promise<void | boolean> {\n\t\tif (navigableContexts.length <= maxNumberofSelectedItems) {\n\t\t\tconst promiseToWait = new PromiseKeeper<boolean>();\n\t\t\tif (navigableContexts.length < allContexts.length) {\n\t\t\t\tconst textKey =\n\t\t\t\t\tnavigableContexts.length === 1\n\t\t\t\t\t\t? \"T_TABLE_NAVIGATION_NOT_ALL_ITEMS_NAVIGABLE_SINGULAR\"\n\t\t\t\t\t\t: \"T_TABLE_NAVIGATION_NOT_ALL_ITEMS_NAVIGABLE_PLURAL\";\n\t\t\t\tMessageBox.confirm(\n\t\t\t\t\tthis.getTranslatedText(textKey, [allContexts.length, navigableContexts.length, maxNumberofSelectedItems]),\n\t\t\t\t\t{\n\t\t\t\t\t\tonClose: (result: string): void => {\n\t\t\t\t\t\t\tif (result === \"CANCEL\") {\n\t\t\t\t\t\t\t\tpromiseToWait.resolve(false);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tpromiseToWait.resolve(true);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\tpromiseToWait.resolve(true);\n\t\t\t}\n\t\t\tconst shouldProceed = await promiseToWait.promise;\n\t\t\tif (shouldProceed) {\n\t\t\t\tnavigableContexts.forEach(async (context: Context) => {\n\t\t\t\t\tif (this.isTableRowNavigationPossible(context)) {\n\t\t\t\t\t\tparameters.editable = !context.getProperty(\"IsActiveEntity\");\n\t\t\t\t\t\tawait controller._routing.navigateForwardToContext(context, parameters);\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t} else {\n\t\t\tMessageBox.warning(\n\t\t\t\tLibrary.getResourceBundleFor(\"sap.fe.macros\")!.getText(\"T_TABLE_NAVIGATION_TOO_MANY_ITEMS_SELECTED\", [\n\t\t\t\t\tmaxNumberofSelectedItems\n\t\t\t\t])\n\t\t\t);\n\t\t}\n\t}\n\n\t@xmlEventHandler()\n\tonInternalPatchCompleted(evt: Event<{ error: { status?: number; cause?: { status?: number }; message?: string } }>): void {\n\t\t// BCP: 2380023090\n\t\t// We handle enablement of Delete for the table here.\n\t\t// EditFlow.ts#handlePatchSent is handling the action enablement.\n\t\tconst internalModelContext = this.getBindingContext(\"internal\") as InternalModelContext;\n\t\tconst selectedContexts = this.getSelectedContexts();\n\t\tDeleteHelper.updateDeleteInfoForSelectedContexts(internalModelContext, selectedContexts);\n\t\tif (evt.getParameter(\"error\")) {\n\t\t\tthis.getPageController().messageHandler.showMessageDialog({ control: this });\n\t\t} else {\n\t\t\tthis.getPageController().messageHandler.releaseHoldByControl(this);\n\t\t}\n\t}\n\n\t@xmlEventHandler()\n\tonInternalPatchSent(evt: ODataContextBinding$PatchSentEvent): void {\n\t\tconst controller = this.getPageController();\n\t\tconst editFlowExtension = controller.editFlow;\n\t\tcontroller.messageHandler.holdMessagesForControl(this);\n\t\tif (this.tableDefinition.handlePatchSent) {\n\t\t\teditFlowExtension.handlePatchSent.call(this, evt);\n\t\t} else if (controller.inlineEditFlow.isInlineEditPossible()) {\n\t\t\tcontroller.inlineEditFlow.handleInlineEditPatchSent.call(this, evt);\n\t\t}\n\t}\n\n\t@xmlEventHandler()\n\tonInternalDataReceived(oEvent: UI5Event<{ error: string }, ODataListBinding>): void {\n\t\tconst isRecommendationRelevant = this.checkIfRecommendationRelevant(oEvent);\n\t\tif (isRecommendationRelevant) {\n\t\t\tconst contextIdentifier = this.getIdentifierColumn(isRecommendationRelevant) as string[];\n\t\t\tconst responseContextsArray = oEvent.getSource().getAllCurrentContexts();\n\t\t\tconst newContexts: RecommendationContextsInfo[] = [];\n\t\t\tresponseContextsArray.forEach((context) => {\n\t\t\t\tnewContexts.push({\n\t\t\t\t\tcontext,\n\t\t\t\t\tcontextIdentifier\n\t\t\t\t});\n\t\t\t});\n\t\t\tthis.getPageController().recommendations.fetchAndApplyRecommendations(newContexts, true);\n\t\t}\n\t\tthis.getPageController().messageHandler.holdMessagesForControl(this);\n\t\tif (oEvent.getParameter(\"error\")) {\n\t\t\tthis.getPageController().messageHandler.showMessageDialog({ control: this });\n\t\t} else {\n\t\t\tthis.getPageController().messageHandler.releaseHoldByControl(this);\n\t\t\tthis.setDownloadUrl();\n\t\t}\n\t}\n\n\t@xmlEventHandler()\n\tonInternalDataRequested(oEvent: UI5Event): void {\n\t\tthis.setProperty(\"dataInitialized\", true);\n\t\tthis.fireEvent(\"internalDataRequested\", oEvent.getParameters());\n\t\tif (this.getQuickFilter() !== undefined && this.getTableDefinition().control.filters?.quickFilters?.showCounts === true) {\n\t\t\tthis.getQuickFilter()?.setCountsAsLoading();\n\t\t\tthis.getQuickFilter()?.refreshUnSelectedCounts();\n\t\t}\n\t\tthis.getPageController().messageHandler.holdMessagesForControl(this);\n\t}\n\n\t/**\n\t * Handles the Paste operation.\n\t * @param evt The event\n\t * @param controller The page controller\n\t * @param forContextMenu\n\t */\n\t@xmlEventHandler()\n\tasync onPaste(evt: PasteProvider$PasteEvent, controller: PageController, forContextMenu = false): Promise<void> {\n\t\tif (forContextMenu) {\n\t\t\tthis.setContextMenuActive(true);\n\t\t}\n\t\tconst rawPastedData = evt.getParameter(\"data\"),\n\t\t\tsource = evt.getSource();\n\t\tlet table: Table;\n\t\tif (!forContextMenu) {\n\t\t\t// table toolbar\n\t\t\ttable = (source.isA(\"sap.ui.mdc.Table\") ? source : (source as Control).getParent()) as Table;\n\t\t} else {\n\t\t\t// context menu\n\t\t\tconst menu = (source.isA(\"sap.m.Menu\") ? source : (source as Control).getParent()) as Menu;\n\t\t\ttable = menu.getParent()?.getParent() as Table;\n\t\t}\n\t\tconst internalContext = table.getBindingContext(\"internal\") as InternalModelContext;\n\n\t\t// If paste is disabled or if we're not in edit mode in an ObjectPage, we can't paste anything\n\t\tif (!this.tableDefinition.control.enablePaste || (table.getRowBinding().isRelative() && !CommonUtils.getIsEditable(this))) {\n\t\t\treturn;\n\t\t}\n\n\t\t//This code is executed only in case of TreeTable\n\t\tconst action = internalContext.getProperty(\"nodeUpdatesInfo/lastAction\");\n\t\tconst srcContexts = internalContext.getProperty(\"nodeUpdatesInfo/pastableContexts\");\n\n\t\tif (this.tableDefinition.control.type === \"TreeTable\") {\n\t\t\tlet srcContext = srcContexts[0];\n\t\t\tconst newParentContext = !forContextMenu\n\t\t\t\t? (table.getSelectedContexts()[0] as Context)\n\t\t\t\t: (internalContext?.getProperty(\"contextmenu/selectedContexts\")[0] as Context);\n\t\t\t// If the targetContext has been disassociated from the table due to expand and collapse actions, we attempt to retrieve it using its path.\n\t\t\tsrcContext = table\n\t\t\t\t.getRowBinding()\n\t\t\t\t.getAllCurrentContexts()\n\t\t\t\t.find((context) => context.getPath() === srcContext?.getPath());\n\n\t\t\tif (!srcContext) {\n\t\t\t\tLog.error(`The ${action} operation is unsuccessful because the relevant context is no longer available`);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\ttry {\n\t\t\t\ttable.setBusy(true);\n\t\t\t\tawait Promise.all([\n\t\t\t\t\tsrcContext.move({ parent: newParentContext ?? null, copy: action === \"Copy\" }),\n\t\t\t\t\taction === \"Copy\"\n\t\t\t\t\t\t? this.requestSideEffectsForCopyAction(srcContext)\n\t\t\t\t\t\t: this.requestSideEffectsForChangeNextSiblingAction(srcContext)\n\t\t\t\t]);\n\t\t\t} catch (error: unknown) {\n\t\t\t\tMessageToast.show(this.getTranslatedText(\"M_TABLEDROP_FAILED\", [\"\"]));\n\t\t\t\tLog.error(`The ${action} operation is unsuccessful. ` + (error as Error).message ?? \"\");\n\t\t\t}\n\t\t\ttable.setBusy(false);\n\t\t\tinternalContext.setProperty(`nodeUpdatesInfo/pastableContexts`, []);\n\t\t\tinternalContext.setProperty(`nodeUpdatesInfo/pasteEnablement`, false);\n\t\t\tinternalContext.setProperty(`contextmenu/nodeUpdatesInfo/pasteEnablement`, false);\n\t\t\tinternalContext.setProperty(`nodeUpdatesInfo/lastAction`, undefined);\n\n\t\t\treturn;\n\t\t}\n\n\t\t//This code is executed for tables excepted TreeTable\n\t\tif (table.getEnablePaste() === true && !forContextMenu) {\n\t\t\tconst cellSelection = table.getCellSelector()?.getSelection();\n\t\t\tif (cellSelection?.columns.length > 0) {\n\t\t\t\tPasteHelper.pasteRangeData(rawPastedData ?? [], cellSelection, table);\n\t\t\t} else {\n\t\t\t\tPasteHelper.pasteData(rawPastedData ?? [], table, controller);\n\t\t\t}\n\t\t} else {\n\t\t\tconst resourceBundle = Library.getResourceBundleFor(\"sap.fe.core\")!;\n\t\t\tMessageBox.error(resourceBundle.getText(\"T_OP_CONTROLLER_SAPFE_PASTE_DISABLED_MESSAGE\"), {\n\t\t\t\ttitle: resourceBundle.getText(\"C_COMMON_SAPFE_ERROR\")\n\t\t\t});\n\t\t}\n\t}\n\n\t/**\n\t * Handles the Cut operation.\n\t * @param evt The UI5 event.\n\t * @param forContextMenu\n\t */\n\t@xmlEventHandler()\n\tonCut(evt: UI5Event<{}, UI5Element>, forContextMenu = false): void {\n\t\t// We can't fully move an xmlEventHandler to a mixin...\n\t\tif (forContextMenu) {\n\t\t\tthis.setContextMenuActive(true);\n\t\t}\n\t\tthis._onCopyCut(evt, forContextMenu, \"Cut\");\n\t}\n\n\t/**\n\t * Handles the Copy operation.\n\t * @param evt The UI5 event.\n\t * @param forContextMenu\n\t */\n\t@xmlEventHandler()\n\tonCopy(evt: UI5Event<{}, UI5Element>, forContextMenu = false): void {\n\t\t// We can't fully move an xmlEventHandler to a mixin...\n\t\tif (forContextMenu) {\n\t\t\tthis.setContextMenuActive(true);\n\t\t}\n\t\tthis._onCopyCut(evt, forContextMenu, \"Copy\");\n\t}\n\n\t// This event will allow us to intercept the export before is triggered to cover specific cases\n\t// that couldn't be addressed on the propertyInfos for each column.\n\t// e.g. Fixed Target Value for the datapoints\n\t@xmlEventHandler()\n\tonBeforeExport(exportEvent: Table$BeforeExportEvent): void {\n\t\t// We can't fully move an xmlEventHandler to a mixin...\n\t\tthis._onBeforeExport(exportEvent);\n\t}\n\n\t/**\n\t * Handles the MDC DataStateIndicator plugin to display messageStrip on a table.\n\t * @param message\n\t * @param control\n\t * @returns Whether to render the messageStrip visible\n\t */\n\tdataStateIndicatorFilter(message: Message, control: Control): boolean {\n\t\tconst mdcTable = control as MDCTable;\n\t\tconst sTableContextBindingPath = mdcTable.getBindingContext()?.getPath();\n\t\tconst sTableRowBinding = (sTableContextBindingPath ? `${sTableContextBindingPath}/` : \"\") + mdcTable.getRowBinding().getPath();\n\t\treturn sTableRowBinding === message.getTargets()[0] ? true : false;\n\t}\n\n\t/**\n\t * This event handles the DataState of the DataStateIndicator plugin from MDC on a table.\n\t * It's fired when new error messages are sent from the backend to update row highlighting.\n\t * @param evt Event object\n\t */\n\t@xmlEventHandler()\n\tonDataStateChange(evt: DataStateIndicator$DataStateChangeEvent): void {\n\t\tconst dataStateIndicator = evt.getSource();\n\t\tconst filteredMessages = evt.getParameter(\"filteredMessages\") as Message[];\n\t\tif (filteredMessages) {\n\t\t\tconst hiddenMandatoryProperties = filteredMessages\n\t\t\t\t.map((msg) => {\n\t\t\t\t\tconst technicalDetails = (msg.getTechnicalDetails() || {}) as {\n\t\t\t\t\t\ttableId?: string;\n\t\t\t\t\t\temptyRowMessage?: boolean;\n\t\t\t\t\t\tmissingColumn?: string;\n\t\t\t\t\t};\n\t\t\t\t\treturn technicalDetails.emptyRowMessage === true && technicalDetails.missingColumn;\n\t\t\t\t})\n\t\t\t\t.filter((hiddenProperty) => !!hiddenProperty);\n\t\t\tif (hiddenMandatoryProperties.length) {\n\t\t\t\tconst messageStripError = Library.getResourceBundleFor(\"sap.fe.macros\")!.getText(\n\t\t\t\t\thiddenMandatoryProperties.length === 1\n\t\t\t\t\t\t? \"M_MESSAGESTRIP_EMPTYROW_MANDATORY_HIDDEN\"\n\t\t\t\t\t\t: \"M_MESSAGESTRIP_EMPTYROW_MANDATORY_HIDDEN_PLURAL\",\n\t\t\t\t\t[hiddenMandatoryProperties.join(\", \")]\n\t\t\t\t);\n\t\t\t\tdataStateIndicator.showMessage(messageStripError, \"Error\");\n\t\t\t}\n\t\t\tconst internalModel = dataStateIndicator.getModel(\"internal\") as JSONModel;\n\t\t\tinternalModel.setProperty(\"filteredMessages\", filteredMessages, dataStateIndicator.getBindingContext(\"internal\") as Context);\n\t\t}\n\t}\n\n\tresumeBinding(bRequestIfNotInitialized: boolean): void {\n\t\tthis.setProperty(\"bindingSuspended\", false);\n\t\tif ((bRequestIfNotInitialized && !this.getDataInitialized()) || this.getProperty(\"outDatedBinding\")) {\n\t\t\tthis.setProperty(\"outDatedBinding\", false);\n\t\t\tthis.getContent()?.rebind();\n\t\t}\n\t}\n\n\trefreshNotApplicableFields(oFilterControl: Control): string[] {\n\t\tconst oTable = this.getContent();\n\t\treturn FilterUtils.getNotApplicableFilters(oFilterControl as FilterBar, oTable);\n\t}\n\n\tsuspendBinding(): void {\n\t\tthis.setProperty(\"bindingSuspended\", true);\n\t}\n\n\tinvalidateContent(): void {\n\t\tthis.setProperty(\"dataInitialized\", false);\n\t\tthis.setProperty(\"outDatedBinding\", false);\n\t}\n\n\t/**\n\t * Sets the enablement of the creation row.\n\t * @private\n\t */\n\tsetFastCreationRowEnablement(): void {\n\t\tconst table = this.content;\n\t\tconst fastCreationRow = table.getCreationRow();\n\n\t\tif (fastCreationRow && !fastCreationRow.getBindingContext()) {\n\t\t\tconst tableBinding = table.getRowBinding();\n\t\t\tconst bindingContext = tableBinding.getContext();\n\n\t\t\tif (bindingContext) {\n\t\t\t\tTableHelper.enableFastCreationRow(\n\t\t\t\t\tfastCreationRow,\n\t\t\t\t\ttableBinding.getPath(),\n\t\t\t\t\tbindingContext,\n\t\t\t\t\tbindingContext.getModel(),\n\t\t\t\t\tPromise.resolve()\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Event handler to create insightsParams and call the API to show insights card preview for table.\n\t * @returns Undefined if the card preview is rendered.\n\t */\n\t@xmlEventHandler()\n\tasync onAddCardToInsightsPressed(): Promise<void> {\n\t\t// We can't fully move an xmlEventHandler to a mixin...\n\t\treturn this._onAddCardToInsightsPressed();\n\t}\n\n\t@xmlEventHandler()\n\tonMassEditButtonPressed(ui5Event: UI5Event, forContextMenu: boolean): void {\n\t\tif (forContextMenu) {\n\t\t\tthis.setContextMenuActive(true);\n\t\t}\n\t\tconst massEditHelper = new MassEditDialogHelper({\n\t\t\ttable: this.content,\n\t\t\tonContextMenu: forContextMenu,\n\t\t\tonClose: (): void => {\n\t\t\t\tthis.setMassEditDialogHelper();\n\t\t\t}\n\t\t});\n\t\tthis.setMassEditDialogHelper(massEditHelper);\n\t\tmassEditHelper.open();\n\t}\n\n\t@xmlEventHandler()\n\tasync onSelectionChanged(ui5event: Table$SelectionChangeEvent): Promise<void> {\n\t\tawait TableRuntime.setContexts(ui5event);\n\t\tthis.fireEvent(\"selectionChange\", { ...ui5event.getParameters(), selectedContext: this.getSelectedContexts() });\n\t}\n\n\t@xmlEventHandler()\n\tasync onActionPress(\n\t\toEvent: UI5Event<{}, Control>,\n\t\tpageController: PageController,\n\t\tactionName: string,\n\t\tparameters: {\n\t\t\tmodel: ODataModel;\n\t\t\tnotApplicableContexts: Context[];\n\t\t\tlabel: string;\n\t\t\tcontexts: Context[];\n\t\t\tapplicableContexts: Context[];\n\t\t\tentitySetName: string;\n\t\t}\n\t): Promise<unknown> {\n\t\tparameters.model = oEvent.getSource().getModel() as ODataModel;\n\t\tconst labelExpression = resolveBindingString(parameters.label, \"string\");\n\t\tif (isPathInModelExpression(labelExpression) && (labelExpression.modelName === \"i18n\" || labelExpression.modelName === \"@i18n\")) {\n\t\t\t//resolveBindingString(parameters.label, \"string\")\n\t\t\tparameters.label =\n\t\t\t\t(oEvent.getSource().getModel(labelExpression.modelName) as ResourceModel).getProperty(labelExpression.path) ??\n\t\t\t\tparameters.label;\n\t\t}\n\t\tlet executeAction = true;\n\t\tif (parameters.notApplicableContexts && parameters.notApplicableContexts.length > 0) {\n\t\t\t// If we have non applicable contexts, we need to open a dialog to ask the user if he wants to continue\n\t\t\tconst convertedMetadata = convertTypes(parameters.model.getMetaModel());\n\t\t\tconst entityType = convertedMetadata.resolvePath<EntityType>(this.entityTypeFullyQualifiedName).target!;\n\t\t\tconst myUnapplicableContextDialog = new NotApplicableContextDialog({\n\t\t\t\tentityType: entityType,\n\t\t\t\tnotApplicableContexts: parameters.notApplicableContexts,\n\t\t\t\ttitle: parameters.label,\n\t\t\t\tresourceModel: getResourceModel(this),\n\t\t\t\tentitySet: parameters.entitySetName,\n\t\t\t\tactionName: actionName,\n\t\t\t\tapplicableContexts: parameters.applicableContexts\n\t\t\t});\n\t\t\tparameters.contexts = parameters.applicableContexts;\n\t\t\texecuteAction = await myUnapplicableContextDialog.open(this);\n\t\t}\n\t\tif (executeAction) {\n\t\t\t// Direct execution of the action\n\t\t\ttry {\n\t\t\t\treturn await pageController.editFlow.invokeAction(actionName, parameters);\n\t\t\t} catch (e) {\n\t\t\t\tLog.info(e as string);\n\t\t\t}\n\t\t}\n\t}\n\n\t@xmlEventHandler()\n\tonContextMenuPress(oEvent: Table$BeforeOpenContextMenuEvent): void {\n\t\t// We can't fully move an xmlEventHandler to a mixin...\n\t\tthis._onContextMenuPress(oEvent);\n\t}\n\n\t/**\n\t * Expose the internal table definition for external usage in the delegate.\n\t * @returns The tableDefinition\n\t */\n\tgetTableDefinition(): TableVisualization {\n\t\treturn this.tableDefinition;\n\t}\n\n\t/**\n\t * Sets the mass edit related to the table.\n\t * @param massEditDialogHelper\n\t */\n\tsetMassEditDialogHelper(massEditDialogHelper?: MassEditDialogHelper): void {\n\t\tthis.massEditDialogHelper = massEditDialogHelper;\n\t}\n\n\t/**\n\t * Expose the mass edit related to the table.\n\t * @returns The mass edit related to the table, if any\n\t */\n\tgetMassEditDialogHelper(): MassEditDialogHelper | undefined {\n\t\treturn this.massEditDialogHelper;\n\t}\n\n\t/**\n\t * connect the filter to the tableAPI if required\n\t * @private\n\t * @alias sap.fe.macros.TableAPI\n\t */\n\n\tupdateFilterBar(): void {\n\t\tconst table = this.getContent();\n\t\tconst filterBarRefId = this.getFilterBar();\n\t\tif (table && filterBarRefId && table.getFilter?.() !== filterBarRefId) {\n\t\t\tthis._setFilterBar(filterBarRefId);\n\t\t}\n\t}\n\n\t/**\n\t * Removes the table from the listeners of the filterBar.\n\t */\n\tdetachFilterBar(): void {\n\t\tconst table = this.content;\n\t\ttable?.setFilter(\"\");\n\t}\n\n\t/**\n\t * Gets the filter control.\n\t * @param filterBarRefId Id of the filter bar\n\t * @returns The filter control\n\t * @private\n\t * @alias sap.fe.macros.TableAPI\n\t */\n\tgetFilterBarControl(filterBarRefId: string): UI5Element | undefined {\n\t\t// 'filterBar' property of macros:Table(passed as customData) might be\n\t\t// 1. A localId wrt View(FPM explorer example).\n\t\t// 2. Absolute Id(this was not supported in older versions).\n\t\t// 3. A localId wrt FragmentId(when an XMLComposite or Fragment is independently processed) instead of ViewId.\n\t\t//    'filterBar' was supported earlier as an 'association' to the 'mdc:Table' control inside 'macros:Table' in prior versions.\n\t\t//    In newer versions 'filterBar' is used like an association to 'macros:TableAPI'.\n\t\t//    This means that the Id is relative to 'macros:TableAPI'.\n\t\t//    This scenario happens in case of FilterBar and Table in a custom sections in OP of FEV4.\n\n\t\tconst tableAPIId = this?.getId();\n\t\tconst tableAPILocalId = this.data(\"tableAPILocalId\");\n\t\tconst potentialfilterBarId =\n\t\t\ttableAPILocalId && filterBarRefId && tableAPIId && tableAPIId.replace(new RegExp(tableAPILocalId + \"$\"), filterBarRefId); // 3\n\t\treturn (\n\t\t\tthis.getPageController()?.byId(filterBarRefId) ||\n\t\t\tUI5Element.getElementById(filterBarRefId) ||\n\t\t\tUI5Element.getElementById(potentialfilterBarId)\n\t\t);\n\t}\n\n\t/**\n\t * Sets the filter depending on the type of filterBar.\n\t * @param filterBarRefId Id of the filter bar\n\t * @private\n\t * @alias sap.fe.macros.TableAPI\n\t */\n\t_setFilterBar(filterBarRefId: string): void {\n\t\tconst table = this.getContent();\n\t\tconst filterBar = this.getFilterBarControl(filterBarRefId);\n\n\t\tif (filterBar) {\n\t\t\tif (filterBar.isA<FilterBarAPI>(\"sap.fe.macros.filterBar.FilterBarAPI\")) {\n\t\t\t\ttable.setFilter(`${filterBar.getId()}-content`);\n\t\t\t} else if (\n\t\t\t\tfilterBar.isA<FilterBarBBV4>(\"sap.fe.macros.filterBar.FilterBar\") &&\n\t\t\t\tfilterBar?.content?.isA(\"sap.fe.macros.filterBar.FilterBarAPI\")\n\t\t\t) {\n\t\t\t\ttable.setFilter(`${filterBar.content.getId()}-content`);\n\t\t\t} else if (\n\t\t\t\tfilterBar.isA<FilterBar>(\"sap.ui.mdc.FilterBar\") ||\n\t\t\t\tfilterBar.isA<typeof BasicSearch>(\"sap.fe.macros.table.BasicSearch\")\n\t\t\t) {\n\t\t\t\ttable.setFilter(filterBar.getId());\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Handles the CreateActivate event from the ODataListBinding.\n\t * @param activateEvent The event sent by the binding\n\t */\n\t@xmlEventHandler()\n\tasync handleCreateActivate(activateEvent: UI5Event<{ context: Context }, ODataListBinding>): Promise<void> {\n\t\t// We can't fully move an xmlEventHandler to a mixin...\n\t\tawait this._handleCreateActivate(activateEvent);\n\t}\n\n\t/**\n\t * The dragged element enters a table row.\n\t * @param ui5Event UI5 event coming from the MDC drag and drop config\n\t */\n\t@xmlEventHandler()\n\tonDragEnterDocument(\n\t\tui5Event: UI5Event<{ bindingContext: Context; dragSource: Context; dropPosition: \"Before\" | \"After\" | \"On\" }, DragDropInfo>\n\t): void {\n\t\t// We can't fully move an xmlEventHandler to a mixin...\n\t\tthis._onDragEnterDocument(ui5Event);\n\t}\n\n\t/**\n\t * Starts the drag of the document.\n\t * @param ui5Event UI5 event coming from the MDC drag and drop config\n\t */\n\t@xmlEventHandler()\n\tonDragStartDocument(ui5Event: UI5Event<{ bindingContext: Context }, Control>): void {\n\t\t// We can't fully move an xmlEventHandler to a mixin...\n\t\tthis._onDragStartDocument(ui5Event);\n\t}\n\n\t/**\n\t * Drops the document.\n\t * @param ui5Event UI5 event coming from the MDC drag and drop config\n\t * @returns The Promise\n\t */\n\t@xmlEventHandler()\n\tasync onDropDocument(\n\t\tui5Event: UI5Event<{\n\t\t\tbindingContext: Context;\n\t\t\tdragSource: Context;\n\t\t\tdropPosition: string;\n\t\t}>\n\t): Promise<void> {\n\t\t// We can't fully move an xmlEventHandler to a mixin...\n\t\tawait this._onDropDocument(ui5Event);\n\t}\n\n\t@xmlEventHandler()\n\tasync onCollapseExpandNode(ui5Event: UI5Event, expand: boolean): Promise<void> {\n\t\t// We can't fully move an xmlEventHandler to a mixin...\n\t\tif (ui5Event.getSource().getMetadata().isA(\"sap.m.MenuItem\")) {\n\t\t\tthis.setContextMenuActive(true);\n\t\t}\n\t\tawait this._onCollapseExpandNode(ui5Event, expand);\n\t}\n\n\t/**\n\t * Internal method to move a row up or down in a Tree table.\n\t * @param ui5Event\n\t * @param moveUp True for move up, false for move down\n\t * @param forContextMenu\n\t */\n\t@xmlEventHandler()\n\tasync onMoveUpDown(ui5Event: UI5Event, moveUp: boolean, forContextMenu = false): Promise<void> {\n\t\t// We can't fully move an xmlEventHandler to a mixin...\n\t\tif (forContextMenu) {\n\t\t\tthis.setContextMenuActive(true);\n\t\t}\n\t\tawait this._onMoveUpDown(ui5Event, moveUp, forContextMenu);\n\t}\n\n\t/**\n\t * Get the selection variant from the table. This function considers only the selection variant applied at the control level.\n\t * @returns A promise which resolves with {@link sap.fe.navigation.SelectionVariant}\n\t * @public\n\t */\n\tasync getSelectionVariant(): Promise<SelectionVariant> {\n\t\treturn StateHelper.getSelectionVariant(this.getContent());\n\t}\n\n\t/**\n\t * Sets {@link sap.fe.navigation.SelectionVariant} to the table. Note: setSelectionVariant will clear existing filters and then apply the SelectionVariant values.\n\t * @param selectionVariant The {@link sap.fe.navigation.SelectionVariant} to apply to the table\n\t * @param prefillDescriptions Optional. If true, we will use the associated text property values (if they're available in the SelectionVariant) to display the filter value descriptions, instead of loading them from the backend\n\t * @returns A promise for asynchronous handling\n\t * @public\n\t */\n\tasync setSelectionVariant(selectionVariant: SelectionVariant, prefillDescriptions = false): Promise<unknown> {\n\t\treturn StateHelper.setSelectionVariantToMdcControl(this.getContent(), selectionVariant, prefillDescriptions);\n\t}\n\n\tprivate async _createContentV2Mode(): Promise<void> {\n\t\tconst owner = this._getOwner();\n\t\tconst preprocessorContext = owner?.preprocessorContext;\n\t\tif (owner && preprocessorContext) {\n\t\t\tconst metaModel = owner.getAppComponent().getMetaModel();\n\t\t\tconst metaPath = metaModel.createBindingContext(this.metaPath)!;\n\t\t\tconst contextPath = metaModel.createBindingContext(this.contextPath)!;\n\n\t\t\tthis.tableDefinition = deepClone(this.originalTableDefinition);\n\t\t\tthis.updateColumnsVisibility(this.ignoredFields, this.tableDefinition);\n\t\t\tthis.propertyInfos = []; // As we have a new table definition, we clean the cached propertyInfos to recreate them\n\n\t\t\tconst convertedMetadata = convertTypes(metaModel);\n\t\t\tconst collectionEntity = convertedMetadata.resolvePath(this.tableDefinition.annotation.collection).target as\n\t\t\t\t| EntitySet\n\t\t\t\t| NavigationProperty;\n\t\t\tthis.contextObjectPath = getInvolvedDataModelObjects<LineItem | PresentationVariant | SelectionPresentationVariant>(\n\t\t\t\tmetaPath,\n\t\t\t\tcontextPath\n\t\t\t);\n\t\t\tconst handlerProvider = new TableEventHandlerProvider(this, { collectionEntity, metaModel });\n\n\t\t\tconst fragment = await XMLPreprocessor.process(\n\t\t\t\tparseXMLString(\n\t\t\t\t\txml`<root\n\t\t\txmlns=\"sap.m\"\n\t\t\txmlns:mdc=\"sap.ui.mdc\"\n\t\t\txmlns:plugins=\"sap.m.plugins\"\n\t\t\txmlns:mdcTable=\"sap.ui.mdc.table\"\n\t\t\txmlns:macroTable=\"sap.fe.macros.table\"\n\t\t\txmlns:mdcat=\"sap.ui.mdc.actiontoolbar\"\n\t\t\txmlns:core=\"sap.ui.core\"\n\t\t\txmlns:control=\"sap.fe.core.controls\"\n\t\t\txmlns:dt=\"sap.ui.dt\"\n\t\t\txmlns:fl=\"sap.ui.fl\"\n\t\t\txmlns:variant=\"sap.ui.fl.variants\"\n\t\t\txmlns:p13n=\"sap.ui.mdc.p13n\"\n\t\t\txmlns:internalMacro=\"sap.fe.macros.internal\">${jsx.renderAsXML(() => {\n\t\t\t\treturn MdcTableTemplate.getMDCTableTemplate(this, {\n\t\t\t\t\tconvertedMetadata: preprocessorContext.getConvertedMetadata(),\n\t\t\t\t\tmetaModel,\n\t\t\t\t\thandlerProvider,\n\t\t\t\t\tappComponent: owner.getAppComponent(),\n\t\t\t\t\tmetaPath\n\t\t\t\t});\n\t\t\t})}</root>`,\n\t\t\t\t\ttrue\n\t\t\t\t)[0],\n\t\t\t\t{ models: {} },\n\t\t\t\tpreprocessorContext\n\t\t\t);\n\t\t\tif (fragment.firstElementChild) {\n\t\t\t\t// Remove the old MDC table from the list of FilterBar listeners\n\t\t\t\tthis.detachFilterBar();\n\n\t\t\t\tthis.content?.destroy();\n\t\t\t\tconst content = (await Fragment.load({\n\t\t\t\t\tdefinition: fragment.firstElementChild,\n\t\t\t\t\tcontroller: owner.getRootController(),\n\t\t\t\t\tcontainingView: owner.getRootControl()\n\t\t\t\t})) as Table;\n\t\t\t\tthis.content = content;\n\n\t\t\t\tthis.updateFilterBar();\n\t\t\t}\n\t\t}\n\t}\n\n\tsetProperty(propertyKey: string, propertyValue: unknown, bSuppressInvalidate?: boolean): this {\n\t\tif (!this._applyingSettings && propertyValue !== undefined && [\"ignoredFields\", \"metaPath\"].includes(propertyKey)) {\n\t\t\tsuper.setProperty(propertyKey, propertyValue, true);\n\t\t\tthis._createContentV2Mode();\n\t\t} else {\n\t\t\tsuper.setProperty(propertyKey, propertyValue, bSuppressInvalidate);\n\t\t}\n\t\treturn this;\n\t}\n\n\t/**\n\t * Retrieves the data model and converted target object based on the provided property name.\n\t * @param propertyName The name of the property.\n\t * @returns Returns data model path and converted target object.\n\t */\n\n\tgetDataModelAndConvertedTargetObject(propertyName: string | undefined): DataModelConversion | undefined {\n\t\tconst table = this.getContent();\n\t\tconst metaModel = table.getModel()?.getMetaModel();\n\t\tif (!metaModel) {\n\t\t\treturn;\n\t\t}\n\t\tconst entityPath = table.data(\"metaPath\");\n\t\tconst targetMetaPath = this.getEnhancedFetchedPropertyInfos().find((propertyInfo) => propertyInfo.name === propertyName)\n\t\t\t?.annotationPath;\n\t\tconst targetObject = metaModel.getContext(targetMetaPath!);\n\t\tconst entitySet = metaModel.getContext(entityPath);\n\t\tconst convertedtargetObject = MetaModelConverter.convertMetaModelContext(targetObject) as\n\t\t\t| DataFieldAbstractTypes\n\t\t\t| DataPointTypeTypes;\n\t\tlet dataModelPath = MetaModelConverter.getInvolvedDataModelObjects<DataFieldAbstractTypes | DataPointTypeTypes | Property>(\n\t\t\ttargetObject,\n\t\t\tentitySet\n\t\t);\n\t\tdataModelPath =\n\t\t\tFieldTemplating.getDataModelObjectPathForValue(\n\t\t\t\tdataModelPath as DataModelObjectPath<DataFieldAbstractTypes | DataPointTypeTypes>\n\t\t\t) || dataModelPath;\n\t\treturn { dataModelPath: dataModelPath, convertedtargetObject: convertedtargetObject };\n\t}\n\n\t/**\n\t * Get the binding context for the given ModeAsExpression.\n\t * @param ModeAsExpression\n\t * @param rowContext\n\t * @returns\n\t */\n\n\tcreateAnyControl(ModeAsExpression: CompiledBindingToolkitExpression, rowContext: Context | undefined): typeof Any {\n\t\tconst table = this.getContent();\n\t\tconst anyObject = new Any({ any: ModeAsExpression });\n\t\tanyObject.setModel(rowContext?.getModel());\n\t\tanyObject.setModel(table.getModel(\"ui\"), \"ui\");\n\t\treturn anyObject;\n\t}\n\n\t/**\n\t * Get the edit mode of a Property.\n\t * @param propertyName The name of the property\n\t * @param rowContext The context of the row containing the property\n\t * @returns The edit mode of the field\n\t */\n\n\tgetPropertyEditMode(propertyName: string, rowContext: Context): string | undefined {\n\t\tlet anyObject: typeof Any | undefined;\n\t\tif (!this.propertyEditModeCache[propertyName]) {\n\t\t\tconst dataModelPath = this.getDataModelAndConvertedTargetObject(propertyName)?.dataModelPath;\n\t\t\tconst convertedtargetObject = this.getDataModelAndConvertedTargetObject(propertyName)?.convertedtargetObject;\n\t\t\tif (dataModelPath && convertedtargetObject) {\n\t\t\t\tconst propertyForFieldControl = (dataModelPath?.targetObject as unknown as DataFieldTypes)?.Value\n\t\t\t\t\t? (dataModelPath?.targetObject as unknown as DataFieldTypes).Value\n\t\t\t\t\t: dataModelPath?.targetObject;\n\t\t\t\tconst editModeAsExpression = compileExpression(\n\t\t\t\t\tUIFormatters.getEditMode(propertyForFieldControl, dataModelPath, false, true, convertedtargetObject)\n\t\t\t\t);\n\t\t\t\tanyObject = this.createAnyControl(editModeAsExpression, rowContext);\n\t\t\t\tthis.propertyEditModeCache[propertyName] = anyObject;\n\t\t\t\tanyObject.setBindingContext(null); // we need to set the binding context to null otherwise the following addDependent will set it to the context of the table\n\t\t\t\tthis.addDependent(anyObject); // to destroy it when the tableAPI is destroyed\n\t\t\t}\n\t\t} else {\n\t\t\tanyObject = this.propertyEditModeCache[propertyName];\n\t\t}\n\t\tanyObject?.setBindingContext(rowContext);\n\t\tconst editMode = anyObject?.getAny() as string | undefined;\n\t\tanyObject?.setBindingContext(null);\n\t\treturn editMode;\n\t}\n\n\t/**\n\t * Show the columns with the given column keys by setting their availability to Default.\n\t * @param columnKeys The keys for the columns to show\n\t * @returns Promise<void>\n\t * @public\n\t * @ui5-experimental-since 1.124.0\n\t * @since 1.124.0\n\t */\n\tasync showColumns(columnKeys: string[]): Promise<void> {\n\t\tfor (const columnKey of columnKeys) {\n\t\t\tthis.modifyDynamicVisibilityForColumn(columnKey, true);\n\t\t}\n\t\treturn this._createContentV2Mode();\n\t}\n\n\t/**\n\t * Hide the columns with the given column keys by setting their availability to Default.\n\t * @param columnKeys The keys for the columns to hide\n\t * @returns Promise<void>\n\t * @public\n\t * @ui5-experimental-since 1.124.0\n\t * @since 1.124.0\n\t */\n\tasync hideColumns(columnKeys: string[]): Promise<void> {\n\t\tfor (const columnKey of columnKeys) {\n\t\t\tthis.modifyDynamicVisibilityForColumn(columnKey, false);\n\t\t}\n\t\treturn this._createContentV2Mode();\n\t}\n\n\t/**\n\t * Sets the fields that should be ignored when generating the table.\n\t * @param ignoredFields The fields to ignore\n\t * @returns Reference to this in order to allow method chaining\n\t * @ui5-experimental-since 1.124.0\n\t * @since 1.124.0\n\t * @public\n\t */\n\tsetIgnoredFields(ignoredFields: string): this {\n\t\treturn this.setProperty(\"ignoredFields\", ignoredFields);\n\t}\n\n\t/**\n\t * Get the fields that should be ignored when generating the table.\n\t * @returns The value of the ignoredFields property\n\t * @ui5-experimental-since 1.124.0\n\t * @since 1.124.0\n\t * @public\n\t */\n\tgetIgnoredFields(): string {\n\t\treturn this.getProperty(\"ignoredFields\") ?? this.tableDefinition.control.ignoredFields;\n\t}\n\n\t/**\n\t * Retrieves the control state based on the given control state key.\n\t * @param controlState The current state of the control.\n\t * @returns - The full state of the control along with the initial state if available.\n\t */\n\tgetControlState(controlState: ControlState): ControlState {\n\t\tconst initialControlState: Record<string, unknown> = this.initialControlState;\n\t\tif (controlState) {\n\t\t\treturn {\n\t\t\t\tfullState: controlState as object,\n\t\t\t\tinitialState: initialControlState as object\n\t\t\t};\n\t\t}\n\t\treturn controlState;\n\t}\n\n\t/**\n\t * Returns the key to be used for given control.\n\t * @param oControl The control to get state key for\n\t * @returns The key to be used for storing the controls state\n\t */\n\tgetStateKey(oControl: ManagedObject): string {\n\t\treturn CommonUtils.getTargetView(this.content)?.getLocalId(oControl.getId()) || oControl.getId();\n\t}\n\n\t/**\n\t * Updates the table definition with ignoredFields and dynamicVisibilityForColumns.\n\t * @param ignoredFields\n\t * @param dynamicVisibilityForColumns\n\t * @param tableDefinition\n\t */\n\tpublic static updateColumnsVisibility(\n\t\tignoredFields: string | undefined,\n\t\tdynamicVisibilityForColumns: DynamicVisibilityForColumn[],\n\t\ttableDefinition: TableVisualization\n\t): void {\n\t\tColumnManagement.updateColumnsVisibilityStatic(ignoredFields, dynamicVisibilityForColumns, tableDefinition);\n\t}\n\n\t/**\n\t * Returns the MDC table.\n\t * This method is called by the forwarding aggregation to get the target of the aggregation.\n\t * @private\n\t * @returns The mdc table\n\t */\n\tgetMDCTable(): MDCTable {\n\t\treturn this.content;\n\t}\n\n\t/**\n\t * Called by the MDC state util when the state for this control's child has changed.\n\t */\n\thandleStateChange(): void {\n\t\tthis.getPageController()?.getExtensionAPI().updateAppState();\n\t}\n\n\t/**\n\t * Calls the asyncCall function only if the lockName is not already locked.\n\t * @param asyncCall\n\t * @param lockName\n\t * @returns Promise<void>\n\t */\n\tasync avoidParallelCalls(asyncCall: Function, lockName: string): Promise<void> {\n\t\tif (this.lock[lockName]) {\n\t\t\treturn;\n\t\t}\n\t\tthis.lock[lockName] = true;\n\t\ttry {\n\t\t\tawait asyncCall();\n\t\t} catch {\n\t\t\tthis.lock[lockName] = false;\n\t\t}\n\t\tthis.lock[lockName] = false;\n\t}\n\n\tdestroy(suppressInvalidate?: boolean): void {\n\t\t// We release hold on messageHandler by the control if there is one.\n\t\tthis.getPageController(false)?.messageHandler?.releaseHoldByControl(this);\n\t\tsuper.destroy(suppressInvalidate);\n\t}\n\n\tprivate fullScreenDialog?: Dialog; // The dialog used to display the table in full screen mode\n\n\tsetFullScreenDialog(dialog: Dialog | undefined): void {\n\t\tthis.fullScreenDialog = dialog;\n\t}\n\n\tprivate enhancedPropertyInfos: EnhancedFEPropertyInfo[] = [];\n\n\tprivate propertyInfos: PropertyInfo[] = [];\n\n\t/**\n\t * Sets the fetched propertyInfos from the table delegate containing internal properties.\n\t * @param enhancedPropertyInfos\n\t * @private\n\t */\n\tsetEnhancedFetchedPropertyInfos(enhancedPropertyInfos: EnhancedFEPropertyInfo[]): void {\n\t\tthis.enhancedPropertyInfos = enhancedPropertyInfos;\n\t}\n\n\t/**\n\t * Gets the fetched propertyInfos from the table delegate containing internal properties.\n\t * @returns The PropertyInfo enhanced with the PropertyInfos from the table delegate\n\t * @private\n\t */\n\tgetEnhancedFetchedPropertyInfos(): EnhancedFEPropertyInfo[] {\n\t\treturn this.enhancedPropertyInfos;\n\t}\n\n\t/**\n\t * Gets the MDC expected propertyInfos from the table delegate containing internal additional properties.\n\t * @returns The PropertyInfo\n\t * @private\n\t */\n\tgetPropertyInfos(): PropertyInfo[] {\n\t\tconst propertyInfos: PropertyInfo[] = [];\n\t\tfor (const enhancedPropertyInfo of this.enhancedPropertyInfos as PropertyInfo[]) {\n\t\t\tlet propertyInfo: PropertyInfo = {\n\t\t\t\tkey: enhancedPropertyInfo.key,\n\t\t\t\tlabel: enhancedPropertyInfo.label,\n\t\t\t\tvisible: enhancedPropertyInfo.visible,\n\t\t\t\texportSettings: enhancedPropertyInfo.exportSettings,\n\t\t\t\tclipboardSettings: enhancedPropertyInfo.clipboardSettings,\n\t\t\t\tvisualSettings: enhancedPropertyInfo.visualSettings,\n\t\t\t\ttooltip: enhancedPropertyInfo.tooltip,\n\t\t\t\tisKey: enhancedPropertyInfo.isKey\n\t\t\t};\n\n\t\t\tif (enhancedPropertyInfo.propertyInfos) {\n\t\t\t\tpropertyInfo = {\n\t\t\t\t\t...propertyInfo,\n\t\t\t\t\tpropertyInfos: enhancedPropertyInfo.propertyInfos\n\t\t\t\t};\n\t\t\t} else {\n\t\t\t\tlet extension: PropertyInfo[\"extension\"];\n\t\t\t\tif (enhancedPropertyInfo.extension) {\n\t\t\t\t\textension = {\n\t\t\t\t\t\ttechnicallyGroupable: enhancedPropertyInfo.extension.technicallyGroupable,\n\t\t\t\t\t\ttechnicallyAggregatable: enhancedPropertyInfo.extension.technicallyAggregatable,\n\t\t\t\t\t\tcustomAggregate: enhancedPropertyInfo.extension.customAggregate,\n\t\t\t\t\t\tadditionalProperties: enhancedPropertyInfo.extension.additionalProperties\n\t\t\t\t\t};\n\t\t\t\t\textension = Object.fromEntries(Object.entries(extension).filter(([_, value]) => value !== undefined));\n\t\t\t\t}\n\t\t\t\tpropertyInfo = {\n\t\t\t\t\t...propertyInfo,\n\t\t\t\t\tpath: enhancedPropertyInfo.path,\n\t\t\t\t\tmaxConditions: enhancedPropertyInfo.maxConditions,\n\t\t\t\t\tformatOptions: enhancedPropertyInfo.formatOptions,\n\t\t\t\t\tconstraints: enhancedPropertyInfo.constraints,\n\t\t\t\t\tgroup: enhancedPropertyInfo.group,\n\t\t\t\t\tgroupLabel: enhancedPropertyInfo.groupLabel,\n\t\t\t\t\tcaseSensitive: enhancedPropertyInfo.caseSensitive,\n\t\t\t\t\tfilterable: enhancedPropertyInfo.filterable,\n\t\t\t\t\tsortable: enhancedPropertyInfo.sortable,\n\t\t\t\t\tgroupable: enhancedPropertyInfo.groupable,\n\t\t\t\t\tdataType: enhancedPropertyInfo.dataType,\n\t\t\t\t\taggregatable: enhancedPropertyInfo.aggregatable,\n\t\t\t\t\tunit: enhancedPropertyInfo.unit,\n\t\t\t\t\ttext: enhancedPropertyInfo.text,\n\t\t\t\t\textension\n\t\t\t\t};\n\t\t\t}\n\t\t\tpropertyInfos.push(\n\t\t\t\tObject.fromEntries(Object.entries(propertyInfo).filter(([_, value]) => value !== undefined)) as PropertyInfo\n\t\t\t);\n\t\t}\n\t\treturn propertyInfos;\n\t}\n\n\tsetCachedPropertyInfos(propertyInfos: PropertyInfo[]): void {\n\t\tthis.propertyInfos = propertyInfos;\n\t}\n\n\tgetCachedPropertyInfos(): PropertyInfo[] {\n\t\treturn this.propertyInfos;\n\t}\n\n\t/**\n\t * Gets the path for the table collection.\n\t * @returns The path\n\t */\n\tgetRowCollectionPath(): string {\n\t\tconst controller = this.getPageController()!;\n\t\tconst metaModel = controller.getModel().getMetaModel();\n\t\tconst collectionContext = metaModel.createBindingContext(this.tableDefinition.annotation.collection);\n\t\tconst contextPath = metaModel.createBindingContext(this.contextPath)!;\n\t\tconst dataModelPath = getInvolvedDataModelObjects(collectionContext!, contextPath);\n\t\treturn getContextRelativeTargetObjectPath(dataModelPath) || getTargetObjectPath(dataModelPath);\n\t}\n\n\t/**\n\t * Gets the binding info used when creating the list binding for the MDC table.\n\t * @returns The table binding info\n\t */\n\tgetTableTemplateBindingInfo(): CollectionBindingInfo {\n\t\tconst controller = this.getPageController()!;\n\t\tconst path = this.getRowCollectionPath();\n\t\tconst rowBindingInfo: CollectionBindingInfo = {\n\t\t\tsuspended: false,\n\t\t\tpath,\n\t\t\tparameters: {\n\t\t\t\t$count: true\n\t\t\t}\n\t\t};\n\n\t\tif (this.tableDefinition.enable$select) {\n\t\t\t// Don't add $select parameter in case of an analytical query, this isn't supported by the model\n\t\t\tconst select = Object.keys(this.tableDefinition.requestAtLeast).join(\",\");\n\t\t\tif (select) {\n\t\t\t\trowBindingInfo.parameters!.$select = select;\n\t\t\t}\n\t\t}\n\n\t\tif (this.tableDefinition.enable$$getKeepAliveContext) {\n\t\t\t// we later ensure in the delegate only one list binding for a given targetCollectionPath has the flag $$getKeepAliveContext\n\t\t\trowBindingInfo.parameters!.$$getKeepAliveContext = true;\n\t\t}\n\n\t\t// Clears the selection after a search/filter\n\t\trowBindingInfo.parameters!.$$clearSelectionOnFilter = true;\n\n\t\trowBindingInfo.parameters!.$$groupId = \"$auto.Workers\";\n\t\trowBindingInfo.parameters!.$$updateGroupId = \"$auto\";\n\t\trowBindingInfo.parameters!.$$ownRequest = true;\n\t\trowBindingInfo.parameters!.$$patchWithoutSideEffects = true;\n\n\t\t// Event handlers\n\t\tconst editFlowExtension = controller.editFlow;\n\t\tconst eventHandlers: Record<string, Function> = {};\n\t\teventHandlers.patchCompleted = this.onInternalPatchCompleted.bind(this);\n\t\teventHandlers.dataReceived = this.onInternalDataReceived.bind(this);\n\t\teventHandlers.dataRequested = this.onInternalDataRequested.bind(this);\n\t\teventHandlers.change = this.onListBindingChange.bind(this);\n\t\teventHandlers.createActivate = this.handleCreateActivate.bind(this);\n\t\teventHandlers.createSent = editFlowExtension.handleCreateSent.bind(editFlowExtension);\n\t\teventHandlers.patchSent = this.onInternalPatchSent.bind(this);\n\n\t\trowBindingInfo.events = eventHandlers;\n\n\t\treturn rowBindingInfo;\n\t}\n\n\tprotected static addSetting(target: Record<string, unknown>, key: string, value: unknown): void {\n\t\tif (value !== undefined) {\n\t\t\ttarget[key] = value;\n\t\t}\n\t}\n\n\t/**\n\t * Create manifest-friendly settings from tableAPI properties.\n\t * @returns Settings\n\t */\n\tgetSettingsForManifest(): Record<string, unknown> {\n\t\tconst tableSettings: Record<string, unknown> = {};\n\t\tTableAPI.addSetting(tableSettings, \"enableExport\", this.enableExport);\n\t\tTableAPI.addSetting(tableSettings, \"exportRequestSize\", this.exportRequestSize);\n\t\tTableAPI.addSetting(tableSettings, \"exportFileName\", this.exportFileName);\n\t\tTableAPI.addSetting(tableSettings, \"exportSheetName\", this.exportSheetName);\n\t\tTableAPI.addSetting(tableSettings, \"frozenColumnCount\", this.frozenColumnCount);\n\t\tTableAPI.addSetting(tableSettings, \"disableColumnFreeze\", this.disableColumnFreeze);\n\t\tTableAPI.addSetting(tableSettings, \"widthIncludingColumnHeader\", this.widthIncludingColumnHeader);\n\t\tTableAPI.addSetting(tableSettings, \"rowCountMode\", this.rowCountMode);\n\t\tTableAPI.addSetting(tableSettings, \"rowCount\", this.rowCount);\n\t\tTableAPI.addSetting(tableSettings, \"enableFullScreen\", this.enableFullScreen);\n\t\tTableAPI.addSetting(tableSettings, \"enablePaste\", this.enablePaste);\n\t\tTableAPI.addSetting(tableSettings, \"disableCopyToClipboard\", this.disableCopyToClipboard);\n\t\tTableAPI.addSetting(tableSettings, \"scrollThreshold\", this.scrollThreshold);\n\t\tTableAPI.addSetting(tableSettings, \"threshold\", this.threshold);\n\t\tTableAPI.addSetting(tableSettings, \"popinLayout\", this.popinLayout);\n\t\tTableAPI.addSetting(tableSettings, \"selectionMode\", this.selectionMode);\n\t\tTableAPI.addSetting(tableSettings, \"type\", this.type);\n\t\tTableAPI.addSetting(tableSettings, \"enablePastingOfComputedProperties\", this.enablePastingOfComputedProperties);\n\t\tTableAPI.addSetting(tableSettings, \"selectAll\", this.enableSelectAll);\n\t\tTableAPI.addSetting(tableSettings, \"ignoredFields\", this.ignoredFields);\n\t\tTableAPI.addSetting(tableSettings, \"selectionLimit\", this.selectionLimit);\n\t\tTableAPI.addSetting(tableSettings, \"condensedTableLayout\", this.condensedTableLayout);\n\n\t\tif (this.creationMode) {\n\t\t\tconst creationMode: Record<string, unknown> = {};\n\t\t\tTableAPI.addSetting(creationMode, \"name\", this.creationMode.name);\n\t\t\tTableAPI.addSetting(creationMode, \"creationFields\", this.creationMode.creationFields);\n\t\t\tTableAPI.addSetting(creationMode, \"createAtEnd\", this.creationMode.createAtEnd);\n\t\t\tTableAPI.addSetting(creationMode, \"inlineCreationRowsHiddenInEditMode\", this.creationMode.inlineCreationRowsHiddenInEditMode);\n\t\t\tTableAPI.addSetting(creationMode, \"outbound\", this.creationMode.outbound);\n\t\t\tif (Object.entries(creationMode).length > 0) {\n\t\t\t\ttableSettings[\"creationMode\"] = creationMode;\n\t\t\t}\n\t\t}\n\n\t\tif (this.massEdit) {\n\t\t\tconst enableMassEdit: Record<string, unknown> = {};\n\t\t\tTableAPI.addSetting(enableMassEdit, \"customFragment\", this.massEdit.customContent);\n\t\t\tTableAPI.addSetting(enableMassEdit, \"fromInline\", true);\n\t\t\tTableAPI.addSetting(enableMassEdit, \"visibleFields\", this.massEdit.visibleFields?.join(\",\"));\n\t\t\tTableAPI.addSetting(enableMassEdit, \"ignoredFields\", this.massEdit.ignoredFields?.join(\",\"));\n\t\t\tTableAPI.addSetting(enableMassEdit, \"operationGroupingMode\", this.massEdit.operationGroupingMode);\n\t\t\ttableSettings[\"enableMassEdit\"] = enableMassEdit;\n\t\t}\n\n\t\tif (this.analyticalConfiguration?.aggregationOnLeafLevel === true) {\n\t\t\tconst analyticalConfiguration: Record<string, unknown> = {};\n\t\t\tTableAPI.addSetting(analyticalConfiguration, \"aggregationOnLeafLevel\", this.analyticalConfiguration.aggregationOnLeafLevel);\n\t\t\tif (Object.entries(analyticalConfiguration).length > 0) {\n\t\t\t\ttableSettings[\"analyticalConfiguration\"] = analyticalConfiguration;\n\t\t\t}\n\t\t}\n\n\t\tif (this.quickVariantSelection?.paths?.length) {\n\t\t\tTableAPI.addSetting(tableSettings, \"quickVariantSelection\", {\n\t\t\t\tpaths: this.quickVariantSelection.paths.map((path) => {\n\t\t\t\t\treturn { annotationPath: path };\n\t\t\t\t}),\n\t\t\t\tshowCounts: this.quickVariantSelection.showCounts\n\t\t\t});\n\t\t}\n\n\t\treturn tableSettings;\n\t}\n\n\t/**\n\t * Find an action from its key.\n\t * @param key\n\t * @returns The action if it can be found (or undefined)\n\t */\n\tfindSlotActionFromKey(key: string): Action | undefined {\n\t\tlet result: Action | undefined;\n\n\t\tfor (const action of this.actions ?? []) {\n\t\t\tif (\n\t\t\t\taction.isA<ActionGroup>(\"sap.fe.macros.table.ActionGroup\") ||\n\t\t\t\taction.isA<ActionGroupOverride>(\"sap.fe.macros.table.ActionGroupOverride\")\n\t\t\t) {\n\t\t\t\tresult ??= action.actions.find((a) => {\n\t\t\t\t\treturn a.isA<Action>(\"sap.fe.macros.table.Action\") && a.key === key;\n\t\t\t\t}) as Action | undefined;\n\t\t\t} else if (action.isA<Action>(\"sap.fe.macros.table.Action\") && action.key === key) {\n\t\t\t\tresult = action;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\treturn result;\n\t}\n\n\tonMetadataAvailable(): void {\n\t\tthis.createContent();\n\t}\n\n\tgetFullMetaPath(): string {\n\t\tif (this.metaPath.startsWith(\"/\")) {\n\t\t\treturn this.metaPath;\n\t\t} else if (this.contextPath.endsWith(\"/\")) {\n\t\t\treturn `${this.contextPath}${this.metaPath}`;\n\t\t} else {\n\t\t\treturn `${this.contextPath}/${this.metaPath}`;\n\t\t}\n\t}\n\n\tprivate createContent(forceCreation = false): void {\n\t\tconst owner = this._getOwner();\n\t\tif (!owner) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.contextPath ??= this.getOwnerContextPath() as string;\n\t\tconst fullMetaPath = this.getFullMetaPath();\n\t\tif (!this.content || forceCreation) {\n\t\t\tthis.detachFilterBar();\n\t\t\tthis.content?.destroy();\n\n\t\t\tconst metaModel = owner.getAppComponent().getMetaModel();\n\t\t\tconst metaPathContext = metaModel.createBindingContext(fullMetaPath)!;\n\n\t\t\tthis.tableDefinition = createTableDefinition(this);\n\t\t\tthis.updatePropertiesFromTableDefinition();\n\n\t\t\tthis.updateColumnsVisibility(this.tableDefinition.control.ignoredFields, this.tableDefinition);\n\n\t\t\tconst collectionEntity = this.contextObjectPath.convertedTypes.resolvePath(this.tableDefinition.annotation.collection)\n\t\t\t\t.target as EntitySet | NavigationProperty;\n\t\t\tconst entityType = (collectionEntity as EntitySet)?.entityType ?? (collectionEntity as NavigationProperty)?.targetType;\n\t\t\tthis.entityTypeFullyQualifiedName = entityType?.fullyQualifiedName;\n\n\t\t\tconst handlerProvider = new TableEventHandlerProvider(this, { metaModel, collectionEntity }, this);\n\t\t\tthis.content = this.createMDCTable({\n\t\t\t\tappComponent: owner.getAppComponent(),\n\t\t\t\tmetaPath: metaPathContext,\n\t\t\t\tconvertedMetadata: MetaModelConverter.convertTypes(metaModel),\n\t\t\t\thandlerProvider,\n\t\t\t\tmetaModel\n\t\t\t});\n\t\t}\n\t\tthis.updateFilterBar();\n\t\tthis.setupOptimisticBatch();\n\t\tthis.setUpNoDataInformation();\n\t\tthis.getQuickFilter()?.setMetaPath(fullMetaPath);\n\t}\n\n\tprivate createMDCTable(parameters: MdcTableTemplate.TableTemplatingParameters): MDCTable {\n\t\treturn MdcTableTemplate.getMDCTableTemplate(this, parameters);\n\t}\n\n\tprivate updatePropertiesFromTableDefinition(): void {\n\t\t// ID for the internal MDC table\n\t\tif (ManagedObjectMetadata.isGeneratedId(this.getId())) {\n\t\t\tthis.contentId ??= this.tableDefinition.annotation.id;\n\t\t} else {\n\t\t\tthis.contentId ??= `${this.getId()}-content`;\n\t\t}\n\n\t\t// Basic search field if no filter bar is provided\n\t\tif (this.useBasicSearch === undefined) {\n\t\t\t// If no filterbar is provided, use the basic search field\n\t\t\tif (!this.filterBar) {\n\t\t\t\tthis.filterBar = generate([this.contentId, \"StandardAction\", \"BasicSearch\"]);\n\t\t\t\tthis.useBasicSearch = true;\n\t\t\t} else {\n\t\t\t\tthis.useBasicSearch = false;\n\t\t\t}\n\t\t}\n\n\t\t// Read-only mode\n\t\tif (\n\t\t\tthis.readOnly === undefined &&\n\t\t\t(this.tableDefinition.annotation.displayMode === true || this.tableDefinition.control.readOnly === true)\n\t\t) {\n\t\t\tthis.readOnly = true;\n\t\t}\n\n\t\t// Enable empty rows\n\t\tif (this.emptyRowsEnabled === undefined) {\n\t\t\tconst enabled =\n\t\t\t\tthis.creationMode?.name === CreationMode.InlineCreationRows\n\t\t\t\t\t? this.tableDefinition.actions.find((a) => a.key === StandardActionKeys.Create)?.enabled\n\t\t\t\t\t: undefined;\n\t\t\tif (enabled !== undefined && enabled !== \"false\") {\n\t\t\t\tthis.setProperty(\"emptyRowsEnabled\", enabled);\n\t\t\t}\n\t\t}\n\t}\n\n\tgetNoDataMessageMode(): string {\n\t\tconst mode = this.modeForNoDataMessage ?? this.tableDefinition.control.modeForNoDataMessage ?? \"illustratedMessage-Auto\";\n\t\treturn mode === \"text\" ? \"text\" : mode.split(\"-\")[1];\n\t}\n\n\t/**\n\t * Get the count of the row binding of the table.\n\t * @returns The count of the row binding\n\t * @public\n\t */\n\tgetCount(): number | undefined {\n\t\treturn this.getRowBinding()?.getCount();\n\t}\n}\n\nexport default TableAPI;\n"],"mappings":"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","ignoreList":[]}