/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.define(["sap/fe/core/CommonUtils","sap/fe/core/designtime/AnnotationBasedChanges","sap/fe/macros/designtime/Designtime.helper","sap/fe/macros/table/designtime/Table.designtime.helper"],function(e,n,t,o){"use strict";var a={};var r=o.getPropertyPath;var i=o.getDesigntimeSettings;var s=t.separateChanges;var l=t.prepareConfigModel;var c=t.openAdaptionDialog;var d=t.noChanges;var g=t.isManifestChangesEnabled;var u=t.isConfigModelPrepared;var b=t.getSettingsIfKeyUser;var p=t.getPropertyNamesAndDescriptions;var h=t.getPersonalizationSetting;var f=t.extractChanges;var m=n.getTextArrangementChangeAction;var C=n.getText;var k=n.getRenameAction;const A=["personalization","personalizationSort","personalizationColumn","personalizationFilter","personalizationGroup","personalizationAggregate"];function T(e,n){const t={};e.forEach(function(e){t[e.id]=M(n,e)});return t}a.getAdaptationProperties=T;function M(e,n){const t=e.getParent();const o=t.getProperty("tableDefinition");let a="";switch(n.id){case"headerVisible":a=o.headerVisible;break;case"header":a=o.header;break;case"enableFullScreen":a=o.control.enableFullScreen;break;case"enableExport":a=o.control.enableExport;break;case"type":a=e.data("tableType");break;case"creationModeName":a=o.control.creationMode;break;case"creationModeCreateAtEnd":a=o.control.createAtEnd;break;case"frozenColumnCount":a=o.control.frozenColumnCount;break;case"showCounts":a=o.control.filters?.quickFilters?.showCounts;break;case"personalization":a=e.getP13nMode().length===0?"False":"True";break;case"personalizationSort":a=e.getP13nMode().includes("Sort");break;case"personalizationColumn":a=e.getP13nMode().includes("Column");break;case"personalizationFilter":a=e.getP13nMode().includes("Filter");break;case"personalizationGroup":a=e.getP13nMode().includes("Group");break;case"personalizationAggregate":a=e.getP13nMode().includes("Aggregate");break;case"rowCount":a=o.control.rowCount;break;case"rowCountMode":a=o.control.rowCountMode;break;case"condensedTableLayout":a=o.control.useCondensedTableLayout;break;case"widthIncludingColumnHeader":a=o.control.widthIncludingColumnHeader;break;case"selectionMode":a=o.annotation.selectionMode;break;case"selectAll":a=o.control.selectionLimit===0;break;case"threshold":a=o.control.threshold??o.annotation.threshold;break;case"scrollThreshold":a=o.control.scrollThreshold;break;case"selectionLimit":a=o.control.selectionLimit;break;case"hierarchyQualifier":a=o.control.hierarchyQualifier;break;case"enableMassEdit":a=o.control.massEdit.enabled;break;case"enableMassEditVisibleFields":a=o.control.massEdit.visibleFields;break;case"enableMassEditIgnoredFields":a=o.control.massEdit.ignoreFields;break;case"enableAddCardToInsights":a=o.control.enableAddCardToInsights;break;case"beforeRebindTable":a=o.control.beforeRebindTable;break;case"selectionChange":a=o.control.selectionChange;break}return a}function E(e,n){const t=[];i(e).forEach(function(e){const o={label:e.name,tooltip:e.description,control:[],keyUser:e.keyUser};const a={type:e.type,enum:e.enums,value:n[e.id],id:e.id};o.control.push(a);t.push(o)});return t}const P="rta/configSettings";const v={actions:{annotation:{textArrangement:m(),rename:k()},settings:{fe:{name:C("RTA_CONTEXT_ACTIONMENU_CONFIG"),icon:"sap-icon://developer-settings",isEnabled:g,handler:async function(n){const t=n.getParent();const o=i(t);const a=T(o,n);const s={...a};const g=n.getBindingContext("internal");if(!u(g,P)){let o=E(t,a);o=b(e.getAppComponent(n),o);l(o,g,P)}else{a.personalization=h(g)}const p=n.getModel("sap.fe.i18n");return c(g,a,"{sap.fe.i18n>RTA_CONFIGURATION_TITLE_TABLE}",p,P,"{sap.fe.i18n>RTA_CONFIGURATION_INFO_MESSAGE_TABLE}",{width:"650px",height:"800px"}).then(function(e){const t=r(n.getParent());return f(o,s,e,t,n)},d)}}}},properties:{busyIndicatorDelay:{ignore:true},enableColumnResize:{ignore:true},enableExport:{ignore:true},header:{ignore:true},headerLevel:{ignore:true},headerVisible:{ignore:true},multiSelectMode:{ignore:true},showPasteButton:{ignore:true},showRowCount:{ignore:true},threshold:{ignore:true},width:{ignore:true}},aggregations:{},manifestSettings:function(e){const n=e.getParent();const t=i(n).filter(e=>!A.includes(e.id));return p(t,e.getModel("sap.fe.i18n"))},manifestSettingsValues:function(e,n){const t={};e.forEach(function(e){let o;if(e.path){o=e.path}else{o=e.id}t[o]=M(n,e)});return t},manifestPropertyPath:function(e){const n=e.getParent();return r(n)},manifestPropertyChange:function(e,n,t){return s(e,n,t)}};return v},false);
//# sourceMappingURL=Table.designtime.js.map