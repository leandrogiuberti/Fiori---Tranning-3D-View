{"version":3,"names":["getMenuItemForAction","dataField","action","menuItemAction","table","forContextMenu","collectionContext","parameters","annotationPath","undefined","actionContextPath","CommonHelper","getActionContext","metaModel","createBindingContext","actionContext","dataFieldDataModelObjectPath","MetaModelConverter","getInvolvedDataModelObjects","isBound","ActionTarget","isOperationAvailable","annotations","Core","OperationAvailable","valueOf","command","contextMenuText","pressHandler","handlerProvider","getDataFieldForActionButtonPressHandler","pressCommand","enabled","TableHelper","isDataFieldForActionEnabled","tableDefinition","Action","getObject","enableOnSelect","targetEntityType","control","analyticalConfiguration","aggregationOnLeafLevel","compileExpression","and","UI","isNodeLevelNavigable","resolveBindingString","itemId","generate","contentId","key","_jsx","MenuItem","text","Label","id","press","visible","children","customData","createCustomData","getMenuItemForIntentBasedNavigation","arguments","length","getDataFieldForIBNPressHandler","isDataFieldForIBNEnabled","collection","RequiresContext","NavigationAvailable","semanticObject","SemanticObject","getMenuItem","convertedMetadata","resolvePath","target","type","isDataFieldForAction","isActionShownInContextMenu","contextObjectPath","isDataFieldForIntentBasedNavigation","getManifestActionPressHandler","enabledForContextMenu","requiresSelection","getDataFieldButtonForAction","dataFieldActionContext","icon","isAIOperation","aiIcon","toolbarActionId","Button","ariaHasPopup","isActionWithDialog","ButtonType","Transparent","layoutData","OverflowToolbarLayoutData","priority","group","tableActionContextMenuId","getDataFieldButtonForIntentBasedNavigation","IBNData","getDataFieldButton","template","deepClone","ActionToolbarAction","getDefaultMenuButtonAction","defaultAction","dataFieldForDefaultAction","handler","e","getMenuButton","defaultActionHandlers","menuItems","menu","filter","map","item","menuId","MenuButton","menuPosition","Popup","Dock","BeginBottom","useDefaultActionOnly","buttonMode","MenuButtonMode","Split","Regular","Menu","menuItemsForContextMenu","forEach","push","items","getDefaultButton","getAction","getCopyAction","operationAvailable","ActionHelper","getNumberOfContextsExpression","equal","pathInModel","getCreateButton","standardAction","collectionEntity","suffixResourceKey","name","buttonText","getTranslatedText","createOutboundDetail","annotation","create","outboundDetail","enableUploadPlugin","ActionsPlaceholder","placeholderFor","getCreateMenu","values","nodeType","hasCustomCreateEnablement","createEnablement","allowedValue","index","modelName","isEnabled","notEqual","value","getCreateMenuItemPressHandler","getDeleteButton","getStandardAction","isTemplated","StandardActionKeys","Create","isInsertUpdateActionsTemplated","Delete","Cut","getCutButton","Copy","getCopyButton","Paste","getPasteButton","MassEdit","getMassEditButtonPressHandler","Insights","addCardToInsightsPress","MoveUp","MoveDown","getMoveUpDownButton","getActions","actionsWithOverflowProtection","ensurePrimaryActionNeverOverflows","actions","ActionType","Standard","_exports","getBasicSearch","useBasicSearch","filterBarId","_collectionIsDraftEnabled","isSearchable","label","BasicSearchMacro","useDraftEditState","getFullScreen","enableFullScreen","TableFullScreenButton","forMoveUp","tableType","getTableActionsTemplate","ModelHelper","isDraftNode","isDraftRoot","searchable","basicSearch","filterBar","fullScreen","getTableContextMenuTemplate","getExpandedCollapseActions","expandNode","collapseNode","expand","enableExpression"],"sourceRoot":".","sources":["ActionsTemplating.tsx"],"sourcesContent":["import type { Action } from \"@sap-ux/vocabularies-types/Edm\";\nimport type {\n\tDataFieldAbstractTypes,\n\tDataFieldForAction,\n\tDataFieldForIntentBasedNavigation\n} from \"@sap-ux/vocabularies-types/vocabularies/UI\";\n\nimport type { EntitySet, NavigationProperty } from \"@sap-ux/vocabularies-types\";\nimport deepClone from \"sap/base/util/deepClone\";\nimport type { CompiledBindingToolkitExpression } from \"sap/fe/base/BindingToolkit\";\nimport { and, compileExpression, equal, notEqual, pathInModel, resolveBindingString } from \"sap/fe/base/BindingToolkit\";\nimport { ActionType } from \"sap/fe/core/converters/ManifestSettings\";\nimport * as MetaModelConverter from \"sap/fe/core/converters/MetaModelConverter\";\nimport {\n\tisActionWithDialog,\n\tisDataFieldForAction,\n\tisDataFieldForIntentBasedNavigation\n} from \"sap/fe/core/converters/annotations/DataField\";\nimport type { AnnotationAction, BaseAction, CustomAction } from \"sap/fe/core/converters/controls/Common/Action\";\nimport { ButtonType, aiIcon } from \"sap/fe/core/converters/controls/Common/Action\";\nimport type { CreateBehaviorExternal } from \"sap/fe/core/converters/controls/Common/Table\";\nimport type { StandardAction } from \"sap/fe/core/converters/controls/Common/table/StandardActions\";\nimport { StandardActionKeys } from \"sap/fe/core/converters/controls/Common/table/StandardActions\";\nimport { UI } from \"sap/fe/core/helpers/BindingHelper\";\nimport ModelHelper from \"sap/fe/core/helpers/ModelHelper\";\nimport { generate } from \"sap/fe/core/helpers/StableIdHelper\";\nimport CommonHelper from \"sap/fe/macros/CommonHelper\";\nimport { createCustomData } from \"sap/fe/macros/TSXUtils\";\nimport type { CustomAndAction } from \"sap/fe/macros/chart/MdcChartTemplate\";\nimport type { TableBlockProperties, TableTemplatingParameters } from \"sap/fe/macros/table/MdcTableTemplate\";\nimport TableFullScreenButton from \"sap/fe/macros/table/TableFullScreenButton\";\nimport TableHelper from \"sap/fe/macros/table/TableHelper\";\nimport Button from \"sap/m/Button\";\nimport Menu from \"sap/m/Menu\";\nimport MenuButton from \"sap/m/MenuButton\";\nimport MenuItem from \"sap/m/MenuItem\";\nimport OverflowToolbarLayoutData from \"sap/m/OverflowToolbarLayoutData\";\nimport { MenuButtonMode } from \"sap/m/library\";\nimport ActionsPlaceholder from \"sap/m/upload/ActionsPlaceholder\";\nimport type UI5Event from \"sap/ui/base/Event\";\nimport type Control from \"sap/ui/core/Control\";\nimport Popup from \"sap/ui/core/Popup\";\nimport ActionToolbarAction from \"sap/ui/mdc/actiontoolbar/ActionToolbarAction\";\nimport type Context from \"sap/ui/model/Context\";\nimport ActionHelper from \"../internal/helpers/ActionHelper\";\nimport BasicSearchMacro from \"./BasicSearch\";\nimport type TableEventHandlerProvider from \"./TableEventHandlerProvider\";\n\n/**\n * Generates the MenuItem for the DataFieldForAction.\n * @param dataField DataField for action\n * @param action The name of the action\n * @param menuItemAction The menuItemAction to be evaluated\n * @param table The instance of the table building block\n * @param forContextMenu Indicates if the action appears in the context menu. If false, the action appears in the table toolbar\n * @param collectionContext The context of the collection\n * @param parameters\n * @returns The MenuItem\n */\nfunction getMenuItemForAction(\n\tdataField: DataFieldForAction,\n\taction: BaseAction | AnnotationAction | CustomAction,\n\tmenuItemAction: BaseAction,\n\ttable: TableBlockProperties,\n\tforContextMenu: boolean,\n\tcollectionContext: Context,\n\tparameters: TableTemplatingParameters\n): MenuItem | undefined {\n\tif (!menuItemAction.annotationPath) {\n\t\treturn undefined;\n\t}\n\tconst actionContextPath = CommonHelper.getActionContext(\n\t\tparameters.metaModel.createBindingContext(menuItemAction.annotationPath + \"/Action\")!\n\t);\n\tconst actionContext = parameters.metaModel.createBindingContext(actionContextPath)!;\n\tconst dataFieldDataModelObjectPath = actionContext\n\t\t? MetaModelConverter.getInvolvedDataModelObjects(actionContext, collectionContext)\n\t\t: undefined;\n\tconst isBound = dataField.ActionTarget?.isBound;\n\tconst isOperationAvailable = dataField.ActionTarget?.annotations?.Core?.OperationAvailable?.valueOf() !== false;\n\tconst command = !forContextMenu ? menuItemAction.command : menuItemAction.command + \"::ContextMenu\";\n\tconst contextMenuText = forContextMenu ? \"ContextMenu\" : \"ActionMenu\";\n\tconst pressHandler = menuItemAction.command\n\t\t? undefined\n\t\t: parameters.handlerProvider.getDataFieldForActionButtonPressHandler(dataField, menuItemAction, action, forContextMenu);\n\tconst pressCommand = menuItemAction.command ? `cmd:${command}|press` : undefined;\n\n\tlet enabled: string | boolean | CompiledBindingToolkitExpression =\n\t\tmenuItemAction.enabled !== undefined\n\t\t\t? menuItemAction.enabled\n\t\t\t: TableHelper.isDataFieldForActionEnabled(\n\t\t\t\t\ttable.tableDefinition,\n\t\t\t\t\tdataField.Action,\n\t\t\t\t\t!!isBound,\n\t\t\t\t\tactionContext.getObject(),\n\t\t\t\t\tmenuItemAction.enableOnSelect,\n\t\t\t\t\tdataFieldDataModelObjectPath?.targetEntityType,\n\t\t\t\t\tforContextMenu\n\t\t\t  );\n\n\tif (table.tableDefinition.control.analyticalConfiguration?.aggregationOnLeafLevel && !!isBound) {\n\t\tenabled = compileExpression(and(UI.isNodeLevelNavigable, resolveBindingString(enabled)));\n\t}\n\tif (isBound !== true || isOperationAvailable) {\n\t\tconst itemId = generate([table.contentId, menuItemAction.key, action.key, contextMenuText, dataField, \"MenuItemForAction\"]);\n\t\treturn (\n\t\t\t<MenuItem\n\t\t\t\ttext={dataField.Label}\n\t\t\t\tid={itemId}\n\t\t\t\tpress={pressHandler}\n\t\t\t\tjsx:command={pressCommand}\n\t\t\t\tenabled={enabled}\n\t\t\t\tvisible={menuItemAction.visible}\n\t\t\t>\n\t\t\t\t{{\n\t\t\t\t\tcustomData: [createCustomData(\"actionId\", itemId)]\n\t\t\t\t}}\n\t\t\t</MenuItem>\n\t\t);\n\t} else {\n\t\treturn undefined;\n\t}\n}\n\n/**\n * Generates the MenuItem for the DataFieldForIntentBasedNavigation.\n * @param dataField DataField for IntentBasedNavigation\n * @param menuItemAction The menuItemAction to be evaluated\n * @param table The instance of the table building block\n * @param forContextMenu Indicates if the action appears in the context menu. If false, the action appears in the table toolbar\n * @param collectionContext The context of the collection\n * @param action\n * @param handlerProvider\n * @returns The MenuItem\n */\nfunction getMenuItemForIntentBasedNavigation(\n\tdataField: DataFieldForIntentBasedNavigation,\n\tmenuItemAction: BaseAction,\n\ttable: TableBlockProperties,\n\tforContextMenu = false,\n\tcollectionContext: Context,\n\taction: BaseAction | AnnotationAction | CustomAction,\n\thandlerProvider: TableEventHandlerProvider\n): MenuItem {\n\tconst pressHandler = menuItemAction.command\n\t\t? undefined\n\t\t: handlerProvider.getDataFieldForIBNPressHandler(menuItemAction, forContextMenu);\n\tconst pressCommand = menuItemAction.command ? `cmd:${menuItemAction.command}|press` : undefined;\n\n\tconst enabled =\n\t\tmenuItemAction.enabled !== undefined\n\t\t\t? menuItemAction.enabled\n\t\t\t: TableHelper.isDataFieldForIBNEnabled(\n\t\t\t\t\t{\n\t\t\t\t\t\tcollection: collectionContext,\n\t\t\t\t\t\ttableDefinition: table.tableDefinition\n\t\t\t\t\t},\n\t\t\t\t\tdataField,\n\t\t\t\t\tdataField.RequiresContext,\n\t\t\t\t\tdataField.NavigationAvailable,\n\t\t\t\t\tforContextMenu\n\t\t\t  );\n\tconst id = forContextMenu\n\t\t? generate([table.contentId, menuItemAction.key, action.key, dataField, \"MenuItemIntentBasedNavigation\", \"ContextMenu\"])\n\t\t: generate([table.contentId, menuItemAction.key, action.key, dataField, \"MenuItemIntentBasedNavigation\"]);\n\treturn (\n\t\t<MenuItem\n\t\t\ttext={dataField.Label}\n\t\t\tid={id}\n\t\t\tpress={pressHandler}\n\t\t\tjsx:command={pressCommand}\n\t\t\tenabled={enabled}\n\t\t\tvisible={menuItemAction.visible}\n\t\t>\n\t\t\t{{\n\t\t\t\tcustomData: [\n\t\t\t\t\t!dataField.RequiresContext\n\t\t\t\t\t\t? createCustomData(\"IBNData\", { semanticObject: dataField.SemanticObject, action: dataField.Action })\n\t\t\t\t\t\t: undefined,\n\t\t\t\t\tcreateCustomData(\"actionId\", id)\n\t\t\t\t]\n\t\t\t}}\n\t\t</MenuItem>\n\t);\n}\n\n/**\n * Generates the xml string for the MenuItem based on the type of the menuItemAction.\n * @param action The name of the action\n * @param menuItemAction The menuItemAction to be evaluated\n * @param table The instance of the table building block\n * @param forContextMenu Indicates if the action appears in the context menu. If false, the action appears in the table toolbar\n * @param collectionContext The context of the collection\n * @param parameters\n * @returns The xml string for the MenuItem\n */\nfunction getMenuItem(\n\taction: BaseAction | AnnotationAction | CustomAction,\n\tmenuItemAction: BaseAction,\n\ttable: TableBlockProperties,\n\tforContextMenu: boolean,\n\tcollectionContext: Context,\n\tparameters: TableTemplatingParameters\n): MenuItem | undefined {\n\tconst dataField = menuItemAction.annotationPath\n\t\t? (parameters.convertedMetadata.resolvePath(menuItemAction.annotationPath).target as DataFieldAbstractTypes)\n\t\t: undefined;\n\n\tswitch (dataField && menuItemAction.type) {\n\t\tcase \"ForAction\":\n\t\t\tif (isDataFieldForAction(dataField)) {\n\t\t\t\tif (\n\t\t\t\t\t!forContextMenu ||\n\t\t\t\t\t(forContextMenu && TableHelper.isActionShownInContextMenu(menuItemAction, table.contextObjectPath))\n\t\t\t\t) {\n\t\t\t\t\treturn getMenuItemForAction(dataField, action, menuItemAction, table, forContextMenu, collectionContext, parameters);\n\t\t\t\t}\n\t\t\t}\n\t\t\tbreak;\n\t\tcase \"ForNavigation\":\n\t\t\tif (\n\t\t\t\tisDataFieldForIntentBasedNavigation(dataField!) &&\n\t\t\t\t(!forContextMenu || (forContextMenu && TableHelper.isActionShownInContextMenu(menuItemAction, table.contextObjectPath)))\n\t\t\t) {\n\t\t\t\treturn getMenuItemForIntentBasedNavigation(\n\t\t\t\t\tdataField,\n\t\t\t\t\tmenuItemAction,\n\t\t\t\t\ttable,\n\t\t\t\t\tforContextMenu,\n\t\t\t\t\tcollectionContext,\n\t\t\t\t\taction,\n\t\t\t\t\tparameters.handlerProvider\n\t\t\t\t);\n\t\t\t}\n\t\t\tbreak;\n\t\tdefault:\n\t}\n\n\tconst command = !forContextMenu ? menuItemAction.command : menuItemAction.command + \"::ContextMenu\";\n\tconst pressHandler = menuItemAction.command\n\t\t? undefined\n\t\t: parameters.handlerProvider.getManifestActionPressHandler(menuItemAction as CustomAction, forContextMenu);\n\tconst pressCommand = menuItemAction.command ? `cmd:${command}|press` : undefined;\n\tlet enabled = !forContextMenu ? menuItemAction.enabled : (menuItemAction as CustomAction).enabledForContextMenu;\n\tif (\n\t\t(menuItemAction as CustomAction).requiresSelection &&\n\t\ttable.tableDefinition.control.analyticalConfiguration?.aggregationOnLeafLevel\n\t) {\n\t\tenabled = compileExpression(and(resolveBindingString(enabled ?? \"\"), UI.isNodeLevelNavigable));\n\t}\n\tconst contextMenuText = forContextMenu ? \"ContextMenu\" : \"ActionMenu\";\n\tconst itemId = generate([table.contentId, menuItemAction.key, contextMenuText, action.key, dataField, \"MenuItem\"]);\n\treturn (\n\t\t<MenuItem\n\t\t\tcore:require=\"{FPM: 'sap/fe/core/helpers/FPMHelper'}\"\n\t\t\ttext={menuItemAction?.text}\n\t\t\tid={itemId}\n\t\t\tpress={pressHandler}\n\t\t\tjsx:command={pressCommand}\n\t\t\tvisible={menuItemAction.visible}\n\t\t\tenabled={enabled}\n\t\t>\n\t\t\t{{\n\t\t\t\tcustomData: [createCustomData(\"actionId\", itemId)]\n\t\t\t}}\n\t\t</MenuItem>\n\t);\n}\n\n/**\n * Generates the control for the DataFieldForActionButton.\n * @param dataField DataField for action\n * @param action The name of the action\n * @param table The instance of the table building block\n * @param forContextMenu Indicates if the action appears in the context menu. If false, the action appears in the table toolbar\n * @param collectionContext The context of the collection\n * @param parameters\n * @returns The control for the DataFieldForActionButton\n */\nfunction getDataFieldButtonForAction(\n\tdataField: DataFieldForAction,\n\taction: BaseAction | AnnotationAction | CustomAction,\n\ttable: TableBlockProperties,\n\tforContextMenu: boolean,\n\tcollectionContext: Context,\n\tparameters: TableTemplatingParameters\n): Button | MenuItem {\n\tconst dataFieldActionContext = parameters.metaModel.createBindingContext(action.annotationPath + \"/Action\")!;\n\tconst actionContextPath = CommonHelper.getActionContext(dataFieldActionContext);\n\tconst actionContext = parameters.metaModel.createBindingContext(actionContextPath)!;\n\tconst dataFieldDataModelObjectPath = actionContext\n\t\t? MetaModelConverter.getInvolvedDataModelObjects<Action>(actionContext, collectionContext)\n\t\t: undefined;\n\tconst isBound = dataField.ActionTarget?.isBound;\n\tconst command = !forContextMenu ? action.command : action.command + \"::ContextMenu\";\n\tconst pressHandler = action.command\n\t\t? undefined\n\t\t: parameters.handlerProvider.getDataFieldForActionButtonPressHandler(dataField, action, undefined, forContextMenu);\n\tconst pressCommand = action.command ? `cmd:${command}|press` : undefined;\n\tconst enabled =\n\t\taction.enabled !== undefined\n\t\t\t? action.enabled\n\t\t\t: TableHelper.isDataFieldForActionEnabled(\n\t\t\t\t\ttable.tableDefinition,\n\t\t\t\t\tdataField.Action,\n\t\t\t\t\t!!isBound,\n\t\t\t\t\tactionContext.getObject(),\n\t\t\t\t\taction.enableOnSelect,\n\t\t\t\t\tdataFieldDataModelObjectPath?.targetEntityType,\n\t\t\t\t\tforContextMenu\n\t\t\t  );\n\tconst icon = action.isAIOperation === true ? aiIcon : undefined;\n\tif (!forContextMenu) {\n\t\t// for table toolbar\n\t\tconst toolbarActionId = generate([table.contentId, dataField]);\n\t\treturn (\n\t\t\t<Button\n\t\t\t\tid={toolbarActionId}\n\t\t\t\ttext={dataField.Label}\n\t\t\t\ticon={icon}\n\t\t\t\tariaHasPopup={isActionWithDialog(dataField)}\n\t\t\t\tpress={pressHandler}\n\t\t\t\tjsx:command={pressCommand}\n\t\t\t\ttype={ButtonType.Transparent}\n\t\t\t\tenabled={enabled}\n\t\t\t\tvisible={action.visible}\n\t\t\t>\n\t\t\t\t{{\n\t\t\t\t\tcustomData: [createCustomData(\"actionId\", toolbarActionId)],\n\t\t\t\t\tlayoutData: <OverflowToolbarLayoutData priority={action.priority} group={action.group}></OverflowToolbarLayoutData>\n\t\t\t\t}}\n\t\t\t</Button>\n\t\t);\n\t} else {\n\t\t// for context menu\n\t\tconst tableActionContextMenuId = generate([table.contentId, dataField, \"ContextMenu\"]);\n\t\treturn (\n\t\t\t<MenuItem\n\t\t\t\tid={tableActionContextMenuId}\n\t\t\t\ttext={dataField.Label}\n\t\t\t\ticon={icon}\n\t\t\t\tpress={pressHandler}\n\t\t\t\tjsx:command={pressCommand}\n\t\t\t\tenabled={enabled}\n\t\t\t>\n\t\t\t\t{{\n\t\t\t\t\tcustomData: [createCustomData(\"actionId\", tableActionContextMenuId)]\n\t\t\t\t}}\n\t\t\t</MenuItem>\n\t\t);\n\t}\n}\n\n/**\n * Generates the control for the DataFieldForIntentBasedNavigation Button.\n * @param dataField DataField for IntentBasedNavigation\n * @param action The name of the action\n * @param table The instance of the table building block\n * @param forContextMenu Indicates if the action appears in the context menu. If false, the action appears in the table toolbar\n * @param collectionContext The context of the collection\n * @param handlerProvider\n * @returns The control for the DataFieldForIntentBasedNavigation button/menu item\n */\nfunction getDataFieldButtonForIntentBasedNavigation(\n\tdataField: DataFieldForIntentBasedNavigation,\n\taction: BaseAction | AnnotationAction | CustomAction,\n\ttable: TableBlockProperties,\n\tforContextMenu: boolean,\n\tcollectionContext: Context,\n\thandlerProvider: TableEventHandlerProvider\n): Button | MenuItem {\n\tconst command = !forContextMenu ? action.command : action.command + \"::ContextMenu\";\n\tconst pressHandler = action.command ? undefined : handlerProvider.getDataFieldForIBNPressHandler(action, forContextMenu);\n\tconst pressCommand = action.command ? `cmd:${command}|press` : undefined;\n\tconst enabled =\n\t\taction.enabled !== undefined\n\t\t\t? action.enabled\n\t\t\t: TableHelper.isDataFieldForIBNEnabled(\n\t\t\t\t\t{\n\t\t\t\t\t\tcollection: collectionContext,\n\t\t\t\t\t\ttableDefinition: table.tableDefinition\n\t\t\t\t\t},\n\t\t\t\t\tdataField,\n\t\t\t\t\tdataField.RequiresContext,\n\t\t\t\t\tdataField.NavigationAvailable,\n\t\t\t\t\tforContextMenu\n\t\t\t  );\n\tconst IBNData = !dataField.RequiresContext ? { semanticObject: dataField.SemanticObject, action: dataField.Action } : undefined;\n\tif (!forContextMenu) {\n\t\t// for table toolbar\n\t\tconst toolbarActionId = generate([table.contentId, dataField]);\n\t\treturn (\n\t\t\t<Button\n\t\t\t\tid={toolbarActionId}\n\t\t\t\ttext={dataField.Label}\n\t\t\t\tpress={pressHandler}\n\t\t\t\tjsx:command={pressCommand}\n\t\t\t\ttype={ButtonType.Transparent}\n\t\t\t\tenabled={enabled}\n\t\t\t\tvisible={action.visible}\n\t\t\t>\n\t\t\t\t{{\n\t\t\t\t\tcustomData: [createCustomData(\"IBNData\", IBNData), createCustomData(\"actionId\", toolbarActionId)]\n\t\t\t\t}}\n\t\t\t</Button>\n\t\t);\n\t} else {\n\t\t// for context menu\n\t\tconst tableActionContextMenuId = generate([table.contentId, dataField, \"ContextMenu\"]);\n\t\treturn (\n\t\t\t<MenuItem\n\t\t\t\tid={tableActionContextMenuId}\n\t\t\t\ttext={dataField.Label}\n\t\t\t\tpress={pressHandler}\n\t\t\t\tjsx:command={pressCommand}\n\t\t\t\tenabled={enabled}\n\t\t\t>\n\t\t\t\t{{\n\t\t\t\t\tcustomData: [createCustomData(\"IBNData\", IBNData), createCustomData(\"actionId\", tableActionContextMenuId)]\n\t\t\t\t}}\n\t\t\t</MenuItem>\n\t\t);\n\t}\n}\n\n/**\n * Generates the control for the button based on the type of the action.\n * @param action The name of the action\n * @param table The instance of the table building block\n * @param forContextMenu Indicates if the action appears in the context menu. If false, the action appears in the table toolbar\n * @param collectionContext The context of the collection\n * @param parameters\n * @returns The control for the button/menu item\n */\nfunction getDataFieldButton(\n\taction: BaseAction | AnnotationAction | CustomAction,\n\ttable: TableBlockProperties,\n\tforContextMenu: boolean,\n\tcollectionContext: Context,\n\tparameters: TableTemplatingParameters\n): ActionToolbarAction | MenuItem | undefined {\n\tconst dataField = action.annotationPath\n\t\t? (parameters.convertedMetadata.resolvePath(action.annotationPath).target as DataFieldAbstractTypes)\n\t\t: undefined;\n\tlet template: MenuItem | Button | undefined;\n\tif (!dataField) {\n\t\treturn undefined;\n\t}\n\tswitch (action.type) {\n\t\tcase \"ForAction\":\n\t\t\tif (isDataFieldForAction(dataField)) {\n\t\t\t\tconst isBound = dataField.ActionTarget?.isBound;\n\t\t\t\tif (!!isBound && table.tableDefinition.control.analyticalConfiguration?.aggregationOnLeafLevel) {\n\t\t\t\t\taction = deepClone(action);\n\t\t\t\t\taction.enabled = compileExpression(and(resolveBindingString(action.enabled ?? \"\"), UI.isNodeLevelNavigable));\n\t\t\t\t}\n\t\t\t\tconst isOperationAvailable = dataField.ActionTarget?.annotations?.Core?.OperationAvailable?.valueOf() !== false;\n\t\t\t\t// show only bound actions in context menu\n\t\t\t\tif (!forContextMenu || TableHelper.isActionShownInContextMenu(action, table.contextObjectPath)) {\n\t\t\t\t\tif (isBound !== true || isOperationAvailable) {\n\t\t\t\t\t\ttemplate = getDataFieldButtonForAction(dataField, action, table, forContextMenu, collectionContext, parameters);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tbreak;\n\t\tcase \"ForNavigation\":\n\t\t\tif (\n\t\t\t\tisDataFieldForIntentBasedNavigation(dataField) &&\n\t\t\t\t(!forContextMenu || TableHelper.isActionShownInContextMenu(action, table.contextObjectPath))\n\t\t\t) {\n\t\t\t\ttemplate = getDataFieldButtonForIntentBasedNavigation(\n\t\t\t\t\tdataField,\n\t\t\t\t\taction,\n\t\t\t\t\ttable,\n\t\t\t\t\tforContextMenu,\n\t\t\t\t\tcollectionContext,\n\t\t\t\t\tparameters.handlerProvider\n\t\t\t\t);\n\t\t\t}\n\t\t\tbreak;\n\t\tdefault:\n\t}\n\n\tif (template === undefined) {\n\t\treturn undefined;\n\t}\n\n\tif (!forContextMenu) {\n\t\t// for table toolbar\n\t\treturn (\n\t\t\t<ActionToolbarAction\n\t\t\t\tid={generate([table.contentId, action.id, dataField, \"ActionToolbarAction\"])}\n\t\t\t\tdt:designtime={action.visible === \"true\" || action.visible === \"false\" ? undefined : \"not-adaptable-visibility\"}\n\t\t\t>\n\t\t\t\t{{\n\t\t\t\t\taction: template\n\t\t\t\t}}\n\t\t\t</ActionToolbarAction>\n\t\t);\n\t} else {\n\t\t// for context menu\n\t\treturn template as MenuItem;\n\t}\n}\n\n/**\n * Gets the default action handler that is invoked when adding the menu button.\n * @param defaultAction The default action of the menu\n * @param dataFieldForDefaultAction The dataField for the default action\n * @param parameters\n * @returns The corresponding event handler or command\n */\nfunction getDefaultMenuButtonAction(\n\tdefaultAction: CustomAction | undefined,\n\tdataFieldForDefaultAction: DataFieldForIntentBasedNavigation | DataFieldForAction | undefined,\n\tparameters: TableTemplatingParameters\n): { handler?: (e: UI5Event) => void; command?: string } {\n\tif (!defaultAction) {\n\t\treturn {};\n\t}\n\n\ttry {\n\t\tswitch (defaultAction.type) {\n\t\t\tcase \"ForAction\":\n\t\t\t\treturn {\n\t\t\t\t\thandler: parameters.handlerProvider.getDataFieldForActionButtonPressHandler(\n\t\t\t\t\t\tdataFieldForDefaultAction as DataFieldForAction,\n\t\t\t\t\t\tdefaultAction,\n\t\t\t\t\t\tundefined,\n\t\t\t\t\t\tfalse\n\t\t\t\t\t)\n\t\t\t\t};\n\n\t\t\tcase \"ForNavigation\":\n\t\t\t\treturn {\n\t\t\t\t\thandler: parameters.handlerProvider.getDataFieldForIBNPressHandler(defaultAction, false)\n\t\t\t\t};\n\n\t\t\tdefault: {\n\t\t\t\tif (defaultAction.command) {\n\t\t\t\t\treturn {\n\t\t\t\t\t\tcommand: `cmd:${defaultAction.command}|defaultAction`\n\t\t\t\t\t};\n\t\t\t\t} else {\n\t\t\t\t\treturn {\n\t\t\t\t\t\thandler: parameters.handlerProvider.getManifestActionPressHandler(defaultAction, false)\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t} catch (e) {\n\t\treturn {};\n\t}\n}\n\n/**\n * Generates the control for the MenuButton control which enables the user to show a hierarchical menu.\n * @param action The name of the action\n * @param table The instance of the table building block\n * @param forContextMenu Indicates if the action appears in the context menu. If false, the action appears in the table toolbar\n * @param collectionContext The context of the collection\n * @param parameters\n * @returns The MenuButton control\n */\nfunction getMenuButton(\n\taction: BaseAction | AnnotationAction | CustomAction,\n\ttable: TableBlockProperties,\n\tforContextMenu: boolean,\n\tcollectionContext: Context,\n\tparameters: TableTemplatingParameters\n): ActionToolbarAction | MenuItem | undefined {\n\tif ((action as CustomAction).requiresSelection && table.tableDefinition.control.analyticalConfiguration?.aggregationOnLeafLevel) {\n\t\taction = deepClone(action);\n\t\taction.enabled = compileExpression(and(resolveBindingString(action.enabled ?? \"\"), UI.isNodeLevelNavigable));\n\t}\n\tconst icon = action.isAIOperation === true ? aiIcon : undefined;\n\tif (!forContextMenu) {\n\t\t// for table toolbar\n\t\tconst defaultAction = (action as CustomAction).defaultAction as CustomAction | undefined;\n\t\tconst dataFieldForDefaultAction = defaultAction?.annotationPath\n\t\t\t? parameters.convertedMetadata.resolvePath<DataFieldForAction | DataFieldForIntentBasedNavigation>(defaultAction.annotationPath)\n\t\t\t\t\t.target\n\t\t\t: undefined;\n\t\tconst defaultActionHandlers = getDefaultMenuButtonAction(defaultAction, dataFieldForDefaultAction, parameters);\n\t\tconst menuItems = action.menu\n\t\t\t?.filter((menuItemAction) => typeof menuItemAction !== \"string\")\n\t\t\t.map((menuItemAction) => {\n\t\t\t\treturn getMenuItem(action, menuItemAction, table, forContextMenu, collectionContext, parameters);\n\t\t\t})\n\t\t\t.filter((item) => item !== undefined);\n\n\t\tif (menuItems?.length) {\n\t\t\tconst menuId = generate([table.contentId, action.id]);\n\t\t\treturn (\n\t\t\t\t<ActionToolbarAction\n\t\t\t\t\tid={generate([table.contentId, action.id, \"ActionToolbarAction\"])}\n\t\t\t\t\tdt:designtime={action.visible === \"true\" || action.visible === \"false\" ? undefined : \"not-adaptable-visibility\"}\n\t\t\t\t>\n\t\t\t\t\t<MenuButton\n\t\t\t\t\t\ttext={action.text}\n\t\t\t\t\t\ttype={ButtonType.Transparent}\n\t\t\t\t\t\tmenuPosition={Popup.Dock.BeginBottom}\n\t\t\t\t\t\tid={menuId}\n\t\t\t\t\t\tvisible={action.visible}\n\t\t\t\t\t\tenabled={action.enabled}\n\t\t\t\t\t\tuseDefaultActionOnly={!!(action as CustomAndAction).defaultAction}\n\t\t\t\t\t\ticon={icon}\n\t\t\t\t\t\tbuttonMode={(action as CustomAndAction).defaultAction ? MenuButtonMode.Split : MenuButtonMode.Regular}\n\t\t\t\t\t\tdefaultAction={defaultActionHandlers.handler}\n\t\t\t\t\t\tjsx:command={defaultActionHandlers.command}\n\t\t\t\t\t>\n\t\t\t\t\t\t{{\n\t\t\t\t\t\t\tcustomData: [createCustomData(\"actionId\", menuId)],\n\t\t\t\t\t\t\tmenu: <Menu>{menuItems}</Menu>,\n\t\t\t\t\t\t\tlayoutData: (\n\t\t\t\t\t\t\t\t<OverflowToolbarLayoutData priority={action.priority} group={action.group}></OverflowToolbarLayoutData>\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t}}\n\t\t\t\t\t</MenuButton>\n\t\t\t\t</ActionToolbarAction>\n\t\t\t);\n\t\t} else {\n\t\t\treturn undefined;\n\t\t}\n\t} else {\n\t\t// for context menu\n\t\tconst menuItemsForContextMenu: BaseAction[] = [];\n\t\taction.menu?.forEach((menuItemAction) => {\n\t\t\tif (typeof menuItemAction !== \"string\" && TableHelper.isActionShownInContextMenu(menuItemAction, table.contextObjectPath)) {\n\t\t\t\tmenuItemsForContextMenu?.push(menuItemAction);\n\t\t\t}\n\t\t});\n\n\t\tconst menuItems = menuItemsForContextMenu\n\t\t\t.filter((menuItemAction) => typeof menuItemAction !== \"string\")\n\t\t\t.map((menuItemAction) => {\n\t\t\t\treturn getMenuItem(action, menuItemAction, table, forContextMenu, collectionContext, parameters);\n\t\t\t})\n\t\t\t.filter((item) => item !== undefined);\n\n\t\tif (menuItems?.length) {\n\t\t\treturn (\n\t\t\t\t<MenuItem\n\t\t\t\t\ttext={action.text}\n\t\t\t\t\tid={generate([table.contentId, action.id, \"ContextMenu\"])}\n\t\t\t\t\tenabled={action.enabledForContextMenu}\n\t\t\t\t\ticon={icon}\n\t\t\t\t>\n\t\t\t\t\t{{\n\t\t\t\t\t\titems: menuItems\n\t\t\t\t\t}}\n\t\t\t\t</MenuItem>\n\t\t\t);\n\t\t} else {\n\t\t\treturn undefined;\n\t\t}\n\t}\n}\n\n/**\n * Generates the xml string for the default button.\n * @param action The name of the action\n * @param table The instance of the table building block\n * @param forContextMenu Indicates if the action appears in the context menu. If false, the action appears in the table toolbar\n * @param handlerProvider\n * @returns The xml string for the default button.\n */\nfunction getDefaultButton(\n\taction: CustomAction,\n\ttable: TableBlockProperties,\n\tforContextMenu: boolean,\n\thandlerProvider: TableEventHandlerProvider\n): ActionToolbarAction | MenuItem | undefined {\n\tconst command = !forContextMenu ? action.command : action.command + \"::ContextMenu\";\n\tconst pressHandler = action.command ? undefined : handlerProvider.getManifestActionPressHandler(action, forContextMenu);\n\tconst pressCommand = action.command ? `cmd:${command}|press` : undefined;\n\n\tif (action.requiresSelection && table.tableDefinition.control.analyticalConfiguration?.aggregationOnLeafLevel) {\n\t\taction = deepClone(action);\n\t\taction.enabled = compileExpression(and(resolveBindingString(action.enabled ?? \"\"), UI.isNodeLevelNavigable));\n\t\taction.enabledForContextMenu = compileExpression(\n\t\t\tand(resolveBindingString(action.enabledForContextMenu ?? \"\"), UI.isNodeLevelNavigable)\n\t\t);\n\t}\n\tif (!forContextMenu) {\n\t\t// for table toolbar\n\t\treturn (\n\t\t\t<ActionToolbarAction\n\t\t\t\tid={generate([table.contentId, action.id, \"ActionToolbarAction\"])}\n\t\t\t\tdt:designtime={action.visible === \"true\" || action.visible === \"false\" ? undefined : \"not-adaptable-visibility\"}\n\t\t\t>\n\t\t\t\t<Button\n\t\t\t\t\tcore:require=\"{FPM: 'sap/fe/core/helpers/FPMHelper'}\"\n\t\t\t\t\tid={generate([table.contentId, action.id])}\n\t\t\t\t\ttext={action.text}\n\t\t\t\t\tpress={pressHandler}\n\t\t\t\t\tjsx:command={pressCommand}\n\t\t\t\t\ttype={ButtonType.Transparent}\n\t\t\t\t\tvisible={action.visible}\n\t\t\t\t\tenabled={action.enabled}\n\t\t\t\t\ticon={action.isAIOperation === true ? aiIcon : undefined}\n\t\t\t\t>\n\t\t\t\t\t{{\n\t\t\t\t\t\tcustomData: [createCustomData(\"actionId\", generate([table.contentId, action.id]))],\n\t\t\t\t\t\tlayoutData: <OverflowToolbarLayoutData priority={action.priority} group={action.group}></OverflowToolbarLayoutData>\n\t\t\t\t\t}}\n\t\t\t\t</Button>\n\t\t\t</ActionToolbarAction>\n\t\t);\n\t} else if (TableHelper.isActionShownInContextMenu(action, table.contextObjectPath)) {\n\t\tconst tableActionContextMenuId = generate([table.contentId, action.id, \"ContextMenu\"]);\n\t\t// for context menu\n\t\treturn (\n\t\t\t<MenuItem\n\t\t\t\tcore:require=\"{FPM: 'sap/fe/core/helpers/FPMHelper'}\"\n\t\t\t\tid={tableActionContextMenuId}\n\t\t\t\ttext={action.text}\n\t\t\t\tpress={pressHandler}\n\t\t\t\tjsx:command={pressCommand}\n\t\t\t\tenabled={action.enabledForContextMenu}\n\t\t\t>\n\t\t\t\t{{\n\t\t\t\t\tcustomData: [createCustomData(\"actionId\", tableActionContextMenuId)]\n\t\t\t\t}}\n\t\t\t</MenuItem>\n\t\t);\n\t} else {\n\t\treturn undefined;\n\t}\n}\n\n/**\n * Generates the control for an action button/menu item based on the type of the action.\n * @param action The action to get\n * @param table The instance of the table building block\n * @param forContextMenu Indicates if the action appears in the context menu. If false, the action appears in the table toolbar\n * @param collectionContext The context of the collection\n * @param parameters\n * @returns The control of the action\n */\nfunction getAction(\n\taction: BaseAction,\n\ttable: TableBlockProperties,\n\tforContextMenu: boolean,\n\tcollectionContext: Context,\n\tparameters: TableTemplatingParameters\n): ActionToolbarAction | MenuItem | undefined {\n\tswitch (action.type) {\n\t\tcase \"Default\":\n\t\t\tif (\"noWrap\" in action) {\n\t\t\t\treturn getDefaultButton(action as CustomAction, table, forContextMenu, parameters.handlerProvider);\n\t\t\t}\n\t\t\tbreak;\n\t\tcase \"Menu\":\n\t\t\treturn getMenuButton(action, table, forContextMenu, collectionContext, parameters);\n\t\tdefault:\n\t}\n\treturn getDataFieldButton(action, table, forContextMenu, collectionContext, parameters);\n}\n\n/**\n * Generates the copy action.\n * @param action The copy action\n * @param table The instance of the table building block\n * @param forContextMenu Indicates if action is for Action Toolbar of Context Menu\n * @param collectionContext The context of the collection\n * @param parameters\n * @returns The action\n */\nfunction getCopyAction(\n\taction: BaseAction,\n\ttable: TableBlockProperties,\n\tforContextMenu: boolean,\n\tcollectionContext: Context,\n\tparameters: TableTemplatingParameters\n): ActionToolbarAction | MenuItem {\n\tconst dataField = action.annotationPath\n\t\t? (parameters.convertedMetadata.resolvePath(action.annotationPath).target as DataFieldForAction)\n\t\t: undefined;\n\tconst actionContextPath = CommonHelper.getActionContext(parameters.metaModel.createBindingContext(action.annotationPath + \"/Action\")!);\n\tconst operationAvailable = dataField?.ActionTarget?.annotations?.Core?.OperationAvailable !== undefined;\n\tconst actionContext = parameters.metaModel.createBindingContext(actionContextPath)!;\n\tconst dataFieldDataModelObjectPath = actionContext\n\t\t? MetaModelConverter.getInvolvedDataModelObjects(actionContext, collectionContext)\n\t\t: undefined;\n\tconst isBound = dataField?.ActionTarget?.isBound;\n\tconst press = dataField\n\t\t? parameters.handlerProvider.getDataFieldForActionButtonPressHandler(dataField, action, undefined, forContextMenu)\n\t\t: undefined;\n\n\tlet enabled: string | boolean | CompiledBindingToolkitExpression = operationAvailable\n\t\t? TableHelper.isDataFieldForActionEnabled(\n\t\t\t\ttable.tableDefinition,\n\t\t\t\tdataField.Action,\n\t\t\t\t!!isBound,\n\t\t\t\tactionContext.getObject(),\n\t\t\t\taction.enableOnSelect,\n\t\t\t\tdataFieldDataModelObjectPath?.targetEntityType,\n\t\t\t\tforContextMenu,\n\t\t\t\ttrue\n\t\t  )\n\t\t: `{= ${ActionHelper.getNumberOfContextsExpression(\"single\", forContextMenu)}}`;\n\tif (table.tableDefinition.control.analyticalConfiguration?.aggregationOnLeafLevel) {\n\t\tenabled = compileExpression(and(resolveBindingString(enabled), UI.isNodeLevelNavigable));\n\t}\n\n\tif (!forContextMenu) {\n\t\t// for table toolbar\n\t\treturn (\n\t\t\t<ActionToolbarAction\n\t\t\t\tid={generate([table.contentId, dataField, \"ActionToolbarAction\"])}\n\t\t\t\tdt:designtime={action.visible === \"true\" || action.visible === \"false\" ? undefined : \"not-adaptable-visibility\"}\n\t\t\t>\n\t\t\t\t<Button\n\t\t\t\t\tid={generate([table.contentId, dataField])}\n\t\t\t\t\ttext={action.text}\n\t\t\t\t\tpress={press}\n\t\t\t\t\ttype={ButtonType.Transparent}\n\t\t\t\t\tvisible={action.visible}\n\t\t\t\t\tenabled={enabled}\n\t\t\t\t>\n\t\t\t\t\t{{\n\t\t\t\t\t\tcustomData: [createCustomData(\"actionId\", generate([table.contentId, dataField]))],\n\t\t\t\t\t\tlayoutData: <OverflowToolbarLayoutData priority={action.priority} group={action.group}></OverflowToolbarLayoutData>\n\t\t\t\t\t}}\n\t\t\t\t</Button>\n\t\t\t</ActionToolbarAction>\n\t\t);\n\t} else {\n\t\t// for context menu\n\t\treturn (\n\t\t\t<MenuItem\n\t\t\t\tid={generate([table.contentId, dataField, \"ContextMenu\"])}\n\t\t\t\ttext={action.text}\n\t\t\t\tpress={press}\n\t\t\t\tenabled={compileExpression(equal(pathInModel(\"contextmenu/numberOfSelectedContexts\", \"internal\"), 1)) as unknown as boolean}\n\t\t\t>\n\t\t\t\t{{\n\t\t\t\t\tcustomData: [createCustomData(\"actionId\", generate([table.contentId, dataField, \"ContextMenu\"]))]\n\t\t\t\t}}\n\t\t\t</MenuItem>\n\t\t);\n\t}\n}\n\n/**\n * Generates the xml string for the create button.\n * @param standardAction Standard actions to be evaluated\n * @param table The instance of the table building block\n * @param forContextMenu Indicates whether the action appears in the context menu. If set to `false`, the action appears in the table toolbar.\n * @param collectionEntity The entity set of the collection\n * @returns The xml string for the create button\n */\nfunction getCreateButton(\n\tstandardAction: StandardAction,\n\ttable: TableBlockProperties,\n\tforContextMenu: boolean,\n\tcollectionEntity: EntitySet | NavigationProperty\n): ActionsPlaceholder | ActionToolbarAction | MenuItem {\n\tconst suffixResourceKey = collectionEntity.name;\n\tconst buttonText = table.getTranslatedText(\"M_COMMON_TABLE_CREATE\", undefined, suffixResourceKey);\n\tconst createOutboundDetail = (table.tableDefinition.annotation.create as CreateBehaviorExternal).outboundDetail;\n\tconst customData = createOutboundDetail\n\t\t? createCustomData(\"IBNData\", { semanticObject: createOutboundDetail.semanticObject, action: createOutboundDetail.action })\n\t\t: undefined;\n\n\tif (table.tableDefinition.control.enableUploadPlugin) {\n\t\treturn <ActionsPlaceholder id={`${table.contentId}-uploadButton`} placeholderFor=\"UploadButtonPlaceholder\" />;\n\t} else if (!forContextMenu) {\n\t\treturn (\n\t\t\t<ActionToolbarAction\n\t\t\t\tid={generate([table.contentId, standardAction.key, \"ActionToolbarAction\"])}\n\t\t\t\tdt:designtime=\"not-adaptable-tree\"\n\t\t\t>\n\t\t\t\t<Button\n\t\t\t\t\tid={generate([table.contentId, standardAction.key])}\n\t\t\t\t\ttext={buttonText}\n\t\t\t\t\tjsx:command=\"cmd:Create|press\"\n\t\t\t\t\ttype={ButtonType.Transparent}\n\t\t\t\t\tvisible={standardAction.visible as unknown as boolean}\n\t\t\t\t\tenabled={standardAction.enabled as unknown as boolean}\n\t\t\t\t>\n\t\t\t\t\t{{\n\t\t\t\t\t\tcustomData,\n\t\t\t\t\t\tlayoutData: (\n\t\t\t\t\t\t\t<OverflowToolbarLayoutData\n\t\t\t\t\t\t\t\tpriority={standardAction.priority}\n\t\t\t\t\t\t\t\tgroup={standardAction.group}\n\t\t\t\t\t\t\t></OverflowToolbarLayoutData>\n\t\t\t\t\t\t)\n\t\t\t\t\t}}\n\t\t\t\t</Button>\n\t\t\t</ActionToolbarAction>\n\t\t);\n\t} else {\n\t\treturn (\n\t\t\t<MenuItem\n\t\t\t\tid={generate([table.contentId, standardAction.key, \"ContextMenu\"])}\n\t\t\t\ttext={buttonText}\n\t\t\t\tjsx:command=\"cmd:Create::ContextMenu|press\"\n\t\t\t\tvisible={standardAction.visible as unknown as boolean}\n\t\t\t\tenabled={standardAction.enabledForContextMenu as unknown as boolean}\n\t\t\t/>\n\t\t);\n\t}\n}\n\nfunction getCreateMenu(\n\tstandardAction: StandardAction,\n\ttable: TableBlockProperties,\n\tcollectionEntity: EntitySet | NavigationProperty,\n\tforContextMenu: boolean,\n\thandlerProvider: TableEventHandlerProvider\n): ActionToolbarAction | MenuItem {\n\tconst suffixResourceKey = collectionEntity.name;\n\tconst buttonText = table.getTranslatedText(\"M_COMMON_TABLE_CREATE\", undefined, suffixResourceKey);\n\tconst values = table.tableDefinition.control.nodeType!.values;\n\tconst hasCustomCreateEnablement = table.tableDefinition.control.createEnablement !== undefined;\n\n\tconst menuItems = values.map((allowedValue, index) => {\n\t\tconst modelName = !forContextMenu ? \"\" : \"contextmenu/\";\n\n\t\tconst isEnabled = hasCustomCreateEnablement\n\t\t\t? notEqual(pathInModel(`${modelName}createEnablement/Create_${index}`, \"internal\"), false)\n\t\t\t: undefined;\n\t\tconst id = forContextMenu\n\t\t\t? generate([table.contentId, allowedValue.value, \"ContextMenu\"])\n\t\t\t: generate([table.contentId, allowedValue.value]);\n\t\treturn (\n\t\t\t<MenuItem\n\t\t\t\tid={id}\n\t\t\t\ttext={allowedValue.text}\n\t\t\t\tenabled={isEnabled ? compileExpression(isEnabled) : undefined}\n\t\t\t\tpress={handlerProvider.getCreateMenuItemPressHandler(index, forContextMenu)}\n\t\t\t/>\n\t\t);\n\t});\n\n\tif (forContextMenu) {\n\t\treturn (\n\t\t\t<MenuItem\n\t\t\t\tid={generate([table.contentId, standardAction.key, \"ContextMenu\"])}\n\t\t\t\ttext={buttonText}\n\t\t\t\tvisible={standardAction.visible as unknown as boolean}\n\t\t\t\tenabled={standardAction.enabledForContextMenu as unknown as boolean}\n\t\t\t>\n\t\t\t\t{{\n\t\t\t\t\titems: menuItems !== undefined && menuItems.length > 0 ? menuItems : undefined\n\t\t\t\t}}\n\t\t\t</MenuItem>\n\t\t);\n\t}\n\n\treturn (\n\t\t<ActionToolbarAction id={generate([table.contentId, standardAction.key, \"ActionToolbarAction\"])} dt:designtime=\"not-adaptable-tree\">\n\t\t\t<MenuButton\n\t\t\t\ttext={buttonText}\n\t\t\t\ttype={ButtonType.Transparent}\n\t\t\t\tmenuPosition=\"BeginBottom\"\n\t\t\t\tid={generate([table.contentId, standardAction.key])}\n\t\t\t\tvisible={standardAction.visible as unknown as boolean}\n\t\t\t\tenabled={standardAction.enabled as unknown as boolean}\n\t\t\t>\n\t\t\t\t{{\n\t\t\t\t\tcustomData: [createCustomData(\"actionId\", generate([table.contentId, standardAction.key]))],\n\t\t\t\t\tmenu: <Menu>{menuItems}</Menu>,\n\t\t\t\t\tlayoutData: (\n\t\t\t\t\t\t<OverflowToolbarLayoutData\n\t\t\t\t\t\t\tpriority={standardAction.priority}\n\t\t\t\t\t\t\tgroup={standardAction.group}\n\t\t\t\t\t\t></OverflowToolbarLayoutData>\n\t\t\t\t\t)\n\t\t\t\t}}\n\t\t\t</MenuButton>\n\t\t</ActionToolbarAction>\n\t);\n}\n\n/**\n * Generates the xml string for the delete button.\n * @param standardAction Standard actions to be evaluated\n * @param table The instance of the table building block\n * @param forContextMenu Indicates if the action appears in the context menu. If false, the action appears in the table toolbar\n * @param collectionEntity The entity set of the collection\n * @returns The xml string for the delete button\n */\nfunction getDeleteButton(\n\tstandardAction: StandardAction,\n\ttable: TableBlockProperties,\n\tforContextMenu: boolean,\n\tcollectionEntity: EntitySet | NavigationProperty\n): ActionToolbarAction | MenuItem {\n\tconst suffixResourceKey = collectionEntity.name;\n\tconst buttonText = table.getTranslatedText(\"M_COMMON_TABLE_DELETE\", undefined, suffixResourceKey);\n\tif (!forContextMenu) {\n\t\t// for table toolbar\n\t\treturn (\n\t\t\t<ActionToolbarAction\n\t\t\t\tid={generate([table.contentId, standardAction.key, \"ActionToolbarAction\"])}\n\t\t\t\tdt:designtime=\"not-adaptable-tree\"\n\t\t\t>\n\t\t\t\t<Button\n\t\t\t\t\tid={generate([table.contentId, standardAction.key])}\n\t\t\t\t\ttext={buttonText}\n\t\t\t\t\tjsx:command=\"cmd:DeleteEntry|press\"\n\t\t\t\t\ttype={ButtonType.Transparent}\n\t\t\t\t\tvisible={standardAction.visible as unknown as boolean}\n\t\t\t\t\tenabled={standardAction.enabled as unknown as boolean}\n\t\t\t\t\tariaHasPopup=\"Dialog\"\n\t\t\t\t>\n\t\t\t\t\t{{\n\t\t\t\t\t\tlayoutData: (\n\t\t\t\t\t\t\t<OverflowToolbarLayoutData\n\t\t\t\t\t\t\t\tpriority={standardAction.priority}\n\t\t\t\t\t\t\t\tgroup={standardAction.group}\n\t\t\t\t\t\t\t></OverflowToolbarLayoutData>\n\t\t\t\t\t\t)\n\t\t\t\t\t}}\n\t\t\t\t</Button>\n\t\t\t</ActionToolbarAction>\n\t\t);\n\t} else {\n\t\t// for context menu\n\t\treturn (\n\t\t\t<MenuItem\n\t\t\t\tid={generate([table.contentId, standardAction.key, \"ContextMenu\"])}\n\t\t\t\ttext={buttonText}\n\t\t\t\tjsx:command=\"cmd:DeleteEntry::ContextMenu|press\"\n\t\t\t\tvisible={standardAction.visible as unknown as boolean}\n\t\t\t\tenabled={standardAction.enabledForContextMenu as unknown as boolean}\n\t\t\t/>\n\t\t);\n\t}\n}\n\n/**\n * Generates the xml string for standard actions based on the key of the standard action.\n * @param action The action to template\n * @param table The instance of the table building block\n * @param forContextMenu Indicates if the action appears in the context menu. If false, the action appears in the table toolbar\n * @param handlerProvider\n * @param collectionEntity The entity set of the collection\n * @returns The xml string representation of the standard action\n */\nfunction getStandardAction(\n\taction: StandardAction,\n\ttable: TableBlockProperties,\n\tforContextMenu: boolean,\n\thandlerProvider: TableEventHandlerProvider,\n\tcollectionEntity: EntitySet | NavigationProperty\n): ActionToolbarAction | MenuItem | ActionsPlaceholder | undefined {\n\tif (action.isTemplated === \"false\") {\n\t\treturn undefined;\n\t}\n\tif (table.tableDefinition.control.analyticalConfiguration?.aggregationOnLeafLevel && action.key !== StandardActionKeys.Create) {\n\t\taction = deepClone(action);\n\t\taction.enabled = compileExpression(and(resolveBindingString(action.enabled ?? \"\"), UI.isNodeLevelNavigable));\n\t\taction.enabledForContextMenu = compileExpression(\n\t\t\tand(resolveBindingString(action.enabledForContextMenu ?? \"\"), UI.isNodeLevelNavigable)\n\t\t);\n\t}\n\n\tswitch (action.key) {\n\t\tcase StandardActionKeys.Create:\n\t\t\tif (\n\t\t\t\t!table.tableDefinition.annotation.isInsertUpdateActionsTemplated ||\n\t\t\t\t// We only have Create on the ContextMenu on the TreeTable\n\t\t\t\t(table.tableDefinition.control.type !== \"TreeTable\" && forContextMenu)\n\t\t\t) {\n\t\t\t\treturn undefined;\n\t\t\t} else if (table.tableDefinition.control.nodeType) {\n\t\t\t\treturn getCreateMenu(action, table, collectionEntity, forContextMenu, handlerProvider);\n\t\t\t} else {\n\t\t\t\treturn getCreateButton(action, table, forContextMenu, collectionEntity);\n\t\t\t}\n\n\t\tcase StandardActionKeys.Delete:\n\t\t\treturn getDeleteButton(action, table, forContextMenu, collectionEntity);\n\t\tcase StandardActionKeys.Cut:\n\t\t\treturn getCutButton(action, table, forContextMenu);\n\t\tcase StandardActionKeys.Copy:\n\t\t\treturn getCopyButton(action, table, forContextMenu);\n\t\tcase StandardActionKeys.Paste:\n\t\t\treturn getPasteButton(action, table, forContextMenu);\n\n\t\tcase StandardActionKeys.MassEdit:\n\t\t\tif (table.tableDefinition.annotation.isInsertUpdateActionsTemplated) {\n\t\t\t\tif (!forContextMenu) {\n\t\t\t\t\t// for table toolbar\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<ActionToolbarAction\n\t\t\t\t\t\t\tid={generate([table.contentId, action.key, \"ActionToolbarAction\"])}\n\t\t\t\t\t\t\tdt:designtime=\"not-adaptable-tree\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tid={generate([table.contentId, action.key])}\n\t\t\t\t\t\t\t\ttext=\"{sap.fe.i18n>M_COMMON_TABLE_MASSEDIT}\"\n\t\t\t\t\t\t\t\tpress={handlerProvider.getMassEditButtonPressHandler(false)}\n\t\t\t\t\t\t\t\tvisible={action.visible as unknown as boolean}\n\t\t\t\t\t\t\t\tenabled={action.enabled as unknown as boolean}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{{\n\t\t\t\t\t\t\t\t\tlayoutData: (\n\t\t\t\t\t\t\t\t\t\t<OverflowToolbarLayoutData\n\t\t\t\t\t\t\t\t\t\t\tpriority={action.priority}\n\t\t\t\t\t\t\t\t\t\t\tgroup={action.group}\n\t\t\t\t\t\t\t\t\t\t></OverflowToolbarLayoutData>\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</ActionToolbarAction>\n\t\t\t\t\t);\n\t\t\t\t} else {\n\t\t\t\t\t// for context menu\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<MenuItem\n\t\t\t\t\t\t\tid={generate([table.contentId, action.key, \"ContextMenu\"])}\n\t\t\t\t\t\t\ttext=\"{sap.fe.i18n>M_COMMON_TABLE_MASSEDIT}\"\n\t\t\t\t\t\t\tpress={handlerProvider.getMassEditButtonPressHandler(true)}\n\t\t\t\t\t\t\tenabled={action.enabledForContextMenu as unknown as boolean}\n\t\t\t\t\t\t/>\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn undefined;\n\n\t\tcase StandardActionKeys.Insights:\n\t\t\tif (!forContextMenu) {\n\t\t\t\t// for table toolbar\n\t\t\t\treturn (\n\t\t\t\t\t<ActionToolbarAction\n\t\t\t\t\t\tid={generate([table.contentId, action.key, \"ActionToolbarAction\"])}\n\t\t\t\t\t\tdt:designtime={action.visible === \"true\" || action.visible === \"false\" ? undefined : \"not-adaptable-visibility\"}\n\t\t\t\t\t\tvisible={action.visible}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tid={generate([table.contentId, action.key])}\n\t\t\t\t\t\t\ttext=\"{sap.fe.i18n>M_COMMON_INSIGHTS_CARD}\"\n\t\t\t\t\t\t\tpress={handlerProvider.addCardToInsightsPress}\n\t\t\t\t\t\t\tvisible={action.visible as unknown as boolean}\n\t\t\t\t\t\t\tenabled={action.enabled as unknown as boolean}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{{\n\t\t\t\t\t\t\t\tlayoutData: (\n\t\t\t\t\t\t\t\t\t<OverflowToolbarLayoutData priority={action.priority ?? \"AlwaysOverflow\"} group={action.group} />\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</ActionToolbarAction>\n\t\t\t\t);\n\t\t\t}\n\t\t\treturn undefined;\n\n\t\tcase StandardActionKeys.MoveUp:\n\t\tcase StandardActionKeys.MoveDown:\n\t\t\treturn getMoveUpDownButton(action, table, forContextMenu);\n\n\t\tdefault:\n\t\t\treturn undefined;\n\t}\n}\n\n/**\n * Generates the xml string for standard, annotation, and custom actions of the table.\n * @param table The instance of the table building block\n * @param forContextMenu Indicates if the action appears in the context menu. If false, the action appears in the table toolbar\n * @param parameters\n * @param collectionContext The context of the collection\n * @param collectionEntity The entity set of the collection\n * @returns The xml string representation of the actions\n */\nexport function getActions(\n\ttable: TableBlockProperties,\n\tforContextMenu: boolean,\n\tparameters: TableTemplatingParameters,\n\tcollectionContext: Context,\n\tcollectionEntity: EntitySet | NavigationProperty\n): (ActionToolbarAction | MenuItem | ActionsPlaceholder)[] {\n\t// Apply primary action overflow protection before processing\n\tconst actionsWithOverflowProtection = ActionHelper.ensurePrimaryActionNeverOverflows(table.tableDefinition.actions);\n\n\treturn actionsWithOverflowProtection\n\t\t.map((action: BaseAction) => {\n\t\t\tswitch (action.type) {\n\t\t\t\tcase ActionType.Standard:\n\t\t\t\t\treturn getStandardAction(action as StandardAction, table, forContextMenu, parameters.handlerProvider, collectionEntity);\n\t\t\t\tcase ActionType.Copy:\n\t\t\t\t\treturn getCopyAction(action, table, forContextMenu, collectionContext, parameters);\n\t\t\t\tdefault:\n\t\t\t\t\treturn getAction(action, table, forContextMenu, collectionContext, parameters);\n\t\t\t}\n\t\t})\n\t\t.filter((action) => action !== undefined) as (ActionToolbarAction | MenuItem | ActionsPlaceholder)[];\n}\n\n/**\n * Generates the control for BasicSearch.\n * @param useBasicSearch\n * @param filterBarId\n * @param _collectionIsDraftEnabled\n * @param isSearchable\n * @returns The control of the BasicSearch\n */\nfunction getBasicSearch(\n\tuseBasicSearch: boolean,\n\tfilterBarId: string | undefined,\n\t_collectionIsDraftEnabled: boolean,\n\tisSearchable: boolean\n): ActionToolbarAction | undefined {\n\tif (useBasicSearch) {\n\t\treturn (\n\t\t\t<ActionToolbarAction\n\t\t\t\tid={generate([filterBarId, \"ActionToolbarAction\"])}\n\t\t\t\tlabel=\"{sap.fe.i18n>M_BASIC_SEARCH}\"\n\t\t\t\tdt:designtime=\"not-adaptable-tree\"\n\t\t\t>\n\t\t\t\t{{\n\t\t\t\t\taction: <BasicSearchMacro id={filterBarId} useDraftEditState={_collectionIsDraftEnabled} visible={isSearchable} />\n\t\t\t\t}}\n\t\t\t</ActionToolbarAction>\n\t\t);\n\t}\n\treturn undefined;\n}\n\n/**\n * Generates the control for table fullscreen button.\n * @param table The instance of the table building block\n * @returns The control of the button\n */\nfunction getFullScreen(table: TableBlockProperties): ActionToolbarAction | undefined {\n\tif (table.tableDefinition.control.enableFullScreen) {\n\t\treturn (\n\t\t\t<ActionToolbarAction\n\t\t\t\tid={generate([table.contentId, \"StandardAction\", \"FullScreen\", \"ActionToolbarAction\"])}\n\t\t\t\tlabel=\"{sap.fe.i18n>M_FULL_SCREEN}\"\n\t\t\t\tdt:designtime=\"not-adaptable-tree\"\n\t\t\t>\n\t\t\t\t{{\n\t\t\t\t\taction: <TableFullScreenButton id={generate([table.contentId, \"StandardAction\", \"FullScreen\"])} />\n\t\t\t\t}}\n\t\t\t</ActionToolbarAction>\n\t\t);\n\t}\n\treturn undefined;\n}\n\n/**\n * Generates the XML string for the Cut Button.\n * @param action The instance of the standard action\n * @param table The instance of the table building block\n * @param forContextMenu\n * @returns The XML string representation of the Cut Button\n */\nfunction getCutButton(action: StandardAction, table: TableBlockProperties, forContextMenu = false): ActionToolbarAction | MenuItem {\n\tif (!forContextMenu) {\n\t\t// for table toolbar\n\t\treturn (\n\t\t\t<ActionToolbarAction id={generate([table.contentId, \"Cut\", \"ActionToolbarAction\"])} dt:designtime=\"not-adaptable-tree\">\n\t\t\t\t<Button\n\t\t\t\t\tid={generate([table.contentId, \"Cut\"])}\n\t\t\t\t\ttext=\"{sap.fe.i18n>M_TABLE_CUT}\"\n\t\t\t\t\tjsx:command=\"cmd:Cut|press\"\n\t\t\t\t\tvisible={action.visible as unknown as boolean}\n\t\t\t\t\tenabled={action.enabled as unknown as boolean}\n\t\t\t\t>\n\t\t\t\t\t{{\n\t\t\t\t\t\tlayoutData: <OverflowToolbarLayoutData priority={action.priority} group={action.group}></OverflowToolbarLayoutData>\n\t\t\t\t\t}}\n\t\t\t\t</Button>\n\t\t\t</ActionToolbarAction>\n\t\t);\n\t} else {\n\t\t// for context menu\n\t\treturn (\n\t\t\t<MenuItem\n\t\t\t\tid={generate([table.contentId, \"Cut\", \"ContextMenu\"])}\n\t\t\t\ttext=\"{sap.fe.i18n>M_TABLE_CUT}\"\n\t\t\t\tjsx:command=\"cmd:Cut::ContextMenu|press\"\n\t\t\t\tvisible={action.visible as unknown as boolean}\n\t\t\t\tenabled={action.enabledForContextMenu as unknown as boolean}\n\t\t\t/>\n\t\t);\n\t}\n}\n\n/**\n * Generates the XML string for the Copy button.\n * @param action The instance of the standardAction.\n * @param table The instance of the Table building block.\n * @param forContextMenu\n * @returns The XML string representation of the Cut button.\n */\nfunction getCopyButton(action: StandardAction, table: TableBlockProperties, forContextMenu = false): ActionToolbarAction | MenuItem {\n\tif (!forContextMenu) {\n\t\t// for table toolbar\n\t\treturn (\n\t\t\t<ActionToolbarAction id={generate([table.contentId, \"Copy\", \"ActionToolbarAction\"])} dt:designtime=\"not-adaptable-tree\">\n\t\t\t\t<Button\n\t\t\t\t\tid={generate([table.contentId, \"Copy\"])}\n\t\t\t\t\ttext=\"{sap.fe.i18n>M_TABLE_COPY}\"\n\t\t\t\t\tjsx:command=\"cmd:Copy|press\"\n\t\t\t\t\tvisible={action.visible as unknown as boolean}\n\t\t\t\t\tenabled={action.enabled as unknown as boolean}\n\t\t\t\t>\n\t\t\t\t\t{{\n\t\t\t\t\t\tlayoutData: <OverflowToolbarLayoutData priority={action.priority} group={action.group}></OverflowToolbarLayoutData>\n\t\t\t\t\t}}\n\t\t\t\t</Button>\n\t\t\t</ActionToolbarAction>\n\t\t);\n\t} else {\n\t\t// for context menu\n\t\treturn (\n\t\t\t<MenuItem\n\t\t\t\tid={generate([table.contentId, \"Copy\", \"ContextMenu\"])}\n\t\t\t\ttext=\"{sap.fe.i18n>M_TABLE_COPY}\"\n\t\t\t\tjsx:command=\"cmd:Copy::ContextMenu|press\"\n\t\t\t\tvisible={action.visible as unknown as boolean}\n\t\t\t\tenabled={action.enabledForContextMenu as unknown as boolean}\n\t\t\t/>\n\t\t);\n\t}\n}\n\nfunction getMoveUpDownButton(action: StandardAction, table: TableBlockProperties, forContextMenu: boolean): ActionToolbarAction | MenuItem {\n\tconst forMoveUp = action.key === StandardActionKeys.MoveUp;\n\tif (!forContextMenu) {\n\t\t// for table toolbar\n\t\treturn (\n\t\t\t<ActionToolbarAction\n\t\t\t\tid={generate([table.contentId, action.key, \"ActionToolbarAction\"])}\n\t\t\t\tvisible={action.visible}\n\t\t\t\tdt:designtime=\"not-adaptable-tree\"\n\t\t\t>\n\t\t\t\t<Button\n\t\t\t\t\tid={generate([table.contentId, action.key])}\n\t\t\t\t\ttext={forMoveUp ? \"{sap.fe.i18n>M_TABLE_MOVE_UP}\" : \"{sap.fe.i18n>M_TABLE_MOVE_DOWN}\"}\n\t\t\t\t\tjsx:command={forMoveUp ? \"cmd:TableMoveElementUp|press\" : \"cmd:TableMoveElementDown|press\"}\n\t\t\t\t\tvisible={action.visible as unknown as boolean}\n\t\t\t\t\tenabled={action.enabled as unknown as boolean}\n\t\t\t\t>\n\t\t\t\t\t{{\n\t\t\t\t\t\tlayoutData: <OverflowToolbarLayoutData priority={action.priority} group={action.group}></OverflowToolbarLayoutData>\n\t\t\t\t\t}}\n\t\t\t\t</Button>\n\t\t\t</ActionToolbarAction>\n\t\t);\n\t} else {\n\t\t// for context menu\n\t\treturn (\n\t\t\t<MenuItem\n\t\t\t\tid={generate([table.contentId, action.key, \"ContextMenu\"])}\n\t\t\t\ttext={forMoveUp ? \"{sap.fe.i18n>M_TABLE_MOVE_UP}\" : \"{sap.fe.i18n>M_TABLE_MOVE_DOWN}\"}\n\t\t\t\tjsx:command={forMoveUp ? \"cmd:TableMoveElementUp::ContextMenu|press\" : \"cmd:TableMoveElementDown::ContextMenu|press\"}\n\t\t\t\tvisible={action.visible as unknown as boolean}\n\t\t\t\tenabled={action.enabledForContextMenu as unknown as boolean}\n\t\t\t/>\n\t\t);\n\t}\n}\n/**\n * Generates the XML string for the Paste Button.\n * @param action The Paste action\n * @param table The instance of the table building block\n * @param forContextMenu Indicates if the action appears in the context menu. If false, the action appears in the table toolbar\n * @returns The XML string representation of the Paste Button\n */\nfunction getPasteButton(\n\taction: StandardAction,\n\ttable: TableBlockProperties,\n\tforContextMenu = false\n): ActionToolbarAction | MenuItem | undefined {\n\tconst tableType = table.tableDefinition.control.type;\n\tif (tableType === \"TreeTable\") {\n\t\tif (!forContextMenu) {\n\t\t\t// for table toolbar\n\t\t\treturn (\n\t\t\t\t<ActionToolbarAction id={generate([table.contentId, \"Paste\", \"ActionToolbarAction\"])} dt:designtime=\"not-adaptable-tree\">\n\t\t\t\t\t<Button\n\t\t\t\t\t\tid={generate([table.contentId, \"Paste\"])}\n\t\t\t\t\t\ttext=\"{sap.fe.i18n>M_PASTE}\"\n\t\t\t\t\t\tjsx:command=\"cmd:Paste|press\"\n\t\t\t\t\t\tvisible={action.visible as unknown as boolean}\n\t\t\t\t\t\tenabled={action.enabled as unknown as boolean}\n\t\t\t\t\t>\n\t\t\t\t\t\t{{\n\t\t\t\t\t\t\tlayoutData: (\n\t\t\t\t\t\t\t\t<OverflowToolbarLayoutData priority={action.priority} group={action.group}></OverflowToolbarLayoutData>\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t}}\n\t\t\t\t\t</Button>\n\t\t\t\t</ActionToolbarAction>\n\t\t\t);\n\t\t} else {\n\t\t\t// for Context Menu\n\t\t\treturn (\n\t\t\t\t<MenuItem\n\t\t\t\t\tid={generate([table.contentId, \"Paste\", \"ContextMenu\"])}\n\t\t\t\t\ttext=\"{sap.fe.i18n>M_PASTE}\"\n\t\t\t\t\tjsx:command=\"cmd:Paste::ContextMenu|press\"\n\t\t\t\t\tvisible={action.visible as unknown as boolean}\n\t\t\t\t\tenabled={action.enabledForContextMenu as unknown as boolean}\n\t\t\t\t/>\n\t\t\t);\n\t\t}\n\t}\n\treturn undefined;\n}\n\n/**\n * Generates the XML string for actions.\n * @param table The instance of the table building block\n * @param parameters\n * @param collectionContext The context of the collection\n * @param collectionEntity The entity set of the collection\n * @returns The XML string representation of the actions\n */\nexport function getTableActionsTemplate(\n\ttable: TableBlockProperties,\n\tparameters: TableTemplatingParameters,\n\tcollectionContext: Context,\n\tcollectionEntity: EntitySet | NavigationProperty\n): Control[] {\n\tconst _collectionIsDraftEnabled = ModelHelper.isDraftNode(collectionEntity) || ModelHelper.isDraftRoot(collectionEntity);\n\tlet searchable: boolean;\n\tif (table.isSearchable === false) {\n\t\tsearchable = false;\n\t} else {\n\t\tsearchable = table.tableDefinition.annotation.searchable;\n\t}\n\n\tconst actions: (ActionToolbarAction | MenuItem | ActionsPlaceholder)[] = [];\n\tconst basicSearch = getBasicSearch(!!table.useBasicSearch, table.filterBar, _collectionIsDraftEnabled, searchable);\n\tif (basicSearch) {\n\t\tactions.push(basicSearch);\n\t}\n\tactions.push(...getActions(table, false, parameters, collectionContext, collectionEntity));\n\tconst fullScreen = getFullScreen(table);\n\tif (fullScreen) {\n\t\tactions.push(fullScreen);\n\t}\n\n\treturn actions as Control[];\n}\n\n/**\n * Generates the xml string for context menu actions.\n * @param table The instance of the table building block\n * @param parameters\n * @param collectionContext The context of the collection\n * @param collectionEntity The entity set of the collection\n * @returns The xml string representation of the actions\n */\nexport function getTableContextMenuTemplate(\n\ttable: TableBlockProperties,\n\tparameters: TableTemplatingParameters,\n\tcollectionContext: Context,\n\tcollectionEntity: EntitySet | NavigationProperty\n): MenuItem[] {\n\tconst template: MenuItem[] = getActions(table, true, parameters, collectionContext, collectionEntity) as unknown as MenuItem[];\n\tif (table.tableDefinition.control.type === \"TreeTable\") {\n\t\ttemplate.push(getExpandedCollapseActions(table, true, parameters.handlerProvider.expandNode));\n\t\ttemplate.push(getExpandedCollapseActions(table, false, parameters.handlerProvider.collapseNode));\n\t}\n\treturn template;\n}\n\nfunction getExpandedCollapseActions(table: TableBlockProperties, expand: boolean, pressHandler?: (e: UI5Event) => void): MenuItem {\n\tconst enableExpression = expand\n\t\t? and(\n\t\t\t\tequal(pathInModel(\"contextmenu/isExpandable\", \"internal\"), true),\n\t\t\t\tequal(pathInModel(\"contextmenu/numberOfSelectedContexts\", \"internal\"), 1)\n\t\t  )\n\t\t: and(\n\t\t\t\tequal(pathInModel(\"contextmenu/isCollapsable\", \"internal\"), true),\n\t\t\t\tequal(pathInModel(\"contextmenu/numberOfSelectedContexts\", \"internal\"), 1)\n\t\t  );\n\treturn (\n\t\t<MenuItem\n\t\t\tid={generate([table.contentId, expand ? \"Expand\" : \"Collapse\", \"ContextMenu\"])}\n\t\t\ttext={expand ? \"{sap.fe.i18n>M_TABLE_CONTEXTMENU_EXPAND}\" : \"{sap.fe.i18n>M_TABLE_CONTEXTMENU_COLLAPSE}\"}\n\t\t\tpress={pressHandler}\n\t\t\tenabled={enableExpression}\n\t\t/>\n\t);\n}\n"],"mappings":"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","ignoreList":[],"file":"ActionsTemplating-dbg.js"}