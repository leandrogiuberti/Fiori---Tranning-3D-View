{"version":3,"file":"TreeTable.js","names":["TreeTable","_dec","defineUI5Class","convertBuildingBlockMetadata","TreeTableBlock","_dec2","xmlEventHandler","_class","_class2","_BuildingBlockWithTem","props","others","_this","call","this","createProxyMethods","_exports","_inheritsLoose","_proto","prototype","_fireEvent","ui5Event","_controller","eventId","actions","getAggregation","action","find","a","getParameter","endsWith","getKey","fireEvent","getParameters","getLayoutData","FlexItemData","maxWidth","setMetaPath","metaPath","setProperty","getMetaPath","getProperty","setIgnoredFields","ignoredFields","getIgnoredFields","addColumn","column","addAggregation","removeColumn","removeAggregation","addAction","removeAction","createContent","async","owner","shouldRebind","content","getRowBinding","getCurrentContexts","length","rebind","BuildingBlockWithTemplating","_applyDecoratedDescriptor","Object","getOwnPropertyDescriptor"],"sources":["./TreeTable.tsx"],"sourcesContent":["import type { ConvertContextToString } from \"sap/fe/base/ClassSupport\";\nimport { defineUI5Class, xmlEventHandler, type EnhanceWithUI5, type PropertiesOf } from \"sap/fe/base/ClassSupport\";\nimport type PageController from \"sap/fe/core/PageController\";\nimport type TemplateComponent from \"sap/fe/core/TemplateComponent\";\nimport { convertBuildingBlockMetadata } from \"sap/fe/core/buildingBlocks/templating/BuildingBlockSupport\";\nimport BuildingBlockWithTemplating from \"sap/fe/macros/controls/BuildingBlockWithTemplating\";\nimport type Action from \"sap/fe/macros/table/Action\";\nimport type Column from \"sap/fe/macros/table/Column\";\nimport type TableAPI from \"sap/fe/macros/table/TableAPI\";\nimport TreeTableBlock from \"sap/fe/macros/table/TreeTable.block\";\nimport FlexItemData from \"sap/m/FlexItemData\";\nimport type UI5Event from \"sap/ui/base/Event\";\nimport type { $ControlSettings } from \"sap/ui/mdc/Control\";\n\n/**\n * Building block used to create a table based on the metadata provided by OData V4.\n * <br>\n * Usually, a LineItem, PresentationVariant or SelectionPresentationVariant annotation is expected, but the Table building block can also be used to display an EntitySet.\n * <br>\n * If a PresentationVariant is specified, then it must have UI.LineItem as the first property of the Visualizations.\n * <br>\n * If a SelectionPresentationVariant is specified, then it must contain a valid PresentationVariant that also has a UI.LineItem as the first property of the Visualizations.\n *\n * Usage example:\n * <pre>\n * sap.ui.require([\"sap/fe/macros/table/TreeTable\"], function(TreeTable) {\n * \t ...\n * \t new TreeTable(\"myTable\", {metaPath:\"@com.sap.vocabularies.UI.v1.LineItem\"})\n * })\n * </pre>\n *\n * This is currently an experimental API because the structure of the generated content will change to come closer to the Table that you get out of templates.\n * The public method and property will not change but the internal structure will so be careful on your usage.\n * @public\n * @ui5-experimental-since 1.125.0\n * @since 1.125.0\n * @mixes sap.fe.macros.TreeTable\n */\n@defineUI5Class(\"sap.fe.macros.table.TreeTable\", convertBuildingBlockMetadata(TreeTableBlock))\nexport default class TreeTable extends BuildingBlockWithTemplating {\n\tconstructor(props?: ConvertContextToString<PropertiesOf<TreeTableBlock>> & $ControlSettings, others?: $ControlSettings) {\n\t\tsuper(props, others);\n\t\tthis.createProxyMethods([\n\t\t\t\"getSelectedContexts\",\n\t\t\t\"addMessage\",\n\t\t\t\"removeMessage\",\n\t\t\t\"refresh\",\n\t\t\t\"getPresentationVariant\",\n\t\t\t\"setPresentationVariant\",\n\t\t\t\"getCurrentVariantKey\",\n\t\t\t\"setCurrentVariantKey\",\n\t\t\t\"getSelectionVariant\",\n\t\t\t\"setSelectionVariant\"\n\t\t]);\n\t}\n\n\t@xmlEventHandler()\n\t_fireEvent(ui5Event: UI5Event<{ id: string }>, _controller: PageController, eventId: string): void {\n\t\tconst actions = this.getAggregation(\"actions\") as EnhanceWithUI5<Action>[] | undefined;\n\t\tif (actions) {\n\t\t\tconst action = actions.find((a) => ui5Event.getParameter(\"id\").endsWith(\"::\" + a.getKey()));\n\t\t\taction?.fireEvent(eventId, ui5Event.getParameters());\n\t\t\treturn;\n\t\t}\n\t\tthis.fireEvent(eventId, ui5Event.getParameters());\n\t}\n\n\tgetLayoutData(): FlexItemData {\n\t\treturn new FlexItemData({ maxWidth: \"100%\" });\n\t}\n\n\t/**\n\t * Sets the path to the metadata that should be used to generate the table.\n\t * @param metaPath The path to the metadata\n\t * @returns Reference to this in order to allow method chaining\n\t * @ui5-experimental-since 1.125.0\n\t * @since 1.125.0\n\t * @public\n\t */\n\tsetMetaPath(metaPath: string): this {\n\t\treturn this.setProperty(\"metaPath\", metaPath);\n\t}\n\n\t/**\n\t * Gets the path to the metadata that should be used to generate the table.\n\t * @returns The path to the metadata\n\t * @ui5-experimental-since 1.125.0\n\t * @since 1.125.0\n\t * @public\n\t */\n\tgetMetaPath(): string {\n\t\treturn this.getProperty(\"metaPath\");\n\t}\n\n\t/**\n\t * Sets the fields that should be ignored when generating the table.\n\t * @param ignoredFields The fields to ignore\n\t * @returns Reference to this in order to allow method chaining\n\t * @ui5-experimental-since 1.125.0\n\t * @since 1.125.0\n\t * @public\n\t */\n\tsetIgnoredFields(ignoredFields: string): this {\n\t\treturn this.setProperty(\"ignoredFields\", ignoredFields);\n\t}\n\n\t/**\n\t * Get the fields that should be ignored when generating the table.\n\t * @returns The value of the ignoredFields property\n\t * @ui5-experimental-since 1.125.0\n\t * @since 1.125.0\n\t * @public\n\t */\n\tgetIgnoredFields(): string {\n\t\treturn this.getProperty(\"ignoredFields\");\n\t}\n\n\t/**\n\t * Adds a column to the table.\n\t * @param column The column to add\n\t * @returns Reference to this in order to allow method chaining\n\t * @ui5-experimental-since 1.124.0\n\t * @since 1.124.0\n\t * @public\n\t */\n\taddColumn(column: Column): this {\n\t\treturn this.addAggregation(\"columns\", column);\n\t}\n\n\t/**\n\t * Removes a column from the table.\n\t * @param column The column to remove, or its index or ID\n\t * @returns The removed column or null\n\t * @ui5-experimental-since 1.125.0\n\t * @since 1.125.0\n\t * @public\n\t */\n\tremoveColumn(column: number | string | Column): Column | null {\n\t\treturn this.removeAggregation(\"columns\", column) as Column | null;\n\t}\n\n\t/**\n\t * Adds an action to the table.\n\t * @param action The action to add\n\t * @returns Reference to this in order to allow method chaining\n\t * @ui5-experimental-since 1.125.0\n\t * @since 1.125.0\n\t * @public\n\t */\n\taddAction(action: Action): this {\n\t\treturn this.addAggregation(\"actions\", action);\n\t}\n\n\t/**\n\t * Removes an action from the table.\n\t * @param action The action to remove, or its index or ID\n\t * @returns The removed action or null\n\t * @ui5-experimental-since 1.125.0\n\t * @since 1.125.0\n\t * @public\n\t */\n\tremoveAction(action: number | string | Action): Action | null {\n\t\treturn this.removeAggregation(\"actions\", action) as Action | null;\n\t}\n\n\tasync createContent(owner: EnhanceWithUI5<TemplateComponent>): Promise<void> {\n\t\tconst shouldRebind = (this.content as TableAPI)?.content.getRowBinding()?.getCurrentContexts().length > 0;\n\t\tawait super.createContent(owner);\n\t\tif (shouldRebind) {\n\t\t\t(this.content as TableAPI)?.content.rebind?.();\n\t\t}\n\t}\n}\n"],"mappings":";;;;s9BAcA,IAyBqBA,GAASC,EAD7BC,EAAe,gCAAiCC,EAA6BC,IAAgBC,EAkB5FC,IAAiBL,EAAAM,GAAAC,EAAA,SAAAC,GAhBlB,SAAAT,EAAYU,EAAiFC,GAA2B,IAAAC,EACvHA,EAAAH,EAAAI,KAAAC,KAAMJ,EAAOC,IAAOG,KACpBF,EAAKG,mBAAmB,CACvB,sBACA,aACA,gBACA,UACA,yBACA,yBACA,uBACA,uBACA,sBACA,wBACE,OAAAH,CACJ,CAACI,EAAAhB,EAAAiB,EAAAjB,EAAAS,GAAA,IAAAS,EAAAlB,EAAAmB,UAAAD,EAGDE,WADA,SACAA,EAAWC,EAAoCC,EAA6BC,GAC3E,MAAMC,EAAUV,KAAKW,eAAe,WACpC,GAAID,EAAS,CACZ,MAAME,EAASF,EAAQG,KAAMC,GAAMP,EAASQ,aAAa,MAAMC,SAAS,KAAOF,EAAEG,WACjFL,GAAQM,UAAUT,EAASF,EAASY,iBACpC,MACD,CACAnB,KAAKkB,UAAUT,EAASF,EAASY,gBAClC,EAACf,EAEDgB,cAAA,SAAAA,IACC,OAAO,IAAIC,EAAa,CAAEC,SAAU,QACrC,EAEAlB,EAQAmB,YAAA,SAAAA,EAAYC,GACX,OAAOxB,KAAKyB,YAAY,WAAYD,EACrC,EAEApB,EAOAsB,YAAA,SAAAA,IACC,OAAO1B,KAAK2B,YAAY,WACzB,EAEAvB,EAQAwB,iBAAA,SAAAA,EAAiBC,GAChB,OAAO7B,KAAKyB,YAAY,gBAAiBI,EAC1C,EAEAzB,EAOA0B,iBAAA,SAAAA,IACC,OAAO9B,KAAK2B,YAAY,gBACzB,EAEAvB,EAQA2B,UAAA,SAAAA,EAAUC,GACT,OAAOhC,KAAKiC,eAAe,UAAWD,EACvC,EAEA5B,EAQA8B,aAAA,SAAAA,EAAaF,GACZ,OAAOhC,KAAKmC,kBAAkB,UAAWH,EAC1C,EAEA5B,EAQAgC,UAAA,SAAAA,EAAUxB,GACT,OAAOZ,KAAKiC,eAAe,UAAWrB,EACvC,EAEAR,EAQAiC,aAAA,SAAAA,EAAazB,GACZ,OAAOZ,KAAKmC,kBAAkB,UAAWvB,EAC1C,EAACR,EAEKkC,cAANC,eAAMD,EAAcE,GACnB,MAAMC,EAAgBzC,KAAK0C,SAAsBA,QAAQC,iBAAiBC,qBAAqBC,OAAS,QACxGlD,EAAAU,UAAYiC,cAAavC,KAAAC,KAACwC,GAC1B,GAAIC,EAAc,CAChBzC,KAAK0C,SAAsBA,QAAQI,UACrC,CACD,EAAC,OAAA5D,CAAA,CAnHiB,CAjBoB6D,GAA2BC,EAAAtD,EAAAW,UAAA,cAAAd,GAAA0D,OAAAC,yBAAAxD,EAAAW,UAAA,cAAAX,EAAAW,WAAAX,KAAAD,GAAAS,EAAAhB,EAAA,OAAAgB,CAAA","ignoreList":[]}