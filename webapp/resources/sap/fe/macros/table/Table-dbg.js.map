{"version":3,"names":["Table","_dec","defineUI5Class","convertBuildingBlockMetadata","TableBlock","_dec2","xmlEventHandler","_class","_class2","_BuildingBlockWithTem","props","others","_this","call","createProxyMethods","_exports","_inheritsLoose","_proto","prototype","_fireEvent","ui5Event","_controller","eventId","actions","getAggregation","action","find","a","getParameter","endsWith","getKey","fireEvent","getParameters","getLayoutData","FlexItemData","maxWidth","setMetaPath","metaPath","setProperty","getMetaPath","getProperty","setIgnoredFields","ignoredFields","getIgnoredFields","addColumn","column","addAggregation","removeColumn","removeAggregation","addAction","removeAction","createContent","owner","shouldRebind","content","getRowBinding","getCurrentContexts","length","rebind","BuildingBlockWithTemplating","_applyDecoratedDescriptor","Object","getOwnPropertyDescriptor"],"sourceRoot":".","sources":["Table.tsx"],"sourcesContent":["import { defineUI5Class, xmlEventHandler, type EnhanceWithUI5, type PropertiesOf } from \"sap/fe/base/ClassSupport\";\nimport type PageController from \"sap/fe/core/PageController\";\nimport type TemplateComponent from \"sap/fe/core/TemplateComponent\";\nimport { convertBuildingBlockMetadata } from \"sap/fe/core/buildingBlocks/templating/BuildingBlockSupport\";\nimport BuildingBlockWithTemplating from \"sap/fe/macros/controls/BuildingBlockWithTemplating\";\nimport type Action from \"sap/fe/macros/table/Action\";\nimport type Column from \"sap/fe/macros/table/Column\";\nimport TableBlock from \"sap/fe/macros/table/Table.block\";\nimport type TableAPI from \"sap/fe/macros/table/TableAPI\";\nimport FlexItemData from \"sap/m/FlexItemData\";\nimport type UI5Event from \"sap/ui/base/Event\";\nimport type { $ControlSettings } from \"sap/ui/mdc/Control\";\n\n/**\n * Building block used to create a table based on the metadata provided by OData V4.\n * <br>\n * Usually, a LineItem, PresentationVariant or SelectionPresentationVariant annotation is expected, but the Table building block can also be used to display an EntitySet.\n * <br>\n * If a PresentationVariant is specified, then it must have UI.LineItem as the first property of the Visualizations.\n * <br>\n * If a SelectionPresentationVariant is specified, then it must contain a valid PresentationVariant that also has a UI.LineItem as the first property of the Visualizations.\n *\n * Usage example:\n * <pre>\n * sap.ui.require([\"sap/fe/macros/table/Table\"], function(Table) {\n * \t ...\n * \t new Table(\"myTable\", {metaPath:\"@com.sap.vocabularies.UI.v1.LineItem\"})\n * })\n * </pre>\n *\n * This is currently an experimental API because the structure of the generated content will change to come closer to the Table that you get out of templates.\n * The public method and property will not change but the internal structure will so be careful on your usage.\n * @public\n * @ui5-experimental-since 1.124.0\n * @since 1.124.0\n * @mixes sap.fe.macros.Table\n */\n@defineUI5Class(\"sap.fe.macros.table.Table\", convertBuildingBlockMetadata(TableBlock))\nexport default class Table extends BuildingBlockWithTemplating {\n\tconstructor(props?: PropertiesOf<TableBlock> & $ControlSettings, others?: $ControlSettings) {\n\t\tsuper(props, others);\n\t\tthis.createProxyMethods([\n\t\t\t\"getSelectedContexts\",\n\t\t\t\"addMessage\",\n\t\t\t\"removeMessage\",\n\t\t\t\"refresh\",\n\t\t\t\"getPresentationVariant\",\n\t\t\t\"setPresentationVariant\",\n\t\t\t\"getCurrentVariantKey\",\n\t\t\t\"setCurrentVariantKey\",\n\t\t\t\"getSelectionVariant\",\n\t\t\t\"setSelectionVariant\"\n\t\t]);\n\t}\n\n\t@xmlEventHandler()\n\t_fireEvent(ui5Event: UI5Event<{ id: string }>, _controller: PageController, eventId: string): void {\n\t\tconst actions = this.getAggregation(\"actions\") as EnhanceWithUI5<Action>[] | undefined;\n\t\tif (actions) {\n\t\t\tconst action = actions.find((a) => ui5Event.getParameter(\"id\").endsWith(\"::\" + a.getKey()));\n\t\t\taction?.fireEvent(eventId, ui5Event.getParameters());\n\t\t\treturn;\n\t\t}\n\t\tthis.fireEvent(eventId, ui5Event.getParameters());\n\t}\n\n\tgetLayoutData(): FlexItemData {\n\t\treturn new FlexItemData({ maxWidth: \"100%\" });\n\t}\n\n\t/**\n\t * Sets the path to the metadata that should be used to generate the table.\n\t * @param metaPath The path to the metadata\n\t * @returns Reference to this in order to allow method chaining\n\t * @ui5-experimental-since 1.124.0\n\t * @since 1.124.0\n\t * @public\n\t */\n\tsetMetaPath(metaPath: string): this {\n\t\treturn this.setProperty(\"metaPath\", metaPath);\n\t}\n\n\t/**\n\t * Gets the path to the metadata that should be used to generate the table.\n\t * @returns The path to the metadata\n\t * @ui5-experimental-since 1.124.0\n\t * @since 1.124.0\n\t * @public\n\t */\n\tgetMetaPath(): string {\n\t\treturn this.getProperty(\"metaPath\");\n\t}\n\n\t/**\n\t * Sets the fields that should be ignored when generating the table.\n\t * @param ignoredFields The fields to ignore\n\t * @returns Reference to this in order to allow method chaining\n\t * @ui5-experimental-since 1.124.0\n\t * @since 1.124.0\n\t * @public\n\t */\n\tsetIgnoredFields(ignoredFields: string): this {\n\t\treturn this.setProperty(\"ignoredFields\", ignoredFields);\n\t}\n\n\t/**\n\t * Get the fields that should be ignored when generating the table.\n\t * @returns The value of the ignoredFields property\n\t * @ui5-experimental-since 1.124.0\n\t * @since 1.124.0\n\t * @public\n\t */\n\tgetIgnoredFields(): string {\n\t\treturn this.getProperty(\"ignoredFields\");\n\t}\n\n\t/**\n\t * Adds a column to the table.\n\t * @param column The column to add\n\t * @returns Reference to this in order to allow method chaining\n\t * @ui5-experimental-since 1.124.0\n\t * @since 1.124.0\n\t * @public\n\t */\n\taddColumn(column: Column): this {\n\t\treturn this.addAggregation(\"columns\", column);\n\t}\n\n\t/**\n\t * Removes a column from the table.\n\t * @param column The column to remove, or its index or ID\n\t * @returns The removed column or null\n\t * @ui5-experimental-since 1.124.0\n\t * @since 1.124.0\n\t * @public\n\t */\n\tremoveColumn(column: number | string | Column): Column | null {\n\t\treturn this.removeAggregation(\"columns\", column) as Column | null;\n\t}\n\n\t/**\n\t * Adds an action to the table.\n\t * @param action The action to add\n\t * @returns Reference to this in order to allow method chaining\n\t * @ui5-experimental-since 1.124.0\n\t * @since 1.124.0\n\t * @public\n\t */\n\taddAction(action: Action): this {\n\t\treturn this.addAggregation(\"actions\", action);\n\t}\n\n\t/**\n\t * Removes an action from the table.\n\t * @param action The action to remove, or its index or ID\n\t * @returns The removed action or null\n\t * @ui5-experimental-since 1.124.0\n\t * @since 1.124.0\n\t * @public\n\t */\n\tremoveAction(action: number | string | Action): Action | null {\n\t\treturn this.removeAggregation(\"actions\", action) as Action | null;\n\t}\n\n\tasync createContent(owner: EnhanceWithUI5<TemplateComponent>): Promise<void> {\n\t\tconst shouldRebind = (this.content as TableAPI)?.content.getRowBinding()?.getCurrentContexts().length > 0;\n\t\tawait super.createContent(owner);\n\t\tif (shouldRebind) {\n\t\t\t(this.content as TableAPI)?.content.rebind?.();\n\t\t}\n\t}\n}\n"],"mappings":"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","ignoreList":[],"file":"Table-dbg.js"}