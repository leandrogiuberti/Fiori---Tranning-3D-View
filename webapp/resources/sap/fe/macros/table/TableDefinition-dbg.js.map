{"version":3,"names":["createTableDefinition","tableAPI","owner","_getOwner","metaModel","getMetaModel","Log","error","Error","metaPathContext","createBindingContext","getFullMetaPath","contextPathContext","contextPath","metaPath","contextObjectPath","getInvolvedDataModelObjects","initialConverterContext","MacroAPI","getConverterContext","appComponent","getAppComponent","models","preprocessorContext","visualizationPath","getVisualizationPath","tableSettings","getSettingsForManifest","extraManifestSettings","actions","columns","addSlotColumnsToExtraManifest","addSlotActionsToExtraManifest","extraParams","converterContext","associatedSelectionVariant","associatedSelectionVariantPath","svObjectPath","targetObject","visualizationDefinition","getDataVisualizationConfiguration","inMultiView","getRelativeAnnotationPath","fullyQualifiedName","getEntityType","getContextRelativeTargetObjectPath","isCondensedTableLayoutCompliant","useCondensedLayout","isMacroOrMultipleView","visualizations","find","viz","type","VisualizationType","Table","_exports","isAnnotationOfTerm","resolvedTarget","getEntityTypeAnnotation","getVisualizationsFromAnnotation","term","lineItemViz","visualization","annotationPath","removeUndefinedProperties","obj","Object","keys","forEach","key","undefined","customColumnDefinition","column","isColumn","isA","header","width","importance","horizontalAlign","widthIncludingColumnHeader","exportSettings","properties","tooltip","template","availability","required","anchor","placement","position","addActionToExtraManifest","action","command","enableOnSelect","visible","enabled","isAIOperation","priority","group","text","__noWrap","press","requiresSelection","afterExecution","enableAutoScroll","navigateToInstance","entries","length","defaultValuesFunction","actionsSettings","menu","map","subAction","defaultAction"],"sourceRoot":".","sources":["TableDefinition.ts"],"sourcesContent":["import {\n\tUIAnnotationTerms,\n\ttype LineItem,\n\ttype PresentationVariant,\n\ttype SelectionPresentationVariant,\n\ttype SelectionVariant,\n\ttype SelectionVariantType\n} from \"@sap-ux/vocabularies-types/vocabularies/UI\";\nimport Log from \"sap/base/Log\";\nimport { type TemplateProcessorSettings } from \"sap/fe/core/buildingBlocks/templating/BuildingBlockTemplateProcessor\";\nimport type ConverterContext from \"sap/fe/core/converters/ConverterContext\";\nimport {\n\tVisualizationType,\n\ttype AvailabilityType,\n\ttype CustomDefinedTableColumn,\n\ttype CustomDefinedTableColumnForOverride,\n\ttype Importance,\n\ttype TableManifestConfiguration\n} from \"sap/fe/core/converters/ManifestSettings\";\nimport { getInvolvedDataModelObjects } from \"sap/fe/core/converters/MetaModelConverter\";\nimport { type PageContextPathTarget } from \"sap/fe/core/converters/TemplateConverter\";\nimport { type ChartVisualization } from \"sap/fe/core/converters/controls/Common/Chart\";\nimport {\n\tgetDataVisualizationConfiguration,\n\tgetVisualizationsFromAnnotation,\n\ttype VisualizationAndPath\n} from \"sap/fe/core/converters/controls/Common/DataVisualization\";\nimport { type TableVisualization } from \"sap/fe/core/converters/controls/Common/Table\";\nimport { type Placement } from \"sap/fe/core/converters/helpers/ConfigurableObject\";\nimport { isAnnotationOfTerm } from \"sap/fe/core/helpers/TypeGuards\";\nimport { getContextRelativeTargetObjectPath, type DataModelObjectPath } from \"sap/fe/core/templating/DataModelPathHelper\";\nimport MacroAPI from \"../MacroAPI\";\nimport type Action from \"./Action\";\nimport type ActionGroup from \"./ActionGroup\";\nimport type ActionOverride from \"./ActionOverride\";\nimport type Column from \"./Column\";\nimport type TableAPI from \"./TableAPI\";\n\nexport function createTableDefinition(tableAPI: TableAPI): TableVisualization {\n\tconst owner = tableAPI._getOwner();\n\tconst metaModel = owner?.getMetaModel();\n\tif (!owner || !metaModel) {\n\t\tLog.error(\"Cannot create a table definition for a TableAPI without an owner or a metamodel\");\n\t\tthrow new Error(\"Cannot create a table definition for a TableAPI without an owner or a metamodel\");\n\t}\n\tconst metaPathContext = metaModel.createBindingContext(tableAPI.getFullMetaPath());\n\tconst contextPathContext = metaModel.createBindingContext(tableAPI.contextPath);\n\tif (!metaPathContext || !contextPathContext) {\n\t\tLog.error(`Incorrect metaPath (${tableAPI.metaPath}) or contextPath (${tableAPI.contextPath}) for tableAPI`);\n\t\tthrow new Error(\"Incorrect metaPath or contextPath for tableAPI\");\n\t}\n\n\ttableAPI.contextObjectPath = getInvolvedDataModelObjects<LineItem | PresentationVariant | SelectionPresentationVariant>(\n\t\tmetaPathContext,\n\t\tcontextPathContext\n\t);\n\n\tconst initialConverterContext = MacroAPI.getConverterContext(tableAPI.contextObjectPath, tableAPI.contextPath, {\n\t\tappComponent: owner.getAppComponent(),\n\t\tmodels: owner.preprocessorContext?.models\n\t} as TemplateProcessorSettings);\n\tconst visualizationPath = getVisualizationPath(tableAPI.contextObjectPath, initialConverterContext);\n\n\tconst tableSettings = tableAPI.getSettingsForManifest();\n\n\tconst extraManifestSettings: TableManifestConfiguration = {\n\t\tactions: {},\n\t\tcolumns: {},\n\t\ttableSettings\n\t};\n\n\t// Process custom actions and columns\n\taddSlotColumnsToExtraManifest(tableAPI, extraManifestSettings);\n\taddSlotActionsToExtraManifest(tableAPI, extraManifestSettings);\n\n\tconst extraParams: Record<string, unknown> = {};\n\textraParams[visualizationPath] = extraManifestSettings;\n\tconst converterContext = MacroAPI.getConverterContext(\n\t\ttableAPI.contextObjectPath,\n\t\ttableAPI.contextPath,\n\t\t{\n\t\t\tappComponent: owner?.getAppComponent(),\n\t\t\tmodels: owner?.preprocessorContext?.models\n\t\t} as TemplateProcessorSettings,\n\t\textraParams\n\t);\n\n\tlet associatedSelectionVariant: SelectionVariantType | undefined;\n\tif (tableAPI.associatedSelectionVariantPath) {\n\t\tconst svObjectPath = getInvolvedDataModelObjects<SelectionVariant>(\n\t\t\tmetaModel.createBindingContext(tableAPI.associatedSelectionVariantPath)!,\n\t\t\tcontextPathContext\n\t\t);\n\t\tassociatedSelectionVariant = svObjectPath.targetObject;\n\t}\n\n\tconst visualizationDefinition = getDataVisualizationConfiguration(\n\t\t(tableAPI.inMultiView && tableAPI.contextObjectPath.targetObject\n\t\t\t? converterContext.getRelativeAnnotationPath(\n\t\t\t\t\ttableAPI.contextObjectPath.targetObject.fullyQualifiedName,\n\t\t\t\t\tconverterContext.getEntityType()\n\t\t\t  )\n\t\t\t: getContextRelativeTargetObjectPath(tableAPI.contextObjectPath)) as string,\n\t\tconverterContext,\n\t\t{\n\t\t\tisCondensedTableLayoutCompliant: tableAPI.useCondensedLayout,\n\t\t\tassociatedSelectionVariant,\n\t\t\tisMacroOrMultipleView: tableAPI.inMultiView ?? true\n\t\t}\n\t);\n\n\t// take the (first) Table visualization\n\treturn visualizationDefinition.visualizations.find(\n\t\t(viz: TableVisualization | ChartVisualization) => viz.type === VisualizationType.Table\n\t) as TableVisualization;\n}\n\n/**\n * Returns the annotation path pointing to the visualization annotation (LineItem).\n * @param contextObjectPath The datamodel object path for the table\n * @param converterContext The converter context\n * @returns The annotation path\n */\nfunction getVisualizationPath(\n\tcontextObjectPath: DataModelObjectPath<LineItem | PresentationVariant | SelectionPresentationVariant>,\n\tconverterContext: ConverterContext<PageContextPathTarget>\n): string {\n\tconst metaPath = getContextRelativeTargetObjectPath(contextObjectPath) as string;\n\n\t// fallback to default LineItem if metapath is not set\n\tif (!metaPath) {\n\t\tLog.error(`Missing meta path parameter for LineItem`);\n\t\treturn `@${UIAnnotationTerms.LineItem}`;\n\t}\n\n\tif (isAnnotationOfTerm<LineItem>(contextObjectPath.targetObject, UIAnnotationTerms.LineItem)) {\n\t\treturn metaPath; // MetaPath is already pointing to a LineItem\n\t}\n\t//Need to switch to the context related the PV or SPV\n\tconst resolvedTarget = converterContext.getEntityTypeAnnotation(metaPath);\n\n\tlet visualizations: VisualizationAndPath[] = [];\n\tif (\n\t\tisAnnotationOfTerm<SelectionPresentationVariant>(contextObjectPath.targetObject, UIAnnotationTerms.SelectionPresentationVariant) ||\n\t\tisAnnotationOfTerm<PresentationVariant>(contextObjectPath.targetObject, UIAnnotationTerms.PresentationVariant)\n\t) {\n\t\tvisualizations = getVisualizationsFromAnnotation(contextObjectPath.targetObject, metaPath, resolvedTarget.converterContext, true);\n\t} else {\n\t\tLog.error(`Bad metapath parameter for table : ${contextObjectPath.targetObject!.term}`);\n\t}\n\n\tconst lineItemViz = visualizations.find((viz) => {\n\t\treturn viz.visualization.term === UIAnnotationTerms.LineItem;\n\t});\n\n\tif (lineItemViz) {\n\t\treturn lineItemViz.annotationPath;\n\t} else {\n\t\t// fallback to default LineItem if annotation missing in PV\n\t\tLog.error(`Bad meta path parameter for LineItem: ${contextObjectPath.targetObject!.term}`);\n\t\treturn `@${UIAnnotationTerms.LineItem}`; // Fallback\n\t}\n}\n\n/**\n * Removes all properties with the value of undefined from the object.\n * @param obj The object to remove the undefined properties from\n */\nfunction removeUndefinedProperties(obj: Record<string, unknown>): void {\n\tObject.keys(obj).forEach((key) => {\n\t\tif (obj[key] === undefined) {\n\t\t\tdelete obj[key];\n\t\t}\n\t});\n}\n\n/**\n * Adds the slot columns to the extra manifest settings.\n * @param tableAPI\n * @param extraManifestSettings\n */\nfunction addSlotColumnsToExtraManifest(tableAPI: TableAPI, extraManifestSettings: TableManifestConfiguration): void {\n\tlet customColumnDefinition: CustomDefinedTableColumn | (CustomDefinedTableColumnForOverride & { key: string });\n\n\ttableAPI.columns?.forEach((column) => {\n\t\tconst isColumn = column.isA<Column>(\"sap.fe.macros.table.Column\");\n\t\tif (isColumn) {\n\t\t\tcustomColumnDefinition = {\n\t\t\t\theader: column.header,\n\t\t\t\twidth: column.width,\n\t\t\t\timportance: column.importance as Importance,\n\t\t\t\thorizontalAlign: column.horizontalAlign,\n\t\t\t\twidthIncludingColumnHeader: column.widthIncludingColumnHeader,\n\t\t\t\texportSettings: column.exportSettings,\n\t\t\t\tproperties: column.properties,\n\t\t\t\ttooltip: column.tooltip,\n\t\t\t\ttemplate: column.template!,\n\t\t\t\tavailability: column.availability as AvailabilityType,\n\t\t\t\trequired: column.required,\n\t\t\t\ttype: \"Slot\"\n\t\t\t};\n\t\t} else {\n\t\t\tcustomColumnDefinition = {\n\t\t\t\tkey: column.key,\n\t\t\t\twidth: column.width,\n\t\t\t\timportance: column.importance as Importance,\n\t\t\t\thorizontalAlign: column.horizontalAlign,\n\t\t\t\twidthIncludingColumnHeader: column.widthIncludingColumnHeader,\n\t\t\t\texportSettings: column.exportSettings,\n\t\t\t\tavailability: column.availability as AvailabilityType\n\t\t\t};\n\t\t}\n\n\t\t// Remove all undefined properties, so that they don't erase what is set in the manifest\n\t\t// (necessary because manifest-based columns are transformed into slot columns and we don't copy\n\t\t// all their properties in the XML)\n\t\tremoveUndefinedProperties(customColumnDefinition);\n\n\t\tif (isColumn && (column.anchor || column.placement)) {\n\t\t\tcustomColumnDefinition.position = {\n\t\t\t\tanchor: column.anchor,\n\t\t\t\tplacement: (column.placement ?? \"After\") as Placement\n\t\t\t};\n\t\t}\n\n\t\textraManifestSettings.columns![column.key] = customColumnDefinition;\n\t});\n}\n\n/**\n * Adds the slot actions to the extra manifest settings.\n * @param tableAPI\n * @param extraManifestSettings\n */\nfunction addSlotActionsToExtraManifest(tableAPI: TableAPI, extraManifestSettings: TableManifestConfiguration): void {\n\tfunction addActionToExtraManifest(action: Action | ActionOverride): void {\n\t\tconst actions = extraManifestSettings.actions!;\n\t\tconst key = action.key;\n\t\tactions[key] = {\n\t\t\tposition: {\n\t\t\t\tplacement: (action.placement ?? \"After\") as Placement,\n\t\t\t\tanchor: action.anchor\n\t\t\t},\n\t\t\tcommand: action.command,\n\t\t\tenableOnSelect: action.enableOnSelect,\n\t\t\tvisible: action.visible,\n\t\t\tenabled: action.enabled,\n\t\t\tisAIOperation: action.isAIOperation,\n\t\t\tpriority: action.priority,\n\t\t\tgroup: action.group ?? 0 // Default group to 0 if not defined\n\t\t};\n\t\tif (action.isA<Action>(\"sap.fe.macros.table.Action\")) {\n\t\t\tactions[key] = {\n\t\t\t\t...actions[key],\n\t\t\t\ttext: action.text,\n\t\t\t\t__noWrap: true,\n\t\t\t\tpress: \"some handler\", // The real handler will be triggered by firing the event on the Action object\n\t\t\t\trequiresSelection: action.requiresSelection\n\t\t\t};\n\t\t\treturn;\n\t\t}\n\t\tconst afterExecution = {\n\t\t\tenableAutoScroll: action[\"enableAutoScroll\"],\n\t\t\tnavigateToInstance: action[\"navigateToInstance\"]\n\t\t};\n\t\tremoveUndefinedProperties(afterExecution);\n\t\tactions[key] = {\n\t\t\t...actions[key],\n\t\t\tafterExecution: Object.entries(afterExecution).length ? afterExecution : undefined,\n\t\t\tdefaultValuesFunction: action.defaultValuesFunction\n\t\t};\n\t}\n\n\ttableAPI.actions?.forEach((action) => {\n\t\tif (action.isA<Action>(\"sap.fe.macros.table.Action\") || action.isA<ActionOverride>(\"sap.fe.macros.table.ActionOverride\")) {\n\t\t\t// Action or ActionOverride\n\t\t\taddActionToExtraManifest(action);\n\t\t} else {\n\t\t\tconst actionsSettings = extraManifestSettings.actions!;\n\t\t\tconst key = action.key;\n\t\t\tactionsSettings[key] = {\n\t\t\t\tposition: {\n\t\t\t\t\tplacement: (action.placement ?? \"After\") as Placement,\n\t\t\t\t\tanchor: action.anchor\n\t\t\t\t},\n\t\t\t\tmenu: action.actions.map((subAction) => subAction.key)\n\t\t\t};\n\t\t\tif (action.isA<ActionGroup>(\"sap.fe.macros.table.ActionGroup\")) {\n\t\t\t\tactionsSettings[key] = {\n\t\t\t\t\t...actionsSettings[key],\n\t\t\t\t\ttext: action.text,\n\t\t\t\t\tdefaultAction: action.defaultAction,\n\t\t\t\t\t__noWrap: true\n\t\t\t\t};\n\t\t\t}\n\t\t\taction.actions.forEach((subAction) => {\n\t\t\t\taddActionToExtraManifest(subAction);\n\t\t\t});\n\t\t}\n\t});\n}\n"],"mappings":"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","ignoreList":[],"file":"TableDefinition-dbg.js"}