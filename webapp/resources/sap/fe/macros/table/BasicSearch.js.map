{"version":3,"file":"BasicSearch.js","names":["BasicSearch","_dec","defineUI5Class","_dec2","implementInterface","_dec3","event","_dec4","_dec5","aggregation","type","multiple","_dec6","property","_class","_class2","_Control","_this","_len","arguments","length","args","Array","_key","call","this","_initializerDefineProperty","_descriptor","__implements__sap_ui_mdc_IFilterSource","_descriptor2","_descriptor3","_descriptor4","_descriptor5","_inheritsLoose","_proto","prototype","init","setAggregation","SearchField","placeholder","search","fireEvent","getConditions","useDraftEditState","getEditStatusFilter","getTypeMap","TypeMap","getPropertyInfoSet","name","path","groupLabel","group","typeConfig","getTypeConfig","dataType","hiddenFilter","getSearch","filter","getValue","validate","async","Promise","resolve","render","oRm","oControl","openStart","openEnd","renderControl","close","Control","_applyDecoratedDescriptor","configurable","enumerable","writable","initializer"],"sources":["./BasicSearch.ts"],"sourcesContent":["import type { EnhanceWithUI5 } from \"sap/fe/base/ClassSupport\";\nimport { aggregation, defineUI5Class, event, implementInterface, property } from \"sap/fe/base/ClassSupport\";\nimport type { PropertyInfo } from \"sap/fe/core/converters/controls/ListReport/FilterBar\";\nimport { getEditStatusFilter } from \"sap/fe/macros/filterBar/FilterHelper\";\nimport SearchField from \"sap/m/SearchField\";\nimport Control from \"sap/ui/core/Control\";\nimport type RenderManager from \"sap/ui/core/RenderManager\";\nimport type { ConditionObject } from \"sap/ui/mdc/condition/Condition\";\nimport type { IFilter } from \"sap/ui/mdc/library\";\nimport TypeMap from \"sap/ui/mdc/odata/v4/TypeMap\";\nimport type TypeConfig from \"sap/ui/mdc/TypeConfig\";\n\n@defineUI5Class(\"sap.fe.macros.table.BasicSearch\")\nclass BasicSearch extends Control implements IFilter {\n\t@implementInterface(\"sap.ui.mdc.IFilter\")\n\t__implements__sap_ui_mdc_IFilter = true;\n\n\t__implements__sap_ui_mdc_IFilterSource = true;\n\n\t/**\n\t * The 'filterChanged' can be optionally implemented to display an overlay\n\t * when the filter value of the IFilter changes\n\t */\n\t@event()\n\tfilterChanged!: Function;\n\n\t/**\n\t * The 'search' event is a mandatory IFilter event to trigger a search query\n\t * on the consuming control\n\t */\n\t@event()\n\tsearch!: Function;\n\n\t@aggregation({\n\t\ttype: \"sap.ui.core.Control\",\n\t\tmultiple: false\n\t})\n\tfilter!: SearchField;\n\n\t@property({\n\t\ttype: \"boolean\"\n\t})\n\tuseDraftEditState = false;\n\n\tinit(): void {\n\t\tthis.setAggregation(\n\t\t\t\"filter\",\n\t\t\tnew SearchField({\n\t\t\t\tplaceholder: \"{sap.fe.i18n>M_FILTERBAR_SEARCH}\",\n\t\t\t\tsearch: (): void => {\n\t\t\t\t\tthis.fireEvent(\"search\");\n\t\t\t\t}\n\t\t\t})\n\t\t);\n\t}\n\n\tgetConditions(): Record<string, ConditionObject[]> {\n\t\tif (this.useDraftEditState) {\n\t\t\treturn getEditStatusFilter();\n\t\t}\n\t\treturn {};\n\t}\n\n\tgetTypeMap(): object {\n\t\treturn TypeMap;\n\t}\n\n\tgetPropertyInfoSet(): PropertyInfo[] {\n\t\tif (this.useDraftEditState) {\n\t\t\treturn [\n\t\t\t\t{\n\t\t\t\t\tname: \"$editState\",\n\t\t\t\t\tpath: \"$editState\",\n\t\t\t\t\tgroupLabel: \"\",\n\t\t\t\t\tgroup: \"\",\n\t\t\t\t\ttypeConfig: TypeMap.getTypeConfig(\"sap.ui.model.odata.type.String\", {}, {}) as TypeConfig,\n\t\t\t\t\tdataType: \"sap.ui.model.odata.type.String\",\n\t\t\t\t\thiddenFilter: false\n\t\t\t\t}\n\t\t\t];\n\t\t}\n\t\treturn [];\n\t}\n\n\tgetSearch(): string {\n\t\treturn this.filter.getValue();\n\t}\n\n\tasync validate(): Promise<void> {\n\t\treturn Promise.resolve();\n\t}\n\n\tstatic render(oRm: RenderManager, oControl: BasicSearch): void {\n\t\toRm.openStart(\"div\", oControl);\n\t\toRm.openEnd();\n\t\toRm.renderControl(oControl.filter);\n\t\toRm.close(\"div\");\n\t}\n}\n\nexport default BasicSearch as unknown as EnhanceWithUI5<BasicSearch>;\n"],"mappings":";;;;kyCAaMA,GAAWC,EADhBC,EAAe,mCAAkCC,EAEhDC,EAAmB,sBAAqBC,EASxCC,IAAOC,EAOPD,IAAOE,EAGPC,EAAY,CACZC,KAAM,sBACNC,SAAU,QACTC,EAGDC,EAAS,CACTH,KAAM,YACLT,EAAAa,GAAAC,EAAA,SAAAC,GAAA,SAAAhB,IAAA,IAAAiB,EAAA,QAAAC,EAAAC,UAAAC,OAAAC,EAAA,IAAAC,MAAAJ,GAAAK,EAAA,EAAAA,EAAAL,EAAAK,IAAA,CAAAF,EAAAE,GAAAJ,UAAAI,EAAA,CAAAN,EAAAD,EAAAQ,KAAAC,QAAAJ,IAAAI,KAAAC,EAAAT,EAAA,mCAAAU,EAAAV,KAxBFW,uCAAyC,KAEzCF,EAAAT,EAAA,gBAAAY,EAAAZ,GAOAS,EAAAT,EAAA,SAAAa,EAAAb,GAAAS,EAAAT,EAAA,SAAAc,EAAAd,GAAAS,EAAAT,EAAA,oBAAAe,EAAAf,GAAA,OAAAA,CAAA,CAAAgB,EAAAjC,EAAAgB,GAAA,IAAAkB,EAAAlC,EAAAmC,UAAAD,EAkBAE,KAAA,SAAAA,IACCX,KAAKY,eACJ,SACA,IAAIC,EAAY,CACfC,YAAa,mCACbC,OAAQA,KACPf,KAAKgB,UAAU,aAInB,EAACP,EAEDQ,cAAA,SAAAA,IACC,GAAIjB,KAAKkB,kBAAmB,CAC3B,OAAOC,GACR,CACA,MAAO,CAAC,CACT,EAACV,EAEDW,WAAA,SAAAA,IACC,OAAOC,CACR,EAACZ,EAEDa,mBAAA,SAAAA,IACC,GAAItB,KAAKkB,kBAAmB,CAC3B,MAAO,CACN,CACCK,KAAM,aACNC,KAAM,aACNC,WAAY,GACZC,MAAO,GACPC,WAAYN,EAAQO,cAAc,iCAAkC,CAAC,EAAG,CAAC,GACzEC,SAAU,iCACVC,aAAc,OAGjB,CACA,MAAO,EACR,EAACrB,EAEDsB,UAAA,SAAAA,IACC,OAAO/B,KAAKgC,OAAOC,UACpB,EAACxB,EAEKyB,SAANC,eAAMD,IACL,OAAOE,QAAQC,SAChB,EAAC9D,EAEM+D,OAAP,SAAOA,EAAOC,EAAoBC,GACjCD,EAAIE,UAAU,MAAOD,GACrBD,EAAIG,UACJH,EAAII,cAAcH,EAASR,QAC3BO,EAAIK,MAAM,MACX,EAAC,OAAArE,CAAA,CAxDC,CA5BuBsE,GAAO3C,EAAA4C,EAAAxD,EAAAoB,UAAA,oCAAAhC,GAAA,CAAAqE,aAAA,KAAAC,WAAA,KAAAC,SAAA,KAAAC,YAAA,kBAEG,IAAI,IAAA9C,EAAA0C,EAAAxD,EAAAoB,UAAA,iBAAA9B,GAAA,CAAAmE,aAAA,KAAAC,WAAA,KAAAC,SAAA,KAAAC,YAAA,OAAA7C,EAAAyC,EAAAxD,EAAAoB,UAAA,UAAA5B,GAAA,CAAAiE,aAAA,KAAAC,WAAA,KAAAC,SAAA,KAAAC,YAAA,OAAA5C,EAAAwC,EAAAxD,EAAAoB,UAAA,UAAA3B,GAAA,CAAAgE,aAAA,KAAAC,WAAA,KAAAC,SAAA,KAAAC,YAAA,OAAA3C,EAAAuC,EAAAxD,EAAAoB,UAAA,qBAAAvB,GAAA,CAAA4D,aAAA,KAAAC,WAAA,KAAAC,SAAA,KAAAC,YAAA,kBA2BnB,KAAK,IAAA5D,KAAAD,GAAA,OA0DXd,CAAW","ignoreList":[]}