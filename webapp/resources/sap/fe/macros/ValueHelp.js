/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.define(["sap/fe/base/ClassSupport","sap/fe/core/buildingBlocks/BuildingBlock","sap/fe/core/helpers/ModelHelper","sap/fe/core/helpers/TypeGuards","sap/fe/macros/field/FieldHelper","sap/fe/macros/internal/valuehelp/ValueHelpTemplating","sap/ui/core/Element"],function(e,t,i,r,n,a,l){"use strict";var o,u,s,c,f,p,d,b,g,h,y,m,P,v,x,V,w,z,M,H,I,F,C;var O={};var _=a.getValueHelpTemplate;var B=r.isEntitySet;var E=e.property;var q=e.defineUI5Class;var D=e.association;function S(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function j(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,k(e,t)}function k(e,t){return k=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},k(e,t)}function G(e,t,i,r,n){var a={};return Object.keys(r).forEach(function(e){a[e]=r[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce(function(i,r){return r(e,t,i)||i},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer?(Object.defineProperty(e,t,a),null):a}function R(e,t){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let A=(o=q("sap.fe.macros.ValueHelp"),u=D({type:"string"}),s=E({type:"string"}),c=E({type:"string"}),f=E({type:"string"}),p=E({type:"boolean"}),d=E({type:"boolean"}),b=E({type:"boolean"}),g=E({type:"string"}),h=E({type:"boolean"}),y=D({type:"string"}),o(m=(P=function(e){function t(t,i){var r;if(t._flexId){t.id=t._flexId+"::Block"}r=e.call(this,t,i)||this;S(r,"idPrefix",v,r);S(r,"metaPath",x,r);S(r,"contextPath",V,r);S(r,"conditionModel",w,r);S(r,"filterFieldValueHelp",z,r);S(r,"useSemanticDateRange",M,r);S(r,"useMultiValueField",H,r);S(r,"navigationPrefix",I,r);S(r,"requiresValidation",F,r);S(r,"_flexId",C,r);r.requestGroupId="$auto.Workers";r.collaborationEnabled=false;return r}O=t;j(t,e);t.getValueHelpForMetaPath=function e(i,r,n,a){let o=arguments.length>4&&arguments[4]!==undefined?arguments[4]:false;const u=i.getView()?.getDependents();const s=r.startsWith("/")?r:n+"/"+r;const c=u?.find(e=>{if(e.isA("sap.fe.macros.ValueHelp")&&!o){const t=e.getMetaPath();const i=e.getContextPath();const r=t.startsWith("/")?t:i+"/"+t;return r===s}return false});if(!c){const e=new t({metaPath:r,contextPath:n,metaModel:a?.getId(),idPrefix:i.getView()?.createId("FieldValueHelp"),requiresValidation:o});i.getView().addDependent(e);if(!e.getContent()&&e.targetId){const t=l.getElementById(e.targetId);e.destroy();return t?.getParent()}return e}else{return c}};var r=t.prototype;r.onMetadataAvailable=function e(){if(!this.content){this._getOwner()?.runAsOwner(()=>{this.content=this.createContent()})}};r.createContent=function e(){const t=this.getMetaPathObject(this.metaPath,this.contextPath);const r=this._getOwner()?.getMetaModel(this.metaModel);if(t&&r){const e=t.getClosestEntitySet();if(B(e)){this.collaborationEnabled=i.isCollaborationDraftSupported(r)}let a=r.createBindingContext(t.getPath());if(a){if(this.filterFieldValueHelp){a=r.createBindingContext(n.valueHelpPropertyForFilterField(a))}else{a=r.createBindingContext(n.valueHelpProperty(a))}const e=this.idPrefix??"ValueHelp";const i=_(a,{metaPath:r.createBindingContext(t.getPath()),contextPath:r.createBindingContext(t.getContextPath()),filterFieldValueHelp:this.filterFieldValueHelp,useSemanticDateRange:this.useSemanticDateRange,useMultiValueField:this.useMultiValueField,navigationPrefix:this.navigationPrefix,requiresValidation:this.requiresValidation,_flexId:this._flexId,idPrefix:e,conditionModel:this.conditionModel,requestGroupId:this.requestGroupId,collaborationEnabled:this.collaborationEnabled});if(typeof i==="string"){this.targetId=i;return undefined}else{return i}}}};return t}(t),v=G(P.prototype,"idPrefix",[u],{configurable:true,enumerable:true,writable:true,initializer:null}),x=G(P.prototype,"metaPath",[s],{configurable:true,enumerable:true,writable:true,initializer:null}),V=G(P.prototype,"contextPath",[c],{configurable:true,enumerable:true,writable:true,initializer:null}),w=G(P.prototype,"conditionModel",[f],{configurable:true,enumerable:true,writable:true,initializer:function(){return""}}),z=G(P.prototype,"filterFieldValueHelp",[p],{configurable:true,enumerable:true,writable:true,initializer:function(){return false}}),M=G(P.prototype,"useSemanticDateRange",[d],{configurable:true,enumerable:true,writable:true,initializer:function(){return true}}),H=G(P.prototype,"useMultiValueField",[b],{configurable:true,enumerable:true,writable:true,initializer:function(){return false}}),I=G(P.prototype,"navigationPrefix",[g],{configurable:true,enumerable:true,writable:true,initializer:null}),F=G(P.prototype,"requiresValidation",[h],{configurable:true,enumerable:true,writable:true,initializer:function(){return false}}),C=G(P.prototype,"_flexId",[y],{configurable:true,enumerable:true,writable:true,initializer:null}),P))||m);O=A;return O},false);
//# sourceMappingURL=ValueHelp.js.map