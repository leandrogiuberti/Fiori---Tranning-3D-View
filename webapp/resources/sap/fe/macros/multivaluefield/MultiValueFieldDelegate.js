/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.define(["sap/fe/core/CommonUtils","sap/ui/mdc/field/FieldBaseDelegate","sap/ui/mdc/field/MultiValueFieldDelegate"],function(t,e,n){"use strict";return Object.assign({},n,{getDescription:function(t,n,i,s,o,a,u,d,l,c,r){if(i===undefined||i===null){return}return e.getDescription(t,n,i,s,o,a,undefined,undefined,l,c,r)},updateItems:async function(t,e,n){const i=n.getBinding("items");const s=i.isA("sap.ui.model.json.JSONListBinding");const o=i.isA("sap.ui.model.odata.v4.ODataListBinding");const a=n.getBindingInfo("items");const u=a.template.getBindingInfo("key");const d=a.template.getBindingInfo("description");const l=u&&u.parts[0].path;const c=d&&d.parts&&d.parts[0]&&d.parts[0].path;if(o){await this._updateItemsInODataListBinding(i,e,n,l,c)}else if(s){this._updateItemsInJsonListBinding(e,n,l,c)}},_updateItemsInODataListBinding:async function(e,n,i,s,o){const a=e.getCurrentContexts();const u=[];const d=t.getTargetView(i).getController();const l=n.map(function(t){return t.values[0]});const c=a.map(function(t){return t.getProperty(s)});const r=[];for(let t=0;t<a.length;t++){const e=a[t];if(!l.includes(e.getProperty(s))){r.push(d.editFlow.deleteMultipleDocuments([e],{controlId:i.getId(),noDialog:true}))}}for(const t of n){if(!c.includes(t.values[0])){const e={};if(s&&!s.includes("/")){e[s]=t.values[0];if(o&&!o.includes("/")&&o!==s){e[o]=t.values[1]}u.push(e)}}}if(u.length){r.push(d.editFlow.createMultipleDocuments(e,u,true,false))}return Promise.all(r)},_updateItemsInJsonListBinding:function(t,e,n,i){const s=e.getCustomData().find(t=>t.getKey()==="forwardedItemsBinding");const o=s?.getValue();o.splice(0);for(const e of t){const t={};t[n]=e.values[0];if(e.values[1]){t[i]=e.values[1]}o.push(t)}const a=s?.getBindingInfo("value")?.parts[0]?.model;s?.getModel(a)?.updateBindings(true)}})},false);
//# sourceMappingURL=MultiValueFieldDelegate.js.map