/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.define(["sap/base/Log","sap/fe/base/ClassSupport","sap/fe/core/CommonUtils","sap/m/Link","sap/m/MessageItem","sap/m/MessagePopover","sap/ui/core/CustomData","sap/ui/core/Lib","sap/ui/core/Messaging","sap/ui/performance/trace/FESRHelper"],function(e,t,s,i,n,a,r,o,p,c){"use strict";var l,u;function g(e){return new Promise((t,s)=>{sap.ui.require([e],s=>{if(!(s&&s.__esModule)){s=s===null||!(typeof s==="object"&&e.endsWith("/library"))?{default:s}:s;Object.defineProperty(s,"__esModule",{value:true})}t(s)},e=>{s(e)})})}var d=t.defineUI5Class;function m(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,f(e,t)}function f(e,t){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},f(e,t)}let y=(l=d("sap.fe.macros.messages.MessagePopover"),l(u=function(t){function l(){return t.apply(this,arguments)||this}m(l,t);var u=l.prototype;u.init=function e(){a.prototype.init.apply(this);this.setModel(p.getMessageModel(),"message");this.bindAggregation("items",{path:"message>/",length:9999,template:new n({type:"{message>type}",title:"{message>message}",description:"{message>description}",markupDescription:true,longtextUrl:"{message>descriptionUrl}",subtitle:"{message>additionalText}",activeTitle:"{= ${message>controlIds}.length > 0 ? true : false}",link:this.getLinkForErrorExplanation(this)||undefined})});this.setGroupItems(true)};u.getLinkForErrorExplanation=function t(n){const a=s.getAppComponent(n);const p=a.getEnvironmentCapabilities();if(p.environmentCapabilities.ErrorExplanation){const t=new i({text:o.getResourceBundleFor("sap.fe.macros").getText("C_GENERATE_EXPLANATION"),icon:"sap-icon://ai",customData:[new r({key:"message",value:"{message>message}"}),new r({key:"description",value:"{message>description}"}),new r({key:"descriptionUrl",value:"{message>descriptionUrl}"}),new r({key:"code",value:"{message>code}"})],visible:"{= ${message>type} !== 'Information' }",press:async function(){try{await p.prepareFeature("ErrorExplanation");const{explain:e}=await g("ux/eng/fioriai/reuse/errorexplanation/ErrorExplanation");const t=a.getManifestEntry("sap.fiori")?.registrationIds;const s=t&&t.length>0?t.join(","):"";const i={version:1,fioriId:s,appName:a.getManifestEntry("sap.app")?.title||undefined,componentName:a.getManifestEntry("sap.app")?.id||undefined};const n={version:1,message:this.data("message"),code:this.data("code"),description:this.data("description"),descriptionUrl:this.data("descriptionUrl")};await e(i,n)}catch(t){e.error("Error explanation failed",t)}}});c.setSemanticStepname(t,"press","fe4:ee:explain");return t}else{return null}};return l}(a))||u);return y},false);
//# sourceMappingURL=MessagePopover.js.map