{"version":3,"names":["TemplateContentView","CoreLibrary","InitialLoadMode","ListReportController","_dec","defineUI5Class","_dec2","usingExtension","InternalRouting","override","onAfterBinding","getView","getController","_onAfterBinding","_dec3","InternalIntentBasedNavigation","getEntitySet","base","getCurrentEntitySet","_dec4","SideEffects","SideEffectsOverride","_dec5","IntentBasedNavigation","IntentBasedNavigationOverride","_dec6","Share","ShareOverrides","_dec7","ViewState","ViewStateOverrides","_dec8","KPIManagement","_dec9","Placeholder","_dec10","publicExtension","_dec11","finalExtension","_dec12","privateExtension","_dec13","extensible","_dec14","_dec15","OverrideExecution","After","_dec16","_dec17","_dec18","_dec19","_class","_class2","_PageController","_this","_len","arguments","length","args","Array","_key","call","_initializerDefineProperty","_descriptor","_descriptor2","_descriptor3","_descriptor4","_descriptor5","_descriptor6","_descriptor7","_descriptor8","formatters","setALPControlMessageStrip","aIgnoredFields","bIsChart","oApplySupported","sText","oFilterBar","_getFilterBarControl","isArray","aIgnoredLabels","MessageStrip","getLabels","data","getResourceModel","bIsSearchIgnored","enableSearch","getALPText","getText","handlers","onInlineEditSave","inlineEditFlow","inlineEditSave","onFilterSearch","filterBarAPI","getParent","triggerSearch","onFiltersChanged","oEvent","oInternalModelContext","getBindingContext","onPendingFilters","getParameter","setProperty","_storeFilterBarSelectionVariant","onVariantSelected","parameters","getParameters","variantManagement","originalSource","currentVariantKey","multiModeControl","_getMultiModeControl","isA","invalidateContent","setFreezeContent","setTimeout","filterBar","dynamicPage","_getDynamicListReportControl","firstEmptyMandatoryField","getFilterItems","find","filterItem","getRequired","getConditions","setHeaderExpanded","_shouldAutoTriggerSearch","_getApplyAutomaticallyOnVariant","getExtensionAPI","updateAppState","onVariantSaved","onSearch","oMdcChart","getChartControl","bHideDraft","FilterUtils","getEditStateIsHideDraft","_updateALPNotApplicableFields","oPageInternalModelContext","sTemplateContentView","getProperty","getPath","Chart","hasPendingChartChanges","Table","hasPendingTableChanges","Device","system","desktop","getHeaderExpanded","StateUtil","retrieveExternalState","then","oExternalState","filterBarConditions","filter","catch","oError","Log","error","phone","oDynamicPage","_isInitLoadEnabled","setFilterToggleVisibility","onChevronPressNavigateOutBound","oController","sOutboundTarget","oContext","sCreatePath","_intentBasedNavigation","onChartSelectionChanged","getSource","getContent","oTable","_getTable","aData","ChartUtils","setChartFilters","rebind","onSegmentedButtonPressed","selectedKey","key","oChart","_updateTable","_updateChart","Hybrid","focusHandlingForSegmentedButton","onDynamicPageTitleStateChanged","event","InvisibleMessage","getInstance","announce","getAssignedFiltersText","filtersText","InvisibleMessageMode","Assertive","_inheritsLoose","_proto","prototype","extensionAPI","ExtensionAPI","onInit","PageController","apply","_hasMultiVisualizations","alpContentView","_getDefaultPath","getAppComponent","getRouterProxy","waitForRouteMatchBeforeNavigation","_setInitLoad","view","uiModel","getModel","path","getId","isEditable","bindElement","model","onBeforeRendering","dynmicPageHeaderTitle","getTitle","breadcrumbsBB","getBreadcrumbs","setBreadcrumbLinks","onExit","destroy","aTables","_getControls","updateActions","EditState","isEditStateDirty","table","oTableBinding","getRowBinding","tableAPI","CommonUtils","getRoutingService","waitForBindingCleanup","isAppComponentBusy","attachEventOnce","_updateTableActions","getTableDefinition","control","type","resetChanges","refresh","e","warning","setEditStateProcessed","internalModelContext","viewId","pageReady","waitFor","_applyAppState","environmentCapabilities","getEnvironmentCapabilities","isInsightsEnabled","onPageReady","mParameters","forceFocus","_setInitialFocus","getShellServices","setBackNavigation","undefined","onViewNeedsRefresh","slice","onAfterClear","aIBNActions","forEach","getIBNActions","updateDataFieldForIBNButtonsVisibility","updateMenuButtonVisiblity","_scrollTablesToRow","sRowPath","TableScroller","scrollTableToRow","_focusSilent","filterField","focusInfo","getFocusInfo","targetInfo","silent","focus","isHeaderExpanded","_isFilterBarHiddenUsed","getShowMessages","setShowMessages","oFilterItem","fieldToFocus","byId","_getFilterBarControlId","focusRow","_getPageTitleInformation","oManifestEntry","getManifestEntry","Promise","resolve","title","subtitle","subTitle","intent","icon","_getDynamicListReportControlId","_getAdaptationFilterBarControl","adaptationFilterBar","getInbuiltFilter","getAppStateHandler","applyAppState","enableRequests","_isFilterBarHidden","_isMultiMode","setCountsOutDated","_getSegmentedButton","sControl","sSegmentedButtonId","_getControlFromPageModelProperty","sPath","controlId","_getPageModel","_getVisualFilterBarControl","sVisualFilterBarId","StableIdHelper","generate","_getFilterBarVariantControl","_getIconTabBar","oControl","getSelectedInnerControl","content","sKey","aControls","oTabMultiMode","getItems","oItem","getKey","includes","push","defaultPath","ListReportTemplating","getDefaultPath","initLoadMode","getViewData","initialLoad","Enabled","_disableInitLoad","_applyAutomaticallyOnStandardVariant","variantManagementId","getVariantBackReference","getData","registerApplyAutomaticallyOnStandardVariant","bind","_setShareModel","fnGetUser","ObjectPath","get","oShareInfo","bookmarkTitle","document","bookmarkCustomUrl","sHash","hasher","getHash","window","location","href","isShareInJamActive","isJamActive","oTemplatePrivateModel","getOwnerComponent","mCache","ignoredFields","aCharts","sChartEntityPath","sChartEntitySet","sCacheKey","getNotApplicableFilters","hideFilterBar","useHiddenFilterBar","variants","getVariants","currentVariant","variant","oVM","Auto","getStandardVariantKey","getCurrentVariantKey","oConditions","startsWith","standardVariant","getExecuteOnSelect","isTableBound","oInnerChart","getControlDelegate","_getChart","isBound","getBindingInfo","buttonVisible","getSegmentedButton","setVisible","segmentedButtonId","addFocusDelegate","segmentedButton","UI5Element","getElementById","eventDelegate","onAfterRendering","removeEventDelegate","addEventDelegate","sv","getSelectionVariant","err","message","Error","String","getFilterBarSelectionVariant","SelectionVariant","_applyDecoratedDescriptor","configurable","enumerable","writable","initializer","Object","getOwnPropertyDescriptor"],"sourceRoot":".","sources":["ListReportController.controller.ts"],"sourcesContent":["import Log from \"sap/base/Log\";\nimport ObjectPath from \"sap/base/util/ObjectPath\";\nimport type DynamicPage from \"sap/f/DynamicPage\";\nimport type { DynamicPageTitle$StateChangeEvent } from \"sap/f/DynamicPageTitle\";\nimport { defineUI5Class, extensible, finalExtension, privateExtension, publicExtension, usingExtension } from \"sap/fe/base/ClassSupport\";\nimport CommonUtils from \"sap/fe/core/CommonUtils\";\nimport PageController from \"sap/fe/core/PageController\";\nimport IntentBasedNavigation from \"sap/fe/core/controllerextensions/IntentBasedNavigation\";\nimport InternalIntentBasedNavigation from \"sap/fe/core/controllerextensions/InternalIntentBasedNavigation\";\nimport InternalRouting from \"sap/fe/core/controllerextensions/InternalRouting\";\nimport KPIManagement from \"sap/fe/core/controllerextensions/KPIManagement\";\nimport Placeholder from \"sap/fe/core/controllerextensions/Placeholder\";\nimport Share from \"sap/fe/core/controllerextensions/Share\";\nimport SideEffects from \"sap/fe/core/controllerextensions/SideEffects\";\nimport ViewState from \"sap/fe/core/controllerextensions/ViewState\";\nimport type { ListReportDefinition } from \"sap/fe/core/converters/templates/ListReportConverter\";\nimport EditState from \"sap/fe/core/helpers/EditState\";\nimport MessageStrip from \"sap/fe/core/helpers/MessageStrip\";\nimport type { InternalModelContext } from \"sap/fe/core/helpers/ModelHelper\";\nimport { getResourceModel } from \"sap/fe/core/helpers/ResourceModelHelper\";\nimport * as StableIdHelper from \"sap/fe/core/helpers/StableIdHelper\";\nimport { generate } from \"sap/fe/core/helpers/StableIdHelper\";\nimport CoreLibrary from \"sap/fe/core/library\";\nimport type Breadcrumbs from \"sap/fe/macros/Breadcrumbs\";\nimport type ChartType from \"sap/fe/macros/Chart\";\nimport type MacroAPI from \"sap/fe/macros/MacroAPI\";\nimport type ChartDelegate from \"sap/fe/macros/chart/ChartDelegate\";\nimport ChartUtils from \"sap/fe/macros/chart/ChartUtils\";\nimport type FilterBar from \"sap/fe/macros/controls/FilterBar\";\nimport FilterUtils from \"sap/fe/macros/filter/FilterUtils\";\nimport type FilterBarAPI from \"sap/fe/macros/filterBar/FilterBarAPI\";\nimport type TableAPI from \"sap/fe/macros/table/TableAPI\";\nimport SelectionVariant from \"sap/fe/navigation/SelectionVariant\";\nimport ExtensionAPI from \"sap/fe/templates/ListReport/ExtensionAPI\";\nimport type MultipleModeControl from \"sap/fe/templates/ListReport/controls/MultipleModeControl\";\nimport SideEffectsOverride from \"sap/fe/templates/ListReport/overrides/SideEffects\";\nimport TableScroller from \"sap/fe/templates/TableScroller\";\nimport type IconTabBar from \"sap/m/IconTabBar\";\nimport type TabContainerItem from \"sap/m/TabContainerItem\";\nimport Device from \"sap/ui/Device\";\nimport type UI5Event from \"sap/ui/base/Event\";\nimport type Control from \"sap/ui/core/Control\";\nimport UI5Element from \"sap/ui/core/Element\";\nimport InvisibleMessage from \"sap/ui/core/InvisibleMessage\";\nimport { InvisibleMessageMode } from \"sap/ui/core/library\";\nimport OverrideExecution from \"sap/ui/core/mvc/OverrideExecution\";\nimport type VariantManagement from \"sap/ui/fl/variants/VariantManagement\";\nimport type { VariantManagement$SelectEvent } from \"sap/ui/fl/variants/VariantManagement\";\nimport type Chart from \"sap/ui/mdc/Chart\";\nimport type FilterField from \"sap/ui/mdc/FilterField\";\nimport type Table from \"sap/ui/mdc/Table\";\nimport type { FilterBarBase$FiltersChangedEvent } from \"sap/ui/mdc/filterbar/FilterBarBase\";\nimport StateUtil from \"sap/ui/mdc/p13n/StateUtil\";\nimport type JSONModel from \"sap/ui/model/json/JSONModel\";\nimport type Context from \"sap/ui/model/odata/v4/Context\";\nimport hasher from \"sap/ui/thirdparty/hasher\";\nimport * as ListReportTemplating from \"./ListReportTemplating\";\nimport IntentBasedNavigationOverride from \"./overrides/IntentBasedNavigation\";\nimport ShareOverrides from \"./overrides/Share\";\nimport ViewStateOverrides from \"./overrides/ViewState\";\n\nconst TemplateContentView = CoreLibrary.TemplateContentView,\n\tInitialLoadMode = CoreLibrary.InitialLoadMode;\n\n/**\n * Controller class for the list report page, used inside an SAP Fiori elements application.\n * @hideconstructor\n * @public\n */\n@defineUI5Class(\"sap.fe.templates.ListReport.ListReportController\")\nclass ListReportController extends PageController {\n\t@usingExtension(\n\t\tInternalRouting.override({\n\t\t\tonAfterBinding: function (this: InternalRouting) {\n\t\t\t\t(this.getView().getController() as ListReportController)._onAfterBinding();\n\t\t\t}\n\t\t})\n\t)\n\t_routing!: InternalRouting;\n\n\t@usingExtension(\n\t\tInternalIntentBasedNavigation.override({\n\t\t\tgetEntitySet: function (this: InternalIntentBasedNavigation) {\n\t\t\t\treturn (this.base as ListReportController).getCurrentEntitySet();\n\t\t\t}\n\t\t})\n\t)\n\t_intentBasedNavigation!: InternalIntentBasedNavigation;\n\n\t@usingExtension(SideEffects.override(SideEffectsOverride))\n\t_sideEffects!: SideEffects;\n\n\t@usingExtension(IntentBasedNavigation.override(IntentBasedNavigationOverride))\n\tintentBasedNavigation!: IntentBasedNavigation;\n\n\t@usingExtension(Share.override(ShareOverrides))\n\tshare!: Share;\n\n\t@usingExtension(ViewState.override(ViewStateOverrides))\n\tviewState!: ViewState;\n\n\t@usingExtension(KPIManagement)\n\tkpiManagement!: KPIManagement;\n\n\t@usingExtension(Placeholder)\n\tplaceholder!: Placeholder;\n\n\tprotected extensionAPI?: ExtensionAPI;\n\n\tprivate filterBarConditions?: unknown;\n\n\tprivate hasPendingChartChanges?: boolean;\n\n\tprivate hasPendingTableChanges?: boolean;\n\n\t/**\n\t * Get the extension API for the current page.\n\t * @public\n\t * @returns The extension API.\n\t */\n\t@publicExtension()\n\t@finalExtension()\n\tgetExtensionAPI(): ExtensionAPI {\n\t\tif (!this.extensionAPI) {\n\t\t\tthis.extensionAPI = new ExtensionAPI(this);\n\t\t}\n\t\treturn this.extensionAPI;\n\t}\n\n\tonInit(): void {\n\t\tPageController.prototype.onInit.apply(this);\n\t\tconst oInternalModelContext = this.getView().getBindingContext(\"internal\") as InternalModelContext;\n\t\tconst filterBar = this._getFilterBarControl();\n\t\tif (filterBar) {\n\t\t\tthis._storeFilterBarSelectionVariant(filterBar, oInternalModelContext);\n\t\t}\n\t\toInternalModelContext.setProperty(\"hasPendingFilters\", true);\n\t\toInternalModelContext.setProperty(\"hideDraftInfo\", false);\n\t\toInternalModelContext.setProperty(\"uom\", {});\n\t\toInternalModelContext.setProperty(\"scalefactor\", {});\n\t\toInternalModelContext.setProperty(\"scalefactorNumber\", {});\n\t\toInternalModelContext.setProperty(\"currency\", {});\n\t\toInternalModelContext.setProperty(\"isInsightsSupported\", false);\n\n\t\tif (this._hasMultiVisualizations()) {\n\t\t\tlet alpContentView = this._getDefaultPath();\n\t\t\tif (!Device.system.desktop && alpContentView === TemplateContentView.Hybrid) {\n\t\t\t\talpContentView = TemplateContentView.Chart;\n\t\t\t}\n\t\t\toInternalModelContext.setProperty(\"alpContentView\", alpContentView);\n\t\t}\n\n\t\t// Store conditions from filter bar\n\t\t// this is later used before navigation to get conditions applied on the filter bar\n\t\tthis.filterBarConditions = {};\n\n\t\t// As AppStateHandler.applyAppState triggers a navigation we want to make sure it will\n\t\t// happen after the routeMatch event has been processed (otherwise the router gets broken)\n\t\tthis.getAppComponent().getRouterProxy().waitForRouteMatchBeforeNavigation();\n\n\t\t// Configure the initial load settings\n\t\tthis._setInitLoad();\n\t\tconst view = this.getView();\n\t\tconst uiModel = view.getModel(\"ui\");\n\t\tconst path = `/${view.getId()}`;\n\t\tuiModel.setProperty(path, { isEditable: false });\n\t\tview.bindElement({ path, model: \"ui\" });\n\t}\n\n\tonBeforeRendering(): void {\n\t\tPageController.prototype.onBeforeRendering.apply(this);\n\t\tconst dynamicPage = this._getDynamicListReportControl();\n\t\tconst dynmicPageHeaderTitle = dynamicPage?.getTitle();\n\t\tconst breadcrumbsBB = dynmicPageHeaderTitle.getBreadcrumbs() as Breadcrumbs | undefined;\n\t\tif (breadcrumbsBB) {\n\t\t\tbreadcrumbsBB.setBreadcrumbLinks(\"\");\n\t\t}\n\t}\n\n\tonExit(): void {\n\t\tdelete this.filterBarConditions;\n\t\tif (this.extensionAPI) {\n\t\t\tthis.extensionAPI.destroy();\n\t\t}\n\t\tdelete this.extensionAPI;\n\t}\n\n\t_onAfterBinding(): void {\n\t\tconst aTables = this._getControls(\"table\") as Table[];\n\t\tlet updateActions = true;\n\t\tif (EditState.isEditStateDirty()) {\n\t\t\tthis._getMultiModeControl()?.invalidateContent();\n\t\t\tconst table = this._getTable();\n\t\t\tconst oTableBinding = table?.getRowBinding();\n\t\t\tif (oTableBinding) {\n\t\t\t\tupdateActions = false;\n\t\t\t\tconst tableAPI = table?.getParent() as TableAPI;\n\n\t\t\t\t// Update the table content using side effects (listBinding.refresh doesn't keep expansion states in a TreeTable)\n\t\t\t\tCommonUtils.getAppComponent(this.getView())\n\t\t\t\t\t.getRoutingService()\n\t\t\t\t\t.waitForBindingCleanup()\n\t\t\t\t\t.then(async () => {\n\t\t\t\t\t\tawait CommonUtils.getAppComponent(this.getView()).isAppComponentBusy();\n\t\t\t\t\t\toTableBinding.attachEventOnce(\"dataReceived\", () => {\n\t\t\t\t\t\t\tthis._updateTableActions(aTables);\n\t\t\t\t\t\t});\n\t\t\t\t\t\tif (tableAPI.getTableDefinition().control.type === \"TreeTable\") {\n\t\t\t\t\t\t\t// As the refresh on a TreeTable uses side-effects, we need to make sure there are no pending changes\n\t\t\t\t\t\t\t// before the side-effects are queried (e.g. failed PATCH queries that would be resent together with side effects GET)\n\t\t\t\t\t\t\tthis.getModel().resetChanges();\n\t\t\t\t\t\t}\n\t\t\t\t\t\ttableAPI.refresh();\n\t\t\t\t\t\treturn;\n\t\t\t\t\t})\n\t\t\t\t\t.catch((e) => {\n\t\t\t\t\t\tLog.warning(\"Error while waiting refreshing ListReport table\", e);\n\t\t\t\t\t});\n\t\t\t}\n\t\t\tEditState.setEditStateProcessed();\n\t\t}\n\n\t\tif (updateActions) {\n\t\t\tthis._updateTableActions(aTables);\n\t\t}\n\n\t\tconst internalModelContext = this.getView().getBindingContext(\"internal\") as InternalModelContext;\n\t\tif (!internalModelContext.getProperty(\"initialVariantApplied\")) {\n\t\t\tconst viewId = this.getView().getId();\n\t\t\tthis.pageReady.waitFor(this._applyAppState(viewId));\n\t\t\tinternalModelContext.setProperty(\"initialVariantApplied\", true);\n\t\t}\n\t\tconst environmentCapabilities = CommonUtils.getAppComponent(this.getView()).getEnvironmentCapabilities();\n\t\tenvironmentCapabilities\n\t\t\t.isInsightsEnabled()\n\t\t\t.then((isInsightsEnabled: boolean) => {\n\t\t\t\tinternalModelContext.setProperty(\"isInsightsSupported\", isInsightsEnabled);\n\t\t\t\treturn;\n\t\t\t})\n\t\t\t.catch((error: unknown) => {\n\t\t\t\tLog.error(\"Error while checking if insights are enabled\", error as string);\n\t\t\t});\n\t}\n\n\tformatters = {\n\t\tsetALPControlMessageStrip(\n\t\t\tthis: ListReportController,\n\t\t\taIgnoredFields: string[],\n\t\t\tbIsChart: boolean | string,\n\t\t\toApplySupported?: { enableSearch: boolean }\n\t\t): string | undefined {\n\t\t\tlet sText = \"\";\n\t\t\tbIsChart = bIsChart === \"true\" || bIsChart === true;\n\t\t\tconst oFilterBar = this._getFilterBarControl();\n\t\t\tif (oFilterBar && Array.isArray(aIgnoredFields) && aIgnoredFields.length > 0 && bIsChart) {\n\t\t\t\tconst aIgnoredLabels = MessageStrip.getLabels(\n\t\t\t\t\taIgnoredFields,\n\t\t\t\t\toFilterBar.data(\"entityType\"),\n\t\t\t\t\toFilterBar,\n\t\t\t\t\tgetResourceModel(oFilterBar)\n\t\t\t\t);\n\t\t\t\tconst bIsSearchIgnored = !oApplySupported?.enableSearch;\n\t\t\t\tsText = bIsChart\n\t\t\t\t\t? MessageStrip.getALPText(aIgnoredLabels, oFilterBar, bIsSearchIgnored)\n\t\t\t\t\t: MessageStrip.getText(aIgnoredLabels, oFilterBar, \"\");\n\t\t\t\treturn sText;\n\t\t\t}\n\t\t}\n\t};\n\n\t@privateExtension()\n\t@extensible(\"After\")\n\tasync onPageReady(mParameters: { forceFocus?: boolean }): Promise<void> {\n\t\tif (mParameters.forceFocus) {\n\t\t\tthis._setInitialFocus();\n\t\t}\n\t\t// Remove the handler on back navigation that displays Draft confirmation\n\t\tawait this.getAppComponent().getShellServices().setBackNavigation(undefined);\n\t}\n\n\t/**\n\t * Method called when the content of a custom view used in a list report needs to be refreshed.\n\t * This happens either when there is a change on the FilterBar and the search is triggered,\n\t * or when a tab with custom content is selected,\n\t * or when the view is forced to be refreshed through the Extension API for the list report's public method setTabContentToBeRefreshedOnNextOpening.\n\t * This method can be overwritten by the controller extension in case of customization.\n\t * @param mParameters Map containing the filter conditions of the FilterBar, the currentTabID\n\t * and the view refresh cause (tabChanged, search or forcedRefresh).\n\t * The map looks like this:\n\t * <code><pre>\n\t * \t{\n\t * \t\tfilterConditions: {\n\t * \t\t\tCountry: [\n\t * \t\t\t\t{\n\t * \t\t\t\t\toperator: \"EQ\"\n\t *\t\t\t\t\tvalidated: \"NotValidated\"\n\t *\t\t\t\t\tvalues: [\"Germany\", ...]\n\t * \t\t\t\t},\n\t * \t\t\t\t...\n\t * \t\t\t]\n\t * \t\t\t...\n\t * \t\t},\n\t *\t\tcurrentTabId: \"fe::CustomTab::tab1\",\n\t *\t\trefreshCause: \"tabChanged\" | \"search\" | \"forcedRefresh\"\n\t *\t}\n\t * </pre></code>\n\t * @public\n\t */\n\t@publicExtension()\n\t@extensible(OverrideExecution.After)\n\t// eslint-disable-next-line @typescript-eslint/no-unused-vars\n\tonViewNeedsRefresh(mParameters: unknown): void {\n\t\t/* To be overriden */\n\t}\n\n\t/**\n\t * Method called when a filter or search value has been changed in the FilterBar,\n\t * but has not been validated yet by the end user (with the 'Go' or 'Search' button).\n\t * Typically, the content of the current tab is greyed out until the filters are validated.\n\t * This method can be overwritten by the controller extension in case of customization.\n\t * @public\n\t */\n\t@publicExtension()\n\t@extensible(OverrideExecution.After)\n\tonPendingFilters(): void {\n\t\t/* To be overriden */\n\t}\n\n\tgetCurrentEntitySet(): string {\n\t\treturn this._getTable()?.data(\"targetCollectionPath\").slice(1);\n\t}\n\n\t/**\n\t * Method called when the 'Clear' button on the FilterBar is pressed.\n\t * @public\n\t */\n\t@publicExtension()\n\t@extensible(OverrideExecution.After)\n\tonAfterClear(): void {\n\t\t/* To be overriden */\n\t}\n\n\t/**\n\t * This method initiates the update of the enabled state of the DataFieldForAction and the visible state of the DataFieldForIBN buttons.\n\t * @param aTables Array of tables in the list report\n\t */\n\t_updateTableActions(aTables: Table[]): void {\n\t\tlet aIBNActions: UI5Element[] = [];\n\t\taTables.forEach(function (oTable) {\n\t\t\taIBNActions = CommonUtils.getIBNActions(oTable, aIBNActions);\n\t\t});\n\t\tCommonUtils.updateDataFieldForIBNButtonsVisibility(aIBNActions, this.getView());\n\t\tCommonUtils.updateMenuButtonVisiblity(aIBNActions);\n\t}\n\n\t/**\n\t * This method scrolls to a specific row on all the available tables.\n\t * @param sRowPath The path of the table row context to be scrolled to\n\t */\n\t_scrollTablesToRow(sRowPath: string): void {\n\t\tthis._getControls(\"table\").forEach(function (oTable: Control) {\n\t\t\tTableScroller.scrollTableToRow(oTable as Table, sRowPath);\n\t\t});\n\t}\n\n\t/**\n\t * Sets a silent focus on the filter field. Suppresses the opening of the type-ahead popup.\n\t * @param filterField The field where the focus should be set after the initial load\n\t */\n\t_focusSilent(filterField: FilterField): void {\n\t\tconst focusInfo = filterField.getFocusInfo() as { targetInfo: object };\n\t\tfocusInfo.targetInfo = { silent: true };\n\t\tfilterField.focus(focusInfo);\n\t}\n\n\t/**\n\t * This method sets the initial focus in a list report based on the User Experience guidelines.\n\t *\n\t */\n\t_setInitialFocus(): void {\n\t\tconst dynamicPage = this._getDynamicListReportControl(),\n\t\t\tisHeaderExpanded = dynamicPage.getHeaderExpanded(),\n\t\t\tfilterBar = this._getFilterBarControl() as FilterBar;\n\t\tif (filterBar && !this._isFilterBarHiddenUsed()) {\n\t\t\t//Enabling mandatory filter fields message dialog\n\t\t\tif (!filterBar.getShowMessages()) {\n\t\t\t\tfilterBar.setShowMessages(true);\n\t\t\t}\n\t\t\tif (isHeaderExpanded) {\n\t\t\t\tconst firstEmptyMandatoryField = filterBar.getFilterItems().find(function (oFilterItem: FilterField) {\n\t\t\t\t\treturn oFilterItem.getRequired() && oFilterItem.getConditions().length === 0;\n\t\t\t\t});\n\t\t\t\t//Focusing on the first empty mandatory filter field, or on the first filter field if the table data is loaded\n\t\t\t\t// Do a \"silent\" focus for FilterField, by adding the silent attribute. The silent attribute suppresses typeahead opening.\n\t\t\t\tif (firstEmptyMandatoryField) {\n\t\t\t\t\tif (firstEmptyMandatoryField.isA<FilterField>(\"sap.ui.mdc.FilterField\")) {\n\t\t\t\t\t\tthis._focusSilent(firstEmptyMandatoryField);\n\t\t\t\t\t} else {\n\t\t\t\t\t\t(firstEmptyMandatoryField as Control).focus();\n\t\t\t\t\t}\n\t\t\t\t} else if (this._isInitLoadEnabled() && filterBar.getFilterItems().length > 0) {\n\t\t\t\t\t// Add check for available filterItems\n\t\t\t\t\tconst fieldToFocus = filterBar.getFilterItems()[0];\n\t\t\t\t\tif (fieldToFocus.isA<FilterField>(\"sap.ui.mdc.FilterField\")) {\n\t\t\t\t\t\tthis._focusSilent(fieldToFocus);\n\t\t\t\t\t} else {\n\t\t\t\t\t\t(fieldToFocus as Control).focus();\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\t//Focusing on the Go button\n\t\t\t\t\tthis.getView().byId(`${this._getFilterBarControlId()}-btnSearch`)?.focus();\n\t\t\t\t}\n\t\t\t} else if (this._isInitLoadEnabled()) {\n\t\t\t\tthis._getTable()\n\t\t\t\t\t?.focusRow(0)\n\t\t\t\t\t.catch(function (error: unknown) {\n\t\t\t\t\t\tLog.error(\"Error while setting initial focus on the table \", error as string);\n\t\t\t\t\t});\n\t\t\t}\n\t\t} else {\n\t\t\tthis._getTable()\n\t\t\t\t?.focusRow(0)\n\t\t\t\t.catch(function (error: unknown) {\n\t\t\t\t\tLog.error(\"Error while setting initial focus on the table \", error as string);\n\t\t\t\t});\n\t\t}\n\t}\n\n\tasync _getPageTitleInformation(): Promise<{ title?: string; subtitle: string; intent: string; icon: string }> {\n\t\tconst oManifestEntry = this.getAppComponent().getManifestEntry(\"sap.app\");\n\t\treturn Promise.resolve({\n\t\t\ttitle: oManifestEntry.title,\n\t\t\tsubtitle: oManifestEntry.subTitle || \"\",\n\t\t\tintent: \"\",\n\t\t\ticon: \"\"\n\t\t});\n\t}\n\n\t_getFilterBarControl(): FilterBar | undefined {\n\t\treturn this.getView().byId(this._getFilterBarControlId()) as FilterBar | undefined;\n\t}\n\n\t_getDynamicListReportControl(): DynamicPage {\n\t\treturn this.getView().byId(this._getDynamicListReportControlId()) as DynamicPage;\n\t}\n\n\t_getAdaptationFilterBarControl(): Control {\n\t\t// If the adaptation filter bar is part of the DOM tree, the \"Adapt Filter\" dialog is open,\n\t\t// and we return the adaptation filter bar as an active control (visible for the user)\n\t\tconst adaptationFilterBar = (this._getFilterBarControl() as { getInbuiltFilter?: Function }).getInbuiltFilter?.();\n\t\treturn adaptationFilterBar?.getParent() ? adaptationFilterBar : undefined;\n\t}\n\n\tasync _applyAppState(viewId: string): Promise<void> {\n\t\tawait this.getAppComponent().getAppStateHandler().applyAppState(viewId, this.getView());\n\t\tconst oFilterBar = this._getFilterBarControl();\n\t\tif (oFilterBar) {\n\t\t\toFilterBar.enableRequests(true);\n\t\t} else if (this._isFilterBarHidden()) {\n\t\t\tconst oInternalModelContext = this.getView().getBindingContext(\"internal\") as InternalModelContext;\n\t\t\toInternalModelContext.setProperty(\"hasPendingFilters\", false);\n\t\t\tif (this._isMultiMode()) {\n\t\t\t\tthis._getMultiModeControl().setCountsOutDated(true);\n\t\t\t}\n\t\t}\n\t}\n\n\t_getSegmentedButton(sControl: string): UI5Element | undefined {\n\t\tconst sSegmentedButtonId = (sControl === \"Chart\" ? this.getChartControl() : this._getTable())?.data(\"segmentedButtonId\");\n\t\treturn this.getView().byId(sSegmentedButtonId);\n\t}\n\n\t_getControlFromPageModelProperty(sPath: string): Control | MacroAPI | undefined {\n\t\tconst controlId = this._getPageModel()?.getProperty(sPath);\n\t\treturn controlId ? (this.getView().byId(controlId) as Control) : undefined;\n\t}\n\n\t_getDynamicListReportControlId(): string {\n\t\treturn this._getPageModel()?.getProperty(\"/dynamicListReportId\") || \"\";\n\t}\n\n\t_getFilterBarControlId(): string {\n\t\treturn this._getPageModel()?.getProperty(\"/filterBarId\") || \"\";\n\t}\n\n\tgetChartControl(): Control | undefined {\n\t\treturn this._getControlFromPageModelProperty(\"/singleChartId\") as ChartType;\n\t}\n\n\t_getVisualFilterBarControl(): UI5Element | undefined {\n\t\tconst sVisualFilterBarId = StableIdHelper.generate([\"visualFilter\", this._getFilterBarControlId()]);\n\t\treturn sVisualFilterBarId ? this.getView().byId(sVisualFilterBarId) : undefined;\n\t}\n\n\t_getFilterBarVariantControl(): VariantManagement {\n\t\treturn this._getControlFromPageModelProperty(\"/variantManagement/id\") as VariantManagement;\n\t}\n\n\t_getMultiModeControl(): MultipleModeControl {\n\t\treturn this.getView().byId(\"fe::TabMultipleMode::Control\") as MultipleModeControl;\n\t}\n\n\t_getIconTabBar(): IconTabBar {\n\t\treturn this.getView().byId(\"fe::TabMultipleMode\") as IconTabBar;\n\t}\n\n\t_getTable(): Table | undefined {\n\t\tif (this._isMultiMode()) {\n\t\t\tconst oControl = this._getMultiModeControl()?.getSelectedInnerControl()?.content;\n\t\t\treturn oControl?.isA(\"sap.ui.mdc.Table\") ? (oControl as Table) : undefined;\n\t\t} else {\n\t\t\treturn this._getControlFromPageModelProperty(\"/singleTableId\") as Table | undefined;\n\t\t}\n\t}\n\n\t_getControls(sKey?: string): Control[] {\n\t\tif (this._isMultiMode()) {\n\t\t\tconst aControls: Control[] = [];\n\t\t\tconst oTabMultiMode = this._getMultiModeControl().content;\n\t\t\toTabMultiMode.getItems().forEach((oItem: unknown) => {\n\t\t\t\tconst oControl = this.getView().byId((oItem as TabContainerItem).getKey()) as Control;\n\t\t\t\tif (oControl && sKey) {\n\t\t\t\t\tif ((oItem as TabContainerItem).getKey().includes(`fe::${sKey}`)) {\n\t\t\t\t\t\taControls.push(oControl);\n\t\t\t\t\t}\n\t\t\t\t} else if (oControl !== undefined && oControl !== null) {\n\t\t\t\t\taControls.push(oControl);\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn aControls;\n\t\t} else if (sKey === \"Chart\") {\n\t\t\tconst oChart = this.getChartControl();\n\t\t\treturn oChart ? [oChart] : [];\n\t\t} else {\n\t\t\tconst oTable = this._getTable();\n\t\t\treturn oTable ? [oTable] : [];\n\t\t}\n\t}\n\n\t_getDefaultPath(): string {\n\t\tconst defaultPath = ListReportTemplating.getDefaultPath(this._getPageModel()?.getProperty(\"/views\") || []);\n\t\tswitch (defaultPath) {\n\t\t\tcase \"primary\":\n\t\t\t\treturn TemplateContentView.Chart;\n\t\t\tcase \"secondary\":\n\t\t\t\treturn TemplateContentView.Table;\n\t\t\tcase \"both\":\n\t\t\tdefault:\n\t\t\t\treturn TemplateContentView.Hybrid;\n\t\t}\n\t}\n\n\t/**\n\t * Method to know if ListReport is configured with Multiple Table mode.\n\t * @returns Is Multiple Table mode set?\n\t */\n\t_isMultiMode(): boolean {\n\t\treturn !!this._getPageModel()?.getProperty(\"/multiViewsControl\");\n\t}\n\n\t/**\n\t * Method to know if ListReport is configured to load data at start up.\n\t * @returns Is InitLoad enabled?\n\t */\n\t_isInitLoadEnabled(): boolean {\n\t\tconst initLoadMode = this.getView().getViewData().initialLoad;\n\t\treturn initLoadMode === InitialLoadMode.Enabled;\n\t}\n\n\t_hasMultiVisualizations(): boolean {\n\t\treturn this._getPageModel()?.getProperty(\"/hasMultiVisualizations\");\n\t}\n\n\t/**\n\t * Method to suspend search on the filter bar. The initial loading of data is disabled based on the manifest configuration InitLoad - Disabled/Auto.\n\t * It is enabled later when the view state is set, when it is possible to realize if there are default filters.\n\t */\n\t_disableInitLoad(): void {\n\t\tconst filterBar = this._getFilterBarControl();\n\t\t// check for filter bar hidden\n\t\tif (filterBar) {\n\t\t\tfilterBar.enableRequests(false);\n\t\t}\n\t}\n\n\t/**\n\t * Method called by flex to determine if the applyAutomatically setting on the variant is valid.\n\t * Called only for Standard Variant and only when there is display text set for applyAutomatically (FE only sets it for Auto).\n\t * @returns Boolean true if data should be loaded automatically, false otherwise\n\t */\n\t_applyAutomaticallyOnStandardVariant(): boolean {\n\t\t// We always return false and take care of it when view state is set\n\t\treturn false;\n\t}\n\n\t/**\n\t * Configure the settings for initial load based on\n\t * - manifest setting initLoad - Enabled/Disabled/Auto\n\t * - user's setting of applyAutomatically on variant\n\t * - if there are default filters\n\t * We disable the filter bar search at the beginning and enable it when view state is set.\n\t */\n\t_setInitLoad(): void {\n\t\t// if initLoad is Disabled or Auto, switch off filter bar search temporarily at start\n\t\tif (!this._isInitLoadEnabled()) {\n\t\t\tthis._disableInitLoad();\n\t\t}\n\t\t// set hook for flex for when standard variant is set (at start or by user at runtime)\n\t\t// required to override the user setting 'apply automatically' behaviour if there are no filters\n\t\tconst variantManagementId = ListReportTemplating.getVariantBackReference(\n\t\t\tthis.getView().getViewData(),\n\t\t\tthis._getPageModel()?.getData() as ListReportDefinition\n\t\t);\n\t\tconst variantManagement = variantManagementId && (this.getView().byId(variantManagementId) as VariantManagement);\n\t\tif (variantManagement) {\n\t\t\t(\n\t\t\t\tvariantManagement as { registerApplyAutomaticallyOnStandardVariant?: Function }\n\t\t\t)?.registerApplyAutomaticallyOnStandardVariant?.(this._applyAutomaticallyOnStandardVariant.bind(this));\n\t\t}\n\t}\n\n\t_setShareModel(): void {\n\t\t// TODO: deactivated for now - currently there is no _templPriv anymore, to be discussed\n\t\t// this method is currently not called anymore from the init method\n\n\t\tconst fnGetUser = ObjectPath.get(\"sap.ushell.Container.getUser\");\n\t\t//var oManifest = this.getOwnerComponent().getAppComponent().getMetadata().getManifestEntry(\"sap.ui\");\n\t\t//var sBookmarkIcon = (oManifest && oManifest.icons && oManifest.icons.icon) || \"\";\n\n\t\t//shareModel: Holds all the sharing relevant information and info used in XML view\n\t\tconst oShareInfo = {\n\t\t\tbookmarkTitle: document.title, //To name the bookmark according to the app title.\n\t\t\tbookmarkCustomUrl: function (): string {\n\t\t\t\tconst sHash = hasher.getHash();\n\t\t\t\treturn sHash ? `#${sHash}` : window.location.href;\n\t\t\t},\n\t\t\t/*\n\t\t\t\t\t\t\tTo be activated once the FLP shows the count - see comment above\n\t\t\t\t\t\t\tbookmarkServiceUrl: function() {\n\t\t\t\t\t\t\t\t//var oTable = oTable.getInnerTable(); oTable is already the sap.fe table (but not the inner one)\n\t\t\t\t\t\t\t\t// we should use table.getListBindingInfo instead of the binding\n\t\t\t\t\t\t\t\tvar oBinding = oTable.getBinding(\"rows\") || oTable.getBinding(\"items\");\n\t\t\t\t\t\t\t\treturn oBinding ? fnGetDownloadUrl(oBinding) : \"\";\n\t\t\t\t\t\t\t},*/\n\t\t\tisShareInJamActive: !!fnGetUser && fnGetUser().isJamActive()\n\t\t};\n\n\t\tconst oTemplatePrivateModel = this.getOwnerComponent().getModel(\"_templPriv\") as JSONModel;\n\t\toTemplatePrivateModel.setProperty(\"/listReport/share\", oShareInfo);\n\t}\n\n\t/**\n\t * Method to update the local UI model of the page with the fields that are not applicable to the filter bar (this is specific to the ALP scenario).\n\t * @param oInternalModelContext The internal model context\n\t * @param oFilterBar MDC filter bar\n\t */\n\t_updateALPNotApplicableFields(oInternalModelContext: InternalModelContext, oFilterBar: FilterBar): void {\n\t\tconst mCache: Record<string, string[]> = {};\n\t\tconst ignoredFields: Record<string, string[]> = {},\n\t\t\taTables = this._getControls(\"table\"),\n\t\t\taCharts = this._getControls(\"Chart\");\n\n\t\tif (!aTables.length || !aCharts.length) {\n\t\t\t// If there's not a table and a chart, we're not in the ALP case\n\t\t\treturn;\n\t\t}\n\n\t\t// For the moment, there's nothing for tables...\n\t\taCharts.forEach(function (oChart) {\n\t\t\tconst sChartEntityPath = oChart.data(\"targetCollectionPath\"),\n\t\t\t\tsChartEntitySet = sChartEntityPath.slice(1),\n\t\t\t\tsCacheKey = `${sChartEntitySet}Chart`;\n\t\t\tif (!mCache[sCacheKey]) {\n\t\t\t\tmCache[sCacheKey] = FilterUtils.getNotApplicableFilters(oFilterBar, oChart);\n\t\t\t}\n\t\t\tignoredFields[sCacheKey] = mCache[sCacheKey];\n\t\t});\n\t\toInternalModelContext.setProperty(\"controls/ignoredFields\", ignoredFields);\n\t}\n\n\t/**\n\t * Provides the setting whether FilterBar is hidden based on the manifest setting 'hideFilterBar'.\n\t * Should be used in combination with _isFilterBarHiddenUsed as it may have overridden this setting.\n\t * @returns True if the FilterBar is hidden, false if unknown\n\t */\n\t_isFilterBarHidden(): boolean {\n\t\treturn this.getView().getViewData().hideFilterBar || false;\n\t}\n\n\t/**\n\t * Provides the setting whether FilterBar is hidden but still exists based on the manifest setting 'useHiddenFilterBar'.\n\t * Should be used in combination with _isFilterBarHidden as it can also hide the FilterBar.\n\t * @returns True if the FilterBar is hidden, false if unknown\n\t */\n\t_isFilterBarHiddenUsed(): boolean {\n\t\treturn this.getView().getViewData().useHiddenFilterBar || false;\n\t}\n\n\t_getApplyAutomaticallyOnVariant(variantManagement: VariantManagement, key: string | undefined | null): Boolean {\n\t\tif (!variantManagement || !key) {\n\t\t\treturn false;\n\t\t}\n\t\tconst variants = variantManagement.getVariants();\n\t\tconst currentVariant = variants.find(function (variant) {\n\t\t\treturn variant && variant.getKey() === key;\n\t\t});\n\t\treturn (currentVariant && currentVariant.getProperty(\"executeOnSelect\")) || false;\n\t}\n\n\t_shouldAutoTriggerSearch(oVM: VariantManagement | null | undefined): boolean {\n\t\tif (\n\t\t\tthis.getView().getViewData().initialLoad === InitialLoadMode.Auto &&\n\t\t\t(!oVM || oVM.getStandardVariantKey() === oVM.getCurrentVariantKey())\n\t\t) {\n\t\t\tconst oFilterBar = this._getFilterBarControl();\n\t\t\tif (oFilterBar) {\n\t\t\t\tconst oConditions = oFilterBar.getConditions();\n\t\t\t\tfor (const sKey in oConditions) {\n\t\t\t\t\t// ignore filters starting with $ (e.g. $search, $editState)\n\t\t\t\t\tif (oVM && !sKey.startsWith(\"$\") && Array.isArray(oConditions[sKey]) && oConditions[sKey].length) {\n\t\t\t\t\t\t// load data as per user's setting of applyAutomatically on the variant\n\t\t\t\t\t\tconst standardVariant = oVM.getVariants().find((variant) => {\n\t\t\t\t\t\t\treturn variant.getKey() === oVM.getCurrentVariantKey();\n\t\t\t\t\t\t});\n\t\t\t\t\t\treturn standardVariant && standardVariant.getExecuteOnSelect();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t}\n\n\t_updateTable(oTable: Table): void {\n\t\tif (!oTable.isTableBound() || this.hasPendingChartChanges) {\n\t\t\toTable.rebind();\n\t\t\tthis.hasPendingChartChanges = false;\n\t\t}\n\t}\n\n\t_updateChart(oChart: Chart): void {\n\t\tconst oInnerChart = (oChart.getControlDelegate() as typeof ChartDelegate)._getChart(oChart);\n\t\tif (!(oInnerChart && oInnerChart.isBound(\"data\")) || this.hasPendingTableChanges) {\n\t\t\t(oChart.getControlDelegate() as typeof ChartDelegate).rebind(oChart, oInnerChart.getBindingInfo(\"data\"));\n\t\t\tthis.hasPendingTableChanges = false;\n\t\t}\n\t}\n\n\t/**\n\t * Set the visibility of the filter toggle button.\n\t * @param buttonVisible Filter toggle button visibility\n\t */\n\tsetFilterToggleVisibility(buttonVisible: boolean): void {\n\t\tconst filterBar = this._getFilterBarControl();\n\t\tfilterBar?.getSegmentedButton()?.setVisible(buttonVisible);\n\t}\n\n\thandlers = {\n\t\tonInlineEditSave(this: ListReportController): void {\n\t\t\tthis.inlineEditFlow.inlineEditSave();\n\t\t},\n\t\tonFilterSearch(this: ListReportController): void {\n\t\t\tconst filterBarAPI = this._getFilterBarControl()!.getParent() as FilterBarAPI;\n\t\t\tfilterBarAPI.triggerSearch();\n\t\t},\n\t\tonFiltersChanged(this: ListReportController, oEvent: FilterBarBase$FiltersChangedEvent): void {\n\t\t\tconst oFilterBar = this._getFilterBarControl();\n\t\t\tif (oFilterBar) {\n\t\t\t\tconst oInternalModelContext = this.getView().getBindingContext(\"internal\") as InternalModelContext | undefined;\n\t\t\t\t// Pending filters into FilterBar to be used for custom views\n\t\t\t\tthis.onPendingFilters();\n\n\t\t\t\tif (oInternalModelContext && oEvent.getParameter(\"conditionsBased\")) {\n\t\t\t\t\toInternalModelContext.setProperty(\"hasPendingFilters\", true);\n\t\t\t\t}\n\t\t\t\tif (oInternalModelContext) {\n\t\t\t\t\tthis._storeFilterBarSelectionVariant(oFilterBar, oInternalModelContext);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tonVariantSelected(this: ListReportController, oEvent: VariantManagement$SelectEvent): void {\n\t\t\tconst parameters = (oEvent as UI5Event).getParameters() as Record<string, unknown>;\n\t\t\tconst variantManagement = parameters.originalSource as VariantManagement;\n\t\t\tconst currentVariantKey = oEvent.getParameter(\"key\");\n\t\t\tconst multiModeControl = this._getMultiModeControl();\n\n\t\t\tif (multiModeControl && !variantManagement?.getParent()?.isA(\"sap.ui.mdc.ActionToolbar\")) {\n\t\t\t\t//Not a Control Variant\n\t\t\t\tmultiModeControl?.invalidateContent();\n\t\t\t\tmultiModeControl?.setFreezeContent(true);\n\t\t\t}\n\n\t\t\t// setTimeout cause the variant needs to be applied before judging the auto search or updating the app state\n\t\t\tsetTimeout((): void => {\n\t\t\t\tconst filterBar = this._getFilterBarControl();\n\t\t\t\tconst dynamicPage = this._getDynamicListReportControl();\n\t\t\t\tconst firstEmptyMandatoryField = filterBar?.getFilterItems().find(function (filterItem) {\n\t\t\t\t\treturn filterItem.getRequired() && filterItem.getConditions().length === 0;\n\t\t\t\t});\n\t\t\t\tif (firstEmptyMandatoryField) {\n\t\t\t\t\tdynamicPage.setHeaderExpanded(true);\n\t\t\t\t}\n\t\t\t\tif (this._shouldAutoTriggerSearch(variantManagement)) {\n\t\t\t\t\t// the app state will be updated via onSearch handler\n\t\t\t\t\tconst filterBarAPI = this._getFilterBarControl()!.getParent() as FilterBarAPI;\n\t\t\t\t\tfilterBarAPI.triggerSearch();\n\t\t\t\t} else if (!this._getApplyAutomaticallyOnVariant(variantManagement, currentVariantKey)) {\n\t\t\t\t\tmultiModeControl?.setFreezeContent(false);\n\t\t\t\t\tthis.getExtensionAPI().updateAppState();\n\t\t\t\t\tdynamicPage.setHeaderExpanded(true);\n\t\t\t\t}\n\t\t\t}, 0);\n\t\t},\n\t\tonVariantSaved(this: ListReportController): void {\n\t\t\t//TODO: Should remove this setTimeOut once Variant Management provides an api to fetch the current variant key on save!!!\n\t\t\tsetTimeout(() => {\n\t\t\t\tthis.getExtensionAPI().updateAppState();\n\t\t\t}, 1000);\n\t\t},\n\t\tonSearch(this: ListReportController): void {\n\t\t\tconst oFilterBar = this._getFilterBarControl() as FilterBar; // onsearch is called only if the filterbar exists\n\t\t\tconst oInternalModelContext = this.getView().getBindingContext(\"internal\") as InternalModelContext;\n\t\t\tconst oMdcChart = this.getChartControl();\n\t\t\tconst bHideDraft = FilterUtils.getEditStateIsHideDraft(oFilterBar.getConditions());\n\t\t\toInternalModelContext.setProperty(\"hasPendingFilters\", false);\n\t\t\toInternalModelContext.setProperty(\"hideDraftInfo\", bHideDraft);\n\t\t\tconst dynamicPage = this._getDynamicListReportControl();\n\t\t\tif (!this._getMultiModeControl()) {\n\t\t\t\tthis._updateALPNotApplicableFields(oInternalModelContext, oFilterBar);\n\t\t\t}\n\t\t\tif (oMdcChart) {\n\t\t\t\t// disable bound actions TODO: this clears everything for the chart?\n\t\t\t\t(oMdcChart.getBindingContext(\"internal\") as InternalModelContext).setProperty(\"\", {});\n\n\t\t\t\tconst oPageInternalModelContext = oMdcChart.getBindingContext(\"pageInternal\") as InternalModelContext;\n\t\t\t\tconst sTemplateContentView = oPageInternalModelContext.getProperty(`${oPageInternalModelContext.getPath()}/alpContentView`);\n\t\t\t\tif (sTemplateContentView === TemplateContentView.Chart) {\n\t\t\t\t\tthis.hasPendingChartChanges = true;\n\t\t\t\t}\n\t\t\t\tif (sTemplateContentView === TemplateContentView.Table) {\n\t\t\t\t\tthis.hasPendingTableChanges = true;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t//logic for expansion or collapse of filter bar starts\n\t\t\tif (!Device.system.desktop && oInternalModelContext.getProperty(\"searchTriggeredByInitialLoad\") === true) {\n\t\t\t\tif (dynamicPage.getHeaderExpanded() !== false) {\n\t\t\t\t\tdynamicPage.setHeaderExpanded(false);\n\t\t\t\t}\n\t\t\t\t//setting it to false so that further search or 'Go' triggers won't collapse the filter bar\n\t\t\t\toInternalModelContext.setProperty(\"searchTriggeredByInitialLoad\", false);\n\t\t\t}\n\n\t\t\t// store filter bar conditions to use later while navigation\n\t\t\tStateUtil.retrieveExternalState(oFilterBar)\n\t\t\t\t.then((oExternalState) => {\n\t\t\t\t\tthis.filterBarConditions = oExternalState.filter;\n\t\t\t\t\treturn;\n\t\t\t\t})\n\t\t\t\t.catch(function (oError: unknown) {\n\t\t\t\t\tLog.error(\"Error while retrieving the external state\", oError as string);\n\t\t\t\t});\n\n\t\t\tif (Device.system.phone) {\n\t\t\t\tconst oDynamicPage = this._getDynamicListReportControl();\n\t\t\t\tif (!this._isInitLoadEnabled()) {\n\t\t\t\t\toDynamicPage.setHeaderExpanded(true);\n\t\t\t\t} else {\n\t\t\t\t\toDynamicPage.setHeaderExpanded(false);\n\t\t\t\t\tthis.setFilterToggleVisibility(false);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/**\n\t\t * Triggers an outbound navigation when a user chooses the chevron.\n\t\t * @param oController\n\t\t * @param sOutboundTarget Name of the outbound target (needs to be defined in the manifest)\n\t\t * @param oContext The context that contains the data for the target app\n\t\t * @param sCreatePath Create path when the chevron is created.\n\t\t * @returns Promise which is resolved once the navigation is triggered\n\t\t * @final\n\t\t */\n\t\tasync onChevronPressNavigateOutBound(\n\t\t\toController: ListReportController,\n\t\t\tsOutboundTarget: string,\n\t\t\toContext: Context,\n\t\t\tsCreatePath: string\n\t\t): Promise<void> {\n\t\t\treturn oController._intentBasedNavigation.onChevronPressNavigateOutBound(oController, sOutboundTarget, oContext, sCreatePath);\n\t\t},\n\t\tonChartSelectionChanged(this: ListReportController, oEvent: UI5Event<{ data: unknown }, ChartType>): void {\n\t\t\tconst oMdcChart = oEvent.getSource().getContent() as Chart,\n\t\t\t\toTable = this._getTable(),\n\t\t\t\taData = oEvent.getParameter(\"data\"),\n\t\t\t\toInternalModelContext = this.getView().getBindingContext(\"internal\") as InternalModelContext;\n\t\t\tif (aData) {\n\t\t\t\tChartUtils.setChartFilters(oMdcChart);\n\t\t\t}\n\t\t\tconst sTemplateContentView = oInternalModelContext.getProperty(`${oInternalModelContext.getPath()}/alpContentView`);\n\t\t\tif (sTemplateContentView === TemplateContentView.Chart) {\n\t\t\t\tthis.hasPendingChartChanges = true;\n\t\t\t} else if (oTable) {\n\t\t\t\toTable.rebind();\n\t\t\t\tthis.hasPendingChartChanges = false;\n\t\t\t}\n\t\t},\n\t\tonSegmentedButtonPressed(this: ListReportController, oEvent: UI5Event): void {\n\t\t\tconst selectedKey: string =\n\t\t\t\t(oEvent.getParameters() as { selectedKey: string }).selectedKey || (oEvent.getParameters() as { key: string }).key;\n\t\t\tconst oInternalModelContext = this.getView().getBindingContext(\"internal\") as InternalModelContext;\n\t\t\toInternalModelContext.setProperty(\"alpContentView\", selectedKey);\n\t\t\tconst oChart = this.getChartControl();\n\t\t\tconst oTable = this._getTable();\n\n\t\t\tswitch (selectedKey) {\n\t\t\t\tcase TemplateContentView.Table:\n\t\t\t\t\tif (oTable) {\n\t\t\t\t\t\tthis._updateTable(oTable);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase TemplateContentView.Chart:\n\t\t\t\t\tif (oChart) {\n\t\t\t\t\t\tthis._updateChart(oChart as Chart);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase TemplateContentView.Hybrid:\n\t\t\t\t\tif (oTable) {\n\t\t\t\t\t\tthis._updateTable(oTable);\n\t\t\t\t\t}\n\t\t\t\t\tif (oChart) {\n\t\t\t\t\t\tthis._updateChart(oChart as Chart);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\tthis.getExtensionAPI().updateAppState();\n\t\t\t// setTimeout cause the variant needs to be applied before judging the auto search or updating the app state\n\t\t\tthis.focusHandlingForSegmentedButton(selectedKey);\n\t\t},\n\t\tonDynamicPageTitleStateChanged(this: ListReportController, event: DynamicPageTitle$StateChangeEvent): void {\n\t\t\tconst filterBar = this._getFilterBarControl();\n\t\t\tif (filterBar) {\n\t\t\t\tthis.setFilterToggleVisibility(!!event.getParameter(\"isExpanded\"));\n\t\t\t\tif (event.getParameter(\"isExpanded\") === false) {\n\t\t\t\t\tInvisibleMessage.getInstance().announce(\n\t\t\t\t\t\tfilterBar.getAssignedFiltersText().filtersText as string,\n\t\t\t\t\t\tInvisibleMessageMode.Assertive\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\n\t/**\n\t * Handles focus for the segmented button based on the selected key.\n\t * @param selectedKey The key representing the selected template content view\n\t */\n\tfocusHandlingForSegmentedButton(selectedKey: string): void {\n\t\tconst oChart = this.getChartControl();\n\t\tconst oTable = this._getTable();\n\t\tlet segmentedButtonId: string;\n\t\tswitch (selectedKey) {\n\t\t\tcase TemplateContentView.Table:\n\t\t\t\tsegmentedButtonId = generate([oTable?.getId(), \"SegmentedButton\", \"TemplateContentView\"]);\n\t\t\t\tthis.addFocusDelegate(segmentedButtonId);\n\t\t\t\tbreak;\n\t\t\tcase TemplateContentView.Chart:\n\t\t\tcase TemplateContentView.Hybrid:\n\t\t\t\tsegmentedButtonId = generate([oChart?.getId(), \"SegmentedButton\", \"TemplateContentView\"]);\n\t\t\t\tthis.addFocusDelegate(segmentedButtonId);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\t/**\n\t * Adds an event delegate to a control and sets focus on it.\n\t * @param segmentedButtonId The control to which the event delegate will be added.\n\t */\n\taddFocusDelegate(segmentedButtonId: string): void {\n\t\tconst segmentedButton = UI5Element.getElementById(segmentedButtonId);\n\t\tif (segmentedButton) {\n\t\t\tconst eventDelegate = {\n\t\t\t\tonAfterRendering: (): void => {\n\t\t\t\t\tsegmentedButton.focus();\n\t\t\t\t\tsegmentedButton.removeEventDelegate(eventDelegate);\n\t\t\t\t}\n\t\t\t};\n\t\t\tsegmentedButton.addEventDelegate(eventDelegate);\n\t\t}\n\t}\n\n\t/**\n\t * Method to update the local UI model of the page with the Selection Variant.\n\t * @param filterBar MDC filter bar\n\t * @param internalModelContext The internal model context\n\t */\n\tasync _storeFilterBarSelectionVariant(filterBar: FilterBar, internalModelContext: InternalModelContext): Promise<void> {\n\t\ttry {\n\t\t\tconst filterBarAPI = filterBar.getParent() as FilterBarAPI;\n\t\t\tconst sv = await filterBarAPI.getSelectionVariant();\n\t\t\tinternalModelContext.setProperty(\"filterBarSelectionVariant\", sv);\n\t\t} catch (err: unknown) {\n\t\t\tconst message = err instanceof Error ? err.message : String(err);\n\t\t\tLog.error(`FE : Error fetching selection variant on filter change: ${message}`);\n\t\t}\n\t}\n\n\t/**\n\t * Method to get the Selection Variant from internal model.\n\t * @returns SelectionVariant\n\t */\n\tgetFilterBarSelectionVariant(): SelectionVariant {\n\t\tconst internalModelContext = this.getView().getBindingContext(\"internal\") as InternalModelContext | undefined;\n\t\treturn (internalModelContext?.getProperty(\"filterBarSelectionVariant\") as SelectionVariant) || new SelectionVariant();\n\t}\n}\n\nexport default ListReportController;\n"],"mappings":"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","ignoreList":[],"file":"ListReportController-dbg.controller.js"}