{"version":3,"names":["getDesigntimeSettings","stickyMultiTabHeader","id","name","description","value","type","variantManagement","enums","keyUser","initialLoad","hideFilterBar","useHiddenFilterBar","showCounts","path","_exports","getGlobalSettings","sideEffectsEventsInteractionType","getAdapationProperties","designtimeSettings","control","propertyValues","viewData","getParent","getViewData","forEach","setting","views","getGlobalSettingsValues","globalSettings","appComponent","CommonUtils","getAppComponent","getGlobalSettingsValue","globalSetting","propertyValue","getManifestEntry","app","getSettings","items","manifestSetting","settingsData","label","tooltip","controlData","enum","push","getSettingsGlobal"],"sourceRoot":".","sources":["ListReport.designtime.helper.ts"],"sourcesContent":["import CommonUtils from \"sap/fe/core/CommonUtils\";\nimport type { DesigntimeSetting, DesigntimeSettingEnums, PropertyValue, SettingsData } from \"sap/fe/macros/designtime/Designtime.helper\";\nimport type Control from \"sap/ui/core/Control\";\nimport type View from \"sap/ui/core/mvc/View\";\n\ntype propertyValueInConfig = {\n\tstickyMultiTabHeader: false;\n\tvariantManagement: string;\n\tinitialLoad: string;\n\thideFilterBar: false;\n\tuseHiddenFilterBar: false;\n\tviews: {\n\t\tshowCounts: false;\n\t};\n};\n\ntype globalValue = {\n\tsideEffectsEventsInteractionType: string;\n};\n\ntype ControlData = {\n\ttype: string | undefined;\n\tenum: DesigntimeSettingEnums[] | undefined;\n\tvalue: unknown;\n\tid: string;\n};\n/**\n * Return the available designtime settings for the List Report.\n * @returns Designtime settings for List Report\n */\nexport function getDesigntimeSettings(): DesigntimeSetting[] {\n\t// Properties for the ListReport. Most of these are used by the converter.\n\tconst stickyMultiTabHeader: DesigntimeSetting = {\n\t\tid: \"stickyMultiTabHeader\",\n\t\tname: \"RTA_CONFIGURATION_LR_MT_NAME\",\n\t\tdescription: \"RTA_CONFIGURATION_LR_MT_DESC\",\n\t\tvalue: false,\n\t\ttype: \"boolean\"\n\t};\n\tconst variantManagement: DesigntimeSetting = {\n\t\tid: \"variantManagement\",\n\t\tname: \"RTA_CONFIGURATION_LR_VM_NAME\",\n\t\tdescription: \"RTA_CONFIGURATION_LR_VM_DESC\",\n\t\ttype: \"string\",\n\t\tvalue: \"Page\",\n\t\tenums: [\n\t\t\t{ id: \"Control\", name: \"RTA_CONFIGURATION_LR_VM_ENUM_CONTROL\" },\n\t\t\t{ id: \"None\", name: \"RTA_CONFIGURATION_LR_VM_ENUM_NONE\" },\n\t\t\t{ id: \"Page\", name: \"RTA_CONFIGURATION_LR_VM_ENUM_PAGE\" }\n\t\t],\n\t\tkeyUser: true\n\t};\n\tconst initialLoad: DesigntimeSetting = {\n\t\tid: \"initialLoad\",\n\t\tname: \"RTA_CONFIGURATION_LR_INITIALLOAD_NAME\",\n\t\tdescription: \"RTA_CONFIGURATION_LR_INITIALLOAD_DESC\",\n\t\ttype: \"string\",\n\t\tvalue: \"enabled\",\n\t\tenums: [\n\t\t\t{ id: \"Auto\", name: \"RTA_CONFIGURATION_LR_INITIALLOAD_ENUM_AUTO\" },\n\t\t\t{ id: \"Enabled\", name: \"RTA_CONFIGURATION_LR_INITIALLOAD_ENUM_ENABLED\" },\n\t\t\t{ id: \"Disabled\", name: \"RTA_CONFIGURATION_LR_INITIALLOAD_ENUM_DISABLED\" }\n\t\t],\n\t\tkeyUser: true\n\t};\n\n\tconst hideFilterBar: DesigntimeSetting = {\n\t\tid: \"hideFilterBar\",\n\t\tname: \"RTA_CONFIGURATION_LR_HFB_NAME\",\n\t\tdescription: \"RTA_CONFIGURATION_LR_HFB_DESC\",\n\t\ttype: \"boolean\",\n\t\tvalue: true\n\t};\n\n\tconst useHiddenFilterBar: DesigntimeSetting = {\n\t\tid: \"useHiddenFilterBar\",\n\t\tname: \"RTA_CONFIGURATION_LR_UHFB_NAME\",\n\t\tdescription: \"RTA_CONFIGURATION_LR_UHFB_DESC\",\n\t\ttype: \"boolean\",\n\t\tvalue: false\n\t};\n\n\t// If this property is set when multitabs have not been defined, the app does not load\n\tconst showCounts: DesigntimeSetting = {\n\t\tid: \"showCounts\",\n\t\tpath: \"views/showCounts\",\n\t\tname: \"RTA_CONFIGURATION_LR_SC_NAME\",\n\t\tdescription: \"RTA_CONFIGURATION_LR_SC_DESC\",\n\t\ttype: \"boolean\",\n\t\tvalue: false\n\t};\n\n\treturn [stickyMultiTabHeader, variantManagement, initialLoad, hideFilterBar, useHiddenFilterBar, showCounts];\n}\n\n/**\n * Obtains the global settings that are offered in the adaption dialog for ListReport.\n * @returns The settings with metadata required for the dialog to change properties\n */\nexport function getGlobalSettings(): DesigntimeSetting[] {\n\t// Belongs to Global Settings, added here\n\n\tconst sideEffectsEventsInteractionType: DesigntimeSetting = {\n\t\tid: \"sideEffectsEventsInteractionType\",\n\t\tname: \"RTA_CONFIGURATION_LR_SE_NAME\",\n\t\tdescription: \"RTA_CONFIGURATION_LR_SE_DESC\",\n\t\ttype: \"string\",\n\t\tvalue: \"None\",\n\t\tenums: [\n\t\t\t{ id: \"None\", name: \"RTA_CONFIGURATION_LR_SE_ENUM_NONE\" },\n\t\t\t{ id: \"Confirmation\", name: \"RTA_CONFIGURATION_LR_SE_ENUM_CONF\" },\n\t\t\t{ id: \"Notification\", name: \"RTA_CONFIGURATION_LR_SE_ENUM_NOTF\" }\n\t\t]\n\t};\n\n\treturn [sideEffectsEventsInteractionType];\n}\n/**\n * Returns the values of the settings that are defined for list report adaption.\n * @param designtimeSettings Array of the settings for list report\n * @param control Reference to the list report view\n * @returns An object containg the settings with values\n */\nexport function getAdapationProperties(designtimeSettings: DesigntimeSetting[], control: Control): PropertyValue {\n\tconst propertyValues: PropertyValue = {};\n\n\tconst viewData = (control.getParent() as View)!.getViewData() as propertyValueInConfig;\n\n\tdesigntimeSettings.forEach(function (setting) {\n\t\tswitch (setting.id) {\n\t\t\tcase \"stickyMultiTabHeader\":\n\t\t\t\tpropertyValues.stickyMultiTabHeader = viewData.stickyMultiTabHeader;\n\t\t\t\tbreak;\n\t\t\tcase \"variantManagement\":\n\t\t\t\tpropertyValues.variantManagement = viewData.variantManagement;\n\t\t\t\tbreak;\n\t\t\tcase \"initialLoad\":\n\t\t\t\tpropertyValues.initialLoad = viewData.initialLoad;\n\t\t\t\tbreak;\n\t\t\tcase \"hideFilterBar\":\n\t\t\t\tpropertyValues.hideFilterBar = viewData.hideFilterBar;\n\t\t\t\tbreak;\n\t\t\tcase \"useHiddenFilterBar\":\n\t\t\t\tpropertyValues.useHiddenFilterBar = viewData.useHiddenFilterBar;\n\t\t\t\tbreak;\n\t\t\tcase \"showCounts\":\n\t\t\t\tpropertyValues.showCounts = viewData.views?.showCounts;\n\t\t\t\tbreak;\n\t\t}\n\t});\n\n\treturn propertyValues;\n}\n\n/**\n * Reads the values of the global settings from the manifest. These have been added to the\n * settings for list report.\n * @param globalSettings\n * @param control\n * @returns The values added into the metadata struture for each global setting\n */\nexport function getGlobalSettingsValues(globalSettings: DesigntimeSetting[], control: Control): PropertyValue {\n\tconst propertyValues: PropertyValue = {};\n\n\tconst appComponent = CommonUtils.getAppComponent(control);\n\n\tglobalSettings.forEach(function (setting) {\n\t\tpropertyValues[setting.id] = getGlobalSettingsValue(setting, control);\n\t});\n\n\treturn propertyValues;\n}\n\n/**\n * Reads the values of a global setting from the manifest.\n * @param globalSetting\n * @param control\n * @returns The value added into the metadata struture for the global setting\n */\nexport function getGlobalSettingsValue(globalSetting: DesigntimeSetting, control: Control): boolean | string | number {\n\tlet propertyValue: boolean | string | number = \"\";\n\tconst appComponent = CommonUtils.getAppComponent(control);\n\n\tswitch (globalSetting.id) {\n\t\tcase \"sideEffectsEventsInteractionType\":\n\t\t\tconst sideEffectsEventsInteractionType = appComponent.getManifestEntry(\"sap.fe\")?.app?.sideEffectsEventsInteractionType;\n\t\t\t// we only support the global setting right now, not the setting per event\n\t\t\tpropertyValue = typeof sideEffectsEventsInteractionType === \"string\" ? sideEffectsEventsInteractionType : \"Notification\";\n\t\t\tbreak;\n\t}\n\n\treturn propertyValue;\n}\n\n/**\n * Returns the values of the settings that are defined for list report adaption.\n * @param propertyValues List of settings and current values for list report\n * @returns Content in list form to be used in adapation dialog\n */\nexport function getSettings(propertyValues: PropertyValue): SettingsData[] {\n\tconst items: SettingsData[] = [];\n\n\tgetDesigntimeSettings().forEach(function (manifestSetting) {\n\t\t//Fill model for adaptation settings data\n\t\tconst settingsData: SettingsData = {\n\t\t\tlabel: manifestSetting.name,\n\t\t\ttooltip: manifestSetting.description,\n\t\t\tcontrol: [],\n\t\t\tkeyUser: manifestSetting.keyUser\n\t\t};\n\n\t\tconst controlData: ControlData = {\n\t\t\ttype: manifestSetting.type,\n\t\t\tenum: manifestSetting.enums,\n\t\t\tvalue: propertyValues[manifestSetting.id],\n\t\t\tid: manifestSetting.id\n\t\t};\n\n\t\tsettingsData.control.push(controlData);\n\t\titems.push(settingsData);\n\t});\n\n\treturn items;\n}\n/**\n * Prepare list of global settings for the the dialog to\n * change settings for the List Report.\n * @param propertyValues\n * @returns The changes in a structure used by flexibility tools\n */\nexport function getSettingsGlobal(propertyValues: PropertyValue): SettingsData[] {\n\tconst items: SettingsData[] = [];\n\n\tgetGlobalSettings().forEach(function (manifestSetting) {\n\t\t//Fill model for adaptation settings data\n\t\tconst settingsData: SettingsData = {\n\t\t\tlabel: manifestSetting.name,\n\t\t\ttooltip: manifestSetting.description,\n\t\t\tcontrol: [],\n\t\t\tkeyUser: manifestSetting.keyUser\n\t\t};\n\n\t\tconst controlData: ControlData = {\n\t\t\ttype: manifestSetting.type,\n\t\t\tenum: manifestSetting.enums,\n\t\t\tvalue: propertyValues[manifestSetting.id as keyof globalValue],\n\t\t\tid: manifestSetting.id\n\t\t};\n\n\t\tsettingsData.control.push(controlData);\n\t\titems.push(settingsData);\n\t});\n\n\treturn items;\n}\n"],"mappings":"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","ignoreList":[],"file":"ListReport.designtime.helper-dbg.js"}