{"version":3,"file":"MultipleMode.block.js","names":["MultipleModeBlock","_dec","defineBuildingBlock","name","namespace","isOpen","_dec2","blockAttribute","type","_class","_class2","_BuildingBlockTemplat","props","_this","call","this","_initializerDefineProperty","_descriptor","_exports","_inheritsLoose","_proto","prototype","getInnerControlsAPI","converterContext","views","reduce","innerControls","view","innerControlId","tableControlId","chartControlId","push","join","getItems","map","viewIdx","xml","_jsx","IconTabFilter","text","title","visible","children","viewType","MessageStrip","showIcon","showCloseButton","class","generate","customTabId","getTemplate","MultipleModeControl","id","multiViewsControl","filterControl","filterBarId","showCounts","showTabCounts","freezeContent","IconTabBar","expandable","headerMode","stretchContentHeight","select","items","BuildingBlockTemplatingBase","_applyDecoratedDescriptor","configurable","enumerable","writable","initializer"],"sources":["./MultipleMode.block.tsx"],"sourcesContent":["import type { PropertiesOf } from \"sap/fe/base/ClassSupport\";\nimport { blockAttribute, defineBuildingBlock } from \"sap/fe/core/buildingBlocks/templating/BuildingBlockSupport\";\nimport { xml } from \"sap/fe/core/buildingBlocks/templating/BuildingBlockTemplateProcessor\";\nimport BuildingBlockTemplatingBase from \"sap/fe/core/buildingBlocks/templating/BuildingBlockTemplatingBase\";\nimport type {\n\tCustomViewDefinition,\n\tListReportDefinition,\n\tSingleChartViewDefinition,\n\tSingleTableViewDefinition\n} from \"sap/fe/core/converters/templates/ListReportConverter\";\nimport { generate } from \"sap/fe/core/helpers/StableIdHelper\";\nimport type { IconTabBar$SelectEvent } from \"sap/m/IconTabBar\";\nimport IconTabBar from \"sap/m/IconTabBar\";\nimport IconTabFilter from \"sap/m/IconTabFilter\";\nimport MessageStrip from \"sap/m/MessageStrip\";\nimport MultipleModeControl from \"../../controls/MultipleModeControl\";\n\n@defineBuildingBlock({ name: \"MultipleMode\", namespace: \"sap.fe.templates.ListReport.view.fragments\", isOpen: true })\nexport default class MultipleModeBlock extends BuildingBlockTemplatingBase {\n\t@blockAttribute({ type: \"object\" })\n\tconverterContext?: ListReportDefinition;\n\n\tconstructor(props: PropertiesOf<MultipleModeBlock>) {\n\t\tsuper(props);\n\t}\n\n\tgetInnerControlsAPI(): string {\n\t\treturn (\n\t\t\tthis.converterContext?.views\n\t\t\t\t.reduce((innerControls: string[], view) => {\n\t\t\t\t\tconst innerControlId =\n\t\t\t\t\t\t(view as SingleTableViewDefinition).tableControlId || (view as SingleChartViewDefinition).chartControlId;\n\t\t\t\t\tif (innerControlId) {\n\t\t\t\t\t\tinnerControls.push(`${innerControlId}::${(view as SingleTableViewDefinition).tableControlId ? \"Table\" : \"Chart\"}`);\n\t\t\t\t\t}\n\t\t\t\t\treturn innerControls;\n\t\t\t\t}, [])\n\t\t\t\t.join(\",\") || \"\"\n\t\t);\n\t}\n\n\tgetItems(): string {\n\t\treturn this.converterContext!.views.map((view, viewIdx) => {\n\t\t\treturn xml`<template:with path=\"converterContext>views/${viewIdx}/\" var=\"view\"\n\t\t\t\t\t\ttemplate:require=\"{\n\t\t\t\t\t\t\tID: 'sap/fe/core/helpers/StableIdHelper'\n\t\t\t\t\t\t}\"\n\t\t\t\t\t\txmlns:core=\"sap.ui.core\"\n\t\t\t\t\t\txmlns:template=\"http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1\">\n\t\t\t\t<template:with path=\"view>presentation\" var=\"presentationContext\">\n\t\t\t\t${(\n\t\t\t\t\t<IconTabFilter\n\t\t\t\t\t\ttext={view.title}\n\t\t\t\t\t\tkey={generate([\n\t\t\t\t\t\t\t(view as SingleTableViewDefinition).tableControlId ||\n\t\t\t\t\t\t\t\t(view as CustomViewDefinition).customTabId ||\n\t\t\t\t\t\t\t\t(view as SingleChartViewDefinition).chartControlId\n\t\t\t\t\t\t])}\n\t\t\t\t\t\tvisible={view.visible}\n\t\t\t\t\t>\n\t\t\t\t\t\t{view.viewType === \"Custom\"\n\t\t\t\t\t\t\t? xml`<core:Fragment fragmentName=\"sap.fe.templates.ListReport.view.fragments.CustomView\" type=\"XML\" />`\n\t\t\t\t\t\t\t: xml`\n\t\t\t\t\t\t\t ${(\n\t\t\t\t\t\t\t\t\t<MessageStrip\n\t\t\t\t\t\t\t\t\t\ttext={\n\t\t\t\t\t\t\t\t\t\t\t\"{tabsInternal>/\" +\n\t\t\t\t\t\t\t\t\t\t\t((view as SingleTableViewDefinition).tableControlId ||\n\t\t\t\t\t\t\t\t\t\t\t\t(view as SingleChartViewDefinition).chartControlId) +\n\t\t\t\t\t\t\t\t\t\t\t\"/notApplicable/title}\"\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\ttype=\"Information\"\n\t\t\t\t\t\t\t\t\t\tshowIcon=\"true\"\n\t\t\t\t\t\t\t\t\t\tshowCloseButton=\"true\"\n\t\t\t\t\t\t\t\t\t\tclass=\"sapUiTinyMargin\"\n\t\t\t\t\t\t\t\t\t\tvisible={\n\t\t\t\t\t\t\t\t\t\t\t\"{= (${tabsInternal>/\" +\n\t\t\t\t\t\t\t\t\t\t\t((view as SingleTableViewDefinition).tableControlId ||\n\t\t\t\t\t\t\t\t\t\t\t\t(view as SingleChartViewDefinition).chartControlId) +\n\t\t\t\t\t\t\t\t\t\t\t\"/notApplicable/fields} || []).length>0 }\"\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t<core:Fragment fragmentName=\"sap.fe.templates.ListReport.view.fragments.CollectionVisualization\" type=\"XML\" />\n\t\t\t\t\t\t\t`}\n\t\t\t\t\t</IconTabFilter>\n\t\t\t\t)}\n\t\t\t</template:with></template:with>`;\n\t\t}).join(\"\");\n\t}\n\n\tgetTemplate(): string {\n\t\treturn (\n\t\t\t<MultipleModeControl\n\t\t\t\tid={generate([this.converterContext!.multiViewsControl?.id, \"Control\"])}\n\t\t\t\tinnerControls={this.getInnerControlsAPI() as unknown as string[]}\n\t\t\t\tfilterControl={this.converterContext!.filterBarId}\n\t\t\t\tshowCounts={this.converterContext!.multiViewsControl?.showTabCounts}\n\t\t\t\tfreezeContent={!!this.converterContext!.filterBarId}\n\t\t\t>\n\t\t\t\t<IconTabBar\n\t\t\t\t\tcore:require=\"{\n\t\t\t\t\t\tMULTICONTROL: 'sap/fe/templates/ListReport/controls/MultipleModeControl'\n\t\t\t\t\t}\"\n\t\t\t\t\texpandable=\"false\"\n\t\t\t\t\theaderMode=\"Inline\"\n\t\t\t\t\tid={this.converterContext!.multiViewsControl?.id}\n\t\t\t\t\tstretchContentHeight=\"true\"\n\t\t\t\t\tselect={\"MULTICONTROL.handleTabChange($event)\" as unknown as (ev: IconTabBar$SelectEvent) => void}\n\t\t\t\t>\n\t\t\t\t\t{{\n\t\t\t\t\t\titems: this.getItems()\n\t\t\t\t\t}}\n\t\t\t\t</IconTabBar>\n\t\t\t</MultipleModeControl>\n\t\t);\n\t}\n}\n"],"mappings":";;;;s9CAkBqBA,GAAiBC,EADrCC,EAAoB,CAAEC,KAAM,eAAgBC,UAAW,6CAA8CC,OAAQ,OAAOC,EAEnHC,EAAe,CAAEC,KAAM,WAAWP,EAAAQ,GAAAC,EAAA,SAAAC,GAGnC,SAAAX,EAAYY,GAAwC,IAAAC,EACnDA,EAAAF,EAAAG,KAAAC,KAAMH,IAAMG,KAACC,EAAAH,EAAA,mBAAAI,EAAAJ,GAAA,OAAAA,CACd,CAACK,EAAAlB,EAAAmB,EAAAnB,EAAAW,GAAA,IAAAS,EAAApB,EAAAqB,UAAAD,EAEDE,oBAAA,SAAAA,IACC,OACCP,KAAKQ,kBAAkBC,MACrBC,OAAO,CAACC,EAAyBC,KACjC,MAAMC,EACJD,EAAmCE,gBAAmBF,EAAmCG,eAC3F,GAAIF,EAAgB,CACnBF,EAAcK,KAAK,GAAGH,MAAoBD,EAAmCE,eAAiB,QAAU,UACzG,CACA,OAAOH,GACL,IACFM,KAAK,MAAQ,EAEjB,EAACZ,EAEDa,SAAA,SAAAA,IACC,OAAOlB,KAAKQ,iBAAkBC,MAAMU,IAAI,CAACP,EAAMQ,IACvCC,CAAG,+CAA+CD;;;;;;;MAQvDE,EAACC,EAAa,CACbC,KAAMZ,EAAKa,MAMXC,QAASd,EAAKc,QAAQC,SAErBf,EAAKgB,WAAa,SAChBP,CAAG,oGACHA,CAAG;UAEHC,EAACO,EAAY,CACZL,KACC,mBACEZ,EAAmCE,gBACnCF,EAAmCG,gBACrC,wBAEDtB,KAAK,cACLqC,SAAS,OACTC,gBAAgB,OAChBC,MAAM,kBACNN,QACC,wBACEd,EAAmCE,gBACnCF,EAAmCG,gBACrC;;UA1BAkB,EAAS,CACZrB,EAAmCE,gBAClCF,EAA8BsB,aAC9BtB,EAAmCG;sCAgCvCE,KAAK,GACT,EAACZ,EAED8B,YAAA,SAAAA,IACC,OACCb,EAACc,EAAmB,CACnBC,GAAIJ,EAAS,CAACjC,KAAKQ,iBAAkB8B,mBAAmBD,GAAI,YAC5D1B,cAAeX,KAAKO,sBACpBgC,cAAevC,KAAKQ,iBAAkBgC,YACtCC,WAAYzC,KAAKQ,iBAAkB8B,mBAAmBI,cACtDC,gBAAiB3C,KAAKQ,iBAAkBgC,YAAYb,SAEpDL,EAACsB,EAAU,CACV,eAAa,+EAGbC,WAAW,QACXC,WAAW,SACXT,GAAIrC,KAAKQ,iBAAkB8B,mBAAmBD,GAC9CU,qBAAqB,OACrBC,OAAQ,uCAA0FrB,SAEjG,CACAsB,MAAOjD,KAAKkB,eAKjB,EAAC,OAAAjC,CAAA,CAjGkC,CADWiE,GAA2BhD,EAAAiD,EAAAxD,EAAAW,UAAA,oBAAAf,GAAA,CAAA6D,aAAA,KAAAC,WAAA,KAAAC,SAAA,KAAAC,YAAA,OAAA5D,KAAAD,GAAAS,EAAAlB,EAAA,OAAAkB,CAAA","ignoreList":[]}