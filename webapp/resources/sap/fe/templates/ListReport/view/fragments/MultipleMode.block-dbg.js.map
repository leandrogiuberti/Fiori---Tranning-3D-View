{"version":3,"names":["MultipleModeBlock","_dec","defineBuildingBlock","name","namespace","isOpen","_dec2","blockAttribute","type","_class","_class2","_BuildingBlockTemplat","props","_this","call","_initializerDefineProperty","_descriptor","_exports","_inheritsLoose","_proto","prototype","getInnerControlsAPI","converterContext","views","reduce","innerControls","view","innerControlId","tableControlId","chartControlId","push","join","getItems","map","viewIdx","xml","_jsx","IconTabFilter","text","title","visible","children","viewType","MessageStrip","showIcon","showCloseButton","class","generate","customTabId","getTemplate","MultipleModeControl","id","multiViewsControl","filterControl","filterBarId","showCounts","showTabCounts","freezeContent","IconTabBar","expandable","headerMode","stretchContentHeight","select","items","BuildingBlockTemplatingBase","_applyDecoratedDescriptor","configurable","enumerable","writable","initializer"],"sourceRoot":".","sources":["MultipleMode.block.tsx"],"sourcesContent":["import type { PropertiesOf } from \"sap/fe/base/ClassSupport\";\nimport { blockAttribute, defineBuildingBlock } from \"sap/fe/core/buildingBlocks/templating/BuildingBlockSupport\";\nimport { xml } from \"sap/fe/core/buildingBlocks/templating/BuildingBlockTemplateProcessor\";\nimport BuildingBlockTemplatingBase from \"sap/fe/core/buildingBlocks/templating/BuildingBlockTemplatingBase\";\nimport type {\n\tCustomViewDefinition,\n\tListReportDefinition,\n\tSingleChartViewDefinition,\n\tSingleTableViewDefinition\n} from \"sap/fe/core/converters/templates/ListReportConverter\";\nimport { generate } from \"sap/fe/core/helpers/StableIdHelper\";\nimport type { IconTabBar$SelectEvent } from \"sap/m/IconTabBar\";\nimport IconTabBar from \"sap/m/IconTabBar\";\nimport IconTabFilter from \"sap/m/IconTabFilter\";\nimport MessageStrip from \"sap/m/MessageStrip\";\nimport MultipleModeControl from \"../../controls/MultipleModeControl\";\n\n@defineBuildingBlock({ name: \"MultipleMode\", namespace: \"sap.fe.templates.ListReport.view.fragments\", isOpen: true })\nexport default class MultipleModeBlock extends BuildingBlockTemplatingBase {\n\t@blockAttribute({ type: \"object\" })\n\tconverterContext?: ListReportDefinition;\n\n\tconstructor(props: PropertiesOf<MultipleModeBlock>) {\n\t\tsuper(props);\n\t}\n\n\tgetInnerControlsAPI(): string {\n\t\treturn (\n\t\t\tthis.converterContext?.views\n\t\t\t\t.reduce((innerControls: string[], view) => {\n\t\t\t\t\tconst innerControlId =\n\t\t\t\t\t\t(view as SingleTableViewDefinition).tableControlId || (view as SingleChartViewDefinition).chartControlId;\n\t\t\t\t\tif (innerControlId) {\n\t\t\t\t\t\tinnerControls.push(`${innerControlId}::${(view as SingleTableViewDefinition).tableControlId ? \"Table\" : \"Chart\"}`);\n\t\t\t\t\t}\n\t\t\t\t\treturn innerControls;\n\t\t\t\t}, [])\n\t\t\t\t.join(\",\") || \"\"\n\t\t);\n\t}\n\n\tgetItems(): string {\n\t\treturn this.converterContext!.views.map((view, viewIdx) => {\n\t\t\treturn xml`<template:with path=\"converterContext>views/${viewIdx}/\" var=\"view\"\n\t\t\t\t\t\ttemplate:require=\"{\n\t\t\t\t\t\t\tID: 'sap/fe/core/helpers/StableIdHelper'\n\t\t\t\t\t\t}\"\n\t\t\t\t\t\txmlns:core=\"sap.ui.core\"\n\t\t\t\t\t\txmlns:template=\"http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1\">\n\t\t\t\t<template:with path=\"view>presentation\" var=\"presentationContext\">\n\t\t\t\t${(\n\t\t\t\t\t<IconTabFilter\n\t\t\t\t\t\ttext={view.title}\n\t\t\t\t\t\tkey={generate([\n\t\t\t\t\t\t\t(view as SingleTableViewDefinition).tableControlId ||\n\t\t\t\t\t\t\t\t(view as CustomViewDefinition).customTabId ||\n\t\t\t\t\t\t\t\t(view as SingleChartViewDefinition).chartControlId\n\t\t\t\t\t\t])}\n\t\t\t\t\t\tvisible={view.visible}\n\t\t\t\t\t>\n\t\t\t\t\t\t{view.viewType === \"Custom\"\n\t\t\t\t\t\t\t? xml`<core:Fragment fragmentName=\"sap.fe.templates.ListReport.view.fragments.CustomView\" type=\"XML\" />`\n\t\t\t\t\t\t\t: xml`\n\t\t\t\t\t\t\t ${(\n\t\t\t\t\t\t\t\t\t<MessageStrip\n\t\t\t\t\t\t\t\t\t\ttext={\n\t\t\t\t\t\t\t\t\t\t\t\"{tabsInternal>/\" +\n\t\t\t\t\t\t\t\t\t\t\t((view as SingleTableViewDefinition).tableControlId ||\n\t\t\t\t\t\t\t\t\t\t\t\t(view as SingleChartViewDefinition).chartControlId) +\n\t\t\t\t\t\t\t\t\t\t\t\"/notApplicable/title}\"\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\ttype=\"Information\"\n\t\t\t\t\t\t\t\t\t\tshowIcon=\"true\"\n\t\t\t\t\t\t\t\t\t\tshowCloseButton=\"true\"\n\t\t\t\t\t\t\t\t\t\tclass=\"sapUiTinyMargin\"\n\t\t\t\t\t\t\t\t\t\tvisible={\n\t\t\t\t\t\t\t\t\t\t\t\"{= (${tabsInternal>/\" +\n\t\t\t\t\t\t\t\t\t\t\t((view as SingleTableViewDefinition).tableControlId ||\n\t\t\t\t\t\t\t\t\t\t\t\t(view as SingleChartViewDefinition).chartControlId) +\n\t\t\t\t\t\t\t\t\t\t\t\"/notApplicable/fields} || []).length>0 }\"\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t<core:Fragment fragmentName=\"sap.fe.templates.ListReport.view.fragments.CollectionVisualization\" type=\"XML\" />\n\t\t\t\t\t\t\t`}\n\t\t\t\t\t</IconTabFilter>\n\t\t\t\t)}\n\t\t\t</template:with></template:with>`;\n\t\t}).join(\"\");\n\t}\n\n\tgetTemplate(): string {\n\t\treturn (\n\t\t\t<MultipleModeControl\n\t\t\t\tid={generate([this.converterContext!.multiViewsControl?.id, \"Control\"])}\n\t\t\t\tinnerControls={this.getInnerControlsAPI() as unknown as string[]}\n\t\t\t\tfilterControl={this.converterContext!.filterBarId}\n\t\t\t\tshowCounts={this.converterContext!.multiViewsControl?.showTabCounts}\n\t\t\t\tfreezeContent={!!this.converterContext!.filterBarId}\n\t\t\t>\n\t\t\t\t<IconTabBar\n\t\t\t\t\tcore:require=\"{\n\t\t\t\t\t\tMULTICONTROL: 'sap/fe/templates/ListReport/controls/MultipleModeControl'\n\t\t\t\t\t}\"\n\t\t\t\t\texpandable=\"false\"\n\t\t\t\t\theaderMode=\"Inline\"\n\t\t\t\t\tid={this.converterContext!.multiViewsControl?.id}\n\t\t\t\t\tstretchContentHeight=\"true\"\n\t\t\t\t\tselect={\"MULTICONTROL.handleTabChange($event)\" as unknown as (ev: IconTabBar$SelectEvent) => void}\n\t\t\t\t>\n\t\t\t\t\t{{\n\t\t\t\t\t\titems: this.getItems()\n\t\t\t\t\t}}\n\t\t\t\t</IconTabBar>\n\t\t\t</MultipleModeControl>\n\t\t);\n\t}\n}\n"],"mappings":"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","ignoreList":[],"file":"MultipleMode.block-dbg.js"}