{"version":3,"names":["VariantManagement","CoreLibrary","CreationMode","SectionLayout","templateLib","ObjectPage","ObjectPageComponent","_dec","defineUI5Class","library","manifest","_dec2","property","type","defaultValue","None","_dec3","Page","_dec4","_dec5","_dec6","_dec7","_dec8","_dec9","_dec10","_dec11","_class","_class2","_TemplateComponent","_this","_len","arguments","length","args","Array","_key","call","_initializerDefineProperty","_descriptor","_descriptor2","_descriptor3","_descriptor4","_descriptor5","_descriptor6","_descriptor7","_descriptor8","_descriptor9","_descriptor10","DeferredContextCreated","_inheritsLoose","_proto","prototype","init","breadcrumbsHierarchyMode","isContextExpected","extendPageDefinition","pageDefinition","converterContext","extendObjectPageDefinition","createDeferredContext","sPath","oListBinding","parentContext","data","bActionCreate","oParameters","$$groupId","$$updateGroupId","metaModel","getModel","getMetaModel","ModelHelper","isCollaborationDraftSupported","$select","bindList","replace","undefined","oStartUpParams","oAppComponent","getComponentData","startupParameters","oInboundParameters","getViewData","inboundParameters","createParams","preferredMode","includes","Object","assign","CommonUtils","getAdditionalParamsForCreate","getRootControl","getController","editFlow","createDocument","creationMode","Sync","createAction","bFromDeferred","selectedContexts","finally","catch","setVariantManagement","sVariantManagement","Log","error","setProperty","isOpenInEditMode","openInEditMode","_getControllerName","TemplateComponent","_applyDecoratedDescriptor","configurable","enumerable","writable","initializer"],"sourceRoot":".","sources":["Component.ts"],"sourcesContent":["import Log from \"sap/base/Log\";\nimport { defineUI5Class, property } from \"sap/fe/base/ClassSupport\";\nimport type { InboundParameter } from \"sap/fe/core/CommonUtils\";\nimport CommonUtils from \"sap/fe/core/CommonUtils\";\nimport TemplateComponent from \"sap/fe/core/TemplateComponent\";\nimport type ConverterContext from \"sap/fe/core/converters/ConverterContext\";\nimport type { ObjectPageDefinition } from \"sap/fe/core/converters/templates/ObjectPageConverter\";\nimport ModelHelper from \"sap/fe/core/helpers/ModelHelper\";\nimport CoreLibrary from \"sap/fe/core/library\";\nimport type { FinalPageDefinition } from \"sap/fe/templates/ObjectPage/ExtendPageDefinition\";\nimport { extendObjectPageDefinition } from \"sap/fe/templates/ObjectPage/ExtendPageDefinition\";\nimport templateLib from \"sap/fe/templates/library\";\nimport type Context from \"sap/ui/model/odata/v4/Context\";\nimport type ODataListBinding from \"sap/ui/model/odata/v4/ODataListBinding\";\n\nconst VariantManagement = CoreLibrary.VariantManagement,\n\tCreationMode = CoreLibrary.CreationMode;\nconst SectionLayout = templateLib.ObjectPage.SectionLayout;\n@defineUI5Class(\"sap.fe.templates.ObjectPage.Component\", { library: \"sap.fe.templates\", manifest: \"json\" })\nclass ObjectPageComponent extends TemplateComponent {\n\t/**\n\t * Defines if and on which level variants can be configured:\n\t * \t\tNone: no variant configuration at all\n\t * \t\tPage: one variant configuration for the whole page\n\t * \t\tControl: variant configuration on control level\n\t */\n\t@property({\n\t\ttype: \"sap.fe.core.VariantManagement\",\n\t\tdefaultValue: VariantManagement.None\n\t})\n\tvariantManagement: typeof VariantManagement;\n\n\t/**\n\t * Defines how the sections are rendered\n\t * \t\tPage: all sections are shown on one page\n\t * \t\tTabs: each top-level section is shown in an own tab\n\t */\n\t@property({\n\t\ttype: \"sap.fe.templates.ObjectPage.SectionLayout\",\n\t\tdefaultValue: SectionLayout.Page\n\t})\n\tsectionLayout: typeof SectionLayout;\n\n\t/**\n\t * Enables the related apps features\n\t */\n\t@property({\n\t\ttype: \"boolean\",\n\t\tdefaultValue: false\n\t})\n\tshowRelatedApps!: boolean;\n\n\t/**\n\t * Enables the 'Microsoft Teams > As Card' option in the 'Share' menu\n\t */\n\t@property({\n\t\ttype: \"object\"\n\t})\n\tshare!: Record<string, Record<string, boolean>>;\n\n\t@property({ type: \"object\" })\n\tadditionalSemanticObjects!: object;\n\n\t/**\n\t * Enables the editable object page header\n\t */\n\t@property({\n\t\ttype: \"boolean\",\n\t\tdefaultValue: true\n\t})\n\teditableHeaderContent!: boolean;\n\n\t/**\n\t * Shows a text instead of an IllustratedMessage in the noData aggregation of Tables or Charts\n\t */\n\t@property({\n\t\ttype: \"boolean\",\n\t\tdefaultValue: false\n\t})\n\tuseTextForNoDataMessages!: boolean;\n\n\t/**\n\t * Defines the properties which can be used for inbound Navigation\n\t */\n\t@property({\n\t\ttype: \"object\"\n\t})\n\tinboundParameters!: object;\n\n\t/**\n\t * Defines if an object page should be opened in edit mode\n\t */\n\t@property({\n\t\ttype: \"boolean\"\n\t})\n\topenInEditMode: boolean | undefined;\n\n\t@property({\n\t\ttype: \"boolean\",\n\t\tdefaultValue: false\n\t})\n\tenableLazyLoading!: boolean;\n\n\tprivate DeferredContextCreated = false;\n\n\tinit(): void {\n\t\tthis.breadcrumbsHierarchyMode = this.breadcrumbsHierarchyMode ?? \"objectNavigation\";\n\t\tsuper.init();\n\t}\n\n\tisContextExpected(): boolean {\n\t\treturn true;\n\t}\n\n\textendPageDefinition(pageDefinition: ObjectPageDefinition, converterContext: ConverterContext): FinalPageDefinition {\n\t\treturn extendObjectPageDefinition(pageDefinition, converterContext);\n\t}\n\n\t// TODO: this should be ideally be handled by the editflow/routing without the need to have this method in the\n\t// object page - for now keep it here\n\tcreateDeferredContext(\n\t\tsPath: string,\n\t\toListBinding: ODataListBinding | undefined,\n\t\tparentContext: Context | undefined,\n\t\tdata: object | undefined,\n\t\tbActionCreate: boolean\n\t): void {\n\t\tif (!this.DeferredContextCreated) {\n\t\t\tthis.DeferredContextCreated = true;\n\t\t\tconst oParameters: { $$groupId: string; $$updateGroupId: string; $select?: string } = {\n\t\t\t\t$$groupId: \"$auto.Heroes\",\n\t\t\t\t$$updateGroupId: \"$auto\"\n\t\t\t};\n\t\t\tconst metaModel = this.getModel().getMetaModel();\n\t\t\tif (ModelHelper.isCollaborationDraftSupported(metaModel)) {\n\t\t\t\toParameters.$select = \"DraftAdministrativeData/DraftAdministrativeUser\";\n\t\t\t}\n\n\t\t\tif (!oListBinding) {\n\t\t\t\toListBinding = this.getModel().bindList(sPath.replace(\"(...)\", \"\"), undefined, undefined, undefined, oParameters);\n\t\t\t}\n\t\t\tconst oStartUpParams =\n\t\t\t\t\tthis.oAppComponent && this.oAppComponent.getComponentData() && this.oAppComponent.getComponentData().startupParameters,\n\t\t\t\toInboundParameters = this.getViewData().inboundParameters as Record<string, InboundParameter> | undefined;\n\t\t\tlet createParams;\n\t\t\tif (oStartUpParams && oStartUpParams.preferredMode && oStartUpParams.preferredMode[0].includes(\"create\")) {\n\t\t\t\tcreateParams = Object.assign({}, data, CommonUtils.getAdditionalParamsForCreate(oStartUpParams, oInboundParameters));\n\t\t\t} else {\n\t\t\t\tcreateParams = data;\n\t\t\t}\n\n\t\t\t// for now wait until the view and the controller is created\n\t\t\tthis.getRootControl()\n\t\t\t\t.getController()\n\t\t\t\t.editFlow.createDocument(oListBinding, {\n\t\t\t\t\tcreationMode: CreationMode.Sync,\n\t\t\t\t\tcreateAction: bActionCreate,\n\t\t\t\t\tdata: createParams,\n\t\t\t\t\tbFromDeferred: true,\n\t\t\t\t\tselectedContexts: parentContext ? [parentContext] : undefined\n\t\t\t\t})\n\t\t\t\t.finally(() => {\n\t\t\t\t\tthis.DeferredContextCreated = false;\n\t\t\t\t})\n\t\t\t\t.catch(function () {\n\t\t\t\t\t// Do Nothing ?\n\t\t\t\t});\n\t\t}\n\t}\n\n\tsetVariantManagement(sVariantManagement: string): void {\n\t\tif (sVariantManagement === VariantManagement.Page) {\n\t\t\tLog.error(\"ObjectPage does not support Page-level variant management yet\");\n\t\t\tsVariantManagement = VariantManagement.None;\n\t\t}\n\n\t\tthis.setProperty(\"variantManagement\", sVariantManagement);\n\t}\n\n\t/**\n\t * Checks if openInEditMode is defined in the manifest settings\n\t * @returns a boolean indicating if edit mode is set for an object page\n\t */\n\n\tisOpenInEditMode(): boolean {\n\t\tconst openInEditMode = this.getViewData().openInEditMode;\n\t\treturn openInEditMode === true;\n\t}\n\n\t_getControllerName(): string {\n\t\treturn \"sap.fe.templates.ObjectPage.ObjectPageController\";\n\t}\n}\n\nexport default ObjectPageComponent;\n"],"mappings":";;;;;;;;;;;;;;;;EAeA,MAAMA,iBAAiB,GAAGC,WAAW,CAACD,iBAAiB;IACtDE,YAAY,GAAGD,WAAW,CAACC,YAAY;EACxC,MAAMC,aAAa,GAAGC,WAAW,CAACC,UAAU,CAACF,aAAa;EAAC,IAErDG,mBAAmB,IAAAC,IAAA,GADxBC,cAAc,CAAC,uCAAuC,EAAE;IAAEC,OAAO,EAAE,kBAAkB;IAAEC,QAAQ,EAAE;EAAO,CAAC,CAAC,EAAAC,KAAA,GAQzGC,QAAQ,CAAC;IACTC,IAAI,EAAE,+BAA+B;IACrCC,YAAY,EAAEd,iBAAiB,CAACe;EACjC,CAAC,CAAC,EAAAC,KAAA,GAQDJ,QAAQ,CAAC;IACTC,IAAI,EAAE,2CAA2C;IACjDC,YAAY,EAAEX,aAAa,CAACc;EAC7B,CAAC,CAAC,EAAAC,KAAA,GAMDN,QAAQ,CAAC;IACTC,IAAI,EAAE,SAAS;IACfC,YAAY,EAAE;EACf,CAAC,CAAC,EAAAK,KAAA,GAMDP,QAAQ,CAAC;IACTC,IAAI,EAAE;EACP,CAAC,CAAC,EAAAO,KAAA,GAGDR,QAAQ,CAAC;IAAEC,IAAI,EAAE;EAAS,CAAC,CAAC,EAAAQ,KAAA,GAM5BT,QAAQ,CAAC;IACTC,IAAI,EAAE,SAAS;IACfC,YAAY,EAAE;EACf,CAAC,CAAC,EAAAQ,KAAA,GAMDV,QAAQ,CAAC;IACTC,IAAI,EAAE,SAAS;IACfC,YAAY,EAAE;EACf,CAAC,CAAC,EAAAS,KAAA,GAMDX,QAAQ,CAAC;IACTC,IAAI,EAAE;EACP,CAAC,CAAC,EAAAW,MAAA,GAMDZ,QAAQ,CAAC;IACTC,IAAI,EAAE;EACP,CAAC,CAAC,EAAAY,MAAA,GAGDb,QAAQ,CAAC;IACTC,IAAI,EAAE,SAAS;IACfC,YAAY,EAAE;EACf,CAAC,CAAC,EAAAP,IAAA,CAAAmB,MAAA,IAAAC,OAAA,0BAAAC,kBAAA;IAAA,SAAAtB,oBAAA;MAAA,IAAAuB,KAAA;MAAA,SAAAC,IAAA,GAAAC,SAAA,CAAAC,MAAA,EAAAC,IAAA,OAAAC,KAAA,CAAAJ,IAAA,GAAAK,IAAA,MAAAA,IAAA,GAAAL,IAAA,EAAAK,IAAA;QAAAF,IAAA,CAAAE,IAAA,IAAAJ,SAAA,CAAAI,IAAA;MAAA;MAAAN,KAAA,GAAAD,kBAAA,CAAAQ,IAAA,UAAAH,IAAA;MAhFF;AACD;AACA;AACA;AACA;AACA;MALCI,0BAAA,CAAAR,KAAA,uBAAAS,WAAA,EAAAT,KAAA;MAYA;AACD;AACA;AACA;AACA;MAJCQ,0BAAA,CAAAR,KAAA,mBAAAU,YAAA,EAAAV,KAAA;MAWA;AACD;AACA;MAFCQ,0BAAA,CAAAR,KAAA,qBAAAW,YAAA,EAAAX,KAAA;MASA;AACD;AACA;MAFCQ,0BAAA,CAAAR,KAAA,WAAAY,YAAA,EAAAZ,KAAA;MAAAQ,0BAAA,CAAAR,KAAA,+BAAAa,YAAA,EAAAb,KAAA;MAWA;AACD;AACA;MAFCQ,0BAAA,CAAAR,KAAA,2BAAAc,YAAA,EAAAd,KAAA;MASA;AACD;AACA;MAFCQ,0BAAA,CAAAR,KAAA,8BAAAe,YAAA,EAAAf,KAAA;MASA;AACD;AACA;MAFCQ,0BAAA,CAAAR,KAAA,uBAAAgB,YAAA,EAAAhB,KAAA;MAQA;AACD;AACA;MAFCQ,0BAAA,CAAAR,KAAA,oBAAAiB,YAAA,EAAAjB,KAAA;MAAAQ,0BAAA,CAAAR,KAAA,uBAAAkB,aAAA,EAAAlB,KAAA;MAAAA,KAAA,CAcQmB,sBAAsB,GAAG,KAAK;MAAA,OAAAnB,KAAA;IAAA;IAAAoB,cAAA,CAAA3C,mBAAA,EAAAsB,kBAAA;IAAA,IAAAsB,MAAA,GAAA5C,mBAAA,CAAA6C,SAAA;IAAAD,MAAA,CAEtCE,IAAI,GAAJ,SAAAA,IAAIA,CAAA,EAAS;MACZ,IAAI,CAACC,wBAAwB,GAAG,IAAI,CAACA,wBAAwB,IAAI,kBAAkB;MACnFzB,kBAAA,CAAAuB,SAAA,CAAMC,IAAI,CAAAhB,IAAA;IACX,CAAC;IAAAc,MAAA,CAEDI,iBAAiB,GAAjB,SAAAA,iBAAiBA,CAAA,EAAY;MAC5B,OAAO,IAAI;IACZ,CAAC;IAAAJ,MAAA,CAEDK,oBAAoB,GAApB,SAAAA,oBAAoBA,CAACC,cAAoC,EAAEC,gBAAkC,EAAuB;MACnH,OAAOC,0BAA0B,CAACF,cAAc,EAAEC,gBAAgB,CAAC;IACpE;;IAEA;IACA;IAAA;IAAAP,MAAA,CACAS,qBAAqB,GAArB,SAAAA,qBAAqBA,CACpBC,KAAa,EACbC,YAA0C,EAC1CC,aAAkC,EAClCC,IAAwB,EACxBC,aAAsB,EACf;MACP,IAAI,CAAC,IAAI,CAAChB,sBAAsB,EAAE;QACjC,IAAI,CAACA,sBAAsB,GAAG,IAAI;QAClC,MAAMiB,WAA6E,GAAG;UACrFC,SAAS,EAAE,cAAc;UACzBC,eAAe,EAAE;QAClB,CAAC;QACD,MAAMC,SAAS,GAAG,IAAI,CAACC,QAAQ,CAAC,CAAC,CAACC,YAAY,CAAC,CAAC;QAChD,IAAIC,WAAW,CAACC,6BAA6B,CAACJ,SAAS,CAAC,EAAE;UACzDH,WAAW,CAACQ,OAAO,GAAG,iDAAiD;QACxE;QAEA,IAAI,CAACZ,YAAY,EAAE;UAClBA,YAAY,GAAG,IAAI,CAACQ,QAAQ,CAAC,CAAC,CAACK,QAAQ,CAACd,KAAK,CAACe,OAAO,CAAC,OAAO,EAAE,EAAE,CAAC,EAAEC,SAAS,EAAEA,SAAS,EAAEA,SAAS,EAAEX,WAAW,CAAC;QAClH;QACA,MAAMY,cAAc,GAClB,IAAI,CAACC,aAAa,IAAI,IAAI,CAACA,aAAa,CAACC,gBAAgB,CAAC,CAAC,IAAI,IAAI,CAACD,aAAa,CAACC,gBAAgB,CAAC,CAAC,CAACC,iBAAiB;UACvHC,kBAAkB,GAAG,IAAI,CAACC,WAAW,CAAC,CAAC,CAACC,iBAAiE;QAC1G,IAAIC,YAAY;QAChB,IAAIP,cAAc,IAAIA,cAAc,CAACQ,aAAa,IAAIR,cAAc,CAACQ,aAAa,CAAC,CAAC,CAAC,CAACC,QAAQ,CAAC,QAAQ,CAAC,EAAE;UACzGF,YAAY,GAAGG,MAAM,CAACC,MAAM,CAAC,CAAC,CAAC,EAAEzB,IAAI,EAAE0B,WAAW,CAACC,4BAA4B,CAACb,cAAc,EAAEI,kBAAkB,CAAC,CAAC;QACrH,CAAC,MAAM;UACNG,YAAY,GAAGrB,IAAI;QACpB;;QAEA;QACA,IAAI,CAAC4B,cAAc,CAAC,CAAC,CACnBC,aAAa,CAAC,CAAC,CACfC,QAAQ,CAACC,cAAc,CAACjC,YAAY,EAAE;UACtCkC,YAAY,EAAE7F,YAAY,CAAC8F,IAAI;UAC/BC,YAAY,EAAEjC,aAAa;UAC3BD,IAAI,EAAEqB,YAAY;UAClBc,aAAa,EAAE,IAAI;UACnBC,gBAAgB,EAAErC,aAAa,GAAG,CAACA,aAAa,CAAC,GAAGc;QACrD,CAAC,CAAC,CACDwB,OAAO,CAAC,MAAM;UACd,IAAI,CAACpD,sBAAsB,GAAG,KAAK;QACpC,CAAC,CAAC,CACDqD,KAAK,CAAC,YAAY;UAClB;QAAA,CACA,CAAC;MACJ;IACD,CAAC;IAAAnD,MAAA,CAEDoD,oBAAoB,GAApB,SAAAA,oBAAoBA,CAACC,kBAA0B,EAAQ;MACtD,IAAIA,kBAAkB,KAAKvG,iBAAiB,CAACiB,IAAI,EAAE;QAClDuF,GAAG,CAACC,KAAK,CAAC,+DAA+D,CAAC;QAC1EF,kBAAkB,GAAGvG,iBAAiB,CAACe,IAAI;MAC5C;MAEA,IAAI,CAAC2F,WAAW,CAAC,mBAAmB,EAAEH,kBAAkB,CAAC;IAC1D;;IAEA;AACD;AACA;AACA,OAHC;IAAArD,MAAA,CAKAyD,gBAAgB,GAAhB,SAAAA,gBAAgBA,CAAA,EAAY;MAC3B,MAAMC,cAAc,GAAG,IAAI,CAAC1B,WAAW,CAAC,CAAC,CAAC0B,cAAc;MACxD,OAAOA,cAAc,KAAK,IAAI;IAC/B,CAAC;IAAA1D,MAAA,CAED2D,kBAAkB,GAAlB,SAAAA,kBAAkBA,CAAA,EAAW;MAC5B,OAAO,kDAAkD;IAC1D,CAAC;IAAA,OAAAvG,mBAAA;EAAA,EA5KgCwG,iBAAiB,GAAAxE,WAAA,GAAAyE,yBAAA,CAAApF,OAAA,CAAAwB,SAAA,wBAAAxC,KAAA;IAAAqG,YAAA;IAAAC,UAAA;IAAAC,QAAA;IAAAC,WAAA;EAAA,IAAA5E,YAAA,GAAAwE,yBAAA,CAAApF,OAAA,CAAAwB,SAAA,oBAAAnC,KAAA;IAAAgG,YAAA;IAAAC,UAAA;IAAAC,QAAA;IAAAC,WAAA;EAAA,IAAA3E,YAAA,GAAAuE,yBAAA,CAAApF,OAAA,CAAAwB,SAAA,sBAAAjC,KAAA;IAAA8F,YAAA;IAAAC,UAAA;IAAAC,QAAA;IAAAC,WAAA;EAAA,IAAA1E,YAAA,GAAAsE,yBAAA,CAAApF,OAAA,CAAAwB,SAAA,YAAAhC,KAAA;IAAA6F,YAAA;IAAAC,UAAA;IAAAC,QAAA;IAAAC,WAAA;EAAA,IAAAzE,YAAA,GAAAqE,yBAAA,CAAApF,OAAA,CAAAwB,SAAA,gCAAA/B,KAAA;IAAA4F,YAAA;IAAAC,UAAA;IAAAC,QAAA;IAAAC,WAAA;EAAA,IAAAxE,YAAA,GAAAoE,yBAAA,CAAApF,OAAA,CAAAwB,SAAA,4BAAA9B,KAAA;IAAA2F,YAAA;IAAAC,UAAA;IAAAC,QAAA;IAAAC,WAAA;EAAA,IAAAvE,YAAA,GAAAmE,yBAAA,CAAApF,OAAA,CAAAwB,SAAA,+BAAA7B,KAAA;IAAA0F,YAAA;IAAAC,UAAA;IAAAC,QAAA;IAAAC,WAAA;EAAA,IAAAtE,YAAA,GAAAkE,yBAAA,CAAApF,OAAA,CAAAwB,SAAA,wBAAA5B,KAAA;IAAAyF,YAAA;IAAAC,UAAA;IAAAC,QAAA;IAAAC,WAAA;EAAA,IAAArE,YAAA,GAAAiE,yBAAA,CAAApF,OAAA,CAAAwB,SAAA,qBAAA3B,MAAA;IAAAwF,YAAA;IAAAC,UAAA;IAAAC,QAAA;IAAAC,WAAA;EAAA,IAAApE,aAAA,GAAAgE,yBAAA,CAAApF,OAAA,CAAAwB,SAAA,wBAAA1B,MAAA;IAAAuF,YAAA;IAAAC,UAAA;IAAAC,QAAA;IAAAC,WAAA;EAAA,IAAAxF,OAAA,MAAAD,MAAA;EAAA,OA+KpCpB,mBAAmB;AAAA","ignoreList":[],"file":"Component-dbg.js"}