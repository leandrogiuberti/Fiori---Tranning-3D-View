{"version":3,"file":"UnstashControlAndConnect.js","names":["UnstashControlAndConnect","_exports","applyChange","async","change","control","propertyBag","UnstashControl","LayerUtils","isDeveloperLayer","getLayer","modifier","setProperty","revertChange","completeChangeContent","getCondenserInfo","getChangeVisualizationInfo","appComponent"],"sources":["./UnstashControlAndConnect.ts"],"sourcesContent":["import type AppComponent from \"sap/fe/core/AppComponent\";\nimport type Control from \"sap/ui/core/Control\";\nimport type BaseTreeModifier from \"sap/ui/core/util/reflection/BaseTreeModifier\";\nimport LayerUtils from \"sap/ui/fl/LayerUtils\";\nimport UnstashControl from \"sap/ui/fl/changeHandler/UnstashControl\";\n\ntype FlexChange = {\n\tgetLayer: () => string;\n};\nexport default class UnstashControlAndConnect {\n\tstatic async applyChange(change: FlexChange, control: Control, propertyBag: { modifier: typeof BaseTreeModifier }): Promise<void> {\n\t\tawait UnstashControl.applyChange(change, control, propertyBag);\n\t\tif (!LayerUtils.isDeveloperLayer(change.getLayer())) {\n\t\t\t// If we're at the key user layer we should force the disconnect as the stash is just a hide\n\t\t\tpropertyBag.modifier.setProperty(control, \"_disconnected\", false);\n\t\t}\n\t}\n\n\tstatic async revertChange(change: FlexChange, control: Control, propertyBag: { modifier: typeof BaseTreeModifier }): Promise<void> {\n\t\tawait UnstashControl.revertChange(change, control, propertyBag);\n\t\tif (!LayerUtils.isDeveloperLayer(change.getLayer())) {\n\t\t\t// If we're at the key user layer we should force the disconnect as the stash is just a hide\n\t\t\tpropertyBag.modifier.setProperty(control, \"_disconnected\", true);\n\t\t}\n\t}\n\n\tstatic completeChangeContent(): void {}\n\n\tstatic getCondenserInfo(change: FlexChange): object {\n\t\treturn UnstashControl.getCondenserInfo(change);\n\t}\n\n\tstatic getChangeVisualizationInfo(change: FlexChange, appComponent: AppComponent): object {\n\t\treturn UnstashControl.getChangeVisualizationInfo(change, appComponent);\n\t}\n}\n"],"mappings":";;;;wHASqBA,EAAwB,oBAAAA,IAAA,CAAAC,EAAAD,IAC/BE,YAAbC,eAAaD,EAAYE,EAAoBC,EAAkBC,SACxDC,EAAeL,YAAYE,EAAQC,EAASC,GAClD,IAAKE,EAAWC,iBAAiBL,EAAOM,YAAa,CAEpDJ,EAAYK,SAASC,YAAYP,EAAS,gBAAiB,MAC5D,CACD,EAACL,EAEYa,aAAbV,eAAaU,EAAaT,EAAoBC,EAAkBC,SACzDC,EAAeM,aAAaT,EAAQC,EAASC,GACnD,IAAKE,EAAWC,iBAAiBL,EAAOM,YAAa,CAEpDJ,EAAYK,SAASC,YAAYP,EAAS,gBAAiB,KAC5D,CACD,EAACL,EAEMc,sBAAP,SAAOA,IAA+B,EAACd,EAEhCe,iBAAP,SAAOA,EAAiBX,GACvB,OAAOG,EAAeQ,iBAAiBX,EACxC,EAACJ,EAEMgB,2BAAP,SAAOA,EAA2BZ,EAAoBa,GACrD,OAAOV,EAAeS,2BAA2BZ,EAAQa,EAC1D,EAAC,OAAAjB,CAAA,CAzB2C,GAyB3CC,EAAAD,EAAA,OAAAC,CAAA","ignoreList":[]}