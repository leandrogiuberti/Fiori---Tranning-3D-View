{"version":3,"names":["UnstashControlAndConnect","_exports","applyChange","change","control","propertyBag","UnstashControl","LayerUtils","isDeveloperLayer","getLayer","modifier","setProperty","revertChange","completeChangeContent","getCondenserInfo","getChangeVisualizationInfo","appComponent"],"sourceRoot":".","sources":["UnstashControlAndConnect.ts"],"sourcesContent":["import type AppComponent from \"sap/fe/core/AppComponent\";\nimport type Control from \"sap/ui/core/Control\";\nimport type BaseTreeModifier from \"sap/ui/core/util/reflection/BaseTreeModifier\";\nimport LayerUtils from \"sap/ui/fl/LayerUtils\";\nimport UnstashControl from \"sap/ui/fl/changeHandler/UnstashControl\";\n\ntype FlexChange = {\n\tgetLayer: () => string;\n};\nexport default class UnstashControlAndConnect {\n\tstatic async applyChange(change: FlexChange, control: Control, propertyBag: { modifier: typeof BaseTreeModifier }): Promise<void> {\n\t\tawait UnstashControl.applyChange(change, control, propertyBag);\n\t\tif (!LayerUtils.isDeveloperLayer(change.getLayer())) {\n\t\t\t// If we're at the key user layer we should force the disconnect as the stash is just a hide\n\t\t\tpropertyBag.modifier.setProperty(control, \"_disconnected\", false);\n\t\t}\n\t}\n\n\tstatic async revertChange(change: FlexChange, control: Control, propertyBag: { modifier: typeof BaseTreeModifier }): Promise<void> {\n\t\tawait UnstashControl.revertChange(change, control, propertyBag);\n\t\tif (!LayerUtils.isDeveloperLayer(change.getLayer())) {\n\t\t\t// If we're at the key user layer we should force the disconnect as the stash is just a hide\n\t\t\tpropertyBag.modifier.setProperty(control, \"_disconnected\", true);\n\t\t}\n\t}\n\n\tstatic completeChangeContent(): void {}\n\n\tstatic getCondenserInfo(change: FlexChange): object {\n\t\treturn UnstashControl.getCondenserInfo(change);\n\t}\n\n\tstatic getChangeVisualizationInfo(change: FlexChange, appComponent: AppComponent): object {\n\t\treturn UnstashControl.getChangeVisualizationInfo(change, appComponent);\n\t}\n}\n"],"mappings":";;;;;;;;MASqBA,wBAAwB;IAAA,SAAAA,yBAAA;IAAAC,QAAA,GAAAD,wBAAA;IAAAA,wBAAA,CAC/BE,WAAW,GAAxB,eAAaA,WAAWA,CAACC,MAAkB,EAAEC,OAAgB,EAAEC,WAAkD,EAAiB;MACjI,MAAMC,cAAc,CAACJ,WAAW,CAACC,MAAM,EAAEC,OAAO,EAAEC,WAAW,CAAC;MAC9D,IAAI,CAACE,UAAU,CAACC,gBAAgB,CAACL,MAAM,CAACM,QAAQ,CAAC,CAAC,CAAC,EAAE;QACpD;QACAJ,WAAW,CAACK,QAAQ,CAACC,WAAW,CAACP,OAAO,EAAE,eAAe,EAAE,KAAK,CAAC;MAClE;IACD,CAAC;IAAAJ,wBAAA,CAEYY,YAAY,GAAzB,eAAaA,YAAYA,CAACT,MAAkB,EAAEC,OAAgB,EAAEC,WAAkD,EAAiB;MAClI,MAAMC,cAAc,CAACM,YAAY,CAACT,MAAM,EAAEC,OAAO,EAAEC,WAAW,CAAC;MAC/D,IAAI,CAACE,UAAU,CAACC,gBAAgB,CAACL,MAAM,CAACM,QAAQ,CAAC,CAAC,CAAC,EAAE;QACpD;QACAJ,WAAW,CAACK,QAAQ,CAACC,WAAW,CAACP,OAAO,EAAE,eAAe,EAAE,IAAI,CAAC;MACjE;IACD,CAAC;IAAAJ,wBAAA,CAEMa,qBAAqB,GAA5B,SAAOA,qBAAqBA,CAAA,EAAS,CAAC,CAAC;IAAAb,wBAAA,CAEhCc,gBAAgB,GAAvB,SAAOA,gBAAgBA,CAACX,MAAkB,EAAU;MACnD,OAAOG,cAAc,CAACQ,gBAAgB,CAACX,MAAM,CAAC;IAC/C,CAAC;IAAAH,wBAAA,CAEMe,0BAA0B,GAAjC,SAAOA,0BAA0BA,CAACZ,MAAkB,EAAEa,YAA0B,EAAU;MACzF,OAAOV,cAAc,CAACS,0BAA0B,CAACZ,MAAM,EAAEa,YAAY,CAAC;IACvE,CAAC;IAAA,OAAAhB,wBAAA;EAAA;EAAAC,QAAA,GAAAD,wBAAA;EAAA,OAAAC,QAAA;AAAA","ignoreList":[],"file":"UnstashControlAndConnect-dbg.js"}