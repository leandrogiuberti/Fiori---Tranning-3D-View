{"version":3,"file":"StashControlAndDisconnect.js","names":["StashControlAndDisconnect","_exports","applyChange","async","change","control","propertyBag","StashControl","LayerUtils","isDeveloperLayer","getLayer","modifier","setProperty","revertChange","completeChangeContent","getCondenserInfo","getChangeVisualizationInfo","appComponent"],"sources":["./StashControlAndDisconnect.ts"],"sourcesContent":["import type AppComponent from \"sap/fe/core/AppComponent\";\nimport type Control from \"sap/ui/core/Control\";\nimport type BaseTreeModifier from \"sap/ui/core/util/reflection/BaseTreeModifier\";\nimport LayerUtils from \"sap/ui/fl/LayerUtils\";\nimport StashControl from \"sap/ui/fl/changeHandler/StashControl\";\n\ntype FlexChange = {\n\tgetLayer: () => string;\n};\nexport default class StashControlAndDisconnect {\n\tstatic async applyChange(change: FlexChange, control: Control, propertyBag: { modifier: typeof BaseTreeModifier }): Promise<void> {\n\t\tawait StashControl.applyChange(change, control, propertyBag);\n\t\tif (!LayerUtils.isDeveloperLayer(change.getLayer())) {\n\t\t\t// If we're at the key user layer we should force the disconnect as the stash is just a hide\n\t\t\tpropertyBag.modifier.setProperty(control, \"_disconnected\", true);\n\t\t}\n\t}\n\n\tstatic async revertChange(change: FlexChange, control: Control, propertyBag: { modifier: typeof BaseTreeModifier }): Promise<void> {\n\t\tawait StashControl.revertChange(change, control, propertyBag);\n\t\tif (!LayerUtils.isDeveloperLayer(change.getLayer())) {\n\t\t\t// If we're at the key user layer we should force the disconnect as the stash is just a hide\n\t\t\tpropertyBag.modifier.setProperty(control, \"_disconnected\", false);\n\t\t}\n\t}\n\n\tstatic completeChangeContent(): void {}\n\n\tstatic getCondenserInfo(change: FlexChange): object {\n\t\treturn StashControl.getCondenserInfo(change);\n\t}\n\n\tstatic getChangeVisualizationInfo(change: FlexChange, appComponent: AppComponent): object {\n\t\treturn StashControl.getChangeVisualizationInfo(change, appComponent);\n\t}\n}\n"],"mappings":";;;;sHASqBA,EAAyB,oBAAAA,IAAA,CAAAC,EAAAD,IAChCE,YAAbC,eAAaD,EAAYE,EAAoBC,EAAkBC,SACxDC,EAAaL,YAAYE,EAAQC,EAASC,GAChD,IAAKE,EAAWC,iBAAiBL,EAAOM,YAAa,CAEpDJ,EAAYK,SAASC,YAAYP,EAAS,gBAAiB,KAC5D,CACD,EAACL,EAEYa,aAAbV,eAAaU,EAAaT,EAAoBC,EAAkBC,SACzDC,EAAaM,aAAaT,EAAQC,EAASC,GACjD,IAAKE,EAAWC,iBAAiBL,EAAOM,YAAa,CAEpDJ,EAAYK,SAASC,YAAYP,EAAS,gBAAiB,MAC5D,CACD,EAACL,EAEMc,sBAAP,SAAOA,IAA+B,EAACd,EAEhCe,iBAAP,SAAOA,EAAiBX,GACvB,OAAOG,EAAaQ,iBAAiBX,EACtC,EAACJ,EAEMgB,2BAAP,SAAOA,EAA2BZ,EAAoBa,GACrD,OAAOV,EAAaS,2BAA2BZ,EAAQa,EACxD,EAAC,OAAAjB,CAAA,CAzB4C,GAyB5CC,EAAAD,EAAA,OAAAC,CAAA","ignoreList":[]}