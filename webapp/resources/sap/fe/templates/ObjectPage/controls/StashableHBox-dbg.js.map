{"version":3,"names":["StashableHBox","_dec","defineUI5Class","designtime","_dec2","property","type","_dec3","_dec4","_class","_class2","_HBox","_this","_len","arguments","length","args","Array","_key","call","_initializerDefineProperty","_descriptor","_descriptor2","_descriptor3","_inheritsLoose","_proto","prototype","setTitle","sTitle","oControl","getTitleControl","setText","title","getTitle","fallbackTitle","onAfterRendering","getText","getControlItems","items","aItems","i","getItems","getMicroChartTitle","getContent","content","item","isA","set_disconnected","disconnected","_disconnected","setBindingContext","undefined","getFormLabels","ret","formVBox","forEach","formElementHBox","labelCtrl","push","HBox","_applyDecoratedDescriptor","configurable","enumerable","writable","initializer","StashedControlSupport","mixInto"],"sourceRoot":".","sources":["StashableHBox.ts"],"sourcesContent":["import type { EnhanceWithUI5 } from \"sap/fe/base/ClassSupport\";\nimport { defineUI5Class, property } from \"sap/fe/base/ClassSupport\";\nimport type MicroChart from \"sap/fe/macros/MicroChart\";\nimport type TitleLink from \"sap/fe/macros/internal/TitleLink\";\nimport type MicroChartContainer from \"sap/fe/macros/microchart/MicroChartContainer\";\nimport HBox from \"sap/m/HBox\";\nimport type Label from \"sap/m/Label\";\nimport type Link from \"sap/m/Link\";\nimport type Title from \"sap/m/Title\";\nimport type VBox from \"sap/m/VBox\";\nimport type Control from \"sap/ui/core/Control\";\nimport StashedControlSupport from \"sap/ui/core/StashedControlSupport\";\n@defineUI5Class(\"sap.fe.templates.ObjectPage.controls.StashableHBox\", {\n\tdesigntime: \"sap/fe/templates/ObjectPage/designtime/StashableHBox.designtime\"\n})\nclass StashableHBox extends HBox {\n\t/*\n\t * Title of the Header Facet. Not visible on the UI. Visible on the UI is the Title or Link control inside the items aggregation of the Header Facet.\n\t * Must always be in sync with the visible Title or Link control.\n\t */\n\t@property({ type: \"string\" })\n\ttitle!: string;\n\n\t/*\n\t * Fallback title to be displayed if no title is available (only needed for displaying stashed header facets in Flex dialog)\n\t */\n\t@property({ type: \"string\" })\n\tfallbackTitle!: string;\n\n\t@property({ type: \"boolean\" })\n\t_disconnected!: boolean;\n\n\t/*\n\t * Set title of visible Title/Link control and own title property.\n\t */\n\tsetTitle(sTitle: string): this {\n\t\tconst oControl = this.getTitleControl();\n\t\tif (oControl) {\n\t\t\toControl.setText(sTitle);\n\t\t}\n\t\tthis.title = sTitle;\n\n\t\treturn this;\n\t}\n\n\t/*\n\t * Return the title property.\n\t */\n\tgetTitle(): string {\n\t\treturn this.title || this.fallbackTitle;\n\t}\n\n\t/*\n\t * In case of UI changes, Title/Link text needs to be set to new value after Header Facet control and inner controls are rendered.\n\t * Else: title property needs to be initialized.\n\t */\n\tonAfterRendering(): void {\n\t\tif (this.title) {\n\t\t\tthis.setTitle(this.title);\n\t\t} else {\n\t\t\tconst oControl = this.getTitleControl();\n\t\t\tif (oControl) {\n\t\t\t\tthis.title = oControl.getText();\n\t\t\t}\n\t\t}\n\t}\n\n\tgetControlItems(items: Control[]): Control[] {\n\t\tlet aItems: Control[] = [],\n\t\t\ti;\n\t\tif (items) {\n\t\t\tfor (i = 0; i < items.length; i++) {\n\t\t\t\tif ((items[i] as HBox).getItems) {\n\t\t\t\t\taItems = (items[i] as HBox).getItems();\n\t\t\t\t} else if ((items[i] as EnhanceWithUI5<MicroChartContainer>).getMicroChartTitle) {\n\t\t\t\t\taItems = (items[i] as EnhanceWithUI5<MicroChartContainer>).getMicroChartTitle();\n\t\t\t\t} else if (\n\t\t\t\t\t((items[i] as EnhanceWithUI5<MicroChart>).getContent() as EnhanceWithUI5<MicroChartContainer>).getMicroChartTitle\n\t\t\t\t) {\n\t\t\t\t\taItems = (\n\t\t\t\t\t\t(items[i] as EnhanceWithUI5<MicroChart>).getContent() as EnhanceWithUI5<MicroChartContainer>\n\t\t\t\t\t).getMicroChartTitle();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn aItems;\n\t}\n\n\t/*\n\t * Retrieves Title/Link control from items aggregation.\n\t */\n\tgetTitleControl(): Link | null {\n\t\tlet aItems: Control[] = [],\n\t\t\tcontent,\n\t\t\ti;\n\t\tconst items = this.getItems();\n\t\taItems = this.getControlItems(items);\n\t\tfor (i = 0; i < aItems.length; i++) {\n\t\t\tconst item = aItems[i].isA(\"sap.fe.macros.internal.TitleLink\") ? (aItems[i] as TitleLink).getContent() : aItems[i];\n\t\t\tif (item) {\n\t\t\t\tif (item.isA<Title>(\"sap.m.Title\") || item.isA<Link>(\"sap.m.Link\")) {\n\t\t\t\t\tif (item.isA<Title>(\"sap.m.Title\")) {\n\t\t\t\t\t\t// If a title was found, check if there is a link in the content aggregation\n\t\t\t\t\t\tcontent = item.getContent() as unknown as Control | undefined;\n\t\t\t\t\t\tif (content && content.isA<Link>(\"sap.m.Link\")) {\n\t\t\t\t\t\t\treturn content;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn item as Link;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn null;\n\t}\n\n\tset_disconnected(disconnected: boolean): this {\n\t\tthis._disconnected = disconnected;\n\t\t// By setting the binding context to `null` we are preventing data loading\n\t\t// Setting it back to `undefined` ensures that the parent context is applied\n\t\tif (disconnected) {\n\t\t\tthis.setBindingContext(null);\n\t\t} else {\n\t\t\tthis.setBindingContext(undefined);\n\t\t}\n\t\treturn this;\n\t}\n\n\t/*\n\t * Retrieves label controls from items aggregation.\n\t */\n\tgetFormLabels(): Label[] {\n\t\t// NOTE: Present implementation only supports for direct ReferenceFacets(VBox) in UI.Facets as per the requirement for getting Labels from forms.\n\t\tconst ret: Label[] = [],\n\t\t\tformVBox = this.getItems && this.getItems()[0];\n\n\t\t// VBox is equivalent of form\n\t\tif (formVBox?.isA<VBox>(\"sap.m.VBox\")) {\n\t\t\tformVBox.getItems().forEach((formElementHBox) => {\n\t\t\t\t// HBox is equivalent of form element\n\t\t\t\tif (formElementHBox.isA<HBox>(\"sap.m.HBox\")) {\n\t\t\t\t\tconst labelCtrl = formElementHBox.getItems()[0];\n\t\t\t\t\tif (labelCtrl?.isA<Label>(\"sap.m.Label\")) {\n\t\t\t\t\t\t// First element is label\n\t\t\t\t\t\tret.push(labelCtrl);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\treturn ret;\n\t}\n}\nStashedControlSupport.mixInto(StashableHBox);\n\nexport default StashableHBox;\n"],"mappings":"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","ignoreList":[],"file":"StashableHBox-dbg.js"}