{"version":3,"file":"ObjectPage.designtime.helper.js","names":["getDesigntimeSettings","editableHeaderContent","id","name","description","value","type","variantManagement","enums","keyUser","sectionLayout","visible","path","showRelatedApps","openInEditMode","additionalSemanticObjects","_exports","getAdapationProperties","designtimeSettings","control","propertyValues","viewDataSettings","getParent","getViewData","viewDataComponent","forEach","setting","undefined","content","header","JSON","stringify","getSettings","items","manifestSetting","settingsData","label","tooltip","controlData","enum","push"],"sources":["./ObjectPage.designtime.helper.ts"],"sourcesContent":["import type { ObjectPageManifestSettings } from \"sap/fe/core/converters/ManifestSettings\";\nimport type { DesigntimeSetting, DesigntimeSettingEnums, PropertyValue, SettingsData } from \"sap/fe/macros/designtime/Designtime.helper\";\nimport type Control from \"sap/ui/core/Control\";\nimport type View from \"sap/ui/core/mvc/View\";\nimport type ObjectPageComponent from \"../Component\";\n\ntype ControlData = {\n\ttype: string | undefined;\n\tenum: DesigntimeSettingEnums[] | undefined;\n\tvalue: unknown;\n\tid: string;\n};\n/**\n * Return the available designtime settings for a specific object page.\n * @returns The available designtime settings for the current object page\n */\nexport function getDesigntimeSettings(): DesigntimeSetting[] {\n\t// Properties for the ObjectPage. Most of these are used by the converter.\n\tconst editableHeaderContent: DesigntimeSetting = {\n\t\tid: \"editableHeaderContent\",\n\t\tname: \"RTA_CONFIGURATION_OP_EHC_NAME\",\n\t\tdescription: \"RTA_CONFIGURATION_OP_EHC_DESC\",\n\t\tvalue: true,\n\t\ttype: \"boolean\"\n\t};\n\tconst variantManagement: DesigntimeSetting = {\n\t\tid: \"variantManagement\",\n\t\tname: \"RTA_CONFIGURATION_OP_VM_NAME\",\n\t\tdescription: \"RTA_CONFIGURATION_OP_VM_DESC\",\n\t\ttype: \"string\",\n\t\tvalue: \"None\",\n\t\tenums: [\n\t\t\t{ id: \"Control\", name: \"RTA_CONFIGURATION_OP_VM_ENUM_CONTROL\" },\n\t\t\t{ id: \"None\", name: \"RTA_CONFIGURATION_OP_VM_ENUM_NONE\" }\n\t\t],\n\t\tkeyUser: true\n\t};\n\tconst sectionLayout: DesigntimeSetting = {\n\t\tid: \"sectionLayout\",\n\t\tname: \"RTA_CONFIGURATION_OP_SL_NAME\",\n\t\tdescription: \"RTA_CONFIGURATION_OP_SL_DESC\",\n\t\ttype: \"string\",\n\t\tvalue: \"Page\",\n\t\tenums: [\n\t\t\t{ id: \"Page\", name: \"RTA_CONFIGURATION_OP_SL_ENUM_PAGE\" },\n\t\t\t{ id: \"Tabs\", name: \"RTA_CONFIGURATION_OP_SL_ENUM_TABS\" }\n\t\t]\n\t};\n\tconst visible: DesigntimeSetting = {\n\t\tid: \"visible\",\n\t\tpath: \"content/header/visible\",\n\t\tname: \"RTA_CONFIGURATION_OP_VH_NAME\",\n\t\tdescription: \"RTA_CONFIGURATION_OP_VH_DESC\",\n\t\ttype: \"boolean\",\n\t\tvalue: true\n\t};\n\tconst showRelatedApps: DesigntimeSetting = {\n\t\tid: \"showRelatedApps\",\n\t\tname: \"RTA_CONFIGURATION_OP_SR_NAME\",\n\t\tdescription: \"RTA_CONFIGURATION_OP_SR_DESC\",\n\t\ttype: \"boolean\",\n\t\tvalue: true\n\t};\n\tconst openInEditMode: DesigntimeSetting = {\n\t\tid: \"openInEditMode\",\n\t\tname: \"RTA_CONFIGURATION_OP_OE_NAME\",\n\t\tdescription: \"RTA_CONFIGURATION_OP_OE_DESC\",\n\t\ttype: \"boolean\",\n\t\tvalue: false\n\t};\n\tconst additionalSemanticObjects: DesigntimeSetting = {\n\t\tid: \"additionalSemanticObjects\",\n\t\tname: \"RTA_CONFIGURATION_OP_AS_NAME\",\n\t\tdescription: \"RTA_CONFIGURATION_OP_AS_DESC\",\n\t\ttype: \"json\",\n\t\tvalue: []\n\t};\n\n\treturn [editableHeaderContent, variantManagement, sectionLayout, visible, showRelatedApps, openInEditMode, additionalSemanticObjects];\n}\n/**\n * Returns the values of the settings that are defined for table adaption.\n * @param designtimeSettings Array of the settings for object page\n * @param control Reference to the object page\n * @returns An object containg the settings with values\n */\nexport function getAdapationProperties(designtimeSettings: DesigntimeSetting[], control: Control): PropertyValue {\n\tconst propertyValues: PropertyValue = {\n\t\teditableHeaderContent: true,\n\t\tvariantManagement: \"None\",\n\t\tsectionLayout: \"Page\",\n\t\tvisible: true,\n\t\tshowRelatedApps: true,\n\t\topenInEditMode: false,\n\t\tadditionalSemanticObjects: \"\"\n\t};\n\n\t// Here we are retrieving the viewData from the parent view of the control\n\t// There is no type/class that has all properties from the object page manifest settings\n\t// That's why we are using two different constants for the same object\n\tconst viewDataSettings = (control.getParent() as View)!.getViewData() as ObjectPageManifestSettings;\n\tconst viewDataComponent = (control.getParent() as View)!.getViewData() as ObjectPageComponent;\n\n\tdesigntimeSettings.forEach(function (setting) {\n\t\tswitch (setting.id) {\n\t\t\tcase \"editableHeaderContent\":\n\t\t\t\tpropertyValues.editableHeaderContent =\n\t\t\t\t\tviewDataSettings.editableHeaderContent !== undefined\n\t\t\t\t\t\t? viewDataSettings.editableHeaderContent\n\t\t\t\t\t\t: propertyValues.editableHeaderContent;\n\t\t\t\tbreak;\n\t\t\tcase \"variantManagement\":\n\t\t\t\tpropertyValues.variantManagement =\n\t\t\t\t\tviewDataSettings.variantManagement !== undefined\n\t\t\t\t\t\t? viewDataSettings.variantManagement\n\t\t\t\t\t\t: propertyValues.variantManagement;\n\t\t\t\tbreak;\n\t\t\tcase \"sectionLayout\":\n\t\t\t\tpropertyValues.sectionLayout =\n\t\t\t\t\tviewDataSettings.sectionLayout !== undefined ? viewDataSettings.sectionLayout : propertyValues.sectionLayout;\n\t\t\t\tbreak;\n\t\t\tcase \"visible\":\n\t\t\t\tpropertyValues.visible =\n\t\t\t\t\tviewDataSettings.content?.header?.visible !== undefined\n\t\t\t\t\t\t? viewDataSettings.content.header.visible\n\t\t\t\t\t\t: propertyValues.visible;\n\t\t\t\tbreak;\n\t\t\tcase \"showRelatedApps\":\n\t\t\t\tpropertyValues.showRelatedApps =\n\t\t\t\t\tviewDataComponent.showRelatedApps !== undefined ? viewDataComponent.showRelatedApps : propertyValues.showRelatedApps;\n\t\t\t\tbreak;\n\t\t\tcase \"openInEditMode\":\n\t\t\t\tpropertyValues.openInEditMode =\n\t\t\t\t\tviewDataComponent.openInEditMode !== undefined ? viewDataComponent.openInEditMode : propertyValues.openInEditMode;\n\t\t\t\tbreak;\n\t\t\tcase \"additionalSemanticObjects\":\n\t\t\t\tpropertyValues.additionalSemanticObjects = JSON.stringify(viewDataComponent.additionalSemanticObjects);\n\t\t}\n\t});\n\n\treturn propertyValues;\n}\n/**\n * Returns the values of the settings that are defined for object page adaption.\n * @param propertyValues List of settings and current values provided for object page\n * @returns Content in list form to be used in adapation dialog\n */\nexport function getSettings(propertyValues: PropertyValue): SettingsData[] {\n\tconst items: SettingsData[] = [];\n\n\tgetDesigntimeSettings().forEach(function (manifestSetting) {\n\t\t//Fill model for adaptation settings data\n\t\tconst settingsData: SettingsData = {\n\t\t\tlabel: manifestSetting.name,\n\t\t\ttooltip: manifestSetting.description,\n\t\t\tcontrol: [],\n\t\t\tkeyUser: manifestSetting.keyUser\n\t\t};\n\n\t\tconst controlData: ControlData = {\n\t\t\ttype: manifestSetting.type,\n\t\t\tenum: manifestSetting.enums,\n\t\t\tvalue: propertyValues[manifestSetting.id],\n\t\t\tid: manifestSetting.id\n\t\t};\n\n\t\tsettingsData.control.push(controlData);\n\t\titems.push(settingsData);\n\t});\n\treturn items;\n}\n"],"mappings":";;;;kDAgBO,SAASA,IAEf,MAAMC,EAA2C,CAChDC,GAAI,wBACJC,KAAM,gCACNC,YAAa,gCACbC,MAAO,KACPC,KAAM,WAEP,MAAMC,EAAuC,CAC5CL,GAAI,oBACJC,KAAM,+BACNC,YAAa,+BACbE,KAAM,SACND,MAAO,OACPG,MAAO,CACN,CAAEN,GAAI,UAAWC,KAAM,wCACvB,CAAED,GAAI,OAAQC,KAAM,sCAErBM,QAAS,MAEV,MAAMC,EAAmC,CACxCR,GAAI,gBACJC,KAAM,+BACNC,YAAa,+BACbE,KAAM,SACND,MAAO,OACPG,MAAO,CACN,CAAEN,GAAI,OAAQC,KAAM,qCACpB,CAAED,GAAI,OAAQC,KAAM,uCAGtB,MAAMQ,EAA6B,CAClCT,GAAI,UACJU,KAAM,yBACNT,KAAM,+BACNC,YAAa,+BACbE,KAAM,UACND,MAAO,MAER,MAAMQ,EAAqC,CAC1CX,GAAI,kBACJC,KAAM,+BACNC,YAAa,+BACbE,KAAM,UACND,MAAO,MAER,MAAMS,EAAoC,CACzCZ,GAAI,iBACJC,KAAM,+BACNC,YAAa,+BACbE,KAAM,UACND,MAAO,OAER,MAAMU,EAA+C,CACpDb,GAAI,4BACJC,KAAM,+BACNC,YAAa,+BACbE,KAAM,OACND,MAAO,IAGR,MAAO,CAACJ,EAAuBM,EAAmBG,EAAeC,EAASE,EAAiBC,EAAgBC,EAC5G,CACAC,EAAAhB,wBAMO,SAASiB,EAAuBC,EAAyCC,GAC/E,MAAMC,EAAgC,CACrCnB,sBAAuB,KACvBM,kBAAmB,OACnBG,cAAe,OACfC,QAAS,KACTE,gBAAiB,KACjBC,eAAgB,MAChBC,0BAA2B,IAM5B,MAAMM,EAAoBF,EAAQG,YAAsBC,cACxD,MAAMC,EAAqBL,EAAQG,YAAsBC,cAEzDL,EAAmBO,QAAQ,SAAUC,GACpC,OAAQA,EAAQxB,IACf,IAAK,wBACJkB,EAAenB,sBACdoB,EAAiBpB,wBAA0B0B,UACxCN,EAAiBpB,sBACjBmB,EAAenB,sBACnB,MACD,IAAK,oBACJmB,EAAeb,kBACdc,EAAiBd,oBAAsBoB,UACpCN,EAAiBd,kBACjBa,EAAeb,kBACnB,MACD,IAAK,gBACJa,EAAeV,cACdW,EAAiBX,gBAAkBiB,UAAYN,EAAiBX,cAAgBU,EAAeV,cAChG,MACD,IAAK,UACJU,EAAeT,QACdU,EAAiBO,SAASC,QAAQlB,UAAYgB,UAC3CN,EAAiBO,QAAQC,OAAOlB,QAChCS,EAAeT,QACnB,MACD,IAAK,kBACJS,EAAeP,gBACdW,EAAkBX,kBAAoBc,UAAYH,EAAkBX,gBAAkBO,EAAeP,gBACtG,MACD,IAAK,iBACJO,EAAeN,eACdU,EAAkBV,iBAAmBa,UAAYH,EAAkBV,eAAiBM,EAAeN,eACpG,MACD,IAAK,4BACJM,EAAeL,0BAA4Be,KAAKC,UAAUP,EAAkBT,2BAE/E,GAEA,OAAOK,CACR,CACAJ,EAAAC,yBAKO,SAASe,EAAYZ,GAC3B,MAAMa,EAAwB,GAE9BjC,IAAwByB,QAAQ,SAAUS,GAEzC,MAAMC,EAA6B,CAClCC,MAAOF,EAAgB/B,KACvBkC,QAASH,EAAgB9B,YACzBe,QAAS,GACTV,QAASyB,EAAgBzB,SAG1B,MAAM6B,EAA2B,CAChChC,KAAM4B,EAAgB5B,KACtBiC,KAAML,EAAgB1B,MACtBH,MAAOe,EAAec,EAAgBhC,IACtCA,GAAIgC,EAAgBhC,IAGrBiC,EAAahB,QAAQqB,KAAKF,GAC1BL,EAAMO,KAAKL,EACZ,GACA,OAAOF,CACR,CAACjB,EAAAgB,cAAA,OAAAhB,CAAA","ignoreList":[]}