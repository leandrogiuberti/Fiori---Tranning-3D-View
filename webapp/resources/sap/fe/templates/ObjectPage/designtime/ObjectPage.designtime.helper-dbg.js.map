{"version":3,"names":["getDesigntimeSettings","editableHeaderContent","id","name","description","value","type","variantManagement","enums","keyUser","sectionLayout","visible","path","showRelatedApps","openInEditMode","additionalSemanticObjects","_exports","getAdapationProperties","designtimeSettings","control","propertyValues","viewDataSettings","getParent","getViewData","viewDataComponent","forEach","setting","undefined","content","header","JSON","stringify","getSettings","items","manifestSetting","settingsData","label","tooltip","controlData","enum","push"],"sourceRoot":".","sources":["ObjectPage.designtime.helper.ts"],"sourcesContent":["import type { ObjectPageManifestSettings } from \"sap/fe/core/converters/ManifestSettings\";\nimport type { DesigntimeSetting, DesigntimeSettingEnums, PropertyValue, SettingsData } from \"sap/fe/macros/designtime/Designtime.helper\";\nimport type Control from \"sap/ui/core/Control\";\nimport type View from \"sap/ui/core/mvc/View\";\nimport type ObjectPageComponent from \"../Component\";\n\ntype ControlData = {\n\ttype: string | undefined;\n\tenum: DesigntimeSettingEnums[] | undefined;\n\tvalue: unknown;\n\tid: string;\n};\n/**\n * Return the available designtime settings for a specific object page.\n * @returns The available designtime settings for the current object page\n */\nexport function getDesigntimeSettings(): DesigntimeSetting[] {\n\t// Properties for the ObjectPage. Most of these are used by the converter.\n\tconst editableHeaderContent: DesigntimeSetting = {\n\t\tid: \"editableHeaderContent\",\n\t\tname: \"RTA_CONFIGURATION_OP_EHC_NAME\",\n\t\tdescription: \"RTA_CONFIGURATION_OP_EHC_DESC\",\n\t\tvalue: true,\n\t\ttype: \"boolean\"\n\t};\n\tconst variantManagement: DesigntimeSetting = {\n\t\tid: \"variantManagement\",\n\t\tname: \"RTA_CONFIGURATION_OP_VM_NAME\",\n\t\tdescription: \"RTA_CONFIGURATION_OP_VM_DESC\",\n\t\ttype: \"string\",\n\t\tvalue: \"None\",\n\t\tenums: [\n\t\t\t{ id: \"Control\", name: \"RTA_CONFIGURATION_OP_VM_ENUM_CONTROL\" },\n\t\t\t{ id: \"None\", name: \"RTA_CONFIGURATION_OP_VM_ENUM_NONE\" }\n\t\t],\n\t\tkeyUser: true\n\t};\n\tconst sectionLayout: DesigntimeSetting = {\n\t\tid: \"sectionLayout\",\n\t\tname: \"RTA_CONFIGURATION_OP_SL_NAME\",\n\t\tdescription: \"RTA_CONFIGURATION_OP_SL_DESC\",\n\t\ttype: \"string\",\n\t\tvalue: \"Page\",\n\t\tenums: [\n\t\t\t{ id: \"Page\", name: \"RTA_CONFIGURATION_OP_SL_ENUM_PAGE\" },\n\t\t\t{ id: \"Tabs\", name: \"RTA_CONFIGURATION_OP_SL_ENUM_TABS\" }\n\t\t]\n\t};\n\tconst visible: DesigntimeSetting = {\n\t\tid: \"visible\",\n\t\tpath: \"content/header/visible\",\n\t\tname: \"RTA_CONFIGURATION_OP_VH_NAME\",\n\t\tdescription: \"RTA_CONFIGURATION_OP_VH_DESC\",\n\t\ttype: \"boolean\",\n\t\tvalue: true\n\t};\n\tconst showRelatedApps: DesigntimeSetting = {\n\t\tid: \"showRelatedApps\",\n\t\tname: \"RTA_CONFIGURATION_OP_SR_NAME\",\n\t\tdescription: \"RTA_CONFIGURATION_OP_SR_DESC\",\n\t\ttype: \"boolean\",\n\t\tvalue: true\n\t};\n\tconst openInEditMode: DesigntimeSetting = {\n\t\tid: \"openInEditMode\",\n\t\tname: \"RTA_CONFIGURATION_OP_OE_NAME\",\n\t\tdescription: \"RTA_CONFIGURATION_OP_OE_DESC\",\n\t\ttype: \"boolean\",\n\t\tvalue: false\n\t};\n\tconst additionalSemanticObjects: DesigntimeSetting = {\n\t\tid: \"additionalSemanticObjects\",\n\t\tname: \"RTA_CONFIGURATION_OP_AS_NAME\",\n\t\tdescription: \"RTA_CONFIGURATION_OP_AS_DESC\",\n\t\ttype: \"json\",\n\t\tvalue: []\n\t};\n\n\treturn [editableHeaderContent, variantManagement, sectionLayout, visible, showRelatedApps, openInEditMode, additionalSemanticObjects];\n}\n/**\n * Returns the values of the settings that are defined for table adaption.\n * @param designtimeSettings Array of the settings for object page\n * @param control Reference to the object page\n * @returns An object containg the settings with values\n */\nexport function getAdapationProperties(designtimeSettings: DesigntimeSetting[], control: Control): PropertyValue {\n\tconst propertyValues: PropertyValue = {\n\t\teditableHeaderContent: true,\n\t\tvariantManagement: \"None\",\n\t\tsectionLayout: \"Page\",\n\t\tvisible: true,\n\t\tshowRelatedApps: true,\n\t\topenInEditMode: false,\n\t\tadditionalSemanticObjects: \"\"\n\t};\n\n\t// Here we are retrieving the viewData from the parent view of the control\n\t// There is no type/class that has all properties from the object page manifest settings\n\t// That's why we are using two different constants for the same object\n\tconst viewDataSettings = (control.getParent() as View)!.getViewData() as ObjectPageManifestSettings;\n\tconst viewDataComponent = (control.getParent() as View)!.getViewData() as ObjectPageComponent;\n\n\tdesigntimeSettings.forEach(function (setting) {\n\t\tswitch (setting.id) {\n\t\t\tcase \"editableHeaderContent\":\n\t\t\t\tpropertyValues.editableHeaderContent =\n\t\t\t\t\tviewDataSettings.editableHeaderContent !== undefined\n\t\t\t\t\t\t? viewDataSettings.editableHeaderContent\n\t\t\t\t\t\t: propertyValues.editableHeaderContent;\n\t\t\t\tbreak;\n\t\t\tcase \"variantManagement\":\n\t\t\t\tpropertyValues.variantManagement =\n\t\t\t\t\tviewDataSettings.variantManagement !== undefined\n\t\t\t\t\t\t? viewDataSettings.variantManagement\n\t\t\t\t\t\t: propertyValues.variantManagement;\n\t\t\t\tbreak;\n\t\t\tcase \"sectionLayout\":\n\t\t\t\tpropertyValues.sectionLayout =\n\t\t\t\t\tviewDataSettings.sectionLayout !== undefined ? viewDataSettings.sectionLayout : propertyValues.sectionLayout;\n\t\t\t\tbreak;\n\t\t\tcase \"visible\":\n\t\t\t\tpropertyValues.visible =\n\t\t\t\t\tviewDataSettings.content?.header?.visible !== undefined\n\t\t\t\t\t\t? viewDataSettings.content.header.visible\n\t\t\t\t\t\t: propertyValues.visible;\n\t\t\t\tbreak;\n\t\t\tcase \"showRelatedApps\":\n\t\t\t\tpropertyValues.showRelatedApps =\n\t\t\t\t\tviewDataComponent.showRelatedApps !== undefined ? viewDataComponent.showRelatedApps : propertyValues.showRelatedApps;\n\t\t\t\tbreak;\n\t\t\tcase \"openInEditMode\":\n\t\t\t\tpropertyValues.openInEditMode =\n\t\t\t\t\tviewDataComponent.openInEditMode !== undefined ? viewDataComponent.openInEditMode : propertyValues.openInEditMode;\n\t\t\t\tbreak;\n\t\t\tcase \"additionalSemanticObjects\":\n\t\t\t\tpropertyValues.additionalSemanticObjects = JSON.stringify(viewDataComponent.additionalSemanticObjects);\n\t\t}\n\t});\n\n\treturn propertyValues;\n}\n/**\n * Returns the values of the settings that are defined for object page adaption.\n * @param propertyValues List of settings and current values provided for object page\n * @returns Content in list form to be used in adapation dialog\n */\nexport function getSettings(propertyValues: PropertyValue): SettingsData[] {\n\tconst items: SettingsData[] = [];\n\n\tgetDesigntimeSettings().forEach(function (manifestSetting) {\n\t\t//Fill model for adaptation settings data\n\t\tconst settingsData: SettingsData = {\n\t\t\tlabel: manifestSetting.name,\n\t\t\ttooltip: manifestSetting.description,\n\t\t\tcontrol: [],\n\t\t\tkeyUser: manifestSetting.keyUser\n\t\t};\n\n\t\tconst controlData: ControlData = {\n\t\t\ttype: manifestSetting.type,\n\t\t\tenum: manifestSetting.enums,\n\t\t\tvalue: propertyValues[manifestSetting.id],\n\t\t\tid: manifestSetting.id\n\t\t};\n\n\t\tsettingsData.control.push(controlData);\n\t\titems.push(settingsData);\n\t});\n\treturn items;\n}\n"],"mappings":"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","ignoreList":[],"file":"ObjectPage.designtime.helper-dbg.js"}