{"version":3,"names":["CollaborationDiscard","view","isSave","formatUserStatus","userStatus","UserStatus","CurrentlyEditing","discardResourceModel","getText","ChangesMade","NoChangesMade","NotYetInvited","saveManageDialog","promiseResolve","manageDialog","close","destroy","discardManageDialog","cancelManageDialog","keepDraftManageDialog","actionIsSave","containingView","ResourceModelHelper","getResourceModel","actionButton","getSaveButton","topText","bottomText","getDiscardButton","_exports","load","GridTableControl","undefined","Lib","name","default","__ui5_require_async","GridTableColumnControl","_proto","prototype","getManageDialog","_jsx","Dialog","title","state","ValueState","Warning","contentWidth","children","buttons","_jsxs","_Fragment","getKeepDraftButton","getCancelButton","content","VBox","class","ObjectIdentifier","text","getManageDialogUserTable","Text","addDependent","bindElement","model","path","getManageDialogUserTableColumns","width","template","HBox","alignItems","justifyContent","Avatar","displaySize","backgroundColor","initials","label","ObjectStatus","formatter","formatUserStatusColor","viewInternalModelContext","getBindingContext","editingUsers","getProperty","tableRowCount","CommonHelper","isDesktop","length","rows","visibleRowCount","visibleRowCountMode","selectionMode","columns","Success","Information","readInvitedUsers","getModel","parameters","$select","invitedUserList","bindList","me","CollaborationUtils","getMe","CommonUtils","getAppComponent","internalModelContext","filter","Filter","operator","value1","id","contexts","requestContexts","activeUsers","setProperty","forEach","singleContext","userData","getObject","user","createUser","color","getUserColor","UserID","push","sortedUsers","sortUser","readCurrentUsers","currentUsers","currentUsersWithoutMe","map","status","sort","userA","userB","isActive","find","u","userDescription","UserDescription","formatInitials","UserEditingState","InProgress","Button","press","type","getUserAction","open","Promise","resolve"],"sourceRoot":".","sources":["CollaborationDiscardDialog.tsx"],"sourcesContent":["import type { FEView } from \"sap/fe/core/BaseController\";\nimport CommonUtils from \"sap/fe/core/CommonUtils\";\nimport type ResourceModel from \"sap/fe/core/ResourceModel\";\nimport type { BackendUser, User } from \"sap/fe/core/controllerextensions/collaboration/CollaborationCommon\";\nimport { CollaborationUtils, UserEditingState, UserStatus } from \"sap/fe/core/controllerextensions/collaboration/CollaborationCommon\";\nimport type { InternalModelContext } from \"sap/fe/core/helpers/ModelHelper\";\nimport ResourceModelHelper from \"sap/fe/core/helpers/ResourceModelHelper\";\nimport CommonHelper from \"sap/fe/macros/CommonHelper\";\nimport Avatar from \"sap/m/Avatar\";\nimport Button from \"sap/m/Button\";\nimport Dialog from \"sap/m/Dialog\";\nimport HBox from \"sap/m/HBox\";\nimport ObjectIdentifier from \"sap/m/ObjectIdentifier\";\nimport ObjectStatus from \"sap/m/ObjectStatus\";\nimport Text from \"sap/m/Text\";\nimport VBox from \"sap/m/VBox\";\nimport Lib from \"sap/ui/core/Lib\";\nimport { ValueState } from \"sap/ui/core/library\";\nimport type Context from \"sap/ui/model/Context\";\nimport Filter from \"sap/ui/model/Filter\";\nimport type GridTableColumn from \"sap/ui/table/Column\";\nimport type GridTable from \"sap/ui/table/Table\";\n\nexport default class CollaborationDiscard {\n\tpublic id?: string;\n\n\tprivate promiseResolve!: Function;\n\n\tpublic discardResourceModel!: ResourceModel;\n\n\tpublic containingView!: FEView;\n\n\tpublic manageDialog!: Dialog;\n\n\tprivate actionButton!: Button;\n\n\tprivate topText!: string;\n\n\tprivate bottomText!: string;\n\n\tprivate actionIsSave!: boolean;\n\n\tprivate static GridTableControl: typeof GridTable;\n\n\tprivate static GridTableColumnControl: typeof GridTableColumn;\n\n\tconstructor(view: FEView, isSave: boolean) {\n\t\tthis.actionIsSave = isSave;\n\t\tthis.containingView = view;\n\t\tthis.discardResourceModel = ResourceModelHelper.getResourceModel(view);\n\t\tif (isSave) {\n\t\t\tthis.actionButton = this.getSaveButton();\n\t\t\tthis.topText = this.discardResourceModel.getText(\"C_COLLABORATIONDRAFT_DISCARD_EDITING_DRAFT\");\n\t\t\tthis.bottomText = this.discardResourceModel.getText(\"C_COLLABORATIONDRAFT_DISCARD_SAVE_WARNING\");\n\t\t} else {\n\t\t\tthis.actionButton = this.getDiscardButton();\n\t\t\tthis.topText = this.discardResourceModel.getText(\"C_COLLABORATIONDRAFT_DISCARD_CHANGES_DRAFT\");\n\t\t\tthis.bottomText = this.discardResourceModel.getText(\"C_COLLABORATIONDRAFT_DISCARD_DISCARD_WARNING\");\n\t\t}\n\t}\n\n\tstatic async load(): Promise<typeof CollaborationDiscard> {\n\t\tif (CollaborationDiscard.GridTableControl === undefined) {\n\t\t\tawait Lib.load({ name: \"sap.ui.table\" });\n\t\t\tconst { default: GridTableControl } = await import(\"sap/ui/table/Table\");\n\t\t\tCollaborationDiscard.GridTableControl = GridTableControl;\n\t\t\tconst { default: GridTableColumnControl } = await import(\"sap/ui/table/Column\");\n\t\t\tCollaborationDiscard.GridTableColumnControl = GridTableColumnControl;\n\t\t}\n\t\treturn this;\n\t}\n\n\t/**\n\t * Returns the manage dialog used to invite further users.\n\t * @returns The control tree\n\t */\n\tgetManageDialog(): Dialog {\n\t\tthis.manageDialog = (\n\t\t\t<Dialog\n\t\t\t\ttitle={this.discardResourceModel.getText(\"C_COLLABORATIONDRAFT_DISCARD_TITLE\")}\n\t\t\t\tstate={ValueState.Warning}\n\t\t\t\tcontentWidth=\"35em\"\n\t\t\t>\n\t\t\t\t{{\n\t\t\t\t\tbuttons: (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\tkeepDraftButton = {this.getKeepDraftButton()}\n\t\t\t\t\t\t\tconfirmActionButton = {this.actionButton}\n\t\t\t\t\t\t\tcancelButton = {this.getCancelButton()}\n\t\t\t\t\t\t</>\n\t\t\t\t\t),\n\t\t\t\t\tcontent: (\n\t\t\t\t\t\t<VBox class=\"sapUiSmallMargin\">\n\t\t\t\t\t\t\t<ObjectIdentifier class=\"sapUiSmallMarginBottom\" text={this.topText}></ObjectIdentifier>\n\n\t\t\t\t\t\t\t{this.getManageDialogUserTable()}\n\n\t\t\t\t\t\t\t<Text class=\"sapUiSmallMarginTop\" text={this.bottomText}></Text>\n\t\t\t\t\t\t\t<Text\n\t\t\t\t\t\t\t\tclass=\"sapUiSmallMarginTop\"\n\t\t\t\t\t\t\t\ttext={this.discardResourceModel.getText(\"C_COLLABORATIONDRAFT_DISCARD_QUESTION\")}\n\t\t\t\t\t\t\t></Text>\n\t\t\t\t\t\t</VBox>\n\t\t\t\t\t)\n\t\t\t\t}}\n\t\t\t</Dialog>\n\t\t);\n\t\tthis.containingView.addDependent(this.manageDialog);\n\t\tthis.manageDialog.bindElement({\n\t\t\tmodel: \"internal\",\n\t\t\tpath: \"collaboration\"\n\t\t});\n\t\treturn this.manageDialog;\n\t}\n\n\t/**\n\t * Returns the table columns of invited users.\n\t * @returns The control tree\n\t */\n\tgetManageDialogUserTableColumns(): GridTableColumn[] {\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<CollaborationDiscard.GridTableColumnControl width=\"3em\">\n\t\t\t\t\t{{\n\t\t\t\t\t\ttemplate: (\n\t\t\t\t\t\t\t<HBox alignItems=\"Center\" justifyContent=\"SpaceBetween\" width=\"100%\">\n\t\t\t\t\t\t\t\t<Avatar displaySize=\"XS\" backgroundColor=\"{internal>color}\" initials=\"{internal>initials}\" />\n\t\t\t\t\t\t\t</HBox>\n\t\t\t\t\t\t)\n\t\t\t\t\t}}\n\t\t\t\t</CollaborationDiscard.GridTableColumnControl>\n\t\t\t\t<CollaborationDiscard.GridTableColumnControl width=\"10rem\">\n\t\t\t\t\t{{\n\t\t\t\t\t\tlabel: <Text text={this.discardResourceModel.getText(\"C_COLLABORATIONDRAFT_INVITATION_TABLE_USER_COLUMN\")} />,\n\t\t\t\t\t\ttemplate: <Text text=\"{internal>name}\" />\n\t\t\t\t\t}}\n\t\t\t\t</CollaborationDiscard.GridTableColumnControl>\n\t\t\t\t<CollaborationDiscard.GridTableColumnControl width=\"14em\">\n\t\t\t\t\t{{\n\t\t\t\t\t\tlabel: (\n\t\t\t\t\t\t\t<Text text={this.discardResourceModel.getText(\"C_COLLABORATIONDRAFT_INVITATION_TABLE_USER_STATUS_COLUMN\")} />\n\t\t\t\t\t\t),\n\t\t\t\t\t\ttemplate: (\n\t\t\t\t\t\t\t<ObjectStatus\n\t\t\t\t\t\t\t\tstate={{ path: \"internal>status\", formatter: this.formatUserStatusColor }}\n\t\t\t\t\t\t\t\ttext={{ path: \"internal>status\", formatter: this.formatUserStatus }}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)\n\t\t\t\t\t}}\n\t\t\t\t</CollaborationDiscard.GridTableColumnControl>\n\t\t\t</>\n\t\t);\n\t}\n\n\t/**\n\t * Returns the table with the list of invited users.\n\t * @returns The control tree\n\t */\n\tgetManageDialogUserTable(): GridTable {\n\t\tconst viewInternalModelContext = this.containingView.getBindingContext(\"internal\") as InternalModelContext;\n\t\tconst editingUsers = viewInternalModelContext.getProperty(\"collaboration/currentlyEditingUsers\");\n\t\tlet tableRowCount: number;\n\t\tif (CommonHelper.isDesktop()) {\n\t\t\ttableRowCount = editingUsers.length < 5 ? editingUsers.length : 5;\n\t\t} else {\n\t\t\ttableRowCount = editingUsers.length < 3 ? editingUsers.length : 3;\n\t\t}\n\n\t\treturn (\n\t\t\t<CollaborationDiscard.GridTableControl\n\t\t\t\twidth=\"100%\"\n\t\t\t\trows={{ path: \"internal>currentlyEditingUsers\" }}\n\t\t\t\tvisibleRowCount={tableRowCount}\n\t\t\t\tvisibleRowCountMode=\"Fixed\"\n\t\t\t\tselectionMode=\"None\"\n\t\t\t>\n\t\t\t\t{{\n\t\t\t\t\tcolumns: this.getManageDialogUserTableColumns()\n\t\t\t\t}}\n\t\t\t</CollaborationDiscard.GridTableControl>\n\t\t);\n\t}\n\n\t/**\n\t * Formatter to set the user color depending on the editing status.\n\t * @param userStatus The editing status of the user\n\t * @returns The user status color\n\t */\n\tformatUserStatusColor(userStatus: UserStatus): ValueState {\n\t\tswitch (userStatus) {\n\t\t\tcase UserStatus.CurrentlyEditing:\n\t\t\t\treturn ValueState.Success;\n\t\t\tcase UserStatus.ChangesMade:\n\t\t\t\treturn ValueState.Warning;\n\t\t\tcase UserStatus.NoChangesMade:\n\t\t\tcase UserStatus.NotYetInvited:\n\t\t\tdefault:\n\t\t\t\treturn ValueState.Information;\n\t\t}\n\t}\n\n\t/**\n\t * Formatter to set the user status depending on the editing status.\n\t * @param userStatus The editing status of the user\n\t * @returns The user status\n\t */\n\tformatUserStatus = (userStatus: UserStatus): string => {\n\t\tswitch (userStatus) {\n\t\t\tcase UserStatus.CurrentlyEditing:\n\t\t\t\treturn this.discardResourceModel.getText(\"C_COLLABORATIONDRAFT_USER_CURRENTLY_EDITING\");\n\t\t\tcase UserStatus.ChangesMade:\n\t\t\t\treturn this.discardResourceModel.getText(\"C_COLLABORATIONDRAFT_USER_CHANGES_MADE\");\n\t\t\tcase UserStatus.NoChangesMade:\n\t\t\t\treturn this.discardResourceModel.getText(\"C_COLLABORATIONDRAFT_USER_NO_CHANGES_MADE\");\n\t\t\tcase UserStatus.NotYetInvited:\n\t\t\tdefault:\n\t\t\t\treturn this.discardResourceModel.getText(\"C_COLLABORATIONDRAFT_USER_NOT_YET_INVITED\");\n\t\t}\n\t};\n\n\t/**\n\t * Reads the currently invited user and store it in the internal model.\n\t * @returns Promise that is resolved once the users are read.\n\t */\n\tasync readInvitedUsers(): Promise<void> {\n\t\tconst view = this.containingView;\n\t\tconst model = view.getModel();\n\t\tconst parameters = {\n\t\t\t$select: \"UserID,UserDescription,UserEditingState\"\n\t\t};\n\t\tconst invitedUserList = model.bindList(\n\t\t\t\"DraftAdministrativeData/DraftAdministrativeUser\",\n\t\t\tview.getBindingContext() as Context,\n\t\t\t[],\n\t\t\t[],\n\t\t\tparameters\n\t\t);\n\t\tconst me = CollaborationUtils.getMe(CommonUtils.getAppComponent(view));\n\t\tconst internalModelContext = view.getBindingContext(\"internal\") as InternalModelContext;\n\t\tif (me) {\n\t\t\tinvitedUserList.filter(\n\t\t\t\tnew Filter({\n\t\t\t\t\tpath: \"UserID\",\n\t\t\t\t\toperator: \"NE\",\n\t\t\t\t\tvalue1: me.id\n\t\t\t\t})\n\t\t\t);\n\t\t}\n\n\t\t// for now we set a limit to 100. there shouldn't be more than a few\n\t\tconst contexts = await invitedUserList.requestContexts(0, 100);\n\n\t\tconst editingUsers: User[] = [];\n\t\tconst activeUsers = view.getModel(\"internal\").getProperty(\"/collaboration/activeUsers\") || [];\n\t\tif (!contexts.length || contexts.length === 0) {\n\t\t\tinternalModelContext.setProperty(\"collaboration/currentlyEditingUsers\", []);\n\t\t\treturn;\n\t\t}\n\t\tcontexts.forEach((singleContext: Context) => {\n\t\t\tconst userData = singleContext.getObject() as BackendUser;\n\t\t\tconst user = this.createUser(userData, activeUsers);\n\t\t\tif (user) {\n\t\t\t\tuser.color = CollaborationUtils.getUserColor(userData.UserID, activeUsers, editingUsers);\n\t\t\t\teditingUsers.push(user);\n\t\t\t}\n\t\t});\n\n\t\tconst sortedUsers = this.sortUser(editingUsers);\n\n\t\tinternalModelContext.setProperty(\"collaboration/currentlyEditingUsers\", sortedUsers);\n\t}\n\n\t/**\n\t * Reads the list of users currently editing the draft (except me) and stores it in the internal model.\n\t */\n\treadCurrentUsers(): void {\n\t\tconst view = this.containingView;\n\t\tconst currentUsers: User[] = view.getModel(\"internal\").getProperty(\"/collaboration/activeUsers\") || [];\n\t\tconst currentUsersWithoutMe = currentUsers\n\t\t\t.filter((user: User) => user.me !== true)\n\t\t\t.map((user: User) => {\n\t\t\t\treturn { ...user, status: UserStatus.CurrentlyEditing };\n\t\t\t});\n\t\tconst internalModelContext = view.getBindingContext(\"internal\") as InternalModelContext;\n\t\tinternalModelContext.setProperty(\"collaboration/currentlyEditingUsers\", currentUsersWithoutMe);\n\t}\n\n\t/**\n\t * This sorts the user according the Editing Status.\n\t * CurrentlyEditing -> ChangesMade (Status 3 -> Status 2).\n\t * @param editingUsers The array of Users to sort\n\t * @returns The sorted array of Users\n\t */\n\tsortUser(editingUsers: User[]): User[] {\n\t\tlet sortedUsers = editingUsers;\n\t\tif (editingUsers.length > 1) {\n\t\t\t// We define our Users just above, Status is always defined\n\t\t\tsortedUsers = editingUsers.sort((userA: User, userB: User): number => {\n\t\t\t\tif (userA.status! < userB.status!) {\n\t\t\t\t\treturn 1;\n\t\t\t\t} else if (userA.status! > userB.status!) {\n\t\t\t\t\treturn -1;\n\t\t\t\t}\n\t\t\t\treturn 0;\n\t\t\t});\n\t\t}\n\t\treturn sortedUsers;\n\t}\n\n\tcreateUser(userData: BackendUser, activeUsers: User[]): User | undefined {\n\t\tlet userStatus: UserStatus;\n\t\tconst isActive = activeUsers.find((u: User) => u.id === userData.UserID);\n\t\tconst userDescription = userData.UserDescription ?? userData.UserID;\n\t\tconst initials = CollaborationUtils.formatInitials(userDescription);\n\t\tif (isActive) {\n\t\t\tuserStatus = UserStatus.CurrentlyEditing;\n\t\t} else if (userData.UserEditingState === UserEditingState.InProgress) {\n\t\t\tuserStatus = UserStatus.ChangesMade;\n\t\t} else {\n\t\t\t// This case is for user that are just invited, but didn't make any changes\n\t\t\treturn undefined;\n\t\t}\n\t\tconst user: User = {\n\t\t\tid: userData.UserID,\n\t\t\tname: userDescription,\n\t\t\tstatus: userStatus,\n\t\t\tinitials: initials\n\t\t};\n\t\treturn user;\n\t}\n\n\t/**\n\t * Returns the Save button.\n\t * @returns A button\n\t */\n\tprivate getSaveButton(): Button {\n\t\treturn <Button text={this.discardResourceModel.getText(\"C_COLLABORATIONDRAFT_DISCARD_SAVE\")} press={this.saveManageDialog} />;\n\t}\n\n\t/**\n\t * Event handler for the Save action of the manage dialog.\n\t *\n\t */\n\tsaveManageDialog = (): void => {\n\t\tthis.promiseResolve(\"save\");\n\t\tthis.manageDialog.close();\n\t\tthis.manageDialog.destroy();\n\t};\n\n\t/**\n\t * Returns the Discard button.\n\t * @returns A button\n\t */\n\tprivate getDiscardButton(): Button {\n\t\treturn <Button text={this.discardResourceModel.getText(\"C_COLLABORATIONDRAFT_DISCARD_DISCARD\")} press={this.discardManageDialog} />;\n\t}\n\n\t/**\n\t * Event handler for the Discard action of the manage dialog.\n\t *\n\t */\n\tprivate discardManageDialog = (): void => {\n\t\tthis.promiseResolve(\"discardConfirmed\");\n\t\tthis.manageDialog.close();\n\t\tthis.manageDialog.destroy();\n\t};\n\n\t/**\n\t * Returns the Cancel button.\n\t * @returns A button\n\t */\n\tprivate getCancelButton(): Button {\n\t\treturn <Button text={this.discardResourceModel.getText(\"C_COLLABORATIONDRAFT_DISCARD_CANCEL\")} press={this.cancelManageDialog} />;\n\t}\n\n\t/**\n\t * Event handler for the Cancel action of the manage dialog.\n\t *\n\t */\n\tprivate cancelManageDialog = (): void => {\n\t\tthis.promiseResolve(\"cancel\");\n\t\tthis.manageDialog.close();\n\t\tthis.manageDialog.destroy();\n\t};\n\n\t/**\n\t * Returns the Save button.\n\t * @returns A button\n\t */\n\tprivate getKeepDraftButton(): Button {\n\t\treturn (\n\t\t\t<Button\n\t\t\t\ttext={this.discardResourceModel.getText(\"C_COLLABORATIONDRAFT_DISCARD_KEEP_DRAFT\")}\n\t\t\t\tpress={this.keepDraftManageDialog}\n\t\t\t\ttype=\"Emphasized\"\n\t\t\t/>\n\t\t);\n\t}\n\n\t/**\n\t * Event handler for the Keep Draft action of the manage dialog.\n\t *\n\t */\n\tprivate keepDraftManageDialog = (): void => {\n\t\tthis.promiseResolve(\"keepDraft\");\n\t\tthis.manageDialog.close();\n\t\tthis.manageDialog.destroy();\n\t};\n\n\t/**\n\t * Reads the users, and opens the dialog to get the user input.\n\t * @returns A string of the action selected by the user\n\t */\n\tasync getUserAction(): Promise<string> {\n\t\tif (this.actionIsSave) {\n\t\t\t// In case of a Save, we only show the list of users which are currenly editing the draft\n\t\t\tthis.readCurrentUsers();\n\t\t} else {\n\t\t\tawait this.readInvitedUsers();\n\t\t}\n\n\t\treturn this.open();\n\t}\n\n\t/**\n\t * Opens the discard draft from Discard/Cancel action.\n\t * @returns A string of the action selected by the user\n\t */\n\tpublic async open(): Promise<string> {\n\t\tawait CollaborationDiscard.load();\n\t\tconst internalModelContext = this.containingView.getBindingContext(\"internal\") as InternalModelContext;\n\t\tconst editingUsers = internalModelContext.getProperty(\"collaboration/currentlyEditingUsers\");\n\t\tif (editingUsers.length === 0) {\n\t\t\treturn this.actionIsSave ? \"save\" : \"discard\";\n\t\t}\n\t\t// We create the dialog after reading the users\n\t\tthis.manageDialog = this.getManageDialog();\n\t\t// We set up the binding context of the Dialog\n\t\t(this.manageDialog.getBindingContext(\"internal\") as InternalModelContext).setProperty(\"currentlyEditingUsers\", editingUsers);\n\t\tthis.manageDialog.open();\n\n\t\treturn new Promise((resolve) => {\n\t\t\tthis.promiseResolve = resolve;\n\t\t});\n\t}\n}\n"],"mappings":"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","ignoreList":[],"file":"CollaborationDiscardDialog-dbg.js"}