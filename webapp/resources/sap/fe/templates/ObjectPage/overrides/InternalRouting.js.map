{"version":3,"file":"InternalRouting.js","names":["InternalRoutingExtension","onBeforeBinding","oContext","mParameters","this","getView","getController","_onBeforeBinding","onAfterBinding","_onAfterBinding","closeColumn","internalModelContext","getBindingContext","setProperty","context","path","getPath","metaModel","getModel","getMetaModel","metaPath","getMetaPath","technicalKeys","getObject","entry","technicalKeysObject","key","objKey"],"sources":["./InternalRouting.ts"],"sourcesContent":["import type InternalRouting from \"sap/fe/core/controllerextensions/InternalRouting\";\nimport type { InternalModelContext } from \"sap/fe/core/helpers/ModelHelper\";\nimport type ObjectPageController from \"sap/fe/templates/ObjectPage/ObjectPageController.controller\";\nimport type { BindingParams } from \"sap/fe/templates/ObjectPage/ObjectPageController.controller\";\nimport type Context from \"sap/ui/model/odata/v4/Context\";\n\nconst InternalRoutingExtension = {\n\tonBeforeBinding: function (this: InternalRouting, oContext: Context, mParameters: BindingParams): void {\n\t\t(this.getView().getController() as ObjectPageController)._onBeforeBinding(oContext, mParameters);\n\t},\n\tonAfterBinding: function (this: InternalRouting, oContext: Context, mParameters: BindingParams): void {\n\t\t(this.getView().getController() as ObjectPageController)._onAfterBinding(oContext, mParameters);\n\t},\n\tcloseColumn: function (this: InternalRouting): void {\n\t\tconst internalModelContext = this.getView().getBindingContext(\"internal\") as InternalModelContext;\n\t\tinternalModelContext.setProperty(\"fclColumnClosed\", true);\n\t\tconst context = this.getView().getBindingContext() as Context;\n\t\tconst path = (context && context.getPath()) || \"\";\n\t\tconst metaModel = context.getModel().getMetaModel();\n\t\tconst metaPath = metaModel.getMetaPath(path);\n\n\t\tconst technicalKeys = metaModel.getObject(`${metaPath}/$Type/$Key`);\n\t\tconst entry = context?.getObject();\n\t\tconst technicalKeysObject: Record<string, unknown> = {};\n\t\tfor (const key in technicalKeys) {\n\t\t\tconst objKey = technicalKeys[key];\n\t\t\tif (!technicalKeysObject[objKey]) {\n\t\t\t\ttechnicalKeysObject[objKey] = entry[objKey];\n\t\t\t}\n\t\t}\n\t\tinternalModelContext.setProperty(\"technicalKeysOfLastSeenRecord\", technicalKeysObject);\n\t}\n};\n\nexport default InternalRoutingExtension;\n"],"mappings":";;;;yCAMA,MAAMA,EAA2B,CAChCC,gBAAiB,SAAiCC,EAAmBC,GACnEC,KAAKC,UAAUC,gBAAyCC,iBAAiBL,EAAUC,EACrF,EACAK,eAAgB,SAAiCN,EAAmBC,GAClEC,KAAKC,UAAUC,gBAAyCG,gBAAgBP,EAAUC,EACpF,EACAO,YAAa,WACZ,MAAMC,EAAuBP,KAAKC,UAAUO,kBAAkB,YAC9DD,EAAqBE,YAAY,kBAAmB,MACpD,MAAMC,EAAUV,KAAKC,UAAUO,oBAC/B,MAAMG,EAAQD,GAAWA,EAAQE,WAAc,GAC/C,MAAMC,EAAYH,EAAQI,WAAWC,eACrC,MAAMC,EAAWH,EAAUI,YAAYN,GAEvC,MAAMO,EAAgBL,EAAUM,UAAU,GAAGH,gBAC7C,MAAMI,EAAQV,GAASS,YACvB,MAAME,EAA+C,CAAC,EACtD,IAAK,MAAMC,KAAOJ,EAAe,CAChC,MAAMK,EAASL,EAAcI,GAC7B,IAAKD,EAAoBE,GAAS,CACjCF,EAAoBE,GAAUH,EAAMG,EACrC,CACD,CACAhB,EAAqBE,YAAY,gCAAiCY,EACnE,GACC,OAEazB,CAAwB","ignoreList":[]}