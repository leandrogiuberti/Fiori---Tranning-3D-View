{"version":3,"names":["InternalRoutingExtension","onBeforeBinding","oContext","mParameters","getView","getController","_onBeforeBinding","onAfterBinding","_onAfterBinding","closeColumn","internalModelContext","getBindingContext","setProperty","context","path","getPath","metaModel","getModel","getMetaModel","metaPath","getMetaPath","technicalKeys","getObject","entry","technicalKeysObject","key","objKey"],"sourceRoot":".","sources":["InternalRouting.ts"],"sourcesContent":["import type InternalRouting from \"sap/fe/core/controllerextensions/InternalRouting\";\nimport type { InternalModelContext } from \"sap/fe/core/helpers/ModelHelper\";\nimport type ObjectPageController from \"sap/fe/templates/ObjectPage/ObjectPageController.controller\";\nimport type { BindingParams } from \"sap/fe/templates/ObjectPage/ObjectPageController.controller\";\nimport type Context from \"sap/ui/model/odata/v4/Context\";\n\nconst InternalRoutingExtension = {\n\tonBeforeBinding: function (this: InternalRouting, oContext: Context, mParameters: BindingParams): void {\n\t\t(this.getView().getController() as ObjectPageController)._onBeforeBinding(oContext, mParameters);\n\t},\n\tonAfterBinding: function (this: InternalRouting, oContext: Context, mParameters: BindingParams): void {\n\t\t(this.getView().getController() as ObjectPageController)._onAfterBinding(oContext, mParameters);\n\t},\n\tcloseColumn: function (this: InternalRouting): void {\n\t\tconst internalModelContext = this.getView().getBindingContext(\"internal\") as InternalModelContext;\n\t\tinternalModelContext.setProperty(\"fclColumnClosed\", true);\n\t\tconst context = this.getView().getBindingContext() as Context;\n\t\tconst path = (context && context.getPath()) || \"\";\n\t\tconst metaModel = context.getModel().getMetaModel();\n\t\tconst metaPath = metaModel.getMetaPath(path);\n\n\t\tconst technicalKeys = metaModel.getObject(`${metaPath}/$Type/$Key`);\n\t\tconst entry = context?.getObject();\n\t\tconst technicalKeysObject: Record<string, unknown> = {};\n\t\tfor (const key in technicalKeys) {\n\t\t\tconst objKey = technicalKeys[key];\n\t\t\tif (!technicalKeysObject[objKey]) {\n\t\t\t\ttechnicalKeysObject[objKey] = entry[objKey];\n\t\t\t}\n\t\t}\n\t\tinternalModelContext.setProperty(\"technicalKeysOfLastSeenRecord\", technicalKeysObject);\n\t}\n};\n\nexport default InternalRoutingExtension;\n"],"mappings":";;;;;;;EAMA,MAAMA,wBAAwB,GAAG;IAChCC,eAAe,EAAE,SAAAA,CAAiCC,QAAiB,EAAEC,WAA0B,EAAQ;MACrG,IAAI,CAACC,OAAO,CAAC,CAAC,CAACC,aAAa,CAAC,CAAC,CAA0BC,gBAAgB,CAACJ,QAAQ,EAAEC,WAAW,CAAC;IACjG,CAAC;IACDI,cAAc,EAAE,SAAAA,CAAiCL,QAAiB,EAAEC,WAA0B,EAAQ;MACpG,IAAI,CAACC,OAAO,CAAC,CAAC,CAACC,aAAa,CAAC,CAAC,CAA0BG,eAAe,CAACN,QAAQ,EAAEC,WAAW,CAAC;IAChG,CAAC;IACDM,WAAW,EAAE,SAAAA,CAAA,EAAuC;MACnD,MAAMC,oBAAoB,GAAG,IAAI,CAACN,OAAO,CAAC,CAAC,CAACO,iBAAiB,CAAC,UAAU,CAAyB;MACjGD,oBAAoB,CAACE,WAAW,CAAC,iBAAiB,EAAE,IAAI,CAAC;MACzD,MAAMC,OAAO,GAAG,IAAI,CAACT,OAAO,CAAC,CAAC,CAACO,iBAAiB,CAAC,CAAY;MAC7D,MAAMG,IAAI,GAAID,OAAO,IAAIA,OAAO,CAACE,OAAO,CAAC,CAAC,IAAK,EAAE;MACjD,MAAMC,SAAS,GAAGH,OAAO,CAACI,QAAQ,CAAC,CAAC,CAACC,YAAY,CAAC,CAAC;MACnD,MAAMC,QAAQ,GAAGH,SAAS,CAACI,WAAW,CAACN,IAAI,CAAC;MAE5C,MAAMO,aAAa,GAAGL,SAAS,CAACM,SAAS,CAAC,GAAGH,QAAQ,aAAa,CAAC;MACnE,MAAMI,KAAK,GAAGV,OAAO,EAAES,SAAS,CAAC,CAAC;MAClC,MAAME,mBAA4C,GAAG,CAAC,CAAC;MACvD,KAAK,MAAMC,GAAG,IAAIJ,aAAa,EAAE;QAChC,MAAMK,MAAM,GAAGL,aAAa,CAACI,GAAG,CAAC;QACjC,IAAI,CAACD,mBAAmB,CAACE,MAAM,CAAC,EAAE;UACjCF,mBAAmB,CAACE,MAAM,CAAC,GAAGH,KAAK,CAACG,MAAM,CAAC;QAC5C;MACD;MACAhB,oBAAoB,CAACE,WAAW,CAAC,+BAA+B,EAAEY,mBAAmB,CAAC;IACvF;EACD,CAAC;EAAC,OAEaxB,wBAAwB;AAAA","ignoreList":[],"file":"InternalRouting-dbg.js"}