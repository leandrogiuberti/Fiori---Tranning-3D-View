{"version":3,"names":["nameSpaceMap","macro","macros","feBB","macroField","macrodata","log","customData","control","controls","core","dt","m","f","fl","internalMacro","mdc","actiontoolbar","mdcField","mdcTable","u","uxap","macroMicroChart","microChart","macroTable","mdcvc","mdcv","valueHelp","contentSwitcher","filterBar","draftIndicator","visualFilter","reveseNamespaceMap","Object","keys","reduce","reverseMap","currentName","escapeXMLAttributeValue","value","replace","_exports","serializeObject","objectType","maxDepth","arguments","length","undefined","out","map","key","filter","val","join","serializeControlAsXML","controlToSerialize","showCustomStyleClasses","asString","tabCount","UID","CONTROLID","definedNamespaces","getNamespaceAlias","className","namesSplit","split","namespace","slice","namespaceAlias","toLowerCase","getTab","toAdd","tab","i","serializeDelegate","start","sAggregationName","controlDetail","getParent","indexInParent","getAggregation","indexOf","nameFull","getMetadata","getName","name","end","hasAggregation","mAggregations","getAllAggregations","mAggregationsKey","controlAggregation","_sGetter","Array","isArray","getBindingPath","getBindingInfo","template","middle","id","getId","data","mProperties","concat","mBindingInfos","mAssociations","mEventRegistry","sort","a","b","localeCompare","uniqueKeys","Set","from","oControlKey","hasOwnProperty","bindingDetail","bindingString","type","oOutputFormat","binding","propertyValue","e","associationValue","associationValueElement","fFunction","aCustomStyleClasses","startAggregation","sName","startsWith","substring","endAggregation","outXML","controlToRender","Serializer","serialize","xmlString","parser","DOMParser","parseFromString","firstElementChild","outerHTML","serializeControlAsFormattedXML","ui5ControlOrBB","serialized"],"sourceRoot":".","sources":["XMLSerializer.tsx"],"sourcesContent":["import type ManagedObject from \"sap/ui/base/ManagedObject\";\nimport type Control from \"sap/ui/core/Control\";\nimport type UI5Element from \"sap/ui/core/Element\";\n// @ts-ignore\nimport Serializer from \"sap/ui/core/util/serializer/Serializer\";\n\nconst nameSpaceMap: Record<string, string> = {\n\tmacro: \"sap.fe.macros\",\n\tmacros: \"sap.fe.macros\",\n\tfeBB: \"sap.fe.core.buildingBlocks.templating\",\n\tmacroField: \"sap.fe.macros.field\",\n\tmacrodata: \"http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1\",\n\tlog: \"http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1\",\n\tcustomData: \"http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1\",\n\tcontrol: \"sap.fe.core.controls\",\n\tcontrols: \"sap.fe.macros.controls\",\n\tcore: \"sap.ui.core\",\n\tdt: \"sap.ui.dt\",\n\tm: \"sap.m\",\n\tf: \"sap.ui.layout.form\",\n\tfl: \"sap.ui.fl\",\n\tinternalMacro: \"sap.fe.macros.internal\",\n\tmdc: \"sap.ui.mdc\",\n\tactiontoolbar: \"sap.ui.mdc.actiontoolbar\",\n\tmdcField: \"sap.ui.mdc.field\",\n\tmdcTable: \"sap.ui.mdc.table\",\n\tu: \"sap.ui.unified\",\n\tuxap: \"sap.uxap\",\n\tmacroMicroChart: \"sap.fe.macros.microchart\",\n\tmicroChart: \"sap.suite.ui.microchart\",\n\tmacroTable: \"sap.fe.macros.table\",\n\tmdcvc: \"sap.ui.mdc.valuehelp.content\",\n\tmdcv: \"sap.ui.mdc.valuehelp\",\n\tvalueHelp: \"sap.fe.macros.valueHelp\",\n\tcontentSwitcher: \"sap.fe.macros.contentSwitcher\",\n\tfilterBar: \"sap.fe.macros.filterBar\",\n\tdraftIndicator: \"sap.fe.macros.draftIndicator\",\n\tvisualFilter: \"sap.fe.macros.visualFilters\"\n};\nconst reveseNamespaceMap = Object.keys(nameSpaceMap).reduce((reverseMap: Record<string, string>, currentName) => {\n\treverseMap[nameSpaceMap[currentName]] = currentName;\n\treturn reverseMap;\n}, {});\n\nexport function escapeXMLAttributeValue(value?: string): string | undefined {\n\treturn value?.replace(/&/g, \"&amp;\").replace(/</g, \"&lt;\").replace(/\"/g, \"&quot;\").replace(/'/g, \"&apos;\");\n}\n\nfunction serializeObject(objectType: object, maxDepth: int = 3): string | undefined {\n\tif (maxDepth == 0) return undefined;\n\tif (!objectType) {\n\t\treturn undefined;\n\t}\n\tconst keys = Object.keys(objectType);\n\tconst out: string[] = keys.map((key) => {\n\t\tconst value: never = objectType[key as keyof typeof objectType] as unknown as never;\n\t\tif (typeof value === \"function\") {\n\t\t\treturn \"\";\n\t\t} else if (typeof value === \"object\") {\n\t\t\treturn `${key}: ${serializeObject(value, maxDepth - 1)}`;\n\t\t} else {\n\t\t\treturn `${key}: ${value}`;\n\t\t}\n\t});\n\treturn out.filter((val) => val.length).join(\", \");\n}\nexport function serializeControlAsXML(\n\tcontrolToSerialize?: UI5Element | UI5Element[],\n\tshowCustomStyleClasses = false,\n\tasString = false\n): string {\n\tlet tabCount = 0;\n\tconst UID = /uid--id-\\d{13}-\\d{1,3}/;\n\tconst CONTROLID = /id-\\d{13}-\\d{1,3}/;\n\tconst definedNamespaces: Record<string, boolean> = {};\n\n\tfunction getNamespaceAlias(className: string): string {\n\t\tconst namesSplit = className.split(\".\");\n\t\tconst namespace = namesSplit.slice(0, -1);\n\t\tlet namespaceAlias = namespace[namespace.length - 1];\n\t\tif (reveseNamespaceMap[namespace.join(\".\")]) {\n\t\t\tnamespaceAlias = reveseNamespaceMap[namespace.join(\".\")];\n\t\t}\n\t\tif (namespaceAlias === undefined) {\n\t\t\tnamespaceAlias = \"test\";\n\t\t}\n\t\treturn namespaceAlias.toLowerCase();\n\t}\n\n\tfunction getTab(toAdd = 0): string {\n\t\tlet tab = \"\";\n\t\tfor (let i = 0; i < tabCount + toAdd; i++) {\n\t\t\ttab += \"\\t\";\n\t\t}\n\t\treturn tab;\n\t}\n\tconst serializeDelegate = {\n\t\tstart: function (control: Control, sAggregationName: string): string {\n\t\t\tlet controlDetail = \"\";\n\t\t\tif (sAggregationName) {\n\t\t\t\tif (control.getParent()) {\n\t\t\t\t\tconst indexInParent = (control.getParent()!.getAggregation(sAggregationName) as ManagedObject[])?.indexOf?.(control);\n\t\t\t\t\tif (indexInParent > 0) {\n\t\t\t\t\t\tcontrolDetail += `\\n${getTab()}`;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tconst nameFull = control.getMetadata().getName();\n\t\t\tconst namesSplit = nameFull.split(\".\");\n\t\t\tconst name = namesSplit[namesSplit.length - 1];\n\t\t\tconst namespaceAlias = getNamespaceAlias(nameFull);\n\t\t\tcontrolDetail += `<${namespaceAlias}:${name}\\n`;\n\t\t\t//if (!definedNamespaces[namespaceAlias]) {\n\t\t\tdefinedNamespaces[namespaceAlias] = true;\n\t\t\tcontrolDetail += `${getTab()}xmlns:${namespaceAlias}=\"${nameSpaceMap[namespaceAlias]}\"`;\n\t\t\t//}\n\t\t\treturn controlDetail;\n\t\t},\n\t\tend: function (control: any): string {\n\t\t\tconst nameFull = control.getMetadata().getName();\n\t\t\tconst namesSplit = nameFull.split(\".\");\n\t\t\tconst name = namesSplit[namesSplit.length - 1];\n\t\t\tconst namespaceAlias = getNamespaceAlias(nameFull);\n\t\t\tlet hasAggregation = false;\n\t\t\tconst mAggregations = control.getMetadata().getAllAggregations();\n\t\t\tfor (const mAggregationsKey in mAggregations) {\n\t\t\t\tconst controlAggregation = control[mAggregations[mAggregationsKey]._sGetter]();\n\t\t\t\tif (\n\t\t\t\t\t(!Array.isArray(controlAggregation) && controlAggregation !== null && controlAggregation !== undefined) ||\n\t\t\t\t\t(Array.isArray(controlAggregation) && controlAggregation.length > 0)\n\t\t\t\t) {\n\t\t\t\t\thasAggregation = true;\n\t\t\t\t}\n\t\t\t\tif (control.getBindingPath(mAggregationsKey) && control.getBindingInfo(mAggregationsKey).template) {\n\t\t\t\t\thasAggregation = true;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (hasAggregation) {\n\t\t\t\treturn `</${namespaceAlias}:${name}>`;\n\t\t\t} else {\n\t\t\t\treturn `/>`;\n\t\t\t}\n\t\t},\n\t\tmiddle: function (control: any): string {\n\t\t\tlet id = control.getId();\n\t\t\tid = typeof id === \"string\" ? id?.replace?.(CONTROLID, \"id\") : id;\n\t\t\tlet data = \"\";\n\t\t\t//if (!ManagedObjectMetadata.isGeneratedId(id)) {\n\t\t\tdata = ` id=\"${id}\"`;\n\t\t\t//}\n\t\t\tlet keys = Object.keys(control.mProperties)\n\t\t\t\t.concat(Object.keys(control.mBindingInfos))\n\t\t\t\t.concat(Object.keys(control.mAssociations))\n\t\t\t\t.concat(Object.keys(control.mEventRegistry));\n\t\t\tkeys = keys.sort((a, b) => a.localeCompare(b));\n\t\t\tconst uniqueKeys = new Set(keys);\n\t\t\tkeys = Array.from(uniqueKeys);\n\t\t\tfor (const oControlKey of keys) {\n\t\t\t\tif (oControlKey !== \"id\") {\n\t\t\t\t\tif (control.mBindingInfos.hasOwnProperty(oControlKey)) {\n\t\t\t\t\t\tconst bindingDetail = { ...control.mBindingInfos[oControlKey] };\n\t\t\t\t\t\tif (bindingDetail.bindingString) {\n\t\t\t\t\t\t\tdata += `\\n${getTab()}${oControlKey}=\"${escapeXMLAttributeValue(bindingDetail.bindingString)}\"`;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tif (bindingDetail.type?.oOutputFormat) {\n\t\t\t\t\t\t\t\tdelete bindingDetail.type.oOutputFormat;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif (bindingDetail.binding) {\n\t\t\t\t\t\t\t\tdelete bindingDetail.binding;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (bindingDetail.template) {\n\t\t\t\t\t\t\t\tdelete bindingDetail.template;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tdata += `\\n${getTab()}${oControlKey}='${escapeXMLAttributeValue(serializeObject(bindingDetail))}'`;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if (control.mProperties.hasOwnProperty(oControlKey) && control.mProperties[oControlKey] !== undefined) {\n\t\t\t\t\t\tlet propertyValue = control.mProperties[oControlKey];\n\t\t\t\t\t\tpropertyValue = typeof propertyValue === \"string\" ? propertyValue?.replace?.(UID, \"uid--id\") : propertyValue;\n\t\t\t\t\t\tpropertyValue = typeof propertyValue === \"string\" ? propertyValue?.replace?.(CONTROLID, \"id\") : propertyValue;\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tpropertyValue =\n\t\t\t\t\t\t\t\ttypeof propertyValue === \"object\"\n\t\t\t\t\t\t\t\t\t? escapeXMLAttributeValue(serializeObject(propertyValue))\n\t\t\t\t\t\t\t\t\t: escapeXMLAttributeValue(propertyValue);\n\t\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\t\t// Stringify may fail for circular references but it's not the end of the world\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tdata += `\\n${getTab()} ${oControlKey}=\"${propertyValue}\"`;\n\t\t\t\t\t} else if (control.mAssociations.hasOwnProperty(oControlKey)) {\n\t\t\t\t\t\tlet associationValue = control.mAssociations[oControlKey];\n\t\t\t\t\t\tif (!Array.isArray(associationValue)) {\n\t\t\t\t\t\t\tassociationValue = [associationValue];\n\t\t\t\t\t\t}\n\t\t\t\t\t\tassociationValue = associationValue.map((associationValueElement: string) => {\n\t\t\t\t\t\t\treturn typeof associationValueElement === \"string\"\n\t\t\t\t\t\t\t\t? associationValueElement?.replace?.(CONTROLID, \"id\")\n\t\t\t\t\t\t\t\t: associationValueElement;\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tdata += `\\n${getTab()} ${oControlKey}=\"${(associationValue?.join?.(\",\") ?? associationValue) || undefined}\"`;\n\t\t\t\t\t} else if (control.mEventRegistry.hasOwnProperty(oControlKey)) {\n\t\t\t\t\t\tif (control.mEventRegistry[oControlKey][0]?.fFunction?.name) {\n\t\t\t\t\t\t\tdata += `\\n${getTab()} ${oControlKey}=\"${control.mEventRegistry[oControlKey][0]?.fFunction?.name}\"`;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tdata += `\\n${getTab()} ${oControlKey}=\"someEventHandler\"`;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (showCustomStyleClasses && control.aCustomStyleClasses?.length > 0) {\n\t\t\t\tdata += `\\n${getTab()} customStyleClasses : ${control.aCustomStyleClasses.join(\", \")}`;\n\t\t\t}\n\t\t\tdata += `\\n`;\n\t\t\tlet hasAggregation = false;\n\t\t\tconst mAggregations = control.getMetadata().getAllAggregations();\n\t\t\tfor (const mAggregationsKey in mAggregations) {\n\t\t\t\tconst controlAggregation = control[mAggregations[mAggregationsKey]._sGetter]();\n\t\t\t\tif (\n\t\t\t\t\t(!Array.isArray(controlAggregation) && controlAggregation !== null && controlAggregation !== undefined) ||\n\t\t\t\t\t(Array.isArray(controlAggregation) && controlAggregation.length > 0)\n\t\t\t\t) {\n\t\t\t\t\thasAggregation = true;\n\t\t\t\t}\n\t\t\t\tif (control.getBindingPath(mAggregationsKey) && control.getBindingInfo(mAggregationsKey).template) {\n\t\t\t\t\thasAggregation = true;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (hasAggregation) {\n\t\t\t\tdata += \">\";\n\t\t\t}\n\t\t\treturn data;\n\t\t},\n\t\tstartAggregation: function (control: Control, sName: string): string {\n\t\t\tconst namespaceAlias = getNamespaceAlias(control.getMetadata().getName());\n\t\t\tif (sName.startsWith(\"$\")) {\n\t\t\t\tsName = sName.substring(1);\n\t\t\t}\n\t\t\tlet out = `\\n${getTab()}<${namespaceAlias}:${sName}>`;\n\t\t\ttabCount++;\n\t\t\tout += `\\n${getTab()}`;\n\t\t\treturn out;\n\t\t},\n\t\tendAggregation: function (control: any, sName: string): string {\n\t\t\ttabCount--;\n\t\t\tif (sName.startsWith(\"$\")) {\n\t\t\t\tsName = sName.substring(1);\n\t\t\t}\n\t\t\tconst namespaceAlias = getNamespaceAlias(control.getMetadata().getName());\n\t\t\tif (control.mBindingInfos[sName]) {\n\t\t\t\treturn `\\n${getTab()}</${namespaceAlias}:${sName}>\\n`;\n\t\t\t} else {\n\t\t\t\treturn `\\n${getTab()}</${namespaceAlias}:${sName}>\\n`;\n\t\t\t}\n\t\t}\n\t};\n\tlet outXML;\n\tif (Array.isArray(controlToSerialize)) {\n\t\toutXML = controlToSerialize.map((controlToRender: UI5Element) => {\n\t\t\treturn new Serializer(controlToRender, serializeDelegate).serialize();\n\t\t});\n\t} else {\n\t\toutXML = new Serializer(controlToSerialize, serializeDelegate).serialize();\n\t}\n\tif (asString) {\n\t\treturn Array.isArray(outXML) ? outXML.join(\"\\n\") : outXML;\n\t}\n\tconst xmlString = `<root>${outXML}</root>`;\n\tconst parser = new DOMParser();\n\treturn parser.parseFromString(xmlString, \"text/xml\").firstElementChild?.firstElementChild?.outerHTML ?? \"No Content\";\n}\n\nexport async function serializeControlAsFormattedXML(ui5ControlOrBB: UI5Element): Promise<string> {\n\tconst serialized = serializeControlAsXML(ui5ControlOrBB);\n\treturn serialized;\n}\n"],"mappings":"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","ignoreList":[],"file":"XMLSerializer-dbg.js"}