{"version":3,"names":["instrumentODataModel","thisLib","cacheFn","ODataPropertyBinding","prototype","createAndSetCache","cacheFn2","ODataListBinding","cacheFn3","ODataContextBinding","fnRequest","_Requestor","request","_len","arguments","length","args","Array","_key","includes","cacheId","oOwner","oCache","__feCacheId","apply","createdCaches","that","_len2","_key2","cacheResult","__feBinding","mParameters","applyParametersFn","applyParameters","_len3","_key3","_len4","_key4","getRootBinding","changeParameters","instrumentUpdateBindings","updateBindingsFn","_len5","_key5","res","Object","keys","mBindingInfos","forEach","bindingInfoName","binding","__feSource","__feForProp","hasOwnProperty","defineProperty","get","visibleControl","getDomRef","getParent","aBindings","subBinding","__feInComposite","__feComposite","managedObjectBindingSupport","ManagedObjectBindingSupport","updateBindings","managedObjectSupport","ManagedObject","_len6","_key6","_len7","_key7","addODataTrace","_origXML","XMLHttpRequest","window","xhr","fnOpen","open","fnSend","send","fnSetRequestHeader","setRequestHeader","_len8","_key8","url","_len9","_key9","body","header","_len10","_key10","toLowerCase","addEventListener","e","target","responseURL","batchText","batchBoundary","split","batchRequest","parseBatch","BatchContent","responseBoundary","getResponseHeader","decodedContent","responseText","batchResponse","parts","part","partIndex","requestPart","data","supportModel","getProperty","urlObj","URL","urlParams","URLSearchParams","search","feTrace","requestParam","searchParams","value","key","push","urlBase","responseBody","JSON","stringify","responseBodyObj","parameters","trace","setProperty","refresh","_exports"],"sourceRoot":".","sources":["ODataTracer.ts"],"sourcesContent":["import { BatchContent, parseBatch } from \"sap/fe/tools/BatchParser\";\nimport ODataContextBinding from \"sap/ui/model/odata/v4/ODataContextBinding\";\nimport ODataListBinding from \"sap/ui/model/odata/v4/ODataListBinding\";\nimport ODataPropertyBinding from \"sap/ui/model/odata/v4/ODataPropertyBinding\";\n\nimport ManagedObject from \"sap/ui/base/ManagedObject\";\nimport type Control from \"sap/ui/core/Control\";\nimport type JSONModel from \"sap/ui/model/json/JSONModel\";\n// @ts-ignore\nimport type ODataBinding from \"sap/ui/model/odata/v4/ODataBinding\";\n// @ts-ignore\nimport ManagedObjectBindingSupport from \"sap/ui/model/ManagedObjectBindingSupport\";\n// @ts-ignore\nimport _Requestor from \"sap/ui/model/odata/v4/lib/_Requestor\";\n\ntype RequestInfo = {\n\turl?: string;\n\tbody?: string;\n\theader?: Record<string, string>;\n};\ntype BindingDef = {\n\t__feSource: ManagedObject;\n\t__feForProp: string;\n\t__feInComposite?: boolean;\n\t__feComposite?: BindingDef;\n\tclosestDomRef: HTMLElement | null;\n\taBindings?: BindingDef[];\n};\nfunction instrumentODataModel(thisLib: any): void {\n\t// @ts-ignore\n\tconst cacheFn = ODataPropertyBinding.prototype.createAndSetCache;\n\t// @ts-ignore\n\tconst cacheFn2 = ODataListBinding.prototype.createAndSetCache;\n\t// @ts-ignore\n\tconst cacheFn3 = ODataContextBinding.prototype.createAndSetCache;\n\t// @ts-ignore\n\tconst fnRequest = _Requestor.prototype.request;\n\t// @ts-ignore\n\t_Requestor.prototype.request = function (...args: any[]): unknown {\n\t\tif (!args[1].includes(\"sap-valid-feTrace\")) {\n\t\t\tconst cacheId = args[2].oOwner.oCache?.__feCacheId;\n\t\t\tif (cacheId) {\n\t\t\t\tif (args[1].includes(\"?\")) {\n\t\t\t\t\targs[1] += `&sap-valid-feTrace=${cacheId}`;\n\t\t\t\t} else {\n\t\t\t\t\targs[1] += `?sap-valid-feTrace=${cacheId}`;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn fnRequest.apply(this, args);\n\t};\n\t//const adjustPredicateFn = ODataBinding.prototype.adjustPredicate;\n\t// @ts-ignore\n\t//const fetchCacheFn = ODataListBinding.prototype.fetchCache;\n\t//\tconst contextMakingRequest = [];\n\tlet cacheId = 0;\n\tconst createdCaches: Record<number, ODataBinding> = {};\n\t// // @ts-ignore\n\t// ODataListBinding.prototype.fetchCache = function() {\n\t// \ttry { throw new Error() } catch(e) {  }\n\t// \t// @ts-ignore\n\t// \tconst call = ODataListBinding.prototype.fetchCache.caller\n\t// \treturn fetchCacheFn.apply(this, arguments)\n\t// }\n\t// @ts-ignore\n\tODataListBinding.prototype.createAndSetCache = function (...args: never[]): unknown {\n\t\t// eslint-disable-next-line @typescript-eslint/no-this-alias\n\t\tconst that = this;\n\t\tconst cacheResult = cacheFn2.apply(this, args);\n\t\tcacheResult.__feBinding = that;\n\n\t\t// @ts-ignore\n\t\tif (!this.mParameters[\"sap-valid-feTrace\"]) {\n\t\t\tcacheResult.__feCacheId = cacheId++;\n\t\t\t// @ts-ignore\n\t\t\tthis.mParameters[\"sap-valid-feTrace\"] = cacheId++;\n\t\t\t//this.changeParameters({ \"sap-valid-feTrace\": cacheResult.__feCacheId });\n\t\t} else {\n\t\t\t// @ts-ignore\n\t\t\tcacheResult.__feCacheId = this.mParameters[\"sap-valid-feTrace\"];\n\t\t}\n\n\t\tcreatedCaches[cacheResult.__feCacheId] = cacheResult;\n\t\treturn cacheResult;\n\t};\n\t// @ts-ignore\n\tconst applyParametersFn = ODataContextBinding.prototype.applyParameters;\n\t// @ts-ignore\n\tODataContextBinding.prototype.applyParameters = function (mParameters: object): unknown {\n\t\t// @ts-ignore\n\t\tif (!mParameters[\"sap-valid-feTrace\"]) {\n\t\t\t// @ts-ignore\n\t\t\tmParameters[\"sap-valid-feTrace\"] = cacheId++;\n\t\t}\n\t\tapplyParametersFn.apply(this, [mParameters]);\n\t};\n\t// @ts-ignore\n\tODataContextBinding.prototype.createAndSetCache = function (...args: never[]): unknown {\n\t\t// eslint-disable-next-line @typescript-eslint/no-this-alias\n\t\tconst that = this;\n\t\tconst cacheResult = cacheFn3.apply(this, args);\n\t\tcacheResult.__feBinding = that;\n\n\t\t// @ts-ignore\n\t\tcacheResult.__feCacheId = this.mParameters[\"sap-valid-feTrace\"];\n\t\tcreatedCaches[cacheResult.__feCacheId] = cacheResult;\n\t\treturn cacheResult;\n\t};\n\t// @ts-ignore\n\tODataPropertyBinding.prototype.createAndSetCache = function (...args: never[]): unknown {\n\t\t// eslint-disable-next-line @typescript-eslint/no-this-alias\n\t\tconst that = this;\n\t\tconst cacheResult = cacheFn.apply(this, args);\n\t\tcacheResult.__feBinding = that;\n\n\t\tif (this.getRootBinding() === this) {\n\t\t\treturn cacheResult;\n\t\t}\n\t\t// @ts-ignore\n\t\tif (!this.getRootBinding().mParameters?.[\"sap-valid-feTrace\"]) {\n\t\t\tcacheResult.__feCacheId = cacheId++;\n\t\t\t(this.getRootBinding() as ODataContextBinding).changeParameters({ \"sap-valid-feTrace\": cacheResult.__feCacheId });\n\t\t} else {\n\t\t\t// @ts-ignore\n\t\t\tcacheResult.__feCacheId = this.getRootBinding().mParameters[\"sap-valid-feTrace\"];\n\t\t}\n\n\t\tcreatedCaches[cacheResult.__feCacheId] = cacheResult;\n\t\treturn cacheResult;\n\t};\n\n\tconst instrumentUpdateBindings = function (updateBindingsFn: Function): Function {\n\t\treturn function (this: any, ...args: never[]): void {\n\t\t\tconst res = updateBindingsFn.apply(this, args);\n\t\t\tObject.keys(this.mBindingInfos).forEach((bindingInfoName) => {\n\t\t\t\tif (this.mBindingInfos[bindingInfoName].binding) {\n\t\t\t\t\tthis.mBindingInfos[bindingInfoName].binding.__feSource = this;\n\t\t\t\t\tthis.mBindingInfos[bindingInfoName].binding.__feForProp = bindingInfoName;\n\t\t\t\t\tif (!this.mBindingInfos[bindingInfoName].binding.hasOwnProperty(\"closestDomRef\")) {\n\t\t\t\t\t\tObject.defineProperty(this.mBindingInfos[bindingInfoName].binding, \"closestDomRef\", {\n\t\t\t\t\t\t\tget: function () {\n\t\t\t\t\t\t\t\tlet visibleControl: Control = this.__feSource as Control;\n\t\t\t\t\t\t\t\twhile (visibleControl && visibleControl.getDomRef && !visibleControl.getDomRef()) {\n\t\t\t\t\t\t\t\t\tvisibleControl = visibleControl.getParent() as Control;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\treturn visibleControl?.getDomRef && visibleControl.getDomRef();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\tif (this.mBindingInfos[bindingInfoName].binding.aBindings) {\n\t\t\t\t\t\tthis.mBindingInfos[bindingInfoName].binding.aBindings.forEach((subBinding: BindingDef) => {\n\t\t\t\t\t\t\tsubBinding.__feSource = this;\n\t\t\t\t\t\t\tsubBinding.__feInComposite = true;\n\t\t\t\t\t\t\tsubBinding.__feForProp = bindingInfoName;\n\t\t\t\t\t\t\tsubBinding.__feComposite = this.mBindingInfos[bindingInfoName].binding;\n\t\t\t\t\t\t\tif (!subBinding.hasOwnProperty(\"closestDomRef\")) {\n\t\t\t\t\t\t\t\tObject.defineProperty(subBinding, \"closestDomRef\", {\n\t\t\t\t\t\t\t\t\tget: function () {\n\t\t\t\t\t\t\t\t\t\tlet visibleControl: Control | undefined = this.__feSource;\n\t\t\t\t\t\t\t\t\t\twhile (visibleControl && visibleControl.getDomRef && !visibleControl.getDomRef()) {\n\t\t\t\t\t\t\t\t\t\t\tvisibleControl = visibleControl.getParent() as Control | undefined;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\treturn visibleControl?.getDomRef && visibleControl.getDomRef();\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn res;\n\t\t};\n\t};\n\n\tconst managedObjectBindingSupport = ManagedObjectBindingSupport.updateBindings;\n\t// @ts-ignore\n\tconst managedObjectSupport = ManagedObject.prototype.updateBindings;\n\tManagedObjectBindingSupport.updateBindings = function (...args: never[]): unknown {\n\t\treturn instrumentUpdateBindings(managedObjectBindingSupport).apply(this, args);\n\t};\n\t// @ts-ignore\n\tManagedObject.prototype.updateBindings = function (...args: never[]): unknown {\n\t\treturn instrumentUpdateBindings(managedObjectSupport).apply(this, args);\n\t};\n\tthisLib.createdCaches = createdCaches;\n}\nexport function addODataTrace(thisLib: { supportModel: JSONModel }): void {\n\tinstrumentODataModel(thisLib);\n\tconst _origXML = XMLHttpRequest;\n\t// @ts-ignore\n\twindow.XMLHttpRequest = function (): XMLHttpRequest {\n\t\tconst xhr = new _origXML();\n\t\tconst fnOpen = xhr.open;\n\t\tconst fnSend = xhr.send;\n\t\tconst fnSetRequestHeader = xhr.setRequestHeader;\n\t\txhr.open = function (this: XMLHttpRequest & { request?: RequestInfo }, ...args: never[]): void {\n\t\t\tthis.request ??= {};\n\t\t\tthis.request.url = args[1];\n\t\t\t// @ts-ignore\n\t\t\tfnOpen.apply(this, args);\n\t\t};\n\t\txhr.send = function (this: XMLHttpRequest & { request?: RequestInfo }, ...args: never[]): void {\n\t\t\tthis.request ??= {};\n\t\t\tthis.request.body = args[0];\n\t\t\t// @ts-ignore\n\t\t\tfnSend.apply(this, args);\n\t\t};\n\t\txhr.setRequestHeader = function (this: XMLHttpRequest & { request?: RequestInfo }, ...args: never[]): void {\n\t\t\tthis.request ??= {};\n\t\t\tthis.request.header ??= {};\n\t\t\tthis.request.header[(args[0] as string).toLowerCase()] = args[1];\n\t\t\t// @ts-ignore\n\t\t\tfnSetRequestHeader.apply(this, args);\n\t\t};\n\t\txhr.addEventListener(\n\t\t\t\"load\",\n\t\t\tfunction (this: XMLHttpRequest & { request?: RequestInfo }, e: ProgressEvent<XMLHttpRequestEventTarget>): void {\n\t\t\t\tif ((e.target as XMLHttpRequest).responseURL.includes(\"$batch\")) {\n\t\t\t\t\tconst batchText = this.request!.body!;\n\t\t\t\t\tconst batchBoundary = this.request!.header![\"content-type\"].split(\"boundary=\")[1];\n\t\t\t\t\tconst batchRequest = parseBatch(new BatchContent(batchText), batchBoundary);\n\t\t\t\t\tconst responseBoundary = (e.target as XMLHttpRequest).getResponseHeader(\"content-type\")!.split(\"boundary=\")[1];\n\n\t\t\t\t\tconst decodedContent = (e.target as XMLHttpRequest).responseText;\n\t\t\t\t\tconst batchResponse = parseBatch(new BatchContent(decodedContent), responseBoundary);\n\t\t\t\t\tbatchResponse.parts.forEach((part: any, partIndex: number) => {\n\t\t\t\t\t\tconst requestPart = batchRequest.parts[partIndex];\n\t\t\t\t\t\tconst data = thisLib.supportModel.getProperty(\"/data\");\n\t\t\t\t\t\tconst urlObj = new URL(`http://example.com/${requestPart.url}`);\n\t\t\t\t\t\tconst urlParams = new URLSearchParams(urlObj.search);\n\t\t\t\t\t\tconst feTrace = urlParams.get(\"sap-valid-feTrace\");\n\t\t\t\t\t\tconst requestParam: Record<string, string> = {};\n\t\t\t\t\t\turlObj.searchParams.forEach((value, key) => {\n\t\t\t\t\t\t\trequestParam[key] = value;\n\t\t\t\t\t\t});\n\t\t\t\t\t\tdata.push({\n\t\t\t\t\t\t\turlBase: requestPart.url.split(\"?\")[0],\n\t\t\t\t\t\t\trequest: requestPart,\n\t\t\t\t\t\t\tresponseBody: JSON.stringify(part.body, null, 4),\n\t\t\t\t\t\t\tresponseBodyObj: part.body,\n\t\t\t\t\t\t\tparameters: JSON.stringify(requestParam, null, 4),\n\t\t\t\t\t\t\ttrace: feTrace\n\t\t\t\t\t\t});\n\t\t\t\t\t\tthisLib.supportModel.setProperty(\"/data\", data);\n\t\t\t\t\t\tthisLib.supportModel.refresh();\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t);\n\n\t\treturn xhr;\n\t};\n}\n"],"mappings":"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","ignoreList":[],"file":"ODataTracer-dbg.js"}