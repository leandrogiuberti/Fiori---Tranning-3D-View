/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.define([],function(){"use strict";var n={};function t(n){const t="\n";const e="\r\n";const i=[];let r=0;let o=n.indexOf(e,r);let s=n.indexOf(t,r);while(o!==-1||s!==-1){if(o!==-1&&o<=s){i.push(n.substring(r,o));r=o+2}else{i.push(n.substring(r,s));r=s+1}o=n.indexOf(e,r);s=n.indexOf(t,r)}if(r<n.length){i.push(n.substring(r))}return i}let e=function(){function e(n){this.type=0;this.stringData=n;this.stringSplit=t(n);this.pos=0}n.BatchContent=e;var i=e.prototype;i.lookLine=function n(){return this.stringSplit[this.pos]};i.readLine=function n(){return this.stringSplit[this.pos++]};i.inc=function n(){this.pos++};return e}();n.BatchContent=e;let i=function n(t,e){this.isChangeSet=t;this.boundary=e;if(this.isChangeSet){this.changeSetErrorResponse=null}this.parts=[]};n.Batch=i;function r(n){const t=n.split(";");for(const n of t){const t=n.split("=");if(t[0].trim()==="boundary"){return t[1]}}return""}n.getBoundary=r;function o(n){const t=n.indexOf(":");if(t===-1){throw new Error('Invalid header "content-type" in batch part')}const e=n.substring(0,t);const i=n.substring(t+1);return{name:e.toLowerCase(),value:i.trim()}}function s(n,t){const e={};const i=[];let r=0;const s=n.readLine();r=1;let l=n.lookLine();while(l!==null&&l!==undefined&&l.indexOf(t)!==0){if(r===1){if(l.length===0){r=2;n.inc()}else{const t=o(l);e[t.name]=t.value;n.inc()}}else if(r===2){i.push(l);n.inc()}l=n.lookLine()}if(l===undefined){throw new Error("Invalid boundary while parsing batch request. Expect boundary "+t)}const[u,c]=s.split(" ");let a;if(i.length>0){try{a=JSON.parse(i[0])}catch(n){a=i[0]}}return{url:`/${c}`,method:u,headers:e,body:a}}function l(n,t,e){let i;if(!t["content-type"]){throw new Error('Missing header "content-type" in batch part')}else if(t["content-type"]==="application/http"){i=s(n,e);if(t["content-id"]){i.contentId=t["content-id"]}}else if(t["content-type"].indexOf("multipart/mixed;")>-1){const e=r(t["content-type"]);i=c(n,e,true)}return i}function u(n,t){const e=t;const i=t+"--";const r={};let s;let u=1;let c=n.lookLine();while(c!==null&&c!==undefined&&c!==e&&c!==i){if(u===1){if(c.length===0){u=2;n.inc()}else{const t=o(c);r[t.name]=t.value;n.inc()}}else if(u===2){s=l(n,r,t)}c=n.lookLine()}if(c===undefined){throw new Error("Invalid boundary while parsing batch request. Expect boundary "+t)}return s}function c(n,t){let e=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;const r="--"+t;const o="--"+t+"--";const s=new i(e,t);let l;let c=n.readLine();while(c!==null&&c!==undefined&&c!==r){c=n.readLine()}if(c===undefined){throw new Error("Invalid boundary while parsing batch request")}c=n.lookLine();while(c!==null&&c!==undefined&&c!==o){l=u(n,r);if(l){s.parts.push(l)}c=n.lookLine();if(c===r){c=n.readLine()}}n.readLine();c=n.lookLine();while(c!==null&&c!==undefined&&c.length===0){n.readLine();c=n.lookLine()}return s}n.parseBatch=c;return n},false);
//# sourceMappingURL=BatchParser.js.map