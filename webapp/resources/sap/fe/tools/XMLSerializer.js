/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.define(["sap/ui/core/util/serializer/Serializer"],function(e){"use strict";var t={};const n={macro:"sap.fe.macros",macros:"sap.fe.macros",feBB:"sap.fe.core.buildingBlocks.templating",macroField:"sap.fe.macros.field",macrodata:"http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1",log:"http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1",customData:"http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1",control:"sap.fe.core.controls",controls:"sap.fe.macros.controls",core:"sap.ui.core",dt:"sap.ui.dt",m:"sap.m",f:"sap.ui.layout.form",fl:"sap.ui.fl",internalMacro:"sap.fe.macros.internal",mdc:"sap.ui.mdc",actiontoolbar:"sap.ui.mdc.actiontoolbar",mdcField:"sap.ui.mdc.field",mdcTable:"sap.ui.mdc.table",u:"sap.ui.unified",uxap:"sap.uxap",macroMicroChart:"sap.fe.macros.microchart",microChart:"sap.suite.ui.microchart",macroTable:"sap.fe.macros.table",mdcvc:"sap.ui.mdc.valuehelp.content",mdcv:"sap.ui.mdc.valuehelp",valueHelp:"sap.fe.macros.valueHelp",contentSwitcher:"sap.fe.macros.contentSwitcher",filterBar:"sap.fe.macros.filterBar",draftIndicator:"sap.fe.macros.draftIndicator",visualFilter:"sap.fe.macros.visualFilters"};const r=Object.keys(n).reduce((e,t)=>{e[n[t]]=t;return e},{});function i(e){return e?.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}t.escapeXMLAttributeValue=i;function s(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:3;if(t==0)return undefined;if(!e){return undefined}const n=Object.keys(e);const r=n.map(n=>{const r=e[n];if(typeof r==="function"){return""}else if(typeof r==="object"){return`${n}: ${s(r,t-1)}`}else{return`${n}: ${r}`}});return r.filter(e=>e.length).join(", ")}function a(t){let a=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;let o=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;let c=0;const l=/uid--id-\d{13}-\d{1,3}/;const f=/id-\d{13}-\d{1,3}/;const u={};function d(e){const t=e.split(".");const n=t.slice(0,-1);let i=n[n.length-1];if(r[n.join(".")]){i=r[n.join(".")]}if(i===undefined){i="test"}return i.toLowerCase()}function p(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;let t="";for(let n=0;n<c+e;n++){t+="\t"}return t}const m={start:function(e,t){let r="";if(t){if(e.getParent()){const n=e.getParent().getAggregation(t)?.indexOf?.(e);if(n>0){r+=`\n${p()}`}}}const i=e.getMetadata().getName();const s=i.split(".");const a=s[s.length-1];const o=d(i);r+=`<${o}:${a}\n`;u[o]=true;r+=`${p()}xmlns:${o}="${n[o]}"`;return r},end:function(e){const t=e.getMetadata().getName();const n=t.split(".");const r=n[n.length-1];const i=d(t);let s=false;const a=e.getMetadata().getAllAggregations();for(const t in a){const n=e[a[t]._sGetter]();if(!Array.isArray(n)&&n!==null&&n!==undefined||Array.isArray(n)&&n.length>0){s=true}if(e.getBindingPath(t)&&e.getBindingInfo(t).template){s=true}}if(s){return`</${i}:${r}>`}else{return`/>`}},middle:function(e){let t=e.getId();t=typeof t==="string"?t?.replace?.(f,"id"):t;let n="";n=` id="${t}"`;let r=Object.keys(e.mProperties).concat(Object.keys(e.mBindingInfos)).concat(Object.keys(e.mAssociations)).concat(Object.keys(e.mEventRegistry));r=r.sort((e,t)=>e.localeCompare(t));const o=new Set(r);r=Array.from(o);for(const t of r){if(t!=="id"){if(e.mBindingInfos.hasOwnProperty(t)){const r={...e.mBindingInfos[t]};if(r.bindingString){n+=`\n${p()}${t}="${i(r.bindingString)}"`}else{if(r.type?.oOutputFormat){delete r.type.oOutputFormat}if(r.binding){delete r.binding}if(r.template){delete r.template}n+=`\n${p()}${t}='${i(s(r))}'`}}else if(e.mProperties.hasOwnProperty(t)&&e.mProperties[t]!==undefined){let r=e.mProperties[t];r=typeof r==="string"?r?.replace?.(l,"uid--id"):r;r=typeof r==="string"?r?.replace?.(f,"id"):r;try{r=typeof r==="object"?i(s(r)):i(r)}catch(e){}n+=`\n${p()} ${t}="${r}"`}else if(e.mAssociations.hasOwnProperty(t)){let r=e.mAssociations[t];if(!Array.isArray(r)){r=[r]}r=r.map(e=>typeof e==="string"?e?.replace?.(f,"id"):e);n+=`\n${p()} ${t}="${(r?.join?.(",")??r)||undefined}"`}else if(e.mEventRegistry.hasOwnProperty(t)){if(e.mEventRegistry[t][0]?.fFunction?.name){n+=`\n${p()} ${t}="${e.mEventRegistry[t][0]?.fFunction?.name}"`}else{n+=`\n${p()} ${t}="someEventHandler"`}}}}if(a&&e.aCustomStyleClasses?.length>0){n+=`\n${p()} customStyleClasses : ${e.aCustomStyleClasses.join(", ")}`}n+=`\n`;let c=false;const u=e.getMetadata().getAllAggregations();for(const t in u){const n=e[u[t]._sGetter]();if(!Array.isArray(n)&&n!==null&&n!==undefined||Array.isArray(n)&&n.length>0){c=true}if(e.getBindingPath(t)&&e.getBindingInfo(t).template){c=true}}if(c){n+=">"}return n},startAggregation:function(e,t){const n=d(e.getMetadata().getName());if(t.startsWith("$")){t=t.substring(1)}let r=`\n${p()}<${n}:${t}>`;c++;r+=`\n${p()}`;return r},endAggregation:function(e,t){c--;if(t.startsWith("$")){t=t.substring(1)}const n=d(e.getMetadata().getName());if(e.mBindingInfos[t]){return`\n${p()}</${n}:${t}>\n`}else{return`\n${p()}</${n}:${t}>\n`}}};let g;if(Array.isArray(t)){g=t.map(t=>new e(t,m).serialize())}else{g=new e(t,m).serialize()}if(o){return Array.isArray(g)?g.join("\n"):g}const $=`<root>${g}</root>`;const y=new DOMParser;return y.parseFromString($,"text/xml").firstElementChild?.firstElementChild?.outerHTML??"No Content"}t.serializeControlAsXML=a;async function o(e){const t=a(e);return t}t.serializeControlAsFormattedXML=o;return t},false);
//# sourceMappingURL=XMLSerializer.js.map