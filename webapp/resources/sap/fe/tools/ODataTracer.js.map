{"version":3,"file":"ODataTracer.js","names":["instrumentODataModel","thisLib","cacheFn","ODataPropertyBinding","prototype","createAndSetCache","cacheFn2","ODataListBinding","cacheFn3","ODataContextBinding","fnRequest","_Requestor","request","_len","arguments","length","args","Array","_key","includes","cacheId","oOwner","oCache","__feCacheId","apply","this","createdCaches","that","_len2","_key2","cacheResult","__feBinding","mParameters","applyParametersFn","applyParameters","_len3","_key3","_len4","_key4","getRootBinding","changeParameters","instrumentUpdateBindings","updateBindingsFn","_len5","_key5","res","Object","keys","mBindingInfos","forEach","bindingInfoName","binding","__feSource","__feForProp","hasOwnProperty","defineProperty","get","visibleControl","getDomRef","getParent","aBindings","subBinding","__feInComposite","__feComposite","managedObjectBindingSupport","ManagedObjectBindingSupport","updateBindings","managedObjectSupport","ManagedObject","_len6","_key6","_len7","_key7","addODataTrace","_origXML","XMLHttpRequest","window","xhr","fnOpen","open","fnSend","send","fnSetRequestHeader","setRequestHeader","_len8","_key8","url","_len9","_key9","body","header","_len10","_key10","toLowerCase","addEventListener","e","target","responseURL","batchText","batchBoundary","split","batchRequest","parseBatch","BatchContent","responseBoundary","getResponseHeader","decodedContent","responseText","batchResponse","parts","part","partIndex","requestPart","data","supportModel","getProperty","urlObj","URL","urlParams","URLSearchParams","search","feTrace","requestParam","searchParams","value","key","push","urlBase","responseBody","JSON","stringify","responseBodyObj","parameters","trace","setProperty","refresh","_exports"],"sources":["./ODataTracer.ts"],"sourcesContent":["import { BatchContent, parseBatch } from \"sap/fe/tools/BatchParser\";\nimport ODataContextBinding from \"sap/ui/model/odata/v4/ODataContextBinding\";\nimport ODataListBinding from \"sap/ui/model/odata/v4/ODataListBinding\";\nimport ODataPropertyBinding from \"sap/ui/model/odata/v4/ODataPropertyBinding\";\n\nimport ManagedObject from \"sap/ui/base/ManagedObject\";\nimport type Control from \"sap/ui/core/Control\";\nimport type JSONModel from \"sap/ui/model/json/JSONModel\";\n// @ts-ignore\nimport type ODataBinding from \"sap/ui/model/odata/v4/ODataBinding\";\n// @ts-ignore\nimport ManagedObjectBindingSupport from \"sap/ui/model/ManagedObjectBindingSupport\";\n// @ts-ignore\nimport _Requestor from \"sap/ui/model/odata/v4/lib/_Requestor\";\n\ntype RequestInfo = {\n\turl?: string;\n\tbody?: string;\n\theader?: Record<string, string>;\n};\ntype BindingDef = {\n\t__feSource: ManagedObject;\n\t__feForProp: string;\n\t__feInComposite?: boolean;\n\t__feComposite?: BindingDef;\n\tclosestDomRef: HTMLElement | null;\n\taBindings?: BindingDef[];\n};\nfunction instrumentODataModel(thisLib: any): void {\n\t// @ts-ignore\n\tconst cacheFn = ODataPropertyBinding.prototype.createAndSetCache;\n\t// @ts-ignore\n\tconst cacheFn2 = ODataListBinding.prototype.createAndSetCache;\n\t// @ts-ignore\n\tconst cacheFn3 = ODataContextBinding.prototype.createAndSetCache;\n\t// @ts-ignore\n\tconst fnRequest = _Requestor.prototype.request;\n\t// @ts-ignore\n\t_Requestor.prototype.request = function (...args: any[]): unknown {\n\t\tif (!args[1].includes(\"sap-valid-feTrace\")) {\n\t\t\tconst cacheId = args[2].oOwner.oCache?.__feCacheId;\n\t\t\tif (cacheId) {\n\t\t\t\tif (args[1].includes(\"?\")) {\n\t\t\t\t\targs[1] += `&sap-valid-feTrace=${cacheId}`;\n\t\t\t\t} else {\n\t\t\t\t\targs[1] += `?sap-valid-feTrace=${cacheId}`;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn fnRequest.apply(this, args);\n\t};\n\t//const adjustPredicateFn = ODataBinding.prototype.adjustPredicate;\n\t// @ts-ignore\n\t//const fetchCacheFn = ODataListBinding.prototype.fetchCache;\n\t//\tconst contextMakingRequest = [];\n\tlet cacheId = 0;\n\tconst createdCaches: Record<number, ODataBinding> = {};\n\t// // @ts-ignore\n\t// ODataListBinding.prototype.fetchCache = function() {\n\t// \ttry { throw new Error() } catch(e) {  }\n\t// \t// @ts-ignore\n\t// \tconst call = ODataListBinding.prototype.fetchCache.caller\n\t// \treturn fetchCacheFn.apply(this, arguments)\n\t// }\n\t// @ts-ignore\n\tODataListBinding.prototype.createAndSetCache = function (...args: never[]): unknown {\n\t\t// eslint-disable-next-line @typescript-eslint/no-this-alias\n\t\tconst that = this;\n\t\tconst cacheResult = cacheFn2.apply(this, args);\n\t\tcacheResult.__feBinding = that;\n\n\t\t// @ts-ignore\n\t\tif (!this.mParameters[\"sap-valid-feTrace\"]) {\n\t\t\tcacheResult.__feCacheId = cacheId++;\n\t\t\t// @ts-ignore\n\t\t\tthis.mParameters[\"sap-valid-feTrace\"] = cacheId++;\n\t\t\t//this.changeParameters({ \"sap-valid-feTrace\": cacheResult.__feCacheId });\n\t\t} else {\n\t\t\t// @ts-ignore\n\t\t\tcacheResult.__feCacheId = this.mParameters[\"sap-valid-feTrace\"];\n\t\t}\n\n\t\tcreatedCaches[cacheResult.__feCacheId] = cacheResult;\n\t\treturn cacheResult;\n\t};\n\t// @ts-ignore\n\tconst applyParametersFn = ODataContextBinding.prototype.applyParameters;\n\t// @ts-ignore\n\tODataContextBinding.prototype.applyParameters = function (mParameters: object): unknown {\n\t\t// @ts-ignore\n\t\tif (!mParameters[\"sap-valid-feTrace\"]) {\n\t\t\t// @ts-ignore\n\t\t\tmParameters[\"sap-valid-feTrace\"] = cacheId++;\n\t\t}\n\t\tapplyParametersFn.apply(this, [mParameters]);\n\t};\n\t// @ts-ignore\n\tODataContextBinding.prototype.createAndSetCache = function (...args: never[]): unknown {\n\t\t// eslint-disable-next-line @typescript-eslint/no-this-alias\n\t\tconst that = this;\n\t\tconst cacheResult = cacheFn3.apply(this, args);\n\t\tcacheResult.__feBinding = that;\n\n\t\t// @ts-ignore\n\t\tcacheResult.__feCacheId = this.mParameters[\"sap-valid-feTrace\"];\n\t\tcreatedCaches[cacheResult.__feCacheId] = cacheResult;\n\t\treturn cacheResult;\n\t};\n\t// @ts-ignore\n\tODataPropertyBinding.prototype.createAndSetCache = function (...args: never[]): unknown {\n\t\t// eslint-disable-next-line @typescript-eslint/no-this-alias\n\t\tconst that = this;\n\t\tconst cacheResult = cacheFn.apply(this, args);\n\t\tcacheResult.__feBinding = that;\n\n\t\tif (this.getRootBinding() === this) {\n\t\t\treturn cacheResult;\n\t\t}\n\t\t// @ts-ignore\n\t\tif (!this.getRootBinding().mParameters?.[\"sap-valid-feTrace\"]) {\n\t\t\tcacheResult.__feCacheId = cacheId++;\n\t\t\t(this.getRootBinding() as ODataContextBinding).changeParameters({ \"sap-valid-feTrace\": cacheResult.__feCacheId });\n\t\t} else {\n\t\t\t// @ts-ignore\n\t\t\tcacheResult.__feCacheId = this.getRootBinding().mParameters[\"sap-valid-feTrace\"];\n\t\t}\n\n\t\tcreatedCaches[cacheResult.__feCacheId] = cacheResult;\n\t\treturn cacheResult;\n\t};\n\n\tconst instrumentUpdateBindings = function (updateBindingsFn: Function): Function {\n\t\treturn function (this: any, ...args: never[]): void {\n\t\t\tconst res = updateBindingsFn.apply(this, args);\n\t\t\tObject.keys(this.mBindingInfos).forEach((bindingInfoName) => {\n\t\t\t\tif (this.mBindingInfos[bindingInfoName].binding) {\n\t\t\t\t\tthis.mBindingInfos[bindingInfoName].binding.__feSource = this;\n\t\t\t\t\tthis.mBindingInfos[bindingInfoName].binding.__feForProp = bindingInfoName;\n\t\t\t\t\tif (!this.mBindingInfos[bindingInfoName].binding.hasOwnProperty(\"closestDomRef\")) {\n\t\t\t\t\t\tObject.defineProperty(this.mBindingInfos[bindingInfoName].binding, \"closestDomRef\", {\n\t\t\t\t\t\t\tget: function () {\n\t\t\t\t\t\t\t\tlet visibleControl: Control = this.__feSource as Control;\n\t\t\t\t\t\t\t\twhile (visibleControl && visibleControl.getDomRef && !visibleControl.getDomRef()) {\n\t\t\t\t\t\t\t\t\tvisibleControl = visibleControl.getParent() as Control;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\treturn visibleControl?.getDomRef && visibleControl.getDomRef();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\tif (this.mBindingInfos[bindingInfoName].binding.aBindings) {\n\t\t\t\t\t\tthis.mBindingInfos[bindingInfoName].binding.aBindings.forEach((subBinding: BindingDef) => {\n\t\t\t\t\t\t\tsubBinding.__feSource = this;\n\t\t\t\t\t\t\tsubBinding.__feInComposite = true;\n\t\t\t\t\t\t\tsubBinding.__feForProp = bindingInfoName;\n\t\t\t\t\t\t\tsubBinding.__feComposite = this.mBindingInfos[bindingInfoName].binding;\n\t\t\t\t\t\t\tif (!subBinding.hasOwnProperty(\"closestDomRef\")) {\n\t\t\t\t\t\t\t\tObject.defineProperty(subBinding, \"closestDomRef\", {\n\t\t\t\t\t\t\t\t\tget: function () {\n\t\t\t\t\t\t\t\t\t\tlet visibleControl: Control | undefined = this.__feSource;\n\t\t\t\t\t\t\t\t\t\twhile (visibleControl && visibleControl.getDomRef && !visibleControl.getDomRef()) {\n\t\t\t\t\t\t\t\t\t\t\tvisibleControl = visibleControl.getParent() as Control | undefined;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\treturn visibleControl?.getDomRef && visibleControl.getDomRef();\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn res;\n\t\t};\n\t};\n\n\tconst managedObjectBindingSupport = ManagedObjectBindingSupport.updateBindings;\n\t// @ts-ignore\n\tconst managedObjectSupport = ManagedObject.prototype.updateBindings;\n\tManagedObjectBindingSupport.updateBindings = function (...args: never[]): unknown {\n\t\treturn instrumentUpdateBindings(managedObjectBindingSupport).apply(this, args);\n\t};\n\t// @ts-ignore\n\tManagedObject.prototype.updateBindings = function (...args: never[]): unknown {\n\t\treturn instrumentUpdateBindings(managedObjectSupport).apply(this, args);\n\t};\n\tthisLib.createdCaches = createdCaches;\n}\nexport function addODataTrace(thisLib: { supportModel: JSONModel }): void {\n\tinstrumentODataModel(thisLib);\n\tconst _origXML = XMLHttpRequest;\n\t// @ts-ignore\n\twindow.XMLHttpRequest = function (): XMLHttpRequest {\n\t\tconst xhr = new _origXML();\n\t\tconst fnOpen = xhr.open;\n\t\tconst fnSend = xhr.send;\n\t\tconst fnSetRequestHeader = xhr.setRequestHeader;\n\t\txhr.open = function (this: XMLHttpRequest & { request?: RequestInfo }, ...args: never[]): void {\n\t\t\tthis.request ??= {};\n\t\t\tthis.request.url = args[1];\n\t\t\t// @ts-ignore\n\t\t\tfnOpen.apply(this, args);\n\t\t};\n\t\txhr.send = function (this: XMLHttpRequest & { request?: RequestInfo }, ...args: never[]): void {\n\t\t\tthis.request ??= {};\n\t\t\tthis.request.body = args[0];\n\t\t\t// @ts-ignore\n\t\t\tfnSend.apply(this, args);\n\t\t};\n\t\txhr.setRequestHeader = function (this: XMLHttpRequest & { request?: RequestInfo }, ...args: never[]): void {\n\t\t\tthis.request ??= {};\n\t\t\tthis.request.header ??= {};\n\t\t\tthis.request.header[(args[0] as string).toLowerCase()] = args[1];\n\t\t\t// @ts-ignore\n\t\t\tfnSetRequestHeader.apply(this, args);\n\t\t};\n\t\txhr.addEventListener(\n\t\t\t\"load\",\n\t\t\tfunction (this: XMLHttpRequest & { request?: RequestInfo }, e: ProgressEvent<XMLHttpRequestEventTarget>): void {\n\t\t\t\tif ((e.target as XMLHttpRequest).responseURL.includes(\"$batch\")) {\n\t\t\t\t\tconst batchText = this.request!.body!;\n\t\t\t\t\tconst batchBoundary = this.request!.header![\"content-type\"].split(\"boundary=\")[1];\n\t\t\t\t\tconst batchRequest = parseBatch(new BatchContent(batchText), batchBoundary);\n\t\t\t\t\tconst responseBoundary = (e.target as XMLHttpRequest).getResponseHeader(\"content-type\")!.split(\"boundary=\")[1];\n\n\t\t\t\t\tconst decodedContent = (e.target as XMLHttpRequest).responseText;\n\t\t\t\t\tconst batchResponse = parseBatch(new BatchContent(decodedContent), responseBoundary);\n\t\t\t\t\tbatchResponse.parts.forEach((part: any, partIndex: number) => {\n\t\t\t\t\t\tconst requestPart = batchRequest.parts[partIndex];\n\t\t\t\t\t\tconst data = thisLib.supportModel.getProperty(\"/data\");\n\t\t\t\t\t\tconst urlObj = new URL(`http://example.com/${requestPart.url}`);\n\t\t\t\t\t\tconst urlParams = new URLSearchParams(urlObj.search);\n\t\t\t\t\t\tconst feTrace = urlParams.get(\"sap-valid-feTrace\");\n\t\t\t\t\t\tconst requestParam: Record<string, string> = {};\n\t\t\t\t\t\turlObj.searchParams.forEach((value, key) => {\n\t\t\t\t\t\t\trequestParam[key] = value;\n\t\t\t\t\t\t});\n\t\t\t\t\t\tdata.push({\n\t\t\t\t\t\t\turlBase: requestPart.url.split(\"?\")[0],\n\t\t\t\t\t\t\trequest: requestPart,\n\t\t\t\t\t\t\tresponseBody: JSON.stringify(part.body, null, 4),\n\t\t\t\t\t\t\tresponseBodyObj: part.body,\n\t\t\t\t\t\t\tparameters: JSON.stringify(requestParam, null, 4),\n\t\t\t\t\t\t\ttrace: feTrace\n\t\t\t\t\t\t});\n\t\t\t\t\t\tthisLib.supportModel.setProperty(\"/data\", data);\n\t\t\t\t\t\tthisLib.supportModel.refresh();\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t);\n\n\t\treturn xhr;\n\t};\n}\n"],"mappings":"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","ignoreList":[]}