/*!
 * 
		SAP UI development toolkit for HTML5 (SAPUI5)
        (c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.define(["sap/ui/test/OpaBuilder","sap/ui/test/Opa5","sap/ui/core/util/ShortcutHelper","sap/fe/test/Utils","sap/fe/test/builder/FEBuilder","sap/fe/test/builder/MdcFieldBuilder","sap/fe/test/builder/MacroFieldBuilder","sap/fe/test/builder/MdcTableBuilder","sap/fe/test/builder/DialogBuilder","sap/fe/test/api/DialogType","sap/fe/test/api/DialogActions","sap/fe/test/api/DialogAssertions","sap/fe/test/api/DialogMessageActions","sap/fe/test/api/DialogMessageAssertions","sap/fe/test/api/DialogValueHelpActions","sap/fe/test/api/DialogValueHelpAssertions","sap/fe/test/api/DialogCreateActions","sap/fe/test/api/DialogCreateAssertions","sap/fe/test/api/DialogMassEditActions","sap/fe/test/api/DialogMassEditAssertions","sap/fe/test/api/TableAssertions","sap/fe/test/api/TableActions","sap/fe/test/api/ChartAssertions","sap/fe/test/api/ChartActions","sap/fe/test/builder/MdcFilterBarBuilder","sap/fe/test/api/FilterBarAssertions","sap/fe/test/api/FilterBarActions","sap/base/util/deepEqual","sap/ushell/resources"],function(e,t,i,s,r,a,n,o,c,u,l,p,h,d,f,g,T,P,m,w,S,A,D,E,x,y,B,O,v){"use strict";function M(e,t){var i=o.create(e);if(s.isOfType(t,String)){i.hasProperties({header:t})}else{i.hasId(t.id)}return i}function b(e,t){return x.create(e).hasId(t.id)}function _(e,t,i){if(s.isOfType(t,String,true)){t={type:u.Confirmation,title:t}}var a=c.create(e);switch(t.type){case u.ValueHelp:if(t.property){a.has(r.Matchers.id(RegExp(s.formatMessage("::FieldValueHelp::{0}-dialog$",t.property.replaceAll("/","::")))))}return i?new f(a,t):new g(a,t);case u.Error:a.hasProperties({icon:"sap-icon://error",title:"Error"});return i?new l(a,t):new p(a,t);case u.Message:return i?new h(a,t):new d(a,t);case u.Create:return i?new T(a,t):new P(a,t);case u.MassEdit:return i?new m(a,t):new w(a,t);default:return i?new l(a,t):new p(a,t)}}function C(){var e={};Object.keys(u).forEach(function(t){e["on"+t+"Dialog"]=function(){return this.onDialog({type:t})}});return e}function k(t,a){var n=s.isOfType(t,String)?t:t.viewId,o=Array.prototype.slice.call(arguments,1);return s.mergeObjects.apply(s,[{viewId:n,actions:s.mergeObjects({_onTable:function(e){return new A(M(this,e),e)},_onChart:function(e){return new E(r,e)},_onFilterBar:function(e){return new B(b(this,e),e)},onDialog:function(e){return _(this,e,true)},iOpenVHOnActionDialog:function(t){var i="APD_::"+t+"-inner-vhi";return e.create(this).hasId(i).isDialogElement().doPress().description("Opening value help for '"+t+"'").execute()},_iPressKeyboardShortcut:function(t,s,r,a){return e.create(this).hasId(t).hasProperties(r?r:{}).hasType(a).do(function(e){var t=i.parseShortcut(s);t.type="keydown";e.$().trigger(t)}).description("Execute keyboard shortcut "+s).execute()},_iCollapseExpandPageHeader:function(t){var i=e.Matchers.resourceBundle("tooltip","sap.f","COLLAPSE_HEADER_BUTTON_TOOLTIP"),r=e.Matchers.resourceBundle("tooltip","sap.f","EXPAND_HEADER_BUTTON_TOOLTIP");return e.create(this).hasType("sap.m.Button").has(e.Matchers.some(i,r)).doConditional(t?i:r,e.Actions.press()).description(s.formatMessage("{0} the current Page Header",t?"Collapsing":"Expanding")).execute()}},C()),assertions:s.mergeObjects({_onTable:function(e){return new S(M(this,e),e)},_onChart:function(e){return new D(r,e)},_onFilterBar:function(e){return new y(b(this,e),e)},onDialog:function(e){return _(this,e,false)},iSeeThisPage:function(){return e.create(this).hasId(n).do(function(e){var t=e.getParent().oContainer;var i=t;do{i=i.getParent()}while(!i.isA("sap.ui.core.mvc.XMLView"));this.oPlaceholder=i.getController().oPlaceholder}.bind(this)).viewId(null).viewName(null).description(s.formatMessage("Seeing the page '{0}'",n)).execute()},iResetPlaceholderStatistics:function(){return e.create(this).do(function(){this.oPlaceholder.resetPlaceholderDebugStats()}.bind(this)).description("Placeholder reset statistics").execute()},iCheckPlaceholderStatistics:function(t){var i={pageReady:"iPageReadyEventTimestamp",heroesBatchReceived:"iHeroesBatchReceivedEventTimestamp"};return e.create(this).check(function(){var e=this.oPlaceholder.getPlaceholderDebugStats();var s=i[t];if(e.iHidePlaceholderTimestamp-e[s]<10){return true}else{return false}}.bind(this)).description("Placeholder statistics are correct").execute()},iSeeFilterDefinedOnActionDialogValueHelp:function(t,i,s,r){return e.create(this).hasId(t+"::"+i+"::FilterBar::FilterField::"+s+"-inner").isDialogElement().hasAggregationProperties("tokens",{text:r}).description("Seeing filter for '"+s+"' set to '"+r+"'").execute()},_iSeeTheMessageToast:function(e){return r.createMessageToastBuilder(e).execute(this)},_iSeeButtonWithText:function(e,t){return r.create(this).hasType("sap.m.Button").hasProperties({text:e}).hasState(t).checkNumberOfMatches(1).description(s.formatMessage("Seeing Button with text '{0}'"+(t?" with state: '{1}'":""),e,t)).execute()},iSeePageHeaderButton:function(t){return e.create(this).hasType("sap.m.Button").has(e.Matchers.resourceBundle("tooltip","sap.f",t?"COLLAPSE_HEADER_BUTTON_TOOLTIP":"EXPAND_HEADER_BUTTON_TOOLTIP")).description("Seeing the "+(t?"Collapse":"Expand")+" Page Header Button").execute()},iSeeTileCreationMessage:function(){return this._iSeeTheMessageToast(v.i18n.getText("tile_created_msg"))},iSeeMessageStrip:function(t){return e.create(this).hasType("sap.m.MessageStrip").hasProperties(t).description(s.formatMessage("Seeing message strip with properties='{0}'",t)).execute()},iSeeAnalyticalPopover:function(t){return e.create(this).hasType("sap.m.Popover").isDialogElement(true).hasProperties({title:t}).description("Seeing Analytical Popover with title "+t).execute()},iSeeListOfCurrenciesWithValues:function(t){return e.create(this).isDialogElement().hasType("sap.m.CustomListItem").hasChildren(e.create(this).hasType("sap.m.Text").has(function(e){if(e.getText()===t){return true}else{return false}}),false).description("Checking content of currencies list: '"+t+"' is found").execute()},iSeeQuickViewPopover:function(){return e.create(this).hasType("sap.ui.mdc.link.Panel").description("Seeing Quick View Popover").execute()},iSeeQuickViewTitleLink:function(t){return e.create(this).hasType("sap.m.Link").isDialogElement(true).hasProperties({text:t}).description("QuickView Title link with text '"+t+"' is found").execute()},iSeeQuickViewTitleWithLabel:function(t){return e.create(this).hasType("sap.m.Title").isDialogElement(true).hasProperties({text:t}).description("QuickView Title label with text '"+t+"' is found").execute()}},C())}].concat(o))}return k});
//# sourceMappingURL=TemplatePage.js.map