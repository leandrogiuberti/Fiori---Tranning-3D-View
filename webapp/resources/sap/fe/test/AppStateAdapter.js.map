{"version":3,"file":"AppStateAdapter.js","names":["AppStateAdapter","_exports","_proto","prototype","saveAppState","sKey","sSessionKey","sValue","sAppName","sComponent","fetchPromise","fetch","method","headers","body","JSON","stringify","key","sessionKey","value","appName","component","oMyDeferred","jQuery","Deferred","then","async","response","json","data","resolve","catch","error","reject","promise","loadAppState"],"sources":["./AppStateAdapter.ts"],"sourcesContent":["import jQuery from \"sap/ui/thirdparty/jquery\";\n\nexport default class AppStateAdapter {\n\tsaveAppState(sKey: string, sSessionKey: string, sValue: string, sAppName: string, sComponent: string): jQuery.Promise {\n\t\tconst fetchPromise = fetch(\"/sap/bc/appState\", {\n\t\t\tmethod: \"POST\",\n\t\t\theaders: {\n\t\t\t\t\"Content-Type\": \"application/json\"\n\t\t\t},\n\t\t\tbody: JSON.stringify({\n\t\t\t\tkey: sKey,\n\t\t\t\tsessionKey: sSessionKey,\n\t\t\t\tvalue: sValue,\n\t\t\t\tappName: sAppName,\n\t\t\t\tcomponent: sComponent\n\t\t\t})\n\t\t});\n\t\tconst oMyDeferred = jQuery.Deferred() as JQuery.Deferred<unknown, unknown, unknown>;\n\t\tfetchPromise\n\t\t\t.then(async (response) => {\n\t\t\t\treturn response.json();\n\t\t\t})\n\t\t\t.then((data) => {\n\t\t\t\toMyDeferred.resolve(data);\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\toMyDeferred.reject(error);\n\t\t\t});\n\t\treturn oMyDeferred.promise();\n\t}\n\n\tloadAppState(sKey: string): jQuery.Promise {\n\t\tconst oMyDeferred = jQuery.Deferred() as JQuery.Deferred<unknown, unknown, unknown>;\n\t\tconst fetchPromise = fetch(`/sap/bc/appState/${sKey}`, {\n\t\t\tmethod: \"GET\"\n\t\t});\n\t\tfetchPromise\n\t\t\t.then(async (response) => {\n\t\t\t\treturn response.json();\n\t\t\t})\n\t\t\t.then((data) => {\n\t\t\t\toMyDeferred.resolve(data.key, data.value);\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\toMyDeferred.reject(error);\n\t\t\t});\n\t\treturn oMyDeferred.promise();\n\t}\n}\n"],"mappings":";;;;sFAEqBA,EAAe,oBAAAA,IAAA,CAAAC,EAAAD,EAAA,IAAAE,EAAAF,EAAAG,UAAAD,EACnCE,aAAA,SAAAA,EAAaC,EAAcC,EAAqBC,EAAgBC,EAAkBC,GACjF,MAAMC,EAAeC,MAAM,mBAAoB,CAC9CC,OAAQ,OACRC,QAAS,CACR,eAAgB,oBAEjBC,KAAMC,KAAKC,UAAU,CACpBC,IAAKZ,EACLa,WAAYZ,EACZa,MAAOZ,EACPa,QAASZ,EACTa,UAAWZ,MAGb,MAAMa,EAAcC,OAAOC,WAC3Bd,EACEe,KAAKC,SACEC,EAASC,QAEhBH,KAAMI,IACNP,EAAYQ,QAAQD,KAEpBE,MAAOC,IACPV,EAAYW,OAAOD,KAErB,OAAOV,EAAYY,SACpB,EAAChC,EAEDiC,aAAA,SAAAA,EAAa9B,GACZ,MAAMiB,EAAcC,OAAOC,WAC3B,MAAMd,EAAeC,MAAM,oBAAoBN,IAAQ,CACtDO,OAAQ,QAETF,EACEe,KAAKC,SACEC,EAASC,QAEhBH,KAAMI,IACNP,EAAYQ,QAAQD,EAAKZ,IAAKY,EAAKV,SAEnCY,MAAOC,IACPV,EAAYW,OAAOD,KAErB,OAAOV,EAAYY,SACpB,EAAC,OAAAlC,CAAA,CA7CkC,GA6ClCC,EAAAD,EAAA,OAAAC,CAAA","ignoreList":[]}