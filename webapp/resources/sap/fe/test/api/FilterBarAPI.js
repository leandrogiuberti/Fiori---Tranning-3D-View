/*!
 * 
		SAP UI development toolkit for HTML5 (SAPUI5)
        (c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.define(["./BaseAPI","sap/fe/test/Utils","sap/ui/test/OpaBuilder","sap/ui/test/actions/Action","sap/fe/test/builder/FEBuilder","sap/fe/test/builder/MdcFilterBarBuilder","sap/fe/test/builder/MdcFilterFieldBuilder"],function(e,t,i,r,s,a,n){"use strict";var o=function(i,r){if(!t.isOfType(i,a)){throw new Error("oFilterBarBuilder parameter must be a FilterBarBuilder instance")}return e.call(this,i,r)};o.prototype=Object.create(e.prototype);o.prototype.constructor=o;o.createFilterFieldBuilder=function(e,r,a){var o;if(t.isOfType(r,String)){o=i.Matchers.properties({label:r})}else{o=s.Matchers.id(RegExp(t.formatMessage("::FilterField::{0}$",r.property.replace(/\/|\*\//g,"::"))))}e.hasField(o,a,true);return n.create(e.getOpaInstance()).options(e.build())};o.prototype.iOpenFilterAdaptation=function(){var e=this.getBuilder();return this.prepareResult(e.doOpenSettings().success(s.create(this.getOpaInstance()).isDialogElement().hasType("sap.m.Button").hasProperties({icon:"sap-icon://group-2"}).doPress().success(s.create(this.getOpaInstance()).hasType("sap.m.Panel").isDialogElement().doConditional(function(e){return!e.getExpanded()},i.Actions.press("expandButton")))).description(t.formatMessage("Opening the filter bar adaptation dialog for '{0}'",this.getIdentifier())).execute())};o.prototype.iConfirmFilterAdaptation=function(){return this.prepareResult(a.createAdaptationDialogBuilder(this.getOpaInstance()).doPressFooterButton(i.Matchers.resourceBundle("text","sap.ui.mdc","p13nDialog.OK")).description(t.formatMessage("Closing the filter bar adaptation dialog for '{0}'",this.getIdentifier())).execute())};o.prototype.filterFieldAdaptation=function(n,o,p,l){var c=t.parseArguments([[String,Object],Object,[Function,Array,r],String],arguments),d=s.create(this.getOpaInstance()),u,f=s.create(this.getOpaInstance()).hasType("sap.m.CustomListItem").isDialogElement(),h=a.createAdaptationDialogBuilder(this.getOpaInstance());n=c[0];if(t.isOfType(n,String)){f.has(i.Matchers.bindingProperties(e.MDC_P13N_MODEL,{label:n}))}else{f.has(i.Matchers.bindingProperties(e.MDC_P13N_MODEL,{name:n.property}))}o=c[1];if(o.visible!==undefined){o.exists=o.visible;delete o.visible}if(o.selected!==undefined){o.visible=o.selected;delete o.selected}var g=o&&o.exists===false;if(!g&&!t.isOfType(o,[null,undefined])){f.has(i.Matchers.bindingProperties(e.MDC_P13N_MODEL,o))}p=c[2];if(!t.isOfType(p,[null,undefined])){h.do(p)}l=c[3];return this.prepareResult(d.success(function(){u=s.controlsExist(h);if(!u){this.iOpenFilterAdaptation()}if(!u){h.success(this.iConfirmFilterAdaptation.bind(this))}return h.has(i.Matchers.children(f)).has(function(e){if(g){return e.length===0}return s.Matchers.atIndex(0)(e)}).description(l).execute()}.bind(this)).execute())};return o});
//# sourceMappingURL=FilterBarAPI.js.map