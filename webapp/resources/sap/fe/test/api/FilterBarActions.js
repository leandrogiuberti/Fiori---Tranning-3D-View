/*!
 * 
		SAP UI development toolkit for HTML5 (SAPUI5)
        (c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.define(["./FilterBarAPI","sap/fe/test/Utils","sap/fe/macros/filterBar/DraftEditState","sap/fe/test/builder/FEBuilder","sap/ui/test/Opa5","sap/ui/test/OpaBuilder","sap/fe/test/builder/VMBuilder"],function(e,t,i,r,a,s,n){"use strict";var o=function(t,i){return e.call(this,t,i)};o.prototype=Object.create(e.prototype);o.prototype.constructor=o;o.prototype.isAction=true;o.prototype.iChangeFilterField=function(i,r,a){var s=t.parseArguments([[String,Object],String,Boolean],arguments),n=e.createFilterFieldBuilder(this.getBuilder(),s[0]);return this.prepareResult(n.doChangeValue(s[1],s[2]).description(t.formatMessage("Changing the filter field '{1}' of filter bar '{0}' by adding '{2}' (was cleared first: {3})",this.getIdentifier(),s[0],s[1],!!s[2])).execute())};o.prototype.iSelectDropDownOption=function(e){return this.prepareResult(r.create().hasType("sap.m.List").isDialogElement(true).has(s.Matchers.aggregation("items")).has(function(t){return t.find(function(t){return t.getProperty("label")===e})}).doPress().description(t.formatMessage("Selecting option with label {0} in value help popup",e)).execute())};o.prototype.iOpenValueHelp=function(i){var r=e.createFilterFieldBuilder(this.getBuilder(),i);return this.prepareResult(r.doOpenValueHelp().description(t.formatMessage("Opening the value help for filter field '{1}' of filter bar '{0}'",this.getIdentifier(),i)).execute())};o.prototype.iChangeSearchField=function(e){var i=this.getBuilder();return this.prepareResult(i.doChangeSearch(e).description(t.formatMessage("Changing the search text on filter bar '{0}' to '{1}'",this.getIdentifier(),e||"")).execute())};o.prototype.iResetSearchField=function(){var e=this.getBuilder();return this.prepareResult(e.doResetSearch().description(t.formatMessage("Resetting the search field on filter bar '{0}'",this.getIdentifier())).execute())};o.prototype.iChangeEditingStatus=function(e){var r=this.getBuilder();return this.prepareResult(r.doChangeEditingStatus(e&&i[e]).description(t.formatMessage("Changing the editing status on filter bar '{0}' to '{1}'",this.getIdentifier(),e&&i[e].display)).execute())};o.prototype.iExecuteSearch=function(){var e=this.getBuilder();return this.prepareResult(e.doSearch().description(t.formatMessage("Executing search on filter bar '{0}'",this.getIdentifier())).execute())};o.prototype.iAddAdaptationFilterField=function(e){return this.filterFieldAdaptation(e,{selected:false},s.Actions.press("selectMulti"),t.formatMessage("Adding field '{1}' to filter bar '{0}'",this.getIdentifier(),e))};o.prototype.iRemoveAdaptationFilterField=function(e){return this.filterFieldAdaptation(e,{selected:true},s.Actions.press("selectMulti"),t.formatMessage("Removing field '{1}' to filter bar '{0}'",this.getIdentifier(),e))};o.prototype.iExecuteKeyboardShortcut=function(i,r){var a=r?e.createFilterFieldBuilder(this.getBuilder(),r):this.getBuilder();return this.prepareResult(a.doPressKeyboardShortcut(i).description(t.formatMessage("Execute keyboard shortcut '{1}' on filter bar '{0}' on field '{2}'",this.getIdentifier(),i,r)).execute())};o.prototype.iSaveVariant=function(e,i,r){var a=t.isOfType(e,String)?function(a){return n.create(this).hasId(a.getId()+"::VariantManagement").doSaveAs(e,i,r).description(t.formatMessage("Saving variant for '{0}' as '{1}' with default='{2}' and applyAutomatically='{3}'",this.getIdentifier(),e,!!i,!!r)).execute()}:function(e){return n.create(this).hasId(e.getId()+"::VariantManagement").doSave().description(t.formatMessage("Saving current variant for '{0}'",this.getIdentifier())).execute()};return this.prepareResult(this.getBuilder().success(a.bind(this)).execute())};o.prototype.iSelectVariant=function(e){return this.prepareResult(this.getBuilder().success(function(i){return n.create(this).hasId(i.getId()+"::VariantManagement").doSelectVariant(e).description(t.formatMessage("Selecting variant '{1}' from '{0}'",this.getIdentifier(),e)).execute()}.bind(this)).execute())};o.prototype.iSelectVisualFilter=function(e,t,i){return this.prepareResult(s.create(this).hasType("sap.fe.macros.controls.filterbar.VisualFilter").hasId(new RegExp(e,"i")).success(function(e){var r=e[0];var a;var s=r.getItems()[1].getItems()[0];var n=s.isA("sap.suite.ui.microchart.InteractiveLineChart")&&s.getPoints()||s.isA("sap.suite.ui.microchart.InteractiveBarChart")&&s.getBars();n.forEach(function(e){if(e.getLabel()==t){a=e}});if(!a){a=n[0]}if(s.isA("sap.suite.ui.microchart.InteractiveLineChart")){var o=s.getSelectedPoints();return s.fireSelectionChanged({selectedPoints:o,point:a,selected:i})}else if(s.isA("sap.suite.ui.microchart.InteractiveBarChart")){var u=s.getSelectedBars();return s.fireSelectionChanged({selectedPoints:u,point:a,selected:i})}}).description("Selecting an item in "+e+" VisualFilter").execute())};o.prototype.iOpenVisualFilterValueHelp=function(e){return this.prepareResult(s.create(this).hasType("sap.fe.macros.controls.filterbar.VisualFilter").hasId(new RegExp(e,"i")).success(function(e){var t=e[0].getId();s.create(this).hasType("sap.m.Button").hasId(t+"::VisualFilterValueHelpButton").doPress().execute()}).description("Open ValueHelp Dialog "+e+" VisualFilter").execute())};return o});
//# sourceMappingURL=FilterBarActions.js.map