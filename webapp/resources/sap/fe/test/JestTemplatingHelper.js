/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.define(["@sap/cds-compiler","fs","htmljs-parser","path","sap/base/Log","sap/base/util/LoaderExtensions","sap/base/util/uid","sap/fe/base/jsx-runtime/jsx","sap/fe/core/AppComponent","sap/fe/core/PageController","sap/fe/core/TemplateModel","sap/fe/core/buildingBlocks/templating/BuildingBlockTemplateProcessor","sap/fe/core/converters/ConverterContext","sap/fe/core/converters/ManifestWrapper","sap/fe/core/converters/MetaModelConverter","sap/fe/core/formatters/ValueFormatter","sap/fe/core/services/SideEffectsServiceFactory","sap/fe/test/UI5MockHelper","sap/m/Page","sap/ui/base/BindingInfo","sap/ui/base/BindingParser","sap/ui/base/ManagedObjectMetadata","sap/ui/core/Component","sap/ui/core/InvisibleText","sap/ui/core/XMLTemplateProcessor","sap/ui/core/util/XMLPreprocessor","sap/ui/core/util/serializer/Serializer","sap/ui/fl/Utils","sap/ui/fl/apply/_internal/flexState/FlexState","sap/ui/fl/initial/_internal/Loader","sap/ui/fl/initial/_internal/Storage","sap/ui/fl/initial/_internal/preprocessors/XmlPreprocessor","sap/ui/model/json/JSONModel","sap/ui/model/odata/v4/ODataMetaModel","sap/ui/model/odata/v4/ODataModel","sap/ui/model/odata/v4/lib/_MetadataRequestor","xpath","./JestFlexibilityHelper","sap/fe/base/jsx-runtime/jsx"],function(e,t,n,s,o,r,a,i,c,l,u,d,f,p,m,g,y,h,v,C,$,S,w,x,M,b,O,j,A,P,F,T,B,k,E,I,D,L,_){"use strict";var R={};var N=L.createFlexibilityChangesObject;var V=h.createMockResourceModel;var X=m.getInvolvedDataModelObjects;var z=m.convertTypes;var H=d.parseXMLString;var J=n.createParser;function W(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,q(e,t)}function q(e,t){return q=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},q(e,t)}o.setLevel(1,"sap.ui.core.util.XMLPreprocessor");jest.setTimeout(4e4);const U={macro:"sap.fe.macros",macroShare:"sap.fe.macros.share",macros:"sap.fe.macros",feBB:"sap.fe.core.buildingBlocks.templating",macroField:"sap.fe.macros.field",macrodata:"http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1",log:"http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1",customData:"http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1",control:"sap.fe.core.controls",controls:"sap.fe.macros.controls",core:"sap.ui.core",dt:"sap.ui.dt",m:"sap.m",f:"sap.ui.layout.form",fl:"sap.ui.fl",internalMacro:"sap.fe.macros.internal",mdc:"sap.ui.mdc",actiontoolbar:"sap.ui.mdc.actiontoolbar",mdcField:"sap.ui.mdc.field",mdcTable:"sap.ui.mdc.table",u:"sap.ui.unified",uxap:"sap.uxap",macroMicroChart:"sap.fe.macros.microchart",microChart:"sap.suite.ui.microchart",macroTable:"sap.fe.macros.table",mdcvc:"sap.ui.mdc.valuehelp.content",mdcv:"sap.ui.mdc.valuehelp",valueHelp:"sap.fe.macros.valueHelp",contentSwitcher:"sap.fe.macros.contentSwitcher",filterBar:"sap.fe.macros.filterBar",draftIndicator:"sap.fe.macros.draftIndicator",visualFilter:"sap.fe.macros.visualfilters",fieldhelp:"sap.ui.core.fieldhelp"};const G=Object.keys(U).reduce((e,t)=>{e[U[t]]=t;return e},{});const K=D.useNamespaces(U);const Q={computeFieldGroupIds:()=>[]};function Y(e,t){const n="/root";return`${e.nodeName==="root"&&!t.startsWith(n)?n:""}${t}`}async function Z(e,t,n,s){let o;if(e){o=await fe(e);if(!n.hasOwnProperty("converterContext")){n=Object.assign(n,{converterContext:new u({},o)})}Object.keys(n).forEach(function(e){if(n[e]&&n[e].isTemplateModel){n[e]=new u(n[e].data,o)}})}const r={models:Object.assign({metaModel:o},n),bindingContexts:{},appComponent:{getSideEffectsService:jest.fn(),getDiagnostics:()=>undefined,getShellServices:jest.fn(),getManifestEntry:()=>undefined}};r.appComponent.getSideEffectsService.mockReturnValue(s??Q);Object.keys(t).forEach(function(e){expect(typeof o?.getObject(t[e])).toBeDefined();const s=n[e]||o;r.bindingContexts[e]=s.createBindingContext(t[e]);r.models[e]=s});return r}function ee(e){const t=e.replace(/\./g,"/")+".view.xml";const n=r.loadResource(t);return n.documentElement}const te=function(e,t){return K(e,t)};expect.extend({toHaveControl(e,t){const n=te(Y(e,t),e);return{message:()=>{const n=oe(e);return`did not find controls matching ${t} in generated xml:\n ${n}`},pass:n&&n.length>=1}},toNotHaveControl(e,t){const n=te(Y(e,t),e);return{message:()=>{const n=oe(e);return`There is a control matching ${t} in generated xml:\n ${n}`},pass:n&&n.length===0}},toHaveTemplatingErrors(e){const t=typeof e==="string"?e:oe(e);const n=t.match(/BBF\.base64Decode\('([^']*)'\)/gm)||[];const s=n.map(e=>{if(e&&e.length>0){return atob(e.match(/('[^']*)/)?.[0]?.slice(1)||"")}return""});if(s.length<=0){return{message:()=>`XML Templating without errors`,pass:false}}else{return{message:()=>s.join("\n"),pass:true}}}});R.runXPathQuery=te;const ne=function(e){if(Array.isArray(e)){e=e.join("")}return re(e)};R.formatBuildingBlockXML=ne;const se=function(e,t,n){const s=`string(${Y(n,e)}/@${t})`;return te(s,n)};R.getControlAttribute=se;const oe=function(e,t){const n=new window.XMLSerializer;let s;if(t){const o=te(t,e);s=o.map(e=>n.serializeToString(e)).join("\n")}else{s=n.serializeToString(e)}return re(s)};R.serializeXML=oe;const re=function(e){const t="<__XML__>",n="</__XML__>",s=/uid--id-\d{13}-\d{1,3}/,o=/id-\d{13}-\d{1,3}/,r=[];let a="",i=-1,c=[];function l(){if(a&&a!==t){r.push(a)}a=i>0?"  ".repeat(i):""}function u(){if(c.length>0){c=c.sort((e,t)=>{if(e.name.startsWith("xmlns")&&!t.name.startsWith("xmlns")){return-1}else if(!e.name.startsWith("xmlns")&&t.name.startsWith("xmlns")){return 1}else if(e.name.startsWith("xmlns")&&t.name.startsWith("xmlns")){return e.name.localeCompare(t.name)}else if(e.name.includes(":")&&!t.name.includes(":")){return-1}else if(!e.name.includes(":")&&t.name.includes(":")){return 1}else{return e.name.localeCompare(t.name)}});i++;for(const e of c){l();a+=e.name;if(e.value)a+=e.value}i--;c=[];l()}}function d(e){a+=f.read(e)}const f=J({onOpenTagStart(e){l();d(e)},onOpenTagName:d,onAttrName(e){c.unshift({name:f.read(e)})},onAttrValue(e){c[0].value=f.read(e).replace(s,"uid--id");c[0].value=f.read(e).replace(o,"id")},onOpenTagEnd(e){u();d(e);if(!e.selfClosed)i++},onCloseTagStart(e){i--;l();d(e)},onCloseTagName:d,onCloseTagEnd:d});f.parse(t+e+n);return r.join("\n").trim()};R.formatXML=re;const ae=function(e){let n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};const o=t.readFileSync(e,"utf-8");const r=ie(o,"sap.fe.test.JestService",n);const a=s.resolve(e,"..","gen");const i=Object.entries(n);i.sort((e,t)=>t[0].localeCompare(e[0]));const c=i.reduce((e,t)=>{let[n,s]=t;return`${e}#${n}=${s.toString()}#`},s.basename(e).replace(".cds",""))+".xml";const l=s.resolve(a,c);t.mkdirSync(a,{recursive:true});t.writeFileSync(l,r);return l};R.compileCDS=ae;function ie(n){let s=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"sap.fe.test.JestService";let o=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};const r={"source.cds":n};if(n.includes("'@sap/cds/common'")){r["common.cds"]=t.readFileSync(require.resolve("@sap/cds/common.cds"),"utf-8")}const a=e.compileSources(r,{});const i={odataForeignKeys:true,odataFormat:"structured",odataContainment:true,...o,service:s};const c=e.to.edmx(a,i);if(!c){throw new Error(`Compilation failed. Hint: Make sure that the CDS model defines service ${s}.`)}return c}R.cds2edmx=ie;const ce=async function(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"sap.ui.model.odata.v4.ODataModel";const n={getModel:()=>({isA:()=>t==="sap.ui.model.odata.v4.ODataModel",getMetaModel:()=>e,getServiceUrl:()=>undefined}),getService:()=>({getCapabilities:()=>undefined})};const s=await(new y).createInstance({scopeObject:n,scopeType:"",settings:{}});return s.getInterface()};R.getFakeSideEffectsService=ce;const le=function(){const e=[];return{addIssue(t,n,s){e.push({issueCategory:t,issueSeverity:n,details:s})},getIssues(){return e},checkIfIssueExists(t,n,s){return e.find(e=>e.issueCategory===t&&e.issueSeverity===n&&e.details===s)}}};R.getFakeDiagnostics=le;const ue=function(e,t){const n=z(e);const s=t.contextPath?X(e.createBindingContext(t.contextPath)):X(e.createBindingContext(`/${t.entitySet}`));return new f(n,new p(t),le(),s)};R.getConverterContextForTest=ue;const de={};const fe=async function(e){const t=I.create({},"4.0",undefined,{},{},function(){return null});if(!de[e]){const n=new k(t,e,undefined,{_requestAnnotationChanges:()=>[]});await n.fetchEntityContainer();de[e]=n}return de[e]};R.getMetaModel=fe;const pe=function(e,t,n){const s={startingEntitySet:e,navigationProperties:[],targetObject:n,targetEntitySet:e,targetEntityType:e.entityType,convertedTypes:t};s.contextLocation=s;return s};R.getDataModelObjectPathForProperty=pe;const me=function(e){const t=C.parse(e);for(var n=arguments.length,s=new Array(n>1?n-1:0),o=1;o<n;o++){s[o-1]=arguments[o]}return t.formatter.apply(undefined,s)};R.evaluateBinding=me;function ge(e,t,n){const s=C.parse(e,null,false,false,false,false,{".":{_formatters:{ValueFormatter:g}}});const o=new x;o.bindProperty("text",s);const r=new B(t);o.setModel(r);o.setBindingContext(r.createBindingContext("/"));if(n){for(const[e,t]of Object.entries(n)){const n=new B(t);o.setModel(n,e);o.setBindingContext(n.createBindingContext("/"),e)}}return o.getText()}R.evaluateBindingWithModel=ge;const ye="testViewId";const he=async function(e,t,n){[...n.querySelectorAll("[id]")].forEach(e=>{e.id=`${ye}--${e.id}`});const s=N(ye,e);const o="someComponent";const r={"sap.app":{id:o,type:"application",crossNavigation:{outbounds:[]}}};const a={getDiagnostics:jest.fn().mockReturnValue(le()),getModel:jest.fn().mockReturnValue({getMetaModel:jest.fn().mockReturnValue(t)}),getComponentData:jest.fn().mockReturnValue({}),getManifestObject:jest.fn().mockReturnValue({getEntry:function(e){return r[e]}}),getLocalId:jest.fn(e=>e)};jest.spyOn(F,"loadFlexData").mockReturnValue(Promise.resolve(s));jest.spyOn(P,"getFlexData").mockReturnValue(Promise.resolve({data:s}));jest.spyOn(P,"getCachedFlexData").mockReturnValue(s);jest.spyOn(w,"getComponentById").mockReturnValue(a);jest.spyOn(j,"getAppComponentForControl").mockReturnValue(a);await A.initialize({componentId:o});n=await T.process(n,{name:"Test Fragment",componentId:o,id:ye});const i=ve(n);expect(i.length).toBe(e?.changes?.length??0+e?.variantDependentControlChanges?.length??0);return n};const ve=e=>[...e.querySelectorAll("*")].flatMap(e=>[...e.attributes].map(e=>e.name)).filter(e=>e.includes("sap.ui.fl.appliedChanges"));R.getChangesFromXML=ve;const Ce=async function(e,t,n,s,o,r){if(!s["sap.fe.i18n"]){s["sap.fe.i18n"]=V()}const a=`<root>${e}</root>`;const i=new window.DOMParser;const c=i.parseFromString(a,"text/xml");const l=await Z(t,n,s,r);if(l.models["this"]){l.bindingContexts["this"]=l.models["this"].createBindingContext("/")}let u=await b.process(c.firstElementChild,{name:"Test Fragment"},l);if(t&&o){const e=await fe(t);u=await he(o,e,u)}return u};R.getTemplatingResult=Ce;const $e=async function(e,t,n,s,o,r){return i.defineXMLNamespaceMap(G,async()=>{const a=await Ce(e,t,n,s,o,r);const i=oe(a,undefined);expect(i).not.toHaveTemplatingErrors();return i})};R.getTemplatedXML=$e;async function Se(e,t,n,s,o){const r=await fe(t);const a=ee(e);const i=await Z(t,n,s);let c=await b.process(a,{name:e},i);if(o){c=await he(o??[],r,c)}return{asElement:c,asString:re(c?.outerHTML||"")}}R.processView=Se;async function we(e,t){const n=`<root><core:Fragment fragmentName="${e}" type="XML" xmlns:core="sap.ui.core" /></root>`;const s=new window.DOMParser;const o=s.parseFromString(n,"text/xml");const r={models:{},bindingContexts:{},appComponent:{getSideEffectsService:jest.fn(),getDiagnostics:()=>undefined}};for(const e in t){const n=new B;n.setData(t[e]);r.models[e]=n;r.bindingContexts[e]=r.models[e].createBindingContext("/")}r.appComponent.getSideEffectsService.mockReturnValue(Q);const a=await b.process(o.firstElementChild,{name:e},r);const i=a.getElementsByTagName("core:Fragment");if(i?.length>0){for(const e of i){e.innerHTML=""}}const c=a.children.length>1?a.outerHTML:a.innerHTML;return re(c)}R.processFragment=we;function xe(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;let n=0;const s=/uid--id-\d{13}-\d{1,3}/;const o=/id-\d{13}-\d{1,3}/;function r(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;let t="";for(let s=0;s<n+e;s++){t+="\t"}return t}const a={start:function(e,t){let n="";if(t){if(e.getParent()){const s=e.getParent().getAggregation(t)?.indexOf?.(e);if(s>0){n+=`,\n${r()}`}}}n+=`${e.getMetadata().getName()}(`;return n},end:function(){return"})"},middle:function(e){let n=e.getId();n=typeof n==="string"?n?.replace?.(o,"id"):n;let a=`{id: ${S.isGeneratedId(n)?"__dynamicId":n}`;for(const t in e.mProperties){if(e.mProperties.hasOwnProperty(t)){let n=e.mProperties[t];n=typeof n==="string"?n?.replace?.(s,"uid--id"):n;n=typeof n==="string"?n?.replace?.(o,"id"):n;try{n=typeof n==="object"?JSON.stringify(n):n}catch(e){}a+=`,\n${r()} ${t}: ${n}`}else if(e.mBindingInfos.hasOwnProperty(t)){const n={...e.mBindingInfos[t]};if(n.type?.oOutputFormat){delete n.type.oOutputFormat}if(n.binding){delete n.binding}a+=`,\n${r()} ${t}: ${JSON.stringify(n)}`}}for(const t in e.mAssociations){if(e.mAssociations.hasOwnProperty(t)){let n=e.mAssociations[t];if(!Array.isArray(n)){n=[n]}n=n.map(e=>{if(typeof e==="string"){return S.isGeneratedId(e)?"__dynamicId":e?.replace?.(o,"id")}else{return e}});a+=`,\n${r()} ${t}: ${(n?.join?.(",")??n)||undefined}`}}if(t&&e.aCustomStyleClasses?.length>0){a+=`,\n${r()} customStyleClasses : ${e.aCustomStyleClasses.join(", ")}`}for(const t in e.mEventRegistry){if(e.mEventRegistry.hasOwnProperty(t)){a+=`,\n${r()} ${t}: true`}}a+=``;return a},startAggregation:function(e,t){let s=`,\n${r()}${t}`;n++;if(e.mBindingInfos[t]){s+=`={ path:'${e.mBindingInfos[t].path}', template:\n${r()}`}else{s+=`=[\n${r()}`}return s},endAggregation:function(e,t){n--;if(e.mBindingInfos[t]){return`\n${r()}}`}else{return`\n${r()}]`}}};if(Array.isArray(e)){return e.map(e=>new O(e,a).serialize())}else{return new O(e,a).serialize()}}R.serializeControl=xe;function Me(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;let n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;let s=0;const o=/uid--id-\d{13}-\d{1,3}/;const r=/id-\d{13}-\d{1,3}/;const a={};function i(e){const t=e.split(".");const n=t.slice(0,-1);const s=t[t.length-1];let o=n[n.length-1];if(G[n.join(".")]){o=G[n.join(".")]}if(o===undefined){o="test"}return o}function c(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;let t="";for(let n=0;n<s+e;n++){t+="\t"}return t}const l={start:function(e,t){let n="";if(t){if(e.getParent()){const s=e.getParent().getAggregation(t)?.indexOf?.(e);if(s>0){n+=`\n${c()}`}}}const s=e.getMetadata().getName();const o=s.split(".");const r=o[o.length-1];const l=i(s);n+=`<${l}:${r}\n`;if(!a[l]){a[l]=1;n+=`${c()}xmlns:${l}="${U[l]}"\n`}else{a[l]++}return n},end:function(e){const t=e.getMetadata().getName();const n=t.split(".");const s=n[n.length-1];const o=i(t);let r=false;for(const t in e.mAggregations){if(!Array.isArray(e.mAggregations[t])&&e.mAggregations[t]!==null&&e.mAggregations[t]!==undefined||Array.isArray(e.mAggregations[t])&&e.mAggregations[t].length>0){r=true}}a[o]--;if(r){return`</${o}:${s}>`}else{return`/>`}},middle:function(e){let s=e.getId();s=typeof s==="string"?s?.replace?.(r,"id"):s;let a="";if(!S.isGeneratedId(s)){a=`id="${s}"`}let i=Object.keys(e.mProperties).filter(e=>e!=="id").concat(Object.keys(e.mBindingInfos)).concat(Object.keys(e.mAssociations)).concat(Object.keys(e.mEventRegistry));i=i.sort((e,t)=>e.localeCompare(t));const l=new Set(i);i=Array.from(l);for(const t of i){if(!n&&e.mBindingInfos.hasOwnProperty(t)){const n={...e.mBindingInfos[t]};if(n.bindingString){a+=`\n${c()}${t}="${n.bindingString.replace(">","&gt;")}"`}else{if(n.type?.oOutputFormat){delete n.type.oOutputFormat}if(n.binding){delete n.binding}if(n.template){delete n.template}a+=`\n${c()}${t}='${JSON.stringify(n)}'`}}else if(e.mProperties.hasOwnProperty(t)&&e.mProperties[t]!==undefined){let n=e.mProperties[t];if(typeof n==="string"){n=n.replace(o,"uid--id").replace(r,"id").replace(/"/g,"&quot;")}try{n=typeof n==="object"?JSON.stringify(n).replace(/"/g,"&quot;"):n}catch(e){}a+=`\n${c()} ${t}="${n}"`}else if(e.mAssociations.hasOwnProperty(t)){let n=e.mAssociations[t];if(!Array.isArray(n)){n=[n]}n=n.map(e=>typeof e==="string"?e?.replace?.(r,"id"):e);a+=`\n${c()} ${t}="${(n?.join?.(",")??n)||undefined}"`}else if(e.mEventRegistry.hasOwnProperty(t)){if(e.mEventRegistry[t][0]?.fFunction?.name){a+=`\n${c()} ${t}="${e.mEventRegistry[t][0]?.fFunction?.name}"`}else{a+=`\n${c()} ${t}="someEventHandler"`}}}if(t&&e.aCustomStyleClasses?.length>0){a+=`\n${c()} customStyleClasses : ${e.aCustomStyleClasses.join(", ")}`}a+=`\n`;let u=false;for(const t in e.mAggregations){if(!Array.isArray(e.mAggregations[t])&&e.mAggregations[t]!==null&&e.mAggregations[t]!==undefined||Array.isArray(e.mAggregations[t])&&e.mAggregations[t].length>0){u=true}}if(u){a+=">"}return a},startAggregation:function(e,t){const n=i(e.getMetadata().getName());let o=`\n${c()}<${n}:${t}>`;s++;o+=`\n${c()}`;return o},endAggregation:function(e,t){s--;const n=i(e.getMetadata().getName());if(e.mBindingInfos[t]){return`\n${c()}</${n}:${t}>\n`}else{return`\n${c()}</${n}:${t}>\n`}}};let u;if(Array.isArray(e)){u=e.map(e=>new O(e,l).serialize())}else{u=new O(e,l).serialize()}return re(`<root>${u}</root>`)}R.serializeControlAsXML=Me;function be(){let e;const t=new Promise(t=>{e=t});return{promise:t,resolve:e}}R.createAwaiter=be;function Oe(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++){t[n]=arguments[n]}const s=M.loadTemplatePromise;const o=jest.spyOn(M,"loadTemplatePromise");o.mockImplementation((e,n)=>{for(const n of t){if(n.name===e){return H(n.content)[0]}}return s(e,n)});return o}R.registerMockFragments=Oe;async function je(e,n,o){jest.spyOn(E.prototype,"setOptimisticBatchEnabler").mockReturnValue(undefined);let r=e?.cdsFile;if(!r){r=ae(s.join(__dirname,"./data/Products.cds"))}const i=e?.guid??a();const u=e?.componentId??`sap.fe.test.${i}`;const d=t.readFileSync(r).toString();window.jestUI5.mockUrl(`/sap/fe/core/mock/${i}/$metadata?sap-language=EN`,d);if(!e?.pageContent){jest.spyOn(l.prototype,"_onInternalAfterBinding").mockImplementation(jest.fn())}let f=function(e){function t(){return e.apply(this,arguments)||this}W(t,e);var n=t.prototype;n.render=function e(){return _(v,{})};return t}(l);sap.ui.define(`sap/fe/test/${i}/Component`,["sap/fe/core/AppComponent"],function(t){"use strict";return c.extend(`sap.fe.test.${i}.Component`,{metadata:{manifest:{"sap.app":{id:`test${i}`,title:"App Title",dataSources:{mainService:{uri:`/sap/fe/core/mock/${i}/`,type:"OData",settings:{odataVersion:"4.0"}}}},"sap.ui5":{models:{"":{dataSource:"mainService",settings:{}}},routing:{targets:{Default:{type:"Component",name:n??"sap.fe.core.fpm",id:"Default",viewLevel:o,options:{settings:{...e?.manifestSettings??{},contextPath:e?.mainContextPath??"/Products",viewType:"JSX",viewContent:e?.pageContent??f,content:e?.content}}}},routes:[{pattern:":?query:",name:"Default",target:"Default"}]}},"sap.fe":e?.feManifestSettings??{}}}})});const p=await w.create({name:`sap.fe.test.${i}`,id:u});await p.initialized;const m=await(p.getRouter().getTarget("Default").load?.());return{appComponent:p,templateComponent:m.object}}R.initializeAppComponent=je;function Ae(e,t){for(let n=0;n<e.length;n++){const s=e.item(n);if(t(s)){return s}}return undefined}R.findElement=Ae;async function Pe(e,t){return new Promise(n=>{e.attachEventOnce(t,e=>{n(e)})})}R.waitForEvent=Pe;function Fe(e){$._keepBindingStrings=e}R.keepBindingStringForTest=Fe;async function Te(e){return new Promise(t=>{setTimeout(t,e)})}R.delayFor=Te;return R},false);
//# sourceMappingURL=JestTemplatingHelper.js.map