{"version":3,"names":["AppStateAdapter","_exports","_proto","prototype","saveAppState","sKey","sSessionKey","sValue","sAppName","sComponent","fetchPromise","fetch","method","headers","body","JSON","stringify","key","sessionKey","value","appName","component","oMyDeferred","jQuery","Deferred","then","response","json","data","resolve","catch","error","reject","promise","loadAppState"],"sourceRoot":".","sources":["AppStateAdapter.ts"],"sourcesContent":["import jQuery from \"sap/ui/thirdparty/jquery\";\n\nexport default class AppStateAdapter {\n\tsaveAppState(sKey: string, sSessionKey: string, sValue: string, sAppName: string, sComponent: string): jQuery.Promise {\n\t\tconst fetchPromise = fetch(\"/sap/bc/appState\", {\n\t\t\tmethod: \"POST\",\n\t\t\theaders: {\n\t\t\t\t\"Content-Type\": \"application/json\"\n\t\t\t},\n\t\t\tbody: JSON.stringify({\n\t\t\t\tkey: sKey,\n\t\t\t\tsessionKey: sSessionKey,\n\t\t\t\tvalue: sValue,\n\t\t\t\tappName: sAppName,\n\t\t\t\tcomponent: sComponent\n\t\t\t})\n\t\t});\n\t\tconst oMyDeferred = jQuery.Deferred() as JQuery.Deferred<unknown, unknown, unknown>;\n\t\tfetchPromise\n\t\t\t.then(async (response) => {\n\t\t\t\treturn response.json();\n\t\t\t})\n\t\t\t.then((data) => {\n\t\t\t\toMyDeferred.resolve(data);\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\toMyDeferred.reject(error);\n\t\t\t});\n\t\treturn oMyDeferred.promise();\n\t}\n\n\tloadAppState(sKey: string): jQuery.Promise {\n\t\tconst oMyDeferred = jQuery.Deferred() as JQuery.Deferred<unknown, unknown, unknown>;\n\t\tconst fetchPromise = fetch(`/sap/bc/appState/${sKey}`, {\n\t\t\tmethod: \"GET\"\n\t\t});\n\t\tfetchPromise\n\t\t\t.then(async (response) => {\n\t\t\t\treturn response.json();\n\t\t\t})\n\t\t\t.then((data) => {\n\t\t\t\toMyDeferred.resolve(data.key, data.value);\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\toMyDeferred.reject(error);\n\t\t\t});\n\t\treturn oMyDeferred.promise();\n\t}\n}\n"],"mappings":";;;;;;;;MAEqBA,eAAe;IAAA,SAAAA,gBAAA;IAAAC,QAAA,GAAAD,eAAA;IAAA,IAAAE,MAAA,GAAAF,eAAA,CAAAG,SAAA;IAAAD,MAAA,CACnCE,YAAY,GAAZ,SAAAA,YAAYA,CAACC,IAAY,EAAEC,WAAmB,EAAEC,MAAc,EAAEC,QAAgB,EAAEC,UAAkB,EAAkB;MACrH,MAAMC,YAAY,GAAGC,KAAK,CAAC,kBAAkB,EAAE;QAC9CC,MAAM,EAAE,MAAM;QACdC,OAAO,EAAE;UACR,cAAc,EAAE;QACjB,CAAC;QACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;UACpBC,GAAG,EAAEZ,IAAI;UACTa,UAAU,EAAEZ,WAAW;UACvBa,KAAK,EAAEZ,MAAM;UACba,OAAO,EAAEZ,QAAQ;UACjBa,SAAS,EAAEZ;QACZ,CAAC;MACF,CAAC,CAAC;MACF,MAAMa,WAAW,GAAGC,MAAM,CAACC,QAAQ,CAAC,CAA+C;MACnFd,YAAY,CACVe,IAAI,CAAC,MAAOC,QAAQ,IAAK;QACzB,OAAOA,QAAQ,CAACC,IAAI,CAAC,CAAC;MACvB,CAAC,CAAC,CACDF,IAAI,CAAEG,IAAI,IAAK;QACfN,WAAW,CAACO,OAAO,CAACD,IAAI,CAAC;MAC1B,CAAC,CAAC,CACDE,KAAK,CAAEC,KAAK,IAAK;QACjBT,WAAW,CAACU,MAAM,CAACD,KAAK,CAAC;MAC1B,CAAC,CAAC;MACH,OAAOT,WAAW,CAACW,OAAO,CAAC,CAAC;IAC7B,CAAC;IAAA/B,MAAA,CAEDgC,YAAY,GAAZ,SAAAA,YAAYA,CAAC7B,IAAY,EAAkB;MAC1C,MAAMiB,WAAW,GAAGC,MAAM,CAACC,QAAQ,CAAC,CAA+C;MACnF,MAAMd,YAAY,GAAGC,KAAK,CAAC,oBAAoBN,IAAI,EAAE,EAAE;QACtDO,MAAM,EAAE;MACT,CAAC,CAAC;MACFF,YAAY,CACVe,IAAI,CAAC,MAAOC,QAAQ,IAAK;QACzB,OAAOA,QAAQ,CAACC,IAAI,CAAC,CAAC;MACvB,CAAC,CAAC,CACDF,IAAI,CAAEG,IAAI,IAAK;QACfN,WAAW,CAACO,OAAO,CAACD,IAAI,CAACX,GAAG,EAAEW,IAAI,CAACT,KAAK,CAAC;MAC1C,CAAC,CAAC,CACDW,KAAK,CAAEC,KAAK,IAAK;QACjBT,WAAW,CAACU,MAAM,CAACD,KAAK,CAAC;MAC1B,CAAC,CAAC;MACH,OAAOT,WAAW,CAACW,OAAO,CAAC,CAAC;IAC7B,CAAC;IAAA,OAAAjC,eAAA;EAAA;EAAAC,QAAA,GAAAD,eAAA;EAAA,OAAAC,QAAA;AAAA","ignoreList":[],"file":"AppStateAdapter-dbg.js"}