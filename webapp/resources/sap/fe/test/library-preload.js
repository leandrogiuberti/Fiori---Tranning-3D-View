//@ui5-bundle sap/fe/test/library-preload.js
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/test/AppStateAdapter", ["sap/ui/thirdparty/jquery"],function(jQuery){"use strict";var e={};let t=function(){function t(){}e=t;var n=t.prototype;n.saveAppState=function e(t,n,a,o,r){const s=fetch("/sap/bc/appState",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({key:t,sessionKey:n,value:a,appName:o,component:r})});const c=jQuery.Deferred();s.then(async e=>e.json()).then(e=>{c.resolve(e)}).catch(e=>{c.reject(e)});return c.promise()};n.loadAppState=function e(t){const n=jQuery.Deferred();const a=fetch(`/sap/bc/appState/${t}`,{method:"GET"});a.then(async e=>e.json()).then(e=>{n.resolve(e.key,e.value)}).catch(e=>{n.reject(e)});return n.promise()};return t}();e=t;return e},false);
/*!
 * 
		SAP UI development toolkit for HTML5 (SAPUI5)
        (c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.predefine("sap/fe/test/BaseActions", ["sap/ui/test/Opa5","sap/ui/test/OpaBuilder","sap/fe/test/builder/FEBuilder","sap/fe/test/Utils"],function(e,t,i,r){"use strict";var n=e.extend("sap.fe.test.BaseActions",{iClosePopover:function(){return i.createClosePopoverBuilder(this).description("Closing open popover").execute()},iPressEscape:function(){return i.create(this).has(i.Matchers.FOCUSED_ELEMENT).do(i.Actions.keyboardShortcut("Escape")).description("Pressing escape button").execute()},iWait:function(e){var t=false,n=true;return i.create(this).check(function(){if(n){n=false;setTimeout(function(){t=true},e)}return t}).description(r.formatMessage("Waiting for '{0}' milliseconds ",e)).execute()},iNavigateBack:function(){return t.create(this).viewId(null).do(function(){e.getWindow().history.back()}).description("Navigating back via browser back").execute()},iNavigateForward:function(){return t.create(this).viewId(null).do(function(){e.getWindow().history.forward()}).description("Navigating back via browser forward").execute()},iChangeTimeout:function(t){e.extendConfig({timeout:t});return i.create(this).check(function(){return true}).description(r.formatMessage("Timeout set to '{0}' seconds ",t)).execute()}});n._dummy=function(){};return n});
/*!
 * 
		SAP UI development toolkit for HTML5 (SAPUI5)
        (c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.predefine("sap/fe/test/BaseArrangements", ["sap/ui/test/Opa5","sap/ui/test/OpaBuilder","sap/ui/thirdparty/jquery","./Utils","./Stubs"],function(e,t,jQuery,n,r){"use strict";var a=e.extend("sap.fe.test.BaseArrangements",{constructor:function(t){e.apply(this);var r=new URLSearchParams(window.location.search),a={"sap-ui-log-level":"ERROR","sap-ui-xx-viewCache":true};if(r.get("useBackendUrl")){a.useBackendUrl=r.get("useBackendUrl")}this._mSettings=n.mergeObjects({launchParameters:a},t)},iStartMyApp:function(a,i){var s=this._mSettings.launchUrl,c=n.mergeObjects(this._mSettings.launchParameters,i),u=Object.keys(c).reduce(function(e,t){return e+"&"+t+"="+c[t]},""),o=s+(u?"?"+u.substring(1):"")+(a?"#"+a:"");this.iStartMyAppInAFrame(o);return t.create(this).success(function(){var t=e.getWindow();r.stubAll(t)}).description(n.formatMessage("Started URL '{0}' in iFrame",o)).execute()},resetTestData:function(){function e(e){return new Promise(function(t,n){var r=indexedDB.deleteDatabase(e);r.onsuccess=t;r.onerror=n})}localStorage.clear();sessionStorage.clear();if(indexedDB){if(typeof indexedDB.databases==="function"){return indexedDB.databases().then(function(t){return Promise.all(t.map(function(t){return e(t.name)}))})}else{return e("ui5-cachemanager-db")}}else{return Promise.resolve()}},iResetTestData:function(){var e=this,r=false;return t.create(this).success(function(){e.resetTestData().finally(function(){r=true}).catch(function(e){throw e});return t.create(this).check(function(){return r}).execute()}).description(n.formatMessage("Resetting test data")).execute()},iResetMockData:function(r){var a=false;return t.create(this).success(function(){var n=r.AppId?e.getWindow()[r.AppId].Component.getMetadata().getManifest()["sap.app"]["dataSources"]["mainService"]["uri"]:r.ServiceUri,i=jQuery.post(n+"\\$metadata/reload");Promise.all([i]).finally(function(){a=true}).catch(function(e){throw e});return t.create(this).check(function(){return a}).execute()}).description(n.formatMessage("Resetting mock data")).execute()},iTearDownMyApp:function(){return t.create(this).do(function(){var t=e.getWindow();r.restoreAll(t)}).do(this.iTeardownMyAppFrame.bind(this)).description("Tearing down my app").execute()},iRestartMyApp:function(){var n=this;return t.create(this).success(function(){var t=e.getWindow().location.hash.substring(1);return n.iTearDownMyApp().and.iStartMyApp(t)}).description("Restarting the app").execute()}});a._dummy=function(){};return a});
/*!
 * 
		SAP UI development toolkit for HTML5 (SAPUI5)
        (c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.predefine("sap/fe/test/BaseAssertions", ["sap/ui/test/Opa5","sap/ui/test/OpaBuilder","sap/fe/test/builder/FEBuilder","sap/fe/test/Utils"],function(e,s,t,a){"use strict";var i=e.extend("sap.fe.test.BaseAssertions",{iSeeMessagePage:function(e){return s.create(this).hasType("sap.m.MessagePage").hasProperties({text:e}).description(a.formatMessage("Error Page with message '{0}' is visible",e)).execute()},iSeePage:function(){return s.create(this).hasType("sap.m.Page").hasProperties({showHeader:false}).execute()},iSeeIllustratedMessage:function(e){return s.create(this).hasType("sap.m.IllustratedMessage").hasProperties({title:e}).execute()},iSeeMessageToast:function(e){return t.createMessageToastBuilder(e).execute(this)}});i._dummy=function(){};return i});
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/test/CollaborationClient", ["sap/fe/core/controllerextensions/collaboration/CollaborationCommon","sap/fe/test/api/CollaborationAPI","sap/ui/test/OpaBuilder"],function(e,t,n){"use strict";var i=e.Activity;function c(e){const c=e.appId,o=e.componentId,r=`${c}::${o}`;return{actions:{iEnterDraft:function(e,i){return n.create(this).hasId(r).do(function(n){const c=n.getBindingContext();t.enterDraft(c,e,i)}).viewId("").description("Remote session entering draft").execute()},iLeaveDraft:function(){return n.create(this).do(function(){t.leaveDraft()}).description("Remote session leaving draft").execute()},iLockPropertyForEdition:function(e){return n.create(this).do(function(){t.lockField(e)}).description(`Remote session locking property ${e}`).execute()},iUnlockPropertyForEdition:function(){return n.create(this).do(function(){t.unlockField()}).description("Remote session unlocking property ").execute()},iUpdatePropertyValue:function(e,i){return n.create(this).do(function(){t.updatePropertyValue(e,i)}).description(`Remote session updating property ${e} with ${i}`).execute()},iDiscardDraft:function(){return n.create(this).do(function(){t.discardDraft()}).description("Remote session discarding draft").execute()},iDeleteObject:function(e){return n.create(this).do(function(){t.deleteObject(e)}).description(`Remote session deleting object ${e}`).execute()}},assertions:{iCheckDefaultUserChangedValue:function(e){return n.create(this).check(function(){return t.checkReceived({userID:"DEFAULT_USER",userAction:i.Change,clientContent:e})}).description(`Remote session received change notification for${e} changed`).execute()},iCheckDefaultUserRemovedLock:function(e){return n.create(this).check(function(){return!t.checkReceived({userID:"DEFAULT_USER",userAction:i.Change,clientContent:e},false)&&t.checkReceived({userID:"DEFAULT_USER",userAction:i.Unlock,clientContent:e})}).description(`Remote session received unlock without change notification for${e}`).execute()},iCheckValueIsLockedByDefaultUser:function(e){return n.create(this).check(function(){return t.checkLockedByOther(e)}).description(`On remote session, property ${e} is currently locked by another user`).execute()},iCheckValueIsNotLockedByDefaultUser:function(e){return n.create(this).check(function(){return!t.checkLockedByOther(e)}).description(`On remote session, property ${e} is not locked by another user`).execute()},iCheckDefaultUserLeftDraft:function(){return n.create(this).check(function(){return t.checkReceived({userID:"DEFAULT_USER",userAction:i.Leave})}).description("Remote session received notification on default user leaving the draft session").execute()},iCheckDefaultUserEnteredDraft:function(){return n.create(this).check(function(){return t.checkReceived({userID:"DEFAULT_USER",userAction:i.Join})}).description("Remote session received notification on default user entering the draft session").execute()},iCheckDefaultUserCreatedDocument:function(e){return n.create(this).check(function(){return t.checkReceived({userID:"DEFAULT_USER",userAction:i.Create,clientContent:e})}).description(e?`Remote session received create notification for ${e}`:"Remote session received create notification").execute()}}}}return c},false);
/*!
 * 
		SAP UI development toolkit for HTML5 (SAPUI5)
        (c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.predefine("sap/fe/test/ConfirmDialog", ["sap/ui/test/OpaBuilder","sap/ui/test/Opa5","sap/fe/test/Utils"],function(e,t,n){"use strict";function i(e){if(e.testWindow){e.testWindow.confirm=e.testWindowConfirm;delete e.testWindow;delete e.testWindowConfirm}}return{create:function(){return{actions:{iSetNextConfirmAnswer:function(o,r){return e.create(this).do(function(){var e=t.getWindow(),n=e.confirm;function s(e){i(r);r.confirmed=o;r.message=e;return o}delete r.confirmed;delete r.message;r.testWindow=e;r.testWindowConfirm=n;e.confirm=s}).description(n.formatMessage("Next confirmation dialog will be {0}",o?"accepted":"refused")).execute()}},assertions:{confirmDialogHasBeenDisplayed:function(t,i){return e.create(this).check(function(){return i&&i.confirmed===t},true).description(n.formatMessage("Confirm dialog has been displayed and {0}",t?"accepted":"refused")).execute()},confirmDialogHasNotBeenDisplayed:function(t){return e.create(this).check(function(){return t&&!("confirmed"in t)},true).success(function(){i(t)}).description("No confirm dialog has been displayed").execute()}}}}}});
/*!
 * 
		SAP UI development toolkit for HTML5 (SAPUI5)
        (c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.predefine("sap/fe/test/FCLView", ["sap/ui/test/OpaBuilder"],function(e){"use strict";return{actions:{iEnterFullScreenMode:function(){return e.create(this).hasType("sap.m.OverflowToolbarButton").hasProperties({icon:"sap-icon://full-screen"}).description("Entering the FullScreen Button").doPress().execute()},iExitFullScreenMode:function(){return e.create(this).hasType("sap.m.OverflowToolbarButton").hasProperties({icon:"sap-icon://exit-full-screen"}).description("Exiting Full screen mode").doPress().execute()},iCloseThisColumn:function(){return e.create(this).hasType("sap.m.OverflowToolbarButton").hasProperties({icon:"sap-icon://decline"}).doPress().description("Close FCL column for object page").execute()}},assertions:{iCheckActionButton:function(t,n,i){if(!i){i=n}return e.create(this).hasType("sap.uxap.ObjectPageDynamicHeaderTitle").check(function(e){var i=e[0],o=i.getNavigationActions().filter(function(e){return e.getIcon&&e.getIcon()===n&&e.getVisible()});return t?o.length!==0:o.length===0}).description((t?"Seeing":"Not seeing")+" the "+i+" Button").execute()},iCheckFullScreenButton:function(e){return this.iCheckActionButton(e,"sap-icon://full-screen","Fullscreen")},iCheckFullScreenExitButton:function(e){return this.iCheckActionButton(e,"sap-icon://exit-full-screen","Exit Fullscreen")},iCheckCloseColumnButton:function(e){return this.iCheckActionButton(e,"sap-icon://decline","Close Column")},iSeeEndColumnFullScreen:function(){return e.create(this).hasType("sap.m.OverflowToolbarButton").check(function(e){var t=e.some(function(e){return e.getProperty("icon")==="sap-icon://full-screen"});return t===false},true).description("No FCL displayed").execute()}}}});
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/test/FeMocks", ["@sap-ux/jest-mock-ui5/dist/generic","sap/fe/core/PageController","sap/fe/core/controllerextensions/EditFlow","sap/fe/macros/controls/FilterBar"],function(t,e,n,o){"use strict";var r={};var s=t.mock;function i(){const t={_getApplyAutomaticallyOnVariant:jest.fn(),_getFilterBarControl:jest.fn(),_getControls:jest.fn(),_isFilterBarHidden:jest.fn(),_isFilterBarHiddenUsed:jest.fn(),_isMultiMode:jest.fn(),_getMultiModeControl:jest.fn(),_getFilterBarVariantControl:jest.fn(),_hasMultiVisualizations:jest.fn(),_shouldAutoTriggerSearch:jest.fn(),_getTable:jest.fn(),getExtensionAPI:jest.fn(),getFilterBarSelectionVariant:jest.fn(),_getControlFromPageModelProperty:jest.fn(),getChartControl:jest.fn(),editFlow:s(n)};return Object.assign(s(e),t)}r.mockListReportController=i;function a(){const t={getStickyEditMode:jest.fn(),getExtensionAPI:jest.fn(),editFlow:s(n),_getObjectPageLayoutControl:jest.fn()};return Object.assign(s(e),t)}r.mockObjectPageController=a;function l(t,e,n){const o=e.getView();t.getView=()=>o;const r=s(n||{});return Object.assign(r,t)}r.mockContextForExtension=l;function c(){const t=s(o);t.mock.waitForInitialization=jest.fn();return t}r.mockFilterBar=c;return r},false);
/*!
 * 
		SAP UI development toolkit for HTML5 (SAPUI5)
        (c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.predefine("sap/fe/test/Flexibility", ["sap/ui/test/Opa5","sap/ui/test/OpaBuilder","sap/ui/qunit/QUnitUtils"],function(e,t,n){"use strict";function i(e){return new RegExp("fe::HeaderFacetContainer::"+e+"$")}function r(e){return new RegExp("fe::FacetSection::"+e+"-anchor$")}function o(e){return new RegExp("fe::Form::(.+)"+e+"_FormElement"+"$")}function a(e,t){return function(n){var i=t?n.getElement().getParent():n.getElement(),r=i&&i.getId();return typeof e==="string"?r===e:e.test(r)}}return{actions:{iExecuteById:function(e,n){return t.create(this).viewId(null).hasId(e).doPress().description(n).execute()},iExecuteMeArea:function(){return this.iExecuteById("userActionsMenuHeaderButton","Me Area")},iExecuteAdaptUI:function(){return this.iExecuteById(/RTA_Plugin_ActionButton$/,"Adapt UI")},iExecuteAdaptation:function(){return this.iExecuteById(/adaptationSwitcherButton$/,"Adaptation")},iExecuteNavigation:function(){return this.iExecuteById(/navigationSwitcherButton$/,"Navigation")},iExecuteDialogConfirm:function(){return this.iExecuteById(/confirmVersionTitleButton$/,"Confirm")},iWaitUntilTheBusyIndicatorIsGone:function(){return t.create(this).viewId(null).hasId("mainShell").has(function(e){return e.getBusy()===false}).timeout(180).description("Busy indicator is gone").execute()},iExecuteRightContextMenuById:function(e,n,i){var r=a(e,i);return t.create(this).viewId(null).hasType("sap.ui.dt.ElementOverlay").has(r).has(function(e){return true}).do(function(e){e.$().trigger("contextmenu")}).description(n).execute()},iExecuteLeftContextMenuById:function(e,n,i){var r=a(e,i);return t.create(this).viewId(null).hasType("sap.ui.dt.ElementOverlay").has(r).doPress().description(n).execute()},iExecuteRightContextMenuOnHeaderContainer:function(){return this.iExecuteRightContextMenuById(/fe::HeaderContentContainer$/,"Context menu for Header Container")},iExecuteRightContextMenuOnVariantManagement:function(){return this.iExecuteRightContextMenuById(/fe::PageVariantManagement$/,"Context menu for Variant Management")},iExecuteLeftContextMenuOnVariantManagement:function(){return this.iExecuteLeftContextMenuById(/fe::PageVariantManagement$/,"Context menu for Variant Management")},iExecuteRightContextMenuOnTable:function(){return this.iExecuteRightContextMenuById(/fe::table::SalesOrderManage::LineItem$/,"Context menu for Table")},iExecuteLeftContextMenuOnTable:function(){return this.iExecuteLeftContextMenuById(/fe::table::SalesOrderManage::LineItem$/,"Context menu for Table")},iExecuteRightContextMenuOnFilterBar:function(){return this.iExecuteRightContextMenuById(/fe::FilterBar::SalesOrderManage$/,"Context menu for FilterBar")},iExecuteLeftContextMenuOnFilterBar:function(){return this.iExecuteLeftContextMenuById(/fe::FilterBar::SalesOrderManage$/,"Context menu for FilterBar")},iExecuteLeftContextMenuOnHeaderContainer:function(){return this.iExecuteLeftContextMenuById(/fe::HeaderContentContainer$/,"Left Context menu for Header Container")},iExecuteRightContextMenuOnHeaderFacet:function(e){return this.iExecuteRightContextMenuById(i(e),"Context menu for "+e,true)},iExecuteRightContextMenuOnSection:function(e){return this.iExecuteRightContextMenuById(r(e),"Context menu for "+e,false)},iExecuteRightContextMenuOnFormContainer:function(e){return this.iExecuteRightContextMenuById(new RegExp("fe::FormContainer::"+e+"$"),"Context menu for Form Container "+e)},iExecuteLeftContextMenuOnFormContainer:function(e){return this.iExecuteLeftContextMenuById(new RegExp("fe::FormContainer::"+e+"$"),"Context menu for Form Container "+e)},iExecuteRightContextMenuOnHeaderFacetFormContainer:function(e){return this.iExecuteRightContextMenuById(new RegExp("fe::HeaderFacet::FormContainer::"+e+"$"),"Context menu for HeaderFacet Form Container "+e)},iExecuteRightContextMenuOnHeaderFacetFormElement:function(e){return this.iExecuteRightContextMenuById(new RegExp("fe::HeaderFacet::FormContainer::"+e+"::FormElement"+"$"),"Context menu for HeaderFacet Form Element "+e)},iExecuteLeftContextMenuOnSection:function(e){return this.iExecuteLeftContextMenuById(r(e),"Left context menu for "+e,false)},iExecuteLeftContextMenuOnHeaderFacet:function(e){return this.iExecuteLeftContextMenuById(i(e),"Left Context menu for "+e,true)},iExecuteLeftContextMenuOnHeaderFacetFormContainer:function(e){return this.iExecuteLeftContextMenuById(new RegExp("fe::HeaderFacet::FormContainer::"+e+"$"),"Left context menu for HeaderFacet Form Container "+e)},iExecuteLeftContextMenuOnHeaderFacetFormElement:function(e){return this.iExecuteLeftContextMenuById(new RegExp("fe::HeaderFacet::FormContainer::"+e+"::FormElement"+"$"),"Left context menu for HeaderFacet Form Element "+e)},iExecuteRightContextMenuOnFieldAddedViaRTA:function(e){return this.iExecuteRightContextMenuById(o("_"+e),"Context menu for Field "+e)},iExecuteLeftContextMenuOnFieldAddedViaRTA:function(e){return this.iExecuteLeftContextMenuById(o("_"+e),"Context menu for Field "+e)},iExecuteFocusOnAnchorBar:function(){return t.create(this).viewId(null).hasId(/fe::ObjectPage-anchBar$/).doPress().description("Focus on AnchorBar").execute()},iExecutePopOverActionByIcon:function(e,n){return t.create(this).viewId(null).hasType("sap.m.MenuItem").hasProperties({icon:"sap-icon://"+e}).isDialogElement().doPress().description(n).execute()},iExecutePopOverButtonByIcon:function(e,n){return t.create(this).viewId(null).hasType("sap.m.Button").hasProperties({icon:"sap-icon://"+e}).isDialogElement().doPress().description(n).execute()},iExecutePopOverActionRename:function(e){return this.iExecutePopOverActionByIcon("edit","Press rename on "+e)},iExecutePopOverActionAdd:function(e){return this.iExecutePopOverActionByIcon("add",e)},iExecutePopOverActionRemove:function(e){return this.iExecutePopOverActionByIcon("less",e)},iExecutePopOverActionCut:function(e){return this.iExecutePopOverActionByIcon("scissors",e)},iExecutePopOverActionPaste:function(e){return this.iExecutePopOverActionByIcon("paste",e)},iExecutePopOverActionDuplicate:function(e){return this.iExecutePopOverActionByIcon("duplicate","Duplicate Variant '"+e+"'")},iExecutePopOverActionSettings:function(e){return this.iExecutePopOverActionByIcon("key-user-settings","Open "+e+" Settings")},iExecutePopOverActionEmbedContent:function(e){return this.iExecutePopOverActionByIcon("tnt/content-enricher","Open "+e+" Settings")},iSwitchToGroupViewInTheFilterBarDialog:function(){return this.iExecutePopOverButtonByIcon("group-2","Switch to grouped view in filter bar dialog")},iSelectExpandFiltersgroupInTheFilterBarDialog:function(e){return t.create(this).viewId(null).hasType("sap.m.Panel").hasChildren(t.create(this).hasType("sap.m.Title").hasProperties({text:e})).doOnChildren(t.create(this).hasType("sap.m.Button").doPress()).description("Expanding filter group wiht name '"+e+"'").execute()},iSelectCheckBoxInTheFilterBarDialog:function(e){return t.create(this).viewId(null).hasType("sap.m.CustomListItem").doOnChildren(t.create(this).hasType("sap.m.CustomListItem").hasChildren(t.create(this).hasType("sap.m.Label").hasProperties({text:e})).doOnChildren(t.create(this).hasType("sap.m.CheckBox").doPress())).description("Selected Checkbox next to '"+e+"'").execute()},iChangeVisibilityFilter:function(e){return t.create(this).viewId(null).hasType("sap.m.Bar").isDialogElement().doOnChildren(t.create(this).hasType("sap.m.Select").checkNumberOfMatches(1).doEnterText(e)).description("Changed displayed fields to '"+e+"'").execute()},iEnterUrlInTheTextArea:function(e){return t.create(this).viewId(null).hasType("sap.m.TextArea").hasId("sapUiRtaAddIFrameDialog_EditUrlTA").isDialogElement().doEnterText(e).description("Added URL '"+e+"' to Text Area").execute()},iSwitchToReorderOnDialog:function(){return t.create(this).viewId(null).hasType("sap.m.Button").isDialogElement().hasProperties({text:"Reorder"}).doPress().description("Switch to reorder view").execute()},_iSelectALabelOnTheReorderDialog:function(e){return t.create(this).viewId(null).hasType("sap.m.Label").isDialogElement().hasProperties({text:e}).doPress().execute()},iReorderTableColumn:function(e,n){this._iSelectALabelOnTheReorderDialog(e);var i,r="sap-icon://";if(n===0){i="collapse-group"}else if(n===1){i="slim-arrow-up"}else if(!n===2){i="slim-arrow-down"}else if(!n===3){i="expand-group"}r+=i;return t.create(this).viewId(null).hasType("sap.m.Button").isDialogElement().hasProperties({icon:r}).doPress().description("Reorder '"+e+"'").execute()},iEnterTextInSearchfield:function(e){return t.create(this).viewId(null).hasType("sap.m.SearchField").isDialogElement().checkNumberOfMatches(1).doEnterText(e).description("Enter text: '"+e+"'").execute()},iEnterTextinFilterField:function(e){return t.create(this).hasType("sap.ui.mdc.field.FieldMultiInput").checkNumberOfMatches(1).doEnterText(e).description("Enter text: '"+e+"'").execute()},iEnterTextinDialogField:function(e){return t.create(this).hasType("sap.m.Input").doEnterText(e).description("Enter text: '"+e+"'").execute()},iSelectAFieldInTheDialog:function(e){return t.create(this).viewId(null).hasType("sap.m.CustomListItem").isDialogElement().has(function(t){var n=t.getTooltip();return typeof e==="string"?n===e:e.test(n)}).doPress().description("Select "+e).execute()},iExecutePopOverOk:function(){return t.create(this).viewId(null).hasType("sap.m.Button").hasProperties({text:"OK"}).isDialogElement().doPress().description("OK Button").execute()},iExecuteActivate:function(){return this.iExecuteById(/sapUiRta_activate$/,"Activate")},iExecuteSave:function(){return this.iExecuteById(/sapUiRta_save$/,"Save")},iExecuteExit:function(){return this.iExecuteById(/sapUiRta_exit$/,"Exit")},iExecuteUndo:function(){return this.iExecuteById(/sapUiRta_undo$/,"Undo")},iEnterTextForRTAEditableField:function(e){return t.create(this).hasType("sap.ui.dt.ElementOverlay").has(function(e){if(e.$().hasClass("sapUiDtOverlaySelected")){var t=e.$().find(".sapUiRtaEditableField");return t.children()[0]}return null}).do(function(t){t.innerHTML=e;n.triggerEvent("keypress",t,{which:13,keyCode:13});t.blur()}).description("Enter text: "+e).execute()},iEnterTextForTitle:function(e){return this.iEnterTextForRTAEditableField(e)},iEnterTextToRenameTitle:function(e){return this.iEnterTextinDialogField(e)},iEnterTextForViewField:function(e){return t.create(this).hasType("sap.m.Input").isDialogElement().doEnterText(e,true).description("Entering text: "+e+" as variant name").execute()}},assertions:{iSeeTheFLPToolbar:function(){return t.create(this).hasType("sap.ushell.ui.ShellHeader").hasId("shell-header").description("Seeing the FLP toolbar").execute()},iSeeTheRTAToolbar:function(){return t.create(this).hasType("sap.ui.rta.toolbar.Fiori").description("Seeing the RTA toolbar").execute()},iSeeTheHeaderFacet:function(e){return t.create(this).hasType("sap.fe.templates.ObjectPage.controls.StashableHBox").hasId(i(e)).description("Seeing the Header Facet "+e).execute()},iSeeTheFieldAddedViaRTA:function(e){return t.create(this).hasType("sap.ui.layout.form.FormElement").hasId(o("_"+e)).description("Seeing the Field "+e).execute()},iSeeTheEditableHeaderFieldAddedViaRTA:function(e){return t.create(this).hasType("sap.ui.layout.form.FormElement").hasId(new RegExp("fe::EditableHeaderForm_(.+)_"+e+"_FormElement"+"$")).description("Seeing the Editable Header Field "+e).execute()},iSeeTheEditableHeaderField:function(e){return t.create(this).hasType("sap.ui.layout.form.FormElement").hasId(new RegExp("fe::HeaderFacet::FormContainer::"+e+"::FormElement"+"$")).description("Seeing the Editable Header Field "+e).execute()},iDoNotSeeTheHeaderFacet:function(e){var n=i(e);return t.create(this).hasType("sap.fe.templates.ObjectPage.controls.StashableHBox").check(function(e){var t=e.some(function(e){return typeof n==="string"?e.getId()===n:n.test(e.getId())});return t===false},true).description("Not seeing the Header Facet "+e).execute()},iDoNotSeeTheField:function(e){return t.create(this).hasType("sap.ui.layout.form.FormElement").check(function(t){var n=t.some(function(t){return t.getId().indexOf(e)>-1});return n===false},true).description("Not seeing the Field "+e).execute()},iSeeTheElementOverlayById:function(e,n,i){var r=a(e,i);return t.create(this).hasType("sap.ui.dt.ElementOverlay").has(r).description(n).execute()},iDoNotSeeTheElementOverlayById:function(e,n,i){var r=a(e,i);return t.create(this).hasType("sap.ui.dt.ElementOverlay").check(function(e){var t=e.some(r);return t===false},true).description(n).execute()},iSeeTheElementOverlayForTheApp:function(){return this.iSeeTheElementOverlayById(/component---appRootView--appContent$/,"Seeing the ElementOverlay for the App")},iSeeThePopover:function(){return t.create(this).hasType("sap.m.Popover").description("Seeing the Popover").execute()},iSeeTheButtonByIcon:function(e,n){return t.create(this).hasType("sap.m.Button").isDialogElement().hasProperties({icon:e}).description("Seeing "+n).execute()},iSeeTheMenuItemByIcon:function(e,n){return t.create(this).hasType("sap.m.MenuItem").isDialogElement().hasProperties({icon:e}).description("Seeing "+n).execute()},iDoNotSeeTheButtonByIcon:function(e,n){return t.create(this).hasType("sap.m.Button").isDialogElement().check(function(t){var n=t.some(function(t){return t.getProperty("icon")===e});return n===false},true).description("Not seeing "+n).execute()},iDoNotSeeTheMenuItemByIcon:function(e,n){return t.create(this).hasType("sap.m.MenuItem").isDialogElement().check(function(t){var n=t.some(function(t){return t.getProperty("icon")===e});return n===false},true).description("Not seeing "+n).execute()},iSeeTheVariantManagementPopover:function(){return this.iSeeTheMenuItemByIcon("sap-icon://duplicate","The Popover")},iSeeTheRTAPopover:function(){return this.iSeeTheMenuItemByIcon("sap-icon://key-user-settings","The RTAPopover")},iSeeTheRenameButton:function(){return this.iSeeTheMenuItemByIcon("sap-icon://edit","the button 'rename'")},iSeeTheAddButton:function(){return this.iSeeTheMenuItemByIcon("sap-icon://add","the button 'add'")},iSeeTheCreateGroupButton:function(){return this.iSeeTheMenuItemByIcon("sap-icon://add-folder","the button 'create group'")},iDoNotSeeTheRenameButton:function(){return this.iDoNotSeeTheMenuItemByIcon("sap-icon://edit","the button 'rename'")},iDoNotSeeTheAddButton:function(){return this.iDoNotSeeTheMenuItemByIcon("sap-icon://add","the button 'add'")},iDoNotSeeTheRemoveButton:function(){return this.iDoNotSeeTheMenuItemByIcon("sap-icon://less","the button 'remove'")},iSeeThePopoverDialog:function(){return t.create(this).hasType("sap.m.Dialog").description("Seeing the Popover Dialog").execute()},iSeeThePopoverDialogWithId:function(e){return t.create(this).hasType("sap.m.Dialog").hasId(e).description("Seeing the Popover Dialog with Id:",e).execute()},iSeeTheHeaderFacetOverlay:function(e){return this.iSeeTheElementOverlayById(i(e),"Seeing the Header Facet: "+e,true)},iDoNotSeeTheHeaderFacetOverlay:function(e){return this.iDoNotSeeTheElementOverlayById(i(e),"Not seeing the Header Facet Overlay: "+e,true)},iSeeTheTitleOnTheUI:function(e){return t.create(this).hasType("sap.m.Title").hasProperties({text:e}).description("Seeing the Title "+e).execute()},iSeeTheLinkOnTheUI:function(e){return t.create(this).hasType("sap.m.Link").hasProperties({text:e}).checkNumberOfMatches(1).description("Seeing the Link "+e).execute()},iCheckTheHeaderFacetTitle:function(e,n){return t.create(this).hasType("sap.fe.templates.ObjectPage.controls.StashableHBox").hasId(i(e)).hasProperties({title:n}).description("The Header Facet  "+e+" has title "+n).execute()},iSeeTheSectionTextById:function(e,n){var i=r(e);return t.create(this).hasId(i).hasProperties({text:n}).description("Seeing the section "+e+" with text "+n).execute()},iSeeTheSectionAtPosition:function(e,n){var i=r(e);return t.create(this).hasType("sap.m.IconTabFilter").hasId(i).has(function(e){var t=e.getParent().getItems(),r=t.findIndex(function(e){return i.test(e.getId())});return r===n}).description("Seeing the section "+e+" at position "+n).execute()},iSeeTheAddedIFrameInHeader:function(e){return t.create(this).hasType("sap.ui.dt.AggregationOverlay").hasProperties({aggregationName:"headerContent"}).doOnChildren(t.create(this).hasType("sap.ui.fl.util.IFrame")).description("Seeing the application with URL: "+e+" in iFrame in header content container").execute()},iSeeTheIFrameInSectionWithTitle:function(e){return t.create(this).hasType("sap.uxap.ObjectPageSection").hasProperties({title:e}).doOnChildren(t.create(this).hasType("sap.ui.fl.util.IFrame")).description("Seeing iFrame in section with title '"+e+"'").execute()}}}});
/*!
 * 
		SAP UI development toolkit for HTML5 (SAPUI5)
        (c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.predefine("sap/fe/test/FlexibleColumnLayout", ["sap/base/util/merge","./TemplatePage","sap/ui/test/OpaBuilder","sap/m/library"],function(e,t,n,o){"use strict";return{create:function(e){return{actions:{iClickFirstColumnExpandButton:function(){return n.create(this).hasId("application-"+e+"-component---appRootView--appContent-midForward").description("Clicking the First Column Expand Button").doPress().execute()},iClickLastColumnExpandButton:function(){return n.create(this).hasId("application-"+e+"-component---appRootView--appContent-midBack").description("Clicking the Last Column Expand Button").doPress().execute()},iClickLastColumnCollapseButton:function(){return n.create(this).hasId("application-"+e+"-component---appRootView--appContent-endForward").doPress().description("Seeing the Last Column Expand Button").execute()},iClickFirstColumnCollapseButton:function(){return n.create(this).hasId("application-"+e+"-component---appRootView--appContent-beginBack").doPress().description("Seeing the Last Column Expand Button").execute()}},assertions:{iSeeFirstColumnExpandButton:function(){return n.create(this).hasId("application-"+e+"-component---appRootView--appContent-midForward").description("Seeing the First Column Expand Button").execute()},iDoNotSeeFirstColumnExpandButton:function(){return n.create(this).hasType("sap.m.Button").check(function(t){var n=t.some(function(t){return t.getId()==="application-"+e+"-component---appRootView--appContent-midForward"});return n===false},true).description("Do not see the First Column Expand Button").execute()},iSeeFirstColumnCollapseButton:function(){return n.create(this).hasId("application-"+e+"-component---appRootView--appContent-beginBack").description("Seeing the Last Column Expand Button").execute()},iClickLastColumnCollapseButton:function(){return n.create(this).hasId("application-"+e+"-component---appRootView--appContent-endForward").description("Seeing the Last Column Expand Button").execute()},iSeeLastColumnExpandButton:function(){return n.create(this).hasId("application-"+e+"-component---appRootView--appContent-midBack").description("Seeing the Last Column Expand Button").execute()},iDoNotSeeLastColumnExpandButton:function(){return n.create(this).hasType("sap.m.Button").check(function(t){var n=t.some(function(t){return t.getId()==="application-"+e+"-component---appRootView--appContent-midBack"});return n===false},true).description("Do not see the Last Column Expand Button").execute()},iSeeNumberOfColumns:function(t){var o={OneColumn:1,TwoColumnsMidExpanded:2,TwoColumnsBeginExpanded:2,MidColumnFullScreen:1,ThreeColumnsMidExpanded:3,ThreeColumnsEndExpanded:3,ThreeColumnsMidExpandedEndHidden:2,ThreeColumnsBeginExpandedEndHidden:2,EndColumnFullScreen:1};return n.create(this).hasId("application-"+e+"-component---appRootView--appContent").check(function(e){return o[e.getLayout()]===t},true).description("FCL displays "+t+" columns").execute()},iSeeFullscreen:function(){return n.create(this).hasId("application-"+e+"-component---appRootView--appContent").check(function(e){return e.getLayout()==="MidColumnFullScreen"||e.getLayout()==="EndColumnFullScreen"},true).description("FCL is in fullscreen").execute()},iSeeFCLLayout:function(t){return n.create(this).hasId("application-"+e+"-component---appRootView--appContent").hasProperties({layout:t}).description("Checking FCL layout: "+t).execute()},iGetDefaultLayoutOnFirstLevel:function(){return n.create(this).hasId("application-"+e+"-component---appRootView--appContent").hasProperties({layout:"TwoColumnsMidExpanded"}).description("Seeing default layout for FCL on first level: TwoColumnsMidExpanded ").execute()},iGetDefaultLayoutOnSecondLevel:function(){return n.create(this).hasId("application-"+e+"-component---appRootView--appContent").hasProperties({layout:"ThreeColumnsMidExpanded"}).description("Seeing default layout for FCL on second level: ThreeColumnsMidExpanded ").execute()}}}}}});
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/test/JestFlexibilityHelper", [],function(){"use strict";var e={};function a(e,a){const i="id_1656068872000_483_flVariant";const r=e+"--";const c=n(a,i,r)??[];const o=t(a)??[];return{appDescriptorChanges:[],ui2personalization:{},comp:{variants:[],changes:[],defaultVariants:[],standardVariants:[]},changes:{changes:o,variants:[{fileName:i,fileType:"ctrl_variant",variantManagementReference:`${r}fe::PageVariantManagement`,variantReference:`${r}fe::PageVariantManagement`,reference:"catalog-admin-ui.Component",packageName:"$TMP",content:{title:"Default with additional fields and cols"},self:`apps/catalog-admin-ui/variants/${i}.ctrl_variant`,layer:"USER",texts:{},namespace:"apps/catalog-admin-ui/variants/",creation:"2022-06-24T11:07:52.139Z",originalLanguage:"EN",conditions:{},contexts:{},support:{generator:"Change.createInitialFileContent",service:"",user:"",sapui5Version:"1.80.0"}}],variantChanges:[{fileName:"id_1656068872134_509_setExecuteOnSelect",fileType:"ctrl_variant_change",changeType:"setExecuteOnSelect",moduleName:"",reference:"catalog-admin-ui.Component",packageName:"$TMP",content:{executeOnSelect:true},selector:{id:i,idIsLocal:false},layer:"USER",texts:{},namespace:"apps/catalog-admin-ui/changes/",projectId:"catalog-admin-ui",creation:"2022-06-24T11:07:52.146Z",originalLanguage:"EN",support:{generator:"Change.createInitialFileContent",service:"",user:"",sapui5Version:"1.80.0",sourceChangeFileName:"",compositeCommand:"",command:""},oDataInformation:{},dependentSelector:{},jsOnly:false,variantReference:"",appDescriptorChange:false}],variantDependentControlChanges:c,variantManagementChanges:[{fileName:"id_1656068872132_508_setDefault",fileType:"ctrl_variant_management_change",changeType:"setDefault",moduleName:"",reference:"catalog-admin-ui.Component",packageName:"$TMP",content:{defaultVariant:i},selector:{id:`${r}fe::PageVariantManagement`,idIsLocal:false},layer:"USER",texts:{},namespace:"apps/catalog-admin-ui/changes/",projectId:"catalog-admin-ui",creation:"2022-06-24T11:07:52.145Z",originalLanguage:"EN",support:{generator:"Change.createInitialFileContent",service:"",user:"",sapui5Version:"1.80.0",sourceChangeFileName:"",compositeCommand:"",command:""},oDataInformation:{},dependentSelector:{},jsOnly:false,variantReference:"",appDescriptorChange:false}]},cacheKey:"1432039092"}}e.createFlexibilityChangesObject=a;function n(e,a,n){return e.variantDependentControlChanges?.map(e=>{e.variantReference=a;e.selector.id=n+e.selector.id;return e})}function t(e){return e.changes?.map(e=>e)}return e},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/test/JestTemplatingHelper", ["@sap/cds-compiler","fs","htmljs-parser","path","sap/base/Log","sap/base/util/LoaderExtensions","sap/base/util/uid","sap/fe/base/jsx-runtime/jsx","sap/fe/core/AppComponent","sap/fe/core/PageController","sap/fe/core/TemplateModel","sap/fe/core/buildingBlocks/templating/BuildingBlockTemplateProcessor","sap/fe/core/converters/ConverterContext","sap/fe/core/converters/ManifestWrapper","sap/fe/core/converters/MetaModelConverter","sap/fe/core/formatters/ValueFormatter","sap/fe/core/services/SideEffectsServiceFactory","sap/fe/test/UI5MockHelper","sap/m/Page","sap/ui/base/BindingInfo","sap/ui/base/BindingParser","sap/ui/base/ManagedObjectMetadata","sap/ui/core/Component","sap/ui/core/InvisibleText","sap/ui/core/XMLTemplateProcessor","sap/ui/core/util/XMLPreprocessor","sap/ui/core/util/serializer/Serializer","sap/ui/fl/Utils","sap/ui/fl/apply/_internal/flexState/FlexState","sap/ui/fl/initial/_internal/Loader","sap/ui/fl/initial/_internal/Storage","sap/ui/fl/initial/_internal/preprocessors/XmlPreprocessor","sap/ui/model/json/JSONModel","sap/ui/model/odata/v4/ODataMetaModel","sap/ui/model/odata/v4/ODataModel","sap/ui/model/odata/v4/lib/_MetadataRequestor","xpath","./JestFlexibilityHelper","sap/fe/base/jsx-runtime/jsx"],function(e,t,n,s,o,r,a,i,c,l,u,d,f,p,m,g,y,h,v,C,$,S,w,x,M,b,O,j,A,P,F,T,B,k,E,I,D,L,_){"use strict";var R={};var N=L.createFlexibilityChangesObject;var V=h.createMockResourceModel;var X=m.getInvolvedDataModelObjects;var z=m.convertTypes;var H=d.parseXMLString;var J=n.createParser;function W(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,q(e,t)}function q(e,t){return q=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},q(e,t)}o.setLevel(1,"sap.ui.core.util.XMLPreprocessor");jest.setTimeout(4e4);const U={macro:"sap.fe.macros",macroShare:"sap.fe.macros.share",macros:"sap.fe.macros",feBB:"sap.fe.core.buildingBlocks.templating",macroField:"sap.fe.macros.field",macrodata:"http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1",log:"http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1",customData:"http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1",control:"sap.fe.core.controls",controls:"sap.fe.macros.controls",core:"sap.ui.core",dt:"sap.ui.dt",m:"sap.m",f:"sap.ui.layout.form",fl:"sap.ui.fl",internalMacro:"sap.fe.macros.internal",mdc:"sap.ui.mdc",actiontoolbar:"sap.ui.mdc.actiontoolbar",mdcField:"sap.ui.mdc.field",mdcTable:"sap.ui.mdc.table",u:"sap.ui.unified",uxap:"sap.uxap",macroMicroChart:"sap.fe.macros.microchart",microChart:"sap.suite.ui.microchart",macroTable:"sap.fe.macros.table",mdcvc:"sap.ui.mdc.valuehelp.content",mdcv:"sap.ui.mdc.valuehelp",valueHelp:"sap.fe.macros.valueHelp",contentSwitcher:"sap.fe.macros.contentSwitcher",filterBar:"sap.fe.macros.filterBar",draftIndicator:"sap.fe.macros.draftIndicator",visualFilter:"sap.fe.macros.visualfilters",fieldhelp:"sap.ui.core.fieldhelp"};const G=Object.keys(U).reduce((e,t)=>{e[U[t]]=t;return e},{});const K=D.useNamespaces(U);const Q={computeFieldGroupIds:()=>[]};function Y(e,t){const n="/root";return`${e.nodeName==="root"&&!t.startsWith(n)?n:""}${t}`}async function Z(e,t,n,s){let o;if(e){o=await fe(e);if(!n.hasOwnProperty("converterContext")){n=Object.assign(n,{converterContext:new u({},o)})}Object.keys(n).forEach(function(e){if(n[e]&&n[e].isTemplateModel){n[e]=new u(n[e].data,o)}})}const r={models:Object.assign({metaModel:o},n),bindingContexts:{},appComponent:{getSideEffectsService:jest.fn(),getDiagnostics:()=>undefined,getShellServices:jest.fn(),getManifestEntry:()=>undefined}};r.appComponent.getSideEffectsService.mockReturnValue(s??Q);Object.keys(t).forEach(function(e){expect(typeof o?.getObject(t[e])).toBeDefined();const s=n[e]||o;r.bindingContexts[e]=s.createBindingContext(t[e]);r.models[e]=s});return r}function ee(e){const t=e.replace(/\./g,"/")+".view.xml";const n=r.loadResource(t);return n.documentElement}const te=function(e,t){return K(e,t)};expect.extend({toHaveControl(e,t){const n=te(Y(e,t),e);return{message:()=>{const n=oe(e);return`did not find controls matching ${t} in generated xml:\n ${n}`},pass:n&&n.length>=1}},toNotHaveControl(e,t){const n=te(Y(e,t),e);return{message:()=>{const n=oe(e);return`There is a control matching ${t} in generated xml:\n ${n}`},pass:n&&n.length===0}},toHaveTemplatingErrors(e){const t=typeof e==="string"?e:oe(e);const n=t.match(/BBF\.base64Decode\('([^']*)'\)/gm)||[];const s=n.map(e=>{if(e&&e.length>0){return atob(e.match(/('[^']*)/)?.[0]?.slice(1)||"")}return""});if(s.length<=0){return{message:()=>`XML Templating without errors`,pass:false}}else{return{message:()=>s.join("\n"),pass:true}}}});R.runXPathQuery=te;const ne=function(e){if(Array.isArray(e)){e=e.join("")}return re(e)};R.formatBuildingBlockXML=ne;const se=function(e,t,n){const s=`string(${Y(n,e)}/@${t})`;return te(s,n)};R.getControlAttribute=se;const oe=function(e,t){const n=new window.XMLSerializer;let s;if(t){const o=te(t,e);s=o.map(e=>n.serializeToString(e)).join("\n")}else{s=n.serializeToString(e)}return re(s)};R.serializeXML=oe;const re=function(e){const t="<__XML__>",n="</__XML__>",s=/uid--id-\d{13}-\d{1,3}/,o=/id-\d{13}-\d{1,3}/,r=[];let a="",i=-1,c=[];function l(){if(a&&a!==t){r.push(a)}a=i>0?"  ".repeat(i):""}function u(){if(c.length>0){c=c.sort((e,t)=>{if(e.name.startsWith("xmlns")&&!t.name.startsWith("xmlns")){return-1}else if(!e.name.startsWith("xmlns")&&t.name.startsWith("xmlns")){return 1}else if(e.name.startsWith("xmlns")&&t.name.startsWith("xmlns")){return e.name.localeCompare(t.name)}else if(e.name.includes(":")&&!t.name.includes(":")){return-1}else if(!e.name.includes(":")&&t.name.includes(":")){return 1}else{return e.name.localeCompare(t.name)}});i++;for(const e of c){l();a+=e.name;if(e.value)a+=e.value}i--;c=[];l()}}function d(e){a+=f.read(e)}const f=J({onOpenTagStart(e){l();d(e)},onOpenTagName:d,onAttrName(e){c.unshift({name:f.read(e)})},onAttrValue(e){c[0].value=f.read(e).replace(s,"uid--id");c[0].value=f.read(e).replace(o,"id")},onOpenTagEnd(e){u();d(e);if(!e.selfClosed)i++},onCloseTagStart(e){i--;l();d(e)},onCloseTagName:d,onCloseTagEnd:d});f.parse(t+e+n);return r.join("\n").trim()};R.formatXML=re;const ae=function(e){let n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};const o=t.readFileSync(e,"utf-8");const r=ie(o,"sap.fe.test.JestService",n);const a=s.resolve(e,"..","gen");const i=Object.entries(n);i.sort((e,t)=>t[0].localeCompare(e[0]));const c=i.reduce((e,t)=>{let[n,s]=t;return`${e}#${n}=${s.toString()}#`},s.basename(e).replace(".cds",""))+".xml";const l=s.resolve(a,c);t.mkdirSync(a,{recursive:true});t.writeFileSync(l,r);return l};R.compileCDS=ae;function ie(n){let s=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"sap.fe.test.JestService";let o=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};const r={"source.cds":n};if(n.includes("'@sap/cds/common'")){r["common.cds"]=t.readFileSync(require.resolve("@sap/cds/common.cds"),"utf-8")}const a=e.compileSources(r,{});const i={odataForeignKeys:true,odataFormat:"structured",odataContainment:true,...o,service:s};const c=e.to.edmx(a,i);if(!c){throw new Error(`Compilation failed. Hint: Make sure that the CDS model defines service ${s}.`)}return c}R.cds2edmx=ie;const ce=async function(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"sap.ui.model.odata.v4.ODataModel";const n={getModel:()=>({isA:()=>t==="sap.ui.model.odata.v4.ODataModel",getMetaModel:()=>e,getServiceUrl:()=>undefined}),getService:()=>({getCapabilities:()=>undefined})};const s=await(new y).createInstance({scopeObject:n,scopeType:"",settings:{}});return s.getInterface()};R.getFakeSideEffectsService=ce;const le=function(){const e=[];return{addIssue(t,n,s){e.push({issueCategory:t,issueSeverity:n,details:s})},getIssues(){return e},checkIfIssueExists(t,n,s){return e.find(e=>e.issueCategory===t&&e.issueSeverity===n&&e.details===s)}}};R.getFakeDiagnostics=le;const ue=function(e,t){const n=z(e);const s=t.contextPath?X(e.createBindingContext(t.contextPath)):X(e.createBindingContext(`/${t.entitySet}`));return new f(n,new p(t),le(),s)};R.getConverterContextForTest=ue;const de={};const fe=async function(e){const t=I.create({},"4.0",undefined,{},{},function(){return null});if(!de[e]){const n=new k(t,e,undefined,{_requestAnnotationChanges:()=>[]});await n.fetchEntityContainer();de[e]=n}return de[e]};R.getMetaModel=fe;const pe=function(e,t,n){const s={startingEntitySet:e,navigationProperties:[],targetObject:n,targetEntitySet:e,targetEntityType:e.entityType,convertedTypes:t};s.contextLocation=s;return s};R.getDataModelObjectPathForProperty=pe;const me=function(e){const t=C.parse(e);for(var n=arguments.length,s=new Array(n>1?n-1:0),o=1;o<n;o++){s[o-1]=arguments[o]}return t.formatter.apply(undefined,s)};R.evaluateBinding=me;function ge(e,t,n){const s=C.parse(e,null,false,false,false,false,{".":{_formatters:{ValueFormatter:g}}});const o=new x;o.bindProperty("text",s);const r=new B(t);o.setModel(r);o.setBindingContext(r.createBindingContext("/"));if(n){for(const[e,t]of Object.entries(n)){const n=new B(t);o.setModel(n,e);o.setBindingContext(n.createBindingContext("/"),e)}}return o.getText()}R.evaluateBindingWithModel=ge;const ye="testViewId";const he=async function(e,t,n){[...n.querySelectorAll("[id]")].forEach(e=>{e.id=`${ye}--${e.id}`});const s=N(ye,e);const o="someComponent";const r={"sap.app":{id:o,type:"application",crossNavigation:{outbounds:[]}}};const a={getDiagnostics:jest.fn().mockReturnValue(le()),getModel:jest.fn().mockReturnValue({getMetaModel:jest.fn().mockReturnValue(t)}),getComponentData:jest.fn().mockReturnValue({}),getManifestObject:jest.fn().mockReturnValue({getEntry:function(e){return r[e]}}),getLocalId:jest.fn(e=>e)};jest.spyOn(F,"loadFlexData").mockReturnValue(Promise.resolve(s));jest.spyOn(P,"getFlexData").mockReturnValue(Promise.resolve({data:s}));jest.spyOn(P,"getCachedFlexData").mockReturnValue(s);jest.spyOn(w,"getComponentById").mockReturnValue(a);jest.spyOn(j,"getAppComponentForControl").mockReturnValue(a);await A.initialize({componentId:o});n=await T.process(n,{name:"Test Fragment",componentId:o,id:ye});const i=ve(n);expect(i.length).toBe(e?.changes?.length??0+e?.variantDependentControlChanges?.length??0);return n};const ve=e=>[...e.querySelectorAll("*")].flatMap(e=>[...e.attributes].map(e=>e.name)).filter(e=>e.includes("sap.ui.fl.appliedChanges"));R.getChangesFromXML=ve;const Ce=async function(e,t,n,s,o,r){if(!s["sap.fe.i18n"]){s["sap.fe.i18n"]=V()}const a=`<root>${e}</root>`;const i=new window.DOMParser;const c=i.parseFromString(a,"text/xml");const l=await Z(t,n,s,r);if(l.models["this"]){l.bindingContexts["this"]=l.models["this"].createBindingContext("/")}let u=await b.process(c.firstElementChild,{name:"Test Fragment"},l);if(t&&o){const e=await fe(t);u=await he(o,e,u)}return u};R.getTemplatingResult=Ce;const $e=async function(e,t,n,s,o,r){return i.defineXMLNamespaceMap(G,async()=>{const a=await Ce(e,t,n,s,o,r);const i=oe(a,undefined);expect(i).not.toHaveTemplatingErrors();return i})};R.getTemplatedXML=$e;async function Se(e,t,n,s,o){const r=await fe(t);const a=ee(e);const i=await Z(t,n,s);let c=await b.process(a,{name:e},i);if(o){c=await he(o??[],r,c)}return{asElement:c,asString:re(c?.outerHTML||"")}}R.processView=Se;async function we(e,t){const n=`<root><core:Fragment fragmentName="${e}" type="XML" xmlns:core="sap.ui.core" /></root>`;const s=new window.DOMParser;const o=s.parseFromString(n,"text/xml");const r={models:{},bindingContexts:{},appComponent:{getSideEffectsService:jest.fn(),getDiagnostics:()=>undefined}};for(const e in t){const n=new B;n.setData(t[e]);r.models[e]=n;r.bindingContexts[e]=r.models[e].createBindingContext("/")}r.appComponent.getSideEffectsService.mockReturnValue(Q);const a=await b.process(o.firstElementChild,{name:e},r);const i=a.getElementsByTagName("core:Fragment");if(i?.length>0){for(const e of i){e.innerHTML=""}}const c=a.children.length>1?a.outerHTML:a.innerHTML;return re(c)}R.processFragment=we;function xe(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;let n=0;const s=/uid--id-\d{13}-\d{1,3}/;const o=/id-\d{13}-\d{1,3}/;function r(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;let t="";for(let s=0;s<n+e;s++){t+="\t"}return t}const a={start:function(e,t){let n="";if(t){if(e.getParent()){const s=e.getParent().getAggregation(t)?.indexOf?.(e);if(s>0){n+=`,\n${r()}`}}}n+=`${e.getMetadata().getName()}(`;return n},end:function(){return"})"},middle:function(e){let n=e.getId();n=typeof n==="string"?n?.replace?.(o,"id"):n;let a=`{id: ${S.isGeneratedId(n)?"__dynamicId":n}`;for(const t in e.mProperties){if(e.mProperties.hasOwnProperty(t)){let n=e.mProperties[t];n=typeof n==="string"?n?.replace?.(s,"uid--id"):n;n=typeof n==="string"?n?.replace?.(o,"id"):n;try{n=typeof n==="object"?JSON.stringify(n):n}catch(e){}a+=`,\n${r()} ${t}: ${n}`}else if(e.mBindingInfos.hasOwnProperty(t)){const n={...e.mBindingInfos[t]};if(n.type?.oOutputFormat){delete n.type.oOutputFormat}if(n.binding){delete n.binding}a+=`,\n${r()} ${t}: ${JSON.stringify(n)}`}}for(const t in e.mAssociations){if(e.mAssociations.hasOwnProperty(t)){let n=e.mAssociations[t];if(!Array.isArray(n)){n=[n]}n=n.map(e=>{if(typeof e==="string"){return S.isGeneratedId(e)?"__dynamicId":e?.replace?.(o,"id")}else{return e}});a+=`,\n${r()} ${t}: ${(n?.join?.(",")??n)||undefined}`}}if(t&&e.aCustomStyleClasses?.length>0){a+=`,\n${r()} customStyleClasses : ${e.aCustomStyleClasses.join(", ")}`}for(const t in e.mEventRegistry){if(e.mEventRegistry.hasOwnProperty(t)){a+=`,\n${r()} ${t}: true`}}a+=``;return a},startAggregation:function(e,t){let s=`,\n${r()}${t}`;n++;if(e.mBindingInfos[t]){s+=`={ path:'${e.mBindingInfos[t].path}', template:\n${r()}`}else{s+=`=[\n${r()}`}return s},endAggregation:function(e,t){n--;if(e.mBindingInfos[t]){return`\n${r()}}`}else{return`\n${r()}]`}}};if(Array.isArray(e)){return e.map(e=>new O(e,a).serialize())}else{return new O(e,a).serialize()}}R.serializeControl=xe;function Me(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;let n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;let s=0;const o=/uid--id-\d{13}-\d{1,3}/;const r=/id-\d{13}-\d{1,3}/;const a={};function i(e){const t=e.split(".");const n=t.slice(0,-1);const s=t[t.length-1];let o=n[n.length-1];if(G[n.join(".")]){o=G[n.join(".")]}if(o===undefined){o="test"}return o}function c(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;let t="";for(let n=0;n<s+e;n++){t+="\t"}return t}const l={start:function(e,t){let n="";if(t){if(e.getParent()){const s=e.getParent().getAggregation(t)?.indexOf?.(e);if(s>0){n+=`\n${c()}`}}}const s=e.getMetadata().getName();const o=s.split(".");const r=o[o.length-1];const l=i(s);n+=`<${l}:${r}\n`;if(!a[l]){a[l]=1;n+=`${c()}xmlns:${l}="${U[l]}"\n`}else{a[l]++}return n},end:function(e){const t=e.getMetadata().getName();const n=t.split(".");const s=n[n.length-1];const o=i(t);let r=false;for(const t in e.mAggregations){if(!Array.isArray(e.mAggregations[t])&&e.mAggregations[t]!==null&&e.mAggregations[t]!==undefined||Array.isArray(e.mAggregations[t])&&e.mAggregations[t].length>0){r=true}}a[o]--;if(r){return`</${o}:${s}>`}else{return`/>`}},middle:function(e){let s=e.getId();s=typeof s==="string"?s?.replace?.(r,"id"):s;let a="";if(!S.isGeneratedId(s)){a=`id="${s}"`}let i=Object.keys(e.mProperties).filter(e=>e!=="id").concat(Object.keys(e.mBindingInfos)).concat(Object.keys(e.mAssociations)).concat(Object.keys(e.mEventRegistry));i=i.sort((e,t)=>e.localeCompare(t));const l=new Set(i);i=Array.from(l);for(const t of i){if(!n&&e.mBindingInfos.hasOwnProperty(t)){const n={...e.mBindingInfos[t]};if(n.bindingString){a+=`\n${c()}${t}="${n.bindingString.replace(">","&gt;")}"`}else{if(n.type?.oOutputFormat){delete n.type.oOutputFormat}if(n.binding){delete n.binding}if(n.template){delete n.template}a+=`\n${c()}${t}='${JSON.stringify(n)}'`}}else if(e.mProperties.hasOwnProperty(t)&&e.mProperties[t]!==undefined){let n=e.mProperties[t];if(typeof n==="string"){n=n.replace(o,"uid--id").replace(r,"id").replace(/"/g,"&quot;")}try{n=typeof n==="object"?JSON.stringify(n).replace(/"/g,"&quot;"):n}catch(e){}a+=`\n${c()} ${t}="${n}"`}else if(e.mAssociations.hasOwnProperty(t)){let n=e.mAssociations[t];if(!Array.isArray(n)){n=[n]}n=n.map(e=>typeof e==="string"?e?.replace?.(r,"id"):e);a+=`\n${c()} ${t}="${(n?.join?.(",")??n)||undefined}"`}else if(e.mEventRegistry.hasOwnProperty(t)){if(e.mEventRegistry[t][0]?.fFunction?.name){a+=`\n${c()} ${t}="${e.mEventRegistry[t][0]?.fFunction?.name}"`}else{a+=`\n${c()} ${t}="someEventHandler"`}}}if(t&&e.aCustomStyleClasses?.length>0){a+=`\n${c()} customStyleClasses : ${e.aCustomStyleClasses.join(", ")}`}a+=`\n`;let u=false;for(const t in e.mAggregations){if(!Array.isArray(e.mAggregations[t])&&e.mAggregations[t]!==null&&e.mAggregations[t]!==undefined||Array.isArray(e.mAggregations[t])&&e.mAggregations[t].length>0){u=true}}if(u){a+=">"}return a},startAggregation:function(e,t){const n=i(e.getMetadata().getName());let o=`\n${c()}<${n}:${t}>`;s++;o+=`\n${c()}`;return o},endAggregation:function(e,t){s--;const n=i(e.getMetadata().getName());if(e.mBindingInfos[t]){return`\n${c()}</${n}:${t}>\n`}else{return`\n${c()}</${n}:${t}>\n`}}};let u;if(Array.isArray(e)){u=e.map(e=>new O(e,l).serialize())}else{u=new O(e,l).serialize()}return re(`<root>${u}</root>`)}R.serializeControlAsXML=Me;function be(){let e;const t=new Promise(t=>{e=t});return{promise:t,resolve:e}}R.createAwaiter=be;function Oe(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++){t[n]=arguments[n]}const s=M.loadTemplatePromise;const o=jest.spyOn(M,"loadTemplatePromise");o.mockImplementation((e,n)=>{for(const n of t){if(n.name===e){return H(n.content)[0]}}return s(e,n)});return o}R.registerMockFragments=Oe;async function je(e,n,o){jest.spyOn(E.prototype,"setOptimisticBatchEnabler").mockReturnValue(undefined);let r=e?.cdsFile;if(!r){r=ae(s.join(__dirname,"./data/Products.cds"))}const i=e?.guid??a();const u=e?.componentId??`sap.fe.test.${i}`;const d=t.readFileSync(r).toString();window.jestUI5.mockUrl(`/sap/fe/core/mock/${i}/$metadata?sap-language=EN`,d);if(!e?.pageContent){jest.spyOn(l.prototype,"_onInternalAfterBinding").mockImplementation(jest.fn())}let f=function(e){function t(){return e.apply(this,arguments)||this}W(t,e);var n=t.prototype;n.render=function e(){return _(v,{})};return t}(l);sap.ui.define(`sap/fe/test/${i}/Component`,["sap/fe/core/AppComponent"],function(t){"use strict";return c.extend(`sap.fe.test.${i}.Component`,{metadata:{manifest:{"sap.app":{id:`test${i}`,title:"App Title",dataSources:{mainService:{uri:`/sap/fe/core/mock/${i}/`,type:"OData",settings:{odataVersion:"4.0"}}}},"sap.ui5":{models:{"":{dataSource:"mainService",settings:{}}},routing:{targets:{Default:{type:"Component",name:n??"sap.fe.core.fpm",id:"Default",viewLevel:o,options:{settings:{...e?.manifestSettings??{},contextPath:e?.mainContextPath??"/Products",viewType:"JSX",viewContent:e?.pageContent??f,content:e?.content}}}},routes:[{pattern:":?query:",name:"Default",target:"Default"}]}},"sap.fe":e?.feManifestSettings??{}}}})});const p=await w.create({name:`sap.fe.test.${i}`,id:u});await p.initialized;const m=await(p.getRouter().getTarget("Default").load?.());return{appComponent:p,templateComponent:m.object}}R.initializeAppComponent=je;function Ae(e,t){for(let n=0;n<e.length;n++){const s=e.item(n);if(t(s)){return s}}return undefined}R.findElement=Ae;async function Pe(e,t){return new Promise(n=>{e.attachEventOnce(t,e=>{n(e)})})}R.waitForEvent=Pe;function Fe(e){$._keepBindingStrings=e}R.keepBindingStringForTest=Fe;async function Te(e){return new Promise(t=>{setTimeout(t,e)})}R.delayFor=Te;return R},false);
/*!
 * 
		SAP UI development toolkit for HTML5 (SAPUI5)
        (c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.predefine("sap/fe/test/JourneyRunner", ["sap/ui/base/Object","sap/ui/test/Opa5","./Utils","./BaseArrangements","./BaseActions","./BaseAssertions","./Shell","sap/ui/test/opaQunit","sap/base/Log","sap/base/util/ObjectPath"],function(e,n,t,s,i,r,a,o,u,c){"use strict";var f=Promise.resolve();var g;var p=e.extend("sap.fe.test.JourneyRunner",{constructor:function(n){e.apply(this);this._mInstanceSettings=t.mergeObjects({pages:{onTheShell:new a}},n)},run:function(e,n){var s=1;if(!t.isOfType(e,Object)){s=0;e=t.mergeObjects(this._mInstanceSettings)}else{e=t.mergeObjects(this._mInstanceSettings,e)}var i=Array.prototype.slice.call(arguments,s);if(i&&i.length&&Array.isArray(i[0])){i=i[0]}var r=e.async,a;if(r){a=Promise.resolve()}else{a=f}a=a.then(this._preRunActions.bind(this,e)).then(this._runActions.bind(this,i)).then(this._postRunActions.bind(this,e)).catch(function(e){u.error("JourneyRunner.run failed",e)});if(!r){f=a}return a},getBaseActions:function(){return new i},getBaseAssertions:function(){return new r},getBaseArrangements:function(e){return new s(e)},_preRunActions:function(e){n.extendConfig(this._getOpaConfig(e));n.createPageObjects(e.pages)},_runActions:function(e){var n=this,s=Promise.resolve(),i,r=new Promise(function(e){i=e});u.info("JourneyRunner started");QUnit.done(function(){u.info("JourneyRunner ended");i()});e.forEach(function(e){if(t.isOfType(e,String)){s=s.then(function(){return new Promise(function(n){sap.ui.require([e],function(e){n(e)})})})}else{s=s.then(function(){return e})}s=s.then(n._runJourney)});return s.then(function(){return r})},_runJourney:function(e){if(t.isOfType(e,Function)){e.call()}},_postRunActions:function(e){this._removePages(e.pages);n.resetConfig()},_removePages:function(e){var n=this;if(e){Object.keys(e).forEach(function(t){var s=e[t],i=n._createClassName(s.namespace||"sap.ui.test.opa.pageObject",t);c.set(i,undefined)})}},_createClassName:function(e,n){return e+"."+n},_getOpaConfig:function(e){var n=Object.assign({viewNamespace:"sap.fe.templates",autoWait:true,timeout:30,pollingInterval:50,logLevel:"ERROR",disableHistoryOverride:true,asyncPolling:true},e.opaConfig);if(!n.actions){n.actions=this.getBaseActions(e)}if(!n.assertions){n.assertions=this.getBaseAssertions(e)}if(!n.arrangements){n.arrangements=this.getBaseArrangements(e)}return n}});p.getDefaultRunner=function(){if(!g){g=new p}return g};p.setDefaultRunner=function(e){if(g){g.destroy()}g=e};p.run=function(){var e=p.getDefaultRunner();e.run.apply(e,arguments)};return p});
/*!
 * 
		SAP UI development toolkit for HTML5 (SAPUI5)
        (c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.predefine("sap/fe/test/ListReport", ["sap/fe/test/Utils","./TemplatePage","sap/ui/test/Opa5","sap/ui/test/OpaBuilder","sap/fe/test/builder/FEBuilder","sap/fe/test/builder/MacroFieldBuilder","sap/fe/test/builder/VMBuilder","sap/fe/test/builder/OverflowToolbarBuilder","sap/fe/test/builder/KPIBuilder","sap/fe/test/api/FooterActionsBase","sap/fe/test/api/FooterAssertionsBase","sap/fe/test/api/HeaderActionsLR","sap/fe/test/api/HeaderAssertionsLR","sap/fe/test/api/KPICardAssertions","sap/fe/test/api/KPICardActions","sap/ui/core/Lib"],function(e,t,i,r,n,a,s,o,c,u,p,h,l,d,f,g){"use strict";function m(e){return"fe::table::"+e+"::LineItem"}function T(e){return"fe::Chart::"+e+"::Chart"}function x(e,t){return n.create(e).hasId(t)}function P(i,a){var o=i.appId,u=i.componentId,p=i.contextPath,P=p?p.substring(1).replace("/","::"):i.entitySet,S=o+"::"+u,I="fe::table::"+P+"::LineItem",y="fe::Chart::"+P+"::Chart",b="fe::FilterBar::"+P,C=b+"::FilterFieldValueHelp::",k=g.getResourceBundleFor("sap.fe.core"),v="fe::TabMultipleMode",M="fe::ListReport",V=Array.isArray(arguments[1])?arguments[1]:Array.prototype.slice.call(arguments,1);function L(t){if(!t){t={id:I}}else{var i=!e.isOfType(t,String)?t.property:t;t={id:m(i)}}return t}return t.apply(t,[S,{actions:{onTable:function(e){return this._onTable(L(e))},onChart:function(t){var i;if(t){i=!e.isOfType(t,String)?T(t.property):t}else{i=y}return this._onChart({id:i})},onKPICard:function(){return new f(c.create(this))},onFilterBar:function(){return this._onFilterBar({id:b})},onHeader:function(){return new h(x(this,M),{id:M})},iCollapseExpandPageHeader:function(e){return this._iCollapseExpandPageHeader(e)},iExecuteActionOnDialog:function(e){return r.create(this).hasType("sap.m.Button").hasProperties({text:e}).isDialogElement().doPress().description("Pressing dialog button '"+e+"'").execute()},iCheckLinksCount:function(e){return r.create(this).hasType("sap.m.ColumnListItem").check(function(t){if(t.length===e){return true}else{return false}},true).description("Seeing QuickView Card with "+e+" target applications in ObjectPage").execute()},iClickQuickViewMoreLinksButton:function(){return r.create(this).hasType("sap.m.Button").has(r.Matchers.resourceBundle("text","sap.ui.mdc","info.POPOVER_DEFINE_LINKS")).doPress().description("Pressing 'More Links' button").execute()},iClickLinkWithText:function(e){return r.create(this).hasType("sap.m.Link").hasProperties({text:e}).doPress().description("Navigating via link '"+e+"'").execute()},iGoToView:function(t){var i=e.isOfType(t,Object)&&typeof t.key==="string"?{key:"fe::table::"+t.key+"::LineItem"}:{text:t};return r.create(this).hasId(v).has(r.Matchers.aggregation("items",r.Matchers.properties(i))).check(function(e){return e.length>0}).doPress().description("Selecting view '"+(e.isOfType(t,Object)?t.key:t)+"'").execute()},iOpenIconTabWithTitle:function(){return r.create(this).timeout(1).check(function(){return false}).error("Test function iOpenIconTabWithTitle() is deprecated - please use function iGoToView() with the same parameter").execute()},iSaveVariant:function(t,i,r){var n=e.parseArguments([String,Boolean,Boolean],arguments),a=s.create(this).hasId("fe::PageVariantManagement");if(n[0]){a.doSaveAs(t,i,r).description(e.formatMessage("Saving variant for '{0}' as '{1}' with default='{2}' and applyAutomatically='{3}'","Page Variant",t,!!i,!!r))}else{a.doSave().description(e.formatMessage("Updating current variant for '{0}'","Page Variant"))}return a.execute()},iSelectVariant:function(t){return s.create(this).hasId("fe::PageVariantManagement").doSelectVariant(t).description(e.formatMessage("Selecting variant '{1}' from '{0}'","Page Variant",t)).execute()},iOpenKPICard:function(e){return c.create(this).clickKPITag(e).description("Opening card for KPI '"+e+"'").execute()},iCloseKPICard:function(){return c.create(this).closeKPICard().description("Closing KPI card").execute()}},assertions:{onTable:function(e){return this._onTable(L(e))},onChart:function(t){var i;if(t){i=!e.isOfType(t,String)?T(t.property):t}else{i=y}return this._onChart({id:i})},onFilterBar:function(){return this._onFilterBar({id:b})},onHeader:function(){return new l(x(this,M),{id:M})},onKPICard:function(){return new d(c.create(this))},iSeeTheMessageToast:function(e){return this._iSeeTheMessageToast(e)},iSeeFilterFieldsInFilterBar:function(e,t){if(t){return r.create(this).hasId(b).check(function(t){return t.getAggregation("layout").isA("sap.fe.macros.controls.filterbar.VisualFilterContainer")&&t.getAggregation("layout").getFilterFields().length===e}).description("Seeing filter bar with "+e+" filter fields").execute()}return r.create(this).hasId(b).hasAggregationLength("filterItems",e).description("Seeing filter bar with "+e+" filter fields").execute()},iSeeTableCellWithActions:function(e,t,i){return r.create(this).hasType("sap.m.ColumnListItem").has(r.Matchers.bindingPath(e)).has(function(e){var r=e.getCells()[t];if(r.isA("sap.fe.macros.MacroAPI")){r=r.getContent()}return r.getMetadata().getElementName()==="sap.m.Button"&&r.getText()===i}).description("Inline Action is present in the table cell with the Text "+i).execute()},iSeeLinkWithText:function(e){return r.create(this).hasType("sap.m.Link").hasProperties({text:e}).description("Seeing link with text '"+e+"'").execute()},iSeeQuickViewMoreLinksButton:function(){return r.create(this).isDialogElement(true).hasType("sap.m.Button").has(r.Matchers.resourceBundle("text","sap.ui.mdc","info.POPOVER_DEFINE_LINKS")).description("The 'More Links' button found").execute()},iSeeFlpLink:function(e){return r.create(this).hasType("sap.m.Link").isDialogElement(true).hasProperties({text:e}).description("FLP link with text '"+e+"' is present").execute()},iSeeHeaderPinnableToggle:function(e){var t=e?"visible":"hidden";return r.create(this).hasType("sap.f.DynamicPageHeader").hasProperties({pinnable:e}).description("The Page Header Pinnable Toggle is "+t).execute()},iSeeContactPopoverWithAvatarImage:function(e){return r.create(this).hasType("sap.ui.mdc.link.Panel").check(function(t){var i=t.some(function(t){return t.src===e});return i===false},true).description("Seeing Contact Card with Avatar Image in ListReport").execute()},iSeeAvatarImage:function(e){return r.create(this).hasType("sap.m.Avatar").hasProperties({src:e}).description("Seeing avatar image with url '"+e+"'").execute()},iSeeLabelWithText:function(e){return r.create(this).hasType("sap.m.Label").hasProperties({text:e}).description("Seeing label with text '"+e+"'").execute()},iSeeTitleInQuickViewForm:function(e){return r.create(this).hasType("sap.ui.core.Title").isDialogElement(true).hasProperties({text:e}).description("Seeing title with text '"+e+"'").execute()},iSeeSummaryOfAppliedFilters:function(){var e;r.create(this).hasId(b).mustBeVisible(false).do(function(t){e=t.getAssignedFiltersText().filtersText}).execute();return r.create(this).hasType("sap.f.DynamicPageTitle").has(function(t){return t.getSnappedContent()[0].getContent().getText()===e}).description("The correct text on the collapsed filterbar is displayed").execute()},iSeeDeleteConfirmation:function(){return this._iSeeTheMessageToast(k.getText("C_TRANSACTION_HELPER_DELETE_TOAST_SINGULAR"))},iSeePageTitle:function(e){return r.create(this).hasType("sap.f.DynamicPageTitle").hasAggregationProperties("heading",{text:e}).description("Seeing title '"+e+"'").execute()},iSeeVariantTitle:function(e){return r.create(this).hasType("sap.m.Title").hasId("fe::PageVariantManagement-vm-text").hasProperties({text:e}).description("Seeing variant title '"+e+"'").execute()},iSeeControlVMFilterBarTitle:function(e){return r.create(this).hasType("sap.m.Title").hasId(b+"::VariantManagement-vm-text").hasProperties({text:e}).description("Seeing variant title '"+e+"'").execute()},iSeeControlVMTableTitle:function(e,t){var i=t?m(t):I;return r.create(this).hasType("sap.m.Title").hasId(i+"::VM-vm-text").hasProperties({text:e}).description("Seeing variant title '"+e+"'").execute()},iSeeVariantModified:function(e,t){var i;if(t){i=b+"::VariantManagement-vm-modified"}else{i="fe::PageVariantManagement-vm-modified"}e=e===undefined?true:e;if(e){return r.create(this).hasType("sap.m.Text").hasId(i).hasProperties({text:"*"}).description("Seeing variant state as 'modified'").execute()}else{return r.create(this).hasType("sap.m.Label").check(function(e){return!e.some(function(e){return e.getId()===i})},true).description("Seeing variant state as 'not modified'").execute()}},iSeePageVM:function(t){return n.create(this).hasId("fe::PageVariantManagement").hasState(t).description(e.formatMessage("Seeing page VM with state '{0}'",t)).execute()},iSeeControlVMFilterBar:function(){return r.create(this).hasId(b+"::VariantManagement").description("Seeing control VM - FilterBar").execute()},iSeeDraftIndicator:function(){return r.create(this).hasType("sap.m.ObjectMarker").hasProperties({type:"Draft"}).description("Draft indicator is visible").execute()},iSeeDraftIndicatorLocked:function(e){var t=e?{type:"LockedBy",additionalInfo:e}:{type:"Locked"};return r.create(this).hasType("sap.m.ObjectMarker").hasProperties(t).description("Draft indicator is visible and locked"+(e?" by '"+e+"'":"")).execute()},iCheckView:function(t,i){var a=e.isOfType(t,Object)&&typeof t.key==="string"?{key:"fe::table::"+t.key+"::LineItem"}:{text:t};return r.create(this).hasId(v).has(r.Matchers.aggregation("items",r.Matchers.properties(a))).has(n.Matchers.atIndex(0)).hasProperties(i).description(e.formatMessage("Checking view '{0}' with properties '{1}'",t,i)).execute()},iSeeIconTabWithProperties:function(){return r.create(this).timeout(1).check(function(){return false}).error("Test function iSeeIconTabWithProperties() is deprecated - please use function iCheckView()").execute()},iSeeNumOfOperators:function(e,t){return r.create(this).hasId(C+e+"-DCP").doOnChildren(r.create(this).hasAggregationLength("items",t)).description("Seeing a value list of condition operators with "+t+" items.").execute()},iSeeKPI:function(e,t){var i="Seeing KPI '"+e+"'";if(t){i+=" with properties "+JSON.stringify(t)}return c.create(this).checkKPITag(e,t).description(i).execute()},iSeeKPICard:function(){return c.create(this).checkKPICard().description("Seeing KPI Card").execute()}}}].concat(V))}return P});
/*!
 * 
		SAP UI development toolkit for HTML5 (SAPUI5)
        (c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.predefine("sap/fe/test/LocationUtil", ["sap/ui/test/OpaBuilder","sap/ui/test/Opa5","sap/fe/test/Utils"],function(t,e,n){"use strict";var r=function(t,n){if(n||!(typeof t.getController().getRouter==="function")){var r=e.getWindow();return r.window.location.hash}return t.getController().getRouter().getHashChanger().getHash()};var i=function(t){return new RegExp(n.formatMessage("^application-{0}-component---app(RootView)?$",t))};return{create:function(e){return{actions:{},assertions:{iCheckCurrentHashStartsWith:function(n,a){return t.create(this).hasId(i(e)).check(function(t){var e=r(t[0],a);return e.indexOf(n)===0}).description("Checking hash starts with "+n).execute()},iCheckCurrentHashDoesNotContain:function(n,a){return t.create(this).hasId(i(e)).check(function(t){var e=r(t[0],a);return e.indexOf(n)===-1}).description("Checking hash doesn't contain "+n).execute()}}}}}});
/*!
 * 
		SAP UI development toolkit for HTML5 (SAPUI5)
        (c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.predefine("sap/fe/test/ObjectPage", ["sap/base/util/merge","./TemplatePage","sap/ui/test/OpaBuilder","sap/ui/test/Opa5","sap/fe/test/Utils","sap/fe/test/builder/FEBuilder","sap/fe/test/builder/MacroFieldBuilder","sap/fe/test/builder/OverflowToolbarBuilder","sap/fe/test/api/FooterActionsOP","sap/fe/test/api/FooterAssertionsOP","sap/fe/test/api/HeaderActions","sap/fe/test/api/HeaderAssertions","sap/fe/test/api/FormActions","sap/fe/test/api/FormAssertions","sap/ui/core/Lib"],function(e,t,i,n,r,s,a,o,c,u,p,h,l,d,f){"use strict";function g(e,t){return t?"fe::table::"+e.split("/").join("::")+"::LineItem::"+t:"fe::table::"+e.split("/").join("::")+"::LineItem"}function m(e){return"fe::Chart::"+e+"::Chart"}function T(e,t){return o.create(e).hasId(t.id)}function x(e,t){return s.create(e).hasId(t.id)}function S(e,t){var n=s.create(e);if(r.isOfType(t,String)){n.hasType("sap.uxap.ObjectPageSubSection");n.hasProperties({title:t})}else if(t.fieldGroupId){n.hasId(t.fieldGroupId);if(t.fullSubSectionId){n.has(i.Matchers.ancestor(t.fullSubSectionId,false))}}else{n.hasId(t.id)}return n}function b(e,t){var n,a;if(!r.isOfType(e,String)){if(typeof e.section==="string"&&!e.subSection){a=e.section==="EditableHeaderSection"?"fe::"+e.section+"-anchor":t+"::"+e.section+"-anchor";n=i.Matchers.children(s.Matchers.id(new RegExp(r.formatMessage("{0}$",a))))}else{throw new Error("not supported section and subsection parameters for creating a control id: "+e.section+"/"+e.subSection)}}else{n=i.Matchers.children(s.Matchers.states({controlType:"sap.m.IconTabFilter",text:e}))}return n}function y(e,t){var i,n=e==="EditableHeaderSection"?"fe::"+e+"-anchor":t+"::"+e+"-anchor";i=s.Matchers.id(new RegExp(r.formatMessage("{0}$",n)));return i}function M(e){var t;t=s.Matchers.states({text:e});return t}function C(e,t){var n,a=t+"::"+e+"-anchor";n=i.Matchers.aggregationMatcher("items",s.Matchers.id(new RegExp(r.formatMessage("{0}$",a))));return n}function P(e,t){var i,n=t+"::"+e+"-anchor-expandIcon";i=s.Matchers.id(new RegExp(r.formatMessage("{0}$",n)));return i}function I(){var e;e=s.Matchers.id(new RegExp("fe::ObjectPage-anchBar-.+verflow$"));return e}function k(e,t){if(!e){throw new Error("vMenuAction parameter missing")}var i=t+"::"+e+"-anchor-unifiedmenu";return s.create().hasType("sap.m.MenuItem").hasId(new RegExp(r.formatMessage("{0}$",i))).doPress().description(r.formatMessage("Executing action '{0}' from currently open action menu",e))}function E(e,t,i,n){var a=s.create(e).hasType(n);if(r.isOfType(t,String)){a.hasProperties({title:t})}else if(t.section){a.hasId(i+"::"+t.section)}else{throw new Error("section or sub-section parameters not supported for creating a control id: "+t)}return a}function O(e,t,i){return E(e,t,i,"sap.uxap.ObjectPageSection")}function v(e,t,i){return E(e,t,i,"sap.uxap.ObjectPageSubSection")}function w(n,o){var b=n.appId,C=n.componentId,k=b+"::"+C,E=k+"--fe::ObjectPage",w="fe::HeaderFacet",L="fe::ObjectPage-OPHeaderContent",F=k+"--fe::HeaderContentContainer",B="fe::FooterBar::_fc",D="fe::FacetSection",_="fe::FacetSubSection",A="fe::Form",j="fe::FormContainer",N="fe::HeaderFacet::FormContainer",G=k+"--fe::Breadcrumbs",H="fe::ObjectPage-anchBar",V="fe::Paginator",R="EditableHeaderForm::EditableHeaderTitle",W={DISPLAY:"Display",EDITABLE:"Editable"},$=f.getResourceBundleFor("sap.fe.core"),Q=Array.prototype.slice.call(arguments,1);return t.apply(t,[k,{actions:{onTable:function(e){if(!r.isOfType(e,String)&&!e.id){e={id:g(e.property,e.qualifier)}}return this._onTable(e)},onChart:function(e){var t;if(e){t=!r.isOfType(e,String)?m(e.property):e}return this._onChart({id:t})},onFilterBar:function(e){var t=typeof e==="string"?{id:e}:e;return this._onFilterBar(t)},onFooter:function(){return new c(T(this,{id:B}),{id:B})},onHeader:function(){return new p(x(this,{id:E}),{id:E,headerId:w,headerContentId:L,headerContentContainerId:F,viewId:k,paginatorId:V,breadCrumbId:G})},onForm:function(e){if(!r.isOfType(e,String)){if(e.section){e.id=_+"::"+e.section;e.fullSubSectionId=k+"--"+e.id}if(e.fieldGroup){e.fieldGroupId=e.isHeaderFacet?N+"::"+e.fieldGroup:j+"::"+e.fieldGroup}}return new l(S(this,e),e)},iCollapseExpandPageHeader:function(e){return this._iCollapseExpandPageHeader(e)},iClickQuickViewMoreLinksButton:function(){return i.create(this).hasType("sap.m.Button").has(i.Matchers.resourceBundle("text","sap.ui.mdc","info.POPOVER_DEFINE_LINKS")).doPress().description("Pressing 'More Links' button").execute()},iClickQuickViewCancelButton:function(){return i.create(this).hasType("sap.m.Button").has(i.Matchers.resourceBundle("text","sap.ui.mdc","p13nDialog.CANCEL")).doPress().description("Pressing Quickview 'Cancel' button").execute()},iClickQuickViewTitleLink:function(e){return i.create(this).hasType("sap.m.Link").isDialogElement(true).hasProperties({text:e}).doPress().description("Navigating via quickview title link '"+e+"'").execute()},iClickLinkWithText:function(e){return i.create(this).hasType("sap.m.Link").hasProperties({text:e}).doPress().description("Navigating via link '"+e+"'").execute()},iClickObjectStatus:function(e){return i.create(this).hasType("sap.m.ObjectStatus").hasProperties({text:e}).doPress().description("Press Object Status '"+e+"'").execute()},iCheckLinksCount:function(e){return i.create(this).hasType("sap.m.ColumnListItem").check(function(t){if(t.length===e){return true}else{return false}},true).description("Seeing QuickView Card with "+e+" target applications in ObjectPage").execute()},iEnableLink:function(e){var t=s.Matchers.deepAggregationMatcher("cells/items/items",[i.Matchers.properties({text:e})]);return i.create(this).hasType("sap.m.ColumnListItem").has(t).doPress("selectMulti").description("The CheckBox for link "+e+" is selected").execute()},iPressKeyboardShortcutOnSection:function(e,t){return this._iPressKeyboardShortcut(undefined,e,t,"sap.uxap.ObjectPageSection")},iGoToSection:function(e){var t=function(e,t){var i=t+"::"+e+"-anchor-expandIcon";s.create(this).hasId(new RegExp(r.formatMessage("{0}$",i))).doPress().description(r.formatMessage("Pressing drop-down icon for section '{0}'",e)).execute()},n=function(e,i){s.create(this).hasType("sap.ui.core.Icon").doConditional(P(e,i),function(n){t(e,i)}).description(r.formatMessage("Checking for section icon '{0}'",e)).execute()},a=function(e,t){var i=t+"::"+e+"-anchor-__clone";s.create(this).hasId(new RegExp(r.formatMessage("{0}.+",i))).doPress().description(r.formatMessage("Pressing sub-section by id: '{0}'",e)).execute()},o=function(e){var t="fe::"+e;s.create(this).hasType("sap.m.IconTabFilter").hasId(new RegExp(r.formatMessage("{0}.+",t))).doPress().description("Pressing editable header section").execute()},c=function(e){i.create(this).hasType("sap.m.IconTabFilter").hasProperties({text:e}).doPress().description(r.formatMessage("Pressing section by text: '{0}'",e)).execute()},u=function(){i.create(this).hasType("sap.m.IconTabFilter").hasId(new RegExp("fe::ObjectPage-anchBar-.+verflow$")).doPress().description("Pressing Overflow button").execute()};var p;if(r.isOfType(e,Object)){p=y(e.section,D)}else{p=M(e)}var h=false,l=false;return i.create(this).hasType("sap.m.IconTabFilter").doConditional(p,function(i){if(!l){if(r.isOfType(e,Object)){if(e.section==="EditableHeaderSection"){o(e.section)}else{t(e.section,D);a(e.subSection,_)}}else{c(e)}h=true}}).doConditional(I(),function(t){if(!h){u();if(r.isOfType(e,Object)){if(e.section==="EditableHeaderSection"){o(e.section)}else{n(e.section,D);a(e.subSection,_)}}else{c(e)}l=true}}).description("Switching section anchorBar").execute()},iOpenSectionWithTitle:function(e){return i.create(this).timeout(1).check(function(){return false}).error("Test function iOpenSectionWithTitle() is deprecated - please use function iGoToSection() with the same parameters").execute()},iClickOnSectionWithTitle:function(e){i.create(this).hasType("sap.m.IconTabFilter").hasProperties({text:e}).doPress().description(r.formatMessage("Clicking section with title: '{0}'",e)).execute()},iEnterValueForFieldInEditableHeader:function(e){return a.create(this).hasId(k+"--fe::"+R).doEnterText(e).description("Entering '"+e+" in field ").execute()},iClickOnMessageButton:function(){return i.create(this).hasType("sap.fe.macros.messages.MessageButton").doPress().description("Clicked on Message Button").execute()},iCheckMessageButtonTooltip:function(e){return i.create(this).hasType("sap.fe.macros.messages.MessageButton").check(function(t){return t[0].getTooltip()===e},true).description("Checking tooltip of MessageButton").execute()},iClickOnMessage:function(e){return i.create(this).hasType("sap.m.MessageListItem").hasProperties({title:e.MessageText}).isDialogElement(true).description("MessageItem with correct text and group label").doOnChildren(i.create(this).hasType("sap.m.Link").hasProperties({text:e.MessageText}).doPress().description("Click on the message")).execute()},iClickBackOnMessageView:function(){return i.create(this).hasType("sap.m.MessageView").isDialogElement(true).doOnChildren(i.create(this).hasType("sap.m.Button").hasProperties({icon:"sap-icon://nav-back"}).doPress().description("Click on the message view back")).execute()}},assertions:{onTable:function(e){if(!r.isOfType(e,String)&&!e.id){e={id:g(e.property,e.qualifier)}}return this._onTable(e)},onChart:function(e){var t;if(e){t=!r.isOfType(e,String)?m(e.property):e}return this._onChart({id:t})},onFilterBar:function(e){var t=typeof e==="string"?{id:e}:e;return this._onFilterBar(t)},onFooter:function(){return new u(T(this,{id:B}),{id:B})},onHeader:function(){return new h(x(this,{id:E}),{id:E,headerId:w,headerContentId:L,headerContentContainerId:F,viewId:k,paginatorId:V,breadCrumbId:G})},onForm:function(e){if(!r.isOfType(e,String)){if(e.section){e.id=_+"::"+e.section;e.fullSubSectionId=k+"--"+e.id}if(e.fieldGroup){e.fieldGroupId=e.isHeaderFacet?N+"::"+e.fieldGroup:j+"::"+e.fieldGroup}}return new d(S(this,e),e)},iSeeMessageButton:function(e,t){var n={Error:{type:"Negative"},Warning:{type:"Critical"},Information:{type:"Neutral"}};return i.create(this).hasType("sap.fe.macros.messages.MessageButton").hasProperties({text:t,type:n[e]["type"]}).description("Messagebutton is visible with "+n[e]["type"]+" button type").execute()},iSeeLinkWithText:function(e){return i.create(this).hasType("sap.m.Link").hasProperties({text:e}).description("Seeing link with text '"+e+"'").execute()},iSeeTextWithText:function(e){return i.create(this).hasType("sap.m.Text").hasProperties({text:e}).description("Seeing Text with text '"+e+"'").execute()},iSeeBetterLinkWithText:function(e){return i.create(this).hasType("sap.fe.macros.controls.TextLink").hasProperties({text:e}).description("Seeing Text with text '"+e+"'").execute()},iSeeTitleWithText:function(e){return i.create(this).hasType("sap.m.Title").hasProperties({text:e}).description("Seeing Title with text '"+e+"'").execute()},iSeeContactDetailsPopover:function(e){return i.create(this).hasType("sap.ui.mdc.link.Panel").description("Contact card with title '"+e+"' is present").execute()},iSeeContactPopoverWithAvatarImage:function(e){return i.create(this).hasType("sap.ui.mdc.link.Panel").check(function(t){var i=t.some(function(t){return t.src===e});return i===false},true).description("Seeing Contact Card with Avatar Image in ObjectPage").execute()},iSeeQuickViewMoreLinksButton:function(){return i.create(this).isDialogElement(true).hasType("sap.m.Button").has(i.Matchers.resourceBundle("text","sap.ui.mdc","info.POPOVER_DEFINE_LINKS")).description("The 'More Links' button found").execute()},iSeeObjectPageInDisplayMode:function(){return this._iSeeObjectPageInMode(W.DISPLAY)},iSeeObjectPageInEditMode:function(){return this._iSeeObjectPageInMode(W.EDITABLE)},_iSeeObjectPageInMode:function(e){return i.create(this).hasId(k).viewId(null).has(function(t){return t.getModel("ui").getProperty("/editMode")===e}).description("Object Page is in mode '"+e+"'").execute()},iCheckSection:function(e,t){var i=O(this,e,D);return i.hasState(t).description(r.formatMessage("Checking section '{0}' having state='{1}'",e,t)).execute()},iSeeSectionWithTitle:function(e){return this.iCheckSection(e,{visible:true})},iCheckNumberOfSections:function(e){return s.create(this).hasId(H).hasAggregationLength("items",e).description(r.formatMessage("Object Page contains the expected number of {0} sections",e)).execute()},iCheckSubSection:function(e,t){var i=v(this,e,_);return i.hasState(t).description(r.formatMessage("Checking sub-section '{0}' having state='{1}'",e,t)).execute()},iSeeSubSectionWithTitle:function(e){return this.iCheckSubSection(e,{visible:true})},iSeeSectionButtonWithTitle:function(t,n){return s.create(this).hasId(H).has(i.Matchers.children(s.Matchers.states(e({},{controlType:"sap.m.Button",text:t},n)))).description(r.formatMessage("Seeing section button with title '{0}' and state='{1}'",t,n)).execute()},iSeeFlpLink:function(e){return i.create(this).hasType("sap.m.Link").isDialogElement(true).hasProperties({text:e}).description("FLP link with text '"+e+"' is present").execute()},iSeeLabel:function(e){return i.create(this).hasType("sap.m.Label").hasProperties({text:e}).description("Label '"+e+"' is present").execute()},iSeeSimpleFormWithLabel:function(e){return i.create(this).hasType("sap.m.Label").isDialogElement(true).hasProperties({text:e}).description("SimpleForm has label '"+e+"' is present").execute()},iSeeSimpleFormWithText:function(e){return i.create(this).hasType("sap.ui.layout.form.SimpleForm").isDialogElement(true).doOnChildren(i.create(this).hasType("sap.m.Text").hasProperties({text:e})).description("SimpleForm has text '"+e+"' is present").execute()},iSeeSimpleFormWithLink:function(e){return i.create(this).hasType("sap.ui.layout.form.SimpleForm").isDialogElement(true).doOnChildren(i.create(this).hasType("sap.m.Link").hasProperties({text:e})).description("SimpleForm has link '"+e+"' is present").execute()},iSeeSimpleFormWithTitle:function(e){return i.create(this).hasSome(s.Matchers.state("controlType","sap.m.Title"),s.Matchers.state("controlType","sap.ui.core.Title")).isDialogElement(true).hasProperties({text:e}).description("SimpleForm has label '"+e+"' is present").execute()},iSeeGridWithLabel:function(e){return i.create(this).hasType("sap.ui.layout.Grid").isDialogElement(true).doOnChildren(i.create(this).hasType("sap.m.Label").hasProperties({text:e})).description("Grid Layout has label '"+e+"' is present").execute()},iSeeSelectLinksDialog:function(){return i.create(this).hasType("sap.m.Title").isDialogElement(true).has(i.Matchers.resourceBundle("text","sap.ui.mdc","info.SELECTION_DIALOG_ALIGNEDTITLE")).description("Seeing dialog open").execute()},iDoNotSeeFlpLink:function(e){return i.create(this).hasType("sap.m.Link").isDialogElement(true).check(function(t){var i=t.some(function(t){return t.getText()===e});return i===false},true).description("FLP link with text '"+e+"' is not found").execute()},iSeeTextInQuickViewForm:function(e){return i.create(this).hasType("sap.m.Text").isDialogElement(true).hasProperties({text:e}).description("Seeing label with text '"+e+"'").execute()},iSeeCreateConfirmation:function(){return this._iSeeTheMessageToast($.getText("C_TRANSACTION_HELPER_OBJECT_CREATED"))},iSeeSaveConfirmation:function(){return this._iSeeTheMessageToast($.getText("C_TRANSACTION_HELPER_OBJECT_SAVED"))},iSeeDeleteConfirmation:function(){return this._iSeeTheMessageToast($.getText("C_TRANSACTION_HELPER_DELETE_TOAST_SINGULAR"))},iSeeConfirmMessageBoxWithTitle:function(e){return i.create(this).hasType("sap.m.Dialog").isDialogElement(true).hasProperties({title:e}).description("Seeing Message dialog open").execute()},iSeeMoreFormContent:function(e){return i.create(this).hasId(A+"::"+e+"::MoreContent").description("Seeing More Form Content in "+e).execute()},iDoNotSeeMoreFormContent:function(e){return i.create(this).hasType("sap.ui.layout.form.Form").check(function(t){var i=t.some(function(t){return t.getId().includes(e+"::MoreContent")});return i===false}).description("Not Seeing More Form Content in "+e).execute()},iSeeControlVMTableTitle:function(e,t){return i.create(this).hasType("sap.m.Title").hasId(g(t)+"::VM-vm-text").hasProperties({text:e}).description("Seeing variant title '"+e+"'").execute()},iSeeMessageView:function(){return i.create(this).hasType("sap.m.MessageView").isDialogElement(true).description("MessageView is visible").execute()},iCheckMessageItemsOrder:function(e){return i.create(this).hasType("sap.m.MessageView").check(function(t){var i=t[0].getItems();var n=[];if(e instanceof Array){n=e}else{Object.keys(e).forEach(function(t){n.push(e[t])})}return i[0].getGroupName()===n[0].GroupLabel&&i[1].getGroupName()===n[1].GroupLabel&&i[0].getTitle()===n[0].MessageText&&i[1].getTitle()===n[1].MessageText},true).isDialogElement(true).description("MessageItems are correctly ordered").execute()},iCheckMessageItemProperties:function(e,t){return i.create(this).hasType("sap.m.MessageView").check(function(i){var n=i[0].getItems();var r=n[t].getGroupName()===e.GroupLabel&&n[t].getTitle()===e.MessageText&&n[t].getSubtitle()===e.SubTitle&&n[t].getActiveTitle()===e.ActiveTitle;if(e.Description){return r&&n[t].getGroupName()===e.GroupLabel}return r},true).isDialogElement(true).description("MessageItem is correctly displayed").execute()},iCheckVisibilityOfButtonWithText:function(e,t){return i.create(this).hasType("sap.m.Button").mustBeVisible(t).hasProperties({text:e,visible:t}).description("Button '"+e+"' is "+(t?"visible":"NOT visible")).execute()},iCheckFieldVisibilityInMassEditDialog:function(e,t){return i.create(this).isDialogElement().hasType("sap.m.ComboBox").check(function(i){var n=i.some(function(t){return t.getId()===e});return n===t}).description("Checking visibility of field in mass edit dialog").execute()}}}].concat(Q))}return w});
/*!
 * 
		SAP UI development toolkit for HTML5 (SAPUI5)
        (c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.predefine("sap/fe/test/Shell", ["sap/ui/test/OpaBuilder","sap/ui/test/Opa5","sap/fe/test/Utils","sap/ui/test/actions/Press"],function(e,t,i,n){"use strict";function a(e,t){var i=e,n=false;do{if(i.getTargetURL){n=i.getTargetURL()===t}if(!n){i=i.getParent()}}while(!n&&!(i.isA("sap.f.GridContainer")||i.isA("sap.ushell.ui.launchpad.TileContainer")));return n}function r(r){r=Array.isArray(arguments[0])?arguments[0]:Array.prototype.slice.call(arguments,0);return i.mergeObjects.apply(i,[{actions:{iNavigateBack:function(){return e.create(this).hasId("backBtn").doPress().description("Navigating back via shell").execute()},iNavigateHome:function(){return e.create(this).hasId("shell-header").do(function(){var e=t.getWindow();e.document.getElementById("shell-header-logo").click()}).description("Pressing Home button in Shell header").execute()},iOpenNavigationMenu:function(t){return e.create(this).pollingInterval(1e3).hasId("shellAppTitle").has(function(e){return t?e.getText()===t:true}).doPress().description("Expanding Shell Navigation Menu").execute()},iNavigateViaMenu:function(t){return e.create(this).hasId("sapUshellNavHierarchyItems").doOnAggregation("items",e.Matchers.properties({title:t}),e.Actions.press()).description(i.formatMessage("Navigating to '{0}' via Shell Navigation Menu",t)).execute()},iPressTile:function(e){return this.waitFor({controlType:"sap.m.GenericTile",matchers:function(t){return a(t,"#"+e)},actions:new n,success:function(){t.assert.ok(true,i.formatMessage("Clicking on tile with target '{0}'",e))},errorMessage:"Could not find the tile"})},iOpenDefaultValues:function(){return e.create(this).hasId("userActionsMenuHeaderButton").doPress().description("Opening FLP Default Values dialog").execute()},iEnterAValueForUserDefaults:function(t,i){return e.create(this).hasProperties({name:t.field}).isDialogElement().doEnterText(i).description("Entering text in the field '"+t.field+"' with value '"+t+"'").execute()},iSelectAListItem:function(t){return e.create(this).hasType("sap.m.StandardListItem").hasProperties({title:t}).doPress().description("Selecting item: "+t).execute()},iLaunchExtendedParameterDialog:function(){return e.create(this).hasType("sap.m.Button").isDialogElement().hasProperties({text:"Additional Values"}).doPress().description("Launching Extended Parameter Dialog").execute()},iClickOnButtonWithText:function(t){return e.create(this).hasType("sap.m.Button").hasProperties({text:t}).doPress().description("Clicking on button with text: "+t).execute()},iClickOnButtonWithIcon:function(t){return e.create(this).hasType("sap.m.Button").hasProperties({icon:"sap-icon://"+t}).doPress().description("Clicking on button with icon: "+t).execute()}},assertions:{iSeeFlpDashboard:function(){return e.create(this).hasId("mainShell").description("Seeing FLP Dashboard").execute()},iShouldSeeTheAppTile:function(t){return e.create(this).hasType("sap.m.GenericTile").check(function(e){var i=false;e.forEach(function(e){if(a(e,t)){i=true}});return i}).description("Seeing Tile "+t).execute()},iSeeNavigateBack:function(){return e.create(this).hasId("backBtn").description("I see the back navigation button").execute()},iSeeShellNavHierarchyItem:function(t,n,a,r){return e.create(this).viewId(null).hasId("backBtn").hasId("sapUshellNavHierarchyItems").hasAggregationLength("items",a).has(e.Matchers.aggregationAtIndex("items",n-1)).hasProperties({title:t,description:r}).description(i.formatMessage("Checking Navigation Hierarchy Items ({2}): Name={0}, Position={1}, Description={3}",t,n,a,r)).execute()},iSeeShellAppTitle:function(t){return e.create(this).viewId(null).hasId("shellAppTitle").hasProperties({text:t}).description(t+" is the Shell App Title").execute()},iCheckIntentBasedNavigation:function(i,n,a){function r(e,t){try{t.forEach(function(t){if(e.hasOwnProperty(t.property)){if(e[t.property][0]!==t.value){throw"input parameter not equal to actual URL parameter"}}else{throw"input parameter not found in URL"}});return true}catch(e){return false}}return e.create(this).check(function(){var e=t.getWindow().sap.ushell.Container.getService("URLParsing").parseShellHash(t.getWindow().document.location.hash);if(e.semanticObject===i&&e.action===n){return!a||r(e.params,a)?true:false}else{return false}}).error(function(){var e=t.getWindow().document.location.hash,r="Expected properties/values: ";t.assert.ok(false,"Current hash value: "+e);t.assert.ok(false,"Expected semantic object: "+i);t.assert.ok(false,"Expected action: "+n);if(a){a.forEach(function(e){r=r+e.property+"="+e.value+","});t.assert.ok(false,r)}}).success("Navigation successful. SemanticObject: "+i+", Action: "+n+" and all URL parameters are valid.").execute()}}}].concat(r))}return r});
/*!
 * 
		SAP UI development toolkit for HTML5 (SAPUI5)
        (c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.predefine("sap/fe/test/Stubs", [],function(){"use strict";var s={prepareStubs:function(s){if(!s.sapFEStubs){s.sapFEStubs={}}},stubAll:function(s){this.stubConfirm(s);this.stubMessageToast(s);this.stubMisc(s)},restoreAll:function(s){this.restoreConfirm(s);this.restoreMessageToast(s);this.restoreMisc(s)},stubConfirm:function(e){s.prepareStubs(e);e.sapFEStubs._confirmOriginal=e.confirm;e.confirm=function(s){throw"Unexpected confirm dialog - "+s}},restoreConfirm:function(s){if(!s.sapFEStubs||!s.sapFEStubs._confirmOriginal){return}s.confirm=s.sapFEStubs._confirmOriginal;delete s.sapFEStubs._confirmOriginal},stubMessageToast:function(e){s.prepareStubs(e);e.sap.ui.require(["sap/m/MessageToast"],s=>{e.sapFEStubs._sapMMessageToastShowOriginal=s.show;e.sapFEStubs.setLastToastMessage=function(s){e.sapFEStubs._sapMMessageToastLastMessage=s};e.sapFEStubs.getLastToastMessage=function(){return e.sapFEStubs._sapMMessageToastLastMessage};s.show=function(s){e.sapFEStubs.setLastToastMessage(s);return e.sapFEStubs._sapMMessageToastShowOriginal.apply(this,arguments)}})},restoreMessageToast:function(s){if(!s.sapFEStubs||!s.sapFEStubs._sapMMessageToastShowOriginal){return}s.sap.ui.require(["sap/m/MessageToast"],e=>{e.show=s.sapFEStubs._sapMMessageToastShowOriginal;delete s.sapFEStubs._sapMMessageToastShowOriginal;delete s.sapFEStubs._sapMMessageToastLastMessage;delete s.sapFEStubs.setLastToastMessage;delete s.sapFEStubs.getLastToastMessage})},stubMisc:function(e){s.prepareStubs(e);e.sap.ui.require(["sap/ui/table/CreationRow"],function(s){e.sapFEStubs._sapUiTableCreationRowOnSapEnter=s.prototype.onsapenter;delete s.prototype.onsapenter})},restoreMisc:function(s){if(!s.sapFEStubs||!s.sapFEStubs._sapUiTableCreationRowOnSapEnter){return}var e=s.sap.ui.require("sap/ui/table/CreationRow");e.prototype.onsapenter=s.sapFEStubs._sapUiTableCreationRowOnSapEnter;delete s.sapFEStubs._sapUiTableCreationRowOnSapEnter}};return s});
/*!
 * 
		SAP UI development toolkit for HTML5 (SAPUI5)
        (c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.predefine("sap/fe/test/TemplatePage", ["sap/ui/test/OpaBuilder","sap/ui/test/Opa5","sap/ui/core/util/ShortcutHelper","sap/fe/test/Utils","sap/fe/test/builder/FEBuilder","sap/fe/test/builder/MdcFieldBuilder","sap/fe/test/builder/MacroFieldBuilder","sap/fe/test/builder/MdcTableBuilder","sap/fe/test/builder/DialogBuilder","sap/fe/test/api/DialogType","sap/fe/test/api/DialogActions","sap/fe/test/api/DialogAssertions","sap/fe/test/api/DialogMessageActions","sap/fe/test/api/DialogMessageAssertions","sap/fe/test/api/DialogValueHelpActions","sap/fe/test/api/DialogValueHelpAssertions","sap/fe/test/api/DialogCreateActions","sap/fe/test/api/DialogCreateAssertions","sap/fe/test/api/DialogMassEditActions","sap/fe/test/api/DialogMassEditAssertions","sap/fe/test/api/TableAssertions","sap/fe/test/api/TableActions","sap/fe/test/api/ChartAssertions","sap/fe/test/api/ChartActions","sap/fe/test/builder/MdcFilterBarBuilder","sap/fe/test/api/FilterBarAssertions","sap/fe/test/api/FilterBarActions","sap/base/util/deepEqual","sap/ushell/resources"],function(e,t,i,s,r,a,n,o,c,u,l,p,h,d,f,g,T,P,m,w,S,A,D,E,x,y,B,O,v){"use strict";function M(e,t){var i=o.create(e);if(s.isOfType(t,String)){i.hasProperties({header:t})}else{i.hasId(t.id)}return i}function b(e,t){return x.create(e).hasId(t.id)}function _(e,t,i){if(s.isOfType(t,String,true)){t={type:u.Confirmation,title:t}}var a=c.create(e);switch(t.type){case u.ValueHelp:if(t.property){a.has(r.Matchers.id(RegExp(s.formatMessage("::FieldValueHelp::{0}-dialog$",t.property.replaceAll("/","::")))))}return i?new f(a,t):new g(a,t);case u.Error:a.hasProperties({icon:"sap-icon://error",title:"Error"});return i?new l(a,t):new p(a,t);case u.Message:return i?new h(a,t):new d(a,t);case u.Create:return i?new T(a,t):new P(a,t);case u.MassEdit:return i?new m(a,t):new w(a,t);default:return i?new l(a,t):new p(a,t)}}function C(){var e={};Object.keys(u).forEach(function(t){e["on"+t+"Dialog"]=function(){return this.onDialog({type:t})}});return e}function k(t,a){var n=s.isOfType(t,String)?t:t.viewId,o=Array.prototype.slice.call(arguments,1);return s.mergeObjects.apply(s,[{viewId:n,actions:s.mergeObjects({_onTable:function(e){return new A(M(this,e),e)},_onChart:function(e){return new E(r,e)},_onFilterBar:function(e){return new B(b(this,e),e)},onDialog:function(e){return _(this,e,true)},iOpenVHOnActionDialog:function(t){var i="APD_::"+t+"-inner-vhi";return e.create(this).hasId(i).isDialogElement().doPress().description("Opening value help for '"+t+"'").execute()},_iPressKeyboardShortcut:function(t,s,r,a){return e.create(this).hasId(t).hasProperties(r?r:{}).hasType(a).do(function(e){var t=i.parseShortcut(s);t.type="keydown";e.$().trigger(t)}).description("Execute keyboard shortcut "+s).execute()},_iCollapseExpandPageHeader:function(t){var i=e.Matchers.resourceBundle("tooltip","sap.f","COLLAPSE_HEADER_BUTTON_TOOLTIP"),r=e.Matchers.resourceBundle("tooltip","sap.f","EXPAND_HEADER_BUTTON_TOOLTIP");return e.create(this).hasType("sap.m.Button").has(e.Matchers.some(i,r)).doConditional(t?i:r,e.Actions.press()).description(s.formatMessage("{0} the current Page Header",t?"Collapsing":"Expanding")).execute()}},C()),assertions:s.mergeObjects({_onTable:function(e){return new S(M(this,e),e)},_onChart:function(e){return new D(r,e)},_onFilterBar:function(e){return new y(b(this,e),e)},onDialog:function(e){return _(this,e,false)},iSeeThisPage:function(){return e.create(this).hasId(n).do(function(e){var t=e.getParent().oContainer;var i=t;do{i=i.getParent()}while(!i.isA("sap.ui.core.mvc.XMLView"));this.oPlaceholder=i.getController().oPlaceholder}.bind(this)).viewId(null).viewName(null).description(s.formatMessage("Seeing the page '{0}'",n)).execute()},iResetPlaceholderStatistics:function(){return e.create(this).do(function(){this.oPlaceholder.resetPlaceholderDebugStats()}.bind(this)).description("Placeholder reset statistics").execute()},iCheckPlaceholderStatistics:function(t){var i={pageReady:"iPageReadyEventTimestamp",heroesBatchReceived:"iHeroesBatchReceivedEventTimestamp"};return e.create(this).check(function(){var e=this.oPlaceholder.getPlaceholderDebugStats();var s=i[t];if(e.iHidePlaceholderTimestamp-e[s]<10){return true}else{return false}}.bind(this)).description("Placeholder statistics are correct").execute()},iSeeFilterDefinedOnActionDialogValueHelp:function(t,i,s,r){return e.create(this).hasId(t+"::"+i+"::FilterBar::FilterField::"+s+"-inner").isDialogElement().hasAggregationProperties("tokens",{text:r}).description("Seeing filter for '"+s+"' set to '"+r+"'").execute()},_iSeeTheMessageToast:function(e){return r.createMessageToastBuilder(e).execute(this)},_iSeeButtonWithText:function(e,t){return r.create(this).hasType("sap.m.Button").hasProperties({text:e}).hasState(t).checkNumberOfMatches(1).description(s.formatMessage("Seeing Button with text '{0}'"+(t?" with state: '{1}'":""),e,t)).execute()},iSeePageHeaderButton:function(t){return e.create(this).hasType("sap.m.Button").has(e.Matchers.resourceBundle("tooltip","sap.f",t?"COLLAPSE_HEADER_BUTTON_TOOLTIP":"EXPAND_HEADER_BUTTON_TOOLTIP")).description("Seeing the "+(t?"Collapse":"Expand")+" Page Header Button").execute()},iSeeTileCreationMessage:function(){return this._iSeeTheMessageToast(v.i18n.getText("tile_created_msg"))},iSeeMessageStrip:function(t){return e.create(this).hasType("sap.m.MessageStrip").hasProperties(t).description(s.formatMessage("Seeing message strip with properties='{0}'",t)).execute()},iSeeAnalyticalPopover:function(t){return e.create(this).hasType("sap.m.Popover").isDialogElement(true).hasProperties({title:t}).description("Seeing Analytical Popover with title "+t).execute()},iSeeListOfCurrenciesWithValues:function(t){return e.create(this).isDialogElement().hasType("sap.m.CustomListItem").hasChildren(e.create(this).hasType("sap.m.Text").has(function(e){if(e.getText()===t){return true}else{return false}}),false).description("Checking content of currencies list: '"+t+"' is found").execute()},iSeeQuickViewPopover:function(){return e.create(this).hasType("sap.ui.mdc.link.Panel").description("Seeing Quick View Popover").execute()},iSeeQuickViewTitleLink:function(t){return e.create(this).hasType("sap.m.Link").isDialogElement(true).hasProperties({text:t}).description("QuickView Title link with text '"+t+"' is found").execute()},iSeeQuickViewTitleWithLabel:function(t){return e.create(this).hasType("sap.m.Title").isDialogElement(true).hasProperties({text:t}).description("QuickView Title label with text '"+t+"' is found").execute()}},C())}].concat(o))}return k});
/*!
 * 
		SAP UI development toolkit for HTML5 (SAPUI5)
        (c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.predefine("sap/fe/test/TemplatingTestUtils", ["sap/ui/model/odata/v4/ODataMetaModel","sap/ui/core/util/XMLPreprocessor","sap/ui/core/XMLTemplateProcessor","sap/fe/macros/macroLibrary","sap/fe/core/TemplateModel","sap/ui/base/Object"],function(e,t,n,i,s,r){"use strict";function o(o,a,c,u,f,l,d){var m="./test/",p={read:function(){return Promise.resolve(c)},mHeaders:{}},b=new e(p,m+"$metadata",undefined,null);i.unregister();if(f){i.register()}function g(e,n,i,o){var a={models:Object.assign({},o),bindingContexts:{}};Object.keys(i).forEach(function(t){var n=o[t]||b;if(!r.isObjectA(n,"sap.ui.model.Model")&&!r.isObjectA(n,"sap.ui.model.odata.v4.ODataMetaModel")){n=new s(n,b)}e.ok(typeof n.getObject(i[t])!=="undefined",t+": "+i[t]+" exists");a.bindingContexts[t]=n.createBindingContext(i[t]);a.models[t]=n});if(a.models["this"]){a.bindingContexts["this"]=a.models["this"].createBindingContext("/")}return Promise.resolve(t.process(n,{},a))}o.module("Smoke Tests for "+a);o.test("Check if metadata is available",function(e){return Promise.all([b.requestObject("/").then(function(t){e.ok(t,"Entity Container found")}),b.requestObject("/$").then(function(t){e.ok(t,"Metadata Document found")})])});var h;function O(e){e.fileType=e.fileType||"fragment";o.module("Tests for "+a+" against "+e.fileType+" "+e.sFragmentName+(e.sDescription?" ("+e.sDescription+")":""),{beforeEach:function(){if(l){h=d.stub(l,"getText").callsFake(function(e){if(e==="T_NEW_OBJECT"){return"New Object"}else{return"Unnamed Object"}})}},afterEach:function(){if(h){h.restore()}}});e.tests.forEach(function(t,i){o.test(t.description||"Test "+e.fileType+" scope: "+i,function(i){return b.requestObject("/$").then(function(){return n.loadTemplatePromise(e.sFragmentName,e.fileType)}).then(function(n){return g(i,n,t.mBindingContexts,Object.assign({},e.mModels,t.mModels))}).then(function(e){var n=[].filter.call(e.ownerDocument.querySelectorAll("*"),o),s,r=0;function o(e){return e.getAttribute("unittest:id")!==null}function a(e,t,n){function s(s){if(t[s]===undefined){i.ok(!e.hasAttribute(s),'unittest:id="'+n+"\": attribute '"+s+"' is expected not to be rendered")}else{var r=e.getAttribute(s);i.strictEqual(r,t[s],'unittest:id="'+n+"\": attribute '"+s+"' properly created as "+r)}}if(t){r++;Object.keys(t).forEach(s)}}n.forEach(c);function c(e){s=e.getAttribute("unittest:id");a(e,t.oExpectedResultsPerTest[s],s)}i.equal(r,Object.keys(t.oExpectedResultsPerTest).length,"All tests have been executed for this test case")}).catch(function(e){var n=t.sExpectedException;if(e&&n){i.strictEqual(e.message||e,n,"expected exception occurred: "+n)}else{throw e}})})})}u.forEach(O)}return{testFragments:o}});
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/test/UI5MockHelper", ["@sap-ux/jest-mock-ui5/dist/generic","sap/fe/core/AppComponent","sap/fe/core/ResourceModel","sap/fe/core/controllerextensions/CollaborativeDraft","sap/fe/core/controllerextensions/EditFlow","sap/fe/core/controllerextensions/InternalIntentBasedNavigation","sap/fe/core/controllerextensions/InternalRouting","sap/fe/core/controllerextensions/MessageHandler","sap/fe/core/controllerextensions/Recommendations","sap/fe/core/controllerextensions/Share","sap/fe/core/controllerextensions/SideEffects","sap/ui/base/Event","sap/ui/core/mvc/Controller","sap/ui/core/mvc/View","sap/ui/model/CompositeBinding","sap/ui/model/odata/v4/Context","sap/ui/model/odata/v4/ODataContextBinding","sap/ui/model/odata/v4/ODataListBinding","sap/ui/model/odata/v4/ODataMetaModel","sap/ui/model/odata/v4/ODataModel","sap/ui/model/odata/v4/ODataPropertyBinding"],function(e,t,o,n,c,a,m,i,l,r,s,k,d,p,u,g,M,x,f,I,C){"use strict";var _={};var v=e.mock;function B(e,t,o){const n=v(Object.getPrototypeOf(g.createNewContext(null,null,"/e")));n._isKeptAlive=false;n._contextData=e||{};n._oBinding=t;n._isInactive=!!o;n.mock.isA.mockImplementation(e=>e==="sap.ui.model.odata.v4.Context");n.mock.getProperty.mockImplementation(e=>n._contextData[e]);n.mock.requestProperty.mockImplementation(e=>{if(Array.isArray(e)){return Promise.resolve(e.map(e=>n._contextData[e]))}return Promise.resolve(n._contextData[e])});n.mock.requestObject.mockImplementation(e=>e?Promise.resolve(n._contextData[e]):n._contextData);n.mock.setProperty.mockImplementation((e,t)=>{n._contextData[e]=t;return n._contextData[e]});n.mock.getObject.mockImplementation(e=>{let t=e?n._contextData[e]:n._contextData;if(!t&&e&&e.includes("/")){const o=e.split("/");t=o.reduce((e,t)=>{e=t&&e?e[t]:e;return e},n._contextData)}return t});n.mock.getPath.mockImplementation(()=>n._contextData["$path"]);n.mock.getBinding.mockImplementation(()=>n._oBinding);n.mock.getModel.mockImplementation(()=>n._oBinding?.getModel());n.mock.setKeepAlive.mockImplementation((e,t,o)=>{n._isKeptAlive=e});n.mock.isKeepAlive.mockImplementation(()=>n._isKeptAlive);n.mock.isInactive.mockImplementation(()=>n._isInactive);return n}_.createMockContext=B;const D=B;_.MockContext=D;function V(e,t){const o=v(k);o._params=e||{};if(t){o.mock.getSource.mockReturnValue(t)}o.mock.getParameter.mockImplementation(e=>o._params[e]);o.mock.getParameters.mockImplementation(()=>o._params);return o}_.createMockEvent=V;const A=V;_.MockEvent=A;function P(e,t){const o=v(x);e=e||[];o._aMockContexts=e.map(e=>B(e,o));o._mockModel=t;o.setModel=e=>{o._mockModel=e};o.mock.isA.mockImplementation(e=>e==="sap.ui.model.odata.v4.ODataListBinding");o.mock.requestContexts.mockImplementation(()=>Promise.resolve(o._aMockContexts));o.mock.getCurrentContexts.mockImplementation(()=>o._aMockContexts);o.mock.getAllCurrentContexts.mockImplementation(()=>o._aMockContexts);o.mock.getLength.mockImplementation(()=>o._aMockContexts.length);o.mock.getContexts.mockImplementation(()=>o._aMockContexts);o.mock.getModel.mockImplementation(()=>o._mockModel);o.mock.getUpdateGroupId.mockReturnValue("auto");return o}_.createMockListBinding=P;const b=P;_.MockListBinding=b;function h(e,t,o){const n=v(C);n._mockModel=o;n._value=e;n._path=t;n.mock.isA.mockImplementation(e=>e==="sap.ui.model.odata.v4.ODataPropertyBinding");n.mock.getModel.mockImplementation(()=>n._mockModel);n.mock.getValue.mockImplementation(()=>n._value);n.mock.getPath.mockImplementation(()=>n._path);return n}_.createMockPropertyBinding=h;const O=h;_.MockPropertyBinding=O;function R(e){const t=v(u);t._aBindings=e;t.mock.isA.mockImplementation(e=>e==="sap.ui.model.CompositeBinding");t.mock.getBindings.mockImplementation(()=>t._aBindings);t.mock.getValue.mockImplementation(()=>t._aBindings.map(e=>e.getValue()));return t}_.createMockCompositeBinding=R;const w=R;_.MockCompositeBinding=w;function y(e,t){const o=v(M);o.mockModel=t;o.oMockContext=B(e||{},o);o.getInternalMockContext=()=>o.oMockContext;o.setModel=e=>{o.mockModel=e};o.mock.isA.mockImplementation(e=>e==="sap.ui.model.odata.v4.ODataContextBinding");o.mock.getBoundContext.mockImplementation(()=>o.oMockContext);o.mock.getModel.mockImplementation(()=>o.mockModel);o.mock.invoke.mockResolvedValue(true);return o}_.createMockContextBinding=y;const L=y;_.MockContextBinding=L;function j(e){const t=v(f);t.oMetaContext=B(e||{});t.mock.getMetaContext.mockImplementation(e=>B({$path:e}));t.mock.getObject.mockImplementation(e=>t.oMetaContext.getProperty(e));t.mock.createBindingContext.mockImplementation(e=>B({$path:e}));t.mock.getMetaPath.mockImplementation(e=>{const t=new f;return e?t.getMetaPath(e):e});t.mock.isA.mockImplementation(e=>e==="sap.ui.model.odata.v4.ODataMetaModel");return t}_.createMockMetaModel=j;const E=j;_.MockMetaModel=E;function N(e,t){const o=v(I);o.fnOptimisticBatchEnabler=null;o.mockListBinding=e;o.mockContextBinding=t;if(e){e.setModel(o)}if(t){t.setModel(o)}o.setMetaModel=e=>{o.oMetaModel=e};o.mock.bindList.mockImplementation(()=>o.mockListBinding);o.mock.bindContext.mockImplementation(()=>o.mockContextBinding);o.mock.getMetaModel.mockImplementation(()=>o.oMetaModel);o.mock.isA.mockImplementation(e=>e==="sap.ui.model.odata.v4.ODataModel");return o}_.createMockModel=N;const K=N;_.MockModel=K;function F(e){return N(e)}_.createMockModelFromListBinding=F;function q(e){return N(undefined,e)}_.createMockModelFromContextBinding=q;function S(){const e=v(p);e.mock.isA.mockImplementation(e=>e==="sap.ui.core.mvc.View");return e}_.createMockView=S;const T=S;_.MockView=T;function $(e){const o=v(d);o._routing=v(m);o._sideEffects=v(s);o._intentBasedNavigation=v(a);o.editFlow=v(c);o.share=v(r);o.collaborativeDraft=v(n);o.recommendations=v(l);o.messageHandler=v(i);o.getAppComponent=jest.fn().mockReturnValue(v(t));o.mock.getView.mockReturnValue(S());o.mock.isA.mockReturnValue(false);o.getModel=jest.fn().mockReturnValue(e);return o}_.createMockController=$;const H=$;_.MockController=H;function G(e){const t=e?.model||N();const o=e?.view||S();const n=e?.controller||$(t);o.mock.getController.mockReturnValue(n);o.mock.getModel.mockReturnValue(t);n.mock.getView.mockReturnValue(o);return{model:t,view:o,controller:n}}_.mockMVC=G;function U(e,t,n){const c=new o({bundleName:"sap.fe.core.messagebundle",enhanceWith:[{bundleName:"sap.fe.macros.messagebundle"},{bundleName:"sap.fe.templates.messagebundle"}],async:false});return c.getText(e,t,n)}_.getText=U;function W(){const e=v(o);e.getText=jest.fn().mockImplementation(U);return e}_.createMockResourceModel=W;return _},false);
/*!
 * 
		SAP UI development toolkit for HTML5 (SAPUI5)
        (c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.predefine("sap/fe/test/Utils", ["sap/base/util/LoaderExtensions","sap/base/util/merge","sap/base/strings/formatMessage","sap/base/strings/capitalize"],function(a,e,r,p){"use strict";var t={};t.getManifest=function(r){const p=sap.ui.require("sap/ushell/Container");if(!p){var s=t.getNoFLPAppPath();r="local"+s}var n=new URLSearchParams(window.location.search),i=n.get("manifest"),o=a.loadResource(r+"/manifest.json");if(i){i.split(",").forEach(function(p){if(p.indexOf("/")!==0){p=r+"/"+p}try{o=e({},o,a.loadResource(p))}catch(a){}})}var u=new URL(o["sap.app"].dataSources.mainService.uri,document.location);var l=n.get("user");if(l){u.searchParams.set("user",l)}o["sap.app"].dataSources.mainService.uri=u.toString().replace(document.location,"");return o};t.getNoFLPAppPath=function(){var a=new URLSearchParams(window.location.search);var e=a.get("app")||"SalesOrder";return t.getAppInfo(e).appPath};t.getAppInfo=function(a){var e={"SalesOrder-manage":{appName:"SalesOrder",appPath:"/apps/salesorder/webapp"},"SalesOrder-manageInline":{appName:"SalesOrder",appPath:"/apps/salesorder/webapp"},"SalesOrder-manageFCL":{appName:"SalesOrderFCL",appPath:"/apps/salesorder-FCL/webapp"},"SalesOrder-aggregate":{appName:"SalesOrder",appPath:"/apps/salesorder-aggregate/webapp"},"SalesOrder-manageInlineTest":{appName:"SalesOrder",appPath:"/apps/salesorder/webapp"},"Customer-manage":{appName:"Customer",appPath:"/apps/customer/webapp"},"Customer-displayFactSheet":{appName:"Customer",appPath:"/apps/customer-displayFactSheet/webapp"},"SalesOrder-sticky":{appName:"SalesOrder",appPath:"/apps/salesorder/webapp"},"SalesOrder-stickyRecommendations":{appName:"SalesOrder",appPath:"/apps/salesorder/webapp"},"SalesOrder-stickyFCL":{appName:"SalesOrderFCL",appPath:"/apps/salesorder-FCL/webapp"},"Products-manage":{appName:"catalog-admin-ui",appPath:"/apps/office-supplies/admin/webapp"},"Products-custom":{appName:"catalog-admin-ui",appPath:"/apps/office-supplies/custompage/webapp"},"Chevron-Navigation":{appName:"SalesOrder",appPath:"/apps/salesorder/webapp"},"Manage-items":{appName:"ManageItems",appPath:"/apps/manage-items/webapp"},"Manage-dpp-items":{appName:"ManageDPPItems",appPath:"/apps/manage-dpp-items/webapp"},"Drafts-manage":{appName:"ManageDrafts",appPath:"/apps/manage-drafts/webapp"},"Drafts-manageFCL":{appName:"ManageDraftsFCL",appPath:"/apps/manage-drafts-FCL/webapp"},"Manage-itemsSem":{appName:"ManageItemsSem",appPath:"/apps/manage-drafts/webapp"},"CustomNavigation-sample":{appName:"customNavigation.sample",appPath:"/apps/customNav"},"SalesOrder-Create":{appName:"SalesOrderCreate",appPath:"/apps/salesorder-Create/webapp"},"SalesOrder-CreateFCL":{appName:"SalesOrderCreateFCL",appPath:"/apps/salesorder-CreateFCL/webapp"},SalesOrder:{appName:"SalesOrder",appPath:"/apps/salesorder/webapp"},"Cinema-manage":{appName:"CollaborationDraft",appPath:"/apps/collaborationDraft/webapp"}};return e[a]};t.isOfType=function(a,e,r){var p=Array.isArray(e)?e:[e];return p.reduce(function(e,p){if(e){return true}if(p===null||p===undefined){return a===p}if(a===null||a===undefined){return!!r}if(typeof p==="function"){if(p===Boolean){return typeof a==="boolean"}if(p===Array){return Array.isArray(a)}if(p===String){return typeof a==="string"||a instanceof String}if(p===Object){return typeof a==="object"&&a.constructor===Object}if(p===Number){return typeof a==="number"}return a instanceof p}return typeof a===p},false)};t.isArguments=function(a){return Object.prototype.toString.call(a)==="[object Arguments]"};t.parseArguments=function(a){var e=Array.prototype.slice.call(arguments,1);if(e.length===1&&t.isArguments(e[0])){e=Array.prototype.slice.call(e[0],0)}return a.reduce(function(a,r){if(t.isOfType(e[0],r,true)){a.push(e.shift())}else{a.push(undefined)}return a},[])};t.formatObject=function(a){if(t.isOfType(a,[null,undefined])){return""}if(t.isOfType(a,Array)){return"["+a.map(function(a){return t.formatObject(a)}).join(", ")+"]"}if(t.isOfType(a,Object)){return"{"+Object.keys(a).map(function(e){return e+": "+t.formatObject(a[e])}).join(", ")+"}"}return a.toString()};t.formatMessage=function(a){var e=Array.prototype.slice.call(arguments,1).map(function(a){return t.formatObject(a)});return r(a&&a.replace(/'/g,"''"),e)};t.mergeObjects=function(){return e.apply(this,[{}].concat(Array.prototype.slice.call(arguments)))};t.getAggregation=function(a,e){if(!a){return null}var r=a["get"+p(e,0)];if(!r){throw new Error("Object '"+a+"' does not have an aggregation called '"+e+"'")}return r.call(a)};t.pushToArray=function(a,e,r){if(e===undefined){e=[]}else if(!Array.isArray(e)){e=[e]}else{e=e.slice(0)}if(Array.isArray(a)){e=r?a.slice(0).concat(e):e.concat(a)}else if(a!==undefined){if(r){e.unshift(a)}else{e.push(a)}}return e};return t});
/*!
 * 
		SAP UI development toolkit for HTML5 (SAPUI5)
        (c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.predefine("sap/fe/test/api/APIHelper", ["sap/fe/test/Utils","sap/ui/test/OpaBuilder","sap/fe/test/builder/FEBuilder"],function(e,t,r){"use strict";var i={createSaveAsTileCheckBuilder:function(t){return i.createMenuActionCheckBuilder({icon:"sap-icon://add-favorite"}).hasState(t).description(e.formatMessage("Checking 'Save as Tile' action in state '{0}'",t))},createSaveAsTileExecutorBuilder:function(t){return i.createMenuActionExecutorBuilder({icon:"sap-icon://add-favorite"}).success(r.create().isDialogElement().hasType("sap.m.Input").hasProperties({id:"__xmlview1--bookmarkTitleInput"}).doEnterText(t).description(e.formatMessage("Enter '{0}' as Bookmark title",t)).success(r.create().isDialogElement().hasType("sap.m.Button").hasProperties({id:"bookmarkCancelBtn"}).doPress().description("Cancel 'Save as Tile' dialog")))},createSendEmailCheckBuilder:function(t){return i.createMenuActionCheckBuilder({icon:"sap-icon://email"}).hasState(t).description(e.formatMessage("Checking 'Send Email' action in state '{0}'",t))},createSendEmailExecutorBuilder:function(){return i.createMenuActionExecutorBuilder({icon:"sap-icon://email"}).description("Executing 'Send Email' action")},createMenuAndListActionMatcher:function(i,a){var n;if(e.isOfType(i,String)){i={text:i}}if(e.isOfType(i,Object)){if(i.visible===false){var s=Object.assign(i);delete s.visible;n=t.Matchers.some(t.Matchers.aggregationMatcher("items",r.Matchers.states(i)),t.Matchers.not(t.Matchers.aggregationMatcher("items",r.Matchers.states(s))))}else{n=a?[t.Matchers.aggregation("items",r.Matchers.states(i)),r.Matchers.atIndex(0)]:t.Matchers.aggregationMatcher("items",r.Matchers.states(i))}}else{throw new Error("vAction parameter must be a string or object")}return n},createMenuActionExecutorBuilder:function(t){if(!t){throw new Error("vAction parameter missing")}return r.create().hasType("sap.m.MenuWrapper").isDialogElement(true).has(i.createMenuAndListActionMatcher(t,true)).doPress().description(e.formatMessage("Executing action '{0}' from currently open action menu",t))},createMenuActionCheckBuilder:function(t){if(!t){throw new Error("vAction parameter missing")}return r.create().hasType("sap.m.MenuWrapper").isDialogElement(true).has(i.createMenuAndListActionMatcher(t)).description(e.formatMessage("Checking currently open action menu having action '{0}'",t))},createSelectListActionExecutorBuilder:function(t){if(!t){throw new Error("vAction parameter missing")}return r.create().hasType("sap.m.SelectList").isDialogElement(true).has(i.createMenuAndListActionMatcher(t,true)).doPress().description(e.formatMessage("Executing action '{0}' from currently open selection list",t))}};return i});
/*!
 * 
		SAP UI development toolkit for HTML5 (SAPUI5)
        (c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.predefine("sap/fe/test/api/BaseAPI", ["sap/fe/test/Utils","sap/ui/test/Opa5","sap/ui/test/OpaBuilder","sap/fe/test/builder/FEBuilder","sap/m/p13n/BasePanel"],function(e,t,r,i,n){"use strict";function o(e,t){var r=e.and;if(t in r){return o(r[t],t)}return r}var a=function(e,t){this._oBuilder=e;this._vIdentifier=t};a.MDC_P13N_MODEL=n.prototype.P13N_MODEL;a.prototype.isAction=undefined;a.prototype.getBuilder=function(){return new this._oBuilder.constructor(this._oBuilder.getOpaInstance(),this._oBuilder.build())};a.prototype.getOpaInstance=function(){return this._oBuilder.getOpaInstance()};a.prototype.getIdentifier=function(){return this._vIdentifier};a.prototype.prepareResult=function(t){var r=o(t,this.isAction?"when":"then");t.and=this;if(!e.isOfType(this.isAction,[null,undefined])){t.and[this.isAction?"when":"then"]=r}return t};a.prototype.createActionMatcher=function(t){var n,o;if(!e.isOfType(t,String)){if(typeof t.service==="string"&&typeof t.action==="string"){o=t.service+(t.unbound?"::":".")+t.action;n=i.Matchers.id(new RegExp(e.formatMessage("{0}$",o)))}else{throw new Error("not supported service and action parameters for creating a control id: "+t.service+"/"+t.action)}}else{n=r.Matchers.properties({text:t})}return n};a.prototype.createFieldMatcher=function(t){var n,o;if(!e.isOfType(t,String)){if(typeof t.property==="string"){if(t.connectedFields){o="ConnectedFields::"+t.connectedFields+"::"+t.property.replaceAll("/","::")+"::Field"}else{o=t.property.replaceAll("/","::")+"::Field"}return r.Matchers.some.apply(null,["DataField","DataFieldWithURL","DataFieldForAnnotation"].reduce(function(t,r){return t.concat([i.Matchers.id(new RegExp(e.formatMessage("::{0}::{1}$",r,o)))])},[]))}else{throw new Error("The 'property' parameter for creating a control ID for a field is not supported: "+t.property)}}else{n=i.Matchers.label(t)}return n};a.prototype.createFormElementMatcher=function(t,n){var o,a;if(!e.isOfType(t,String)){if(t.property&&typeof t.property==="string"){if(t.connectedFields){a="SemanticFormElement::"+n+"::ConnectedFields::"+t.connectedFields}else{a="FormElement::"+n+"::"+t.property.replaceAll("/","::")}o=i.Matchers.id(new RegExp(e.formatMessage("{0}$",a)))}else{throw new Error("Unsupported parameter for creating a control id for a FormElement")}}else{o=r.Matchers.properties({label:t})}return o};a.prototype.createFieldGroupMatcher=function(t){var n,o;if(!e.isOfType(t,String)){if(t.fieldGroup&&typeof t.fieldGroup==="string"){o="FormContainer::"+t.fieldGroup;n=i.Matchers.id(new RegExp(e.formatMessage("{0}$",o)))}else{throw new Error(e.formatMessage("The parameter for creating a control ID for a FieldGroup is not supported: {0}",t))}}else{n=r.Matchers.properties({title:t})}return n};return a});
/*!
 * 
		SAP UI development toolkit for HTML5 (SAPUI5)
        (c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.predefine("sap/fe/test/api/ChartActions", ["./BaseAPI","sap/fe/test/Utils","sap/ui/test/OpaBuilder","sap/fe/test/builder/FEBuilder"],function(e,t,r){"use strict";var s=function(t,r){return e.call(this,t,r)};s.prototype=Object.create(e.prototype);s.prototype.constructor=s;s.prototype.isAction=true;s.prototype.iSelectItems=function(e,t){if(typeof t==="boolean"){t=!!t}else{t=true}return r.create(this).hasType("sap.chart.Chart").check(function(r){var s;var i=r[0]._getVizFrame();if(i){var o=e?[{data:e}]:[];s=i.vizSelection(o,{clearSelection:t})}return s},true).description("Do not see the First Column Expand Button").execute()};s.prototype.iChangeChartType=function(e){return r.create(this).hasType("sap.ui.core.Icon").hasProperties({src:"sap-icon://vertical-bar-chart"}).doPress().success(function(){return r.create(this).hasType("sap.m.StandardListItem").hasProperties({icon:"sap-icon://horizontal-bar-chart"}).doPress().description("Chart type is changed").execute()}).description("Opened the Dialog").execute()};s.prototype.iDrillDown=function(e){return r.create(this).hasType("sap.m.Button").hasProperties({text:"View By"}).doPress().success(function(){return r.create(this).hasType("sap.m.StandardListItem").hasProperties({title:e}).doPress().description("blablabla").execute()}).description("Opened the Dialog").execute()};s.prototype.iExecuteActionWithText=function(e){return r.create(this).hasType("sap.m.Button").hasProperties({text:e}).doPress().description("Clicked on button"+e).execute()};return s});
/*!
 * 
		SAP UI development toolkit for HTML5 (SAPUI5)
        (c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.predefine("sap/fe/test/api/ChartAssertions", ["./BaseAPI","sap/fe/test/Utils","sap/ui/test/OpaBuilder","sap/fe/test/builder/FEBuilder","sap/ui/core/library"],function(e,t,r,i,n){"use strict";var s=n.SortOrder;var c=function(t,r){return e.call(this,t,r)};c.prototype=Object.create(e.prototype);c.prototype.constructor=c;c.prototype.isAction=false;c.prototype.iCheckItems=function(e,t){return r.create(this).hasType("sap.ui.mdc.Chart").check(function(r){var i;if(t&&r&&r.length>1){for(var n=0;n<r.length;n++){if(r[n].getId().indexOf("fe::Chart::"+t)>-1){i=r[n];break}}}else{i=r[0]}var s=i.getControlDelegate()._getChart(i).getBinding("data").getContexts();return s&&(e===undefined?s.length!==0:s.length===e)||!s&&e===0},true).description("Seeing "+e+"of items").execute()};c.prototype.iSeeChartType=function(e){return r.create(this).hasType("sap.ui.mdc.Chart").check(function(t){return e===t[0].getChartType()},true).description("Chart type is "+e).execute()};c.prototype.iSeeChartVisible=function(){return r.create(this).hasType("sap.ui.mdc.Chart").check(function(e){return e[0].getVisible()===true},true).description("Chart is Visible").execute()};c.prototype.iCheckBreadCrumb=function(e){return r.create(this).hasType("sap.m.Breadcrumbs").hasProperties({currentLocationText:e}).description("BreadCrumb is "+e).execute()};c.prototype.iCheckVisibleDimensions=function(e){return r.create(this).hasType("sap.chart.Chart").check(function(t){return t[0].getVisibleDimensions().toString()===e.toString()}).description("Visible Dimensions are checked correctly").execute()};c.prototype.iCheckVisibleMeasures=function(e){return r.create(this).hasType("sap.chart.Chart").check(function(t){return t[0].getVisibleMeasures().toString()===e.toString()}).description("Visible Measures are checked correctly").execute()};c.prototype.iCheckChartNoDataText=function(e){return r.create(this).hasType("sap.ui.mdc.Chart").check(function(t){return e===t[0].getNoDataText()}).description("No Data text is "+e).execute()};c.prototype.iCheckButtonWithText=function(e){return r.create(this).hasType("sap.m.Button").hasProperties({text:e}).description("Seeing Button with text '"+e+"'").execute()};c.prototype.iCheckMessageToastWithText=function(e){return i.createMessageToastBuilder(e).execute(this)};return c});
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/test/api/CollaborationAPI", ["sap/base/Log","sap/fe/core/AppComponent","sap/fe/core/controllerextensions/MessageHandler","sap/fe/core/controllerextensions/collaboration/ActivityBase","sap/fe/core/controllerextensions/collaboration/CollaborationCommon","sap/fe/core/controllerextensions/editFlow/draft","sap/ui/model/json/JSONModel"],function(e,t,o,n,i,s,r){"use strict";var a=i.Activity;var c=n.initializeCollaboration;var l=n.endCollaboration;var d=n.broadcastCollaborationMessage;const h={_lastReceivedMessages:[],_rootPath:"",_oModel:undefined,_lockedPropertyPath:"",_internalModel:undefined,_receivedLocks:[],enterDraft:function(t,o,n){const i=t.getModel().getMetaModel().getObject("/@com.sap.vocabularies.Common.v1.WebSocketBaseURL");if(!i){e.error("Cannot find WebSocketBaseURL annotation");return}const s=t.getProperty("DraftAdministrativeData/DraftUUID");this._internalModel=new r({});const a=t.getModel();c({id:o,name:n,initialName:n},s,this._internalModel,this._onMessageReceived.bind(this),{getModel:function(){return a}},true);this._rootPath=t.getPath();this._oModel=a},checkReceived:function(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;if(this._lastReceivedMessages.length===0){return false}const o=this._lastReceivedMessages.some(t=>(!e.userID||e.userID===t.userID)&&(!e.userAction||e.userAction===t.userAction)&&(!e.clientContent||e.clientContent===t.clientContent));if(t){this._lastReceivedMessages=[]}return o},leaveDraft:function(){if(this._internalModel){l(this._internalModel);this._internalModel.destroy();this._internalModel=undefined}},lockField:function(e){if(this._internalModel){if(this._lockedPropertyPath){this.unlockField()}this._lockedPropertyPath=e;d(a.Lock,`${this._rootPath}/${e}`,this._internalModel)}},updatePropertyValue:function(t,o){if(this._internalModel){if(this._lockedPropertyPath!==t){this.lockField(t)}const n=this._oModel.bindContext(this._rootPath,undefined,{$$patchWithoutSideEffects:true,$$groupId:"$auto",$$updateGroupId:"$auto"});const i=this._oModel.bindProperty(t,n.getBoundContext());i.requestValue().then(()=>{i.setValue(o);n.attachEventOnce("patchCompleted",()=>{d(a.Change,`${this._rootPath}/${t}`,this._internalModel);this.unlockField();this._lockedPropertyPath=""})}).catch(function(t){e.error(t)})}},unlockField:function(){if(this._lockedPropertyPath){d(a.Unlock,`${this._rootPath}/${this._lockedPropertyPath}`,this._internalModel);this._lockedPropertyPath=""}},discardDraft:function(){if(this._internalModel){const n=this._getDraftContext();n.requestProperty("IsActiveEntity").then(()=>{s.deleteDraft(n,new o,new t)}).then(()=>{d(a.Discard,this._rootPath.replace("IsActiveEntity=false","IsActiveEntity=true"),this._internalModel);this._internalModel.destroy();this._internalModel=undefined}).catch(function(t){e.error(t)})}},deleteObject:function(t){if(this._internalModel){const o=this._getObjectContext(t);o.requestProperty("IsActiveEntity").then(()=>{o.delete();d(a.Delete,t,this._internalModel)}).catch(t=>{e.error(t)})}},checkLockedByOther:function(e){return this._receivedLocks.includes(e)},_getDraftContext:function(){return this._getObjectContext(this._rootPath)},_getObjectContext:function(e){return this._oModel.bindContext(e,undefined,{$$patchWithoutSideEffects:true,$$groupId:"$auto",$$updateGroupId:"$auto"}).getBoundContext()},_onMessageReceived:function(e){e.userAction=e.userAction||e.clientAction;if(!e.clientContent){e.clientContent=""}this._lastReceivedMessages.push(e);switch(e.userAction){case a.Join:d(a.JoinEcho,this._lockedPropertyPath?`${this._rootPath}/${this._lockedPropertyPath}`:undefined,this._internalModel);break;case a.JoinEcho:case a.Lock:this._receivedLocks.push(...e.clientContent.split("|"));break;case a.Unlock:this._receivedLocks=this._receivedLocks.filter(t=>!e.clientContent.split("|").includes(t));break;default:}}};return h},false);
/*!
 * 
		SAP UI development toolkit for HTML5 (SAPUI5)
        (c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.predefine("sap/fe/test/api/DialogAPI", ["./BaseAPI","sap/fe/test/Utils","sap/fe/test/builder/FEBuilder","sap/fe/test/builder/MdcFieldBuilder","sap/fe/test/builder/DialogBuilder"],function(t,e,r,n,i){"use strict";var o=function(r,n,o){if(!e.isOfType(r,i)){throw new Error("oDialogBuilder parameter must be a DialogBuilder instance")}this._iConfirmButtonIndex=o||0;this._iConfirmDiscardDraftButtonIndex=this._iConfirmButtonIndex+1;return t.call(this,r,n)};o.prototype=Object.create(t.prototype);o.prototype.constructor=o;o.prototype._createFieldMatcher=function(t,n){var i,o;if(!e.isOfType(t,String)){if(typeof t.property==="string"){o=n&&n.type==="Create"?"CreateDialog::"+t.property.replaceAll("/","::"):"APD_::"+t.property.replaceAll("/","::")}else{throw new Error("The 'property' parameter for creating a control ID for a field in an action dialog is not supported: "+t.property)}i=r.Matchers.id(new RegExp(e.formatMessage("{0}",o)))}else{}return i};o.prototype._createFieldBuilder=function(t,e){var r=new n(this.getOpaInstance());return r.isDialogElement().hasType("sap.ui.mdc.Field").has(this._createFieldMatcher(t,e))};o.prototype._getConfirmButtonMatcher=function(){var t=this._iConfirmButtonIndex;return function(e){var r=e.getParent().getButtons();return r.indexOf(e)===Math.min(r.length-1,t)}};o.prototype._getCancelButtonMatcher=function(){var t=this._iConfirmButtonIndex;return function(e){var r=e.getParent().getButtons();return r.length>2?r.indexOf(e)===r.length-1:r.indexOf(e)===Math.min(r.length-1,t+1)}};o.prototype._getConfirmDiscardDraftButtonMatcher=function(){var t=this._iConfirmDiscardDraftButtonIndex;return function(e){var r=e.getParent().getButtons();return r.indexOf(e)===t}};return o});
/*!
 * 
		SAP UI development toolkit for HTML5 (SAPUI5)
        (c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.predefine("sap/fe/test/api/DialogActions", ["./DialogAPI","sap/fe/test/Utils","sap/ui/test/OpaBuilder"],function(e,t,i){"use strict";var r=function(t,i,r){return e.call(this,t,i,r)};r.prototype=Object.create(e.prototype);r.prototype.constructor=r;r.prototype.isAction=true;r.prototype.iConfirm=function(){return this.prepareResult(this.getBuilder().doPressFooterButton(this._getConfirmButtonMatcher()).description(t.formatMessage("Confirming dialog '{0}'",this.getIdentifier())).execute())};r.prototype.iCancel=function(){return this.prepareResult(this.getBuilder().doPressFooterButton(this._getCancelButtonMatcher()).description(t.formatMessage("Cancelling dialog '{0}'",this.getIdentifier())).execute())};r.prototype.iClose=function(){return this.prepareResult(this.getBuilder().doPressKeyboardShortcut("Escape").description(t.formatMessage("Closing dialog '{0}'",this.getIdentifier())).execute())};r.prototype.iChangeDialogField=function(e,i,r){var o=t.parseArguments([Object,String,Boolean],arguments);return this.prepareResult(this._createFieldBuilder(e,this.getIdentifier()).doChangeValue(o[1],o[2]).description(t.formatMessage("Changing the field '{1}' of dialog '{0}' by adding '{2}' (was cleared first: {3})",this.getIdentifier(),o[0],o[1],!!o[2])).execute())};r.prototype.iChangeActionParameterDialogField=function(e,t,i){return this.iChangeDialogField(e,t,i)};r.prototype.iExecuteKeyboardShortcut=function(e){return this.prepareResult(this.getBuilder().doPressKeyboardShortcut(e).description(t.formatMessage("Execute keyboard shortcut "+e+" on dialog")).execute())};return r});
/*!
 * 
		SAP UI development toolkit for HTML5 (SAPUI5)
        (c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.predefine("sap/fe/test/api/DialogAssertions", ["./DialogAPI","sap/fe/test/Utils"],function(t,e){"use strict";var i=function(e,i,r){return t.call(this,e,i,r)};i.prototype=Object.create(t.prototype);i.prototype.constructor=i;i.prototype.isAction=false;i.prototype.iCheckState=function(t){return this.prepareResult(this.getBuilder().hasState(t).description(e.formatMessage("Checking dialog '{0}' in state '{1}'",this.getIdentifier(),t)).execute())};i.prototype.iCheckConfirm=function(t){return this.prepareResult(this.getBuilder().hasFooterButton(this._getConfirmButtonMatcher(),t).description(e.formatMessage("Checking dialog '{0}' having confirmation button with state '{1}'",this.getIdentifier(),t)).execute())};i.prototype.iCheckCancel=function(t){return this.prepareResult(this.getBuilder().hasFooterButton(this._getCancelButtonMatcher(),t).description(e.formatMessage("Checking dialog '{0}' having cancellation button with state '{1}'",this.getIdentifier(),t)).execute())};i.prototype.iCheckDialogField=function(t,i,r){var o=e.parseArguments([Object,[String,Array,Object],Object],arguments);return this.prepareResult(this._createFieldBuilder(t,this.getIdentifier()).hasValue(o[1]).hasState(o[2]).description(e.formatMessage("Checking field '{1}' of dialog '{0}' with content '{2}' and state '{3}'",this.getIdentifier(),o[0],o[1],o[2])).execute())};i.prototype.iCheckActionParameterDialogField=function(t,e,i){return this.iCheckDialogField(t,e,i)};return i});
/*!
 * 
		SAP UI development toolkit for HTML5 (SAPUI5)
        (c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.predefine("sap/fe/test/api/DialogCreateActions", ["./DialogActions","sap/fe/test/Utils","sap/ui/test/OpaBuilder"],function(t,e,r){"use strict";var o=function(e,r){return t.call(this,e,r,0)};o.prototype=Object.create(t.prototype);o.prototype.constructor=o;o.prototype.isAction=true;o.prototype.iExecuteCreate=function(){return this.prepareResult(this.getBuilder().doPressFooterButton(r.Matchers.resourceBundle("text","sap.fe.core","C_TRANSACTION_HELPER_SAPFE_ACTION_CREATE_BUTTON_CONTINUE")).description(e.formatMessage("Pressing create button on dialog '{0}'",this.getIdentifier())).execute())};return o});
/*!
 * 
		SAP UI development toolkit for HTML5 (SAPUI5)
        (c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.predefine("sap/fe/test/api/DialogCreateAssertions", ["./DialogAssertions","sap/ui/test/OpaBuilder","sap/fe/test/builder/FEBuilder","sap/fe/test/Utils"],function(t,e,r,s){"use strict";var i=function(e,r){return t.call(this,e,r,0)};i.prototype=Object.create(t.prototype);i.prototype.constructor=i;i.prototype.isAction=false;i.prototype.iCheckCreate=function(t){return this.prepareResult(this.getBuilder().hasFooterButton(e.Matchers.resourceBundle("text","sap.fe.core","C_TRANSACTION_HELPER_SAPFE_ACTION_CREATE_BUTTON_CONTINUE"),t).description(s.formatMessage("Checking that dialog '{0}' has create button with state '{1}'",this.getIdentifier(),t)).execute())};return i});
/*!
 * 
		SAP UI development toolkit for HTML5 (SAPUI5)
        (c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.predefine("sap/fe/test/api/DialogHelper", ["./DialogAPI"],function(e){"use strict";return{iProcessDraftDataLossDialog:function(e,o,a){var i=a||{};var r=i.secondPage?"onTheSecondDetailPage":"onTheDetailPage";var t=i.formSection?i.formSection:"GeneralInfo";var n=i.changeField?i.changeField:{PurchaseOrderByCustomer:"CHANGED"};var f=i.draftOption?i.draftOption:"draftDataLossOptionKeep";var l=i.goToSection?i.goToSection:false;var s=Object.keys(n);var c;var d;if(s.length===1){var g=s[0];c=g;d=n[c]}var D={section:t};D.fieldGroup=i.fieldGroup?D.fieldGroup:"OrderData";if(i.noFieldGroup){delete D["fieldGroup"]}if(l){e[r].iGoToSection(l)}e[r].onForm(D).iChangeField({property:c},d);o[r].onFooter().iCheckDraftStateSaved();e.onTheShell.iNavigateBack();e[r].onMessageDialog().iSelectDraftDataLossOption(f);e[r].onMessageDialog().iConfirm()}}});
/*!
 * 
		SAP UI development toolkit for HTML5 (SAPUI5)
        (c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.predefine("sap/fe/test/api/DialogMassEditActions", ["./DialogActions","sap/fe/test/Utils","sap/ui/test/OpaBuilder","sap/fe/test/builder/FEBuilder"],function(e,t,r,s){"use strict";var a=function(t,r){return e.call(this,t,r,0)};a.prototype=Object.create(e.prototype);a.prototype.constructor=a;a.prototype.isAction=true;a.prototype.iChangeField=function(e,a,i,o){var n=this,p=t.isOfType(e,String)?e:e.property,d=a&&(t.isOfType(a,String)?{rawText:a}:a),c=new RegExp("^MED(.*)"+p+"$","gi");return n.prepareResult(s.create(this.getOpaInstance()).isDialogElement().has(s.Matchers.id(c)).hasState(i).hasProperties(o).doPress().success(function(e){var s,a=e[0],i=a.getMetadata().getName();if(d.dropDownText){s=r.create().hasType("sap.ui.core.Item").has(r.Matchers.ancestor(a[0],false)).hasProperties({text:d.dropDownText}).doPress().description(t.formatMessage("Value '{3}' selected for '{0}' in mass edit dialog '{1}'",p,n.getIdentifier(),d.dropDownText)).execute()}else if(d.rawText&&i==="sap.m.ComboBox"){s=r.create().hasId(a.getId()).doEnterText(d.rawText).description(t.formatMessage("Value '{3}' entered for '{0}' in mass edit dialog '{1}'",p,n.getIdentifier(),d.rawText)).execute()}return s}).description(t.formatMessage("Mass edit dropdown for '{0}' found in dialog '{1}'",p,n.getIdentifier())).execute())};return a});
/*!
 * 
		SAP UI development toolkit for HTML5 (SAPUI5)
        (c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.predefine("sap/fe/test/api/DialogMassEditAssertions", ["./DialogAssertions","sap/ui/test/OpaBuilder","sap/fe/test/builder/FEBuilder","sap/fe/test/Utils"],function(e,t,s,r){"use strict";var a=function(t,s){return e.call(this,t,s,0)};a.prototype=Object.create(e.prototype);a.prototype.constructor=a;a.prototype.isAction=false;a.prototype.iCheckField=function(e,a,i,o){var n=this,c=r.isOfType(e,String)?e:e.property,p=a&&(r.isOfType(a,String)?a:a.rawText||a.dropDownText),f=new RegExp("^MED(.*)"+c+"$","gi");var d;var l=s.create(this.getOpaInstance()).isDialogElement();var g=s.Matchers.id(f);var u=[s.Matchers.states(i),g];if(i&&i.visible===false){u=t.Matchers.some(u,t.Matchers.not(g));l=l.has(u)}else{l=l.has(u).hasProperties(o).check(function(e){d=e&&e[0]&&e[0].getMetadata().getName();return e.length===1&&(d==="sap.m.ComboBox"||d==="sap.fe.macros.controls.MassEditSelect")}).success(function(e){var s=e[0],a=t.create().hasId(s.getId());if(d==="sap.m.ComboBox"){a=a.hasProperties({value:p})}else if(d==="sap.fe.macros.controls.MassEditSelect"){a=a.has(function(e){return e.getSelectedItem()?e.getSelectedItem().getText()===p:false})}return a.description(r.formatMessage("Value selection '{3}' found for '{0}' in mass edit dialog '{1}'",c,n.getIdentifier(),p.toString())).execute()}).description(r.formatMessage("Mass edit dropdown for '{0}' found in dialog '{1}'",c,n.getIdentifier()))}return n.prepareResult(l.execute())};a.prototype.iCheckFieldSuggestions=function(e,t,a,i,o){var n=this,c=r.isOfType(e,String)?e:e.property,p=t&&(r.isOfType(t,String)?t:t.dropDownText||t.rawText),f=new RegExp("^MED(.*)"+c+"$","gi");return n.prepareResult(s.create(this.getOpaInstance()).isDialogElement().hasId(f).hasState(a).hasProperties(i).check(function(e){var t=false,s=e&&e[0],r=e&&e[0]&&e[0].getMetadata().getName();if(e.length===1&&(r==="sap.m.ComboBox"||r==="sap.fe.macros.controls.MassEditSelect")){var a=s.getItems(),i=(a||[]).findIndex(function(e){return e.getText()===p}),n=i!=-1;t=o!==false===n}return t}).description(r.formatMessage("Mass edit dropdown for '{0}' found in dialog '{1}'",c,n.getIdentifier())).execute())};return a});
/*!
 * 
		SAP UI development toolkit for HTML5 (SAPUI5)
        (c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.predefine("sap/fe/test/api/DialogMessageActions", ["./DialogActions","sap/fe/test/Utils","sap/ui/test/OpaBuilder","sap/fe/test/builder/FEBuilder"],function(e,t,r,i){"use strict";var s=function(t,r){return e.call(this,t,r,0)};s.prototype=Object.create(e.prototype);s.prototype.constructor=s;s.prototype.isAction=true;s.prototype.iExecuteBack=function(){return this.prepareResult(this.getBuilder().doPressHeaderButton(r.Matchers.properties({icon:"sap-icon://nav-back"})).description(t.formatMessage("Pressing back button on dialog '{0}'",this.getIdentifier())).execute())};s.prototype.iExecuteRefresh=function(){return this.prepareResult(this.getBuilder().doPressFooterButton(r.Matchers.resourceBundle("text","sap.fe.core","C_COMMON_SAPFE_REFRESH")).description(t.formatMessage("Pressing refresh button on dialog '{0}'",this.getIdentifier())).execute())};s.prototype.iSelectDraftDataLossOption=function(e){return this.prepareResult(i.create().hasType("sap.m.List").isDialogElement(true).has(r.Matchers.aggregation("items")).has(function(t){return t.find(function(t){return t.data("itemKey")===e})}).doPress().description("Selecting option with key {0} in draft data loss popup").execute())};return s});
/*!
 * 
		SAP UI development toolkit for HTML5 (SAPUI5)
        (c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.predefine("sap/fe/test/api/DialogMessageAssertions", ["./DialogAssertions","sap/ui/test/OpaBuilder","sap/fe/test/builder/FEBuilder","sap/fe/test/Utils"],function(e,t,s,r){"use strict";var i=function(t,s){return e.call(this,t,s,0)};i.prototype=Object.create(e.prototype);i.prototype.constructor=i;i.prototype.isAction=false;i.prototype.iCheckBack=function(e){return this.prepareResult(this.getBuilder().hasHeaderButton(t.Matchers.properties({icon:"sap-icon://nav-back"}),e).description(r.formatMessage("Checking that dialog '{0}' has a back button with state '{1}'",this.getIdentifier(),e)).execute())};i.prototype.iCheckRefresh=function(e){return this.prepareResult(this.getBuilder().hasFooterButton(t.Matchers.resourceBundle("text","sap.fe.core","C_COMMON_SAPFE_REFRESH"),e).description(r.formatMessage("Checking that dialog '{0}' has a refresh button with state '{1}'",this.getIdentifier(),e)).execute())};i.prototype.iCheckMessage=function(e){return this.prepareResult(this.getBuilder().hasContent(s.Matchers.states({controlType:"sap.m.MessageView"}),true).hasAggregation("items",t.Matchers.properties(e)).description(r.formatMessage("Checking dialog '{0}' having a message '{1}' ",this.getIdentifier(),e)).execute())};return i});
/*!
 * 
		SAP UI development toolkit for HTML5 (SAPUI5)
        (c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.predefine("sap/fe/test/api/DialogType", [],function(){"use strict";return{Confirmation:"Confirmation",ValueHelp:"ValueHelp",Message:"Message",Error:"Error",Action:"Action",Create:"Create",MassEdit:"MassEdit"}},true);
/*!
 * 
		SAP UI development toolkit for HTML5 (SAPUI5)
        (c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.predefine("sap/fe/test/api/DialogValueHelpActions", ["./DialogActions","sap/fe/test/Utils","sap/ui/test/OpaBuilder","sap/fe/test/builder/FEBuilder","sap/fe/test/builder/MdcFilterBarBuilder","sap/fe/test/builder/MdcTableBuilder","sap/fe/test/builder/MdcFieldBuilder","./FilterBarAPI","./TableAPI"],function(e,t,i,a,r,n,s,o,l){"use strict";var p=function(t,i){return e.call(this,t,i,0)};p.prototype=Object.create(e.prototype);p.prototype.constructor=p;p.prototype.isAction=true;p.prototype.iGoToSearchAndSelect=function(){return this.prepareResult(a.create(this.getOpaInstance()).isDialogElement().hasType("sap.m.IconTabFilter").has(a.Matchers.id(/-VHP--fromList$/)).doPress().description(t.formatMessage("Going to 'Search and Select' on value help dialog '{0}'",this.getIdentifier())).execute())};p.prototype.iGoToDefineConditions=function(){return this.prepareResult(a.create(this.getOpaInstance()).isDialogElement().hasType("sap.m.IconTabFilter").has(a.Matchers.id(/-VHP--defineCondition$/)).doPress().description(t.formatMessage("Going to 'Define Conditions' on value help dialog '{0}'",this.getIdentifier())).execute())};p.prototype.iExecuteShowHideFilters=function(){return this.prepareResult(a.create(this.getOpaInstance()).isDialogElement().hasType("sap.m.Button").has(a.Matchers.id(/::FilterBar-btnShowFilters$/)).doPress().description(t.formatMessage("Pressing 'Show/Hide Filters' on value help dialog '{0}'",this.getIdentifier())).execute())};p.prototype.iChangeSearchField=function(e){var t=r.create(this.getOpaInstance()).isDialogElement().hasType("sap.ui.mdc.valuehelp.FilterBar");return this.prepareResult(t.doChangeSearch(e).description("Entering search text "+e).execute())};p.prototype.iExecuteSearch=function(){var e=r.create(this.getOpaInstance()).isDialogElement().hasType("sap.ui.mdc.valuehelp.FilterBar");return this.prepareResult(e.doSearch().description("Starting value help search field search").execute())};p.prototype.iResetSearchField=function(){var e=r.create(this.getOpaInstance()).isDialogElement().hasType("sap.ui.mdc.valuehelp.FilterBar");return this.prepareResult(e.doResetSearch().description("Resetting value help search field").execute())};p.prototype.iChangeFilterField=function(e,i,a){var n=t.parseArguments([[String,Object],String,Boolean],arguments),s=r.create(this.getOpaInstance()).isDialogElement().hasType("sap.ui.mdc.valuehelp.FilterBar"),l=o.createFilterFieldBuilder(s,n[0]);return this.prepareResult(l.doChangeValue(n[1],n[2]).description(t.formatMessage("Changing the filter field '{1}' of value help dialog '{0}' by adding '{2}' (was cleared first: {3})",this.getIdentifier(),n[0],n[1],!!n[2])).execute())};p.prototype.iSelectRows=function(e,i){var a=t.parseArguments([[Object,Number],Object],arguments),r=n.createWrapper(this.getOpaInstance(),"sap.ui.table.Table").isDialogElement();return this.prepareResult(r.doSelectValueHelpTableRows(l.createRowMatchers(a[0],a[1])).description(t.formatMessage("Selecting rows of table in value help dialog '{0}' with values='{1}' and state='{2}'",this.getIdentifier(),a[0],a[1])).execute())};p.prototype.iAddCondition=function(e,t){return this.iChangeCondition(e||"EQ",t,-1)};p.prototype.iChangeCondition=function(e,i,r){r=r||0;var n=i===undefined;i=n||Array.isArray(i)?i:[i];var s={operator:e,values:i,isEmpty:n,validated:"NotValidated"};return this.prepareResult(a.create(this.getOpaInstance()).isDialogElement().hasType("sap.ui.mdc.field.DefineConditionPanel").do(function(e){var t=[].concat(e.getConditions());if(r===-1){t.push(s)}else{t[r]=s}e.setConditions(t)}).description(t.formatMessage("Changing {1} on value help dialog '{0}' to '{2}'",this.getIdentifier(),r===-1?"newly added condition":"condition at index "+r,s)).execute())};p.prototype.iRemoveCondition=function(e){e=e||0;return this.prepareResult(a.create(this.getOpaInstance()).isDialogElement().hasType("sap.ui.mdc.field.DefineConditionPanel").do(function(t){var i=[].concat(t.getConditions());i.splice(e,1);t.setConditions(i)}).description(t.formatMessage("Removing condition at index {1} on value help dialog '{0}'",this.getIdentifier(),e)).execute())};return p});
/*!
 * 
		SAP UI development toolkit for HTML5 (SAPUI5)
        (c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.predefine("sap/fe/test/api/DialogValueHelpAssertions", ["./DialogAssertions","./FilterBarAPI","./TableAPI","sap/ui/test/OpaBuilder","sap/fe/test/builder/FEBuilder","sap/fe/test/builder/MdcFilterBarBuilder","sap/fe/test/builder/MdcTableBuilder","sap/fe/test/Utils"],function(e,t,i,a,r,s,n,l){"use strict";var h=function(t,i){return e.call(this,t,i,0)};h.prototype=Object.create(e.prototype);h.prototype.constructor=h;h.prototype.isAction=false;h.prototype.iCheckFilterBar=function(e){return this.prepareResult(s.create(this.getOpaInstance()).isDialogElement().hasType("sap.ui.mdc.valuehelp.FilterBar").hasState(e).description(l.formatMessage("Checking that the value help dialog '{0}' has a filter bar with state='{1}'",this.getIdentifier(),e)).execute())};h.prototype.iCheckFilterField=function(e,i,a,r){var n=l.parseArguments([[String,Object],[String,Array,Object,Boolean],String,Object],arguments),h=s.create(this.getOpaInstance()).isDialogElement().hasType("sap.ui.mdc.valuehelp.FilterBar"),u=t.createFilterFieldBuilder(h,n[0],n[3]);if(!n[3]||n[3].visible!==false){u.hasValue(n[1],n[2])}return this.prepareResult(u.description(l.formatMessage("Checking that the field '{1}' in value help dialog '{0}' has condition values='{2}' and operator='{3}' and state='{4}'",this.getIdentifier(),n[0],n[1],n[2],n[3])).execute())};h.prototype.iCheckSearchField=function(e,t){var i=l.parseArguments([String,Object],arguments),a=s.create(this.getOpaInstance()).isDialogElement().hasType("sap.ui.mdc.valuehelp.FilterBar");return this.prepareResult(a.hasSearchField(i[0],i[1]).description(l.formatMessage("Checking that the search field on value help dialog '{0}' has search text '{1}' and state='{2}'",this.getIdentifier(),i[0]||"",i[1])).execute())};h.prototype.iCheckTable=function(e){return this.prepareResult(n.createWrapper(this.getOpaInstance(),"sap.ui.table.Table").isDialogElement().hasState(e).description(l.formatMessage("Checking that the value help dialog '{0}' has a table with state='{1}'",this.getIdentifier(),e)).execute())};h.prototype.iCheckRows=function(e,t,a){var r=l.parseArguments([Object,Number,Object],arguments),s=r[1],h=i.createRowMatchers(r[0],r[2]),u=n.createWrapper(this.getOpaInstance(),"sap.ui.table.Table").isDialogElement();if(h.length){u.hasRows(h,true).has(function(e){return l.isOfType(s,Number)?e.length===s:e.length>0})}else{u.hasNumberOfRows(s).hasRows(null,true)}return this.prepareResult(u.description(l.formatMessage("Checking that the table on value help dialog '{0}' has {1} rows with values='{2}' and state='{3}'",this.getIdentifier(),s===undefined?"> 0":s,r[0],r[2])).execute())};function u(e,t,i){var r=true;if(i&&i.visible===false){e.hasChildren(a.create(this).hasConditional(function(e){if(e.isA("sap.m.IconTabBar")){r=false;return true}else{return false}},function(e){return false},function(e){return true}),false).check(function(){return r})}else{e.hasChildren(a.create(this).hasType("sap.m.IconTabFilter").has(t),false)}return e}h.prototype.iCheckDefineConditions=function(e){var t="-ITB--header-1",i=r.Matchers.id(RegExp(t+"$")),a=u(this.getBuilder(),i,e);return this.prepareResult(a.description(l.formatMessage("Checking that the Define Conditions tab '{1}' on value help dialog '{0}' has state='{2}'",this.getIdentifier(),t,e)).execute())};h.prototype.iCheckSearchAndSelect=function(e){var t="-ITB--header-0",i=r.Matchers.id(RegExp(t+"$")),a=u(this.getBuilder(),i,e);return this.prepareResult(a.description(l.formatMessage("Checking that the Search and Select tab '{1}' on value help dialog '{0}' has state='{2}'",this.getIdentifier(),t,e)).execute())};h.prototype.iCheckState=function(e){if(this.getIdentifier().type==="ValueHelp"&&e&&e.title&&Object.keys(e).length===1){return this.prepareResult(this.getBuilder().has(function(t){var i=t.getParent&&t.getParent()&&t.getParent().getProperty("title");return i&&i.indexOf(e.title)>=0}).description(l.formatMessage("Checking dialog '{0}' in state '{1}'",this.getIdentifier(),e)).execute())}else{return this.prepareResult(this.getBuilder().has(function(t){var i=t.getTitle&&t.getTitle();if(e&&i==="Select: "+e.title){t.setTitle(e.title)}return true}).hasState(e).description(l.formatMessage("Checking dialog '{0}' in state '{1}'",this.getIdentifier(),e)).execute())}};return h});
/*!
 * 
		SAP UI development toolkit for HTML5 (SAPUI5)
        (c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.predefine("sap/fe/test/api/EditState", ["sap/fe/macros/filterBar/DraftEditState"],function(i){"use strict";return{All:"ALL",AllHidingDrafts:i.ALL_HIDING_DRAFTS.id,Unchanged:i.UNCHANGED.id,OwnDraft:i.OWN_DRAFT.id,Locked:i.LOCKED.id,UnsavedChanges:i.UNSAVED_CHANGES.id}},true);
/*!
 * 
		SAP UI development toolkit for HTML5 (SAPUI5)
        (c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.predefine("sap/fe/test/api/FilterBarAPI", ["./BaseAPI","sap/fe/test/Utils","sap/ui/test/OpaBuilder","sap/ui/test/actions/Action","sap/fe/test/builder/FEBuilder","sap/fe/test/builder/MdcFilterBarBuilder","sap/fe/test/builder/MdcFilterFieldBuilder"],function(e,t,i,r,s,a,n){"use strict";var o=function(i,r){if(!t.isOfType(i,a)){throw new Error("oFilterBarBuilder parameter must be a FilterBarBuilder instance")}return e.call(this,i,r)};o.prototype=Object.create(e.prototype);o.prototype.constructor=o;o.createFilterFieldBuilder=function(e,r,a){var o;if(t.isOfType(r,String)){o=i.Matchers.properties({label:r})}else{o=s.Matchers.id(RegExp(t.formatMessage("::FilterField::{0}$",r.property.replace(/\/|\*\//g,"::"))))}e.hasField(o,a,true);return n.create(e.getOpaInstance()).options(e.build())};o.prototype.iOpenFilterAdaptation=function(){var e=this.getBuilder();return this.prepareResult(e.doOpenSettings().success(s.create(this.getOpaInstance()).isDialogElement().hasType("sap.m.Button").hasProperties({icon:"sap-icon://group-2"}).doPress().success(s.create(this.getOpaInstance()).hasType("sap.m.Panel").isDialogElement().doConditional(function(e){return!e.getExpanded()},i.Actions.press("expandButton")))).description(t.formatMessage("Opening the filter bar adaptation dialog for '{0}'",this.getIdentifier())).execute())};o.prototype.iConfirmFilterAdaptation=function(){return this.prepareResult(a.createAdaptationDialogBuilder(this.getOpaInstance()).doPressFooterButton(i.Matchers.resourceBundle("text","sap.ui.mdc","p13nDialog.OK")).description(t.formatMessage("Closing the filter bar adaptation dialog for '{0}'",this.getIdentifier())).execute())};o.prototype.filterFieldAdaptation=function(n,o,p,l){var c=t.parseArguments([[String,Object],Object,[Function,Array,r],String],arguments),d=s.create(this.getOpaInstance()),u,f=s.create(this.getOpaInstance()).hasType("sap.m.CustomListItem").isDialogElement(),h=a.createAdaptationDialogBuilder(this.getOpaInstance());n=c[0];if(t.isOfType(n,String)){f.has(i.Matchers.bindingProperties(e.MDC_P13N_MODEL,{label:n}))}else{f.has(i.Matchers.bindingProperties(e.MDC_P13N_MODEL,{name:n.property}))}o=c[1];if(o.visible!==undefined){o.exists=o.visible;delete o.visible}if(o.selected!==undefined){o.visible=o.selected;delete o.selected}var g=o&&o.exists===false;if(!g&&!t.isOfType(o,[null,undefined])){f.has(i.Matchers.bindingProperties(e.MDC_P13N_MODEL,o))}p=c[2];if(!t.isOfType(p,[null,undefined])){h.do(p)}l=c[3];return this.prepareResult(d.success(function(){u=s.controlsExist(h);if(!u){this.iOpenFilterAdaptation()}if(!u){h.success(this.iConfirmFilterAdaptation.bind(this))}return h.has(i.Matchers.children(f)).has(function(e){if(g){return e.length===0}return s.Matchers.atIndex(0)(e)}).description(l).execute()}.bind(this)).execute())};return o});
/*!
 * 
		SAP UI development toolkit for HTML5 (SAPUI5)
        (c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.predefine("sap/fe/test/api/FilterBarActions", ["./FilterBarAPI","sap/fe/test/Utils","sap/fe/macros/filterBar/DraftEditState","sap/fe/test/builder/FEBuilder","sap/ui/test/Opa5","sap/ui/test/OpaBuilder","sap/fe/test/builder/VMBuilder"],function(e,t,i,r,a,s,n){"use strict";var o=function(t,i){return e.call(this,t,i)};o.prototype=Object.create(e.prototype);o.prototype.constructor=o;o.prototype.isAction=true;o.prototype.iChangeFilterField=function(i,r,a){var s=t.parseArguments([[String,Object],String,Boolean],arguments),n=e.createFilterFieldBuilder(this.getBuilder(),s[0]);return this.prepareResult(n.doChangeValue(s[1],s[2]).description(t.formatMessage("Changing the filter field '{1}' of filter bar '{0}' by adding '{2}' (was cleared first: {3})",this.getIdentifier(),s[0],s[1],!!s[2])).execute())};o.prototype.iSelectDropDownOption=function(e){return this.prepareResult(r.create().hasType("sap.m.List").isDialogElement(true).has(s.Matchers.aggregation("items")).has(function(t){return t.find(function(t){return t.getProperty("label")===e})}).doPress().description(t.formatMessage("Selecting option with label {0} in value help popup",e)).execute())};o.prototype.iOpenValueHelp=function(i){var r=e.createFilterFieldBuilder(this.getBuilder(),i);return this.prepareResult(r.doOpenValueHelp().description(t.formatMessage("Opening the value help for filter field '{1}' of filter bar '{0}'",this.getIdentifier(),i)).execute())};o.prototype.iChangeSearchField=function(e){var i=this.getBuilder();return this.prepareResult(i.doChangeSearch(e).description(t.formatMessage("Changing the search text on filter bar '{0}' to '{1}'",this.getIdentifier(),e||"")).execute())};o.prototype.iResetSearchField=function(){var e=this.getBuilder();return this.prepareResult(e.doResetSearch().description(t.formatMessage("Resetting the search field on filter bar '{0}'",this.getIdentifier())).execute())};o.prototype.iChangeEditingStatus=function(e){var r=this.getBuilder();return this.prepareResult(r.doChangeEditingStatus(e&&i[e]).description(t.formatMessage("Changing the editing status on filter bar '{0}' to '{1}'",this.getIdentifier(),e&&i[e].display)).execute())};o.prototype.iExecuteSearch=function(){var e=this.getBuilder();return this.prepareResult(e.doSearch().description(t.formatMessage("Executing search on filter bar '{0}'",this.getIdentifier())).execute())};o.prototype.iAddAdaptationFilterField=function(e){return this.filterFieldAdaptation(e,{selected:false},s.Actions.press("selectMulti"),t.formatMessage("Adding field '{1}' to filter bar '{0}'",this.getIdentifier(),e))};o.prototype.iRemoveAdaptationFilterField=function(e){return this.filterFieldAdaptation(e,{selected:true},s.Actions.press("selectMulti"),t.formatMessage("Removing field '{1}' to filter bar '{0}'",this.getIdentifier(),e))};o.prototype.iExecuteKeyboardShortcut=function(i,r){var a=r?e.createFilterFieldBuilder(this.getBuilder(),r):this.getBuilder();return this.prepareResult(a.doPressKeyboardShortcut(i).description(t.formatMessage("Execute keyboard shortcut '{1}' on filter bar '{0}' on field '{2}'",this.getIdentifier(),i,r)).execute())};o.prototype.iSaveVariant=function(e,i,r){var a=t.isOfType(e,String)?function(a){return n.create(this).hasId(a.getId()+"::VariantManagement").doSaveAs(e,i,r).description(t.formatMessage("Saving variant for '{0}' as '{1}' with default='{2}' and applyAutomatically='{3}'",this.getIdentifier(),e,!!i,!!r)).execute()}:function(e){return n.create(this).hasId(e.getId()+"::VariantManagement").doSave().description(t.formatMessage("Saving current variant for '{0}'",this.getIdentifier())).execute()};return this.prepareResult(this.getBuilder().success(a.bind(this)).execute())};o.prototype.iSelectVariant=function(e){return this.prepareResult(this.getBuilder().success(function(i){return n.create(this).hasId(i.getId()+"::VariantManagement").doSelectVariant(e).description(t.formatMessage("Selecting variant '{1}' from '{0}'",this.getIdentifier(),e)).execute()}.bind(this)).execute())};o.prototype.iSelectVisualFilter=function(e,t,i){return this.prepareResult(s.create(this).hasType("sap.fe.macros.controls.filterbar.VisualFilter").hasId(new RegExp(e,"i")).success(function(e){var r=e[0];var a;var s=r.getItems()[1].getItems()[0];var n=s.isA("sap.suite.ui.microchart.InteractiveLineChart")&&s.getPoints()||s.isA("sap.suite.ui.microchart.InteractiveBarChart")&&s.getBars();n.forEach(function(e){if(e.getLabel()==t){a=e}});if(!a){a=n[0]}if(s.isA("sap.suite.ui.microchart.InteractiveLineChart")){var o=s.getSelectedPoints();return s.fireSelectionChanged({selectedPoints:o,point:a,selected:i})}else if(s.isA("sap.suite.ui.microchart.InteractiveBarChart")){var u=s.getSelectedBars();return s.fireSelectionChanged({selectedPoints:u,point:a,selected:i})}}).description("Selecting an item in "+e+" VisualFilter").execute())};o.prototype.iOpenVisualFilterValueHelp=function(e){return this.prepareResult(s.create(this).hasType("sap.fe.macros.controls.filterbar.VisualFilter").hasId(new RegExp(e,"i")).success(function(e){var t=e[0].getId();s.create(this).hasType("sap.m.Button").hasId(t+"::VisualFilterValueHelpButton").doPress().execute()}).description("Open ValueHelp Dialog "+e+" VisualFilter").execute())};return o});
/*!
 * 
		SAP UI development toolkit for HTML5 (SAPUI5)
        (c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.predefine("sap/fe/test/api/FilterBarAssertions", ["./FilterBarAPI","sap/fe/test/Utils","sap/fe/test/builder/FEBuilder","sap/ui/test/OpaBuilder","sap/fe/macros/filterBar/DraftEditState"],function(e,t,r,i,a){"use strict";var s=function(t,r){return e.call(this,t,r)};s.prototype=Object.create(e.prototype);s.prototype.constructor=s;s.prototype.isAction=false;s.prototype.iCheckState=function(e){var r=this.getBuilder(),i=this.getIdentifier();if(i){r.description(t.formatMessage("Checking filter bar '{0}' for state='{1}'",this.getIdentifier(),e))}return this.prepareResult(r.hasState(e).execute())};s.prototype.iCheckFilterField=function(r,i,a,s){var n=t.parseArguments([[String,Object],[String,Array,Object,Boolean],String,Object],arguments),o=e.createFilterFieldBuilder(this.getBuilder(),n[0],n[3]);if(!n[3]||n[3].visible!==false){o.hasValue(n[1],n[2])}return this.prepareResult(o.description(t.formatMessage("Checking the field '{1}' of filter bar '{0}' for condition values='{2}' and operator='{3}' and state='{4}'",this.getIdentifier(),n[0],n[1],n[2],n[3])).execute())};s.prototype.iSeeFocusOnFilterField=function(e){var r=this.getBuilder();return this.prepareResult(r.hasFocusOnFilterField(e).description(t.formatMessage("Checking focus on Filter Field '{0}' ",e)).execute())};s.prototype.iSeeFocusOnGoButton=function(){var e=this.getBuilder();return this.prepareResult(e.hasFocusOnGoButton().description(t.formatMessage("Checking focus on the Go Button' ")).execute())};s.prototype.iCheckSearchField=function(e,r){var i=t.parseArguments([String,Object],arguments),a=this.getBuilder();return this.prepareResult(a.hasSearchField(i[0],i[1]).description(t.formatMessage("Checking the search field on filter bar '{0}' having search text '{1}' and state='{2}'",this.getIdentifier(),i[0]||"",i[1])).execute())};s.prototype.iCheckEditingStatus=function(e,r){var i=t.parseArguments([String,Object],arguments),s=this.getBuilder();return this.prepareResult(s.hasEditingStatus(i[0]&&a[i[0]],i[1]).description(t.formatMessage("Checking the editing status of filter bar '{0}' for value='{1}' and state='{2}'",this.getIdentifier(),i[0]&&a[i[0]].display,i[1])).execute())};s.prototype.iCheckSearch=function(e){var r=this.getBuilder();return this.prepareResult(r.hasProperties({showGoButton:!e||e.visible===undefined?true:e.visible}).description(t.formatMessage("Checking search on filter bar '{0}' for state='{1}'",this.getIdentifier(),e)).execute())};s.prototype.iCheckFilterAdaptation=function(){var e=r.createPopoverBuilder(this.getOpaInstance(),i.Matchers.resourceBundle("title","sap.ui.mdc","filterbar.ADAPT_TITLE"));return this.prepareResult(e.description(t.formatMessage("Checking filter adaptation dialog for filter bar '{0}'",this.getIdentifier())).execute())};s.prototype.iCheckAdaptationFilterField=function(e,r){return this.filterFieldAdaptation(e,r,t.formatMessage("Checking adaptation filter field '{1}' on filter bar '{0}' for state='{2}'",this.getIdentifier(),e,r))};s.prototype.iCheckVisualFilterSelections=function(e,t){return this.prepareResult(i.create(this).hasType("sap.fe.macros.controls.filterbar.VisualFilter").check(function(r){var i;for(var a=0;a<r.length;a++){if(r[a].getParent().getId().indexOf("FilterField::"+e)>-1){i=r[a];break}}var s=i.getItems()[1].getItems()[0];var n=s.isA("sap.suite.ui.microchart.InteractiveLineChart")&&s.getSelectedPoints()||s.isA("sap.suite.ui.microchart.InteractiveBarChart")&&s.getSelectedBars();var o=[];n.forEach(function(e){o.push(e.getLabel())});t.sort();o.sort();if(t.length!==o.length){return false}for(var l=0;l<t.length;l++){if(t[l]!==o[l]){return false}}return true}).description("Checking Selections of "+e+" VisualFilter").execute())};s.prototype.iCheckVisualFilterTitleAndToolTip=function(e,t,r){return this.prepareResult(i.create(this).hasType("sap.fe.macros.controls.filterbar.VisualFilter").check(function(i){var a;for(var s=0;s<i.length;s++){if(i[s].getParent().getId().indexOf("FilterField::"+e)>-1){a=i[s];break}}var n=a.getItems()[0].getItems()[0].getContent()[0];var o=a.getItems()[0].getItems()[0].getContent()[1];var l=o?o.getText():" | ";return t===n.getText()+(l===" "||l===" | "?"":o.getText())&&r===n.getTooltip()}).description("Checking Title and Tooltip of "+e+" VisualFilter").execute())};s.prototype.iCheckVisualFilterValueHelp=function(e,t){return this.prepareResult(i.create(this).hasType("sap.fe.macros.controls.filterbar.VisualFilter").check(function(r){var i;for(var a=0;a<r.length;a++){if(r[a].getParent().getId().indexOf("FilterField::"+e)>-1){i=r[a];break}}var s=i.getItems()[0].getItems()[0].getContent()[3];var n=s?s.getText():undefined;return s&&n===t}).description("Checking Value Help and its count of "+e+" VisualFilter").execute())};s.prototype.iCheckVisualFilterCriticality=function(e,t,r){return this.prepareResult(i.create(this).hasType("sap.fe.macros.controls.filterbar.VisualFilter").check(function(i){var a;for(var s=0;s<i.length;s++){if(i[s].getParent().getId().indexOf("FilterField::"+e)>-1){a=i[s];break}}var n=a.getItems()[1].getItems()[0];var o=n.isA("sap.suite.ui.microchart.InteractiveLineChart")&&n.getPoints()||n.isA("sap.suite.ui.microchart.InteractiveBarChart")&&n.getBars();for(var l=0;l<o.length;l++){if(o[l].getLabel()===t&&o[l].getColor()===r){return true}}return false}).description("Checking Criticality of "+t+" Item").execute())};s.prototype.iCheckVisualFilterValues=function(e,t){return this.prepareResult(i.create(this).hasType("sap.fe.macros.controls.filterbar.VisualFilter").check(function(r){var i;for(var a=0;a<r.length;a++){if(r[a].getParent().getId().indexOf("FilterField::"+e)>-1){i=r[a];break}}var s=i.getItems()[1].getItems()[0];var n=s.isA("sap.suite.ui.microchart.InteractiveLineChart")&&s.getPoints()||s.isA("sap.suite.ui.microchart.InteractiveBarChart")&&s.getBars();if(n.length!==t.length){return false}for(var o=0;o<n.length;o++){if(n[o].getDisplayedValue()!==t[o]){return false}}return true}).description("Checking Values of "+e+" VisualFilter").execute())};s.prototype.iCheckErrorMessageAndTitle=function(e,t,r){return this.prepareResult(i.create(this).hasType("sap.fe.macros.controls.filterbar.VisualFilter").check(function(i){var a;for(var s=0;s<i.length;s++){if(i[s].getParent().getId().indexOf("FilterField::"+e)>-1){a=i[s];break}}var n=a.getItems()[1].getItems()[0];var o=n.getErrorMessage();var l=n.getErrorMessageTitle();return o===t&&l===r}).description("Checking error message and title of "+e+" VisualFilter").execute())};s.prototype.iCheckIsVisualFilterRequired=function(e){return this.prepareResult(i.create(this).hasType("sap.fe.macros.controls.filterbar.VisualFilter").check(function(t){var r;for(var i=0;i<t.length;i++){if(t[i].getParent().getId().indexOf("FilterField::"+e)>-1){r=t[i];break}}var a=r.getItems()[0].getItems()[0].getContent()[0];return a.isA("sap.m.Label")&&a.getVisible()&&a.getRequired()}).description("Checking Whether "+e+" VisualFilter is Mandatory").execute())};return s});
/*!
 * 
		SAP UI development toolkit for HTML5 (SAPUI5)
        (c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.predefine("sap/fe/test/api/FooterAPI", ["./BaseAPI","sap/fe/test/Utils","sap/fe/test/builder/OverflowToolbarBuilder","sap/ui/test/OpaBuilder","sap/fe/test/builder/FEBuilder"],function(e,r,t,o,i){"use strict";var s=function(o,i){if(!r.isOfType(o,t)){throw new Error("oOverflowToolbarBuilder parameter must be a OverflowToolbarBuilder instance")}return e.call(this,o,i)};s.prototype=Object.create(e.prototype);s.prototype.constructor=s;return s});
/*!
 * 
		SAP UI development toolkit for HTML5 (SAPUI5)
        (c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.predefine("sap/fe/test/api/FooterActionsBase", ["./FooterAPI","sap/fe/test/Utils","sap/ui/test/OpaBuilder"],function(t,e,r){"use strict";var o=function(e,r){return t.call(this,e,r)};o.prototype=Object.create(t.prototype);o.prototype.constructor=o;o.prototype.isAction=true;o.prototype.iExecuteAction=function(t){var o=this.getBuilder();return this.prepareResult(o.doOnContent(this.createActionMatcher(t),r.Actions.press()).description(e.formatMessage("Executing footer action '{0}'",t)).execute())};return o});
/*!
 * 
		SAP UI development toolkit for HTML5 (SAPUI5)
        (c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.predefine("sap/fe/test/api/FooterActionsOP", ["./FooterActionsBase","sap/fe/test/Utils","sap/ui/test/OpaBuilder"],function(t,e,n){"use strict";var r=function(e,n){return t.call(this,e,n)};r.prototype=Object.create(t.prototype);r.prototype.constructor=r;r.prototype.isAction=true;r.prototype.iExecuteSave=function(){return this.iExecuteAction({service:"StandardAction",action:"Save",unbound:true})};r.prototype.iExecuteApply=function(){return this.iExecuteAction({service:"StandardAction",action:"Apply",unbound:true})};r.prototype.iExecuteCancel=function(){return this.iExecuteAction({service:"StandardAction",action:"Cancel",unbound:true})};r.prototype.iConfirmCancel=function(){return this.prepareResult(n.create(this).hasType("sap.m.Popover").isDialogElement().doOnChildren(n.Matchers.resourceBundle("text","sap.fe.core","C_TRANSACTION_HELPER_DRAFT_DISCARD_BUTTON"),n.Actions.press()).description("Confirming discard changes").execute())};return r});
/*!
 * 
		SAP UI development toolkit for HTML5 (SAPUI5)
        (c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.predefine("sap/fe/test/api/FooterAssertionsBase", ["./FooterAPI","sap/fe/test/Utils"],function(t,e){"use strict";var r=function(e,r){return t.call(this,e,r)};r.prototype=Object.create(t.prototype);r.prototype.constructor=r;r.prototype.isAction=false;r.prototype.iCheckAction=function(t,r){var o=this.getBuilder();return this.prepareResult(o.hasContent(this.createActionMatcher(t),r).description(e.formatMessage("Checking footer action '{0}' with state='{1}'",t,r)).execute())};r.prototype.iCheckState=function(t){var r=this.getBuilder();return this.prepareResult(r.hasState(t).description(e.formatMessage("Checking footer with state='{0}'",t)).execute())};return r});
/*!
 * 
		SAP UI development toolkit for HTML5 (SAPUI5)
        (c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.predefine("sap/fe/test/api/FooterAssertionsOP", ["./FooterAssertionsBase","sap/fe/test/Utils","sap/m/library"],function(t,e,r){"use strict";var n=function(e,r){return t.call(this,e,r)};n.prototype=Object.create(t.prototype);n.prototype.constructor=n;n.prototype.isAction=false;var i=r.DraftIndicatorState;function o(t,e){return t.hasContent(function(t){return t.getMetadata().getName()==="sap.m.DraftIndicator"&&t.getState()===e}).description("Draft Indicator on footer bar is in "+e+" state").execute()}n.prototype.iCheckSave=function(t){return this.iCheckAction({service:"StandardAction",action:"Save",unbound:true},t)};n.prototype.iCheckApply=function(t){return this.iCheckAction({service:"StandardAction",action:"Apply",unbound:true},t)};n.prototype.iCheckCancel=function(t){return this.iCheckAction({service:"StandardAction",action:"Cancel",unbound:true},t)};n.prototype.iCheckDraftStateClear=function(){return this.prepareResult(o(this.getBuilder(),i.Clear))};n.prototype.iCheckDraftStateSaved=function(){return this.prepareResult(o(this.getBuilder(),i.Saved))};return n});
/*!
 * 
		SAP UI development toolkit for HTML5 (SAPUI5)
        (c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.predefine("sap/fe/test/api/FormAPI", ["./BaseAPI","sap/fe/test/Utils","sap/ui/test/OpaBuilder","sap/fe/test/builder/FEBuilder","sap/fe/test/builder/MacroFieldBuilder","sap/base/Log"],function(e,t,r,a,i,s){"use strict";var o=function(r,i){if(!t.isOfType(r,a)){throw new Error("oFormBuilder parameter must be a FEBuilder instance")}return e.call(this,r,i)};o.prototype=Object.create(e.prototype);o.prototype.constructor=o;o.prototype.createFieldBuilder=function(e){var t=new i(this.getOpaInstance(),this.getBuilder().build());if(e.fieldGroup){t.has(r.Matchers.children(this._getBuilderForFieldGroup(e)))}return t.has(r.Matchers.children(this._getBuilderForFormElement(e))).has(a.Matchers.singleElement()).has(r.Matchers.children(this.createFieldMatcher(e))).has(a.Matchers.singleElement())};o.prototype._getBuilderForFormElement=function(e){return a.create(this.getOpaInstance()).hasType("sap.ui.layout.form.FormElement").hasSome(this.createFormElementMatcher(e,"DataField"),this.createFormElementMatcher(e,"DataFieldWithNavigationPath"),this.createFormElementMatcher(e,"DataFieldWithUrl"),this.createFormElementMatcher(e,"DataFieldForAnnotation"),this.createFormElementMatcher(e,"DataFieldWithIntentBasedNavigation"))};o.prototype._getBuilderForFieldGroup=function(e){return a.create(this.getOpaInstance()).hasType("sap.ui.layout.form.FormContainer").has(this.createFieldGroupMatcher(e))};return o});
/*!
 * 
		SAP UI development toolkit for HTML5 (SAPUI5)
        (c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.predefine("sap/fe/test/api/FormActions", ["./FormAPI","sap/fe/test/Utils","sap/ui/test/OpaBuilder","sap/fe/test/builder/FEBuilder","sap/fe/test/builder/MacroFieldBuilder","sap/fe/test/builder/OverflowToolbarBuilder"],function(e,t,r,i,s,o){"use strict";var n=function(t,r){return e.call(this,t,r)};n.prototype=Object.create(e.prototype);n.prototype.constructor=n;n.prototype.isAction=true;function u(e,i){var s=e.getBuilder(),o,n=i?"--seeMore":"--seeLess";s.has(function(e){o=e.getId().substring(e.getId().lastIndexOf("::")+2);return true}).execute();return e.prepareResult(r.create(e).hasId(new RegExp(t.formatMessage("{0}$",n))).has(function(e){return e.getId().substring(e.getId().lastIndexOf("::")+2)===o+n}).doPress().description(t.formatMessage("Pressing '{0}' action",n)).execute())}n.prototype.iExecuteAction=function(e){var r=this.getBuilder(),i=this.getIdentifier(),s;if(i.fieldGroupId===undefined){return this.prepareResult(r.doOnSubSectionToolBar(this.createActionMatcher(e)).description(t.formatMessage("Pressing action '{1}' on form '{0}'",this.getIdentifier(),e)).execute())}else{s=i.fullSubSectionId.substring(0,i.fullSubSectionId.indexOf("--"))+"--"+i.fieldGroupId;return this.prepareResult(o.create(this).hasId(s+"::FormActionsToolbar").doOnContent(this.createActionMatcher(e)).execute())}};n.prototype.iExecuteShowMore=function(){return u(this,true)};n.prototype.iExecuteShowLess=function(){return u(this,false)};n.prototype.iClickLink=function(e){return this.prepareResult(this.createFieldBuilder(e).hasState({controlType:"sap.m.Link"}).doPress().description(t.formatMessage("Clicking link '{1}' on form '{0}'",this.getIdentifier(),e)).execute())};n.prototype.iClickObjectStatus=function(e){return this.prepareResult(this.createFieldBuilder(e).hasState({controlType:"sap.m.ObjectStatus"}).doPress().description(t.formatMessage("Clicking ObjectStatus '{1}' on form '{0}'",this.getIdentifier(),e)).execute())};n.prototype.iClickCheckBox=function(e){return this.prepareResult(this.createFieldBuilder(e).hasState({controlType:"sap.m.CheckBox"}).doPress().description(t.formatMessage("Clicking checkBox '{1}' on form '{0}'",this.getIdentifier(),e)).execute())};n.prototype.iChangeField=function(e,r){return this.prepareResult(this.createFieldBuilder(e).doEnterText(r,true,false,true).description(t.formatMessage("Entering value '{1}' into field '{2}' on form '{0}'",this.getIdentifier(),r,e)).execute())};n.prototype.iOpenValueHelp=function(e){return this.prepareResult(this.createFieldBuilder(e).hasState({visible:true}).doOpenValueHelp().description(t.formatMessage("Opening the value help for field '{1}' on form '{0}'",this.getIdentifier(),e)).execute())};return n});
/*!
 * 
		SAP UI development toolkit for HTML5 (SAPUI5)
        (c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.predefine("sap/fe/test/api/FormAssertions", ["./FormAPI","sap/fe/test/Utils","sap/ui/test/OpaBuilder","sap/fe/test/builder/FEBuilder","sap/fe/test/builder/MacroFieldBuilder"],function(e,t,r,i,s){"use strict";var n=function(t,r){return e.call(this,t,r)};n.prototype=Object.create(e.prototype);n.prototype.constructor=n;n.prototype.isAction=false;function o(e,r,s){var n=e.getBuilder(),o,a=r?"--seeMore":"--seeLess";n.has(function(e){o=e.getId().substring(e.getId().lastIndexOf("::")+2);return true}).execute();return e.prepareResult(i.create(e).hasId(new RegExp(t.formatMessage("{0}$",a))).has(function(e){return e.getId().substring(e.getId().lastIndexOf("::")+2)===o+a}).hasState(s).description(t.formatMessage("Checking '{0}' action with state='{1}'",a,s)).execute())}n.prototype.iCheckState=function(e){var r=this.getBuilder();return this.prepareResult(r.hasState(e).description(t.formatMessage("Checking Form '{0}'{1}",this.getIdentifier(),e?t.formatMessage(" in state '{0}'",e):"")).execute())};n.prototype.iCheckAction=function(e,r){var s=t.parseArguments([[Object,String],Object],arguments),n=this.getBuilder();return this.prepareResult(n.hasAggregation("actions",[this.createActionMatcher(e),i.Matchers.states(r)]).description(t.formatMessage("Checking custom action '{0}' with state='{1}'",s[0],s[1])).execute())};n.prototype.iCheckShowMore=function(e){return o(this,true,e)};n.prototype.iCheckShowLess=function(e){return o(this,false,e)};n.prototype.iCheckField=function(e,r,i){var s=t.parseArguments([[Object,String],[String,Array,Object],Object],arguments);return this.prepareResult(this.createFieldBuilder(e).hasValue(s[1]).hasState(s[2]).description(t.formatMessage("Checking field '{1}' on form '{0}' with value '{2}' and state='{3}'",this.getIdentifier(),s[0],s[1],s[2])).execute())};n.prototype.iCheckLink=function(e,r,i){var s=t.parseArguments([[Object,String],String,Object],arguments);return this.iCheckField(s[0],s[1],t.mergeObjects({controlType:"sap.m.Link"},s[2]))};n.prototype.iCheckFormContainersElementCount=function(e,r,i){var s=t.parseArguments([String,Number,Object],arguments),n=this.getIdentifier().fullSubSectionId,o=s[2],a=n.split("--")[0],c=n.split("--")[1].split("::")[2],u=a+"--"+"fe::FormContainer::"+s[0];return this.prepareResult(this.getBuilder().hasId(u).has(function(e){var t;if(Object.keys(o).length){t=e.getFormElements().filter(function(e){return Object.keys(o).every(function(t){return o[t]===e.getProperty(t)})})}else{t=e.getFormElements()}return t.length===r}).description(t.formatMessage("Form Container '{0}' on Form '{1}' has '{2}' Form Elements.",s[0],c,s[1])).execute())};return n});
/*!
 * 
		SAP UI development toolkit for HTML5 (SAPUI5)
        (c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.predefine("sap/fe/test/api/HeaderAPI", ["./BaseAPI","sap/fe/test/Utils","sap/ui/test/OpaBuilder","sap/fe/test/builder/FEBuilder","sap/fe/test/builder/OverflowToolbarBuilder","sap/fe/core/helpers/StableIdHelper"],function(e,t,a,r,n,o){"use strict";var p=function(a,n){if(!t.isOfType(a,r)){throw new Error("oHeaderBuilder parameter must be a FEBuilder instance")}return e.call(this,a,n)};p.prototype=Object.create(e.prototype);p.prototype.constructor=p;p.prototype.createOverflowToolbarBuilder=function(e){return n.create(this.getOpaInstance()).hasType("sap.m.OverflowToolbar").has(function(t){return t.getParent().getMetadata().getName()==="sap.uxap.ObjectPageDynamicHeaderTitle"&&t.getParent().getParent().getMetadata().getName()==="sap.uxap.ObjectPageLayout"&&t.getParent().getParent().getId()===e})};p.prototype.getObjectPageDynamicHeaderTitleBuilder=function(e){return a.create(this.getOpaInstance()).hasType("sap.uxap.ObjectPageDynamicHeaderTitle").has(a.Matchers.ancestor(e,true))};p.prototype.getObjectPageDynamicHeaderContentBuilder=function(e){return a.create(this.getOpaInstance()).hasId(e)};p.prototype.getObjectPageLayoutBuilder=function(e){return r.create(this.getOpaInstance()).hasType("sap.uxap.ObjectPageLayout").hasId(e)};p.prototype.getObjectPageHeaderContentContainerBuilder=function(e){return r.create(this.getOpaInstance()).hasType("sap.m.FlexBox").hasId(e)};p.prototype.getFieldGroupFieldId=function(e,t){var a="fe::HeaderFacet";a+="::Form";a+="::"+o.prepareId(e.fieldGroup);a+="::DataField";a+="::"+e.field;a+="::Field";a=o.prepareId(a);return t?t+"--"+a:a};p.prototype.getDataFieldForAnnotationId=function(e,t){var a="fe::HeaderFacet";a+="::Form";a+="::"+o.prepareId(e.fieldGroup);a+="::DataFieldForAnnotation";a+="::"+e.field;a+="::"+e.targetAnnotation;a+="::Field";a=o.prepareId(a);return t?t+"--"+a:a};p.prototype.createPaginatorBuilder=function(e,t,n){return r.create(this.getOpaInstance()).hasType("sap.uxap.ObjectPageHeaderActionButton").has(e).hasState(n).has(a.Matchers.ancestor(t,false))};return p});
/*!
 * 
		SAP UI development toolkit for HTML5 (SAPUI5)
        (c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.predefine("sap/fe/test/api/HeaderActions", ["./HeaderAPI","sap/fe/test/Utils","sap/ui/test/OpaBuilder","sap/fe/test/builder/FEBuilder","./APIHelper"],function(e,t,r,i,n){"use strict";var s=function(t,r){this._sObjectPageLayoutId=r.id;this._sHeaderContentId=r.headerContentId;this._sHeaderContentContainerId=r.headerContentContainerId;this._sViewId=r.viewId;this._sPaginatorId=r.paginatorId;this._sBreadCrumbId=r.breadCrumbId;return e.call(this,t,r)};s.prototype=Object.create(e.prototype);s.prototype.constructor=s;s.prototype.isAction=true;s.prototype.iExecuteAction=function(e){var i=this.createOverflowToolbarBuilder(this._sObjectPageLayoutId);return this.prepareResult(i.doOnContent(this.createActionMatcher(e),r.Actions.press()).description(t.formatMessage("Executing header action '{0}'",e)).execute())};s.prototype.iExecuteEdit=function(){return this.iExecuteAction({service:"StandardAction",action:"Edit",unbound:true})};s.prototype.iExecuteDraftAndSavedVersionSwitch=function(){return this.iExecuteAction({service:"StandardAction",action:"SwitchDraftAndActiveObject",unbound:true})};s.prototype.iExecuteDelete=function(){return this.iExecuteAction({service:"StandardAction",action:"Delete",unbound:true})};s.prototype.iExecuteRelatedApps=function(){return this.iExecuteAction({service:"fe",action:"RelatedApps",unbound:true})};s.prototype.iExecuteMenuAction=function(e){return this.prepareResult(n.createMenuActionExecutorBuilder(e).execute())};s.prototype.iExecuteSelectListAction=function(e){return this.prepareResult(n.createSelectListActionExecutorBuilder(e).execute())};s.prototype.iExecutePaginatorDown=function(){return this.prepareResult(this.createPaginatorBuilder(r.Matchers.properties({icon:"sap-icon://navigation-down-arrow"}),this._sViewId+"--"+this._sPaginatorId,{visible:true,enabled:true}).doPress().description("Paginator button Down pressed").execute())};s.prototype.iExecutePaginatorUp=function(){return this.prepareResult(this.createPaginatorBuilder(r.Matchers.properties({icon:"sap-icon://navigation-up-arrow"}),this._sViewId+"--"+this._sPaginatorId,{visible:true,enabled:true}).doPress().description("Paginator button Up pressed").execute())};s.prototype.iNavigateByBreadcrumb=function(e){var n=i.create(this.getOpaInstance()).hasType("sap.fe.macros.Breadcrumbs");return this.prepareResult(n.doOnAggregation("content/links",r.Matchers.properties({text:e}),r.Actions.press()).description(t.formatMessage("Navigating by breadcrumb link '{0}'",e)).execute())};s.prototype.iExecuteSaveAsTile=function(e){var s={icon:"sap-icon://action"};var o=i.create(this.getOpaInstance());return this.prepareResult(o.hasType("sap.m.Button").hasProperties(s).do(r.Actions.press()).description(t.formatMessage("Open share menu")).success(n.createSaveAsTileExecutorBuilder(e)).execute())};s.prototype.iExecuteSendEmail=function(){var e={icon:"sap-icon://action"},s=i.create(this.getOpaInstance());return this.prepareResult(s.hasType("sap.m.Button").hasProperties(e).do(r.Actions.press()).description(t.formatMessage("Pressing header '{0}' Share button",this.getIdentifier())).success(n.createSendEmailExecutorBuilder()).execute())};s.prototype.iClickLink=function(e){var n=this.getObjectPageHeaderContentContainerBuilder(this._sHeaderContentContainerId);return this.prepareResult(n.has(r.Matchers.children(i.create().hasType("sap.m.Link").hasProperties({text:e}))).doPress().description(t.formatMessage("Pressing link '{0}'",e)).execute())};return s});
/*!
 * 
		SAP UI development toolkit for HTML5 (SAPUI5)
        (c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.predefine("sap/fe/test/api/HeaderActionsLR", ["./HeaderLR","sap/fe/test/Utils","sap/ui/test/OpaBuilder","sap/fe/test/builder/FEBuilder","./APIHelper"],function(e,t,r,s,i){"use strict";var o=function(t,r){return e.call(this,t,r)};o.prototype=Object.create(e.prototype);o.prototype.constructor=o;o.prototype.isAction=true;o.prototype.iExecuteAction=function(e){var s=t.parseArguments([[Object,String]],arguments),i=this.createOverflowToolbarBuilder(this._sPageId);return this.prepareResult(i.doOnContent(this.createActionMatcher(e),r.Actions.press()).description(t.formatMessage("Executing custom header action '{0}'",s[0])).execute())};o.prototype.iExecuteSaveAsTile=function(e){var o={icon:"sap-icon://action"};var a=s.create(this.getOpaInstance());return this.prepareResult(a.hasProperties(o).do(r.Actions.press()).description(t.formatMessage("Open share menu")).success(i.createSaveAsTileExecutorBuilder(e)).execute())};o.prototype.iExecuteSendEmail=function(){var e={icon:"sap-icon://action"},o=s.create(this.getOpaInstance());return this.prepareResult(o.hasProperties(e).do(r.Actions.press()).description(t.formatMessage("Pressing header '{0}' Share button",this.getIdentifier())).success(i.createSendEmailExecutorBuilder()).execute())};return o});
/*!
 * 
		SAP UI development toolkit for HTML5 (SAPUI5)
        (c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.predefine("sap/fe/test/api/HeaderAssertions", ["./HeaderAPI","sap/fe/test/Utils","sap/ui/test/OpaBuilder","sap/fe/test/builder/FEBuilder","sap/fe/test/builder/MacroFieldBuilder","./APIHelper"],function(e,t,r,a,i,s){"use strict";var n=function(t,r){this._sObjectPageLayoutId=r.id;this._sHeaderId=r.headerId;this._sHeaderContentId=r.headerContentId;this._sHeaderContentContainerId=r.headerContentContainerId;this._sViewId=r.viewId;this._sPaginatorId=r.paginatorId;this._sBreadCrumbId=r.breadCrumbId;return e.call(this,t,r)};n.prototype=Object.create(e.prototype);n.prototype.constructor=n;n.prototype.isAction=false;n.prototype.iCheckAction=function(e,r){var a=this.createOverflowToolbarBuilder(this._sObjectPageLayoutId);return this.prepareResult(a.hasContent(this.createActionMatcher(e),r).description(t.formatMessage("Checking header action '{0}' in state '{1}'",e,r)).execute())};n.prototype.iCheckEdit=function(e){return this.iCheckAction({service:"StandardAction",action:"Edit",unbound:true},e)};n.prototype.iCheckDraftToggle=function(e){var r=a.create(this.getOpaInstance());return this.prepareResult(r.hasId(this.createActionMatcher({service:"StandardAction",action:"SwitchDraftAndActiveObject::_dt"})).hasType("sap.m.Button").hasState(e).description(t.formatMessage("Checking draft toggle action: '{0}'",e)).execute())};n.prototype.iCheckActionHasFocus=function(e){var r=a.create(this.getOpaInstance());return this.prepareResult(r.hasId(this.createActionMatcher(e)).hasState({focused:true}).description(t.formatMessage("Checking focus on header action '{0}'",e)).execute())};n.prototype.iCheckDelete=function(e){return this.iCheckAction({service:"StandardAction",action:"Delete",unbound:true},e)};n.prototype.iCheckRelatedApps=function(e){return this.iCheckAction({service:"fe",action:"RelatedApps",unbound:true},e)};n.prototype.iCheckMenuAction=function(e){return this.prepareResult(s.createMenuActionCheckBuilder(e).execute())};n.prototype.iCheckNumberOfHeaderContentItems=function(e,r){var a=this.getObjectPageDynamicHeaderContentBuilder(this._sHeaderContentId);return this.prepareResult(a.has(function(t){var a=t.getContent()[0].getItems();if(!r){a=a.filter(function(e){return e.getVisible()})}return a.length===e}).description(t.formatMessage("Checking number of header content with '{0}' items",e)).execute())};n.prototype.iCheckFieldInFieldGroup=function(e,r,a){var s=t.parseArguments([Object,[Array,String],Object],arguments),n=(e.targetAnnotation?this.getDataFieldForAnnotationId(e,this._sViewId):this.getFieldGroupFieldId(e,this._sViewId))+"-content";return this.prepareResult(i.create(this).hasId(n).hasValue(s[1]).hasState(s[2]).description(t.formatMessage("Seeing field '{0}' with value '{1}' and state='{2}'",s[0],s[1],s[2])).execute())};n.prototype.iCheckDataPoint=function(e,a){var i=this.getObjectPageDynamicHeaderContentBuilder(this._sHeaderContentId);return this.prepareResult(i.has(r.Matchers.childrenMatcher(r.Matchers.some([r.create(this).hasType("sap.m.ObjectNumber").hasProperties({number:a}).has(function(e){return e.getParent()}).hasAggregationProperties("items",{text:e}),r.create(this).hasType("sap.m.ObjectStatus").hasProperties({text:a}).has(function(e){return e.getParent()}).hasAggregationProperties("items",{text:e})]))).description(t.formatMessage("Seeing header data point '{0}' with value '{1}'",e,a)).execute())};n.prototype.iCheckTitle=function(e,t){var a=this.getObjectPageDynamicHeaderTitleBuilder(this._sObjectPageLayoutId);return this.prepareResult(a.hasConditional(e!==undefined,r.Matchers.childrenMatcher(r.create(this).hasType("sap.m.Title").hasProperties({text:e}))).hasConditional(t!==undefined,r.Matchers.childrenMatcher(r.create(this).hasType("sap.m.Label").hasProperties({text:t}))).description(!t?"Seeing Object Page header title '"+e+"'":"Seeing Object Page header title '"+e+"' and subtitle '"+t+"'").execute())};n.prototype.iCheckPaginatorDown=function(e){return this.prepareResult(this.createPaginatorBuilder(r.Matchers.properties({icon:"sap-icon://navigation-down-arrow"}),this._sViewId+"--"+this._sPaginatorId,e).description(t.formatMessage("Checking paginator down action with state='{0}'",e)).execute())};n.prototype.iCheckPaginatorUp=function(e){return this.prepareResult(this.createPaginatorBuilder(r.Matchers.properties({icon:"sap-icon://navigation-up-arrow"}),this._sViewId+"--"+this._sPaginatorId,e).description(t.formatMessage("Checking paginator up action with state='{0}'",e)).execute())};n.prototype.iCheckMicroChart=function(e,a){var i=r.create(this.getOpaInstance());if(!t.isOfType(e,String)){i.hasId(this._sViewId+"--"+this._sHeaderId+"::MicroChart::"+e.chartId+"::"+e.chartType);if(a!==undefined){i.hasAggregationProperties("_uomLabel",{text:a});i.description(t.formatMessage("Seeing Micro Chart of type '{0}' with identifier '{1}' and UoM Label '{2}'",e.chartType,e.chartId,a))}else{i.description(t.formatMessage("Seeing Micro Chart of type '{0}' with identifier '{1}'",e.chartType,e.chartId))}}else{i.hasProperties({chartTitle:e});if(a!==undefined){i.hasAggregationProperties("_uomLabel",{text:a});i.description(t.formatMessage("Seeing Micro Chart with title '{0}' and UoM Label '{1}'",e,a))}else{i.description(t.formatMessage("Seeing Micro Chart with title '{0}'",e))}}return this.prepareResult(i.execute())};n.prototype.iCheckHeaderFacet=function(e,i){var s=t.parseArguments([[Object,String],Object],arguments),n=this.getObjectPageHeaderContentContainerBuilder(this._sHeaderContentContainerId),o=new RegExp("fe::HeaderFacetContainer::"+e.facetId+"$");if(e.custom){o=new RegExp("fe::HeaderFacetCustomContainer::"+e.facetId+"$")}else if(e.collection){o=new RegExp("fe::HeaderCollectionFacetContainer::"+e.facetId+"$")}return this.prepareResult(n.has(r.Matchers.childrenMatcher(a.create(this.getOpaInstance()).hasId(o).hasState(i))).description(t.formatMessage("Checking Header Facet '{0}' with state='{1}'",s[0],s[1])).execute())};n.prototype.iCheckBreadCrumb=function(e){var r=a.create(this.getOpaInstance()).hasType("sap.fe.macros.Breadcrumbs");var i=a.create(r).hasId(this._sBreadCrumbId).hasType("sap.m.Breadcrumbs");if(e!==undefined&&e.length>0){r.doOnChildren(i.hasAggregationProperties("links",{text:e}));r.description(t.formatMessage("Checking breadcrumb link '{0}'",e))}else if(e!==undefined&&e.length===0){r.doOnChildren(i.hasAggregationLength("links",0));r.hasState({visible:true});r.description("Checking for existing but empty breadcrumbs")}else if(e===undefined){r.hasState({visible:false});r.description("Checking for non-existent breadcrumbs")}return this.prepareResult(r.execute())};n.prototype.iCheckSaveAsTile=function(e){var i={icon:"sap-icon://action"};var n=a.create(this.getOpaInstance());return this.prepareResult(n.hasType("sap.m.Button").hasProperties(i).do(r.Actions.press()).description(t.formatMessage("Open share menu")).success(s.createSaveAsTileCheckBuilder(e)).success(a.create().hasType("sap.m.Button").hasProperties(i).do(r.Actions.press()).description("Close the popup menu")).execute())};n.prototype.iCheckSendEmail=function(e){var i={icon:"sap-icon://action"};var n=a.create(this.getOpaInstance());return this.prepareResult(n.hasType("sap.m.Button").hasProperties(i).do(r.Actions.press()).description(t.formatMessage("Open share menu")).success(s.createSendEmailCheckBuilder(e)).success(a.create().hasType("sap.m.Button").hasProperties(i).do(r.Actions.press()).description("Close the popup menu")).execute())};n.prototype.iCheckLink=function(e,i){var s=t.parseArguments([String,Object],arguments),n=this.getObjectPageHeaderContentContainerBuilder(this._sHeaderContentContainerId);return this.prepareResult(n.has(r.Matchers.childrenMatcher(a.create().hasType("sap.m.Link").hasProperties({text:e}).hasState(s[1]))).description(t.formatMessage("Checking link '{0}' with state='{1}'",s[0],s[1])).execute())};n.prototype.iCheckNumberOfCollaboratingUsers=function(e){var i=a.create(this.getOpaInstance()).hasId(this._sObjectPageLayoutId);return this.prepareResult(i.hasChildren(a.create(this).hasType("sap.uxap.ObjectPageDynamicHeaderTitle").has(r.Matchers.children(a.create(this).hasType("sap.m.Avatar"))).has(function(t){return t&&t.length==e+1})).description(t.formatMessage("Checking number of collaborating user: {0}",e)).execute())};n.prototype.iCheckCollaboratingUser=function(e){var r=a.create(this.getOpaInstance()).hasId(this._sObjectPageLayoutId);return this.prepareResult(r.hasChildren(a.create(this).hasType("sap.uxap.ObjectPageDynamicHeaderTitle").hasChildren(a.create(this).hasType("sap.m.Avatar").hasProperties({initials:e}))).description(t.formatMessage("Checking collaborating user with initials '{0}'",e)).execute())};return n});
/*!
 * 
		SAP UI development toolkit for HTML5 (SAPUI5)
        (c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.predefine("sap/fe/test/api/HeaderAssertionsLR", ["./HeaderLR","sap/fe/test/Utils","sap/ui/test/OpaBuilder","sap/fe/test/builder/FEBuilder","sap/fe/test/builder/MdcFieldBuilder","./APIHelper"],function(e,t,s,r,a,i){"use strict";var o=function(t,s){return e.call(this,t,s)};o.prototype=Object.create(e.prototype);o.prototype.constructor=o;o.prototype.isAction=false;o.prototype.iCheckAction=function(e,s){var r=t.parseArguments([[Object,String],Object],arguments),a=this.createOverflowToolbarBuilder(this._sPageId);return this.prepareResult(a.hasContent(this.createActionMatcher(e),s).description(t.formatMessage("Checking custom header action '{0}' with state='{1}'",r[0],r[1])).execute())};o.prototype.iCheckSaveAsTile=function(e){var a={icon:"sap-icon://action"};var o=r.create(this.getOpaInstance());return this.prepareResult(o.hasType("sap.m.Button").hasProperties(a).do(s.Actions.press()).description(t.formatMessage("Open share menu")).success(i.createSaveAsTileCheckBuilder(e)).success(r.create().hasType("sap.m.Button").hasProperties(a).do(s.Actions.press()).description("Close the popup menu")).execute())};o.prototype.iCheckSendEmail=function(e){var a={icon:"sap-icon://action"};var o=r.create(this.getOpaInstance());return this.prepareResult(o.hasType("sap.m.Button").hasProperties(a).do(s.Actions.press()).description(t.formatMessage("Open share menu")).success(i.createSendEmailCheckBuilder(e)).success(r.create().hasType("sap.m.Button").hasProperties(a).do(s.Actions.press()).description("Close the popup menu")).execute())};return o});
/*!
 * 
		SAP UI development toolkit for HTML5 (SAPUI5)
        (c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.predefine("sap/fe/test/api/HeaderLR", ["./BaseAPI","sap/fe/test/Utils","sap/ui/test/OpaBuilder","sap/fe/test/builder/FEBuilder","sap/fe/test/builder/OverflowToolbarBuilder","sap/fe/core/helpers/StableIdHelper"],function(e,t,r,a,s,i){"use strict";var n=function(r,s){if(!t.isOfType(r,a)){throw new Error("oHeaderBuilder parameter must be a FEBuilder instance")}this._sPageId=s.id;return e.call(this,r,s)};n.prototype=Object.create(e.prototype);n.prototype.constructor=n;n.prototype.createOverflowToolbarBuilder=function(e){return s.create(this.getOpaInstance()).hasType("sap.m.OverflowToolbar").has(function(t){return t.getParent().getMetadata().getName()==="sap.f.DynamicPageTitle"&&t.getParent().getParent().getMetadata().getName()==="sap.f.DynamicPage"&&t.getParent().getParent().getId().endsWith(e)})};return n});
/*!
 * 
		SAP UI development toolkit for HTML5 (SAPUI5)
        (c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.predefine("sap/fe/test/api/KPICardAPI", ["./BaseAPI","sap/fe/test/Utils","sap/fe/test/builder/KPIBuilder"],function(e,t,r){"use strict";var i=function(i){if(!t.isOfType(i,r)){throw new Error("oKPIBuilder parameter must be an KPIBuilder instance")}return e.call(this,i)};i.prototype=Object.create(e.prototype);i.prototype.constructor=i;return i});
/*!
 * 
		SAP UI development toolkit for HTML5 (SAPUI5)
        (c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.predefine("sap/fe/test/api/KPICardActions", ["./KPICardAPI","sap/fe/test/Utils","sap/fe/test/builder/FEBuilder"],function(e,t,r){"use strict";var i=function(t){return e.call(this,t)};i.prototype=Object.create(e.prototype);i.prototype.constructor=i;i.prototype.isAction=true;i.prototype.iClickHeader=function(){var e=this.getBuilder();return this.prepareResult(e.doClickKPICardHeader().description("Clicking KPI card header").execute())};return i});
/*!
 * 
		SAP UI development toolkit for HTML5 (SAPUI5)
        (c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.predefine("sap/fe/test/api/KPICardAssertions", ["./KPICardAPI","sap/fe/test/Utils","sap/fe/test/builder/FEBuilder"],function(e,t,r){"use strict";var a=function(t){return e.call(this,t)};a.prototype=Object.create(e.prototype);a.prototype.constructor=a;a.prototype.isAction=false;a.prototype.iSeeHeaderTitle=function(e){var t=this.getBuilder();var a=r.create(this).hasType("sap.m.Text").has(function(e){return e.getId().endsWith("-title")}).hasProperties({text:e});return this.prepareResult(t.doOnKPICardHeader(a,true).description("Checking card title: "+e).execute())};a.prototype.iSeeHeaderSubtitle=function(e){var t=this.getBuilder();var a=r.create(this).hasType("sap.m.Text").has(function(e){return e.getId().endsWith("-subtitle")}).hasProperties({text:e});return this.prepareResult(t.doOnKPICardHeader(a,true).description("Checking card sub-title: "+e).execute())};a.prototype.iSeeHeaderUnit=function(e){var t=this.getBuilder();var a=r.create(this).hasType("sap.m.Text").has(function(e){return e.getId().endsWith("-unitOfMeasurement")}).hasProperties({text:e});return this.prepareResult(t.doOnKPICardHeader(a,true).description("Checking card unit: "+e).execute())};a.prototype.iSeeHeaderDetails=function(e){var t=this.getBuilder();var a=r.create(this).hasType("sap.m.Text").has(function(e){return e.getId().endsWith("-details")}).hasProperties({text:e});return this.prepareResult(t.doOnKPICardHeader(a,true).description("Checking card details: "+e).execute())};a.prototype.iSeeHeaderValue=function(e,a){var i=this.getBuilder();var s=a||{};s.number=e;var n=r.create(this).hasType("sap.f.cards.NumericIndicators").hasProperties(s);var d=a?t.formatMessage("Checking card header value '{0}' in state '{1}'",e,a):t.formatMessage("Checking card header value '{0}'",e);return this.prepareResult(i.doOnKPICardHeader(n,true).description("Checking card header: "+d).execute())};a.prototype.iSeeSideIndicator=function(e,t,a){var i=this.getBuilder();var s=r.create(this).hasType("sap.f.cards.NumericIndicators").hasChildren(r.create(this).hasType("sap.f.cards.NumericSideIndicator").hasChildren(r.create(this).hasType("sap.m.Text").hasProperties({text:e})).hasChildren(r.create(this).hasType("sap.m.Text").hasProperties({text:e})).hasChildren(r.create(this).hasType("sap.m.Text").hasProperties({text:t})));return this.prepareResult(i.doOnKPICardHeader(s,true).description("Checking card side indicator: "+e+" - "+t+" - "+a).execute())};a.prototype.iSeeChart=function(e){var a=this.getBuilder();var i=e&&Object.keys(e).length?r.create(this).hasProperties(e):undefined;var s=i?t.formatMessage("Checking card chart with properties '{0}'",e):t.formatMessage("Checking card chart");return this.prepareResult(a.doOnKPICardChart(i).description(s).execute())};return a});
/*!
 * 
		SAP UI development toolkit for HTML5 (SAPUI5)
        (c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.predefine("sap/fe/test/api/TableAPI", ["./BaseAPI","sap/fe/test/Utils","sap/fe/test/builder/FEBuilder","sap/fe/test/builder/MdcTableBuilder","sap/ui/test/OpaBuilder","sap/ui/test/actions/Action","sap/ui/core/library","sap/ui/test/Opa5"],function(e,t,r,i,n,s,o,a){"use strict";var u=o.SortOrder;var c=function(r,n){if(!t.isOfType(r,i)){throw new Error("oTableBuilder parameter must be an TableBuilder instance")}return e.call(this,r,n)};c.prototype=Object.create(e.prototype);c.prototype.constructor=c;c.createRowMatchers=function(e,r,n,s){var o=t.parseArguments([[Object,Number],Object,[Array,Function],Array],arguments),a=[];if(t.isOfType(o[0],Object)){a.push(i.Row.Matchers.cellValues(o[0]))}else if(t.isOfType(o[0],Number)){a.push(function(e){var t=e.getParent(),r=e.sParentAggregationName;return t&&r?t.getAggregation(r).indexOf(e)===o[0]:false})}if(t.isOfType(o[1],Object)){a.push(i.Row.Matchers.states(o[1]))}if(!t.isOfType(o[3],[null,undefined])){a.push(i.Row.Matchers.hiddenCells(o[3]))}if(!t.isOfType(o[2],[null,undefined])){a=a.concat(o[2])}return a};c.prototype.createGroupRowMatchers=function(e,t){return[i.Row.Matchers.visualGroup(e,t)]};c.prototype.iOpenColumnAdaptation=function(){var e=this.getBuilder();return this.prepareResult(e.doOpenColumnAdaptation().description(t.formatMessage("Opening the column adaptation dialog for '{0}' (if not open yet)",this.getIdentifier())).execute())};c.prototype.iConfirmColumnAdaptation=function(){return this.prepareResult(i.createAdaptationDialogBuilder(this.getOpaInstance()).doPressFooterButton(n.Matchers.resourceBundle("text","sap.ui.mdc","p13nDialog.OK")).description(t.formatMessage("Confirming the column adaptation dialog for '{0}' (if currently open)",this.getIdentifier())).execute())};c.prototype.iOpenColumnSorting=function(){var e=this.getBuilder();return this.prepareResult(e.doOpenColumnSorting().description(t.formatMessage("Opening the column sorting dialog for '{0}' (if not open yet)",this.getIdentifier())).execute())};c.prototype.iConfirmColumnSorting=function(){return this.prepareResult(i.createSortingDialogBuilder(this.getOpaInstance()).doPressFooterButton(n.Matchers.resourceBundle("text","sap.ui.mdc","p13nDialog.OK")).description(t.formatMessage("Closing the column sorting dialog for '{0}' (if currently open)",this.getIdentifier())).execute())};c.prototype.iOpenFilterDialog=function(){var e=this.getBuilder();return this.prepareResult(e.doOpenColumnFiltering().description(t.formatMessage("Opening the filter dialog for '{0}' (if not open yet)",this.getIdentifier())).execute())};c.prototype.iConfirmFilterDialog=function(){return this._iConfirmFilterDialogWithQueryPanel()};c.prototype._iConfirmFilterDialogWithQueryPanel=function(){var e=this.getIdentifier(),s=i.createFilteringDialogBuilder(this.getOpaInstance()).hasChildren(n.create().hasType("sap.m.ComboBox")),o=n.create(this.getOpaInstance()).isDialogElement().hasType("sap.m.ComboBox");return this.prepareResult(r.create(this.getOpaInstance()).success(function(){if(r.controlsExist(o)){s.doPressFooterButton(n.Matchers.resourceBundle("text","sap.ui.mdc","p13nDialog.OK")).description(t.formatMessage("Closing the filter dialog for '{0}' (if currently open)",e)).execute()}}).execute())};c.prototype._iConfirmFilterDialogWithListPanel=function(){return this.prepareResult(i.createFilteringDialogBuilder(this.getOpaInstance()).doPressFooterButton(n.Matchers.resourceBundle("text","sap.ui.mdc","p13nDialog.OK")).description(t.formatMessage("Closing the filter dialog for '{0}' (if currently open)",this.getIdentifier())).execute())};c.prototype.selectColumnOnFilterDialog=function(e){var s=this.getIdentifier().id,o,a=function(e){return e.startsWith("Property::")?e.split("::")[1]:e},u=r.create(this.getOpaInstance()).hasType("sap.m.ComboBox").isDialogElement(),c=i.createFilteringDialogBuilder(this.getOpaInstance()).has(n.Matchers.children(u)).has(function(e){if(e.length!==1){throw Error(t.formatMessage("Cannot open filtering dialog of table '{0}'",s))}o=e[0];return o.getItems()}),l=function(r){var i=t.isOfType(e,String)?function(t){return t.getText()===e}:function(t){return a(t.getKey())===e.name};return r.filter(i)};return this.prepareResult(c.has(l).do(function(r){if(r.length===0){throw Error(t.formatMessage("Cannot open filter field '{0}'",e))}var i=r[0],s=i.getText();n.Actions.executor(n.Actions.enterText(s,false,false,true))(o)}).execute())};c.prototype.personalization=function(i,o,a,u,c,l,p){var f=t.parseArguments([[String,Object],Object,[Function,Array,s],String,n,Function,Function],arguments),h=r.create(this.getOpaInstance()),g,d=r.create(this.getOpaInstance()).hasType("sap.m.ColumnListItem").isDialogElement();c=f[4];l=f[5];p=f[6];i=f[0];if(t.isOfType(i,String)){d.hasSome(n.Matchers.bindingProperties(e.MDC_P13N_MODEL,{label:i}),n.Matchers.bindingProperties(e.MDC_P13N_MODEL,{name:i}))}else{d.has(n.Matchers.bindingProperties(e.MDC_P13N_MODEL,{name:i.name}))}o=f[1];var m=o&&o.visible===false;if(!m&&!t.isOfType(o,[null,undefined])){d.hasState(o)}a=f[2];if(!t.isOfType(a,[null,undefined])){c.do(a)}u=f[3];return this.prepareResult(h.success(function(){g=r.controlsExist(c);if(!g){l();c.success(p)}return c.has(n.Matchers.children(d)).has(function(e){if(m){return e.length===0}return r.Matchers.atIndex(0)(e)}).description(u).execute()}).execute())};c.prototype.sortingPersonalization=function(e,i,o,a,c,l,p){var f=t.parseArguments([[String,Object],Object,[Function,Array,s],String,n,Function,Function],arguments),h=r.create(this.getOpaInstance()),g,d=r.create(this.getOpaInstance()).hasType("sap.m.CustomListItem").isDialogElement(),m=n.Matchers.childrenMatcher(n.create().hasType("sap.m.ComboBox").hasProperties({placeholder:"Sort By"})),O;c=f[4];l=f[5];p=f[6];e=f[0];if(t.isOfType(e,String)){O=n.Matchers.childrenMatcher(n.create(this.getOpaInstance()).hasType("sap.m.ComboBox").has(function(t){return t.getSelectedItem()?t.getSelectedItem().getText()===e:false}))}else{O=n.Matchers.childrenMatcher(n.create(this.getOpaInstance()).hasType("sap.m.ComboBox").hasProperties({selectedKey:e.name}))}i=f[1];var y=i&&i.visible===false;c.has(n.Matchers.children(d)).has(function(e){var t=n.Matchers.filter(O)(e);if(t.length){return t}return n.Matchers.filter(m)(e)}).has(function(e){if(y){return e.length===0}return r.Matchers.atIndex(0)(e)});if(!y&&!t.isOfType(i,[null,undefined])){if(i.sortOrder){var M=i.sortOrder;delete i.sortOrder;c.hasChildren(n.create().hasType("sap.m.SegmentedButton").has(function(e){if(M===u.None){return!e.enabled}return e.getSelectedKey()===(M===u.Ascending?"asc":"desc")}))}}o=f[2];if(!t.isOfType(o,[null,undefined])){c.do(o)}a=f[3];return this.prepareResult(h.success(function(){g=r.controlsExist(c);if(!g){l();c.success(p)}return c.description(a).execute()}).execute())};c.prototype.columnAdaptation=function(e,t,r,n){return this.personalization(e,t,r,n,i.createAdaptationDialogBuilder(this.getOpaInstance()),this.iOpenColumnAdaptation.bind(this),this.iConfirmColumnAdaptation.bind(this))};c.prototype.columnSorting=function(e,t,r,n){return this.sortingPersonalization(e,t,r,n,i.createSortingDialogBuilder(this.getOpaInstance()),this.iOpenColumnSorting.bind(this),this.iConfirmColumnSorting.bind(this))};return c});
/*!
 * 
		SAP UI development toolkit for HTML5 (SAPUI5)
        (c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.predefine("sap/fe/test/api/TableActions", ["./TableAPI","sap/fe/test/Utils","sap/ui/test/OpaBuilder","sap/fe/test/builder/FEBuilder","sap/ui/test/matchers/Interactable","sap/fe/test/builder/VMBuilder","sap/ui/core/library","sap/ui/core/Core","sap/fe/test/builder/MdcTableBuilder","sap/fe/test/builder/MdcFilterFieldBuilder","./APIHelper","sap/ui/test/Opa5"],function(e,t,i,r,s,n,a,o,c,u,l,p){"use strict";var d=a.SortOrder;var h=function(t,i){return e.call(this,t,i)};h.prototype=Object.create(e.prototype);h.prototype.constructor=h;h.prototype.isAction=true;h.prototype.iPressCell=function(i,r){var s=this.getBuilder();return this.prepareResult(s.checkNumberOfMatches(1).doClickOnCell(e.createRowMatchers(i),r).description(t.formatMessage("Pressing cell of table '{0}' with row value = '{1}' and column {2} = '{3}' ",this.getIdentifier(),i,isNaN(r)?"header":"index",r)).execute())};h.prototype.iSelectRows=function(i,r){var s=t.parseArguments([[Object,Number],Object],arguments),n=this.getBuilder();return this.prepareResult(n.doSelect(e.createRowMatchers(s[0],s[1])).description(t.formatMessage("Selecting rows of table '{0}' with values='{1}' and state='{2}'",this.getIdentifier(),s[0],s[1])).execute())};h.prototype.iSelectAllRows=function(){var e=this.getBuilder();return this.prepareResult(e.doSelectAll().description(t.formatMessage("Selecting all rows in table '{0}'",this.getIdentifier())).execute())};h.prototype.iPressRow=function(i){var r=this.getBuilder();return this.prepareResult(r.checkNumberOfMatches(1).doNavigate(e.createRowMatchers(i)).description(t.formatMessage("Pressing row of table '{0}' with values='{1}'",this.getIdentifier(),i)).execute())};h.prototype.iExpandGroupRow=function(e,i){var r=this.getBuilder();return this.prepareResult(r.checkNumberOfMatches(1).doExpand(this.createGroupRowMatchers(e,i)).description(t.formatMessage("Expanding group row {0} - {1} of table '{2}'",e,i,this.getIdentifier())).execute())};h.prototype.iCollapseGroupRow=function(e,i){var r=this.getBuilder();return this.prepareResult(r.checkNumberOfMatches(1).doCollapse(this.createGroupRowMatchers(e,i)).description(t.formatMessage("Collapsing group row {0} - {1} of table '{2}'",e,i,this.getIdentifier())).execute())};h.prototype.iScroll=function(e){var i=this.getBuilder();return this.prepareResult(i.checkNumberOfMatches(1).doScroll(e).description(t.formatMessage("Scrolling the table '{0}' '{1}'",this.getIdentifier(),e)).execute())};h.prototype.iPressMore=function(){var e=this.getBuilder();return this.prepareResult(e.checkNumberOfMatches(1).doPressMore().description(t.formatMessage("Press more")).execute())};h.prototype.iChangeRow=function(i,r,s){var n=this.getBuilder(),a=false;if(arguments.length===1){a=true;r=i}if(!a){n.checkNumberOfMatches(1).doEditValues(e.createRowMatchers(i),r,s)}else{n.checkNumberOfMatches(1).doEditCreationRowValues(r,s)}return this.prepareResult(n.description(t.formatMessage("Changing row values of table '{0}' with old values='{1}' to new values='{2}'",this.getIdentifier(),a?"<CreationRow>":i,r)).execute())};h.prototype.iExecuteAction=function(e){var i=t.parseArguments([[Object,String]],arguments),r=this.getBuilder();return this.prepareResult(r.doExecuteAction(this.createActionMatcher(e)).description(t.formatMessage("Executing table action '{0}'",i[0])).execute())};h.prototype.iExecuteMenuAction=function(e){return this.prepareResult(l.createMenuActionExecutorBuilder(e).execute())};h.prototype.iExecuteShowHideDetails=function(e){var i=this.getBuilder();return this.prepareResult(i.doShowHideDetails(e).description(t.formatMessage("Executing the Show/Hide Details action for '{0}'{1}",this.getIdentifier(),e!==undefined?" enforcing 'Show Details' = "+e:"")).execute())};h.prototype.iExecuteDelete=function(){var e=this.getBuilder(),i="::StandardAction::Delete";return this.prepareResult(e.doExecuteAction(r.Matchers.id(new RegExp(t.formatMessage("{0}$",i)))).description(t.formatMessage("Pressing delete action of table '{0}'",this.getIdentifier())).execute())};h.prototype.iSelectQuickFilterItem=function(e){var r;if(t.isOfType(e,String)){r={text:e}}else if(t.isOfType(e,Object)){r={key:e.annotationPath}}return this.prepareResult(this.getBuilder().doSelectQuickFilter(i.Matchers.properties(r)).description(t.formatMessage("Selecting on table '{0}' quickFilter Item  with text '{1}'",this.getIdentifier(),e)).execute())};h.prototype.iExecuteCreate=function(){var e=this.getBuilder(),i="::StandardAction::Create";return this.prepareResult(e.doExecuteAction(r.Matchers.id(new RegExp(t.formatMessage("{0}$",i)))).description(t.formatMessage("Pressing create action of table '{0}'",this.getIdentifier())).execute())};h.prototype.iExecuteFullScreen=function(){var e=this.getBuilder(),i="::StandardAction::FullScreen";return this.prepareResult(e.doExecuteAction(r.Matchers.id(new RegExp(t.formatMessage("{0}$",i)))).description(t.formatMessage("Pressing fullscreen action of table '{0}'",this.getIdentifier())).execute())};h.prototype.iExecuteInlineCreate=function(){var e=this.getBuilder();return this.prepareResult(e.doOnChildren(i.create(this).hasType("sap.ui.table.CreationRow").has(r.Matchers.bound()).checkNumberOfMatches(1).doPress("applyBtn")).description(t.formatMessage("Pressing inline create action of table '{0}'",this.getIdentifier())).execute())};h.prototype.iExecuteInlineAction=function(i,r){var s=t.parseArguments([[Object,Number],[String,Number]],arguments),n=this.getBuilder();return this.prepareResult(n.checkNumberOfMatches(1).doExecuteInlineAction(e.createRowMatchers(s[0]),s[1]).description(t.formatMessage("Pressing inline action of table '{0}' for row '{1}' and action "+(t.isOfType(s[1],Number)?"with column index '{2}'":"'{2}'"),this.getIdentifier(),s[0],s[1])).execute())};h.prototype.iExecuteKeyboardShortcut=function(e,i,r){return this.prepareResult(this.getBuilder().doPressKeyboardShortcut(e,i,r).description(t.formatMessage(i&&r?"Execute keyboard shortcut '{1}' on column '{3}' of row with values '{2}' of table '{0}'":"Execute keyboard shortcut '{1}' on table '{0}'",this.getIdentifier(),e,i,r)).execute())};h.prototype.iSaveVariant=function(e){var i=t.isOfType(e,String)?function(i){return n.create(this).hasId(i.getId?i.getId()+"::VM":i[0].getId()+"::VM").doSaveAs(e).description(t.formatMessage("Saving variant for '{0}' as '{1}'",this.getIdentifier(),e)).execute()}:function(e){return n.create(this).hasId(e.getId?e.getId()+"::VM":e[0].getId()+"::VM").doSave().description(t.formatMessage("Saving current variant for '{0}'",this.getIdentifier())).execute()};return this.prepareResult(this.getBuilder().success(i.bind(this)).execute())};h.prototype.iRemoveVariant=function(e){return this.prepareResult(this.getBuilder().success(function(i){return n.create(this).hasId(i.getId()+"::VM").doRemoveVariant(e).description(t.formatMessage("Removing variant '{1}' for '{0}'",this.getIdentifier(),e)).execute()}.bind(this)).execute())};h.prototype.iSelectVariant=function(e){return this.prepareResult(this.getBuilder().success(function(i){return n.create(this).hasId(i.getId()+"::VM").doSelectVariant(e).description(t.formatMessage("Selecting variant '{1}' for '{0}'",this.getIdentifier(),e)).execute()}.bind(this)).execute())};h.prototype.iSetDefaultVariant=function(e){return this.prepareResult(this.getBuilder().success(function(i){return e?n.create(this).hasId(i.getId?i.getId()+"::VM":i[0].getId()+"::VM").doSetVariantAsDefault(e).description(t.formatMessage("Setting variant '{1}' as default for '{0}'",this.getIdentifier(),e)).execute():n.create(this).hasId(i.getId?i.getId()+"::VM":i[0].getId()+"::VM").doResetDefaultVariant().description(t.formatMessage("Setting Standard variant as default for '{0}'",this.getIdentifier())).execute()}.bind(this)).execute())};h.prototype.iAddAdaptationColumn=function(e){return this.columnAdaptation(e,{selected:false},i.Actions.press("selectMulti"),t.formatMessage("Adding column '{1}' to table '{0}'",this.getIdentifier(),e))};h.prototype.iRemoveAdaptationColumn=function(e){return this.columnAdaptation(e,{selected:true},i.Actions.press("selectMulti"),t.formatMessage("Removing column '{1}' from table '{0}'",this.getIdentifier(),e))};h.prototype.iChangeSortOrder=function(e,r){var s=this.getOpaInstance(),n=[],a=function(r){var n=i.create(s).hasType("sap.m.ComboBox"),a=i.Matchers.children(n)(r),o=t.isOfType(e,String)?function(t){return t.getText()===e}:function(t){return t.getKey()===e.name};return i.Actions.executor(function(i){var r=i.getItems().find(o);if(!r){throw Error(t.formatMessage("can not find sort item '{0}'",e))}i.setSelectedItem(r);i.fireChange({selectedItem:r})})(a)},o=function(e){var t=r===d.None?"sap-icon://decline":"sap-icon://sort-"+(r===d.Ascending?"ascending":"descending"),n=i.create(s).hasType("sap.m.Button").hasProperties({icon:t});var a=i.Matchers.children(n)(e);return i.Actions.executor(i.Actions.press())(a)};r=r||d.Ascending;switch(r){case d.Ascending:case d.Descending:n.push(a);n.push(o);break;case d.None:n.push(o);break;default:throw new Error("unhandled switch case: "+r)}return this.columnSorting(e,undefined,n,t.formatMessage("Setting sort of '{1}' from table '{0}' to '{2}'",this.getIdentifier(),e,r))};h.prototype.iSortByColumn=function(e,i,r){var s=this.getBuilder(),n=t.isOfType(e,Object)?e.name:e,a=!i?n:i,o=r?d.Descending:d.Ascending;return this.prepareResult(s.doSortByColumn(n,a,o).description(t.formatMessage("Sorting column '{1}{2}' of table '{0}'",this.getIdentifier(),e,i?"/"+i:"")).execute())};h.prototype.iGroupByColumn=function(e,i){var r=this.getBuilder(),s=t.isOfType(e,Object)?e.name:e;return this.prepareResult(r.doGroupByColumn(s,i).description(t.formatMessage("Grouping column '{1}{2}' of table '{0}'",this.getIdentifier(),e,i?"/"+i:"")).execute())};h.prototype.iAggregateByColumn=function(e,i){var r=this.getBuilder(),s=t.isOfType(e,Object)?e.name:e;return this.prepareResult(r.doAggregateByColumn(s,i).description(t.formatMessage("Aggregating column '{1}{2}' of table '{0}'",this.getIdentifier(),e,i?"/"+i:"")).execute())};h.prototype.iChangeSearchField=function(e){return this.prepareResult(this.getBuilder().doChangeSearch(e).description(t.formatMessage("Changing the search text on table '{0}' to '{1}'",this.getIdentifier(),e||"")).execute())};h.prototype.iResetSearchField=function(){return this.prepareResult(this.getBuilder().doResetSearch().description(t.formatMessage("Resetting the search field on table '{0}'",this.getIdentifier())).execute())};h.prototype.iChangeFilterField=function(e,t,i){return this._iChangeFilterFieldOnQueryPanel(e,t,i)};h.prototype._iChangeFilterFieldOnQueryPanel=function(e,s,n){var a=this,o=false,l=this.getIdentifier().id,p=function(e){return e.startsWith("Property::")?e.split("::")[1]:e},d=c.createFilteringDialogBuilder(this.getOpaInstance()).hasChildren(i.create().hasType("sap.m.ComboBox")),h=u.create(this.getOpaInstance()).isDialogElement().hasType("sap.ui.mdc.FilterField").has(function(i){if(t.isOfType(e,String)){return i.getLabel()===e}else{return p(i.getFieldPath())===e.name}}).description(t.formatMessage("Changing the filter field '{0}' of table '{1}' by adding '{2}' (was cleared first: {3})",e,l,s,n?n:false));return this.prepareResult(r.create(this.getOpaInstance()).success(function(){if(!r.controlsExist(d)){a.iOpenFilterDialog.bind(a)();o=true}return d.do(function(){if(!r.controlsExist(h)){a.selectColumnOnFilterDialog.bind(a,e)()}}).do(function(){h.doChangeValue(s,n).success(function(){if(o){a.iConfirmFilterDialog.bind(a)()}}).execute()}).execute()}).execute())};h.prototype._iChangeFilterFieldOnListPanel=function(e,s,n){var a=u.create(this.getOpaInstance()).isDialogElement().hasType("sap.ui.mdc.FilterField").hasConditional(t.isOfType(e,String),i.Matchers.properties({label:e}),i.Matchers.properties({fieldPath:e.name})).checkNumberOfMatches(1),o,c=t.formatMessage("Changing the filter field '{0}' of table '{1}' by adding '{2}' (was cleared first: {3})",e,this.getIdentifier(),s,n),l=this.iOpenFilterDialog.bind(this),p=this.iConfirmFilterDialog.bind(this);return this.prepareResult(r.create(this.getOpaInstance()).success(function(){o=r.controlsExist(a);if(!o){l();a.success(p)}return a.doChangeValue(s,n).description(c).execute()}).execute())};h.prototype.iOpenValueHelpOfFilterField=function(e){var s=this,n=this.getIdentifier().id,a=t.isOfType(e,String)?e:e.name,o,l=r.create(this.getOpaInstance()).hasType("sap.m.ComboBox").isDialogElement(),p=c.createFilteringDialogBuilder(this.getOpaInstance()).has(i.Matchers.children(l)).has(function(e){if(e.length!==1){throw Error(t.formatMessage("Cannot open filtering dialog of table '{0}'",n))}o=e[0];return o.getItems()}),d=function(e){var t=function(e){return e.getText()===a};return e.filter(t)},h=u.create(this.getOpaInstance()).isDialogElement().hasType("sap.ui.mdc.FilterField").has(function(e){return e.getId().split("::").pop()===a}),g=i.create(s.getOpaInstance()).hasId(n+"::AdaptationFilterField::"+a+"-inner-vhi").doPress().description("Opening value help for '"+e+"' from within a dialog");return this.prepareResult(r.create(this.getOpaInstance()).success(function(){if(!r.controlsExist(h)){return p.has(d).do(function(r){if(r.length===0){throw Error(t.formatMessage("Cannot open filter field '{0}'",e))}var s=r[0],n=s.getText();i.Actions.executor(i.Actions.enterText(n,false,false,true))(o)}).success(function(){return g.execute()}).execute()}else{return g.execute()}}).execute())};h.prototype.iPasteData=function(e){return this.prepareResult(this.getBuilder().doPasteData(e).description(t.formatMessage("Pasting {0} rows into table '{1}'",e.length,this.getIdentifier())).execute())};h.prototype.iClickOnMessageStripFilter=function(){return this.getBuilder().doClickOnMessageStripFilter().execute()};return h});
/*!
 * 
		SAP UI development toolkit for HTML5 (SAPUI5)
        (c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.predefine("sap/fe/test/api/TableAssertions", ["./TableAPI","sap/fe/test/Utils","sap/ui/test/OpaBuilder","sap/fe/test/builder/FEBuilder","sap/fe/test/builder/MdcTableBuilder","sap/fe/test/builder/MdcFilterFieldBuilder","sap/ui/core/library","./APIHelper","sap/ui/test/Opa5"],function(e,t,i,r,n,s,a,o,c){"use strict";var u=a.SortOrder;var h=function(t,i){return e.call(this,t,i)};h.prototype=Object.create(e.prototype);h.prototype.constructor=h;h.prototype.isAction=false;h.prototype.iCheckState=function(e){var i=this.getBuilder();return this.prepareResult(i.hasState(e).description(t.formatMessage("Checking table '{0}' in state '{1}'",this.getIdentifier(),e)).execute())};h.prototype.iSeeIllustratedMessage=function(e,t,r){return i.create(this).hasType("sap.m.IllustratedMessage").hasProperties({title:e,description:t,illustrationType:r}).description("IllustratedMessage with title '"+e+"', description '"+t+"', illustrationType '"+r+"' are present").execute()};h.prototype.iCheckRows=function(i,r,n,s){var a=t.parseArguments([Object,Number,Object,Array],arguments),o=a[1],c=e.createRowMatchers(a[0],a[2],undefined,a[3]),u=this.getBuilder();if(c.length){u.hasRows(c,true).has(function(e){return t.isOfType(o,Number)?e.length===o:e.length>0})}else{u.hasNumberOfRows(o).hasRows(null,true)}return this.prepareResult(u.description(t.formatMessage("Checking table '{0}' having {1} rows with values='{2}', state='{3}' and hidden cells='{4}'",this.getIdentifier(),o===undefined?"> 0":o,a[0],a[2],a[3])).execute())};h.prototype.iCheckCreationRow=function(e,s){var a=this.getBuilder();return this.prepareResult(a.has(i.Matchers.childrenMatcher(r.create(this).hasType("sap.ui.table.CreationRow").has(n.Row.Matchers.cellValues(e)).hasState(s))).description(t.formatMessage("Checking table '{0}' having a CreationRow with values='{1}' and state='{2}'",this.getIdentifier(),e,s)).execute())};h.prototype.iCheckQuickFilterItems=function(e){return this.prepareResult(this.getBuilder().hasQuickFilterItems(e).description(t.formatMessage("Checking table '{0}' having  '{1}' item(s)",this.getIdentifier(),e)).execute())};h.prototype.iCheckColumns=function(e,i){var r=t.parseArguments([Number,Object],arguments),n=r[1],s=r[0],a=this.getBuilder();if(s!==undefined){a.hasAggregationLength("columns",s)}else{a.hasAggregation("columns")}a.hasColumns(n);return this.prepareResult(a.description(t.formatMessage("Checking table '{0}' having {1} columns and column states='{2}'",this.getIdentifier(),s===undefined?"> 0":s,n)).execute())};h.prototype.iCheckCells=function(i,r){var s=arguments.length>1?arguments[0]:undefined,a=arguments.length>1?arguments[1]:arguments[0],o=e.createRowMatchers(s,n.Row.Matchers.cellProperties(a)),c=this.getBuilder();return this.prepareResult(c.hasRows(o).description(t.formatMessage("Checking table '{0}' having cells properties '{2}' of rows with values '{1}'",this.getIdentifier(),s,a)).execute())};h.prototype.iCheckAction=function(e,n){var s=this.getBuilder(),a=this.createActionMatcher(e),o=r.Matchers.deepAggregationMatcher("actions/action",[a,r.Matchers.states(n)]);if(n&&n.visible===false){o=i.Matchers.some(o,i.Matchers.not(r.Matchers.deepAggregationMatcher("actions/action",a)))}return this.prepareResult(s.has(o).description(t.formatMessage("Checking table '{0}' having action '{1}' with state='{2}'",this.getIdentifier(),e.service==="StandardAction"?e.action:e,n)).execute())};h.prototype.iCheckMenuAction=function(e){return this.prepareResult(o.createMenuActionCheckBuilder(e).execute())};h.prototype.iCheckDelete=function(e){return this.iCheckAction({service:"StandardAction",action:"Delete",unbound:true},e)};h.prototype.iCheckSearchField=function(e,i){var r=t.parseArguments([String,Object],arguments),n=this.getBuilder();return this.prepareResult(n.hasSearchField(e,i).description(t.formatMessage("Checking the search field on table '{0}' having search text '{1}' and state='{2}'",this.getIdentifier(),r[0]||"",r[1])).execute())};h.prototype.iCheckCreate=function(e){return this.iCheckAction({service:"StandardAction",action:"Create",unbound:true},e)};h.prototype.iCheckPaste=function(){var e=this.getBuilder();return this.prepareResult(e.hasPaste().description(t.formatMessage("Checking paste action is available for table '{0}'",this.getIdentifier())).execute())};h.prototype.iCheckFullScreen=function(e){return this.iCheckAction({service:"StandardAction",action:"FullScreen",unbound:true},e)};h.prototype._iCheckTableProvidedAction=function(e){var i=this.getBuilder();return this.prepareResult(i["has"+e]().description(t.formatMessage("Checking table '{0}' having button available for '{1}'",this.getIdentifier(),e)).execute())};h.prototype.iCheckColumnAdaptation=function(){return this._iCheckTableProvidedAction("ColumnAdaptation")};h.prototype.iCheckColumnSorting=function(){this.iOpenColumnSorting();n.createSortingDialogBuilder(this.getOpaInstance()).execute();return this.iConfirmColumnSorting()};h.prototype.iCheckColumnFiltering=function(){this.iOpenFilterDialog();n.createFilteringDialogBuilder(this.getOpaInstance()).execute();return this.iConfirmFilterDialog()};h.prototype.iCheckExport=function(){var e=this.getBuilder();return this.prepareResult(e.hasExport().description(t.formatMessage("Checking export action is available for table '{0}'",this.getIdentifier())).execute())};h.prototype.iCheckQuickFilter=function(e){var i=this.getBuilder();var n=r.Matchers.deepAggregationMatcher("quickFilter/content",[r.Matchers.states(e)]);return this.prepareResult(i.has(n).description(t.formatMessage("Checking that table '{0}' has a QuickFilter Control with state='{1}'",this.getIdentifier(),e)).execute())};h.prototype.iCheckColumnAdaptationDialog=function(){var e=n.createAdaptationDialogBuilder(this.getOpaInstance());return this.prepareResult(e.description(t.formatMessage("Checking column adaptation dialog for table '{0}'",this.getIdentifier())).execute())};h.prototype.iCheckAdaptationColumn=function(e,i){return this.columnAdaptation(e,i,undefined,t.formatMessage("Checking adaptation column '{1}' on table '{0}' for state='{2}'",this.getIdentifier(),e,i))};h.prototype.iCheckSortOrder=function(e,i,r){var n=t.parseArguments([[String,Object],String,Boolean],arguments);i=n[1]||u.Ascending;r=n[2];var s=t.formatMessage("Checking column '{1}' on table '{0}' to be sorted '{2}'",this.getIdentifier(),e,i);if(r){var a={};a.sortOrder=i;return this.columnSorting(e,a,undefined,s)}var o={};o[t.isOfType(e,Object)?e.name:e]={sortOrder:i};return this.prepareResult(this.getBuilder().hasColumns(o).description(s).execute())};h.prototype.iCheckFilterField=function(e,t){return this._iCheckFilterFieldOnQueryPanel(e,t)};h.prototype._iCheckFilterFieldOnQueryPanel=function(e,a){var o=this,c=false,u=false,h=this.getIdentifier().id,l=function(e){return e.startsWith("Property::")?e.split("::")[1]:e},p=n.createFilteringDialogBuilder(this.getOpaInstance()).hasChildren(i.create().hasType("sap.m.ComboBox")),g=s.create(this.getOpaInstance()).isDialogElement().hasType("sap.ui.mdc.FilterField"),d=s.create(this.getOpaInstance()).isDialogElement().hasType("sap.ui.mdc.FilterField").has(function(i){if(!u){if(t.isOfType(e,String)){u=i.getLabel()===e}else{u=l(i.getFieldPath())===e.name}}return true}).description(t.formatMessage("Checking the filter field '{0}' of table '{1}' in state '{2}'",e,h,a)),f=r.create(this.getOpaInstance()).isDialogElement().hasType("sap.m.ComboBox").has(function(e){return e.getItems()}).description(t.formatMessage("Checking the filter field '{0}' of table '{1}' in state '{2}'",e,h,a)),C=t.isOfType(e,String)?function(t){return t.getText()===e}:function(t){return l(t.getKey())===e.name},m=function(e){return e.filter(C).length===1||u},b=function(e){return e[0].every(function(e){return i.Matchers.not(C)(e)})};if(a&&a.visible===false){f.check(b)}else{f.has(m)}return this.prepareResult(r.create(this.getOpaInstance()).success(function(){if(!r.controlsExist(p)){o.iOpenFilterDialog.bind(o)();c=true}}).success(function(){if(r.controlsExist(g)){return d.success(function(){if(c){o.iConfirmFilterDialog.bind(o)()}if(u&&a.visible===false){throw new Error(t.formatMessage("Set Filter Field '{0}' found on table '{1}' even though state should be: '{2}'",e,h,a))}}).execute()}return true}).success(function(){f.success(function(){if(c){o.iConfirmFilterDialog.bind(o)()}}).execute()}).execute())};h.prototype._iCheckFilterFieldOnListPanel=function(e,n){var a=s.create(this.getOpaInstance()).isDialogElement().hasType("sap.ui.mdc.FilterField").description(t.formatMessage("Checking the filter field '{0}' of table '{1}' in state '{2}'",e,this.getIdentifier(),n)),o=t.isOfType(e,String)?i.Matchers.properties({label:e}):i.Matchers.properties({fieldPath:e.name}),c,u=n&&n.visible===false,h=this.iOpenFilterDialog.bind(this),l=this.iConfirmFilterDialog.bind(this);if(u){a.check(function(e){return e.every(function(e){return i.Matchers.not(o)(e)})})}else{a.has(o).checkNumberOfMatches(1);if(!t.isOfType(n,[null,undefined])){a.hasState(n)}}return this.prepareResult(r.create(this.getOpaInstance()).success(function(){c=r.controlsExist(a);if(!c){h();a.success(l)}return a.execute()}).execute())};h.prototype.iCheckMessageStrip=function(e){var n=this.getBuilder();return this.prepareResult(n.has(i.Matchers.childrenMatcher(r.create(this).hasType("sap.m.MessageStrip").hasProperties(e))).description(t.formatMessage("Checking table '{0}' having a MessageStrip with text ='{1}' and type ='{2}'",this.getIdentifier(),e.text,e.type)).execute())};h.prototype.iSeeFocusOnHeader=function(){var e=this.getBuilder();return this.prepareResult(e.hasHeaderFocused().description(t.formatMessage("Checking focus on header table '{0}' ",this.getIdentifier())).execute())};h.prototype.iSeeFocusOnRow=function(e){var i=this.getBuilder();return this.prepareResult(i.hasFocusOnRow(e).description(t.formatMessage("Checking focus on table '{0}', row '{1}' ",this.getIdentifier(),e)).execute())};h.prototype.iCheckGroupByColumn=function(e,i,r){var n=this.getBuilder(),s=t.isOfType(e,Object)?e.name:e;return this.prepareResult(n.hasGroupByColumn(s,r,i).description(t.formatMessage("Checking table '{0}' having {1} groupBy options for {2}{3}",this.getIdentifier(),i===undefined?"any":i,e,r?"/"+r:"")).execute())};h.prototype.iCheckAggregationColumn=function(e,i,r){var n=this.getBuilder(),s=t.isOfType(e,Object)?e.name:e;return this.prepareResult(n.hasAggregationColumn(s,r,i).description(t.formatMessage("Checking table '{0}' having {1} aggregate options for {2}{3}",this.getIdentifier(),i===undefined?"any":i,e,r?"/"+r:"")).execute())};h.prototype.iCheckTitle=function(e){var i=this.getBuilder();return this.prepareResult(i.hasTitle(e).description(t.formatMessage("Checking table '{0}' has title '{1}'",this.getIdentifier(),e)).execute())};return h});
/*!
 * 
		SAP UI development toolkit for HTML5 (SAPUI5)
        (c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.predefine("sap/fe/test/builder/DialogBuilder", ["./FEBuilder","./OverflowToolbarBuilder","sap/ui/test/OpaBuilder","sap/fe/test/Utils"],function(t,e,r,o){"use strict";function n(t){return Array.isArray(t)&&t.sort(function(t,e){return Number.parseInt(t.$().css("z-index"),10)-Number.parseInt(e.$().css("z-index"),10)}).pop()}var a=function(){var e=t.create().isDialogElement().hasType("sap.m.Dialog");return t.apply(this,arguments).options(e.build()).has(function(r){return n(t.getControls(e))===r})};a.create=function(t,e){return new a(t,e)};a.prototype=Object.create(t.prototype);a.prototype.constructor=a;a.prototype.hasContent=function(e,o){this.has(o?r.Matchers.aggregation("content",e):r.Matchers.aggregationMatcher("content",e));if(o){return this.has(t.Matchers.atIndex(0))}return this};a.prototype.hasHeaderButton=function(e,o){return this.has(r.Matchers.aggregation("customHeader")).has(t.Matchers.atIndex(0)).hasSome(r.Matchers.aggregation("contentLeft",e),r.Matchers.aggregation("contentMiddle",e),r.Matchers.aggregation("contentRight",e)).has(t.Matchers.atIndex(0)).hasState(o)};a.prototype.hasFooterButton=function(e,n){return this.doOpenFooterOverflow().success(function(a){if(Array.isArray(a)){if(a.length!==1){throw new Error(o.formatMessage("no single dialog found: {0}",a))}a=a[0]}return t.create().hasId(a.getId()).has(r.Matchers.aggregation("buttons",e)).has(t.Matchers.atIndex(0)).hasState(n).execute()})};a.prototype.doPressHeaderButton=function(e){return this.has(r.Matchers.aggregation("customHeader")).has(t.Matchers.atIndex(0)).hasSome(r.Matchers.aggregation("contentLeft",e),r.Matchers.aggregation("contentMiddle",e),r.Matchers.aggregation("contentRight",e)).has(t.Matchers.atIndex(0)).doPress()};a.prototype.doOpenFooterOverflow=function(){return e.openOverflow(this,"footer")};a.prototype.doPressFooterButton=function(t){return this.doOpenFooterOverflow().success(function(e){if(Array.isArray(e)){if(e.length!==1){throw new Error(o.formatMessage("no single dialog found: {0}",e))}e=e[0]}return r.create().hasId(e.getId()).has(r.Matchers.aggregation("buttons",t)).doPress().execute()})};return a});
/*!
 * 
		SAP UI development toolkit for HTML5 (SAPUI5)
        (c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.predefine("sap/fe/test/builder/FEBuilder", ["sap/ui/test/OpaBuilder","sap/fe/test/Utils","sap/ui/test/Opa5","sap/ui/test/matchers/Matcher","sap/ui/core/util/ShortcutHelper","sap/base/util/deepEqual","sap/ui/test/matchers/Interactable"],function(t,e,r,n,a,u,i){"use strict";var o=function(){return t.apply(this,arguments)};var s={focused:function(e){var r=t.Matchers.focused(true);return e?r:t.Matchers.not(r)},controlType:function(t){return function(e){return e&&e.isA(t)}},content:function(t){return function(r){if(!r){return false}var n=r.getMetadata().getDefaultAggregationName()||"content",a=e.getAggregation(r,n);if(!a){return false}if(!Array.isArray(a)){a=[a]}return a.some(function(e){return o.Matchers.states(t)(e)})}},p13nMode:function(t){if(!Array.isArray(t)){t=[]}t.sort();return function(e){var r=e.getP13nMode();if(!Array.isArray(r)){r=[]}r.sort();return u(t,r)}},label:function(e){return function(r){if(r.getMetadata().getProperty("label")){return t.Matchers.match(t.Matchers.properties({label:e}))(r)}return o.Matchers.label(e)(r)}}};o.create=function(t){return new o(t)};o.prototype=Object.create(t.prototype);o.prototype.constructor=o;o.prototype.getStatesMatcher=function(t){return o.Matchers.states(t)};o.prototype.hasState=function(t){if(!t){return this}if(t.visible===false){this.mustBeVisible(false);this.mustBeEnabled(false)}if(t.enabled===false){this.mustBeEnabled(false)}return this.has(this.getStatesMatcher(t))};o.prototype.doPressKeyboardShortcut=function(t){return this.do(o.Actions.keyboardShortcut(t))};o.prototype.doOnSubSectionToolBar=function(e,r){var n=o.Matchers.deepAggregation("actions",e),a=function(t){return t.getAggregation("_button")?t.getAggregation("_button").getAggregation("_textButton"):null};return this.do(function(e){var u=n(e)[0],i=u.getMetadata().getName()==="sap.m.MenuButton"?a(u)||u:u;t.Actions.executor(r||t.Actions.press())(i)})};o.prototype.doOnAggregation=function(e,r,n){if(arguments.length<3){n=r;r=undefined}var a=o.Matchers.deepAggregation(e,r);return this.do(function(e){t.Actions.executor(n)(a(e))})};o.getControls=function(e,n){var a=e.build(),u=r.getPlugin().getMatchingControls(a),i=t.Matchers.filter(a.matchers)(u);if(n){if(i.length>1){throw new Error("found ambiguous results")}return i.length?i[0]:null}return i};o.controlsExist=function(t){return!!o.getControls(t).length};o.createClosePopoverBuilder=function(e,r,n){return t.create(e).success(function(){var a=false,u=function(){a=true},i=o.createPopoverBuilder(e,r);if(n||o.controlsExist(i)){return i.do(function(t){t.attachEventOnce("afterClose",u);t.close()}).success(t.create(e).check(function(){return a})).execute()}})};o.createPopoverBuilder=function(e,r){var n=t.create(e).hasType("sap.m.Popover").isDialogElement(true).has(function(t){return t.isOpen()}).checkNumberOfMatches(1);if(r){n.has(r||[])}return n};o.createMessageToastBuilder=function(e){return t.create().check(function(){var t=r.getWindow();return t.sapFEStubs&&t.sapFEStubs.getLastToastMessage&&t.sapFEStubs.getLastToastMessage()===e}).description("Toast message '"+e+"' was displayed")};o.Matchers={FOCUSED_ELEMENT:function(){var t=r.getWindow().sap.ui.require("sap/ui/core/Core"),e=t.getCurrentFocusedControlId();if(e){return t.byId(e)}return null},state:function(r,n){if(r in s){return s[r](n)}return function(a){var u=a.getMetadata(),i=u.hasAggregation(r)&&u.getAggregation(r).multiple?e.getAggregation(a,r):null;if(!i){var s={};s[r]=n;return o.Matchers.match(t.Matchers.properties(s))(a)}if(!Array.isArray(i)){i=[i]}if(!Array.isArray(n)){if(e.isOfType(n,Number)){return i.length===n}return i.some(function(t){return o.Matchers.states(n)(t)})}return n.length===i.length&&i.every(function(t,e){return o.Matchers.states(n[e])(t)})}},states:function(r,n){if(!e.isOfType(r,Object)){return t.Matchers.TRUE}if(!e.isOfType(n,Function)){n=o.Matchers.state}return o.Matchers.match(Object.keys(r).map(function(t){return n(t,r[t])}))},match:function(e){var r=t.Matchers.match(e);return function(t){return!!r(t)}},bound:function(){return function(t){return t&&!!t.getBindingContext()}},allMatch:function(e){var r=t.Matchers.filter(e);return function(t){var e=t&&t.length||0;return e===r(t).length}},someMatch:function(e){var r=t.Matchers.filter(e);return function(t){return r(t).length>0}},id:function(t){return function(r){if(e.isOfType(t,String)){return r.getId()===t}else{return t.test(r.getId())}}},type:function(t){return function(r){if(e.isOfType(t,String)){return r.getMetadata().getName()===t}else{return t.test(r.getMetadata().getName())}}},atIndex:function(t){return function(r){if(e.isOfType(r,[null,undefined])){return null}r=[].concat(r);return r.length>t?r[t]:null}},singleElement:function(){return function(t){if(!Array.isArray(t)){t=[t]}if(t.length!==1){return false}return t[0]}},label:function(e){return t.Matchers.some(function(t){var r=t.getId&&t.getId();return r&&o.controlsExist(o.create().hasType("sap.m.Label").hasProperties({text:e,labelFor:r}))},function(t){var n=t.getAriaLabelledBy&&t.getAriaLabelledBy();if(Array.isArray(n)&&n.length>0){return n.some(function(t){var n=r.getWindow().sap.ui.require("sap/ui/core/Core").byId(t);return n&&n.getText&&n.getText()===e})}})},deepAggregation:function(r,n){var a=t.Matchers.filter(n),u=function(t){return e.getAggregation(t,this)};return function(t){var e=r.split("/"),n=e.reduce(function(t,e){return Array.prototype.concat.apply([],t.map(u.bind(e)))},[t]);return a(n)}},deepAggregationMatcher:function(t,e){var r=o.Matchers.deepAggregation(t,e);return function(t){return r(t).length>0}}};o.Actions={keyboardShortcut:function(t,r,n){var u=e.parseArguments([String,String,Boolean],arguments);t=u[0];r=u[1];n=u[2];return function(e){var u=a.parseShortcut(t);u.type="keydown";if(t.toLowerCase()===u.key){u.key=t}var i=r?e.$().find(r):e.$();if(!n){e.focus()}i.trigger(u)}}};return o});
/*!
 * 
		SAP UI development toolkit for HTML5 (SAPUI5)
        (c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.predefine("sap/fe/test/builder/KPIBuilder", ["./FEBuilder","sap/ui/test/OpaBuilder","sap/fe/test/Utils"],function(t,e,r){"use strict";var a=function(){return t.apply(this,arguments)};a.create=function(t){return new a(t)};a.prototype=Object.create(t.prototype);a.prototype.constructor=a;a.prototype.checkKPITag=function(e,r){var a={text:e};if(r&&r.status){a.status=r.status}var i=this.hasType("sap.m.GenericTag").hasProperties(a);if(r&&(r.number||r.unit)){var s={};if(r.number){s.number=r.number}if(r.unit){s.unit=r.unit}i=i.hasChildren(t.create(this).hasType("sap.m.ObjectNumber").hasProperties(s))}return i};a.prototype.clickKPITag=function(t){var e={text:t};return this.hasType("sap.m.GenericTag").hasProperties(e).doPress()};a.prototype.closeKPICard=function(){return this.hasType("sap.m.Popover").hasChildren(t.create(this).hasType("sap.ui.integration.widgets.Card")).do(function(t){t.close()})};a.prototype.checkKPICard=function(){return this.hasType("sap.m.Popover").hasChildren(t.create(this).hasType("sap.ui.integration.widgets.Card"))};a.prototype.doClickKPICardHeader=function(){return this.hasType("sap.ui.integration.cards.NumericHeader").doPress()};a.prototype.doOnKPICardHeader=function(e,r){return this.hasType("sap.ui.integration.widgets.Card").hasChildren(t.create(this).hasType("sap.ui.integration.cards.NumericHeader").hasChildren(e,r))};a.prototype.doOnKPICardChart=function(e){var r=e?t.create(this).hasType("sap.ui.integration.cards.AnalyticalContent").hasChildren(e):t.create(this).hasType("sap.ui.integration.cards.AnalyticalContent");return this.hasType("sap.ui.integration.widgets.Card").hasChildren(r)};return a});
/*!
 * 
		SAP UI development toolkit for HTML5 (SAPUI5)
        (c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.predefine("sap/fe/test/builder/MacroFieldBuilder", ["./FEBuilder","./MdcFieldBuilder","sap/ui/test/OpaBuilder","sap/fe/test/Utils"],function(t,e,r,s){"use strict";function a(s,a){if(s.isA("sap.ui.mdc.Field")){return e.Matchers.value(a)}if(s.isA("sap.fe.macros.controls.NumberWithUnitOrCurrency")){return function(e){const s=r.Matchers.childrenMatcher(t.create(this).hasType("sap.m.Text").hasProperties({width:"3.3em",text:a.currency||a.unit}));const n=r.Matchers.childrenMatcher(t.create(this).hasType("sap.m.Text").hasProperties({text:a.value}));return t.Matchers.match([s,n])(e)}}var n=a;if(a.value){n=a.description?a.description+" ("+a.value+")":a.value}if(s.isA("sap.m.InputBase")){return r.Matchers.properties({value:n})}if(s.isA("sap.m.ObjectIdentifier")){return r.Matchers.properties({title:n})}return r.Matchers.properties({text:n})}function n(s,a,n){if(s.isA("sap.ui.mdc.Field")){return e.Matchers.state(a,n)}else if(a==="lockedBy"){return function(e){var s=r.Matchers.childrenMatcher(t.create(this).hasType("sap.m.Avatar").hasProperties({initials:n}));return t.Matchers.match(s)(e)}}return t.Matchers.state(a,n)}function i(e){if(e.isA("sap.fe.macros.Field")){return i(e.getContent())}if(e.isA("sap.fe.core.controls.FormElementWrapper")){return i(e.getContent())}if(e.isA("sap.fe.macros.controls.FileWrapper")){return i(e.getAvatar())}if(e.isA("sap.fe.macros.controls.FieldWrapper")){if(e.getEditMode()==="Display"){return i(e.getContentDisplay())}else{return i(e.getContentEdit()[0])}}if(e.isA("sap.fe.macros.controls.ConditionalWrapper")){var s=e.getCondition()?e.getContentTrue():e.getContentFalse();return i(s)}return e.isA("sap.ui.mdc.Field")||e.isA("sap.m.Text")||e.isA("sap.m.ExpandableText")||e.isA("sap.m.Label")||e.isA("sap.m.CheckBox")||e.isA("sap.m.Link")||e.isA("sap.m.ObjectStatus")||e.isA("sap.m.InputBase")||e.isA("sap.m.Avatar")||e.isA("sap.m.ObjectIdentifier")||e.isA("sap.m.RatingIndicator")||e.isA("sap.m.ProgressIndicator")||e.isA("sap.fe.macros.controls.NumberWithUnitOrCurrency")?[e]:r.Matchers.children(r.create().hasSome(t.Matchers.state("controlType","sap.ui.mdc.Field"),t.Matchers.state("controlType","sap.m.Text"),t.Matchers.state("controlType","sap.m.ExpandableText"),t.Matchers.state("controlType","sap.m.Label"),t.Matchers.state("controlType","sap.m.CheckBox"),t.Matchers.state("controlType","sap.m.Link"),t.Matchers.state("controlType","sap.m.ObjectStatus"),t.Matchers.state("controlType","sap.m.InputBase"),t.Matchers.state("controlType","sap.m.Avatar"),t.Matchers.state("controlType","sap.m.ObjectIdentifier"),t.Matchers.state("controlType","sap.m.RatingIndicator"),t.Matchers.state("controlType","sap.m.ProgressIndicator")))(e)}var c=function(){return t.apply(this,arguments)};c.create=function(t){return new c(t)};c.prototype=Object.create(t.prototype);c.prototype.constructor=c;c.prototype.getStatesMatcher=function(t){return c.Matchers.states(t)};c.prototype.hasValue=function(t){if(t===undefined){return this}return this.has(c.Matchers.value(t))};c.prototype.do=function(e){this.has(function(t){if(!t){return null}if(!Array.isArray(t)){t=[t]}return t.reduce(function(t,e){return t.concat(i(e))},[])});return t.prototype.do.call(this,r.Actions.executor(e))};c.prototype.doOpenValueHelp=function(){return this.do(function(e){if(e.isA("sap.ui.mdc.Field")){t.Actions.keyboardShortcut("F4","input")(e)}})};c.Matchers={value:function(t){return function(e){var s=i(e);return s.some(function(e){return r.Matchers.match(a(e,t))(e)})}},empty:function(t){return t.getVisible()===false},state:function(t,e){return function(s){var a=[s].concat(i(s));return a.some(function(s){return r.Matchers.match(n(s,t,e))(s)})}},states:function(e){return t.Matchers.states(e,c.Matchers.state)}};return c});
/*!
 * 
		SAP UI development toolkit for HTML5 (SAPUI5)
        (c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.predefine("sap/fe/test/builder/MdcFieldBuilder", ["./FEBuilder","sap/ui/mdc/enums/FieldDisplay","sap/fe/test/Utils","sap/ui/mdc/enums/ConditionValidated"],function(e,t,n,i){"use strict";var r=/(.+?) \((.+?)\)/;function a(e,t){e=e&&[].concat(e)||[];t=t&&[].concat(t)||[];return e.every(function(e,n){return n<t.length&&(e||"")==(t[n]||"")})}function o(e,i,r,o,u){switch(e){case t.Value:return a(i,o);case t.Description:return r===undefined?a(i,u):a(r,u);case t.ValueDescription:case t.DescriptionValue:return a(i,o)&&(r===undefined||a(r,u));default:throw new Error(n.formatMessage("unsupported field display '{0}'",e))}}function u(e,i){var a={};if(n.isOfType(e,Array)){a.value=e.length>0?e[0]:null;a.description=e.length>1?e[1]:undefined}else if(n.isOfType(e,Object)){a.value=e.value;a.description=e.description}else{switch(i){case t.Description:a.value=undefined;a.description=e;break;case t.ValueDescription:case t.DescriptionValue:var o=r.exec(e);if(o){a.value=i===t.ValueDescription?o[1]:o[2];a.description=i===t.ValueDescription?o[2]:o[1];break}case t.Value:default:a.value=e;a.description=undefined}}return a}var s=function(){return e.apply(this,arguments)};s.create=function(e){return new s(e)};s.prototype=Object.create(e.prototype);s.prototype.constructor=s;s.prototype.hasValue=function(e){if(e===undefined){return this}return this.has(s.Matchers.value(e))};s.prototype.hasConditionValues=function(e,t){if(e===undefined){return this}return this.has(s.Matchers.conditionsValue(e,t))};s.prototype.doChangeValue=function(e){if(e===undefined){return this}return this.doEnterText(e)};s.prototype.getStatesMatcher=function(e){return s.Matchers.states(e)};s.prototype.doPressKeyboardShortcut=function(t){return this.do(e.Actions.keyboardShortcut(t,"input"))};s.prototype.doOpenValueHelp=function(){return this.doPressKeyboardShortcut("F4")};s.Matchers={value:function(e){return function(t){if(!t.isA("sap.ui.mdc.Field")){throw new Error("Expected sap.ui.mdc.Field but got "+t.getMetadata().getName())}var n=u(e,t.getDisplay()),i=t.getValue(),r=t.getAdditionalValue();return o(t.getDisplay(),n.value,n.description,i,r)}},conditionsValue:function(e,t){if(!n.isOfType(e,Array)){e=[e]}return function(n){var r=e.map(function(e){return u(e,n.getDisplay())}),a=n.getConditions().map(function(e){return{conditionOperator:e.operator,conditionValue:u(e.values),conditionValidated:e.validated===i.Validated}}),s=function(e){return function(i){if(t&&i.conditionOperator!==t){return false}return o(n.getDisplay(),e.value,e.description,i.conditionValue.value,i.conditionValidated?e.description:i.conditionValue.description)}};return a&&r.every(function(e){return a.some(s(e))})}},state:function(t,n){switch(t){case"content":return function(t){var i=t.getContentDisplay(),r=t.getContentEdit(),a=t.getContent(),o=(t.getAggregation("_content")||[]).concat(a||[],i||[],r||[]),u=e.Matchers.states(n);return o.some(u)};case"contentEdit":case"contentDisplay":return function(i){return e.Matchers.states(n)(i.getAggregation(t))};default:return e.Matchers.state(t,n)}},states:function(t){return e.Matchers.states(t,s.Matchers.state)}};s.Actions={};return s});
/*!
 * 
		SAP UI development toolkit for HTML5 (SAPUI5)
        (c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.predefine("sap/fe/test/builder/MdcFilterBarBuilder", ["./FEBuilder","sap/fe/test/Utils","sap/ui/test/OpaBuilder","sap/fe/test/builder/DialogBuilder","sap/ui/test/Opa5"],function(t,e,r,s,a){"use strict";var i=function(){return t.apply(this,arguments)};i.create=function(t){return new i(t)};i.prototype=Object.create(t.prototype);i.prototype.constructor=i;i.createAdaptationDialogBuilder=function(t){return s.create(t).hasAggregation("customHeader")};i.prototype.hasField=function(s,a,i){var n=e.parseArguments([[Array,Object,Function],Object,Boolean],arguments);s=n[0];a=n[1];i=n[2];if(a){var o=this.getStatesMatcher(a);if(a.visible===false){return this.hasSome(r.Matchers.not(r.Matchers.aggregationMatcher("filterItems",s)),r.Matchers.aggregationMatcher("filterItems",[o].concat(s||[])))}s=[o].concat(s||[])}return i?this.has(r.Matchers.aggregation("filterItems",s)).has(t.Matchers.atIndex(0)):this.has(r.Matchers.aggregationMatcher("filterItems",s))};i.prototype.hasFocusOnFilterField=function(t){return this.has(function(e){var r=a.getWindow().sap.ui.require("sap/ui/core/Core"),s=r.getCurrentFocusedControlId();var i=e.getFilterItems().find(function(e){return e.getLabel()===t});return s.includes(i.getId())})};i.prototype.hasFocusOnGoButton=function(){return this.has(function(t){var e=a.getWindow().sap.ui.require("sap/ui/core/Core"),r=e.getCurrentFocusedControlId(),s=t.getId()+"-btnSearch";return r===s})};i.prototype.hasEditingStatus=function(e,s){var a=r.Matchers.resourceBundle("label","sap.fe.macros","FILTERBAR_EDITING_STATUS");if(s&&"visible"in s&&s.visible===false){return this.has(function(e){return!e.getFilterItems().some(t.Matchers.match(a))})}var i=[a];if(e){i.push(r.Matchers.hasAggregation("contentEdit",r.Matchers.properties("selectedKey",e.id)))}if(s&&Object.keys(s).length){i.push(t.Matchers.states(s))}return this.hasAggregation("filterItems",i)};i.prototype.hasSearchField=function(e,s){var a=[];if(s){if(s.visible===false){return this.has(function(t){return!t.getBasicSearchField()})}a.push(t.Matchers.states(s))}if(e){a.push(r.Matchers.properties({value:e}))}return this.hasAggregation("basicSearchField",a)};i.prototype.doChangeEditingStatus=function(t){var e=r.Matchers.resourceBundle("label","sap.fe.macros","FILTERBAR_EDITING_STATUS");return this.doOnAggregation("filterItems",e,r.Actions.enterText(t.display))};i.prototype.doChangeSearch=function(t){return this.doOnAggregation("basicSearchField",r.Actions.enterText(t||""))};i.prototype.doResetSearch=function(){return this.doOnAggregation("basicSearchField",r.Actions.press("inner-reset"))};i.prototype.doSearch=function(){return this.doPress("btnSearch")};i.prototype.doOpenSettings=function(){return this.doPress("btnAdapt")};return i});
/*!
 * 
		SAP UI development toolkit for HTML5 (SAPUI5)
        (c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.predefine("sap/fe/test/builder/MdcFilterFieldBuilder", ["./MdcFieldBuilder","sap/fe/test/Utils"],function(t,e){"use strict";var o=function(){return t.apply(this,arguments)};o.create=function(t){return new o(t)};o.prototype=Object.create(t.prototype);o.prototype.constructor=o;o.prototype.hasValue=function(e,o){return t.prototype.hasConditionValues.apply(this,arguments)};o.prototype.doChangeValue=function(e,o){if(o){this.do(function(t){t.setConditions([])})}return t.prototype.doChangeValue.call(this,e)};o.Matchers={};o.Actions={};return o});
/*!
 * 
		SAP UI development toolkit for HTML5 (SAPUI5)
        (c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.predefine("sap/fe/test/builder/MdcTableBuilder", ["sap/ui/test/Opa5","sap/ui/test/OpaBuilder","./FEBuilder","./MacroFieldBuilder","./OverflowToolbarBuilder","./DialogBuilder","sap/fe/test/Utils","sap/fe/test/api/APIHelper","sap/ui/test/matchers/Interactable","sap/ui/core/library","sap/ui/test/actions/EnterText","sap/ui/core/Lib"],function(e,t,n,r,o,s,a,i,c,u,l,p){"use strict";var g=u.SortOrder;var h=p.getResourceBundleFor("sap.m");var f={Custom:"Custom",Navigation:"Navigation",Delete:"Delete"};var d=function(){return n.apply(this,arguments).hasType("sap.ui.mdc.Table").hasProperties({busy:false})};function m(e){if(Array.isArray(e)){e=e[0]}return e.getType().isA("sap.ui.mdc.table.GridTableType")}function M(e){return m(e)?"rows":"items"}function y(e,t){var n=Number(e);return Number.isNaN(n)?t.getColumns().findIndex(function(t){return t.getHeader()===e||t.getPropertyKey()===e}):n}function A(e){var t=e;while(t&&!t.isA("sap.ui.mdc.Table")){t=t._feMdcTableWrapper||t.getParent()}return t}function C(e,t){var n=A(t);return n?y(e,n):-1}function T(e){var t=e,n=e.getMetadata().getName()==="sap.ui.table.Row"?"sap.ui.table.Table":"sap.ui.mdc.Table";while(t&&!t.isA(n)){t=t._feMdcTableWrapper||t.getParent()}return t}function w(e,t){var n;if(!e){return null}if(e.isA("sap.ui.mdc.table.CreationRow")){n=e._oInnerCreationRow._getCell(t)}else if(e.isA("sap.ui.table.CreationRow")){n=e._getCell(t)}else{n=e.getCells()[t]}if(n.isA("sap.fe.macros.MacroAPI")){n=n.getContent()}return n}function b(e,r){if(e.isA("sap.fe.macros.MacroAPI")){e=e.getContent()}var o={controlType:"sap.m.Button"},s;if(r){o.text=r}s=n.Matchers.states(o);return s(e)?[e]:t.Matchers.children(s)(e)}function O(e,t){var n=Number(e);if(Number.isNaN(n)){return t.getCells().reduce(function(t,n){return t.concat(b(n,e))},[])}return b(w(t,n))}function v(e){var t=e.getRowAction();return t.getItems().reduce(function(e,n,r){if(!e&&n.getType()===f.Navigation){e=t.getAggregation("_icons")[r]}return e},null)}function I(e){var t=[new c,n.Matchers.bound()];if(a.isOfType(e,Object)){e=d.Row.Matchers.cellValues(e)}if(e){t=t.concat(e)}return t}function S(e){return e&&e._oTable}function R(e,n,r,o){o=o||"sap.m.Button";return e.doOpenOverflow().success(function(e){return t.create().hasType(o).hasId(RegExp(a.formatMessage("-{0}$",n))).has(t.Matchers.ancestor(e)).doConditional(!!r,r).execute()})}function x(e,t){return{getHeader:function(){return t?e.getLabel()&&e.getLabel().getText()||e.getName():e.getHeader()&&e.getHeader().getText()},getDataProperty:function(){return"$data property not available$"},getPropertyKey:function(){return"$data property not available$"}}}function B(e){var t=e.isA("sap.ui.table.Table"),n={_oTable:e,isA:function(e){return e==="sap.ui.mdc.Table"},getType:function(){return{isA:function(e){return e===(t?"sap.ui.mdc.table.GridTableType":"sap.ui.mdc.table.ResponsiveTableType")}}},getColumns:function(){return e.getColumns().map(function(e){return x(e,t)})},getRowBinding:function(){return e.getBinding(M(n))}};e._feMdcTableWrapper=n;return n}function E(e){var r;if(e!==undefined){r=e?"showDetails":"hideDetails"}t.create().hasType("sap.m.SegmentedButton").hasId(/-showHideDetails$/).check(function(t){if(e===undefined){r=t[0].getSelectedKey()==="showDetails"?"hideDetails":"showDetails"}return true}).success(function(e){return n.create().hasType("sap.m.SegmentedButton").hasId(/-showHideDetails$/).doOnAggregation("items",t.Matchers.properties({key:r}),t.Actions.press()).execute()}).execute()}function D(r){var o=e.getWindow().sap.ui.require("sap/ui/core/Lib").getResourceBundleFor("sap.ui.mdc"),s;if(r!==undefined){s=r?o.getText("table.SHOWDETAILS_TEXT"):o.getText("table.HIDEDETAILS_TEXT")}return t.create().hasType("sap.m.Select").hasId(/-showHideDetails-select$/).check(function(e){if(r===undefined){s=e[0].getSelectedItem().getText()===o.getText("table.SHOWDETAILS_TEXT")?o.getText("table.HIDEDETAILS_TEXT"):o.getText("table.SHOWDETAILS_TEXT")}return true}).doPress().success(function(e){return n.create().hasType("sap.m.SelectList").isDialogElement(true).has(function(e){return true}).has(i.createMenuAndListActionMatcher(s,true)).doPress().description(a.formatMessage("Executing action '{0}' from currently open selection list",s)).execute()}).execute()}function P(e,n){return t.create().isDialogElement().hasType("sap.m.Switch").success(function(t){const r=function(t){return t.getParent().getCategory()===n&&t.getParent().getLabel()===e};const o=t.find(r);o.fireChange()}).description(a.formatMessage(n+" column '{0}'",e))}d.create=function(e){return new d(e)};d.createWrapper=function(e,t,n){var r=new d(e).hasType(t);if(n){r.has(n)}return r.has(function(e){return B(e)})};d.prototype=Object.create(n.prototype);d.prototype.constructor=d;d.prototype.getStatesMatcher=function(e){return d.Matchers.states(e)};d.prototype.hasColumns=function(e,t){if(!e||Object.keys(e).length===0){return this}return this.has(d.Matchers.columnsMatcher(e,t))};d.prototype.hasTitle=function(e){return this.hasChildren(n.create(this).hasType("sap.m.Title").hasProperties({text:e}))};d.prototype.hasSearchField=function(e,r){var o=a.parseArguments([String,Object],arguments);r=o[1];var s=new d(this.getOpaInstance(),this.build()).has(r&&r.visible===false&&r.present!==true,t.Matchers.not(n.Matchers.deepAggregationMatcher("actions/action",n.Matchers.id(/BasicSearch$/))),t.Matchers.childrenMatcher(n.create(this).hasType("sap.fe.macros.table.BasicSearch").checkNumberOfMatches(1).hasProperties(r).hasAggregation("filter",t.Matchers.properties(o[0]?{value:e}:{}))));return this.doOpenOverflow().success(s)};d.prototype.hasRows=function(e,t){e=I(e);return t?this.has(d.Matchers.rows(e)):this.has(d.Matchers.rowsMatcher(e))};d.prototype.doOnRows=function(e,n){if(arguments.length===1){n=e;e=undefined}if(!n){return this}return this.hasRows(e,true).do(t.Actions.executor(n))};d.prototype.doClickOnCell=function(e,n){return this.doOnRows(e,d.Row.Actions.onCell(n,t.Actions.press()))};d.prototype.doClickOnRow=function(e){return this.doOnRows(e,function(e){if(e.getMetadata().getName()==="sap.ui.table.Row"){var n=e.getParent(),r=n.indexOfRow(e);return t.Actions.press("rows-row"+r).executeOn(n)}return t.Actions.press().executeOn(e.getMultiSelectControl()||e.getSingleSelectControl())})};d.prototype.doScroll=function(e){return this.do(function(t){switch(e){case"up":t.scrollToIndex(0);break;case"down":default:t.scrollToIndex(-1);break}})};d.prototype.doPressKeyboardShortcut=function(e,t,r){if(t&&r){return this.doOnRows(t,d.Row.Actions.onCell(r,n.Actions.keyboardShortcut(e,"input")))}return this.do(n.Actions.keyboardShortcut(e,true))};d.prototype.doEditValues=function(e,t,n){if(arguments.length===1){t=e;e=undefined}return this.hasColumns(t,true).doOnRows(e,d.Row.Actions.editCells(t,n))};d.prototype.doEditCreationRowValues=function(e,n){return this.hasColumns(e,true).has(t.Matchers.aggregation("creationRow")).do(d.Row.Actions.editCells(e,n))};d.prototype.doSelectValueHelpTableRows=function(e){return this.doOnRows(e,function(e){if(e.getMetadata().getName()==="sap.ui.table.Row"){var n=e.getParent(),r=n.indexOfRow(e);return t.Actions.press("rowsel"+r).executeOn(n)||d.Row.Actions.onCell(0,t.Actions.press().executeOn(n.getRows()[r].getCells()[0]))}return t.Actions.press().executeOn(e.getMultiSelectControl()||e.getSingleSelectControl())})};d.prototype.doSelect=function(e){return this.doOnRows(e,function(e){var n=T(e);if(n.getBusy()){n.setBusy(false)}if(e.getMetadata().getName()==="sap.ui.table.Row"){var r=n.indexOfRow(e);return t.Actions.press("rowsel"+r).executeOn(n)}return t.Actions.press().executeOn(e.getMultiSelectControl()||e.getSingleSelectControl())})};d.prototype.doSelectAll=function(){return this.do(function(e){var n=m(e);if(n){return t.Actions.press("selall").executeOn(e.getAggregation("_content"))}return t.Actions.press("sa").executeOn(e.getAggregation("_content"))})};d.prototype.doNavigate=function(e){return this.doOnRows(e,function(e){if(e.getMetadata().getName()==="sap.ui.table.Row"){return t.Actions.press().executeOn(v(e))}return t.Actions.press("imgNav").executeOn(e)})};d.prototype.doPressColumnHeader=function(e){return this.has(d.Matchers.columnControl(e)).has(n.Matchers.singleElement()).doPress()};d.prototype.doColumnHeaderSorting=function(e,n,r){var o=r===g.Ascending?"sap-icon://sort-ascending":"sap-icon://sort-descending";var s=t.create().isDialogElement().hasType("sap.m.SegmentedButton").success(function(e){const t=function(e){return e.getParent().getCategory()==="Sort"&&e.getParent().getLabel()===n};const r=function(e){return e.getIcon()===o};const s=e.find(t);const a=s.getAggregation("buttons").find(r);a.firePress()}).description(a.formatMessage("Sorting column '{0}': {1}",e,r));return this.doPressColumnHeader(e).success(s)};d.prototype.doSortByColumn=function(e,t,n){return this.doColumnHeaderSorting(e,t,n)};d.prototype.doColumnHeaderGrouping=function(e,t){var n=!t?e:t,r=P(n,"Group");return this.doPressColumnHeader(e).success(r)};d.prototype.doGroupByColumn=function(e,t){return this.doColumnHeaderGrouping(e,t)};d.prototype.doColumnHeaderAggregating=function(e,t){var n=!t?e:t,r=P(n,"Aggregate");return this.doPressColumnHeader(e).success(r)};d.prototype.doAggregateByColumn=function(e,t){return this.doColumnHeaderAggregating(e,t)};d.prototype.doChangeSearch=function(e){var n=new d(this.getOpaInstance(),this.build()).doOnChildren(t.create(this).hasType("sap.fe.macros.table.BasicSearch").checkNumberOfMatches(1).doOnAggregation("filter",t.Actions.press(),t.Actions.enterText(e||"")));return this.doOpenOverflow().success(n)};d.prototype.doResetSearch=function(){var e=new d(this.getOpaInstance(),this.build()).doOnChildren(t.create(this).hasType("sap.fe.macros.table.BasicSearch").checkNumberOfMatches(1).doOnAggregation("filter",t.Actions.press(),t.Actions.press("reset")));return this.doOpenOverflow().success(e)};d.prototype.checkColumnHeaderAction=function(e,r,o,s,a){var i=n.create(this.getOpaInstance()).doPressKeyboardShortcut("Escape").description("Closing dialog");var c=t.create().isDialogElement().hasType("sap.m.List").hasChildren(t.create(this).hasType("sap.m.Title").hasProperties({text:a}),false).success(function(e){const t=function(e){return e.getLabel()===o};return o?e[0].getAggregation("items").find(t):e[0].getAggregation("items").length===s});return this.doPressColumnHeader(e).success(c).do(i)};d.prototype.hasGroupByColumn=function(e,t,n){return this.checkColumnHeaderAction(e,"sap-icon://group-2",t,n,h.getText("table.COLUMNMENU_QUICK_GROUP_TITLE"))};d.prototype.hasAggregationColumn=function(e,t,n){return this.checkColumnHeaderAction(e,"sap-icon://table-column",t,n,h.getText("table.COLUMNMENU_QUICK_AGGREGATE_TITLE"))};d.prototype.doExpand=function(e){return this.doOnRows(e,function(e){if(e.getMetadata().getName()==="sap.ui.table.Row"){e.expand()}})};d.prototype.doCollapse=function(e){return this.doOnRows(e,function(e){if(e.getMetadata().getName()==="sap.ui.table.Row"){e.collapse()}})};d.prototype.hasOverlay=function(e){return this.has(d.Matchers.overlay(e))};d.prototype.hasNumberOfRows=function(e){return this.has(function(t){var n=t.getRowBinding(),r=d.Matchers.overlay(true)(t);return n&&!r&&(e===undefined?n.getLength()!==0:n.getLength()===e)||(!n||r)&&e===0})};d.prototype.hasHeaderFocused=function(){return this.has(function(t){var n=e.getWindow().sap.ui.require("sap/ui/core/Core"),r=n.getCurrentFocusedControlId(),o=S(t);if(m(t)){return o.getColumns()[0].getId()===r}else{return o.getId()===r}})};d.prototype.hasFocusOnRow=function(t){return this.has(function(n){var r=e.getWindow().sap.ui.require("sap/ui/core/Core"),o=r.getCurrentFocusedControlId(),s=S(n);if(m(n)){return o.includes(s.getRows()[t].getId())}else{return o===s.getItems()[t].getId()}})};d.prototype.hasQuickFilterItems=function(e){return this.has(function(t){var n=t.getQuickFilter()?.content;if(n){var r=n.getItems();if(a.isOfType(r,Array)){return r.length===e}return false}return false})};d.prototype.doSelectQuickFilter=function(e){return this.has(function(e){return e.getQuickFilter().content}).doConditional(n.Matchers.state("controlType","sap.m.Select"),t.Actions.press()).success(function(r){return n.create(this).hasId([].concat(r)[0].getId()).doOnAggregation("items",e,t.Actions.press()).execute()}.bind(this))};d.prototype.doPressMore=function(){return this.do(function(e){return n.create(this).hasId(e._oTable.getId("trigger")).do(t.Actions.press()).execute()}.bind(this))};d.prototype.doOpenOverflow=function(){return o.openOverflow(this,"toolbar")};d.prototype.doCloseOverflow=function(){return o.closeOverflow(this,"toolbar")};d.prototype.doExecuteAction=function(e,r){var o=new d(this.getOpaInstance(),this.build()),s=function(e){return!!e.getText||e.isA("sap.fe.core.buildingBlocks.BuildingBlock")&&!!e.getContent()?.getText},a=n.Matchers.deepAggregation("actions/action",[s,e]),i=function(e){return e.getAggregation("_button")?e.getAggregation("_button").getAggregation("_textButton"):null},c=function(){o.has(function(e){return a(e).length===1}).do(function(e){var n=a(e)[0];if(n.isA("sap.fe.core.buildingBlocks.BuildingBlock")){n=n.getContent()}var o=n.getMetadata().getName()==="sap.m.MenuButton"?i(n)||n:n;t.Actions.executor(r||t.Actions.press())(o)}).execute()};return this.doOpenOverflow().success(c)};d.prototype.doClickOnMessageStripFilter=function(){return this.do(function(e){var n=e.getDataStateIndicator()._oLink;return t.create().hasType("sap.m.Link").hasId(n.getId()).description("Press the messageStrip filter on Table").doPress().execute()})};d.prototype.hasShowHideDetails=function(){return R(this,"showHideDetails",false)};d.prototype.doShowHideDetails=function(e){return this.doOpenOverflow().success(function(n){if(m(n)){return}t.create().hasType("sap.m.SegmentedButton").hasId(/-showHideDetails$/).doConditional(t.Matchers.childrenMatcher(t.create(this).hasType("sap.m.Select"),true),function(t){D(e);return true},function(t){E(e);return true}).execute()})};d.prototype.hasColumnAdaptation=function(){return R(this,"settings",false)};d.prototype.doOpenColumnAdaptation=function(){return R(this,"settings",t.Actions.press())};d.prototype.hasColumnSorting=function(){return R(this,"settings",false)};d.prototype.doOpenColumnSorting=function(){return R(this,"settings",t.Actions.press()).success(t.create(this.getOpaInstance()).isDialogElement().hasType("sap.m.IconTabBar").has(t.Matchers.aggregation("items",t.Matchers.resourceBundle("text","sap.ui.mdc","p13nDialog.TAB_Sort"))).has(n.Matchers.singleElement()).doPress().description("Selecting Icon Tab Sort"))};d.prototype.hasColumnFiltering=function(){return R(this,"filter",false)};d.prototype.doOpenColumnFiltering=function(){return R(this,"settings",t.Actions.press()).success(t.create(this.getOpaInstance()).isDialogElement().hasType("sap.m.IconTabBar").has(t.Matchers.aggregation("items",t.Matchers.resourceBundle("text","sap.ui.mdc","p13nDialog.TAB_Filter"))).has(n.Matchers.singleElement()).doPress().description("Selecting Icon Tab Filter"))};d.prototype.hasExport=function(){return R(this,"export",false,"sap.m.MenuButton")};d.prototype.hasPaste=function(){return R(this,"paste",false,"sap.m.OverflowToolbarButton")};d.prototype.doExecuteInlineAction=function(e,t){return this.doOnRows(e,d.Row.Actions.pressInlineAction(t))};d.prototype.doPasteData=function(e){return this.do(function(t){t.firePaste({data:e})})};d.createAdaptationDialogBuilder=function(e){return s.create(e).hasSome(t.Matchers.resourceBundle("title","sap.ui.mdc","table.SETTINGS_COLUMN"),t.Matchers.resourceBundle("title","sap.ui.mdc","p13nDialog.VIEW_SETTINGS"))};d.createSortingDialogBuilder=function(e){return s.create(e).has(t.Matchers.resourceBundle("title","sap.ui.mdc","p13nDialog.VIEW_SETTINGS")).hasChildren(t.create(e).hasType("sap.m.IconTabFilter").has(t.Matchers.resourceBundle("text","sap.ui.mdc","p13nDialog.TAB_Sort")))};d.createFilteringDialogBuilder=function(e){return s.create(e).has(t.Matchers.resourceBundle("title","sap.ui.mdc","p13nDialog.VIEW_SETTINGS")).hasChildren(t.create(e).hasType("sap.m.IconTabFilter").has(t.Matchers.resourceBundle("text","sap.ui.mdc","p13nDialog.TAB_Filter")))};d.Cell={Matchers:{state:function(e,t){switch(e){case"editor":case"editors":return function(e){return r.Matchers.states(t)(e)};default:return n.Matchers.state(e,t)}},states:function(e){return n.Matchers.states(e,d.Cell.Matchers.state)}}};d.Column={Matchers:{state:function(e,t){switch(e){case"sortOrder":return d.Column.Matchers.sortOrder(t);case"template":case"creationTemplate":return function(n){return r.Matchers.states(t)(n.getAggregation(e))};case"importance":return d.Column.Matchers.importance(t);default:return n.Matchers.state(e,t)}},states:function(e){return n.Matchers.states(e,d.Column.Matchers.state)},sortOrder:function(e){return function(t){var r=t.getParent(),o=m(r),s={};if(o){s.sorted=e===g.None?false:true;if(e!==g.None){s.sortOrder=e}}else{s.sortIndicator=e}return n.controlsExist(n.create().hasId(t.getId()+"-innerColumn").hasProperties(s))}},importance:function(e){return function(t){return t.getExtendedSettings().getImportance()===e}}}};d.Row={Matchers:{cell:function(e){return function(t){var n=C(e,t);return w(t,n)}},cellValue:function(e,t){return function(n){if(n.isA("sap.m.GroupHeaderListItem")){return null}var o=d.Row.Matchers.cell(e)(n);while(o.isA("sap.fe.macros.MacroAPI")){o=o.getContent()}return r.Matchers.value(t)(o)}},cellValues:function(e){if(!e){return t.Matchers.TRUE}return n.Matchers.match(Object.keys(e).map(function(t){return d.Row.Matchers.cellValue(t,e[t])}))},hiddenCell:function(e){return function(t){var n=d.Row.Matchers.cell(e)(t);while(n.isA("sap.fe.macros.MacroAPI")){n=n.getContent()}return r.Matchers.empty(n)}},hiddenCells:function(e){if(!e||e.length===0){return t.Matchers.TRUE}return n.Matchers.match(e.map(function(e){return d.Row.Matchers.hiddenCell(e)}))},cellProperty:function(e,t){return function(n){var r=d.Row.Matchers.cell(e)(n);while(r.isA("sap.fe.macros.MacroAPI")){r=r.getContent()}return d.Cell.Matchers.states(t)(r)}},cellProperties:function(e){if(!e){return t.Matchers.TRUE}return n.Matchers.match(Object.keys(e).map(function(t){return d.Row.Matchers.cellProperty(t,e[t])}))},selected:function(e){return function(t){var n=t.getParent(),r=n.getParent(),o=m(r),s=o?r.getSelectedContexts().includes(t.getBindingContext()):t.getSelected();return e?s:!s}},navigated:function(e){return function(t){var n;if(t.getMetadata().getName()==="sap.ui.table.Row"){n=t.getAggregation("_settings").getNavigated()}else{n=t.getNavigated()}return e?n:!n}},focused:function(){return function(e){var n=[e];if(e.getMetadata().getName()==="sap.ui.table.Row"){n.push(v(e))}return n.some(t.Matchers.focused(true))}},highlighted:function(e){return function(t){var n;if(t.getMetadata().getName()==="sap.ui.table.Row"){n=t.getAggregation("_settings").getHighlight()}else{n=t.getHighlight()}return e===n}},isDraft:function(e){var n=t.Matchers.childrenMatcher(function(e){return e.isA("sap.m.ObjectMarker")},false);if(e){return n}else{return t.Matchers.not(n)}},states:function(e){if(!a.isOfType(e,Object)){return t.Matchers.TRUE}return n.Matchers.match(Object.keys(e).map(function(t){switch(t){case"selected":return d.Row.Matchers.selected(e.selected);case"focused":return d.Row.Matchers.focused();case"navigated":return d.Row.Matchers.navigated(e.navigated);case"highlight":return d.Row.Matchers.highlighted(e.highlight);case"isDraft":return d.Row.Matchers.isDraft(e.isDraft);default:return n.Matchers.state(t,e[t])}}))},visualGroup:function(e,t){return function(n){if(n.getMetadata().getName()==="sap.ui.table.Row"){return n.getLevel()===e&&n.getTitle()===t}else{return false}}}},Actions:{onCell:function(e,t){return function(n){var r=C(e,n),o=w(n,r);if(o.isA("sap.fe.macros.controls.FieldWrapper")){o=o.getEditMode()==="Display"?o.getContentDisplay():o.getContentEdit()[0]}if(o.isA("sap.m.VBox")){o=o.getItems()[0].getContent().getEditMode()==="Display"?o.getItems()[0].getContent().getContentDisplay():o.getItems()[0].getContent().getContentEdit()[0]}if(o.isA("sap.fe.macros.controls.ConditionalWrapper")){o=o.getCondition()?o.getContentTrue():o.getContentFalse()}if(o.isA("sap.m.HBox")&&o.getItems().length===2&&o.getItems()[1].isA("sap.m.Avatar")){o=o.getItems()[0]}if(t.executeOn){t.executeOn(o)}else{t(o)}}},editCell:function(e,t,n){return d.Row.Actions.onCell(e,new l({text:t,clearTextFirst:true,keepFocus:n?true:false,idSuffix:null,pressEnterKey:n?false:true}))},editCells:function(e,t){return Object.keys(e).map(function(n){return d.Row.Actions.editCell(n,e[n],t)})},onCellInlineAction:function(e,n){return function(r){var o=O(e,r);return t.Actions.executor(n)(o)}},pressInlineAction:function(e){return d.Row.Actions.onCellInlineAction(e,t.Actions.press())}}};d.Matchers={isGridTable:function(){return m},rows:function(e){return function(n){if(d.Matchers.overlay(true)(n)){return[]}return t.Matchers.aggregation(M(n),e)(n._oTable)}},rowsMatcher:function(e){var t=d.Matchers.rows(e);return function(e){return t(e).length>0}},columnControl:function(e){return function(t){var n=y(e,t),r=S(t);return r.getColumns()[n]}},column:function(e,t){return function(r){var o=y(e,r),s=a.getAggregation(r,"columns");if(o===-1){if(t&&t.visible===false){return true}}else{var i=s[o];if(!t||n.Matchers.match(d.Column.Matchers.states(t))(i)){return i}}return false}},columns:function(e,t){return function(n){return Object.keys(e).reduce(function(r,o){var s=d.Matchers.column(o,t?undefined:e[o])(n);if(s){r.push(s===true?null:s)}return r},[])}},columnsMatcher:function(e,t){var n=d.Matchers.columns(e,t);return function(t){return n(t).length===Object.keys(e).length}},overlay:function(e){if(e===undefined){e=true}return function(t){t=t._feMdcTableWrapper||t;return t&&t._oTable.getShowOverlay()===e}},state:function(e,t){switch(e){case"overlay":return d.Matchers.overlay(t);default:return n.Matchers.state(e,t)}},states:function(e){return n.Matchers.states(e,d.Matchers.state)}};d.Actions={};return d});
/*!
 * 
		SAP UI development toolkit for HTML5 (SAPUI5)
        (c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.predefine("sap/fe/test/builder/OverflowToolbarBuilder", ["sap/ui/test/OpaBuilder","./FEBuilder","sap/fe/test/Utils","sap/ui/test/matchers/Interactable"],function(e,t,r,n){"use strict";var s=function(){return t.apply(this,arguments)};s.create=function(e){return new s(e)};s.prototype=Object.create(t.prototype);s.prototype.constructor=s;s._toggleOverflow=function(r,s,o){var a="overflowButton";if(o){a=o+"-"+a}return r.doConditional(e.Matchers.childrenMatcher(e.create().has(t.Matchers.id(new RegExp(a+"$"))).hasProperties({pressed:!s}).has(new n).mustBeEnabled().mustBeVisible()),e.Actions.press(a))};s.openOverflow=function(e,t){return s._toggleOverflow(e,true,t)};s.closeOverflow=function(e,t){return s._toggleOverflow(e,false,t)};s.prototype.doOpenOverflow=function(){return s.openOverflow(this)};s.prototype.doCloseOverflow=function(){return s.closeOverflow(this)};s.prototype.doOnContent=function(r,s){var o=new t(this.getOpaInstance(),this.build()).hasType("sap.m.OverflowToolbar"),a=function(e){if(e.isA("sap.fe.macros.ShareAPI")||e.isA("sap.fe.macros.DraftToggle")||e.isA("sap.fe.macros.EditButton")){return!!e.getContent().getText}else{return!!e.getText}},c=t.Matchers.deepAggregation("content",[new n,a,r]),i=function(e){return e.getAggregation("_button")?e.getAggregation("_button").getAggregation("_textButton"):null},u=function(){o.has(function(e){return c(e).length===1}).do(function(t){var r=c(t)[0];if(r.isA("sap.fe.macros.ShareAPI")||r.isA("sap.fe.macros.DraftToggle")||r.isA("sap.fe.macros.EditButton")){r=r.getContent()}var n=r.getMetadata().getName()==="sap.m.MenuButton"?i(r)||r:r;e.Actions.executor(s||e.Actions.press())(n)}).execute()};return this.doOpenOverflow().success(u)};s.prototype.hasContent=function(r,n){var o=new s(this.getOpaInstance(),this.build()),a=[r,t.Matchers.states(n)];if(n&&n.visible===false){n=Object.assign(n);delete n.visible;o.hasSome(e.Matchers.aggregationMatcher("content",a),e.Matchers.not(e.Matchers.aggregationMatcher("content",[r,t.Matchers.states(n)])),e.Matchers.children(e.Matchers.match([r,t.Matchers.states(n)])))}else{o.hasSome(o.hasAggregation("content",a),e.Matchers.children(e.Matchers.match([r,t.Matchers.states(n)])))}return this.doOpenOverflow().success(o)};return s});
/*!
 * 
		SAP UI development toolkit for HTML5 (SAPUI5)
        (c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.predefine("sap/fe/test/builder/VMBuilder", ["./FEBuilder","sap/ui/test/OpaBuilder","sap/fe/test/Utils"],function(e,t,s){"use strict";var a=function(){return e.apply(this,arguments)};a.create=function(e){return new a(e)};a.prototype=Object.create(e.prototype);a.prototype.constructor=a;a.prototype.doSaveAs=function(a,i,n){var r=s.formatMessage("Save as variant '{0}'",a);this.description=function(e){r=e;return this}.bind(this);return this.doPress().success(function(s){return e.create(this).hasId(s.getId()).doPress("vm-saveas").success(e.create(this).hasId(s.getId()+"-vm-savedialog").doOnChildren(e.create(this).hasId(/-name$/).hasType("sap.m.Input").doEnterText(a,true,true)).doOnChildren(e.create(this).hasId(/-default$/).hasType("sap.m.CheckBox").doConditional(!!i,t.Actions.press())).doOnChildren(e.create(this).hasId(/-execute$/).hasType("sap.m.CheckBox").doConditional(!!n,t.Actions.press())).doOnChildren(e.create(this).hasId(/-variantsave$/).hasType("sap.m.Button").doPress()).description(r)).execute()}.bind(this))};a.prototype.doSave=function(){var t="Save variant";this.description=function(e){t=e;return this}.bind(this);return this.doPress().success(function(s){return e.create(this).hasId(s.getId()).doPress("vm-mainsave").description(t).execute()}.bind(this))};a.prototype.doSelectVariant=function(a){var i=s.formatMessage("Selecting variant '{0}'",a);this.description=function(e){i=e;return this}.bind(this);return this.doPress().success(function(s){return e.create(this).hasId(s.getId()+"-vm-list").doOnAggregation("items",t.Matchers.properties({text:a}),t.Actions.press()).description(i).execute()}.bind(this))};a.prototype.doRemoveVariant=function(a){var i=s.formatMessage("Removing variant '{0}'",a);this.description=function(e){i=e;return this}.bind(this);return this.doPress().success(function(s){return e.create(this).hasId(s.getId()).doPress("vm-manage").success(e.create(this).hasId(s.getId()+"-vm-managementTable").doOnChildren(e.create(this).hasType("sap.m.ColumnListItem").hasAggregationProperties("cells",{value:a}).has(t.Matchers.aggregation("cells",t.Matchers.properties({icon:"sap-icon://sys-cancel"}))).has(e.Matchers.atIndex(0)).doPress()).doOnChildren(e.create(this).hasId(/-vm-managementsave$/).hasType("sap.m.Button").doPress()).description(i)).execute()}.bind(this))};a.prototype.doSetVariantAsDefault=function(t){var a=s.formatMessage("Setting variant '{0}' as default",t);this.description=function(e){a=e;return this}.bind(this);return this.doPress().success(function(s){return e.create(this).hasId(s.getId()).doPress("vm-manage").success(e.create(this).hasId(s.getId()+"-vm-managementTable").doOnChildren(e.create(this).hasType("sap.m.ColumnListItem").hasAggregationProperties("cells",{value:t}).doOnChildren(e.create(this).hasType("sap.m.RadioButton").doPress())).description(a)).success(e.create(this).hasId(s.getId()+"-vm-managementsave").hasType("sap.m.Button").doPress()).execute()}.bind(this))};a.prototype.doResetDefaultVariant=function(){var t=s.formatMessage("Resetting default variant ");this.description=function(e){t=e;return this}.bind(this);return this.doPress().success(function(s){return e.create(this).hasId(s.getId()).doPress("vm-manage").success(e.create(this).hasId(s.getId()+"-vm-managementTable").doOnChildren(e.create(this).hasType("sap.m.ColumnListItem").hasAggregationProperties("cells",{text:"SAP"}).doOnChildren(e.create(this).hasType("sap.m.RadioButton").doPress())).description(t)).success(e.create(this).hasId(s.getId()+"-vm-managementsave").hasType("sap.m.Button").doPress()).execute()}.bind(this))};return a});
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/test/internal/ConsoleErrorChecker", [],function(){"use strict";function e(e){if(e instanceof RegExp){return t=>t.match(e)!==null}else{return t=>t.includes(e)}}const t=[/library-preload\.(json|js)/,"/resources/sap/fe/macros/manifest.json"].map(e);let s=function(){function s(e){this.matchers=[];this.messages=[];this.observer=new MutationObserver(e=>{const t=e.reduce((e,t)=>{if(e!==null){return e}for(const e of Array.from(t.addedNodes)){if(e instanceof Element){const t=e.querySelector("#OpaFrame");if(t instanceof HTMLIFrameElement&&t.contentWindow){return t}}}return e},null);if(t&&t.contentWindow){this.prepareWindow(t.contentWindow)}});QUnit.moduleStart(()=>{this.observer.observe(e.document.body,{childList:true})});QUnit.moduleDone(()=>{this.observer.disconnect()});QUnit.testStart(()=>{this.reset()});QUnit.log(()=>{this.handleFailedMessages()});this.karma=e.__karma__;const t=new URLSearchParams(e.location.search);const s=t.get("strictConsoleErrors");if(s!==null){this.isStrict=s==="true"}else{this.isStrict=this.karma?.config.ui5?.config.strictconsoleerrors??false}this.reset()}var n=s.prototype;n.handleFailedMessages=function e(){const t=this.messages;this.messages=[];if(t.length>0){QUnit.assert.pushResult({result:false,source:"FE Console Log Check",message:`There were ${t.length} unexpected console errors`,actual:t,expected:[]})}};n.reset=function e(){this.messages=[];if(this.isStrict){this.matchers=t}else{this.matchers=[()=>true]}};n.setAcceptedErrorPatterns=function s(n){if(!n||n.length===0){this.matchers=t}else{this.matchers=n.map(e).concat(t)}};n.checkAndLog=function e(t){for(var s=arguments.length,n=new Array(s>1?s-1:0),r=1;r<s;r++){n[r-1]=arguments[r]}if(t==="error"){const e=n[0];const t=this.matchers.some(t=>t(e));if(!t){this.messages.push(e)}}if(this.karma){const e=n.map(e=>[e]);this.karma.log(t,e)}};n.prepareWindow=function e(t){var s=this;const n=t.console;const r=e=>{const t=n[e];n[e]=function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++){o[i]=arguments[i]}s.checkAndLog(e,...o);return t.apply(n,o)}};r("log");r("debug");r("info");r("warn");r("error");n.assert=function(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;if(e){return}const t="Assertion failed";for(var s=arguments.length,r=new Array(s>1?s-1:0),o=1;o<s;o++){r[o-1]=arguments[o]}if(r.length===0){r.push(t)}else{let e=r[0];if(typeof e!=="string"){r.unshift(t)}else{e=`${t}: ${e}`;r[0]=e}}n.error(...r)};function o(e){const t=`UNHANDLED PROMISE REJECTION: ${e.reason}`;this.checkAndLog("error",t,e.reason?.stack)}function i(e){const t=e.message;this.checkAndLog("error",t,e.filename)}t.addEventListener("error",i.bind(this),{passive:true});t.addEventListener("unhandledrejection",o.bind(this),{passive:true})};s.getInstance=function e(t){if(!t.sapFEConsoleErrorChecker){t.sapFEConsoleErrorChecker=new s(t)}return t.sapFEConsoleErrorChecker};return s}();return s.getInstance(window)},false);
/*!
 * 
		SAP UI development toolkit for HTML5 (SAPUI5)
        (c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.predefine("sap/fe/test/internal/FEArrangements", ["sap/ui/test/Opa5","sap/ui/test/OpaBuilder","sap/fe/test/Utils","sap/fe/test/Stubs","sap/fe/test/BaseArrangements","sap/fe/test/internal/ConsoleErrorChecker","sap/ui/thirdparty/jquery"],function(e,t,r,a,s,n,jQuery){"use strict";return s.extend("sap.fe.test.internal.FEArrangements",{constructor:function(e){s.call(this,r.mergeObjects({launchUrl:"test-resources/sap/fe/templates/internal/demokit/flpSandbox.html"},e))},iResetTestData:function(e){var a=this,s=new URLSearchParams(window.location.search),n=s.get("useBackendUrl"),i=n?"/databinding/proxy/"+n.replace("://","/"):"",c=false;var o="";if(window.__karma__&&window.__karma__.config&&window.__karma__.config.ui5){o=window.__karma__.config.ui5.shardIndex}else{o=window.location.href.includes("sap-client")?new URL(window.location.href).searchParams.get("sap-client"):"default"}return t.create(this).success(function(){var r=a.resetTestData(),s=e?Promise.resolve():jQuery.post(i+"/redeploy?tenant="+o);Promise.all([r,s]).finally(function(){c=true}).catch(function(e){throw e});return t.create(this).timeout(60).check(function(){return c}).execute()}).description(r.formatMessage("Reset test data on tenant '{0}'",o)).execute()},iAcceptTheseErrors:function(e){return t.create(this).do(function(){n.setAcceptedErrorPatterns(e)}).description(!e||e.length===0?"Do not accept error messages":r.formatMessage("Only accept these error message patterns: {0}",e)).execute()}})});
/*!
 * 
		SAP UI development toolkit for HTML5 (SAPUI5)
        (c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.predefine("sap/fe/test/internal/FEJourneyRunner", ["sap/fe/test/JourneyRunner","sap/fe/test/Utils","./FEArrangements","sap/base/Log"],function(e,n,t){"use strict";var a=e.extend("sap.fe.test.internal.FEJourneyRunner",{constructor:function(n){if(window.QUnit){const e=window.QUnit.test;window.QUnit.test=function(n,t,a){if(a===undefined){a=t}return e(n,a)}}var t={launchUrl:"test-resources/sap/fe/templates/internal/demokit/flpSandbox.html",launchParameters:{"sap-ui-xx-csp-policy":"sap-target-level-3:ro"}};n=Object.assign(t,n);try{if(window.__karma__.config.ui5.config.usetenants){var a=window.__karma__.config.ui5.shardIndex;if(a!==undefined&&a!==null){n.launchParameters["sap-client"]=a}}}catch(e){delete n.launchParameters["sap-client"]}e.apply(this,[n])},getBaseArrangements:function(e){return new t(e)}});var r=new a({opaConfig:{frameWidth:1300,frameHeight:1e3}});var i=new a({opaConfig:{frameWidth:1700,frameHeight:1e3}});var s=new a({opaConfig:{frameWidth:1900,frameHeight:1440,timeout:90}});a.run=r.run.bind(r);a.runWide=i.run.bind(i);a.runFCL=s.run.bind(s);return a});
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/test/library", ["sap/ui/core/Lib","sap/ui/core/library"],function(e,i){"use strict";const s=e.init({name:"sap.fe.test",apiVersion:2,dependencies:["sap.ui.core"],types:[],interfaces:[],controls:[],elements:[],version:"1.141.0",noLibraryCSS:true});return s},false);
sap.ui.require.preload({
	"sap/fe/test/manifest.json":'{"_version":"1.21.0","sap.app":{"id":"sap.fe.test","type":"library","embeds":[],"applicationVersion":{"version":"1.141.0"},"title":"UI5 library: sap.fe.test","description":"UI5 library: sap.fe.test","resources":"resources.json","offline":true},"sap.ui":{"technology":"UI5","supportedThemes":[]},"sap.ui5":{"dependencies":{"minUI5Version":"1.141","libs":{"sap.ui.core":{"minVersion":"1.141.0"}}},"library":{"i18n":false,"css":false,"content":{"controls":[],"elements":[],"types":[],"interfaces":[]}}}}'
});
//# sourceMappingURL=library-preload.js.map
