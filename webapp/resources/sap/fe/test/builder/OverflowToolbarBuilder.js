/*!
 * 
		SAP UI development toolkit for HTML5 (SAPUI5)
        (c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.define(["sap/ui/test/OpaBuilder","./FEBuilder","sap/fe/test/Utils","sap/ui/test/matchers/Interactable"],function(e,t,r,n){"use strict";var s=function(){return t.apply(this,arguments)};s.create=function(e){return new s(e)};s.prototype=Object.create(t.prototype);s.prototype.constructor=s;s._toggleOverflow=function(r,s,o){var a="overflowButton";if(o){a=o+"-"+a}return r.doConditional(e.Matchers.childrenMatcher(e.create().has(t.Matchers.id(new RegExp(a+"$"))).hasProperties({pressed:!s}).has(new n).mustBeEnabled().mustBeVisible()),e.Actions.press(a))};s.openOverflow=function(e,t){return s._toggleOverflow(e,true,t)};s.closeOverflow=function(e,t){return s._toggleOverflow(e,false,t)};s.prototype.doOpenOverflow=function(){return s.openOverflow(this)};s.prototype.doCloseOverflow=function(){return s.closeOverflow(this)};s.prototype.doOnContent=function(r,s){var o=new t(this.getOpaInstance(),this.build()).hasType("sap.m.OverflowToolbar"),a=function(e){if(e.isA("sap.fe.macros.ShareAPI")||e.isA("sap.fe.macros.DraftToggle")||e.isA("sap.fe.macros.EditButton")){return!!e.getContent().getText}else{return!!e.getText}},c=t.Matchers.deepAggregation("content",[new n,a,r]),i=function(e){return e.getAggregation("_button")?e.getAggregation("_button").getAggregation("_textButton"):null},u=function(){o.has(function(e){return c(e).length===1}).do(function(t){var r=c(t)[0];if(r.isA("sap.fe.macros.ShareAPI")||r.isA("sap.fe.macros.DraftToggle")||r.isA("sap.fe.macros.EditButton")){r=r.getContent()}var n=r.getMetadata().getName()==="sap.m.MenuButton"?i(r)||r:r;e.Actions.executor(s||e.Actions.press())(n)}).execute()};return this.doOpenOverflow().success(u)};s.prototype.hasContent=function(r,n){var o=new s(this.getOpaInstance(),this.build()),a=[r,t.Matchers.states(n)];if(n&&n.visible===false){n=Object.assign(n);delete n.visible;o.hasSome(e.Matchers.aggregationMatcher("content",a),e.Matchers.not(e.Matchers.aggregationMatcher("content",[r,t.Matchers.states(n)])),e.Matchers.children(e.Matchers.match([r,t.Matchers.states(n)])))}else{o.hasSome(o.hasAggregation("content",a),e.Matchers.children(e.Matchers.match([r,t.Matchers.states(n)])))}return this.doOpenOverflow().success(o)};return s});
//# sourceMappingURL=OverflowToolbarBuilder.js.map