{"version":3,"file":"SelectionVariant.js","names":["VALIDATE_SIGN","RegExp","VALIDATE_OPTION","SelectionVariant","_BaseObject","selectionVariant","_this","call","this","id","parameters","selectOptions","undefined","parseFromString","parseFromObject","NavError","_exports","_inheritsLoose","_proto","prototype","getID","setID","setText","newText","text","getText","setParameterContextUrl","sURL","parameterCtxUrl","getParameterContextUrl","getFilterContextUrl","filterCtxUrl","setFilterContextUrl","addParameter","sName","sValue","removeParameter","renameParameter","sNameOld","sNameNew","getParameter","getParameterNames","Object","keys","addSelectOption","sPropertyName","sSign","sOption","sLow","sHigh","sText","semanticDates","test","toUpperCase","oEntry","Sign","Option","Low","Text","High","SemanticDates","i","length","oExistingEntry","push","removeSelectOption","renameSelectOption","getSelectOption","oEntries","JSON","parse","stringify","getSelectOptionsPropertyNames","_getSelectOptions","getPropertyNames","concat","massAddSelectOption","aSelectOptions","Array","isArray","oSelectOption","getValue","aValue","sParamValue","isEmpty","toJSONObject","oExternalSelectionVariant","Version","Major","Minor","Patch","SelectionVariantID","ParameterContextUrl","FilterContextUrl","determineODataFilterExpression","serializeParameters","serializeSelectOptions","toJSONString","ODataFilterExpression","Parameters","name","PropertyName","PropertyValue","SelectOptions","each","aEntries","Ranges","sJSONString","oInput","Log","warning","parseFromStringParameters","parseFromStringSelectOptions","parameter","option","range","BaseObject","UI5Class","extend"],"sources":["./SelectionVariant.ts"],"sourcesContent":["import Log from \"sap/base/Log\";\nimport each from \"sap/base/util/each\";\nimport BaseObject from \"sap/ui/base/Object\";\nimport NavError from \"./NavError\";\n\n/**\n * Object containing semanticDates filter information.\n */\nexport type SemanticDateConfiguration = {\n\t/**\n\t * Semantic Date Operator\n\t */\n\thigh: string | number | null;\n\n\t/**\n\t * the upper boundary of the interval for range operators\n\t */\n\tlow: string | number | null;\n\n\t/**\n\t * The single value or the lower boundary of the interval for range Operators\n\t */\n\toperator: string;\n};\n\n/**\n * Structure of a plain select option object.\n */\nexport interface SelectOption {\n\tSign: string;\n\tOption: string;\n\tLow: string;\n\tHigh?: string | null;\n\tText?: string;\n\tSemanticDates?: SemanticDateConfiguration;\n}\n\n/**\n * Structure of a JSON serialized SelectionOption\n */\nexport interface SerializedSelectOption {\n\tPropertyName: string;\n\tRanges?: SelectOption[];\n}\n\nexport interface SerializedParameter {\n\tPropertyName: string;\n\tPropertyValue: string;\n}\n\n/**\n * Structure of a JSON serialized SelectionVariant\n */\nexport interface SerializedSelectionVariant {\n\tVersion?: {\n\t\tMajor: string;\n\t\tMinor: string;\n\t\tPatch: string;\n\t};\n\tSelectionVariantID?: string;\n\tParameterContextUrl?: string;\n\tFilterContextUrl?: string;\n\tText?: string;\n\tParameters?: SerializedParameter[];\n\tSelectOptions?: SerializedSelectOption[];\n}\n\nconst VALIDATE_SIGN = new RegExp(\"^E$|^I$\");\nconst VALIDATE_OPTION = new RegExp(\"^EQ$|^NE$|^LE$|^GE$|^LT$|^GT$|^BT$|^CP$\");\n\n/**\n * This is the successor of {@link sap.ui.generic.app.navigation.service.SelectionVariant}.<br>\n * Creates a new instance of a SelectionVariant class. If no parameter is passed,\n * an new empty instance is created whose ID has been set to <code>\"\"</code>.\n * Passing a JSON-serialized string complying to the Selection Variant Specification will parse it,\n * and the newly created instance will contain the same information.\n * @since 1.83.0\n * @param {string|object} [vSelectionVariant] If of type <code>string</code>, the selection variant is JSON-formatted;\n * if of type <code>object</code>, the object represents a selection variant\n * @throws An instance of {@link sap.fe.navigation.NavError} in case of input errors. Valid error codes are:\n * <table>\n * <tr><th>NavError code</th><th>Description</th></tr>\n * <tr><td>SelectionVariant.INVALID_INPUT_TYPE</td><td>Indicates that the data format of the selection variant provided is inconsistent</td></tr>\n * <tr><td>SelectionVariant.UNABLE_TO_PARSE_INPUT</td><td>Indicates that the provided string is not a JSON-formatted string</td></tr>\n * <tr><td>SelectionVariant.INPUT_DOES_NOT_CONTAIN_SELECTIONVARIANT_ID</td><td>Indicates that the SelectionVariantID cannot be retrieved</td></tr>\n * <tr><td>SelectionVariant.PARAMETER_WITHOUT_VALUE</td><td>Indicates that there was an attempt to specify a parameter, but without providing any value (not even an empty value)</td></tr>\n * <tr><td>SelectionVariant.SELECT_OPTION_WITHOUT_PROPERTY_NAME</td><td>Indicates that a selection option has been defined, but the Ranges definition is missing</td></tr>\n * <tr><td>SelectionVariant.SELECT_OPTION_RANGES_NOT_ARRAY</td><td>Indicates that the Ranges definition is not an array</td></tr>\n * </table>\n * These exceptions can only be thrown if the parameter <code>vSelectionVariant</code> has been provided.\n * @public\n */\nexport class SelectionVariant extends BaseObject {\n\tprivate id = \"\";\n\n\tprivate parameters: Record<string, string> = {};\n\n\tprivate selectOptions: Record<string, any> = {};\n\n\tprivate text?: string;\n\n\tprivate parameterCtxUrl?: string;\n\n\tprivate filterCtxUrl?: string;\n\n\t/**\n\t * Creates an instance of a selection variant based on the optional serialized input.\n\t * @param selectionVariant Serialized selection variant as string or object.\n\t */\n\tconstructor(selectionVariant?: string | SerializedSelectionVariant) {\n\t\tsuper();\n\n\t\tif (selectionVariant !== undefined) {\n\t\t\tif (typeof selectionVariant === \"string\") {\n\t\t\t\tthis.parseFromString(selectionVariant);\n\t\t\t} else if (typeof selectionVariant === \"object\") {\n\t\t\t\tthis.parseFromObject(selectionVariant);\n\t\t\t} else {\n\t\t\t\tthrow new NavError(\"SelectionVariant.INVALID_INPUT_TYPE\");\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Returns the identification of the selection variant.\n\t * @public\n\t * @returns The identification of the selection variant as made available during construction\n\t */\n\tpublic getID(): string {\n\t\treturn this.id;\n\t}\n\n\t/**\n\t * Sets the identification of the selection variant.\n\t * @param id The new identification of the selection variant\n\t * @public\n\t */\n\tsetID(id: string): void {\n\t\tthis.id = id;\n\t}\n\n\t/**\n\t * Sets the text / description of the selection variant.\n\t * @param newText The new description to be used\n\t * @public\n\t * @throws An instance of {@link sap.fe.navigation.NavError} in case of input errors. Valid error codes are:\n\t * <table>\n\t * <tr><th>NavError code</th><th>Description</th></tr>\n\t * <tr><td>PresentationVariant.INVALID_INPUT_TYPE</td><td>Indicates that an input parameter has an invalid type</td></tr>\n\t * </table>\n\t */\n\tsetText(newText?: string): void {\n\t\tif (typeof newText !== \"string\") {\n\t\t\tthrow new NavError(\"PresentationVariant.INVALID_INPUT_TYPE\");\n\t\t}\n\t\tthis.text = newText;\n\t}\n\n\t/**\n\t * Returns the current text / description of this selection variant.\n\t * @returns The current description of this selection variant.\n\t * @public\n\t */\n\tgetText(): string | undefined {\n\t\treturn this.text;\n\t}\n\n\t/**\n\t * Sets the context URL intended for the parameters.\n\t * @param sURL The URL of the parameter context\n\t * @public\n\t * @throws An instance of {@link sap.fe.navigation.NavError} in case of input errors. Valid error codes are:\n\t * <table>\n\t * <tr><th>NavError code</th><th>Description</th></tr>\n\t * <tr><td>SelectionVariant.INVALID_INPUT_TYPE</td><td>Indicates that an input parameter has an invalid type</td></tr>\n\t * </table>\n\t */\n\tsetParameterContextUrl(sURL: string): void {\n\t\tif (typeof sURL !== \"string\") {\n\t\t\tthrow new NavError(\"SelectionVariant.INVALID_INPUT_TYPE\");\n\t\t}\n\t\tthis.parameterCtxUrl = sURL;\n\t}\n\n\t/**\n\t * Gets the current context URL intended for the parameters.\n\t * @returns The current context URL for the parameters\n\t * @public\n\t */\n\tgetParameterContextUrl(): string | undefined {\n\t\treturn this.parameterCtxUrl;\n\t}\n\n\t/**\n\t * Gets the current context URL intended for the filters.\n\t * @returns The current context URL for the filters\n\t * @public\n\t */\n\tgetFilterContextUrl(): string | undefined {\n\t\treturn this.filterCtxUrl;\n\t}\n\n\t/**\n\t * Sets the context URL intended for the filters.\n\t * @param sURL The URL of the filters\n\t * @public\n\t * @throws An instance of {@link sap.fe.navigation.NavError} in case of input errors. Valid error codes are:\n\t * <table>\n\t * <tr><th>NavError code</th><th>Description</th></tr>\n\t * <tr><td>SelectionVariant.INVALID_INPUT_TYPE</td><td>Indicates that an input parameter has an invalid type</td></tr>\n\t * </table>\n\t */\n\tsetFilterContextUrl(sURL: string): void {\n\t\tif (typeof sURL !== \"string\") {\n\t\t\tthrow new NavError(\"SelectionVariant.INVALID_INPUT_TYPE\");\n\t\t}\n\t\tthis.filterCtxUrl = sURL;\n\t}\n\n\t/**\n\t * Sets the value of a parameter called <code>sName</code> to the new value <code>sValue</code>.\n\t * If the parameter has already been set before, its value is overwritten.\n\t * @param sName The name of the parameter to be set; the <code>null</code> value is not allowed\n\t * @param sValue The value of the parameter to be set\n\t * @returns This instance to allow method chaining\n\t * @public\n\t * @throws An instance of {@link sap.fe.navigation.NavError} in case of input errors. Valid error codes are:\n\t * <table>\n\t * <tr><th>NavError code</th><th>Description</th></tr>\n\t * <tr><td>SelectionVariant.PARAMETER_WITHOUT_NAME</td><td>Indicates that the name of the parameter has not been specified</td></tr>\n\t * <tr><td>SelectionVariant.INVALID_INPUT_TYPE</td><td>Indicates that an input parameter has an invalid type or the value is set to <code>null</code></td></tr>\n\t * <tr><td>SelectionVariant.PARAMETER_SELOPT_COLLISION</td><td>Indicates that another SelectOption with the same name as the parameter already exists</td></tr>\n\t * </table>\n\t */\n\taddParameter(sName: string, sValue: string): this {\n\t\t/*\n\t\t *  {string} sName The name of the parameter to be set; the <code>null</code> value is not allowed\n\t\t * (see specification \"Selection Variants for UI Navigation in Fiori\", section 2.4.2.1)\n\t\t */\n\t\tif (typeof sName !== \"string\") {\n\t\t\tthrow new NavError(\"SelectionVariant.INVALID_INPUT_TYPE\");\n\t\t}\n\t\tif (typeof sValue !== \"string\") {\n\t\t\tthrow new NavError(\"SelectionVariant.INVALID_INPUT_TYPE\");\n\t\t}\n\t\tif (sName === \"\") {\n\t\t\tthrow new NavError(\"SelectionVariant.PARAMETER_WITHOUT_NAME\");\n\t\t}\n\n\t\tif (this.selectOptions[sName]) {\n\t\t\tthrow new NavError(\"SelectionVariant.PARAMETER_SELOPT_COLLISION\");\n\t\t}\n\n\t\tthis.parameters[sName] = sValue;\n\n\t\treturn this;\n\t}\n\n\t/**\n\t * Removes a parameter called <code>sName</code> from the selection variant.\n\t * @param sName The name of the parameter to be removed\n\t * @returns This instance to allow method chaining\n\t * @public\n\t * @throws An instance of {@link sap.fe.navigation.NavError} in case of input errors. Valid error codes are:\n\t * <table>\n\t * <tr><th>NavError code</th><th>Description</th></tr>\n\t * <tr><td>SelectionVariant.PARAMETER_WITHOUT_NAME</td><td>Indicates that name of the parameter has not been specified</td></tr>\n\t * <tr><td>SelectionVariant.INVALID_INPUT_TYPE</td><td>Indicates that an input parameter has an invalid type</td></tr>\n\t * </table>\n\t */\n\tremoveParameter(sName: string): this {\n\t\tif (typeof sName !== \"string\") {\n\t\t\tthrow new NavError(\"SelectionVariant.INVALID_INPUT_TYPE\");\n\t\t}\n\t\tif (sName === \"\") {\n\t\t\tthrow new NavError(\"SelectionVariant.PARAMETER_WITHOUT_NAME\");\n\t\t}\n\n\t\tdelete this.parameters[sName];\n\n\t\treturn this;\n\t}\n\n\t/**\n\t * Renames a parameter called <code>sNameOld</code> to <code>sNameNew</code>. If a parameter or a select option with\n\t * the name <code>sNameNew</code> already exist, an error is thrown. If a parameter with the name <code>sNameOld</code>\n\t * does not exist, nothing is changed.\n\t * @param sNameOld The current name of the parameter to be renamed\n\t * @param sNameNew The new name of the parameter\n\t * @returns This instance to allow method chaining\n\t * @public\n\t * @throws An instance of {@link sap.fe.navigation.NavError} in case of input errors. Valid error codes are:\n\t * <table>\n\t * <tr><th>NavError code</th><th>Description</th></tr>\n\t * <tr><td>SelectionVariant.PARAMETER_WITHOUT_NAME</td><td>Indicates that the name of a parameter has not been specified</td></tr>\n\t * <tr><td>SelectionVariant.INVALID_INPUT_TYPE</td><td>Indicates that an input parameter has an invalid type</td></tr>\n\t * <tr><td>SelectionVariant.PARAMETER_SELOPT_COLLISION</td><td>Indicates that another select option with the same new name already exists</td></tr>\n\t * <tr><td>SelectionVariant.PARAMETER_COLLISION</td><td>Indicates that another parameter with the same new name already exists</td></tr>\n\t * </table>\n\t */\n\trenameParameter(sNameOld: string, sNameNew: string): this {\n\t\tif (typeof sNameOld !== \"string\" || typeof sNameNew !== \"string\") {\n\t\t\tthrow new NavError(\"SelectionVariant.INVALID_INPUT_TYPE\");\n\t\t}\n\t\tif (sNameOld === \"\" || sNameNew === \"\") {\n\t\t\tthrow new NavError(\"SelectionVariant.PARAMETER_WITHOUT_NAME\");\n\t\t}\n\t\tif (this.parameters[sNameOld] !== undefined) {\n\t\t\tif (this.selectOptions[sNameNew]) {\n\t\t\t\tthrow new NavError(\"SelectionVariant.PARAMETER_SELOPT_COLLISION\");\n\t\t\t}\n\t\t\tif (this.parameters[sNameNew]) {\n\t\t\t\tthrow new NavError(\"SelectionVariant.PARAMETER_COLLISION\");\n\t\t\t}\n\t\t\tthis.parameters[sNameNew] = this.parameters[sNameOld];\n\t\t\tdelete this.parameters[sNameOld];\n\t\t}\n\t\treturn this;\n\t}\n\n\t/**\n\t * Returns the value of the parameter called <code>sName</code> if it has been set.\n\t * If the parameter has never been set or has been removed, <code>undefined</code> is returned.\n\t * @param sName The name of the parameter to be returned\n\t * @returns The value of parameter <code>sName</code>; returning the value <code>null</code> not possible\n\t * @public\n\t * @throws An instance of {@link sap.fe.navigation.NavError} in case of input errors. Valid error codes are:\n\t * <table>\n\t * <tr><th>NavError code</th><th>Description</th></tr>\n\t * <tr><td>SelectionVariant.INVALID_INPUT_TYPE</td><td>Indicates that an input parameter has an invalid type</td></tr>\n\t * </table>\n\t */\n\tgetParameter(sName: string): string {\n\t\tif (typeof sName !== \"string\") {\n\t\t\tthrow new NavError(\"SelectionVariant.INVALID_INPUT_TYPE\");\n\t\t}\n\t\treturn this.parameters[sName];\n\t}\n\n\t/**\n\t * Returns the set of parameter names available in this selection variant.\n\t * @returns The list of parameter names which are valid\n\t * @public\n\t */\n\tgetParameterNames(): string[] {\n\t\treturn Object.keys(this.parameters);\n\t}\n\n\t/**\n\t * Adds a new range to the list of select options for a given parameter.\n\t * @param sPropertyName The name of the property for which the selection range is added\n\t * @param sSign The sign of the range (<b>I</b>nclude or <b>E</b>xclude)\n\t * @param sOption The option of the range (<b>EQ</b> for \"equals\", <b>NE</b> for \"not equals\",\n\t * <b>LE</b> for \"less or equals\", <b>GE</b> for \"greater or equals\", <b>LT</b> for \"less than\" (and not equals),\n\t * <b>GT</b> for \"greater than\" (and not equals), <b>BT</b> for \"between\", or <b>CP</b> for \"contains pattern\"\n\t * (ABAP-styled pattern matching with the asterisk as wildcard)\n\t * @param sLow The single value or the lower boundary of the interval; the <code>null</code> value is not allowed\n\t * @param sHigh Set only if sOption is <b>BT</b>: the upper boundary of the interval\n\t * @param sText Text representing the SelectOption. This is an optional parameter. For an example in most Fiori applications if the text is not provided, it is fetched based on the ID.\n\t * must be <code>undefined</code> or <code>null</code> in all other cases\n\t * @param semanticDates Object containing semanticDates filter information\n\t * @returns This instance to allow method chaining.\n\t * @public\n\t * @throws An instance of {@link sap.fe.navigation.NavError} in case of input errors. Valid error codes are:\n\t * <table>\n\t * <tr><th>NavError code</th><th>Description</th></tr>\n\t * <tr><td>SelectionVariant.INVALID_SIGN</td><td>Indicates that the 'sign' is an invalid expression</td></tr>\n\t * <tr><td>SelectionVariant.INVALID_OPTION</td><td>Indicates that the option is an invalid expression</td></tr>\n\t * <tr><td>SelectionVariant.HIGH_PROVIDED_THOUGH_NOT_ALLOWED</td><td>Indicates that the upper boundary has been specified, even though the option is not 'BT'</td></tr>\n\t * <tr><td>SelectionVariant.INVALID_INPUT_TYPE</td><td>Indicates that an input parameter has an invalid type or the value is set to <code>null</code></td></tr>\n\t * <tr><td>SelectionVariant.INVALID_PROPERTY_NAME</td><td>Indicates that the property name is invalid, for example if it has not been specified</td></tr>\n\t * <tr><td>SelectionVariant.PARAMETER_SELOPT_COLLISION</td><td>Indicates that another parameter with the same name as the property name already exists</td></tr>\n\t * </table>\n\t */\n\taddSelectOption(\n\t\tsPropertyName: string,\n\t\tsSign: string,\n\t\tsOption: string,\n\t\tsLow: string,\n\t\tsHigh?: string | null,\n\t\tsText?: string,\n\t\tsemanticDates?: SemanticDateConfiguration\n\t): this {\n\t\t/* {string} sLow The single value or the lower boundary of the interval; the <code>null</code> value is not allowed\n\t\t * (see specification \"Selection Variants for UI Navigation in Fiori\", section 2.4.2.1)\n\t\t */\n\t\tif (typeof sPropertyName !== \"string\") {\n\t\t\tthrow new NavError(\"SelectionVariant.INVALID_INPUT_TYPE\");\n\t\t}\n\t\tif (sPropertyName === \"\") {\n\t\t\tthrow new NavError(\"SelectionVariant.INVALID_PROPERTY_NAME\");\n\t\t}\n\t\tif (typeof sSign !== \"string\") {\n\t\t\tthrow new NavError(\"SelectionVariant.INVALID_INPUT_TYPE\");\n\t\t}\n\t\tif (typeof sOption !== \"string\") {\n\t\t\tthrow new NavError(\"SelectionVariant.INVALID_INPUT_TYPE\");\n\t\t}\n\t\tif (typeof sLow !== \"string\") {\n\t\t\tthrow new NavError(\"SelectionVariant.INVALID_INPUT_TYPE\");\n\t\t}\n\t\tif (sOption === \"BT\" && typeof sHigh !== \"string\") {\n\t\t\tthrow new NavError(\"SelectionVariant.INVALID_INPUT_TYPE\");\n\t\t}\n\t\tif (!VALIDATE_SIGN.test(sSign.toUpperCase())) {\n\t\t\tthrow new NavError(\"SelectionVariant.INVALID_SIGN\");\n\t\t}\n\n\t\tif (!VALIDATE_OPTION.test(sOption.toUpperCase())) {\n\t\t\tthrow new NavError(\"SelectionVariant.INVALID_OPTION\");\n\t\t}\n\n\t\tif (this.parameters[sPropertyName]) {\n\t\t\tthrow new NavError(\"SelectionVariant.PARAMETER_SELOPT_COLLISION\");\n\t\t}\n\n\t\tif (sOption !== \"BT\") {\n\t\t\t// only \"Between\" has two parameters; for all others, sHigh may not be filled\n\t\t\tif (sHigh !== undefined && sHigh !== \"\" && sHigh !== null) {\n\t\t\t\tthrow new NavError(\"SelectionVariant.HIGH_PROVIDED_THOUGH_NOT_ALLOWED\");\n\t\t\t}\n\t\t}\n\n\t\t// check, if there's already an entry for this property\n\t\tif (this.selectOptions[sPropertyName] === undefined) {\n\t\t\t// if not, create a new set of entries\n\t\t\tthis.selectOptions[sPropertyName] = [];\n\t\t}\n\n\t\tconst oEntry: SelectOption = {\n\t\t\tSign: sSign.toUpperCase(),\n\t\t\tOption: sOption.toUpperCase(),\n\t\t\tLow: sLow\n\t\t};\n\n\t\tif (sText) {\n\t\t\t// Add Text property only in case it is passed by the consumer of the API.\n\t\t\t// Otherwise keep the structure as is.\n\t\t\toEntry.Text = sText;\n\t\t}\n\n\t\tif (sOption === \"BT\") {\n\t\t\toEntry.High = sHigh;\n\t\t} else {\n\t\t\toEntry.High = null; // Note this special case in the specification!\n\t\t\t// The specification requires that the \"High\" attribute is always\n\t\t\t// available. In case that no high value is necessary, yet the value\n\t\t\t// may not be empty, but needs to be set to \"null\"\n\t\t}\n\n\t\tif (semanticDates) {\n\t\t\t// Add SemanticDate property only in case it is passed, Otherwise keep the structure as is.\n\t\t\toEntry.SemanticDates = semanticDates;\n\t\t}\n\n\t\t//check if it is necessary to add select option\n\t\tfor (let i = 0; i < this.selectOptions[sPropertyName].length; i++) {\n\t\t\tconst oExistingEntry = this.selectOptions[sPropertyName][i];\n\t\t\tif (\n\t\t\t\toExistingEntry.Sign === oEntry.Sign &&\n\t\t\t\toExistingEntry.Option === oEntry.Option &&\n\t\t\t\toExistingEntry.Low === oEntry.Low &&\n\t\t\t\toExistingEntry.High === oEntry.High\n\t\t\t) {\n\t\t\t\treturn this;\n\t\t\t}\n\t\t}\n\t\tthis.selectOptions[sPropertyName].push(oEntry);\n\n\t\treturn this;\n\t}\n\n\t/**\n\t * Removes a select option called <code>sName</code> from the selection variant.\n\t * @param sName The name of the select option to be removed\n\t * @returns This instance to allow method chaining.\n\t * @public\n\t * @throws An instance of {@link sap.fe.navigation.NavError} in case of input errors. Valid error codes are:\n\t * <table>\n\t * <tr><th>NavError code</th><th>Description</th></tr>\n\t * <tr><td>SelectionVariant.SELOPT_WITHOUT_NAME</td><td>Indicates that name of the select option has not been specified</td></tr>\n\t * <tr><td>SelectionVariant.SELOPT_WRONG_TYPE</td><td>Indicates that the name of the parameter <code>sName</code> has an invalid type</td></tr>\n\t * </table>\n\t */\n\tremoveSelectOption(sName: string): this {\n\t\tif (typeof sName !== \"string\") {\n\t\t\tthrow new NavError(\"SelectionVariant.SELOPT_WRONG_TYPE\");\n\t\t}\n\n\t\tif (sName === \"\") {\n\t\t\tthrow new NavError(\"SelectionVariant.SELOPT_WITHOUT_NAME\");\n\t\t}\n\n\t\tdelete this.selectOptions[sName];\n\n\t\treturn this;\n\t}\n\n\t/**\n\t * Renames a select option called <code>sNameOld</code> to <code>sNameNew</code>. If a select option or a parameter\n\t * with the name <code>sNameNew</code> already exist, an error is thrown. If a select option with the name <code>sNameOld</code>\n\t * does not exist, nothing is changed.\n\t * @param sNameOld The current name of the select option property to be renamed\n\t * @param sNameNew The new name of the select option property\n\t * @returns This instance to allow method chaining\n\t * @public\n\t * @throws An instance of {@link sap.fe.navigation.NavError} in case of input errors. Valid error codes are:\n\t * <table>\n\t * <tr><th>NavError code</th><th>Description</th></tr>\n\t * <tr><td>SelectionVariant.SELOPT_WITHOUT_NAME</td><td>Indicates that the name of a select option has not been specified</td></tr>\n\t * <tr><td>SelectionVariant.SELOPT_WRONG_TYPE</td><td>Indicates that a select option has an invalid type</td></tr>\n\t * <tr><td>SelectionVariant.PARAMETER_SELOPT_COLLISION</td><td>Indicates that another parameter with the same new name already exists</td></tr>\n\t * <tr><td>SelectionVariant.SELOPT_COLLISION</td><td>Indicates that another select option with the same new name already exists</td></tr>\n\t * </table>\n\t */\n\trenameSelectOption(sNameOld: string, sNameNew: string): this {\n\t\tif (typeof sNameOld !== \"string\" || typeof sNameNew !== \"string\") {\n\t\t\tthrow new NavError(\"SelectionVariant.SELOPT_WRONG_TYPE\");\n\t\t}\n\t\tif (sNameOld === \"\" || sNameNew === \"\") {\n\t\t\tthrow new NavError(\"SelectionVariant.SELOPT_WITHOUT_NAME\");\n\t\t}\n\t\tif (this.selectOptions[sNameOld] !== undefined) {\n\t\t\tif (this.selectOptions[sNameNew]) {\n\t\t\t\tthrow new NavError(\"SelectionVariant.SELOPT_COLLISION\");\n\t\t\t}\n\t\t\tif (this.parameters[sNameNew]) {\n\t\t\t\tthrow new NavError(\"SelectionVariant.PARAMETER_SELOPT_COLLISION\");\n\t\t\t}\n\t\t\tthis.selectOptions[sNameNew] = this.selectOptions[sNameOld];\n\t\t\tdelete this.selectOptions[sNameOld];\n\t\t}\n\t\treturn this;\n\t}\n\n\t/**\n\t * Returns the set of select options/ranges available for a given property name.\n\t * @param sPropertyName The name of the property for which the set of select options/ranges is returned\n\t * @returns If <code>sPropertyName</code> is an invalid name of a property or no range exists, <code>undefined</code>\n\t * is returned; otherwise, an immutable array of ranges is returned. Each entry of the array is an object with the\n\t * following properties:\n\t * <ul>\n\t * <li><code>Sign</code>: The sign of the range</li>\n\t * <li><code>Option</code>: The option of the range</li>\n\t * <li><code>Low</code>: The low value of the range; returning value <code>null</code> is not possible</li>\n\t * <li><code>High</code>: The high value of the range; if this value is not necessary, <code>null</code> is used</li>\n\t * </ul>\n\t * For further information about the meaning of the attributes, refer to method <code>addSelectOption</code>.\n\t * @public\n\t * @throws An instance of {@link sap.fe.navigation.NavError} in case of input errors. Valid error codes are:\n\t * <table>\n\t * <tr><th>NavError code</th><th>Description</th></tr>\n\t * <tr><td>SelectionVariant.INVALID_INPUT_TYPE</td><td>Indicates that an input parameter has an invalid type</td></tr>\n\t * <tr><td>SelectionVariant.INVALID_PROPERTY_NAME</td><td>Indicates that the property name is invalid, for example, it has not been specified</td></tr>\n\t * </table>\n\t */\n\tgetSelectOption(sPropertyName: string): SelectOption[] | undefined {\n\t\tif (typeof sPropertyName !== \"string\") {\n\t\t\tthrow new NavError(\"SelectionVariant.INVALID_INPUT_TYPE\");\n\t\t}\n\t\tif (sPropertyName === \"\") {\n\t\t\tthrow new NavError(\"SelectionVariant.INVALID_PROPERTY_NAME\");\n\t\t}\n\n\t\tconst oEntries = this.selectOptions[sPropertyName];\n\t\tif (!oEntries) {\n\t\t\treturn undefined;\n\t\t}\n\n\t\treturn JSON.parse(JSON.stringify(oEntries)); // create an immutable clone of data to prevent obfuscation by caller.\n\t}\n\n\t/**\n\t * Returns the names of the properties available for this instance.\n\t * @returns The list of property names available for this instance\n\t * @public\n\t */\n\tgetSelectOptionsPropertyNames(): string[] {\n\t\treturn Object.keys(this.selectOptions);\n\t}\n\n\t/**\n\t * Returns all the select options available for this instance.\n\t * @returns The list of select options available for this instance\n\t */\n\t_getSelectOptions(): Record<string, SelectOption[]> {\n\t\treturn JSON.parse(JSON.stringify(this.selectOptions));\n\t}\n\n\t/**\n\t * Returns the names of the parameter and select option properties available for this instance.\n\t * @returns The list of parameter and select option property names available for this instance\n\t * @public\n\t */\n\tgetPropertyNames(): string[] {\n\t\treturn this.getParameterNames().concat(this.getSelectOptionsPropertyNames());\n\t}\n\n\t/**\n\t * Adds a set of select options to the list of select options for a given parameter.\n\t * @param sPropertyName The name of the property for which the set of select options is added\n\t * @param aSelectOptions Set of select options to be added\n\t * @returns This instance to allow method chaining\n\t * @throws An instance of {@link sap.fe.navigation.NavError} in case of input errors. Valid error codes are:\n\t * <table>\n\t * <tr><th>NavError code</th><th>Description</th></tr>\n\t * <tr><td>SelectionVariant.INVALID_INPUT_TYPE</td><td>Indicates that an input parameter has an invalid type</td></tr>\n\t * </table>\n\t * @public\n\t */\n\tmassAddSelectOption(sPropertyName: string, aSelectOptions: SelectOption[]): this {\n\t\tif (!Array.isArray(aSelectOptions)) {\n\t\t\tthrow new NavError(\"SelectionVariant.INVALID_INPUT_TYPE\");\n\t\t}\n\n\t\tfor (let i = 0; i < aSelectOptions.length; i++) {\n\t\t\tconst oSelectOption = aSelectOptions[i];\n\t\t\tthis.addSelectOption(\n\t\t\t\tsPropertyName,\n\t\t\t\toSelectOption.Sign,\n\t\t\t\toSelectOption.Option,\n\t\t\t\toSelectOption.Low,\n\t\t\t\toSelectOption.High,\n\t\t\t\toSelectOption.Text,\n\t\t\t\toSelectOption.SemanticDates\n\t\t\t);\n\t\t}\n\n\t\treturn this;\n\t}\n\n\t/**\n\t * First tries to retrieve the set of select options or ranges available for <code>sName</code> as the property name. If successful,\n\t * this array of selections is returned. If it fails, an attempt to find a parameter with the name <code>sName</code> is used. If the latter succeeds, the single value is converted to fit into an array of selections to make it\n\t * type compatible with ranges. This array is then returned. <br />\n\t * If neither a select option nor a parameter could be found, <code>undefined</code> is returned.\n\t * @param sName The name of the attribute for which the value is retrieved\n\t * @returns The ranges in the select options for the specified property or a range-converted representation of a parameter is returned.\n\t * If both lookups fail, <code>undefined</code> is returned. <br />\n\t * The returned ranges have the format:\n\t * <ul>\n\t * <li><code>Sign</code>: The sign of the range</li>\n\t * <li><code>Option</code>: The option of the range</li>\n\t * <li><code>Low</code>: The low value of the range; returning the value <code>null</code> is not possible</li>\n\t * <li><code>High</code>: The high value of the range; if this value is not necessary, <code>null</code> (but does exist)</li>\n\t * </ul>\n\t * For further information on the meaning of the attributes, refer to method {@link #.addSelectOption addSelectOption}.\n\t * @public\n\t * @throws An instance of {@link sap.fe.navigation.NavError} in case of input errors. Valid error codes are:\n\t * <table>\n\t * <tr><th>NavError code</th><th>Description</th></tr>\n\t * <tr><td>SelectionVariant.INVALID_INPUT_TYPE</td><td>Indicates that an input parameter has an invalid type</td></tr>\n\t * <tr><td>SelectionVariant.INVALID_PROPERTY_NAME</td><td>Indicates that the property name is invalid, for example, it has not been specified</td></tr>\n\t * </table>\n\t */\n\tgetValue(sName: string): SelectOption[] | undefined {\n\t\tlet aValue = this.getSelectOption(sName);\n\t\tif (aValue !== undefined) {\n\t\t\t// a range for the selection option is provided; so this is the leading one\n\t\t\treturn aValue;\n\t\t}\n\n\t\tconst sParamValue = this.getParameter(sName);\n\t\tif (sParamValue !== undefined) {\n\t\t\t// a parameter value has been provided; we need to convert it to the range format\n\t\t\taValue = [\n\t\t\t\t{\n\t\t\t\t\tSign: \"I\",\n\t\t\t\t\tOption: \"EQ\",\n\t\t\t\t\tLow: sParamValue,\n\t\t\t\t\tHigh: null\n\t\t\t\t}\n\t\t\t];\n\t\t\treturn aValue;\n\t\t}\n\n\t\treturn undefined;\n\t}\n\n\t/**\n\t * Returns <code>true</code> if the selection variant does neither contain parameters\n\t * nor ranges.\n\t * @returns If set to <code>true</code>  there are no parameters and no select options available in\n\t * the selection variant; <code>false</code> otherwise.\n\t * @public\n\t */\n\tisEmpty(): boolean {\n\t\treturn this.getParameterNames().length === 0 && this.getSelectOptionsPropertyNames().length === 0;\n\t}\n\n\t/**\n\t * Returns the external representation of the selection variant as JSON object.\n\t * @returns The external representation of this instance as a JSON object\n\t * @public\n\t */\n\ttoJSONObject(): SerializedSelectionVariant {\n\t\tconst oExternalSelectionVariant: SerializedSelectionVariant = {\n\t\t\tVersion: {\n\t\t\t\t// Version attributes are not part of the official specification,\n\t\t\t\tMajor: \"1\", // but could be helpful later for implementing a proper lifecycle/interoperability\n\t\t\t\tMinor: \"0\",\n\t\t\t\tPatch: \"0\"\n\t\t\t},\n\t\t\tSelectionVariantID: this.id\n\t\t};\n\n\t\tif (this.parameterCtxUrl) {\n\t\t\toExternalSelectionVariant.ParameterContextUrl = this.parameterCtxUrl;\n\t\t}\n\n\t\tif (this.filterCtxUrl) {\n\t\t\toExternalSelectionVariant.FilterContextUrl = this.filterCtxUrl;\n\t\t}\n\n\t\tif (this.text) {\n\t\t\toExternalSelectionVariant.Text = this.text;\n\t\t} else {\n\t\t\toExternalSelectionVariant.Text = \"Selection Variant with ID \" + this.id;\n\t\t}\n\n\t\tthis.determineODataFilterExpression(oExternalSelectionVariant);\n\n\t\tthis.serializeParameters(oExternalSelectionVariant);\n\t\tthis.serializeSelectOptions(oExternalSelectionVariant);\n\n\t\treturn oExternalSelectionVariant;\n\t}\n\n\t/**\n\t * Serializes this instance into a JSON-formatted string.\n\t * @returns The JSON-formatted representation of this instance in stringified format\n\t * @public\n\t */\n\ttoJSONString(): string {\n\t\treturn JSON.stringify(this.toJSONObject());\n\t}\n\n\tprivate determineODataFilterExpression(oExternalSelectionVariant: any): void {\n\t\t// TODO - specification does not indicate what is expected here in detail\n\t\toExternalSelectionVariant.ODataFilterExpression = \"\"; // not supported yet - it's allowed to be optional\n\t}\n\n\tprivate serializeParameters(oExternalSelectionVariant: SerializedSelectionVariant): void {\n\t\t// Note: Parameters section is optional (see specification section 2.4.2.1)\n\t\toExternalSelectionVariant.Parameters = [];\n\t\tfor (const name in this.parameters) {\n\t\t\toExternalSelectionVariant.Parameters.push({\n\t\t\t\tPropertyName: name,\n\t\t\t\tPropertyValue: this.parameters[name]\n\t\t\t});\n\t\t}\n\t}\n\n\tprivate serializeSelectOptions(oExternalSelectionVariant: any): void {\n\t\tif (this.selectOptions.length === 0) {\n\t\t\treturn;\n\t\t}\n\n\t\toExternalSelectionVariant.SelectOptions = [];\n\n\t\teach(this.selectOptions, function (sPropertyName: number | string, aEntries: unknown[]) {\n\t\t\tconst oSelectOption = {\n\t\t\t\tPropertyName: sPropertyName,\n\t\t\t\tRanges: aEntries\n\t\t\t};\n\n\t\t\toExternalSelectionVariant.SelectOptions.push(oSelectOption);\n\t\t\treturn true;\n\t\t});\n\t}\n\n\tprivate parseFromString(sJSONString: string): void {\n\t\tif (sJSONString === undefined) {\n\t\t\tthrow new NavError(\"SelectionVariant.UNABLE_TO_PARSE_INPUT\");\n\t\t}\n\n\t\tif (typeof sJSONString !== \"string\") {\n\t\t\tthrow new NavError(\"SelectionVariant.INVALID_INPUT_TYPE\");\n\t\t}\n\n\t\tconst oInput = JSON.parse(sJSONString);\n\t\t// the input needs to be an JSON string by specification\n\n\t\tthis.parseFromObject(oInput);\n\t}\n\n\tprivate parseFromObject(oInput: SerializedSelectionVariant): void {\n\t\tif (!oInput) {\n\t\t\toInput = {};\n\t\t}\n\t\tif (oInput.SelectionVariantID === undefined) {\n\t\t\t// Do not throw an error, but only write a warning into the log.\n\t\t\t// The SelectionVariantID is mandatory according to the specification document version 1.0,\n\t\t\t// but this document is not a universally valid standard.\n\t\t\t// It is said that the \"implementation of the SmartFilterBar\" may supersede the specification.\n\t\t\t// Thus, also allow an initial SelectionVariantID.\n\t\t\t//\t\tthrow new sap.fe.navigation.NavError(\"SelectionVariant.INPUT_DOES_NOT_CONTAIN_SELECTIONVARIANT_ID\");\n\t\t\tLog.warning(\"SelectionVariantID is not defined\");\n\t\t\toInput.SelectionVariantID = \"\";\n\t\t}\n\n\t\tthis.setID(oInput.SelectionVariantID);\n\n\t\tif (oInput.ParameterContextUrl !== undefined && oInput.ParameterContextUrl !== \"\") {\n\t\t\tthis.setParameterContextUrl(oInput.ParameterContextUrl);\n\t\t}\n\n\t\tif (oInput.FilterContextUrl !== undefined && oInput.FilterContextUrl !== \"\") {\n\t\t\tthis.setFilterContextUrl(oInput.FilterContextUrl);\n\t\t}\n\n\t\tif (oInput.Text !== undefined) {\n\t\t\tthis.setText(oInput.Text);\n\t\t}\n\n\t\t// note that ODataFilterExpression is ignored right now - not supported yet!\n\n\t\tif (oInput.Parameters) {\n\t\t\tthis.parseFromStringParameters(oInput.Parameters);\n\t\t}\n\n\t\tif (oInput.SelectOptions) {\n\t\t\tthis.parseFromStringSelectOptions(oInput.SelectOptions);\n\t\t}\n\t}\n\n\tprivate parseFromStringParameters(parameters: SerializedParameter[]): void {\n\t\tfor (const parameter of parameters) {\n\t\t\tthis.addParameter(parameter.PropertyName, parameter.PropertyValue);\n\t\t}\n\t}\n\n\tprivate parseFromStringSelectOptions(selectOptions: SerializedSelectOption[]): void {\n\t\tfor (const option of selectOptions) {\n\t\t\tif (option.Ranges) {\n\t\t\t\tif (!Array.isArray(option.Ranges)) {\n\t\t\t\t\tthrow new NavError(\"SelectionVariant.SELECT_OPTION_RANGES_NOT_ARRAY\");\n\t\t\t\t}\n\n\t\t\t\tfor (const range of option.Ranges) {\n\t\t\t\t\tthis.addSelectOption(\n\t\t\t\t\t\toption.PropertyName,\n\t\t\t\t\t\trange.Sign,\n\t\t\t\t\t\trange.Option,\n\t\t\t\t\t\trange.Low,\n\t\t\t\t\t\trange.High,\n\t\t\t\t\t\trange.Text,\n\t\t\t\t\t\trange.SemanticDates\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tLog.warning(\"Select Option object does not contain a Ranges entry; ignoring entry\");\n\t\t\t}\n\t\t}\n\t}\n}\n\n// Exporting the class as properly typed UI5Class\nconst UI5Class = BaseObject.extend(\"sap.fe.navigation.SelectionVariant\", SelectionVariant.prototype as any) as typeof SelectionVariant;\ntype UI5Class = InstanceType<typeof SelectionVariant>;\nexport default UI5Class;\n"],"mappings":"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","ignoreList":[]}