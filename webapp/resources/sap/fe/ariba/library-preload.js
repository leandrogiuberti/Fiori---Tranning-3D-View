//@ui5-bundle sap/fe/ariba/library-preload.js
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/ariba/ListReport/Component", ["sap/fe/base/ClassSupport","sap/fe/templates/ListReport/Component","sap/m/library"],function(t,r,e){"use strict";var o,i;var a={};var n=e.OverflowToolbarPriority;var s=t.defineUI5Class;function p(t,r){t.prototype=Object.create(r.prototype),t.prototype.constructor=t,f(t,r)}function f(t,r){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,r){return t.__proto__=r,t},f(t,r)}let l=(o=s("sap.fe.ariba.ListReport.Component",{library:"sap.fe.ariba",manifest:"json"}),o(i=function(t){function r(){return t.apply(this,arguments)||this}a=r;p(r,t);var e=r.prototype;e.init=function r(){this.breadcrumbsHierarchyMode=this.breadcrumbsHierarchyMode??"fullNavigation";this.shareOverflowPriority=n.AlwaysOverflow;t.prototype.init.call(this)};e._getControllerName=function t(){return"sap.fe.ariba.ListReport.ListReportController"};return r}(r))||i);a=l;return a},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/ariba/ListReport/ListReportController.controller", ["sap/fe/base/ClassSupport","sap/fe/templates/ListReport/ListReportController.controller"],function(t,e){"use strict";var r,o;var n=t.defineUI5Class;function p(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,s(t,e)}function s(t,e){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},s(t,e)}let i=(r=n("sap.fe.ariba.ListReport.ListReportController"),r(o=function(t){function e(){return t.apply(this,arguments)||this}p(e,t);var r=e.prototype;r._isExtension=function t(){return true};return e}(e))||o);return i},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/ariba/ObjectPage/Component", ["sap/fe/base/ClassSupport","sap/fe/templates/ObjectPage/Component","sap/m/library"],function(t,e,r){"use strict";var o,a;var i={};var n=r.OverflowToolbarPriority;var s=t.defineUI5Class;function p(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,c(t,e)}function c(t,e){return c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},c(t,e)}let f=(o=s("sap.fe.ariba.ObjectPage.Component",{library:"sap.fe.ariba",manifest:"json"}),o(a=function(t){function e(){return t.apply(this,arguments)||this}i=e;p(e,t);var r=e.prototype;r.init=function e(){this.breadcrumbsHierarchyMode=this.breadcrumbsHierarchyMode??"fullNavigation";this.shareOverflowPriority=n.AlwaysOverflow;t.prototype.init.call(this)};r._getControllerName=function t(){return"sap.fe.ariba.ObjectPage.ObjectPageController"};return e}(e))||a);i=f;return i},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/ariba/ObjectPage/ObjectPageController.controller", ["sap/fe/base/ClassSupport","sap/fe/templates/ObjectPage/ObjectPageController.controller"],function(t,e){"use strict";var r,o;var n=t.defineUI5Class;function a(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,p(t,e)}function p(t,e){return p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},p(t,e)}let s=(r=n("sap.fe.ariba.ObjectPage.ObjectPageController"),r(o=function(t){function e(){return t.apply(this,arguments)||this}a(e,t);var r=e.prototype;r._isExtension=function t(){return true};return e}(e))||o);return s},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/ariba/library", ["sap/base/Log","sap/fe/core/AppComponent","sap/fe/core/library","sap/fe/templates/library","sap/ui/core/Lib"],function(e,a,t,s,i){"use strict";var n={};const r="sap.fe.ariba";n.templatesNamespace=r;const o="sap.fe.ariba.ListReport";n.templatesLRNamespace=o;const p="sap.fe.ariba.ObjectPage";n.templatesOPNamespace=p;const c=i.init({name:"sap.fe.ariba",apiVersion:2,dependencies:["sap.ui.core","sap.fe.core","sap.fe.templates"],types:[],interfaces:[],controls:[],elements:[],version:"1.141.1",noLibraryCSS:true});c.onApplicationStarted=function(a){const t=a.dependencies?.libs?.["sap.fe.ariba"]!==undefined;if(t){const t=a.extends?.extensions?.["sap.ui.controllerExtensions"]??{};const s=Object.keys(t);if(s.length>0){for(const a of s){if(a.startsWith("sap.fe.templates")){e.warning(`Controller extensions for "${a}" need to match the target library sap.fe.ariba and not sap.fe.templates `+`This is automatically adjusted here but please make the changes in your manifest file to avoid this warning in the future.`);const s=a.replace("sap.fe.templates.","sap.fe.ariba.");if(t[s]===undefined){t[s]=t[a]}}}}}};a.registerConfigurationHandlers(async e=>{e["sap.fe.macros"]=e["sap.fe.macros"]??{};e["sap.fe.macros"].Status={invertedDefaultValue:true,colorMap:{Negative:"Indication12",Critical:"Indication13",Positive:"Indication14",Information:"Indication15",Neutral:"Indication20"}};return Promise.resolve()});a.registerInitChecks(c.onApplicationStarted);return c},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/base/AnnotationEnum", [],function(){"use strict";var e={};const n={"com.sap.vocabularies.Common.v1.FieldControlType":{Mandatory:7,Optional:3,ReadOnly:0,Inapplicable:0,Disabled:1}};const a=function(e){if(!e){return false}const[a,r]=e.split("/");if(n.hasOwnProperty(a)){return n[a][r]}else{return false}};e.resolveEnumValue=a;return e},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/base/BindingToolkit", ["sap/fe/base/AnnotationEnum"],function(e){"use strict";var t={};var n=e.resolveEnumValue;function r(e){return e?._type==="Property"}t.isProperty=r;const a={"Edm.Boolean":{type:"sap.ui.model.odata.type.Boolean"},"Edm.Byte":{type:"sap.ui.model.odata.type.Byte"},"Edm.Date":{type:"sap.ui.model.odata.type.Date"},"Edm.DateTimeOffset":{constraints:{$Precision:"precision",$V4:"V4"},type:"sap.ui.model.odata.type.DateTimeOffset"},"Edm.Decimal":{constraints:{"@Org.OData.Validation.V1.Minimum/$Decimal":"minimum","@Org.OData.Validation.V1.Minimum@Org.OData.Validation.V1.Exclusive":"minimumExclusive","@Org.OData.Validation.V1.Maximum/$Decimal":"maximum","@Org.OData.Validation.V1.Maximum@Org.OData.Validation.V1.Exclusive":"maximumExclusive",$Precision:"precision",$Scale:"scale"},type:"sap.ui.model.odata.type.Decimal"},"Edm.Double":{type:"sap.ui.model.odata.type.Double"},"Edm.Guid":{type:"sap.ui.model.odata.type.Guid"},"Edm.Int16":{type:"sap.ui.model.odata.type.Int16"},"Edm.Int32":{type:"sap.ui.model.odata.type.Int32"},"Edm.Int64":{type:"sap.ui.model.odata.type.Int64"},"Edm.SByte":{type:"sap.ui.model.odata.type.SByte"},"Edm.Single":{type:"sap.ui.model.odata.type.Single"},"Edm.Stream":{type:"sap.ui.model.odata.type.Stream"},"Edm.Binary":{type:"sap.ui.model.odata.type.Stream"},"Edm.String":{constraints:{"@com.sap.vocabularies.Common.v1.IsDigitSequence":"isDigitSequence",$MaxLength:"maxLength",$Nullable:"nullable"},type:"sap.ui.model.odata.type.String"},"Edm.TimeOfDay":{constraints:{$Precision:"precision"},type:"sap.ui.model.odata.type.TimeOfDay"}};t.EDM_TYPE_MAPPING=a;const o={_type:"Unresolvable"};t.unresolvableExpression=o;function i(e){return e.replace(/'/g,"\\'")}t.escapeXmlAttribute=i;function s(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++){t[n]=arguments[n]}return t.find(e=>e._type==="Unresolvable")!==undefined}t.hasUnresolvableExpression=s;function u(e,t){if(e._type!==t._type){return false}switch(e._type){case"Unresolvable":return false;case"Constant":case"EmbeddedBinding":case"EmbeddedExpressionBinding":return e.value===t.value;case"Not":return u(e.operand,t.operand);case"Truthy":return u(e.operand,t.operand);case"Set":return e.operator===t.operator&&e.operands.length===t.operands.length&&e.operands.every(e=>t.operands.some(t=>u(e,t)));case"IfElse":return u(e.condition,t.condition)&&u(e.onTrue,t.onTrue)&&u(e.onFalse,t.onFalse);case"Comparison":return e.operator===t.operator&&u(e.operand1,t.operand1)&&u(e.operand2,t.operand2);case"Concat":const n=e.expressions;const r=t.expressions;if(n.length!==r.length){return false}return n.every((e,t)=>u(e,r[t]));case"Length":return u(e.pathInModel,t.pathInModel);case"PathInModel":return e.modelName===t.modelName&&e.path===t.path&&e.targetEntitySet===t.targetEntitySet;case"Formatter":return e.fn===t.fn&&e.parameters.length===t.parameters.length&&e.parameters.every((e,n)=>u(t.parameters[n],e));case"ComplexType":return e.type===t.type&&e.bindingParameters.length===t.bindingParameters.length&&e.bindingParameters.every((e,n)=>u(t.bindingParameters[n],e));case"Function":const a=t;if(e.obj===undefined||a.obj===undefined){return e.obj===a}return e.fn===a.fn&&u(e.obj,a.obj)&&e.parameters.length===a.parameters.length&&e.parameters.every((e,t)=>u(a.parameters[t],e));case"Ref":return e.ref===t.ref}return false}t._checkExpressionsAreEqual=u;function l(e){return e.operands.reduce((t,n)=>{const r=n._type==="Set"&&n.operator===e.operator?n.operands:[n];r.forEach(e=>{if(t.operands.every(t=>!u(t,e))){t.operands.push(e)}});return t},{_type:"Set",operator:e.operator,operands:[]})}function p(e){const t=e.map(c);return e.some((e,n)=>{for(let r=n+1;r<t.length;r++){if(u(e,t[r])){return true}}return false})}function f(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++){t[n]=arguments[n]}const r=l({_type:"Set",operator:"&&",operands:t.map(E)}).operands;if(s(...r)){return o}let a=false;const i=r.filter(e=>{if(P(e)){a=true}return!I(e)});if(a){return h(false)}else if(i.length===0){const e=r.reduce((e,t)=>e&&_(t),true);return h(e)}else if(i.length===1){return i[0]}else if(p(i)){return h(false)}else{return{_type:"Set",operator:"&&",operands:i}}}t.and=f;function d(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++){t[n]=arguments[n]}const r=l({_type:"Set",operator:"||",operands:t.map(E)}).operands;if(s(...r)){return o}let a=false;const i=r.filter(e=>{if(_(e)){a=true}return!I(e)||e.value});if(a){return h(true)}else if(i.length===0){const e=r.reduce((e,t)=>e&&_(t),true);return h(e)}else if(i.length===1){return i[0]}else if(p(i)){return h(true)}else{return{_type:"Set",operator:"||",operands:i}}}t.or=d;function c(e){e=E(e);if(s(e)){return o}else if(I(e)){return h(!e.value)}else if(typeof e==="object"&&e._type==="Set"&&e.operator==="||"&&e.operands.every(e=>I(e)||T(e))){return f(...e.operands.map(e=>c(e)))}else if(typeof e==="object"&&e._type==="Set"&&e.operator==="&&"&&e.operands.every(e=>I(e)||T(e))){return d(...e.operands.map(e=>c(e)))}else if(T(e)){switch(e.operator){case"!==":return{...e,operator:"==="};case"<":return{...e,operator:">="};case"<=":return{...e,operator:">"};case"===":return{...e,operator:"!=="};case">":return{...e,operator:"<="};case">=":return{...e,operator:"<"}}}else if(e._type==="Not"){return e.operand}return{_type:"Not",operand:e}}t.not=c;function m(e){if(I(e)){return h(!!e.value)}else{return{_type:"Truthy",operand:e}}}t.isTruthy=m;function y(e,t){let n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:[];let r=arguments.length>3?arguments[3]:undefined;return g(e,t,n,r)}t.bindingExpression=y;function g(e,t){let n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:[];let r=arguments.length>3?arguments[3]:undefined;if(e===undefined){return o}let a;if(r){a=r(e);if(a===undefined){return o}}else{const t=n.concat();t.push(e);a=t.join("/")}return{_type:"PathInModel",modelName:t,path:a}}t.pathInModel=g;function h(e){let t;if(typeof e==="object"&&e!==null&&e!==undefined){if(Array.isArray(e)){t=e.map(E)}else if(N(e)){t=e.valueOf()}else{t=Object.entries(e).reduce((e,t)=>{let[n,r]=t;const a=E(r);if(a._type!=="Constant"||a.value!==undefined){e[n]=a}return e},{})}}else{t=e}return{_type:"Constant",value:t}}t.constant=h;function $(e,t){if(e!==undefined&&typeof e==="string"&&e.startsWith("{")){const t=/^{(.*)>(.+)}$/;const n=t.exec(e);if(e.startsWith("{=")){return{_type:"EmbeddedExpressionBinding",value:e}}else if(n){return g(n[2]||"",n[1]||undefined)}else{return{_type:"EmbeddedBinding",value:e}}}else if(t==="boolean"&&typeof e==="string"&&(e==="true"||e==="false")){return h(e==="true")}else if(t==="number"&&typeof e==="string"&&(!isNaN(Number(e))||e==="NaN")){return h(Number(e))}else{return h(e)}}t.resolveBindingString=$;function v(e){return{_type:"Ref",ref:e}}t.ref=v;function b(e,t){if(typeof e==="object"&&e.__bindingInfo){return g("/"+t.toString(),e.__bindingInfo.model)}else{return h(e)}}t.bindState=b;function E(e){if(O(e)){return e}return h(e)}t.wrapPrimitive=E;function O(e){return e?._type!==undefined}t.isBindingToolkitExpression=O;function I(e){return typeof e!=="object"||e._type==="Constant"}t.isConstant=I;function _(e){return I(e)&&e.value===true}function P(e){return I(e)&&e.value===false}function S(e){return e?._type==="PathInModel"}t.isPathInModelExpression=S;function C(e){return e?._type==="ComplexType"}t.isComplexTypeExpression=C;function x(e){return e?._type==="Concat"}function F(e){return e?._type==="IfElse"}function T(e){return e._type==="Comparison"}function D(e){const t=e;return t?._type==="Constant"&&t?.value===undefined}t.isUndefinedExpression=D;function N(e){switch(e.constructor.name){case"String":case"Number":case"Boolean":return true;default:return false}}function w(e){return typeof e==="object"&&!N(e)}function M(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];let n=arguments.length>2?arguments[2]:undefined;let r=arguments.length>3?arguments[3]:undefined;if(e===undefined){return E(n)}e=e?.valueOf();if(!w(e)){return h(e)}switch(e.type){case"Path":return g(e.path,undefined,t,r);case"If":return A(e.$If,t,r);case"Not":return c(j(e.$Not,t,r));case"Eq":return q(j(e.$Eq[0],t,r),j(e.$Eq[1],t,r));case"Ne":return G(j(e.$Ne[0],t,r),j(e.$Ne[1],t,r));case"Gt":return Y(j(e.$Gt[0],t,r),j(e.$Gt[1],t,r));case"Ge":return U(j(e.$Ge[0],t,r),j(e.$Ge[1],t,r));case"Lt":return R(j(e.$Lt[0],t,r),j(e.$Lt[1],t,r));case"Le":return W(j(e.$Le[0],t,r),j(e.$Le[1],t,r));case"Or":return d(...e.$Or.map(function(e){return j(e,t,r)}));case"And":return f(...e.$And.map(function(e){return j(e,t,r)}));case"Apply":return k(e,t,r);case"Constant":return h(e.value)}return o}t.getExpressionFromAnnotation=M;function j(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];let r=arguments.length>2?arguments[2]:undefined;if(e===null||typeof e!=="object"){return h(e)}else if(e.hasOwnProperty("$Or")){return d(...e.$Or.map(function(e){return j(e,t,r)}))}else if(e.hasOwnProperty("$And")){return f(...e.$And.map(function(e){return j(e,t,r)}))}else if(e.hasOwnProperty("$Not")){return c(j(e.$Not,t,r))}else if(e.hasOwnProperty("$Eq")){return q(j(e.$Eq[0],t,r),j(e.$Eq[1],t,r))}else if(e.hasOwnProperty("$Ne")){return G(j(e.$Ne[0],t,r),j(e.$Ne[1],t,r))}else if(e.hasOwnProperty("$Gt")){return Y(j(e.$Gt[0],t,r),j(e.$Gt[1],t,r))}else if(e.hasOwnProperty("$Ge")){return U(j(e.$Ge[0],t,r),j(e.$Ge[1],t,r))}else if(e.hasOwnProperty("$Lt")){return R(j(e.$Lt[0],t,r),j(e.$Lt[1],t,r))}else if(e.hasOwnProperty("$Le")){return W(j(e.$Le[0],t,r),j(e.$Le[1],t,r))}else if(e.hasOwnProperty("$Path")){return g(e.$Path,undefined,t,r)}else if(e.hasOwnProperty("$Apply")){return M({type:"Apply",$Function:e.$Function,$Apply:e.$Apply},t,undefined,r)}else if(e.hasOwnProperty("$If")){return M({type:"If",$If:e.$If},t,undefined,r)}else if(e.hasOwnProperty("$EnumMember")){return h(n(e.$EnumMember))}return h(false)}function A(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];let n=arguments.length>2?arguments[2]:undefined;return K(j(e[0],t,n),j(e[1],t,n),j(e[2],t,n))}t.annotationIfExpression=A;function V(e){let t=e;if(e.hasOwnProperty("$Path")){t={type:"Path",path:e.$Path}}else if(e.hasOwnProperty("$If")){t={type:"If",$If:e.$If}}else if(e.hasOwnProperty("$Apply")){t={type:"Apply",$Function:e.$Function,$Apply:e.$Apply}}return t}function k(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];let n=arguments.length>2?arguments[2]:undefined;switch(e.$Function){case"odata.concat":return re(...e.$Apply.map(e=>M(V(e),t,undefined,n)));case"odata.uriEncode":const r=M(V(e.$Apply[0]),t,undefined,n);return te("odata.uriEncode",[r,"Edm.String"],undefined,true);case"odata.fillUriTemplate":const a=e.$Apply[0];const o=e.$Apply.slice(1);const i={};o.forEach(e=>{i[e.$Name]=M(V(e.$LabeledElement),t,undefined,n)});return te("odata.fillUriTemplate",[a,i],undefined,true)}return o}t.annotationApplyExpression=k;function L(e,t,n){const r=E(t);const a=E(n);if(s(r,a)){return o}if(I(r)&&I(a)){switch(e){case"!==":return h(r.value!==a.value);case"===":return h(r.value===a.value);case"<":if(r.value===null||r.value===undefined||a.value===null||a.value===undefined){return h(false)}return h(r.value<a.value);case"<=":if(r.value===null||r.value===undefined||a.value===null||a.value===undefined){return h(false)}return h(r.value<=a.value);case">":if(r.value===null||r.value===undefined||a.value===null||a.value===undefined){return h(false)}return h(r.value>a.value);case">=":if(r.value===null||r.value===undefined||a.value===null||a.value===undefined){return h(false)}return h(r.value>=a.value)}}else{return{_type:"Comparison",operator:e,operand1:r,operand2:a}}}function B(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;if(e._type==="Unresolvable"){return e}if(!t){return{_type:"Length",pathInModel:e}}return K(q(e,undefined),-1,B(e))}t.length=B;function q(e,t){const n=E(e);const r=E(t);if(s(n,r)){return o}if(u(n,r)){return h(true)}function a(e,t){if(e._type==="Comparison"&&_(t)){return e}else if(e._type==="Comparison"&&P(t)){return c(e)}else if(e._type==="IfElse"&&u(e.onTrue,t)){return d(e.condition,q(e.onFalse,t))}else if(e._type==="IfElse"&&u(e.onFalse,t)){return d(c(e.condition),q(e.onTrue,t))}else if(e._type==="IfElse"&&I(e.onTrue)&&I(e.onFalse)&&I(t)&&!u(e.onTrue,t)&&!u(e.onFalse,t)){return h(false)}return undefined}const i=a(n,r)??a(r,n);return i??L("===",n,r)}t.equal=q;function G(e,t){return c(q(e,t))}t.notEqual=G;function U(e,t){return L(">=",e,t)}t.greaterOrEqual=U;function Y(e,t){return L(">",e,t)}t.greaterThan=Y;function W(e,t){return L("<=",e,t)}t.lessOrEqual=W;function R(e,t){return L("<",e,t)}t.lessThan=R;function K(e,t,n){let r=E(e);let a=E(t);let i=E(n);if(r._type==="Not"){[a,i]=[i,a];r=c(r)}if(a._type==="IfElse"&&u(r,a.condition)){a=a.onTrue}if(i._type==="IfElse"&&u(r,i.condition)){i=i.onFalse}if(I(r)){return r.value?a:i}if(u(a,i)){return a}if(P(i)){return f(r,a)}if(_(i)){return d(c(r),a)}if(P(a)){return f(c(r),i)}if(_(a)){return d(r,i)}if(s(r,a,i)){return o}if(C(e)||C(t)||C(n)){let r=0;const a=J([e,t,n],"._formatters.StandardFormatter#ifElse");const o=[];ae(a,"PathInModel",e=>{o.push(e);return g(`$${r++}`,"$")},true);o.unshift(h(JSON.stringify(a)));return J(o,"._formatters.StandardFormatter.bind($control)#evaluateComplexExpression",undefined,true)}return{_type:"IfElse",condition:r,onTrue:a,onFalse:i}}t.ifElse=K;function Q(e){switch(e._type){case"Constant":case"Formatter":case"ComplexType":return false;case"Set":return e.operands.some(Q);case"PathInModel":return e.modelName===undefined;case"Comparison":return Q(e.operand1)||Q(e.operand2);case"IfElse":return Q(e.condition)||Q(e.onTrue)||Q(e.onFalse);case"Not":case"Truthy":return Q(e.operand);default:return false}}function J(e,t,n){let r=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;const a=e.map(E);if(s(...a)){return o}if(n){if(!a.some(Q)){n.keys.forEach(e=>a.push(g(e.name,"")))}}let i="";if(typeof t==="string"){i=t}else{i=t.__functionName}const[u,l]=i.split("#");if(!r&&(a.some(C)||a.some(x)||a.some(F))){let e=0;const t=J(a,i,undefined,true);const n=[];ae(t,"PathInModel",t=>{n.push(t);return g(`$${e++}`,"$")},true);n.unshift(h(JSON.stringify(t)));return J(n,"._formatters.StandardFormatter.bind($control)#evaluateComplexExpression",undefined,true)}else if(!!l&&l.length>0){a.unshift(h(l))}return{_type:"Formatter",fn:u,parameters:a}}t.formatResult=J;function X(e,t){const n={};if(e?.constraints?.$Scale&&t.scale!==undefined){n.scale=t.scale}if(e?.constraints?.$Precision&&t.precision!==undefined){n.precision=t.precision}if(e?.constraints?.$MaxLength&&t.maxLength!==undefined){n.maxLength=t.maxLength}if(t.nullable===false){n.nullable=false}if(e?.constraints?.["@Org.OData.Validation.V1.Minimum/$Decimal"]&&!isNaN(t.annotations?.Validation?.Minimum)){n.minimum=`${t.annotations?.Validation?.Minimum}`}if(e?.constraints?.["@Org.OData.Validation.V1.Maximum/$Decimal"]&&!isNaN(t.annotations?.Validation?.Maximum)){n.maximum=`${t.annotations?.Validation?.Maximum}`}if(t.annotations?.Common?.IsDigitSequence&&e.type==="sap.ui.model.odata.type.String"&&e?.constraints?.["@com.sap.vocabularies.Common.v1.IsDigitSequence"]){n.isDigitSequence=true}if(e?.constraints?.$V4){n.V4=true}return n}t.setUpConstraints=X;function Z(e,t){let n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;const o=t;if(e._type!=="Property"&&e._type!=="ActionParameter"){return o}const i=a[e.type];if(!i){return o}if(!o.formatOptions){o.formatOptions={}}o.constraints={};o.type=i.type;if(!n){o.constraints=X(i,e)}if(o?.type?.indexOf("sap.ui.model.odata.type.Int")===0&&o?.type!=="sap.ui.model.odata.type.Int64"||o?.type==="sap.ui.model.odata.type.Double"){o.formatOptions=Object.assign(o.formatOptions,{parseAsString:false})}if(o.type==="sap.ui.model.odata.type.String"&&r(e)){if(o.constraints?.isDigitSequence||o.constraints?.nullable!==false&&e.nullable===true){o.formatOptions.parseKeepsEmptyString=false}else{o.formatOptions.parseKeepsEmptyString=true}const t=z(e);if(t){o.formatOptions.fiscalType=t;o.type="sap.fe.core.type.FiscalDate"}}const s=["sap.ui.model.odata.type.Int16","sap.ui.model.odata.type.Int32","sap.ui.model.odata.type.Int64","sap.ui.model.odata.type.Single","sap.ui.model.odata.type.Double","sap.ui.model.odata.type.Decimal","sap.ui.model.odata.type.Byte","sap.ui.model.odata.type.SByte"];if(o.constraints?.nullable===false&&o.type&&s.includes(o.type)){o.formatOptions=Object.assign(o.formatOptions,{parseEmptyValueToZero:true})}if(o.constraints?.nullable!==false&&(o.type==="sap.ui.model.odata.type.Int64"||o.type==="sap.ui.model.odata.type.Decimal")){o.formatOptions=Object.assign(o.formatOptions,{emptyString:""})}return o}t.formatWithTypeInformation=Z;const z=function(e){if(e.annotations?.Common?.IsFiscalYear){return"com.sap.vocabularies.Common.v1.IsFiscalYear"}if(e.annotations?.Common?.IsFiscalPeriod){return"com.sap.vocabularies.Common.v1.IsFiscalPeriod"}if(e.annotations?.Common?.IsFiscalYearPeriod){return"com.sap.vocabularies.Common.v1.IsFiscalYearPeriod"}if(e.annotations?.Common?.IsFiscalQuarter){return"com.sap.vocabularies.Common.v1.IsFiscalQuarter"}if(e.annotations?.Common?.IsFiscalYearQuarter){return"com.sap.vocabularies.Common.v1.IsFiscalYearQuarter"}if(e.annotations?.Common?.IsFiscalWeek){return"com.sap.vocabularies.Common.v1.IsFiscalWeek"}if(e.annotations?.Common?.IsFiscalYearWeek){return"com.sap.vocabularies.Common.v1.IsFiscalYearWeek"}if(e.annotations?.Common?.IsDayOfFiscalYear){return"com.sap.vocabularies.Common.v1.IsDayOfFiscalYear"}};t.getFiscalType=z;function H(e,t,n,r,a){const i=e.map(E);if(s(...i)){return o}if(i.length===1&&I(i[0])&&!n){return i[0]}else if(n){if(!i.some(Q)){n.keys.forEach(e=>i.push(g(e.name,"")))}}r=ee(e[0],r);if(t==="sap.ui.model.odata.type.Unit"){const e=g("/##@@requestUnitsOfMeasure");e.targetType="any";e.mode="OneTime";r??={};r.preserveDecimals=a?.skipDecimalsValidation??false;i.push(e)}else if(t==="sap.ui.model.odata.type.Currency"){const e=g("/##@@requestCurrencyCodes");e.targetType="any";e.mode="OneTime";r??={};if(a?.skipDecimalsValidation===true){r.decimals=99}r.preserveDecimals=a?.skipDecimalsValidation??false;i.push(e)}return{_type:"ComplexType",type:t,formatOptions:r||{},constraints:a||{},parameters:{},bindingParameters:i}}t.addTypeInformation=H;function ee(e,t){if(!(t&&t.showNumber===false)&&(e?.type?.indexOf("sap.ui.model.odata.type.Int")===0||e?.type==="sap.ui.model.odata.type.Decimal"||e?.type==="sap.ui.model.odata.type.Double")){if(e?.type==="sap.ui.model.odata.type.Int64"||e?.type==="sap.ui.model.odata.type.Decimal"){t=t?.showMeasure===false?{showMeasure:false,decimalPadding:t.decimalPadding,emptyString:t?.emptyString}:{decimalPadding:t?.decimalPadding,emptyString:t?.emptyString}}else{t=t?.showMeasure===false?{parseAsString:false,showMeasure:false,decimalPadding:t.decimalPadding,emptyString:t?.emptyString}:{parseAsString:false,decimalPadding:t?.decimalPadding,emptyString:t?.emptyString}}if(e?.constraints?.nullable!==false){t.emptyString=null}else{t.emptyString??=0}}return t}function te(e,t,n){let r=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;const a=typeof e==="string"?e:e.__functionName;return{_type:"Function",obj:n!==undefined?E(n):undefined,fn:a,isFormattingFn:r,parameters:t.map(E)}}t.fn=te;function ne(e){const t=[];ae(e,"PathInModel",e=>{const n={...e,alwaysKeepTargetType:true};t.push(d(q(n,""),q(e,undefined),q(e,null)));return e});return f(...t)}t.isEmpty=ne;function re(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++){t[n]=arguments[n]}const r=t.map(E);if(s(...r)){return o}if(r.every(I)){return h(r.reduce((e,t)=>{if(t.value!==undefined&&t.value!==null){return e+t.value.toString()}return e},""))}else if(r.some(C)){let e=0;const t=J(r,"._formatters.StandardFormatter#concat",undefined,true);const n=[];ae(t,"PathInModel",t=>{n.push(t);return g(`$${e++}`,"$")});n.unshift(h(JSON.stringify(t)));return J(n,"._formatters.StandardFormatter.bind($control)#evaluateComplexExpression",undefined,true)}return{_type:"Concat",expressions:r}}t.concat=re;function ae(e,t,n){let r=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;let a=e;switch(a._type){case"Function":case"Formatter":a.parameters=a.parameters.map(e=>ae(e,t,n,r));break;case"Concat":a.expressions=a.expressions.map(e=>ae(e,t,n,r));a=re(...a.expressions);break;case"ComplexType":a.bindingParameters=a.bindingParameters.map(e=>ae(e,t,n,r));break;case"IfElse":const e=ae(a.onTrue,t,n,r);const o=ae(a.onFalse,t,n,r);let i=a.condition;if(r){i=ae(a.condition,t,n,r)}a=K(i,e,o);break;case"Not":if(r){const e=ae(a.operand,t,n,r);a=c(e)}break;case"Truthy":break;case"Set":if(r){const e=a.operands.map(e=>ae(e,t,n,r));a=a.operator==="||"?d(...e):f(...e)}break;case"Comparison":if(r){const e=ae(a.operand1,t,n,r);const o=ae(a.operand2,t,n,r);a=L(a.operator,e,o)}break;case"Constant":const s=a.value;if(typeof s==="object"&&s){Object.keys(s).forEach(e=>{s[e]=ae(s[e],t,n,r)})}break;case"Ref":case"Length":case"PathInModel":case"EmbeddedBinding":case"EmbeddedExpressionBinding":case"Unresolvable":break}if(t===a._type){a=n(e)}return a}t.transformRecursively=ae;const oe=function(e){return!I(e)&&!S(e)&&O(e)&&e._type!=="IfElse"&&e._type!=="Function"};function ie(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;if(t&&Object.keys(e.value).length===0){return""}const n=e.value;const r=[];Object.keys(n).forEach(e=>{const a=n[e];const o=fe(a,true,false,t);if(o&&o.length>0){r.push(`${e}: ${o}`)}});return`{${r.join(", ")}}`}function se(e,t){let n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;let r=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;if(e.value===null){return r?null:"null"}if(e.value===undefined){return r?undefined:"undefined"}if(typeof e.value==="object"){if(Array.isArray(e.value)){const t=e.value.map(e=>fe(e,true));return`[${t.join(", ")}]`}else{return ie(e,n)}}if(t){switch(typeof e.value){case"number":case"bigint":case"boolean":return e.value.toString();case"string":return`'${i(e.value.toString())}'`;default:return""}}else{return r?e.value:e.value.toString()}}t.compileConstant=se;function ue(e,t,n){if(e.type||e.parameters||e.targetType||e.formatOptions||e.constraints){const r={path:ge(e),type:e.type,targetType:e.targetType,parameters:e.parameters,formatOptions:e.formatOptions,constraints:e.constraints};const a=fe(r,false,false,true);if(t){const t=e.alwaysKeepTargetType?"$":n;return`${t}${a}`}return a}else if(t){return`${n}{${ge(e)}}`}else{return`{${ge(e)}}`}}function le(e){if(e.bindingParameters.length===1){return`{${me(e.bindingParameters[0],true)}, type: '${e.type}'}`}let t=`], type: '${e.type}'`;if(ye(e.formatOptions)){t+=`, formatOptions: ${fe(e.formatOptions)}`}if(ye(e.constraints)){t+=`, constraints: ${fe(e.constraints)}`}if(ye(e.parameters)){t+=`, parameters: ${fe(e.parameters)}`}t+="}";return`{mode:'TwoWay', parts:[${e.bindingParameters.map(e=>me(e)).join(",")}${t}`}function pe(e,t){let n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;if(t){if(n){return`(${e})`}else{return e}}else{return`{= ${e}}`}}t.wrapBindingExpression=pe;function fe(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;let n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;let r=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;const a=E(e);const o=n?"$":"%";switch(a._type){case"Unresolvable":return undefined;case"Constant":return se(a,t,r);case"Ref":return a.ref||"null";case"Function":let e=false;if(a.isFormattingFn){ae(a,"Function",t=>{if(t!==a&&t.obj===undefined){e=true}return t},true);ae(a,"Constant",t=>{if(t!==a&&typeof t.value==="object"){ae(t,"PathInModel",t=>{e=true;return t})}return t},true)}const i=`${a.parameters.map(e=>fe(e,true)).join(", ")}`;let s=a.obj===undefined?`${a.fn}(${i})`:`${fe(a.obj,true)}.${a.fn}(${i})`;if(!t&&e){s=`{= ${s}}`}return s;case"EmbeddedExpressionBinding":return t?`(${a.value.substring(2,a.value.length-1)})`:`${a.value}`;case"EmbeddedBinding":return t?`${o}${a.value}`:`${a.value}`;case"PathInModel":return ue(a,t,o);case"Comparison":const u=de(a);return pe(u,t);case"IfElse":const l=`${fe(a.condition,true)} ? ${fe(a.onTrue,true,n)} : ${fe(a.onFalse,true,n)}`;return pe(l,t,true);case"Set":const p=a.operands.map(e=>fe(e,true)).join(` ${a.operator} `);return pe(p,t,true);case"Concat":const f=a.expressions.map(e=>fe(e,true,true)).join(" + ");return pe(f,t);case"Length":const d=`${fe(a.pathInModel,true)}.length`;return pe(d,t);case"Not":const c=`!${fe(a.operand,true)}`;return pe(c,t);case"Truthy":const m=`!!${fe(a.operand,true)}`;return pe(m,t);case"Formatter":const y=ce(a);return t?`$${y}`:y;case"ComplexType":const g=le(a);return t?`$${g}`:g;default:return""}}t.compileExpression=fe;function de(e){function t(e){const t=fe(e,true)??"undefined";return pe(t,true,oe(e))}return`${t(e.operand1)} ${e.operator} ${t(e.operand2)}`}function ce(e){if(e.parameters.length===1){return`{${me(e.parameters[0],true)}, formatter: '${e.fn}'}`}else{const t=e.parameters.map(e=>{if(e._type==="ComplexType"){return le(e)}else{return me(e)}});return`{parts: [${t.join(", ")}], formatter: '${e.fn}'}`}}function me(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;let n="";if(e._type==="Constant"){if(e.value===undefined){n=`value: 'undefined'`}else{n=`value: ${se(e,true)}`}}else if(e._type==="PathInModel"){n=`path: '${ge(e)}'`;n+=e.type?`, type: '${e.type}'`:`, targetType: 'any'`;if(e.mode){n+=`, mode: '${fe(e.mode)}'`}if(ye(e.constraints)){n+=`, constraints: ${fe(e.constraints)}`}if(ye(e.formatOptions)){n+=`, formatOptions: ${fe(e.formatOptions)}`}if(ye(e.parameters)){n+=`, parameters: ${fe(e.parameters)}`}}else{return""}return t?n:`{${n}}`}function ye(e){return!!e&&Object.keys(e).length>0}function ge(e){return`${e.modelName?e.modelName+">":""}${e.path}`}return t},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/base/BuildingBlockBase", ["sap/fe/base/BindingToolkit","sap/fe/base/ClassSupport","sap/ui/core/Control","sap/ui/core/InvisibleRenderer"],function(e,t,i,n){"use strict";var r,o,l,a,s,c,u,f,p;var b=t.defineUI5Class;var d=t.defineState;var y=t.association;var g=t.aggregation;function h(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function m(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,v(e,t)}function v(e,t){return v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},v(e,t)}function R(e,t,i,n,r){var o={};return Object.keys(n).forEach(function(e){o[e]=n[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce(function(i,n){return n(e,t,i)||i},o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer?(Object.defineProperty(e,t,o),null):o}function D(e,t){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let C=(r=b("sap.fe.base.BuildingBlockBase"),o=g({type:"sap.ui.core.Element",multiple:false,isDefault:true}),l=y({type:"sap.ui.core.Control",multiple:true,singularName:"ariaLabelledBy"}),a=d(),r(s=(c=function(t){function i(e,i,n){var r;if(typeof e==="string"){i??={};i.id=e}r=t.call(this,e,i,n)||this;h(r,"content",u,r);h(r,"ariaLabelledBy",f,r);h(r,"state",p,r);r._oldDomRef=null;return r}m(i,t);i.render=function e(t,i){if(!i.content||i.getVisible()===false){n.render(t,i)}else{t.renderControl(i.content)}};var r=i.prototype;r.bindProperty=function e(i,n){const r=this.getMetadata().getProperty(i);if(r?.bindable===false&&r.group==="Data"){this[i]=n}else{t.prototype.bindProperty.call(this,i,n)}return this};r.onAfterRendering=function e(i){const n=this.getDomRef();if(n){this._oldDomRef=new WeakRef(n)}else{this._oldDomRef=null}t.prototype.onAfterRendering.call(this,i)};r.getDomRef=function e(i){const n=this.content;let r=n?.getDomRef(i)??t.prototype.getDomRef.call(this,i);if(!r&&!i){r=this._oldDomRef?.deref()??null;if(r){return document.getElementById(r.id)}}return r};r.getFocusDomRef=function e(){const i=this.content;return i?i.getFocusDomRef():t.prototype.getFocusDomRef.call(this)};r.enhanceAccessibilityState=function e(t,i){const n=this.getParent();if(n&&n.enhanceAccessibilityState){n.enhanceAccessibilityState(t,i)}return i};r.getAccessibilityInfo=function e(){let t={};if(this.content?.isA("sap.ui.core.Control")&&this.content.getAccessibilityInfo){t=this.content.getAccessibilityInfo()}return t};r.getIdForLabel=function e(){if(this.content?.isA("sap.ui.core.Control")){return this.content.getIdForLabel()}return""};r.addStyleClass=function e(i){this.content?.addStyleClass(i);t.prototype.addStyleClass.call(this,i);return this};r.removeStyleClass=function e(i){this.content?.removeStyleClass(i);t.prototype.removeStyleClass.call(this,i);return this};r.bindState=function t(i){return e.bindState(this.state,i)};return i}(i),u=R(c.prototype,"content",[o],{configurable:true,enumerable:true,writable:true,initializer:null}),f=R(c.prototype,"ariaLabelledBy",[l],{configurable:true,enumerable:true,writable:true,initializer:null}),p=R(c.prototype,"state",[a],{configurable:true,enumerable:true,writable:true,initializer:null}),c))||s);return C},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/base/ClassSupport", ["sap/base/util/ObjectPath","sap/base/util/deepClone","sap/base/util/merge","sap/base/util/uid","sap/fe/base/HookSupport","sap/ui/base/Metadata","sap/ui/base/Object","sap/ui/core/mvc/ControllerMetadata","sap/ui/model/json/JSONModel"],function(t,e,n,r,i,o,a,s,c){"use strict";var f={};var u=i.propagateHookFromMixin;var d=i.hookable;const p=function(t){t.metadata=n({controllerExtensions:{},properties:{},aggregations:{},references:{},associations:{},methods:{},events:{},interfaces:[]},t.metadata??{});return t.metadata};function l(t){return function(e){let n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:t.getMetadata().getName();let r=e.getSource();if(t._getAPIExtension){r=t._getAPIExtension(r)??r}while(r&&!r.isA(n)&&r.getParent){if(this.isDependentBound){const t=r.getDependents();const e=t.find(t=>t.isA(n));if(e){r=e}else{r=r.getParent()}}else{r=r.getParent()}}if(!r||!r.isA(n)){const t=this.instanceMap.get(this);r=t?.[t.length-1]}let i;if(r&&r.isA(n)){i=r}return i}}const g=function(t){if(!t.__apiRegistered){t.__apiRegistered=true;t.instanceMap=new WeakMap;t.registerInstance=function(t){if(!this.instanceMap.get(t.constructor)){this.instanceMap.set(t.constructor,[])}this.instanceMap.get(t.constructor).push(t)};t.getAPI=l(t)}};function h(){return function(t,e,n){const r=p(t);if(r.stateProperty!==undefined){throw new Error("Only one state property per control is allowed")}r.stateProperty=e;delete n.writable;r.statePropertyDefaultValue??=n.initializer?.();delete n.initializer;return n}}f.defineState=h;function m(t){return function(e,n){if(!e.override){e.override={}}if(!e.overrides){e.overrides={}}let r=e.overrides;if(t){if(!r.extension){r.extension={}}if(!r.extension[t]){r.extension[t]={}}r=r.extension[t]}r[n.toString()]=e[n.toString()]}}f.methodOverride=m;function y(t){return function(e,n,r){const i=p(e);if(!i.methods[n.toString()]){i.methods[n.toString()]={}}i.methods[n.toString()].overrideExecution=t;if(t!=="Instead"){d(t)(e,n,r)}}}f.extensible=y;function b(){return function(t,e,n){const r=p(t);n.enumerable=true;if(!r.methods[e.toString()]){r.methods[e.toString()]={}}r.methods[e.toString()].public=true}}f.publicExtension=b;function P(){return function(t,e,n){const r=p(t);n.enumerable=true;if(!r.methods[e.toString()]){r.methods[e.toString()]={}}r.methods[e.toString()].public=false}}f.privateExtension=P;function S(){return function(t,e,n){const r=p(t);n.enumerable=true;if(!r.methods[e.toString()]){r.methods[e.toString()]={}}r.methods[e.toString()].final=true}}f.finalExtension=S;function _(t){return function(e,n,r){const i=p(e);delete r.initializer;i.controllerExtensions[n.toString()]=t;return r}}f.usingExtension=_;function O(){return function(t,e){const n=p(t);if(!n.events[e.toString()]){n.events[e.toString()]={}}}}f.event=O;function v(t){return function(e,n,r){const i=p(e);if(t.bindable===undefined){t.bindable=true}if(t.isBindingInfo===true){t.bindable=false;t.group="Data"}if(!i.properties[n]){i.properties[n]=t}delete r.writable;if(!t.hasOwnProperty("defaultValue")){t.defaultValue??=r.initializer?.()}delete r.initializer;return r}}f.property=v;function x(t){return function(e,n,r){const i=p(e);if(t.multiple===undefined){t.multiple=false}if(!i.aggregations[n]){i.aggregations[n]=t}if(t.isDefault){i.defaultAggregation=n}delete r.writable;t.defaultValue??=r.initializer?.();delete r.initializer;return r}}f.aggregation=x;function j(t){return function(e,n,r){const i=p(e);if(!i.associations[n]){i.associations[n]=t}delete r.writable;delete r.initializer;return r}}f.association=j;function A(t){return function(e){const n=p(e);n.interfaces.push(t)}}f.implementInterface=A;function E(){return function(t,e){const n=t.constructor;g(n);n[e.toString()]=function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++){r[i]=arguments[i]}if(r?.length){const t=n.getAPI(r[0]);t?.[e.toString()](...r)}}}}f.xmlEventHandler=E;function w(t,e){return function(n){if(!n.prototype.metadata){n.prototype.metadata={}}if(e){for(const t in e){if(n.prototype.metadata[t]!==undefined){if(Array.isArray(n.prototype.metadata[t])){n.prototype.metadata[t]=n.prototype.metadata[t].concat(e[t])}else{n.prototype.metadata[t]={...n.prototype.metadata[t],...e[t]}}}else{n.prototype.metadata[t]=e[t]}}}return V(n,t,n.prototype)}}f.defineUI5Class=w;function M(t){return function(e){if(e.prototype.extend){throw new Error("The mixinInterface decorator must be placed after `defineUi5Class`")}const n=p(e.prototype);let r=t.prototype;while(r){e=D(e,n,r);r=Object.getPrototypeOf(r)}u(e,t);t.prototype.setupMixin?.(e);return e}}f.mixin=M;function I(){return{current:undefined,setCurrent:function(t){this.current=t}}}f.createReference=I;function C(){return function(t,e,n){const r=p(t);delete n.writable;delete n.initializer;if(a.isObjectA(t,"sap.ui.core.Control")){if(!r.references[e]){r.references[e]=true}}else{n.initializer=I}return n}}f.defineReference=C;function D(t,e,r){const i=r?.getInterfaceName?.();if(i){e.interfaces.push(i)}Object.getOwnPropertyNames(r).forEach(e=>{if(e!=="constructor"&&e!=="setupMixin"&&e!=="metadata"){if(!t.prototype[e]){Object.defineProperty(t.prototype,e,Object.getOwnPropertyDescriptor(r,e)||Object.create(null))}}if(e==="metadata"){t.prototype.metadata=n(t.prototype.metadata,r.metadata)}});return t}function N(t,n){const r=`/${n.toString()}`;const i=e(t.getObject(r));let o;if(n==="__bindingInfo"){return{model:"$componentState"}}if(typeof i==="string"){o=i}else if(typeof i==="number"){o=i}else if(typeof i==="boolean"){o=i}else if(Array.isArray(i)){o=new Proxy(i,{get(t,e,n){const r=Reflect.get(t,e,n);if(typeof r==="function"){return r.bind(t)}else if(r===undefined&&isNaN(Number(e.toString()))){return{__bindingInfo:{model:"$componentState",path:e}}}return r}})}else{o={...i}}if(typeof o==="object"){o.__bindingInfo={model:"$componentState",path:r}}return o}const $=Symbol("boundProperties");function k(t,e,n,r){t.setModel(new c(r),"$componentState");const i=t.getModel("$componentState");i.attachPropertyChange(e=>{const r=e.getParameter("path")?.substring(1);if(r&&n.includes(r)){t.setProperty(r,e.getParameter("value"))}});t.__stateCreated=true;const o=new Proxy(i,{get:(t,e)=>N(t,e),set:(e,n,r)=>{const i=t[$];if(i.includes(n.toString())){t._ignoreStatePropertyUpdate=true;t.setProperty(n.toString(),r);t._ignoreStatePropertyUpdate=false}const o=e.setProperty(`/${n.toString()}`,r);t._updateStateDebounced(n.toString());return o}});Object.defineProperty(t,e,{configurable:true,get:()=>o,set(t){i.setProperty(`/`,t)}});return o}function z(t,e){if(t.metadata?.stateProperty||e[$]){let n=false;const r=[];for(const e in t.metadata?.properties){const n=t.metadata.properties[e];if(n.bindToState){r.push(e)}}e[$]??=[];e[$]=[...e[$],...r];if(t.metadata?.stateProperty){e._updateState=async function(){delete this._updateStateTimer;if(!n){n=true;await(this.onStateChange?.(this._changedProps));this._changedProps=[];n=false}};e._updateStateDebounced=function(t){this._changedProps??=[];if(!this._changedProps.includes(t)){this._changedProps.push(t)}if(!this._updateStateTimer&&!n){this._updateStateTimer=setTimeout(()=>{this._updateState()},200)}};const r=t.metadata.stateProperty;e.__stateCreated=false;e.__stateName=r;Object.defineProperty(e,r,{configurable:true,get:()=>k(e,r,e[$]),set:t=>{k(e,r,e[$],t)}});if(t.metadata.statePropertyDefaultValue){e[t.metadata.stateProperty]={...t.metadata.statePropertyDefaultValue}}const i=e.applySettings;e.applySettings=function(t,e){delete t?.models?.$componentState;return i.call(this,t,e)}}const i=e.setProperty;if(e[$].length>0){e.setProperty=function(t,n,r){if(e[$].includes(t)&&!this._ignoreStatePropertyUpdate){if(!this.__stateCreated){k(e,e.__stateName,e[$])}this.getModel("$componentState").setProperty(`/${t}`,n);e._updateStateDebounced(t)}return i.call(this,t,n,r)}}}}function V(e,n,i){if(e.getMetadata?.().isA("sap.ui.core.mvc.ControllerExtension")){Object.getOwnPropertyNames(i).forEach(t=>{const e=Object.getOwnPropertyDescriptor(i,t);if(e&&!e.enumerable){e.enumerable=true}})}const a={};a.metadata=i.metadata||{};a.override=i.override;a.constructor=e;a.metadata.baseType=Object.getPrototypeOf(e.prototype).getMetadata().getName();if(e?.getMetadata()?.getStereotype()==="control"){const t=i.renderer||e.renderer||e.render;a.renderer={apiVersion:2};if(typeof t==="function"){a.renderer.render=t}else if(t!=undefined){a.renderer=t}}a.metadata.interfaces=i.metadata?.interfaces||e.metadata?.interfaces;Object.keys(e.prototype).forEach(t=>{if(t!=="metadata"){try{a[t]=e.prototype[t]}catch(t){}}});if(a.metadata?.controllerExtensions&&Object.keys(a.metadata.controllerExtensions).length>0){for(const t in a.metadata.controllerExtensions){a[t]=a.metadata.controllerExtensions[t]}}const c=e.extend(n,a);const f=c.prototype.init;const u=c.prototype.afterInit;c.prototype.init=function(){var t=this;for(var n=arguments.length,r=new Array(n),i=0;i<n;i++){r[i]=arguments[i]}if(f){f.apply(this,r)}if(e.registerInstance){e.registerInstance(this)}this.metadata=a.metadata;if(a.metadata.properties){const t=Object.keys(a.metadata.properties);t.forEach(t=>{const e=a.metadata.properties[t];const n=this[t]??e.defaultValue;if(e.isBindingInfo===true){this._bindingProperties??={};Object.defineProperty(this,t,{configurable:true,set:e=>{this._bindingProperties[t]=e;this.mProperties[t]=e;return this},get(){const e=this.getProperty(t);const n=this._bindingProperties[t];if(e!==undefined&&e!==n){this._bindingProperties[t]=e}const r=this._bindingProperties[t];if(typeof r==="object"){return{...r}}else{return r}}})}else{Object.defineProperty(this,t,{configurable:true,set:e=>this.setProperty(t,e),get:()=>this.getProperty(t)})}if(n!==undefined&&this[t]!==n){this._applyingSettings=true;this[t]=n;this._applyingSettings=false;delete this._applyingSettings}});const e=Object.keys(a.metadata.aggregations);e.forEach(t=>{const e=a.metadata.aggregations[t];const n=this[t]??e.defaultValue;Object.defineProperty(this,t,{configurable:true,set:e=>this.setAggregation(t,e),get:()=>{const e=this.getAggregation(t);if(a.metadata.aggregations[t].multiple){return e||[]}else{return e}}});if(n&&n?.isA){this._applyingSettings=true;this[t]=n;this._applyingSettings=false;delete this._applyingSettings}});const n=Object.keys(a.metadata.associations);n.forEach(t=>{Object.defineProperty(this,t,{configurable:true,set:e=>this.setAssociation(t,e),get:()=>{const e=this.getAssociation(t);if(a.metadata.associations[t].multiple){return e||[]}else{return e}}})})}if(a.metadata.references){const t=Object.keys(a.metadata.references);t.forEach(t=>{Object.defineProperty(this,t,{configurable:true,value:I()})})}if(a.metadata.methods){for(const e in a.metadata.methods){const n=a.metadata.methods[e];if(n.overrideExecution==="AfterAsync"||n.overrideExecution==="BeforeAsync"){if(!this.methodHolder){this.methodHolder=[]}this.methodHolder[e]=[this[e]];Object.defineProperty(this,e,{configurable:true,set:t=>this.methodHolder[e].push(t),get:()=>async function(){const r=t.methodHolder[e];if(n.overrideExecution==="BeforeAsync"){r.reverse()}let i;for(var o=arguments.length,a=new Array(o),s=0;s<o;s++){a[s]=arguments[s]}for(const e of r){i=await e.apply(t,a)}return i}})}}}z(a,this);if(u){u.apply(this,r)}};e.override=function(t){const n={};n.constructor=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++){n[r]=arguments[r]}return e.apply(this,n)};const i=o.createClass(e,`anonymousExtension~${r()}`,n,s);i.getMetadata()._staticOverride=t;i.getMetadata()._override=e.getMetadata()._override;return i};t.set(n,c);return c}return f},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/base/EventDelegateHook", ["sap/fe/base/ClassSupport","sap/ui/core/Element"],function(e,t){"use strict";var r,i,a,n,o,l,u;var p={};var s=e.property;var c=e.event;var f=e.defineUI5Class;function b(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function v(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,d(e,t)}function d(e,t){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},d(e,t)}function g(e,t,r,i,a){var n={};return Object.keys(i).forEach(function(e){n[e]=i[e]}),n.enumerable=!!n.enumerable,n.configurable=!!n.configurable,("value"in n||n.initializer)&&(n.writable=!0),n=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},n),a&&void 0!==n.initializer&&(n.value=n.initializer?n.initializer.call(a):void 0,n.initializer=void 0),void 0===n.initializer?(Object.defineProperty(e,t,n),null):n}function y(e,t){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let h=(r=f("sap.fe.base.EventDelegateHook"),i=s({type:"boolean"}),a=c(),r(n=(o=function(e){function t(t,r){var i;i=e.call(this,t,r)||this;b(i,"stopTapPropagation",l,i);b(i,"tap",u,i);return i}p=t;v(t,e);var r=t.prototype;r.setParent=function t(r,i,a){if(this.getParent()){this.getParent().removeEventDelegate(this)}r.addEventDelegate(this);e.prototype.setParent.call(this,r,i,a)};r.ontap=function e(t){if(this.stopTapPropagation){t.stopPropagation()}this.fireEvent("tap")};return t}(t),l=g(o.prototype,"stopTapPropagation",[i],{configurable:true,enumerable:true,writable:true,initializer:function(){return false}}),u=g(o.prototype,"tap",[a],{configurable:true,enumerable:true,writable:true,initializer:null}),o))||n);p=h;return p},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/base/HookSupport", ["sap/base/util/deepClone"],function(t){"use strict";var n={};const o=[];const e=[];function r(t){return function(n,o,e){const r=n;r[`attach${o.toString()}`]=function(t){const n=this;if(!n.hookedHandlers){n.hookedHandlers={}}if(!n.hookedHandlers[o.toString()]){n.hookedHandlers[o.toString()]=[]}n.hookedHandlers[o.toString()].push(t)};r[`detach${o.toString()}`]=function(t){const n=this;const e=n.hookedHandlers?.[o.toString()];if(Array.isArray(e)){const n=e.indexOf(t);if(n!==-1){e.splice(n,1)}}};const i=e.value;if(t==="BeforeAsync"||t==="AfterAsync"){e.value=async function(){const n=this;const e=n?.hookedHandlers&&n?.hookedHandlers[o.toString()]||[];let r;if(t==="AfterAsync"){r=await i.bind(this)(...arguments)}for(const t of e){await t.bind(this)(...arguments)}if(t==="BeforeAsync"){r=await i.bind(this)(...arguments)}return r}}else{e.value=function(){const n=this;const e=n?.hookedHandlers&&n?.hookedHandlers[o.toString()]||[];let r;if(t==="After"){r=i.bind(this)(...arguments)}for(const t of e){t.bind(this)(...arguments)}if(t==="Before"){r=i.bind(this)(...arguments)}return r}}}}n.hookable=r;function i(t,n){return!!t.find(t=>t.name===n.name&&t.method===n.method&&t.targetMethod===n.targetMethod)}const s=Symbol("hooks");n.hooks=s;function c(t,n){return function(r,c){const a={name:t,method:String(n),targetMethod:c};const d=o.indexOf(r.constructor);if(!r.constructor[s]){Object.defineProperty(r.constructor,s,{value:[]})}r.constructor[s]?.push(a);if(d!==-1&&!i(e[d],a)){e[d].push(a)}else{o.push(r.constructor);e.push([a])}}}n.controllerExtensionHandler=c;function a(n,o){if(n.constructor[s]){let e=n.constructor[s];n[s]=t(e);e=n[s];const r=n;const i=o;for(const t of e){t.handlerFunction=r[t.targetMethod].bind(n);i[t.name][`attach${String(t.method)}`](t.handlerFunction);o.getView()?.attachBeforeExit(()=>{i[t.name][`detach${String(t.method)}`](t.handlerFunction)})}}}n.initControllerExtensionHookHandlers=a;function d(t,n){if(t[s]){const o=t[s];const e=n;for(const t of o){e[t.name]?.[`detach${String(t.method)}`]?.(t.handlerFunction)}}}n.removeControllerExtensionHookHandlers=d;function f(t,n){if(n[s]){if(t[s]){t[s].splice(0,0,...n[s])}else{Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s)||Object.create([]))}}}n.propagateHookFromMixin=f;return n},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/base/ViewPreloaderCache", ["sap/base/util/deepClone"],function(e){"use strict";var t={};const n={};let r={values:{}};function u(){return r}function a(e,t){return n[t.getId()]?.[e]}function c(e,t,u){let a=arguments.length>3&&arguments[3]!==undefined?arguments[3]:true;if(!n[u.getId()]){n[u.getId()]={}}n[u.getId()][t]=e;if(a){r=e}}function i(){return e(n)}const d={getCurrentCacheEntry:u,getCacheEntryByTargetName:a,addEntryToCache:c,_getFullCache:i};t.viewPreloaderCache=d;return t},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/base/jsx-runtime", ["sap/fe/base/jsx-runtime/jsx","sap/fe/base/jsx-runtime/jsxs"],function(s,e){"use strict";return{jsxs:e,jsx:s}},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/base/jsx-runtime/Fragment", [],function(){"use strict";var e={};let t=function e(){};t.isFragment=true;e=t;return e},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/base/jsx-runtime/ViewLoader", ["sap/fe/base/ClassSupport","sap/ui/core/Component","sap/ui/core/mvc/View"],function(e,t,r){"use strict";var n,i,o,a,s;var c={};var u=e.property;var l=e.defineUI5Class;function f(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function p(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,d(e,t)}function d(e,t){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},d(e,t)}function w(e,t,r,n,i){var o={};return Object.keys(n).forEach(function(e){o[e]=n[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=r.slice().reverse().reduce(function(r,n){return n(e,t,r)||r},o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer?(Object.defineProperty(e,t,o),null):o}function b(e,t){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let v=(n=l("sap.fe.base.jsx-runtime.MDXViewLoader"),i=u({type:"string"}),n(o=(a=function(e){function r(t){var r;delete t.cache;r=e.call(this,t)||this;f(r,"viewName",s,r);r.sViewName=r.viewName;r._oContainingView=r;return r}c=r;p(r,e);var n=r.prototype;n.loadDependency=async function e(t){return new Promise(e=>{sap.ui.require([t],t=>{e(t)})})};n.initViewSettings=async function e(t){const r=this.getViewData();const n=r.viewContent||await this.loadDependency(r._jsxViewName);delete t.cache;if(n?.getMetadata?.().isA("sap.ui.core.mvc.Controller")){t.controller=new n(r)}else{this.viewContentFn=n}};n.getControllerName=function e(){const t=this.getViewData();return t.controllerName};n.getAutoPrefixId=function e(){return true};n.createContent=function e(n){r.preprocessorData=this?.mPreprocessors?.xml;r.controller=n;this._fnSettingsPreprocessor=function(){this.controller=n};const i=t.getOwnerComponentFor(this)??{runAsOwner:e=>e()};return i.runAsOwner(()=>{if(n&&n.render){return n.render()}return this.viewContentFn?.()})};return r}(r),s=w(a.prototype,"viewName",[i],{configurable:true,enumerable:true,writable:true,initializer:null}),a))||o);c=v;return c},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/base/jsx-runtime/jsx-control", ["sap/base/Log","sap/fe/base/BindingToolkit","sap/m/Text","sap/ui/base/BindingInfo","sap/ui/base/DataType","sap/ui/core/mvc/EventHandlerResolver"],function(e,t,n,s,i,o){"use strict";var a=t.isPathInModelExpression;var l=t.isConstant;var r=t.isBindingToolkitExpression;var f=t.compileExpression;var c=t.compileConstant;const d="fl:delegate";const p="core:require";const u="dt:designtime";const g=function(e,t,n){if(n===null||n===undefined||typeof n==="string"){return}if(!e[t]){e[t]=[]}if(m(n)){e[t].push(n)}else if(Array.isArray(n)){n.forEach(n=>{g(e,t,n)})}else if(typeof n==="function"){e[t]=n}else{Object.keys(n).forEach(t=>{g(e,t,n[t])})}};const m=function(e){return e?.isA?.("sap.ui.core.Element")};const h=function(e){return!!e?.getMetadata};function y(e,t){const n=e.getAllAggregations();const i=e.getDefaultAggregationName();const o={};g(o,i,t.children);delete t.children;Object.keys(n).forEach(e=>{if(o[e]!==undefined){if(t.hasOwnProperty(e)){if(typeof t[e]==="string"){const n=s.parse(t[e]);if(n){t[e]={path:n.path,model:n.model}}else{t[e]={path:t[e]}}}if(typeof o[e]==="function"){t[e].factory=o[e]}else{t[e].template=o[e][0]}}else{t[e]=o[e]}}})}function b(e,t,n,s){if(l(n)){e[t]=c(n,false,true,true)}else if(!Object.hasOwnProperty.call(s,t)){if(a(n)){e[t]={path:n.path,model:n.modelName}}}else{e[t]=f(n)}}function E(t,n,s,o,a,l){if(!s.startsWith("{")){if(Object.hasOwnProperty.call(o,n)){e.error(`Event handlers cannot be set as string in JSX, ${n} in ${l.getName()}`)}const r=a[n]?.getType?.();if(r&&r instanceof i&&["boolean","int","float"].includes(r.getName())){t[n]=r.parseValue(s)}}else{t[n]=s}}function v(e,t,n,s){if(n.then){s[t]=n;delete e[t]}else if(n.__bindingInfo){e[t]=n.__bindingInfo}}function j(e,t){let n;const s={};const i=e.getAllEvents();const o=e.getAllProperties();for(n in t){const a=t[n];if(r(a)){b(t,n,a,o)}else if(a!==null&&typeof a==="object"){v(t,n,a,s)}else if(typeof a==="string"){E(t,n,a,i,o,e)}else if(a===undefined){delete t[n]}}return s}function A(e,t){const n=t["jsx:command"];if(n){const[s,i]=n.split("|");const a=e.getAllEvents()[i];if(a&&s.startsWith("cmd:")){t[a.name]=o.resolveEventHandler(s)}}delete t["jsx:command"]}const O=function(t,i,o,a,l){let r;if(t?.isFragment){r=i.children}else if(h(t)){const n=t.getMetadata();if(o!==undefined){i["key"]=o}const a=j(n,i);A(n,i);y(n,i);const f=i.class;const c=i.ref;const g=i.binding;const m=i[d];const h=i[u];delete i.ref;delete i.class;delete i.binding;delete i[d];delete i[u];delete i[p];const b=new t(i,{...l});if(f){b.addStyleClass(f)}if(c){c.setCurrent(b)}const E=b.data("sap-ui-custom-settings")??{};if(m){E["sap.ui.fl"]??={};E["sap.ui.fl"].delegate=m}if(h){E["sap.ui.dt"]??={};E["sap.ui.dt"].designtime=h}if(Object.keys(E).length>0){b.data("sap-ui-custom-settings",E)}if(g){if(typeof g==="string"){const e=s.parse(g);if(e){b.bindElement({model:e.model??undefined,path:e.path,parameters:e.parameters??undefined})}else{b.bindElement(g)}}else{Object.keys(g).forEach(e=>{b.bindElement({model:e,path:g[e]})})}}for(const n in a){a[n].then(e=>b.setProperty(n,e)).catch(s=>{e.error(`Couldn't set property ${n} on ${t.getMetadata().getName()}`,s,"jsxControl")})}r=b}else if(typeof t==="function"){const e=t;r=e(i)}else{r=new n({text:"Missing component "+t})}return r};return O},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/base/jsx-runtime/jsx-renderManager", [],function(){"use strict";const e=function(e,t,n,f){return()=>{if(typeof e==="string"){if(t.ref){f.openStart(e,t.ref)}else{f.openStart(e)}for(const e in t){if(e!=="children"&&e!=="ref"&&e!=="class"){f.attr(e,t[e])}}if(t.class){t.class.split(" ").forEach(e=>{f.class(e)})}f.openEnd()}const n=t.children;if(Array.isArray(n)){n.forEach(e=>{if(typeof e==="string"||typeof e==="number"||typeof e==="boolean"){f.text(e.toString())}else if(typeof e==="function"){e()}else if(e!==undefined){f.renderControl(e)}})}else if(typeof n==="string"||typeof n==="number"||typeof n==="boolean"){f.text(n.toString())}else if(typeof n==="function"){n()}else if(n!==undefined){f.renderControl(n)}if(typeof e==="string"){f.close(e)}}};return e},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/base/jsx-runtime/jsx-xml", ["sap/fe/base/BindingToolkit"],function(e){"use strict";var t=e.compileExpression;function n(e){return e?._type!==undefined}const s=function(e){if(Array.isArray(e)){return e.join("")}else{return e}};function i(e){return e?.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}const o=function(e,t,n){if(n===undefined){return}if(!e[t]){e[t]=[]}if(typeof n==="string"){if(n.trim().length>0){e[t].push(n)}}else if(Array.isArray(n)){n.forEach(n=>{o(e,t,n)})}else{for(const t of Object.keys(n)){o(e,t,n[t])}}};const a=function(e){return!!e?.getMetadata};const r="fl:delegate";const c="dt:designtime";const l="core:require";const f="log:sourcePath";const u="customData:entityType";function p(e,t,n){const s=[];const o=[];Object.keys(e).forEach(n=>{const a=e[n];if(a!==undefined){if(typeof a==="object"){if(Array.isArray(a)){o.push(`<${n}>`);for(const e of a){o.push(p(e,t,n))}o.push(`</${n}>`)}else{o.push(p(a,t,n))}}else{s.push(`${n}='${i(a.toString())}'`)}}});const a=t?`${t}:${n}`:n;return`<${a} ${s.join(" ")}>${o.join("\n")}</${a}>`}function m(e,s,o,a,m,g){Object.keys(s).forEach(h=>{if(e.hasOwnProperty(h)&&e[h]!==undefined){const o=e[h];if(h===l){a.push(`xmlns:core="sap.ui.core"`)}if(h===r){a.push(`xmlns:fl="sap.ui.fl"`)}if(h===c){a.push(`xmlns:dt="sap.ui.dt"`)}if(h===f){a.push(`xmlns:log="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1"`)}if(h===u){a.push(`xmlns:customData="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1"`)}if(o&&typeof o==="object"){if(s[h].type==="sap.ui.model.Context"){a.push(`${h}='${o.getPath()}'`)}else if(n(o)){a.push(`${h}='${i(t(o))}'`)}else if(Array.isArray(o)){if(o.length===1){const e=typeof o[0]==="string"?o[0]:JSON.stringify(o[0]);a.push(`${h}='${e}'`)}else{const e=s[h].type?.endsWith("[]")?",":" ";const t=o.every(e=>typeof e==="string")?o.join(e):JSON.stringify(o);a.push(`${h}='${t}'`)}}else if(g){const e={ui5object:true,...o};a.push(`${h}='${i(JSON.stringify(e))}'`)}else{m.push(p(o,undefined,h))}}else if(o!==null){const e=o;a.push(`${h}='${i(e.toString())}'`)}}else if(e.children?.hasOwnProperty(h)&&Object.keys(e.children?.[h]??{}).length>0){const t=e.children?.[h];m.push(p(t,o,h))}})}function g(e,t){const n=e["jsx:command"];if(n){const[s,i]=n.split("|");const o=t[i];if(o&&s.startsWith("cmd:")){e[o.name]=s}}delete e["jsx:command"]}function h(e,t,n,a,r,c){const l={};o(l,a??"customData",e.children);const f=Object.keys(l);let u=false;if(f.length===1&&f[0]===a){u=true}Object.keys(t).forEach(t=>{if(l.hasOwnProperty(t)&&l[t].length>0){if(t===a&&u){c.push(`${s(l[t])}`)}else{c.push(`<${n}:${t}>\n\t\t\t\t\t\t${s(l[t])}\n\t\t\t\t\t</${n}:${t}>`)}}if(e.hasOwnProperty(t)&&e[t]!==undefined){if(typeof e[t]==="object"){r.push(`${t}='${JSON.stringify(e[t])}'`)}else{r.push(`${t}='${i(e[t])}'`)}}});return l}const d=function(e,t,n,s,i){let o;let p;let d;let $;let y;let j;let A=false;if(e==="slot"){return`<slot name="${t.name}"/>`}else if(a(e)){o=e.getMetadata();p=o.getAllProperties();p={...p,...o.getAllEvents(),...o.getAllAssociations()};d=o.getAllEvents();$=o.getName();y=o.getAllAggregations();j=o.getDefaultAggregationName();A=true}else{o=e.metadata;p={...o.properties};y={...{dependents:{},customData:{}},...o.aggregations};d={};j=o.defaultAggregation;$=o.namespace+"."+o.name}const x=$.split(".");if(n!==undefined){t["key"]=n}p["class"]={name:"class"};p["id"]={name:"id"};p["binding"]={name:"binding"};p[r]={name:r};p[c]={name:c};p[l]={name:l};p[f]={name:f};p[u]={name:u};p["xmlns:fl"]={name:r};p["xmlns:dt"]={name:c};p["xmlns:core"]={name:l};p["xmlns:log"]={name:f};if($==="sap.ui.core.Fragment"){p["fragmentName"]={name:"fragmentName"}}const O=x.slice(0,-1);const b=x[x.length-1];let k=O[O.length-1];if(s[O.join(".")]){k=s[O.join(".")]}let N=`${k}:${b}`;const D=[];const E=[];g(t,d);m(t,p,k,D,E,A);h(t,y,k,j,D,E);if(i){N=i}return`<${N} xmlns:${k}="${O.join(".")}" ${D.join(" ")}>${E.join("")}</${N}>`};return d},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/base/jsx-runtime/jsx", ["sap/fe/base/jsx-runtime/jsx-control","sap/fe/base/jsx-runtime/jsx-renderManager","sap/fe/base/jsx-runtime/jsx-xml"],function(e,n,t){"use strict";let r=false;let s;let u={};const i=function(i,f,c){if(!r&&!s){return e(i,f,c,a,o)}else if(s!==undefined){return n(i,f,c,s)}else{return t(i,f,c,u)}};i.renderUsingRenderManager=function(e,n,t){s=e;const r=t(n);s=undefined;r()};i.defineXMLNamespaceMap=async function(e,n){u=e;const t=await n();u={};return t};i.renderAsXML=function(e){r=true;const n=e();r=false;return n};let a={};i.getContext=function(){return a};let o={};i.setFormatterContext=function(e){o=e};i.getFormatterContext=function(){return o};i.withContext=function(e,n){a=e;const t=n();a={};return t};return i},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/base/jsx-runtime/jsxs", ["sap/fe/base/jsx-runtime/jsx"],function(e){"use strict";return e},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/base/library", ["sap/ui/core/Lib"],function(e){"use strict";var s={};const a="sap.fe.base";s.feBaseNamespace=a;const n=e.init({name:"sap.fe.base",apiVersion:2,dependencies:["sap.ui.core"],types:[],interfaces:[],controls:[],elements:[],version:"1.141.1",noLibraryCSS:true});return n},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/controls/easyFill/EasyFillPlaceholder", ["sap/fe/base/ClassSupport","sap/fe/base/jsx-runtime/jsx","sap/ui/core/Control","sap/fe/base/jsx-runtime/jsx"],function(e,t,r,s){"use strict";var n,o;var a={};var i=e.defineUI5Class;function p(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,c(e,t)}function c(e,t){return c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},c(e,t)}let u=(n=i("sap.fe.controls.easyFill.EasyFillPlaceholder"),n(o=function(e){function r(){return e.apply(this,arguments)||this}a=r;p(r,e);r.render=function e(r,n){t.renderUsingRenderManager(r,n,()=>s("div",{ref:n,class:"sapFeEasyFillPlaceholder"}))};return r}(r))||o);a=u;return a},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/controls/easyFilter/AINotice", ["sap/m/Button","sap/m/Link","sap/m/OverflowToolbar","sap/m/Popover","sap/m/Text","sap/m/ToolbarSpacer","sap/m/VBox","sap/m/library","sap/ui/core/Lib","sap/fe/base/jsx-runtime/jsx","sap/fe/base/jsx-runtime/jsxs","sap/fe/base/jsx-runtime/Fragment"],function(e,t,o,r,s,n,a,c,p,_,T,i){"use strict";var u={};var E=c.PlacementType;var l=c.ButtonType;const x=p.getResourceBundleFor("sap.fe.controls");function A(){const t=_(r,{contentWidth:"22.8125rem",showArrow:true,showHeader:true,placement:E.Auto,title:x.getText("M_EASY_FILTER_POPOVER_AI_TITLE"),children:{content:T(a,{children:[_(s,{class:"sapFeControlsAiPopoverText1",text:x.getText("M_EASY_FILTER_POPOVER_AI_TEXT_1")}),_(s,{class:"sapFeControlsAiPopoverText2",text:x.getText("M_EASY_FILTER_POPOVER_AI_TEXT_2")})]}),footer:_(o,{children:{content:T(i,{children:[_(n,{}),_(e,{text:x.getText("M_EASY_FILTER_POPOVER_CLOSE"),press:()=>{t?.close()}})]})}})}});return t}u.AIPopoverContent=A;function I(t){return _(e,{text:t.resourceBundle.getText("M_EASY_FILTER_FILTER_SET_AI"),icon:"sap-icon://ai",type:l.Transparent,press:e=>{const t=A();t.openBy(e.getSource())}})}u.AINotice=I;function m(){return _(t,{text:`${x.getText("M_EASY_FILTER_POPOVER_AI_TITLE")}.`,press:e=>{const t=A();t.openBy(e.getSource())}})}u.AILinkNotice=m;return u},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/controls/easyFilter/EasyFilterBarContainer", ["sap/base/Log","sap/fe/base/ClassSupport","sap/fe/base/jsx-runtime/jsx","sap/fe/controls/easyFilter/Token","sap/m/Button","sap/m/FlexBox","sap/m/Popover","sap/m/Tokenizer","sap/m/VBox","sap/m/library","sap/ui/core/Control","sap/ui/core/CustomData","sap/ui/core/Lib","sap/ui/core/library","sap/base/util/deepClone","sap/fe/base/BindingToolkit","sap/fe/controls/easyFilter/EasyFilterInput","sap/m/HBox","sap/m/MessageStrip","sap/m/MessageToast","sap/m/OverflowToolbar","sap/m/ToggleButton","sap/m/ToolbarSpacer","sap/ui/core/message/MessageType","sap/ui/model/FilterOperator","sap/ui/performance/trace/FESRHelper","./AINotice","./PXFeedback","./utils","sap/fe/base/jsx-runtime/jsx","sap/fe/base/jsx-runtime/Fragment","sap/fe/base/jsx-runtime/jsxs"],function(e,t,s,r,i,n,a,o,l,u,c,h,p,d,f,y,b,g,m,S,k,T,E,v,P,B,F,M,w,V,C,I){"use strict";var _,x,R,z,A,L,U,D,O,j,q,H,K,Y,N,G,W,Q,J,X,$,Z,ee,te,se,re,ie,ne,ae,oe,le,ue,ce,he,pe;function de(e){return new Promise((t,s)=>{sap.ui.require([e],s=>{if(!(s&&s.__esModule)){s=s===null||!(typeof s==="object"&&e.endsWith("/library"))?{default:s}:s;Object.defineProperty(s,"__esModule",{value:true})}t(s)},e=>{s(e)})})}var fe={};var ye=M.triggerPXIntegration;var be=F.AINotice;var ge=y.bindState;var me=y.and;var Se=d.ValueState;var ke=u.TokenizerRenderMode;var Te=u.PlacementType;var Ee=u.FlexWrap;var ve=u.FlexJustifyContent;var Pe=u.FlexAlignItems;var Be=u.ButtonType;var Fe=t.property;var Me=t.event;var we=t.defineUI5Class;var Ve=t.defineState;var Ce=t.defineReference;var Ie=t.createReference;var _e=t.aggregation;function xe(e,t,s,r){s&&Object.defineProperty(e,t,{enumerable:s.enumerable,configurable:s.configurable,writable:s.writable,value:s.initializer?s.initializer.call(r):void 0})}function Re(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,ze(e,t)}function ze(e,t){return ze=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ze(e,t)}function Ae(e,t,s,r,i){var n={};return Object.keys(r).forEach(function(e){n[e]=r[e]}),n.enumerable=!!n.enumerable,n.configurable=!!n.configurable,("value"in n||n.initializer)&&(n.writable=!0),n=s.slice().reverse().reduce(function(s,r){return r(e,t,s)||s},n),i&&void 0!==n.initializer&&(n.value=n.initializer?n.initializer.call(i):void 0,n.initializer=void 0),void 0===n.initializer?(Object.defineProperty(e,t,n),null):n}function Le(e,t){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let Ue=(_=we("sap.fe.controls.easyFilter.EasyFilterBarContainer"),x=Fe({type:"string"}),R=Fe({type:"string"}),z=Fe({type:"string"}),A=Fe({type:"array"}),L=Fe({type:"array"}),U=Fe({type:"function"}),D=Ce(),O=Ce(),j=_e({type:"sap.ui.core.Control"}),q=Me(),H=Me(),K=Me(),Y=Me(),N=Me(),G=Me(),W=Ve(),_(Q=(J=function(t){function u(e,s){var r;r=t.call(this,e,s)||this;xe(r,"contextPath",X,r);xe(r,"appId",$,r);xe(r,"easyFilterLib",Z,r);xe(r,"filterBarMetadata",ee,r);xe(r,"recommendedValues",te,r);xe(r,"dataFetcher",se,r);xe(r,"easyFilterInput",re,r);xe(r,"tokenizer",ie,r);xe(r,"content",ne,r);xe(r,"tokensChanged",ae,r);xe(r,"queryChanged",oe,r);xe(r,"showValueHelp",le,r);xe(r,"clearFilters",ue,r);xe(r,"beforeQueryProcessing",ce,r);xe(r,"afterQueryProcessing",he,r);xe(r,"state",pe,r);r.shouldTokenChangeEventFired=true;r.inputFieldReady=new Promise(e=>{r.resolveContentReady=e});r.initialize();return r}fe=u;Re(u,t);var c=u.prototype;c.setEasyFilterLib=function e(t){this.setProperty("easyFilterLib",t);if(this.easyFilterLib){this.easyfilter=de(this.easyFilterLib)}};c.setAppId=async function e(t){if(!this.appId){this.setProperty("appId",t,true);await this.inputFieldReady;this.easyFilterInput.current?.setProperty("appId",t,true);await(this.easyFilterInput.current?.initShellHistoryProvider())}};c.setFilterBarMetadata=function e(t){if(!this.filterBarMetadata){this.setProperty("filterBarMetadata",t,true);const e=this.getDefaultTokens();if(!this.innerControlPopover){this.innerControlPopover=this.createPopoverForInnerControls();this.addDependent(this.innerControlPopover)}this.state.tokens=e;this.state.showResult=e.length>0;this.isMandatoryCheckRequired=true;this.shouldTokenChangeEventFired=false}};c.init=function e(){this.resourceBundle=p.getResourceBundleFor("sap.fe.controls")};c.initialize=function e(){this.content=this.createContent();this.resolveContentReady();if(!this.innerControlPopover){this.innerControlPopover=this.createPopoverForInnerControls();this.addDependent(this.innerControlPopover)}this.isMandatoryCheckRequired=true;this.shouldTokenChangeEventFired=false};c.getDefaultTokens=function e(){const t=[];if(!this.mandatoryKeyMap){this.mandatoryKeyMap={}}this.filterBarMetadata?.forEach(e=>{const s=e.required;if(s){this.mandatoryKeyMap[e.name]=true;if(e.type==="ValueHelp"){t.push({key:e.name,label:e.label,keySpecificSelectedValues:e.defaultValue??[],type:e.type,busy:false,isRequired:s})}else{t.push({key:e.name,label:e.label,keySpecificSelectedValues:e.defaultValue??[],type:e.type,busy:false,isRequired:s})}}});return t};c.onEnterPressed=function e(t){this.onGoPress(t.getParameter("query"))};c.checkIfAllMandatoryTokensFilled=function e(){const t=this.getUnSetMandatoryTokensInCurrentState();if(t.length!==0){const e=this.getActualTokensFromState(t);e?.forEach(e=>{e.setProperty("valueState",Se.Error);e.setProperty("valueStateText",this.resourceBundle.getText("M_EASY_FILTER_MANDATORY_TOKEN_ERROR"));e.openValueStateMessage()});return false}return true};c.closeAllMandatoryValueStateMessages=function e(){const t=this.tokenizer.current?.getTokens();t.forEach(e=>e.closeValueStateMessage())};c.onGoPress=async function t(s){if(!s){this.resetState();return}this.state.tokenizerEditable=true;const r=await this.easyfilter;if(!r){return}this.fireEvent("beforeQueryProcessing");const i={version:1,entitySet:this.contextPath,fields:this.filterBarMetadata};const n=await r.easyFilter(s,i);if(n.success){if(this.easyFilterInput.current?.isHistoryEnabled()??false){this.easyFilterInput.current?.addRecentQuery(s)}if(n.data.version===1){this.handleV1Success(n)}else if(n.data.version===2){}}else{this.removeNonMandatoryTokens();this.setMessageStrip(n.message);this.state.messageStripType=v.Warning;e.error("Error while generating filter criteria: ",n.message)}this.fireEvent("afterQueryProcessing")};c.handleV1Success=function t(s){if(s.data.filter){e.debug("Filter criteria generated: ",JSON.stringify(s.data.filter,null,2));const t=[...this.state.tokens].filter(e=>e.isRequired);this.clearMessageStrip();w.formatData(t,s.data.filter,this.filterBarMetadata,this.setMessageStrip.bind(this));const r=t.filter(e=>e.type==="ValueHelp");const i=r.filter(e=>s.data.filter?.find(t=>t.name===e.key));if(this.dataFetcher){i.forEach(async e=>{const t=await(this.dataFetcher?.(e.key,e.keySpecificSelectedValues,s));e.busy=false;if(t){e.keySpecificSelectedValues=t;this.state.showResult=true;this.state.tokens=n}})}else{i.forEach(e=>{e.busy=false;e.keySpecificSelectedValues.forEach((t,s)=>{if(t.operator===P.BT||t.operator===P.NB){e.keySpecificSelectedValues[s].selectedValues=[{value:t.selectedValues[0],description:t.selectedValues[0]},{value:t.selectedValues[1],description:t.selectedValues[1]}]}else{e.keySpecificSelectedValues[s].selectedValues.forEach((t,r)=>{e.keySpecificSelectedValues[s].selectedValues[r]={value:t,description:t}})}})})}const n=this.verifySingleSelectTokenValues(t);this.state.showResult=true;this.state.thumbButtonEnabled=true;this.state.thumbDownButtonPressed=false;this.state.thumbUpButtonPressed=false;this.state.tokens=n}};c.verifySingleSelectTokenValues=function e(t){const s=[];t.forEach(e=>{if(e.type==="MenuWithSingleSelect"){if(e.keySpecificSelectedValues[0].selectedValues.length>1){s.push(e.label);e.keySpecificSelectedValues[0].selectedValues.splice(1)}}});if(s.length){this.state.singleValueMessageStripText=this.resourceBundle.getText("M_EASY_FILTER_SINGLE_VALUE_MESSAGE",[`<strong>${s.join(", ")}</strong>`]);this.state.showSingleValueMessageStrip=true}return t};c.clearMessageStrip=function e(){this.state.thumbDownButtonPressed=false;this.state.thumbUpButtonPressed=false;this.state.showMessageStrip=false;this.state.messageStripText="";this.state.messageStripType=v.Error};c.setMessageStrip=function e(t){this.state.thumbDownButtonPressed=false;this.state.thumbUpButtonPressed=false;this.state.thumbButtonEnabled=true;this.state.messageStripText=t;this.state.showMessageStrip=true};c.createPopoverForInnerControls=function e(){if(!this.innerControlPopover){this.innerControlPopover=V(a,{id:this.getId()+"-innerPopover",showArrow:false,showHeader:true,placement:Te.Bottom,class:"sapUiMediumMarginBottom",children:{footer:this.getToolbar()}})}return this.innerControlPopover};c.getToolbar=function e(){if(!this.toolbar){const e=this.getOkButton();const t=this.getShowAllButton();this.toolbar=V(k,{children:{content:I(C,{children:[V(E,{}),e,t]})}})}return this.toolbar};c.getOkButton=function e(){if(!this.okButton){this.okButton=V(i,{text:this.resourceBundle.getText("M_EASY_FILTER_POPOVER_OK"),type:Be.Emphasized})}return this.okButton};c.getShowAllButton=function e(){if(!this.showAllButton){this.showAllButton=V(i,{text:this.resourceBundle.getText("M_EASY_FILTER_POPOVER_SHOW_ALL_ITEMS")})}return this.showAllButton};c.formatTokens=function e(t){return t.map(e=>{if(e.type==="ValueHelp"){return{...e,keySpecificSelectedValues:e.keySpecificSelectedValues.map(e=>({operator:e.operator,selectedValues:e.selectedValues.map(e=>e.value)}))}}else{return f(e)}})};c.onStateChange=function e(){let t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];if(t.includes("tokens")){if(this.shouldTokenChangeEventFired){this.fireEvent("tokensChanged",{tokens:this.formatTokens(this.state.tokens)})}this.state.showResult=this.state.tokens.length>0;if(!(this.isMandatoryCheckRequired??false)){this.checkIfAllMandatoryTokensFilled()}}this.isMandatoryCheckRequired=false;this.shouldTokenChangeEventFired=true;(this.tokenizer?.current).onsapfocusleave=()=>{}};c.onThumbUpPressed=function e(){this.state.thumbUpButtonPressed=true;this.state.thumbDownButtonPressed=false;ye("thumbUp");this.onThumbPressed()};c.onThumbDownPressed=function e(){this.state.thumbDownButtonPressed=true;this.state.thumbUpButtonPressed=false;ye("thumbDown");this.onThumbPressed()};c.onThumbPressed=function e(){this.state.thumbButtonEnabled=false;S.show(this.resourceBundle.getText("C_EASY_FILTER_FEEDBACK_SENT"))};c.createContent=function e(){const t=Ie();const s=V(T,{icon:"sap-icon://thumb-up",tooltip:this.resourceBundle.getText("C_EASY_FILTER_THUMBS_UP"),type:"Transparent",press:()=>this.onThumbUpPressed(),enabled:ge(this.state,"thumbButtonEnabled"),pressed:ge(this.state,"thumbUpButtonPressed")});B.setSemanticStepname(s,"press","fe4:eft:t:thumbUp");const a=V(T,{icon:"sap-icon://thumb-down",tooltip:this.resourceBundle.getText("C_EASY_FILTER_THUMBS_DOWN"),type:"Transparent",press:()=>this.onThumbDownPressed(),enabled:ge(this.state,"thumbButtonEnabled"),pressed:ge(this.state,"thumbDownButtonPressed")});B.setSemanticStepname(a,"press","fe4:eft:t:thumbDown");const u=V(T,{icon:"sap-icon://thumb-up",tooltip:this.resourceBundle.getText("C_EASY_FILTER_THUMBS_UP"),type:"Transparent",press:()=>this.onThumbUpPressed(),enabled:ge(this.state,"thumbButtonEnabled"),pressed:ge(this.state,"thumbUpButtonPressed")});B.setSemanticStepname(u,"press","fe4:eft:ms:thumbUp");const c=V(T,{icon:"sap-icon://thumb-down",tooltip:this.resourceBundle.getText("C_EASY_FILTER_THUMBS_DOWN"),type:"Transparent",press:()=>this.onThumbDownPressed(),enabled:ge(this.state,"thumbButtonEnabled"),pressed:ge(this.state,"thumbDownButtonPressed")});B.setSemanticStepname(c,"press","fe4:eft:ms:thumbDown");const p=I(l,{children:[I(n,{renderType:"Bare",children:[V(b,{recommendedValues:this.recommendedValues,ref:this.easyFilterInput,enterPressed:this.onEnterPressed.bind(this),queryChanged:e=>{this.fireEvent("queryChanged",{query:e.getParameter("query")})},liveChange:()=>{this.state.tokenizerEditable=false}}),V(i,{icon:"sap-icon://ai",class:"sapUiSmallMarginBegin",ref:t,text:this.resourceBundle.getText("M_EASY_FILTER_GO"),type:Be.Emphasized,press:this.onGoButtonPress.bind(this)})]}),V(n,{renderType:"Bare",visible:ge(this.state,"showResult"),alignItems:Pe.Center,wrap:Ee.Wrap,justifyContent:ve.SpaceBetween,class:"sapUiTinyMarginTop",children:I(n,{class:"sapFeControlsGap8px",renderType:"Bare",alignItems:Pe.Center,wrap:Ee.Wrap,children:[V(be,{resourceBundle:this.resourceBundle}),V(o,{editable:me(ge(this.state,"tokenizerEditable"),true),class:"sapFeControlsTokenizer",tokens:ge(this.state,"tokens"),renderMode:ke.Loose,ref:this.tokenizer,children:{tokens:(e,t)=>{const s=t.getObject();return V(r,{label:this.state.tokens.label,items:this.state.tokens.keySpecificSelectedValues,mandatory:this.isKeyMandatory(s.key),busy:this.state.tokens.busy,delete:()=>{const e=this.state.tokens.findIndex(e=>e.key===s.key);const t=this.state.tokens.concat();t.splice(e,1);this.state.tokens=t;this.updateFilterInput("tokenUpdated")},children:{customData:[V(h,{value:s},"TokenInfo"),V(h,{value:this.innerControlPopover},"popover"),V(h,{value:this},"easyFilterBarContainer"),V(h,{value:this.filterBarMetadata?.find(e=>e.name===s.key)?.codeList},"codeList")]}},this.state.tokens.key)}}}),I(g,{children:[s,", ",a]}),V(i,{text:this.resourceBundle.getText("M_EASY_FILTER_RESET"),type:Be.Transparent,press:()=>{this.resetState();this.easyFilterInput.current?.$searchInput.focus()}})]})}),V(n,{renderType:"Bare",children:V(m,{text:ge(this.state,"singleValueMessageStripText"),showIcon:true,enableFormattedText:true,visible:ge(this.state,"showSingleValueMessageStrip"),showCloseButton:true,close:()=>{this.state.showSingleValueMessageStrip=false;this.state.singleValueMessageStripText=""}})}),I(n,{renderType:"Bare",class:"sapFeControlsGap8px",children:[V(m,{type:ge(this.state,"messageStripType"),text:ge(this.state,"messageStripText"),showIcon:true,enableFormattedText:true,showCloseButton:true,close:()=>{this.clearMessageStrip()},visible:ge(this.state,"showMessageStrip")}),I(g,{visible:ge(this.state,"showMessageStrip"),children:[u,", ",c]})]})]});B.setSemanticStepname(t.current,"press","fe:ai:search");return p};c.onGoButtonPress=async function e(){this.state.tokenizerEditable=true;let t=this.easyFilterInput.current?.getValue();const s=this.easyFilterInput.current?.getPlaceholder();if(t===""&&s!==this.resourceBundle.getText("M_EASY_FILTER_PLACEHOLDER")){this.easyFilterInput.current?.setValue(s||"");t=s}await this.onGoPress(t)};c.resetState=function e(){let t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:true;if(t){this.fireEvent("clearFilters")}else{this.shouldTokenChangeEventFired=false}this.state.tokens=this.getDefaultTokens();this.updateFilterInput("tokenReset");this.state.tokenizerEditable=true;this.isMandatoryCheckRequired=true;this.tokenizer.current?.getTokens().forEach(e=>e.setProperty("valueState",Se.None));this.tokenizer.current?.getTokens().forEach(e=>e.setProperty("valueStateText",null));this.clearMessageStrip()};c.updateTokenArray=function t(s,r,i){const n=this.state.tokens.map(e=>({...e,keySpecificSelectedValues:[...e.keySpecificSelectedValues]}));const a=n.findIndex(e=>e.key===i);const o=n[a];if(a!=-1){switch(s){case"setSelectedValues":this.setSelectedValues(o,r,a,n);o.keySpecificSelectedValues=r;if(!this.isKeyMandatory(o.key)&&o.keySpecificSelectedValues.length===0){n.splice(a,1)}break;default:e.error("Specifying a setter that is out of the boundary");break}this.state.tokens=n;this.state.showResult=n.length>0;this.updateFilterInput("tokenUpdated")}};c.closeInnerControlPopover=function e(){this.innerControlPopover?.close()};c.setSelectedValues=function e(t,s,r,i){t.keySpecificSelectedValues=s;if(!this.isKeyMandatory(t.key)&&t.keySpecificSelectedValues.length===0){i.splice(r,1)}};c.isKeyMandatory=function e(t){if(!this.mandatoryKeyMap){this.mandatoryKeyMap={}}return this.mandatoryKeyMap[t]?true:false};c.removeNonMandatoryTokens=function e(){const t=this.state.tokens.filter(e=>this.isKeyMandatory(e.key));this.state.tokens=t;return this};c.updateFilterInput=function e(t){const s=this.easyFilterInput.current?.getValue()||"";if(t==="tokenUpdated"&&s!==""){this.easyFilterInput.current?.setValue("");this.easyFilterInput.current?.setPlaceholder(s)}else if(t==="tokenReset"){this.easyFilterInput.current?.setValue("");this.easyFilterInput.current?.setPlaceholder(this.resourceBundle.getText("M_EASY_FILTER_PLACEHOLDER"))}};c.getTokensInInitialState=function e(){const t=this.state.tokens.map(e=>({...e,keySpecificSelectedValues:[...e.keySpecificSelectedValues]}));const s=t.filter(e=>{if(this.isKeyMandatory(e.key)){return true}});return s.map(e=>({...e,keySpecificSelectedValues:[]}))};c.getUnSetMandatoryTokensInCurrentState=function e(){return this.state.tokens.filter(e=>{const t=this.isKeyMandatory(e.key);if(t){return e.keySpecificSelectedValues.length===0}})};c.getActualTokensFromState=function e(t){const s=t.map(e=>e.key);return this.tokenizer.current?.getTokens().filter(e=>s.includes(e.getKey()))};u.render=function e(t,r){return s.renderUsingRenderManager(t,r,()=>V("span",{ref:r,children:r.getAggregation("content")}))};return u}(c),X=Ae(J.prototype,"contextPath",[x],{configurable:true,enumerable:true,writable:true,initializer:null}),$=Ae(J.prototype,"appId",[R],{configurable:true,enumerable:true,writable:true,initializer:null}),Z=Ae(J.prototype,"easyFilterLib",[z],{configurable:true,enumerable:true,writable:true,initializer:null}),ee=Ae(J.prototype,"filterBarMetadata",[A],{configurable:true,enumerable:true,writable:true,initializer:null}),te=Ae(J.prototype,"recommendedValues",[L],{configurable:true,enumerable:true,writable:true,initializer:null}),se=Ae(J.prototype,"dataFetcher",[U],{configurable:true,enumerable:true,writable:true,initializer:null}),re=Ae(J.prototype,"easyFilterInput",[D],{configurable:true,enumerable:true,writable:true,initializer:null}),ie=Ae(J.prototype,"tokenizer",[O],{configurable:true,enumerable:true,writable:true,initializer:null}),ne=Ae(J.prototype,"content",[j],{configurable:true,enumerable:true,writable:true,initializer:null}),ae=Ae(J.prototype,"tokensChanged",[q],{configurable:true,enumerable:true,writable:true,initializer:null}),oe=Ae(J.prototype,"queryChanged",[H],{configurable:true,enumerable:true,writable:true,initializer:null}),le=Ae(J.prototype,"showValueHelp",[K],{configurable:true,enumerable:true,writable:true,initializer:null}),ue=Ae(J.prototype,"clearFilters",[Y],{configurable:true,enumerable:true,writable:true,initializer:null}),ce=Ae(J.prototype,"beforeQueryProcessing",[N],{configurable:true,enumerable:true,writable:true,initializer:null}),he=Ae(J.prototype,"afterQueryProcessing",[G],{configurable:true,enumerable:true,writable:true,initializer:null}),pe=Ae(J.prototype,"state",[W],{configurable:true,enumerable:true,writable:true,initializer:function(){return{showResult:false,tokens:[],tokenizerEditable:true,showSingleValueMessageStrip:false,singleValueMessageStripText:"",messageStripText:"",showMessageStrip:false,messageStripType:v.Error,thumbButtonEnabled:true,thumbUpButtonPressed:false,thumbDownButtonPressed:false}}}),J))||Q);fe=Ue;return fe},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/controls/easyFilter/EasyFilterInput", ["sap/base/Log","sap/fe/base/BindingToolkit","sap/fe/base/ClassSupport","sap/fe/base/EventDelegateHook","sap/fe/base/jsx-runtime/jsx","sap/fe/controls/easyFilter/ShellHistoryProvider","sap/m/Button","sap/m/CustomListItem","sap/m/FlexBox","sap/m/HBox","sap/m/IllustratedMessage","sap/m/IllustratedMessageSize","sap/m/IllustratedMessageType","sap/m/Input","sap/m/List","sap/m/Popover","sap/m/Text","sap/m/Title","sap/m/library","sap/ui/core/Control","sap/ui/core/CustomData","sap/ui/core/InvisibleMessage","sap/ui/core/Lib","sap/ui/core/library","./PXFeedback","sap/fe/base/jsx-runtime/jsx","sap/fe/base/jsx-runtime/jsxs"],function(e,t,s,r,i,a,n,o,l,u,c,h,p,d,v,f,g,E,I,b,y,P,m,T,_,F,S){"use strict";var L,O,x,$,C,Q,R,V,w,A,B,M,j,H,D,z,Y;var k={};var U=_.triggerPXIntegration;var q=T.ValueState;var N=T.TitleLevel;var W=T.InvisibleMessageMode;var X=I.PlacementType;var G=I.ListMode;var J=I.FlexWrap;var K=I.FlexJustifyContent;var Z=I.FlexDirection;var ee=I.FlexAlignItems;var te=I.ButtonType;var se=s.property;var re=s.event;var ie=s.defineUI5Class;var ae=s.defineState;var ne=s.aggregation;var oe=t.lessThan;var le=t.length;var ue=t.equal;var ce=t.bindState;function he(e,t,s,r){s&&Object.defineProperty(e,t,{enumerable:s.enumerable,configurable:s.configurable,writable:s.writable,value:s.initializer?s.initializer.call(r):void 0})}function pe(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,de(e,t)}function de(e,t){return de=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},de(e,t)}function ve(e,t,s,r,i){var a={};return Object.keys(r).forEach(function(e){a[e]=r[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=s.slice().reverse().reduce(function(s,r){return r(e,t,s)||s},a),i&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(i):void 0,a.initializer=void 0),void 0===a.initializer?(Object.defineProperty(e,t,a),null):a}function fe(e,t){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let ge=(L=ie("sap.fe.controls.easyFilter.EasyFilterInput"),O=ne({type:"sap.m.Input",multiple:false,isDefault:true}),x=se({type:"string"}),$=se({type:"array"}),C=re(),Q=re(),R=re(),V=ae(),L(w=(A=function(t){function s(e,s){var r;r=t.call(this,e,s)||this;he(r,"$searchInput",B,r);he(r,"appId",M,r);he(r,"recommendedValues",j,r);he(r,"queryChanged",H,r);he(r,"enterPressed",D,r);he(r,"liveChange",z,r);he(r,"state",Y,r);r.initialize();return r}k=s;pe(s,t);var I=s.prototype;I.getValue=function e(){return this.$searchInput.getValue()};I.isHistoryEnabled=function e(){return this.state.isHistoryEnabled.valueOf()};I.setValue=function e(t){this.$searchInput.setValue(t);return this};I.setPlaceholder=function e(t){this.$searchInput.setPlaceholder(t);return this};I.getPlaceholder=function e(){return this.$searchInput.getPlaceholder()};I.initialize=function e(){this.state.recommendedQueries=this.recommendedValues??[];this.resourceBundle=m.getResourceBundleFor("sap.fe.controls");this.popoverInvisibleMessage=P.getInstance();this.createInput()};I.setAsInvalid=function e(t){this.$searchInput.setValueState(q.Warning);this.$searchInput.setValueStateText(t);this.$searchInput.openValueStateMessage()};I.setAsValid=function e(){this.$searchInput.setValueState(q.None);this.$searchInput.closeValueStateMessage()};I.createInput=function e(){this.$searchInput=F(d,{width:"100%",showClearIcon:true,change:e=>{this.fireEvent("queryChanged",{query:e.getParameter("value")})},liveChange:e=>{this.state.queryChanged=true;this.fireEvent("liveChange");if(!e.getSource().getValue()&&!(this.$favoritePopover?.isOpen()??false)){this.openSuggestionPopover()}if(e.getParameter("value")===""){this.setPlaceholder(this.resourceBundle.getText("M_EASY_FILTER_PLACEHOLDER"))}if(this.$searchInput.getValueState()===q.Warning){this.setAsValid()}},placeholder:this.resourceBundle.getText("M_EASY_FILTER_PLACEHOLDER")});const t=this.createFavoritePopover();this.$favoritePopover=t;this.$searchInput.addDependent(t);this.$searchInput.addEventDelegate({onkeyup:e=>{if(e.key==="Enter"){this.onEnterPressed()}if(this.$favoritePopover&&this.$searchInput.getValue()){this.$favoritePopover.close()}},onkeydown:e=>{if(e.key==="Tab"&&this.$searchInput?.getValue().length===0&&this.$searchInput?.getValue()!==this.$searchInput?.getPlaceholder()&&this.$searchInput?.getPlaceholder()!==this.resourceBundle.getText("M_EASY_FILTER_PLACEHOLDER")){e.preventDefault();this.$searchInput?.setValue(this.$searchInput?.getPlaceholder());this.fireEvent("liveChange")}else if(e.key==="ArrowDown"){const e=this.$favoritePopover?.getContent()[0];const t=e.getItems();t?.find(e=>e.isFocusable()&&(e.focus(),true))}},ontap:()=>{this.openSuggestionPopover()},onfocusin:()=>{this.openSuggestionPopover()}});this.$favoritePopover.addEventDelegate({onkeydown:e=>{const t=e.target?.outerText;const s=e.target?.id;switch(e.key){case"Enter":this.$searchInput?.setValue(t);break;case"Delete":if(s?.includes("easyFilterFavoriteItem")){this.state.favoriteQueries=this.state.favoriteQueries.filter(e=>e.toLowerCase()!==t.toLowerCase())}else{this.state.recentQueries=this.state.recentQueries.filter(e=>e!==t)}break;case"Escape":if(this.$favoritePopover?.isOpen()){this.$favoritePopover.close()}break}},onAfterRendering:()=>{this.popoverInvisibleMessage?.announce(this.resourceBundle.getText("T_EASY_FILTER_INPUT_TEXT_LINK_POPOVER_ARIA"),W.Assertive)}})};I.openSuggestionPopover=function e(){if(!this.$searchInput?.getValue()&&(!this.$favoritePopover||!this.$favoritePopover?.isOpen())){this.state.isHistoryEnabled=this.shellHistoryProvider?.isHistoryEnabled()??false;this.state.favoriteQueries=this.shellHistoryProvider?.getFavoriteQueries()??[];this.state.recentQueries=(this.shellHistoryProvider?.getRecentQueries()??[]).map(e=>e);this.$favoritePopover?.openBy(this.$searchInput)}};I.requestFavorite=function e(t){this.$favoritePopover?.close();this.$searchInput?.setValue(t.getSource().getText());this.onEnterPressed()};I.onEnterPressed=function e(){this.$favoritePopover?.close();this.state.queryChanged=false;let t=this.$searchInput?.getValue();if(t===""&&this.$searchInput.getPlaceholder()!==this.resourceBundle.getText("M_EASY_FILTER_PLACEHOLDER")){t=this.$searchInput.getPlaceholder();this.$searchInput?.setValue(t)}this.$searchInput?.setValueStateText("");this.$searchInput?.setValueState("None");this.fireEvent("enterPressed",{query:t})};I.addRecentQuery=function e(t){t=t?.replace(/\\/g,"\\\\");const s=this.state.recentQueries.findIndex(e=>e.toLowerCase()===t?.toLowerCase());if(t&&s===-1){this.state.recentQueries=[t].concat(this.state.recentQueries);if(this.state.recentQueries.length>5){this.state.recentQueries=this.state.recentQueries.slice(0,5)}}else if(t){const e=this.state.recentQueries.filter(e=>e.toLowerCase()!==t?.toLowerCase());e.unshift(t);this.state.recentQueries=e}};I.onStateChange=function e(){let t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];if(t.includes("favoriteQueries")||t.includes("recentQueries")){this.shellHistoryProvider?.setFavoriteQueries(this.state.favoriteQueries);this.shellHistoryProvider?.setRecentQueries(this.state.recentQueries.map(e=>e));this.state.recentQueriesWitFavorites=this.state.recentQueries.map(e=>({text:e,isFavorite:!!this.state.favoriteQueries.find(t=>t===e)}))}};I.initShellHistoryProvider=async function t(){try{this.shellHistoryProvider=await a.getInstance(this.appId??"<unknownApp>")}catch(t){e.error("Error while creating ShellHistoryProvider for easy filter",t)}};I.createFavoritePopover=function e(){return F(f,{id:this.getId()+"-favoritePopover",showHeader:false,horizontalScrolling:false,placement:X.Bottom,showArrow:false,initialFocus:this.$searchInput,class:"sapFEControlsPopover",visible:this.state.recommendedQueries.length>0||ue(ce(this.state,"isHistoryEnabled"),true),children:{content:F(l,{direction:Z.Column,class:"sapUiContentPadding",renderType:"Bare",children:{items:[F(E,{titleStyle:N.H6,text:this.resourceBundle.getText("M_EASY_FILTER_POPOVER_SUGGESTIONS_TITLE"),class:"sapFeControlsTitleBorder",visible:this.state.recommendedQueries.length>0}),F(u,{class:"sapUiContentPadding",items:ce(this.state,"recommendedQueries"),wrap:J.Wrap,visible:this.state.recommendedQueries.length>0,children:{items:(e,t)=>F(n,{class:"sapUiTinyMarginEnd",text:t.getObject(),press:this.requestFavorite.bind(this)})}}),F(E,{id:this.getId()+"-easyFilterFavoriteTitle",titleStyle:N.H6,text:this.resourceBundle.getText("M_EASY_FILTER_POPOVER_FAVORITE_TITLE"),class:"sapFeControlsTitleBorder",visible:ue(ce(this.state,"isHistoryEnabled"),true)}),F(v,{items:ce(this.state,"favoriteQueries"),visible:ue(ce(this.state,"isHistoryEnabled"),true),children:{noData:F(c,{title:this.resourceBundle.getText("M_EASY_FILTER_POPOVER_EMPTY_FAVORITE_TITLE"),illustrationSize:h.ExtraSmall,illustrationType:p.NoEntries,description:this.resourceBundle.getText("M_EASY_FILTER_POPOVER_EMPTY_FAVORITE_DESCRIPTION")}),items:(e,t)=>F(o,{id:e+"-easyFilterFavoriteItem",class:"sapUiSmallMarginBegin",ariaLabelledBy:[e+"-easyFilterFavoriteTitle"],customData:[F(y,{value:t.getObject()},"text")],press:()=>{this.$searchInput.setValue(t.getObject());this.onEnterPressed()},children:S(l,{width:"100%",direction:Z.Row,alignItems:ee.Center,justifyContent:K.SpaceBetween,renderType:"Bare",id:e,children:[F(g,{text:t.getObject(),tooltip:t.getObject(),wrapping:false,class:"sapFEControlsPointer"}),F(n,{icon:"sap-icon://favorite",tooltip:this.resourceBundle.getText("M_EASY_FILTER_FILLED_STAR"),ariaLabelledBy:[this.getId()+"-easyFilterFavoriteItem"],type:te.Transparent,press:()=>{this.$favoritePopover?.focus();const e=t.getObject();const s=this.state.favoriteQueries.indexOf(e);if(s!==-1){this.state.favoriteQueries=this.state.favoriteQueries.filter(t=>t!==e)}}}),{dependents:F(r,{tap:()=>{this.$searchInput?.setValue(t.getObject().replace(/\\\\/g,"\\"));U("favorite");this.onEnterPressed()}})}]})})}}),F(E,{id:this.getId()+"-easyFilterLastUsedTitle",titleStyle:N.H6,text:this.resourceBundle.getText("M_EASY_FILTER_POPOVER_LAST_USED"),class:"sapFeControlsTitleBorder",visible:ue(ce(this.state,"isHistoryEnabled"),true)}),F(v,{items:ce(this.state,"recentQueriesWitFavorites"),visible:ue(ce(this.state,"isHistoryEnabled"),true),mode:G.Delete,delete:e=>{const t=e.getParameter("listItem");t.focus();let s=e.getParameter("listItem")?.data("text");if(!s)return;s=s?.replace(/\\/g,"\\\\");this.state.recentQueries=this.state.recentQueries.filter(e=>e!==s)},children:{noData:F(c,{title:this.resourceBundle.getText("M_EASY_FILTER_POPOVER_EMPTY_LAST_USED_TITLE"),illustrationSize:h.ExtraSmall,illustrationType:p.NoEntries,description:this.resourceBundle.getText("M_EASY_FILTER_POPOVER_EMPTY_RECENT_DESCRIPTION")}),items:(e,t)=>F(o,{id:e+"-easyFilterLastUsedItem",press:()=>{this.$searchInput?.setValue(t.getObject().text);this.onEnterPressed()},class:"sapUiSmallMarginBegin",customData:[F(y,{value:t.getObject().text},"text")],ariaLabelledBy:[e+"-easyFilterLastUsedTitle"],children:S(l,{width:"100%",direction:Z.Row,alignItems:ee.Center,justifyContent:K.SpaceBetween,renderType:"Bare",id:e,children:[F(g,{text:t.getObject().text,tooltip:t.getObject().text,wrapping:false,class:"sapFEControlsPointer"}),F(n,{icon:t.getObject().isFavorite?"sap-icon://favorite":"sap-icon://add-favorite",tooltip:t.getObject().isFavorite?this.resourceBundle.getText("M_EASY_FILTER_FILLED_STAR"):this.resourceBundle.getText("M_EASY_FILTER_EMPTY_START"),enabled:oe(le(ce(this.state,"favoriteQueries")),5),type:te.Transparent,ariaLabelledBy:[e+"-easyFilterLastUsedItem"],press:()=>{this.$favoritePopover?.focus();const e=t.getObject().text;const s=t.getObject().isFavorite;if(s){this.removeFromFavorites(e)}else{this.addToFavorites(e)}}}),{dependents:F(r,{tap:()=>{this.$searchInput?.setValue(t.getObject().text.replace(/\\\\/g,"\\"));U("recent");this.onEnterPressed()}})}]})})}})]}})}})};I.removeFromFavorites=function e(t){this.state.favoriteQueries=this.state.favoriteQueries.filter(e=>e.toLowerCase()!==t.toLowerCase())};I.addToFavorites=function e(t){const s=[t].concat(this.state.favoriteQueries.concat());if(s.length>5){s.pop()}this.state.favoriteQueries=s};s.render=function e(t,s){return i.renderUsingRenderManager(t,s,()=>F("span",{ref:s,class:"sapFEEasyFilterInput",children:s.$searchInput}))};return s}(b),B=ve(A.prototype,"$searchInput",[O],{configurable:true,enumerable:true,writable:true,initializer:null}),M=ve(A.prototype,"appId",[x],{configurable:true,enumerable:true,writable:true,initializer:null}),j=ve(A.prototype,"recommendedValues",[$],{configurable:true,enumerable:true,writable:true,initializer:null}),H=ve(A.prototype,"queryChanged",[C],{configurable:true,enumerable:true,writable:true,initializer:null}),D=ve(A.prototype,"enterPressed",[Q],{configurable:true,enumerable:true,writable:true,initializer:null}),z=ve(A.prototype,"liveChange",[R],{configurable:true,enumerable:true,writable:true,initializer:null}),Y=ve(A.prototype,"state",[V],{configurable:true,enumerable:true,writable:true,initializer:function(){return{queryChanged:false,isHistoryEnabled:false,recentQueries:[],recentQueriesWitFavorites:[],favoriteQueries:[],recommendedQueries:[]}}}),A))||w);k=ge;return k},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/controls/easyFilter/PXFeedback", ["sap/ui/core/EventBus"],function(e){"use strict";var a={};function t(a){try{const t=e.getInstance();t.publish("sap.feedback","inapp.feature",{areaId:"EmbeddedAI",triggerName:"J91",payload:{event:a}})}finally{}}a.triggerPXIntegration=t;return a},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/controls/easyFilter/ShellHistoryProvider", ["sap/base/Log","sap/base/util/uid","sap/fe/base/ClassSupport","sap/m/CheckBox","sap/m/Title","sap/m/VBox","sap/ui/base/ManagedObject","sap/ui/core/Lib","sap/fe/base/jsx-runtime/jsx","sap/fe/base/jsx-runtime/jsxs"],function(e,t,i,r,a,s,n,o,c,l){"use strict";var u,p,f,d,g,b,y,E,h,S;var v={};var _=i.defineUI5Class;var w=i.defineState;var I=i.defineReference;function P(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function m(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Q(e,t)}function Q(e,t){return Q=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Q(e,t)}function T(e,t,i,r,a){var s={};return Object.keys(r).forEach(function(e){s[e]=r[e]}),s.enumerable=!!s.enumerable,s.configurable=!!s.configurable,("value"in s||s.initializer)&&(s.writable=!0),s=i.slice().reverse().reduce(function(i,r){return r(e,t,i)||i},s),a&&void 0!==s.initializer&&(s.value=s.initializer?s.initializer.call(a):void 0,s.initializer=void 0),void 0===s.initializer?(Object.defineProperty(e,t,s),null):s}function z(e,t){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let D=(u=_("sap.fe.controls.easyFilter.ShellHistoryProvider"),p=w(),f=I(),d=I(),u(g=(b=(S=function(i){function n(e,t,r,a,s){var o;o=i.call(this)||this;P(o,"state",y,o);o.personalizationService=e;o.globalPersonalizer=t;o.appPersonalizer=r;o.data=a;o.appData=s;n.instances.add(o);o.state.isHistoryEnabled=a.isHistoryEnabled;o.state.apps=a.apps;o.state.recentQueries=s.recentQueries;o.state.favoriteQueries=s.favoriteQueries;return o}v=n;m(n,i);n.getShellDialogContent=function e(t){this.$form=l(s,{children:[c(a,{text:this.resourceBundle.getText("M_BUSINESS_AI_SHELL_SETTINGS_EASY_FILTER")}),c(r,{ref:this.$historyEnabled,selected:t,text:this.resourceBundle.getText("M_BUSINESS_AI_SHELL_SETTINGS_EASY_FILTER_KEEP_QUERIES")})]});return this.$form};n.saveShellDialog=function e(){const t=n.$historyEnabled.current.getSelected();this.instances.forEach(e=>{e.state.isHistoryEnabled=t})};var u=n.prototype;u.onStateChange=async function e(){await this.globalPersonalizer.setPersData({isHistoryEnabled:this.state.isHistoryEnabled,apps:this.state.apps});await this.appPersonalizer.setPersData({recentQueries:this.state.recentQueries,favoriteQueries:this.state.favoriteQueries})};u.isHistoryEnabled=function e(){return this.state.isHistoryEnabled.valueOf()};u.getRecentQueries=function e(){return this.state.recentQueries.concat()};u.getFavoriteQueries=function e(){return this.state.favoriteQueries.concat()};u.setRecentQueries=function e(t){this.state.recentQueries=t};u.setFavoriteQueries=function e(t){this.state.favoriteQueries=t};n.getInstance=async function t(i){const r=sap.ui.require("sap/ushell/Container");try{if(r){let e;this.instance=new Promise(t=>{e=t});const t=await r.getServiceAsync("Extension");const a=await r.getServiceAsync("FrameBoundExtension");const s=await r.getServiceAsync("PersonalizationV2");if(t&&s&&a){const r=await n.registerUserAction(t,s,a,i);e(r)}}}catch(t){e.error("Cannot register extension",t instanceof Error?t.message:String(t))}return this.instance};n.registerUserAction=async function i(r,a,s,c){try{const e=o.getResourceBundleFor("sap.fe.controls");const i={clientStorageAllowed:false,keyCategory:a.constants.keyCategory.FIXED_KEY,validity:Infinity,writeFrequency:a.constants.writeFrequency.LOW};const r=await a.getPersonalizer({container:"sap.fe.easyFilter",item:"settings"},i);let l=await r.getPersData();if(!l){l={isHistoryEnabled:true,apps:{[c]:t()}};r.setPersData(l)}else if(!l.apps?.[c]){l.apps??={};l.apps[c]=t();await r.setPersData(l)}const u=await a.getPersonalizer({container:"sap.fe.easyFilter"+l.apps[c],item:"recentQueries"},i);let p=await u.getPersData();if(!p){p={recentQueries:[],favoriteQueries:[]};await u.setPersData(p)}const f=new n(a,r,u,l,p);if(!this.isDialogAdded){this.isDialogAdded=true;await s.addGroupedUserSettingsEntry({title:e.getText("M_BUSINESS_AI_SHELL_SETTINGS_TITLE"),icon:"sap-icon://laptop",entryHelpId:"userActivitiesEntry",groupingId:"userActivities",groupingTabTitle:e.getText("M_BUSINESS_AI_SHELL_SETTINGS_TITLE"),groupingTabHelpId:"sapBusinessAI-helpId",value:async()=>Promise.resolve(),content:async()=>Promise.resolve(this.getShellDialogContent(l?.isHistoryEnabled)),onSave:()=>{this.saveShellDialog()},onCancel:()=>{}})}return f}catch(t){e.error("Cannot add user action",t instanceof Error?t.message:String(t))}};return n}(n),S.instances=new Set,S.resourceBundle=o.getResourceBundleFor("sap.fe.controls"),S.isDialogAdded=false,S),y=T(b.prototype,"state",[p],{configurable:true,enumerable:true,writable:true,initializer:function(){return{isHistoryEnabled:true,apps:{},recentQueries:[],favoriteQueries:[]}}}),T(b,"$defaultOption",[f],(E=Object.getOwnPropertyDescriptor(b,"$defaultOption"),E=E?E.value:undefined,{enumerable:true,configurable:true,writable:true,initializer:function(){return E}}),b),T(b,"$historyEnabled",[d],(h=Object.getOwnPropertyDescriptor(b,"$historyEnabled"),h=h?h.value:undefined,{enumerable:true,configurable:true,writable:true,initializer:function(){return h}}),b),b))||g);v=D;return v},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/controls/easyFilter/Token", ["sap/base/Log","sap/fe/base/ClassSupport","sap/fe/base/jsx-runtime/jsx","sap/m/Token","sap/m/delegate/ValueStateMessage","sap/ui/core/Lib","sap/ui/core/library","sap/ui/model/FilterOperator","./innerControls/CalendarFactory","./innerControls/MenuWithCheckBoxFactory","./innerControls/MenuWithSingleSelectFactory","./innerControls/TimeFactory","./innerControls/ValueHelpPreviewFactory","./utils","sap/fe/base/jsx-runtime/jsxs","sap/fe/base/jsx-runtime/jsx"],function(e,t,i,n,s,o,a,r,l,u,h,c,p,d,f,g){"use strict";var m,C,v,y,S,V,b,k,D,T,B,w,F,M,P,O,A,E,H,x,W;var z={};var _=a.ValueState;var I=t.property;var L=t.defineUI5Class;function j(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function R(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,K(e,t)}function K(e,t){return K=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},K(e,t)}function N(e,t,i,n,s){var o={};return Object.keys(n).forEach(function(e){o[e]=n[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce(function(i,n){return n(e,t,i)||i},o),s&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(s):void 0,o.initializer=void 0),void 0===o.initializer?(Object.defineProperty(e,t,o),null):o}function Y(e,t){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let U=(m=L("sap.fe.controls.easyFilter.Token"),C=I({type:"string"}),v=I({type:"string"}),y=I({type:"string"}),S=I({type:"string",defaultValue:null}),V=I({type:"boolean"}),b=I({type:"array"}),k=I({type:"sap.ui.core.ValueState",group:"Appearance",defaultValue:_.None}),D=I({type:"int",visibility:"hidden"}),T=I({type:"int",visibility:"hidden"}),m(B=(w=function(t){function a(e,i){var n;n=t.call(this,e,i)||this;j(n,"label",F,n);j(n,"titlePopover",M,n);j(n,"value",P,n);j(n,"valueStateText",O,n);j(n,"mandatory",A,n);j(n,"items",E,n);j(n,"valueState",H,n);j(n,"posinset",x,n);j(n,"setsize",W,n);n.resourceBundle=o.getResourceBundleFor("sap.fe.controls");n.eventAttached=false;n.isDescriptionFetched=false;n.valueStateMessage=new s(n);n.attachCloseHandlersForValueStateMessagePopup();return n}z=a;R(a,t);var m=a.prototype;m.firePress=function e(t){const i=this.getParent();if(!i.getEditable()){return this}this.fireEvent("press");this.valueStateMessage?.close();const n=this.getCustomDataValue("easyFilterBarContainer");const s=this.getCustomDataValue("popover");const{key:o,type:r,keySpecificSelectedValues:l}=this.getCustomDataValue("TokenInfo");if(s.isOpen()){if(a.prevTokenKey===o){return this}else{a.prevTokenKey=o;s.close()}}else{a.prevTokenKey=o}s?.setShowHeader(true);s?.getFooter()?.setVisible(true);if(r==="Calendar"&&this.shouldOpenDefaultFragment(l)){this.invokeCalendar()}else if(r==="Time"&&this.shouldOpenDefaultFragment(l)){this.invokeTime()}else if(r==="MenuWithCheckBox"){this.invokeMenuWithCheckBox()}else if(r==="MenuWithSingleSelect"){this.invokeMenuWithSingleSelect()}else{this.invokeValueHelpPreview()}const u=n?.getOkButton();const h=n?.getShowAllButton();if(!(this.eventAttached??false)){u?.attachPress(this.handleOkClick.bind(this));h?.attachPress(this.handleShowAllClick.bind(this));s.attachAfterClose(this.handleAttachAfterClose.bind(this));this.eventAttached=true}return this};m.getCustomDataValue=function e(t){return this.getCustomData().find(e=>e.getKey()===t)?.getValue()};m.onBeforeRendering=function e(t){n.prototype.onBeforeRendering.apply(this,[t]);if(!this.isDescriptionFetched){this.setValueForToken()}this.isDescriptionFetched=false};m.attachCloseHandlersForValueStateMessagePopup=function e(){document.addEventListener("click",()=>{if(this?.valueStateMessage){this.valueStateMessage.close()}});document.addEventListener("touchstart",()=>{if(this?.valueStateMessage){this.valueStateMessage.close()}})};m.setValueForToken=function e(){const t=this.items;if(t.length===0){this.setProperty("value",this.resourceBundle.getText("M_EASY_FILTER_MANDATORY_TOKEN_SELECT_VALUE"),true);return}const i=t[0];const n=this.calculateTotalSelectedValues(t);if(n===1){this.handleSingleSelectedValue(i)}else{this.handleMultipleSelectedValues(n)}};m.calculateTotalSelectedValues=function e(t){return t.reduce((e,t)=>d.isBetweenSelectedValues(t.operator)?e+1:e+t.selectedValues.length,0)};m.handleSingleSelectedValue=function e(t){const i=this.getCustomDataValue("TokenInfo");const n=t?.operator;const s=t.selectedValues[0];const o=t.selectedValues;const a=this.getCustomDataValue("easyFilterBarContainer");const r=a?.filterBarMetadata?.find(e=>e.name===this.getKey());if(!r){return}const{type:l,dataType:u}=r;if(i){const{key:e}=i;if(l==="MenuWithCheckBox"||l==="MenuWithSingleSelect"){this.setValueForMenu(e);return}if(l==="ValueHelp"){if(d.isBetweenSelectedValues(n)){this.setProperty("value",d.mapOperatorForBetweenOperator(n,o,l,u==="Edm.DateTimeOffset"),true)}else{this.setProperty("value",d.mapOperatorForValueHelp(n,s,l,u==="Edm.DateTimeOffset"),true)}}else if(d.isBetweenSelectedValues(n)){this.setProperty("value",d.mapOperatorForBetweenOperator(n,o,l,u==="Edm.DateTimeOffset"),true)}else{this.setProperty("value",d.mapOperator(n,s,l,u==="Edm.DateTimeOffset"),true)}}};m.handleMultipleSelectedValues=function e(t){this.setProperty("value",this.resourceBundle.getText("M_EASY_FILTER_MANDATORY_TOKEN_ITEMS",[t]),true)};m.setValueForMenu=function t(i){const n=this.getCustomDataValue("easyFilterBarContainer");this.setBusy(true);(async()=>{try{const e=await this.getDescriptionByKey(n.filterBarMetadata?.find(e=>e.name===i),this.items);this.setProperty("value",e);this.isDescriptionFetched=true;this.setBusy(false)}catch(t){e.error("Error while fetching codeList",t)}})()};m.getDomRefForValueStateMessage=function e(){return this.getDomRef()};m.getDescriptionByKey=async function e(t,i){const n=await d.getCodeListArray(t.codeList);return n?.find(e=>e.value===i[0].selectedValues[0])?.description};m.invokeMenuWithCheckBox=async function e(){const t=this.getCustomDataValue("easyFilterBarContainer");const i=this.getCustomDataValue("popover");const n=this.getCustomDataValue("codeList");const{keySpecificSelectedValues:s}=this.getCustomDataValue("TokenInfo");if(!this.menuWithCheckBox){this.menuWithCheckBox=new u(t,this)}this.innerControl=this.menuWithCheckBox.getControl();this.addDependent(this.innerControl);await this.menuWithCheckBox.setItems(n,s);i?.removeAllContent();i?.addContent(this.innerControl);t?.getShowAllButton()?.setVisible(false);this.openPopover()};m.invokeMenuWithSingleSelect=async function e(){const t=this.getCustomDataValue("easyFilterBarContainer");const i=this.getCustomDataValue("popover");const n=this.getCustomDataValue("codeList");const{keySpecificSelectedValues:s}=this.getCustomDataValue("TokenInfo");if(!this.menuWithSingleSelect){this.menuWithSingleSelect=new h(t,this)}this.innerControl=this.menuWithSingleSelect.getControl();this.addDependent(this.innerControl);await this.menuWithSingleSelect.setItems(n,s);i.setShowHeader(false);i.getFooter()?.setVisible(false);i?.removeAllContent();i?.addContent(this.innerControl);this.openPopover()};m.invokeCalendar=function e(){const t=this.getCustomDataValue("easyFilterBarContainer");const i=this.getCustomDataValue("popover");if(!this.calender){this.calender=new l(t,this)}this.innerControl=this.calender.getControl();this.addDependent(this.innerControl);i?.removeAllContent();i?.addContent(this.innerControl);t?.getShowAllButton()?.setVisible(true);this.openPopover()};m.invokeTime=function e(){const t=this.getCustomDataValue("easyFilterBarContainer");const i=this.getCustomDataValue("popover");if(!this.time){this.time=new c(t,this)}this.innerControl=this.time.getControl();this.addDependent(this.innerControl);i?.removeAllContent();i?.addContent(this.innerControl);t?.getShowAllButton()?.setVisible(true);this.openPopover()};m.invokeValueHelpPreview=function e(){const t=this.getCustomDataValue("easyFilterBarContainer");const i=this.getCustomDataValue("popover");if(!this.valueHelpPreview){this.valueHelpPreview=new p(t,this)}const{type:n,dataType:s}=t.filterBarMetadata?.find(e=>e.name===this.getKey());if(n==="ValueHelp"){this.valueHelpPreview.setItems(this.items,n,s==="Edm.DateTimeOffset")}else{this.valueHelpPreview.setItems(this.items,n,s==="Edm.DateTimeOffset")}this.innerControl=this.valueHelpPreview.getControl();this.addDependent(this.innerControl);i?.removeAllContent();i?.addContent(this.innerControl);t?.getShowAllButton()?.setVisible(true);this.openPopover()};m.openPopover=function e(){const t=this.getCustomDataValue("popover");t?.setTitle(this.label);t?.openBy(this)};m.handleOkClick=function e(){if(!this.innerControl?.getDomRef()){return}const{type:t,keySpecificSelectedValues:i}=this.getCustomDataValue("TokenInfo");const n=this.getCustomDataValue("popover");let s;if(t==="Calendar"&&this.shouldOpenDefaultFragment(i)){s=this.calender?.invokeOkButtonHandler.bind(this.calender)}else if(t==="Time"&&this.shouldOpenDefaultFragment(i)){s=this.time?.invokeOkButtonHandler.bind(this.time)}else if(t==="MenuWithCheckBox"){s=this.menuWithCheckBox?.invokeOkButtonHandler.bind(this.menuWithCheckBox)}else{s=this.valueHelpPreview?.invokeOkButtonHandler.bind(this.valueHelpPreview)}if(s){s()}n?.close()};m.handleShowAllClick=function e(){if(!this.innerControl?.getDomRef()){return}const t=this.getCustomDataValue("popover");const{type:i,keySpecificSelectedValues:n}=this.getCustomDataValue("TokenInfo");t.close();let s;if(i==="Calendar"&&this.shouldOpenDefaultFragment(n)){s=this.calender?.invokeShowAllButtonHandler.bind(this.calender)}else if(i==="Time"&&this.shouldOpenDefaultFragment(n)){s=this.time?.invokeShowAllButtonHandler.bind(this.time)}else{s=this.valueHelpPreview?.invokeShowAllButtonHandler.bind(this.valueHelpPreview)}if(s){(()=>{s()})()}};m.handleAttachAfterClose=function e(){if(!this.innerControl?.getDomRef()){return}const t=this.getCustomDataValue("TokenInfo");if(t){const{type:e,keySpecificSelectedValues:t}=this.getCustomDataValue("TokenInfo");if(e==="ValueHelp"||(e==="Calendar"||e==="Time")&&!this.shouldOpenDefaultFragment(t)){this.valueHelpPreview?.invokePopupCloseHandler()}else if(e==="MenuWithCheckBox"){this.menuWithCheckBox?.invokePopupCloseHandler()}}};m.getInnerControl=function e(){return this.innerControl};m.openValueStateMessage=function e(){this.valueStateMessage?.open()};m.closeValueStateMessage=function e(){this.valueStateMessage?.close()};m.shouldOpenDefaultFragment=function e(t){const i=t.find(e=>e.operator===r.BT||e.operator===r.NB);return t.length===0||t.length===1&&t[0].selectedValues.length===1&&!i};m.focusout=function e(){this.valueStateMessage?.close()};a.render=function e(t,n){return i.renderUsingRenderManager(t,n,()=>{const e=n.getParent();const t=["sapMToken","sapFeControlsToken"];const i=["sapMTokenText","sapFeControlsTokenPropertyName"];const s=["sapMTokenText","sapFeControlsTokenPropertyValues"];const o=n.getMandatory();if(typeof e?.getEditable==="function"&&e?.getEditable()){t.push("sapFEControlsPointer")}if(n.getSelected()){t.push("sapMTokenSelected")}if(o??false){t.push("sapFeControlsTokenMandatory");if(n.getValue()===n.resourceBundle.getText("M_EASY_FILTER_MANDATORY_TOKEN_SELECT_VALUE")){s.push("sapFeControlsTokenMandatory")}}if(n.getValueState()===_.Error){t.push("sapFeTokenError")}return f("div",{ref:n,class:t.join(" "),"aria-selected":n.getSelected(),tabindex:-1,"aria-posinset":n.getProperty("posinset"),"aria-setsize":n.getProperty("setsize"),children:[f("span",{class:i.join(" "),children:[n.getLabel(),":"]}),g("span",{class:s.join(" "),children:n.getValue()}),o===true?null:n.getAggregation("deleteIcon")]})})};return a}(n),F=N(w.prototype,"label",[C],{configurable:true,enumerable:true,writable:true,initializer:null}),M=N(w.prototype,"titlePopover",[v],{configurable:true,enumerable:true,writable:true,initializer:null}),P=N(w.prototype,"value",[y],{configurable:true,enumerable:true,writable:true,initializer:null}),O=N(w.prototype,"valueStateText",[S],{configurable:true,enumerable:true,writable:true,initializer:null}),A=N(w.prototype,"mandatory",[V],{configurable:true,enumerable:true,writable:true,initializer:null}),E=N(w.prototype,"items",[b],{configurable:true,enumerable:true,writable:true,initializer:null}),H=N(w.prototype,"valueState",[k],{configurable:true,enumerable:true,writable:true,initializer:null}),x=N(w.prototype,"posinset",[D],{configurable:true,enumerable:true,writable:true,initializer:null}),W=N(w.prototype,"setsize",[T],{configurable:true,enumerable:true,writable:true,initializer:null}),w))||B);z=U;return z},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/controls/easyFilter/innerControls/BaseFactory", [],function(){"use strict";var t={};let e=function(){function e(t,e){this.items=[];this.easyFilter=t;this.easyFilterToken=e}t.BaseFactory=e;var n=e.prototype;n.getItems=function t(){return this.items};n.getControl=function t(){return this.control};n.setControl=function t(e){this.control=e};n.getEasyFilter=function t(){return this.easyFilter};n.getToken=function t(){return this.easyFilterToken};return e}();t.BaseFactory=e;return t},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/controls/easyFilter/innerControls/CalendarFactory", ["sap/base/Log","sap/fe/controls/easyFilter/innerControls/BaseFactory","sap/ui/core/format/DateFormat","sap/ui/model/FilterOperator","sap/ui/unified/Calendar","../utils"],function(e,t,o,r,n,s){"use strict";var a=t.BaseFactory;function i(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,c(e,t)}function c(e,t){return c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},c(e,t)}let l=function(t){function a(e,o){var r;r=t.call(this,e,o)||this;r.setControl(new n({}));return r}i(a,t);var c=a.prototype;c.invokeOkButtonHandler=function e(){const t=this.getControl();const n=this.getToken()?.getCustomDataValue("popover");const{key:a,keySpecificSelectedValues:i}=this.getToken()?.getCustomDataValue("TokenInfo");const c=o.getDateInstance().format(t?.getSelectedDates()[0].getStartDate());const l=i.length===0?r.EQ:i[0].operator;const u=[{operator:l,selectedValues:[c]}];if(s.areItemsSame(i,u)){return}this.getEasyFilter()?.updateTokenArray("setSelectedValues",u,a);n?.close()};c.invokeShowAllButtonHandler=async function t(){const o=this.getToken();const r=o?.getKey();const n=new Promise((e,t)=>{this.getEasyFilter()?.fireEvent("showValueHelp",{key:r,selectedValues:o?.getItems(),resolve:e,reject:t})});try{const e=await n;this.getEasyFilter()?.updateTokenArray("setSelectedValues",e,r)}catch(t){if(t instanceof Error){e.error("Error while fetching new tokens",t.message)}else{e.error("Error while fetching new tokens",String(t))}}};return a}(a);return l},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/controls/easyFilter/innerControls/MenuWithCheckBoxFactory", ["sap/fe/controls/easyFilter/innerControls/BaseFactory","sap/fe/controls/easyFilter/utils","sap/m/List","sap/m/StandardListItem","sap/m/library","sap/ui/core/CustomData","sap/ui/model/FilterOperator"],function(e,t,s,o,i,n,l){"use strict";var r=e.BaseFactory;function a(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,c(e,t)}function c(e,t){return c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},c(e,t)}let u=function(e){function r(t,o){var n;const l=i.ListSeparators;const r=i.ListMode;n=e.call(this,t,o)||this;n.selectionList=[];n.okButtonClicked=false;n.setControl(new s({mode:r.MultiSelect,showSeparators:l.None}));return n}a(r,e);var c=r.prototype;c.setItems=async function e(s,i){if(await t.areCodeListsSame(s,this.getItems())){return}const l=this.getControl();this.items=await t.getCodeListArray(s);l?.destroyAggregation("items");this.selectionList=[];this.items.forEach((e,t)=>{let s=false;if(i.length>0&&i[0].selectedValues.length>0){const o=i[0].selectedValues[0];if(typeof o==="string"&&typeof e.value==="string"){if(i[0].selectedValues.includes(e.value)){s=true;this.selectionList?.push(t)}}else if(typeof o==="boolean"&&typeof e.value==="boolean"){if(i[0].selectedValues.includes(e.value)){s=true;this.selectionList?.push(t)}}else if(typeof o==="number"&&typeof e.value==="number"){if(i[0].selectedValues.includes(e.value)){s=true;this.selectionList?.push(t)}}}l?.addItem(new o({title:e.description,selected:s,customData:[new n({key:"value",value:e.value})]}))})};c.invokeOkButtonHandler=function e(){if(this.areSelectListSame()){return}this.selectionList=this.getSelectedIndices();this.okButtonClicked=true;const t=this.getControl()?.getSelectedItems();const s=this.getEasyFilter();let o=[{operator:l.EQ,selectedValues:[]}];const{key:i}=this.getToken()?.getCustomDataValue("TokenInfo");t.forEach(e=>{const t=e.getCustomData().find(e=>e.getKey()==="value")?.getValue();if(t!==undefined){if(Array.isArray(o[0].selectedValues)){const e=o[0].selectedValues;if(typeof t==="string"&&e.every(e=>typeof e==="string")||typeof t==="boolean"&&e.every(e=>typeof e==="boolean")||typeof t==="number"&&e.every(e=>typeof e==="number")){e.push(t)}}}});o=o[0].selectedValues.length===0?[]:o;s.updateTokenArray("setSelectedValues",o,i)};c.areSelectListSame=function e(){const t=this.getSelectedIndices();if(this.selectionList.length===0||t.length!==this.selectionList.length){return false}return this.selectionList.every((e,s)=>t[s]===e)};c.invokePopupCloseHandler=function e(){if(this.okButtonClicked){this.okButtonClicked=false;return}this.okButtonClicked=false;this.getControl()?.removeSelections();this.selectionList?.forEach(e=>this.getControl()?.getItems()[e].setSelected(true))};c.setSelectList=function e(){this.selectionList=[];const t=this.getControl()?.getSelectedItems();t?.forEach(e=>this.selectionList?.push(this.getControl()?.indexOfItem(e)))};c.getSelectedIndices=function e(){const t=[];const s=this.getControl()?.getSelectedItems();s?.forEach(e=>t?.push(this.getControl()?.indexOfItem(e)));return t};return r}(r);return u},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/controls/easyFilter/innerControls/MenuWithSingleSelectFactory", ["sap/fe/controls/easyFilter/innerControls/BaseFactory","sap/fe/controls/easyFilter/utils","sap/m/List","sap/m/StandardListItem","sap/m/library","sap/ui/core/CustomData","sap/ui/model/FilterOperator"],function(e,t,s,o,n,r,a){"use strict";var i=e.BaseFactory;function l(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,c(e,t)}function c(e,t){return c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},c(e,t)}let u=function(e){function i(t,o){var r;const a=n.ListSeparators;const i=n.ListMode;r=e.call(this,t,o)||this;r.selectedItemIndex=-1;r.setControl(new s({mode:i.SingleSelectMaster,showSeparators:a.None,selectionChange:r.onItemSelected.bind(r)}));return r}l(i,e);var c=i.prototype;c.setItems=async function e(s,n){if(await t.areCodeListsSame(s,this.getItems())){return}const a=this.getControl();this.items=await t.getCodeListArray(s);a?.destroyAggregation("items");this.selectedItemIndex=-1;this.items.forEach((e,t)=>{let s=false;if(n.length>0&&n[0].selectedValues.length>0){const o=n[0].selectedValues[0];if(typeof o===typeof e.value&&o===e.value){s=true;this.selectedItemIndex=t}}a?.addItem(new o({title:e.description,selected:s,customData:[new r({key:"value",value:e.value})]}))})};c.onItemSelected=function e(t){const s=t.getParameter("listItem");const o=this.getControl();const n=this.getEasyFilter();if(!s||!o){return}const r=s.getCustomData().find(e=>e.getKey()==="value")?.getValue();if(r!==undefined){const e=[{operator:a.EQ,selectedValues:[r]}];n?.closeInnerControlPopover();const{key:t}=this.getToken()?.getCustomDataValue("TokenInfo");n.updateTokenArray("setSelectedValues",e,t);this.selectedItemIndex=o.indexOfItem(s)}};c.getSelectedIndex=function e(){const t=this.getControl()?.getSelectedItems()?.[0];return t?this.getControl()?.indexOfItem(t)??-1:-1};return i}(i);return u},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/controls/easyFilter/innerControls/TimeFactory", ["sap/base/Log","sap/fe/controls/easyFilter/innerControls/BaseFactory","sap/m/TimePickerClocks","sap/ui/core/format/DateFormat","sap/ui/model/FilterOperator","../utils"],function(e,t,o,r,n,s){"use strict";var a=t.BaseFactory;function i(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,c(e,t)}function c(e,t){return c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},c(e,t)}let l=function(t){function a(e,r){var n;n=t.call(this,e,r)||this;n.setControl(new o);return n}i(a,t);var c=a.prototype;c.invokeOkButtonHandler=function e(){const t=this.getControl();const o=this.getToken()?.getCustomDataValue("popover");const{key:a,keySpecificSelectedValues:i}=this.getToken()?.getCustomDataValue("TokenInfo");const c=r.getTimeInstance().format(t?.getTimeValues());const l=i.length===0?n.EQ:i[0].operator;const u=[{operator:l,selectedValues:[c]}];if(s.areItemsSame(i,u)){return}this.getEasyFilter()?.updateTokenArray("setSelectedValues",u,a);o?.close()};c.invokeShowAllButtonHandler=async function t(){const o=this.getToken();const r=o?.getKey();const n=new Promise((e,t)=>{this.getEasyFilter()?.fireEvent("showValueHelp",{key:r,selectedValues:o?.getItems(),resolve:e,reject:t})});try{const e=await n;this.getEasyFilter()?.updateTokenArray("setSelectedValues",e,r)}catch(t){if(t instanceof Error){e.error("Error while fetching new tokens",t.message)}else{e.error("Error while fetching new tokens",String(t))}}};return a}(a);return l},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/controls/easyFilter/innerControls/ValueHelpPreviewFactory", ["sap/base/Log","sap/base/util/deepClone","sap/fe/controls/easyFilter/innerControls/BaseFactory","sap/fe/controls/easyFilter/utils","sap/m/List","sap/m/StandardListItem","sap/m/library","sap/ui/core/CustomData"],function(e,t,r,o,s,a,n,i){"use strict";var l=n.ListSeparators;var u=n.ListMode;var c=r.BaseFactory;function p(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,f(e,t)}function f(e,t){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},f(e,t)}let m=function(r){function n(e,t){var o;o=r.call(this,e,t)||this;o.setControl(new s({delete:o.onDelete.bind(o),mode:u.Delete,showSeparators:l.None}));return o}p(n,r);var c=n.prototype;c.setItems=function e(t,r,s){if(o.areItemsSame(t,this.items)){return}this.items=t;const a=this.getControl();a?.destroyAggregation("items");t.forEach((e,t)=>{const{operator:n,selectedValues:i}=e;let l="";if(r==="ValueHelp"){if(o.isBetweenSelectedValues(n)){l=o.mapOperatorForBetweenOperator(n,i,r,s);this.insertItem(a,l,[t])}else{i.forEach((e,i)=>{l=o.mapOperatorForValueHelp(n,e,r,s);this.insertItem(a,l,[t,i])})}}else{if(o.isBetweenSelectedValues(n)){l=o.mapOperatorForBetweenOperator(n,i,r,s);this.insertItem(a,l,[t])}else{i.forEach((e,i)=>{l=o.mapOperator(n,e,r,s);this.insertItem(a,l,[t,i])})}}})};c.insertItem=function e(t,r,o){t?.addItem(new a({title:r,customData:new i({key:"arrayIndex",value:o})}))};c.onDelete=function e(t){const r=this.getToken()?.getCustomDataValue("popover");t.getParameter("listItem")?.setVisible(false);r.focus()};c.normalizeString=function e(t){const r=/^(>=|<=|!=|>|<)+/;return t.replace(r,"")};c.invokeOkButtonHandler=function e(){const r=this.getToken()?.getCustomDataValue("popover");const o=this.getToken();const s=this.getEasyFilter();const a=o?.getItems()?.map(e=>({operator:JSON.parse(JSON.stringify(e.operator)),selectedValues:t(e.selectedValues)}));const n=[];this.getControl()?.getItems().forEach(e=>{if(!e.getVisible()){const[t=Infinity,r=Infinity]=e?.getCustomData()?.find(e=>e?.getKey()==="arrayIndex")?.getValue()??[];if(t===Infinity||!a){return}n.push([t,r])}});n.sort((e,t)=>t[0]-e[0]||t[1]-e[1]);n.forEach(e=>{let[t,r]=e;if(a){if(r===Infinity){a.splice(t,1);return}a[t].selectedValues.splice(r,1);if(a[t].selectedValues.length===0){a.splice(t,1)}}});s.updateTokenArray("setSelectedValues",a,o?.getKey());r.close()};c.invokeShowAllButtonHandler=async function t(){const r=this.getToken();const{type:o}=r?.getCustomDataValue("TokenInfo");const s=r?.getKey();const a=r?.getItems();const n=new Promise((e,t)=>{this.getEasyFilter()?.fireEvent("showValueHelp",{key:s,values:r?.getItems()?.map(e=>{if(o==="ValueHelp"){return{operator:e.operator,selectedValues:e.selectedValues.map(e=>e.value)}}else{return e}}),resolve:e,reject:t})});try{const e=await n;if(!this.areTokenArraysEqual(a,e)){this.getEasyFilter()?.updateTokenArray("setSelectedValues",e,s)}}catch(t){if(t instanceof Error){e.error("Error while fetching new tokens",t.message)}else{e.error("Error while fetching new tokens",String(t))}}};c.normalizeTokenArray=function e(t){return t.flatMap(e=>e.selectedValues.map(t=>({operator:e.operator,value:t.value})))};c.areTokenArraysEqual=function e(t,r){const o=this.normalizeTokenArray(t).sort((e,t)=>e.value.localeCompare(t.value));const s=this.normalizeTokenArray(r).sort((e,t)=>e.value.localeCompare(t.value));if(o.length===s.length){return o.every((e,t)=>{const r=s[t];return e.operator===r.operator&&e.value===r.value})}return false};c.invokePopupCloseHandler=function e(){this.getControl()?.getItems().forEach(e=>e.setVisible(true))};return n}(c);return m},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/controls/easyFilter/utils", ["sap/base/util/deepEqual","sap/ui/core/Lib","sap/ui/core/format/DateFormat","sap/ui/model/FilterOperator","sap/ui/model/odata/type/DateTimeOffset"],function(e,t,n,r,s){"use strict";const a=t.getResourceBundleFor("sap.fe.controls");const o=new s;function i(t,n){if(t.length!==n.length){return false}for(let r=0;r<t.length;r++){if(t[r].operator!==n[r].operator||!t[r].selectedValues.every((t,s)=>t===n[r].selectedValues[s]||typeof t==="object"&&e(t.value,n[r].selectedValues[s].value)&&t.description===n[r].selectedValues[s].description)){return false}}return true}function l(e,t){if(e.length!==t.length){return false}for(let n=0;n<e.length;n++){if(e[n]!==t[n]){return false}}return true}async function c(e,t){const n=await u(e);const r=await u(t);const s=n?.map(e=>e.description);const a=r?.map(e=>e.description);const o=n?.map(e=>e.value);const i=r?.map(e=>e.value);if(!s||!a){return false}return l(s,a)&&l(o,i)}async function u(e){if(typeof e==="function"){return e()}return e}function f(e,t,r){let s="";if(r){return o.formatValue(e,"string")}switch(t){case"Calendar":s=n.getDateInstance().format(e);break;case"Time":s=n.getTimeInstance().format(e);break;default:break}return s}function p(e,t,n,s){let a="";if(typeof t==="boolean"){a=h(t)}else if(t instanceof Date){a=f(t,n,s)}else{a=t}switch(e){case r.GT:return`> ${a}`;case r.LT:return`< ${a}`;case r.GE:return`>= ${a}`;case r.LE:return`<= ${a}`;case r.EQ:return`${a}`;case r.Contains:return`*${a}*`;case r.EndsWith:return`*${a}`;case r.StartsWith:return`${a}*`;case r.NE:return`!=(${a})`;case r.NotContains:return`!(*${a}*)`;case r.NotEndsWith:return`!(*${a})`;case r.NotStartsWith:return`!(${a}*)`;default:return a?.toString()}}function d(e,t,n,r){return p(e,t.description,n,r)}function E(e,t,n,s){let a="";let o="";if(typeof t[0]==="boolean"){a=h(t[0])}else if(t[0]instanceof Date){a=f(t[0],n,s)}else if(typeof t[0]==="object"){a=t[0].description}else{a=t[0]}if(typeof t[1]==="boolean"){o=h(t[1])}else if(t[1]instanceof Date){o=f(t[1],n,s)}else if(typeof t[0]==="object"){o=t[1].description}else{o=t[1]}if(e===r.BT){return`${a}...${o}`}else{return`!(${a}...${o})`}}function g(e){return e===r.BT||e===r.NB}function h(e){return e?a.getText("M_EASY_FILTER_SELECTED_VALUES_TRUE"):a.getText("M_EASY_FILTER_SELECTED_VALUES_FALSE")}function m(e){const t=[r.EQ,r.LE,r.LT,r.GE,r.GT,r.BT];return e.operator!==r.BT&&(!t.includes(e.operator)||e.values.length>=2)}function y(e,t,n,r){if(t){const s={};const o=[];const i=[];const l=[];for(const r of t){const t=n.find(e=>e.name===r.name);if(t){if(Object.prototype.hasOwnProperty.call(t,"filterable")&&!t?.filterable){o.push(t.label||t.name);continue}if(Object.prototype.hasOwnProperty.call(t,"hiddenFilter")&&t?.hiddenFilter){l.push(t.label||t.name);continue}if(t?.filterRestriction==="SingleRange"&&m(r)){i.push(t.label||t.name);r.values=[]}const{type:n}=t;const a=e.findIndex(e=>e.key===r.name);const{operator:c,values:u}=r;let f;if(S.isBetweenSelectedValues(c)){f={operator:c,selectedValues:u}}else{f={operator:c,selectedValues:u}}if(a===-1){const s={key:r.name,label:t.label,keySpecificSelectedValues:[f],type:n,busy:n==="ValueHelp"?true:false};e.push(s)}else{const t=e[a];if((t.isRequired??false)&&!s[t.key]){t.keySpecificSelectedValues=[f];s[t.key]=true}else{t.keySpecificSelectedValues.push(f)}}}}if(o.length>0||i.length>0||l.length>0){const e=[];if(o.length>0){const t=`<strong>${o.join(", ")}</strong>`;e.push(a.getText("M_EASY_FILTER_NON_FILTERABLE",[t]))}if(l.length>0){const t=`<strong>${l.join(", ")}</strong>`;e.push(a.getText("M_EASY_FILTER_HIDDEN_FILTER",[t]))}if(i.length>0){const t=`<strong>${i.join(", ")}</strong>`;e.push(a.getText("M_EASY_FILTER_SINGLE_RANGE",[t]))}r(e.join("<br>"))}}}const S={areItemsSame:i,areCodeListsSame:c,getCodeListArray:u,areArraySame:l,mapOperator:p,mapOperatorForBetweenOperator:E,isBetweenSelectedValues:g,formatData:y,mapOperatorForValueHelp:d};return S},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/controls/inlineEdit/InlineEditIndicator", ["sap/fe/base/ClassSupport","sap/fe/base/jsx-runtime/jsx","sap/m/Button","sap/m/library","sap/ui/core/Control","sap/ui/core/Lib","sap/fe/base/jsx-runtime/jsx","sap/fe/base/jsx-runtime/jsxs"],function(e,t,i,r,n,o,a,u){"use strict";var s,l,c,d,p,f,b,B,v,y,I,m,E,g,h;var T={};var _=r.ButtonType;var j=e.property;var z=e.event;var O=e.defineUI5Class;var w=e.aggregation;function D(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function x(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,A(e,t)}function A(e,t){return A=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},A(e,t)}function M(e,t,i,r,n){var o={};return Object.keys(r).forEach(function(e){o[e]=r[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce(function(i,r){return r(e,t,i)||i},o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer?(Object.defineProperty(e,t,o),null):o}function L(e,t){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let P=(s=O("sap.fe.controls.inlineEdit.InlineEditIndicator"),l=w({type:"sap.m.Button"}),c=w({type:"sap.m.Button"}),d=w({type:"sap.m.Button"}),p=j({type:"boolean"}),f=z(),b=z(),s(B=(v=function(e){function r(t,r){var n;n=e.call(this,t,r)||this;D(n,"editButton",y,n);D(n,"saveButton",I,n);D(n,"discardButton",m,n);D(n,"editMode",E,n);D(n,"pressEdit",g,n);D(n,"mouseout",h,n);n.resourceBundle=o.getResourceBundleFor("sap.fe.controls");n.editButton=a(i,{icon:"sap-icon://edit",type:_.Transparent,press:e=>{n.fireEvent("pressEdit")},tooltip:n.resourceBundle.getText("M_INLINE_EDIT_TOOLTIP_EDIT")});n.saveButton=a(i,{icon:"sap-icon://accept",type:_.Transparent,"jsx:command":"cmd:Save|press",fieldGroupIds:"InlineEdit",tooltip:n.resourceBundle.getText("M_INLINE_EDIT_TOOLTIP_SAVE")});n.discardButton=a(i,{icon:"sap-icon://decline",type:_.Transparent,"jsx:command":"cmd:Cancel|press",tooltip:n.resourceBundle.getText("M_INLINE_EDIT_TOOLTIP_CANCEL"),fieldGroupIds:"InlineEdit"});return n}T=r;x(r,e);var n=r.prototype;n.addEditButtonAriaDescribedBy=function e(t){if(t!==undefined&&t!==null&&t!==""){this.editButton.addAriaDescribedBy(t)}};n.removeAllEditButtonAriaDescribedBy=function e(){this.editButton.removeAllAriaDescribedBy()};n.onmouseout=function e(t){if(!t.currentTarget?.contains(t.relatedTarget)){this.fireEvent("mouseout",{relatedTarget:t.relatedTarget})}};n.onkeydown=function e(t){if(t.key==="Tab"&&!t.shiftKey){t.preventDefault();this.fireEvent("pressTab")}else if(t.key==="Tab"&&t.shiftKey){t.preventDefault();this.fireEvent("pressShiftTab")}};n.setWidth=function e(t){this.width=t;this.$().css("width",`${t}px`)};n.getDiscardButton=function e(){return this.discardButton};n.getSaveButton=function e(){return this.saveButton};n.getEditButton=function e(){return this.editButton};r.render=function e(i,r){t.renderUsingRenderManager(i,r,function(){const e=["sapFeInlineEditIndicator"];if(r.editMode){e.push("sapFeInlineEditIndicatorEditMode")}return a("span",{class:e.join(" "),ref:r,children:!r.editMode?a("span",{class:"sapFeInlineEditIndicatorIcon",children:r.editButton}):u("span",{class:"sapFeInlineEditIndicatorAcceptDeclineIcon sapFeInlineEditIndicatorIcon",children:[r.saveButton,r.discardButton]})})})};return r}(n),y=M(v.prototype,"editButton",[l],{configurable:true,enumerable:true,writable:true,initializer:null}),I=M(v.prototype,"saveButton",[c],{configurable:true,enumerable:true,writable:true,initializer:null}),m=M(v.prototype,"discardButton",[d],{configurable:true,enumerable:true,writable:true,initializer:null}),E=M(v.prototype,"editMode",[p],{configurable:true,enumerable:true,writable:true,initializer:function(){return false}}),g=M(v.prototype,"pressEdit",[f],{configurable:true,enumerable:true,writable:true,initializer:null}),h=M(v.prototype,"mouseout",[b],{configurable:true,enumerable:true,writable:true,initializer:null}),v))||B);T=P;return T},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/controls/library", ["sap/fe/base/library","sap/fe/controls/shortcuts/ShortcutExplanationProvider","sap/m/library","sap/ui/core/Lib","sap/ui/unified/library"],function(e,s,a,i,n){"use strict";var r={};const o="sap.fe.controls";r.feControlsNamespace=o;const t=i.init({name:"sap.fe.controls",apiVersion:2,dependencies:["sap.ui.core","sap.fe.base","sap.m","sap.ui.unified"],types:[],interfaces:[],controls:[],elements:[],version:"1.141.1",noLibraryCSS:false});s.getInstance();return t},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/controls/shortcuts/ShortcutExplanationProvider", ["sap/base/Log","sap/base/security/encodeURL","sap/fe/base/ClassSupport","sap/ui/base/ManagedObject","sap/ui/core/IconPool","sap/ui/core/Lib","sap/ui/core/Theming"],function(e,t,o,n,s,i,r){"use strict";var a,c,p;var u={};var d=o.defineUI5Class;function l(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,h(e,t)}function h(e,t){return h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},h(e,t)}let f=(a=d("sap.fe.controls.shortcuts.ShortcutExplanationProvider"),a(c=(p=function(o){function n(){var e;for(var t=arguments.length,n=new Array(t),s=0;s<t;s++){n[s]=arguments[s]}e=o.call(this,...n)||this;e._popupIdx=0;return e}u=n;l(n,o);var a=n.prototype;a.getShellDialogContent=function o(){const n=620;let s=window.screenLeft+window.outerWidth;if(s+n>window.screen.availWidth){s=window.screen.availWidth-n}let i=r.getTheme();i=this._sanitizeTheme(i);const a=sap.ui.require.toUrl("sap/fe/controls/shortcuts/popup/index.html");const c=window.location.protocol+"//"+window.location.host;const p="?sap-ui-xx-shortcut-origin="+t(c)+"&sap-ui-theme="+i;const u=window.open(a+p,"_blank",`popup,toolbar=no,menubar=no,scrollbars=no,location=no,width=${n},height=550,top=${window.screenTop},left=${s}`);if(u){const t=e=>{if(c===e.origin){const o=e?.data;if(o.service==="sap.ui.interaction.MessagePortReady"){const o=e.ports[0];u.postMessage({service:"sap.ui.interaction.MessagePortReady"},a.startsWith("/")?c:a,[o]);window.removeEventListener("message",t)}}};try{u.opener=null}catch(t){e.debug("Cannot set opener to null",t instanceof Error?t.message:String(t))}setTimeout(()=>{window.addEventListener("message",t);window.postMessage({id:"sap.fe.interaction.Popup"+this._popupIdx++,service:"sap.ui.interaction.RequestMessagePort"},c)},1500);window.onunload=function(){u.close()}}};a._sanitizeTheme=function t(o){if(!o.startsWith("sap_")){try{const e=getComputedStyle(document.documentElement);o=e.getPropertyValue("--sapSapThemeId");if(!o){const t=e.getPropertyValue("--sapThemeMetaData-UI5-sap-ui-core");if(t){const e=JSON.parse(t);if(e&&e.Extends&&e.Extends.length>0){o=e.Extends[0]}}}}catch(t){e.info("Cannot get theme from computed styles",t instanceof Error?t.message:String(t));o="sap_horizon"}if(!o||!o.startsWith("sap_")){o="sap_horizon"}}return o};n.getInstance=async function t(){const o=sap.ui.require("sap/ushell/Container");let s;try{if(o&&!this.instance){this.instancePromise=new Promise(e=>{s=e});const e=await o.getServiceAsync("Extension");if(e){const t=await n.registerUserAction(e);this.instance=t;s(t)}}}catch(t){e.error("Cannot register extension",t instanceof Error?t.message:String(t));s?.(undefined)}return this.instancePromise};n.registerUserAction=async function t(o){try{const e=i.getResourceBundleFor("sap.fe.controls");const t=new n;if(!this.isDialogAdded){this.isDialogAdded=true;const n=await o.createUserAction({text:e.getText("C_SHORTCUT_TITLE"),icon:s.getIconURI("keyboard-and-mouse"),press:()=>{t.getShellDialogContent()}},{controlType:"sap.m.Button"});n.showForAllApps()}return t}catch(t){e.error("Cannot add user action",t instanceof Error?t.message:String(t))}};return n}(n),p.isDialogAdded=false,p))||c);u=f;return u},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/controls/shortcuts/popup/ShortcutTool", ["sap/fe/base/BuildingBlockBase","sap/fe/base/ClassSupport","sap/m/CustomTreeItem","sap/m/FlexBox","sap/m/FormattedText","sap/m/Label","sap/m/Panel","sap/m/SearchField","sap/m/Tree","sap/ui/core/Lib","sap/fe/base/jsx-runtime/jsx","sap/fe/base/jsx-runtime/jsxs"],function(e,t,r,n,s,a,i,o,l,c,u,p){"use strict";var d,f,h,b,m,g,T;var y={};var w=t.defineUI5Class;var C=t.defineReference;function v(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function S(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,x(e,t)}function x(e,t){return x=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},x(e,t)}function F(e,t,r,n,s){var a={};return Object.keys(n).forEach(function(e){a[e]=n[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,n){return n(e,t,r)||r},a),s&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(s):void 0,a.initializer=void 0),void 0===a.initializer?(Object.defineProperty(e,t,a),null):a}function O(e,t){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}function j(e,t){const r=e.split("/");let n=t;r.forEach(e=>{n=n[e]});return n}function A(e,t){const r={};e.forEach(e=>{if(!r[e.label]){r[e.label]=[]}e.nodes.filter(e=>e.label.toLowerCase().includes(t.toLowerCase())).forEach(t=>{if(!r[e.label].some(e=>e.label===t.label)){r[e.label].push(t)}})});return Object.entries(r).map(e=>{let[t,r]=e;return{label:t,nodes:r}})}function B(e,t){switch(e.trim()){case"ArrowDown":return"↓";case"ArrowUp":return"↑";case"ArrowLeft":return"←";case"ArrowRight":return"→";default:return t}}let E=(d=w("sap.fe.controls.shortcuts.popup.ShortcutTool"),f=C(),h=C(),d(b=(m=function(e){function t(){var t;t=e.call(this)||this;t.resourceBundle=c.getResourceBundleFor("sap.fe.controls");v(t,"$searchField",g,t);v(t,"$tree",T,t);t.state.shortcutsTree=[];t.state.originalTree=[];t.content=t.createContent();t.state.initialFocus=true;t.$searchField.current?.addEventDelegate({onAfterRendering:()=>{if(t.state.initialFocus){t.$searchField.current?.focus();t.state.initialFocus=false}}});if(window.messagePort){t.setupPort(window.messagePort)}return t}y=t;S(t,e);var d=t.prototype;d.setupPort=function e(t){t.onmessage=this.onMessageReceived.bind(this);t.postMessage({service:"sap.ui.interaction.StopDisplay"});t.postMessage({service:"sap.ui.interaction.StartDisplay"})};d.onMessageReceived=function e(t){if(t?.data?.service==="sap.ui.interaction.UpdateDisplay"){const e=t.data.payload.elements;e.reverse();this.state.originalTree=e.map(e=>{const r=[];e.interactions.forEach(e=>{if(e.$ref){const n=j(e.$ref,t.data.payload);n?.forEach(e=>{r.push({label:e.description.replaceAll("<kbd","<strong").replaceAll("</kbd>","</strong>"),shortcutKeys:e.kbd})})}else{r.push({label:(e.description??e.name).replaceAll("<kbd","<strong").replaceAll("</kbd>","</strong>"),shortcutKeys:e.kbd})}});return{label:e.label.replaceAll("<kbd","<strong").replaceAll("</kbd>","</strong>"),nodes:r}})}this.state.shortcutsTree=A(this.state.originalTree.concat(),"")};d.onStateChange=function e(){this.$tree.current?.expandToLevel(1)};d.onSearch=function e(t){const r=t.getParameter("query")??"";this.state.shortcutsTree=A(this.state.originalTree.filter(e=>{const t=e.label.toLowerCase().includes(r.toLowerCase());const n=e.nodes.some(e=>e.label.toLowerCase().includes(r.toLowerCase()));return t||n}).concat(),r)};d.createContent=function e(){return u(i,{headerText:this.resourceBundle.getText("C_SHORTCUT_TITLE"),width:"100%",children:{content:[u(o,{ref:this.$searchField,placeholder:this.resourceBundle.getText("C_SHORTCUT_PLACEHOLDER"),search:e=>this.onSearch(e)}),u(l,{ref:this.$tree,items:{model:"$componentState",path:"/shortcutsTree",parameters:{arrayNames:["nodes"]}},noDataText:this.resourceBundle.getText("C_SHORTCUT_NODATA"),children:u(r,{children:p(n,{alignItems:"Start",width:"100%",renderType:"Bare",justifyContent:"SpaceBetween",children:[u(s,{htmlText:this.state.shortcutsTree.label,class:"sapFeControlsShorcutMFT"}),u(n,{renderType:"Bare",justifyContent:"SpaceBetween",items:"{$componentState>shortcutKeys}",direction:"Column",children:{items:function(e,t){const r=t.getObject();const s=typeof r==="string"?r:r.raw;const i=typeof r==="string"?r:r.translated;const o=s.split("+");const l=i.split("+");const c=[];o.forEach((e,t)=>{const r=l[t]??e;c.push(u(a,{text:B(e,r),class:"sapUiTinyMarginEnd sapFeControlsShortcutKey"}));if(t!==o.length-1){c.push(u(a,{text:"+",class:"sapUiTinyMarginEnd"}))}});return u(n,{id:e,renderType:"Bare",alignItems:"Center",children:{items:c}})}}})]})})})]}})};return t}(e),g=F(m.prototype,"$searchField",[f],{configurable:true,enumerable:true,writable:true,initializer:null}),T=F(m.prototype,"$tree",[h],{configurable:true,enumerable:true,writable:true,initializer:null}),m))||b);y=E;return y},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/ActionRuntime", ["sap/base/util/merge","sap/fe/base/BindingToolkit","sap/fe/core/CommonUtils","sap/fe/core/helpers/ModelHelper","sap/fe/core/helpers/TypeGuards","sap/ui/core/Messaging","sap/ui/core/message/Message","sap/ui/core/message/MessageType","./controls/AnyElement","./converters/ConverterContext","./converters/objectPage/HeaderAndFooterAction"],function(e,t,n,o,i,a,s,r,l,c,d){"use strict";var g=d.getHiddenExpression;var f=d.getEditButtonEnabled;var p=i.isEntitySet;var u=t.transformRecursively;var b=t.equal;var y=t.constant;var A=t.compileExpression;function m(e,t,n){e.setProperty(`dynamicActions/${t}/aApplicable`,[]);e.setProperty(`dynamicActions/${t}/aNotApplicable`,[]);if(n){e.setProperty(`dynamicActions/${t}/bEnabledForContextMenu`,false)}else{e.setProperty(`dynamicActions/${t}/bEnabled`,false)}}function P(e,t,o,i){e.setProperty(`dynamicActions/${t}`,{bEnabled:false,aApplicable:[],aNotApplicable:[]});o.push(n.setContextsBasedOnOperationAvailable(e,[],i).then(()=>[]))}function E(e,t,o,i){o.push(n.setContextsBasedOnOperationAvailable(e,t,i).then(()=>[]))}function h(e,t,n,o,i,a,s){if(!e.length){P(t,n,s,a)}else if(e.length&&typeof o==="string"){E(t,i,s,a)}}const x={_addMessageForActionParameter:function(e){a.addMessages(e.map(e=>{const t=e.actionParameterInfo.field.getBinding(e.actionParameterInfo.isMultiValue?"items":"value");return new s({message:e.message,type:r.Error,processor:t?.getModel()??undefined,persistent:true,target:t?.getResolvedPath()})}))},validateProperties:async function(e,t){await Promise.allSettled(e.map(e=>e.validationPromise));const n=e.filter(e=>e.field.getRequired&&e.field.getRequired());const o=a.getMessageModel().getData();const i=n.filter(e=>{const t=e.field.getId();const n=o.filter(e=>e.getControlIds().some(e=>e.includes(t)));if(n.length>0){return false}else if(e.isMultiValue){return e.value===undefined||!e.value.length}else{const t=e.field.getValue();const n=Array.isArray(e.field.getValue());if(n){return t[0]===null||t[0]===""}return t===undefined||t===null||t===""}});if(i.length){this._addMessageForActionParameter(i.map(e=>({actionParameterInfo:e,message:t.getText("C_OPERATIONS_ACTION_PARAMETER_DIALOG_MISSING_MANDATORY_MSG",[(e.field.getParent()?.getAggregation("label")).getText()])})))}const s=e.find(e=>e.field.getVisible()&&(e.hasError||e.field.getValueState()==="Error"||i.includes(e)));if(s){s.field.setVisible(true);s.field.focus();return false}else{return true}},setActionEnablement:async function(e,t,n,o){let i=arguments.length>4&&arguments[4]!==undefined?arguments[4]:false;const a=[];for(const s in t){let r=[];e.setProperty(s,false);if(o==="table"){m(e,s,i)}const l=t[s];for(const t of n){if(t){const n=t.getObject();if(o==="chart"){if(l===null&&!!n[`#${s}`]||t.getObject(l)){e.setProperty(s,true);break}}else if(o==="table"){r=this._setActionEnablementForTable(t,e,s,l,r,i)}}}if(o==="table"){h(n,e,s,l,r,i,a)}}if(n.length>0){const t=e.getProperty("selectedContexts")||[];e.setProperty("selectedContexts",[]);e.setProperty("selectedContexts",t)}return Promise.all(a).then(e=>e.flat())},setActionEnablementAfterPatch:function(e,t,n){const o=n?.getObject();const i=o?.controls||{};for(const n in i){if(i[n]&&i[n].controlId){const o=e.byId(n);if(o&&o.isA("sap.ui.mdc.Table")){const e=o.getRowBinding();if(e==t){const e=o.getParent();x.setActionEnablement(o.getBindingContext("internal"),JSON.parse(e.tableDefinition.operationAvailableMap),o.getSelectedContexts(),"table")}}}}},updateEditButtonVisibilityAndEnablement(t){const i=t.getViewData()?.viewLevel,a=n.getIsEditable(t);if(i>1&&a!==true){const i=t.getBindingContext();const a=n.getAppComponent(t);const s=o.getMetaPathForContext(i);const r=o.getRootEntitySetPath(s);const l=i?.getModel().getMetaModel()?.getContext(i?.getPath());const d=c?.createConverterContextForMacro(r,l,a.getDiagnostics(),e);const u=d.getEntitySet();const y=d.getEntityType();let m;const P=p(u)&&u.annotations.UI?.UpdateHidden?.valueOf();if(P!==true){m=o.isUpdateHidden(u,y)}const E=f(d);const h=o.getDraftRootPath(i);const x=o.getStickyRootPath(i);const C=h||x;const M=t.getBindingContext("internal");if(C){const e=t.getModel().bindContext(C).getBoundContext();if(m!==undefined){const n=A(b(g(d,m),false));this.updateEditModelContext(n,t,e,"rootEditVisible",M)}if(E){this.updateEditModelContext(E,t,e,"rootEditEnabled",M)}}}},updateEditModelContext:function(e,t,n,o,i){if(e){const a=new l({anyText:e});a.setBindingContext(null);t.addDependent(a);a.getBinding("anyText");const s=a.getModel()?.bindContext(n.getPath(),n,{$$groupId:"$auto.Heroes"})?.getBoundContext();a.setBindingContext(s);a?.getBinding("anyText")?.attachChange(e=>{const t=e.getSource().getExternalValue();i.setProperty(o,t)})}},_setActionEnablementForTable:function(e,t,o,i,a){let s=arguments.length>5&&arguments[5]!==undefined?arguments[5]:false;const r=s?"bEnabledForContextMenu":"bEnabled",l=t.getProperty(`dynamicActions/${o}/aApplicable`)||[],c=t.getProperty(`dynamicActions/${o}/aNotApplicable`)||[];let d=t.getProperty(`dynamicActions/${o}/${r}`)||false;if(!s){t.setProperty(`dynamicActions/${o}`,{bEnabled:false,aApplicable:[],aNotApplicable:[]})}else{t.setProperty(`dynamicActions/${o}`,{bEnabled:t.getProperty(`dynamicActions/${o}/bEnabled`),aApplicable:t.getProperty(`dynamicActions/${o}/aApplicable`),aNotApplicable:t.getProperty(`dynamicActions/${o}/aNotApplicable`),bEnabledForContextMenu:false,aApplicableForContextMenu:[],aNotApplicableForContextMenu:[]})}const g=`${t.getPath()}/dynamicActions/${o}/${r}`;if(typeof i==="object"&&i!==null&&i!==undefined){if(e){const n=e.getObject();const o=u(i,"PathInModel",function(e){return n?y(n[e.path]):y(false)},true);const a=A(o);d=d||a==="true";t.getModel().setProperty(g,d);(a==="true"?l:c).push(e)}n.setDynamicActionContexts(t,o,l,c,s)}else{const s=e?.getObject();if(i===null&&!!s[`#${o}`]){t.getModel().setProperty(g,true)}else if(e!==undefined){a.push(n.requestProperty(e,o,i,g))}}return a}};return x},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/AppComponent", ["sap/base/Log","sap/fe/base/ClassSupport","sap/fe/core/AppStateHandler","sap/fe/core/controllerextensions/routing/RouterProxy","sap/fe/core/helpers/HTTP503Handler","sap/fe/core/helpers/ModelHelper","sap/fe/core/helpers/PromiseKeeper","sap/fe/core/library","sap/fe/core/manifestMerger/ChangePageConfiguration","sap/fe/core/support/Diagnostics","sap/m/routing/Router","sap/ui/core/Lib","sap/ui/core/UIComponent","sap/ui/model/json/JSONModel","sap/ui/model/odata/type/Currency","sap/ui/model/odata/type/Unit","./controllerextensions/BusyLocker","./converters/MetaModelConverter","./helpers/ResourceModelHelper"],function(e,t,i,r,o,n,a,s,c,l,u,f,d,p,g,h,C,v,S){"use strict";var m,R,y,M,N,A;var E=S.getResourceModel;var b=v.deleteModelCacheData;var w=c.changeConfiguration;var I=t.implementInterface;var _=t.defineUI5Class;function P(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function V(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,T(e,t)}function T(e,t){return T=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},T(e,t)}function O(e,t,i,r,o){var n={};return Object.keys(r).forEach(function(e){n[e]=r[e]}),n.enumerable=!!n.enumerable,n.configurable=!!n.configurable,("value"in n||n.initializer)&&(n.writable=!0),n=i.slice().reverse().reduce(function(i,r){return r(e,t,i)||i},n),o&&void 0!==n.initializer&&(n.value=n.initializer?n.initializer.call(o):void 0,n.initializer=void 0),void 0===n.initializer?(Object.defineProperty(e,t,n),null):n}function F(e,t){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}const H=s.StartupMode;const L={FCL:{VIEWNAME:"sap.fe.core.rootView.Fcl",VIEWNAME_COMPATIBILITY:"sap.fe.templates.RootContainer.view.Fcl",ROUTERCLASS:"sap.f.routing.Router"},NAVCONTAINER:{VIEWNAME:"sap.fe.core.rootView.NavContainer",VIEWNAME_COMPATIBILITY:"sap.fe.templates.RootContainer.view.NavContainer",ROUTERCLASS:"sap.m.routing.Router"}};const k=u;let D=(m=_("sap.fe.core.AppComponent",{config:{fullWidth:true},manifest:{_version:"2.0.0","sap.ui5":{services:{viewPreloaderService:{factoryName:"sap.fe.core.services.ViewPreloaderService",startup:"waitFor"},resourceModel:{factoryName:"sap.fe.core.services.ResourceModelService",startup:"waitFor",settings:{bundles:["sap.fe.core.messagebundle"],modelName:"sap.fe.i18n"}},routingService:{factoryName:"sap.fe.core.services.RoutingService",startup:"waitFor"},shellServices:{factoryName:"sap.fe.core.services.ShellServices",startup:"waitFor"},ShellUIService:{factoryName:"sap.ushell.ui5service.ShellUIService"},navigationService:{factoryName:"sap.fe.core.services.NavigationService",startup:"waitFor"},environmentCapabilities:{factoryName:"sap.fe.core.services.EnvironmentService",startup:"waitFor"},sideEffectsService:{factoryName:"sap.fe.core.services.SideEffectsService",startup:"waitFor"},asyncComponentService:{factoryName:"sap.fe.core.services.AsyncComponentService",startup:"waitFor"},collaborationManagerService:{factoryName:"sap.fe.core.services.CollaborationManagerService",startup:"waitFor"},collaborativeToolsService:{factoryName:"sap.fe.core.services.CollaborativeToolsService",startup:"waitFor"},telemetryService:{factoryName:"sap.fe.core.services.TelemetryService",startup:"waitFor"},valueHelpHistoryService:{factoryName:"sap.fe.core.services.ValueHelpHistoryService",startup:"waitFor"},CollaborativeDraftService:{factoryName:"sap.fe.core.services.CollaborativeDraftService",startup:"waitFor"},ContextSharingService:{factoryName:"sap.fe.core.services.ContextSharingService",startup:"waitFor"},inlineEditService:{factoryName:"sap.fe.core.services.InlineEditService",startup:"waitFor"}},rootView:{viewName:L.NAVCONTAINER.VIEWNAME,id:"appRootView"},routing:{config:{controlId:"appContent",routerClass:L.NAVCONTAINER.ROUTERCLASS,viewType:"XML",controlAggregation:"pages",containerOptions:{propagateModel:true}}}}},designtime:"sap/fe/core/designtime/AppComponent.designtime",library:"sap.fe.core"}),R=I("sap.ui.core.IAsyncContentCreation"),m(y=(M=(A=function(t){function c(){var e;for(var i=arguments.length,r=new Array(i),o=0;o<i;o++){r[o]=arguments[o]}e=t.call(this,...r)||this;P(e,"__implements__sap_ui_core_IAsyncContentCreation",N,e);e.additionalConfiguration={};e.startupMode=H.Normal;e._startedServices=[];e.isAdaptationEnabled=false;e.isExiting=false;e.pageConfigurationChanges={};e.suspended=false;e.discardPromise=Promise.resolve();return e}V(c,t);var u=c.prototype;u.getAdditionalConfiguration=function e(){return this.additionalConfiguration};u._isFclEnabled=function e(){const t=this.getManifestEntry("sap.ui5");return t?.routing?.config?.routerClass===L.FCL.ROUTERCLASS};u.setAdaptationMode=function e(t){this.isAdaptationEnabled=t};u.isAdaptationMode=function e(){return this.isAdaptationEnabled};c.registerConfigurationHandlers=function e(t){this.configurationHandlers.push(t)};u.initializeFeatureToggles=async function e(){return Promise.resolve()};u.changePageConfiguration=function e(t,i,r){const o=w(this.getManifest(),t,i,r,true,this);if(i==="app/disableInputAssistance"&&o?.["sap.fe"]?.["app"]?.["disableInputAssistance"]===r){this.getEnvironmentCapabilities().setCapability("DisableInputAssistance",r)}};u.cleanPageConfigurationChanges=function e(){this.pageConfigurationChanges={}};u.getRouterProxy=function e(){return this._oRouterProxy};u.getAppStateHandler=function e(){return this._oAppStateHandler};u.getRootViewController=function e(){return this.getRootControl().getController()};u.getRootContainer=function e(){return this.getRootControl().getContent()[0]};u.getStartupMode=function e(){return this.startupMode};u.setStartupModeCreate=function e(){this.startupMode=H.Create};u.setStartupModeAutoCreate=function e(){this.startupMode=H.AutoCreate};u.setStartupModeDeeplink=function e(){this.startupMode=H.Deeplink};u.init=function e(){const o=new URLSearchParams(window.location.search);if(o.has("sap-ui-xx-fe-support")){setTimeout(function(){f.load({name:"sap.fe.tools"})},2e3)}this._initializedKeeper=new a;this.initialized=this._initializedKeeper.promise;const u=new p({editMode:s.EditMode.Display,isEditable:false,draftStatus:s.DraftStatus.Clear,busy:false,busyLocal:{},pages:{}});const d=new p({pages:{}});u.setDefaultBindingMode("OneWay");n.enhanceUiJSONModel(u,s);n.enhanceInternalJSONModel(d);this.setModel(u,"ui");this.setModel(d,"internal");this.bInitializeRouting=this.bInitializeRouting!==undefined?this.bInitializeRouting:true;this._oRouterProxy=new r;this._oAppStateHandler=new i(this);this._oDiagnostics=new l;const g=this.getModel();if(g?.isA?.("sap.ui.model.odata.v4.ODataModel")){n.enhanceODataModel(g,this);g.setRetryAfterHandler(this.http503RetryHandler.bind(this));this.entityContainer=g.getMetaModel().requestObject("/$EntityContainer/")}else{this.entityContainer=Promise.resolve()}if(this.getManifestEntry("sap.fe")?.app?.disableCollaborationDraft){n.disableCollaborationDraft=true}const h=this.getManifest()["sap.ui5"];this.checkRoutingConfiguration(h);c._customManifestChecks.forEach(e=>e.call(this,h));t.prototype.init.call(this);c.instanceMap[this.getId()]=this};u.http503RetryHandler=async function e(t){return o.handle503Delay(t,this.getRootControl(),E(this))};u.checkRoutingConfiguration=function t(i){if(i?.rootView?.viewName){if(i.rootView.viewName===L.FCL.VIEWNAME_COMPATIBILITY){i.rootView.viewName=L.FCL.VIEWNAME}else if(i.rootView.viewName===L.NAVCONTAINER.VIEWNAME_COMPATIBILITY){i.rootView.viewName=L.NAVCONTAINER.VIEWNAME}if(i.rootView.viewName===L.FCL.VIEWNAME&&i.routing?.config?.routerClass===L.FCL.ROUTERCLASS){e.info(`Rootcontainer: "${L.FCL.VIEWNAME}" - Routerclass: "${L.FCL.ROUTERCLASS}"`)}else if(i.rootView.viewName===L.NAVCONTAINER.VIEWNAME&&i.routing?.config?.routerClass===L.NAVCONTAINER.ROUTERCLASS){e.info(`Rootcontainer: "${L.NAVCONTAINER.VIEWNAME}" - Routerclass: "${L.NAVCONTAINER.ROUTERCLASS}"`)}else if(i.rootView?.viewName?.includes("sap.fe.core.rootView")){throw Error(`\nWrong configuration for the couple (rootView/routerClass) in manifest file.\n`+`Current values are :(${i.rootView.viewName}/${i.routing?.config?.routerClass||"<missing router class>"})\n`+`Expected values are \n`+`\t - (${L.NAVCONTAINER.VIEWNAME}/${L.NAVCONTAINER.ROUTERCLASS})\n`+`\t - (${L.FCL.VIEWNAME}/${L.FCL.ROUTERCLASS})`)}else{e.info(`Rootcontainer: "${i.rootView.viewName}" - Routerclass: "${L.NAVCONTAINER.ROUTERCLASS}"`)}}};u.onServicesStarted=async function t(i){this._startedServices=i;await Promise.all(c.configurationHandlers.map(async e=>e(this.additionalConfiguration)));await this.initializeFeatureToggles();await Promise.allSettled(c.instanceDependentProcesses.map(async e=>e.call(null,this)));const r=()=>{this.entityContainer.then(async()=>{if(this.getRootViewController().attachRouteMatchers){this.getRootViewController().attachRouteMatchers()}this.getRouter().initialize();this.getRouterProxy().init(this,this._isFclEnabled());return this.getValueHelpHistoryService().registerShellHook()}).catch(e=>{const t=f.getResourceBundleFor("sap.fe.core");this.getRootViewController().displayErrorPage(t.getText("C_APP_COMPONENT_SAPFE_APPSTART_TECHNICAL_ISSUES"),{title:t.getText("C_COMMON_SAPFE_ERROR"),description:e.message})})};if(this.bInitializeRouting){return this.getRoutingService().initializeRouting().then(()=>{if(this.getRootViewController()){r()}else{this.getRootControl().attachAfterInit(function(){r()})}this._initializedKeeper.resolve();return}).catch(function(t){e.error(`cannot cannot initialize routing: ${t.toString()}`)})}else{this._initializedKeeper.resolve()}};u.exit=function e(){this._startedServices=[];this._oAppStateHandler.destroy();this._oRouterProxy.destroy();delete this._oAppStateHandler;delete this._oRouterProxy;b(this.getMetaModel());this.getModel("ui").destroy();this.cleanPageConfigurationChanges()};u.getMetaModel=function e(){return this.getModel().getMetaModel()};u.getDiagnostics=function e(){return this._oDiagnostics};u.destroy=function i(r){this.isExiting=true;try{delete c.instanceMap[this.getId()];delete window._routing}catch(t){e.info(t)}const o=this.oModels[undefined];let n;if(o?.oRequestor){n=Object.assign({},o.oRequestor.mHeaders)}this.getRoutingService()?.beforeExit?.();this.unregisterCallbacks();t.prototype.destroy.call(this,r);if(n&&o.oRequestor){o.oRequestor.mHeaders=n}};u.getRoutingService=function e(){return{}};u.getShellServices=function e(){return{}};u.getNavigationService=function e(){return{}};u.getSideEffectsService=function e(){return{}};u.getEnvironmentCapabilities=function e(){return{}};u.getCollaborationManagerService=function e(){return{}};u.getViewPreloaderService=function e(){return{}};u.getCollaborativeToolsService=function e(){return{}};u.getCollaborativeDraftService=function e(){return{}};u.getContextSharingService=function e(){return{}};u.getTelemetryService=function e(){return{}};u.getValueHelpHistoryService=function e(){return{}};u.getInlineEditService=function e(){return{}};u.getStartupParameters=async function e(){const t=this.getComponentData();return Promise.resolve(t&&t.startupParameters||{})};u.restore=function e(){for(const e of this._startedServices){e.onRestore?.()}this.getRootViewController().viewState.onRestore();i.resetVersionActivationStatus();this.suspended=false};u.suspend=function e(){for(const e of this._startedServices){e.onSuspend?.()}this.getRootViewController().viewState.onSuspend();this.suspended=true};u.isSuspended=function e(){return this.suspended};u.isAppComponentBusy=async function e(){return this.discardPromise};u.navigateBasedOnStartupParameter=async function t(i){try{if(!C.isLocked(this.getModel("ui"))){if(!i){i=null}const e=this.getRoutingService();await e._manageDeepLinkStartup(i)}}catch(t){e.error(t);C.unlock(this.getModel("ui"))}};u.isCollaborationManagerServiceEnabled=function e(){return true};c.registerInstanceDependentProcessForStartUp=function e(t){this.instanceDependentProcesses.push(t)};c.registerInitChecks=function e(t){this._customManifestChecks.push(t)};u.registerCallbacks=function e(t,i,r){this.dirtyStateProviderCallback=t;this.getShellServices().registerDirtyStateProvider(t);if(r){this.stickySessionTimeoutCallback=r;this.getModel().attachSessionTimeout(r)}this.discardAfterNavigationCallback=i;this._routeMatchHandler=()=>{if(this.discardAfterNavigationCallback){this.discardPromise=this.discardAfterNavigationCallback()}};this.getRoutingService().attachRouteMatched({},this._routeMatchHandler)};u.unregisterCallbacks=function e(){if(this.dirtyStateProviderCallback){this.getShellServices().deregisterDirtyStateProvider(this.dirtyStateProviderCallback);this.dirtyStateProviderCallback=undefined}if(this.stickySessionTimeoutCallback&&this.getModel()){this.getModel().detachSessionTimeout(this.stickySessionTimeoutCallback);this.stickySessionTimeoutCallback=undefined}if(this._routeMatchHandler){this.getRoutingService().detachRouteMatched(this._routeMatchHandler);this._routeMatchHandler=undefined;this.discardAfterNavigationCallback=undefined}};u._isEmbedded=function e(){return!!this.getComponentData().feEnvironment};return c}(d),A.instanceMap={},A.configurationHandlers=[],A.instanceDependentProcesses=[],A._customManifestChecks=[],A),N=O(M.prototype,"__implements__sap_ui_core_IAsyncContentCreation",[R],{configurable:true,enumerable:true,writable:true,initializer:function(){return true}}),M))||y);return D},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/AppStateHandler", ["sap/base/Log","sap/base/util/deepEqual","sap/fe/base/ClassSupport","sap/fe/core/helpers/ToES6Promise","sap/fe/navigation/library","sap/ui/base/Object","./controllerextensions/BusyLocker","./helpers/ModelHelper"],function(t,e,n,a,o,i,r,s){"use strict";var p,c,u;var l=n.defineUI5Class;function f(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,S(t,e)}function S(t,e){return S=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},S(t,e)}const h=o.NavType;const A="skipMerge";const g="REPLACE_COMPLETE_APPSTATE";let d=(p=l("sap.fe.core.AppStateHandler"),p(c=(u=function(n){function o(e){var a;a=n.call(this)||this;a._mCurrentAppState={};a.oAppComponent=e;a.sId=`${e.getId()}/AppStateHandler`;a.simultaneousCreateRequest={};a.bNoRouteChange=false;t.info("APPSTATE : Appstate handler initialized");return a}f(o,n);var i=o.prototype;i.getId=function t(){return this.sId};i._getInnerAppStateForView=function t(e,n){if(n===g||!e){return e}return{[n]:e[n]||{}}};i._addAppStateInHash=function e(n,a){const o=this.oAppComponent,i=o.getNavigationService(),r=o.getRouterProxy(),p=r.getHash(),c=s.isStickySessionSupported(o.getMetaModel()),u=i.replaceInnerAppStateKey(r.getHash(),n);if(u&&this.simultaneousCreateRequest[a]===0&&u!==p){r.navToHash(u,undefined,undefined,undefined,!c);this.bNoRouteChange=true}t.info("APPSTATE: navToHash")};i._createAppStateKey=async function e(n,a){const o=this.oAppComponent,i=o.getNavigationService();if(this.simultaneousCreateRequest[a]){this.simultaneousCreateRequest[a]++}else{this.simultaneousCreateRequest[a]=1}const r=await i.storeInnerAppStateAsync(n,true,true);this.simultaneousCreateRequest[a]--;t.info("APPSTATE: Appstate stored");return r};i._getAppStateInfo=async function n(a,o){const i=this.oAppComponent;const{replaceHash:r=true,viewId:s=g}=o??{};let p=null;let c={appState:this._mCurrentAppState};const u=this._getInnerAppStateForView(this._mCurrentAppState,s);if(a&&!e(u,a)){this._mCurrentAppState={...this._mCurrentAppState,...a};c={appState:this._mCurrentAppState};try{p=await this._createAppStateKey(c,s);if(r===true){this._addAppStateInHash(p,s)}}catch(e){t.error(e)}}else{const t=i.getRouterProxy(),e=t.getHash();p=t.findAppStateInHash(e)}return{appStateData:c,appStateKey:p}};i.createAppState=async function t(e){const n=this.oAppComponent;if(!n.getEnvironmentCapabilities().getCapabilities().AppState||r.isLocked(this)){return}const{skipMerge:a=false,viewId:o=g}=e??{},i=n.getRootControl().getController();if(!i.viewState){throw new Error(`viewState controller extension not available for controller: ${i.getMetadata().getName()}`)}await i.routingIsComplete();let s=await i.viewState.retrieveViewState();s=this._getInnerAppStateForView(s,o);if(a){s={...s,...{skipMerge:a}}}return this._getAppStateInfo(s,e)};i._createNavigationParameters=function t(e,n){return Object.assign({},e,{selectionVariantDefaults:e.oDefaultedSelectionVariant,selectionVariant:e.oSelectionVariant,requiresStandardVariant:!e.bNavSelVarHasDefaultsOnly,navigationType:n})};o.setRTAVersionWasActivated=function t(e,n){this.versionActivationStatus[e]=n};o.getRTAVersionWasActivated=function t(e){return this.versionActivationStatus[e]};i._checkIfLastSeenRecord=function t(e){const n=e&&e.getBindingContext("internal");if(n&&n.getProperty("fclColumnClosed")===true){const t=n.getProperty("technicalKeysOfLastSeenRecord");const a=e?.getBindingContext();const o=a&&a.getPath()||"";const i=a?.getModel().getMetaModel();const r=i?.getMetaPath(o);const s=i?.getObject(`${r}/$Type/$Key`);if(s){for(const e of s){const o=a.getObject()[e];if(o!==t[e]){n.setProperty("fclColumnClosed",false);return true}}}}return false};i._getAppStateData=function t(e,n,a){let o="",i=0;const r=a===h.hybrid?e.iAppState:e;if(r?.appState){for(i;i<Object.keys(r.appState).length;i++){if(Object.keys(r.appState)[i]===n){o=Object.keys(r.appState)[i];break}}}if(r?.appState){return{[Object.keys(r.appState)[i]]:r.appState[o]||{}}}};i.applyAppState=async function e(n,i){if(o.getRTAVersionWasActivated(this.oAppComponent.getId())){o.setRTAVersionWasActivated(this.oAppComponent.getId(),false);return Promise.resolve()}if(!this.oAppComponent.getEnvironmentCapabilities().getCapabilities().AppState||r.isLocked(this,n)){return Promise.resolve()}const s=this._checkIfLastSeenRecord(i);if(s===true){return Promise.resolve()}r.lock(this,n);r.lock(this);r.lock(this.oAppComponent.getRootControl());const p=this.oAppComponent.getNavigationService();return a(p.parseNavigation()).catch(function(e){if(!e){e=[]}t.warning("APPSTATE: Parse Navigation failed",e[0]);return[{},e[1],e[2]]}).then(async e=>{t.info("APPSTATE: Parse Navigation done");const a=e[0]||{},o=e[2]||h.initial,i=this.oAppComponent.getRootControl().getController();const r=this._getAppStateData(a,n,o);const s=a?.appState?.[A];this._mCurrentAppState=o===h.iAppState||o===h.hybrid?{...this._mCurrentAppState,...r}:{};let p=true;if(!i.viewState){throw new Error(`viewState extension required for controller ${i.getMetadata().getName()}`)}if(i.viewState._isStateEmptyForIAppStateNavType(a,o)){if(!i.viewState._getInitialStateApplied()){i.viewState._setInitialStateApplied()}p=false}const c=await i.viewState.applyViewState(this._mCurrentAppState,this._createNavigationParameters(a,o),s);if(!p){return{}}else{return c}}).catch(function(e){t.error("appState could not be applied",e);throw e}).finally(()=>{r.unlock(this,n);r.unlock(this);r.unlock(this.oAppComponent.getRootControl())})};i.checkIfRouteChangedByIApp=function t(){return this.bNoRouteChange};i.resetRouteChangedByIApp=function t(){if(this.bNoRouteChange){this.bNoRouteChange=false}};o.resetVersionActivationStatus=function t(){for(const t in this.versionActivationStatus){if(Object.prototype.hasOwnProperty.call(this.versionActivationStatus,t)){this.versionActivationStatus[t]=false}}};return o}(i),u.versionActivationStatus={},u))||c);return d},true);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/BaseController", ["sap/fe/base/ClassSupport","sap/fe/core/CommonUtils","sap/ui/core/mvc/Controller"],function(e,t,o){"use strict";var n,i,r,p;var u=e.publicExtension;var c=e.defineUI5Class;function l(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,s(e,t)}function s(e,t){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},s(e,t)}function a(e,t,o,n,i){var r={};return Object.keys(n).forEach(function(e){r[e]=n[e]}),r.enumerable=!!r.enumerable,r.configurable=!!r.configurable,("value"in r||r.initializer)&&(r.writable=!0),r=o.slice().reverse().reduce(function(o,n){return n(e,t,o)||o},r),i&&void 0!==r.initializer&&(r.value=r.initializer?r.initializer.call(i):void 0,r.initializer=void 0),void 0===r.initializer?(Object.defineProperty(e,t,r),null):r}let f=(n=c("sap.fe.core.BaseController"),i=u(),n(r=(p=function(e){function o(){return e.apply(this,arguments)||this}l(o,e);var n=o.prototype;n.getAppComponent=function e(){if(!this._oAppComponent){this._oAppComponent=t.getAppComponent(this.getView())}return this._oAppComponent};n.getModel=function e(t){return this.getView().getModel(t)};n.setModel=function e(t,o){return this.getView().setModel(t,o)};n.getResourceBundle=function e(t){if(!t){t="i18n"}return this.getAppComponent().getModel(t).getResourceBundle()};return o}(o),a(p.prototype,"getAppComponent",[i],Object.getOwnPropertyDescriptor(p.prototype,"getAppComponent"),p.prototype),p))||r);return f},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/CommonUtils", ["sap/base/Log","sap/base/util/array/uniqueSort","sap/base/util/merge","sap/fe/core/converters/ConverterContext","sap/fe/core/converters/MetaModelConverter","sap/fe/core/helpers/ModelHelper","sap/fe/core/helpers/StableIdHelper","sap/fe/core/helpers/TypeGuards","sap/ui/Device","sap/ui/core/Component","sap/ui/core/Fragment","sap/ui/core/XMLTemplateProcessor","sap/ui/core/util/XMLPreprocessor","sap/ui/model/Filter","./controls/AnyElement","./converters/helpers/SelectionVariantHelper","./helpers/MetaModelFunction"],function(e,t,n,o,i,r,s,a,c,l,u,p,f,g,d,m,b){"use strict";function P(e){return new Promise((t,n)=>{sap.ui.require([e],n=>{if(!(n&&n.__esModule)){n=n===null||!(typeof n==="object"&&e.endsWith("/library"))?{default:n}:n;Object.defineProperty(n,"__esModule",{value:true})}t(n)},e=>{n(e)})})}var h=m.getRangeDefinition;var y=a.isAnnotationOfType;var v=s.generate;function O(e){if(!e){return undefined}if(e==="OR"){return'"'+e+'"'}const t=e.replace(/["();]/g," ");if(t===""||t===" "){return undefined}return t}async function C(e){const t=e.getModel();const n=t.getMetaModel();const o=n.getMetaPath(e.getPath());const r=i.getInvolvedDataModelObjects(n.getContext(o));await e.requestProperty(r.targetEntityType.keys[0]?.name)}function x(e){let t=false;if(e){e.getCurrentContexts().forEach(function(e){if(e&&e.isTransient()){t=true}})}return t}async function A(e,t,n,o){return e.getLinks([{semanticObject:n,params:o}])}function S(e){const t=[];const n=Object.keys(e);let o;for(const i of n){o={LocalProperty:{$PropertyPath:i},SemanticObjectProperty:e[i]};t.push(o)}return t}function j(e,t,n,o,i){for(const r of e){for(const e of r){const r=e.intent;const s=r.split("-")[1].split("?")[0];if(i&&i.includes(s)||!i&&t&&!t.includes(s)){o.push({text:e.text,targetSemObject:r.split("#")[1].split("-")[0],targetAction:s.split("~")[0],targetParams:n})}}}}function $(e,t,n,o){if(o&&o.length>0){const i=e.allowedActions||undefined;const r=e.unavailableActions?e.unavailableActions:[];const s=e.mapping?S(e.mapping):[];const a={navigationContexts:t,semanticObjectMapping:s};j(o,r,a,n,i)}}function E(e,t,n,o){if(o.length>0){const i=[e.action];const r=[];const s=[];const a={navigationContexts:t,semanticObjectMapping:s};j(o,r,a,n,i)}}async function M(t,n,o,i,r,s,a){const c=a.getShellServices();const l={};let u="",p="";let f;let g=[];let d=[];let m;async function b(){const e=c.parseShellHash(document.location.hash);u=e.semanticObject;p=e.action;return A(c,o,u,l)}try{if(n){if(i&&i.length>0){for(const e of i){const t=e.$PropertyPath;if(!l[t]){l[t]={value:n[t]}}}}else{const e=r.getObject(`${s}/$Type/$Key`);for(const t in e){const o=e[t];if(!l[o]){l[o]={value:n[o]}}}}}const e=I(o).getViewData();const P=[];let h;if(e.additionalSemanticObjects){m=Object.keys(e.additionalSemanticObjects);for(const n of m){h=await Promise.resolve(A(c,o,n,l));$(e.additionalSemanticObjects[n],t,P,h)}}const y=[];const v=a.getComponentData();if(v.feEnvironment&&v.feEnvironment.getIntent()){const e=v.feEnvironment.getIntent();h=await Promise.resolve(A(c,o,e.semanticObject,l));E(e,t,y,h)}const O=o.getBindingContext("internal");const C=await b();if(C){if(C.length>0){let n=false;const o={};const i=[];const a=`${s}@`;const c=`${s}/@`;const l=r.getObject(a);f=xe.getSemanticObjectAnnotations(l,u);if(!f.bHasEntitySetSO){const e=r.getObject(c);f=xe.getSemanticObjectAnnotations(e,u)}d=f.aUnavailableActions;d.push(p);o.navigationContexts=t;o.semanticObjectMapping=f.aMappings;j(C,d,o,i);P.forEach(function(e){let{targetSemObject:t}=e;if(i[0]?.targetSemObject===t){n=true}});if(e.additionalSemanticObjects&&i[0]&&e.additionalSemanticObjects[i[0].targetSemObject]&&!!e.additionalSemanticObjects[i[0].targetSemObject].allowedActions){n=true}const m=P.concat(y);g=n?m:m.concat(i);O.setProperty("relatedApps/visibility",g.length>0);O.setProperty("relatedApps/items",g)}else{O.setProperty("relatedApps/visibility",false)}}else{O.setProperty("relatedApps/visibility",false)}}catch(t){e.error("Cannot read links",t)}return g}function w(e,t){const n={bHasEntitySetSO:false,aAllowedActions:[],aUnavailableActions:[],aMappings:[]};let o,i;let r;for(const s in e){if(s.includes("com.sap.vocabularies.Common.v1.SemanticObject")&&e[s]===t){n.bHasEntitySetSO=true;o=`@${"com.sap.vocabularies.Common.v1.SemanticObjectMapping"}`;i=`@${"com.sap.vocabularies.Common.v1.SemanticObjectUnavailableActions"}`;if(s.includes("#")){r=s.split("#")[1];o=`${o}#${r}`;i=`${i}#${r}`}if(e[o]){n.aMappings=n.aMappings.concat(e[o])}if(e[i]){n.aUnavailableActions=n.aUnavailableActions.concat(e[i])}break}}return n}async function F(t,n){const o=t.getModel().getMetaModel();const i=t.getBindingContext();const r=i&&i.getPath()||"";const s=o.getMetaPath(r);const a=`${s}/`+`@com.sap.vocabularies.Common.v1.SemanticKey`;const c=o.getObject(a);const l=i?.getObject();if(!l&&i){i.requestObject().then(async function(e){return xe.updateRelateAppsModel(i,e,t,c,o,s,n)}).catch(function(t){e.error("Cannot update the related app details",t)})}else{return xe.updateRelateAppsModel(i,l,t,c,o,s,n)}}function R(e){if(e&&e.isA(["sap.m.Button","sap.m.OverflowToolbarButton"])&&e.getVisible()&&e.getEnabled()){e.firePress()}}function N(e){if(e.isA("sap.fe.core.AppComponent")){return e}const t=l.getOwnerComponentFor(e);if(!t){throw new Error("There should be a sap.fe.core.AppComponent as owner of the control")}else{return N(t)}}function T(e){const t=e.getRootViewController();return t.isFclEnabled()?t.getRightmostView():xe.getTargetView(e.getRootContainer().getCurrentPage())}function I(e){if(e&&e.isA("sap.ui.core.ComponentContainer")){const t=e.getComponentInstance();e=t&&t.getRootControl()}while(e&&!e.isA("sap.ui.core.mvc.View")){e=e.getParent()}return e}function V(e,t){for(const n in t){if(t[n]!==e[n]){return false}}return true}function D(e,t,n){const o=e.getObject(`${t}/`)||{},i={};for(const e in o){if(o.hasOwnProperty(e)&&!/^\$/i.test(e)&&o[e].$kind&&V(o[e],n||{$kind:"Property"})){i[e]=o[e]}}return i}function B(e,t){const n=e&&e.getActions();if(n){n.forEach(function(e){if(e.isA("sap.ui.mdc.actiontoolbar.ActionToolbarAction")){e=e.getAction()}if(e.isA("sap.m.MenuButton")){const n=e.getMenu();const o=n.getItems();o.forEach(e=>{if(e.data("IBNData")){t.push(e)}})}else if(e.data("IBNData")){t.push(e)}})}return t}async function q(t,n){const o={};const i=xe.getAppComponent(n);const s=r.isStickySessionSupported(n.getModel().getMetaModel());const a=function(n){if(n){const e=Object.keys(n);e.forEach(function(e){if(e.indexOf("_")!==0&&!e.includes("odata.context")){o[e]={value:n[e]}}})}if(t.length){t.forEach(function(t){const n=t.data("IBNData").semanticObject;const r=t.data("IBNData").action;i.getShellServices().getLinks([{semanticObject:n,action:r,params:o}]).then(function(e){if(t.isA("sap.ui.core.Control")||t.isA("sap.m.MenuItem")){t.setVisible(t.getVisible()&&e&&e.length===1&&e[0]&&e[0].length===1)}if(s){t.getBindingContext("internal").setProperty(t.getId().split("--")[1],{shellNavigationNotAvailable:!(e&&e.length===1&&e[0]&&e[0].length===1)})}return}).catch(function(t){e.error("Cannot retrieve the links from the shell service",t)})})}};if(n&&n.getBindingContext()){return n.getBindingContext()?.requestObject().then(function(e){return a(e)}).catch(function(t){e.error("Cannot retrieve the links from the shell service",t)})}else{return a()}}function L(e){const t=[];e.forEach(function(e){if(e.isA("sap.m.MenuItem")){t.push(e.getParent()?.getParent()?.getParent()?.getParent()?.getParent())}});t.forEach(function(e){const t=e?.getMenu().getItems();const n=t.filter(function(e){return e.getVisible()});if(n.length===0){e.setVisible(false)}})}function k(e,t,n,o){const i=!n?e.getObject(e.getPath()).toString():n;let r=e.getPath().split("/@")[0];const s=e.getObject(r).$Type;const a=U(e.getModel(),s);if(a){r=`/${a}`}if(o){return e.getObject(`${r}/${i}@Org.OData.Core.V1.OperationAvailable`)}if(t){return`${r}/${i}`}else{return{sContextPath:r,sProperty:e.getObject(`${r}/${i}@Org.OData.Core.V1.OperationAvailable/$Path`),sBindingParameter:e.getObject(`${r}/${i}/@$ui5.overload/0/$Parameter/0/$Name`)}}}function U(e,t){const n=e.getObject("/");for(const e in n){if(typeof n[e]==="object"&&n[e].$Type===t){return e}}}function H(e,t){const n=e["@com.sap.vocabularies.Common.v1.Text"],o=n&&(e&&e["@com.sap.vocabularies.Common.v1.Text@com.sap.vocabularies.UI.v1.TextArrangement"]||t&&t["@com.sap.vocabularies.UI.v1.TextArrangement"]);if(o){if(o.$EnumMember==="com.sap.vocabularies.UI.v1.TextArrangementType/TextOnly"){return"Description"}else if(o.$EnumMember==="com.sap.vocabularies.UI.v1.TextArrangementType/TextLast"){return"ValueDescription"}else if(o.$EnumMember==="com.sap.vocabularies.UI.v1.TextArrangementType/TextSeparate"){return"Value"}return"DescriptionValue"}return n?"DescriptionValue":"Value"}function _(e){const t=e.getModel().getMetaModel();return t.getObject(`${t.getMetaPath(e.getPath())}/$Type`)}async function G(t,n,o){let i=n;const r=t.indexOf("(");if(r>-1){const n=t.slice(r+1,-1);let o=_(i);while(o!==n){i=i.getBinding().getContext();if(i){o=_(i)}else{e.warning("Cannot determine target type to request property value for bound action invocation");return Promise.resolve(undefined)}}}return i.requestObject(o)}async function W(e,t,n,o){const i=n&&n.indexOf("/")===0?ge(n,e.getModel()):G(t,e,n);return i.then(function(n){return{vPropertyValue:n,oSelectedContext:e,sAction:t,sDynamicActionEnabledPath:o}})}async function X(t,n){let o=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;return Promise.all(n).then(function(e){if(e.length){const n=[],i=[];e.forEach(function(e){if(e){if(e.vPropertyValue){t.getModel().setProperty(e.sDynamicActionEnabledPath,true);n.push(e.oSelectedContext)}else{i.push(e.oSelectedContext)}}});Q(t,e[0].sAction,n,i,o)}return}).catch(function(t){e.trace("Cannot retrieve property value from path",t)})}function Q(e,t,n,o){let i=arguments.length>4&&arguments[4]!==undefined?arguments[4]:false;const r=`${e.getPath()}/dynamicActions/${t}`,s=e.getModel(),a=!i?"aApplicable":"aApplicableForContextMenu",c=!i?"aNotApplicable":"aNotApplicableForContextMenu";s.setProperty(`${r}/${a}`,n);s.setProperty(`${r}/${c}`,o)}function z(e){const t=xe.AllowedExpressionsPrio;e.sort(function(e,n){return t.indexOf(e)-t.indexOf(n)});return e[0]}function J(){const e=["EQ","NE"];return e.toString()}function K(e,t){const n=t.substring(0,t.lastIndexOf("/"));const o=e.getObject(`${n}/@com.sap.vocabularies.Common.v1.ResultContext`);const i={};if(o&&n!==t){i.contextPath=n;i.parameterProperties=xe.getContextPathProperties(e,n)}return i}function Y(e,t,n){const o=xe.getAppComponent(n);const i=o.getNavigationService();return i.mixAttributesAndSelectionVariant(t,e.toJSONString())}function Z(e){const t=r.isStickySessionSupported(e.getModel().getMetaModel());const n=xe.getIsEditable(e);return t&&n}async function ee(e,t,n,o,i,r){const s=(await P("sap/ui/mdc/enums/BaseType")).default;const a=(await P("sap/ui/mdc/odata/v4/TypeMap")).default;const c=e.getComponentData(),l=c&&c.startupParameters||{},u=e.getShellServices();const p=await u.getStartupAppState(e);const f=p?.getData()||{},g=f.selectionVariant&&f.selectionVariant.SelectOptions||[];t.forEach(function(e){const t=o?`/${e.name}`:e.getPath?.().slice(e.getPath().lastIndexOf("/")+1);const c=o?t.slice(1):t;if(r&&i){if(r[c]){n.setProperty(t,r[c])}}else if(l[c]){const o=e.type?a.getBaseType(e.type):s.String;const i=a.getDataTypeInstance(o);n.setProperty(t,i.parseValue(l[c][0],"string"))}else if(g.length>0){for(const e of g){if(e.PropertyName===c){const o=e.Ranges.length?e.Ranges[e.Ranges.length-1]:undefined;if(o&&o.Sign==="I"&&o.Option==="EQ"){n.setProperty(t,o.Low)}}}}})}function te(e,t){const n=t,o=n!==undefined?Object.keys(n).filter(function(e){return n[e].useForCreate}):[];let i;for(const t of o){const n=t;const o=e&&e[n];if(o&&o.length===1){i=i||Object.create(null);i[n]=o[0]}}return i}function ne(e){const t=[];if(e.parameters){const n=Object.keys(e.parameters)||[];if(n.length>0){n.forEach(function(n){const o=e.parameters[n];if(o.value&&o.value.value&&o.value.format==="binding"){const e={LocalProperty:{$PropertyPath:o.value.value},SemanticObjectProperty:n};if(t.length>0){for(const n of t){if(n.LocalProperty?.$PropertyPath!==e.LocalProperty.$PropertyPath){t.push(e)}}}else{t.push(e)}}})}}return t}function oe(t,n){const o={};let i;const r=t.controlConfiguration;for(const t in r){if(t.includes("@com.sap.vocabularies.UI.v1.DataPoint")||t.includes("@com.sap.vocabularies.UI.v1.Chart")){const s=r[t].navigation?.targetOutbound?.outbound;if(s!==undefined){const r=n[s];if(r.semanticObject&&r.action){if(t.includes("Chart")){i=v(["fe","MicroChartLink",t])}else{i=v(["fe","HeaderDPLink",t])}const e=xe.getSemanticObjectMapping(r);o[i]={semanticObject:r.semanticObject,action:r.action,semanticObjectMapping:e}}else{e.error(`Cross navigation outbound is configured without semantic object and action for ${s}`)}}}}return o}function ie(e,t){const n=typeof t==="string"?JSON.parse(t):t;for(const t of n){const n=t["LocalProperty"]&&t["LocalProperty"]["$PropertyPath"]||t["@com.sap.vocabularies.Common.v1.LocalProperty"]&&t["@com.sap.vocabularies.Common.v1.LocalProperty"]["$Path"];const o=t["SemanticObjectProperty"]||t["@com.sap.vocabularies.Common.v1.SemanticObjectProperty"];const i=e.getSelectOption(n);if(i){e.removeSelectOption(n);e.massAddSelectOption(o,i)}}return e}async function re(e,t,n){return new Promise(function(o){let i,r;if(n===""){i=e.getObject(`${t}@${"com.sap.vocabularies.Common.v1.SemanticObject"}`);r=e.getObject(`${t}@${"com.sap.vocabularies.Common.v1.SemanticObjectUnavailableActions"}`)}else{i=e.getObject(`${t}@${"com.sap.vocabularies.Common.v1.SemanticObject"}#${n}`);r=e.getObject(`${t}@${"com.sap.vocabularies.Common.v1.SemanticObjectUnavailableActions"}#${n}`)}const s=[{semanticObject:i}];const a={semanticObject:i};o({semanticObjectPath:t,semanticObjectForGetLinks:s,semanticObject:a,unavailableActions:r})})}async function se(e,t,n){return xe.getSemanticObjectsFromPath(e,t,n)}function ae(e){const t={};if(e&&e.FilterExpressionRestrictions!==undefined){e.FilterExpressionRestrictions.forEach(function(e){if(e.Property&&e.AllowedExpressions!==undefined){if(t[e.Property.$PropertyPath]!==undefined){t[e.Property.$PropertyPath].push(e.AllowedExpressions)}else{t[e.Property.$PropertyPath]=[e.AllowedExpressions]}}})}return t}function ce(e,t){let n=[];if(e&&e[t]){n=e[t].map(function(e){return e.$PropertyPath})}return n}function le(e,t,n){const o=t+"/";return e.reduce((e,t)=>{if(t.startsWith(o)){const n=t.replace(o,"");if(!e.includes(n)){e.push(n)}}return e},n)}function ue(e,o){const i={RequiredProperties:[],NonFilterableProperties:[],FilterAllowedExpressions:{}};let s;const a="$NavigationPropertyBinding";const c="@Org.OData.Capabilities.V1.FilterRestrictions";const l=e.replaceAll("%2F","/").split("/").filter(r.filterOutNavPropBinding);const u=`/${l.join("/")}/`;const p=r.getEntitySetPath(e,o);const f=p.split("/").filter(r.filterOutNavPropBinding);const g=o.getObject(`${u}$ContainsTarget`);const d=!!g&&l[l.length-1];if(!g){s=o.getObject(`${p}${c}`);i.RequiredProperties=ce(s,"RequiredProperties")||[];const e=o.getObject(`${u}@com.sap.vocabularies.Common.v1.ResultContext`);if(!e){i.NonFilterableProperties=ce(s,"NonFilterableProperties")||[]}i.FilterAllowedExpressions=ae(s)||{}}if(l.length>1){const e=g?d:f[f.length-1];const r=g?p:`/${f.slice(0,-1).join(`/${a}/`)}`;const s={RequiredProperties:[],NonFilterableProperties:[],FilterAllowedExpressions:{}};if(!e.includes("%2F")){const t=o.getObject(`${r}${c}`);i.RequiredProperties=le(ce(t,"RequiredProperties")||[],e,i.RequiredProperties||[]);i.NonFilterableProperties=le(ce(t,"NonFilterableProperties")||[],e,i.NonFilterableProperties||[]);const n=ae(t)||{};s.FilterAllowedExpressions=Object.keys(n).reduce((t,o)=>{if(o.startsWith(e+"/")){const i=o.replace(e+"/","");t[i]=n[o]}return t},{})}i.FilterAllowedExpressions=n({},i.FilterAllowedExpressions||{},s.FilterAllowedExpressions||{});const u=b.getNavigationRestrictions(o,r,e.replaceAll("%2F","/"));const m=u&&u["FilterRestrictions"];const P=ce(m,"RequiredProperties")||[];i.RequiredProperties=t(i.RequiredProperties.concat(P));const h=ce(m,"NonFilterableProperties")||[];i.NonFilterableProperties=t(i.NonFilterableProperties.concat(h));i.FilterAllowedExpressions=n({},i.FilterAllowedExpressions||{},ae(m)||{});const y=o.getObject(`/${l.join("/")}${c}`);const v=ce(y,"RequiredProperties")||[];i.RequiredProperties=t(i.RequiredProperties.concat(v));const O=ce(y,"NonFilterableProperties")||[];i.NonFilterableProperties=t(i.NonFilterableProperties.concat(O));i.FilterAllowedExpressions=n({},i.FilterAllowedExpressions,ae(y)||{})}return i}async function pe(e,t,n,o){const i=n||{};if(o&&typeof e==="string"){return o.templateControlFragment(e,t,i.view).then(function(e){return o.targets==="xmlTree"&&e.length>0?e[0]:e})}else{const n=typeof e==="string"?p.loadTemplate(e,"fragment"):e;const o=await f.process(n,{name:e},t);const r=o.firstElementChild;if(!!i.isXML&&r){return r}let s=t.appComponent??{runAsOwner:e=>e()};if(i.containingView){const e=l.getOwnerComponentFor(i.containingView);if(e){s=e}}let a;if(i.view&&!i.controller){a=i.view}return s.runAsOwner(async()=>u.load({id:i.id,type:"SCOPEDFEFRAGMENT",contextPath:i.contextPath,definition:o,controller:i.controller,containingView:a}))}}function fe(e,t){const n=e.split("/").filter(Boolean),o=n.pop(),i=n.join("/"),r=i&&t.getObject(`/${i}`);if(r?.$kind==="Singleton"){const e=n[n.length-1];return`/${e}/${o}`}return undefined}async function ge(e,t){if(!e||!t){return Promise.resolve(null)}const n=t.getMetaModel();const o=fe(e,n);if(o){const e=t.bindProperty(o);return e.requestValue()}return Promise.resolve(null)}function de(e,t){let n;if(e.includes("@$ui5.overload")){n=e.split("@$ui5.overload")[0]}else{const t=e.split("/0")[0].split(".");n=`/${t[t.length-1]}/`}return n+t}function me(e,t){const n=new d({anyText:e});t.addDependent(n);const o=n.getAnyText();t.removeDependent(n);n.destroy();return o}function be(){return!c.system.desktop||c.resize.width<=320}function Pe(e,t){const n=xe.getAppComponent(e).getMetaModel();const o=n.getMetaContext(`${e.data("entityType")}${t}`);const r={};let s=i.getInvolvedDataModelObjects(o).targetObject;if(y(s,"com.sap.vocabularies.UI.v1.SelectionPresentationVariantType")){s=s.SelectionVariant}if(!s||!y(s,"com.sap.vocabularies.UI.v1.SelectionVariantType")){return[]}(s.SelectOptions||[]).forEach(e=>{if(e.PropertyName?.$target&&e.Ranges?.length>0){const t=e.PropertyName.$target.type;const n=e.PropertyName.value;for(const o in e.Ranges){const i=h(e.Ranges[o],t);r[n]=(r[n]??[]).concat(new g(n,i.operator,i.rangeLow,i.rangeHigh))}}});const a=[];for(const e in r){a.push(new g({filters:r[e],and:false}))}return a}function he(e,t,i,r){const s=t.createBindingContext(e);return o?.createConverterContextForMacro(i,s||t,r,n)}async function ye(e,t,n,o){const i=ve(t.getBindingContext(),e,t,n,o,true);if(i.isNew&&i.rootContext!==undefined){await xe.waitForContextRequested(i.rootContext)}return i.rootContext}function ve(e,t,n,o,i){let s=arguments.length>5&&arguments[5]!==undefined?arguments[5]:false;if(e){const a=t==="Draft"?r.getDraftRootPath(e):r.getStickyRootPath(e);let c;if(a){if(e.getPath()===a){return{rootContext:e,isNew:false}}const t=o.getRootViewController().getInstancedViews().find(e=>e.getBindingContext()?.getPath()===a&&e.getBindingContext()?.getObject()!==undefined)?.getBindingContext();if(t){return{rootContext:t,isNew:false}}const r=n.getModel("internal");c=r.getProperty("/simpleRootContext");if(s&&c?.getPath()===a){return{rootContext:c,isNew:false}}const l=e.getModel();c=Oe(l,a,i);if(s){r.setProperty("/simpleRootContext",c)}return{rootContext:c,isNew:true}}}return{rootContext:undefined,isNew:false}}function Oe(e,t,n){const o=r.getMessagesPath(e.getMetaModel(),t);const i={...n??{}};if(o&&(!i.$select||i.$select.includes(o)===false)){const e=i.$select?.split(",")??[];e.push(o);i.$select=e.join(",")}return e.bindContext(t,undefined,i).getBoundContext()}function Ce(e){const t=e.isA("sap.fe.core.PageController")?e.getView():e;return t.getBindingContext("ui")?.getProperty("/isEditable")}const xe={INLINEEDIT_UPDATEGROUPID:"inline",fireButtonPress:R,getTargetView:I,getCurrentPageView:T,hasTransientContext:x,updateRelatedAppsDetails:F,getAppComponent:N,getContextPathProperties:D,getParameterInfo:K,updateDataFieldForIBNButtonsVisibility:q,getEntitySetName:U,getActionPath:k,computeDisplayMode:H,isStickyEditMode:Z,getOperatorsForGuidProperty:J,addPageContextToSelectionVariant:Y,setUserDefaults:ee,getIBNActions:B,getHeaderFacetItemConfigForExternalNavigation:oe,getSemanticObjectMapping:ne,setSemanticObjectMappings:ie,getSemanticObjectPromise:se,getSemanticObjectsFromPath:re,waitForContextRequested:C,getFilterRestrictionsByPath:ue,getSpecificAllowedExpression:z,getAdditionalParamsForCreate:te,requestSingletonProperty:ge,templateControlFragment:pe,FilterRestrictions:{REQUIRED_PROPERTIES:"RequiredProperties",NON_FILTERABLE_PROPERTIES:"NonFilterableProperties",ALLOWED_EXPRESSIONS:"FilterAllowedExpressions"},AllowedExpressionsPrio:["SingleValue","MultiValue","SingleRange","MultiRange","SearchExpression","MultiRangeOrSearchExpression"],normalizeSearchTerm:O,setContextsBasedOnOperationAvailable:X,setDynamicActionContexts:Q,requestProperty:W,getParameterPath:de,getRelatedAppsMenuItems:j,getTranslatedTextFromExpBindingString:me,updateRelateAppsModel:M,getSemanticObjectAnnotations:w,getFiltersFromAnnotation:Pe,createRootContext:ye,findOrCreateRootContext:ve,updateMenuButtonVisiblity:L,isSmallDevice:be,getConverterContextForPath:he,getIsEditable:Ce};return xe},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/ExtensionAPI", ["sap/base/Log","sap/fe/base/BindingToolkit","sap/fe/base/ClassSupport","sap/fe/core/CommonUtils","sap/fe/core/controls/DataWatcher","sap/fe/core/formatters/CollaborationFormatter","sap/fe/core/formatters/CriticalityFormatter","sap/fe/core/formatters/FPMFormatter","sap/fe/core/formatters/KPIFormatter","sap/fe/core/formatters/StandardFormatter","sap/fe/core/formatters/ValueFormatter","sap/ui/base/Object","sap/ui/core/Component","sap/ui/model/json/JSONModel"],function(e,t,r,n,o,i,a,l,s,c,u,p,d,f){"use strict";var g,m,v,b,w,h,y,_,x,P,C;var F=r.property;var A=r.defineUI5Class;var I=t.pathInModel;var D=t.compileExpression;function M(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function B(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,O(e,t)}function O(e,t){return O=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},O(e,t)}function z(e,t,r,n,o){var i={};return Object.keys(n).forEach(function(e){i[e]=n[e]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce(function(r,n){return n(e,t,r)||r},i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer?(Object.defineProperty(e,t,i),null):i}function S(e,t){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let E=(g=A("sap.fe.core.ExtensionAPI"),m=F({type:"sap.fe.core.controllerextensions.EditFlow"}),v=F({type:"sap.fe.core.controllerextensions.Routing"}),b=F({type:"sap.fe.core.controllerextensions.IntentBasedNavigation"}),w=F({type:"sap.fe.core.controllerextensions.CollaborativeDraft"}),g(h=(y=function(t){function r(e,r){var n;n=t.call(this)||this;M(n,"editFlow",_,n);M(n,"routing",x,n);M(n,"intentBasedNavigation",P,n);M(n,"collaborativeDraft",C,n);n._formatters={ValueFormatter:u,StandardFormatter:c,CriticalityFormatter:a,FPMFormatter:l,KPIFormatter:s,CollaborationFormatter:i};n._controller=e;n._view=e.getView();n.extension=n._controller.extension;n.editFlow=n._controller.editFlow;n.routing=n._controller.routing;n.intentBasedNavigation=n._controller.intentBasedNavigation;n.collaborativeDraft=n._controller.collaborativeDraft;n._routing=n._controller._routing;n._intentBasedNavigation=n._controller._intentBasedNavigation;n._prefix=r;return n}B(r,t);var p=r.prototype;p.getEditFlow=function e(){return this.editFlow};p.getRouting=function e(){return this.routing};p.getIntentBasedNavigation=function e(){return this.intentBasedNavigation};p.byId=function e(t){let r=this._view.byId(t);if(!r&&this._prefix){r=this._view.byId(`${this._prefix}--${t}`)}if(!r){return undefined}if(!r.isA("sap.fe.macros.MacroAPI")){let e=r.getParent();while(e){if(e.isA("sap.fe.macros.form.FormAPI")){break}if(e.isA("sap.fe.macros.MacroAPI")){throw new Error(`You attempted to access an internal control. This is risky and might change later. Instead access its stable API by using ID ${e.getId()}`)}e=e.getParent()}}return r};p.getModel=function e(t){let r;if(t&&t!=="ui"){r=n.getAppComponent(this._view);if(!r.getManifestEntry("sap.ui5").models[t]){return undefined}}return this._view.getModel(t)};p.addDependent=function e(t){this._view.addDependent(t)};p.removeDependent=function e(t){this._view.removeDependent(t)};p.navigateToTarget=function e(t,r){this._controller._routing.navigateToTarget(r,t)};p.loadFragment=async function t(r){var o=this;const i=d.getOwnerComponentFor(this._view);await i.getService("templatedViewService");const a=this._view.getModel("_pageModel");const l=this._view.getModel("sap.fe.i18n");const s=i.getMetaModel();const c=i.getViewData();const u=i.getEntitySet()?`/${i.getEntitySet()}`:i.getContextPath();const p=new f(c),g={bindingContexts:{contextPath:s?.createBindingContext(r.contextPath||u),converterContext:a.createBindingContext("/",undefined,{noResolve:true}),viewData:c?p.createBindingContext("/"):null},models:{contextPath:s,converterContext:a,metaModel:s,viewData:p,"sap.fe.i18n":l},appComponent:n.getAppComponent(this._view)};let m;if(r.controller&&!r.controller?.isA?.("sap.fe.core.ExtensionAPI")){const e=this.getMetadata().getClass().extend(r.id+"-controller",{});for(const t in r.controller){const n=r.controller[t];if(n?.bind){const a=n.bind(r.controller);if(i){e.prototype[t]=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++){t[r]=arguments[r]}return i.runAsOwner(()=>a.apply(o,t))}}else{e.prototype[t]=a}}else{Object.defineProperty(e.prototype,t,{get(){return r.controller?.[t]},set(e){if(r.controller){r.controller[t]=e}}})}}m=new e(this._controller);const t=m.isA;m.isA=e=>t.bind(m)(e)||this.isA(e)}else{m=r.controller??this}return i.runAsOwner(async()=>{const t=n.templateControlFragment(r.name,g,{controller:m,isXML:false,id:r.id,containingView:this._view,contextPath:r.contextPath??u});try{const e=await t;if(r.initialBindingContext!==undefined){e.setBindingContext(r.initialBindingContext)}this.addDependent(e);return e}catch(t){e.error(t)}})};p.updateAppState=async function e(){const t=this._controller.getView();const r=this._controller.getAppComponent();const n=await r.getAppStateHandler().createAppState({viewId:t.getId()});return n?.appStateData};p.runWithFPMContext=function e(t){const r=d.getOwnerComponentFor(this._view);return r.runAsOwner(t)};p.watchProperty=function e(t,r){this._view.addDependent(new o({propertyBinding:D(I(t)),valueChanged:e=>{r(e.getParameter("value"),e.getParameter("oldValue"),e.getParameter("isInitial"),e.getParameter("context"))}}))};return r}(p),_=z(y.prototype,"editFlow",[m],{configurable:true,enumerable:true,writable:true,initializer:null}),x=z(y.prototype,"routing",[v],{configurable:true,enumerable:true,writable:true,initializer:null}),P=z(y.prototype,"intentBasedNavigation",[b],{configurable:true,enumerable:true,writable:true,initializer:null}),C=z(y.prototype,"collaborativeDraft",[w],{configurable:true,enumerable:true,writable:true,initializer:null}),y))||h);return E},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/IRowBindingInterface", ["sap/fe/base/ClassSupport"],function(e){"use strict";var n,s;var a={};var i=e.defineUI5Class;let r=(n=i("sap.fe.core.IRowBindingInterface"),n(s=function e(){this.__implements__sap_fe_core_IRowBindingInterface=true})||s);a=r;return a},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/InsightsFormattersExtension", ["sap/insights/CardExtension","./formatters/ValueFormatter"],function(t,r){"use strict";function e(t,r){t.prototype=Object.create(r.prototype),t.prototype.constructor=t,o(t,r)}function o(t,r){return o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,r){return t.__proto__=r,t},o(t,r)}let n=function(t){function o(){return t.apply(this,arguments)||this}e(o,t);var n=o.prototype;n.init=function e(){t.prototype.init.apply(this);this.addFormatters("sapfe",{formatWithBrackets:r.formatWithBrackets,formatTitle:r.formatTitle})};return o}(t);return n},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/PageController.controller", ["sap/fe/core/PageController"],function(e){"use strict";return e},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/PageController", ["sap/base/Log","sap/fe/base/ClassSupport","sap/fe/core/BaseController","sap/fe/core/ExtensionAPI","sap/fe/core/controllerextensions/CollaborativeDraft","sap/fe/core/controllerextensions/EditFlow","sap/fe/core/controllerextensions/InlineEditFlow","sap/fe/core/controllerextensions/IntentBasedNavigation","sap/fe/core/controllerextensions/InternalIntentBasedNavigation","sap/fe/core/controllerextensions/InternalRouting","sap/fe/core/controllerextensions/MessageHandler","sap/fe/core/controllerextensions/PageReady","sap/fe/core/controllerextensions/Paginator","sap/fe/core/controllerextensions/Placeholder","sap/fe/core/controllerextensions/Recommendations","sap/fe/core/controllerextensions/Routing","sap/fe/core/controllerextensions/Share","sap/fe/core/controllerextensions/SideEffects","sap/fe/core/controllerextensions/Telemetry","sap/fe/core/controllerextensions/ViewState","sap/fe/core/formatters/CollaborationFormatter","sap/fe/core/formatters/CriticalityFormatter","sap/fe/core/formatters/FPMFormatter","sap/fe/core/formatters/KPIFormatter","sap/fe/core/formatters/StandardFormatter","sap/fe/core/formatters/ValueFormatter","sap/m/MessageBox","sap/ui/core/Component","sap/ui/core/Lib","./controllerextensions/ContextSharing","./controllerextensions/cards/CollaborationManager"],function(e,t,r,o,n,i,a,l,s,u,p,c,g,f,b,d,m,y,h,w,P,x,v,O,C,F,I,A,z,_,E){"use strict";var V,N,B,M,S,R,j,T,D,H,L,k,K,Y,G,U,$,q,J,Q,W,X,Z,ee,te,re,oe,ne,ie,ae,le,se,ue,pe,ce,ge,fe,be,de,me,ye,he,we,Pe;var xe=t.usingExtension;var ve=t.publicExtension;var Oe=t.extensible;var Ce=t.defineUI5Class;function Fe(e,t,r,o){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(o):void 0})}function Ie(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Ae(e,t)}function Ae(e,t){return Ae=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ae(e,t)}function ze(e,t,r,o,n){var i={};return Object.keys(o).forEach(function(e){i[e]=o[e]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce(function(r,o){return o(e,t,r)||r},i),n&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(n):void 0,i.initializer=void 0),void 0===i.initializer?(Object.defineProperty(e,t,i),null):i}function _e(e,t){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let Ee=(V=Ce("sap.fe.core.PageController"),N=xe(d),B=xe(n),M=xe(u.override({onAfterBinding:function(){const e=this.getView();const t=e.getController();t._onInternalAfterBinding()}})),S=xe(i),R=xe(l),j=xe(s),T=xe(c),D=xe(p),H=xe(m),L=xe(g),k=xe(w),K=xe(f),Y=xe(y),G=xe(b),U=xe(h),$=xe(_),q=xe(E),J=xe(a),Q=ve(),W=ve(),X=ve(),Z=ve(),ee=Oe("After"),V(te=(re=function(t){function r(e){var r;r=t.call(this,e)||this;Fe(r,"routing",oe,r);Fe(r,"collaborativeDraft",ne,r);Fe(r,"_routing",ie,r);Fe(r,"editFlow",ae,r);Fe(r,"intentBasedNavigation",le,r);Fe(r,"_intentBasedNavigation",se,r);Fe(r,"pageReady",ue,r);Fe(r,"messageHandler",pe,r);Fe(r,"share",ce,r);Fe(r,"paginator",ge,r);Fe(r,"viewState",fe,r);Fe(r,"placeholder",be,r);Fe(r,"_sideEffects",de,r);Fe(r,"recommendations",me,r);Fe(r,"telemetry",ye,r);Fe(r,"contextSharing",he,r);Fe(r,"collaborationManager",we,r);Fe(r,"inlineEditFlow",Pe,r);r._formatters={ValueFormatter:F,StandardFormatter:C,CriticalityFormatter:x,FPMFormatter:v,KPIFormatter:O,CollaborationFormatter:P};r.initialisationForPageControllerDoneProperly=false;const o=Object.getOwnPropertyNames(r.constructor.prototype);if(o.includes("_isExtension")){o.splice(0,0,...Object.getOwnPropertyNames(Object.getPrototypeOf(r.constructor.prototype)))}for(const e of o){if(e!=="constructor"&&e!=="getMetadata"&&e!=="extension"){const t=r[e];if(t&&typeof t==="function"&&!t.getMetadata){r[e]=function(){for(var e=arguments.length,o=new Array(e),n=0;n<e;n++){o[n]=arguments[n]}const i=A.getOwnerComponentFor(r.getView());if(i){return i.runAsOwner(()=>t.apply(r,o))}else{return t.apply(r,o)}}}}}Object.defineProperty(r,"oView",{get(){return this._oView},set(e){this._oView=e;this.getOwnerComponent()?.setRootController?.(this)}});return r}Ie(r,t);var n=r.prototype;n.onInit=function e(){const t=this.getAppComponent().getModel("ui"),r=this.getAppComponent().getModel("internal"),o=`/pages/${this.getView().getId()}`;t.setProperty(o,{controls:{}});r.setProperty(o,{controls:{},collaboration:{}});this.getView().bindElement({path:"/",model:"ui"});this.getView().bindElement({path:o,model:"internal"});this.getView().bindElement({path:o,model:"pageInternal"});this.getView().setModel(r,"pageInternal");this.getView().setModel(t,"ui");this.getView().setModel(r,"internal");this.initialisationForPageControllerDoneProperly=true};n.onBeforeRendering=function t(){if(!this.initialisationForPageControllerDoneProperly){e.error("PageController onInit didn't run properly. Your Controller.onInit() method might not extend the sap.fe.core.PageController onInit method properly. ")}if(this.placeholder.attachHideCallback){this.placeholder.attachHideCallback()}};n.getExtensionAPI=function e(t){if(!this.extensionAPI){this.extensionAPI=new o(this,t)}return this.extensionAPI};n.onPageReady=function e(t){};n._getPageTitleInformation=async function e(){return Promise.resolve({})};n._getPageModel=function e(){const t=A.getOwnerComponentFor(this.getView());return t?.getModel("_pageModel")};n.onOpenInNewTabNavigateOutBound=function e(t,r,o,n){const i=this;if(r.length<=n){r.forEach(function(e){i._intentBasedNavigation.onChevronPressNavigateOutBound(i,t,e,o,"explace")})}else{I.warning(z.getResourceBundleFor("sap.fe.macros").getText("T_TABLE_NAVIGATION_TOO_MANY_ITEMS_SELECTED",[n]))}};n._onInternalAfterBinding=function e(){const t=this.getView();this.pageReady.waitFor(this.getAppComponent().getAppStateHandler().applyAppState(t.getId(),t))};n.getRoutingTargetName=function e(){if(!this.routingTargetName){this.routingTargetName=this.getAppComponent().getRoutingService().getTargetNameForView(this.getView())??""}return this.routingTargetName};n.setShowFooter=function e(){let t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;const r=this.getView().getContent()[0];if(r.isA("sap.f.DynamicPage")||r.isA("sap.uxap.ObjectPageLayout")){r.setShowFooter(t)}};n.getFooter=function e(){const t=this.getView().getContent()[0];if(t.isA("sap.f.DynamicPage")||t.isA("sap.uxap.ObjectPageLayout")){return t.getFooter()}return undefined};return r}(r),oe=ze(re.prototype,"routing",[N],{configurable:true,enumerable:true,writable:true,initializer:null}),ne=ze(re.prototype,"collaborativeDraft",[B],{configurable:true,enumerable:true,writable:true,initializer:null}),ie=ze(re.prototype,"_routing",[M],{configurable:true,enumerable:true,writable:true,initializer:null}),ae=ze(re.prototype,"editFlow",[S],{configurable:true,enumerable:true,writable:true,initializer:null}),le=ze(re.prototype,"intentBasedNavigation",[R],{configurable:true,enumerable:true,writable:true,initializer:null}),se=ze(re.prototype,"_intentBasedNavigation",[j],{configurable:true,enumerable:true,writable:true,initializer:null}),ue=ze(re.prototype,"pageReady",[T],{configurable:true,enumerable:true,writable:true,initializer:null}),pe=ze(re.prototype,"messageHandler",[D],{configurable:true,enumerable:true,writable:true,initializer:null}),ce=ze(re.prototype,"share",[H],{configurable:true,enumerable:true,writable:true,initializer:null}),ge=ze(re.prototype,"paginator",[L],{configurable:true,enumerable:true,writable:true,initializer:null}),fe=ze(re.prototype,"viewState",[k],{configurable:true,enumerable:true,writable:true,initializer:null}),be=ze(re.prototype,"placeholder",[K],{configurable:true,enumerable:true,writable:true,initializer:null}),de=ze(re.prototype,"_sideEffects",[Y],{configurable:true,enumerable:true,writable:true,initializer:null}),me=ze(re.prototype,"recommendations",[G],{configurable:true,enumerable:true,writable:true,initializer:null}),ye=ze(re.prototype,"telemetry",[U],{configurable:true,enumerable:true,writable:true,initializer:null}),he=ze(re.prototype,"contextSharing",[$],{configurable:true,enumerable:true,writable:true,initializer:null}),we=ze(re.prototype,"collaborationManager",[q],{configurable:true,enumerable:true,writable:true,initializer:null}),Pe=ze(re.prototype,"inlineEditFlow",[J],{configurable:true,enumerable:true,writable:true,initializer:null}),ze(re.prototype,"onInit",[Q],Object.getOwnPropertyDescriptor(re.prototype,"onInit"),re.prototype),ze(re.prototype,"onBeforeRendering",[W],Object.getOwnPropertyDescriptor(re.prototype,"onBeforeRendering"),re.prototype),ze(re.prototype,"getExtensionAPI",[X],Object.getOwnPropertyDescriptor(re.prototype,"getExtensionAPI"),re.prototype),ze(re.prototype,"onPageReady",[Z,ee],Object.getOwnPropertyDescriptor(re.prototype,"onPageReady"),re.prototype),re))||te);return Ee},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/ResourceModel", ["sap/fe/base/ClassSupport","sap/ui/model/resource/ResourceModel"],function(e,t){"use strict";var s,o;var r=e.defineUI5Class;function u(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,c(e,t)}function c(e,t){return c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},c(e,t)}let n=(s=r("sap.fe.core.ResourceModel"),s(o=function(e){function t(){return e.apply(this,arguments)||this}u(t,e);var s=t.prototype;s.getText=function e(t,s,o){let r=t;const u=this._oResourceBundle;if(o){const e=this.checkIfResourceKeyExists(`${r}|${o}`);r=e?`${r}|${o}`:r}return u?.getText(r,s,true)||t};s.checkIfResourceKeyExists=function e(t){return this._checkIfResourceKeyExists(t,this._oResourceBundle.aCustomBundles)};s._checkIfResourceKeyExists=function e(t,s){if(s?.length){for(let e=s.length-1;e>=0;e--){const o=s[e].hasText(t);if(o){return true}this._checkIfResourceKeyExists(t,s[e].aCustomBundles)}}return false};return t}(t))||o);return n},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/ReuseComponent", ["sap/base/Log","sap/fe/base/ClassSupport","sap/fe/core/CommonUtils","sap/fe/core/fpm/Component","sap/ui/core/Component"],function(e,t,n,i,o){"use strict";var r,a,s,c,l,u,p;var f=t.property;var h=t.event;var g=t.defineUI5Class;function d(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function b(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,m(e,t)}function m(e,t){return m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},m(e,t)}function v(e,t,n,i,o){var r={};return Object.keys(i).forEach(function(e){r[e]=i[e]}),r.enumerable=!!r.enumerable,r.configurable=!!r.configurable,("value"in r||r.initializer)&&(r.writable=!0),r=n.slice().reverse().reduce(function(n,i){return i(e,t,n)||n},r),o&&void 0!==r.initializer&&(r.value=r.initializer?r.initializer.call(o):void 0,r.initializer=void 0),void 0===r.initializer?(Object.defineProperty(e,t,r),null):r}function w(e,t){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let C=(r=g("sap.fe.core.ReuseComponent"),a=f({type:"object"}),s=h(),r(c=(l=function(t){function i(){var e;for(var n=arguments.length,i=new Array(n),o=0;o<n;o++){i[o]=arguments[o]}e=t.call(this,...i)||this;d(e,"override",u,e);d(e,"initialized",p,e);e.hooksApplied=false;return e}b(i,t);var r=i.prototype;r.setContainer=function e(n){t.prototype.setContainer.call(this,n);this.container=n;const i=this.getRouter();if(i){i.initialize()}return this};r.applyHooks=function t(){if(this.hooksApplied||!this.container){return}const n=this.getPageComponent().getRootController();if(!n){return}for(const t in this.override){const i=this.override[t];const o=n[t];if(!o){e.error(`The controller extension ${t} does not exist in the page controller.`);continue}for(const r in i){const a=o[`attach${String(r)}`];if(!a){e.error(`The hook ${r} does not exist in the page controller extension ${t}.`);continue}const s=i[r];a(s);n.getView().attachBeforeExit(()=>{this.hooksApplied=false;o[`detach${String(r)}`](s)})}}this.hooksApplied=true;this.fireEvent("initialized")};r.createContent=async function e(){this.attachModelContextChange(this.applyHooks.bind(this));return new Promise(e=>{this.rootControlCreated=e})};r.setAggregation=function e(n,i,o){if(n==="rootControl"){const e=i;this.rootControlCreated(e)}return t.prototype.setAggregation.call(this,n,i,o)};r.getContextPath=function e(){const t=this.contextPath;if(t?.startsWith("/")){return t}else{const e=n.getCurrentPageView(this.getAppComponent());const i=e.getViewData().contextPath||"/"+e.getViewData().entitySet;if(t){return i+"/"+t}else{return i}}};r.getViewName=function e(){const t=this.getManifestEntry("sap.ui5").rootView?.viewName;if(!t&&!this.viewName){throw new Error("No root view defined in the manifest nor viewName set in the component")}return t||this.viewName};r.getPageComponent=function e(){const t=this.container?.getParent();if(!t){throw new Error("The parent of the reuse component is not yet set. Thus, the page component cannot be retrieved.")}return o.getOwnerComponentFor(t)};r.getExtensionAPI=function e(){return this.getPageComponent().getExtensionAPI()};return i}(i),u=v(l.prototype,"override",[a],{configurable:true,enumerable:true,writable:true,initializer:null}),p=v(l.prototype,"initialized",[s],{configurable:true,enumerable:true,writable:true,initializer:null}),l))||c);return C},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/TemplateComponent", ["sap/fe/base/ClassSupport","sap/fe/core/CommonUtils","sap/fe/core/converters/ManifestWrapper","sap/fe/core/converters/MetaModelConverter","sap/m/library","sap/ui/core/UIComponent"],function(e,t,r,n,i,o){"use strict";var l,a,u,p,c,s,f,b,g,y,m,d,h,C,w,v,_,z,P,I,M,A,O,x,R,j,B,E,k,D,T,N,S,V,H,L,U,W,F,X,q,G,J,K,Q;var Y=i.OverflowToolbarPriority;var Z=n.getMetaModelById;var $=e.property;var ee=e.implementInterface;var te=e.event;var re=e.defineUI5Class;function ne(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function ie(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,oe(e,t)}function oe(e,t){return oe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},oe(e,t)}function le(e,t,r,n,i){var o={};return Object.keys(n).forEach(function(e){o[e]=n[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=r.slice().reverse().reduce(function(r,n){return n(e,t,r)||r},o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer?(Object.defineProperty(e,t,o),null):o}function ae(e,t){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let ue=(l=re("sap.fe.core.TemplateComponent"),a=ee("sap.ui.core.IAsyncContentCreation"),u=ee("sap.fe.core.buildingBlocks.IBuildingBlockOwnerComponent"),p=$({type:"string",defaultValue:null}),c=$({type:"string",defaultValue:null}),s=$({type:"object"}),f=$({type:"string"}),b=$({type:"object"}),g=$({type:"string[]"}),y=$({type:"object"}),m=$({type:"object"}),d=$({type:"object"}),h=$({type:"boolean"}),C=$({type:"object"}),w=$({type:"string"}),v=$({type:"string"}),_=$({type:"string"}),z=$({type:"string"}),P=te(),I=te(),M=te(),A=$({type:"string",defaultValue:Y.High}),l(O=(x=function(e){function n(){var t;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++){n[i]=arguments[i]}t=e.call(this,...n)||this;ne(t,"__implements__sap_ui_core_IAsyncContentCreation",R,t);ne(t,"__implements__sap_fe_core_buildingBlocks_IBuildingBlockOwnerComponent",j,t);ne(t,"entitySet",B,t);ne(t,"contextPath",E,t);ne(t,"preprocessorContext",k,t);ne(t,"bindingContextPattern",D,t);ne(t,"navigation",T,t);ne(t,"enhanceI18n",N,t);ne(t,"controlConfiguration",S,t);ne(t,"inlineEdit",V,t);ne(t,"content",H,t);ne(t,"allowDeepLinking",L,t);ne(t,"refreshStrategyOnAppRestore",U,t);ne(t,"breadcrumbsHierarchyMode",W,t);ne(t,"viewType",F,t);ne(t,"viewName",X,t);ne(t,"_jsxViewName",q,t);ne(t,"containerDefined",G,t);ne(t,"heroesBatchReceived",J,t);ne(t,"workersBatchReceived",K,t);ne(t,"shareOverflowPriority",Q,t);return t}ie(n,e);var i=n.prototype;i.setContainer=function t(r){e.prototype.setContainer.call(this,r);this.fireEvent("containerDefined",{container:r});return this};i.init=function r(){this.oAppComponent=t.getAppComponent(this);e.prototype.init.call(this)};i.getExtensionComponent=function e(){return this.oAppComponent};i.getAppComponent=function e(){return this.oAppComponent};i.setRootController=function e(t){this._rootController=t};i.getRootController=function e(){const t=this.getRootControl();let r;if(t&&t.getController){r=t.getController()}else{r=this._rootController}return r};i.onPageReady=function e(t){const r=this.getRootController();if(r&&r.onPageReady){r.onPageReady(t)}};i.getNavigationConfiguration=function e(t){const r=this.navigation;return r[t]};i.getViewData=function e(){const t=this.getMetadata().getAllProperties();const r=Object.keys(t).reduce((e,r)=>{e[r]=t[r].get(this);return e},{});delete r.preprocessorContext;r.fclEnabled=this.oAppComponent._isFclEnabled();const n=this.oAppComponent.getRoutingService().getTargetName(this);r.isInlineEditEnabled=n?this.oAppComponent.getInlineEditService().doesPageHaveInlineEdit(n):false;return r};i._getPageTitleInformation=async function e(){const t=this.getRootControl();if(t&&t.getController()&&t.getController()._getPageTitleInformation){return t.getController()._getPageTitleInformation()}else{return Promise.resolve({})}};i.getExtensionAPI=function e(){return this.getRootControl().getController().getExtensionAPI()};i.getMetaModel=function e(t){if(!t){return this.preprocessorContext?.models.metaModel}else if(t.startsWith("id-")){return Z(t)}else if(!this.getModel(t)){return this.getAppComponent().getModel(t)?.getMetaModel()}else{return this.getModel(t)?.getMetaModel()}};i.getFullContextPath=function e(t){if(!t){return this.preprocessorContext?.fullContextPath}};i.getManifestWrapper=function e(){return new r(this.getViewData())};i._getControllerName=function e(){return undefined};return n}(o),R=le(x.prototype,"__implements__sap_ui_core_IAsyncContentCreation",[a],{configurable:true,enumerable:true,writable:true,initializer:function(){return true}}),j=le(x.prototype,"__implements__sap_fe_core_buildingBlocks_IBuildingBlockOwnerComponent",[u],{configurable:true,enumerable:true,writable:true,initializer:function(){return true}}),B=le(x.prototype,"entitySet",[p],{configurable:true,enumerable:true,writable:true,initializer:function(){return null}}),E=le(x.prototype,"contextPath",[c],{configurable:true,enumerable:true,writable:true,initializer:function(){return null}}),k=le(x.prototype,"preprocessorContext",[s],{configurable:true,enumerable:true,writable:true,initializer:null}),D=le(x.prototype,"bindingContextPattern",[f],{configurable:true,enumerable:true,writable:true,initializer:null}),T=le(x.prototype,"navigation",[b],{configurable:true,enumerable:true,writable:true,initializer:null}),N=le(x.prototype,"enhanceI18n",[g],{configurable:true,enumerable:true,writable:true,initializer:null}),S=le(x.prototype,"controlConfiguration",[y],{configurable:true,enumerable:true,writable:true,initializer:null}),V=le(x.prototype,"inlineEdit",[m],{configurable:true,enumerable:true,writable:true,initializer:null}),H=le(x.prototype,"content",[d],{configurable:true,enumerable:true,writable:true,initializer:null}),L=le(x.prototype,"allowDeepLinking",[h],{configurable:true,enumerable:true,writable:true,initializer:null}),U=le(x.prototype,"refreshStrategyOnAppRestore",[C],{configurable:true,enumerable:true,writable:true,initializer:null}),W=le(x.prototype,"breadcrumbsHierarchyMode",[w],{configurable:true,enumerable:true,writable:true,initializer:null}),F=le(x.prototype,"viewType",[v],{configurable:true,enumerable:true,writable:true,initializer:function(){return"XML"}}),X=le(x.prototype,"viewName",[_],{configurable:true,enumerable:true,writable:true,initializer:null}),q=le(x.prototype,"_jsxViewName",[z],{configurable:true,enumerable:true,writable:true,initializer:function(){return""}}),G=le(x.prototype,"containerDefined",[P],{configurable:true,enumerable:true,writable:true,initializer:null}),J=le(x.prototype,"heroesBatchReceived",[I],{configurable:true,enumerable:true,writable:true,initializer:null}),K=le(x.prototype,"workersBatchReceived",[M],{configurable:true,enumerable:true,writable:true,initializer:null}),Q=le(x.prototype,"shareOverflowPriority",[A],{configurable:true,enumerable:true,writable:true,initializer:null}),x))||O);return ue},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/TemplateModel", ["sap/fe/base/ClassSupport","sap/ui/base/Object","sap/ui/model/json/JSONModel"],function(e,t,o){"use strict";var n,i;var a=e.defineUI5Class;function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,d(e,t)}function d(e,t){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},d(e,t)}let s=(n=a("sap.fe.core.TemplateModel"),n(i=function(e){function t(t,n){var i;i=e.call(this)||this;i.oMetaModel=n;i.oConfigModel=new o;i.oConfigModel.setSizeLimit(Number.MAX_VALUE);i.bConfigLoaded=false;const a=i;if(typeof t==="function"){const e=i.oConfigModel._getObject.bind(i.oConfigModel);i.oConfigModel._getObject=function(o,n){if(!a.bConfigLoaded){this.setData(t())}return e(o,n)}}else{i.oConfigModel.setData(t)}i.fnCreateMetaBindingContext=i.oMetaModel.createBindingContext.bind(i.oMetaModel);i.fnCreateConfigBindingContext=i.oConfigModel.createBindingContext.bind(i.oConfigModel);i.fnSetData=i.oConfigModel.setData.bind(i.oConfigModel);i.oConfigModel.createBindingContext=i.createBindingContext.bind(i);i.oConfigModel.setData=i.setData.bind(i);return i.oConfigModel||r(i)}f(t,e);var n=t.prototype;n.setData=function e(t){this.fnSetData(t);this.bConfigLoaded=true};n.createBindingContext=function e(t,o,n,i){let a;const r=n&&n.noResolve;a=this.fnCreateConfigBindingContext(t,o,n,i);const f=!r&&a?.getObject();if(f&&typeof f==="string"){a=this.fnCreateMetaBindingContext(f,o,n,i)}return a};n.destroy=function e(){this.oConfigModel.destroy();o.prototype.destroy.apply(this)};return t}(t))||i);return s},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/UIProvider", [],function(){"use strict";var e={};let r;function n(){if(r===undefined){throw new Error("sap.fe.core UI provider not defined")}return r}e.getCoreUIFactory=n;function t(e){r=e}e.setCoreUIFactory=t;return e},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/buildingBlocks/BuildingBlock", ["sap/base/Log","sap/fe/base/BuildingBlockBase","sap/fe/base/ClassSupport","sap/fe/base/HookSupport","sap/fe/core/converters/MetaModelConverter","sap/fe/core/helpers/MetaPath","sap/fe/core/helpers/StableIdHelper","sap/ui/core/Component","sap/ui/core/ElementRegistry"],function(e,t,n,r,o,i,a,s,l){"use strict";var c,u,f,h,g,d;var p=a.generate;var b=o.getMetaModelById;var v=o.getInvolvedDataModelObjectsForTargetPath;var w=o.convertTypes;var M=r.removeControllerExtensionHookHandlers;var m=r.initControllerExtensionHookHandlers;var C=n.property;var y=n.defineUI5Class;function O(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function P(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,_(e,t)}function _(e,t){return _=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},_(e,t)}function B(e,t,n,r,o){var i={};return Object.keys(r).forEach(function(e){i[e]=r[e]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(n,r){return r(e,t,n)||n},i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer?(Object.defineProperty(e,t,i),null):i}function x(e,t){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let A=(c=y("sap.fe.core.buildingBlocks.BuildingBlock"),u=C({type:"string"}),c(f=(h=(d=function(t){function n(e,n){var r;r=t.call(this,e,n)||this;O(r,"metaModel",g,r);r._applyingSettings=false;r.notifyBBObservers();return r}P(n,t);var r=n.prototype;r.applySettings=function e(n,r){this._applyingSettings=true;t.prototype.applySettings.call(this,n,r);this._applyingSettings=false;this._checkIfMetadataReady(true);return this};r.notifyBBObservers=function e(){let t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;const r=n._bbobserverMap.get(this.getId());if(r&&r.length>0){for(const e of r){if(t){if(e.onDestroy){e.onDestroy(this)}}else if(e.onAvailable){e.onAvailable(this)}}}};n.observeBuildingBlock=function e(t,r){const o=l.get(t);if(o){if(r.onAvailable){r.onAvailable(o)}}else{const e=n._bbobserverMap.get(t);if(e){e.push(r)}else{n._bbobserverMap.set(t,[r])}}};r._getOwner=function e(){let t=this;let n=s.getOwnerComponentFor(t);while(!n&&t&&!t.isA("sap.ui.core.mvc.View")){t=t.getParent();if(t){n=s.getOwnerComponentFor(t)}}if(n?.isA("sap.fe.core.TemplateComponent")){return n}if(n?.isA("sap.fe.core.buildingBlocks.IBuildingBlockOwnerComponent")){return n}};r.getPageController=function t(){let n=arguments.length>0&&arguments[0]!==undefined?arguments[0]:true;const r=this._getOwner()?.getRootController?.();if(!r&&n){e.error("No sap.fe.core.PageController found")}return r};r.getMetaModel=function e(){const t=this._getOwner();if(t?.isA("sap.fe.core.buildingBlocks.IBuildingBlockOwnerComponent")){let e=t?.getMetaModel(this.metaModel);if(!e&&this.metaModel?.startsWith("id-")){e=b(this.metaModel)}return e}else{return t?.getMetaModel(this.metaModel)}};r.destroy=function e(n){if(this.isA("sap.fe.core.controllerextensions.viewState.IViewStateContributor")){this.getPageController(false)?.viewState?.deregisterStateContributor(this)}if(this.getPageController(false)){M(this,this.getPageController())}this.notifyBBObservers(true);t.prototype.destroy.call(this,n)};r._checkIfMetadataReady=function t(){let n=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;const r=this._getOwner();if(r){try{this.onMetadataAvailable(r)}catch(t){e.error(`Error creating content for building block ${this.getMetadata().getName()} with ID: ${this.getId()}`,t)}if(this.isA("sap.fe.core.controllerextensions.viewState.IViewStateContributor")){this.getPageController()?.viewState.registerStateContributor(this)}if(this.getPageController()){m(this,this.getPageController())}}else{if(!n&&!this.content){e.warning("The building block was not created within an ExtensionAPI.runWithFPMContext call, for performance reason it's recommended to do so.",this)}this.attachEventOnce("modelContextChange",function(){this._checkIfMetadataReady()})}};r.clone=function e(n,r){const o=this._getOwner();if(o){return o.runAsOwner(()=>t.prototype.clone.call(this,n,r))}else{return t.prototype.clone.call(this,n,r)}};r.onMetadataAvailable=function e(t){};r.getAppComponent=function e(){const t=this._getOwner();return t?.getAppComponent()};r.getDataModelObjectPath=function e(t){const n=this.getMetaModel();const r=t??this.getOwnerContextPath();return v(r,n)};r.getOwnerContextPath=function e(){const t=this._getOwner();return t.getFullContextPath(this.metaModel)};r.getDataModelObjectForMetaPath=function e(t,n){const r=this.getMetaModel();const i=this.getComputedContextPath(n);let a;if(i){a=i.endsWith("/")?i:i+"/"}if(!r||!(a||t.charAt(0)==="/")){throw new Error("No metamodel or metapath is not reachable with contextPath")}let s=a?r.createBindingContext(a):undefined;s=s?s:undefined;const l=r.createBindingContext(t,s);return l?o.getInvolvedDataModelObjects(l,s):undefined};r.getComputedContextPath=function e(t){let n=t??this.getOwnerContextPath();if(n&&!n.startsWith("/")){n=this.getOwnerContextPath()+n}return n};r.getMetaPathObject=function t(n,r){const o=this.getMetaModel();const a=this.getComputedContextPath(r);if(!o||!(a||n.charAt(0)==="/")){e.warning(`No metamodel or metaPath is not reachable with ${r}:${n}`);return null}try{return new i(w(o),n,a)}catch(t){if(!a.endsWith("/")){return this.getMetaPathObject(n,a+"/")}e.warning(`No metamodel or metaPath is not reachable with ${r}:${n}`);return null}};r.createId=function e(){if(this.getId()){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++){n[r]=arguments[r]}return p([this.getId(),...n])}return undefined};r.getTranslatedText=function e(t,n,r){return(this.getModel("sap.fe.i18n")??this._getOwner()?.getModel("sap.fe.i18n"))?.getText(t,n,r)||t};r.getManifestWrapper=function e(){return this._getOwner()?.getManifestWrapper()};r.getOwnerPageDefinition=function e(){return this._getOwner()?.preprocessorContext?.getDefinitionForPage()};return n}(t),d._bbobserverMap=new Map,d),g=B(h.prototype,"metaModel",[u],{configurable:true,enumerable:true,writable:true,initializer:null}),h))||f);return A},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/buildingBlocks/IBuildingBlockOwnerComponent", [],function(){"use strict"},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/buildingBlocks/TraceInfo", ["sap/base/Log","sap/ui/base/BindingInfo","sap/ui/core/util/XMLPreprocessor"],function(t,e,n){"use strict";const r=[];const i="http://schemas.sap.com/sapui5/extension/sap.fe.info/1",o="http://www.w3.org/2000/xmlns/",a=location.search.includes("sap-ui-xx-feTraceInfo=true"),s=["sap.m","sap.uxap","sap.ui.unified","sap.f","sap.ui.table","sap.suite.ui.microchart","sap.ui.layout.form","sap.ui.mdc","sap.ui.mdc.link","sap.ui.mdc.field","sap.fe.fpm"],c={};function u(t){return JSON.parse(JSON.stringify(t))}async function f(t,n,r,i){let o;const a=[];try{o=e.parse(t)||[]}catch(t){o=[]}o=Array.isArray(o)?o:[o];o.filter(function(t){return t.path||t.parts}).forEach(function(t){const e=t.parts||[t];e.filter(function(t){return t.path}).forEach(function(t){const e=n[t.model]=n[t.model]||{};const o=!t.path.includes(">")?(t.model&&`${t.model}>`)+t.path:t.path;let s;let c;if(typeof t.model==="undefined"&&o.includes(">")){c=o.split(">");t.model=c[0];t.path=c[1]}try{s=r.getContext(o);const n=r.getResult(`{${o}}`,i);a.push(n.then(function(n){if(s?.getModel().getMetadata().getName()==="sap.ui.model.json.JSONModel"){if(!n.getModel()){e[t.path]=n}else{e[t.path]=`Context from ${n.getPath()}`}}else{e[t.path]={path:s.getPath(),data:typeof n==="object"?"[ctrl/cmd-click] on path to see data":n}}return}).catch(function(){e[t.path]={bindingFor:"Runtime"}}))}catch(n){e[t.path]={bindingFor:"Runtime"}}})});return Promise.all(a)}async function l(t,e,n,r){return t.then(function(t){e[n]=r!==t?{originalValue:r,resolvedValue:t}:r;return}).catch(function(t){const i=t;e[n]={originalValue:r,error:i.stack&&i.stack.toString()||t}})}async function p(t,e){const n={};const r=[];const i={};let o;for(let a=t.attributes.length>>>0;a--;){const s=t.attributes[a],c=s.nodeName,u=t.getAttribute(c);if(!["core:require"].includes(c)){r.push(f(u,i,e,t));o=e.getResult(u,t);if(o){r.push(l(o,n,c,u))}else{}}}return Promise.all(r).then(function(){return{properties:n,contexts:i}})}async function h(e,n){try{const t=e.nodeName.split(":")[1]||e.nodeName,a=/^[A-Z]/.test(t),s={isError:false,control:`${e.namespaceURI}.${e.nodeName.split(":")[1]||e.nodeName}`,metaDataContexts:[],properties:{}};if(a){const t=[...e.ownerDocument.children].find(t=>!t.nodeName.startsWith("#"));if(t&&!t.getAttribute("xmlns:trace")){t.setAttributeNS(o,"xmlns:trace",i);t.setAttributeNS(i,"trace:is","on")}return await p(e,n).then(async function(t){const o=Object.keys(t.contexts).length>0;if(o){Object.assign(s,t);s.viewInfo=n.getViewInfo();s.macroInfo=n.getSettings()["_macroInfo"];s.traceID=r.length;e.setAttributeNS(i,"trace:traceID",s.traceID.toString());r.push(s)}return n.visitAttributes(e)}).then(async function(){return n.visitChildNodes(e)}).catch(function(t){s.error={exception:t,node:(new XMLSerializer).serializeToString(e)}})}else{await n.visitAttributes(e);await n.visitChildNodes(e)}}catch(r){t.error(`Error while tracing '${e?.nodeName}': ${r.message}`,"TraceInfo");return n.visitAttributes(e).then(async function(){return n.visitChildNodes(e)})}}if(a){s.forEach(function(t){c[t]=n.plugIn(h.bind(t),t)})}function m(t,e,n,a,s){try{let c=e.metadataContexts&&Object.keys(e.metadataContexts)||[];const f=e.properties&&Object.keys(e.properties)||[];const l=u(s.getSettings()["_macroInfo"]||{});const p={isError:false,macro:t,metaDataContexts:[],properties:{}};if(c.length===0){c=Object.keys(n).filter(function(t){return t!=="this"})}if(!a.getAttribute("xmlns:trace")){a.setAttributeNS(o,"xmlns:trace",i)}if(c.length>0){c.forEach(function(t){const e=n[t],r=e&&{name:t,path:e.getPath()};if(r){p.metaDataContexts.push(r)}});f.forEach(function(t){const e=n.this.getObject(t);if(e){p.properties[t]=e}});p.viewInfo=s.getViewInfo();p.traceID=r.length;l.parentMacroID=l.macroID;l.macroID=p.traceID.toString();p.macroInfo=l;a.setAttributeNS(i,"trace:macroID",p.traceID.toString());r.push(p)}return p}catch(e){return{isError:true,error:{exception:e,node:(new XMLSerializer).serializeToString(a)},name:t,contextPath:s?.getContext()?.getPath(),metaDataContexts:[],properties:{}}}}function d(t){if(t){return r[t]}const e=r.filter(function(t){return t.error});return e.length>0&&e||r}function g(){return a}return{isTraceInfoActive:g,traceMacroCalls:m,getTraceInfo:d}},true);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/buildingBlocks/templating/AttributeModel", ["sap/base/Log","sap/base/util/ObjectPath","sap/ui/model/json/JSONModel"],function(t,e,n){"use strict";function r(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,o(t,e)}function o(t,e){return o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},o(t,e)}let i=function(n){function o(t,e,r){var o;o=n.call(this)||this;o.oNode=t;o.oProps=e;o.BuildingBlockClass=r;o.$$valueAsPromise=true;return o}r(o,n);var i=o.prototype;i._getObject=function n(r,o){if(r===undefined||r===""){if(o!==undefined&&o.getPath()!=="/"){return this._getObject(o.getPath(r))}return this.oProps}if(r==="/undefinedValue"||r==="undefinedValue"){return undefined}const i=e.get(r.replace(/\//g,"."),this.oProps);if(i!==undefined){return i}if(this.oProps.hasOwnProperty(r)){return this.oProps[r]}if(!r.includes(":")&&!r.includes("/")){t.error(`Missing property ${r} on building block metadata ${this.BuildingBlockClass.name}`)}return this.oNode.getAttribute(r)};return o}(n);return i},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/buildingBlocks/templating/BuildingBlockFormatter", [],function(){"use strict";return{base64Decode:e=>atob(e)}},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/buildingBlocks/templating/BuildingBlockSupport", ["sap/base/util/merge"],function(e){"use strict";var t={};function i(e){return function(t,i,n){const r=a(t.constructor);e.defaultValue=n.initializer?.();delete n.initializer;if(r.properties[i.toString()]===undefined||r.properties[i.toString()]!==e){r.properties[i.toString()]=e}return n}}t.blockAttribute=i;function n(){return i({type:"function",isPublic:true})}t.blockEvent=n;function r(e){return function(t,i,n){const r=a(t.constructor);delete n.initializer;if(r.aggregations[i]===undefined||r.aggregations[i]!==e){r.aggregations[i]=e}if(e.isDefault===true){r.defaultAggregation=i}return n}}t.blockAggregation=r;function a(t){if(!Object.getOwnPropertyNames(t).includes("metadata")||t.metadata===undefined){t.metadata=e({namespace:"",name:"",properties:{},aggregations:{},stereotype:"xmlmacro"},t.metadata??{})}return t.metadata}function o(e){return function(t){const i=a(t);i.namespace=e.namespace;i.publicNamespace=e.publicNamespace;i.name=e.name;i.xmlTag=e.xmlTag;i.fragment=e.fragment;i.designtime=e.designtime;i.isOpen=e.isOpen;i.libraries=e.libraries}}t.defineBuildingBlock=o;function s(e){const t={controllerExtensions:{},properties:{},aggregations:{},associations:{},references:{},methods:{},events:{},interfaces:[]};const i=a(e);let n=i.defaultAggregation;for(const e in i.properties){const r={...i.properties[e]};if(e==="visible"){r.defaultValue=true}if(r.type==="function"){t.events[e]={}}else if(r.isAssociation===true){t.associations[e]={type:"sap.ui.core.Control"}}else if(r.type==="object"){r.type=r.underlyingType??"sap.fe.macros.controls.BuildingBlockObjectProperty";r.multiple=false;t.aggregations[e]=r;n??=e}else if(r.type==="array"){r.type=r.underlyingType??"sap.fe.macros.controls.BuildingBlockObjectProperty";r.multiple=true;t.aggregations[e]=r;n??=e}else{if(r.type==="sap.ui.model.Context"){r.type="string"}t.properties[e]={...r}}}for(const e in i.aggregations){t.aggregations[e]=i.aggregations[e]}t.defaultAggregation=n;t.buildingBlockMetadata=i;return t}t.convertBuildingBlockMetadata=s;return t},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/buildingBlocks/templating/BuildingBlockTemplateProcessor", ["sap/base/Log","sap/base/util/deepClone","sap/base/util/uid","sap/fe/base/BindingToolkit","sap/fe/base/jsx-runtime/jsx","sap/fe/core/buildingBlocks/templating/AttributeModel","sap/fe/core/converters/helpers/ConfigurableObject","sap/fe/core/helpers/TypeGuards","sap/ui/base/BindingInfo","sap/ui/core/util/XMLPreprocessor","sap/ui/model/json/JSONModel","../TraceInfo"],function(e,t,n,i,o,s,r,a,l,c,u,d){"use strict";var f={};var p=a.isFunctionArray;var m=a.isContext;var g=r.Placement;var h=i.isUndefinedExpression;var b=i.isBindingToolkitExpression;var y=i.compileExpression;const x="sap.fe.core.buildingBlocks.templating.BuildingBlockTemplateProcessor";const C="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1";const $=new DOMParser;function w(e,t,n,i){const o=t[i];const s=o?.getObject();if(n.required===true&&(!o||s===null)){throw new Error(`${e}: Required metadataContext '${i}' is missing`)}else if(s){if(s.hasOwnProperty("$kind")&&s.$kind!==undefined&&n.expectedTypes!==undefined){if(!n.expectedTypes.includes(s.$kind)){throw new Error(`${e}: '${i}' must be '$kind' '${n.expectedTypes}' but is '${s.$kind}': ${o.getPath()}`)}}else if(s.hasOwnProperty("$Type")&&s.$Type!==undefined&&n.expectedAnnotationTypes){if(!n.expectedAnnotationTypes.includes(s.$Type)){throw new Error(`${e}: '${i}' must be '$Type' '${n.expectedAnnotationTypes}' but is '${s.$Type}': ${o.getPath()}`)}}}}function A(t,n,i,o){const s=n.metadataContexts&&Object.keys(n.metadataContexts)||[],r=n.properties&&Object.keys(n.properties)||[],a={};const l=o.getAttributeNames();for(const e of l){a[e]=true}s.forEach(function(e){const o=n.metadataContexts[e];w(t,i,o,e);delete a[e]});r.forEach(function(e){const i=n.properties[e];if(!o.hasAttribute(e)){if(i.required&&!i.hasOwnProperty("defaultValue")){throw new Error(`${t}: `+`Required property '${e}' is missing`)}}else{delete a[e]}});Object.keys(a).forEach(function(n){if(!n.includes(":")&&!n.startsWith("xmlns")){e.warning(`Unchecked parameter: ${t}: ${n}`,undefined,x)}})}f.validateMacroSignature=A;const P="sap.ui.core.Element";const k="sap.ui.model.Context";f.SAP_UI_MODEL_CONTEXT=k;function N(e){const t={class:{type:"string",isPublic:true}};const n={dependents:{type:P,slot:"dependents",isPublic:true},customData:{type:P,slot:"customData",isPublic:true},layoutData:{type:P,slot:"layoutData",isPublic:true},...e.aggregations};const i={};for(const n of Object.keys(e.properties)){const o=e.properties[n].type;if(o!==k){t[n]=e.properties[n]}if([k,"object","array"].includes(o)){i[n]=e.properties[n]}}return{...e,properties:t,metadataContexts:i,aggregations:n}}function E(e,t){let n;if(t&&t.startsWith("/")){n=t}else{let i=e.currentContextPath.getPath();if(!i.endsWith("/")){i+="/"}n=i+t}return{model:"metaModel",path:n}}function O(e,t,n){let i;if(n.startsWith("/uid--")&&!e.models.converterContext.getProperty(n)){const t=U(n);e.models.converterContext.setProperty(n,t);i={model:"converterContext",path:n}}else if(t==="metaPath"&&e.currentContextPath||t==="contextPath"){i=E(e,n)}else if(n&&n.startsWith("/")){i={model:"metaModel",path:n}}else{i={model:"metaModel",path:e.bindingContexts.entitySet?e.bindingContexts.entitySet.getPath(n):n}}return i}function T(e,t,n,i,o,s){let r;if(!o&&t.hasAttribute(n)){let o=t.getAttribute(n);r=l.parse(o);if(r&&n==="metaPath"&&r.model&&r.path){const e=`${r.model}>${r.path}`;const t=i.getContext(e);if(t?.getModel()?.isA("sap.ui.model.json.JSONModel")){o=t.getObject();r=undefined}}if(!r){r=O(e,n,o)}}else if(e.bindingContexts.hasOwnProperty(n)){r={model:n,path:""}}else if(s){try{if(i.getContext(`${n}>`)){r={model:n,path:""}}}catch(e){return undefined}}return r}async function v(n,i,o,s){const r=n.properties;const a=Object.keys(r);const l={};for(const n of a){if(r[n].type==="object"){l[n]=r[n].defaultValue&&t(r[n].defaultValue)}else{l[n]=r[n].defaultValue}if(i.hasAttribute(n)&&o&&r[n].isPublic!==true){e.error(`Property ${n} was ignored as it is not intended for public usage`)}else if(i.hasAttribute(n)){await s.visitAttribute(i,i.attributes.getNamedItem(n));let e=i.getAttribute(n);if(e!==undefined&&e!==null){if(typeof e==="string"&&!e.startsWith("{")){switch(r[n].type){case"boolean":e=e==="true";break;case"number":e=Number(e);break}}e=e===null?undefined:e;l[n]=e}}}return l}function j(e,t,n,i,o,s,r){t.currentContextPath=t.bindingContexts.contextPath;const a={};const l=e.metadataContexts;const c=Object.keys(l);const u=c.indexOf("contextPath");if(u!==-1){const e=c.splice(u,1);c.splice(0,0,e[0])}for(const u of c){const c=r[u];if(c!==undefined&&typeof c==="object"&&Object.keys(c).length>0){delete e.metadataContexts[u];continue}const d=i&&l[u].isPublic===false&&n.hasAttribute(u);const f=T(t,n,u,o,d,e.isOpen??false);if(f){f.name=u;W(s,o,f);if((u==="entitySet"||u==="contextPath")&&!t.bindingContexts.hasOwnProperty(u)){t.bindingContexts[u]=s[u]}if(u==="contextPath"){t.currentContextPath=s[u]}if(s[u]!==undefined){r[u]=s[u]}else if(typeof r[u]==="string"){delete e.metadataContexts[u]}}else{a[u]=true}}return a}async function S(t,i,o){const s={};if(i&&i.children.length>0){const r=i.firstElementChild;if(r?.namespaceURI===C){const e=r.parentNode;if(e){await t.visitNode(r)}}const a=i.children;for(let t=0;t<a.length;t++){const i=a[t];let r=i.getAttribute("key")||i.getAttribute("id")||o?.skipKey&&o.multiple===false&&n();if(r){r=`InlineXML_${r}`;i.setAttribute("key",r);let e={key:r,position:{placement:i.getAttribute("placement")||g.After,anchor:i.getAttribute("anchor")||undefined},type:"Slot"};if(o?.processAggregations){e=o.processAggregations(i,e)}s[e.key]=e}else if(i.tagName!=="slot"){e.error(`The aggregation ${i.nodeName} is missing a Key attribute. It is not displayed`)}}}return s}function B(e){const t=e.children;const n=[];const i={};for(const t of e.getAttributeNames()){i[t]=e.getAttribute(t)}if(t.length>0){const e=Object.keys(t).map(e=>t[e].localName);const o=e.length!==new Set(e).size;for(const e of t){if(o){n.push(B(e))}else{i[e.localName]=B(e)}}if(o){return n}}return i}async function M(e,t,n,i,o){const s={};if(e.firstElementChild!==null){let r=e.firstElementChild;while(r!==null){if(r.namespaceURI===C){const e=r.parentNode;if(e){const n=Array.from(e.children).indexOf(r);await t.visitNode(r);r=e.children[n]?e.children[n]:null}else{r=r.nextElementSibling}}else{const e=r.localName;let i=e;if(i[0].toUpperCase()===i[0]){i=n.defaultAggregation||""}const s=n.aggregations[i];if(s!==undefined&&!s.slot){const e=await S(t,r,s);o[i]=e;for(const t in e){n.aggregations[t]=e[t]}}r=r.nextElementSibling}}r=e.firstElementChild;while(r!==null){const a=r.nextElementSibling;const l=r.localName;let c=l;if(c[0].toUpperCase()===c[0]){c=n.defaultAggregation||""}if(Object.keys(n.aggregations).includes(c)&&(!i||n.aggregations[c].isPublic===true)){const i=n.aggregations[c];if(!i.slot&&r!==null&&r.children.length>0){await t.visitNode(r);let n=r.firstElementChild;while(n){const t=n.nextElementSibling;if(!i.hasVirtualNode){const t=document.createElementNS(e.namespaceURI,n.getAttribute("key"));t.appendChild(n);s[n.getAttribute("key")]=t}else{s[n.getAttribute("key")]=n}n.removeAttribute("key");n=t}}else if(i.slot){await t.visitNode(r);if(c!==l){if(!s[c]){const t=document.createElementNS(e.namespaceURI,c);s[c]=t}s[c].appendChild(r.cloneNode(true))}else{s[c]=r.cloneNode(true)}}}else if(Object.keys(n.properties).includes(c)){await t.visitNode(r);if(n.properties[c].type==="object"){const e=B(r);o[c]=e}else if(n.properties[c].type==="array"){if(r!==null&&r.children.length>0){const e=r.children;const t=[];for(let n=0;n<e.length;n++){const i=e[n];const o={};const s=i.getAttributeNames();for(const e of s){o[e]=i.getAttribute(e)}t.push(o)}o[c]=t}}}r=a}}return s}function I(e,t,n){let i=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;if(Object.keys(e).length>0){Object.keys(e).forEach(function(o){const s=e[o];if(n!==null&&n!==undefined&&s){const e=s.firstElementChild;if(!["dependents","customData","layoutData"].includes(o)){const i=t[o]!==undefined&&t[o].slot||o;const s=n.querySelector(`slot[name='${i}']`);if(s!==null){const t=L(n,o,e);s.replaceWith(...t.children)}}else if(i&&e!==null){const i=t[o]!==undefined&&t[o].slot||o;const s=n.querySelector(`slot[name='${i}']`);const r=L(n,o,e);if(s!==null){s.replaceWith(...r.children)}else{n.appendChild(r)}}}})}}function L(e,t,n){const i=document.createElementNS(e.namespaceURI,t.replace(/:/gi,"_"));while(n){const e=n.nextElementSibling;i.appendChild(n);n=e}return i}async function D(t,n,i){let r=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;const a=N(t.metadata);const l=a.fragment??`${a.namespace??a.publicNamespace}.${a.xmlTag??a.name}`;const c={};const f=i.getSettings();f.models.converterContext??=new u;if(!f[l]){f[l]={}}const p=await v(a,n,r,i);const g=Object.keys(p);const h=j(a,f,n,r,i,c,p);try{const u=await M(n,i,a,r,p);let g={};if(f.models.viewData){g=f.models.viewData.getProperty("/controlConfiguration")}let h=p;Object.keys(p).forEach(e=>{let n=p[e];const i=t?.metadata?.properties[e];if(i?.validate){n=i.validate(n)||n}if(n?.isA?.(k)&&!n.getModel().isA("sap.ui.model.odata.v4.ODataMetaModel")){p[e]=n.getObject()}});p.isPublic=r;const b=new t({...p,...u},g,f);h=b.getProperties();Object.keys(a.metadataContexts).forEach(function(e){if(h.hasOwnProperty(e)){const t=h[e];if(m(t)){c[e]=t}else if(typeof t==="object"){const n=R(t);f.models.converterContext.setProperty(n,t);const i=f.models.converterContext.createBindingContext(n);U(n);c[e]=i}}});const y=new s(n,h,t);c["this"]=y.createBindingContext("/");let x;const C=n?.getAttribute("core:require")||undefined;if(d.isTraceInfoActive()){const e=d.traceMacroCalls(l,a,c,n,i);if(e?.macroInfo){x=f["_macroInfo"];f["_macroInfo"]=e.macroInfo}}A(l,a,c,n);const $=i.with(c,a.isOpen!==undefined?!a.isOpen:true);const w=n.parentNode;let P;let N;if(w){P=Array.from(w.children).indexOf(n);if(a.fragment){N=$.insertFragment(l,n)}else{const i=Object.keys(X);const s=await o.renderAsXML(async()=>b.getTemplate(n));if(t.isRuntime){for(const e in X){if(!i.includes(e)){const t=U(e);f.models.converterContext.setProperty(e,t)}}}let r="";if(s){let t=false;let i=G(s,true);for(const e of i){const n=document.createNodeIterator(e,NodeFilter.SHOW_TEXT);let i=n.nextNode();if(e.localName==="parsererror"){t=true}while(i){if(i.textContent&&i.textContent.trim().length>0){r=i.textContent}i=n.nextNode()}}if(t){e.error(`Error while processing building block ${a.xmlTag||a.name}`,r);i=await H(async()=>{const e=await o.renderAsXML(async()=>b.getTemplate(n));return G(e??"",true)})}else if(r.length>0){e.error(`Error while processing building block ${a.xmlTag||a.name}`);const t=F([`Error while processing building block ${a.xmlTag||a.name}`,`Trailing text was found in the XML: ${r}`],i.map(e=>e.outerHTML).join("\n"));i=G(t,true)}n.replaceWith(...i);const l=i.map(async e=>{I(u,a.aggregations,e,false);return $.visitNode(e)});N=Promise.all(l)}else{n.remove();N=Promise.resolve()}}await N;const i=w.children[P];I(u,a.aggregations,i,true);if(i!==undefined){const e=i.querySelectorAll("slot");e.forEach(function(e){e.remove()});if(C){let e=i.getAttributeNS("sap.ui.core","require");if(e){e=e.substring(0,e.length-1)+","+C.substring(1)}else{e=C}i.setAttributeNS("sap.ui.core","core:require",e)}if(p.class&&!t.isRuntime){i.classList.add(p.class)}}}if(x){f["_macroInfo"]=x}else{delete f["_macroInfo"]}}catch(t){const i={initialProperties:{},resolvedProperties:{},missingContexts:h};for(const e of g){const t=p[e];if(m(t)){i.initialProperties[e]={path:t.getPath(),value:t.getObject()}}else{i.initialProperties[e]=t}}for(const e in p){const t=p[e];if(!g.includes(e)){if(m(t)){i.resolvedProperties[e]={path:t.getPath(),value:t.getObject()}}else{i.resolvedProperties[e]=t}}}e.error(t);const o=F([`Error while processing building block ${a.name}`],n.outerHTML,i,t.stack);const s=G(o,true);n.replaceWith(...s)}}function W(e,t,n){const i=n.name||n.model||undefined;if(e[i]){return}try{let o=n.path;if(n.model!==null){o=`${n.model}>${o}`}const s=t.getSettings();if(n.model==="converterContext"&&n.path.length>0){e[i]=s.models[n.model].getContext(n.path)}else if(!s.bindingContexts[n.model]&&s.models[n.model]){e[i]=s.models[n.model].getContext(n.path)}else{e[i]=t.getContext(o)}}catch(e){}}function V(e){if(e.metadata.namespace!==undefined){c.plugIn(async(t,n)=>D(e,t,n),e.metadata.namespace,e.metadata.xmlTag||e.metadata.name)}if(e.metadata.publicNamespace!==undefined){c.plugIn(async(t,n)=>D(e,t,n,true),e.metadata.publicNamespace,e.metadata.xmlTag||e.metadata.name)}}f.registerBuildingBlock=V;function q(e){if(e.metadata.namespace!==undefined){c.plugIn(null,e.metadata.namespace,e.metadata.xmlTag||e.metadata.name)}if(e.metadata.publicNamespace!==undefined){c.plugIn(null,e.metadata.publicNamespace,e.metadata.xmlTag||e.metadata.name)}}f.unregisterBuildingBlock=q;function F(e,t,n,i){const o=e.map(e=>z`<m:Label text="${J(e)}"/>`);let s="";if(i){const e=btoa(`<pre>${i}</pre>`);s=z`<m:FormattedText htmlText="{= BBF.base64Decode('${e}') }" />`}let r="";if(n){let e="";try{e=btoa(JSON.stringify(n,null,4))}catch(t){e=btoa(JSON.stringify({error:"Could not stringify additionalData due to circular structure."},null,4))}r=z`<m:VBox>
			<m:Label text="Trace Info"/>
			<code:CodeEditor type="json"  value="${`{= BBF.base64Decode('${e}') }`}" height="300px" />
		</m:VBox>`}return z`<controls:FormElementWrapper xmlns:controls="sap.fe.core.controls">
					<m:VBox xmlns:m="sap.m" xmlns:code="sap.ui.codeeditor" core:require="{BBF:'sap/fe/core/buildingBlocks/templating/BuildingBlockFormatter'}">
					${o}
					${s}
						<grid:CSSGrid gridTemplateRows="fr" gridTemplateColumns="repeat(2,1fr)" gridGap="1rem" xmlns:grid="sap.ui.layout.cssgrid" >
							<m:VBox>
								<m:Label text="How the building block was called"/>
								<code:CodeEditor type="xml" value="${`{= BBF.base64Decode('${btoa(t.replaceAll("&gt;",">"))}') }`}" height="300px" />
							</m:VBox>
							${r}
						</grid:CSSGrid>
					</m:VBox>
				</controls:FormElementWrapper>`}const X={};function R(e){const t=`/uid--${n()}`;X[t]=e;return t}f.storeObjectValue=R;function U(e){const t=X[e];delete X[e];return t}let _=false;const H=async function(e){_=true;let t;try{t=e()}finally{_=false}return t};function G(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;if(t){e=`<template\n\t\t\t\t\t\txmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"\n\t\t\t\t\t\txmlns:m="sap.m"\n\t\t\t\t\t\txmlns:macros="sap.fe.macros"\n\t\t\t\t\t\txmlns:core="sap.ui.core"\n\t\t\t\t\t\txmlns:mdc="sap.ui.mdc"\n\t\t\t\t\t\txmlns:customData="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1">${e}</template>`}const n=$.parseFromString(e,"text/xml");let i=n.firstElementChild;while(i?.localName==="template"){i=i.firstElementChild}const o=i?.parentElement?i?.parentElement.children:[i];return Array.from(o)}f.parseXMLString=G;function J(e){return e?.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}f.escapeXMLAttributeValue=J;function K(e){const t=G(e,true);if(t?.length>0&&t[0]?.localName==="parsererror"){const n=t[0].innerText||t[0].innerHTML;return F([n.split("\n")[0]],e)}else{return e}}const z=function(e){let t="";let n;for(var i=arguments.length,o=new Array(i>1?i-1:0),s=1;s<i;s++){o[s-1]=arguments[s]}for(n=0;n<o.length;n++){t+=e[n];const i=o[n];if(Array.isArray(i)&&i.length>0&&typeof i[0]==="string"){t+=i.flat(5).join("\n").trim()}else if(p(i)){t+=i.map(e=>e()).join("\n")}else if(b(i)){const e=y(i);t+=J(e)}else if(typeof i==="undefined"){t+="{this>undefinedValue}"}else if(typeof i==="function"){t+=i()}else if(typeof i==="object"&&i!==null){if(m(i)){t+=i.getPath()}else{const e=R(i);t+=`${e}`}}else if(i&&typeof i==="string"&&!i.startsWith("<")&&!i.startsWith("&lt;")){t+=J(i)}else{t+=i}}t+=e[n];t=t.trim();if(_){return K(t)}return t};f.xml=z;const Q=function(e,t){if(e){return t}else{return""}};f.addConditionallyToXML=Q;const Y=function(e,t){if(t!==undefined&&!h(t)){return()=>z`${e}="${t}"`}else{return()=>""}};f.addAttributeToXML=Y;return f},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/buildingBlocks/templating/BuildingBlockTemplatingBase", ["sap/base/util/deepClone","sap/base/util/merge","sap/fe/core/buildingBlocks/templating/BuildingBlockTemplateProcessor","sap/fe/core/converters/ConverterContext","sap/fe/core/converters/ManifestWrapper","sap/fe/core/helpers/StableIdHelper","sap/fe/core/templating/DataModelPathHelper"],function(t,e,n,r,o,i,a){"use strict";var s={};var c=a.getTargetObjectPath;var u=i.generate;var l=n.unregisterBuildingBlock;var f=n.registerBuildingBlock;var d=n.addConditionallyToXML;var p=n.addAttributeToXML;function g(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,m(r.key),r)}}function v(t,e,n){return e&&g(t.prototype,e),n&&g(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function m(t){var e=h(t,"string");return"symbol"==typeof e?e:e+""}function h(t,e){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}let y=function(){function n(n,i,a){this.isPublic=false;this.getConverterContext=function(n,i,a,s){const u=a.appComponent;const l=a.models.viewData?.getData();let f=Object.assign({},l);delete f.resourceModel;delete f.appComponent;f=t(f);let d={};const p=c(n.contextLocation??n);const g=n.contextLocation?.targetEntitySet?.name??n.targetEntitySet?.name;if(p===l?.contextPath||p===`/${l?.entitySet}`||g===l?.entitySet){d=f.controlConfiguration}f.controlConfiguration=e(d,s||{});return r.createConverterContextForMacro(n.startingEntitySet.name,a.models.metaModel,u?.getDiagnostics(),e,n.contextLocation,new o(f,u))};Object.keys(n).forEach(t=>{this[t]=n[t]});this.resourceModel=a?.models?.["sap.fe.i18n"]}s=n;var i=n.prototype;i.createId=function t(){if(this.id){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++){n[r]=arguments[r]}return u([this.id,...n])}return undefined};i.getContentId=function t(e){return`${e}-content`};i.getTranslatedText=function t(e,n,r){return this.resourceModel?.getText(e,n,r)||e};i.getProperties=function t(){const e={};for(const t in this){if(this.hasOwnProperty(t)){e[t]=this[t]}}return e};n.register=function t(){f(this)};n.unregister=function t(){l(this)};i.addConditionally=function t(e,n){return d(e,n)};i.attr=function t(e,n){return p(e,n)};return v(n,null,[{key:"metadata",get:function(){return this.internalMetadata},set:function(t){this.internalMetadata=t}}])}();y.isRuntime=false;s=y;return s},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/controllerextensions/BaseControllerExtension", ["sap/fe/base/ClassSupport","sap/ui/core/mvc/ControllerExtension"],function(t,e){"use strict";var r,o;var n={};var c=t.defineUI5Class;function s(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,i(t,e)}function i(t,e){return i=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},i(t,e)}let a=(r=c("sap.fe.core.controllerextensions.BaseControllerExtension"),r(o=function(t){function e(){var e;e=t.call(this)||this;e.init();return e}n=e;s(e,t);var r=e.prototype;r.getInterface=function e(){var r=this;const o=t.prototype.getInterface.call(this);const n=this.getMetadata();const c=n.getAllMethods();const s={};for(const t in c){const e=c[t];if(e.overrideExecution&&(e.overrideExecution==="AfterAsync"||e.overrideExecution==="BeforeAsync")){s[t]=[o[t]];Object.defineProperty(o,t,{configurable:true,set:e=>s[t].push(e),get:()=>async function(){const o=s[t];if(e.overrideExecution==="BeforeAsync"){o.reverse()}let n;for(var c=arguments.length,i=new Array(c),a=0;a<c;a++){i[a]=arguments[a]}for(const t of o){n=await t.apply(r,i)}return n}})}}return o};return e}(e))||o);n=a;return n},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/controllerextensions/BusyLocker", ["sap/base/Log"],function(e){"use strict";const n=30,t={},u={getId:function(){return"BusyLocker.ReferenceDummy"},setBusy:function(n){e.info(`setBusy(${n}) triggered on dummy reference`)}};function o(e,n){return e.getId()+(n||"/busy")}function i(e,n){return o(e,n)in t}function c(n,i){if(!n||!n.getId){e.warning("No reference for BusyLocker, using dummy reference");n=u}i=i||"/busy";const c=o(n,i);if(!(c in t)){t[c]={id:c,path:i,reference:n,count:0}}return t[c]}function r(e){delete t[e.id]}function s(t){const u=t.reference;const o=t.count!==0;if(u.isA&&u.isA("sap.ui.model.Model")){u.setProperty(t.path,o,undefined,true)}else if(u.setBusy){u.setBusy(o)}clearTimeout(t.timeout);if(o){t.timeout=setTimeout(function(){e.error(`busy lock for ${t.id} with value ${t.count} timed out after ${n} seconds!`)},n*1e3)}else{r(t)}return o}function f(n,t){if(t===0){n.count=0;e.info(`busy lock count '${n.id}' was reset to 0`)}else{n.count+=t;e.info(`busy lock count '${n.id}' is ${n.count}`)}}const d={lock:function(e,n){return this._updateLock(e,n,1)},unlock:function(e,n){return this._updateLock(e,n,-1)},isLocked:function(e,n){return i(e,n)},_updateLock:function(e,n,t){const u=c(e,n);f(u,t);return s(u)}};return d},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/controllerextensions/CollaborativeDraft", ["sap/base/Log","sap/fe/base/ClassSupport","sap/ui/core/Element","../CommonUtils","../templating/UIFormatters","./BaseControllerExtension","./collaboration/CollaborationCommon"],function(t,e,i,o,r,n,a){"use strict";var s,c;var l={};var f=a.shareObject;var u=a.addSelf;var d=a.CollaborationUtils;var h=a.CollaborationFieldGroupPrefix;var g=a.Activity;var p=r.FieldEditMode;var v=e.defineUI5Class;function b(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,C(t,e)}function C(t,e){return C=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},C(t,e)}let P=(s=v("sap.fe.core.controllerextensions.CollaborativeDraft"),s(c=function(e){function r(){return e.apply(this,arguments)||this}l=r;b(r,e);var n=r.prototype;n.getCollaborativeDraftService=function t(){this.collaborativeDraftService=this.collaborativeDraftService??this.base.getAppComponent().getCollaborativeDraftService();return this.collaborativeDraftService};n.handleContentFocusIn=function t(e,o){if(e.isA("sap.m.Tokenizer")){e=e.getParent()?.getParent()}let r=false;if(o){r=!e.getDomRef()?.contains(o.relatedTarget)}if(e.isA("sap.ui.mdc.MultiValueField")||r){const t=this.getLastFocusId();if(t&&t!==e.getId()&&this.getLastFocusFieldGroups()===e.getFieldGroupIds().join(",")){const e=i.getElementById(t);this?.sendFocusOutMessage(e)}this.setLastFocusInformation(e);this.sendFocusInMessage(e)}};n.handleContentFocusOut=function t(e){let o=e.getSource();if(o.isA("sap.m.Tokenizer")){o=o.getParent()?.getParent()}if(!o.isA("sap.ui.mdc.MultiValueField")){while(o&&!o?.isA("sap.fe.macros.Field")){o=o?.getParent()}if(!o)return}const r=e.getParameter("fieldGroupIds");if(r.some(t=>t.startsWith(h))){const t=e.getSource();let r=i.getActiveElement();while(r&&r!==t){r=r.getParent()}if(r!==t){this.sendFocusOutMessage(o);if(this.getLastFocusId()===o.getId()){this.setLastFocusInformation(undefined)}}}};n.getLastFocusId=function t(){return this.lastFocusId};n.getLastFocusFieldGroups=function t(){return this.lastFocusFieldGroups};n.setLastFocusInformation=function t(e){this.lastFocusId=e?.getId();this.lastFocusFieldGroups=e?.getFieldGroupIds().join(",")};n.sendFocusInMessage=function t(e){const i=this.getCollaborationPath(e);if(i){this.send({action:g.Lock,content:i})}};n.sendFocusOutMessage=function t(e){if(!e){return}const i=this.getCollaborationPath(e);if(i){this.send({action:g.Unlock,content:i})}};n.getCollaborationPath=function t(e){const i=e?.getBindingContext();if(!i){return}if(e.isA("sap.fe.macros.Field")){if(!e.getMainPropertyRelativePath()){return undefined}const t=e.content;if(![p.Editable,p.EditableDisplay,p.EditableReadOnly].includes(t?.getProperty("editMode"))){return undefined}return`${i.getPath()}/${e.getMainPropertyRelativePath()}`}else if(e.isA("sap.ui.mdc.MultiValueField")){const t=e.getBindingInfo("items").template.getBindingPath("key");return`${i.getPath()}/${e.getBindingInfo("items").path}/${t}`}};n.send=function t(e){this.getCollaborativeDraftService().send(this.getView(),e)};n.isConnected=function t(){return this.getCollaborativeDraftService().isConnected(this.getView())};n.connect=async function t(e){return this.getCollaborativeDraftService().connect(e,this.getView())};n.disconnect=function t(){const e=this.getView().getModel("ui");this.cleanDraftRoot();e.setProperty("/hasCollaborationAuthorization",undefined);if(this.isConnected()){this.getCollaborativeDraftService().disconnect(this.getView())}};n.isCollaborationEnabled=function t(){return this.getCollaborativeDraftService().isCollaborationEnabled(this.getView())};n.retainAsyncMessages=function t(e){return this.getCollaborativeDraftService().retainAsyncMessages(this.getView(),e)};n.releaseAsyncMessages=function t(e){return this.getCollaborativeDraftService().releaseAsyncMessages(this.getView(),e)};n.updateLocksForContextPath=function t(e,i){return this.getCollaborativeDraftService().updateLocksForContextPath(this.getView(),e,i)};n.getCurrentDraftRootPath=function t(){const e=this.getView().getModel("internal");return e?.getProperty("/collaborativeDraftRootPath")};n.getDraftUserListPromise=function t(){const e=this.getView().getModel("internal");return e?.getProperty("/collaborativeDraftUserListPromise")};n.isInitialShare=function t(){const e=this.getView().getModel("internal");return e?.getProperty("/collaborativeDraftShareInitial")===true};n.setInitialShare=function t(e){const i=this.getView().getModel("internal");i?.setProperty("/collaborativeDraftShareInitial",e)};n.setDraftRoot=function e(i,o){const r=this.getView().getModel("internal");let n;if(i.getObject("DraftAdministrativeData/DraftAdministrativeUser")===undefined){n=new Promise(e=>{const o=i.getModel().bindList("DraftAdministrativeData/DraftAdministrativeUser",i);o.requestContexts().then(t=>e(t.map(t=>t.getObject()))).catch(e=>{t.error("Error while loading the DraftAdministrativeUser "+e)})})}else{n=i.requestSideEffects(["DraftAdministrativeData/DraftAdministrativeUser"],o).then(async()=>i.requestObject("DraftAdministrativeData/DraftAdministrativeUser"))}r?.setProperty("/collaborativeDraftUserListPromise",n);r?.setProperty("/collaborativeDraftRootPath",i.getPath())};n.cleanDraftRoot=function t(){const e=this.getView().getModel("internal");e?.setProperty("/collaborativeDraftUserListPromise",undefined);e?.setProperty("/collaborativeDraftRootPath",undefined)};n.activateCollaboration=async function e(i,r){try{const e=this.getView().getModel("ui");if(r){e.setProperty("/hasCollaborationAuthorization",undefined);this.disconnect();return false}const n=o.findOrCreateRootContext(i,"Draft",this.getView(),this.base.getAppComponent(),{$$groupId:i.getGroupId(),$select:"DraftAdministrativeData/DraftAdministrativeUser"}).rootContext;if(!n){t.error("Couldn't find draft root context for enabling collaboration");return false}const a=this.getCurrentDraftRootPath();if(a!==n.getPath()){t.error(`Unexpected path for checking collaboration authorizations: ${n.getPath()} (expecting ${a})`)}const s=await this.getDraftUserListPromise();if(e.getProperty("/hasCollaborationAuthorization")!==undefined){return e.getProperty("/hasCollaborationAuthorization")}const c=d.getMe(this.base.getAppComponent());const l=s?.some(t=>t.UserID===c.id)??false;e.setProperty("/hasCollaborationAuthorization",l);e.setProperty("/showCollaborationStrip",!l);if(l){this.connect(n).catch(e=>{t.error("Error when connecting to the collaboration draft "+e)})}else if(this.isConnected()){this.getCollaborativeDraftService().disconnect(this.getView())}return l}catch(e){t.error("Error while activating the collaborative draft "+e);return false}};n.executeShareAction=async function e(i){try{const e=o.findOrCreateRootContext(i,"Draft",this.getView(),this.base.getAppComponent(),{$$groupId:i.getGroupId(),$select:"DraftAdministrativeData/DraftAdministrativeUser"}).rootContext;if(!e){t.error("Couldn't find draft root context for enabling collaboration");return}const r=this.getCurrentDraftRootPath();if(r!==undefined&&r!==e.getPath()){this.disconnect()}if(r===e.getPath()){return}const n=this.isInitialShare()?f(e,undefined,e.getGroupId()):u(e);this.setInitialShare(false);this.setDraftRoot(e,e.getGroupId());await n}catch(e){t.error("Error while adding current user in the collaborative draft "+e)}};n.sendLockChange=function t(e,i,o){this.send({action:o?g.Lock:g.Unlock,content:`${e.getPath()}/${i}`})};n.sendPropertyValuesChange=function t(e,i){if(!Array.isArray(i)){i=[i]}this.send({action:g.Change,content:i.map(t=>`${e.getPath()}/${t}`)})};n.sendContextsCreated=function t(e){this.send({action:g.Create,content:e.map(t=>t.getPath())})};n.sendContextsDeleted=function t(e){this.send({action:g.Delete,content:e.map(t=>t.getPath())})};return r}(n))||c);l=P;return l},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/controllerextensions/ContextSharing", ["sap/fe/base/ClassSupport","sap/ui/core/mvc/ControllerExtension","sap/ui/core/mvc/OverrideExecution"],function(e,t,r){"use strict";var i,n,o,c,a;var u={};var p=e.publicExtension;var l=e.extensible;var s=e.defineUI5Class;function f(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,v(e,t)}function v(e,t){return v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},v(e,t)}function b(e,t,r,i,n){var o={};return Object.keys(i).forEach(function(e){o[e]=i[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer?(Object.defineProperty(e,t,o),null):o}let y=(i=s("sap.fe.core.controllerextensions.ContextSharing"),n=p(),o=l(r.After),i(c=(a=function(e){function t(){return e.apply(this,arguments)||this}u=t;f(t,e);var r=t.prototype;r.getContext=function e(t){return t};return t}(t),b(a.prototype,"getContext",[n,o],Object.getOwnPropertyDescriptor(a.prototype,"getContext"),a.prototype),a))||c);u=y;return u},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/controllerextensions/EditFlow", ["sap/base/Log","sap/fe/base/ClassSupport","sap/fe/core/CommonUtils","sap/fe/core/controllerextensions/BaseControllerExtension","sap/fe/core/controllerextensions/BusyLocker","sap/fe/core/controllerextensions/Feedback","sap/fe/core/controllerextensions/collaboration/CollaborationCommon","sap/fe/core/controllerextensions/editFlow/TransactionHelper","sap/fe/core/controllerextensions/editFlow/draft","sap/fe/core/controllerextensions/editFlow/editFlowConstants","sap/fe/core/controllerextensions/editFlow/sticky","sap/fe/core/converters/MetaModelConverter","sap/fe/core/helpers/EditState","sap/fe/core/helpers/ModelHelper","sap/fe/core/helpers/ResourceModelHelper","sap/fe/core/helpers/SemanticKeyHelper","sap/fe/core/library","sap/m/Button","sap/m/Dialog","sap/m/MessageToast","sap/m/Text","sap/ui/core/Element","sap/ui/core/Lib","sap/ui/core/Messaging","sap/ui/core/message/Message","sap/ui/core/message/MessageType","sap/ui/core/mvc/OverrideExecution","sap/ui/model/Filter","sap/ui/model/Sorter","../ActionRuntime","../controls/Recommendations/ConfirmRecommendationDialog","../converters/ManifestSettings","../helpers/TypeGuards","./editFlow/draftDataLossPopup","./routing/NavigationReason"],function(e,t,n,i,o,s,a,r,c,l,d,g,f,h,u,p,y,m,C,w,D,M,b,P,v,E,A,x,S,I,R,_,k,T,O){"use strict";var F,B,H,V,N,j,L,$,G,U,q,K,W,z,J,Q,X,Y,Z,ee,te,ne,ie,oe,se,ae,re,ce,le,de,ge,fe,he,ue,pe,ye,me,Ce,we,De,Me,be,Pe,ve,Ee,Ae,xe,Se;var Ie=k.isFulfilled;var Re=_.CreationMode;var _e=R.RecommendationDialogDecision;var ke=R.ConfirmRecommendationDialog;var Te=u.getResourceModel;var Oe=g.getInvolvedDataModelObjects;var Fe=g.convertTypes;var Be=a.Activity;var He=s.triggerConfiguredSurvey;var Ve=s.TriggerType;var Ne=s.StandardActions;var je=t.publicExtension;var Le=t.methodOverride;var $e=t.finalExtension;var Ge=t.extensible;var Ue=t.defineUI5Class;function qe(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Ke(e,t)}function Ke(e,t){return Ke=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ke(e,t)}function We(e,t,n,i,o){var s={};return Object.keys(i).forEach(function(e){s[e]=i[e]}),s.enumerable=!!s.enumerable,s.configurable=!!s.configurable,("value"in s||s.initializer)&&(s.writable=!0),s=n.slice().reverse().reduce(function(n,i){return i(e,t,n)||n},s),o&&void 0!==s.initializer&&(s.value=s.initializer?s.initializer.call(o):void 0,s.initializer=void 0),void 0===s.initializer?(Object.defineProperty(e,t,s),null):s}const ze=y.ProgrammingModel,Je=y.Constants,Qe=y.DraftStatus,Xe=y.EditMode,Ye=y.StartupMode;let Ze=(F=Ue("sap.fe.core.controllerextensions.EditFlow"),B=Le(),H=je(),V=$e(),N=je(),j=$e(),L=je(),$=$e(),G=je(),U=Ge(A.After),q=je(),K=Ge("AfterAsync"),W=je(),z=Ge("AfterAsync"),J=je(),Q=Ge(A.After),X=je(),Y=Ge(A.After),Z=je(),ee=Ge("AfterAsync"),te=je(),ne=Ge(A.After),ie=je(),oe=Ge(A.After),se=je(),ae=Ge(A.After),re=je(),ce=Ge(A.After),le=je(),de=Ge(A.After),ge=je(),fe=$e(),he=je(),ue=$e(),pe=je(),ye=$e(),me=je(),Ce=$e(),we=je(),De=$e(),Me=je(),be=Ge(A.After),Pe=je(),ve=Ge(A.Instead),Ee=je(),Ae=$e(),F(xe=(Se=function(t){function i(){var n;for(var i=arguments.length,o=new Array(i),s=0;s<i;s++){o[s]=arguments[s]}n=t.call(this,...o)||this;n.syncTasks=Promise.resolve();n.handleSideEffects=async(t,i,o)=>{try{const e=await i;await e.created();n.requestSideEffectsForNavigationProperty(t,o??n.getView().getBindingContext())}catch(t){e.error("Error while creating the document",t)}};n.createCustomValidationMessages=(e,t)=>{const i=t.getCreationRow().data("customValidationFunction");const o=t.getBindingContext("internal")?.getProperty("creationRowCustomValidity");const s=[];let a;let r;const c=P.getMessageModel().getData().filter(e=>e.getCode()===i);P.removeMessages(c);e.forEach(e=>{if(e.messageTarget){a=M.getElementById(o[e.messageTarget].fieldId);r=`${a.getBindingContext()?.getPath()}/${a.getBindingPath("value")}`;if(!P.getMessageModel().getData().filter(e=>e.getTargets().some(e=>e===r)).length){P.addMessages(new v({message:e.messageText,processor:n.getView().getModel(),type:E.Error,code:i,technical:false,persistent:false,target:r}))}const t=P.getMessageModel().getData().filter(e=>e.getTargets().some(e=>e===r));t[0].addControlId(o[e.messageTarget].fieldId)}else{s.push({code:i,text:e.messageText,persistent:true,type:E.Error})}});if(s.length){n.getMessageHandler().showMessageDialog({customMessages:s})}};n.resolveCreationMode=(e,t,i)=>{if(e!==Re.NewPage){return e}else{const e=t.getModel().getMetaModel();const o=n.getProgrammingModel(t);if(!t.isRelative()){const n=Oe(e.getMetaContext(t.getPath()));const i=n.targetEntitySet,s=(o===ze.Draft?i?.annotations.Common?.DraftRoot:i?.annotations.Session?.StickySessionSupported)?.NewAction?.toString();if(s&&n.targetEntityType.actions[s].parameters.length>1){return Re.Deferred}}const s=n.getTransactionHelper().getCreationParameters(t,i,n.getAppComponent());if(s.length){return Re.Deferred}return Re.Async}};return n}qe(i,t);var s=i.prototype;s.onInit=function e(){this._hiddenDraft=this.getAppComponent().getEnvironmentCapabilities().getCapabilities().HiddenDraft};s.getInterface=function e(){return t.prototype.getInterface.call(this)};s.getAppComponent=function e(){return this.base.getAppComponent()};s.editDocument=async function t(n){const i=this.getTransactionHelper();const o=this._getRootViewController();const s=n.getModel();const a=this.getView().getViewData();const r=this.getProgrammingModel(n);const c="editGroup";const l=this.getMessageHandler().registerToHoldMessages();try{const e=await this.getRootContext(n);await this.base.editFlow.onBeforeEdit({context:e});let t=this._isFclEnabled()?o.getRightmostContext():n;if(t===undefined||r===ze.Draft&&this.getProgrammingModel(t)!==ze.Draft){t=n}const d={};const g=i.editDocument(e,this.base.getView(),this.getAppComponent(),this.getMessageHandler(),c,d);this.syncTask(g);const f={rootSiblingPathPromise:g};this._setStickySessionInternalProperties(r,s);let u;const p=t!==e||a?.viewLevel>1;if(p){u=this._computeSiblingInformation(e,t,r,true,f,c)}n.getModel().submitBatch(c);let y=await u;const m=await g;let C=m;if(p&&C){if(y===undefined){y=await this._computeSiblingInformation(e,t,r,true,f,"$auto")}C=this._getNavigationTargetForEdit(n,m,y)}else{this._updatePathsInHistory([])}let w=false;if(m){if(r!==ze.Sticky&&h.isCollaborationDraftSupported(s.getMetaModel())&&d.existingDraftReused!==true){this.base.collaborativeDraft.setInitialShare(true)}this.base.recommendations.resetRejectedRecommendations(C);await this.base.editFlow.onAfterEdit({context:C});await this._handleNewContext(C,{editable:true,recreateContext:false,forceFocus:true});if(r===ze.Sticky){let e;if(this._isFclEnabled()){e=m?.getModel().getKeepAliveContext(m.getPath())}else{e=m}await this.handleStickyOn(e)}else if(this._hiddenDraft){await this.handleHiddenDraftEdit(m)}w=true;this.setEditMode(Xe.Editable,false);this.setDocumentModified(false)}this.getMessageHandler().showMessageDialog({unHoldKey:l,overrideUIDecision:w});return C}catch(t){this.getMessageHandler().showMessageDialog({unHoldKey:l});e.error("Error while editing the document",t);return Promise.reject(t)}};s.requestSideEffectsOnDelete=function e(t,n){let i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;if(n&&this.requestSideEffectsForNavigationProperty(t,n,i)){const e=h.getMessagesPath(t.getModel().getMetaModel(),n.getPath());if(e&&this.getTransactionHelper().isListBindingHierarchical(t)){this.getAppComponent().getSideEffectsService().requestSideEffects([e],n)}}};s.requestSideEffectsForNavigationProperty=function e(t,i){let o=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;if(i){const e=h.getRelativeMetaPathForListBinding(i,t);if((o||!n.hasTransientContext(t))&&e){this.getAppComponent().getSideEffectsService().requestSideEffectsForNavigationProperty(e,i);return true}}return false};s.deleteMultipleDocuments=async function t(n,i){i.beforeDeleteCallBack=this.base.editFlow.onBeforeDelete;i.requestSideEffects=i.requestSideEffects!==false;let s;let a=false;const r=this.getGlobalUIModel();const c=this.getView().byId(i.controlId)??M.getElementById(i.controlId);let l=[];if(c?.isA("sap.ui.mdc.Table")){s=c.getParent();a=s.tableDefinition?.control?.creationMode===Re.InlineCreationRows;l=n.filter(e=>e.isInactive())}if(!c){throw new Error("parameter controlId missing or incorrect")}else{i.parentControl=c}const d=c.getBinding("items")||c.getRowBinding();i.bFindActiveContexts=true;o.lock(r);try{const e=await this.deleteDocumentTransaction(n,i);if(!e){return}if(this.getProgrammingModel(i?.selectedContexts?.[0]??n[0])===ze.Sticky){this.setDocumentModified(true)}let t;if(c.isA("sap.ui.mdc.Table")){c.clearSelection()}const o=this.getView().getBindingContext();if(d.isRoot()){t=this.getTransactionHelper().refreshListBinding(d,this.getAppComponent())}else if(i.requestSideEffects){this.requestSideEffectsOnDelete(d,o,a)}if(!this.getAppComponent()._isFclEnabled()){f.setEditStateDirty()}const r=this.base.recommendations.isRecommendationEnabled();if(r){this.base.recommendations.ignoreRecommendationForContexts(n)}n?.forEach(e=>this.base.recommendations.resetRejectedRecommendations(e));await this.base.editFlow.onAfterDelete({contexts:n});if(s){if(a&&l.length>0){s.removeEmptyRowsMessages(l);await s.setUpEmptyRows(s.getContent(),false)}}this._sendActivity(Be.Delete,n);return await t}catch(t){if(d.isRoot()){await this.getTransactionHelper().refreshListBinding(d,this.getAppComponent())}else if(i.requestSideEffects){const e=this.getView().getBindingContext();this.requestSideEffectsOnDelete(d,e,a)}e.error("Error while deleting the document(s)",t)}finally{o.unlock(r)}};s.updateDocument=async function t(n,i){const o=this.getView().getBindingContext();const s=this.getProgrammingModel(n)===ze.Draft;this.getMessageHandler().removeTransitionMessages();const a=this.getMessageHandler().registerToHoldMessages();return this.syncTask(async()=>{if(o){this.setDocumentModified(true);if(!this._isFclEnabled()){f.setEditStateDirty()}if(s){this.setDraftStatus(Qe.Saving)}}try{await i;const e=this.getView().getBindingContext();if(!s||!e||e!==o){return}const t=e.getModel().getMetaModel();const n=t.getMetaContext(e.getPath()).getObject("@sapui.name");const a=p.getSemanticKeys(t,n);if(a?.length&&e.getProperty("IsActiveEntity")===false&&e.getProperty("HasActiveEntity")===true){const t=this._getSemanticMapping();const n=t?.semanticPath,i=p.getSemanticPath(e,true);if(n&&n!==i){await this._handleNewContext(e,{editable:true,recreateContext:false})}}this.setDraftStatus(Qe.Saved)}catch(t){e.error("Error while updating the document",t);if(s&&o){this.setDraftStatus(Qe.Clear)}}finally{await this.getMessageHandler().showMessages({unHoldKey:a})}})};s.getParentContextFromSelection=function e(t){if(t&&t.length>1){throw new Error(`Cannot create a new document in a TreeTable with ${t.length} parents`)}return t?.length===1?t[0]:undefined};s.createDocument=async function e(t,n){let i;let o;const s=this.getView().getModel();let a;if(s&&h.isCollaborationDraftSupported(s.getMetaModel())){a="DraftAdministrativeData/DraftAdministrativeUser,IsActiveEntity,HasActiveEntity"}if(typeof t==="object"&&t.isA&&t.isA("sap.fe.core.IRowBindingInterface")){i=t.getRowBinding({$select:a,$$groupId:"$auto.Workers"});t=i}if(n.creationMode!==Re.External){if(typeof t==="string"){const e=this.getView().getModel()?.bindList(t,undefined,undefined,undefined,{$select:a,$$groupId:"$auto.Workers"});if(!e){return}else{i=e}delete n.createAtEnd}else if(typeof t==="object"&&t.isA&&t.isA("sap.ui.model.odata.v4.ODataListBinding")){i=t}else{throw new Error("Binding object or path expected")}if(this.getTransactionHelper().isListBindingHierarchical(i)){o=this.getParentContextFromSelection(n.selectedContexts)}}const r=this.resolveCreationMode(n.creationMode,i,n.data);this.getAppComponent().getRouterProxy().removeIAppStateKey();if((n.singleDraftForCreate!==undefined?n.singleDraftForCreate:this.getAppComponent().getManifest()["sap.fe"]?.app?.singleDraftForCreate)&&i===i.getRootBinding()&&i.getHeaderContext()!==null){const e=i.getModel()?.bindList(i.getPath(),i.getContext(),new S("DraftAdministrativeData/LastChangeDateTime",true),new x({filters:[new x({path:"IsActiveEntity",operator:"EQ",value1:false}),new x({path:"HasActiveEntity",operator:"EQ",value1:false})],and:true}));const s=await(e?.requestContexts(0,1));if(s.length>0){return this._handleNewContext(s[0],{editable:true,recreateContext:false}).then(()=>e?.destroy())}e?.destroy();return this._handleCreationMode(r,t,n,i,o)}return this._handleCreationMode(r,t,n,i,o)};s._handleCreationMode=async function e(t,n,i,o,s){await this.syncTask();this._updatePathsInHistory([]);switch(t){case Re.External:return this.createExternalDocument(n,i.outbound);case Re.Deferred:return this.createDeferredDocument(o,s,i.data);case Re.CreationRow:return i.creationRow?this.createCreateRowDocument({creationRow:i.creationRow,skipSideEffects:i.skipSideEffects,createAtEnd:i.createAtEnd}):undefined;case Re.Inline:return this.createDialogInlineDocument({creationMode:Re.Inline,tableId:i.tableId,createAtEnd:i.createAtEnd,skipSideEffects:i.skipSideEffects,parentContext:s,data:i.data},o);case Re.CreationDialog:if(o.isRelative()){return this.createDialogInlineDocument({creationMode:Re.CreationDialog,tableId:i.tableId,createAtEnd:i.createAtEnd,skipSideEffects:i.skipSideEffects,parentContext:s,data:i.data,creationDialogFields:i.creationDialogFields},o)}else{return this.createDialogAndSaveDocument({tableId:i.tableId,createAtEnd:i.createAtEnd,skipSideEffects:i.skipSideEffects,parentContext:s,data:i.data,creationDialogFields:i.creationDialogFields},o)}case Re.Sync:case Re.Async:return this.createSyncAsyncDocument({creationMode:t,data:i.data,bFromDeferred:i.bFromDeferred,skipSideEffects:i.skipSideEffects,createAction:i.createAction,parentContext:s},o);default:throw new Error(`Unhandled creationMode ${t}`)}};s.postDocumentCreation=async function e(t,n){const i=this.getProgrammingModel(n);const o=n.getModel();const s=await t;const a=s[0];this._setStickySessionInternalProperties(i,o);await this.base.editFlow.onAfterCreate({context:a});this.setEditMode(Xe.Editable);if(!n.isRelative()){if(i===ze.Sticky){const e=o.getMetaModel().getMetaContext(n.getPath());const t=Oe(e).startingEntitySet;const i=t?.annotations.Session?.StickySessionSupported?.NewAction;this.getInternalModel().setProperty("/lastInvokedAction",i)}else if(this.getTransactionHelper().isListBindingHierarchical(n)||this.getTransactionHelper().isListBindingAnalytical(n)){this.forceDraftSaveOrDiscard(true)}}if(a){if(this._hiddenDraft&&i===ze.Draft){await this.handleHiddenDraftEdit(a)}this.setDocumentModifiedOnCreate(n);if(!this._isFclEnabled()){f.setEditStateDirty()}this._sendActivity(Be.Create,a);if(h.isCollaborationDraftSupported(o.getMetaModel())&&this.isDraftRoot(a)&&!this.base.collaborativeDraft.isConnected()){this.base.collaborativeDraft.setInitialShare(true)}}};s.createCreateRowDocument=async function t(n){let i;const s=this.getAppComponent();const a=n.creationRow;const r=n.creationRow.getParent();let c=Promise.resolve();if(!r){return}const l=r.getModel()?.getMetaModel();const d=r.getRowBinding();if(this.getTransactionHelper().isListBindingHierarchical(d)){throw new Error(`Unhandled creationMode "CreationRow" with a TreeTable`)}const g=a.getBindingContext();const f=this.getCreationRowValidationFunction(r);if(a.data("disableAddRowButtonForEmptyData")==="true"){r.getBindingContext("internal")?.setProperty("creationRowFieldValidity",{})}const h=await this.syncTask(f);if(h.length>0){this.createCustomValidationMessages(h,r);e.error("Custom Validation failed");return}const u=Oe(l.getMetaContext(g.getPath())).targetEntityType;const p=g.getObject();await this._checkForValidationErrors();d.attachEventOnce("change",async()=>{await i;r.scrollToIndex(n.createAtEnd?r.getRowBinding().getLength():0)});this.handleCreateEvents(d);try{i=this.getTransactionHelper().createDocument(d,{data:Object.assign({},...Object.keys(p).filter(e=>u.navigationProperties.findIndex(t=>t.name===e)===-1).map(e=>({[e]:p[e]}))),keepTransientContextOnFailed:false,busyMode:"Local",busyId:r?.getParent()?.getTableDefinition()?.annotation.id,parentControl:this.getView(),beforeCreateCallBack:this.base.editFlow.onBeforeCreate,skipParameterDialog:s.getStartupMode()===Ye.AutoCreate,createAtEnd:n.createAtEnd,creationMode:Re.CreationRow},s,this._getResourceModel(),this.getMessageHandler(),false);if(!n.skipSideEffects){this.handleSideEffects(d,i)}await i;const t=g.getBinding();const o=t.create();a.setBindingContext(o);o.created()?.catch(()=>{e.trace("transient fast creation context deleted")});c=g.delete("$direct");return await this.postDocumentCreation(Promise.all([i,c]),d)}catch(t){if(o.isLocked(this.base.getView().getModel("ui"))){o.unlock(this.base.getView().getModel("ui"))}e.error("CreationRow navigation error: ",t)}};s.createDialogInlineDocument=async function e(t,n){let i;if(t.tableId){i=this.getView().byId(t.tableId)}if(i?.isA("sap.ui.mdc.Table")){i.getRowBinding().attachEventOnce("createCompleted",async()=>{const e=await o;const t=e.getIndex();const s=n.getAggregation();const a=s?.createInPlace??false;if(t!==undefined&&t>=0){setTimeout(function(){if(!i?.getBusy()){i?.focusRow(t,true)}},0)}else if(a){w.show(this._getResourceModel().getText("C_NEW_ELEMENT_NOT_DISPLAYED"))}if(this.getTransactionHelper().isListBindingHierarchical(n)&&!a){const t=e.getParent();const n=t?.getIndex();if(n!==undefined&&n>=0){i?.scrollToIndex(n)}}})}else{i=undefined}this.handleCreateEvents(n);const o=this.getTransactionHelper().createDocument(n,{keepTransientContextOnFailed:false,busyMode:"Local",busyId:i?.getParent()?.getTableDefinition()?.annotation.id,parentControl:this.getView(),beforeCreateCallBack:this.base.editFlow.onBeforeCreate,skipParameterDialog:this.getAppComponent().getStartupMode()===Ye.AutoCreate,createAtEnd:t.createAtEnd,creationMode:t.creationMode,parentContext:t.parentContext,data:t.data,creationDialogFields:t.creationDialogFields},this.getAppComponent(),this._getResourceModel(),this.getMessageHandler(),false);if(!t.skipSideEffects){this.handleSideEffects(n,o)}return this.postDocumentCreation(Promise.all([o,this.syncTask(o)]),n)};s.createDialogAndSaveDocument=async function t(n,i){let o;if(n.tableId){o=this.getView().byId(n.tableId);if(o?.isA("sap.ui.mdc.Table")!==true){o=undefined}}let s;const a=async t=>{try{await this.base.editFlow.onAfterCreate({context:t})}catch(t){e.error("Error after creation: "+t)}await this.base.editFlow.onBeforeSave({context:t});s=await this.getTransactionHelper().saveDocument(t,this.getAppComponent(),this._getResourceModel(),false,[],this.getMessageHandler(),true,true);try{await this.base.editFlow.onAfterSave({context:s})}catch(t){e.error("Error after save: "+t)}if(this.getTransactionHelper().isListBindingHierarchical(i)){const e=o?.getParent();if(e){const t=n.parentContext?.getIndex();e.refresh();if(t!==undefined&&t>=0){o?.scrollToIndex(t)}}}else{const e=s.getIndex();if(e!==undefined&&e>=0){o?.scrollToIndex(e)}}};const r=this.getTransactionHelper().createDocument(i,{keepTransientContextOnFailed:false,busyMode:"Local",busyId:o?.getParent()?.getTableDefinition()?.annotation.id,parentControl:this.getView(),beforeCreateCallBack:this.base.editFlow.onBeforeCreate,afterCreateCallBack:a,skipParameterDialog:this.getAppComponent().getStartupMode()===Ye.AutoCreate,createAtEnd:n.createAtEnd,creationMode:Re.CreationDialog,parentContext:n.parentContext,data:n.data,creationDialogFields:n.creationDialogFields},this.getAppComponent(),this._getResourceModel(),this.getMessageHandler(),false);await Promise.all([r,this.syncTask(r)]);if(s&&n.skipSideEffects!==true){this.requestSideEffectsForNavigationProperty(i,s)}};s.createDeferredDocument=async function e(t,n,i){const s=this.getGlobalUIModel();o.lock(s);await this.getInternalRouting().navigateForwardToContext(t,{createOnNavigateParameters:{mode:"Deferred",parentContext:n,listBinding:t,data:i},editable:true,forceFocus:true});o.unlock(s)};s.createSyncAsyncDocument=async function e(t,n){let i;const s=this.getGlobalUIModel();const a=this.getInternalRouting();o.lock(s);const r=this.getTransactionHelper().createDocument(n,{...t,...{parentControl:this.getView(),beforeCreateCallBack:this.base.editFlow.onBeforeCreate,skipParameterDialog:this.getAppComponent().getStartupMode()===Ye.AutoCreate}},this.getAppComponent(),this._getResourceModel(),this.getMessageHandler(),false).then(e=>{if(this._isFclEnabled()&&e&&e.getBinding()!==n){n.refresh()}return e});if((this._isFclEnabled()||t.bFromDeferred!==true)&&!t.skipSideEffects){this.handleSideEffects(n,r,t.bFromDeferred?n.getContext():undefined)}if(t.creationMode===Re.Async){i=a.navigateForwardToContext(n,{createOnNavigateParameters:{mode:"Async",createContextPromise:r},editable:true,forceFocus:true})}else{i=r.then(async e=>{if(!e){const e=b.getResourceBundleFor("sap.fe.core");return a.navigateToMessagePage(e.getText("C_COMMON_SAPFE_DATA_RECEIVED_ERROR"),{title:e.getText("C_COMMON_SAPFE_ERROR"),description:e.getText("C_EDITFLOW_SAPFE_CREATION_FAILED_DESCRIPTION")})}else{const i={editable:true,forceFocus:true,transient:this.getProgrammingModel(n)==ze.Sticky||t.createAction?true:undefined};return t.bFromDeferred?a.navigateToContext(e,i):a.navigateForwardToContext(e,i)}})}try{await this.postDocumentCreation(Promise.all([r,i]),n)}catch(e){if([Je.CancelActionDialog,Je.ActionExecutionFailed,Je.CreationFailed,Je.OnBeforeCreateFailed].includes(e instanceof Error?e.message:e)){this.getInternalRouting().navigateBackFromTransientState()}throw e}finally{o.unlock(s)}};s.createExternalDocument=async function e(t,n){if(n){if(typeof t!=="string"&&this.getTransactionHelper().isListBindingHierarchical(t)){throw new Error(`Unhandled creationMode "External" with a TreeTable`)}await this.syncTask();const e=this.getView().getController();const i=h.getAbsoluteMetaPathForListBinding(this.base.getView(),t);e._intentBasedNavigation.onChevronPressNavigateOutBound(e,n,undefined,i)}};s.validateDocument=async function e(t,n){return this.getTransactionHelper().validateDocument(t,n,this.getView())};s.getCreationRowValidationFunction=function e(t){const n=t?.getCreationRow();if(n&&t){return async()=>{const e=n.getBindingContext().getObject();delete e["@$ui5.context.isTransient"];return this.validateDocument(t.getBindingContext(),{data:e,customValidationFunction:t.getCreationRow().data("customValidationFunction")})}}return async()=>Promise.resolve([])};s.createMultipleDocuments=async function t(n,i,s,a,r){let c=arguments.length>5&&arguments[5]!==undefined?arguments[5]:false;let l=arguments.length>6?arguments[6]:undefined;let d=arguments.length>7?arguments[7]:undefined;const g=this.getTransactionHelper();const f=this.getGlobalUIModel();const h=n;l=l!==false;if(!c){o.lock(f)}try{await this.syncTask();const e=h.getModel().getMetaModel();let t;if(h.getContext()){t=e.getMetaPath(`${h.getContext().getPath()}/${h.getPath()}`)}else{t=e.getMetaPath(h.getPath())}this.handleCreateEvents(h);const o=i.map(async n=>{const i={data:{},parentControl:this.getView()};i.keepTransientContextOnFailed=false;i.creationMode=Re.CreationRow;i.createAtEnd=s;i.inactive=c;i.beforeCreateCallBack=r;for(const o in n){const s=e.getObject(`${t}/${o}`);if(s&&s.$kind!=="NavigationProperty"&&!o.includes("/")&&n[o]){i.data[o]=n[o]}}return g.createDocument(h,i,this.getAppComponent(),this._getResourceModel(),this.getMessageHandler(),a,d)});const f=await Promise.all(o);if(!c){this.setDocumentModifiedOnCreate(h)}const u=f.filter(e=>!e.isInactive());await Promise.all(u.map(async e=>e.created()));if(l){this.requestSideEffectsForNavigationProperty(n,this.base.getView().getBindingContext())}if(this.base.collaborativeDraft.isConnected()&&u.length>0){this._sendActivity(Be.Create,u)}return f}catch(t){e.error("Error while creating multiple documents.");throw t}finally{if(!c){o.unlock(f)}}};s.onBeforeCreate=async function e(t){return Promise.resolve()};s.onBeforeEdit=async function e(t){return Promise.resolve()};s.onBeforeSave=async function e(t){return Promise.resolve()};s.onBeforeDiscard=async function e(t){return Promise.resolve()};s.onBeforeDelete=async function e(t){return Promise.resolve()};s.onBeforeExecuteAction=async function e(t){return Promise.resolve()};s.onAfterSave=async function e(t){return Promise.resolve()};s.onAfterCreate=async function e(t){return Promise.resolve()};s.onAfterEdit=async function e(t){return Promise.resolve()};s.onAfterDiscard=async function e(t){return Promise.resolve()};s.onAfterDelete=async function e(t){return Promise.resolve()};s.saveDocument=async function t(n,i){if(!this.getGlobalUIModel().getProperty("/isEditable")&&this.base.inlineEditFlow?.isInlineEditPossible()&&this.getGlobalUIModel().getProperty("/isInlineEditActive")){this.base.inlineEditFlow.inlineEditSave();return}i=i||{};const o=i.bExecuteSideEffectsOnError||undefined;const s=this.getTransactionHelper();const a=i.bindings;const r=this.getMessageHandler().registerToHoldMessages();try{await this.syncTask();this.getMessageHandler().removeTransitionMessages();if(i.mergePatchDraft!==true){await this._submitOpenChanges(n)}await this._checkForValidationErrors();const e=await this.checkRecommendationOption();const t=await this.getRootContext(n);await this.base.editFlow.onBeforeSave({context:t});const c=this.getProgrammingModel(n);const l=this._getRootViewController();let d;if((c===ze.Sticky||n.getProperty("HasActiveEntity"))&&l.isFclEnabled()||this._hiddenDraft&&n.getProperty("HasActiveEntity")){d=await this._computeSiblingInformation(t,this._hiddenDraft?n:l.getRightmostContext(),c,true)}await this.base._sideEffects.handlePageChangeContext(n);if(n.getModel().hasPendingChanges("$auto")&&i.mergePatchDraft){n.getModel().submitBatch("$auto")}const g=await s.saveDocument(t,this.getAppComponent(),this._getResourceModel(),o,a,this.getMessageHandler(),this.getCreationMode(),undefined,i?.isStandardSave);this._removeStickySessionInternalProperties(c);if(this._hiddenDraft){this.handleSessionOff()}this._sendActivity(Be.Activate,g);this.base.collaborativeDraft.disconnect();this._triggerConfiguredSurvey(Ne.save,Ve.standardAction);this.setDocumentModified(false);this.setEditMode(Xe.Display,false);this.getMessageHandler().showMessageDialog({unHoldKey:r});this.base.recommendations.resetRejectedRecommendations(g);await this.base.editFlow.onAfterSave({context:g});this.base.recommendations.storeDataForTelemetry(e);if(g!==n){let e=g;d=d??this._createSiblingInfo(n,g);if(c===ze.Draft){const e=p.getSemanticPath(n,true);const t=p.getSemanticPath(g,true);if(e&&t&&e!==t){d.pathMapping.push({oldPath:e,newPath:t})}}this._updatePathsInHistory(d.pathMapping);if(l.isFclEnabled()||this._hiddenDraft?.stayOnCurrentPageAfterSave){if(d.targetContext.getPath()!==g.getPath()){e=d.targetContext}}if(i.skipBindingToView!==true){await this._handleNewContext(e,{editable:false,recreateContext:false,forceFocus:true})}}}catch(t){await this.getMessageHandler().showMessageDialog({unHoldKey:r});if(!(t&&t.canceled)){e.error("Error while saving the document",t)}throw t}};s.toggleDraftActive=async function e(t){const n=t.getObject();let i;const o=t&&this.getProgrammingModel(t)===ze.Draft;if(!o||!(!n.IsActiveEntity&&n.HasActiveEntity||n.IsActiveEntity&&n.HasDraftEntity)){return}if(!n.IsActiveEntity&&n.HasActiveEntity){i=false}else{i=true}try{const e=this._getRootViewController();const n=e.isFclEnabled()?e.getRightmostContext():t;let o=await this._computeSiblingInformation(t,n,ze.Draft,false);if(!o&&t!==n){o=await this._computeSiblingInformation(t,t,ze.Draft,false)}if(o){if(e.isFclEnabled()){const e=this._getSemanticMapping();if(e?.technicalPath===t.getPath()){const t=o.pathMapping[o.pathMapping.length-1].newPath;o.pathMapping.push({oldPath:e.semanticPath,newPath:t})}}this._updatePathsInHistory(o.pathMapping);await this._handleNewContext(o.targetContext,{editable:i,recreateContext:true,forceFocus:true})}else{throw new Error("Error in EditFlow.toggleDraftActive - Cannot find sibling")}}catch(e){throw new Error(`Error in EditFlow.toggleDraftActive:${e}`)}};s.cancelDocument=async function t(n,i){const o=this.getTransactionHelper();let s;let a=false;i.skipDiscardPopover=this._hiddenDraft?.enabled?true:i.skipDiscardPopover;const r={skipDiscardPopover:i.skipDiscardPopover===true,cancelButton:i.control||i.cancelButton,beforeCancelCallBack:this.base.editFlow.onBeforeDiscard};try{await this.syncTask();let e;const t=this.getProgrammingModel(n);if(this._hiddenDraft&&t==="Draft"){const t=h.getDraftRootPath(n);e=n.getPath()===t?n:await this.getRootContext(n)}else{e=await this.getRootContext(n)}if((t===ze.Sticky||n.getProperty("HasActiveEntity"))&&this._isFclEnabled()||this._hiddenDraft){const i=this._getRootViewController();s=await this._computeSiblingInformation(e,this._hiddenDraft?n:i.getRightmostContext(),t,true)}const c=await o.cancelDocument(e,r,this.getAppComponent(),this._getResourceModel(),this.getMessageHandler(),this._hiddenDraft?this.getCreationMode()&&!e.getProperty("HasActiveEntity"):this.getCreationMode(),this.isDocumentModified()||t===ze.Sticky);this._getRootViewController().getInstancedViews().forEach(e=>{const t=e.getBindingContext();if(t?.isKeepAlive()===true){t.setKeepAlive(false)}});this._removeStickySessionInternalProperties(t);if(this._hiddenDraft){this.handleSessionOff()}this.setEditMode(Xe.Display,false);this.setDocumentModified(false);this.setDraftStatus(Qe.Clear);this.base.recommendations.resetRejectedRecommendations(n);await this.base.editFlow.onAfterDiscard({context:c.activeContext});f.setEditStateDirty();if(!c.activeContext){this._sendActivity(Be.Discard,n);this.base.collaborativeDraft.disconnect();if(!i.skipBackNavigation){await this.getInternalRouting().navigateBackFromContext(e);a=true}}else{const e=c.activeContext;this._sendActivity(Be.Discard,e);this.base.collaborativeDraft.disconnect();let o=e;s=s??this._createSiblingInfo(n,e);this._updatePathsInHistory(s.pathMapping);if((this._isFclEnabled()||this._hiddenDraft?.stayOnCurrentPageAfterCancel)&&s.targetContext.getPath()!==e.getPath()){o=s.targetContext}if(t===ze.Draft){if(!i.skipBindingToView){await this._handleNewContext(o,{editable:false,recreateContext:true,forceFocus:true,siblingPath:p.getSemanticPath(c.activeContext,true,c.activeContextData)})}else{return e}}else{await this._handleNewContext(o,{editable:false,recreateContext:true,forceFocus:true})}}if(t===ze.Draft&&!this._hiddenDraft){this.showDocumentDiscardMessage(a)}}catch(t){if(typeof t==="string"&&t===y.Constants.CancelDiscardDraft){return}e.error("Error while discarding the document",t)}};s.getRootContext=async function e(t,i){const o=this.getView().getViewData();const s=this.getProgrammingModel(t);if(o?.viewLevel>1){if(s===ze.Draft||s===ze.Sticky){return await n.createRootContext(s,this.getView(),this.getAppComponent(),i)}}return t};s.isRootContextNew=async function e(t){const n=await this.getRootContext(t,{$select:"HasActiveEntity,IsActiveEntity"});const i=await n.requestProperty(["HasActiveEntity","IsActiveEntity"]);return!i[0]&&!i[1]};s.showDocumentDiscardMessage=function e(t){const n=this._getResourceModel();const i=n.getText("C_TRANSACTION_HELPER_DISCARD_DRAFT_TOAST");if(t==true){const e=this.getAppComponent();e.getRoutingService().attachAfterRouteMatched({},this.showMessageWhenNoContext,this)}else{w.show(i)}};s.showMessageWhenNoContext=function e(){const t=this._getResourceModel();const n=t.getText("C_TRANSACTION_HELPER_DISCARD_DRAFT_TOAST");const i=this.getAppComponent();w.show(n,{closeOnBrowserNavigation:false});i.getRoutingService().detachAfterRouteMatched(this.showMessageWhenNoContext,this)};s.isDraftRoot=function e(t){const n=t.getModel().getMetaModel();const i=n.getMetaContext(t.getPath());return h.isDraftRoot(Oe(i).targetEntitySet)};s.deleteDocument=async function t(n,i){const o=this.getAppComponent();const s={...i,bFindActiveContexts:false,beforeDeleteCallBack:this.base.editFlow.onBeforeDelete},a=this.getMessageHandler().registerToHoldMessages();try{if(this._isFclEnabled()&&this.isDraftRoot(n)&&n.getIndex()===undefined&&n.getProperty("IsActiveEntity")===true&&n.getProperty("HasDraftEntity")===true){s.beforeDeleteCallBack=async t=>{await this.base.editFlow.onBeforeDelete(t);try{const e=n.getModel();const t=e.bindContext(`${n.getPath()}/SiblingEntity`).getBoundContext();const i=await t.requestCanonicalPath();const o=e.getKeepAliveContext(i);o.replaceWith(n)}catch(t){e.error("Error while replacing the draft instance in the LR ODLB",t)}}}const t=await this.deleteDocumentTransaction(n,s);if(!t){return}if(this.getProgrammingModel(n)===ze.Sticky){this.setDocumentModified(true)}if(!this._isFclEnabled()){f.setEditStateDirty()}else{const e=n.getBinding();if(e.isA("sap.ui.model.odata.v4.ODataListBinding")){if(e.isRoot()){await this.getTransactionHelper().refreshListBinding(e,o)}else if(s.requestSideEffects!==false){this.requestSideEffectsOnDelete(e,e.getContext())}}}this._sendActivity(Be.Delete,n);await(o?.getShellServices().setBackNavigation());const i=this.base.recommendations.isRecommendationEnabled();if(i){this.base.recommendations.ignoreRecommendationForContexts([n])}this.base.recommendations.resetRejectedRecommendations(n);await this.base.editFlow.onAfterDelete({contexts:[n]});if(!this._isFclEnabled()){if(o?.getStartupMode()===Ye.Deeplink){o.getRouterProxy().exitFromApp()}else{this.getInternalRouting().navigateBackFromContext(n)}}}catch(t){e.error("Error while deleting the document",t)}finally{this.getMessageHandler().showMessages({unHoldKey:a})}};s.applyDocument=async function e(t){const n=this.getGlobalUIModel();const i=this.getMessageHandler().registerToHoldMessages();try{await this.syncTask();if(t.getModel().hasPendingChanges("$auto")){o.lock(n);await this._submitOpenChanges(t)}const e=await this.showConfirmRecommendationsDialog(false);if(e===_e.Continue){return}await this._checkForValidationErrors();await this.getMessageHandler().showMessageDialog({unHoldKey:i});await this.getInternalRouting().navigateBackFromContext(t,{callExtension:true})}finally{if(o.isLocked(n)){o.unlock(n)}}};s.invokeAction=async function t(n,i,o){const s=this.getTransactionHelper();let a;let r;let c;const l=this.base.getView();if(i?.isA&&i?.isA("sap.ui.model.odata.v4.Context")||Array.isArray(i)||o!==undefined){const e=i;i=o||{};if(e){i.contexts=e}else{i.model=this.base.getView().getModel()}}const d={...i,view:this.base.getView()}||{view:this.base.getView()};d.isNavigable=d.requiresNavigation||d.isNavigable;const g=Fe(this.getView().getModel()?.getMetaModel());if(n.includes(""+g.entityContainer.name)){d.isBound=false}else{d.isBound=true}if(!d.entitySetName&&d.contexts&&d.model){d.entitySetName=d.model.getMetaModel().getMetaContext((Array.isArray(d.contexts)?d.contexts[0]:d.contexts).getPath()).getObject("@sapui.name")}let h;if(d.controlId){h=this.getView().byId(d.controlId);if(h){d.internalModelContext=h.getBindingContext("internal")}}else{d.internalModelContext=l.getBindingContext("internal")}d.ignoreETag=d.internalModelContext?.getProperty("/sessionOn");if(n&&n.includes("(")){a=n.split("(");n=a[0];r=a[a.length-1].replaceAll(")","")}if(d.bStaticAction&&h){if(h.isA("sap.ui.mdc.Table")){const e=h.getParent();d.contexts=e.getRowBinding().getHeaderContext()}if(r&&h.getBindingContext()&&h.isA&&h.isA("sap.ui.mdc.Table")){d.contexts=this._getActionOverloadContextFromMetadataPath(h.getBindingContext(),h.getRowBinding(),r)}if(d.enableAutoScroll){c=this.createActionPromise(n,h.getId())}}try{await this.syncTask();if(!Array.isArray(d.contexts)&&d.contexts?.getBinding().isA("sap.ui.model.odata.v4.ODataContextBinding")){await this.base._sideEffects.handlePageChangeContext(d.contexts)}await this.base.editFlow.onBeforeExecuteAction({contexts:d.contexts});const t=await s.callAction(n,d,this.getAppComponent(),this.getMessageHandler());const o=t.filter(Ie);if(t.length!==o.length){throw t}let a;if(d.contexts&&Array.isArray(d.contexts)&&d.isBound===true){a=await this._refreshListIfRequired(this.getActionResponseDataAndKeys(n,o),d.contexts[0])}if(this.base.collaborativeDraft.isConnected()){this._sendActivity(Be.Action,d.contexts,n,a,Object.keys(o[0].value.boundContext.getObject()))}this._triggerConfiguredSurvey(n,Ve.action);if(c){c.fResolver(o)}if(d.contexts){if(this.base.getView().getViewData().converterType!=="ListReport"){f.setEditStateDirty()}this.getInternalModel().setProperty("/lastInvokedAction",n)}if(d.isNavigable){if(o.length===1){const t=this._getBoundContext(l,d)?o[0].value.boundContext:o[0].value.returnedContext??o[0].value.boundContext;const n=l.getModel().getMetaModel();const i=n.getMetaPath(t.getPath());const s=(e,t)=>e.filter(e=>{if(t){return t.includes(e)}return true});const a=Array.isArray(d.contexts)?s(d.contexts,d.applicableContexts)[0]:d.contexts;const r=a&&n.getMetaPath(a.getPath());if(i!=undefined&&i===r){if(a?.getPath()!==t.getPath()){this.getInternalRouting().navigateForwardToContext(t,{checkNoHashChange:true});if(this.getProgrammingModel(t)===ze.Draft&&(t.getProperty("IsActiveEntity")===false||this._isFclEnabled())){t.getBinding().destroy()}}else{e.info("Navigation to the same context is not allowed")}}}}this.base.editFlow.onAfterActionExecution(n);if(!Array.isArray(i?.contexts)&&o.length===1){return o[0].value.returnedContext??o[0].value.boundContext}return o.map(e=>({...e,...{value:e.value.returnedContext??e.value.boundContext}}))}catch(e){if(c){c.fRejector()}if(e===Je.CancelActionDialog){throw new Error("Dialog cancelled")}throw e}};s.onAfterActionExecution=async function e(t){};s.customMassEditSave=async function e(t){return Promise.resolve(false)};s.securedExecution=async function e(t,n){const i=n?.busy?.set??true,s=n?.busy?.check??true,a=n?.updatesDocument??false,r=this.getGlobalUIModel(),c=this.getView().getBindingContext(),l=c&&this.getProgrammingModel(c)===ze.Draft,d=this.getMessageHandler().registerToHoldMessages();if(s&&o.isLocked(r)){return Promise.reject("Application already busy therefore execution rejected")}if(i){o.lock(r)}if(a&&l){this.setDraftStatus(Qe.Saving)}this.getMessageHandler().removeTransitionMessages();return this.syncTask(t).then(()=>{if(a){this.setDocumentModified(true);if(!this._isFclEnabled()){f.setEditStateDirty()}if(l){this.setDraftStatus(Qe.Saved)}}return}).catch(e=>{if(a&&l){this.setDraftStatus(Qe.Clear)}throw e}).finally(()=>{if(i){o.unlock(r)}this.getMessageHandler().showMessageDialog({unHoldKey:d})})};s.handlePatchSent=function e(t){const n=this.getView()?.getBindingContext("internal");const i=this.getView()?.getBindingContext("ui");const o=this.base.collaborativeDraft.isConnected()||n.getProperty("/sessionOn");if(o){t.getSource().getModel().setIgnoreETag(true)}if(i?.getProperty("isEditable")===false){this.base.inlineEditFlow.handleInlineEditPatchSent(t)}else if(!n?.getProperty("skipPatchHandlers")){const e=t.getSource();const n=new Promise((n,i)=>{t.getSource().attachEventOnce("patchCompleted",s=>{if(o){t.getSource().getModel().setIgnoreETag(false)}if(t.getSource().isA("sap.ui.model.odata.v4.ODataListBinding")){I.setActionEnablementAfterPatch(this.getView(),e,this.getView()?.getBindingContext("internal"))}const a=s.getParameter("success");if(a){n()}else{i()}})});this.updateDocument(e,n)}};s.handleCreateSent=function e(t){const n=t.getParameter("context");this.getMessageHandler().removeTransitionMessages(false,false,n.getPath())};s.syncTask=async function t(n){if(n){if(typeof n==="function"){this.syncTasks=this.syncTasks.then(n).catch(function(t){e.debug(t)})}else{this.syncTasks=this.syncTasks.then(async()=>n).catch(function(t){e.debug(t)})}}return this.syncTasks};s.computeModelsForEditMode=async function t(n){const i=this.getProgrammingModel(n);if(i===ze.Draft){try{this.setDraftStatus(Qe.Clear);const e=this.getGlobalUIModel();e.setProperty("/isEditablePending",true,undefined,true);const t=this.getView().getModel();const i=h.isCollaborationDraftSupported(t.getMetaModel());let o=false;const s=await n.requestObject("IsActiveEntity");if(i){o=!await this.base.collaborativeDraft.activateCollaboration(n,s)}else{e.setProperty("/hasCollaborationAuthorization",undefined)}this.fetchCollaborativeDraftUsersPromise=undefined;if(s===false&&!o){this.setEditMode(Xe.Editable);const e=await n.requestObject("HasActiveEntity");this.setEditMode(undefined,!e)}else{this.setEditMode(Xe.Display,false)}e.setProperty("/isEditablePending",false,undefined,true)}catch(t){e.error("Error while determining the editMode for draft",t)}}else if(i===ze.Sticky){const e=this.getInternalModel().getProperty("/lastInvokedAction");if(e&&this.isNewActionForSticky(e,n)){this.setEditMode(Xe.Editable,true);if(!this.getAppComponent()._isFclEnabled()){f.setEditStateDirty()}this.handleStickyOn(n);this._setStickySessionInternalProperties(this.getProgrammingModel(n),n.getModel());this.getInternalModel().setProperty("/lastInvokedAction",undefined)}}};s.deleteDocumentTransaction=async function e(t,n){if(n.selectedContexts){n.numberOfSelectedContexts=n.selectedContexts.length}const i=this._getResourceModel();const o=this.getTransactionHelper();if(n.controlId){const e=M.getElementById(n.controlId);if(e&&!e.isA("sap.ui.mdc.MultiValueField")){n.internalModelContext=e.getBindingContext("internal")}}await this.syncTask();return o.deleteDocument(t,n,this.getAppComponent(),i,this.getMessageHandler())};s._getResourceModel=function e(){return Te(this.getView())};s.getTransactionHelper=function e(){return r};s.getMessageHandler=function e(){if(this.base.messageHandler){return this.base.messageHandler}else{throw new Error("Edit Flow works only with a given message handler")}};s.getInternalModel=function e(){return this.getView().getModel("internal")};s.getGlobalUIModel=function e(){return this.getView().getModel("ui")};s.getPageInternalModel=function e(){return this.getView().getModel("pageInternal")};s.setCreationMode=function e(t){const n=this.getView().getBindingContext("pageInternal");this.getPageInternalModel().setProperty(l.CreateMode,t,n,true)};s.getCreationMode=function e(){const t=this.getView().getBindingContext("pageInternal");return!!t.getProperty(l.CreateMode)};s.isDocumentModified=function e(){return!!this.getGlobalUIModel().getProperty(l.DocumentModified)};s.setDocumentModified=function e(t){this.getGlobalUIModel().setProperty(l.DocumentModified,t)};s.setDocumentModifiedOnCreate=function e(t){if(t.isRelative()){this.setDocumentModified(true)}};s.handleCreateEvents=function e(t){this.setDraftStatus(Qe.Clear);const n=this.getProgrammingModel(t);const i=[];t.attachEvent("createSent",e=>{if(n===ze.Draft){this.setDraftStatus(Qe.Saving)}const t=e.getParameter("context");let o=i.find(e=>e.context===t)?.messageHandlingKey;if(!o){o=this.getMessageHandler().registerToHoldMessages();i.push({context:t,messageHandlingKey:o})}});t.attachEvent("createCompleted",e=>{const t=e.getParameter("success"),o=e.getParameter("context");if(n===ze.Draft){this.setDraftStatus(t?Qe.Saved:Qe.Clear)}const s=i.find(e=>e.context===o)?.messageHandlingKey;if(s){this.getMessageHandler().showMessageDialog({unHoldKey:s})}})};s.setDraftStatus=function e(t){this.getView().getModel("ui").setProperty("/draftStatus",t,undefined,true)};s.getProgrammingModel=function e(t){return this.getTransactionHelper().getProgrammingModel(t)};s.setEditMode=function e(t,n){const i=this.getGlobalUIModel();if(t){i.setProperty("/isEditable",t==="Editable",undefined,true);if(t!=="Editable"){this.forceDraftSaveOrDiscard(false)}}if(n!==undefined){this.setCreationMode(n)}};s.forceDraftSaveOrDiscard=function e(t){this.getGlobalUIModel().setProperty("/forceDraftSaveOrDiscard",t,undefined,true)};s.shallForceDraftSaveOrDiscard=function e(){return this.getGlobalUIModel().getProperty("/forceDraftSaveOrDiscard")===true};s.isNewActionForSticky=function t(n,i){try{const e=i.getModel().getMetaModel();const t=e.getMetaContext(i.getPath());const o=Oe(t).startingEntitySet;const s=o.annotations.Session?.StickySessionSupported;if(s?.NewAction===n){return true}if(s?.AdditionalNewActions&&s?.AdditionalNewActions.includes(n)){return true}return false}catch(t){e.info(t);return false}};s.handleStickyOn=async function t(n){const i=this.getAppComponent();try{if(i===undefined){throw new Error("undefined AppComponent for function handleStickyOn")}if(!i.getRouterProxy().hasNavigationGuard()){await this.registerCallbacks(n,i)}}catch(t){e.info(t);return false}return true};s.registerCallbacks=async function e(t,n,i){const o=n.getRouterProxy().getHash();const s=this.getInternalModel();setTimeout(function(){n.getRouterProxy().setNavigationGuard(t.getPath().substring(1),i)},0);await n.getShellServices().setBackNavigation(this.onBackNavigationInSession.bind(this,t));const a=this.base.getView().getModel("sap.fe.i18n");n.registerCallbacks(this.getDirtyStateProvider(n,s,o),this.getRouteMatchedFunction(t,n),!this._hiddenDraft?this.getSessionTimeoutFunction(t,a):undefined)};s.handleHiddenDraftEdit=async function t(n){const i=this.getAppComponent();try{if(i===undefined){throw new Error("undefined AppComponent for function handleHiddenDraftEdit")}let e;if(!this._isFclEnabled()){e=n}else{e=n?.getModel().getKeepAliveContext(n.getPath())}if(this.getCreationMode()){const t=h.getDraftRootPath(e);e=e.getPath()===t?e:await this.getRootContext(e)}if(!i.getRouterProxy().hasNavigationGuard()){const t=p.getSemanticPath(e,true)?.substring(1);await this.registerCallbacks(e,i,t)}}catch(t){e.info(t);return false}return true};s.handleSessionOff=function t(){const n=this.getAppComponent();try{if(n===undefined){throw new Error("undefined AppComponent for function handleStickyOff")}if(n.getRouterProxy){n.getRouterProxy().discardNavigationGuard()}if(n.unregisterCallbacks){n.unregisterCallbacks()}this.setEditMode(Xe.Display,false);if(n.getShellServices){n.getShellServices().setBackNavigation()}}catch(t){e.info(t);return false}return true};s._setStickySessionInternalProperties=function e(t,n){if(t===ze.Sticky){const e=this.getInternalModel();e.setProperty("/sessionOn",true);e.setProperty("/stickySessionToken",n.getHttpHeaders(true)["SAP-ContextId"])}};s.getDirtyStateProvider=function t(n,i,o){return t=>{try{if(t===undefined){throw new Error("Invalid input parameters for DirtyStateProvider function")}const e=t.innerAppRoute;const s=n.getRouterProxy();let a="";let r;const c=i.getProperty("/sessionOn");if(!c&&!this._hiddenDraft){return undefined}if(!s.isNavigationFinalized()){r=false;a=e}else if(o===e){r=true}else if(s.checkHashWithGuard(e)||s.isGuardCrossAllowedByUser()){a=e;r=false}else if(this._hiddenDraft&&!this.isDocumentModified()){r=false;a=e}else{r=true}if(r){setTimeout(function(){n.getShellServices().setDirtyFlag(false)},0)}else{o=a}return r}catch(t){e.info(t);return undefined}}};s.getSessionTimeoutFunction=function t(n,i){return()=>{try{if(n===undefined){throw new Error("Context missing for SessionTimeout function")}this.getMessageHandler().removeTransitionMessages();const e=new C({title:"{sap.fe.i18n>C_EDITFLOW_OBJECT_PAGE_SESSION_EXPIRED_DIALOG_TITLE}",state:"Warning",content:new D({text:"{sap.fe.i18n>C_EDITFLOW_OBJECT_PAGE_SESSION_EXPIRED_DIALOG_MESSAGE}"}),beginButton:new m({text:"{sap.fe.i18n>C_COMMON_DIALOG_OK}",type:"Emphasized",press:()=>{this.handleSessionOff();this.getInternalRouting().navigateBackFromContext(n)}}),afterClose:function(){e.destroy()}});e.addStyleClass("sapUiContentPadding");e.setModel(i,"sap.fe.i18n");this.getView().addDependent(e);e.open()}catch(t){e.info(t);return undefined}return true}};s.getRouteMatchedFunction=function e(t,n){const i=this.getProgrammingModel(t);const o=t.getModel();const s=t.getPath();return async()=>{const e=n.getRouterProxy().getHash();if(!e||!n.getRouterProxy().checkHashWithGuard(e)){if(this._hiddenDraft&&i===ze.Draft){return this.handleHiddenDraftDiscard(t,o,s)}else{await this.discardStickySession(t);t.getModel().clearSessionContext()}}}};s.handleHiddenDraftDiscard=async function e(t,n,i){let o;if(t?.getBinding()){o=t}else{o=n.bindContext(i,undefined,{}).getBoundContext()}await o.requestProperty(["HasActiveEntity","IsActiveEntity"]);return this.discardHiddenDraftSession(o)};s.discardContext=function e(t,n){if(t?.hasPendingChanges()){t.getBinding().resetChanges()}if(!n){t.refresh()}};s.discardStickySession=async function e(t){const n=this.getCreationMode();this.handleSessionOff();const i=await d.discardDocument(t);if(i!==undefined&&i!==null){this.discardContext(i,n)}};s.discardHiddenDraftSession=async function e(t){await T.discardDraft(this.getView().getController(),undefined,t,true);this.handleSessionOff()};s.getInternalRouting=function e(){if(this.base._routing){return this.base._routing}else{throw new Error("Edit Flow works only with a given routing listener")}};s._getRootViewController=function e(){return this.getAppComponent().getRootViewController()};s._getSemanticMapping=function e(){return this.getAppComponent().getRoutingService().getLastSemanticMapping()};s.createActionPromise=function e(t,n){let i,o;this.actionPromise=new Promise((e,t)=>{i=e;o=t}).then(e=>Object.assign({controlId:n},this.getActionResponseDataAndKeys(t,e)));return{fResolver:i,fRejector:o}};s.getActionResponseDataAndKeys=function e(t,n){if(n.length>=1){const e=this.base.getView();const i=e.getModel().getMetaModel().getData()??{};const o=i[t];const s=o?.[0].$ReturnType?o?.[0].$ReturnType.$Type:null;const a=s&&i[s]?i[s].$Key:[];return{oData:n[0].value.boundContext.getObject(),keys:a}}return undefined};s.getCurrentActionPromise=async function e(){return this.actionPromise};s.deleteCurrentActionPromise=function e(){this.actionPromise=undefined};s.showConfirmRecommendationsDialog=async function e(t){if(!this.confirmRecommendationsDialog){this.confirmRecommendationsDialog=new ke({view:this.getView(),programmingModel:this.getProgrammingModel(this.getView().getBindingContext())})}return this.confirmRecommendationsDialog?.open(t)};s._scrollAndFocusOnInactiveRow=function e(t){const n=t.getRowBinding();const i=n.getCount()||0;if(t.data("tableType")!=="ResponsiveTable"){if(i>0){t.scrollToIndex(i-1)}t.focusRow(i,true)}else{const e=n.getAllCurrentContexts();if(!e?.length){t.focusRow(i,true);return}let o=i,s=0;for(const t of e){if(t.isInactive()&&s<o){o=s}s++}if(o>0){t.scrollToIndex(o)}t.focusRow(o,true)}};s.createEmptyRowsAndFocus=async function e(t){const n=t.getParent();if(n?.tableDefinition?.control?.inlineCreationRowsHiddenInEditMode&&!t.getBindingContext("pageInternal")?.getProperty("createMode")){if(n.tableDefaultsPromise){const e=await n.tableDefaultsPromise;await n.setUpEmptyRows(t,true,e??{})}else{await n.setUpEmptyRows(t,true)}}this._scrollAndFocusOnInactiveRow(t)};s._sendActivity=function e(t,n,i,o,s){const a=Array.isArray(n)?n.map(e=>e.getPath()):n?.getPath();this.base.collaborativeDraft.send({action:t,content:a,triggeredActionName:i,refreshListBinding:o,actionRequestedProperties:s})};s._triggerConfiguredSurvey=function e(t,n){He(this.base.getView(),t,n)};s._submitOpenChanges=async function e(t){const n=t.getModel(),i=this.getGlobalUIModel();try{await n.submitBatch("$auto");await n.oRequestor.waitForRunningChangeRequests("$auto");if(n.hasPendingChanges("$auto")){throw new Error("submit of open changes failed")}}finally{if(o.isLocked(i)){o.unlock(i)}}};s._removeStickySessionInternalProperties=function e(t){if(t===ze.Sticky){const e=this.getInternalModel();e.setProperty("/sessionOn",false);e.setProperty("/stickySessionToken",undefined);this.handleSessionOff()}};s.onBackNavigationInSession=function e(t){const n=this.base.getView();const i=this.getAppComponent().getRouterProxy();if(i.checkIfBackIsOutOfGuard()){d.processDataLossConfirmation(async()=>{await this.discardStickySession(t);this._removeStickySessionInternalProperties(ze.Sticky);history.back()},n,ze.Sticky);return}history.back()};s._handleNewContext=async function e(t,n){if(!this._isFclEnabled()){f.setEditStateDirty()}await this.getInternalRouting().navigateToContext(t,{checkNoHashChange:true,editable:n.editable,persistOPScroll:true,recreateContext:n.recreateContext,reason:O.EditFlowAction,showPlaceholder:false,forceFocus:n.forceFocus??false,keepCurrentLayout:true,semanticPath:n.siblingPath})};s._getBoundContext=function e(t,n){const i=t.getViewData().viewLevel;const o=i>1||i===1&&n.controlId;return!n.isNavigable||!!o};s._checkForValidationErrors=async function t(){return this.syncTask().then(()=>{const t=this._isFclEnabled()?this._getRootViewController()._getAllVisibleViews().map(e=>e.getId()):[this.getView().getId()];const n=P.getMessageModel().getData();let i;if(!n.length){e.info("No validation errors found");return}for(const e of n){if(e.validation){i=M.getElementById(e.getControlId());while(i){if(t.includes(i.getId())){throw"validation errors exist"}i=i.getParent()}}}return})};s._refreshListIfRequired=async function e(t,n){if(!n||!t||!t.oData||!t.keys){return false}const i=n.getBinding();if(i&&i.isA("sap.ui.model.odata.v4.ODataListBinding")){const e=t.oData;const o=t.keys;const s=n.getObject();let a=true;if(Object.keys(e).length){a=o.every(function(t){return s[t]===e[t]});if(!a){await this.getTransactionHelper().refreshListBinding(i,this.getAppComponent());return true}}}return false};s._getActionOverloadContextFromMetadataPath=function e(t,n,i){const o=t.getModel();const s=o.getMetaModel();let a=n.getPath().split("/");let r=t;a.pop();if(a.length===0){a=[""]}if(a[0]!==""){a.unshift("")}const c=a.map(e=>{if(e!==""){r=o.bindContext(e,r).getBoundContext()}else{r=t}return r}).reverse();const l=c.find(e=>s.getMetaContext(e.getPath()).getObject("$Type")===i);return l||n.getHeaderContext()};s._createSiblingInfo=function e(t,n){return{targetContext:n,pathMapping:[{oldPath:t.getPath(),newPath:n.getPath()}]}};s._updatePathsInHistory=function e(t){const n=this.getAppComponent();n.getRouterProxy().setPathMapping(t);const i=this._getSemanticMapping();if(t.length&&i?.technicalPath===t[t.length-1].oldPath){i.technicalPath=t[t.length-1].newPath}};s._getNavigationTargetForEdit=function e(t,n,i){let o;i=i??this._createSiblingInfo(t,n);this._updatePathsInHistory(i.pathMapping);if(i.targetContext.getPath()!=n.getPath()){o=t.getPath()===i.targetContext.getPath()?t:i.targetContext}return o};s._computeSiblingInformation=async function t(n,i,o,s,a,r){i=i??n;if(!i.getPath().startsWith(n.getPath())){e.error("Cannot compute rightmost sibling context");throw new Error("Cannot compute rightmost sibling context")}let l=i;if(o===ze.Draft&&this.getProgrammingModel(i)!==ze.Draft){l=n}if(s&&l.getPath()===n.getPath()){return Promise.resolve(undefined)}const d=n.getModel();if(o===ze.Draft){return c.computeSiblingInformation(n,l,a,r)}else{return{targetContext:d.bindContext(i.getPath()).getBoundContext(),pathMapping:[]}}};s._isFclEnabled=function e(){return this.getAppComponent()._isFclEnabled()};s.checkRecommendationOption=async function e(){const t=await this.showConfirmRecommendationsDialog(true);if(t===_e.Continue){return Promise.reject(_e.Continue)}return t};s.createNextDocument=async function e(){const t=this.getView()?.getBindingContext()?.getPath();const n=t?.substring(0,t.lastIndexOf("("));return this.createDocument(n,{creationMode:Re.NewPage})};return i}(i),We(Se.prototype,"onInit",[B],Object.getOwnPropertyDescriptor(Se.prototype,"onInit"),Se.prototype),We(Se.prototype,"editDocument",[H,V],Object.getOwnPropertyDescriptor(Se.prototype,"editDocument"),Se.prototype),We(Se.prototype,"updateDocument",[N,j],Object.getOwnPropertyDescriptor(Se.prototype,"updateDocument"),Se.prototype),We(Se.prototype,"createDocument",[L,$],Object.getOwnPropertyDescriptor(Se.prototype,"createDocument"),Se.prototype),We(Se.prototype,"onBeforeCreate",[G,U],Object.getOwnPropertyDescriptor(Se.prototype,"onBeforeCreate"),Se.prototype),We(Se.prototype,"onBeforeEdit",[q,K],Object.getOwnPropertyDescriptor(Se.prototype,"onBeforeEdit"),Se.prototype),We(Se.prototype,"onBeforeSave",[W,z],Object.getOwnPropertyDescriptor(Se.prototype,"onBeforeSave"),Se.prototype),We(Se.prototype,"onBeforeDiscard",[J,Q],Object.getOwnPropertyDescriptor(Se.prototype,"onBeforeDiscard"),Se.prototype),We(Se.prototype,"onBeforeDelete",[X,Y],Object.getOwnPropertyDescriptor(Se.prototype,"onBeforeDelete"),Se.prototype),We(Se.prototype,"onBeforeExecuteAction",[Z,ee],Object.getOwnPropertyDescriptor(Se.prototype,"onBeforeExecuteAction"),Se.prototype),We(Se.prototype,"onAfterSave",[te,ne],Object.getOwnPropertyDescriptor(Se.prototype,"onAfterSave"),Se.prototype),We(Se.prototype,"onAfterCreate",[ie,oe],Object.getOwnPropertyDescriptor(Se.prototype,"onAfterCreate"),Se.prototype),We(Se.prototype,"onAfterEdit",[se,ae],Object.getOwnPropertyDescriptor(Se.prototype,"onAfterEdit"),Se.prototype),We(Se.prototype,"onAfterDiscard",[re,ce],Object.getOwnPropertyDescriptor(Se.prototype,"onAfterDiscard"),Se.prototype),We(Se.prototype,"onAfterDelete",[le,de],Object.getOwnPropertyDescriptor(Se.prototype,"onAfterDelete"),Se.prototype),We(Se.prototype,"saveDocument",[ge,fe],Object.getOwnPropertyDescriptor(Se.prototype,"saveDocument"),Se.prototype),We(Se.prototype,"cancelDocument",[he,ue],Object.getOwnPropertyDescriptor(Se.prototype,"cancelDocument"),Se.prototype),We(Se.prototype,"deleteDocument",[pe,ye],Object.getOwnPropertyDescriptor(Se.prototype,"deleteDocument"),Se.prototype),We(Se.prototype,"applyDocument",[me,Ce],Object.getOwnPropertyDescriptor(Se.prototype,"applyDocument"),Se.prototype),We(Se.prototype,"invokeAction",[we,De],Object.getOwnPropertyDescriptor(Se.prototype,"invokeAction"),Se.prototype),We(Se.prototype,"onAfterActionExecution",[Me,be],Object.getOwnPropertyDescriptor(Se.prototype,"onAfterActionExecution"),Se.prototype),We(Se.prototype,"customMassEditSave",[Pe,ve],Object.getOwnPropertyDescriptor(Se.prototype,"customMassEditSave"),Se.prototype),We(Se.prototype,"securedExecution",[Ee,Ae],Object.getOwnPropertyDescriptor(Se.prototype,"securedExecution"),Se.prototype),Se))||xe);return Ze},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/controllerextensions/Feedback", ["sap/ui/core/EventBus"],function(e){"use strict";var t={};let n=function(e){e["action"]="actions";e["standardAction"]="standardActions";return e}({});t.TriggerType=n;let a=function(e){e["save"]="save";return e}({});t.StandardActions=a;const r="sap.feedback";const i="inapp.feature";function c(t,n,a){const c={areaId:t,triggerName:n,payload:a};e.getInstance().publish(r,i,c)}t.triggerSurvey=c;function s(e,t,n){const a=e.getViewData()?.content?.feedback;const r=a?.[n]?.[t];if(r){c(r.areaId,r.triggerName,r.payload)}}t.triggerConfiguredSurvey=s;return t},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/controllerextensions/InlineEditFlow", ["sap/base/Log","sap/fe/base/ClassSupport","sap/fe/base/HookSupport","sap/fe/core/CommonUtils","sap/fe/core/controllerextensions/BaseControllerExtension","sap/fe/core/controllerextensions/messageHandler/messageHandling","sap/fe/core/controls/inlineEditFlow/InlineEditExitDialog","sap/fe/core/converters/MetaModelConverter","sap/fe/core/helpers/TypeGuards","sap/m/MessageToast","sap/ui/core/Lib","sap/ui/core/Messaging","../controls/inlineEditFlow/DraftExistsDialog"],function(e,t,i,n,o,r,s,a,l,d,c,h,p){"use strict";var f,u,g,E,y,I,v,b,w,P;var C={};var m=l.isProperty;var B=i.hookable;var D=t.methodOverride;var F=t.defineUI5Class;function A(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,T(e,t)}function T(e,t){return T=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},T(e,t)}function O(e,t,i,n,o){var r={};return Object.keys(n).forEach(function(e){r[e]=n[e]}),r.enumerable=!!r.enumerable,r.configurable=!!r.configurable,("value"in r||r.initializer)&&(r.writable=!0),r=i.slice().reverse().reduce(function(i,n){return n(e,t,i)||i},r),o&&void 0!==r.initializer&&(r.value=r.initializer?r.initializer.call(o):void 0,r.initializer=void 0),void 0===r.initializer?(Object.defineProperty(e,t,r),null):r}let S=(f=F("sap.fe.core.controllerextensions.InlineEditFlow"),u=B("Before"),g=D("routing"),E=D("_routing"),y=D("editFlow"),I=D("editFlow"),v=D("editFlow"),b=D("editFlow"),f(w=(P=function(t){function i(){var e;for(var i=arguments.length,n=new Array(i),o=0;o<i;o++){n[o]=arguments[o]}e=t.call(this,...n)||this;e.inlineEditControls=[];e.preventFieldGroupChangeHandler=false;return e}C=i;A(i,t);var o=i.prototype;o.isInlineEditPossible=function e(){return this.base.getAppComponent().getInlineEditService().doesPageHaveInlineEdit(this.base.getRoutingTargetName())};o.inlineEditSave=async function t(){const i=this.base.getView().getModel();const o=h.getMessageModel().getData();const s=o.some(e=>!r.isNonTechnicalMessage(e));if(s){this.base.setShowFooter(true);return}if(!i.hasPendingChanges(n.INLINEEDIT_UPDATEGROUPID)){this.inlineEditEnd();return}try{h.removeAllMessages();await i.submitBatch(n.INLINEEDIT_UPDATEGROUPID)}catch(t){e.warning("Error while saving inline edit changes")}};o.inlineEditDiscard=function e(){this.base.getView().getModel().resetChanges(n.INLINEEDIT_UPDATEGROUPID);this.inlineEditEnd(true)};o.inlineEditEnd=function e(t){h.removeAllMessages();this.base.setShowFooter(false);for(const e of this.inlineEditControls){e.inlineEditEnd(t)}this.inlineEditControls=[];this.base.getView().getModel("ui").setProperty("/isInlineEditActive",false)};o.startInlineEdit=function e(t,i,n){if(n?.getBindingContext()?.getProperty("HasDraftEntity")){new p(this.base.getView()).open();n?.resetIndicatorPopup();return}const o=this.base.getAppComponent().getInlineEditService();const r=o.getInlineConnectedProperties(this.base.getRoutingTargetName(),t);this.inlineEditStart([],r?.length?r:[t],i);this.base.getView().getModel("ui").setProperty("/isInlineEditActive",true)};o.focusHandling=function e(t){for(const e of this.inlineEditControls){if(e!==t){e.closeInlineEditPopupEditMode()}else if(e===t){e.focus()}}};o.inlineEditStart=async function e(t,i,n){if(this.abortTimerBeforeSave){this.abortTimerBeforeSave();this.abortTimerBeforeSave=undefined;await this.inlineEditSave()}const o=this.inlineEditControls.map(e=>e.getId());for(const e of t){if(!o.includes(e.getId())){this.inlineEditControls.push(e)}}this.inlineEditBindingContextPath=n;return};o.isPropertyConsideredForInlineEdit=function e(t){return this.base.getAppComponent().getInlineEditService().isPropertyConsideredForInlineEdit(this.base.getRoutingTargetName(),t)};o.handleInlineEditPatchSent=async function e(t){if(this.inlineEditControls.length===0){return}this.patchPromise=new Promise((e,i)=>{t.getSource().attachEventOnce("patchCompleted",t=>{const n=t.getParameter("success");if(n){e(t)}else{i(t)}})});try{await this.patchPromise;this.patchPromise=undefined;const e=c.getResourceBundleFor("sap.fe.core");if(e){d.show(e.getText("C_INLINE_EDIT_SAVED"))}this.inlineEditEnd()}catch(e){this.patchPromise=undefined;this.handleInlineEditSaveFailed()}};o.handleInlineEditSaveFailed=function e(){const t=this.base.getView().getModel().getMetaModel();const i=h.getMessageModel().getData();if(i.length){this.base.setShowFooter(true);this.propagateInlineFieldGroupIdToMessageButton()}if(!this.inlineEditBindingContextPath){return}for(const e of i){for(const i of e.getTargets()){const e=t.createBindingContext(t.getMetaPath(i));const n=e?a.getInvolvedDataModelObjects(e):null;if(m(n?.targetObject)){const e=n?.targetObject?.fullyQualifiedName??"";if(this.isPropertyConsideredForInlineEdit(e)){this.startInlineEdit(e,this.inlineEditBindingContextPath)}}}}};o.delayedCallToSave=async function e(){if(this.abortTimerBeforeSave||this.patchPromise||this.preventFieldGroupChangeHandler){return}const t=new Promise((e,t)=>{this.abortTimerBeforeSave=t;setTimeout(()=>e(),500)});try{await t;this.abortTimerBeforeSave=undefined;this.inlineEditSave()}catch(e){}};o.reactivateFieldGroupChangeHandler=function e(){setTimeout(()=>{this.preventFieldGroupChangeHandler=false},500)};o.hasInlineEditChanges=function e(){if(this.base.getView().getModel().hasPendingChanges(n.INLINEEDIT_UPDATEGROUPID)){return true}return this.inlineEditControls.some(e=>{if(e.isA("sap.fe.macros.Field")){return e.hasPendingUserInput()}return false})};o.onBeforeNavigation=async function e(){try{await this.onBeforeAnyEditFlowAction();return false}catch(e){return true}};o.openInlineEditExitDialogAndWaitForResult=async function e(){return new Promise(e=>{new s(this.base.getView(),e).open()})};o.onBeforeAnyEditFlowAction=async function e(){if(this.inlineEditControls.length>0){this.preventFieldGroupChangeHandler=true;if(this.abortTimerBeforeSave){this.abortTimerBeforeSave();this.abortTimerBeforeSave=undefined}if(!this.hasInlineEditChanges()){this.inlineEditEnd();return}try{if(this.patchPromise){await this.patchPromise}else{const e=await this.openInlineEditExitDialogAndWaitForResult();if(e==="Save"){await this.inlineEditSave();if(this.base.getView().getModel().hasPendingChanges(n.INLINEEDIT_UPDATEGROUPID)){this.focusHandling(this.inlineEditControls[0]);this.reactivateFieldGroupChangeHandler();throw new Error("unsave change prevent execution")}}else if(e==="Cancel"){this.focusHandling(this.inlineEditControls[0]);this.reactivateFieldGroupChangeHandler();throw new Error("cancel was chosen")}else{this.inlineEditDiscard()}this.reactivateFieldGroupChangeHandler();return}}catch(e){this.focusHandling(this.inlineEditControls[0]);this.reactivateFieldGroupChangeHandler();return Promise.reject()}}return};o.onBeforeBinding=function e(){if(this.inlineEditControls.length>0){this.inlineEditEnd()}if(this.base.getView().getModel().hasPendingChanges(n.INLINEEDIT_UPDATEGROUPID)){this.base.getView().getModel().resetChanges(n.INLINEEDIT_UPDATEGROUPID)}};o.onBeforeEdit=async function e(){return this.onBeforeAnyEditFlowAction()};o.onBeforeCreate=async function e(){return this.onBeforeAnyEditFlowAction()};o.onBeforeDelete=async function e(){return this.onBeforeAnyEditFlowAction()};o.onBeforeExecuteAction=async function e(){return this.onBeforeAnyEditFlowAction()};o.propagateInlineFieldGroupIdToMessageButton=function e(){const t=this.base.getFooter()?.findAggregatedObjects(true,e=>e.isA("sap.ui.core.Control"))??[];for(const e of t){const t=new Set(e.getFieldGroupIds());t.add("InlineEdit");e.setFieldGroupIds(Array.from(t))}};return i}(o),O(P.prototype,"inlineEditStart",[u],Object.getOwnPropertyDescriptor(P.prototype,"inlineEditStart"),P.prototype),O(P.prototype,"onBeforeNavigation",[g],Object.getOwnPropertyDescriptor(P.prototype,"onBeforeNavigation"),P.prototype),O(P.prototype,"onBeforeBinding",[E],Object.getOwnPropertyDescriptor(P.prototype,"onBeforeBinding"),P.prototype),O(P.prototype,"onBeforeEdit",[y],Object.getOwnPropertyDescriptor(P.prototype,"onBeforeEdit"),P.prototype),O(P.prototype,"onBeforeCreate",[I],Object.getOwnPropertyDescriptor(P.prototype,"onBeforeCreate"),P.prototype),O(P.prototype,"onBeforeDelete",[v],Object.getOwnPropertyDescriptor(P.prototype,"onBeforeDelete"),P.prototype),O(P.prototype,"onBeforeExecuteAction",[b],Object.getOwnPropertyDescriptor(P.prototype,"onBeforeExecuteAction"),P.prototype),P))||w);C=S;return C},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/controllerextensions/IntentBasedNavigation", ["sap/fe/base/ClassSupport","sap/ui/core/mvc/ControllerExtension","sap/ui/core/mvc/OverrideExecution"],function(t,e,n){"use strict";var i,o,r,a,p,u,c;var s=t.publicExtension;var l=t.finalExtension;var v=t.extensible;var f=t.defineUI5Class;function b(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,d(t,e)}function d(t,e){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},d(t,e)}function g(t,e,n,i,o){var r={};return Object.keys(i).forEach(function(t){r[t]=i[t]}),r.enumerable=!!r.enumerable,r.configurable=!!r.configurable,("value"in r||r.initializer)&&(r.writable=!0),r=n.slice().reverse().reduce(function(n,i){return i(t,e,n)||n},r),o&&void 0!==r.initializer&&(r.value=r.initializer?r.initializer.call(o):void 0,r.initializer=void 0),void 0===r.initializer?(Object.defineProperty(t,e,r),null):r}let y=(i=f("sap.fe.core.controllerextensions.IntentBasedNavigation"),o=s(),r=v(n.After),a=l(),p=s(),i(u=(c=function(t){function e(){return t.apply(this,arguments)||this}b(e,t);var n=e.prototype;n.adaptNavigationContext=function t(e,n){};n.navigateOutbound=function t(e,n){const i=this.base?.getView().getBindingContext("internal");i.setProperty("externalNavigationContext",{page:false});this.base?._intentBasedNavigation.navigateOutbound(e,n)};return e}(e),g(c.prototype,"adaptNavigationContext",[o,r],Object.getOwnPropertyDescriptor(c.prototype,"adaptNavigationContext"),c.prototype),g(c.prototype,"navigateOutbound",[a,p],Object.getOwnPropertyDescriptor(c.prototype,"navigateOutbound"),c.prototype),c))||u);return y},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/controllerextensions/InternalIntentBasedNavigation", ["sap/base/Log","sap/base/util/merge","sap/fe/base/ClassSupport","sap/fe/core/CommonUtils","sap/fe/core/controllerextensions/editFlow/NotApplicableContextDialog","sap/fe/core/controllerextensions/editFlow/draft","sap/fe/core/converters/MetaModelConverter","sap/fe/core/helpers/FPMHelper","sap/fe/core/helpers/KeepAliveHelper","sap/fe/core/helpers/KeepAliveRefreshTypes","sap/fe/core/helpers/ModelHelper","sap/fe/core/helpers/ResourceModelHelper","sap/fe/navigation/SelectionVariant","sap/ui/core/Element","sap/ui/core/Lib","sap/ui/core/mvc/ControllerExtension","sap/ui/core/mvc/OverrideExecution","../converters/helpers/Aggregation"],function(t,e,o,n,i,a,r,s,c,p,l,g,u,f,d,v,y,h){"use strict";var b,m,O,P,C,A,S,M,x,N,j,_,w,E,D,F,$,I,V,R,T,B,k,W,H;var L=h.AggregationHelper;var z=g.getResourceModel;var U=p.RefreshStrategyType;var J=r.convertTypes;var q=o.publicExtension;var G=o.privateExtension;var K=o.methodOverride;var Q=o.finalExtension;var X=o.extensible;var Y=o.defineUI5Class;function Z(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,tt(t,e)}function tt(t,e){return tt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},tt(t,e)}function et(t,e,o,n,i){var a={};return Object.keys(n).forEach(function(t){a[t]=n[t]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=o.slice().reverse().reduce(function(o,n){return n(t,e,o)||o},a),i&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(i):void 0,a.initializer=void 0),void 0===a.initializer?(Object.defineProperty(t,e,a),null):a}let ot=(b=Y("sap.fe.core.controllerextensions.InternalInternalBasedNavigation"),m=K(),O=q(),P=Q(),C=q(),A=Q(),S=q(),M=X(y.Instead),x=q(),N=Q(),j=G(),_=q(),w=Q(),E=q(),D=Q(),F=q(),$=Q(),I=q(),V=Q(),R=q(),T=Q(),B=q(),k=Q(),b(W=(H=function(o){function p(){return o.call(this)||this}Z(p,o);var g=p.prototype;g.onInit=function t(){this._oAppComponent=this.base.getAppComponent();this._oMetaModel=this._oAppComponent.getModel().getMetaModel();this._oNavigationService=this._oAppComponent.getNavigationService();this._oView=this.base.getView()};g.navigate=function t(o,n,i,r){try{if(this.navigationAlreadyStarted!==true){this.navigationAlreadyStarted=true;const t=()=>{const t=i&&i.navigationContexts;const a=t&&!Array.isArray(t)?[t]:t;const r=i&&i.semanticObjectMapping,s=i&&i.additionalNavigationParameters,p={semanticObject:o,action:n},l=this.base.getView(),g=l.getController();if(o&&n){let t=[],f=new u;if(a&&a.length){a.forEach(e=>{const o=e;const n=e;if(o.isA&&o.isA("sap.ui.model.odata.v4.Context")){let e=o.getObject();const n=this._oMetaModel.getMetaPath(o.getPath());const i=this.processSemanticAttributes(o,e);e=this.removeSensitiveData(i,n);const a=this.prepareContextForExternalNavigation(i,o);p["propertiesWithoutConflict"]=a.propertiesWithoutConflict;t.push(a.semanticAttributes)}else if(n&&!(n&&Array.isArray(n.data))&&typeof e==="object"){t.push(this.removeSensitiveData(n.data,n.metaPath))}else if(n&&Array.isArray(n.data)){t=this.removeSensitiveData(n.data,n.metaPath)}})}if(t&&t.length){f=this._oNavigationService.mixAttributesAndSelectionVariant(t,f.toJSONString())}const v=this._oView.getModel(),y=this.getEntitySet(),h=y?this._oNavigationService.constructContextUrl(y,v):undefined;if(h){f.setFilterContextUrl(h)}if(s){this._applyOutboundParams(f,s)}g.intentBasedNavigation.adaptNavigationContext(f,p);if(r){this._applySemanticObjectMappings(f,r)}this._removeTechnicalParameters(f);let b=g._intentBasedNavigation.getNavigationMode();const m=i&&i.refreshStrategies||{},O=l.getModel("internal");if(O){if((l&&l.getViewData()).refreshStrategyOnAppRestore){const t=l.getViewData().refreshStrategyOnAppRestore||{};e(m,t)}const t=c.getRefreshStrategyForIntent(m,o,n);if(t){O.setProperty("/refreshStrategyOnAppRestore",t)}}b=i?.navMode?i?.navMode:b;const P=function(){sap.ui.require(["sap/m/MessageBox"],function(t){const e=d.getResourceBundleFor("sap.fe.core");t.error(e.getText("C_COMMON_HELPER_NAVIGATION_ERROR_MESSAGE"),{title:e.getText("C_COMMON_SAPFE_ERROR")})})};this._oNavigationService.navigate(o,n,f.toJSONString(),undefined,P,undefined,b)}else{throw new Error("Semantic Object/action is not provided")}};if(r?.data("debounce"))return;r?.data("debounce",true);const s=this.base.getView().getBindingContext();const p=s&&s.getModel().getMetaModel();if(this.base.getView().getViewData().converterType==="ObjectPage"&&p&&!l.isStickySessionSupported(p)&&!(i?.navMode==="explace")){a.processDataLossOrDraftDiscardConfirmation(t.bind(this),Function.prototype,this.base.getView().getBindingContext(),this.base.getView().getController(),false,a.NavigationType.ForwardNavigation)}else{t()}r?.data("debounce",false)}}finally{this.navigationAlreadyStarted=false}};g.prepareContextForExternalNavigation=function t(e,o){const n={},i=o.getPath(),a=o.getModel().getMetaModel(),r=a.getMetaPath(i),s=r.split("/").filter(Boolean);function c(t,e){for(const o in t){if(t[o]===null||typeof t[o]!=="object"){if(!n[o]){n[o]=[]}n[o].push(e)}else{const n=t[o];c(n,`${e}/${o}`)}}}c(e,r);const p=s[0],l=a.getObject(`/${p}/@sapui.name`),g={};let u,f,d;const v=Object.keys(o.getObject())||[];const y=v.filter(t=>!Object.keys(e).includes(t));for(const t in n){if(y.includes(t)){continue}const i=n[t];let s;if(i.length>1){for(let n=0;n<=i.length-1;n++){const s=i[n];let c=s.replace(s===r?r:`${r}/`,"");c=(c===""?c:`${c}/`)+t;const p=a.getObject(`${s}/@sapui.name`);if(p===l){u=c}if(s===r){f=c}d=c;e[`${r}/${c}`.split("/").filter(function(t){return t!=""}).join(".")]=o.getProperty(c)}s=u||f||d;e[t]=o.getProperty(s);u=undefined;f=undefined;d=undefined}else{const n=i[0];let a=n.replace(n===r?r:`${r}/`,"");a=(a===""?a:`${a}/`)+t;e[t]=o.getProperty(a);g[t]=`${r}/${a}`.split("/").filter(function(t){return t!=""}).join(".")}}for(const t in e){if(e[t]!==null&&typeof e[t]==="object"){delete e[t]}}return{semanticAttributes:e,propertiesWithoutConflict:g}};g.getNavigationMode=function t(){return undefined};g.navigateWithConfirmationDialog=async function t(e,o,n,a){let r=true;if(a?.data("debounce"))return;a?.data("debounce",true);if(n?.notApplicableContexts&&n.notApplicableContexts?.length>=1){const t=this.base.getView().getModel().getMetaModel();const e=t.getMetaPath(n.notApplicableContexts[0].getPath());const a=J(t);const s=a.resolvePath(e).target;const c=new i({title:"",entityType:s.entityType,resourceModel:z(this.getView()),notApplicableContexts:n.notApplicableContexts,applicableContexts:n?.applicableContexts??[],entitySet:s.name,actionName:o});n.navigationContexts=n.applicableContexts;r=await c.open(this.getView())}if(r){this.navigate(e,o,n)}a?.data("debounce",false)};g._removeTechnicalParameters=function t(e){e.removeSelectOption("@odata.context");e.removeSelectOption("@odata.metadataEtag");e.removeSelectOption("SAP__Messages")};g.getEntitySet=function t(){return this._oView.getViewData().entitySet};g.removeSensitiveData=function t(e,o,n){if(e){const{transAggregations:t,customAggregates:i}=this._getAggregates(o,this.base.getView(),this.base.getAppComponent().getDiagnostics());const a=Object.keys(e);if(!Array.isArray(e)&&a.length){delete e["@odata.context"];delete e["@odata.metadataEtag"];delete e["SAP__Messages"];for(const r of a){if(e[r]&&typeof e[r]==="object"){this.removeSensitiveData(e[r],`${o}/${r}`,n)}if(r.includes("@odata.type")){delete e[r];continue}this._deleteAggregates([...t,...i],r,e);const a=this._getPropertyAnnotations(r,o,e,n||this._oMetaModel);if(a){if(a.PersonalData?.IsPotentiallySensitive||a.UI?.ExcludeFromNavigationContext||a.Analytics?.Measure){delete e[r]}else if(a.Common?.FieldControl){const t=a.Common.FieldControl;if(t["$EnumMember"]&&t["$EnumMember"].split("/")[1]==="Inapplicable"||t["$Path"]&&this._isFieldControlPathInapplicable(t["$Path"],e)){delete e[r]}}}}}}return e};g._deleteAggregates=function t(e,o,n){if(e&&e.includes(o)){delete n[o]}};g._getPropertyAnnotations=function t(e,o,n,i){if(n[e]&&o&&!o.includes("undefined")){const t=i.createBindingContext(`${o}/${e}`);const n=r.getInvolvedDataModelObjects(t);return n?.targetObject?.annotations}return null};g._getAggregates=function t(e,o,n){const i=this._getConverterContext(e,o,n);const a=new L(i.getEntityType(),i);const r=a.isAnalyticsSupported();let s,c;if(r){const t=a.getTransAggregations();if(t?.length){s=t.map(t=>t.Name||t.Value)}c=a.getCustomAggregateDefinitions();if(c?.length){c=c.map(t=>t.qualifier)}}s??=[];c=c?c:[];return{transAggregations:s,customAggregates:c}};g._getConverterContext=function t(e,o,i){const a=o.getViewData();let r=a.entitySet;const s=a.contextPath;if(s&&(!r||r.includes("/"))){r=a?.fullContextPath.split("/")[1]}return n.getConverterContextForPath(e,o.getModel().getMetaModel(),r,i)};g._isFieldControlPathInapplicable=function t(e,o){let n=false;const i=e.split("/");if(i.length>1){n=!!(o[i[0]]&&o[i[0]].hasOwnProperty(i[1])&&o[i[0]][i[1]]===0)}else{n=o[e]===0}return n};g._applySemanticObjectMappings=function t(e,o){const n=typeof o==="string"?JSON.parse(o):o;for(const t of n){const o=t["LocalProperty"]&&t["LocalProperty"]["$PropertyPath"]||t["@com.sap.vocabularies.Common.v1.LocalProperty"]&&t["@com.sap.vocabularies.Common.v1.LocalProperty"]["$Path"];const n=t["SemanticObjectProperty"]||t["@com.sap.vocabularies.Common.v1.SemanticObjectProperty"];const i=e.getSelectOption(o);if(i&&o!==n){e.removeSelectOption(n);e.renameSelectOption(o,n)}}return e};g.storeFocusInfoInHistory=function t(){let e=null;const o=f.getActiveElement();const n=o?.getId();const i=o&&s.getMdcTable(o);if(o?.isA("sap.m.Button")){e={type:"Control",controlId:n}}else if(i){e={type:"Row",tableId:i.getId(),contextPathFocus:o.getBindingContext()?.getPath()}}history.replaceState(Object.assign({},history.state,{focusInfo:e}),"")};g.navigateOutbound=function e(o,n){this.storeFocusInfoInHistory();let i;const a=this.base.getAppComponent().getManifestEntry("sap.app"),r=a.crossNavigation?.outbounds?.[o];if(!r){t.error("Outbound is not defined in manifest!!");return}const s=r.semanticObject,c=r.action,p=r.parameters&&this.getOutboundParams(r.parameters);if(n){i=[];Object.keys(n).forEach(function(t){let e;const o=n[t];if(Array.isArray(o)){for(const n of o){e={};e[t]=n;i?.push(e)}}else{e={};e[t]=o;i?.push(e)}})}if(i||p){n={navigationContexts:{data:i||p}}}this.base._intentBasedNavigation.navigate(s,c,n)};g._applyOutboundParams=function t(e,o){const n=Object.keys(o);const i=e.getSelectOptionsPropertyNames();n.forEach(function(t){if(!i.includes(t)){e.addSelectOption(t,"I","EQ",o[t])}});return e};g.getOutboundParams=function t(e){const o={};if(e){const t=Object.keys(e)||[];if(t.length>0){t.forEach(function(t){const n=e[t];if(n.value&&n.value.value&&n.value.format==="plain"){if(!o[t]){o[t]=n.value.value}}})}}return o};g.onChevronPressNavigateOutBound=async function t(e,o,n,i,a){const r=e.getAppComponent().getRoutingService().getOutbounds();const s=r[o];let c;if(s&&s.semanticObject&&s.action){const t={intents:{}};const o={};let r;let p=[];if(n){if(Array.isArray(n)){p=n;r=l.getMetaPathForContext(n[0])}else if(n.isA&&n.isA("sap.ui.model.odata.v4.Context")){r=l.getMetaPathForContext(n);p=[n]}o[r]=U.Self;t._feDefault=o}if(i){const e=`${s.semanticObject}-${s.action}`;t.intents[e]={};t.intents[e][i]=U.Self}if(s&&s.parameters){const t=s.parameters&&this.getOutboundParams(s.parameters);if(Object.keys(t).length>0){c=t}}e._intentBasedNavigation.navigate(s.semanticObject,s.action,{navigationContexts:p,refreshStrategies:t,additionalNavigationParameters:c,navMode:a});return Promise.resolve()}else{throw new Error(`outbound target ${o} not found in cross navigation definition of manifest`)}};g.processSemanticAttributes=function t(e,o,n){const i=this.keepNavigationPropertiesForNavigation();if(!i){return this.getSemanticAttributesWithoutNavigationProperties(e,n)}else{return o}};g.keepNavigationPropertiesForNavigation=function t(){let e=false;const o=this.base.getAppComponent().getManifestEntry("sap.fe");e=o?.app?.considerNavigationPropertiesForExternalNavigation||false;return e};g.getSemanticAttributesWithoutNavigationProperties=function t(e,o){const n=e.getModel().getMetaModel(),i=e.getPath(),a=n.getMetaPath(i),r=e.getObject();const s=this.getNavigationPropertiesFromEntityType(n,a);if(s&&s.length>0){s.forEach(t=>{const e=t.name;if(Array.isArray(o)&&o.length>0){if(r.hasOwnProperty(e)&&r[e]){Object.keys(r[e]).forEach(function(t){const n=`${e}/${t}`;if(!o?.includes(n)&&r[e].hasOwnProperty(t)){delete r[e][t];if(Object.keys(r[e]).length===0){delete r[e]}}})}else{delete r[e]}}else if(r.hasOwnProperty(e)){delete r[e]}})}return r};g.getNavigationPropertiesFromEntityType=function t(e,o){const n=J(e);const i=n.resolvePath(`${o}/`).target;return i?.navigationProperties};return p}(v),et(H.prototype,"onInit",[m],Object.getOwnPropertyDescriptor(H.prototype,"onInit"),H.prototype),et(H.prototype,"navigate",[O,P],Object.getOwnPropertyDescriptor(H.prototype,"navigate"),H.prototype),et(H.prototype,"prepareContextForExternalNavigation",[C,A],Object.getOwnPropertyDescriptor(H.prototype,"prepareContextForExternalNavigation"),H.prototype),et(H.prototype,"getNavigationMode",[S,M],Object.getOwnPropertyDescriptor(H.prototype,"getNavigationMode"),H.prototype),et(H.prototype,"navigateWithConfirmationDialog",[x,N],Object.getOwnPropertyDescriptor(H.prototype,"navigateWithConfirmationDialog"),H.prototype),et(H.prototype,"getEntitySet",[j],Object.getOwnPropertyDescriptor(H.prototype,"getEntitySet"),H.prototype),et(H.prototype,"removeSensitiveData",[_,w],Object.getOwnPropertyDescriptor(H.prototype,"removeSensitiveData"),H.prototype),et(H.prototype,"navigateOutbound",[E,D],Object.getOwnPropertyDescriptor(H.prototype,"navigateOutbound"),H.prototype),et(H.prototype,"getOutboundParams",[F,$],Object.getOwnPropertyDescriptor(H.prototype,"getOutboundParams"),H.prototype),et(H.prototype,"onChevronPressNavigateOutBound",[I,V],Object.getOwnPropertyDescriptor(H.prototype,"onChevronPressNavigateOutBound"),H.prototype),et(H.prototype,"keepNavigationPropertiesForNavigation",[R,T],Object.getOwnPropertyDescriptor(H.prototype,"keepNavigationPropertiesForNavigation"),H.prototype),et(H.prototype,"getSemanticAttributesWithoutNavigationProperties",[B,k],Object.getOwnPropertyDescriptor(H.prototype,"getSemanticAttributesWithoutNavigationProperties"),H.prototype),H))||W);return ot},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/controllerextensions/InternalRouting", ["sap/base/Log","sap/fe/base/ClassSupport","sap/fe/core/CommonUtils","sap/fe/core/controllerextensions/BusyLocker","sap/fe/core/controllerextensions/editFlow/draft","sap/fe/core/controllerextensions/routing/ContextPathHelper","sap/fe/core/controllerextensions/routing/NavigationReason","sap/fe/core/helpers/EditState","sap/fe/core/helpers/ModelHelper","sap/ui/core/Component","sap/ui/core/Lib","sap/ui/core/mvc/ControllerExtension","sap/ui/core/mvc/OverrideExecution","../converters/MetaModelConverter","../helpers/RoutingHelper","./editFlow/editFlowConstants","./messageHandler/messageHandling"],function(t,e,o,n,i,r,a,s,c,g,l,u,p,d,h,f,C){"use strict";var v,P,_,y,m,x,b,w,B,R,E,S,A,O,D,M,T,F,I,V,N,L,H,k;var $=d.getInvolvedDataModelObjects;var j=r.resolvePath;var K=r.isPathOnDraftRoot;var z=r.getDraftOrActiveContext;var U=e.publicExtension;var q=e.methodOverride;var W=e.finalExtension;var G=e.extensible;var Q=e.defineUI5Class;function J(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,X(t,e)}function X(t,e){return X=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},X(t,e)}function Y(t,e,o,n,i){var r={};return Object.keys(n).forEach(function(t){r[t]=n[t]}),r.enumerable=!!r.enumerable,r.configurable=!!r.configurable,("value"in r||r.initializer)&&(r.writable=!0),r=o.slice().reverse().reduce(function(o,n){return n(t,e,o)||o},r),i&&void 0!==r.initializer&&(r.value=r.initializer?r.initializer.call(i):void 0,r.initializer=void 0),void 0===r.initializer?(Object.defineProperty(t,e,r),null):r}let Z=(v=Q("sap.fe.core.controllerextensions.InternalRouting"),P=q(),_=q(),y=U(),m=G(p.After),x=U(),b=G(p.After),w=U(),B=G(p.After),R=U(),E=G(p.After),S=U(),A=U(),O=U(),D=W(),M=U(),T=W(),F=U(),I=U(),V=W(),N=U(),L=G(p.Before),v(H=(k=function(e){function r(){return e.apply(this,arguments)||this}J(r,e);var u=r.prototype;u.onExit=function t(){if(this._oRoutingService&&this._fnRouteMatchedBound){this._oRoutingService.detachRouteMatched(this._fnRouteMatchedBound)}};u.onInit=function t(){this._oView=this.base.getView();this._oAppComponent=o.getAppComponent(this._oView);this._oPageComponent=g.getOwnerComponentFor(this._oView);this._oRouter=this._oAppComponent.getRouter();this._oRouterProxy=this._oAppComponent.getRouterProxy();if(!this._oAppComponent||!this._oPageComponent){throw new Error("Failed to initialize controler extension 'sap.fe.core.controllerextesions.InternalRouting")}if(this._oAppComponent===this._oPageComponent){this._oPageComponent=null}this._oAppComponent.getService("routingService").then(t=>{this._oRoutingService=t;if(this._oPageComponent?.isA("sap.fe.core.ReuseComponent")!==true){this._fnRouteMatchedBound=this._onRouteMatched.bind(this);this._oRoutingService.attachRouteMatched({},this._fnRouteMatchedBound)}this._oTargetInformation=t.getTargetInformationFor(this._oPageComponent||this._oView)??{};return}).catch(function(){throw new Error("This controller extension cannot work without a 'routingService' on the main AppComponent")})};u.onRouteMatched=function t(){};u.onRouteMatchedFinished=function t(){};u.onBeforeBinding=function t(e,o){};u.beforeSetBindingContext=function t(e,o){this.onBeforeBinding(e,o);const n=this.base.getView().getController().routing;if(n&&n.onBeforeBinding){n.onBeforeBinding(e)}};u.onAfterBinding=function t(e,o){this._oAppComponent.getRootViewController().onContextBoundToView(e)};u.afterSetBindingContext=function t(e,o){this.onAfterBinding(e,{...o,deferredCreation:true});const n=this.base.getView().getController().routing;if(n&&n.onAfterBinding){n.onAfterBinding(e)}};u.navigateToTarget=async function t(e,o,n,i){const r=this._oPageComponent&&this._oPageComponent.getNavigationConfiguration&&this._oPageComponent.getNavigationConfiguration(o);if(r){const t=r.detail;const o=t.route;const a=t.parameters;return this._oRoutingService.navigateTo(e,o,a,n,i)}else{return this._oRoutingService.navigateTo(e,null,null,n,i)}};u.getHashForNavigation=async function t(e,o){const n=this?._oPageComponent?.getNavigationConfiguration(o);if(n){const t=n.detail;const o=t.route;const i=t.parameters;return this._oRoutingService.getHashFromRoute(e,o,i)}else{return this._oRoutingService.getHashFromRoute(e,null)}};u.navigateToRoute=async function t(e,o){return this._oRoutingService.navigateToRoute(e,o)};u.navigateToContext=async function e(o){let n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};if(o.isA("sap.ui.model.odata.v4.ODataListBinding")){if(n.createOnNavigateParameters?.mode==="Async"){this._oRouterProxy.activateRouteMatchSynchronization();n.createOnNavigateParameters.createContextPromise.then(async t=>this.navigateToContext(t,{checkNoHashChange:n.checkNoHashChange,editable:n.editable,persistOPScroll:n.persistOPScroll,updateFCLLevel:n.updateFCLLevel,forceFocus:n.forceFocus})).catch(function(e){t.error("Error with the async context",e)})}else if(n.createOnNavigateParameters?.mode!=="Deferred"){throw"navigation to a list binding is not yet supported"}}else if(n.callExtension){const t=this._oView.getModel("internal");t.setProperty("/paginatorCurrentContext",null);let e=o;let i;if(n.updateFCLLevel===-1){const t=this._oRoutingService.getPathToNavigateBack(o.getPath());i=o.getModel().bindContext(t);e=i.getBoundContext()}const r=await this.base.getView().getController().routing.onBeforeNavigation({bindingContext:e});i?.destroy();if(r){t.setProperty("/paginatorCurrentContext",o);return Promise.resolve(true)}}n.FCLLevel=this.getFCLLevel();if(n.reason===a.RowPress&&o.isA("sap.ui.model.odata.v4.Context")){const t=o.getModel();const e=t.getMetaModel();if(K(o.getPath(),e)){const t=await this.getContextForNavigationWithCollaboration(o,n)??await this.getContextForNavigationFromTreeOrAnalyticalTable(o);if(t){o=t}}}this.removeTransitionMessagesForPreviousContext();return this._oRoutingService.navigateToContext(o,n,this._oView.getViewData(),this._oTargetInformation)};u.getContextForNavigationWithCollaboration=async function t(e,o){const n=e.getModel();const i=n.getMetaModel();if(c.isCollaborationDraftSupported(i)&&e.getProperty("IsActiveEntity")===false){let t=await z(e);if(t!==null&&e.getPath()!==t.getPath()){const r=$(i.getMetaContext(e.getPath()));o.redirectedToNonDraft=r.targetEntityType.annotations.UI?.HeaderInfo?.TypeName??r.targetEntityType.name;if(this._oAppComponent.getRootViewController().isFclEnabled()){const o=n.getKeepAliveContext(t.getPath());e.replaceWith(o);t=o}else{s.setEditStateDirty()}return t}}return null};u.getContextForNavigationFromTreeOrAnalyticalTable=async function t(e){const o=e.getBinding();if(!o.isA("sap.ui.model.odata.v4.ODataListBinding")){return null}const n=o.getAggregation();if(!n?.hierarchyQualifier&&!n?.group&&!n?.aggregate){return null}if(e.getProperty("IsActiveEntity")===true&&e.getProperty("HasDraftEntity")===true){const t=await z(e);if(t!==null&&e.getPath()!==t.getPath()){return t}}return null};u.navigateBackFromContext=async function t(e){let o=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};o.updateFCLLevel=-1;return this.navigateToContext(e,o)};u.navigateForwardToContext=async function t(e){let o=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};if(this._oView.getBindingContext("internal")?.getProperty("messageFooterContainsErrors")===true){return Promise.resolve(true)}o.updateFCLLevel=1;return this.navigateToContext(e,o)};u.navigateBackFromTransientState=function t(){const e=this._oRouterProxy.getHash();if(e.includes("(...)")){this._oRouterProxy.navBack()}};u.navigateToMessagePage=async function t(e,o){o=o||{};if(this._oRouterProxy.getHash().includes("i-action=create")||this._oRouterProxy.getHash().includes("i-action=autoCreate")){return this._oRouterProxy.navToHash(this._oRoutingService.getDefaultCreateHash())}else{return this._oAppComponent.getRootViewController().displayErrorPage(e,o,this.getFCLLevel())}};u.isCurrentStateImpactedBy=function t(e){return this._oRoutingService.isCurrentStateImpactedBy(e)};u._isViewPartOfRoute=function t(e){const o=e?.targets;if(!o||!o.includes(this._oTargetInformation.targetName)){if((this._oTargetInformation.viewLevel??0)>=(e?.routeLevel??0)){this._oAppComponent.getRoutingService().addBindingCleanupPromise(new Promise(t=>{setTimeout(()=>{if(e?.routeLevel===0){this.base.collaborativeDraft.disconnect()}this.removeTransitionMessagesForPreviousContext();this._setBindingContext(null);t()},0)}))}return false}return true};u._onRouteMatched=function e(o){if(!this._isViewPartOfRoute(o.getParameter("routeInformation"))){return}let n;if(this._oPageComponent&&this._oPageComponent.getBindingContextPattern){n=this._oPageComponent.getBindingContextPattern()}n=n??this._oTargetInformation.contextPattern;if(n===null||n===undefined){n=o.getParameter("routePattern")}const i=o.getParameters().arguments;const r=o.getParameter("navigationInfo");const{path:s,deferred:c}=h.buildBindingPath(i,n,r);this.onRouteMatched();let g;const l=this._oView.getModel();if(c){g=this._bindDeferred(s,r)}else if(r.reason!==a.EditFlowAction&&(this._oRouterProxy.getHash().includes("i-action=edit")||(this._oPageComponent?.isOpenInEditMode?.()??false))){g=this._bindPageForEdit(s,l,r)}else{g=this._bindPage(s,l,r)}g.finally(()=>{this.onRouteMatchedFinished()}).catch(e=>{t.error("Error during page binding "+e.toString())});this._oAppComponent.getRootViewController().updateUIStateForView(this._oView,this.getFCLLevel())};u._bindDeferred=async function t(e,o){this.beforeSetBindingContext(null,{editable:o.bTargetEditable});if(!o.createOnNavigateParameters||o.createOnNavigateParameters.mode==="Deferred"){if(this._oPageComponent&&this._oPageComponent.createDeferredContext){this._oPageComponent.createDeferredContext(e,o.createOnNavigateParameters?.listBinding,o.createOnNavigateParameters?.parentContext,o.createOnNavigateParameters?.data,!!o.bActionCreate)}}this._setBindingContext(null);this.afterSetBindingContext(null);return Promise.resolve()};u._bindPageForEdit=async function t(e,n,i){if(e===""){return Promise.resolve(this._bindPageToContext(null,n,i))}try{const t=await j(e,n,this._oRoutingService,this._oRouter);const r=n.getMetaModel();const a=o.isStickyEditMode(this.base.getView());const s=c.isStickySessionSupported(r);if(t.includes("IsActiveEntity=true")||s&&!a){const e=i.useContext?.getPath()===t?i.useContext:this._createContext(t,n);return await this.base.editFlow.editDocument(e)}else{return this._bindPageToPath(t,n,i)}}catch(t){const e=l.getResourceBundleFor("sap.fe.core");this.navigateToMessagePage(e.getText("C_COMMON_SAPFE_DATA_RECEIVED_ERROR"),{title:e.getText("C_COMMON_SAPFE_ERROR"),description:t.message})}};u._bindPage=async function t(e,o,n){if(e===""){return Promise.resolve().then(()=>{this._bindPageToContext(null,o,n);return})}try{const t=await j(e,o,this._oRoutingService,this._oRouter);this._bindPageToPath(t,o,n)}catch(t){await this.base.messageHandler.showMessages({})}};u._bindPageToPath=function e(o,n,i){const r=this._getBindingContext(),g=r&&r.getPath(),l=i.useContext;const u=this._oAppComponent.getRootViewController();if(l&&l.getPath()===o){if(l!==r){let e=false;if(u.isFclEnabled()&&i.reason===a.RowPress){const t=l.getModel().getMetaModel();if(!l.getBinding().hasPendingChanges()&&c.isDraftSupported(t,l.getPath())){e=true}else if(this.base.collaborativeDraft.isConnected()||c.isDraftSupported(t,l.getPath())&&c.isCollaborationDraftSupported(t)){l.getBinding().resetChanges();e=true}}this._bindPageToContext(l,n,i);if(e){this._oAppComponent.getSideEffectsService().requestSideEffects([{$NavigationPropertyPath:""}],l,l.getBinding().getGroupId()).catch(e=>{t.error(`Cannot refresh context: ${e}`)})}}else if(i.reason===a.EditFlowAction){this.beforeSetBindingContext(l,{editable:i.bTargetEditable,listBinding:l.getBinding(),bPersistOPScroll:i.bPersistOPScroll,reason:i.reason,showPlaceholder:i.bShowPlaceholder});this.afterSetBindingContext(l,{redirectedToNonDraft:i?.redirectedToNonDraft})}}else if(g!==o||i.reason===a.EditFlowAction){this._bindPageToContext(this._createContext(o,n),n,i)}else if(i.reason!==a.AppStateChanged&&i.reason!==a.RestoreHistory&&s.isEditStateDirty()&&!u.isFclEnabled()&&r){this._refreshBindingContext(r)}};u._bindPageToContext=function e(o,n,i){if(!o){this.beforeSetBindingContext(null);this.afterSetBindingContext(null);return}const r=o.getBinding();const a=this._oAppComponent.getRootViewController();if(a.isFclEnabled()){if(!r||!r.isA("sap.ui.model.odata.v4.ODataListBinding")){o=this._createContext(o.getPath(),n)}try{this._setKeepAlive(o,true,()=>{if(o&&!this._oAppComponent.isExiting&&a.isContextUsedInPages(o)){this.navigateBackFromContext(o)}},true)}catch(e){t.error(`View for ${o.getPath()} won't be synchronized. Parent listBinding must have binding parameter $$ownRequest=true`)}}else if(!r||r.isA("sap.ui.model.odata.v4.ODataListBinding")){o=this._createContext(o.getPath(),n)}if(c.isCollaborationDraftSupported(n.getMetaModel())&&o.getPath().includes("IsActiveEntity=false")){this.base.collaborativeDraft.executeShareAction(o)}this.beforeSetBindingContext(o,{editable:i.bTargetEditable,listBinding:r,bPersistOPScroll:i.bPersistOPScroll,reason:i.reason,showPlaceholder:i.bShowPlaceholder});this._setBindingContext(o);this.afterSetBindingContext(o,{redirectedToNonDraft:i?.redirectedToNonDraft})};u._createContext=function t(e,i){const r=this._oPageComponent,a=r&&r.getEntitySet&&r.getEntitySet(),s=r&&r.getContextPath&&r.getContextPath()||a&&`/${a}`,g=i.getMetaModel(),l=c.isCollaborationDraftSupported(g),u={$$groupId:"$auto.Heroes",$$updateGroupId:"$auto",$$patchWithoutSideEffects:true};if(this.base.inlineEditFlow.isInlineEditPossible()){u.$$updateGroupId=e.includes("IsActiveEntity=true")?o.INLINEEDIT_UPDATEGROUPID:"$auto"}const p=g.getObject(`${s}@com.sap.vocabularies.Common.v1.DraftRoot`);const d=g.getObject(`${s}@com.sap.vocabularies.Common.v1.DraftNode`);const h=s?g.getContext(s)&&$(g.getContext(s)):null;const f=c.getAlternateAndSecondaryKeys(h?.targetEntityType,h?.targetEntitySet);const C=p?h?.targetEntityType.annotations.Common?.SemanticKey?.map(t=>t.value)??[]:[];const v=this._oAppComponent.getRootViewController();if(v.isFclEnabled()){u.$$groupId="$auto.Workers";const t=this._getKeepAliveContext(i,e,false,u);if(!t){throw new Error(`Cannot create keepAlive context ${e}`)}else if(p||d){const e=["HasActiveEntity","HasDraftEntity","IsActiveEntity"].concat(C);if(t.getProperty("IsActiveEntity")===undefined){t.requestProperty(e);if(p){t.requestObject("DraftAdministrativeData")}}else{t.requestSideEffects(p?e.concat(["DraftAdministrativeData"]):e)}}return t}else{const t=[];if(s){const e=c.getMessagesPath(g,s);if(e){t.push(e)}}if(p||d){t.push("HasActiveEntity","HasDraftEntity","IsActiveEntity");t.push(...C)}t.push(...f);if(l&&p){t.push("DraftAdministrativeData/DraftAdministrativeUser")}if(t.length){u.$select=t.join(",")}if(this._oView.getBindingContext()){const t=this._oView.getBindingContext()?.getBinding();if(t){i.resetChanges(t.getUpdateGroupId());t.destroy()}}const o=i.bindContext(e,undefined,u);o.attachEventOnce("dataRequested",()=>{n.lock(this._oView);this.base.messageHandler.holdMessagesForControl(this._oView)});o.attachEventOnce("dataReceived",this.onDataReceived.bind(this));return o.getBoundContext()}};u.onDataReceived=async function e(o){const i=o?.getParameter("error");if(n.isLocked(this._oView)){n.unlock(this._oView)}if(i){const e=this.base.messageHandler;let o={};const n=i.status??i.cause?.status;try{const t=l.getResourceBundleFor("sap.fe.core");if(n===503){o={isInitialLoad503Error:true,shellBack:true}}else if(n===400){o={title:t.getText("C_COMMON_SAPFE_ERROR"),description:t.getText("C_COMMON_SAPFE_DATA_RECEIVED_ERROR_DESCRIPTION"),isDataReceivedError:true,shellBack:true}}else{o={title:t.getText("C_COMMON_SAPFE_ERROR"),description:i?.message,isDataReceivedError:true,shellBack:true}}}catch(e){t.error("Error while getting the core resource bundle",e)}finally{o.control=this._oView;await e.showMessages(o)}}else{await this.base.messageHandler.releaseHoldByControl(this._oView)}};u._refreshBindingContext=function t(e){const o=this._oPageComponent;const n=this._oAppComponent.getSideEffectsService();const i=e.getPath();const r=o&&o.getEntitySet&&o.getEntitySet();const a=o&&o.getContextPath&&o.getContextPath()||r&&`/${r}`;const s=this._oView.getModel().getMetaModel();let g;const l=[];const u=[];const p={targetProperties:[],targetEntities:[]};function d(t){let e;const o=(t.getContext()?.getPath()??"").replace(i,"");const n=(o?`${o.slice(1)}/`:o)+t.getPath();if(t.isA("sap.ui.model.odata.v4.ODataContextBinding")){e=t.getDependentBindings();if(e){for(const t of e){d(t)}}else if(!l.includes(n)){l.push(n)}}else if(t.isA("sap.ui.model.odata.v4.ODataListBinding")){if(!l.includes(n)){l.push(n)}}else if(t.isA("sap.ui.model.odata.v4.ODataPropertyBinding")){if(!u.includes(n)){u.push(n)}}}if(a){g=c.getMessagesPath(s,a)}d(e.getBinding());let h;for(h=0;h<l.length;h++){p.targetEntities.push({$NavigationPropertyPath:l[h]})}p.targetProperties=u;if(g){p.targetProperties.push(g)}p.targetProperties=p.targetProperties.reduce((t,e)=>{if(e){const o=e.indexOf("/");t.push(o>0?e.slice(0,o):e)}return t},[]);n.requestSideEffects([...p.targetEntities,...p.targetProperties],e)};u._getBindingContext=function t(){if(this._oPageComponent){return this._oPageComponent.getBindingContext()}else{return this._oView.getBindingContext()}};u._setBindingContext=function t(e){let o,n;if(this._oPageComponent){o=this._oPageComponent.getBindingContext();n=this._oPageComponent}else{o=this._oView.getBindingContext();n=this._oView}n.setBindingContext(e);if(o?.isKeepAlive()&&o!==e){this._setKeepAlive(o,false)}};u.getFCLLevel=function t(){return this._oTargetInformation.FCLLevel};u._setKeepAlive=function t(e,o,n,i){if(e.getPath().endsWith(")")){const t=e.getModel().getMetaModel();const r=t.getMetaPath(e.getPath());const a=c.getMessagesPath(t,r);e.setKeepAlive(o,n,!!a&&i)}};u._getKeepAliveContext=function t(e,o,n,i){const r=o.split("/");const a=[];while(r.length&&!r[r.length-1].endsWith(")")){a.push(r.pop())}if(r.length===0){return undefined}const s=r.join("/");const c=e.getKeepAliveContext(s,n,i);if(a.length===0){return c}else{a.reverse();const t=a.join("/");return e.bindContext(t,c).getBoundContext()}};u.switchFullScreen=function e(){const o=this.base.getView();const n=o.getModel("fclhelper"),i=n.getProperty("/actionButtonsInfo/isFullScreen"),r=n.getProperty(i?"/actionButtonsInfo/exitFullScreen":"/actionButtonsInfo/fullScreen"),a=this._oAppComponent.getRootViewController();const s=a.getRightmostContext?a.getRightmostContext():o.getBindingContext();this.base._routing.navigateToContext(s,{layout:r}).catch(function(){t.warning("cannot switch between column and fullscreen")})};u.closeColumn=async function t(){const e=this._oView.getViewData();const o=this._oView.getBindingContext();const n=o.getModel().getMetaModel();const r={noPreservationCache:true,layout:this._oView.getModel("fclhelper").getProperty("/actionButtonsInfo/closeColumn"),callExtension:true};const a=!!this.getView()?.getModel("ui")?.getProperty(f.DocumentModified)||!o.getProperty("HasActiveEntity");const s=(this._oAppComponent.getEnvironmentCapabilities()?.getCapabilities()?.HiddenDraft).enabled;if(!a&&s){const t={skipDiscardPopover:true,skipBackNavigation:true};await this.base.editFlow.cancelDocument(o,t);this.navigateBackFromContext(o,r)}else if(e?.viewLevel===1&&c.isDraftSupported(n,o.getPath())){i.processDataLossOrDraftDiscardConfirmation(()=>{this.navigateBackFromContext(o,r)},Function.prototype,o,this._oView.getController(),true,i.NavigationType.BackNavigation)}else{this.navigateBackFromContext(o,r)}C.removeTransistionMessageForContext(o)};u.removeTransitionMessagesForPreviousContext=function t(){const e=this.getView().getBindingContext();if(e){C.removeAllTransitionMessagesForContext(e)}};return r}(u),Y(k.prototype,"onExit",[P],Object.getOwnPropertyDescriptor(k.prototype,"onExit"),k.prototype),Y(k.prototype,"onInit",[_],Object.getOwnPropertyDescriptor(k.prototype,"onInit"),k.prototype),Y(k.prototype,"onRouteMatched",[y,m],Object.getOwnPropertyDescriptor(k.prototype,"onRouteMatched"),k.prototype),Y(k.prototype,"onRouteMatchedFinished",[x,b],Object.getOwnPropertyDescriptor(k.prototype,"onRouteMatchedFinished"),k.prototype),Y(k.prototype,"onBeforeBinding",[w,B],Object.getOwnPropertyDescriptor(k.prototype,"onBeforeBinding"),k.prototype),Y(k.prototype,"onAfterBinding",[R,E],Object.getOwnPropertyDescriptor(k.prototype,"onAfterBinding"),k.prototype),Y(k.prototype,"navigateToTarget",[S],Object.getOwnPropertyDescriptor(k.prototype,"navigateToTarget"),k.prototype),Y(k.prototype,"navigateToRoute",[A],Object.getOwnPropertyDescriptor(k.prototype,"navigateToRoute"),k.prototype),Y(k.prototype,"navigateBackFromTransientState",[O,D],Object.getOwnPropertyDescriptor(k.prototype,"navigateBackFromTransientState"),k.prototype),Y(k.prototype,"isCurrentStateImpactedBy",[M,T],Object.getOwnPropertyDescriptor(k.prototype,"isCurrentStateImpactedBy"),k.prototype),Y(k.prototype,"onDataReceived",[F],Object.getOwnPropertyDescriptor(k.prototype,"onDataReceived"),k.prototype),Y(k.prototype,"switchFullScreen",[I,V],Object.getOwnPropertyDescriptor(k.prototype,"switchFullScreen"),k.prototype),Y(k.prototype,"closeColumn",[N,L],Object.getOwnPropertyDescriptor(k.prototype,"closeColumn"),k.prototype),k))||H);return Z},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/controllerextensions/KPIManagement", ["sap/base/Log","sap/base/i18n/Localization","sap/fe/base/ClassSupport","sap/fe/core/formatters/ValueFormatter","sap/m/Popover","sap/ui/core/Lib","sap/ui/core/Locale","sap/ui/core/format/DateFormat","sap/ui/core/format/NumberFormat","sap/ui/core/message/MessageType","sap/ui/core/mvc/ControllerExtension","sap/ui/model/Filter","sap/ui/model/Sorter","sap/ui/model/json/JSONModel"],function(e,t,a,n,i,r,o,s,l,c,d,u,p,f){"use strict";var m,g,h,y,P;var b=a.methodOverride;var v=a.defineUI5Class;function D(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,C(e,t)}function C(e,t){return C=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},C(e,t)}function I(e,t,a,n,i){var r={};return Object.keys(n).forEach(function(e){r[e]=n[e]}),r.enumerable=!!r.enumerable,r.configurable=!!r.configurable,("value"in r||r.initializer)&&(r.writable=!0),r=a.slice().reverse().reduce(function(a,n){return n(e,t,a)||a},r),i&&void 0!==r.initializer&&(r.value=r.initializer?r.initializer.call(i):void 0,r.initializer=void 0),void 0===r.initializer?(Object.defineProperty(e,t,r),null):r}const N={1:c.Error,2:c.Warning,3:c.Success,5:c.Information};const x={Error:"Error",Warning:"Critical",Success:"Good",Information:"None",None:"None"};function $(e,t){let a;if(t[0]!==undefined&&t[0]!==null&&e<t[0]){a=c.Error}else if(t[1]!==undefined&&t[1]!==null&&e<t[1]){a=c.Warning}else if(t[2]!==undefined&&t[2]!==null&&e<t[2]){a=c.None}else if(t[5]!==undefined&&t[5]!==null&&e>t[5]){a=c.Error}else if(t[4]!==undefined&&t[4]!==null&&e>t[4]){a=c.Warning}else if(t[3]!==undefined&&t[3]!==null&&e>t[3]){a=c.None}else{a=c.Success}return a}function T(e,t){let a;if(t[2]!==undefined&&t[2]!==null&&e>t[2]){a=c.Error}else if(t[1]!==undefined&&t[1]!==null&&e>t[1]){a=c.Warning}else if(t[0]!==undefined&&t[0]!==null&&e>t[0]){a=c.None}else{a=c.Success}return a}function w(e,t){let a;if(t[0]!==undefined&&t[0]!==null&&e<t[0]){a=c.Error}else if(t[1]!==undefined&&t[1]!==null&&e<t[1]){a=c.Warning}else if(t[2]!==undefined&&t[2]!==null&&e<t[2]){a=c.None}else{a=c.Success}return a}function F(e){let t;switch(e){case 1:case"1":case 2:case"2":t="Up";break;case 4:case"4":case 5:case"5":t="Down";break;default:t="None"}return t}function A(e,t,a,n){let i;if(!n||a&&!t){return"None"}const r=a?(e-t)/t:e-t;if(n[0]!==undefined&&n[0]!==null&&r<=n[0]){i="Down"}else if(n[1]!==undefined&&n[1]!==null&&r<=n[1]){i="Down"}else if(n[3]!==undefined&&n[3]!==null&&r>=n[3]){i="Up"}else if(n[2]!==undefined&&n[2]!==null&&r>=n[2]){i="Up"}else{i="None"}return i}function S(e){if(e.ranges.length===0){return undefined}else if(e.ranges.length===1){return new u(e.propertyPath,e.ranges[0].operator,e.ranges[0].rangeLow,e.ranges[0].rangeHigh)}else{const t=e.ranges.map(t=>new u(e.propertyPath,t.operator,t.rangeLow,t.rangeHigh));return new u({filters:t,and:false})}}function j(e){const a=new o(t.getLanguage());const n=r.getResourceBundleFor("sap.fe.core");const i=s.getDateInstance({style:"medium"},a);function l(t){const a=e.propertyType.indexOf("Edm.Date")===0?i.format(new Date(t.rangeLow)):t.rangeLow;const r=e.propertyType.indexOf("Edm.Date")===0&&t.rangeHigh!==undefined?i.format(new Date(t.rangeHigh)):t.rangeHigh;switch(t.operator){case"BT":return`[${a} - ${r}]`;case"Contains":return`*${a}*`;case"GE":return`≥${a}`;case"GT":return`>${a}`;case"LE":return`≤${a}`;case"LT":return`<${a}`;case"NB":return n.getText("C_KPICARD_FILTERSTRING_NOT",[`[${a} - ${r}]`]);case"NE":return`≠${a}`;case"NotContains":return n.getText("C_KPICARD_FILTERSTRING_NOT",[`*${a}*`]);case"EQ":default:return a}}if(e.ranges.length===0){return""}else if(e.ranges.length===1){return l(e.ranges[0])}else{return`(${e.ranges.map(l).join(",")})`}}function O(e){const t=r.getResourceBundleFor("sap.fe.core");function a(e){if(e.length===0){return""}else if(e.length===1){return e[0].label}else{let a=e[0].label;for(let t=1;t<e.length-1;t++){a+=`, ${e[t].label}`}return t.getText("C_KPICARD_ITEMSLIST",[a,e[e.length-1].label])}}return e.chart.title??t.getText("C_KPICARD_CHARTTITLE",[a(e.chart.measures),a(e.chart.dimensions)])}function V(e,t){switch(e.chartType){case"Donut":t.categoryAxis={title:{visible:false}};t.valueAxis={title:{visible:false},label:{formatString:"ShortFloat"}};t.plotArea.dataLabel={visible:true,type:"value",formatString:"ShortFloat_MFD2"};break;case"bubble":t.valueAxis={title:{visible:true},label:{formatString:"ShortFloat"}};t.valueAxis2={title:{visible:true},label:{formatString:"ShortFloat"}};t.legendGroup={layout:{position:"bottom",alignment:"topLeft"}};t.sizeLegend={visible:true};t.plotArea.dataLabel={visible:false};break;case"scatter":t.valueAxis={title:{visible:false},label:{formatString:"ShortFloat"}};t.valueAxis2={title:{visible:false},label:{formatString:"ShortFloat"}};t.plotArea.dataLabel={visible:false};break;default:t.categoryAxis={title:{visible:false}};t.valueAxis={title:{visible:false},label:{formatString:"ShortFloat"}};t.plotArea.dataLabel={visible:false}}}function M(e,t){if(t&&t.length){return e.filter(e=>t.includes(e.role)).map(e=>e.label)}else{return e.map(e=>e.label)}}function E(e){const t=M(e.measures,["Axis1"]);const a=M(e.measures,["Axis2"]);const n=M(e.measures,["Axis3"]);const i=M(e.measures,[undefined]);const r=M(e.dimensions,["Series"]);const o=e.dimensions.find(e=>e.role==="Category");const s=t.shift()||a.shift()||n.shift()||i.shift()||"";const l=a.shift()||t.shift()||n.shift()||i.shift()||"";const c=[{uid:"valueAxis",type:"Measure",values:[s]},{uid:"valueAxis2",type:"Measure",values:[l]}];if(e.chartType==="bubble"){const e=n.shift()||t.shift()||a.shift()||i.shift()||"";c.push({uid:"bubbleWidth",type:"Measure",values:[e]})}if(r.length){c.push({uid:"color",type:"Dimension",values:r})}if(o){c.push({uid:"shape",type:"Dimension",values:[o.label]})}return c}function L(e){let t;switch(e.chartType){case"Donut":t=[{uid:"size",type:"Measure",values:M(e.measures)},{uid:"color",type:"Dimension",values:M(e.dimensions)}];break;case"bubble":case"scatter":t=E(e);break;case"vertical_bullet":t=[{uid:"actualValues",type:"Measure",values:M(e.measures,[undefined,"Axis1"])},{uid:"targetValues",type:"Measure",values:M(e.measures,["Axis2"])},{uid:"categoryAxis",type:"Dimension",values:M(e.dimensions,[undefined,"Category"])},{uid:"color",type:"Dimension",values:M(e.dimensions,["Series"])}];break;default:t=[{uid:"valueAxis",type:"Measure",values:M(e.measures)},{uid:"categoryAxis",type:"Dimension",values:M(e.dimensions,[undefined,"Category"])},{uid:"color",type:"Dimension",values:M(e.dimensions,["Series"])}]}return t}async function R(e,t){if(e.semanticObject){if(e.action){return t.getLinks([{semanticObject:e.semanticObject,action:e.action}]).then(t=>t.length&&t[0].length?{semanticObject:e.semanticObject,action:e.action}:undefined)}else{return t.getPrimaryIntent(e.semanticObject).then(a=>{if(!a){return undefined}const n=t.parseShellHash(a.intent);return e.unavailableActions&&e.unavailableActions.includes(n.action)?undefined:{semanticObject:n.semanticObject,action:n.action}})}}else{return e.outboundNavigation?Promise.resolve({outbound:e.outboundNavigation}):Promise.resolve(undefined)}}let k=(m=v("sap.fe.core.controllerextensions.KPIManagement"),g=b(),h=b(),m(y=(P=function(a){function s(){return a.call(this)||this}D(s,a);var d=s.prototype;d.initCardManifest=function e(t,a){const n={"sap.app":{id:"sap.fe.KPICard",type:"card"},"sap.ui":{technology:"UI5"},"sap.card":{type:"Analytical",data:{json:{}},header:{type:"Numeric",title:t.datapoint.title,subTitle:t.datapoint.description,unitOfMeasurement:"{mainUnit}",mainIndicator:{number:"{mainValueNoScale}",unit:"{mainValueScale}",state:"{mainState}",trend:"{trend}"}},content:{minHeight:"25rem",chartProperties:{plotArea:{},title:{visible:true,alignment:"left"}},data:{path:"/chartData"}}}};if(t.datapoint.targetPath||t.datapoint.targetValue!==undefined){const e=r.getResourceBundleFor("sap.fe.core");n["sap.card"].header.sideIndicators=[{title:e.getText("C_KPICARD_INDICATOR_TARGET"),number:"{targetNumber}",unit:"{targetUnit}"},{title:e.getText("C_KPICARD_INDICATOR_DEVIATION"),number:"{deviationNumber}",unit:"%"}]}if(t.selectionVariantFilterDefinitions?.length){const e=[];t.selectionVariantFilterDefinitions.forEach(t=>{const a=j(t);if(a){e.push(a)}});if(e.length){n["sap.card"].header.details=e.join(", ")}}n["sap.card"].content.chartType=t.chart.chartType;V(t.chart,n["sap.card"].content.chartProperties);n["sap.card"].content.chartProperties.title.text=O(t);n["sap.card"].content.dimensions=t.chart.dimensions.map(e=>({label:e.label,value:`{${e.name}}`}));n["sap.card"].content.measures=t.chart.measures.map(e=>({label:e.label,value:`{${e.name}}`}));n["sap.card"].content.feeds=L(t.chart);a.setProperty(`/${t.id}`,{manifest:n})};d.initNavigationInfo=async function e(t,a,n){if(t.navigation){return R(t.navigation,n).then(e=>{if(e){a.setProperty(`/${t.id}/manifest/sap.card/header/actions`,[{type:"Navigation",parameters:e}])}return})}else{return Promise.resolve()}};d.onInit=function t(){this.aKPIDefinitions=this.getView().getController()._getPageModel()?.getProperty("/kpiDefinitions");if(this.aKPIDefinitions&&this.aKPIDefinitions.length){const t=this.getView();const a=t.getController().getAppComponent();const n=new f;t.setModel(n,"kpiModel");this.aKPIDefinitions.forEach(t=>{if(t.type==="Analytical"){this.initCardManifest(t,n);this.initNavigationInfo(t,n,a.getShellServices()).catch(function(t){e.error(t)});this.loadKPITagData(t,a.getModel(),n).catch(function(t){e.error(t)})}})}};d.onExit=function e(){const t=this.getView().getModel("kpiModel");if(t){t.destroy()}};d.updateDatapointValueAndCurrency=function e(a,n,i){const r=new o(t.getLanguage());const s=a.datapoint.unit?.isPath?n.getProperty(a.datapoint.unit.value):a.datapoint.unit?.value;const c=a.datapoint.unit?.isCurrency===false&&s==="%";const d=Number.parseFloat(n.getProperty(a.datapoint.propertyPath));const u=l.getFloatInstance({style:c?undefined:"short",minFractionDigits:0,maxFractionDigits:a.datapoint.numberOfFractionalDigits??1,showScale:!c},r).format(d);i.setProperty(`/${a.id}/manifest/sap.card/data/json/mainValue`,u);const p=l.getFloatInstance({maxFractionDigits:a.datapoint.numberOfFractionalDigits??2,showScale:false,groupingEnabled:true},r).format(d);i.setProperty(`/${a.id}/manifest/sap.card/data/json/mainValueUnscaled`,p);const f=l.getFloatInstance({style:c?undefined:"short",minFractionDigits:0,maxFractionDigits:a.datapoint.numberOfFractionalDigits??1,showScale:false},r).format(d);i.setProperty(`/${a.id}/manifest/sap.card/data/json/mainValueNoScale`,f);const m=l.getFloatInstance({style:c?undefined:"short",decimals:0,maxIntegerDigits:0,showScale:true},r).format(d);i.setProperty(`/${a.id}/manifest/sap.card/data/json/mainValueScale`,m);if(a.datapoint.unit&&s){if(a.datapoint.unit.isCurrency){i.setProperty(`/${a.id}/manifest/sap.card/data/json/mainUnit`,s)}else{const e=l.getUnitInstance({showNumber:false},r).format(d,s);i.setProperty(`/${a.id}/manifest/sap.card/data/json/mainUnit`,e)}}};d.updateDatapointCriticality=function e(t,a,n){const i=Number.parseFloat(a.getProperty(t.datapoint.propertyPath));let r=c.None;if(t.datapoint.criticalityValue!=null){r=t.datapoint.criticalityValue}else if(t.datapoint.criticalityPath){r=N[a.getProperty(t.datapoint.criticalityPath)]||c.None}else if(t.datapoint.criticalityCalculationThresholds&&t.datapoint.criticalityCalculationMode!=null){switch(t.datapoint.criticalityCalculationMode){case"UI.ImprovementDirectionType/Target":r=$(i,t.datapoint.criticalityCalculationThresholds);break;case"UI.ImprovementDirectionType/Minimize":r=T(i,t.datapoint.criticalityCalculationThresholds);break;case"UI.ImprovementDirectionType/Maximize":default:r=w(i,t.datapoint.criticalityCalculationThresholds);break}}n.setProperty(`/${t.id}/manifest/sap.card/data/json/mainCriticality`,r);n.setProperty(`/${t.id}/manifest/sap.card/data/json/mainState`,x[r]||"None")};d.updateDatapointTrend=function e(t,a,n){const i=Number.parseFloat(a.getProperty(t.datapoint.propertyPath));let r="None";if(t.datapoint.trendValue){r=t.datapoint.trendValue}else if(t.datapoint.trendPath){r=F(a.getProperty(t.datapoint.trendPath))}else if(t.datapoint.trendCalculationReferenceValue!==undefined||t.datapoint.trendCalculationReferencePath){let e;if(t.datapoint.trendCalculationReferenceValue!==undefined){e=t.datapoint.trendCalculationReferenceValue}else{e=Number.parseFloat(a.getProperty(t.datapoint.trendCalculationReferencePath||""))}r=A(i,e,!!t.datapoint.trendCalculationIsRelative,t.datapoint.trendCalculationTresholds)}n.setProperty(`/${t.id}/manifest/sap.card/data/json/trend`,r)};d.updateTargetValue=function e(a,n,i){if(a.datapoint.targetValue===undefined&&a.datapoint.targetPath===undefined){return}const r=Number.parseFloat(n.getProperty(a.datapoint.propertyPath));const s=new o(t.getLanguage());let c;if(a.datapoint.targetValue!==undefined){c=a.datapoint.targetValue}else{c=Number.parseFloat(n.getProperty(a.datapoint.targetPath||""))}const d=c!==0?(r-c)/c*100:undefined;const u=l.getFloatInstance({style:"short",minFractionDigits:0,maxFractionDigits:a.datapoint.numberOfFractionalDigits??1,showScale:false},s).format(c);const p=l.getFloatInstance({style:"short",decimals:0,maxIntegerDigits:0,showScale:true},s).format(c);i.setProperty(`/${a.id}/manifest/sap.card/data/json/targetNumber`,u);i.setProperty(`/${a.id}/manifest/sap.card/data/json/targetUnit`,p);if(d!==undefined){const e=l.getFloatInstance({minFractionDigits:0,maxFractionDigits:1,showScale:false},s).format(d);i.setProperty(`/${a.id}/manifest/sap.card/data/json/deviationNumber`,e)}else{i.setProperty(`/${a.id}/manifest/sap.card/data/json/deviationNumber`,"N/A")}};d.loadKPITagData=async function e(t,a,n,i){const r=i?a.bindList(t.contextPath,undefined,undefined,undefined,{$$groupId:"$auto.Workers"}):a.bindList(t.contextPath,undefined,undefined,undefined,{$$groupId:"$auto.LongRunners"});const o={};if(t.datapoint.unit?.isPath){o[t.datapoint.propertyPath]={unit:t.datapoint.unit.value}}else{o[t.datapoint.propertyPath]={}}if(t.datapoint.criticalityPath){o[t.datapoint.criticalityPath]={}}if(i){if(t.datapoint.trendPath){o[t.datapoint.trendPath]={}}if(t.datapoint.trendCalculationReferencePath){o[t.datapoint.trendCalculationReferencePath]={}}if(t.datapoint.targetPath){o[t.datapoint.targetPath]={}}}r.setAggregation({aggregate:o});if(t.selectionVariantFilterDefinitions?.length){const e=t.selectionVariantFilterDefinitions.map(S).filter(e=>e!==undefined);r.filter(e)}return r.requestContexts(0,1).then(e=>{if(e.length){const a=t.datapoint.unit?.isPath?e[0].getProperty(t.datapoint.unit.value):t.datapoint.unit?.value;if(t.datapoint.unit&&!a){n.setProperty(`/${t.id}/manifest/sap.card/data/json/mainValue`,"*");n.setProperty(`/${t.id}/manifest/sap.card/data/json/mainValueUnscaled`,"*");n.setProperty(`/${t.id}/manifest/sap.card/data/json/mainValueNoScale`,"*");n.setProperty(`/${t.id}/manifest/sap.card/data/json/mainValueScale`,"");n.setProperty(`/${t.id}/manifest/sap.card/data/json/mainUnit`,undefined);n.setProperty(`/${t.id}/manifest/sap.card/data/json/mainCriticality`,c.None);n.setProperty(`/${t.id}/manifest/sap.card/data/json/mainState`,"None");n.setProperty(`/${t.id}/manifest/sap.card/data/json/trend`,"None");n.setProperty(`/${t.id}/manifest/sap.card/data/json/targetNumber`,undefined);n.setProperty(`/${t.id}/manifest/sap.card/data/json/targetUnit`,undefined);n.setProperty(`/${t.id}/manifest/sap.card/data/json/deviationNumber`,undefined)}else{this.updateDatapointValueAndCurrency(t,e[0],n);this.updateDatapointCriticality(t,e[0],n);if(i){this.updateDatapointTrend(t,e[0],n);this.updateTargetValue(t,e[0],n)}}}return})};d.loadKPICardData=async function e(t,a,i){const r=a.bindList(t.contextPath,undefined,undefined,undefined,{$$groupId:"$auto.Workers"});const o={};const s={};t.chart.dimensions.forEach(e=>{o[e.name]={};if(e.text){o[e.name].additionally=[e.text]}});t.chart.measures.forEach(e=>{s[e.name]={}});r.setAggregation({group:o,aggregate:s});if(t.selectionVariantFilterDefinitions?.length){const e=t.selectionVariantFilterDefinitions.map(S).filter(e=>e!==undefined);r.filter(e)}if(t.chart.sortOrder){r.sort(t.chart.sortOrder.map(e=>new p(e.name,e.descending)))}const l=await r.requestContexts(0,t.chart.maxItems);const c=l.map(e=>{const a={};t.chart.dimensions.forEach(t=>{switch(t.textArrangement){case"TextOnly":a[t.name]=e.getProperty(t.text);break;case"TextLast":a[t.name]=n.formatWithBrackets(e.getProperty(t.name),e.getProperty(t.text));break;case undefined:a[t.name]=e.getProperty(t.name);break;default:a[t.name]=n.formatWithBrackets(e.getProperty(t.text),e.getProperty(t.name))}});t.chart.measures.forEach(t=>{a[t.name]=e.getProperty(t.name)});return a});i.setProperty(`/${t.id}/manifest/sap.card/data/json/chartData`,c)};d.getPopover=async function e(t){var a=this;if(!this.oPopover){return new Promise((e,n)=>{r.load({name:"sap/ui/integration"}).then(()=>{sap.ui.require(["sap/ui/integration/widgets/Card","sap/ui/integration/Host"],function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++){r[o]=arguments[o]}const s=r[0];const l=r[1];const c=new l;c.attachAction(e=>{const t=e.getParameter("type");const n=e.getParameter("parameters");if(t==="Navigation"){if(n.semanticObject){a.base._intentBasedNavigation.navigate(n.semanticObject,n.action)}else{a.base._intentBasedNavigation.navigateOutbound(n.outbound)}}});a.oCard=new s({width:"25rem",height:"auto"});a.oCard.setHost(c);a.oPopover=new i("kpi-Popover",{showHeader:false,placement:"Auto",content:[a.oCard]});t.addDependent(a.oPopover);e(a.oPopover)});return}).catch(function(){n()})})}else{return Promise.resolve(this.oPopover)}};d.onKPIPressed=async function t(a,n){const i=a.getModel("kpiModel");if(this.aKPIDefinitions&&this.aKPIDefinitions.length){const t=this.aKPIDefinitions.find(function(e){return e.id===n});if(t){try{const e=a.getModel();const r=await this.getPopover(a);r.setModal(true);this.oCard.setManifest(i.getProperty(`/${n}/manifest`));this.oCard.setPreviewMode("Abstract");r.openBy(a,false);const o=[this.loadKPITagData(t,e,i,true),this.loadKPICardData(t,e,i)];await Promise.all(o);this.oCard.attachEventOnce("stateChanged",()=>{this.oCard.getFocusDomRef()?.focus();r.setModal(false)});this.oCard.setManifest(i.getProperty(`/${n}/manifest`));this.oCard.refresh();this.oCard.setPreviewMode("Off")}catch(t){e.error(t)}}}};return s}(d),I(P.prototype,"onInit",[g],Object.getOwnPropertyDescriptor(P.prototype,"onInit"),P.prototype),I(P.prototype,"onExit",[h],Object.getOwnPropertyDescriptor(P.prototype,"onExit"),P.prototype),P))||y);return k},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/controllerextensions/MessageHandler", ["sap/base/Log","sap/base/util/deepEqual","sap/base/util/uid","sap/fe/base/ClassSupport","sap/fe/core/CommonUtils","sap/fe/core/controllerextensions/messageHandler/messageHandling","sap/ui/core/Lib","sap/ui/core/Messaging","sap/ui/core/message/MessageType","sap/ui/core/mvc/ControllerExtension","sap/ui/core/mvc/OverrideExecution","../helpers/ResourceModelHelper"],function(e,t,s,o,n,i,r,a,g,l,c,p){"use strict";var u,d,h,f,M,y,m,T,w,b,v,S,E,I,P;var D=p.getResourceModel;var C=o.publicExtension;var O=o.privateExtension;var A=o.methodOverride;var U=o.finalExtension;var B=o.extensible;var _=o.defineUI5Class;function x(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,H(e,t)}function H(e,t){return H=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},H(e,t)}function N(e,t,s,o,n){var i={};return Object.keys(o).forEach(function(e){i[e]=o[e]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=s.slice().reverse().reduce(function(s,o){return o(e,t,s)||s},i),n&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(n):void 0,i.initializer=void 0),void 0===i.initializer?(Object.defineProperty(e,t,i),null):i}let R=(u=_("sap.fe.core.controllerextensions.MessageHandler"),d=A(),h=O(),f=B(c.Instead),M=O(),y=B(c.Instead),m=C(),T=B("AfterAsync"),w=C(),b=U(),v=C(),S=C(),E=U(),u(I=(P=function(o){function l(){var e;e=o.call(this)||this;e.strictWarningMessages=[];e.holdKeys=[];e.holdMsgsToShow=false;return e}x(l,o);var c=l.prototype;c.onInit=function e(){const t=this.base.getAppComponent().getModel("internal");t.setProperty("/messageUIDecision",undefined);t.setProperty("/messageUIElementIsAvailable",Promise.resolve())};c.addWarningMessagesToMessageHandler=function e(t){this.strictWarningMessages=this.strictWarningMessages.concat(t)};c.isStrictWarningMessage=function e(s){return this.strictWarningMessages.find(e=>e.getCode()===s.getCode()&&e.getMessage()===s.getMessage()&&e.getType()===s.getType()&&e.getDescriptionUrl()===s.getDescriptionUrl()&&t(e.getTargets(),s.getTargets())&&e.getPersistent()===s.getPersistent())!==undefined};c.clearStrictWarningMessages=function e(){this.strictWarningMessages=[]};c.filterErrorMessages=function e(t){return t.filter(e=>e.getType()===g.Error)};c.getShowBoundMessagesInMessageDialog=function e(){return true};c.filterContextBoundMessages=function e(t,s){return t};c.beforeShowMessageButton=async function e(t){return Promise.resolve()};c.registerToHoldMessages=function e(t){const o=t??s();if(!this.holdKeys.includes(o)){this.holdKeys.push(o)}return o};c.resetHoldKeys=function e(){this.holdKeys=[]};c.showMessageDialog=async function e(t){const s=this.base.getAppComponent().getModel("internal");await s.getProperty("/messageUIElementIsAvailable");const o=a.getMessageModel().getData();const n=o.filter(e=>this.isStrictWarningMessage(e));a.removeMessages(n);const i=t&&t.customMessages?t.customMessages:undefined,r=this.base.getView().getBindingContext("internal");const g=this.base.getView().getViewData().converterType;if(t&&t.isOperationDialogOpen&&r){r.setProperty("isOperationDialogOpen",true)}const l=this.getShowBoundMessagesInMessageDialog();const c=t&&t.context?t.context:this.getView().getBindingContext();if(r){r.setProperty("isOperationDialogOpen",false)}return new Promise(function(e,s){setTimeout(function(){this.processAndShowMessages(t??{},c,l,i??[],e,s,g)}.bind(this),0)}.bind(this))};c.processAndShowMessages=function e(t,s,o,n,r,a,g){const{concurrentEditFlag:l,control:c,sActionName:p,onBeforeShowMessage:u,unHoldKey:d,isOperationDialogOpen:h=false,overrideUIDecision:f,showBoundStateMessages:M}=t;this.holdMsgsToShow=true;const y=i.getUIDecisions(n,s,o,l,c,p,u,g,M,t,D(this.getView()),this);this.updateUIDecisions(y,f);this.removeHoldKey(d??c?.getId());const m=this.base.getAppComponent().getModel("internal")?.getProperty("/messageUIElementIsAvailable");this.base.getAppComponent().getModel("internal")?.setProperty("/messageUIElementIsAvailable",m.then(async function(){return this.showMessagesWithCondtions(h,r,a)}.bind(this)))};c.showMessagesWithCondtions=async function t(){let s=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;let o=arguments.length>1?arguments[1]:undefined;let n=arguments.length>2?arguments[2]:undefined;const r=s||this.checkToShowUIElement();const a=this.base.getAppComponent().getModel("internal");if(r&&a.getProperty("/messageUIDecision")){try{const e=await i.showMessagesInUI(a.getProperty("/messageUIDecision"));o?.(e)}catch(t){e.error(`FE : V4 : MessageHandler : Error on trying to show UI element: ${t}`);n?.(t);a.setProperty("/messageUIElementIsAvailable",Promise.resolve())}a.setProperty("/messageUIDecision",undefined);this.clearStrictWarningMessages();this.holdMsgsToShow=false}else{e.info("FE : V4 : MessageHandler : Holding messages until a registered process ");o?.()}};c.removeTransitionMessages=function e(t,s,o){if(!t){i.removeBoundTransitionMessages(o)}if(!s){i.removeUnboundTransitionMessages()}};c._checkNavigationToErrorPage=function e(t){const s=i.getMessages();const o=this.getShowBoundMessagesInMessageDialog();const r=o?i.getMessages(true,true):[];const a=t&&t.customMessages?t.customMessages:[];const g=n.isStickyEditMode(this.base.getView());let l;if(t?.isDataReceivedError===true){l={title:t.title,description:t.description,navigateBackToOrigin:true,errorType:"PageNotFound"}}else if(!g&&!r.length&&!a.length&&(s.length===1||t?.isInitialLoad503Error===true)){const e=s[0];const t=e.getTechnicalDetails();if(t?.httpStatus===503){l=this._getHTTP503MessageParameters(e,t)}}return l};c._getHTTP503MessageParameters=function e(t,s){let o;const n=s.retryAfter!==undefined?this._getSecondsBeforeRetryAfter(s.retryAfter):undefined;if(n===undefined||n>120){const e=i.getRetryAfterMessage(t);o={description:e?`${e} ${t.getMessage()}`:t.getMessage(),navigateBackToOrigin:true,errorType:"UnableToLoad"}}return o};c._getSecondsBeforeRetryAfter=function e(t){const s=new Date,o=s.getTime(),n=t.getTime(),i=(n-o)/1e3;return i};c.updateUIDecisions=function e(t){let s=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;const o=this.base.getAppComponent().getModel("internal");const n=o.getProperty("/messageUIDecision");let i=[];let r;if(n&&s===false){if(n.messagesToShow.length===1&&t.messagesToShow.length===1&&n.messagesToShow[0].getCode()==="C_COMMON_SUCCESS_MESSAGE"&&t.messagesToShow[0].getCode()==="C_COMMON_SUCCESS_MESSAGE"){i=n.messagesToShow}else{i=Array.from(new Set([...n.messagesToShow,...t.messagesToShow]))}const e=[n.uiElementToUse,t.uiElementToUse];let s=i.length>0?"Dialog":"None";if(i.length===1){if(e.includes("Toast")){s="Toast"}else if(e.includes("Box")){s="Box"}}r={messagesToShow:i,uiElementToUse:s,contextNeedsEtagRefresh:n.contextNeedsEtagRefresh||t.contextNeedsEtagRefresh,containsBoundTransition:n.containsBoundTransition||t.containsBoundTransition}}else{r=t}o.setProperty("/messageUIDecision",r)};c.removeHoldKey=function e(t){if(t&&this.holdKeys.includes(t)){this.holdKeys.splice(this.holdKeys.indexOf(t),1)}};c.checkToShowUIElement=function e(){return this.holdMsgsToShow&&(this.holdKeys.length>0?false:true)};c.holdMessagesForControl=function e(t){const s=t.getId();this.registerToHoldMessages(s)};c.releaseHoldByControl=async function e(t){const s=t?.getId();this.removeHoldKey(s);const o=this.base.getAppComponent().getModel("internal")?.getProperty("/messageUIElementIsAvailable");this.base.getAppComponent().getModel("internal")?.setProperty("/messageUIElementIsAvailable",o?.then(async function(){return this.showMessagesWithCondtions()}.bind(this)));await(this.base.getAppComponent().getModel("internal")?.getProperty("/messageUIElementIsAvailable"))};c.showMessages=async function e(t){const s=this._checkNavigationToErrorPage(t);if(s){if(t?.messagePageNavigationCallback){t.messagePageNavigationCallback()}s.handleShellBack=!t?.shellBack;this.removeTransitionMessages();const e=r.getResourceBundleFor("sap.fe.core");return new Promise((o,n)=>{setTimeout(()=>{this.resetHoldKeys();this.base._routing.navigateToMessagePage(t?.isDataReceivedError===true?e.getText("C_COMMON_SAPFE_DATA_RECEIVED_ERROR"):e.getText("C_MESSAGE_HANDLING_SAPFE_503_TITLE"),s).then(o).catch(n)},0)})}else{return this.showMessageDialog(t)}};return l}(l),N(P.prototype,"onInit",[d],Object.getOwnPropertyDescriptor(P.prototype,"onInit"),P.prototype),N(P.prototype,"getShowBoundMessagesInMessageDialog",[h,f],Object.getOwnPropertyDescriptor(P.prototype,"getShowBoundMessagesInMessageDialog"),P.prototype),N(P.prototype,"filterContextBoundMessages",[M,y],Object.getOwnPropertyDescriptor(P.prototype,"filterContextBoundMessages"),P.prototype),N(P.prototype,"beforeShowMessageButton",[m,T],Object.getOwnPropertyDescriptor(P.prototype,"beforeShowMessageButton"),P.prototype),N(P.prototype,"showMessageDialog",[w,b],Object.getOwnPropertyDescriptor(P.prototype,"showMessageDialog"),P.prototype),N(P.prototype,"removeTransitionMessages",[v],Object.getOwnPropertyDescriptor(P.prototype,"removeTransitionMessages"),P.prototype),N(P.prototype,"showMessages",[S,E],Object.getOwnPropertyDescriptor(P.prototype,"showMessages"),P.prototype),P))||I);return R},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/controllerextensions/PageReady", ["sap/base/Log","sap/fe/base/ClassSupport","sap/fe/core/controllerextensions/pageReady/DataQueryWatcher","sap/fe/core/services/TemplatedViewServiceFactory","sap/ui/base/EventProvider","sap/ui/core/Component","sap/ui/core/Rendering","sap/ui/core/mvc/ControllerExtension","sap/ui/core/mvc/OverrideExecution","../CommonUtils"],function(e,t,i,o,n,r,a,s,c,h){"use strict";var p,d,g,u,l,y,f,b,v,P,m,R,E,C,_,O,w,D,T,x,A,B,W;var j=o.TemplatedViewServiceFactory;var F=t.publicExtension;var I=t.privateExtension;var k=t.methodOverride;var S=t.finalExtension;var q=t.extensible;var U=t.defineUI5Class;function M(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,z(e,t)}function z(e,t){return z=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},z(e,t)}function V(e,t,i,o,n){var r={};return Object.keys(o).forEach(function(e){r[e]=o[e]}),r.enumerable=!!r.enumerable,r.configurable=!!r.configurable,("value"in r||r.initializer)&&(r.writable=!0),r=i.slice().reverse().reduce(function(i,o){return o(e,t,i)||i},r),n&&void 0!==r.initializer&&(r.value=r.initializer?r.initializer.call(n):void 0,r.initializer=void 0),void 0===r.initializer?(Object.defineProperty(e,t,r),null):r}let H=(p=U("sap.fe.core.controllerextensions.PageReady"),d=k(),g=k(),u=F(),l=S(),y=k("_routing"),f=k("_routing"),b=k("_routing"),v=F(),P=S(),m=F(),R=S(),E=F(),C=S(),_=F(),O=S(),w=F(),D=S(),T=I(),x=q(c.Instead),A=F(),p(B=(W=function(t){function o(){var e;e=t.call(this)||this;e.pageReadyTimeoutDefault=7e3;return e}M(o,t);var s=o.prototype;s.onInit=function e(){this._nbWaits=0;this._oEventProvider=this._oEventProvider?this._oEventProvider:new n;this.view=this.getView();this.appComponent=h.getAppComponent(this.view);this.pageComponent=r.getOwnerComponentFor(this.view);const t=this.appComponent.getManifest();this.pageReadyTimeout=t["sap.ui5"]?.pageReadyTimeout??this.pageReadyTimeoutDefault;if(this.pageComponent?.attachContainerDefined){this.pageComponent.attachContainerDefined(e=>this.registerContainer(e.getParameter("container")))}else{this.registerContainer(this.view)}const o=this.appComponent.getRootControl().getController();const a=o?.getPlaceholder?.();if(a?.isPlaceholderDebugEnabled()){this.attachEvent("pageReady",null,()=>{a.getPlaceholderDebugStats().iPageReadyEventTimestamp=Date.now()},this);this.attachEvent("heroesBatchReceived",null,()=>{a.getPlaceholderDebugStats().iHeroesBatchReceivedEventTimestamp=Date.now()},this)}this.queryWatcher=new i(this._oEventProvider,this.checkPageReadyDebounced.bind(this))};s.onExit=function e(){delete this._oAppComponent;if(this._oContainer&&this._fnContainerDelegate){this._oContainer.removeEventDelegate(this._fnContainerDelegate)}};s.waitFor=function e(t){this._nbWaits++;t.finally(()=>{setTimeout(()=>{this._nbWaits--},0)}).catch(null)};s.onRouteMatched=function e(){this._bIsPageReady=false};s.onRouteMatchedFinished=async function e(){await this.onAfterBindingPromise;this.checkPageReadyDebounced()};s.registerAggregatedControls=function e(t){if(t){const e=t.getBinding();this.queryWatcher.registerBinding(e)}const i=[];const o=this.getView().findAggregatedObjects(true);o.forEach(e=>{const t=e.getObjectBinding();if(t){this.queryWatcher.registerBinding(t)}else{const t=Object.keys(e?.mBindingInfos??{});t.forEach(t=>{const i=e?.mBindingInfos?.[t].binding;if(i&&i.isA("sap.ui.model.odata.v4.ODataListBinding")){this.queryWatcher.registerBinding(i)}})}if(e.isA("sap.fe.macros.table.TableAPI")||e.isA("sap.fe.macros.Chart")){const t=e.getContent?.()??e.getChartControl();if(t.getBindingContext()!==null){this.bTablesChartsLoaded=false;i.push(this.queryWatcher.registerTableOrChart(t))}}else if(e.isA("sap.fe.macros.controls.FilterBar")){this.queryWatcher.registerFilterBar(e)}});return i};s.onAfterBinding=function t(i,o){if(this.pageReadyTimeoutTimer){clearTimeout(this.pageReadyTimeoutTimer)}if(!o?.deferredCreation||!this.isContextExpected()||i){this.pageReadyTimeoutTimer=setTimeout(()=>{e.error(`The PageReady Event was not fired within the ${this.pageReadyTimeout} ms timeout . It has been forced. Please contact your application developer for further analysis`);this._oEventProvider.fireEvent("pageReady")},this.pageReadyTimeout)}else{const e=this.appComponent.getRootControl().getController();const t=e?.getPlaceholder?.();t?.disableAnimation()}if(this.isContextExpected()&&!i){this.bHasContext=false;return}else{this.bHasContext=true}if(this._bAfterBindingAlreadyApplied){return}this._bAfterBindingAlreadyApplied=true;this.attachEventOnce("pageReady",null,()=>{clearTimeout(this.pageReadyTimeoutTimer);this.pageReadyTimeoutTimer=undefined;this._bAfterBindingAlreadyApplied=false;this.queryWatcher.reset()});this.onAfterBindingPromise=new Promise(async e=>{const t=this.registerAggregatedControls(i);if(t.length>0){await Promise.all(t);this.bTablesChartsLoaded=true;this.checkPageReadyDebounced();e()}else{this.checkPageReadyDebounced();e()}})};s.isPageReady=function e(){return this._bIsPageReady};s.waitPageReady=async function e(){return new Promise(e=>{if(this.isPageReady()){e()}else{if(!this._oEventProvider){this._oEventProvider=new n}this.attachEventOnce("pageReady",null,()=>{e()},this)}})};s.attachEventOnce=function e(t,i,o,n){return this._oEventProvider.attachEventOnce(t,i,o,n)};s.attachEvent=function e(t,i,o,n){return this._oEventProvider.attachEvent(t,i,o,n)};s.detachEvent=function e(t,i){return this._oEventProvider.detachEvent(t,i)};s.registerContainer=function e(t){this._oContainer=t;this._fnContainerDelegate={onBeforeShow:()=>{this.bShown=false;this._bIsPageReady=false},onBeforeHide:()=>{this.bShown=false;this._bIsPageReady=false},onAfterShow:()=>{this.bShown=true;this.onAfterBindingPromise?.then(()=>this.checkPageReadyDebounced(true))}};this._oContainer?.addEventDelegate(this._fnContainerDelegate,this)};s.isContextExpected=function e(){return false};s.checkPageReadyDebounced=function e(){let t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;if(this.pageReadyTimer){clearTimeout(this.pageReadyTimer)}const i=this.getView().getModel();let o;if(i&&i.getOptimisticBatchEnabler()===null||this.isContextExpected()){o=200}else{o=20}this.pageReadyTimer=setTimeout(()=>{this._checkPageReady(t)},o)};s._checkPageReady=function e(){let t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;const i=()=>{if(!a.isPending()){a.detachUIUpdated(i);this._bWaitingForRefresh=false;this.checkPageReadyDebounced()}};const o=()=>{if(a.isPending()){setTimeout(o,500)}else if(this._bWaitingForRefresh){this._bWaitingForRefresh=false;a.detachUIUpdated(i);this.checkPageReadyDebounced()}};if(this.bShown&&this.queryWatcher.isDataReceived()!==false&&this.bTablesChartsLoaded!==false&&(!this.isContextExpected()||this.bHasContext)){if(this.queryWatcher.isDataReceived()===true&&!t&&!this._bWaitingForRefresh&&a.isPending()){this.queryWatcher.resetDataReceived();this._bWaitingForRefresh=true;a.attachUIUpdated(i);setTimeout(o,500)}else if(!this._bWaitingForRefresh&&a.isPending()||this._nbWaits!==0||j.getNumberOfViewsInCreationState()>0||this.queryWatcher.isSearchPending()){this._bWaitingForRefresh=true;a.attachUIUpdated(i);setTimeout(o,500)}else if(!this._bWaitingForRefresh){this._bIsPageReady=true;this._oEventProvider.fireEvent("pageReady")}}};s.forcePageReady=function e(){this._oEventProvider.fireEvent("pageReady")};return o}(s),V(W.prototype,"onInit",[d],Object.getOwnPropertyDescriptor(W.prototype,"onInit"),W.prototype),V(W.prototype,"onExit",[g],Object.getOwnPropertyDescriptor(W.prototype,"onExit"),W.prototype),V(W.prototype,"waitFor",[u,l],Object.getOwnPropertyDescriptor(W.prototype,"waitFor"),W.prototype),V(W.prototype,"onRouteMatched",[y],Object.getOwnPropertyDescriptor(W.prototype,"onRouteMatched"),W.prototype),V(W.prototype,"onRouteMatchedFinished",[f],Object.getOwnPropertyDescriptor(W.prototype,"onRouteMatchedFinished"),W.prototype),V(W.prototype,"onAfterBinding",[b],Object.getOwnPropertyDescriptor(W.prototype,"onAfterBinding"),W.prototype),V(W.prototype,"isPageReady",[v,P],Object.getOwnPropertyDescriptor(W.prototype,"isPageReady"),W.prototype),V(W.prototype,"waitPageReady",[m,R],Object.getOwnPropertyDescriptor(W.prototype,"waitPageReady"),W.prototype),V(W.prototype,"attachEventOnce",[E,C],Object.getOwnPropertyDescriptor(W.prototype,"attachEventOnce"),W.prototype),V(W.prototype,"attachEvent",[_,O],Object.getOwnPropertyDescriptor(W.prototype,"attachEvent"),W.prototype),V(W.prototype,"detachEvent",[w,D],Object.getOwnPropertyDescriptor(W.prototype,"detachEvent"),W.prototype),V(W.prototype,"isContextExpected",[T,x],Object.getOwnPropertyDescriptor(W.prototype,"isContextExpected"),W.prototype),V(W.prototype,"checkPageReadyDebounced",[A],Object.getOwnPropertyDescriptor(W.prototype,"checkPageReadyDebounced"),W.prototype),W))||B);return H},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/controllerextensions/Paginator", ["sap/fe/base/ClassSupport","sap/fe/base/HookSupport","sap/ui/core/mvc/ControllerExtension","sap/ui/core/mvc/OverrideExecution","../library"],function(e,t,o,r,n){"use strict";var i,p,a,c,u,l,s,f,y,v,b;var d=n.ContextNavigationType;var O=t.hookable;var x=e.publicExtension;var C=e.extensible;var g=e.defineUI5Class;function j(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,z(e,t)}function z(e,t){return z=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},z(e,t)}function P(e,t,o,r,n){var i={};return Object.keys(r).forEach(function(e){i[e]=r[e]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=o.slice().reverse().reduce(function(o,r){return r(e,t,o)||o},i),n&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(n):void 0,i.initializer=void 0),void 0===i.initializer?(Object.defineProperty(e,t,i),null):i}let m=(i=g("sap.fe.core.controllerextensions.Paginator"),p=x(),a=O("Before"),c=x(),u=C(r.After),l=x(),s=C(r.After),f=x(),y=C(r.Instead),i(v=(b=function(e){function t(){return e.apply(this,arguments)||this}j(t,e);var o=t.prototype;o.initialize=function e(t,o){};o.onBeforeContextUpdate=function e(t,o,r){return false};o.onContextUpdate=function e(t){};o.determineContextNavigationType=async function e(t){return Promise.resolve(d.Internal)};return t}(o),P(b.prototype,"initialize",[p,a],Object.getOwnPropertyDescriptor(b.prototype,"initialize"),b.prototype),P(b.prototype,"onBeforeContextUpdate",[c,u],Object.getOwnPropertyDescriptor(b.prototype,"onBeforeContextUpdate"),b.prototype),P(b.prototype,"onContextUpdate",[l,s],Object.getOwnPropertyDescriptor(b.prototype,"onContextUpdate"),b.prototype),P(b.prototype,"determineContextNavigationType",[f,y],Object.getOwnPropertyDescriptor(b.prototype,"determineContextNavigationType"),b.prototype),b))||v);return m},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/controllerextensions/Placeholder", ["sap/base/util/ObjectPath","sap/fe/base/ClassSupport","sap/fe/placeholder/library","sap/ui/core/Placeholder","sap/ui/core/mvc/ControllerExtension"],function(e,t,o,r,a){"use strict";var i,n,l,s,c,p,h,d,u,b,g,f;var P=t.publicExtension;var y=t.defineUI5Class;function m(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,C(e,t)}function C(e,t){return C=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},C(e,t)}function O(e,t,o,r,a){var i={};return Object.keys(r).forEach(function(e){i[e]=r[e]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=o.slice().reverse().reduce(function(o,r){return r(e,t,o)||o},i),a&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(a):void 0,i.initializer=void 0),void 0===i.initializer?(Object.defineProperty(e,t,i),null):i}let D=(i=y("sap.fe.core.controllerextensions.Placeholder"),n=P(),l=P(),s=P(),c=P(),p=P(),h=P(),d=P(),u=P(),b=P(),i(g=(f=function(t){function o(){return t.call(this)||this}m(o,t);var a=o.prototype;a.attachHideCallback=function e(){if(this.isPlaceholderEnabled()){const e=this.base.getView();const t=e.getParent()&&e.getParent().oContainer;const o=t&&t.getParent();if(!o||!t){return}const r={onAfterShow:function(e){if(e.isBackToPage||new URLSearchParams(window.location.hash.replace(/#.*\?/,"")).get("restoreHistory")==="true"){o.hidePlaceholder()}}};t.addEventDelegate(r);const a=e.getController().pageReady;const i=["pageReady"];if(e.getControllerName()==="sap.fe.templates.ObjectPage.ObjectPageController"){i.push("heroesBatchReceived")}i.forEach(e=>{a.attachEvent(e,null,function(){o.hidePlaceholder()},this)})}};a.attachRouteMatchers=function e(){this._init()};a.hideRootPlaceholder=function e(){this.oRootContainer=this.oAppComponent.getRootContainer();this.oRootContainer.hidePlaceholder()};a._init=function e(){this.oAppComponent=this.base.getAppComponent();this.oRootContainer=this.oAppComponent.getRootContainer();if(this.isPlaceholderEnabled()){r.registerProvider(function(e){switch(e.name){case"sap.fe.templates.ListReport":return{html:"sap/fe/placeholder/view/PlaceholderLR.fragment.html",autoClose:false};case"sap.fe.templates.ObjectPage":return{html:"sap/fe/placeholder/view/PlaceholderOP.fragment.html",autoClose:false};default:}})}if(this.isPlaceholderDebugEnabled()){this.initPlaceholderDebug()}};a.initPlaceholderDebug=function e(){this.resetPlaceholderDebugStats();const t={apply:e=>{if(this.oRootContainer._placeholder&&this.oRootContainer._placeholder.placeholder){this.debugStats.iHidePlaceholderTimestamp=Date.now()}return e.bind(this.oRootContainer)()}};const o=new Proxy(this.oRootContainer.hidePlaceholder,t);this.oRootContainer.hidePlaceholder=o};a.isPlaceholderDebugEnabled=function e(){if(new URLSearchParams(window.location.search).get("sap-ui-xx-placeholder-debug")==="true"){return true}return false};a.resetPlaceholderDebugStats=function e(){this.debugStats={iHidePlaceholderTimestamp:0,iPageReadyEventTimestamp:0,iHeroesBatchReceivedEventTimestamp:0}};a.getPlaceholderDebugStats=function e(){return this.debugStats};a.isPlaceholderEnabled=function t(){const o=e.get("sap-ushell-config.apps.placeholder.enabled");if(o===false){return false}return r.isEnabled()};a.disableAnimation=function e(){this.base.getAppComponent().getRootControl().addStyleClass("sapFeNoAnimation")};a.enableAnimation=function e(){this.base.getAppComponent().getRootControl().removeStyleClass("sapFeNoAnimation")};return o}(a),O(f.prototype,"attachHideCallback",[n],Object.getOwnPropertyDescriptor(f.prototype,"attachHideCallback"),f.prototype),O(f.prototype,"attachRouteMatchers",[l],Object.getOwnPropertyDescriptor(f.prototype,"attachRouteMatchers"),f.prototype),O(f.prototype,"initPlaceholderDebug",[s],Object.getOwnPropertyDescriptor(f.prototype,"initPlaceholderDebug"),f.prototype),O(f.prototype,"isPlaceholderDebugEnabled",[c],Object.getOwnPropertyDescriptor(f.prototype,"isPlaceholderDebugEnabled"),f.prototype),O(f.prototype,"resetPlaceholderDebugStats",[p],Object.getOwnPropertyDescriptor(f.prototype,"resetPlaceholderDebugStats"),f.prototype),O(f.prototype,"getPlaceholderDebugStats",[h],Object.getOwnPropertyDescriptor(f.prototype,"getPlaceholderDebugStats"),f.prototype),O(f.prototype,"isPlaceholderEnabled",[d],Object.getOwnPropertyDescriptor(f.prototype,"isPlaceholderEnabled"),f.prototype),O(f.prototype,"disableAnimation",[u],Object.getOwnPropertyDescriptor(f.prototype,"disableAnimation"),f.prototype),O(f.prototype,"enableAnimation",[b],Object.getOwnPropertyDescriptor(f.prototype,"enableAnimation"),f.prototype),f))||g);return D},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/controllerextensions/Recommendations", ["sap/base/Log","sap/fe/base/ClassSupport","sap/fe/core/helpers/RecommendationHelper","sap/fe/core/helpers/StandardRecommendationHelper","sap/ui/core/mvc/ControllerExtension","sap/ui/core/mvc/OverrideExecution","../CommonUtils","./editFlow/TransactionHelper","../controls/Recommendations/ConfirmRecommendationDialog","./recommendations/Telemetry"],function(e,t,n,o,i,r,s,c,a,d){"use strict";var l,m,p,h,f,u,g,y,R,x,b,C,P,A,O,w,v,D;var F={};var E=a.RecommendationDialogDecision;var I=o.standardRecommendationHelper;var j=n.recommendationHelper;var B=t.publicExtension;var V=t.methodOverride;var M=t.finalExtension;var T=t.extensible;var S=t.defineUI5Class;function _(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,k(e,t)}function k(e,t){return k=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},k(e,t)}function H(e,t,n,o,i){var r={};return Object.keys(o).forEach(function(e){r[e]=o[e]}),r.enumerable=!!r.enumerable,r.configurable=!!r.configurable,("value"in r||r.initializer)&&(r.writable=!0),r=n.slice().reverse().reduce(function(n,o){return o(e,t,n)||n},r),i&&void 0!==r.initializer&&(r.value=r.initializer?r.initializer.call(i):void 0,r.initializer=void 0),void 0===r.initializer?(Object.defineProperty(e,t,r),null):r}let z=(l=S("sap.fe.core.controllerextensions.Recommendations"),m=V(),p=V("_routing"),h=B(),f=B(),u=T(r.Instead),g=B(),y=M(),R=B(),x=T(r.Instead),b=B(),C=B(),P=B(),A=T("AfterAsync"),O=B(),w=T(r.Instead),l(v=(D=function(t){function n(){var e;e=t.call(this)||this;e.dataToBeAccepted=[];return e}F=n;_(n,t);var o=n.prototype;o.onInit=function e(){this.telemetry=new d;this.allRecommendedFields=[];this.internalModel=this.base.getView().getModel("internal");this.previousContext=undefined};o.onAfterBinding=async function e(t){if(t){const e=t.getPath().split("/")[1];const n=this.previousContext?.getPath().split("/")[1];this.rootContext=undefined;let o=this.internalModel.getProperty("/isRecommendationEnabled");this.previousContext=t;const i=this.getView().getViewData()?.viewLevel;const r=i&&i>1?await this._getRootContext(t):t;if(r){if(o===undefined){o=this.base.recommendations.isEnabled(r);this.internalModel.setProperty("/isRecommendationEnabled",o)}const t=this.base.getAppComponent()._isFclEnabled();const i=t?this.base.getAppComponent().getRootViewController().getHelper().getCurrentUIState().isFullScreen:true;if(e!==n){this.tryResetRecommendations(r);this.telemetry.resetData()}if(t&&!i){return}}}};o._getRootContext=async function e(t){const n=c.getProgrammingModel(t);return s.createRootContext(n,this.base.getView(),this.base.getAppComponent())};o.clearRecommendations=function e(){const t=this.getView().getBindingContext();if(t){j.clearRecommendations(this.base.getView(),t)}};o.isEnabled=function e(t){return false};o.isRecommendationEnabled=function e(){return!!this.internalModel?.getProperty("/isRecommendationEnabled")};o.fetchRecommendations=async function e(t,n){return Promise.resolve([])};o.fetchAndApplyRecommendations=async function t(n,o){let i=false;const r=this.base.getAppComponent().getSideEffectsService();const s=r.getRecommendationsMapping();const c=n.filter(e=>I.checkIfRecommendationRoleExistsForContext(e,s));if(this.isRecommendationEnabled()){const t=o?I.getContextsWithNoRecommendations(c,this.internalModel):c;const n=t.map(e=>e.context);if(n&&n.length>0){try{const e=await this._getRootContext(n[0]);const t=performance.now();const o=await this.base.recommendations.fetchRecommendations(n,e);const r=performance.now();this.telemetry.updateResponseTimeInfo(r-t);if(o?.length){this.updateAllRecommendedFields(o);this.telemetry.updateDataFromRecommendationResponse(o)}else{this.telemetry.increaseCount("numberOfTimesEmptyRecommendations")}i=this.applyRecommendation(o,n)}catch(t){e.error("There was an error fetching the recommendations",t)}}this.storeRecommendationContexts(c)}return i};o.fetchAndApplyRecommendationsOnFieldChange=async function e(t,n){const o=this.base.getAppComponent();const i=o.getSideEffectsService().checkIfFieldIsRecommendationRelevant(t);if(i){const e=this.fetchTargets(true);const t=this.fetchFilteredRecommendationContexts(e);const o=t.filter(function(e){if(e.context.getPath()?.includes((n?.context).getPath())){return e}});I.clearIgnoredContexts(this.internalModel,(n?.context).getPath());return this.fetchAndApplyRecommendations(o)}else{return false}};o.onBeforeAcceptRecommendations=async function e(t){return Promise.resolve()};o.acceptRecommendations=async function e(t){const n=[];if(t.recommendationData){for(const e of t.recommendationData){if(e.context&&e.propertyPath){n.push(e.context.setProperty(e.propertyPath,e.value,"$auto.abc"))}}await Promise.all(n)}return true};o.applyRecommendation=function e(t,n){I.storeRecommendations(t,this.getView().getModel("internal"),n);return true};o.storeRecommendationContexts=function e(t){const n=[];let o=this.internalModel.getProperty("/recommendationContexts")||[];t.forEach(e=>{n.push(e.context.getPath())});o=o?.filter(e=>{const o=e?.context;if(o){const i=o.getPath();const r=n.indexOf(i);if(r<0){return true}else if(e.contextIdentifier){t[r].contextIdentifier=e.contextIdentifier}}return false});this.internalModel.setProperty("/recommendationContexts",[...o,...t])};o.fetchFilteredRecommendationContexts=function e(t){const n=[];const o=[];for(const e of t){const t=e.substring(0,e.lastIndexOf(")")+1);const i=this.getView().getModel("internal").getProperty("/recommendationContexts");i.forEach(e=>{const i=e.context;if(i.getPath()==t&&!n.includes(t)){n.push(t);o.push(e)}})}return o};o.fetchFilteredRecommendationData=function e(t){const n={};const o=this.getView().getModel("internal")?.getProperty("/recommendationsData");Object.keys(o).forEach(e=>{if(t.includes(e)){n[e]=Object.assign(o[e],{})}});return n};o.fetchTargets=function e(t){const n=this.getView().getModel("internal")?.getProperty("/recommendationsData");if(n.version===null){return[]}const o=this.base.getAppComponent()._isFclEnabled();const i=o?this.base.getAppComponent().getRootViewController().getHelper().getCurrentUIState().isFullScreen:true;const r=(e,t)=>{const n=e=>{const n=t.split(e);const o=n[1];let i=o.split("/");if(i.length<=3){return true}else{i=i.slice(2);return!i.some(e=>e.includes("("))}};if(o&&!i){const o=this.base.getAppComponent().getRootViewController().getRightmostContext();if(t.includes(o?.getPath())){return n(o?.getPath())}else{return n(e)}}else{return n(e)}};const s=this.fetchDataToBeFiltered(n,t);return s.filter(e=>e.includes(this.getView().getBindingContext()?.getPath())&&r(this.getView().getBindingContext()?.getPath(),e))||[]};o.fetchDataToBeFiltered=function e(t,n){let o=[];if(n){const e=this.getView().getModel("internal")?.getProperty("/recommendationContexts");e.forEach(e=>{o.push(e.context.getPath())})}else{o=Object.keys(t).filter(e=>e!=="version"&&e!=="keys")}return o};o.adjustAcceptAllParams=function e(t,n,o){o.recommendationData=[];for(const e in t){if(t[e].value||t[e].text){const i=e.substring(0,e.lastIndexOf(")")+1);const r=e.substring(e.lastIndexOf(")")+2);const s=n.filter(function(e){if((e?.context).getPath()===i){return true}});if(s?.length>0&&I.isRecommendationFieldNull(s[0].context,e,r)){o.recommendationData.push({context:s[0].context,contextIdentifier:s[0].contextIdentifier,propertyPath:r,value:t[e].value,text:t[e].text})}}}};o.fetchAcceptAllParams=async function e(){const t=this.fetchTargets();const n=this.fetchFilteredRecommendationData(t);const o=this.fetchFilteredRecommendationContexts(t);const i={};this.adjustAcceptAllParams(n,o,i);await this.getView().getController().recommendations.onBeforeAcceptRecommendations(i);I.addContextIdentifierText(i,this.getView()?.getBindingContext()?.getPath());this.dataToBeAccepted=i.recommendationData||[];return i};o.checkIfRecommendationsExist=function e(){const t=this.internalModel.getProperty("/recommendationsData")||{};return Object.keys(t).length!==0};o.ignoreRecommendationForContexts=function e(t){if(!t||!t.length){const e=this.getView();const n=e.getBindingContext();t=[n]}I.ignoreRecommendationForContexts(t,this.internalModel)};o.tryResetRecommendations=function e(t){I.setCurrentRootContext(t);this.internalModel.setProperty("/recommendationContexts",[]);I.resetRecommendations(this.internalModel)};o.storeDataForTelemetry=async function e(t){const n=await this._getRootContext(this.getView().getBindingContext());if(n&&this.base.recommendations.isEnabled(n)){if(t===E.Accept){this.telemetry.updateData("numberOfFieldsAcceptedThroughAcceptButton",this.dataToBeAccepted.length)}else if(t===E.Reject){this.telemetry.updateData("numberOfFieldsIgnoredThroughIgnoreButton",this.dataToBeAccepted.length)}this.telemetry.storeData(this.getView())}};o.increaseTelemetryDataCount=function e(t){this.telemetry.increaseCount(t)};o.updateTelemetryDataBasedOnUserSelection=function e(t,n){this.telemetry.updateTelemetryDataBasedOnUserSelection(this.getView(),t,n)};o.updateAllRecommendedFields=function e(t){const n=this.getView().getBindingContext().getPath();const o=t.filter(e=>e["AIRecommendedFieldPath"]?.includes(n));if(!this.allRecommendedFields){this.allRecommendedFields=[]}o.forEach(e=>{const t=e["AIRecommendedFieldPath"];if(t){if(!this.allRecommendedFields.includes(t)){this.allRecommendedFields.push(t);this.telemetry.increaseCount("numberOfRecommendedFields")}}})};o.resetRejectedRecommendations=function e(t){const n=t.getModel()?.getLocalAnnotationModel();const o=n?.getProperty("/rejectedRecommendations");Object.keys(o||{}).forEach(e=>{if(e.startsWith(t.getPath())){delete o[e]}});n?.setProperty("/rejectedRecommendations",o)};return n}(i),H(D.prototype,"onInit",[m],Object.getOwnPropertyDescriptor(D.prototype,"onInit"),D.prototype),H(D.prototype,"onAfterBinding",[p],Object.getOwnPropertyDescriptor(D.prototype,"onAfterBinding"),D.prototype),H(D.prototype,"clearRecommendations",[h],Object.getOwnPropertyDescriptor(D.prototype,"clearRecommendations"),D.prototype),H(D.prototype,"isEnabled",[f,u],Object.getOwnPropertyDescriptor(D.prototype,"isEnabled"),D.prototype),H(D.prototype,"isRecommendationEnabled",[g,y],Object.getOwnPropertyDescriptor(D.prototype,"isRecommendationEnabled"),D.prototype),H(D.prototype,"fetchRecommendations",[R,x],Object.getOwnPropertyDescriptor(D.prototype,"fetchRecommendations"),D.prototype),H(D.prototype,"fetchAndApplyRecommendations",[b],Object.getOwnPropertyDescriptor(D.prototype,"fetchAndApplyRecommendations"),D.prototype),H(D.prototype,"fetchAndApplyRecommendationsOnFieldChange",[C],Object.getOwnPropertyDescriptor(D.prototype,"fetchAndApplyRecommendationsOnFieldChange"),D.prototype),H(D.prototype,"onBeforeAcceptRecommendations",[P,A],Object.getOwnPropertyDescriptor(D.prototype,"onBeforeAcceptRecommendations"),D.prototype),H(D.prototype,"acceptRecommendations",[O,w],Object.getOwnPropertyDescriptor(D.prototype,"acceptRecommendations"),D.prototype),D))||v);F=z;return F},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/controllerextensions/Routing", ["sap/fe/base/ClassSupport","sap/fe/core/controllerextensions/BaseControllerExtension","sap/fe/core/helpers/ModelHelper","sap/ui/core/mvc/OverrideExecution"],function(e,t,o,r){"use strict";var n,i,a,p,s,c,u,l,f,y,g,v,b;var d=e.publicExtension;var O=e.finalExtension;var B=e.extensible;var j=e.defineUI5Class;function P(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,x(e,t)}function x(e,t){return x=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},x(e,t)}function h(e,t,o,r,n){var i={};return Object.keys(r).forEach(function(e){i[e]=r[e]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=o.slice().reverse().reduce(function(o,r){return r(e,t,o)||o},i),n&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(n):void 0,i.initializer=void 0),void 0===i.initializer?(Object.defineProperty(e,t,i),null):i}let A=(n=j("sap.fe.core.controllerextensions.Routing"),i=d(),a=B("AfterAsync"),p=d(),s=O(),c=d(),u=B(r.After),l=d(),f=B(r.After),y=d(),g=O(),n(v=(b=function(e){function t(){return e.apply(this,arguments)||this}P(t,e);var r=t.prototype;r.onBeforeNavigation=async function e(t){return Promise.resolve(false)};r.navigate=function e(t,o){const r=this.base.getModel("internal");r.setProperty("/paginatorCurrentContext",null);this.base._routing.navigateToContext(t,o)};r.onBeforeBinding=function e(t){};r.onAfterBinding=function e(t){};r.navigateToRoute=async function e(t,r){const n=this.base.getModel().getMetaModel();const i=o.isStickySessionSupported(n);if(!r){r={}}r.bIsStickyMode=i;return this.base._routing.navigateToRoute(t,r)};return t}(t),h(b.prototype,"onBeforeNavigation",[i,a],Object.getOwnPropertyDescriptor(b.prototype,"onBeforeNavigation"),b.prototype),h(b.prototype,"navigate",[p,s],Object.getOwnPropertyDescriptor(b.prototype,"navigate"),b.prototype),h(b.prototype,"onBeforeBinding",[c,u],Object.getOwnPropertyDescriptor(b.prototype,"onBeforeBinding"),b.prototype),h(b.prototype,"onAfterBinding",[l,f],Object.getOwnPropertyDescriptor(b.prototype,"onAfterBinding"),b.prototype),h(b.prototype,"navigateToRoute",[y,g],Object.getOwnPropertyDescriptor(b.prototype,"navigateToRoute"),b.prototype),b))||v);return A},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/controllerextensions/RoutingListener", ["sap/fe/core/controllerextensions/InternalRouting"],function(e){"use strict";return e},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/controllerextensions/Share", ["sap/base/Log","sap/base/util/ObjectPath","sap/base/util/extend","sap/fe/base/ClassSupport","sap/m/library","sap/ui/core/Component","sap/ui/core/Element","sap/ui/core/Fragment","sap/ui/core/Lib","sap/ui/core/XMLTemplateProcessor","sap/ui/core/routing/HashChanger","sap/ui/core/util/XMLPreprocessor","sap/ui/model/json/JSONModel","./BaseControllerExtension"],function(e,t,o,a,r,i,n,s,l,c,p,u,h,d){"use strict";var g,f,m,y,S,b,w,_,T,P,O,E,M,A,D,C,I,v,j;var x=a.publicExtension;var U=a.methodOverride;var H=a.finalExtension;var F=a.extensible;var R=a.defineUI5Class;function L(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,B(e,t)}function B(e,t){return B=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},B(e,t)}function J(e,t,o,a,r){var i={};return Object.keys(a).forEach(function(e){i[e]=a[e]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=o.slice().reverse().reduce(function(o,a){return a(e,t,o)||o},i),r&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(r):void 0,i.initializer=void 0),void 0===i.initializer?(Object.defineProperty(e,t,i),null):i}let V;let z=(g=R("sap.fe.core.controllerextensions.Share"),f=U(),m=U(),y=x(),S=H(),b=x(),w=F("AfterAsync"),_=x(),T=F("AfterAsync"),P=x(),O=H(),E=x(),M=H(),A=x(),D=H(),C=x(),I=H(),g(v=(j=function(a){function d(){return a.call(this)||this}L(d,a);var g=d.prototype;g.onInit=function e(){const t=new h({saveAsTileClicked:false,collaborationInfo:{url:"",appTitle:"",subTitle:"",minifyUrlForChat:true,appId:""}});this.base.getView().setModel(t,"shareInfo")};g.onExit=function e(){const t=this.base?.getView()?.getModel("shareInfo");if(t){t.destroy()}};g.openShareSheet=function e(t){this._openShareSheetImpl(t)};g.getCardDefinition=async function e(){return Promise.resolve(undefined)};g.adaptShareMetadata=function e(t){const o=this.base?.getView()?.getModel("shareInfo");const a=this.base.getAppComponent().getManifest();const r=a?.["sap.app"]?.id;const i=a?.["sap.app"]?.title||document.title;if(o){o.setProperty("/collaborationInfo/appId",r);o.setProperty("/collaborationInfo/url",t.url);o.setProperty("/collaborationInfo/appTitle",i)}return t};g._openShareSheetImpl=async function t(a){let i;const d=p.getInstance();const g=d.getHash();const f=d.hrefForAppSpecificHash?d.hrefForAppSpecificHash(""):"";const m={url:window.location.origin+window.location.pathname+window.location.search+(g?f+g:window.location.hash),title:await(this.base.getAppComponent()?.getShellServices()?.getTitle()),email:{url:"",title:""},jam:{url:"",title:""},tile:{url:"",title:"",subtitle:"",icon:"",queryUrl:""}};V=a;const y=function(e,t){const a=e.getModel("shareData");const r=o(a.getData(),t);a.setData(r)};try{const t=await(this.base.getView().getController()?.share?.adaptShareMetadata(m));const p={shareEmailPressed:function(){const e=i.getModel("shareData");const t=e.getData();const o=l.getResourceBundleFor("sap.fe.core");const a=t.email.title?t.email.title:o.getText("T_SHARE_UTIL_HELPER_SAPFE_EMAIL_SUBJECT",[t.title]);r.URLHelper.triggerEmail(undefined,a,t.email.url?t.email.url:t.url)},shareMSTeamsPressed:function(){const e=i.getModel("shareData");const t=e.getData();const o=t.email.title?t.email.title:t.title;const a=t.email.url?t.email.url:t.url;const r=window.open("","ms-teams-share-popup","width=700,height=600");r.opener=null;r.location=`https://teams.microsoft.com/share?msgText=${encodeURIComponent(o)}&href=${encodeURIComponent(a)}`},onSaveTilePress:function(){setTimeout(function(){n.getElementById("bookmarkDialog")?.attachAfterClose(function(){V.focus()})},0)},shareJamPressed:async()=>{await this._doOpenJamShareDialog(t?.jam?.title?t.jam.title:t.title,t?.jam?.url?t.jam.url:t.url)}};p.onCancelPressed=function(){i.close()};p.setShareSheet=function(e){a.shareSheet=e};const d=new h({});const g={bindingContexts:{this:d.createBindingContext("/")},models:{this:d}};const f={title:t?.tile?.title?t.tile.title:t.title,subtitle:t?.tile?.subtitle,icon:t?.tile?.icon,url:t?.tile?.url?t.tile.url:t.url.substring(t.url.indexOf("#")),queryUrl:t?.tile?.queryUrl};if(a.shareSheet){i=a.shareSheet;const e=i.getModel("share");this._setStaticShareData(e);const r=o(e.getData(),f);e.setData(r);y(i,t);i.openBy(a)}else{const r="sap.fe.macros.share.ShareSheet";const n=c.loadTemplate(r,"fragment");try{const e=await u.process(n,{name:r},g);i=await s.load({definition:e,controller:p});i.setModel(new h(f||{}),"share");const l=i.getModel("share");this._setStaticShareData(l);const c=o(l.getData(),f);l.setData(c);i.setModel(new h(t||{}),"shareData");y(i,t);a.addDependent(i);i.openBy(a);p.setShareSheet(i)}catch(t){e.error("Error while opening the share fragment",t)}}}catch(t){e.error("Error while fetching the share model data",t)}};g.getTeamsUrl=async function e(t){const o=await(this.base.getAppComponent()?.getShellServices().getInframeUrl());return o?o:t};g._setStaticShareData=function e(o){const a=l.getResourceBundleFor("sap.fe.core");o.setProperty("/jamButtonText",a.getText("T_COMMON_SAPFE_SHARE_JAM"));o.setProperty("/emailButtonText",a.getText("T_SEMANTIC_CONTROL_SEND_EMAIL"));o.setProperty("/msTeamsShareButtonText",a.getText("T_COMMON_SAPFE_SHARE_MSTEAMS"));if(t.get("sap-ushell-config.renderers.fiori2.componentData.config.sapHorizonEnabled")===true){o.setProperty("/msTeamsVisible",true)}else{o.setProperty("/msTeamsVisible",false)}const r=t.get("sap.ushell.Container.getUser");o.setProperty("/jamVisible",!!r&&r().isJamActive());o.setProperty("/saveAsTileVisible",!!sap.ui.require("sap/ushell/Container"))};g._doOpenJamShareDialog=async function e(t,o){const a=await i.create({name:"sap.collaboration.components.fiori.sharing.dialog",settings:{object:{id:o,share:t}}});a.open()};g._triggerEmail=async function e(){const t=await this._adaptShareMetadata();const o=l.getResourceBundleFor("sap.fe.core");const a=t.email.title?t.email.title:o.getText("T_SHARE_UTIL_HELPER_SAPFE_EMAIL_SUBJECT",[t.title]);r.URLHelper.triggerEmail(undefined,a,t.email.url?t.email.url:t.url)};g._triggerShareToJam=async function e(){const t=await this._adaptShareMetadata();await this._doOpenJamShareDialog(t.jam.title?t.jam.title:t.title,t.jam.url?t.jam.url:window.location.origin+window.location.pathname+t.url)};g._saveAsTile=async function e(t){const o=this.base?.getView()?.getModel("shareInfo");if(o){o.setProperty("/saveAsTileClicked",true)}const a=await this._adaptShareMetadata(),r=t.getDependents()[0],i=p.getInstance(),n=i.getHash(),s=i.hrefForAppSpecificHash?i.hrefForAppSpecificHash(""):"";a.url=n?s+n:window.location.hash;r.setTitle(a.tile.title?a.tile.title:a.title);r.setSubtitle(a.tile.subtitle);r.setTileIcon(a.tile.icon);r.setCustomUrl(a.tile.url?a.tile.url:a.url);r.setServiceUrl(a.tile.queryUrl);r.setDataSource({type:"OData",settings:{odataVersion:"4.0"}});if(o){o.setProperty("/saveAsTileClicked",false)}r.firePress()};g._adaptShareMetadata=async function e(){const t=p.getInstance();const o=encodeURIComponent(t.getHash());const a=t.hrefForAppSpecificHash?t.hrefForAppSpecificHash(""):"";const r={url:window.location.origin+window.location.pathname+window.location.search+(o?a+o:window.location.hash),title:await(this.base.getAppComponent()?.getShellServices()?.getTitle()),email:{url:"",title:""},jam:{url:"",title:""},tile:{url:"",title:"",subtitle:"",icon:"",queryUrl:""}};return this.base.getView().getController().share.adaptShareMetadata(r)};return d}(d),J(j.prototype,"onInit",[f],Object.getOwnPropertyDescriptor(j.prototype,"onInit"),j.prototype),J(j.prototype,"onExit",[m],Object.getOwnPropertyDescriptor(j.prototype,"onExit"),j.prototype),J(j.prototype,"openShareSheet",[y,S],Object.getOwnPropertyDescriptor(j.prototype,"openShareSheet"),j.prototype),J(j.prototype,"getCardDefinition",[b,w],Object.getOwnPropertyDescriptor(j.prototype,"getCardDefinition"),j.prototype),J(j.prototype,"adaptShareMetadata",[_,T],Object.getOwnPropertyDescriptor(j.prototype,"adaptShareMetadata"),j.prototype),J(j.prototype,"_triggerEmail",[P,O],Object.getOwnPropertyDescriptor(j.prototype,"_triggerEmail"),j.prototype),J(j.prototype,"_triggerShareToJam",[E,M],Object.getOwnPropertyDescriptor(j.prototype,"_triggerShareToJam"),j.prototype),J(j.prototype,"_saveAsTile",[A,D],Object.getOwnPropertyDescriptor(j.prototype,"_saveAsTile"),j.prototype),J(j.prototype,"_adaptShareMetadata",[C,I],Object.getOwnPropertyDescriptor(j.prototype,"_adaptShareMetadata"),j.prototype),j))||v);return z},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/controllerextensions/SideEffects", ["sap/base/Log","sap/fe/base/ClassSupport","sap/fe/core/converters/MetaModelConverter","sap/fe/core/helpers/ResourceModelHelper","sap/m/Button","sap/m/Dialog","sap/m/MessageToast","sap/m/Text","sap/ui/core/mvc/ControllerExtension","sap/ui/core/mvc/OverrideExecution","../CommonUtils","sap/ui/core/Component"],function(e,t,i,r,o,s,n,c,f,d,a,p){"use strict";var l,u,g,h,E,y,F,S,m,_,v,C,x,P,O,b,w,G,D,M,j,R,I,A,T,q,B,$,N,V,k,z,W,Q,U,L,H,J,K,X,Y,Z,ee,te,ie,re,oe,se,ne,ce,fe,de;var ae=r.getResourceModel;var pe=i.getInvolvedDataModelObjectsForTargetPath;var le=t.publicExtension;var ue=t.privateExtension;var ge=t.methodOverride;var he=t.finalExtension;var Ee=t.extensible;var ye=t.defineUI5Class;function Fe(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Se(e,t)}function Se(e,t){return Se=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Se(e,t)}function me(e,t,i,r,o){var s={};return Object.keys(r).forEach(function(e){s[e]=r[e]}),s.enumerable=!!s.enumerable,s.configurable=!!s.configurable,("value"in s||s.initializer)&&(s.writable=!0),s=i.slice().reverse().reduce(function(i,r){return r(e,t,i)||i},s),o&&void 0!==s.initializer&&(s.value=s.initializer?s.initializer.call(o):void 0,s.initializer=void 0),void 0===s.initializer?(Object.defineProperty(e,t,s),null):s}const _e="$$ImmediateRequest";let ve=(l=ye("sap.fe.core.controllerextensions.SideEffects"),u=ge(),g=le(),h=he(),E=le(),y=he(),F=le(),S=he(),m=le(),_=he(),v=le(),C=he(),x=le(),P=he(),O=le(),b=he(),w=le(),G=he(),D=le(),M=he(),j=le(),R=he(),I=le(),A=he(),T=le(),q=he(),B=le(),$=he(),N=le(),V=he(),k=le(),z=Ee(d.Instead),W=le(),Q=Ee(d.Instead),U=le(),L=he(),H=ue(),J=he(),K=le(),X=he(),Y=le(),Z=he(),ee=ue(),te=he(),ie=ue(),re=he(),oe=le(),se=he(),ne=le(),ce=he(),l(fe=(de=function(t){function i(){var e;e=t.call(this)||this;e.requestExecutions=[];return e}Fe(i,t);var r=i.prototype;r.onInit=function e(){this._view=this.base.getView();this._pageComponent=p.getOwnerComponentFor(this._view);this._sideEffectsService=a.getAppComponent(this._view).getSideEffectsService();this._registeredFieldGroupMap={};this._fieldGroupInvalidity={};this._registeredFailedSideEffects={}};r.addControlSideEffects=function e(t,i){this._sideEffectsService.addControlSideEffects(t,i)};r.removeControlSideEffects=function e(t){const i=t.isA?.("sap.ui.base.ManagedObject")&&t.getId();if(i){this._sideEffectsService.removeControlSideEffects(i)}};r.getContextForSideEffects=function e(t,i){let r=t,o=this._sideEffectsService.getEntityTypeFromContext(t);if(i!==o){r=t.getBinding().getContext();if(r){o=this._sideEffectsService.getEntityTypeFromContext(r);if(i!==o){r=r.getBinding().getContext();if(r){o=this._sideEffectsService.getEntityTypeFromContext(r);if(i!==o){return undefined}}}}}return r||undefined};r.waitForSideEffectExecutions=async function e(){await Promise.allSettled(this.requestExecutions)};r.getFieldSideEffectsMap=function e(t){let i={};if(this._pageComponent){const e=this._pageComponent.getEntitySet?.();const r=this._pageComponent.getContextPath?.()||e&&`/${e}`;if(r){const e=t.getFieldGroupIds(),o=pe(r,this._view.getModel().getMetaModel());i=this.getSideEffectsMapForFieldGroups(e,t.getBindingContext());if(o){const e=o.targetEntityType.fullyQualifiedName,r=this.getTargetProperty(t),s=this.getContextForSideEffects(t.getBindingContext(),e);if(r&&s){const t=this._sideEffectsService.getControlEntitySideEffects(e);Object.keys(t).forEach(o=>{const n=t[o];if(n.sourceProperties.includes(r)){const t=`${o}::${e}`;i[t]={name:t,immediate:true,sideEffects:n,context:s}}})}}}}return i};r.getSideEffectsMapForFieldGroups=function e(t,i){const r={};t.forEach(e=>{const{name:t,immediate:o,sideEffects:s,sideEffectEntityType:n}=this._getSideEffectsPropertyForFieldGroup(e);const c=i?this.getContextForSideEffects(i,n):undefined;if(s&&(!i||i&&c)){r[t]={name:t,immediate:o,sideEffects:s};if(i){r[t].context=c}}});return r};r.clearFieldGroupsValidity=function e(){this._fieldGroupInvalidity={}};r.isFieldGroupValid=function e(t,i){const r=this._getFieldGroupIndex(t,i);return Object.keys(this._fieldGroupInvalidity[r]??{}).length===0};r.getTargetProperty=function e(t){const i=t.data("sourcePath");const r=this._view.getModel().getMetaModel();const o=this._view.getBindingContext()?.getPath();const s=o?`${r.getMetaPath(o)}/`:"";return i?.replace(s,"")};r.prepareDeferredSideEffectsForField=function e(t,i,r){const o=t.getSource();this._saveFieldPropertiesStatus(o,i);if(!i){return}const s=this.getFieldSideEffectsMap(o);Object.keys(s).filter(e=>s[e].immediate!==true).forEach(e=>{const t=s[e];this.registerFieldGroupSideEffects(t,r)})};r.handleFieldChange=async function e(t,i,r){let o=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;const s=t.getSource();if(!o){this.prepareDeferredSideEffectsForField(t,i,r)}else{this._saveFieldPropertiesStatus(s,i);if(!i){return}}return this._manageSideEffectsFromField(s)};r.handleFieldGroupChange=async function t(i){const r=i.getSource(),o=i.getParameter("fieldGroupIds")??[],s=o.some(e=>e.startsWith("fe_sideEffectHandling_"));let n=[];if(s){const e=this.handleCustomFieldFieldGroupChange(i);if(e){n.push(e.then(()=>{}))}}const c=o.reduce((e,t)=>e.concat(this.getRegisteredSideEffectsForFieldGroup(t)),[]);n=n.concat(c.map(async e=>this._requestFieldGroupSideEffects(e)));return Promise.all(n).catch(t=>{const i=r.getBindingContext()?.getPath();e.debug(`Error while processing FieldGroup SideEffects on context ${i}`,t)})};r.handleCustomFieldFieldGroupChange=function e(t){const i=t.getSource();const r=Object.values(this.getFieldSideEffectsMap(i));r.filter(e=>e.immediate!==true).forEach(e=>{this.registerFieldGroupSideEffects(e,Promise.resolve())});const o=r.filter(e=>e.immediate===true).map(e=>e.sideEffects);const s=i.getBindingContext();if(o.length&&s){return this.requestMultipleSideEffects(o,s)}return null};r.handlePageChangeContext=async function t(i){const r=this.getRegisteredSideEffectsForContext(i);return Promise.all(r.map(async e=>this._requestFieldGroupSideEffects(e)).concat(this.waitForSideEffectExecutions())).catch(t=>{e.debug(`Error while processing on page context ${i.getPath()}`,t)})};r.requestSideEffects=async function e(t,i,r,o){let s=arguments.length>4&&arguments[4]!==undefined?arguments[4]:false;const n=this.triggerCallbacks.bind(this);const{targets:c,triggerAction:f}=o?o(t):{targets:[...t.targetEntities??[],...t.targetProperties??[]],triggerAction:!this._sideEffectsService.isControlSideEffects(t)?t.triggerAction:undefined};if(f&&!s){this.requestExecutions.push(this._sideEffectsService.executeAction(f,i,{groupId:r}))}if(c.length){const e=this._sideEffectsService.requestSideEffects(c,i,r).then(async function e(){return n(t.targetEntities?.map(e=>e.$NavigationPropertyPath)||[])}).catch(e=>{this.registerFailedSideEffects([t],i);throw e});this.requestExecutions.push(e);return e}};r.requestSideEffectsForEvent=async function e(t,i){if(this.isDataPathRelevant(i,t)){await this.base.editFlow.syncTask();const e=this._findRelevantContext(i,this.getView().getBindingContext());if(e){return this._sideEffectsService.requestSideEffectsForEvent(t,e)}}};r.isDataPathRelevant=function e(t,i){const r=this.getView().getBindingContext();if(this._contextIsRelevant(t,r)){return true}return!!this._findRelevantContext(t,r)};r._contextIsRelevant=function t(i,r){if(r?.getPath()===i||r?.getCanonicalPath()===i){return true}const o=r.getModel();const s=o.getMetaModel();const n=o.getDependentBindings(r);const c=r.getObject()?.IsActiveEntity;for(const t of n){const o=t.getPath()??"";if(o.startsWith("@$ui5")||!!c&&o.includes("DraftAdministrativeData/")){continue}try{const e=s.fetchUpdateData(o,r).getResult();if(e?.entityPath===i||"/"+e?.editUrl===i){return true}}catch(t){e.debug(`Error while checking ${o} on page context `,t)}}return false};r._findRelevantContext=function e(t,i){if(this._contextIsRelevant(t,i)){return i}const r=i.getModel().getDependentBindings(i);for(const e of r){if(e.isA("sap.ui.model.odata.v4.ODataContextBinding")){if(this._contextIsRelevant(t,e.getBoundContext())){return e.getBoundContext()}}else if(e.isA("sap.ui.model.odata.v4.ODataListBinding")){const i=e.getAllCurrentContexts();for(const e of i){if(this._contextIsRelevant(t,e)){return e}}}}};r.getDataRefreshText=function e(){const t=ae(this.getView());return t.getText("C_SERVER_EVENTS_NEW_DATA_ITEM")};r.notifyDataRefresh=function e(){n.show(this.base.getView().getController()._sideEffects.getDataRefreshText())};r.confirmDataRefresh=async function e(){if(!this.isConfirmationDialogOpen){return new Promise((e,t)=>{const i=this.getDataRefreshText();const r=ae(this.getView());const n=new s({title:r.getText("WARNING"),state:"Warning",content:new c({text:i}),beginButton:new o({text:r.getText("C_COMMON_SAPFE_REFRESH"),press:()=>{n.close();e()}}),endButton:new o({text:r.getText("C_COMMON_DIALOG_CANCEL"),press:()=>{n.close();t()}}),afterClose:()=>{n.destroy();this.isConfirmationDialogOpen=false}});n.addStyleClass("sapUiContentPadding");this.isConfirmationDialogOpen=true;n.open()})}return Promise.reject()};r.requestMultipleSideEffects=async function e(t,i,r){let o=new Set;let s=new Set;const n=t.reduce((e,t)=>{const i=t.triggerAction;if(i){e.push(i)}return e},[]);const c=this.triggerCallbacks.bind(this);for(const e of n){this._sideEffectsService.executeAction(e,i,{groupId:r})}for(const e of t){o=(e.targetProperties??[]).reduce((e,t)=>e.add(t),o);s=(e.targetEntities??[]).reduce((e,t)=>e.add(t.$NavigationPropertyPath),s)}return this._sideEffectsService.requestSideEffects([...Array.from(o),...Array.from(s).map(e=>({$NavigationPropertyPath:e}))],i,r).then(async function e(){return c(Array.from(s))}).catch(e=>{this.registerFailedSideEffects(t,i);throw e})};r.getRegisteredFailedRequests=function e(){return this._registeredFailedSideEffects};r.registerFailedSideEffects=function e(t,i){const r=i.getPath();this._registeredFailedSideEffects[r]=this._registeredFailedSideEffects[r]??[];for(const e of t){const t=this._registeredFailedSideEffects[r].every(t=>e.fullyQualifiedName!==t.fullyQualifiedName);if(t){this._registeredFailedSideEffects[r].push(e)}}};r.unregisterFailedSideEffectsForAContext=function e(t){delete this._registeredFailedSideEffects[t]};r.unregisterFailedSideEffects=function e(t,i){const r=i.getPath();if(this._registeredFailedSideEffects[r]?.length){this._registeredFailedSideEffects[r]=this._registeredFailedSideEffects[r].filter(e=>e.fullyQualifiedName!==t)}};r.registerFieldGroupSideEffects=function e(t,i){const r=this._getFieldGroupIndex(t.name,t.context);if(!this._registeredFieldGroupMap[r]){this._registeredFieldGroupMap[r]={promise:i??Promise.resolve(),sideEffectProperty:t}}};r.unregisterFieldGroupSideEffects=function e(t){const{context:i,name:r}=t;const o=this._getFieldGroupIndex(r,i);delete this._registeredFieldGroupMap[o]};r.getRegisteredSideEffectsForFieldGroup=function e(t){const i=[];for(const e of Object.keys(this._registeredFieldGroupMap)){if(e.startsWith(`${t}_`)){i.push(this._registeredFieldGroupMap[e])}}return i};r.getRegisteredSideEffectsForContext=function e(t){const i=[];for(const e of Object.keys(this._registeredFieldGroupMap)){if(this._registeredFieldGroupMap)if(e.includes(`_${t.getPath()}`)){i.push(this._registeredFieldGroupMap[e])}}return i};r._getFieldGroupIndex=function e(t,i){return`${t}_${i.getPath()}`};r._getSideEffectsPropertyForFieldGroup=function e(t){const i=t.includes(_e),r=t.replace(_e,""),o=r.split("#"),s=o[0],n=`${s}@com.sap.vocabularies.Common.v1.SideEffects${o.length===2?`#${o[1]}`:""}`,c=this._sideEffectsService.getODataEntitySideEffects(s)?.[n];return{name:r,immediate:i,sideEffects:c,sideEffectEntityType:s}};r._manageSideEffectsFromField=async function t(i){const r=this.getFieldSideEffectsMap(i);try{const e={};const t=(t,i)=>{const r=t.getPath();if(e[r]){e[r].sideEffects.push(i)}else{e[r]={context:t,sideEffects:[i]}}};for(const e of Object.values(r).filter(e=>e.immediate===true)){this.unregisterFailedSideEffects(e.sideEffects.fullyQualifiedName,e.context);t(e.context,e.sideEffects)}for(const e of[i.getBindingContext(),this._view.getBindingContext()].filter(e=>!!e)){const i=e.getPath();const r=this._registeredFailedSideEffects[i]??[];this.unregisterFailedSideEffectsForAContext(i);for(const i of r){t(e,i)}}await Promise.all(Object.values(e).map(async e=>e.sideEffects.length===1?this.requestSideEffects(e.sideEffects[0],e.context):this.requestMultipleSideEffects(e.sideEffects,e.context)))}catch(t){e.debug(`Error while managing Field SideEffects`,t)}};r.triggerCallbacks=async function e(t){await Promise.all(t.map(e=>{const t=this._sideEffectsService.getRegisteredCallback(e);if(t){return t()}return Promise.resolve()}))};r._requestFieldGroupSideEffects=async function t(i){this.unregisterFieldGroupSideEffects(i.sideEffectProperty);try{await i.promise}catch(t){e.debug(`Error while processing FieldGroup SideEffects`,t);return}try{const{sideEffects:e,context:t,name:r}=i.sideEffectProperty;if(this.isFieldGroupValid(r,t)){await this.requestSideEffects(e,t)}}catch(t){e.debug(`Error while executing FieldGroup SideEffects`,t)}};r._saveFieldPropertiesStatus=function e(t,i){const r=this.getFieldSideEffectsMap(t);Object.keys(r).forEach(e=>{const{name:o,immediate:s,context:n}=r[e];if(!s){const e=this._getFieldGroupIndex(o,n);if(i){delete this._fieldGroupInvalidity[e]?.[t.getId()]}else{this._fieldGroupInvalidity[e]={...this._fieldGroupInvalidity[e],...{[t.getId()]:true}}}}})};return i}(f),me(de.prototype,"onInit",[u],Object.getOwnPropertyDescriptor(de.prototype,"onInit"),de.prototype),me(de.prototype,"addControlSideEffects",[g,h],Object.getOwnPropertyDescriptor(de.prototype,"addControlSideEffects"),de.prototype),me(de.prototype,"removeControlSideEffects",[E,y],Object.getOwnPropertyDescriptor(de.prototype,"removeControlSideEffects"),de.prototype),me(de.prototype,"getContextForSideEffects",[F,S],Object.getOwnPropertyDescriptor(de.prototype,"getContextForSideEffects"),de.prototype),me(de.prototype,"waitForSideEffectExecutions",[m,_],Object.getOwnPropertyDescriptor(de.prototype,"waitForSideEffectExecutions"),de.prototype),me(de.prototype,"getFieldSideEffectsMap",[v,C],Object.getOwnPropertyDescriptor(de.prototype,"getFieldSideEffectsMap"),de.prototype),me(de.prototype,"getSideEffectsMapForFieldGroups",[x,P],Object.getOwnPropertyDescriptor(de.prototype,"getSideEffectsMapForFieldGroups"),de.prototype),me(de.prototype,"clearFieldGroupsValidity",[O,b],Object.getOwnPropertyDescriptor(de.prototype,"clearFieldGroupsValidity"),de.prototype),me(de.prototype,"isFieldGroupValid",[w,G],Object.getOwnPropertyDescriptor(de.prototype,"isFieldGroupValid"),de.prototype),me(de.prototype,"getTargetProperty",[D,M],Object.getOwnPropertyDescriptor(de.prototype,"getTargetProperty"),de.prototype),me(de.prototype,"prepareDeferredSideEffectsForField",[j,R],Object.getOwnPropertyDescriptor(de.prototype,"prepareDeferredSideEffectsForField"),de.prototype),me(de.prototype,"handleFieldChange",[I,A],Object.getOwnPropertyDescriptor(de.prototype,"handleFieldChange"),de.prototype),me(de.prototype,"handleFieldGroupChange",[T,q],Object.getOwnPropertyDescriptor(de.prototype,"handleFieldGroupChange"),de.prototype),me(de.prototype,"handlePageChangeContext",[B,$],Object.getOwnPropertyDescriptor(de.prototype,"handlePageChangeContext"),de.prototype),me(de.prototype,"requestSideEffects",[N,V],Object.getOwnPropertyDescriptor(de.prototype,"requestSideEffects"),de.prototype),me(de.prototype,"requestSideEffectsForEvent",[k,z],Object.getOwnPropertyDescriptor(de.prototype,"requestSideEffectsForEvent"),de.prototype),me(de.prototype,"getDataRefreshText",[W,Q],Object.getOwnPropertyDescriptor(de.prototype,"getDataRefreshText"),de.prototype),me(de.prototype,"getRegisteredFailedRequests",[U,L],Object.getOwnPropertyDescriptor(de.prototype,"getRegisteredFailedRequests"),de.prototype),me(de.prototype,"registerFailedSideEffects",[H,J],Object.getOwnPropertyDescriptor(de.prototype,"registerFailedSideEffects"),de.prototype),me(de.prototype,"unregisterFailedSideEffectsForAContext",[K,X],Object.getOwnPropertyDescriptor(de.prototype,"unregisterFailedSideEffectsForAContext"),de.prototype),me(de.prototype,"unregisterFailedSideEffects",[Y,Z],Object.getOwnPropertyDescriptor(de.prototype,"unregisterFailedSideEffects"),de.prototype),me(de.prototype,"registerFieldGroupSideEffects",[ee,te],Object.getOwnPropertyDescriptor(de.prototype,"registerFieldGroupSideEffects"),de.prototype),me(de.prototype,"unregisterFieldGroupSideEffects",[ie,re],Object.getOwnPropertyDescriptor(de.prototype,"unregisterFieldGroupSideEffects"),de.prototype),me(de.prototype,"getRegisteredSideEffectsForFieldGroup",[oe,se],Object.getOwnPropertyDescriptor(de.prototype,"getRegisteredSideEffectsForFieldGroup"),de.prototype),me(de.prototype,"getRegisteredSideEffectsForContext",[ne,ce],Object.getOwnPropertyDescriptor(de.prototype,"getRegisteredSideEffectsForContext"),de.prototype),de))||fe);return ve},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/controllerextensions/Telemetry", ["sap/fe/base/ClassSupport","sap/fe/core/controllerextensions/BaseControllerExtension"],function(e,t){"use strict";var r,i,o,n;var c={};var a=e.publicExtension;var s=e.defineUI5Class;function p(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,l(e,t)}function l(e,t){return l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},l(e,t)}function u(e,t,r,i,o){var n={};return Object.keys(i).forEach(function(e){n[e]=i[e]}),n.enumerable=!!n.enumerable,n.configurable=!!n.configurable,("value"in n||n.initializer)&&(n.writable=!0),n=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},n),o&&void 0!==n.initializer&&(n.value=n.initializer?n.initializer.call(o):void 0,n.initializer=void 0),void 0===n.initializer?(Object.defineProperty(e,t,n),null):n}let f=(r=s("sap.fe.core.controllerextensions.Telemetry"),i=a(),r(o=(n=function(e){function t(){return e.apply(this,arguments)||this}c=t;p(t,e);var r=t.prototype;r.storeAction=function e(t){this.base.getAppComponent().getTelemetryService().storeAction(t,(this.base.getView()?.getViewData()).converterType)};return t}(t),u(n.prototype,"storeAction",[i],Object.getOwnPropertyDescriptor(n.prototype,"storeAction"),n.prototype),n))||o);c=f;return c},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/controllerextensions/ViewState", ["sap/base/Log","sap/base/util/merge","sap/fe/base/ClassSupport","sap/fe/navigation/library","sap/ui/core/mvc/ControllerExtension","sap/ui/core/mvc/OverrideExecution"],function(t,e,i,r,n,a){"use strict";var o,s,p,l,c,d,u,f,y,S,g,h,v,w,b,A,C,I,O,m,P,_,V,j,R,B,D,K,E,M,T,H,F,N,x,k,L,U,z,$,q,G,Q,W,J,X,Y,Z,tt,et,it,rt,nt;function at(t){return new Promise((e,i)=>{sap.ui.require([t],i=>{if(!(i&&i.__esModule)){i=i===null||!(typeof i==="object"&&t.endsWith("/library"))?{default:i}:i;Object.defineProperty(i,"__esModule",{value:true})}e(i)},t=>{i(t)})})}var ot=i.publicExtension;var st=i.privateExtension;var pt=i.finalExtension;var lt=i.extensible;var ct=i.defineUI5Class;function dt(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,ut(t,e)}function ut(t,e){return ut=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ut(t,e)}function ft(t,e,i,r,n){var a={};return Object.keys(r).forEach(function(t){a[t]=r[t]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce(function(i,r){return r(t,e,i)||i},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer?(Object.defineProperty(t,e,a),null):a}const yt=r.NavType;const St="#additionalStates";const gt=async function(){return(await at("sap/ui/mdc/p13n/StateUtil")).default};const ht={"sap.ui.fl.variants.VariantManagement":{retrieve:function(t){return{variantId:t.getCurrentVariantKey()}},apply:async function(e,i){try{if(i&&i.variantId!==undefined&&i.variantId!==e.getCurrentVariantKey()){const r=this._checkIfVariantIdIsAvailable(e,i.variantId);let n;if(r){n=i.variantId}else{n=e.getStandardVariantKey();this.controlsVariantIdUnavailable.push(...e.getFor())}try{const t=(await at("sap/ui/fl/apply/api/ControlVariantApplyAPI")).default;await t.activateVariant({element:e,variantReference:n});await this._setInitialStatesForDeltaCompute(e)}catch(i){t.error(i);this.invalidateInitialStateForApply.push(...e.getFor());await this._setInitialStatesForDeltaCompute(e)}}else{this._setInitialStatesForDeltaCompute(e)}}catch(e){t.error(e)}}},"sap.fe.templates.ListReport.controls.MultipleModeControl":{retrieve:function(t){return{selectedKey:t.content.getSelectedKey()}},apply:function(t,e){if(e?.selectedKey){const i=t.content;const r=i.getItems().find(t=>t.getKey()===e.selectedKey);if(r){i.setSelectedKey(e.selectedKey);if(t.getModel("_pageModel")?.getProperty("/hideFilterBar")===true){t.refreshSelectedInnerControlContent()}}}}},"sap.ui.mdc.Table":{refreshBinding:function(e){const i=e.getRowBinding();if(i){const t=i.getRootBinding();const e=i.getAggregation();if(t===i&&e?.hierarchyQualifier===undefined){i.refresh()}else{const t=i.getHeaderContext();const e=i.getGroupId();if(t){t.requestSideEffects([{$NavigationPropertyPath:""}],e)}}}else{t.info(`Table: ${e.getId()} was not refreshed. No binding found!`)}}},"sap.m.SegmentedButton":{retrieve:function(t){return{selectedKey:t.getSelectedKey()}},apply:function(t,e){if(e?.selectedKey&&e.selectedKey!==t.getSelectedKey()){t.setSelectedKey(e.selectedKey);if(t.getParent()?.isA("sap.ui.mdc.ActionToolbar")){t.fireEvent("selectionChange")}}}},"sap.m.Select":{retrieve:function(t){return{selectedKey:t.getSelectedKey()}},apply:function(t,e){if(e?.selectedKey&&e.selectedKey!==t.getSelectedKey()){t.setSelectedKey(e.selectedKey);if(t.getParent()?.isA("sap.ui.mdc.ActionToolbar")){t.fireEvent("change")}}}},"sap.f.DynamicPage":{retrieve:function(t){return{headerExpanded:t.getHeaderExpanded()}},apply:function(t,e){if(e){t.setHeaderExpanded(e.headerExpanded)}}},"sap.ui.core.mvc.View":{retrieve:function(t){const e=t.getController();if(e&&e.viewState){return e.viewState.retrieveViewState()}return{}},apply:async function(t,e,i,r){const n=t.getController();if(n&&n.viewState&&i){return n.viewState.applyViewState(e,i,r)}},refreshBinding:async function(t){const e=t.getController();if(e&&e.viewState){return e.viewState.refreshViewBindings()}}},"sap.ui.core.ComponentContainer":{retrieve:async function(t){const e=t.getComponentInstance();if(e){return this.retrieveControlState(e.getRootControl())}return{}},apply:async function(t,e,i){const r=t.getComponentInstance();if(r){return this.applyControlState(r.getRootControl(),e,i)}}}};let vt=(o=ct("sap.fe.core.controllerextensions.ViewState"),s=ot(),p=pt(),l=ot(),c=lt(a.After),d=st(),u=pt(),f=st(),y=pt(),S=ot(),g=lt(a.After),h=ot(),v=lt(a.After),w=ot(),b=lt(a.After),A=st(),C=pt(),I=ot(),O=lt(a.After),m=st(),P=pt(),_=ot(),V=lt(a.After),j=ot(),R=pt(),B=st(),D=pt(),K=ot(),E=pt(),M=ot(),T=lt(a.After),H=st(),F=pt(),N=ot(),x=lt(a.Instead),k=ot(),L=lt(a.After),U=ot(),z=pt(),$=st(),q=ot(),G=lt(a.After),Q=ot(),W=lt(a.After),J=ot(),X=lt(a.After),Y=ot(),Z=lt(a.After),tt=st(),et=pt(),it=ot(),o(rt=(nt=function(i){function r(){var e;e=i.call(this)||this;e._retrieveCalls=[];e.initialControlStatesMapper={};e.controlsVariantIdUnavailable=[];e.invalidateInitialStateForApply=[];e.viewStateControls=[];e.stateContributors=[];e._setInitialStatesForDeltaCompute=async i=>{try{const t=e.viewStateControls;const r=[];const n=[];let a=[];const o=i?.getFor()??[];e.updateInitialState(o);await Promise.all(t.filter(function(t){return t&&(!i||o.includes(t.getId()))&&(t.isA("sap.ui.mdc.Table")||t.isA("sap.ui.mdc.FilterBar")||t.isA("sap.ui.mdc.Chart"))}).map(async t=>{if(i){e._addEventListenersToVariantManagement(i,o)}const a=(await gt()).retrieveExternalState(t);r.push(a);n.push(e.getStateKey(t))}));a=await Promise.all(r);a.forEach((t,i)=>{e.initialControlStatesMapper[n[i]]=t})}catch(e){t.error(e)}};e._retrieveCalls=[];e._pInitialStateApplied=new Promise(t=>{e._pInitialStateAppliedResolve=t});return e}dt(r,i);var n=r.prototype;n.refreshViewBindings=async function t(){const e=await this.collectResults(this.base.viewState.adaptBindingRefreshControls);let i=Promise.resolve();e.filter(t=>t&&t.isA&&t.isA("sap.ui.base.ManagedObject")).forEach(t=>{i=i.then(this.refreshControlBinding.bind(this,t))});return i};n.adaptBindingRefreshControls=function t(e){};n.refreshControlBinding=async function e(i){const r=this.getControlRefreshBindingHandler(i);let n=Promise.resolve();if(typeof r.refreshBinding!=="function"){t.info(`refreshBinding handler for control: ${i.getMetadata().getName()} is not provided`)}else{n=n.then(r.refreshBinding.bind(this,i))}return n};n.getControlRefreshBindingHandler=function t(e){const i={};if(e){for(const t in ht){if(e.isA(t)){i["refreshBinding"]=ht[t].refreshBinding||{};break}}}this.base.viewState.adaptBindingRefreshHandler(e,i);return i};n.adaptBindingRefreshHandler=function t(e,i){};n.onSuspend=function t(){};n.onRestore=function t(){};n.destroy=function t(){delete this._pInitialStateAppliedResolve;i.prototype.destroy.call(this)};n.collectResults=async function t(e){const i=[];for(var r=arguments.length,n=new Array(r>1?r-1:0),a=1;a<r;a++){n[a-1]=arguments[a]}n.push(i);e.apply(this,n);return Promise.all(i)};n.adaptControlStateHandler=function t(e,i){};n.getControlStateHandler=function t(e){const i=[],r=[];if(e){if(e.isA("sap.fe.core.controllerextensions.viewState.IViewStateContributor")&&e.retrieveState&&e.applyState){i.push({retrieve:async t=>e.retrieveState.bind(e)(),apply:async(t,i,r,n)=>{const a=!this.invalidateInitialStateForApply.includes(e.getId())&&!this.controlsVariantIdUnavailable.includes(e.getId())&&r?.navigationType!==yt.hybrid&&n!==true;if(!i){if(e.applyLegacyState){await e.applyLegacyState.bind(e)(this.getControlState.bind(this),r,a,n)}}else{await e.applyState.bind(e)(i,r,a,n)}}})}else{for(const t in ht){if(e.isA(t)){i.push(Object.assign({},ht[t]));break}}}}this.base.viewState.adaptControlStateHandler(e,r);return i.concat(r)};n.adaptStateControls=function t(e){e.push(...this.stateContributors)};n.getStateKey=function t(e){return this.getView().getLocalId(e.getId())||e.getId()};n._retrieveViewState=async function i(){let r={};try{await this._pInitialStateApplied;const t=await this.collectResults(this.base.viewState.adaptStateControls);const i=await Promise.all(t.filter(function(t){return t&&t.isA&&t.isA("sap.ui.base.ManagedObject")}).map(async t=>this.retrieveControlState(t).then(e=>({key:this.getStateKey(t),value:e}))));r=i.reduce(function(t,i){const r={};r[i.key]=i.value;return e(t,r)},{});const n=this._currentViewState;if(n&&Object.keys(n).length>0){this._addMissingState(r,n)}const a=await Promise.resolve(this._retrieveAdditionalStates());if(a&&Object.keys(a).length){r[St]=a}}catch(e){const i=this.getView().getId();t.error(`ViewState : ${i} : failed to retrieve state!`)}return r};n.retrieveViewState=async function t(){const e=this._retrieveViewState();this._retrieveCalls.push(e);await e;const i=await Promise.allSettled(this._retrieveCalls);const r=i[i.length-1];const n=r.status==="fulfilled"?r.value:undefined;this._currentViewState=n;return n};n._addMissingState=function t(e,i){for(const t in i){if(!(t in e)){e[t]=i[t]}}};n.retrieveAdditionalStates=function t(e){};n._retrieveAdditionalStates=function t(){const e={};this.base.viewState.retrieveAdditionalStates(e);return e};n.retrieveControlState=async function t(i){const r=this.getControlStateHandler(i);return Promise.all(r.map(async t=>{if(typeof t.retrieve!=="function"){throw new Error(`controlStateHandler.retrieve is not a function for control: ${i.getMetadata().getName()}`)}return t.retrieve.call(this,i)})).then(t=>t.reduce(function(t,i){return e(t,i)},{}))};n.applyInitialStateOnly=function t(){return true};n.getControlState=function t(e){const i=this._currentViewState;let r={};if(i){const t=this.getStateKey(e);r=i[t]}return r};n.adaptApplyStateNavParams=function t(e){};n.applyViewState=async function e(i,r,n){this.base.viewState.adaptApplyStateNavParams(r);if(this.base.viewState.applyInitialStateOnly()&&this._getInitialStateApplied()&&this._currentViewState){return}try{if(this._isStateEmptyForIAppStateNavType(i,r.navigationType)&&!this.__isRootViewController()){return}await this.collectResults(this.base.viewState.onBeforeStateApplied,[],r.navigationType);const t=await this.collectResults(this.base.viewState.adaptStateControls);this.viewStateControls=t;let e=Promise.resolve();let a=false;this._currentViewState=i;this.configOfStateApply=this.configOfStateApply??{};this.configOfStateApply.skipMerge=n;this.configOfStateApply.navTypeParameters=r;this.configOfStateApply.state=i;const o=t.reduce((t,e)=>{if(!e){return t}const i=e.isA("sap.ui.fl.variants.VariantManagement");if(!a){a=i}t=i?[e,...t]:[...t,e];return t},[]);if(!a){this._setInitialStatesForDeltaCompute()}o.filter(function(t){return t.isA("sap.ui.base.ManagedObject")}).forEach(t=>{const a=this.getStateKey(t);e=e.then(this.applyControlState.bind(this,t,i?i[a]:undefined,r,n??false))});await e;if(r.navigationType===yt.iAppState||r.navigationType===yt.hybrid){await this.collectResults(this.base.viewState.applyAdditionalStates,i?i[St]:undefined)}else{await this.collectResults(this.base.viewState.applyNavigationParameters,r);const t=[];this._getPromisesForAdaptControls(o,r,t);await Promise.all(t)}}finally{try{if(!this._isStateEmptyForIAppStateNavType(i,r.navigationType)){await this.collectResults(this.base.viewState.onAfterStateApplied)}this._setInitialStateApplied()}catch(e){t.error(e)}}};n._getPromisesForAdaptControls=function t(e,i,r){e.filter(function(t){return t.isA("sap.ui.base.ManagedObject")}).forEach(t=>{if(t.isA("sap.fe.core.controllerextensions.viewState.IViewStateContributor")&&t.applyNavigationParameters)r.push(t.applyNavigationParameters(i))});return r};n._checkIfVariantIdIsAvailable=function t(e,i){const r=e.getVariants();let n=false;r.forEach(function(t){if(t.getKey()===i){n=true}});return n};n._setInitialStateApplied=function t(){if(this._pInitialStateAppliedResolve){const t=this._pInitialStateAppliedResolve;delete this._pInitialStateAppliedResolve;t()}};n._getInitialStateApplied=function t(){return!this._pInitialStateAppliedResolve};n._isStateEmptyForIAppStateNavType=function t(e,i){return(!e||Object.keys(e).length===0)&&i==yt.iAppState};n.__isRootViewController=function t(){const e=this.base.getView().getController();return e.isA("sap.fe.core.rootView.NavContainer")||e.isA("sap.fe.core.rootView.Fcl")};n.onBeforeStateApplied=function t(e,i){};n.onAfterStateApplied=function t(e){};n.applyAdditionalStates=function t(e,i){};n.applyNavigationParameters=function t(e,i){};n.applyControlState=async function t(e,i,r,n){const a=this.getControlStateHandler(e);let o=Promise.resolve();a.forEach(t=>{if(typeof t.apply!=="function"){throw new Error(`controlStateHandler.apply is not a function for control: ${e.getMetadata().getName()}`)}o=o.then(t.apply.bind(this,e,i,r,n))});return o};n.updateAppStateDebounced=function t(){if(this.updateAppStateTimer){clearTimeout(this.updateAppStateTimer)}this.updateAppStateTimer=setTimeout(()=>{this.base.getExtensionAPI().updateAppState()},200)};n.registerStateContributor=function t(e){if(this.stateContributors.includes(e)){return}this.stateContributors.push(e);if(this._currentViewState){const t=this.getStateKey(e);const i=this._currentViewState[t];const r=this.configOfStateApply?.navTypeParameters?.navigationType;const n=this.configOfStateApply?.skipMerge;if(i&&i===this.configOfStateApply?.state?.[t]){const t=!this.invalidateInitialStateForApply.includes(e.getId())&&!this.controlsVariantIdUnavailable.includes(e.getId())&&r!==yt.hybrid&&n!==true;e.applyState(i,undefined,t)}else{this.updateAppStateDebounced()}}};n.deregisterStateContributor=function t(e){const i=this.stateContributors.findIndex(t=>t==e);if(i!==-1){this.stateContributors.splice(i,1)}};n.getInterface=function t(){return this};n._getControlState=function t(e,i){const r=this.initialControlStatesMapper;if(Object.keys(r).length>0&&r[e]){if(Object.keys(r[e]).length===0){r[e]={...i}}return{fullState:i,initialState:r[e]}}return i};n._addEventListenersToVariantManagement=function t(e,i){const r={variantManagedControls:i};const n=()=>{this._updateInitialStatesOnVariantChange(i)};e.attachSave(r,n,{});e.attachSelect(r,n,{})};n._updateInitialStatesOnVariantChange=function t(e){const i=this.initialControlStatesMapper;Object.keys(i).forEach(t=>{for(const r of e){if(r.includes(t)){i[t]={}}}});this.updateInitialState(e)};n.updateInitialState=async function t(e){const i=this.stateContributors;await Promise.all(i.map(async t=>{const i=t?.getId();if(e.includes(i)&&t?.isA("sap.fe.core.controllerextensions.viewState.IViewStateContributor")&&t.setInitialState){await t.setInitialState()}}))};n._isInitialStatesApplicable=function t(e,i,r,n){return!!e&&!this.invalidateInitialStateForApply.includes(i.getId())&&!this.controlsVariantIdUnavailable.includes(i.getId())&&(n??true)&&r!==true};return r}(n),ft(nt.prototype,"refreshViewBindings",[s,p],Object.getOwnPropertyDescriptor(nt.prototype,"refreshViewBindings"),nt.prototype),ft(nt.prototype,"adaptBindingRefreshControls",[l,c],Object.getOwnPropertyDescriptor(nt.prototype,"adaptBindingRefreshControls"),nt.prototype),ft(nt.prototype,"refreshControlBinding",[d,u],Object.getOwnPropertyDescriptor(nt.prototype,"refreshControlBinding"),nt.prototype),ft(nt.prototype,"getControlRefreshBindingHandler",[f,y],Object.getOwnPropertyDescriptor(nt.prototype,"getControlRefreshBindingHandler"),nt.prototype),ft(nt.prototype,"adaptBindingRefreshHandler",[S,g],Object.getOwnPropertyDescriptor(nt.prototype,"adaptBindingRefreshHandler"),nt.prototype),ft(nt.prototype,"onSuspend",[h,v],Object.getOwnPropertyDescriptor(nt.prototype,"onSuspend"),nt.prototype),ft(nt.prototype,"onRestore",[w,b],Object.getOwnPropertyDescriptor(nt.prototype,"onRestore"),nt.prototype),ft(nt.prototype,"collectResults",[A,C],Object.getOwnPropertyDescriptor(nt.prototype,"collectResults"),nt.prototype),ft(nt.prototype,"adaptControlStateHandler",[I,O],Object.getOwnPropertyDescriptor(nt.prototype,"adaptControlStateHandler"),nt.prototype),ft(nt.prototype,"getControlStateHandler",[m,P],Object.getOwnPropertyDescriptor(nt.prototype,"getControlStateHandler"),nt.prototype),ft(nt.prototype,"adaptStateControls",[_,V],Object.getOwnPropertyDescriptor(nt.prototype,"adaptStateControls"),nt.prototype),ft(nt.prototype,"getStateKey",[j,R],Object.getOwnPropertyDescriptor(nt.prototype,"getStateKey"),nt.prototype),ft(nt.prototype,"_retrieveViewState",[B,D],Object.getOwnPropertyDescriptor(nt.prototype,"_retrieveViewState"),nt.prototype),ft(nt.prototype,"retrieveViewState",[K,E],Object.getOwnPropertyDescriptor(nt.prototype,"retrieveViewState"),nt.prototype),ft(nt.prototype,"retrieveAdditionalStates",[M,T],Object.getOwnPropertyDescriptor(nt.prototype,"retrieveAdditionalStates"),nt.prototype),ft(nt.prototype,"retrieveControlState",[H,F],Object.getOwnPropertyDescriptor(nt.prototype,"retrieveControlState"),nt.prototype),ft(nt.prototype,"applyInitialStateOnly",[N,x],Object.getOwnPropertyDescriptor(nt.prototype,"applyInitialStateOnly"),nt.prototype),ft(nt.prototype,"adaptApplyStateNavParams",[k,L],Object.getOwnPropertyDescriptor(nt.prototype,"adaptApplyStateNavParams"),nt.prototype),ft(nt.prototype,"applyViewState",[U,z],Object.getOwnPropertyDescriptor(nt.prototype,"applyViewState"),nt.prototype),ft(nt.prototype,"_checkIfVariantIdIsAvailable",[$],Object.getOwnPropertyDescriptor(nt.prototype,"_checkIfVariantIdIsAvailable"),nt.prototype),ft(nt.prototype,"onBeforeStateApplied",[q,G],Object.getOwnPropertyDescriptor(nt.prototype,"onBeforeStateApplied"),nt.prototype),ft(nt.prototype,"onAfterStateApplied",[Q,W],Object.getOwnPropertyDescriptor(nt.prototype,"onAfterStateApplied"),nt.prototype),ft(nt.prototype,"applyAdditionalStates",[J,X],Object.getOwnPropertyDescriptor(nt.prototype,"applyAdditionalStates"),nt.prototype),ft(nt.prototype,"applyNavigationParameters",[Y,Z],Object.getOwnPropertyDescriptor(nt.prototype,"applyNavigationParameters"),nt.prototype),ft(nt.prototype,"applyControlState",[tt,et],Object.getOwnPropertyDescriptor(nt.prototype,"applyControlState"),nt.prototype),ft(nt.prototype,"updateAppStateDebounced",[it],Object.getOwnPropertyDescriptor(nt.prototype,"updateAppStateDebounced"),nt.prototype),nt))||rt);return vt},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/controllerextensions/cards/CollaborationManager", ["sap/fe/base/ClassSupport","sap/fe/core/CommonUtils","sap/ui/core/mvc/ControllerExtension"],function(e,t,i){"use strict";var r,n,o,a,s,p,c,l;var u={};var d=e.publicExtension;var f=e.methodOverride;var b=e.extensible;var v=e.defineUI5Class;function g(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,y(e,t)}function y(e,t){return y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},y(e,t)}function h(e,t,i,r,n){var o={};return Object.keys(r).forEach(function(e){o[e]=r[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce(function(i,r){return r(e,t,i)||i},o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer?(Object.defineProperty(e,t,o),null):o}let C=(r=v("sap.fe.core.controllerextensions.cards.CollaborationManager"),n=f(),o=f("_routing"),a=f(),s=d(),p=b("AfterAsync"),r(c=(l=function(e){function i(){var t;t=e.call(this)||this;t.init();return t}u=i;g(i,e);var r=i.prototype;r.onInit=function e(){const i=async function(){this.feView=this.base.getView();this.appComponent=t.getAppComponent(this.feView);const e=await this.appComponent.getService("environmentCapabilities");this.serviceEnabled=true;if(!this.appComponent["isCollaborationManagerServiceEnabled"]()||!e.getCapabilities().InsightsSupported||!await e.isInsightsEnabled()){this.serviceEnabled=false}};i.apply(this)};r.onAfterBinding=async function e(){if(this.serviceEnabled===false){return}await this.getService().connect(this.appComponent.getId(),async()=>{const e=[];await this.collectAvailableCards(e);const t=this.updateCards(e);const i=this.appComponent.getId();this.getService().addCardsToCollaborationManager(t,i,this.base.getView().getId())})};r.updateCards=function e(t){return t.reduce((e,t)=>{if(t?.card["sap.app"]?.id){e[t?.card["sap.app"]?.id]=t}return e},{})};r.onExit=function e(){this.getService().unregisterProvider()};r.getService=function e(){return this.appComponent.getCollaborationManagerService()};r.collectAvailableCards=async function e(t){return Promise.resolve()};return i}(i),h(l.prototype,"onInit",[n],Object.getOwnPropertyDescriptor(l.prototype,"onInit"),l.prototype),h(l.prototype,"onAfterBinding",[o],Object.getOwnPropertyDescriptor(l.prototype,"onAfterBinding"),l.prototype),h(l.prototype,"onExit",[a],Object.getOwnPropertyDescriptor(l.prototype,"onExit"),l.prototype),h(l.prototype,"collectAvailableCards",[s,p],Object.getOwnPropertyDescriptor(l.prototype,"collectAvailableCards"),l.prototype),l))||c);u=C;return u},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/controllerextensions/collaboration/ActivityBase", ["sap/fe/core/controllerextensions/collaboration/CollaborationCommon","sap/fe/core/helpers/ResourceModelHelper","sap/fe/core/helpers/WebSocket","sap/m/MessageBox"],function(e,t,o,r){"use strict";var n={};var a=o.createWebSocket;var i=o.WEBSOCKET_STATUS;var s=o.ChannelType;var c=t.getResourceModel;var l=e.Activity;const f="/collaboration";const p="/collaboration/connection";const C="/collaboration/DraftID";const u="/collaboration/websocket_status";function d(e){return e.getProperty(u)===i.CONNECTED}n.isCollaborationConnected=d;function g(e,t,o,n,l){let d=arguments.length>5&&arguments[5]!==undefined?arguments[5]:false;if(o.getProperty(p)){if(o.getProperty(C)===t){return false}else{P(o)}}const g=[e];o.setProperty(f,{activeUsers:g,activities:{}});const N={draft:t};if(d||new URLSearchParams(window.location.search).get("useFLPUser")==="true"){N["userID"]=e.id;N["userName"]=e.initialName??""}const O=a(s.CollaborationDraft,l.getModel(),N);o.setProperty(u,i.CONNECTING);o.setProperty(p,O);o.setProperty(C,t);O.attachMessage(function(e){const t=e.getParameter("pcpFields");if(t){n(t)}});O.attachOpen(function(){o.setProperty(u,i.CONNECTED)});function y(){const e=c(l);const t=e.getText("C_COLLABORATIONDRAFT_CONNECTION_LOST");r.warning(t,{actions:[r.Action.OK],emphasizedAction:r.Action.OK})}O.attachError(function(){if([i.CONNECTING,i.CONNECTED].includes(o.getProperty(u))){y()}o.setProperty(u,i.ERROR)});O.attachClose(function(e){o.setProperty(u,i.CLOSED);if(e.getParameter("code")!==1e3){y()}});return true}n.initializeCollaboration=g;function N(e,t,o,r,n,a){if(d(o)){const i=o.getProperty(p);i.send("",{clientAction:e,clientContent:t,clientTriggeredActionName:r,clientRefreshListBinding:n,clientRequestedProperties:a});if(e===l.Activate||e===l.Discard){P(o)}}}n.broadcastCollaborationMessage=N;function P(e){const t=e.getProperty(p);e.setProperty(f,{});e.setProperty(u,i.CLOSING);t?.close()}n.endCollaboration=P;return n},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/controllerextensions/collaboration/CollaborationCommon", ["sap/ui/core/Component","sap/ui/core/Lib"],function(e,t){"use strict";var n={};let r=function(e){e[e["NotYetInvited"]=0]="NotYetInvited";e[e["NoChangesMade"]=1]="NoChangesMade";e[e["ChangesMade"]=2]="ChangesMade";e[e["CurrentlyEditing"]=3]="CurrentlyEditing";return e}({});n.UserStatus=r;let o=function(e){e["NoChanges"]="N";e["InProgress"]="P";return e}({});n.UserEditingState=o;let a=function(e){e["Join"]="JOIN";e["JoinEcho"]="JOINECHO";e["Leave"]="LEAVE";e["Change"]="CHANGE";e["Create"]="CREATE";e["Delete"]="DELETE";e["Action"]="ACTION";e["Lock"]="LOCK";e["LockEcho"]="LOCKECHO";e["Activate"]="ACTIVATE";e["Discard"]="DISCARD";e["Unlock"]="UNLOCK";return e}({});n.Activity=a;function i(e){const t=["Dr.","Prof.","Prof. Dr.","B.A.","MBA","Ph.D."];t.forEach(function(t){e=e.replace(t,"")});let n;const r=e.trimStart().split(" ");if(r.length>1){n=(r?.shift()?.charAt(0)||"")+r.pop()?.charAt(0)}else{n=e.substring(0,2)}return n.toUpperCase()}function s(e,t,n){const r=t.find(t=>t.id===e);if(r){return r.color}else{for(let e=1;e<=10;e++){if(t.findIndex(t=>t.color===`Accent${e}`)===-1&&n.findIndex(t=>t.color===`Accent${e}`)===-1){return`Accent${e}`}}return"Accent10"}}function c(t){if(t.isA("sap.fe.core.AppComponent")){return t}const n=e.getOwnerComponentFor(t);if(!n){return t}else{return c(n)}}function l(e){const t=e.getShellServices();let n,o,a;if(t?.hasUShell()){n=t.getUserInitials();o=t.getUser().getId();a=t.getUser().getFullName()}else if(window.adt){o=window.adt.userID;a=window.adt.userName;n=i(a)}else{throw"No Shell... No User"}return{initials:n,id:o,name:u("C_COLLABORATIONDRAFT_ME",a),initialName:a,color:"Accent6",me:true,status:r.CurrentlyEditing}}function u(e){const n=t.getResourceBundleFor("sap.fe.core");for(var r=arguments.length,o=new Array(r>1?r-1:0),a=1;a<r;a++){o[a-1]=arguments[a]}return n.getText(e,o)}n.getText=u;const d={formatInitials:i,getUserColor:s,getMe:l,getAppComponent:c,getText:u};n.CollaborationUtils=d;async function f(e){const t=e.getModel();const n=t.getMetaModel();const r=n.getMetaPath(e.getPath());const o=n.getObject(`${r}@com.sap.vocabularies.Common.v1.DraftRoot/ShareAction`);const a=t.bindContext(`${o}(...)`,e);a.setParameter("Users",[]);a.setParameter("ShareAll",true);a.setParameter("IsDeltaUpdate",true);a.setParameter("If-Match","*");return a.invoke(undefined,true)}n.addSelf=f;async function g(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];let n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:"$auto.Workers";const r=e.getModel();const o=r.getMetaModel();const a=o.getMetaPath(e.getPath());const i=o.getObject(`${a}@com.sap.vocabularies.Common.v1.DraftRoot/ShareAction`);const s=r.bindContext(`${i}(...)`,e);s.setParameter("Users",t);s.setParameter("ShareAll",true);return s.invoke(n,true)}n.shareObject=g;function C(e){return e.substring(e.lastIndexOf("(")+1,e.lastIndexOf(")"))}n.getActivityKeyFromPath=C;const h="_CollaborationDraft_";n.CollaborationFieldGroupPrefix=h;return n},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/controllerextensions/dialog/ODataStrictDialog", ["sap/fe/base/ClassSupport","sap/fe/core/buildingBlocks/BuildingBlock","sap/m/Bar","sap/m/Button","sap/m/Dialog","sap/m/Title","sap/ui/core/Lib","sap/fe/base/jsx-runtime/jsx"],function(e,t,r,i,n,o,a,u){"use strict";var l,s,c,p,b,g,f,d,m,h,y,B,z,w,v,D,j,O,P,x,q,E,T;var C={};var H=e.property;var M=e.defineUI5Class;var N=e.defineReference;function _(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function k(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,S(e,t)}function S(e,t){return S=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},S(e,t)}function R(e,t,r,i,n){var o={};return Object.keys(i).forEach(function(e){o[e]=i[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer?(Object.defineProperty(e,t,o),null):o}function W(e,t){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}const I=a.getResourceBundleFor("sap.fe.macros");let L=(l=M("sap.fe.core.controllerextensions.dialog.OperationsDialog"),s=H({type:"string",required:true}),c=H({type:"string"}),p=H({type:"object",required:true}),b=N(),g=H({type:"string",required:true}),f=H({type:"string",required:true}),d=H({type:"object",required:true}),m=H({type:"function",required:true}),h=H({type:"function",required:true}),y=H({type:"function",required:true}),l(B=(z=function(e){function t(t){var r;r=e.call(this,t)||this;_(r,"id",w,r);_(r,"title",v,r);_(r,"messageObject",D,r);_(r,"operationsDialog",j,r);_(r,"actionName",O,r);_(r,"cancelButtonTxt",P,r);_(r,"messageDialogModel",x,r);_(r,"onBeginButtonPress",q,r);_(r,"onEndButtonPress",E,r);_(r,"onClose",T,r);return r}C=t;k(t,e);var a=t.prototype;a.open=function e(){this.createContent();this.operationsDialog.current?.open()};a.getBeginButton=function e(){return new i({press:()=>{this.onBeginButtonPress?.();this.messageDialogModel.setData({});this.close()},type:"Emphasized",text:this.actionName})};a.close=function e(){this.operationsDialog.current?.close();this.onClose?.()};a.getTitle=function e(){const t=I.getText("M_WARNINGS");return new o({text:t})};a.cancelHandler=function e(){this.onEndButtonPress?.();this.messageDialogModel.setData({});this.close()};a.getEndButton=function e(){return new i({press:()=>{this.cancelHandler()},text:this.cancelButtonTxt})};a.createContent=function e(){return u(n,{id:this.id,ref:this.operationsDialog,resizable:true,content:this.messageObject.messageView,state:"Warning",customHeader:new r({contentLeft:[this.messageObject.oBackButton],contentMiddle:[this.getTitle()]}),contentHeight:"50%",contentWidth:"50%",verticalScrolling:false,beginButton:this.getBeginButton(),endButton:this.getEndButton(),escapeHandler:this.cancelHandler.bind(this)})};return t}(t),w=R(z.prototype,"id",[s],{configurable:true,enumerable:true,writable:true,initializer:null}),v=R(z.prototype,"title",[c],{configurable:true,enumerable:true,writable:true,initializer:function(){return"Dialog Standard Title"}}),D=R(z.prototype,"messageObject",[p],{configurable:true,enumerable:true,writable:true,initializer:null}),j=R(z.prototype,"operationsDialog",[b],{configurable:true,enumerable:true,writable:true,initializer:null}),O=R(z.prototype,"actionName",[g],{configurable:true,enumerable:true,writable:true,initializer:null}),P=R(z.prototype,"cancelButtonTxt",[f],{configurable:true,enumerable:true,writable:true,initializer:null}),x=R(z.prototype,"messageDialogModel",[d],{configurable:true,enumerable:true,writable:true,initializer:null}),q=R(z.prototype,"onBeginButtonPress",[m],{configurable:true,enumerable:true,writable:true,initializer:null}),E=R(z.prototype,"onEndButtonPress",[h],{configurable:true,enumerable:true,writable:true,initializer:null}),T=R(z.prototype,"onClose",[y],{configurable:true,enumerable:true,writable:true,initializer:null}),z))||B);C=L;return C},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/controllerextensions/editFlow/NotApplicableContextDialog", ["sap/fe/core/templating/EntityTypeHelper","sap/m/Button","sap/m/CustomListItem","sap/m/Dialog","sap/m/HBox","sap/m/List","sap/m/Text","sap/m/VBox","sap/fe/base/jsx-runtime/jsx","sap/fe/base/jsx-runtime/Fragment","sap/fe/base/jsx-runtime/jsxs"],function(e,t,i,s,n,o,r,l,a,h,c){"use strict";var p={};var u=e.getTitleExpression;let d=function(){function e(e){this.title=e.title;this.resourceModel=e.resourceModel;this.entityType=e.entityType;this.applicableContexts=e.applicableContexts;this.notApplicableContexts=e.notApplicableContexts;this._shouldContinue=false;this.actionName=e.actionName;this.entitySetName=e.entitySet;this._dialog=this.createDialog();this._processingPromise=new Promise(e=>{this._fnResolve=e})}p=e;var d=e.prototype;d.onAfterClose=function e(){this._fnResolve(this._shouldContinue);this._dialog.destroy()};d.onContinue=function e(){this._shouldContinue=true;this._dialog.close()};d.open=async function e(t){t.addDependent(this._dialog);this._dialog.open();return this._processingPromise};d.getDialog=function e(){return this._dialog};d.createDialog=function e(){let p=this.actionName;p=p?.includes(".")?p?.split(".")[p?.split(".").length-1]:p;const d=p&&this.entitySetName?`${this.entitySetName}|${p}`:"";const T=this.notApplicableContexts?.length+this.applicableContexts.length;return a(s,{state:"Warning",showHeader:true,resizable:true,verticalScrolling:true,horizontalScrolling:true,class:"sapUiContentPadding",title:this.getTitleText(this.title),afterClose:this.onAfterClose.bind(this),children:{beginButton:a(t,{text:this.resourceModel.getText("C_ACTION_PARTIAL_FRAGMENT_SAPFE_CONTINUE_ANYWAY",undefined,d),press:this.onContinue.bind(this),type:"Emphasized"}),endButton:a(t,{text:this.resourceModel.getText("C_COMMON_SAPFE_CLOSE"),press:()=>this._dialog.close()}),content:c(h,{children:[a(l,{children:a(r,{text:this.notApplicableContexts.length===1?this.resourceModel.getText("C_ACTION_PARTIAL_FRAGMENT_SAPFE_BOUND_ACTION",[this.notApplicableContexts.length,T],d):this.resourceModel.getText("C_ACTION_PARTIAL_FRAGMENT_SAPFE_BOUND_ACTION_PLURAL",[this.notApplicableContexts.length,T],d),class:"sapUiTinyMarginBegin sapUiTinyMarginTopBottom"})}),a(o,{headerText:this.entityType.annotations.UI?.HeaderInfo?.TypeNamePlural,showSeparators:"None",children:{items:this.notApplicableContexts.map(e=>{const t=u(this.entityType);const s=a(i,{children:a(n,{justifyContent:"Start",children:a(r,{text:t,class:"sapUiTinyMarginBegin sapUiTinyMarginTopBottom"})})});s.setBindingContext(e);return s})}})]})}})};d.getTitleText=function e(t){const i="ACTION_PARAMETER_DIALOG_ACTION_TITLE";const s="C_OPERATIONS_ACTION_PARAMETER_DIALOG_TITLE";return this.getOverriddenText(i,s,t)};d.getOverriddenText=function e(t,i,s){let n=this.actionName?.split("(")[0];n=n?.split(".").pop()??n;const o=n&&this.entitySetName?`${this.entitySetName}|${n}`:"";if(s){if(this.resourceModel.checkIfResourceKeyExists(`${t}|${o}`)){return this.resourceModel.getText(t,undefined,o)}else if(this.resourceModel.checkIfResourceKeyExists(`${t}|${this.entitySetName}`)){return this.resourceModel.getText(t,undefined,`${this.entitySetName}`)}else if(this.resourceModel.checkIfResourceKeyExists(`${t}`)){return this.resourceModel.getText(t)}else{return s}}else{return this.resourceModel.getText(i)}};return e}();p=d;return p},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/controllerextensions/editFlow/TransactionHelper", ["sap/base/Log","sap/fe/core/CommonUtils","sap/fe/core/UIProvider","sap/fe/core/controllerextensions/BusyLocker","sap/fe/core/controllerextensions/editFlow/draft","sap/fe/core/controllerextensions/editFlow/editFlowConstants","sap/fe/core/controllerextensions/editFlow/sticky","sap/fe/core/controllerextensions/messageHandler/messageHandling","sap/fe/core/converters/MetaModelConverter","sap/fe/core/converters/annotations/DataField","sap/fe/core/helpers/DeleteHelper","sap/fe/core/helpers/FPMHelper","sap/fe/core/helpers/MetaModelFunction","sap/fe/core/helpers/ModelHelper","sap/fe/core/helpers/PromiseKeeper","sap/fe/core/helpers/SemanticKeyHelper","sap/fe/core/helpers/ToES6Promise","sap/fe/core/helpers/TypeGuards","sap/fe/core/library","sap/m/Button","sap/m/Dialog","sap/m/MessageBox","sap/m/MessageToast","sap/m/Popover","sap/m/Text","sap/m/VBox","sap/ui/core/Lib","sap/ui/core/Messaging","sap/ui/core/message/MessageType","../../ActionRuntime","./operations/ODataOperation","./operations/Operation","./operations/actionHelper"],function(e,t,n,a,o,i,r,s,c,l,d,g,u,f,p,h,C,m,D,y,w,E,b,M,x,A,v,P,T,O,I,S,_){"use strict";var N=m.isNavigationProperty;var B=m.isFulfilled;var L=m.isAction;var R=u.getCreatePopupFields;var F=l.isDataFieldForAction;var k=n.getCoreUIFactory;const H=D.CreationMode;const $=D.ProgrammingModel;const U=d.DeleteOptionTypes;const j=d.DeleteDialogContentControl;function W(e){if(e&&e.getMetadata&&e.getMetadata().getName()==="sap.ui.base.Event"){e={}}return e||{}}let G=function(){function n(){}var l=n.prototype;l.busyLock=function e(t,n){a.lock(t.getModel("ui"),n)};l.busyUnlock=function e(t,n){a.unlock(t.getModel("ui"),n)};l.getProgrammingModel=function e(t){let n;if(t.isA("sap.ui.model.odata.v4.Context")){n=t.getPath()}else{n=(t.isRelative()?t.getResolvedPath():t.getPath())??""}const a=t.getModel()?.getMetaModel();if(a&&f.isDraftSupported(a,n)){return $.Draft}else if(a&&f.isStickySessionSupported(a)){return $.Sticky}else{return $.NonDraft}};l.validateDocument=async function e(t,n,a){const o=n&&n.customValidationFunction;if(o){const e=o.substring(0,o.lastIndexOf(".")||-1).replace(/\./gi,"/"),i=o.substring(o.lastIndexOf(".")+1,o.length),r=n.data;delete r["@$ui5.context.isTransient"];return g.validationWrapper(e,i,r,a,t)}return Promise.resolve([])};l.getDataFromDefaultValueFunction=async function e(t,n){const a=t.getModel();const o=a.getMetaModel();const i=o.getMetaContext(t.getResolvedPath());const r=c.getInvolvedDataModelObjects(i);const s=r.targetObject.annotations.Common?.DefaultValuesFunction;const l=r.targetEntitySet?.annotations.Common?.DefaultValuesFunction;const d=(s??l)?.toString();if(!d){return undefined}const g=N(r.targetObject)&&s!==undefined;let u;if(g){const e=t.getPath();const n=t.getContext();if(e?.startsWith("/")){u=n}else if(e&&n&&e.includes("/")){const t=e.split("/")[0];const o=`${n.getPath()}/${t}`;u=a.bindContext(o).getBoundContext()}else{u=n}}else{u=t.getHeaderContext()}if(!u){return undefined}const f=S.getOperationFromName(d,a,u)??S.getOperationFromName(d,a);if(!f){return undefined}const p=L(f);const h=await new I(f,{appComponent:n,model:a,contexts:p?[u]:[]},{enhance$select:false,groupId:p?"functionGroup":"functionImport"}).execute();return h.filter(B)[0]?.value.boundContext.getObject()};l.isListBindingHierarchical=function e(t){return t.getAggregation()?.hierarchyQualifier?true:false};l.isListBindingAnalytical=function e(t){const n=t.getAggregation();return n!==undefined&&!n.hierarchyQualifier};l.createContext=async function e(t,n,a){const o=n??{};if(this.isListBindingHierarchical(t)){let e;if(a.parentContext?.isExpanded()===false){await t.expand(a.parentContext)}if(t.isRelative()){Object.assign(o,{"@$ui5.node.parent":a.parentContext});e=t}else{const n=t.getModel();const i=n.getMetaModel();e=n.bindList(t.getPath(),undefined,undefined,undefined,{$$groupId:t.getGroupId(),$$updateGroupId:t.getUpdateGroupId()});if(a.parentContext){const e=c.getInvolvedDataModelObjects(i.getMetaContext(t.getPath()));const n=t.getAggregation().hierarchyQualifier;const r=e.targetEntityType.annotations.Aggregation?.[`RecursiveHierarchy#${n}`]?.ParentNavigationProperty.value;if(!r){throw new Error(`Cannot find parent navigation property for ${t.getPath()}`)}const s={};s[`${r}@odata.bind`]=a.parentContext.getPath().replace(/^\//,"");Object.assign(o,s)}}return e.create(o,true)}else if(this.isListBindingAnalytical(t)){if(t.isRelative()){throw new Error("Creating a new document in a analytical table is supported only in a ListReport")}else{const e=t.getModel();const n=e.bindList(t.getPath(),undefined,undefined,undefined,{$$groupId:t.getGroupId(),$$updateGroupId:t.getUpdateGroupId()});return n.create(o,true)}}else{return t.create(o,true,a.createAtEnd,a.createInactive)}};l.getCreationParameters=function e(t,n,a){const o=t.getModel().getMetaModel();const i=o.getMetaPath(t.getHeaderContext().getPath());const r=R(o,i,a);return r.filter(e=>!(e in(n??{})))};l.createDocument=async function e(t,n,a,o,i,r,s){let c;const l=W(n);if(!t){throw new Error("Binding required for new document creation")}const d=this.getProgrammingModel(t);if(d!==$.Draft&&d!==$.Sticky){throw new Error("Create document only allowed for draft or sticky session supported services")}const g=this.getBusyPath(l);l.beforeCreateCallBack=r?undefined:l.beforeCreateCallBack;if(!n?.inactive){this.busyLock(a,g)}const u=i.registerToHoldMessages();try{c=await this.performCreation(t,l,a,i,o,r,s);await i.showMessageDialog({control:l.parentControl,unHoldKey:u});return c}catch(e){await i.showMessageDialog({control:l.parentControl,unHoldKey:u});if((e===D.Constants.ActionExecutionFailed||e===D.Constants.CancelActionDialog)&&c?.isTransient()){c.delete("$direct")}throw e}finally{if(!n?.inactive){this.busyUnlock(a,g)}}};l.getBusyPath=function e(t){return t.busyMode==="Local"?`/busyLocal/${t.busyId}`:"/busy"};l.createDocumentContext=async function n(a,o){if(o.beforeCreateCallBack){const t=o.data?Object.entries(o.data).map(e=>{let[t,n]=e;return{[t]:n}}):[];try{await C(o.beforeCreateCallBack({contextPath:a&&a.getPath(),createParameters:t}))}catch(t){e.error(t);throw D.Constants.OnBeforeCreateFailed}o.data=t.reduce((e,t)=>({...e,...t}),{})}const i=this.createContext(a,o.data,{createAtEnd:!!o.createAtEnd,createInactive:!!o.inactive,parentContext:o.parentContext});if(a.getUpdateGroupId()===t.INLINEEDIT_UPDATEGROUPID){a.getModel().submitBatch(t.INLINEEDIT_UPDATEGROUPID)}return i};l.performCreation=async function e(t,n,a,o,i,r,s){const c=t.getModel().getMetaModel();const l=c.getMetaPath(t.getHeaderContext().getPath());const d=a.getRouterProxy().getHash();const g=a.getComponentData();const u=g?.startupParameters??{};const f=!t.isRelative()?this._getNewAction(u,d,c,l):undefined;if(f){const e=await this.performCreationWithAction(f,t,n,a,i,o);if(e.status==="rejected"){throw e.reason}return e.value.returnedContext}else{return this.performCreationWithPOST(t,n,a,i,o,r,s)}};l.performCreationWithAction=async function e(t,n,a,o,i,r){const s=n.getHeaderContext().getPath();const c=n.getModel().getMetaModel();const l=c.getMetaPath(s);const d=f.getMessagesPath(c,l);const g={$$patchWithoutSideEffects:true,$$updateGroupId:"$auto"};const u=[];if(d){u.push(d)}if(this.getProgrammingModel(n)===$.Draft){u.push("IsActiveEntity","HasDraftEntity","HasActiveEntity")}if(u.length>0){g["$select"]=u.join(",")}const p=await this.callAction(t,{contexts:n.getHeaderContext(),showActionParameterDialog:true,label:this._getSpecificCreateActionDialogLabel(c,l,t,i),bindingParameters:g,view:a.parentControl,isCreateAction:true,skipParameterDialog:a.skipParameterDialog},o,r);return p[0]};l.performCreationWithPOST=async function t(n,a,o,i,r,s,c){try{let e;const t=a.data;if(!s){let e=c;if(e===undefined){e=await this.getDataFromDefaultValueFunction(n,o)}a.data=Object.assign({},e,a.data)}if(a.data){delete a.data["@odata.context"]}const l=a.creationMode!==H.CreationRow&&a.creationMode!==H.Inline;const d=l?this.getCreationParameters(n,t,o):[];if(a.creationMode===H.CreationDialog){a.creationDialogFields?.forEach(e=>{if(!d.includes(e)){d.push(e)}});if(d.length===0){throw new Error("No fields available for the creation dialog")}}if(d.length>0){e=await this.createWithDialog(n,d,a,o,i,r);if(this.isListBindingAnalytical(n)){this.refreshListBinding(n,o)}}else{e=await this.createDocumentContext(n,a);if(!a.inactive){await this.waitForCreateCompletion(e,a.keepTransientContextOnFailed===true)}}return e}catch(t){const n=t.message??t;e.error("Error while creating the new document",n);throw n}};l._isDraftEnabled=function e(t){const n=t[0];const a=this.getProgrammingModel(n);return a===$.Draft};l.deleteDocument=async function e(t,n,a,o,i){this.busyLock(a);const r=Array.isArray(t)?[...t]:[t];const c=(n.selectedContexts??r)[0];try{const e=this._isDraftEnabled(n.selectedContexts||r);const t=[];let l=[];let g;if(n){n=W(n);n.entitySetName=this.getCollectionNameFromContext(c);if(!n.numberOfSelectedContexts){if(e){const e=r.find(e=>{const t=e.getObject();return t.IsActiveEntity===true&&t.HasDraftEntity===true&&t.DraftAdministrativeData&&t.DraftAdministrativeData.InProcessByUser&&!t.DraftAdministrativeData.DraftIsCreatedByMe});if(e){await this.showDeleMessageLockedObjet(e,o);return false}else{g=r.find(e=>{const{IsActiveEntity:t,HasDraftEntity:n,DraftAdministrativeData:a}=e.getObject()||{};return t===true&&n===true&&!!a?.InProcessByUser})}}let t="";if(g){const e=g.getObject().DraftAdministrativeData.InProcessByUser;t=o.getText("C_TRANSACTION_HELPER_CONFIRM_DELETE_WITH_UNSAVED_CHANGES",[e],n.entitySetName)}else if(n.title){if(n.description){t=o.getText("C_TRANSACTION_HELPER_CONFIRM_DELETE_WITH_OBJECTINFO",[n.title,n.description],n.entitySetName)}else{t=o.getText("C_TRANSACTION_HELPER_CONFIRM_DELETE_WITH_OBJECTTITLE_ONLY",[n.title],n.entitySetName)}}else{t=o.getText("C_TRANSACTION_HELPER_CONFIRM_DELETE_WITH_OBJECTTITLE_SINGULAR",undefined,n.entitySetName)}l.push({type:U.deletableContexts,contexts:r,text:t,selected:true,control:j.TEXT})}else{let a=r.length;if(e){a+=(n.draftsWithNonDeletableActive?.length??0)+(n.draftsWithDeletableActive?.length??0)+(n.unSavedContexts?.length??0);d.updateDraftOptionsForDeletableTexts(n,r,a,o,t,l)}else{const e=d.getNonDeletableText(n,a,o);if(e){t.push(e)}}const i=d.getOptionsForDeletableTexts(n,r,o);l=[...l,...i]}}const u=c.getBinding();let f;if(u.isA("sap.ui.model.odata.v4.ODataListBinding")){if(this.isListBindingHierarchical(u)){f="Tree"}else if(this.isListBindingAnalytical(u)){f="Analytical"}}d.updateContentForDeleteDialog(l,t);if(n.noDialog!==true&&n.silentMode!==true){const e=await this.showDeleteConfirmationDialog(t,n,o);if(!e){return false}}s.removeBoundTransitionMessages();await d.deleteConfirmHandler(l,n,i,o,a,e,f);return true}finally{this.busyUnlock(a)}};l.showDeleMessageLockedObjet=async function e(t,n){const a=t.getObject().DraftAdministrativeData.InProcessByUser;const o=new p;E.show(n.getText("C_TRANSACTION_HELPER_CONFIRM_DELETE_WITH_SINGLE_OBJECT_LOCKED",[a]),{title:n.getText("C_COMMON_DELETE"),onClose:()=>{o.resolve()}});return o.promise};l.showDeleteConfirmationDialog=async function e(t,n,a){const o=new p;const i=this.createDeleteDialog(t,n,a,o);i.addStyleClass("sapUiContentPadding");i.open();return o.promise};l.createDeleteDialog=function e(t,n,a,o){let i=false;const r=new A({items:t});const s=v.getResourceBundleFor("sap.fe.core");let c;if(n.parentControl?.isA("sap.ui.mdc.Table")){c=a.getText("M_COMMON_TABLE_DELETE",undefined,n.entitySetName)}else{c=s.getText("C_COMMON_DELETE")}const l=new w({title:c,state:"Warning",content:[r],ariaLabelledBy:t,beginButton:new y({text:c,type:"Emphasized",press:function(){i=true;l.close()}}),endButton:new y({text:a.getText("C_COMMON_DIALOG_CANCEL"),press:function(){l.close()}}),afterClose:function(){l.destroy();o.resolve(i)}});return l};l.editDocument=async function e(t,n,a,i,s,c){const l=this.getProgrammingModel(t);if(!t){throw new Error("Binding context to active document is required")}if(l!==$.Draft&&l!==$.Sticky){throw new Error("Edit is only allowed for draft or sticky session supported services")}this.busyLock(a);i.removeTransitionMessages();const d=i.registerToHoldMessages();try{const e=l===$.Draft?await o.createDraftFromActiveDocument(t,a,{bPreserveChanges:true,oView:n},s,i,c):await r.editDocumentInStickySession(t,a,i);await i.showMessageDialog({unHoldKey:d});return e}catch(e){await i.showMessages({concurrentEditFlag:true,unHoldKey:d});throw e}finally{this.busyUnlock(a)}};l.prepareSiblingContext=function e(t){const n=t.getModel();const a=n.getMetaModel();const o=t.getPath();const i=h.getSemanticKeys(a,a.getMetaContext(o).getObject("@sapui.name"));if(i&&i.length){const e=i.map(e=>e.$PropertyPath);return n.bindContext(`${o}/SiblingEntity`,undefined,{$select:e}).getBoundContext()}const r=a.getMetaPath(o);const s=a.getObject(`${r}/SiblingEntity/`)["$Key"];return n.bindContext(`${o}/SiblingEntity`,undefined,{$select:s}).getBoundContext()};l.cancelDocument=async function e(t,n,a,i,s,c,l){if(!t){throw new Error("No context exists. Pass a meaningful context")}const d=W(n);const g=t.getModel();const u=this.getProgrammingModel(t);if(u!==$.Draft&&u!==$.Sticky){throw new Error("Cancel document only allowed for draft or sticky session supported services")}this.busyLock(a);try{let e;let n,f,p,h;if(u===$.Draft&&!l){n=this.prepareSiblingContext(t);const e=g.bindContext(t.getPath(),undefined,{$select:["DraftAdministrativeData/CreationDateTime","DraftAdministrativeData/LastChangeDateTime"]}).getBoundContext();[f,p,h]=await Promise.all([c?undefined:n?.requestCanonicalPath(),e.requestObject(),c?undefined:n?.requestObject()]);if(p){l=p.DraftAdministrativeData?.CreationDateTime!==p.DraftAdministrativeData?.LastChangeDateTime}}if(!d.skipDiscardPopover){await this._confirmDiscard(d.cancelButton,l,i)}if(t.isKeepAlive()){t.setKeepAlive(true,undefined)}if(d.beforeCancelCallBack){await d.beforeCancelCallBack({context:t})}if(u===$.Draft){if(c){if(t.hasPendingChanges()){t.getBinding().resetChanges()}await o.deleteDraft(t,s,a)}else{try{if(t.hasPendingChanges()){t.getBinding().resetChanges()}n=n??this.prepareSiblingContext(t);[f,h]=await Promise.all([n?.requestCanonicalPath(),n?.requestObject()]);e=f?g.bindContext(f).getBoundContext():undefined}finally{await o.deleteDraft(t,s,a)}}}else{const n=await r.discardDocument(t);if(n){if(n.hasPendingChanges()){n.getBinding().resetChanges()}if(!c){n.refresh();e=n}}}s.removeTransitionMessages();await s.showMessages();return{activeContext:e,activeContextData:h}}catch(e){await s.showMessages();throw e}finally{this.busyUnlock(a)}};l.saveDocument=async function e(n,a,i,c,l,d,g){let u=arguments.length>7&&arguments[7]!==undefined?arguments[7]:false;let f=arguments.length>8?arguments[8]:undefined;const p=this.getProgrammingModel(n);if(p!==$.Sticky&&p!==$.Draft){throw new Error("Save is only allowed for draft or sticky session supported services")}try{this.busyLock(a);const e=this.getCollectionNameFromContext(n);const t=p===$.Draft?await o.activateDocument(n,a,d,{resourceModel:i},f):await r.activateDocument(n,a,d,{resourceModel:i},f);const c=s.getMessages().concat(s.getMessages(true,true));if(!u&&!(c.length===1&&c[0].getType()===T.Success)){b.show(g?i.getText("C_TRANSACTION_HELPER_OBJECT_CREATED",undefined,e):i.getText("C_TRANSACTION_HELPER_OBJECT_SAVED",undefined,e))}return t}catch(e){if(c&&l?.length>0){l.forEach(e=>{if(!t.hasTransientContext(e)){a.getSideEffectsService().requestSideEffectsForNavigationProperty(e.getPath(),n)}})}await d.showMessages();throw e}finally{this.busyUnlock(a)}};l.callAction=async function e(t,n,a,o){n=W(n);let i;let r;if(!t){throw new Error("Provide name of action to be executed")}const s=t.split("/")[1];i=s?undefined:n.contexts;if(i&&(Array.isArray(i)&&i.length||!Array.isArray(i))){i=Array.isArray(i)?i[0]:i;r=i.getModel()}if(n.model){r=n.model}if(!r){throw new Error("Pass a context for a bound action or pass the model for an unbound action")}try{const e=n.controlId?n.view.byId(n.controlId):n.view;let s;if(i&&n.contexts){const i=Array.isArray(n.contexts)?n.contexts:[n.contexts];const c=S.getOperationFromName(t,r,i[0]);if(!L(c)){throw new Error("Unknown bound action")}s=await new S(a,r,c,{parameterValues:n.parameterValues,contexts:i,invocationGrouping:n.invocationGrouping,label:n.label,skipParameterDialog:n.skipParameterDialog,bindingParameters:n.bindingParameters,entitySetName:n.entitySetName,oDataProperties:{ghostContextBindingProtection:true,enhance$select:true,groupId:n.groupId,ignoreETag:n.ignoreETag},oDataEvents:{onODataSubmit:()=>{o?.removeTransitionMessages();this.busyLock(a)},onODataResponse:()=>{this.busyUnlock(a)},onRequestSideEffects:()=>{this.handleActionEnablementOnOperation({internalModelContext:n.internalModelContext,operationAvailableMap:n.operationAvailableMap,control:e,contexts:i,convertedAction:c})}},view:n.view,isCreateAction:n.isCreateAction,messageHandler:o,defaultValuesExtensionFunction:n.defaultValuesExtensionFunction}).execute()}else{const e=S.getOperationFromName(t,r);if(!e||L(e)){throw new Error("Unknown action import")}s=await new S(a,r,e.action,{parameterValues:n.parameterValues,label:n.label,skipParameterDialog:n.skipParameterDialog,bindingParameters:n.bindingParameters,entitySetName:n.entitySetName,oDataEvents:{onODataSubmit:()=>{this.busyLock(a)},onODataResponse:()=>{this.busyUnlock(a)}},oDataProperties:{ignoreETag:n.ignoreETag},messageHandler:o,view:n.view}).execute()}if(o){this._handleActionResponse(n,t)}return s}catch(e){if(o){this._handleActionResponse(n,t)}throw e}};l.getCollectionNameFromContext=function e(t){const n=t.getModel().getMetaModel().getMetaContext(t.getPath());return c.getInvolvedDataModelObjects(n).targetObject?.name};l.handleActionEnablementOnOperation=function e(t){if(t.internalModelContext&&t.operationAvailableMap){let e=[];if(!_.isStaticAction(t.convertedAction)){e=t.internalModelContext.getProperty("selectedContexts")||[];O.setActionEnablement(t.internalModelContext,JSON.parse(t.operationAvailableMap),e,"table")}else if(t.control){if(t.control.isA("sap.ui.mdc.Table")){e=t.control.getSelectedContexts();O.setActionEnablement(t.internalModelContext,JSON.parse(t.operationAvailableMap),e,"table")}}d.updateDeleteInfoForSelectedContexts(t.internalModelContext,e)}};l._handleActionResponse=function e(t,n){const a=s.getMessages(true,true);if(a.length>0&&t&&t.internalModelContext){t.internalModelContext.setProperty("sActionName",t.label?t.label:n)}};l.handleValidationError=function e(){const t=P.getMessageModel().getData().filter(e=>e.validation);P.removeMessages(t)};l._createPopover=function e(t){return new M(t)};l._confirmDiscard=async function e(t,n,a){if(!n){this.handleValidationError();return Promise.resolve()}t.setEnabled(false);return new Promise((e,n)=>{const o=this._createPopover({showHeader:false,placement:"Top"});o.addStyleClass("sapUiContentPadding");const i=new x({id:"DraftDiscardMessage",text:a.getText("C_TRANSACTION_HELPER_DRAFT_DISCARD_MESSAGE")});const r=new y({text:a.getText("C_TRANSACTION_HELPER_DRAFT_DISCARD_BUTTON"),width:"100%",press:()=>{this.handleValidationError();o.data("continueDiscard",true);o.close()}});r.addAriaLabelledBy(i);o.addContent(new A({items:[i,r]}));o.attachBeforeOpen(()=>{o.setInitialFocus(r)});o.attachAfterClose(()=>{o.destroyContent();t.setEnabled(true);if(o.data("continueDiscard")){e()}else{n(D.Constants.CancelDiscardDraft)}});o.openBy(t,false)})};l.refreshListBinding=async function t(n,a){try{if(n.isRoot()){if(this.isListBindingHierarchical(n)){await a.getSideEffectsService().requestSideEffects([{$NavigationPropertyPath:""}],n.getHeaderContext())}else{await n.requestRefresh()}}else{await a.getSideEffectsService().requestSideEffects([{$NavigationPropertyPath:n.getPath()}],n.getContext())}}catch(t){e.error(`Error while refreshing list binding ${n.getPath()}`,t)}};l.createWithDialog=async function n(a,o,r,s,c,l){const d=a.getModel();const g=d.getMetaModel();const u=g.getMetaPath(a.getResolvedPath());const f=d.bindList(a.getPath(),a.getContext(),undefined,undefined,{$$updateGroupId:"submitLater"});f.refreshInternal=function(){};const h=f.create(r.data,true);const m=o.map(e=>g.createBindingContext(`${u}/${e}`));const y=k().newCreateDialog(h,o,s,r.creationMode===H.CreationDialog?"Standalone":"WithNavigation",r.parentControl);try{await t.setUserDefaults(s,m,h,false,r.createAction,r.data);y.openDialog()}catch(e){await l.showMessages();throw e}const w=new p;const E=async t=>{if(!t.getParameter("accept")){f.destroy();y.closeDialog();w.reject(D.Constants.CancelActionDialog);return}y.setBusy(true);r.bIsCreateDialog=true;try{const t=h.getObject();let n={};Object.keys(t).forEach(e=>{const a=g.getObject(`${u}/${e}`);if(a&&a.$kind!=="NavigationProperty"&&!e?.startsWith("@$ui5")){n[e]=t[e]}});if(r.beforeCreateCallBack){const t=Object.entries(n).map(e=>{let[t,n]=e;return{[t]:n}});try{await C(r.beforeCreateCallBack({contextPath:a.getPath(),createParameters:t}))}catch(t){e.error("Error while creating the new document",t);throw D.Constants.OnBeforeCreateFailed}n=t.reduce((e,t)=>({...e,...t}),{})}if(Object.keys(n).length>0){s.getModel("ui").setProperty(i.DocumentModified,true)}const o=await this.createContext(a,n,{createAtEnd:r.createAtEnd,createInactive:r.inactive,parentContext:r.parentContext});const d=await this.waitForCreateCompletion(o,r.keepTransientContextOnFailed===true);if(d){try{await(r.afterCreateCallBack?.(o))}catch(t){y.displayErrorMessages(P.getMessageModel().getData());await l.showMessageDialog({showBoundStateMessages:true});await this.deleteDocument(o,{silentMode:true},s,c,l);await this.refreshListBinding(a,s);e.error("Error while creating/saving the new document",t);throw D.Constants.CreationFailed}f.destroy();y.closeDialog();w.resolve(o)}}catch(e){if(![D.Constants.OnBeforeCreateFailed,D.Constants.CreationFailed].includes(e)){f.destroy();y.closeDialog();w.reject(e)}}finally{y.setBusy(false);l.showMessages({isOperationDialogOpen:y.isOpen()})}};y.attachExitDialog({},E);return w.promise};l.waitForCreateCompletion=async function t(n,a){const o=new p;const i=n.getBinding();const r=e=>{const t=e.getParameter("context");const a=e.getParameter("success");if(t===n){i.detachCreateCompleted(r);o.resolve(a===true)}};i.attachCreateCompleted(r);const s=await o.promise;if(!s){if(!a){(n.created()??Promise.resolve()).catch(function(t){e.trace("transient creation context deletion error",t)});i.resetChanges();i.getModel().resetChanges(i.getUpdateGroupId());throw D.Constants.CreationFailed}return false}else{await n.created();return true}};l._getNewAction=function e(t,n,a,o){let i;if(t&&t.preferredMode&&n.toUpperCase().includes("I-ACTION=CREATEWITH")){const e=t.preferredMode[0];i=e.toUpperCase().includes("CREATEWITH:")?e.substring(e.lastIndexOf(":")+1):undefined}else if(t&&t.preferredMode&&n.toUpperCase().includes("I-ACTION=AUTOCREATEWITH")){const e=t.preferredMode[0];i=e.toUpperCase().includes("AUTOCREATEWITH:")?e.substring(e.lastIndexOf(":")+1):undefined}else{i=a&&a.getObject!==undefined?a.getObject(`${o}@com.sap.vocabularies.Session.v1.StickySessionSupported/NewAction`)||a.getObject(`${o}@com.sap.vocabularies.Common.v1.DraftRoot/NewAction`):undefined}return i};l._getSpecificCreateActionDialogLabel=function e(t,n,a,o){const i=t?.getObject(`${n}/@com.sap.vocabularies.UI.v1.LineItem`);const r=i?.find(e=>F(e)&&e.Action.split("(",1)[0]===a)?.Label;return r||t?.getObject(`${n}/${a}@com.sap.vocabularies.Common.v1.Label`)||o?.getText("C_TRANSACTION_HELPER_SAPFE_ACTION_CREATE")};return n}();const V=new G;return V},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/controllerextensions/editFlow/draft", ["sap/base/Log","sap/base/util/isEmptyObject","sap/fe/core/CommonUtils","sap/fe/core/controllerextensions/editFlow/draftDataLossPopup","sap/fe/core/controllerextensions/messageHandler/messageHandling","sap/fe/core/converters/MetaModelConverter","sap/fe/core/helpers/ResourceModelHelper","sap/fe/core/helpers/TypeGuards","sap/m/Button","sap/m/Dialog","sap/m/MessageBox","sap/m/Text","sap/ui/core/Lib","../../helpers/ModelHelper","./operations/Operation"],function(e,t,n,o,r,a,i,s,c,d,u,f,g,l,h){"use strict";var p=s.isPathAnnotationExpression;var E=i.getResourceModel;var P=a.getInvolvedDataModelObjects;var A=a.convertTypes;const m={EDIT:"EditAction",ACTIVATION:"ActivationAction",DISCARD:"DiscardAction",PREPARE:"PreparationAction"};function w(e,t){const n=e.getModel(),o=n.getMetaModel(),r=o.getMetaPath(e.getPath());return o.getObject(`${r}@com.sap.vocabularies.Common.v1.DraftRoot/${t}`)}function C(e,t,n){const o=w(e,t);return e.getModel().bindContext(`${o}(...)`,e,n)}function D(e,t){const n=w(e,t);const o=e.getModel().getMetaModel(),r=`${o.getMetaPath(e.getPath())}/${n}`,a=o.createBindingContext(r);return A(o).resolvePath(a.getPath()).target}function M(e,t){const n=e.getModel(),o=n.getMetaModel(),r=o.getMetaPath(e.getPath());return o.getObject(`${r}@com.sap.vocabularies.Common.v1.DraftRoot/${t}/$ReturnType`)}function v(e){return!!w(e,m.PREPARE)}async function x(e,o,r,a,i,s){const c=D(e,m.EDIT);if(c){const d=new h(n.getAppComponent(r),e.getModel(),c,{messageHandler:i,contexts:[e],label:E(r).getText("C_COMMON_OBJECT_PAGE_EDIT"),bindingParameters:{$$inheritExpandSelect:true,$$updateGroupId:"$auto"},skipMessages:true,oDataProperties:{disableSideEffects:true,ignoreETag:t(e.getObject()),groupId:a,replaceWithRVC:e.getBinding().isA("sap.ui.model.odata.v4.ODataListBinding"),deferredSubmit:s!==true}});d.setDefaultParametersValues({PreserveChanges:o});const u=await d.execute();if(u[0].status==="rejected"){const e=new Error(u[0].reason.message);e.status=u[0].reason.status;throw e}else{return u[0].value.returnedContext}}else{throw new Error("The edit action not found")}}async function b(t,n,o){if(l.getMessagesPath(t.getModel().getMetaModel(),t.getPath())&&F.hasPrepareAction(t)){try{if(!o&&!t.isKeepAlive()){await t.getBinding().requestObject("")}const e=F.executeDraftPreparationAction(t,t.getUpdateGroupId(),true,o);if(!M(t,m.PREPARE)){O(t,n.getSideEffectsService())}return await e}catch(t){e.error("Error while requesting messages",t)}}return undefined}async function y(t,n,o,r,a,i,s){const c=F.hasPrepareAction(t);const d=c;let u;if(!t.getProperty("IsActiveEntity")){const f=D(t,m.ACTIVATION);const g=s?i?.getText("T_OP_OBJECT_PAGE_SAVE"):i?.getText("C_OP_OBJECT_PAGE_SAVE");if(f){try{u=new h(n,t.getModel(),f,{messageHandler:o,contexts:[t],label:g,bindingParameters:{$$inheritExpandSelect:true},skipMessages:true,oDataProperties:{disableSideEffects:true,groupId:r,ignoreETag:d,replaceWithRVC:t.getBinding().isA("sap.ui.model.odata.v4.ODataListBinding")}});const e=await u.execute();if(e[0].status==="rejected"){throw new Error(e[0].reason)}else if(e[0].value.returnedContext===undefined){throw new Error("No context returned by the action")}return e[0].value.returnedContext}catch(o){if(c){const o=await a;o?.destroy();u?.clear();const r=w(t,m.PREPARE),i=n.getSideEffectsService(),s=i.getODataActionSideEffects(r,t),c=s&&s.pathExpressions;if(c&&c.length>0){try{await i.requestSideEffects(c,t)}catch(t){e.error("Error while requesting side effects",t)}}else{try{await O(t,i,true)}catch(t){e.error("Error while requesting messages",t)}}}throw o}}else{throw new Error("The activation action not found")}}else{throw new Error("The activation action cannot be executed on an active document")}}function T(e){return M(e,m.PREPARE)?S(e):undefined}function S(e){const t=e.getModel().getMetaModel().getMetaContext(e.getPath());const n=P(t);const o=n.targetEntityType.annotations.Common?.Messages;return p(o)?o.path:undefined}async function _(t,n,o,r){if(!t.getProperty("IsActiveEntity")){const a=o?T(t):undefined;const i=C(t,m.PREPARE,a?{$select:a}:undefined);i.setParameter("SideEffectsQualifier","");const s=n||i.getGroupId();return i.invoke(s,r).then(function(){return i}).catch(function(t){e.error("Error while executing the operation",t);return i})}else{throw new Error("The preparation action cannot be executed on an active document")}}async function O(e,t){let n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;const o=l.getMessagesPath(e.getModel().getMetaModel(),e.getPath());if(o){await t.requestSideEffects([o],e);if(n){const t=await e.requestObject();if(t[o].length>0){r.removeUnboundTransitionMessages();r.removeBoundTransitionMessages()}}}return}async function $(e,n,o,r){if(!e.getProperty("IsActiveEntity")){const a=D(e,m.DISCARD);if(a){const i=await new h(o,e.getModel(),a,{messageHandler:n,label:E(o)?.getText("C_TRANSACTION_HELPER_DRAFT_DISCARD_BUTTON")||"",contexts:[e],skipMessages:true,oDataProperties:{disableSideEffects:true,disableStrictHandling:!r,ignoreETag:t(e.getObject()),groupId:"direct",replaceWithRVC:undefined,deferredSubmit:false}}).execute();if(i[0].status==="rejected"){throw new Error(i[0].reason)}}else{throw new Error("The discard action not found")}}else{throw new Error("The discard action cannot be executed on an active document")}}async function R(t,n,o,r,a){let i=arguments.length>5&&arguments[5]!==undefined?arguments[5]:false;if(!n.getPath().startsWith(t.getPath())){e.error("Cannot compute rightmost sibling context");throw new Error("Cannot compute rightmost sibling context")}if(n.getProperty("IsActiveEntity")===false&&n.getProperty("HasActiveEntity")===false){return undefined}const s=t.getModel();try{const e=n.getPath().replace(t.getPath(),"");const c=e?e.substring(1).split("/"):[];c.unshift(t.getPath().substring(1));const d=[];const u=[];let f="";const g=[...c];if(o?.rootSiblingPathPromise){g.shift();f="/"+t?.getPath()?.substring(1)}const l=g.map(async e=>{f+=`/${e}`;d.unshift(f);if(f.endsWith(")")){const e=s.bindContext(`${f}/SiblingEntity`,undefined,r?{$$groupId:r}:undefined).getBoundContext();return e.requestCanonicalPath()}else{return Promise.resolve(undefined)}});const h=await Promise.all(l);if(h.some(e=>e&&e.endsWith("/SiblingEntity"))){return undefined}if(o?.rootSiblingPathPromise){const e=(await o.rootSiblingPathPromise)?.getPath();h.unshift(e);d.push(t.getPath())}let p="";h.forEach((e,t)=>{if(t!==0){if(c[t].endsWith(")")){const n=c[t].replace(/\(.*$/,"");const o=e.replace(/.*\(/,"(");p+=`/${n}${o}`}else{p+=`/${c[t]}`}}else{p=e}u.unshift(p)});let E;const P=S(n);if(i){E={$$groupId:"$auto.Workers"}}else{E=a??{};if(P){if(E.$select){E.$select+=`,${P}`}else{E.$select=P}}E.$$groupId="$auto.Heroes"}return{targetContext:i?s.getKeepAliveContext(p,!!P,E):s.bindContext(p,undefined,E).getBoundContext(),pathMapping:d.map((e,t)=>({oldPath:e,newPath:u[t]}))}}catch(e){return undefined}}async function I(e,t,o,a,i,s){const c=o||{},d=typeof c.bPreserveChanges==="undefined"||typeof c.bPreserveChanges==="boolean"&&c.bPreserveChanges;async function f(t){const n=e.getModel();const s=n.bindContext(`${e.getPath()}/DraftAdministrativeData`).getBoundContext();const c=E(o.oView);const d=await s.requestObject();if(d){r.removeUnboundTransitionMessages();let t=d.InProcessByUserDescription||d.InProcessByUser;const n=o.oView.getViewData().entitySet;if(t){const e=c.getText("C_DRAFT_OBJECT_PAGE_DRAFT_LOCKED_BY_USER",t,n);u.error(e);throw new Error(e)}else{t=d.CreatedByUserDescription||d.CreatedByUser;const r=c.getText("C_DRAFT_OBJECT_PAGE_DRAFT_UNSAVED_CHANGES",t,n);await F.showEditConfirmationMessageBox(r,e);return F.executeDraftEditAction(e,false,o.oView,a,i,true)}}else if(t?.message){u.error(t.message)}throw new Error(`Draft creation aborted for document: ${e.getPath()}`)}if(!e){throw new Error("Binding context to active document is required")}let g;try{g=await F.executeDraftEditAction(e,d,o.oView,a,i)}catch(o){if(o.status===409||o.status===423){r.removeBoundTransitionMessages();r.removeUnboundTransitionMessages();const a=l.isCollaborationDraftSupported(e.getModel().getMetaModel())?{$select:"DraftAdministrativeData/DraftAdministrativeUser"}:undefined;const i=await F.computeSiblingInformation(e,e,undefined,undefined,a,t._isFclEnabled());if(i?.targetContext){await n.waitForContextRequested(i.targetContext);if(s){s.existingDraftReused=true}return i.targetContext}else{g=await f(o)}}else if(!(o&&o.canceled)){throw new Error(o)}}if(g){const e=F.getActionName(g,m.EDIT);const n=t.getSideEffectsService().getODataActionSideEffects(e,g);if(n?.triggerActions?.length){await t.getSideEffectsService().requestSideEffectsForODataAction(n,g);return g}else{return g}}else{return undefined}}async function B(e,t,n,o,r){const a=o||{};if(!e){throw new Error("Binding context to draft document is required")}const i=a.fnBeforeActivateDocument?await a.fnBeforeActivateDocument(e):true;if(!i){throw new Error(`Activation of the document was aborted by extension for document: ${e.getPath()}`)}let s;if(!F.hasPrepareAction(e)){s=await y(e,t,n,undefined,undefined,o.resourceModel)}else{const a="$auto";const i=e.getModel().hasPendingChanges("$auto")?true:false;const c=F.executeDraftPreparationAction(e,a,undefined,i);e.getModel().submitBatch(a);const d=F.executeDraftActivationAction(e,t,n,a,c,o.resourceModel,r);const u=await Promise.all([c,d]);s=u[1]}return a.fnAfterActivateDocument?a.fnAfterActivateDocument(e,s):s}async function N(e,t){const n=g.getResourceBundleFor("sap.fe.core");return new Promise(function(o,r){const a=new d({title:n.getText("C_MESSAGE_HANDLING_SAPFE_ERROR_MESSAGES_PAGE_TITLE_WARNING"),state:"Warning",content:new f({text:e}),beginButton:new c({text:n.getText("C_COMMON_OBJECT_PAGE_EDIT"),type:"Emphasized",press:function(){a.close();o(true)}}),endButton:new c({text:n.getText("C_COMMON_OBJECT_PAGE_CANCEL"),press:function(){a.close();r(`Draft creation aborted for document: ${t.getPath()}`)}}),afterClose:function(){a.destroy()}});a.addStyleClass("sapUiContentPadding");a.open()})}async function G(e,t,n,o){if(e.isTransient()){return e.delete()}const r=w(e,m.DISCARD);const a=e.getObject().IsActiveEntity;if(a||!a&&!r){if(e.hasPendingChanges()&&!e.isInactive()){await e.getBinding().resetChanges();return e.delete()}else{return!n._isFclEnabled()&&!e.getProperty("IsActiveEntity")&&l.isDraftRoot(P(e.getModel().getMetaModel().getMetaContext(e.getPath()))?.targetEntitySet)&&e.getProperty("HasActiveEntity")?e.getModel().delete(e):e.delete()}}else{await $(e,t,n,o)}}const F={createDraftFromActiveDocument:I,activateDocument:B,deleteDraft:G,executeDraftEditAction:x,executeDraftValidation:b,executeDraftPreparationAction:_,executeDraftActivationAction:y,hasPrepareAction:v,computeSiblingInformation:R,processDataLossOrDraftDiscardConfirmation:o.processDataLossOrDraftDiscardConfirmation,silentlyKeepDraftOnForwardNavigation:o.silentlyKeepDraftOnForwardNavigation,createOperation:C,executeDraftDiscardAction:$,NavigationType:o.NavigationType,getActionName:w,showEditConfirmationMessageBox:N};return F},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/controllerextensions/editFlow/draftDataLossPopup", ["sap/base/Log","sap/fe/core/CommonUtils","sap/fe/core/helpers/EditState","sap/fe/core/helpers/ModelHelper","../../controls/DataLossOrDraftDiscard/DraftDataLossDialog","../../controls/Recommendations/ConfirmRecommendationDialog"],function(e,t,n,a,i,o){"use strict";var r=o.RecommendationDialogDecision;var s=function(e){e["BackNavigation"]="BackNavigation";e["ForwardNavigation"]="ForwardNavigation";return e}(s||{});var c=function(e){e["Save"]="draftDataLossOptionSave";e["Keep"]="draftDataLossOptionKeep";e["Discard"]="draftDataLossOptionDiscard";return e}(c||{});const d=new i("fe::DraftDataLossPopup");function l(e){const t=e.getAppComponent().getManifestEntry("sap.fe");return t?.app?.silentlyKeepDraftOnForwardNavigation||false}async function f(e,t,n,a,i,o,r){let s;if(e.CreationDateTime===e.LastChangeDateTime&&!n.editFlow.isDocumentModified()){a()}else{s=r===true&&a.name==="afterCancel";return d.open(n,s).then(e=>y.handleDialogSelection(e,a,t,n,i,o,r))}}async function g(t,a,i,o,r,c,l,f,g,u){if(n.isEditStateDirty()){if(t.CreationDateTime===t.LastChangeDateTime&&!i.editFlow.isDocumentModified()&&r===s.BackNavigation){try{await y.discardDraft(i,l,f,g,u);o()}catch(t){e.error("Error while canceling the document",t)}}else if(r===s.ForwardNavigation&&c){o()}else{return d.open(i).then(e=>y.handleDialogSelection(e,o,a,i,l,f,g,u))}}else{o()}}async function u(t,n,a,i){if(i===s.BackNavigation){const i={skipDiscardPopover:true,skipBindingToView:true};try{await t.editFlow.cancelDocument(n,i);a()}catch(t){e.error("Error while canceling the document",t)}}else{a()}}async function D(e,t,n,a,i,o,r,c){if(a===s.ForwardNavigation&&i){n()}else{return d.open(e).then(a=>y.handleDialogSelection(a,n,t,e,o,r,c))}}async function p(e,t,a,i,o,r){let c=arguments.length>6&&arguments[6]!==undefined?arguments[6]:s.BackNavigation;let d=arguments.length>7?arguments[7]:undefined;let p=arguments.length>8?arguments[8]:undefined;let m=arguments.length>9?arguments[9]:undefined;const v=o.collaborativeDraft.isConnected();const h=!v?t:function(){o.collaborativeDraft.disconnect();for(var e=arguments.length,n=new Array(e),a=0;a<e;a++){n[a]=arguments[a]}t.apply(null,...n)};const w=l(o);if(e){if(o.getAppComponent().getRootViewController().isFclEnabled()){await f(e,a,o,h,r,i,p)}else if(!d){g(e,a,o,h,c,w,r,undefined,p,m)}else if(e.CreationDateTime===e.LastChangeDateTime&&(!p||p&&!o.editFlow.isDocumentModified())){u(o,i,h,c)}else if(n.isEditStateDirty()){D(o,a,h,c,w,r,i,p)}else{h()}}else{t()}}async function m(n,i,o,r,c){let d=arguments.length>5&&arguments[5]!==undefined?arguments[5]:s.BackNavigation;let l=arguments.length>6?arguments[6]:undefined;let f=arguments.length>7?arguments[7]:undefined;const g=r.getView();const u=g.getBindingContext().getModel();const D=u.getMetaModel();const m=g.getViewData();const v=m.contextPath||(m.entitySet?`/${m.entitySet}`:undefined);const h=v?!!D.getObject(`${v}@com.sap.vocabularies.Common.v1.DraftRoot`):false;const w=t.getIsEditable(g);const y=o;let C=o.getPath();if(!h){C=a.getDraftRootPath(o)??C;o=u.bindContext(C,undefined,{$expand:"DraftAdministrativeData"}).getBoundContext()}const E=r.getAppComponent().getEnvironmentCapabilities()?.getCapabilities()?.HiddenDraft?.enabled;const k=h||r.getAppComponent().getRouterProxy().checkIfBackExitsApp()||E&&l;if(y.isDeleted()||!k&&d===s.BackNavigation||!w){n()}else{try{await o.requestProperty(["DraftAdministrativeData/CreationDateTime","DraftAdministrativeData/LastChangeDateTime","HasActiveEntity"]);const e=o.getObject("DraftAdministrativeData");await p(e,n,i,E?y:o,r,c,d,o.getProperty("HasActiveEntity"),E,f)}catch(t){e.error("Cannot retrieve draftDataContext information",t);n()}}}async function v(e,t,n){const a=t!==undefined;t=t??e.getView().getBindingContext();if(!a&&e.isA("sap.fe.templates.ObjectPage.ObjectPageController")){return e._saveDocument(n)}else{return e.editFlow.saveDocument(t,{skipBindingToView:n})}}async function h(e,t,n,a,i){n=n??e.getView().getBindingContext();let o=i;if(!i){o=a===true&&!n.getProperty("HasActiveEntity")?false:true}const r={skipBackNavigation:o,skipDiscardPopover:true,skipBindingToView:t!==undefined?t:true};return e.editFlow.cancelDocument(n,r)}function w(t,n,a,i,o,s,l,f){switch(t){case c.Save:y.saveDocument(i,s,o).then(e=>n(e)).catch(function(t){if(t===r.Continue){return a()}e.error("Error while saving document",t)});d.close();break;case c.Keep:n();d.close();break;case c.Discard:y.discardDraft(i,o,s,l,f).then(e=>n(e)).catch(function(t){e.error("Error while discarding draft",t)});d.close();break;default:a();d.close()}}const y={processDataLossOrDraftDiscardConfirmation:m,silentlyKeepDraftOnForwardNavigation:l,NavigationType:s,processFclMode:f,processNoActiveEntityMode:g,processEditingDraftForExistingEntity:u,processEditStateDirty:D,handleDialogSelection:w,saveDocument:v,discardDraft:h};return y},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/controllerextensions/editFlow/editFlowConstants", [],function(){"use strict";var e=function(e){e["DocumentModified"]="/isDocumentModified";e["CreateMode"]="createMode";return e}(e||{});return e},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/controllerextensions/editFlow/operations/ODataOperation", ["sap/base/Log","sap/base/util/deepClone","sap/fe/core/library","sap/m/InstanceManager","sap/ui/model/odata/v4/SubmitMode","../../../helpers/ModelHelper","../../../helpers/TypeGuards","./ODataStrictHandling","./actionHelper"],function(t,e,i,s,n,r,a,o,p){"use strict";var h={};var c=a.isAction;const u=i.InvocationGrouping;let d=function(){function i(t,e){let i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};this.operationContextBindings=[];this.firstIterationOperations=[];this.apiGroupIdsToSubmit=new Set;this.bindingParameters={};this.operationParameters=[];this.neverSubmitted=true;this.failedContexts=[];this.operationPromises=[];this.apiGroupId="apiMode";this.operation=t;this.parameters=e;this.operationProperties=i;const s=c(this.operation)?this.operation:this.operation.action;this.actionName=p.getActionName(s);this.sideEffects=this.parameters.appComponent.getSideEffectsService().getODataActionSideEffects(this.actionName,this.parameters.contexts.length?this.parameters.contexts[0]:undefined);if(!s.isFunction&&this.parameters.disableStrictHandling!==true){this.oDataStrictHandling=new o({appComponent:this.parameters.appComponent,contexts:this.parameters.contexts,label:this.parameters.label??this.actionName,invocationGrouping:this.parameters.invocationGrouping,events:{onResponse:this.parameters.events?.onStrictResponse,onValidation:this.onStrictValidation.bind(this),onCancel:this.parameters.events?.onStrictCancel}})}this.defineOperationParameters();this.setBindingParameters();this.isContinueOnErrorCompliant=this.parameters.invocationGrouping!==u.ChangeSet&&this.parameters.contexts.length>1&&(!this.operationProperties.groupId||this.isAPIMode(this.operationProperties.groupId))&&this.operationProperties.deferredSubmit!==true}h=i;var a=i.prototype;a.setBindingParameters=function t(){this.bindingParameters=e(this.operationProperties.bindingParameters??{});if(c(this.operation)&&!this.operation.isFunction&&this.parameters.contexts.length&&this.operationProperties.enhance$select===true){const t=this.bindingParameters.$select?.split(",")??[];const e=this.operation.returnEntityType;const i=this.parameters.model.getMetaModel();const s=r.getMessagesPath(i,this.parameters.contexts[0].getPath());const n=!this.operation.returnCollection&&!!e&&this.operation.sourceEntityType===e;if(n){if(s&&!!e?.entityProperties.find(t=>t.name===s)&&!t.includes(s)){this.bindingParameters.$select=this.bindingParameters.$select?`${this.bindingParameters.$select},${s}`:s;this.bindingParameters.$$inheritExpandSelect=true}}}};a.defineOperationParameters=function t(){if(!c(this.operation)){this.operationParameters=this.operation.action.parameters}else{this.operationParameters=p.getActionParameters(this.operation)}};a.clear=function t(){for(const t of this.operationContextBindings){t.destroy()}this.apiGroupIdsToSubmit.clear();this.operationContextBindings=[];this.failedContexts=[];this.operationPromises=[]};a.execute=async function e(){let i;try{if(this.parameters.contexts.length){i=await(this.parameters.invocationGrouping===u.ChangeSet||this.isContinueOnErrorCompliant?this.executeOperation():this.executeSequentially())}else{i=await Promise.allSettled([this.executeImport()])}}catch(e){t.error("Error while executing operation "+this.actionName,e);throw e}finally{this.parameters.events?.onODataResponse?.()}return i};a.executeImport=async function t(){const e=this.parameters.model.bindContext(`/${this.actionName}(...)`);this.operationContextBindings.push(e);this.setParametersValue(e);const i=this.operationProperties.groupId??"actionImport";const s=[this.invoke(e,i)];this.defaultSubmit(i);await Promise.allSettled(this.firstIterationOperations);await this.afterODataOperationExecution();const n=await Promise.all(s);return n[0]};a.executeOperation=async function t(){let e=this.operationProperties.groupId;if(this.isContinueOnErrorCompliant){e=e??this.apiGroupId;this.parameters.model.setContinueOnError(e)}this.operationPromises=this.parameters.contexts.map(async t=>this.executeBoundOperation(t,e));await Promise.allSettled(this.firstIterationOperations);await this.afterODataOperationExecution();return Promise.allSettled(this.operationPromises)};a.afterODataOperationExecution=async function t(){await(this.oDataStrictHandling?.manageStrictHandlingFails());await(this.parameters.events?.onAfterODataOperationExecution?.())};a.executeSequentially=async function t(){await this.parameters.contexts.reduce(async(t,e,i)=>{await t;this.operationPromises.push(this.executeBoundOperation(e,this.operationProperties.groupId??`${this.apiGroupId}${i+1}`));await Promise.allSettled(this.firstIterationOperations)},Promise.resolve());await this.afterODataOperationExecution();return Promise.allSettled(this.operationPromises)};a.executeBoundOperation=async function t(e,i){const s=this.parameters.model.bindContext(`${this.actionName}(...)`,e,this.bindingParameters);this.operationContextBindings.push(s);const n=[];this.setParametersValue(s);const r=i??s.getUpdateGroupId();const a=this.invoke(s,r);n.push(a);this.defaultSubmit(r);Promise.allSettled(n);return a};a.enhanceSideEffects=function t(e,i){if(i&&this.parameters.ghostContextBindingProtection===true){const t=this.parameters.appComponent;const n=e.requestSideEffects.bind(e);e.requestSideEffects=async function(){if(t.getRootViewController().getInstancedViews().some(t=>t.getBindingContext()===i)||s.getOpenDialogs().some(t=>t.getBindingContext()===i)){return n(...arguments)}return Promise.resolve()}}};a.invoke=async function t(e,i){let s;let n;let r;const a=new Promise(function(t,e){n=t;r=e});this.firstIterationOperations.push(a);if(i&&this.isAPIMode(i)){this.apiGroupIdsToSubmit.add(i)}try{const t=e.getContext()??e.getBoundContext();const r=e.invoke(i,this.operationProperties.ignoreETag,this.oDataStrictHandling?.handleOdataStrictHandling.bind(this.oDataStrictHandling,e,n,()=>{if(this.isContinueOnErrorCompliant){this.parameters.model.setContinueOnError(i)}this.requestSideEffects(t,i,[]);this.parameters.model.submitBatch(i)}),this.operationProperties.replaceWithRVC);this.requestSideEffects(t,i,[r]);await Promise.race([r,a]);s=await r;this.enhanceSideEffects(e,s);n()}catch(t){r(t);const i=e.getContext();if(i){this.failedContexts.push(i)}throw t}finally{await(this.parameters.events?.onAfterODataInvoke?.(e,i))}return{returnedContext:s,boundContext:e.getBoundContext()}};a.onStrictValidation=function t(){this.parameters.events?.onStrictValidation?.();this.retriggerFailedContexts()};a.retriggerFailedContexts=async function t(){if(this.parameters.invocationGrouping!==u.ChangeSet){const t="apiRetrigger";if(this.isContinueOnErrorCompliant){this.parameters.model.setContinueOnError(t)}let e=0;for(const i of this.failedContexts){const s=`${t}${this.isContinueOnErrorCompliant?"":e+1}`;e++;this.operationPromises.push(this.executeBoundOperation(i,s))}await Promise.allSettled(this.operationPromises)}};a.submit=function t(){if(!this.neverSubmitted||this.apiGroupIdsToSubmit.size===0){return}for(const t of Array.from(this.apiGroupIdsToSubmit.values())){this.submitOnModel(t)}this.parameters.events?.onODataSubmit?.()};a.isStrictCanceled=function t(){return this.oDataStrictHandling?.isCanceled()??false};a.submitOnModel=function t(e){this.parameters.model.submitBatch(e);this.apiGroupIdsToSubmit.delete(e)};a.isAPIMode=function t(e){if(!e){return false}if(e.startsWith("$auto")||e.startsWith("$direct")||e.startsWith("$single")){return false}const i=this.parameters.appComponent.getManifestEntry("sap.ui5")?.models[""]?.settings?.groupProperties?.[e]?.submit;if(i===undefined||[n.Auto,n.Direct].includes(i)){return true}return true};a.defaultSubmit=function t(e){const i=this.neverSubmitted;const s=this.isAPIMode(e);if(!s){this.neverSubmitted=false}else if(this.operationProperties.deferredSubmit!==true&&e){this.neverSubmitted=false;this.submitOnModel(e)}if(i&&!this.neverSubmitted){this.parameters.events?.onODataSubmit?.()}};a.setParametersValue=function t(e){if(this.operationParameters.length){const t=this.parameters.parametersValues??{};for(const i of this.operationParameters){const s=i.name;if(!t[s]){switch(i.type){case"Edm.String":t[s]="";break;case"Edm.Boolean":t[s]=false;break;case"Edm.Byte":case"Edm.Int16":case"Edm.Int32":case"Edm.Int64":t[s]=0;break;default:break}}e.setParameter(s,t[s])}}};a.requestSideEffects=async function e(i,s,n){const r=this.parameters.appComponent.getSideEffectsService();let a=n??[];if(this.sideEffects&&!this.parameters.disableSideEffects===true){a=a.concat((this.sideEffects.triggerActions??[]).map(async t=>{if(this.isContinueOnErrorCompliant){this.submitOnModel(s)}return r.executeAction(t,i,{submitBatch:false,groupId:s})}),this.sideEffects.pathExpressions?r.requestSideEffects(this.sideEffects.pathExpressions,i,s):[]);try{await Promise.all(a);if(this.sideEffects.pathExpressions){this.parameters.events?.onRequestSideEffects?.(this.sideEffects,this.operation,a)}}catch(e){t.info("Error while requesting side effects for the operation "+this.actionName,e)}}};return i}();h=d;return h},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/controllerextensions/editFlow/operations/ODataStrictHandling", ["sap/base/Log","sap/fe/core/CommonUtils","sap/fe/core/helpers/ResourceModelHelper","sap/fe/core/library","sap/m/MessageBox","sap/ui/core/ElementRegistry","sap/ui/core/Messaging","sap/ui/core/message/Message","sap/ui/core/message/MessageType","sap/ui/model/json/JSONModel","../../dialog/ODataStrictDialog","../../messageHandler/messageHandling"],function(e,t,n,s,i,a,o,r,g,l,c,h){"use strict";var d={};const p=s.InvocationGrouping;let C=function(){function s(e){this.strictHandlingResolves=[];this.strictHandlingWarningMessages=[];this.canceled=false;this.isCanceled=()=>this.canceled;this.parameters=e;if(this.parameters.contexts.length){const e=this.parameters.contexts[0].getBinding();if(e?.isA("sap.ui.model.odata.v4.ODataListBinding")){this.tableAPI=a.filter(t=>t.isA("sap.fe.macros.table.TableAPI")&&t.getContent()?.getRowBinding()===e)[0]}}}d=s;var C=s.prototype;C.handleOdataStrictHandling=async function t(n,s,i){let a=arguments.length>3&&arguments[3]!==undefined?arguments[3]:[];let o;const r=new Promise(function(e){o=e});this.strictHandlingResolves.push({handlingResolve:o,onContextValidation:i});if(a.filter(e=>e.getType()===g.Error).length){e.warning("Warning: 412 ('Pre-condition Check Failed due to strict-handling') returns messages of type error but only warning messages are appropriate!")}let l="";if(this.parameters.contexts.length>1){const e=this.tableAPI?.getIdentifierColumn();if(typeof e==="string"){l=n.getContext()?.getObject(e)}}for(const e of a){e.setAdditionalText(l);this.strictHandlingWarningMessages.push(e)}this.parameters.events?.onResponse?.(a);s?.();return r};C.manageStrictHandlingFails=async function t(){if(this.strictHandlingResolves.length){try{if((!h.hasTransitionErrorsOrWarnings()||this.parameters.invocationGrouping!==p.ChangeSet)&&this.strictHandlingWarningMessages.length){await this.displayMessages()}else{for(const e of this.strictHandlingResolves){e.handlingResolve(false)}const e=o.getMessageModel();const t=e.getData();e.setData(t.concat(this.strictHandlingWarningMessages))}}catch{e.error("Re-triggering of strict handling operations failed")}}};C.displayMessages=async function e(){const t=this.strictHandlingWarningMessages;if(!t.length){return}const s=n.getLocalizedText(this.parameters.label,this.parameters.appComponent);return t.length===1&&!(t[0].getDescription()?.length||t[0].getDescriptionUrl()?.length)?this.displayMessageOnMessageBox(t[0],s):this.displayMessagesOnDialog(t,s)};C.displayMessageOnMessageBox=async function e(s,a){let o;const r=new Promise(e=>{o=e});const g=n.getResourceModel(this.parameters.appComponent);const l=s.getMessage();const c=s.getAdditionalText();const h=this.parameters.contexts.length>1;const d=g.getText("C_COMMON_DIALOG_CANCEL_SINGLE_MESSAGE_TEXT");const C=this.parameters.invocationGrouping===p.ChangeSet?g.getText("C_COMMON_DIALOG_CANCEL_MESSAGE_TEXT",[a]):g.getText("C_COMMON_DIALOG_SKIP_SINGLE_MESSAGE_TEXT");let M=g.getText("C_COMMON_DIALOG_CANCEL");let _="";if(!h){_=`${l}\n${g.getText("PROCEED")}`}else if(c!==undefined&&c!==""){M=this.parameters.invocationGrouping===p.ChangeSet?M:g.getText("C_COMMON_DIALOG_SKIP");const e=this.tableAPI?.getTableDefinition().headerInfoTypeName;const n=this.tableAPI&&typeof e==="string"?t.getTranslatedTextFromExpBindingString(e,this.tableAPI):e;if(n){_=`${n.toString()} ${c}: ${l}\n\n${C}`}else{_=`${c}: ${l}\n\n${C}`}}else{M=this.parameters.invocationGrouping===p.ChangeSet?M:g.getText("C_COMMON_DIALOG_SKIP");_=`${l}\n\n${C}`}if(h&&this.parameters.invocationGrouping===p.ChangeSet){_=`${d}\n\n${_}`}i.warning(_,{title:g.getText("WARNING"),actions:[a,M],emphasizedAction:a,onClose:e=>{this[e===a?"handleMessageOnValidation":"handleMessageOnCancel"]();o()}});return r};C.displayMessagesOnDialog=async function e(t,s){let i;const a=new Promise(e=>{i=e});const o=new l;const d=n.getResourceModel(this.parameters.appComponent);const C=this.parameters.contexts.length>1;let M="";let _="";let u=d.getText("C_COMMON_DIALOG_CANCEL");if(C){u=this.parameters.invocationGrouping===p.ChangeSet?u:d.getText("C_COMMON_DIALOG_SKIP");M=d.getText(this.parameters.invocationGrouping===p.ChangeSet?"C_COMMON_DIALOG_CANCEL_MESSAGES_WARNING":"C_COMMON_DIALOG_SKIP_MESSAGES_WARNING");_=d.getText(this.parameters.invocationGrouping===p.ChangeSet?"C_COMMON_DIALOG_CANCEL_MESSAGES_TEXT":"C_COMMON_DIALOG_SKIP_MESSAGES_TEXT",[s])}else{M=d.getText("C_COMMON_DIALOG_CANCEL_MESSAGES_GENERIC_ACTION_WARNING",[s])}const f=new r({message:M,type:g.Information,target:undefined,persistent:true,description:_.length?_:undefined});t=[f].concat(t);o.setData(t);new c({messageObject:h.prepareMessageViewForDialog(o,true,C),actionName:s,messageDialogModel:o,cancelButtonTxt:u,onBeginButtonPress:this.handleMessageOnValidation.bind(this),onEndButtonPress:this.handleMessageOnCancel.bind(this),onClose:i}).open();return a};C.handleMessageOnValidation=function e(){for(const e of this.strictHandlingResolves){e.onContextValidation();e.handlingResolve(true)}h.removeBoundTransitionMessages();h.removeUnboundTransitionMessages();this.strictHandlingWarningMessages=[];this.parameters.events?.onValidation?.()};C.handleMessageOnCancel=function e(){const t=n.getResourceModel(this.parameters.appComponent);this.strictHandlingWarningMessages=[];this.canceled=true;for(const e of this.strictHandlingResolves){e.handlingResolve(false)}this.strictHandlingResolves=[];if(this.parameters.invocationGrouping===p.ChangeSet){i.information(t.getText("M_CHANGESET_CANCEL_MESSAGES"),{contentWidth:"150px"})}this.parameters.events?.onCancel?.()};return s}();d=C;return d},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/controllerextensions/editFlow/operations/Operation", ["sap/fe/base/BindingToolkit","sap/fe/core/controls/Any","sap/fe/core/helpers/TypeGuards","sap/fe/core/library","sap/fe/core/templating/ActionHelper","sap/m/MessageBox","../../../converters/MetaModelConverter","../../../helpers/ResourceModelHelper","./ODataOperation","./OperationMessage","./OperationParameters","./actionHelper"],function(e,t,a,s,i,n,o,r,c,l,p,m){"use strict";var h={};var g=o.getInvolvedDataModelObjects;var u=o.convertTypes;var d=i.getIsActionCriticalExpression;var f=a.isRejected;var P=e.isConstant;var C=e.compileExpression;var D=e.compileConstant;const v=s.InvocationGrouping;let x=function(){function e(e,t,a,s){this.executionPromise=new Promise((e,t)=>{this.executionResolve=e;this.executionReject=t});this.parametersValues={};this.numberOfODataExecutions=0;this.externalParametersValues=false;this.appComponent=e;this.model=t;this.convertedAction=a;this.parameters=s;this.contexts=s.contexts??[];this.setMessageCollectedPromise();this.entitySetName=s.entitySetName??(this.convertedAction.isBound&&this.contexts[0]!==undefined?this.model.getMetaModel().getMetaContext(this.contexts[0].getPath()).getObject("@sapui.name"):undefined);this.operationMessage=new l({messageHandler:this.parameters.messageHandler,action:this.convertedAction,contexts:this.contexts,label:this.parameters.label,invocationGrouping:this.parameters.invocationGrouping,disableNotification:this.parameters.skipMessages,entitySetName:this.entitySetName,events:{onMessageCollected:()=>{this.manageDialogOnMessages();this.messageCollectedResolve()},onMessagePageNavigationCallback:()=>{this.operationParameters.closeParameterDialog()}}});this.operationParameters=new p(this.appComponent,this.model,this.convertedAction,this.parameters.skipParameterDialog,{contexts:this.contexts,defaultValuesExtensionFunction:this.parameters.defaultValuesExtensionFunction,isCreateAction:this.parameters.isCreateAction,label:this.parameters.label,parameterValues:this.parameters.parameterValues,entitySetName:this.entitySetName,view:this.parameters.view,messageHandler:this.parameters.messageHandler,events:{onParameterDialogOpened:this.operationMessage.onParameterDialogOpened.bind(this.operationMessage),onParameterDialogClosed:this.operationMessage.onParameterDialogClosed.bind(this.operationMessage)}})}h=e;var a=e.prototype;a.clear=function e(){this.operationParameters.closeParameterDialog();this.odataOperation?.clear()};a.setDefaultParametersValues=function e(t){this.parametersValues=t;this.externalParametersValues=true};a.execute=async function e(){this.internalExecution();return this.executionPromise};a.internalExecution=async function e(){let t=[];try{this.numberOfODataExecutions++;if(!this.externalParametersValues){this.parametersValues=await this.operationParameters.getOperationParameters()}if(this.numberOfODataExecutions===1){await this.confirmAction()}this.odataOperation=new c(this.convertedAction,{appComponent:this.appComponent,contexts:this.contexts,model:this.model,label:this.parameters.label,invocationGrouping:this.parameters.invocationGrouping,disableStrictHandling:this.parameters.oDataProperties?.disableStrictHandling,disableSideEffects:this.parameters.oDataProperties?.disableSideEffects,ghostContextBindingProtection:this.parameters.oDataProperties?.ghostContextBindingProtection,events:{onStrictValidation:this.parameters.oDataEvents?.onStrictValidation,onStrictCancel:this.parameters.oDataEvents?.onStrictCancel,onStrictResponse:e=>{this.parameters.messageHandler.addWarningMessagesToMessageHandler(e);this.operationMessage.onStrictHandling()},onODataResponse:this.parameters.oDataEvents?.onODataResponse,onODataSubmit:this.parameters.oDataEvents?.onODataSubmit,onRequestSideEffects:this.parameters.oDataEvents?.onRequestSideEffects},parametersValues:this.parametersValues},{enhance$select:this.parameters.oDataProperties?.enhance$select,groupId:this.parameters.oDataProperties?.groupId,replaceWithRVC:this.parameters.oDataProperties?.replaceWithRVC,ignoreETag:this.parameters.oDataProperties?.ignoreETag,bindingParameters:this.parameters.bindingParameters,deferredSubmit:this.parameters.oDataProperties?.deferredSubmit});t=await this.odataOperation.execute();this.operationMessage.reactToOperations(t);if(this.operationParameters.isParameterDialog()){if(!t.some(f)){this.closeDialog()}else{await this.messageCollectedPromise}}if(this.operationParameters.isParameterDialogOpened()){this.setMessageCollectedPromise();this.internalExecution()}else{this.executionResolve(t)}}catch(e){this.executionReject(e)}};a.manageDialogOnMessages=function e(){const t=this.operationMessage.isErrorIntoParameterDialog();if(m.isStaticAction(this.convertedAction)||this.contexts.length===0){return this.resetDialog()}else if(this.parameters.invocationGrouping===v.ChangeSet){if(t||this.odataOperation?.isStrictCanceled()===true){return this.resetDialog()}else{return this.closeDialog()}}else if(this.parameters.contexts&&this.parameters.contexts.length>1||!t){return this.closeDialog()}return this.resetDialog()};a.setMessageCollectedPromise=function e(){this.messageCollectedPromise=new Promise(e=>{this.messageCollectedResolve=e})};a.closeDialog=function e(){this.operationParameters.closeParameterDialog()};a.resetDialog=function e(){this.operationParameters.resetParameterDialogState()};a.getOperationResults=async function e(){return this.executionPromise};a.isActionCritical=async function e(){const a=this.parameters.contexts?.[0];let s=true;const i=d(this.convertedAction,u(this.model.getMetaModel()));if(P(i)){s=D(i,false,undefined,true)}else if(a){const e=new t({anyBoolean:C(i)});e.setModel(a.getModel());e.setBindingContext(a);const s=e.getBinding("anyBoolean");if(s){if(s.isA("sap.ui.model.CompositeBinding")){await Promise.all(s.getBindings().map(e=>e.requestValue?.()))}else{await(s.requestValue?.())}}}return s};a.confirmAction=async function e(){if(!this.operationParameters.isParameterDialog()){const e=await this.isActionCritical();if(e){const e=m.getActionName(this.convertedAction);await new Promise((t,a)=>{const i=e.includes(".")?e.split(".")[e.split(".").length-1]:e;const o=i&&this.entitySetName?`${this.entitySetName}|${i}`:"";n.confirm(r.getResourceModel(this.parameters.view??this.appComponent).getText("C_OPERATIONS_ACTION_CONFIRM_MESSAGE",undefined,o),{title:this.getConfirmTitle(o),onClose:e=>{if(e===n.Action.OK){t(true)}else{a(new Error(s.Constants.CancelActionDialog))}}})})}}};a.getConfirmTitle=function e(t){if(!this.parameters.view){return undefined}const a="C_OPERATIONS_ACTION_CONFIRM_TITLE";const s=r.getResourceModel(this.parameters.view??this.appComponent);const i=s.checkIfResourceKeyExists(`${a}|${t}`);if(i){return s.getText(a,undefined,t)}};e.getOperationFromName=function e(t,a,s){const i=a.getMetaModel();const n=u(i);if(s){const e=g(i.getMetaContext(s.getPath())).targetEntityType.name;const a=t.replace(/\(.*\)$/g,"").replace(`${n.namespace}.`,"").split(".").pop();return n.actions.find(t=>t.name===a&&t.isBound&&t.sourceEntityType&&e===t.sourceEntityType.name)}const o=t.replace(`${n.entityContainer.fullyQualifiedName}/`,"").replace(`${n.namespace}.`,"").replace("()","");return n.actionImports.find(e=>e.name===o)};return e}();h=x;return h},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/controllerextensions/editFlow/operations/OperationMessage", ["sap/fe/core/library","sap/ui/core/ElementRegistry","sap/ui/core/Lib","sap/ui/core/Messaging","sap/ui/core/message/Message","sap/ui/core/message/MessageType","../../../CommonUtils","../../messageHandler/messageHandling","./actionHelper"],function(e,t,s,a,i,n,r,o,g){"use strict";var l={};const c=e.InvocationGrouping;let h=function(){function e(e){this.isParameterDialogOpened=false;this.is412toBeManaged=false;this.parameters=e;if(this.parameters.contexts.length){const e=this.parameters.contexts[0].getBinding();if(e.isA("sap.ui.model.odata.v4.ODataListBinding")){this.table=t.filter(t=>t.isA("sap.ui.mdc.Table")&&t.getRowBinding()===e)[0]}}}l=e;var h=e.prototype;h.onParameterDialogClosed=function e(){this.isParameterDialogOpened=false};h.onParameterDialogOpened=function e(){this.isParameterDialogOpened=true};h.onStrictHandling=function e(){this.is412toBeManaged=true};h.reactToOperations=async function e(t){if(this.parameters.disableNotification===true){this.parameters.events?.onMessageCollected?.();return}const s=this.isParameterDialogOpened;await this.parameters.messageHandler.showMessages({isOperationDialogOpen:s,messagePageNavigationCallback:()=>{this.parameters.events?.onMessagePageNavigationCallback?.()},onBeforeShowMessage:(e,s)=>this.actionParameterShowMessageCallback(e,s,!t.some(e=>e.status==="rejected")),aSelectedContexts:this.parameters.contexts,sActionName:this.parameters.label,entitySet:this.parameters.entitySetName,boundActionName:g.getActionName(this.parameters.action),control:this.table});this.parameters.messageHandler.clearStrictWarningMessages()};h.isErrorIntoParameterDialog=function e(){return!!this.getParameterDialogMessages().length};h.getParameterDialogMessages=function e(t){const s=g.getActionName(this.parameters.action);const a=g.getActionParameters(this.parameters.action);return(t??o.getMessages(true,true)).filter(e=>e.getTargets()?.[0].includes(s)&&a.some(t=>e.getTargets()?.[0].includes(t.name)))};h.actionParameterShowMessageCallback=function e(t,s,i){const n=e=>["Error","Warning"].includes(e.getType());const r=a.getMessageModel().getData();const g=t.findIndex(n);const l=r.findIndex(n);const h=this.parameters.invocationGrouping===c.ChangeSet;const m=this.getParameterDialogMessages(t);const d=!!m.length;let u=s.showMessageBox,p=s.showMessageDialog;if(h){if((this.is412toBeManaged||o.hasTransitionErrorsOrWarnings())&&!d&&!i&&g!==1&&l!==-1&&this.parameters.contexts.length>1){const e=r.length===1;u=e||t.length===1;p=!u;t.unshift(this.getGenericMsgForChangeSet(e))}}else if(!this.isParameterDialogOpened&&d){p=true;t=t.concat(m)}this.parameters.events?.onMessageCollected?.();const{messagesToShow:M,containsBoundTransition:f,showMessageInDialog:E}=this.filterApdAndContextMessages(t,d);return{showMessageBox:u,showMessageDialog:E??p,filteredMessages:M,fnGetMessageSubtitle:this.table?o.setMessageSubtitle.bind({},this.table,this.parameters.contexts):undefined,showChangeSetErrorDialog:h,containsBoundTransistion:f}};h.getGenericMsgForChangeSet=function e(t){const a=s.getResourceBundleFor("sap.fe.core");const o=(this.table&&r.getIsEditable(this.table))??false;const g=a.getText(`C_COMMON_DIALOG_CANCEL_SINGLE_ERROR_MESSAGE_TEXT${o?"_EDIT":""}`);return t?new i({message:g,type:n.Error,target:"",persistent:true,code:"FE_CUSTOM_MESSAGE_CHANGESET_ALL_FAILED",technicalDetails:{fe:{changeSetPreTextForSingleError:g}}}):new i({message:a.getText("C_COMMON_DIALOG_CANCEL_ERROR_MESSAGES_TEXT"),type:n.Error,target:"",persistent:true,code:"FE_CUSTOM_MESSAGE_CHANGESET_ALL_FAILED",description:a.getText("C_COMMON_DIALOG_CANCEL_ERROR_MESSAGES_DETAIL_TEXT")})};h.filterApdAndContextMessages=function e(t,s){const a=t.filter(e=>e.getTargets()?.[0]==="");const i=this.isParameterDialogOpened;let n=true;if(i&&s){o.removeContextMessagesfromModel(t,this.parameters.contexts)}let g;if(!(this.table&&r.getIsEditable(this.table))){if(i&&s){if(a.length===0){g=false;n=false}t=o.removeMessagesForActionParameterDialog(t)}}else{if(a.length===0){g=false}t=o.removeMessagesForActionParameterDialog(t)}return{messagesToShow:t,containsBoundTransition:g,showMessageInDialog:n}};return e}();l=h;return l},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/controllerextensions/editFlow/operations/OperationParameters", ["sap/fe/core/UIProvider","./actionHelper"],function(e,t){"use strict";function a(e){return new Promise((t,a)=>{sap.ui.require([e],a=>{if(!(a&&a.__esModule)){a=a===null||!(typeof a==="object"&&e.endsWith("/library"))?{default:a}:a;Object.defineProperty(a,"__esModule",{value:true})}t(a)},e=>{a(e)})})}var r={};var s=e.getCoreUIFactory;let i=function(){function e(e,a,r,s,i){this.parameterDialog=undefined;this.parametersValues={};this.startupParameters={};this.appComponent=e;this.model=a;this.convertedAction=r;this.skipParametersDialog=s;this.parameters=i;this.actionParameters=t.getActionParameters(this.convertedAction);this.isParameterDialogNeeded=this.actionParameters.length>0&&!(this.actionParameters.length===1&&this.actionParameters[0].name==="ResultIsActiveEntity");this.skipParametersDialog=(this.actionParameters.length&&this.actionParameters.filter(e=>e.name!=="ResultIsActiveEntity").every(e=>e.annotations.UI?.Hidden?.valueOf()===true)?true:this.skipParametersDialog)??false;this.setStartupParameters()}r=e;var i=e.prototype;i.setStartupParameters=function e(){const t=this.appComponent.getComponentData();this.startupParameters=t?.startupParameters??{}};i.isParameterDialog=function e(){return!!this.parameterDialog};i.isParameterDialogOpened=function e(){return this.parameterDialog?.isOpen()??false};i.resetParameterDialogState=function e(){this.parameterDialog?.resetState()};i.closeParameterDialog=async function e(){return this.parameterDialog?.closeDialog()};i.getOperationParameters=async function e(){if(this.isParameterDialogNeeded&&!(this.skipParametersDialog&&this.isMandatoryValuesProvided())){if(!this.parameterDialog){this.parameterDialog=s().newOperationParameterDialog(this.convertedAction,{appComponent:this.appComponent,model:this.model,contexts:this.parameters.contexts,parametersValues:{},defaultValuesExtensionFunction:this.parameters.defaultValuesExtensionFunction,isCreateAction:this.parameters.isCreateAction,label:this.parameters.label,view:this.parameters.view,events:{onParameterDialogOpened:this.parameters.events?.onParameterDialogOpened,onParameterDialogClosed:this.parameters.events?.onParameterDialogClosed}},this.parameters.parameterValues,this.parameters.entitySetName,this.parameters.messageHandler);await this.parameterDialog.createDialog();this.parameterDialog.openDialog()}return this.parameterDialog.waitForParametersValues()}if(this.parameters.parameterValues){for(const e in this.actionParameters){this.parametersValues[this.actionParameters[e].name]=this.parameters.parameterValues?.find(t=>t.name===this.actionParameters[e].name)?.value}}else{let e;for(const t in this.actionParameters){e=this.actionParameters[t];this.parametersValues[e.name]=await this.convertValue(e,this.startupParameters[e.name]?.[0]??e.annotations?.UI?.ParameterDefaultValue?.valueOf())}}return this.parametersValues};i.isMandatoryValuesProvided=function e(){const t=this.actionParameters.every(e=>e?.annotations?.UI?.Hidden?.valueOf()===true);if(this.parameters.parameterValues?.length&&!t){for(const e of this.actionParameters){if(e.name!=="ResultIsActiveEntity"&&!this.parameters.parameterValues?.find(t=>t.name===e.name)){return false}}}if(this.parameters.isCreateAction===true&&Object.keys(this.startupParameters).length&&!t){for(const e of this.actionParameters){if(!this.startupParameters[e.name]){return false}}}if(this.actionParameters.length&&t){return this.actionParameters.every(e=>{const t=e.annotations?.Common?.FieldControl;const a=t?.toString()==="Common.FieldControlType/Mandatory";return!a||this.startupParameters[e.name]||this.parameters.parameterValues?.find(t=>t.name===e.name)||e?.annotations?.UI?.ParameterDefaultValue?.valueOf()})}return true};i.convertValue=async function e(t,r){if(r===undefined||r===null){return r}const s=(await a("sap/ui/mdc/odata/v4/TypeMap")).default;const i=s.getBaseType(t.type);const n=s.getDataTypeInstance(i);return n.parseValue(r,"string")};return e}();r=i;return r},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/controllerextensions/editFlow/operations/actionHelper", [],function(){"use strict";return{getActionName(e){return e.isBound?e.fullyQualifiedName.replace(/\(.*\)$/g,""):e.name},getActionParameters(e){return e.isBound?e.parameters.slice(1):e.parameters},isStaticAction(e){return e.isBound&&!!e.parameters[0]?.isCollection}}},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/controllerextensions/editFlow/sticky", ["sap/base/Log","sap/base/util/isEmptyObject","sap/fe/core/CommonUtils","sap/fe/core/helpers/ResourceModelHelper","sap/fe/core/library","sap/m/MessageBox","sap/ui/core/Lib","../../converters/MetaModelConverter","./operations/Operation"],function(e,t,o,n,r,i,s,a,c){"use strict";var d=a.convertTypes;var g=n.getResourceModel;const u=r.ProgrammingModel;function f(e,t){const o=l(e,t);const n=e.getModel().getMetaModel(),r=`${n.getMetaPath(e.getPath())}/${o}`,i=n.createBindingContext(r);return d(n).resolvePath(i.getPath()).target}function l(e,t){const o=e.getModel(),n=o.getMetaModel(),r=n.getMetaPath(e.getPath());return n.getObject(`${r}@com.sap.vocabularies.Session.v1.StickySessionSupported/${t}`)}async function S(e,o,n){const r="EditAction";const i=f(e,r);if(i){const s=await new c(o,e.getModel(),i,{messageHandler:n,contexts:[e],label:g(o).getText("C_COMMON_OBJECT_PAGE_EDIT"),skipMessages:true,oDataProperties:{disableSideEffects:true,ignoreETag:t(e.getObject()),groupId:"direct",replaceWithRVC:e.getBinding().isA("sap.ui.model.odata.v4.ODataListBinding"),deferredSubmit:false},bindingParameters:{$$inheritExpandSelect:true}}).execute();if(s[0].status==="rejected"){throw new Error(s[0].reason)}else{const t=s[0].value.returnedContext;if(t){const n=o.getSideEffectsService().getODataActionSideEffects(l(e,r),t);if(n?.triggerActions&&n.triggerActions.length){await o.getSideEffectsService().requestSideEffectsForODataAction(n,t)}}return t}}else{throw new Error(`Edit Action for Sticky Session not found for ${r}`)}}async function M(o,n,r,i,s){const a="SaveAction";const d=o.getModel(),g=d.getMetaModel(),u=g.getMetaPath(o.getPath());const l=f(o,a);const S=s?i?.resourceModel?.getText("T_OP_OBJECT_PAGE_SAVE"):i?.resourceModel?.getText("C_OP_OBJECT_PAGE_SAVE");if(l){const i=await new c(n,o.getModel(),l,{messageHandler:r,contexts:[o],label:S,skipMessages:true,oDataProperties:{disableSideEffects:true,ignoreETag:t(o.getObject()),groupId:"direct",replaceWithRVC:o.getBinding().isA("sap.ui.model.odata.v4.ODataListBinding"),deferredSubmit:false},bindingParameters:{$$inheritExpandSelect:true}}).execute();if(i[0].status==="rejected"){const t=g.getObject(`${u}/@${"com.sap.vocabularies.Common.v1.Messages"}/$Path`);if(t){try{await n.getSideEffectsService().requestSideEffects([t],o)}catch(t){e.error("Error while requesting side effects",t)}}throw new Error(i[0].reason)}else if(i[0].value.returnedContext===undefined){throw new Error(`Save Action for Sticky Session doesn't return a context for ${u}`)}return i[0].value.returnedContext}else{throw new Error(`Save Action for Sticky Session not found for ${u}`)}}async function p(e){const t=e.getModel(),o=t.getMetaModel(),n=o.getMetaPath(e.getPath()),r=o.getObject(`${n}@com.sap.vocabularies.Session.v1.StickySessionSupported/DiscardAction`);if(!r){throw new Error(`Discard Action for Sticky Session not found for ${n}`)}const i=t.bindContext(`/${r}(...)`);return i.invoke("$single").then(function(){return e})}function E(t,n,r){const a=o.getIsEditable(n),c=s.getResourceBundleFor("sap.fe.templates"),d=c.getText("T_COMMON_UTILS_NAVIGATION_AWAY_MSG"),g=c.getText("T_COMMON_UTILS_NAVIGATION_AWAY_CONFIRM_BUTTON"),f=c.getText("T_COMMON_UTILS_NAVIGATION_AWAY_CANCEL_BUTTON");if(r===u.Sticky&&a){return i.warning(d,{actions:[g,f],emphasizedAction:g,onClose:function(o){if(o===g){e.info("Navigation confirmed.");t()}else{e.info("Navigation rejected.")}}})}return t()}const A={editDocumentInStickySession:S,activateDocument:M,discardDocument:p,processDataLossConfirmation:E};return A},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/controllerextensions/messageHandler/messageHandling", ["sap/fe/core/helpers/ResourceModelHelper","sap/m/Bar","sap/m/Button","sap/m/Dialog","sap/m/FormattedText","sap/m/MessageBox","sap/m/MessageItem","sap/m/MessageToast","sap/m/MessageView","sap/m/Text","sap/m/library","sap/ui/base/ManagedObject","sap/ui/core/Element","sap/ui/core/IconPool","sap/ui/core/Lib","sap/ui/core/Messaging","sap/ui/core/format/DateFormat","sap/ui/core/message/Message","sap/ui/core/message/MessageType","sap/ui/model/Filter","sap/ui/model/FilterOperator","sap/ui/model/Sorter","sap/ui/model/json/JSONModel"],function(e,t,n,s,o,r,a,i,l,g,c,u,f,d,T,p,m,E,_,h,S,A,M){"use strict";var C=e.getResourceModel;const I=c.ButtonType;let N=[];let b;let P;let R;function x(){let e;function t(e){return e.property?"( ${"+e.property+'} ? ("<p>'+e.property.substring(Math.max(e.property.lastIndexOf("/"),e.property.lastIndexOf("."))+1)+' : " + '+"${"+e.property+'} + "</p>") : "" )':""}function n(t){let n="";if(t.groupName&&t.property&&t.groupName!==e){n+="( ${"+t.property+'} ? "<br><h3>'+t.groupName+'</h3>" : "" ) + ';e=t.groupName}return n}function s(){const e="technicalDetails";return[{groupName:"",property:`${e}/status`},{groupName:"",property:`${e}/statusText`},{groupName:"Application",property:`${e}/error/@SAP__common.Application/ComponentId`},{groupName:"Application",property:`${e}/error/@SAP__common.Application/ServiceId`},{groupName:"Application",property:`${e}/error/@SAP__common.Application/ServiceRepository`},{groupName:"Application",property:`${e}/error/@SAP__common.Application/ServiceVersion`},{groupName:"ErrorResolution",property:`${e}/error/@SAP__common.ErrorResolution/Analysis`},{groupName:"ErrorResolution",property:`${e}/error/@SAP__common.ErrorResolution/Note`},{groupName:"ErrorResolution",property:`${e}/error/@SAP__common.ErrorResolution/DetailedNote`},{groupName:"ErrorResolution",property:`${e}/error/@SAP__common.ExceptionCategory`},{groupName:"ErrorResolution",property:`${e}/error/@SAP__common.TimeStamp`},{groupName:"ErrorResolution",property:`${e}/error/@SAP__common.TransactionId`},{groupName:"Messages",property:`${e}/error/code`},{groupName:"Messages",property:`${e}/error/message`}]}let o="Object.keys("+"${technicalDetails}"+').length > 0 ? "<h2>Technical Details</h2>" : "" ';s().forEach(function(e){o=`${o+n(e)}${t(e)} + `});return o}function O(){return"(${"+"description} ? (${"+'description}) : "")'}function y(e){let t=_.None;const n=e.length;const s={Error:0,Warning:0,Success:0,Information:0};for(let t=0;t<n;t++){++s[e[t].getType()]}if(s[_.Error]>0){t=_.Error}else if(s[_.Warning]>0){t=_.Warning}else if(s[_.Success]>0){t=_.Success}else if(s[_.Information]>0){t=_.Information}return t}function G(e,t){const n=p.getMessageModel().getObject("/");let s=false;let o="";n.forEach(function(r,a){const i=r.getTechnicalDetails&&r.getTechnicalDetails();if(i&&i.httpStatus===412&&i.isConcurrentModification){if(t){o=o||e.getText("C_APP_COMPONENT_SAPFE_ETAG_TECHNICAL_ISSUES_CONCURRENT_MODIFICATION")}else{o=o||e.getText("C_APP_COMPONENT_SAPFE_ETAG_TECHNICAL_ISSUES")}p.removeMessages(n[a]);r.setMessage(o);r.setTargets([""]);p.addMessages(r);s=true}});return s}function D(){b.close();P.setVisible(false);const e=b.getContent()[0];const t=e.getModel();if(t){t.setData({})}Ee()}function w(e,t){const n=new Date;const s=e.getTechnicalDetails();const o=T.getResourceBundleFor("sap.fe.core");let r;if(s&&s.httpStatus===503&&s.retryAfter){const e=s.retryAfter;let a;if(n.getFullYear()!==e.getFullYear()){a=m.getDateTimeInstance({pattern:"MMMM dd, yyyy 'at' hh:mm a"});r=o.getText("C_MESSAGE_HANDLING_SAPFE_503_ERROR",[a.format(e)])}else if(n.getFullYear()==e.getFullYear()){if(t){r=`${o.getText("C_MESSAGE_HANDLING_SAPFE_503_TITLE")} ${o.getText("C_MESSAGE_HANDLING_SAPFE_503_DESC")}`}else if(n.getMonth()!==e.getMonth()||n.getDate()!==e.getDate()){a=m.getDateTimeInstance({pattern:"MMMM dd 'at' hh:mm a"});r=o.getText("C_MESSAGE_HANDLING_SAPFE_503_ERROR",[a.format(e)])}else{a=m.getDateTimeInstance({pattern:"hh:mm a"});r=o.getText("C_MESSAGE_HANDLING_SAPFE_503_ERROR_DAY",[a.format(e)])}}}if(s&&s.httpStatus===503&&!s.retryAfter){r=o.getText("C_MESSAGE_HANDLING_SAPFE_503_ERROR_NO_RETRY_AFTER")}return r}function F(){return[...Se(undefined,true),...Se(true,true)].some(function(e){return e.getType()==="Error"||e.getType()==="Warning"})}function B(e,t,s){let o;if(!t){const e='{= ${description} ? "<html><body>" + '+O()+' + "</html></body>" : "" }';const t='{= ${technicalDetails} ? "<html><body>" + '+x()+' + "</html></body>" : "" }';o=new a(undefined,{counter:{path:"counter"},title:"{message}",subtitle:"{additionalText}",longtextUrl:"{descriptionUrl}",type:{path:"type"},groupName:"{headerName}",description:e+t,markupDescription:true})}else if(s){o=new a(undefined,{counter:{path:"counter"},title:"{message}",subtitle:"{additionalText}",longtextUrl:"{descriptionUrl}",type:{path:"type"},description:"{description}",markupDescription:true})}else{o=new a({title:"{message}",type:{path:"type"},longtextUrl:"{descriptionUrl}"})}R=new l({showDetailsPageHeader:false,itemSelect:function(){P.setVisible(true)},items:{path:"/",template:o,length:9999}});R.setGroupItems(true);P=P||new n({icon:d.getIconURI("nav-back"),visible:false,press:function(){R.navigateBack();this.setVisible(false)}});R.setModel(e);return{messageView:R,oBackButton:P}}function $(e){const t=e.getTechnicalDetails();if(t&&(t.originalMessage!==undefined&&t.originalMessage!==null||t.httpStatus!==undefined&&t.httpStatus!==null)||e.getCode()){return true}return false}function L(e,t){let n=this.getMessages();if(e){n=n.concat(this.getMessages(true,true))}return n}function U(e,t){let n=[...e];let s=e.length===1&&e[0].getCode()==="503"?"Box":"Dialog";let o;let r;if(t){const a={showMessageDialog:s==="Dialog",showMessageBox:s==="Box"};const{showMessageBox:i,showMessageDialog:l,showChangeSetErrorDialog:g,filteredMessages:c,fnGetMessageSubtitle:u,containsBoundTransistion:f}=t(e,a);if(i===true){s="Box"}else if(l===true){s="Dialog"}else{s="None"}r=f;o=u;if(g||f===false){n=c??[]}}return{uiElementToUse:s,messagesToShow:n,fnGetMessageSubtitle:o,containsBoundTransition:r}}function H(e,t){let n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;let s=arguments.length>3?arguments[3]:undefined;let o=arguments.length>4?arguments[4]:undefined;let r=arguments.length>5?arguments[5]:undefined;let a=arguments.length>6?arguments[6]:undefined;let i=arguments.length>7?arguments[7]:undefined;let l=arguments.length>8&&arguments[8]!==undefined?arguments[8]:false;let g=arguments.length>9?arguments[9]:undefined;let c=arguments.length>10?arguments[10]:undefined;let u=arguments.length>11?arguments[11]:undefined;if(e&&e.length){Y(e)}const f=L.call(this,n,t);const d=U.call(this,f,a);let{messagesToShow:p,uiElementToUse:m="Dialog"}=d;n=d.containsBoundTransition??n;const E=k(n,l);p=z(E,p??[]);p=u?.filterContextBoundMessages(p,t)||p;({messagesToShow:p,uiElementToUse:m}=W({messagesToShow:p,uiElementToUse:m}));const h=this.modifyETagMessagesOnly(T.getResourceBundleFor("sap.fe.core"),s);if(p.length>0&&m!=="None"){if(p.length>1&&c&&V(p)){const e=v(c,g);p=e?[e]:[p[0]]}if(p.length===1){const e=p[0];if(e.getType()===_.Success){m="Toast"}else if(h||e.getDescription()?.length||e.getDescriptionUrl()?.length){m="Dialog"}else{m="Box"}}if(m==="Dialog"){$e.updateMessageObjectGroupName(p,o,r,i)}const e=d.fnGetMessageSubtitle;if(e){p.forEach(function(t){e(t)})}}return{messagesToShow:p,uiElementToUse:m,contextNeedsEtagRefresh:h?t:undefined,containsBoundTransition:n}}function v(e,t){const n=t?.aSelectedContexts;if(n&&Array.isArray(n)&&n?.length>1&&e){let s=t?.boundActionName;const o=t?.entitySet;s=s?.includes(".")?s?.split(".")[s?.split(".").length-1]:s;const r=s&&o?`${o}|${s}`:"";return new E({message:e.getText("C_COMMON_SUCCESS_MESSAGE",[n?.length],r),type:_.Success,target:"",persistent:true,code:"C_COMMON_SUCCESS_MESSAGE"})}}function V(e){let t;const n=e.some((e,n)=>{if(e.getType()!==_.Success){return true}if(n===0){t=e;return false}else if(t.getCode()===e.getCode()&&t.getMessage()===e.getMessage()&&t.getDescription()===e.getDescription()&&t.getDescriptionUrl()===e.getDescriptionUrl()&&t.getAdditionalText()===e.getAdditionalText()){return false}return true});return!n}async function j(e){const{messagesToShow:t,uiElementToUse:n}=e;if(t.length===0){return Promise.resolve(undefined)}else if(n==="Toast"){return $e.showMessageToast(t[0])}else if(n==="Dialog"){await $e.showMessageDialogControl(e);return Promise.resolve(undefined)}else if(n==="Box"){return $e.showMessageBoxControl(e)}else{return Promise.resolve(undefined)}}function k(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;const n=t?[]:[new h({path:"persistent",operator:S.NE,value1:false})];const s=new h({path:"",test:$});if(t||e){const o=function(e){return $e.isMessageOutOfParameterDialog(e)};n.push(new h({path:"controlIds",test:o,caseSensitive:true}));if(e&&!t){n.push(new h({path:"persistent",operator:S.EQ,value1:true}));n.push(s)}}else{n.push(new h({filters:[new h({path:"",test:e=>e.getTargets().length===0||e.getTargets()[0]===""}),s],and:true}))}return n}function W(e){let{messagesToShow:t,uiElementToUse:n}=e;let s=[...t];if(t.length===2){const e=[];const n=[];t.forEach(t=>{if(t.getCode()==="FE_CUSTOM_MESSAGE_CHANGESET_ALL_FAILED"){e.push(t)}else{n.push(t)}});if(e.length===1){const{fe:t}=e[0].getTechnicalDetails()||{};if(t?.changeSetPreTextForSingleError){const o=t?.changeSetPreTextForSingleError;if(o){const t={fe:{singleErrorPreText:o,singleGenericMessageId:e[0].getId()}};const r=n[0].getTechnicalDetails()??{};n[0].setTechnicalDetails({...r,...t});s=n}}}}return{messagesToShow:s,uiElementToUse:s.length===1&&n!=="None"?"Box":n}}function Y(e){e.forEach(function(e){const t=e.code?e.code:"";p.addMessages(new E({message:e.text,type:e.type,target:"",persistent:true,code:t}))})}function K(){return new A("",undefined,undefined,(e,t)=>{const n=ie(e);const s=ie(t);if(n<s){return-1}if(n>s){return 1}return 0})}function z(e,t){let n=[...t];const s=p.getMessageModel().bindList("/",undefined,undefined,e),o=s.getCurrentContexts();if(o.length>0){const e=o.map(e=>e.getObject());const t={};n=e.concat(n).filter(function(e){return!t[e.getId()]&&(t[e.getId()]=true)})}return n}async function X(e){return new Promise(t=>{i.show(e.getMessage());this.removeUnboundTransitionMessages();t(undefined)})}async function J(e){let o=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;let r;let a;return new Promise(function(i){N.push(i);const l=T.getResourceBundleFor("sap.fe.core");const c=false;const{messagesToShow:u,contextNeedsEtagRefresh:f}=e;const d=new M(u);const m=B(d,c);const E=K();m.messageView.getBinding("items").sort(E);if(!b||!b.isOpen()){b=new s({resizable:true,endButton:new n({press:function(){D();p.removeMessages(u)},text:l.getText("C_COMMON_SAPFE_CLOSE")}),escapeHandler:function(e){D();p.removeMessages(u);e.resolve()},customHeader:new t({contentMiddle:[new g({text:l.getText("C_MESSAGE_HANDLING_SAPFE_ERROR_MESSAGES_PAGE_TITLE")})],contentLeft:[P]}),contentWidth:"37.5em",contentHeight:"21.5em",verticalScrolling:false,closeOnNavigation:false,afterClose:function(){for(const e of N){e()}N=[]}})}b.removeAllContent();b.addContent(R);if(f){b.setBeginButton(new n({press:function(){D();if(f.hasPendingChanges()){f.getBinding().resetChanges()}f.refresh()},text:l.getText("C_COMMON_SAPFE_REFRESH"),type:I.Emphasized}))}else{b.destroyBeginButton()}r=y(R.getItems());a=me(r);b.setState(r);b.getCustomHeader().getContentMiddle()[0].setText(a);R.navigateBack();b.open();if(o){i(b)}})}async function Q(e){return new Promise(function(t){const{messagesToShow:n}=e;const s=n[0];const r=s.getTechnicalDetails();const{singleGenericMessageId:a,singleErrorPreText:i}=r?.fe??{};const l=$e.getRetryAfterMessage(s,true);const g=l?r:true;if(g){const e="<html><body><span style='white-space:pre-wrap'>",n="</span></body></html>";let r=e;if(l){r=`${r}<h6>${l}</h6><br></br>`}else{if(i){const e=s?.["headerName"]?`${s?.["headerName"]}:`:"";r=`${r}${i}<br/><br/>${e} `}}const g=s.getMessage().replaceAll("<","&lt;").replaceAll(">","&gt;");if(s.getCode()!=="503"&&s.getAdditionalText()!==undefined){r=`${r+s.getAdditionalText()}: ${g}${n}`}else{r=`${r+g}${n}`}const c=new o({htmlText:u.escapeSettingsValue(r)});Z(c,{onClose:q.bind(null,s,t,a)},s)}})}function q(e,t,n){const s=[e];if(n){const e=p.getMessageModel().getData();const t=e.find(e=>e.getId()===n);if(t){s.push(t)}}p.removeMessages(s);t(undefined)}function Z(e,t,n){switch(n.getType()){case _.Error:r.error(e,t);break;case _.Warning:r.warning(e,t);break;case _.Success:r.success(e,t);break;case _.Information:r.information(e,t);break;default:r.show(e,t)}}function ee(e,t,n,s){e.forEach(e=>{e["headerName"]="";if(!e.target?.length&&e.getCode?.()!=="FE_CUSTOM_MESSAGE_CHANGESET_ALL_FAILED"){const t=T.getResourceBundleFor("sap.fe.core").getText("T_MESSAGE_BUTTON_SAPFE_MESSAGE_GROUP_GENERAL");e["headerName"]=t}else if(e.target?.length){if(s==="ListReport"&&t?.isA("sap.ui.mdc.Table")){$e.setGroupNameLRTable(t,e,n)}else if(s==="ObjectPage"){$e.setGroupNameOPDisplayMode(e,n,t)}else{e["headerName"]=$e.getLastActionTextAndActionName(n)}}})}function te(e,t,n){const s=e&&e.getRowBinding();if(s){const o=`${e.getRowBinding().getPath()}`;if(t.target?.indexOf(o)===0){const o=s.getCurrentContexts();o.forEach(s=>{if(t.target?.includes(s.getPath())){const o=`${s.getPath()}/`;const r=e.getParent().getIdentifierColumn();const a=r&&s.getObject()[r];const i=$e.getTableColProperty(e,t,o);const{sTableTargetColName:l}=$e.getTableColInfo(e,i);if(i&&l){t["headerName"]=a?` ${a}`:e.getHeader()}else{t["headerName"]=$e.getLastActionTextAndActionName(n)}}})}}}function ne(e,t,n){const s=e.getParent().getIdentifierColumn();if(s){const o=e.getRowBinding().getContexts();o.forEach(e=>{if(t.getTargets()?.[0]?.includes(e.getPath())){const o=s?e.getObject()[s]:"";const r=n.sTableTargetColName?`, ${n.sTableTargetColName}`:"";t.setAdditionalText(`${o}${r}`)}})}else if(n.sTableTargetColName){t.setAdditionalText(`${n.sTableTargetColName}`)}}function se(e,t,n,s){let o=t.getHeaderVisible()&&s.tableHeader;if(!o){o=e.getTitle()}else{const e=T.getResourceBundleFor("sap.fe.core");o=`${e.getText("T_MESSAGE_GROUP_TITLE_TABLE_DENOMINATOR")}: ${o}`}n["headerName"]=o}function oe(e,t,n,s,o,r){const a=t.getRowBinding(),i=true;let l;t.findElements(true).forEach(e=>{if(e.isA("sap.m.Table")||e.isA("sap.ui.table.Table")){l=e}});if(a){const g=`${s?.getPath()}/${t.getRowBinding()?.getPath()}`;if(n.target?.indexOf(g)===0){const s=$e.getTableColumnDataAndSetSubtile(n,t,l,a,r,i,le);const{oTargetTableInfo:g}=s;$e.updateAddtionalTextForMessageInOPTable(t,n,g);$e.updateHeaderNameForMessageInOPTable(e,t,n,g);o=false}}return o}function re(e,t,n){const s=n?.getBindingContext();const o=n?.getContent&&n?.getContent()[0];let r=true;if(o){$e.getVisibleSectionsFromObjectPageLayout(o).forEach(function(n){const o=n.getSubSections();o.forEach(function(n){n.findElements(true).forEach(function(o){if(o.isA("sap.ui.mdc.Table")){r=oe(n,o,e,s,r,t)}})})})}if(r){const n=`${s?.getPath()}`;if(e.target?.indexOf(n)===0){e["headerName"]=$e.getLastActionTextAndActionName(t)}else{e["headerName"]=T.getResourceBundleFor("sap.fe.core").getText("T_MESSAGE_BUTTON_SAPFE_MESSAGE_GROUP_GENERAL")}}}function ae(e){const t=T.getResourceBundleFor("sap.fe.core").getText("T_MESSAGE_BUTTON_SAPFE_MESSAGE_GROUP_LAST_ACTION");return e?`${t}: ${e}`:""}function ie(e){if(e.getCode()==="FE_CUSTOM_MESSAGE_CHANGESET_ALL_FAILED"){return 1}else if(e.headerName?.toString().includes("Last Action")){return 2}else if(e.headerName?.toString().includes("General")){return 4}else{return 3}}const le=(e,t,n)=>{if(n){e["headerName"]=T.getResourceBundleFor("sap.fe.core").getText("T_MESSAGE_BUTTON_SAPFE_MESSAGE_GROUP_GENERAL")}else{e["headerName"]=$e.getLastActionTextAndActionName(t)}};function ge(e,t,n,s,o,r,a){const i=$e.getTableAndTargetInfo(t,e,n,s);i.tableHeader=t.getHeader();let l,g;if(!i.oTableRowContext){l=e.getControlIds().find(function(e){return $e.isControlInTable(t,e)})}if(l){const e=f.getElementById(l);g=$e.isControlPartOfCreationRow(e)}if(!i.sTableTargetColName){if(e.getPersistent()&&o){a(e,o);r=false}}const c=$e.getMessageSubtitle(e,i.oTableRowBindingContexts,i.oTableRowContext,i.sTableTargetColName,t,g);return{oTargetTableInfo:i,subTitle:c}}function ce(e,t,n,s,o,r,a){let i;let l;const g=C(o);const c=o.getParent()?.getTableColumnVisibilityInfo(n);const u=$e.fetchColumnInfo(e,o);if(r||n?.isInactive()){i=g.getText("T_MESSAGE_ITEM_SUBTITLE",[g.getText("T_MESSAGE_ITEM_SUBTITLE_CREATION_ROW_INDICATOR"),s?s:u.label])}else{const e=$e.getTableColBindingContextForTextAnnotation(o,n,c);const r=e?e.getObject("$Path"):undefined;const f=r&&e?e.getObject("@com.sap.vocabularies.UI.v1.TextArrangement/$EnumMember"):undefined;if(t.length>0){if(a){l=a.getValue()}else if(n&&c&&c.length===1){l=o.getParent()?.getTableColValue(n,r,f,c)}else if(n&&c&&c.length>1){l=g.getText("T_MESSAGE_ITEM_SUBTITLE_DETAILED_ROW_INFO")}else{l=undefined}const e=$e.determineColumnInfo(u,g);if(l&&s){i=g.getText("T_MESSAGE_ITEM_SUBTITLE",[l,s])}else if(l&&e.sColumnIndicator==="Hidden"){i=`${g.getText("T_MESSAGE_GROUP_DESCRIPTION_TABLE_ROW_WITH_IDENTIFIER",[l])}, ${e.sColumnValue}`}else if(l&&e.sColumnIndicator==="Unknown"){i=g.getText("T_MESSAGE_GROUP_DESCRIPTION_TABLE_ROW_WITH_IDENTIFIER",[l])}else if(l&&e.sColumnIndicator==="undefined"){i=g.getText("T_MESSAGE_GROUP_DESCRIPTION_TABLE_ROW_WITH_IDENTIFIER",[l])}else if(!l&&s){i=g.getText("T_MESSAGE_GROUP_DESCRIPTION_TABLE_COLUMN")+": "+s}else if(!l&&e.sColumnIndicator==="Hidden"){i=e.sColumnValue}else{i=null}}else{i=null}}return i}function ue(e,t,n){let s;if(t&&n&&n.length===1){const{key:o}=n[0];const r=e?.getModel();const a=r?.getMetaModel();const i=a?.getMetaPath(t.getPath());if(a?.getObject(`${i}/${o}@com.sap.vocabularies.Common.v1.Text/$Path`)){s=a.createBindingContext(`${i}/${o}@com.sap.vocabularies.Common.v1.Text`)}}return s}function fe(e,t){const n=e?.getTargets()[0].split("/").pop();return t.getParent()?.getKeyColumnInfo(n)}function de(e,t){const n={sColumnIndicator:"",sColumnValue:""};if(e){if(e.availability==="Hidden"){n.sColumnValue=undefined;n.sColumnIndicator="undefined"}else{n.sColumnValue=`${t.getText("T_MESSAGE_GROUP_DESCRIPTION_TABLE_COLUMN")} (${t.getText("T_COLUMN_INDICATOR_IN_TABLE_DEFINITION")}): ${e.label}`;n.sColumnIndicator="Hidden"}}else{n.sColumnIndicator="Unknown"}return n}function Te(e,t){const n=f.getElementById(t);if(n&&!n.isA("sap.ui.table.Table")&&!n.isA("sap.m.Table")){return e.findElements(true,function(e){return e.getId()===n.getId()})}return false}function pe(e){let t=e?.getParent();while(t&&!t?.isA("sap.ui.table.Row")&&!t?.isA("sap.ui.table.CreationRow")&&!t?.isA("sap.m.ColumnListItem")){t=t.getParent()}return!!t&&t.isA("sap.ui.table.CreationRow")}function me(e){const t=T.getResourceBundleFor("sap.fe.core");switch(e){case"Error":return t.getText("C_COMMON_SAPFE_ERROR_MESSAGES_PAGE_TITLE_ERROR");case"Information":return t.getText("C_MESSAGE_HANDLING_SAPFE_ERROR_MESSAGES_PAGE_TITLE_INFO");case"Success":return t.getText("C_MESSAGE_HANDLING_SAPFE_ERROR_MESSAGES_PAGE_TITLE_SUCCESS");case"Warning":return t.getText("C_MESSAGE_HANDLING_SAPFE_ERROR_MESSAGES_PAGE_TITLE_WARNING");default:return t.getText("C_MESSAGE_HANDLING_SAPFE_ERROR_MESSAGES_PAGE_TITLE")}}function Ee(){Ae(false)}function _e(e){Ae(true,e)}function he(e,t){if(t===undefined){return e.getObject("/")}const n=e.bindList("/");n.filter(new h({path:"",test:e=>e.getTargets().some(e=>e.startsWith(t))}));return n.getCurrentContexts().map(function(e){return e.getObject()})}function Se(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;let n=arguments.length>2?arguments[2]:undefined;let s;const o=p.getMessageModel(),r=T.getResourceBundleFor("sap.fe.core"),a=[];let i=[];if(e&&t&&n){i=he(o,n)}else{i=o.getObject("/")}for(s=0;s<i.length;s++){if((!t||i[s].getPersistent())&&(e&&i[s].getTargets()[0]!==""||!e&&(!i[s].getTargets()[0]||i[s].getTargets()[0]===""))){a.push(i[s])}}for(s=0;s<a.length;s++){if(a[s].getCode()==="503"&&a[s].getMessage()!==""&&!a[s].getMessage().includes(r.getText("C_MESSAGE_HANDLING_SAPFE_503_BACKEND_PREFIX"))){a[s].setMessage(`\n${r.getText("C_MESSAGE_HANDLING_SAPFE_503_BACKEND_PREFIX")}${a[s].getMessage()}`)}}const l=a.filter($);return l}function Ae(e,t){const n=Se(e,true,t);if(n.length>0){p.removeMessages(n)}}function Me(e,t,n){if(n.additionalText===undefined){const s=e.getParent().getIdentifierColumn();const o=t.find(function(e){return n.getTargets()[0].includes(e.getPath())});n.additionalText=o?o.getObject()[s]:undefined}}function Ce(e){return e.getSections().filter(function(e){return e.getVisible()})}function Ie(e,t){return e.findElements(true,e=>Re(t.getControlIds(),e)).sort(function(e,t){if(e.isA("sap.ui.mdc.Table")&&!t.isA("sap.ui.mdc.Table")){return-1}return 1})}function Ne(e,t,n){const s=function(e){return e.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&")};if(!n){const t=`${e.getBindingContext()?.getPath()}/${e.getRowBinding().getPath()}`;n=new RegExp(`${s(t)}\\(.*\\)/`)}return t.getTargets()[0].replace(n,"")}function be(e,t){let n;const s=e.getColumns().find(function(e){return e.getPropertyKey()==t});if(!s){const s=e.getControlDelegate().getColumnsFor(e).find(function(e){if(!!e.template&&e.propertyInfos){return e.propertyInfos[0]===t||e.propertyInfos[0].replace("Property::","")===t}else{return false}});if(s){t=s?.name;n=e.getColumns().find(function(e){return t===e.getPropertyKey()})?.getHeader()}else{const s=e.getControlDelegate().getColumnsFor(e);const o=s.find(function(e){if(e.key.includes("::FieldGroup::")){return e.propertyInfos?.find(function(e){return e===t||e.replace("Property::","")===t})}});let r=false;if(o&&o.label){r=e.getColumns().some(function(e){return e.getHeader()===o.label})}n=r?o?.label:undefined;t=r?o?.key:undefined}}else{n=s.getHeader()}return{sTableTargetColName:n,sTableTargetColProperty:t}}function Pe(e,t,n,s){const o=Ne(e,t);const r=be(e,o);const a=n?.isA("sap.ui.table.Table")?s.getContexts():s.getCurrentContexts();const i={oTableRowBindingContexts:a,sTableTargetColName:r.sTableTargetColName,sTableTargetColProperty:r.sTableTargetColProperty,oTableRowContext:a.find(function(e){return e&&t.getTargets()[0].indexOf(e.getPath())===0})};return i}function Re(e,t){return e.some(function(e){if(e===t.getId()){return true}return false})}function xe(e,t,n,s,o){let r=arguments.length>5&&arguments[5]!==undefined?arguments[5]:true;return e.getTitle()+(t.getTitle()&&n?`, ${t.getTitle()}`:"")+(s&&s.tableHeader&&r?`, ${o.getText("T_MESSAGE_GROUP_TITLE_TABLE_DENOMINATOR")}: ${s.tableHeader}`:"")}function Oe(e,t){return!t.some(function(t){let n=e.getParent();while(n&&n!==t){n=n.getParent()}return n?true:false})}function ye(e){const t=p.getMessageModel();const n=t.bindList("/");n.filter(new h({path:"",test:t=>t.getTargets().length>0&&t.getTargets()[0].startsWith(e.getPath())}));const s=n.getCurrentContexts();return s.map(e=>e.getObject())}function Ge(e){let t,n;const o=Infinity;if(e.length===1){t=f.getElementById(e[0]);n=f.getElementById(e[0])}else{let n;e.forEach(e=>{const s=f.getElementById(e);if(s?.isA("sap.ui.mdc.Field")){n=e;t=f.getElementById(n)}})}while(t){const e=Infinity;if(t instanceof s){if(o>e){n?.focus()}return false}t=t.getParent()}return true}function De(e){const t=p.getMessageModel().getData();const n=[];t?.forEach(t=>{const s=t.getTargets().length===1;const o=t.getTargets()[0]===e?.getPath();const r=t.getPersistent()===true;if(s&&o&&r){n.push(t)}});if(n.length===1){p.removeMessages(n)}}function we(e,t){const n=[];if(t?.length===1){e?.forEach(e=>{if(e.getTargets().length===1&&e.getTargets()[0]===t?.[0]?.getPath()&&e.getPersistent()===true){n.push(e)}})}if(n.length>0){p.removeMessages(n)}}function Fe(e){const t=e?.filter(e=>e.getPersistent()===true&&e.getTargets()[0]!=="");e=e?.filter(e=>!t?.includes(e));return e}function Be(e){p.getMessageModel().getData()?.forEach(t=>{const n=t.getTargets();if(n.length===1&&n[0].includes(e.getPath())&&t.getPersistent()){p.removeMessages(t)}})}const $e={getMessages:Se,getUIDecisions:H,removeUnboundTransitionMessages:Ee,removeBoundTransitionMessages:_e,modifyETagMessagesOnly:G,getRetryAfterMessage:w,prepareMessageViewForDialog:B,setMessageSubtitle:Me,getVisibleSectionsFromObjectPageLayout:Ce,getControlFromMessageRelatingToSubSection:Ie,fnFilterUponIds:Re,getTableAndTargetInfo:Pe,createSectionGroupName:xe,bIsOrphanElement:Oe,getLastActionTextAndActionName:ae,getTableColumnDataAndSetSubtile:ge,getTableColInfo:be,getTableColProperty:Ne,getMessageSubtitle:ce,determineColumnInfo:de,fetchColumnInfo:fe,getTableColBindingContextForTextAnnotation:ue,getMessageRank:ie,hasTransitionErrorsOrWarnings:F,fnCallbackSetGroupName:le,setGroupNameOPDisplayMode:re,updateMessageObjectGroupName:ee,setGroupNameLRTable:te,isControlInTable:Te,isControlPartOfCreationRow:pe,getFiltersForMessages:k,showMessagesInUI:j,showMessageDialogControl:J,showMessageToast:X,showMessageBoxControl:Q,getMessagesForContext:ye,isMessageOutOfParameterDialog:Ge,removeContextMessagesfromModel:we,removeMessagesForActionParameterDialog:Fe,setGroupNameOPTableDisplayMode:oe,updateAddtionalTextForMessageInOPTable:ne,updateHeaderNameForMessageInOPTable:se,closeMessageBox:q,removeTransistionMessageForContext:De,checkIfAllAreSameSuccessMessages:V,addGenericSuccessMessage:v,isNonTechnicalMessage:$,removeAllTransitionMessagesForContext:Be};return $e},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/controllerextensions/pageReady/DataQueryWatcher", ["sap/base/Log","sap/fe/macros/table/Utils"],function(e,t){"use strict";let i=function(){function i(e,t){this._aBindingRegistrations=[];this._aOtherEventSources=[];this._isSearchPending=false;this._aMDCTables=[];this._aMDCCharts=[];this._oEventProvider=e;this._fnOnFinished=t}var n=i.prototype;n.isSearchPending=function e(){return this._isSearchPending};n.isDataReceived=function e(){return this._isDataReceived};n.resetDataReceived=function e(){this._isDataReceived=undefined};n.reset=function e(){this._aBindingRegistrations.forEach(e=>{e.binding.detachEvent("dataRequested",this.onDataRequested,this);e.binding.detachEvent("dataReceived",this.onDataReceived,this)});this._aOtherEventSources.forEach(e=>{e.detachEvent("search",this.onSearch,this);e.detachEvent("bindingUpdated",this.register,this)});this._aBindingRegistrations=[];this._aOtherEventSources=[];this._aMDCTables=[];this._aMDCCharts=[];this._isSearchPending=false;this._isDataReceived=undefined};n.onDataReceived=function t(i,n){const r=i.getSource();const a=this._aBindingRegistrations.find(e=>e.binding===r);if(!a){e.error("PageReady - data received on an unregistered binding");return}switch(r.getGroupId()){case"$auto.Workers":this._oEventProvider.fireEvent("workersBatchReceived");break;case"$auto.Heroes":this._oEventProvider.fireEvent("heroesBatchReceived");break;default:}a.receivedCount++;if(a.receivedCount<a.requestedCount){r.attachEventOnce("dataReceived",{triggeredBySearch:n.triggeredBySearch},this.onDataReceived,this);return}const s=this._aBindingRegistrations.some(e=>e.requestedCount!==0)&&this._aBindingRegistrations.every(e=>e.requestedCount===0||e.receivedCount>=e.requestedCount);if(n.triggeredBySearch||a.receivedCount>=a.requestedCount){this._isSearchPending=false}if(s){this._isDataReceived=true;this._fnOnFinished()}};n.onDataRequested=function t(i,n){const r=i.getSource();const a=this._aBindingRegistrations.find(e=>e.binding===r);if(!a){e.error("PageReady - data requested on an unregistered binding");return}a.requestedCount++;this._isDataReceived=false;if(a.requestedCount-a.receivedCount===1){r.attachEventOnce("dataReceived",{triggeredBySearch:n.triggeredBySearch},this.onDataReceived,this)}};n.onSearch=function t(i){const n=this._aMDCTables.filter(e=>i.getSource().getId()===e.getFilter()&&e.getVisible()&&!e.getParent()?.getProperty("bindingSuspended"));const r=this._aMDCCharts.filter(e=>i.getSource().getId()===e.getFilter()&&e.getVisible());if(n.length>0||r.length>0){this._isSearchPending=true}n.forEach(e=>{this.registerTable(e,true)});r.forEach(async t=>{try{if(t.innerChartBoundPromise){await t.innerChartBoundPromise}this.registerChart(t,true)}catch(t){e.error("Cannot find a inner bound chart",t)}})};n.register=function e(t,i){const n=i.binding||i.table?.getRowBinding()||(i.chart?.getControlDelegate()).getInnerChart(i.chart).getBinding("data");const r=i.table||i.chart;if(!n){return}let a=this._aBindingRegistrations.find(e=>e.binding===n);if(a){if(r){a.boundControl=r}if(a.requestedCount>0){n.detachEvent("dataRequested",this.onDataRequested,this);n.attachEventOnce("dataRequested",{triggeredBySearch:i.triggeredBySearch},this.onDataRequested,this)}return}if(r){a=this._aBindingRegistrations.find(e=>e.boundControl===r);if(a&&a.binding!==n){a.binding=n;a.requestedCount=0;a.receivedCount=0}}if(!a){a={binding:n,boundControl:r,requestedCount:0,receivedCount:0};this._aBindingRegistrations.push(a)}n.detachEvent("dataRequested",this.onDataRequested,this);n.attachEventOnce("dataRequested",{triggeredBySearch:i.triggeredBySearch},this.onDataRequested,this)};n.registerBinding=function e(t){this.register(null,{binding:t,triggeredBySearch:false})};n.registerTable=function e(t){let i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;if(!this._aMDCTables.includes(t)){this._aMDCTables.push(t)}const n=t.getRowBinding();if(n){this.register(null,{table:t,triggeredBySearch:i})}if(!this._aOtherEventSources.includes(t)){t.attachEvent("bindingUpdated",{table:t,triggeredBySearch:i},this.register,this);this._aOtherEventSources.push(t)}};n.registerChart=function e(t){let i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;if(!this._aMDCCharts.includes(t)){this._aMDCCharts.push(t)}const n=t.getControlDelegate().getInnerChart(t);const r=n?.getBinding("data");if(r){this.register(null,{chart:t,triggeredBySearch:i})}if(!this._aOtherEventSources.includes(t)){t.attachEvent("bindingUpdated",{chart:t,triggeredBySearch:i},this.register,this);this._aOtherEventSources.push(t)}};n.registerTableOrChart=async function i(n){if(!n.isA("sap.ui.mdc.Table")&&!n.isA("sap.ui.mdc.Chart")){return}try{await n.initialized();if(n.isA("sap.ui.mdc.Table")){this.registerTable(n);if(n.getAutoBindOnInit()&&n.getDomRef()){await t.whenBound(n)}}else{this.registerChart(n)}}catch(t){e.error("PageReady - Cannot register a table or a chart",t)}};n.registerFilterBar=function e(t){t.attachEvent("search",this.onSearch,this);this._aOtherEventSources.push(t)};return i}();return i},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/controllerextensions/recommendations/Telemetry", [],function(){"use strict";let e=function(){function e(){this.resetData()}var t=e.prototype;t.updateData=function e(t,n){this.telemetryData[t]=n};t.increaseCount=function e(t){return++this.telemetryData[t]};t.updateResponseTimeInfo=function e(t){const n=this.increaseCount("numberOfTimesRecommendationsFetched");if(t>this.telemetryData.maxTimeTakenToReceiveRecommendations){this.updateData("maxTimeTakenToReceiveRecommendations",t)}if(this.telemetryData.minTimeTakenToReceiveRecommendations===0||t<this.telemetryData.minTimeTakenToReceiveRecommendations){this.updateData("minTimeTakenToReceiveRecommendations",t)}const a=this.telemetryData.totalTimeTaken+t;const o=a/n;this.updateData("averageTimeTakenToReceiveRecommendations",o);this.updateData("totalTimeTaken",a)};t.resetData=function e(){this.telemetryData={numberOfTimesRecommendationsFetched:0,maxTimeTakenToReceiveRecommendations:0,minTimeTakenToReceiveRecommendations:0,averageTimeTakenToReceiveRecommendations:0,numberOfTimesNoPlaceholderIsShownOnUI:0,numberOfRecommendedFields:0,numberOfTimesTopRecommendationsSelected:0,numberOfTimesNonTopRecommendationsSelected:0,numberOfTimesNonRecommendedValueWasSelected:0,numberOfFieldsAcceptedThroughAcceptButton:0,numberOfFieldsIgnoredThroughIgnoreButton:0,numberOfTimesEmptyRecommendations:0,numberofTimesFormatterCalled:0,totalNumberOfRecommendationsReceived:0,numberOfTimesFormatterNotCalled:0,totalTimeTaken:0}};t.storeData=function e(t){if(Object.keys(this.telemetryData).length){this.telemetryData["numberOfTimesFormatterNotCalled"]=this.telemetryData["totalNumberOfRecommendationsReceived"]-this.telemetryData["numberofTimesFormatterCalled"]}t.getController().telemetry.storeAction({type:"FE.Recommendations",parameters:this.telemetryData})};t.getData=function e(){return this.telemetryData};t.updateDataFromRecommendationResponse=function e(t){for(let e=0;e<t.length;e++){const n=t[e];const a=n.AIRecommendedFieldPath;if(!(n.AIRecommendedFieldValue&&n.AIRecommendedFieldDescription)){this.increaseCount("numberOfTimesNoPlaceholderIsShownOnUI")}if(a){if(n._AIAltvRecmddFldVals?.length){this.increaseCount("totalNumberOfRecommendationsReceived")}}}};t.updateTelemetryDataBasedOnUserSelection=function e(t,n,a){const o=(t?.getModel("internal")).getProperty("/recommendationsData");if(o?.[n]){const e=o[n];const t=e.additionalValues?.findIndex(e=>e.value===a);if(a==e.value){this.increaseCount("numberOfTimesTopRecommendationsSelected")}else if(t!==-1){this.increaseCount("numberOfTimesNonTopRecommendationsSelected")}else{this.increaseCount("numberOfTimesNonRecommendedValueWasSelected")}}};return e}();return e},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/controllerextensions/routing/ContextPathHelper", ["sap/fe/core/converters/MetaModelConverter","sap/fe/core/helpers/ModelHelper","sap/fe/core/helpers/SemanticKeyHelper","sap/ui/model/Filter","sap/ui/model/FilterOperator"],function(t,e,n,s,i){"use strict";var r={};var a=t.getInvolvedDataModelObjects;function o(t,e){const n=/^[/]?(\w+)\([^/]+\)$/.exec(t);if(!n){return false}const s=`/${n[1]}`;return e.getObject(`${s}@com.sap.vocabularies.Common.v1.DraftRoot`)?true:false}r.isPathOnDraftRoot=o;function l(t,n,r){const a=function(t){if(t.indexOf("'")===0&&t.lastIndexOf("'")===t.length-1){t=decodeURIComponent(t.substring(1,t.length-1))}return t};const o=t.substring(t.indexOf("(")+1,t.length-1).split(",");let l=n;let c=o;if(n.includes("IsActiveEntity")){l=n.filter(t=>!t.includes("IsActiveEntity"));c=o.filter(t=>!t.startsWith("IsActiveEntity"))}if(l.length!=c.length){return null}const u=e.isFilteringCaseSensitive(r);let f;if(l.length===1){if(c[0].indexOf("=")>0){const t=c[0].split("=");c[0]=t[1]}const t=a(c[0]);f=[new s({path:l[0],operator:i.EQ,value1:t,caseSensitive:u})]}else{const t={};c.forEach(function(e){const n=e.split("="),s=a(n[1]);t[n[0]]=s});let e=false;f=l.map(function(n){const r=n,a=t[r];if(a!==undefined){return new s({path:r,operator:i.EQ,value1:a,caseSensitive:u})}else{e=true;return new s({path:"XX"})}});if(e){return null}}const g=new s({filters:[new s("IsActiveEntity","EQ",false),new s("SiblingEntity/IsActiveEntity","EQ",null)],and:false});f.push(g);return new s(f,true)}r.createFilterFromPath=l;async function c(t,e,n){const s=n.getMetaModel();if(!t||t.length===0){return null}const i=l(e,t,s);if(i===null){return null}const r=e.startsWith("/")?e:`/${e}`;const o=s.getMetaContext(r);const c=a(o);const u=c.targetEntityType.keys.map(t=>t.name);const f=n.bindList(o.getPath(),undefined,undefined,i,{$select:u.join(","),$$groupId:"$auto.Heroes"});const g=await f.requestContexts(0,2);if(g.length){return g[0]}else{return null}}async function u(t){const e=t.getModel();const n=e.getMetaModel();const s=a(n.getMetaContext(t.getPath()));const i=s.targetEntityType.keys.map(t=>t.name);return c(i,t.getPath(),e)}r.getDraftOrActiveContext=u;async function f(t,e,s,i){const r=e.getMetaModel();let a=i.getHashChanger().getHash().split("?")[0];if(a?.lastIndexOf("/")===a?.length-1){a=a.substring(0,a.length-1)}if(!o(a,r)){return t}let l=a?.substring(0,a.indexOf("("));if(l[0]==="/"){l=l.substring(1)}const u=n.getSemanticKeys(r,l)?.map(t=>t.$PropertyPath);if(u===undefined){return t}const f=s.getLastSemanticMapping();if(f?.semanticPath===t){return f.technicalPath}const g=await c(u,a,e);const h=g?.getPath();if(h&&h!==t){s.setLastSemanticMapping({technicalPath:h,semanticPath:t});return h}return t}r.resolvePath=f;return r},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/controllerextensions/routing/NavigationReason", [],function(){"use strict";var t=function(t){t["RowPress"]="RowPress";t["AppStateChanged"]="AppStateChanged";t["RestoreHistory"]="RestoreHistory";t["EditFlowAction"]="EditFlowAction";return t}(t||{});return t},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/controllerextensions/routing/RouterProxy", ["sap/base/Log","sap/fe/base/ClassSupport","sap/fe/core/helpers/Synchronization","sap/ui/base/Object","sap/ui/core/Element","sap/ui/core/Lib"],function(t,e,s,i,n,o){"use strict";var a,r;var h=e.defineUI5Class;function c(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,u(t,e)}function u(t,e){return u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},u(t,e)}const l={EQUAL:0,COMPATIBLE:1,ANCESTOR:2,DIFFERENT:3};const f={LAYOUTPARAM:"layout",IAPPSTATEPARAM:"sap-iapp-state"};function d(t,e){return{_guardHash:t.replace(/\?[^?]*$/,""),hashTracker:e?e.replace(/\?[^?]*$/,""):undefined,check:function(t){return t.indexOf(this._guardHash)===0||(this.hashTracker?t.indexOf(this.hashTracker)===0:false)}}}function p(t){return t.replace(new RegExp(`[&?]*${f.IAPPSTATEPARAM}=[^&]*`),"")}let g=(a=h("sap.fe.core.RouterProxy"),a(r=function(e){function i(){var t;for(var s=arguments.length,i=new Array(s),n=0;n<s;n++){i[n]=arguments[n]}t=e.call(this,...i)||this;t.bIsRebuildHistoryRunning=false;t.bIsComputingTitleHierachy=false;t.bIsGuardCrossAllowed=false;t.sIAppStateKey=null;t._bActivateRouteMatchSynchro=false;t._bApplyRestore=false;t._pathMappings=[];t.restoreHistoryTriggered=false;t.appStateUpdating=false;return t}c(i,e);var a=i.prototype;a.init=function e(s,i){s.getService("shellServices").then(()=>this.asyncInit(s,i)).catch(function(e){t.error("Cannot retrieve the shell services",e)});this._fnHashGuard=this.hashGuard.bind(this);window.addEventListener("popstate",this._fnHashGuard);this._bDisableOnHashChange=false;this._bIgnoreRestore=false;this._bForceFocus=true};a.asyncInit=function t(e,s){this._oShellServices=e.getShellServices();this.initRaw(e.getRouter());this.routingHints=e.getRoutingService().getRoutingHints();this.waitForRouteMatchBeforeNavigation();history.replaceState(Object.assign({feLevel:0},history.state),"",window.location);this.fclEnabled=s;this._fnBlockingNavFilter=this._blockingNavigationFilter.bind(this);this._oShellServices.registerNavigationFilter(this._fnBlockingNavFilter)};a.destroy=function t(){if(this._oShellServices){this._oShellServices.unregisterNavigationFilter(this._fnBlockingNavFilter)}window.removeEventListener("popstate",this._fnHashGuard)};a.setAppStateInHash=function t(e,s){let i;if(e.includes(f.IAPPSTATEPARAM)){i=e.replace(new RegExp(`${f.IAPPSTATEPARAM}=[^&]*`),`${f.IAPPSTATEPARAM}=${s}`)}else{if(!e.includes("?")){i=`${e}?`}else{i=`${e}&`}i+=`${f.IAPPSTATEPARAM}=${s}`}return i};a.findAppStateInHash=function t(e){const s=e.match(new RegExp(`\\?.*${f.IAPPSTATEPARAM}=([^&]*)`));return s&&s.length>1?s[1]:null};a.getDecodedWindowHash=function t(){return decodeURI(window.location.hash)};a.initRaw=function t(e){this._oRouter=e;this._oManagedHistory=[];this._oNavigationGuard=null;const s=this.getHash();this._oManagedHistory.push(this._extractStateFromHash(s));this.appName=this.getAppNameFromHash(this.getDecodedWindowHash());this.sIAppStateKey=this.findAppStateInHash(s)};a.getFullHash=function t(){const e=this._oShellServices.splitHash(this.getDecodedWindowHash());if("appSpecificRoute"in e){return e.appSpecificRoute?.replace(/^&\//,"")??""}return""};a.getHash=function t(){return this._oRouter.getHashChanger().getHash()??""};a.getAppNameFromHash=function t(e){const s=this._oShellServices?.splitHash(e);return s?.shellPart??""};a.isFocusForced=function t(){return this._bForceFocus};a.setFocusForced=function t(e){this._bForceFocus=e};a.removeIAppStateKey=function t(){this.sIAppStateKey=null};a.setAppStateUpdating=function t(e){this.appStateUpdating=e};a.isAppStateUpdating=function t(){return this.appStateUpdating};a.removeRestoreHistoryFlagFromHash=function t(e){return e.replace("restoreHistory=true&","").replace(/[?&]restoreHistory=true/,"")};a.navToHash=async function t(e,s,i,n,o){e=e.startsWith("/")?e.substring(1):e;if(o!==false){await this._oShellServices.setBackNavigation()}e=this.removeRestoreHistoryFlagFromHash(e);if(this._oRouteMatchSynchronization){return this._oRouteMatchSynchronization.waitFor().then(async()=>{this._oRouteMatchSynchronization=undefined;return this._internalNavToHash(e,s,i,n)})}else{if(this._bActivateRouteMatchSynchro){this.waitForRouteMatchBeforeNavigation()}return this._internalNavToHash(e,s,i,n)}};a._internalNavToHash=async function t(e,s,n,a){if(this.fclEnabled&&this.sIAppStateKey&&!this.findAppStateInHash(e)){e=this.setAppStateInHash(e,this.sIAppStateKey)}if(!this.checkHashWithGuard(e)){if(!this.oResourceBundle){this.oResourceBundle=o.getResourceBundleFor("sap.fe.core")}if(!confirm(this.oResourceBundle.getText("C_ROUTER_PROXY_SAPFE_EXIT_NOTSAVED_MESSAGE"))){return Promise.resolve(false)}this.bIsGuardCrossAllowed=true}const r=this._extractStateFromHash(e);if(!this._bForceFocus){const t=i.extractEntitySetsFromHash(this.getHash());this._bForceFocus=a||t.length<r.keys.length&&t.every(function(t,e){return t===r.keys[e]})}const h=this._pushNewState(r,false,s,n);this.storeFocusInfoForCurrentHash();return this._rebuildBrowserHistory(h,false)};a.restoreHistory=async function t(){if(this._bApplyRestore){this._bApplyRestore=false;let t=this.getHash();t=this.removeRestoreHistoryFlagFromHash(t);const e=this._extractStateFromHash(t);const s=this._pushNewState(e,true,false,true);this.restoreHistoryTriggered=true;return this._rebuildBrowserHistory(s,true)}else{return Promise.resolve()}};a.checkRestoreHistoryWasTriggered=function t(){return this.restoreHistoryTriggered};a.resetRestoreHistoryFlag=function t(){this.restoreHistoryTriggered=false};a.navBack=async function t(){const e=this.getHash();let s;for(let t=this._oManagedHistory.length-1;t>0;t--){if(this._oManagedHistory[t].hash===e){s=this._oManagedHistory[t-1].hash;break}}if(s){return this.navToHash(s)}else{window.history.back();return Promise.resolve()}};a.navTo=async function t(e,s){const i=this._oRouter.getURL(e,s);return this.navToHash(i,false,s?.noPreservationCache,false,!s?.bIsStickyMode)};a.exitFromApp=function t(){return this._oShellServices.backToPreviousApp()};a.isCurrentStateImpactedBy=function t(e){if(e[0]==="/"){e=e.substring(1)}const s=d(e);return s.check(this.getHash())};a.isNavigationFinalized=function t(){return!this.bIsRebuildHistoryRunning};a.setNavigationGuard=function t(e,s){this._oNavigationGuard=d(e,s);this.bIsGuardCrossAllowed=false};a.discardNavigationGuard=function t(){this._oNavigationGuard=null};a.hasNavigationGuard=function t(){return this._oNavigationGuard!==null};a.checkHashWithGuard=function t(e){return this._oNavigationGuard===null||this._oNavigationGuard.check(e)};a.isGuardCrossAllowedByUser=function t(){return this.bIsGuardCrossAllowed};a.activateRouteMatchSynchronization=function t(){this._bActivateRouteMatchSynchro=true};a.resolveRouteMatch=function t(){if(this._oRouteMatchSynchronization){this._oRouteMatchSynchronization.resolve()}};a.waitForRouteMatchBeforeNavigation=function t(){this._oRouteMatchSynchronization=new s;this._bActivateRouteMatchSynchro=false};i.extractEntitySetsFromHash=function t(e){if(e===undefined){e=""}const s=e.split("?")[0];const i=s.split("/");const n=[];i.forEach(t=>{if(t.length){n.push(t.split("(")[0])}});return n};a._extractStateFromHash=function t(e){if(e===undefined){e=""}const s={keys:i.extractEntitySetsFromHash(e),hash:e,screenMode:0};const n=e.match(new RegExp(`\\?.*${f.LAYOUTPARAM}=([^&]*)`));s.sLayout=n&&n.length>1?n[1]:undefined;if(s.sLayout==="MidColumnFullScreen"){s.screenMode=1}else if(s.sLayout==="EndColumnFullScreen"){s.screenMode=2}else{s.screenMode=0}return s};a._pushNewState=function t(e,s,i,n){const o=this.removeRestoreHistoryFlagFromHash(this.getHash());let a=this._oManagedHistory.length-1;let r=s?1:0;if(!s){while(a>=0&&this._oManagedHistory[a].hash!==o){this._oManagedHistory.pop();a--}if(this._oManagedHistory.length===0){this._oManagedHistory.push(this._extractStateFromHash(o));history.replaceState(Object.assign({feLevel:0},history.state),"")}}if(i&&!n){this._oManagedHistory[this._oManagedHistory.length-1].preserved=true}let h;while(this._oManagedHistory.length>0){const t=this._oManagedHistory[this._oManagedHistory.length-1];if((n||!t.preserved)&&this._compareCacheStates(t,e)!==l.ANCESTOR){h=this._oManagedHistory.pop();r++}else if(t.preserved&&p(t.hash)===p(e.hash)){h=this._oManagedHistory.pop();r++;e.preserved=true;break}else{break}}this.sIAppStateKey=this.findAppStateInHash(e.hash);if(!this.fclEnabled&&h){const t=this.findAppStateInHash(h.hash);const s=this._compareCacheStates(h,e);if(!this.sIAppStateKey&&t&&(s===l.EQUAL||s===l.COMPATIBLE)){e.hash=this.setAppStateInHash(e.hash,t)}}const c=h&&e.hash===h.hash;if(this._oManagedHistory.length===0||this._oManagedHistory[this._oManagedHistory.length-1].hash!==e.hash){this._oManagedHistory.push(e);if(h&&p(h.hash)===p(e.hash)){e.focusControlId=h.focusControlId;e.secondaryFocusControlId=h.secondaryFocusControlId;e.focusInfo=h.focusInfo;e.secondaryFocusInfo=h.secondaryFocusInfo}}if(r===0){return{type:"append"}}else if(r===1){return c?{type:"none"}:{type:"replace"}}else{return c?{type:"back",steps:r-1}:{type:"back-replace",steps:r-1}}};a._blockingNavigationFilter=function t(){return this._bDisableOnHashChange?"Custom":"Continue"};a._disableEventOnHashChange=function t(){this._bDisableOnHashChange=true;this._oRouter.stop()};a._enableEventOnHashChange=function t(e){this._bDisableOnHashChange=false;this._oRouter.initialize(e)};a._rebuildBrowserHistory=async function t(e,s){const i=this;return new Promise(t=>{this.bIsRebuildHistoryRunning=true;const n=this._oManagedHistory[this._oManagedHistory.length-1],o=this._oManagedHistory.length-1;function a(){if(!s){i._enableEventOnHashChange(true)}i._oRouter.getHashChanger().replaceHash(n.hash);history.replaceState(Object.assign({feLevel:o},history.state),"");if(s){setTimeout(function(){i._enableEventOnHashChange(true)},0)}i.bIsRebuildHistoryRunning=false;t(true)}function r(){window.removeEventListener("popstate",r);setTimeout(function(){a()},0)}function h(){window.removeEventListener("popstate",h);i.bIsRebuildHistoryRunning=false;t(true)}i._bIgnoreRestore=true;switch(e.type){case"replace":const s=history.state?.focusInfo;i._oRouter.getHashChanger().replaceHash(n.hash);history.replaceState(Object.assign({feLevel:o,focusInfo:s},history.state),"");i.bIsRebuildHistoryRunning=false;t(true);break;case"append":i._oRouter.getHashChanger().setHash(n.hash);history.replaceState(Object.assign({feLevel:o},history.state),"");i.bIsRebuildHistoryRunning=false;t(true);break;case"back":window.addEventListener("popstate",h);history.go(-e.steps);break;case"back-replace":this._disableEventOnHashChange();window.addEventListener("popstate",r);history.go(-e.steps);break;default:this.bIsRebuildHistoryRunning=false;t(false)}})};a.getLastHistoryEntry=function t(){return this._oManagedHistory[this._oManagedHistory.length-1]};a.setPathMapping=function t(e){this._pathMappings=e.filter(t=>t.oldPath!==t.newPath)};a.hashGuard=function t(){let e=this.getDecodedWindowHash();const s=this.getAppNameFromHash(e);if(s!=this.appName){return}if(e.includes("restoreHistory=true")){this._bApplyRestore=true}else if(!this.bIsRebuildHistoryRunning&&this._oRouter.isInitialized()){const t=this._pathMappings.find(t=>e.includes(t.oldPath));if(t){e=e.replace(t.oldPath,t.newPath);history.replaceState(Object.assign({},history.state),"",encodeURI(e))}const s=e.split("&/");const i=s[1]?s[1]:"";if(this.checkHashWithGuard(i)){const t=this._extractStateFromHash(i);this._pushNewState(t,false,false,this.isAppStateUpdating()?false:true)}}};a._compareCacheStates=function t(e,s){if(e.keys.length>s.keys.length){return l.DIFFERENT}let i=true;let n;for(n=0;i&&n<e.keys.length;n++){if(e.keys[n]!==s.keys[n]){i=false}}if(!i){if(e.keys.length===1&&s.keys.length===1&&this.routingHints?.[e.keys[0]]){if(this.routingHints[e.keys[0]].parentOf&&this.routingHints[e.keys[0]].parentOf.includes(s.keys[0])){return l.ANCESTOR}}return l.DIFFERENT}if(e.keys.length<s.keys.length||e.screenMode<s.screenMode){return l.ANCESTOR}if(e.screenMode>s.screenMode){return l.DIFFERENT}return e.sLayout===s.sLayout?l.EQUAL:l.COMPATIBLE};i.splitAppSpecificRoute=function t(e){const s=e?.split("&/")??[];if(!s[0]){s.shift()}return s};a.checkIfBackIsOutOfGuard=function t(){const e=this.getFullHash();const s=i.splitAppSpecificRoute(e);if(s.length>1){return false}const n=s[0]??"";let o;if(this._oNavigationGuard){for(let t=this._oManagedHistory.length-1;t>0;t--){if(this._oManagedHistory[t].hash===n){o=this._oManagedHistory[t-1].hash;break}}return!o||!this.checkHashWithGuard(o)}return false};a.checkIfBackExitsApp=function t(){const e=this.getFullHash();const s=i.splitAppSpecificRoute(e);if(s.length>1){return false}const n=s[0]??"";return this._oManagedHistory.length>0&&this._oManagedHistory[0].hash===n};a.checkIfBackHasSameContext=function t(){if(this._oManagedHistory.length<2){return false}const e=this._oManagedHistory[this._oManagedHistory.length-1];const s=this._oManagedHistory[this._oManagedHistory.length-2];return e.hash.split("?")[0]===s.hash.split("?")[0]};a.restoreFocusForCurrentHash=function t(){const e=p(this.getHash());const s=this._oManagedHistory.find(t=>p(t.hash)===e);let i=false;if(s?.focusControlId){let t=n.getElementById(s.focusControlId);let e=s.focusInfo;let o=false;if((!t||!t.getFocusDomRef())&&s.secondaryFocusControlId){t=n.getElementById(s.secondaryFocusControlId);e=s.secondaryFocusInfo;o=true}if(t?.getParent()?.isA("sap.ui.mdc.Table")&&t.getBusy()&&!o){return false}t?.focus(e);i=t!==undefined}return i};a.storeFocusInfoForCurrentHash=function t(){const e=p(this.getHash());const s=this._oManagedHistory.find(t=>p(t.hash)===e);if(s){const t=n.getActiveElement();s.focusControlId=t?.getId();if(t){let e=t.getParent();while(e&&!e.isA("sap.ui.table.Table")&&!e.isA("sap.m.Table")){e=e.getParent()}s.secondaryFocusControlId=e?.getId();s.secondaryFocusInfo={preventScroll:true}}s.focusInfo=t?.getFocusInfo()}};a.findLayoutForHash=function t(e){if(!this.fclEnabled){return undefined}const s=e.split("?")[0];let i;for(let t=this._oManagedHistory.length-1;t>=0&&i===undefined;t--){if(this._oManagedHistory[t].hash.split("?")[0]===s){i=this._oManagedHistory[t]}}return i?.sLayout};return i}(i))||r);return g},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/controllerextensions/viewState/IViewStateContributor", [],function(){"use strict";var e={};let n=function e(){};e=n;return e},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/controllerextensions/viewState/IViewStateContributorMixin", ["sap/fe/core/controllerextensions/viewState/IViewStateContributor","sap/ui/core/Component"],function(t,e){"use strict";var o={};function n(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,r(t,e)}function r(t,e){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},r(t,e)}let i=function(t){function r(){return t.apply(this,arguments)||this}o=r;n(r,t);var i=r.prototype;i.getInterfaceName=function t(){return r.interfaceName};i.setupMixin=function t(o){function n(t){let o=e.getOwnerComponentFor(t);let n=t;while(!o&&n&&!n.isA("sap.ui.core.mvc.View")){n=n.getParent();if(n){o=e.getOwnerComponentFor(n)}}if(o?.isA("sap.fe.core.TemplateComponent")){return o}}function r(t){return n(t)?.getRootController()}function i(t){const e=r(t.getSource());if(e){e?.viewState?.registerStateContributor(t.getSource());t.getSource().detachEvent("modelContextChange",i)}}const c=o.prototype.init;o.prototype.init=function(){c?.call(this);const t=r(this);if(!t){this.attachEvent("modelContextChange",i)}else{t.viewState.registerStateContributor(this)}};const s=o.prototype.destroy;o.prototype.destroy=function(){r(this)?.viewState?.deregisterStateContributor(this);s?.call(this)}};return r}(t);i.interfaceName="sap.fe.core.controllerextensions.viewState.IViewStateContributor";o=i;return o},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/controls/Any", ["sap/ui/core/Element"],function(t){"use strict";const e=t.extend("sap.fe.core.controls.Any",{metadata:{properties:{any:"any",bindBackProperty:"string",anyText:"string",anyBoolean:"boolean"}},updateProperty:function(t){const e=this.getBindingInfo(t).binding.getExternalValue();if(t==="any"){this.setAny(e);const t=this.getBindingContext();if(this.getBindBackProperty()&&t){const n=this.getModel().getLocalAnnotationModel();const i=t.getPath(this.getBindBackProperty());if(n.getProperty(i)!==e){n.setProperty(i,e)}}}else{this.setAnyText(e)}}});return e},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/controls/AnyElement", ["sap/ui/core/Element"],function(e){"use strict";const t=e.extend("sap.fe.core.controls.AnyElement",{metadata:{properties:{anyText:"string"}},updateProperty:function(e){if(e==="anyText"){this.setAnyText(this.getBindingInfo(e).binding.getExternalValue())}}});return t},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/controls/CommandExecution", ["sap/base/Log","sap/fe/base/ClassSupport","sap/ui/core/CommandExecution","sap/ui/core/Component","sap/ui/core/Element","sap/ui/core/Shortcut"],function(t,e,o,r,n,i){"use strict";var s,a;var c={};var p=e.defineUI5Class;function u(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,f(t,e)}function f(t,e){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},f(t,e)}let h=(s=p("sap.fe.core.controls.CommandExecution"),s(a=function(e){function o(t,o){return e.call(this,t,o)||this}c=o;u(o,e);var s=o.prototype;s.setParent=function t(o){e.prototype.setParent.call(this,o);const r=o.data("sap.ui.core.Shortcut");if(Array.isArray(r)&&r.length>0){const t=o.data("sap.ui.core.Shortcut")[r.length-1],e=t.shortcutSpec;if(e){for(const t in e){if(e[t]&&t!=="key"){return}}}return}};s.destroy=function t(e){const o=this.getParent();if(o){const t=this._getCommandInfo();if(t){i.unregister(this.getParent(),t.shortcut)}this._cleanupContext(o)}n.prototype.destroy.apply(this,[e])};s.setVisible=function o(n){let i,s=this.getParent(),a;if(!s){e.prototype.setVisible.call(this,n)}while(!a&&s){a=r.getOwnerComponentFor(s);s=s.getParent()}if(a){i=a.getCommand(this.getCommand());if(i){e.prototype.setVisible.call(this,n)}else{t.info("There is no shortcut definition registered in the manifest for the command : "+this.getCommand())}}return this};return o}(o))||a);c=h;return c},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/controls/ComponentLoader", ["sap/fe/base/ClassSupport","sap/ui/core/Component","sap/ui/core/Control"],function(e,t,r){"use strict";var n,i,o,a,u,s,l,p,c,f,g;var d={};var b=e.property;var m=e.defineUI5Class;var h=e.aggregation;function y(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function v(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,w(e,t)}function w(e,t){return w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},w(e,t)}function z(e,t,r,n,i){var o={};return Object.keys(n).forEach(function(e){o[e]=n[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=r.slice().reverse().reduce(function(r,n){return n(e,t,r)||r},o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer?(Object.defineProperty(e,t,o),null):o}function C(e,t){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let O=(n=m("sap.fe.core.controls.ComponentLoader"),i=b({type:"string",required:true}),o=b({type:"string"}),a=b({type:"object"}),u=h({type:"sap.ui.core.ComponentContainer",multiple:false,isDefault:true}),n(s=(l=function(e){function r(){var t;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++){n[i]=arguments[i]}t=e.call(this,...n)||this;y(t,"name",p,t);y(t,"prefix",c,t);y(t,"settings",f,t);y(t,"component",g,t);return t}d=r;v(r,e);var n=r.prototype;n.init=function e(){this.targets=this.getTargets()};n.getTargets=function e(){let r=t.getOwnerComponentFor(this);let n;while(r&&!n){if(r.isA("sap.ui.core.UIComponent")){n=r.getTargets()}r=t.getOwnerComponentFor(r)}if(!n){throw new Error("Could not determine the instance of sap.ui.core.routing.Targets")}return n};n.addTarget=function e(){const t=this.targets.getTarget(this.getId(),true);if(!t){const e={type:"Component",name:this.name,id:this.getId(),controlId:this.getId(),controlAggregation:"component"};if(this.settings){e.options={settings:this.settings}}this.targets.addTarget(this.getId(),e)}};n.applySettings=function t(r,n){e.prototype.applySettings.call(this,r,n);this.addTarget();return this};n.onBeforeRendering=function e(){this.targets.display({name:this.getId(),prefix:this.prefix,routeRelevant:true})};r.render=function e(t,r){if(r.component){r.component.getRenderer().render(t,r.component)}};return r}(r),p=z(l.prototype,"name",[i],{configurable:true,enumerable:true,writable:true,initializer:null}),c=z(l.prototype,"prefix",[o],{configurable:true,enumerable:true,writable:true,initializer:null}),f=z(l.prototype,"settings",[a],{configurable:true,enumerable:true,writable:true,initializer:null}),g=z(l.prototype,"component",[u],{configurable:true,enumerable:true,writable:true,initializer:function(){return null}}),l))||s);d=O;return d},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/controls/DataLossOrDraftDiscard/DraftDataLossDialog", ["sap/fe/base/ClassSupport","sap/fe/core/helpers/ResourceModelHelper","sap/fe/core/helpers/StableIdHelper","sap/m/Button","sap/m/CustomListItem","sap/m/Dialog","sap/m/Label","sap/m/List","sap/m/Text","sap/m/VBox","sap/ui/base/ManagedObject","sap/ui/core/CustomData","sap/ui/core/library","../../CommonUtils","sap/fe/base/jsx-runtime/jsx","sap/fe/base/jsx-runtime/jsxs","sap/fe/base/jsx-runtime/Fragment"],function(e,t,s,i,a,o,n,r,l,c,d,u,h,D,p,f,T){"use strict";var g,_,L,A,S,R,m;var O={};var b=h.ValueState;var v=s.generate;var y=t.getResourceModel;var x=e.defineUI5Class;var C=e.defineReference;function E(e,t,s,i){s&&Object.defineProperty(e,t,{enumerable:s.enumerable,configurable:s.configurable,writable:s.writable,value:s.initializer?s.initializer.call(i):void 0})}function F(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,M(e,t)}function M(e,t){return M=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},M(e,t)}function w(e,t,s,i,a){var o={};return Object.keys(i).forEach(function(e){o[e]=i[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=s.slice().reverse().reduce(function(s,i){return i(e,t,s)||s},o),a&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),void 0===o.initializer?(Object.defineProperty(e,t,o),null):o}function I(e,t){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let B=(g=x("sap.fe.core.controls.DataLossOrDraftDiscard.DraftDataLossDialog"),_=C(),L=C(),g(A=(S=function(e){function t(){var t;for(var s=arguments.length,i=new Array(s),a=0;a<s;a++){i[a]=arguments[a]}t=e.call(this,...i)||this;E(t,"dataLossDialog",R,t);E(t,"optionsList",m,t);t.shallForceDraftSaveOrDiscard=false;return t}O=t;F(t,e);var s=t.prototype;s.open=async function e(t,s){this.view=t.getView();const i=D.getAppComponent(this.view);this.isHiddenDraft=i.getEnvironmentCapabilities()?.getCapabilities()?.HiddenDraft?.enabled;const a=this.view.getBindingContext();this.isRootContextNew=a?await t.editFlow.isRootContextNew(a):false;this.shallForceDraftSaveOrDiscard=t.editFlow.shallForceDraftSaveOrDiscard();this.dataLossResourceModel=y(this.view);this.createContent();const o=()=>this.handleDataLossOk();this.optionsList.current?.addEventDelegate({onkeyup:function(e){if(e.key==="Enter"){o()}}});this.view.addDependent(this.dataLossDialog.current);this.dataLossDialog.current?.open();if(s!=null){this.selectAndFocusFirstEntry(s)}else{this.selectAndFocusFirstEntry()}return new Promise(e=>{this.promiseResolve=e})};s.close=function e(){this.dataLossDialog.current?.close();this.dataLossDialog.current?.destroy()};s.handleDataLossOk=function e(){this.promiseResolve(this.getSelectedKey())};s.handleDataLossCancel=function e(){this.promiseResolve("cancel")};s.selectAndFocusFirstEntry=function e(t){if(t===true){const e=this.optionsList.current?.getItems()[1];this.optionsList.current?.setSelectedItem(e);e?.focus();return}const s=this.optionsList.current?.getItems()[0];this.optionsList.current?.setSelectedItem(s);s?.focus()};s.getSelectedKey=function e(){const t=this.optionsList.current;return t.getSelectedItem().data("itemKey")};s.getConfirmButton=function e(){return p(i,{text:this.dataLossResourceModel.getText("C_COMMON_DIALOG_OK"),type:"Emphasized",press:()=>this.handleDataLossOk()})};s.getCancelButton=function e(){return p(i,{text:this.isHiddenDraft?this.dataLossResourceModel.getText("C_COMMON_SAPFE_CLOSE"):this.dataLossResourceModel.getText("C_COMMON_DIALOG_CANCEL"),press:()=>this.handleDataLossCancel()})};s.getItems=function e(t){let s="";let i=this.dataLossResourceModel.getText("ST_DRAFT_DATALOSS_SAVE_DRAFT_RBL");if(t){s=this.isHiddenDraft?this.dataLossResourceModel.getText("ST_DRAFT_DATALOSS_SAVE_HIDDEN_DRAFT_TOL"):this.dataLossResourceModel.getText("ST_DRAFT_DATALOSS_SAVE_DRAFT_TOL")}else{i=this.dataLossResourceModel.getText("ST_DRAFT_DATALOSS_CREATE_ENTITY_RBL");s=this.dataLossResourceModel.getText("ST_DRAFT_DATALOSS_CREATE_ENTITY_TOL")}const o=[];o.push(p(a,{customData:[new u({key:"itemKey",value:"draftDataLossOptionSave"})],children:f(c,{class:"sapUiTinyMargin",children:[p(n,{text:i,design:"Bold"}),p(l,{text:s})]})}));if((t||!this.shallForceDraftSaveOrDiscard)&&!this.isHiddenDraft){o.push(p(a,{customData:[new u({key:"itemKey",value:"draftDataLossOptionKeep"})],children:f(c,{class:"sapUiTinyMargin",children:[p(n,{text:this.dataLossResourceModel.getText("ST_DRAFT_DATALOSS_KEEP_DRAFT_RBL"),design:"Bold"}),p(l,{text:this.dataLossResourceModel.getText("ST_DRAFT_DATALOSS_KEEP_DRAFT_TOL")})]})}))}o.push(p(a,{customData:[new u({key:"itemKey",value:"draftDataLossOptionDiscard"})],children:f(c,{class:"sapUiTinyMargin",children:[p(n,{text:this.isHiddenDraft?this.dataLossResourceModel.getText("ST_DRAFT_DATALOSS_DISCARD_HIDDEN_DRAFT_RBL"):this.dataLossResourceModel.getText("ST_DRAFT_DATALOSS_DISCARD_DRAFT_RBL"),design:"Bold"}),p(l,{text:this.dataLossResourceModel.getText("ST_DRAFT_DATALOSS_DISCARD_DRAFT_TOL")})]})}));return o};s.createContent=function e(){const t=this.view.getBindingContext()?.getObject().HasActiveEntity===true;const s=this.isHiddenDraft?!this.isRootContextNew:t;const i=s?this.dataLossResourceModel.getText("ST_DRAFT_DATALOSS_POPUP_MESSAGE_SAVE"):this.dataLossResourceModel.getText("ST_DRAFT_DATALOSS_POPUP_MESSAGE_CREATE");return p(o,{id:v([this.getId(),"draftDataLossDialog"]),title:this.dataLossResourceModel.getText("WARNING"),state:b.Warning,type:"Message",contentWidth:"22rem",ref:this.dataLossDialog,children:{content:f(T,{children:[p(l,{text:i,class:"sapUiTinyMarginBegin sapUiTinyMarginTopBottom"}),p(r,{mode:"SingleSelectLeft",showSeparators:"None",includeItemInSelection:"true",backgroundDesign:"Transparent",class:"sapUiNoContentPadding",ref:this.optionsList,items:this.getItems(s)})]}),buttons:f(T,{children:["confirmButton = ",this.getConfirmButton(),"cancelButton = ",this.getCancelButton()]})}})};return t}(d),R=w(S.prototype,"dataLossDialog",[_],{configurable:true,enumerable:true,writable:true,initializer:null}),m=w(S.prototype,"optionsList",[L],{configurable:true,enumerable:true,writable:true,initializer:null}),S))||A);O=B;return O},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/controls/DataWatcher", ["sap/fe/base/ClassSupport","sap/ui/core/Element"],function(e,t){"use strict";var i,r,n,a,o,l,u;var s={};var p=e.property;var c=e.event;var f=e.defineUI5Class;function d(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function g(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,h(e,t)}function h(e,t){return h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},h(e,t)}function b(e,t,i,r,n){var a={};return Object.keys(r).forEach(function(e){a[e]=r[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce(function(i,r){return r(e,t,i)||i},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer?(Object.defineProperty(e,t,a),null):a}function v(e,t){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let y=(i=f("sap.fe.core.controls.DataWatcher"),r=p({type:"any"}),n=c(),i(a=(o=function(e){function t(t,i,r){var n;n=e.call(this,t,i,r)||this;d(n,"propertyBinding",l,n);d(n,"valueChanged",u,n);n.isInitial=true;n.isSingleton=((typeof t!=="string"?t:i)?.propertyBinding).startsWith("{/");return n}s=t;g(t,e);var i=t.prototype;i.setPropertyBinding=function t(i){const r=this.getProperty("propertyBinding");if(this.isInitial||!this.isSingleton&&this._previousContextPath!==this.getBindingContext()?.getPath()){this.isInitial=false;this._initialValue=i;this._previousContextPath=this.getBindingContext()?.getPath()}e.prototype.setProperty.call(this,"propertyBinding",i,true);this.fireEvent("valueChanged",{value:i,oldValue:r,isInitial:i===this._initialValue,context:this.getBindingContext()})};return t}(t),l=b(o.prototype,"propertyBinding",[r],{configurable:true,enumerable:true,writable:true,initializer:null}),u=b(o.prototype,"valueChanged",[n],{configurable:true,enumerable:true,writable:true,initializer:null}),o))||a);s=y;return s},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/controls/FormElementWrapper", ["sap/fe/base/ClassSupport","sap/ui/core/Control"],function(e,t){"use strict";var r,i,n,a,o,l,s,u,c,f,d,p,b;var y=e.property;var m=e.implementInterface;var g=e.defineUI5Class;var v=e.association;var h=e.aggregation;function A(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function B(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,_(e,t)}function _(e,t){return _=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},_(e,t)}function w(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer?(Object.defineProperty(e,t,a),null):a}function z(e,t){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let I=(r=g("sap.fe.core.controls.FormElementWrapper"),i=m("sap.ui.core.IFormContent"),n=y({type:"sap.ui.core.CSSSize",defaultValue:undefined}),a=y({type:"boolean",defaultValue:false}),o=v({type:"sap.ui.core.Control",multiple:true,singularName:"ariaLabelledBy"}),l=h({type:"sap.ui.core.Control",multiple:false,isDefault:true}),r(s=(u=function(e){function t(t,r){var i;i=e.call(this,t,r)||this;A(i,"__implements__sap_ui_core_IFormContent",c,i);A(i,"width",f,i);A(i,"formDoNotAdjustWidth",d,i);A(i,"ariaLabelledBy",p,i);A(i,"content",b,i);return i}B(t,e);var r=t.prototype;r.getAccessibilityInfo=function e(){const t=this.content;return t&&t.getAccessibilityInfo?t.getAccessibilityInfo():{}};r.onBeforeRendering=function e(){const t=e=>{if(e.isA("sap.m.VBox")||e.isA("sap.m.HBox")){const r=e.getItems().filter(e=>!e.isA("sap.m.Avatar"));for(const e of r){t(e)}}else if(e.isA("sap.fe.macros.draftIndicator.DraftIndicator")){this.setAriaLabelledByForDraftIndicator(e)}else{this.setAriaLabelledBy(e)}};t(this.getContent())};r.setAriaLabelledBy=function e(t){if(t?.addAriaLabelledBy){const e=this.ariaLabelledBy;for(const r of e){const e=t.getAriaLabelledBy?.()||[];if(e.indexOf(r)===-1){t.addAriaLabelledBy(r)}}}};r.setAriaLabelledByForDraftIndicator=function e(t){if(t?.addAriaLabelledByForDraftIndicator){const e=this.ariaLabelledBy;for(const r of e){const e=t.getAriaLabelledBy();if(!e.includes(r)){t.addAriaLabelledByForDraftIndicator(r)}}}};t.render=function e(t,r){t.openStart("div",r);t.style("min-height","1rem");t.style("width",r.width);t.openEnd();t.openStart("div");t.style("display","flex");t.style("box-sizing","border-box");t.style("justify-content","space-between");t.style("align-items","center");t.style("flex-wrap","wrap");t.style("align-content","stretch");t.style("width","100%");t.openEnd();t.renderControl(r.content);t.close("div");t.close("div")};return t}(t),c=w(u.prototype,"__implements__sap_ui_core_IFormContent",[i],{configurable:true,enumerable:true,writable:true,initializer:function(){return true}}),f=w(u.prototype,"width",[n],{configurable:true,enumerable:true,writable:true,initializer:null}),d=w(u.prototype,"formDoNotAdjustWidth",[a],{configurable:true,enumerable:true,writable:true,initializer:null}),p=w(u.prototype,"ariaLabelledBy",[o],{configurable:true,enumerable:true,writable:true,initializer:null}),b=w(u.prototype,"content",[l],{configurable:true,enumerable:true,writable:true,initializer:null}),u))||s);return I},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/controls/HideFormGroupAutomatically", ["sap/fe/base/ClassSupport","sap/fe/base/EventDelegateHook","../CommonUtils"],function(t,e,o){"use strict";var n,r;var i=t.defineUI5Class;function s(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,a(t,e)}function a(t,e){return a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},a(t,e)}let f=(n=i("sap.fe.core.controls.HideFormGroupAutomatically"),n(r=function(t){function e(){var e;for(var o=arguments.length,n=new Array(o),r=0;r<o;r++){n[r]=arguments[r]}e=t.call(this,...n)||this;e.appComponent=null;return e}s(e,t);var n=e.prototype;n.onBeforeRendering=function t(){this.appComponent=o.getAppComponent(this.getParent());this.hideSubsectionsFormContainer();this.hideHeaderContainer()};n.hideSubsectionsFormContainer=function t(){const e=this?.getParent();if(e?.isA("sap.ui.layout.form.Form")){const t=e?.getFormContainers();this.hideFormContainers(t)}};n.hideHeaderContainer=function t(){const e=this.fetchObjectPage();const o=e?.getSections?.();if(!Array.isArray(o)){return}for(const t of o){const e=t?.getSubSections();for(const t of e){const e=t?.getBlocks();const o=e?.some(t=>t.isA("sap.ui.layout.form.Form"));if(!Array.isArray(e)||!o){continue}for(const t of e){if(t.isA("sap.ui.layout.form.Form")){const e=t?.getFormContainers?.();if(Array.isArray(e)){this.hideFormContainers(e)}}}}}};n.hideFormContainers=function t(e){if(!Array.isArray(e))return;for(const t of e){const e=t?.getFormElements();const o=e?.some(t=>t?.getVisible());const n=e.some(t=>{const e=t?.getBindingInfo?.("visible");if(Array.isArray(e?.parts))return e.parts.some(t=>t.path==="showDetails");return false});const r=t?.getBindingInfo?.("visible")?.parts?.length>0;this.hideFormElements(e);if(this.appComponent?.isAdaptationMode()===true&&e?.length===0||n||r||t.data("UiHiddenPresent")==="true"){continue}if(o===false){t.setVisible(false)}else if(!t.getVisible()){t.setVisible(true)}}};n.fetchObjectPage=function t(){let e=this.getParent();while(!(e?.isA("sap.uxap.ObjectPageLayout")??false)&&typeof e?.getParent==="function"){e=e.getParent()}return e?.isA("sap.uxap.ObjectPageLayout")===true?e:null};n.hideFormElements=function t(e){if(!Array.isArray(e))return;for(const t of e){const e=t?.getFields();const o=e?.every(t=>t?.getVisible?.()===false);if(o)t.setVisible(false)}};return e}(e))||r);return f},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/controls/MultiValueParameterDelegate", ["sap/ui/mdc/field/MultiValueFieldDelegate"],function(t){"use strict";const n=Object.assign({},t,{_transformConditions:function(t,n,s){const e=[];for(const o of t){const t={};t[n]=o.values[0];if(s){t[s]=o.values[1]}e.push(t)}return e},updateItems:function(t,n,s){const e=s.getBinding("items");const o=s.getBindingInfo("items");const i=o.path;const c=o.template;const a=c.getBindingInfo("key");const r=a&&a.parts[0].path;const f=c.getBindingInfo("description");const u=f&&f.parts[0].path;const d=e.getModel();d.setProperty(i,this._transformConditions(n,r,u))}});return n},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/controls/Recommendations/ConfirmRecommendationDialog", ["sap/base/Log","sap/fe/base/ClassSupport","sap/fe/core/converters/MetaModelConverter","sap/fe/core/helpers/ResourceModelHelper","sap/fe/core/library","sap/m/Button","sap/m/CustomListItem","sap/m/Dialog","sap/m/FlexItemData","sap/m/HBox","sap/m/List","sap/m/Text","sap/m/Toolbar","sap/m/ToolbarSpacer","sap/ui/base/ManagedObject","sap/ui/core/library","sap/ui/model/Sorter","sap/ui/model/json/JSONModel","../../formatters/ValueFormatter","../../helpers/StandardRecommendationHelper","sap/fe/base/jsx-runtime/jsx","sap/fe/base/jsx-runtime/Fragment","sap/fe/base/jsx-runtime/jsxs"],function(e,t,n,o,i,r,a,c,s,l,m,d,u,g,f,p,h,R,C,x,D,A,M){"use strict";var v,_,O,b,T;var E={};var y=x.standardRecommendationHelper;var I=p.ValueState;var P=o.getResourceModel;var w=t.defineUI5Class;var j=t.defineReference;function N(e,t,n,o){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(o):void 0})}function S(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,L(e,t)}function L(e,t){return L=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},L(e,t)}function F(e,t,n,o,i){var r={};return Object.keys(o).forEach(function(e){r[e]=o[e]}),r.enumerable=!!r.enumerable,r.configurable=!!r.configurable,("value"in r||r.initializer)&&(r.writable=!0),r=n.slice().reverse().reduce(function(n,o){return o(e,t,n)||n},r),i&&void 0!==r.initializer&&(r.value=r.initializer?r.initializer.call(i):void 0,r.initializer=void 0),void 0===r.initializer?(Object.defineProperty(e,t,r),null):r}function B(e,t){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}const V=i.ProgrammingModel;let G=function(e){e["Accept"]="Accept_Recommendations";e["Reject"]="Reject_Recommendations";e["Continue"]="Continue_Editing";e["Skipped"]="Skipped";return e}({});E.RecommendationDialogDecision=G;let $=(v=w("sap.fe.core.controls.Recommendations.ConfirmRecommendationDialog"),_=j(),v(O=(b=function(t){function o(e){var n;n=t.call(this,e)||this;N(n,"confirmRecommendationDialog",T,n);n.view=e.view;n.programmingModel=e.programmingModel;n.confirmRecommendationDialogResourceModel=P(n.view);return n}E.ConfirmRecommendationDialog=o;S(o,t);var i=o.prototype;i.getOpenRecommendations=function e(){const t=this.getVisiblePageContextPaths();const n=this.getOpenRecommendationsForVisibleContextPaths(t);const o=[];if(n.length>0){n.forEach(e=>{const t=e.context;const n=this.view.getBindingContext();const i=e.propertyPath??"";const r=(e,t)=>{const n=e?.getProperty(t);return n===null||n===undefined||n===""};if(r(t,i)&&r(n,i)){o.push(e)}})}return o};i.getVisiblePageContextPaths=function e(){const t=[this.view.getBindingContext()?.getPath()];const n=this.view.getController();const o=n.getAppComponent().getRootViewController();const i=n.getAppComponent()._isFclEnabled();const r=i?o.getHelper().getCurrentUIState().isFullScreen:true;if(i&&!r){const e=o.getRightmostContext();if(!t.includes(e?.getPath())){t.push(e?.getPath())}}return t};i.getOpenRecommendationsForVisibleContextPaths=function e(t){const n=[];if(t.length>0){const e=this.view.getModel().getLocalAnnotationModel();t.forEach(t=>{if(t!==undefined){const o=e.getObject(t);if(o){const e=o;this.fetchLocalAnnotationObject(e,n)}}})}return n};i.fetchLocalAnnotationObject=function e(t,o){if(t["recommendationContext"]){const e={};e["recommendationContext"]=t["recommendationContext"];for(const n in t){const i=t[n];if(i){if(i["recommendationContext"]){this.fetchLocalAnnotationObject(t[n],o)}else if(n.includes("@$ui5.fe.recommendations.placeholderValue")||n.includes("@$ui5.fe.recommendations.placeholderDescription")||n.includes("@$ui5.fe.recommendations.typeAheadValues")){e[n]=i}}}const i=n.getInvolvedDataModelObjectEntityKeys(e["recommendationContext"]);e["recommendationContext"].contextIdentifier=i["semanticKeys"]?i["semanticKeys"]:i["technicalKeys"];this.getOpenRecommendationsForContext(e,e["recommendationContext"],o)}};i.getOpenRecommendationsForContext=function e(t,n,o){let i=arguments.length>3&&arguments[3]!==undefined?arguments[3]:"";for(const e in t){const r=t[e];if(r){const a=r.isA&&r.isA("sap.ui.model.odata.v4.Context");if(e.includes("@$ui5.fe.recommendations.placeholderValue")){const a=e.split("@$ui5.fe.recommendations.placeholderValue")[0];const c={context:n,propertyPath:i?`${i}/${a}`:a,value:r,contextIdentifier:n.contextIdentifier,contextIdentifierText:[]};const s=t[`${a}@$ui5.fe.recommendations.placeholderDescription`];if(s){c.text=s}o.push(c)}else if(typeof r==="object"&&!Array.isArray(r)&&!a){this.getOpenRecommendationsForContext(r,n,o,e)}}}};i.open=async function e(t){const n=this.getOpenRecommendations();if(n.length>0){y.addContextIdentifierText({recommendationData:n},this.view.getBindingContext()?.getPath());this.acceptAllParams={recommendationData:n};await(this.view?.getController()).recommendations.onBeforeAcceptRecommendations(this.acceptAllParams)}else{const e=(this.view?.getController()).recommendations.checkIfRecommendationsExist();if(e){this.acceptAllParams=await(this.view?.getController()).recommendations.fetchAcceptAllParams()}else{return undefined}}const o=this.getAcceptAllModel();this.view.setModel(o,"_acceptDialogModel");if(!o.getData().items?.length){return G.Skipped}this.isSave=t;const i=this.getContent();i?.setEscapeHandler(this.onContinueEditing.bind(this));this.view.addDependent(i);i?.open();return new Promise((e,t)=>{this.promiseResolve=e;this.promiseReject=t})};i.close=function e(){this.confirmRecommendationDialog.current?.close();this.confirmRecommendationDialog.current?.destroy()};i.onAcceptAndSave=async function t(){try{const e=await(this.view?.getController()).recommendations.acceptRecommendations(this.acceptAllParams);if(!e){this.promiseReject("Accept Failed")}this.promiseResolve(G.Accept)}catch{e.error("Accept Recommendations Failed");this.promiseReject("Accept Failed")}finally{this.close()}};i.onIgnoreAndSave=function e(){const t=this.view.getModel().getLocalAnnotationModel();const n=t.getProperty("/rejectedRecommendations")??{};if(!this.acceptAllParams?.recommendationData){return}const o=new Set;for(const e of this.acceptAllParams.recommendationData){const i=e.context?.getPath()??"";if(i!==""&&!o.has(i)){const e=t.getObject(i);if(e!==null&&typeof e==="object"){this._processRecommendationContext(i,e,n,t,o)}}}(this.view?.getController()).recommendations.ignoreRecommendationForContexts();this.promiseResolve(G.Reject);this.close()};i._processRecommendationContext=function e(t,n,o,i,r){const a=this._filterRecommendationKeys(n);this._clearRecommendationProperties(n,t,i);o[t]=a;i.setProperty("/rejectedRecommendations",o);r.add(t)};i._filterRecommendationKeys=function e(t){const n={};for(const e of Object.keys(t)){if(e.includes("ui5.fe.recommendations")){n[e]=t[e]}}return n};i._clearRecommendationProperties=function e(t,n,o){for(const e of Object.keys(t)){if(e.includes("ui5.fe.recommendations")){o.setProperty(`${n}/${e}`,undefined)}}};i.onContinueEditing=function e(){this.promiseResolve(G.Continue);this.close()};i.getFieldName=function e(t){const o=n.getInvolvedDataModelObjectsForTargetPath(t,this.view?.getBindingContext()?.getModel()?.getMetaModel());return o?.targetObject?.annotations?.Common?.Label?.toString()||t.split("/")[t.split("/").length-1]};i.getText=function e(t,n){if(t.text||t.value){switch(n){case"Description":return t.text;case"DescriptionValue":return C.formatWithBrackets(t.text,t.value);case"ValueDescription":return C.formatWithBrackets(t.value,t.text);case"Value":return t.value}}return t.value||""};i.getButton=function e(t,n,o){return D(r,{text:t,type:n,width:"auto",press:o,children:{layoutData:D(A,{children:D(s,{minWidth:"100%"})})}})};i.getFooter=function e(){return D(u,{children:{content:M(A,{children:[D(g,{}),this.getButton(this._getDialogButtonText(this.isSave,G.Accept),"Emphasized",this.onAcceptAndSave.bind(this)),this.getButton(this._getDialogButtonText(this.isSave,G.Reject),"Ghost",this.onIgnoreAndSave.bind(this)),this.getButton(this.confirmRecommendationDialogResourceModel.getText("C_RECOMMENDATION_DIALOG_CONTINUE_EDITING"),"Ghost",this.onContinueEditing.bind(this))]})}})};i._getDialogButtonText=function e(t,n){const o=n===G.Accept;if(t){const e=this.view.getBindingContext("pageInternal")?.getProperty("createMode");if(e){return o?this.confirmRecommendationDialogResourceModel.getText("C_RECOMMENDATION_DIALOG_ACCEPT_AND_CREATE"):this.confirmRecommendationDialogResourceModel.getText("C_RECOMMENDATION_DIALOG_REJECT_AND_CREATE")}return o?this.confirmRecommendationDialogResourceModel.getText("C_RECOMMENDATION_DIALOG_ACCEPT_AND_SAVE"):this.confirmRecommendationDialogResourceModel.getText("C_RECOMMENDATION_DIALOG_REJECT_AND_SAVE")}return o?this.confirmRecommendationDialogResourceModel.getText("C_RECOMMENDATION_DIALOG_ACCEPT"):this.confirmRecommendationDialogResourceModel.getText("C_RECOMMENDATION_DIALOG_REJECT")};i.getAcceptAllModel=function e(){const t=new R;const n=[];for(const e of this.acceptAllParams?.recommendationData||[]){const t=y.getEntityName(e.context)||"";const o=e.contextIdentifierText&&e.contextIdentifierText.length>0?`${t} (${e.contextIdentifierText})`:t;if(e.value||e.text){const t=e.context?.getPath()+"/"+e.propertyPath;const i=y.getDisplayModeForTargetPath(t,this.view?.getBindingContext()?.getModel()?.getMetaModel());const r={fieldName:this.getFieldName(t).valueOf(),fieldValue:this.getText(e,i),identifierTexts:o};n.push(r)}}t.setData({items:n});return t};i.getGroup=function e(t){return t.getProperty("identifierTexts")};i.getMessage=function e(){const t=this.view.getModel("_acceptDialogModel")?.getData()?.items;const n=t.length>1?this.confirmRecommendationDialogResourceModel.getText("C_RECOMMENDATION_DIALOG_TEXT",[t.length]):this.confirmRecommendationDialogResourceModel.getText("C_RECOMMENDATION_DIALOG_TEXT_SINGULAR");return D(d,{text:n})};i.getDialogContent=function e(){return D(m,{items:{model:"_acceptDialogModel",path:"/items",sorter:new h("identifierTexts",false,this.getGroup)},children:D(a,{children:D(l,{class:"sapUiSmallMarginBegin sapUiTinyMargin",children:D(d,{text:"{_acceptDialogModel>fieldName}: {_acceptDialogModel>fieldValue}"})})})})};i.getContent=function e(){return D(c,{title:this.confirmRecommendationDialogResourceModel.getText("C_RECOMMENDATION_DIALOG_TITLE"),state:I.Information,type:"Message",ref:this.confirmRecommendationDialog,resizable:"true",contentWidth:"35rem",children:{content:M(A,{children:[this.getMessage(),this.getDialogContent()]}),footer:D(A,{children:this.getFooter()})}})};return o}(f),T=F(b.prototype,"confirmRecommendationDialog",[_],{configurable:true,enumerable:true,writable:true,initializer:null}),b))||O);E.ConfirmRecommendationDialog=$;return E},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/controls/inlineEditFlow/DraftExistsDialog", ["sap/m/Button","sap/m/Dialog","sap/m/Text","sap/ui/core/library","sap/fe/base/jsx-runtime/jsx","sap/fe/base/jsx-runtime/jsxs"],function(e,t,s,i,n,a){"use strict";var o={};var p=i.ValueState;let r=function(){function i(i){this.containingView=i;this.dialog=a(t,{title:"{sap.fe.i18n>WARNING}",type:"Message",state:p.Warning,children:[{content:n(s,{text:"{sap.fe.i18n>C_INLINE_EDIT_DRAFT_EXISTS}"})},{beginButton:n(e,{type:"Emphasized",text:"{sap.fe.i18n>C_COMMON_DIALOG_OK}",press:()=>this.close()})}]});i.addDependent(this.dialog)}o=i;var r=i.prototype;r.open=function e(){this.dialog.open()};r.close=function e(){this.dialog.close();this.dialog.destroy()};return i}();o=r;return o},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/controls/inlineEditFlow/InlineEditExitDialog", ["sap/m/Button","sap/m/CustomListItem","sap/m/Dialog","sap/m/Label","sap/m/List","sap/m/Text","sap/m/VBox","sap/ui/core/CustomData","sap/ui/core/library","sap/fe/base/jsx-runtime/jsx","sap/fe/base/jsx-runtime/jsxs"],function(e,t,s,i,n,a,o,l,c,d,r){"use strict";var p={};var I=c.ValueState;let u=function(e){e["SAVE"]="Save";e["DISCARD"]="Discard";e["CANCEL"]="Cancel";return e}({});p.DIALOGRESULT=u;let A=function(){function c(c,p){this.containingView=c;this.dialogCallBack=p;this.optionsList=d(n,{mode:"SingleSelectLeft",showSeparators:"None",includeItemInSelection:"true",backgroundDesign:"Transparent",class:"sapUiNoContentPadding",children:{items:[d(t,{customData:[new l({key:"itemKey",value:"SAVE"})],children:r(o,{class:"sapUiTinyMargin",children:[d(i,{text:"{sap.fe.i18n>C_INLINE_EDIT_BEFORENAVIGATION_SAVE_RBL}",design:"Bold"}),d(a,{text:"{sap.fe.i18n>C_INLINE_EDIT_BEFORENAVIGATION_SAVE_TOL}"})]})}),d(t,{customData:[new l({key:"itemKey",value:"DISCARD"})],children:r(o,{class:"sapUiTinyMargin",children:[d(i,{text:"{sap.fe.i18n>C_INLINE_EDIT_BEFORENAVIGATION_DISCARD_RBL}",design:"Bold"}),d(a,{text:"{sap.fe.i18n>C_INLINE_EDIT_BEFORENAVIGATION_DISCARD_TOL}"})]})})]}});this.dialog=r(s,{title:"{sap.fe.i18n>WARNING}",type:"Message",contentWidth:"22rem",state:I.Warning,children:[{content:[d(a,{text:"{sap.fe.i18n>C_INLINE_EDIT_BEFORENAVIGATION_MESSAGE}",class:"sapUiTinyMarginBegin sapUiTinyMarginTopBottom"}),this.optionsList]},{beginButton:d(e,{type:"Emphasized",text:"{sap.fe.i18n>C_COMMON_DIALOG_OK}",press:()=>this.closeAndOK()})},{endButton:d(e,{text:"{sap.fe.i18n>C_COMMON_DIALOG_CANCEL}",press:()=>this.closeAndCancel()})}]});c.addDependent(this.dialog)}p=c;var A=c.prototype;A.open=function e(){this.dialog.open();this.selectAndFocusFirstEntry()};A.getSelectedKey=function e(){const t=this.optionsList;return t.getSelectedItem().data("itemKey")};A.selectAndFocusFirstEntry=function e(){const t=this.optionsList.getItems()[0];this.optionsList.setSelectedItem(t);t?.focus()};A.closeAndOK=function e(){if(this.getSelectedKey()==="SAVE"){this.dialogCallBack(u.SAVE)}else{this.dialogCallBack(u.DISCARD)}this.dialog.close();this.dialog.destroy()};A.closeAndCancel=function e(){this.dialogCallBack(u.CANCEL);this.dialog.close();this.dialog.destroy()};return c}();p=A;return p},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/converters/ConverterContext", ["sap/fe/core/converters/ManifestWrapper","sap/fe/core/converters/MetaModelConverter","sap/fe/core/helpers/BindingHelper","sap/fe/core/helpers/ModelHelper","sap/fe/core/helpers/TypeGuards","sap/fe/core/templating/DataModelPathHelper"],function(t,e,n,i,a,r){"use strict";var o=r.getTargetObjectPath;var s=r.getContextRelativeTargetObjectPath;var h=r.enhanceDataModelPath;var f=a.isServiceObject;var c=n.singletonPathVisitor;var u=e.getInvolvedDataModelObjectFromPath;var l=e.convertTypes;const p=function(t){return typeof t==="object"};const g=function(t,e){let n;let i;let a;let r;let o=[];const s=[];t.objectPath.forEach(t=>{if(f(t)){switch(t._type){case"NavigationProperty":o.push(t.name);s.push(t);r=t.targetType;if(a&&a.navigationPropertyBinding.hasOwnProperty(o.join("/"))){i=a.navigationPropertyBinding[o.join("/")];a=i;o=[]}else{i=undefined}break;case"EntitySet":if(n===undefined){n=t}i=t;a=i;r=i?.entityType;break;default:break}}});const h={startingEntitySet:n,targetEntityType:r,targetEntitySet:i,navigationProperties:s,contextLocation:undefined,targetObject:t.target,convertedTypes:e};h.contextLocation=h;return h};let y=function(){function e(t,e,n,i){this.convertedTypes=t;this.manifestWrapper=e;this.diagnostics=n;this.targetDataModelPath=i;this.baseContextPath=o(this.targetDataModelPath)}var n=e.prototype;n._getEntityTypeFromFullyQualifiedName=function t(e){return this.convertedTypes.entityTypes.find(t=>{if(e.startsWith(t.fullyQualifiedName)){const n=e.replace(t.fullyQualifiedName,"");return n.startsWith("/")||n.startsWith("@")}return false})};n.getAnnotationEntityType=function t(e){if(e&&typeof e==="object"){const t=e.fullyQualifiedName;const n=this._getEntityTypeFromFullyQualifiedName(t);if(!n){throw new Error(`Cannot find Entity Type for ${e.fullyQualifiedName}`)}return n}else{return this.targetDataModelPath.targetEntityType}};n.getManifestControlConfiguration=function t(e){if(p(e)){return this.manifestWrapper.getControlConfiguration(e.fullyQualifiedName.replace(this.targetDataModelPath.targetEntityType.fullyQualifiedName,""))}const n=typeof this.manifestWrapper.getEntitySet()==="string"&&this.manifestWrapper.getEntitySet().length>0;const i=typeof this.manifestWrapper.getContextPath()==="string"&&this.manifestWrapper.getContextPath().length>0;const a=e.startsWith("/");if(!this.manifestWrapper.hasMultipleEntitySets()){return this.manifestWrapper.getControlConfiguration(e)}else if(!a&&(n&&this.baseContextPath!==`/${this.manifestWrapper.getEntitySet()}`||i&&this.baseContextPath!==this.manifestWrapper.getContextPath())){return this.manifestWrapper.getControlConfiguration(`${this.baseContextPath}/${e}`)}else if(Object.keys(this.manifestWrapper.getControlConfiguration(`${this.baseContextPath}/${e}`)).length>0){return this.manifestWrapper.getControlConfiguration(`${this.baseContextPath}/${e}`)}else if(Object.keys(this.manifestWrapper.getControlConfiguration(e)).length>0){return this.manifestWrapper.getControlConfiguration(e)}return this.manifestWrapper.getControlConfiguration(`${this.baseContextPath}/${e}`)};n.getAbsoluteAnnotationPath=function t(e){if(!e){return e}if(e[0]==="/"){return e}return`${this.baseContextPath}/${e}`};n.getEntitySet=function t(){return this.targetDataModelPath.targetEntitySet};n.getContextPath=function t(){return this.baseContextPath};n.getDataModelObjectPath=function t(){return this.targetDataModelPath};n.getEntityContainer=function t(){return this.convertedTypes.entityContainer};n.getEntityType=function t(){return this.targetDataModelPath.targetEntityType};n.getParameterEntityType=function t(){const e=this.targetDataModelPath.startingEntitySet.entityType;const n=!!e.annotations?.Common?.ResultContext;return n&&e};n.getEntityTypeAnnotation=function t(n){if(!n.includes("@")){throw new Error(`Not an annotation path: '${n}'`)}const i=n.startsWith("/");let a;if(i){a=n}else{const t=this.getContextPath().split("@",1)[0];a=t.endsWith("/")?t+n:`${t}/${n}`}const r=this.resolveAbsolutePath(a);const o=u({target:r.target,visitedObjects:r.objectPath},this.convertedTypes,i?undefined:this.targetDataModelPath.contextLocation,true);return{annotation:r.target,converterContext:new e(this.convertedTypes,this.manifestWrapper,this.diagnostics,o)}};n.getTemplateType=function t(){return this.manifestWrapper.getTemplateType()};n.getConvertedTypes=function t(){return this.convertedTypes};n.getRelativeAnnotationPath=function t(e,n){return e.replace(n.fullyQualifiedName,"")};n.getEntitySetBasedAnnotationPath=function t(e){if(!e){return e}const n=this.targetDataModelPath.targetEntityType.fullyQualifiedName;if(this.targetDataModelPath.targetEntitySet||(this.baseContextPath.startsWith("/")&&this.baseContextPath.match(/\//g)||[]).length>1){let t=e.replace(n,"/");if(t.length>2&&t[0]==="/"&&t[1]==="/"){t=t.substring(1)}return this.baseContextPath+(t.startsWith("/")?t:`/${t}`)}else{return`/${e}`}};n.getManifestWrapper=function t(){return this.manifestWrapper};n.getDiagnostics=function t(){return this.diagnostics};n.resolveAbsolutePath=function t(e){return this.convertedTypes.resolvePath(e)};n.getConverterContextFor=function t(n){const i=this.convertedTypes.resolvePath(n);const a=g(i,this.convertedTypes);return new e(this.convertedTypes,this.manifestWrapper,this.diagnostics,a)};n.getAnnotationsByTerm=function t(e,n){let i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:[this.getEntityType()];let a=[];i.forEach(t=>{if(t){const i=t?.annotations[e]||{};if(i){a=Object.keys(i).filter(t=>i[t].term===n).reduce((t,e)=>{t.push(i[e]);return t},a)}}});return a};n.getRelativeModelPathFunction=function t(){const e=this.targetDataModelPath;const n=this.convertedTypes;return function(t){const i=c(t,n,[]);const a=h(e,t);const r=s(a,true);if(r){return r}return i}};e.createConverterContextForMacro=function n(i,a,r,o,s,h){const f=a.isA("sap.ui.model.odata.v4.ODataMetaModel")?a:a.getModel();const c=l(f);let u=c.entitySets.find(t=>t.name===i);if(!u){u=c.singletons.find(t=>t.name===i)}if(!s||u!==s.startingEntitySet){s={startingEntitySet:u,navigationProperties:[],targetEntitySet:u,targetEntityType:u?.entityType||c.entityTypes.find(t=>t.name===i),targetObject:u,convertedTypes:c}}if(!h){h=new t({})}return new e(c,h,r,s)};n.fetchTextFromMetaModel=function t(e){return i.fetchTextFromMetaModel(e,this)};return e}();return y},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/converters/ManifestSettings", [],function(){"use strict";var e={};let t=function(e){e["ListReport"]="ListReport";e["ObjectPage"]="ObjectPage";e["AnalyticalListPage"]="AnalyticalListPage";e["FreeStylePage"]="None";return e}({});e.TemplateType=t;let n=function(e){e["DataFieldForAction"]="ForAction";e["DataFieldForIntentBasedNavigation"]="ForNavigation";e["Default"]="Default";e["Primary"]="Primary";e["Secondary"]="Secondary";e["SwitchToActiveObject"]="SwitchToActiveObject";e["SwitchToDraftObject"]="SwitchToDraftObject";e["DraftActions"]="DraftActions";e["CollaborationAvatars"]="CollaborationAvatars";e["DefaultApply"]="DefaultApply";e["Menu"]="Menu";e["ShowFormDetails"]="ShowFormDetails";e["Copy"]="Copy";e["Cut"]="Cut";e["Standard"]="Standard";e["CreateNext"]="CreateNext";e["Separator"]="Separator";return e}({});e.ActionType=n;let o=function(e){e["Auto"]="Auto";e["None"]="None";e["Multi"]="Multi";e["Single"]="Single";e["ForceMulti"]="ForceMulti";e["ForceSingle"]="ForceSingle";return e}({});e.SelectionMode=o;let a=function(e){e["Page"]="Page";e["Control"]="Control";e["None"]="None";return e}({});e.VariantManagementType=a;let r=function(e){e["NewPage"]="NewPage";e["Sync"]="Sync";e["Async"]="Async";e["Deferred"]="Deferred";e["Inline"]="Inline";e["CreationRow"]="CreationRow";e["InlineCreationRows"]="InlineCreationRows";e["External"]="External";e["CreationDialog"]="CreationDialog";return e}({});e.CreationMode=r;let i=function(e){e["Table"]="Table";e["Chart"]="Chart";return e}({});e.VisualizationType=i;let l=function(e){e["ChangeSet"]="ChangeSet";e["Isolated"]="Isolated";return e}({});e.OperationGroupingMode=l;let c=function(e){e["High"]="High";e["Medium"]="Medium";e["Low"]="Low";e["None"]="None";return e}({});e.Importance=c;let u=function(e){e["End"]="End";e["Begin"]="Begin";e["Center"]="Center";return e}({});e.HorizontalAlign=u;return e},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/converters/ManifestWrapper", ["sap/base/util/merge","sap/fe/core/converters/ManifestSettings","sap/ui/Device"],function(t,n,e){"use strict";var i=n.VariantManagementType;function s(t,n){const e=t?.[n];if(Array.isArray(e)){e.forEach(t=>s(t,"annotationPath"))}else if(e&&typeof e==="string"&&!e.includes("@")){t[n]="@"+e}}let o=function(){function n(t,n){this.oManifestSettings=t;this.appComponent=n;s(this.oManifestSettings,"defaultTemplateAnnotationPath");this.oManifestSettings.views?.paths.forEach(t=>{s(t,"annotationPath");s(t,"primary");s(t,"secondary")});if(this.oManifestSettings.controlConfiguration){for(const t of Object.values(this.oManifestSettings.controlConfiguration)){const n=t.tableSettings?.quickVariantSelection;s(n,"paths")}}}var o=n.prototype;o.getSapFeManifestConfiguration=function t(){return this.oManifestSettings.sapFeManifestConfiguration};o.getTemplateType=function t(){return this.oManifestSettings.converterType};o.isFilterBarHidden=function t(){return!!this.oManifestSettings?.hideFilterBar};o.useHiddenFilterBar=function t(){return!!this.oManifestSettings?.useHiddenFilterBar};o.getCollapsedHeaderFragment=function t(){return this.oManifestSettings?.content?.header?.customHeader?.collapsedHeaderFragment};o.getExpandedHeaderFragment=function t(){return this.oManifestSettings?.content?.header?.customHeader?.expandedHeaderFragment};o.isDesktop=function t(){return!!this.oManifestSettings.isDesktop};o.isPhone=function t(){return!!this.oManifestSettings.isPhone};o.getFormContainer=function t(n){return this.oManifestSettings.controlConfiguration?.[n]};o.getHeaderFacets=function n(){return t({},this.oManifestSettings.controlConfiguration?.["@com.sap.vocabularies.UI.v1.HeaderFacets"]?.facets??{},this.oManifestSettings.content?.header?.facets??{})};o.getHeaderActions=function t(){return this.oManifestSettings.content?.header?.actions||{}};o.getFooterActions=function t(){return this.oManifestSettings.content?.footer?.actions||{}};o.getVariantManagement=function t(){return this.oManifestSettings.variantManagement||i.None};o.getDefaultTemplateAnnotationPath=function t(){return this.oManifestSettings.defaultTemplateAnnotationPath};o.getControlConfiguration=function t(n){return this.oManifestSettings?.controlConfiguration?.[n]||{}};o.getNavigationConfiguration=function t(n){return this.oManifestSettings?.navigation?.[n]||{}};o.getViewLevel=function t(){return this.oManifestSettings?.viewLevel||-1};o.getContentDensities=function t(){return this.oManifestSettings?.contentDensities||{cozy:false,compact:false}};o.isFclEnabled=function t(){return!!this.oManifestSettings?.fclEnabled};o.isCondensedLayoutCompliant=function t(){const n=this.oManifestSettings?.contentDensities||{cozy:false,compact:false};const i=this.oManifestSettings?.shellContentDensity||"compact";let t=true;const s=!e.system.desktop||e.resize.width<=320;if(n?.cozy===true&&n?.compact!==true||i==="cozy"||s){t=false}return t};o.isCompactType=function t(){const n=this.getContentDensities();const e=this.oManifestSettings?.shellContentDensity||"compact";return n.compact!==false||e==="compact"?true:false};o.getOutboundNavigationEntries=function t(){return this.appComponent?.getManifestEntry("sap.app")?.crossNavigation?.outbounds};o.getSectionLayout=function t(){return this.oManifestSettings.sectionLayout??"Tabs"};o.getSections=function n(){return t({},this.oManifestSettings.controlConfiguration?.["@com.sap.vocabularies.UI.v1.Facets"]?.sections??{},this.oManifestSettings.content?.body?.sections??{})};o.getHorizontalLayoutForFieldGroup=function t(n,e){return this.oManifestSettings.content?.body?.sections?.[n]?.subSections?.[e]?.horizontalLayout};o.isHeaderEditable=function t(){return this.getShowObjectPageHeader()&&!!this.oManifestSettings.editableHeaderContent};o.getUseTextForNoDataMessages=function t(){return this.oManifestSettings.useTextForNoDataMessages??false};o.getShowAnchorBar=function t(){return this.oManifestSettings.content?.header?.anchorBarVisible!==undefined?!!this.oManifestSettings.content?.header?.anchorBarVisible:true};o.useIconTabBar=function t(){return this.getShowAnchorBar()&&this.oManifestSettings.sectionLayout==="Tabs"};o.getShowObjectPageHeader=function t(){return this.oManifestSettings.content?.header?.visible!==undefined?!!this.oManifestSettings.content?.header?.visible:true};o.getEnableLazyLoading=function t(){return this.oManifestSettings.enableLazyLoading??false};o.getTransportSelection=function t(){return this.oManifestSettings.content?.transportSelection};o.getViewConfiguration=function t(){return this.oManifestSettings.views};o.getStickyMultiTabHeaderConfiguration=function t(){const n=this.oManifestSettings.stickyMultiTabHeader;return n!==undefined?n:true};o.getKPIConfiguration=function t(){return this.oManifestSettings.keyPerformanceIndicators||{}};o.getFilterConfiguration=function t(){let n=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"@com.sap.vocabularies.UI.v1.SelectionFields";return this.getControlConfiguration(n)};o.hasMultipleEntitySets=function t(){const n=this.getViewConfiguration()||{paths:[]};const e=this.oManifestSettings.entitySet;return n.paths.find(t=>{if(t?.template){return undefined}else if(this.hasMultipleVisualizations(t)){const{primary:n,secondary:i}=t;return n.some(t=>t.entitySet&&t.entitySet!==e)||i.some(t=>t.entitySet&&t.entitySet!==e)}else{t=t;return t.entitySet&&t.entitySet!==e}})!==undefined};o.getContextPath=function t(){return this.oManifestSettings?.contextPath};o.isViewPathConfiguration=function t(n){return"annotationPath"in n&&!("primary"in n)&&!("secondary"in n)};o.isCombinedViewConfiguration=function t(n){return!this.isCustomViewConfiguration(n)&&!this.isViewPathConfiguration(n)?n.primary?.length>0&&n.secondary?.length>0:false};o.isCustomViewConfiguration=function t(n){return"template"in n};o.hasMultipleVisualizations=function t(n){if(!n){const t=this.getViewConfiguration()||{paths:[]};return t.paths.some(t=>this.isCombinedViewConfiguration(t))}return this.isCombinedViewConfiguration(n)};o.getEntitySet=function t(){return this.oManifestSettings.entitySet};o.hasInlineEdit=function t(){return!!this.oManifestSettings.inlineEdit?.disabledFields||(this.oManifestSettings?.inlineEdit?.enabledFields?.length??0)>0};o.getInlineEditEnabledFields=function t(){return this.oManifestSettings?.inlineEdit?.enabledFields??[]};o.getInlineEditDisabledFields=function t(){return this.oManifestSettings?.inlineEdit?.disabledFields??[]};o.getInlineConnectedFields=function t(){return this.oManifestSettings?.inlineEdit?.connectedFields??[]};return n}();return o},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/converters/MetaModelConverter", ["sap/fe/base/BindingToolkit","sap/fe/core/converters/common/AnnotationConverter","sap/fe/core/helpers/TypeGuards","sap/fe/core/services/EnvironmentServiceFactory","../helpers/StableIdHelper"],function(e,t,n,i,o){"use strict";var a={};var r=o.prepareId;var l=i.DefaultEnvironmentCapabilities;var s=n.isSingleton;var p=n.isServiceObject;var c=n.isNavigationProperty;var y=n.isEntityType;var f=n.isEntitySet;var u=n.isEntityContainer;var $=e.getExpressionFromAnnotation;var d=e.formatResult;var h=e.constant;function P(e,t,n,i,o){let a;if(e===null){a={type:"Null"}}else if(typeof e==="string"){a={type:"String",String:e}}else if(typeof e==="boolean"){a={type:"Bool",Bool:e}}else if(typeof e==="number"){a={type:"Int",Int:e}}else if(Array.isArray(e)){const r={type:"Collection",Collection:e.map((e,a)=>m(e,`${n}/${t}/${a}`,i,o))};if(e.length>0){if(e[0].hasOwnProperty("$PropertyPath")){r.Collection.type="PropertyPath"}else if(e[0].hasOwnProperty("$Path")){r.Collection.type="Path"}else if(e[0].hasOwnProperty("$NavigationPropertyPath")){r.Collection.type="NavigationPropertyPath"}else if(e[0].hasOwnProperty("$AnnotationPath")){r.Collection.type="AnnotationPath"}else if(e[0].hasOwnProperty("$Type")){r.Collection.type="Record"}else if(e[0].hasOwnProperty("$If")){r.Collection.type="If"}else if(e[0].hasOwnProperty("$Or")){r.Collection.type="Or"}else if(e[0].hasOwnProperty("$And")){r.Collection.type="And"}else if(e[0].hasOwnProperty("$Eq")){r.Collection.type="Eq"}else if(e[0].hasOwnProperty("$Ne")){r.Collection.type="Ne"}else if(e[0].hasOwnProperty("$Not")){r.Collection.type="Not"}else if(e[0].hasOwnProperty("$Gt")){r.Collection.type="Gt"}else if(e[0].hasOwnProperty("$Ge")){r.Collection.type="Ge"}else if(e[0].hasOwnProperty("$Lt")){r.Collection.type="Lt"}else if(e[0].hasOwnProperty("$Le")){r.Collection.type="Le"}else if(e[0].hasOwnProperty("$Apply")){r.Collection.type="Apply"}else if(typeof e[0]==="object"){r.Collection.type="Record"}else{r.Collection.type="String"}}a=r}else if(typeof e==="object"){if(e.$Path!==undefined){a={type:"Path",Path:e.$Path}}else if(e.$Decimal!==undefined){a={type:"Decimal",Decimal:parseFloat(e.$Decimal)}}else if(e.$PropertyPath!==undefined){a={type:"PropertyPath",PropertyPath:e.$PropertyPath}}else if(e.$NavigationPropertyPath!==undefined){a={type:"NavigationPropertyPath",NavigationPropertyPath:e.$NavigationPropertyPath}}else if(e.$If!==undefined){a={type:"If",$If:e.$If}}else if(e.$And!==undefined){a={type:"And",$And:e.$And}}else if(e.$Or!==undefined){a={type:"Or",$Or:e.$Or}}else if(e.$Not!==undefined){a={type:"Not",$Not:e.$Not}}else if(e.$Eq!==undefined){a={type:"Eq",$Eq:e.$Eq}}else if(e.$Ne!==undefined){a={type:"Ne",$Ne:e.$Ne}}else if(e.$Gt!==undefined){a={type:"Gt",$Gt:e.$Gt}}else if(e.$Ge!==undefined){a={type:"Ge",$Ge:e.$Ge}}else if(e.$Lt!==undefined){a={type:"Lt",$Lt:e.$Lt}}else if(e.$Le!==undefined){a={type:"Le",$Le:e.$Le}}else if(e.$Apply!==undefined){a={type:"Apply",$Apply:e.$Apply,$Function:e.$Function}}else if(e.$AnnotationPath!==undefined){a={type:"AnnotationPath",AnnotationPath:e.$AnnotationPath}}else if(e.$EnumMember!==undefined){a={type:"EnumMember",EnumMember:e.$EnumMember}}else{a={type:"Record",Record:m(e,n,i,o)}}}return{name:t,value:a}}function m(e,t,n,i){let o;if(e===null){o={type:"Null"}}else if(typeof e==="string"){o={type:"String",String:e}}else if(typeof e==="boolean"){o={type:"Bool",Bool:e}}else if(typeof e==="number"){o={type:"Int",Int:e}}else if(Array.isArray(e)){const o={collection:e.map((e,o)=>m(e,`${t}/${o}`,n,i))};if(e.length>0){if(e[0].hasOwnProperty("$PropertyPath")){o.collection.type="PropertyPath"}else if(e[0].hasOwnProperty("$Path")){o.collection.type="Path"}else if(e[0].hasOwnProperty("$NavigationPropertyPath")){o.collection.type="NavigationPropertyPath"}else if(e[0].hasOwnProperty("$AnnotationPath")){o.collection.type="AnnotationPath"}else if(e[0].hasOwnProperty("$Type")){o.collection.type="Record"}else if(e[0].hasOwnProperty("$If")){o.collection.type="If"}else if(e[0].hasOwnProperty("$And")){o.collection.type="And"}else if(e[0].hasOwnProperty("$Or")){o.collection.type="Or"}else if(e[0].hasOwnProperty("$Eq")){o.collection.type="Eq"}else if(e[0].hasOwnProperty("$Ne")){o.collection.type="Ne"}else if(e[0].hasOwnProperty("$Not")){o.collection.type="Not"}else if(e[0].hasOwnProperty("$Gt")){o.collection.type="Gt"}else if(e[0].hasOwnProperty("$Ge")){o.collection.type="Ge"}else if(e[0].hasOwnProperty("$Lt")){o.collection.type="Lt"}else if(e[0].hasOwnProperty("$Le")){o.collection.type="Le"}else if(e[0].hasOwnProperty("$Apply")){o.collection.type="Apply"}else if(typeof e[0]==="object"){o.collection.type="Record"}else{o.collection.type="String"}}}else if(typeof e==="object"){if(e.$AnnotationPath!==undefined){o={type:"AnnotationPath",AnnotationPath:e.$AnnotationPath}}else if(e.$Path!==undefined){o={type:"Path",Path:e.$Path}}else if(e.$Decimal!==undefined){o={type:"Decimal",Decimal:parseFloat(e.$Decimal)}}else if(e.$PropertyPath!==undefined){o={type:"PropertyPath",PropertyPath:e.$PropertyPath}}else if(e.$If!==undefined){o={type:"If",$If:e.$If}}else if(e.$And!==undefined){o={type:"And",$And:e.$And}}else if(e.$Or!==undefined){o={type:"Or",$Or:e.$Or}}else if(e.$Not!==undefined){o={type:"Not",$Not:e.$Not}}else if(e.$Eq!==undefined){o={type:"Eq",$Eq:e.$Eq}}else if(e.$Ne!==undefined){o={type:"Ne",$Ne:e.$Ne}}else if(e.$Gt!==undefined){o={type:"Gt",$Gt:e.$Gt}}else if(e.$Ge!==undefined){o={type:"Ge",$Ge:e.$Ge}}else if(e.$Lt!==undefined){o={type:"Lt",$Lt:e.$Lt}}else if(e.$Le!==undefined){o={type:"Le",$Le:e.$Le}}else if(e.$Apply!==undefined){o={type:"Apply",$Apply:e.$Apply,$Function:e.$Function}}else if(e.$NavigationPropertyPath!==undefined){o={type:"NavigationPropertyPath",NavigationPropertyPath:e.$NavigationPropertyPath}}else if(e.$EnumMember!==undefined){o={type:"EnumMember",EnumMember:e.$EnumMember}}else{const a={type:"Record",propertyValues:[]};if(e.$Type){a.type=e.$Type}const r=[];Object.keys(e).forEach(o=>{if(o!=="$Type"&&o!=="$If"&&o!=="$Apply"&&o!=="$And"&&o!=="$Or"&&o!=="$Ne"&&o!=="$Gt"&&o!=="$Ge"&&o!=="$Lt"&&o!=="$Le"&&o!=="$Not"&&o!=="$Eq"&&!o.startsWith("@")){r.push(P(e[o],o,t,n,i))}else if(o.startsWith("@")){A({[o]:e[o]},t,n,i)}});a.propertyValues=r;o=a}}return o}function g(e,t){if(!t.hasOwnProperty(e)){t[e]={target:e,annotations:[]}}return t[e]}function v(e){const t=e.ID??e.Target?.$AnnotationPath;return t?r(t):t}function b(e){return e.filter(e=>{const t=e;if(t.Target&&t.Target.$AnnotationPath){return!t.Target.$AnnotationPath.includes(`@${"com.sap.vocabularies.UI.v1.Chart"}`)}else{return true}})}function N(e){return e.filter(e=>e.$Type!=="com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation")}function O(e){return e.filter(e=>e.$AnnotationPath!==`@${"com.sap.vocabularies.UI.v1.Chart"}`)}function A(e,t,n,i){if(Object.keys(e).length===0){return}const o=g(t,n);if(!i.MicroChart){delete e[`@${"com.sap.vocabularies.UI.v1.Chart"}`]}else{i.loadLibrary?.("sap.suite.ui.microchart")}for(const a in e){let r=e[a];switch(a){case`@${"com.sap.vocabularies.UI.v1.HeaderFacets"}`:if(!i.MicroChart){r=b(r);e[a]=r}break;case`@${"com.sap.vocabularies.UI.v1.Identification"}`:if(!i.IntentBasedNavigation){r=N(r);e[a]=r}break;case`@${"com.sap.vocabularies.UI.v1.LineItem"}`:if(!i.IntentBasedNavigation){r=N(r);e[a]=r}if(!i.MicroChart){r=b(r);e[a]=r}break;case`@${"com.sap.vocabularies.UI.v1.FieldGroup"}`:const t=r;if(!i.IntentBasedNavigation&&t.Data){t.Data=N(t.Data);e[a]=r}if(!i.MicroChart&&t.Data){t.Data=b(t.Data);e[a]=r}break;case`@${"com.sap.vocabularies.UI.v1.PresentationVariant"}`:const n=r;if(!i.Chart&&n.Visualizations){n.Visualizations=O(n.Visualizations);e[a]=r}break;case`@com.sap.vocabularies.Common.v1.DraftRoot`:const o=e[`@Org.OData.Capabilities.V1.FilterRestrictions`];if(o?.FilterExpressionRestrictions?.length){if(!o.FilterExpressionRestrictions.some(e=>e?.Property?.$PropertyPath.includes("DraftAdministrativeData"))){o.FilterExpressionRestrictions.push({$Type:"Org.OData.Capabilities.V1.FilterExpressionRestrictionType",AllowedExpressions:"SingleRange",Property:{$PropertyPath:"DraftAdministrativeData/CreationDateTime"},fullyQualifiedName:undefined},{$Type:"Org.OData.Capabilities.V1.FilterExpressionRestrictionType",AllowedExpressions:"SingleRange",Property:{$PropertyPath:"DraftAdministrativeData/LastChangeDateTime"},fullyQualifiedName:undefined})}}break;default:break}let l=o;let s=a;const p=a.split("@");if(p.length>2){l=g(`${t}@${p[1]}`,n);s=p[2]}else{s=p[1]}const c=s.split("#");const y=c[1];s=c[0];const f={term:s,qualifier:y};let u=`${t}@${f.term}`;if(y){u+=`#${y}`}const $=r;if($===null){f.value={type:"Null"}}else if(typeof $==="string"){f.value={type:"String",String:$}}else if(typeof $==="boolean"){f.value={type:"Bool",Bool:$}}else if(typeof $==="number"){f.value={type:"Int",Int:$}}else if(Array.isArray($)){f.collection=$.map((e,t)=>m(e,`${u}/${t}`,n,i));if($.length>0){if($[0].hasOwnProperty("$PropertyPath")){f.collection.type="PropertyPath"}else if($[0].hasOwnProperty("$Path")){f.collection.type="Path"}else if($[0].hasOwnProperty("$NavigationPropertyPath")){f.collection.type="NavigationPropertyPath"}else if($[0].hasOwnProperty("$AnnotationPath")){f.collection.type="AnnotationPath"}else if($[0].hasOwnProperty("$Type")){f.collection.type="Record"}else if($[0].hasOwnProperty("$If")){f.collection.type="If"}else if($[0].hasOwnProperty("$Or")){f.collection.type="Or"}else if($[0].hasOwnProperty("$Eq")){f.collection.type="Eq"}else if($[0].hasOwnProperty("$Ne")){f.collection.type="Ne"}else if($[0].hasOwnProperty("$Not")){f.collection.type="Not"}else if($[0].hasOwnProperty("$Gt")){f.collection.type="Gt"}else if($[0].hasOwnProperty("$Ge")){f.collection.type="Ge"}else if($[0].hasOwnProperty("$Lt")){f.collection.type="Lt"}else if($[0].hasOwnProperty("$Le")){f.collection.type="Le"}else if($[0].hasOwnProperty("$And")){f.collection.type="And"}else if($[0].hasOwnProperty("$Apply")){f.collection.type="Apply"}else if(typeof $[0]==="object"){f.collection.type="Record"}else{f.collection.type="String"}}}else if(typeof $==="object"){if($.$If!==undefined){f.value={type:"If",$If:$.$If}}else if($.$And!==undefined){f.value={type:"And",$And:$.$And}}else if($.$Or!==undefined){f.value={type:"Or",$Or:$.$Or}}else if($.$Not!==undefined){f.value={type:"Not",$Not:$.$Not}}else if($.$Eq!==undefined){f.value={type:"Eq",$Eq:$.$Eq}}else if($.$Ne!==undefined){f.value={type:"Ne",$Ne:$.$Ne}}else if($.$Gt!==undefined){f.value={type:"Gt",$Gt:$.$Gt}}else if($.$Ge!==undefined){f.value={type:"Ge",$Ge:$.$Ge}}else if($.$Lt!==undefined){f.value={type:"Lt",$Lt:$.$Lt}}else if($.$Le!==undefined){f.value={type:"Le",$Le:$.$Le}}else if($.$Apply!==undefined){f.value={type:"Apply",$Apply:$.$Apply,$Function:$.$Function}}else if($.$Path!==undefined){f.value={type:"Path",Path:$.$Path}}else if($.$AnnotationPath!==undefined){f.value={type:"AnnotationPath",AnnotationPath:$.$AnnotationPath}}else if($.$Decimal!==undefined){f.value={type:"Decimal",Decimal:parseFloat($.$Decimal)}}else if($.$EnumMember!==undefined){f.value={type:"EnumMember",EnumMember:$.$EnumMember}}else{const e={propertyValues:[]};if($.$Type){const t=$.$Type;e.type=`${t}`}const t=[];for(const e in $){if(e!=="$Type"&&!e.startsWith("@")){t.push(P($[e],e,u,n,i))}else if(e.startsWith("@")){A({[e]:$[e]},u,n,i)}}e.propertyValues=t;f.record=e}}l.annotations.push(f)}}function T(e,t,n){return{_type:"Property",name:n,fullyQualifiedName:`${t.fullyQualifiedName}/${n}`,type:e.$Type,maxLength:e.$MaxLength,precision:e.$Precision,scale:e.$Scale,nullable:e.$Nullable??true}}function I(e,t,n){let i=[];if(e.$ReferentialConstraint){i=Object.keys(e.$ReferentialConstraint).map(n=>({sourceTypeName:t.name,sourceProperty:n,targetTypeName:e.$Type,targetProperty:e.$ReferentialConstraint[n]}))}const o={_type:"NavigationProperty",name:n,fullyQualifiedName:`${t.fullyQualifiedName}/${n}`,partner:e.$Partner,isCollection:e.$isCollection?e.$isCollection:false,containsTarget:!!e.$ContainsTarget,targetTypeName:e.$Type,referentialConstraint:i};return o}function C(e,t){if(e){return Object.fromEntries(Object.entries(e).map(e=>{let[n,i]=e;return[n,`${t}/${i}`]}))}return{}}function w(e,t,n){return{_type:"EntitySet",name:t,navigationPropertyBinding:C(e.$NavigationPropertyBinding,n),entityTypeName:e.$Type,fullyQualifiedName:`${n}/${t}`}}function E(e,t,n){return{_type:"Singleton",name:t,navigationPropertyBinding:C(e.$NavigationPropertyBinding,n),entityTypeName:e.$Type,fullyQualifiedName:`${n}/${t}`,nullable:true}}function D(e,t,n){return{_type:"ActionImport",name:t,fullyQualifiedName:`${n}/${t}`,actionName:e.$kind==="ActionImport"?e.$Action:e.$Function}}function L(e,t,n){const i={_type:"TypeDefinition",name:t.substring(n.length),fullyQualifiedName:t,underlyingType:e.$UnderlyingType};return i}function k(e,t,n){const i={_type:"ComplexType",name:t.substring(n.length),fullyQualifiedName:t,properties:[],navigationProperties:[]};const o=Object.keys(e).filter(t=>{if(t!="$Key"&&t!="$kind"){return e[t].$kind==="Property"}}).sort((e,t)=>e>t?1:-1).map(t=>T(e[t],i,t));i.properties=o;const a=Object.keys(e).filter(t=>{if(t!="$Key"&&t!="$kind"){return e[t].$kind==="NavigationProperty"}}).sort((e,t)=>e>t?1:-1).map(t=>I(e[t],i,t));i.navigationProperties=a;return i}function M(e,t){if(!e.$Key&&e.$BaseType){return M(t[e.$BaseType],t)}return e.$Key??[]}function G(e,t,n,i,o){const a={_type:"EntityType",name:t.substring(n.length),fullyQualifiedName:t,keys:[],entityProperties:[],navigationProperties:[],actions:{}};for(const t in e){const n=e[t];switch(n.$kind){case"Property":const e=T(n,a,t);a.entityProperties.push(e);break;case"NavigationProperty":const i=I(n,a,t);a.navigationProperties.push(i);break}}a.keys=M(e,i).map(e=>a.entityProperties.find(t=>t.name===e)).filter(e=>e!==undefined);const r=i.$Annotations[a.fullyQualifiedName];const l=r?.[`@${"com.sap.vocabularies.UI.v1.FilterFacets"}`];l?.forEach(e=>{e.ID=v(e)});if(!!a?.keys.length&&i.$Annotations[a.fullyQualifiedName]&&!r?.[`@${"com.sap.vocabularies.UI.v1.HeaderInfo"}`]){const e={$Type:`${"com.sap.vocabularies.UI.v1.HeaderInfoType"}`,TypeName:`${a.name}`,TypeNamePlural:"",Title:{$Type:`${"com.sap.vocabularies.UI.v1.DataField"}`,Value:{$Path:`${a.keys[0].name}`}},term:"com.sap.vocabularies.UI.v1.HeaderInfo"};i.$Annotations[a.fullyQualifiedName][`@${"com.sap.vocabularies.UI.v1.HeaderInfo"}`]=e}for(const e of a.entityProperties){if(!i.$Annotations[e.fullyQualifiedName]){i.$Annotations[e.fullyQualifiedName]={}}if(!o&&!i.$Annotations[e.fullyQualifiedName][`@${"com.sap.vocabularies.UI.v1.DataFieldDefault"}`]){i.$Annotations[e.fullyQualifiedName][`@${"com.sap.vocabularies.UI.v1.DataFieldDefault"}`]={$Type:"com.sap.vocabularies.UI.v1.DataField",Value:{$Path:e.name}}}}return a}function j(e,t,n){let i;if(e.$kind==="Function"){i=e.$Parameter??[]}else{i=e.$IsBound?[e.$Parameter[0]]:[]}const o=i.map(e=>e.$isCollection?`Collection(${e.$Type})`:e.$Type).join(",");const a=`${t}(${o})`;const r=e.$Parameter??[];return{_type:"Action",name:t.substring(n.length),fullyQualifiedName:a,isBound:e.$IsBound??false,isFunction:e.$kind==="Function",sourceType:i[0]?.$Type??"",returnType:e.$ReturnType?.$Type??"",returnCollection:e.$ReturnType?.$isCollection??false,parameters:r.map(e=>({_type:"ActionParameter",fullyQualifiedName:`${a}/${e.$Name}`,isCollection:e.$isCollection??false,name:e.$Name,type:e.$Type,nullable:e.$Nullable??false,maxLength:e.$MaxLength,precision:e.$Precision,scale:e.$Scale}))}}function F(e,t,n,i){i.entityContainer={_type:"EntityContainer",name:t.substring(e.length),fullyQualifiedName:t};for(const e in n){const o=n[e];switch(o.$kind){case"EntitySet":i.entitySets.push(w(o,e,t));break;case"Singleton":i.singletons.push(E(o,e,t));break;case"FunctionImport":case"ActionImport":i.actionImports.push(D(o,e,t));break}}}function S(e,t){const n={};for(const i in e){A(e[i],i,n,t)}return Object.values(n)}function x(e,t){const n=Object.keys(e).find(t=>{const n=e[t];return!Array.isArray(n)&&n.$kind==="Schema"})??"";const i={namespace:n.slice(0,-1),entityContainer:{_type:"EntityContainer",name:"",fullyQualifiedName:""},entitySets:[],entityTypes:[],complexTypes:[],typeDefinitions:[],singletons:[],associations:[],associationSets:[],actions:[],actionImports:[],annotations:{}};const o=(o,a)=>{switch(a.$kind){case"EntityContainer":F(n,o,a,i);break;case"Action":case"Function":i.actions.push(j(a,o,n));break;case"EntityType":i.entityTypes.push(G(a,o,n,e,t));break;case"ComplexType":i.complexTypes.push(k(a,o,n));break;case"TypeDefinition":i.typeDefinitions.push(L(a,o,n));break;case"EntitySet":case"Schema":break}};for(const t in e){const n=e[t];if(Array.isArray(n)){for(const e of n){o(t,e)}}else{o(t,n)}}return i}function B(e){let n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:l;let i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;const o={identification:"metamodelResult",version:"4.0",references:[]};t.lazy(o,"schema",()=>{const o=e.getObject("/$");const a=x(o,i);t.lazy(a.annotations,"metamodelResult",()=>S(o.$Annotations,n));return a});return o}a.parseMetaModel=B;const R={};const Q={};const q=new WeakMap;const U={};function V(e,n){const i=e.id;if(!R.hasOwnProperty(i)){const o=B(e,n);try{R[i]=t.convert(o);U[i]={criticality:{fn:ne}};const n=new String(i);Q[i]=n;q.set(n,e)}catch(e){throw new Error(e)}}return R[i]}a.convertTypes=V;function _(e,t,n,i){const o=Object.keys(R).find(t=>R[t]===e)??"";if(!U[o]){U[o]={}}U[o][t]={fn:n,viewId:i}}a.registerVirtualProperty=_;function K(e){const t=Q[e];return q.get(t)}a.getMetaModelById=K;function W(e){const t=e.getModel();if(!t.isA("sap.ui.model.odata.v4.ODataMetaModel")){throw new Error("This should only be called on a ODataMetaModel")}return V(t)}a.getConvertedTypes=W;function H(e){if(e){delete R[e.id]}}a.deleteModelCacheData=H;function z(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;const n=V(e.getModel());const i=e.getPath();const o=i.split("/");let a=o[1];let r=2;if(n.entityContainer.fullyQualifiedName===a){a=o[2];r++}let l=n.entitySets.find(e=>e.name===a);if(!l){l=n.singletons.find(e=>e.name===a)}let s=o.slice(r).join("/");const p=[l];while(s&&s.length>0&&s.startsWith("$NavigationPropertyBinding")){let e=s.split("/");let t=0;let n,i;e=e.slice(1);while(!n&&e.length>t){if(e[t]!=="$NavigationPropertyBinding"){i=e.slice(0,t+1).join("/").replace("/$NavigationPropertyBinding","");n=l&&l.navigationPropertyBinding[i]}t++}if(!n){i=e[0]}const o=i?.split("/")||[];let a=l&&l.entityType;for(const e of o){const t=a&&a.navigationProperties.find(t=>t.name===e);if(t){p.push(t);a=t.targetType}else{break}}l=l&&n||l&&l.navigationPropertyBinding[e[0]];if(l){p.push(l)}e=e.slice(o.length||1);if(e.length&&e[0]==="$"){e.shift()}s=e.join("/")}if(s.startsWith("$Type")){if(s.startsWith("$Type@")){s=s.replace("$Type","")}else{s=o.slice(3).join("/")}}if(l&&s.length){const e=l.entityType.resolvePath(s,t);if(e){if(t){e.visitedObjects=p.concat(e.visitedObjects)}}else if(l.entityType&&l.entityType.actions){const e=l.entityType&&l.entityType.actions;const t=s.split("/");if(e[t[0]]){const n=e[t[0]];if(t[1]&&n.parameters){const e=t[1];return n.parameters.find(t=>t.fullyQualifiedName.endsWith(`/${e}`))}else if(s.length===1){return n}}}return e}else{if(t){return{target:l,visitedObjects:p}}return l}}a.convertMetaModelContext=z;function J(e,t){const n=V(e.getModel());const i=z(e,true);let o;if(t&&t.getPath()!=="/"){o=J(t)}return X(i,n,o)}a.getInvolvedDataModelObjects=J;function X(e,t,n){let i=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;const o=e.visitedObjects.filter(e=>p(e)&&!y(e)&&!u(e));if(p(e.target)&&!y(e.target)&&o[o.length-1]!==e.target&&!i){o.push(e.target)}const a=[];const r=o[0];let l=r;let $=r.entityType;let d;let h=[];for(let e=1;e<o.length;e++){d=o[e];if(c(d)){h.push(d.name);a.push(d);$=d.targetType;const e=l?.navigationPropertyBinding[h.join("/")];if(e!==undefined){l=e;h=[]}}if(f(d)||s(d)){l=d;$=l.entityType}}if(h.length>0){l=undefined}if(n&&n.startingEntitySet!==r){const e=o.indexOf(n.startingEntitySet);if(e!==-1){const t=o.slice(0,e);n.startingEntitySet=r;n.navigationProperties=t.filter(c).concat(n.navigationProperties)}}const P={startingEntitySet:r,targetEntitySet:l,targetEntityType:$,targetObject:e.target,navigationProperties:a,contextLocation:n,convertedTypes:t};if(!p(P.targetObject)&&i){P.targetObject=p(d)?d:undefined}if(!P.contextLocation){P.contextLocation=P}return P}a.getInvolvedDataModelObjectFromPath=X;function Y(e){const t=e?.getModel()?.getMetaModel();if(t){const n=t.getMetaPath(e?.getPath());const i=J(t.getMetaContext(n));const o=i.targetEntityType.annotations.Common?.SemanticKey;let a=[];if(o){a=o.map(e=>e.value)}const r=i.targetEntityType.keys;let l=[];if(r){l=r.map(e=>e.name)}return{semanticKeys:a,technicalKeys:l}}return{technicalKeys:[],semanticKeys:[]}}a.getInvolvedDataModelObjectEntityKeys=Y;function Z(e){if(e?.includes(">")){const[t,...n]=e.split(">");const i=n.join(">");return{id:t,path:i}}else{return{id:undefined,path:e}}}a.extractModelAndPath=Z;function ee(e,t){const n=t?.getMetaPath(e);const i=n?t?.getContext(n):undefined;return i&&J(i)}a.getInvolvedDataModelObjectsForTargetPath=ee;function te(e,t){const n="@$ui5.fe.virtual.";if(e.includes(n)){const i=Object.keys(R).find(e=>R[e]===t);if(i&&U[i]){const o=e.substring(0,e.indexOf(t.namespace));const a=e.split(n);if(a.length===2){const e=a[1];const n=a[0].replace(o,"");const r=U[i][e];if(r?.fn){return{expression:r.fn(n,t,o),viewId:r.viewId}}}}return{expression:h(undefined)}}return{expression:h(undefined)}}a.getVirtualBindingExpression=te;function ne(e,t,n){const i=t.resolvePath(e)?.target?.Criticality;const o=i?$(i,[],undefined,e=>n?`${n}${e}`:e):undefined;if(!o){return h(undefined)}return d([o],"._formatters.CriticalityFormatter#getCriticality")}return a},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/converters/TemplateConverter", ["sap/fe/core/converters/helpers/IssueManager","./ConverterContext","./ManifestSettings","./MetaModelConverter","./templates/ListReportConverter","./templates/ObjectPageConverter"],function(e,t,a,s,n,o){"use strict";var c={};var i=s.getInvolvedDataModelObjects;var r=s.convertTypes;var l=a.TemplateType;var v=e.IssueSeverity;var f=e.IssueCategoryType;var u=e.IssueCategory;function g(e,t,a,s){e.forEach(e=>{let n=`For entity set ${a}`;if(e?.$Type==="com.sap.vocabularies.UI.v1.CollectionFacet"&&!e?.ID){n=`${n}, `+`level ${s}, the collection facet does not have an ID.`;t.addIssue(u.Facets,v.High,n,f,f?.Facets?.MissingID)}if(e?.$Type==="com.sap.vocabularies.UI.v1.CollectionFacet"&&s>=3){n=`${n}, collection facet ${e.Label} is not supported at `+`level ${s}`;t.addIssue(u.Facets,v.Medium,n,f,f?.Facets?.UnSupportedLevel)}if(e?.$Type==="com.sap.vocabularies.UI.v1.CollectionFacet"&&e?.Facets){g(e?.Facets,t,a,++s);s=s-1}})}function p(e,a,s,c,f,p,d,I){const y=r(a,d);y.diagnostics.forEach(e=>{const t=f.checkIfIssueExists(u.Annotation,v.High,e.message);if(!t){f.addIssue(u.Annotation,v.High,e.message)}});y?.entityTypes?.forEach(e=>{if(e?.annotations?.UI?.Facets){g(e?.annotations?.UI?.Facets,f,e?.name,1)}});const F=s.entitySet;const h=s?.contextPath||(p==="/"?p+F:p);const C=a.createBindingContext(h);const b=i(C);if(b){let a={};const s=new t(y,c,f,b);switch(e){case l.ListReport:case l.AnalyticalListPage:a=n.convertPage(s,d);break;case l.ObjectPage:a=o.convertPage(s,d);break;case l.FreeStylePage:break}if(I?.extendPageDefinition){a=I.extendPageDefinition(a,s)}return a}return undefined}c.convertPage=p;return c},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/converters/annotations/DataField", ["sap/fe/base/BindingToolkit","sap/fe/core/converters/helpers/Aggregation","sap/fe/core/helpers/TypeGuards","sap/fe/core/templating/DisplayModeFormatter","sap/fe/core/templating/PropertyHelper","../../templating/DataModelPathHelper","../helpers/DataFieldHelper"],function(t,e,a,n,i,o,r){"use strict";var s={};var c=r.isReferencePropertyStaticallyHidden;var l=o.getContextRelativeTargetObjectPath;var u=o.enhanceDataModelPath;var p=i.hasStaticPercentUnit;var g=i.getAssociatedUnitPropertyPath;var d=i.getAssociatedUnitProperty;var f=i.getAssociatedTimezoneProperty;var v=i.getAssociatedTextPropertyPath;var y=i.getAssociatedTextProperty;var m=i.getAssociatedExternalIdPropertyPath;var $=i.getAssociatedExternalIdProperty;var D=i.getAssociatedCurrencyPropertyPath;var T=i.getAssociatedCurrencyProperty;var b=n.getDisplayMode;var F=a.isProperty;var h=a.isPathAnnotationExpression;var P=a.isAnnotationOfType;var I=a.isAnnotationOfTerm;var U=e.AggregationHelper;var A=t.not;var x=t.getExpressionFromAnnotation;var V=t.equal;function S(t){return t.hasOwnProperty("Action")}s.isDataFieldForActionAbstract=S;function C(t){return t.$Type==="com.sap.vocabularies.UI.v1.DataFieldForActionGroup"}s.isDataFieldForActionGroup=C;function O(t){return t?.$Type==="com.sap.vocabularies.UI.v1.DataFieldForAnnotation"}s.isDataFieldForAnnotation=O;function k(t){return t?.$Type==="com.sap.vocabularies.UI.v1.DataFieldForAction"}s.isDataFieldForAction=k;function N(t){return t.$Type==="com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation"}s.isDataFieldForIntentBasedNavigation=N;function j(t){return t.hasOwnProperty("Value")}s.isDataFieldTypes=j;function z(t){return t?.hasOwnProperty("Value")}s.isDataField=z;function M(t){const e=t.Target.$target;return P(e,"com.sap.vocabularies.UI.v1.FieldGroupType")}s.hasFieldGroupTarget=M;function W(t){const e=t.Target.$target;return I(e,"com.sap.vocabularies.UI.v1.Identification")}s.hasIdentificationTarget=W;function w(t){const e=t.Target.$target;return P(e,"com.sap.vocabularies.UI.v1.DataPointType")}s.hasDataPointTarget=w;function B(t,e){return A(V(x(t?.annotations?.UI?.Hidden,[],undefined,e.getRelativeModelPathFunction()),true))}s.visibleExpression=B;function E(t){const e=t.targetObject;return G(k(e)?e:undefined)}s.isDataModelObjectPathForActionWithDialog=E;function G(t){const e=t?.ActionTarget;if(e){const t=e.annotations?.Common?.IsActionCritical;if(e.parameters.length>1||t){return"Dialog"}else{return"None"}}else{return"None"}}s.isActionWithDialog=G;function R(t){let e;if(F(t)){const a=t.annotations?.UI?.DataFieldDefault?.Target?.$target;e=a?.TargetValue??a?.MaximumValue}else{e=t.TargetValue??t.MaximumValue}if(typeof e==="number"){return e.toString()}return h(e)?e:"100"}s.getTargetValueOnDataPoint=R;const H=function(t){return t.annotations?.UI?.DataFieldDefault?.Target?.$target?.$Type==="com.sap.vocabularies.UI.v1.DataPointType"};s.isDataPointFromDataFieldDefault=H;const Q=function(t){return H(t)&&t.annotations?.UI?.DataFieldDefault?.Target?.$target?.Visualization==="UI.VisualizationType/Rating"};s.isRatingVisualizationFromDataFieldDefault=Q;const q=function(t){if(F(t)&&H(t)){t=t.annotations.UI?.DataFieldDefault}return t.Target?.$target?.Visualization==="UI.VisualizationType/Progress"};s.isAProgressTypeFromDataPoint=q;function J(t,e){if(typeof e==="object"){if(j(e)&&e.Value?.$target){const a=e.Value?.$target;if(a?.annotations?.Common?.SemanticObject!==undefined){return t.getEntitySetBasedAnnotationPath(a?.fullyQualifiedName)}}else if(F(e)){if(e?.annotations?.Common?.SemanticObject!==undefined){return t.getEntitySetBasedAnnotationPath(e?.fullyQualifiedName)}}}return undefined}s.getSemanticObjectPath=J;function K(t){if(t){return t.includes("/")?t.substring(0,t.lastIndexOf("/")+1):""}return""}function L(t,e,a,n){if(a==="AnalyticalTable"){const a=t.annotations?.UI?.Hidden;if(a?.path&&F(a.$target)){const t=e+a.path;n.additionalProperties[t]=a.$target}const i=t.Criticality;if(i?.path&&F(i?.$target)){const t=e+i.path;n.additionalProperties[t]=i?.$target}}return n}function X(t,e,a,n){if(!t.properties.hasOwnProperty(e)){t.properties[e]={annotationProperty:a};if(n){t.properties[e].displayModeOfPropertyUsedAsDescription=n}}return Object.keys(t.properties).indexOf(e)}function Y(t,e){t.exportSettings.template=t.exportSettings?.template?`${t.exportSettings.template}${e}`:`${e}`}function Z(t,e,a,n,i){let o=arguments.length>5&&arguments[5]!==undefined?arguments[5]:{properties:{},additionalProperties:{},exportSettings:{}};let r=arguments.length>6&&arguments[6]!==undefined?arguments[6]:false;let s=arguments.length>7&&arguments[7]!==undefined?arguments[7]:false;if(t&&e){let c;const p=m(e);const g=$(e);if(s){c=X(o,t,e);Y(o,`{${c}}`);return o}const D=K(t);const F=a.getEntityType();const h=new U(F,a);const P=y(g||e);const I=v(g||e);const A=a.getConverterContextFor(a.getContextPath()).getDataModelObjectPath();const x=u(A,p||t);const V=l(x);const S=u(x,I);const C=l(S);if(o.exportSettings?.template){Y(o,"\n");o.exportSettings.wrap=true}const O=i==="AnalyticalTable"&&!!h.isPropertyGroupable(e)?!!P&&!!h.isPropertyGroupable(P):true;if(P&&C){if(O){const a=p?p:t;const n=g?g:e;const i=b(n,x);let r;switch(i){case"Description":r=X(o,C,P,"Description");Y(o,`{${r}}`);break;case"ValueDescription":c=X(o,a,n);r=X(o,C,P,"ValueDescription");Y(o,`{${c}} ({${r}})`);break;case"DescriptionValue":c=X(o,a,n);r=X(o,C,P,"DescriptionValue");Y(o,`{${r}} ({${c}})`);break;default:c=X(o,a,n);Y(o,`{${c}}`);break}}else{c=X(o,t,e);Y(o,`{${c}}`)}}else{const a=T(e);const i=d(e);const s=a??i;const l=e?.annotations?.Measures?.ISOCurrency||e?.annotations?.Measures?.Unit;const u=f(e);const p=e?.annotations?.Common?.Timezone;if(s){at(o,V??t,r,x,s,a)}else if(u&&p?.$target){et(e,o,t,r)}else if(e.Target?.$target?.$Type==="com.sap.vocabularies.UI.v1.DataPointType"&&!e.Target?.$target?.ValueFormat||e.annotations?.UI?.DataFieldDefault?.Target?.$target?.$Type==="com.sap.vocabularies.UI.v1.DataPointType"){tt(e,o,V)}else if(e.$Type==="com.sap.vocabularies.Communication.v1.ContactType"){const t=e.fn?.$target;const a=e.fn?.path;c=X(o,D?D+a:a,t);Y(o,`{${c}}`)}else if(!n){c=X(o,t,e);Y(o,`{${c}}`);if(l){o.exportSettings.unit=`${l}`;if(e?.annotations?.Measures?.ISOCurrency){o.exportSettings.isCurrency=true}}else if(p){o.exportSettings.timezone=`${p}`}}}o=L(e,D,i,o);if(Object.keys(o.additionalProperties).length>0&&V){o.exportSettings.property=[V]}if(Object.keys(o.additionalProperties).length>0&&Object.keys(o.properties).length===0){c=X(o,t,e);Y(o,`{${c}}`)}}return o}s.collectRelatedProperties=Z;function _(t){let e;if(F(t)){e=t.annotations?.UI?.DataFieldDefault?.Target?.$target}else{e=t}return e.Visualization??"UI.VisualizationType/Number"}function tt(t,e,a){if(a===undefined){return}const n=t.Target?.$target?.Value.$target;const i=t.Target?.$target;const o=K(a);const r=t.annotations?.UI?.DataFieldDefault;const s=X(e,a,r?t:n);if(_(r?t:i)==="UI.VisualizationType/Number"){return}const c=R(r?t:i);if(h(c)){if(c.$target){const t=X(e,o?o+c.$target.name:c.$target.name,c.$target);e.exportSettings.dataPointTargetValue=c.path;Y(e,`{${s}}/{${t}}`)}}else if(p(r?t:n)&&q(t)){e.exportSettings.unit="%"}else{e.exportSettings.dataPointTargetValue=c;Y(e,`{${s}}/${c}`)}}function et(t,e,a,n){const i=t.annotations.Common.Timezone;const o=K(a);const r=X(e,a,t);const s=X(e,o+i.path,i.$target);if(n){Y(e,`{${r}}  {${s}}`)}else{e.exportSettings.timezoneProperty=o+i.path}}function at(t,e,a,n,i,o){const r=n.targetObject;if(r){const s=D(r)||g(r);const c=u(n,s);const p=l(c);const d=X(t,e,r);const f=X(t,p,i);if(a){Y(t,`{${d}}  {${f}}`)}else{t.exportSettings.unitProperty=p}if(o){t.exportSettings.isCurrency=true}t.exportSettings.scale=r.scale}}function nt(t,e,a){let n=arguments.length>3&&arguments[3]!==undefined?arguments[3]:{properties:{},additionalProperties:{},exportSettings:{}};let i=arguments.length>4&&arguments[4]!==undefined?arguments[4]:false;let o=false;switch(t?.$Type){case"com.sap.vocabularies.UI.v1.DataField":case"com.sap.vocabularies.UI.v1.DataFieldWithUrl":case"com.sap.vocabularies.UI.v1.DataFieldWithNavigationPath":case"com.sap.vocabularies.UI.v1.DataFieldWithIntentBasedNavigation":case"com.sap.vocabularies.UI.v1.DataFieldWithAction":if(t.Value){const r=t.Value;o=c(t);n=Z(r.path,r.$target,e,false,a,n,i,o);const s=K(r.path);n=L(t,s,a,n)}break;case"com.sap.vocabularies.UI.v1.DataFieldForAction":case"com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation":break;case"com.sap.vocabularies.UI.v1.DataFieldForAnnotation":switch(t.Target?.$target?.$Type){case"com.sap.vocabularies.UI.v1.FieldGroupType":t.Target.$target.Data?.forEach(t=>{n=nt(t,e,a,n,true)});break;case"com.sap.vocabularies.UI.v1.DataPointType":o=c(t);n=Z(t.Target.$target.Value.path,t,e,false,a,n,i,o);break;case"com.sap.vocabularies.Communication.v1.ContactType":const r=t.Target.$target;o=c(t);n=Z(t.Target.value,r,e,o,a,n,i,o);break;default:break}break;default:break}return n}s.collectRelatedPropertiesRecursively=nt;const it=function(t){if(F(t)){return t.type}let e;switch(t.$Type){case"com.sap.vocabularies.UI.v1.DataFieldForActionGroup":case"com.sap.vocabularies.UI.v1.DataFieldWithActionGroup":case"com.sap.vocabularies.UI.v1.DataFieldForAction":case"com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation":e=undefined;break;case"com.sap.vocabularies.UI.v1.DataField":case"com.sap.vocabularies.UI.v1.DataFieldWithNavigationPath":case"com.sap.vocabularies.UI.v1.DataFieldWithUrl":case"com.sap.vocabularies.UI.v1.DataFieldWithIntentBasedNavigation":case"com.sap.vocabularies.UI.v1.DataFieldWithAction":e=t?.Value?.$target?.type;break;case"com.sap.vocabularies.UI.v1.DataFieldForAnnotation":default:if(t.Target?.$target?.$Type){const a=t.Target.$target;if(a.$Type==="com.sap.vocabularies.Communication.v1.ContactType"&&h(a.fn)){e=a.fn.$target?.type}else if(a.$Type==="com.sap.vocabularies.UI.v1.DataPointType"){e=a.Value?.$Path?.$Type||a.Value?.$target?.type}else{e=t.Target.$target.$Type==="com.sap.vocabularies.UI.v1.ChartDefinitionType"?undefined:"Edm.Boolean"}}else{e=undefined}break}return e};s.getDataFieldDataType=it;return s},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2024 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/converters/common/AnnotationConverter", [],function(){var a;(function(){"use strict";var e={603:function(a,e,t){Object.defineProperty(e,"__esModule",{value:true});e.convert=void 0;const o=t(42);const r=t(854);const i=Symbol("Annotation Target");function n(a,e){if(a[a.length-1]!==e){a.push(e)}return a}function s(a,e,t,o){var c,l,u,p,m;if(t===undefined){return{target:undefined,objectPath:[],messages:[]}}if(t.startsWith("/")){t=t.substring(1);e=undefined}const v=t.split("/").reduce((a,e)=>{if(e.includes("@")){const[t,o]=(0,r.splitAtFirst)(e,"@");a.push(t);a.push(`@${o}`)}else{a.push(e)}return a},[]);if(e===undefined){if(v[0].startsWith(`${a.rawSchema.namespace}.`)&&v[0]!==((c=a.getConvertedEntityContainer())===null||c===void 0?void 0:c.fullyQualifiedName)){e=(p=(u=(l=a.getConvertedEntityType(v[0]))!==null&&l!==void 0?l:a.getConvertedComplexType(v[0]))!==null&&u!==void 0?u:a.getConvertedAction(v[0]))!==null&&p!==void 0?p:a.getConvertedAction(`${v[0]}()`);v.shift()}else{e=a.getConvertedEntityContainer()}}else if(e[i]!==undefined){e=e[i]}else if(e._type==="Property"){const t=(0,r.substringBeforeFirst)(e.fullyQualifiedName,"/");e=(m=a.getConvertedEntityType(t))!==null&&m!==void 0?m:a.getConvertedComplexType(t)}const y=v.reduce((e,t)=>{var o,c,l,u,p;const m=a=>{e.messages.push({message:a});e.target=undefined;return e};if(e.target===undefined){return e}e.objectPath=n(e.objectPath,e.target);if(t.startsWith("@")&&t!=="@$ui5.overload"){const[r,i]=a.splitTerm(t);const n=(o=e.target.annotations[r.substring(1)])===null||o===void 0?void 0:o[i];if(n!==undefined){e.target=n;return e}return m(`Annotation '${t.substring(1)}' not found on ${e.target._type} '${e.target.fullyQualifiedName}'`)}if(e.target.$target){let o;if(t==="$AnnotationPath"){o=e.target.value}else if(t==="$Path"){o=e.target.path}if(o!==undefined){const t=s(a,e.target[i],o);t.objectPath.forEach(a=>{if(!e.objectPath.includes(a)){e.objectPath=n(e.objectPath,a)}});e.target=t.target;e.objectPath=n(e.objectPath,e.target);return e}}switch((c=e.target)===null||c===void 0?void 0:c._type){case"Schema":break;case"EntityContainer":{const o=e.target;if(t===""||a.unalias(t)===o.fullyQualifiedName){return e}const r=(u=(l=o.entitySets.by_name(t))!==null&&l!==void 0?l:o.singletons.by_name(t))!==null&&u!==void 0?u:o.actionImports.by_name(t);if(r){e.target=r;return e}}break;case"EntitySet":case"Singleton":{const o=e.target;if(t===""||t==="$Type"){e.target=o.entityType;return e}if(t==="$"){return e}if(t==="$NavigationPropertyBinding"){const a=o.navigationPropertyBinding;e.target=a;return e}const r=s(a,o.entityType,t);e.target=r.target;e.objectPath=r.objectPath.reduce(n,e.objectPath);return e}case"EntityType":{const o=e.target;if(t===""||t==="$Type"){return e}const i=o.entityProperties.by_name(t);if(i){e.target=i;return e}const n=o.navigationProperties.by_name(t);if(n){e.target=n;return e}const s=(0,r.substringBeforeFirst)(a.unalias(t),"(");const c=o.actions[s];if(c){e.target=c;return e}}break;case"ActionImport":{const o=s(a,e.target.action,t);e.target=o.target;e.objectPath=o.objectPath.reduce(n,e.objectPath);return e}case"Action":{const a=e.target;if(t===""){return e}if(t==="@$ui5.overload"||t==="0"){return e}if(t==="$Parameter"&&a.isBound){e.target=a.parameters;return e}const o=(p=a.parameters[t])!==null&&p!==void 0?p:a.parameters.find(a=>a.name===t);if(o){e.target=o;return e}break}case"Property":{const a=e.target;const o=a.targetType;if(o!==undefined){const a=o.properties.by_name(t);if(a){e.target=a;return e}const r=o.navigationProperties.by_name(t);if(r){e.target=r;return e}}}break;case"ActionParameter":const o=e.target.typeReference;if(o!==undefined){const r=s(a,o,t);e.target=r.target;e.objectPath=r.objectPath.reduce(n,e.objectPath);return e}break;case"NavigationProperty":const i=s(a,e.target.targetType,t);e.target=i.target;e.objectPath=i.objectPath.reduce(n,e.objectPath);return e;default:if(t===""){return e}if(e.target[t]){e.target=e.target[t];e.objectPath=n(e.objectPath,e.target);return e}}return m(`Element '${t}' not found at ${e.target._type} '${e.target.fullyQualifiedName}'`)},{target:e,objectPath:[],messages:[]});y.messages.forEach(e=>a.logError(e.message));if(!y.target){if(o){const r=g(a,o,e.fullyQualifiedName);a.logError("Unable to resolve the path expression: "+"\n"+t+"\n"+"\n"+"Hint: Check and correct the path values under the following structure in the metadata (annotation.xml file or CDS annotations for the application): \n\n"+"<Annotation Term = "+o+">"+"\n"+"<Record Type = "+r+">"+"\n"+"<AnnotationPath = "+t+">")}else{a.logError("Unable to resolve the path expression: "+t+"\n"+"\n"+"Hint: Check and correct the path values under the following structure in the metadata (annotation.xml file or CDS annotations for the application): \n\n"+"<Annotation Term = "+v[0]+">"+"\n"+"<PropertyValue  Path= "+v[1]+">")}}return y}function c(a){return a.includes("@")}function l(a,e,t,o,n){const c={type:"PropertyPath",value:e.PropertyPath,fullyQualifiedName:t,[i]:o};(0,r.lazy)(c,"$target",()=>s(a,o,e.PropertyPath,n).target);return c}function u(a,e,t,o,n){const c={type:"AnnotationPath",value:a.unalias(e.AnnotationPath),fullyQualifiedName:t,[i]:o};(0,r.lazy)(c,"$target",()=>s(a,o,c.value,n).target);return c}function p(a,e,t,o,n){var c;const l={type:"NavigationPropertyPath",value:(c=e.NavigationPropertyPath)!==null&&c!==void 0?c:"",fullyQualifiedName:t,[i]:o};(0,r.lazy)(l,"$target",()=>s(a,o,e.NavigationPropertyPath,n).target);return l}function m(a,e,t,o,n){const c={type:"Path",path:e.Path,fullyQualifiedName:t,getValue(){return undefined},[i]:o};(0,r.lazy)(c,"$target",()=>s(a,o,e.Path,n).target);return c}function v(a,e,t,i,n,v,g){if(v===undefined){return undefined}switch(v.type){case"String":return v.String;case"Int":return v.Int;case"Bool":return v.Bool;case"Decimal":return(0,r.Decimal)(v.Decimal);case"Date":return v.Date;case"EnumMember":const y=v.EnumMember.split(" ").map(e=>{var t;const i=(t=a.unalias(e))!==null&&t!==void 0?t:"";return(0,r.alias)(o.VocabularyReferences,i)});if(y[0]!==undefined&&r.EnumIsFlag[(0,r.substringBeforeFirst)(y[0],"/")]){return y}return y[0];case"PropertyPath":return l(a,v,g,e,t);case"NavigationPropertyPath":return p(a,v,g,e,t);case"AnnotationPath":return u(a,v,g,e,t);case"Path":{if(c(v.Path)){return s(a,e,v.Path,t).target}else{return m(a,v,g,e,t)}}case"Record":return d(a,t,e,i,n,v.Record,g);case"Collection":return C(a,e,t,i,n,v.Collection,g);case"Apply":case"Null":case"Not":case"Eq":case"Ne":case"Gt":case"Ge":case"Lt":case"Le":case"If":case"And":case"Or":default:return v}}function g(a,e,t,o){let i=r.TermToTypes[e];if(o){e=`${(0,r.substringBeforeLast)(e,".")}.${o}`;i=r.TermToTypes[e]}a.logError(`The type of the record used within the term ${e} was not defined and was inferred as ${i}.\nHint: If possible, try to maintain the Type property for each Record.\n<Annotations Target="${t}">\n\t<Annotation Term="${e}">\n\t\t<Record>...</Record>\n\t</Annotation>\n</Annotations>`);return i}function y(a){return a.hasOwnProperty("Action")&&(a.$Type==="com.sap.vocabularies.UI.v1.DataFieldForAction"||a.$Type==="com.sap.vocabularies.UI.v1.DataFieldWithAction")}function O(a,e,t,o,r){let i;if(!r.type&&e){i=g(a,e,t.fullyQualifiedName,o)}else{i=a.unalias(r.type)}return i}function d(a,e,t,o,n,s,c){const l={$Type:O(a,e,t,o,s),fullyQualifiedName:c,[i]:t,__source:n};for(const o of s.propertyValues){(0,r.lazy)(l,o.name,()=>v(a,t,e,o.name,n,o.value,`${c}/${o.name}`))}(0,r.lazy)(l,"annotations",I(a,s,l));if(y(l)){(0,r.lazy)(l,"ActionTarget",()=>{var e,o;const r=a.unalias((e=l.Action)===null||e===void 0?void 0:e.toString());let i=t.actions[r];if(!i){i=(o=a.getConvertedActionImport(r))===null||o===void 0?void 0:o.action}if(!i){i=a.getConvertedAction(r);if(!(i===null||i===void 0?void 0:i.isBound)){i=undefined}}if(!i){a.logError(`${l.fullyQualifiedName}: Unable to resolve '${l.Action}' ('${r}')`)}return i})}return l}function f(a){let e=a.type;if(e===undefined&&a.length>0){const t=a[0];if(t.hasOwnProperty("PropertyPath")){e="PropertyPath"}else if(t.hasOwnProperty("Path")){e="Path"}else if(t.hasOwnProperty("AnnotationPath")){e="AnnotationPath"}else if(t.hasOwnProperty("NavigationPropertyPath")){e="NavigationPropertyPath"}else if(typeof t==="object"&&(t.hasOwnProperty("type")||t.hasOwnProperty("propertyValues"))){e="Record"}else if(typeof t==="string"){e="String"}}else if(e===undefined){e="EmptyCollection"}return e}function C(a,e,t,o,r,i,n){const c=f(i);switch(c){case"PropertyPath":return i.map((o,r)=>l(a,o,`${n}/${r}`,e,t));case"Path":return i.map(o=>s(a,e,o.Path,t).target);case"AnnotationPath":return i.map((o,r)=>u(a,o,`${n}/${r}`,e,t));case"NavigationPropertyPath":return i.map((o,r)=>p(a,o,`${n}/${r}`,e,t));case"Record":return i.map((i,s)=>d(a,t,e,o,r,i,`${n}/${s}`));case"Apply":case"Null":case"If":case"Eq":case"Ne":case"Lt":case"Gt":case"Le":case"Ge":case"Not":case"And":case"Or":return i.map(a=>a);case"String":return i.map(a=>{if(typeof a==="string"||a===undefined){return a}else{return a.String}});default:if(i.length===0){return[]}throw new Error("Unsupported case")}}function b(a){return!!a.targetTypeName}function D(a,e,t){var n;let s;if(t.record){s=d(a,t.term,e,"",t.__source,t.record,t.fullyQualifiedName)}else if(t.collection===undefined){s=v(a,e,t.term,"",t.__source,(n=t.value)!==null&&n!==void 0?n:{type:"Bool",Bool:true},t.fullyQualifiedName)}else if(t.collection){s=C(a,e,t.term,"",t.__source,t.collection,t.fullyQualifiedName)}else{throw new Error("Unsupported case")}switch(typeof s){case"string":s=new String(s);break;case"boolean":s=new Boolean(s);break;case"number":s=new Number(s);break;default:break}s.fullyQualifiedName=t.fullyQualifiedName;s[i]=e;const[c,l]=a.splitTerm(t.term);s.term=a.unalias(`${c}.${l}`,o.VocabularyReferences);s.qualifier=t.qualifier;s.__source=t.__source;try{(0,r.lazy)(s,"annotations",I(a,t,s))}catch(a){}return s}class T{getAnnotations(a){var e;if(this.annotationsByTarget===undefined){const a=Object.keys(this.rawSchema.annotations).map(a=>({name:a,annotationList:this.rawSchema.annotations[a]}));this.annotationsByTarget=(0,r.mergeAnnotations)(this.rawMetadata.references,...a)}return(e=this.annotationsByTarget[a])!==null&&e!==void 0?e:[]}getConvertedEntityContainer(){return this.getConvertedElement(this.rawMetadata.schema.entityContainer.fullyQualifiedName,this.rawMetadata.schema.entityContainer,S)}getConvertedEntitySet(a){return this.convertedOutput.entitySets.by_fullyQualifiedName(a)}getConvertedSingleton(a){return this.convertedOutput.singletons.by_fullyQualifiedName(a)}getConvertedEntityType(a){return this.convertedOutput.entityTypes.by_fullyQualifiedName(a)}getConvertedComplexType(a){return this.convertedOutput.complexTypes.by_fullyQualifiedName(a)}getConvertedTypeDefinition(a){return this.convertedOutput.typeDefinitions.by_fullyQualifiedName(a)}getConvertedActionImport(a){let e=this.convertedOutput.actionImports.by_fullyQualifiedName(a);if(!e){e=this.convertedOutput.actionImports.by_name(a)}return e}getConvertedAction(a){return this.convertedOutput.actions.by_fullyQualifiedName(a)}convert(a,e){if(Array.isArray(a)){return()=>{const t=a.reduce((a,t)=>{const o=this.getConvertedElement(t.fullyQualifiedName,t,e);if(o){a.push(o)}return a},[]);(0,r.addGetByValue)(t,"name");(0,r.addGetByValue)(t,"fullyQualifiedName");return t}}else{return()=>this.getConvertedElement(a.fullyQualifiedName,a,e)}}constructor(a,e){this.convertedElements=new Map;this.rawMetadata=a;this.rawSchema=a.schema;this.convertedOutput=e}getConvertedElement(a,e,t){let o=this.convertedElements.get(a);if(o===undefined){const r=typeof e==="function"?e.apply(undefined,[a]):e;if(r!==undefined){o=t.apply(undefined,[this,r]);this.convertedElements.set(a,o)}}return o}logError(a){this.convertedOutput.diagnostics.push({message:a})}splitTerm(a){const e=(0,r.alias)(o.VocabularyReferences,a);return(0,r.splitAtLast)(e,".")}unalias(a,e=this.rawMetadata.references){var t;return(t=(0,r.unalias)(e,a,this.rawSchema.namespace))!==null&&t!==void 0?t:""}}function h(a,e){return()=>{let t=a.getConvertedEntityType(e);if(!t){a.logError(`EntityType '${e}' not found`);t={}}return t}}function V(a,e){return()=>Object.keys(e).reduce((t,o)=>{const i=e[o];(0,r.lazy)(t,o,()=>{var e;return(e=a.getConvertedEntitySet(i))!==null&&e!==void 0?e:a.getConvertedSingleton(i)});return t},{})}function P(a,e){const t=e.annotations;return()=>A(a,e,t!==null&&t!==void 0?t:a.getAnnotations(e.fullyQualifiedName))}function I(a,e,t){return()=>{const o=t.fullyQualifiedName;let r;if(e.annotations&&e.annotations.length>0){r=e.annotations}else{r=a.getAnnotations(o)}r===null||r===void 0?void 0:r.forEach(a=>{a.target=o;a.__source=t.__source;a[i]=t[i];a.fullyQualifiedName=`${o}@${a.term}`});return A(a,t,r!==null&&r!==void 0?r:[])}}function A(a,e,t){return t.reduce((t,o)=>{const[i,n]=a.splitTerm(o.term);const s=`${n}${o.qualifier?"#"+o.qualifier:""}`;if(t[i]===undefined){t[i]={}}if(!t[i].hasOwnProperty(s)){(0,r.lazy)(t[i],s,()=>a.getConvertedElement(o.fullyQualifiedName,o,(a,t)=>D(a,e,t)))}return t},{})}function S(a,e){const t=e;(0,r.lazy)(t,"annotations",P(a,e));(0,r.lazy)(t,"entitySets",a.convert(a.rawSchema.entitySets,U));(0,r.lazy)(t,"singletons",a.convert(a.rawSchema.singletons,E));(0,r.lazy)(t,"actionImports",a.convert(a.rawSchema.actionImports,M));return t}function E(a,e){const t=e;(0,r.lazy)(t,"entityType",h(a,e.entityTypeName));(0,r.lazy)(t,"annotations",P(a,t));const o=e.navigationPropertyBinding;(0,r.lazy)(t,"navigationPropertyBinding",V(a,o));return t}function U(a,e){const t=e;(0,r.lazy)(t,"entityType",h(a,e.entityTypeName));(0,r.lazy)(t,"annotations",P(a,t));const o=e.navigationPropertyBinding;(0,r.lazy)(t,"navigationPropertyBinding",V(a,o));return t}function N(a,e){const t=e;e.keys.forEach(a=>{a.isKey=true});(0,r.lazy)(t,"annotations",P(a,e));(0,r.lazy)(t,"keys",a.convert(e.keys,R));(0,r.lazy)(t,"entityProperties",a.convert(e.entityProperties,R));(0,r.lazy)(t,"navigationProperties",a.convert(e.navigationProperties,x));(0,r.lazy)(t,"actions",()=>a.rawSchema.actions.filter(a=>a.isBound&&(a.sourceType===e.fullyQualifiedName||a.sourceType===`Collection(${e.fullyQualifiedName})`)).reduce((e,t)=>{const o=`${a.rawSchema.namespace}.${t.name}`;e[o]=a.getConvertedAction(t.fullyQualifiedName);return e},{}));t.resolvePath=(t,o)=>{const r=s(a,e,t);if(o){return{target:r.target,visitedObjects:r.objectPath,messages:r.messages}}else{return r.target}};return t}function R(a,e){const t=e;(0,r.lazy)(t,"annotations",P(a,e));(0,r.lazy)(t,"targetType",()=>{var t;const o=e.type;const r=o.startsWith("Collection")?o.substring(11,o.length-1):o;return(t=a.getConvertedComplexType(r))!==null&&t!==void 0?t:a.getConvertedTypeDefinition(r)});return t}function x(a,e){var t,o,i;const n=e;n.referentialConstraint=(t=n.referentialConstraint)!==null&&t!==void 0?t:[];if(!b(e)){const t=(o=a.rawSchema.associations.find(a=>a.fullyQualifiedName===e.relationship))===null||o===void 0?void 0:o.associationEnd.find(a=>a.role===e.toRole);n.isCollection=(t===null||t===void 0?void 0:t.multiplicity)==="*";n.targetTypeName=(i=t===null||t===void 0?void 0:t.type)!==null&&i!==void 0?i:""}(0,r.lazy)(n,"targetType",h(a,e.targetTypeName));(0,r.lazy)(n,"annotations",P(a,e));return n}function M(a,e){const t=e;(0,r.lazy)(t,"annotations",P(a,e));(0,r.lazy)(t,"action",()=>{const t=a.rawSchema.actions.filter(a=>!a.isBound&&a.fullyQualifiedName.startsWith(e.actionName));if(t.length>1){a.logError(`Ambiguous reference in action import: ${e.fullyQualifiedName}`)}return a.getConvertedAction(t[0].fullyQualifiedName)});return t}function $(a,e){const t=e;if(t.sourceType){(0,r.lazy)(t,"sourceEntityType",h(a,e.sourceType))}if(t.returnType){(0,r.lazy)(t,"returnEntityType",h(a,e.returnType))}(0,r.lazy)(t,"parameters",a.convert(e.parameters,F));(0,r.lazy)(t,"annotations",()=>{const t=(0,r.substringBeforeFirst)(e.fullyQualifiedName,"(");const o=e.fullyQualifiedName;const i=a.getAnnotations(o);const n=a.getAnnotations(t);for(const a of n){if(!i.some(e=>e.term===a.term&&e.qualifier===a.qualifier)){i.push(a)}}return A(a,e,i)});return t}function F(a,e){const t=e;(0,r.lazy)(t,"typeReference",()=>{var t,o;return(o=(t=a.getConvertedEntityType(e.type))!==null&&t!==void 0?t:a.getConvertedComplexType(e.type))!==null&&o!==void 0?o:a.getConvertedTypeDefinition(e.type)});(0,r.lazy)(t,"annotations",()=>{const t=e.fullyQualifiedName.substring(0,e.fullyQualifiedName.indexOf("("))+e.fullyQualifiedName.substring(e.fullyQualifiedName.indexOf(")")+1);const o=e.fullyQualifiedName;const r=a.getAnnotations(o);const i=a.getAnnotations(t);for(const a of i){if(!r.some(e=>e.term===a.term&&e.qualifier===a.qualifier)){r.push(a)}}return A(a,e,r)});return t}function w(a,e){const t=e;(0,r.lazy)(t,"properties",a.convert(e.properties,R));(0,r.lazy)(t,"navigationProperties",a.convert(e.navigationProperties,x));(0,r.lazy)(t,"annotations",P(a,e));return t}function Q(a,e){const t=e;(0,r.lazy)(t,"annotations",P(a,e));return t}function L(a){const e={version:a.version,namespace:a.schema.namespace,annotations:a.schema.annotations,references:o.VocabularyReferences,diagnostics:[]};const t=new T(a,e);(0,r.lazy)(e,"entityContainer",t.convert(t.rawSchema.entityContainer,S));(0,r.lazy)(e,"entitySets",t.convert(t.rawSchema.entitySets,U));(0,r.lazy)(e,"singletons",t.convert(t.rawSchema.singletons,E));(0,r.lazy)(e,"entityTypes",t.convert(t.rawSchema.entityTypes,N));(0,r.lazy)(e,"actions",t.convert(t.rawSchema.actions,$));(0,r.lazy)(e,"complexTypes",t.convert(t.rawSchema.complexTypes,w));(0,r.lazy)(e,"actionImports",t.convert(t.rawSchema.actionImports,M));(0,r.lazy)(e,"typeDefinitions",t.convert(t.rawSchema.typeDefinitions,Q));e.resolvePath=function a(e){const o=s(t,undefined,e);if(o.target){n(o.objectPath,o.target)}return o};return e}e.convert=L},131:function(a,e,t){var o=this&&this.__createBinding||(Object.create?function(a,e,t,o){if(o===undefined)o=t;var r=Object.getOwnPropertyDescriptor(e,t);if(!r||("get"in r?!e.__esModule:r.writable||r.configurable)){r={enumerable:true,get:function(){return e[t]}}}Object.defineProperty(a,o,r)}:function(a,e,t,o){if(o===undefined)o=t;a[o]=e[t]});var r=this&&this.__exportStar||function(a,e){for(var t in a)if(t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t))o(e,a,t)};Object.defineProperty(e,"__esModule",{value:true});r(t(603),e);r(t(854),e);r(t(815),e)},854:function(a,e,t){Object.defineProperty(e,"__esModule",{value:true});e.mergeAnnotations=e.addGetByValue=e.createIndexedFind=e.lazy=e.Decimal=e.isComplexTypeDefinition=e.unalias=e.alias=e.substringBeforeLast=e.substringBeforeFirst=e.splitAtLast=e.splitAtFirst=e.defaultReferences=e.TermToTypes=e.EnumIsFlag=void 0;var o=t(255);Object.defineProperty(e,"EnumIsFlag",{enumerable:true,get:function(){return o.EnumIsFlag}});var r=t(66);Object.defineProperty(e,"TermToTypes",{enumerable:true,get:function(){return r.TermToTypes}});var i=t(42);Object.defineProperty(e,"defaultReferences",{enumerable:true,get:function(){return i.VocabularyReferences}});function n(a,e){return e<0?[a,""]:[a.substring(0,e),a.substring(e+1)]}function s(a,e){return e<0?a:a.substring(0,e)}function c(a,e){return n(a,a.indexOf(e))}e.splitAtFirst=c;function l(a,e){return n(a,a.lastIndexOf(e))}e.splitAtLast=l;function u(a,e){return s(a,a.indexOf(e))}e.substringBeforeFirst=u;function p(a,e){return s(a,a.lastIndexOf(e))}e.substringBeforeLast=p;function m(a,e){if(!a.reverseReferenceMap){a.reverseReferenceMap=a.reduce((a,e)=>{a[e.namespace]=e;return a},{})}if(!e){return e}const[t,o]=l(e,".");const r=a.reverseReferenceMap[t];if(r){return`${r.alias}.${o}`}else if(e.includes("@")){const[t,o]=c(e,"@");return`${t}@${m(a,o)}`}else{return e}}e.alias=m;function v(a,e,t){var o;const r=e=>{if(!a.referenceMap){a.referenceMap=Object.fromEntries(a.map(a=>[a.alias,a]))}const[o,r]=c(e,".");if(!r||r.includes(".")){return e}const i=o.startsWith("@");const n=i?o.substring(1):o;const s=a.referenceMap[n];if(s){return i?`@${s.namespace}.${r}`:`${s.namespace}.${r}`}return t&&!i?`${t}.${r}`:e};return(o=e===null||e===void 0?void 0:e.split("/").reduce((a,e)=>{const[t,o]=c(e,"(");const i=[r(t)];if(o){const a=o.slice(0,-1);i.push(`(${r(a)})`)}a.push(i.join(""));return a},[]))===null||o===void 0?void 0:o.join("/")}e.unalias=v;function g(a){return!!a&&a._type==="ComplexType"&&!!a.properties}e.isComplexTypeDefinition=g;function y(a){return{isDecimal(){return true},valueOf(){return a},toString(){return a.toString()}}}e.Decimal=y;function O(a,e,t){const o=Symbol("initial");let r=o;Object.defineProperty(a,e,{enumerable:true,get(){if(r===o){r=t()}return r},set(a){r=a}})}e.lazy=O;function d(a,e){const t=new Map;return function o(r){const i=t.get(r);if((i===null||i===void 0?void 0:i[e])===r){return i}return a.find(a=>{if(!(a===null||a===void 0?void 0:a.hasOwnProperty(e))){return false}const o=a[e];t.set(o,a);return o===r})}}e.createIndexedFind=d;function f(a,e){const t=`by_${e}`;if(!a.hasOwnProperty(t)){Object.defineProperty(a,t,{writable:false,value:d(a,e)})}else{throw new Error(`Property '${t}' already exists`)}return a}e.addGetByValue=f;function C(a,...e){return e.reduceRight((e,{name:t,annotationList:o})=>{var r;for(const{target:i,annotations:n}of o){const o=(r=v(a,i))!==null&&r!==void 0?r:i;if(!e[o]){e[o]=[]}const s=n.map(e=>{var r;e.term=(r=v(a,e.term))!==null&&r!==void 0?r:e.term;e.fullyQualifiedName=e.qualifier?`${o}@${e.term}#${e.qualifier}`:`${o}@${e.term}`;e.__source=t;return e}).filter(a=>!e[o].some(e=>e.term===a.term&&e.qualifier===a.qualifier));e[o].push(...s)}return e},{})}e.mergeAnnotations=C},815:function(a,e,t){Object.defineProperty(e,"__esModule",{value:true});e.revertTermToGenericType=void 0;const o=t(854);function r(a,e){var t,o,r,i,n,s;let l;if(Array.isArray(e)){l={type:"Collection",Collection:e.map(e=>c(a,e))}}else if((t=e.isDecimal)===null||t===void 0?void 0:t.call(e)){l={type:"Decimal",Decimal:e.valueOf()}}else if((o=e.isString)===null||o===void 0?void 0:o.call(e)){const t=e.valueOf().split(".");if(t.length>1&&a.find(a=>a.alias===t[0])){l={type:"EnumMember",EnumMember:e.valueOf()}}else{l={type:"String",String:e.valueOf()}}}else if((r=e.isInt)===null||r===void 0?void 0:r.call(e)){l={type:"Int",Int:e.valueOf()}}else if((i=e.isFloat)===null||i===void 0?void 0:i.call(e)){l={type:"Float",Float:e.valueOf()}}else if((n=e.isDate)===null||n===void 0?void 0:n.call(e)){l={type:"Date",Date:e.valueOf()}}else if((s=e.isBoolean)===null||s===void 0?void 0:s.call(e)){l={type:"Bool",Bool:e.valueOf()}}else if(e.type==="Path"){l={type:"Path",Path:e.path}}else if(e.type==="AnnotationPath"){l={type:"AnnotationPath",AnnotationPath:e.value}}else if(e.type==="Apply"){l={type:"Apply",$Apply:e.$Apply,$Function:e.$Function}}else if(e.type==="Null"){l={type:"Null"}}else if(e.type==="PropertyPath"){l={type:"PropertyPath",PropertyPath:e.value}}else if(e.type==="NavigationPropertyPath"){l={type:"NavigationPropertyPath",NavigationPropertyPath:e.value}}else if(Object.prototype.hasOwnProperty.call(e,"$Type")){l={type:"Record",Record:c(a,e)}}return l}function i(a,e){let t;const o=e===null||e===void 0?void 0:e.constructor.name;switch(o){case"String":case"string":const o=e.toString().split(".");if(o.length>1&&a.find(a=>a.alias===o[0])){t={type:"EnumMember",EnumMember:e.toString()}}else{t={type:"String",String:e.toString()}}break;case"Boolean":case"boolean":t={type:"Bool",Bool:e.valueOf()};break;case"Number":case"number":if(e.toString()===e.toFixed()){t={type:"Int",Int:e.valueOf()}}else{t={type:"Decimal",Decimal:e.valueOf()}}break;case"object":default:t=r(a,e);break}return t}const n=["$Type","term","__source","qualifier","ActionTarget","fullyQualifiedName","annotations"];function s(a,e,t){Object.keys(e).filter(a=>a!=="_annotations").forEach(r=>{Object.keys(e[r]).forEach(i=>{const n=l(a,e[r][i]);if(!n.term){const e=(0,o.unalias)(a,`${r}.${i}`);if(e){const a=e.split("#");n.term=a[0];if(a.length>1){n.qualifier=a[1]}}}t.push(n)})})}function c(a,e){if(typeof e==="string"){return e}else if(typeof e==="object"){if(e.hasOwnProperty("$Type")){const t={type:e.$Type,propertyValues:[]};Object.keys(e).forEach(o=>{if(n.indexOf(o)===-1){const r=e[o];t.propertyValues.push({name:o,value:i(a,r)})}else if(o==="annotations"&&Object.keys(e[o]).length>0){t.annotations=[];s(a,e[o],t.annotations)}});return t}else if(e.type==="PropertyPath"){return{type:"PropertyPath",PropertyPath:e.value}}else if(e.type==="AnnotationPath"){return{type:"AnnotationPath",AnnotationPath:e.value}}else if(e.type==="NavigationPropertyPath"){return{type:"NavigationPropertyPath",NavigationPropertyPath:e.value}}}return undefined}function l(a,e){const t={term:e.term,qualifier:e.qualifier};if(Array.isArray(e)){if(e.hasOwnProperty("annotations")&&Object.keys(e.annotations).length>0){t.annotations=[];s(a,e.annotations,t.annotations)}return{...t,collection:e.map(e=>c(a,e))}}else if(e.hasOwnProperty("$Type")){return{...t,record:c(a,e)}}else{return{...t,value:i(a,e)}}}e.revertTermToGenericType=l},255:function(a,e){Object.defineProperty(e,"__esModule",{value:true});e.EnumIsFlag=void 0;e.EnumIsFlag={"Authorization.KeyLocation":false,"Core.RevisionKind":false,"Core.DataModificationOperationKind":false,"Core.Permission":true,"Capabilities.ConformanceLevelType":false,"Capabilities.IsolationLevel":true,"Capabilities.NavigationType":false,"Capabilities.SearchExpressions":true,"Capabilities.HttpMethod":true,"Aggregation.RollupType":false,"Common.TextFormatType":false,"Common.FilterExpressionType":false,"Common.FieldControlType":false,"Common.EffectType":true,"Communication.KindType":false,"Communication.ContactInformationType":true,"Communication.PhoneType":true,"Communication.GenderType":false,"UI.VisualizationType":false,"UI.CriticalityType":false,"UI.ImprovementDirectionType":false,"UI.TrendType":false,"UI.ChartType":false,"UI.ChartAxisScaleBehaviorType":false,"UI.ChartAxisAutoScaleDataScopeType":false,"UI.ChartDimensionRoleType":false,"UI.ChartMeasureRoleType":false,"UI.SelectionRangeSignType":false,"UI.SelectionRangeOptionType":false,"UI.TextArrangementType":false,"UI.ImportanceType":false,"UI.CriticalityRepresentationType":false,"UI.OperationGroupingType":false}},66:function(a,e){Object.defineProperty(e,"__esModule",{value:true});e.TermToTypes=void 0;var t;(function(a){a["Org.OData.Authorization.V1.SecuritySchemes"]="Org.OData.Authorization.V1.SecurityScheme";a["Org.OData.Authorization.V1.Authorizations"]="Org.OData.Authorization.V1.Authorization";a["Org.OData.Core.V1.Revisions"]="Org.OData.Core.V1.RevisionType";a["Org.OData.Core.V1.Links"]="Org.OData.Core.V1.Link";a["Org.OData.Core.V1.Example"]="Org.OData.Core.V1.ExampleValue";a["Org.OData.Core.V1.Messages"]="Org.OData.Core.V1.MessageType";a["Org.OData.Core.V1.ValueException"]="Org.OData.Core.V1.ValueExceptionType";a["Org.OData.Core.V1.ResourceException"]="Org.OData.Core.V1.ResourceExceptionType";a["Org.OData.Core.V1.DataModificationException"]="Org.OData.Core.V1.DataModificationExceptionType";a["Org.OData.Core.V1.IsLanguageDependent"]="Org.OData.Core.V1.Tag";a["Org.OData.Core.V1.AppliesViaContainer"]="Org.OData.Core.V1.Tag";a["Org.OData.Core.V1.DereferenceableIDs"]="Org.OData.Core.V1.Tag";a["Org.OData.Core.V1.ConventionalIDs"]="Org.OData.Core.V1.Tag";a["Org.OData.Core.V1.Permissions"]="Org.OData.Core.V1.Permission";a["Org.OData.Core.V1.DefaultNamespace"]="Org.OData.Core.V1.Tag";a["Org.OData.Core.V1.Immutable"]="Org.OData.Core.V1.Tag";a["Org.OData.Core.V1.Computed"]="Org.OData.Core.V1.Tag";a["Org.OData.Core.V1.ComputedDefaultValue"]="Org.OData.Core.V1.Tag";a["Org.OData.Core.V1.IsURL"]="Org.OData.Core.V1.Tag";a["Org.OData.Core.V1.IsMediaType"]="Org.OData.Core.V1.Tag";a["Org.OData.Core.V1.ContentDisposition"]="Org.OData.Core.V1.ContentDispositionType";a["Org.OData.Core.V1.OptimisticConcurrency"]="Edm.PropertyPath";a["Org.OData.Core.V1.AdditionalProperties"]="Org.OData.Core.V1.Tag";a["Org.OData.Core.V1.AutoExpand"]="Org.OData.Core.V1.Tag";a["Org.OData.Core.V1.AutoExpandReferences"]="Org.OData.Core.V1.Tag";a["Org.OData.Core.V1.MayImplement"]="Org.OData.Core.V1.QualifiedTypeName";a["Org.OData.Core.V1.Ordered"]="Org.OData.Core.V1.Tag";a["Org.OData.Core.V1.PositionalInsert"]="Org.OData.Core.V1.Tag";a["Org.OData.Core.V1.AlternateKeys"]="Org.OData.Core.V1.AlternateKey";a["Org.OData.Core.V1.OptionalParameter"]="Org.OData.Core.V1.OptionalParameterType";a["Org.OData.Core.V1.OperationAvailable"]="Edm.Boolean";a["Org.OData.Core.V1.RequiresExplicitBinding"]="Org.OData.Core.V1.Tag";a["Org.OData.Core.V1.ExplicitOperationBindings"]="Org.OData.Core.V1.QualifiedBoundOperationName";a["Org.OData.Core.V1.SymbolicName"]="Org.OData.Core.V1.SimpleIdentifier";a["Org.OData.Core.V1.GeometryFeature"]="Org.OData.Core.V1.GeometryFeatureType";a["Org.OData.Core.V1.AnyStructure"]="Org.OData.Core.V1.Tag";a["Org.OData.Core.V1.IsDelta"]="Org.OData.Core.V1.Tag";a["Org.OData.Capabilities.V1.ConformanceLevel"]="Org.OData.Capabilities.V1.ConformanceLevelType";a["Org.OData.Capabilities.V1.AsynchronousRequestsSupported"]="Org.OData.Core.V1.Tag";a["Org.OData.Capabilities.V1.BatchContinueOnErrorSupported"]="Org.OData.Core.V1.Tag";a["Org.OData.Capabilities.V1.IsolationSupported"]="Org.OData.Capabilities.V1.IsolationLevel";a["Org.OData.Capabilities.V1.CrossJoinSupported"]="Org.OData.Core.V1.Tag";a["Org.OData.Capabilities.V1.CallbackSupported"]="Org.OData.Capabilities.V1.CallbackType";a["Org.OData.Capabilities.V1.ChangeTracking"]="Org.OData.Capabilities.V1.ChangeTrackingType";a["Org.OData.Capabilities.V1.CountRestrictions"]="Org.OData.Capabilities.V1.CountRestrictionsType";a["Org.OData.Capabilities.V1.NavigationRestrictions"]="Org.OData.Capabilities.V1.NavigationRestrictionsType";a["Org.OData.Capabilities.V1.IndexableByKey"]="Org.OData.Core.V1.Tag";a["Org.OData.Capabilities.V1.TopSupported"]="Org.OData.Core.V1.Tag";a["Org.OData.Capabilities.V1.SkipSupported"]="Org.OData.Core.V1.Tag";a["Org.OData.Capabilities.V1.ComputeSupported"]="Org.OData.Core.V1.Tag";a["Org.OData.Capabilities.V1.SelectSupport"]="Org.OData.Capabilities.V1.SelectSupportType";a["Org.OData.Capabilities.V1.BatchSupported"]="Org.OData.Core.V1.Tag";a["Org.OData.Capabilities.V1.BatchSupport"]="Org.OData.Capabilities.V1.BatchSupportType";a["Org.OData.Capabilities.V1.FilterRestrictions"]="Org.OData.Capabilities.V1.FilterRestrictionsType";a["Org.OData.Capabilities.V1.SortRestrictions"]="Org.OData.Capabilities.V1.SortRestrictionsType";a["Org.OData.Capabilities.V1.ExpandRestrictions"]="Org.OData.Capabilities.V1.ExpandRestrictionsType";a["Org.OData.Capabilities.V1.SearchRestrictions"]="Org.OData.Capabilities.V1.SearchRestrictionsType";a["Org.OData.Capabilities.V1.KeyAsSegmentSupported"]="Org.OData.Core.V1.Tag";a["Org.OData.Capabilities.V1.QuerySegmentSupported"]="Org.OData.Core.V1.Tag";a["Org.OData.Capabilities.V1.InsertRestrictions"]="Org.OData.Capabilities.V1.InsertRestrictionsType";a["Org.OData.Capabilities.V1.DeepInsertSupport"]="Org.OData.Capabilities.V1.DeepInsertSupportType";a["Org.OData.Capabilities.V1.UpdateRestrictions"]="Org.OData.Capabilities.V1.UpdateRestrictionsType";a["Org.OData.Capabilities.V1.DeepUpdateSupport"]="Org.OData.Capabilities.V1.DeepUpdateSupportType";a["Org.OData.Capabilities.V1.DeleteRestrictions"]="Org.OData.Capabilities.V1.DeleteRestrictionsType";a["Org.OData.Capabilities.V1.CollectionPropertyRestrictions"]="Org.OData.Capabilities.V1.CollectionPropertyRestrictionsType";a["Org.OData.Capabilities.V1.OperationRestrictions"]="Org.OData.Capabilities.V1.OperationRestrictionsType";a["Org.OData.Capabilities.V1.AnnotationValuesInQuerySupported"]="Org.OData.Core.V1.Tag";a["Org.OData.Capabilities.V1.ModificationQueryOptions"]="Org.OData.Capabilities.V1.ModificationQueryOptionsType";a["Org.OData.Capabilities.V1.ReadRestrictions"]="Org.OData.Capabilities.V1.ReadRestrictionsType";a["Org.OData.Capabilities.V1.CustomHeaders"]="Org.OData.Capabilities.V1.CustomParameter";a["Org.OData.Capabilities.V1.CustomQueryOptions"]="Org.OData.Capabilities.V1.CustomParameter";a["Org.OData.Capabilities.V1.MediaLocationUpdateSupported"]="Org.OData.Core.V1.Tag";a["Org.OData.Capabilities.V1.DefaultCapabilities"]="Org.OData.Capabilities.V1.DefaultCapabilitiesType";a["Org.OData.Aggregation.V1.ApplySupported"]="Org.OData.Aggregation.V1.ApplySupportedType";a["Org.OData.Aggregation.V1.ApplySupportedDefaults"]="Org.OData.Aggregation.V1.ApplySupportedBase";a["Org.OData.Aggregation.V1.Groupable"]="Org.OData.Core.V1.Tag";a["Org.OData.Aggregation.V1.Aggregatable"]="Org.OData.Core.V1.Tag";a["Org.OData.Aggregation.V1.ContextDefiningProperties"]="Edm.PropertyPath";a["Org.OData.Aggregation.V1.LeveledHierarchy"]="Edm.PropertyPath";a["Org.OData.Aggregation.V1.RecursiveHierarchy"]="Org.OData.Aggregation.V1.RecursiveHierarchyType";a["Org.OData.Aggregation.V1.AvailableOnAggregates"]="Org.OData.Aggregation.V1.AvailableOnAggregatesType";a["Org.OData.Validation.V1.Minimum"]="Edm.PrimitiveType";a["Org.OData.Validation.V1.Maximum"]="Edm.PrimitiveType";a["Org.OData.Validation.V1.Exclusive"]="Org.OData.Core.V1.Tag";a["Org.OData.Validation.V1.AllowedValues"]="Org.OData.Validation.V1.AllowedValue";a["Org.OData.Validation.V1.MultipleOf"]="Edm.Decimal";a["Org.OData.Validation.V1.Constraint"]="Org.OData.Validation.V1.ConstraintType";a["Org.OData.Validation.V1.ItemsOf"]="Org.OData.Validation.V1.ItemsOfType";a["Org.OData.Validation.V1.OpenPropertyTypeConstraint"]="Org.OData.Validation.V1.SingleOrCollectionType";a["Org.OData.Validation.V1.DerivedTypeConstraint"]="Org.OData.Validation.V1.SingleOrCollectionType";a["Org.OData.Validation.V1.AllowedTerms"]="Org.OData.Core.V1.QualifiedTermName";a["Org.OData.Validation.V1.ApplicableTerms"]="Org.OData.Core.V1.QualifiedTermName";a["Org.OData.Validation.V1.MaxItems"]="Edm.Int64";a["Org.OData.Validation.V1.MinItems"]="Edm.Int64";a["Org.OData.Measures.V1.Scale"]="Edm.Byte";a["Org.OData.Measures.V1.DurationGranularity"]="Org.OData.Measures.V1.DurationGranularityType";a["com.sap.vocabularies.Analytics.v1.Dimension"]="Org.OData.Core.V1.Tag";a["com.sap.vocabularies.Analytics.v1.Measure"]="Org.OData.Core.V1.Tag";a["com.sap.vocabularies.Analytics.v1.AccumulativeMeasure"]="Org.OData.Core.V1.Tag";a["com.sap.vocabularies.Analytics.v1.RolledUpPropertyCount"]="Edm.Int16";a["com.sap.vocabularies.Analytics.v1.PlanningAction"]="Org.OData.Core.V1.Tag";a["com.sap.vocabularies.Analytics.v1.AggregatedProperties"]="com.sap.vocabularies.Analytics.v1.AggregatedPropertyType";a["com.sap.vocabularies.Analytics.v1.AggregatedProperty"]="com.sap.vocabularies.Analytics.v1.AggregatedPropertyType";a["com.sap.vocabularies.Analytics.v1.AnalyticalContext"]="com.sap.vocabularies.Analytics.v1.AnalyticalContextType";a["com.sap.vocabularies.Common.v1.ServiceVersion"]="Edm.Int32";a["com.sap.vocabularies.Common.v1.ServiceSchemaVersion"]="Edm.Int32";a["com.sap.vocabularies.Common.v1.TextFor"]="Edm.PropertyPath";a["com.sap.vocabularies.Common.v1.IsLanguageIdentifier"]="Org.OData.Core.V1.Tag";a["com.sap.vocabularies.Common.v1.TextFormat"]="com.sap.vocabularies.Common.v1.TextFormatType";a["com.sap.vocabularies.Common.v1.IsTimezone"]="Org.OData.Core.V1.Tag";a["com.sap.vocabularies.Common.v1.IsDigitSequence"]="Org.OData.Core.V1.Tag";a["com.sap.vocabularies.Common.v1.IsUpperCase"]="Org.OData.Core.V1.Tag";a["com.sap.vocabularies.Common.v1.IsCurrency"]="Org.OData.Core.V1.Tag";a["com.sap.vocabularies.Common.v1.IsUnit"]="Org.OData.Core.V1.Tag";a["com.sap.vocabularies.Common.v1.UnitSpecificScale"]="Edm.PrimitiveType";a["com.sap.vocabularies.Common.v1.UnitSpecificPrecision"]="Edm.PrimitiveType";a["com.sap.vocabularies.Common.v1.SecondaryKey"]="Edm.PropertyPath";a["com.sap.vocabularies.Common.v1.MinOccurs"]="Edm.Int64";a["com.sap.vocabularies.Common.v1.MaxOccurs"]="Edm.Int64";a["com.sap.vocabularies.Common.v1.AssociationEntity"]="Edm.NavigationPropertyPath";a["com.sap.vocabularies.Common.v1.DerivedNavigation"]="Edm.NavigationPropertyPath";a["com.sap.vocabularies.Common.v1.Masked"]="Org.OData.Core.V1.Tag";a["com.sap.vocabularies.Common.v1.RevealOnDemand"]="Edm.Boolean";a["com.sap.vocabularies.Common.v1.SemanticObjectMapping"]="com.sap.vocabularies.Common.v1.SemanticObjectMappingAbstract";a["com.sap.vocabularies.Common.v1.IsInstanceAnnotation"]="Org.OData.Core.V1.Tag";a["com.sap.vocabularies.Common.v1.FilterExpressionRestrictions"]="com.sap.vocabularies.Common.v1.FilterExpressionRestrictionType";a["com.sap.vocabularies.Common.v1.FieldControl"]="com.sap.vocabularies.Common.v1.FieldControlType";a["com.sap.vocabularies.Common.v1.Application"]="com.sap.vocabularies.Common.v1.ApplicationType";a["com.sap.vocabularies.Common.v1.Timestamp"]="Edm.DateTimeOffset";a["com.sap.vocabularies.Common.v1.ErrorResolution"]="com.sap.vocabularies.Common.v1.ErrorResolutionType";a["com.sap.vocabularies.Common.v1.Messages"]="Edm.ComplexType";a["com.sap.vocabularies.Common.v1.numericSeverity"]="com.sap.vocabularies.Common.v1.NumericMessageSeverityType";a["com.sap.vocabularies.Common.v1.MaximumNumericMessageSeverity"]="com.sap.vocabularies.Common.v1.NumericMessageSeverityType";a["com.sap.vocabularies.Common.v1.IsActionCritical"]="Edm.Boolean";a["com.sap.vocabularies.Common.v1.Attributes"]="Edm.PropertyPath";a["com.sap.vocabularies.Common.v1.RelatedRecursiveHierarchy"]="Edm.AnnotationPath";a["com.sap.vocabularies.Common.v1.Interval"]="com.sap.vocabularies.Common.v1.IntervalType";a["com.sap.vocabularies.Common.v1.ResultContext"]="Org.OData.Core.V1.Tag";a["com.sap.vocabularies.Common.v1.SAPObjectNodeType"]="com.sap.vocabularies.Common.v1.SAPObjectNodeTypeType";a["com.sap.vocabularies.Common.v1.Composition"]="Org.OData.Core.V1.Tag";a["com.sap.vocabularies.Common.v1.IsNaturalPerson"]="Org.OData.Core.V1.Tag";a["com.sap.vocabularies.Common.v1.ValueList"]="com.sap.vocabularies.Common.v1.ValueListType";a["com.sap.vocabularies.Common.v1.ValueListRelevantQualifiers"]="Org.OData.Core.V1.SimpleIdentifier";a["com.sap.vocabularies.Common.v1.ValueListWithFixedValues"]="Org.OData.Core.V1.Tag";a["com.sap.vocabularies.Common.v1.ValueListShowValuesImmediately"]="Org.OData.Core.V1.Tag";a["com.sap.vocabularies.Common.v1.ValueListMapping"]="com.sap.vocabularies.Common.v1.ValueListMappingType";a["com.sap.vocabularies.Common.v1.IsCalendarYear"]="Org.OData.Core.V1.Tag";a["com.sap.vocabularies.Common.v1.IsCalendarHalfyear"]="Org.OData.Core.V1.Tag";a["com.sap.vocabularies.Common.v1.IsCalendarQuarter"]="Org.OData.Core.V1.Tag";a["com.sap.vocabularies.Common.v1.IsCalendarMonth"]="Org.OData.Core.V1.Tag";a["com.sap.vocabularies.Common.v1.IsCalendarWeek"]="Org.OData.Core.V1.Tag";a["com.sap.vocabularies.Common.v1.IsDayOfCalendarMonth"]="Org.OData.Core.V1.Tag";a["com.sap.vocabularies.Common.v1.IsDayOfCalendarYear"]="Org.OData.Core.V1.Tag";a["com.sap.vocabularies.Common.v1.IsCalendarYearHalfyear"]="Org.OData.Core.V1.Tag";a["com.sap.vocabularies.Common.v1.IsCalendarYearQuarter"]="Org.OData.Core.V1.Tag";a["com.sap.vocabularies.Common.v1.IsCalendarYearMonth"]="Org.OData.Core.V1.Tag";a["com.sap.vocabularies.Common.v1.IsCalendarYearWeek"]="Org.OData.Core.V1.Tag";a["com.sap.vocabularies.Common.v1.IsCalendarDate"]="Org.OData.Core.V1.Tag";a["com.sap.vocabularies.Common.v1.IsFiscalYear"]="Org.OData.Core.V1.Tag";a["com.sap.vocabularies.Common.v1.IsFiscalPeriod"]="Org.OData.Core.V1.Tag";a["com.sap.vocabularies.Common.v1.IsFiscalYearPeriod"]="Org.OData.Core.V1.Tag";a["com.sap.vocabularies.Common.v1.IsFiscalQuarter"]="Org.OData.Core.V1.Tag";a["com.sap.vocabularies.Common.v1.IsFiscalYearQuarter"]="Org.OData.Core.V1.Tag";a["com.sap.vocabularies.Common.v1.IsFiscalWeek"]="Org.OData.Core.V1.Tag";a["com.sap.vocabularies.Common.v1.IsFiscalYearWeek"]="Org.OData.Core.V1.Tag";a["com.sap.vocabularies.Common.v1.IsDayOfFiscalYear"]="Org.OData.Core.V1.Tag";a["com.sap.vocabularies.Common.v1.IsFiscalYearVariant"]="Org.OData.Core.V1.Tag";a["com.sap.vocabularies.Common.v1.MutuallyExclusiveTerm"]="Org.OData.Core.V1.Tag";a["com.sap.vocabularies.Common.v1.DraftRoot"]="com.sap.vocabularies.Common.v1.DraftRootType";a["com.sap.vocabularies.Common.v1.DraftNode"]="com.sap.vocabularies.Common.v1.DraftNodeType";a["com.sap.vocabularies.Common.v1.DraftActivationVia"]="Org.OData.Core.V1.SimpleIdentifier";a["com.sap.vocabularies.Common.v1.EditableFieldFor"]="Edm.PropertyPath";a["com.sap.vocabularies.Common.v1.SemanticKey"]="Edm.PropertyPath";a["com.sap.vocabularies.Common.v1.SideEffects"]="com.sap.vocabularies.Common.v1.SideEffectsType";a["com.sap.vocabularies.Common.v1.DefaultValuesFunction"]="com.sap.vocabularies.Common.v1.QualifiedName";a["com.sap.vocabularies.Common.v1.FilterDefaultValue"]="Edm.PrimitiveType";a["com.sap.vocabularies.Common.v1.FilterDefaultValueHigh"]="Edm.PrimitiveType";a["com.sap.vocabularies.Common.v1.SortOrder"]="com.sap.vocabularies.Common.v1.SortOrderType";a["com.sap.vocabularies.Common.v1.RecursiveHierarchy"]="com.sap.vocabularies.Common.v1.RecursiveHierarchyType";a["com.sap.vocabularies.Common.v1.CreatedAt"]="Edm.DateTimeOffset";a["com.sap.vocabularies.Common.v1.CreatedBy"]="com.sap.vocabularies.Common.v1.UserID";a["com.sap.vocabularies.Common.v1.ChangedAt"]="Edm.DateTimeOffset";a["com.sap.vocabularies.Common.v1.ChangedBy"]="com.sap.vocabularies.Common.v1.UserID";a["com.sap.vocabularies.Common.v1.ApplyMultiUnitBehaviorForSortingAndFiltering"]="Org.OData.Core.V1.Tag";a["com.sap.vocabularies.Common.v1.PrimitivePropertyPath"]="Org.OData.Core.V1.Tag";a["com.sap.vocabularies.CodeList.v1.CurrencyCodes"]="com.sap.vocabularies.CodeList.v1.CodeListSource";a["com.sap.vocabularies.CodeList.v1.UnitsOfMeasure"]="com.sap.vocabularies.CodeList.v1.CodeListSource";a["com.sap.vocabularies.CodeList.v1.StandardCode"]="Edm.PropertyPath";a["com.sap.vocabularies.CodeList.v1.ExternalCode"]="Edm.PropertyPath";a["com.sap.vocabularies.CodeList.v1.IsConfigurationDeprecationCode"]="Edm.Boolean";a["com.sap.vocabularies.Communication.v1.Contact"]="com.sap.vocabularies.Communication.v1.ContactType";a["com.sap.vocabularies.Communication.v1.Address"]="com.sap.vocabularies.Communication.v1.AddressType";a["com.sap.vocabularies.Communication.v1.IsEmailAddress"]="Org.OData.Core.V1.Tag";a["com.sap.vocabularies.Communication.v1.IsPhoneNumber"]="Org.OData.Core.V1.Tag";a["com.sap.vocabularies.Communication.v1.Event"]="com.sap.vocabularies.Communication.v1.EventData";a["com.sap.vocabularies.Communication.v1.Task"]="com.sap.vocabularies.Communication.v1.TaskData";a["com.sap.vocabularies.Communication.v1.Message"]="com.sap.vocabularies.Communication.v1.MessageData";a["com.sap.vocabularies.Hierarchy.v1.RecursiveHierarchy"]="com.sap.vocabularies.Hierarchy.v1.RecursiveHierarchyType";a["com.sap.vocabularies.Hierarchy.v1.RecursiveHierarchyActions"]="com.sap.vocabularies.Hierarchy.v1.RecursiveHierarchyActionsType";a["com.sap.vocabularies.Hierarchy.v1.MatchCount"]="Edm.Int64";a["com.sap.vocabularies.Hierarchy.v1.RecursiveHierarchySupported"]="Org.OData.Core.V1.Tag";a["com.sap.vocabularies.PersonalData.v1.EntitySemantics"]="com.sap.vocabularies.PersonalData.v1.EntitySemanticsType";a["com.sap.vocabularies.PersonalData.v1.FieldSemantics"]="com.sap.vocabularies.PersonalData.v1.FieldSemanticsType";a["com.sap.vocabularies.PersonalData.v1.IsPotentiallyPersonal"]="Org.OData.Core.V1.Tag";a["com.sap.vocabularies.PersonalData.v1.IsPotentiallySensitive"]="Org.OData.Core.V1.Tag";a["com.sap.vocabularies.Session.v1.StickySessionSupported"]="com.sap.vocabularies.Session.v1.StickySessionSupportedType";a["com.sap.vocabularies.UI.v1.HeaderInfo"]="com.sap.vocabularies.UI.v1.HeaderInfoType";a["com.sap.vocabularies.UI.v1.Identification"]="com.sap.vocabularies.UI.v1.DataFieldAbstract";a["com.sap.vocabularies.UI.v1.Badge"]="com.sap.vocabularies.UI.v1.BadgeType";a["com.sap.vocabularies.UI.v1.LineItem"]="com.sap.vocabularies.UI.v1.DataFieldAbstract";a["com.sap.vocabularies.UI.v1.StatusInfo"]="com.sap.vocabularies.UI.v1.DataFieldAbstract";a["com.sap.vocabularies.UI.v1.FieldGroup"]="com.sap.vocabularies.UI.v1.FieldGroupType";a["com.sap.vocabularies.UI.v1.ConnectedFields"]="com.sap.vocabularies.UI.v1.ConnectedFieldsType";a["com.sap.vocabularies.UI.v1.GeoLocations"]="com.sap.vocabularies.UI.v1.GeoLocationType";a["com.sap.vocabularies.UI.v1.GeoLocation"]="com.sap.vocabularies.UI.v1.GeoLocationType";a["com.sap.vocabularies.UI.v1.Contacts"]="Edm.AnnotationPath";a["com.sap.vocabularies.UI.v1.MediaResource"]="com.sap.vocabularies.UI.v1.MediaResourceType";a["com.sap.vocabularies.UI.v1.DataPoint"]="com.sap.vocabularies.UI.v1.DataPointType";a["com.sap.vocabularies.UI.v1.KPI"]="com.sap.vocabularies.UI.v1.KPIType";a["com.sap.vocabularies.UI.v1.Chart"]="com.sap.vocabularies.UI.v1.ChartDefinitionType";a["com.sap.vocabularies.UI.v1.ValueCriticality"]="com.sap.vocabularies.UI.v1.ValueCriticalityType";a["com.sap.vocabularies.UI.v1.CriticalityLabels"]="com.sap.vocabularies.UI.v1.CriticalityLabelType";a["com.sap.vocabularies.UI.v1.SelectionFields"]="Edm.PropertyPath";a["com.sap.vocabularies.UI.v1.Facets"]="com.sap.vocabularies.UI.v1.Facet";a["com.sap.vocabularies.UI.v1.HeaderFacets"]="com.sap.vocabularies.UI.v1.Facet";a["com.sap.vocabularies.UI.v1.QuickViewFacets"]="com.sap.vocabularies.UI.v1.Facet";a["com.sap.vocabularies.UI.v1.QuickCreateFacets"]="com.sap.vocabularies.UI.v1.Facet";a["com.sap.vocabularies.UI.v1.FilterFacets"]="com.sap.vocabularies.UI.v1.ReferenceFacet";a["com.sap.vocabularies.UI.v1.SelectionPresentationVariant"]="com.sap.vocabularies.UI.v1.SelectionPresentationVariantType";a["com.sap.vocabularies.UI.v1.PresentationVariant"]="com.sap.vocabularies.UI.v1.PresentationVariantType";a["com.sap.vocabularies.UI.v1.SelectionVariant"]="com.sap.vocabularies.UI.v1.SelectionVariantType";a["com.sap.vocabularies.UI.v1.ThingPerspective"]="Org.OData.Core.V1.Tag";a["com.sap.vocabularies.UI.v1.IsSummary"]="Org.OData.Core.V1.Tag";a["com.sap.vocabularies.UI.v1.PartOfPreview"]="Org.OData.Core.V1.Tag";a["com.sap.vocabularies.UI.v1.Map"]="Org.OData.Core.V1.Tag";a["com.sap.vocabularies.UI.v1.Gallery"]="Org.OData.Core.V1.Tag";a["com.sap.vocabularies.UI.v1.IsImageURL"]="Org.OData.Core.V1.Tag";a["com.sap.vocabularies.UI.v1.IsImage"]="Org.OData.Core.V1.Tag";a["com.sap.vocabularies.UI.v1.MultiLineText"]="Org.OData.Core.V1.Tag";a["com.sap.vocabularies.UI.v1.InputMask"]="com.sap.vocabularies.UI.v1.InputMaskType";a["com.sap.vocabularies.UI.v1.TextArrangement"]="com.sap.vocabularies.UI.v1.TextArrangementType";a["com.sap.vocabularies.UI.v1.Note"]="com.sap.vocabularies.UI.v1.NoteType";a["com.sap.vocabularies.UI.v1.Importance"]="com.sap.vocabularies.UI.v1.ImportanceType";a["com.sap.vocabularies.UI.v1.Hidden"]="Org.OData.Core.V1.Tag";a["com.sap.vocabularies.UI.v1.IsCopyAction"]="Org.OData.Core.V1.Tag";a["com.sap.vocabularies.UI.v1.IsAIOperation"]="Org.OData.Core.V1.Tag";a["com.sap.vocabularies.UI.v1.CreateHidden"]="Org.OData.Core.V1.Tag";a["com.sap.vocabularies.UI.v1.UpdateHidden"]="Org.OData.Core.V1.Tag";a["com.sap.vocabularies.UI.v1.DeleteHidden"]="Org.OData.Core.V1.Tag";a["com.sap.vocabularies.UI.v1.HiddenFilter"]="Org.OData.Core.V1.Tag";a["com.sap.vocabularies.UI.v1.AdaptationHidden"]="Org.OData.Core.V1.Tag";a["com.sap.vocabularies.UI.v1.DataFieldDefault"]="com.sap.vocabularies.UI.v1.DataFieldAbstract";a["com.sap.vocabularies.UI.v1.Criticality"]="com.sap.vocabularies.UI.v1.CriticalityType";a["com.sap.vocabularies.UI.v1.CriticalityCalculation"]="com.sap.vocabularies.UI.v1.CriticalityCalculationType";a["com.sap.vocabularies.UI.v1.Emphasized"]="Org.OData.Core.V1.Tag";a["com.sap.vocabularies.UI.v1.OrderBy"]="Edm.PropertyPath";a["com.sap.vocabularies.UI.v1.ParameterDefaultValue"]="Edm.PrimitiveType";a["com.sap.vocabularies.UI.v1.RecommendationState"]="com.sap.vocabularies.UI.v1.RecommendationStateType";a["com.sap.vocabularies.UI.v1.RecommendationList"]="com.sap.vocabularies.UI.v1.RecommendationListType";a["com.sap.vocabularies.UI.v1.Recommendations"]="Edm.ComplexType";a["com.sap.vocabularies.UI.v1.ExcludeFromNavigationContext"]="Org.OData.Core.V1.Tag";a["com.sap.vocabularies.UI.v1.DoNotCheckScaleOfMeasuredQuantity"]="Edm.Boolean";a["com.sap.vocabularies.HTML5.v1.CssDefaults"]="com.sap.vocabularies.HTML5.v1.CssDefaultsType";a["com.sap.vocabularies.HTML5.v1.LinkTarget"]="com.sap.vocabularies.HTML5.v1.LinkTargetType";a["com.sap.vocabularies.HTML5.v1.RowSpanForDuplicateValues"]="Org.OData.Core.V1.Tag"})(t=e.TermToTypes||(e.TermToTypes={}))},42:function(a,e){Object.defineProperty(e,"__esModule",{value:true});e.VocabularyReferences=void 0;e.VocabularyReferences=[{alias:"Authorization",namespace:"Org.OData.Authorization.V1",uri:"https://oasis-tcs.github.io/odata-vocabularies/vocabularies/Org.OData.Authorization.V1.xml"},{alias:"Core",namespace:"Org.OData.Core.V1",uri:"https://oasis-tcs.github.io/odata-vocabularies/vocabularies/Org.OData.Core.V1.xml"},{alias:"Capabilities",namespace:"Org.OData.Capabilities.V1",uri:"https://oasis-tcs.github.io/odata-vocabularies/vocabularies/Org.OData.Capabilities.V1.xml"},{alias:"Aggregation",namespace:"Org.OData.Aggregation.V1",uri:"https://oasis-tcs.github.io/odata-vocabularies/vocabularies/Org.OData.Aggregation.V1.xml"},{alias:"Validation",namespace:"Org.OData.Validation.V1",uri:"https://oasis-tcs.github.io/odata-vocabularies/vocabularies/Org.OData.Validation.V1.xml"},{alias:"Measures",namespace:"Org.OData.Measures.V1",uri:"https://oasis-tcs.github.io/odata-vocabularies/vocabularies/Org.OData.Measures.V1.xml"},{alias:"Analytics",namespace:"com.sap.vocabularies.Analytics.v1",uri:"https://sap.github.io/odata-vocabularies/vocabularies/Analytics.xml"},{alias:"Common",namespace:"com.sap.vocabularies.Common.v1",uri:"https://sap.github.io/odata-vocabularies/vocabularies/Common.xml"},{alias:"CodeList",namespace:"com.sap.vocabularies.CodeList.v1",uri:"https://sap.github.io/odata-vocabularies/vocabularies/CodeList.xml"},{alias:"Communication",namespace:"com.sap.vocabularies.Communication.v1",uri:"https://sap.github.io/odata-vocabularies/vocabularies/Communication.xml"},{alias:"Hierarchy",namespace:"com.sap.vocabularies.Hierarchy.v1",uri:"https://sap.github.io/odata-vocabularies/vocabularies/Hierarchy.xml"},{alias:"PersonalData",namespace:"com.sap.vocabularies.PersonalData.v1",uri:"https://sap.github.io/odata-vocabularies/vocabularies/PersonalData.xml"},{alias:"Session",namespace:"com.sap.vocabularies.Session.v1",uri:"https://sap.github.io/odata-vocabularies/vocabularies/Session.xml"},{alias:"UI",namespace:"com.sap.vocabularies.UI.v1",uri:"https://sap.github.io/odata-vocabularies/vocabularies/UI.xml"},{alias:"HTML5",namespace:"com.sap.vocabularies.HTML5.v1",uri:"https://sap.github.io/odata-vocabularies/vocabularies/HTML5.xml"}]}};var t={};function o(a){var r=t[a];if(r!==undefined){return r.exports}var i=t[a]={exports:{}};e[a].call(i.exports,i,i.exports,o);return i.exports}var r=o(131);a=r})();return a},true);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/converters/controls/Common/Action", ["sap/base/Log","sap/fe/base/BindingToolkit","sap/fe/core/converters/ManifestSettings","sap/fe/core/converters/helpers/ConfigurableObject","sap/fe/core/converters/helpers/ID","sap/fe/core/formatters/FPMFormatter","sap/fe/core/helpers/BindingHelper","sap/fe/core/helpers/ModelHelper","sap/fe/core/helpers/StableIdHelper","sap/fe/core/templating/UIFormatters"],function(e,t,n,i,o,a,r,s,l,c){"use strict";var u={};var f=c.getActionEnabledExpression;var p=l.replaceSpecialChars;var d=r.UI;var b=o.getCustomActionID;var v=i.Placement;var h=n.ActionType;var m=t.resolveBindingString;var g=t.pathInModel;var y=t.or;var A=t.not;var O=t.isConstant;var E=t.ifElse;var S=t.greaterOrEqual;var I=t.formatResult;var C=t.equal;var M=t.constant;var k=t.compileExpression;var F=t.and;let T=function(e){e["Accept"]="Accept";e["Attention"]="Attention";e["Back"]="Back";e["Critical"]="Critical";e["Default"]="Default";e["Emphasized"]="Emphasized";e["Ghost"]="Ghost";e["Negative"]="Negative";e["Neutral"]="Neutral";e["Reject"]="Reject";e["Success"]="Success";e["Transparent"]="Transparent";e["Unstyled"]="Unstyled";e["Up"]="Up";return e}({});u.ButtonType=T;const x="sap-icon://ai";u.aiIcon=x;const P="sap-icon://print";u.PRINT_ICON=P;const D="sap-icon://excel-attachment";u.EXPORT_TO_SPREADSHEET_ICON=D;const N="sap-icon://document";u.EXPORT_TO_CSV_ICON=N;const B="sap-icon://pdf-attachment";u.EXPORT_TO_PDF_ICON=B;const _=e=>{let t,n,i,o;e.forEach(e=>{t=e.visible?.valueOf()==="false";i=false;o=[];n=[];if(e.visible&&!(e.visible.valueOf()==="true"||e.visible.valueOf()==="false")){n.push(e.visible)}if(e?.menu?.length){e?.menu?.forEach(e=>{const t=e.visible;if(t&&(typeof t==="boolean"||t.valueOf()==="true")){i=true}else if(t&&t.valueOf()!=="false"){o.push(t.valueOf())}});if(t){e.visible=false.toString()}else if(!i&&!o.length){e.visible=false.toString()}else if(i&&!n.length){e.visible=true.toString()}else if(i){e.visible=k(m(e.visible))}else if(n.length||o.length){const t=o.map(e=>m(e,"boolean"));e.visible=k(F(m(e.visible||true,"boolean"),y(...t)))}else{e.visible=(!t).toString()}}});return e};u.getVisibilityEnablementMenuActions=_;function U(e){e.forEach(e=>{if(e.visible?.valueOf()==="false"){return}if(e.type==="ForAction"){e.visible=k(F(m(e.visible,"boolean"),A(C(d.hasCollaborationAuthorization,false))))}})}u.addCollaborationCondition=U;function j(e,t,n){const i=t.find(e=>e.key===n);const o=e[n];let a={...i??o};if(Object.keys(a).length===0){t.filter(e=>e.type===h.Menu).forEach(e=>{e.menu?.forEach(e=>{if(e.key===n){a=e}})})}if(i){a.enabled=o?.enabled??i.enabled;a.visible=o?.visible??i.visible;for(const e in o||{}){const t=e;if(!i[t]&&t!=="menu"){a[t]=o[t]}}}const r=a?.visible||a?.type===h.DataFieldForAction||a?.type===h.DataFieldForIntentBasedNavigation;return{action:a,canBeMenuItem:r}}function R(e,t,n,i){const{action:o,canBeMenuItem:a}=j(t,n,e.defaultAction);if(a){e.defaultAction=o}if(o.command){i[o.key]=o}}function q(e,t,n,i){const o=[];const a=n.find(t=>t.key===e.key);if(e.menu?.length!==0){for(const a of e.menu??[]){const{action:e,canBeMenuItem:r}=j(t,n,a);if(r){o.push(e)}if(e.command){i[a]=e}}}else if(a){a.menu?.forEach(e=>o.push(e))}const r=e;r.menu=o;const s=o.map(e=>m(e.visible,"boolean"));r.visible=k(F(m(e.visible,"boolean"),y(...s)))}function W(e,t){const n={};const i=[];const o={};for(const a in e){const r=e[a];if(r.defaultAction!==undefined){R(r,e,t,o)}if(r.type===h.Menu){q(r,e,t,o);if(!r.menu?.length){i.push(r.key)}}if(r.command){o[a]=r}n[a]=r}i.forEach(e=>delete n[e]);return{actions:n,commandActions:o}}const $=function(e,t,n){let i=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;if(t&&e.enabled===undefined){return undefined}const o=V(e.enabled,n,i);const a=!i?"numberOfSelectedContexts":"contextmenu/numberOfSelectedContexts";return k(E(e.requiresSelection===true,E(e.enableOnSelect==="single",F(C(g(a,"internal"),1),o),F(S(g(a,"internal"),1),o)),o))};const z=function(e,t,n){if(t&&e.visible===undefined){return undefined}const i=V(e.visible,n);return k(i)};function H(e,t){if(!t){return}e.type=t.type;e.annotationPath=t.annotationPath;e.press=t.press;e.enabled=e.enabled??t.enabled;e.visible=e.visible??t.visible}function L(e,t,n,i,o,a,r){const s={};for(const a in e){const l=e[a];const c=l.press?.lastIndexOf(".")||-1;let u;if(n){for(const e of n){if(e.id?.startsWith("CustomAction::")){continue}if(e.key===a){u=e;break}else if(e.type==="Menu"){u=e.menu?.find(e=>e.key===a);if(u){break}}}}const f=!!u;if(l.facetName){r=l.facetName}s[a]={id:u?a:b(a),type:l.menu?h.Menu:h.Default,visible:z(l,f,t),enabled:$(l,f,t),enabledForContextMenu:$(l,f,t,true),handlerModule:l.press&&l.press.substring(0,c).replace(/\./gi,"/"),handlerMethod:l.press&&l.press.substring(c+1),press:l.press,text:l.text,noWrap:l.__noWrap,key:p(a),enableOnSelect:l.enableOnSelect,defaultValuesExtensionFunction:l.defaultValuesFunction,position:{anchor:l.position?.anchor,placement:l.position===undefined?v.After:l.position.placement},isNavigable:K(l,i,o),command:l.command,requiresSelection:l.requiresSelection===undefined?false:l.requiresSelection,enableAutoScroll:Q(l),menu:l.menu??(u?.type===h.Menu?[]:undefined),facetName:l.inline?r:undefined,defaultAction:l.defaultAction,isAIOperation:l?.isAIOperation??undefined,priority:l?.priority??undefined,group:l?.group??undefined};H(s[a],u)}return W(s,n??[])}u.getActionsFromManifest=L;function V(e,t){let n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;const i=m(e,"boolean");let o;if(O(i)&&i.value===undefined){o=M(true)}else if(O(i)&&typeof i.value==="string"){const e=i.value;o=I([g("/","$view"),e,g("selectedContexts","internal")],a.customBooleanPropertyCheck,!n?t.getDataModelObjectPath().contextLocation?.targetEntityType||t.getEntityType():undefined)}else{o=i}return o}const X=e=>{let t={};e.forEach(e=>{if(e?.menu?.length){const n=e.menu;t=n.reduce((e,t)=>{let{key:n}=t;if(n&&!e[n]){e[n]=true}return e},t)}});return e.filter(e=>!t[e.key])};u.removeDuplicateActions=X;function w(e,t){let n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;if(t?.annotations.Core?.OperationAvailable){const i=e.getDataModelObjectPath();let o=f(t,e.getConvertedTypes(),i,n);const a=s.isCollaborationDraftSupportedFromConverterContext(e)&&s.getDraftRoot(e.getEntitySet());if(a){o=F(o,A(C(d.hasCollaborationAuthorization,false)))}return o}return M(true)}u.getEnabledForAnnotationActionExpression=w;function G(e,t){let n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;return k(w(e,t,n))}u.getEnabledForAnnotationAction=G;function J(e){return e?e.map(e=>({LocalProperty:{$PropertyPath:e.LocalProperty.value},SemanticObjectProperty:e.SemanticObjectProperty.toString()})):[]}u.getSemanticObjectMapping=J;function K(e,t,n){let i=true;if(n){const e=t&&(t.detail||t.display);i=e?.route?true:false}if(e&&e.afterExecution&&(e.afterExecution?.navigateToInstance===false||e.afterExecution?.enableAutoScroll===true)||!i){return false}return true}u.isActionNavigable=K;function Q(e){return e?.afterExecution?.enableAutoScroll===true}u.enableAutoScroll=Q;function Y(e){return e.annotations?.UI?.IsCopyAction?.valueOf()===true&&e.$Type==="com.sap.vocabularies.UI.v1.DataFieldForAction"}u.dataFieldIsCopyAction=Y;function Z(t){if(t.length===1){return t[0]}if(t.length>1){e.error("Multiple actions are annotated with isCopyAction. There can be only one standard copy action.")}return undefined}u.getCopyAction=Z;function ee(e){const t=[];e.forEach(e=>{if(e.type==="Menu"&&!e.id?.startsWith("CustomAction::")&&e.menu){t.push(...e.menu)}});return t}u.getAnnotationMenuActionItems=ee;function te(e,t){const n={};for(const i in t){if(i.startsWith("DataFieldForAction::")&&e.find(e=>e.key===i)){n[i]=t[i]}}return n}u.getMatchingManifestAction=te;function ne(e,t){let n;e.forEach(e=>{if(e.type===h.Menu){e.menu?.forEach((i,o)=>{n=t.find(e=>e.key===i.key);if(n){e.menu?.splice(o,1,n)}});const i=ie(e.menu);if(i){e.isAIOperation=i}}})}u.prepareMenuActions=ne;function ie(e){let t=0;e.forEach(e=>{if(e.$Type!==undefined){if(oe(e)){t++}}else if(e.type!==undefined){if(ae(e)){t++}}});if(t===e?.length)return true;return false}u.isMenuAIOperation=ie;function oe(e){if(e.$Type==="com.sap.vocabularies.UI.v1.DataFieldForAction"){return e.ActionTarget?.annotations.UI?.IsAIOperation?.valueOf()===true}return false}u.isActionAIOperation=oe;function ae(e){return e?.isAIOperation===true}function re(e){const t=[];const n=[];e.forEach(e=>{if(e.group!==undefined&&!n.includes(e.group)){n.push(e.group);if(n.length>1){t.push({type:h.Separator,key:"Separator::"+e.group,group:e.group,position:{anchor:e.key,placement:v.Before}})}}t.push(e)});return t}u.addSeparators=re;return u},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/converters/controls/Common/Chart", ["sap/base/Log","sap/fe/base/BindingToolkit","sap/fe/core/converters/annotations/DataField","sap/fe/core/converters/controls/Common/Action","sap/fe/core/converters/helpers/ConfigurableObject","sap/fe/core/converters/helpers/Key","sap/fe/core/helpers/StableIdHelper","sap/fe/core/templating/DataModelPathHelper","sap/ui/core/Lib","../../ManifestSettings","../../helpers/Aggregation","../../helpers/ID","../../helpers/InsightsHelpers"],function(t,e,n,a,o,i,r,s,l,g,c,p,u){"use strict";var d={};var f=u.getInsightsVisibility;var h=u.getInsightsEnablement;var y=p.getFilterBarID;var m=p.getChartID;var A=c.AggregationHelper;var b=g.VisualizationType;var P=g.VariantManagementType;var v=g.TemplateType;var T=g.ActionType;var S=s.getTargetObjectPath;var C=r.generate;var M=i.KeyHelper;var I=o.insertCustomElements;var D=o.OverrideType;var E=a.isMenuAIOperation;var F=a.isActionAIOperation;var O=a.getActionsFromManifest;var V=n.isDataFieldForActionAbstract;var w=e.not;var N=e.getExpressionFromAnnotation;var B=e.equal;var z=e.compileExpression;var $=e.and;function L(t,e,n){const a=[];if(t?.Actions){t.Actions.forEach(t=>{const e=M.generateKeyFromDataField(t);if(V(t)&&!t.Inline&&!t.Determining){switch(t.$Type){case"com.sap.vocabularies.UI.v1.DataFieldForAction":if(t.ActionTarget&&!t.ActionTarget.isBound){a.push({type:T.DataFieldForAction,annotationPath:n.getEntitySetBasedAnnotationPath(t.fullyQualifiedName),key:e,visible:q(t,n),isAIOperation:F(t)===true||undefined})}break;case"com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation":a.push({type:T.DataFieldForIntentBasedNavigation,annotationPath:n.getEntitySetBasedAnnotationPath(t.fullyQualifiedName),key:e,visible:q(t,n),isNavigable:true});break}}if(j(t)){a.push({type:T.Menu,text:t.Label?.toString(),visible:q(t,n),menu:t.Actions.map(t=>G(t,n)),key:M.generateKeyFromDataField(t),isAIOperation:E(t.Actions)===true||undefined})}})}return a}function j(t){return t.$Type==="com.sap.vocabularies.UI.v1.DataFieldForActionGroup"}function G(t,e){return{type:T.DataFieldForAction,annotationPath:e.getEntitySetBasedAnnotationPath(t.fullyQualifiedName),key:M.generateKeyFromDataField(t),visible:q(t,e)}}function R(t,e,n){const a=L(t,e,n);const o=O(n.getManifestControlConfiguration(e).actions,n,a);const i={enabled:D.overwrite,enableOnSelect:D.overwrite,visible:D.overwrite,command:D.overwrite,position:D.overwrite,group:D.overwrite,priority:D.overwrite};const r=I(a,o.actions,i);return{actions:r,commandActions:o.commandActions}}d.getChartActions=R;function k(t,e){const n=e.getManifestWrapper();const a=e.getManifestControlConfiguration(t);const o=n.getVariantManagement();const i=[];const r=a?.chartSettings?.personalization;const s=o===P.Control?true:false;if(r!==undefined&&!r||r=="false"){return false}if(typeof r==="object"){if(r.type){i.push("Type")}if(r.item){i.push("Item")}if(r.sort){i.push("Sort")}if(r.filter){i.push("Filter")}return i.join(",")}else if(s||!!r){return"Sort,Type,Item,Filter"}else{return"Sort,Type,Item"}}d.getP13nMode=k;function x(t,e){const n=e.getManifestControlConfiguration(t);return{header:n.chartSettings?.header,headerVisible:n?.chartSettings?.headerVisible}}d.getHeaderInfo=x;function H(t,e){const n=e.getManifestControlConfiguration(t);return n.chartSettings?.selectionMode}d.getSelectionMode=H;function K(t){let e;if(t?.Property){e={Property:{$PropertyPath:t?.Property?.value}}}else{e={Property:{$PropertyPath:t?.name}}}return e}function Q(e,n,a,o,i){const r=new A(a.getEntityType(),a,true);if(!o&&!r.isAnalyticsSupported()){throw new Error("ApplySupported is not added to the annotations")}const s=r.getTransAggregations();const g=r.getCustomAggregateDefinitions();const c=a.getManifestWrapper();const p=c.getVariantManagement();const u=k(n,a);if(u===undefined&&p==="Control"){t.warning("Variant Management cannot be enabled when personalization is disabled")}const d={};if(g){const t=r.getEntityType();for(const e of g){const n=e?.annotations?.Aggregation?.ContextDefiningProperties;const a=e?.qualifier;const o=a&&t.entityProperties.find(t=>t.name===a);const i=o&&o?.annotations?.Common?.Label?.toString();d[a]={name:a,label:i||`Custom Aggregate (${a})`,sortable:true}}}const P={};const T=l.getResourceBundleFor("sap.fe.core");if(s){for(const t of s){P[t.Name]={name:t.Name,propertyPath:t.AggregatableProperty.value,aggregationMethod:t.AggregationMethod,label:t?.annotations?.Common?.Label?t?.annotations?.Common?.Label?.toString():`${T.getText("AGGREGATABLE_PROPERTY")} (${t.Name})`,sortable:true,custom:false}}}const M=r.getAggregatableProperties();const I=r.getGroupableProperties();const D={};D.$Type="Org.OData.Aggregation.V1.ApplySupportedType";D.AggregatableProperties=[];D.GroupableProperties=[];if(M){D.AggregatableProperties=M.map(t=>K(t))}if(I){D.GroupableProperties=I.map(t=>({["$PropertyPath"]:t.value}))}const E=R(e,n,a);let[F]=n.split("@");if(F.lastIndexOf("/")===F.length-1){F=F.substring(0,F.length-1)}const O=e.Title?.toString()||"";const V=a.getDataModelObjectPath();const w=F.length===0;const N=V.targetEntitySet?V.targetEntitySet.name:V.startingEntitySet.name;const B=w?y(a.getContextPath()):undefined;const z={plotArea:{window:{start:"firstDataPoint",end:"lastDataPoint"}},legendGroup:{layout:{position:"bottom"}},tooltip:{formatString:""}};let L;if(!B||a.getTemplateType()===v.ObjectPage){L=true}else if(a.getTemplateType()===v.ListReport||a.getTemplateType()===v.AnalyticalListPage){L=false}const j=a.getManifestWrapper().hasMultipleVisualizations()||a.getTemplateType()===v.AnalyticalListPage;const G=j?".handlers.onSegmentedButtonPressed":"";const Q=j?"{= ${pageInternal>alpContentView} !== 'Table'}":"true";const W=r.getAllowedTransformations();D.enableSearch=W?W.includes("search"):true;let q="";if(e.fullyQualifiedName.split("#").length>1){q=e.fullyQualifiedName.split("#")[1]}const J=f("Analytical",a,n);const Y=a.getParameterEntityType()?true:false;const _=$(h(),J);const{header:X,headerVisible:Z}=x(n,a);const tt=H(n,a);const et=[];e?.DimensionAttributes?.forEach(t=>{const e={};e[t?.Dimension?.value]=t?.Role;et.push(e)});const nt=[];e?.MeasureAttributes?.forEach(t=>{const e={};e[t?.Measure?.value]=t?.Role;nt.push({})});const at=!!r.getAggregatedProperties()[0]?.filter(t=>e.Measures?.some(e=>t.Name===e.value))?.length;return{type:b.Chart,id:q?m(w?N:F,q,b.Chart):m(w?N:F,b.Chart),collection:S(a.getDataModelObjectPath()),apiId:C([q?m(w?N:F,q,b.Chart):m(w?N:F,b.Chart),"Chart"]),entityName:N,personalization:k(n,a),navigationPath:F,annotationPath:a.getAbsoluteAnnotationPath(n),filterId:B,vizProperties:JSON.stringify(z),actions:E.actions,commandActions:E.commandActions,title:O,autoBindOnInit:L,onSegmentedButtonPressed:G,visible:Q,customAgg:d,transAgg:P,applySupported:D,selectionPresentationVariantPath:i,variantManagement:U(u,p),isInsightsEnabled:_,isInsightsVisible:J,isParameterizedEntitySet:Y,header:X,headerVisible:Z,selectionMode:tt,chartDimensionKeyAndRole:et,chartMeasureKeyAndRole:nt,containsAggregatedProperty:r.getAggregatedProperty().length>0,containsTransAggInMeasures:at}}d.createChartVisualization=Q;function U(t,e){return e==="Control"&&!t?P.None:e}function W(t,e,n){const a=n.fullyQualifiedName.split("#").length>1?n.fullyQualifiedName.split("#")[1]:"";const[o]=e.split("@");const i=t.getDataModelObjectPath();const r=o.length===0;const s=i.targetEntitySet?.name??i.startingEntitySet.name;const l=new A(t.getEntityType(),t,true);const g=l.getAllowedTransformations();const c=!!t.getParameterEntityType();return{annotationPath:t.getAbsoluteAnnotationPath(e),isParameterizedEntitySet:c,collection:S(t.getDataModelObjectPath()),type:b.Chart,entityName:s,id:a?m(r?s:o,a,b.Chart):m(r?s:o,b.Chart),apiId:C([a?m(r?s:o,a,b.Chart):m(r?s:o,b.Chart),"Chart"]),applySupported:{$Type:"Org.OData.Aggregation.V1.ApplySupportedType",enableSearch:g?.includes("search")??true}}}d.createChartVisualizationForTemplating=W;function q(t,e){return z(w(B(N(t.annotations?.UI?.Hidden,[],undefined,e.getRelativeModelPathFunction()),true)))}function J(t){const e=t.getManifestWrapper().hasMultipleVisualizations()||t.getTemplateType()===v.AnalyticalListPage;const n=t.getDataModelObjectPath();const a=n.targetEntitySet?n.targetEntitySet.name:n.startingEntitySet.name;const o={type:b.Chart,id:m(a,b.Chart),apiId:C([m(a,b.Chart),"Chart"]),entityName:a,title:"",collection:"",personalization:undefined,navigationPath:"",annotationPath:"",vizProperties:JSON.stringify({legendGroup:{layout:{position:"bottom"}}}),actions:[],commandActions:{},autoBindOnInit:false,onSegmentedButtonPressed:"",visible:e?"{= ${pageInternal>alpContentView} !== 'Table'}":"true",customAgg:{},transAgg:{},applySupported:{$Type:"Org.OData.Aggregation.V1.ApplySupportedType",AggregatableProperties:[],GroupableProperties:[],enableSearch:false},multiViews:false,variantManagement:P.None};return o}d.createBlankChartVisualization=J;return d},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/converters/controls/Common/Criticality", ["sap/ui/core/message/MessageType"],function(e){"use strict";var i={};function a(i){let a;switch(i){case"UI.CriticalityType/Negative":case"UI.CriticalityType/VeryNegative":a=e.Error;break;case"UI.CriticalityType/Critical":a=e.Warning;break;case"UI.CriticalityType/Positive":case"UI.CriticalityType/VeryPositive":a=e.Success;break;case"UI.CriticalityType/Information":a=e.Information;break;case"UI.CriticalityType/Neutral":default:a=e.None}return a}i.getMessageTypeFromCriticalityType=a;return i},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/converters/controls/Common/DataVisualization", ["sap/fe/core/converters/MetaModelConverter","sap/fe/core/converters/helpers/IssueManager","sap/fe/core/helpers/TypeGuards","../../ManifestSettings","./Chart","./Table"],function(t,e,n,a,i,o){"use strict";var r={};var s=i.createChartVisualizationForTemplating;var c=i.createChartVisualization;var l=i.createBlankChartVisualization;var u=a.VisualizationType;var f=a.TemplateType;var v=n.isAnnotationOfType;var p=e.IssueType;var m=e.IssueSeverity;var d=e.IssueCategory;const V=function(t,e,n,a){const{presentation:i,selectionVariant:o}=v(t,"com.sap.vocabularies.UI.v1.PresentationVariantType")?{presentation:t,selectionVariant:undefined}:{presentation:t.PresentationVariant,selectionVariant:t.SelectionVariant};const r=[];const s=E(n);const c=!s&&!(n.getTemplateType()===f.ListReport&&!a)?o:undefined;const l=e.split("@")[0];if((a===true||s)&&!P(i,s)){if(!L(i,"com.sap.vocabularies.UI.v1.LineItem")){const t=$("com.sap.vocabularies.UI.v1.LineItem",l,n);if(t){r.push({...t,...{selectionVariant:c}})}}if(!L(i,"com.sap.vocabularies.UI.v1.Chart")){const t=$("com.sap.vocabularies.UI.v1.Chart",l,n);if(t){r.push(t)}}}const u=i.Visualizations;const p=function(t){const e=u?.find(e=>e.$target!==undefined&&t.includes(e.$target.term));if(e){r.push({visualization:e.$target,annotationPath:`${l}${e.value}`,converterContext:n,selectionVariant:c})}};if(s){p(["com.sap.vocabularies.UI.v1.LineItem"]);p(["com.sap.vocabularies.UI.v1.Chart"])}else{p(["com.sap.vocabularies.UI.v1.LineItem","com.sap.vocabularies.UI.v1.Chart"])}return r};r.getVisualizationsFromAnnotation=V;function I(t,e,n){if(e){const t=n.getEntityTypeAnnotation(e);const a=t.annotation;if(a){if(a.term==="com.sap.vocabularies.UI.v1.SelectionPresentationVariant"){return a}}else{throw new Error("Annotation Path for the SPV mentioned in the manifest is not found, Please add the SPV in the annotation")}}else{return t.annotations?.UI?.SelectionPresentationVariant}}r.getSelectionPresentationVariant=I;function h(t,e){const n=t&&t.PresentationVariant;if(n){return P(n,e)}else{throw new Error("Presentation Variant is not present in the SPV annotation")}}r.isSelectionPresentationCompliant=h;function P(t){let e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;let n=false,a=false;if(e){if(t?.Visualizations){const e=t.Visualizations;e.forEach(t=>{if(t.$target?.term==="com.sap.vocabularies.UI.v1.LineItem"){n=true}if(t.$target?.term==="com.sap.vocabularies.UI.v1.Chart"){a=true}})}return a&&n}else{return t?.Visualizations&&!!t.Visualizations.find(t=>t.$target?.term==="com.sap.vocabularies.UI.v1.LineItem"||t.$target?.term==="com.sap.vocabularies.UI.v1.Chart")}}r.isPresentationCompliant=P;function g(t){return t.annotations.UI?.LineItem}r.getDefaultLineItem=g;function b(t){return t.annotations.UI?.Chart}r.getDefaultChart=b;function C(t){return t.annotations?.UI?.SelectionVariant}r.getDefaultSelectionVariant=C;function y(t,e){const n=e.getManifestWrapper().getDefaultTemplateAnnotationPath();const a=I(t,n,e);let i;if(a){i=a.SelectionVariant;if(i){return i}}else{i=C(t);return i}}r.getSelectionVariant=y;function U(t,e,n){const{annotation:a,converterContext:i}=t;const o=a?.term;let r=[];if(o){switch(o){case"com.sap.vocabularies.UI.v1.LineItem":case"com.sap.vocabularies.UI.v1.Chart":r.push({visualization:a,annotationPath:e,converterContext:i});break;case"com.sap.vocabularies.UI.v1.PresentationVariant":case"com.sap.vocabularies.UI.v1.SelectionPresentationVariant":r=r.concat(V(a,e,i,n));break;default:break}}return r}function T(t,e){if(t===""){return undefined}const n=e.getEntityTypeAnnotation(t).annotation;if(v(n,"com.sap.vocabularies.UI.v1.SelectionPresentationVariantType")){return n.PresentationVariant}else if(n.term==="com.sap.vocabularies.UI.v1.PresentationVariant"){return n}return undefined}function S(t,e,n){const{isCondensedTableLayoutCompliant:a,doNotCheckApplySupported:i,associatedSelectionVariant:r,isMacroOrMultipleView:u,shouldCreateTemplateChartVisualization:f}=n;const V=t!==""?e.getEntityTypeAnnotation(t):{annotation:undefined,converterContext:e};const I=V.annotation;let h,P;const g=I?.term;for(const n of U(V,t,u)){const{visualization:l,annotationPath:u,converterContext:p,selectionVariant:m}=n;switch(l.term){case"com.sap.vocabularies.UI.v1.Chart":h=f?s(p,u,l):c(l,u,p,i,v(I,"com.sap.vocabularies.UI.v1.SelectionPresentationVariantType")?t:undefined);break;case"com.sap.vocabularies.UI.v1.LineItem":default:P=o.createTableVisualization(l,u,p,{presentationVariantAnnotation:T(t,e),selectionVariantAnnotation:r??m,isCondensedTableLayoutCompliant:a});break}}e=V.converterContext;const b=E(e);if(!g||b&&P===undefined){P=o.createDefaultTableVisualization(e,u!==true);e.getDiagnostics().addIssue(d.Annotation,m.Medium,p.MISSING_LINEITEM)}if(b&&h===undefined){h=l(e);e.getDiagnostics().addIssue(d.Annotation,m.Medium,p.MISSING_CHART)}return{visualizations:[h,P].filter(z),annotationPath:e.getEntitySetBasedAnnotationPath(I?.fullyQualifiedName??"/"),associatedSelectionVariantPath:n.associatedSelectionVariant?e.getEntitySetBasedAnnotationPath(n.associatedSelectionVariant.fullyQualifiedName):undefined}}r.getDataVisualizationConfiguration=S;function z(t){return[u.Table,u.Chart].includes(t?.type)}function A(t,e){if(t.includes(e.slice(0,e.lastIndexOf(".")))){const n=["com.sap.vocabularies.UI.v1.PresentationVariant","com.sap.vocabularies.UI.v1.SelectionPresentationVariant",e];if(!n.some(e=>t.search(new RegExp(`${e}(#|/|$)`))>-1)){throw new Error(`Annotation Path ${t} mentioned in the manifest is not valid for ${e}`)}}}r.validatePresentationMetaPath=A;function M(e,n){A(e.getPath(),n);const a=t.convertMetaModelContext(e),i=e.getModel();if(a){if(v(a,"com.sap.vocabularies.UI.v1.SelectionPresentationVariantType")||v(a,"com.sap.vocabularies.UI.v1.PresentationVariantType")){let t;if(v(a,"com.sap.vocabularies.UI.v1.SelectionPresentationVariantType")&&a.PresentationVariant){t=a.PresentationVariant.Visualizations}else if(v(a,"com.sap.vocabularies.UI.v1.PresentationVariantType")){t=a.Visualizations}if(Array.isArray(t)){for(const a of t){if(a.type=="AnnotationPath"&&a.value.includes(n)&&!!i.getMetaContext(e.getPath().split("@")[0]+a.value).getObject()){n=a.value;break}}}}else{return e}}return i.getMetaContext(e.getPath().split("@")[0]+n)}r.getUiControl=M;const L=function(t,e){return t.Visualizations?.some(t=>t.value.includes(e))??false};r.annotationExistsInPresentationVariant=L;const $=function(t,e,n){const a=n.getEntityType();const i=t==="com.sap.vocabularies.UI.v1.LineItem"?g(a):b(a);if(i){return{visualization:i,annotationPath:`${e}${n.getRelativeAnnotationPath(i.fullyQualifiedName,a)}`,converterContext:n}}return undefined};const E=function(t){return t.getManifestWrapper().hasMultipleVisualizations()||t.getTemplateType()===f.AnalyticalListPage};r.isAlpAnnotation=E;return r},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/converters/controls/Common/Form", ["sap/base/Log","sap/fe/base/BindingToolkit","sap/fe/core/converters/annotations/DataField","sap/fe/core/helpers/TypeGuards","sap/fe/core/templating/DataModelPathHelper","../../../helpers/StableIdHelper","../../ManifestSettings","../../helpers/ConfigurableObject","../../helpers/DataFieldHelper","../../helpers/ID","../../helpers/Key"],function(e,t,a,n,o,i,r,s,l,c,f){"use strict";var u={};var p=f.KeyHelper;var d=c.getFormStandardActionButtonID;var m=c.getFormID;var v=l.isReferencePropertyStaticallyHidden;var y=s.insertCustomElements;var g=s.Placement;var b=s.OverrideType;var O=r.ActionType;var F=i.createIdForAnnotation;var P=o.getTargetObjectPath;var h=o.getTargetEntitySetPath;var T=n.isSingleton;var A=n.isNavigationProperty;var I=a.getSemanticObjectPath;var E=t.pathInModel;var D=t.not;var C=t.ifElse;var S=t.getExpressionFromAnnotation;var $=t.equal;var N=t.compileExpression;let U=function(e){e["Default"]="Default";e["Slot"]="Slot";e["Annotation"]="Annotation";return e}({});u.FormElementType=U;function w(e,t,a){let n,o;const i={textLinesEdit:4};if(a&&a.$Type==="com.sap.vocabularies.UI.v1.DataFieldForAnnotation"){n=t.getManifestWrapper();o=n.getHorizontalLayoutForFieldGroup(e.Target.value,a.Target?.value);if(o===true){i.fieldGroupHorizontalLayout=o}}return i}function M(e,t){return t?.valueOf()===false||e.annotations?.UI?.PartOfPreview===undefined||e.annotations?.UI?.PartOfPreview.valueOf()===true}function j(e,t){const a=[];const n=t.getEntityTypeAnnotation(e.Target.value);const o=n.annotation;t=n.converterContext;function i(n,o){const i=p.generateKeyFromDataField(n);const r=I(t,n);const s=t.getManifestWrapper();const l=s.getFormContainer(e.Target.value)?.fields;const c=l?.[i]?.semanticObject;if(n.$Type!=="com.sap.vocabularies.UI.v1.DataFieldForAction"&&n.$Type!=="com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation"&&n.$Type!=="com.sap.vocabularies.UI.v1.DataFieldForActionGroup"&&!v(n)){const s={key:i,type:U.Annotation,annotationPath:`${t.getEntitySetBasedAnnotationPath(n.fullyQualifiedName)}/`,semanticObjectPath:r,formatOptions:w(e,t,n),isPartOfPreview:M(n,o),label:n.Label??n.Value?.$target?.annotations?.Common?.Label?.toString(),semanticObject:c};if(n.$Type==="com.sap.vocabularies.UI.v1.DataFieldForAnnotation"&&n.Target.$target?.$Type==="com.sap.vocabularies.UI.v1.ConnectedFieldsType"){const e=Object.values(n.Target.$target.Data).filter(e=>e?.hasOwnProperty("Value"));s.connectedFields=e.map(e=>{const a={semanticObjectPath:I(t,e)};Object.defineProperty(a,"originalObject",{get:()=>e});Object.defineProperty(a,"originalTemplate",{get:()=>{const e=n.Target?.$target;return e&&"Template"in e?e.Template:undefined}});return a})}else if(n.$Type==="com.sap.vocabularies.UI.v1.DataFieldForAnnotation"&&n.Target.$target?.$Type==="com.sap.vocabularies.UI.v1.FieldGroupType"){const e=Object.values(n.Target.$target.Data).filter(e=>e?.hasOwnProperty("Value"));s.fieldGroupElements=e.map(e=>({$Type:e.$Type,fullyQualifiedName:e.fullyQualifiedName,Label:e.Label}))}a.push(s)}}switch(o?.term){case"com.sap.vocabularies.UI.v1.FieldGroup":o.Data.forEach(t=>i(t,e.annotations?.UI?.PartOfPreview));break;case"com.sap.vocabularies.UI.v1.Identification":o.forEach(t=>i(t,e.annotations?.UI?.PartOfPreview));break;case"com.sap.vocabularies.UI.v1.DataPoint":a.push({key:`DataPoint::${o.qualifier?o.qualifier:""}`,type:U.Annotation,annotationPath:`${t.getEntitySetBasedAnnotationPath(o.fullyQualifiedName)}/`});break;case"com.sap.vocabularies.UI.v1.InputMask":a.push({key:`MaskedInput::${o.qualifier?o.qualifier:""}`,type:U.Annotation,annotationPath:`${t.getEntitySetBasedAnnotationPath(o.fullyQualifiedName)}/`});break;case"com.sap.vocabularies.Common.v1.Masked":a.push({key:`Masked::${o.qualifier?o.qualifier:""}`,type:U.Annotation,annotationPath:`${t.getEntitySetBasedAnnotationPath(o.fullyQualifiedName)}/`});break;case"com.sap.vocabularies.Communication.v1.Contact":a.push({key:`Contact::${o.qualifier?o.qualifier:""}`,type:U.Annotation,annotationPath:`${t.getEntitySetBasedAnnotationPath(o.fullyQualifiedName)}/`});break;default:break}return a}u.getFormElementsFromAnnotations=j;function k(e,t){const a=t.getManifestWrapper();const n=a.getFormContainer(e.Target.value);const o={};if(n?.fields){Object.keys(n?.fields).forEach(a=>{o[a]={key:a,id:`CustomFormElement::${a}`,type:n.fields[a].type||U.Default,template:n.fields[a].template,propertyPath:n.fields[a]?.property,label:t.fetchTextFromMetaModel(n.fields[a].label),position:n.fields[a].position||{placement:g.After},formatOptions:{...w(e,t),...n.fields[a].formatOptions},...n.fields[a].readOnly!==undefined&&{readOnly:n.fields[a].readOnly},...n.fields[a].semanticObject!==undefined&&{semanticObject:n.fields[a].semanticObject}}})}return o}u.getFormElementsFromManifest=k;function x(e,t,a,n){const o=F(e);const i=t.getEntitySetBasedAnnotationPath(e.fullyQualifiedName);const r=t.getEntityTypeAnnotation(e.Target.value);const s=N(D($(true,S(e.annotations?.UI?.Hidden))));let l;const c=r.converterContext.getEntitySet();const f=r.converterContext.getDataModelObjectPath().targetObject;if(c&&c!==t.getEntitySet()){l=h(r.converterContext.getDataModelObjectPath())}else if(A(f)&&f?.containsTarget===true){l=P(r.converterContext.getDataModelObjectPath(),false)}else if(c&&!l&&T(c)){l=c.fullyQualifiedName}else if(!c&&A(f)&&f?.containsTarget===false){l=P(r.converterContext.getDataModelObjectPath(),false)}const u=y(j(e,t),k(e,t),{formatOptions:b.overwrite,readOnly:b.overwrite,semanticObject:b.overwrite});a=a!==undefined?a.filter(t=>t.facetName==e.fullyQualifiedName):[];if(a.length===0){a=undefined}const p={id:d(o,"ShowHideDetails"),key:"StandardAction::ShowHideDetails",text:N(C($(E("showDetails","internal"),true),E("T_COMMON_OBJECT_PAGE_HIDE_FORM_CONTAINER_DETAILS","sap.fe.i18n"),E("T_COMMON_OBJECT_PAGE_SHOW_FORM_CONTAINER_DETAILS","sap.fe.i18n"))),type:O.ShowFormDetails,press:"FormContainerRuntime.toggleDetails"};if(e.annotations?.UI?.PartOfPreview?.valueOf()!==false&&u.some(e=>e.isPartOfPreview===false)){if(a!==undefined){a.push(p)}else{a=[p]}}return{id:o,formElements:u,annotationPath:i,isVisible:s,entitySet:l,actions:a,useSingleTextAreaFieldAsNotes:n?.useSingleTextAreaFieldAsNotes,annotationHidden:e.annotations?.UI?.Hidden?true:false}}u.getFormContainer=x;function H(t,a,n,o){const i=[];const r={useSingleTextAreaFieldAsNotes:o?.useSingleTextAreaFieldAsNotes};t.Facets?.forEach(t=>{if(t.$Type==="com.sap.vocabularies.UI.v1.CollectionFacet"){return}try{i.push(x(t,a,n,r))}catch(a){e.error(`Skipping facet ${t.fullyQualifiedName} due to error:`,a)}});return i}function _(e){return e.$Type==="com.sap.vocabularies.UI.v1.ReferenceFacet"}u.isReferenceFacet=_;function L(e,t,a,n,o){switch(e?.$Type){case"com.sap.vocabularies.UI.v1.CollectionFacet":return{id:m(e),useFormContainerLabels:true,hasFacetsNotPartOfPreview:e.Facets.some(e=>e.annotations?.UI?.PartOfPreview?.valueOf()===false),formContainers:H(e,a,n,o),isVisible:t};case"com.sap.vocabularies.UI.v1.ReferenceFacet":return{id:m(e),useFormContainerLabels:false,hasFacetsNotPartOfPreview:e.annotations?.UI?.PartOfPreview?.valueOf()===false,formContainers:[x(e,a,n,o)],isVisible:t};default:throw new Error("Cannot create form based on ReferenceURLFacet")}}u.createFormDefinition=L;return u},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/converters/controls/Common/KPI", ["sap/fe/core/converters/helpers/IssueManager","sap/fe/core/converters/helpers/SelectionVariantHelper","sap/fe/core/helpers/TypeGuards","sap/fe/core/templating/DataModelPathHelper","sap/fe/core/templating/PropertyHelper","sap/ui/core/message/MessageType","../../helpers/Aggregation","../../helpers/ID","./Criticality"],function(e,t,a,i,n,r,o,l,c){"use strict";var s={};var u=c.getMessageTypeFromCriticalityType;var d=l.getKPIID;var p=o.AggregationHelper;var f=n.getAssociatedTextPropertyPath;var g=i.enhanceDataModelPath;var y=a.isPathAnnotationExpression;var C=a.isAnnotationOfType;var h=a.isAnnotationOfTerm;var T=t.getFilterDefinitionsFromSelectionVariant;var m=e.IssueType;var v=e.IssueSeverity;var I=e.IssueCategory;const D={"UI.TrendType/StrongUp":"Up","UI.TrendType/Up":"Up","UI.TrendType/StrongDown":"Down","UI.TrendType/Down":"Down","UI.TrendType/Sideways":"None"};const S={"UI.ChartType/ColumnStacked":"StackedColumn","UI.ChartType/BarStacked":"StackedBar","UI.ChartType/Donut":"Donut","UI.ChartType/Line":"Line","UI.ChartType/Bubble":"bubble","UI.ChartType/Column":"column","UI.ChartType/Bar":"bar","UI.ChartType/VerticalBullet":"vertical_bullet","UI.ChartType/Combination":"combination","UI.ChartType/Scatter":"scatter"};function b(e,t,a){if(e.Measures===undefined){return undefined}const i=e.Dimensions?e.Dimensions.map(t=>{const i=e.DimensionAttributes?.find(e=>e.Dimension?.value===t.value);const n={name:t.value,label:t.$target?.annotations.Common?.Label?.toString()||t.value,role:i?.Role?.replace("UI.ChartDimensionRoleType/","")};const r=g(a.getDataModelObjectPath(),t.value).targetObject;if(r?.annotations.Common?.Text){n.text=f(r);n.textArrangement=r.annotations.Common.Text.annotations?.UI?.TextArrangement?.toString().replace("UI.TextArrangementType/","")??"TextFirst"}return n}):[];const n=e.Measures.map(t=>{const a=e.MeasureAttributes?.find(e=>e.Measure?.value===t.value);return{name:t.value,label:t.$target?.annotations.Common?.Label?.toString()||t.value,role:a?.Role?.replace("UI.ChartMeasureRoleType/","")}});const r={chartType:S[e.ChartType]||"Line",dimensions:i,measures:n,sortOrder:t?.SortOrder?.map(e=>({name:e.Property?.value||"",descending:!!e.Descending})),maxItems:t?.MaxItems?.valueOf()};const o=e.Title?.valueOf();if(o!==undefined){r.title=o}return r}function V(e,t){const a=e.Value.$target;if(a.annotations.Measures?.ISOCurrency){const e=a.annotations.Measures?.ISOCurrency;if(y(e)){t.datapoint.unit={value:e.$target.name,isCurrency:true,isPath:true}}else{t.datapoint.unit={value:e.toString(),isCurrency:true,isPath:false}}}else if(a.annotations.Measures?.Unit){const e=a.annotations.Measures?.Unit;if(y(e)){t.datapoint.unit={value:e.$target.name,isCurrency:false,isPath:true}}else{t.datapoint.unit={value:e.toString(),isCurrency:false,isPath:false}}}}function P(e,t,a){if(e.Criticality){if(y(e.Criticality)){const i=e.Criticality.$target;if(i&&t.isPropertyAggregatable(i)){a.datapoint.criticalityPath=e.Criticality.path}else{a.datapoint.criticalityValue=r.None}}else{a.datapoint.criticalityValue=u(e.Criticality)}}else if(e.CriticalityCalculation){a.datapoint.criticalityCalculationMode=e.CriticalityCalculation.ImprovementDirection;a.datapoint.criticalityCalculationThresholds=[];switch(a.datapoint.criticalityCalculationMode){case"UI.ImprovementDirectionType/Target":a.datapoint.criticalityCalculationThresholds.push(e.CriticalityCalculation.DeviationRangeLowValue);a.datapoint.criticalityCalculationThresholds.push(e.CriticalityCalculation.ToleranceRangeLowValue);a.datapoint.criticalityCalculationThresholds.push(e.CriticalityCalculation.AcceptanceRangeLowValue);a.datapoint.criticalityCalculationThresholds.push(e.CriticalityCalculation.AcceptanceRangeHighValue);a.datapoint.criticalityCalculationThresholds.push(e.CriticalityCalculation.ToleranceRangeHighValue);a.datapoint.criticalityCalculationThresholds.push(e.CriticalityCalculation.DeviationRangeHighValue);break;case"UI.ImprovementDirectionType/Minimize":a.datapoint.criticalityCalculationThresholds.push(e.CriticalityCalculation.AcceptanceRangeHighValue);a.datapoint.criticalityCalculationThresholds.push(e.CriticalityCalculation.ToleranceRangeHighValue);a.datapoint.criticalityCalculationThresholds.push(e.CriticalityCalculation.DeviationRangeHighValue);break;case"UI.ImprovementDirectionType/Maximize":default:a.datapoint.criticalityCalculationThresholds.push(e.CriticalityCalculation.DeviationRangeLowValue);a.datapoint.criticalityCalculationThresholds.push(e.CriticalityCalculation.ToleranceRangeLowValue);a.datapoint.criticalityCalculationThresholds.push(e.CriticalityCalculation.AcceptanceRangeLowValue)}}else{a.datapoint.criticalityValue=r.None}}function U(e,t,a){if(e.Trend){if(y(e.Trend)){const i=e.Trend.$target;if(i&&t.isPropertyAggregatable(i)){a.datapoint.trendPath=e.Trend.path}else{a.datapoint.trendValue="None"}}else{a.datapoint.trendValue=D[e.Trend]||"None"}}else if(e.TrendCalculation){a.datapoint.trendCalculationIsRelative=e.TrendCalculation.IsRelativeDifference?true:false;if(e.TrendCalculation.ReferenceValue.$target){const i=e.TrendCalculation.ReferenceValue.$target;if(t.isPropertyAggregatable(i)){a.datapoint.trendCalculationReferencePath=e.TrendCalculation.ReferenceValue.path}else{a.datapoint.trendValue="None"}}else{a.datapoint.trendCalculationReferenceValue=e.TrendCalculation.ReferenceValue}if(a.datapoint.trendCalculationReferencePath!==undefined||a.datapoint.trendCalculationReferenceValue!==undefined){a.datapoint.trendCalculationTresholds=[e.TrendCalculation.StrongDownDifference.valueOf(),e.TrendCalculation.DownDifference.valueOf(),e.TrendCalculation.UpDifference.valueOf(),e.TrendCalculation.StrongUpDifference.valueOf()]}}else{a.datapoint.trendValue="None"}}function A(e,t,a){if(e.TargetValue){if(e.TargetValue.$target){const i=e.TargetValue.$target;if(t.isPropertyAggregatable(i)){a.datapoint.targetPath=e.TargetValue.path}}else{a.datapoint.targetValue=e.TargetValue}}}function O(e){const t=e.annotations["Common"]||{};let a;Object.keys(t).forEach(e=>{const i=t[e];if(h(i,"com.sap.vocabularies.Common.v1.SemanticObject")){if(!i.qualifier||!a){a=i}}});if(a){const e={semanticObject:a.toString(),unavailableActions:[]};const i=Object.keys(t).find(e=>{const i=t[e];return h(i,"com.sap.vocabularies.Common.v1.SemanticObjectUnavailableActions")&&i.qualifier===a?.qualifier});if(i){e.unavailableActions=t[i]}return e}else{return undefined}}function R(e){return!!e.template}function M(e,t,a){let i="";if(t.contextPath){i=t.contextPath}else if(t.entitySet){i=`/${t.entitySet}`}const n=e.getConverterContextFor(i);const r=new p(n.getEntityType(),n);if(!r.isAnalyticsSupported()){e.getDiagnostics().addIssue(I.Annotation,v.Medium,m.KPI_ISSUES.NO_ANALYTICS+i);return undefined}let o;let l;let c;let s;let u;const f=n.getAnnotationsByTerm("UI","com.sap.vocabularies.UI.v1.KPI");const g=f.find(e=>e.qualifier===t.qualifier);if(g){l=g.DataPoint;o=g.SelectionVariant;c=g.Detail?.DefaultPresentationVariant;s=c?.Visualizations?.find(e=>C(e.$target,"com.sap.vocabularies.UI.v1.ChartDefinitionType"))?.$target;if(g.Detail?.SemanticObject){u={semanticObject:g.Detail.SemanticObject.toString(),action:g.Detail.Action?.toString(),unavailableActions:[]}}}else{const a=n.getAnnotationsByTerm("UI","com.sap.vocabularies.UI.v1.SelectionPresentationVariant");const i=a.find(e=>e.qualifier===t.qualifier);if(i){o=i.SelectionVariant;c=i.PresentationVariant;l=c?.Visualizations?.find(e=>C(e.$target,"com.sap.vocabularies.UI.v1.DataPointType"))?.$target;s=c?.Visualizations?.find(e=>C(e.$target,"com.sap.vocabularies.UI.v1.ChartDefinitionType"))?.$target}else{e.getDiagnostics().addIssue(I.Annotation,v.Medium,m.KPI_ISSUES.KPI_NOT_FOUND+t.qualifier);return undefined}}if(!c||!l||!s){e.getDiagnostics().addIssue(I.Annotation,v.Medium,m.KPI_ISSUES.KPI_DETAIL_NOT_FOUND+t.qualifier);return undefined}const y=l.Value.$target;if(!r.isPropertyAggregatable(y)){e.getDiagnostics().addIssue(I.Annotation,v.Medium,m.KPI_ISSUES.MAIN_PROPERTY_NOT_AGGREGATABLE+t.qualifier);return undefined}const h=b(s,c,e);if(!h){return undefined}const D={type:"Analytical",id:"kpiTag-"+d(a),contextPath:i,datapoint:{propertyPath:l.Value.path,annotationPath:n.getEntitySetBasedAnnotationPath(l.fullyQualifiedName),title:l.Title?.toString(),description:l.Description?.toString()},selectionVariantFilterDefinitions:o?T(o):undefined,chart:h};if(l.ValueFormat?.NumberOfFractionalDigits!==undefined){D.datapoint.numberOfFractionalDigits=l.ValueFormat.NumberOfFractionalDigits.valueOf()}if(!u){if(t.detailNavigation){u={outboundNavigation:t.detailNavigation}}else{u=O(y)}}if(u){D.navigation=u}V(l,D);P(l,r,D);U(l,r,D);A(l,r,D);return D}function N(e,t,a){if(R(t)){return{type:"Custom",key:e,template:t.template}}else{return M(a,t,e)}}function $(e){const t=e.getManifestWrapper().getKPIConfiguration(),a=[];Object.keys(t).forEach(i=>{const n=N(i,t[i],e);if(n){a.push(n)}});return a}s.getKPIDefinitions=$;return s},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/converters/controls/Common/Table", ["sap/base/Log","sap/fe/base/BindingToolkit","sap/fe/core/converters/annotations/DataField","sap/fe/core/converters/controls/Common/Action","sap/fe/core/converters/helpers/ConfigurableObject","sap/fe/core/converters/helpers/IssueManager","sap/fe/core/converters/helpers/Key","sap/fe/core/helpers/BindingHelper","sap/fe/core/helpers/ModelHelper","sap/fe/core/helpers/StableIdHelper","sap/fe/core/helpers/TypeGuards","sap/fe/core/templating/CriticalityFormatters","sap/fe/core/templating/DataModelPathHelper","sap/fe/core/templating/EntitySetHelper","sap/fe/macros/formatters/TableFormatter","sap/fe/macros/internal/helpers/ActionHelper","sap/ui/core/Lib","sap/ui/core/message/MessageType","../../ManifestSettings","../../helpers/Aggregation","../../helpers/ID","./Criticality","./table/Columns","./table/StandardActions"],function(e,t,n,a,i,o,r,s,l,c,u,d,f,p,g,y,b,v,h,m,T,C,A,M){"use strict";var P={};var E=M.isInDisplayMode;var I=M.isDraftOrStickySupported;var S=M.getStandardActionPaste;var F=M.getStandardActionMoveUpDown;var D=M.getStandardActionMassEdit;var w=M.getStandardActionInsights;var N=M.getStandardActionDelete;var x=M.getStandardActionCut;var O=M.getStandardActionCreate;var R=M.getStandardActionCopy;var L=M.getRestrictions;var U=M.getMassEditVisibility;var V=M.getInsertUpdateActionsTemplating;var j=M.getDeleteVisibility;var B=M.getCutVisibility;var $=M.getCreationRow;var H=M.generateStandardActionsContext;var q=M.StandardActionKeys;var k=A.updateLinkedProperties;var G=A.getTableColumns;var K=A.getRequiredProperties;var z=A.getColumnsFromEntityType;var W=A.findColumnByPath;var Q=A.ColumnType;var _=C.getMessageTypeFromCriticalityType;var J=T.getTableID;var Y=m.AggregationHelper;var X=h.VisualizationType;var Z=h.VariantManagementType;var ee=h.TemplateType;var te=h.SelectionMode;var ne=h.OperationGroupingMode;var ae=h.CreationMode;var ie=h.ActionType;var oe=p.getRestrictionsOnProperties;var re=f.isPathUpdatable;var se=f.isPathSearchable;var le=f.isPathDeletable;var ce=f.getTargetObjectPath;var ue=f.getNonUpdatableNavigationProperties;var de=f.getHierarchyParentNavigationPropertyPath;var fe=d.criticalityExpressionForIntegrationCards;var pe=u.isPathAnnotationExpression;var ge=u.isNavigationProperty;var ye=u.isAnnotationOfType;var be=c.generate;var ve=s.UI;var he=s.Entity;var me=r.KeyHelper;var Te=o.IssueType;var Ce=o.IssueSeverity;var Ae=o.IssueCategory;var Me=i.insertCustomElements;var Pe=i.Placement;var Ee=i.OverrideType;var Ie=a.removeDuplicateActions;var Se=a.prepareMenuActions;var Fe=a.isMenuAIOperation;var De=a.isActionAIOperation;var we=a.getVisibilityEnablementMenuActions;var Ne=a.getMatchingManifestAction;var xe=a.getEnabledForAnnotationAction;var Oe=a.getCopyAction;var Re=a.getAnnotationMenuActionItems;var Le=a.getActionsFromManifest;var Ue=a.dataFieldIsCopyAction;var Ve=a.addCollaborationCondition;var je=n.visibleExpression;var Be=n.isDataFieldForActionGroup;var $e=n.isDataFieldForActionAbstract;var He=n.isDataField;var qe=t.resolveBindingString;var ke=t.pathInModel;var Ge=t.or;var Ke=t.not;var ze=t.isConstant;var We=t.ifElse;var Qe=t.getExpressionFromAnnotation;var _e=t.formatResult;var Je=t.equal;var Ye=t.constant;var Xe=t.compileExpression;var Ze=t.and;function et(e,t,n,a,i){const o=l.isCollaborationDraftSupportedFromConverterContext(n);const r=At(e,t,n);const s=Le(n.getManifestControlConfiguration(t).actions,n,r.tableActions,i,true);const c=r.tableActions.filter(e=>e.type===ie.Copy);const u=r.tableActions.filter(e=>e.type!==ie.Copy);const d=[...u,a.create,...c,a.delete,a.massEdit,a.insights,a.creationRow,a.cut,a.copy,a.paste,a.moveUp,a.moveDown].filter(e=>e!==undefined);for(const e of Object.values(s.actions)){if((e.type===ie.Default||e.type===ie.Menu)&&!e.position?.anchor){e.position={anchor:q.Create,placement:Pe.Before}}}const f=Object.entries(s.actions);const p=Object.fromEntries(f.filter(e=>{let[t]=e;return t.startsWith("StandardAction::")}));const g=Object.fromEntries(f.filter(e=>{let[t]=e;return!p[t]}));const y={isNavigable:Ee.overwrite,enableOnSelect:Ee.overwrite,enableAutoScroll:Ee.overwrite,enabled:Ee.overwrite,visible:Ee.overwrite,defaultValuesExtensionFunction:Ee.overwrite,command:Ee.overwrite,position:Ee.overwrite,menu:Ee.overwrite,priority:Ee.overwrite,group:Ee.overwrite};const b=Re(u);const v=Ne(b,s.actions);const h=Me(b,v,y);let m=Me(d,g,y);m=Me(m,p,{position:Ee.overwrite,priority:Ee.overwrite,group:Ee.overwrite});Se(m,h);m=Ie(m);m=we(m);if(o){Ve(m)}return{actions:m,commandActions:s.commandActions}}P.getTableActions=et;function tt(e){const t=e.getCustomAggregateDefinitions();const n={};t.forEach(t=>{const a=e._entityType.entityProperties.find(e=>e.name===t.qualifier);if(a){const e=t.annotations?.Aggregation?.ContextDefiningProperties??a.annotations.Aggregation?.ContextDefiningProperties;n[a.name]=e?.map(e=>e.value)??[]}});return n}const nt=function(e,t,n){const a=new Y(e,n);if(!a.isAnalyticsSupported()){return undefined}const i=new Set;t.forEach(e=>{const n=e;if(n.unit){const e=t.find(e=>e.name===n.unit);i.add(e.relativePath)}});const o=tt(a);const r={};t.forEach(n=>{const s=n;const l=e.entityProperties.find(e=>e.name===s.relativePath);if(s.propertyInfos!==undefined||!s.relativePath){return}let c=o[s.relativePath];let u=false;if(!c&&l&&!!a.isPropertyGroupable(l)){u=true;c=l.annotations.Aggregation?.ContextDefiningProperties?.map(e=>e.value)}if(!c||i.has(s.relativePath)){return}r[s.name]={fromGroupableProperty:u,relativePath:s.relativePath};const d=[];c.forEach(e=>{if(!u&&i.has(e)){return}const n=W(e,t);if(n){d.push(n.name)}});if(d.length){r[s.name].additionalProperties=d}});return r};P.getExtensionInfoFromEntityType=nt;function at(t,n,a,i){if(t.control.type==="AnalyticalTable"){const o=nt(n,t.columns,a),r=new Y(n,a);if(o){t.enableAnalytics=true;t.enable$select=false;t.enable$$getKeepAliveContext=false;t.analyticsExtensions=o;Lt(t);const e=r.getAllowedTransformations();t.enableBasicSearch=e?e.includes("search"):true;t.annotation.groupConditions=Rt(i,t.columns,t.control.type);t.annotation.aggregateConditions=jt(i,t.columns,o)}else{e.error(`Aggregation not supported for this entity type: ${n.name}`)}t.control.type="GridTable"}else if(t.control.type==="ResponsiveTable"){t.annotation.groupConditions=Rt(i,t.columns,t.control.type)}else if(t.control.type==="TreeTable"){const e=new Y(n,a);const i=e.getAllowedTransformations();t.enableBasicSearch=i?i.includes("search"):true;t.enable$$getKeepAliveContext=true;t.annotation.changeSiblingForRootsSupported=n?.annotations.Hierarchy?.[`RecursiveHierarchyActions#${t.control.hierarchyQualifier??""}`]?.ChangeSiblingForRootsSupported??true;t.annotation.allowDropBetweenNodes=!!n.annotations.Hierarchy?.[`RecursiveHierarchyActions#${t.control.hierarchyQualifier??""}`]?.ChangeNextSiblingAction}if(l.isObjectPathDraftSupported(a.getDataModelObjectPath())){t.requestAtLeast["HasActiveEntity"]=["draftKeys"];if(t.control.analyticalConfiguration?.aggregationOnLeafLevel){t.requestAtLeast["IsActiveEntity"]=["draftKeys"]}if(l.isDraftRoot(a.getEntitySet())){t.requestAtLeast["HasDraftEntity"]=["draftKeys"];if(t.enableAnalytics!==true&&t.control.type!=="TreeTable"){t.requestAtLeast["DraftAdministrativeData/InProcessByUser"]=["draftKeys"];if(l.isCollaborationDraftSupportedFromConverterContext(a)&&a.getManifestWrapper().isFclEnabled()){t.requestAtLeast["DraftAdministrativeData/DraftAdministrativeUser"]=["draftKeys"]}}}}if(t.control.enableUploadPlugin){const e=a.getAnnotationEntityType().annotations?.UI?.MediaResource?.Stream?.$target;if(!e){throw"UI.MediaResource annotation with Stream property missing"}const n=t.actions.find(e=>e.key===q.Create);t.annotation.uploadTable={stream:e.name,fileName:e.annotations.Core?.ContentDisposition?.Filename?.path,fileNameMaxLength:e.annotations.Core?.ContentDisposition?.Filename?.$target?.maxLength,acceptableMediaTypes:e.annotations.Core?.AcceptableMediaTypes,maxLength:e.maxLength,uploadAction:n}}const o=t.actions.filter(e=>e.visible!=="false");if(a.getTemplateType()===ee.ListReport&&!l.isObjectPathDraftSupported(a.getDataModelObjectPath())&&!l.isSticky(a.getEntitySet())&&t.enableAnalytics!==true&&o.every(e=>e.key.startsWith("StandardAction::"))){t.disableOwnRequestOnMVF=true}}P.updateTableVisualizationForType=at;function it(e,t,n,a){const i=t.getAnnotationEntityType(e);const o={};function r(e,t){if(e&&e.indexOf("/")!==0){if(!o[e]){o[e]=[t]}else{o[e].push(t)}}}function s(e,t){if(e?.length){e.forEach(e=>r(e,t))}}const c=(n||"").split(",");const u=c.filter(function(e){return i.resolvePath(e)});const d=(i.annotations.Common?.SemanticKey||[]).map(e=>e.value);const f=t.getEntitySet()?.annotations?.Capabilities;const p=l.getAlternateAndSecondaryKeys(i,t.getEntitySet());if(a){s(a.RequestAtLeast?.map(e=>e.value),"presentationVariant")}s(ot(e,i),"navigation");s(u,"operation");s(d,"semanticKey");s(p,"alternateAndSecondaryKeys");if(f){r(f.DeleteRestrictions?.Deletable?.path,"restriction");r(f.UpdateRestrictions?.Updatable?.path,"restriction")}return o}P.createRequestedProperties=it;function ot(e,t){const n=[];e.forEach(function(e){if(e.$Type==="com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation"&&!e.Inline&&!e.Determining&&pe(e.NavigationAvailable)){const a=e.NavigationAvailable.path;if(t.resolvePath(a)){n.push(a)}}});return n}function rt(e,t){const n=e.getManifestWrapper();if(t&&n.getNavigationConfiguration(t)){const e=n.getNavigationConfiguration(t);if(Object.keys(e).length>0){return t}}const a=e.getDataModelObjectPath();const i=e.getContextPath();const o=n.getNavigationConfiguration(i);if(o&&Object.keys(o).length>0){return i}return a.targetEntitySet?a.targetEntitySet.name:a.startingEntitySet.name}P.getNavigationTargetPath=rt;function st(e){const t=e.getAnnotationEntityType()?.annotations?.UI?.HeaderInfo?.Title?.Value?.path;const n=e.getAnnotationEntityType()?.annotations?.Common?.SemanticKey;const a=e?.getAnnotationEntityType()?.annotations?.UI?.HeaderInfo?.TypeName;const i=[];if(n){n.forEach(function(e){i.push(e.value)})}return{headerInfoTitlePath:t,semanticKeyColumns:i,headerInfoTypeName:a}}function lt(e,t,n,a){const{presentationVariantAnnotation:i,isCondensedTableLayoutCompliant:o,selectionVariantAnnotation:r}=a??{};const s=ln(e,t,n,o,r);const{navigationPropertyPath:l}=qt(t);const c=rt(n,l);const u=n.getManifestWrapper().getNavigationConfiguration(c);const d=G(e,s.type,t,n);const f=ut(e,n);const p=st(n);const g=Bt(e,t,n,s,u);const y=$t(e,t,n,s,d,u,g,i);const b=et(e,t,n,g.standardActions,u);const v=ft(f,n);let h=s.header;h??=y.title===""?undefined:y.title;const m={type:X.Table,annotation:y,control:s,actions:b.actions,commandActions:b.commandActions,columns:d,operationAvailableMap:JSON.stringify(f),operationAvailableProperties:v,headerInfoTitle:p.headerInfoTitlePath,semanticKeys:p.semanticKeyColumns,headerInfoTypeName:p.headerInfoTypeName,enable$select:true,enable$$getKeepAliveContext:true,header:h,headerVisible:s.headerVisible,requestAtLeast:it(e,n,v,i),handlePatchSent:n.getManifestWrapper().getTemplateType()!==ee.ListReport};k(n,d);at(m,n.getAnnotationEntityType(e),n,i);return m}P.createTableVisualization=lt;function ct(e,t){const n=ln(undefined,"",e,false);const a=z({},e.getEntityType(),[],e,n.type,n.creationMode,{});const i=ut(undefined,e);const o=st(e);const r=rt(e,"");const s=e.getManifestWrapper().getNavigationConfiguration(r);const l=Bt(undefined,"",e,n,s);const c={type:X.Table,annotation:$t(undefined,"",e,n,t?[]:a,s,l),control:n,actions:[],columns:a,operationAvailableMap:JSON.stringify(i),operationAvailableProperties:ft(i,e),headerInfoTitle:o.headerInfoTitlePath,semanticKeys:o.semanticKeyColumns,headerInfoTypeName:o.headerInfoTypeName,enable$select:true,enable$$getKeepAliveContext:true,header:n.header,headerVisible:n.headerVisible,handlePatchSent:e.getManifestWrapper().getTemplateType()!==ee.ListReport,requestAtLeast:{}};k(e,a);at(c,e.getEntityType(),e);return c}P.createDefaultTableVisualization=ct;function ut(e,t){return y.getOperationAvailableMap(e,"table",t)}function dt(e){const t=L(e);const n=e.getEntitySet();const a=t.isUpdatable;const i=!ze(a.expression)&&a.navigationExpression._type==="Unresolvable";const o=n?.annotations.Capabilities?.UpdateRestrictions?.Updatable;const r=pe(o)&&o.path;return i?r:""}function ft(e,t){const n=new Set;for(const t in e){const a=e[t];if(a===null){n.add(t)}else if(typeof a==="string"){n.add(a)}}if(n.size){const e=t.getEntityType();const a=e.annotations?.UI?.HeaderInfo?.Title?.Value?.path;if(a){n.add(a)}}return Array.from(n).join(",")}function pt(e,t,n){const a=[];e.forEach(e=>{if(e.$Type==="com.sap.vocabularies.UI.v1.DataFieldForAction"&&e?.ActionTarget?.isBound&&t===e?.ActionTarget.sourceEntityType||e.$Type==="com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation"&&e.RequiresContext&&e?.Inline?.valueOf()!==true){if(typeof e.annotations?.UI?.Hidden?.valueOf()==="object"){a.push(Je(yt(e,n),false))}}});return a}function gt(e){let t;if(pe(e)){t=e.path}else{t=e}return t}function yt(e,t){const n=e.annotations?.UI?.Hidden;let a=gt(n);if(typeof a==="object"){return Ye(false)}else if(typeof a==="string"){if("visible"in e){a=a.substring(1,a.length-1)}if(a.indexOf("/")>0){const e=a.split("/");const n=e[0];if(ge(t?.targetObject)&&t.targetObject.partner===n){return ke(e.slice(1).join("/"))}else{return Ye(true)}}else{return Ye(false)}}return Ye(true)}function bt(e,t,n){return Object.keys(n).some(a=>{if(a===e){if(t?.ActionTarget?.isBound||t?.RequiresContext){n[e].requiresSelection=true}return true}return false})}function vt(e,t,n){return e.some(e=>{if((e.$Type==="com.sap.vocabularies.UI.v1.DataFieldForAction"||e.$Type==="com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation")&&e?.Inline?.valueOf()!==true&&(e.annotations?.UI?.Hidden?.valueOf()===false||e.annotations?.UI?.Hidden?.valueOf()===undefined)){if(e.$Type==="com.sap.vocabularies.UI.v1.DataFieldForAction"){const a=be(["DataFieldForAction",e.Action]);if(bt(a,e,t)){return false}return e?.ActionTarget?.isBound&&n===e?.ActionTarget.sourceEntityType}else if(e.$Type==="com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation"){if(bt(`DataFieldForIntentBasedNavigation::${e.SemanticObject}::${e.Action}`,e,t)){return false}return e.RequiresContext}}else if(e.$Type==="com.sap.vocabularies.UI.v1.DataFieldForActionGroup"&&(e.annotations?.UI?.Hidden?.valueOf()===false||e.annotations?.UI?.Hidden?.valueOf()===undefined)){return vt(e.Actions,t,n)}return false})}function ht(e){const t=Object.keys(e).reduce((t,n)=>{const a=e[n];if(!a.menu){t.push(a)}else{t=[...t,...a.menu.filter(e=>typeof e!=="string")]}return t},[]);return!!t.find(e=>e.requiresSelection&&(e.visible===undefined||e.visible?.toString()==="true"))}function mt(e){const t=[];if(e){Object.keys(e).forEach(n=>{const a=e[n];if(a.requiresSelection===true&&a.visible!==undefined){if(typeof a.visible==="string"){t.push(qe(a?.visible?.valueOf(),"boolean"))}}})}return t}function Tt(e){const t=le(e.getDataModelObjectPath());const n=re(e.getDataModelObjectPath());return{isDeletable:!(ze(t)&&t.value===false),isUpdatable:!(ze(n)&&n.value===false)}}P.getCapabilityRestriction=Tt;function Ct(e,t,n,a,i,o){let r=arguments.length>6&&arguments[6]!==undefined?arguments[6]:Ye(false);let s=arguments.length>7&&arguments[7]!==undefined?arguments[7]:Ye(false);const l=n.getManifestControlConfiguration(t);const c=l.tableSettings?.type;let u=l.tableSettings?.selectionMode;if(c==="TreeTable"&&!u){return te.Multi}if(!e||u===te.None){if(i.isDeletable&&o){return Xe(We(o,Ye(te.Multi),Ye(te.None)))}return te.None}if(u===te.ForceMulti){return te.Multi}else if(u===te.ForceSingle){return te.Single}let d=[],f=[];const p=Le(n.getManifestControlConfiguration(t).actions,n,[],undefined,false);let g,y;if(n.getTemplateType()===ee.ObjectPage){g=le(n.getDataModelObjectPath());y=g?Xe(g,true):g}const b=!ze(r)||r.value!==false;if(!u||u===te.Auto){u=te.Multi}if(b){u=u===te.Single?te.Single:te.Multi}if(vt(e,p.actions,n.getEntityType())||ht(p.actions)){return u}d=pt(e,n.getEntityType(),n.getDataModelObjectPath());f=mt(p.actions);if(d.length===0&&f.length===0&&(s||o||b)){if(!a){if(i.isDeletable||y!=="false"||b){const e=Ge(s||true,o||true,r);return Xe(We(Ze(ve.IsEditable,e),Ye(u),Ye(te.None)))}else{return Xe(We(s,Ye(te.Single),Ye(te.None)))}}else if(b){return u}else if(i.isDeletable&&o){return Xe(We(o,Ye(u),Ye(te.None)))}else{return te.None}}else if(!a){if(i.isDeletable||y!=="false"||b){const e=We(b&&!i.isDeletable,r,Ye(true));return Xe(We(Ze(ve.IsEditable,e),Ye(u),We(Ge(...d.concat(f)),Ye(u),Ye(te.None))))}else{return Xe(We(Ge(...d.concat(f)),Ye(u),Ye(te.None)))}}else if(i.isDeletable||b){return u}else{return Xe(We(Ge(...d.concat(f),r),Ye(u),Ye(te.None)))}}P.getSelectionMode=Ct;function At(e,t,n){const a=[];const i=Oe(e.filter(e=>Ue(e)));if(i){a.push({type:ie.Copy,annotationPath:n.getEntitySetBasedAnnotationPath(i.fullyQualifiedName),key:me.generateKeyFromDataField(i),visible:Xe(je(i,n)),text:i.Label?.toString()??b.getResourceBundleFor("sap.fe.core").getText("C_COMMON_COPY"),isNavigable:true})}e.filter(e=>!Ue(e)).forEach(e=>{if($e(e)&&e.Inline?.valueOf()!==true&&e.Determining?.valueOf()!==true){const t=Mt(e,n);if(t){a.push(t)}}else if(Be(e)){const t=Mt(e,n);if(t){a.push(t)}}});return{tableActions:a}}function Mt(e,t){let n;let a;switch(e.$Type){case"com.sap.vocabularies.UI.v1.DataFieldForAction":n={type:ie.DataFieldForAction,annotationPath:t.getEntitySetBasedAnnotationPath(e.fullyQualifiedName),key:me.generateKeyFromDataField(e),visible:Xe(je(e,t)),isNavigable:true,isAIOperation:De(e)===true||undefined};a=t.getEntityType().fullyQualifiedName;if(tn(e,a)){n.enabled=xe(t,e.ActionTarget,true)}return n;case"com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation":return{type:ie.DataFieldForIntentBasedNavigation,annotationPath:t.getEntitySetBasedAnnotationPath(e.fullyQualifiedName),key:me.generateKeyFromDataField(e),visible:Xe(je(e,t))};case"com.sap.vocabularies.UI.v1.DataFieldForActionGroup":return{type:ie.Menu,key:me.generateKeyFromDataField(e),id:me.generateKeyFromDataField(e),text:e.Label?.toString(),visible:Xe(je(e,t)),isAIOperation:Fe(e.Actions)===true||undefined,menu:e.Actions.map(e=>Mt(e,t))};default:return}}function Pt(e,t,n){let a=v.None;if(e){if(typeof e==="object"){a=Qe(e)}else{a=_(e)}}return _e([a,ke(`filteredMessages`,"internal"),t&&he.HasActive,t&&he.IsActive,`${t}`,ke("@$ui5.fe.contextPath"),ve.IsInactive],g.rowHighlighting,n)}function Et(t,n,a){const i=a?.create;const o=t.outboundCreation??i?.outbound;const r=o?n.getManifestWrapper().getOutboundNavigationEntries()?.[o]:undefined;if(o&&r){return{mode:"External",outbound:o,outboundDetail:r}}else{if(t.creationMode===ae.External){e.warning(`Cannot find outbound parameters for "External" creation mode. Instead, the default mode "NewPage" is used.`);t.creationMode=ae.NewPage;delete t.outboundCreation}return undefined}}function It(t,n,a,i,o){const r=Et(n,a,i);if(r){n.creationMode=ae.External;n.outboundCreation=r.outbound;return r}const s=a.getManifestControlConfiguration(o);const l=s?.tableSettings??{};const c=i?.detail;if(a.getTemplateType()===ee.ListReport&&![ae.NewPage,ae.External,ae.CreationDialog].includes(n.creationMode)){e.warning(`Creation mode '${n.creationMode}' can not be used within the List Report. Instead, the default mode "NewPage" is used.`);n.creationMode=ae.NewPage}else if(a.getTemplateType()!==ee.ListReport&&n.type==="TreeTable"&&![ae.NewPage,ae.Inline,ae.CreationDialog].includes(n.creationMode)){e.warning(`Creation mode '${n.creationMode}' can not be used with a Tree Table. Instead, the default mode "NewPage" is used.`);n.creationMode=ae.NewPage}let u;if(t){const e=a.getEntitySet()?.annotations;const t=e?.Common,i=e?.Session;u=t?.DraftRoot?.NewAction||i?.StickySessionSupported?.NewAction;if(n.creationMode===ae.CreationRow&&u){throw Error(`Creation mode '${ae.CreationRow}' can not be used with a custom 'new' action (${u})`)}if(c?.route){return{mode:n.creationMode,append:n.createAtEnd,newAction:u?.toString(),navigateToTarget:n.creationMode===ae.NewPage?c.route:undefined}}}if(n.creationMode===ae.NewPage){if(a.getTemplateType()===ee.ListReport){e.error("The creation mode 'NewPage' is used but the navigation configuration to the sub page is missing.")}else{n.creationMode=ae.Inline;if(l.creationMode?.createAtEnd===undefined){n.createAtEnd=false}e.info("The creation mode was changed from 'NewPage' to 'Inline' due to missing navigation configuration to the sub page.")}}return{mode:n.creationMode,append:n.createAtEnd,newAction:u?.toString()}}const St=function(e,t,n,a,i,o){let r;let s=Ye(v.None);const c=t.getEntityType();const u=e?.annotations?.UI?.Criticality;let d=Ye(true);if(n&&e){const e=n.display?.target||n.detail?.outbound;const o=t.getEntitySet();s=Pt(u,!!l.getDraftRoot(o)||!!l.getDraftNode(o),c);if(e){r={type:"Outbound",navigationTarget:e}}if(!e&&n.detail?.route){const e=l.getDraftRoot(o)!==undefined||l.getDraftNode(o)!==undefined;r={type:"Navigation",routePath:n.detail.route,targetPath:a,checkEditable:e,recreateContext:i==="AnalyticalTable"}}if(n.detail?.availability){d=ke("@$ui5.fe.virtual.routeNavigable-"+n.detail.route)}}const f=_e([ke("/deepestPath","internal")],g.navigatedRow,c);return{navigationInfo:r,actionType:r?"Navigation":undefined,rowHighlighting:Xe(s),rowNavigated:Xe(f),rowCriticalityForInsights:u?fe(u):undefined,visible:Xe(Ze(d,Ke(ve.IsInactive),o?ve.isNodeLevelNavigable:true))}};const Ft=function(e,t,n){const a=`Property_Technical::${e}`;const i=t.find(e=>e.key===a);const o=!i&&t.find(t=>t.name===e&&!t.propertyInfos);if(o){const i={key:a,type:Q.Annotation,label:o.label,annotationPath:o.annotationPath,dataType:"Edm.String",availability:"Hidden",name:a,relativePath:o.relativePath,sortable:false,isGroupable:false,isKey:false,exportSettings:null,caseSensitive:false,aggregatable:false,filterable:false,extension:{technicallyGroupable:true,technicallyAggregatable:true}};t.push(i);n[e]=i.name}};function Dt(e,t,n){const a=t.getManifestWrapper();const i=t.getManifestControlConfiguration(e);const o=a.getVariantManagement();const r=[];const s=n.type==="AnalyticalTable";const l=n.type==="ResponsiveTable";if(i?.tableSettings?.personalization!==undefined){const e=i.tableSettings.personalization;if(e===true){switch(n.type){case"AnalyticalTable":return["Sort","Column","Filter","Group","Aggregate"];case"ResponsiveTable":return["Sort","Column","Filter","Group"];default:return["Sort","Column","Filter"]}}else if(typeof e==="object"){if(e.sort){r.push("Sort")}if(e.column){r.push("Column")}if(e.filter){r.push("Filter")}if(e.group&&(s||l)){r.push("Group")}if(e.aggregate&&s){r.push("Aggregate")}return r.length>0?r:undefined}}else{r.push("Sort");r.push("Column");if(t.getTemplateType()===ee.ListReport){if(o===Z.Control||wt(a,t)){r.push("Filter")}}else{r.push("Filter")}if(s){r.push("Group");r.push("Aggregate")}if(l){r.push("Group")}return r}}P.getP13nMode=Dt;function wt(e,t){return e.isFilterBarHidden()&&!t.getManifestWrapper().hasMultipleVisualizations()&&t.getTemplateType()!==ee.AnalyticalListPage}function Nt(e,t,n){const a=oe(e).nonSortableProperties;const i={sorters:[]};if(t?.SortOrder){t.SortOrder.forEach(e=>{const t=e.Property;if(t?.$target!==undefined&&!a.includes(t.$target.name)){const a=Ot([t],n)[0];if(a){i.sorters.push({name:a,descending:!!e.Descending})}}})}return i.sorters.length?i:undefined}function xt(e){if(!e){return undefined}const t=e.InitialExpansionLevel?.valueOf();return typeof t==="number"?t+1:undefined}function Ot(e,t){const n=[];let a,i;e.forEach(e=>{if(e?.value){a=t.find(t=>{i=t;return!i.propertyInfos&&i.relativePath===e?.value});if(a){n.push(a.name)}}});return n}function Rt(e,t,n){const a={groupLevels:[]};if(e?.GroupBy){let i=e.GroupBy;if(n==="ResponsiveTable"){i=i.slice(0,1)}a.groupLevels=Ot(i,t).map(e=>({name:e}))}return a.groupLevels.length?a:undefined}function Lt(e){const t={};e.columns.forEach(n=>{n=n;const a=Ut(e,n.name);if(a){const t=e.analyticsExtensions[a];n.aggregatable=!t.fromGroupableProperty;n.extension=t??{};if(!n.isGroupable&&!n.aggregatable){delete n.extension.additionalProperties}if(n.isGroupable&&n.extension.additionalProperties&&n.extension.additionalProperties.length){n.isGroupable=false;n.extension.technicallyGroupable=true}}if(n.additionalPropertyInfos?.length){n.additionalPropertyInfos.forEach(n=>{Ft(n,e.columns,t)})}Vt(e,n)});e.columns.forEach(e=>{e=e;if(e.additionalPropertyInfos){e.additionalPropertyInfos=e.additionalPropertyInfos.map(e=>t[e]??e);e.propertyInfos=e.propertyInfos?.concat(e.additionalPropertyInfos)}})}function Ut(e,t){return Object.keys(e.analyticsExtensions).find(e=>e===t)}function Vt(e,t){if(t.textArrangement?.mode==="Description"&&t.textArrangement.textProperty){const n=Ut(e,t.textArrangement.textProperty);if(n){const a=e.analyticsExtensions[n];if(a.additionalProperties?.length&&a.additionalProperties.includes(t.name)){const n=e.columns.find(e=>e.relativePath===t.relativePath&&e.propertyInfos);n?.propertyInfos?.push(t.name)}}}}function jt(e,t,n){const a={};if(e?.Total){const n=e.Total;Ot(n,t).forEach(e=>{a[e]={}})}else{for(const e in n){if(!n[e].fromGroupableProperty){a[e]={}}}}return Object.keys(a).length?a:undefined}function Bt(e,t,n,a,i){const o=It(e,a,n,i,t);const r=H(n,o.mode,a);const s=B(n,r);const l=j(n,r);const c=U(n,r);const u=V(r,I(n));const d={cut:x(n,r),copy:R(n,r),create:O(n,r),delete:N(n,r),paste:S(n,r,u),massEdit:D(n,r),insights:w(n,r,t),creationRow:$(n,r)};const f={creationBehaviour:o,cutButtonVisibilityExpression:s,deleteButtonVisibilityExpression:l,massEditButtonVisibilityExpression:c,isInsertUpdateActionsTemplated:u,standardActions:d};if(r.tableManifestConfiguration.type==="TreeTable"){f.standardActions.moveUp=F(n,r,true);f.standardActions.moveDown=F(n,r,false)}return f}P.getStandardActionsConfiguration=Bt;function $t(e,t,n,a,i,o,r,s){const l=n.getManifestControlConfiguration(t);const{navigationPropertyPath:c}=qt(t);const u=n.getDataModelObjectPath().targetEntityType.annotations?.UI?.HeaderInfo?.TypeNamePlural;const d=u&&Xe(Qe(u));const f=n.getDataModelObjectPath().targetEntitySet;const p=n.getManifestWrapper();const g=c.length===0;const y=Dt(t,n,a);const b=c?J(t):J(n.getContextPath(),"LineItem");const v=Tt(n);const h=rt(n,c);const m=Ct(e,t,n,g,v,r.deleteButtonVisibilityExpression,r.massEditButtonVisibilityExpression,r.cutButtonVisibilityExpression);const T=Ht(a,c,s);const C=p.getVariantManagement();const A=se(n.getDataModelObjectPath());return{id:b,apiId:be([b,"Table"]),entityName:f?f.name:"",entityTypeName:f&&f.entityType?f.entityType.name:"",collection:ce(n.getDataModelObjectPath()),navigationPath:c,row:St(e,n,o,h,a.type,a.analyticalConfiguration?.aggregationOnLeafLevel),p13nMode:y,isInsertUpdateActionsTemplated:r.isInsertUpdateActionsTemplated,updatablePropertyPath:dt(n),displayMode:E(n,true),create:r.creationBehaviour,selectionMode:m,variantManagement:C==="Control"&&!y?Z.None:C,threshold:T,sortConditions:Nt(n,s,i),title:d,searchable:l.tableSettings?.isSearchable===false?false:a.type!=="AnalyticalTable"&&!(ze(A)&&A.value===false),initialExpansionLevel:xt(s),requiredProperties:K(n).filter(e=>e?.$target?.type!=="Edm.Boolean").map(e=>e.value)}}P.getTableAnnotationConfiguration=$t;function Ht(e,t,n){let a=t?10:30;if(n?.MaxItems){a=n.MaxItems.valueOf()}else if(e.type==="TreeTable"){a=200}else if(e.type==="GridTable"||e.type==="AnalyticalTable"){a=100}return a}function qt(e){const[t,n]=e.split("@");let a=t;if(a.lastIndexOf("/")===a.length-1){a=a.substring(0,a.length-1)}return{navigationPropertyPath:a,annotationPath:n}}P.splitPath=qt;function kt(e,t){const n=t.getEntityTypeAnnotation(e);const a=n.annotation;if(a){const e=[];a.SelectOptions?.forEach(t=>{const n=t.PropertyName;const a=n?.value??"";if(!e.includes(a)){e.push(a)}});return{text:a?.Text?.toString(),propertyNames:e}}return undefined}P.getSelectionVariantConfiguration=kt;function Gt(e,t,n){let a=e.enableFullScreen??n;if(!n&&a&&t.getTemplateType()===ee.ListReport){a=false;t.getDiagnostics().addIssue(Ae.Manifest,Ce.Low,Te.FULLSCREENMODE_NOT_ON_LISTREPORT)}return a}function Kt(e,t,n){let a;if(t!=="ResponsiveTable"){return undefined}switch(n.getTemplateType()){case ee.ListReport:case ee.ObjectPage:a=e.selectAll===false?"ClearAll":"Default";if(n.getTemplateType()===ee.ObjectPage&&n.getManifestWrapper().useIconTabBar()){a=!e.selectAll?"ClearAll":"Default"}break;case ee.AnalyticalListPage:a=!e.selectAll?"ClearAll":"Default";break;default:}return a}function zt(e,t,n){if(e!=="ResponsiveTable"){if(n){return{rowCountMode:"Auto",rowCount:3}}else{let n;switch(e){case"GridTable":n=t.rowCountMode==="Auto"?3:5;break;case"TreeTable":case"AnalyticalTable":n=t.rowCountMode==="Auto"?3:10;break;default:n=5}return{rowCountMode:t.rowCountMode??"Fixed",rowCount:t.rowCount??n}}}else{return{}}}function Wt(e,t){return t.condensedTableLayout!==undefined&&e!=="ResponsiveTable"?t.condensedTableLayout:false}function Qt(e){return e.selectAll===true||e.selectionLimit===0?0:e.selectionLimit||200}function _t(e){return e.creationMode?.inlineCreationRowCount?e.creationMode?.inlineCreationRowCount:1}function Jt(e,t,n){return e.enableExport!==undefined?e.enableExport:t.getTemplateType()!=="ObjectPage"||n}function Yt(e){return e.frozenColumnCount}function Xt(e){return e.disableColumnFreeze!==true}function Zt(e){return e.widthIncludingColumnHeader??false}function en(e,t,n,a){let i=false;const o={};const r=n.getAnnotationEntityType(t);if(e.quickVariantSelection){const t=(e.quickVariantSelection.paths??[]).reduce((e,t)=>{if(r.resolvePath(t.annotationPath)){e.push({annotationPath:t.annotationPath})}return e},[]);if(t.length){o.quickFilters={showCounts:e.quickVariantSelection.showCounts,paths:t}}}if(a){o.hiddenFilters={paths:[{annotationPath:`@${a.fullyQualifiedName.split("@")[1]}`}]}}i=!!e.quickVariantSelection?.hideTableTitle;return{filters:o,headerVisible:!(o?.quickFilters&&i)}}function tn(e,t){let n=false;if(e.ActionTarget?.annotations?.Core?.OperationAvailable!==undefined){const a=e.ActionTarget?.isBound;const i=a&&e.ActionTarget?.sourceType!==t;const o=e.ActionTarget?.parameters[0]?.isCollection;if(!a||i||o){n=true}}return n}function nn(e,t,n){const a=n.getDataModelObjectPath();e.hierarchyQualifier=t.hierarchyQualifier;const i=de(a,e.hierarchyQualifier);const o=ue(a);e.isHierarchyParentNodeUpdatable=!o?.includes(i);e.isNodeMovable=an(t.isNodeMovable,e);e.isNodeCopyable=an(t.isNodeCopyable,e);e.isMoveToPositionAllowed=an(t.isMoveToPositionAllowed,e);e.isCopyToPositionAllowed=an(t.isCopyToPositionAllowed,e);e.createEnablement=an(t.creationMode?.isCreateEnabled,e);if(t.creationMode?.nodeType?.propertyName&&t.creationMode?.nodeType?.values){const a=t.creationMode.nodeType.values;e.nodeType={propertyName:t.creationMode.nodeType.propertyName,values:Object.keys(a).map(t=>{const i=a[t];if(typeof i==="string"){return{value:t,text:i}}else{return{value:t,text:i.label,creationDialogFields:e.creationMode===ae.CreationDialog?sn(i.creationFields,n):undefined}}})}}if(t.creationMode?.createInPlace){e.createInPlace=true}}function an(e,t){if(!e){return undefined}const n=e.lastIndexOf(".")||-1;const a=e.substring(0,n).replace(/\./gi,"/");const i=e.substring(n+1);if(!a.startsWith("/extension/")){if(!t.additionalRequiredModules){t.additionalRequiredModules=[a]}else if(!t.additionalRequiredModules.includes(a)){t.additionalRequiredModules.push(a)}}return{moduleName:a,methodName:i}}P.getCustomFunctionInfo=an;function on(e){return e?.tableSettings?.disableRequestCache}function rn(e,t){const n={visibleFields:[],ignoredFields:[],operationGroupingMode:t.getTemplateType()===ee.ListReport?ne.Isolated:ne.ChangeSet};if(!e.enableMassEdit){return{enabled:false,...n}}if(e.enableMassEdit===true){return{enabled:e.enableMassEdit,...n}}else if(typeof e.enableMassEdit==="object"){return{enabled:true,visibleFields:sn(e.enableMassEdit.visibleFields,t),ignoredFields:sn(e.enableMassEdit.ignoredFields,t),operationGroupingMode:e.enableMassEdit.operationGroupingMode&&Object.values(ne).includes(e.enableMassEdit.operationGroupingMode)?e.enableMassEdit.operationGroupingMode:n.operationGroupingMode,customFragment:e.enableMassEdit.customFragment,fromInline:e.enableMassEdit.fromInline}}return{enabled:false,...n}}P.getMassEditSettings=rn;function sn(e,t){if(!e){return[]}if(e.includes("com.sap.vocabularies.UI.v1.FieldGroup")){e=e.startsWith("@")?e:`@${e}`;const n=t.getEntityTypeAnnotation(e);if(ye(n.annotation,"com.sap.vocabularies.UI.v1.FieldGroupType")){return n.annotation.Data.reduce((e,t)=>{if(He(t)&&pe(t.Value)){e.push(t.Value.path)}return e},[])}return[]}return e.replace(/\s/g,"").split(",").map(e=>e.trim())}function ln(e,t,n){let a=arguments.length>3&&arguments[3]!==undefined?arguments[3]:true;let i=arguments.length>4?arguments[4]:undefined;const o=n.getManifestWrapper();const r=n.getManifestControlConfiguration(t);const s=r?.tableSettings??{};const l=o.getSapFeManifestConfiguration();const c=l?.macros?.table?.defaultCreationMode==="InlineCreationRows"?ae.InlineCreationRows:undefined;const u=s.creationMode?.name??c??ae.NewPage;const d=!o.isPhone();const f=s.disableCopyToClipboard;const p=n.getTemplateType();const g=a&&o.isCondensedLayoutCompliant();const y=e?en(s,e,n,i):{};const b=s.creationMode?.customValidationFunction;const v=s.exportRequestSize;const h=cn(n,r);const m=s.analyticalConfiguration;const T=s.enablePaste??(n.getTemplateType()==="ObjectPage"||h==="TreeTable"&&n.getEntitySet()?.annotations.Common?.DraftRoot!==undefined);const C=zt(h,s,p===ee.ListReport);const A=h!=="ResponsiveTable"?300:undefined;const M=h==="ResponsiveTable"?s?.popinLayout??l?.macros?.table?.defaultPopinLayout??"Block":undefined;const P=Wt(h,s);let E=false;if(s.creationMode?.inlineCreationRowsHiddenInEditMode){E=typeof s.creationMode?.inlineCreationRowsHiddenInEditMode==="string"?s.creationMode?.inlineCreationRowsHiddenInEditMode==="true":s.creationMode?.inlineCreationRowsHiddenInEditMode}let I;if(n.getTemplateType()==="ListReport"){I="illustratedMessage-Auto"}else{I=o.getUseTextForNoDataMessages()?"text":"illustratedMessage-ExtraSmall"}const S={createAtEnd:s.creationMode?.createAtEnd!==undefined?s.creationMode?.createAtEnd:![ae.Inline,ae.CreationDialog].includes(u),creationMode:u,creationDialogFields:u===ae.CreationDialog?sn(s.creationMode?.creationFields,n):undefined,customValidationFunction:b,hasDataStateIndicatorFilter:p===ee.ListReport,disableAddRowButtonForEmptyData:!b?!!s.creationMode?.disableAddRowButtonForEmptyData:false,enableAutoColumnWidth:d,enablePastingOfComputedProperties:s.enablePastingOfComputedProperties,ignoredFields:s.ignoredFields,readOnly:s.readOnly||(h==="AnalyticalTable"?true:undefined),enableExport:Jt(s,n,T),exportFileName:s.exportFileName,exportSheetName:s.exportSheetName,analyticalConfiguration:m,frozenColumnCount:Yt(s),enableColumnFreeze:Xt(s),widthIncludingColumnHeader:Zt(s),enableFullScreen:Gt(s,n,o.isPhone()),massEdit:rn(s,n),enableAddCardToInsights:s?.enableAddCardToInsights,enablePaste:T,disableCopyToClipboard:f,headerVisible:true,header:s.header,multiSelectMode:Kt(s,h,n),selectionLimit:Qt(s),inlineCreationRowCount:_t(s),inlineCreationRowsHiddenInEditMode:E,showRowCount:s?.quickVariantSelection?.paths?false:!o.getViewConfiguration()?.showCounts,type:h,disableRequestCache:on(r),useCondensedTableLayout:P&&g,isCompactType:o.isCompactType(),exportRequestSize:v,enableUploadPlugin:!!n.getAnnotationEntityType().annotations?.UI?.MediaResource?.Stream,modeForNoDataMessage:I,scrollThreshold:s.scrollThreshold??A,threshold:s.threshold,popinLayout:h==="ResponsiveTable"?s.popinLayout??M:undefined};const F={...S,...C,...y};F.beforeRebindTable=s.beforeRebindTable;F.selectionChange=s.selectionChange;F.rowPress=s.rowPress;if(h==="TreeTable"){nn(F,s,n)}if(s.headerVisible!==undefined){F.headerVisible=s.headerVisible}if(F.creationMode===ae.External){F.outboundCreation=s.creationMode?.outbound}return F}P.getTableManifestConfiguration=ln;function cn(e,t){if(t?.tableSettings?.type){return t.tableSettings.type}return"ResponsiveTable"}return{getTableActions:et,createTableVisualization:lt,createDefaultTableVisualization:ct,getCapabilityRestriction:Tt,getSelectionMode:Ct,getP13nMode:Dt,getStandardActionsConfiguration:Bt,getTableAnnotationConfiguration:$t,splitPath:qt,getSelectionVariantConfiguration:kt,getTableManifestConfiguration:ln,updateTableVisualizationForType:at,createRequestedProperties:it,getNavigationTargetPath:rt,getCustomFunctionInfo:an}},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/converters/controls/Common/table/Columns", ["sap/fe/base/BindingToolkit","sap/fe/core/converters/ManifestSettings","sap/fe/core/converters/annotations/DataField","sap/fe/core/converters/helpers/Aggregation","sap/fe/core/converters/helpers/ConfigurableObject","sap/fe/core/converters/helpers/DataFieldHelper","sap/fe/core/converters/helpers/IssueManager","sap/fe/core/converters/helpers/Key","sap/fe/core/helpers/BindingHelper","sap/fe/core/helpers/ModelHelper","sap/fe/core/helpers/StableIdHelper","sap/fe/core/helpers/TypeGuards","sap/fe/core/templating/DataModelPathHelper","sap/fe/core/templating/DisplayModeFormatter","sap/fe/core/templating/EntitySetHelper","sap/fe/core/templating/FieldControlHelper","sap/fe/core/templating/PropertyHelper","sap/fe/core/templating/UIFormatters","sap/fe/macros/formatters/TableFormatter"],function(e,t,a,n,i,o,r,s,l,c,u,p,f,d,m,g,y,v,h){"use strict";var b={};var I=v.isMultiValueField;var T=y.isTimezone;var P=y.getStaticUnitOrCurrency;var D=y.getStaticTimezone;var F=y.getAssociatedUnitPropertyPath;var S=y.getAssociatedUnitProperty;var C=y.getAssociatedTimezoneProperty;var A=y.getAssociatedTextPropertyPath;var O=y.getAssociatedTextProperty;var U=y.getAssociatedCurrencyPropertyPath;var E=y.getAssociatedCurrencyProperty;var $=g.isStaticallyMandatory;var x=g.hasFieldControlNotMandatory;var M=m.getRestrictionsOnProperties;var V=d.getDisplayMode;var N=f.getTargetObjectPath;var L=f.getContextRelativeTargetObjectPath;var w=f.getContextPropertyRestriction;var k=f.enhanceDataModelPath;var H=p.isTypeDefinition;var j=p.isProperty;var G=p.isPathAnnotationExpression;var B=p.isNavigationProperty;var R=p.isAnnotationOfType;var z=u.replaceSpecialChars;var K=l.UI;var _=s.KeyHelper;var Q=r.IssueSeverity;var W=r.IssueCategoryType;var q=r.IssueCategory;var Y=o.isReferencePropertyStaticallyHidden;var J=i.insertCustomElements;var X=i.Placement;var Z=i.OverrideType;var ee=n.AggregationHelper;var te=a.isRatingVisualizationFromDataFieldDefault;var ae=a.isDataPointFromDataFieldDefault;var ne=a.isDataFieldTypes;var ie=a.isDataFieldForAnnotation;var oe=a.isDataField;var re=a.hasFieldGroupTarget;var se=a.hasDataPointTarget;var le=a.getTargetValueOnDataPoint;var ce=a.getSemanticObjectPath;var ue=a.getDataFieldDataType;var pe=a.collectRelatedPropertiesRecursively;var fe=a.collectRelatedProperties;var de=t.TemplateType;var me=t.Importance;var ge=t.HorizontalAlign;var ye=t.CreationMode;var ve=e.setUpConstraints;var he=e.pathInModel;var be=e.or;var Ie=e.not;var Te=e.ifElse;var Pe=e.getExpressionFromAnnotation;var De=e.formatResult;var Fe=e.equal;var Se=e.constant;var Ce=e.compileExpression;var Ae=e.and;var Oe=e.EDM_TYPE_MAPPING;let Ue=function(e){e["Default"]="Default";e["Annotation"]="Annotation";e["Slot"]="Slot";e["Computed"]="Computed";return e}({});b.ColumnType=Ue;function Ee(e,t,a,n){const i=dt(e,t,a,n);const o=Tt(n.getManifestControlConfiguration(a).columns??{},i,n,n.getAnnotationEntityType(e));const r=J(i,o,{width:Z.overwrite,widthIncludingColumnHeader:Z.overwrite,importance:Z.overwrite,horizontalAlign:Z.overwrite,availability:Z.overwrite,isNavigable:Z.overwrite,settings:Z.overwrite,formatOptions:Z.overwrite,exportSettings:Z.overwrite});return Pt(r,t,a,n)}b.getTableColumns=Ee;function $e(e,t){return t.find(t=>{const a=t;return a.propertyInfos===undefined&&a.relativePath===e})}b.findColumnByPath=$e;function xe(e,t){const a=e.getConverterContextFor(e.getContextPath()).getDataModelObjectPath();t.forEach(e=>{const n=e;if(n.propertyInfos===undefined&&n.relativePath){const e=k(a,n.relativePath);const i=e.targetObject;if(i){Me(i,e,t,n);const a=C(i);const o=i?.annotations?.Common?.Timezone;if(a){const e=$e(a.name,t);n.timezone=e?.name}else if(o){n.timezoneText=o.toString()}Ve(i,e,t,n)}}})}b.updateLinkedProperties=xe;function Me(e,t,a,n){const i=U(e)||F(e);if(i){const e=k(t,i);const o=L(e);if(o){const e=$e(o,a);n.unit=e?.name}}else{const t=e?.annotations?.Measures?.ISOCurrency||e?.annotations?.Measures?.Unit;if(t){n.unitText=`${t}`}}}function Ve(e,t,a,n){const i=V(e),o=A(e);if(o&&i!=="Value"){const e=k(t,o);const r=L(e);if(r){const e=$e(r,a);if(e&&e.name!==n.name){n.textArrangement={textProperty:e.name,mode:i};if(!e.exportSettings){e.exportSettings={type:"String"}}}}}}const Ne=function(e,t,a,n,i,o,r,s){if(a===undefined){a=[]}let l=[];const c=new ee(t,n);const u=c.getGroupableProperties();if(i==="AnalyticalTable"&&c.isAnalyticsSupported()&&u){l=u.map(e=>e.$target).filter(e=>e!==undefined).map(e=>O(e)).filter(e=>e&&!c.isPropertyGroupable(e)).map(e=>e?.name).filter(e=>e!==undefined)}t.entityProperties.forEach(t=>{const u=a.some(e=>e.name===t.name);if(!t.targetType&&!u&&!l.includes(t.name)){const l=fe(t.name,t,n,true,i);const u=Object.keys(l.properties);const p=Object.keys(l.additionalProperties);u.forEach(e=>{Et(r,l,e)});const f=Le(t,n.getEntitySetBasedAnnotationPath(t.fullyQualifiedName),t.name,true,true,c,n,r,i,s,o,l);if(u.length>0){f.propertyInfos=u;if(l.exportSettings.dataPointTargetValue){f.exportDataPointTargetValue=l.exportSettings.dataPointTargetValue}u.forEach(t=>{e[t]=l.properties[t].annotationProperty})}if(p.length>0){f.additionalPropertyInfos=p;p.forEach(t=>{e[t]=l.additionalProperties[t]})}a.push(f)}if(V(t)==="Description"){s?.nonSortableProperties.push(t.name);if(G(t?.annotations?.Common?.Text)){a.push(Le(t,n.getEntitySetBasedAnnotationPath(t.fullyQualifiedName),t.name,false,false,c,n,r,i,s,o))}}});const p=We(e,a,n,t,r,i,o,s);return a.concat(p)};b.getColumnsFromEntityType=Ne;const Le=function(e,t,a,n,i,o,r,s,l,u,p,f,d){const m=ce(r,e);const g=Y(e);const y=e.name?Xe(e.name,true,false):undefined;const v=y!=e.name;const h=Ke(e,v);const b=ue(e);const I=Ut(e,b);const T=s[a]==="Description";const P=(!g||T)&&!u?.nonSortableProperties.includes(a);const D=!u?.nonFilterableProperties.includes(a);const F=o.isAnalyticsSupported()&&l==="AnalyticalTable"?!!o.isPropertyGroupable(e):P;const S={className:e.type||b,formatOptions:I.formatOptions,constraints:I.constraints};let C=null;if(Ge(e)){C=we(e,f)}const A=!g&&i?"Adaptation":"Hidden";const O=At(a,r);if(d){a=d}const U=n?a:`Property::${a}`;const E=(n?"DataField::":"Property::")+z(a);const $={key:E,type:Ue.Annotation,dataType:b??e.type,label:h??e.name,groupLabel:v?Ke(e):undefined,group:v?y:undefined,annotationPath:t,semanticObjectPath:m,availability:A,name:U,relativePath:a,sortable:P,filterable:D,isGroupable:F,isKey:e.isKey,exportSettings:C,caseSensitive:tt(r),typeConfig:S,importance:ft(r,e.annotations?.UI?.DataFieldDefault),required:bt(r,e,p),additionalLabels:O};Ct(e,$);ut(e,$);if(o.isAnalyticsSupported()&&c.isObjectPathDraftSupported(r.getDataModelObjectPath())&&(a==="HasActiveEntity"||a==="HasDraftEntity"||a==="IsActiveEntity")){$.extension={technicallyAggregatable:false,technicallyGroupable:true}}return $};const we=function(e,t){let a,n,i,o,r,s,l,c;const u=t?Object.keys(t.properties):[];if(t&&u?.length===1){e=t.properties[u[0]].annotationProperty}const p=ue(e);if(j(e)){a=S(e);l=E(e);n=C(e);i=P(e);o=D(e);s=T(e);c=e.scale}a=t?.exportSettings?.unitProperty??a?.name??l?.name;n=t?.exportSettings?.timezoneProperty??n?.name;c=t?.exportSettings?.scale??c;const f=St(p,s,!!l,t?.exportSettings);if(n||f==="DateTime"&&!o){r=false}const d={type:f,inputFormat:ke(p),delimiter:He(p),scale:c,unitProperty:a,unit:t?.exportSettings.unit??i,timezoneProperty:n,timezone:t?.exportSettings.timezone??o?.toString(),template:t?.exportSettings.template,wrap:t?.exportSettings.wrap,utc:r,property:t?.exportSettings.property};if(d.unitProperty||d.unit){d.autoScale=true}return je(d)};const ke=function(e){return e==="Edm.Date"?"YYYY-MM-DD":undefined};const He=function(e){return e==="Edm.Int64"?true:undefined};const je=function(e){for(const t in e){if(e[t]===undefined){delete e[t]}}return e};function Ge(e){let t,a;const n=e.annotations.UI?.DataFieldDefault;if(j(e)){if(Y(e)){return false}t=n?.$Type}else if(Y(e)){return false}else{a=e;t=a.$Type;if(t==="com.sap.vocabularies.UI.v1.DataFieldForAnnotation"&&a.Target?.$target?.$Type){t=a.Target?.$target?.$Type;return t!==undefined&&!"com.sap.vocabularies.UI.v1.ChartDefinitionType".includes(t)}else if(a.Value?.$target?.annotations?.Core?.MediaType?.term==="Org.OData.Core.V1.MediaType"&&a.Value?.$target?.annotations?.Core?.isURL!==true){return false}}return t?!["com.sap.vocabularies.UI.v1.DataFieldForAction","com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation","com.sap.vocabularies.UI.v1.DataFieldForActionGroup"].includes(t):true}const Be=function(e){switch(e.$Type){case"com.sap.vocabularies.UI.v1.DataFieldForAction":case"com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation":return!!e.Inline;case"com.sap.vocabularies.UI.v1.DataFieldWithAction":case"com.sap.vocabularies.UI.v1.DataFieldWithIntentBasedNavigation":case"com.sap.vocabularies.UI.v1.DataField":case"com.sap.vocabularies.UI.v1.DataFieldWithUrl":case"com.sap.vocabularies.UI.v1.DataFieldForAnnotation":case"com.sap.vocabularies.UI.v1.DataFieldWithNavigationPath":return true;default:return false}};const Re=function(e){const t=e.targetObject;let a;if(t){switch(t.$Type){case"com.sap.vocabularies.UI.v1.DataField":case"com.sap.vocabularies.UI.v1.DataFieldWithUrl":case"com.sap.vocabularies.UI.v1.DataFieldWithNavigationPath":case"com.sap.vocabularies.UI.v1.DataFieldWithIntentBasedNavigation":case"com.sap.vocabularies.UI.v1.DataFieldWithAction":case"com.sap.vocabularies.UI.v1.DataPointType":a=t.Value.$target;break;case"com.sap.vocabularies.UI.v1.DataFieldForAnnotation":if(t?.Target?.$target?.$Type==="com.sap.vocabularies.UI.v1.DataPointType"){a=t.Target.$target?.Value.$target}break;case"com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation":case"com.sap.vocabularies.UI.v1.DataFieldForAction":default:a=undefined}}const n=Se(false);const i=Se(false);return Ae(...[Ie(Fe(Pe(t?.annotations?.UI?.Hidden),true)),Te(!!a,a&&Ie(Fe(Pe(a.annotations?.UI?.Hidden),true)),true),be(Ie(n),i)])};const ze=function(e){const t=[];if(e.$Type==="com.sap.vocabularies.UI.v1.DataFieldForAnnotation"&&e.Target?.$target?.$Type==="com.sap.vocabularies.UI.v1.FieldGroupType"){if(e?.annotations?.UI?.Hidden){return Ce(Ie(Fe(Pe(e.annotations.UI.Hidden),true)))}else{e.Target.$target.Data?.forEach(e=>{t.push(Re({targetObject:e}))});return Ce(Te(be(...t),Se(true),Se(false)))}}else{return undefined}};const Ke=function(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;if(!e){return undefined}if(j(e)||B(e)){const t=e.annotations?.UI?.DataFieldDefault;if(t&&!t.qualifier&&t.Label){return t.Label?.toString()}return e.annotations.Common?.Label?.toString()??e.name}else if(ne(e)){if(!!t&&e.$Type==="com.sap.vocabularies.UI.v1.DataFieldWithIntentBasedNavigation"){return e?.Label?.toString()}return e?.Label?.toString()??Ce(Pe(e.Value?.$target?.annotations?.Common?.Label,[],e.Value?.$target?.name))}else if(e.$Type==="com.sap.vocabularies.UI.v1.DataFieldForAnnotation"){return e.Label?.toString()??Ce(Pe(e.Target?.$target?.Value?.$target?.annotations?.Common?.Label?.valueOf()))}else{return e.Label?.toString()}};const _e=function(e){if(!e){return undefined}if(j(e)||e.annotations?.Common?.QuickInfo){return e.annotations?.Common?.QuickInfo?Ce(Pe(e.annotations.Common.QuickInfo)):undefined}else if(ne(e)){return e.Value?.$target?.annotations?.Common?.QuickInfo?Ce(Pe(e.Value.$target.annotations.Common.QuickInfo)):undefined}else if(e.$Type==="com.sap.vocabularies.UI.v1.DataFieldForAnnotation"){const t=e.Target?.$target;return t?.Value?.$target?.annotations?.Common?.QuickInfo?Ce(Pe(t.Value.$target.annotations.Common.QuickInfo)):undefined}else{return undefined}};function Qe(e,t){return De([he(`semanticKeyHasDraftIndicator`,"internal"),he(`filteredMessages`,"internal"),e,t],h.getErrorStatusTextVisibilityFormatter)}b.getRowStatusVisibility=Qe;const We=function(e,t,a,n,i,o,r,s){const l=[];const c={};const u=new ee(n,a);Object.keys(e).forEach(n=>{const p=e[n],f=a.getAbsoluteAnnotationPath(n),d=t.find(e=>e.name===n);const m=a.getConverterContextFor(a.getContextPath()).getDataModelObjectPath();const g=k(m,n);if(I(g)){const e=L(g,false,true);const d=Le(p,f,n,true,false,u,a,i,o,s,r,undefined,e);$t(t,n,d);l.push(d);c[n]=e??n}else if(d===undefined){const e=Le(p,f,n,true,false,u,a,i,o,s,r);$t(t,n,e);l.push(e)}else if(d.annotationPath!==f||d.propertyInfos){const e=`Property::${n}`;if(!t.some(t=>t.name===e)){const d=Le(p,f,n,false,false,u,a,i,o,s,r);$t(t,n,d);l.push(d);c[n]=e}else if(t.some(t=>t.name===e)&&t.some(e=>e.propertyInfos?.includes(n))){c[n]=e}}});t.forEach(e=>{e.propertyInfos=e.propertyInfos?.map(e=>c[e]??e);e.additionalPropertyInfos=e.additionalPropertyInfos?.map(e=>c[e]??e)});return l};const qe=function(e){if(ne(e)&&e.Value?.path){return e.Value?.path}else if(e.$Type==="com.sap.vocabularies.UI.v1.DataFieldForAnnotation"&&e.Target?.$target?.Value?.path){return e.Target?.$target?.Value.path}else{return _.generateKeyFromDataField(e)}};const Ye=function(e,t,a){const n=a.getManifestControlConfiguration(t)?.columns;const i=n&&Object.keys(n);return i&&!!i.find(function(t){return t===e&&n[t].showDataFieldsLabel})};const Je=function(e){let t="";switch(e.$Type){case"com.sap.vocabularies.UI.v1.DataField":case"com.sap.vocabularies.UI.v1.DataFieldWithNavigationPath":case"com.sap.vocabularies.UI.v1.DataFieldWithUrl":case"com.sap.vocabularies.UI.v1.DataFieldWithIntentBasedNavigation":case"com.sap.vocabularies.UI.v1.DataFieldWithAction":t=e?.Value?.path;break;case"com.sap.vocabularies.UI.v1.DataFieldForAnnotation":t=e?.Target?.value;break;case"com.sap.vocabularies.UI.v1.DataFieldForAction":case"com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation":case"com.sap.vocabularies.UI.v1.DataFieldForActionGroup":case"com.sap.vocabularies.UI.v1.DataFieldWithActionGroup":t=_.generateKeyFromDataField(e);break}return t};const Xe=function(e,t,a){const n=t?e.lastIndexOf("/"):e.indexOf("/");if(n===-1){return e}return a?e.substring(n+1,e.length):e.substring(0,n)};const Ze=function(e,t){if(ne(e)&&G(e.Value)){const a=k(t.getDataModelObjectPath(),e.Value.path);return I(a)}else{return false}};const et=function(e,t,a,n){return!a.includes(t)&&((e.$Type==="com.sap.vocabularies.UI.v1.DataField"||e.$Type==="com.sap.vocabularies.UI.v1.DataFieldForAnnotation")&&Object.keys(n.properties).some(e=>{const t=Y(n.properties[e].annotationProperty);return!t&&!a.includes(e)})||e.$Type==="com.sap.vocabularies.UI.v1.DataFieldWithUrl"||e.$Type==="com.sap.vocabularies.UI.v1.DataFieldWithIntentBasedNavigation"||e.$Type==="com.sap.vocabularies.UI.v1.DataFieldWithAction")};const tt=function(e){const t=at(e);return c.isFilteringCaseSensitive(undefined,t)};b.isFilteringCaseSensitive=tt;function at(e){const t=e.getEntitySet();if(p.isEntitySet(t)){return t.annotations.Capabilities?.FilterFunctions??e.getEntityContainer().annotations.Capabilities?.FilterFunctions}return undefined}function nt(e){return e===undefined?undefined:{textLinesEdit:4,...e}}function it(e,t){const a=[];let n=false;for(let i=0;i<e.length;i++){a.push(e[i].value);if(e[i].value===t){n=true}}return{values:a,semanticKeyFound:n}}function ot(e,t){let a=false;let n;if(e&&e.length>=1&&t&&t.length>=1){for(let i=0;i<e.length;i++){if([e[i]].some(e=>t.includes(e))){a=true;n=e[i];break}}}return{semanticKeyHasPropertyInFieldGroup:a,fieldGroupPropertyPath:n}}function rt(e,t){const a=[];let n={semanticKeyHasPropertyInFieldGroup:false,fieldGroupPropertyPath:undefined};if(e&&e.$Type==="com.sap.vocabularies.UI.v1.DataFieldForAnnotation"&&e.Target?.$target?.$Type==="com.sap.vocabularies.UI.v1.FieldGroupType"){e.Target.$target.Data?.forEach(e=>{if((e.$Type==="com.sap.vocabularies.UI.v1.DataField"||e.$Type==="com.sap.vocabularies.UI.v1.DataFieldWithUrl")&&e.Value){a.push(e.Value.path)}n=ot(t,a)})}return{semanticKeyHasPropertyInFieldGroup:n.semanticKeyHasPropertyInFieldGroup,propertyPath:n.fieldGroupPropertyPath}}function st(e,t,a){if(!t){return{}}const n=it(t,e);const i=rt(a,n.values);if(i.semanticKeyHasPropertyInFieldGroup){return{fieldGroupDraftIndicatorPropertyPath:i.propertyPath,fieldGroupName:e,showErrorObjectStatus:Ce(Qe(e,true))}}else if(n.semanticKeyFound){return{hasDraftIndicator:true,showErrorObjectStatus:Ce(Qe(e,false))}}return{}}function lt(e){const t=e?.annotations?.UI?.Importance;if(t&&t.includes("UI.ImportanceType/High")){return 3}if(t&&t.includes("UI.ImportanceType/Medium")){return 2}if(t&&t.includes("UI.ImportanceType/Low")){return 1}return 0}function ct(e){const t=e?.annotations?.UI?.Importance;return t?t.split("/")[1]:me.None}function ut(e,t){const a=le(e);if(ae(e)&&typeof a==="string"&&t.exportSettings&&t.exportSettings?.unit!=="%"){t.exportDataPointTargetValue=a;t.exportSettings.template="{0}/"+a}}function pt(e){if(e&&e.length>0){let t=-1;let a=-1;let n;for(const i of e){a=lt(i);if(a>t){t=a;n=i}}return ct(n)}return me.None}function ft(e,t){if(!t){return undefined}const a=e.getDataModelObjectPath().targetEntityType.annotations.Common?.SemanticKey??[];const n=Dt(e);const i=[...a,...n].map(e=>e.$target?.fullyQualifiedName);let o;if(R(t,"com.sap.vocabularies.UI.v1.DataFieldForAnnotation")){const e=t.Target.$target;if(R(e,"com.sap.vocabularies.UI.v1.FieldGroupType")){const a=e.Data;if(a.some(function(e){return ne(e)&&i.includes(e.Value?.$target?.fullyQualifiedName)})){return me.High}else{if(t?.annotations?.UI?.Importance){return ct(t)}o=a.filter(function(e){return e?.annotations?.UI?.Importance});return pt(o)}}}return i.includes(t.Value?.$target?.fullyQualifiedName)?me.High:ct(t)}b.getImportance=ft;const dt=function(e,t,a,n){const i=n.getAnnotationEntityType(e),o=[],r={},s={},l=M(n),c=n.getManifestControlConfiguration(a),u=n.getManifestWrapper().getSapFeManifestConfiguration()?.macros?.table?.defaultCreationMode==="InlineCreationRows"?ye.InlineCreationRows:undefined,p=c?.tableSettings?.creationMode?.name??u??ye.Inline;const f=n.getAnnotationsByTerm("Common","com.sap.vocabularies.Common.v1.SemanticKey",[n.getEntityType()])[0];if(e){const i=n.getConverterContextFor(N(n.getDataModelObjectPath()));e.forEach(e=>{if(!Be(e)){return}let c=null;const u=ne(e)&&e.Value?.$target?.fullyQualifiedName?ce(n,e):undefined;const d=Je(e);const m=pe(e,n,t);const g=Object.keys(m.properties);const y=Object.keys(m.additionalProperties);const v=d?Xe(d,true,false):undefined;const h=v!=d;const b=Ke(e,h);const I=qe(e);const T=v?v.includes(`@${"com.sap.vocabularies.UI.v1.FieldGroup"}`):false;const P=T?Ye(I,a,n):false;const D=ue(e);const F=nt(st(I,f,e));const S=k(n.getDataModelObjectPath(),d);const C=S.targetEntityType.navigationProperties;const A=C.filter(e=>!e.isCollection&&e.targetType.annotations.Common?.SAPObjectNodeType?.Name==="BusinessSituation");const O=A.length>=1?A[0]:undefined;if(O&&F){F.hasSituationsIndicator=true}let U;if(e.$Type==="com.sap.vocabularies.UI.v1.DataFieldForAnnotation"&&e.Target?.$target?.$Type==="com.sap.vocabularies.UI.v1.FieldGroupType"){U=ze(e)}const E=Ze(e,i);if(!E&&Ge(e)){c=we(e,m)}let $;if(D){$=Ut(e,D)}const x={className:D,formatOptions:{...F,...$?.formatOptions},constraints:$?.constraints};const M={};if(!D||!x){M.widthCalculation=null}const V=!E&&et(e,d,l.nonSortableProperties,m);const N=Y(e)?"Hidden":"Default";const L={key:_.generateKeyFromDataField(e),type:Ue.Annotation,label:b??I,groupLabel:h?Ke(e):undefined,group:h?v:undefined,FieldGroupHiddenExpressions:U,annotationPath:n.getEntitySetBasedAnnotationPath(e.fullyQualifiedName),semanticObjectPath:u,availability:N,name:I,showDataFieldsLabel:P,required:bt(n,e,p),relativePath:d,sortable:V,propertyInfos:g.length?g:undefined,additionalPropertyInfos:y.length>0?y:undefined,exportSettings:c,width:e.annotations?.HTML5?.CssDefaults?.width?.valueOf()||undefined,importance:ft(n,e),isNavigable:true,formatOptions:F,caseSensitive:tt(n),typeConfig:x,visualSettings:M,timezoneText:c?.timezone,isPartOfLineItem:true,dataType:D??"Edm.String",isMultiValue:E};const w=_e(e)??b;if(w){L.tooltip=w}if(m.exportSettings.dataPointTargetValue){L.exportDataPointTargetValue=m.exportSettings.dataPointTargetValue}o.push(L);g.forEach(t=>{r[t]=m.properties[t].annotationProperty;if(E){l.nonSortableProperties.push(t)}Et(s,m,t);if(m.properties[t].displayModeOfPropertyUsedAsDescription==="Description"){Ot(n,S,e,r,d,l)}});y.forEach(e=>{r[e]=m.additionalProperties[e]})})}return Ne(r,i,o,n,t,p,s,l)};const mt=function(e,t,a,n){let i;if(Array.isArray(e)){i=e.map(function(e){const i=t.find(function(t){return t.relativePath===e&&t.propertyInfos===undefined});if(i){return i.name}else{const i=We({[e]:n.resolvePath(e)},t,a,n,{});t.push(i[0]);return i[0].name}})}return i};const gt=function(e,t,a){const n=t.Data;return n.some(function(t){if(oe(t)&&t?.Value?.$target.type!=="Edm.Boolean"){return $(t)||a===ye.InlineCreationRows&&Ft(t.Value.$target.fullyQualifiedName,e)}})};const yt=function(e,t,a){const n=t.Target.$target;const i=x(t);if(re(t)){if(gt(e,n,a)){return true}const t=n.Data;return t.some(t=>bt(e,t,a))}if(se(t)&&n.Visualization!=="UI.VisualizationType/Rating"){if(i){return false}if($(t)){return true}return ht(e,n,a)}return false};const vt=function(e,t,a){return t.type!=="Edm.Boolean"&&!te(t)&&($(t)||a===ye.InlineCreationRows&&Ft(t.fullyQualifiedName,e))};const ht=function(e,t,a){return $(t)||a===ye.InlineCreationRows&&Ft(t.Value.$target.fullyQualifiedName,e)};const bt=function(e,t,a){const n=a||ye.Inline;if(e.getTemplateType()===de.ListReport||e.getTemplateType()===de.AnalyticalListPage){return undefined}if(j(t)){return vt(e,t,n)?Ce(K.IsEditable):undefined}if(ie(t)){return yt(e,t,n)?Ce(K.IsEditable):undefined}if(oe(t)&&t.Value?.$target?.type!=="Edm.Boolean"){return $(t)||n===ye.InlineCreationRows&&Ft(t.Value.$target.fullyQualifiedName,e)?Ce(K.IsEditable):undefined}return undefined};const It=function(e,t){if(Array.isArray(t)){e=t}if(e){return e.map(t=>`{${e.indexOf(t)}}`).join(`${"\n"}`)}return undefined};const Tt=function(e,t,a,n){const i={};function o(e,a){return t.some(e=>e.key===a)}function r(e){return e.type===Ue.Slot}function s(e){return e.type===undefined&&!!e.template}function l(e,t){const n=M(a);e.forEach(e=>{t.forEach(t=>{if(t.name===e){t.sortable=!n.nonSortableProperties.includes(e.replace("Property::",""));t.isGroupable=t.sortable;t.filterable=!n.nonFilterableProperties.includes(e.replace("Property::",""));t.isPartOfCustomColumn=true}})})}for(const c in e){const u=e[c];_.validateKey(c);const p={key:c,widthIncludingColumnHeader:u.widthIncludingColumnHeader,width:u.width||undefined,position:{anchor:u.position?.anchor,placement:u.position===undefined?X.After:u.position.placement},caseSensitive:tt(a)};if(o(u,c)){const e={...p,importance:u?.importance,horizontalAlign:u?.horizontalAlign,availability:u?.availability,type:Ue.Annotation,isNavigable:undefined,settings:u.settings,formatOptions:nt(u.formatOptions),exportSettings:u.disableExport?null:xt(u?.exportSettings,t,a,n,undefined,c)};i[c]=e}else{const e=mt(u.properties,t,a,n);const o=a.fetchTextFromMetaModel(u.tooltip),f=a.fetchTextFromMetaModel(u.header);const d=e&&!u.disableExport?xt(u?.exportSettings,t,a,n,e):null;const m={...p,header:f,importance:u?.importance||me.None,horizontalAlign:u?.horizontalAlign||ge.Begin,availability:u?.availability||"Default",template:u.template,propertyInfos:e,exportSettings:d,id:`CustomColumn::${c}`,name:`CustomColumn::${c}`,formatOptions:{textLinesEdit:4},isGroupable:false,isNavigable:false,sortable:false,visualSettings:{widthCalculation:null},tooltip:o?o:f,properties:u.properties,required:u.required&&a.getTemplateType()!==de.ListReport&&a.getTemplateType()!==de.AnalyticalListPage?Ce(K.IsEditable):undefined};if(e){l(e,t)}if(r(u)){const e={...m,type:Ue.Slot};i[c]=e}else if(s(u)){const e={...m,type:Ue.Default};i[c]=e}else{const e=`The annotation column '${c}' referenced in the manifest is not found`;a.getDiagnostics().addIssue(q.Manifest,Q.Low,e,W,W?.AnnotationColumns?.InvalidKey)}}}return i};function Pt(e,t,a,n){if(!["GridTable","TreeTable","AnalyticalTable"].includes(t)){return e}const i=e.find(e=>e.formatOptions?.hasSituationsIndicator!==undefined&&e.formatOptions?.hasSituationsIndicator===true);if(i?.formatOptions){i.formatOptions.hasSituationsIndicator=false;const t={key:"situationsIndicator",name:"situationsIndicator",propertyKey:i.name,isSituationsIndicator:true,availability:"Default",label:"{sap.fe.i18n>C_SITUATIONS_STATUS_COLUMN_LABEL_TOOLTIP}",tooltip:"{sap.fe.i18n>C_SITUATIONS_STATUS_COLUMN_LABEL_TOOLTIP}",type:Ue.Computed,formatOptions:null,exportSettings:null,clipboardSettings:null,propertyInfos:undefined,caseSensitive:false};const a=e.findIndex(e=>e.availability!=="Hidden");e.splice(a+1,0,t)}const o=e.filter(e=>e.formatOptions?.hasDraftIndicator===true);if(o.length&&n.getTemplateType()===de.ListReport&&(c.isDraftNode(n.getEntitySet())||c.isDraftRoot(n.getEntitySet()))){o.forEach(e=>{if(e?.formatOptions){e.formatOptions.hasDraftIndicator=false}});const t={key:"draftStatus",name:"draftStatus",propertyKey:o[0].name,isDraftIndicator:true,availability:"Default",label:"{sap.fe.i18n>C_DRAFT_STATUS_COLUMN_LABEL_TOOLTIP}",tooltip:"{sap.fe.i18n>C_DRAFT_STATUS_COLUMN_LABEL_TOOLTIP}",type:Ue.Computed,formatOptions:null,exportSettings:null,caseSensitive:false,clipboardSettings:null};let a=0;if(i){a=e.findIndex(e=>e.isSituationsIndicator===true)-1}else{a=e.findIndex(e=>e.availability!=="Hidden")}e.splice(a+1,0,t)}return e}b.addComputedColumns=Pt;function Dt(e){return w(e.getDataModelObjectPath(),e=>e?.InsertRestrictions?.RequiredProperties,false)}b.getRequiredProperties=Dt;function Ft(e,t){return Dt(t).map(e=>e.$target?.fullyQualifiedName).includes(e)}function St(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;let a=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;let n=arguments.length>3?arguments[3]:undefined;let i="String";if(!e||n?.dataPointTargetValue){return i}if(n?.isCurrency||a){return"Currency"}if(t){return"Timezone"}if(n?.wrap){return i}switch(e){case"Edm.Decimal":case"Edm.Int32":case"Edm.Int64":case"Edm.Double":case"Edm.Byte":i="Number";break;case"Edm.DateOfTime":case"Edm.Date":i="Date";break;case"Edm.DateTimeOffset":i="DateTime";break;case"Edm.TimeOfDay":i="Time";break;case"Edm.Boolean":i="Boolean";break;default:i="String"}return i}function Ct(e,t){const a=_e(e)??t.label;if(a){t.tooltip=a}}function At(e,t){const a=k(t.getDataModelObjectPath(),e).navigationProperties;if(a?.length>0){const e=[];a.forEach(t=>{e.push(Ke(t)||t.name)});return e}}function Ot(e,t,a,n,i,o){const r=t.navigationProperties.length!==e.getDataModelObjectPath().navigationProperties.length;if(r&&oe(a)){n[i]=a.Value.$target;o.nonSortableProperties.push(i)}else if(ie(a)&&re(a)){a.Target.$target.Data.forEach(t=>{if(oe(t)&&V(t.Value.$target)==="Description"){const a=k(e.getDataModelObjectPath(),t.Value.path);const i=a.navigationProperties.length!==e.getDataModelObjectPath().navigationProperties.length;if(i){n[t.Value.path]=t.Value.$target;o.nonSortableProperties.push(t.Value.path)}}})}}function Ut(e,t){let a,n={};if(j(e)){a=H(e.targetType)?Oe[e.targetType.underlyingType]:Oe[e.type]}if(!a&&t!==undefined){a=Oe[t]}const i={type:a?.type};if(a&&j(e)){const t=ve(a,e);if(Object.keys(t).length){i.constraints=t}}if(i.type!=="sap.ui.model.odata.type.Stream"){if(i?.type?.indexOf("sap.ui.model.odata.type.Int")===0||i?.type?.indexOf("sap.ui.model.odata.type.Double")===0){n={parseAsString:false,emptyString:""}}if(i.type==="sap.ui.model.odata.type.String"&&i.constraints?.nullable===false){n={parseKeepsEmptyString:true}}}if(Object.keys(n).length){i.formatOptions=n}return i}b.getTypeConfig=Ut;function Et(e,t,a){if(t.properties[a].displayModeOfPropertyUsedAsDescription&&!e[a]){e[a]=t.properties[a].displayModeOfPropertyUsedAsDescription}}function $t(e,t,a){const n=e.filter(e=>e.propertyInfos?.includes(t)&&e.isPartOfLineItem||e.isPartOfLineItem&&e.relativePath===a.relativePath);a.isPartOfLineItem=!!n.length;if(n.length&&!n?.some(e=>e.availability!=="Hidden")){a.sortable=false;a.isGroupable=false;a.filterable=false}}function xt(e,t,a,n,i,o){let r;if(o){r=t.find(e=>e.key===o);if(r?.exportSettings===null){return r?.exportSettings}}const s=e?.wrap??(!!(e?.property&&e.property?.length>1)||!!(i&&i.length>1));const l={...r?.exportSettings,type:e?.type??r?.exportSettings?.type,template:e?.template??It(i,e?.property)??r?.exportSettings?.template,property:e?.property,width:e?.width,wrap:s,label:e?.label,textAlign:e?.textAlign,trueValue:e?.trueValue,falseValue:e?.falseValue,valueMap:e?.valueMap};return je(l)}return b},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/converters/controls/Common/table/StandardActions", ["sap/fe/base/BindingToolkit","sap/fe/core/helpers/ModelHelper","sap/fe/core/helpers/TypeGuards","sap/fe/core/templating/DataModelPathHelper","sap/fe/macros/formatters/TableFormatter","../../../../helpers/BindingHelper","../../../ManifestSettings","../../../helpers/InsightsHelpers"],function(e,t,n,a,i,o,s,r){"use strict";var l={};var d=r.getInsightsVisibility;var c=r.getInsightsEnablement;var u=s.TemplateType;var p=s.CreationMode;var f=s.ActionType;var b=o.singletonPathVisitor;var g=o.UI;var y=a.isPathUpdatable;var v=a.isPathInsertable;var C=a.isPathDeletable;var h=a.getTargetObjectPath;var m=a.getRelativePaths;var M=n.isSingleton;var T=n.isNavigationProperty;var E=n.isEntitySet;var x=e.pathInModel;var S=e.or;var A=e.notEqual;var U=e.not;var D=e.lessOrEqual;var I=e.length;var P=e.isPathInModelExpression;var R=e.isConstant;var w=e.ifElse;var O=e.greaterThan;var k=e.greaterOrEqual;var H=e.getExpressionFromAnnotation;var V=e.formatResult;var j=e.equal;var F=e.constant;var L=e.compileExpression;var _=e.and;const N={Cut:"StandardAction::Cut",Copy:"StandardAction::Copy",Create:"StandardAction::Create",Delete:"StandardAction::Delete",CreationRow:"StandardAction::CreationRow",Paste:"StandardAction::Paste",MassEdit:"StandardAction::MassEdit",Insights:"StandardAction::Insights",MoveUp:"StandardAction::MoveUp",MoveDown:"StandardAction::MoveDown"};l.StandardActionKeys=N;function q(e,t,n){return{collectionPath:h(e.getDataModelObjectPath()),hiddenAnnotation:{create:z(e,"CreateHidden"),delete:z(e,"DeleteHidden"),update:z(e,"UpdateHidden")},creationMode:t,isDraftOrStickySupported:W(e),newAction:$(e),tableManifestConfiguration:n,restrictions:B(e)}}l.generateStandardActionsContext=q;function W(e){const n=e.getDataModelObjectPath();const a=t.isObjectPathDraftSupported(n);const i=n.startingEntitySet?.annotations?.Session?.StickySessionSupported?true:false;return a||i}l.isDraftOrStickySupported=W;function $(e){const t=e.getEntitySet();const n=E(t)?t.annotations.Common?.DraftRoot?.NewAction??t.annotations.Session?.StickySessionSupported?.NewAction:undefined;const a=n?.toString();if(a){const t=e?.getEntityType().actions[a]?.annotations?.Core?.OperationAvailable;return{name:a,available:H(t,[],true)}}return undefined}l.getNewAction=$;function z(e,t){let n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:true;const a=e.getEntitySet();const i=!M(a)&&a?.annotations.UI?.[t]||e.getEntityType().annotations.UI?.[t];if(!i){return F(false)}const o=e.getDataModelObjectPath();const s=m(o);return H(i,s,undefined,t=>b(t,e.getConvertedTypes(),s))}l.isActionAnnotatedHidden=z;function B(e){const t=e.getDataModelObjectPath();const n=[{key:"isInsertable",function:v},{key:"isUpdatable",function:y},{key:"isDeletable",function:C}];const a={};n.forEach(function(n){const i=n["function"];a[n.key]={expression:i.apply(null,[t,{pathVisitor:(t,n)=>b(t,e.getConvertedTypes(),n)}]),navigationExpression:i.apply(null,[t,{ignoreTargetCollection:true,authorizeUnresolvable:true,pathVisitor:(t,n)=>b(t,e.getConvertedTypes(),n)}])}});return a}l.getRestrictions=B;function Q(e,t){return t||e.creationMode===p.External}l.getInsertUpdateActionsTemplating=Q;function G(e,t){const n=le(e,t);return{isTemplated:L(oe(t,n)),visible:L(n),visibleExpression:n,enabled:L(fe(e,t,n)),enabledForContextMenu:L(fe(e,t,n,true)),key:N.Create,type:f.Standard}}l.getStandardActionCreate=G;function K(e,t){const n=ee(e,t);return{isTemplated:L(se(n)),visible:L(n),enabled:L(ve(n,t,false)),enabledForContextMenu:L(ve(n,t,true)),key:N.Cut,type:f.Standard}}l.getStandardActionCut=K;function J(e,t){const n=te(e,t);return{isTemplated:L(se(n)),visible:L(n),enabled:L(Ce(n,false)),enabledForContextMenu:L(Ce(n,true)),key:N.Copy,type:f.Standard}}l.getStandardActionCopy=J;function X(e,t,n){const a=e.getEntityType().annotations.Hierarchy?.[`RecursiveHierarchyActions#${t.tableManifestConfiguration.hierarchyQualifier??""}`]?.ChangeNextSiblingAction!==undefined;const i=_(ee(e,t),a);return{isTemplated:L(se(i)),visible:L(i),enabled:L(he(i,t,n)),enabledForContextMenu:L(he(i,t,n,true)),key:n?N.MoveUp:N.MoveDown,type:f.Standard}}l.getStandardActionMoveUpDown=X;function Y(e,t){const n=de(e,t);return{isTemplated:L(se(n)),visible:L(n),enabled:L(be(e,t,n,false)),enabledForContextMenu:L(be(e,t,n,true)),key:N.Delete,type:f.Standard}}l.getStandardActionDelete=Y;function Z(e,t){const n=le(e,t,true);return{isTemplated:L(oe(t,n,true)),visible:L(n),enabled:L(pe(e,t,n)),key:N.CreationRow,type:f.Standard}}l.getCreationRow=Z;function ee(e,t){const n=t.restrictions?.isUpdatable?.expression;const a=e.getTemplateType()!==u.ListReport?g.IsEditable:e.getEntitySet()?.annotations.Common?.DraftRoot!==undefined;return w(j(t.tableManifestConfiguration?.type,"TreeTable"),_(t.tableManifestConfiguration.isHierarchyParentNodeUpdatable,U(_(R(n),j(n,false))),a),false)}l.getCutVisibility=ee;function te(e,t){const n=e?.getEntityType().annotations.Hierarchy?.[`RecursiveHierarchyActions#${t.tableManifestConfiguration.hierarchyQualifier??""}`]?.CopyAction;if(!n){return F(false)}const a=e.getTemplateType()!==u.ListReport?g.IsEditable:e.getEntitySet()?.annotations.Common?.DraftRoot!==undefined;return w(j(t.tableManifestConfiguration?.type,"TreeTable"),a,false)}l.getCopyVisibility=te;function ne(e,t,n){const a=ee(e,t);const i=te(e,t);const o=le(e,t,false,true);const s=ce(e,t,o,a,i,n);const r=ge(s,t,false);const l=ge(s,t,true);return{visible:L(s),enabled:L(r),enabledForContextMenu:L(l),key:N.Paste,type:f.Standard}}l.getStandardActionPaste=ne;function ae(e,t){const n=ue(e,t);return{isTemplated:L(se(n)),visible:L(n),enabled:L(ye(e,t,n)),enabledForContextMenu:L(ye(e,t,n,true)),key:N.MassEdit,type:f.Standard}}l.getStandardActionMassEdit=ae;function ie(e,t,n){const a=d("Table",e,n,t);const i=_(a,c());return{isTemplated:L(se(a)),visible:L(a),enabled:L(i),key:N.Insights,type:f.Standard}}l.getStandardActionInsights=ie;function oe(e,t){let n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;return _(S(_(n,e.creationMode===p.CreationRow),_(!n,e.creationMode!==p.CreationRow)),S(U(R(t)),t))}l.getCreateTemplating=oe;function se(e){return S(U(R(e)),e)}l.getDefaultTemplating=se;function re(e,t){return e.getTemplateType()!==u.ListReport&&t.tableManifestConfiguration?.type==="AnalyticalTable"}function le(e,t){let n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;let a=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;const i=t.restrictions.isInsertable.expression;const o=re(e,t)||(n?z(e,"CreateHidden",false):t.hiddenAnnotation.create);const s=t.newAction;return w(t.creationMode===p.External,_(U(o),S(e.getTemplateType()===u.ListReport,g.IsEditable)),w(S(_(R(s?.available),j(s?.available,false)),_(R(i),j(i,false),!s),_(R(o),j(o,true)),_(t.creationMode===p.InlineCreationRows,t.tableManifestConfiguration?.type==="ResponsiveTable",w(_(t?.tableManifestConfiguration?.inlineCreationRowsHiddenInEditMode===false,U(a)),true,g.IsCreateMode))),false,w(e.getTemplateType()===u.ListReport,S(U(P(o)),U(o)),_(U(o),g.IsEditable))))}l.getCreateVisibility=le;function de(e,t){const n=t.hiddenAnnotation.delete;const a=t.restrictions.isDeletable.expression;return w(e.getTemplateType()===u.AnalyticalListPage||re(e,t),false,w(_(R(a),j(a,false)),false,w(_(R(n),j(n,F(true))),false,w(e.getTemplateType()!==u.ListReport,_(U(n),g.IsEditable),U(_(P(n),n))))))}l.getDeleteVisibility=de;function ce(e,t,n,a,i,o){let s=t.restrictions?.isUpdatable?.navigationExpression;if(s?._type==="Unresolvable"){s=F(true)}return _(t.tableManifestConfiguration.type==="TreeTable"?S(a,i):_(S(_(n,t.restrictions.isInsertable.expression),_(g.IsEditable,s)),A(t.tableManifestConfiguration.enablePaste,false),![u.ListReport,u.AnalyticalListPage].includes(e.getTemplateType())),o)}l.getPasteVisibility=ce;function ue(e,t){const n=t.hiddenAnnotation.update,a=t.restrictions.isUpdatable.expression,i=t.tableManifestConfiguration?.massEdit.enabled||false;const o=e.getTemplateType()===u.ObjectPage?g.IsEditable:[u.ListReport,u.FreeStylePage].includes(e.getTemplateType());return _(U(_(R(a),j(a,false))),i,o,U(n))}l.getMassEditVisibility=ue;function pe(e,t,n){const a=v(e.getDataModelObjectPath(),{ignoreTargetCollection:true,authorizeUnresolvable:true,pathVisitor:(t,n)=>{if(t.indexOf("/")===0){t=b(t,e.getConvertedTypes(),n);return t}const a=e.getDataModelObjectPath().navigationProperties;if(a){const e=a[a.length-1];const n=T(e)&&e.partner;if(n){t=`${n}/${t}`}}return t}});const o=a._type==="Unresolvable"?v(e.getDataModelObjectPath(),{pathVisitor:t=>b(t,e.getConvertedTypes(),[])}):a;return _(n,o,S(!t.tableManifestConfiguration.disableAddRowButtonForEmptyData,V([x("creationRowFieldValidity","internal")],i.validateCreationRowFields)))}l.getCreationRowEnablement=pe;function fe(e,t,n){let a=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;const i=[];const o=!a?"":"contextmenu/";if(t.creationMode===p.InlineCreationRows){i.push(_(U(t.hiddenAnnotation.create),g.IsEditable))}else{i.push(n)}const s=t.restrictions.isInsertable.expression;const r=e.resolveAbsolutePath(t.collectionPath).target;i.push(S(E(r),_(s,S(e.getTemplateType()!==u.ObjectPage,g.IsEditable))));if(t.tableManifestConfiguration.type==="TreeTable"){i.push(D(x(o+"numberOfSelectedContexts","internal"),1));if(t.tableManifestConfiguration.createEnablement){i.push(A(x(o+"createEnablement/Create","internal"),false))}}return _(...i)}l.getCreateEnablement=fe;function be(e,t,n){let a=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;const i=!a?"":"contextmenu/";const o=x(i+"deletableContexts","internal");const s=x(i+"unSavedContexts","internal");const r=x(i+"draftsWithDeletableActive","internal");const l=x(i+"draftsWithNonDeletableActive","internal");return _(n,S(t.restrictions.isDeletable.navigationExpression._type==="Unresolvable",t.restrictions.isDeletable.expression),S(O(I(o,true),0),O(I(r,true),0),O(I(l,true),0),O(I(s,true),0)))}l.getDeleteEnablement=be;function ge(e,t,n){const a=!n?"nodeUpdatesInfo/pasteEnablement":"contextmenu/nodeUpdatesInfo/pasteEnablement";if(t.tableManifestConfiguration.type==="TreeTable"){return _(e,S(t.restrictions.isUpdatable.navigationExpression._type==="Unresolvable",t.restrictions.isUpdatable.expression),w(S(D(I(x("selectedContexts","internal")),1),D(I(x("contextmenu/selectedContexts","internal")),1)),j(x(a,"internal"),true),false))}let i=t.restrictions?.isUpdatable?.navigationExpression;if(i?._type==="Unresolvable"){i=F(true)}return _(i,e)}l.getPasteEnablement=ge;function ye(e,n,a){let i=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;const o=n.restrictions.isUpdatable.expression;const s=!R(o)&&n.restrictions.isUpdatable.navigationExpression._type==="Unresolvable";const r=!i?"numberOfSelectedContexts":"contextmenu/numberOfSelectedContexts";const l=!i?"updatableContexts":"contextmenu/updatableContexts";const d=k(x(r,"internal"),1);const c=k(I(x(l,"internal")),1);const u=t.isObjectPathDraftSupported(e.getDataModelObjectPath());const p=me(e);const f=w(S(_(p,u),s),_(d,c),_(d));return _(a,w(s,f,_(f,o)))}l.getMassEditEnablement=ye;function ve(e,t,n){const a=!n?"nodeUpdatesInfo/cutEnablement":"contextmenu/nodeUpdatesInfo/cutEnablement";const i=x(a,"internal");return _(e,S(t.restrictions.isUpdatable.navigationExpression._type==="Unresolvable",t.restrictions.isUpdatable.expression),i)}l.getCutEnablement=ve;function Ce(e,t){const n=!t?"nodeUpdatesInfo/copyEnablement":"contextmenu/nodeUpdatesInfo/copyEnablement";const a=x(n,"internal");return _(e,a)}l.getCopyEnablement=Ce;function he(e,t,n){let a=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;const i=!a?"singleContextMovableUp":"contextmenu/singleContextMovableUp";const o=!a?"singleContextMovableDown":"contextmenu/singleContextMovableDown";const s=n?j(x(i,"internal"),true):j(x(o,"internal"),true);return _(e,S(t.restrictions.isUpdatable.navigationExpression._type==="Unresolvable",t.restrictions.isUpdatable.expression),s)}function me(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;if(e.getManifestWrapper().hasInlineEdit()){return false}const n=e.getTemplateType();if(n===u.ListReport||n===u.AnalyticalListPage||t&&e.getManifestWrapper().hasMultipleVisualizations()){return true}return false}l.isInDisplayMode=me;return l},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/converters/controls/ListReport/FilterBar", ["sap/fe/core/converters/controls/Common/DataVisualization","sap/fe/core/converters/controls/Common/Table","sap/fe/core/converters/controls/Common/table/Columns","sap/fe/core/converters/controls/ListReport/FilterField","sap/fe/core/converters/controls/ListReport/VisualFilters","sap/fe/core/converters/helpers/ConfigurableObject","sap/fe/core/converters/helpers/IssueManager","sap/fe/core/converters/helpers/Key","sap/fe/core/helpers/ModelHelper","sap/fe/core/helpers/TypeGuards","sap/fe/core/templating/DataModelPathHelper","sap/fe/core/templating/PropertyHelper","sap/m/library"],function(t,e,n,a,o,i,r,s,l,c,u,p,f){"use strict";var d={};var g=f.StandardDynamicDateRangeKeys;var h=p.getAssociatedUnitPropertyPath;var y=p.getAssociatedTimezonePropertyPath;var m=p.getAssociatedTextPropertyPath;var v=p.getAssociatedCurrencyPropertyPath;var b=u.getTargetNavigationPath;var P=u.getRelativePaths;var F=u.enhanceDataModelPath;var S=c.isNavigationProperty;var T=c.isMultipleNavigationProperty;var D=c.isEntitySet;var C=c.isComplexType;var E=s.KeyHelper;var O=r.IssueType;var I=r.IssueSeverity;var x=r.IssueCategory;var M=i.insertCustomElements;var N=i.Placement;var R=i.OverrideType;var U=o.getVisualFilters;var A=a.getMaxConditions;var L=n.isFilteringCaseSensitive;var $=n.getTypeConfig;var j=e.getSelectionVariantConfiguration;var k=t.getSelectionVariant;var V=function(t){t["Default"]="Default";t["Slot"]="Slot";return t}(V||{});const w="Edm.String";const q="sap.ui.model.odata.type.String";function H(t){const e={};t.Data.forEach(n=>{if(n.$Type==="com.sap.vocabularies.UI.v1.DataField"){e[n.Value.path]={group:t.fullyQualifiedName,groupLabel:t.Label?.toString()??t.annotations?.Common?.Label?.toString()??t.qualifier}}});return e}function W(t,e){const n=new Set;const a=e.getManifestWrapper().getFilterConfiguration().filterFields??{};const o=new Set([...(e.getDataModelObjectPath().targetEntityType?.annotations?.UI?.SelectionFields??[]).map(t=>t.value),...Object.keys(a).filter(t=>!!a[t].template)]);return new Set(t.map(t=>{const a=t.control.filters;if(!a){return[]}return[...a.hiddenFilters?.paths??[],...a.quickFilters?.paths??[]].map(t=>{const a=t.annotationPath;if(!n.has(a)){n.add(a);const t=j(a,e);if(t){t.propertyNames=t.propertyNames.filter(t=>!o.has(t));return t.propertyNames}}return[]})}).flat(2))}const B=function(t,e){const n=e.split("/");let a;let o="";while(n.length){let e=n.shift();a=a?`${a}/${e}`:e;const i=t.resolvePath(a);if(T(i)){e+="*"}o=o?`${o}/${e}`:e}return o};const K=function(t,e,n,a,o){if(e&&e.targetType===undefined&&(a||e.annotations?.UI?.Hidden?.valueOf()!==true)){const a=o.getAnnotationEntityType(e),i={key:E.getSelectionFieldKeyFromPath(n),annotationPath:o.getAbsoluteAnnotationPath(n),conditionPath:B(t,n),availability:e.annotations?.UI?.HiddenFilter?.valueOf()===true?"Hidden":"Adaptation",label:e.annotations.Common?.Label?.toString()??e.name,group:a.name,groupLabel:a?.annotations?.Common?.Label?.toString()??a.name};G(i);return i}return undefined};const G=function(t){if(t.key==="DraftAdministrativeData::CreationDateTime"||t.key==="DraftAdministrativeData::LastChangeDateTime"){const e=[g.TO,g.TOMORROW,g.NEXTWEEK,g.NEXTMONTH,g.NEXTQUARTER,g.NEXTYEAR];t.settings={operatorConfiguration:[{path:"key",equals:e.join(","),exclude:true}]}}};const X=function(t,e,n,a,o){const i={};if(n){n.forEach(n=>{const r=n.name;const s=(e?`${e}/`:"")+r;const l=K(t,n,s,a,o);if(l){i[s]=l}})}return i};const J=function(t,e,n,a){let o={};if(e){e.forEach(e=>{let i={};const r=F(a.getDataModelObjectPath(),e);const s=r.targetObject;if(s===undefined||!n&&r.navigationProperties.find(t=>t.annotations?.UI?.Hidden?.valueOf()===true)){return}if(S(s)){i=X(t,e,s.targetType.entityProperties,n,a)}else if(C(s.targetType)){i=X(t,e,s.targetType.properties,n,a)}else{i=X(t,b(r,true),[s],n,a)}o={...o,...i}})}return o};const Q=function(t,e,n,a){let o=t[e];if(o){delete t[e]}else{o=K(a,a.resolvePath(e),e,true,n)}if(!o){n.getDiagnostics()?.addIssue(x.Annotation,I.High,O.MISSING_SELECTIONFIELD)}if(o){o.availability=o.availability==="Hidden"?"Hidden":"Default";o.isParameter=!!a.annotations?.Common?.ResultContext}return o};const z=function(t,e,n,a,o){const i=[];const r={};const s=e.entityProperties;o?.forEach(t=>{r[t.value]=true});if(t&&t.length>0){t?.forEach(t=>{const r=t.PropertyName;const s=r?.value;const l={};o?.forEach(t=>{l[t.value]=true});if(s&&!a.has(s)){if(!(s in l)){const t=et(s,n,e);if(t){i.push(t)}}}})}else if(s){s.forEach(t=>{const o=t.annotations?.Common?.FilterDefaultValue;const s=t.name;if(!(s in a)){if(o&&!(s in r)){const t=et(s,n,e);if(t){i.push(t)}}}})}return i};function Y(t){const e=t.getDataModelObjectPath();const n=e.startingEntitySet.entityType;const a=!!n.annotations?.Common?.ResultContext&&!e.targetEntitySet;const o=a&&t.getConverterContextFor(`/${e.startingEntitySet.name}`);return o?n.entityProperties.map(function(t){return Q({},t.name,o,n)}):[]}const _=function(t,e,n){const a=e.length===0||e.every(t=>!t.applySupported.enableSearch);const o=t.length===0||t.every(t=>(t.enableAnalytics||t.control.type==="TreeTable")&&!t.enableBasicSearch);const i=n.getContextPath();if(i&&a&&o){return true}else{return false}};d.getFilterBarHideBasicSearch=_;const Z=function(t,e,n){const a=e.getManifestWrapper();const o=a.getContextPath()||(a.getEntitySet()?`/${a.getEntitySet()}`:undefined);const i=tt(e,o,n);let r={};r=a.getFilterConfiguration(i);const s=r?.filterFields||{};const l=J(t,Object.keys(s).map(t=>s[t].property??E.getPathFromSelectionFieldKey(t)),true,e);const c={};for(const n in s){const a=s[n];const o=a.property??E.getPathFromSelectionFieldKey(n);const i=l[o];const r=a.type==="Slot"?V.Slot:V.Default;const u=a&&a?.visualFilter?U(t,e,n,s):undefined;if(a.template||a.type===V.Slot){if(a.settings){a.settings.isCustomFilter=true}else{a.settings={isCustomFilter:true}}}c[n]={key:n,type:r,slotName:a?.slotName||n,annotationPath:i?.annotationPath,conditionPath:a.property?E.getPathFromSelectionFieldKey(n):i?.conditionPath||o,documentRefText:a.property&&e.fetchTextFromMetaModel("{metaModel>"+a.property+"@com.sap.vocabularies.Common.v1.DocumentationRef}"),template:a.template,label:e.fetchTextFromMetaModel(a.label),position:a.position||{placement:N.After},availability:a.availability||"Default",settings:a.settings,visualFilter:u,required:a.required}}return c};d.getManifestFilterFields=Z;const tt=function(t,e,n){let a;const o=t.getContextPath();const i=`${o}/${n}`;if(e&&i?.startsWith(e)&&n){a=i.replace(`${e}/`,"")}else{a=n}return a?a:undefined};const et=function(t,e,n){return Q({},t,e,n)};d.getFilterField=et;const nt=function(t,e){let n=[];if(t&&t[e]){n=t[e].map(function(t){return t.value})}return n};d.getFilterRestrictions=nt;const at=function(){return{name:"$search",path:"$search",dataType:q,maxConditions:1,label:" ",constraints:{maxLength:1e3}}};const ot=function(){return{name:"$editState",maxConditions:1,path:"$editState",groupLabel:"",group:"",dataType:q,hiddenFilter:false}};const it=function(t){const e=t.getEntitySet();return D(e)?e.annotations.Capabilities?.SearchRestrictions:undefined};const rt=function(t,e){const n=t.getEntitySet()?.annotations?.Capabilities?.NavigationRestrictions;const a=n&&n.RestrictedProperties;return a&&a.find(function(t){return t&&t.NavigationProperty&&t.NavigationProperty.value===e})};d.getNavigationRestrictions=rt;const st=function(t){return{key:t.key,annotationPath:t.annotationPath,conditionPath:t.conditionPath,name:t.conditionPath,label:t.label,hiddenFilter:t.availability==="Hidden",display:"Value",isParameter:t.isParameter,caseSensitive:t.caseSensitive,availability:t.availability,position:t.position,type:t.type,template:t.template,menu:t.menu,required:t.required,isCustomFilter:t.settings?.isCustomFilter}};const lt=function(t,e){t.forEach(t=>{if(e.hasOwnProperty(t.key)&&!e[t.key].label){e[t.key].label=t.label}})};const ct=function(t,e){const n=t?.Common?.Text,a=n&&(t&&t?.Common?.Text?.annotations?.UI?.TextArrangement||e&&e?.UI?.TextArrangement);if(a){if(a.valueOf()==="UI.TextArrangementType/TextOnly"){return"Description"}else if(a.valueOf()==="UI.TextArrangementType/TextLast"){return"ValueDescription"}return"DescriptionValue"}return n?"DescriptionValue":"Value"};d.displayMode=ct;const ut=function(t,e,n){let a=st(e);const o=e.annotationPath;if(!o){return a}const i=t.getConverterContextFor(o).getDataModelObjectPath().targetObject;const r=i?.annotations;const s=t?.getDataModelObjectPath().targetObject?.annotations;const l=n.formatOptions;const c=n.constraints;const u=r?.Common?.QuickInfo?.toString();a=Object.assign(a,{formatOptions:l,constraints:c,display:ct(r,s),tooltip:u});return a};d.fetchPropertyInfo=ut;const pt=function(t){let e=true;switch(t.filterExpression){case"SearchExpression":case"SingleRange":case"SingleValue":e=false;break;default:break}if(t.type&&t.type.indexOf("Boolean")>0){e=false}return e};d.isMultiValue=pt;const ft=function(t){return(t.$Type==="com.sap.vocabularies.UI.v1.DataField"||t.$Type==="com.sap.vocabularies.UI.v1.DataFieldWithUrl"||t.$Type==="com.sap.vocabularies.UI.v1.DataFieldWithNavigationPath")&&t.Value.path?.includes("/")};const dt=function(t,e,n){const a=t.Value?.$target;if(a){const t=m(a)||v(a)||h(a)||y(a);const o=t?F(e.getDataModelObjectPath(),t).navigationProperties:undefined;if(o?.length){const t=o[0].name;if(!n.includes(t)){n.push(t)}}}};const gt=function(t,e,n){switch(e.$Type){case"com.sap.vocabularies.UI.v1.DataFieldForAnnotation":if(e.Target?.$target?.$Type==="com.sap.vocabularies.UI.v1.FieldGroupType"){e.Target.$target.Data?.forEach(e=>{gt(t,e,n)})}break;case"com.sap.vocabularies.UI.v1.DataField":case"com.sap.vocabularies.UI.v1.DataFieldWithUrl":case"com.sap.vocabularies.UI.v1.DataFieldWithNavigationPath":if(ft(e)){const a=P(F(n.getDataModelObjectPath(),e.Value.path),true).join("/");if(!t.includes(a)){t.push(a)}}dt(e,n,t);break;default:break}return t};const ht=function(t){let e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];let n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:"";let a=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;let o=arguments.length>4?arguments[4]:undefined;const i=W(e,t);const r=t.getEntityType();const s=n&&t.getEntityTypeAnnotation(n)?.annotation||r.annotations?.UI?.SelectionFields||[];let c=[];if(e.length===0&&!!o){t.getEntityTypeAnnotation(o).annotation?.forEach(e=>{c=gt(c,e,t)})}if(l.isDraftRoot(t.getEntitySet())){c.push("DraftAdministrativeData/CreationDateTime","DraftAdministrativeData/CreatedByUser","DraftAdministrativeData/LastChangeDateTime","DraftAdministrativeData/LastChangedByUser")}const u={...X(r,"",r.entityProperties,a,t),...J(r,c,false,t),...J(r,t.getManifestWrapper().getFilterConfiguration().navigationProperties,a,t)};let p=[];const f=k(r,t);if(f){p=f.SelectOptions}const d=s?.reduce((e,a)=>{const o=a.value;if(!i.has(o)){let a;if(n?.startsWith("@com.sap.vocabularies.UI.v1.SelectionFields")){a=""}else{a=n?.split("/@com.sap.vocabularies.UI.v1.SelectionFields")[0]}const i=a?a+"/"+o:o;const s=Q(u,i,t,r);if(s){s.group="";s.groupLabel="";e.push(s)}}return e},[])||[];const g=z(p,r,t,i,s);return{excludedFilterProperties:i,entityType:r,annotatedSelectionFields:s,filterFields:u,propertyInfoFields:d,defaultFilterFields:g}};const yt=function(t){const e=$(t);if(t?.type===w&&e.constraints?.nullable!==false){e.formatOptions={...e.formatOptions,parseKeepsEmptyString:false}}return e};d.fetchTypeConfig=yt;const mt=function(t,e,n,a){let o=ut(e,t,a[t.key]),i="";if(t.conditionPath){i=t.conditionPath.replace(/\+|\*/g,"")}if(o){o=Object.assign(o,{maxConditions:o.isParameter?1:A(F(e.getDataModelObjectPath(),i)),required:t.required??(o.isParameter||n.includes(i)),caseSensitive:L(e),dataType:a[t.key].type})}return o};d.assignDataTypeToPropertyInfo=mt;const vt=function(t,e,n){const a={};if(n){t=t.concat(n)}t.forEach(function(t){if(t.annotationPath){const n=e.getConverterContextFor(t.annotationPath);const o=n.getDataModelObjectPath().targetObject;const i=yt(o);a[t.key]=i}else{a[t.key]={type:q}}});const o=e.getEntitySet();const i=D(o)?o.annotations.Capabilities?.FilterRestrictions:undefined;const r={};r.RequiredProperties=nt(i,"RequiredProperties")||[];r.NonFilterableProperties=nt(i,"NonFilterableProperties")||[];const s=e.getContextPath();const c=s.split("/");if(c.length>2){const t=c[c.length-1];c.splice(-1,1);const n=rt(e,t);const a=n&&n.FilterRestrictions;r.RequiredProperties=r.RequiredProperties.concat(nt(a,"RequiredProperties")||[]);r.NonFilterableProperties=r.NonFilterableProperties.concat(nt(a,"NonFilterableProperties")||[])}const u=r.RequiredProperties;const p=r.NonFilterableProperties;const f=[];t.forEach(function(t){const n=t.conditionPath.replace(/[+*]/g,"");if(!p.includes(n)){const n=mt(t,e,u,a);f.push(n)}});const d=e.getDataModelObjectPath();const g=e.getManifestWrapper().getSapFeManifestConfiguration()?.app?.hideDraft?.enabled;if(l.isObjectPathDraftSupported(d)){const t=ot();t.hiddenFilter=g||!bt(e);f.push(t)}const h=it(e);const y=Boolean(h&&!h.Searchable);if(s&&y!==true){if(!h||h?.Searchable){f.push(at())}}return f};d.processSelectionFields=vt;const bt=function(t){const e=rt(t,"DraftAdministrativeData");return e?.FilterRestrictions?.Filterable===false?false:true};d.showDraftEditStatus=bt;const Pt=function(t,e,n,a){const o=Z(e,n,a);lt(t,o);return M(t,o,{availability:R.overwrite,label:R.overwrite,type:R.overwrite,position:R.overwrite,slotName:R.overwrite,documentRefText:R.overwrite,template:R.overwrite,settings:R.overwrite,visualFilter:R.overwrite,required:R.overwrite})};d.insertCustomManifestElements=Pt;const Ft=t=>{t.sort(function(t,e){const n=t.groupLabel!==undefined&&t.groupLabel!==null;const a=e.groupLabel!==undefined&&e.groupLabel!==null;if(!n&&!a){return 0}if(n&&!a){return-1}if(!n&&a){return 1}return t.groupLabel.localeCompare(e.groupLabel)})};d.sortPropertyInfosByGroupLabel=Ft;const St=function(t){let e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];let n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:"";let a=arguments.length>3?arguments[3]:undefined;let o=arguments.length>4?arguments[4]:undefined;const i=ht(t,e,n,a,o);const r=Y(t);let s=i.propertyInfoFields;const l=i.entityType;s=r.concat(s);s=Pt(s,l,t,n);const c=vt(s,t,i.defaultFilterFields);Ft(c);let u=JSON.stringify(c);u=u.replace(/\{/g,"\\{");u=u.replace(/\}/g,"\\}");const p=u;let f=JSON.parse(JSON.stringify(i.propertyInfoFields));f=r.concat(f);const d=i.excludedFilterProperties;const g=l?.annotations?.UI?.FilterFacets;let h={};const y=t.getAnnotationsByTerm("UI","com.sap.vocabularies.UI.v1.FieldGroup");if(g===undefined||g.length<0){for(const t in y){h={...h,...H(y[t])}}}else{h=g.reduce((t,e)=>{for(let n=0;n<e?.Target?.$target?.Data?.length;n++){t[e?.Target?.$target?.Data[n]?.Value?.path]={group:e?.ID?.toString(),groupLabel:e?.Label?.toString()}}return t},{})}const m=i.filterFields;const v=f.concat(Object.keys(m).filter(t=>!d.has(t)).map(t=>Object.assign(m[t],h[t])));const b=Pt(v,l,t,n);const P=L(t);b.forEach(t=>{t.caseSensitive=P});return{selectionFields:b,sPropertyInfo:p}};d.getSelectionFields=St;const Tt=function(t,e,n){const a=nt(e,"RequiredProperties");const o=it(t);const i=Boolean(o&&!o.Searchable);if(a.length>0||i||n?.FetchValues===2){return true}return false};d.getExpandFilterFields=Tt;return d},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/converters/controls/ListReport/FilterField", ["sap/base/Log","sap/fe/core/templating/DataModelPathHelper"],function(t,n){"use strict";var e={};var i=n.getTargetEntitySetInfo;const o=["SingleValue","MultiValue","SingleRange","MultiRange","SearchExpression","MultiRangeOrSearchExpression"];function a(t){t.sort(function(t,n){return o.indexOf(t)-o.indexOf(n)});return t[0]}function r(t,n){const e=n?.FilterExpressionRestrictions?.find(n=>n.Property?.value===t);return e?.AllowedExpressions?.toString()}function s(n){if(n.targetEntityType.annotations.Common?.ResultContext?.valueOf()===true){return"SingleValue"}const e=n.navigationProperties;const o=e[e.length-1];const s=o?.containsTarget;const c=n.targetObject?.name;if(!c){t.warning(`Property name not found!`);return}let l=[];if(o){const t=o.annotations.Capabilities?.FilterRestrictions;const e=r(c,t);l=l.concat(e?[e]:[]);const{parentEntitySet:a,parentNavigationPath:s}=i(n);const u=r(`${s}/${c}`,a?.annotations.Capabilities?.FilterRestrictions);l=l.concat(u?[u]:[]);const g=a?.annotations.Capabilities?.NavigationRestrictions?.RestrictedProperties.find(t=>t.NavigationProperty.value===s);const p=r(`${s}/${c}`,g?.FilterRestrictions);l=l.concat(p?[p]:[]);const f=r(c,g?.FilterRestrictions);l=l.concat(f?[f]:[])}if(!s&&n.targetEntitySet){const t=n.targetEntitySet;const e=t.annotations.Capabilities?.FilterRestrictions;const i=r(c,e);l=l.concat(i?[i]:[])}return a(l)}e.getAllowedFilterExpressionForProperty=s;function c(t){let n=-1;const e=s(t);if(t.targetObject?.type==="Edm.Boolean"||e==="SingleValue"||e==="SingleRange"){n=1}return n}e.getMaxConditions=c;return e},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/converters/controls/ListReport/VisualFilters", ["sap/fe/base/BindingToolkit","sap/fe/core/converters/helpers/Aggregation","sap/fe/core/converters/helpers/IssueManager","sap/fe/core/helpers/TypeGuards","sap/fe/core/templating/DataModelPathHelper","sap/fe/core/templating/FilterTemplating"],function(t,e,a,n,o,i){"use strict";var r={};var s=i.isPropertyFilterable;var l=i.getIsRequired;var u=o.checkFilterExpressionRestrictions;var c=n.isEntitySet;var g=a.IssueType;var f=a.IssueSeverity;var p=a.IssueCategory;var P=e.AggregationHelper;var y=t.not;var v=t.compileExpression;const m=function(t,e,a){let n,o,i;let r;const s=a.getCustomAggregateDefinitions();let l=a.getTransAggregations();let u=[];if(e?.$target?.Measures){u=s.filter(function(t){return t.qualifier===e?.$target?.Measures?.[0]?.value});r=u.length>0?u[0].qualifier:e?.$target?.Measures?.[0]?.value}if(!u[0]&&e?.$target?.DynamicMeasures){r=t.getConverterContextFor(t.getAbsoluteAnnotationPath(e.$target.DynamicMeasures?.[0]?.value)).getDataModelObjectPath().targetObject?.Name.toString();l=a.getAggregatedProperty()}else{l=a.getAggregatedProperties()[0]}const c=e?.$target?.Dimensions[0]?.value;if(s.some(function(t){return t.qualifier===r})){n=r;i=true}else if(l&&l[0]){l.some(function(t){if(t.Name===r){n=t?.AggregatableProperty.value}})}if(!i){const t=a.getAggregatableProperties();if(t&&t.length){for(const e of t){if(e?.Property?.value===n){i=true}}}}const g=a.getGroupableProperties();if(g&&g.length){for(const t of g){if(t?.value===c){o=true}}}return i&&o};function h(t,e,a,n){let o;const i=n[a];if(i?.visualFilter?.valueList){const n=i?.visualFilter?.valueList;const r=n.split("#");const h=r.length>1?`ValueList#${r[1]}`:r[0];const A=t.resolvePath(a);const L=A?.annotations?.Common?.[h];const C=A?.annotations?.Common?.ValueListWithFixedValues?.valueOf()||false;if(L){const t=L?.CollectionPath.toString();const n=e.getConverterContextFor(`/${t||e.getEntitySet()?.name}`);const i=L?.Parameters;let r;const h=[];let A=[];const I=n.getParameterEntityType();A=I?I.keys.map(function(t){return t.name}):[];if(e.getContextPath()===n.getContextPath()){d(h,A,true)}if(i){for(const t of i){const e=t.LocalDataProperty?.value;const o=t.ValueListProperty;if((t?.$Type==="com.sap.vocabularies.Common.v1.ValueListParameterInOut"||t?.$Type==="com.sap.vocabularies.Common.v1.ValueListParameterOut")&&a===e){r=t}if((t?.$Type==="com.sap.vocabularies.Common.v1.ValueListParameterInOut"||t?.$Type==="com.sap.vocabularies.Common.v1.ValueListParameterIn")&&a!==e){const t=s(n,o);if(!t){h.push({localDataProperty:e,valueListProperty:o})}}}}if(h&&h.length){h.forEach(function(t){const o=v(u(e.getConverterContextFor(e.getAbsoluteAnnotationPath(t?.localDataProperty)).getDataModelObjectPath(),["SingleValue"]));const i=v(u(n.getConverterContextFor(n.getAbsoluteAnnotationPath(t?.valueListProperty)).getDataModelObjectPath(),["SingleValue"]));if(i==="true"&&o==="false"){throw new Error(`FilterRestrictions of ${a} in MainEntitySet and ValueListEntitySet are different`)}})}const E=L?.PresentationVariantQualifier;const S=L?.SelectionVariantQualifier;const D=n?.getEntityType().annotations.UI?.[`PresentationVariant#${E}`];const V=new P(n.getEntityType(),n);if(!V.isAnalyticsSupported()){return undefined}if(D){const i=D?.Visualizations;const s=`/${L?.CollectionPath}`||`/${n?.getEntitySet()?.name}`;o={};o.contextPath=s;o.isValueListWithFixedValues=C;let P;for(const t of i){if(t.$target?.term==="com.sap.vocabularies.UI.v1.Chart"){P=t;break}}if(P){const s=m(n,P,V);if(!s){return}const L=P?.$target?.Dimensions[0]?.$target?.annotations?.UI?.Hidden?.valueOf();const C=P?.$target?.Dimensions[0]?.$target?.annotations?.UI?.HiddenFilter?.valueOf();if(L===true||C===true){return}else if(i&&i.length){o.chartAnnotation=P.$target?n?.getAbsoluteAnnotationPath(`${P.$target.fullyQualifiedName}/$AnnotationPath/`):undefined;const i=n.getEntitySet()?.name;let s;const m=n?.getRelativeAnnotationPath(`${D.fullyQualifiedName}/`,n.getEntityType());if(I){s=n.getContextPath()+"/"+m}else{s="/"+i+"/"+m}o.presentationAnnotation=D?s:undefined;o.outParameter=r?.LocalDataProperty?.value;o.inParameters=h;o.valuelistProperty=r?.ValueListProperty;const L=u(e.getConverterContextFor(e.getAbsoluteAnnotationPath(a)).getDataModelObjectPath(),["SingleRange","MultiRange"]);if(v(L)==="true"){e.getDiagnostics().addIssue(p.Annotation,f.High,g.MALFORMED_VISUALFILTERS.VALUELIST);return undefined}const C=u(e.getConverterContextFor(e.getAbsoluteAnnotationPath(a)).getDataModelObjectPath(),["SingleValue"]);o.multipleSelectionAllowed=v(y(C));o.required=l(e,a);let E;if(S){E=n?.getEntityTypeAnnotation(`@UI.SelectionVariant#${S}`)?.annotation;let t;const e=n?.getRelativeAnnotationPath(`${E?.fullyQualifiedName}/`,n.getEntityType());if(I){t=n.getContextPath()+"/"+e}else{t="/"+i+"/"+e}o.selectionVariantAnnotation=E?t:undefined}let V=[];if(I){const a=t.split("/")[0];const n=t.split("/")[1];const o=e.getConverterContextFor(`/${a}`);const i=o?.getDataModelObjectPath().startingEntitySet?.annotations?.Capabilities?.NavigationRestrictions?.RestrictedProperties;const r=i?.find(t=>{if(t.NavigationProperty?.type==="NavigationPropertyPath"){return t.NavigationProperty.value===n}});V=r?.FilterRestrictions?.RequiredProperties??[]}else{const t=n?.getEntitySet();if(c(t)){V=t.annotations.Capabilities?.FilterRestrictions?.RequiredProperties??[]}}let $=[];if(V?.length){V.forEach(function(t){$.push(t.value)})}$=$.concat(A);o.requiredProperties=$;if(e.getContextPath()===n.getContextPath()){d(h,V,false)}if(o.requiredProperties?.length){if(!o.inParameters||!o.inParameters.length){if(!o.selectionVariantAnnotation){o.showOverlayInitially=true}else{let t=E?.SelectOptions?.reduce((t,e)=>{if(e.PropertyName?.value){t.push(e.PropertyName.value)}return t},[])??[];const e=E?.Parameters?.map(t=>t.PropertyName?.value)||[];t=t.concat(e);$=$.sort((t,e)=>t.localeCompare(e));t=t.sort((t,e)=>t.localeCompare(e));o.showOverlayInitially=$.some(function(e){return!t.includes(e)})}}else{o.showOverlayInitially=false}}else{o.showOverlayInitially=false}const T=P?.$target?.Dimensions[0]?.$target?.type;o.renderLineChart=T==="Edm.DateTimeOffset"||T==="Edm.Date"||T==="Edm.TimeOfDay"||P.$target?.ChartType!=="UI.ChartType/Line"}}else{e.getDiagnostics().addIssue(p.Annotation,f.High,g.MALFORMED_VISUALFILTERS.CHART);return}}else{e.getDiagnostics().addIssue(p.Annotation,f.High,g.MALFORMED_VISUALFILTERS.PRESENTATIONVARIANT)}}else{e.getDiagnostics().addIssue(p.Annotation,f.High,g.MALFORMED_VISUALFILTERS.VALUELIST)}}else{e.getDiagnostics().addIssue(p.Manifest,f.High,g.MALFORMED_VISUALFILTERS.VALUELIST)}return o}r.getVisualFilters=h;function d(t,e,a){e.forEach(function(e){const n=a?e:e.value;t.push({localDataProperty:n,valueListProperty:n})})}r._addInParameters=d;return r},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/converters/controls/ObjectPage/Avatar", ["sap/fe/base/BindingToolkit","sap/m/AvatarShape"],function(e,n){"use strict";var t={};var a=e.ifElse;var r=e.getExpressionFromAnnotation;var o=e.compileExpression;const i=e=>r(e.getEntityType().annotations.Common?.IsNaturalPerson);const s=e=>o(a(e,n.Circle,n.Square));const l=e=>o(a(e,"sap-icon://person-placeholder","sap-icon://product"));const p=e=>{const n=e.getEntityType().annotations?.UI?.HeaderInfo;if(!n||n&&!n.ImageUrl&&!n.TypeImageUrl){return undefined}if(n.ImageUrl&&n.TypeImageUrl){return o(r(n.TypeImageUrl))}return l(i(e))};const c=e=>{const n=e.getEntityType().annotations?.UI?.HeaderInfo;if(!n||!(n.ImageUrl||n.TypeImageUrl)){return undefined}return o(r(n.ImageUrl||n.TypeImageUrl))};const I=e=>{const n=e.getEntityType().annotations?.UI?.HeaderInfo;const t=n&&(n.ImageUrl||n.TypeImageUrl||n.Initials);if(!t){return undefined}return{src:c(e),initials:o(r(n?.Initials,[],"")),fallbackIcon:p(e),displayShape:s(i(e))}};t.getAvatar=I;return t},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/converters/controls/ObjectPage/HeaderFacet", ["sap/fe/base/BindingToolkit","sap/fe/core/converters/annotations/DataField","sap/fe/core/converters/helpers/ConfigurableObject","sap/fe/core/converters/helpers/ID","sap/fe/core/converters/helpers/Key","sap/fe/core/templating/PropertyHelper","sap/fe/core/templating/UIFormatters","../../../helpers/StableIdHelper","../../helpers/DataFieldHelper","../Common/Form"],function(e,t,a,n,i,o,r,s,c,l){"use strict";var u={};var d=l.getFormElementsFromManifest;var p=l.FormElementType;var f=c.isReferencePropertyStaticallyHidden;var v=c.isAnnotationFieldStaticallyHidden;var m=s.createIdForAnnotation;var g=r.isVisible;var b=o.isMultiLineText;var y=i.KeyHelper;var F=n.getHeaderFacetID;var I=n.getHeaderFacetFormID;var T=n.getHeaderFacetContainerID;var h=n.getCustomHeaderFacetID;var $=a.insertCustomElements;var U=a.Placement;var C=t.getSemanticObjectPath;var D=e.compileExpression;let P=function(e){e["Annotation"]="Annotation";e["XMLFragment"]="XMLFragment";return e}({});u.HeaderFacetType=P;let A=function(e){e["Reference"]="Reference";e["Collection"]="Collection";return e}({});u.FacetType=A;let S=function(e){e["Default"]="Default";e["NotAdaptable"]="not-adaptable";e["NotAdaptableTree"]="not-adaptable-tree";e["NotAdaptableVisibility"]="not-adaptable-visibility";return e}({});u.FlexDesignTimeType=S;var H=function(e){e["ProgressIndicator"]="ProgressIndicator";e["RatingIndicator"]="RatingIndicator";e["Content"]="Content";return e}(H||{});var E=function(e){e["None"]="None";e["DataPoint"]="DataPoint";e["Chart"]="Chart";e["Identification"]="Identification";e["Contact"]="Contact";e["Address"]="Address";e["FieldGroup"]="FieldGroup";e["PresentationVariant"]="PresentationVariant";return e}(E||{});function N(e){const t=[];e.getEntityType().annotations?.UI?.HeaderFacets?.forEach(a=>{const n=G(a,e);if(n){t.push(n)}});return t}u.getHeaderFacetsFromAnnotations=N;function R(e){const t={};Object.keys(e).forEach(a=>{const n=e[a];t[a]=w(n,a)});return t}u.getHeaderFacetsFromManifest=R;function V(e,t,a){if(e.$Type==="com.sap.vocabularies.UI.v1.ReferenceFacet"&&t.$Type==="com.sap.vocabularies.UI.v1.CollectionFacet"){return false}const n=m(e)??"";const i=a.getManifestWrapper().getHeaderFacets();const o=i[n]?.stashed;return o===true}u.getStashedSettingsForHeaderFacet=V;function k(e,t,a){let n=S.Default;const i=m(e);if(e.$Type==="com.sap.vocabularies.UI.v1.ReferenceFacet"&&t.$Type==="com.sap.vocabularies.UI.v1.CollectionFacet"){n=S.NotAdaptableTree}else{const e=a.getManifestWrapper().getHeaderFacets();if(i){const t=e[i]?.flexSettings?.designtime;switch(t){case S.NotAdaptable:case S.NotAdaptableTree:case S.NotAdaptableVisibility:n=t;break;default:break}}}return n}u.getDesignTimeMetadataSettingsForHeaderFacet=k;function x(e,t,a){if(e.$Type==="com.sap.vocabularies.UI.v1.ReferenceFacet"&&e.annotations?.UI?.Hidden?.valueOf()!==true){const n=F(e),i=(e,t)=>e.ID?.toString()||e.Label?.toString()||t,o=e.Target.value,r=M(e);let s;let c;switch(r){case E.FieldGroup:s=O(e,a);break;case E.DataPoint:c=B(e,a);break;default:break}if(e.Target?.$target?.term==="com.sap.vocabularies.UI.v1.Chart"&&v(e)){return undefined}else{return{type:P.Annotation,facetType:A.Reference,id:n,containerId:T(e),key:i(e,n),flexSettings:{designtime:k(e,t,a)},stashed:V(e,t,a),visible:D(g(e)),annotationPath:`${a.getEntitySetBasedAnnotationPath(e.fullyQualifiedName)}/`,targetAnnotationValue:o,targetAnnotationType:r,headerFormData:s,headerDataPointData:c}}}return undefined}function L(e,t){if(e.$Type==="com.sap.vocabularies.UI.v1.CollectionFacet"){const a=[],n=F(e),i=(e,t)=>e.ID?.toString()||e.Label?.toString()||t;e.Facets.forEach(n=>{const i=x(n,e,t);if(i){a.push(i)}});return{type:P.Annotation,facetType:A.Collection,id:n,containerId:T(e),key:i(e,n),flexSettings:{designtime:k(e,e,t)},stashed:V(e,e,t),visible:D(g(e)),annotationPath:`${t.getEntitySetBasedAnnotationPath(e.fullyQualifiedName)}/`,facets:a}}return undefined}function M(e){let t=E.None;const a={"com.sap.vocabularies.UI.v1.DataPoint":E.DataPoint,"com.sap.vocabularies.UI.v1.Chart":E.Chart,"com.sap.vocabularies.UI.v1.Identification":E.Identification,"com.sap.vocabularies.Communication.v1.Contact":E.Contact,"com.sap.vocabularies.Communication.v1.Address":E.Address,"com.sap.vocabularies.UI.v1.FieldGroup":E.FieldGroup,"com.sap.vocabularies.UI.v1.PresentationVariant":E.PresentationVariant};if(e.$Type!=="com.sap.vocabularies.UI.v1.ReferenceURLFacet"&&e.$Type!=="com.sap.vocabularies.UI.v1.CollectionFacet"&&e.Target.$target){t=a[e.Target.$target.term]??E.None}return t}function O(e,t){if(!e){throw new Error("Cannot get FieldGroup form data without facet definition")}const a=$(j(e,t),d(e,t));return{id:I(e),label:e.Label?.toString(),formElements:a}}function j(e,t){const a=[];if(e.$Type!=="com.sap.vocabularies.UI.v1.ReferenceURLFacet"&&e.$Type!=="com.sap.vocabularies.UI.v1.CollectionFacet"){const n=t.getEntityTypeAnnotation(e.Target.value);t=n.converterContext;e.Target?.$target?.Data.forEach(n=>{if(n.annotations?.UI?.Hidden?.valueOf()!==true){const i=C(t,n);if((n.$Type==="com.sap.vocabularies.UI.v1.DataField"||n.$Type==="com.sap.vocabularies.UI.v1.DataFieldWithUrl"||n.$Type==="com.sap.vocabularies.UI.v1.DataFieldWithNavigationPath"||n.$Type==="com.sap.vocabularies.UI.v1.DataFieldWithIntentBasedNavigation"||n.$Type==="com.sap.vocabularies.UI.v1.DataFieldWithAction")&&!f(n)){a.push({isValueMultilineText:b(n.Value?.$target),type:p.Annotation,key:y.generateKeyFromDataField(n),visible:D(g(n)),label:n.Value?.$target?.annotations?.Common?.Label||n.Label,idPrefix:I(e,n),annotationPath:`${t.getEntitySetBasedAnnotationPath(n.fullyQualifiedName)}/`,semanticObjectPath:i})}else if(n.$Type==="com.sap.vocabularies.UI.v1.DataFieldForAnnotation"&&!f(n)){a.push({isValueMultilineText:false,type:p.Annotation,key:y.generateKeyFromDataField(n),visible:D(g(n)),label:n.Target?.$target?.annotations?.Common?.Label?.toString()||n.Label?.toString(),idPrefix:I(e,n),annotationPath:`${t.getEntitySetBasedAnnotationPath(n.fullyQualifiedName)}/`,semanticObjectPath:i})}}})}return a}function B(e,t){let a=H.Content;let n;if(e.$Type==="com.sap.vocabularies.UI.v1.ReferenceFacet"&&!v(e)){if(e.Target?.$target?.Visualization==="UI.VisualizationType/Progress"){a=H.ProgressIndicator}else if(e.Target?.$target?.Visualization==="UI.VisualizationType/Rating"){a=H.RatingIndicator}const i=e.Target?.$target;if(typeof i==="object"){if(i?.Value?.$target){const e=i.Value.$target;if(e?.annotations?.Common?.SemanticObject!==undefined){n=t.getEntitySetBasedAnnotationPath(e?.fullyQualifiedName)}}}}return{type:a,semanticObjectPath:n}}function G(e,t){let a;switch(e.$Type){case"com.sap.vocabularies.UI.v1.ReferenceFacet":a=x(e,e,t);break;case"com.sap.vocabularies.UI.v1.CollectionFacet":a=L(e,t);break;default:break}return a}function W(e){if(!e){return undefined}const t=["Heroes","Decoration","Workers","LongRunners"].includes(e)?`$auto.${e}`:e;return`{ path : '', parameters : { $$groupId : '${t}' } }`}function w(e,t){const a=h(t);let n=e.position;if(!n){n={placement:U.After}}return{facetType:A.Reference,type:e.type,id:a,containerId:a,key:t,position:n,visible:e.visible,fragmentName:e.template||e.name,title:e.title,subTitle:e.subTitle,stashed:e.stashed||false,flexSettings:{...{designtime:S.Default},...e.flexSettings},binding:W(e.requestGroupId),templateEdit:e.templateEdit}}return u},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/converters/controls/ObjectPage/SubSection", ["sap/base/Log","sap/fe/base/BindingToolkit","sap/fe/core/converters/controls/Common/Action","sap/fe/core/converters/controls/ObjectPage/HeaderFacet","sap/fe/core/converters/helpers/IssueManager","sap/fe/core/converters/helpers/Key","sap/fe/core/helpers/ActionUtilities","sap/fe/core/helpers/BindingHelper","sap/fe/core/helpers/TypeGuards","../../ManifestSettings","../../annotations/DataField","../../helpers/ConfigurableObject","../../helpers/ID","../../objectPage/FormMenuActions","../Common/DataVisualization","../Common/Form"],function(e,t,a,n,i,o,r,s,c,l,u,d,v,p,f,m){"use strict";var g={};var b=m.isReferenceFacet;var I=m.createFormDefinition;var F=f.getDataVisualizationConfiguration;var h=p.getFormHiddenActions;var y=p.getFormActions;var A=v.getSubSectionID;var U=v.getSideContentID;var S=v.getFormID;var C=v.getCustomSubSectionID;var D=d.insertCustomElements;var T=d.Placement;var k=d.OverrideType;var L=u.isActionWithDialog;var M=l.ActionType;var E=c.isPathAnnotationExpression;var N=s.singletonPathVisitor;var O=o.KeyHelper;var P=i.IssueType;var w=i.IssueSeverity;var $=i.IssueCategory;var x=n.getStashedSettingsForHeaderFacet;var R=n.getHeaderFacetsFromManifest;var V=n.getDesignTimeMetadataSettingsForHeaderFacet;var H=a.removeDuplicateActions;var z=a.prepareMenuActions;var j=a.isMenuAIOperation;var B=a.isActionNavigable;var _=a.isActionAIOperation;var G=a.getVisibilityEnablementMenuActions;var W=a.getSemanticObjectMapping;var q=a.getMatchingManifestAction;var K=a.getEnabledForAnnotationAction;var X=a.getAnnotationMenuActionItems;var Q=a.getActionsFromManifest;var J=a.ButtonType;var Y=t.resolveBindingString;var Z=t.ref;var ee=t.pathInModel;var te=t.or;var ae=t.notEqual;var ne=t.not;var ie=t.isConstant;var oe=t.ifElse;var re=t.getExpressionFromAnnotation;var se=t.fn;var ce=t.equal;var le=t.compileExpression;var ue=t.and;let de=function(e){e["Unknown"]="Unknown";e["Form"]="Form";e["Notes"]="Notes";e["DataVisualization"]="DataVisualization";e["XMLFragment"]="XMLFragment";e["Placeholder"]="Placeholder";e["Mixed"]="Mixed";e["EmbeddedComponent"]="EmbeddedComponent";return e}({});g.SubSectionType=de;const ve=["com.sap.vocabularies.UI.v1.LineItem","com.sap.vocabularies.UI.v1.Chart","com.sap.vocabularies.UI.v1.PresentationVariant","com.sap.vocabularies.UI.v1.SelectionPresentationVariant","com.sap.vocabularies.UI.v1.Note"];function pe(e,t,a,n){const i=e.reduce((e,t)=>{switch(t.$Type){case"com.sap.vocabularies.UI.v1.ReferenceFacet":e.push(t);break;case"com.sap.vocabularies.UI.v1.CollectionFacet":if(t.Facets.find(e=>e.$Type==="com.sap.vocabularies.UI.v1.CollectionFacet")){e.splice(e.length,0,...t.Facets)}else{e.push(t)}break;case"com.sap.vocabularies.UI.v1.ReferenceURLFacet":break}return e},[]);return i.map(e=>he(e,i,t,0,!e?.Facets?.length,a,n))}g.createSubSections=pe;function fe(e){const t=R(e.getManifestWrapper().getHeaderFacets());const a=[];Object.keys(t).forEach(function(e){a.push(t[e]);return a});const n=a.reduce((e,t)=>{if(t.templateEdit){e.push(t)}return e},[]);return n.map(e=>me(e))}g.createCustomHeaderFacetSubSections=fe;function me(e){const t=C(e.key);const a={id:t,key:e.key,title:e.title,type:de.XMLFragment,template:e.templateEdit||"",visible:e.visible,level:1,sideContent:undefined,stashed:e.stashed,flexSettings:e.flexSettings,actions:{},objectPageLazyLoaderEnabled:false};return a}const ge=(e,t)=>e.ID?.toString()||e.Label?.toString()||t;function be(e,t,a){for(let t=e.length-1;t>=0;t--){if(e[t].id?.startsWith("CustomAction::")&&(e[t].key.startsWith("DataFieldForAction::")||e[t].key.startsWith("DataFieldForIntentBasedNavigation::"))){e.splice(t,1)}}const n=h(t,a)||[],i={enabled:k.overwrite,visible:k.overwrite,command:k.overwrite,position:k.overwrite,menu:k.overwrite,priority:k.overwrite,group:k.overwrite},o=y(t,a),s=Q(o,a,e,undefined,undefined,n),c=X(e),l=q(c,s.actions),u=D(c,l,i);for(let t=e.length-1;t>=0;t--){if(e[t].id?.startsWith("CustomAction::")){for(const a in s.actions){if(a===e[t].key){e.splice(t,1);break}}}}let d=D(e,s.actions,i);z(d,u);d=H(d);d=G(d);d=r.ensurePrimaryActionNeverOverflows(d);d.forEach(e=>{if(e.type===M.Menu&&!!e.defaultAction){e.defaultAction.type=M.Default}});return{actions:d??e,commandActions:s.commandActions}}function Ie(e,t){let a=[];switch(e.$Type){case"com.sap.vocabularies.UI.v1.CollectionFacet":a=e.Facets.filter(e=>b(e)).reduce((e,a)=>Ae(e,a,t),[]);break;case"com.sap.vocabularies.UI.v1.ReferenceFacet":a=Ae([],e,t);break;default:break}return be(a,e,t)}function Fe(e){const t=ce(re(e),true);return le(oe(t,J.Ghost,J.Transparent))}function he(t,a,n,i,o,r,s){const c=A(t);const l=t.annotations?.UI?.Hidden;const u=ne(ce(true,re(l,[],false,e=>N(e,n.getConvertedTypes(),[]))));const d=!ie(u)&&!E(l);const v=t.Label!==undefined?le(re(t.Label)):undefined;const p={id:c,key:ge(t,c),title:v,type:de.Unknown,annotationPath:n.getEntitySetBasedAnnotationPath(t.fullyQualifiedName),visible:le(u),isVisibilityDynamic:d,level:i,sideContent:undefined,objectPageLazyLoaderEnabled:n.getManifestWrapper().getEnableLazyLoading()};if(r){p.stashed=x(t,t,n);p.flexSettings={designtime:V(t,t,n)}}let f="";i++;switch(t.$Type){case"com.sap.vocabularies.UI.v1.CollectionFacet":const c=t.Facets;const l=c.map((e,t)=>({index:t,facet:e})).filter(e=>{let{facet:t}=e;return b(t)&&t.Target.$target&&ve.includes(t.Target.$target.term)});const m=c.filter(e=>!l.find(t=>t.facet===e));if(l.length>0){const a=[];const s=[];const c=[];for(const{facet:e}of l){a.push(he(e,[],n,i,true,r))}if(m.length>0){e.warning(`Warning: CollectionFacet '${t.ID}' includes a combination of either a chart or a table and other content. This can lead to rendering issues. Consider moving the chart or table into a separate CollectionFacet.`);const a={...t};a.Facets=m;s.push(he(a,[],n,i,o,r))}if(l.find(e=>{let{index:t}=e;return t===0})){c.push(...a);c.push(...s)}else{c.push(...s);c.push(...a)}const u={...p,type:de.Mixed,level:i,content:c};return u}else{const e=Ie(t,n),a={...p,type:de.Form,formDefinition:I(t,le(u),n,e.actions,{useSingleTextAreaFieldAsNotes:s}),level:i,actions:e.actions.filter(e=>e.facetName===undefined),commandActions:e.commandActions};return a}case"com.sap.vocabularies.UI.v1.ReferenceFacet":if(!t.Target.$target){f=`Unable to find annotationPath ${t.Target.value}`}else{switch(t.Target.$target.term){case"com.sap.vocabularies.UI.v1.LineItem":case"com.sap.vocabularies.UI.v1.Chart":case"com.sap.vocabularies.UI.v1.PresentationVariant":case"com.sap.vocabularies.UI.v1.SelectionPresentationVariant":const e=F(t.Target.value,n,{isCondensedTableLayoutCompliant:Te(t,a,n),doNotCheckApplySupported:r,shouldCreateTemplateChartVisualization:true});const c=p.title?p.title:"";const l=e.visualizations[0]?.annotation?.title||e.visualizations[0]?.title;const m=t.annotations?.UI?.PartOfPreview?.valueOf()!==false;const g=ye(l??"",c,o);const b=oe(d,ue(u,ne(ce(v,"undefined")),g),ue(le(u)!==undefined,v!=="undefined",v!==undefined,u,g));const h={...p,type:de.DataVisualization,level:i,presentation:e,isPartOfPreview:m,showSubSectionTitle:le(g),dataVisualizationTitleVisible:le(b)};return h;case"com.sap.vocabularies.UI.v1.FieldGroup":case"com.sap.vocabularies.UI.v1.Identification":case"com.sap.vocabularies.UI.v1.DataPoint":case"com.sap.vocabularies.UI.v1.StatusInfo":case"com.sap.vocabularies.Communication.v1.Contact":const y=Ie(t,n),A={...p,type:de.Form,level:i,formDefinition:I(t,le(u),n,y.actions,{useSingleTextAreaFieldAsNotes:s}),actions:y.actions.filter(e=>e.facetName===undefined),commandActions:y.commandActions};return A;case"com.sap.vocabularies.UI.v1.Note":return{...p,type:de.Notes};default:f=`For ${t.Target.$target.term} Fragment`;break}}break;case"com.sap.vocabularies.UI.v1.ReferenceURLFacet":f="For Reference URL Facet";break;default:break}const m={...p,type:de.Unknown,text:f};return m}g.createSubSection=he;function ye(e,t,a){return te(ne(a),ae(Y(e),Y(t)))}g.getShowSubSectionTitle=ye;function Ae(e,t,a){const n=t.Target.$target;const i=t.Target.value;let o={};let r=[];let s;[s]=i.split("@");if(s.length>0){if(s.lastIndexOf("/")===s.length-1){s=s.substring(0,s.length-1)}}else{s=undefined}if(n){switch(n.term){case"com.sap.vocabularies.UI.v1.FieldGroup":r=n.Data;o=Q(a.getManifestControlConfiguration(n).actions,a,[],undefined,undefined,undefined,t.fullyQualifiedName).actions;break;case"com.sap.vocabularies.UI.v1.Identification":case"com.sap.vocabularies.UI.v1.StatusInfo":if(n.qualifier){r=n}break;default:break}e=r.reduce((e,i)=>{switch(i.$Type){case"com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation":if(i.RequiresContext?.valueOf()===true){a.getDiagnostics().addIssue($.Annotation,w.Low,P.MALFORMED_DATAFIELD_FOR_IBN.REQUIRESCONTEXT)}if(i.Inline?.valueOf()===true){a.getDiagnostics().addIssue($.Annotation,w.Low,P.MALFORMED_DATAFIELD_FOR_IBN.INLINE)}if(i.Determining?.valueOf()===true){a.getDiagnostics().addIssue($.Annotation,w.Low,P.MALFORMED_DATAFIELD_FOR_IBN.DETERMINING)}const o={};if(i.Mapping){o.semanticObjectMapping=W(i.Mapping)}e.push({type:M.DataFieldForIntentBasedNavigation,id:S(t,i),key:O.generateKeyFromDataField(i),text:i.Label?.toString(),annotationPath:"",enabled:i.NavigationAvailable!==undefined?le(ce(re(i.NavigationAvailable),true)):"true",visible:le(ne(ce(re(i.annotations?.UI?.Hidden),true))),buttonType:Fe(i.annotations?.UI?.Emphasized),press:le(se("._intentBasedNavigation.navigate",[re(i.SemanticObject),re(i.Action),o])),customData:le({semanticObject:re(i.SemanticObject),action:re(i.Action)})});break;case"com.sap.vocabularies.UI.v1.DataFieldForAction":const r=a.getManifestControlConfiguration(n).actions;e.push(Ue(i,t,a,r,s));break;case"com.sap.vocabularies.UI.v1.DataFieldForActionGroup":e.push({type:M.Menu,text:i.Label?.toString(),key:O.generateKeyFromDataField(i),id:S(t,i),visible:le(ne(ce(re(i.annotations?.UI?.Hidden),true))),isAIOperation:j(i.Actions)===true||undefined,menu:i.Actions.map(e=>{const i=a.getManifestControlConfiguration(n).actions;return Ue(e,t,a,i,s)})});break;default:break}return e},e)}return D(e,o)}function Ue(e,t,a,n,i){const o=O.generateKeyFromDataField(e);return{type:M.DataFieldForAction,id:S(t,e),key:O.generateKeyFromDataField(e),text:e.Label?.toString(),annotationPath:"",enabled:K(a,e.ActionTarget),binding:i&&!e.Inline?`{ 'path' : '${i}'}`:undefined,visible:le(ne(ce(re(e.annotations?.UI?.Hidden),true))),requiresDialog:L(e),buttonType:Fe(e.annotations?.UI?.Emphasized),isAIOperation:_(e)===true||undefined,press:le(se("invokeAction",[e.Action,{contexts:se("getBindingContext",[],ee("","$source")),invocationGrouping:e.InvocationGrouping==="UI.OperationGroupingType/ChangeSet"?"ChangeSet":"Isolated",label:e.Label?.toString(),model:se("getModel",[],ee("/","$source")),isNavigable:B(n&&n[o])}],Z(".editFlow"))),facetName:e.Inline?t.fullyQualifiedName:undefined}}function Se(e){if(e){const t=e.annotations?.Common?.IsActionCritical;if(e.parameters.length>1||t){return"Dialog"}else{return"None"}}else{return"None"}}g.isDialog=Se;function Ce(e,t){const a={};Object.keys(e).forEach(n=>a[n]=De(e[n],n,t));return a}g.createCustomSubSections=Ce;function De(e,t,a){const n=e.sideContent?{template:e.sideContent.template,id:U(t),visible:false,equalSplit:e.sideContent.equalSplit}:undefined;let i=e.position;if(!i){i={placement:T.After}}const o=e.visible!==undefined?e.visible:true;const r=o&&typeof o==="string"&&o.indexOf("{=")===0;const s=Q(e.actions,a);s.actions=H(Object.values(s.actions))?.reduce((e,t)=>({...e,[t.key]:t}),{});const c={type:de.Unknown,id:e.id||C(t),actions:s.actions,key:t,title:e.title,level:1,position:i,visible:e.visible!==undefined?e.visible:"true",sideContent:n,isVisibilityDynamic:r,objectPageLazyLoaderEnabled:e.enableLazyLoading??false,componentName:"",settings:"",applyState:e.applyState,retrieveState:e.retrieveState};if(e.template||e.name){c.type=de.XMLFragment;c.template=e.template||e.name||""}else if(e.embeddedComponent!==undefined){c.type=de.EmbeddedComponent;c.componentName=e.embeddedComponent.name;if(e.embeddedComponent.settings!==undefined){c.settings=JSON.stringify(e.embeddedComponent.settings)}}else{c.type=de.Placeholder}return c}g.createCustomSubSection=De;function Te(e,t,a){const n=a.getManifestWrapper();if(n.useIconTabBar()){return ke(e,t)}else{const n=a.getEntityType();if(n.annotations?.UI?.Facets?.length&&n.annotations?.UI?.Facets?.length>1){return ke(e,t)}else{return true}}}function ke(e,t){return t.every(function(t){if(t!==e){if(t.$Type==="com.sap.vocabularies.UI.v1.ReferenceFacet"){const e=t;if(e.Target?.$target?.term==="com.sap.vocabularies.UI.v1.LineItem"||e.Target?.$target?.term==="com.sap.vocabularies.UI.v1.PresentationVariant"||e.Target.$target?.term==="com.sap.vocabularies.UI.v1.SelectionPresentationVariant"){return e.annotations?.UI?.Hidden!==undefined?e.annotations?.UI?.Hidden:false}return true}else{const e=t;return e.Facets.every(function(e){const t=e;if(t.Target?.$target?.term==="com.sap.vocabularies.UI.v1.LineItem"||t.Target?.$target?.term==="com.sap.vocabularies.UI.v1.PresentationVariant"||t.Target?.$target?.term==="com.sap.vocabularies.UI.v1.SelectionPresentationVariant"){return t.annotations?.UI?.Hidden!==undefined?t.annotations?.UI?.Hidden:false}return true})}}return true})}return g},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/converters/helpers/Aggregation", ["sap/fe/core/helpers/TypeGuards"],function(t){"use strict";var e={};var n=t.isProperty;var r=t.isNavigationProperty;var o=t.isEntityType;var i=t.isEntitySet;let g=function(){function t(t,e){let n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;this._entityType=t;this._converterContext=e;this._oAggregationAnnotationTarget=this._determineAggregationAnnotationTarget();if(r(this._oAggregationAnnotationTarget)||o(this._oAggregationAnnotationTarget)||i(this._oAggregationAnnotationTarget)){this.oTargetAggregationAnnotations=this._oAggregationAnnotationTarget.annotations.Aggregation}this._bApplySupported=this.oTargetAggregationAnnotations?.ApplySupported?true:false;if(this._bApplySupported){this._aGroupableProperties=this.oTargetAggregationAnnotations?.ApplySupported?.GroupableProperties;this._aAggregatableProperties=this.oTargetAggregationAnnotations?.ApplySupported?.AggregatableProperties;this.oContainerAggregationAnnotation=e.getEntityContainer().annotations.Aggregation}if(!this._aAggregatableProperties&&n){const t=this._getEntityProperties();this._aAggregatableProperties=t?.filter(t=>t.annotations?.Aggregation?.Aggregatable)}}e.AggregationHelper=t;var g=t.prototype;g._determineAggregationAnnotationTarget=function t(){const e=this._converterContext.getDataModelObjectPath()?.startingEntitySet?.entityType?.annotations?.Common?.ResultContext?true:false;let n;if(e){const t=this._converterContext.getDataModelObjectPath();const e=t?.targetObject;const r=t?.targetEntityType;if(e?.annotations?.Aggregation?.hasOwnProperty("ApplySupported")){n=e}else if(r?.annotations?.Aggregation?.ApplySupported){n=r}}else{const t=this._converterContext.getEntitySet();if(i(t)&&t.annotations.Aggregation?.ApplySupported){n=t}else{n=this._converterContext.getEntityType()}}return n};g.isAnalyticsSupported=function t(){return this._bApplySupported};g.isPropertyGroupable=function t(e){if(!this._bApplySupported){return undefined}else if(!this._aGroupableProperties||this._aGroupableProperties.length===0){return true}else{return this._aGroupableProperties.some(t=>t.$target===e)}};g.isPropertyAggregatable=function t(e){if(!this._bApplySupported){return undefined}else{const t=this._converterContext.getAnnotationsByTerm("Aggregation","Org.OData.Aggregation.V1.CustomAggregate",[this._oAggregationAnnotationTarget]);return t.some(t=>e.name===t.qualifier)}};g.getGroupableProperties=function t(){return this._aGroupableProperties};g.getAggregatableProperties=function t(){return this._aAggregatableProperties};g.getEntityType=function t(){return this._entityType};g.getAggregatedProperties=function t(){return this._converterContext.getAnnotationsByTerm("Analytics","com.sap.vocabularies.Analytics.v1.AggregatedProperties",[this._converterContext.getEntityContainer(),this._converterContext.getEntityType()])};g.getAggregatedProperty=function t(){return this._converterContext.getAnnotationsByTerm("Analytics","com.sap.vocabularies.Analytics.v1.AggregatedProperty",[this._converterContext.getEntityContainer(),this._converterContext.getEntityType()])};g.getTransAggregations=function t(){let e=this.getAggregatedProperty();if(!e||e.length===0){e=this.getAggregatedProperties()[0]}return e?.filter(t=>{if(this._getAggregatableAggregates(t.AggregatableProperty)){return t}})};g._getAggregatableAggregates=function t(e){const r=this.getAggregatableProperties()||[];return r.find(function(t){const r=e.qualifier?e.qualifier:e.$target?.name;if(n(t)){return t?.name===r}else if(t?.Property?.value){return t.Property.value===r}})};g._getEntityProperties=function t(){let e;if(i(this._oAggregationAnnotationTarget)){e=this._oAggregationAnnotationTarget?.entityType?.entityProperties}else if(o(this._oAggregationAnnotationTarget)){e=this._oAggregationAnnotationTarget?.entityProperties}return e};g.getCustomAggregateDefinitions=function t(){const e=this._converterContext.getAnnotationsByTerm("Aggregation","Org.OData.Aggregation.V1.CustomAggregate",[this._oAggregationAnnotationTarget]);return e};g.getAllowedTransformations=function t(){return this.oTargetAggregationAnnotations?.ApplySupported?.Transformations||this.oContainerAggregationAnnotation?.ApplySupportedDefaults?.Transformations};return t}();e.AggregationHelper=g;return e},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/converters/helpers/ConfigurableObject", ["sap/base/Log"],function(e){"use strict";var n={};let t=function(e){e["After"]="After";e["Before"]="Before";e["End"]="End";return e}({});n.Placement=t;const o=function(e,n){let o;const s=Object.keys(n).filter(e=>n[e].placement===t.Before);if(s.length>1){const e=s.find(e=>!s.includes(n[e].anchor));o=e||s[0]}else if(s.length){o=s[0]}else{o=Object.keys(n)[0]}e.push(o);return o};const s=(e,n)=>n.includes(e);const i=(e,n,t)=>{if(e===-1){return false}return!s(n,t)};const c=(e,n,t,o)=>!!(Object.keys(e).length&&Object.keys(e).map(n=>e[n].anchor).some(e=>n.includes(e)))||Object.keys(t).length===o.length&&o.length-n.length===Object.keys(e).length&&Object.keys(e).every(n=>Object.keys(e).includes(e[n].anchor));const r=(e,n,t,o)=>{const s=[];const i={first:undefined,last:undefined};i.first=e.length?e[0].key:undefined;i.last=e.length?e[e.length-1].key:undefined;const c={};Object.keys(t).forEach(e=>{f(t,e,s,i,c,[])});const r=s.map(e=>n[e]);r.forEach((e,t)=>{if(e.position&&!n[e.key]?.position){delete r[t].position}});if(o){r.push(o)}return r};const l=(e,n,s,i,c,r)=>{let l=e.indexOf(n);if(Object.keys(i).includes(n)){delete i[n]}if(s&&s.anchor&&n!==s.anchor&&!e.includes(s.anchor)){i[n]=c[n];if(Object.keys(i).length&&!Object.keys(i).some(n=>e.includes(i[n].anchor))&&r.length-e.length===Object.keys(i).length){const n=o(e,i);delete i[n]}else{return-1}}else if(n===s.anchor){l=e.length}else{l=e.indexOf(s.anchor);if(s.placement===t.After){l++}}return l};const f=(n,r,a,h,u,d)=>{if(s(r,a)){return}const p=n[r];d=d.length?d:Object.keys(n);if(p.anchor&&!Object.keys(n).includes(p.anchor)&&!d.includes(p.anchor)){e.warning(`Position anchor '${p.anchor}' not found for item '${r}'. Please check settings. Defaulting as if no Anchor was set.`);n[r].anchor=r;p.anchor=r}if(!p.anchor){p.anchor=p.placement===t.After?h.last:h.first;if(p.anchor===undefined){o(a,{[r]:p})}}const y=l(a,r,p,u,n,d);if(i(y,r,a)){a.splice(y,0,r)}h.last=a[a.length-1];if(Object.keys(u).length&&c(u,a,n,d)){Object.keys(u).forEach(e=>{f({...u},e,a,h,u,d)})}};let a=function(e){e["merge"]="merge";e["overwrite"]="overwrite";e["ignore"]="ignore";return e}({});n.OverrideType=a;function h(e){return typeof e==="object"}function u(e,n,t){const o=n||t;for(const s in e){if(Object.hasOwnProperty.call(e,s)){const i=e[s];if(n!==null){switch(i){case"overwrite":if(t.hasOwnProperty(s)&&t[s]!==undefined){n[s]=t[s]}break;case"merge":default:const e=n[s]||[];let o={};if(h(i)){o=i}if(Array.isArray(e)){n[s]=d(e,t&&t[s]||{},o)}break}}else{switch(i){case"overwrite":if(t.hasOwnProperty(s)&&t[s]!==undefined){o[s]=t[s]}break;case"merge":default:let e={};if(h(i)){e=i}o[s]=d([],t&&t[s]||{},e);break}}}}return o}function d(e,n){let o=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};let s;const i={};const c={};e.forEach(e=>{if(e.position?.placement===t.End&&!s){s=e}else{i[e.key]={anchor:e.position?.anchor||e.key,placement:e.position?.placement||t.After}}c[e.key]=e});Object.keys(n).forEach(e=>{const s=n[e];const r=s.position.anchor;if(!s.position.placement){s.position.placement=t.After}const l=s.key;if(c[l]){c[l]=u(o,c[l],s);if(r&&s.position&&o.position&&o.position==="overwrite"){i[l]=c[l].position}}else{c[l]=u(o,null,s);i[l]=s.position}});return r(e,c,i,s)}n.insertCustomElements=d;return n},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/converters/helpers/DataFieldHelper", ["sap/base/Log","../../helpers/TypeGuards"],function(e,t){"use strict";var a={};var r=t.isProperty;function n(e){if(!e){return false}function t(e){const t=e.annotations.UI?.DataFieldDefault||false;return l("Hidden",e)||t&&s(t)}function a(e){return s(e)||e.$Type==="com.sap.vocabularies.UI.v1.DataFieldForAnnotation"&&i(e)}function n(e){return l("HiddenFilter",e)&&e.name}function o(e){return c(e)&&l("HiddenFilter",e.Value.$target)&&e.Value.path}const d=r(e)?t(e):a(e);const f=r(e)?n(e):o(e);if(d&&f){u(f)}return d}a.isReferencePropertyStaticallyHidden=n;function i(t){if(s(t)){return true}switch(t.Target.$target?.term){case"com.sap.vocabularies.UI.v1.Chart":const a=t.Target.$target.Measures.every(e=>{if(e.$target&&l("Hidden",e.$target)){if(l("HiddenFilter",e.$target)){u(e.$target.name)}return true}});if(a){e.warning("Warning: All measures attribute for Chart are statically hidden hence chart can't be rendered")}return a;case"com.sap.vocabularies.UI.v1.FieldGroup":return t.Target.$target.Data.every(n);case"com.sap.vocabularies.UI.v1.DataPoint":const r=t.Target.$target.Value.$target;return n(r);default:return false}}a.isAnnotationFieldStaticallyHidden=i;function o(e){if(e?.targetObject){const t=e.targetObject;return n(t)}return false}a.isHeaderStaticallyHidden=o;function s(e){return e.annotations?.UI?.Hidden?.valueOf()===true||c(e)&&l("Hidden",e?.Value?.$target)}function u(t){e.warning("Warning: Property "+t+" is set with both UI.Hidden and UI.HiddenFilter - please set only one of these! UI.HiddenFilter is ignored currently!")}function c(e){return e.hasOwnProperty("Value")}function l(e,t){return t?.annotations?.UI?.[e]?.valueOf()===true}function d(e){let t;switch(e?.$Type){case"com.sap.vocabularies.UI.v1.DataField":case"com.sap.vocabularies.UI.v1.DataFieldWithUrl":case"com.sap.vocabularies.UI.v1.DataFieldWithNavigationPath":t=e?.Value?.$target;break;case"com.sap.vocabularies.UI.v1.DataFieldForAnnotation":const a=e.Target.$target;if(a?.term==="com.sap.vocabularies.UI.v1.DataPoint"){t=a?.Value?.$target}if(a?.term==="com.sap.vocabularies.Communication.v1.Contact"){t=a?.fn?.$target}break;case"com.sap.vocabularies.UI.v1.DataPointType":t=e?.Value?.$target;break;default:break}return t?.annotations?.PersonalData?.IsPotentiallySensitive?.valueOf()===true}a.isPotentiallySensitive=d;return a},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/converters/helpers/ID", ["../../helpers/StableIdHelper"],function(t){"use strict";var e={};var n=t.generate;const o=["fe"];function r(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++){e[r]=arguments[r]}return function(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++){r[a]=arguments[a]}return n(o.concat(...e,...r))}}e.createIDGenerator=r;const a=r("HeaderFacet");e.getHeaderFacetID=a;const c=r("HeaderFacetContainer");e.getHeaderFacetContainerID=c;const i=r("HeaderFacet","Form");e.getHeaderFacetFormID=i;const s=r("HeaderFacetCustomContainer");e.getCustomHeaderFacetID=s;const u=r("EditableHeaderSection");e.getEditableHeaderSectionID=u;const g=r("FacetSection");e.getSectionID=g;const I=r("CustomSection");e.getCustomSectionID=I;const D=r("FacetSubSection");e.getSubSectionID=D;const d=r("CustomSubSection");e.getCustomSubSectionID=d;const C=r("SideContent");e.getSideContentID=C;const m=function(t){return n(["fe",t,"SideContentLayout"])};e.getSideContentLayoutID=m;const F=r("Form");e.getFormID=F;const S=r("FormContainer");e.getFormContainerID=S;const f=function(t,e){return n(["fe","FormContainer",t,"StandardAction",e])};e.getFormStandardActionButtonID=f;const l=r("table");e.getTableID=l;const b=r("CustomTab");e.getCustomTabID=b;const H=r("FilterBar");e.getFilterBarID=H;const p=function(){return"fe::ListReport"};e.getDynamicListReportID=p;const A=r("TabMultipleMode");e.getIconTabBarID=A;const h=function(t){return n([t,"VariantManagement"])};e.getFilterVariantManagementID=h;const y=r("Chart");e.getChartID=y;const T=function(t){return n(["CustomAction",t])};e.getCustomActionID=T;const v=r("KPI");e.getKPIID=v;return e},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/converters/helpers/InsightsHelpers", ["sap/fe/base/BindingToolkit","../ManifestSettings"],function(t,e){"use strict";var n={};var a=e.TemplateType;var i=t.pathInModel;var s=t.equal;var r=t.constant;var l=t.and;function o(t,e,n,o){let u,g;const p=e.getManifestWrapper().hasMultipleEntitySets();const f=e.getManifestWrapper().hasMultipleVisualizations();const d=e.getManifestWrapper().getViewConfiguration();const c=d!==undefined&&d.paths.length>1?true:false;const b=e.getTemplateType()===a.ListReport;const h=e.getManifestControlConfiguration(n);const T=t==="Analytical"?h?.enableAddCardToInsights??true:h?.tableSettings?.enableAddCardToInsights??true;if(t==="Table"){u=o?.tableManifestConfiguration;g=u?.type==="ResponsiveTable"}return l(r(T),r(b),r(!p),r(!c),r(t==="Table"?(g??false)&&!f:true),s(i("isInsightsSupported","pageInternal"),true))}n.getInsightsVisibility=o;function u(){return s(i("isInsightsEnabled","internal"),true)}n.getInsightsEnablement=u;return n},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/converters/helpers/IssueManager", [],function(){"use strict";var e={};let n=function(e){e[e["High"]=0]="High";e[e["Low"]=1]="Low";e[e["Medium"]=2]="Medium";return e}({});e.IssueSeverity=n;const t={Facets:{MissingID:"MissingID",UnSupportedLevel:"UnsupportedLevel"},AnnotationColumns:{InvalidKey:"InvalidKey"},Annotations:{IgnoredAnnotation:"IgnoredAnnotation"}};e.IssueCategoryType=t;let i=function(e){e["Annotation"]="Annotation";e["Annotations"]="Annotations";e["Template"]="Template";e["Manifest"]="Manifest";e["Facets"]="Facets";return e}({});e.IssueCategory=i;const o={MISSING_CHART:"We couldn't find a chart annotation for the current entitySet, you should consider adding one.",MISSING_LINEITEM:"We couldn't find a line item annotation for the current entitySet, you should consider adding one.",MISSING_SELECTIONFIELD:"We couldn't find the defined selection field.",MALFORMED_DATAFIELD_FOR_IBN:{REQUIRESCONTEXT:"DataFieldForIntentBasedNavigation cannot use RequiresContext in the form or header.",INLINE:"DataFieldForIntentBasedNavigation cannot use Inline in the form or header.",DETERMINING:"DataFieldForIntentBasedNavigation cannot use Determining in the form or header."},MALFORMED_VISUALFILTERS:{VALUELIST:"We couldn't find the ValueList path provided in the manifest",PRESENTATIONVARIANT:"PresentationVariant is missing for the VisualFilters",CHART:"Chart is missing from the PV configured for the VisualFilters",VALUELISTCONFIG:"ValueList has not been configured inside the Visual Filter Settings",FilterRestrictions:"For VisualFilters, range expressions are not allowed"},FULLSCREENMODE_NOT_ON_LISTREPORT:"enableFullScreenMode is not supported on list report pages.",KPI_ISSUES:{KPI_NOT_FOUND:"Couldn't find KPI or SPV with qualifier ",KPI_DETAIL_NOT_FOUND:"Can't find proper datapoint or chart definition for KPI ",NO_ANALYTICS:"The following entitySet used in a KPI definition doesn't support $apply queries:",MAIN_PROPERTY_NOT_AGGREGATABLE:"Main property used in KPI cannot be aggregated "}};e.IssueType=o;return e},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/converters/helpers/Key", ["../../helpers/StableIdHelper"],function(e){"use strict";var t={};var r=e.getStableIdPartFromDataField;let n=function(){function e(){}t.KeyHelper=e;e.generateKeyFromDataField=function e(t){return r(t,true)};e.validateKey=function e(t){const r=/[^A-Za-z0-9_\-:]/;if(r.exec(t)){throw new Error(`Invalid key: ${t} - only 'A-Za-z0-9_-:' are allowed`)}};e.getSelectionFieldKeyFromPath=function e(t){return t.replace(/([*+])?\//g,"::")};e.getPathFromSelectionFieldKey=function e(t){return t.replace(/::/g,"/")};return e}();t.KeyHelper=n;return t},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/converters/helpers/SelectionVariantHelper", [],function(){"use strict";var e={};function n(e,n){let t;const a=e.Sign!=="UI.SelectionRangeSignType/E"?true:false;switch(e.Option){case"UI.SelectionRangeOptionType/BT":t=a?"BT":"NB";break;case"UI.SelectionRangeOptionType/CP":t=a?"Contains":"NotContains";break;case"UI.SelectionRangeOptionType/EQ":t=a?"EQ":"NE";break;case"UI.SelectionRangeOptionType/GE":t=a?"GE":"LT";break;case"UI.SelectionRangeOptionType/GT":t=a?"GT":"LE";break;case"UI.SelectionRangeOptionType/LE":t=a?"LE":"GT";break;case"UI.SelectionRangeOptionType/LT":t=a?"LT":"GE";break;case"UI.SelectionRangeOptionType/NB":t=a?"NB":"BT";break;case"UI.SelectionRangeOptionType/NE":t=a?"NE":"EQ";break;case"UI.SelectionRangeOptionType/NP":t=a?"NotContains":"Contains";break;default:t="EQ"}return{operator:t,rangeLow:n&&n.indexOf("Edm.Date")===0?new Date(e.Low):e.Low,rangeHigh:e.High&&n&&n.indexOf("Edm.Date")===0?new Date(e.High):e.High}}e.getRangeDefinition=n;function t(e){const t=[];if(e.SelectOptions){e.SelectOptions.forEach(e=>{if(e.PropertyName?.$target&&e.Ranges.length>0){const a=e.PropertyName.$target.type;t.push({propertyPath:e.PropertyName.value,propertyType:a,ranges:e.Ranges.map(e=>n(e,a))})}})}return t}e.getFilterDefinitionsFromSelectionVariant=t;return e},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/converters/objectPage/FormMenuActions", ["sap/fe/core/converters/helpers/Key","sap/fe/core/helpers/TypeGuards"],function(e,a){"use strict";var t={};var o=a.isAnnotationOfType;var n=a.isAnnotationOfTerm;var i=e.KeyHelper;var r=function(e){e["Default"]="Default";return e}(r||{});const s=(e,a)=>{for(const t in e){if(e.hasOwnProperty(t)){a[t]=e[t]}}return e};t.mergeFormActions=s;const c=(e,a)=>{const t=f(e,a)||[],s=a?.getEntityType()?.annotations?.UI;const c=[];for(const e in s){const a=s[e];if(o(a,"com.sap.vocabularies.UI.v1.FieldGroupType")){a?.Data.forEach(e=>{if(e.$Type==="com.sap.vocabularies.UI.v1.DataFieldForAction"&&t.hasOwnProperty(`DataFieldForAction::${e.Action}`)||e.$Type==="com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation"&&t.hasOwnProperty(`DataFieldForIntentBasedNavigation::${e.Action}`)){if(e?.annotations?.UI?.Hidden?.valueOf()===true){c.push({type:r.Default,key:i.generateKeyFromDataField(e)})}}})}else if(n(a,"com.sap.vocabularies.UI.v1.Identification")||n(a,"com.sap.vocabularies.UI.v1.StatusInfo")){a?.forEach(e=>{if(e.$Type==="com.sap.vocabularies.UI.v1.DataFieldForAction"&&t.hasOwnProperty(`DataFieldForAction::${e.Action}`)||e.$Type==="com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation"&&t.hasOwnProperty(`DataFieldForIntentBasedNavigation::${e.Action}`)){if(e?.annotations?.UI?.Hidden?.valueOf()===true){c.push({type:r.Default,key:i.generateKeyFromDataField(e)})}}})}}return c};t.getFormHiddenActions=c;const f=(e,a)=>{const t=a.getManifestWrapper();let n,i;let r={};if(e?.$Type==="com.sap.vocabularies.UI.v1.CollectionFacet"){if(e?.Facets){e?.Facets.forEach(e=>{if(o(e,"com.sap.vocabularies.UI.v1.ReferenceFacet")){n=e?.Target?.value;i=t.getFormContainer(n);if(i?.actions){for(const a in i.actions){i.actions[a].facetName=e.fullyQualifiedName}r=s(i?.actions,r)}}})}}else if(e?.$Type==="com.sap.vocabularies.UI.v1.ReferenceFacet"){n=e?.Target?.value;i=t.getFormContainer(n);if(i?.actions){for(const a in i.actions){i.actions[a].facetName=e.fullyQualifiedName}r=i.actions}}return r};t.getFormActions=f;return t},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/converters/objectPage/HeaderAndFooterAction", ["sap/fe/base/BindingToolkit","sap/fe/core/converters/controls/Common/Action","sap/fe/core/converters/helpers/ConfigurableObject","sap/fe/core/converters/helpers/Key","sap/fe/core/helpers/ModelHelper","sap/fe/core/helpers/TypeGuards","sap/fe/core/templating/DataModelPathHelper","sap/fe/core/templating/UIFormatters","sap/ui/core/Lib","../../helpers/BindingHelper","../ManifestSettings"],function(e,t,n,i,a,o,r,s,l,c,u){"use strict";var f={};var d=u.ActionType;var p=c.singletonPathVisitor;var y=c.UI;var v=c.Draft;var g=s.isVisible;var b=r.isPathDeletable;var A=o.isEntitySet;var D=i.KeyHelper;var E=n.Placement;var m=t.isMenuAIOperation;var h=t.isActionAIOperation;var C=t.getSemanticObjectMapping;var I=t.getEnabledForAnnotationActionExpression;var F=t.getEnabledForAnnotationAction;var S=t.getCopyAction;var T=t.dataFieldIsCopyAction;var O=t.ButtonType;var B=e.pathInModel;var U=e.not;var N=e.ifElse;var P=e.getExpressionFromAnnotation;var H=e.fn;var x=e.equal;var M=e.constant;var k=e.compileExpression;var R=e.and;function V(e,t){return e.annotations?.UI?.Identification?.filter(e=>e.$Type==="com.sap.vocabularies.UI.v1.DataFieldForAction"&&Boolean(e.Determining?.valueOf())===t&&(e.ActionTarget?.isBound?.valueOf()!==true||e?.ActionTarget?.annotations?.Core?.OperationAvailable?.valueOf()!==false)?true:false)||[]}f.getIdentificationDataFieldForActions=V;function L(e,t){return e.annotations?.UI?.Identification?.filter(e=>e.$Type==="com.sap.vocabularies.UI.v1.DataFieldForAction"&&Boolean(e.Determining?.valueOf())===t&&(e.ActionTarget?.isBound?.valueOf()!==true||e?.ActionTarget?.annotations?.Core?.OperationAvailable?.valueOf()!==false)||e.$Type==="com.sap.vocabularies.UI.v1.DataFieldForActionGroup"?true:false)||[]}f.getIdentificationDataFieldForActionsOrGroups=L;function j(e,t){return e.annotations?.UI?.Identification?.filter(e=>e.$Type==="com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation"&&Boolean(e.Determining?.valueOf())===t?true:false)||[]}const w=["UI.CriticalityType/VeryPositive","UI.CriticalityType/Positive","UI.CriticalityType/Negative","UI.CriticalityType/VeryNegative"];f.IMPORTANT_CRITICALITIES=w;function $(e,t){const n=e.getDataModelObjectPath(),i=n.navigationProperties.map(e=>e.name),a=P(t,i,false,t=>p(t,e.getConvertedTypes(),[])),o=e.getManifestWrapper(),r=o.getViewLevel(),s=r>1?y.IsEditable:U(y.IsEditable);return N(t===undefined||t.valueOf()===false,s,R(s,x(a,false)))}f.getDeleteButtonVisibility=$;function K(e,t,n){const i=n.getEntitySet(),o=a.isDraftRoot(i);let r=N(t!==undefined,t,N(e!==undefined,x(P(e),true),M(true)));r=o?R(r,U(B("DraftAdministrativeData/InProcessByUser"))):r;return r}f.getDeleteButtonEnabled=K;function G(e,t,n,i,o,r){const s=n?.getEntitySet(),l=e.getEntitySet(),c=e.getManifestWrapper().isFclEnabled();let u;const f=z(n,t);const d=r?.HiddenDraft?.enabled;if(o&&o>1){u=a.isDraftNode(l)}else{u=a.isDraftRoot(s)}const p=z(n,i);const g=U(y.IsEditable);const b=N(o>1||d,N(i===undefined||i.valueOf()===false,R(g,x(B("rootEditVisible","internal"),true),N(c,x(B("/showEditButton","fclhelper"),true),true)),R(g,x(p,false),x(B("rootEditVisible","internal"),true),N(c,x(B("/showEditButton","fclhelper"),true),true))),N(t===undefined||t.valueOf()===false,g,R(g,x(f,false))));return N(u,R(b,v.HasNoDraftForCurrentUser),b)}f.getEditButtonVisibility=G;function z(e,t){const n=e.getDataModelObjectPath(),i=n.navigationProperties.map(e=>e.name),a=P(t,i,false,t=>p(t,e.getConvertedTypes(),i));return a}f.getHiddenExpression=z;function W(e,t,n){const i=e.getEntitySet(),o=a.isDraftRoot(i),r=a.isSticky(i);let s;if(o&&A(i)){s=i.annotations.Common?.DraftRoot?.EditAction}else if(r&&A(i)){s=i.annotations.Session?.StickySessionSupported?.EditAction}if(s){const i=e.getAbsoluteAnnotationPath(s);const a=e.resolveAbsolutePath(i).target;if(a?.annotations?.Core?.OperationAvailable===null){}else if(n>1){if(t!==undefined){return R(x(P(t),true),x(B("rootEditEnabled","internal"),true))}else{return x(B("rootEditEnabled","internal"),true)}}else{return I(e,a??undefined)}}return M(true)}f.getEditButtonEnabledExpression=W;function _(e,t,n){return k(W(e,t,n))}f.getEditButtonEnabled=_;function q(e,t){const n=e.getContextPath();const i=a.getRootEntitySetPath(n);const o=e.getConverterContextFor("/"+i);const r=e.getEntitySet(),s=e.getEntityType(),c=o.getEntitySet(),u=o.getEntityType(),f=a.getStickySession(c),v=a.getDraftRoot(c),g=a.isCollaborationDraftSupportedFromConverterContext(e)&&v,E=a.getDraftNode(c),m=r&&r.annotations?.Capabilities?.DeleteRestrictions,h=a.isUpdateHidden(c,u),I=c&&A(c)&&h?.valueOf(),F=e.getDataModelObjectPath(),N=b(F,{pathVisitor:(t,n)=>p(t,e.getConvertedTypes(),n)}),M=N?k(N):N,V=L(e.getEntityType(),false);const z=e.getManifestWrapper().getViewLevel()===1?S(V.filter(e=>{if(e.$Type==="com.sap.vocabularies.UI.v1.DataFieldForAction"){return T(e)}})):undefined;const W=V.filter(e=>!T(e));const q=[];if(A(r)&&v?.EditAction&&I!==true){q.push({type:d.DraftActions,key:"DraftActions"})}const Q=e.getManifestWrapper().getViewLevel();const Y=Q>1?r?.annotations.Capabilities?.UpdateRestrictions?.Updatable:undefined;if(v||E){q.push({type:d.CollaborationAvatars,key:"CollaborationAvatars"})}X(q,true,W,e);if((v?.EditAction||f?.EditAction)&&I!==true){let n=G(e,h,o,a.isUpdateHidden(r,s),Q,t);if(g){n=R(n,U(x(y.hasCollaborationAuthorization,false)))}q.push({type:d.Primary,key:"EditAction",visible:k(n),enabled:_(o,Y,Q)})}if(M&&M!=="false"||m?.Deletable?.valueOf()!==false&&M!=="false"){const t=a.getDeleteHidden(r,s);let n=$(e,t);if(g){n=R(n,U(x(y.hasCollaborationAuthorization,false)))}q.push({type:d.Secondary,key:"DeleteAction",visible:k(n),enabled:k(K(m?.Deletable,N,e)),parentEntityDeleteEnabled:M})}if(z){q.push({...J(z,e),type:d.Copy,text:z.Label?.toString()??l.getResourceBundleFor("sap.fe.core").getText("C_COMMON_COPY")})}const Z=j(e.getEntityType(),false);Z.filter(e=>{const t=k(P(e?.Criticality));return!w.includes(t)}).forEach(t=>{if(t.RequiresContext?.valueOf()===true){throw new Error(`RequiresContext property should not be true for header IBN action : ${t.Label}`)}if(t.Inline?.valueOf()===true){throw new Error(`Inline property should not be true for header IBN action : ${t.Label}`)}const n={semanticObjectMapping:C(t.Mapping)};q.push({type:d.DataFieldForIntentBasedNavigation,text:t.Label?.toString(),annotationPath:e.getEntitySetBasedAnnotationPath(t.fullyQualifiedName),buttonType:O.Ghost,visible:k(R(U(x(P(t.annotations?.UI?.Hidden),true)),U(x(B("shellNavigationNotAvailable","internal"),true)))),enabled:t.NavigationAvailable!==undefined?k(x(P(t.NavigationAvailable),true)):true,key:D.generateKeyFromDataField(t),isNavigable:true,press:k(H("._intentBasedNavigation.navigate",[P(t.SemanticObject),P(t.Action),n])),customData:k({semanticObject:P(t.SemanticObject),action:P(t.Action)})})});X(q,false,W,e);return q}f.getHeaderDefaultActions=q;function Q(e){const t=e.getEntityType();const n=t.annotations?.UI?.Identification?.filter(e=>e?.annotations?.UI?.Hidden?.valueOf()===true)||[];return n.map(e=>({type:d.Default,key:D.generateKeyFromDataField(e)}))}f.getHiddenHeaderActions=Q;function Y(e,t,n){const i=t.getEntitySet();const o=t.getEntityType();const r=a.getStickySession(i),s=A(i)&&(i.annotations.Common?.DraftRoot?.term??i.annotations.Session?.StickySessionSupported?.term),l=Boolean(s==="com.sap.vocabularies.Common.v1.DraftRoot"||n?.HiddenDraft?.enabled||r&&r?.SaveAction),c=e>1&&!n?.HiddenDraft?.enabled,u=Boolean(s==="com.sap.vocabularies.Common.v1.DraftRoot"||n?.HiddenDraft?.enabled||r&&r?.DiscardAction),f=e>1&&n?.HiddenDraft?.enabled&&!n?.HiddenDraft?.hideCreateNext;const p=V(t.getEntityType(),true);const y=p.filter(e=>{const t=k(P(e?.Criticality));return t&&w.includes(t)}).map(e=>J(e,t));if(f){y.push({type:d.CreateNext,key:"CreateNextAction"})}if(i?.entityTypeName===o?.fullyQualifiedName&&l){y.push({type:d.Primary,key:"SaveAction"})}if(c){y.push({type:d.DefaultApply,key:"ApplyAction"})}p.filter(e=>{const t=k(P(e?.Criticality));return t&&!w.includes(t)}).forEach(e=>{y.push(J(e,t))});if(u){y.push({type:d.Secondary,key:"CancelAction",position:{placement:E.End}})}return y}f.getFooterDefaultActions=Y;function J(e,t){let n=g(e);const i=a.isCollaborationDraftSupportedFromConverterContext(t)&&a.getDraftRoot(t.getEntitySet());if(i){n=R(n,U(x(y.hasCollaborationAuthorization,false)))}return{type:d.DataFieldForAction,annotationPath:t.getEntitySetBasedAnnotationPath(e.fullyQualifiedName),key:D.generateKeyFromDataField(e),visible:k(n),enabled:F(t,e.ActionTarget),isNavigable:true,isAIOperation:h(e)===true||undefined}}function X(e,t,n,i){n.filter(e=>{const n=k(P(e?.Criticality));return t?w.includes(n):!w.includes(n)}).forEach(t=>{if(t.$Type==="com.sap.vocabularies.UI.v1.DataFieldForAction"){e.push(J(t,i))}else if(t.$Type==="com.sap.vocabularies.UI.v1.DataFieldForActionGroup"){let n=U(x(P(t.annotations?.UI?.Hidden),true));const o=a.isCollaborationDraftSupportedFromConverterContext(i)&&a.getDraftRoot(i.getEntitySet());if(o){n=R(n,U(x(y.hasCollaborationAuthorization,false)))}e.push({type:d.Menu,text:t.Label,key:D.generateKeyFromDataField(t),id:D.generateKeyFromDataField(t),visible:k(n),menu:t.Actions.map(e=>J(e,i)),isAIOperation:m(t.Actions)===true||undefined})}})}return f},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/converters/templates/ListReportConverter", ["sap/fe/base/BindingToolkit","sap/fe/core/converters/controls/Common/Action","sap/fe/core/converters/controls/ListReport/FilterBar","sap/fe/core/converters/helpers/ConfigurableObject","sap/fe/core/helpers/ActionUtilities","sap/fe/core/helpers/StableIdHelper","../../helpers/TypeGuards","../ManifestSettings","../controls/Common/DataVisualization","../controls/Common/KPI","../helpers/ID"],function(t,e,n,i,a,o,r,s,l,c,u){"use strict";var f={};var d=u.getTableID;var p=u.getIconTabBarID;var y=u.getFilterVariantManagementID;var h=u.getFilterBarID;var m=u.getDynamicListReportID;var g=u.getCustomTabID;var v=u.getChartID;var C=c.getKPIDefinitions;var b=l.isSelectionPresentationCompliant;var T=l.isPresentationCompliant;var P=l.getSelectionVariant;var w=l.getSelectionPresentationVariant;var I=l.getDefaultLineItem;var S=l.getDefaultChart;var V=l.getDataVisualizationConfiguration;var E=s.VisualizationType;var M=s.VariantManagementType;var z=s.TemplateType;var D=r.isAnnotationOfType;var A=o.generate;var F=i.insertCustomElements;var L=n.showDraftEditStatus;var x=n.getSelectionFields;var k=n.getManifestFilterFields;var B=n.getFilterBarHideBasicSearch;var H=e.getActionsFromManifest;var R=t.getExpressionFromAnnotation;var O=t.compileExpression;var W=function(t){t["Multi"]="Multi";t["Combined"]="Combined";t["Custom"]="Custom";t["Default"]="Default";return t}(W||{});var $=function(t){t["SingleTable"]="SingleTable";t["SingleChart"]="SingleChart";t["Combined"]="Combined";t["Custom"]="Custom";return t}($||{});const U=function(t,e){return t.type===e};const j=function(t,e){return t.viewType===e};function N(t){const e=[];t.forEach(function(t){if(!j(t,$.Custom)){const n=j(t,$.Combined)?t.secondaryVisualization.visualizations:t.presentation.visualizations;n.forEach(function(t){if(t.type===E.Table){e.push(t)}})}});return e}function Q(t){const e=[];t.forEach(function(t){if(!j(t,$.Custom)){const n=j(t,$.Combined)?t.primaryVisualization.visualizations:t.presentation.visualizations;n.forEach(function(t){if(t.type===E.Chart){e.push(t)}})}});return e}const K=function(t){const e={};for(const n in t){if(t[n]?.settings?.defaultValues?.length){e[n]=t[n]?.settings?.defaultValues}}return e};function q(t,e,n){const i=e.getManifestWrapper().getDefaultTemplateAnnotationPath();const a=w(t,i,e);const o="ALP flavor needs both chart and table to load the application";if(a){if(i){const t=a.PresentationVariant;if(!t){throw new Error("Presentation Variant is not configured in the SPV mentioned in the manifest")}if(!T(t,n)){if(n){throw new Error(o)}return undefined}}if(b(a,n)===true){return a}else if(n){throw new Error(o)}}const r=t.annotations?.UI?.PresentationVariant;if(r){if(T(r,n)){return r}else if(n){throw new Error(o)}}if(!n){return I(t)}return undefined}const G=function(t,e,n){const i=X(t[0],true);const a=X(t[1]?t[1]:t[0],false);if(i&&a){const t={primaryVisualization:i,secondaryVisualization:a,tableControlId:a.visualizations[0]?.type===E.Table?a.visualizations[0].annotation?.id:"",chartControlId:i.visualizations[0]?.type===E.Chart?i.visualizations[0].id:"",defaultPath:e,viewType:$.Combined,visible:U(n,W.Multi)?n.visible:undefined};return t}};const J=function(t,e,n){const i=tt(e,E.Table)?.annotation.id;const a={presentation:e,title:et(t,n),selectionVariantPath:nt(n),visible:U(n,W.Multi)?n.visible:undefined};if(i){return{...a,...{tableControlId:i,viewType:$.SingleTable}}}return{...a,...{chartControlId:tt(e,E.Chart)?.id,viewType:$.SingleChart}}};const X=function(t,e){const n=Object.assign({},t);const i=t.visualizations.find(t=>!!e&&t.type===E.Chart||!e&&t.type===E.Table);if(i){n.visualizations=[i]}else{const t=e?{visualization:"Primary",type:"chart"}:{visualization:"Secondary",type:"table"};throw new Error(`${t.visualization} visualization needs valid ${t.type}`)}return n};const Y=function(t,e,n){const i=t.getEntityTypeAnnotation(e.annotationPath);const a=i.annotation;t=i.converterContext;const o=a;if(o||t.getTemplateType()===z.AnalyticalListPage){return V(o?t.getRelativeAnnotationPath(o.fullyQualifiedName,t.getEntityType()):"",t,{isCondensedTableLayoutCompliant:true,shouldCreateTemplateChartVisualization:true})}else{throw new Error(`Annotation Path for the ${n?"primary":"secondary"} visualization mentioned in the manifest is not found`)}};const Z=function(t,e){for(const n of t.visualizations){switch(n.type){case E.Table:const t=n.control.filters||{};t.hiddenFilters=t.hiddenFilters||{paths:[]};if(!e.keepPreviousPersonalization){n.annotation.id=d(e.key??"","LineItem");n.annotation.apiId=A([n.annotation.id,"Table"])}break;case E.Chart:n.id=v(e.key||"","Chart");n.multiViews=true;break;default:break}}};const _=function(t){return{title:t.label,fragment:t.template,type:t.type,customTabId:g(t.key??""),visible:t.visible,viewType:$.Custom}};const tt=function(t,e){return t.visualizations.find(t=>t.type===e)};const et=function(t,e){if(U(e,W.Multi)){const n=t.getEntityTypeAnnotation(e.annotationPath).annotation;return O(R(n.Text))}return""};const nt=function(t){if(U(t,W.Multi)){return t.annotation&&D(t.annotation,"com.sap.vocabularies.UI.v1.SelectionPresentationVariantType")?`@${t.annotation.SelectionVariant?.fullyQualifiedName.split("@")[1]}`:t.annotationPath}return undefined};const it=function(t){if(!U(t,W.Custom)){return!U(t,W.Combined)&&t.annotation?t.converterContext.getRelativeAnnotationPath(t.annotation.fullyQualifiedName,t.converterContext.getEntityType()):""}return""};const at=function(t){if(!U(t,W.Custom)){const e=t.converterContext;const n=U(t,W.Multi)?{associatedSelectionVariant:t.selectionVariant,isMacroOrMultipleView:true}:{};const i=V(it(t),e,{...{isCondensedTableLayoutCompliant:true},...n});if(!U(t,W.Combined)&&i.visualizations.length===2&&e.getTemplateType()===z.AnalyticalListPage){const e=G([i],"both",t);if(e){return e}}else if(U(t,W.Combined)){const{primary:n,secondary:i}=t;if(n?.length&&i?.length){const a=G([Y(e,n[0],true),Y(e,i[0],false)],t.defaultPath,t);if(a){return a}}else if(e.getTemplateType()===z.AnalyticalListPage){throw new Error("SecondaryItems in the Views is not present")}}else if(U(t,W.Multi)){Z(i,t)}const a=J(e,i,t);a.presentation.inMultiView=!!n.isMacroOrMultipleView;return a}else{return _(t)}};const ot=function(t,e){let n=[];const i=t.getManifestWrapper();if(e){e.paths.forEach(a=>{if(i.isCombinedViewConfiguration(a)){if(e.paths.length>1){throw new Error("ALP flavor cannot have multiple views")}else{n.push({converterContext:t,primary:a.primary,secondary:a.secondary,defaultPath:a.defaultPath,type:W.Combined})}}else if(i.isCustomViewConfiguration(a)){n.push({key:a.key,label:a.label,template:a.template,type:W.Custom,visible:a.visible})}else{const e=t.getConverterContextFor(a.contextPath||a.entitySet&&`/${a.entitySet}`||t.getContextPath()),i=e.getEntityType();if(i&&e){let t;const o=e.getEntityTypeAnnotation(a.annotationPath);const r=o.annotation;if(r){t=r.term==="com.sap.vocabularies.UI.v1.SelectionVariant"?q(i,e,false):r;n.push({selectionVariant:r.term==="com.sap.vocabularies.UI.v1.SelectionVariant"?r:undefined,converterContext:e,annotation:t,annotationPath:a.annotationPath,keepPreviousPersonalization:a.keepPreviousPersonalization,key:a.key,visible:a.visible,type:W.Multi})}}else{}}})}else{const e=t.getEntityType();if(t.getTemplateType()===z.AnalyticalListPage){n=st(t,n)}else{n.push({annotation:q(e,t,false),converterContext:t,type:W.Default})}}return n.map(t=>at(t))};const rt=function(t,e){const n=t.getManifestWrapper();const i=n.getViewConfiguration();if(e.length>1&&!lt(t)){return{showTabCounts:i?i.showCounts??n.hasMultipleEntitySets():undefined,id:p()}}return undefined};function st(t,e){const n=t.getEntityType();const i=q(n,t,true);let a,o;if(i){e.push({annotation:i,converterContext:t,type:W.Default})}else{a=S(n);o=I(n);if(a&&o){const n=[{annotationPath:"@"+a.term}];const i=[{annotationPath:"@"+o.term}];e.push({converterContext:t,primary:n,secondary:i,defaultPath:"both",type:W.Combined})}else{throw new Error("ALP flavor needs both chart and table to load the application")}}return e}function lt(t){return t.getManifestWrapper().hasMultipleVisualizations()||t.getTemplateType()===z.AnalyticalListPage}const ct=function(t){const e=t.getManifestWrapper();const n=F([],H(e.getHeaderActions(),t).actions);return a.ensurePrimaryActionNeverOverflows(n)};f.getHeaderActions=ct;const ut=function(t,e){t.forEach(t=>{if(!j(t,$.Custom)&&!j(t,$.Combined)){t.presentation.visualizations.forEach(t=>{if(t.type===E.Chart&&t.filterId!==e){t.filterId=e}})}})};const ft=function(t,e){const n=t.getEntityType();const i=t.getContextPath();if(!i){throw new Error("An EntitySet is required to be able to display a ListReport, please adjust your `entitySet` property to point to one.")}const a=t.getManifestWrapper();const o=a.getViewConfiguration();const r=a.hasMultipleEntitySets();const s=ot(t,o);const l=N(s);const c=Q(s);const u=l.some(t=>t.control.type==="ResponsiveTable");let f="";let d="";const p=m();const g=h(i);const v=y(g);const b=a.getFilterConfiguration();const T=b?.initialLayout!==undefined?b?.initialLayout.toLowerCase():"compact";const w=b?.layout!==undefined?b?.layout.toLowerCase():"compact";const I=b.useSemanticDateRange!==undefined?b.useSemanticDateRange:true;const S=b.showClearButton!==undefined?b.showClearButton:false;const V=dt(s);if(V){d=V.chartId;f=V.tableId}const E=a.useHiddenFilterBar();const z=(a.isFilterBarHidden()||E)&&d==="";const D=x(t,l);const A=D.selectionFields;const F=D.sPropertyInfo;const H=B(l,c,t);const R=rt(t,s);const O=R?undefined:P(n,t);const W=I?K(k(n,t)):{};const $=ct(t);if(r){ut(s,g)}const U=l.map(t=>t.annotation.apiId).concat(c.map(t=>t.apiId));const j=[...z&&!E?[]:[g],...a.getVariantManagement()!==M.Control?U:[],...R?[R.id]:[]];const q=R&&a.getStickyMultiTabHeaderConfiguration()?R.id:undefined;const G=e?.HiddenDraft?.enabled||l.every(t=>t.control.type==="TreeTable"||t.enableAnalytics||t.annotation.collection!==i);return{mainEntitySet:i,mainEntityType:`${i}/`,multiViewsControl:R,stickySubheaderProvider:q,singleTableId:f,singleChartId:d,dynamicListReportId:p,headerActions:$,easyFilterEnabled:!z&&e?.MagicFiltering,showPinnableToggle:u,filterBar:{propertyInfo:F,selectionFields:A,hideBasicSearch:H,showClearButton:S,disableDraftEditStateFilter:G,showDraftEditStatus:L(t)},views:s,filterBarId:z&&!E?"":g,filterConditions:{selectionVariant:O,defaultSemanticDates:W},variantManagement:{id:v,targetControlIds:j.join(",")},hasMultiVisualizations:lt(t),templateType:a.getTemplateType(),useSemanticDateRange:I,filterInitialLayout:T,filterLayout:w,kpiDefinitions:C(t),hideFilterBar:z,useHiddenFilterBar:E,collapsedHeaderFragment:a.getCollapsedHeaderFragment(),expandedHeaderFragment:a.getExpandedHeaderFragment()}};f.convertPage=ft;function dt(t){const e=t.find(t=>(j(t,$.Combined)||j(t,$.SingleTable))&&!!t.tableControlId)?.tableControlId??"",n=t.find(t=>(j(t,$.Combined)||j(t,$.SingleChart))&&!!t.chartControlId)?.chartControlId??"";if(e||n){return{chartId:n,tableId:e}}return undefined}return f},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/converters/templates/ObjectPageConverter", ["sap/fe/base/BindingToolkit","sap/fe/core/converters/controls/Common/Action","sap/fe/core/converters/objectPage/HeaderAndFooterAction","sap/fe/core/helpers/ActionUtilities","sap/fe/core/helpers/ModelHelper","../../helpers/BindingHelper","../ManifestSettings","../controls/ObjectPage/Avatar","../controls/ObjectPage/HeaderFacet","../controls/ObjectPage/SubSection","../helpers/ConfigurableObject","../helpers/ID"],function(e,t,n,o,i,a,s,r,c,l,d,u){"use strict";var f={};var p=u.getSectionID;var v=u.getEditableHeaderSectionID;var g=u.getCustomSectionID;var b=d.insertCustomElements;var y=d.Placement;var S=d.OverrideType;var h=l.createSubSections;var E=l.createCustomSubSections;var m=l.createCustomHeaderFacetSubSections;var A=l.SubSectionType;var w=c.getHeaderFacetsFromManifest;var C=c.getHeaderFacetsFromAnnotations;var T=r.getAvatar;var H=s.VisualizationType;var M=s.TemplateType;var F=a.singletonPathVisitor;var O=a.UI;var I=n.getHiddenHeaderActions;var L=n.getHeaderDefaultActions;var P=n.getFooterDefaultActions;var z=n.getEditButtonEnabledExpression;var V=t.removeDuplicateActions;var k=t.prepareMenuActions;var x=t.getVisibilityEnablementMenuActions;var j=t.getMatchingManifestAction;var D=t.getAnnotationMenuActionItems;var U=t.getActionsFromManifest;var B=e.not;var N=e.ifElse;var W=e.getExpressionFromAnnotation;var R=e.equal;var _=e.constant;var q=e.compileExpression;var G=e.and;const J=(e,t)=>e.ID?.toString()||e.Label?.toString()||t;function K(e,t){const n=v();const o=e.getEntityType().annotations?.UI?.HeaderFacets;const i=o?h(o,e,true):[];const a=m(e);let s=[];if(a.length>0){let e=0;t.forEach(function(t){while(i.length>e&&i[e].visible==="false"){s.push(i[e]);e++}if(i.length>e&&(t.key===i[e].key||t.key.slice(t.key.lastIndexOf("::")+2)===i[e].key.slice(i[e].key.lastIndexOf("::")+2))){s.push(i[e]);e++}else{a.forEach(function(e){if(t.key===e.key){s.push(e)}})}})}else{s=i}const r={id:n,key:"EditableHeaderContent",title:"{sap.fe.i18n>T_COMMON_OBJECT_PAGE_HEADER_SECTION}",visible:q(O.IsEditable),subSections:s};return r}f.createEditableHeaderSection=K;function Q(e){const t=e.getEntityType();const n=t.annotations?.UI?.Facets?.map(t=>Y(t,e))||[];return n}function X(e,t){const n=e.getSections();const o=n?.[t];return o?.useSingleTextAreaFieldAsNotes??false}function Y(e,t){const n=p(e);const o=J(e,n);const i=W(e.annotations?.UI?.Hidden,[],false,e=>F(e,t.getConvertedTypes(),[]));const a=X(t.getManifestWrapper(),o);const s={id:n,key:o,title:e.Label?q(W(e.Label)):undefined,showTitle:!!e.Label,visible:q(B(R(i,true))),subSections:h([e],t,undefined,a),useSingleTextAreaFieldAsNotes:a};return s}function Z(e,t){const n={};Object.keys(e).forEach(o=>{n[o]=$(e[o],o,t)});return n}function $(e,t,n){const o=e.id||g(t);let i=e.position;if(!i){i={placement:y.After}}let a;if(!e.subSections){a={[t]:{...e,position:undefined,visible:"true",applyState:undefined,retrieveState:undefined}}}else{a=e.subSections}const s=E(a,n);const r={id:o,key:t,title:e.title,showTitle:!!e.title,visible:e.visible!==undefined?e.visible:"true",position:i,subSections:s,onSectionLoaded:e.onSectionLoaded,applyState:e.applyState,retrieveState:e.retrieveState};return r}const ee=function(e,t){const n=L(e,t);const i=e.getManifestWrapper();const a={isNavigable:S.overwrite,enabled:S.overwrite,visible:S.overwrite,defaultValuesExtensionFunction:S.overwrite,command:S.overwrite,position:S.overwrite,menu:S.overwrite,priority:S.overwrite,group:S.overwrite};const s=U(i.getHeaderActions(),e,n,undefined,undefined,I(e));const r=D(n);const c=j(r,s.actions);const l=b(r,c,a);let d=b(n,s.actions,a);k(d,l);d=V(d);d=x(d);d=o.ensurePrimaryActionNeverOverflows(d);return{actions:d,commandActions:s.commandActions}};f.getHeaderActions=ee;const te=function(e,t){const n=e.getManifestWrapper();const i=P(n.getViewLevel(),e,t);const a=U(n.getFooterActions(),e,i);const s={isNavigable:S.overwrite,enabled:S.overwrite,visible:S.overwrite,defaultValuesExtensionFunction:S.overwrite,command:S.overwrite,position:S.overwrite,priority:S.overwrite,group:S.overwrite};const r=b(i,a.actions,s);const c=o.ensurePrimaryActionNeverOverflows(r);return{actions:c,commandActions:a.commandActions}};f.getFooterActions=te;function ne(e){return e?.presentation?.visualizations[0]?e.presentation.visualizations[0]:undefined}function oe(e,t){return e.visible==="true"&&e?.presentation?.visualizations&&t?.type==="Table"&&t?.control?.type!=="ResponsiveTable"}function ie(e,t,n,o){if(oe(t,n)){const i=n.control;t.dataVisualizationOptions??={};if(!(o==="Page"&&e.length>1)){t.dataVisualizationOptions["rowCountMode"]="Auto";i.rowCountMode="Auto"}if(o!=="Tabs"){t.dataVisualizationOptions["useCondensedTableLayout"]=false;i.useCondensedTableLayout=false}}}function ae(e,t){const n=e?.content?.length===1?e.content[0]:undefined;if(n?.type===A.DataVisualization){const e=(n.presentation?.visualizations[0]).control;if(e.type!=="ResponsiveTable"){n.dataVisualizationOptions??={};n.dataVisualizationOptions["rowCountMode"]="Auto";e.rowCountMode="Auto";if(t!=="Tabs"){n.dataVisualizationOptions["useCondensedTableLayout"]=false;e.useCondensedTableLayout=false}}}}function se(e,t,n){let o;const i=t.subSections;if(i.length===1){const t=i[0];switch(t.type){case"DataVisualization":o=ne(t);ie(e,t,o,n);break;case"Mixed":ae(t,n);break;default:break}return}re(i)}function re(e){let t;e.forEach(e=>{t=e;if(t?.presentation?.visualizations){t?.presentation?.visualizations.forEach(e=>{if(e.type===H.Table){e.control.useCondensedTableLayout=false}})}if(t?.content){t.content.forEach(e=>{e.presentation?.visualizations.forEach(e=>{if(e.type===H.Table){e.control.useCondensedTableLayout=false}})})}})}const ce=function(e){const t=e.getManifestWrapper();const n=b(Q(e),Z(t.getSections(),e),{title:S.overwrite,visible:S.overwrite,subSections:{actions:S.merge,title:S.overwrite,sideContent:S.overwrite,objectPageLazyLoaderEnabled:S.overwrite}});n.forEach(function(e){se(n,e,t.getSectionLayout());e.subSections?.forEach(function(e){e.title=e.title==="undefined"?undefined:e.title;if(e.type==="Mixed"){e.content?.forEach(t=>{t.objectPageLazyLoaderEnabled=e.objectPageLazyLoaderEnabled})}if(e.type==="Mixed"&&e.content?.length){const t=e.content.find(e=>e.type===A.Form);if(e.sideContent){if(t){t.sideContent=e.sideContent}else{e.content[0].sideContent=e.sideContent}e.sideContent=undefined}if(t&&e.actions?.length){t.actions=e.actions;e.actions=[]}}})});return n};f.getSections=ce;function le(e){const t=e.getManifestWrapper();return(e.getEntityType().annotations?.UI?.HeaderFacets||[]).length>0||Object.keys(t.getHeaderFacets()).length>0}function de(e){const t=e.getManifestWrapper();return N(!le(e),_(false),N(R(t.isHeaderEditable(),false),_(true),B(O.IsEditable)))}const ue=function(e){return q(de(e))};f.getShowHeaderContent=ue;const fe=function(e){const t=e?.getEntitySet(),n=e.getEntityType(),o=W(i.isUpdateHidden(t,n));const a=i.getRootEntitySetPath(e.getContextPath());const s=e.getConverterContextFor("/"+a);const r=W(i.isUpdateHidden(s.getEntitySet(),s.getEntityType()));const c=i.isObjectPathDraftSupported(e.getDataModelObjectPath());const l=i.isSticky(e.getDataModelObjectPath().startingEntitySet);if(!c&&!l){return q(false)}const d=e.getManifestWrapper().getViewLevel();const u=d>1?t?.annotations.Capabilities?.UpdateRestrictions?.Updatable:undefined;const f=z(e,u,d);return q(N(d>1,G(B(o),O.IsEditable,f),G(B(o),B(r),f)))};f.getEasyFillVisible=fe;const pe=function(e){return q(B(de(e)))};f.getExpandedImageVisible=pe;const ve=function(e,t){const n=e.getManifestWrapper();let o;const i=e.getEntityType();const a=b(C(e),w(n.getHeaderFacets()));const s=ee(e,t);const r=te(e,t);if(n.isHeaderEditable()&&(i.annotations.UI?.HeaderFacets||i.annotations.UI?.HeaderInfo)){o=K(e,a)}const c=ce(e);return{template:M.ObjectPage,header:{visible:n.getShowObjectPageHeader(),section:o,facets:a,actions:s.actions,easyFillVisible:fe(e),showContent:ue(e),hasContent:le(e),avatar:T(e),title:{expandedImageVisible:pe(e)}},sections:c,footerActions:r.actions,headerCommandActions:s.commandActions,footerCommandActions:r.commandActions,showAnchorBar:n.getShowAnchorBar(),useIconTabBar:n.useIconTabBar(),transportSelection:n.getTransportSelection()}};f.convertPage=ve;return f},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2024 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/definition/FEDefinition", [],function(){var e;(function(){"use strict";var t={42:function(e,t){Object.defineProperty(t,"__esModule",{value:true});t.Placement=t.BaseDefinition=void 0;t.annotation=o;t.configurable=i;let n=t.Placement=function(e){e["After"]="After";e["Before"]="Before";e["End"]="End";return e}({});class r{constructor(e,t){this.annotationPath=e?.getPath();for(const e in this.__configurableProperties){const n=this.__configurableProperties[e];if(n){const r=t[n.aliasFor];if(r!==undefined){this[e]=n.validator(r)}else if(n.defaultValue!==undefined){this[e]=n.defaultValue}}}const n=e?.getTarget();if(n){for(const e in this.__annotationProperties){const t=this.__annotationProperties[e];if(t){const r=n.annotations._annotations?.[t.term];if(r!==undefined&&r!==null){this[e]=r.valueOf()}else if(t.defaultValue!==undefined){this[e]=t.defaultValue}}}}}getConfiguration(){const e={};for(const t in this.__configurableProperties){const n=this.__configurableProperties[t];if(n){e[n.aliasFor]=this[t]}}return e}}t.BaseDefinition=r;function a(e){return e}function i(e={}){return function(t,n,r){const i={name:n,validator:e.validator||a,aliasFor:e.aliasFor||n,defaultValue:r.initializer?.()};const o=t.constructor.prototype;if(!o.__configurableProperties){o.__configurableProperties={}}delete r?.initializer;o.__configurableProperties[n]=i}}function o(e){return function(t,n,r){const a={name:n,term:e.term,defaultValue:r.initializer?.()};const i=t.constructor.prototype;if(!i.__annotationProperties){i.__annotationProperties={}}i.__annotationProperties[n]=a;delete r.initializer;return r}}},156:function(e,t,n){Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var r=n(890);function a(e,t){if(t){if(t.startsWith("/")){return t}else if(t.startsWith("@")){return e+t}else if(!e.endsWith("/")){return e+"/"+t}else{return e+t}}return e}class i{constructor(e,t,n){this.convertedMetadata=e;this.metaPath=t;this.contextPath=n;this.navigationProperties=[];this.contextNavigationProperties=[];this.absolutePath=a(n,t);this.relativePath=this.absolutePath.replace(n,"");if(this.relativePath.startsWith("/")){this.relativePath=this.relativePath.substring(1)}const i=this.convertedMetadata.resolvePath(this.absolutePath);const o=this.convertedMetadata.resolvePath(n);if(i.target===undefined||i.target===null){throw new Error(`No annotation target found for ${t}`)}this.targetObject=i.target;let s;let u;let l;let c=[];i.objectPath.forEach(e=>{if((0,r.isServiceObject)(e)){switch(e._type){case"NavigationProperty":c.push(e.name);this.navigationProperties.push(e);l=e.targetType;if(u?.navigationPropertyBinding.hasOwnProperty(c.join("/"))){u=u.navigationPropertyBinding[c.join("/")];c=[]}break;case"EntitySet":if(s===undefined){s=e}u=e;l=u.entityType;break;case"EntityType":if(l===undefined){l=e}break;default:break}}});o.objectPath.forEach(e=>{s=this.getResolvedContextPath(e,l,s)});if(s===undefined||l===undefined){throw new Error("MetaPath doesn't contain an entitySet -> Should never happen")}this.serviceObjectPath="/"+s.name;if(this.navigationProperties.length){this.serviceObjectPath+="/"+this.navigationProperties.map(e=>e.name).join("/")}this.rootEntitySet=s;this.currentEntitySet=u;this.currentEntityType=l}getResolvedContextPath(e,t,n){if((0,r.isServiceObject)(e)){switch(e._type){case"NavigationProperty":this.contextNavigationProperties.push(e);break;case"EntitySet":if(this.contextRootEntitySet===undefined){this.contextRootEntitySet=e}if(n===undefined&&e.entityType===t){n=e}break;default:break}}return n}getContextPath(){return this.contextPath}getPath(e){return a(this.absolutePath,e)}getRelativePath(e){return a(this.relativePath,e)}getTarget(){return this.targetObject}getClosestEntitySet(){let e=this.rootEntitySet;for(const t of this.navigationProperties){const n=e.navigationPropertyBinding[t.name];if(n){e=n}}return e}getClosestEntityType(){let e=this.rootEntitySet.entityType;for(const t of this.navigationProperties){e=t.targetType}return e}getContextClosestEntitySet(){let e=this.contextRootEntitySet;if(e===undefined){return e}const t=e;for(const n of this.contextNavigationProperties){if(t.navigationPropertyBinding[n.name]){e=t.navigationPropertyBinding[n.name]}}return e}getNavigationProperties(){return this.navigationProperties}getMetaPathForClosestEntitySet(){return new i(this.convertedMetadata,"",this.getClosestEntitySet().fullyQualifiedName)}getMetaPathForPath(e){try{return new i(this.convertedMetadata,a(this.serviceObjectPath,e),this.contextPath)}catch(e){return undefined}}getMetaPathForObject(e){if((0,r.isAnnotationPath)(e)){return this.getMetaPathForPath(e.value)}else if((0,r.isPathAnnotationExpression)(e)){return this.getMetaPathForPath(e.path)}else{const t=e.fullyQualifiedName.replace(this.rootEntitySet.entityType.fullyQualifiedName,this.contextPath);return new i(this.convertedMetadata,t,this.contextPath)}}getConvertedMetadata(){return this.convertedMetadata}}t["default"]=i},227:function(e,t,n){Object.defineProperty(t,"__esModule",{value:true});t["default"]=t.FilterField=void 0;var r=n(42);var a=y(n(779));var i=n(890);var o,s,u,l,c,f,p,d,h,m;function y(e){return e&&e.__esModule?e:{default:e}}function g(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function v(e,t,n){return(t=P(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function P(e){var t=b(e,"string");return"symbol"==typeof t?t:t+""}function b(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function F(e,t,n,r,a){var i={};return Object.keys(r).forEach(function(e){i[e]=r[e]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(n,r){return r(e,t,n)||n},i),a&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(a):void 0,i.initializer=void 0),void 0===i.initializer?(Object.defineProperty(e,t,i),null):i}function _(e,t){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let I=t.FilterField=(o=(0,r.configurable)(),s=(0,r.configurable)(),u=(0,r.configurable)(),l=(0,r.configurable)(),c=(0,r.configurable)(),f=class e extends r.BaseDefinition{get name(){return this.filterFieldProperty.getTarget().name}get isParameter(){return!!this.filterFieldProperty.getClosestEntityType().annotations.Common?.ResultContext}get label(){return this.filterFieldProperty.getTarget().annotations.Common?.Label?.toString()??this.filterFieldProperty.getTarget().name}constructor(e,t){super(e,t);g(this,"group",p,this);g(this,"groupLabel",d,this);g(this,"visible",h,this);g(this,"required",m,this);this.filterFieldProperty=e}getTarget(){return this.filterFieldProperty.getTarget()}},p=F(f.prototype,"group",[o],{configurable:true,enumerable:true,writable:true,initializer:null}),d=F(f.prototype,"groupLabel",[s],{configurable:true,enumerable:true,writable:true,initializer:null}),h=F(f.prototype,"visible",[u],{configurable:true,enumerable:true,writable:true,initializer:null}),m=F(f.prototype,"required",[l],{configurable:true,enumerable:true,writable:true,initializer:null}),F(f.prototype,"name",[c],Object.getOwnPropertyDescriptor(f.prototype,"name"),f.prototype),f);class T{constructor(e,t,n){this.selectionFields=e;this.filterBarConfiguration=t;this.metaPath=n}isParameterizedEntitySet(){const e=this.metaPath.getTarget();if(e._type==="NavigationProperty"&&e.containsTarget){return this.metaPath.getClosestEntitySet().entityType.annotations.Common?.ResultContext!==undefined}return false}getFilterGroups(){const e=this.metaPath.getClosestEntityType().annotations.UI?.FilterFacets;const t={};if(!e){const e=Object.keys(this.metaPath.getClosestEntityType().annotations.UI??{}).filter(e=>e.startsWith("FieldGroup")).map(e=>this.metaPath.getClosestEntityType().annotations.UI?.[e]);for(const n of e){n.Data.forEach(e=>{switch(e.$Type){case"com.sap.vocabularies.UI.v1.DataField":{const r=e.Value;if((0,i.isPathAnnotationExpression)(r)&&r.$target){t[r.$target.fullyQualifiedName]={group:n.fullyQualifiedName,groupLabel:n.Label?.toString()??n.annotations?.Common?.Label?.toString()??n.qualifier}}break}default:break}})}}else{e.forEach(e=>{const n=e.Target.$target;if((0,i.isAnnotationOfType)(n,"com.sap.vocabularies.UI.v1.FieldGroupType")){n.Data.forEach(n=>{switch(n.$Type){case"com.sap.vocabularies.UI.v1.DataField":{const r=n.Value;if((0,i.isPathAnnotationExpression)(r)&&r.$target){t[r.$target.fullyQualifiedName]={group:e.ID?.toString(),groupLabel:e.Label?.toString()}}break}default:break}})}})}return t}getFilterFields(){const e=this.getFilterGroups();const t={};let n=[];if(this.isParameterizedEntitySet()){const r=this.metaPath.getMetaPathForClosestEntitySet();n=r.getClosestEntityType().entityProperties.map(n=>{const a=r.getMetaPathForPath(n.name);if(a){t[a.getTarget().fullyQualifiedName]=true;return new I(a,{group:e[a.getTarget().fullyQualifiedName]?.group,groupLabel:e[a.getTarget().fullyQualifiedName]?.groupLabel,visible:true,required:true,isParameter:true})}}).filter(e=>!!e)}const r=new a.default(this.metaPath).getRequiredProperties();const o=this.selectionFields.filter(i.isValidPropertyPathExpression).map(n=>{const a=this.metaPath.getMetaPathForPath(n.value);if(a&&!t[a.getTarget().fullyQualifiedName]){t[a.getTarget().fullyQualifiedName]=true;return new I(a,{group:e[a.getTarget().fullyQualifiedName]?.group,groupLabel:e[a.getTarget().fullyQualifiedName]?.groupLabel,visible:true,required:r.includes(a.getTarget())})}}).filter(e=>!!e);const s=new a.default(this.metaPath).getNonFilterableProperties();this.metaPath.getClosestEntityType().entityProperties.forEach(n=>{if(!t[n.fullyQualifiedName]&&!s.includes(n)&&n.targetType===undefined&&n.annotations.UI?.Hidden?.valueOf()!==true){t[n.fullyQualifiedName]=true;o.push(new I(this.metaPath.getMetaPathForPath(n.name),{group:e[n.fullyQualifiedName]?.group,groupLabel:e[n.fullyQualifiedName]?.groupLabel,visible:false}))}});return[...n,...o]}isSearchSupported(){return new a.default(this.metaPath).isSearchAllowed()}}t["default"]=T},465:function(e,t,n){Object.defineProperty(t,"__esModule",{value:true});t.DefinitionPage=void 0;var r=s(n(227));var a=n(674);var i=n(893);var o=n(526);function s(e){return e&&e.__esModule?e:{default:e}}class u{constructor(e){this.metaPath=e}getMetaPath(){return this.metaPath}getIdentification(){const e=this.metaPath.getClosestEntityType();const t=e.annotations.UI?.Identification;if(t){return new i._Identification(t,this.metaPath)}else{return undefined}}getHeaderInfo(){const e=this.metaPath.getClosestEntityType();const t=e.annotations.UI?.HeaderInfo;if(t){return new a._HeaderInfo(t,this.metaPath)}else{return undefined}}getTableVisualization(){return o._LineItem.fromSPV(this._getTableVisualizationAnnotation(),this.metaPath)}getFilterBarDefinition(e){const t=this.metaPath.getClosestEntityType();let n=t.annotations.UI?.SelectionFields;if(!n){n=Object.assign([],{term:"com.sap.vocabularies.UI.v1.SelectionFields"})}return new r.default(n,e,this.metaPath)}createDefaultTableVisualization(){return o._LineItem.createDefault(this.metaPath)}_getTableVisualizationAnnotation(){const e=this.metaPath.getClosestEntityType();const t=e.annotations.UI?.SelectionPresentationVariant;if(t){if(t.PresentationVariant.Visualizations.find(e=>e.$target?.term==="com.sap.vocabularies.UI.v1.LineItem")){return t}}const n=e.annotations.UI?.PresentationVariant;if(n?.Visualizations){if(n.Visualizations.find(e=>e.$target?.term==="com.sap.vocabularies.UI.v1.LineItem")){return n}}return e.annotations.UI?.LineItem}}t.DefinitionPage=u},16:function(e,t,n){Object.defineProperty(t,"__esModule",{value:true});var r={FilterField:true,DefinitionPage:true,_DataField:true,_LineItem:true,DefinitionContext:true,QueryBuilder:true,FORMATTERS_PATH:true,formatters:true};Object.defineProperty(t,"DefinitionContext",{enumerable:true,get:function(){return u.DefinitionContext}});Object.defineProperty(t,"DefinitionPage",{enumerable:true,get:function(){return i.DefinitionPage}});Object.defineProperty(t,"FORMATTERS_PATH",{enumerable:true,get:function(){return c.FORMATTERS_PATH}});Object.defineProperty(t,"FilterField",{enumerable:true,get:function(){return a.FilterField}});Object.defineProperty(t,"QueryBuilder",{enumerable:true,get:function(){return l.QueryBuilder}});Object.defineProperty(t,"_DataField",{enumerable:true,get:function(){return o._DataField}});Object.defineProperty(t,"_LineItem",{enumerable:true,get:function(){return s._LineItem}});Object.defineProperty(t,"formatters",{enumerable:true,get:function(){return c.formatters}});var a=n(227);var i=n(465);var o=n(703);var s=n(526);var u=n(666);var l=n(139);var c=n(507);var f=n(890);Object.keys(f).forEach(function(e){if(e==="default"||e==="__esModule")return;if(Object.prototype.hasOwnProperty.call(r,e))return;if(e in t&&t[e]===f[e])return;Object.defineProperty(t,e,{enumerable:true,get:function(){return f[e]}})})},666:function(e,t,n){Object.defineProperty(t,"__esModule",{value:true});t.DefinitionContext=void 0;var r=i(n(156));var a=n(465);function i(e){return e&&e.__esModule?e:{default:e}}class o{constructor(e){this.convertedMetadata=e}addApplicationManifest(e){this.manifest=e}getEntitySets(){return this.convertedMetadata.entitySets}getEntitySet(e){return this.convertedMetadata.entitySets.by_name(e)}getRootEntitySet(){if(this.manifest){const e=":?query:";const t=(this.manifest["sap.ui5"]?.routing?.routes).find(t=>t.pattern===e);if(t?.target&&this.manifest["sap.ui5"]?.routing?.targets){const e=this.manifest["sap.ui5"].routing.targets[t.target];if(e?.name){const t=e.options;const n=t?.settings;const r=this.convertedMetadata.resolvePath(n?.contextPath??`${n?.entitySet}`);return r.target}}}}getMetaPath(e,t){return new r.default(this.convertedMetadata,e,t)}getPageFor(e){return new a.DefinitionPage(new r.default(this.convertedMetadata,e,e))}getVersion(){const e=this.convertedMetadata.version.match(/^(\d+)\.(\d+)$/);if(!e){throw new Error("Invalid version format")}return{major:parseInt(e[1],10),minor:parseInt(e[2],10)}}}t.DefinitionContext=o},779:function(e,t,n){Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var r=n(42);class a extends r.BaseDefinition{constructor(e,t={}){super(e,t);this.entitySet=e;this.entitySetConfiguration=t}getRequiredProperties(){const e=this.entitySet.getTarget().annotations.Capabilities?.FilterRestrictions?.RequiredProperties??[];return e.map(e=>e.$target).filter(e=>!!e)}getNonFilterableProperties(){const e=this.entitySet.getTarget().annotations.Capabilities?.FilterRestrictions?.NonFilterableProperties??[];return e.map(e=>e.$target).filter(e=>!!e)}getAllowedFilterExpression(e){const t=this.entitySet.getTarget().annotations.Capabilities?.FilterRestrictions?.FilterExpressionRestrictions??[];const n=t.filter(t=>t.Property?.$target===e);return n.map(e=>e.AllowedExpressions).filter(e=>!!e)}isSearchAllowed(){return!!this.entitySet.getTarget().annotations.Capabilities?.SearchRestrictions?.Searchable}}t["default"]=a},139:function(e,t,n){Object.defineProperty(t,"__esModule",{value:true});t.QueryBuilder=void 0;var r=n(678);function a(e,t,n){return(t=i(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e){var t=o(e,"string");return"symbol"==typeof t?t:t+""}function o(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}class s{constructor(e,t){a(this,"paths",new Set);this.contextMetaPath=e;this.definitionContext=t}addPathsFromExpression(e){(0,r.transformRecursively)(e,"PathInModel",e=>{this.addPath(e.path);return e},true)}addPath(e){this.paths.add(e)}buildQuery(){let e;if(this.definitionContext.getVersion().major>=4){e=this.createQueryV4(this.paths)}else{e=this.createQueryV2(this.paths)}return e}createQueryV2(e){const t=[];const n=new Set;e.forEach(e=>{const r=e.split("/");const a=this.contextMetaPath.getMetaPathForPath(e);const i=r[0];if(i&&this.isNavigationProperty(i,a?.getNavigationProperties()??[])){n.add(i)}else{t.push(e)}});const r={$format:"json",$select:t.join(",")};if(n.size>0){r.$expand=Array.from(n).join(",")}return r}createQueryV4(e){const t={name:"",$select:new Set,$expand:new Map};e.forEach(e=>{const n=e.split("/");const r=this.contextMetaPath.getMetaPathForPath(e);const a=r?.getNavigationProperties()??[];this.processPathRecursiveV4(n,t,a)});const n={$format:"json",$select:Array.from(t.$select).join(",")};if(t.$expand.size>0){n.$expand=Array.from(t.$expand.values()).map(u).join(",")}return n}processPathRecursiveV4(e,t,n){let r;const a=e[0];if(a&&this.isNavigationProperty(a,n)){r=t.$expand.get(a);if(!r){r={name:a,$select:new Set,$expand:new Map}}t.$expand.set(a,r);if(e.length===2){r.$select.add(e[1]??"")}else{this.processPathRecursiveV4(e.slice(1),r,n.slice(1))}}else{t.$select.add(e.join("/"))}}isNavigationProperty(e,t){const n=this.contextMetaPath.getNavigationProperties().length;return t.length>n&&e===t[n]?.name}}t.QueryBuilder=s;function u(e){const t=l(e.$select);const n=Array.from(e.$expand.values()).map(u).join(",");const r=n.length>0?`$expand=${n}`:"";const a=t.length>0&&r.length>0?";":"";return`${e.name}(${t}${a}${r})`}function l(e){return e.size>0?`$select=${Array.from(e).join(",")}`:""}},703:function(e,t,n){Object.defineProperty(t,"__esModule",{value:true});t._DataField=void 0;var r=n(678);var a=o(n(507));var i=n(890);function o(e){return e&&e.__esModule?e:{default:e}}class s{constructor(e,t){this.dataField=e;this.scopedContextMetaPath=t}getValue(){if(!(0,i.isAnnotationOfType)(this.dataField,"com.sap.vocabularies.UI.v1.DataFieldForAnnotation")){return(0,r.getExpressionFromAnnotation)(this.dataField.Value)}return r.unresolvableExpression}getFormattedValue(){if(!(0,i.isAnnotationOfType)(this.dataField,"com.sap.vocabularies.UI.v1.DataFieldForAnnotation")){const e=(0,r.getExpressionFromAnnotation)(this.dataField.Value,this.scopedContextMetaPath.getNavigationProperties().map(e=>e.name));return(0,r.transformRecursively)(e,"PathInModel",e=>{const t=this.scopedContextMetaPath.getMetaPathForPath(e.ownPath);if(!t){return r.unresolvableExpression}const n=this.getMeasure(t);if(n){return(0,r.concat)(e," ",n)}const i=this.getDisplayMode(t);if(i!=="Value"){const n=(0,r.getExpressionFromAnnotation)(t.getTarget().annotations.Common?.Text,t.getNavigationProperties().map(e=>e.name));if(i==="Description"){return n}else if(i==="DescriptionValue"){return(0,r.formatResult)([n,e],a.default.formatWithBrackets)}else if(i==="ValueDescription"){return(0,r.formatResult)([e,n],a.default.formatWithBrackets)}}return e})}return r.unresolvableExpression}getMeasure(e){const t=e.getTarget().annotations.Measures;if(t){const e=t.Unit??t.ISOCurrency;if(e){return(0,r.getExpressionFromAnnotation)(e)}}return undefined}getDisplayMode(e){const t=e.getClosestEntityType();const n=e.getTarget().annotations.Common?.Text;const r=n?.annotations?.UI?.TextArrangement??t.annotations.UI?.TextArrangement;let a=n?"DescriptionValue":"Value";if(n&&r!=null){if(r==="UI.TextArrangementType/TextOnly"){a="Description"}else if(r==="UI.TextArrangementType/TextLast"){a="ValueDescription"}else if(r==="UI.TextArrangementType/TextSeparate"){a="Value"}else{a="DescriptionValue"}}return a}getLabel(){let e=this.dataField.Label?.toString()??this.dataField.annotations?.Common?.Label?.toString();if(!e){e=this.dataField.fullyQualifiedName;if((0,i.isAnnotationOfType)(this.dataField,"com.sap.vocabularies.UI.v1.DataFieldForAnnotation")){const t=this.dataField.Target.$target;if((0,i.isAnnotationOfType)(t,"com.sap.vocabularies.UI.v1.FieldGroupType")&&t.Label){e=t.Label.toString()}}else{const t=this.dataField.Value;if((0,i.isPathAnnotationExpression)(t)){e=t.$target?.annotations.Common?.Label?.toString()??t.$target?.name??t.path}}}return e}getProperty(){if(!(0,i.isAnnotationOfType)(this.dataField,"com.sap.vocabularies.UI.v1.DataFieldForAnnotation")){const e=this.dataField.Value;if(e&&(0,i.isPathAnnotationExpression)(e)){return e.$target}}return undefined}getFullyQualifiedName(){return this.dataField.fullyQualifiedName}}t._DataField=s},674:function(e,t,n){Object.defineProperty(t,"__esModule",{value:true});t._HeaderInfo=void 0;var r=n(703);class a{constructor(e,t){this.info=e;this.pageMetaPath=t}getFullyQualifiedName(){return this.info.fullyQualifiedName}getTitle(){return this.info.Title?new r._DataField(this.info.Title,this.pageMetaPath):undefined}getDescription(){return this.info.Description?new r._DataField(this.info.Description,this.pageMetaPath):undefined}getTypeName(){return this.info.TypeName.toString()}}t._HeaderInfo=a},893:function(e,t,n){Object.defineProperty(t,"__esModule",{value:true});t._Identification=void 0;var r=n(703);class a{constructor(e,t){this.id=e;this.pageMetaPath=t}getDataFields(e){return this.id.filter(t=>{if(e?.restrictTypes&&!e.restrictTypes.includes(t.$Type)){return false}switch(t.$Type){case"com.sap.vocabularies.UI.v1.DataField":case"com.sap.vocabularies.UI.v1.DataFieldWithUrl":case"com.sap.vocabularies.UI.v1.DataFieldWithAction":case"com.sap.vocabularies.UI.v1.DataFieldWithActionGroup":case"com.sap.vocabularies.UI.v1.DataFieldWithIntentBasedNavigation":case"com.sap.vocabularies.UI.v1.DataFieldWithNavigationPath":case"com.sap.vocabularies.UI.v1.DataFieldForAnnotation":case"com.sap.vocabularies.UI.v1.DataFieldForAction":case"com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation":case"com.sap.vocabularies.UI.v1.DataFieldForActionGroup":return e?.importance===undefined||e.importance.includes(t.annotations?.UI?.Importance?.toString());default:return false}}).map(e=>new r._DataField(e,this.pageMetaPath))}}t._Identification=a},526:function(e,t,n){Object.defineProperty(t,"__esModule",{value:true});t._LineItem=void 0;var r=n(703);class a{constructor(e,t){this.lineItem=e;this.pageMetaPath=t}static createDefault(e){const t=e.getClosestEntityType().entityProperties.map(e=>{if(e.annotations.UI?.DataFieldDefault){return e.annotations.UI.DataFieldDefault}else{return{$Type:"com.sap.vocabularies.UI.v1.DataField",Value:{type:"Path",path:e.name,$target:e}}}});t.term="com.sap.vocabularies.UI.v1.LineItem";return new a(t,e)}static fromSPV(e,t){switch(e?.term){case"com.sap.vocabularies.UI.v1.LineItem":return new a(e,t);case"com.sap.vocabularies.UI.v1.PresentationVariant":return new a(e.Visualizations[0].$target,t);case"com.sap.vocabularies.UI.v1.SelectionPresentationVariant":return new a(e.PresentationVariant.Visualizations[0].$target,t);case undefined:return undefined}}getActions(){return this.lineItem.filter(e=>e.$Type==="com.sap.vocabularies.UI.v1.DataFieldForAction")}getHeaderActions(){return this.getActions().filter(e=>e.Determining===true)}getDataFields(e){return this.lineItem.filter(t=>{if(e?.restrictTypes&&!e.restrictTypes.includes(t.$Type)){return false}switch(t.$Type){case"com.sap.vocabularies.UI.v1.DataField":case"com.sap.vocabularies.UI.v1.DataFieldWithUrl":case"com.sap.vocabularies.UI.v1.DataFieldWithAction":case"com.sap.vocabularies.UI.v1.DataFieldWithActionGroup":case"com.sap.vocabularies.UI.v1.DataFieldWithIntentBasedNavigation":case"com.sap.vocabularies.UI.v1.DataFieldWithNavigationPath":case"com.sap.vocabularies.UI.v1.DataFieldForAnnotation":case"com.sap.vocabularies.UI.v1.DataFieldForAction":case"com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation":case"com.sap.vocabularies.UI.v1.DataFieldForActionGroup":return e?.importance===undefined||e.importance.includes(t.annotations?.UI?.Importance?.toString());default:return false}}).map(e=>new r._DataField(e,this.pageMetaPath))}}t._LineItem=a},678:function(e,t){Object.defineProperty(t,"__esModule",{value:true});t._checkExpressionsAreEqual=a;t.and=s;t.annotationApplyExpression=A;t.annotationIfExpression=w;t.concat=H;t.constant=d;t.equal=j;t.fn=G;t.formatResult=z;t.getExpressionFromAnnotation=O;t.getFiscalType=void 0;t.greaterOrEqual=V;t.greaterThan=L;t.hasUnresolvableExpression=r;t.ifElse=k;t.isComplexTypeExpression=_;t.isConstant=v;t.isEmpty=q;t.isExpression=g;t.isPathInModelExpression=F;t.isTruthy=c;t.isUndefinedExpression=$;t.length=D;t.lessOrEqual=R;t.lessThan=B;t.not=l;t.notEqual=U;t.objectPath=f;t.or=u;t.pathInModel=p;t.ref=m;t.resolveBindingString=h;t.transformRecursively=Y;t.unresolvableExpression=void 0;t.wrapPrimitive=y;const n=t.unresolvableExpression={_type:"Unresolvable"};function r(...e){return e.find(e=>e._type==="Unresolvable")!==undefined}function a(e,t){if(!e||!t){return false}if(e._type!==t._type){return false}switch(e._type){case"Unresolvable":return false;case"Constant":case"EmbeddedBinding":case"EmbeddedExpressionBinding":return e.value===t.value;case"Not":return a(e.operand,t.operand);case"Truthy":return a(e.operand,t.operand);case"Set":return e.operator===t.operator&&e.operands.length===t.operands.length&&e.operands.every(e=>t.operands.some(t=>a(e,t)));case"IfElse":return a(e.condition,t.condition)&&a(e.onTrue,t.onTrue)&&a(e.onFalse,t.onFalse);case"Comparison":return e.operator===t.operator&&a(e.operand1,t.operand1)&&a(e.operand2,t.operand2);case"Concat":{const n=e.expressions;const r=t.expressions;if(n.length!==r.length){return false}return n.every((e,t)=>a(e,r[t]))}case"Length":return a(e.pathInModel,t.pathInModel);case"PathInModel":return e.modelName===t.modelName&&e.path===t.path&&e.targetEntitySet===t.targetEntitySet;case"Formatter":return e.fn===t.fn&&e.parameters.length===t.parameters.length&&e.parameters.every((e,n)=>a(t.parameters[n],e));case"ComplexType":return e.type===t.type&&e.bindingParameters.length===t.bindingParameters.length&&e.bindingParameters.every((e,n)=>a(t.bindingParameters[n],e));case"Function":const n=t;if(e.obj===undefined||n.obj===undefined){return e.obj===n}return e.fn===n.fn&&a(e.obj,n.obj)&&e.parameters.length===n.parameters.length&&e.parameters.every((e,t)=>a(n.parameters[t],e));case"Ref":return e.ref===t.ref}return false}function i(e){return e.operands.reduce((t,n)=>{const r=n._type==="Set"&&n.operator===e.operator?n.operands:[n];r.forEach(e=>{if(t.operands.every(t=>!a(t,e))){t.operands.push(e)}});return t},{_type:"Set",operator:e.operator,operands:[]})}function o(e){const t=e.map(l);return e.some((e,n)=>{for(let r=n+1;r<t.length;r++){if(a(e,t[r])){return true}}return false})}function s(...e){const t=i({_type:"Set",operator:"&&",operands:e.map(y)}).operands;if(r(...t)){return n}let a=false;const s=t.filter(e=>{if(b(e)){a=true}return!v(e)});if(a){return d(false)}else if(s.length===0){const e=t.reduce((e,t)=>e&&P(t),true);return d(e)}else if(s.length===1){return s[0]}else if(o(s)){return d(false)}else{return{_type:"Set",operator:"&&",operands:s}}}function u(...e){const t=i({_type:"Set",operator:"||",operands:e.map(y)}).operands;if(r(...t)){return n}let a=false;const s=t.filter(e=>{if(P(e)){a=true}return!v(e)||e.value});if(a){return d(true)}else if(s.length===0){const e=t.reduce((e,t)=>e&&P(t),true);return d(e)}else if(s.length===1){return s[0]}else if(o(s)){return d(true)}else{return{_type:"Set",operator:"||",operands:s}}}function l(e){e=y(e);if(r(e)){return n}else if(v(e)){return d(!e.value)}else if(typeof e==="object"&&e._type==="Set"&&e.operator==="||"&&e.operands.every(e=>v(e)||E(e))){return s(...e.operands.map(e=>l(e)))}else if(typeof e==="object"&&e._type==="Set"&&e.operator==="&&"&&e.operands.every(e=>v(e)||E(e))){return u(...e.operands.map(e=>l(e)))}else if(E(e)){switch(e.operator){case"!==":return{...e,operator:"==="};case"<":return{...e,operator:">="};case"<=":return{...e,operator:">"};case"===":return{...e,operator:"!=="};case">":return{...e,operator:"<="};case">=":return{...e,operator:"<"}}}else if(e._type==="Not"){return e.operand}return{_type:"Not",operand:e}}function c(e){if(v(e)){return d(!!e.value)}else{return{_type:"Truthy",operand:e}}}function f(e,t,n=[],r){return p(e,t,n,r)}function p(e,t,r=[],a){if(e===undefined){return n}let i;if(a){i=a(e);if(i===undefined){return n}}else{const t=r.concat();t.push(e);i=t.join("/")}return{_type:"PathInModel",modelName:t,path:i,ownPath:e}}function d(e){let t;if(typeof e==="object"&&e!==null&&e!==undefined){if(Array.isArray(e)){t=e.map(y)}else if(x(e)){t=e.valueOf()}else{t=Object.entries(e).reduce((e,[t,n])=>{const r=y(n);if(r._type!=="Constant"||r.value!==undefined){e[t]=r}return e},{})}}else{t=e}return{_type:"Constant",value:t}}function h(e,t){if(e!==undefined&&typeof e==="string"&&e.startsWith("{")){const t=/^{(.*)>(.+)}$/;const n=t.exec(e);if(e.startsWith("{=")){return{_type:"EmbeddedExpressionBinding",value:e}}else if(n){return p(n[2]||"",n[1]||undefined)}else{return{_type:"EmbeddedBinding",value:e}}}else if(t==="boolean"&&typeof e==="string"&&(e==="true"||e==="false")){return d(e==="true")}else if(t==="number"&&typeof e==="string"&&(!isNaN(Number(e))||e==="NaN")){return d(Number(e))}else{return d(e)}}function m(e){return{_type:"Ref",ref:e}}function y(e){if(g(e)){return e}return d(e)}function g(e){return e?._type!==undefined}function v(e){return typeof e!=="object"||e._type==="Constant"}function P(e){return v(e)&&e.value===true}function b(e){return v(e)&&e.value===false}function F(e){return e._type==="PathInModel"}function _(e){return e._type==="ComplexType"}function I(e){return e._type==="Concat"}function T(e){return e._type==="IfElse"}function E(e){return e._type==="Comparison"}function $(e){const t=e;return t._type==="Constant"&&t.value===undefined}function x(e){switch(e.constructor.name){case"String":case"Number":case"Boolean":return true;default:return false}}function S(e){return typeof e==="object"&&!x(e)}function O(e,t=[],r,a){if(e===undefined){return y(r)}e=e.valueOf();if(!S(e)){return d(e)}switch(e.type){case"Path":return p(e.path,undefined,t,a);case"If":return w(e.$If,t,a);case"Not":return l(C(e.$Not,t,a));case"Eq":return j(C(e.$Eq[0],t,a),C(e.$Eq[1],t,a));case"Ne":return U(C(e.$Ne[0],t,a),C(e.$Ne[1],t,a));case"Gt":return L(C(e.$Gt[0],t,a),C(e.$Gt[1],t,a));case"Ge":return V(C(e.$Ge[0],t,a),C(e.$Ge[1],t,a));case"Lt":return B(C(e.$Lt[0],t,a),C(e.$Lt[1],t,a));case"Le":return R(C(e.$Le[0],t,a),C(e.$Le[1],t,a));case"Or":return u(...e.$Or.map(function(e){return C(e,t,a)}));case"And":return s(...e.$And.map(function(e){return C(e,t,a)}));case"Apply":return A(e,t,a);case"Constant":return d(e.value)}return n}function C(e,t=[],n){if(e===null||typeof e!=="object"){return d(e)}else if(e.hasOwnProperty("$Or")){return u(...e.$Or.map(function(e){return C(e,t,n)}))}else if(e.hasOwnProperty("$And")){return s(...e.$And.map(function(e){return C(e,t,n)}))}else if(e.hasOwnProperty("$Not")){return l(C(e.$Not,t,n))}else if(e.hasOwnProperty("$Eq")){return j(C(e.$Eq[0],t,n),C(e.$Eq[1],t,n))}else if(e.hasOwnProperty("$Ne")){return U(C(e.$Ne[0],t,n),C(e.$Ne[1],t,n))}else if(e.hasOwnProperty("$Gt")){return L(C(e.$Gt[0],t,n),C(e.$Gt[1],t,n))}else if(e.hasOwnProperty("$Ge")){return V(C(e.$Ge[0],t,n),C(e.$Ge[1],t,n))}else if(e.hasOwnProperty("$Lt")){return B(C(e.$Lt[0],t,n),C(e.$Lt[1],t,n))}else if(e.hasOwnProperty("$Le")){return R(C(e.$Le[0],t,n),C(e.$Le[1],t,n))}else if(e.hasOwnProperty("$Path")){return p(e.$Path,undefined,t,n)}else if(e.hasOwnProperty("Path")){return p(e.Path,undefined,t,n)}else if(e.hasOwnProperty("$Apply")){return O({type:"Apply",$Function:e.$Function,$Apply:e.$Apply},t,undefined,n)}else if(e.hasOwnProperty("$If")){return O({type:"If",$If:e.$If},t,undefined,n)}else if(e.hasOwnProperty("$EnumMember")){return d(e.$EnumMember)}else if(e.hasOwnProperty("String")){return d(e.String)}else if(e.hasOwnProperty("Bool")){return d(e.Bool)}else if(e.hasOwnProperty("Int")){return d(e.Int)}else if(e.hasOwnProperty("Decimal")){return d(e.Decimal)}else if(e.hasOwnProperty("type")&&e.type==="Null"){return d(null)}return d(false)}function w(e,t=[],n){return k(C(e[0],t,n),C(e[1],t,n),C(e[2],t,n))}function M(e){let t=e;if(e.hasOwnProperty("$Path")){t={type:"Path",path:e.$Path}}else if(e.hasOwnProperty("$If")){t={type:"If",$If:e.$If}}else if(e.hasOwnProperty("$Apply")){t={type:"Apply",$Function:e.$Function,$Apply:e.$Apply}}return t}function A(e,t=[],r){switch(e.$Function){case"odata.concat":return H(...e.$Apply.map(e=>O(M(e),t,undefined,r)));case"odata.uriEncode":const n=O(M(e.$Apply[0]),t,undefined,r);return G("odata.uriEncode",[n,"Edm.String"],undefined,true);case"odata.fillUriTemplate":const a=e.$Apply[0];const i=e.$Apply.slice(1);const o={};i.forEach(e=>{o[e.$Name]=O(M(e.$LabeledElement),t,undefined,r)});return G("odata.fillUriTemplate",[a,o],undefined,true)}return n}function N(e,t,a){const i=y(t);const o=y(a);if(r(i,o)){return n}if(v(i)&&v(o)){switch(e){case"!==":return d(i.value!==o.value);case"===":return d(i.value===o.value);case"<":if(i.value===null||i.value===undefined||o.value===null||o.value===undefined){return d(false)}return d(i.value<o.value);case"<=":if(i.value===null||i.value===undefined||o.value===null||o.value===undefined){return d(false)}return d(i.value<=o.value);case">":if(i.value===null||i.value===undefined||o.value===null||o.value===undefined){return d(false)}return d(i.value>o.value);case">=":if(i.value===null||i.value===undefined||o.value===null||o.value===undefined){return d(false)}return d(i.value>=o.value)}}else{return{_type:"Comparison",operator:e,operand1:i,operand2:o}}}function D(e,t=false){if(e._type==="Unresolvable"){return e}if(!t){return{_type:"Length",pathInModel:e}}return k(j(e,undefined),-1,D(e))}function j(e,t){const i=y(e);const o=y(t);if(r(i,o)){return n}if(a(i,o)){return d(true)}function s(e,t){if(e._type==="Comparison"&&P(t)){return e}else if(e._type==="Comparison"&&b(t)){return l(e)}else if(e._type==="IfElse"&&a(e.onTrue,t)){return u(e.condition,j(e.onFalse,t))}else if(e._type==="IfElse"&&a(e.onFalse,t)){return u(l(e.condition),j(e.onTrue,t))}else if(e._type==="IfElse"&&v(e.onTrue)&&v(e.onFalse)&&v(t)&&!a(e.onTrue,t)&&!a(e.onFalse,t)){return d(false)}return undefined}const c=s(i,o)??s(o,i);return c??N("===",i,o)}function U(e,t){return l(j(e,t))}function V(e,t){return N(">=",e,t)}function L(e,t){return N(">",e,t)}function R(e,t){return N("<=",e,t)}function B(e,t){return N("<",e,t)}function k(e,t,i){let o=y(e);let c=y(t);let f=y(i);if(o._type==="Not"){[c,f]=[f,c];o=l(o)}if(c._type==="IfElse"&&a(o,c.condition)){c=c.onTrue}if(f._type==="IfElse"&&a(o,f.condition)){f=f.onFalse}if(v(o)){return o.value?c:f}if(a(c,f)){return c}if(b(f)){return s(o,c)}if(P(f)){return u(l(o),c)}if(b(c)){return s(l(o),f)}if(P(c)){return u(o,f)}if(r(o,c,f)){return n}if(_(e)||_(t)||_(i)){let n=0;const r=z([e,t,i],"sap.fe.core.formatters.StandardFormatter#ifElse");const a=[];Y(r,"PathInModel",e=>{a.push(e);return p(`$${n++}`,"$")},true);a.unshift(d(JSON.stringify(r)));return z(a,"sap.fe.core.formatters.StandardFormatter#evaluateComplexExpression",undefined,true)}return{_type:"IfElse",condition:o,onTrue:c,onFalse:f}}function Q(e){switch(e._type){case"Constant":case"Formatter":case"ComplexType":return false;case"Set":return e.operands.some(Q);case"PathInModel":return e.modelName===undefined;case"Comparison":return Q(e.operand1)||Q(e.operand2);case"IfElse":return Q(e.condition)||Q(e.onTrue)||Q(e.onFalse);case"Not":case"Truthy":return Q(e.operand);default:return false}}function z(e,t,a,i=false){const o=e.map(y);if(r(...o)){return n}if(a){if(!o.some(Q)){a.keys.forEach(e=>o.push(p(e.name,"")))}}let s="";if(typeof t==="string"){s=t}else{s=t.__functionName}const[u,l]=s.split("#");if(!i&&(o.some(_)||o.some(I)||o.some(T))){let e=0;const t=z(o,s,undefined,true);const n=[];Y(t,"PathInModel",t=>{n.push(t);return p(`$${e++}`,"$")},true);n.unshift(d(JSON.stringify(t)));return z(n,"sap.fe.core.formatters.StandardFormatter#evaluateComplexExpression",undefined,true)}else if(!!l&&l.length>0){o.unshift(d(l))}return{_type:"Formatter",fn:u,parameters:o}}const W=function(e){if(e.annotations.Common?.IsFiscalYear){return"com.sap.vocabularies.Common.v1.IsFiscalYear"}if(e.annotations.Common?.IsFiscalPeriod){return"com.sap.vocabularies.Common.v1.IsFiscalPeriod"}if(e.annotations.Common?.IsFiscalYearPeriod){return"com.sap.vocabularies.Common.v1.IsFiscalYearPeriod"}if(e.annotations.Common?.IsFiscalQuarter){return"com.sap.vocabularies.Common.v1.IsFiscalQuarter"}if(e.annotations.Common?.IsFiscalYearQuarter){return"com.sap.vocabularies.Common.v1.IsFiscalYearQuarter"}if(e.annotations.Common?.IsFiscalWeek){return"com.sap.vocabularies.Common.v1.IsFiscalWeek"}if(e.annotations.Common?.IsFiscalYearWeek){return"com.sap.vocabularies.Common.v1.IsFiscalYearWeek"}if(e.annotations.Common?.IsDayOfFiscalYear){return"com.sap.vocabularies.Common.v1.IsDayOfFiscalYear"}};t.getFiscalType=W;function G(e,t,n,r=false){const a=typeof e==="string"?e:e.__functionName;return{_type:"Function",obj:n!==undefined?y(n):undefined,fn:a,isFormattingFn:r,parameters:t.map(y)}}function q(e){const t=[];Y(e,"PathInModel",e=>{t.push(u(j(e,""),j(e,undefined),j(e,null)));return e});return s(...t)}function H(...e){const t=e.map(y);if(r(...t)){return n}if(t.every(v)){return d(t.reduce((e,t)=>{if(t.value!==undefined&&t.value!==null){return e+t.value.toString()}return e},""))}else if(t.some(_)){let e=0;const n=z(t,"sap.fe.core.formatters.StandardFormatter#concat",undefined,true);const r=[];Y(n,"PathInModel",t=>{r.push(t);return p(`$${e++}`,"$")});r.unshift(d(JSON.stringify(n)));return z(r,"sap.fe.core.formatters.StandardFormatter#evaluateComplexExpression",undefined,true)}return{_type:"Concat",expressions:t}}function Y(e,t,n,r=false){let a=e;switch(a._type){case"Function":case"Formatter":a.parameters=a.parameters.map(e=>Y(e,t,n,r));break;case"Concat":a.expressions=a.expressions.map(e=>Y(e,t,n,r));a=H(...a.expressions);break;case"ComplexType":a.bindingParameters=a.bindingParameters.map(e=>Y(e,t,n,r));break;case"IfElse":{const e=Y(a.onTrue,t,n,r);const i=Y(a.onFalse,t,n,r);let o=a.condition;if(r){o=Y(a.condition,t,n,r)}a=k(o,e,i);break}case"Not":if(r){const e=Y(a.operand,t,n,r);a=l(e)}break;case"Truthy":break;case"Set":if(r){const e=a.operands.map(e=>Y(e,t,n,r));a=a.operator==="||"?u(...e):s(...e)}break;case"Comparison":if(r){const e=Y(a.operand1,t,n,r);const i=Y(a.operand2,t,n,r);a=N(a.operator,e,i)}break;case"Constant":{const e=a.value;if(typeof e==="object"&&e){Object.keys(e).forEach(a=>{e[a]=Y(e[a],t,n,r)})}break}case"Ref":case"Length":case"PathInModel":case"EmbeddedBinding":case"EmbeddedExpressionBinding":case"Unresolvable":break}if(t===a._type){a=n(e)}return a}},507:function(e,t){Object.defineProperty(t,"__esModule",{value:true});t["default"]=t.FORMATTERS_PATH=void 0;t.formatWithBrackets=a;t.formatters=void 0;const n=function(e,...t){if(n.hasOwnProperty(e)){return n[e].apply(this,t)}else{return""}};t.formatters=n;const r=t.FORMATTERS_PATH="sap.fe.definition.formatters";function a(e,t){if(e&&t){return`${e} (${t})`}else{return e||t||""}}a.__functionName=`${r}#formatWithBrackets`;n.formatWithBrackets=a;var i=t["default"]=n},890:function(e,t){Object.defineProperty(t,"__esModule",{value:true});t.isAnnotationOfTerm=r;t.isAnnotationOfType=n;t.isAnnotationPath=g;t.isAnnotationTerm=a;t.isComplexType=o;t.isEntityContainer=u;t.isEntitySet=l;t.isEntityType=f;t.isMultipleNavigationProperty=m;t.isNavigationProperty=d;t.isPathAnnotationExpression=y;t.isProperty=p;t.isPropertyPathExpression=v;t.isServiceObject=i;t.isSingleNavigationProperty=h;t.isSingleton=c;t.isTypeDefinition=s;t.isValidPropertyPathExpression=P;function n(e,t){if(Array.isArray(t)){return t.includes(e?.$Type)}return e?.$Type===t}function r(e,t){return e.term===t}function a(e){return e.hasOwnProperty("term")}function i(e){return e?.hasOwnProperty("_type")??false}function o(e){return e._type==="ComplexType"}function s(e){return e._type==="TypeDefinition"}function u(e){return e._type==="EntityContainer"}function l(e){return e._type==="EntitySet"}function c(e){return e._type==="Singleton"}function f(e){return e._type==="EntityType"}function p(e){return e._type==="Property"}function d(e){return e._type==="NavigationProperty"}function h(e){return d(e)&&!e.isCollection}function m(e){return d(e)&&e.isCollection}function y(e){return e.type==="Path"}function g(e){return e.type=="AnnotationPath"}function v(e){return e?.type==="PropertyPath"}function P(e){return e.type==="PropertyPath"&&!!e.$target}}};var n={};function r(e){var a=n[e];if(a!==undefined){return a.exports}var i=n[e]={exports:{}};t[e](i,i.exports,r);return i.exports}var a=r(16);e=a})();return e},true);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/formatters/CollaborationFormatter", ["sap/fe/core/controllerextensions/collaboration/CollaborationCommon","sap/ui/core/Lib"],function(t,o){"use strict";var n={};var r=t.getActivityKeyFromPath;const e=function(t){if(e.hasOwnProperty(t)){for(var o=arguments.length,n=new Array(o>1?o-1:0),r=1;r<o;r++){n[r-1]=arguments[r]}return e[t].apply(this,n)}else{return""}};const i=function(t){return!!s(t,this)};i.__functionName="._formatters.CollaborationFormatter.bind($control)#hasCollaborationActivity";n.hasCollaborationActivity=i;const a=function(t){return s(t,this)};a.__functionName="._formatters.CollaborationFormatter.bind($control)#getCollaborationInfo";n.getCollaborationInfo=a;const l=function(t){const o=s(t,this);return o?.initials};l.__functionName="._formatters.CollaborationFormatter.bind($control)#getCollaborationActivityInitials";n.getCollaborationActivityInitials=l;const c=function(t){const o=s(t,this);return o?.color};c.__functionName="._formatters.CollaborationFormatter.bind($control)#getCollaborationActivityColor";n.getCollaborationActivityColor=c;function s(t,o){const n=o?.getBindingContext()?.getPath();if(!n){return undefined}const e=r(n);if(t&&t.length>0){return t.find(t=>t.key===e)}else{return undefined}}const f=function(){const t=arguments.length<=0?undefined:arguments[0];const n=o.getResourceBundleFor("sap.fe.core");const r=[];for(let t=1;t<arguments.length;t++){r.push(t<0||arguments.length<=t?undefined:arguments[t])}return n.getText(t,r)};f.__functionName="._formatters.CollaborationFormatter#getFormattedText";n.getFormattedText=f;e.hasCollaborationActivity=i;e.getCollaborationActivityInitials=l;e.getCollaborationActivityColor=c;e.getFormattedText=f;e.getCollaborationInfo=a;return e},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/formatters/CriticalityFormatter", [],function(){"use strict";const e=e=>{if(e!==undefined){switch(e){case"UI.CriticalityType/VeryNegative":case-1:case"-1":return"UI.CriticalityType/VeryNegative";case"UI.CriticalityType/Neutral":case 0:case"0":return"UI.CriticalityType/Neutral";case"UI.CriticalityType/Negative":case 1:case"1":return"UI.CriticalityType/Negative";case"UI.CriticalityType/Critical":case 2:case"2":return"UI.CriticalityType/Critical";case"UI.CriticalityType/Positive":case 3:case"3":return"UI.CriticalityType/Positive";case"UI.CriticalityType/VeryPositive":case 4:case"4":return"UI.CriticalityType/VeryPositive";case"UI.CriticalityType/Information":case 5:case"5":return"UI.CriticalityType/Information";default:return undefined}}return undefined};e.__functionName="._formatters.CriticalityFormatter#getCriticality";const i=function(e){if(i.hasOwnProperty(e)){for(var t=arguments.length,r=new Array(t>1?t-1:0),a=1;a<t;a++){r[a-1]=arguments[a]}return i[e].apply(this,r)}else{return""}};i.getCriticality=e;return i},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/formatters/FPMFormatter", ["sap/fe/core/helpers/FPMHelper"],function(t){"use strict";const e=async function(e,n,o){const r=n.split(".");const s=r.pop();const c=r.join("/");return t.loadModuleAndCallMethod(c,s,e,this.getBindingContext(),o||[])};e.__functionName="._formatters.FPMFormatter.bind($control)#customBooleanPropertyCheck";const n=function(t){if(n.hasOwnProperty(t)){for(var e=arguments.length,o=new Array(e>1?e-1:0),r=1;r<e;r++){o[r-1]=arguments[r]}return n[t].apply(this,o)}else{return""}};n.customBooleanPropertyCheck=e;return n},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/formatters/FiscalFormat", ["sap/base/i18n/Localization","sap/ui/core/Locale","sap/ui/core/LocaleData"],function(e,t,r){"use strict";var a;var s={};let n=function(){function a(a){const s=new t(e.getLanguage());const n=new r(s);let o=a.format;if(a.format.length>4){o="yM"}else if(a.format==="PPP"){o="M"}let i=n.getCustomDateTimePattern(o,a.calendarType);i=i.replace(/([\u4e00-\u9faf\u3000-\u303f\u3040-\u309f\u30a0-\u30ff\uff00-\uffef])+/gi,"");if(a.format.length>4){i=i.replace(/y+/i,a.format.slice(0,a.format.lastIndexOf("Y")+1));i=i.replace(/m+/i,a.format.slice(a.format.lastIndexOf("Y")+1))}else if(a.format==="PPP"){i="PPP"}const f=this.parseCalendarDatePattern(i);this.pattern=f.length>1?i:undefined;this._setFormatRegex(f);this._setParseRegex(f);this._setValidationRegex(f)}s=a;a.getDateInstance=function e(t){return new a(t)};var n=a.prototype;n.getPattern=function e(){return this.pattern};n.format=function e(t){if(t==null){return""}if(typeof t!=="string"){return t}return t.replace(this.formatRegExPattern,this.formatRegExGroups)};n.parse=function e(t){if(!t){return""}return t.replace(this.parseRegExPattern,this.parseRegExReplacer)};n.validate=function e(t){return this.validationRegExPattern.test(t)};n.parseCalendarDatePattern=function e(t){const r=[];let s,n={digits:0,value:"",symbol:""};for(const e of t){if(s!==e){n={digits:0,value:"",symbol:""}}else{n.digits+=1;continue}if(typeof a.symbols[e]==="undefined"){n.value=e}else{n.symbol=e;n.digits=1}s=e;r.push(n)}return r};n._setFormatRegex=function e(t){const r=[],s=[];let n,o,i,f;for(let e=0;e<t.length;e++){n=t[e];o=n.symbol;i=a.symbols[o].format;if(o===""){s[e]=n.value}else if(o.toLocaleLowerCase()==="y"){r.unshift("("+i.source+")");s[e]="$"+1}else{r.push("("+i.source+")");f=t.some(function(e){return e.symbol.toLowerCase()==="y"});s[e]=f?"$"+2:"$"+1}}this.formatRegExPattern=new RegExp(r.join(""));this.formatRegExGroups=s.join("")};n._setParseRegex=function e(t){const r=[],s={};let n,o,i,f=0;for(const e of t){n=e.symbol;if(n===""){r.push("\\D+?")}else{o=a.symbols[n].parse;r.push("("+o.source+")");i=++f;s[i]=e}}this.parseRegExPattern=new RegExp("^"+r.join("")+"$");this.parseRegExReplacer=this.getRegExReplacer(s)};n.getRegExReplacer=function e(t){return function(){const e=[];let r,a;for(var s=arguments.length,n=new Array(s),i=0;i<s;i++){n[i]=arguments[i]}for(const s in t){r=t[s];a=n[parseInt(s,10)];if(a.length<r.digits){if(r.symbol.toLowerCase()==="y"){a=o(a)}else{a=a.padStart(r.digits,"0")}}if(r.symbol.toLowerCase()==="y"){e.unshift(a)}else{e.push(a)}}return e.join("")}};n._setValidationRegex=function e(t){const r=[];let s,n;for(const e of t){s=e.symbol;n=a.symbols[s].format;if(s===""){continue}else if(s.toLowerCase()==="y"){r.unshift(n.source)}else{r.push(n.source)}}this.validationRegExPattern=new RegExp("^("+r.join(")(")+")$")};return a}();a=n;s=n;n.regexFormatPatterns={year:/[1-9]\d{3}/,period:/\d{3}/,quarter:/[1-4]/,week:/0[1-9]|[1-4]\d|5[0-3]/,day:/371|370|3[0-6]\d|[1-2]\d{2}|[1-9]\d|[1-9]/};n.regexParsePatterns={year:/\d{1,4}/,period:/\d{1,3}/,quarter:/[1-4]/,week:/\d{1,2}/,day:/[1-9]/};n.symbols={"":{format:/ /,parse:/ /},y:{format:a.regexFormatPatterns.year,parse:a.regexParsePatterns.year},Y:{format:a.regexFormatPatterns.year,parse:a.regexParsePatterns.year},P:{format:a.regexFormatPatterns.period,parse:a.regexParsePatterns.period},W:{format:a.regexFormatPatterns.week,parse:a.regexParsePatterns.week},d:{format:a.regexFormatPatterns.day,parse:a.regexParsePatterns.day},Q:{format:a.regexFormatPatterns.quarter,parse:a.regexParsePatterns.quarter},q:{format:a.regexFormatPatterns.quarter,parse:a.regexParsePatterns.quarter}};function o(e){let t=Number.parseInt(e,10);const r=(new Date).getUTCFullYear(),a=Math.floor(r/100),s=a*100+t-r;if(e.length===3){t+=Math.floor((a-1)/10)*1e3}else if(s<-70){t+=(a+1)*100}else if(s<30){t+=a*100}else{t+=(a-1)*100}return t}return s},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/formatters/KPIFormatter", ["sap/ui/core/Lib"],function(t){"use strict";const e=function(t){if(t){const e=t.split(" ");let r;if(e.length===1){r=e[0].substring(0,3).toUpperCase()}else if(e.length===2){r=(e[0].substring(0,1)+e[1].substring(0,1)).toUpperCase()}else{r=(e[0].substring(0,1)+e[1].substring(0,1)+e[2].substring(0,1)).toUpperCase()}return r}else{return""}};e.__functionName="._formatters.KPIFormatter#labelFormat";const r=function(e,r,s,n,o){const i=t.getResourceBundleFor("sap.fe.core");const a=n?`C_KPI_TOOLTIP_${n.toUpperCase()}`:"C_KPI_TOOLTIP_NONE";let u;if(o==="true"){if(!s){u=i.getText("C_KPI_TOOLTIP_AMOUNT_MULTIUNIT")}else{u=`${r} ${s}`}}else{u=r}return i.getText(a,[e,u])};r.__functionName="._formatters.KPIFormatter#tooltipFormat";const s=function(t){if(s.hasOwnProperty(t)){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++){r[n-1]=arguments[n]}return s[t].apply(this,r)}else{return""}};s.labelFormat=e;s.tooltipFormat=r;return s},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/formatters/Scope", ["sap/fe/base/jsx-runtime/jsx","sap/fe/core/formatters/CollaborationFormatter","sap/fe/core/formatters/CriticalityFormatter","sap/fe/core/formatters/FPMFormatter","sap/fe/core/formatters/KPIFormatter","sap/fe/core/formatters/StandardFormatter","sap/fe/core/formatters/ValueFormatter"],function(t,r,e,a,o,s,m){"use strict";const f={_formatters:{ValueFormatter:m,StandardFormatter:s,CriticalityFormatter:e,FPMFormatter:a,KPIFormatter:o,CollaborationFormatter:r}};t.setFormatterContext(f);return f},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/formatters/StandardFormatter", ["sap/base/strings/formatMessage","sap/fe/base/BindingToolkit","sap/fe/base/jsx-runtime/jsx","sap/fe/core/controls/Any"],function(t,n,r,e){"use strict";var a=n.transformRecursively;var o=n.constant;var s=n.compileExpression;const i=function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),e=1;e<n;e++){r[e-1]=arguments[e]}const i=JSON.parse(t);a(i,"PathInModel",t=>{if(t.modelName==="$"){return o(r[parseInt(t.path.substring(1),10)])}return t},true);a(i,"ComplexType",t=>{const n=s(t);if(n){return o(u(n,this))}return o(n)});const f=s(i);return u(f,this)};const u=function(t,n){const a=new e({anyText:t},r.getFormatterContext());a.setModel(n.getModel());a.setBindingContext(n.getBindingContext());return a.getAnyText()};i.__functionName="._formatters.StandardFormatter#evaluateComplexExpression";const f=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++){n[r]=arguments[r]}return n.join("")};f.__functionName="._formatters.StandardFormatter#concat";const c=function(t,n,r){return t?n:r};c.__functionName="._formatters.StandardFormatter#ifElse";const l=function(t){if(t===undefined||t===null||t==="undefined"||t==="null"){return[]}return[t]};l.__functionName="._formatters.StandardFormatter#asArray";const m=function(t){if(m.hasOwnProperty(t)){for(var n=arguments.length,r=new Array(n>1?n-1:0),e=1;e<n;e++){r[e-1]=arguments[e]}return m[t].apply(this,r)}else{return""}};const d=function(){return null};d.__functionName="._formatters.StandardFormatter#loadProperties";const p=function(n,r,e){return e===1?n:t(r,[e])};p.__functionName="._formatters.StandardFormatter#formatPluralMessageConditionally";m.evaluateComplexExpression=i;m.concat=f;m.ifElse=c;m.asArray=l;m.loadProperties=d;m.formatPluralMessageConditionally=p;return m},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/formatters/ValueFormatter", ["sap/base/Log","sap/base/strings/whitespaceReplacer","sap/fe/core/templating/SemanticObjectHelper","sap/ui/core/IconPool","sap/ui/core/Lib","sap/ui/core/date/UI5Date","sap/ui/core/format/DateFormat","sap/ui/core/format/NumberFormat"],function(t,e,r,a,i,o,n,s){"use strict";var c={};var f=r.getReachableSemanticObjectsSettings;const l={yyyy:/[1-9]\d{3,}|0\d{3}/,Q:/[1-4]/,MM:/0[1-9]|1[0-2]/,ww:/0[1-9]|[1-4]\d|5[0-3]/,yyyyMMdd:/(?:[1-9]\d{3}|0\d{3})(0[1-9]|1[0-2])(0[1-9]|[12]\d|3[01])/,yyyyMM:/(?:[1-9]\d{3}|0\d{3})(0[1-9]|1[0-2])/,"yyyy-MM-dd":/(?:[1-9]\d{3}|0\d{3})-(0[1-9]|1[0-2])-(0[1-9]|[12]\d|3[01])/};const m=function(t){if(m.hasOwnProperty(t)){for(var e=arguments.length,r=new Array(e>1?e-1:0),a=1;a<e;a++){r[a-1]=arguments[a]}return m[t].apply(this,r)}else{return""}};const u=(t,e)=>{if(t&&e){const r=i.getResourceBundleFor("sap.fe.core");return r.getText("C_FORMAT_FOR_TEXT_ARRANGEMENT",[t,e])}else{return t||e||""}};u.__functionName="._formatters.ValueFormatter#formatWithBrackets";const p=(e,r,a)=>{if(r in l){const i=e?.toString().match(l[r]);if(i&&i?.length){const e=i[0];const o=n.getDateInstance({pattern:r}).parse(e,false,true);if(o instanceof Date){return o.getTime()}else{t.warning("Date value could not be determined for "+a)}return 0}}t.warning("Pattern not supported for "+a);return 0};p.__functionName="._formatters.ValueFormatter#formatStringDimension";const y=(t,r)=>r?u(e(t),e(r)):e(t);y.__functionName="._formatters.ValueFormatter#formatTitle";const _=(t,e)=>{const r=!!e&&!e.startsWith("T_NEW_OBJECT|")?e:t;return y(r)};_.__functionName="._formatters.ValueFormatter#formatCreationTitle";const d=(t,e,r)=>{let a;if(t===undefined){return"0"}const i=typeof t==="string"?parseFloat(t):t;const o=typeof e==="string"?parseFloat(e):e;if(r==="%"){if(i>100){a="100"}else if(i<=0){a="0"}else{a=typeof t==="string"?t:t?.toString()}}else if(i>o){a="100"}else if(i<=0){a="0"}else{a=i&&o?(i/o*100).toString():"0"}return a};d.__functionName="._formatters.ValueFormatter#computePercentage";const g=t=>{let e;if(t==="UI.CriticalityType/Negative"||t==="1"||t===1){e="Error"}else if(t==="UI.CriticalityType/Critical"||t==="2"||t===2){e="Warning"}else if(t==="UI.CriticalityType/Positive"||t==="3"||t===3){e="Success"}else if(t==="UI.CriticalityType/Information"||t==="5"||t===5){e="Information"}else{e="None"}return e};g.__functionName="._formatters.ValueFormatter#formatCriticalityValueState";c.formatCriticalityValueState=g;const T=t=>{let e;if(t==="UI.CriticalityType/Negative"||t==="1"||t===1){e="Reject"}else if(t==="UI.CriticalityType/Positive"||t==="3"||t===3){e="Accept"}else{e="Default"}return e};T.__functionName="._formatters.ValueFormatter#formatCriticalityButtonType";c.formatCriticalityButtonType=T;const h=t=>{let e;if(t==="UI.CriticalityType/Negative"||t==="1"||t===1){e="Error"}else if(t==="UI.CriticalityType/Critical"||t==="2"||t===2){e="Critical"}else if(t==="UI.CriticalityType/Positive"||t==="3"||t===3){e="Good"}else{e="Neutral"}return e};h.__functionName="._formatters.ValueFormatter#formatCriticalityColorMicroChart";c.formatCriticalityColorMicroChart=h;const C=(t,e,r,a,o)=>{if(t&&e&&r){const c=r.split("-");const f=`${c[1]===undefined?r:c[1]}-narrow`;const l=n.getDateInstance();const m=l.oLocaleData.mData;const u=i.getResourceBundleFor("sap.fe.macros");let p=r;if(m?.dateFields[f]?.displayName){p=m.dateFields[f].displayName}else if(m?.units?.short[r]?.displayName){p=m.units.short[r].displayName}let y;if(a){y=s.getCurrencyInstance({customCurrencies:o,showMeasure:false})}else{y=s.getUnitInstance({customUnits:o,showMeasure:false})}const _=y.format(+t,p);const d=y.format(+e,p);return u.getText("T_COMMON_PROGRESS_INDICATOR_DISPLAY_VALUE_WITH_UOM",[_,d,p])}};C.__functionName="._formatters.ValueFormatter#formatProgressIndicatorText";c.formatProgressIndicatorText=C;const N=t=>{if(t?.length){return"*".repeat(t.length)}return undefined};N.__functionName="._formatters.ValueFormatter#formatPasswordText";c.formatPasswordText=N;const I=t=>t===null||t===undefined?"":e(t+"");I.__functionName="._formatters.ValueFormatter#formatToKeepWhitespace";c.formatToKeepWhitespace=I;function F(e){if(e){const r=new Date(e);if(!isNaN(Date.parse(r))){return o.getInstance(e)}else{t.warning("Warning: Valid date format has to be sent to retrieve UI5 date instance")}}return null}F.__functionName="._formatters.ValueFormatter#provideDateInstance";const M=function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++){e[r]=arguments[r]}const a=e[0];const i=[];for(let t=1;t<e.length;t++){if(e[t]){i.push(e[t])}}if(i.length>0){return f(a,{semanticObjectsList:i,semanticObjectsExpressionList:[],qualifierMap:{}}).hasReachableStaticSemanticObject}return undefined};M.__functionName="._formatters.ValueFormatter#hasSemanticObjects";c.hasSemanticObjects=M;const S=function(t){return e(t)};S.__functionName="._formatters.ValueFormatter#replaceWhitespace";c.replaceWhitespace=S;const V=function(t){return a.getIconForMimeType(t)};V.__functionName="._formatters.ValueFormatter#getIconForMimeType";m.hasSemanticObjects=M;m.formatWithBrackets=u;m.formatTitle=y;m.formatCreationTitle=_;m.provideDateInstance=F;m.computePercentage=d;m.formatCriticalityValueState=g;m.formatCriticalityButtonType=T;m.formatCriticalityColorMicroChart=h;m.formatProgressIndicatorText=C;m.formatPasswordText=N;m.formatToKeepWhitespace=I;m.formatStringDimension=p;m.getIconForMimeType=V;m.replaceWhitespace=S;return m},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/fpm/Component", ["sap/fe/base/ClassSupport","sap/fe/core/TemplateComponent"],function(e,t){"use strict";var r,i,n,a,o,l,u,p,c,s,f;var b=e.property;var m=e.defineUI5Class;function v(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function y(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,w(e,t)}function w(e,t){return w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},w(e,t)}function d(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer?(Object.defineProperty(e,t,a),null):a}function g(e,t){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let z=(r=m("sap.fe.core.fpm.Component",{manifest:"json"}),i=b({type:"string"}),n=b({type:"string"}),a=b({type:"string"}),o=b({type:"any"}),r(l=(u=function(e){function t(t){var r;if(t.viewType==="JSX"){t._jsxViewName=t.viewName;t.viewName="module:sap/fe/base/jsx-runtime/ViewLoader";delete t.cache}r=e.call(this,t)||this;v(r,"viewName",p,r);v(r,"controllerName",c,r);v(r,"_jsxViewName",s,r);v(r,"viewContent",f,r);return r}y(t,e);var r=t.prototype;r.getAppComponent=function e(){return this.oAppComponent};return t}(t),p=d(u.prototype,"viewName",[i],{configurable:true,enumerable:true,writable:true,initializer:null}),c=d(u.prototype,"controllerName",[n],{configurable:true,enumerable:true,writable:true,initializer:null}),s=d(u.prototype,"_jsxViewName",[a],{configurable:true,enumerable:true,writable:true,initializer:function(){return""}}),f=d(u.prototype,"viewContent",[o],{configurable:true,enumerable:true,writable:true,initializer:null}),u))||l);return z},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/helpers/ActionUtilities", ["sap/m/library","../converters/ManifestSettings"],function(r,e){"use strict";var i=e.ActionType;var t=r.OverflowToolbarPriority;const n={ensurePrimaryActionNeverOverflows(r){return r.map(r=>!this.isPrimaryAction(r)?r:{...r,priority:t.NeverOverflow})},isPrimaryAction(r){return r.type===i.Primary}};return n},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/helpers/AdaptiveCardExpressionCompiler", ["sap/base/Log","sap/fe/base/BindingToolkit"],function(e,t){"use strict";var r={};var n=t.wrapPrimitive;var o=t.isPathInModelExpression;var s=t.isConstant;var a=t.isBindingToolkitExpression;var i=t.escapeXmlAttribute;const c="$";const p={"||":"or","&&":"and"};const u=function(e){return!s(e)&&!o(e)&&a(e)&&e._type!=="IfElse"&&e._type!=="Comparison"&&e._type!=="Not"};function l(e,t){let r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;if(t){if(r){return`(${e})`}else{return e}}else{return`${c}{${e}}`}}function d(t,r){function n(e){const t=m(e,r,true)??"undefined";return l(t,true,u(e))}const{operand1:o,operand2:s,operator:a}=t;let i;switch(a){case"===":i=`equals(${n(o)},${n(s)})`;break;case"!==":i=`not(equals(${n(o)},${n(s)}))`;break;case">=":i=`greaterOrEquals(${n(t.operand1)},${n(s)})`;break;case">":i=`greater(${n(o)},${n(s)})`;break;case"<=":i=`lessOrEquals(${n(o)},${n(s)})`;break;case"<":i=`less(${n(o)},${n(s)})`;break;default:e.warning(`Adaptive card expression compiler: ${a} not supported.`)}return`${i}`}function f(e,t){if(e.value===null||e.value===undefined){return e.value}if(typeof e.value==="object"){throw Error(`${e.toString()} : object as value not supported.`)}if(t){switch(typeof e.value){case"number":case"bigint":case"boolean":return e.value.toString();case"string":return`'${i(e.value.toString())}'`;default:return""}}else{return e.value.toString()}}r.compileConstant=f;function $(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"";const r=m(e,t);let n=h(e);if(t&&n.length>0){n=n.map(e=>`${t.replaceAll("/",".")}.${e}`)}return{pathsToQuery:n,compiledExpression:r}}r.getAdaptiveCompilerResult=$;function m(t){let r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"";let o=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;let s;try{const e=n(t);switch(e._type){case"Unresolvable":s=undefined;break;case"Constant":s=f(e,o);break;case"PathInModel":s=g(e,r,o);break;case"Comparison":{const t=d(e,r);s=l(t,o);break}case"IfElse":{const t=m(e.condition,r,true);const n=m(e.onTrue,r,true);const a=m(e.onFalse,r,true);const i=`if(${t},${n},${a})`;s=l(i,o);break}case"Set":{const t=e.operands.map(e=>m(e,r,true));const n=p[e.operator];const a=`${n}(${t.join(",")})`;s=l(a,o);break}case"Not":{const t=`not(${m(e.operand,r,true)})`;s=l(t,o);break}case"Truthy":{const t=`not(not(${m(e.operand,r,true)}))`;s=l(t,o);break}case"Ref":case"Function":case"EmbeddedExpressionBinding":case"EmbeddedBinding":case"Concat":case"Length":case"Formatter":case"ComplexType":default:throw Error(`${e._type} : expression type is not supported.`)}}catch(t){const r=t instanceof Error?t.message:String(t);e.error(`Adaptive card expression compiler : ${r}`)}return s}r.compileToAdaptiveExpression=m;function b(e,t){const{modelName:r,path:n}=e;if(r){throw Error(`${r}>${n} : path in model not supported.`)}const o=t?`${t}.`:t;const s=`${o}${n}`;return s.replace("/",".")}function g(e,t,r){if(e.type||e.parameters||e.targetType||e.formatOptions||e.constraints){throw Error(`${e.toString()} : complex binding not supported.`)}else if(r){return`${b(e,t)}`}else{return`${c}{${b(e,t)}}`}}function h(t){let r=[];try{const e=n(t);switch(e._type){case"Unresolvable":throw Error(`${e._type} : expression type is not supported.`);case"Constant":break;case"PathInModel":r=[...r,y(e)];break;case"Comparison":{r=[...r,...E(e)];break}case"IfElse":{const t=h(e.condition);const n=h(e.onTrue);const o=h(e.onFalse);r=[...r,...t,...n,...o];break}case"Set":{const t=e.operands.reduce((e,t)=>[...e,...h(t)],[]);r=[...r,...t];break}case"Not":{const t=h(e.operand);r=[...r,...t];break}case"Truthy":{const t=h(e.operand);r=[...r,...t];break}case"Ref":case"Function":case"EmbeddedExpressionBinding":case"EmbeddedBinding":case"Concat":case"Length":case"Formatter":case"ComplexType":default:throw Error(`${e._type} : expression type is not supported.`)}}catch(t){const r=t instanceof Error?t.message:String(t);e.error(`Adaptive card expression compiler : paths in expression : ${r}`)}r=Array.from(new Set(r));return r}r.getPropertyPathsInExpression=h;function y(e){if(e.type||e.parameters||e.targetType||e.formatOptions||e.constraints){throw Error(`${e.toString()} : complex binding not supported.`)}const{modelName:t,path:r}=e;if(t){throw Error(`${t}>${r} : path in model not supported.`)}return r.replaceAll("/",".")}function E(e){const{operand1:t,operand2:r}=e;return[...h(t),...h(r)]}return r},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/helpers/AppStartupHelper", ["sap/ui/model/Filter","sap/ui/model/FilterOperator","../converters/MetaModelConverter","./ModelHelper","./SemanticKeyHelper"],function(e,t,n,a,s){"use strict";var i=n.getInvolvedDataModelObjects;const r={_getKeysFromStartupParams:function(e,t){let n=true;const a=e.map(e=>{if(t?.[e]&&t[e].length===1){return{name:e,value:t[e][0]}}else{n=false;return{name:e,value:""}}});return n?a:undefined},_createFilterFromKeys:function(n,s,i){const r=a.isFilteringCaseSensitive(i);let o=false;const c=n.map(n=>{if(n.name==="IsActiveEntity"){o=true}return new e({path:n.name,operator:t.EQ,value1:n.value,caseSensitive:r})});if(s&&!o){const t=new e({filters:[new e("IsActiveEntity","EQ",false),new e("SiblingEntity/IsActiveEntity","EQ",null)],and:false});c.push(t)}return new e(c,true)},_sanitizeKeys:function(e,t){e.forEach(e=>{const n=t[e.name].$Type;switch(n){case"Edm.Boolean":if(e.value!=="true"&&e.value!=="false"){e.value=e.value.trim().length?"true":"false"}break;case"Edm.Guid":{const t=/[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}/i;const n=/[0-9a-f]{32}/i;const a=t.exec(e.value);const s=n.exec(e.value);if(a){e.value=a[0]}else if(s){e.value=s[0].replace(/^([0-9a-f]{8})([0-9a-f]{4})([0-9a-f]{4})([0-9a-f]{4})([0-9a-f]{12})$/i,"$1-$2-$3-$4-$5")}break}default:}})},_requestObjectsFromParameters:async function(e,t){const n=e.map(async e=>{const n=t.getMetaModel().getObject(`${e.contextPath}/`);if(e.technicalKeys){this._sanitizeKeys(e.technicalKeys,n);const a=`${e.contextPath}(${s.getPathContent(e.technicalKeys,n)})`;const i=t.bindContext(a).getBoundContext();return Promise.resolve([i])}else{const a=e.semanticKeys??[];this._sanitizeKeys(a,n);const s=this._createFilterFromKeys(a,e.draftMode,t.getMetaModel());const i=t.bindList(e.contextPath,undefined,undefined,s,{$select:a.map(e=>e.name).join(",")});return i.requestContexts(0,2)}});return Promise.all(n)},_getRightMostTargetName(e,t){if(Array.isArray(e.target)){const n=[...e.target].reverse();return n.find(e=>{const n=t?.targets?.[e];return n?.name&&["sap.fe.templates.ListReport","sap.fe.templates.ObjectPage","sap.fe.core.fpm"].includes(n.name)})}else{return e.target}},_getReachablePageInfoFromRoute:function(e,t,n,a){let s=e.pattern.replace(":?query:","");s=s.replace(/\/$/,"");if(!s||!s.endsWith(")")){return undefined}s=s.replace(/\(\{[^}]*\}\)/g,"(#)");const r=this._getRightMostTargetName(e,t);if(!r){return undefined}const o=t?.targets?.[r];const c=s.split("/");const l=c.length-1;if(l!==0&&o?.options?.settings?.allowDeepLinking!==true){return undefined}let u="";if(o?.options?.settings?.entitySet){u=`/${o.options.settings.entitySet}`}else if(o?.options?.settings?.contextPath){const e=a.createBindingContext(o.options.settings.contextPath);const t=i(e);if(t.targetEntitySet){u=`/${t.targetEntitySet.name}`}}if(!u){return undefined}const f=u&&a.getObject(`/$EntityContainer${u}/`);if(!f){return undefined}let g=a.getObject(`/$EntityContainer${u}/@com.sap.vocabularies.Common.v1.SemanticKey`)?.map(e=>e.$PropertyPath);const p=f["$Key"];if(l===0&&g&&g.length===p.length&&g.every(e=>p.includes(e))){g=undefined}const m=g?this._getKeysFromStartupParams(g,n):undefined;const d=!m&&l===0?this._getKeysFromStartupParams(p,n):undefined;if(m===undefined&&d===undefined){return undefined}const h=a.getObject(`/$EntityContainer${u}@com.sap.vocabularies.Common.v1.DraftRoot`)||a.getObject(`/$EntityContainer${u}@com.sap.vocabularies.Common.v1.DraftNode`)?true:false;return{pattern:s,contextPath:u,draftMode:h,technicalKeys:d,semanticKeys:m,target:r,targetResolutionValue:o?.options?.settings?.targetResolutionValue,pageLevel:l}},_getReachablePages:function(e,t,n){const a=e?.routes??[];const s={};a.forEach(a=>{const i=this._getReachablePageInfoFromRoute(a,e,t,n);if(i){if(!s[i.pageLevel]){s[i.pageLevel]=[]}s[i.pageLevel].push(i)}});const i=[];let r=0;while(s[r]){i.push(s[r]);r++}return i},_getStartupPagesFromStartupParams:function(e,t,n,a){const s=a&&t&&t[a]&&t[a][0];const i=this._getReachablePages(e,t,n);if(i.length===0){return[]}let r=[];const o=[];function c(e){const t=i[e];const n=o.length?o[o.length-1]:undefined;if(t){t.forEach(function(t){if(!n||t.pattern.indexOf(n.pattern)===0){o.push(t);c(e+1);o.pop()}})}if(o.length>r.length){const e=o.slice(-1)[0];if(s){if(e.targetResolutionValue===s){r=o.slice()}}else{r=o.slice()}}}c(0);return r},_getDeepLinkObject:function(e,t){if(t.length===1){return{context:t[0]}}else if(t.length>1){let n=e[e.length-1].pattern;t.forEach(function(e){n=n.replace("(#)",`(${e.getPath().split("(")[1]}`)});return{hash:n}}else{return{}}},getDeepLinkStartupHash:async function(e,t,n,a){await n.getMetaModel().requestObject("/$EntityContainer/");const s=this._getStartupPagesFromStartupParams(e,t,n.getMetaModel(),a);const i=await this._requestObjectsFromParameters(s,n);if(i.length){const e=[];i.forEach(function(t){if(t.length===1){e.push(t[0])}});return e.length===i.length?this._getDeepLinkObject(s,e):{}}else{return{}}},getCreateStartupHash:async function(e,t,n,a){return a.requestObject(`${t}@`).then(s=>{let i="";let r=true;if(s["@com.sap.vocabularies.Common.v1.DraftRoot"]&&s["@com.sap.vocabularies.Common.v1.DraftRoot"]["NewAction"]){i=`${t}@com.sap.vocabularies.Common.v1.DraftRoot/NewAction@Org.OData.Core.V1.OperationAvailable`}else if(s["@com.sap.vocabularies.Session.v1.StickySessionSupported"]&&s["@com.sap.vocabularies.Session.v1.StickySessionSupported"]["NewAction"]){i=`${t}@com.sap.vocabularies.Session.v1.StickySessionSupported/NewAction@Org.OData.Core.V1.OperationAvailable`}if(i){const e=a.getObject(i);if(e===false){r=false}}else{const e=s["@Org.OData.Capabilities.V1.InsertRestrictions"];if(e&&e.Insertable===false){r=false}}if(r){return this.getDefaultCreateHash(e,t,n)}else{return""}})},getDefaultCreateHash:function(e,t,n){let a=e&&e.preferredMode?e.preferredMode[0]:"create";let s="";a=a.includes(":")&&a.length>a.indexOf(":")+1?a.substring(0,a.indexOf(":")):"create";s=`${t.substring(1)}(...)?i-action=${a}`;if(n.getRouteInfoByHash(s)){return s}else{throw new Error(`No route match for creating a new ${t.substring(1)}`)}},verifyEditAnnotations:async function(e,t){const n=await t.requestObject(`${e}@`);const a=n?.["@com.sap.vocabularies.UI.v1.UpdateHidden"];let s=true;if(n?.["@com.sap.vocabularies.Common.v1.DraftRoot"]?.["EditAction"]){s=t.getObject(`${e}@com.sap.vocabularies.Common.v1.DraftRoot/EditAction@Org.OData.Core.V1.OperationAvailable`)}return s!==false&&a!==true}};return r},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/helpers/BindingHelper", ["sap/fe/base/BindingToolkit"],function(t){"use strict";var e={};var i=t.pathInModel;var n=t.or;var a=t.not;var s=t.equal;var o=t.and;const r={IsCreateMode:i("createMode","pageInternal"),IsEditable:i("isEditable","ui"),IsTransientBinding:s(i("@$ui5.context.isTransient"),true),IsTotal:s(i("@$ui5.node.isTotal"),true),IsExpanded:s(i("@$ui5.node.isExpanded"),true),NodeLevel:i("@$ui5.node.level"),IsInactive:i("@$ui5.context.isInactive"),isNodeLevelNavigable:i("isNodeLevelNavigable","internal"),hasCollaborationAuthorization:i("hasCollaborationAuthorization","ui")};e.UI=r;const l={HasDraft:i("HasDraftEntity"),HasActive:i("HasActiveEntity"),IsActive:i("IsActiveEntity")};e.Entity=l;const u={IsNewObject:o(a(l.HasActive),a(l.IsActive)),HasNoDraftForCurrentUser:n(a(l.HasDraft),o(l.HasDraft,a(i("DraftAdministrativeData/DraftIsCreatedByMe"))))};e.Draft=u;function c(t,e){return t.singletons.find(t=>t.fullyQualifiedName===e)}const d=function(t,e,i){if(t.indexOf("/")===0){const i=t.split("/").filter(Boolean),n=i.pop(),a=i.join("/"),s=c(e,a);if(s){t=`/${s.name}/${n}`}}else{const e=i.concat();e.push(t);t=e.join("/")}return t};e.singletonPathVisitor=d;function f(t,e,i){if(i){const e=`${i?.substring(i.lastIndexOf("/")+1)}/`;if(t.startsWith(e)){return t.substring(e.length)}}return d(t,e,[])}e.bindingContextPathVisitor=f;return e},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/helpers/BindingToolkitEvaluator", ["sap/base/util/ObjectPath","sap/fe/base/BindingToolkit"],function(e,n){"use strict";var t={};var r=n.unresolvableExpression;var s=n.transformRecursively;var a=n.isConstant;var o=n.constant;function i(n,t){const i=new Set;const l=s(n,"PathInModel",n=>{const s=n.modelName??"";const a=t[s];if(a===undefined){i.add(s);return r}return o(e.get(n.path.replace(/\//g,"."),a))},true);if(a(l)){return l.value}else{throw new Error(`Expression cannot be resolved not constant as data from the following models: ${Array.from(i).join(",")} is missing`)}}t.evaluateExpression=i;return t},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/helpers/DeleteHelper", ["sap/base/Log","sap/fe/core/controllerextensions/editFlow/draft","sap/m/CheckBox","sap/m/Text","sap/m/MessageToast","sap/ui/core/message/Message","sap/ui/core/message/MessageType","sap/ui/core/Messaging"],function(e,t,n,o,s,i,l,a){"use strict";var E=function(e){e["deletableContexts"]="deletableContexts";e["draftsWithDeletableActive"]="draftsWithDeletableActive";e["unSavedContexts"]="unSavedContexts";e["draftsWithNonDeletableActive"]="draftsWithNonDeletableActive";e["draftsToDeleteBeforeActive"]="draftsToDeleteBeforeActive";return e}(E||{});var r=function(e){e["CHECKBOX"]="checkBox";e["TEXT"]="text";return e}(r||{});function c(e,t,n,o){const s=[...n];o.forEach(e=>{const t=s.indexOf(e);if(t!==-1){s.splice(t,1)}});e.setProperty(t,[]);return s}function _(e,t){let n=e.getProperty("selectedContexts")||[];if(t.type===E.deletableContexts){n=c(e,E.deletableContexts,n,e.getProperty(E.deletableContexts)||[]);const t=e.getProperty(E.draftsWithDeletableActive)||[];const o=t.map(e=>e.draft);n=c(e,E.draftsWithDeletableActive,n,o)}else{const o=e.getProperty(t.type)||[];n=c(e,t.type,n,o)}e.setProperty("selectedContexts",n);e.setProperty("numberOfSelectedContexts",n.length)}function T(e,t,n,o,i){const{internalModelContext:l,entitySetName:a}=e;if(l){if(l.getProperty("deleteEnabled")!=undefined){t.forEach(e=>{if(e.selected){_(l,e)}})}l.setProperty("deleteEnabled",t.some(e=>!e.selected))}const E=e.parentControl?.getMetadata().getName()==="sap.ui.mdc.MultiValueField";const r=!e.parentControl||!E;if(r&&e.silentMode!==true){const e=n.length===1?"C_TRANSACTION_HELPER_DELETE_TOAST_SINGULAR":"C_TRANSACTION_HELPER_DELETE_TOAST_PLURAL";s.show(o.getText(e,undefined,a))}if(e.parentControl&&!E){y.setFocusAfterDelete(e.parentControl,n.length,i)}if(n?.length){n.forEach(e=>{const t=e.getPath();if(t&&e.getModel()){const n=e.getModel().getLocalAnnotationModel();const o=n.getObject(t);if(o&&typeof o==="object"){for(const e of Object.keys(o)){if(e.includes("ui5.fe.recommendations")){delete o[e]}}n.setProperty(t,o)}}})}}async function f(e,t,n){const o=e.getRowBinding?.()?.getCount();const s=(o??0)+t;let i;if(n!==-1&&o!==undefined&&o>0){if(n===s-1){i=o-1}else{i=n-t+1}await e.focusRow(i,false)}else{e.focus()}}function C(e){const t=e.getObject()["DraftAdministrativeData"];return t&&t["InProcessByUser"]||""}function d(e,t,n){let o="";if(t===1&&n.length===1){const t=C(n[0]);o=e.getText("C_TRANSACTION_HELPER_CONFIRM_DELETE_WITH_SINGLE_OBJECT_LOCKED",[t])}else if(n.length==1){const s=C(n[0]);o=e.getText("C_TRANSACTION_HELPER_CONFIRM_DELETE_WITH_OBJECTINFO_AND_ONE_OBJECT_LOCKED",[t,s])}else if(n.length>1){o=e.getText("C_TRANSACTION_HELPER_CONFIRM_DELETE_WITH_OBJECTINFO_AND_FEW_OBJECTS_LOCKED",[n.length,t])}return o}function A(e,t,n){let o="";if(n===t){if(t===1){o=e.getText("C_TRANSACTION_HELPER_CONFIRM_DELETE_ONLY_DRAFT_OF_NON_DELETABLE_ACTIVE")}else{o=e.getText("C_TRANSACTION_HELPER_CONFIRM_DELETE_ONLY_DRAFTS_OF_NON_DELETABLE_ACTIVE")}}else if(t===1){o=e.getText("C_TRANSACTION_HELPER_CONFIRM_DELETE_DRAFT_OF_NON_DELETABLE_ACTIVE")}else{o=e.getText("C_TRANSACTION_HELPER_CONFIRM_DELETE_DRAFTS_OF_NON_DELETABLE_ACTIVE")}return o}function N(e){const t=e.getObject()["DraftAdministrativeData"];let n="";if(t){n=t["LastChangedByUserDescription"]||t["LastChangedByUser"]||""}return n}function g(e,t,n,o){let s="",i="",l=false;if(t===1&&n.length===1){const t=N(n[0]);s=e.getText("C_TRANSACTION_HELPER_CONFIRM_DELETE_WITH_UNSAVED_CHANGES",[t]);l=true}else if(t===n.length){s=e.getText("C_TRANSACTION_HELPER_CONFIRM_DELETE_WITH_UNSAVED_CHANGES_MULTIPLE_OBJECTS");l=true}else if(o===n.length){if(n.length===1){const t=N(n[0]);s=e.getText("C_TRANSACTION_HELPER_CONFIRM_DELETE_WITH_UNSAVED_AND_FEW_OBJECTS_LOCKED_SINGULAR",[t])}else{s=e.getText("C_TRANSACTION_HELPER_CONFIRM_DELETE_WITH_UNSAVED_AND_FEW_OBJECTS_LOCKED_PLURAL")}l=true}else if(o>n.length){if(n.length===1){const t=N(n[0]);i=e.getText("C_TRANSACTION_HELPER_CONFIRM_DELETE_WITH_OBJECTINFO_AND_FEW_OBJECTS_UNSAVED_SINGULAR",[t])}else{i=e.getText("C_TRANSACTION_HELPER_CONFIRM_DELETE_WITH_OBJECTINFO_AND_FEW_OBJECTS_UNSAVED_PLURAL")}}return{infoTxt:s,optionTxt:i,optionWithoutTxt:l}}function D(e,t,n){const{numberOfSelectedContexts:s,entitySetName:i,lockedContexts:l=[],draftsWithNonDeletableActive:a=[]}=e;const E=s-(l.length+t-a.length);let r="";if(E>0&&(t===0||a.length===t)){if(l.length>0){if(E===1){r=n.getText("C_TRANSACTION_HELPER_CONFIRM_DELETE_WITH_ALL_REMAINING_NON_DELETABLE_SINGULAR")}else{r=n.getText("C_TRANSACTION_HELPER_CONFIRM_DELETE_WITH_ALL_REMAINING_NON_DELETABLE_PLURAL")}}else if(E===1){r=n.getText("C_TRANSACTION_HELPER_CONFIRM_DELETE_WITH_SINGLE_AND_ONE_OBJECT_NON_DELETABLE",undefined,i)}else{r=n.getText("C_TRANSACTION_HELPER_CONFIRM_DELETE_WITH_MULTIPLE_AND_ALL_OBJECT_NON_DELETABLE",undefined,i)}}else if(E===1){r=n.getText("C_TRANSACTION_HELPER_CONFIRM_DELETE_WITH_OBJECTINFO_AND_ONE_OBJECT_NON_DELETABLE",[s],i)}else if(E>1){r=n.getText("C_TRANSACTION_HELPER_CONFIRM_DELETE_WITH_OBJECTINFO_AND_FEW_OBJECTS_NON_DELETABLE",[E,s],i)}return r?new o({text:r}):undefined}function O(e,t){return t.reduce((e,t)=>t.selected&&t.type!==E.draftsToDeleteBeforeActive?e.concat(t.contexts):e,e)}function u(e){const t=[];return e.reduce((e,t)=>t.selected&&t.type===E.draftsToDeleteBeforeActive?e.concat(t.contexts):e,t)}function L(e,t,n,s,i,l){let{numberOfSelectedContexts:a,draftsWithDeletableActive:c,unSavedContexts:_,lockedContexts:T,draftsWithNonDeletableActive:f}=e;c??=[];_??=[];T??=[];f??=[];a??=0;let C="";if(c.length>0){const e=[];c.forEach(n=>{e.push(n.draft);t.push(n.siblingInfo.targetContext)});if(e.length>0){l.push({type:E.draftsToDeleteBeforeActive,contexts:e,selected:true})}}if(T.length>0){C=y.getLockedObjectsText(s,a,T)||"";i.push(new o({text:C}))}const d=a!=n-f.length+T.length;const A=d&&y.getNonDeletableText(e,n,s);if(A){i.push(A)}if(_.length>0){const e=y.getUnsavedContextsText(s,a,_,n)||{};if(e.infoTxt){i.push(new o({text:e.infoTxt}))}if(e.optionTxt||e.optionWithoutTxt){l.push({type:E.unSavedContexts,contexts:_,text:e.optionTxt,selected:true,control:r.CHECKBOX})}}if(f.length>0){const e=y.getNonDeletableActivesOfDraftsText(s,f.length,n)||"";if(e){l.push({type:E.draftsWithNonDeletableActive,contexts:f,text:e,selected:true,control:n>0?r.CHECKBOX:r.TEXT})}}}function I(e,t){if(e.length===1){const n=e[0];if(n.text){const e=new o;e.setText(n.text);t.push(e)}}else if(e.length>1){e.forEach(e=>{if(e.control==="text"&&e.text){const n=new o;n.setText(e.text);t.push(n)}});e.forEach(e=>{if(e.control==="checkBox"&&e.text){t.push(new n({text:e.text,selected:true,select:function(t){const n=t.getSource();const o=n.getSelected();e.selected=o}}))}})}}function x(e,t){const{draftsWithDeletableActive:n}=e;const o=n?.find(e=>e.siblingInfo.targetContext===t);return o?.draft?o.draft:t}function R(e,t,n){let{numberOfSelectedContexts:o,lockedContexts:s,draftsWithNonDeletableActive:i,unSavedContexts:l}=e;const{entitySetName:a,parentControl:c,description:_}=e;i??=[];l??=[];s??=[];i??=[];o??=0;const T=t.length+i.length+l.length;const f=o-(s.length+T-i.length);const C=[];if(o===1&&o===t.length){const o=c;const s=o&&o.getParent().getIdentifierColumn();let i;if(s){const o=_&&_.path;const l=x(e,t[0]).getObject();const E=s?l[s]:undefined;const r=o&&l[o];if(E){if(r&&_&&s!==_.path){i=n.getText("C_TRANSACTION_HELPER_CONFIRM_DELETE_WITH_OBJECTINFO",[E,r],a)}else{i=n.getText("C_TRANSACTION_HELPER_CONFIRM_DELETE_WITH_OBJECTTITLE_ONLY",[E],a)}}else{i=n.getText("C_TRANSACTION_HELPER_CONFIRM_DELETE_WITH_OBJECTTITLE_SINGULAR",undefined,a)}}else{i=n.getText("C_TRANSACTION_HELPER_CONFIRM_DELETE_WITH_OBJECTTITLE_SINGULAR",undefined,a)}C.push({type:E.deletableContexts,contexts:t,text:i,selected:true,control:r.TEXT})}else if(l.length!==T&&o>0&&(t.length>0||l.length>0&&i.length>0)){if(o>t.length&&f+s.length>0){let e="";if(T===1){e=n.getText("C_TRANSACTION_HELPER_CONFIRM_DELETE_WITH_OBJECTTITLE_SINGULAR_NON_DELETABLE",undefined,a)}else{e=n.getText("C_TRANSACTION_HELPER_CONFIRM_DELETE_WITH_OBJECTTITLE_PLURAL_NON_DELETABLE",undefined,a)}C.unshift({type:E.deletableContexts,contexts:t,text:e,selected:true,control:r.TEXT})}else{const e=T===1?n.getText("C_TRANSACTION_HELPER_CONFIRM_DELETE_WITH_OBJECTTITLE_SINGULAR",undefined,a):n.getText("C_TRANSACTION_HELPER_CONFIRM_DELETE_WITH_OBJECTTITLE_PLURAL",undefined,a);C.push({type:E.deletableContexts,contexts:t,text:e,selected:true,control:r.TEXT})}}return C}async function h(n,o,s,i){const l=[];await Promise.allSettled(n.map(async function(n){try{return await t.deleteDraft(n,o,s,i)}catch(t){e.error(`FE : core : DeleteHelper : Error while discarding draft with path : ${n.getPath()}`);l.push(t)}}));return l}function p(e){const t=[...e];t.forEach((e,n)=>{if(e===undefined){return}for(let o=n+1;o<t.length;o++){const n=t[o];if(n&&e.isAncestorOf(n)){t[o]?.setSelected(false);t[o]=undefined}}});return t.filter(e=>e!==undefined)}async function S(e,n,o,s,i,l,a){const E=o.registerToHoldMessages();let r=[];try{r=y.getConfirmedDeletableContext([],e);const c=r[r.length-1].getIndex()??-1;const _=u(e);const{beforeDeleteCallBack:T}=n;if(T){await T({contexts:r})}if(r.length){const E=r.length===1?true:false;const T=await h(_,o,i,E);let f=r;if(a==="Tree"){f=p(r)}await Promise.all(f.map(async function(e){if(!l||n.draftsWithDeletableActive?.find(t=>t.siblingInfo.targetContext===e)||a==="Analytical"){e.resetChanges();return e.getModel().delete(e.getCanonicalPath())}else{return t.deleteDraft(e,o,i,E)}}));y.afterDeleteProcess(n,e,r,s,c);if(T.length>0){throw Error(`FE : core : DeleteHelper : Errors on draft delete : ${T}`)}}o.removeHoldKey(E)}catch(e){if(r.length>1){y.addGenericDeleteFailureMessage(s)}await o.showMessages({unHoldKey:E});throw e}}function b(e){a.addMessages(new i({message:e.getText("C_COMMON_DELETE_CHANGESET_FAILURE_MULTIPLE_ERRORS_TEXT"),type:l.Error,target:undefined,persistent:true,code:"FE_CUSTOM_MESSAGE_CHANGESET_ALL_FAILED",description:e.getText("C_COMMON_DELETE_CHANGESET_FAILURE_MULTIPLE_ERRORS_DETAILS_TEXT"),technicalDetails:{fe:{changeSetPreTextForSingleError:e.getText("C_COMMON_DELETE_CHANGESET_FAILURE_SINGLE_ERROR_TEXT")}}}))}async function v(e,n,o){try{if(!e.isActive&&e.hasActive){const s=await t.computeSiblingInformation(e.context,e.context);e.siblingInfo=s;e.siblingDeletable=n?await(s?.targetContext?.requestProperty(n)):o}else if(e.isActive&&e.hasDraft){const s=await t.computeSiblingInformation(e.context,e.context);if(s?.targetContext){const t=["IsActiveEntity","HasActiveEntity"];if(n){t.push(n)}await s.targetContext.requestProperty(t);e.locked=false;e.hasDraft=false;e.isActive=false;e.hasActive=true;e.siblingInfo={targetContext:e.context,pathMapping:[]};e.context=s.targetContext;e.siblingDeletable=e.deletable;e.deletable=n?s.targetContext.getProperty(n):o}}}catch(e){}}async function P(e){const t=!!e?.getObject()?.["@$ui5.context.isTransient"];const n=e?.isInactive();const o=n||!n&&t?undefined:e.getModel().getMetaModel().getMetaContext(e.getCanonicalPath());const s=o?.getProperty("@Org.OData.Capabilities.V1.DeleteRestrictions/Deletable/$Path");const i=!s&&o?.getProperty("@Org.OData.Capabilities.V1.DeleteRestrictions/Deletable")!==false;const l=s?e.getProperty(s):i;const a={context:e,isDraftRoot:!!o?.getProperty("@com.sap.vocabularies.Common.v1.DraftRoot"),isDraftNode:!!o?.getProperty("@com.sap.vocabularies.Common.v1.DraftNode"),isActive:true,hasActive:false,hasDraft:false,locked:false,deletable:l,siblingInfo:undefined,siblingDeletable:false,isInactiveContext:!!e.isInactive()};if(!e.isInactive()&&a.isDraftRoot){const t=e.getObject();a.locked=!!t.DraftAdministrativeData?.InProcessByUser;a.hasDraft=t.HasDraftEntity;a.isActive=t.IsActiveEntity;a.hasActive=t.HasActiveEntity;await v(a,s,i)}return a}async function H(e,t){let n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;const o=await Promise.all(t.map(P));const s=[{key:"draftsWithDeletableActive",value:o.filter(e=>!e.isInactiveContext&&e.isDraftRoot&&!e.isActive&&e.hasActive&&e.siblingDeletable)},{key:"draftsWithNonDeletableActive",value:o.filter(e=>!e.isInactiveContext&&e.isDraftRoot&&!e.isActive&&e.hasActive&&!e.siblingDeletable)},{key:"lockedContexts",value:o.filter(e=>!e.isInactiveContext&&e.isDraftRoot&&e.isActive&&e.hasDraft&&e.locked)},{key:"unSavedContexts",value:o.filter(e=>!e.isInactiveContext&&e.isDraftRoot&&e.isActive&&e.hasDraft&&!e.locked)},{key:"deletableContexts",value:o.filter(e=>e.isInactiveContext||!e.isDraftRoot&&!e.isDraftNode&&e.deletable||e.isDraftRoot&&e.isActive&&!e.hasDraft&&e.deletable||e.isDraftRoot&&!e.isActive&&!e.hasActive||e.isDraftNode&&e.deletable)}];const i=!n?"":"contextmenu/";for(const{key:t,value:n}of s){e.setProperty(i+t,n.map(e=>t==="draftsWithDeletableActive"?{draft:e.context,siblingInfo:e.siblingInfo}:e.context))}}const y={getNonDeletableText:D,deleteConfirmHandler:S,getOptionsForDeletableTexts:R,updateContentForDeleteDialog:I,updateDraftOptionsForDeletableTexts:L,getConfirmedDeletableContext:O,getLockedObjectsText:d,getUnsavedContextsText:g,getNonDeletableActivesOfDraftsText:A,afterDeleteProcess:T,updateDeleteInfoForSelectedContexts:H,DeleteOptionTypes:E,DeleteDialogContentControl:r,setFocusAfterDelete:f,getContextInfos:P,addGenericDeleteFailureMessage:b,removeDescendantContexts:p};return y},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/helpers/DynamicAnnotationPathHelper", ["sap/ui/base/BindingParser"],function(s){"use strict";var t={};function r(s,t){if(!s){return null}const e=t.split("/");if(e.length===1){return s[t]}else{return r(s[e[0]],e.splice(1).join("/"))}}function e(t,n){if(t.includes("[")){const i=t.indexOf("[");const u=t.substring(0,i);const l=t.substring(i+1);const a=l.indexOf("]");const o=n.getObject(u);const c=s.parseExpression(l.substring(0,a));if(Array.isArray(o)&&c&&c.result&&c.result.parts&&c.result.parts[0]&&c.result.parts[0].path){let s;let i=false;for(s=0;s<o.length&&!i;s++){const t=r(o[s],c.result.parts[0].path);const e=c.result.formatter(t);if(e){i=true}}if(i){t=e(u+(s-1)+l.substring(a+1),n)}}}return t}t.resolveDynamicExpression=e;return t},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/helpers/EditState", [],function(){"use strict";const t={CLEAN:0,PROCESSED:1,DIRTY:2};let e=t.CLEAN;return{setEditStateDirty:function(){e=t.DIRTY},setEditStateProcessed:function(){e=t.PROCESSED},resetEditState:function(){e=t.CLEAN},isEditStateDirty:function(){return e!==t.CLEAN},cleanProcessedEditState:function(){if(e===t.PROCESSED){e=t.CLEAN}}}},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/helpers/ExcelFormatHelper", ["sap/ui/core/format/DateFormat"],function(e){"use strict";const t={getExcelDatefromJSDate:function(){let t=e.getDateInstance().oFormatOptions?.pattern?.toLowerCase();if(t){const e=/^[^y]*y[^y]*$/m;if(e.exec(t)){t=t.replace("y","yyyy")}}return t},getExcelDateTimefromJSDateTime:function(){let t=e.getDateTimeInstance().oFormatOptions?.pattern?.toLowerCase();if(t){const e=/^[^y]*y[^y]*$/m;if(e.exec(t)){t=t.replace("y","yyyy")}if(t.includes("a")){t=t.replace("a","AM/PM")}}return t},getExcelTimefromJSTime:function(){let t=e.getTimeInstance().oFormatOptions?.pattern;if(t&&t.includes("a")){t=t.replace("a","AM/PM")}return t}};return t},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/helpers/FPMHelper", ["sap/base/Log","sap/base/util/ObjectPath","sap/fe/core/CommonUtils"],function(e,t,n){"use strict";const o={loadModuleAndCallMethod:async function(e,o,r){for(var i=arguments.length,a=new Array(i>3?i-3:0),s=3;s<i;s++){a[s-3]=arguments[s]}return new Promise(function(i){let s;let l;if(r.isA("sap.ui.base.Event")){l=n.getTargetView(r.getSource())}else{l=r}if(l.getControllerName()==="sap.fe.templates.ObjectPage.ObjectPageController"||l.getControllerName()==="sap.fe.ariba.ObjectPage.ObjectPageController"||l.getControllerName()==="sap.fe.templates.ListReport.ListReportController"||l.getControllerName()==="sap.fe.ariba.ListReport.ListReportController"){s=l.getController().getExtensionAPI()}if(e.startsWith("/extension/")){const n=t.get(e.replace(/\//g,".").substring(1),s);i(n[o](...a))}else{sap.ui.require([e],function(e){i(e[o].bind(s)(...a))})}})},actionWrapper:async function(t,r,i,a){if(!r||!i){e.debug("Both the module and the method must be defined to execute a custom action");return}const s=t.getSource?t.getSource():t.oSource,l=n.getTargetView(s),u=s.getBindingContext();let c;let g;if(a!==undefined){g=a.contexts||[]}else if(u!==undefined){g=[u]}else{g=[]}if(s.getParent()?.isA("sap.ui.mdc.actiontoolbar.ActionToolbarAction")||s.getParent()?.isA("sap.m.MenuWrapper")){c=o.getMdcTable(s)?.getRowBinding()}return o.loadModuleAndCallMethod(r,i,l,u,g,c)},getMdcTable:function(e){const t=e.getParent();if(!t||t.isA("sap.ui.mdc.Table")){return t}return o.getMdcTable(t)},validationWrapper:async function(e,t,n,r,i){return o.loadModuleAndCallMethod(e,t,r,i,n)},getCustomFunction(o,r,i){let a;if(i.isA("sap.ui.base.Event")){a=i.getSource()}else{a=i}const s=n.getTargetView(a);const l=s.getController().getExtensionAPI();let u;if(o.startsWith("/extension/")){const e=t.get(o.replace(/\//g,".").substring(1),l);u=e?e[r]:undefined}else{const e=sap.ui.require(o);u=e?e[r]?.bind(l):undefined}if(!u){e.error(`Couldn't find method ${r} in ${o}`)}return u}};return o},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/helpers/HTTP503Handler", ["sap/fe/core/controllerextensions/BusyLocker","sap/fe/core/helpers/PromiseKeeper","sap/m/Button","sap/m/Dialog","sap/m/ProgressIndicator","sap/m/Text","sap/m/VBox"],function(e,t,n,r,s,a,o){"use strict";const l={createDialog(e){return new r(e)},async _handleDelayBusy(t,n){e.lock(n);return new Promise(r=>{setTimeout(()=>{e.unlock(n);r(undefined)},t)})},async _handleDelayProgressBar(e,r,l){const c=new t;const i=new a;const u=new s({displayOnly:true,percentValue:0,showValue:false});const f=new o({items:[new a({text:l.getText("C_MESSAGE_HANDLING_SAPFE_503_TITLE")})]});if(r.message){f.addItem(new a({text:r.message.replaceAll(/[\n\r]/g," ")}))}f.addItem(i);f.addItem(u);function d(){const t=r.retryAfter.getTime()-Date.now();if(t<=0){return false}else{const n=100-t/e*100;u.setPercentValue(n);const r=Math.ceil(t/1e3);const s=Math.floor(r/60);const a=r%60;if(s>0){i.setText(l.getText("C_UNAVAILABLE_SERVER_MESSAGE_MINUTES_SECONDS",[s,a]))}else{i.setText(l.getText("C_UNAVAILABLE_SERVER_MESSAGE_SECONDS",[a]))}return true}}const _=setInterval(()=>{if(!d()){clearInterval(_);A.close();c.resolve(undefined)}},100);const m=()=>{clearInterval(_);A.close();delete r.retryAfter;c.reject(r)};const A=this.createDialog({type:"Message",title:l.getText("WARNING"),content:[f],endButton:new n({text:l.getText("C_COMMON_DIALOG_CANCEL"),press:m}),state:"Warning"});d();A.open();return c.promise},async handle503Delay(e,t,n){if(e.retryAfter===undefined){return Promise.reject(e)}const r=e.retryAfter.getTime()-Date.now();if(r<5e3){return this._handleDelayBusy(r,t)}else if(r<6e5){return this._handleDelayProgressBar(r,e,n)}else{return Promise.reject(e)}}};return l},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/helpers/KeepAliveHelper", ["sap/base/Log","sap/fe/core/helpers/KeepAliveRefreshTypes","./ModelHelper"],function(t,e,n){"use strict";var o=e.RefreshStrategyType;var r=e.PATH_TO_STORE;const s=function(t,e){const o=n.getEntitySetPath(e);const r=o.includes("$NavigationPropertyBinding")&&t.getObject(o);return r?`/${r}`:e};const i=function(t,e,n){return t===e||n===o.IncludingDependents&&t.startsWith(e)};const c=function(t,e,n,o){let r=e.startsWith("/")?e:`/${e}`,c=n.startsWith("/")?n:`/${n}`;if(!i(r,c,o)){r=s(t,r);if(!i(r,c,o)){c=s(t,c)}else{return true}}return i(r,c,o)};const a=function(t,e){const n=[];const o=t.getModel().getMetaModel();const s=t.getModel("internal");const i=s.getProperty(r)||{};if(e){e.forEach(function(t){const e=t.data("targetCollectionPath");for(const r in i){const s=i[r];if(!n.includes(t)&&c(o,e,r,s)){n.push(t)}}})}return n};const f=function(t,e){const n=t.getModel().getMetaModel();const o=t.getModel("internal");const s=o.getProperty(r)||{};let i;if(e){for(const t in s){const o=s[t];if(c(n,e,t,o)){i=o;if(i==="includingDependents"){break}}}}return i};const g=function(t){const e=t.getViewData(),n=e&&(e?.contextPath||`/${e?.entitySet}`);return h.getControlRefreshStrategyForContextPath(t,n)};const u=function(t,e,n){const o=e&&n&&`${e}-${n}`;const r=t.intents;const s=r&&o&&r[o];const i=!s&&r&&e&&r[e];return s||i||t?.defaultBehavior||t?._feDefault};const l=function(t,e){if(t&&t.getModel("viewData")&&t.getModel("internal")){const n=t.getModel("viewData");const o=n.getProperty(r);if(o){const n=t.getModel("internal");const s=h.getRefreshStrategyForIntent(o,e?.semanticObject,e?.action);n.setProperty(r,s)}}};const d=async function(e){const n=e.getBindingContext("internal");const o=e.getController();const r=o?.viewState;let s=Promise.resolve();if(n&&n.getProperty("restoreStatus")==="pending"){if(r.refreshViewBindings){s=r.refreshViewBindings();s.then(function(){t.info(`FE V4: Refresh was triggered successfull: ${e.getId()}`);return}).catch(function(n){t.warning(`FE V4: Refresh was unsuccessfull: ${e.getId()}`,n)})}s=s.then(function(){r.onRestore();n.setProperty("restoreStatus","done");return}).catch(function(n){t.warning(`FE V4: Restore was unsuccessfull: ${e.getId()}`,n)})}return s};const h={getControlsForRefresh:a,getControlRefreshStrategyForContextPath:f,getViewRefreshInfo:g,getRefreshStrategyForIntent:u,storeControlRefreshStrategyForHash:l,restoreView:d};return h},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/helpers/KeepAliveRefreshTypes", [],function(){"use strict";var e={};let n=function(e){e["Self"]="self";e["IncludingDependents"]="includingDependents";return e}({});e.RefreshStrategyType=n;const t="/refreshStrategyOnAppRestore";e.PATH_TO_STORE=t;return e},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/helpers/LoaderUtils", ["sap/base/Log"],function(e){"use strict";var n={};async function r(n){let r;let i;const s=new Promise((e,n)=>{r=e;i=n});if(n.length>0){sap.ui.require(n,function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++){n[i]=arguments[i]}r(n)},r=>{e.error(`Error while loading dependency modules: ${n.join(", ")}: ${r}`);i(r)})}else{r([])}return s}n.requireDependencies=r;return n},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/helpers/ManifestHelper", [],function(){"use strict";var e={};function t(e){return(Array.isArray(e)?e:[e]).map(r)}e.getRouteTargetNames=t;function r(e){return typeof e==="object"?e.name:e}e.getRouteTargetName=r;return e},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/helpers/MessageStrip", ["sap/fe/core/CommonUtils","sap/fe/core/helpers/ResourceModelHelper","sap/ui/core/Lib","sap/ui/Device"],function(e,t,n,o){"use strict";var r=t.getLocalizedText;function s(e,t,n,o){const s=n.getModel().getMetaModel(),_=e.map(function(e){if(e==="$search"){return o.getText("M_FILTERBAR_SEARCH")||""}if(e==="$editState"){return o.getText("FILTERBAR_EDITING_STATUS")||""}const _=s.getObject(`${t}${e}@com.sap.vocabularies.Common.v1.Label`)??e;return r(_,n)});return _}function _(t,o,r){let s="";let _=[];const c=R();if(!c){return""}const i=e.getTargetView(o);const a=i.getController().getChartControl?.();const l=a?.data("draftSupported")==="true";const L=n.getResourceBundleFor("sap.fe.macros");r=r&&t.includes(L.getText("M_FILTERBAR_SEARCH"));const g=`C_LR_MULTIVIZ_CHART_${T(t)}_IGNORED_FILTER_${u()}`;if(l&&(t.length===2&&r||t.length===1)){s=t.length===1?"C_MULTIVIZ_CHART_IGNORED_FILTER_DRAFT_DATA":"C_LR_MULTIVIZ_CHART_IGNORED_FILTER_DRAFT_DATA_AND_SEARCH"}else{s=g;_=[t.join(", ")]}return c.getText(s,_)}function c(e,t,n){const o=R();return o?o.getText(`C_LR_MULTITABLES_${T(e)}_IGNORED_FILTER_${u()}`,[e.join(", "),r(n,t)]):""}function u(){return o.system.desktop?"LARGE":"SMALL"}function T(e){return e.length===1?"SINGLE":"MULTI"}function R(){return n.getResourceBundleFor("sap.fe.templates")}const i={getALPText:_,getText:c,getLabels:s};return i},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/helpers/MetaModelFunction", ["sap/fe/base/BindingToolkit","sap/fe/core/converters/helpers/IssueManager","sap/fe/core/helpers/ModelHelper","sap/fe/core/type/EDM","../converters/MetaModelConverter"],function(e,t,r,i,n){"use strict";var o={};var s=n.getInvolvedDataModelObjects;var a=i.isTypeFilterable;var l=t.IssueSeverity;var c=t.IssueCategoryType;var u=t.IssueCategory;var p=e.pathInModel;var f=e.or;var g=e.not;var d=e.compileExpression;function P(e,t){let i;let n;const o="$NavigationPropertyBinding";const s="@Org.OData.Capabilities.V1.SearchRestrictions";const a=e.replaceAll("%2F","/").split("/").filter(r.filterOutNavPropBinding);const l=r.getEntitySetPath(e,t);const c=l.split("/").filter(r.filterOutNavPropBinding);const u=t.getObject(`/${a.join("/")}/$ContainsTarget`)?true:false;const p=u?a[a.length-1]:"";if(!u){i=t.getObject(`${l}${s}`)}if(a.length>1){const e=u?p:c[c.length-1];const r=`/${o}/`;const i=u?l:`/${c.slice(0,-1).join(r)}`;const s=V.getNavigationRestrictions(t,i,e.replaceAll("%2F","/"));n=s?.SearchRestrictions}return n??i}o.getSearchRestrictions=P;function h(e,t,r){const i=e.getObject(`${t}@Org.OData.Capabilities.V1.NavigationRestrictions`);const n=i?.RestrictedProperties;return n?.find(function(e){return e.NavigationProperty?.$NavigationPropertyPath===r})}o.getNavigationRestrictions=h;function v(e,t,r){let i=false;const n=e.getObject(`${t}@Org.OData.Capabilities.V1.FilterRestrictions`);if(n?.NonFilterableProperties){i=n.NonFilterableProperties.some(function(e){return e.$NavigationPropertyPath===r||e.$PropertyPath===r})}return i}function b(e,t,r){let i=false;const n=e.getObject(t+"@Org.OData.Aggregation.V1.ApplySupported")?true:false;if(n){const n=e.getObject(`${t}@`);const o=V.getAllCustomAggregates(n);const s=o?Object.keys(o):undefined;if(s?.includes(r)){i=true}}return i}o.isCustomAggregate=b;function y(e,t,r,i){let n=e.split("/").length===2&&!r.includes("/")?!v(t,e,r):!R(t,e,r);if(n&&i){const e=m(i);if(e){n=e?a(e):false}else{n=false}}return n}function R(e,t,r){const i=`${t}/${r}`,n=i.split("/").splice(0,2),o=i.split("/").splice(2);let s=false,a="";t=n.join("/");s=o.some(function(r,i,n){if(a.length>0){a+=`/${r}`}else{a=r}if(i===n.length-2){const i=V.getNavigationRestrictions(e,t,r);const o=i?.FilterRestrictions;const s=o?.NonFilterableProperties;const a=n[n.length-1];if(s?.find(function(e){return e.$PropertyPath===a})){return true}}if(i===n.length-1){s=v(e,t,a)}else if(e.getObject(`${t}/$NavigationPropertyBinding/${r}`)){s=v(e,t,a);a="";t="/"+e.getObject(`${t}/$NavigationPropertyBinding/${r}`)}return s});return s}function m(e){let t=e.getProperty("$Type");if(!e.getProperty("$kind")){switch(t){case"com.sap.vocabularies.UI.v1.DataFieldForAction":case"com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation":t=undefined;break;case"com.sap.vocabularies.UI.v1.DataField":case"com.sap.vocabularies.UI.v1.DataFieldWithNavigationPath":case"com.sap.vocabularies.UI.v1.DataFieldWithUrl":case"com.sap.vocabularies.UI.v1.DataFieldWithIntentBasedNavigation":case"com.sap.vocabularies.UI.v1.DataFieldWithAction":t=e.getProperty("Value/$Path/$Type");break;case"com.sap.vocabularies.UI.v1.DataFieldForAnnotation":default:const r=e.getProperty("Target/$AnnotationPath");if(r){if(r.includes("com.sap.vocabularies.Communication.v1.Contact")){t=e.getProperty("Target/$AnnotationPath/fn/$Path/$Type")}else if(r.includes("com.sap.vocabularies.UI.v1.DataPoint")){t=e.getProperty("Value/$Path/$Type")}else{t=undefined}}else{t=undefined}break}}return t}function $(e,t,r,i){if(typeof r!=="string"){throw new Error("sProperty parameter must be a string")}if(e.getObject(`${t}/@com.sap.vocabularies.Common.v1.ResultContext`)===true){return true}const n=e.createBindingContext(`${t}/${r}`);if(n&&!i){if(n.getProperty("@com.sap.vocabularies.UI.v1.Hidden")===true||n.getProperty("@com.sap.vocabularies.UI.v1.HiddenFilter")===true){return false}const e=n.getProperty("@com.sap.vocabularies.UI.v1.Hidden/$Path");const t=n.getProperty("@com.sap.vocabularies.UI.v1.HiddenFilter/$Path");if(e&&t){return d(g(f(p(e),p(t))))}else if(e){return d(g(p(e)))}else if(t){return d(g(p(t)))}}return y(t,e,r,n)}o.isPropertyFilterable=$;function O(e,t,r){const i=s(e.getContext(t));const n=[];const o=[];const a=[];const p=V.getRequiredPropertiesFromInsertRestrictions(t,e);const f=i.targetEntityType.entityProperties;for(const e of f){const t=e.annotations,i=e.isKey,s=e.name,f=t.Core?.Immutable?.valueOf()===true,g=!(t.Core?.Computed?.valueOf()===true),d=!(t.UI?.Hidden?.valueOf()===true),P=t.Core?.ComputedDefaultValue?.valueOf()===true,h=i&&e.type==="Edm.Guid"?P&&t.Common?.Text:false;if((h||i&&e.type!=="Edm.Guid")&&g&&d){n.push(s)}else if(p.includes(s)&&d&&!(i&&!n.includes(s))){a.push(s)}else if(f&&g&&d){o.push(s)}if(!g&&P&&r){const e=r.getDiagnostics();const t="Core.ComputedDefaultValue is ignored as Core.Computed is already set to true";e.addIssue(u.Annotation,l.Medium,t,c,c.Annotations.IgnoredAnnotation)}}return n.concat(a).concat(o)}o.getCreatePopupFields=O;function F(e,t){let i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;const n=[];let o=[];const s="$NavigationPropertyBinding";let a=null;if(e.endsWith("$")){e=e.replace("/$","")}const l=e.replaceAll("%2F","/").split("/").filter(r.filterOutNavPropBinding);const c=r.getEntitySetPath(e,t);const u=c.split("/").filter(r.filterOutNavPropBinding);const p=t.getObject(`/${l.join("/")}/$ContainsTarget`)?true:false;const f=p?l[l.length-1]:"";if(!p){a=t.getObject(`${c}@`)}if(l.length>1){const e=p?f:u[u.length-1];const r=`/${s}/`;const n=p?c:`/${u.slice(0,-1).join(r)}`;const l=V.getNavigationRestrictions(t,n,e.replaceAll("%2F","/"));if(l!==undefined&&V.hasRestrictedPropertiesInAnnotations(l,true,i)){o=i?l.UpdateRestrictions?.RequiredProperties??[]:l.InsertRestrictions?.RequiredProperties??[]}if(!o.length&&V.hasRestrictedPropertiesInAnnotations(a,false,i)){o=V.getRequiredPropertiesFromAnnotations(a,i)}}else if(V.hasRestrictedPropertiesInAnnotations(a,false,i)){o=V.getRequiredPropertiesFromAnnotations(a,i)}o.forEach(function(e){const t=e.$PropertyPath;n.push(t)});return n}function I(e,t){return V.getRequiredProperties(e,t)}o.getRequiredPropertiesFromInsertRestrictions=I;function C(e,t){return V.getRequiredProperties(e,t,true)}o.getRequiredPropertiesFromUpdateRestrictions=C;function A(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;if(t){return e?.["@Org.OData.Capabilities.V1.UpdateRestrictions"]?.RequiredProperties??[]}return e?.["@Org.OData.Capabilities.V1.InsertRestrictions"]?.RequiredProperties??[]}function D(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;let r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;if(t){const t=e;if(r){return t?.UpdateRestrictions?.RequiredProperties?true:false}return t?.InsertRestrictions?.RequiredProperties?true:false}else if(r){const t=e;return t?.["@Org.OData.Capabilities.V1.UpdateRestrictions"]?.RequiredProperties?true:false}const i=e;return i?.["@Org.OData.Capabilities.V1.InsertRestrictions"]?.RequiredProperties?true:false}function N(e){const t={};let r;for(const i in e){if(i.startsWith("@Org.OData.Aggregation.V1.CustomAggregate")){r=i.replace("@Org.OData.Aggregation.V1.CustomAggregate#","");const n=r.split("@");if(n.length==2){const r={};if(n[1]=="Org.OData.Aggregation.V1.ContextDefiningProperties"){r.contextDefiningProperties=e[i]}if(n[1]=="com.sap.vocabularies.Common.v1.Label"){r.label=e[i]}t[n[0]]=r}else if(n.length==1){t[n[0]]={name:n[0],propertyPath:n[0],label:`Custom Aggregate (${r})`,sortable:true,sortOrder:"both",custom:true}}}}return t}o.getAllCustomAggregates=N;function q(e){const t={sortable:true,propertyInfo:{}};const r=e["@Org.OData.Capabilities.V1.SortRestrictions"];if(!r){return t}if(r.Sortable===false){t.sortable=false}for(const e of r.NonSortableProperties||[]){const r=e.$PropertyPath;t.propertyInfo[r]={sortable:false}}for(const e of r.AscendingOnlyProperties||[]){const r=e.$PropertyPath;t.propertyInfo[r]={sortable:true,sortDirection:"asc"}}for(const e of r.DescendingOnlyProperties||[]){const r=e.$PropertyPath;t.propertyInfo[r]={sortable:true,sortDirection:"desc"}}return t}o.getSortRestrictionsInfo=q;function U(e){let t,r;const i={filterable:true,requiresFilter:e?.RequiresFilter||false,propertyInfo:{},requiredProperties:[]};if(!e){return i}if(e.Filterable===false){i.filterable=false}if(e.RequiredProperties){for(t=0;t<e.RequiredProperties.length;t++){r=e.RequiredProperties[t].$PropertyPath;i.requiredProperties.push(r)}}const n=e.NonFilterableProperties?.map(e=>e.$PropertyPath)||[];const o=e.FilterExpressionRestrictions?.map(e=>e.Property?.$PropertyPath)||[];E(i.propertyInfo,n,o);if(e.FilterExpressionRestrictions){for(t=0;t<e.FilterExpressionRestrictions.length;t++){r=e.FilterExpressionRestrictions[t].Property?.$PropertyPath;if(r){i.propertyInfo[r]["allowedExpressions"]=e.FilterExpressionRestrictions[t].AllowedExpressions}}}return i}o.getFilterRestrictionsInfo=U;function E(e,t,r){for(let r=0;r<t.length;r++){e[t[r]]={filterable:false}}for(let t=0;t<r.length;t++){const i=r[t];if(i){e[i]={filterable:true}}}}o.getFilterableData=E;function j(e){let t=true;switch(e){case"SearchExpression":case"SingleRange":case"SingleValue":t=false;break;default:break}return t}o.isMultiValueFilterExpression=j;const V={getRequiredProperties:F,getRequiredPropertiesFromAnnotations:A,hasRestrictedPropertiesInAnnotations:D,getRequiredPropertiesFromInsertRestrictions:I,getNavigationRestrictions:h,getAllCustomAggregates:N,getFilterableData:E};o.METAMODEL_FUNCTIONS=V;return o},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/helpers/MetaPath", ["sap/fe/core/helpers/TypeGuards"],function(t){"use strict";var e={};var i=t.isPathAnnotationExpression;var n=t.isAnnotationPath;function a(t){return t&&t.hasOwnProperty("_type")}function r(t,e){if(e){if(e.startsWith("/")){return e}else if(e.startsWith("@")){return t+e}else if(!t.endsWith("/")){return t+"/"+e}else{return t+e}}return t}let o=function(){function t(t,e,i){this.convertedMetadata=t;this.metaPath=e;this.contextPath=i;this.navigationProperties=[];this.contextNavigationProperties=[];this.absolutePath=r(i,e);this.relativePath=this.absolutePath.replace(i,"");if(this.relativePath.startsWith("/")){this.relativePath=this.relativePath.substring(1)}const n=this.convertedMetadata.resolvePath(this.absolutePath);const o=this.convertedMetadata.resolvePath(i);if(n.target===undefined||n.target===null){throw new Error(`No annotation target found for ${e}`)}this.targetObject=n.target;let s;let h;let u;let c=[];n.objectPath.forEach(t=>{if(a(t)){switch(t._type){case"NavigationProperty":c.push(t.name);this.navigationProperties.push(t);u=t.targetType;if(h&&h.navigationPropertyBinding.hasOwnProperty(c.join("/"))){h=h.navigationPropertyBinding[c.join("/")];c=[]}break;case"Singleton":case"EntitySet":if(s===undefined){s=t}h=t;u=h.entityType;break;case"EntityType":if(u===undefined){u=t}break;default:break}}});o.objectPath.forEach(t=>{s=this.getResolvedContextPath(t,u,s)});if(s===undefined||u===undefined){throw new Error("MetaPath doesn't contain an entitySet -> Should never happen")}this.serviceObjectPath=this.contextPath;if(this.navigationProperties.length){this.serviceObjectPath+="/"+this.navigationProperties.map(t=>t.name).join("/")}this.rootEntitySet=s;this.currentEntitySet=h;this.currentEntityType=u}e=t;var o=t.prototype;o.getResolvedContextPath=function t(e,i,n){if(a(e)){switch(e._type){case"NavigationProperty":this.contextNavigationProperties.push(e);break;case"EntitySet":if(this.contextRootEntitySet===undefined){this.contextRootEntitySet=e}if(n===undefined&&e.entityType===i){n=e}break;default:break}}return n};o.getContextPath=function t(){return this.contextPath};o.getPath=function t(e){return r(this.absolutePath,e)};o.getRelativePath=function t(e){return r(this.relativePath,e)};o.getTarget=function t(){return this.targetObject};o.getClosestEntitySet=function t(){let e=this.rootEntitySet;for(const t of this.navigationProperties){if(e.navigationPropertyBinding[t.name]){e=e.navigationPropertyBinding[t.name]}}return e};o.getClosestEntityType=function t(){let e=this.rootEntitySet.entityType;for(const t of this.navigationProperties){e=t.targetType}return e};o.getContextClosestEntitySet=function t(){let e=this.contextRootEntitySet;if(e){for(const t of this.contextNavigationProperties){if(e.navigationPropertyBinding[t.name]){e=e.navigationPropertyBinding[t.name]}}}return e};o.getNavigationProperties=function t(){return this.navigationProperties};o.getMetaPathForPath=function e(i){try{return new t(this.convertedMetadata,r(this.serviceObjectPath,i),this.contextPath)}catch{return undefined}};o.getMetaPathForObject=function e(a){if(n(a)){return this.getMetaPathForPath(a.value)}else if(i(a)){return this.getMetaPathForPath(a.path)}else{let e=a?.fullyQualifiedName?.replace(this.rootEntitySet?.entityType.fullyQualifiedName,this.contextPath);if(e===a?.fullyQualifiedName){e=a.fullyQualifiedName?.replace(this.targetObject?.fullyQualifiedName,this.relativePath)}return new t(this.convertedMetadata,e,this.contextPath)}};o.getConvertedMetadata=function t(){return this.convertedMetadata};o.getDataModelObjectPath=function t(){return{targetObject:this.targetObject,startingEntitySet:this.rootEntitySet,targetEntitySet:this.getClosestEntitySet(),targetEntityType:this.getClosestEntityType(),navigationProperties:this.getNavigationProperties(),convertedTypes:this.convertedMetadata}};return t}();e=o;return e},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/helpers/ModelHelper", ["sap/base/Log","sap/fe/base/BindingToolkit","sap/fe/base/jsx-runtime/jsx","sap/fe/core/controls/Any","sap/fe/core/controls/DataWatcher","sap/fe/core/converters/MetaModelConverter","sap/fe/core/helpers/MetaPath","sap/fe/core/helpers/PromiseKeeper","sap/fe/core/helpers/TypeGuards","sap/ui/core/Element","sap/ui/model/BindingMode","sap/ui/model/json/JSONModel","sap/ui/model/odata/type/Raw"],function(t,e,n,o,i,a,r,s,c,d,g,l,u){"use strict";var f=c.isPathAnnotationExpression;var h=c.isNavigationProperty;var p=c.isEntitySet;var y=a.getInvolvedDataModelObjects;var m=a.convertTypes;var P=e.compileExpression;const M={disableCollaborationDraft:false,isStickySessionSupported:function(t){const e=t.getObject("/");for(const n in e){if(e[n].$kind==="EntitySet"&&t.getObject(`/${n}@com.sap.vocabularies.Session.v1.StickySessionSupported`)){return true}}return false},isDraftSupported:function(t,e){const n=t.getMetaContext(e);const o=y(n);return this.isObjectPathDraftSupported(o)},isObjectPathDraftSupported:function(t){const e=t.targetEntitySet;const n=M.isDraftRoot(e);const o=M.isDraftNode(e);const i=h(t.targetObject)&&t.targetObject?.containsTarget&&(t.startingEntitySet?.annotations?.Common?.DraftRoot||t.startingEntitySet?.annotations?.Common?.DraftNode)?true:false;const a=t.targetEntityType.keys?.some(t=>t.name==="IsActiveEntity");return n||o||!e&&i&&a},isMetaPathDraftSupported:function(t){const e=t.getClosestEntitySet();const n=M.isDraftRoot(e);const o=M.isDraftNode(e);return n||o},isCollaborationDraftSupportedFromConverterContext(t){return t.getConvertedTypes().entitySets.some(t=>t.annotations?.Common?.DraftRoot?.ShareAction!==undefined)},isCollaborationDraftSupported:function(t,e){if(!M.disableCollaborationDraft){const n=e?.context?.getModel()||t;if(n.__$feIsCollaborationDraftEnabled!==undefined){return n.__$feIsCollaborationDraftEnabled}const o=n.getObject("/");for(const t in o){if(o[t].$kind==="EntitySet"&&n.getObject(`/${t}@com.sap.vocabularies.Common.v1.DraftRoot/ShareAction`)){n.__$feIsCollaborationDraftEnabled=true;return true}}n.__$feIsCollaborationDraftEnabled=false}return false},getDraftRootPath:function(t){const e=t.getModel().getMetaModel();const n=function(t,o){let i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:true;const r=i?t:new RegExp(/.*(?=\/)/).exec(t)?.[0];if(r&&r!=="/"){const t=e.getMetaPath(r);const i=a.getInvolvedDataModelObjects(e.getContext(t));if(i.targetEntitySet?.annotations.Common?.DraftRoot){return r}return n(r,o,false)}return undefined};return n(t.getPath(),t.getModel())},getStickyRootPath:function(t){const e=t.getModel().getMetaModel();const n=function(t,o){let i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:true;const r=i?t:new RegExp(/.*(?=\/)/).exec(t)?.[0];if(r&&r!=="/"){const t=e.getMetaPath(r);const i=a.getInvolvedDataModelObjects(e.getContext(t));if(i.startingEntitySet===i.targetEntitySet&&i.targetEntitySet?.annotations?.Session?.StickySessionSupported){return r}return n(r,o,false)}return undefined};return n(t.getPath(),t.getModel())},getTargetEntitySet:function(t){const e=t.getPath();if(t.getObject("$kind")==="EntitySet"||t.getObject("$kind")==="Action"||t.getObject("0/$kind")==="Action"){return e}const n=M.getEntitySetPath(e);return`/${t.getObject(n)}`},getEntitySetPath:function(t,e){let n="";if(!e){n=`/${t.split("/").filter(M.filterOutNavPropBinding).join("/$NavigationPropertyBinding/")}`}else{const o=t.split("/").filter(M.filterOutNavPropBinding);if(o.length>1){const t={growingPath:"/",pendingNavPropBinding:""};const i=o.reduce((t,n,o)=>{const i=!!o&&"/$NavigationPropertyBinding/"||"";let{growingPath:a,pendingNavPropBinding:r}=t;const s=a+i;const c=e.getObject(s);const d=r?`${r}/${n}`:n;if(c&&Object.keys(c).length>0&&c.hasOwnProperty(d)){a=s+d.replace("/","%2F");r=""}else{r+=r?`/${n}`:n}return{growingPath:a,pendingNavPropBinding:r}},t);n=i.growingPath}else{n=`/${o[0]}`}}return n},getActionParameterItemsModelPath:function(t){return t&&t.$Name?`{path: 'mvfview>/${t.$Name}'}`:undefined},filterOutNavPropBinding:function(t){return t!==""&&t!=="$NavigationPropertyBinding"},enhanceInternalJSONModel:function(t){const e=t.bindContext;t.bindContext=function(t,n,o,i){const a=e.apply(this,[t,n,o,i]);const r=a.getBoundContext;a.getBoundContext=function(){const t=r.apply(this);if(t){t.setProperty=function(t,e){if(this.getObject()===undefined){this.getModel().setProperty(this.getPath(),{})}const n=t.split("/");let o=this.getPath().replace(/\/$/,"");for(let t=0;t<n.length-1;t++){o=`${o}/${n[t]}`;if(this.getModel().getProperty(o)===undefined){this.getModel().setProperty(o,{})}}this.getModel().setProperty(t,e,this)}}return t};return a}},enhanceUiJSONModel:function(t,e){const n=t.setProperty;t.setProperty=function(o,i,a,r){if(o==="/isEditable"){t.setProperty("/editMode",i?e.EditMode.Editable:e.EditMode.Display,a,r)}return n.apply(this,[o,i,a,r])}},enhanceViewJSONModel:function(t){const e=t._getObject;t._getObject=function(t,n){if(t===undefined||t===""){t="/"}return e.apply(this,[t,n])}},isFilteringCaseSensitive:function(t,e){const n=e??t?.getObject("/@Org.OData.Capabilities.V1.FilterFunctions");if(!n){return true}return n.indexOf("tolower")===-1},getMetaPathForContext:function(t){const e=t.getModel(),n=e.getMetaModel(),o=t.getPath();return n&&o&&n.getMetaPath(o)},getRootEntitySetPath:function(t){let e="";const n=t?t.split("/"):[];if(n.length>1){e=n[1]}return e},getAbsoluteMetaPathForListBinding:function(t,e){const n=t.getModel().getMetaModel();let o;if(typeof e==="string"){if(e.startsWith("/")){o=n.getMetaPath(e)}else{const i=t.getBindingContext();const a=i.getPath();o=n.getMetaPath(`${a}/${e}`)}}else{const i=e;const a=i.getRootBinding();if(i===a){o=n.getMetaPath(i.getPath())}else{const r=a.getPath();const s=i.getPath();if(e.getContext()===t.getBindingContext()){o=n.getMetaPath(`${r}/${s}`)}else{o=`${n.getMetaPath(e.getContext().getPath())}/${s}`}}}return o},getRelativeMetaPathForListBinding(t,e){const n=e.getContext();const o=t.getPath();if(!n){return}if(n.getPath()===o){return e.getPath()}if(n.getPath().startsWith(o)){const t=e.getModel().getMetaModel();const i=t.getMetaPath(o);return`${t.getMetaPath(n.getPath())}/${e.getPath()}`.replace(`${i}/`,"")}return},isDraftRoot:function(t){return this.getDraftRoot(t)!==undefined},isDraftNode:function(t){return this.getDraftNode(t)!==undefined},isSticky:function(t){return this.getStickySession(t)!==undefined},isUpdateHidden:function(t,e){if(p(t)){return t.annotations.UI?.UpdateHidden??e?.annotations.UI?.UpdateHidden}},getDraftRoot:function(t){return p(t)?t.annotations.Common?.DraftRoot:undefined},getDraftNode:function(t){return p(t)?t.annotations.Common?.DraftNode:undefined},getStickySession:function(t){return p(t)?t.annotations.Session?.StickySessionSupported:undefined},getDeleteHidden:function(t,e){if(p(t)){return t.annotations.UI?.DeleteHidden??e.annotations.UI?.DeleteHidden}},getAbsolutePathFromListBinding(t){const e=t.getModel().getMetaModel();let n;const o=t.getRootBinding();if(t===o){n=e.getMetaPath(t.getPath())}else{const i=o?.getPath();const a=t.getPath();n=e.getMetaPath(`${i}/${a}`)}return n},enhanceODataModel(e,i){e.virtualPropertyBindingRegistry=new Array;const s=e.setMessages;const c=new l({});c.setDefaultBindingMode(g.OneWay);const u=c.setProperty;const h=c.getProperty;c.getProperty=function(t,n){const[o,i]=t.split("@$ui5.fe.");if(n&&n.isTransient()!==true&&i==="@Common/ExternalID"){const t=n.getObject();if(t){const t=new r(m(e.getMetaModel()),e.getMetaModel().getMetaPath(n.getPath()),e.getMetaModel().getMetaPath(n.getPath()));const i=t.getMetaPathForPath(t.getPath()+"/"+o)?.getTarget().annotations.Common?.ExternalID;if(f(i)){return n.getObject(i.path)}else{return n.getObject(o)}}else{return undefined}}else if(n&&i==="contextPath"){return n.getPath()}return h.apply(this,[t,n])};c.setProperty=function(n,o,i,a){let s=n;if(i){s=i.getPath(n)}const c=()=>{this.refresh()};const[d,g]=n.split("@$ui5.fe.");if(i&&g==="@Common/ExternalID"){i.setProperty(d,o);const n=new r(m(e.getMetaModel()),e.getMetaModel().getMetaPath(i.getPath()),e.getMetaModel().getMetaPath(i.getPath()));const a=n.getMetaPathForPath(n.getPath()+"/"+d)?.getTarget().annotations.Common?.ExternalID;if(f(a)){const e=a.path;const o=[e.substring(0,e.lastIndexOf("/"))];const r=n.getMetaPathForPath(n.getPath()+"/"+e)?.getTarget().annotations.Common?.Text;if(f(r)){const t=r.path;if(t.includes("/")){o.push(t)}}i.requestSideEffects(o).then(c).catch(e=>{t.error(e)})}}const l=s.split("/");let h="";for(let t=0;t<l.length-1;t++){if(t>0){h+="/"}h+=l[t];if(this.getObject(h)===undefined){this.setProperty(h,{})}}return u.apply(this,[n,o,i,a])};function p(t,e){for(const n in e){const o=e?.[n];const i=o?.isA?.("sap.ui.model.odata.v4.Context");if(typeof o==="object"&&!i){e[n]=p(t,e[n]);if(e[n]&&Object.keys(e[n]).length===0){delete e[n]}}for(const o of t){if(n.endsWith(o)){delete e[n]}}}return e}e._localAnnotationModel=c;e.getLocalAnnotationModel=function(){return this._localAnnotationModel};e.setMessages=function(t){const e=p(["@$ui5.fe.messageType","@$ui5.fe.messageText"],this._localAnnotationModel.getData());this._localAnnotationModel.setData(e);for(const e in t){this._localAnnotationModel.setProperty(`${e}@$ui5.fe.messageType`,t[e][0].getType());this._localAnnotationModel.setProperty(`${e}@$ui5.fe.messageText`,t[e][0].getMessage())}s.apply(this,[t])};const y=e.bindProperty.bind(e);e.bindProperty=function(s,g,l){const u=i.getEnvironmentCapabilities()?.getCapabilities?.().DisableInputAssistance;const h=M.setUpRecommendationLocalModelBinding(this,y,s,g,u);if(h){return h}if(s.endsWith("@$ui5.fe.@Common/ExternalID")&&g){const n=s.split("@$ui5.fe.")[0];const o=y(n,g);const i=new r(m(e.getMetaModel()),e.getMetaModel().getMetaPath(g.getPath()),e.getMetaModel().getMetaPath(g.getPath()));const a=i.getMetaPathForPath(i.getPath()+"/"+n)?.getTarget().annotations.Common?.ExternalID;if(f(a)){const t=y(a.path,g);e.virtualPropertyBindingRegistry.push(t);const n=i.getMetaPathForPath(t.getContext()?.getPath()+"/"+a.path)?.getTarget().annotations.Common?.Text;if(f(n)){const t=y(n.path,g);e.virtualPropertyBindingRegistry.push(t)}}const c=this._localAnnotationModel.bindProperty(s,g);o.attachChange(()=>{c.refresh()});o.requestValue().then(()=>{c.refresh();return}).catch(e=>{t.error(e)});return c}if(s.includes("@$ui5.fe.")){const t=this._localAnnotationModel.bindProperty(s,g);if(s.endsWith("@$ui5.fe.@Common/ExternalID")){return t}t.updateRequired=function(t){return t&&t===e};if(s.includes("@$ui5.fe.virtual.")){const{expression:e,viewId:i}=a.getVirtualBindingExpression(s,a.convertTypes(this.getMetaModel()));const r=i?d.getElementById(i):undefined;const l=new o({any:P(e),bindBackProperty:s},r?.getController()??n.getFormatterContext());const u=t.destroy.bind(t);t.destroy=()=>{l?.destroy();return u()};const f=t.setContext;if(f){t.setContext=e=>{l?.setBindingContext(e);return f.bind(t)(e)}}l.setModel(this);const h=l.getBindingInfo("any")?.binding;const p=h?.checkUpdate;if(p){l.getBindingInfo("any").binding.checkUpdate=t=>{const e=l.getBindingContext()?.getObject()!==undefined;const n=l.getBindBackProperty();const o=e?c.getProperty(l.getBindingContext().getPath(n)):undefined;return p.bind(h)(t||n&&e&&h.getExternalValue()!==o)}}l.setBindingContext(g)}return t}return y(s,g,l)};const b=e.destroy.bind(e);e.destroy=function(){for(const t of e.virtualPropertyBindingRegistry){t.destroy()}this._localAnnotationModel.destroy();return b.apply(this)}},async evaluateVirtualExpression(t,e){const o=new s;const{expression:r,viewId:c}=a.getVirtualBindingExpression(t,a.convertTypes(e.getModel().getMetaModel()));const g=c?d.getElementById(c):undefined;const l=new i({valueChanged:function(t){o.resolve(t.getParameter("value"));t.getSource().destroy()},propertyBinding:P(r)},g?.getController()??n.getFormatterContext());l.setBindingContext(e);l.setModel(e.getModel());return o.promise},fetchTextFromMetaModel(e,n,o){let i=e!==undefined?e:"";if(e?.startsWith("{metaModel>")){const a=e.substring(11,e.length-1);try{if(n){i=n.getEntityTypeAnnotation(a).annotation?.toString()??""}else{i=o?.getObject(a)}}catch(e){t.info(`Unable to retrieve text from meta model using path ${a}`)}}return i},getMessagesPath:function(t,e){const n=t.getMetaContext(e);const o=y(n);const i=o.targetEntityType.annotations.Common?.Messages;return f(i)?i.path:undefined},setUpRecommendationLocalModelBinding:function(e,n,o,i,a){if(o.includes("ui5.fe.recommendations")){const r=e.getLocalAnnotationModel().bindProperty(o,i);const s=t=>{const e=r.setContext;if(e){r.setContext=n=>{t?.setContext(n);e.bind(t)(n);return e.bind(r)(n)}}};if(i){const{recommendationComplexProperty:c,isRecommendedProperty:d}=M.validateRecommendationBindingPath(i,o);if(c&&d&&!a){const o=e.virtualPropertyBindingRegistry.some(t=>i===t.getContext()&&c===t.getPath());if(!o){const o=n(c,i);o.setType(new u,"any");o.setBindingMode(g.OneWay);e.virtualPropertyBindingRegistry.push(o);o.attachChange(t=>{const e=t.getSource();const n=t.getSource().getContext();if(n){const t=e.getValue();M.setRecommendationsOnLocalAnnotationModel(t,n);r.refresh()}});o.requestValue().catch(e=>{t.error("Recommendations could not be resolved",e)});s(o)}}}r.updateRequired=function(t){return this.getContext()?t&&t===e:t&&this.getModel()===t};return r}},validateRecommendationBindingPath:function(t,e){const n=t.getModel().getMetaModel();const o=n.getMetaPath(t.getPath());const i=n.getMetaContext(o);const a=y(i).targetEntityType;const r=a?.annotations?.UI?.Recommendations?.path;const s=e.split("@$ui5.fe.recommendations")[0];const c=a.entityProperties.some(t=>{if(t.name===r){return t?.targetType?.properties.some(t=>s===t.name)}});return{recommendationComplexProperty:r,isRecommendedProperty:c}},setRecommendationsOnLocalAnnotationModel:function(t,e){if(t){const n=e.getModel().getLocalAnnotationModel();const o={};const i=n.getProperty("/rejectedRecommendations")||{};for(const e in t){const n=t[e];const i=e;const a=i+"@$ui5.fe.recommendations.placeholderValue";const r=i+"@$ui5.fe.recommendations.placeholderDescription";const s=i+"@$ui5.fe.recommendations.typeAheadValues";o[s]=[];for(const t of n){if(t.RecommendedFieldIsSuggestion){o[a]=t.RecommendedFieldValue;o[r]=t.RecommendedFieldDescription}if(t.RecommendedFieldValue){o[s].push(t.RecommendedFieldValue)}}if(!n||!n.length){o[a]=null;o[r]=""}}o["recommendationContext"]=e;if(!this._compareRecommendations(o,i[e.getPath()]||{})){Object.keys(o).forEach(t=>{const i=e.getPath(t);n.setProperty(i,o[t],e,false)})}}},_compareRecommendations:function(t,e){const n=Object.keys(t).filter(t=>t!=="recommendationContext");const o=Object.keys(e).filter(t=>t!=="recommendationContext");if(n.length!==o.length){return false}for(const i of n){if(!o.includes(i)){return false}if(i.includes("ui5.fe.recommendations.typeAheadValues")){const n=t[i];const o=e[i];if(!Array.isArray(n)||!Array.isArray(o)||n.length!==o.length||n.some((t,e)=>t!==o[e])){return false}}else if(t[i]!==e[i]){return false}}return true},getAlternateAndSecondaryKeys:(t,e)=>{const n=[];const o=t=>{t?.annotations?.Core?.AlternateKeys?.forEach(t=>{t.Key.forEach(t=>{n.push(t.Name.value)})})};const i=t=>{t?.annotations?.Common?.SecondaryKey?.forEach(t=>{if(!n.includes(t.value)){n.push(t.value)}})};o(e);if(!n.length){o(t)}i(t);return n}};return M},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/helpers/PasteHelper", ["sap/base/Log","sap/fe/core/converters/MetaModelConverter","sap/m/MessageBox","sap/ui/core/Lib","sap/ui/core/Messaging","sap/ui/core/util/PasteHelper","../converters/ManifestSettings","../templating/UIFormatters"],function(e,t,n,o,r,s,a,i){"use strict";var l=i.FieldEditMode;var g=a.CreationMode;const u=function(e,t,n,o){let r=arguments.length>4&&arguments[4]!==undefined?arguments[4]:false;let s=arguments.length>5&&arguments[5]!==undefined?arguments[5]:false;const a=n.getProperty(e),i={parseKeepsEmptyString:true},l=o.getUI5Type(`${t}/${e}`,i);let g,u;if(r===true){g=!a;u=n.getProperty(`${e}@Org.OData.Core.V1.Computed`)}else{g=!a||n.getProperty(`${e}@Org.OData.Core.V1.Computed`)}return{property:e,ignore:s||g,computed:u,type:l}};const c=function(e){const t=[...e];const r=o.getResourceBundleFor("sap.fe.core"),s=r.getText("C_PASTE_HELPER_SAPFE_PASTE_ERROR_CORRECTION_MESSAGE"),a=r.getText("C_PASTE_HELPER_SAPFE_PASTE_ERROR_CORRECTION_NOTE");let i;if(t.length>1){i=r.getText("C_PASTE_HELPER_SAPFE_PASTE_ERROR_MESSAGE_PLURAL",[t.length])}else{i=r.getText("C_PASTE_HELPER_SAPFE_PASTE_ERROR_MESSAGE_SINGULAR")}t.unshift("");t.unshift(a);t.unshift(s);n.error(i,{title:r.getText("C_COMMON_SAPFE_ERROR_MESSAGES_PAGE_TITLE_ERROR"),details:t.join("<br>")})};const f={displayErrorMessages:c,formatCustomMessage:function(e,t){let n="";const r=e.length;const s=o.getResourceBundleFor("sap.fe.core"),a=s.getText("T_MESSAGE_GROUP_DESCRIPTION_TABLE_ROW");if(r>0){n+=`${a} ${t}: `;e.forEach((e,t)=>{if(e.messageText){n+=e.messageText+(t+1!==r?" ":"")}})}return n},getColumnInfo:function(e,n){let o=arguments.length>2&&arguments[2]!==undefined?arguments[2]:true;const r=e.getRowBinding().getModel(),s=r.getMetaModel(),a=r.resolve(e.getRowBinding().getPath(),e.getRowBinding().getContext()),i=s.getMetaContext(a),l=t.getInvolvedDataModelObjects(i).targetEntityType.entityProperties,g=[],u=e.getParent().getTableDefinition();function c(e,t,n){if(e.text&&t){g.push(e.text)}if(e.exportSettings!==null){if(o&&n.includes("/")){return{property:e.path,ignore:true}}else{let t=false;if(e.path){t=g.includes(e.path)}return f.getInfoForEntityProperty(e.path,a,i,s,u.control.enablePastingOfComputedProperties,t)}}}const p=e.getParent().getEnhancedFetchedPropertyInfos();const d=Object.assign({},...p.map(e=>({[e.key]:e})));const h=[];(n??e.getColumns()).forEach(e=>{const t=d[e.getPropertyKey()];if(t.propertyInfos){t.propertyInfos.forEach(e=>{const t=d[e],n=this.hasValueHelpProperty(l,t),o=c(t,n,e);if(o){h.push(o)}});if(t.exportDataPointTargetValue){h.push({property:"targetValueFromDataPoint",ignore:true})}}else if(t.exportSettings!==null){if(t.path){h.push(f.getInfoForEntityProperty(t.path,a,i,s,u.control.enablePastingOfComputedProperties))}else{h.push({property:"unused",type:null,ignore:true})}}});return h},getInfoForEntityProperty:u,hasValueHelpProperty:function(e,t){const n=e.find(e=>e.name===t.path);if(n){return!!n.annotations?.Common?.ValueList}return false},parsePastedData:async function(e,t,n){let o=arguments.length>3&&arguments[3]!==undefined?arguments[3]:true;const r=this.getColumnInfo(t,n,o);const a=t.getParent().getTableDefinition();const i=e.length?e[0].length:0;let l=-1;for(let e=0;e<r.length&&l<0;e++){if(!r[e].ignore&&!r[e].computed){l=e}}if(a.control.enablePastingOfComputedProperties){const t=r.filter(function(e){return e.computed});t.forEach(function(t){const n=r.indexOf(t);const o=e.every(e=>e[n]==="");if(o){t.ignore=true}})}const g=await(l<0||l>i-1?{parsedData:[],errors:null}:s.parse(e,r));if(g.errors){const e=g.errors.map(function(e){return e.message});this.displayErrorMessages(e);return[]}else{return g.parsedData}},_updateContexts:async function(t,n,o){let r=0;const s=[];for(const a of o){const o=n[r++];if(o){for(const n in a){if(t.getParent().getPropertyEditMode(n,o)===l.Editable){s.push(o.setProperty(n,a[n]))}else{e.warning(`Property ${n} is not editable for row ${o.getIndex()}`)}}}}await Promise.allSettled(s)},getPasteInformationForReponsiveTable:function(e,t,n,o){let r=0;const s=o.getRowBinding().getCurrentContexts().findIndex(e=>e.isTransient());const a=t.rows;let i=0;const l=t.columns.length>1?t.columns:o.getColumns().slice(o.getColumns().indexOf(t.columns[0]));if(t.columns.length===1&&t.rows.length===1){if(n<=s&&n+e.length>s){r=e.length-(s-n)-1;i=e.length}else{r=0;i=e.length}}else{const n=a.filter(e=>e.isTransient())?.pop();const o=n?a.indexOf(n):-1;i=Math.min(e.length,t.rows.length);if(o>-1){i=o===t.rows.length-1?e.length:i;r=o===t.rows.length-1?e.length-o-1:0}}return{rows:a,columns:l,updatedRowCount:i,numberOfNewCreationRows:r}},getPasteInformationForGridTable:function(e,t,n,o){let r=0;const s=t.rows;let a=0;const i=o.getRowBinding().getLength();let l=t.columns.length>1?t.columns:o.getColumns().slice(o.getColumns().indexOf(t.columns[0]));if(t.columns.length===1&&t.rows.length===1){r=n+e.length>i?n+e.length-i:0;l=o.getColumns().slice(o.getColumns().indexOf(t.columns[0]));a=e.length}else{r=n+s.length>=i?n+e.length-i:0;a=r===0?Math.min(e.length,t.rows.length):e.length}return{rows:s,columns:l,updatedRowCount:a,numberOfNewCreationRows:r}},getPasteInformation:function(t,n,o,r){let s=null;switch(r.data("tableType")){case"GridTable":s=this.getPasteInformationForGridTable(t,n,o,r);break;case"ResponsiveTable":s=this.getPasteInformationForReponsiveTable(t,n,o,r);break;default:e.warning(`Paste operation is not supported for table type ${r.data("tableType")}`)}if(s&&s?.numberOfNewCreationRows>0&&r.getParent().getCreationMode().getName()!==g.InlineCreationRows){s.updatedRowCount-=s.numberOfNewCreationRows;s.numberOfNewCreationRows=0}return s},pasteRangeData:async function(e,t,n){const o=t.rows[0].getIndex();const r=this.getPasteInformation(e,t,o,n);if(!r)return;const s=await this.parsePastedData(e,n,r.columns,false);if(s.length>0){if(r.numberOfNewCreationRows>0){await n.getParent().createEmptyRows(n.getRowBinding(),n,false,r.numberOfNewCreationRows,true)}r.rows=await n.getRowBinding().requestContexts(o,r.updatedRowCount);await this._updateContexts(n,r.rows,s);const e=r.rows.find(e=>e.isTransient())?.getIndex();if(e){n.focusRow(e)}return{updatedRowCount:r.updatedRowCount,updatedColCount:Object.keys(s[0]).length,numberOfNewCreationRows:r.numberOfNewCreationRows<0?0:r.numberOfNewCreationRows,posFirstInlineCreationRow:e}}},pasteData:async function(t,n,o){const s=o.editFlow;const a=n.getParent().getTableDefinition();let i=[];return this.parsePastedData(t,n).then(async e=>{i=e||[];return Promise.all(i.map(async e=>s.validateDocument(n.getBindingContext(),{data:e,customValidationFunction:a?.control?.customValidationFunction})))}).then(e=>{const t=e.reduce(function(e,t,n){if(t.length>0){e.push({messages:t,row:n+1})}return e},[]);if(t.length>0){const e=t.map(e=>this.formatCustomMessage(e.messages,e.row));this.displayErrorMessages(e);return[]}return i}).then(async e=>{const t=n.getRowBinding().getCurrentContexts().filter(e=>e.isTransient());const i=t.pop();const l=!!r.getMessageModel().getData().find(e=>i&&e.getTargets()[0].includes(i.getPath()));const g=e.length>0?await s.createMultipleDocuments(n.getRowBinding(),e,a?.control?.createAtEnd,true,o.editFlow.onBeforeCreate):undefined;if(i&&!l){i?.delete();await n.getParent().createEmptyRows(n.getRowBinding(),n,false,1)}return g}).catch(t=>{e.error("Error while pasting data",t);return undefined})}};return f},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/helpers/PromiseKeeper", [],function(){"use strict";var e={};let r=function(){function r(){this.promise=new Promise((e,r)=>{this.resolver=e;this.rejector=r})}e=r;var t=r.prototype;t.resolve=function e(r){if(this.resolver){this.resolver(r)}};t.reject=function e(r){if(this.rejector){if(r===undefined||typeof r==="string"){this.rejector(new Error(r))}else{this.rejector(r)}}};return r}();e=r;return e},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/helpers/RecommendationHelper", [],function(){"use strict";var e={};const t={sortRecommendationsData(e){const t=e.recommendations;t.sort((e,t)=>{if(e.probability&&t.probability){if(e.probability<t.probability){return 1}else if(e.probability>t.probability){return-1}}return 0});const r=e;delete r.recommendations;r.additionalValues=t},transformRecommendationsForInternalStorage(e){if(e.hasOwnProperty("recommendations")){this.sortRecommendationsData(e);return}else if(Array.isArray(e)){e.forEach(e=>{Object.values(e).forEach(e=>{if(typeof e==="object"){this.transformRecommendationsForInternalStorage(e)}})})}else{Object.values(e).forEach(e=>{if(typeof e==="object"){this.transformRecommendationsForInternalStorage(e)}})}},clearRecommendations:(e,t)=>{const r=e.getModel("internal");const o=r.getProperty("/currentCtxt");const n=e.getBindingContext("pageInternal")?.getProperty("createMode");if(o?.getPath()!==t?.getPath()||n===true){r.setProperty("/recommendationsData",{})}}};e.recommendationHelper=t;return e},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/helpers/ResourceModelHelper", ["sap/base/Log","sap/ui/core/Component"],function(e,t){"use strict";var o={};function n(e){if(e.isA("sap.ui.core.mvc.Controller")||e.isA("sap.ui.core.mvc.ControllerExtension")){return e.getView()?.getModel("sap.fe.i18n")}else{let o=e.getModel("sap.fe.i18n");if(!o){o=t.getOwnerComponentFor(e)?.getModel("sap.fe.i18n")}return o}}o.getResourceModel=n;function r(t,o){const r=/{([A-Za-z0-9_.|@]+)>([A-Za-z0-9_.|]+)}/.exec(t);if(r){try{if(r[1]==="sap.fe.i18n"){return n(o).getText(r[2])}else{const e=o.getModel(r[1]).getResourceBundle();return e.getText(r[2])}}catch(o){e.info(`Unable to retrieve localized text ${t}`)}}return t}o.getLocalizedText=r;return{getResourceModel:n,getLocalizedText:r}},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/helpers/RoutingHelper", [],function(){"use strict";const e={buildBindingPath(e,t,i){let r=t.replace(":?query:","");let n=false;for(const u in e){const c=e[u];if(typeof c!=="string"){continue}if(c==="..."&&t.includes(`{${u}}`)){n=true;i.bTargetEditable=true}r=r.replace(`{${u}}`,c)}if(e["?query"]?.["i-action"]?.includes("create")){i.bActionCreate=true}if(r&&r[0]!=="/"){r=`/${r}`}return{path:r,deferred:n}}};return e},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/helpers/SemanticKeyHelper", ["sap/base/Log"],function(t){"use strict";const e={getSemanticKeys:function(t,e){return t.getObject(`/${e}/@com.sap.vocabularies.Common.v1.SemanticKey`)},getSemanticObjectInformation:function(t,e){const n=t.getObject(`/${e}/@com.sap.vocabularies.Common.v1.SemanticObject`);const a=this.getSemanticKeys(t,e);return{semanticObject:n,semanticKeys:a}},getPathContent(t,e){const n=t.length===1;return t.map(t=>{const a=t.value;const o=e[t.name].$Type==="Edm.String"?`'${encodeURIComponent(a)}'`:a;return n?o:`${t.name}=${o}`}).join(",")},getSemanticPath:function(e){let n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;let a=arguments.length>2?arguments[2]:undefined;const o=e.getModel().getMetaModel(),c=o.getMetaContext(e.getPath()).getObject("@sapui.name"),i=this.getSemanticObjectInformation(o,c);let s,r;if(e.isA("sap.ui.model.odata.v4.ODataListBinding")&&e.isRelative()){s=e.getHeaderContext().getPath()}else{s=e.getPath()}if(this._isPathForSemantic(s)&&i.semanticKeys&&i.semanticKeys.length!==0){const n=i.semanticKeys;const s=o.getObject("/"+o.getObject(`/${c}`).$Type);try{const t=n.map(t=>{const n=t.$PropertyPath;const o=e.getProperty(n)??a?.[n];if(o===undefined||o===null){throw new Error(`Couldn't resolve semantic key value for ${n}`)}return{name:n,value:o}});const o=this.getPathContent(t,s);r=`/${c}(${o})`}catch(e){t.info(e)}}return n?r:r||s},_isPathForSemantic:function(t){return/^[^()]+\([^()]+\)$/.test(t)}};return e},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/helpers/SizeHelper", ["sap/m/Button","sap/ui/core/StaticArea","sap/ui/core/UIArea","sap/ui/dom/units/Rem"],function(t,i,e,n){"use strict";const s={calls:0,hiddenButton:undefined,init:function(){this.calls++;this.hiddenButton=this.hiddenButton?this.hiddenButton:(new t).placeAt(i.getDomRef());this.hiddenButton.setVisible(false)},getButtonWidth:function(t){if(!t||!this.hiddenButton){return 0}this.hiddenButton.setVisible(true);this.hiddenButton.setText(t);e.rerenderControl(this.hiddenButton);const i=n.fromPx(this.hiddenButton.getDomRef()?.scrollWidth);this.hiddenButton.setVisible(false);return Math.round(i*100)/100},exit:function(){this.calls--;if(this.calls===0){this.hiddenButton?.destroy();this.hiddenButton=undefined}}};return s},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/helpers/StableIdHelper", ["sap/fe/core/helpers/TypeGuards"],function(a){"use strict";var e={};var t=a.isPathAnnotationExpression;const r=a=>{const e=[t(a.SemanticObject)?a.SemanticObject.path:a.SemanticObject.valueOf(),a.Action?.valueOf()];if(a.RequiresContext){e.push("RequiresContext")}return e.filter(a=>a).join("::")};const i=a=>{const e=a.Value;if(e.path){return e.path}else if(e.$Apply&&e.$Function==="odata.concat"){return e.$Apply.map(a=>a.$Path).join("::")}return p(e.replace(/ /g,"_"))};const n=a=>{const e=a.Value;if(e?.path){return e.path}else if(e?.$Apply&&e.$Function==="odata.concat"){return e.$Apply.map(a=>a.$Path).join("::")}const r=a.Url;if(t(r)&&r?.path){return r.path}else if(r?.$Apply&&r.$Function==="odata.concat"){return r.$Apply.map(a=>a.$Path).join("::")}return p(e?.replace(/ /g,"_"))};const o=a=>/^([A-Za-z_][-A-Za-z0-9_.:]*)$/.test(a);const c=a=>{a=a.replace("com.sap.vocabularies.UI.v1.","");a=a.replace("com.sap.vocabularies.Communication.v1.","");return a};const l=function(a){let e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;let t;switch(a.$Type){case"com.sap.vocabularies.UI.v1.ReferenceFacet":t=a.ID??a.Target.value;break;case"com.sap.vocabularies.UI.v1.CollectionFacet":t=a.ID??"undefined";break;case"com.sap.vocabularies.UI.v1.FieldGroupType":t=a.Label;break;default:t=u(a);break}t=t?.toString();return t&&e?d(t):t};e.createIdForAnnotation=l;const s=a=>{const e=a.map(a=>{if(typeof a==="string"||!a){return a}return l(a.targetObject||a,false)});const t=e.filter(a=>a).join("::");return d(t)};e.generate=s;const u=function(a){let e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;let t="";switch(a.$Type){case"com.sap.vocabularies.UI.v1.DataFieldForAction":t=`DataFieldForAction::${a.Action}`;break;case"com.sap.vocabularies.UI.v1.DataFieldForActionGroup":t=`DataFieldForActionGroup::${a.ID}`;break;case"com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation":t=`DataFieldForIntentBasedNavigation::${r(a)}`;break;case"com.sap.vocabularies.UI.v1.DataFieldForAnnotation":t=`DataFieldForAnnotation::${a.Target.value}`;break;case"com.sap.vocabularies.UI.v1.DataFieldWithAction":t=`DataFieldWithAction::${i(a)}::${a.Action}`;break;case"com.sap.vocabularies.UI.v1.DataField":t=`DataField::${i(a)}`;break;case"com.sap.vocabularies.UI.v1.DataFieldWithIntentBasedNavigation":t=`DataFieldWithIntentBasedNavigation::${i(a)}::${r(a)}`;break;case"com.sap.vocabularies.UI.v1.DataFieldWithNavigationPath":t=`DataFieldWithNavigationPath::${i(a)}`;if(a.Target.type==="NavigationPropertyPath"&&!e){t=`${t}::${a.Target.value}`}break;case"com.sap.vocabularies.UI.v1.DataFieldWithUrl":t=`DataFieldWithUrl::${n(a)}`;break;default:break}return t?d(t):undefined};e.getStableIdPartFromDataField=u;const p=a=>{if(a.includes(" ")){throw Error(`${a} - Spaces are not allowed in ID parts.`)}a=a.replace(/^\/|^@|^#|^\*/,"").replace(/\/$|@$|#$|\*$/,"").replace(/[/|@()#]/g,"::");while(a.includes("::::")){a=a.replace("::::","::")}if(a.slice(-2)=="::"){a=a.slice(0,-2)}return a};e.replaceSpecialChars=p;const d=function(a){a=p(c(a));if(o(a)){return a}else{throw Error(`${a} - Stable Id could not be generated due to insufficient information.`)}};e.prepareId=d;return e},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/helpers/StandardRecommendationHelper", ["sap/fe/base/BindingToolkit","sap/fe/core/converters/MetaModelConverter","../templating/UIFormatters","./BindingToolkitEvaluator","./TypeGuards"],function(e,t,o,n,r){"use strict";var a={};var s=r.isPropertyPathExpression;var c=r.isPathAnnotationExpression;var i=n.evaluateExpression;var d=o.getDisplayMode;var l=e.getExpressionFromAnnotation;var g=e.compileExpression;let m;const h={storeRecommendations:(e,t,o)=>{const n=t.getProperty("/recommendationsData")||{};h.clearRecommendationsDataFromModelForGivenContexts(n,o);h.enhanceRecommendationModel(e,n);h.updateFetchedContextPaths(o,t);h.updateContextsKeysInModel(n,o);n["version"]=2;t.setProperty("/recommendationsData",n);t.refresh(true)},ignoreRecommendationForContexts:(e,t)=>{let o=t.getProperty("/recommendationContexts")||[];const n=t.getProperty("/recommendationsData");const r=t.getProperty("/ignoredContextPaths")||[];e.forEach(e=>{const t=e.getPath();r.push(t);o=o.filter(e=>!(e?.context).getPath().startsWith(t));Object.keys(n).forEach(e=>{if(e.startsWith(t)){delete n[e]}})});t.setProperty("/recommendationsData",n);t.setProperty("/recommendationContexts",o);t.setProperty("/ignoredContextPaths",r)},clearIgnoredContexts:(e,t)=>{let o=e.getProperty("/ignoredContextPaths")||[];o=o.filter(e=>!e.startsWith(t));e.setProperty("/ignoredContextPaths",o)},checkIfRecommendationRoleExistsForContext:(e,o)=>{const n=t.getInvolvedDataModelObjectsForTargetPath((e?.context).getPath(),(e?.context).getModel()?.getMetaModel());const r=n?.targetEntityType.name;return Object.keys(o.roles).includes(r)},updateContextsKeysInModel:(e,o)=>{if(!e.hasOwnProperty("keys")){e["keys"]={}}const n=e["keys"];o.forEach(e=>{const o=e.getModel()?.getMetaModel();const r=o.getMetaPath(e?.getPath());const a=t.getInvolvedDataModelObjects(o.getMetaContext(r));const s=a.targetEntityType.annotations.Common?.SemanticKey;if(s){if(n&&!n.hasOwnProperty(r)&&s){n[r]=s.map(e=>e.value)}}})},clearRecommendationsDataFromModelForGivenContexts:(e,t)=>{if(t){Object.keys(e).forEach(o=>{const n=o.lastIndexOf(")");if(t.find(e=>e.getPath()===o.substring(0,n+1))){delete e[o]}})}},enhanceRecommendationModel:(e,t)=>{e?.forEach(e=>{const o=e.AIRecommendedFieldPath;if(o){const n=[];let r=false;e._AIAltvRecmddFldVals?.forEach(t=>{const o={value:t.AIRecommendedFieldValue,probability:t.AIRecommendedFieldScoreValue};if(e.AIRecommendedFieldValue===t.AIRecommendedFieldValue){r=true}n.push(o)});t[o]={value:r?e.AIRecommendedFieldValue:undefined,text:r?e.AIRecommendedFieldDescription:undefined,additionalValues:n}}})},getStandardRecommendations:function(e,t,o){if(e&&t){const n=e.getPath()+"/"+t;return o[n]||undefined}},getDisplayModeForTargetPath(e,o){const n=t.getInvolvedDataModelObjectsForTargetPath(e,o);const r=n&&d(n);return r?r:"DescriptionValue"},isRecommendationFieldNull(e,o,n){const r=t.getInvolvedDataModelObjectsForTargetPath(o,e.getModel()?.getMetaModel());if(!e?.getProperty(n)){const t=h.getDisplayModeForTargetPath(o,e?.getModel()?.getMetaModel());if(t&&t!=="Value"){const t=c(r?.targetObject?.annotations?.Common?.Text)&&r?.targetObject?.annotations?.Common?.Text?.path;return t?!e?.getProperty(t):true}return true}return false},updateFetchedContextPaths:function(e,t){const o=[];e?.forEach(e=>{const t=e?.getPath();if(t&&!o.includes(t)){o.push(t)}});t?.setProperty("/fetchedContextPaths",o);t.refresh()},getContextsWithNoRecommendations:function(e,t){const o=t.getProperty("/fetchedContextPaths")||[];const n=t.getProperty("/ignoredContextPaths")||[];return e.filter(e=>{const t=(e?.context).getPath();return!o.includes(t)&&!n.includes(t)})},resetRecommendations:function(e){const t=e.getProperty("/recommendationsData");if(t&&t.hasOwnProperty("version")){e.setProperty("/recommendationsData",{});e?.setProperty("/fetchedContextPaths",[]);e?.setProperty("/ignoredContextPaths",[]);e.refresh(true)}},getCurrentRootContext:function(){return m},setCurrentRootContext:function(e){m=e},addContextIdentifierText(e,t){for(const o of e?.recommendationData||[]){let e=0;const n=[];if(o.context?.getPath()!==t){if(o.contextIdentifier&&o.context){o.contextIdentifier.forEach(t=>{const r=`${o.context?.getPath()})/${t}`;const a=this.getTextForKey(o.context,r,t);if(a){n.push(e===0?`${a}`:` ${a}`);e=e+1}})}}o.contextIdentifierText=n}},getEntityName(e){const o=t.getInvolvedDataModelObjectsForTargetPath(e.getPath(),e.getModel()?.getMetaModel());const n=o?.targetEntityType?.annotations?.UI?.HeaderInfo?.TypeName;return n&&g(l(n))},getTextForKey(e,o,n){let r="";const a=t.getInvolvedDataModelObjectsForTargetPath(o,e?.getModel()?.getMetaModel());const d=a?.targetObject;const g=(c(d)||s(d))&&d.$target||d;const m=l(g?.annotations?.Common?.Text);if(m){try{r=i(m,{"":e.getObject()});r=r?r:e.getProperty(n)}catch{r=e.getProperty(n)}}return r??e.getProperty(n)}};a.standardRecommendationHelper=h;return a},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/helpers/Synchronization", [],function(){"use strict";let e=function(){function e(){this._fnResolve=null;this._isResolved=false}var s=e.prototype;s.waitFor=async function e(){if(this._isResolved){return Promise.resolve()}else{return new Promise(e=>{this._fnResolve=e})}};s.resolve=function e(){if(!this._isResolved){this._isResolved=true;if(this._fnResolve){this._fnResolve()}}};return e}();return e},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/helpers/TitleHelper", ["sap/fe/base/BindingToolkit","sap/fe/core/formatters/ValueFormatter","sap/fe/core/helpers/BindingHelper","sap/fe/core/helpers/TypeGuards","sap/fe/core/templating/DataFieldFormatters","sap/fe/core/templating/DataModelPathHelper","sap/fe/core/templating/UIFormatters","../converters/annotations/DataField"],function(t,e,a,n,r,o,i,s){"use strict";var l={};var c=s.isDataField;var u=o.getTargetNavigationPath;var f=o.getRelativePaths;var T=o.getContextRelativeTargetObjectPath;var p=o.enhanceDataModelPath;var d=r.getLabelForConnectedFields;var g=n.isPropertyPathExpression;var m=n.isProperty;var v=n.isPathAnnotationExpression;var E=a.UI;var I=a.Draft;var D=t.transformRecursively;var h=t.pathInModel;var O=t.or;var _=t.not;var y=t.isUndefinedExpression;var C=t.isEmpty;var A=t.isConstant;var $=t.ifElse;var F=t.getExpressionFromAnnotation;var N=t.formatWithTypeInformation;var b=t.formatResult;var x=t.constant;var V=t.compileExpression;const P=function(t,e){return D(t,"PathInModel",t=>{let a=t;if(t.modelName===undefined){const n=p(e,t.path);a=N(n.targetObject,t)}return a})};l.formatValueRecursively=P;const R=t=>{const e=t.targetObject;return g(e)?e.$target:e};const M=t=>{const e=t.targetEntitySet?.annotations?.Common?.DraftRoot;const a=t.targetEntitySet?.annotations?.Common?.DraftNode;if(!!e||!!a){return _(I.IsNewObject)}return true};const U=t=>t._type==="Constant"?x(!t.value):C(t);const L=function(t,e,a){const n=a?.displayMode;const r=R(t);const o=n||i.getDisplayMode(t);const s=r?.annotations?.Common?.Text;const l=f(t);if(r){e=N(r,e)}let c=[e];if(o!=="Value"&&s){switch(o){case"Description":c=[F(s,l)];break;case"DescriptionValue":const t=a?.splitTitleOnTwoLines===undefined?$(!!s.annotations?.UI?.TextArrangement,e,x("")):$(!!a?.splitTitleOnTwoLines,x(""),e);c=[F(s,l),t];break;case"ValueDescription":c=[e,$(!!a?.splitTitleOnTwoLines,x(""),F(s,l))];break}}return c};const H=function(t,e){return D(t,"PathInModel",t=>{if(t.modelName!==undefined)return t;const a=p(e,t.path);return L(a,t)})};const j=function(t){const a=u(t,true);const n="T_NEW_OBJECT";const r=a?`${n}|${a}`:n;const o=h(n,"sap.fe.i18n");const i=h(r,"sap.fe.i18n");return b([o,i],e.formatCreationTitle)};l.getCreateModeTitle=j;const w=t=>{const e=R(t);if(e&&e.annotations?.Core?.Computed){return E.IsInactive}else{return x(false)}};const B=function(t,e,a){let n;if(e.$Type==="com.sap.vocabularies.UI.v1.DataField"){n=F(e.Value);if(e.Value?.$target?.annotations.Common?.Text?.annotations?.UI?.TextArrangement){n=H(n,t)}n=P(n,t)}if(e.$Type==="com.sap.vocabularies.UI.v1.DataFieldForAnnotation"&&e.Target.$target?.$Type==="com.sap.vocabularies.UI.v1.ConnectedFieldsType"){const e=p(t,"$Type/@UI.HeaderInfo/Title/Target/$AnnotationPath");n=d(e,a,false)}return n};const k=function(t,a,n,r,o,i){const s=i||e.formatTitle;let l=j(t);let u;let f=false;let d;if(c(r?.Title)&&r?.Title.Value?.$target?.annotations?.Common?.ExternalID){d={...r.Title,Value:{...r.Title.Value,$target:{...r.Title.Value.$target}}};d.Value.path=r.Title.Value.$target?.annotations?.Common?.ExternalID.path;d.Value.$target=r.Title.Value.$target?.annotations?.Common?.ExternalID.$target}if(r?.Title?.$Type&&o){if(d===undefined){u=B(t,r.Title,a)}else{u=B(t,d,a)}l=j(t);if(A(u)&&u.value===""){f=true}}else if(r&&(r.Title===undefined||r.Title.toString()==="")){f=true;if(!o){u=x("")}}if(u&&A(u)){return V(u)}if(v(t.targetObject)){t=p(t,t.targetObject.path)}const g=h(T(t));let I;if(u){I=Array.isArray(u)?u:[u]}else if(t.targetObject&&m(t.targetObject)){I=L(t,g,n)}const D=I===undefined||U(I[0]);const C=w(t);const F=I!=undefined&&b(I,s);u=$(D,$(O(f&&M(t),C),"",$(y(x(i)),$(O(E.IsCreateMode,_(M(t))),l,h("T_ANNOTATION_HELPER_DEFAULT_HEADER_TITLE_NO_HEADER_INFO","sap.fe.i18n")),$(_(M(t)),o?.resourceModel.getText("T_NEW_OBJECT"),o?.resourceModel.getText("T_ANNOTATION_HELPER_DEFAULT_HEADER_TITLE_NO_HEADER_INFO")))),F);return V(u)};l.getTitleBindingExpression=k;return l},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/helpers/ToES6Promise", [],function(){"use strict";async function r(r){return new Promise((n,e)=>{r.then(function(){for(var r=arguments.length,e=new Array(r),t=0;t<r;t++){e[t]=arguments[t]}n(Array.prototype.slice.call(e));return}).catch(function(){for(var r=arguments.length,n=new Array(r),t=0;t<r;t++){n[t]=arguments[t]}e(Array.prototype.slice.call(n))})})}return r},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/helpers/TypeGuards", [],function(){"use strict";var t={};function n(t){return t.status==="fulfilled"}t.isFulfilled=n;function e(t){return t.status==="rejected"}t.isRejected=e;function i(t){return t?.isA?.("sap.ui.model.Context")}t.isContext=i;function r(t){return Array.isArray(t)&&t.length>0&&t.every(t=>typeof t==="function")}t.isFunctionArray=r;function o(t,n){if(Array.isArray(n)){return n.includes(t?.$Type)}return t?.$Type===n}t.isAnnotationOfType=o;function u(t,n){return t?.term===n}t.isAnnotationOfTerm=u;function y(t){return t.hasOwnProperty("term")}t.isAnnotationTerm=y;function s(t){return t?.hasOwnProperty("_type")??false}t.isServiceObject=s;function p(t){return t?._type==="ComplexType"}t.isComplexType=p;function a(t){return t?._type==="TypeDefinition"}t.isTypeDefinition=a;function f(t){return t?._type==="EntityContainer"}t.isEntityContainer=f;function c(t){return t?._type==="EntitySet"}t.isEntitySet=c;function l(t){return t?._type==="Singleton"}t.isSingleton=l;function P(t){return t?._type==="EntityType"}t.isEntityType=P;function A(t){return t?._type==="Property"}t.isProperty=A;function T(t){return t?._type==="NavigationProperty"}t.isNavigationProperty=T;function _(t){return T(t)&&!t.isCollection}t.isSingleNavigationProperty=_;function h(t){return T(t)&&t.isCollection}t.isMultipleNavigationProperty=h;function g(t){return t?.type==="Path"}t.isPathAnnotationExpression=g;function C(t){return t?.type==="AnnotationPath"}t.isAnnotationPath=C;function E(t){return t?.type==="PropertyPath"}t.isPropertyPathExpression=E;function d(t){return t?._type==="Action"}t.isAction=d;return t},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/helpers/WebSocket", ["sap/ui/core/ws/SapPcpWebSocket"],function(e){"use strict";var t={};var o=e.SUPPORTED_PROTOCOLS;let n=function(e){e[e["CLOSED"]=0]="CLOSED";e[e["CLOSING"]=1]="CLOSING";e[e["CONNECTING"]=2]="CONNECTING";e[e["CONNECTED"]=3]="CONNECTED";e[e["ERROR"]=4]="ERROR";return e}({});t.WEBSOCKET_STATUS=n;let c=function(e){e["CollaborationDraft"]="CollaborationDraft";e["SideEffectsEvents"]="SideEffectsEvents";return e}({});t.ChannelType=c;function r(t,n,c){const r=window.location;const i=n.getServiceUrl();const f=s(n);if(!f){throw Error("WebSocket Base URL annotation not found")}const l=a(t,n);let S;const C=new URLSearchParams(window.location.search).get("useBackendUrl");if(C){S=C.replace("https","wss")}else{S=r.protocol==="https:"?"wss:":"ws:";S+=`//${r.host}`}S+=`${(f.startsWith("/")?"":"/")+f}?${l}relatedService=${i}`;if(c){for(const e in c){S+=`&${e}=${encodeURI(c[e])}`}}return new e(S,[o.v10])}t.createWebSocket=r;function s(e){return e.getMetaModel().getObject("/@com.sap.vocabularies.Common.v1.WebSocketBaseURL")}t.getWebSocketBaseUrl=s;function a(e,t){if(!s(t)){return""}switch(e){case c.CollaborationDraft:return"";case c.SideEffectsEvents:const e=t.getMetaModel().getObject("/@com.sap.vocabularies.Common.v1.WebSocketChannel#sideEffects");return`sideEffects=${e}&`}}t.getWebSocketChannelUrl=a;return t},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/library", ["sap/base/Log","sap/fe/core/formatters/CriticalityFormatter","sap/fe/core/formatters/FPMFormatter","sap/fe/core/formatters/Scope","sap/fe/core/formatters/StandardFormatter","sap/fe/core/formatters/ValueFormatter","sap/fe/base/library","sap/fe/core/services/AsyncComponentServiceFactory","sap/fe/core/services/CacheHandlerServiceFactory","sap/fe/core/services/CollaborativeToolsServiceFactory","sap/fe/core/services/EnvironmentServiceFactory","sap/fe/core/services/InlineEditServiceFactory","sap/fe/core/services/NavigationServiceFactory","sap/fe/core/services/ResourceModelServiceFactory","sap/fe/core/services/RoutingServiceFactory","sap/fe/core/services/ShellServicesFactory","sap/fe/core/services/SideEffectsServiceFactory","sap/fe/core/services/TelemetryServiceFactory","sap/fe/core/services/TemplatedViewServiceFactory","sap/fe/core/type/Date","sap/fe/core/type/DateTimeWithTimezone","sap/fe/core/type/Email","sap/fe/core/type/FiscalDate","sap/fe/core/type/InputMask","sap/fe/navigation/library","sap/fe/placeholder/library","sap/ui/base/DataType","sap/ui/core/Lib","sap/ui/core/library","sap/ui/core/service/ServiceFactoryRegistry","./services/CollaborationManagerServiceFactory","./services/ContextSharingServiceFactory","./services/ValueHelpHistoryServiceFactory","./services/ViewPreloaderServiceFactory","./services/collaborativeDraftServiceFactory"],function(e,r,a,i,o,t,s,n,c,l,p,f,v,d,S,y,u,g,C,m,b,F,w,D,E,M,I,N,T,V,h,x,A,R,L){"use strict";var P={};var H=R.ViewPreloaderServiceFactory;var k=C.TemplatedViewServiceFactory;var z=p.EnvironmentServiceFactory;const B="sap.fe";P.feNamespace=B;const O="sap.fe.core";P.feCoreNamespace=O;const G="sap.fe.core.controllerextensions";P.feCextNamespace=G;const W="sap.fe.core.fpm";P.feFpmNamespace=W;const j=N.init({name:"sap.fe.core",apiVersion:2,dependencies:["sap.ui.core","sap.fe.base","sap.fe.navigation","sap.fe.placeholder","sap.f"],types:["sap.fe.core.CreationMode","sap.fe.core.VariantManagement"],interfaces:[],controls:[],elements:[],version:"1.141.1",noLibraryCSS:true,extensions:{"sap.ui.support":{publicRules:true,internalRules:true}}});j.InvocationGrouping={Isolated:"Isolated",ChangeSet:"ChangeSet"};j.CreationMode={NewPage:"NewPage",Sync:"Sync",Async:"Async",Deferred:"Deferred",Inline:"Inline",CreationRow:"CreationRow",InlineCreationRows:"InlineCreationRows",External:"External",CreationDialog:"CreationDialog"};I.registerEnum("sap.fe.core.CreationMode",j.CreationMode);j.VariantManagement={None:"None",Page:"Page",Control:"Control"};I.registerEnum("sap.fe.core.VariantManagement",j.VariantManagement);j.Constants={CancelActionDialog:"cancel",CancelDiscardDraft:"cancelDiscardDraft",ActionExecutionFailed:"actionExecutionFailed",CreationFailed:"creationFailed",OnBeforeCreateFailed:"onBeforeCreateFailed"};j.ProgrammingModel={Draft:"Draft",Sticky:"Sticky",NonDraft:"NonDraft"};j.DraftStatus={Saving:"Saving",Saved:"Saved",Clear:"Clear"};j.EditMode={Display:"Display",Editable:"Editable"};j.TemplateContentView={Hybrid:"Hybrid",Chart:"Chart",Table:"Table"};let q=function(e){e["Enabled"]="Enabled";e["Disabled"]="Disabled";e["Auto"]="Auto";return e}({});j.InitialLoadMode=q;P.InitialLoadMode=q;j.StartupMode={Normal:"Normal",Deeplink:"Deeplink",Create:"Create",AutoCreate:"AutoCreate"};let J=function(e){e["None"]="None";e["Internal"]="Internal";e["External"]="External";return e}({});j.ContextNavigationType=J;P.ContextNavigationType=J;const K=I.createType("sap.fe.core.InitialLoadMode",{defaultValue:j.InitialLoadMode.Auto,isValid:function(r){if(typeof r==="boolean"){e.warning("DEPRECATED: boolean value not allowed for 'initialLoad' manifest setting - supported values are: Disabled|Enabled|Auto")}return r===undefined||r===null||typeof r==="boolean"||j.InitialLoadMode.hasOwnProperty(r)}});K.setNormalizer(function(e){if(!e){return j.InitialLoadMode.Disabled}return e===true?j.InitialLoadMode.Enabled:e});V.register("sap.fe.core.services.TemplatedViewService",new k);V.register("sap.fe.core.services.ResourceModelService",new d);V.register("sap.fe.core.services.CacheHandlerService",new c);V.register("sap.fe.core.services.CollaborationManagerService",new h);V.register("sap.fe.core.services.ViewPreloaderService",new H);V.register("sap.fe.core.services.NavigationService",new v);V.register("sap.fe.core.services.RoutingService",new S);V.register("sap.fe.core.services.SideEffectsService",new u);V.register("sap.fe.core.services.ShellServices",new y);V.register("sap.fe.core.services.EnvironmentService",new z);V.register("sap.fe.core.services.AsyncComponentService",new n);V.register("sap.fe.core.services.CollaborativeToolsService",new l);V.register("sap.fe.core.services.TelemetryService",new g);V.register("sap.fe.core.services.ValueHelpHistoryService",new A);V.register("sap.fe.core.services.CollaborativeDraftService",new L);V.register("sap.fe.core.services.ContextSharingService",new x);V.register("sap.fe.core.services.InlineEditService",new f);return j},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/library.support", ["sap/ui/support/library", "./support/AnnotationIssue.support", "./support/CollectionFacetMissingID.support", "./support/CollectionFacetUnsupportedLevel.support", "./support/InvalidAnnotationColumnKey.support"], function (supportLib, AnnotationIssue, CollectionFacetMissingID, CollectionFacetUnsupportedLevel, InvalidAnnotationColumnKey) {
  "use strict";

  // eslint-disable-next-line @typescript-eslint/ban-ts-comment
  //@ts-ignore
  supportLib.SystemPresets.FeV4 = {
    id: "FioriElementsV4",
    title: "Fiori Elements V4",
    description: "Fiori Elements V4 rules",
    selections: [{
      ruleId: "annotationIssue",
      libName: "sap.fe.core"
    }]
  };
  /**
   * Adds support rules of the sap.fe.core library to the support infrastructure.
   */
  return {
    name: "sap.fe.core",
    niceName: "SAP.FE V4 - Core library",
    ruleset: [AnnotationIssue.getRules(), CollectionFacetMissingID.getRules(), CollectionFacetUnsupportedLevel.getRules(), InvalidAnnotationColumnKey.getRules()]
  };
}, false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/manifestMerger/AddNewPage", ["sap/base/Log","sap/base/util/ObjectPath"],function(e,t){"use strict";var n={};function i(t,n){const i=n.getContent();const s=i?.sourcePage;const r=i?.targetPage;if(!s?.id||!r?.id){e.error("Change content is not valid, missing source or target page ID.");return t}return a(t,s,r)}n.applyChange=i;function a(e,n,i){if(!s(e,n,i)){return e}const a=e["sap.ui5"]?.routing?.targets??{};a[i.id]={type:i.type,name:i.name,options:{settings:i.settings},id:i.id};const r=e["sap.ui5"]?.routing?.routes??[];r.push({pattern:i.routePattern,name:i.id,target:i.id});const o=a[n.id];const u=o.options?.settings?.navigation??{};o.options.settings.navigation={...u,[n.navigationSource]:{detail:{route:i.id}}};t.set(["sap.ui5","routing","targets"],a,e);t.set(["sap.ui5","routing","routes"],r,e);return e}function s(t,n,i){const a=t["sap.ui5"]?.routing?.targets??{};if(a[i.id]){e.error("Target page or route Id already exists in the manifest please check the target page Id in the manifest.");return false}if(!a[n.id]){e.error("Source page does not exist in the manifest targets please check the source page Id in the manifest.");return false}if(!a[n.id].name.startsWith("sap.fe")){e.error("Source page is not a Fiori elements application please check the source page name in the manifest.");return false}if(a[n.id].options.settings.navigation&&a[n.id].options.settings.navigation[n.navigationSource]){e.error("Source page already has target navigation please check the source page navigation in the manifest.");return false}const s=t["sap.ui5"]?.routing?.routes??[];const r=s.some(e=>e.name===n.id);if(!r){e.error("Source page does not exist in the manifest routes please check the source page name in the manifest.");return false}return true}return n},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/manifestMerger/ChangePageConfiguration", ["sap/base/Log","sap/base/util/ObjectPath"],function(t,e){"use strict";var n={};function o(e,n){const o=n.getContent();const r=o?.page;const a=o?.entityPropertyChange;if(a?.operation!=="UPSERT"||!a?.propertyPath||a?.propertyValue===undefined||a?.propertyPath.startsWith("/")){t.error("Change content is not a valid");return e}return i(e,r,a.propertyPath,a.propertyValue)}n.applyChange=o;function i(n,o,i,f,g,u){const p="sap.fe";let c=a(i);let l;if(o===p){c=[p,...c];l=n}else{l=s(n,o)}if(l){r(c,l);e.set(c,f,l);if(g&&u){u.pageConfigurationChanges[o]=u.pageConfigurationChanges[o]||[];u.pageConfigurationChanges[o].push(i)}}else{t.error(`No Fiori elements page with ID ${o} found in routing targets.`)}return n}n.changeConfiguration=i;function r(t,n){if(t.length>1){for(let o=0;o<t.length-1;o++){if(typeof e.get(t.slice(0,o+1),n)!=="object"){e.set(t.slice(0,o+1),{},n)}}}}function a(t){let e=t.split("/");if(e[0]==="controlConfiguration"){let t="";for(let n=1;n<e.length;n++){t+=(n>1?"/":"")+e[n];if(t.includes("@")){e=["controlConfiguration",t].concat(e.slice(n+1));break}}}return e}function s(t,e){let n;const o=t["sap.ui5"]?.routing?.targets??{};for(const t in o){if(o[t].id===e&&o[t].name.startsWith("sap.fe.")){n=o[t].options?.settings??{};break}}return n}function f(t,n,o,i){n=n??{};const r=o.pageConfigurationChanges[i]||[];for(const o of r){const i=a(o);const r=e.get(i,t);e.set(i,r,n)}return n}n.applyPageConfigurationChanges=f;return n},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/rootView/Fcl.controller", ["sap/base/Log","sap/f/FlexibleColumnLayoutSemanticHelper","sap/f/library","sap/fe/base/ClassSupport","sap/fe/core/controllerextensions/ViewState","sap/fe/core/helpers/KeepAliveHelper","sap/fe/core/helpers/ManifestHelper","sap/m/Button","sap/m/FlexBox","sap/m/IllustratedMessage","sap/m/Page","../CommonUtils","./RootViewBaseController"],function(e,t,n,o,i,a,s,r,l,u,c,g,d){"use strict";var C,h,f,m,p;var y=s.getRouteTargetName;var w=o.usingExtension;var F=o.defineUI5Class;function b(e,t,n,o){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(o):void 0})}function P(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,E(e,t)}function E(e,t){return E=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},E(e,t)}function T(e,t,n,o,i){var a={};return Object.keys(o).forEach(function(e){a[e]=o[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce(function(n,o){return o(e,t,n)||n},a),i&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(i):void 0,a.initializer=void 0),void 0===a.initializer?(Object.defineProperty(e,t,a),null):a}function S(e,t){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}const v=n.LayoutType;let L=(C=F("sap.fe.core.rootView.Fcl"),h=w(i.override({applyInitialStateOnly:function(){return false},adaptBindingRefreshControls:function(e){this.getView().getController()._getAllViews().forEach(function(t){const n=Promise.resolve(t);e.push(n)})},adaptStateControls:function(e){this.getView().getController()._getAllViews().forEach(function(t){const n=Promise.resolve(t);e.push(n)})},onRestore:function(){const e=this.getView().getController();const t=e.getAppContentContainer();const n=t.getModel("internal");const o=n.getProperty("/pages");for(const e in o){n.setProperty(`/pages/${e}/restoreStatus`,"pending")}e.onContainerReady()},onSuspend:function(){const e=this.getView().getController();const t=e.getFclControl();const n=t.getBeginColumnPages();const o=t.getMidColumnPages();const i=t.getEndColumnPages();const a=[].concat(n,o,i);e.getViewsFromPages(a).forEach(e=>{const t=e.getController();if(t?.viewState?.onSuspend){t.viewState.onSuspend()}})}})),C(f=(m=function(n){function o(){var e;for(var t=arguments.length,o=new Array(t),i=0;i<t;i++){o[i]=arguments[i]}e=n.call(this,...o)||this;b(e,"viewState",p,e);e._oTargetsAggregation={};e._oTargetsFromRoutePattern={};e.messagePages=[undefined,undefined,undefined];return e}P(o,n);var i=o.prototype;i.onInit=function e(){n.prototype.onInit.call(this);this._internalInit();this.setColumnDistributionModel()};i.manageDataReceived=function e(t){if(t.getParameter("error")){const e=t.getParameter("path");const n=this._getAllVisibleViews().find(t=>t.getBindingContext()?.getPath()===e);if(e&&n?.getBindingContext()?.isKeepAlive()){n.getController()._routing.onDataReceived(t)}}};i.attachRouteMatchers=function e(){this.getRouter().attachBeforeRouteMatched(this._updateViewForNavigatedRowsComputation,this);n.prototype.attachRouteMatchers.call(this);this._internalInit();this.getRouter().attachBeforeRouteMatched(this.onBeforeRouteMatched,this);this.getRouter().attachRouteMatched(this.onRouteMatched,this);this.getFclControl().attachStateChange(this._saveLayout,this)};i._internalInit=function e(){if(this._oRouterProxy){return}this.sCurrentRouteName="";this.sCurrentArguments={};const t=this.getAppComponent();const n=this.getAppComponent().getModel();n?.attachEvent("dataReceived",this.manageDataReceived.bind(this));this._oRouterProxy=t.getRouterProxy();this._oFCLConfig={maxColumnsCount:3};const o=t.getManifest()["sap.ui5"].routing;if(o?.config?.flexibleColumnLayout){const e=o.config.flexibleColumnLayout;if(e.defaultTwoColumnLayoutType){this._oFCLConfig.defaultTwoColumnLayoutType=e.defaultTwoColumnLayoutType}if(e.defaultThreeColumnLayoutType){this._oFCLConfig.defaultThreeColumnLayoutType=e.defaultThreeColumnLayoutType}if(e.limitFCLToTwoColumns===true){this._oFCLConfig.maxColumnsCount=2}}if(o?.config?.controlAggregation){this._oFCLConfig.defaultControlAggregation=o.config.controlAggregation}this._initializeTargetAggregation(t);this._initializeRoutesInformation(t);this.getFclControl().attachStateChange(this.onStateChanged,this);this.getFclControl().attachAfterEndColumnNavigate(this.onStateChanged,this)};i.getFclControl=function e(){return this.getAppContentContainer()};i.getFclConfig=function e(){return this._oFCLConfig};i._saveLayout=function e(t){this.sPreviousLayout=t.getParameters().layout};i._updateViewForNavigatedRowsComputation=function e(){const t=this._getAllVisibleViews(this.sPreviousLayout);const n=t.length?t[t.length-1]:undefined;this.getRouter().attachEventOnce("routeMatched",e=>{const t=e.getParameter("views");const o=this.getViewFromContainer(t[t.length-1]);if(n&&o){const e=n.getViewData()?.viewLevel;const t=o.getViewData()?.viewLevel;if(t===this._oFCLConfig.maxColumnsCount){this.oAdditionalViewForNavRowsComputation=o}if(e!==undefined&&t!==undefined&&e<this._oFCLConfig.maxColumnsCount&&e>t&&o!==n){this.oAdditionalViewForNavRowsComputation=n}}})};i.getViewForNavigatedRowsComputation=function e(){return this.oAdditionalViewForNavRowsComputation};i.onExit=function e(){this.getRouter().detachRouteMatched(this.onRouteMatched,this);this.getRouter().detachBeforeRouteMatched(this.onBeforeRouteMatched,this);this.getFclControl().detachStateChange(this.onStateChanged,this);this.getFclControl().detachAfterEndColumnNavigate(this.onStateChanged,this);d.prototype.onExit.bind(this)()};i.isFclEnabled=function e(){return true};i.displayErrorPage=async function t(n,o){let i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;return new Promise(async(t,a)=>{try{const e=this.getFclControl();const a=o;if(a.FCLLevel!==undefined&&i===0){i=a.FCLLevel}if(this._oFCLConfig&&i>=this._oFCLConfig.maxColumnsCount){i=this._oFCLConfig.maxColumnsCount-1}if(i<0||i>2){i=0}let s=this.messagePages[i];if(!s){s=new c({showHeader:false});this.messagePages[i]=s;switch(i){case 0:e.addBeginColumnPage(s);break;case 1:e.addMidColumnPage(s);break;default:e.addEndColumnPage(s)}}let d;const C=new l({alignItems:"Start",justifyContent:"End",items:[new r({type:"Transparent",icon:"sap-icon://decline",tooltip:"{sap.fe.i18n>C_COMMON_SAPFE_CLOSE}",press:()=>{if(o.handleShellBack===true){e.to(d.getId(),{},{})}else{window.history.back()}}}).addStyleClass("sapUiLargeMarginEnd")]});const h=new u({title:n,description:o.description??"",illustrationType:o.errorType?`sapIllus-${o.errorType}`:"sapIllus-UnableToLoad"});s.removeAllContent();s.addContent(C);s.addContent(h);let f;switch(i){case 0:d=e.getCurrentBeginColumnPage();f="afterBeginColumnNavigate";break;case 1:d=e.getCurrentMidColumnPage();f="afterMidColumnNavigate";break;default:d=e.getCurrentEndColumnPage();f="afterEndColumnNavigate"}if(o.handleShellBack===true){const t=g.getAppComponent(d);await t.getShellServices().setBackNavigation(async function(){e.to(d.getId(),{},{});await t.getShellServices().setBackNavigation()})}const m=this.getViewFromContainer(d);e.attachEventOnce(f,e=>{if(m&&m.isA("sap.ui.core.mvc.View")){m.getController().pageReady?.forcePageReady()}t(true)});e.to(s.getId(),{},{})}catch(t){a(false);e.info(`${t}`)}})};i._initializeTargetAggregation=function e(t){const n=t.getManifest(),o=n["sap.ui5"].routing?n["sap.ui5"].routing.targets:null;this._oTargetsAggregation={};if(o){Object.keys(o).forEach(e=>{const t=o[e];if(t.controlAggregation){this._oTargetsAggregation[e]={aggregation:t.controlAggregation,pattern:t.contextPattern}}else{this._oTargetsAggregation[e]={aggregation:"page",pattern:null}}})}};i._initializeRoutesInformation=function e(t){const n=t.getManifest(),o=n["sap.ui5"].routing?n["sap.ui5"].routing.routes:null;this._oTargetsFromRoutePattern={};if(o){o.forEach(e=>{if(e.pattern){this._oTargetsFromRoutePattern[e.pattern]=e.target}})}};i.getCurrentArgument=function e(){return this.sCurrentArguments};i.getCurrentRouteName=function e(){return this.sCurrentRouteName};i.getTargetAggregation=function e(){return this._oTargetsAggregation};i.onRouteMatched=function e(t){const n=t.getParameter("name");this.sCurrentRouteName=n;this.sCurrentArguments=t.getParameter("arguments")};i._scrollTablesToLastNavigatedItems=function e(){const t=this._getAllVisibleViews();if(t.length>1||t.length&&t[0].getViewData().viewLevel<this._oFCLConfig.maxColumnsCount){const e=this.getViewForNavigatedRowsComputation();if(e&&!t.includes(e)){t.push(e)}for(let e=t.length-1;e>0;e--){const n=t[e],o=t[e-1];const i=n.getBindingContext();const a=o.getController();if(i&&a._scrollTablesToRow){a._scrollTablesToRow(i.getPath())}}}};i.onStateChanged=function e(t){const n=t.getParameter("isNavigationArrow");if(this.sCurrentArguments!==undefined){if(!this.sCurrentArguments["?query"]){this.sCurrentArguments["?query"]={}}this.sCurrentArguments["?query"].layout=t.getParameter("layout")}this._forceModelContextChangeOnBreadCrumbs(t);if(n&&this.sCurrentRouteName){this._oRouterProxy.navTo(this.sCurrentRouteName,this.sCurrentArguments)}const o=this.getRightmostView();if(o){this.computeTitleHierarchy(o)}};i._forceModelContextChangeOnBreadCrumbs=function e(t){const n=t.getSource();let o=[];o=o.concat(n.getBeginColumnPages()).concat(n.getMidColumnPages()).concat(n.getEndColumnPages());o.forEach(e=>{const t=this.getViewFromContainer(e);const n=t?.byId&&t.byId("breadcrumbs");if(n){n.fireModelContextChange()}})};i._updateShareButtonVisibility=function e(t,n){let o;switch(n){case"OneColumn":o=t==="beginColumn";break;case"MidColumnFullScreen":case"ThreeColumnsBeginExpandedEndHidden":case"ThreeColumnsMidExpandedEndHidden":case"TwoColumnsBeginExpanded":case"TwoColumnsMidExpanded":o=t==="midColumn";break;case"EndColumnFullScreen":case"ThreeColumnsEndExpanded":case"ThreeColumnsMidExpanded":o=t==="endColumn";break;default:o=false}return o};i._updateEditButtonVisiblity=function e(t,n){const o=this.getAppComponent()?.getEnvironmentCapabilities()?.getCapabilities()?.HiddenDraft?.enabled;let i=true;switch(t){case"midColumn":switch(n){case"TwoColumnsMidExpanded":case"ThreeColumnsMidExpandedEndHidden":case"ThreeColumnsBeginExpandedEndHidden":case"TwoColumnsBeginExpanded":if(!o){i=false}break;case"ThreeColumnsMidExpanded":case"ThreeColumnsEndExpanded":i=false;break}break;case"endColumn":switch(n){case"ThreeColumnsMidExpanded":case"ThreeColumnsEndExpanded":if(!o){i=false}break}break}return i};i._updateSaveAndCancelButtonVisiblity=function e(t,n){const o=this.getAppComponent()?.getEnvironmentCapabilities()?.getCapabilities()?.HiddenDraft?.enabled;let i=true;switch(t){case"midColumn":switch(n){case"ThreeColumnsEndExpanded":case"ThreeColumnsMidExpanded":if(o){i=false}break}break}return i};i.updateUIStateForView=function e(t,n){const o=this.getHelper().getCurrentUIState(),i=["beginColumn","midColumn","endColumn"],a=this.getFclControl().getLayout();let s;if(!t.getModel("fclhelper")){t.setModel(this._createHelperModel(),"fclhelper")}if(!o.actionButtonsInfo){o.actionButtonsInfo={}}if(!o.actionButtonsInfo.midColumn){o.actionButtonsInfo.midColumn={}}if(!o.actionButtonsInfo.endColumn){o.actionButtonsInfo.endColumn={}}if(n>=this._oFCLConfig.maxColumnsCount){s=i[this._oFCLConfig.maxColumnsCount-1];o.actionButtonsInfo.midColumn.fullScreen=null;o.actionButtonsInfo.midColumn.exitFullScreen=null;o.actionButtonsInfo.midColumn.closeColumn=null;o.actionButtonsInfo.endColumn.exitFullScreen=null;o.actionButtonsInfo.endColumn.fullScreen=null;o.actionButtonsInfo.endColumn.closeColumn=null}else{s=i[n]}if(n>=this._oFCLConfig.maxColumnsCount||a==="EndColumnFullScreen"||a==="MidColumnFullScreen"||a==="OneColumn"){t.getModel("fclhelper").setProperty("/breadCrumbIsVisible",true)}else{t.getModel("fclhelper").setProperty("/breadCrumbIsVisible",false)}o.actionButtonsInfo.beginColumn={fullScreen:null,exitFullScreen:null,closeColumn:null};const r=Object.assign({},o.actionButtonsInfo[s]);r.switchVisible=r.fullScreen!==null||r.exitFullScreen!==null;r.switchIcon=r.fullScreen!==null?"sap-icon://full-screen":"sap-icon://exit-full-screen";r.isFullScreen=r.fullScreen===null;r.closeVisible=r.closeColumn!==null;t.getModel("fclhelper").setProperty("/actionButtonsInfo",r);t.getModel("fclhelper").setProperty("/showEditButton",this._updateEditButtonVisiblity(s,a));t.getModel("fclhelper").setProperty("/showSaveAndCancelButton",this._updateSaveAndCancelButtonVisiblity(s,a));t.getModel("fclhelper").setProperty("/showShareIcon",this._updateShareButtonVisibility(s,a))};i.onBeforeRouteMatched=async function e(t){if(t){const e=t.getParameters().arguments["?query"];let n=e?e.layout:undefined;if(!n){const e=this.getHelper().getNextUIState(0);n=e.layout}const o=t.getParameter("config")?.target;n=this._correctLayoutForTargets(n,o);n=await this.getStoredLayout(n);if(n){this.getFclControl().setLayout(n)}}};i.getHelper=function e(){return t.getInstanceFor(this.getFclControl(),this._oFCLConfig)};i.calculateLayout=function e(t,n,o){let i=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;if(!o){o=i?this.getFclControl().getLayout():this.getHelper().getNextUIState(t).layout}const a=this.getRouter().getRouteByHash?.(`${n}?layout=${o}`);const s=this._oTargetsFromRoutePattern[a.getPattern()];return this._correctLayoutForTargets(o,s)};i._correctLayoutForTargets=function e(t,n){const o={2:["TwoColumnsMidExpanded","TwoColumnsBeginExpanded","MidColumnFullScreen"],3:["ThreeColumnsMidExpanded","ThreeColumnsEndExpanded","ThreeColumnsMidExpandedEndHidden","ThreeColumnsBeginExpandedEndHidden","MidColumnFullScreen","EndColumnFullScreen"]};if(n&&!Array.isArray(n)){n=[n]}if(!n){return t}else if(n.length>1){const e=o[n.length.toString()];if(!e.includes(t)){const o=this._getDefaultLayout(n.length);t=o&&e.includes(o)?o:e[0]}}else{const e=this.getTargetAggregation()[y(n[0])].aggregation||this._oFCLConfig.defaultControlAggregation;switch(e){case"beginColumnPages":t=v.OneColumn;break;case"midColumnPages":t=v.MidColumnFullScreen;break;case"endColumnPages":t=v.EndColumnFullScreen;break;default:break}}return t};i._getDefaultLayout=function e(t){switch(t){case 3:return this._oFCLConfig.defaultTwoColumnLayoutType;case 2:return this._oFCLConfig.defaultTwoColumnLayoutType;default:return undefined}};i.getInstancedViews=function e(){const t=this.getFclControl();const n=[...t.getBeginColumnPages(),...t.getMidColumnPages(),...t.getEndColumnPages()];return this.getViewsFromPages(n)};i.getVisibleViews=function e(){return this._getAllVisibleViews()};i._getAllVisibleViews=function t(n){const o=[];const i=n?n:this.getFclControl().getLayout();const a=e=>{if(e){const t=this.getViewFromContainer(e);if(t){o.push(t)}}};switch(i){case v.EndColumnFullScreen:a(this.getFclControl().getCurrentEndColumnPage());break;case v.MidColumnFullScreen:a(this.getFclControl().getCurrentMidColumnPage());break;case v.OneColumn:a(this.getFclControl().getCurrentBeginColumnPage());break;case v.ThreeColumnsEndExpanded:case v.ThreeColumnsMidExpanded:a(this.getFclControl().getCurrentBeginColumnPage());a(this.getFclControl().getCurrentMidColumnPage());a(this.getFclControl().getCurrentEndColumnPage());break;case v.TwoColumnsBeginExpanded:case v.TwoColumnsMidExpanded:case v.ThreeColumnsMidExpandedEndHidden:case v.ThreeColumnsBeginExpandedEndHidden:a(this.getFclControl().getCurrentBeginColumnPage());a(this.getFclControl().getCurrentMidColumnPage());break;default:e.error(`Unhandled switch case for ${this.getFclControl().getLayout()}`)}return o};i._getAllViews=function t(n){const o=[];const i=n?n:this.getFclControl().getLayout();const a=e=>{if(e){const t=this.getViewFromContainer(e);if(t){o.push(t)}}};switch(i){case v.OneColumn:a(this.getFclControl().getCurrentBeginColumnPage());break;case v.ThreeColumnsEndExpanded:case v.ThreeColumnsMidExpanded:case v.ThreeColumnsMidExpandedEndHidden:case v.ThreeColumnsBeginExpandedEndHidden:case v.EndColumnFullScreen:a(this.getFclControl().getCurrentBeginColumnPage());a(this.getFclControl().getCurrentMidColumnPage());a(this.getFclControl().getCurrentEndColumnPage());break;case v.TwoColumnsBeginExpanded:case v.TwoColumnsMidExpanded:a(this.getFclControl().getCurrentBeginColumnPage());a(this.getFclControl().getCurrentMidColumnPage());break;case v.MidColumnFullScreen:{const e=this.getHelper().getCurrentUIState().actionButtonsInfo?.midColumn?.exitFullScreen??"";a(this.getFclControl().getCurrentBeginColumnPage());a(this.getFclControl().getCurrentMidColumnPage());if(e.startsWith("ThreeColumn")){a(this.getFclControl().getCurrentEndColumnPage())}}break;default:e.error(`Unhandled switch case for ${this.getFclControl().getLayout()}`)}return o};i.onContainerReady=async function e(){const t=this._getAllVisibleViews();const n=t.reduce(function(e,t){if(t.isA&&t.isA("sap.ui.core.mvc.View")){e.push(a.restoreView(t))}return e},[]);return Promise.all(n)};i.getRightmostContext=function e(){return this.getRightmostView()?.getBindingContext()??undefined};i.getRightmostView=function e(){return this._getAllViews().pop()};i.isContextUsedInPages=function e(t){if(!this.getFclControl()){return false}const n=this._getAllViews();for(const e of n){if(e){if(e.getBindingContext()===t){return true}}else{return false}}return false};i._setShellMenuTitle=async function e(t,n,o,i){if(this.getHelper().getCurrentUIState().isFullScreen!==true){await t.getShellServices().setTitle(o,i)}else{await t.getShellServices().setTitle(n,i)}};i.getFCLPersonalizationData=async function t(){const n=this.getAppComponent()?.getShellServices();let o;try{o=await(n.getApplicationPersonalizationData?.("FCL-Personalization"))}catch(t){e.error("Error while getting the FCL-Personalization data from the personalization service",t)}return o??{defaultLayouts:{},columnsDistribution:{desktop:{},tablet:{}}}};i.setFCLPersonalizationData=function e(t){const n=this.getAppComponent()?.getShellServices();n.setApplicationPersonalizationData("FCL-Personalization",t)};i.setColumnDistributionModel=async function e(){this.fclStateCache=this.getFCLPersonalizationData();const t=(await this.fclStateCache).columnsDistribution;if(t){const e=this.getView().getModel("internal");e.setProperty("/FCLColumnsDistribution",t)}};i.onColumnsDistributionChange=async function e(t){const{media:n,layout:o,columnsSizes:i}=t.getParameters();const a=this.getView().getModel("internal");a.setProperty(`/FCLColumnsDistribution/${n}/${o}`,i);const s=await this.fclStateCache;const r=this.getNumberOfColumnsFromLayout(o);if(r){s.defaultLayouts[r]=o;s.columnsDistribution[n][o]=i;this.setFCLPersonalizationData(s);this.fclStateCache=Promise.resolve(s)}};i.getNumberOfColumnsFromLayout=function e(t){const n=/^(One|Two|Three)Column/.exec(t)?.[1];switch(n){case"One":return 1;case"Two":return 2;case"Three":return 3;default:return null}};i.getStoredLayout=async function e(t){const n=t??this.getFclControl().getLayout();const o=this.getNumberOfColumnsFromLayout(n);if(o){const e=(await this.fclStateCache).defaultLayouts;return e?.[o]??n}return n};return o}(d),p=T(m.prototype,"viewState",[h],{configurable:true,enumerable:true,writable:true,initializer:null}),m))||f);return L},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/rootView/NavContainer.controller", ["sap/base/Log","sap/fe/base/ClassSupport","sap/fe/core/CommonUtils","sap/fe/core/controllerextensions/ViewState","sap/fe/core/helpers/KeepAliveHelper","sap/m/IllustratedMessage","sap/m/Page","./RootViewBaseController"],function(e,t,n,r,i,o,a,s){"use strict";var l,c,g,u,f;var p=t.usingExtension;var d=t.defineUI5Class;function h(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function C(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,v(e,t)}function v(e,t){return v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},v(e,t)}function w(e,t,n,r,i){var o={};return Object.keys(r).forEach(function(e){o[e]=r[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(n,r){return r(e,t,n)||n},o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer?(Object.defineProperty(e,t,o),null):o}function P(e,t){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let y=(l=d("sap.fe.core.rootView.NavContainer"),c=p(r.override({applyInitialStateOnly:function(){return false},adaptBindingRefreshControls:function(e){const t=this.getView(),n=t.getController();e.push(n._getCurrentPage(t))},adaptStateControls:function(e){const t=this.getView(),n=t.getController();e.push(n._getCurrentPage(t))},onRestore:function(){const e=this.getView(),t=e.getController(),n=t.getAppContentContainer();const r=n.getModel("internal");const i=r.getProperty("/pages");for(const e in i){r.setProperty(`/pages/${e}/restoreStatus`,"pending")}t.onContainerReady()},onSuspend:function(){const e=this.getView(),t=e.getController(),r=t.getAppContentContainer();const i=r.getPages();i.forEach(function(e){const t=n.getTargetView(e);const r=t&&t.getController();if(r&&r.viewState&&r.viewState.onSuspend){r.viewState.onSuspend()}})}})),l(g=(u=function(t){function r(){var e;for(var n=arguments.length,r=new Array(n),i=0;i<n;i++){r[i]=arguments[i]}e=t.call(this,...r)||this;h(e,"viewState",f,e);return e}C(r,t);var s=r.prototype;s.onContainerReady=async function e(){const t=this.getView(),r=this._getCurrentPage(t);return r.then(async function(e){if(e){const t=n.getTargetView(e);return i.restoreView(t)}return})};s._getCurrentPage=async function e(t){const r=this.getAppContentContainer();return new Promise(function(e){const i=r.getCurrentPage();if(i?.getController?.()?.isPlaceholder?.()){i.getController().attachEventOnce("targetPageInsertedInContainer",function(r){const i=r.getParameter("targetpage");const o=n.getTargetView(i);e(o!==t?o:undefined)})}else{const r=n.getTargetView(i);e(r!==t?r:undefined)}})};s._getNavContainer=function e(){return this.getAppContentContainer()};s.getInstancedViews=function e(){const t=this._getNavContainer();const n=t.getPages();return this.getViewsFromPages(n)};s.getVisibleViews=function e(){const t=this._getNavContainer();const n=[t.getCurrentPage()];return this.getViewsFromPages(n)};s.isFclEnabled=function e(){return false};s._scrollTablesToLastNavigatedItems=function e(){};s.displayErrorPage=async function t(r,i){let s=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;return new Promise(async(t,s)=>{try{const e=this._getNavContainer();if(!this.messagePage){this.messagePage=new a({showHeader:false});e.addPage(this.messagePage)}const s=new o({title:r,description:i.description??"",illustrationType:i.errorType?`sapIllus-${i.errorType}`:"sapIllus-UnableToLoad"});this.messagePage.removeAllContent();this.messagePage.addContent(s);const l=e.getCurrentPage();if(i.handleShellBack===true){const t=n.getAppComponent(l);await t.getShellServices().setBackNavigation(async function(){e.to(l.getId());await t.getShellServices().setBackNavigation()})}const c=this.getViewFromContainer(l);e.attachEventOnce("afterNavigate",()=>{if(c&&c.isA("sap.ui.core.mvc.View")){c.getController().pageReady?.forcePageReady()}t(true)});e.to(this.messagePage.getId())}catch(t){s(false);e.info(t)}})};return r}(s),f=w(u.prototype,"viewState",[c],{configurable:true,enumerable:true,writable:true,initializer:null}),u))||g);return y},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/rootView/RootViewBaseController", ["sap/base/Log","sap/fe/base/ClassSupport","sap/fe/core/BaseController","sap/fe/core/CommonUtils","sap/fe/core/controllerextensions/Placeholder","sap/fe/core/controllerextensions/ViewState","sap/fe/core/helpers/ManifestHelper","sap/fe/core/helpers/PromiseKeeper","sap/fe/core/helpers/SizeHelper","sap/ui/base/BindingInfo","sap/ui/core/Element","sap/ui/core/routing/HashChanger","sap/ui/model/json/JSONModel","sap/ui/model/odata/v4/AnnotationHelper","sap/ui/thirdparty/URI","../controls/Any"],function(e,t,o,n,i,r,s,a,c,l,u,h,f,g,p,d){"use strict";var m,y,C,b,P,I,w;var R=s.getRouteTargetNames;var v=t.usingExtension;var T=t.defineUI5Class;function H(e,t,o,n){o&&Object.defineProperty(e,t,{enumerable:o.enumerable,configurable:o.configurable,writable:o.writable,value:o.initializer?o.initializer.call(n):void 0})}function _(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,M(e,t)}function M(e,t){return M=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},M(e,t)}function A(e,t,o,n,i){var r={};return Object.keys(n).forEach(function(e){r[e]=n[e]}),r.enumerable=!!r.enumerable,r.configurable=!!r.configurable,("value"in r||r.initializer)&&(r.writable=!0),r=o.slice().reverse().reduce(function(o,n){return n(e,t,o)||o},r),i&&void 0!==r.initializer&&(r.value=r.initializer?r.initializer.call(i):void 0,r.initializer=void 0),void 0===r.initializer?(Object.defineProperty(e,t,r),null):r}function S(e,t){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let V=(m=T("sap.fe.core.rootView.RootViewBaseController"),y=v(i),C=v(r),m(b=(P=function(t){function o(){var e;for(var o=arguments.length,n=new Array(o),i=0;i<o;i++){n[i]=arguments[i]}e=t.call(this,...n)||this;H(e,"oPlaceholder",I,e);H(e,"viewState",w,e);e.bIsComputingTitleHierachy=false;e._numberOfRoutesInProgress=0;return e}_(o,t);var i=o.prototype;i.onInit=function e(){c.init();this._aHelperModels=[]};i.getPlaceholder=function e(){return this.oPlaceholder};i.attachRouteMatchers=function e(){this.oPlaceholder.attachRouteMatchers();this.getAppComponent().getRoutingService().attachAfterRouteMatched({},this.onAfterRouteMatched,this)};i.onExit=function e(){this.getAppComponent().getRoutingService().detachAfterRouteMatched(this.onAfterRouteMatched,this);this.oRouter=undefined;c.exit();this._aHelperModels.forEach(function(e){e.destroy()})};i.getViewFromContainer=function e(t){const o=t.isA("sap.ui.core.ComponentContainer")?t.getComponentInstance().getRootControl():t;return o?.isA("sap.ui.core.mvc.View")?o:undefined};i.getViewsFromPages=function e(t){const o=[];t.forEach(e=>{const t=this.getViewFromContainer(e);if(t!==undefined){o.push(t)}});return o};i.getResourceBundle=function e(){return this.getOwnerComponent().getModel("i18n").getResourceBundle()};i.getRouter=function e(){if(!this.oRouter){this.oRouter=this.getAppComponent().getRouter()}return this.oRouter};i._createHelperModel=function e(){const t=new f;this._aHelperModels.push(t);return t};i.routingIsComplete=async function e(){await(this._routingIsComplete?.promise||Promise.resolve())};i.waitForRightMostViewReady=async function e(t){return new Promise(function(e,o){const n=t.getParameter("views")??[],i=[];let r;n.forEach(function(e){let t=e;if(e&&e.getComponentInstance){const o=e.getComponentInstance();t=o.getRootControl()}if(t&&t.getController()&&t.getController().pageReady){i.push(t)}else if(t){r=t}});const s=i[i.length-1];if(s&&s.getController().pageReady.isPageReady()){e(s)}else if(s){s.getController().pageReady.attachEventOnce("pageReady",function(){e(s)})}else if(r){e(r)}else{o(new Error("No view was found during onAfterRouteMatched"))}})};i.restoreFocusFromHistory=function e(){switch(history.state.focusInfo.type){case"Row":const e=u.getElementById(history.state.focusInfo.tableId);const t=e.getRowBinding().getCurrentContexts().findIndex(e=>e.getPath()===history.state.focusInfo.contextPathFocus);if(t!==-1){e.focusRow(t)}break;default:u.getElementById(history.state.focusInfo.controlId)?.focus()}history.replaceState(Object.assign(history.state,{focusInfo:null}),"")};i.onAfterRouteMatched=async function t(o){this._routingIsComplete=this._routingIsComplete??new a;this._numberOfRoutesInProgress=++this._numberOfRoutesInProgress;const n=this._numberOfRoutesInProgress;try{const e=await this.waitForRightMostViewReady(o);if(e&&this.getVisibleViews().includes(e)){const t=this.getView().getContent()[0];if(t&&t.getAutoFocus&&!t.getAutoFocus()){t.setProperty("autoFocus",true,true)}const o=this.getAppComponent();this._scrollTablesToLastNavigatedItems();if(o.getEnvironmentCapabilities().getCapabilities().UShell){this.computeTitleHierarchy(e)}const n=o.getRouterProxy().isFocusForced();o.getRouterProxy().setFocusForced(false);if(e.getController()&&e.getParent().onPageReady){e.getParent().onPageReady({forceFocus:n})}if(history.state.focusInfo){this.restoreFocusFromHistory()}else if(o.getRouterProxy().getLastHistoryEntry().focusControlId){o.getRouterProxy().restoreFocusForCurrentHash()}if(this.onContainerReady){this.onContainerReady()}}return e}catch(t){e.error("An error occurs while computing the title hierarchy and calling focus method",t);return undefined}finally{if(n===this._numberOfRoutesInProgress){this._numberOfRoutesInProgress=0;this._routingIsComplete.resolve();this._routingIsComplete=undefined}}};i._getTitleHierarchyCache=function e(){if(!this.oTitleHierarchyCache){this.oTitleHierarchyCache={}}return this.oTitleHierarchyCache};i.clearTitleHierarchyCache=function e(t){delete this._getTitleHierarchyCache()[t]};i._computeTitleInfo=function e(t,o,n,i){let r=arguments.length>4&&arguments[4]!==undefined?arguments[4]:"";const s=n.split("/");if(!s[s.length-1].includes("?")){n+="?restoreHistory=true"}else{n+="&restoreHistory=true"}return{title:t,subtitle:o,intent:n,icon:r,description:i}};i._formatTitle=function e(t,o,n){let i="";switch(t){case"Value":i=`${o}`;break;case"ValueDescription":i=`${o} (${n})`;break;case"DescriptionValue":i=`${n} (${o})`;break;case"Description":i=`${n}`;break;default:}return i};i._fetchTitleValue=async function t(o){const i=this.getAppComponent(),r=this.getView().getModel(),s=i.getMetaModel(),a=s.getMetaPath(o),c=r.createBindingContext(o),u=s.getObject(`${a}/@com.sap.vocabularies.UI.v1.HeaderInfo/Title/Value`),h=g.format(u,{context:s.createBindingContext("/")});if(!h){return Promise.resolve("")}if(u.$Function==="odata.concat"){const e=new d({any:h});e.setModel(r);e.setBindingContext(c);const t=e.getBinding("any");if(t?.isA("sap.ui.model.CompositeBinding")){await Promise.all(t.getBindings().map(e=>e.requestValue?.()))}const o=e.getAny();e.destroy();return Promise.resolve(o)}const f=g.format(s.getObject(`${a}/@com.sap.vocabularies.UI.v1.HeaderInfo/Title/Value/$Path@com.sap.vocabularies.Common.v1.Text`),{context:s.createBindingContext("/")}),p=s.getObject(`${a}/@com.sap.vocabularies.UI.v1.HeaderInfo/Title/Value/$Path@`),m=[],y=l.parse(h),C=new Promise(function(e){const t=n.computeDisplayMode(p);e(t)});m.push(C);const b=y.parts?y.parts[0].path:y.path,P=y.formatter,I=r.bindProperty(b,c,{$$groupId:"$auto.Heroes"});I.initialize();const w=new Promise(function(e){const t=function(o){const n=P?P(o.getSource().getValue()):o.getSource().getValue();I.detachChange(t);e(n)};I.attachChange(t)});m.push(w);if(f){const e=l.parse(f);let t=e.parts?e.parts[0].path:e.path;t=b.lastIndexOf("/")>-1?`${b.slice(0,b.lastIndexOf("/"))}/${t}`:t;const o=e.formatter,n=r.bindProperty(t,c,{$$groupId:"$auto.Heroes"});n.initialize();const i=new Promise(function(e){const t=function(i){const r=o?o(i.getSource().getValue()):i.getSource().getValue();n.detachChange(t);e(r)};n.attachChange(t)});m.push(i)}try{const e=await Promise.all(m);let t="";if(typeof e!=="string"){t=this._formatTitle(e[0],e[1],e[2])}return t}catch(t){e.error("Error while fetching the title from the header info :"+t)}return""};i.getAppSpecificHash=function e(){const t=h.getInstance();return t.hrefForAppSpecificHash?p.decode(t.hrefForAppSpecificHash("")):"#/"};i._getHash=function e(){return h.getInstance().getHash()};i.getTitleInfoFromPath=async function e(t){const o=this._getTitleHierarchyCache();if(o[t]){return Promise.resolve(o[t])}const n=this.getAppComponent().getMetaModel();const i=n.getMetaPath(t);const r=n.getObject(`${i}/@com.sap.vocabularies.UI.v1.HeaderInfo/TypeName`);const s=this.getAppSpecificHash();const a=s+t.slice(1);return this._fetchTitleValue(t).then(e=>{const n=this._computeTitleInfo(r,e,a);o[t]=n;return n})};i._ensureHierarchyElementsAreStrings=function e(t){const o=[];for(const e in t){const n=t[e];const i={};for(const e in n){i[e]=typeof n[e]!=="string"?String(n[e]):n[e]}o.push(i)}return o};i.getTargetOptionsFromHash=function e(t){const o=this.getAppComponent();const n=o.getManifestEntry("sap.ui5").routing?.routes??[];for(const e of n){const n=o.getRouter().getRoute(e.name);if(n?.match(t)){const t=R(e.target)[0];return o.getRouter().getTarget(t)._oOptions}}};i.getTargetTypeFromHash=function e(t){return this.getTargetOptionsFromHash(t)?.name||""};i._getBrowserTitle=function e(t,o){const n=[];let i="",r="";const s=[...t];if(s.length>1){s.pop();s.forEach(e=>{if(e.subtitle){n.push(e.subtitle)}})}if(o.title){n.push(o.title)}if(o.description){i=`${o.subtitle?.toString().trim()} (${o.description})`}else{i=`${o.subtitle}`}r=n.join(" - ");return{headerText:r?`${i} - ${r}`:i}};i._setTitles=async function e(t,o,n){let i;const r=this.getAppComponent(),s=n.title??"";if(o.length){i=this._getBrowserTitle(o,n)}await this._setShellMenuTitle(r,s,t,i)};i.removeEmptyParamFromHash=function e(t,o){const n=t.getShellServices();const i=n.parseShellHash(o);for(const e in i?.params){if(!e.startsWith("sap-")&&i.params[e][0]===""){delete i.params[e]}}if(i?.params){delete i.params["sap-xapp-state"]}return`#${n.constructShellHash(i)}`};i.computeTitleHierarchy=async function t(o){const n=this.getAppComponent(),i=o.getBindingContext(),r=o.getParent(),s=[],a=this.getAppSpecificHash(),c=n.getManifestEntry("sap.app"),l=c.title||"",u=c.subTitle||"",h=c.icon||"";let f,g;if(r&&r._getPageTitleInformation){if(i){if(this.getTargetTypeFromHash("")==="sap.fe.templates.ListReport"){s.push(await this.getRootLevelTitleInformation(this.removeEmptyParamFromHash(n,a),l,u,h))}g=i.getPath();const e=g.split("/");let t="";e.shift();e.pop();for(const o of e){t+=`/${o}`;if(!n.getRouter().getRouteInfoByHash(t)){continue}const e=n.getMetaModel(),i=e.getMetaPath(t),r=e.getObject(`${i}/@com.sap.vocabularies.Common.v1.ResultContext`);if(!r){s.push(await this.getTitleInfoFromPath(t))}}}f=await r._getPageTitleInformation();const e=this._getHash();const t=a.endsWith("/")&&e.startsWith("/")?a+e.substring(1):a+e;f=this._computeTitleInfo(f.title??"",f.subtitle??"",t,f.description);if(i&&g){this._getTitleHierarchyCache()[g]=f}else if(!this._getTitleHierarchyCache()[a]){this._getTitleHierarchyCache()[a]=f}}else{throw new Error("Title information missing in HeaderInfo")}try{const e=s;const t=this._ensureHierarchyElementsAreStrings(e);t.reverse();await n.getShellServices().setHierarchy(t);await this._setTitles(l,t,f);return}catch(t){e.error(t)}finally{this.bIsComputingTitleHierachy=false}};i.getRootLevelTitleInformation=async function e(t,o,n,i){const r=this._getTitleHierarchyCache();if(r[t]){return Promise.resolve(r[t])}else{return Promise.resolve(this._computeTitleInfo(o,n,t,undefined,i))}};i.calculateLayout=function e(t,o,n){let i=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;return""};i.onContextBoundToView=function e(t){if(t){const e=this.getView().getModel("internal").getProperty("/deepestPath"),o=t.getPath();if(!e||e.indexOf(o)!==0){this.getView().getModel("internal").setProperty("/deepestPath",o,undefined,true)}}};i.displayErrorPage=async function e(t,o){let n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;return Promise.resolve(true)};i.updateUIStateForView=function e(t,o){};i.getInstancedViews=function e(){return[]};i.getVisibleViews=function e(){return[]};i._scrollTablesToLastNavigatedItems=function e(){};i.isFclEnabled=function e(){return false};i._setShellMenuTitle=async function e(t,o,n,i){await t.getShellServices().setTitle(o,i)};i.getAppContentContainer=function e(){const t=this.getAppComponent();const o=t.getManifestEntry("sap.ui5").routing?.config?.controlId??"appContent";return this.getView().byId(o)};return o}(o),I=A(P.prototype,"oPlaceholder",[y],{configurable:true,enumerable:true,writable:true,initializer:null}),w=A(P.prototype,"viewState",[C],{configurable:true,enumerable:true,writable:true,initializer:null}),P))||b);return V},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/services/AsyncComponentServiceFactory", ["sap/ui/core/service/Service","sap/ui/core/service/ServiceFactory"],function(t,e){"use strict";function r(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,n(t,e)}function n(t,e){return n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},n(t,e)}let o=function(t){function e(){return t.apply(this,arguments)||this}r(e,t);var n=e.prototype;n.init=function t(){this.initPromise=new Promise((t,e)=>{this.resolveFn=t;this.rejectFn=e});const e=this.getContext();const r=e.scopeObject;const n=r._getManifestEntry("sap.ui5",true).services;Promise.all(Object.keys(n).filter(t=>n[t].startup==="waitFor"&&n[t].factoryName!=="sap.fe.core.services.AsyncComponentService").map(async t=>r.getService(t).then(e=>{const n=`get${t[0].toUpperCase()}${t.substring(1)}`;if(!r.hasOwnProperty(n)){r[n]=function(){return e}}return e}))).then(async t=>{await r.pRootControlLoaded;return t}).then(t=>{if(r.onServicesStarted){r.onServicesStarted(t)}this.resolveFn(this);return}).catch(this.rejectFn)};return e}(t);let i=function(t){function e(){return t.apply(this,arguments)||this}r(e,t);var n=e.prototype;n.createInstance=async function t(e){const r=new o(e);return r.initPromise};return e}(e);return i},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/services/CacheHandlerServiceFactory", ["sap/base/strings/hash","sap/ui/core/cache/CacheManager","sap/ui/core/service/Service","sap/ui/core/service/ServiceFactory","sap/ui/thirdparty/jquery"],function(e,t,n,i,jQuery){"use strict";var s={};function o(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,a(e,t)}function a(e,t){return a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},a(e,t)}async function r(e,t,n){return new Promise(function(i){jQuery.ajax(e,{method:"GET"}).done(function(s,o,a){n[e]=a.getResponseHeader("ETag")||a.getResponseHeader("Last-Modified");i(t===n[e])}).fail(function(){n[e]="";i(false)})})}let c=function(n){function i(){return n.apply(this,arguments)||this}s.CacheHandlerService=i;o(i,n);var a=i.prototype;a.init=function e(){const t=this.getContext();this.oFactory=t.factory;const n=t.settings;if(!n.metaModel){throw new Error("a `metaModel` property is expected when instantiating the CacheHandlerService")}this.oMetaModel=n.metaModel;this.oAppComponent=n.appComponent;this.oComponent=n.component;this.initPromise=this.oMetaModel.fetchEntityContainer().then(()=>this);this.mCacheNeedsInvalidate={}};a.exit=function e(){this.oFactory.removeGlobalInstance(this.oMetaModel)};a.validateCacheKey=async function e(n,i,s){let o=true;let a;try{const e=await t.get(n);const c=this.getETags(i,s);a=JSON.stringify(c);if(e){const t={};const n=JSON.parse(e.cachedETags);const i=await Promise.all(Object.keys(n).map(async function(e){if(n[e]){if(c[e]){t[e]=c[e];return n[e]===c[e]}else{return r(e,n[e],t)}}else{t[e]=c[e];return n[e]===c[e]}}));o=i.includes(false);if(Object.keys(t).some(function(e){return!t[e]})){a=null}else{a=o?JSON.stringify(t):e.viewCacheKey;a??=JSON.stringify(t)}}else if(Object.keys(c).some(function(e){return!c[e]})){a=null}}catch(e){o=true;a=null}this.mCacheNeedsInvalidate[n]=o;return a};a.invalidateIfNeeded=async function e(n,i,s,o){const a=JSON.stringify(this.getETags(s,o));if(this.mCacheNeedsInvalidate[i]||n&&n!==a){const e={};e.cachedETags=a;e.viewCacheKey=n;return t.set(i,e)}else{return Promise.resolve()}};a.getETags=function t(n,i){const s=this.oMetaModel.getETags();Object.keys(s).forEach(function(e){const t=s[e];if(t!==null&&t instanceof Date){s[e]=s[e].toISOString()}});const o=this.oAppComponent.getManifest();const a=e(JSON.stringify({sapApp:o["sap.app"],viewData:n.getViewData()}));s["manifest"]=a;const r=i.getCapabilities();if(r){s["toggles"]=e(JSON.stringify(r))}return s};a.getInterface=function e(){return this};return i}(n);s.CacheHandlerService=c;let u=function(e){function t(){var t;for(var n=arguments.length,i=new Array(n),s=0;s<n;s++){i[s]=arguments[s]}t=e.call(this,...i)||this;t._oInstanceRegistry={};return t}o(t,e);var n=t.prototype;n.createInstance=async function e(t){const n=t.settings.metaModel.getId();let i=this._oInstanceRegistry[n];if(!i){this._oInstanceRegistry[n]=i=new c(Object.assign({factory:this,scopeObject:null,scopeType:"service"},t))}return i.initPromise.then(()=>this._oInstanceRegistry[n]).catch(e=>{this._oInstanceRegistry[n]=null;throw e})};n.getInstance=function e(t){return this._oInstanceRegistry[t.getId()]};n.removeGlobalInstance=function e(t){this._oInstanceRegistry[t.getId()]=null};return t}(i);return u},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/services/CollaborationManagerServiceFactory", ["sap/base/Log","sap/ui/core/Lib","sap/ui/core/service/Service","sap/ui/core/service/ServiceFactory"],function(e,t,r,i){"use strict";function s(e){return new Promise((t,r)=>{sap.ui.require([e],r=>{if(!(r&&r.__esModule)){r=r===null||!(typeof r==="object"&&e.endsWith("/library"))?{default:r}:r;Object.defineProperty(r,"__esModule",{value:true})}t(r)},e=>{r(e)})})}var n={};function a(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,o(e,t)}function o(e,t){return o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},o(e,t)}let c=function(r){function i(){var e;for(var t=arguments.length,i=new Array(t),s=0;s<t;s++){i[s]=arguments[s]}e=r.call(this,...i)||this;e.__implements__sap_insights_ICardProvider=true;e.registered=false;e.sharedCardsPerView={};return e}n.CollaborationManagerService=i;a(i,r);var o=i.prototype;o.init=function e(){this.initPromise=new Promise(e=>{this.appComponent=this.getContext().scopeObject;e(this)})};o.getCardsChannel=async function e(){const{default:t}=await s("sap/insights/CardHelper");const r=await t.getServiceAsync("UIService");return r.getCardsChannel()};o.connect=async function t(r,i){try{const e=await this.getCardsChannel();if(e.isEnabled()){this.onRetrieveAvailableCards=i;this.channel=e;this.id=r;this.consumers={};this.sharedCards=[];if(this.registered!==true){await this.registerProvider()}this.updateConsumers()}}catch(t){e.debug("Collaboration Manager connection failed",t)}return this};o.onConsumerConnected=async function e(t){if(!this.consumers[t]){this.consumers[t]=true;await(this.onRetrieveAvailableCards?.());this.shareAvailableCards(t)}return Promise.resolve(Object.keys(this.consumers).length)};o.onConsumerDisconnected=async function e(t){if(this.consumers[t]){delete this.consumers[t]}return Promise.resolve(Object.keys(this.consumers).length)};o.onCardRequested=function e(t,r){const i=Object.values(this.sharedCardsPerView).flat().find(e=>e?.id===r);i?.callback?.(i.card);return i};o.onViewUpdate=async function e(t){if(this.registered!==t){if(t){await this.registerProvider();this.updateConsumers()}else{await this.unregisterProvider()}}else if(this.registered){this.updateConsumers()}};o.registerProvider=async function e(){if(this.channel){await this.channel.registerProvider(this.id,this);this.registered=true}};o.unregisterProvider=async function e(){if(this.channel){await this.channel.unregister(this.id);this.registered=false;this.consumers={};this.sharedCards=[];this.onRetrieveAvailableCards=undefined}};o.updateConsumers=function e(){this.shareAvailableCards()};o.shareAvailableCards=function e(){let t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"*";let r=this.sharedCards;const i=this.appComponent.getRootViewController();if(i.isFclEnabled()){const e=i.getRightmostView().getId();r=this.sharedCardsPerView[e]}this?.channel?.publishAvailableCards(this.id,r,t)};o.addCardsToCollaborationManager=function e(t,r,i){this.sharedCards=[];for(const[e,i]of Object.entries(t)){this.sharedCards.push({id:e,title:i.title,parentAppId:r,callback:i.callback,card:i.card})}this.sharedCardsPerView[i]=this.sharedCards};o.getDesignTimeCard=async function r(i){var s=this;return new Promise((r,n)=>{t.load({name:"sap/cards/ap/common"}).then(()=>{sap.ui.require(["sap/cards/ap/common/services/RetrieveCard"],async function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++){n[a]=arguments[a]}const o=n[0];let c;const h=s.appComponent;try{c=await o.getObjectPageCardManifestForPreview(h,{cardType:i})}catch(t){e.error(t)}r(c)});return}).catch(function(t){e.error(t);n()})})};o.publishCard=function e(t){this.channel.publishCard(this.id,{id:t["sap.app"].id,descriptorContent:t},"*")};return i}(r);n.CollaborationManagerService=c;let h=function(e){function t(){return e.apply(this,arguments)||this}n=t;a(t,e);var r=t.prototype;r.createInstance=async function e(t){this.instance=new c(t);return this.instance.initPromise};r.getInstance=function e(){return this.instance};r.shareAvailableCards=function e(){this.instance.shareAvailableCards()};return t}(i);h.serviceClass=c;n=h;return n},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/services/CollaborativeToolsServiceFactory", ["sap/base/Log","sap/ui/core/service/Service","sap/ui/core/service/ServiceFactory"],function(t,e,i){"use strict";function o(t){return new Promise((e,i)=>{sap.ui.require([t],i=>{if(!(i&&i.__esModule)){i=i===null||!(typeof i==="object"&&t.endsWith("/library"))?{default:i}:i;Object.defineProperty(i,"__esModule",{value:true})}e(i)},t=>{i(t)})})}var a={};function n(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,r(t,e)}function r(t,e){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},r(t,e)}let c=function(e){function i(){return e.apply(this,arguments)||this}a.CollaborativeToolsService=i;n(i,e);var r=i.prototype;r.init=function t(){this.collaborationService={isInitialized:false};this.initPromise=Promise.resolve(this)};r.getInterface=function t(){return this};r.initializeMSTeams=async function e(){try{const t=await this.getCollaborationServices();this.collaborationService.isInitialized=true;this.collaborationService.teamsHelperService=t.oTeamsHelperService;this.collaborationService.isContactsCollaborationSupported=typeof t.oTeamsHelperService.isContactsCollaborationSupported==="function"&&t.oTeamsHelperService.isContactsCollaborationSupported();this.collaborationService.cmHelperService=t.oCMHelperService}catch(e){t.info("Couldn't evaluate the support for contacts collaboration in MS Teams")}};r.getMailPopoverFromMsTeamsIntegration=async function t(e){if(!this.collaborationService.isInitialized){await this.initializeMSTeams()}try{return await(this.collaborationService.teamsHelperService?.enableContactsCollaboration(e))}catch{return undefined}};r.isContactsCollaborationSupported=async function t(){if(!this.collaborationService.isInitialized){await this.initializeMSTeams()}return this.collaborationService.isContactsCollaborationSupported===true};r.getTeamContactStatus=async function t(e){if(!this.collaborationService.isInitialized){await this.initializeMSTeams()}if(!this.collaborationService.isContactsCollaborationSupported){return undefined}try{return await(this.collaborationService.teamsHelperService?.getTeamsContactStatus(e))}catch{return undefined}};r.getTeamContactOptions=async function t(){if(!this.collaborationService.isInitialized){await this.initializeMSTeams()}if(!this.collaborationService.isContactsCollaborationSupported){return undefined}if(!this.collaborationService.contactOptions){try{this.collaborationService.contactOptions=await(this.collaborationService.teamsHelperService?.getTeamsContactCollabOptions())}catch{return undefined}}return this.collaborationService.contactOptions};r.getTeamContactOption=async function t(e){const i=await this.getTeamContactOptions();let o;if(i){for(let t=0;t<i.length;t++){if(i[t].key===e){o=i[t];break}}}return o};r.getTeamsCollabOptionsViaShare=async function t(e){if(!this.collaborationService.isInitialized){await this.initializeMSTeams()}return this.collaborationService.teamsHelperService?.getOptions(e)};r.getCollaborationManagerOption=async function t(){if(!this.collaborationService.isInitialized){await this.initializeMSTeams()}return this.collaborationService.cmHelperService?.getOptions()};r.getCollaborationServices=async function t(){const{default:e}=await o("sap/suite/ui/commons/collaboration/ServiceContainer");return e.getCollaborationServices()};return i}(e);a.CollaborativeToolsService=c;let s=function(t){function e(){return t.apply(this,arguments)||this}n(e,t);var i=e.prototype;i.createInstance=async function t(e){const i=new c(e);return i.initPromise};return e}(i);s.CollaborativeToolsServiceClass=c;return s},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/services/ContextSharingServiceFactory", ["sap/base/Log","sap/ui/core/service/Service","sap/ui/core/service/ServiceFactory","../CommonUtils"],function(t,e,n,i){"use strict";function o(t){return new Promise((e,n)=>{sap.ui.require([t],n=>{if(!(n&&n.__esModule)){n=n===null||!(typeof n==="object"&&t.endsWith("/library"))?{default:n}:n;Object.defineProperty(n,"__esModule",{value:true})}e(n)},t=>{n(t)})})}var r={};function s(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,a(t,e)}function a(t,e){return a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},a(t,e)}let c=function(e){function n(){return e.apply(this,arguments)||this}r.ContextSharingService=n;s(n,e);var a=n.prototype;a.init=function t(){this.initPromise=new Promise(async t=>{this.appComponent=e.prototype.getContext.bind(this)().scopeObject;await this.registerProvider();t(this)})};a.onExit=function t(){this.contextChannel?.unregisterProvider(this)};a.isContextChannelSupported=async function t(){const e=await this.appComponent.getService("environmentCapabilities");return e.getCapabilities().ContextSharingSupported&&await e.isContextSharingEnabled()};a.registerProvider=async function e(){if(!await this.isContextChannelSupported()){return}const{default:n}=await o("sap/insights/channels/ContextChannel");try{this.contextChannel=await n.getInstance();this.contextChannel.registerProvider(this)}catch(e){t.error(e)}};a.getId=function t(){return this.appComponent.getId()};a.buildContext=function t(){const e=this.appComponent.getShellServices();const n=i.getCurrentPageView(this.appComponent);const o=this.appComponent.getManifestEntry("sap.app");const r={app_title:o.title,[o.id]:{app:{view:n.getViewName()},flp:{hash:`${e.getHash()}&/${e.getContext().scopeObject.getRouterProxy().getHash()}`},entity:{servicePath:n.getModel().getServiceUrl(),entityPath:n.getBindingContext()?.getPath()??n.getViewData()?.fullContextPath}}};return n.getController().contextSharing.getContext(r)};a.getContext=async function t(){return Promise.resolve(this.buildContext())};return n}(e);r.ContextSharingService=c;let p=function(t){function e(){return t.apply(this,arguments)||this}r=e;s(e,t);var n=e.prototype;n.createInstance=async function t(e){const n=new c(e);return n.initPromise};return e}(n);r=p;return r},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/services/EnvironmentServiceFactory", ["sap/base/Log","sap/ui/VersionInfo","sap/ui/core/Lib","sap/ui/core/service/Service","sap/ui/core/service/ServiceFactory"],function(e,i,t,a,n){"use strict";function r(e){return new Promise((i,t)=>{sap.ui.require([e],t=>{if(!(t&&t.__esModule)){t=t===null||!(typeof t==="object"&&e.endsWith("/library"))?{default:t}:t;Object.defineProperty(t,"__esModule",{value:true})}i(t)},e=>{t(e)})})}var s={};function o(e,i){e.prototype=Object.create(i.prototype),e.prototype.constructor=e,l(e,i)}function l(e,i){return l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,i){return e.__proto__=i,e},l(e,i)}const u={SmartSummarize:{intent:"IntelligentPrompt-summarize",library:"ux.eng.fioriai.reuse",imports:"ux/eng/fioriai/reuse/summary/SmartSummary"},MagicFiltering:{intent:"IntelligentPrompt-filter",library:"ux.eng.fioriai.reuse",imports:"ux/eng/fioriai/reuse/easyfilter/EasyFilter"},ErrorExplanation:{intent:"IntelligentPrompt-explain",library:"ux.eng.fioriai.reuse",imports:"ux/eng/fioriai/reuse/errorexplanation/ErrorExplanation"},EasyEdit:{intent:"IntelligentPrompt-fill",library:"ux.eng.fioriai.reuse",imports:"ux/eng/fioriai/reuse/easyfill/EasyFill"}};const c={Chart:true,MicroChart:true,Collaboration:false,UShell:true,IntentBasedNavigation:true,AppState:true,InsightsSupported:false,ContextSharingSupported:false,SmartSummarize:false,MagicFiltering:false,EasyEdit:false,ErrorExplanation:false,DisableInputAssistance:false,HiddenDraft:false,loadLibrary:async e=>p.resolveLibrary(e)};s.DefaultEnvironmentCapabilities=c;let p=function(a){function n(){var e;for(var i=arguments.length,t=new Array(i),n=0;n<i;n++){t[n]=arguments[n]}e=a.call(this,...t)||this;e.optionalFeatureLibraries={};return e}s.EnvironmentCapabilitiesService=n;o(n,a);var l=n.prototype;l.prepareFeature=async function e(i){const a=this.optionalFeatureLibraries[i];if(!a){throw new Error(`Feature '${i}' is unavailable`)}await t.load(a)};l.initialize=async function a(){const s=this.getContext();this.environmentCapabilities=Object.assign({},c);const o=sap.ui.require("sap/ushell/Container");const l=await i.load();this.environmentCapabilities.Chart=l.libraries.some(e=>e.name==="sap.viz");this.environmentCapabilities.MicroChart=l.libraries.some(e=>e.name==="sap.suite.ui.microchart");this.environmentCapabilities.Collaboration=l.libraries.some(e=>e.name==="sap.suite.ui.commons");if(this.environmentCapabilities.Collaboration){await n.resolveLibrary("sap.suite.ui.commons")}this.environmentCapabilities.UShell=!!o;this.environmentCapabilities.IntentBasedNavigation=!!o;this.environmentCapabilities.InsightsSupported=l.libraries.some(e=>e.name==="sap.insights");this.environmentCapabilities.ContextSharingSupported=l.libraries.some(e=>e.name==="sap.insights");const p=s.scopeObject.getManifestEntry("sap.fe")?.app?.hideDraft;if(p?.enabled){this.environmentCapabilities.HiddenDraft={enabled:true,stayOnCurrentPageAfterSave:p.stayOnCurrentPageAfterSave,stayOnCurrentPageAfterCancel:p.stayOnCurrentPageAfterCancel,hideCreateNext:p.hideCreateNext}}const f=await(o?.getServiceAsync("Navigation"));for(const[i,a]of Object.entries(u)){this.environmentCapabilities[i]=false;if(f){try{const{url:e}=await f.resolveIntent(`#${a.intent}`);this.optionalFeatureLibraries[i]={name:a.library,url:e,imports:a.imports};if(a.imports){try{await t.load(this.optionalFeatureLibraries[i]);await r(a.imports);this.environmentCapabilities[i]=true}catch(e){this.environmentCapabilities[i]=false}}else{this.environmentCapabilities[i]=true}}catch(t){e.info(`Feature unavailable ${i}: ${t?.message}`)}}}this.environmentCapabilities=Object.assign(this.environmentCapabilities,s.settings)};n.resolveLibrary=async function e(i){return new Promise(function(e){t.load({name:`${i}`}).then(function(){e(true);return}).catch(function(){e(false)})})};l.setCapabilities=function e(i){this.environmentCapabilities=i};l.setCapability=function e(i,t){this.environmentCapabilities[i]=t};l.getCapabilities=function e(){return this.environmentCapabilities};l.isInsightsEnabled=async function e(){return new Promise(async e=>{try{const i=await n.resolveLibrary("sap.insights");if(i){await n.resolveLibrary("sap.ui.comp");sap.ui.require(["sap/insights/CardHelper"],async i=>{try{await i.getServiceAsync("UIService");e(!await m())}catch{e(false)}})}else{e(false)}}catch{e(false)}})};l.isContextSharingEnabled=async function e(){const i=await n.resolveLibrary("sap.insights");if(i){await n.resolveLibrary("sap.ui.comp");try{await r("sap/insights/channels/ContextChannel")}catch(e){return false}return true}else{return false}};l.getInterface=function e(){return this};return n}(a);s.EnvironmentCapabilitiesService=p;let f=function(e){function i(){return e.apply(this,arguments)||this}s.EnvironmentServiceFactory=i;o(i,e);var t=i.prototype;t.createInstance=async function e(i){const t=new p(i);await t.initialize();return t};return i}(n);s.EnvironmentServiceFactory=f;async function m(){let e=false;try{await p.resolveLibrary("sap.suite.ui.commons");const{default:i}=await r("sap/suite/ui/commons/collaboration/CollaborationHelper");e=await i.isTeamsModeActive()}catch{return false}return e}s.getMSTeamsActive=m;return s},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/services/InlineEditServiceFactory", ["sap/fe/core/converters/ManifestWrapper","sap/fe/core/converters/MetaModelConverter","sap/fe/core/helpers/TypeGuards","sap/ui/core/service/Service","sap/ui/core/service/ServiceFactory"],function(e,t,i,n,r){"use strict";var o={};var a=i.isProperty;function s(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,c(e,t)}function c(e,t){return c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},c(e,t)}let u=function(i){function n(){var e;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++){n[r]=arguments[r]}e=i.call(this,...n)||this;e.pageConfigurations=new Map;return e}o.InlineEditService=n;s(n,i);var r=n.prototype;r.init=function e(){this.initPromise=new Promise(async e=>{this.appComponent=i.prototype.getContext.bind(this)().scopeObject;await this.computePageConfigurations();e(this)})};r.computePageConfigurations=async function e(){const t=this.appComponent.getModel();if(t?.isA?.("sap.ui.model.odata.v4.ODataModel")){await t.getMetaModel().requestObject("/$EntityContainer/");const e=this.appComponent.getManifestEntry("sap.ui5")?.routing?.targets??{};for(const i in e){const n=this.getPageConfiguration(e[i].options?.settings||undefined,t.getMetaModel());if(n){this.pageConfigurations.set(i,n)}}}};r.getInlineConnectedProperties=function e(t,i){const n=this.pageConfigurations.get(t)?.connectedProperties;if(!n){return[]}for(const e of n){if(e.includes(i)){e.sort((e,t)=>{if(e===i)return-1;if(t===i)return 1;return 0});return e}}return[]};r.getAssociatedDataModelObject=function e(i,n,r){const o=i.createBindingContext(r);if(n.includes("com.sap.vocabularies.UI.v1.FieldGroup")){n=n.replace(`@${"com.sap.vocabularies.UI.v1.FieldGroup"}`,`$Type/@${"com.sap.vocabularies.UI.v1.FieldGroup"}`)}else if(n.includes("com.sap.vocabularies.UI.v1.Identification")){n=n.replace(`@${"com.sap.vocabularies.UI.v1.Identification"}`,`$Type/@${"com.sap.vocabularies.UI.v1.Identification"}`)}else if(n.includes("com.sap.vocabularies.UI.v1.LineItem")){n=n.replace(`@${"com.sap.vocabularies.UI.v1.LineItem"}`,`$Type/@${"com.sap.vocabularies.UI.v1.LineItem"}`)}const a=o?i.createBindingContext(n,o):null;return a?t.getInvolvedDataModelObjects(a,o):undefined};r.getPageConfiguration=function t(i,n){if(!i){return null}const r=new e(i);if(!r.hasInlineEdit()){return{active:false,enabledProperties:[],disabledProperties:[],connectedProperties:[]}}let o=i.contextPath;if(!o){o=i.entitySet?`/${i.entitySet}`:undefined}return{active:true,enabledProperties:this.getTargetPropertiesForInlineEdit(r.getInlineEditEnabledFields(),o,n),disabledProperties:this.getTargetPropertiesForInlineEdit(r.getInlineEditDisabledFields(),o,n),connectedProperties:this.getConnectedPropertiesForPage(r.getInlineConnectedFields(),o,n)}};r.getConnectedPropertiesForPage=function e(t,i,n){const r=[];for(const e of t){const t=Array.isArray(e)?e:[e];r.push(this.getTargetPropertiesForInlineEdit(t,i,n))}return r};r.getTargetPropertiesForInlineEdit=function e(t,i,r){if(!i){return[]}let o=[];for(const e of t){const t=this.getAssociatedDataModelObject(r,e,i);if(t&&t.targetObject){o=o.concat(n.getPropertiesForInlineEdit(t.targetObject))}}return o};n.getPropertiesForInlineEdit=function e(t){if(!t){return[]}if(a(t)){return[t.fullyQualifiedName]}if(t.$Type){switch(t.$Type){case"com.sap.vocabularies.UI.v1.DataField":case"com.sap.vocabularies.UI.v1.DataFieldWithUrl":case"com.sap.vocabularies.UI.v1.DataPointType":return n.getPropertiesForInlineEdit(t.Value?.$target);case"com.sap.vocabularies.UI.v1.DataFieldForAnnotation":return n.getPropertiesForInlineEdit(t.Target?.$target)}}if(t.term){switch(t.term){case"com.sap.vocabularies.UI.v1.FieldGroup":return t.Data.reduce((e,t)=>e.concat(n.getPropertiesForInlineEdit(t)),[]);case"com.sap.vocabularies.UI.v1.Identification":case"com.sap.vocabularies.UI.v1.LineItem":return t.reduce((e,t)=>e.concat(n.getPropertiesForInlineEdit(t)),[])}}return[]};r.doesPageHaveInlineEdit=function e(t){return this.pageConfigurations.get(t)?.active??false};r.isPropertyConsideredForInlineEdit=function e(t,i){if(i===""){return false}const n=this.pageConfigurations.get(t);if(n){return(n.enabledProperties.includes(i)||n.enabledProperties.length===0)&&!n.disabledProperties.includes(i)}return false};return n}(n);o.InlineEditService=u;let p=function(e){function t(){return e.apply(this,arguments)||this}o=t;s(t,e);var i=t.prototype;i.createInstance=async function e(t){const i=new u(t);return i.initPromise};return t}(r);o=p;return o},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/services/NavigationServiceFactory", ["sap/fe/navigation/NavigationHandler","sap/ui/core/service/Service","sap/ui/core/service/ServiceFactory","sap/ui/thirdparty/jquery"],function(t,e,n,jQuery){"use strict";var r={};function i(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,a(t,e)}function a(t,e){return a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},a(t,e)}let o=function(e){function n(){return e.apply(this,arguments)||this}r.NavigationService=n;i(n,e);var a=n.prototype;a.init=function e(){const n=this.getContext(),r=n&&n.scopeObject;this.oNavHandler=new t(r);this.oNavHandler.setModel(r.getModel());this.initPromise=Promise.resolve(this)};a.exit=function t(){this.oNavHandler.destroy()};a.navigate=function t(e,n,r,i,a,o,s){this.oNavHandler.navigate(e,n,r,i,a,o,s)};a.parseNavigation=function t(){return this.oNavHandler.parseNavigation()};a.getAppSpecificHash=async function t(e){return this.oNavHandler._getAppSpecificHash(e)};a.getAppStateKeyAndUrlParameters=function t(e){return this.oNavHandler._getAppStateKeyAndUrlParameters(e)};a.getTechnicalParameters=function t(){return this.oNavHandler.getTechnicalParameters()};a.setTechnicalParameters=function t(e){this.oNavHandler.setTechnicalParameters(e)};a.setModel=function t(e){this.oNavHandler.setModel(e)};a.storeInnerAppStateAsync=async function t(e,n,r){const i=this.getContext()&&this.getContext().scopeObject;i?.getRouterProxy().setAppStateUpdating(true);return new Promise((t,i)=>this.oNavHandler.storeInnerAppStateAsync(e,n,r).then(t,i)).then(t=>{i?.getRouterProxy().setAppStateUpdating(false);return t})};a.replaceHash=function t(e){this.oNavHandler.replaceHash(e)};a.replaceInnerAppStateKey=function t(e,n){return this.oNavHandler._replaceInnerAppStateKey(e,n)};a.getUrlParametersFromSelectionVariant=function t(e){return this.oNavHandler._getURLParametersFromSelectionVariant(e)};a.saveAppStateWithImmediateReturn=function t(e){if(e){const t=e.toJSONString(),n=JSON.parse(t),r={selectionVariant:n},i=this.oNavHandler._saveAppStateWithImmediateReturn(r);return i?.appStateKey?i.appStateKey:""}else{return undefined}};a.mixAttributesAndSelectionVariant=function t(e,n,r){return this.oNavHandler.mixAttributesAndSelectionVariant(e,n,r)};a.constructContextUrl=function t(e,n){return this.oNavHandler.constructContextUrl(e,n)};a.getInterface=function t(){return this};a.getIAppStateKey=function t(){return this.oNavHandler.getIAppStateKey()};a.checkIsPotentiallySensitive=function t(e){return this.oNavHandler._checkIsPotentiallySensitive(e)};return n}(e);r.NavigationService=o;function s(){return{}}async function c(){return Promise.resolve({})}function u(){const t=jQuery.Deferred();t.resolve({},{},"initial");return t.promise()}function p(){return""}let l=function(t){function e(){var e;e=t.call(this)||this;e.createEmptyAppState=s;e.mixAttributesAndSelectionVariant=s;e.getAppState=c;e.getStartupAppState=c;e.parseNavigation=u;e.constructContextUrl=p;e.getIAppStateKey=p;e.initPromise=Promise.resolve(e);return e}r.NavigationServicesMock=e;i(e,t);var n=e.prototype;n.getInterface=function t(){return this};n.replaceInnerAppStateKey=function t(e){return e?e:""};n.navigate=function t(){};return e}(n);r.NavigationServicesMock=l;let v=function(t){function e(){return t.apply(this,arguments)||this}i(e,t);var n=e.prototype;n.createInstance=async function t(e){const n=sap.ui.require("sap/ushell/Container")?new o(e):new l;return n.initPromise.then(function(t){return t})};return e}(n);return v},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/services/ResourceModelServiceFactory", ["sap/fe/core/ResourceModel","sap/ui/core/service/Service","sap/ui/core/service/ServiceFactory"],function(e,t,n){"use strict";var o={};function s(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,c(e,t)}function c(e,t){return c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},c(e,t)}let r=function(t){function n(){return t.apply(this,arguments)||this}o.ResourceModelService=n;s(n,t);var c=n.prototype;c.init=function t(){const n=this.getContext();const o=n.settings;this.oFactory=n.factory;const s=o.bundles.concat(o.enhanceI18n||[]).map(function(e){return typeof e.isA==="function"&&e.isA("sap.ui.model.resource.ResourceModel")?e.getResourceBundle():{bundleName:e.replace(/\//g,".")}});this.oResourceModel=new e({bundleName:s[0].bundleName,enhanceWith:s.slice(1),async:true});if(n.scopeType==="component"){const e=n.scopeObject;e.setModel(this.oResourceModel,o.modelName)}this.initPromise=Promise.all([this.oResourceModel.getResourceBundle(),this.oResourceModel._pEnhanced||Promise.resolve()]).then(e=>{this.oResourceModel.__bundle=e[0];return this})};c.getResourceModel=function e(){return this.oResourceModel};c.getInterface=function e(){return this};c.exit=function e(){this.oFactory.removeGlobalInstance()};return n}(t);o.ResourceModelService=r;let i=function(e){function t(){var t;for(var n=arguments.length,o=new Array(n),s=0;s<n;s++){o[s]=arguments[s]}t=e.call(this,...o)||this;t._oInstances={};return t}s(t,e);var n=t.prototype;n.createInstance=async function e(t){const n=`${t.scopeObject.getId()}_${t.settings.bundles.join(",")}`+(t.settings.enhanceI18n?`,${t.settings.enhanceI18n.join(",")}`:"");if(!this._oInstances[n]){this._oInstances[n]=new r(Object.assign({factory:this},t))}return this._oInstances[n].initPromise};n.removeGlobalInstance=function e(){this._oInstances={}};return t}(n);return i},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/services/RoutingServiceFactory", ["sap/base/Log","sap/fe/base/ClassSupport","sap/fe/core/controllerextensions/BusyLocker","sap/fe/core/controllerextensions/Placeholder","sap/fe/core/controllerextensions/messageHandler/messageHandling","sap/fe/core/controllerextensions/routing/NavigationReason","sap/fe/core/controllerextensions/routing/RouterProxy","sap/fe/core/helpers/AppStartupHelper","sap/fe/core/helpers/EditState","sap/fe/core/helpers/ManifestHelper","sap/fe/core/helpers/ModelHelper","sap/fe/core/helpers/SemanticKeyHelper","sap/ui/base/BindingInfo","sap/ui/base/EventProvider","sap/ui/core/Component","sap/ui/core/service/Service","sap/ui/core/service/ServiceFactory","sap/ui/model/odata/v4/ODataUtils","sap/ui/util/openWindow","../converters/MetaModelConverter"],function(e,t,n,o,i,r,a,s,u,c,h,l,g,f,p,d,m,v,P,C){"use strict";var R,y,M,b,_,L,x,T,S;function w(e){return new Promise((t,n)=>{sap.ui.require([e],n=>{if(!(n&&n.__esModule)){n=n===null||!(typeof n==="object"&&e.endsWith("/library"))?{default:n}:n;Object.defineProperty(n,"__esModule",{value:true})}t(n)},e=>{n(e)})})}var E={};var H=c.getRouteTargetNames;var I=t.event;var A=t.defineUI5Class;function O(e,t,n,o){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(o):void 0})}function F(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,k(e,t)}function k(e,t){return k=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},k(e,t)}function N(e,t,n,o,i){var r={};return Object.keys(o).forEach(function(e){r[e]=o[e]}),r.enumerable=!!r.enumerable,r.configurable=!!r.configurable,("value"in r||r.initializer)&&(r.writable=!0),r=n.slice().reverse().reduce(function(n,o){return o(e,t,n)||n},r),i&&void 0!==r.initializer&&(r.value=r.initializer?r.initializer.call(i):void 0,r.initializer=void 0),void 0===r.initializer?(Object.defineProperty(e,t,r),null):r}function B(e,t){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let j=(R=A("sap.fe.core.services.RoutingServiceEventing"),y=I(),M=I(),b=I(),R(_=(L=function(e){function t(){var t;for(var n=arguments.length,o=new Array(n),i=0;i<n;i++){o[i]=arguments[i]}t=e.call(this,...o)||this;O(t,"beforeRouteMatched",x,t);O(t,"routeMatched",T,t);O(t,"afterRouteMatched",S,t);return t}F(t,e);return t}(f),x=N(L.prototype,"beforeRouteMatched",[y],{configurable:true,enumerable:true,writable:true,initializer:null}),T=N(L.prototype,"routeMatched",[M],{configurable:true,enumerable:true,writable:true,initializer:null}),S=N(L.prototype,"afterRouteMatched",[b],{configurable:true,enumerable:true,writable:true,initializer:null}),L))||_);let $=function(t){function c(){var e;for(var n=arguments.length,o=new Array(n),i=0;i<n;i++){o[i]=arguments[i]}e=t.call(this,...o)||this;e.navigationInfoQueue=[];e.enabled=false;e.bindingCleanupPromises=[];return e}E.RoutingService=c;F(c,t);var f=c.prototype;f.init=function e(){const t=this.getContext();if(t.scopeType==="component"){this.oAppComponent=t.scopeObject;this.oModel=this.oAppComponent.getModel();this.oMetaModel=this.oModel?.getMetaModel();this.oRouter=this.oAppComponent.getRouter();this.oRouterProxy=this.oAppComponent.getRouterProxy();this.eventProvider=new j;const e=this.oAppComponent.getManifestEntry("sap.ui5").routing;this._parseRoutingConfiguration(e);const n=this.oAppComponent.getManifestEntry("sap.app");this.outbounds=n.crossNavigation?.outbounds??{}}this.initPromise=Promise.resolve(this)};f.beforeExit=function e(){this.enabled=false;this.oRouter.detachRouteMatched(this._fnOnRouteMatched,this);this.oRouter.detachBeforeRouteMatched(this._fnOnBeforeRouteMatched,this);this.eventProvider.fireEvent("routeMatched",{})};f.exit=function e(){this.eventProvider.destroy()};f.addBindingCleanupPromise=function e(t){this.bindingCleanupPromises.push(t)};f.waitForBindingCleanup=async function e(){await Promise.all(this.bindingCleanupPromises);this.bindingCleanupPromises=[]};f._parseRoutingConfiguration=function t(n){const o=n?.config?.routerClass==="sap.f.routing.Router";this._mTargets={};if(n?.targets){for(const e of Object.keys(n.targets)){this._mTargets[e]=Object.assign({targetName:e},n.targets[e]);const t=this._mTargets[e].contextPattern;if(t!==undefined){this._mTargets[e].viewLevel=this._getViewLevelFromPattern(t,0)}}}this.routingHints={};this._mRoutes={};if(n?.routes){for(const t of n.routes){const n=H(t.target),i=t.name,r=t.pattern;if(!r){continue}if(r.length<8||r.indexOf(":?query:")!==r.length-8){e.warning(`Pattern for route ${i} doesn't end with ':?query:' : ${r}`)}const s=this._getViewLevelFromPattern(r,0);this._mRoutes[i]={name:i,pattern:r,targets:n,routeLevel:s};for(const e of n){const t=this._mTargets[e].parent;if(t){n.push(t)}}this._mTargets[n[0]].routerHashKeys=a.extractEntitySetsFromHash(r.split(":?query:")[0]);if(!o){const e=this._mTargets[n[0]].viewLevel;if(e===undefined||e<s){this._mTargets[n[0]].viewLevel=s}this._mTargets[n[0]].FCLLevel=-1}else if(n.length===1&&this._mTargets[n[0]].controlAggregation!=="beginColumnPages"){this._mTargets[n[0]].FCLLevel=3}else{n.forEach(e=>{switch(this._mTargets[e].controlAggregation){case"beginColumnPages":this._mTargets[e].FCLLevel=0;break;case"midColumnPages":this._mTargets[e].FCLLevel=1;break;default:this._mTargets[e].FCLLevel=2}})}}}Object.keys(this._mTargets).forEach(e=>{let t=this._mTargets[e].parent;while(t){this._mTargets[t].viewLevel=this._mTargets[t].viewLevel||this._mTargets[e].viewLevel;this._mTargets[t].contextPattern=this._mTargets[t].contextPattern||this._mTargets[e].contextPattern;this._mTargets[t].FCLLevel=this._mTargets[t].FCLLevel||this._mTargets[e].FCLLevel;this._mTargets[t].controlAggregation=this._mTargets[t].controlAggregation||this._mTargets[e].controlAggregation;e=t;t=this._mTargets[e].parent}});const i=[];const r=[];let s;for(const e in this._mRoutes){const t=this._mRoutes[e].routeLevel;if(t===0){i.push(e)}else if(t===1){r.push(e)}}if(i.length===1){s=i[0]}else if(r.length===1){s=r[0]}if(s){const t=this._mRoutes[s].targets.slice(-1)[0];this.sContextPath="";const n=this._mTargets[t].options?.settings;if(n){this.sContextPath=n.contextPath||`/${n.entitySet}`}if(!this.sContextPath){e.warning(`Cannot determine default contextPath: contextPath or entitySet missing in default target: ${t}`)}}else{e.warning("Cannot determine default contextPath: no default route found.")}Object.keys(this._mTargets).map(e=>this._mTargets[e]).sort((e,t)=>e.viewLevel!==undefined&&t.viewLevel!==undefined&&e.viewLevel<t.viewLevel?-1:1).forEach(e=>{if(e.options){const t=e.options.settings;const n=t.contextPath||(t.entitySet?`/${t.entitySet}`:"");if(!t.fullContextPath&&n){t.fullContextPath=`${n}/`}const o=[];if(e.routerHashKeys?.[0]){this.routingHints[e.routerHashKeys?.[0]]={parentOf:o}}Object.keys(t.navigation||{}).forEach(n=>{if(e.name==="sap.fe.templates.ListReport"){o.push(n)}const i=this._mRoutes[t.navigation[n].detail?.route];if(i&&i.targets){i.targets.forEach(o=>{if(this._mTargets[o].options?.settings&&!this._mTargets[o].options?.settings?.fullContextPath){if(this._mTargets[o].options.settings.contextPath){this._mTargets[o].options.settings.fullContextPath=this._mTargets[o].options.settings.contextPath+"/"}else if(e.viewLevel===0){this._mTargets[o].options.settings.fullContextPath=`${(n.startsWith("/")?"":"/")+n}/`}else{this._mTargets[o].options.settings.fullContextPath=`${t.fullContextPath+n}/`}}})}})}})};f._getViewLevelFromPattern=function e(t,n){t=t.replace(":?query:","");const o=new RegExp("/[^/]*$");if(t&&t[0]!=="/"&&t[0]!=="?"){t=`/${t}`}if(t.length){t=t.replace(o,"");if(this.oRouter.match(t)||t===""){return this._getViewLevelFromPattern(t,++n)}else{return this._getViewLevelFromPattern(t,n)}}else{return n}};f._getRouteInformation=function e(t){if(t===undefined){return undefined}return this._mRoutes[t]};f._getTargetInformation=function e(t){if(t===undefined){return undefined}return this._mTargets[t]};f._getComponentId=function e(t,n){if(n.indexOf(`${t}---`)===0){return n.substring(t.length+3)}return n};f.getTargetInformationFor=function e(t){const n=this.getTargetName(t);return this._getTargetInformation(n)};f.getTargetName=function e(t){const n=this._getComponentId(t._sOwnerId,t.getId());let o;Object.keys(this._mTargets).forEach(e=>{if(this._mTargets[e].id===n||this._mTargets[e].viewId===n){o=e}});return o};f.getTargetNameForView=function e(t){const n=p.getOwnerComponentFor(t);let o=n?this.getTargetName(n):undefined;if(!o){o=this.getTargetName(t)}return o};f.getLastSemanticMapping=function e(){return this.oLastSemanticMapping};f.setLastSemanticMapping=function e(t){this.oLastSemanticMapping=t};f.getHashFromRoute=async function e(t,n,o){if(!this.enabled){return Promise.resolve("")}let i;if(!o){i=Promise.resolve(l.getSemanticPath(t))}else{i=this.prepareParameters(o,n,t).then(e=>this.oRouter.getURL(n,e))}return await i};f.navigateTo=async function e(t,n,o,i,r){if(!this.enabled){return Promise.resolve()}let a,s;if(t.getModel()&&t.getModel().getMetaModel&&t.getModel().getMetaModel()){s=h.isStickySessionSupported(t.getModel().getMetaModel())}if(!o){a=Promise.resolve(l.getSemanticPath(t))}else{a=this.prepareParameters(o,n,t).then(e=>this.oRouter.getURL(n,e))}const u=await a;const c=()=>{this.oRouterProxy.navToHash(u,i,false,false,!s)};if(r===true){return c}else{return c()}};f.prepareParameters=async function t(n,o,i){let r;try{const e=i.getPath();const t=i.getModel().getMetaModel();const o=e.split("/");const a=Object.keys(n).map(async e=>{const r=n[e];const a=g.parse(r);const s=a.parts||[a];const u=s.map(async function(e){const n=e.path.split("../");const r=o.slice(0,o.length-n.length+1);const a=r.join("/");const s=a===i.getPath()?i:i.getModel().bindContext(a).getBoundContext();const u=t.getMetaContext(a+"/"+n[n.length-1]);return s.requestProperty(n[n.length-1]).then(function(e){const t=u.getObject();const n=t.$Type;return v.formatLiteral(e,n)})});return Promise.all(u).then(t=>{const n=a.formatter?a.formatter.apply(this,t):t.join("");return{key:e,value:n}})});r=Promise.all(a).then(function(e){const t={};e.forEach(function(e){t[e.key]=e.value});return t})}catch(t){e.error(`Could not parse the parameters for the navigation to route ${o}`);r=Promise.resolve({})}return r};f._fireRouteMatchEvents=function e(t){this.bindingCleanupPromises=[];this.eventProvider.fireEvent("beforeRouteMatched",t);this.eventProvider.fireEvent("routeMatched",t);this.eventProvider.fireEvent("afterRouteMatched",t);u.cleanProcessedEditState()};f.navigateToContext=async function e(t){let n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};let o=arguments.length>2?arguments[2]:undefined;let r=arguments.length>3?arguments[3]:undefined;if(!this.enabled){return Promise.resolve(false)}let a="";let s;const u=h.isStickySessionSupported(this.oMetaModel);if(n?.targetPath&&o?.navigation){const e=o.navigation;const i=e[n.targetPath].detail;a=i.route;if(i.parameters&&t.isA("sap.ui.model.odata.v4.Context")){s=this.prepareParameters(i.parameters,a,t)}}let c=this._getPathFromContext(t,n);if(c.length===0&&this.bExitOnNavigateBackToRoot){this.oRouterProxy.exitFromApp();return Promise.resolve(true)}if(n?.createOnNavigateParameters){c+="(...)"}const l=this._calculateLayout(c,n);if(l){c+=`?layout=${l}`}const g={createOnNavigateParameters:n.createOnNavigateParameters,bTargetEditable:n?.editable,bPersistOPScroll:n?.persistOPScroll,bShowPlaceholder:n?.showPlaceholder!==undefined?n?.showPlaceholder:true,reason:n?.reason,redirectedToNonDraft:n.redirectedToNonDraft};if(n?.updateFCLLevel!==-1&&n?.recreateContext!==true){if(t.isA("sap.ui.model.odata.v4.Context")){g.useContext=t}}if(n?.checkNoHashChange){const e=this.oRouterProxy.getHash().replace(/[&?]{1}sap-iapp-state=[A-Z0-9]+/,"");if(c===e){const e=this.oRouter.getRouteInfoByHash(this.oRouterProxy.getHash());let t={config:{}};if(e){t={...e,config:{}};t.navigationInfo=g;t.routeInformation=this._getRouteInformation(this.sCurrentRouteName);t.routePattern=this.sCurrentRoutePattern;t.views=this.aCurrentViews}this.oRouterProxy.setFocusForced(!!n.forceFocus);this._fireRouteMatchEvents(t);return Promise.resolve(true)}}if(n?.transient&&!!n.editable&&!c.includes("(...)")){if(c.includes("?")){c+="&i-action=create"}else{c+="?i-action=create"}}if(n.navMode==="openInNewTab"){sap.ui.require(["sap/ushell/Container"],async e=>{const t=this.oAppComponent.getShellServices();const n=t.parseShellHash(document.location.hash);const o=await e.getServiceAsync("Navigation");const i=await o.getHref({target:{semanticObject:n.semanticObject,action:n.action},params:n.params});const r=await t.getInframeUrl();let a,s;if(r){a=new URL(r);s=r.replace(a.hash,`${i}&/${encodeURI(c)}`)}else{a=new URL(window.location.href);s=`${a.origin}${a.pathname}${i}&/${encodeURI(c)}`}P(s)});return Promise.resolve(true)}else{if(r?.name==="sap.fe.templates.ListReport"){const e=this.oRouter.getRouteInfoByHash(c);if(e){const t=this._getRouteInformation(e.name);if(t&&t.targets&&t.targets.length>0){const e=t.targets[t.targets.length-1];const n=this._getTargetInformation(e);if(n&&n.name==="sap.fe.templates.ObjectPage"){i.removeUnboundTransitionMessages()}}}}this.navigationInfoQueue.push(g);if(a&&s){return s.then(e=>{Object.assign(e,{bIsStickyMode:u});this.oRouter.navTo(a,e);return true})}return this.oRouterProxy.navToHash(c,!!n.preserveHistory,n?.noPreservationCache,n?.forceFocus,!u).then(e=>{if(!e){this.navigationInfoQueue.pop()}return e})}};f.navigateToRoute=async function e(t,n){if(!this.enabled){return Promise.resolve(false)}this.setLastSemanticMapping(undefined);const o=this.oRouter.getURL(t,n);return this.oRouterProxy.navToHash(o,!!n?.preserveHistory,undefined,undefined,!n?.bIsStickyMode)};f.isCurrentStateImpactedBy=function e(t){const n=t.getPath();if(this.oRouterProxy.isCurrentStateImpactedBy(n)){return true}else if(/^[^()]+\([^()]+\)$/.test(n)){let e;if(this.oLastSemanticMapping&&this.oLastSemanticMapping.technicalPath===n){e=this.oLastSemanticMapping.semanticPath}else{e=l.getSemanticPath(t)}return e!=n?this.oRouterProxy.isCurrentStateImpactedBy(e):false}else{return false}};f.getPathToNavigateBack=function e(t){const n=new RegExp("/[^/]*$");t=t.replace(n,"");if(this.oRouter.match(t)||t===""){return t}else{return this.getPathToNavigateBack(t)}};f._checkIfContextSupportsSemanticPath=function e(t){if(!/^\/[^(]+\([^)]+\)$/.test(t.getPath())){return false}const n=t.getModel().getMetaModel();const o=C.getInvolvedDataModelObjects(n.getMetaContext(t.getPath())).targetObject;if(!h.isDraftRoot(o)){return false}if(t.getProperty("IsActiveEntity")===false&&t.getProperty("HasActiveEntity")===false){return false}const i=o.name;return l.getSemanticKeys(n,i)!==undefined};f._getPathFromContext=function e(t,n){let o="";if(t.isA("sap.ui.model.odata.v4.ODataListBinding")){o=t.getHeaderContext()?.getPath()??""}else{o=t.getPath();if(n.updateFCLLevel===-1){o=this.getPathToNavigateBack(o);if(this.oLastSemanticMapping?.technicalPath===o){o=this.oLastSemanticMapping.semanticPath}}else if(this._checkIfContextSupportsSemanticPath(t)){const e=n.semanticPath?n.semanticPath:l.getSemanticPath(t,true);if(!e){this.setLastSemanticMapping(undefined)}else if(e!==o){this.setLastSemanticMapping({technicalPath:o,semanticPath:e});o=e}}}if(o[0]==="/"){o=o.substring(1)}return o};f._calculateLayout=function e(t,n){if(n.navMode==="openInNewTab"&&n.FCLLevel!==-1){return n.FCLLevel===0?"MidColumnFullScreen":"EndColumnFullScreen"}let o=n.FCLLevel??0;if(n.updateFCLLevel){o+=n.updateFCLLevel;if(o<0){o=0}}if(n.updateFCLLevel!==undefined&&n.updateFCLLevel<0&&!n.layout){n.layout=this.oRouterProxy.findLayoutForHash(t)}return this.oAppComponent.getRootViewController().calculateLayout(o,t,n.layout,n.keepCurrentLayout)};f._onBeforeRouteMatched=function e(t){const i=this.oAppComponent.getViewPreloaderService();i.setCache(t.getParameter("config"),t.getParameter("arguments"),this.oAppComponent);const r=(new o).isPlaceholderEnabled();if(!r){const e=this.oAppComponent.getRootControl();n.lock(e)}};f._isNavigationTriggeredByRouterProxy=function e(){return history.state?.feLevel!==undefined};f._onRouteMatched=function t(i){const a=this.oAppComponent.getAppStateHandler(),s=this.oAppComponent.getRootControl();const u=(new o).isPlaceholderEnabled();if(n.isLocked(s)&&!u){n.unlock(s)}const c=i.getParameters();if(this.navigationInfoQueue.length){c.navigationInfo=this.navigationInfoQueue[0];this.navigationInfoQueue=this.navigationInfoQueue.slice(1)}else{c.navigationInfo={}}if(a.checkIfRouteChangedByIApp()){c.navigationInfo.reason=r.AppStateChanged;a.resetRouteChangedByIApp()}else if(this.oRouterProxy.checkRestoreHistoryWasTriggered()){c.navigationInfo.reason=r.RestoreHistory;this.oRouterProxy.resetRestoreHistoryFlag()}this.sCurrentRouteName=i.getParameter("name");this.sCurrentRoutePattern=c.config.pattern;this.aCurrentViews=i.getParameter("views");c.routeInformation=this._getRouteInformation(this.sCurrentRouteName);c.routePattern=this.sCurrentRoutePattern;this._fireRouteMatchEvents(c);if(!this._isNavigationTriggeredByRouterProxy()){this.oRouterProxy.restoreHistory().then(()=>{this.oRouterProxy.resolveRouteMatch();return}).catch(function(t){e.error("Error while restoring history",t)})}else{this.oRouterProxy.resolveRouteMatch()}};f.attachRouteMatched=function e(t,n,o){this.eventProvider.attachEvent("routeMatched",t,n,o)};f.attachBeforeRouteMatched=function e(t,n,o){this.eventProvider.attachEvent("beforeRouteMatched",t,n,o)};f.detachRouteMatched=function e(t,n){this.eventProvider.detachEvent("routeMatched",t,n)};f.attachAfterRouteMatched=function e(t,n,o){this.eventProvider.attachEvent("afterRouteMatched",t,n,o)};f.detachAfterRouteMatched=function e(t,n){this.eventProvider.detachEvent("afterRouteMatched",t,n)};f.detachBeforeRouteMatched=function e(t,n){this.eventProvider.detachEvent("beforeRouteMatched",t,n)};f.initializeRouting=async function e(){this.enabled=true;if(this.oAppComponent.getEnvironmentCapabilities().getCapabilities().Collaboration){const{default:e}=await w("sap/suite/ui/commons/collaboration/CollaborationHelper");await e.processAndExpandHash()}this._fnOnRouteMatched=this._onRouteMatched.bind(this);this.oRouter.attachRouteMatched(this._fnOnRouteMatched,this);this.oRouter.attachBeforeRouteMatched(this._onBeforeRouteMatched,this);this.navigationInfoQueue=[];u.resetEditState();this.bExitOnNavigateBackToRoot=!this.oRouter.match("");await this.manageStartupMode()};f.onRestore=function e(){this.manageStartupMode()};f.manageStartupMode=async function t(){const n=this.oRouter.getHashChanger().getHash().includes("sap-iapp-state");try{const e=await this.oAppComponent.getStartupParameters();const t=e!==undefined&&Object.keys(e).length!==0;const o=this.oRouter.getHashChanger().getHash();if(!n&&t&&!o){if(e.preferredMode&&e.preferredMode[0].toUpperCase().includes("CREATE")){await this._manageCreateStartup(e)}else{await this._manageDeepLinkStartup(e)}}await this._managedPreferredModeEdit(e)}catch(t){e.error("Error during routing initialization",t)}};f.getDefaultCreateHash=function e(t){return s.getDefaultCreateHash(t,this.getContextPath(),this.oRouter)};f._manageCreateStartup=async function e(t){return s.getCreateStartupHash(t,this.getContextPath(),this.oRouter,this.oMetaModel).then(e=>{if(e){this.oRouter.getHashChanger().replaceHash(e);if(t?.preferredMode&&t.preferredMode[0].toUpperCase().includes("AUTOCREATE")){this.oAppComponent.setStartupModeAutoCreate()}else{this.oAppComponent.setStartupModeCreate()}this.bExitOnNavigateBackToRoot=true}return})};f._manageDeepLinkStartup=async function e(t){return s.getDeepLinkStartupHash(this.oAppComponent.getManifestEntry("sap.ui5").routing,t,this.oModel,this.oAppComponent.getManifestEntry("sap.fe")?.app?.inboundParameterForTargetResolution).then(e=>{let t;if(e.context){const n=e.context.getPath();const o=this._checkIfContextSupportsSemanticPath(e.context)?l.getSemanticPath(e.context,false):n;if(o!==n){this.setLastSemanticMapping({technicalPath:n,semanticPath:o})}t=o.substring(1)}else if(e.hash){t=e.hash}if(t){this.oRouter.getHashChanger().replaceHash(t);this.oAppComponent.setStartupModeDeeplink()}return})};f._managedPreferredModeEdit=async function e(t){const n=this.oRouter.getHashChanger().getHash();const o=!!t.preferredMode?.[0]?.toUpperCase()?.includes("EDIT");const i=await s.verifyEditAnnotations(this.getContextPath(),this.oMetaModel);if(n&&o&&i){const e=(n.includes("?")?"&":"?")+"i-action=edit";this.oRouter.getHashChanger().replaceHash(n+e)}};f.getOutbounds=function e(){return this.outbounds};f.getRoutingHints=function e(){return this.routingHints??{}};f.getContextPath=function e(){return this.sContextPath};f.getInterface=function e(){return this};return c}(d);E.RoutingService=$;let U=function(e){function t(){return e.apply(this,arguments)||this}F(t,e);var n=t.prototype;n.createInstance=async function e(t){const n=new $(t);return n.initPromise};return t}(m);return U},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/services/ShellServicesFactory", ["sap/base/Log","sap/ui/core/service/Service","sap/ui/core/service/ServiceFactory"],function(e,t,n){"use strict";var i={};function r(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,s(e,t)}function s(e,t){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},s(e,t)}let a=function(e){function t(){return e.apply(this,arguments)||this}r(t,e);var n=t.prototype;n.init=function e(){this.initPromise=Promise.resolve(this);this.instanceType="mock"};n.getLinks=async function e(){return Promise.resolve([])};n.__fetchSemanticObject=async function e(){return Promise.resolve([])};n.getLinksWithCache=async function e(){return Promise.resolve([])};n.toExternal=function e(){};n.getStartupAppState=async function e(){return Promise.resolve(undefined)};n.isJamActive=function e(){return false};n.backToPreviousApp=function e(){};n.hrefForExternal=async function e(){return Promise.resolve("")};n.getHref=async function e(){return Promise.resolve("")};n.getHash=function e(){return window.location.href};n.getAppState=async function e(){return Promise.resolve({})};n.createEmptyAppState=async function e(){return Promise.resolve({})};n.createEmptyAppStateAsync=async function e(){return Promise.resolve({})};n.navigate=async function e(){return Promise.resolve(undefined)};n.isNavigationSupported=async function e(){return Promise.resolve([])};n.isInitialNavigation=async function e(){return Promise.resolve(false)};n.expandCompactHash=async function e(){return Promise.resolve("")};n.parseShellHash=function e(){return{}};n.splitHash=function e(t){const n=/#[^/]*\/(.*)/.exec(t);return{shellPart:"",appSpecificRoute:n?.length===2?n[1]:""}};n.constructShellHash=function e(){return""};n.setDirtyFlag=function e(){};n.registerDirtyStateProvider=function e(){};n.deregisterDirtyStateProvider=function e(){};n.getUser=function e(){return{}};n.getUserInitials=function e(){return""};n.hasUShell=function e(){return false};n.registerNavigationFilter=function e(){};n.unregisterNavigationFilter=function e(){};n.setBackNavigation=async function e(){return Promise.resolve()};n.setHierarchy=async function e(){return Promise.resolve()};n.setTitle=async function e(){return Promise.resolve()};n.getContentDensity=function e(){if(document.body.classList.contains("sapUiSizeCozy")){return"cozy"}else if(document.body.classList.contains("sapUiSizeCompact")){return"compact"}else{return""}};n.getPrimaryIntent=async function e(){return Promise.resolve(undefined)};n.waitForPluginsLoad=async function e(){return Promise.resolve(true)};n.getTitle=async function e(){return Promise.resolve("")};n.getPersonalizer=async function e(t,n,i){return Promise.resolve({getPersData:async()=>Promise.resolve({historyEnabled:false,suggestionsEnabled:false,apps:{}}),setPersData:()=>{}})};n.getApplicationPersonalizer=async function e(t){return Promise.resolve({getPersData:async()=>Promise.resolve({}),setPersData:()=>{}})};n.getApplicationPersonalizationData=async function e(t){return Promise.resolve({})};n.setApplicationPersonalizationData=async function e(t,n){return Promise.resolve()};n.deletePersonalizationContainer=async function e(t,n){return Promise.resolve()};n.getShellConfig=function e(){return{}};n.getRegisteredPlugins=function e(){return{AppWarmup:{},RendererExtensions:{},UserDefaults:{},UserImage:{}}};n.isFlpOptimisticBatchPluginLoaded=function e(){return false};n.parseParameters=function e(){return{}};n.getExtensionService=function e(){return{}};n.getInframeUrl=async function e(){return Promise.resolve("")};return t}(t);let o=function(t){function n(){var e;for(var n=arguments.length,i=new Array(n),r=0;r<n;r++){i[r]=arguments[r]}e=t.call(this,...i)||this;e.applicationPersonnalizers={};return e}i.ShellServices=n;r(n,t);var s=n.prototype;s.init=function e(){const t=this.getContext();this.appComponent=t.scopeObject;this.oShellContainer=t.settings.shellContainer;this.instanceType="real";this.linksCache={};this.fnFindSemanticObjectsInCache=function(e){const t=[];const n=[];for(const i of e){if(!!i&&!!i.semanticObject){if(this.linksCache[i.semanticObject]){t.push(this.linksCache[i.semanticObject].links);Object.defineProperty(i,"links",{value:this.linksCache[i.semanticObject].links})}else{n.push(i)}}}return{oldArgs:e,newArgs:n,cachedLinks:t}};this.initPromise=new Promise((e,t)=>{this.resolveFn=e;this.rejectFn=t});const n=this.oShellContainer.getServiceAsync("Navigation");const i=this.oShellContainer.getServiceAsync("UserInfo");const r=this.oShellContainer.getServiceAsync("URLParsing");const s=this.oShellContainer.getServiceAsync("ShellNavigationInternal");const a=this.oShellContainer.getServiceAsync("PluginManager");const o=this.oShellContainer.getServiceAsync("PersonalizationV2");const c=this.oShellContainer.getServiceAsync("Extension");Promise.all([n,i,r,s,o,a,c]).then(e=>{let[t,n,i,r,s,a,o]=e;this.applicationNavigation=t;this.userInfoService=n;this.urlParsingService=i;this.shellNavigation=r;this.shellPersonalizationService=s;this.shellPluginManager=a;this.extensionService=o;this.resolveFn();return}).catch(this.rejectFn)};s.getLinks=async function e(t){return this.applicationNavigation.getLinks(t)};s.__fetchSemanticObject=async function e(){return this.applicationNavigation.getSemanticObjects()};s.getLinksWithCache=async function e(t){if(t.length===0){return[]}else{const e=this.fnFindSemanticObjectsInCache(t);if(e.newArgs.length===0){return e.cachedLinks}else{const t=await this.applicationNavigation.getLinks(e.newArgs);if(t.length!==0){const n={};for(let i=0;i<t.length;i++){if(t[i].length>0&&e.newArgs[i][0].links===undefined){n[e.newArgs[i][0].semanticObject]={links:t[i]};this.linksCache=Object.assign(this.linksCache,n)}}}if(e.cachedLinks.length===0){return t}else{const n=[];let i=0;for(const r of e.oldArgs){if(i<t.length){if(t[i].length>0&&r[0].semanticObject===e.newArgs[i][0].semanticObject){n.push(t[i]);i++}else{n.push(r[0].links)}}else{n.push(r[0].links)}}return n}}}};s.getShellUIService=async function e(){return this.appComponent.getService("ShellUIService")};s.getShellContainer=function e(){return this.oShellContainer};s.getInframeUrl=async function t(){const n=this.getShellContainer();let i;if(n?.inAppRuntime()){try{i=await n.getFLPUrlAsync(true)}catch(t){e.error("Error while getting the FLP URL",t)}}return i};s.toExternal=function e(t,n){this.navigate(t,n)};s.getStartupAppState=async function e(t){return this.applicationNavigation.getStartupAppState(t)};s.backToPreviousApp=async function e(){return this.applicationNavigation.backToPreviousApp()};s.hrefForExternal=async function e(t,n){return this.applicationNavigation.getHref(t,n)};s.getHref=async function e(t,n){return this.applicationNavigation.getHref(t,n)};s.getAppState=async function e(t,n){return this.applicationNavigation.getAppState(t,n)};s.createEmptyAppState=async function e(t){return this.applicationNavigation.createEmptyAppState(t)};s.isNavigationSupported=async function e(t,n){return this.applicationNavigation.isNavigationSupported(t,n)};s.navigate=async function e(t,n){return await this.applicationNavigation.navigate(t,n)};s.isInitialNavigation=async function e(){return this.applicationNavigation.isInitialNavigation()};s.expandCompactHash=async function e(t){return Promise.resolve(t)};s.getHash=function e(){return`#${this.urlParsingService.getShellHash(window.location.href)}`};s.getRegisteredPlugins=function e(){return this.shellPluginManager.getRegisteredPlugins()};s.isFlpOptimisticBatchPluginLoaded=function e(){const t=this.getRegisteredPlugins().RendererExtensions;if(t?.hasOwnProperty("MANAGE_FE_CACHES")&&!!t.MANAGE_FE_CACHES.enabled){return true}else{return false}};s.parseShellHash=function e(t){return this.urlParsingService.parseShellHash(t)};s.splitHash=function e(t){return this.urlParsingService.splitHash(t)};s.constructShellHash=function e(t){return this.urlParsingService.constructShellHash(t)};s.setDirtyFlag=function e(t){this.oShellContainer.setDirtyFlag(t)};s.registerDirtyStateProvider=function e(t){this.oShellContainer.registerDirtyStateProvider(t)};s.deregisterDirtyStateProvider=function e(t){this.oShellContainer.deregisterDirtyStateProvider(t)};s.getUser=function e(){return this.userInfoService};s.isJamActive=function e(){return this.oShellContainer.getUser().isJamActive()};s.getUserInitials=function e(){return this.oShellContainer.getUser().getInitials()};s.hasUShell=function e(){return true};s.registerNavigationFilter=function e(t){this.shellNavigation.registerNavigationFilter(t)};s.unregisterNavigationFilter=function e(t){this.shellNavigation.unregisterNavigationFilter(t)};s.setBackNavigation=async function e(t){(await this.getShellUIService()).setBackNavigation(t)};s.setHierarchy=async function e(t){(await this.getShellUIService()).setHierarchy(t)};s.setTitle=async function e(t,n){(await this.getShellUIService()).setTitle(t,n)};s.getTitle=async function e(){return(await this.getShellUIService()).getTitle()};s.getContentDensity=function e(){return this.oShellContainer.getUser().getContentDensity()};s.getPrimaryIntent=async function e(t,n){const i=await this.applicationNavigation.getPrimaryIntent(t,n);if(Array.isArray(i)){return i[0]}else{return i}};s.waitForPluginsLoad=async function t(){return new Promise(t=>{if(!this.shellPluginManager?.getPluginLoadingPromise){t(false)}else{this.shellPluginManager.getPluginLoadingPromise("RendererExtensions").fail(n=>{e.error(n,"sap.fe.core.services.ShellServicesFactory.waitForPluginsLoad");t(false)}).then(()=>t(true))}})};s.getPersonalizer=async function e(t,n,i){n={keyCategory:this.shellPersonalizationService.constants.keyCategory.FIXED_KEY,writeFrequency:this.shellPersonalizationService.constants.writeFrequency.LOW,clientStorageAllowed:false,validity:Infinity,...n};return await this.shellPersonalizationService.getPersonalizer(t,n,i)};s.deletePersonalizationContainer=async function e(t,n){return this.shellPersonalizationService.deleteContainer(t,n)};s.getApplicationPersonalizer=async function e(t){if(!this.applicationPersonnalizers[t]){this.applicationPersonnalizers[t]=this.getPersonalizer({container:`Application#${this.appComponent.getManifest()["sap.app"].id}`,item:t},{},this.appComponent)}return this.applicationPersonnalizers[t]};s.getApplicationPersonalizationData=async function e(t){return await((await this.getApplicationPersonalizer(t))?.getPersData())};s.setApplicationPersonalizationData=async function e(t,n){(await this.getApplicationPersonalizer(t)).setPersData(n)};s.getShellConfig=function e(){return window["sap-ushell-config"]};s.parseParameters=function e(t){return this.urlParsingService.parseParameters(t)};s.getExtensionService=function e(){return this.extensionService};return n}(t);i.ShellServices=o;let c=function(t){function n(){return t.apply(this,arguments)||this}r(n,t);var i=n.prototype;i.createInstance=async function t(n){n.settings.shellContainer=sap.ui.require("sap/ushell/Container");const i=n.settings.shellContainer?new o(n):new a(n);await i.initPromise;const r=n.scopeObject;r.getShellServices=()=>i;const s=r.getModel("internal");if(s){let t=[];try{t=await i.__fetchSemanticObject()}catch(t){e.error("Error while calling getSemanticObjects",t)}finally{s.setProperty("/semanticObjects",t)}}return i};return n}(n);return c},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/services/SideEffectsServiceFactory", ["sap/base/Log","sap/fe/core/converters/MetaModelConverter","sap/fe/core/helpers/ResourceModelHelper","sap/fe/core/helpers/TypeGuards","sap/fe/core/helpers/WebSocket","sap/fe/core/templating/PropertyHelper","sap/m/MessageBox","sap/ui/core/service/Service","sap/ui/core/service/ServiceFactory","../templating/DataModelPathHelper"],function(t,e,i,n,r,o,s,a,c,f){"use strict";var u={};var l=f.getTargetObjectPath;var g=f.getTargetNavigationPath;var p=f.enhanceDataModelPath;var d=o.getAssociatedTextPropertyPath;var h=r.getWebSocketChannelUrl;var E=r.getWebSocketBaseUrl;var y=r.createWebSocket;var m=r.WEBSOCKET_STATUS;var S=r.ChannelType;var v=n.isPropertyPathExpression;var P=n.isProperty;var T=n.isNavigationProperty;var C=n.isEntityType;var R=n.isEntitySet;var b=n.isComplexType;var N=i.getResourceModel;var M=e.getInvolvedDataModelObjects;var O=e.convertTypes;function $(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,D(t,e)}function D(t,e){return D=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},D(t,e)}let A=function(i){function n(){return i.apply(this,arguments)||this}u.SideEffectsService=n;$(n,i);var r=n.prototype;r.init=function t(){const e=this.getContext();this.appComponent=e?.scopeObject;this.sideEffectsRegistry={oData:{entities:{},actions:{boundActions:{},unBoundActions:{}}},control:{}};this.recommendationRegistry={roles:{}};this.targetCallbacks={}};r.initializeWebSocketConnection=function t(){const e=this.appComponent.getModel();const i=E(e);const n=h(S.SideEffectsEvents,e);if(i&&n){this.webSocket=y(S.SideEffectsEvents,e);this.webSocket.attachMessage(this.onSideEffectsEventReceived.bind(this));this.webSocketStatus=m.CONNECTED;const t=()=>{if([m.CLOSED,m.ERROR].includes(this.webSocketStatus)){const t=N(this.appComponent);const e=t.getText("C_SIDEEFFECT_CONNECTION_LOST");s.warning(e,{actions:[s.Action.OK],emphasizedAction:s.Action.OK})}};this.webSocket.attachError(()=>{this.webSocketStatus=m.ERROR;t()});this.webSocket.attachClose(e=>{if(this.webSocketStatus===m.ERROR){return}this.webSocketStatus=m.CLOSED;if(e.getParameter("code")!==1e3){t()}})}};r.onSideEffectsEventReceived=async function t(i){const n=i.getParameter("pcpFields");if(n?.serverAction!=="RaiseSideEffect"||!n.sideEffectEventName||!n.sideEffectSource){return}const r=this.getMetaModel().getMetaContext(n.sideEffectSource);const o=e.getInvolvedDataModelObjects(r);const s=this.getSideEffectWhereEventIsSource(o.targetEntityType.fullyQualifiedName,n.sideEffectEventName);if(s.length===0){return}const a=[];const c=this.appComponent.getRootViewController().getVisibleViews();for(const t of c){const e=t.getController();if(e.isA("sap.fe.core.PageController")&&e._sideEffects.isDataPathRelevant(n.sideEffectSource,n.sideEffectEventName)){a.push(e)}}if(a.length===0){return}const f=a[a.length-1]._sideEffects;const u=this.isOnlyRecommendations(o,s);const l=this.getSideEffectsInteractionType(n.sideEffectEventName,u);switch(l){case"Confirmation":try{await f.confirmDataRefresh()}catch(t){return}break;case"Notification":f.notifyDataRefresh();break;case"None":break}for(const t of a){await t._sideEffects.requestSideEffectsForEvent(n.sideEffectEventName,n.sideEffectSource)}};r.isOnlyRecommendations=function t(e,i){const n=e.targetEntityType.annotations.UI?.Recommendations?.path;for(const t of i){const i=this.sideEffectsRegistry.oData.entities[e.targetEntityType.fullyQualifiedName]?.[`${t.entity}@com.sap.vocabularies.Common.v1.SideEffects#${t.qualifier}`];if(i?.targetProperties.length===1&&i?.targetEntities.length===0&&i?.targetProperties[0]===n){return true}}return false};r.getSideEffectsInteractionType=function t(e){let i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;if(!this.interactionTypeDefinition){this.interactionTypeDefinition=this.appComponent.getManifestEntry("sap.fe")?.app?.sideEffectsEventsInteractionType}if(i){return"None"}if(typeof this.interactionTypeDefinition==="string"){return this.interactionTypeDefinition}if(e&&this.interactionTypeDefinition?.events?.[e]){return this.interactionTypeDefinition.events[e]}if(this.interactionTypeDefinition?.default){return this.interactionTypeDefinition.default}return"Notification"};r.addControlSideEffects=function t(e,i){if(i.sourceControlId){const t={...i,fullyQualifiedName:`${e}/SideEffectsForControl/${i.sourceControlId}`};const n=this.sideEffectsRegistry.control[e]||{};n[t.sourceControlId]=t;this.sideEffectsRegistry.control[e]=n}};r.executeAction=async function t(e,i,n){const r=i.getModel().bindContext(`${e}(...)`,i);const o=n??{};const s=o.groupId||i.getBinding().getUpdateGroupId();if(o.submitBatch!=false){i.getModel().submitBatch(s)}await r.execute(s,true)};r.getConvertedMetaModel=function t(){return O(this.getMetaModel(),this.capabilities)};r.getEntityTypeFromContext=function t(e){const i=e.getModel().getMetaModel(),n=i.getMetaPath(e.getPath()),r=i.getObject(n)["$Type"];return r};r.getODataEntitySideEffects=function t(e){return this.sideEffectsRegistry.oData.entities[e]||{}};r.isControlSideEffects=function t(e){return!!e.sourceControlId};r.getGlobalODataEntitySideEffects=function t(e){const i=this.getODataEntitySideEffects(e);const n=[];for(const t in i){const e=i[t];if(!e.sourceEntities&&!e.sourceProperties&&!e.sourceEvents){n.push(e)}}return n};r.getODataActionSideEffects=function t(e,i){if(i){const t=this.getEntityTypeFromContext(i);if(t){return this.sideEffectsRegistry.oData.actions.boundActions[t]?.[e]}}else{return this.sideEffectsRegistry.oData.actions.unBoundActions?.[e]}return undefined};r.getODataSideEffectsFromContextEvent=function t(e,i){const n=e.getModel().getMetaModel().getMetaContext(e.getPath());const r=M(n);const o=this.getSideEffectWhereEventIsSource(r.targetEntityType.fullyQualifiedName,i);return o.map(t=>this.sideEffectsRegistry.oData.entities[r.targetEntityType.fullyQualifiedName]?.[`${t.entity}@com.sap.vocabularies.Common.v1.SideEffects#${t.qualifier}`])};r.initialize=async function t(){const e={entities:{},properties:{},events:{}};const i=await this.appComponent.getService("environmentCapabilities");const n=this.appComponent.getModel();if(n?.isA?.("sap.ui.model.odata.v4.ODataModel")){await n.getMetaModel().requestObject("/$EntityContainer/");this.capabilities=i.getCapabilities();const t=this.getConvertedMetaModel();this.containerName=t.entityContainer.fullyQualifiedName;this.containerRegexPattern=new RegExp(`^\\/${this.containerName}\\/[^/]+\\/(.+)?$`);this.entityTypeRegexPattern=new RegExp(`^/${this.containerName}/([^/]+)`);t.entityTypes.forEach(t=>{this.mapFieldAnnotations(t);this.sideEffectsRegistry.oData.entities[t.fullyQualifiedName]=this.retrieveODataEntitySideEffects(t);this.mapSideEffectSources(t,e)});t.actions.forEach(t=>{if(t.isBound){this.sideEffectsRegistry.oData.actions.boundActions[t.sourceEntityType.fullyQualifiedName]={...this.sideEffectsRegistry.oData.actions.boundActions[t.sourceEntityType.fullyQualifiedName],...this.retrieveODataActionsSideEffects(t)}}else{this.sideEffectsRegistry.oData.actions.unBoundActions={...this.sideEffectsRegistry.oData.actions.unBoundActions,...this.retrieveODataActionsSideEffects(t)}}});if(Object.keys(e.events).length>0){this.initializeWebSocketConnection()}}this.sourcesToSideEffectMappings=e;return this};r.mapFieldAnnotations=function t(e){const i=t=>{if(!this.recommendationRegistry.roles.hasOwnProperty(`${t}`)){this.recommendationRegistry.roles[`${t}`]={input:[],output:[]}}};e.entityProperties.forEach(t=>{const n=t.annotations.Common;if(n?.RecommendationRole){const r=n.RecommendationRole;if(r.valueOf().includes("Input")){i(`${e.name}`);this.recommendationRegistry.roles[`${e.name}`].input.push(t.name)}if(r.valueOf().includes("Output")){i(`${e.name}`);this.recommendationRegistry.roles[`${e.name}`].output.push(t.name)}}})};r.getRecommendationsMapping=function t(){return this.recommendationRegistry};r.checkIfFieldIsRecommendationRelevant=function t(i){const n=i.getBindingContext();const r=i.data().sourcePath.split("/").pop();if(n){const t=n?.getModel().getMetaModel();const i=t?.getMetaContext(n.getPath());const o=e.getInvolvedDataModelObjects(i).targetObject;let s;if(R(o)){s=o.entityType?.name}else if(T(o)){s=o.targetType?.name}const a=s&&this.recommendationRegistry.roles[s];if(a&&a?.input?.includes(r)){return true}}return false};r.getRecommendationOutputFields=function t(e){const i=this.recommendationRegistry.roles[e];if(i?.output?.length>0){return i.output}return[]};r.removeControlSideEffects=function t(e){Object.keys(this.sideEffectsRegistry.control).forEach(t=>{if(this.sideEffectsRegistry.control[t][e]){delete this.sideEffectsRegistry.control[t][e]}})};r.requestSideEffects=async function t(e,i,n){if(e.length){this.logRequest(e,i);await i.requestSideEffects(e,n)}};r.requestSideEffectsForODataAction=async function t(e,i){let n;if(e.triggerActions?.length){n=e.triggerActions.map(async t=>this.executeAction(t,i))}else{n=[]}if(e.pathExpressions?.length){n.push(this.requestSideEffects(e.pathExpressions,i))}return n.length?Promise.all(n):Promise.resolve([])};r.requestSideEffectsForNavigationProperty=async function e(i,n,r){let o=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;const s=this.getEntityTypeFromContext(n);if(s){const e=`${i}/`;const a=this.getODataEntitySideEffects(s);let c=[];let f=[];let u=[];Object.keys(a).filter(t=>{const n=a[t];return(n.sourceEntities||[]).some(t=>t.$NavigationPropertyPath===i)||n.sourceProperties?.length===1&&n.sourceProperties.some(t=>t.startsWith(e)&&!t.replace(e,"").includes("/"))}).forEach(t=>{const e=a[t];if(e.triggerAction&&!o){this.executeAction(e.triggerAction,n,{groupId:r})}c=c.concat(e.targetProperties);f=f.concat(e.targetEntities)});const l=this.removeDuplicateTargets({targetProperties:c,targetEntities:f});u=[...l.targetProperties,...l.targetEntities];if(u.length){return this.requestSideEffects(u,n,r).catch(e=>t.error(`SideEffects - Error while processing SideEffects for Navigation Property ${i}`,e))}}return Promise.resolve()};r.getControlEntitySideEffects=function t(e){return this.sideEffectsRegistry.control[e]||{}};r.getSideEffectWhereEntityIsSource=function t(e){return this.sourcesToSideEffectMappings.entities[e]||[]};r.getSideEffectWhereEventIsSource=function t(e,i){return this.sourcesToSideEffectMappings.events[i]?.filter(t=>t.entity===e)||[]};r.requestSideEffectsForEvent=async function e(i,n,r){const o=this.getODataSideEffectsFromContextEvent(n,i);let s=[];let a=[];o.forEach(t=>{s=s.concat(t.targetProperties);a=a.concat(t.targetEntities)});const c=this.removeDuplicateTargets({targetProperties:s,targetEntities:a});const f=[...c.targetProperties,...c.targetEntities];if(f.length){try{await this.requestSideEffects(f,n,r)}catch(e){t.error(`SideEffects - Error while processing SideEffects for Event ${i}`,e)}}};r.computeFieldGroupIds=function t(e,i){const n=this.getSideEffectWhereEntityIsSource(e).map(t=>this.getFieldGroupIdForSideEffect(t,true));return n.concat(this.getSideEffectWherePropertyIsSource(i).map(t=>this.getFieldGroupIdForSideEffect(t)))};r.getSideEffectWherePropertyIsSource=function t(e){return this.sourcesToSideEffectMappings.properties[e]||[]};r.registerTargetCallback=function t(e,i){this.targetCallbacks[e]=i};r.deregisterTargetCallback=function t(e){delete this.targetCallbacks[e]};r.getRegisteredCallback=function t(e){return this.targetCallbacks[e]};r.addTextProperties=function t(e,i){const n=new Set(e.targetProperties);const r=new Set(e.targetEntities.map(t=>t.$NavigationPropertyPath));for(const t of e.targetProperties){for(const e of this.getDataModelPropertiesFromAPath(t,i)){const i=d(e.targetObject);if(i){this.addTextProperty(e,t,i,n,r)}}}return{targetProperties:Array.from(n),targetEntities:Array.from(r).map(t=>({$NavigationPropertyPath:t}))}};r.addTextProperty=function t(e,i,n,r,o){const s=p(e,n);const a=i.startsWith("/")&&s.targetEntitySet&&s.targetEntitySet.name!==e.targetEntitySet?.name?`/${s.targetEntitySet?.fullyQualifiedName}`:g(s,true);const c=i.startsWith("/")?`/${s.targetEntitySet?.fullyQualifiedName}/${s.targetObject.name}`:l(s,true);if(this.isAssociatedTextListedInSideEffectTargets(s,a,c,r,o)){if(this.isPropertyAssociatedTextOnDifferentEntitySet(e,s)){o.add(a)}else{r.add(c)}}};r.isAssociatedTextListedInSideEffectTargets=function t(e,i,n,r,o){return P(e.targetObject)&&!r.has(n)&&!r.has(`${i}${e.navigationProperties.length?"/":""}*`)&&!o.has(`${i}`)};r.isPropertyAssociatedTextOnDifferentEntitySet=function t(e,i){return e.targetEntitySet!==i.targetEntitySet&&!!i.navigationProperties&&!!i.targetEntityType};r.convertSideEffects=function t(e,i,n){const r=e.TriggerAction;const o=this.convertSideEffectsFormat(e);let s={targetProperties:o.targetProperties,targetEntities:o.targetEntities};s=this.removeBindingParameter(s,n);s=this.addTextProperties(s,i);s=this.removeDuplicateTargets(s);return{...o,...{targetEntities:s.targetEntities,targetProperties:s.targetProperties,triggerAction:r}}};r.convertSideEffectsFormat=function e(i){const n=e=>e?e.reduce((e,n)=>{let r="";if(v(n)){r=n.value}else if(typeof n==="string"){r=n}if(r){e.push(r)}else{t.error(`SideEffects - Error while processing TargetProperties for SideEffects ${i.fullyQualifiedName}`)}return e},[]):e;const r=t=>t?t.map(t=>({$NavigationPropertyPath:t.value})):t;return{fullyQualifiedName:i.fullyQualifiedName,sourceProperties:n(i.SourceProperties),sourceEntities:r(i.SourceEntities),sourceEvents:i.SourceEvents,targetProperties:n(i.TargetProperties)??[],targetEntities:r(i.TargetEntities)??[]}};r.getDataModelPropertiesFromAPath=function t(e,i){let n=[];const r=this.getConvertedMetaModel();let o,s,a;if(e.startsWith(`/${this.containerName}/`)){a=e.match(this.containerRegexPattern);o=a?a[1]:undefined}if(!i){a=e.match(this.entityTypeRegexPattern);s=a?a[1]:undefined}const c=i??(s?r.resolvePath(`/${s}/`).target:undefined);const f=r.entitySets.find(t=>t.entityType===c)??r.singletons.find(t=>t.entityType===c);if(f){const t=this.getMetaModel(),i=t.createBindingContext(`/${f.name}`);if(i){const t=M(i);const r=p(t,(o||e).replace("*","")||"/"),s=r.targetObject;if(P(s)){if(b(s.targetType)){n=n.concat(s.targetType.properties.map(t=>p(r,t.name)))}else{n.push(r)}}else if(C(s)){n=n.concat(r.targetEntityType.entityProperties.map(t=>p(r,t.name)))}i.destroy()}}return n.filter(t=>t.targetObject)};r.getMetaModel=function t(){return this.appComponent.getModel().getMetaModel()};r.getSideEffectsFromSource=function t(e){let i="";const n=C(e);const r=n?e:e.sourceEntityType;const o=e.annotations?.Common;if(o){if(r&&!n){const t=e.parameters?.find(t=>t.type===r.fullyQualifiedName);i=t?.fullyQualifiedName.split("/")[1]??""}return this.getSideEffectsAnnotationFromSource(e).map(t=>this.convertSideEffects(t,r,i))}return[]};r.getSideEffectsAnnotationFromSource=function t(e){const i=[];const n=e.annotations?.Common;for(const t in n){const e=n[t];if(this.isSideEffectsAnnotation(e)){i.push(e)}}return i};r.isSideEffectsAnnotation=function t(e){return e?.$Type==="com.sap.vocabularies.Common.v1.SideEffectsType"};r.logRequest=function e(i,n){const r=i.reduce(function(t,e){return`${t}\n\t\t${e.$NavigationPropertyPath||e||""}`},"");t.debug(`SideEffects - Request:\n\tContext path : ${n.getPath()}\n\tProperty paths :${r}`)};r.removeBindingParameter=function t(e,i){if(i){const t=function(t){return t.replace(new RegExp(`^${i}/?`),"")};return{targetProperties:e.targetProperties.map(e=>t(e)),targetEntities:e.targetEntities.map(e=>({$NavigationPropertyPath:t(e.$NavigationPropertyPath)}))}}return{targetProperties:e.targetProperties,targetEntities:e.targetEntities}};r.removeDuplicateTargets=function t(e){const i=e.targetEntities.map(t=>t.$NavigationPropertyPath);const n=new Set(i);const r=new Set(e.targetProperties);const o=Array.from(n).map(t=>({$NavigationPropertyPath:t}));return{targetProperties:Array.from(r),targetEntities:o}};r.retrieveODataActionsSideEffects=function t(e){const i={};const n=new Set;let r=[];let o=[];this.getSideEffectsFromSource(e).forEach(t=>{const e=t.triggerAction;r=r.concat(t.targetProperties);o=o.concat(t.targetEntities);if(e){n.add(e)}});const s=this.removeDuplicateTargets({targetProperties:r,targetEntities:o});const a=e.isBound?e.fullyQualifiedName.match(/^[^(]+/)?.[0]:e.name;i[a]={pathExpressions:[...s.targetProperties,...s.targetEntities],triggerActions:Array.from(n)};return i};r.retrieveODataEntitySideEffects=function t(e){const i={};this.getSideEffectsFromSource(e).forEach(t=>{i[t.fullyQualifiedName]=t});return i};r.mapSideEffectSources=function t(e,i){for(const t of this.getSideEffectsAnnotationFromSource(e)){this.mapSideEffectSourceEntities(e,i,t);this.mapSideEffectSourceProperties(e,i,t);this.mapSideEffectSourceEvents(e,i,t)}};r.mapSideEffectSourceEntities=function t(e,i,n){for(const t of n.SourceEntities??[]){const r=t.value?t.$target?.targetType:e;if(r){if(!i.entities[r.fullyQualifiedName]){i.entities[r.fullyQualifiedName]=[]}i.entities[r.fullyQualifiedName].push({entity:e.fullyQualifiedName,qualifier:n.qualifier})}}};r.mapSideEffectSourceProperties=function t(e,i,n){const r=n.SourceProperties?.length===1;for(const t of n.SourceProperties??[]){if(t.$target){if(!i.properties[t.$target.fullyQualifiedName]){i.properties[t.$target.fullyQualifiedName]=[]}i.properties[t.$target.fullyQualifiedName].push({entity:e.fullyQualifiedName,qualifier:n.qualifier,hasUniqueSourceProperty:r})}}};r.mapSideEffectSourceEvents=function t(e,i,n){for(const t of n.SourceEvents??[]){if(!i.events[t.toString()]){i.events[t.toString()]=[]}i.events[t.toString()].push({entity:e.fullyQualifiedName,qualifier:n.qualifier})}};r.getFieldGroupIdForSideEffect=function t(e){let i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;const n=e.qualifier?`${e.entity}#${e.qualifier}`:e.entity;return i||e.hasUniqueSourceProperty===true?`${n}$$ImmediateRequest`:n};r.getInterface=function t(){return this};return n}(a);u.SideEffectsService=A;let x=function(t){function e(){return t.apply(this,arguments)||this}$(e,t);var i=e.prototype;i.createInstance=async function t(e){const i=new A(e);return i.initialize()};return e}(c);return x},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/services/TelemetryServiceFactory", ["sap/base/Log","sap/ui/core/service/Service","sap/ui/core/service/ServiceFactory"],function(e,t,n){"use strict";var o={};function r(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,i(e,t)}function i(e,t){return i=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},i(e,t)}const a={"FE.FilterBarSearch":[{name:"countFilterActions",type:"number"},{name:"countFilters",type:"number"},{name:"countVariantFilters",type:"number"},{name:"variantLayer",type:"string"},{name:"autoLoad",type:"boolean"}],"FE.Recommendations":[{name:"numberOfTimesRecommendationsFetched",type:"number"},{name:"maxTimeTakenToReceiveRecommendations",type:"number"},{name:"minTimeTakenToReceiveRecommendations",type:"number"},{name:"averageTimeTakenToReceiveRecommendations",type:"number"},{name:"numberOfFieldsAcceptedThroughAcceptButton",type:"number"},{name:"numberOfFieldsIgnoredThroughIgnoreButton",type:"number"},{name:"numberOfTimesNoPlaceholderIsShownOnUI",type:"number"},{name:"numberOfRecommendedFields",type:"number"},{name:"numberOfTimesTopRecommendationsSelected",type:"number"},{name:"numberOfTimesNonTopRecommendationsSelected",type:"number"},{name:"numberOfTimesNonRecommendedValueWasSelected",type:"number"},{name:"numberOfTimesEmptyRecommendations",type:"number"},{name:"numberofTimesFormatterCalled",type:"number"},{name:"totalNumberOfRecommendationsReceived",type:"number"},{name:"numberOfTimesFormatterNotCalled",type:"number"},{name:"totalTimeTaken",type:"number"}]};let s=function(t){function n(){var e;for(var n=arguments.length,o=new Array(n),r=0;r<n;r++){o[r]=arguments[r]}e=t.call(this,...o)||this;e.isEnabled=false;return e}o.TelemetryService=n;r(n,t);var i=n.prototype;i.init=function e(){const t=this.getContext();this.appComponent=t?.scopeObject;const n=this.appComponent.getManifestEntry("sap.fiori");this.appId=n?.registrationIds?.join("-")};i.initialize=async function e(){const t=new URLSearchParams(window.location.search);if(t.get("sap-ui-xx-feEnableGSM")?.toLowerCase()==="true"){this.isEnabled=true}return Promise.resolve(this)};i.storeAction=async function t(n,o){if(this.isEnabled){const t={...n,template:o};try{await this.storeAndFlush(t)}catch(t){e.debug(t)}}};i.storeAndFlush=async function e(t){if(!this.validateEventCountPolicy()){return}if(!this.validateEndpointPolicy()){return}const o=window.localStorage.getItem(n.EventStoreKey);let r;if(!o){r=[]}else{r=JSON.parse(o)}r.push(t);if(r.length>=n.CountBeforeFlush){try{await this.flush(r);this.incrementEventCountStore(r.length);this.clearEndpointStore()}catch{this.updateEndpointStore()}r=[]}const i=JSON.stringify(r);window.localStorage.setItem(n.EventStoreKey,i)};i.flush=async function e(t){const o=this.buildRequestBody(t);return fetch(n.targetUrl,{method:"POST",body:o})};i.buildRequestBody=function e(t){return t.map(e=>{const t=a[e.type];const n=t.map(t=>{let{name:n,type:o}=t;switch(o){case"number":case"boolean":return`${n}=${e.parameters[n]}`;case"string":default:return`${n}="${e.parameters[n]}`}});return`ui5_action{ type="${e.type}", ${n.join(", ")} } 1\n`}).join("")};i.updateEventCountStore=function e(t){window.localStorage.setItem(n.EventCountStoreKey,`${t}`)};i.incrementEventCountStore=function e(t){const o=window.localStorage.getItem(n.EventCountStoreKey);if(!o){this.updateEventCountStore(t);return}const r=parseInt(o,10);this.updateEventCountStore(r+t)};i.validateEventCountPolicy=function e(){const t=window.localStorage.getItem(n.EventCountStoreKey);if(!t){return true}const o=parseInt(t,10);if(isNaN(o)){this.updateEventCountStore(0);return true}else{return o<n.MaxTelemetry}};i.updateEndpointStore=function e(){window.localStorage.setItem(n.EndpointStoreKey,`${Date.now()}`)};i.clearEndpointStore=function e(){window.localStorage.removeItem(n.EndpointStoreKey)};i.validateEndpointPolicy=function e(){const t=window.localStorage.getItem(n.EndpointStoreKey);if(!t){return true}const o=Date.now();const r=parseInt(t,10);if(isNaN(r)){this.updateEndpointStore();return false}else{return o-r>n.EndpointRetryPeriod}};return n}(t);s.MaxTelemetry=500;o.TelemetryService=s;s.CountBeforeFlush=50;s.EndpointRetryPeriod=1e3*60*60*24;s.targetUrl="/sap/bc/ui2/flp;sap-metrics-only";s.EventStoreKey="EventStore";s.EndpointStoreKey="EndpointStore";s.EventCountStoreKey="EventCountStore";let u=function(e){function t(){return e.apply(this,arguments)||this}o=t;r(t,e);var n=t.prototype;n.createInstance=async function e(t){const n=new s(t);return n.initialize()};return t}(n);o=u;return o},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/services/TemplatedViewServiceFactory", ["sap/base/Log","sap/base/i18n/Localization","sap/fe/base/BindingToolkit","sap/fe/core/CommonUtils","sap/fe/core/TemplateModel","sap/fe/core/converters/ManifestSettings","sap/fe/core/converters/ManifestWrapper","sap/fe/core/converters/MetaModelConverter","sap/fe/core/definition/FEDefinition","sap/fe/core/helpers/LoaderUtils","sap/fe/core/helpers/ModelHelper","sap/fe/core/manifestMerger/ChangePageConfiguration","sap/ui/Device","sap/ui/VersionInfo","sap/ui/core/Core","sap/ui/core/mvc/View","sap/ui/core/service/Service","sap/ui/core/service/ServiceFactory","sap/ui/core/service/ServiceFactoryRegistry","sap/ui/model/json/JSONModel","../helpers/DynamicAnnotationPathHelper"],function(e,t,n,o,i,r,a,s,c,l,g,u,p,d,f,h,v,m,C,y,w){"use strict";var b={};var M=w.resolveDynamicExpression;var V=u.applyPageConfigurationChanges;var S=l.requireDependencies;var P=c.DefinitionContext;var I=s.registerVirtualProperty;var x=r.TemplateType;var D=n.resolveBindingString;function T(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,N(e,t)}function N(e,t){return N=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},N(e,t)}let O=function(n){function r(){return n.apply(this,arguments)||this}b.TemplatedViewService=r;T(r,n);var s=r.prototype;s.init=function e(){const n=[];const i=this.getContext();const r=i.scopeObject;const a=o.getAppComponent(r);const s=a.getViewPreloaderService();const c=a.getMetaModel();this.pageId=a.getLocalId(r.getId());const l=`${a.getMetadata().getComponentName()}::${this.pageId}`;const g=r.getEnhanceI18n()||[];let u;this.oFactory=i.factory;if(g){u=a.getMetadata().getComponentName();for(let e=0;e<g.length;e++){const t=a.getModel(g[e]);if(t&&t.isA("sap.ui.model.resource.ResourceModel")){g[e]=t}else{g[e]=`${u}.${g[e].replace(".properties","")}`}}}const p=`${a.getMetadata().getName()}_${l}_${t.getLanguageTag()}`;n.push(C.get("sap.fe.core.services.ResourceModelService").createInstance({scopeType:"component",scopeObject:r,settings:{bundles:["sap.fe.core.messagebundle","sap.fe.macros.messagebundle","sap.fe.templates.messagebundle"],enhanceI18n:g,modelName:"sap.fe.i18n"}}).then(e=>{this.oResourceModelService=e;return e.getResourceModel()}));n.push(C.get("sap.fe.core.services.CacheHandlerService").createInstance({settings:{metaModel:c,appComponent:a,component:r}}).then(async e=>{await s.isCacheReady();this.oCacheHandlerService=e;return e.validateCacheKey(p,r,a.getEnvironmentCapabilities())}));n.push(d.load().then(function(e){let t="";if(!e.libraries){t=f?.buildinfo?.buildtime??"<NOVALUE>"}else{e.libraries.forEach(function(e){t+=e.buildTimestamp})}return t}).catch(function(){return"<NOVALUE>"}));this.initPromise=Promise.all(n).then(async e=>{const t=e[0];const n=e[1];const[o,i]=await S(["sap/fe/core/converters/TemplateConverter","sap/fe/core/converters/MetaModelConverter"]);return this.createView(t,l,n,o,i)}).then(function(e){const t=C.get("sap.fe.core.services.CacheHandlerService").getInstance(c);t.invalidateIfNeeded(e,p,r,a.getEnvironmentCapabilities());return})};s.refreshView=async function t(n){const o=n.getRootControl();if(o){o.destroy()}else if(this.oView){this.oView.destroy()}return this.createView(this.resourceModel,this.stableId,"",this.TemplateConverter,this.MetaModelConverter).then(function(){n.getUIArea().invalidate();return}).catch(function(t){n.getUIArea().invalidate();e.error(t)})};s._getViewSettings=function e(t,n,o,i,r,a,s){let c=n.viewType||o.getViewType()||"XML";if(c!=="XML"){c=undefined}return{type:c,preprocessors:{xml:t,controls:{}},id:i.stableId,viewName:n.viewName||o.getViewName?.(),viewData:i,cache:{keys:[r],additionalData:{getAdditionalCacheData:()=>a.getData(),setAdditionalCacheData:e=>{a.setData(e)}}},models:{"sap.fe.i18n":s},height:"100%"}};s._createErrorPage=async function t(n,o,i,r,a){e.error(n.message,n);o.viewName=i;if(o.preprocessors){o.preprocessors.xml.models["error"]=new y(n)}return r.runAsOwner(async()=>h.create(o).then(e=>{this.oView=e;this.oView.setModel(new y(this.oView),"$view");r.setAggregation("rootControl",this.oView);r.getAppComponent().getRootControl().getController().getPlaceholder().hideRootPlaceholder();return a}))};s.createView=async function t(n,r,s,c,l){this.resourceModel=n;this.stableId=r;this.TemplateConverter=c;this.MetaModelConverter=l;const u=this.getContext();const d=u.settings;const f=d.converterType;const v=u.scopeObject;const m=o.getAppComponent(v);let C=m.getRoutingService().getTargetInformationFor(v)?.options?.settings?.fullContextPath??"";if(!C){C=v.getContextPath()??""}const w=m.getMetaModel();const b=m.getManifest();const V=new y(p).setDefaultBindingMode("OneWay");const S=new y(b);let I,D,T;try{const t=await m.getService("routingService");const o=t.getTargetInformationFor(v);const u=b["sap.app"]&&b["sap.app"].crossNavigation&&b["sap.app"].crossNavigation.outbounds||{};const N=v.getNavigation()||{};const O=l.convertTypes(w,m.getEnvironmentCapabilities().getCapabilities());this._enhanceNavigationConfig(N,u,O,r);const F=new P(O);F.addApplicationManifest(b);T={appComponent:m,navigation:N,viewLevel:o?.viewLevel,stableId:r,contentDensities:b["sap.ui5"]?.contentDensities,resourceModel:n,fullContextPath:C,isDesktop:p.system.desktop,isPhone:p.system.phone,converterType:x.FreeStylePage};if(v.getViewData){Object.assign(T,v.getViewData());T=E.setPageConfigurationChanges(b,T,m,this.pageId)}T.isShareButtonVisibleForMyInbox=E.getShareButtonVisibilityForMyInbox(m);const _=m.getShellServices();T.converterType=f;T.shellContentDensity=_.getContentDensity();const j=b["sap.fe"];T.sapFeManifestConfiguration=b["sap.fe"];T.retrieveTextFromValueList=j?.form?j?.form?.retrieveTextFromValueList:undefined;D=new y(T);if(T.controlConfiguration){for(const e in T.controlConfiguration){if(e.includes("[")){const t=M(e,w);T.controlConfiguration[t]=T.controlConfiguration[e]}}}I=new i(()=>{try{const t=m.getDiagnostics();const n=t.getIssues().length;const o=c.convertPage(f,w,T,new a(T,m),t,C,m.getEnvironmentCapabilities().getCapabilities(),v);if(o&&v._getControllerName()){o.controllerName=v._getControllerName()}const i=t.getIssues();const r=i.slice(n);if(r.length>0){e.warning("Some issues have been detected in your project, please check the UI5 support assistant rule for sap.fe.core")}return o}catch(t){e.error(t,t);return{}}},w);const A=C.split("/");const $=this._getFullPathToEntitySet(A,w);const R={bindingContexts:{entitySet:$?w.createBindingContext($):null,fullContextPath:C?w.createBindingContext(C):null,contextPath:C?w.createBindingContext(C):null,converterContext:I.createBindingContext("/",undefined,{noResolve:true}),viewData:T?D.createBindingContext("/"):null},models:{entitySet:w,fullContextPath:w,contextPath:w,"sap.fe.i18n":n,metaModel:w,device:V,manifest:S,converterContext:I,viewData:D},fullContextPath:C,getConvertedMetadata:()=>O,getDefinitionContext(){return F},getDefinitionForPage(){let e=C;if(e.endsWith("/")){e=e.substring(0,e.length-1)}return F.getPageFor(e)},appComponent:m,viewId:r},B=this._getViewSettings(R,d,v,T,s,I,n);v.setModel(I,"_pageModel");v.setPreprocessorContext(R);return v.runAsOwner(async()=>h.create(B).then(e=>{this.oView=e;const t=new y(this.oView);g.enhanceViewJSONModel(t);this.oView.setModel(t,"$view");this.oView.setModel(D,"viewData");v.setAggregation("rootControl",this.oView);return s}).catch(async e=>this._createErrorPage(e,B,d.errorViewName||"sap.fe.core.services.view.TemplatingErrorPage",v,s)).catch(t=>e.error(t.message,t)))}catch(t){e.error(t.message,t);throw new Error(`Error while creating view : ${t}`)}};s._enhanceNavigationConfig=function e(t,n,o,i){Object.keys(t).forEach(function(e){const r=t[e];let a;if(r.detail&&r.detail.outbound&&n[r.detail.outbound]){a=n[r.detail.outbound];r.detail.outboundDetail={semanticObject:a.semanticObject,action:a.action,parameters:a.parameters}}if(r.detail.availability){I(o,"routeNavigable-"+r.detail.route,()=>D(r.detail.availability),i)}if(r.create&&r.create.outbound&&n[r.create.outbound]){a=n[r.create.outbound];r.create.outboundDetail={semanticObject:a.semanticObject,action:a.action,parameters:a.parameters}}})};s._getFullPathToEntitySet=function e(t,n){return t.reduce(function(e,t){if(t===""){return e}if(e===""){e=`/${t}`}else{const o=n.getObject(`${e}/$NavigationPropertyBinding/${t}`);if(o&&Object.keys(o).length>0){e+="/$NavigationPropertyBinding"}e+=`/${t}`}return e},"")};s.getView=function e(){return this.oView};s.getInterface=function e(){return this};s.exit=function e(){if(this.oResourceModelService){this.oResourceModelService.destroy()}if(this.oCacheHandlerService){this.oCacheHandlerService.destroy()}this.oFactory.removeGlobalInstance()};return r}(v);b.TemplatedViewService=O;let E=function(e){function t(){var t;for(var n=arguments.length,o=new Array(n),i=0;i<n;i++){o[i]=arguments[i]}t=e.call(this,...o)||this;t._oInstanceRegistry={};return t}b.TemplatedViewServiceFactory=t;T(t,e);var n=t.prototype;n.createInstance=async function e(n){t.iCreatingViews++;const o=new O(Object.assign({factory:this},n));return o.initPromise.then(function(){t.iCreatingViews--;return o})};n.removeGlobalInstance=function e(){this._oInstanceRegistry={}};t.getShareButtonVisibilityForMyInbox=function e(t){const n=t.getComponentData();if(n!==undefined&&n.feEnvironment){return n.feEnvironment.getShareControlVisibility()}return undefined};t.getNumberOfViewsInCreationState=function e(){return t.iCreatingViews};t.setPageConfigurationChanges=function e(t,n,o,i){const r=t?.["sap.ui5"]?.routing?.targets??{};let a="";for(const e in r){if(r[e].id===i){a=e;break}}if(a===""){a=i}const s=t?.["sap.ui5"]?.routing?.targets?.[a]?.options?.settings||{};return V(s,n,o,i)};return t}(m);b.TemplatedViewServiceFactory=E;return b},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/services/ValueHelpHistoryServiceFactory", ["sap/base/Log","sap/base/i18n/Localization","sap/fe/core/services/valueHelpService/HistoryOptOutProvider","sap/ui/core/EventBus","sap/ui/core/service/Service","sap/ui/core/service/ServiceFactory"],function(t,e,i,a,s,n){"use strict";var r={};function o(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,c(t,e)}function c(t,e){return c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},c(t,e)}const l="@AppLanguage";let p=function(s){function n(){return s.apply(this,arguments)||this}r.ValueHelpHistoryService=n;o(n,s);var c=n.prototype;c.init=function t(){};c.initialize=async function e(){const a=this.getContext(),s=a.scopeObject;try{const[t,e]=await Promise.all([s.getService("environmentCapabilities"),s.getService("shellServices")]);this.shellServices=e;this.appId=s.getManifestEntry("sap.app").id||"unknownAppId";const a=t.getCapabilities().UShell,n=e.getShellConfig()?.apps?.inputFieldHistory?.enabled;if(a&&n){this.historyOptOutProvider=new i(this)}}catch(e){t.error("Cannot retrieve EnvironmentCapabilities or ShellServices",e instanceof Error?e.message:String(e))}return this};c.registerShellHook=async function t(){if(this.historyOptOutProvider){await this.historyOptOutProvider.createOptOutUserProfileEntry();a.getInstance().subscribeOnce("shell","userActionsMenuCompLoaded",async()=>{await this.historyOptOutProvider.createOptOutUserProfileEntry()})}};c.getShellExtensionService=function t(){return this.shellServices.getExtensionService()};c.getPersonalizer=async function t(e,i){const a={container:e,item:i},s={};return this.shellServices.getPersonalizer(a,s,undefined)};c.getGlobalPersonalizer=async function t(){if(!this.globalPersonalizer){const t="sapui5.history.";const e=t+"HistorySettings";const i=t+"settings";this.globalPersonalizer=await this.getPersonalizer(e,i)}return this.globalPersonalizer};c.getGlobalDefaultData=function t(){return{historyEnabled:true,suggestionsEnabled:false,apps:{}}};c.getGlobalHistoryData=async function t(){if(!this.globalHistoryData){const t=await this.getGlobalPersonalizer();const e=await t.getPersData();this.globalHistoryData=e?{...e}:this.getGlobalDefaultData()}return this.globalHistoryData};c.getHistoryEnabled=async function t(){const e=await this.getGlobalHistoryData();return e.historyEnabled};c.setHistoryEnabled=async function t(e){const i=await this.getGlobalHistoryData();i.historyEnabled=e;const a=await this.getGlobalPersonalizer();a.setPersData(i)};n.createAppContainerId=function t(){const e="xxxxxxxx.xxxx.4xxx.yxxx.xxxxxxxxxxxx".replace(/[xy]/g,function(t){let e=Math.random()*16|0;if(t==="y"){e=e&3|8}return e.toString(16)});return"ui5."+e};c.addAppToGlobalHistory=async function t(e,i){const a=n.createAppContainerId();e.apps[i]=a;const s=await this.getGlobalPersonalizer();s.setPersData(e);return a};c.getAppPersonalizer=async function t(){if(!this.appPersonalizer){const t=await this.getGlobalHistoryData(),e=t.apps,i=e[this.appId]||await this.addAppToGlobalHistory(t,this.appId),a="sapui5.history.appData";this.appPersonalizer=await this.getPersonalizer(i,a)}return this.appPersonalizer};c.getAppDefaultData=function t(){const e={};e[n.appDataKey]={};return e};c.getAppHistoryData=async function t(){if(!this.appHistoryData){const t=await this.getAppPersonalizer(),e=await(t.getPersData?.());this.appHistoryData=e?{...e}:this.getAppDefaultData()}return this.appHistoryData};c.getFieldDataFromService=async function t(i){const a=await this.getAppHistoryData(),s=a[n.appDataKey],r=s[i];const o=e.getLanguage();return r?.filter(t=>t[l]===o)||[]};c.setFieldDataWithService=async function t(e,i){const a=await this.getAppHistoryData(),s=a[n.appDataKey],r=await this.getAppPersonalizer();s[e]=i;return r.setPersData(a)};n.getDistinct=function t(e){const i={},a=[];for(const t of e){const e=Object.values(t).join();if(!i[e]){a.push(t);i[e]=true}}return a};c.deleteHistoryForAllApps=async function t(){const e=this.shellServices,i=await this.getGlobalHistoryData(),a=[],s=i.apps;for(const t of Object.keys(s)){a.push(e.deletePersonalizationContainer(s[t],undefined))}this.appHistoryData=undefined;await Promise.all(a)};c.getFieldData=async function t(e){const i=Boolean(this.historyOptOutProvider),a=await this.getHistoryEnabled();if(i&&a){const t=await this.getFieldDataFromService(e);return t.map(t=>Object.entries(t).filter(t=>{let[e,i]=t;return!e.startsWith("@")}).reduce((t,e)=>{let[i,a]=e;return{...t,[i]:a}},{}))}return[]};c.setFieldData=async function t(i,a){const s=Boolean(this.historyOptOutProvider),r=await this.getHistoryEnabled();if(s&&r){const t=e.getLanguage();for(const e of a){e[l]=t}const s=await this.getFieldDataFromService(i),r=n.getDistinct(a.reverse().concat(s)).slice(0,n.maxHistoryItems);return this.setFieldDataWithService(i,r)}};return n}(s);p.appDataKey="sapui5.history";r.ValueHelpHistoryService=p;p.maxHistoryItems=5;let u=function(t){function e(){return t.apply(this,arguments)||this}r=e;o(e,t);var i=e.prototype;i.createInstance=async function t(e){this.instance=new p(e);return this.instance.initialize()};i.getInstance=function t(){return this.instance};return e}(n);r=u;return r},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/services/ViewPreloaderServiceFactory", ["sap/fe/base/ViewPreloaderCache","sap/ui/core/service/Service","sap/ui/core/service/ServiceFactory","../helpers/RoutingHelper"],function(e,t,r,n){"use strict";var a={};var i=e.viewPreloaderCache;function s(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,o(e,t)}function o(e,t){return o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},o(e,t)}let c=function(e){function t(){var t;for(var r=arguments.length,n=new Array(r),a=0;a<r;a++){n[a]=arguments[a]}t=e.call(this,...n)||this;t.newViews=[];return t}a.ViewPreloaderService=t;s(t,e);var r=t.prototype;r.init=function e(){this.initPromise=new Promise(e=>{this.appComponent=this.getContext().scopeObject;e(this)})};r.setCache=function e(t,r,a){const s=t.pattern;const{path:o}=n.buildBindingPath(r,s,{});const c=[];let u=t.target;u=Array.isArray(u)?u:[u];u.forEach(e=>{const t=a.getModel();this.setCurrentCacheEntryByTargetName(e);const r=i.getCurrentCacheEntry();if(r.visitedContextPath?.startsWith(o)){c.push(Promise.resolve());return}c.push(new Promise(async n=>{const i=a.getManifest();let s=false;const c=i["sap.ui5"]["routing"]?.["targets"]?.[e]?.["options"]?.["settings"]?.preloadConfigurationProperties?.map(async e=>{const n={};const a=await this.requestPropertyOrSingleton(e,t,o);s=r.values?.[e]!==a?true:s;n[e]=a;return n})??[];const u=(await Promise.all(c)).reduce((e,t)=>{const r=Object.keys(t)[0];e[r]=t[r];return e},{});s=!r.visitedContextPath?false:s;r.visitedContextPath=o;r.values=u;r.viewShouldbeRefreshed=s;n()}))});this.setCacheReady(Promise.all(c))};r.requestPropertyOrSingleton=async function e(t,r,n){const a=t.startsWith("/");const[i,s,o]=[.../(?:(.*)\/){0,1}([^/]*)/.exec(t)];const c=a?s:n;let u;const h=r.getAllBindings().find(e=>e.getContext()?.getPath()===c&&e.getPath()===o);u=h?.getValue();if(!u){u=await r.bindProperty(`${c}/${o}`).requestValue()}return u};r.setCacheReady=function e(t){this.cacheReady=t};r.isCacheReady=async function e(){await this.cacheReady;return true};r.getCurrentCacheEntry=function e(){return i.getCurrentCacheEntry()};r.getCacheEntryByTargetName=function e(t){return i.getCacheEntryByTargetName(t,this.appComponent)};r.setCurrentCacheEntryByTargetName=function e(t){const r=this.getCacheEntryByTargetName(t)??{values:{}};i.addEntryToCache(r,t,this.appComponent)};return t}(t);a.ViewPreloaderService=c;let u=function(e){function t(){return e.apply(this,arguments)||this}a.ViewPreloaderServiceFactory=t;s(t,e);var r=t.prototype;r.createInstance=async function e(t){this.instance=new c(t);return this.instance.initPromise};r.getInstance=function e(){return this.instance};return t}(r);a.ViewPreloaderServiceFactory=u;return a},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/services/collaborativeDraftServiceFactory", ["sap/base/Log","sap/fe/core/CommonUtils","sap/fe/core/controllerextensions/collaboration/ActivityBase","sap/fe/core/controllerextensions/collaboration/CollaborationCommon","sap/fe/core/converters/MetaModelConverter","sap/fe/core/helpers/ModelHelper","sap/m/InstanceManager","sap/m/MessageBox","sap/ui/core/service/Service","sap/ui/core/service/ServiceFactory"],function(t,e,n,o,i,s,r,c,a,l){"use strict";var u={};var d=o.getActivityKeyFromPath;var g=o.CollaborationUtils;var f=o.Activity;var p=n.isCollaborationConnected;var h=n.initializeCollaboration;var C=n.endCollaboration;var y=n.broadcastCollaborationMessage;function P(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,A(t,e)}function A(t,e){return A=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},A(t,e)}const v="/collaboration/myActivities";const m="/collaboration/activeUsers";const M="/collaboration/activities";const b="/collaboration/asyncMsgQueue";const x="/collaboration/retainedMessages";const k="/collaboration/asyncMsgTimerId";const O="$auto.sync";const D=500;let F=function(n){function o(){return n.apply(this,arguments)||this}u.CollaborativeDraftService=o;P(o,n);var a=o.prototype;a.checkPathForLock=function t(e,n){const o=e.getProperty(v);if(!o){return false}else{return o.includes(n)}};a.setLock=function t(e,n){const o=e.getProperty(v)??[];if(!o.includes(n)){o.push(n)}e.setProperty(v,o)};a.removeLock=function t(e,n){const o=e.getProperty(v);if(!o||n===undefined){return false}const i=Array.isArray(n)?n:[n];const s=o.filter(t=>!i.includes(t));e.setProperty(v,s);return s.length!==o.length};a.getLockedProperties=function t(e){const n=e.getProperty(v);if(!n){return undefined}else{return n.join("|")}};a.updateLocksForContextPath=function t(e,n,o){if(!this.isConnected(e)){return}const i=e.getModel("internal");const s=i.getProperty(b);s.forEach(t=>{if(t.path.startsWith(n)){t.path=t.path.replace(n,o)}});const r=i.getProperty(v);if(r){const t=[];const s=[];r.forEach(e=>{if(e.startsWith(n)){const i=e.replace(n,o);t.push(i)}else{s.push(e)}});i.setProperty(v,s);if(t.length!==0){this.send(e,{action:f.Lock,content:t})}}};a.resetAsyncMessagesTimer=function t(e){let n=e.getProperty(k);if(n!==undefined){clearTimeout(n)}n=setTimeout(()=>{const t=e.getProperty(b);const n=[];const o=e.getProperty(x)??[];if(!t){return}t.forEach(t=>{if(o.includes(t.path)){n.push(t)}else{this.doSend(e,t.action,t.path)}});e.setProperty(b,n);e.setProperty(k,undefined);if(n.length){this.resetAsyncMessagesTimer(e)}},D);e.setProperty(k,n)};a.retainAsyncMessages=function t(e,n){const o=e.getModel("internal");const i=Array.isArray(n)?n:[n];const s=o.getProperty(x);i.forEach(t=>{if(!s.includes(t)){s.push(t)}})};a.releaseAsyncMessages=function t(e,n){const o=e.getModel("internal");const i=o.getProperty(x);const s=Array.isArray(n)?n:[n];o.setProperty(x,i.filter(t=>!s.includes(t)))};a.isConnected=function t(e){const n=e.getModel("internal");return p(n)};a.send=function t(e,n){if(this.isConnected(e)){const t=e.getModel("internal");if(n.action===f.Lock||n.action===f.Unlock){this.doSendAsync(t,n.action,n.content)}else{this.doSend(t,n.action,n.content,n.triggeredActionName,n.refreshListBinding,n.actionRequestedProperties)}}};a.doSend=function t(e,n,o,i,s,r){const c=(Array.isArray(o)?o.join("|"):o)??"";const a=r?.join("|");if(n===f.Lock){const t=(Array.isArray(o)?o[0]:o)??"";if(this.checkPathForLock(e,t)){return}else{this.setLock(e,t)}}else if(n===f.Unlock){const t=this.removeLock(e,o);if(!t){return}}y(n,c,e,i,s,a)};a.doSendAsync=function t(e,n,o){if(o===undefined){return}const i=e.getProperty(b);const s=Array.isArray(o)?o:[o];const r=i.filter(t=>!s.includes(t.path));s.forEach(t=>{r.push({path:t,action:n})});e.setProperty(b,r);this.resetAsyncMessagesTimer(e)};a.isCollaborationEnabled=function t(e){const n=e?.getBindingContext&&e.getBindingContext();return!!(n&&s.isCollaborationDraftSupported(n.getModel().getMetaModel()))};a.connect=async function t(n,o){const i=o.getModel("internal");const s=g.getMe(e.getAppComponent(o));if(!s){return}const r=await n.requestProperty("DraftAdministrativeData/DraftUUID");if(!r){return}const c=h(s,r,i,t=>{this.messageReceive(t,o)},o);if(c){i.setProperty(v,[]);i.setProperty(b,[]);i.setProperty(x,[])}};a.disconnect=function t(e){const n=e.getModel("internal");C(n)};a.userJoinDraft=function t(e,n,o,i,s){if(e.findIndex(t=>t.id===o.id)===-1){e.unshift(o);n.setProperty(m,e)}if(i.userAction===f.Join){y(f.JoinEcho,this.getLockedProperties(n),n)}if(i.userAction===f.JoinEcho){if(i.clientContent){i.userAction=f.LockEcho;this.messageReceive(i,s)}}};a.userLeaveDraft=function t(e,n,o){e=e.filter(t=>t.id!==o.id||t.me);n.setProperty(m,e);const i=n.getProperty(M)||{};const s=function(t){if(Array.isArray(t)){return t.filter(t=>t.id!==o.id)}else{for(const e in t){t[e]=s(t[e])}return t}};s(i);n.setProperty(M,i)};a.messageReceive=function t(e,n){const o=n.getModel("internal");const i=o.getProperty(m);let s;let r;const c=this.calculateMetaPath(n,e.clientContent);e.userAction=e.userAction||e.clientAction;const a={id:e.userID,name:e.userDescription,initials:g.formatInitials(e.userDescription),color:g.getUserColor(e.userID,i,[])};let l=a;switch(e.userAction){case f.Join:case f.JoinEcho:this.userJoinDraft(i,o,a,e,n);break;case f.Leave:this.userLeaveDraft(i,o,a);break;case f.Change:this.updateOnChange(n,e);break;case f.Create:this.updateOnCreate(n,e);break;case f.Delete:this.updateOnDelete(n,e);break;case f.Activate:this.draftClosedByOtherUser(n,e.clientContent,g.getText("C_COLLABORATIONDRAFT_ACTIVATE",a.name));break;case f.Discard:this.draftClosedByOtherUser(n,e.clientContent,g.getText("C_COLLABORATIONDRAFT_DISCARD",a.name));break;case f.Action:this.updateOnAction(n,e);break;case f.Lock:case f.LockEcho:l=a;l.key=d(e.clientContent);let t="";const u=c.split("/");for(let e=1;e<u.length-1;e++){t+=`/${u[e]}`;if(!o.getProperty(M+t)){o.setProperty(M+t,{})}}s=o.getProperty(M+c);s=s?.slice?s.slice():[];s.push(l);o.setProperty(M+c,s);if(e.userAction===f.LockEcho&&this.checkPathForLock(o,e.clientContent)){this.doSend(o,f.Unlock,e.clientContent)}break;case f.Unlock:s=o.getProperty(M+c);r=d(e.clientContent);o.setProperty(M+c,s?.filter(t=>t.key!==r));break}};a.draftClosedByOtherUser=function e(n,o,i){this.disconnect(n);c.information(i,{onClose:async()=>{try{await n.getBindingContext().getBinding().resetChanges();if(r.hasOpenDialog()){r.closeAllDialogs(()=>{})}this.navigate(o,n);return}catch(e){t.error("Pending Changes could not be reset - still navigating to active instance");this.navigate(o,n)}}})};a.updateOnChange=function t(e,n){const o=n.clientContent.split("|");const i=this.getCurrentPage(e);const s=i.getBindingContext();const r=o.map(async t=>this.applyUpdatesForChange(e,t));i.getController().editFlow.updateDocument(s,Promise.all(r))};a.applyUpdatesForChange=async function e(n,o){const s=n.getModel().getMetaModel();const r=s.getMetaContext(o);const c=i.getInvolvedDataModelObjects(r);const a=o.substring(0,o.lastIndexOf("/"));const l=this.findContextForUpdate(n,a);const u=a.substring(0,a.lastIndexOf("("));const d=u.substring(0,u.lastIndexOf("/"));const f=d?this.findContextForUpdate(n,d):undefined;if(!l&&!f){return}try{const t=[];const e=g.getAppComponent(n).getSideEffectsService();if(l){const n=s.getMetaPath(l.getPath());const i=s.getMetaPath(o).replace(n,"").slice(1);t.push(e.requestSideEffects([i],l,O))}const i=e.computeFieldGroupIds(c.targetEntityType.fullyQualifiedName,c.targetObject.fullyQualifiedName);if(i.length){const e=n.getController();const o=e._sideEffects.getSideEffectsMapForFieldGroups(i,l||f);Object.keys(o).forEach(n=>{const i=o[n];t.push(e._sideEffects.requestSideEffects(i.sideEffects,i.context,O,undefined,true))})}await Promise.all(t)}catch(e){t.error("Failed to update data after change:"+e);throw e}};a.updateOnDelete=function t(e,n){const o=this.getCurrentPage(e);const i=o.getBindingContext();const s=i.getPath();const r=n.clientContent.split("|");const a=r.find(t=>s.startsWith(t));if(a){c.information(g.getText("C_COLLABORATIONDRAFT_DELETE",n.userDescription),{onClose:()=>{const t=i.getModel().getKeepAliveContext(a);t.setKeepAlive(false);const n=this.applyUpdatesForCollection(e,r[0]);o.getController().editFlow.updateDocument(o.getBindingContext(),n);o.getController()._routing.navigateBackFromContext(t)}})}else{const t=this.applyUpdatesForCollection(e,r[0]);o.getController().editFlow.updateDocument(o.getBindingContext(),t)}};a.updateOnCreate=function t(e,n){const o=this.getCurrentPage(e);const i=n.clientContent.split("|");const s=this.applyUpdatesForCollection(e,i[0]);o.getController().editFlow.updateDocument(o.getBindingContext(),s)};a.applyUpdatesForCollection=async function e(n,o){const i=g.getAppComponent(n);const s=o.substring(0,o.lastIndexOf("/"));const r=this.findContextForUpdate(n,s);if(r){try{const t=[];const e=r.getModel().getMetaModel();const n=e.getMetaPath(o);const s=e.getMetaPath(r.getPath());const c=n.replace(`${s}/`,"");const a=i.getSideEffectsService();t.push(a.requestSideEffects([c],r,O));t.push(a.requestSideEffectsForNavigationProperty(c,r,O,true));await Promise.all(t)}catch(e){t.error("Failed to update data after collection update:"+e)}}};a.updateOnAction=function t(e,n){const o=this.getCurrentPage(e);const i=n.clientContent.split("|");const s=n.clientTriggeredActionName||"";const r=n.clientRequestedProperties?.split("|");const c=n.clientRefreshListBinding==="true";let a=[];if(c){a.push(this.applyUpdatesForCollection(e,i[0]))}else{a=i.map(async t=>this.requestUpdateForAction(e,t,s,r))}o.getController().editFlow.updateDocument(o.getBindingContext(),Promise.all(a))};a.requestUpdateForAction=async function t(e,n,o,s){const r=this.findContextForUpdate(e,n);if(!r){return}const c=g.getAppComponent(e);const a=c.getSideEffectsService();const l=a.getODataActionSideEffects(o,r);const u=[];if(l){if(l.pathExpressions?.length){u.push(a.requestSideEffects(l.pathExpressions,r,O))}}if(s&&s.length>0){const t=e.getModel().getMetaModel();const o=this.calculateMetaPath(e,n);const c=i.getInvolvedDataModelObjects(t.getContext(o));const l=c.targetEntityType.entityProperties.map(t=>t.name).filter(t=>s.includes(t));if(l.length>0){u.push(a.requestSideEffects(l,r,O))}}await Promise.all(u)};a.findContextForUpdate=function t(e,n){if(!n){return undefined}const o=[];while(!n.endsWith(")")){o.unshift(n);n=n.substring(0,n.lastIndexOf("/"))}o.unshift(n);const i=n.substring(0,n.lastIndexOf("("));let s;let r=this.getCurrentPage(e).getBindingContext();while(r&&!s){if(o.includes(r.getPath())){s=r}r=r.getBinding()?.getContext()}if(s){return s}const c=this.getCurrentPage(e).getBindingContext().getModel();const a=c.getAllBindings().find(t=>{const e=t.isRelative()?t.getResolvedPath():t.getPath();return t.isA("sap.ui.model.odata.v4.ODataListBinding")&&e===i});s=a?.getAllCurrentContexts().find(t=>o.includes(t.getPath()));return s};a.navigate=function t(e,n){const o=this.getCurrentPage(n);const i=n.getModel().bindContext(e).getBoundContext();if(o.getController().editFlow.getCreationMode()){o.getController()._routing.navigateBackFromContext(i)}else{o.getController()._routing.navigateToContext(i,{recreateContext:true})}};a.getCurrentPage=function t(n){const o=g.getAppComponent(n);return e.getCurrentPageView(o)};a.calculateMetaPath=function t(e,n){let o="";if(n){const t=n.split("|")[0];o=e.getModel().getMetaModel().getMetaPath(t)}return o};a.init=function t(){this.initPromise=Promise.resolve(this)};return o}(a);u.CollaborativeDraftService=F;let E=function(t){function e(){return t.apply(this,arguments)||this}u=e;P(e,t);var n=e.prototype;n.createInstance=async function t(e){const n=new F(e);return n.initPromise};return e}(l);u=E;return u},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/services/valueHelpService/HistoryOptOutProvider", ["sap/base/Log","sap/m/Button","sap/m/Dialog","sap/m/FlexBox","sap/m/HBox","sap/m/Label","sap/m/MessageBox","sap/m/Switch","sap/m/VBox","sap/ui/core/IconPool","sap/ui/core/Lib"],function(e,t,s,i,o,n,r,a,l,c,u){"use strict";var h={};let S=function(){function S(e){this.resourceBundle=u.getResourceBundleFor("sap.fe.core");this._userAction=null;this.valueHelpHistoryService=e}h=S;var T=S.prototype;T.getDialog=function e(){return this.dialog};T.createOptOutUserProfileEntry=async function t(){const s=this.valueHelpHistoryService.getShellExtensionService();let i;try{i=await s.createUserAction({text:this.resourceBundle.getText("C_HISTORY_SETTING_TITLE"),icon:c.getIconURI("history"),press:async()=>{this.historyEnabledSwitch=new a;this.dialog=this.createDialog();const e=await this.valueHelpHistoryService.getHistoryEnabled();this.historyEnabledSwitch.setState(e);this.dialog.open()}},{controlType:"sap.m.Button"});if(this._userAction){this._userAction.destroy()}this._userAction=i;i.showForCurrentApp()}catch(t){e.error("Cannot add user action",t instanceof Error?t.message:String(t))}return i};T.createDialogLayout=function e(){const s=new n({text:this.resourceBundle.getText("C_HISTORY_SETTING_ENABLE_TRACKING_DESCRIPTION"),labelFor:this.historyEnabledSwitch}).addStyleClass("sapUiSmallMarginEnd");const r=new o({alignItems:"Center",items:[s,this.historyEnabledSwitch]});const a=new t({busyIndicatorDelay:0,text:this.resourceBundle.getText("C_HISTORY_SETTING_DELETE_BUTTON"),press:this.onDeleteHistoryPress.bind(this)});const c=new n({text:this.resourceBundle.getText("C_HISTORY_SETTING_DELETE_DESCRIPTION"),labelFor:a}).addStyleClass("sapUiSmallMarginEnd");const u=new i({alignItems:"Center",items:[c,a]});return new l({items:[r,u]}).addStyleClass("sapUiSmallMargin")};T.createDialog=function e(){const i=this.createDialogLayout();const o=new t({text:this.resourceBundle.getText("C_HISTORY_SETTING_SAVE"),press:this.onSavePress.bind(this)});const n=new t({text:this.resourceBundle.getText("C_HISTORY_SETTING_CANCEL"),press:()=>this.closeDialog()});return new s("sapui5.history.optOutDialog",{title:this.resourceBundle.getText("C_HISTORY_SETTING_TITLE"),content:[i],buttons:[o,n],afterClose:()=>{this.dialog?.destroy();this.dialog=undefined;this.historyEnabledSwitch=undefined}})};T.onDeleteHistoryPress=function e(t){const s=t.getSource();s.setBusy(true);r.confirm(this.resourceBundle.getText("C_HISTORY_SETTING_DELETE_CONFIRM_MESSAGE"),{onClose:async e=>{if(e==="CANCEL"){return}await this.valueHelpHistoryService.deleteHistoryForAllApps().then(function(){return window.location.reload()});this.closeDialog()}});s.setBusy(false)};T.onSavePress=function e(){r.confirm(this.resourceBundle.getText("C_HISTORY_SETTING_SAVE_CONFIRM_MESSAGE"),{onClose:async e=>{if(e==="CANCEL"){return}const t=this.historyEnabledSwitch?.getState()??false;await this.valueHelpHistoryService.setHistoryEnabled(t);this.closeDialog()}})};T.closeDialog=function e(){this.dialog?.close()};return S}();h=S;return h},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/services/view/TemplatingErrorPage.controller", ["sap/fe/base/ClassSupport","sap/fe/core/controllerextensions/InternalRouting","sap/ui/core/mvc/Controller"],function(e,r,t){"use strict";var i,n,o,a,l;var u=e.usingExtension;var c=e.defineUI5Class;function s(e,r,t,i){t&&Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(i):void 0})}function f(e,r){e.prototype=Object.create(r.prototype),e.prototype.constructor=e,p(e,r)}function p(e,r){return p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,r){return e.__proto__=r,e},p(e,r)}function b(e,r,t,i,n){var o={};return Object.keys(i).forEach(function(e){o[e]=i[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=t.slice().reverse().reduce(function(t,i){return i(e,r,t)||t},o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer?(Object.defineProperty(e,r,o),null):o}function v(e,r){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let d=(i=c("sap.fe.core.services.view.TemplatingErrorPage"),n=u(r),i(o=(a=function(e){function r(){var r;for(var t=arguments.length,i=new Array(t),n=0;n<t;n++){i[n]=arguments[n]}r=e.call(this,...i)||this;s(r,"_routing",l,r);return r}f(r,e);return r}(t),l=b(a.prototype,"_routing",[n],{configurable:true,enumerable:true,writable:true,initializer:null}),a))||o);return d},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/support/AnnotationIssue.support", ["sap/fe/core/converters/helpers/IssueManager", "sap/fe/core/support/CommonHelper"], function (IssueManager, CommonHelper) {
  "use strict";

  var _exports = {};
  var getIssueByCategory = CommonHelper.getIssueByCategory;
  var Categories = CommonHelper.Categories;
  var Audiences = CommonHelper.Audiences;
  var IssueCategory = IssueManager.IssueCategory;
  const oIncorrectPathAnnotationIssue = {
    id: "annotationIssue",
    title: "Annotations: Incorrect path or target",
    minversion: "1.85",
    audiences: [Audiences.Application],
    categories: [Categories.Usage],
    description: "This rule identifies the incorrect path or targets defined in the metadata of the annotation.xml file or CDS annotations.",
    resolution: "Please review the message details for more information.",
    resolutionurls: [{
      text: "CDS Annotations reference",
      href: "https://cap.cloud.sap/docs/cds/common"
    }],
    check: function (oIssueManager, oCoreFacade) {
      getIssueByCategory(oIssueManager, oCoreFacade, IssueCategory.Annotation);
    }
  };
  const oIgnoredComputedDVAnnotationIssue = {
    id: "ignoredAnnotationIssue",
    title: "Annotations: Ignore Annotation",
    minversion: "1.99",
    audiences: [Audiences.Application],
    categories: [Categories.Usage],
    description: "This rule identifies the ignored annotations",
    resolution: "Only one annotation from either Core.Computed or ComputedDefaultValue must be used",
    check: function (oIssueManager, oCoreFacade) {
      getIssueByCategory(oIssueManager, oCoreFacade, IssueCategory.Annotation, "IgnoredAnnotation");
    }
  };
  function getRules() {
    return [oIncorrectPathAnnotationIssue, oIgnoredComputedDVAnnotationIssue];
  }
  _exports.getRules = getRules;
  return _exports;
}, false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/support/CollectionFacetMissingID.support", ["sap/fe/core/converters/helpers/IssueManager", "sap/fe/core/support/CommonHelper"], function (IssueManager, CommonHelper) {
  "use strict";

  var _exports = {};
  var getIssueByCategory = CommonHelper.getIssueByCategory;
  var Categories = CommonHelper.Categories;
  var Audiences = CommonHelper.Audiences;
  var IssueCategory = IssueManager.IssueCategory;
  const oCollectionFacetMissingIDIssue = {
    id: "collectionFacetMissingId",
    title: "CollectionFacet: Missing IDs",
    minversion: "1.85",
    audiences: [Audiences.Application],
    categories: [Categories.Usage],
    description: "A collection facet requires an ID in the annotation file to derive a control ID from it.",
    resolution: "Always provide a unique ID to a collection facet.",
    resolutionurls: [{
      text: "CollectionFacets",
      href: "https://ui5.sap.com/#/topic/facfea09018d4376acaceddb7e3f03b6"
    }],
    check: function (oIssueManager, oCoreFacade) {
      getIssueByCategory(oIssueManager, oCoreFacade, IssueCategory.Facets, "MissingID");
    }
  };
  function getRules() {
    return [oCollectionFacetMissingIDIssue];
  }
  _exports.getRules = getRules;
  return _exports;
}, false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/support/CollectionFacetUnsupportedLevel.support", ["sap/fe/core/converters/helpers/IssueManager", "sap/fe/core/support/CommonHelper"], function (IssueManager, CommonHelper) {
  "use strict";

  var _exports = {};
  var getIssueByCategory = CommonHelper.getIssueByCategory;
  var Categories = CommonHelper.Categories;
  var Audiences = CommonHelper.Audiences;
  var IssueCategory = IssueManager.IssueCategory;
  const oCollectionFacetUnsupportedLevelIssue = {
    id: "collectionFacetUnsupportedLevel",
    title: "CollectionFacet: Unsupported Levels",
    minversion: "1.80",
    audiences: [Audiences.Application],
    categories: [Categories.Usage],
    description: "Collection facets at level 3 or lower (level 4, 5…) are not supported and will not be visible on the UI.",
    resolution: "At level 3 you can only use reference facets, but not collection facets.",
    resolutionurls: [{
      text: "CollectionFacets",
      href: "https://ui5.sap.com/#/topic/facfea09018d4376acaceddb7e3f03b6"
    }],
    check: function (oIssueManager, oCoreFacade) {
      getIssueByCategory(oIssueManager, oCoreFacade, IssueCategory.Facets, "UnsupportedLevel");
    }
  };
  function getRules() {
    return [oCollectionFacetUnsupportedLevelIssue];
  }
  _exports.getRules = getRules;
  return _exports;
}, false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/support/CommonHelper", ["sap/fe/core/converters/helpers/IssueManager","sap/ui/support/library"],function(e,t){"use strict";var s={};var r=e.IssueSeverity;var a=e.IssueCategory;const i=t.Categories,n=t.Severity,o=t.Audiences;s.Categories=i;s.Audiences=o;s.Severity=n;const c=function(e){switch(e){case r.Low:return n.Low;case r.High:return n.High;case r.Medium:return n.Medium}};s.getSeverity=c;const u=function(e,t,s,r){const i=t.getComponents();let n;Object.keys(i).forEach(e=>{const t=i[e];if(t?.getMetadata()?.getParent()?.getName()==="sap.fe.core.AppComponent"){n=t}});if(n){const t=n.getDiagnostics().getIssuesByCategory(a[s],r);t.forEach(function(t){e.addIssue({severity:c(t.severity),details:t.details,context:{id:t.category}})})}};s.getIssueByCategory=u;return s},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/support/Diagnostics", [],function(){"use strict";let s=function(){function s(){this._issues=[]}var e=s.prototype;e.addIssue=function s(e,t,i,r,u){const n=this.checkIfIssueExists(e,t,i,r,u);if(!n){this._issues.push({category:e,severity:t,details:i,subCategory:u})}};e.getIssues=function s(){return this._issues};e.getIssuesByCategory=function s(e,t){if(t){return this._issues.filter(s=>s.category===e&&s.subCategory===t)}else{return this._issues.filter(s=>s.category===e)}};e.checkIfIssueExists=function s(e,t,i,r,u){if(r&&r[e]&&u){return this._issues.some(s=>s.category===e&&s.severity===t&&s.details.replace(/\n/g,"")===i.replace(/\n/g,"")&&s.subCategory===u)}return this._issues.some(s=>s.category===e&&s.severity===t&&s.details.replace(/\n/g,"")===i.replace(/\n/g,""))};return s}();return s},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/support/InvalidAnnotationColumnKey.support", ["sap/fe/core/converters/helpers/IssueManager", "sap/fe/core/support/CommonHelper"], function (IssueManager, CommonHelper) {
  "use strict";

  var _exports = {};
  var getIssueByCategory = CommonHelper.getIssueByCategory;
  var Categories = CommonHelper.Categories;
  var Audiences = CommonHelper.Audiences;
  var IssueCategory = IssueManager.IssueCategory;
  const oInvalidAnnotationColumnKey = {
    id: "invalidAnnotationColumnKey",
    title: "AnnotationColumnKey: Invalid Key",
    minversion: "1.98",
    audiences: [Audiences.Application],
    categories: [Categories.Usage],
    description: "The key of the annotation column is needed as a valid identifier in the application manifest.",
    resolution: "A column key set in the application manifest must correspond to an existing annotation column.",
    resolutionurls: [{
      text: "InvalidAnnotationColumnKey",
      href: "https://ui5.sap.com/#/topic/d525522c1bf54672ae4e02d66b38e60c"
    }],
    check: function (oIssueManager, oCoreFacade) {
      getIssueByCategory(oIssueManager, oCoreFacade, IssueCategory.Manifest, "InvalidKey");
    }
  };
  function getRules() {
    return [oInvalidAnnotationColumnKey];
  }
  _exports.getRules = getRules;
  return _exports;
}, false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/templating/ActionHelper", ["sap/fe/base/BindingToolkit","../converters/MetaModelConverter","../helpers/BindingHelper","./FieldControlHelper"],function(e,t,n,r){"use strict";var o={};var i=r.isActionParameterRequiredExpression;var s=n.bindingContextPathVisitor;var a=t.convertTypes;var c=e.getExpressionFromAnnotation;var u=e.equal;var l=e.compileExpression;function d(e,t){const n=e.isBound?e.parameters[0]?.fullyQualifiedName:undefined;const r=c(e.annotations.Common?.IsActionCritical,[],undefined,e=>s(e,t,n));return u(r,true)}o.getIsActionCriticalExpression=d;const f=function(e){const t=e.getInterface(0).getPath();const n=e.getInterface(1).getPath();const r=e.getInterface(0).getModel();if(t&&n&&r){const e=a(r);const o=e.resolvePath(t);const s=o.target;const c=e.resolvePath(n);const u=c.target;if(s&&u){return l(i(s,u,e))}}};f.requiresIContext=true;o.isActionParameterRequired=f;return o},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/templating/CommonFormatters", ["sap/fe/base/BindingToolkit","sap/fe/core/formatters/ValueFormatter","sap/fe/core/helpers/TypeGuards","sap/fe/core/templating/DataModelPathHelper","sap/fe/core/templating/UIFormatters","../converters/helpers/DataFieldHelper"],function(t,e,a,n,r,o){"use strict";var s={};var i=o.isReferencePropertyStaticallyHidden;var c=n.getRelativePaths;var l=n.getContextRelativeTargetObjectPath;var p=n.enhanceDataModelPath;var g=a.isPropertyPathExpression;var f=a.isPathAnnotationExpression;var u=t.pathInModel;var d=t.getExpressionFromAnnotation;var h=t.formatWithTypeInformation;var v=t.formatResult;var m=t.compileExpression;const b=function(t){return m(t)};s.getExpressionBinding=b;const x=function(t,a,n,o){const s=n?.displayMode;let i=a;const l=g(t.targetObject)?t.targetObject.$target:t.targetObject;const p=s||r.getDisplayMode(t);const f=l?.annotations?.Common?.Text;const u=c(t);const m=o||e.formatWithBrackets;a=l&&h(l,a);if(p!=="Value"&&f){switch(p){case"Description":i=d(f,u);break;case"DescriptionValue":i=v([d(f,u),a],m);break;case"ValueDescription":i=v([a,d(f,u)],m);break}}return i};s.getBindingWithTextArrangement=x;const D=function(t,e){let a;if(f(t?.targetObject)){a=p(t,t.targetObject?.path)}else{a=t}const n=a.targetObject;let r=u(l(a));r=h(n,r,true);const o=x(a,r,{},e);return n.annotations.UI&&!i(n.annotations.UI.DataFieldDefault)&&m(o)||undefined};s.getBindingWithText=D;return s},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/templating/CriticalityFormatters", ["sap/fe/base/BindingToolkit","sap/fe/core/formatters/CriticalityFormatter","sap/fe/core/templating/DataModelPathHelper"],function(i,t,r){"use strict";var e={};var n=r.getRelativePaths;var o=i.pathInModel;var a=i.or;var c=i.ifElse;var s=i.getExpressionFromAnnotation;var l=i.equal;var y=i.constant;var p=i.compileExpression;const C=(i,r)=>{const e=r?n(r):undefined;const a=i.targetObject??i;if(a.Criticality){const i=t.getCriticality(a.Criticality);if(i){return y(i)}return o(`${a.fullyQualifiedName}@$ui5.fe.virtual.criticality`,undefined,e)}return y(undefined)};const u=(i,t)=>{const r=t?y("sap-icon://error"):y("attention");const e=t?y("sap-icon://warning"):y("warning");const n=t?y("sap-icon://status-positive"):y("good");const o=t?c(a(l(i,y("UI.CriticalityType/Information")),l(i,y(5)),l(i,y("5"))),y("sap-icon://information"),y("")):y("default");return c(a(l(i,y("UI.CriticalityType/Negative")),l(i,y(1)),l(i,y("1"))),r,c(a(l(i,y("UI.CriticalityType/Critical")),l(i,y(2)),l(i,y("2"))),e,c(a(l(i,y("UI.CriticalityType/Positive")),l(i,y(3)),l(i,y("3"))),n,o)))};e.getCriticalityExpressionForCards=u;const I=i=>{if(i){const t=s(i);return p(c(a(l(t,y("UI.CriticalityType/Negative")),l(t,y(1)),l(t,y("1"))),y("Error"),c(a(l(t,y("UI.CriticalityType/Critical")),l(t,y(2)),l(t,y("2"))),y("Warning"),c(a(l(t,y("UI.CriticalityType/Positive")),l(t,y(3)),l(t,y("3"))),y("Success"),c(a(l(t,y("UI.CriticalityType/Information")),l(t,y(5)),l(t,y("5"))),y("Information"),y("None"))))))}};e.criticalityExpressionForIntegrationCards=I;const f=i=>{const t=i?.Criticality;const r=s(t);const e=i.CriticalityRepresentation&&i.CriticalityRepresentation==="UI.CriticalityRepresentationType/WithoutIcon";let n;if(!e){if(t){n=u(r,true)}else{n=y("")}}else{n=y("")}return p(n)};e.criticalityIconExpressionForIntegrationCards=f;const d=(i,t,r)=>{const e=C(i,t);return p(c(l(e,y("UI.CriticalityType/Negative")),y(r?.Negative??"Error"),c(l(e,y("UI.CriticalityType/Critical")),y(r?.Critical??"Warning"),c(l(e,y("UI.CriticalityType/Positive")),y(r?.Positive??"Success"),c(l(e,y("UI.CriticalityType/Information")),y(r?.Information??"Information"),y(r?.Neutral??"None"))))))};e.buildExpressionForCriticalityColor=d;const g=(i,t)=>{const r=i.targetObject??i;const e=C(r,t);const n=r.CriticalityRepresentation==="UI.CriticalityRepresentationType/WithoutIcon";let o;if(!n){o=c(l(e,y("UI.CriticalityType/Negative")),y("sap-icon://error"),c(l(e,y("UI.CriticalityType/Critical")),y("sap-icon://warning"),c(l(e,y("UI.CriticalityType/Positive")),y("sap-icon://status-positive"),c(l(e,y("UI.CriticalityType/Information")),y("sap-icon://information"),y("")))))}else{o=y("")}return p(o)};e.buildExpressionForCriticalityIcon=g;const v=i=>{const t=C(i);return p(c(l(t,y(undefined)),y("Ghost"),c(l(t,y("UI.CriticalityType/Negative")),y("Reject"),c(l(t,y("UI.CriticalityType/Positive")),y("Accept"),y("Default")))))};e.buildExpressionForCriticalityButtonType=v;const T=i=>{const t=i?.targetObject??i;const r=U(t);return p(r)};e.buildExpressionForCriticalityColorMicroChart=T;const U=function(i){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{error:"Error",critical:"Critical",good:"Good",neutral:"Neutral"};const r=C(i);return c(l(r,y("UI.CriticalityType/Negative")),y(t.error),c(l(r,y("UI.CriticalityType/Critical")),y(t.critical),c(l(r,y("UI.CriticalityType/Positive")),y(t.good),y(t.neutral))))};e.buildExpressionForCriticality=U;return e},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/templating/DataFieldFormatters", ["sap/fe/base/BindingToolkit","sap/fe/core/converters/MetaModelConverter","sap/fe/core/helpers/BindingHelper","sap/fe/core/helpers/TypeGuards","sap/fe/core/templating/DataModelPathHelper","sap/fe/core/templating/UIFormatters"],function(t,e,a,o,n,r){"use strict";var i={};var s=r.isVisible;var c=r.getConverterContext;var l=n.getRelativePaths;var u=n.enhanceDataModelPath;var p=o.isProperty;var v=o.isPathAnnotationExpression;var d=o.isAnnotationPath;var f=a.UI;var g=e.getInvolvedDataModelObjects;var h=t.or;var b=t.not;var y=t.ifElse;var m=t.equal;var $=t.constant;var F=t.concat;var I=t.compileExpression;var P=t.and;const T=function(t,e){const a=e.context.getPath();if(!t){throw new Error(`Unresolved context path ${a}`)}if(typeof t==="object"&&t.hasOwnProperty("$kind")&&t.$kind!=="Property"){throw new Error(`Context does not resolve to a DataField object but to a ${t.$kind}`)}let o=c(t,e);if(d(o)||v(o)){o=o.$target}return o};i.getDataField=T;const U=function(t,e){const a=e.context.getPath();if(!t){throw new Error(`Unresolved context path ${a}`)}if(typeof t==="object"&&t.hasOwnProperty("$kind")&&t.$kind!=="Property"){throw new Error(`Context does not resolve to a Property object but to a ${t.$kind}`)}let o=g(e.context);if(o.targetObject&&v(o.targetObject)){o=u(o,o.targetObject.path)}if(o.targetObject&&d(o.targetObject)){o=u(o,o.targetObject.value)}if(a.endsWith("$Path")||a.endsWith("$AnnotationPath")){o=u(o,t)}return o};i.getDataFieldObjectPath=U;const j=function(t,e){const a=T(t,e);return a.$Type==="com.sap.vocabularies.UI.v1.ConnectedFieldsType"};i.isSemanticallyConnectedFields=j;const D=function(t,e){const a=T(t,e);return a.$Type==="com.sap.vocabularies.UI.v1.FieldGroupType"};i.isFieldGroup=D;const O=function(t,e){const a=T(t,e);return a.Value?.$target?.type==="Edm.Boolean"};i.isBooleanFieldGroupItem=O;const x=function(t,e){const a=T(t,e);return a.annotations?.UI?.MultiLineText?.valueOf()===true};i.isMultiLineText=x;const w=/(?:({[^}]+})[^{]*)/g;const E=/{([^}]+)}(.*)/;const k=function(t,e){let a=arguments.length>2&&arguments[2]!==undefined?arguments[2]:true;const o=t.targetObject;const n=o.Template.toString().match(w);if(!n){return""}const r=n.reduce((a,n)=>{const r=n.match(E);if(r&&r.length>1){const n=r[1];const i=o.Data[n];if(i){const o=u(t,i.fullyQualifiedName.replace(t.targetEntityType.fullyQualifiedName,""));o.targetObject=o.targetObject.Value;a.push(e(o,{}));if(r.length>2){a.push($(r[2]))}}}return a},[]);return a?I(F(...r)):F(...r)};i.getLabelForConnectedFields=k;const A=function(t,e){let a;let o;const n=t.targetObject;if(n&&!p(n)){switch(n.$Type){case"com.sap.vocabularies.UI.v1.DataField":case"com.sap.vocabularies.UI.v1.DataFieldWithUrl":case"com.sap.vocabularies.UI.v1.DataFieldWithNavigationPath":case"com.sap.vocabularies.UI.v1.DataFieldWithIntentBasedNavigation":case"com.sap.vocabularies.UI.v1.DataFieldWithAction":case"com.sap.vocabularies.UI.v1.DataPointType":a=n.Value.$target;o=u(t,n.Value.path);break;case"com.sap.vocabularies.UI.v1.DataFieldForAnnotation":if(n?.Target?.$target?.$Type==="com.sap.vocabularies.UI.v1.DataPointType"){a=n.Target.$target?.Value.$target;o=u(t,n.Target.value);o=u(o,n.Target.$target?.Value.path);break}case"com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation":case"com.sap.vocabularies.UI.v1.DataFieldForAction":default:a=undefined}}else if(n&&p(n)){o=u(t,n)}const r=e?.isAnalytics?f.IsExpanded:$(false);const i=e?.isAnalytics?m(f.NodeLevel,0):$(false);return P(...[s(t.targetObject,l(t)),y(!!a,a&&s(a,l(o)),true),h(b(r),i)])};i.generateVisibleExpression=A;return i},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/templating/DataModelPathHelper", ["sap/fe/base/BindingToolkit","sap/fe/core/helpers/TypeGuards"],function(t,e){"use strict";var n={};var i=e.isServiceObject;var r=e.isPropertyPathExpression;var a=e.isProperty;var o=e.isPathAnnotationExpression;var s=e.isNavigationProperty;var c=e.isMultipleNavigationProperty;var l=e.isEntityType;var g=e.isEntitySet;var f=e.isComplexType;var u=e.isAnnotationTerm;var p=t.unresolvableExpression;var y=t.isConstant;var d=t.getExpressionFromAnnotation;var h=t.equal;var v=t.constant;const P=function(t,e){return b(t?.contextLocation,t?.navigationProperties,e).map(t=>t.name)};n.getRelativePaths=P;const b=function(t){let e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];let n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;const i=t=>{let e=0;while(t.length>1&&e!=t.length-1){const n=t[e];const i=t[e+1];if(s(n)&&n.partner===i.name){t.splice(e,2)}else{e++}}return t};const r=(t,e,n)=>{const i=[];t.forEach((t,r)=>{if(e[r]!==t){i.push(n?t:e[r])}});return i};if(!t){return e}if(e.length>=t.navigationProperties.length){let a=r(t.navigationProperties,e,false);a=a.concat(e.slice(t.navigationProperties.length));return n?a:i(a)}let a=r(e,t.navigationProperties,true);a=a.concat(t.navigationProperties.slice(e.length));if(!n){i(a)}a=a.map(t=>s(t)?t.targetType.navigationProperties.find(e=>e.name===t.partner):t);return a};n.getPathRelativeLocation=b;const O=function(t,e){let n="";if(o(e)){n=e.path}else if(typeof e==="string"){n=e}let i;if(o(e)){i=e.$target}else if(E(t)){i=t.convertedTypes.resolvePath(`${S(t)}/${n}`)?.target}else{if(n.startsWith("/")){n=n.substring(1)}i=t.targetEntityType.resolvePath(n)}const r=n.split("/");let a=t;for(const t of r){a=j(a,t)}a.targetObject=i;return a};n.enhanceDataModelPath=O;const j=function(t,e){let n;let i;const r=t.navigationProperties.concat();const a=r.length;const o=a?r[a-1].targetType:t.targetEntityType;if(!o){return t}else if(l(o)||f(o)){const a=t.targetEntitySet;const s=o.navigationProperties.find(t=>t.name===e);if(s){r.push(s);i=s.targetType;const t=m(r);if(t&&a?.navigationPropertyBinding.hasOwnProperty(t)){n=a.navigationPropertyBinding[t]}}else{const t=(o.entityProperties||o.properties).find(t=>t.name===e);if(t?.targetType?._type==="ComplexType"){r.push(t)}}}return{startingEntitySet:t.startingEntitySet,navigationProperties:r,contextLocation:t.contextLocation,targetEntitySet:n??t.targetEntitySet,targetEntityType:i??t.targetEntityType,targetObject:t.targetObject,convertedTypes:t.convertedTypes}};const E=function(t){return t.navigationProperties.find(t=>f(t?.targetType))!==undefined};const m=function(t){const e=t.length;if(e){const n=t[e-1];const i=f(n.targetType);let r="";if(e>1&&!i){for(let n=0;n<e-1;n++){const e=t[n];if(f(e.targetType)){r+=`${e.name}/`}else{r=""}}}return i?"":`${r}${n.name}`}return""};const T=function(t){const e=`/${t.startingEntitySet.name}`;let n=e;let i=t.startingEntitySet;const r=t.navigationProperties;let a;for(let t=0;t<r.length;t++){a=m(r.slice(0,t+1));if(i&&i.navigationPropertyBinding.hasOwnProperty(a)){n+=`/$NavigationPropertyBinding/${a.replace("/","%2F")}`;i=i.navigationPropertyBinding[a]}}n+="/$";return n};n.getTargetEntitySetPath=T;const S=function(t){let e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;let n="";if(!t.startingEntitySet){return"/"}if(!e){n+=`/${t.startingEntitySet.name}`}if(t.navigationProperties.length>0){n=Q(n);n+=t.navigationProperties.map(t=>t.name).join("/")}return n};n.getTargetNavigationPath=S;const $=function(t){let e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;let n=S(t,e);if(i(t.targetObject)&&!s(t.targetObject)&&!l(t.targetObject)&&!g(t.targetObject)&&(!a(t.targetObject)||!f(t.targetObject?.targetType))&&t.targetObject!==t.startingEntitySet){n=Q(n);n+=`${t.targetObject.name}`}else if(t.targetObject&&u(t.targetObject)){n=Q(n);n+=`@${t.targetObject.term}`;if(t.targetObject.hasOwnProperty("qualifier")&&!!t.targetObject.qualifier){n+=`#${t.targetObject.qualifier}`}}return n};n.getTargetObjectPath=$;const x=function(t){let e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;let n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;if(t.contextLocation?.startingEntitySet!==t.startingEntitySet){return $(t)}return N(t,e,n)};n.getContextRelativeTargetObjectPath=x;const N=function(t){let e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;let n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;if(!t.targetObject){return undefined}const o=b(t.contextLocation,t.navigationProperties);if(e){if(o.some(c)){return undefined}}let p=n?o.map(t=>{const e=c(t);return e?`${t.name}*`:t.name}).join("/"):o.map(t=>t.name).join("/");if((i(t.targetObject)&&t.targetObject.name||r(t.targetObject)&&t.targetObject.value)&&!s(t.targetObject)&&!l(t.targetObject)&&!g(t.targetObject)&&(!a(t.targetObject)||!f(t.targetObject?.targetType))&&t.targetObject!==t.startingEntitySet){p=Q(p);p+=r(t.targetObject)?`${t.targetObject.value}`:`${t.targetObject.name}`}else if(u(t.targetObject)){p=Q(p);p+=`@${t.targetObject.term}`;if(t.targetObject.hasOwnProperty("qualifier")&&!!t.targetObject.qualifier){p+=`#${t.targetObject.qualifier}`}}return p};const R=function(t,e){let n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:true;const i=n?t.contextLocation:t;const r=i?.navigationProperties?.slice(-1)[0];const a=e(r?.annotations?.Capabilities);return a?.length?a:e(i?.targetEntitySet?.annotations?.Capabilities)||[]};n.getContextPropertyRestriction=R;const C=function(t,e){return k(t,t=>t?.UpdateRestrictions?.Updatable,e)};n.isPathUpdatable=C;const L=function(t,e){return t.targetEntityType.annotations.Aggregation?.[`RecursiveHierarchy#${e}`]?.ParentNavigationProperty.$target?.fullyQualifiedName};n.getHierarchyParentNavigationPropertyPath=L;const F=function(t){const e=t.targetObject?.annotations?.Capabilities?.UpdateRestrictions?.NonUpdatableNavigationProperties;if(e&&e?.length>0){return e.map(e=>t.contextLocation&&O(t.contextLocation,e.value).targetObject.fullyQualifiedName)}return t.targetEntitySet?.annotations.Capabilities?.UpdateRestrictions?.NonUpdatableNavigationProperties?.map(t=>t.$target?.fullyQualifiedName)};n.getNonUpdatableNavigationProperties=F;const U=function(t,e){return k(t,t=>t?.SearchRestrictions?.Searchable,e)};n.isPathSearchable=U;const B=function(t,e){return k(t,t=>t?.DeleteRestrictions?.Deletable,e)};n.isPathDeletable=B;const q=function(t,e){return k(t,t=>t?.InsertRestrictions?.Insertable,e)};n.isPathInsertable=q;const w=function(t,e){return k(t,t=>t?.FilterRestrictions?.Filterable,e)};n.isPathFilterable=w;const A=function(t,e){return k(t,n=>{if(n&&"FilterRestrictions"in n){const i=n?.FilterRestrictions?.FilterExpressionRestrictions||[];const r=i.find(e=>e.Property.$target===t.targetObject);if(r){return e.includes(r?.AllowedExpressions?.toString())}else{return false}}else{return false}})};n.checkFilterExpressionRestrictions=A;const D=t=>{let e=false;let n=[];let i=t.startingEntitySet;let r=null;let o=i;let s="";for(const c of t.navigationProperties){if(e){n=[]}n.push(c.name);s=n.join("/");if(a(c)||!c.containsTarget){if(i&&i.navigationPropertyBinding.hasOwnProperty(s)){r=i;i=i.navigationPropertyBinding[s];o=i;e=true}else{r=i;i=null;e=true}}else{r=i;o=null}}return{parentEntitySet:r,targetEntitySet:o,parentNavigationPath:s}};n.getTargetEntitySetInfo=D;const I=(t,e,n)=>{const i=t.navigationProperties;const{parentEntitySet:r,parentNavigationPath:a}=D(t);let o,s;for(const c of r?.annotations?.Capabilities?.NavigationRestrictions?.RestrictedProperties??[]){if(a===c.NavigationProperty.value){const r=e(c)?.valueOf();if(r!==undefined){if(y(d(r))){o=v(r)}else{const e=i.slice(0,-1);s=e;if(t.contextLocation&&s.length<t.contextLocation?.navigationProperties.length&&!i[i.length-1].partner){o=undefined}else{const e=b(t.contextLocation,s).map(t=>t.name);const i=n?.pathVisitor?H(n.pathVisitor,e):undefined;o=h(d(r,e,undefined,i),true)}}}}}return o};const V=(t,e,n)=>{const i=t.targetEntityType;let r;const{targetEntitySet:a}=D(t);let o=e(a?.annotations?.Capabilities);if(a===null&&o===undefined){o=e(i?.annotations?.Capabilities)}if(o!==undefined){const e=P(t);const i=n?.pathVisitor?H(n.pathVisitor,e):undefined;r=h(d(o,e,undefined,i),true)}return r};const k=function(t,e,n){if(!t||!t.startingEntitySet){return v(true)}t=O(t,n?.propertyPath);const i=I(t,e,n);const r=n?.ignoreTargetCollection?undefined:V(t,e,n);return i||r||(n?.authorizeUnresolvable?p:v(true))};n.checkOnPath=k;const Q=function(t){if(t.length&&!t.endsWith("/")){return`${t}/`}return t};const H=function(t,e){return function(n){return t(n,e)}};return n},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/templating/DisplayModeFormatter", ["sap/fe/core/helpers/TypeGuards"],function(e){"use strict";var t={};var a=e.isPropertyPathExpression;var o=e.isPathAnnotationExpression;const n={"sap.ui.model.odata.type.Boolean":"Edm.Boolean","sap.ui.model.odata.type.Byte":"Edm.Byte","sap.ui.model.odata.type.Date":"Edm.Date","sap.ui.model.odata.type.DateTimeOffset":"Edm.DateTimeOffset","sap.ui.model.odata.type.Decimal":"Edm.Decimal","sap.ui.model.odata.type.Double":"Edm.Double","sap.ui.model.odata.type.Guid":"Edm.Guid","sap.ui.model.odata.type.Int16":"Edm.Int16","sap.ui.model.odata.type.Int32":"Edm.Int32","sap.ui.model.odata.type.Int64":"Edm.Int64","sap.ui.model.odata.type.SByte":"Edm.SByte","sap.ui.model.odata.type.Single":"Edm.Single","sap.ui.model.odata.type.Stream":"Edm.Stream","sap.ui.model.odata.type.TimeOfDay":"Edm.TimeOfDay","sap.ui.model.odata.type.String":"Edm.String"};t.ODATA_TYPE_MAPPING=n;const i=function(e,t){if(!e||typeof e==="string"){return"Value"}const n=(o(e)||a(e))&&e.$target||e;const i=t&&t.targetEntityType;const s=n.annotations?.Common?.Text;const d=typeof s!=="string"&&s?.annotations?.UI?.TextArrangement?.toString()||i?.annotations?.UI?.TextArrangement?.toString();let p=s?"DescriptionValue":"Value";if(s&&d||i?.annotations?.UI?.TextArrangement?.toString()){if(d==="UI.TextArrangementType/TextOnly"){p="Description"}else if(d==="UI.TextArrangementType/TextLast"){p="ValueDescription"}else if(d==="UI.TextArrangementType/TextSeparate"){p="Value"}else{p="DescriptionValue"}}return p};t.getDisplayMode=i;return t},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/templating/EntitySetHelper", ["sap/fe/core/helpers/TypeGuards","./DataModelPathHelper"],function(e,t){"use strict";var r={};var n=t.getTargetEntitySetInfo;var i=e.isEntitySet;const o=function(e,t,r){const n={nonSortableProperties:s(e,t,r),nonFilterableProperties:p(e,t,r)};const i={nonSortableProperties:l(e,t,r),nonFilterableProperties:f(e,t,r)};return{nonSortableProperties:Array.from(new Set([...n.nonSortableProperties,...i.nonSortableProperties])),nonFilterableProperties:Array.from(new Set([...n.nonFilterableProperties,...i.nonFilterableProperties]))}};const a=function(e){let t={nonSortableProperties:[],nonFilterableProperties:[]};const r=e.getDataModelObjectPath();const{parentEntitySet:a,targetEntitySet:s,parentNavigationPath:l}=n(r);if(i(s)){return o(s)}else if(a&&i(a)){return o(a,undefined,l)}return t};r.getRestrictionsOnProperties=a;function s(e,t,r){const n=[];e.annotations.Capabilities?.NavigationRestrictions?.RestrictedProperties?.forEach(e=>{if(r&&r!==e?.NavigationProperty?.value){return}if(e?.SortRestrictions?.Sortable===false){const t=e.NavigationProperty.$target;if(t){n.push(...u(t,e,r))}}else{const i=e?.SortRestrictions?.NonSortableProperties?.map(e=>c(e,t,r));if(i?.length){n.push(...i)}}});return n}function l(e,t,r){const n=[];if(e.annotations.Capabilities?.SortRestrictions?.Sortable===false){n.push(...e.entityType.entityProperties.map(e=>e.name))}else{const i=[];e.annotations.Capabilities?.SortRestrictions?.NonSortableProperties?.forEach(e=>{if(r&&!e.value.includes(r)){return}i.push(c(e,t,r))});if(i?.length){n.push(...i)}}return n}function p(e,t,r){const n=[];e.annotations.Capabilities?.NavigationRestrictions?.RestrictedProperties?.forEach(e=>{if(r&&!e?.NavigationProperty?.value.includes(r)){return}if(e?.FilterRestrictions?.Filterable===false){const t=e.NavigationProperty.$target;if(t){n.push(...u(t,e,r))}}else{const i=e?.FilterRestrictions?.NonFilterableProperties?.map(e=>c(e,t,r));if(i?.length){n.push(...i)}}});return n}function u(e,t,r){if(r){if(t?.NavigationProperty?.value!==e.name){const n=t?.NavigationProperty?.value.replace(`${r}/`,"");return e.targetType.entityProperties.map(e=>`${n}/${e.name}`)}else{return e.targetType.entityProperties.map(e=>e.name)}}else{return e.targetType.entityProperties.map(t=>`${e.name}/${t.name}`)}}function c(e,t,r){if(r&&e.value.includes(r)){return e.value.replace(`${r}/`,"")}else if(t&&e.$target?.name){return e.$target?.name}else{return e.value}}function f(e,t,r){const n=[];if(e.annotations.Capabilities?.FilterRestrictions?.Filterable===false){n.push(...e.entityType.entityProperties.map(e=>e.name))}else{const i=[];e.annotations.Capabilities?.FilterRestrictions?.NonFilterableProperties?.forEach(e=>{if(r&&!e.value.includes(r)){return}i.push(c(e,t,r))});if(i?.length){n.push(...i)}}return n}return r},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/templating/EntityTypeHelper", ["sap/base/Log","sap/fe/base/BindingToolkit"],function(e,a){"use strict";var n={};var o=a.pathInModel;var t=a.getExpressionFromAnnotation;var i=a.concat;const r=a=>{const n=a.annotations?.UI?.HeaderInfo?.Title;if(n){switch(n.$Type){case"com.sap.vocabularies.UI.v1.DataField":return t(n.Value);case"com.sap.vocabularies.UI.v1.DataFieldForAnnotation":e.error("DataFieldForAnnotation with connected fields not supported for HeaderInfo.Title");return t(a.annotations?.UI?.HeaderInfo?.TypeName)}}const r=a.annotations?.Common?.SemanticKey;if(r){return i(...r.map(e=>o(e.value)))}};n.getTitleExpression=r;return n},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/templating/FieldControlHelper", ["sap/fe/base/BindingToolkit","../converters/annotations/DataField","../helpers/BindingHelper","../helpers/TypeGuards"],function(n,o,t,e){"use strict";var r={};var i=e.isProperty;var a=t.bindingContextPathVisitor;var s=o.isDataFieldForAnnotation;var l=o.isDataField;var d=n.or;var u=n.isConstant;var m=n.getExpressionFromAnnotation;var c=n.equal;const C=function(n,o){const t=m(n?.annotations?.Common?.FieldControl,o);if(!u(t)){return d(c(t,1),c(t,"1"))}else{return d(c(t,"Common.FieldControlType/ReadOnly"),c(t,1),c(t,"1"))}};r.isReadOnlyExpression=C;const f=function(n,o){const t=m(n?.annotations?.Common?.FieldControl,o);if(!u(t)){return d(c(t,0),c(t,"0"))}else{return d(c(t,"Common.FieldControlType/Hidden"),c(t,"Common.FieldControlType/Inapplicable"),c(t,0),c(t,"0"))}};r.isDisabledExpression=f;const p=function(n,o){return d(C(n,o),f(n,o))};r.isNonEditableExpression=p;const F=function(n){const o=n.annotations?.Common?.FieldControl;return o&&o.toString()!=="Common.FieldControlType/Mandatory"?true:false};r.hasFieldControlNotMandatory=F;function y(n){const o=n=>{const o=n?.toString?.();return o==="7"||o==="Common.FieldControlType/Mandatory"};const t=n?.annotations?.Common?.FieldControl;if(i(n)||s(n)){return o(t)}if(l(n)){if(o(t)){return true}if(t?.toString()!==undefined){return false}else{return o(n?.Value?.$target?.annotations?.Common?.FieldControl)}}return o(n?.Value?.$target?.annotations?.Common?.FieldControl)}r.isStaticallyMandatory=y;const v=function(n,o){const t=n?.annotations?.Common?.FieldControl;const e=m(t,o);return T(e)};r.isRequiredExpression=v;const g=function(n,o,t){const e=o.isBound?o.parameters[0]?.fullyQualifiedName:undefined;const r=n.annotations?.Common?.FieldControl;const i=m(r,[],undefined,n=>a(n,t,e));return T(i)};r.isActionParameterRequiredExpression=g;const T=n=>d(u(n)&&c(n,"Common.FieldControlType/Mandatory"),c(n,7),c(n,"7"));return r},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/templating/FilterTemplating", ["sap/fe/core/helpers/TypeGuards"],function(t){"use strict";var e={};var i=t.isEntitySet;function n(t,e){const n=t.getEntitySet();let r;if(i(n)){r=n.annotations.Capabilities}const s=r?.FilterRestrictions?.RequiredProperties;let o=false;if(s){s.forEach(function(t){if(e===t?.value){o=true}})}return o}e.getIsRequired=n;function r(t,e){let n,r;const s=t.getEntityType();const o=t.getEntitySet();let a;if(i(o)){a=o.annotations.Capabilities}const f=a?.FilterRestrictions?.NonFilterableProperties;const c=s.entityProperties;c.forEach(t=>{const i=t.name;if(i===e){r=t.annotations?.UI?.Hidden?.valueOf()}});if(f&&f.length>0){for(const t of f){const i=t?.value;if(i===e){n=true}}}return n||r}e.isPropertyFilterable=r;return e},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/templating/PropertyFormatters", ["sap/fe/core/converters/MetaModelConverter","sap/fe/core/helpers/TypeGuards","sap/fe/core/templating/DataModelPathHelper","./PropertyHelper","./UIFormatters"],function(t,e,r,o,n){"use strict";var a={};var s=n.getConverterContext;var c=r.getTargetObjectPath;var i=r.enhanceDataModelPath;var u=e.isPathAnnotationExpression;var p=t.getInvolvedDataModelObjects;const l=function(t,e){const r=e.context.getPath();if(!t){throw new Error(`Unresolved context path ${r}`)}if(typeof t==="object"&&t.hasOwnProperty("$kind")&&t.$kind!=="Property"){throw new Error(`Context does not resolve to a Property object but to a ${t.$kind}`)}let o=s(t,e);if(u(o)){o=o.$target}return o};a.getProperty=l;const h=function(t,e){const r=e.context.getPath();if(!t){throw new Error(`Unresolved context path ${r}`)}if(typeof t==="object"&&t.hasOwnProperty("$kind")&&t.$kind!=="Property"){throw new Error(`Context does not resolve to a Property object but to a ${t.$kind}`)}let o=p(e.context);if(u(o.targetObject)){o=i(o,o.targetObject.path)}return o};a.getPropertyObjectPath=h;const f=function(t,e){const r=l(t,e);return o.isKey(r)};a.isKey=f;const P=function(t,e){const r=l(t,e);return o.hasValueHelp(r)};a.hasValueHelp=P;const d=function(t,e){const r=l(t,e);return o.hasDateType(r)};a.hasDateType=d;const y=function(t,e){const r=l(t,e);return o.hasValueHelpWithFixedValues(r)};a.hasValueHelpWithFixedValues=y;const g=function(t,e){const r=l(t,e);return r.name};a.getName=g;const v=function(t,e){const r=l(t,e);return o.getLabel(r)};a.getLabel=v;const b=function(t,e){const r=h(t,e);return c(r)};a.getPropertyPath=b;const x=function(t,e){const r=h(t,e);return c(r,true)};a.getRelativePropertyPath=x;return a},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/templating/PropertyHelper", ["sap/fe/core/helpers/TypeGuards","sap/fe/core/templating/SemanticObjectHelper"],function(n,t){"use strict";var e={};var o=n.isPathAnnotationExpression;const a=function(n){return!!n.annotations?.Core?.Computed?.valueOf()};e.isComputed=a;const i=function(n){return!!n.annotations?.Core?.Immutable?.valueOf()};e.isImmutable=i;const s=function(n){return!!n.isKey};e.isKey=s;const r=function(n,t){const e=t.contextLocation?.targetEntityType?.annotations?.Common?.SemanticKey;return e?.some(function(t){return t?.$target?.fullyQualifiedName===n?.fullyQualifiedName})??false};e.isSemanticKey=r;const u=function(n){return["Edm.Date","Edm.DateTime","Edm.DateTimeOffset"].includes(n.type)};e.hasDateType=u;const c=function(n){return n.annotations?.Common?.Label?.toString()||""};e.getLabel=c;const m=function(n){return t.hasSemanticObject(n)};e.hasSemanticObject=m;const f=function(n){return o(n?.annotations?.Common?.Timezone)?n.annotations?.Common?.Timezone.$target:undefined};e.getAssociatedTimezoneProperty=f;const d=function(n){return o(n?.annotations?.Common?.Timezone)?n?.annotations?.Common?.Timezone?.path:undefined};e.getAssociatedTimezonePropertyPath=d;const l=function(n){return o(n?.annotations?.Common?.Text)?n.annotations?.Common?.Text.$target:undefined};e.getAssociatedTextProperty=l;const C=function(n){return o(n?.annotations.Common?.ExternalID)?n?.annotations.Common?.ExternalID.path:undefined};e.getAssociatedExternalIdPropertyPath=C;const y=function(n){return o(n?.annotations?.Common?.ExternalID)?n.annotations?.Common?.ExternalID.$target:undefined};e.getAssociatedExternalIdProperty=y;const p=function(n){return n&&o(n.annotations.Measures?.Unit)?n.annotations.Measures?.Unit.$target:undefined};e.getAssociatedUnitProperty=p;const T=function(n){return o(n?.annotations?.Measures?.Unit)?n.annotations?.Measures?.Unit.path:undefined};e.getAssociatedUnitPropertyPath=T;const g=function(n){return n&&o(n.annotations.Measures?.ISOCurrency)?n.annotations.Measures?.ISOCurrency.$target:undefined};e.getAssociatedCurrencyProperty=g;const h=function(n){return o(n?.annotations?.Measures?.ISOCurrency)?n.annotations?.Measures?.ISOCurrency.path:undefined};e.getAssociatedCurrencyPropertyPath=h;const I=function(n){const t=n.annotations?.Measures?.ISOCurrency??n.annotations?.Measures?.Unit;if(!t||o(t)){return undefined}return`${t}`};e.getStaticUnitOrCurrency=I;const x=function(n){const t=n.annotations?.Common?.Timezone;if(!t||o(t)){return undefined}return`${t}`};e.getStaticTimezone=x;const O=function(n){return o(n?.annotations?.Common?.Text)?n?.annotations?.Common?.Text.path:undefined};e.getAssociatedTextPropertyPath=O;const U=function(n){return!!n.annotations?.Common?.ValueList||!!n.annotations?.Common?.ValueListReferences||!!n.annotations?.Common?.ValueListMapping||!!n.annotations?.Common?.ValueListRelevantQualifiers};e.hasValueHelp=U;const P=function(n){return!!n?.annotations?.Common?.ValueListWithFixedValues?.valueOf()};e.hasValueHelpWithFixedValues=P;const M=function(n){return n.annotations?.Common?.ValueListForValidation!==undefined};e.hasValueListForValidation=M;const S=function(n){return n.annotations?.Common?.Timezone!==undefined};e.hasTimezone=S;const L=function(n){return!!n.annotations?.Common?.IsUnit?.valueOf()};e.isUnit=L;const V=function(n){return n.annotations?.Common?.Text!==undefined};e.hasText=V;const z=function(n){return!!n.annotations?.UI?.IsImageURL?.valueOf()};e.isImageURL=z;const E=function(n){return!!n.annotations?.Common?.IsCurrency?.valueOf()};e.isCurrency=E;const v=function(n){return n.annotations?.Measures?.ISOCurrency!==undefined};e.hasCurrency=v;const A=function(n){return n.annotations?.Measures?.Unit!==undefined};e.hasUnit=A;const D=function(n){return n.type==="Edm.Guid"};e.isGuid=D;const $=function(n){return n?.annotations?.Measures?.Unit?.toString()==="%"};e.hasStaticPercentUnit=$;function b(n){return n?.annotations?.UI?.MultiLineText?.valueOf()===true}e.isMultiLineText=b;function F(n){return!!n.annotations?.Common?.IsTimezone?.valueOf()}e.isTimezone=F;return e},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/templating/SemanticObjectHelper", ["sap/fe/base/BindingToolkit","sap/fe/core/helpers/TypeGuards"],function(t,n){"use strict";var e={};var s=n.isNavigationProperty;var i=n.isAnnotationOfTerm;var o=t.resolveBindingString;var c=t.getExpressionFromAnnotation;var a=t.compileExpression;const r=t=>{const n=t?.match(/{(.*?)}/);if(t?.startsWith("{=")){return t}if(n?.length&&n.length>1){return n[1]}return null};e.getDynamicPathFromSemanticObject=r;const f=function(t){const n=t.annotations?.Common;if(n){for(const t in n){if(n[t]?.term==="com.sap.vocabularies.Common.v1.SemanticObject"){return true}}}return false};e.hasSemanticObject=f;const m=function(t){const n=[];const e=t.annotations?.Common;if(e){for(const t in e){const s=e[t];if(i(s,"com.sap.vocabularies.Common.v1.SemanticObject")){n.push(s)}}}return n};e.getSemanticObjects=m;const u=function(t){const n=[];const e=t.annotations?.Common;if(e){for(const t in e){const s=e[t];if(i(s,"com.sap.vocabularies.Common.v1.SemanticObjectMapping")){n.push(s)}}}return n};e.getSemanticObjectMappings=u;const b=function(t){const n=[];const e=t.annotations?.Common;if(e){for(const t in e){const s=e[t];if(i(s,"com.sap.vocabularies.Common.v1.SemanticObjectUnavailableActions")){n.push(s)}}}return n};e.getSemanticObjectUnavailableActions=b;const p=function(t){let n;if(t.targetObject&&f(t.targetObject)){n=t.targetObject}else if(t.navigationProperties.length>0){for(const e of t.navigationProperties){if(!t.contextLocation?.navigationProperties.find(t=>t.fullyQualifiedName===e.fullyQualifiedName)&&!n&&f(e)){n=e}}}return n};e.getPropertyWithSemanticObject=p;const l=function(t){const n={};const e=[];const s=[];if(t!==undefined){for(const i of m(t)){const t=c(i);const o=a(t);if(o&&!e.includes(o)){n[i.qualifier||""]=o;e.push(o);s.push(t)}}}return{semanticObjectsList:e,semanticObjectsExpressionList:s,qualifierMap:n}};e.getSemanticObjectsAndQualifierMap=l;const O=function(t,n){const e=[];let s=false;if(t){for(const e of t){for(const t of n.semanticObjectsList){if(e===t){s=true;break}}if(s){break}}n.semanticObjectsExpressionList.forEach(t=>{if(t._type!=="Constant"){e.push(t)}})}return{hasReachableStaticSemanticObject:s,dynamicSemanticObjects:e}};e.getReachableSemanticObjectsSettings=O;const j=function(t,n,e){const i=n.targetObject;const r=e?.getProperty("/semanticObjects");const f=l(i);const m=p(n);if(s(m)){const t=c(m?.annotations?.Common?.SemanticObject);const n=a(t);f.semanticObjectsExpressionList.push(t);f.semanticObjectsList.push(n)}if(t!==undefined&&t!==""){if(t[0]==="["){const n=JSON.parse(t);n.forEach(t=>{f.semanticObjectsList.push(t)})}else{f.semanticObjectsList.push(t);if(t.startsWith("{")||t.startsWith("{=")){const n=o(t);f.semanticObjectsExpressionList.push(n)}}}return O(r,f)};e.manageSemanticObjectsForCurrentUser=j;return e},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/templating/UIFormatters", ["sap/fe/base/BindingToolkit","sap/fe/core/converters/MetaModelConverter","sap/fe/core/helpers/BindingHelper","sap/fe/core/helpers/TypeGuards","sap/fe/core/templating/DataModelPathHelper","sap/fe/core/templating/DisplayModeFormatter","sap/fe/core/templating/FieldControlHelper","sap/fe/core/templating/PropertyHelper"],function(e,t,n,a,i,o,r,s){"use strict";var l={};var u=s.isMultiLineText;var d=s.isKey;var c=s.isImmutable;var f=s.isComputed;var p=s.hasValueHelp;var g=s.hasStaticPercentUnit;var m=s.getAssociatedUnitProperty;var y=s.getAssociatedCurrencyProperty;var b=r.isRequiredExpression;var v=r.isReadOnlyExpression;var h=r.isNonEditableExpression;var D=r.isDisabledExpression;var T=i.isPathUpdatable;var E=i.getTargetObjectPath;var O=i.getRelativePaths;var x=i.getContextRelativeTargetObjectPath;var M=i.enhanceDataModelPath;var I=a.isProperty;var V=a.isPathAnnotationExpression;var $=a.isMultipleNavigationProperty;var C=a.isAnnotationOfType;var P=n.singletonPathVisitor;var U=n.bindingContextPathVisitor;var F=n.UI;var j=t.getInvolvedDataModelObjects;var S=t.convertMetaModelContext;var A=e.unresolvableExpression;var k=e.pathInModel;var R=e.or;var w=e.not;var B=e.isTruthy;var N=e.isConstant;var q=e.ifElse;var L=e.getExpressionFromAnnotation;var z=e.formatWithTypeInformation;var W=e.formatResult;var H=e.equal;var G=e.constant;var K=e.compileExpression;var Q=e.and;var _=e.addTypeInformation;var Y=e.EDM_TYPE_MAPPING;const J={Disabled:"Disabled",Display:"Display",Editable:"Editable",EditableDisplay:"EditableDisplay",EditableReadOnly:"EditableReadOnly",ReadOnly:"ReadOnly"};l.FieldEditMode=J;const X=function(e){return o.getDisplayMode(e.targetObject,e)};l.getDisplayMode=X;const Z=function(e,t,n){let a=arguments.length>3&&arguments[3]!==undefined?arguments[3]:F.IsEditable;let i=arguments.length>4&&arguments[4]!==undefined?arguments[4]:true;return ee(e,t,n,true,a,i)};l.getEditableExpressionAsObject=Z;const ee=function(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:undefined;let n=arguments.length>2?arguments[2]:undefined;let a=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;let i=arguments.length>4&&arguments[4]!==undefined?arguments[4]:F.IsEditable;let o=arguments.length>5&&arguments[5]!==undefined?arguments[5]:true;const r=O(n);if(!e||typeof e==="string"){return K(false)}let s=G(true);if(t!==undefined&&!I(t)){s=q(h(t),false,i)}else if(t!==undefined){s=i}const l=V(e)?e.$target:e;const u=T(n,{propertyPath:e,pathVisitor:(e,t)=>P(e,n.convertedTypes,t)});if(K(u)==="false"&&o){return a?u:"false"}const p=l!==undefined?q(R(Q(w(u),o),f(l),d(l),c(l),h(l,r)),q(R(f(l),h(l,r)),false,F.IsTransientBinding),i):A;if(a){return Q(p,s)}return K(Q(p,s))};l.getEditableExpression=ee;const te=function(e,t){const n=E(e);const a=k(`/collaboration/activities${n}`,"internal");const i=e?.contextLocation?.targetEntityType?.keys;const o=[];i?.forEach(function(e){const t=k(e.name);o.push(t)});return W([a,...o],t)};l.getCollaborationExpression=te;const ne=function(e,t,n){return ae(e,t,true,n)};l.getEnabledExpressionAsObject=ne;const ae=function(e,t){let n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;let a=arguments.length>3?arguments[3]:undefined;if(!e||typeof e==="string"){return K(true)}let i;if(a){i=O(a)}let o=G(true);if(t!==undefined&&!I(t)){o=q(D(t),false,true)}const r=V(e)?e.$target:e;const s=r!==undefined?q(D(r,i),false,true):A;if(n){return Q(s,o)}return K(Q(s,o))};l.getEnabledExpression=ae;const ie=function(e,t){let n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;let a=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;let i=arguments.length>4&&arguments[4]!==undefined?arguments[4]:undefined;let o=arguments.length>5&&arguments[5]!==undefined?arguments[5]:F.IsEditable;if(!e||typeof e==="string"||!I(i)&&i?.$Type==="com.sap.vocabularies.UI.v1.DataFieldWithNavigationPath"){return J.Display}const r=V(e)?e.$target:e;if(!I(r)){return J.Display}const s=O(t);const l=T(t,{propertyPath:r,pathVisitor:(e,n)=>P(e,t.convertedTypes,n)});const u=Z(e,i,t,o,false);const d=ne(e,i,t);const p=y(r);const g=p||m(r);let b=G(J.Editable);if(g){const e=v(g,s);b=q(R(e,f(g),Q(c(g),w(F.IsTransientBinding)),n),q(!N(e)&&e,J.EditableReadOnly,J.EditableDisplay),J.Editable)}if(!g&&(r?.annotations?.Measures?.ISOCurrency||r?.annotations?.Measures?.Unit)){b=G(J.EditableDisplay)}let h;if(i!=undefined&&!I(i)){h=R(v(r,s),v(i))}else{h=v(r,s)}const D=q(R(l,F.IsTransientBinding),q(d,q(u,b,q(Q(!N(h)&&h,o),J.ReadOnly,J.Display)),q(o,J.Disabled,J.Display)),J.Display);if(a){return D}return K(D)};l.getEditMode=ie;const oe=function(e){const t=e?.targetObject;return t&&re(t)};l.hasValidAnalyticalCurrencyOrUnit=oe;const re=function(e){const t=e?.annotations?.Measures?.ISOCurrency;const n=t?t:e?.annotations?.Measures?.Unit;if(n){return K(R(B(L(n)),w(F.IsTotal)))}else{return K(G(true))}};l.getExpressionForMeasureUnit=re;const se=function(e,t,n){const a=V(e)&&e.$target||e;const i=a.annotations?.Common?.Text!==undefined;if(p(a)){return K(t)}else{return i?K(q(H(n,"Editable"),"Value",t)):"Value"}};l.getFieldDisplay=se;const le=function(e,t){const n=Y[e?.type]||(t?Y[t]:undefined);const a={type:n.type,constraints:{},formatOptions:{}};if(I(e)){a.constraints={scale:n.constraints?.$Scale?e.scale:undefined,precision:n.constraints?.$Precision?e.precision:undefined,maxLength:n.constraints?.$MaxLength?e.maxLength:undefined,nullable:n.constraints?.$Nullable?e.nullable:undefined,minimum:n.constraints?.["@Org.OData.Validation.V1.Minimum/$Decimal"]&&!isNaN(e.annotations?.Validation?.Minimum)?`${e.annotations?.Validation?.Minimum}`:undefined,maximum:n.constraints?.["@Org.OData.Validation.V1.Maximum/$Decimal"]&&!isNaN(e.annotations?.Validation?.Maximum)?`${e.annotations?.Validation?.Maximum}`:undefined,isDigitSequence:a.type==="sap.ui.model.odata.type.String"&&n.constraints?.["@com.sap.vocabularies.Common.v1.IsDigitSequence"]&&e.annotations?.Common?.IsDigitSequence?true:undefined,V4:n.constraints?.$V4?true:undefined}}a.formatOptions={parseAsString:a?.type?.indexOf("sap.ui.model.odata.type.Int")===0||a?.type?.indexOf("sap.ui.model.odata.type.Double")===0?false:undefined,emptyString:a?.type?.indexOf("sap.ui.model.odata.type.Int")===0||a?.type?.indexOf("sap.ui.model.odata.type.Double")===0?"":undefined,parseKeepsEmptyString:a.type==="sap.ui.model.odata.type.String"?true:undefined};return a};l.getTypeConfig=le;const ue=function(e){return e?.annotations?.UI?.DoNotCheckScaleOfMeasuredQuantity&&e?.annotations?.UI.DoNotCheckScaleOfMeasuredQuantity?.valueOf()?{skipDecimalsValidation:true}:{}};l.getConstraintOptions=ue;const de=function(e,t,n,a,i,o,r){const s=e.targetObject;let l=s.annotations?.Measures?.Unit;const u=O(e);t=z(s,t);const d=l?"sap.ui.model.odata.type.Unit":"sap.ui.model.odata.type.Currency";l=l?l:s.annotations?.Measures?.ISOCurrency;const c=V(l)&&l.$target?z(l.$target,L(l,u),n):L(l,u);let f;if(d==="sap.ui.model.odata.type.Unit"){if(i&&!o){f={skipDecimalsValidation:true}}else if(!i){f=ue(e.targetObject)}}if(d==="sap.ui.model.odata.type.Currency"){if(r){f={skipDecimalsValidation:true}}}if(i){a={...a,emptyString:""}}return _([t,c],d,undefined,a,f)};l.getBindingWithUnitOrCurrency=de;const ce=function(e,t){const n=e.targetObject;const a=O(e);const i={};t=z(n,t);const o="sap.fe.core.type.Date";const r=n?.annotations?.Validation?.Minimum?.$Date?n?.annotations?.Validation?.Minimum?.$Date:n?.annotations?.Validation?.Minimum;const s=n?.annotations?.Validation?.Maximum?.$Date?n?.annotations?.Validation?.Maximum?.$Date:n?.annotations?.Validation?.Maximum;const l=r&&V(r)?z(n?.annotations?.Validation?.Minimum,L(n?.annotations?.Validation?.Minimum,a)):r;const u=s&&V(s)?z(n?.annotations?.Validation?.Maximum,L(n?.annotations?.Validation?.Maximum,a)):s;return(l||u)&&_([t,l,u],o,undefined,i)};l.getBindingForDatePicker=ce;const fe=function(e,t,n,a){const i=e?.targetObject;if(!i){return""}let o=i.annotations?.Measures?.Unit;if(g(i)){return G("%")}const r=O(e);const s=o?"sap.ui.model.odata.type.Unit":"sap.ui.model.odata.type.Currency";o=o?o:i.annotations?.Measures?.ISOCurrency;const l=V(o)&&o.$target?z(o.$target,L(o,r)):L(o,r);let u=k(x(e));u=z(i,u,true);let d;if(s==="sap.ui.model.odata.type.Unit"){if(t&&!n){d={skipDecimalsValidation:true}}else if(!t){d=ue(i)}}else if(s==="sap.ui.model.odata.type.Currency"){if(a){d={skipDecimalsValidation:true}}}return _([u,l],s,undefined,{parseKeepsEmptyString:true,showNumber:false},d)};l.getBindingForUnitOrCurrency=fe;const pe=function(e,t){let n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;let a=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;let i=arguments.length>4?arguments[4]:undefined;const o=e.targetObject;const r=o.annotations?.Common?.Timezone;const s=o.annotations?.UI?.DateTimeStyle;const l=O(e);t=z(o,t);const u="sap.fe.core.type.DateTimeWithTimezone";const d=V(r)&&r.$target?z(r.$target,L(r,l),n):L(r,l);let c={};if(a){c={showTimezoneForEmptyValues:false}}if(s){c={...c,...{style:s}}}else if(i?.dateTimeStyle!==undefined){c={...c,...{style:i.dateTimeStyle}}}if(i?.dateTimePattern!==undefined){c={...c,...{pattern:i.dateTimePattern}}}if(i?.showTime!==undefined){c={...c,...{showTime:i.showTime}}}if(i?.showDate!==undefined){c={...c,...{showDate:i.showDate}}}if(i?.showTimezone!==undefined){c={...c,...{showTimezone:i.showTimezone}}}return _([t,d],u,undefined,c)};l.getBindingWithTimezone=pe;const ge=function(e,t,n){const a=e.targetObject;const i=n?.dateTimePattern;const o=a.annotations?.UI?.DateTimeStyle??n?.dateTimeStyle;t=z(a,t);t.type=Y[a.type].type;t.formatOptions={...o&&{style:o.toString()},...i&&{pattern:i}};return t};l.getBindingForDateFormat=ge;const me=function(e,t){const n=e.targetObject;t=z(n,t);const a="sap.ui.model.odata.type.DateTimeWithTimezone";const i={showTime:false,showDate:false,showTimezone:true,parseKeepsEmptyString:true};return _([null,t],a,undefined,i)};l.getBindingForTimezone=me;const ye=function(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"Begin";let n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:"Begin";return K(q(H(e,"Display"),t,n))};l.getAlignmentExpression=ye;const be=function(e,t){if(t&&t.context){return S(t.context)}return null};be.requiresIContext=true;l.getConverterContext=be;const ve=function(e,t){if(t&&t.context){return j(t.context)}return null};ve.requiresIContext=true;l.getDataModelObjectPath=ve;const he=function(e){if(e.navigationProperties?.length){const t=e?.navigationProperties.findIndex(t=>{if($(t)){if(e.contextLocation?.navigationProperties?.length){return e.contextLocation?.navigationProperties.findIndex(e=>e.name===t.name)===-1}return true}return false})>-1;if(t){return true}}return false};l.isMultiValueField=he;const De=function(e,t){let n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;return Te(e,t,n,true)};l.getRequiredExpressionAsObject=De;const Te=function(e,t){let n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;let a=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;let i=arguments.length>4&&arguments[4]!==undefined?arguments[4]:{};let o=arguments.length>5?arguments[5]:undefined;const r=i.requiredPropertiesFromInsertRestrictions;const s=i.requiredPropertiesFromUpdateRestrictions;if(!e||typeof e==="string"){if(a){return G(false)}return K(G(false))}let l;if(o){l=O(o)}let u=G(false);if(t!==undefined&&!I(t)){u=b(t)}let d=G(false);let c=G(false);const f=V(e)&&e.$target||e;const p=b(f,l);const g=n||F.IsEditable;if(r?.includes(f.name)){d=F.IsCreateMode}if(s?.includes(f.name)){c=Q(F.IsEditable,w(F.IsCreateMode))}const m=R(Q(R(p,u),g),d,c);if(a){return m}return K(m)};l.getRequiredExpression=Te;const Ee=function(e){return K(Q(F.IsEditable,b(e.targetObject?.$target)))};l.getRequiredExpressionForFieldGroup=Ee;const Oe=function(e){const t=e?.targetObject;const n=e?.targetObject?.$target?.Data??t?.Target.$target?.Data??{};const a=Object.keys(n);const i=[];let o;const r=[];for(const e of a){if(n[e]?.["$Type"]&&n[e]["$Type"]?.includes("DataField")){i.push(n[e])}}for(const e of i){switch(e.$Type){case"com.sap.vocabularies.UI.v1.DataField":case"com.sap.vocabularies.UI.v1.DataFieldWithNavigationPath":case"com.sap.vocabularies.UI.v1.DataFieldWithUrl":case"com.sap.vocabularies.UI.v1.DataFieldWithIntentBasedNavigation":case"com.sap.vocabularies.UI.v1.DataFieldWithAction":if(typeof e.Value==="object"){o=e.Value.$target}break;case"com.sap.vocabularies.UI.v1.DataFieldForAnnotation":if(e.Target?.$target){if(C(e.Target.$target,["com.sap.vocabularies.UI.v1.DataField","com.sap.vocabularies.UI.v1.DataPointType"])){if(typeof e.Target.$target.Value==="object"){o=e.Target.$target.Value.$target}}else{if(typeof e.Target==="object"){o=e.Target.$target}break}}break;default:break}r.push(De(o,e,false))}return K(R(...r))};l.getRequiredExpressionForConnectedDataField=Oe;function xe(e,t){return w(H(L(e?.annotations?.UI?.Hidden,t),true))}l.isVisible=xe;const Me=function(e){return u(e.targetObject)};l.isMultiLine=Me;function Ie(e,t,n,a){const i=e.annotations.Core?.OperationAvailable?.term==="Org.OData.Core.V1.OperationAvailable";if(!i){return G(true)}let o="";if(n&&a&&a===true&&n.contextLocation?.targetEntityType&&n.contextLocation.targetEntityType!==e.sourceEntityType){const t=O(n);let a=M(n.contextLocation);for(const n of t){a=M(a,n);if(a.targetEntityType===e.sourceEntityType){o=`${O(a).join("/")}/`;break}}}const r=e.isBound?e.parameters[0]?.fullyQualifiedName:undefined;const s=L(e.annotations.Core?.OperationAvailable,[],undefined,e=>`${o}${U(e,t,r)}`);return H(s,true)}l.getActionEnabledExpression=Ie;function Ve(e){let t=G(true);if(C(e.targetObject?.Target?.$target,"com.sap.vocabularies.UI.v1.FieldGroupType")){t=xe(e.targetObject?.Target?.$target)}return K(Q(xe(e.targetObject),t))}l.isQuickViewFacetVisible=Ve;const $e=function(e){return e.breadcrumbsHierarchyMode&&e.fclEnabled===true?"{fclhelper>/breadCrumbIsVisible}":!!e.breadcrumbsHierarchyMode};l.getVisibleExpressionForBreadcrumbs=$e;return l},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/type/Date", ["sap/fe/base/ClassSupport","sap/ui/core/Lib","sap/ui/model/CompositeType","sap/ui/model/ValidateException","sap/ui/model/odata/type/Date"],function(e,t,a,r,o){"use strict";var s,u;var i=e.defineUI5Class;function n(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,p(e,t)}function p(e,t){return p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},p(e,t)}let f=(s=i("sap.fe.core.type.Date"),s(u=function(e){function a(t,a){var r;r=e.call(this,t,a)||this;r.bParseWithValues=true;r.date=new o;r.bUseRawValues=true;return r}n(a,e);var s=a.prototype;s.validateValue=function e(a){const o=t.getResourceBundleFor("sap.fe.core");if(a[0]){if(a[1]){if(Date.parse(a[0])<Date.parse(a[1])){throw new r(o.getText("C_ERROR_MINMAX_VALIDATION_DISPLAYED"))}}if(a[2]){if(Date.parse(a[0])>Date.parse(a[2])){throw new r(o.getText("C_ERROR_MINMAX_VALIDATION_DISPLAYED"))}}}this.date.validateValue(a[0])};s.formatValue=function e(t,a){return this.date.formatValue(t[0],a)};s.parseValue=function e(t,a){return[this.date.parseValue(t,a)]};return a}(a))||u);return f},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/type/DateTimeWithTimezone", ["sap/fe/base/ClassSupport","sap/ui/model/odata/type/DateTimeWithTimezone"],function(t,e){"use strict";var o,r;var n=t.defineUI5Class;function i(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,u(t,e)}function u(t,e){return u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},u(t,e)}let a=(o=n("sap.fe.core.type.DateTimeWithTimezone"),o(r=function(t){function e(e,o){var r;r=t.call(this,e,o)||this;r.bShowTimezoneForEmptyValues=e?.showTimezoneForEmptyValues??true;return r}i(e,t);var o=e.prototype;o.formatValue=function e(o,r){const n=o&&o[0];if(n===undefined||!n&&!this.bShowTimezoneForEmptyValues){return null}return t.prototype.formatValue.call(this,o,r)};return e}(e))||r);return a},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/type/EDM", [],function(){"use strict";var e={};const d={"Edm.Binary":{modelType:undefined},"Edm.Boolean":{modelType:"Bool"},"Edm.Byte":{modelType:"Int"},"Edm.Date":{modelType:"Date"},"Edm.DateTime":{modelType:"Date"},"Edm.DateTimeOffset":{modelType:"DateTimeOffset"},"Edm.Decimal":{modelType:"Decimal"},"Edm.Duration":{modelType:undefined},"Edm.Double":{modelType:"Float"},"Edm.Float":{modelType:"Float"},"Edm.Guid":{modelType:"Guid"},"Edm.Int16":{modelType:"Int"},"Edm.Int32":{modelType:"Int"},"Edm.Int64":{modelType:"Int"},"Edm.SByte":{modelType:"Int"},"Edm.Single":{modelType:"Float"},"Edm.String":{modelType:"String"},"Edm.Time":{modelType:"TimeOfDay"},"Edm.TimeOfDay":{modelType:"TimeOfDay"},"Edm.Stream":{modelType:undefined}};e.DefaultTypeForEdmType=d;function m(e){return!!d[e]?.modelType}e.isTypeFilterable=m;function o(e){return d[e]?.modelType}e.getModelType=o;return e},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/type/Email", ["sap/fe/base/ClassSupport","sap/ui/core/Lib","sap/ui/model/odata/type/String","sap/ui/model/ValidateException"],function(t,e,o,r){"use strict";var n,s;var a=t.defineUI5Class;function p(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,i(t,e)}function i(t,e){return i=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},i(t,e)}const c=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]{1,64}/;const u=/[a-zA-Z0-9-]{1,255}/;let l=(n=a("sap.fe.core.type.Email"),n(s=function(t){function o(){return t.apply(this,arguments)||this}p(o,t);var n=o.prototype;n.validateValue=function o(n){const s=n.split("@");const a=s?.[0];const p=s?.[1];if(n&&(!a||!p||!c.test(a)||!p.split(".").every(t=>u.test(t))||s.length!==2)){throw new r(e.getResourceBundleFor("sap.fe.core").getText("T_EMAILTYPE_INVALID_VALUE"))}t.prototype.validateValue.call(this,n)};return o}(o))||s);return l},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/type/FiscalDate", ["sap/base/i18n/date/CalendarType","sap/fe/base/ClassSupport","sap/fe/core/formatters/FiscalFormat","sap/ui/core/Lib","sap/ui/model/ValidateException","sap/ui/model/odata/type/String"],function(a,e,t,r,o,s){"use strict";var i,c,l;var n=e.defineUI5Class;function m(a,e){a.prototype=Object.create(e.prototype),a.prototype.constructor=a,u(a,e)}function u(a,e){return u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,e){return a.__proto__=e,a},u(a,e)}let p=(i=n("sap.fe.core.type.FiscalDate"),i(c=(l=function(e){function s(r,o){var i;if((r.fiscalType==="com.sap.vocabularies.Common.v1.IsFiscalYearPeriod"||r.fiscalType==="com.sap.vocabularies.Common.v1.IsFiscalYearQuarter"||r.fiscalType==="com.sap.vocabularies.Common.v1.IsFiscalYearWeek")&&o?.maxLength){o.maxLength=o.maxLength+1}i=e.call(this,r,o)||this;i.annotationType=r.fiscalType;const c=s.dateFormats[i.annotationType];if(c){i.formatter=t.getDateInstance({format:c,calendarType:a.Gregorian})}return i}m(s,e);var i=s.prototype;i.getPattern=function a(){return this.formatter?.getPattern()};i.formatValue=function a(t,r){return this.formatter?this.formatter.format(e.prototype.formatValue.call(this,t,r)):e.prototype.formatValue.call(this,t,r)};i.parseValue=function a(t,r){return this.formatter?this.formatter.parse(e.prototype.parseValue.call(this,t,r)):e.prototype.parseValue.call(this,t,r)};i.validateValue=function a(t){try{e.prototype.validateValue.call(this,t)}catch(a){if(!this.formatter){throw a}if(!this.formatter.validate(t)){throw new o(this.getErrorMessage(this.annotationType))}}if(!this.formatter||t===""||t===null){return}if(!this.formatter.validate(t)){throw new o(this.getErrorMessage(this.annotationType))}};i.getErrorMessage=function a(e){let t="";this.fullYear=this.fullYear||(new Date).getFullYear().toString();switch(e){case"com.sap.vocabularies.Common.v1.IsFiscalYear":t=this.fullYear;break;case"com.sap.vocabularies.Common.v1.IsFiscalPeriod":t="001";break;case"com.sap.vocabularies.Common.v1.IsFiscalYearPeriod":t=this.fullYear+"001";break;case"com.sap.vocabularies.Common.v1.IsFiscalQuarter":t="1";break;case"com.sap.vocabularies.Common.v1.IsFiscalYearQuarter":t=this.fullYear+"1";break;case"com.sap.vocabularies.Common.v1.IsFiscalWeek":t="01";break;case"com.sap.vocabularies.Common.v1.IsFiscalYearWeek":t=this.fullYear+"01";break;case"com.sap.vocabularies.Common.v1.IsDayOfFiscalYear":t="1";break;case"com.sap.vocabularies.Common.v1.IsFiscalYearVariant":break;default:t=this.fullYear}return r.getResourceBundleFor("sap.fe.core").getText("FISCAL_VALIDATION_FAILS",[this.formatValue(t,"string")])};i.getName=function a(){return"sap.fe.core.type.FiscalDate"};i.getFormatter=function a(){return this.formatter};return s}(s),l.dateFormats={["com.sap.vocabularies.Common.v1.IsFiscalYear"]:"YYYY",["com.sap.vocabularies.Common.v1.IsFiscalPeriod"]:"PPP",["com.sap.vocabularies.Common.v1.IsFiscalYearPeriod"]:"YYYYPPP",["com.sap.vocabularies.Common.v1.IsFiscalQuarter"]:"Q",["com.sap.vocabularies.Common.v1.IsFiscalYearQuarter"]:"YYYYQ",["com.sap.vocabularies.Common.v1.IsFiscalWeek"]:"WW",["com.sap.vocabularies.Common.v1.IsFiscalYearWeek"]:"YYYYWW",["com.sap.vocabularies.Common.v1.IsDayOfFiscalYear"]:"d",["com.sap.vocabularies.Common.v1.IsFiscalYearVariant"]:""},l))||c);return p},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/type/InputMask", ["sap/fe/base/ClassSupport","sap/ui/core/Lib","sap/ui/model/ValidateException","sap/ui/model/odata/type/String"],function(t,e,o,s){"use strict";var i,r;var n=t.defineUI5Class;function a(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,l(t,e)}function l(t,e){return l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},l(t,e)}let u=(i=n("sap.fe.core.type.InputMask"),i(r=function(t){function s(e){return t.call(this,e)||this}a(s,t);var i=s.prototype;i.validateValue=function s(i){const r=this.formatValue(i);if(r.includes(this.oFormatOptions.placeholderSymbol)){let t=e.getResourceBundleFor("sap.fe.core").getText("T_MASKEDINPUT_INVALID_VALUE");if(!t){t=""}throw new o(t)}t.prototype.validateValue.call(this,i)};i.parseValue=function t(e){let o="";let s=0;const i=this.oFormatOptions?.mask;if(i){for(let t=0;t<=i.length;t++){if(this.doesMakingRuleExists(this.oFormatOptions.maskRule,i[t])){const r=this.oFormatOptions.maskRule.find(e=>e.symbol===i[t]);if(e[s]&&r&&e[s].match(new RegExp(r.regex))){o+=e[s++]}}else if(i[t]==="^"){t++;s++}else{s++}}}return o};i.doesMakingRuleExists=function t(e,o){for(const t of e){if(t.symbol===o){return true}}return false};i.formatValue=function t(e){if(!e)return e;const o={};let t="";if(this.oFormatOptions.maskRule){for(const t of this.oFormatOptions.maskRule){o[t.symbol]=t.regex}let s=0;let i="";const r=this.oFormatOptions.mask;for(let t=0;t<r.length;t++){if(o[r[t]]){if(e[s]&&e[s].match(new RegExp(o[r[t]]))){i+=e[s++]}else{i+=this.oFormatOptions.placeholderSymbol}}else if(r[t]==="^"){i+=r[t+1];t++}else{i+=r[t]}}t=i}return t};return s}(s))||r);return u},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/ActionCommand", ["sap/fe/base/BindingToolkit","sap/fe/core/controls/CommandExecution","sap/fe/base/jsx-runtime/jsx"],function(e,n,i){"use strict";var o={};var a=e.resolveBindingString;function s(e,o,s){let t;let d;const l=o.visible?a(o.visible,"boolean"):undefined;const c=o.enabled?a(o.enabled,"boolean"):undefined;switch(o.type){case"ForAction":t=s.onExecuteAction;d=s.isActionEnabled!==undefined?a(s.isActionEnabled,"boolean"):c;break;case"ForNavigation":t=s.onExecuteIBN;d=s.isIBNEnabled!==undefined?a(s.isIBNEnabled,"boolean"):c;break;default:t=s.onExecuteManifest;d=s.isEnabled!==undefined?a(s.isEnabled,"boolean"):c}return i(n,{"core:require":"{FPM: 'sap/fe/core/helpers/FPMHelper'}",execute:t,enabled:d,visible:s.visible??l,command:e??o.command})}o.getCommandExecutionForAction=s;return o},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/Breadcrumbs", ["sap/base/Log","sap/fe/base/BindingToolkit","sap/fe/base/ClassSupport","sap/fe/core/buildingBlocks/BuildingBlock","sap/fe/core/CommonUtils","sap/fe/core/helpers/ResourceModelHelper","sap/fe/core/helpers/StableIdHelper","sap/m/Breadcrumbs","sap/m/Link","sap/fe/base/jsx-runtime/jsx"],function(e,t,r,n,i,o,a,s,c,l){"use strict";var u,f,d,p,h,g,b;var m={};var B=a.generate;var y=o.getResourceModel;var _=r.property;var v=r.implementInterface;var T=r.defineUI5Class;var L=t.compileExpression;function C(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function P(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,M(e,t)}function M(e,t){return M=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},M(e,t)}function x(e,t,r,n,i){var o={};return Object.keys(n).forEach(function(e){o[e]=n[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=r.slice().reverse().reduce(function(r,n){return n(e,t,r)||r},o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer?(Object.defineProperty(e,t,o),null):o}function E(e,t){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}const k={OBJECT:"objectNavigation",FULL:"fullNavigation"};m.hierachyModeOptions=k;let O=(u=T("sap.fe.macros.Breadcrumbs"),f=v("sap.m.IBreadcrumbs"),d=_({type:"string",defaultValue:k.OBJECT,allowedValues:Object.values(k)}),u(p=(h=function(t){function r(){var e;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++){n[i]=arguments[i]}e=t.call(this,...n)||this;C(e,"__implements__sap_m_IBreadcrumbs",g,e);C(e,"hierarchyMode",b,e);return e}m=r;P(r,t);var n=r.prototype;n.onMetadataAvailable=function e(){if(!this.content){this._getOwner()?.runAsOwner(()=>{this.content=this.createContent()})}};n._getBreadcrumbsTitleInfos=function e(t){const r=[],n=this.getAppComponent(),o=n.getRootViewController(),a=n.getMetaModel(),s=this._getBreadcrumbsPathParts(t);let c="";if(this.hierarchyMode===k.FULL){const e=y(this);const t=this._getFEManifestBreadcrumbSettings()?.home;r.push(Promise.resolve({intent:"#Shell-home",title:t?i.getTranslatedTextFromExpBindingString(t,this):e.getText("T_APP_HOME")}))}s.forEach(function(e,t){c+=e?`/${e}`:"";if(!n.getRouter().getRouteInfoByHash(c)){return}if(!t&&c===""&&this.hierarchyMode===k.FULL){r.push(this._getFirstPageTitleInformation());return}const i=a.getMetaPath(c);const s=a.getObject(`${i}/@com.sap.vocabularies.Common.v1.ResultContext`);if(s){return}r.push(o.getTitleInfoFromPath(c))}.bind(this));return r};n._getBreadcrumbsPathParts=function e(t){const r=t?.split("/")??[];if(this.hierarchyMode!==k.FULL){r.shift();r.splice(-1,1)}return r};n._getContextPathFromHash=function e(t){const r=this.getAppComponent(),n=r.getRootViewController();const{entitySet:i,contextPath:o}=n.getTargetOptionsFromHash(t)?.options?.settings??{};return o??(i?`/${i}`:undefined)};n._getFirstPageTitleInformation=async function e(){const t=this.getAppComponent(),r=t.getRootViewController(),n=t.getManifestEntry("sap.app"),o=n.title||"",a=n.subTitle||"",s=n.icon||"",c=r.getAppSpecificHash(),l=this._getContextPathFromHash(""),u=this.getDataModelObjectPath(l),f=u?.targetEntityType?.annotations?.UI?.HeaderInfo?.TypeNamePlural,d=L(f),p=d?i.getTranslatedTextFromExpBindingString(d,this):undefined;const h={...await r.getRootLevelTitleInformation(c,o,a,s)};h.subtitle=p?p:h.title;const g=this._getFEManifestBreadcrumbSettings()?.space;h.title=g?i.getTranslatedTextFromExpBindingString(g,this):"";return h};n._getFEManifestBreadcrumbSettings=function e(){const t=this.getAppComponent(),r=t.getManifestEntry("sap.fe");return r?.app?.breadcrumbs};n.setBreadcrumbLinks=async function t(){let r=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.getBindingContext()?.getPath();if(typeof r!=="string"){e.info("Breadcrumbs: path not available. Cannot set breadcrumb links.");return}const n=this.getContent();if(!n){e.error("Breadcrumbs Building block: Breadcrumbs control not available. Cannot set breadcrumb links.");return}try{const e=await Promise.all(this._getBreadcrumbsTitleInfos(r));e.forEach(this.updateBreadcrumbLink.bind(this))}catch(t){e.error("Error while setting the breadcrumb links: "+t)}};n.updateBreadcrumbLink=function t(r,n,i){const o=this.getContent();const a=n===i.length-1;const s=this.getLinkText(r,a,n);if(!s){e.error("Breadcrumbs: No link text available for the breadcrumb link at position "+n);return}if(a&&this.hierarchyMode===k.FULL){o.setCurrentLocationText(s)}else{const e=o.getLinks()[n]?o.getLinks()[n]:new c;e.setText(s);e.setHref(encodeURI(r.intent));if(!o.getLinks()[n]){o.addLink(e)}}};n.getLinkText=function e(t,r,n){const{title:i,subtitle:o}=t;const a=i!==undefined&&i!=="";const s=o!==undefined&&o!=="";if(a&&s&&this.hierarchyMode===k.FULL){const e=y(this);const t=n===1;return!t&&r?i:e.getText("T_BREADCRUMBS_TITLE_LONG_TEMPLATE",[i,o])}if(s){return o}else if(a){return i}};n.createContent=function e(){const t=this.getPageController()?.getView().getId();return l(s,{id:t?B([`${t}--fe`,"Breadcrumbs"]):undefined,modelContextChange:()=>{this.setBreadcrumbLinks()}})};return r}(n),g=x(h.prototype,"__implements__sap_m_IBreadcrumbs",[f],{configurable:true,enumerable:true,writable:true,initializer:function(){return true}}),b=x(h.prototype,"hierarchyMode",[d],{configurable:true,enumerable:true,writable:true,initializer:null}),h))||p);m=O;return m},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/Chart", ["sap/base/Log","sap/base/util/merge","sap/fe/base/ClassSupport","sap/fe/base/HookSupport","sap/fe/core/CommonUtils","sap/fe/core/converters/MetaModelConverter","sap/fe/core/helpers/StableIdHelper","sap/fe/macros/chart/Action","sap/fe/macros/chart/ChartRuntime","sap/fe/macros/chart/ChartUtils","sap/fe/macros/filter/FilterUtils","sap/fe/navigation/PresentationVariant","sap/ui/core/library","sap/ui/mdc/p13n/StateUtil","sap/ui/model/Filter","./MacroAPI","./chart/MdcChartTemplate","./chart/adapter/ChartPvToStateUtils","./insights/AnalyticalInsightsHelper","./insights/CommonInsightsHelper","./insights/InsightsService","./mdc/adapter/StateHelper"],function(t,e,n,r,a,i,o,s,l,c,u,p,g,h,f,d,y,C,b,m,v,S){"use strict";var P,w,_,A,I,V,M,D,x,z,T,E,O,j,U,k,R,H,F,K,N,B,L,$,q,W,G,J,Q,X,Y,Z,tt,et,nt,rt,at,it,ot,st,lt,ct,ut,pt,gt,ht,ft,dt,yt,Ct;function bt(t){return new Promise((e,n)=>{sap.ui.require([t],n=>{if(!(n&&n.__esModule)){n=n===null||!(typeof n==="object"&&t.endsWith("/library"))?{default:n}:n;Object.defineProperty(n,"__esModule",{value:true})}e(n)},t=>{n(t)})})}var mt={};var vt=v.showInsightsCardPreview;var St=v.showCollaborationManagerCardPreview;var Pt=v.getCardManifest;var wt=m.showGenericErrorMessage;var _t=m.hasInsightActionEnabled;var At=b.createChartCardParams;var It=y.getMdcChartTemplate;var Vt=g.TitleLevel;var Mt=o.generate;var Dt=i.getInvolvedDataModelObjects;var xt=r.controllerExtensionHandler;var zt=n.xmlEventHandler;var Tt=n.property;var Et=n.implementInterface;var Ot=n.event;var jt=n.defineUI5Class;var Ut=n.association;var kt=n.aggregation;function Rt(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Ht(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,Ft(t,e)}function Ft(t,e){return Ft=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Ft(t,e)}function Kt(t,e,n,r,a){var i={};return Object.keys(r).forEach(function(t){i[t]=r[t]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(n,r){return r(t,e,n)||n},i),a&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(a):void 0,i.initializer=void 0),void 0===i.initializer?(Object.defineProperty(t,e,i),null):i}function Nt(t,e){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let Bt=(P=jt("sap.fe.macros.Chart",{returnTypes:["sap.fe.macros.MacroAPI"]}),w=Et("sap.fe.core.controllerextensions.viewState.IViewStateContributor"),_=Et("sap.fe.macros.controls.section.ISingleSectionContributor"),A=Tt({type:"string"}),I=Tt({type:"string",required:true,expectedTypes:["EntitySet","EntityType","Singleton","NavigationProperty"],expectedAnnotations:["com.sap.vocabularies.UI.v1.Chart","com.sap.vocabularies.UI.v1.PresentationVariant","com.sap.vocabularies.UI.v1.SelectionPresentationVariant"]}),V=Tt({type:"string",required:true,expectedTypes:["EntitySet","EntityType","Singleton","NavigationProperty"],expectedAnnotations:[]}),M=Tt({type:"string"}),D=Tt({type:"boolean",defaultValue:true}),x=Tt({type:"string",defaultValue:"Multiple",allowedValues:["None","Single","Multiple"]}),z=Tt({type:"string",allowedValues:["Control"]}),T=Tt({type:"string",defaultValue:true}),E=Tt({type:"string"}),O=Tt({type:"object"}),j=Tt({type:"boolean"}),U=Tt({type:"string"}),k=Ut({type:"sap.ui.core.Control"}),R=kt({type:"sap.ui.core.LayoutData"}),H=kt({type:"sap.fe.macros.chart.Action",altTypes:["sap.fe.macros.chart.ActionGroup"],multiple:true,defaultClass:s}),F=Ot(),K=Ot(),N=Ot(),B=Ot(),L=Ot(),$=zt(),q=zt(),W=xt("collaborationManager","collectAvailableCards"),P(G=(J=function(n){function r(t,e){var r;if(t?._applyIdToContent){t.id=Mt([t.id,"::Chart"])}r=n.call(this,t,e)||this;Rt(r,"__implements__sap_fe_core_controllerextensions_viewState_IViewStateContributor",Q,r);Rt(r,"__implements__sap_fe_macros_controls_section_ISingleSectionContributor",X,r);Rt(r,"id",Y,r);Rt(r,"metaPath",Z,r);Rt(r,"contextPath",tt,r);Rt(r,"header",et,r);Rt(r,"headerVisible",nt,r);Rt(r,"selectionMode",rt,r);Rt(r,"variantManagement",at,r);Rt(r,"personalization",it,r);Rt(r,"headerLevel",ot,r);Rt(r,"chartDelegate",st,r);Rt(r,"_applyIdToContent",lt,r);Rt(r,"noDataText",ct,r);r.prevDrillStack=[];r.initialControlState={};r.chartActions=[];r._commandActions=[];Rt(r,"filterBar",ut,r);Rt(r,"layoutData",pt,r);Rt(r,"actions",gt,r);Rt(r,"selectionChange",ht,r);Rt(r,"internalDataRequested",ft,r);Rt(r,"variantSelected",dt,r);Rt(r,"variantSaved",yt,r);Rt(r,"segmentedButtonPressed",Ct,r);return r}mt=r;Ht(r,n);var i=r.prototype;i.getSectionContentRole=function t(){return"consumer"};i.sendDataToConsumer=function t(e){this.content?.setHeader(e.title);this.content?.setHeaderStyle("H4");this.content?.setHeaderLevel(e.titleLevel)};i.getSelectedContexts=function t(){return this.content?.getBindingContext("internal")?.getProperty("selectedContexts")||[]};i.isA=function t(e){const r="sap.fe.macros.chart.ChartAPI";if(Array.isArray(e)&&e.includes(r)||e===r)return true;return n.prototype.isA.call(this,e)};i.onMetadataAvailable=function t(){if(!this.content){this.content=this.createContent()}};i.onAfterRendering=function t(e){const r=this.getPageController()?.getView();const a=r?.getBindingContext("internal");const i=this.getContent();const o=a?.getProperty("controls/showMessageStrip")||{};const s=i.data("entitySet"),l=`${s}Chart`,c=r?.getBindingContext();o[l]=i.data("draftSupported")==="true"&&!!c&&!c.getObject("IsActiveEntity");a.setProperty("controls/showMessageStrip",o);this.attachStateChangeHandler();n.prototype.onAfterRendering.call(this,e)};i.attachStateChangeHandler=function t(){h.detachStateChange(this.stateChangeHandler);h.attachStateChange(this.stateChangeHandler)};i.stateChangeHandler=function t(e){const n=e.getParameter("control");if(n.isA("sap.ui.mdc.Chart")){const t=n.getParent();if(t?.handleStateChange){t.handleStateChange()}}};i.refreshNotApplicableFields=function t(e){const n=this.getContent();return u.getNotApplicableFilters(e,n)};i.handleSelectionChange=function t(n){const r=n.getParameter("data");const a=n.getParameter("name")==="selectData";l.fnUpdateChart(n);this.fireEvent("selectionChange",e({},{data:r,selected:a}))};i.onInternalDataRequested=function t(){this.fireEvent("internalDataRequested")};i.collectAvailableCards=async function t(e){const n=this.content.getActions();if(_t(n,this.content.getFilter())){const t=await this.getCardManifestChart();if(Object.keys(t).length>0){e.push({card:t,title:this.getChartControl().getHeader(),callback:this.onAddCardToCollaborationManagerCallback.bind(this)})}}};i.hasSelections=function e(){const n=this.content;if(n){try{const t=n.getControlDelegate()?.getInnerChart(n);if(t){const e=c.getDimensionsFromDrillStack(t);const r=e.length>this.prevDrillStack.length;const a=e.length<this.prevDrillStack.length;const i=e.toString()===this.prevDrillStack.toString();let o;if(a&&e.length===1){o=c.getChartSelections(n,true)}else{o=c.getChartSelections(n)}if(r||a){this.prevDrillStack=e;return o.length>0}else if(i){return o.length>0}}}catch(e){t.error(`Error while checking for selections in Chart: ${e}`)}}return false};i.onAddCardToInsightsPressed=async function e(){try{const t=await At(this);if(t){vt(t);return}}catch(e){wt(this.content);t.error(e)}};i.getCardManifestChart=async function t(){const e=await At(this);return Pt(e)};i.onAddCardToCollaborationManagerCallback=async function e(n){try{if(n){await St(n,this.getPageController()?.collaborationManager.getService());return}}catch(e){wt(this.content);t.error(e)}};i.getFilter=function t(){const e=c.getAllFilterInfo(this.content);if(e.filters.length){e.filters.forEach(t=>{if(t.getPath()){t.sPath=this.getChartPropertiesWithoutPrefixes(t.getPath())}});return new f({filters:e.filters,and:true})}return undefined};i.getChartControl=function t(){return this.content};i.getPropertyDataModel=function t(e){const n=this.content.data("targetCollectionPath");const r=this.content.getModel().getMetaModel();const a=r.createBindingContext(`${n}/${e}`);return Dt(a)};i.getChartPropertiesWithoutPrefixes=function t(e){if(e&&e.includes("fe_groupable")){e=this.getInternalChartNameFromPropertyNameAndKind(e,"groupable")}else if(e&&e.includes("fe_aggregatable")){e=this.getInternalChartNameFromPropertyNameAndKind(e,"aggregatable")}return e};i.getInternalChartNameFromPropertyNameAndKind=function t(e,n){return e.replace("_fe_"+n+"_","")};i._convertStateUtilToPresentationVariant=function t(e){const n=e.sorters?.map(t=>({Property:this.getChartPropertiesWithoutPrefixes(t.name),Descending:t.descending}));const r=e.supplementaryConfig?.properties?.chartType;const a=r?r.charAt(0).toUpperCase()+r.slice(1):undefined;const i="com.sap.vocabularies.UI.v1.ChartType/"+a;const o=[],s=[],l=[],c=[];(e.items??[]).forEach(t=>{t.name=this.getChartPropertiesWithoutPrefixes(t.name);const e=t.role?.length?t.role.substring(0,1).toUpperCase()+t.role?.substring(1,t.role.length):undefined;if(t.role==="category"||t.role==="series"||t.role==="category2"){o.push(t.name);l.push({Dimension:t.name,Role:`com.sap.vocabularies.UI.v1.ChartDimensionRoleType/${e}`})}else{s.push(t.name);c.push({Measure:t.name,Role:"com.sap.vocabularies.UI.v1.ChartDimensionRoleType/"+e})}});const u={Content:{ChartType:i,DimensionAttributes:l,Dimensions:o,MeasureAttributes:c,Measures:s},Type:"Chart"};const g=new p;g.setChartVisualization(u);g.setProperties({SortOrder:n??[]});return g};i.getPresentationVariant=async function e(){try{const t=await h.retrieveExternalState(this.content);return this._convertStateUtilToPresentationVariant(t)}catch(e){const n=this.getId();const r=e instanceof Error?e.message:String(e);t.error(`Chart Building Block (${n}) - get presentation variant failed : ${r}`);throw Error(r)}};i.setPresentationVariant=async function e(n){try{const t=this.content;const e=await this.getPresentationVariant();const r=await(t.getControlDelegate()?.fetchProperties(t));const a=C.convertPvToStateUtilPv(n,e,r);await h.applyExternalState(t,a)}catch(e){const n=e instanceof Error?e.message:String(e);t.error(`FE: Chart Building Block setPresentationVariant API failed with error: ${n}`);throw Error(n)}};i.getCurrentVariantKey=function t(){return this.content.getVariant().getCurrentVariantKey()};i.setCurrentVariantKey=function t(e){const n=this.content.getVariant();n.setCurrentVariantKey(e)};i.getSelectionVariant=async function t(){return S.getSelectionVariant(this.content)};i.setSelectionVariant=async function t(e){let n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;return S.setSelectionVariantToMdcControl(this.getContent(),e,n)};i.getControlState=function t(e){const n=this.initialControlState;if(e){return{fullState:e,initialState:n}}return e};i.setInitialState=async function e(){try{const t=await h.retrieveExternalState(this.content);this.initialControlState=t}catch(e){t.error(e)}};i.retrieveState=async function t(){const e={};e.innerChart=this.getControlState(await h.retrieveExternalState(this.content));const n=this.content.getVariant()?.getId();if(n){const t=this.content.getVariant();if(!e.variantManagement){e.variantManagement={variantId:t?.getCurrentVariantKey()}}else{e.variantManagement.variantId=t?.getCurrentVariantKey()}}return e};i.applyLegacyState=async function t(e,n,r){const a=this.content;const i=a.getVariant();const o=e(a);const s=i?e(i):null;const l={};if(o){l.innerChart={...l.innerChart,...o,fullState:{...l.innerChart?.fullState,...o.fullState},initialState:{...l.innerChart?.initialState,...o.initialState}}}if(s?.variantId){l.variantManagement={...l.variantManagement,variantId:s.variantId.toString()}}if(l&&Object.keys(l).length>0){await this.applyState(l,n,r)}};i.handleVariantIdPassedViaURLParams=async function t(){const e=this.getStartupParameters();const n=e?.["sap-ui-fe-chart-variant-id"]?.[0];const r=a.getTargetView(this);const i=r.getViewData();const o=i.variantManagement;const s=this.getContent()?.getVariant();if(s&&n&&o==="Control"){const t=s.getVariants().find(t=>t.getKey()===n);const e=(await bt("sap/ui/fl/apply/api/ControlVariantApplyAPI")).default;return e.activateVariant({element:s,variantReference:t?.getKey()})}};i.getStartupParameters=function t(){const e=this.getPageController();const n=e?.getAppComponent();const r=n?.getComponentData();return r?.startupParameters};i.applyNavigationParameters=async function e(n){try{if(n.applyVariantFromURLParams??false){await this.handleVariantIdPassedViaURLParams()}}catch(e){t.error(`Error trying to apply navigation parameters to ${this.getMetadata().getName()} control with ID: ${this.getId()}`,e)}return Promise.resolve()};i.applyState=async function e(n,r,a){if(!n)return;const i=n.variantManagement?.variantId;const o=this.content?.getVariant();if(i!==undefined&&i!==o.getCurrentVariantKey()){const e=this.content?.getVariant();const n=e?.getVariants();const r=n?.some(t=>t.getKey()===i)?i:e?.getStandardVariantKey;try{const t=(await bt("sap/ui/fl/apply/api/ControlVariantApplyAPI")).default;await t.activateVariant({element:e,variantReference:r});await this.setInitialState()}catch(e){t.error(e);await this.setInitialState()}}else{await this.setInitialState()}const s=n.innerChart;let l;if(s){if(a&&s.initialState){l=await h.diffState(this.content,s.initialState,s.fullState)}else{l=s.fullState}await h.applyExternalState(this.content,l)}};i.handleStateChange=function t(){this.getPageController()?.getExtensionAPI().updateAppState()};i._createContent=function t(){const e=this._getOwner();if(e?.isA("sap.fe.core.TemplateComponent")){this.content.setFilter("");this.content.destroy();this.content=this.createContent()}};i.setProperty=function t(e,r,a){if(!this._applyingSettings&&r!==undefined&&Object.keys(this.getMetadata().getProperties()).includes(e)){n.prototype.setProperty.call(this,e,r,true);this._createContent()}else{n.prototype.setProperty.call(this,e,r,a)}return this};i.removeAggregation=function t(e,r,a){let i;if(!this._applyingSettings&&r!==undefined&&Object.keys(this.getMetadata().getAggregations()).includes(e)){i=n.prototype.removeAggregation.call(this,e,r,a);this._createContent()}else{i=n.prototype.removeAggregation.call(this,e,r,a)}return i};i.addAggregation=function t(e,r,a){if(!this._applyingSettings&&Object.keys(this.getMetadata().getAggregations()).includes(e)){n.prototype.addAggregation.call(this,e,r,a);this._createContent()}else{n.prototype.addAggregation.call(this,e,r,a)}return this};i.insertAggregation=function t(e,r,a,i){if(!this._applyingSettings&&Object.keys(this.getMetadata().getAggregations()).includes(e)){n.prototype.insertAggregation.call(this,e,r,a,i);this._createContent()}else{n.prototype.insertAggregation.call(this,e,r,a,i)}return this};i.createContent=function t(){if(this.contextPath){this._resolvedContextPath=this.contextPath.endsWith("/")?this.contextPath:this.contextPath+"/"}return It(this,this._getOwner()?.getRootController()?.getView().getViewData()??this._getOwner()?.getViewData(),this.getAppComponent()?.getDiagnostics()??{},this.getDataModelObjectForMetaPath(this.metaPath,this._resolvedContextPath))};return r}(d),Q=Kt(J.prototype,"__implements__sap_fe_core_controllerextensions_viewState_IViewStateContributor",[w],{configurable:true,enumerable:true,writable:true,initializer:function(){return true}}),X=Kt(J.prototype,"__implements__sap_fe_macros_controls_section_ISingleSectionContributor",[_],{configurable:true,enumerable:true,writable:true,initializer:function(){return true}}),Y=Kt(J.prototype,"id",[A],{configurable:true,enumerable:true,writable:true,initializer:null}),Z=Kt(J.prototype,"metaPath",[I],{configurable:true,enumerable:true,writable:true,initializer:null}),tt=Kt(J.prototype,"contextPath",[V],{configurable:true,enumerable:true,writable:true,initializer:null}),et=Kt(J.prototype,"header",[M],{configurable:true,enumerable:true,writable:true,initializer:null}),nt=Kt(J.prototype,"headerVisible",[D],{configurable:true,enumerable:true,writable:true,initializer:null}),rt=Kt(J.prototype,"selectionMode",[x],{configurable:true,enumerable:true,writable:true,initializer:null}),at=Kt(J.prototype,"variantManagement",[z],{configurable:true,enumerable:true,writable:true,initializer:null}),it=Kt(J.prototype,"personalization",[T],{configurable:true,enumerable:true,writable:true,initializer:null}),ot=Kt(J.prototype,"headerLevel",[E],{configurable:true,enumerable:true,writable:true,initializer:function(){return Vt.Auto}}),st=Kt(J.prototype,"chartDelegate",[O],{configurable:true,enumerable:true,writable:true,initializer:null}),lt=Kt(J.prototype,"_applyIdToContent",[j],{configurable:true,enumerable:true,writable:true,initializer:function(){return false}}),ct=Kt(J.prototype,"noDataText",[U],{configurable:true,enumerable:true,writable:true,initializer:null}),ut=Kt(J.prototype,"filterBar",[k],{configurable:true,enumerable:true,writable:true,initializer:null}),pt=Kt(J.prototype,"layoutData",[R],{configurable:true,enumerable:true,writable:true,initializer:null}),gt=Kt(J.prototype,"actions",[H],{configurable:true,enumerable:true,writable:true,initializer:null}),ht=Kt(J.prototype,"selectionChange",[F],{configurable:true,enumerable:true,writable:true,initializer:null}),ft=Kt(J.prototype,"internalDataRequested",[K],{configurable:true,enumerable:true,writable:true,initializer:null}),dt=Kt(J.prototype,"variantSelected",[N],{configurable:true,enumerable:true,writable:true,initializer:null}),yt=Kt(J.prototype,"variantSaved",[B],{configurable:true,enumerable:true,writable:true,initializer:null}),Ct=Kt(J.prototype,"segmentedButtonPressed",[L],{configurable:true,enumerable:true,writable:true,initializer:null}),Kt(J.prototype,"handleSelectionChange",[$],Object.getOwnPropertyDescriptor(J.prototype,"handleSelectionChange"),J.prototype),Kt(J.prototype,"onInternalDataRequested",[q],Object.getOwnPropertyDescriptor(J.prototype,"onInternalDataRequested"),J.prototype),Kt(J.prototype,"collectAvailableCards",[W],Object.getOwnPropertyDescriptor(J.prototype,"collectAvailableCards"),J.prototype),J))||G);mt=Bt;return mt},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/CollaborativeDraftHandler", ["sap/fe/base/BindingToolkit","sap/fe/base/ClassSupport","sap/fe/base/EventDelegateHook","sap/fe/core/buildingBlocks/BuildingBlock","sap/fe/core/formatters/CollaborationFormatter","sap/fe/core/helpers/ModelHelper","sap/fe/core/helpers/ResourceModelHelper","sap/fe/core/helpers/TypeGuards","sap/fe/core/templating/UIFormatters","sap/m/Avatar","sap/m/Label","sap/m/ResponsivePopover","sap/ui/core/Element","sap/fe/base/jsx-runtime/jsx"],function(e,t,o,r,a,i,n,l,s,c,u,p,f,h){"use strict";var b,d,g,m,v,y,C,P,k,I,w,A,z;var x={};var E=l.isProperty;var O=t.property;var D=t.event;var j=t.defineUI5Class;var M=e.compileExpression;function T(e,t,o,r){o&&Object.defineProperty(e,t,{enumerable:o.enumerable,configurable:o.configurable,writable:o.writable,value:o.initializer?o.initializer.call(r):void 0})}function U(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,_(e,t)}function _(e,t){return _=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},_(e,t)}function B(e,t,o,r,a){var i={};return Object.keys(r).forEach(function(e){i[e]=r[e]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=o.slice().reverse().reduce(function(o,r){return r(e,t,o)||o},i),a&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(a):void 0,i.initializer=void 0),void 0===i.initializer?(Object.defineProperty(e,t,i),null):i}function S(e,t){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let $=(b=j("sap.fe.macros.CollaborativeDraftHandler"),d=O({type:"string"}),g=O({type:"string"}),m=D(),v=O({type:"boolean",defaultValue:false}),y=O({type:"object"}),b(C=(P=function(e){function t(t,o){var r;r=e.call(this,t,o)||this;T(r,"contextPath",k,r);T(r,"metaPath",I,r);T(r,"lockChange",w,r);T(r,"showAvatar",A,r);T(r,"lockInfo",z,r);return r}x=t;U(t,e);var r=t.prototype;r.getFullMetaPath=function e(){if(this.metaPath.startsWith("/")){return this.metaPath}else if(this.contextPath.endsWith("/")){return`${this.contextPath}${this.metaPath}`}else{return`${this.contextPath}/${this.metaPath}`}};r.onMetadataAvailable=function e(){const t=this._getOwner();if(!t){return}if(!i.isCollaborationDraftSupported(t.getAppComponent().getModel().getMetaModel())){return}this.contextPath??=this.getOwnerContextPath();const o=this.getFullMetaPath();const r=this.getDataModelObjectPath(o);if(!r||!E(r.targetObject)){throw new Error(`CollaborativeDraftHandler: the provided metaPath '${o}' does not point to a valid property`)}const n=r.targetEntityType.keys.map(e=>({path:e.name,targetType:"any"}));const l={parts:[{path:`internal>/collaboration/activities${o}`,targetType:"any"},...n],formatter:a.getCollaborationInfo};this.bindProperty("lockInfo",l);if(!this.content&&this.showAvatar){this.content=this.createCollaborationAvatar(r)}};r.setLockInfo=function e(t){if(this.lockInfo!==t){this.lockInfo=t;this.fireEvent("lockChange",{isLocked:this.lockInfo!==undefined,lockingUserID:this.lockInfo?.id,lockingUserName:this.lockInfo?.name,lockingUserInitials:this.lockInfo?.initials,lockingUserColor:this.lockInfo?.color})}};r.createCollaborationAvatar=function e(t){const r=s.getCollaborationExpression(t,a.hasCollaborationActivity);const i=M(r);const n=M(s.getCollaborationExpression(t,a.getCollaborationActivityInitials));const l=M(s.getCollaborationExpression(t,a.getCollaborationActivityColor));return h(c,{visible:i,initials:n,displaySize:"Custom",customDisplaySize:"1.5rem",customFontSize:"0.8rem",backgroundColor:l,press:e=>{this.onAvatarPress(e)},children:{dependents:h(o,{stopTapPropagation:true})}})};r.onAvatarPress=function e(t){const o=t.getSource();const r=o.getParent();const a=this.getPageController().getView();const i=n.getResourceModel(a);let l=f.getElementById(`manageCollaborationDraft--editUser`);if(!l){l=new p("manageCollaborationDraft--editUser",{showHeader:false,placement:"Bottom"});l.addStyleClass("sapUiContentPadding");a.addDependent(l)}l.destroyContent();l.addContent(new u({text:i.getText("C_COLLABORATIONAVATAR_USER_EDIT_FIELD",[`${r.lockInfo?.name}`])}));l.openBy(o)};return t}(r),k=B(P.prototype,"contextPath",[d],{configurable:true,enumerable:true,writable:true,initializer:null}),I=B(P.prototype,"metaPath",[g],{configurable:true,enumerable:true,writable:true,initializer:null}),w=B(P.prototype,"lockChange",[m],{configurable:true,enumerable:true,writable:true,initializer:null}),A=B(P.prototype,"showAvatar",[v],{configurable:true,enumerable:true,writable:true,initializer:function(){return false}}),z=B(P.prototype,"lockInfo",[y],{configurable:true,enumerable:true,writable:true,initializer:null}),P))||C);x=$;return x},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/CollectionBindingInfo", ["sap/base/util/deepClone","sap/ui/model/Filter"],function(t,n){"use strict";var e={};let i=function(){function i(t){this.attachedEvents=[];this.collectionBindingInfo=t}e=i;var o=i.prototype;o.cloneFiltersContent=function t(e){const i={path:e.getPath(),operator:e.getOperator(),value1:e.getValue1(),value2:e.getValue2(),variable:e.getVariable(),condition:e.getCondition(),and:e.isAnd(),caseSensitive:e.isCaseSensitive()};const o=e.getTest();if(o!==undefined){i.test=o}const s=e.getComparator();if(s!==undefined){i.comparator=s}const l=e.getFilters();const c=l?.map(t=>this.cloneFiltersContent(t));if(c){i.filters=c}return new n(i)};o.getFilters=function t(){if(this.collectionBindingInfo.filters){return this.cloneFiltersContent(this.collectionBindingInfo.filters)}return undefined};o.addFilter=function t(e){const i=this.collectionBindingInfo.filters?[this.collectionBindingInfo.filters]:[];i.push(e);this.collectionBindingInfo.filters=new n(i,true)};o.getSorters=function t(){return this.collectionBindingInfo.sorter};o.addSelect=function t(n){const e=n.toString();if(this.collectionBindingInfo.parameters?.$select){this.collectionBindingInfo.parameters.$select=this.collectionBindingInfo.parameters.$select+","+e}else{this.collectionBindingInfo.parameters??={};this.collectionBindingInfo.parameters.$select=e}};o.getBindingInfo=function n(){const e={...this.collectionBindingInfo};if(this.collectionBindingInfo.events){e.events=t(this.collectionBindingInfo.events)}if(this.collectionBindingInfo.filters){e.filters=this.cloneFiltersContent(this.collectionBindingInfo.filters)}if(this.collectionBindingInfo.parameters){t(this.collectionBindingInfo.parameters)}return e};o.addSorter=function t(n){if(!this.collectionBindingInfo.sorter){this.collectionBindingInfo.sorter=[n]}else{this.collectionBindingInfo.sorter.push(n)}};o.attachEvent=function t(n,e,i,o){const s={eventId:n,callback:e,listener:i,data:o};this.attachedEvents.push(s)};o.getAttachedEvents=function t(){return this.attachedEvents};return i}();e=i;return e},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/CommonHelper", ["sap/base/Log","sap/fe/base/BindingToolkit","sap/fe/core/CommonUtils","sap/fe/core/converters/controls/Common/Action","sap/fe/core/converters/MetaModelConverter","sap/fe/core/helpers/MetaModelFunction","sap/fe/core/helpers/ModelHelper","sap/fe/macros/filterBar/DefaultSemanticDateOperators","sap/fe/macros/filterBar/ExtendedSemanticDateOperators","sap/fe/macros/filterBar/SemanticDateOperators","sap/m/library","sap/ui/Device","sap/ui/mdc/condition/FilterOperatorUtil","sap/ui/mdc/enums/FieldEditMode","sap/ui/mdc/odata/v4/TypeMap","sap/ui/model/Context","sap/ui/model/odata/v4/AnnotationHelper"],function(t,e,n,r,i,o,a,s,c,u,l,f,g,p,d,m,h){"use strict";var b=o.isPropertyFilterable;var $=i.convertTypes;var y=r.aiIcon;var O=e.ref;var P=e.pathInModel;var E=e.notEqual;var M=e.ifElse;var v=e.fn;var D=e.equal;var T=e.constant;var C=e.compileExpression;function N(t,e){return t.filter(function(t){return e.includes(t)})}function x(t){const e=d.getDataTypeClassName(t);const n=d.getBaseType(e,{},{});return g.getOperatorsForType(n)}function S(t,e){if(!e?.operatorConfiguration)return false;return e.operatorConfiguration.some(e=>e.path==="key"&&e.equals===t&&e.exclude===true)}function j(t,e){if(t!=="Edm.Date"&&t!=="Edm.DateTimeOffset"){return[]}const n=[];const r=S("NotEmpty",e);const i=S("Empty",e);if(!r){n.push("NotEmpty")}if(!i){n.push("Empty")}return n}const A=l.ValueColor;const F={getPathToKey:function(t){return t.getObject()},getParameterEditMode:function(t,e){const n=e.context.getModel(),r=e.context.getPath(),i=n.getObject(`${r}@`),o=i["@com.sap.vocabularies.Common.v1.FieldControl"],a=i["@Org.OData.Core.V1.Immutable"],s=i["@Org.OData.Core.V1.Computed"];let c=p.Editable;if(a||s){c=p.ReadOnly}else if(o){if(o.$EnumMember){if(o.$EnumMember==="com.sap.vocabularies.Common.v1.FieldControlType/ReadOnly"){c=p.ReadOnly}if(o.$EnumMember==="com.sap.vocabularies.Common.v1.FieldControlType/Inapplicable"||o.$EnumMember==="com.sap.vocabularies.Common.v1.FieldControlType/Hidden"){c=p.Disabled}}if(o.$Path){c="{= %{"+o.$Path+"} < 3 ? (%{"+o.$Path+"} === 0 ? '"+p.Disabled+"' : '"+p.ReadOnly+"') : '"+p.Editable+"'}"}}return c},getMetaPath:function(t,e){return e&&e.context&&e.context.getPath()||undefined},getMetaModelId:function(t,e){$(e.context.getModel());return e.context.getModel().getId()},isDesktop:function(){return f.system.desktop===true},getTargetCollectionPath:function(t,e){let n=t.getPath();if(t.getObject("$kind")==="EntitySet"||t.getObject("$ContainsTarget")===true){return n}const r=t.getModel();const i=r.isA("sap.ui.model.odata.v4.ODataMetaModel")?r:r.getMetaModel();n=i.getMetaPath(n);const o=n.split("/").filter(function(t){return!!t&&t!="$Type"});const a=`/${o[0]}`;if(o.length===1){return a}const s=e===undefined?o.slice(1).join("/$NavigationPropertyBinding/"):e;return`${a}/$NavigationPropertyBinding/${s}`},isPropertyFilterable:function(t,e,n){const r=t.getModel(),i=t.getPath(),o=F.getLocationForPropertyPath(r,i),a=i.replace(`${o}/`,"");if(e&&(e.$Type==="com.sap.vocabularies.UI.v1.DataFieldForAction"||e.$Type==="com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation")){return false}return b(r,o,a,n)},getLocationForPropertyPath:function(t,e){let n;let r=e.slice(0,e.lastIndexOf("/"));if(t.getObject(`${r}/$kind`)==="EntityContainer"){n=r.length+1;r=e.slice(n,e.indexOf("/",n))}return r},gotoActionParameter:function(t){const e=t.getPath(),r=t.getObject(`${e}/$Name`);return n.getParameterPath(e,r)},getEntitySetName:function(t,e){const n=t.getObject("/");for(const t in n){if(typeof n[t]==="object"&&n[t].$Type===e){return t}}return undefined},getActionPath:function(t,e,n,r){let i=t.getPath().split("/@")[0];n=!n?t.getObject(t.getPath()):n;if(n&&n.includes("(")){n=n.split("(")[0]}else if(t.getObject(i)){const e=t.getObject(i).$Type;const n=this.getEntitySetName(t.getModel(),e);if(n){i=`/${n}`}}else{return i}if(r){return t.getObject(`${i}/${n}@Org.OData.Core.V1.OperationAvailable`)}if(e){return`${i}/${n}`}else{return{sContextPath:i,sProperty:t.getObject(`${i}/${n}@Org.OData.Core.V1.OperationAvailable/$Path`),sBindingParameter:t.getObject(`${i}/${n}/@$ui5.overload/0/$Parameter/0/$Name`)}}},getNavigationContext:function(t){return h.getNavigationPath(t.getPath())},getNavigationPath:function(t,e){const n=t.startsWith("/");const r=t.split("/").filter(function(t){return!!t});if(n){r.shift()}if(!e){r.pop()}return r.join("/")},getActionContext:function(t){return F.getActionPath(t,true)},getPathToBoundActionOverload:function(t){const e=F.getActionPath(t,true);return`${e}/@$ui5.overload/0`},addSingleQuotes:function(t,e){if(e&&t){t=this.escapeSingleQuotes(t)}return`'${t}'`},escapeSingleQuotes:function(t){return t.replace(/[']/g,"\\'")},generateFunction:function(t){let e="";for(let t=0;t<(arguments.length<=1?0:arguments.length-1);t++){e+=t+1<1||arguments.length<=t+1?undefined:arguments[t+1];if(t<(arguments.length<=1?0:arguments.length-1)-1){e+=", "}}let n=`${t}()`;if(e){n=`${t}(${e})`}return n},getHeaderDataPointLinkVisibility:function(t,e){return C(M(T(e),D(P(`isHeaderDPLinkVisible/${t}`,"internal"),true),E(P(`isHeaderDPLinkVisible/${t}`,"internal"),true)))},objectToString:function(t){let e=Object.keys(t).length,n="";for(const r in t){let i=t[r];if(i&&typeof i==="object"){i=this.objectToString(i)}n+=`${r}: ${i}`;if(e>1){--e;n+=", "}}return`{ ${n}}`},removeEscapeCharacters:function(t){return t?t.replace(/\\?\\([{}])/g,"$1"):undefined},stringifyObject:function(e){if(!e||e==="{}"){return undefined}else{const n=JSON.parse(e);if(typeof n==="object"&&!Array.isArray(n)){const t={ui5object:true};Object.assign(t,n);return JSON.stringify(t)}else{const e=Array.isArray(n)?"Array":typeof n;t.error(`Unexpected object type in stringifyObject (${e}) - only works with object`);throw new Error("stringifyObject only works with objects!")}}},stringifyCustomData:function(t){const e={ui5object:true};e["customData"]=t instanceof m?t.getObject():t;return JSON.stringify(e)},parseCustomData:function(t){t=typeof t==="string"?JSON.parse(t):t;if(t&&t.hasOwnProperty("customData")){return t["customData"]}return t},getContextPath:function(t,e){const n=e&&e.context&&e.context.getPath();return n[n.length-1]==="/"?n.slice(0,-1):n},getSortConditions:function(t,e,n){if(e&&F._isPresentationVariantAnnotation(n)&&e.SortOrder){const n={sorters:[]};const r=t.getPath(0).split("@")[0];e.SortOrder.forEach(function(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};let i;const o={};if(e.DynamicProperty){i=t.getModel(0).getObject(r+e.DynamicProperty.$AnnotationPath)?.Name}else if(e.Property){i=e.Property.$PropertyPath}if(i){o.name=i;o.descending=!!e.Descending;n.sorters.push(o)}else{throw new Error("Please define the right path to the sort property")}});return JSON.stringify(n)}return undefined},_isPresentationVariantAnnotation:function(t){return t.includes(`@${"com.sap.vocabularies.UI.v1.PresentationVariant"}`)||t.includes(`@${"com.sap.vocabularies.UI.v1.SelectionPresentationVariant"}`)},createPresentationPathContext:function(t){const e=t.getPath().split("@")||[];const n=t.getModel();if(e.length&&e[e.length-1].includes("com.sap.vocabularies.UI.v1.SelectionPresentationVariant")){const e=t.getPath().split("/PresentationVariant")[0];return n.createBindingContext(`${e}@sapui.name`)}return n.createBindingContext(`${t.getPath()}@sapui.name`)},getPressHandlerForDataFieldForIBN:function(t,e,n){let r=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;if(!t)return undefined;const i={navigationContexts:e?e:"${$source>/}.getBindingContext()"};if(t.RequiresContext&&!t.Inline&&n){const e=!r?"aApplicable":"aApplicableForContextMenu";const n=!r?"aNotApplicable":"aNotApplicableForContextMenu";i.applicableContexts=`\${internal>ibn/${t.SemanticObject}-${t.Action}/${e}/}`;i.notApplicableContexts=`\${internal>ibn/${t.SemanticObject}-${t.Action}/${n}/}`;i.label=this.addSingleQuotes(t.Label,true)}if(t.Mapping){i.semanticObjectMapping=this.addSingleQuotes(JSON.stringify(t.Mapping))}return this.generateFunction(n?"._intentBasedNavigation.navigateWithConfirmationDialog":"._intentBasedNavigation.navigate",this.addSingleQuotes(t.SemanticObject),this.addSingleQuotes(t.Action),this.objectToString(i),"${$source>/}")},getEntitySet:function(t){const e=t.getPath();return a.getEntitySetPath(e)},getCriticalityCalculationBinding:function(e,n,r,i,o,a,s,c){let u=A.Neutral;n=`%${n}`;r=r||-Infinity;i=i||r;o=o||i;c=c||Infinity;s=s||c;a=a||s;r=r&&(+r?+r:`%${r}`);i=i&&(+i?+i:`%${i}`);o=o&&(+o?+o:`%${o}`);a=a&&(+a?+a:`%${a}`);s=s&&(+s?+s:`%${s}`);c=c&&(+c?+c:`%${c}`);if(e.includes("Minimize")){u="{= "+n+" <= "+a+" ? '"+A.Good+"' : "+n+" <= "+s+" ? '"+A.Neutral+"' : "+"("+c+" && "+n+" <= "+c+") ? '"+A.Critical+"' : '"+A.Error+"' }"}else if(e.includes("Maximize")){u="{= "+n+" >= "+o+" ? '"+A.Good+"' : "+n+" >= "+i+" ? '"+A.Neutral+"' : "+"("+r+" && "+n+" >= "+r+") ? '"+A.Critical+"' : '"+A.Error+"' }"}else if(e.includes("Target")){u="{= ("+n+" <= "+a+" && "+n+" >= "+o+") ? '"+A.Good+"' : "+"(("+n+" >= "+i+" && "+n+" < "+o+") || ("+n+" > "+a+" && "+n+" <= "+s+")) ? '"+A.Neutral+"' : "+"(("+r+" && ("+n+" >= "+r+") && ("+n+" < "+i+")) || (("+n+" > "+s+") && "+c+" && ("+n+" <= "+c+"))) ? '"+A.Critical+"' : '"+A.Error+"' }"}else{t.warning("Case not supported, returning the default Value Neutral")}return u},getMeasureAttributeIndex:function(t,e,n){let r,i;if(e?.Measures?.length&&e?.Measures?.length>0){r=e.Measures;i=n?r[t].value:r[t].$PropertyPath}else if(e?.DynamicMeasures?.length&&e?.DynamicMeasures?.length>0){r=e.DynamicMeasures;i=r?.[t].$AnnotationPath}let o;const a=e.MeasureAttributes;let s=-1;const c=function(t,e,r){if(e){const i=n?e.Measure?.value:e.Measure?.$PropertyPath;if(e.Measure&&i===t){s=r;return true}else if(e.DynamicMeasure&&e?.DynamicMeasure?.$AnnotationPath===t){s=r;return true}}return false};if(a){o=a.some(c.bind(null,i))}return o&&s>-1?s:-1},getMeasureAttribute:async function(e){const n=e.getModel(),r=e.getPath();return n.requestObject(r).then(function(e){const n=e.MeasureAttributes,i=F.getMeasureAttributeIndex(0,e);const o=i>-1&&n?.[i]&&n[i].DataPoint?`${r}/MeasureAttributes/${i}/`:undefined;if(o===undefined){t.warning("DataPoint missing for the measure")}return o?`${o}DataPoint/$AnnotationPath/`:o})},getMeasureAttributeForMeasure:function(e){const n=e.getModel(),r=e.getPath(),i=r.substring(0,r.lastIndexOf("Measure")),o=r.replace(/.*\//,"");const a=n.getObject(i);const s=a.MeasureAttributes,c=F.getMeasureAttributeIndex(o,a);const u=c>-1&&s[c]&&s[c].DataPoint?`${i}MeasureAttributes/${c}/`:undefined;if(u===undefined){t.warning("DataPoint missing for the measure")}return u?`${u}DataPoint/$AnnotationPath/`:u},isDraftParentEntityForContainment:function(t,e){if(t){if(e&&e.parentEntitySet&&e.parentEntitySet.sPath){const t=e.parentEntitySet.sPath;const n=e.parentEntitySet.oModel.getObject(`${t}@com.sap.vocabularies.Common.v1.DraftRoot`);const r=e.parentEntitySet.oModel.getObject(`${t}@com.sap.vocabularies.Common.v1.DraftNode`);if(n||r){return true}else{return false}}}return false},getDataFromTemplate:function(t){const e=t.getPath().split("/");const n=e[e.length-1];const r=`/${e.slice(1,-2).join("/")}/@`;const i=t.getObject(r);const o=i.Template;const a=o.split("}");const s=[];for(let t=0;t<a.length-1;t++){const e=a[t].split("{")[1].trim();s.push(e)}Object.keys(i.Data).forEach(function(t){if(t.startsWith("$")){delete i.Data[t]}});const c=Object.keys(i.Data).indexOf(n);return`/${e.slice(1,-2).join("/")}/Data/${s[c]}`},notLastIndex:function(t,e){const n=t.Template;const r=n.split("}");const i=[];let o=false;for(let t=0;t<r.length-1;t++){const e=r[t].split("{")[1].trim();i.push(e)}i.forEach(function(n){const r=i.length-1;if(t.Data[n]===e&&i.indexOf(n)<r){o=true}});return o},getDelimiter:function(t){return t.split("}")[1].split("{")[0].trim()},oMetaModel:undefined,setMetaModel:function(t){this.oMetaModel=t},getMetaModel:function(){return this.oMetaModel},getParameters:function(t,e){if(e){const r=n.getParameterInfo(e,t);if(r.parameterProperties){return Object.keys(r.parameterProperties)}}return[]},buildActionWrapper:function(t,e){let n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;const r=[O("$event"),t.handlerModule,t.handlerMethod];if(e&&e.id){const t=!n?"${internal>selectedContexts}":"${internal>contextmenu/selectedContexts}";const e={contexts:O(t)};r.push(e)}return C(v("FPM.actionWrapper",r))},getHiddenPathExpression:function(t){if(t["@com.sap.vocabularies.UI.v1.Hidden"]!==null){const e=t["@com.sap.vocabularies.UI.v1.Hidden"];return typeof e==="object"?"{= !${"+e.$Path+"} }":!e}return true},getOperatorsForProperty:function(t,e,r,i,o,a){const l=n.getFilterRestrictionsByPath(e,r);const f=["EQ"];const g=["EQ","GE","LE","LT","GT","BT","NE","NOTBT","NOTLE","NOTLT","NOTGE","NOTGT"];const p=["EQ","BT"];const d=["EQ","GE","LE","LT","GT","BT","NE","NOTBT","NOTLE","NOTLT","NOTGE","NOTGT"];const m=["Contains","NotContains","StartsWith","NotStartsWith","EndsWith","NotEndsWith"];const h=u.getBasicSemanticDateOperations();const b=o==="true"||o===true;let $=[];const y=a&&typeof a==="string"?JSON.parse(a).customData:a;const O=j(i||"",y);if(r.getObject(`${e}/@com.sap.vocabularies.Common.v1.ResultContext`)===true){return f}if(y&&y.operatorConfiguration&&y.operatorConfiguration.length>0){$=u.getFilterOperations(y.operatorConfiguration,i)}else{$=s.getSemanticDateOperations(i)}const P=x(i);let E=P;if(b){const t=c.getSemanticDateOperations();E=[...h,...P,...t]}let M=[];if(l&&l.FilterAllowedExpressions&&l.FilterAllowedExpressions[t]){const e=n.getSpecificAllowedExpression(l.FilterAllowedExpressions[t]);switch(e){case"SingleValue":const t=s.getSingleValueDateOperations();let e;if(i==="Edm.Date"&&b){e=[...t,...O]}else if(i==="Edm.Date"||i==="Edm.DateTimeOffset"){e=[...f,...O]}else{e=f}M=N(E,e);break;case"MultiValue":const n=[...f,"Empty","NotEmpty"];M=N(E,n);break;case"SingleRange":let r;if(b&&(i==="Edm.Date"||i==="Edm.DateTimeOffset")){r=[...$,...O]}else if(i==="Edm.DateTimeOffset"){r=[...p,...O]}else if(i==="Edm.Date"){r=[...g,...O]}else{r=g}M=N(E,r);break;case"MultiRange":const o=i==="Edm.Date"||i==="Edm.DateTimeOffset"?[...d,...O]:d;M=N(E,o);break;case"SearchExpression":M=N(E,m);break;case"MultiRangeOrSearchExpression":M=N(E,m.concat(d));break;default:break}}return M},getOperatorsForDateProperty:function(t){const e=x(t);const n=["EQ","GE","LE","LT","GT","BT","NE","NOTBT","NOTLE","NOTLT","NOTGE","NOTGT","Empty","NotEmpty"];return N(e,n)},getAIIcon:function(){return y}};F.getSortConditions.requiresIContext=true;return F},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/ConditionalSwitch", ["sap/fe/base/BuildingBlockBase","sap/fe/base/ClassSupport"],function(e,t){"use strict";var i,n,r,o,a,c,u,s,l,f,d;var p={};var h=t.property;var b=t.implementInterface;var y=t.defineUI5Class;var m=t.aggregation;function _(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function g(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,v(e,t)}function v(e,t){return v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},v(e,t)}function w(e,t,i,n,r){var o={};return Object.keys(n).forEach(function(e){o[e]=n[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce(function(i,n){return n(e,t,i)||i},o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer?(Object.defineProperty(e,t,o),null):o}function C(e,t){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let D=(i=y("sap.fe.macros.ConditionalSwitch"),n=b("sap.ui.core.IFormContent"),r=m({type:"sap.ui.core.IFormContent",isDefault:false}),o=m({type:"sap.fe.macros.ConditionalSwitchProperty",isDefault:true,multiple:true,singularName:"switchProperty"}),a=h({type:"function"}),i(c=(u=function(e){function t(t,i,n){var r;r=e.call(this,t,i,n)||this;_(r,"__implements__sap_ui_core_IFormContent",s,r);_(r,"content",l,r);_(r,"switchProperties",f,r);_(r,"factory",d,r);r.DEBOUNCE_TIME=200;return r}p=t;g(t,e);var i=t.prototype;i._createContentDebounced=function e(){if(this._createDebounceTimer!==undefined){clearTimeout(this._createDebounceTimer)}this._createDebounceTimer=window.setTimeout(()=>{this._createContent()},this.DEBOUNCE_TIME)};i._createContent=function e(){if(this.factory){const e=this.switchProperties.reduce((e,t)=>{e[t.key]=t.value;return e},{});const t=this.content;const i=this.factory.call(this,e,this.getBindingContext(),this.content);if(i!==t){t?.destroy();this.content=i}if(this.ariaLabelledBy!==undefined){this.content?.addAssociation("ariaLabelledBy",this.ariaLabelledBy.join(","))}}};i.addAssociation=function t(i,n,r){e.prototype.addAssociation.call(this,i,n,r);if(i==="ariaLabelledBy"&&this.content){this.content.addAssociation("ariaLabelledBy",n)}return this};i.addSwitchProperty=function t(i){e.prototype.addAggregation.call(this,"switchProperties",i);if(!this.fnBoundDebounced){this.fnBoundDebounced=this._createContentDebounced.bind(this)}i.attachEvent("valueChanged",this.fnBoundDebounced);this._createContentDebounced();return this};i.removeSwitchProperty=function t(i){const n=e.prototype.removeAggregation.call(this,"switchProperties",i);if(n!==null&&this.fnBoundDebounced){n.detachEvent("valueChanged",this.fnBoundDebounced)}this._createContentDebounced();return n};i.getFormDoNotAdjustWidth=function e(){return this.content?.getFormDoNotAdjustWidth?.()??false};return t}(e),s=w(u.prototype,"__implements__sap_ui_core_IFormContent",[n],{configurable:true,enumerable:true,writable:true,initializer:function(){return true}}),l=w(u.prototype,"content",[r],{configurable:true,enumerable:true,writable:true,initializer:null}),f=w(u.prototype,"switchProperties",[o],{configurable:true,enumerable:true,writable:true,initializer:null}),d=w(u.prototype,"factory",[a],{configurable:true,enumerable:true,writable:true,initializer:null}),u))||c);p=D;return p},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/ConditionalSwitchProperty", ["sap/fe/base/ClassSupport","sap/ui/core/Element"],function(e,r){"use strict";var t,i,n,a,l,o,u,c,s;var p=e.property;var f=e.event;var b=e.defineUI5Class;function v(e,r,t,i){t&&Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(i):void 0})}function y(e,r){e.prototype=Object.create(r.prototype),e.prototype.constructor=e,d(e,r)}function d(e,r){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,r){return e.__proto__=r,e},d(e,r)}function g(e,r,t,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce(function(t,i){return i(e,r,t)||t},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer?(Object.defineProperty(e,r,a),null):a}function h(e,r){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let m=(t=b("sap.fe.macros.ConditionalSwitchProperty"),i=p({type:"string"}),n=p({type:"any"}),a=f(),t(l=(o=function(e){function r(r,t,i){var n;n=e.call(this,r,t,i)||this;v(n,"key",u,n);v(n,"value",c,n);v(n,"valueChanged",s,n);return n}y(r,e);var t=r.prototype;t.setValue=function e(r){this.setProperty("value",r);this.fireEvent("valueChanged")};return r}(r),u=g(o.prototype,"key",[i],{configurable:true,enumerable:true,writable:true,initializer:null}),c=g(o.prototype,"value",[n],{configurable:true,enumerable:true,writable:true,initializer:null}),s=g(o.prototype,"valueChanged",[a],{configurable:true,enumerable:true,writable:true,initializer:null}),o))||l);return m},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/DelegateUtil", ["sap/base/Log","sap/fe/core/CommonUtils","sap/fe/core/converters/MetaModelConverter","sap/fe/core/helpers/StableIdHelper","sap/fe/core/templating/DataModelPathHelper","sap/fe/core/templating/PropertyFormatters","sap/fe/core/templating/PropertyHelper","sap/fe/macros/field/FieldHelper","sap/fe/macros/internal/valuehelp/ValueHelpTemplating"],function(e,t,r,a,o,n,s,i,l){"use strict";var c=l.generateID;var u=s.getAssociatedUnitPropertyPath;var p=s.getAssociatedCurrencyPropertyPath;var d=n.getRelativePropertyPath;var f=o.getTargetObjectPath;var g=o.enhanceDataModelPath;var m=a.generate;var h=r.getInvolvedDataModelObjects;const P="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1";function y(){this.control.detachModelContextChange(y,this);const e=this.modelName,t=this.control.getModel(e);if(t){this.resolve(t)}else{this.control.attachModelContextChange(y,this)}}const C={FETCHED_PROPERTIES_DATA_KEY:"sap_fe_ControlDelegate_propertyInfoMap",setCachedProperties(e,t){if(e instanceof window.Element){return}const r=C.FETCHED_PROPERTIES_DATA_KEY;C.setCustomData(e,r,t)},getCachedProperties(e){if(e instanceof window.Element){return undefined}const t=C.FETCHED_PROPERTIES_DATA_KEY;return C.getCustomData(e,t)},async getCustomDataWithModifier(e,t,r){if(!r){return Promise.resolve(C.getCustomData(e,t))}const a=await C.retrieveCustomDataNode(e,t,r);if(a.length===1){return r.getProperty(a[0],"value")}else{return undefined}},getCustomData(e,t){if(e&&t){if(e instanceof window.Element){return e.getAttributeNS(P,t)}if(e.data instanceof Function){return e.data(t)}}return undefined},setCustomData(e,t,r){if(e&&t){if(e instanceof window.Element){return e.setAttributeNS(P,`customData:${t}`,r)}if(e.data instanceof Function){return e.data(t,r)}}},fetchPropertiesForEntity(e,t){return t.requestObject(`${e}/`)},fetchAnnotationsForEntity(e,t){return t.requestObject(`${e}@`)},async fetchModel(e){return new Promise(t=>{const r=e.getDelegate().payload&&e.getDelegate().payload?.modelName,a={modelName:r,control:e,resolve:t};y.call(a)})},async templateControlFragment(e,r,a,o){return t.templateControlFragment(e,r,a,o)},async doesValueHelpExist(e){const t=e.sPropertyName||"";const r=e.sValueHelpType||"";const a=e.oMetaModel;const o=e.oModifier;const n=`${e.sBindingPath}/${t}`;const s=a.createBindingContext(n);let l=i.valueHelpProperty(s);const P=e.sBindingPath&&e.sBindingPath.indexOf("/")===0;if(l.includes("$Path")){l=a.getObject(l)}const y=h(s);if(P&&l.indexOf("/")!==0){const e=p(y.targetObject)||u(y.targetObject);const t=g(y,e);l=f(t)}const C=c(e.flexId,m([o?o.getId(e.oControl):e.oControl.getId(),r]),undefined,d(s.getProperty(n),{context:{getModel:()=>e.oMetaModel,getPath:()=>n}}),d(s.getProperty(l),{context:{getModel:()=>e.oMetaModel,getPath:()=>l}}));return Promise.resolve().then(async function(){if(o){return o.getAggregation(e.oControl,"dependents")}return e.oControl.getAggregation("dependents")}).then(async function(t){if(t){for(const r of t){let t=r;if(o){if(o.getControlType(r)==="sap.fe.macros.ValueHelp"&&await o.getProperty(r,"metaPath")===e.metaPath){return true}else if(o.getControlType(r)==="sap.fe.macros.ValueHelp"&&o.targets!=="xmlTree"){t=r.getContent()}else if(o.getControlType(r)==="sap.ui.mdc.ValueHelp"&&o.targets!=="xmlTree"&&o.getId(t).includes("::FilterFieldValueHelp::")){const a=r.getPayload();if(a?.propertyPath&&a?.propertyPath===e.metaPath){return true}else if(!a?.propertyPath){const e=o.getId(t);const r=e.split("::FilterFieldValueHelp::")[1];const a=C.split("::FilterFieldValueHelp::")[1];if(r===a){return true}}}if(t&&o.getId(t)===C){return true}}else{const e=r;if(e.isA("sap.fe.macros.ValueHelp")){t=e.getContent()}if(t?.getId()===C){return true}}}}return false})},async isValueHelpRequired(t,r){const a=t.sPropertyName||"",o=t.oMetaModel,n=`${t.sBindingPath}/${a}`,s=o.createBindingContext(n),l=i.valueHelpProperty(s,r);return this.getCustomDataWithModifier(t.oControl,"displayModePropertyBinding",t.oModifier).then(async function(e){e=typeof e==="boolean"?e:e==="true";if(e){return false}return Promise.all([o.requestObject(`${l}@com.sap.vocabularies.Common.v1.ValueListWithFixedValues`),o.requestObject(`${l}@com.sap.vocabularies.Common.v1.ValueListReferences`),o.requestObject(`${l}@com.sap.vocabularies.Common.v1.ValueListMapping`),o.requestObject(`${l}@com.sap.vocabularies.Common.v1.ValueList`)])}).then(function(e){if(!Array.isArray(e)){return e}return!!e[0]||!!e[1]||!!e[2]||!!e[3]}).catch(function(t){e.warning("Error while retrieving custom data / value list annotation values",t);return false})},isMultiValue(e){let t=true;if(e.dataType&&e.dataType?.indexOf("Boolean")>0){t=false}return t},async retrieveCustomDataNode(e,t,r){const a=[];const o=await Promise.resolve().then(r.getAggregation.bind(r,e,"customData"));for(const e of o){const o=await r.getProperty(e,"key");if(o===t){a.push(e)}}return a}};return C},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/Field", ["sap/base/Log","sap/fe/base/BindingToolkit","sap/fe/base/ClassSupport","sap/fe/core/CommonUtils","sap/fe/core/controllerextensions/collaboration/CollaborationCommon","sap/fe/core/helpers/StableIdHelper","sap/fe/core/templating/DataModelPathHelper","sap/fe/macros/field/FieldRuntime","sap/fe/macros/field/FieldTemplating","sap/fe/macros/internal/field/FieldStructure","sap/fe/macros/internal/field/FieldStructureHelper","sap/m/MessageToast","sap/ui/core/LabelEnablement","sap/ui/core/Messaging","sap/ui/core/message/Message","sap/ui/mdc/enums/FieldEditMode","sap/ui/model/json/JSONModel","./MacroAPI","./field/FieldRuntimeHelper","./inlineEdit/InlineEdit"],function(e,t,i,n,r,a,o,s,l,d,u,c,p,g,f,h,b,m,y,v){"use strict";var P,A,C,x,E,I,B,F,O,M,w,S,T,H,z,L,j,V,D,_,k,R,U,W,N,q,G,$,J,Q,K,X,Y,Z,ee,te,ie,ne,re,ae,oe,se,le,de,ue,ce,pe,ge,fe,he,be,me,ye,ve,Pe,Ae,Ce,xe,Ee,Ie,Be,Fe,Oe;var Me=u.setUpField;var we=l.getDataModelObjectPathForValue;var Se=o.getContextRelativeTargetObjectPath;var Te=a.generate;var He=r.Activity;var ze=i.xmlEventHandler;var Le=i.property;var je=i.mixin;var Ve=i.event;var De=i.defineUI5Class;var _e=i.association;var ke=i.aggregation;var Re=t.compileExpression;function Ue(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function We(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Ne(e,t)}function Ne(e,t){return Ne=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ne(e,t)}function qe(e,t,i,n,r){var a={};return Object.keys(n).forEach(function(e){a[e]=n[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce(function(i,n){return n(e,t,i)||i},a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer?(Object.defineProperty(e,t,a),null):a}function Ge(e,t){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let $e=(P=De("sap.fe.macros.Field",{returnTypes:["sap.fe.core.controls.FormElementWrapper"]}),A=je(v),C=Le({type:"boolean"}),x=Le({type:"boolean",bindToState:true}),E=Le({type:"string"}),I=Le({type:"string",expectedAnnotations:[],expectedTypes:["EntitySet","EntityType","Singleton","NavigationProperty","Property"]}),B=Le({type:"boolean"}),F=Le({type:"string",expectedTypes:["EntitySet","EntityType","Singleton","NavigationProperty"]}),O=Ve(),M=Ve(),w=Ve(),S=_e({type:"string"}),T=_e({type:"string"}),H=Le({type:"boolean"}),z=ke({type:"sap.fe.macros.field.FieldFormatOptions"}),L=_e({type:"string"}),j=Le({type:"sap.ui.mdc.enums.FieldEditMode"}),V=Le({type:"string",bindToState:true}),D=Le({type:"string",bindable:true,isBindingInfo:true,required:false}),_=Le({type:"string",bindable:true,isBindingInfo:true,required:false}),k=Le({type:"sap.ui.core.TextAlign"}),R=Le({type:"object",isBindingInfo:true}),U=Le({type:"string"}),W=Le({type:"string"}),N=Le({type:"object",isBindingInfo:true}),q=Le({type:"boolean"}),G=Le({type:"boolean"}),$=Le({type:"string"}),J=Le({type:"boolean"}),Q=Le({type:"boolean"}),K=ze(),X=ze(),Y=ze(),P(Z=A(Z=(ee=function(t){function i(e,i){var n;let r;if(e){if(typeof e==="string"){r={...i,id:e}}else{r={...e,...i}}const{_flexId:t,vhIdPrefix:n,idPrefix:a,id:o,_apiId:s}=r;if(t&&!t.includes("-content")){r._apiId=t;r._flexId=`${t}-content`}if(!n){r.vhIdPrefix="FieldValueHelp";r._flexId=o;r.idPrefix=a||o}if(!o){if(r._apiId){r.id=r._apiId}else if(a){r.id=Te([a,"Field"])}}}n=t.call(this,r)||this;Ue(n,"editable",te,n);Ue(n,"readOnly",ie,n);Ue(n,"id",ne,n);Ue(n,"metaPath",re,n);Ue(n,"wrap",ae,n);Ue(n,"contextPath",oe,n);Ue(n,"change",se,n);Ue(n,"focusin",le,n);Ue(n,"liveChange",de,n);Ue(n,"idPrefix",ue,n);Ue(n,"vhIdPrefix",ce,n);Ue(n,"navigateAfterAction",pe,n);Ue(n,"formatOptions",ge,n);Ue(n,"_flexId",fe,n);Ue(n,"editMode",he,n);Ue(n,"semanticObject",be,n);Ue(n,"value",me,n);Ue(n,"description",ye,n);Ue(n,"textAlign",ve,n);Ue(n,"showErrorObjectStatus",Pe,n);Ue(n,"collaborationEnabled",Ae,n);Ue(n,"mainPropertyRelativePath",Ce,n);Ue(n,"customValueBinding",xe,n);Ue(n,"inlineEditEnabled",Ee,n);Ue(n,"hasInlineEdit",Ie,n);n.focusHandlersAttached=false;Ue(n,"_apiId",Be,n);Ue(n,"required",Fe,n);Ue(n,"_requiresValidation",Oe,n);return n}We(i,t);var r=i.prototype;r.getCollaborationBinding=function e(t){let i=t.getBindingContext().getBinding();if(!i.isA("sap.ui.model.odata.v4.ODataListBinding")){const e=n.getTargetView(t);i=e.getBindingContext().getBinding()}return i};r.extractChangeEventDetails=function e(t){const i=t.getSource();const n=this.getPageController();const r=i&&i.getBindingContext();const a=r?r.isTransient():false;const o=t.getParameter("promise")||Promise.resolve();const s=t.getParameter("valid");const l=y.getFieldStateOnChange(t).state["validity"];const d=this?.customValueBinding;return{source:i,controller:n,isTransient:a,valueResolved:o,valid:s,fieldValidity:l,customValueBinding:d}};r.handleChange=function t(i){const{source:n,controller:r,isTransient:a,valueResolved:o,valid:s,fieldValidity:l,customValueBinding:d}=this.extractChangeEventDetails(i);if(d){let e;const t=n?.getModel(d.model);if(n.isA("sap.m.CheckBox")){e=i.getParameter("selected")}else{e=i.getParameter("value")}t?.setProperty(d.path,e);t?.updateBindings(true)}const u=r?y.getExtensionController(r):undefined;o.then(()=>{i.oSource=n;i.mParameters={valid:s??true};this?.fireEvent("change",{value:this.getValue(),isValid:s??true});if(!a){u?._sideEffects.handleFieldChange(i,!!l,o,true)}if(r){y.fetchRecommendations(n,r)}return}).catch(()=>{i.oSource=n;i.mParameters={valid:false};e.debug("Prerequisites on Field for the SideEffects and Recommendations have been rejected");this.fireEvent("change",{value:this.getValue(),isValid:s??false})});const c=o.then(async()=>new Promise(e=>{setTimeout(e,0)})).catch(async()=>new Promise(e=>{setTimeout(e,0)}));u?.editFlow.syncTask(c);if(a){return}u?._sideEffects.prepareDeferredSideEffectsForField(i,!!l,o);const p=r?.collaborativeDraft.isConnected();if(p&&l){const e=this.getCollaborationBinding(n);const t=[...(n.getBindingInfo("value")||n.getBindingInfo("selected"))?.parts||[],...n.getBindingInfo("additionalValue")?.parts||[]].filter(e=>e?.path!==undefined&&e.path.indexOf("@@")<0).map(function(e){return`${n.getBindingContext()?.getPath()}/${e.path}`});r?.collaborativeDraft.retainAsyncMessages(t);const i=()=>{e.attachEventOnce("patchCompleted",function(){r?.collaborativeDraft.send({action:He.Change,content:t});r?.collaborativeDraft.releaseAsyncMessages(t)})};const a=e.hasPendingChanges();if(a){i()}const s=()=>{if(!a){if(e.hasPendingChanges()){i()}else{r?.collaborativeDraft.releaseAsyncMessages(t)}}};if(n.isA("sap.ui.mdc.Field")||n.isA("sap.ui.mdc.MultiValueField")){o.then(()=>{s();return}).catch(()=>{s()})}else{s()}}};r.handleLiveChange=function e(t){this.fireEvent("liveChange")};r.onValidateFieldGroup=function e(t){const i=t.getSource(),r=n.getTargetView(i),a=r.getController();const o=y.getExtensionController(a);o._sideEffects.handleFieldGroupChange(t)};r._setAriaLabelledBy=function e(t){if(t&&t.addAriaLabelledBy){const e=this.ariaLabelledBy;for(const i of e){const e=t.getAriaLabelledBy()||[];if(!e.includes(i)){t.addAriaLabelledBy(i)}}if(t.isA("sap.fe.macros.contact.Contact")||t.isA("sap.fe.macros.contact.Email")){this._setAriaLabelledBy(t.getContent())}}};r.onBeforeRendering=function e(){this._setAriaLabelledBy(this.content)};r.getInnerControl=function e(t){if(t?.isA("sap.fe.macros.controls.FieldWrapper")&&!t?.isA("sap.fe.macros.controls.FileWrapper")){const e=t;const i=e.getContentEdit();let n;if(i.length>=1){n=i[0]}if(n?.isA("sap.m.HBox")){n=n.getItems()[0]}return n}};r.onAfterRendering=function e(){const t=this.getInnerControl(this.content);const i=["sap.m.CheckBox"];const n=!i.includes(t?.getMetadata().getName()??"");if(this.collaborationEnabled&&!this.focusHandlersAttached&&n){this.content?.addEventDelegate({onfocusin:e=>{this.getPageController().collaborativeDraft.handleContentFocusIn(this,e)}},this);this.focusHandlersAttached=true}};i.getControlInFieldWrapper=function e(t){if(t?.isA("sap.fe.macros.controls.FieldWrapper")&&!t?.isA("sap.fe.macros.controls.FileWrapper")){const e=t;const i=e.getEditMode()==="Display"?[e.getContentDisplay()]:e.getContentEdit();if(i.length>=1){return i[0]}}else{return t}};r.hasPendingUserInput=function e(){const t=i.getControlInFieldWrapper(this.getContent());return!!(t&&t.isA("sap.ui.mdc.Field")&&t.hasPendingUserInput())};r.getLabelControls=function e(){const t=this._getLabelsFromReferencingLabels();return t.length>0?t:this._getLabelsForFormFields()};r._getLabelsFromReferencingLabels=function e(){const t=p.getReferencingLabels(this);const i=[];const n=this.getPageController().getView();t.forEach(e=>{const t=n.byId(e);if(t){i.push(t)}});return i};r._getLabelsForFormFields=function e(){if(!this.getId().includes("FormElement")){return[]}let t=this;while(t&&!t.isA("sap.ui.layout.form.FormElement")){t=t?.getParent()}return t?[t.getLabelControl()]:[]};r.getValue=function e(){let t=i.getControlInFieldWrapper(this.content);if(!t){return undefined}if(this.collaborationEnabled&&t?.isA("sap.m.HBox")){t=t.getItems()[0]}if(t?.isA("sap.m.CheckBox")){return t.getSelected()}else if(t?.isA("sap.m.RatingIndicator")){return t.getValue()}else if(t?.isA("sap.m.InputBase")){return t.getValue()}else if(t?.isA("sap.m.Link")){return t.getText()}else if(t?.isA("sap.m.Label")){return t.getText()}else if(t?.isA("sap.m.Text")){return t.getText(false)}else if(t?.isA("sap.fe.macros.controls.TextLink")){return t.getText()}else if(t?.isA("sap.m.ObjectStatus")){return t.getText()}else if(t?.isA("sap.m.ObjectIdentifier")){return t.getTitle()}else if(t?.isA("sap.ui.mdc.Field")){return t.getValue()}else if(t?.isA("sap.fe.macros.internal.DataPoint")||t?.isA("sap.fe.macros.contact.Email")||t?.isA("sap.fe.macros.contact.Contact")){return t.getValue()}else{throw new Error("getting value not yet implemented for this field type")}};r.getMainPropertyRelativePath=function e(){return this.mainPropertyRelativePath};r.setValue=function e(t){if(!this.content){return this.setProperty("value",t)}let n=i.getControlInFieldWrapper(this.content);if(this.collaborationEnabled&&n?.isA("sap.m.HBox")){n=n.getItems()[0]}if(n?.isA("sap.m.CheckBox")){n.setSelected(t)}else if(n?.isA("sap.m.InputBase")){n.setValue(t)}else if(n?.isA("sap.m.Text")){n.setText(t)}else if(n?.isA("sap.ui.mdc.Field")){n.setValue(t)}else{throw"setting value not yet implemented for this field type"}return this};r.getEnabled=function e(){let t=i.getControlInFieldWrapper(this.content);if(t===null||t===undefined||t?.isA("sap.m.Text")){return true}if(this.collaborationEnabled&&t.isA("sap.m.HBox")){t=t.getItems()[0]}if(t.isA("sap.m.VBox")){t=t.getItems()[0]}if(t.isA("sap.m.CheckBox")||t.isA("sap.m.InputBase")||t.isA("sap.m.Link")||t.isA("sap.m.Button")){return t.getProperty("enabled")}if(t.isA("sap.m.ObjectStatus")||t.isA("sap.m.ObjectIdentifier")||t.isA("sap.fe.core.controls.FormElementWrapper")||t.isA("sap.m.ExpandableText")||t.isA("sap.fe.macros.controls.ConditionalWrapper")||t.isA("sap.fe.macros.controls.TextLink")){return true}if(t.isA("sap.fe.macros.internal.DataPoint")||t.isA("sap.fe.macros.contact.Contact")){return t.getEnabled()}if(t.isA("sap.fe.macros.contact.Email")){return t.getProperty("linkEnabled")}if(t.isA("sap.ui.mdc.Field")){const e=t.getEditMode();return e!==h.Disabled}if(t.isA("sap.fe.macros.controls.FileWrapper")){return t.link?t.link.getProperty("enabled"):true}if(t.isA?.("sap.m.HBox")&&t.getItems()[1]?.isA("sap.fe.macros.situations.SituationsIndicator")){return true}return false};r.setEnabled=function e(t){let n=i.getControlInFieldWrapper(this.content);if(this.collaborationEnabled&&n?.isA("sap.m.HBox")){n=n.getItems()[0]}if(n?.isA("sap.m.CheckBox")){return n.setProperty("enabled",t)}else if(n?.isA("sap.m.InputBase")){return n.setProperty("enabled",t)}else if(n?.isA("sap.m.Link")){return n.setProperty("enabled",t)}else if(n?.isA("sap.m.Button")){return n.setProperty("enabled",t)}else if(n?.isA("sap.m.ObjectStatus")){return n.setProperty("active",t)}else if(n?.isA("sap.m.ObjectIdentifier")){return n.setProperty("titleActive",t)}else if(n?.isA("sap.ui.mdc.Field")){let e;if(t){e=h.Editable}else{e=h.Disabled}n.setEditMode(e)}else if(n?.isA("sap.fe.macros.contact.Email")){n.setLinkEnabled(t);return n}else if(n?.isA("sap.fe.macros.internal.DataPoint")){n.setEnabled(t)}else{throw"setEnabled isn't implemented for this field type"}return this};r.addMessage=function e(t){const n=this.getMessageManager();const r=i.getControlInFieldWrapper(this.content);let a;if(r?.isA("sap.m.CheckBox")){a=r.getBinding("selected")?.getResolvedPath()}else if(r?.isA("sap.m.InputBase")){a=r.getBinding("value")?.getResolvedPath()}else if(r?.isA("sap.ui.mdc.Field")){a=r.getBinding("value").getResolvedPath()}const o=new f({target:a,type:t.type,message:t.message,processor:r?.getModel(),description:t.description,persistent:t.persistent});n.addMessages(o);return o.getId()};r.removeMessage=function e(t){const i=this.getMessageManager();const n=i.getMessageModel().getData();const r=n.find(e=>e?.getId?.()===t);if(r){i.removeMessages(r)}};r.getMessageManager=function e(){return g};r.onMetadataAvailable=function e(){if(!this.content){const e=this.prepareProperties();if(e){this.content=this.createContent(e)}}};r.prepareProperties=function e(){const t=this.getMetaPathObject(this.metaPath,this.contextPath);if(!t){return undefined}const i=this._getOwner();const n=this.getPropertyBag();Object.defineProperty(n,"value",{get:()=>this.value});Object.defineProperty(n,"description",{get:()=>this.description});n.readOnly=this.bindState("readOnly");if(this.getBindingInfo("semanticObject")){n.semanticObject=Re(this.bindState("semanticObject"))}n.vhIdPrefix=this.vhIdPrefix;n.idPrefix=this.idPrefix;n._flexId=this._flexId;n.onLiveChange=this.hasListeners("liveChange")?"Something":undefined;this.preprocessorContext=i?.preprocessorContext;this.odataMetaModel=this.getMetaModel();this.computedContextPath=this.odataMetaModel?.getMetaContext(this.getComputedContextPath(this.contextPath));this.computedMetaPath=this.odataMetaModel?.createBindingContext(t.getPath());if(this.isPropertyInitial("visible")){n.visible=undefined}n.id=n.id??this.getId();const r=Me(n,{},this.preprocessorContext?.models.viewData??new b(this._getOwner()?.getViewData?.()??{}),this.preprocessorContext?.models.internal??this._getOwner().getAppComponent().getModel("internal"),this.preprocessorContext?.appComponent??this._getOwner().getAppComponent(),this.isPropertyInitial("readOnly"),this.computedMetaPath,this.computedContextPath);this.setOrBindProperty("inlineEditEnabled",r.inlineEditEnabled);this.setOrBindProperty("hasInlineEdit",Re(r.hasInlineEdit));r.isDynamicInstantiation=true;if(r.mainPropertyRelativePath)this.mainPropertyRelativePath=r.mainPropertyRelativePath;if(r.collaborationEnabled)this.collaborationEnabled=r.collaborationEnabled;if(r.displayStyle==="File")r.fileUploaderVisible=!this.readOnly&&r.editableExpression;r.getTranslatedText=this.getTranslatedText.bind(this);return r};r.createContent=function e(t){try{const e=this.getPageController();if(t.required===undefined){this.setOrBindProperty("required",t.requiredExpression)}this.setOrBindProperty("editable",t.editableExpression);this.setOrBindProperty("visible",t.visible);if(typeof t.value!=="string"){this.customValueBinding=t.value}if(t.computedEditMode!==undefined){this.setOrBindProperty("editMode",t.editMode??Re(t.computedEditMode))}t.eventHandlers.change=i.handleChange;t.eventHandlers.liveChange=i.handleLiveChange;t.eventHandlers.validateFieldGroup=i.onValidateFieldGroup;t.eventHandlers.handleTypeMissmatch=this.onHandleTypeMissmatch.bind(this);t.eventHandlers.handleFileSizeExceed=this.onHandleFileSizeExceed.bind(this);t.eventHandlers.handleUploadComplete=i=>{y.handleUploadComplete(i,{path:t.fileFilenameExpression},t.fileRelativePropertyPath,e)};t.eventHandlers.uploadStream=this.onUploadStream.bind(this);t.eventHandlers.removeStream=i=>{y.removeStream(i,{path:t.fileFilenameExpression},t.fileRelativePropertyPath,e)};t.eventHandlers.handleOpenUploader=this.onHandleOpenUploader.bind(this);t.eventHandlers.handleCloseUploader=this.onHandleCloseUploader.bind(this);t.eventHandlers.openExternalLink=this.onOpenExternalLink.bind(this);t.eventHandlers.onFocusOut=this.onFocusOut.bind(this);t.eventHandlers.linkPressed=this.onLinkPressed.bind(this);t.eventHandlers.onDataFieldWithIBN=i=>{const n=t.metaPath.getObject();if(!n)return undefined;const r={navigationContexts:i.getSource()?.getBindingContext()};if(n.Mapping){r.semanticObjectMapping=n.Mapping}e._intentBasedNavigation.navigate(n.SemanticObject,n.Action,r,i.getSource())};t.eventHandlers.onDataFieldActionButton=i=>{const n=t;const r=t.metaPath.getObject();let a="Isolated";if(r.InvocationGrouping&&r.InvocationGrouping.$EnumMember==="com.sap.vocabularies.UI.v1.OperationGroupingType/ChangeSet"){a="ChangeSet"}let o=n.navigateAfterAction;o=o==="false"?false:true;const s=n?.contextPath?.getPath().split("/");const l=s[s.length-1];const d={contexts:i.getSource().getBindingContext(),invocationGrouping:a,model:i.getSource().getModel(),label:r.Label,isNavigable:o,entitySetName:l};e.editFlow.invokeAction(r.Action,d)};t.eventHandlers.displayAggregationDetails=e=>{s.displayAggregateDetails(e,Se(t.dataModelPath))};if(t.convertedMetaPath.$Type==="com.sap.vocabularies.UI.v1.DataFieldWithNavigationPath"){t.eventHandlers.onDataFieldWithNavigationPath=i=>{y.onDataFieldWithNavigationPath(i.getSource(),e,t.convertedMetaPath.Target.value)}}t.eventHandlers.showCollaborationEditUser=this.onShowCollaborationEditUser.bind(this);t.valueHelpId=d.getPossibleValueHelpTemplateId(t,this.getPageController(),this.getMetaModel());this.content=d.getFieldStructureTemplate(t)}catch(e){if(e instanceof Error){c.show(e.message+" in createContent of Field")}else{c.show("An unknown error occurred")}}return this.content};r.onHandleTypeMissmatch=function e(t){y.handleTypeMissmatch(t)};r.onHandleFileSizeExceed=function e(t){y.handleFileSizeExceed(t)};r.onHandleOpenUploader=function e(t){y.handleOpenUploader(t)};r.onUploadStream=function e(t){y.uploadStream(this.getPageController(),t)};r.onHandleCloseUploader=function e(t){y.handleCloseUploader(t)};r.onOpenExternalLink=function e(t){y.openExternalLink(t)};r.onLinkPressed=function e(t){y.pressLink(t)};r.onFocusOut=function e(t){const i=this.getPageController();i.collaborativeDraft.handleContentFocusOut(t)};r.onShowCollaborationEditUser=function e(t){const i=t.getSource();const n=this.getPageController().getView();y.showCollaborationEditUser(i,n)};r.getPropertyBag=function e(){const t={};const i=this.getMetadata().getAllProperties();const n=this.getMetadata().getAllAggregations();for(const e in i){const i=this.getProperty(e);t[e]=i}for(const e in n){const i=this.getAggregation(e);if(Array.isArray(i)){const n=[];for(const e of i){if(e.isA("sap.fe.macros.controls.BuildingBlockObjectProperty")){n.push(e.getPropertyBag())}}t[e]=n}else if(i){if(i.isA("sap.fe.macros.controls.BuildingBlockObjectProperty")){t[e]=i.getPropertyBag();for(const n in i.mBindingInfos){t[e][n]=i.getBindingInfo(n)}}else{t[e]=i.getId()}}}return t};r.getInlineEditProperty=function e(){const t=this.getDataModelObjectForMetaPath(this.metaPath,this.contextPath);return we(t)?.targetObject};r.getInlineEditPropertyName=function e(){return this.getInlineEditProperty()?.fullyQualifiedName};return i}(m),te=qe(ee.prototype,"editable",[C],{configurable:true,enumerable:true,writable:true,initializer:null}),ie=qe(ee.prototype,"readOnly",[x],{configurable:true,enumerable:true,writable:true,initializer:null}),ne=qe(ee.prototype,"id",[E],{configurable:true,enumerable:true,writable:true,initializer:null}),re=qe(ee.prototype,"metaPath",[I],{configurable:true,enumerable:true,writable:true,initializer:null}),ae=qe(ee.prototype,"wrap",[B],{configurable:true,enumerable:true,writable:true,initializer:null}),oe=qe(ee.prototype,"contextPath",[F],{configurable:true,enumerable:true,writable:true,initializer:null}),se=qe(ee.prototype,"change",[O],{configurable:true,enumerable:true,writable:true,initializer:null}),le=qe(ee.prototype,"focusin",[M],{configurable:true,enumerable:true,writable:true,initializer:null}),de=qe(ee.prototype,"liveChange",[w],{configurable:true,enumerable:true,writable:true,initializer:null}),ue=qe(ee.prototype,"idPrefix",[S],{configurable:true,enumerable:true,writable:true,initializer:null}),ce=qe(ee.prototype,"vhIdPrefix",[T],{configurable:true,enumerable:true,writable:true,initializer:null}),pe=qe(ee.prototype,"navigateAfterAction",[H],{configurable:true,enumerable:true,writable:true,initializer:function(){return true}}),ge=qe(ee.prototype,"formatOptions",[z],{configurable:true,enumerable:true,writable:true,initializer:null}),fe=qe(ee.prototype,"_flexId",[L],{configurable:true,enumerable:true,writable:true,initializer:null}),he=qe(ee.prototype,"editMode",[j],{configurable:true,enumerable:true,writable:true,initializer:null}),be=qe(ee.prototype,"semanticObject",[V],{configurable:true,enumerable:true,writable:true,initializer:null}),me=qe(ee.prototype,"value",[D],{configurable:true,enumerable:true,writable:true,initializer:null}),ye=qe(ee.prototype,"description",[_],{configurable:true,enumerable:true,writable:true,initializer:null}),ve=qe(ee.prototype,"textAlign",[k],{configurable:true,enumerable:true,writable:true,initializer:null}),Pe=qe(ee.prototype,"showErrorObjectStatus",[R],{configurable:true,enumerable:true,writable:true,initializer:null}),Ae=qe(ee.prototype,"collaborationEnabled",[U],{configurable:true,enumerable:true,writable:true,initializer:null}),Ce=qe(ee.prototype,"mainPropertyRelativePath",[W],{configurable:true,enumerable:true,writable:true,initializer:null}),xe=qe(ee.prototype,"customValueBinding",[N],{configurable:true,enumerable:true,writable:true,initializer:null}),Ee=qe(ee.prototype,"inlineEditEnabled",[q],{configurable:true,enumerable:true,writable:true,initializer:function(){return false}}),Ie=qe(ee.prototype,"hasInlineEdit",[G],{configurable:true,enumerable:true,writable:true,initializer:null}),Be=qe(ee.prototype,"_apiId",[$],{configurable:true,enumerable:true,writable:true,initializer:null}),Fe=qe(ee.prototype,"required",[J],{configurable:true,enumerable:true,writable:true,initializer:null}),Oe=qe(ee.prototype,"_requiresValidation",[Q],{configurable:true,enumerable:true,writable:true,initializer:function(){return false}}),qe(ee.prototype,"handleChange",[K],Object.getOwnPropertyDescriptor(ee.prototype,"handleChange"),ee.prototype),qe(ee.prototype,"handleLiveChange",[X],Object.getOwnPropertyDescriptor(ee.prototype,"handleLiveChange"),ee.prototype),qe(ee.prototype,"onValidateFieldGroup",[Y],Object.getOwnPropertyDescriptor(ee.prototype,"onValidateFieldGroup"),ee.prototype),ee))||Z)||Z);return $e},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/FooterContent", ["sap/base/Log","sap/fe/base/BindingToolkit","sap/fe/base/ClassSupport","sap/fe/core/buildingBlocks/BuildingBlock","sap/fe/core/controls/CommandExecution","sap/fe/core/converters/ManifestSettings","sap/fe/core/converters/MetaModelConverter","sap/fe/core/converters/annotations/DataField","sap/fe/core/converters/controls/Common/Action","sap/fe/core/helpers/BindingHelper","sap/fe/core/helpers/FPMHelper","sap/fe/core/helpers/ModelHelper","sap/fe/core/library","sap/fe/core/templating/CriticalityFormatters","sap/fe/macros/messages/MessageButton","sap/m/Button","sap/m/DraftIndicator","sap/m/Menu","sap/m/MenuButton","sap/m/MenuItem","sap/m/OverflowToolbar","sap/m/ToolbarSpacer","sap/ui/core/InvisibleText","sap/fe/base/HookSupport","sap/fe/templates/ObjectPage/ObjectPageTemplating","sap/m/OverflowToolbarLayoutData","sap/m/ToolbarSeparator","sap/ui/model/json/JSONModel","sap/fe/base/jsx-runtime/jsx","sap/fe/base/jsx-runtime/jsxs"],function(e,t,i,n,a,r,o,s,l,c,d,u,p,f,g,h,b,m,_,v,C,y,E,w,A,D,O,x,M,I){"use strict";var B,P,T,S,N,V,j,R,F,z,G,H,L,J,k,U;var q={};var W=w.controllerExtensionHandler;var $=c.UI;var X=c.Draft;var Y=l.aiIcon;var K=s.isActionWithDialog;var Q=o.getInvolvedDataModelObjects;var Z=r.ActionType;var ee=i.property;var te=i.implementInterface;var ie=i.defineUI5Class;var ne=i.defineReference;var ae=t.resolveBindingString;var re=t.pathInModel;var oe=t.or;var se=t.ifElse;var le=t.equal;var ce=t.constant;var de=t.compileExpression;var ue=t.and;function pe(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function fe(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,ge(e,t)}function ge(e,t){return ge=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ge(e,t)}function he(e,t,i,n,a){var r={};return Object.keys(n).forEach(function(e){r[e]=n[e]}),r.enumerable=!!r.enumerable,r.configurable=!!r.configurable,("value"in r||r.initializer)&&(r.writable=!0),r=i.slice().reverse().reduce(function(i,n){return n(e,t,i)||i},r),a&&void 0!==r.initializer&&(r.value=r.initializer?r.initializer.call(a):void 0,r.initializer=void 0),void 0===r.initializer?(Object.defineProperty(e,t,r),null):r}function be(e,t){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let me=(B=ie("sap.fe.macros.FooterContent"),P=te("sap.ui.core.Toolbar"),T=te("sap.m.IBar"),S=ee({type:"string",required:true}),N=ee({type:"string",required:true}),V=ee({type:"string"}),j=ne(),R=W("routing","onAfterBinding"),B(F=(z=function(t){function i(e,i){var n;n=t.call(this,e,i)||this;pe(n,"__implements__sap_ui_core_Toolbar",G,n);pe(n,"__implements__sap_m_IBar",H,n);pe(n,"id",L,n);pe(n,"metaPath",J,n);pe(n,"contextPath",k,n);pe(n,"cmdExecution",U,n);n._hideCreateNext=false;return n}q=i;fe(i,t);var n=i.prototype;n.onAfterBinding=async function e(){if(this._hiddenDraft){const e=this._getOwner()?.getRootController();const t=e.getView().getBindingContext();const i=await e.editFlow.isRootContextNew(t);this.getModel("footerInternal").setProperty("/rootIsNewObject",i)}};n.initialize=function e(){const t=this._getOwner();this.setModel(new x,"footerInternal");this.actions=t?.preprocessorContext?.bindingContexts?.converterContext?.getObject("footerActions");const i=t?.preprocessorContext?.fullContextPath;this.oDataMetaModel=t?.preprocessorContext?.models.metaModel;this.dataViewModelPath=this.getDataModelObjectForMetaPath(this.metaPath,i??this.contextPath);const n=this.dataViewModelPath.startingEntitySet;this.isDraftValidation=!!(u.getDraftRoot(n)?.PreparationAction&&n?.entityType.annotations.Common?.Messages);this.content=this.createContent()};n.onMetadataAvailable=function e(){const t=this._getOwner()?.getRootController();this._hiddenDraft=t.getAppComponent().getEnvironmentCapabilities().getCapabilities().HiddenDraft?.enabled;this._hideCreateNext=t.getAppComponent().getEnvironmentCapabilities().getCapabilities().HiddenDraft?.hideCreateNext===true;if(!this.content){this.initialize()}};n.getActionModelPath=function e(t){const i=t.annotationPath;if(i){const e=this.oDataMetaModel.getContext(i);return Q(e)}return undefined};n.getDraftIndicator=function e(){const t=this.dataViewModelPath.targetEntitySet||this.dataViewModelPath.startingEntitySet;const i=t.annotations?.Common;if((i?.DraftRoot||i?.DraftNode)&&!this._hiddenDraft){return M(b,{state:"{ui>/draftStatus}",visible:"{ui>/isEditable}"})}return undefined};n.getApplyButton=function e(t){const i=this._getOwner()?.getRootController();const n=i.getView().getViewData();if(n?.viewLevel!=null&&n?.viewLevel<=1||this._hiddenDraft){return null}if(this.isDraftValidation&&!n.isDesktop&&!n.fclEnabled){return M(_,{text:"{sap.fe.i18n>T_COMMON_OBJECT_PAGE_APPLY_DRAFT}",defaultAction:async()=>{await i._applyDocument(i.getView().getBindingContext())},useDefaultActionOnly:"true",buttonMode:"Split",type:t,"dt:designtime":"not-adaptable",children:M(m,{children:M(v,{text:"{sap.fe.i18n>T_COMMON_OBJECT_PAGE_VALIDATE_DRAFT}",press:async()=>{await i._validateDocument()}})})})}return M(h,{id:this.createId("StandardAction::Apply"),text:"{sap.fe.i18n>T_COMMON_OBJECT_PAGE_APPLY_DRAFT}",type:t,enabled:true,press:async()=>{await i._applyDocument(i.getView().getBindingContext())},visible:"{ui>/isEditable}","dt:designtime":"not-adaptable"})};n.getPrimary=function e(t,i){const n=this._getOwner()?.getRootController();const r=n.getAppComponent().getEnvironmentCapabilities().getCapabilities().HiddenDraft?.enabled;const o=n.getView().getViewData();n.getView().addDependent(M(a,{ref:this.cmdExecution,command:"Save",execute:n._saveDocument,visible:oe(se(r===true,se(o.fclEnabled===true,ue($.IsEditable,le(re("/showSaveAndCancelButton","fclhelper"),true)),$.IsEditable),$.IsEditable),le(re("/isInlineEditActive","ui"),true))}));if(this.isDraftValidation&&!o.isDesktop){return M(_,{text:this.getTextSaveButton(),"jsx:command":"cmd:Save|defaultAction",useDefaultActionOnly:"true",buttonMode:"Split",type:t,visible:de(se(r===true,se(o.fclEnabled===true,ue($.IsEditable,le(re("/showSaveAndCancelButton","fclhelper"),true)),$.IsEditable),$.IsEditable)),"dt:designtime":"not-adaptable",children:M(m,{children:M(v,{text:"{sap.fe.i18n>T_COMMON_OBJECT_PAGE_VALIDATE_DRAFT}",press:async()=>{await n._validateDocument()}})})})}return M(h,{id:this.createId("StandardAction::Save"),text:this.getTextSaveButton(),type:t,visible:de(se(r===true,se(o.fclEnabled===true,ue($.IsEditable,le(re("/showSaveAndCancelButton","fclhelper"),true)),$.IsEditable),$.IsEditable)),enabled:true,"jsx:command":"cmd:Save|press","dt:designtime":"not-adaptable",children:{layoutData:M(D,{priority:i?.priority,group:i?.group})}})};n.getTextSaveButton=function e(){const t=this.getTranslatedText("T_OP_OBJECT_PAGE_SAVE");const i=this.getTranslatedText("T_OP_OBJECT_PAGE_CREATE");return se(se(this.dataViewModelPath.startingEntitySet.annotations.Session?.StickySessionSupported!==undefined,$.IsCreateMode,se(this._hiddenDraft,ue(re("/rootIsNewObject","footerInternal")),X.IsNewObject)),i,t)};n.getCancelButton=function e(t){const i=this._getOwner()?.getRootController();const n=i.getAppComponent().getEnvironmentCapabilities().getCapabilities().HiddenDraft?.enabled;const r=i.getView().getViewData();i.getView().addDependent(M(a,{ref:this.cmdExecution,command:"Cancel",execute:()=>{i._cancelDocument({cancelButton:"fe::FooterBar::StandardAction::Cancel"})},visible:se(n===true,se(r.fclEnabled===true,ue($.IsEditable,le(re("/showSaveAndCancelButton","fclhelper"),true)),$.IsEditable),$.IsEditable)}));return M(h,{id:this.createId("StandardAction::Cancel"),text:u.isDraftRoot(this.dataViewModelPath.targetEntitySet)&&!this._hiddenDraft?"{sap.fe.i18n>C_COMMON_OBJECT_PAGE_DISCARD_DRAFT}":"{sap.fe.i18n>C_COMMON_OBJECT_PAGE_CANCEL}","jsx:command":"cmd:Cancel|press",visible:de(se(n===true,se(r.fclEnabled===true,ue($.IsEditable,le(re("/showSaveAndCancelButton","fclhelper"),true)),$.IsEditable),$.IsEditable)),ariaHasPopup:se(re("/isDocumentModified","ui"),ce("Dialog"),ce("None")),enabled:true,"dt:designtime":"not-adaptable",children:{layoutData:M(D,{priority:t?.priority,closeOverflowOnInteraction:false})}})};n.getCreateNextButton=function e(t){const i=this._getOwner()?.getRootController();const n=i.getView().getViewData();return M(h,{id:this.createId("StandardAction::CreateNext"),text:"{sap.fe.i18n>C_COMMON_OBJECT_PAGE_CREATE_NEXT}",press:i.editFlow.createNextDocument,type:t,visible:se(this._hiddenDraft===true,se(n.fclEnabled===true,ue(X.IsNewObject,le(re("/showSaveAndCancelButton","fclhelper"),true)),X.IsNewObject),X.IsNewObject),enabled:true,"dt:designtime":"not-adaptable",children:{layoutData:M(D,{closeOverflowOnInteraction:false})}})};n.getToolbarSeparator=function e(t){return M(O,{children:{layoutData:M(D,{group:t.group})}})};n.getDataFieldForActionButton=function e(t){if(t.annotationPath){const e=this._getOwner()?.getRootController();const i=t.annotationPath;let n;const a=e.getView();const r=this.oDataMetaModel.getContext(i);const o=Q(r);const s=o.targetObject;if(s){const i={entitySetName:this.dataViewModelPath.targetEntitySet?.name,invocationGrouping:s.InvocationGrouping==="UI.OperationGroupingType/ChangeSet"?p.InvocationGrouping.ChangeSet:p.InvocationGrouping.Isolated,label:s.Label?.toString(),isNavigable:t.isNavigable,defaultValuesExtensionFunction:t.defaultValuesExtensionFunction};if(!t.command){n={press:()=>{e.handlers.onCallAction(a,s.Action,{...i,...{contexts:a.getBindingContext(),model:a.getModel()}})}}}else{if(!t.command.startsWith("cmd:")){t.command=`cmd:${t.command}`}n={"jsx:command":`${t.command}|press`}}return M(h,{id:this.createId(this.getActionModelPath(t)),"dt:designtime":t.visible==="true"||t.visible==="false"?undefined:"not-adaptable-visibility",text:i.label,...n,ariaHasPopup:K(o.targetObject),visible:t.visible,enabled:t.enabled,type:f.buildExpressionForCriticalityButtonType(o),icon:t?.isAIOperation===true?Y:undefined,children:{layoutData:M(D,{priority:t.priority,group:t.group})}})}}};n.getManifestButton=function t(i){if(A.isManifestAction(i)){let t;if(i.command){t={"jsx:command":`cmd:${i.command}|press`}}else{t={press:t=>{d.actionWrapper(t,i.handlerModule,i.handlerMethod,{}).catch(t=>e.error(t))}}}return I(h,{id:this.createId(i.id),"dt:designtime":i.visible==="true"||i.visible==="false"?undefined:"not-adaptable-visibility",text:i.text??"",...t,type:"Transparent",visible:i.visible,enabled:i.enabled,icon:i?.isAIOperation===true?Y:undefined,children:[{layoutData:M(D,{priority:i.priority,group:i.group})},"‚"]})}};n.getActionControls=function e(){const t=A.buildEmphasizedButtonExpression(this.dataViewModelPath);return this.actions?.map(e=>{switch(e.type){case Z.DefaultApply:return this.getApplyButton(t);case Z.DataFieldForAction:return this.getDataFieldForActionButton(e);case Z.Primary:const i=this._getOwner()?.getRootController();const n=i.getView().getViewData();const a=n?.viewLevel??0;if(this._hiddenDraft&&!this._hideCreateNext&&a>1){const e=t?ae(t):undefined;return this.getPrimary(de(se(X.IsNewObject,undefined,e)))}return this.getPrimary(t,e);case Z.Secondary:return this.getCancelButton(e);case Z.CreateNext:if(this._hiddenDraft&&!this._hideCreateNext){const e=t?ae(t):undefined;return this.getCreateNextButton(de(se(X.IsNewObject,e,undefined)))}return;case Z.Separator:return this.getToolbarSeparator(e);default:return this.getManifestButton(e)}}).filter(e=>!!e)};n.createContent=function e(){const t=this._getOwner()?.getRootController();const i=t.getView().getViewData();const n=M(g,{id:this.createId("MessageButton"),visible:de(se(this._hiddenDraft===true,se(i.fclEnabled===true,ue($.IsEditable,le(re("/showSaveAndCancelButton","fclhelper"),true)),true),true)),messageChange:()=>t._getFooterVisibility(),ariaLabelledBy:[this.createId("MessageButton::AriaText")],type:"Emphasized",ariaHasPopup:"Dialog"});const r=I(C,{id:this.createId("_fc"),asyncMode:true,children:[M(E,{id:this.createId("MessageButton::AriaText"),text:"{sap.fe.i18n>C_COMMON_SAPFE_ERROR_MESSAGES_PAGE_BUTTON_ARIA_TEXT}"}),n,M(y,{}),this.getDraftIndicator(),this.getActionControls()]});t.getView().addDependent(M(a,{ref:this.cmdExecution,command:"OpenMessageButtonMenu",execute:()=>n.firePress()}));return r};return i}(n),G=he(z.prototype,"__implements__sap_ui_core_Toolbar",[P],{configurable:true,enumerable:true,writable:true,initializer:function(){return true}}),H=he(z.prototype,"__implements__sap_m_IBar",[T],{configurable:true,enumerable:true,writable:true,initializer:function(){return true}}),L=he(z.prototype,"id",[S],{configurable:true,enumerable:true,writable:true,initializer:null}),J=he(z.prototype,"metaPath",[N],{configurable:true,enumerable:true,writable:true,initializer:null}),k=he(z.prototype,"contextPath",[V],{configurable:true,enumerable:true,writable:true,initializer:null}),U=he(z.prototype,"cmdExecution",[j],{configurable:true,enumerable:true,writable:true,initializer:null}),he(z.prototype,"onAfterBinding",[R],Object.getOwnPropertyDescriptor(z.prototype,"onAfterBinding"),z.prototype),z))||F);q=me;return q},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/FormElement", ["sap/base/Log","sap/fe/base/ClassSupport","sap/fe/core/converters/MetaModelConverter","sap/fe/macros/Field","sap/ui/core/Component","sap/ui/layout/form/FormElement"],function(e,t,r,i,n,a){"use strict";var o,l,u,c,s,f,b,p,d,g,h,m,v;var y={};var P=r.getInvolvedDataModelObjects;var C=t.property;var z=t.defineUI5Class;var w=t.aggregation;function O(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function j(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,x(e,t)}function x(e,t){return x=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},x(e,t)}function F(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer?(Object.defineProperty(e,t,a),null):a}function M(e,t){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let E=(o=z("sap.fe.macros.form.FormElement"),l=C({type:"string"}),u=C({type:"string"}),c=C({type:"string"}),s=C({type:"boolean",defaultValue:true}),f=w({type:"sap.ui.core.Control",multiple:true,singularName:"field"}),o(b=(p=function(t){function r(e,r){var i;i=t.call(this,e,r)||this;O(i,"contextPath",d,i);O(i,"metaPath",g,i);O(i,"label",h,i);O(i,"visible",m,i);O(i,"fields",v,i);i.ensureDefaultField();i.attachModelContextChange(i.onModelContextChange.bind(i));return i}y=r;j(r,t);var a=r.prototype;a.ensureDefaultField=function e(){if(!this.fields||this.fields.length===0){const e=new i({metaPath:this.metaPath,contextPath:this.contextPath,id:this.getId()+"--FormElementField"});this.addField(e)}};a.onModelContextChange=function t(r){const i=r.getSource();const a=n.getOwnerComponentFor(i);const o=a?.getMetaModel();const l=i.contextPath?i.contextPath+"/":a?.getFullContextPath();const u=o?.createBindingContext(l+i.metaPath);let c;try{c=P(u)}catch(t){e.error(`Error while getting the involved data model objects: ${t}`)}if(c&&!c.targetObject){e.error(`No target object found for the given path ${i.metaPath} on the FormElement`)}else{const e=i.getLabel()||c?.targetObject?.annotations.Common?.Label?.toString();if(e){i.setLabel(e)}}};return r}(a),d=F(p.prototype,"contextPath",[l],{configurable:true,enumerable:true,writable:true,initializer:null}),g=F(p.prototype,"metaPath",[u],{configurable:true,enumerable:true,writable:true,initializer:null}),h=F(p.prototype,"label",[c],{configurable:true,enumerable:true,writable:true,initializer:null}),m=F(p.prototype,"visible",[s],{configurable:true,enumerable:true,writable:true,initializer:null}),v=F(p.prototype,"fields",[f],{configurable:true,enumerable:true,writable:true,initializer:null}),p))||b);y=E;return y},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/KPITag", ["sap/fe/base/ClassSupport","sap/fe/core/buildingBlocks/BuildingBlock","sap/m/GenericTag","sap/m/ObjectNumber","sap/fe/base/jsx-runtime/jsx"],function(e,t,r,i,n){"use strict";var a,u,o,l,s,c,p,b,f,d,y,g,m,h,v,w,z,I,O;var j={};var B=e.property;var P=e.event;var x=e.defineUI5Class;function _(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function k(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,C(e,t)}function C(e,t){return C=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},C(e,t)}function E(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer?(Object.defineProperty(e,t,a),null):a}function S(e,t){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let q=(a=x("sap.fe.macros.KPITag"),u=B({type:"string",required:true}),o=B({type:"any",isBindingInfo:true}),l=B({type:"any",defaultValue:"None",allowedValues:["Success","Error","Warning","None","Information"],isBindingInfo:true}),s=B({type:"any",isBindingInfo:true}),c=P(),p=B({type:"any",required:true,isBindingInfo:true}),b=B({type:"any",isBindingInfo:true}),f=B({type:"boolean",required:false}),a(d=(y=function(e){function t(t,r){var i;i=e.call(this,t,r)||this;_(i,"id",g,i);_(i,"text",m,i);_(i,"status",h,i);_(i,"tooltip",v,i);_(i,"press",w,i);_(i,"number",z,i);_(i,"unit",I,i);_(i,"showIcon",O,i);return i}j=t;k(t,e);var a=t.prototype;a.onMetadataAvailable=function e(){if(!this.content){this._getOwner()?.runAsOwner(()=>{this.content=this.createContent()})}};a.createContent=function e(){return n(r,{id:this.createId("_kpi"),text:this.text,design:this.showIcon?"Full":"StatusIconHidden",status:this.status,class:"sapUiTinyMarginBegin",tooltip:this.tooltip,press:e=>{const t=e.getSource().getParent();t.fireEvent("press")},children:n(i,{state:this.status,emphasized:false,number:this.number,unit:this.unit})})};return t}(t),g=E(y.prototype,"id",[u],{configurable:true,enumerable:true,writable:true,initializer:null}),m=E(y.prototype,"text",[o],{configurable:true,enumerable:true,writable:true,initializer:null}),h=E(y.prototype,"status",[l],{configurable:true,enumerable:true,writable:true,initializer:null}),v=E(y.prototype,"tooltip",[s],{configurable:true,enumerable:true,writable:true,initializer:null}),w=E(y.prototype,"press",[c],{configurable:true,enumerable:true,writable:true,initializer:null}),z=E(y.prototype,"number",[p],{configurable:true,enumerable:true,writable:true,initializer:null}),I=E(y.prototype,"unit",[b],{configurable:true,enumerable:true,writable:true,initializer:null}),O=E(y.prototype,"showIcon",[f],{configurable:true,enumerable:true,writable:true,initializer:function(){return false}}),y))||d);j=q;return j},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/MacroAPI", ["sap/base/util/deepClone","sap/base/util/merge","sap/base/util/uid","sap/fe/base/ClassSupport","sap/fe/core/buildingBlocks/BuildingBlock","sap/fe/core/converters/ConverterContext","sap/fe/core/converters/ManifestWrapper","sap/fe/core/templating/DataModelPathHelper","sap/ui/base/BindingInfo","sap/ui/core/Component"],function(e,t,n,r,o,i,a,s,l,c){"use strict";var u,p,f,d,g,b,m,y,h,v,C,P;var _=s.getTargetObjectPath;var x=r.property;var M=r.implementInterface;var O=r.defineUI5Class;var B=r.aggregation;function j(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function w(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,z(e,t)}function z(e,t){return z=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},z(e,t)}function S(e,t,n,r,o){var i={};return Object.keys(r).forEach(function(e){i[e]=r[e]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(n,r){return r(e,t,n)||n},i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer?(Object.defineProperty(e,t,i),null):i}function E(e,t){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let I=(u=O("sap.fe.macros.MacroAPI"),p=M("sap.ui.core.IFormContent"),f=B({type:"sap.ui.core.Control",multiple:false,isDefault:true}),d=x({type:"string"}),g=x({type:"string"}),u(b=(m=(P=function(e){function t(t,n){var r;r=e.call(this,t,n)||this;j(r,"__implements__sap_ui_core_IFormContent",y,r);j(r,"content",h,r);j(r,"contextPath",v,r);j(r,"metaPath",C,r);r.parentContextToBind={};return r}w(t,e);var n=t.prototype;n.applySettings=function t(n,r){if(n){const e=Object.keys(this.getMetadata().getEvents());for(const t of e){if(n[t]===undefined){delete n[t]}}}return e.prototype.applySettings.call(this,n,r)};n.init=function t(){e.prototype.init.call(this);if(!this.getModel("_pageModel")){const e=c.getOwnerComponentFor(this)?.getModel("_pageModel");if(e){this.setModel(e,"_pageModel")}}};n.setOrBindProperty=function e(t,n){if(n!==undefined){let e;try{e=l.parse(n)}catch(e){}if(e||typeof n==="string"&&n.startsWith("{")){this.bindProperty(t,e??n)}else{if(this.getMetadata().getProperty(t)?.type==="boolean"&&typeof n==="string"){n=n==="true"}this.setProperty(t,n)}}};n.setParentBindingContext=function e(t,n){this.parentContextToBind[t]=n};n.setParent=function t(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++){r[o]=arguments[o]}e.prototype.setParent.call(this,...r);Object.keys(this.parentContextToBind).forEach(e=>{this.getParent().bindObject({path:this.parentContextToBind[e],model:e,events:{change:function(){const e=this.getBoundContext();if(e&&!e.getObject()){e.setProperty("",{})}}}})})};return t}(o),P.namespace="sap.fe.macros",P.macroName="Macro",P.fragment="sap.fe.macros.Macro",P.hasValidation=true,P.getConverterContext=function(n,r,o,s){const l=o.appComponent;const c=o.models.viewData?.getData();let u=Object.assign({},c);delete u.resourceModel;delete u.appComponent;u=e(u);let p={};const f=_(n.contextLocation??n);const d=n.contextLocation?.targetEntitySet?.name??n.targetEntitySet?.name;if(f===c?.contextPath||f===`/${c?.entitySet}`||d===c?.entitySet){p=u.controlConfiguration}u.controlConfiguration=t(p,s||{});return i.createConverterContextForMacro(n.startingEntitySet.name,o.models.metaModel,l?.getDiagnostics(),t,n.contextLocation,new a(u,l))},P.createBindingContext=function(e,t){const r=`/uid--${n()}`;t.models.converterContext.setProperty(r,e);return t.models.converterContext.createBindingContext(r)},P),y=S(m.prototype,"__implements__sap_ui_core_IFormContent",[p],{configurable:true,enumerable:true,writable:true,initializer:function(){return true}}),h=S(m.prototype,"content",[f],{configurable:true,enumerable:true,writable:true,initializer:null}),v=S(m.prototype,"contextPath",[d],{configurable:true,enumerable:true,writable:true,initializer:null}),C=S(m.prototype,"metaPath",[g],{configurable:true,enumerable:true,writable:true,initializer:null}),m))||b);return I},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/MacroTemplating", ["sap/fe/base/BindingToolkit"],function(t){"use strict";var e={};var n=t.constant;var r=t.compileExpression;const i=function(t,e){if(e&&e.context){return e.context.getPath()}return""};i.requiresIContext=true;e.getPath=i;const o=function(t){return r(n(t))};o.requiresIContext=true;e.getValue=o;return e},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/MessageButton", ["sap/base/Log","sap/fe/base/ClassSupport","sap/fe/core/buildingBlocks/BuildingBlock","sap/m/Button","sap/m/MessageItem","sap/m/MessagePopover","sap/m/library","sap/ui/core/Element","sap/ui/core/Messaging","sap/ui/core/message/MessageType","sap/fe/base/jsx-runtime/jsx"],function(e,t,s,i,n,o,r,a,l,g,c){"use strict";var u,p,h,f,_;var m={};var d=r.ButtonType;var E=t.event;var v=t.defineUI5Class;function M(e,t,s,i){s&&Object.defineProperty(e,t,{enumerable:s.enumerable,configurable:s.configurable,writable:s.writable,value:s.initializer?s.initializer.call(i):void 0})}function b(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,P(e,t)}function P(e,t){return P=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},P(e,t)}function S(e,t,s,i,n){var o={};return Object.keys(i).forEach(function(e){o[e]=i[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=s.slice().reverse().reduce(function(s,i){return i(e,t,s)||s},o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer?(Object.defineProperty(e,t,o),null):o}function T(e,t){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let C=(u=v("sap.fe.macros.MessageButton"),p=E(),u(h=(f=function(t){function s(e,s){var i;i=t.call(this,e,s)||this;M(i,"visibilityChange",_,i);i._messageItemMessageDetailMap={};return i}m=s;b(s,t);var r=s.prototype;r.onMetadataAvailable=function e(){if(!this.content){this.content=this.createContent()}this._messageModel=l.getMessageModel();this._mmPropertyBinding=this._messageModel.bindProperty("/");this._mmPropertyBinding.attachChange(this.processMessages,this);const t={onBeforeRendering:()=>{this.processMessages();this.removeEventDelegate(t)}};this.addEventDelegate(t)};r.processMessages=async function e(){const t=this._messageModel?.getData();const s=t.reduce((e,t)=>{const s=t.getTargets().length>0;const i=t.getTechnical();if(s&&!i){e.push({message:t})}return e},[]);if(s&&s.length>0){await this.getPageController().messageHandler.beforeShowMessageButton(s)}this.adjustMessageButtonProperties(s)};r.adjustMessageButtonProperties=function e(t){this._messageItemMessageDetailMap={};if(t&&t.length>0){const e={Error:0,Warning:1,Success:2,Information:3,None:4};let s=e.None;let i=0;const n=[];for(const o of t){const t=o.message;const r=t.getType();const a=e[r];if(a<s){s=a}if(r===g.Error){i++}n.push(this.createMessageItem(o))}this.getContent()?.setText(t.length.toString());const o=[d.Negative,d.Critical,d.Success,d.Neutral,d.Default];this.getContent()?.setType(o[s]);const r=["C_COMMON_SAPFE_ERROR_MESSAGES_PAGE_TITLE_ERROR","C_COMMON_SAPFE_ERROR_MESSAGES_PAGE_WARNING_TOOLTIP","C_MESSAGE_HANDLING_SAPFE_ERROR_MESSAGES_PAGE_TITLE_SUCCESS","C_MESSAGE_HANDLING_SAPFE_ERROR_MESSAGES_PAGE_TITLE_INFO",""];const a=i>1?"C_COMMON_SAPFE_ERROR_MESSAGES_PAGE_MULTIPLE_ERROR_TOOLTIP":r[s];let l=this.getTranslatedText(a);if(i>1){l=`${i}  ${l}`}this.getContent()?.setTooltip(l);if(!this.getContent()?.getVisible()){this.getContent()?.setVisible(true);this.fireEvent("visibilityChange",{visible:this.getContent()?.getVisible()})}this.createMessagePopover(n)}if(t.length===0){if(this.getContent()?.getVisible()){this.getContent()?.setVisible(false);this.fireEvent("visibilityChange",{visible:this.getContent()?.getVisible()})}}};r.createMessageItem=function e(t){const s=t.message;const i=c(n,{title:s.getMessage(),description:s.getDescription(),type:s.getType(),markupDescription:true,longtextUrl:s.getDescriptionUrl(),subtitle:s.getAdditionalText(),groupName:t.groupName||this.getTranslatedText("T_MESSAGE_BUTTON_SAPFE_MESSAGE_GROUP_GENERAL"),activeTitle:s.getControlIds().length>0||typeof t.activeTitleHandler==="function"});this._messageItemMessageDetailMap[i.getId()]=t;return i};r.createMessagePopover=function e(t){this._messagePopover?.destroy();this._messagePopover=c(o,{groupItems:true,activeTitlePress:e=>{const t=e.getParameter("item");this.handleActiveTitlePress(t)},children:{items:t}});this.getContent()?.addDependent(this._messagePopover);setTimeout(()=>{this._messagePopover.openBy(this.getContent())},0)};r.handleActiveTitlePress=function t(s){if(s){const e=this._messageItemMessageDetailMap[s?.getId()];if(e.activeTitleHandler){e.activeTitleHandler(e.message)}else{const t=e.message.getControlId();const s=a.getElementById(t);if(s){s.focus()}}}else{e.error("message item not found!")}};r.destroy=function e(){this._mmPropertyBinding.destroy()};r.toggleMessagePopover=function e(){this._messagePopover.toggle(this.content)};r.createContent=function e(){return c(i,{visible:"false",press:this.toggleMessagePopover.bind(this)})};return s}(s),_=S(f.prototype,"visibilityChange",[p],{configurable:true,enumerable:true,writable:true,initializer:null}),f))||h);m=C;return m},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/MicroChart", ["sap/fe/base/BindingToolkit","sap/fe/base/ClassSupport","sap/fe/core/buildingBlocks/BuildingBlock","sap/fe/core/helpers/StableIdHelper","sap/fe/core/templating/CriticalityFormatters","sap/fe/core/templating/DataModelPathHelper","sap/fe/core/templating/UIFormatters","sap/m/Text","sap/ui/core/Lib","./CommonHelper","./controls/ConditionalWrapper","./internal/TitleLink","./microchart/MicroChartContainer","./microchart/MicroChartHelper","sap/fe/base/jsx-runtime/jsx"],function(t,e,a,r,i,n,o,h,s,c,l,u,g,p,C){"use strict";var d,b,y,T,m,_,f,P,M,O,v,I,j,D,U,A,w,k,B,x,z,N,E,L,S,F,R,V,H,$,Q,W,q,G,K,J,X,Y,Z;function tt(t){return new Promise((e,a)=>{sap.ui.require([t],a=>{if(!(a&&a.__esModule)){a=a===null||!(typeof a==="object"&&t.endsWith("/library"))?{default:a}:a;Object.defineProperty(a,"__esModule",{value:true})}e(a)},t=>{a(t)})})}var et={};var at=o.getExpressionForMeasureUnit;var rt=n.getTargetNavigationPath;var it=n.enhanceDataModelPath;var nt=i.buildExpressionForCriticalityColorMicroChart;var ot=e.property;var ht=e.event;var st=e.defineUI5Class;var ct=t.pathInModel;var lt=t.or;var ut=t.not;var gt=t.ifElse;var pt=t.getExpressionFromAnnotation;var Ct=t.equal;var dt=t.constant;var bt=t.compileExpression;function yt(t,e,a,r){a&&Object.defineProperty(t,e,{enumerable:a.enumerable,configurable:a.configurable,writable:a.writable,value:a.initializer?a.initializer.call(r):void 0})}function Tt(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,mt(t,e)}function mt(t,e){return mt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},mt(t,e)}function _t(t,e,a,r,i){var n={};return Object.keys(r).forEach(function(t){n[t]=r[t]}),n.enumerable=!!n.enumerable,n.configurable=!!n.configurable,("value"in n||n.initializer)&&(n.writable=!0),n=a.slice().reverse().reduce(function(a,r){return r(t,e,a)||a},n),i&&void 0!==n.initializer&&(n.value=n.initializer?n.initializer.call(i):void 0,n.initializer=void 0),void 0===n.initializer?(Object.defineProperty(t,e,n),null):n}function ft(t,e){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}var Pt=function(t){t["External"]="External";t["InPage"]="InPage";t["None"]="None";return t}(Pt||{});let Mt=(d=st("sap.fe.macros.MicroChart",{returnTypes:["sap.fe.macros.microchart.MicroChartContainer","sap.fe.macros.controls.ConditionalWrapper"]}),b=ot({type:"boolean"}),y=ot({type:"string",required:true}),T=ot({type:"string"}),m=ot({type:"string"}),_=ot({type:"string"}),f=ot({type:"string"}),P=ot({type:"boolean"}),M=ot({type:"string"}),O=ot({type:"string"}),v=ht(),I=ot({type:"object"}),j=ot({type:"object"}),D=ot({type:"object"}),U=ot({type:"object"}),A=ot({type:"string"}),w=ot({type:"object"}),k=ot({type:"object"}),B=ot({type:"boolean"}),d(x=(z=function(t){function e(e,a){var r;r=t.call(this,e,a)||this;yt(r,"showOnlyChart",N,r);yt(r,"metaPath",E,r);yt(r,"contextPath",L,r);yt(r,"navigationType",S,r);yt(r,"batchGroupId",F,r);yt(r,"size",R,r);yt(r,"hideOnNoData",V,r);yt(r,"title",H,r);yt(r,"description",$,r);yt(r,"titlePress",Q,r);yt(r,"_chartTarget",W,r);yt(r,"_dataPoint",q,r);yt(r,"_targetNavigationPath",G,r);yt(r,"_microChartDataModelObjectPath",K,r);yt(r,"_binding",J,r);yt(r,"_sortOrder",X,r);yt(r,"_measureDataPath",Y,r);yt(r,"isAnalytics",Z,r);return r}et=e;Tt(e,t);var a=e.prototype;a.getSortOrder=function t(e){return e.map(t=>({Property:t.Property?.value,Descending:t.Descending,fullyQualifiedName:"",$Type:"com.sap.vocabularies.Common.v1.SortOrderType"}))};a.setProperty=function e(a,r,i){if(!this._applyingSettings&&r!==undefined&&Object.keys(this.getMetadata().getProperties()).includes(a)){t.prototype.setProperty.call(this,a,r,true);if(this.content){this.content.destroy();this.content=this.createContent();this.createMicroChart()}}else{t.prototype.setProperty.call(this,a,r,i)}return this};a.clone=function e(a,r){const i=t.prototype.clone.call(this,a,r);i.createMicroChart();return i};a.onMetadataAvailable=async function t(e){if(!this.content){const t=this._getOwner();this.contextPath=this.contextPath??t?.preprocessorContext?.fullContextPath;const e=t?.getMetaModel();this._microChartDataModelObjectPath=this.getDataModelObjectForMetaPath(this.metaPath,this.contextPath);if(this._microChartDataModelObjectPath?.targetObject?.term==="com.sap.vocabularies.UI.v1.PresentationVariant"){if(this._microChartDataModelObjectPath.targetObject.SortOrder?.length){this._sortOrder=this.getSortOrder(this._microChartDataModelObjectPath.targetObject.SortOrder)}this._microChartDataModelObjectPath=this.getDataModelObjectForMetaPath(`${this._microChartDataModelObjectPath.targetObject.Visualizations[0].value}`,rt(this._microChartDataModelObjectPath)+"/")}if(this._microChartDataModelObjectPath){if(this._microChartDataModelObjectPath.targetObject?.term==="com.sap.vocabularies.UI.v1.PresentationVariant"){if(this._microChartDataModelObjectPath.targetObject.SortOrder?.length!=null){this._sortOrder=this.getSortOrder(this._microChartDataModelObjectPath.targetObject.SortOrder)}}this._chartTarget=this._microChartDataModelObjectPath.targetObject;this._measureDataPath=it(this._microChartDataModelObjectPath,this._chartTarget.Measures[0].value);if(p.shouldRenderMicroChart(this._chartTarget)){this._dataPoint=this._chartTarget?.MeasureAttributes[0]?.DataPoint?.$target;this._targetNavigationPath=e?.createBindingContext(rt(this._microChartDataModelObjectPath));this.showOnlyChart=typeof this.showOnlyChart==="string"?this.showOnlyChart==="true":this.showOnlyChart;this.content=this.createContent();await this.createMicroChart()}else{this.logWarning()}}}};a.createMicroChart=async function t(){const e={"UI.ChartType/Bullet":`sap/suite/ui/microchart/BulletMicroChart`,"UI.ChartType/Donut":`sap/suite/ui/microchart/RadialMicroChart`,"UI.ChartType/Pie":`sap/suite/ui/microchart/HarveyBallMicroChart`,"UI.ChartType/BarStacked":`sap/suite/ui/microchart/StackedBarMicroChart`,"UI.ChartType/Column":`sap/suite/ui/microchart/ColumnMicroChart`,"UI.ChartType/Bar":`sap/suite/ui/microchart/ComparisonMicroChart`,"UI.ChartType/Line":`sap/suite/ui/microchart/LineMicroChart`,"UI.ChartType/Area":`sap/suite/ui/microchart/AreaMicroChart`};const a=this._chartTarget.ChartType;if(Object.keys(e).includes(a)){const t=(await tt(e[a])).default;const r=await this.getMicroChartAggregations();if(this.isAnalytics){(this.content?.getAggregation("contentTrue")).setAggregation("microChart",C(t,{...this.getMicroChartProperties(),children:r}))}else{this.content.setAggregation("microChart",C(t,{...this.getMicroChartProperties(),children:r}))}}};a.logWarning=function t(){const e={};if(this._chartTarget.ChartType==="UI.ChartType/Bullet"){e["DataPoint_Value"]=this._dataPoint?.Value||undefined}p.logWarning(this._chartTarget.ChartType,e)};a.getMicroChartProperties=function t(){let e={size:this.size,hideOnNoData:this.hideOnNoData};const a=it(this._microChartDataModelObjectPath,this._chartTarget?.MeasureAttributes[0]?.DataPoint?.value);const r=p.getAggregationForMicrochart(this._chartTarget.ChartType,this._targetNavigationPath?.getObject(),a,this._targetNavigationPath?.getObject("@sapui.name"),undefined,this._measureDataPath,this._sortOrder,this._microChartDataModelObjectPath?.targetObject?.Dimensions?.[0]?.value,true);switch(this._chartTarget.ChartType){case"UI.ChartType/Bullet":e=p.getBulletMicroChartProperties(e,this._dataPoint);break;case"UI.ChartType/Donut":e=p.getRadialMicroChartProperties(e,this._dataPoint);break;case"UI.ChartType/Pie":e=p.getHarveyMicroChartProperties(e,this._dataPoint);break;case"UI.ChartType/BarStacked":e.bars=r;break;case"UI.ChartType/Column":e.columns=p.getAggregationForMicrochart(this._chartTarget.ChartType,this._targetNavigationPath?.getObject(),a,this._targetNavigationPath?.getObject("@sapui.name"),this._chartTarget?.Dimensions?.[0],this._measureDataPath,this._sortOrder,this._microChartDataModelObjectPath?.targetObject?.Dimensions?.[0]?.value,true);break;case"UI.ChartType/Bar":e.maxValue=this._dataPoint.MaximumValue?bt(dt(this._dataPoint.MaximumValue?.valueOf())):undefined;e.minValue=this._dataPoint.MinimumValue?bt(dt(this._dataPoint.MinimumValue?.valueOf())):undefined;e.colorPalette=p.getColorPaletteForMicroChart(this._dataPoint);e.data=r;break;case"UI.ChartType/Line":e.showThresholdLine=false;break;default:break}return e};a.getMicroChartAggregations=async function t(){const e=this._dataPoint.Criticality?nt(this._dataPoint):undefined;if(this._chartTarget.ChartType==="UI.ChartType/Bullet"){return p.getBulletMicroChartAggregations(this._dataPoint,e)}if(this._chartTarget.ChartType==="UI.ChartType/BarStacked"){return p.getStackMicroChartAggregations(this._dataPoint,this._measureDataPath,e)}if(this._chartTarget.ChartType==="UI.ChartType/Pie"){return p.getHarveyMicroChartAggregations(this._dataPoint,e)}if(this._chartTarget.ChartType==="UI.ChartType/Bar"){return p.getComparisonMicroChartAggregations(this._dataPoint,e,this._chartTarget)}if(this._chartTarget.ChartType==="UI.ChartType/Area"){return p.getAreaMicroChartAggregations(this._chartTarget,this._microChartDataModelObjectPath,this._targetNavigationPath,this.showOnlyChart)}if(this._chartTarget.ChartType==="UI.ChartType/Column"){return p.getColumnMicroChartAggregations(this._dataPoint,e,this.showOnlyChart)}if(this._chartTarget.ChartType==="UI.ChartType/Line"){if(this._microChartDataModelObjectPath&&this._targetNavigationPath){return p.getLineMicroChartAggragations(this._microChartDataModelObjectPath,this._chartTarget,this._targetNavigationPath)}}return};a.createMicroChartId=function t(e){let a;switch(e){case"UI.ChartType/Bullet":a="BulletMicroChart";break;case"UI.ChartType/Donut":a="RadialMicroChart";break;case"UI.ChartType/Pie":a="HarveyBallMicroChart";break;case"UI.ChartType/BarStacked":a="StackedBarMicroChart";break;case"UI.ChartType/Area":a="AreaMicroChart";break;case"UI.ChartType/Column":a="ColumnMicroChart";break;case"UI.ChartType/Bar":a="ComparisonMicroChart";break;case"UI.ChartType/Line":a="LineMicroChart";break}return this.createId(a)};a.getMicroChartContainerProperties=function t(){const e={chartTitle:this.title||this._chartTarget.Title?.valueOf()||undefined};e.showOnlyChart=this.showOnlyChart;e.chartTitle=this._chartTarget.Title||undefined;e.chartDescription=this.description||this._chartTarget.Description?.valueOf()||undefined;this._binding=p.getBindingExpressionForMicrochart(this._chartTarget.ChartType,this._measureDataPath,this,this._targetNavigationPath?.getObject(),this._targetNavigationPath?.getObject("@sapui.name"));e.uomPath=p.getUOMPathForMicrochart(this.showOnlyChart,this._measureDataPath,this._chartTarget.ChartType);e.id=this.createMicroChartId(this._chartTarget.ChartType);const a=["UI.ChartType/Bullet","UI.ChartType/Pie","UI.ChartType/Radial"];if(a.includes(this._chartTarget.ChartType)){e.visible=bt(ut(gt(pt(this._chartTarget.Measures[0].$target?.annotations.UI?.Hidden),dt(true),dt(false))))}else{e.visible=undefined}if(this._chartTarget.ChartType==="UI.ChartType/BarStacked"){e.dataPointQualifiers=p.getDataPointQualifiersForMicroChart(this._chartTarget?.MeasureAttributes[0]?.DataPoint?.value)}if(this._chartTarget.ChartType==="UI.ChartType/Area"||this._chartTarget.ChartType==="UI.ChartType/Column"){e.dataPointQualifiers=p.getDataPointQualifiersForMicroChart(this._chartTarget?.MeasureAttributes[0]?.DataPoint?.value);e.measures=[this._measureDataPath?.targetObject?.name]}if(this._chartTarget.ChartType==="UI.ChartType/Line"){e.measures=p.getMeasurePropertyPaths(this._chartTarget,this._microChartDataModelObjectPath?.targetEntityType.annotations,"Line",true);e.dataPointQualifiers=p.getDataPointQualifiersForMeasures(this._chartTarget,this._microChartDataModelObjectPath?.targetEntityType.annotations,"Line",true)}if(this._chartTarget.ChartType==="UI.ChartType/Area"||this._chartTarget.ChartType==="UI.ChartType/Column"||this._chartTarget.ChartType==="UI.ChartType/Line"){const t=it(this._microChartDataModelObjectPath,this._chartTarget.Dimensions[0].value);e.dimension=t?.targetObject?.annotations?.Common?.Text?t?.targetObject?.annotations?.Common?.Text?.path:t?.targetObject?.name;e.measurePrecision=this._dataPoint?.Value?.$target?.precision;e.measureScale=p.getMeasureScaleForMicroChart(this._dataPoint);e.dimensionPrecision=t?.targetObject?.precision;e.calendarPattern=p.getCalendarPattern(t?.targetObject?.type,t?.targetObject?.annotations,true)}return e};a.createTitle=function t(e){if(e){const t=r.generate(["fe","MicroChartLink",this._targetNavigationPath?.getObject("@sapui.name"),this._microChartDataModelObjectPath?.targetObject?.term,this._microChartDataModelObjectPath?.targetObject?.qualifier]);const a=this.getPageController()?.getView().getId();const i=`${a}--${t}`;const n={id:i,text:e};const o=s.getResourceBundleFor("sap.fe.macros");if(this.navigationType==="InPage"){const t=o?.getText("T_COMMON_HEADERDP_TITLE_LINK_INPAGE_ARIA");n.showAsLink=true;n.linkAriaText=t}else if(this.navigationType==="External"){const e=c.getHeaderDataPointLinkVisibility(t,true);const a=o?.getText("M_MICROCHART_TITLE_FRAGMENT_HEADER_MICROCHART_LINK_ARIA");n.showAsLink=e;n.linkAriaText=a}return C(u,{...n,linkPress:t=>{this.fireEvent("titlePress",t)}})}};a.createContent=function t(){const e=["UI.ChartType/Bullet","UI.ChartType/Donut","UI.ChartType/Pie","UI.ChartType/BarStacked","UI.ChartType/Area","UI.ChartType/Column","UI.ChartType/Bar","UI.ChartType/Line"].includes(this._chartTarget.ChartType);if(!e){return C(h,{text:"This chart type is not supported. Other Types yet to be implemented.."})}else if(this.isAnalytics){return C(l,{condition:bt(lt(ut(ct("@$ui5.node.isExpanded")),Ct(ct("@$ui5.node.level"),0))),visible:at(this._dataPoint.Value.$target),children:{contentTrue:this.createChartContent(),contentFalse:C(h,{text:"*"})}})}else{return this.createChartContent()}};a.createChartContent=function t(){const e={...this.getMicroChartContainerProperties(),binding:this._binding};return C(g,{...e,children:{microChartTitle:!this.showOnlyChart?this.createTitle(e.chartTitle):undefined}})};return e}(a),N=_t(z.prototype,"showOnlyChart",[b],{configurable:true,enumerable:true,writable:true,initializer:function(){return false}}),E=_t(z.prototype,"metaPath",[y],{configurable:true,enumerable:true,writable:true,initializer:null}),L=_t(z.prototype,"contextPath",[T],{configurable:true,enumerable:true,writable:true,initializer:null}),S=_t(z.prototype,"navigationType",[m],{configurable:true,enumerable:true,writable:true,initializer:function(){return Pt.None}}),F=_t(z.prototype,"batchGroupId",[_],{configurable:true,enumerable:true,writable:true,initializer:null}),R=_t(z.prototype,"size",[f],{configurable:true,enumerable:true,writable:true,initializer:null}),V=_t(z.prototype,"hideOnNoData",[P],{configurable:true,enumerable:true,writable:true,initializer:function(){return false}}),H=_t(z.prototype,"title",[M],{configurable:true,enumerable:true,writable:true,initializer:function(){return""}}),$=_t(z.prototype,"description",[O],{configurable:true,enumerable:true,writable:true,initializer:function(){return""}}),Q=_t(z.prototype,"titlePress",[v],{configurable:true,enumerable:true,writable:true,initializer:null}),W=_t(z.prototype,"_chartTarget",[I],{configurable:true,enumerable:true,writable:true,initializer:null}),q=_t(z.prototype,"_dataPoint",[j],{configurable:true,enumerable:true,writable:true,initializer:null}),G=_t(z.prototype,"_targetNavigationPath",[D],{configurable:true,enumerable:true,writable:true,initializer:null}),K=_t(z.prototype,"_microChartDataModelObjectPath",[U],{configurable:true,enumerable:true,writable:true,initializer:null}),J=_t(z.prototype,"_binding",[A],{configurable:true,enumerable:true,writable:true,initializer:null}),X=_t(z.prototype,"_sortOrder",[w],{configurable:true,enumerable:true,writable:true,initializer:null}),Y=_t(z.prototype,"_measureDataPath",[k],{configurable:true,enumerable:true,writable:true,initializer:null}),Z=_t(z.prototype,"isAnalytics",[B],{configurable:true,enumerable:true,writable:true,initializer:null}),z))||x);et=Mt;return et},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/MultiTab", ["sap/fe/base/ClassSupport","sap/fe/core/buildingBlocks/BuildingBlock","sap/fe/core/helpers/MessageStrip","sap/m/IconTabBar","sap/base/Log","sap/fe/core/CommonUtils","sap/fe/core/converters/MetaModelConverter","sap/fe/core/helpers/ResourceModelHelper","sap/ui/core/Element","sap/ui/fl/write/api/ControlPersonalizationWriteAPI","sap/ui/model/json/JSONModel","sap/fe/base/jsx-runtime/jsx"],function(e,t,n,i,r,o,s,l,a,u,c,f){"use strict";var d,h,g,p,b,C,y,m,I,_,v,S,T,w,z,A,F,O,K,B,M,E,V;var P={};var R=l.getResourceModel;var D=e.property;var L=e.implementInterface;var x=e.event;var N=e.defineUI5Class;var j=e.association;var U=e.aggregation;function $(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function k(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,H(e,t)}function H(e,t){return H=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},H(e,t)}function q(e,t,n,i,r){var o={};return Object.keys(i).forEach(function(e){o[e]=i[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(n,i){return i(e,t,n)||n},o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer?(Object.defineProperty(e,t,o),null):o}function Z(e,t){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}var J=function(e){e["Suspend"]="suspendBinding";e["Resume"]="resumeBinding";return e}(J||{});let W=(d=N("sap.fe.macros.MultiTab"),h=L("sap.fe.core.controllerextensions.viewState.IViewStateContributor"),g=D({type:"string"}),p=D({type:"boolean"}),b=U({type:"sap.fe.macros.Tab",multiple:true,isDefault:true}),C=j({type:"sap.fe.macros.controls.FilterBar",multiple:false}),y=D({type:"boolean",defaultValue:false}),m=D({type:"boolean",defaultValue:false}),I=D({type:"boolean",defaultValue:false}),_=j({type:"sap.fe.macros.controls.FilterBar",multiple:false}),v=x(),d(S=(T=function(e){function t(t,n){var i;i=e.call(this,t,n)||this;$(i,"__implements__sap_fe_core_controllerextensions_viewState_IViewStateContributor",w,i);$(i,"id",z,i);$(i,"showCounts",A,i);$(i,"tabs",F,i);$(i,"filterBarId",O,i);$(i,"setVisibleOverridden",K,i);$(i,"freezeContent",B,i);$(i,"countsOutDated",M,i);$(i,"filterControl",E,i);$(i,"select",V,i);return i}P=t;k(t,e);var l=t.prototype;l.initialize=function e(){this.id=this.createId("Control");this.filterControl=this.filterBarId+"-content";this.content=this.createContent()};l.onMetadataAvailable=function e(){if(!this.content){this.initialize()}};l.retrieveState=function e(){return this?.content?{selectedKey:this.content.getSelectedKey()}:null};l.applyState=function e(t){if(t?.selectedKey){const e=this.content;if(e?.getItems().find(e=>e.getKey()===t.selectedKey)){e.setSelectedKey(t.selectedKey)}}};l.onBeforeRendering=function e(){this.getTabsModel();const t=this._getFilterControl();if(!t){this.setCountsOutDated(true)}const n=t?.getParent();this.getAllInnerControls().forEach(e=>{if(this.showCounts){e.attachEvent("internalDataRequested",this.internalRefreshTabsCount.bind(this))}e.suspendBinding()});if(n&&n.isA("sap.fe.macros.filterBar.FilterBarAPI")){n.waitForInitialState().then(()=>{n.attachEvent("internalSearch",this._onSearch.bind(this));n.attachEvent("internalFilterChanged",this._onFilterChanged.bind(this));return}).catch(()=>{r.error("Error while waiting for initial state of filter bar")})}};l.onAfterRendering=function e(){this.getSelectedInnerControl()?.resumeBinding(!this.getProperty("freezeContent"));if(this.showCounts&&!this.setVisibleOverridden){this.setProperty("setVisibleOverridden",true);this.getAllInnerControls().forEach(e=>{const t=e.setVisible;e.setVisible=n=>{if(e.getVisible()===false&&n){e.refreshCount()}return t.bind(e)(n)}})}};t.render=function e(t,n){t.renderControl(n.content)};l.getTabsModel=function e(){const t="tabsInternal";const n=this.content;if(!n){return undefined}let i=n.getModel(t);if(!i){i=new c({});n.setModel(i,t)}return i};l.getSelectedInnerControl=function e(){return(this.content?.getItems()).find(e=>e.getKey()===this.content?.getSelectedKey())};t.handleTabChange=function e(t){const n=t.getSource();const i=n.getParent();const r=t.getParameters();i._setInnerBinding(true);const o=r?.previousKey;const s=r?.selectedKey;if(s&&o!==s){const e=i._getFilterControl();if(e&&!i.getProperty("freezeContent")){if(!i.getSelectedInnerControl()?.getTabContent().length){i._refreshCustomView(e.getFilterConditions(),"tabChanged")}else{i.refreshSelectedInnerControlContent()}}u.add({changes:[{changeSpecificData:{changeType:"selectIconTabBarFilter",content:{selectedKey:s,previousSelectedKey:o}},selectorElement:n}]})}i._getViewController()?.getExtensionAPI()?.updateAppState();i.fireEvent("select",{iconTabBar:n,selectedKey:s,previousKey:o})};l.refreshSelectedInnerControlContent=function e(){if(this.getSelectedInnerControl()){this.getSelectedInnerControl()?.invalidateContent();this.getSelectedInnerControl()?.resumeBinding(true)}else{this._refreshCustomView(undefined,"forcedRefresh")}};l.invalidateContent=function e(t){this.setCountsOutDated(true);this.getAllInnerControls().forEach(e=>{if(t){for(const n of t){if(e.getKey()===`fe::table::${n}::LineItem`||e.getKey()===`fe::CustomTab::${n}`||e.getKey()===n){e.invalidateContent()}}}else{e.invalidateContent()}})};l.setCountsOutDated=function e(){let t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:true;this.setProperty("countsOutDated",t);if(t&&!this.getSelectedInnerControl()?.getTabContent().length){this.internalRefreshTabsCount()}};l.setFreezeContent=function e(t){this.setProperty("freezeContent",t);this._setInnerBinding()};l._updateMultiTabNotApplicableFields=function e(){const t=this.getTabsModel();const n=this._getFilterControl();if(t&&n){const e={};this.getAllInnerControls().forEach(t=>{const i=t.getKey();const r=t.refreshNotApplicableFields(n)||[];e[i]={notApplicable:{fields:r,title:this._setTabMessageStrip({entityTypePath:n.data("entityType"),ignoredFields:r,title:t.getText()})}};const o=t.getTabContent()?.[0];if(o&&o.isA("sap.fe.macros.Chart")){e[i]=this.checkNonFilterableEntitySet(o,i,e)}});t.setData(e)}};l.checkNonFilterableEntitySet=function e(t,n,i){const r=R(t);const o=t.getContent();const l=o&&s.getInvolvedDataModelObjects(o.getModel().getMetaModel().getContext(`${o.data("targetCollectionPath")}`))?.targetObject?.annotations?.Capabilities?.FilterRestrictions?.Filterable;if(l!==undefined&&!l){if(i[n].notApplicable.fields.includes("$search")){i[n].notApplicable.title+=" "+r.getText("C_LR_MULTIVIZ_CHART_MULTI_NON_FILTERABLE")}else{i[n].notApplicable.fields=["nonFilterable"];i[n].notApplicable.title=r.getText("C_LR_MULTIVIZ_CHART_MULTI_NON_FILTERABLE")}}return i[n]};l.getAllInnerControls=function e(){let t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;return(this.content?.getItems()).filter(e=>!t||e.getVisible())??[]};l._getFilterControl=function e(){return a.getElementById(this.filterControl)};l._getViewController=function e(){const t=o.getTargetView(this);return t&&t.getController()};l._refreshCustomView=function e(t,n){this._getViewController()?.onViewNeedsRefresh?.({filterConditions:t,currentTabId:this.content?.getSelectedKey(),refreshCause:n})};l.internalRefreshTabsCount=function e(t){const n=t?.getSource();const i=n?n.getKey():this.content?.getSelectedKey();if(i){this.refreshTabsCount([i.split("::")[2]])}};l.refreshTabsCount=function e(t){if(!t){this.setCountsOutDated(true)}this.getAllInnerControls(true).forEach(e=>{if(this.countsOutDated||t&&t.includes(e.getKey().split("::")[2])){e.refreshCount()}});this.setCountsOutDated(false)};l.setTabContentToBeRefreshedOnNextOpening=function e(t){const n=this?.content?.getSelectedKey();const i=[];const r=t?t.includes(n.split("::")[2])||t.includes(n):true;if(t){for(const e of t){if(n!==`fe::table::${e}::LineItem`&&n!==`fe::CustomTab::${e}`&&n!==e){i.push(e)}}}else{this?.getAllInnerControls().forEach(e=>{if(e.getKey()!==n){i.push(e.getKey().split("::")[2])}})}this?.invalidateContent(i);if(r){this?.refreshSelectedInnerControlContent()}};l._setInnerBinding=function e(){let t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;if(this.content){this.getAllInnerControls().forEach(e=>{const n=e.getKey()===this.content?.getSelectedKey();const i=n&&!this.getProperty("freezeContent")?J.Resume:J.Suspend;e[i]?.(i===J.Resume?t&&n:undefined)})}};l._setTabMessageStrip=function e(t){let i="";const r=t.ignoredFields;const o=this._getFilterControl();if(o&&Array.isArray(r)&&r.length>0&&t.title){const e=n.getLabels(r,t.entityTypePath,o,R(o));i=n.getText(e,o,t.title);return i}};l._onSearch=function e(t){this.setCountsOutDated(true);this.setFreezeContent(false);if(this.getSelectedInnerControl()){this._updateMultiTabNotApplicableFields();if(this.getSelectedInnerControl().getTabContent().length==0){this.getSelectedInnerControl().fireEvent("internalDataRequested",t.getParameters())}}else{this._refreshCustomView(t.getParameter("conditions"),"search")}};l._onFilterChanged=function e(t){if(t.getParameter("conditionsBased")){this.setFreezeContent(true)}};l.createContent=function e(){return f(i,{expandable:false,headerMode:"Inline",id:this.createId("_mt"),stretchContentHeight:false,select:t.handleTabChange,children:{items:this.tabs}})};return t}(t),w=q(T.prototype,"__implements__sap_fe_core_controllerextensions_viewState_IViewStateContributor",[h],{configurable:true,enumerable:true,writable:true,initializer:function(){return true}}),z=q(T.prototype,"id",[g],{configurable:true,enumerable:true,writable:true,initializer:null}),A=q(T.prototype,"showCounts",[p],{configurable:true,enumerable:true,writable:true,initializer:null}),F=q(T.prototype,"tabs",[b],{configurable:true,enumerable:true,writable:true,initializer:null}),O=q(T.prototype,"filterBarId",[C],{configurable:true,enumerable:true,writable:true,initializer:null}),K=q(T.prototype,"setVisibleOverridden",[y],{configurable:true,enumerable:true,writable:true,initializer:null}),B=q(T.prototype,"freezeContent",[m],{configurable:true,enumerable:true,writable:true,initializer:null}),M=q(T.prototype,"countsOutDated",[I],{configurable:true,enumerable:true,writable:true,initializer:null}),E=q(T.prototype,"filterControl",[_],{configurable:true,enumerable:true,writable:true,initializer:null}),V=q(T.prototype,"select",[v],{configurable:true,enumerable:true,writable:true,initializer:null}),T))||S);P=W;return P},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/MultiValueField", ["sap/fe/base/BindingToolkit","sap/fe/base/ClassSupport","sap/fe/core/helpers/BindingHelper","sap/fe/core/helpers/StableIdHelper","sap/fe/core/helpers/TypeGuards","sap/fe/core/templating/DataModelPathHelper","sap/fe/core/templating/UIFormatters","sap/fe/macros/field/FieldHelper","sap/fe/macros/field/FieldTemplating","sap/ui/core/CustomData","sap/ui/mdc/MultiValueField","sap/ui/mdc/field/MultiValueFieldItem","sap/fe/core/buildingBlocks/BuildingBlock","sap/fe/core/controllerextensions/collaboration/CollaborationCommon","sap/fe/core/controls/FormElementWrapper","sap/fe/core/formatters/CollaborationFormatter","sap/fe/core/helpers/ModelHelper","sap/fe/core/templating/FieldControlHelper","sap/fe/macros/field/FieldRuntime","sap/fe/macros/multivaluefield/FormatOptions","sap/fe/macros/multivaluefield/MultiValueFieldRuntime","sap/m/Avatar","sap/m/HBox","sap/ui/base/Event","sap/ui/core/Element","./ValueHelp","./field/FieldRuntimeHelper","sap/fe/base/jsx-runtime/jsx"],function(t,e,i,a,o,n,r,l,s,d,c,u,h,p,f,g,b,m,y,v,P,M,C,x,E,I,O,F){"use strict";var D,_,w,B,z,S,V,j,A,L,R,H,T,$,G,k,q,U,N,Q,W,J,K,X,Y;var Z={};var tt=m.isRequiredExpression;var et=m.isReadOnlyExpression;var it=p.CollaborationFieldGroupPrefix;var at=s.getVisibleExpression;var ot=s.getValueBinding;var nt=r.getDisplayMode;var rt=r.getCollaborationExpression;var lt=n.isPathInsertable;var st=n.isPathDeletable;var dt=n.getTargetObjectPath;var ct=n.getRelativePaths;var ut=n.getContextRelativeTargetObjectPath;var ht=n.enhanceDataModelPath;var pt=o.isPropertyPathExpression;var ft=o.isProperty;var gt=o.isPathAnnotationExpression;var bt=o.isMultipleNavigationProperty;var mt=i.UI;var yt=e.property;var vt=e.implementInterface;var Pt=e.defineUI5Class;var Mt=e.association;var Ct=e.aggregation;var xt=t.or;var Et=t.not;var It=t.isConstant;var Ot=t.ifElse;var Ft=t.getExpressionFromAnnotation;var Dt=t.equal;var _t=t.constant;var wt=t.compileExpression;var Bt=t.and;function zt(t,e,i,a){i&&Object.defineProperty(t,e,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(a):void 0})}function St(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,Vt(t,e)}function Vt(t,e){return Vt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Vt(t,e)}function jt(t,e,i,a,o){var n={};return Object.keys(a).forEach(function(t){n[t]=a[t]}),n.enumerable=!!n.enumerable,n.configurable=!!n.configurable,("value"in n||n.initializer)&&(n.writable=!0),n=i.slice().reverse().reduce(function(i,a){return a(t,e,i)||i},n),o&&void 0!==n.initializer&&(n.value=n.initializer?n.initializer.call(o):void 0,n.initializer=void 0),void 0===n.initializer?(Object.defineProperty(t,e,n),null):n}function At(t,e){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let Lt=(D=Pt("sap.fe.macros.MultiValueField"),_=vt("sap.ui.core.IFormContent"),w=yt({type:"string"}),B=Mt({type:"string"}),z=Mt({type:"string"}),S=yt({type:"string",required:true}),V=yt({type:"boolean",required:false}),j=yt({type:"string"}),A=yt({type:"any",isBindingInfo:true}),L=Ct({type:"sap.fe.macros.multivaluefield.FormatOptions",multiple:false,defaultClass:v}),R=yt({type:"boolean"}),H=yt({type:"boolean"}),D(T=($=function(t){function e(e,i){var a;if(typeof e!=="string"){e._isInEditMode=wt(mt.IsEditable)}a=t.call(this,e,i)||this;zt(a,"__implements__sap_ui_core_IFormContent",G,a);zt(a,"id",k,a);zt(a,"idPrefix",q,a);zt(a,"vhIdPrefix",U,a);zt(a,"metaPath",N,a);zt(a,"readOnly",Q,a);zt(a,"contextPath",W,a);zt(a,"items",J,a);zt(a,"formatOptions",K,a);zt(a,"_isInEditMode",X,a);zt(a,"useParentBindingCache",Y,a);return a}Z=e;St(e,t);var i=e.prototype;i._overrideValue=function t(e,i,a,o){if(this.items){const t=this.items.model??this.items.modelName;e={path:`${t}>${this.items.path}`};const n=i.targetObject;const r=`{${t}>${n.name}}`;if(gt(n.annotations.Common?.Text)){a=`{${t}>${n.annotations.Common?.Text?.path}}`}else{a=r}o=r}return{description:a,collectionBinding:e,key:o}};i._getMultiInputSettings=function t(i,a){const o=e._getPathStructure(i);let{collectionPath:n}=o;const r=o.itemDataModelObjectPath;if(this.metaPath.startsWith("/")&&this.items){n=`/${i.contextLocation?.startingEntitySet.name}`}const l=this.useParentBindingCache?{path:n,templateShareable:false}:{path:n,parameters:{$$ownRequest:true},templateShareable:false};const s=i.targetObject;const d=pt(s)?s.$target:s;const c=d?.annotations.Common?.Text;const u=ct(i);const h=c?wt(Ft(c,u)):ot(r,a??{},true);const p=ot(r,a??{},true);let f=false;if(ct(r).length>0){f=true}return{displayOnly:f,...this._overrideValue(l,r,h,p)}};e._getPathStructure=function t(e){let i="";const a=e.contextLocation?.targetEntitySet?e.contextLocation.targetEntitySet:e.startingEntitySet;const o=[];const n=e.contextLocation?.navigationProperties||[];for(const t of e.navigationProperties){if(e.contextLocation===undefined||!e.contextLocation.navigationProperties.some(e=>e.fullyQualifiedName===t.fullyQualifiedName)){o.push(t.name);n.push(t);if(a.navigationPropertyBinding.hasOwnProperty(t.name)){if(bt(t)){break}}}}i=`${o.join("/")}`;const r=Object.assign({},e);if(r.contextLocation){r.contextLocation.navigationProperties=n}return{collectionPath:i,itemDataModelObjectPath:r}};i.computeFieldGroupIds=function t(e){if(!e){return""}const i=e.getSideEffectsService();const a=i.computeFieldGroupIds(this.dataModelPath.targetEntityType.fullyQualifiedName,this.dataModelPath.targetObject.fullyQualifiedName);if(this.collaborationEnabled){const t=`${it}${this.dataSourcePath}`;a.push(t)}this.fieldGroupIds=a.length?a.join(","):undefined;const o=a.join(",");return o===""?undefined:o};i.initialize=function t(e){const i=this._getOwner();this.contextPath=this.contextPath??i?.preprocessorContext?.fullContextPath;const a=i?.getMetaModel();const o=a?.createBindingContext(e.getPath());const n=e?.getTarget();if(ft(n)&&n.annotations.UI?.DataFieldDefault!==undefined){this.enhancedMetaPath=a?.createBindingContext(`@${"com.sap.vocabularies.UI.v1.DataFieldDefault"}`,o)}else{this.enhancedMetaPath=o}const r=this.getDataModelObjectForMetaPath(this.enhancedMetaPath.getPath(),this.contextPath);this.convertedDataField=r.targetObject;this.dataModelPath=ht(r,this.convertedDataField.Value.path);this.dataSourcePath=dt(this.dataModelPath);this.property=this.dataModelPath.targetObject;let l=lt(this.dataModelPath);const s=st(this.dataModelPath,{ignoreTargetCollection:true,authorizeUnresolvable:true});const d=st(this.dataModelPath);let c=Ot(s._type==="Unresolvable",xt(Et(It(d)),d),d);if(this.items){l=c=_t(!this.readOnly)}else{this.visible=at(this.dataModelPath,this.formatOptions)}this.insertableAndDeletable=Bt(l,c);this.collaborationExpression=_t(false);this.computeCollaborationProperties();const u=this.isPropertyInitial("readOnly")?undefined:this.readOnly;if(this.formatOptions?.displayOnly===true||u===true){this.editMode="Display"}else if(this.readOnly===false){this.editMode=wt(Ot(Bt(l,c),Ot(this.collaborationExpression,_t("ReadOnly"),_t("Editable")),_t("Display")))}else{this.editMode=wt(Ot(Bt(l,c,mt.IsEditable,Et(Dt(true,et(this.convertedDataField)))),Ot(this.collaborationExpression,_t("ReadOnly"),_t("Editable")),_t("Display")))}this.displayMode=nt(this.dataModelPath);const h=ht(this.getDataModelObjectForMetaPath(this.enhancedMetaPath.getPath(),this.contextPath),this.convertedDataField.Value.path);this.item=this._getMultiInputSettings(h,this.formatOptions);if(this.item.displayOnly){this.editMode="Display"}this.collection=this.item.collectionBinding;const p=this.getAppComponent();this.fieldGroupIds=this.computeFieldGroupIds(p)};i.onMetadataAvailable=function t(){if(!this.content){this.content=this.createContent()}};i.isCollaborationDraftSupported=function t(){const e=this._getOwner();const i=e?.getMetaModel();return b.isCollaborationDraftSupported(i)};i.computeCollaborationProperties=function t(){if(this.isCollaborationDraftSupported()&&this.editMode!=="Display"){this.collaborationEnabled=true;this.collaborationExpression=r.getCollaborationExpression(this.dataModelPath,g.hasCollaborationActivity);this.collaborationInitialsExpression=wt(rt(this.dataModelPath,g.getCollaborationActivityInitials));this.collaborationColorExpression=wt(rt(this.dataModelPath,g.getCollaborationActivityColor))}};i.getRequired=function t(){return this.getMultiValueField().getRequired()};i.getItems=function t(){return this.getMultiValueField().getItems()};i.createContent=function t(){const e=this.getMetaPathObject(this.metaPath,this.contextPath);if(e){this.initialize(e);if(this.id){this.vhIdPrefix=a.generate([this.getId(),this.vhIdPrefix??"FieldValueHelp"])}else if(!this.vhIdPrefix){this.vhIdPrefix=this.createId("FieldValueHelp")}const t=this._getOwner()?.getRootController();const i=t.getView();const o=this._getOwner()?.getMetaModel();const n=o?.createBindingContext(e.getPath());const r=o?.createBindingContext(e.getContextPath());if(!n||!r){return}const s=this.collection;const h=this.getAppComponent()?.getManifestEntry("sap.fe")?.macros?.multiValueField?.itemsSizeLimit;if(h!==undefined){s.length=h}const p=l.computeLabelText(this.convertedDataField.Value,{context:n});const g=I.getValueHelpForMetaPath(this.getPageController(),ut(this.dataModelPath),this.contextPath??this.getOwnerContextPath(),this._getOwner()?.getMetaModel());let b;if(g&&g.getContent()){b=g.getContent().getId()}const m=F(c,{id:this.createId("_mvf"),delegate:{name:"sap/fe/macros/multivaluefield/MultiValueFieldDelegate"},items:s,display:this.displayMode,width:"100%",editMode:this.editMode,valueHelp:b,ariaLabelledBy:this.ariaLabelledBy?this.ariaLabelledBy:[],showEmptyIndicator:this.formatOptions?.showEmptyIndicator,label:p,required:wt(Bt(mt.IsEditable,tt(this.convertedDataField))),change:P.handleChange.bind(P,t),fieldGroupIds:this.fieldGroupIds,validateFieldGroup:y.onValidateFieldGroup,children:{items:F(u,{description:this.item.description},this.item.key),customData:F(d,{value:this.insertableAndDeletable},"insertableAndDeletable")}});let v=null;if(this.collaborationEnabled){const e=F(M,{visible:this.collaborationExpression,initials:this.collaborationInitialsExpression,displaySize:"Custom",customDisplaySize:"1.5rem",customFontSize:"0.8rem",backgroundColor:this.collaborationColorExpression,press:()=>{O.showCollaborationEditUser(e,i)}});v=F(f,{children:F(C,{width:"100%",renderType:"Bare",alignItems:"End",children:{items:[m,e]}})});m?.addEventDelegate({onfocusin:e=>{const i=e.srcControl.getParent();t.collaborativeDraft?.handleContentFocusIn(i);if(a?.getDomRef()){a.attachEventOnce("closed",()=>{i?.focus()})}},onfocusout:e=>{let i=e.srcControl.getParent();if(i?.isA("sap.m.Tokenizer")){i=i.getParent()?.getParent()}const a=new x("",i,{fieldGroupIds:i.getFieldGroupIds()});t.collaborativeDraft.handleContentFocusOut(a)}},this);const a=E.getElementById(m.getValueHelp());a?.attachOpened(e=>{const i=e.getSource().getControl();t.collaborativeDraft.handleContentFocusIn(i)})}m.addCustomData(new d({key:"forwardedItemsBinding",value:this.items}));return this.collaborationEnabled?v:m}};i.setReadOnly=function e(i){t.prototype.setProperty.call(this,"readOnly",i);this.updateEditMode()};i.set_isInEditMode=function e(i){t.prototype.setProperty.call(this,"_isInEditMode",i);this.updateEditMode()};i.getMultiValueField=function t(){if(this.isCollaborationDraftSupported()){return this.content.content.getItems()[0]}else{return this.content}};i.updateEditMode=function t(){if(!this.content){return}const e=this.getMultiValueField();const i=e.data("insertableAndDeletable");if(this.readOnly===true||!i){this.editMode="Display";e.setEditMode("Display")}else if(this.readOnly===false&&i){if(this._isInEditMode){this.editMode="Editable";e.setEditMode("Editable")}else{this.editMode="Display";e.setEditMode("Display")}}};i.onBeforeRendering=function t(){if(this.content){const t=this.getMultiValueField();const e=this.getAriaLabelledBy();for(const i of e){const e=t.getAriaLabelledBy();if(!e.includes(i)){t.addAriaLabelledBy(i)}}}};return e}(h),G=jt($.prototype,"__implements__sap_ui_core_IFormContent",[_],{configurable:true,enumerable:true,writable:true,initializer:function(){return true}}),k=jt($.prototype,"id",[w],{configurable:true,enumerable:true,writable:true,initializer:null}),q=jt($.prototype,"idPrefix",[B],{configurable:true,enumerable:true,writable:true,initializer:null}),U=jt($.prototype,"vhIdPrefix",[z],{configurable:true,enumerable:true,writable:true,initializer:null}),N=jt($.prototype,"metaPath",[S],{configurable:true,enumerable:true,writable:true,initializer:null}),Q=jt($.prototype,"readOnly",[V],{configurable:true,enumerable:true,writable:true,initializer:null}),W=jt($.prototype,"contextPath",[j],{configurable:true,enumerable:true,writable:true,initializer:null}),J=jt($.prototype,"items",[A],{configurable:true,enumerable:true,writable:true,initializer:null}),K=jt($.prototype,"formatOptions",[L],{configurable:true,enumerable:true,writable:true,initializer:null}),X=jt($.prototype,"_isInEditMode",[R],{configurable:true,enumerable:true,writable:true,initializer:function(){return false}}),Y=jt($.prototype,"useParentBindingCache",[H],{configurable:true,enumerable:true,writable:true,initializer:function(){return false}}),$))||T);Z=Lt;return Z},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/ObjectTitle", ["sap/fe/base/BindingToolkit","sap/fe/base/ClassSupport","sap/fe/core/buildingBlocks/BuildingBlock","sap/m/Avatar","sap/m/FlexBox","sap/m/Label","sap/m/LightBox","sap/m/LightBoxItem","sap/m/Title","sap/fe/base/jsx-runtime/jsx"],function(e,t,i,r,a,n,o,s,l,c){"use strict";var u,f,p,h,d;var b={};var v=t.property;var g=t.defineUI5Class;var m=e.getExpressionFromAnnotation;var I=e.compileExpression;function y(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function P(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,x(e,t)}function x(e,t){return x=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},x(e,t)}function T(e,t,i,r,a){var n={};return Object.keys(r).forEach(function(e){n[e]=r[e]}),n.enumerable=!!n.enumerable,n.configurable=!!n.configurable,("value"in n||n.initializer)&&(n.writable=!0),n=i.slice().reverse().reduce(function(i,r){return r(e,t,i)||i},n),a&&void 0!==n.initializer&&(n.value=n.initializer?n.initializer.call(a):void 0,n.initializer=void 0),void 0===n.initializer?(Object.defineProperty(e,t,n),null):n}function O(e,t){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let _=function(){function e(e){this.headerInfo=e}var t=e.prototype;t.hasAvatar=function e(){return!!(this.headerInfo.ImageUrl??this.headerInfo.TypeImageUrl??this.headerInfo.Initials)};t.getTitle=function e(){return I(m(this.headerInfo.Title.Value))};t.isDescriptionVisible=function e(){return this.headerInfo.Description?.annotations?.UI?.Hidden?.valueOf()!==false};t.getDescription=function e(){return I(m(this.headerInfo.Description.Value))};return e}();let D=(u=g("sap.fe.macros.ObjectTitle"),f=v({type:"string"}),u(p=(h=function(e){function t(t,i){var r;r=e.call(this,t,i)||this;y(r,"metaPath",d,r);return r}b=t;P(t,e);var i=t.prototype;i.onMetadataAvailable=function e(){if(!this.content){this.content=this.createContent()}};i._createAvatar=function e(){return c(r,{class:"sapUiSmallMarginEnd",src:"{avatar>src}",initials:"{avatar>initials}",fallbackIcon:"{avatar>fallbackIcon}",displayShape:"{avatar>displayShape}",displaySize:"S",imageFitType:"Cover",children:{detailBox:c(o,{children:c(s,{imageSrc:"{avatar>src}",title:"{= OP.getExpressionForTitle(${fullContextPath>@@UI.getDataModelObjectPath}, ${viewData>}, ${headerInfo>@@UI.getConverterContext})}",subtitle:"{= OP.getExpressionForDescription(${fullContextPath>@@UI.getDataModelObjectPath}, ${headerInfo>@@UI.getConverterContext})}"})})}})};i._createTitle=function e(t){return c(l,{text:t.getTitle(),wrapping:"true",level:"H2"})};i._createDescription=function e(t){return c(n,{text:t.getDescription(),wrapping:"true"})};i._getTitlePart=function e(t){if(t.isDescriptionVisible()){return c(a,{direction:"Column",children:{items:[this._createTitle(t),this._createDescription(t)]}})}else{return this._createTitle(t)}};i.createContent=function e(){const t=this.getMetaPathObject(`@${this.metaPath}`);if(t){const e=new _(t.getTarget());if(e.hasAvatar()){return c(a,{renderType:"Bare",children:{items:[this._createAvatar(),this._getTitlePart(e)]}})}else{return this._getTitlePart(e)}}};return t}(i),d=T(h.prototype,"metaPath",[f],{configurable:true,enumerable:true,writable:true,initializer:function(){return"com.sap.vocabularies.UI.v1.HeaderInfo"}}),h))||p);b=D;return b},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/Page", ["sap/f/DynamicPage","sap/f/DynamicPageHeader","sap/f/DynamicPageTitle","sap/fe/base/ClassSupport","sap/fe/core/buildingBlocks/BuildingBlock","sap/fe/core/controllerextensions/BusyLocker","sap/fe/core/controls/CommandExecution","sap/fe/macros/ObjectTitle","sap/fe/macros/Share","sap/fe/macros/share/ShareOptions","sap/m/Avatar","sap/m/AvatarShape","sap/m/AvatarSize","sap/m/FlexBox","sap/m/Label","sap/m/Title","./share/MsTeamsOptions","sap/fe/base/jsx-runtime/jsx"],function(e,t,i,r,a,n,o,l,s,c,u,p,d,f,h,m,b,g){"use strict";var y,v,S,z,C,w,O,P,T,x,j,A,B,D,M;var k={};var E=r.property;var I=r.defineUI5Class;var _=r.aggregation;function H(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function L(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,U(e,t)}function U(e,t){return U=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},U(e,t)}function F(e,t,i,r,a){var n={};return Object.keys(r).forEach(function(e){n[e]=r[e]}),n.enumerable=!!n.enumerable,n.configurable=!!n.configurable,("value"in n||n.initializer)&&(n.writable=!0),n=i.slice().reverse().reduce(function(i,r){return r(e,t,i)||i},n),a&&void 0!==n.initializer&&(n.value=n.initializer?n.initializer.call(a):void 0,n.initializer=void 0),void 0===n.initializer?(Object.defineProperty(e,t,n),null):n}function q(e,t){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let X=(y=I("sap.fe.macros.Page"),v=_({type:"sap.ui.core.Control",multiple:true,isDefault:true}),S=_({type:"sap.ui.core.Control",multiple:true}),z=E({type:"string"}),C=E({type:"boolean"}),w=E({type:"string"}),O=E({type:"string"}),y(P=(T=function(r){function a(e,t){var i;i=r.call(this,e,t)||this;H(i,"items",x,i);H(i,"actions",j,i);H(i,"title",A,i);H(i,"editable",B,i);H(i,"description",D,i);H(i,"avatarSrc",M,i);return i}k=a;L(a,r);var y=a.prototype;y.onMetadataAvailable=function e(){this.content=this.createContent()};y.createAvatar=function e(t){if(this.avatarSrc){return g(u,{class:"sapUiSmallMarginEnd",src:this.avatarSrc,displayShape:p.Square,displaySize:t?d.XL:d.S})}};y.createTitle=function e(){return g(m,{text:this.title})};y.createDescription=function e(){return g(h,{text:this.description})};y.getTitlePart=function e(){if(this.title&&this.description){return g(f,{direction:"Column",children:{items:[this.createTitle(),this.createDescription()]}})}else if(this.title){return g(f,{direction:"Column",children:{items:[this.createTitle()]}})}else{return g(l,{})}};y.getShareAction=function e(){return g(s,{id:this.createId("share"),children:{shareOptions:g(c,{showSendEmail:"true",showCollaborationManager:"true"}),msTeamsOptions:g(b,{enableCard:"false"})}})};y.createContent=function r(){return g(e,{id:this.createId("page"),children:{title:g(i,{id:this.createId("title"),children:{expandedHeading:this.getTitlePart(),snappedHeading:g(f,{renderType:"Bare",children:{items:[this.createAvatar(false),this.getTitlePart()]}}),actions:this.actions.concat(this.getShareAction())}}),header:g(t,{children:this.createAvatar(true)}),content:g(f,{id:this.createId("content"),direction:"Column",children:{items:this.items.map(e=>{e.addStyleClass("sapUiMediumMarginBottom");return e})}}),dependents:[g(o,{execute:()=>{const e=this.getBindingContext();const t=this.getModel("ui");n.lock(t);this.getPageController()?.editFlow?.editDocument(e).finally(function(){n.unlock(t)})},enabled:true,visible:true,command:"Edit"})]}})};return a}(a),x=F(T.prototype,"items",[v],{configurable:true,enumerable:true,writable:true,initializer:null}),j=F(T.prototype,"actions",[S],{configurable:true,enumerable:true,writable:true,initializer:null}),A=F(T.prototype,"title",[z],{configurable:true,enumerable:true,writable:true,initializer:null}),B=F(T.prototype,"editable",[C],{configurable:true,enumerable:true,writable:true,initializer:function(){return false}}),D=F(T.prototype,"description",[w],{configurable:true,enumerable:true,writable:true,initializer:null}),M=F(T.prototype,"avatarSrc",[O],{configurable:true,enumerable:true,writable:true,initializer:null}),T))||P);k=X;return k},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/Paginator", ["sap/base/Log","sap/fe/base/BindingToolkit","sap/fe/base/ClassSupport","sap/fe/base/HookSupport","sap/fe/core/buildingBlocks/BuildingBlock","sap/fe/core/helpers/ModelHelper","sap/fe/core/library","sap/m/HBox","sap/ui/core/Element","sap/ui/core/InvisibleText","sap/ui/model/json/JSONModel","sap/fe/base/jsx-runtime/jsx","sap/fe/base/jsx-runtime/jsxs"],function(t,e,n,i,r,o,s,a,u,l,d,c,p){"use strict";var h,f,x,_,C,g,b,I,v,P,y,O,T,B,w,A;function E(t){return new Promise((e,n)=>{sap.ui.require([t],n=>{if(!(n&&n.__esModule)){n=n===null||!(typeof n==="object"&&t.endsWith("/library"))?{default:n}:n;Object.defineProperty(n,"__esModule",{value:true})}e(n)},t=>{n(t)})})}var m={};var N=s.ContextNavigationType;var D=i.controllerExtensionHandler;var L=n.property;var M=n.defineUI5Class;var j=n.defineReference;var z=e.pathInModel;var H=e.or;var R=e.compileExpression;function U(t,e,n,i){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function G(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,k(t,e)}function k(t,e){return k=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},k(t,e)}function S(t,e,n,i,r){var o={};return Object.keys(i).forEach(function(t){o[t]=i[t]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(n,i){return i(t,e,n)||n},o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer?(Object.defineProperty(t,e,o),null):o}function F(t,e){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}var J=function(t){t["Next"]="Next";t["Previous"]="Previous";return t}(J||{});let W=(h=M("sap.fe.macros.Paginator"),f=L({type:"string"}),x=L({type:"string"}),_=j(),C=j(),g=j(),b=j(),I=D("paginator","initialize"),h(v=(P=function(e){function n(t,n){var i;i=e.call(this,t,n)||this;U(i,"id",y,i);U(i,"ariaTitle",O,i);U(i,"upButton",T,i);U(i,"downButton",B,i);U(i,"upDescription",w,i);U(i,"downDescription",A,i);i.paginatorModel=new d({navUpEnabled:false,navDownEnabled:false});i._iCurrentIndex=-1;i._nextIndex=-1;i._previousIndex=-1;i._listCurrentContexts=[];return i}m=n;G(n,e);n.load=async function t(){if(n.ObjectPageHeaderActionButton===undefined){const{default:t}=await E("sap/uxap/ObjectPageHeaderActionButton");n.ObjectPageHeaderActionButton=t}return this};var i=n.prototype;i.onMetadataAvailable=async function t(e){await n.load();this.content=this.createContent(e)};i.onModelContextChange=function t(e){const n=e.getSource();if(n.isA("sap.m.HBox")&&this.upButton.current&&this.downButton.current){const t=n.getBindingContext();if(!t){return}this._updateDescriptionAndFocus(this.upButton.current,this.downButton.current)}};i.initialize=function t(e,n){if(e&&e.getAllCurrentContexts){this._oListBinding=e;this._listCurrentContexts=this._oListBinding.getAllCurrentContexts();e.attachEvent("change",this._updateIndicesAndButtonEnablement.bind(this))}else{this._oListBinding=undefined}if(n){this._oCurrentContext=n}this._updateIndicesAndButtonEnablement()};i._setPrevOrNextIndex=async function t(e,n){let i=await(this.getPageController()?.paginator.determineContextNavigationType(this._listCurrentContexts[e]));const r=await o.evaluateVirtualExpression("@$ui5.fe.virtual.routeNavigable-"+this.getPageController().getRoutingTargetName(),this._listCurrentContexts[e]);if(r===false){i=N.None}if(i===N.Internal){if(n===J.Next){this._nextIndex=e}else{this._previousIndex=e}}else if(n===J.Next){if(e!==this._listCurrentContexts.length-1){await this._setPrevOrNextIndex(e+1,J.Next)}else{this._nextIndex=-1}}else if(e!==0){await this._setPrevOrNextIndex(e-1,J.Previous)}else{this._previousIndex=-1}};i._updateIndicesAndButtonEnablement=async function e(){if(this._oCurrentContext&&this._oListBinding){this._listCurrentContexts=this._oListBinding.getAllCurrentContexts();const e=this._oCurrentContext.getPath();this._iCurrentIndex=this._listCurrentContexts?.findIndex(function(t){return t&&t.getPath()===e});const n=this._listCurrentContexts?.[this._iCurrentIndex];if(!this._iCurrentIndex&&this._iCurrentIndex!==0||!n||this._oCurrentContext.getPath()!==n.getPath()){this._updateCurrentIndex()}return this._invokeSetPrevOrNextIndex().then(()=>{this._handleButtonEnablement();return}).catch(e=>{t.error("Error occurred while setting button indices or handling button enablement:",e)})}else{this._handleButtonEnablement();return Promise.resolve()}};i._handleButtonEnablement=function t(){const e=this.paginatorModel;if(this._oListBinding&&this._oListBinding.getAllCurrentContexts()?.length>1&&this._iCurrentIndex>-1){this._listCurrentContexts=this._oListBinding.getAllCurrentContexts();if(this._iCurrentIndex===this._listCurrentContexts.length-1||this._nextIndex===-1){e.setProperty("/navDownEnabled",false)}else if(this._listCurrentContexts[this._iCurrentIndex+1].isInactive()){e.setProperty("/navDownEnabled",false)}else{e.setProperty("/navDownEnabled",true)}if(this._iCurrentIndex===0||this._previousIndex===-1){e.setProperty("/navUpEnabled",false)}else if(this._listCurrentContexts[this._iCurrentIndex-1].isInactive()){e.setProperty("/navUpEnabled",false)}else{e.setProperty("/navUpEnabled",true)}}else{e.setProperty("/navUpEnabled",false);e.setProperty("/navDownEnabled",false)}};i._updateCurrentIndex=function t(){if(this._oCurrentContext&&this._oListBinding){const t=this._oCurrentContext.getPath();this._iCurrentIndex=this._listCurrentContexts?.findIndex(function(e){return e&&e.getPath()===t})}};i._invokeSetPrevOrNextIndex=async function t(){if(this._listCurrentContexts.length>1){if(this._iCurrentIndex!==this._listCurrentContexts.length-1){await this._setPrevOrNextIndex(this._iCurrentIndex+1,J.Next)}if(this._iCurrentIndex!==0){await this._setPrevOrNextIndex(this._iCurrentIndex-1,J.Previous)}}};i.updateCurrentContext=async function t(e){if(!this._oListBinding){return}const n=this._oCurrentContext?.getModel?this._oCurrentContext?.getModel():undefined;await(n?.submitBatch("$auto"));const i=this._oListBinding.getAllCurrentContexts();const r=i[e];if(r){const t=this.getPageController()?.paginator.onBeforeContextUpdate(this._oListBinding,this._iCurrentIndex,e);if(!t){this._iCurrentIndex=e;this._oCurrentContext=r}this.getPageController()?.paginator.onContextUpdate(r)}this._updateIndicesAndButtonEnablement()};i._updateDescriptionAndFocus=function t(e,n){const i=u.getActiveElement();const r=e.getEnabled();const o=n.getEnabled();let s="";let a="";if(r&&!o&&i===n){e.focus();s=this.getTranslatedText("M_PAGINATOR_TITLE_BOTTOM");a=""}else if(o&&!r&&i===e){n.focus();s="";a=this.getTranslatedText("M_PAGINATOR_TITLE_TOP")}if(this.upDescription.current){this.upDescription.current.setText(s)}if(this.downDescription.current){this.downDescription.current.setText(a)}};i.createContent=function t(e){const i=z("/navUpEnabled","paginator");const r=z("/navDownEnabled","paginator");const o=H(i,r);const s=z("T_PAGINATOR_CONTROL_PAGINATOR_TOOLTIP_UP","sap.fe.i18n");const u=z("T_PAGINATOR_CONTROL_PAGINATOR_TOOLTIP_DOWN","sap.fe.i18n");const d=this.ariaTitle?this.getTranslatedText("M_PAGINATOR_ANNOUNCEMENT_TITLE_LOADED",[this.ariaTitle]):this.getTranslatedText("M_PAGINATOR_ANNOUNCEMENT_OBJECT_LOADED");e.setModel(this.paginatorModel,"paginator");return p(a,{displayInline:"true",id:this.createId("_box"),visible:R(o),modelContextChange:t=>{this.onModelContextChange(t)},children:[c(l,{ref:this.upDescription,id:this.createId("upDescription")}),c(l,{ref:this.downDescription,id:this.createId("downDescription")}),c(l,{id:this.createId("titleDescription"),text:d}),c(n.ObjectPageHeaderActionButton,{id:this.createId("previousItem"),ref:this.upButton,enabled:R(i),tooltip:R(s),icon:"sap-icon://navigation-up-arrow",press:async()=>this.updateCurrentContext(this._previousIndex),type:"Transparent",importance:"High",ariaDescribedBy:[this.createId("titleDescription"),this.createId("upDescription")].filter(t=>t!==undefined)}),c(n.ObjectPageHeaderActionButton,{id:this.createId("nextItem"),ref:this.downButton,enabled:R(r),tooltip:R(u),icon:"sap-icon://navigation-down-arrow",press:async()=>this.updateCurrentContext(this._nextIndex),type:"Transparent",importance:"High",ariaDescribedBy:[this.createId("titleDescription"),this.createId("downDescription")].filter(t=>t!==undefined)})]})};return n}(r),y=S(P.prototype,"id",[f],{configurable:true,enumerable:true,writable:true,initializer:function(){return""}}),O=S(P.prototype,"ariaTitle",[x],{configurable:true,enumerable:true,writable:true,initializer:null}),T=S(P.prototype,"upButton",[_],{configurable:true,enumerable:true,writable:true,initializer:null}),B=S(P.prototype,"downButton",[C],{configurable:true,enumerable:true,writable:true,initializer:null}),w=S(P.prototype,"upDescription",[g],{configurable:true,enumerable:true,writable:true,initializer:null}),A=S(P.prototype,"downDescription",[b],{configurable:true,enumerable:true,writable:true,initializer:null}),S(P.prototype,"initialize",[I],Object.getOwnPropertyDescriptor(P.prototype,"initialize"),P.prototype),P))||v);m=W;return m},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/RichTextEditor", ["sap/fe/base/BindingToolkit","sap/fe/base/ClassSupport","sap/fe/core/buildingBlocks/BuildingBlock","sap/fe/core/helpers/BindingHelper","sap/fe/macros/richtexteditor/ButtonGroup","sap/fe/macros/richtexteditor/Plugin","sap/m/FormattedText","sap/ui/richtexteditor/RichTextEditor","sap/fe/base/jsx-runtime/jsx"],function(e,t,i,r,n,o,u,a,s){"use strict";var l,p,c,d,f,b,y,h,g,m,_,v,C,w,G,T,P,x,E;var z={};var B=r.UI;var I=t.property;var O=t.defineUI5Class;var D=t.aggregation;var M=e.compileExpression;function j(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function R(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,k(e,t)}function k(e,t){return k=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},k(e,t)}function q(e,t,i,r,n){var o={};return Object.keys(r).forEach(function(e){o[e]=r[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce(function(i,r){return r(e,t,i)||i},o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer?(Object.defineProperty(e,t,o),null):o}function U(e,t){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let S=(l=O("sap.fe.macros.RichTextEditor"),p=I({type:"string",required:true}),c=I({type:"any",isBindingInfo:true}),d=I({type:"boolean"}),f=D({type:"sap.fe.macros.richtexteditor.ButtonGroup",multiple:true,defaultClass:n}),b=D({type:"sap.fe.macros.richtexteditor.Plugin",multiple:true,defaultClass:o}),y=I({type:"boolean"}),h=I({type:"any",bindable:false}),g=I({type:"boolean"}),l(m=(_=function(e){function t(t,i){var r;t._isInEditMode=M(B.IsEditable);r=e.call(this,t,i)||this;j(r,"id",v,r);j(r,"value",C,r);j(r,"readOnly",w,r);j(r,"buttonGroups",G,r);j(r,"plugins",T,r);j(r,"excludeDefaultPlugins",P,r);j(r,"required",x,r);j(r,"_isInEditMode",E,r);r.getPlugins=()=>{let e;if(r.excludeDefaultPlugins){e=[]}else{e=["emoticons","directionality","image","table","link","powerpaste"].map(e=>({name:e}))}if(r.plugins?.length){for(const t of r.plugins){e.push(t)}}return{plugins:e}};r.getButtonGroups=()=>{if(r.buttonGroups&&r.buttonGroups.length>0){return r.buttonGroups.map(e=>({name:e.name??"",visible:e.visible==="true",priority:e.priority,row:e.row,customToolbarPriority:e.customToolbarPriority,buttons:e.buttons?.split(",")||[]}))}return[]};r.getEditContent=()=>{r._cleanupPreviousRTE();r._editContent=s(a,{class:"sapUiHidden",id:r.createId("_rte"),value:r.value,visible:true,customToolbar:true,editable:true,editorType:"TinyMCE6",showGroupFontStyle:true,showGroupTextAlign:true,showGroupStructure:true,showGroupFont:false,showGroupClipboard:true,showGroupInsert:false,showGroupLink:false,showGroupUndo:false,sanitizeValue:true,wrapping:true,width:"100%",required:r.required,...r.getPlugins(),buttonGroups:r.buttonGroups.length>0?[]:undefined});r._editContent.attachReady(r.addButtonGroups,r);clearTimeout(r._buttonGroupsTimer);r._buttonGroupsTimer=setTimeout(()=>{r.createContentDebounced()},2e3);return r._editContent};return r}z=t;R(t,e);var i=t.prototype;i.onMetadataAvailable=function t(i){e.prototype.onMetadataAvailable.call(this,i)};i.createContentDebounced=function e(){if(this._contentTimer){clearTimeout(this._contentTimer)}this._contentTimer=setTimeout(()=>{this.content=this.createContent()},200)};i.exit=function e(){this._displayContent?.destroy();this._editContent?.destroy()};i.set_isInEditMode=function t(i){e.prototype.setProperty.call(this,"_isInEditMode",i);this.createContentDebounced()};i.setReadOnly=function t(i){e.prototype.setProperty.call(this,"readOnly",i);this.createContentDebounced()};i.addButtonGroups=function e(){clearTimeout(this._buttonGroupsTimer);const t=this.getButtonGroups().reverse();for(const e of t){this._editContent?.addButtonGroup(e)}this._editContent?.detachReady(this.addButtonGroups,this);this._editContent?.removeStyleClass("sapUiHidden")};i._cleanupPreviousRTE=function e(){if(this._editContent){this._editContent.destroy()}window.tinymce?.get(this.createId("_rte")+"-textarea")?.destroy()};i.getDisplayContent=function e(){if(this._displayContent){this._displayContent.destroy()}this._cleanupPreviousRTE();this._displayContent=s(u,{htmlText:this.value});return this._displayContent};i.createContent=function e(){if(this._isInEditMode&&!this.readOnly){return this.getEditContent()}else{return this.getDisplayContent()}};return t}(i),v=q(_.prototype,"id",[p],{configurable:true,enumerable:true,writable:true,initializer:null}),C=q(_.prototype,"value",[c],{configurable:true,enumerable:true,writable:true,initializer:null}),w=q(_.prototype,"readOnly",[d],{configurable:true,enumerable:true,writable:true,initializer:function(){return false}}),G=q(_.prototype,"buttonGroups",[f],{configurable:true,enumerable:true,writable:true,initializer:function(){return[]}}),T=q(_.prototype,"plugins",[b],{configurable:true,enumerable:true,writable:true,initializer:null}),P=q(_.prototype,"excludeDefaultPlugins",[y],{configurable:true,enumerable:true,writable:true,initializer:function(){return false}}),x=q(_.prototype,"required",[h],{configurable:true,enumerable:true,writable:true,initializer:function(){return false}}),E=q(_.prototype,"_isInEditMode",[g],{configurable:true,enumerable:true,writable:true,initializer:function(){return false}}),_))||m);z=S;return z},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/RichTextEditorWithMetadata", ["sap/fe/base/ClassSupport","sap/fe/macros/RichTextEditor","sap/fe/macros/field/FieldTemplating"],function(e,t,r){"use strict";var i,a,n,o,l,u,c;var s={};var f=r.getValueBinding;var p=e.property;var b=e.defineUI5Class;function d(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function h(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,v(e,t)}function v(e,t){return v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},v(e,t)}function y(e,t,r,i,a){var n={};return Object.keys(i).forEach(function(e){n[e]=i[e]}),n.enumerable=!!n.enumerable,n.configurable=!!n.configurable,("value"in n||n.initializer)&&(n.writable=!0),n=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},n),a&&void 0!==n.initializer&&(n.value=n.initializer?n.initializer.call(a):void 0,n.initializer=void 0),void 0===n.initializer?(Object.defineProperty(e,t,n),null):n}function m(e,t){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let g=(i=b("sap.fe.macros.RichTextEditorWithMetadata"),a=p({type:"string",required:true}),n=p({type:"string",required:true}),i(o=(l=function(e){function t(t,r){var i;i=e.call(this,t,r)||this;d(i,"metaPath",u,i);d(i,"contextPath",c,i);return i}s=t;h(t,e);var r=t.prototype;r.onMetadataAvailable=function t(r){const i=this.getDataModelObjectForMetaPath(this.metaPath,this.contextPath);if(i){this.value=f(i,{})}e.prototype.onMetadataAvailable.call(this,r)};return t}(t),u=y(l.prototype,"metaPath",[a],{configurable:true,enumerable:true,writable:true,initializer:null}),c=y(l.prototype,"contextPath",[n],{configurable:true,enumerable:true,writable:true,initializer:null}),l))||o);s=g;return s},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/Share", ["sap/base/Log","sap/fe/base/BindingToolkit","sap/fe/base/ClassSupport","sap/fe/core/CommonUtils","sap/fe/core/controls/CommandExecution","sap/fe/core/helpers/BindingHelper","sap/m/Menu","sap/m/MenuItem","sap/ui/core/CustomData","sap/ui/performance/trace/FESRHelper","sap/fe/core/buildingBlocks/BuildingBlock","sap/fe/core/converters/controls/Common/Action","sap/fe/core/helpers/FPMHelper","sap/fe/core/helpers/ResourceModelHelper","sap/fe/macros/share/ShareOptions","sap/m/OverflowToolbarLayoutData","sap/m/OverflowToolbarMenuButton","sap/m/library","sap/ui/base/BindingInfo","./share/MsTeamsOptions","./share/ShareAPI","sap/fe/base/jsx-runtime/jsx"],function(e,t,n,r,i,a,s,o,l,u,c,p,h,f,m,d,_,b,g,M,O,A){"use strict";var S,T,C,I,E,y,w,v,R,x,P,B,L,V,N,D,k,z,H,F,j,J,U,G,X,$,W,q,K,Q,Y,Z,ee,te,ne,re,ie,ae,se,oe,le,ue,ce;function pe(e){return new Promise((t,n)=>{sap.ui.require([e],n=>{if(!(n&&n.__esModule)){n=n===null||!(typeof n==="object"&&e.endsWith("/library"))?{default:n}:n;Object.defineProperty(n,"__esModule",{value:true})}t(n)},e=>{n(e)})})}var he={};var fe=b.OverflowToolbarPriority;var me=f.getResourceModel;var de=p.PRINT_ICON;var _e=p.EXPORT_TO_SPREADSHEET_ICON;var be=p.EXPORT_TO_PDF_ICON;var ge=p.EXPORT_TO_CSV_ICON;var Me=a.UI;var Oe=n.property;var Ae=n.implementInterface;var Se=n.defineUI5Class;var Te=n.defineReference;var Ce=n.aggregation;var Ie=t.resolveBindingString;var Ee=t.or;var ye=t.not;var we=t.isConstant;var ve=t.constant;var Re=t.compileExpression;var xe=t.and;function Pe(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Be(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Le(e,t)}function Le(e,t){return Le=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Le(e,t)}function Ve(e,t,n,r,i){var a={};return Object.keys(r).forEach(function(e){a[e]=r[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce(function(n,r){return r(e,t,n)||n},a),i&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(i):void 0,a.initializer=void 0),void 0===a.initializer?(Object.defineProperty(e,t,a),null):a}function Ne(e,t){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}const De={COLLABORATION_MSTEAMS_CARD:"COLLABORATION_MSTEAMS_CARD",COLLABORATION_MSTEAMS_TAB:"COLLABORATION_MSTEAMS_TAB",COLLABORATION_MSTEAMS_CHAT:"COLLABORATION_MSTEAMS_CHAT"};const ke={...De,...{SEND_EMAIL:"SEND_EMAIL",SHARE_JAM:"SHARE_JAM",SAVE_AS_TILE:"SAVE_AS_TILE",MS_TEAMS_GROUP:"MS_TEAMS_GROUP",SHARE_COLLABORATION_MANAGER:"SHARE_COLLABORATION_MANAGER"}};let ze=(S=Se("sap.fe.macros.Share"),T=Oe({type:"string"}),C=Ae("sap.m.IOverflowToolbarContent"),I=Ce({type:"sap.fe.macros.share.ShareOptions",defaultClass:m,isDefault:true}),E=Oe({type:"string",defaultValue:fe.High}),y=Ce({type:"sap.fe.macros.share.MsTeamsOptions",defaultClass:M}),w=Te(),v=Te(),R=Te(),x=Te(),P=Te(),B=Te(),L=Te(),V=Te(),N=Te(),D=Te(),k=Te(),z=Te(),H=Te(),F=Te(),j=Te(),S(J=(U=function(t){function n(e,n){var r;let i;if(typeof e!=="string"){n=e;i=n.id}else{i=e}n??={};n.shareAPIId=i;n.id=undefined;r=t.call(this,undefined,n)||this;Pe(r,"shareAPIId",G,r);Pe(r,"__implements__sap_m_IOverflowToolbarContent",X,r);Pe(r,"shareOptions",$,r);Pe(r,"priority",W,r);Pe(r,"msTeamsOptions",q,r);Pe(r,"menuButton",K,r);Pe(r,"cmdExecution",Q,r);Pe(r,"menu",Y,r);Pe(r,"saveAsTileMenuItem",Z,r);Pe(r,"shareAsCollaborationManager",ee,r);Pe(r,"shareViaJAMMenuItem",te,r);Pe(r,"sendEmailMenuItem",ne,r);Pe(r,"shareAsCardMenuItem",re,r);Pe(r,"shareViaChatMenuItem",ie,r);Pe(r,"shareAsTabMenuItem",ae,r);Pe(r,"msTeamsGroupMenuItem",se,r);Pe(r,"printMenuItem",oe,r);Pe(r,"exportToSpreadsheetMenuItem",le,r);Pe(r,"exportToPDFMenuItem",ue,r);Pe(r,"exportToCSVMenuItem",ce,r);return r}he=n;Be(n,t);var a=n.prototype;a.onMetadataAvailable=function e(n){t.prototype.onMetadataAvailable.call(this,n);this.content=this.createContent(n.getAppComponent())};a._initializeMenuItems=async function e(t,n){let r=false;if(n.getEnvironmentCapabilities().getCapabilities().Collaboration){const{default:e}=await pe("sap/suite/ui/commons/collaboration/CollaborationHelper");r=await e.isTeamsModeActive()}if(r){this.menuButton.current?.unbindProperty("visible",true);this.menuButton.current?.setVisible(false);return}const i=t.getController();const a=n.getShellServices();const s=await a.waitForPluginsLoad();if(!s){const e=this.menuButton.current?.getAggregation("_control");e?.attachEventOnce("press",{},()=>this._initializeMenuItems,this)}this._blockInternalConfig=this._getShareBlockConfig(t);await this._addMenuItems(i,a,t);this.setShareOptionsVisibility()};a._addMenuItems=async function e(t,n,r){this._addSendEmailOption(t);await this._addShellBasedMenuItems(t,n);this._addPrintOptions(t,r);this._addExportExcelOptions(t,r);this._addExportCSVOptions(t,r);this._addExportPDFOptions(t,r)};a._callManifestActionsEvents=function t(n,r,i){const a=r.getViewData();const s=a?.share?.[i];const o=s?.press?.substring(0,s?.press?.lastIndexOf(".")).replace(/\./gi,"/");const l=s?.press?.substring(s?.press?.lastIndexOf(".")+1,s?.press?.length);if(o&&l){h.loadModuleAndCallMethod(o,l,r,n)}else{e.error("Failed to call event handler, Module and/or Method is not set properly")}};a._addPrintOptions=function e(t,n){const r=n.getViewData();if(r?.share?.hasOwnProperty("print")===true&&r?.share?.print?.hasOwnProperty("press")===true){this?.menu?.current?.addItem(A(o,{ref:this.printMenuItem,text:this.getTranslatedText("T_SHARE_CONTROL_PRINT"),icon:de,press:()=>{this._callManifestActionsEvents(t,n,"print")}}))}};a._addExportExcelOptions=function e(t,n){const r=n.getViewData();if(r?.share?.hasOwnProperty("exportToSpreadsheet")===true&&r?.share?.print?.hasOwnProperty("press")===true){this?.menu?.current?.addItem(A(o,{ref:this.exportToSpreadsheetMenuItem,text:this.getTranslatedText("T_SHARE_CONTROL_EXPORT_AS_EXCEL"),icon:_e,press:()=>{this._callManifestActionsEvents(t,n,"exportToSpreadsheet")}}))}};a._addExportCSVOptions=function e(t,n){const r=n.getViewData();if(r?.share?.hasOwnProperty("exportToCSV")===true&&r?.share?.print?.hasOwnProperty("press")===true){this?.menu?.current?.addItem(A(o,{ref:this.exportToCSVMenuItem,text:this.getTranslatedText("T_SHARE_CONTROL_EXPORT_AS_CSV"),icon:ge,press:()=>{this._callManifestActionsEvents(t,n,"exportToCSV")}}))}};a._addExportPDFOptions=function e(t,n){const r=n.getViewData();if(r?.share?.hasOwnProperty("exportToPDF")===true&&r?.share?.print?.hasOwnProperty("press")===true){this?.menu?.current?.addItem(A(o,{ref:this.exportToPDFMenuItem,text:this.getTranslatedText("T_SHARE_CONTROL_EXPORT_AS_PDF"),icon:be,press:()=>{this._callManifestActionsEvents(t,n,"exportToPDF")}}))}};a._addSendEmailOption=function e(t){if(this.shareOptions?.showSendEmail??true){this?.menu?.current?.addItem(A(o,{ref:this.sendEmailMenuItem,text:this.getTranslatedText("T_SEMANTIC_CONTROL_SEND_EMAIL"),icon:"sap-icon://email",press:async()=>t.share._triggerEmail()}))}};a._addShellBasedMenuItems=async function e(t,n){const r=n.hasUShell();if(r){this._addShareViaJAMOption(t,n);await this._addMSTeamsOptions(t);await this._addCollaborationManagerOption(t);await this._addSaveAsTileOption(t)}};a._addCollaborationManagerOption=async function t(n){try{const e=n.getAppComponent().getCollaborativeToolsService();const t=await e.getCollaborationManagerOption();if(t&&(this.shareOptions?.showCollaborationManager??false)){const e=A(o,{ref:this.shareAsCollaborationManager,text:t.text,icon:t.icon,press:async e=>this._collaborationManagerButtonPress(t.press,e)});u.setSemanticStepname(e,"press",t.fesrStepName);this?.menu?.current?.addItem(e)}}catch(t){const n=t instanceof Error?t.message:String(t);e.error(`FE : Adding Collaboration Manager Option : ${n}`)}};a._collaborationManagerButtonPress=async function e(t,n){const i=n.getSource();const a=r.getTargetView(i);const s=a.getController();await s.share._adaptShareMetadata();const o=a.getModel("shareInfo");if(o){const e=o.getData();const{collaborationInfo:n}=e;t(n.appTitle,n.url)}};a._addShareViaJAMOption=function e(t,n){const r=!!n.isJamActive?.();if(r){this?.menu?.current?.addItem(A(o,{ref:this.shareViaJAMMenuItem,text:this.getTranslatedText("T_COMMON_SAPFE_SHARE_JAM"),icon:"sap-icon://share-2",press:async()=>t.share._triggerShareToJam()}))}};a._addMSTeamsOptions=async function t(n){try{if(this._blockInternalConfig?.showMsTeamsOptions===false){return}const e=n.getAppComponent().getCollaborativeToolsService();const t=await e.getTeamsCollabOptionsViaShare({isShareAsCardEnabled:this._getIsShareAsCardEnabled()});if(!t){return}for(const e of t){const t=this._getMsTeamsMenuItemSettings(e);const n=t.items;const r=Array.isArray(n)&&n.length?ke.MS_TEAMS_GROUP:e.key;this._addMsTeamsMenuItem(t,r,e.fesrStepName)}}catch(t){const n=t instanceof Error?t.message:String(t);e.error(`FE : Buildingblock : Share : adding MS teams options : ${n}`)}};a._addSaveAsTileOption=async function t(n){try{const{default:e}=await pe("sap/ushell/ui/footerbar/AddBookmarkButton");const t=new e;if(t.getEnabled()){this?.menu?.current?.addItem(A(o,{ref:this.saveAsTileMenuItem,text:t.getText(),icon:t.getIcon(),press:async()=>n.share._saveAsTile(this.saveAsTileMenuItem.current),children:{dependents:[t]}}))}else{t.destroy()}}catch(t){const n=t instanceof Error?t.message:String(t);e.error(`FE : Buildingblock : Share : adding Save as tile option : ${n}`)}};a._getIsShareAsCardEnabled=function t(){const n=this.msTeamsOptions?.enableCard??false;if(typeof n==="boolean"){return n}else if(typeof n==="string"){try{return n==="true"||Boolean(g.parse(n))}catch(t){e.error(t)}}return true};a._getMsTeamsMenuItemSettings=function e(t){const n=this._getMsTeamsSubOptions(t?.subOptions);const r={text:t.text,icon:t.icon,items:n};if(n.length===0){r.press=async e=>this.collaborationMenuItemPress(e);r["customData"]=new l({key:"collaborationData",value:t})}return r};a._addMsTeamsMenuItem=function e(t,n,r){const i=A(o,{ref:this._getMenuItemReference(n),text:t.text,icon:t.icon,customData:t.customData,items:t.items});if(t.press){i.attachPress(t.press);if(r){u.setSemanticStepname(i,"press",r)}}this?.menu?.current?.addItem(i)};a._getMsTeamsSubOptions=function e(t){if(!Array.isArray(t)){return[]}return t.reduce((e,t)=>{const n=A(o,{ref:this._getMenuItemReference(t.key),text:t.text,icon:t.icon,press:async e=>this.collaborationMenuItemPress(e),customData:new l({key:"collaborationData",value:t})});if(t.fesrStepName){u.setSemanticStepname(n,"press",t.fesrStepName)}return[...e,n]},[])};a.collaborationMenuItemPress=async function t(n){const i=n.getSource();const a=r.getTargetView(i);const s=a.getController();await s.share._adaptShareMetadata();const o=a.getModel("shareInfo");if(o){const t=o.getData();const{collaborationInfo:n}=t;const r=i.data("collaborationData");const a=s.getAppComponent().getCollaborativeToolsService();const l=(await a.getCollaborationServices()).oTeamsHelperService;if(r["key"]===De.COLLABORATION_MSTEAMS_CARD){const t=l.isFeatureFlagEnabled();const r=t?await s.share.getCardDefinition():undefined;let i;if(r){const e=s.getAppComponent().getShellServices();const{semanticObject:t,action:n}=e.parseShellHash(document.location.hash);i=`${t}_${n}`}else{const n=!t?"Feature flag disabled in collaboration teams helper":"Card definition was not created";e.info(`FE V4 : Share block : share as Card : ${n}`)}n["cardManifest"]=r;n["cardId"]=i}l.share(r,n)}};a.setShareOptionsVisibility=function e(){const t=Object.keys(ke);const n=t.reduce((e,t)=>{const n=this._getShareOptionVisibilityExpression(t);this._setShareOptionVisibility(t,n);return[...e,n]},[]);const r=Ee(...n);if(this.menuButton.current&&this.cmdExecution.current){this._bindUIVisibility(this.menuButton.current,r);this._bindUIVisibility(this.cmdExecution.current,r)}};a._getMenuItemReference=function e(t){let n;switch(t){case ke.COLLABORATION_MSTEAMS_CARD:n=this.shareAsCardMenuItem;break;case ke.COLLABORATION_MSTEAMS_CHAT:n=this.shareViaChatMenuItem;break;case ke.COLLABORATION_MSTEAMS_TAB:n=this.shareAsTabMenuItem;break;case ke.SEND_EMAIL:n=this.sendEmailMenuItem;break;case ke.SHARE_JAM:n=this.shareViaJAMMenuItem;break;case ke.SAVE_AS_TILE:n=this.saveAsTileMenuItem;break;case ke.MS_TEAMS_GROUP:n=this.msTeamsGroupMenuItem;break;case ke.SHARE_COLLABORATION_MANAGER:n=this.shareAsCollaborationManager;break;default:break}return n};a._getShareOptionVisibilityExpression=function e(t){const n=this._getMenuItemReference(t);if(!n?.current){return ve(false)}let r;switch(t){case ke.COLLABORATION_MSTEAMS_CARD:case ke.COLLABORATION_MSTEAMS_CHAT:case ke.COLLABORATION_MSTEAMS_TAB:r=this._getMSTeamsShareOptionVisibility(t);break;case ke.SHARE_COLLABORATION_MANAGER:r=this._getCollaborationOptionExpression();break;case ke.SEND_EMAIL:{const e=Ie(this.shareOptions?.showSendEmail??true,"boolean");const t=Ie(this._blockInternalConfig.showSendEmail??true,"boolean");if(we(t)&&t.value===false){r=ve(false)}else if(we(t)&&t.value===true){r=this.shareOptions?.showSendEmail??true}else{r=xe(e,t)}break}case ke.SHARE_JAM:case ke.SAVE_AS_TILE:{r=ve(true);break}case ke.MS_TEAMS_GROUP:{const e=this._getShowMsTeamsOptionsExpression();const t=Object.keys(De);const n=t.reduce((e,t)=>{const n=this._getMSTeamsShareOptionVisibility(t);return[...e,n]},[]);r=xe(e,Ee(...n));break}default:r=ve(false)}return r};a._getCollaborationOptionExpression=function e(){const t=this.shareOptions?.showCollaborationManager??false;const n=Ie(t,"boolean");const r=this._blockInternalConfig.showCollaborationManager??true;const i=Ie(r,"boolean");return xe(n,i)};a._getShowMsTeamsOptionsExpression=function e(){const t=this._blockInternalConfig.showMsTeamsOptions??true;return Ie(t,"boolean")};a._getShareAsCardVisibility=function e(){let t;const n=this._getMenuItemReference(ke.COLLABORATION_MSTEAMS_CARD);if(n?.current){const e=this._getShowMsTeamsOptionsExpression();const n=this.msTeamsOptions?.enableCard??true;const r=Ie(n,"boolean");const i=this._blockInternalConfig.enableCard??true;const a=Ie(i,"boolean");const s=xe(r,a);t=xe(ye(Me.IsEditable),e,s)}else{t=ve(false)}return t};a._getMSTeamsShareOptionVisibility=function e(t){if(t===ke.COLLABORATION_MSTEAMS_CARD){return this._getShareAsCardVisibility()}const n=this._getMenuItemReference(t);return n?.current?this._getShowMsTeamsOptionsExpression():ve(false)};a._setShareOptionVisibility=function e(t,n){const r=this._getMenuItemReference(t);if(r?.current){this._bindUIVisibility(r.current,n)}};a._bindUIVisibility=function t(n,r){const i=Re(r);if(i&&i.startsWith("{")&&i?.endsWith("}")){try{const e=g.parse(i);n.bindProperty("visible",e)}catch(t){e.error(t)}}else if(i==="false"){n.unbindProperty("visible",true);n.setVisible(false)}};a._getShareBlockConfig=function e(t){const n=t.getViewData();const r=n?.share;const i=t.getController();const a=i.getAppComponent().getManifestEntry("sap.fe")?.app?.share;const s=this._getOptionBlockConfig(a?.showSendEmail,r?.showSendEmail);const o=this._getOptionBlockConfig(a?.showCollaborationManager,r?.showCollaborationManager);const l=this._getOptionBlockConfig(a?.teams?.showMsTeamsOptions,r?.teams?.showMsTeamsOptions);const u=this._getOptionBlockConfig(a?.teams?.asCard,r?.teams?.asCard);return{showSendEmail:s,showMsTeamsOptions:l,enableCard:u,showCollaborationManager:o}};a._getOptionBlockConfig=function e(t,n){const r=typeof t==="string"?Ie(t):ve(t??true);const i=typeof n==="string"?Ie(n):ve(n??true);return Re(xe(r,i))};a.createContent=function t(n){const r=A(O,{id:this.shareAPIId,children:A(_,{text:"{sap.fe.i18n>M_COMMON_SAPFE_ACTION_SHARE}",ref:this.menuButton,icon:"sap-icon://action",tooltip:"{sap.fe.i18n>M_COMMON_SAPFE_ACTION_SHARE} (Ctrl+Shift+S)",children:A(s,{ref:this.menu})})});this.getPageController().getView().addDependent(A(i,{ref:this.cmdExecution,command:"Share",execute:()=>{this.menuButton.current?.getMenu().openBy(this.menuButton.current,true)}}));this.isInitialized=this._initializeMenuItems(this.getPageController().getView(),n).catch(t=>{e.error(t)});this.setLayoutData(new d({priority:this.priority}));return r};a.getOverflowToolbarConfig=function e(){return{canOverflow:true,onBeforeEnterOverflow:function(e){(e?.getContent()?.getContent()).getText=function(){const t=me(e);return t.getText("M_COMMON_SAPFE_ACTION_SHARE")}},onAfterExitOverflow:function(e){(e?.getContent()?.getContent()).getText=function(){return""}},priority:this.priority}};return n}(c),G=Ve(U.prototype,"shareAPIId",[T],{configurable:true,enumerable:true,writable:true,initializer:null}),X=Ve(U.prototype,"__implements__sap_m_IOverflowToolbarContent",[C],{configurable:true,enumerable:true,writable:true,initializer:function(){return true}}),$=Ve(U.prototype,"shareOptions",[I],{configurable:true,enumerable:true,writable:true,initializer:null}),W=Ve(U.prototype,"priority",[E],{configurable:true,enumerable:true,writable:true,initializer:null}),q=Ve(U.prototype,"msTeamsOptions",[y],{configurable:true,enumerable:true,writable:true,initializer:null}),K=Ve(U.prototype,"menuButton",[w],{configurable:true,enumerable:true,writable:true,initializer:null}),Q=Ve(U.prototype,"cmdExecution",[v],{configurable:true,enumerable:true,writable:true,initializer:null}),Y=Ve(U.prototype,"menu",[R],{configurable:true,enumerable:true,writable:true,initializer:null}),Z=Ve(U.prototype,"saveAsTileMenuItem",[x],{configurable:true,enumerable:true,writable:true,initializer:null}),ee=Ve(U.prototype,"shareAsCollaborationManager",[P],{configurable:true,enumerable:true,writable:true,initializer:null}),te=Ve(U.prototype,"shareViaJAMMenuItem",[B],{configurable:true,enumerable:true,writable:true,initializer:null}),ne=Ve(U.prototype,"sendEmailMenuItem",[L],{configurable:true,enumerable:true,writable:true,initializer:null}),re=Ve(U.prototype,"shareAsCardMenuItem",[V],{configurable:true,enumerable:true,writable:true,initializer:null}),ie=Ve(U.prototype,"shareViaChatMenuItem",[N],{configurable:true,enumerable:true,writable:true,initializer:null}),ae=Ve(U.prototype,"shareAsTabMenuItem",[D],{configurable:true,enumerable:true,writable:true,initializer:null}),se=Ve(U.prototype,"msTeamsGroupMenuItem",[k],{configurable:true,enumerable:true,writable:true,initializer:null}),oe=Ve(U.prototype,"printMenuItem",[z],{configurable:true,enumerable:true,writable:true,initializer:null}),le=Ve(U.prototype,"exportToSpreadsheetMenuItem",[H],{configurable:true,enumerable:true,writable:true,initializer:null}),ue=Ve(U.prototype,"exportToPDFMenuItem",[F],{configurable:true,enumerable:true,writable:true,initializer:null}),ce=Ve(U.prototype,"exportToCSVMenuItem",[j],{configurable:true,enumerable:true,writable:true,initializer:null}),U))||J);he=ze;return he},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/Status", ["sap/fe/base/ClassSupport","sap/fe/core/buildingBlocks/BuildingBlock","sap/fe/core/helpers/StableIdHelper","sap/fe/core/helpers/TypeGuards","sap/fe/core/templating/CriticalityFormatters","sap/fe/core/templating/DataModelPathHelper","sap/fe/macros/field/FieldTemplating","sap/m/ObjectStatus","sap/fe/base/jsx-runtime/jsx"],function(e,t,i,a,r,n,o,s,l){"use strict";var u,c,d,p,h,f,b,g,v,m,P,y,M,O,j,D,x,I,_;var C={};var z=o.getVisibleExpression;var w=o.getTextBinding;var F=n.enhanceDataModelPath;var E=r.buildExpressionForCriticalityIcon;var S=r.buildExpressionForCriticalityColor;var T=a.isProperty;var A=i.generate;var B=e.property;var V=e.implementInterface;var k=e.event;var L=e.defineUI5Class;function U(e,t,i,a){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(a):void 0})}function H(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,$(e,t)}function $(e,t){return $=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},$(e,t)}function q(e,t,i,a,r){var n={};return Object.keys(a).forEach(function(e){n[e]=a[e]}),n.enumerable=!!n.enumerable,n.configurable=!!n.configurable,("value"in n||n.initializer)&&(n.writable=!0),n=i.slice().reverse().reduce(function(i,a){return a(e,t,i)||i},n),r&&void 0!==n.initializer&&(n.value=n.initializer?n.initializer.call(r):void 0,n.initializer=void 0),void 0===n.initializer?(Object.defineProperty(e,t,n),null):n}function G(e,t){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let J=(u=L("sap.fe.macros.Status"),c=V("sap.ui.core.IFormContent"),d=B({type:"string",required:true}),p=B({type:"string"}),h=B({type:"string",allowedValues:["Inline","Overlay"]}),f=B({type:"boolean"}),b=B({type:"boolean"}),g=B({type:"boolean"}),v=k(),u(m=(P=function(e){function t(t,i){var a;a=e.call(this,t,i)||this;U(a,"__implements__sap_ui_core_IFormContent",y,a);U(a,"metaPath",M,a);U(a,"contextPath",O,a);U(a,"reactiveAreaMode",j,a);U(a,"largeDesign",D,a);U(a,"inverted",x,a);U(a,"hideIcon",I,a);U(a,"press",_,a);return a}C=t;H(t,e);var i=t.prototype;i.onMetadataAvailable=function e(){this.getTemplatingObjects();if(!this.dataModelPath&&!this.valueDataModelPath){return}if(!this.content){this.content=this.createContent()}};i.getTemplatingObjects=function e(){const t=this.getDataModelObjectForMetaPath(this.metaPath,this.contextPath);const i=t?.targetObject;if(!t){return}if(T(i)){if(i?.annotations?.UI?.DataFieldDefault!==undefined){this.dataModelPath=this.getDataModelObjectForMetaPath(`${this.metaPath}@${"com.sap.vocabularies.UI.v1.DataFieldDefault"}`,this.contextPath)}this.valueDataModelPath=t}else{this.dataModelPath=t;if(this.dataModelPath?.targetObject?.Value?.path){this.valueDataModelPath=F(t,this.dataModelPath.targetObject.Value.path)}}};i.getCriticalityExpression=function e(t){return this.dataModelPath===undefined?undefined:S(this.dataModelPath,this.dataModelPath,t)};i.getCriticalityIconExpression=function e(){return this.dataModelPath===undefined?undefined:E(this.dataModelPath,this.dataModelPath)};i.getObjectStatusTextBinding=function e(){const t=this.valueDataModelPath??this.dataModelPath;return w(t,{})};i.createContent=function e(){const t=this.getAppComponent()?.getAdditionalConfiguration()?.["sap.fe.macros"]?.Status;const i=this.dataModelPath??this.valueDataModelPath;const a=z(i);const r=this.getCriticalityExpression(t?.colorMap);const n=this.getCriticalityIconExpression();const o=this.getObjectStatusTextBinding();const u=this.hasListeners("press");if(this.isPropertyInitial("inverted")){this.inverted=t?.invertedDefaultValue===true}if(this.largeDesign){this.hideIcon=true}return l(s,{id:A([this.getId(),"ObjectStatus"]),inverted:this.inverted,class:this.largeDesign?"sapMObjectStatusLarge sapMObjectStatusLongText":undefined,state:r,icon:this.hideIcon?undefined:n,text:o,visible:a,active:u,reactiveAreaMode:this.reactiveAreaMode,press:e=>{this.fireEvent("press",e)}})};return t}(t),y=q(P.prototype,"__implements__sap_ui_core_IFormContent",[c],{configurable:true,enumerable:true,writable:true,initializer:function(){return true}}),M=q(P.prototype,"metaPath",[d],{configurable:true,enumerable:true,writable:true,initializer:null}),O=q(P.prototype,"contextPath",[p],{configurable:true,enumerable:true,writable:true,initializer:null}),j=q(P.prototype,"reactiveAreaMode",[h],{configurable:true,enumerable:true,writable:true,initializer:null}),D=q(P.prototype,"largeDesign",[f],{configurable:true,enumerable:true,writable:true,initializer:function(){return false}}),x=q(P.prototype,"inverted",[b],{configurable:true,enumerable:true,writable:true,initializer:function(){return false}}),I=q(P.prototype,"hideIcon",[g],{configurable:true,enumerable:true,writable:true,initializer:function(){return false}}),_=q(P.prototype,"press",[v],{configurable:true,enumerable:true,writable:true,initializer:null}),P))||m);C=J;return C},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/TSXUtils", ["sap/ui/core/CustomData","sap/fe/base/jsx-runtime/jsx"],function(e,n){"use strict";var t={};function u(t,u){return u!==undefined?n(e,{value:u},t):undefined}t.createCustomData=u;function a(e){const n=e.map(e=>u(e.key,e.value)).filter(e=>e!==undefined);return n.length>0?n:undefined}t.createCustomDatas=a;return t},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/Tab", ["sap/base/Log","sap/fe/base/ClassSupport","sap/fe/core/helpers/StableIdHelper","sap/m/IconTabFilter","sap/m/MessageStrip","sap/fe/base/jsx-runtime/jsx"],function(e,t,n,i,r,a){"use strict";var o,s,u,l,c,p,f,b,d,h,g,m,v,C,y,R;var w={};var z=n.generate;var E=t.xmlEventHandler;var I=t.property;var T=t.event;var B=t.defineUI5Class;function S(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function D(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,O(e,t)}function O(e,t){return O=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},O(e,t)}function j(e,t,n,i,r){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce(function(n,i){return i(e,t,n)||n},a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer?(Object.defineProperty(e,t,a),null):a}function q(e,t){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let P=(o=B("sap.fe.macros.Tab"),s=I({type:"string"}),u=I({type:"string"}),l=T(),c=T(),p=T(),f=T(),b=E(),o(d=(h=function(t){function n(e,n){var i;if(typeof e==="string"){n??={};n.id=e}i=t.call(this,e,n)||this;S(i,"id",g,i);S(i,"count",m,i);S(i,"internalDataRequested",v,i);S(i,"customRefreshCount",C,i);S(i,"customResumeBinding",y,i);S(i,"customSuspendBinding",R,i);i.isSuspended=false;i.setKey(z([i.id]));i.insertContent(a(r,{text:"{tabsInternal>/"+i.id+"/notApplicable/title}",type:"Information",showIcon:"true",showCloseButton:"true",class:"sapUiTinyMargin",visible:"{= (${tabsInternal>/"+i.id+"/notApplicable/fields} || []).length>0 }"}),0);i.getTabContent()[0]?.attachEvent("internalDataRequested",i.onInternalDataRequested.bind(i));return i}w=n;D(n,t);var i=n.prototype;i.onInternalDataRequested=function e(t){this.fireEvent("internalDataRequested",t.getParameters())};i.getTabContent=function e(){return this.getContent().filter(e=>e.isA(["sap.fe.macros.table.TableAPI","sap.fe.macros.Chart"]))};i.resumeBinding=function e(t){if(this.isSuspended){this.getTabContent()?.forEach(e=>e.resumeBinding?.(t));this.fireEvent("customResumeBinding");this.isSuspended=false}};i.suspendBinding=function e(){if(!this.isSuspended){this.getTabContent()?.forEach(e=>e.suspendBinding?.());this.fireEvent("customSuspendBinding");this.isSuspended=true}};i.invalidateContent=function e(){this.getTabContent()?.forEach(e=>e.invalidateContent?.())};i.hasCounts=function e(){if(this.hasListeners("customRefreshCount")||this.getTabContent()?.[0]?.getCounts){return true}return false};i.refreshCount=function t(){if(this.hasCounts()){this.setCount("...");this.getTabContent()?.[0]?.getCounts?.().then(e=>this.setCount(e||"0")).catch(function(t){e.error(`Error while requesting Counts for Control: ${t}`)});this.fireEvent("customRefreshCount")}};i.refreshNotApplicableFields=function e(t){return this.getTabContent()?.[0]?.refreshNotApplicableFields?.(t)};return n}(i),g=j(h.prototype,"id",[s],{configurable:true,enumerable:true,writable:true,initializer:null}),m=j(h.prototype,"count",[u],{configurable:true,enumerable:true,writable:true,initializer:null}),v=j(h.prototype,"internalDataRequested",[l],{configurable:true,enumerable:true,writable:true,initializer:null}),C=j(h.prototype,"customRefreshCount",[c],{configurable:true,enumerable:true,writable:true,initializer:null}),y=j(h.prototype,"customResumeBinding",[p],{configurable:true,enumerable:true,writable:true,initializer:null}),R=j(h.prototype,"customSuspendBinding",[f],{configurable:true,enumerable:true,writable:true,initializer:null}),j(h.prototype,"onInternalDataRequested",[b],Object.getOwnPropertyDescriptor(h.prototype,"onInternalDataRequested"),h.prototype),h))||d);w=P;return w},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/ValueHelp", ["sap/fe/base/ClassSupport","sap/fe/core/buildingBlocks/BuildingBlock","sap/fe/core/helpers/ModelHelper","sap/fe/core/helpers/TypeGuards","sap/fe/macros/field/FieldHelper","sap/fe/macros/internal/valuehelp/ValueHelpTemplating","sap/ui/core/Element"],function(e,t,i,r,n,a,l){"use strict";var o,u,s,c,f,p,d,b,g,h,y,m,P,v,x,V,w,z,M,H,I,F,C;var O={};var _=a.getValueHelpTemplate;var B=r.isEntitySet;var E=e.property;var q=e.defineUI5Class;var D=e.association;function S(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function j(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,k(e,t)}function k(e,t){return k=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},k(e,t)}function G(e,t,i,r,n){var a={};return Object.keys(r).forEach(function(e){a[e]=r[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce(function(i,r){return r(e,t,i)||i},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer?(Object.defineProperty(e,t,a),null):a}function R(e,t){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let A=(o=q("sap.fe.macros.ValueHelp"),u=D({type:"string"}),s=E({type:"string"}),c=E({type:"string"}),f=E({type:"string"}),p=E({type:"boolean"}),d=E({type:"boolean"}),b=E({type:"boolean"}),g=E({type:"string"}),h=E({type:"boolean"}),y=D({type:"string"}),o(m=(P=function(e){function t(t,i){var r;if(t._flexId){t.id=t._flexId+"::Block"}r=e.call(this,t,i)||this;S(r,"idPrefix",v,r);S(r,"metaPath",x,r);S(r,"contextPath",V,r);S(r,"conditionModel",w,r);S(r,"filterFieldValueHelp",z,r);S(r,"useSemanticDateRange",M,r);S(r,"useMultiValueField",H,r);S(r,"navigationPrefix",I,r);S(r,"requiresValidation",F,r);S(r,"_flexId",C,r);r.requestGroupId="$auto.Workers";r.collaborationEnabled=false;return r}O=t;j(t,e);t.getValueHelpForMetaPath=function e(i,r,n,a){let o=arguments.length>4&&arguments[4]!==undefined?arguments[4]:false;const u=i.getView()?.getDependents();const s=r.startsWith("/")?r:n+"/"+r;const c=u?.find(e=>{if(e.isA("sap.fe.macros.ValueHelp")&&!o){const t=e.getMetaPath();const i=e.getContextPath();const r=t.startsWith("/")?t:i+"/"+t;return r===s}return false});if(!c){const e=new t({metaPath:r,contextPath:n,metaModel:a?.getId(),idPrefix:i.getView()?.createId("FieldValueHelp"),requiresValidation:o});i.getView().addDependent(e);if(!e.getContent()&&e.targetId){const t=l.getElementById(e.targetId);e.destroy();return t?.getParent()}return e}else{return c}};var r=t.prototype;r.onMetadataAvailable=function e(){if(!this.content){this._getOwner()?.runAsOwner(()=>{this.content=this.createContent()})}};r.createContent=function e(){const t=this.getMetaPathObject(this.metaPath,this.contextPath);const r=this._getOwner()?.getMetaModel(this.metaModel);if(t&&r){const e=t.getClosestEntitySet();if(B(e)){this.collaborationEnabled=i.isCollaborationDraftSupported(r)}let a=r.createBindingContext(t.getPath());if(a){if(this.filterFieldValueHelp){a=r.createBindingContext(n.valueHelpPropertyForFilterField(a))}else{a=r.createBindingContext(n.valueHelpProperty(a))}const e=this.idPrefix??"ValueHelp";const i=_(a,{metaPath:r.createBindingContext(t.getPath()),contextPath:r.createBindingContext(t.getContextPath()),filterFieldValueHelp:this.filterFieldValueHelp,useSemanticDateRange:this.useSemanticDateRange,useMultiValueField:this.useMultiValueField,navigationPrefix:this.navigationPrefix,requiresValidation:this.requiresValidation,_flexId:this._flexId,idPrefix:e,conditionModel:this.conditionModel,requestGroupId:this.requestGroupId,collaborationEnabled:this.collaborationEnabled});if(typeof i==="string"){this.targetId=i;return undefined}else{return i}}}};return t}(t),v=G(P.prototype,"idPrefix",[u],{configurable:true,enumerable:true,writable:true,initializer:null}),x=G(P.prototype,"metaPath",[s],{configurable:true,enumerable:true,writable:true,initializer:null}),V=G(P.prototype,"contextPath",[c],{configurable:true,enumerable:true,writable:true,initializer:null}),w=G(P.prototype,"conditionModel",[f],{configurable:true,enumerable:true,writable:true,initializer:function(){return""}}),z=G(P.prototype,"filterFieldValueHelp",[p],{configurable:true,enumerable:true,writable:true,initializer:function(){return false}}),M=G(P.prototype,"useSemanticDateRange",[d],{configurable:true,enumerable:true,writable:true,initializer:function(){return true}}),H=G(P.prototype,"useMultiValueField",[b],{configurable:true,enumerable:true,writable:true,initializer:function(){return false}}),I=G(P.prototype,"navigationPrefix",[g],{configurable:true,enumerable:true,writable:true,initializer:null}),F=G(P.prototype,"requiresValidation",[h],{configurable:true,enumerable:true,writable:true,initializer:function(){return false}}),C=G(P.prototype,"_flexId",[y],{configurable:true,enumerable:true,writable:true,initializer:null}),P))||m);O=A;return O},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/VariantManagement", ["sap/base/Log","sap/fe/base/ClassSupport","sap/fe/core/buildingBlocks/BuildingBlock","sap/fe/core/helpers/StableIdHelper","sap/ui/fl/variants/VariantManagement"],function(e,t,r,i,a){"use strict";var n,o,l,u,s,c,f,p,b,d,h;var v={};var g=i.generate;var y=t.property;var m=t.defineUI5Class;var A=t.association;function w(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function z(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,B(e,t)}function B(e,t){return B=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},B(e,t)}function O(e,t,r,i,a){var n={};return Object.keys(i).forEach(function(e){n[e]=i[e]}),n.enumerable=!!n.enumerable,n.configurable=!!n.configurable,("value"in n||n.initializer)&&(n.writable=!0),n=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},n),a&&void 0!==n.initializer&&(n.value=n.initializer?n.initializer.call(a):void 0,n.initializer=void 0),void 0===n.initializer?(Object.defineProperty(e,t,n),null):n}function V(e,t){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let j=(n=m("sap.fe.macros.VariantManagement"),o=y({type:"any",required:true}),l=A({type:"sap.ui.core.Control",multiple:true}),u=y({type:"boolean",defaultValue:true}),s=y({type:"string"}),n(c=(f=function(t){function i(e,r){var i;i=t.call(this,e,r)||this;w(i,"id",p,i);w(i,"for",b,i);w(i,"showSetAsDefault",d,i);w(i,"headerLevel",h,i);return i}v.VariantManagement=i;z(i,t);var n=i.prototype;n.onMetadataAvailable=function e(){this.content=this.createContent();const t=this.getAssociation("for",null)||[];this.connectToFilterbar(Array.isArray(t)?t:[t])};n.createContent=function e(){const t=new a({id:g([this.id,"VM"]),for:this.for,showSetAsDefault:this.showSetAsDefault,headerLevel:this.headerLevel});this.setAggregation("content",t);return t};n.connectToFilterbar=function t(i){const a=Array.isArray(i)?i:[i];a.forEach(t=>{try{r.observeBuildingBlock(t,{onAvailable:e=>{if(e&&e.isA("sap.fe.macros.filterBar.FilterBarAPI")){const t=this.getContent();if(t){e.setVariantBackReference(t)}}}})}catch(t){e.error(`Error setting variant in Filter Bar: ${t}`)}})};return i}(r),p=O(f.prototype,"id",[o],{configurable:true,enumerable:true,writable:true,initializer:null}),b=O(f.prototype,"for",[l],{configurable:true,enumerable:true,writable:true,initializer:function(){return[]}}),d=O(f.prototype,"showSetAsDefault",[u],{configurable:true,enumerable:true,writable:true,initializer:null}),h=O(f.prototype,"headerLevel",[s],{configurable:true,enumerable:true,writable:true,initializer:null}),f))||c);v.VariantManagement=j;return j},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/ai/EasyFillButton", ["sap/fe/base/ClassSupport","sap/fe/core/buildingBlocks/BuildingBlock","sap/fe/core/controls/CommandExecution","sap/fe/macros/ai/EasyFillDialog","sap/m/Button","sap/m/OverflowToolbarLayoutData","sap/m/library","sap/ui/performance/trace/FESRHelper","sap/fe/base/jsx-runtime/jsx"],function(e,t,i,r,n,a,o,l,s){"use strict";var c,u,p,d,f,b,g;var m={};var y=o.OverflowToolbarPriority;var v=o.ButtonType;var E=e.property;var h=e.implementInterface;var w=e.defineUI5Class;function C(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function _(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,O(e,t)}function O(e,t){return O=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},O(e,t)}function P(e,t,i,r,n){var a={};return Object.keys(r).forEach(function(e){a[e]=r[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce(function(i,r){return r(e,t,i)||i},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer?(Object.defineProperty(e,t,a),null):a}function T(e,t){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let j=(c=w("sap.fe.macros.ai.EasyFillButton"),u=E({type:"string"}),p=h("sap.m.IOverflowToolbarContent"),c(d=(f=function(e){function t(){var t;for(var i=arguments.length,r=new Array(i),n=0;n<i;n++){r[n]=arguments[n]}t=e.call(this,...r)||this;C(t,"text",b,t);C(t,"__implements__sap_m_IOverflowToolbarContent",g,t);return t}m=t;_(t,e);var o=t.prototype;o.onMetadataAvailable=function t(i){e.prototype.onMetadataAvailable.call(this,i);this.content=this.createContent()};o._easyEditDocument=async function e(){if(this.getAppComponent()?.getEnvironmentCapabilities().getCapabilities().EasyEdit){const e=this.getPageController();const t=e.getView();if(!this.getPageController()?.getModel("ui").getProperty("/isEditable")){await e.editFlow.editDocument.apply(e.editFlow,[t?.getBindingContext()])}const i=this.getPageController().getOwnerComponent()?.runAsOwner(()=>new r({getEditableFields:this._getEditableFields.bind(this)}));i.open();t?.addDependent(i)}};o._getEditableFields=async function e(){const t=this.getPageController().getView()?.findAggregatedObjects(true,e=>e.isA("sap.fe.macros.Field"));const i={};t.forEach(e=>{const t=e.getMainPropertyRelativePath();if(t){if(i[t]===undefined){i[t]={isEditable:e.getEditable()}}else{i[t].isEditable=i[t].isEditable||e.getEditable()}}});return Promise.resolve(i)};o.createContent=function e(){if(this.getAppComponent()?.getEnvironmentCapabilities().getCapabilities().EasyEdit){this.getPageController().getView()?.addDependent(s(i,{execute:this._easyEditDocument.bind(this),command:"EasyEdit"}));const e=s(n,{id:this.createId("button"),"dt:designtime":"not-adaptable",text:this.getTranslatedText("C_EASYEDIT_BUTTON"),icon:"sap-icon://ai",type:v.Ghost,"jsx:command":"cmd:EasyEdit|press"});this.setLayoutData(s(a,{priority:y.High}));l.setSemanticStepname(e,"press","fe4:ef:easyfill");return e}this.setVisible(false)};o.getOverflowToolbarConfig=function e(){return{canOverflow:true}};return t}(t),b=P(f.prototype,"text",[u],{configurable:true,enumerable:true,writable:true,initializer:null}),g=P(f.prototype,"__implements__sap_m_IOverflowToolbarContent",[p],{configurable:true,enumerable:true,writable:true,initializer:function(){return true}}),f))||d);m=j;return m},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/ai/EasyFillDialog", ["sap/base/Log","sap/fe/base/BindingToolkit","sap/fe/base/ClassSupport","sap/fe/controls/easyFilter/AINotice","sap/fe/core/buildingBlocks/BuildingBlock","sap/fe/core/controllerextensions/collaboration/CollaborationCommon","sap/fe/core/converters/MetaModelConverter","sap/fe/core/templating/PropertyHelper","sap/fe/macros/Field","sap/fe/macros/ai/EasyFilterDataFetcher","sap/fe/macros/internal/valuehelp/ValueListHelper","sap/m/Button","sap/m/Dialog","sap/m/FlexBox","sap/m/FlexItemData","sap/m/FormattedText","sap/m/HBox","sap/m/IllustratedMessage","sap/m/IllustratedMessageSize","sap/m/IllustratedMessageType","sap/m/MessageStrip","sap/m/MessageToast","sap/m/OverflowToolbar","sap/m/ScrollContainer","sap/m/Text","sap/m/TextArea","sap/m/Title","sap/m/ToggleButton","sap/m/ToolbarSpacer","sap/m/VBox","sap/m/library","sap/ui/base/BindingInfo","sap/ui/core/InvisibleText","sap/ui/core/Title","sap/ui/core/message/MessageType","sap/ui/layout/form/ColumnLayout","sap/ui/layout/form/Form","sap/ui/layout/form/FormContainer","sap/ui/layout/form/FormElement","sap/ui/model/FilterOperator","sap/ui/model/odata/v4/AnnotationHelper","sap/ui/performance/trace/FESRHelper","sap/fe/base/jsx-runtime/jsx","sap/fe/base/jsx-runtime/jsxs"],function(e,t,a,s,i,n,r,o,l,c,d,u,h,p,g,f,T,E,m,b,y,C,_,I,S,x,A,v,D,V,P,M,L,O,w,F,B,R,N,U,Y,G,j,z){"use strict";var $,H,k,W,q,X,Q,K,J;function Z(e){return new Promise((t,a)=>{sap.ui.require([e],a=>{if(!(a&&a.__esModule)){a=a===null||!(typeof a==="object"&&e.endsWith("/library"))?{default:a}:a;Object.defineProperty(a,"__esModule",{value:true})}t(a)},e=>{a(e)})})}var ee={};var te=P.FlexDirection;var ae=P.ButtonType;var se=c.resolveTokenValue;var ie=o.isImmutable;var ne=o.isComputed;var re=o.getLabel;var oe=n.CollaborationUtils;var le=s.AILinkNotice;var ce=a.property;var de=a.defineUI5Class;var ue=a.defineReference;var he=a.createReference;var pe=t.not;var ge=t.isEmpty;var fe=t.equal;var Te=t.and;function Ee(e,t,a,s){a&&Object.defineProperty(e,t,{enumerable:a.enumerable,configurable:a.configurable,writable:a.writable,value:a.initializer?a.initializer.call(s):void 0})}function me(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,be(e,t)}function be(e,t){return be=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},be(e,t)}function ye(e,t,a,s,i){var n={};return Object.keys(s).forEach(function(e){n[e]=s[e]}),n.enumerable=!!n.enumerable,n.configurable=!!n.configurable,("value"in n||n.initializer)&&(n.writable=!0),n=a.slice().reverse().reduce(function(a,s){return s(e,t,a)||a},n),i&&void 0!==n.initializer&&(n.value=n.initializer?n.initializer.call(i):void 0,n.initializer=void 0),void 0===n.initializer?(Object.defineProperty(e,t,n),null):n}function Ce(e,t){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}const _e=2e3;let Ie=($=de("sap.fe.macros.ai.EasyFillDialog"),H=ue(),k=ue(),W=ce({type:"Function"}),$(q=(X=function(t){function a(e,a){var s;s=t.call(this,e,a)||this;Ee(s,"$reviewArea",Q,s);Ee(s,"$scrollContainer",K,s);Ee(s,"getEditableFields",J,s);return s}ee=a;me(a,t);var s=a.prototype;s.onMetadataAvailable=function e(a){t.prototype.onMetadataAvailable.call(this,a);this.state.newValues={};this.state.hasValues=false;this.state.hasError=false;this.state.stateType="Initial";this.content=this.createContent()};s.onConfirm=async function t(a){const s=this.getPageController().getView()?.getBindingContext();const i=[];const n=this._bindingContext?.getObject()??this.state.newValues;for(const e in n){if(e!=="__bindingInfo"&&!e.startsWith("@$")){if(typeof n[e]!=="object"){s?.setProperty(e,n[e]);i.push(this.applyUpdatesForChange(this.getPageController().getView(),s.getPath(e)))}}}try{await Promise.all(i);s.refresh()}catch(t){e.error("Failed to update data after change:"+t)}this.content?.close()};s.applyUpdatesForChange=async function t(a,s){const i=a.getModel().getMetaModel();const n=i.getMetaContext(s);const o=r.getInvolvedDataModelObjects(n);const l=a.getBindingContext();try{const e=[];const t=oe.getAppComponent(a).getSideEffectsService();const n=i.getMetaPath(l.getPath());const r=i.getMetaPath(s).replace(n,"").slice(1);e.push(t.requestSideEffects([r],l,"$auto"));const c=t.computeFieldGroupIds(o.targetEntityType.fullyQualifiedName,o.targetObject.fullyQualifiedName);if(c.length){const t=a.getController();const s=t._sideEffects.getSideEffectsMapForFieldGroups(c,l);Object.keys(s).forEach(a=>{const i=s[a];e.push(t._sideEffects.requestSideEffects(i.sideEffects,i.context,"$auto",undefined,true))})}await Promise.all(e)}catch(t){e.error("Failed to update data after change:"+t);throw t}};s.onCancel=function e(){this.content?.close()};s.open=function e(){this.content?.open()};s._getFieldMapping=function e(t){const a={};if(t){const e=t.getMetaPath().getTarget();let s;switch(e._type){case"EntitySet":case"Singleton":s=e.entityType;break;case"NavigationProperty":s=e.targetType;break}if(s!==undefined){for(const e of s.entityProperties){if(!ie(e)&&!ne(e)&&e.annotations.UI?.Hidden?.valueOf()!==true&&!e.targetType){a[e.name]={description:re(e)??e.name,dataType:e.type}}}}}return a};s.generateListBinding=function e(t,a){const s=a.bindList(t,undefined,[],[],{$$updateGroupId:"submitLater"});s.refreshInternal=()=>{};return s};s.onThumbPress=function e(t,a){t.setEnabled(false);a.setEnabled(false);C.show(this.getTranslatedText("C_EASYEDIT_FEEDBACK_SENT"))};s.formatRemainingCharacters=function e(t){return this.getTranslatedText("C_EASYEDIT_REMAINING_CHARACTERS",[_e-(t?.length??0)])};s.onClearAll=function e(){this.state.newValues={};this.state.hasValues=false;this.state.hasIncorrectValues=false;this.state.enteredText="";this.state.hasError=false;this.state.stateType="Initial";this.state.currentlyEnteredText="";this.state.incorrectValues={}};s.onValidateFieldGroups=function e(t){const a=this.$reviewArea.current?.getControlsByFieldGroupId("EasyFillField")??[];this.state.hasError=a.some(e=>!!e.data("messageId")||!!e.getValueState&&e.getValueState?.()==="Error")};s.onFieldChange=function e(t){t.getSource().removeMessage(t.getSource().data("messageId"));t.getSource().data("messageId",undefined)};s.onEasyEditPressed=async function e(){const t=this.getOwnerPageDefinition();const a=this._getFieldMapping(t);const s=await Z("ux/eng/fioriai/reuse/easyfill/EasyFill");const i=this.getModel();const n=this.generateListBinding(i.getMetaModel().getMetaPath(this.getPageController().getView()?.getBindingContext()?.getPath()),this.getModel());this._bindingContext=n.create({},true);this.state.isBusy=true;try{const e=await s.extractFieldValuesFromText(this.state.enteredText,a);this.state.isBusy=false;if(e.success){const t=e.data;if(Object.keys(t).length===0){this.state.hasValues=false;this.state.hasIncorrectValues=false;this.state.stateType="NoEntries";return}this.state.stateType="HasEntries";this.state.hasError=false;const s=await(this.getEditableFields?.())??{};this.state.hasValues=false;this.state.hasIncorrectValues=false;this.$scrollContainer.current?.destroy();const i=j(B,{editable:true,class:"sapUiSmallMarginTopBottom",visible:this.bindState("hasValues"),children:{layout:j(F,{columnsM:2,columnsL:2,columnsXL:2,labelCellsLarge:1,emptyCellsLarge:1})}});const n=j(B,{editable:false,class:"sapUiSmallMarginTopBottom",visible:this.bindState("hasIncorrectValues"),children:{layout:j(F,{columnsM:2,columnsL:2,columnsXL:2,labelCellsLarge:1,emptyCellsLarge:1})}});const r=j(y,{text:this.getTranslatedText("C_EASYEDIT_DIALOG_WARNING_MSG"),type:"Warning",showIcon:true,visible:this.bindState("hasIncorrectValues")});const o=j(v,{icon:"sap-icon://thumb-up",tooltip:this.getTranslatedText("C_EASYEDIT_THUMBS_UP"),type:"Transparent",press:()=>this.onThumbPress(o,c)});G.setSemanticStepname(o,"press","fe4:ef:thumbUp");const c=j(v,{icon:"sap-icon://thumb-down",tooltip:this.getTranslatedText("C_EASYEDIT_THUMBS_DOWN"),type:"Transparent",press:()=>this.onThumbPress(o,c)});G.setSemanticStepname(c,"press","fe4:ef:thumbDown");const u=z(T,{alignItems:"Center",visible:fe(this.bindState("stateType"),"HasEntries"),children:[j(le,{}),j(S,{text:this.getTranslatedText("C_EASYEDIT_AI_NOTICE_TEXT"),class:"sapUiTinyMarginBegin"}),o,", ",c]});const h=j(R,{children:{title:j(O,{text:this.getTranslatedText("C_EASYEDIT_PREVIOUS_VALUES")})}});const p=j(R,{children:{title:j(O,{text:this.getTranslatedText("C_EASYEDIT_PREVIOUS_VALUES")})}});const f=j(R,{children:{title:j(O,{text:this.getTranslatedText("C_EASYEDIT_NEW_VALUES")})}});const E=j(R,{children:{title:j(O,{text:this.getTranslatedText("C_EASYEDIT_NEW_VALUES")})}});const m=this.getPageController().getModel("ui")?.createBindingContext("/easyEditDialog");this.getPageController().getModel("ui").setProperty("/easyEditDialog",{});m.setProperty("isEditable",true);f.setBindingContext(m,"ui");i.addFormContainer(h);i.addFormContainer(f);n.addFormContainer(p);n.addFormContainer(E);const b={};const C={};f.setBindingContext(this._bindingContext);E.setBindingContext(this.getModel("$componentState")?.createBindingContext("/incorrectValues"));E.setModel(this.getModel("$componentState"));const _=he();this.$reviewArea.current?.addItem(j(I,{ref:this.$scrollContainer,vertical:true,class:"sapUiContentPadding",children:{content:j(V,{ref:_,children:{items:[z(T,{children:[{layoutData:j(g,{alignSelf:"End"})},u]}),j(A,{text:this.getTranslatedText("C_EASYEDIT_FILLED_FIELDS"),visible:this.bindState("hasValues")}),i,j(A,{text:this.getTranslatedText("C_EASYEDIT_INCORRECT_FIELDS"),class:"sapUiSmallMarginTopBottom",visible:this.bindState("hasIncorrectValues")}),r,n]}})}}));for(const e in t){if(s[e]&&s[e].isEditable===true){this.state.hasValues=true;h.addFormElement(j(N,{label:a[e].description,children:j(l,{metaPath:e,contextPath:this.getOwnerContextPath(),readOnly:true,required:false,visible:true})}));const s=this._getOwner()?.runAsOwner(()=>j(l,{_requiresValidation:true,validateFieldGroup:this.onValidateFieldGroups.bind(this),fieldGroupIds:"EasyFillField",metaPath:e,contextPath:this.getOwnerContextPath(),change:this.onFieldChange.bind(this)}));f.addFormElement(j(N,{label:a[e].description,children:{fields:s}}));const i=this.getMetaModel();const n=i.getMetaPath(this._bindingContext.getPath(e));const r=i.getObject(n);const o=Y.format(r,{context:i.createBindingContext(n)});const c=M.parse(o);let u="";if(c&&c.type){try{c.type.validateValue(t[e])}catch(e){this.state.hasError=true;u=e.message}}const p=await this._getValueList(n);let g=false;if(p&&d.isValueListSearchable(n,p)){const a=await se(p,{operator:U.EQ,selectedValues:[t[e]]},true);if(!a[0].noMatch){t[e]=a[0].selectedValues[0].value;u=""}else{this.state.hasError=true;g=true;u=this.getTranslatedText("C_EASYEDIT_VH_ERROR",a[0].selectedValues[0].value)}}setTimeout(()=>{s.setValue(t[e]);if(u.length>0||g){const e=s.addMessage({type:w.Error,message:u});s.data("messageId",e)}},200)}else{C[e]=t[e];this.state.hasIncorrectValues=true;p.addFormElement(j(N,{label:a[e]?.description??e,children:j(l,{metaPath:e,contextPath:this.getOwnerContextPath(),readOnly:true,required:false,visible:true})}));E.addFormElement(j(N,{label:a[e]?.description??e,children:j(l,{metaPath:e,contextPath:this.getOwnerContextPath(),readOnly:true})}))}}_.current?.setBindingContext(this.getPageController().getView()?.getBindingContext());_.current?.setModel(this.getPageController().getModel());_.current?.setModel(this.getPageController().getModel("ui"),"ui");setTimeout(()=>{this.onValidateFieldGroups()},1e3);this.state.newValues=b;this.state.incorrectValues=C}else{this.state.hasValues=false;this.state.hasIncorrectValues=false;this.state.stateType="Error";this.state.newValues={};this.state.incorrectValues={}}}catch(e){this.state.isBusy=false;this.state.hasValues=false;this.state.hasIncorrectValues=false;this.state.stateType="Error";this.state.newValues={};this.state.incorrectValues={}}};s.createContent=function e(){const t=j(L,{text:this.getTranslatedText("C_EASYEDIT_DIALOG_DESCRIPTION")});const a=he();const s=he();const i=he();const n=he();const r=j(h,{title:this.getTranslatedText("C_EASYEDIT_DIALOG_TITLE"),resizable:true,horizontalScrolling:false,verticalScrolling:false,contentWidth:"1100px",contentHeight:"800px",escapeHandler:()=>{this.onCancel()},afterClose:()=>{this.destroy()},children:{content:z(p,{direction:te.Row,renderType:"Bare",width:"100%",height:"100%",children:[z(p,{width:"40%",id:this.createId("inputArea"),direction:te.Column,class:"sapUiContentPadding",renderType:"Bare",children:[j(f,{htmlText:this.getTranslatedText("C_EASYEDIT_DIALOG_DESCRIPTION"),class:"sapUiTinyMarginBottom"}),t,j(x,{value:this.bindState("enteredText"),class:"sapUiTinyMarginBottom",liveChange:e=>{this.state.currentlyEnteredText=e.getParameter("value")??""},width:"100%",placeholder:this.getTranslatedText("C_EASYEDIT_TEXTAREA_PLACEHOLDER"),rows:20,growing:true,growingMaxLines:30,maxLength:_e,ariaLabelledBy:t}),j(S,{class:"sapUiTinyMarginBottom",text:{path:"/currentlyEnteredText",model:"$componentState",formatter:this.formatRemainingCharacters.bind(this)},children:{layoutData:j(g,{alignSelf:"End"})}}),z(T,{children:[{layoutData:j(g,{alignSelf:"End"})},j(u,{text:this.getTranslatedText("C_EASYEDIT_BUTTON"),icon:"sap-icon://ai",enabled:pe(ge(this.bindState("currentlyEnteredText"))),press:this.onEasyEditPressed.bind(this),ref:a,class:"sapUiSmallMarginEnd"}),j(u,{text:this.getTranslatedText("C_EASYEDIT_DIALOG_CLEAR_ALL"),type:ae.Transparent,press:this.onClearAll.bind(this),ref:n})]})]}),z(p,{id:this.createId("reviewArea"),ref:this.$reviewArea,width:"60%",renderType:"Bare",busy:this.bindState("isBusy"),direction:te.Column,class:"sapFeEasyFillReviewArea",children:[j(E,{illustrationType:b.NoSearchResults,illustrationSize:m.Large,title:this.getTranslatedText("C_EASYEDIT_DIALOG_REVIEW_TITLE"),description:this.getTranslatedText("C_EASYEDIT_DIALOG_REVIEW_DESCRIPTION"),visible:fe(this.bindState("stateType"),"Initial")}),j(E,{illustrationType:b.NoEntries,illustrationSize:m.Large,title:this.getTranslatedText("C_EASYEDIT_DIALOG_NO_ENTRIES_TITLE"),description:this.getTranslatedText("C_EASYEDIT_DIALOG_NO_ENTRIES_DESCRIPTION"),visible:fe(this.bindState("stateType"),"NoEntries")}),j(E,{illustrationType:b.UnableToLoad,illustrationSize:m.Large,title:this.getTranslatedText("C_EASYEDIT_DIALOG_ERROR_TITLE"),description:this.getTranslatedText("C_EASYEDIT_DIALOG_ERROR_DESCRIPTION"),visible:fe(this.bindState("stateType"),"Error")})]})]}),footer:z(_,{children:[j(D,{}),j(u,{text:this.getTranslatedText("C_EASYEDIT_DIALOG_SAVE"),type:"Emphasized",enabled:Te(this.bindState("hasValues"),pe(this.bindState("hasError"))),press:this.onConfirm.bind(this),ref:s}),j(u,{text:this.getTranslatedText("C_EASYEDIT_DIALOG_CANCEL"),type:"Transparent",press:this.onCancel.bind(this),ref:i})]})}});G.setSemanticStepname(a.current,"press","fai:ef:analyzeText");G.setSemanticStepname(s.current,"press","fai:ef:save");G.setSemanticStepname(i.current,"press","fai:ef:cancel");G.setSemanticStepname(n.current,"press","fai:ef:clearAll");return r};s._getValueList=async function e(t){const a=this.getMetaModel();const s=await d.getValueListInfo(undefined,t,undefined,a);return s[0]};return a}(i),Q=ye(X.prototype,"$reviewArea",[H],{configurable:true,enumerable:true,writable:true,initializer:null}),K=ye(X.prototype,"$scrollContainer",[k],{configurable:true,enumerable:true,writable:true,initializer:null}),J=ye(X.prototype,"getEditableFields",[W],{configurable:true,enumerable:true,writable:true,initializer:null}),X))||q);ee=Ie;return ee},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/ai/EasyFilterBar", ["sap/base/Log","sap/base/i18n/Localization","sap/fe/base/BindingToolkit","sap/fe/base/ClassSupport","sap/fe/controls/easyFilter/EasyFilterBarContainer","sap/fe/core/buildingBlocks/BuildingBlock","sap/fe/core/controllerextensions/BusyLocker","sap/fe/core/helpers/ModelHelper","sap/fe/core/helpers/TypeGuards","sap/fe/core/templating/DataModelPathHelper","sap/fe/core/templating/PropertyHelper","sap/fe/macros/ai/EasyFilterDataFetcher","sap/fe/macros/filter/FilterUtils","sap/fe/macros/filterBar/DraftEditState","sap/fe/macros/internal/valuehelp/ValueListHelper","sap/ui/core/Element","sap/ui/model/FilterOperator","sap/ui/model/json/JSONModel","sap/ui/model/odata/type/Date","sap/ui/model/odata/type/DateTimeOffset","sap/ui/model/odata/type/TimeOfDay","sap/fe/base/jsx-runtime/jsx"],function(e,t,r,n,a,i,o,s,l,c,u,p,d,f,h,g,y,m,b,v,F,P){"use strict";var w,S,V,E,T,B,C,M,x,L,O,k,_,D,I;var $={};var H=p.unresolvedResult;var A=p.resolveTokenValue;var j=p.mapValueListToCodeList;var z=p.generateSelectParameter;var Q=u.hasValueHelpWithFixedValues;var N=c.isPathFilterable;var R=l.isProperty;var U=l.isPathAnnotationExpression;var W=l.isNavigationProperty;var q=l.isEntityType;var K=l.isComplexType;var G=n.property;var J=n.implementInterface;var X=n.defineUI5Class;var Y=n.association;var Z=n.aggregation;var ee=r.isConstant;function te(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function re(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,ne(e,t)}function ne(e,t){return ne=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ne(e,t)}function ae(e,t,r,n,a){var i={};return Object.keys(n).forEach(function(e){i[e]=n[e]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce(function(r,n){return n(e,t,r)||r},i),a&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(a):void 0,i.initializer=void 0),void 0===i.initializer?(Object.defineProperty(e,t,i),null):i}function ie(e,t){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let oe=(w=X("sap.fe.macros.EasyFilterBar"),S=J("sap.fe.core.controllerextensions.viewState.IViewStateContributor"),V=Y({type:"sap.fe.macros.filterBar.FilterBarAPI"}),E=Y({type:"sap.fe.macros.contentSwitcher.ContentSwitcher"}),T=G({type:"string"}),B=G({type:"string"}),C=Z({type:"sap.fe.controls.easyFilter.EasyFilterBarContainer"}),w(M=(x=function(r){function n(t,n){var a;a=r.call(this,t,n)||this;te(a,"__implements__sap_fe_core_controllerextensions_viewState_IViewStateContributor",L,a);te(a,"filterBar",O,a);te(a,"contentSwitcher",k,a);te(a,"contentSwitcherKey",_,a);te(a,"contextPath",D,a);te(a,"content",I,a);a.getAppComponent()?.getEnvironmentCapabilities().prepareFeature("MagicFiltering").then(()=>{a.easyFilterPath="ux/eng/fioriai/reuse/easyfilter/EasyFilter";a.content?.setEasyFilterLib(a.easyFilterPath);return}).catch(t=>{e.debug("Error while loading EasyFilter",t);return undefined});return a}$=n;re(n,r);var i=n.prototype;i.applyLegacyState=async function e(t,r,n,a){if(r?.selectionVariant){const e=r.selectionVariant.getSelectOptionsPropertyNames();this.filterBarMetadata.forEach(t=>{if(e.includes(t.name)){t.defaultValue=r.selectionVariant.getSelectOption(t.name)?.reduce((e,t)=>{if(t.Sign==="I"){if(t.Option===y.BT||t.Option===y.NB){if(t.High!==null&&t.High!==undefined){e.push({operator:t.Option,selectedValues:[t.Low,t.High]})}}else{e.push({operator:t.Option,selectedValues:[t.Low]})}}else{e.push({operator:y.NE,selectedValues:[t.Low]})}return e},[])}});this.content?.resetState(false)}return Promise.resolve(undefined)};i.applyState=function e(t,r){return undefined};i.retrieveState=function e(){return{}};i.getApplicationId=function e(){return this.getAppComponent()?.getManifestEntry("sap.app").id??"<unknownID>"};i.onMetadataAvailable=function e(){this.filterBarMetadata=this.prepareFilterBarMetadata();this.recommendedQueries=this.getAppComponent()?.getManifestEntry("sap.fe")?.macros?.easyFilter?.recommendedQueries??[];this.content=this.createContent();this.content.filterBarMetadata=this.filterBarMetadata};i.getUnitForProperty=function e(t,r){const n=t.annotations.Measures?.ISOCurrency??t.annotations.Measures?.Unit;return U(n)?`${r}/${n.path}`:undefined};i.getDefaultValueForFilterField=function e(t,r){let n;if(r.hasOwnProperty(t.name)){n=[{operator:y.EQ,selectedValues:r[t.name]}]}else if(t.isParameter&&r.hasOwnProperty(t.name.substring(2))){n=[{operator:y.EQ,selectedValues:r[t.name.substring(2)]}]}return n};i.getEditStateFilterMetadata=function e(t){const r=new m({isDraftCollaborative:s.isCollaborationDraftSupported(t)}).createBindingContext("/");const n=f.getEditStatesContext(r).getObject("/").map(e=>({value:e.id,description:e.display}));return{name:"$editState",label:this.getTranslatedText("FILTERBAR_EDITING_STATUS"),dataType:"Edm.String",filterable:true,codeList:n,type:"MenuWithSingleSelect"}};i.getTokenType=function e(t,r){if(Q(t)){return r==="SingleValue"?"MenuWithSingleSelect":"MenuWithCheckBox"}switch(t.type){case"Edm.Date":return"Calendar";case"Edm.TimeOfDay":return"Time";default:return"ValueHelp"}};i.getLabel=function e(t){const r=t.annotations.Common?.Label?.toString();const n=q(t)?t.annotations.UI?.HeaderInfo?.TypeName?.valueOf():undefined;const a=n||r;if(this.isComplexProperty(t)||W(t)){return a||this.getLabel(t.targetType)}return a};i.isScalarProperty=function e(t){return R(t)&&!K(t.targetType)};i.isComplexProperty=function e(t){return R(t)&&K(t.targetType)};i.prepareFilterBarMetadata=function e(){const r=this._getOwner();const n=r.preprocessorContext?.getDefinitionForPage();if(!n){return[]}const a=n.getFilterBarDefinition({});const i=n.getMetaPath();const o=i.getClosestEntitySet();let l=o.annotations.Capabilities?.FilterRestrictions?.FilterExpressionRestrictions??[];for(const e in o.navigationPropertyBinding){if(o.navigationPropertyBinding[e]?._type==="EntitySet"){const t=o.navigationPropertyBinding[e];const r=t.annotations.Capabilities?.FilterRestrictions?.FilterExpressionRestrictions??[];const n=[...l];l=[...l,...r.filter(e=>!n.includes(e))]}}const c=r.preprocessorContext?.models.metaModel;const u=(e,t)=>Q(e)?async()=>this.getCodeListForProperty(t):undefined;const p=a.getFilterFields().filter(e=>!e.getTarget()?.annotations?.UI?.HiddenFilter?.valueOf());const d=r.getAppComponent().getComponentData()?.startupParameters??{};const f=1;const h=[...o.entityType.entityProperties,...o.entityType.navigationProperties].map(e=>[e]);const g=[];const y=new Set;const m=e=>{const r=e.map(e=>this.getLabel(e)||`[${e.name}]`);return t.getRTL()?r.slice().reverse().join(" - "):r.join(" - ")};while(h.length>0){const e=h.shift();const t=e.filter(W).length;const r=e[e.length-1];if(r.annotations.UI?.Hidden?.valueOf()===true){continue}const n=[`/${o.name}`,...e.slice(0,-1).map(e=>e.name)].reduce((e,t)=>`${e}/${t}`);const a=`${n}/${r.name}`;if(this.isScalarProperty(r)){const t=r.annotations.Common?.Text;if(U(t)){y.add(`${n}/${t.path}`)}const i=p.find(e=>e.getTarget()===r);const o=l.find(e=>e.Property?.$target===r);const s=N(this.getDataModelObjectPath(a));const c=ee(s)?s.value:true;const f=o?.AllowedExpressions;const h=u(r,a);const b={name:a,label:m(e),dataType:r.type,required:i?.required,defaultValue:i?this.getDefaultValueForFilterField(i,d):undefined,filterable:i?c:undefined,hiddenFilter:!i,filterRestriction:i?f:undefined,codeList:h,type:this.getTokenType(r,o?.AllowedExpressions?.toString()||"MultiRangeOrSearchExpression"),unit:this.getUnitForProperty(r,n)};g.push(b)}else if(this.isComplexProperty(r)){r.targetType.properties.forEach(t=>{h.push([...e,t])});if(t<f){r.targetType.navigationProperties.forEach(t=>{h.push([...e,t])})}}else if(W(r)){if(r.isCollection&&!p.some(e=>e.annotationPath?.startsWith(a))){continue}r.targetType.entityProperties.forEach(t=>{h.push([...e,t])});if(t<f){r.targetType.navigationProperties.forEach(t=>{h.push([...e,t])})}}}if(s.isMetaPathDraftSupported(n.getMetaPath())){g.push(this.getEditStateFilterMetadata(c))}return g.filter(e=>!e.hiddenFilter||!y.has(e.name))};i.getCodeListForProperty=async function e(t){const r=await this.getValueList(t);if(!r){return[]}const n=r.valueListInfo;const a=n.$model.bindList(`/${n.CollectionPath}`,undefined,undefined,undefined,{$select:z(r)});const i=await a.requestContexts();const o=i.map(j(r));const s=this.filterBarMetadata.find(e=>e.name===t);if(s){s.codeList=o}return o};i.resolveTokenValuesForField=async function e(t,r){const n=this.filterBarMetadata.find(e=>{let{name:r}=e;return r===t});let a;if(!n){return H(r)}const i=await this.getValueList(n.name);if(i&&h.isValueListSearchable(n.name,i)){const e=await Promise.all(r.map(async e=>A(i,e)));a=e.flat()}else{a=H(r)}if(n.maxLength!==undefined){const e=a.map(e=>{if(e.operator===y.BT||e.operator===y.NB){const[t,r]=e.selectedValues;if(String(t.value).length<=n.maxLength&&String(r.value).length<=n.maxLength){return e}else{return null}}else{const t=e.selectedValues.filter(e=>String(e.value).length<=n.maxLength);if(t.length>0){return{...e,selectedValues:t}}else{return null}}}).filter(e=>e!==null);return e}return a};i.getValueList=async function e(t){const r=this.getMetaModel();const n=await h.getValueListInfo(undefined,t,undefined,r);return n[0]};i.onTokensChanged=async function e(t){const r=g.getElementById(this.filterBar);const n=r.getParent();const a=t.getParameter("tokens");const i=a.some(e=>e.key==="$editState");await n._clearFilterValuesWithOptions(r,{clearEditFilter:i});this.formateDataTypes(a);for(const e of a){if(e.key==="$editState"){for(const t of e.keySpecificSelectedValues){await d.addFilterValues(n.content,e.key,"DRAFT_EDIT_STATE",t.selectedValues)}}else{const t=this.filterBarMetadata.find(t=>t.name===e.key);for(const r of e.keySpecificSelectedValues){const{operator:e,selectedValues:a}=r;await d.addFilterValues(n.content,t.name,e,a)}}}await n.triggerSearch()};i.formateDataTypes=function e(t){const r=new b,n=new v(undefined,{V4:true}),a=new F;t.forEach(e=>{const t=this.filterBarMetadata.find(t=>t.name===e.key)?.dataType;e.keySpecificSelectedValues.forEach(e=>{let i;switch(t){case"Edm.Date":i=r;break;case"Edm.TimeOfDay":i=a;break;case"Edm.DateTimeOffset":i=n;break;default:return}e.selectedValues.forEach((t,r)=>{e.selectedValues[r]=i.parseValue(t,"object")})})})};i.showValueHelpForKey=async function e(t){const r=this.filterBarMetadata.find(e=>e.name===t);const n=g.getElementById(this.filterBar);const a=n.getParent();await a.showFilterField(r.name);return a.openValueHelpForFilterField(r.name)};i.onBeforeQueryProcessing=function e(){const t=this.getModel("ui");o.lock(t)};i.onAfterQueryProcessing=function e(){const t=this.getModel("ui");o.unlock(t)};i.onClearFilters=async function e(){const t=g.getElementById(this.filterBar);const r=t.getParent();await r._clearFilterValuesWithOptions(t);await r.triggerSearch()};i.onQueryChanged=function e(){const t=g.getElementById(this.filterBar);t.fireFiltersChanged({conditionsBased:true})};i.handleShowValueHelp=async function t(r){const n=r.getParameter("key");const a=r.getParameter("resolve");const i=r.getParameter("reject");try{const t=await this.showValueHelpForKey(n);const r=t.map(async t=>{const r=t.operator;if(t.validated==="NotValidated"){const e=r===y.BT||r===y.NB?{operator:r,selectedValues:[t.values[0],t.values[1]]}:{operator:r,selectedValues:[t.values[0]]};return this.resolveTokenValuesForField(n,[e])}else if(r!==y.BT&&r!==y.NB){const[e,n]=t.values;return Promise.resolve([{operator:r,selectedValues:[{value:e,description:n??e}]}])}else{e.warning(`Unexpected condition for field ${n}: operator ${r} with values ${t.values}.`);return Promise.resolve([])}});const i=await Promise.all(r);a(i.flat())}catch(e){i(e instanceof Error?e:new Error(String(e)))}};i.createContent=function e(){return P(a,{contextPath:this.getOwnerContextPath(),appId:this.getApplicationId(),filterBarMetadata:this.filterBarMetadata,easyFilterLib:this.easyFilterPath,showValueHelp:this.handleShowValueHelp.bind(this),dataFetcher:this.resolveTokenValuesForField.bind(this),recommendedValues:this.recommendedQueries,queryChanged:this.onQueryChanged.bind(this),tokensChanged:this.onTokensChanged.bind(this),beforeQueryProcessing:this.onBeforeQueryProcessing.bind(this),afterQueryProcessing:this.onAfterQueryProcessing.bind(this),clearFilters:this.onClearFilters.bind(this)})};return n}(i),L=ae(x.prototype,"__implements__sap_fe_core_controllerextensions_viewState_IViewStateContributor",[S],{configurable:true,enumerable:true,writable:true,initializer:null}),O=ae(x.prototype,"filterBar",[V],{configurable:true,enumerable:true,writable:true,initializer:null}),k=ae(x.prototype,"contentSwitcher",[E],{configurable:true,enumerable:true,writable:true,initializer:null}),_=ae(x.prototype,"contentSwitcherKey",[T],{configurable:true,enumerable:true,writable:true,initializer:null}),D=ae(x.prototype,"contextPath",[B],{configurable:true,enumerable:true,writable:true,initializer:null}),I=ae(x.prototype,"content",[C],{configurable:true,enumerable:true,writable:true,initializer:null}),x))||M);$=oe;return $},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/ai/EasyFilterDataFetcher", ["sap/fe/core/CommonUtils","sap/fe/core/converters/MetaModelConverter","sap/fe/core/helpers/TypeGuards","sap/ui/model/Filter","sap/ui/model/FilterOperator"],function(e,t,n,r,o){"use strict";var s={};var a=n.isProperty;var i=t.convertTypes;function l(e,t,n,o){let s=o;if(typeof s==="string"&&t.annotations.Common?.IsUpperCase?.valueOf()===true){s=s.toUpperCase()}return new r({path:e.keyPath,operator:n,value1:s})}async function u(t,n,r,s){let a=arguments.length>4&&arguments[4]!==undefined?arguments[4]:false;const i=t.valueListInfo.$model;const u=`/${t.valueListInfo.CollectionPath}`;const f=d(t);let p=e.normalizeSearchTerm(s instanceof Date?s.toISOString():s.toString());const v=h(r);const g=v?m(r):r;const C=l(t,n,g,s);const P=!p||p.length>(n.maxLength??p.length);if(!a){p=`"${p}"`}const[L,E]=await Promise.allSettled([!P?i.bindList(u,undefined,undefined,C,{$select:f}).requestContexts(0,1):[],i.bindList(u,undefined,undefined,undefined,{$search:p,$select:f}).requestContexts()]);const y=c(t,true);if(L.status==="fulfilled"&&L.value.length>0){return g===o.EQ?{operator:r,selectedValues:L.value.map(y)}:{operator:r,selectedValues:[{value:s,description:s}]}}if(E.status==="fulfilled"&&E.value.length>0){let e=E.value.map(y);if(g===o.EQ){const t=e.filter(e=>e.description.toString().toLowerCase()===s.toString().toLowerCase());if(t.length>0){e=t}}return{operator:r,selectedValues:e}}return{operator:r,selectedValues:[{value:s,description:s}],noMatch:true}}function c(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;return n=>{const r=n.getObject();const o=r[e.keyPath];const s=e.descriptionPath?r[e.descriptionPath]:undefined;return{value:o,description:t?s??o:s}}}s.mapValueListToCodeList=c;function d(e){return[e.keyPath,e.descriptionPath].filter(e=>e&&!e.includes("/")).join(",")}s.generateSelectParameter=d;async function f(e,t){let n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;const{operator:r,selectedValues:s}=t;const l=e.valueListInfo.$model;l.setContinueOnError("$auto");const c=i(l.getMetaModel());const d=c.resolvePath(`/${e.valueListInfo.CollectionPath}/${e.keyPath}`)?.target;if(!a(d)){return p([t])}if(v(r)){if(r===o.BT||r===o.NB){const[e,t]=s;return[{operator:r,selectedValues:[{value:e,description:e},{value:t,description:t}]}]}else{return p([t])}}else{const t=await Promise.all(s.map(async t=>u(e,d,r,t,n)));return t.flat()}}s.resolveTokenValue=f;function p(e){return e.map(e=>{let{operator:t,selectedValues:n}=e;return{operator:t,selectedValues:n.map(e=>({value:e,description:e}))}})}s.unresolvedResult=p;function h(e){return[o.NE,o.NotContains,o.NotStartsWith,o.NotEndsWith].includes(e)}function v(e){return[o.GT,o.GE,o.LT,o.LE,o.BT,o.NB].includes(e)}function m(e){switch(e){case o.NE:return o.EQ;case o.NotContains:return o.Contains;case o.NotStartsWith:return o.StartsWith;case o.NotEndsWith:return o.EndsWith;default:return o.EQ}}s.getPositiveOperator=m;return s},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/ai/SummarizationButton", ["sap/base/Log","sap/fe/base/ClassSupport","sap/fe/core/CommonUtils","sap/fe/core/buildingBlocks/BuildingBlock","sap/m/Button","sap/m/OverflowToolbarLayoutData","sap/m/library","sap/ui/performance/trace/FESRHelper","sap/fe/base/jsx-runtime/jsx"],function(e,t,r,i,a,n,o,u,l){"use strict";var s,p,c,f,m,b,d;function v(e){return new Promise((t,r)=>{sap.ui.require([e],r=>{if(!(r&&r.__esModule)){r=r===null||!(typeof r==="object"&&e.endsWith("/library"))?{default:r}:r;Object.defineProperty(r,"__esModule",{value:true})}t(r)},e=>{r(e)})})}var y={};var g=o.OverflowToolbarPriority;var w=o.ButtonType;var _=t.property;var h=t.implementInterface;var z=t.defineUI5Class;function O(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function S(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,C(e,t)}function C(e,t){return C=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},C(e,t)}function j(e,t,r,i,a){var n={};return Object.keys(i).forEach(function(e){n[e]=i[e]}),n.enumerable=!!n.enumerable,n.configurable=!!n.configurable,("value"in n||n.initializer)&&(n.writable=!0),n=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},n),a&&void 0!==n.initializer&&(n.value=n.initializer?n.initializer.call(a):void 0,n.initializer=void 0),void 0===n.initializer?(Object.defineProperty(e,t,n),null):n}function P(e,t){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let T=(s=z("sap.fe.macros.ai.SummarizationButton"),p=h("sap.m.IOverflowToolbarContent"),c=_({type:"string",required:true}),s(f=(m=function(t){function i(){var e;for(var r=arguments.length,i=new Array(r),a=0;a<r;a++){i[a]=arguments[a]}e=t.call(this,...i)||this;O(e,"__implements__sap_m_IOverflowToolbarContent",b,e);O(e,"id",d,e);e.fesrStepName="fe4:sum:summarize";return e}y=i;S(i,t);var o=i.prototype;o.onMetadataAvailable=function e(){this.content=this.createContent()};o.getOverflowToolbarConfig=function e(){return{canOverflow:true}};o.createContent=function t(){const i=this.getAppComponent()?.getEnvironmentCapabilities();let o;if(i?.environmentCapabilities.SmartSummarize===true){o=l(a,{id:this.createId("button"),"dt:designtime":"not-adaptable",text:"{sap.fe.i18n>SUMMARIZE}",icon:"sap-icon://ai",type:w.Ghost,press:async()=>{try{await i.prepareFeature("SmartSummarize");const e=await v("ux/eng/fioriai/reuse/summary/SmartSummary");await e.summarize({view:r.getTargetView(this)})}catch(t){e.error("Summarization failed",t)}}});this.setLayoutData(l(n,{priority:g.High}));u.setSemanticStepname(o,"press",this.fesrStepName)}return o};return i}(i),b=j(m.prototype,"__implements__sap_m_IOverflowToolbarContent",[p],{configurable:true,enumerable:true,writable:true,initializer:function(){return true}}),d=j(m.prototype,"id",[c],{configurable:true,enumerable:true,writable:true,initializer:null}),m))||f);y=T;return y},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/chart/Action", ["sap/fe/base/ClassSupport","sap/fe/macros/controls/BuildingBlockObjectProperty"],function(e,r){"use strict";var t,i,n,a,l,o,u,c,p,b,s,f,y,g,d,m,v;var z={};var w=e.property;var h=e.defineUI5Class;function O(e,r,t,i){t&&Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(i):void 0})}function j(e,r){e.prototype=Object.create(r.prototype),e.prototype.constructor=e,P(e,r)}function P(e,r){return P=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,r){return e.__proto__=r,e},P(e,r)}function k(e,r,t,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce(function(t,i){return i(e,r,t)||t},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer?(Object.defineProperty(e,r,a),null):a}function _(e,r){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let S=(t=h("sap.fe.macros.chart.Action"),i=w({type:"string"}),n=w({type:"string"}),a=w({type:"string"}),l=w({type:"string"}),o=w({type:"boolean"}),u=w({type:"string"}),c=w({type:"boolean"}),t(p=(b=function(e){function r(){var r;for(var t=arguments.length,i=new Array(t),n=0;n<t;n++){i[n]=arguments[n]}r=e.call(this,...i)||this;O(r,"key",s,r);O(r,"text",f,r);O(r,"anchor",y,r);O(r,"placement",g,r);O(r,"requiresSelection",d,r);O(r,"press",m,r);O(r,"enabled",v,r);return r}z=r;j(r,e);return r}(r),s=k(b.prototype,"key",[i],{configurable:true,enumerable:true,writable:true,initializer:null}),f=k(b.prototype,"text",[n],{configurable:true,enumerable:true,writable:true,initializer:null}),y=k(b.prototype,"anchor",[a],{configurable:true,enumerable:true,writable:true,initializer:null}),g=k(b.prototype,"placement",[l],{configurable:true,enumerable:true,writable:true,initializer:null}),d=k(b.prototype,"requiresSelection",[o],{configurable:true,enumerable:true,writable:true,initializer:null}),m=k(b.prototype,"press",[u],{configurable:true,enumerable:true,writable:true,initializer:null}),v=k(b.prototype,"enabled",[c],{configurable:true,enumerable:true,writable:true,initializer:null}),b))||p);z=S;return z},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/chart/ActionGroup", ["sap/fe/base/ClassSupport","sap/fe/macros/chart/Action"],function(e,r){"use strict";var t,i,n,a,o,l,u,c,s,p,f,b,y;var g={};var m=e.property;var v=e.defineUI5Class;var d=e.aggregation;function z(e,r,t,i){t&&Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(i):void 0})}function h(e,r){e.prototype=Object.create(r.prototype),e.prototype.constructor=e,w(e,r)}function w(e,r){return w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,r){return e.__proto__=r,e},w(e,r)}function O(e,r,t,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce(function(t,i){return i(e,r,t)||t},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer?(Object.defineProperty(e,r,a),null):a}function j(e,r){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let P=(t=v("sap.fe.macros.chart.ActionGroup"),i=m({type:"string"}),n=d({type:"sap.fe.macros.chart.Action",multiple:true,defaultClass:r,isDefault:true}),a=m({type:"string"}),o=m({type:"string"}),l=m({type:"string"}),t(u=(c=function(e){function r(){var r;for(var t=arguments.length,i=new Array(t),n=0;n<t;n++){i[n]=arguments[n]}r=e.call(this,...i)||this;z(r,"key",s,r);z(r,"actions",p,r);z(r,"text",f,r);z(r,"placement",b,r);z(r,"anchor",y,r);return r}g=r;h(r,e);return r}(r),s=O(c.prototype,"key",[i],{configurable:true,enumerable:true,writable:true,initializer:null}),p=O(c.prototype,"actions",[n],{configurable:true,enumerable:true,writable:true,initializer:function(){return[]}}),f=O(c.prototype,"text",[a],{configurable:true,enumerable:true,writable:true,initializer:null}),b=O(c.prototype,"placement",[o],{configurable:true,enumerable:true,writable:true,initializer:null}),y=O(c.prototype,"anchor",[l],{configurable:true,enumerable:true,writable:true,initializer:null}),c))||u);g=P;return g},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/chart/Chart", ["sap/base/Log","sap/fe/base/ClassSupport","../Chart"],function(t,e,r){"use strict";var a,o;var s={};var n=e.defineUI5Class;function c(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,p(t,e)}function p(t,e){return p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},p(t,e)}let u=(a=n("sap.fe.macros.chart.Chart"),a(o=function(e){function r(r,a){t.warning("You've consumed deprecated Chart class. Use sap.fe.macros.Chart instead");return e.call(this,r,a)||this}s=r;c(r,e);return r}(r))||o);s=u;return s},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/chart/ChartDelegate", ["sap/base/Log","sap/base/util/merge","sap/chart/TimeUnitType","sap/fe/core/CommonUtils","sap/fe/core/formatters/ValueFormatter","sap/fe/core/helpers/MetaModelFunction","sap/fe/core/helpers/ModelHelper","sap/fe/core/helpers/ResourceModelHelper","sap/fe/macros/CommonHelper","sap/fe/macros/DelegateUtil","sap/fe/macros/chart/ChartHelper","sap/fe/macros/chart/ChartUtils","sap/fe/macros/filter/FilterUtils","sap/m/IllustratedMessageSize","sap/m/IllustratedMessageType","sap/ui/core/Element","sap/ui/core/Lib","sap/ui/mdc/enums/ChartItemRoleType","sap/ui/mdc/odata/v4/util/DelegateUtil","sap/ui/mdc/odata/v4/vizChart/ChartDelegate","sap/ui/model/Filter","sap/ui/model/FilterOperator","../filterBar/FilterBarDelegate"],function(e,t,a,r,n,s,o,i,l,c,u,g,f,p,d,m,h,y,b,T,C,P,_){"use strict";var I=s.isMultiValueFilterExpression;var D=s.getSortRestrictionsInfo;var A=s.getFilterableData;const O=Object.assign({},T);T.apiVersion=2;O._loadChart=async function(){await h.load({name:"sap.chart"});return T._loadChart()};O._handleProperty=function(t,a,n,s,i,c,u,g){const f=l.parseCustomData(a.data("applySupported"));const p=D(n);const d=t.getModel();const m=a.data("entityType");const h=o.getEntitySetPath(m);const y=r.getFilterRestrictionsByPath(h,d);const b={};A(b,y.NonFilterableProperties,Object.keys(y.FilterAllowedExpressions));const T=t.getModel().getObject(t.getPath());const C=t.getModel().getObject(`${t.getPath()}@sapui.name`);const P=a.getP13nMode();$(a,P);if(T&&T.$kind==="Property"){if(T.$isCollection){return}const r=d.getObject(`${t.getPath()}@`);const n=d.getObject("@sapui.name",d.getMetaContext(t.getPath()));const o=f&&f.GroupableProperties;const m=f&&f.AggregatableProperties;let h=o?M(o,n):false;let _=m?M(m,n):false;const I=Object.keys(i);if(!o||o&&!o.length){h=r["@Org.OData.Aggregation.V1.Groupable"]}if(!m||m&&!m.length){_=r["@Org.OData.Aggregation.V1.Aggregatable"]}if(I.includes(C)){_=true}if(!h&&!_){return}const D=l.isPropertyFilterable(t);if(_){const e=O._createPropertyInfosForAggregatable(a,C,r,y,p,s,i,T.$Type);e.forEach(function(e){if(!g.includes(e.path)){c.push(e)}});if(P&&P.includes("Filter")){const e=Object.keys(s);const t=o?.map(e=>e.$PropertyPath);if(e.includes(C)&&!t?.includes(C)&&!g.includes(C)){c=v(c,C,r,I.includes(C)?false:E(C,D,b),y,false,a,u,T,false,true,undefined,true)}}}if(h){const t=C||"",n=r["@"+"com.sap.vocabularies.Common.v1.Text"]?r["@"+"com.sap.vocabularies.Common.v1.Text"].$Path:null;let s=false;if(t&&t.includes("/")){e.error(`$expand is not yet supported. Property: ${t} from an association cannot be used`);return}if(n&&n.indexOf("/")>-1){e.error(`$expand is not yet supported. Text Property: ${n} from an association cannot be used`);s=true}c=v(c,C,r,E(C,D,b)?I.includes(C)&&g.includes(C)||!g.includes(C):false,y,O._getSortable(a,p.propertyInfo[C],false),a,u,T,!I.includes(C)||I.includes(C)&&g.includes(C)?true:false,false,s)}}};function S(e,t,a){const r=[];for(const n in e){const e=t.createBindingContext(`${a}/${n}`);const s=t.getObject(`${e?.getPath()}@`);const o=s?.["@Org.OData.Measures.V1.ISOCurrency"]?.$Path||s?.["@Org.OData.Measures.V1.Unit"]?.$Path;if(o&&!r.includes(o)){r.push(o)}}return r}function v(e,t,a,r,n,s,o,i,l,c,u,g,f){let p=y.category;const d=o.data("chartDimensionKeyAndRole");if(Array.isArray(d)){d.forEach(e=>{if(e[t]){p=e[t].split("/").pop()?.toLowerCase()||p}})}const m={name:"_fe_groupable_"+t,label:a["@com.sap.vocabularies.Common.v1.Label"]?.toString()||t,sortable:s,filterable:r,groupable:c,aggregatable:u,maxConditions:I(n["FilterAllowedExpressions"]?.[t]?.[0])?-1:1,path:t,role:p,criticality:i,dataType:l.$Type,visible:f?!f:true,textProperty:!g&&a["@com.sap.vocabularies.Common.v1.Text"]?a["@com.sap.vocabularies.Common.v1.Text"].$Path:null,textFormatter:a["@com.sap.vocabularies.Common.v1.Text@com.sap.vocabularies.UI.v1.TextArrangement"]};const h=O._getTimeType(l,a);if(h)m.timeUnitType=h;if(l.$Type==="Edm.DateTimeOffset"||l.$Type==="Edm.TimeOfDay"){switch(l.$Type){case"Edm.DateTimeOffset":m.formatOptions={style:"medium/short"};break;case"Edm.TimeOfDay":m.formatOptions={style:"short"};break;default:break}}e.push(m);return e}function E(e,t,a){if(t===false){return false}else if(typeof t==="string"){return true}else{return a?.[e]?.filterable??true}}O._getTimeType=function(e,t){switch(e.$Type){case"Edm.Date":return a.Date;case"Edm.String":if(t["@"+"com.sap.vocabularies.Common.v1.IsFiscalYear"]){return a.fiscalyear}else if(t["@"+"com.sap.vocabularies.Common.v1.IsFiscalYearPeriod"]){return a.fiscalyearperiod}else if(t["@"+"com.sap.vocabularies.Common.v1.IsCalendarYearMonth"]){return a.yearmonth}else if(t["@"+"com.sap.vocabularies.Common.v1.IsCalendarYearQuarter"]){return a.yearquarter}else if(t["@"+"com.sap.vocabularies.Common.v1.IsCalendarYearWeek"]){return a.yearweek}else if(t["@"+"com.sap.vocabularies.Common.v1.IsCalendarDate"]){return a.yearmonthday}break;default:return undefined}};function $(e,t){const a=e?.getModel()?.getMetaModel()?.getObject(`${e.data("targetCollectionPath")}@Org.OData.Capabilities.V1.FilterRestrictions`)?.Filterable;if(a!==undefined&&!a){t=t.filter(e=>e!=="Filter");e.setP13nMode(t)}}function M(e,t){if(e.length){for(const a of e){if(a?.$PropertyPath===t||a?.Property?.$PropertyPath===t){return true}}}}O.formatText=function(e,t){const a=this.typeConfig?.typeInstance?.formatValue(e,"string")||e;if(t){const e=this.textFormatter;if(!e||e.$EnumMember==="com.sap.vocabularies.UI.v1.TextArrangementType/TextFirst"){return n.formatWithBrackets(t,a)}if(e.$EnumMember==="com.sap.vocabularies.UI.v1.TextArrangementType/TextLast"){return n.formatWithBrackets(a,t)}}return t||a};O._updateIllustratedMessage=function(e,t){const a=e.getNoData();a.setTitle(t.title);a.setDescription(t.description);a.setIllustrationType(t.illustrationType||d.NoData);a.setIllustrationSize(t.illustrationSize||p.Auto)};O.setChartNoDataIllustratedMessage=function(e,t){const a=i.getResourceModel(e);let n={};const s=r.getTargetView(e).getViewData().converterType;const o=g.getAllFilterInfo(e);const l=t.path.startsWith("/")?t.path.substr(1):t.path;const c=function(){if(e.data("multiViews")==="true"){return{title:a.getText("T_ILLUSTRATED_MESSAGE_TITLE_NOSEARCHRESULTS",undefined,l),description:a.getText("M_TABLE_AND_CHART_NO_DATA_TEXT_MULTI_VIEW",undefined,l),illustrationType:d.NoSearchResults}}return{title:a.getText("T_ILLUSTRATED_MESSAGE_TITLE_NOSEARCHRESULTS",undefined,l),description:a.getText("T_TABLE_AND_CHART_NO_DATA_TEXT_WITH_FILTER",undefined,l),illustrationType:d.NoSearchResults,illustrationSize:s==="ObjectPage"?p.Small:p.Auto}};if(e.getFilter()&&s!=="ObjectPage"){if(o.search||o.filters?.length){n=c()}}else if(o.search||o.filters?.length){n=c()}else{n={title:a.getText("T_ILLUSTRATED_MESSAGE_TITLE_NODATA",undefined,l),description:a.getText("M_TABLE_AND_CHART_NO_FILTERS_NO_DATA_TEXT",undefined,l),illustrationType:d.NoData,illustrationSize:p.Small}}O._updateIllustratedMessage(e,n)};O.updateBindingInfo=function(e,t){const a=e.getBindingContext("internal");a.setProperty("isInsightsEnabled",true);O.setChartNoDataIllustratedMessage(e,t);const n=m.getElementById(e.getFilter());const s=e.getConditions();if(!t){t={}}if(!t.parameters){t.parameters={}}if(n){const a=f.getFilterInfo(n,{});const s=l.parseCustomData(e.data("applySupported"));if(s&&s.enableSearch&&a.search){t.parameters.$search=r.normalizeSearchTerm(a.search)}else if(t.parameters.$search){delete t.parameters.$search}}const o=s?b.getParametersInfo(n,s):null;if(o){t.path=o}const i=g.getAllFilterInfo(e);if(i.bindingPath){t.path=i.bindingPath}if(t.path&&e.getBindingContext()){t.path=u.getCollectionName(t.path)}if(i.filters){i.filters.forEach(t=>{if(t.getPath()){t.sPath=e.getParent().getChartPropertiesWithoutPrefixes(t.getPath())}})}t.events??={};t.events.dataRequested=e.getParent().onInternalDataRequested.bind(e.getParent());t.filters=i.filters.length>0?new C({filters:i.filters,and:true}):undefined;t.sorter=this.getSorters(e);O._checkAndAddDraftFilter(e,t)};O.fetchProperties=async function(e){const t=this._getModel(e);let a;if(!t){a=new Promise(t=>{e.attachModelContextChange({resolver:t},F,this)}).then(t=>this._createPropertyInfos(e,t))}else{a=this._createPropertyInfos(e,t)}return a.then(function(t){if(e.data){e.data("$mdcChartPropertyInfo",t);c.setCachedProperties(e,t)}return t})};function F(e,t){const a=e.getSource();const r=this._getModel(a);if(r){a.detachModelContextChange(F);t.resolver(r)}}O._createPropertyInfos=async function(e,t){const a=`/${e.data("entitySet")}`;const r=t.getMetaModel();const n=await Promise.all([r.requestObject(`${a}/`),r.requestObject(`${a}@`)]);const s=[];const o=n[0];const i=n[1];const c=l.parseCustomData(e.data("customAgg"));x(c,e);let g;for(const e in i){if(e.startsWith("@Org.OData.Aggregation.V1.CustomAggregate")){g=e.replace("@Org.OData.Aggregation.V1.CustomAggregate#","");const t=g.split("@");if(t.length==2&&t[1]=="com.sap.vocabularies.Common.v1.Label"){c[t[0]]=i[e]}}}const f=l.parseCustomData(e.data("transAgg"));const p={};for(const e in f){const t=f[e].propertyPath;p[t]=p[t]||{};p[t][f[e].aggregationMethod]={name:f[e].name,label:f[e].label}}const d=S(o,r,a);for(const t in o){if(t.indexOf("$")!==0){const n=u.fetchCriticality(r,r.createBindingContext(`${a}/${t}`));O._handleProperty(r.getMetaContext(`${a}/${t}`),e,i,p,c,s,n,d)}}return s};function x(t,a){const r=[],n=[];if(t&&Object.keys(t).length>=1){const t=a.getItems();for(const e in t){if(t[e].getType()==="groupable"){r.push(O.getInternalChartNameFromPropertyNameAndKind(t[e].getPropertyKey(),"groupable"))}else if(t[e].getType()==="aggregatable"){n.push(O.getInternalChartNameFromPropertyNameAndKind(t[e].getPropertyKey(),"aggregatable"))}}if(n.filter(function(e){return r.includes(e)}).length>=1){e.error("Dimension and Measure has the sameProperty Configured")}}}O._createPropertyInfosForAggregatable=function(e,a,r,n,s,o,i,l){const c=[];if(Object.keys(o).includes(a)){for(const e in o[a]){c.push({name:"_fe_aggregatable_"+o[a][e].name,label:o[a][e].label||`${r["@com.sap.vocabularies.Common.v1.Label"]} (${e})`||`${a} (${e})`,sortable:s.propertyInfo[a]?s.propertyInfo[a].sortable:true,filterable:false,groupable:false,aggregatable:true,path:a,dataType:l,aggregationMethod:e,maxConditions:I(n["FilterAllowedExpressions"]?.[a]?.[0])?-1:1,role:y.axis1,datapoint:null,unitPath:r["@Org.OData.Measures.V1.ISOCurrency"]?.$Path||r["@Org.OData.Measures.V1.Unit"]?.$Path})}}if(Object.keys(i).includes(a)){for(const e in i){if(e===a){const a=t({},i[e],{name:"_fe_aggregatable_"+e,groupable:false,aggregatable:true,filterable:false,role:y.axis1,path:e,dataType:l,datapoint:null,unitPath:r["@Org.OData.Measures.V1.ISOCurrency"]?.$Path||r["@Org.OData.Measures.V1.Unit"]?.$Path});c.push(a);break}}}return c};O.rebind=function(e,t){const a=t.parameters.$search;if(a){delete t.parameters.$search}T.rebind(e,t);if(a){const t=e.getControlDelegate().getInnerChart(e),r=t&&t.getBinding("data");r.suspend();r.setAggregation({search:a});const n={onBeforeRendering:function(){r.resume();t.removeEventDelegate(n)}};t.addEventDelegate(n)}e.fireEvent("bindingUpdated")};O._setChart=function(e,t){const a=e.getParent();t.setVizProperties(e.data("vizProperties"));t.detachSelectData(a.handleSelectionChange.bind(a));t.detachDeselectData(a.handleSelectionChange.bind(a));t.detachDrilledUp(a.handleSelectionChange.bind(a));t.attachSelectData(a.handleSelectionChange.bind(a));t.attachDeselectData(a.handleSelectionChange.bind(a));t.attachDrilledUp(a.handleSelectionChange.bind(a));t.setSelectionMode(e.getPayload().selectionMode.toUpperCase());T._setChart(e,t)};O._getBindingInfo=function(e){if(this._getBindingInfoFromState(e)){return this._getBindingInfoFromState(e)}const a=e.getDelegate().payload;const r=t({},a.parameters,{entitySet:e.data("entitySet")});return{path:a.chartContextPath,events:{dataRequested:e.getParent().onInternalDataRequested.bind(e.getParent())},parameters:r}};O.removeItemFromInnerChart=function(e,t){T.removeItemFromInnerChart.call(this,e,t);if(t.getType()==="groupable"){const t=this.getInnerChart(e);t.fireDeselectData()}};O._getSortable=function(e,t,a){if(a){if(e.data("draftSupported").toString()==="true"){return false}else{return t?t.sortable:true}}return t?t.sortable:true};O._checkAndAddDraftFilter=function(e,t){if(e.data("draftSupported").toString()==="true"){if(!t){t={}}if(!t.filters){t.filters=[];t.filters.push(new C("IsActiveEntity",P.EQ,true))}else{t.filters?.aFilters?.push(new C("IsActiveEntity",P.EQ,true))}}};O.getInternalChartNameFromPropertyNameAndKind=function(e,t){return e.replace("_fe_"+t+"_","")};O.getPropertyFromNameAndKind=function(e,t,a){return a.getPropertyHelper().getProperty("_fe_"+t+"_"+e)};O.getFilterDelegate=function(){return Object.assign({apiVersion:2},_,{addItem:async function(e,t){const a=O.getInternalChartNameFromPropertyNameAndKind(t,"groupable");return _.addItem(e,a).then(e=>{e?.bindProperty("conditions",{path:"$filters>/conditions/"+t});e?.setPropertyKey(t);return e})}})};return O},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/chart/ChartHelper", ["sap/base/Log","sap/fe/core/converters/controls/Common/DataVisualization","sap/fe/macros/CommonHelper","sap/fe/macros/internal/helpers/ActionHelper","sap/ui/model/json/JSONModel","sap/ui/model/odata/v4/AnnotationHelper"],function(e,a,t,o,r,i){"use strict";var n=a.getUiControl;function s(e){return e.getPath().replace(/@com.sap.vocabularies.UI.v1.(Chart|PresentationVariant).*/,"")}const c={"com.sap.vocabularies.UI.v1.ChartType/Column":"column","com.sap.vocabularies.UI.v1.ChartType/ColumnStacked":"stacked_column","com.sap.vocabularies.UI.v1.ChartType/ColumnDual":"dual_column","com.sap.vocabularies.UI.v1.ChartType/ColumnStackedDual":"dual_stacked_column","com.sap.vocabularies.UI.v1.ChartType/ColumnStacked100":"100_stacked_column","com.sap.vocabularies.UI.v1.ChartType/ColumnStackedDual100":"100_dual_stacked_column","com.sap.vocabularies.UI.v1.ChartType/Bar":"bar","com.sap.vocabularies.UI.v1.ChartType/BarStacked":"stacked_bar","com.sap.vocabularies.UI.v1.ChartType/BarDual":"dual_bar","com.sap.vocabularies.UI.v1.ChartType/BarStackedDual":"dual_stacked_bar","com.sap.vocabularies.UI.v1.ChartType/BarStacked100":"100_stacked_bar","com.sap.vocabularies.UI.v1.ChartType/BarStackedDual100":"100_dual_stacked_bar","com.sap.vocabularies.UI.v1.ChartType/Area":"area","com.sap.vocabularies.UI.v1.ChartType/AreaStacked":"stacked_column","com.sap.vocabularies.UI.v1.ChartType/AreaStacked100":"100_stacked_column","com.sap.vocabularies.UI.v1.ChartType/HorizontalArea":"bar","com.sap.vocabularies.UI.v1.ChartType/HorizontalAreaStacked":"stacked_bar","com.sap.vocabularies.UI.v1.ChartType/HorizontalAreaStacked100":"100_stacked_bar","com.sap.vocabularies.UI.v1.ChartType/Line":"line","com.sap.vocabularies.UI.v1.ChartType/LineDual":"dual_line","com.sap.vocabularies.UI.v1.ChartType/Combination":"combination","com.sap.vocabularies.UI.v1.ChartType/CombinationStacked":"stacked_combination","com.sap.vocabularies.UI.v1.ChartType/CombinationDual":"dual_combination","com.sap.vocabularies.UI.v1.ChartType/CombinationStackedDual":"dual_stacked_combination","com.sap.vocabularies.UI.v1.ChartType/HorizontalCombinationStacked":"horizontal_stacked_combination","com.sap.vocabularies.UI.v1.ChartType/Pie":"pie","com.sap.vocabularies.UI.v1.ChartType/Donut":"donut","com.sap.vocabularies.UI.v1.ChartType/Scatter":"scatter","com.sap.vocabularies.UI.v1.ChartType/Bubble":"bubble","com.sap.vocabularies.UI.v1.ChartType/Radar":"line","com.sap.vocabularies.UI.v1.ChartType/HeatMap":"heatmap","com.sap.vocabularies.UI.v1.ChartType/TreeMap":"treemap","com.sap.vocabularies.UI.v1.ChartType/Waterfall":"waterfall","com.sap.vocabularies.UI.v1.ChartType/Bullet":"bullet","com.sap.vocabularies.UI.v1.ChartType/VerticalBullet":"vertical_bullet","com.sap.vocabularies.UI.v1.ChartType/HorizontalWaterfall":"horizontal_waterfall","com.sap.vocabularies.UI.v1.ChartType/HorizontalCombinationDual":"dual_horizontal_combination","com.sap.vocabularies.UI.v1.ChartType/HorizontalCombinationStackedDual":"dual_horizontal_stacked_combination"};const l={"com.sap.vocabularies.UI.v1.ChartDimensionRoleType/Category":"category","com.sap.vocabularies.UI.v1.ChartDimensionRoleType/Series":"series","com.sap.vocabularies.UI.v1.ChartDimensionRoleType/Category2":"category2"};const u={formatJSONToString(e){if(!e){return undefined}let a=JSON.stringify(e);a=a.replace(new RegExp("{","g"),"\\{");a=a.replace(new RegExp("}","g"),"\\}");return a},formatChartType(e){return c[e?.$EnumMember]},formatDimensions(a){const t=a.getObject("./"),o=a.getModel(),i=s(a),n=[];let c=false;t.DimensionAttributes=t.DimensionAttributes||[];for(const a of t.Dimensions){const r=a.$PropertyPath;const s=o.getObject(`${i+r}@${"com.sap.vocabularies.Common.v1.Text"}`)||{};if(r.includes("/")){e.error(`$expand is not yet supported. Dimension: ${r} from an association cannot be used`)}if(s.$Path&&s.$Path.indexOf("/")>-1){e.error(`$expand is not yet supported. Text Property: ${s.$Path} from an association cannot be used for the dimension ${r}`);c=true}const u={key:r,textPath:!c?s.$Path:undefined,label:o.getObject(`${i+r}@${"com.sap.vocabularies.Common.v1.Label"}`),role:"category"};for(const e of t.DimensionAttributes){if(u.key===e.Dimension?.$PropertyPath){u.role=l[e.Role?.$EnumMember]||u.role;break}}const p=this.fetchCriticality(o,o.createBindingContext(i+r));u.criticality=this.formatJSONToString(p);n.push(u)}const u=new r(n);u.$$valueAsPromise=true;return u.createBindingContext("/")},fetchCriticality(e,a){const t="@com.sap.vocabularies.UI.v1";const o=e.getObject(`${t}.ValueCriticality`,a);let r,i;if(o){r={VeryPositive:[],Positive:[],Critical:[],VeryNegative:[],Negative:[],Neutral:[]};for(let e=0;e<o.length;e++){i=o[e];const a=i.Criticality;if(a?.$EnumMember.endsWith("VeryPositive")){r.VeryPositive.push(i.Value)}else if(a?.$EnumMember.endsWith("Positive")){r.Positive.push(i.Value)}else if(a?.$EnumMember.endsWith("Critical")){r.Critical.push(i.Value)}else if(a?.$EnumMember.endsWith("VeryNegative")){r.VeryNegative.push(i.Value)}else if(a?.$EnumMember.endsWith("Negative")){r.Negative.push(i.Value)}else{r.Neutral.push(i.Value)}}for(const e in r){if(r[e]?.length==0){delete r[e]}}}return r},formatMeasures(e){return e.getModel().getData()},getUiChart(e){return n(e,`@${"com.sap.vocabularies.UI.v1.Chart"}`)},getOperationAvailableMap(e,a){const t=e?.Actions||[];return JSON.stringify(o.getOperationAvailableMap(t,"chart",a))},getSortConditions:function(e,a,o,r){if(a&&t._isPresentationVariantAnnotation(o)&&a.SortOrder){const t={sorters:[]};const o=e.getPath().split("@")[0];a.SortOrder.forEach(function(){let a=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};let i="";if(a.DynamicProperty){i="_fe_aggregatable_"+e.getModel().getObject(o+a.DynamicProperty.$AnnotationPath)?.Name}else if(a.Property){const t=r.GroupableProperties;if(t&&t.length){for(let e=0;e<t.length;e++){if(t[e].$PropertyPath===a.Property.$PropertyPath){i="_fe_groupable_"+a.Property.$PropertyPath;break}if(!i){i="_fe_aggregatable_"+a.Property.$PropertyPath}}}else if(e.getModel().getObject(`${o+a.Property.$PropertyPath}@${"Org.OData.Aggregation.V1.Groupable"}`)){i="_fe_groupable_"+a.Property.$PropertyPath}else{i="_fe_aggregatable_"+a.Property.$PropertyPath}}if(i){const e={name:i,key:i,descending:!!a.Descending};t.sorters.push(e)}else{throw new Error("Please define the right path to the sort property")}});return t}return undefined},_getModel(e,a){return a.context},isDataFieldForActionButtonEnabled(e,a,t,r,i){if(e!==true){return"true"}const n=t.getModel();const s=t.getPath();const c=n.getObject(s).$Partner;const l=r&&JSON.parse(r);const u=l&&l[a]&&l[a].split("/");const p=o.getNumberOfContextsExpression(i);if(u&&u[0]===c){const e=l[a].replace(c+"/","");return"{= ${"+p+" && ${"+e+"}}"}else{return"{= ${"+p+"}"}},getHiddenPathExpressionForTableActionsAndIBN(e,a){const t=a.context,o=t.getPath(),r=i.getNavigationPath(o);if(e.indexOf("/")>0){const a=e.split("/");const o=a[0];if(t.getObject(r+"/$Partner")===o){return"{= !%{"+a.slice(1).join("/")+"} }"}}return true},getPressEventForDataFieldForActionButton(e,a,t){return o.getPressEventDataFieldForActionButton(e,a,{contexts:"${internal>selectedContexts}"},t)},getActionType(e){return((e["$Type"].includes("com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation")||e["$Type"].includes("com.sap.vocabularies.UI.v1.DataFieldForAction"))&&e["Inline"]).valueOf()},getCollectionName(e){const a=e.split("/");return a[a.length-1]}};u.getSortConditions.requiresIContext=true;return u},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/chart/ChartRuntime", ["sap/fe/core/ActionRuntime","sap/fe/macros/chart/ChartUtils","sap/fe/macros/DelegateUtil"],function(t,e,n){"use strict";const o={fnUpdateChart:function(o){const a=o.getSource();const s=a.getParent();let c,r={},i=[];s.getCustomData().forEach(function(t){if(t.getKey()==="operationAvailableMap"){r=n.getCustomData(s,"operationAvailableMap").customData}else if(t.getKey()==="multiSelectDisabledActions"){c=t.getValue();i=c?c.split(","):[]}});const l=s.getBindingContext("internal");const f=[];let g;const u=e.getChartSelectedData(a);for(let t=0;t<u.length;t++){f.push(u[t].context)}l.setProperty("selectedContexts",f);l.getModel().setProperty(`${l.getPath()}/numberOfSelectedContexts`,a.getSelectedDataPoints().count);for(let t=0;t<f.length;t++){const e=f[t];const n=e.getObject();for(const t in n){if(t.indexOf("#")===0){let e=t;e=e.substring(1,e.length);g=l.getObject();g[e]=true;l.setProperty("",g)}}g=l.getObject()}t.setActionEnablement(l,r,f,"chart");if(f.length>1){i.forEach(function(t){l.setProperty(t,false)})}}};return o},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/chart/ChartUtils", ["sap/fe/core/CommonUtils","sap/fe/macros/filter/FilterUtils","sap/ui/model/Filter","sap/ui/model/FilterOperator","../CommonHelper","../table/Utils"],function(t,e,n,i,r,s){"use strict";const o={getChartSelections:function(t,e){if(e){this.getChartModel(t,"",{})}const n=this.getChartModel(t,"filters");return n||[]},getChartFilters:function(t){const e=this.getChartSelections(t)||[];return new n(e)},setChartFilters:function(t){const e=this.getChartModel(t,"drillStack")||{};const r=t.getControlDelegate().getInnerChart(t);const s=[];let o;function l(t){for(const e in t){const r=[];for(const s in o){const l=o[s];const a=t[e].data[l];if(a!==undefined){r.push(new n({path:l,operator:i.EQ,value1:a}))}}if(r.length>0){s.push(new n(r,true))}}}if(r){const n=this.getVizSelection(r);o=r.getVisibleDimensions();const i=this.getDimensionsFromDrillStack(r);if(i.length>0){this.getChartModel(t,"drillStack",{});e[i.toString()]=n;this.getChartModel(t,"drillStack",e)}if(n.length>0){l(n)}else{const t=Object.keys(e)||[];const n=e[t[t.length-2]]||[];l(n)}this.getChartModel(t,"filters",s)}},getFilterBarFilterInfo:function(t){return e.getFilterInfo(t.getFilter(),{targetControl:t})},getAllFilterInfo:function(e){const n=this.getFilterBarFilterInfo(e);const i=this.getChartFilters(e);const o=s.getP13nFilters(e);const l=r.parseCustomData(e.data("selectionPresentationVariantPath"))?r.parseCustomData(e.data("selectionPresentationVariantPath")).data:"";const a=l?t.getFiltersFromAnnotation(e,l):null;if(i&&i.getFilters()?.length){n.filters.push(i)}if(o.length>0){o.forEach(t=>{const e=t.getFilters();if(e?.length&&e?.length>0){e.forEach(t=>{n.filters.push(t)})}else{n.filters.push(t)}})}if(a&&a.length>0){a.forEach(t=>{n.filters.push(t.aFilters[0])})}return n},getChartSelectedData:function(t){let e=[];switch(t.getSelectionBehavior()){case"DATAPOINT":e=t.getSelectedDataPoints().dataPoints;break;case"CATEGORY":e=t.getSelectedCategories().categories;break;case"SERIES":e=t.getSelectedSeries().series;break}return e},getChartModel:function(t,e,n){const i=t.getBindingContext("internal");if(!i){return false}if(n){i.setProperty(e,n)}return i&&i.getObject(e)},getDimensionsFromDrillStack:function(t){const e=t.getDrillStack()||[];const n=e.pop()||{};return n.dimension||[]},getVizSelection:function(t){return t&&t._getVizFrame()&&t._getVizFrame().vizSelection()||[]}};return o},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/chart/MdcChartTemplate", ["sap/base/Log","sap/base/util/deepClone","sap/base/util/merge","sap/base/util/uid","sap/fe/base/BindingToolkit","sap/fe/core/CommonUtils","sap/fe/core/buildingBlocks/templating/BuildingBlockTemplateProcessor","sap/fe/core/controls/CommandExecution","sap/fe/core/converters/ConverterContext","sap/fe/core/converters/ManifestSettings","sap/fe/core/converters/ManifestWrapper","sap/fe/core/converters/MetaModelConverter","sap/fe/core/converters/annotations/DataField","sap/fe/core/converters/controls/Common/Action","sap/fe/core/converters/controls/Common/DataVisualization","sap/fe/core/helpers/FPMHelper","sap/fe/core/helpers/ModelHelper","sap/fe/core/helpers/StableIdHelper","sap/fe/core/helpers/TypeGuards","sap/fe/core/templating/DataModelPathHelper","sap/fe/macros/CommonHelper","sap/m/Button","sap/m/FlexItemData","sap/m/IllustratedMessage","sap/m/IllustratedMessageSize","sap/m/IllustratedMessageType","sap/m/Menu","sap/m/MenuButton","sap/m/MenuItem","sap/m/OverflowToolbarLayoutData","sap/m/SegmentedButton","sap/m/SegmentedButtonItem","sap/ui/Device","sap/ui/core/CustomData","sap/ui/core/Element","sap/ui/core/Popup","sap/ui/fl/variants/VariantManagement","sap/ui/mdc/Chart","sap/ui/mdc/actiontoolbar/ActionToolbarAction","sap/ui/mdc/chart/Item","sap/ui/mdc/p13n/PersistenceProvider","sap/ui/model/json/JSONModel","../internal/helpers/ActionHelper","../internal/helpers/DefaultActionHandler","./ChartHelper","sap/fe/base/jsx-runtime/jsx"],function(e,t,n,a,o,i,r,s,c,l,u,d,p,g,f,h,m,b,v,y,C,A,_,M,P,x,D,T,O,I,S,B,k,V,j,E,$,w,F,N,L,U,H,z,R,G){"use strict";var W={};var K=E.Dock;var q=y.getTargetObjectPath;var J=y.getContextRelativeTargetObjectPath;var X=v.isPathAnnotationExpression;var Y=b.generate;var Q=f.getVisualizationsFromAnnotation;var Z=f.getDataVisualizationConfiguration;var ee=g.isMenuAIOperation;var te=g.aiIcon;var ne=p.isDataModelObjectPathForActionWithDialog;var ae=d.getInvolvedDataModelObjects;var oe=l.TemplateType;var ie=r.escapeXMLAttributeValue;var re=o.resolveBindingString;var se=o.pathInModel;var ce=o.notEqual;const le={"com.sap.vocabularies.UI.v1.ChartMeasureRoleType/Axis1":"axis1","com.sap.vocabularies.UI.v1.ChartMeasureRoleType/Axis2":"axis2","com.sap.vocabularies.UI.v1.ChartMeasureRoleType/Axis3":"axis3","com.sap.vocabularies.UI.v1.ChartMeasureRoleType/Axis4":"axis4"};var ue=function(e){e["Sort"]="Sort";e["Type"]="Type";e["Item"]="Item";e["Filter"]="Filter";return e}(ue||{});function de(e,t,n,a){let o=J(n);let i=[];if(e._metaPathContext?.getObject()?.$Type==="com.sap.vocabularies.UI.v1.PresentationVariantType"){i=e._metaPathContext.getObject().Visualizations}else if(e._metaPathContext?.getObject()?.$Type==="com.sap.vocabularies.UI.v1.SelectionPresentationVariantType"){i=e._metaPathContext.getObject().PresentationVariant?.Visualizations}if(i?.length&&!pe(i,a)){o=""}if(!o){o=`@${"com.sap.vocabularies.UI.v1.Chart"}`}const r=Z(o,t,{isCondensedTableLayoutCompliant:e.useCondensedLayout,isMacroOrMultipleView:true,shouldCreateTemplateChartVisualization:false});return r.visualizations[0]}function pe(e,t){return e.some(e=>t?.includes(e.$AnnotationPath))}function ge(e){return`${e}-content`}function fe(e,t){const n={};const a={};if(e.actions){Object.values(e.actions)?.forEach(e=>{if(e.isA("sap.fe.macros.chart.ActionGroup")){a[e.key]=he(e.key,e.text,null,false,true,{placement:e.placement,anchor:e.anchor},e.actions.map((t,n)=>e.key+"_Menu_"+n));e.actions?.forEach((t,n)=>{const o=e.key.concat("_Menu_",n);a[o]=he(o,t.text,t.press,!!t.requiresSelection,t.enabled===null||t.enabled===undefined?true:t.enabled)})}else if(e.isA("sap.fe.macros.chart.Action")){a[e.key]=he(e.key,e.text,e.press,!!e.requiresSelection,e.enabled===null||e.enabled==undefined?true:e.enabled,{placement:e.placement,anchor:e.anchor})}})}if(t&&e.actions){n[t]={actions:a}}return n}function he(e,t,n,a,o,i,r){const s={key:e,text:t,__noWrap:true,press:n,requiresSelection:a,enabled:o};if(i){s.position=i}if(r){s.menu=r}return s}function me(e){const t=`/${a()}`;const n=new U;n.setProperty(t,e);return n.createBindingContext(t)}function be(t){const n=t.chartDefinition.annotationPath.split("/");const a=n.filter(function(e,t){return n.indexOf(e)==t}).toString().replaceAll(",","/");const o=ae(t._metaModel.createBindingContext(a),t._context).targetObject;let i=[];const r=t._metaPathContext.getPath();const s=o?.Measures?o.Measures:[];const c=o?.DynamicMeasures?o.DynamicMeasures:[];const l=r.replace(/@com.sap.vocabularies.UI.v1.(Chart|PresentationVariant|SelectionPresentationVariant).*/,"");const u=t.chartDefinition.transAgg;const d=t.chartDefinition.customAgg;if(t.chartDefinition.containsAggregatedProperty&&!c&&t.chartDefinition.containsTransAggInMeasures){e.warning("The transformational aggregate measures are configured as Chart.Measures but should be configured as Chart.DynamicMeasures instead. Please check the SAP Help documentation and correct the configuration accordingly.")}const p=s.some(e=>{const t=Ae(d,e);return!!t});if(t.chartDefinition.containsAggregatedProperty&&!c?.length&&!p){throw new Error("Please configure DynamicMeasures for the chart")}if(t.chartDefinition.containsAggregatedProperty&&o){for(const e of c){i=Ce(i,e,l,o,t)}}for(const e of s){const n=e.value;const a=Ae(d,e);const o={};if(a){i=ve(i,o,a,n)}else if(!t.chartDefinition.containsAggregatedProperty&&u[n]){i=ye(i,o,u,n)}_e(t._chart.MeasureAttributes,l,o,t)}const g=new U(i);g.$$valueAsPromise=true;return g.createBindingContext("/")}function ve(t,n,a,o){if(o.includes("/")){e.error(`$expand is not yet supported. Measure: ${o} from an association cannot be used`)}n.key=a.value;n.role="axis1";n.label=a.label;n.propertyPath=a.value;t.push(n);return t}function ye(e,t,n,a){const o=n[a];t.key=o.name;t.role="axis1";t.propertyPath=a;t.aggregationMethod=o.aggregationMethod;t.label=o.label||t.label;e.push(t);return e}function Ce(t,n,a,o,i){const r=n.value||"";const s=ae(i._metaModel.createBindingContext(a+r),i._context).targetObject;if(r.includes("/")){e.error(`$expand is not yet supported. Measure: ${r} from an association cannot be used`)}else if(!s){throw new Error(`Please provide the right AnnotationPath to the Dynamic Measure ${n.value}`)}else if(n.value?.startsWith(`@${"com.sap.vocabularies.Analytics.v1.AggregatedProperty"}`)===null){throw new Error(`Please provide the right AnnotationPath to the Dynamic Measure ${n.value}`)}else{const e={key:s.Name.toString(),role:"axis1"};e.propertyPath=s.AggregatableProperty.value;e.aggregationMethod=s.AggregationMethod.toString();e.label=re(s.annotations?.Common?.Label?.toString()??s.AggregatableProperty.$target?.annotations?.Common?.Label?.toString()??"");_e(o.MeasureAttributes,a,e,i);t.push(e)}return t}function Ae(e,t){if(t.value&&e[t.value]){t.label=e[t.value]?.label;return t}return null}function _e(e,t,n,a){if(e?.length){for(const o of e){Me(o,t,n,a)}}}function Me(e,t,n,a){const o=e.DynamicMeasure?e?.DynamicMeasure?.value:e?.Measure?.value;const i=e.DataPoint?e?.DataPoint?.value:null;const r=e.Role;const s=i?ae(a._metaModel.createBindingContext(t+i),a._context).targetObject:undefined;if(n.key===o){Be(n,r);Se(n,s)}}function Pe(e){const t={};if(e.TargetValue){t.targetValue=e.TargetValue.$Path}if(e.ForecastValue){t.foreCastValue=e.ForecastValue.$Path}let n=null;if(e.Criticality){if(X(e.Criticality)&&e.Criticality.path){n={Calculated:e.Criticality.path}}else{n={Static:e.Criticality.$EnumMember.replace("com.sap.vocabularies.UI.v1.CriticalityType/","")}}}else if(e.CriticalityCalculation){const t={};const a=xe(t,e.CriticalityCalculation);if(a){n={ConstantThresholds:t}}else{n={DynamicThresholds:t}}}if(n){t.criticality=n}return t}function xe(e,t){const n=["AcceptanceRangeLowValue","AcceptanceRangeHighValue","ToleranceRangeLowValue","ToleranceRangeHighValue","DeviationRangeLowValue","DeviationRangeHighValue"];e.ImprovementDirection=t.ImprovementDirection?.$EnumMember.replace("com.sap.vocabularies.UI.v1.ImprovementDirectionType/","");const a={oneSupplied:false,usedMeasures:[]};const o={oneSupplied:false};De(n,a,o,t);Te(n,e,a,o,t);return!a.oneSupplied}function De(e,t,n,a){for(const o of e){t[o]=a[o]?a[o].$Path:undefined;t.oneSupplied=t.oneSupplied||t[o];if(!t.oneSupplied){n[o]=a[o];n.oneSupplied=n.oneSupplied||n[o]}else if(t[o]){t.usedMeasures.push(t[o])}}}function Te(e,t,n,a,o){if(n.oneSupplied){for(const a of e){if(n[a]){t[a]=n[a]}}t.usedMeasures=n.usedMeasures}else{t.AggregationLevels=[];Oe(e,t,a,o)}}function Oe(e,t,n,a){let o={};if(n.oneSupplied){o={VisibleDimensions:null};for(const t of e){if(n[t]){o[t]=n[t]}}t.AggregationLevels?.push(o)}Ie(e,t,a,o)}function Ie(e,t,n,a){if(n.ConstantThresholds&&n.ConstantThresholds.length>0){for(const o of n.ConstantThresholds){const n=o.AggregationLevel?[]:null;if(n&&o.AggregationLevel&&o.AggregationLevel.length>0){for(const e of o.AggregationLevel){n.push(e.$PropertyPath)}}a={VisibleDimensions:n};for(const t of e){const e=o[t];if(e){a[t]=e}}t.AggregationLevels?.push(a)}}}function Se(e,t){if(t&&t.Value.$Path==e.key){e.dataPoint=R.formatJSONToString(Pe(t))||""}}function Be(e,t){if(t!=null){const n=t.$EnumMember;e.role=le[n]}}function ke(e,t){if(e._commandActions.length>0){return e._commandActions.map(n=>Ne(n,t,e))}return""}function Ve(e,t){if(e){if(e==="false"||e===false){t._personalization=undefined}else if(e==="true"||e===true){t._personalization=Object.values(ue).join(",")}else if(je(e)===true){t._personalization=e}else{t._personalization=undefined}}}function je(e){let t=true;const n=e.split(",");const a=Object.values(ue);n.forEach(e=>{if(!a.includes(e)){t=false}});return t}function Ee(e){const t=e.variantManagement?e.variantManagement:e.chartDefinition.variantManagement;return e.personalization===undefined?"None":t}function $e(t){const n=t.personalization;if(n){const e=Ee(t);if(e==="Control"){return G($,{id:Y([t._blockId,"VM"]),for:[t._blockId],showSetAsDefault:true,headerLevel:t.headerLevel,select:e=>{t.fireVariantSelected?.(e)},save:e=>{t.fireVariantSaved?.(e)}})}else if(e==="None"||e==="Page"){return""}}else if(!n){e.warning("Variant Management cannot be enabled when personalization is disabled")}return""}function we(e){if(Ee(e)==="None"){return G(L,{id:Y([e._blockId,"PersistenceProvider"]),for:e._blockId})}}function Fe(e,t,n,a,o){if(t){const i={actionContext:e,onExecuteAction:R.getPressEventForDataFieldForActionButton(o._blockId,t,n||""),onExecuteIBN:C.getPressHandlerForDataFieldForIBN(t,`\${internal>selectedContexts}`,false),onExecuteManifest:C.buildActionWrapper(a,o),chartOperationAvailableMap:n};o._commandActions.push(i)}}function Ne(e,t,n){const a=e.actionContext.getObject();const o=a.annotationPath&&n._metaModel.createBindingContext(a.annotationPath);const i=o&&o.getObject();const r=n._metaModel.createBindingContext(a.annotationPath+"/Action");const c=C.getActionContext(r);const l=C.getPathToBoundActionOverload(r);const u=n._metaModel.createBindingContext(l).getObject();const d=ie(R.getOperationAvailableMap(t.getObject(),{context:t}));const p=a.enabled?a.enabled:R.isDataFieldForActionButtonEnabled(u&&u.$IsBound,i.Action,n._context,d||"",a.enableOnSelect||"");let g;if(a.enabled){g=a.enabled}else if(i.RequiresContext){g="{= %{internal>numberOfSelectedContexts} >= 1}"}let f;switch(a.type){case"ForAction":f=p??a.enabled;break;case"ForNavigation":f=g??a.enabled;break;default:f=a.enabled;break}const h=G(s,{execute:t=>Le(t,a,n._blockId,e.chartOperationAvailableMap,i),enabled:f,visible:ut(o,n)??a.visible,command:a.command});if(a.type=="ForAction"&&(!u||u.IsBound!==true||c[`@${"Org.OData.Core.V1.OperationAvailable"}`]!==false)){return h}else if(a.type=="ForAction"){return""}else{return h}}function Le(e,t,n,a,o){const r=i.getTargetView(e.getSource());const s=r?.getController();switch(t.type){case"ForAction":const i=t.InvocationGrouping&&t.InvocationGrouping.$EnumMember==="com.sap.vocabularies.UI.v1.OperationGroupingType/ChangeSet"?"ChangeSet":"Isolated";const c={contexts:r.getBindingContext("internal")?.getProperty("selectedContexts"),invocationGrouping:i,controlId:n,operationAvailableMap:a,model:r.getModel(),label:o.Label};s.editFlow.invokeAction(o.Action,c);break;case"ForNavigation":const l={navigationContexts:r.getBindingContext("internal")?.getProperty("selectedContexts")};if(o.Mapping){l.semanticObjectMapping=JSON.stringify(o.Mapping)}s._intentBasedNavigation.navigate(o.SemanticObject,o.Action,l);break;default:h.actionWrapper(e,t.handlerModule,t.handlerMethod,{contexts:r.getBindingContext("internal")?.getProperty("selectedContexts")});break}}function Ue(e){if(e._chart){const t=[];const n=[];if(e._chart.Dimensions){R.formatDimensions(e._chartContext).getObject().forEach(n=>{n.id=Y([e.id,"dimension",n.key]);t.push(He({id:n.id,key:n.key,label:n.label,role:n.role},"_fe_groupable_","groupable"))})}if(e.measures){R.formatMeasures(e.measures).forEach(t=>{t.id=Y([e.id,"measure",t.key]);n.push(He({id:t.id,key:t.key,label:t.label,role:t.role},"_fe_aggregatable_","aggregatable"))})}if(t.length&&n.length){return t.concat(n)}}return""}function He(e,t,n){return G(N,{id:e.id,propertyKey:t+e.key,type:n,label:re(e.label,"string"),role:e.role})}function ze(e){const t=Ge(e);if(e.chartDefinition?.onSegmentedButtonPressed){t.push(rt(e))}if(e.chartDefinition.isInsightsEnabled){t.push(Re(e.chartDefinition.isInsightsEnabled,e.chartDefinition.isInsightsVisible,e._blockId,e))}if(t.length>0){return t}return[]}function Re(e,t,n,a){return G(F,{visible:t,children:G(A,{id:Y([n,"StandardAction::Insights"]),text:"{sap.fe.i18n>M_COMMON_INSIGHTS_CARD}",press:()=>{a.onAddCardToInsightsPressed()},enabled:e,children:{layoutData:G(I,{priority:"AlwaysOverflow"})}})})}function Ge(e){const t=We(e.chartActions??[]);const n=H.ensurePrimaryActionNeverOverflows(t);return n.map(t=>{if(t.annotationPath||t.type==="Menu"&&!t.id?.startsWith("CustomAction")){return Xe(t,e._chartContext,false,e)}else if(t.hasOwnProperty("noWrap")){return Ke(t,e._chartContext,e)}})}function We(e){for(const t of e){if(t.menu){t.menu.forEach(t=>{const n=e.map(e=>e.key).indexOf(t.key);if(n!==-1){e.splice(n,1)}})}}return e}function Ke(e,t,n){let a=e.enabled;if((e.requiresSelection??false)&&e.enabled==="true"){a="{= %{internal>numberOfSelectedContexts} >= 1}"}if(e.type==="Default"){return Ze(e,{id:Y([n._blockId,e.id]),unittestid:"DataFieldForActionButtonAction",label:e.text?e.text:"",ariaHasPopup:undefined,press:e.press?e.press:"",enabled:a,visible:e.visible?e.visible:false},false,n)}else if(e.type==="Menu"){return Je({id:Y([n._blockId,e.id]),text:e.text,visible:e.visible,enabled:a,useDefaultActionOnly:z.getUseDefaultActionOnly(e),buttonMode:z.getButtonMode(e),defaultAction:undefined,actions:e,priority:e.priority,group:e.group},t,n)}}function qe(e,t,n){let a;if(e.annotationPath){return Xe(e,t,true,n)}if(e.command){a={"jsx:command":`cmd:${e.command}|press`}}else if(e.noWrap??false){a={press:t=>{const n=e.handlerMethod?.split(".")[1];const a={...i.getTargetView(t.getSource()).getController()};if(a[n])a[n](t)}}}else{a={press:t=>{const n=i.getTargetView(t.getSource()).getBindingContext("internal")?.getProperty("selectedContexts");h.actionWrapper(t,e.handlerModule,e.handlerMethod,{contexts:n})}}}return G(O,{text:e.text,...a,visible:e.visible,enabled:e.enabled})}function Je(e,t,n){const a=(e.actions?.menu).map(e=>qe(e,t,n));const o=ee(e.actions?.menu);return G(F,{children:G(T,{text:e.text,type:"Transparent",id:e.id,visible:e.visible,enabled:e.enabled,useDefaultActionOnly:e.useDefaultActionOnly,buttonMode:e.buttonMode,menuPosition:K.BeginBottom,defaultAction:"props.defaultAction",icon:o?te:undefined,children:{menu:G(D,{children:a}),layoutData:G(I,{priority:e.priority,group:e.group})}})})}function Xe(e,t,n,a){const o=a._metaModel.createBindingContext(e.annotationPath??"");if(e.type==="ForNavigation"){return Ye(e,o,n,a)}else if(e.type==="ForAction"){return Qe(t,e,o,n,a)}else if(e.type==="Menu"){const n=e.menu?.map(e=>Xe(e,t,true,a));return G(F,{children:G(T,{text:e.text,type:"Transparent",id:e.key,visible:e.visible,enabled:e.enabled,menuPosition:K.BeginBottom,icon:e?.isAIOperation===true?te:undefined,children:{menu:G(D,{children:n}),layoutData:G(I,{priority:e.priority,group:e.group})}})})}return undefined}function Ye(e,t,n,a){let o="true";const i=t.getObject();if(e.enabled!==undefined){o=e.enabled}else if(i.RequiresContext){o="{= %{internal>numberOfSelectedContexts} >= 1}"}return Ze(e,{id:undefined,unittestid:"DataFieldForIntentBasedNavigationButtonAction",label:i.Label,ariaHasPopup:undefined,press:C.getPressHandlerForDataFieldForIBN(i,`\${internal>selectedContexts}`,false),enabled:o,visible:ut(t,a)},n,a,i)}function Qe(e,t,n,a,o){const i=o._metaModel.createBindingContext(t.annotationPath+"/Action");const r=o._metaModel.createBindingContext(C.getActionContext(i));const s=r?.getObject();const c=C.getPathToBoundActionOverload(i);const l=o._metaModel.createBindingContext(c).getObject();const u=n.getObject();if(!l||l.$IsBound!==true||s[`@${"Org.OData.Core.V1.OperationAvailable"}`]!==false){const i=it(t,l,u,e,o._context);const r=ae(o._metaModel.createBindingContext(t.annotationPath));const s=ne(r);const c=ie(R.getOperationAvailableMap(e.getObject(),{context:e}))||"";return Ze(t,{id:Y([o._blockId,ae(n)]),unittestid:"DataFieldForActionButtonAction",label:u.Label,ariaHasPopup:s,enabled:i,visible:ut(n,o)},a,o,u,c)}return undefined}function Ze(e,t,n,a,o,r){if(n){const n=e.command?{"jsx:command":`cmd:${e.command}|press`}:{press:t=>{const n=i.getTargetView(t.getSource());const s=n.getController();if(e.type==="ForAction"){const e={contexts:n.getBindingContext("internal")?.getProperty("selectedContexts"),invocationGrouping:o?.InvocationGrouping==="UI.OperationGroupingType/ChangeSet"?"ChangeSet":"Isolated",controlId:a._blockId,operationAvailableMap:r,model:n.getModel(),label:o?.Label};s.editFlow.invokeAction(o?.Action,e)}else if(e.type==="ForNavigation"){const e={navigationContexts:n.getBindingContext("internal")?.getProperty("selectedContexts")};if(o?.Mapping){e.semanticObjectMapping=JSON.stringify(o.Mapping)}s._intentBasedNavigation.navigate(o.SemanticObject,o.Action,e)}}};return G(O,{text:t.label,...n,enabled:t.enabled,visible:t.visible})}else{return et(e,t,a,o,r)}}function et(e,t,n,a,o){return G(F,{children:G(A,{id:t.id,text:t.label,ariaHasPopup:t.ariaHasPopup,...tt(e,a,o,n),enabled:t.enabled,visible:t.visible,icon:e.isAIOperation===true?te:undefined,children:{layoutData:G(I,{priority:e.priority,group:e.group})}})})}function tt(e,t,n,a){let o={press:""};if(e.hasOwnProperty("noWrap")){if(e.command){o={"jsx:command":`cmd:${e.command}|press`}}else if(e.noWrap===true){o=nt(e)}else if(!e.annotationPath){o=at(e)}}else{o=e.command?{"jsx:command":`cmd:${e.command}|press`}:ot(e,t,a,n)}return o}function nt(e){return{press:t=>{const n=e.handlerMethod?.split(".")[1];const a={...i.getTargetView(t.getSource()).getController()};if(a[n])a[n](t)}}}function at(e){return{press:t=>{const n=t.getSource().getBindingContext("internal")?.getProperty("selectedContexts");h.actionWrapper(t,e.handlerModule,e.handlerMethod,{contexts:n})}}}function ot(e,t,n,a){return{press:o=>{const r=i.getTargetView(o.getSource());const s=r.getController();if(e.type==="ForAction"){const e={contexts:r.getBindingContext("internal")?.getProperty("selectedContexts"),invocationGrouping:t?.InvocationGrouping==="UI.OperationGroupingType/ChangeSet"?"ChangeSet":"Isolated",controlId:n?._blockId,operationAvailableMap:a,model:r.getModel(),label:t?.Label};s.editFlow.invokeAction(t?.Action,e)}else if(e.type==="ForNavigation"){const e={navigationContexts:r.getBindingContext("internal")?.getProperty("selectedContexts")};if(t?.Mapping){e.semanticObjectMapping=JSON.stringify(t.Mapping)}s._intentBasedNavigation.navigate(t.SemanticObject,t.Action,e)}}}}function it(e,t,n,a,o){return e.enabled!==undefined?e.enabled:R.isDataFieldForActionButtonEnabled(t&&t.$IsBound,n.Action,o,R.getOperationAvailableMap(a.getObject(),{context:a}),e.enableOnSelect||"")}function rt(e){return G(F,{layoutInformation:{aggregationName:"end",alignment:"End"},children:G(S,{id:Y([e._blockId,"SegmentedButton","TemplateContentView"]),selectionChange:t=>{e.fireSegmentedButtonPressed?.(n(t.getParameters(),{selectedKey:t.getSource().getSelectedKey()}))},visible:ce(se("alpContentView","pageInternal"),"Table"),selectedKey:se("alpContentView","pageInternal"),children:{items:st()}})})}function st(){const e=[];if(C.isDesktop()){e.push(ct("{sap.fe.i18n>M_COMMON_HYBRID_SEGMENTED_BUTTON_ITEM_TOOLTIP}","Hybrid","sap-icon://chart-table-view"))}e.push(ct("{sap.fe.i18n>M_COMMON_CHART_SEGMENTED_BUTTON_ITEM_TOOLTIP}","Chart","sap-icon://bar-chart"));e.push(ct("{sap.fe.i18n>M_COMMON_TABLE_SEGMENTED_BUTTON_ITEM_TOOLTIP}","Table","sap-icon://table-view"));return e}function ct(e,t,n){return G(B,{tooltip:e,icon:n},t)}function lt(t,n){const a=J(t);if(!a){e.error(`Missing metaPath parameter for Chart`);return`@${"com.sap.vocabularies.UI.v1.Chart"}`}if(t.targetObject?.term==="com.sap.vocabularies.UI.v1.Chart"){return a}const o=n.getEntityTypeAnnotation(a);let i=[];switch(t.targetObject?.term){case"com.sap.vocabularies.UI.v1.SelectionPresentationVariant":if(t.targetObject.PresentationVariant){i=Q(t.targetObject,a,o.converterContext,true)}break;case"com.sap.vocabularies.UI.v1.PresentationVariant":i=Q(t.targetObject,a,o.converterContext,true);break;default:break}const r=i.find(e=>e.visualization.term==="com.sap.vocabularies.UI.v1.Chart");if(r){return r.annotationPath}else{e.error(`Bad metaPath parameter for chart: ${t.targetObject?.term}`);return`@${"com.sap.vocabularies.UI.v1.Chart"}`}}function ut(e,t){const n=e.getObject();if(n[`@${"com.sap.vocabularies.UI.v1.Hidden"}`]&&n[`@${"com.sap.vocabularies.UI.v1.Hidden"}`].$Path){const a=t._metaModel.createBindingContext(e.getPath()+`/@${"com.sap.vocabularies.UI.v1.Hidden"}/$Path`,n[`@${"com.sap.vocabularies.UI.v1.Hidden"}`].$Path);return R.getHiddenPathExpressionForTableActionsAndIBN(n[`@${"com.sap.vocabularies.UI.v1.Hidden"}`].$Path,{context:a})}else if(n[`@${"com.sap.vocabularies.UI.v1.Hidden"}`]){return!n[`@${"com.sap.vocabularies.UI.v1.Hidden"}`]}else{return true}}function dt(e,a,o,i,r){let s=Object.assign({},a);delete s.resourceModel;delete s.appComponent;s=t(s);let l={};const d=q(o.contextLocation??o);const p=o.contextLocation?.targetEntitySet?.name??o.targetEntitySet?.name;if(d===a?.contextPath||d===`/${a?.entitySet}`||p===a?.entitySet){l=s.controlConfiguration}s.controlConfiguration=n(l,r||{});return c.createConverterContextForMacro(o.startingEntitySet.name,e._metaModel,i,n,o.contextLocation,new u(s))}function pt(e,t,n,a){const o=dt(e,t,n,a);const i=lt(n,o);const r=fe(e,i);return dt(e,t,n,a,r)}function gt(e){if(e._applyIdToContent){e._blockId=e.id.replace(/::Chart$/,"");e._contentId=e._blockId}else{e._blockId=e.id;e._contentId=ge(e.id)}}function ft(e,t,n,a){const o=e.getMetaPathObject(e.metaPath,e._resolvedContextPath);e._metaModel=e._getOwner()?.preprocessorContext?.models.metaModel;e._metaPathContext=e._metaModel.createBindingContext(o.getPath());e._context=e._metaModel.createBindingContext(e.contextPath??o?.getContextPath());const i=pt(e,t,a,n);const r=i.getManifestWrapper()?.getViewConfiguration();const s=r?.paths?.length>1;const c=i.getManifestWrapper()?.hasMultipleVisualizations()||i.getTemplateType()===oe.AnalyticalListPage;e._chartContext=R.getUiChart(e._metaPathContext);e._chart=e._chartContext.getObject();e._blockActions=[];e._commandActions=[];gt(e);if(e._chart){e.chartDefinition=de(e,i,a,e._chartContext.getPath());const t=e._metaModel.createBindingContext(e.chartDefinition.collection);e.navigationPath=e.chartDefinition.navigationPath;e.autoBindOnInit=e.chartDefinition.autoBindOnInit;e.vizProperties=e.chartDefinition.vizProperties;e.chartActions=e.chartDefinition.actions;e.filter=ht(e);let n;if(e.chartDefinition?.personalization!==undefined){n=e.chartDefinition.personalization}else{switch(e.personalization){case"false":n=undefined;break;case"true":n=Object.values(ue).join(",");break;default:n=e.personalization}}Ve(n,e);e.visible=e.chartDefinition.visible;e.draftSupported=m.isMetaPathDraftSupported(o);e._chartType=R.formatChartType(e._chart.ChartType);const r=R.getOperationAvailableMap(e._chart,{context:e._chartContext});if(Object.keys(e.chartDefinition?.commandActions).length>0){Object.keys(e.chartDefinition?.commandActions).forEach(t=>{const n=e.chartDefinition?.commandActions[t];const a=me(n);const o=n.annotationPath&&e._metaModel.createBindingContext(n.annotationPath);const i=o&&o.getObject();const s=ie(r);Fe(a,i,s,n,e)})}e.measures=be(e);const l=C.createPresentationPathContext(e._metaPathContext);e._sortConditions=R.getSortConditions(e._metaPathContext,e._metaPathContext.getObject(),l.getPath(),e.chartDefinition.applySupported);const u=e._metaModel.createBindingContext(e._chartContext.getPath()+"/Actions",e._chart.Actions);const d=C.getTargetCollectionPath(t);const p=e._metaModel.createBindingContext(d,t);const g=a.convertedTypes.resolvePath(u.getPath())?.target;e._customData={targetCollectionPath:e.chartDefinition.collection,entitySet:typeof p.getObject()==="string"?p.getObject():p.getObject("@sapui.name"),entityType:e.chartDefinition.collection+"/",operationAvailableMap:JSON.parse(r),multiSelectDisabledActions:H.getMultiSelectDisabledActions(g)+"",segmentedButtonId:Y([e._blockId,"SegmentedButton","TemplateContentView"]),customAgg:e.chartDefinition?.customAgg,transAgg:e.chartDefinition?.transAgg,applySupported:e.chartDefinition?.applySupported,vizProperties:JSON.parse(e.vizProperties),draftSupported:e.draftSupported,multiViews:e.chartDefinition?.multiViews||!c&&s,selectionPresentationVariantPath:{data:e.chartDefinition?.selectionPresentationVariantPath},chartDimensionKeyAndRole:e.chartDefinition?.chartDimensionKeyAndRole,chartMeasureKeyAndRole:e.chartDefinition?.chartMeasureKeyAndRole};if(e.chartDefinition.isParameterizedEntitySet){e._customData.entitySet=e.chartDefinition.collection.substring(1)}}else{e.autoBindOnInit=false;e.visible="true";e.navigationPath="";e._customData={targetCollectionPath:"",entitySet:"",entityType:"",operationAvailableMap:"",multiSelectDisabledActions:"",segmentedButtonId:"",customAgg:{},transAgg:{},applySupported:{},vizProperties:{}}}}function ht(e){const t=j.getElementById(e.filterBar);if(e.filterBar&&t?.isA("sap.fe.macros.filterBar.FilterBarAPI")){return ge(e.filterBar)}else if(t?.isA("sap.fe.macros.controls.FilterBar")){return e.filterBar}else if(e.filterBar){return ge(e.filterBar)}}function mt(e){if(e.chartDelegate){e.chartDelegate.payload.selectionMode=e.chartDefinition.selectionMode?.toUpperCase()??e.chartDelegate.payload.selectionMode??"MULTIPLE"}return e.chartDelegate?e.chartDelegate:{name:"sap/fe/macros/chart/ChartDelegate",payload:{chartContextPath:e._customData.targetCollectionPath,parameters:{$$groupId:"$auto.Workers"},selectionMode:e.chartDefinition.selectionMode?.toUpperCase()??e.selectionMode?.toUpperCase()??"MULTIPLE"}}}function bt(e){return[G(V,{value:e._customData.targetCollectionPath},"targetCollectionPath"),G(V,{value:e._customData.entitySet},"entitySet"),G(V,{value:e._customData.entityType},"entityType"),G(V,{value:e._customData.operationAvailableMap},"operationAvailableMap"),G(V,{value:e._customData.multiSelectDisabledActions},"multiSelectDisabledActions"),G(V,{value:e._customData.segmentedButtonId},"segmentedButtonId"),G(V,{value:e._customData.customAgg},"customAgg"),G(V,{value:e._customData.transAgg},"transAgg"),G(V,{value:e._customData.applySupported},"applySupported"),G(V,{value:e._customData.vizProperties},"vizProperties"),G(V,{value:e._customData.draftSupported},"draftSupported"),G(V,{value:e._customData.multiViews},"multiViews"),G(V,{value:e._customData.selectionPresentationVariantPath},"selectionPresentationVariantPath"),G(V,{value:e._customData.chartDimensionKeyAndRole},"chartDimensionKeyAndRole"),G(V,{value:e._customData.chartMeasureKeyAndRole},"chartMeasureKeyAndRole")]}function vt(e){if(e._customData.targetCollectionPath===""){return}return G(M,{illustrationSize:P.Auto,illustrationType:x.BeforeSearch,title:e.getTranslatedText("T_TABLE_AND_CHART_NO_DATA_TITLE_TEXT"),description:e.getTranslatedText("T_TABLE_AND_CHART_NO_DATA_TEXT"),enableDefaultTitleAndDescription:false,enableVerticalResponsiveness:true})}function yt(e,t,n,a){ft(e,t,n,a);e.layoutData=G(_,{growFactor:"1",shrinkFactor:"1"});return G(w,{binding:{internal:"controls/"+e._blockId},id:e._contentId,chartType:e._chartType,sortConditions:e._sortConditions,header:e.chartDefinition.header??e.header??e._chart?.Title?.toString()??"",headerVisible:e.chartDefinition.headerVisible??e.headerVisible,minHeight:k.system.phone?"80vh":"400px",height:"100%",width:"100%",headerLevel:e.headerLevel,headerStyle:e.headerStyle,p13nMode:e._personalization?.split(","),filter:e.filter,noDataText:e._customData.targetCollectionPath===""?e.getTranslatedText("M_CHART_NO_ANNOTATION_SET_TEXT"):e.noDataText,autoBindOnInit:e.autoBindOnInit,delegate:mt(e),visible:e.visible,children:{customData:bt(e),dependents:[ke(e,e._chartContext),we(e)],items:Ue(e),actions:e.chartActions?ze(e):e._blockActions,variant:$e(e),noData:vt(e)}})}W.getMdcChartTemplate=yt;return W},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/chart/adapter/ChartPvToStateUtils", [],function(){"use strict";const e={convertPvToStateUtilPv:(t,r,s)=>{const n=t.getChartVisualization();const i=t.getProperties();const o=r.getChartVisualization();const a=r.getProperties();let l=[];let u=[];l=e._overrideExistingSorters(i?.SortOrder??[],a?.SortOrder??[],s??[]);u=e._overrideExistingItems(n,o);return{items:u,sorters:l,supplementaryConfig:{properties:{chartType:e._getCharsAfterSlashInLowerCase(n?.Content?.ChartType)}}}},_getCharsAfterSlashInLowerCase:e=>{if(e==undefined){return undefined}return e.split("/")[1].toLowerCase()},_getPropertyNameWithPrefix:(e,t)=>{let r;for(const s of t){r=s.name;if(r?.includes(e)){break}}return r??e},_overrideExistingSorters:(t,r,s)=>{const n=[];const i=t.map(t=>{n.push(t.Property);return{descending:t.Descending,key:e._getPropertyNameWithPrefix(t.Property,s),name:e._getPropertyNameWithPrefix(t.Property,s)}});const o=r.filter(e=>!n.includes(e.Property)).map(t=>({descending:t.Descending,key:e._getPropertyNameWithPrefix(t.Property,s),name:e._getPropertyNameWithPrefix(t.Property,s),sorted:false}));return[...i,...o]},_overrideExistingItems:(t,r)=>{const s=e._overrideExistingItemsMeasures(t,r);const n=e._overrideExistingItemsDimensions(t,r);return[...s,...n]},_overrideExistingItemsMeasures:(t,r)=>{const s=[];const n=t?.Content?.MeasureAttributes.map(t=>{s.push(t.Measure);return{name:"_fe_aggregatable_"+t.Measure,role:e._getCharsAfterSlashInLowerCase(t.Role)}})??[];const i=r?.Content?.MeasureAttributes.filter(e=>!s.includes(e.Measure)).map(t=>({name:"_fe_aggregatable_"+t.Measure,role:e._getCharsAfterSlashInLowerCase(t.Role),visible:false}))??[];return[...n,...i]},_overrideExistingItemsDimensions:(t,r)=>{const s=[];const n=t?.Content?.DimensionAttributes.map(t=>{s.push(t.Dimension);return{name:"_fe_groupable_"+t.Dimension,role:e._getCharsAfterSlashInLowerCase(t.Role)}})??[];const i=r?.Content?.DimensionAttributes.filter(e=>!s.includes(e.Dimension)).map(t=>({name:"_fe_groupable_"+t.Dimension,role:e._getCharsAfterSlashInLowerCase(t.Role),visible:false}))??[];return[...n,...i]}};return{convertPvToStateUtilPv:e.convertPvToStateUtilPv}},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/contact/CollaborativeHeader", ["sap/fe/base/ClassSupport","sap/fe/core/buildingBlocks/BuildingBlock","sap/m/Avatar","sap/m/AvatarShape","sap/m/HBox","sap/m/Text","sap/m/Title","sap/m/VBox","sap/ui/performance/trace/FESRHelper","sap/fe/base/jsx-runtime/jsx","sap/fe/base/jsx-runtime/jsxs"],function(e,t,a,i,r,n,o,l,s,u,c){"use strict";var p,f,b,d,g,h,m,v,y,S,z,w,B;var T={};var C=e.property;var j=e.defineUI5Class;function P(e,t,a,i){a&&Object.defineProperty(e,t,{enumerable:a.enumerable,configurable:a.configurable,writable:a.writable,value:a.initializer?a.initializer.call(i):void 0})}function x(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,O(e,t)}function O(e,t){return O=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},O(e,t)}function N(e,t,a,i,r){var n={};return Object.keys(i).forEach(function(e){n[e]=i[e]}),n.enumerable=!!n.enumerable,n.configurable=!!n.configurable,("value"in n||n.initializer)&&(n.writable=!0),n=a.slice().reverse().reduce(function(a,i){return i(e,t,a)||a},n),r&&void 0!==n.initializer&&(n.value=n.initializer?n.initializer.call(r):void 0,n.initializer=void 0),void 0===n.initializer?(Object.defineProperty(e,t,n),null):n}function I(e,t){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let k=(p=j("sap.fe.macros.contact.CollaborativeHeader"),f=C({type:"string",isBindingInfo:true}),b=C({type:"string",isBindingInfo:true}),d=C({type:"string",isBindingInfo:true}),g=C({type:"string"}),h=C({type:"boolean",defaultValue:false}),p(m=(v=function(e){function t(t,a){var i;i=e.call(this,t,a)||this;P(i,"fullName",y,i);P(i,"role",S,i);P(i,"photoSrc",z,i);P(i,"mail",w,i);P(i,"isNaturalPerson",B,i);return i}T=t;x(t,e);var p=t.prototype;p.onMetadataAvailable=function e(){this.createContent()};p.addProfileStatus=async function e(t){const a=this.getAppComponent();if(a){const e=await a.getCollaborativeToolsService().getTeamContactStatus(t);const i=await a.getCollaborativeToolsService().getTeamContactOption("chat");if(e&&i){e.forEach(e=>{if(e.key==="profileStatus"){if(this.avatar){this.avatar.data("type",i.key);this.avatar.data("email",this.mail);this.avatar.setBadgeIcon(e.badgeIcon);this.avatar.setBadgeValueState(e.badgeValueState);this.avatar.setTooltip(e.badgeTooltip);this.avatar.setBadgeTooltip(e.badgeTooltip);s.setSemanticStepname(this.avatar,"press",i.fesrStepName)}}})}}};p.setMail=function e(t){this.mail=t;this.addProfileStatus(t)};p.createContent=function e(){this.avatar=u(a,{src:this.photoSrc,displaySize:"M",displayShape:this.isNaturalPerson?i.Circle:i.Square,class:"sapUiTinyMarginEnd"});const t=c(r,{children:[this.avatar,c(l,{class:"sapUiTinyMarginBegin",children:[u(o,{text:this.fullName,level:"H3",wrapping:"true"}),u(n,{text:this.role})]})]});this.content=t};return t}(t),y=N(v.prototype,"fullName",[f],{configurable:true,enumerable:true,writable:true,initializer:null}),S=N(v.prototype,"role",[b],{configurable:true,enumerable:true,writable:true,initializer:null}),z=N(v.prototype,"photoSrc",[d],{configurable:true,enumerable:true,writable:true,initializer:null}),w=N(v.prototype,"mail",[g],{configurable:true,enumerable:true,writable:true,initializer:null}),B=N(v.prototype,"isNaturalPerson",[h],{configurable:true,enumerable:true,writable:true,initializer:null}),v))||m);T=k;return T},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/contact/Contact", ["sap/fe/base/BindingToolkit","sap/fe/base/ClassSupport","sap/fe/core/buildingBlocks/BuildingBlock","sap/fe/core/helpers/StableIdHelper","sap/fe/core/templating/DataModelPathHelper","sap/fe/macros/contact/ContactHelper","sap/ui/mdc/Field","sap/ui/mdc/Link","sap/fe/base/jsx-runtime/jsx"],function(e,t,i,r,a,n,o,l,s){"use strict";var u,c,f,p,d,b,h,m,g,y,v,P,x;var w={};var z=n.getMsTeamsMail;var I=a.getRelativePaths;var O=r.generate;var j=t.property;var E=t.defineUI5Class;var C=t.association;var _=e.getExpressionFromAnnotation;var M=e.compileExpression;function D(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function k(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,B(e,t)}function B(e,t){return B=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},B(e,t)}function F(e,t,i,r,a){var n={};return Object.keys(r).forEach(function(e){n[e]=r[e]}),n.enumerable=!!n.enumerable,n.configurable=!!n.configurable,("value"in n||n.initializer)&&(n.writable=!0),n=i.slice().reverse().reduce(function(i,r){return r(e,t,i)||i},n),a&&void 0!==n.initializer&&(n.value=n.initializer?n.initializer.call(a):void 0,n.initializer=void 0),void 0===n.initializer?(Object.defineProperty(e,t,n),null):n}function H(e,t){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let T=(u=E("sap.fe.macros.contact.Contact"),c=C({type:"string"}),f=j({type:"string",required:true}),p=j({type:"string"}),d=j({type:"boolean"}),b=C({type:"string"}),u(h=(m=function(e){function t(t,i){var r;r=e.call(this,t,i)||this;D(r,"idPrefix",g,r);D(r,"metaPath",y,r);D(r,"contextPath",v,r);D(r,"showEmptyIndicator",P,r);D(r,"_flexId",x,r);return r}w=t;k(t,e);var i=t.prototype;i.onMetadataAvailable=function e(){if(!this.content){const e=this.createContent();if(e){this.content=e}}};i.getEnabled=function e(){return true};i.createContent=function e(){let t;if(this._flexId){t=this._flexId}else{t=this.idPrefix?O([this.idPrefix,"Field-content"]):undefined}const i=this.getDataModelObjectForMetaPath(this.metaPath,this.contextPath);if(!i){return null}const r=!!i.targetEntityType?.annotations?.Common?.IsNaturalPerson?.valueOf();const a=_(i.targetObject?.fn,I(i));const n={name:"sap/fe/macros/contact/ContactDelegate",payload:{contact:this.metaPath,mail:z(i),isNaturalPerson:r}};return s(o,{delegate:{name:"sap/fe/macros/field/FieldBaseDelegate"},id:t,editMode:"Display",width:"100%",showEmptyIndicator:this.showEmptyIndicator,value:M(a),multipleLines:true,children:{fieldInfo:s(l,{enablePersonalization:"false",delegate:n})}})};i.getValue=function e(){return this.content?.getValue()};return t}(i),g=F(m.prototype,"idPrefix",[c],{configurable:true,enumerable:true,writable:true,initializer:null}),y=F(m.prototype,"metaPath",[f],{configurable:true,enumerable:true,writable:true,initializer:null}),v=F(m.prototype,"contextPath",[p],{configurable:true,enumerable:true,writable:true,initializer:null}),P=F(m.prototype,"showEmptyIndicator",[d],{configurable:true,enumerable:true,writable:true,initializer:null}),x=F(m.prototype,"_flexId",[b],{configurable:true,enumerable:true,writable:true,initializer:null}),m))||h);w=T;return w},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/contact/ContactDelegate", ["sap/fe/core/CommonUtils","sap/ui/core/Fragment","sap/ui/core/util/XMLPreprocessor","sap/ui/core/XMLTemplateProcessor","sap/ui/mdc/enums/LinkType","sap/ui/mdc/LinkDelegate","sap/ui/model/json/JSONModel"],function(e,t,n,o,i,a,s){"use strict";return Object.assign({},a,{_fnTemplateFragment:async function(i,a,c){const r="sap.fe.macros.contact.ContactQuickView";const d=e.getTargetView(c);const g=e.getAppComponent(d);const l={bindingContexts:{},models:{},appComponent:g};const u=a.createBindingContext(i.contact);const p=new s(i);if(i.contact&&u){l.bindingContexts={contact:u,payload:p.createBindingContext("/")};l.models={contact:a,payload:p}}const m=o.loadTemplate(r,"fragment");const f=d.getController().getOwnerComponent();const C=await n.process(m,{name:r},l);return f.runAsOwner(async()=>t.load({definition:C,controller:d.getController()}))},fetchAdditionalContent:async function(e){const t=e.getPayload();const n=t.navigationPath?.match(/{(.*?)}/);const o=e.getBindingContext()?.getBinding();const i=o?.isA("sap.ui.model.odata.v4.ODataListBinding")?o.getAggregation():undefined;const a=i!==undefined&&!i.hierarchyQualifier;let s=n&&n.length>1&&n[1]?e.getModel().bindContext(n[1],e.getBindingContext(),{$$ownRequest:true}):null;if(a&&!s){s=e.getModel().bindContext("",e.getBindingContext(),{$$ownRequest:true})}if(e.isA("sap.ui.mdc.Link")){const n=e.getModel().getMetaModel();const o=await this._fnTemplateFragment(t,n,e);if(s){o.setBindingContext(s.getBoundContext())}return[o]}return Promise.resolve([])},fetchLinkType:async function(){return Promise.resolve({initialType:{type:i.Popover,directLink:undefined},runtimeType:undefined})}})},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/contact/ContactHelper", ["sap/fe/base/BindingToolkit","sap/fe/core/templating/DataModelPathHelper"],function(e,t){"use strict";var n={};var i=t.getRelativePaths;var a=e.getExpressionFromAnnotation;var r=e.compileExpression;const s=function(e,t){switch(e){case"phone":return`tel:${t}`;case"mail":return`mailto:${t}`;default:return t}};n.formatUri=s;const o=function(e,t,n,i,a){const r=[];if(e){r.push(e)}if(t&&n){r.push(`${t} ${n}`)}else{if(t){r.push(t)}if(n){r.push(n)}}if(i){r.push(i)}if(a){r.push(a)}return r.join(", ")};n.formatAddress=o;const f=function(e){if(e.includes("fax")){return"{sap.fe.i18n>POPOVER_CONTACT_SECTION_FAX}"}else if(e.includes("cell")){return"{sap.fe.i18n>POPOVER_CONTACT_SECTION_MOBILE}"}else{return"{sap.fe.i18n>POPOVER_CONTACT_SECTION_PHONE}"}};n.computePhoneLabel=f;const u=function(e){let t=e.targetObject?.email?.find(e=>e.type?.includes("Communication.ContactInformationType/preferred"));t=t||e.targetObject?.email?.find(e=>e.type?.includes("Communication.ContactInformationType/work"));if(e.targetObject?.email?.length){t??=e.targetObject.email[0]}return t?r(a(t.address,i(e))):undefined};n.getMsTeamsMail=u;return n},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/contact/Email", ["sap/fe/base/BindingToolkit","sap/fe/base/ClassSupport","sap/fe/core/buildingBlocks/BuildingBlock","sap/m/Link","sap/m/library","sap/fe/base/jsx-runtime/jsx"],function(e,t,i,n,r,a){"use strict";var o,l,s,u,c,p,b,f,d,v,y,m,g;var h={};var k=t.property;var z=t.defineUI5Class;var E=e.constant;function j(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function w(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,C(e,t)}function C(e,t){return C=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},C(e,t)}function M(e,t,i,n,r){var a={};return Object.keys(n).forEach(function(e){a[e]=n[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce(function(i,n){return n(e,t,i)||i},a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer?(Object.defineProperty(e,t,a),null):a}function P(e,t){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let O=(o=z("sap.fe.macros.contact.Email"),l=k({type:"any",isBindingInfo:true}),s=k({type:"any",isBindingInfo:true}),u=k({type:"boolean"}),c=k({type:"string"}),p=k({type:"string"}),o(b=(f=function(e){function t(t,i){var n;n=e.call(this,t,i)||this;j(n,"visible",d,n);j(n,"text",v,n);j(n,"linkEnabled",y,n);j(n,"mail",m,n);j(n,"emptyIndicatorMode",g,n);if(n.visible===undefined||typeof n.visible==="object"&&Object.keys(n.visible).length===0){n.visible=E(true)}if(!n.linkEnabled)n.linkEnabled=true;return n}h=t;w(t,e);var i=t.prototype;i.isTeamsConnectionActive=async function e(){const t=this.getAppComponent();if(t){return t.getCollaborativeToolsService().isContactsCollaborationSupported()}else{return false}};i.getMailPopoverFromMsTeamsIntegration=function e(t){const i=this.getAppComponent();if(i){return i.getCollaborativeToolsService().getMailPopoverFromMsTeamsIntegration(t)}else{return undefined}};i.setLinkEnabled=function e(t){this.linkEnabled=t;this.content?.setEnabled(t)};i.onMetadataAvailable=function e(){if(!this.content){if(this.visible===undefined||typeof this.visible==="object"&&Object.keys(this.visible).length===0){this.visible=E(true)}if(!this.linkEnabled)this.linkEnabled=true;this.content=this.createContent()}};i.openPopover=async function e(t){t.preventDefault();let i=false;const n=t.getSource();const a=n.getParent();if(await this.isTeamsConnectionActive()){if(a.mail){const e=await this.getMailPopoverFromMsTeamsIntegration(a.mail);if(e){e.openBy(n)}else{i=true}}}else{i=true}if(i){r.URLHelper.redirect(`mailto:${a.mail}`)}};i.getValue=function e(){return this.content?.getText()};i.setValue=function e(t){this.setProperty("text",t);this.content?.setText(t);return this};i.createContent=function e(){return a(n,{visible:this.visible,text:this.text,enabled:this.linkEnabled,emptyIndicatorMode:this.emptyIndicatorMode,class:"sapMTextRenderWhitespaceWrap",press:async e=>this.openPopover(e),ariaLabelledBy:this.ariaLabelledBy,wrapping:true})};return t}(i),d=M(f.prototype,"visible",[l],{configurable:true,enumerable:true,writable:true,initializer:function(){return E(true)}}),v=M(f.prototype,"text",[s],{configurable:true,enumerable:true,writable:true,initializer:null}),y=M(f.prototype,"linkEnabled",[u],{configurable:true,enumerable:true,writable:true,initializer:function(){return true}}),m=M(f.prototype,"mail",[c],{configurable:true,enumerable:true,writable:true,initializer:null}),g=M(f.prototype,"emptyIndicatorMode",[p],{configurable:true,enumerable:true,writable:true,initializer:function(){return"Off"}}),f))||b);h=O;return h},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/contact/TeamContactOptions", ["sap/fe/base/ClassSupport","sap/fe/core/buildingBlocks/BuildingBlock","sap/m/Button","sap/m/FormattedText","sap/m/Toolbar","sap/m/ToolbarSpacer","sap/ui/core/CustomData","sap/ui/core/Lib","sap/ui/performance/trace/FESRHelper","sap/fe/base/jsx-runtime/jsx"],function(t,e,i,n,a,r,o,s,c,l){"use strict";var u,p,f,b,m;var d={};var v=t.property;var h=t.defineUI5Class;function g(t,e,i,n){i&&Object.defineProperty(t,e,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function y(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,O(t,e)}function O(t,e){return O=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},O(t,e)}function C(t,e,i,n,a){var r={};return Object.keys(n).forEach(function(t){r[t]=n[t]}),r.enumerable=!!r.enumerable,r.configurable=!!r.configurable,("value"in r||r.initializer)&&(r.writable=!0),r=i.slice().reverse().reduce(function(i,n){return n(t,e,i)||i},r),a&&void 0!==r.initializer&&(r.value=r.initializer?r.initializer.call(a):void 0,r.initializer=void 0),void 0===r.initializer?(Object.defineProperty(t,e,r),null):r}function T(t,e){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let B=(u=h("sap.fe.macros.contact.TeamContactOptions"),p=v({type:"string"}),u(f=(b=function(t){function e(e,i){var n;n=t.call(this,e,i)||this;g(n,"mail",m,n);n.visible=false;n.contactOptions=[];return n}d=e;y(e,t);var u=e.prototype;u.retrieveContactOptions=async function t(){const e=this.getAppComponent();if(e){this.contactOptions=await e.getCollaborativeToolsService().getTeamContactOptions()}};u.setMail=function t(e){this.mail=e;this.visible=!!e;this.setVisible(this.visible)};u.onMetadataAvailable=async function t(){if(!this.content){await this.retrieveContactOptions();this.createContent()}};u.getContactOptionButton=function t(e){const n=l(i,{icon:e.icon,class:"sapUiSmallMarginBegin",type:"Transparent",customData:[new o({key:"type",value:e.key})],press:t=>{n.data("email",this.mail);e.callBackHandler(t)}});c.setSemanticStepname(n,"press",e.fesrStepName);return n};u.createContent=function t(){if(!this.contactOptions?.length){return}const e=l(a,{width:"100%",class:"sapUiTinyMarginBottom"});const i=l(n,{textAlign:"Left"});const o=s.getResourceBundleFor("sap.fe.macros").getText("M_COMMON_MS_TEAMS_TITLE");i.setHtmlText(`<strong>${o}</strong>`);e.addContent(i);e.addContent(l(r,{}));this.contactOptions.forEach(t=>{e.addContent(this.getContactOptionButton(t))});this.setVisible(this.visible);this.content=e};return e}(e),m=C(b.prototype,"mail",[p],{configurable:true,enumerable:true,writable:true,initializer:null}),b))||f);d=B;return d},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/contentSwitcher/ContentSwitcher", ["sap/fe/base/BindingToolkit","sap/fe/base/ClassSupport","sap/fe/controls/easyFilter/PXFeedback","sap/fe/core/buildingBlocks/BuildingBlock","sap/m/SegmentedButton","sap/m/SegmentedButtonItem","sap/ui/core/Element","sap/fe/base/jsx-runtime/jsx"],function(e,t,r,i,n,o,s,a){"use strict";var l,c,u,f,p,d,y,m,b,g,h,v,S;var w={};var _=r.triggerPXIntegration;var C=t.property;var K=t.implementInterface;var I=t.event;var k=t.defineUI5Class;var z=t.defineReference;var B=t.aggregation;var x=e.bindState;function P(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function j(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,O(e,t)}function O(e,t){return O=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},O(e,t)}function E(e,t,r,i,n){var o={};return Object.keys(i).forEach(function(e){o[e]=i[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer?(Object.defineProperty(e,t,o),null):o}function V(e,t){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let $=(l=k("sap.fe.macros.contentSwitcher.ContentSwitcher"),c=K("sap.fe.core.controllerextensions.viewState.IViewStateContributor"),u=B({type:"sap.fe.macros.contentSwitcher.ContentSwitcherItem",multiple:true,isDefault:true}),f=I(),p=z(),d=C({type:"string",bindToState:true}),l(y=(m=function(e){function t(t,r){var i;i=e.call(this,t,r)||this;P(i,"__implements__sap_fe_core_controllerextensions_viewState_IViewStateContributor",b,i);P(i,"items",g,i);P(i,"selectionChange",h,i);P(i,"$segmentedButton",v,i);P(i,"selectedKey",S,i);i.currentKey="";i.content=i.createContent();i.currentKey=i.retrieveState().selectedKey;if(i.state.selectedKey){i.onStateChange(["selectedKey"])}else{i.state.selectedKey="key0"}return i}w=t;j(t,e);var r=t.prototype;r.retrieveState=function e(){return{selectedKey:this.$segmentedButton.current?.getSelectedKey()}};r.applyState=function e(t){if(t){this.state.selectedKey=t.selectedKey??this.items[0]?.key??"key0"}};r._getControlFromItem=function e(t){const r=t.controlToSwitch;if(r){const e=s.getElementById(r);if(e?.isA("sap.ui.core.Control")){return e}}};r.showHideControls=function e(t){const r=[];const i=[];for(const e of this.items){const n=this._getControlFromItem(e);if(n&&e.key!==t){r.push(n)}else if(n){i.push(n)}}for(const e of r){if(!i.includes(e)){e.setVisible(false)}}for(const e of i){e.setVisible(true)}};r.onStateChange=function e(t){if(t?.includes("selectedKey")){this.showHideControls(this.state.selectedKey);this.getPageController()?.getExtensionAPI().updateAppState();if(this.currentKey==="ai"&&this.state.selectedKey==="compact"){_("toggleSwitch")}this.currentKey=this.state.selectedKey;this.fireEvent("selectionChange")}};r.createContent=function e(){const t=this.createId("filterTypeSwitch");return a(n,{ref:this.$segmentedButton,id:t,selectedKey:x(this.state,"selectedKey"),children:{items:this.items.map((e,t)=>this.createSegmentedButtonItem(e,t))}})};r.createSegmentedButtonItem=function e(t,r){const i=this.createId(t.key);t.key??=`key${r}`;if(t.icon){return a(o,{icon:t.icon,tooltip:t.text,id:i},t.key)}return a(o,{text:t.text,id:i},t.key)};return t}(i),b=E(m.prototype,"__implements__sap_fe_core_controllerextensions_viewState_IViewStateContributor",[c],{configurable:true,enumerable:true,writable:true,initializer:function(){return true}}),g=E(m.prototype,"items",[u],{configurable:true,enumerable:true,writable:true,initializer:null}),h=E(m.prototype,"selectionChange",[f],{configurable:true,enumerable:true,writable:true,initializer:null}),v=E(m.prototype,"$segmentedButton",[p],{configurable:true,enumerable:true,writable:true,initializer:null}),S=E(m.prototype,"selectedKey",[d],{configurable:true,enumerable:true,writable:true,initializer:null}),m))||y);w=$;return w},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/contentSwitcher/ContentSwitcherItem", ["sap/fe/base/ClassSupport","sap/fe/macros/controls/BuildingBlockObjectProperty"],function(e,t){"use strict";var r,i,n,o,a,l,u,c,s,p,f;var b={};var y=e.property;var d=e.defineUI5Class;var v=e.association;function g(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function m(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,w(e,t)}function w(e,t){return w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},w(e,t)}function z(e,t,r,i,n){var o={};return Object.keys(i).forEach(function(e){o[e]=i[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer?(Object.defineProperty(e,t,o),null):o}function h(e,t){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let O=(r=d("sap.fe.macros.contentSwitcher.ContentSwitcherItem"),i=y({type:"string"}),n=v({type:"string"}),o=y({type:"string"}),a=y({type:"string"}),r(l=(u=function(e){function t(t,r){var i;i=e.call(this,t,r)||this;g(i,"text",c,i);g(i,"controlToSwitch",s,i);g(i,"icon",p,i);g(i,"key",f,i);return i}b=t;m(t,e);return t}(t),c=z(u.prototype,"text",[i],{configurable:true,enumerable:true,writable:true,initializer:null}),s=z(u.prototype,"controlToSwitch",[n],{configurable:true,enumerable:true,writable:true,initializer:null}),p=z(u.prototype,"icon",[o],{configurable:true,enumerable:true,writable:true,initializer:null}),f=z(u.prototype,"key",[a],{configurable:true,enumerable:true,writable:true,initializer:null}),u))||l);b=O;return b},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/controls/BuildingBlockObjectProperty", ["sap/fe/base/ClassSupport","sap/fe/base/jsx-runtime/jsx-xml","sap/ui/core/Element"],function(t,e,o){"use strict";var r,s;var n={};var i=t.defineUI5Class;function a(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,c(t,e)}function c(t,e){return c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},c(t,e)}let l=(r=i("sap.fe.macros.controls.BuildingBlockObjectProperty"),r(s=function(t){function o(){return t.apply(this,arguments)||this}n=o;a(o,t);var r=o.prototype;r.getPropertyBag=function t(){const e={};const o=this.getMetadata().getAllProperties();const r=this.getMetadata().getAllAggregations();for(const t in o){const o=this.getProperty(t);if(typeof o!=="function"){e[t]=o}}for(const t in r){const o=this.getAggregation(t);if(Array.isArray(o)){const r=[];for(const t of o){if(t.isA("sap.fe.macros.controls.BuildingBlockObjectProperty")){r.push(t.getPropertyBag())}}e[t]=r}else if(o){if(o.isA("sap.fe.macros.controls.BuildingBlockObjectProperty")){e[t]=o.getPropertyBag()}else{e[t]=o.getId()}}}return e};r.serialize=function t(o){const r=this.getMetadata().getAllProperties();const s=this.getMetadata().getAllEvents();const n=this.getMetadata().getAllAggregations();const i={children:{}};for(const t in s){i[t]=`THIS._fireEvent($event, $controller, '${t}')`}for(const t in r){const e=this.getProperty(t);if(typeof e!=="function"){i[t]=e}}for(const t in n){const e=this.getAggregation(t);if(Array.isArray(e)){const o=[];for(const t of e){if(t.isA("sap.fe.macros.controls.BuildingBlockObjectProperty")){o.push(t.serialize())}}i.children[t]=o}else if(e){if(e.isA("sap.fe.macros.controls.BuildingBlockObjectProperty")){i.children[t]=e.serialize()}else{i[t]=e.getId()}}}return e(this.getMetadata().getClass(),i,undefined,{},o)};r.bindProperty=function e(o,r){const s=this.getMetadata().getProperty(o);if(s?.bindable===false&&s.group==="Data"){this[o]=r}else{t.prototype.bindProperty.call(this,o,r)}return this};return o}(o))||s);n=l;return n},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/controls/BuildingBlockWithTemplating", ["sap/fe/base/ClassSupport","sap/fe/core/buildingBlocks/BuildingBlock","sap/fe/core/buildingBlocks/templating/BuildingBlockTemplateProcessor","sap/fe/core/helpers/TypeGuards","sap/ui/core/Fragment","sap/ui/core/util/XMLPreprocessor"],function(t,e,o,n,i,s){"use strict";var r,a;var c={};var l=n.isContext;var p=o.xml;var g=o.parseXMLString;var f=t.defineUI5Class;function h(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,u(t,e)}function u(t,e){return u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},u(t,e)}let d=(r=f("sap.fe.macros.controls.BuildingBlockWithTemplating"),r(a=function(t){function e(){return t.apply(this,arguments)||this}c=e;h(e,t);var o=e.prototype;o.onMetadataAvailable=function t(){if(!this.content){this._createContent()}};o._createContent=function t(){const e=this._getOwner();if(e?.isA("sap.fe.core.TemplateComponent")){this.contentCreated=this.createContent(e)}};o.createProxyMethods=function t(e){var o=this;for(const t of e){this[t]=function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++){n[i]=arguments[i]}return o.content?.[t]?.(...n)}}};o.setProperty=function e(o,n,i){if(!this._applyingSettings&&n!==undefined&&Object.keys(this.getMetadata().getProperties()).includes(o)){t.prototype.setProperty.call(this,o,n,true);this._createContent()}else{t.prototype.setProperty.call(this,o,n,i)}return this};o.setAggregation=function e(o,n,i){if(!this._applyingSettings&&Object.keys(this.getMetadata().getAggregations()).includes(o)){t.prototype.setAggregation.call(this,o,n,true);this._createContent()}else{t.prototype.setAggregation.call(this,o,n,i)}return this};o.removeAggregation=function e(o,n,i){let s;if(!this._applyingSettings&&n!==undefined&&Object.keys(this.getMetadata().getAggregations()).includes(o)){s=t.prototype.removeAggregation.call(this,o,n,i);this._createContent()}else{s=t.prototype.removeAggregation.call(this,o,n,i)}return s};o.addAggregation=function e(o,n,i){if(!this._applyingSettings&&Object.keys(this.getMetadata().getAggregations()).includes(o)){t.prototype.addAggregation.call(this,o,n,i);this._createContent()}else{t.prototype.addAggregation.call(this,o,n,i)}return this};o.insertAggregation=function e(o,n,i,s){if(!this._applyingSettings&&Object.keys(this.getMetadata().getAggregations()).includes(o)){t.prototype.insertAggregation.call(this,o,n,i,s);this._createContent()}else{t.prototype.insertAggregation.call(this,o,n,i,s)}return this};o.createContent=async function t(e){if(this.contentCreated){await this.contentCreated}const o=e.getPreprocessorContext()??{models:{},bindingContexts:{}};const n=this.getMetadata();const r=this.metadata.buildingBlockMetadata;if(r){const t=r.publicNamespace??r.namespace;const a=r.name;const c=`${n.getName()}`.replaceAll(".","/");const f=[];const h=[];const u=r.aggregations;for(const t in r.properties){let e=this[t];let o=e;if(o?.hasOwnProperty?.("path")&&o?.hasOwnProperty?.("model")){o=this.getModel(o.model)?.getObject(o.path)}if(r.properties[t].type==="function"){f.push(p`${t}="THIS._fireEvent($event, $controller, '${t}')"`)}else if(o?.isA&&o.isA("sap.fe.macros.controls.BuildingBlockObjectProperty")){const e=o.serialize(`feBB:${t}`);h.push(e)}else if(r.properties[t].type==="array"){u[t]=r.properties[t]}else if(e!==undefined&&e!==null&&(typeof e!=="object"||Object.keys(e).length>0)){if(l(e)){e=e.getPath()}else if(t==="id"){f.push(p`${t}="${e}-block"`)}else{f.push(p`${t}="${e}"`)}}}for(const t in u){const e=this[t];if(e&&(!Array.isArray(e)||e?.length>0)){const o=[];if(Array.isArray(e)){for(const t of e){if(t.isA("sap.fe.macros.controls.BuildingBlockObjectProperty"))o.push(t.serialize())}}else if(e.isA("sap.fe.macros.controls.BuildingBlockObjectProperty")){o.push(e.serialize())}const n=`<feBB:${t}>${o.join("\n")}</feBB:${t}>`;h.push(n)}}const d=await s.process(g(p`<root><feBB:${a}
			xmlns:core="sap.ui.core"
			xmlns:feBB="${t}"
			${f.length>0?f:""}
			core:require="{THIS: '${c}'}"
			>${h.length>0?h:""}</feBB:${a}></root>`,true)[0],{models:{}},o);if(d.firstElementChild){this.content?.destroy();this.content=await e.runAsOwner(async()=>i.load({definition:d.firstElementChild,controller:e.getRootController()}))}}};return e}(e))||a);c=d;return c},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/controls/CollaborationHBox", ["sap/fe/base/ClassSupport","sap/m/HBox"],function(t,e){"use strict";var n,o;var r=t.defineUI5Class;function s(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,c(t,e)}function c(t,e){return c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},c(t,e)}let i=(n=r("sap.fe.macros.controls.CollaborationHBox"),n(o=function(t){function e(){return t.apply(this,arguments)||this}s(e,t);var n=e.prototype;n.enhanceAccessibilityState=function t(e,n){const o=this.getParent();if(o&&o.enhanceAccessibilityState){o.enhanceAccessibilityState(e,n)}return n};return e}(e))||o);return i},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/controls/ConditionalWrapper", ["sap/fe/base/ClassSupport","sap/ui/core/Control"],function(e,t){"use strict";var i,r,n,a,l,o,u,c,s,f,p,b,d,y,m,h,g;var _=e.property;var v=e.implementInterface;var z=e.defineUI5Class;var w=e.association;var A=e.aggregation;function C(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function B(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,L(e,t)}function L(e,t){return L=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},L(e,t)}function j(e,t,i,r,n){var a={};return Object.keys(r).forEach(function(e){a[e]=r[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce(function(i,r){return r(e,t,i)||i},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer?(Object.defineProperty(e,t,a),null):a}function F(e,t){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let I=(i=z("sap.fe.macros.controls.ConditionalWrapper"),r=v("sap.ui.core.IFormContent"),n=_({type:"sap.ui.core.CSSSize",defaultValue:null}),a=_({type:"boolean",defaultValue:false}),l=_({type:"boolean",defaultValue:false}),o=w({type:"sap.ui.core.Control",multiple:true,singularName:"ariaLabelledBy"}),u=A({type:"sap.ui.core.Control",multiple:false,isDefault:true}),c=A({type:"sap.ui.core.Control",multiple:false}),i(s=(f=function(e){function t(t,i){var r;r=e.call(this,t,i)||this;C(r,"__implements__sap_ui_core_IFormContent",p,r);C(r,"width",b,r);C(r,"formDoNotAdjustWidth",d,r);C(r,"condition",y,r);C(r,"ariaLabelledBy",m,r);C(r,"contentTrue",h,r);C(r,"contentFalse",g,r);return r}B(t,e);var i=t.prototype;i.enhanceAccessibilityState=function e(t,i){const r=this.getParent();if(r&&r.enhanceAccessibilityState){r.enhanceAccessibilityState(this,i)}return i};i.getAccessibilityInfo=function e(){let t;if(this.condition){t=this.contentTrue}else{t=this.contentFalse}return t?.getAccessibilityInfo?t.getAccessibilityInfo():{}};i._setAriaLabelledBy=function e(t){if(t&&t.addAriaLabelledBy&&t.getAriaLabelledBy){const e=this.ariaLabelledBy;for(const i of e){const e=t.getAriaLabelledBy()||[];if(!e.includes(i)){t.addAriaLabelledBy(i)}}}};i.onBeforeRendering=function e(){this._setAriaLabelledBy(this.contentTrue);this._setAriaLabelledBy(this.contentFalse)};t.render=function e(t,i){t.openStart("div",i);t.style("width",i.width);t.style("display","inline-block");t.openEnd();if(i.condition){t.renderControl(i.contentTrue)}else{t.renderControl(i.contentFalse)}t.close("div")};return t}(t),p=j(f.prototype,"__implements__sap_ui_core_IFormContent",[r],{configurable:true,enumerable:true,writable:true,initializer:function(){return true}}),b=j(f.prototype,"width",[n],{configurable:true,enumerable:true,writable:true,initializer:null}),d=j(f.prototype,"formDoNotAdjustWidth",[a],{configurable:true,enumerable:true,writable:true,initializer:null}),y=j(f.prototype,"condition",[l],{configurable:true,enumerable:true,writable:true,initializer:null}),m=j(f.prototype,"ariaLabelledBy",[o],{configurable:true,enumerable:true,writable:true,initializer:null}),h=j(f.prototype,"contentTrue",[u],{configurable:true,enumerable:true,writable:true,initializer:null}),g=j(f.prototype,"contentFalse",[c],{configurable:true,enumerable:true,writable:true,initializer:null}),f))||s);return I},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/controls/CustomFilterFieldContentWrapper", ["sap/base/util/merge","sap/fe/base/ClassSupport","sap/fe/macros/filterBar/SemanticDateOperators","sap/ui/base/ManagedObjectObserver","sap/ui/core/Control","sap/ui/mdc/condition/Condition","sap/ui/mdc/enums/ConditionValidated","sap/ui/mdc/field/ConditionsType","sap/ui/model/json/JSONModel"],function(e,t,n,i,r,o,a,l,s){"use strict";var u,c,d,p,f,h,g,b,C,_,y,m,v,w,E,M,O,F,A,I;var L={};var S=t.property;var z=t.implementInterface;var j=t.event;var P=t.defineUI5Class;var V=t.aggregation;function D(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function T(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,B(e,t)}function B(e,t){return B=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},B(e,t)}function R(e,t,n,i,r){var o={};return Object.keys(i).forEach(function(e){o[e]=i[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(n,i){return i(e,t,n)||n},o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer?(Object.defineProperty(e,t,o),null):o}function N(e,t){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let x=(u=P("sap.fe.macros.controls.CustomFilterFieldContentWrapper"),c=z("sap.ui.core.IFormContent"),d=S({type:"sap.ui.core.CSSSize",defaultValue:null}),p=S({type:"boolean",defaultValue:false}),f=S({type:"object[]",defaultValue:[]}),h=V({type:"sap.ui.core.Control",multiple:false,isDefault:true}),g=j(),b=j(),C=j(),u(_=(y=(I=function(t){function r(e,n){var i;i=t.call(this,e,n)||this;D(i,"__implements__sap_ui_core_IFormContent",m,i);D(i,"width",v,i);D(i,"formDoNotAdjustWidth",w,i);D(i,"conditions",E,i);D(i,"content",M,i);D(i,"conditionsChange",O,i);D(i,"change",F,i);D(i,"liveChange",A,i);return i}L=r;T(r,t);r.render=function e(t,n){t.openStart("div",n);t.style("min-height","1rem");t.style("width",n.width);t.openEnd();t.renderControl(n.getContent());t.close("div")};r._filterValuesToConditions=function e(t,i){let r={operators:[]},s=[];if(i){r={operators:[i]}}if(t===""){t=[]}else if(t&&typeof t==="object"&&t.hasOwnProperty("operator")&&t.hasOwnProperty("values")){r={operators:[t.operator]};t=t.values}else if(t!==undefined&&typeof t!=="object"&&typeof t!=="string"){throw new Error(`FilterUtils.js#_filterValuesToConditions: Unexpected type of input parameter vValues: ${typeof t}`)}const u=new l(r);const c=Array.isArray(t)?t:[t];if(typeof i==="string"&&n.getSemanticDateOperations().includes(i)){s=[o.createCondition(i,c,null,null,a.NotValidated)]}else{s=c.map(e=>{const t=e?.toString(),n=u.parseValue(t,"any");return n?.[0]}).filter(e=>e!==undefined)}return s};r._conditionsToFilterModelString=function e(t,n){const i=new l(n);return t.map(e=>i.formatValue([e],"any")||"").filter(e=>e!=="").join(",")};var u=r.prototype;u._handleFilterModelChange=function e(t){const n=this.getObjectBinding("filterValues").getPath(),i=t.getSource().getProperty(n);this.updateConditionsByFilterValues(i)};u._handleConditionsChange=function e(t){this.updateFilterModelByConditions(t)};u.init=function e(){t.prototype.init.call(this);this._wrapperObserver=new i(this._observeChanges.bind(this));this._wrapperObserver.observe(this,{properties:["conditions"],aggregations:["content"]});this._filterModel=new s;this._filterModel.attachPropertyChange(this._handleFilterModelChange,this);this.setModel(this._filterModel,r.FILTER_MODEL_ALIAS)};u.clone=function e(n,i){const e=t.prototype.clone.call(this,n,i);e.setModel(e._filterModel,r.FILTER_MODEL_ALIAS);return e};u._observeChanges=function e(t){const{name:n,current:i,child:r,mutation:o}=t;if(n==="conditions"){this._handleConditionsChange(i)}if(n==="content"&&r){this._handleContentChanged.call(this,o,r)}};u._handleContentChanged=function e(t,n){if(t==="insert"){this._attachContentHandlers.call(this,n)}};u._attachContentHandlers=function e(t){if(t.getMetadata().getAllEvents().change){t.attachEvent("change",this._handleContentEvent.bind(this,"change"),this)}if(t.getMetadata().getAllEvents().liveChange){t.attachEvent("liveChange",this._handleContentEvent.bind(this,"liveChange"),this)}};u._handleContentEvent=function t(n,i){const r=e({},i.getParameters());this.fireEvent(n,r)};u.getContent=function e(){return this.getAggregation("content")};u.getConditions=function e(){return this.getProperty("conditions")};u.setConditions=function e(t){this.setProperty("conditions",t||[]);return this};u.getFilterModelAlias=function e(){return r.FILTER_MODEL_ALIAS};u.updateConditionsByFilterValues=function e(t,n){const i=r._filterValuesToConditions(t,n);this.setConditions(i)};u.updateFilterModelByConditions=function e(t){const n=t[0]?.operator||"";const i=n!==""?{operators:[n]}:{operators:[]};if(this.getBindingContext(r.FILTER_MODEL_ALIAS)){const e=r._conditionsToFilterModelString(t,i);this._filterModel.setProperty(this.getBindingContext(r.FILTER_MODEL_ALIAS).getPath(),e)}};u.getAccessibilityInfo=function e(){const t=this.getContent();return t?.getAccessibilityInfo?.()||{}};u.getIdForLabel=function e(){const t=this.getContent();return t?.getIdForLabel()};return r}(r),I.FILTER_MODEL_ALIAS="filterValues",I),m=R(y.prototype,"__implements__sap_ui_core_IFormContent",[c],{configurable:true,enumerable:true,writable:true,initializer:function(){return true}}),v=R(y.prototype,"width",[d],{configurable:true,enumerable:true,writable:true,initializer:null}),w=R(y.prototype,"formDoNotAdjustWidth",[p],{configurable:true,enumerable:true,writable:true,initializer:null}),E=R(y.prototype,"conditions",[f],{configurable:true,enumerable:true,writable:true,initializer:null}),M=R(y.prototype,"content",[h],{configurable:true,enumerable:true,writable:true,initializer:null}),O=R(y.prototype,"conditionsChange",[g],{configurable:true,enumerable:true,writable:true,initializer:null}),F=R(y.prototype,"change",[b],{configurable:true,enumerable:true,writable:true,initializer:null}),A=R(y.prototype,"liveChange",[C],{configurable:true,enumerable:true,writable:true,initializer:null}),y))||_);L=x;return L},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/controls/FieldWrapper", ["sap/fe/base/ClassSupport","sap/ui/core/Control","sap/ui/core/Lib"],function(e,t,i){"use strict";var r,n,l,a,o,u,s,c,d,p,f,y,b,h,g,m,w,D,_,I,v,A,T;var z=e.property;var E=e.implementInterface;var O=e.defineUI5Class;var L=e.association;var B=e.aggregation;function C(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function M(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,P(e,t)}function P(e,t){return P=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},P(e,t)}function S(e,t,i,r,n){var l={};return Object.keys(r).forEach(function(e){l[e]=r[e]}),l.enumerable=!!l.enumerable,l.configurable=!!l.configurable,("value"in l||l.initializer)&&(l.writable=!0),l=i.slice().reverse().reduce(function(i,r){return r(e,t,i)||i},l),n&&void 0!==l.initializer&&(l.value=l.initializer?l.initializer.call(n):void 0,l.initializer=void 0),void 0===l.initializer?(Object.defineProperty(e,t,l),null):l}function j(e,t){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let x=(r=O("sap.fe.macros.controls.FieldWrapper"),n=E("sap.ui.core.IFormContent"),l=z({type:"sap.ui.core.TextAlign"}),a=z({type:"sap.ui.core.CSSSize",defaultValue:null}),o=z({type:"boolean",defaultValue:false}),u=z({type:"string",defaultValue:"Display"}),s=z({type:"boolean",defaultValue:false}),c=z({type:"boolean",defaultValue:false}),d=L({type:"sap.ui.core.Control",multiple:true,singularName:"ariaLabelledBy"}),p=B({type:"sap.ui.core.Control",multiple:false,isDefault:true}),f=B({type:"sap.ui.core.Control",multiple:true}),r(y=(b=function(e){function t(t,r){var n;n=e.call(this,t,r)||this;C(n,"__implements__sap_ui_core_IFormContent",h,n);C(n,"textAlign",g,n);C(n,"width",m,n);C(n,"formDoNotAdjustWidth",w,n);C(n,"editMode",D,n);C(n,"required",_,n);C(n,"delaySwitchToDisplay",I,n);C(n,"ariaLabelledBy",v,n);C(n,"contentDisplay",A,n);C(n,"contentEdit",T,n);n.resourceBundle=i.getResourceBundleFor("sap.fe.controls");return n}M(t,e);var r=t.prototype;r.enhanceAccessibilityState=function e(t,i){const r=this.getParent();if(r&&r.enhanceAccessibilityState){r.enhanceAccessibilityState(t,i)}return i};r.addAggregation=function t(i,r,n){if(i==="contentEdit"&&r.isA("sap.m.InputBase")){r.setPreferUserInteraction(true)}return e.prototype.addAggregation.call(this,i,r,n)};r.getAccessibilityInfo=function e(){let t;if(this.editMode==="Display"){t=this.contentDisplay}else{t=this.contentEdit.length?this.contentEdit[0]:null}return t&&t.getAccessibilityInfo?t.getAccessibilityInfo():{}};r.getIdForLabel=function e(){let t;if(this.editMode==="Display"){t=this.contentDisplay}else{t=this.contentEdit.length?this.contentEdit[0]:null}return t?.getIdForLabel()};r.setEditMode=function e(t){if(this.switchToDisplayTimeOutId){clearTimeout(this.switchToDisplayTimeOutId);this.switchToDisplayTimeOutId=undefined}if(this.delaySwitchToDisplay&&this.editMode&&t==="Display"&&this.editMode!=="Display"){this.switchToDisplayTimeOutId=window.setTimeout(()=>{this.setProperty("editMode",t);this.invalidate();this.switchToDisplayTimeOutId=undefined},100)}else{this.setProperty("editMode",t)}};r._setAriaLabelledBy=function e(t){if(t&&t.addAriaLabelledBy){const e=this.ariaLabelledBy;for(const i of e){const e=t.getAriaLabelledBy()||[];if(!e.includes(i)){t.addAriaLabelledBy(i)}}}};r.onBeforeRendering=function e(){this._setAriaLabelledBy(this.contentDisplay);const t=this.contentEdit;for(const e of t){this._setAriaLabelledBy(e)}};t.render=function e(t,i){t.openStart("div",i);t.style("text-align",i.textAlign);if(i.editMode==="Display"){t.style("width",i.width);const e=i.getParent();if(e.hasInlineEdit&&e.formatOptions?.reactiveAreaMode!=="Overlay"){t.attr("title",i.resourceBundle.getText("M_INLINE_EDIT_TOOLTIP_DOUBLECLICK_EDIT"));t.attr("tabindex",0)}t.openEnd();t.renderControl(i.contentDisplay)}else{const e=i.contentEdit;t.style("width",i.width);t.openEnd();for(const i of e){t.renderControl(i)}}t.close("div")};return t}(t),h=S(b.prototype,"__implements__sap_ui_core_IFormContent",[n],{configurable:true,enumerable:true,writable:true,initializer:function(){return true}}),g=S(b.prototype,"textAlign",[l],{configurable:true,enumerable:true,writable:true,initializer:null}),m=S(b.prototype,"width",[a],{configurable:true,enumerable:true,writable:true,initializer:null}),w=S(b.prototype,"formDoNotAdjustWidth",[o],{configurable:true,enumerable:true,writable:true,initializer:null}),D=S(b.prototype,"editMode",[u],{configurable:true,enumerable:true,writable:true,initializer:null}),_=S(b.prototype,"required",[s],{configurable:true,enumerable:true,writable:true,initializer:null}),I=S(b.prototype,"delaySwitchToDisplay",[c],{configurable:true,enumerable:true,writable:true,initializer:null}),v=S(b.prototype,"ariaLabelledBy",[d],{configurable:true,enumerable:true,writable:true,initializer:null}),A=S(b.prototype,"contentDisplay",[p],{configurable:true,enumerable:true,writable:true,initializer:null}),T=S(b.prototype,"contentEdit",[f],{configurable:true,enumerable:true,writable:true,initializer:null}),b))||y);return x},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/controls/FileWrapper", ["sap/fe/base/ClassSupport","sap/fe/core/CommonUtils","sap/fe/core/converters/MetaModelConverter","sap/fe/core/helpers/ResourceModelHelper","sap/fe/core/templating/UIFormatters","sap/m/BusyDialog","./FieldWrapper"],function(e,t,i,r,a,n,l){"use strict";var o,s,u,c,p,f,d,g,y,h,b,v,m,C,w,_,P,E,x,z,B,I,U;var S=r.getResourceModel;var A=e.property;var M=e.defineUI5Class;var T=e.aggregation;function D(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function O(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,j(e,t)}function j(e,t){return j=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},j(e,t)}function L(e,t,i,r,a){var n={};return Object.keys(r).forEach(function(e){n[e]=r[e]}),n.enumerable=!!n.enumerable,n.configurable=!!n.configurable,("value"in n||n.initializer)&&(n.writable=!0),n=i.slice().reverse().reduce(function(i,r){return r(e,t,i)||i},n),a&&void 0!==n.initializer&&(n.value=n.initializer?n.initializer.call(a):void 0,n.initializer=void 0),void 0===n.initializer?(Object.defineProperty(e,t,n),null):n}function R(e,t){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let k=(o=M("sap.fe.macros.controls.FileWrapper"),s=A({type:"sap.ui.core.URI"}),u=A({type:"string"}),c=A({type:"string"}),p=A({type:"string"}),f=T({type:"sap.m.Avatar",multiple:false}),d=T({type:"sap.ui.core.Icon",multiple:false}),g=T({type:"sap.m.Link",multiple:false}),y=T({type:"sap.m.Text",multiple:false}),h=T({type:"sap.ui.unified.FileUploader",multiple:false}),b=T({type:"sap.m.Button",multiple:false}),o(v=(m=function(e){function r(t,i){var r;r=e.call(this,t,i)||this;D(r,"uploadUrl",C,r);D(r,"propertyPath",w,r);D(r,"filename",_,r);D(r,"mediaType",P,r);D(r,"avatar",E,r);D(r,"icon",x,r);D(r,"link",z,r);D(r,"text",B,r);D(r,"fileUploader",I,r);D(r,"deleteButton",U,r);r._busy=false;r.avatarCacheBustingInitialized=false;return r}O(r,e);var o=r.prototype;o.enhanceAccessibilityState=function e(t,i){return i};o.onBeforeRendering=function e(){this._setAriaLabelledBy();this._setAriaRequired();this._addSideEffects();this._refreshAvatar()};o._setAriaLabelledBy=function e(){if(this.link){const e=this.getParent();const t={labelledby:undefined};if(e&&e.enhanceAccessibilityState){e.enhanceAccessibilityState(this.link,t)}if(t.labelledby){this.addAriaLabelledBy(t.labelledby)}}};o.getIdForLabel=function e(){const t=this.link||this.text||this.avatar;return t.getIdForLabel()};o._refreshAvatar=function e(){const i=t.getTargetView(this);const r=i.getController().collaborativeDraft;if(r.isCollaborationEnabled()){const e=this.avatar?.getBindingInfo("src").binding;if(e&&!this.avatarCacheBustingInitialized){e.attachEvent("change",()=>{this.avatar?.refreshAvatarCacheBusting()});this.avatarCacheBustingInitialized=true}}};o._setAriaRequired=function e(){const r=t.getTargetView(this),n=r.getViewData().fullContextPath,l=r.getModel().getMetaModel(),o=l.getContext(n),s=l.createBindingContext(this.propertyPath,o),u=i.getInvolvedDataModelObjects(s,o);const c=u.targetObject;this.requiredExpression=a.getRequiredExpression(c,undefined,false,false,{},u)};o._addSideEffects=function e(){const r=[],a=t.getTargetView(this),n=a.getViewData().fullContextPath,l=a.getModel().getMetaModel(),o=l.getMetaPath(n),s=l.getContext(n),u=i.getInvolvedDataModelObjects(s),c=this.data("sourcePath"),p=c.replace(`${o}`,""),f=p.replace(this.propertyPath,"");r.push({$NavigationPropertyPath:p});if(this.filename){r.push({$NavigationPropertyPath:f+this.filename})}if(this.mediaType){r.push({$NavigationPropertyPath:f+this.mediaType})}this._getSideEffectController()?.addControlSideEffects(u.targetEntityType.fullyQualifiedName,{sourceProperties:[p],targetEntities:r,sourceControlId:this.getId()})};o._getSideEffectController=function e(){const t=this._getViewController();return t?t._sideEffects:undefined};o._getViewController=function e(){const i=t.getTargetView(this);return i&&i.getController()};o.getUploadUrl=function e(){const t=this.getBindingContext();return t&&this.uploadUrl?this.uploadUrl.replace(t.getPath(),t.getCanonicalPath()):""};o.setUIBusy=function e(t){const i=this;this._busy=t;if(t){if(!this.busyDialog){this.busyDialog=new n({text:S(this).getText("M_FILEWRAPPER_BUSY_DIALOG_TITLE"),showCancelButton:false})}setTimeout(function(){if(i._busy){i.busyDialog?.open()}},1e3)}else{this.busyDialog?.close(false)}};o.getUIBusy=function e(){return this._busy};r.render=function e(i,r){let a,n;if(r.avatar){a="100%";n="3rem"}else{a=t.getIsEditable(r)?"calc(100% - 5rem)":"100%";n="4.5rem"}i.openStart("div",r);i.style("width",r.width);i.openEnd();i.openStart("div");i.style("display","flex");i.style("box-sizing","border-box");i.style("justify-content","space-between");i.style("align-items","center");i.style("flex-wrap","wrap");i.style("align-content","stretch");i.style("width","100%");i.openEnd();i.openStart("div");i.style("display","flex");i.style("align-items","center");i.style("max-width",a);i.style("min-width",n);i.openEnd();if(r.avatar){i.renderControl(r.avatar)}else{i.renderControl(r.icon);i.renderControl(r.link);i.renderControl(r.text)}i.close("div");i.openStart("div");i.style("display","flex");i.style("align-items","center");i.openEnd();i.renderControl(r.fileUploader);i.renderControl(r.deleteButton);i.close("div");i.close("div");i.close("div")};o.destroy=function e(t){const i=this._getSideEffectController();if(i){i.removeControlSideEffects(this)}delete this.busyDialog;l.prototype.destroy.apply(this,[t])};return r}(l),C=L(m.prototype,"uploadUrl",[s],{configurable:true,enumerable:true,writable:true,initializer:null}),w=L(m.prototype,"propertyPath",[u],{configurable:true,enumerable:true,writable:true,initializer:null}),_=L(m.prototype,"filename",[c],{configurable:true,enumerable:true,writable:true,initializer:null}),P=L(m.prototype,"mediaType",[p],{configurable:true,enumerable:true,writable:true,initializer:null}),E=L(m.prototype,"avatar",[f],{configurable:true,enumerable:true,writable:true,initializer:null}),x=L(m.prototype,"icon",[d],{configurable:true,enumerable:true,writable:true,initializer:null}),z=L(m.prototype,"link",[g],{configurable:true,enumerable:true,writable:true,initializer:null}),B=L(m.prototype,"text",[y],{configurable:true,enumerable:true,writable:true,initializer:null}),I=L(m.prototype,"fileUploader",[h],{configurable:true,enumerable:true,writable:true,initializer:null}),U=L(m.prototype,"deleteButton",[b],{configurable:true,enumerable:true,writable:true,initializer:null}),m))||v);return k},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/controls/FilterBar", ["sap/base/Log","sap/fe/base/ClassSupport","sap/fe/macros/controls/filterbar/FilterContainer","sap/fe/macros/controls/filterbar/VisualFilterContainer","sap/ui/core/Element","sap/ui/mdc/FilterBar","sap/ui/mdc/filterbar/aligned/FilterItemLayout","./filterbar/utils/VisualFilterUtils"],function(t,e,i,r,o,a,n,l){"use strict";var s,u,c,d,f,h,g,y,F;var p=e.property;var _=e.defineUI5Class;var B=e.association;function b(t,e,i,r){i&&Object.defineProperty(t,e,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function m(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,L(t,e)}function L(t,e){return L=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},L(t,e)}function S(t,e,i,r,o){var a={};return Object.keys(r).forEach(function(t){a[t]=r[t]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce(function(i,r){return r(t,e,i)||i},a),o&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),void 0===a.initializer?(Object.defineProperty(t,e,a),null):a}function v(t,e){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}const C="sap.fe.macros.controls.filterbar.VisualFilterContainer",A="sap.fe.macros.controls.filterbar.FilterContainer";let z=(s=_("sap.fe.macros.controls.FilterBar"),u=p({type:"string",defaultValue:"compact"}),c=p({type:"boolean",defaultValue:false}),d=B({type:"sap.m.SegmentedButton",multiple:false}),s(f=(h=function(e){function a(t,i){var r;delete t?.propertyInfo;delete i?.propertyInfo;r=e.call(this,t,i)||this;b(r,"initialLayout",g,r);b(r,"disableDraftEditStateFilter",y,r);b(r,"toggleControl",F,r);r._isInitialized=false;r._initializeStatus();return r}m(a,e);var s=a.prototype;s._initializeStatus=async function t(){await this.waitForInitialization();this._isInitialized=true};s.isInitialized=function t(){return!!this._isInitialized};s.setToggleControl=function t(e){if(typeof e==="string"){this._oSegmentedButton=o.getElementById(e)}else{this._oSegmentedButton=e}if(this.toggleControl&&this._oSegmentedButton){this._oSegmentedButton.detachEvent("selectionChange",this._toggleLayout.bind(this))}if(this._oSegmentedButton){this._oSegmentedButton.attachEvent("selectionChange",this._toggleLayout.bind(this))}this.setAssociation("toggleControl",e,true)};s._toggleLayout=function e(){this.waitForInitialization().then(()=>{const t=this._oSegmentedButton?.getSelectedKey();if(t==="visual"&&this._oFilterBarLayout?.isA("sap.fe.macros.controls.filterbar.VisualFilterContainer")||t==="compact"&&!this._oFilterBarLayout?.isA("sap.fe.macros.controls.filterbar.VisualFilterContainer")){return}if(!this._oSecondaryFilterBarLayout){this._oSecondaryFilterBarLayout=new r}if(this._oSecondaryFilterBarLayout?.isA("sap.fe.macros.controls.filterbar.VisualFilterContainer")){this.setShowAdaptFiltersButton(false)}else{this.setShowAdaptFiltersButton(true)}const e=this._oFilterBarLayout;const i=this.getFilterItems();const o=e.getAllFilterFields();const a=this.getSortedFilterFields(i,o);const n=e.getAllButtons();const l=e.getAllVisualFilterFields&&e.getAllVisualFilterFields();if(this._oSecondaryFilterBarLayout?.isA("sap.fe.macros.controls.filterbar.VisualFilterContainer")){this._oSecondaryFilterBarLayout.setAllFilterFields(a,l)}this._oFilterBarLayout=this._oSecondaryFilterBarLayout;o.forEach((t,i)=>{e.removeFilterField(t);this._oFilterBarLayout.insertFilterField(t,i)});n.forEach(t=>{e.removeButton(t);this._oFilterBarLayout.addButton(t)});this._oSecondaryFilterBarLayout=e;this.setAggregation("layout",this._oFilterBarLayout,true);this._oFilterBarLayout.invalidate();return}).catch(e=>{t.error(e)})};s.getSortedFilterFields=function t(e,i){const r=[];e.forEach(function(t){r.push(t.getId())});i.sort(function(t,e){let i,o;t.getContent().forEach(function(t){if(t.isA("sap.ui.mdc.FilterField")){i=t.getId()}});e.getContent().forEach(function(t){if(t.isA("sap.ui.mdc.FilterField")){o=t.getId()}});return r.indexOf(i??"")-r.indexOf(o??"")});return i};s._createInnerLayout=function t(){this._oFilterBarLayout=new i;this._cLayoutItem=n;this._oFilterBarLayout.getInner().addStyleClass("sapUiMdcFilterBarBaseAFLayout");this._addButtons();const e=this._oFilterBarLayout.getInner();const r={onBeforeRendering:()=>{if(this.initialLayout==="visual"){this._toggleLayout()}e.removeEventDelegate(r)}};e.addEventDelegate(r);this.setAggregation("layout",this._oFilterBarLayout,true)};s.exit=function t(){e.prototype.exit.call(this);if(this._oSegmentedButton){this._oSegmentedButton.detachEvent("selectionChange",this._toggleLayout);delete this._oSegmentedButton}};s.getSegmentedButton=function t(){return this._oSegmentedButton};s.enableRequests=function t(e,i){this.setSuspendSelection(!e);this._enableVisualFilterChartBindings(e,i)};s._getFilterLayoutByType=function t(e){const i=this._oFilterBarLayout.isA(e)?this._oFilterBarLayout:undefined;return!i&&this._oSecondaryFilterBarLayout?.isA(e)?this._oSecondaryFilterBarLayout:i};s._enableVisualFilterChartBindings=function t(e,i){const r=this._getFilterLayoutByType(C);if(r){r.enableChartBinding(e,i);return}const o=this._getFilterLayoutByType(A);if(o){const t=o.getAllVisualFilterFields();if(t){l.enableChartBinding(t,e,i)}}};return a}(a),g=S(h.prototype,"initialLayout",[u],{configurable:true,enumerable:true,writable:true,initializer:null}),y=S(h.prototype,"disableDraftEditStateFilter",[c],{configurable:true,enumerable:true,writable:true,initializer:null}),F=S(h.prototype,"toggleControl",[d],{configurable:true,enumerable:true,writable:true,initializer:null}),h))||f);return z},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/controls/NumberWithUnitOrCurrency", ["sap/fe/base/BuildingBlockBase","sap/fe/base/ClassSupport","sap/m/HBox","sap/m/Text","sap/fe/base/jsx-runtime/jsx","sap/fe/base/jsx-runtime/jsxs"],function(e,t,r,i,n,a){"use strict";var u,o,l,s,c,b,p,f,d;var y={};var m=t.property;var v=t.defineUI5Class;function h(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function g(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,x(e,t)}function x(e,t){return x=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},x(e,t)}function C(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer?(Object.defineProperty(e,t,a),null):a}function O(e,t){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let j=(u=v("sap.fe.macros.controls.NumberWithUnitOrCurrency"),o=m({type:"string"}),l=m({type:"string",bindToState:true}),s=m({type:"string",bindToState:true}),u(c=(b=function(e){function t(t,r){var i;i=e.call(this,t,r)||this;h(i,"id",p,i);h(i,"number",f,i);h(i,"unitOrCurrency",d,i);i.state.visible=i.shouldBeVisible(i.state.number);i.content=i.createContent();return i}y=t;g(t,e);var u=t.prototype;u.onStateChange=function e(t){if(t?.includes("number")){this.state.visible=this.shouldBeVisible(this.state.number)}};u.shouldBeVisible=function e(t){return typeof t==="string"&&t.trim()!==""||typeof t==="number"&&t!==0};u.createContent=function e(){return a(r,{renderType:"Bare",justifyContent:"End",class:"sapFeControlsUnitCurrencyHbox",visible:this.bindState("visible"),children:[n(i,{textDirection:"LTR",wrapping:"false",textAlign:"End",text:this.bindState("number")}),n(i,{textDirection:"LTR",wrapping:"false",textAlign:"End",text:this.bindState("unitOrCurrency"),width:"3.3em"})]})};return t}(e),p=C(b.prototype,"id",[o],{configurable:true,enumerable:true,writable:true,initializer:null}),f=C(b.prototype,"number",[l],{configurable:true,enumerable:true,writable:true,initializer:null}),d=C(b.prototype,"unitOrCurrency",[s],{configurable:true,enumerable:true,writable:true,initializer:null}),b))||c);y=j;return y},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/controls/RadioButtons", ["sap/fe/base/BindingToolkit","sap/fe/base/ClassSupport","sap/fe/core/CommonUtils","sap/fe/core/buildingBlocks/BuildingBlock","sap/m/RadioButton","sap/m/RadioButtonGroup","sap/ui/core/CustomData","sap/fe/base/jsx-runtime/jsx"],function(e,t,r,i,n,o,a,u){"use strict";var l,s,p,c,d,f,b,y,h,g,m,v,B,z,w,x,P,S,V,C,I,j,E,T,O;var R={};var k=t.property;var D=t.defineUI5Class;var G=e.pathInModel;function L(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function _(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,K(e,t)}function K(e,t){return K=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},K(e,t)}function $(e,t,r,i,n){var o={};return Object.keys(i).forEach(function(e){o[e]=i[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer?(Object.defineProperty(e,t,o),null):o}function U(e,t){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let q=(l=D("sap.fe.macros.controls.RadioButtons"),s=k({type:"string"}),p=k({type:"string[]"}),c=k({type:"string"}),d=k({type:"any",defaultValue:null}),f=k({type:"string"}),b=k({type:"object",bindToState:true}),y=k({type:"any",isBindingInfo:true}),h=k({type:"any",isBindingInfo:true}),g=k({type:"boolean"}),m=k({type:"string"}),v=k({type:"string"}),l(B=(z=function(e){function t(t,r){var i;i=e.call(this,t,r)||this;L(i,"id",w,i);L(i,"fieldGroupIds",x,i);L(i,"requiredExpression",P,i);L(i,"value",S,i);L(i,"fixedValuesPath",V,i);L(i,"possibleValues",C,i);L(i,"radioButtonTextProperty",I,i);L(i,"radioButtonKeyProperty",j,i);L(i,"horizontalLayout",E,i);L(i,"enabledExpression",T,i);L(i,"width",O,i);i.content=i.createContent();return i}R=t;_(t,e);var i=t.prototype;i.onRadioButtonSelect=function e(t){const i=t.getSource();const n=t.getParameter("selectedIndex");if(n!==undefined){const e=i?.getButtons()[n].getCustomData()[0].getValue();this.setProperty("value",e);r.getTargetView(i)?.getController()?._sideEffects?.handleFieldChange(t,true)}};i.bindProperty=function t(r,i){if(r==="value"&&!i.formatter){i.targetType="raw"}return e.prototype.bindProperty.call(this,r,i)};i.setValue=function e(t){this.value=t;if(this.content){const e=this.content.getButtons();if(e.length!=0){let r=0;for(const i of e){const e=i.getCustomData()[0].getBinding("value")?.getValue();if(e===t){this.content.setSelectedIndex(r);return}r++}}this.content.setSelectedIndex(-1)}};i.createContent=function e(){let t;if(this.possibleValues){t=this.bindState("possibleValues");this.radioButtonTextProperty=G("text","$componentState");this.radioButtonKeyProperty=G("key","$componentState")}else{t={path:`${this.fixedValuesPath}`,parameters:{$count:true},events:{dataReceived:e=>{const t=e.getSource()?.getCount();if(t!==undefined&&this.horizontalLayout){r.setColumns(t)}if(this.value!==undefined&&r.getSelectedIndex()===-1){this.setValue(this.value)}}}}}this.onRadioButtonSelect.bind(this);const r=u(o,{buttons:t,select:this.onRadioButtonSelect.bind(this),enabled:this.enabledExpression,fieldGroupIds:this.fieldGroupIds,ariaLabelledBy:this.ariaLabelledBy,width:this.width,columns:this.possibleValues?.length??1,children:u(n,{text:this.radioButtonTextProperty,customData:u(a,{value:this.radioButtonKeyProperty},"key"),class:"sapUiSmallMarginEnd",tooltip:this.radioButtonTextProperty})});return r};return t}(i),w=$(z.prototype,"id",[s],{configurable:true,enumerable:true,writable:true,initializer:null}),x=$(z.prototype,"fieldGroupIds",[p],{configurable:true,enumerable:true,writable:true,initializer:null}),P=$(z.prototype,"requiredExpression",[c],{configurable:true,enumerable:true,writable:true,initializer:null}),S=$(z.prototype,"value",[d],{configurable:true,enumerable:true,writable:true,initializer:null}),V=$(z.prototype,"fixedValuesPath",[f],{configurable:true,enumerable:true,writable:true,initializer:null}),C=$(z.prototype,"possibleValues",[b],{configurable:true,enumerable:true,writable:true,initializer:null}),I=$(z.prototype,"radioButtonTextProperty",[y],{configurable:true,enumerable:true,writable:true,initializer:null}),j=$(z.prototype,"radioButtonKeyProperty",[h],{configurable:true,enumerable:true,writable:true,initializer:null}),E=$(z.prototype,"horizontalLayout",[g],{configurable:true,enumerable:true,writable:true,initializer:function(){return false}}),T=$(z.prototype,"enabledExpression",[m],{configurable:true,enumerable:true,writable:true,initializer:function(){return""}}),O=$(z.prototype,"width",[v],{configurable:true,enumerable:true,writable:true,initializer:function(){return"100%"}}),z))||B);R=q;return R},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/controls/RequiredFlexBox", ["sap/fe/base/BuildingBlockBase","sap/fe/base/ClassSupport"],function(e,r){"use strict";var t,i,n,a,o,l,u,c,s;var p={};var f=r.property;var b=r.implementInterface;var d=r.defineUI5Class;function m(e,r,t,i){t&&Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(i):void 0})}function _(e,r){e.prototype=Object.create(r.prototype),e.prototype.constructor=e,v(e,r)}function v(e,r){return v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,r){return e.__proto__=r,e},v(e,r)}function y(e,r,t,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce(function(t,i){return i(e,r,t)||t},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer?(Object.defineProperty(e,r,a),null):a}function g(e,r){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let z=(t=d("sap.fe.macros.controls.RequiredFlexBox"),i=b("sap.ui.core.IFormContent"),n=f({type:"string"}),a=f({type:"boolean"}),t(o=(l=function(e){function r(){var r;for(var t=arguments.length,i=new Array(t),n=0;n<t;n++){i[n]=arguments[n]}r=e.call(this,...i)||this;m(r,"__implements__sap_ui_core_IFormContent",u,r);m(r,"id",c,r);m(r,"required",s,r);return r}p=r;_(r,e);return r}(e),u=y(l.prototype,"__implements__sap_ui_core_IFormContent",[i],{configurable:true,enumerable:true,writable:true,initializer:function(){return true}}),c=y(l.prototype,"id",[n],{configurable:true,enumerable:true,writable:true,initializer:null}),s=y(l.prototype,"required",[a],{configurable:true,enumerable:true,writable:true,initializer:null}),l))||o);p=z;return p},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/controls/Section", ["sap/base/Log","sap/fe/base/ClassSupport","sap/fe/base/HookSupport","sap/fe/core/CommonUtils","sap/fe/core/helpers/FPMHelper","sap/fe/macros/controls/section/mixin/SectionStateHandler","sap/ui/core/Component","sap/uxap/ObjectPageSection"],function(e,t,i,n,o,s,l,c){"use strict";var a,r,u,d,S,g,h,b,f,p,A,m;var T=t.property;var j=t.mixin;var C=t.defineUI5Class;function y(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function F(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,v(e,t)}function v(e,t){return v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},v(e,t)}function k(e,t,i,n,o){var s={};return Object.keys(n).forEach(function(e){s[e]=n[e]}),s.enumerable=!!s.enumerable,s.configurable=!!s.configurable,("value"in s||s.initializer)&&(s.writable=!0),s=i.slice().reverse().reduce(function(i,n){return n(e,t,i)||i},s),o&&void 0!==s.initializer&&(s.value=s.initializer?s.initializer.call(o):void 0,s.initializer=void 0),void 0===s.initializer?(Object.defineProperty(e,t,s),null):s}function O(e,t){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let w=(a=C("sap.fe.macros.controls.Section",{designtime:"sap/uxap/designtime/ObjectPageSection.designtime"}),r=j(s),u=T({type:"string"}),d=T({type:"boolean"}),S=T({type:"string"}),g=T({type:"string"}),a(h=r(h=(b=function(t){function s(e,i){var n;n=t.call(this,e,i)||this;y(n,"onSectionLoaded",f,n);y(n,"useSingleTextAreaFieldAsNotes",p,n);y(n,"applyStateHandler",A,n);y(n,"retrieveStateHandler",m,n);n.registerDelegate();return n}F(s,t);var c=s.prototype;c.registerDelegate=function e(){const t={onAfterRendering:()=>{const e=this.getSubSections();if(e.length){e.forEach(e=>{if(e.getBlocks()?.length===0){const t={onBeforeRendering:()=>{this.checkAndAdjustSectionContent();e.removeEventDelegate(t)}};e.addEventDelegate(t)}else{this.checkAndAdjustSectionContent()}})}else{this.checkAndAdjustSectionContent()}}};this.addEventDelegate(t)};c.checkAndAdjustSectionContent=function e(){const t=n.getTargetView(this);if(this.useSingleTextAreaFieldAsNotes){this.checkAndAdjustSectionContentForTextArea()}this.checkAndAdjustForSingleContent(t)};c.setOnSectionLoaded=function e(t){const i=t.split(".");this._sectionLoadMethodName=i?.pop();this._sectionLoadModuleName=i?.join("/");this.setProperty("onSectionLoaded",t)};c.applySettings=function e(n,o){t.prototype.applySettings.call(this,n,o);const s=l.getOwnerComponentFor(this);const c=s.getRootController();if(c){i.initControllerExtensionHookHandlers(this,c)}return this};c.updateNonTableSubSectionBackground=function e(t){if(this.hasStyleClass("sapUiTableOnObjectPageAdjustmentsForSection")){t.forEach(e=>{let{subSection:t,tablesAdjusted:i}=e;if(i){t.removeStyleClass("sapUiAdjustedSectionSubsectionWithoutTable")}else{t.addStyleClass("sapUiAdjustedSectionSubsectionWithoutTable")}})}};c.checkAndAdjustSectionContentForTextArea=function e(){const t=this.getVisibleSubSections();const i=t.reduce((e,t)=>{let i;const n=this.getSingleContent([t]);if(n){i=this.adjustForSingleContent(n).tablesAdjusted}e.push({subSection:t,tablesAdjusted:i});return e},[]);this.updateNonTableSubSectionBackground(i)};c.checkAndAdjustForSingleContent=function t(i){if(i?.getViewData()?.sectionLayout==="Page"){const t=this.getSingleContent();if(t&&(t.isA("sap.fe.macros.controls.section.ISingleSectionContributor")||this.checkIfNotesReuseComponent(t))){const{tablesAdjusted:e}=this.adjustForSingleContent(t);const i=this.getVisibleSubSections();this.updateNonTableSubSectionBackground([{subSection:i[0],tablesAdjusted:e}])}else if(this._sectionLoadModuleName&&this._sectionLoadMethodName){return o.loadModuleAndCallMethod(this._sectionLoadModuleName,this._sectionLoadMethodName,i,this)}else if(this.getSubSections().length>1){this.checkAndAdjustTitles()}else{e.debug("Section cannot be adjusted for single content : Interface 'ISingleSectionContributor' is not implemented")}}else{this.checkAndAdjustTitles()}};c.checkIfNotesReuseComponent=function e(t){if(t.isA("sap.m.VBox")&&t.getId().includes("NoteSection")){return true}return false};c.checkAndAdjustTitles=function e(){const t=this.getVisibleSubSections();if(t.length===1){const{tablesAdjusted:e}=this.adjustSectionContentWithTitle(t[0]);this.updateNonTableSubSectionBackground([{subSection:t[0],tablesAdjusted:e}])}else{const e=t.reduce((e,t)=>{let i;let n;const o=t.getBlocks();if(o.length===2&&o[1]?.isA("sap.fe.templates.ObjectPage.controls.SubSectionBlock")){i=this.adjustSectionContentWithTitle(t).tablesAdjusted}else if(o.length===1&&o[0]?.isA("sap.fe.templates.ObjectPage.controls.SubSectionBlock")){n=o[0].getAggregation("content");if(n.isA("sap.fe.macros.controls.section.ISingleSectionContributor")){i=this.adjustForSingleContent(n,{sectionFromReferenceFacet:true,SubSection:t,showTitle:this.getVisibleSubSections().length>1}).tablesAdjusted}else if(n?.isA("sap.ui.layout.DynamicSideContent")){n=n.getMainContent instanceof Function&&n?.getMainContent();if(n&&n.length===1){n=n[0];i=this.adjustForSingleContent(n,{sectionFromReferenceFacet:true,SubSection:t}).tablesAdjusted}}}e.push({subSection:t,tablesAdjusted:i});return e},[]);this.updateNonTableSubSectionBackground(e)}};c.adjustSectionContentWithTitle=function e(t){let i={};const n=t.getBlocks();let o;if(n.length===2&&n[1].isA("sap.fe.templates.ObjectPage.controls.SubSectionBlock")){o=n[1].getAggregation("content");if(o&&o.isA("sap.fe.macros.controls.section.ISingleSectionContributor")&&n[0].isA("sap.m.Title")){i=this.adjustForSingleContent(o,{sectionfromCollectionFacet:true,Title:n[0],SubSection:t,showTitle:this.getVisibleSubSections().length>1})}else if(o&&o.isA("sap.ui.layout.DynamicSideContent")){o=o.getMainContent instanceof Function&&o?.getMainContent();if(o&&o.length===1){o=o[0];i=this.adjustForSingleContent(o,{sectionfromCollectionFacet:true,Title:n[0],SubSection:t})}}}return{subSection:t,tablesAdjusted:i.tablesAdjusted}};c.getSingleContent=function e(t){const i=t??this.getVisibleSubSections();if(i.length===1){const e=i[0].getBlocks();if(e.length===1&&e[0].isA("sap.fe.templates.ObjectPage.controls.SubSectionBlock")){return e[0].getAggregation("content")}else if(e.length===2&&e[0].isA("sap.ui.core.InvisibleText")&&e[1].isA("sap.fe.templates.ObjectPage.controls.SubSectionBlock"))return e[1].getAggregation("content")}};c.getVisibleSubSections=function e(){const t=this.getSubSections();return t.reduce((e,t)=>{if(t.getVisible()){e.push(t)}return e},[])};c.getSectionTitle=function e(){let t=this.getTitle();if(this.getVisibleSubSections().length===1){t=this.getVisibleSubSections()[0].getTitle()}return t};c.adjustForSingleContent=function e(t,i){const n=new Set;const o=t;const s=o.getSectionContentRole&&o.getSectionContentRole();if(s==="provider"){const e=o.getDataFromProvider&&o.getDataFromProvider(this.useSingleTextAreaFieldAsNotes);if(e&&this.getTitle()===e.title){this.setShowTitle(true);n.add("sapUiTableOnObjectPageAdjustmentsForSection")}}else if(s==="consumer"){let e=this.getSectionTitle();if(i?.sectionfromCollectionFacet){e=i?.Title?.getText();i?.Title?.setVisible(false);i?.SubSection?.setShowTitle(false)}else if(i?.sectionFromReferenceFacet){e=i?.SubSection?.getTitle();i?.SubSection?.setShowTitle(false)}if(e===""&&i?.SubSection){e=(i?.SubSection).getTitle()}if(o.sendDataToConsumer){const t=this.getSubSections();const s=!!(t?.length>1);o.sendDataToConsumer({titleLevel:this.getTitleLevel(),title:e,headerStyle:s?"H5":"H4"});this.setShowTitle(!!i?.showTitle);n.add("sapUiTableOnObjectPageAdjustmentsForSection");if(!s)t[0].setShowTitle(false)}}else if(t?.isA("sap.m.Title")){const e=this.getVisibleSubSections()||[];const o=e.length>1;if(!i?.multipleSubSectionsWithReuseComponent){const e=t;e.setText(this.getTitle());e.setTitleStyle(o?"H5":"H4");e.setLevel(this.getTitleLevel());this.setShowTitle(false);n.add("sapUiTableOnObjectPageAdjustmentsForSection")}if(e.length===1){e[0].setShowTitle(false)}}else if(this.checkIfNotesReuseComponent(t)){const e=t.getItems();e.forEach(e=>{const t=e.getAggregation("headerToolbar");if(t){t?.getContent().forEach(e=>{if(e.isA("sap.m.Title")){const t=e;t.setText(this.getTitle());t.setTitleStyle("H4");t.setLevel(this.getTitleLevel())}})}});const i=this.getVisibleSubSections();if(i.length===1){i[0].setShowTitle(false)}this.setShowTitle(false);n.add("sapUiTableOnObjectPageAdjustmentsForSection")}this.addStyleClass(Array.from(n).join(" "));return{tablesAdjusted:n.has("sapUiTableOnObjectPageAdjustmentsForSection")}};return s}(c),f=k(b.prototype,"onSectionLoaded",[u],{configurable:true,enumerable:true,writable:true,initializer:null}),p=k(b.prototype,"useSingleTextAreaFieldAsNotes",[d],{configurable:true,enumerable:true,writable:true,initializer:null}),A=k(b.prototype,"applyStateHandler",[S],{configurable:true,enumerable:true,writable:true,initializer:null}),m=k(b.prototype,"retrieveStateHandler",[g],{configurable:true,enumerable:true,writable:true,initializer:null}),b))||h)||h);return w},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/controls/TextLink", ["sap/fe/base/ClassSupport","sap/fe/core/buildingBlocks/BuildingBlock","sap/fe/core/templating/SemanticObjectHelper","sap/m/Link","sap/m/Text","sap/m/library","sap/fe/base/jsx-runtime/jsx"],function(e,t,i,r,n,a,s){"use strict";var o,l,u,c,p,b,f,d,h,m,y,g,w,v,O;var j={};var x=a.LinkAccessibleRole;var z=e.property;var k=e.event;var L=e.defineUI5Class;function S(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function A(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,M(e,t)}function M(e,t){return M=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},M(e,t)}function C(e,t,i,r,n){var a={};return Object.keys(r).forEach(function(e){a[e]=r[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce(function(i,r){return r(e,t,i)||i},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer?(Object.defineProperty(e,t,a),null):a}function I(e,t){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let P=(o=L("sap.fe.macros.controls.TextLink"),l=z({type:"boolean",defaultValue:false}),u=z({type:"string",required:false}),c=z({type:"boolean",defaultValue:false}),p=z({type:"string",required:false}),b=z({type:"string",required:false}),f=k(),o(d=(h=function(e){function t(t,i){var r;r=e.call(this,t,i)||this;S(r,"showAsLink",m,r);S(r,"semanticObject",y,r);S(r,"wrapping",g,r);S(r,"text",w,r);S(r,"emptyIndicatorMode",v,r);S(r,"press",O,r);r.updateContent();return r}j=t;A(t,e);var a=t.prototype;a.setSemanticObject=function e(t){if(t){let e=[];this.semanticObject=t;const r=this.getModel("internal")?.getObject("/semanticObjects")??[];e=t.startsWith("[")?JSON.parse(t):[t];this.setShowAsLink(i.getReachableSemanticObjectsSettings(r,{semanticObjectsList:e,semanticObjectsExpressionList:[],qualifierMap:{}}).hasReachableStaticSemanticObject)}};a.setShowAsLink=function e(t){if(t!==this.showAsLink){this.setProperty("showAsLink",t);this.updateContent()}};a.setText=function e(t){this.setProperty("text",t);this.content?.setText(t)};a.createContent=function e(){if(this.showAsLink===true){return s(r,{text:this.text,wrapping:this.wrapping,emptyIndicatorMode:this.emptyIndicatorMode,press:e=>{this.fireEvent("press",e)},accessibleRole:x.Button})}else{return s(n,{text:this.text,wrapping:this.wrapping,emptyIndicatorMode:this.emptyIndicatorMode})}};a.updateContent=function e(){if(this.content){this.content.destroy()}this.content=this.createContent()};return t}(t),m=C(h.prototype,"showAsLink",[l],{configurable:true,enumerable:true,writable:true,initializer:null}),y=C(h.prototype,"semanticObject",[u],{configurable:true,enumerable:true,writable:true,initializer:null}),g=C(h.prototype,"wrapping",[c],{configurable:true,enumerable:true,writable:true,initializer:null}),w=C(h.prototype,"text",[p],{configurable:true,enumerable:true,writable:true,initializer:null}),v=C(h.prototype,"emptyIndicatorMode",[b],{configurable:true,enumerable:true,writable:true,initializer:null}),O=C(h.prototype,"press",[f],{configurable:true,enumerable:true,writable:true,initializer:null}),h))||d);j=P;return j},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/controls/filterbar/FilterContainer", ["sap/fe/base/ClassSupport","sap/ui/mdc/filterbar/aligned/FilterContainer"],function(t,e){"use strict";var i,l;var n=t.defineUI5Class;function s(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,o(t,e)}function o(t,e){return o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},o(t,e)}let r=(i=n("sap.fe.macros.controls.filterbar.FilterContainer"),i(l=function(t){function e(){return t.apply(this,arguments)||this}s(e,t);var i=e.prototype;i.init=function e(){this.aAllFilterFields=[];this.aAllVisualFilters={};t.prototype.init.call(this);this.oLayout.setParent(this)};i.exit=function e(){t.prototype.exit.call(this);this.aAllFilterFields.forEach(function(t){t.destroy()});Object.keys(this.aAllVisualFilters).forEach(t=>{this.aAllVisualFilters[t].destroy()})};i.insertFilterField=function e(i,l){const n={onBeforeRendering:function(){if(i._fnGetContentCopy){i.getContent=i._fnGetContentCopy}i.removeEventDelegate(n)}};i.addEventDelegate(n);i.getContent().forEach(t=>{if(t.isA("sap.ui.mdc.FilterField")){const e=t.getContent&&t.getContent();if(e&&e.isA("sap.fe.macros.visualfilters.VisualFilter")){const i=t.getId();this.aAllVisualFilters[i]=e;t.setContent(null)}}});this.aAllFilterFields.push(i);t.prototype.insertFilterField.call(this,i,l)};i.removeFilterField=function e(i){const l=this.aAllFilterFields.findIndex(function(t){return t.getId()===i.getId()});i.getContent().forEach(t=>{if(t.isA("sap.ui.mdc.FilterField")&&!t.getContent()){const e=t.getId();if(this.aAllVisualFilters[e]){t.setContent(this.aAllVisualFilters[e])}}});this.aAllFilterFields.splice(l,1);t.prototype.removeFilterField.call(this,i)};i.removeAllFilterFields=function t(){this.aAllFilterFields=[];this.aAllVisualFilters={};this.oLayout.removeAllContent()};i.getAllButtons=function t(){const e=this.oLayout.getEndContent();return e?.[0]?.getContent()?.[1]?.getContent()};i.removeButton=function t(e){this.oLayout.removeEndContent(e)};i.getAllFilterFields=function t(){return this.aAllFilterFields.filter(t=>!t.isDestroyed())};i.getAllVisualFilterFields=function t(){return this.aAllVisualFilters};i.setAllFilterFields=function t(e){this.aAllFilterFields=e};return e}(e))||l);return r},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/controls/filterbar/VisualFilter", ["sap/fe/base/ClassSupport","sap/fe/core/CommonUtils","sap/fe/macros/CommonHelper","sap/fe/macros/controls/filterbar/utils/VisualFilterUtils","sap/fe/macros/filter/FilterUtils","sap/fe/macros/filterBar/FilterHelper","sap/m/VBox","sap/ui/core/Lib","../../visualfilters/VisualFilterRuntime"],function(t,e,r,n,i,a,o,s,c){"use strict";var l,u,f,g,d;var p=a.getFiltersConditionsFromSelectionVariant;var h=t.implementInterface;var _=t.defineUI5Class;function m(t,e,r,n){r&&Object.defineProperty(t,e,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function I(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,P(t,e)}function P(t,e){return P=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},P(t,e)}function E(t,e,r,n,i){var a={};return Object.keys(n).forEach(function(t){a[t]=n[t]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,n){return n(t,e,r)||r},a),i&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(i):void 0,a.initializer=void 0),void 0===a.initializer?(Object.defineProperty(t,e,a),null):a}function v(t,e){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let C=(l=_("sap.fe.macros.controls.filterbar.VisualFilter"),u=h("sap.ui.core.IFormContent"),l(f=(g=function(t){function a(){var e;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++){n[i]=arguments[i]}e=t.call(this,...n)||this;m(e,"__implements__sap_ui_core_IFormContent",d,e);return e}I(a,t);var o=a.prototype;o.getChartBinding=function t(){const e=this.getInteractiveChart();const r=e?.getBinding("segments")||e?.getBinding("bars")||e?.getBinding("points");if(!this._oChartBinding||this._oChartBinding!==r){if(this._oChartBinding){this.detachDataReceivedHandler(this._oChartBinding)}this.attachDataRecivedHandler(r);this._oChartBinding=r}return this._oChartBinding};o.onAfterRendering=function t(){let e;const a=this.getInteractiveChart();const o=this.data("infoPath");const l=this.getChartBinding();const u=a.getBindingContext("internal");const f=s.getResourceBundleFor("sap.fe.macros");const g=a.data("showOverlayInitially");const d=a.data("selectionVariantAnnotation")?a.data("selectionVariantAnnotation"):{SelectOptions:[]};const h=a.data("requiredProperties")?r.parseCustomData(a.data("requiredProperties")):[];const _=a.getModel().getMetaModel();const m=l?l.getPath():"";let I=this.getParent()?.getParent()?.getParent();if(I.getMetadata().getElementName()==="sap.ui.mdc.filterbar.p13n.AdaptationFilterBar"){I=I.getParent()?.getParent()?.getParent()}let P={};let E=[];let v;if(I.isA("sap.fe.macros.controls.FilterBar")){P=I.getConditions();E=i.getFilterPropertyInfo(I);v=I.data("entityType").split("/")[1]}const C=a.data("parameters")?a.data("parameters"):[];const b=p(m,_,d,n.getCustomConditions.bind(n));const y=n.convertFilterCondions(b);const R={};Object.keys(P).forEach(function(t){if(P[t].length){R[t]=P[t]}});Object.keys(y).forEach(function(t){if(!R[t]){R[t]=y[t]}});if(g===true){if(!Object.keys(d).length){if(h.length>1){u.setProperty(o,{showError:true,errorMessageTitle:f.getText("M_VISUAL_FILTERS_ERROR_MESSAGE_TITLE"),errorMessage:f.getText("M_VISUAL_FILTERS_PROVIDE_FILTER_VAL_MULTIPLEVF")})}else{e=_.getObject(`${m}/${h[0]}@com.sap.vocabularies.Common.v1.Label`)||h[0];u.setProperty(o,{showError:true,errorMessageTitle:f.getText("M_VISUAL_FILTERS_ERROR_MESSAGE_TITLE"),errorMessage:f.getText("M_VISUAL_FILTERS_PROVIDE_FILTER_VAL_SINGLEVF",e)})}}else{const t=[];const e=[];if(d.SelectOptions){d.SelectOptions.forEach(function(e){t.push(e.PropertyName.$PropertyPath)})}if(d.Parameters){d.Parameters.forEach(function(e){t.push(e.PropertyName.$PropertyPath)})}h.forEach(function(r){if(!t.includes(r)){e.push(r)}});const r=n.getErrorInfoForNoInitialOverlay(e,f,m,_);u.setProperty(o,r)}}const T=u.getProperty(o)&&u.getProperty(o).showError;const F=m!==""?m.split("/")[1].split("(")[0]:"";if(C&&C.length&&v===F){const t=i.getBindingPathForParameters(I,R,E,C);if(t){l.sPath=t}}if(l&&l.isSuspended()&&!T){const t=c.getParentVisualFilterControlBB(this);t?._setInternalUpdatePending(undefined,false)}};o.attachDataRecivedHandler=function t(e){if(e){e.attachEvent("dataReceived",{},this.onInternalDataReceived,this);this._oChartBinding=e}};o.detachDataReceivedHandler=function t(e){if(e){e.detachEvent("dataReceived",this.onInternalDataReceived,this);this._oChartBinding=undefined}};o.getInteractiveChart=function t(){return this.getItems()[1].getItems()[0]};o.onInternalDataReceived=function t(r){const i=this.getId();const a=e.getTargetView(this);const o=this.getInteractiveChart();const c=this.data("infoPath");const l=o.getBindingContext("internal");const u=s.getResourceBundleFor("sap.fe.macros");const f=o.data("uom");n.updateChartScaleFactorTitle(o,a,i,c);if(r.getParameter("error")){const t=u.getText("M_VISUAL_FILTERS_ERROR_MESSAGE_TITLE");const e=u.getText("M_VISUAL_FILTERS_ERROR_DATA_TEXT");n.applyErrorMessageAndTitle(t,e,c,a)}else if(r.getParameter("data")){const t=r.getSource().getCurrentContexts();if(t&&t.length===0){n.setNoDataMessage(c,u,a)}else{l.setProperty(c,{})}n.setMultiUOMMessage(t,o,c,u,a)}if(f&&(f["ISOCurrency"]&&f["ISOCurrency"].$Path||f["Unit"]&&f["Unit"].$Path)){const t=r.getSource().getContexts();const e=t&&t[0].getObject();n.applyUOMToTitle(o,e,a,c)}};return a}(o),d=E(g.prototype,"__implements__sap_ui_core_IFormContent",[u],{configurable:true,enumerable:true,writable:true,initializer:function(){return true}}),g))||f);return C},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/controls/filterbar/VisualFilterContainer", ["sap/fe/base/ClassSupport","sap/m/FlexBox","sap/m/HeaderContainer","sap/ui/Device","sap/ui/core/library","sap/ui/mdc/filterbar/IFilterContainer","./utils/VisualFilterUtils"],function(e,t,i,n,r,o,l){"use strict";var a,s,u,c,d;var f=e.defineUI5Class;var F=e.aggregation;function h(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function p(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,m(e,t)}function m(e,t){return m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},m(e,t)}function C(e,t,i,n,r){var o={};return Object.keys(n).forEach(function(e){o[e]=n[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce(function(i,n){return n(e,t,i)||i},o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer?(Object.defineProperty(e,t,o),null):o}function b(e,t){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let v=(a=f("sap.fe.macros.controls.filterbar.VisualFilterContainer"),s=F({type:"sap.ui.core.Control",multiple:false,visibility:"hidden"}),a(u=(c=function(e){function o(){var t;for(var i=arguments.length,n=new Array(i),r=0;r<i;r++){n[r]=arguments[r]}t=e.call(this,...n)||this;h(t,"_layout",d,t);t.aVisualFilterFields={};return t}p(o,e);var a=o.prototype;a.init=function o(){e.prototype.init.call(this);const l=r.Orientation;const a=n.system.phone?l.Vertical:undefined;const s=n.system.phone?"ColumnReverse":"Column";this.oHeaderContainer=new i({orientation:a});this.oButtonFlexBox=new t({alignItems:"End",justifyContent:"End"});this.oLayout=new t({direction:s,items:[this.oHeaderContainer,this.oButtonFlexBox]});this.oLayout.setParent(this);this.aAllFilterFields=[];this.aVisualFilterFields={}};a.exit=function t(){e.prototype.exit.call(this);const i=this.getAllFilterFields();i.forEach(function(e){e.destroy()});this.oHeaderContainer=undefined;this.oButtonFlexBox=undefined;this.aAllFilterFields=[]};a.insertFilterField=function e(t,i){const n={onBeforeRendering:function(){if(!t._fnGetContentCopy){t._fnGetContentCopy=t.getContent}t.getContent=function(){const e=[];e.push(t._oFilterField);return e};t.removeEventDelegate(n)}};t.addEventDelegate(n);const r=this.aVisualFilterFields;t.getContent().some(e=>{const n=e.getId();if(r&&r[n]&&e.isA("sap.ui.mdc.FilterField")){e.setContent(r[n]);this.oHeaderContainer.insertContent(t,i)}})};a.removeFilterField=function e(t){this.oHeaderContainer.removeContent(t)};a.removeAllFilterFields=function e(){this.aAllFilterFields=[];this.aVisualFilterFields={};this.oHeaderContainer.removeAllContent()};a.getFilterFields=function e(){return this.oHeaderContainer.getContent()};a.addButton=function e(t){this.oButtonFlexBox.addItem(t)};a.getAllButtons=function e(){return this.oButtonFlexBox.getItems().reverse()};a.removeButton=function e(t){this.oButtonFlexBox.removeItem(t)};a.getAllFilterFields=function e(){return this.aAllFilterFields.filter(e=>!e.isDestroyed())};a.setAllFilterFields=function e(t,i){this.aAllFilterFields=t;this.aVisualFilterFields=i};a.enableChartBinding=function e(t,i){l.enableChartBinding(this.aVisualFilterFields??{},t,i)};return o}(o),d=C(c.prototype,"_layout",[s],{configurable:true,enumerable:true,writable:true,initializer:null}),c))||u);return v},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/controls/filterbar/utils/VisualFilterUtils", ["sap/base/Log","sap/fe/macros/filterBar/FilterHelper","sap/ui/core/format/NumberFormat","sap/ui/mdc/condition/Condition","sap/ui/model/odata/type/DateTimeOffset"],function(e,t,r,n,o){"use strict";var a=t.getTypeCompliantValue;var s=t.getRangeProperty;const i={applyMedianScaleToChartData:function(e,t,r,n){const o=[];const a=e.data("measure");const s=t.getBindingContext("internal");const i=e.getPoints&&e.getPoints()||e.getBars&&e.getBars()||e.getSegments&&e.getSegments();for(const e of i){o.push(e.getBindingContext().getObject())}const l=this._getMedianScaleFactor(o,a);if(l&&l.iShortRefNumber&&l.scale){s.setProperty(`scalefactor/${n}`,l.scale);s.setProperty(`scalefactorNumber/${n}`,l.iShortRefNumber)}else{s.setProperty(`scalefactor/${n}`,"");s.setProperty(`scalefactorNumber/${n}`,"");const e=t.byId(`${r}::ScaleUoMTitle`);const o=t.byId(`${r}::MeasureDimensionTitle`);const a=e.getText();if(a===" | "){e.setText("");o.setTooltip(o.getText())}}},_getMedianScaleFactor:function(e,t){let n;let o;e.sort(function(e,r){if(Number(e[t])<Number(r[t])){return-1}if(Number(e[t])>Number(r[t])){return 1}return 0});if(e.length>0){const r=e.length/2,a=r%1===0?(parseFloat(e[r-1][t])+parseFloat(e[r][t]))/2:parseFloat(e[Math.floor(r)][t]),s=a;for(n=0;n<14;n++){o=Math.pow(10,n);if(Math.round(Math.abs(s)/o)<10){break}}}const a=r.getIntegerInstance({style:"short",showScale:false,shortRefNumber:o});for(n=0;n<e.length;n++){const r=e[n],s=a.format(r[t]),i=s.split(".");if(!i[1]&&parseInt(i[0],10)===0||i[1]&&parseInt(i[0],10)===0&&i[1].indexOf("0")===0||Number(s)/1e3>=1e3){o=undefined;break}}return{iShortRefNumber:o,scale:o?a.getScale():""}},getFormattedNumber:function(e,t,n,o){let a;const s=typeof e==="string"?Number(e.replace(/,/g,"")):e;if(o){const e=r.getCurrencyInstance({showMeasure:false});return e.format(s,o)}else if(t){a=r.getFloatInstance({style:"short",showScale:false,shortRefNumber:t,shortDecimals:n});return a.format(s)}else{a=r.getFloatInstance({decimals:n});return a.format(s)}},applyUOMToTitle:function(e,t,r,n){const o=e.data("uom");let a;let s;if(o&&o["ISOCurrency"]){a=o["ISOCurrency"];s=a.$Path?t[a.$Path]:a}else if(o&&o["Unit"]){a=o["Unit"]}if(a){const e=a.$Path?t[a.$Path]:a;const o=r.getBindingContext("internal");o.setProperty(`uom/${n}`,e);if(s){o.setProperty(`currency/${n}`,e)}}},updateChartScaleFactorTitle:function(e,t,n,o){if(!e.data("scalefactor")){this.applyMedianScaleToChartData(e,t,n,o)}else{const n=r.getIntegerInstance({style:"short",showScale:false,shortRefNumber:e.data("scalefactor")});const a=t.getBindingContext("internal");const s=n.getScale()?n.getScale():"";a.setProperty(`scalefactor/${o}`,s)}},applyErrorMessageAndTitle:function(e,t,r,n){const o=n.getBindingContext("internal");o.setProperty(r,{});o.setProperty(r,{errorMessageTitle:e,errorMessage:t,showError:true})},checkMulitUnit:function(e,t){const r=[];if(e&&t){for(const n of e){const e=n&&n.getObject();r.push(e[t])}}return!!r.reduce(function(e,t){return e===t?e:NaN})},setMultiUOMMessage:function(t,r,n,o,a){const s=r.data("uom");const i=s&&s["ISOCurrency"]&&s["ISOCurrency"].$Path;const l=s&&s["Unit"]&&s["Unit"].$Path;const c=i||l;let u,f;if(c){if(!this.checkMulitUnit(t,c)){if(i){u=o.getText("M_VISUAL_FILTERS_ERROR_MESSAGE_TITLE");f=o.getText("M_VISUAL_FILTERS_MULTIPLE_CURRENCY",c);this.applyErrorMessageAndTitle(u,f,n,a);e.warning(`Filter is set for multiple Currency for${c}`)}else if(l){u=o.getText("M_VISUAL_FILTERS_ERROR_MESSAGE_TITLE");f=o.getText("M_VISUAL_FILTERS_MULTIPLE_UNIT",c);this.applyErrorMessageAndTitle(u,f,n,a);e.warning(`Filter is set for multiple UOMs for${c}`)}}}},setNoDataMessage:function(e,t,r){const n=t.getText("M_VISUAL_FILTERS_ERROR_MESSAGE_TITLE");const o=t.getText("M_VISUAL_FILTER_NO_DATA_TEXT");this.applyErrorMessageAndTitle(n,o,e,r)},convertFilterCondions:function(e){const t={};Object.keys(e).forEach(function(r){const o=[];const a=e[r];for(const e of a){const t=e.value2?[e.value1,e.value2]:[e.value1];o.push(n.createCondition(e.operator,t,null,null,"Validated"))}if(o.length){t[r]=o}});return t},getCustomConditions:function(e,t,r){let n,o;if(t.$Type==="Edm.DateTimeOffset"){n=this._parseDateTime(a(this._formatDateTime(e.Low),t.$Type,e.Option));o=e.High?this._parseDateTime(a(this._formatDateTime(e.High),t.$Type,e.Option)):null}else{n=e.Low;o=e.High?e.High:null}return{operator:e.Option?s(e.Option.$EnumMember||e.Option):null,value1:n,value2:o,path:r}},_parseDateTime:function(e){return this._getDateTimeTypeInstance().parseValue(e,"string")},_formatDateTime:function(e){return this._getDateTimeTypeInstance().formatValue(e,"string")},_getDateTimeTypeInstance:function(){return new o({pattern:"yyyy-MM-ddTHH:mm:ssZ",calendarType:"Gregorian"},{V4:true})},getErrorInfoForNoInitialOverlay:function(e,t,r,n){let o;if(e.length>1){o={showError:true,errorMessageTitle:t.getText("M_VISUAL_FILTERS_ERROR_MESSAGE_TITLE"),errorMessage:t.getText("M_VISUAL_FILTERS_PROVIDE_FILTER_VAL_MULTIPLEVF")}}else if(e.length===1){const a=n.getObject(`${r}/${e[0]}@com.sap.vocabularies.Common.v1.Label`)||e[0];o={showError:true,errorMessageTitle:t.getText("M_VISUAL_FILTERS_ERROR_MESSAGE_TITLE"),errorMessage:t.getText("M_VISUAL_FILTERS_PROVIDE_FILTER_VAL_SINGLEVF",[a])}}return o},enableChartBinding(t,r,n){const o=n?.filter?Object.keys(n.filter):[];for(const n in t){const a=t[n];if(a&&a.isA("sap.fe.macros.visualfilters.VisualFilter")){a.setEnableChartBinding(r,o)}else{e.error(`Control with id ${n} is not a VisualFilter`)}}}};return i},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/controls/section/ISingleSectionContributor", [],function(){"use strict"},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/controls/section/SubSection", ["sap/fe/base/ClassSupport","sap/fe/macros/controls/section/mixin/SubSectionStateHandler","sap/uxap/ObjectPageSubSection"],function(e,t,n){"use strict";var i,r,o,a,l,s,c,u;var p=e.property;var f=e.mixin;var b=e.defineUI5Class;function g(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function d(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,m(e,t)}function m(e,t){return m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},m(e,t)}function y(e,t,n,i,r){var o={};return Object.keys(i).forEach(function(e){o[e]=i[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(n,i){return i(e,t,n)||n},o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer?(Object.defineProperty(e,t,o),null):o}function S(e,t){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let A=(i=b("sap.fe.macros.controls.section.SubSection",{designtime:"sap/uxap/designtime/ObjectPageSubSection.designtime"}),r=f(t),o=p({type:"string"}),a=p({type:"string"}),i(l=r(l=(s=function(e){function t(t,n){var i;i=e.call(this,t,n)||this;g(i,"applyStateHandler",c,i);g(i,"retrieveStateHandler",u,i);const r={onBeforeRendering:()=>{i.checkAndApplyFormAlignmentClass()}};i.addEventDelegate(r);return i}d(t,e);var n=t.prototype;n.getVisibleContent=function e(){const t=this.getBlocks();const n=[];t.forEach(e=>{let t=e.getAggregation("content");if(t===null){return}if(!Array.isArray(t)){t=[t]}for(const e of t){if(e.getVisible()){n.push(e)}}});return n};n.isEligibleForAlignment=function e(t){return t.isA(["sap.ui.layout.form.Form","sap.fe.macros.form.FormAPI","sap.m.Panel","sap.m.Table","sap.m.List"])};n.checkAndApplyFormAlignmentClass=function e(){const t=this.getVisibleContent();if(t.length===1&&this.isEligibleForAlignment(t[0])){t[0].addStyleClass("sapUxAPObjectPageSubSectionAlignContent")}else{for(const e of t){e.removeStyleClass("sapUxAPObjectPageSubSectionAlignContent")}}};n.setTitle=function t(n){e.prototype.setTitle.call(this,n);const i=this.getParent();if(i&&i.isA("sap.fe.macros.controls.Section")&&i.checkAndAdjustSectionContent){i.checkAndAdjustSectionContent()}return this};return t}(n),c=y(s.prototype,"applyStateHandler",[o],{configurable:true,enumerable:true,writable:true,initializer:null}),u=y(s.prototype,"retrieveStateHandler",[a],{configurable:true,enumerable:true,writable:true,initializer:null}),s))||l)||l);return A},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/controls/section/mixin/BaseStateHandler", ["sap/base/Log","sap/fe/core/CommonUtils","sap/fe/core/controllerextensions/viewState/IViewStateContributorMixin","sap/fe/core/helpers/LoaderUtils"],function(t,e,n,a){"use strict";var i={};var s=a.requireDependencies;function r(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,l(t,e)}function l(t,e){return l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},l(t,e)}let o=function(n){function a(){return n.apply(this,arguments)||this}i=a;r(a,n);var l=a.prototype;l.setupMixin=function t(e){n.prototype.setupMixin.call(this,e);const a=e.prototype.init;e.prototype.init=function(){a?.call(this);this.setupStateInteractionsForLazyRendering()}};l.setupStateInteractionsForLazyRendering=function t(){};l.isBlocksAvailable=function t(){return false};l.registerSubSectionDelegate=function t(e){const n={onBeforeRendering:()=>{if(this.checkForStateInteractions()){e.removeEventDelegate(n)}}};e.addEventDelegate(n)};l.setInitialState=async function t(){};l.retrieveState=async function t(){await this._stateHandlersAvailable;if(this._retrieveHandler){const t=this.isBlocksAvailable();if(t){this._retrieveStatePending=false;const t=e.getTargetView(this);const n=t.getController().getExtensionAPI();return this._retrieveHandler.call(n,this)}else if(this._applyStatePending){this._retrieveStatePending=false;return this._stateToApply??null}else{this._retrieveStatePending=true}}return null};l.applyLegacyState=async function t(e){const n=e(this);return this.applyState(n)};l.applyState=async function t(n){await this._stateHandlersAvailable;if(this._applyHandler){const t=this.isBlocksAvailable();if(t){const t=e.getTargetView(this);const a=t.getController().getExtensionAPI();this.resetStateToApply();return this._applyHandler?.call(a,this,n)}else{this._stateToApply=n;this._applyStatePending=true}}};l.triggerStateInteractions=async function t(){await this._stateHandlersAvailable;const n=this._retrieveHandler&&this._retrieveStatePending;const a=this._applyHandler&&this._applyStatePending;if(n){if(a){this.applyState(this._stateToApply)}this._retrieveStatePending=false;const t=e.getTargetView(this);const n=t.getController().getExtensionAPI();await n.updateAppState()}else if(a){this.applyState(this._stateToApply)}};l.resetStateToApply=function t(){this._stateToApply=undefined;this._applyStatePending=false};l.checkForStateInteractions=function t(){const e=this.isBlocksAvailable();if(e){this.triggerStateInteractions();return true}return false};l.getStateHandlerInstance=async function e(n){try{if(n){const t=this.getModulePath(n);const e=await s([t]);const a=n.substring(n.lastIndexOf(".")+1);const i=e[0][a];if(i){return i}else{throw new Error("handler not found")}}}catch(e){t.warning(`'${this.getId()}' control's state handler '${n}' couldn't be resolved: ${e}`)}};l._setStateHandler=async function t(e,n){this[`_${e}Handler`]=await this.getStateHandlerInstance(n);this[`${e}StateHandler`]=n};l.setApplyStateHandler=async function t(e){this._stateHandlersAvailable=(this._stateHandlersAvailable||Promise.resolve()).then(async()=>this._setStateHandler("apply",e));return this._stateHandlersAvailable};l.setRetrieveStateHandler=async function t(e){this._stateHandlersAvailable=(this._stateHandlersAvailable||Promise.resolve()).then(async()=>this._setStateHandler("retrieve",e));return this._stateHandlersAvailable};l.getModulePath=function t(e){return e.substring(0,e.lastIndexOf(".")).replace(/\./g,"/")};return a}(n);i=o;return i},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/controls/section/mixin/SectionStateHandler", ["sap/fe/macros/controls/section/mixin/BaseStateHandler","sap/uxap/BlockBase"],function(t,e){"use strict";var n={};function i(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,o(t,e)}function o(t,e){return o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},o(t,e)}let s=function(t){function o(){return t.apply(this,arguments)||this}n=o;i(o,t);var s=o.prototype;s.setupStateInteractionsForLazyRendering=function t(){if(this.isSubSectionsAvailable()){this.checkForSectionStateInteractions()}else{const t={onBeforeRendering:()=>{if(this.isSubSectionsAvailable()){this.checkForSectionStateInteractions();this.removeEventDelegate(t)}}};this.addEventDelegate(t)}};s.checkForSectionStateInteractions=function t(){if(!this.checkForStateInteractions()){const t=this.getSubSections();t.forEach(this.registerSubSectionDelegate.bind(this))}};s.isSubSectionsAvailable=function t(){return this.getSubSections().length>0};s.isBlocksAvailable=function t(){const n=this.getSubSections();return n.some(t=>{const n=t.getBlocks().filter(t=>t instanceof e);return n.length>0})};return o}(t);n=s;return n},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/controls/section/mixin/SubSectionStateHandler", ["sap/fe/macros/controls/section/mixin/BaseStateHandler","sap/uxap/BlockBase"],function(t,e){"use strict";var n={};function o(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,r(t,e)}function r(t,e){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},r(t,e)}let i=function(t){function r(){return t.apply(this,arguments)||this}n=r;o(r,t);var i=r.prototype;i.setupStateInteractionsForLazyRendering=function t(){if(!this.checkForStateInteractions()){this.registerSubSectionDelegate(this)}};i.isBlocksAvailable=function t(){const n=this.getBlocks().filter(t=>t instanceof e);return n.length>0};return r}(t);n=i;return n},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/coreUI/CreateDialog", ["sap/fe/base/BindingToolkit","sap/fe/base/ClassSupport","sap/fe/core/ActionRuntime","sap/fe/core/controllerextensions/BusyLocker","sap/fe/core/converters/MetaModelConverter","sap/fe/core/helpers/MetaModelFunction","sap/fe/core/helpers/ResourceModelHelper","sap/fe/core/helpers/StableIdHelper","sap/fe/core/templating/DataModelPathHelper","sap/fe/core/templating/FieldControlHelper","sap/fe/core/templating/PropertyHelper","sap/fe/macros/field/FieldHelper","sap/fe/macros/internal/valuehelp/ValueHelpTemplating","sap/m/Button","sap/m/Dialog","sap/m/Label","sap/ui/base/EventProvider","sap/ui/core/CustomData","sap/ui/core/Messaging","sap/ui/core/message/MessageType","sap/ui/layout/form/SimpleForm","sap/ui/mdc/Field","sap/ui/mdc/ValueHelp","sap/ui/mdc/valuehelp/Dialog","sap/ui/mdc/valuehelp/Popover","sap/ui/mdc/valuehelp/content/MTable","sap/ui/model/odata/v4/AnnotationHelper","sap/fe/base/jsx-runtime/jsx","sap/fe/base/jsx-runtime/Fragment","sap/fe/base/jsx-runtime/jsxs"],function(e,t,i,a,o,n,r,s,l,c,d,u,p,f,h,g,m,v,C,E,b,P,M,y,T,x,F,O,A,D){"use strict";var I,_,H,V,N;var R={};var S=p.useCaseSensitiveFilterRequests;var j=p.requiresValidation;var L=d.hasValueHelp;var w=c.isRequiredExpression;var B=l.getTargetObjectPath;var z=l.enhanceDataModelPath;var q=s.generate;var U=r.getResourceModel;var k=n.getRequiredPropertiesFromInsertRestrictions;var $=o.getInvolvedDataModelObjects;var K=t.event;var W=t.defineUI5Class;var G=e.or;var Q=e.compileExpression;function J(e,t,i,a){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(a):void 0})}function X(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Y(e,t)}function Y(e,t){return Y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Y(e,t)}function Z(e,t,i,a,o){var n={};return Object.keys(a).forEach(function(e){n[e]=a[e]}),n.enumerable=!!n.enumerable,n.configurable=!!n.configurable,("value"in n||n.initializer)&&(n.writable=!0),n=i.slice().reverse().reduce(function(i,a){return a(e,t,i)||i},n),o&&void 0!==n.initializer&&(n.value=n.initializer?n.initializer.call(o):void 0,n.initializer=void 0),void 0===n.initializer?(Object.defineProperty(e,t,n),null):n}function ee(e,t){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let te=(I=W("sap.fe.core.services.RoutingServiceEventing"),_=K(),I(H=(V=function(e){function t(){var t;for(var i=arguments.length,a=new Array(i),o=0;o<i;o++){a[o]=arguments[o]}t=e.call(this,...a)||this;J(t,"exitDialog",N,t);return t}X(t,e);return t}(m),N=Z(V.prototype,"exitDialog",[_],{configurable:true,enumerable:true,writable:true,initializer:null}),V))||H);let ie=function(){function e(e,t,i,a,o){this.actionParameterInfos=[];this.eventProvider=new te;this.contextToUpdate=e;this.fieldNames=t;this.appComponent=i;this.mode=a;this.parentControl=o;const n=e.getModel();this.metaModel=n.getMetaModel();const r=this.metaModel.getMetaPath(e.getPath());this.requiredFieldNames=k(r,this.metaModel)}R=e;var t=e.prototype;t.attachExitDialog=function e(t,i,a){this.eventProvider.attachEvent("exitDialog",t,i,a)};t.fireExitDialog=function e(t){this.eventProvider.fireEvent("exitDialog",{accept:t})};t.getEditMode=function e(t){if(t.annotations.Common?.FieldControl){const e=t.annotations.Common.FieldControl;return e.$EnumMember==="com.sap.vocabularies.Common.v1.FieldControlType/ReadOnly"?"Display":"Editable"}else{return"Editable"}};t.getFieldVHTypeAhead=function e(t,i,a){return O(T,{children:O(x,{id:q([t,"VH","Popover","qualifier"]),caseSensitive:S(a,a.convertedTypes.entityContainer.annotations.Capabilities?.FilterFunctions??[]),useAsValueHelp:!!i.annotations.Common?.ValueListWithFixedValues})})};t.getFieldVHDialog=function e(t){if(t.annotations.Common?.ValueListWithFixedValues?.valueOf()!==true){return O(y,{})}else{return undefined}};t.getFieldValueHelp=function e(t,i,a){if(!L(i)){return undefined}const o={name:"sap/fe/macros/valuehelp/ValueHelpDelegate",payload:{propertyPath:B(a),qualifiers:{},valueHelpQualifier:""}};return O(M,{id:q([t,"VH"]),delegate:o,validateInput:j(i),typeahead:this.getFieldVHTypeAhead(t,i,a),dialog:this.getFieldVHDialog(i)})};t.createFormElement=function e(t,i,a){const o=z(i,t);const n=o.targetObject;const r=this.metaModel.createBindingContext(`${a}/${t}`);const s=this.metaModel.createBindingContext(`${a}/${t}@com.sap.vocabularies.UI.v1.Placeholder`);const l=O(P,{delegate:{name:"sap/fe/macros/field/FieldBaseDelegate",payload:{retrieveTextFromValueList:true}},id:q(["CreateDialog",i.targetEntityType.name,t]),value:F.format(r.getObject(),{context:r}),placeholder:F.value(s.getObject(),{context:s}),width:"100%",required:Q(G(w(n),this.requiredFieldNames.includes(t))),display:u.getAPDialogDisplayFormat(r.getObject(),{context:r}),valueHelp:L(n)?q([t,"VH"]):undefined,editMode:this.getEditMode(n),dependents:this.getFieldValueHelp(t,n,o),customData:O(v,{value:t},"fieldName"),liveChange:this.handleLiveChange.bind(this),change:this.handleChange.bind(this)});this.actionParameterInfos.push({isMultiValue:false,field:l,value:l.getValue(),validationPromise:undefined,hasError:false,propertyPath:t});return D(A,{children:[O(g,{text:n.annotations.Common?.Label}),l]})};t.afterOpen=function e(){const t=this.actionParameterInfos[0].field;const i=t.getFocusInfo();i.targetInfo={silent:true};t.focus(i)};t.createDialog=function e(){const t=U(this.parentControl??this.appComponent);const i=this.metaModel.getMetaPath(this.contextToUpdate.getPath());const a=this.metaModel.createBindingContext(i);const o=$(a);this.actionParameterInfos=[];const n=t.getText(this.mode==="Standalone"?"C_TRANSACTION_HELPER_SAPFE_ACTION_CREATE_BUTTON_CREATE":"C_TRANSACTION_HELPER_SAPFE_ACTION_CREATE_BUTTON_CONTINUE");const r=O(f,{text:t.getText("C_COMMON_ACTION_PARAMETER_DIALOG_CANCEL"),press:this.onCancel.bind(this)});return O(h,{id:q(["CreateDialog",i]),title:t.getText("C_TRANSACTION_HELPER_SAPFE_ACTION_CREATE",undefined,o.targetEntitySet?.name),afterOpen:()=>{this.afterOpen()},resizable:true,draggable:true,initialFocus:r,children:{beginButton:O(f,{text:n,press:this.onOK.bind(this),type:"Emphasized"}),endButton:r,content:O(b,{children:this.fieldNames.map(e=>this.createFormElement(e,o,i))})}})};t.displayErrorMessages=function e(t){const i=this.metaModel.getMetaPath(this.contextToUpdate.getPath());for(const e of t){for(const t of e.getTargets()){const a=this.metaModel.getMetaPath(t);const o=this.actionParameterInfos.find(e=>`${i}/${e.propertyPath}`===a);if(o){o.hasError=true;o.field.setValueState(e.getType()||E.Error);o.field.setValueStateText(e.getMessage());const t=e.getControlIds();if(!t.includes(o.field.getId())){t.push(o.field.getId())}}}}};t.removeMessagesForActionParameter=function e(t){const i=C.getMessageModel().getData();const a=i.filter(e=>e.getControlIds().some(e=>e.includes(t)));C.removeMessages(a)};t.handleLiveChange=function e(t){const i=t.getSource().getId();this.removeMessagesForActionParameter(i)};t.handleChange=async function e(t){const i=t.getSource();const a=this.actionParameterInfos.find(e=>e.field===i);if(a!==undefined){this.removeMessagesForActionParameter(i.getId());a.validationPromise=t.getParameter("promise");try{a.value=await a.validationPromise;a.hasError=false;a.field.setValueState(E.None)}catch(e){delete a.value;a.hasError=true}}};t.onOK=async function e(){const t=U(this.appComponent);if(await i.validateProperties(this.actionParameterInfos,t)){this.fireExitDialog(true)}};t.onCancel=function e(){this.fireExitDialog(false)};t.onEscape=function e(t){t.reject();this.onCancel()};t.openDialog=function e(){if(this.dialog){throw new Error("Cannot open the Create dialog twice")}this.dialog=this.createDialog();this.dialog.setEscapeHandler(this.onEscape.bind(this));this.parentControl?.addDependent(this.dialog);this.dialog.setBindingContext(this.contextToUpdate);this.dialog.open();return this.dialog};t.closeDialog=function e(){for(const e of this.actionParameterInfos){const t=e.field.getId();this.removeMessagesForActionParameter(t)}if(this.dialog&&a.isLocked(this.dialog)){a.unlock(this.dialog)}this.dialog?.close();this.dialog?.destroy();this.dialog=undefined};t.setBusy=function e(t){if(!this.dialog){return}if(t){a.lock(this.dialog)}else{a.unlock(this.dialog)}};t.isOpen=function e(){return this.dialog?.isOpen()??false};return e}();R=ie;return R},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/coreUI/OperationParameterDialog", ["sap/base/Log","sap/fe/base/BindingToolkit","sap/fe/core/ActionRuntime","sap/fe/core/CommonUtils","sap/fe/core/controllerextensions/BusyLocker","sap/fe/core/controllerextensions/editFlow/editFlowConstants","sap/fe/core/controllerextensions/editFlow/operations/ODataOperation","sap/fe/core/controllerextensions/editFlow/operations/Operation","sap/fe/core/controllerextensions/editFlow/operations/actionHelper","sap/fe/core/converters/MetaModelConverter","sap/fe/core/converters/annotations/DataField","sap/fe/core/helpers/FPMHelper","sap/fe/core/helpers/ModelHelper","sap/fe/core/helpers/ResourceModelHelper","sap/fe/core/helpers/StableIdHelper","sap/fe/core/helpers/TypeGuards","sap/fe/core/library","sap/fe/core/templating/DataModelPathHelper","sap/fe/core/templating/FieldControlHelper","sap/fe/core/templating/PropertyHelper","sap/fe/macros/field/FieldHelper","sap/fe/macros/internal/valuehelp/ValueHelpTemplating","sap/m/Button","sap/m/Dialog","sap/m/Label","sap/m/MessageBox","sap/m/MessageStrip","sap/ui/core/Messaging","sap/ui/core/Title","sap/ui/core/message/MessageType","sap/ui/layout/form/SimpleForm","sap/ui/mdc/Field","sap/ui/mdc/MultiValueField","sap/ui/mdc/ValueHelp","sap/ui/mdc/enums/FieldEditMode","sap/ui/mdc/field/MultiValueFieldItem","sap/ui/mdc/valuehelp/Dialog","sap/ui/mdc/valuehelp/Popover","sap/ui/mdc/valuehelp/content/MTable","sap/ui/model/json/JSONModel","sap/ui/model/odata/v4/AnnotationHelper","sap/ui/unified/FileUploader","sap/ui/unified/FileUploaderHttpRequestMethod","../internal/helpers/Upload","sap/fe/base/jsx-runtime/jsx","sap/fe/base/jsx-runtime/Fragment","sap/fe/base/jsx-runtime/jsxs"],function(e,t,a,s,i,n,r,o,l,c,u,m,p,d,h,f,g,P,y,v,M,x,E,C,F,T,O,b,A,V,D,I,w,_,N,$,L,S,R,B,H,U,j,k,q,G,K){"use strict";var z={};var W=k.showTypeMismatchDialog;var X=k.showFileSizeExceedDialog;var Y=k.displayMessageForFailedUpload;var J=x.useCaseSensitiveFilterRequests;var Q=x.requiresValidation;var Z=v.isMultiLineText;var ee=v.hasValueHelp;var te=y.isReadOnlyExpression;var ae=y.isDisabledExpression;var se=y.isActionParameterRequiredExpression;var ie=P.getTargetNavigationPath;var ne=f.isPathAnnotationExpression;var re=f.isFulfilled;var oe=h.generate;var le=d.getResourceModel;var ce=u.hasFieldGroupTarget;var ue=c.getInvolvedDataModelObjects;var me=c.convertTypes;var pe=t.not;var de=t.ifElse;var he=t.getExpressionFromAnnotation;var fe=t.equal;var ge=t.constant;var Pe=t.compileExpression;var ye=t.EDM_TYPE_MAPPING;let ve=function(){function t(e,t,a,s,i){this.isDialogOpen=false;this.buttonLock=false;this.actionParameterInfos=[];this.parameterModel=new B({$displayMode:{}});this.action=e;this.parameters=t;this.parameterValues=a;this.entitySetName=s;this.messageHandler=i;this.actionName=l.getActionName(this.action);this.metaModel=this.parameters.model.getMetaModel();this.resourceModel=this.parameters.view?le(this.parameters.view):le(this.parameters.appComponent);this.parametersValuesPromise=new Promise((e,t)=>{this.parametersValuesResolve=e;this.parametersValuesReject=t})}z=t;var c=t.prototype;c.getParameterEditMode=function e(t){const a=t.annotations,s=a.Common?.FieldControl,i=a.Core?.Immutable?.valueOf(),n=a.Core?.Computed?.valueOf();if(i||n){return ge(N.ReadOnly)}else if(s){return de(te(t),N.ReadOnly,de(ae(t),N.Disabled,N.Editable))}return ge(N.Editable)};c.createFormElement=async function e(t){const a=this.action.isBound?`${this.metaModel.getMetaPath(this.parameters.contexts[0].getPath())}/${me(this.metaModel).namespace}.${this.action.name}`:`/${this.action.name}`;const s=this.metaModel.createBindingContext(`${a}/${t.name}`);let i;let n=t.annotations.Common?.Label?this.resourceModel.getText(t.annotations.Common.Label.toString()):t.name;let r;if(t.isCollection){i=await this.createMultiField(t,s)}else if(!t.type.startsWith("Edm.")&&this.getStreamProperty(t)){r=this.getStreamProperty(t);n=r?.annotations.Common?.Label?this.resourceModel.getText(r.annotations.Common.Label.toString()):r?.name;i=this.createFileUploader(t)}else{i=await this.createField(t,s)}return K(G,{children:[q(F,{id:oe(["APD_",t.name,r?.name,"Label"]),text:n}),i]})};c.createMultiField=async function t(a,s){let i="Value";try{i=await M.getAPDialogDisplayFormat(s.getObject(),{context:s})}catch(t){e.warning(`Parameter dialog multifield: display format couldn't be calculated for parameter '${a.name}': ${t}`)}const n=a.annotations.UI?.Placeholder;const r=n?Pe(he(n)):undefined;const o=ye?.[a.type]?.type;return q(w,{id:oe(["APD_",a.name]),placeholder:r,items:{path:`mvfview>/${a.name}`},delegate:{name:"sap/fe/core/controls/MultiValueParameterDelegate"},display:i,editMode:this.getParameterEditMode(a),width:"100%",multipleLines:a.annotations.UI?.MultiLineText?.valueOf()===true,required:Pe(se(a,this.action,me(this.metaModel))),valueHelp:ee(a)?oe([this.actionName,a.name]):undefined,change:async e=>this.handleFieldChange(e,a),visible:Pe(pe(fe(he(a.annotations?.UI?.Hidden),true))),ariaLabelledBy:[oe(["APD_",a.name,"Label"])],dependents:this.createParameterDialogValueHelp(a,s),children:q($,{description:"{mvfview>Desc}"},`{path: 'mvfview>Key', type:'${o}'}`)})};c.createFileUploader=function e(t){let a;if(this.getStreamProperty(t)?.annotations.Core?.AcceptableMediaTypes){const e=Array.from(this.getStreamProperty(t)?.annotations.Core?.AcceptableMediaTypes).map(e=>`'${e}'`);a=`{=odata.collection([${e.join(",")}])}`}const s=function(e){const t=e.getSource();const a=e.getParameter("mimeType");const s=t.getMimeType();if(a){W(t,a,s)}};const i=M.calculateMBfromByte(this.getStreamProperty(t)?.maxLength);const n=function(e){const t=e?.getSource();X(t,t.getMaximumFileSize().toFixed(3))};const r=function(e){if(e.getParameter("status")===0||e.getParameter("status")>=400){Y(e.getSource(),e.getParameter("responseRaw")||e.getParameter("response"))}};return q(U,{name:"FEV4FileUpload",buttonOnly:"false",iconOnly:"true",multiple:"false",tooltip:"{sap.fe.i18n>M_FIELD_FILEUPLOADER_UPLOAD_BUTTON_TOOLTIP}",icon:"sap-icon://upload",style:"Transparent",sendXHR:"true",useMultipart:"false",sameFilenameAllowed:"true",uploadOnChange:"false",mimeType:a,typeMissmatch:s,maximumFileSize:i,fileSizeExceed:n,httpRequestMethod:j.Put,uploadComplete:r,change:async e=>this.handleFileUploaderChange(e,t)})};c.createField=async function t(a,s){let i="Value";let n;try{i=await M.getAPDialogDisplayFormat(s.getObject(),{context:s});if(ee(a)){n=await this.getAdditionalValue({context:s})}}catch(t){e.warning(`Parameter dialog field: display format couldn't be calculated for parameter '${a.name}': ${t}`)}const r=a.annotations.UI?.Placeholder;const o=r?Pe(he(r)):undefined;return q(I,{delegate:{name:"sap/fe/macros/field/FieldBaseDelegate",payload:{retrieveTextFromValueList:true}},id:oe(["APD_",a.name]),value:H.format(s.getObject(),{context:s}),placeholder:o,display:i,editMode:this.getParameterEditMode(a),width:"100%",multipleLines:Z(a),required:Pe(se(a,this.action,me(this.metaModel))),change:async e=>this.handleFieldChange(e,a),valueHelp:ee(a)?oe([this.actionName,a.name]):undefined,dependents:this.createParameterDialogValueHelp(a,s),visible:Pe(de(a.name==="ResultIsActiveEntity",false,pe(fe(he(a.annotations?.UI?.Hidden),true)))),ariaLabelledBy:[oe(["APD_",a.name,"Label"])],additionalValue:n})};c.createParameterDialogValueHelp=function e(t,a){if(!ee(t)){return undefined}return q(_,{id:oe([this.actionName,t.name]),delegate:{name:"sap/fe/macros/valuehelp/ValueHelpDelegate",payload:{propertyPath:this.action.isBound?`${ie(ue(a))}/${this.actionName}/${t.name}`:`/${this.action.name.substring(this.action.name.lastIndexOf(".")+1)}/${t.name}`,qualifiers:{},valueHelpQualifier:""}},validateInput:Q(t),typeahead:q(S,{children:q(R,{id:oe([this.actionName,t.name,"Popover","qualifier"]),caseSensitive:this.action.isBound?J(ue(a),me(this.metaModel).entityContainer.annotations.Capabilities?.FilterFunctions??[]):p.isFilteringCaseSensitive(this.metaModel),useAsValueHelp:!!t.annotations.Common?.ValueListWithFixedValues})}),dialog:this.createFieldVHDialog(t)})};c.createFieldVHDialog=function e(t){if(t.annotations.Common?.ValueListWithFixedValues?.valueOf()!==true){return q(L,{})}else{return undefined}};c.handleFieldChange=async function e(t,s){const i=t.getParameter("promise");const n=t.getSource();const r=this.actionParameterInfos.find(e=>e.field===n);if(!r){return}r.validationPromise=i;this.removeMessagesForParameter(s);try{r.value=await i;this.parameters.parametersValues[r.parameter.name]=r.value;r.hasError=false}catch(e){delete r.value;r.hasError=true;a._addMessageForActionParameter([{actionParameterInfo:r,message:e.message}])}};c.handleFileUploaderChange=async function e(t,a){const s=t.getParameter("files");const i=t.getSource();const n=this.actionParameterInfos.find(e=>e.field===i);if(!n||!s){return}this.removeMessagesForParameter(a);n.value={};if(this.getStreamProperty(a)){n.value[this.getStreamProperty(a)?.name]=await this.getBase64File(s);n.value[this.getMimeTypePath(a).path]=s[0].type||"application/octet-stream";n.value[this.getFileNamePath(a)]=s[0].name;n.hasError=false;this.parameters.parametersValues[n.parameter.name]=n.value}};c.getFileNamePath=function e(t){return(this.getStreamProperty(t)?.annotations.Core?.ContentDisposition?.Filename).path};c.getMimeTypePath=function e(t){return he(this.getStreamProperty(t)?.annotations.Core?.MediaType)};c.getStreamProperty=function e(t){return t.typeReference.properties?.find(e=>e.type==="Edm.Stream")};c.getBase64File=async function e(t){return new Promise(e=>{const a=new FileReader;a.onload=()=>{if(!a.result){return}e(a.result.split(",")[1])};a.readAsDataURL(t.item(0))})};c.removeMessagesForParameter=function e(t){const a=b.getMessageModel().getData();const s=oe(["APD_",t.name]);const i=a.filter(e=>e.getControlIds().some(e=>s.split("-").includes(e)));b.removeMessages(i)};c.getFormElements=async function e(t){const a=await this.createFormElement(t);return{formElements:a,parameter:t}};c.getDialog=function e(){return this.dialog};c.createDialog=async function e(){let t=[];let a=[];const s=this.action.isBound?this.action.parameters.slice(1):this.action.parameters;if(this.action.annotations?.UI?.OperationParameterFacets){const e=[];this.action.annotations.UI?.OperationParameterFacets?.forEach(function(t){let a;if(t.$Type==="com.sap.vocabularies.UI.v1.ReferenceFacet"){a=t.Label}if(ce(t)){const s=t?.Target?.$target;const i=[];s.Data.forEach(function(e){i.push(e.Value.$target)});e.push({facetTitle:a,data:i})}});const s=async e=>{const t=await Promise.all(e.data.map(this.getFormElements.bind(this)));return{facetTitle:e.facetTitle,data:t}};const i=e.map(async e=>s(e));const n=await Promise.all(i);n.forEach(e=>{t.push(q(A,{text:e.facetTitle}));return e.data.map(e=>t.push(e.formElements))});n.forEach(function(e){e.data.forEach(function(e){a.push(e)})})}else{a=await Promise.all(s.map(this.getFormElements.bind(this)));t=a.map(e=>e.formElements)}this.registerActionParameterInfo(a);const i=this.getCustomActionMessageStripText();const n=q(E,{id:oe(["fe","APD_",this.actionName,"Action","Cancel"]),text:this.resourceModel.getText("C_COMMON_ACTION_PARAMETER_DIALOG_CANCEL"),press:()=>{this.onCancel.bind(this)()}});const r=q(C,{title:this.getTitleText(this.parameters.label),id:oe(["fe","APD_",this.actionName]),escapeHandler:this.onCancel.bind(this),draggable:true,resizable:true,afterClose:this.afterClose.bind(this),beforeOpen:this.beforeOpen.bind(this),afterOpen:()=>{this.afterOpen()},initialFocus:n,children:{beginButton:q(E,{id:oe(["fe","APD_",this.actionName,"Action","Ok"]),text:this.parameters.isCreateAction===true?this.resourceModel.getText("C_TRANSACTION_HELPER_SAPFE_ACTION_CREATE_BUTTON_CONTINUE"):this.getBeginButtonLabel(this.parameters.label),press:()=>{this.onApply.bind(this)()},type:"Emphasized"}),endButton:n,content:K(G,{children:[i&&q(O,{showIcon:"true",text:i}),q(D,{columnsM:"2",editable:"true",labelSpanL:"12",labelSpanM:"12",binding:"$Parameter",children:{content:t}})]})}});this.dialog=r;return r};c.getBeginButtonLabel=function e(t){const a="ACTION_PARAMETER_DIALOG_ACTION_NAME";const s="C_COMMON_DIALOG_OK";return this.getOverriddenText(a,s,t)};c.getTitleText=function e(t){const a="ACTION_PARAMETER_DIALOG_ACTION_TITLE";const s="C_OPERATIONS_ACTION_PARAMETER_DIALOG_TITLE";return this.getOverriddenText(a,s,t)};c.getCustomActionMessageStripText=function e(){const t="ACTION_PARAMETER_DIALOG_MESSAGE_TEXT";let a=this.actionName;a=a.split(".").pop()??a;const s=a&&this.entitySetName?`${this.entitySetName}|${a}`:"";if(this.resourceModel.checkIfResourceKeyExists(`${t}|${s}`)){return this.resourceModel.getText(t,undefined,s)}else if(this.resourceModel.checkIfResourceKeyExists(`${t}|${this.entitySetName}`)){return this.resourceModel.getText(t,undefined,`${this.entitySetName}`)}else if(this.resourceModel.checkIfResourceKeyExists(`${t}`)){return this.resourceModel.getText(t)}return undefined};c.getOverriddenText=function e(t,a,s){let i=this.actionName;i=i.split(".").pop()??i;const n=i&&this.entitySetName?`${this.entitySetName}|${i}`:"";if(s){if(this.resourceModel.checkIfResourceKeyExists(`${t}|${n}`)){return this.resourceModel.getText(t,undefined,n)}else if(this.resourceModel.checkIfResourceKeyExists(`${t}|${this.entitySetName}`)){return this.resourceModel.getText(t,undefined,`${this.entitySetName}`)}else if(this.resourceModel.checkIfResourceKeyExists(`${t}`)){return this.resourceModel.getText(t)}else{return s}}else{return this.resourceModel.getText(a)}};c.onApply=async function e(){if(this.buttonLock||!this.dialog){return}const t=this.dialog;const s=t.getObjectBinding()?.getParameterContext();this.buttonLock=true;i.lock(t);if(!await a.validateProperties(this.actionParameterInfos,this.resourceModel)){i.unlock(t);this.buttonLock=false;return}const r=Object.assign({},...this.actionParameterInfos.map(e=>{const a=e.parameter;let i;if(a.isCollection){i=Object.values(t.getModel("mvfview").getProperty(`/${a.name}`)??{}).map(e=>e?.Key)}else if(!a.type.startsWith("Edm.")&&this.getStreamProperty(a)){i=e.value}else{i=s?.getProperty(a.name)}return{[a.name]:i}}));const o=Object.values(r).some(e=>!!e);this.parametersValuesResolve(r);this.parameters.appComponent.getModel("ui").setProperty(n.DocumentModified,o);this.messageHandler.removeTransitionMessages()};c.resetState=function e(){this.unlockDialog();this.buttonLock=false;this.updateDialogBindingContextForError();this.parametersValuesPromise=new Promise((e,t)=>{this.parametersValuesResolve=e;this.parametersValuesReject=t})};c.updateDialogBindingContextForError=function e(){if(this.parameters.contexts.length<2){return}let t,a;const s=this.parameters.contexts.find(e=>{const s=e.getMessages();return s.some(s=>{t=!t&&s.getType()===V.Warning?e:undefined;a=!a&&s.getType()===V.Information?e:undefined;return s.getType()===V.Error})});const i=s??t??a;if(i){this.dialog?.setBindingContext(i)}};c.unlockDialog=function e(){if(this.dialog&&i.isLocked(this.dialog)){i.unlock(this.dialog)}};c.onCancel=function e(){this.parametersValuesReject(g.Constants.CancelActionDialog);this.closeDialog()};c.closeDialog=function e(){if(this.dialog){this.parameters.events?.onParameterDialogClosed?.();this.dialog.close()}this.isDialogOpen=false};c.openDialog=async function e(){if(!this.dialog){throw new Error("Error on opening the dialog")}await s.setUserDefaults(this.parameters.appComponent,this.actionParameterInfos.map(e=>e.parameter),this.parameterModel,true);this.setModels(this.dialog);this.parameters.view?.addDependent(this.dialog);await this.setOperationDefaultValues(this.dialog);this.dialog.open();this.isDialogOpen=true};c.setModels=function e(t){t.setModel(this.parameterModel,"paramsModel");t.bindElement({path:"/",model:"paramsModel"});t.setModel(this.parameters.model);t.bindElement({path:`${this.parameters.contexts.length?"":"/"}${this.actionName}(...)`});if(this.parameters.contexts.length){t.setBindingContext(this.parameters.contexts[0])}t.setModel(new B({}),"mvfview")};c.beforeOpen=function e(t){this.messageHandler.removeTransitionMessages()};c.waitForParametersValues=async function e(){return this.parametersValuesPromise};c.isOpen=function e(){return this.isDialogOpen};c.getParameterDefaultValue=async function t(a,i,n){const r=n.getObjectBinding();const o=this.parameterModel.getData();const l=a.name;const c=a.annotations.UI?.ParameterDefaultValue;if(c){if(this.parameters.contexts.length>0&&ne(c)){try{const e=i&&c.path.startsWith(`${i}/`)?c.path.replace(`${i}/`,""):c.path;let t=await s.requestSingletonProperty(c.path,r.getModel());if(t===null){t=await r.getParameterContext().requestProperty(c.path)}if(this.parameters.contexts.length>1){if(this.parameters.contexts.some(a=>a.getProperty(e)!==t)){return{paramName:l,value:undefined,noPossibleValue:true}}}return{paramName:l,value:t}}catch(t){e.error("Error while reading default action parameter",l,this.action.name);return{paramName:l,value:undefined,latePropertyError:true}}}else{return{paramName:l,value:c.valueOf()}}}return{paramName:l,value:o[l]}};c.getManifestFunctionValues=async function e(){const t=this.dialog?.getBindingContext();if(!this.parameters.view||!this.parameters.defaultValuesExtensionFunction||!t){return{}}return m.loadModuleAndCallMethod(this.parameters.defaultValuesExtensionFunction.substring(0,this.parameters.defaultValuesExtensionFunction.lastIndexOf(".")||-1).replace(/\./gi,"/"),this.parameters.defaultValuesExtensionFunction.substring(this.parameters.defaultValuesExtensionFunction.lastIndexOf(".")+1,this.parameters.defaultValuesExtensionFunction.length),this.parameters.view,t,this.parameters.contexts)};c.getPreDefinedValues=async function t(a,s){const i=this.action.annotations.Common?.DefaultValuesFunction?.valueOf();let n=Promise.resolve({});let l=[];if(this.action.isBound){if(typeof i==="string"){const e=this.parameters.contexts[0].getModel();const t=o.getOperationFromName(i,e,this.parameters.contexts[0]);if(t){l=this.parameters.contexts.map(async a=>{const s=await new r(t,{appComponent:this.parameters.appComponent,model:e,contexts:[a]},{enhance$select:false,groupId:"functionGroup"}).execute();return s.filter(re)[0]?.value.boundContext})}}if(this.parameters.contexts.length>0){n=this.parameters.contexts[0].requestObject()}}try{const e=await n;const t=await Promise.all([Promise.all(this.actionParameterInfos.map(async e=>this.getParameterDefaultValue(e.parameter,a,s))),Promise.all(l),this.getManifestFunctionValues()]);return{contextValues:e,defaultValues:t[0],functionValues:t[1],manifestFunctionValues:t[2]}}catch(t){e.error("Error while retrieving the parameter",t);this.messageHandler.removeTransitionMessages();return{contextValues:{},defaultValues:[],functionValues:[],manifestFunctionValues:{}}}};c.afterOpen=function e(){const t=this.actionParameterInfos.find(e=>e.field.getVisible());if(t){const e=t?.field;const a=e?.getFocusInfo();a.targetInfo={silent:true};e?.focus(a)}this.parameters.events?.onParameterDialogOpened?.()};c.registerActionParameterInfo=function e(t){t.forEach(e=>{const t=e?.parameter;const a=e?.formElements?.[1];this.actionParameterInfos.push({parameter:t,field:a,isMultiValue:t.isCollection,hasError:false})})};c.setOperationDefaultValues=async function e(t){const a=this.action.isBound?this.action.parameters[0].name:"";const{contextValues:s,defaultValues:i,functionValues:n,manifestFunctionValues:r}=await this.getPreDefinedValues(a,t);const o=t.getObjectBinding();if(a){o.setParameter(a,s)}for(const e in this.actionParameterInfos){if(this.actionParameterInfos[e].parameter.name!=="ResultIsActiveEntity"){const t=this.actionParameterInfos[e].parameter.name;const a=this.parameterValues?.find(e=>e.name===t)?.value;if(a){o.setParameter(t,a)}else if(r.hasOwnProperty(t)){o.setParameter(t,r[t])}else if(i[e]&&i[e].value!==undefined){o.setParameter(t,i[e].value)}else if(this.action.annotations.Common?.DefaultValuesFunction&&!i[e].noPossibleValue){const e=new Set(this.parameters.contexts.map((e,a)=>n[a].getObject(t)));if(e.size===1&&e.values().next().value!==undefined){o.setParameter(t,Array.from(e)[0])}}}}if(i.some(e=>e.latePropertyError)){const e=this.resourceModel.getText("C_COMMON_SAPFE_REFRESH");T.warning(le(this.parameters.appComponent).getText("C_APP_COMPONENT_SAPFE_ETAG_LATE_PROPERTY"),{actions:[e,T.Action.OK],emphasizedAction:e,onClose:t=>{if(t===e){const e=this.parameters.view?.getController().getExtensionAPI();e.refresh()}},contentWidth:"25em"})}for(const e of n){const t=e.getBinding();if(t?.isA("sap.ui.model.odata.v4.ODataContextBinding")){t.destroy()}}};c.afterClose=function e(){for(const e in this.actionParameterInfos){this.removeMessagesForParameter(this.actionParameterInfos[e].parameter)}this.dialog?.destroy();this.buttonLock=false};c.getAdditionalValue=async function e(t){let a;const s=t.context.getPath();const i=t.context.getObject()?.$Name;const n=await this.metaModel.requestValueListInfo(s,true);const r=n[""].Parameters.find(e=>e.$Type==="com.sap.vocabularies.Common.v1.ValueListParameterInOut"||e.$Type==="com.sap.vocabularies.Common.v1.ValueListParameterOut"&&e.LocalDataProperty?.$PropertyPath===i);if(r&&r.ValueListProperty){const e=r.ValueListProperty;const t=`/${n[""].CollectionPath}/${e}`;const s=this.metaModel.getObject(`${t}@`);if(s["@com.sap.vocabularies.Common.v1.Text@com.sap.vocabularies.UI.v1.TextArrangement"]){const e=s["@com.sap.vocabularies.Common.v1.Text"];const t=`/${n[""].CollectionPath}/${e.$Path}`;a=this.metaModel.createBindingContext(t)}if(a){return H.format(a.getObject(),{context:a})}}};return t}();z=ve;return z},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/coreUI/factory", ["sap/fe/core/UIProvider","sap/fe/macros/coreUI/CreateDialog","sap/fe/macros/coreUI/OperationParameterDialog"],function(e,r,a){"use strict";var o=e.setCoreUIFactory;const t={newCreateDialog(e,a,o,t,n){return new r(e,a,o,t,n)},newOperationParameterDialog(e,r,o,t,n){return new a(e,r,o,t,n)}};o(t)},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/draftIndicator/DraftIndicator", ["sap/base/strings/formatMessage","sap/fe/base/BindingToolkit","sap/fe/base/ClassSupport","sap/fe/core/CommonUtils","sap/fe/core/buildingBlocks/BuildingBlock","sap/fe/core/helpers/BindingHelper","sap/m/Button","sap/m/ObjectMarker","sap/m/Popover","sap/m/Text","sap/m/VBox","sap/m/library","sap/ui/core/Lib","sap/fe/base/jsx-runtime/jsx","sap/fe/base/jsx-runtime/jsxs"],function(e,t,i,a,r,n,s,o,l,c,d,p,f,u,D){"use strict";var A,b,v,y,h,T,g,_,I,O,m,P,E,B,C,M,x;var U={};var L=p.ObjectMarkerVisibility;var R=p.ObjectMarkerType;var N=n.UI;var F=n.Entity;var w=i.property;var V=i.defineUI5Class;var H=t.pathInModel;var j=t.or;var z=t.not;var k=t.isEmpty;var S=t.ifElse;var G=t.and;function J(e,t,i,a){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(a):void 0})}function K(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,X(e,t)}function X(e,t){return X=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},X(e,t)}function W(e,t,i,a,r){var n={};return Object.keys(a).forEach(function(e){n[e]=a[e]}),n.enumerable=!!n.enumerable,n.configurable=!!n.configurable,("value"in n||n.initializer)&&(n.writable=!0),n=i.slice().reverse().reduce(function(i,a){return a(e,t,i)||i},n),r&&void 0!==n.initializer&&(n.value=n.initializer?n.initializer.call(r):void 0,n.initializer=void 0),void 0===n.initializer?(Object.defineProperty(e,t,n),null):n}function Y(e,t){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let q=(A=V("sap.fe.macros.draftIndicator.DraftIndicator"),b=w({type:"string"}),v=w({type:"string"}),y=w({type:"string",required:true}),h=w({type:"string"}),T=w({type:"boolean"}),g=w({type:"boolean"}),_=w({type:"string",allowedValues:["Inline","Overlay"]}),A(I=(O=function(t){function i(e,i){var a;a=t.call(this,e,i)||this;J(a,"id",m,a);J(a,"draftIndicatorType",P,a);J(a,"contextPath",E,a);J(a,"class",B,a);J(a,"usedInTable",C,a);J(a,"usedInAnalyticalTable",M,a);J(a,"reactiveAreaMode",x,a);return a}U=i;K(i,t);var r=i.prototype;r.setDraftIndicatorType=function e(t){if([L.IconOnly,L.IconAndText].includes(t)){this.setProperty("draftIndicatorType",t)}else{throw new Error(`Allowed value ${t} does not match`)}};r.addAriaLabelledByForDraftIndicator=function e(t){const i=this.content?.getAriaLabelledBy()??[];if(!i.includes(t)){this.content?.addAriaLabelledBy(t)}};r.onMetadataAvailable=function e(){if(!this.content){this.content=this.createContent()}};i.formatDraftOwnerTextInPopover=function e(t,i,a,r,n){const s=f.getResourceBundleFor("sap.fe.macros");if(!s){return""}if(t){const e=r||i||n||a;if(!e){return s.getText("M_FIELD_RUNTIME_DRAFT_POPOVER_UNSAVED_CHANGES_BY_UNKNOWN")}else{return i?s.getText("M_FIELD_RUNTIME_DRAFT_POPOVER_LOCKED_BY_KNOWN",[e]):s.getText("M_FIELD_RUNTIME_DRAFT_POPOVER_UNSAVED_CHANGES_BY_KNOWN",[e])}}else{return s.getText("M_FIELD_RUNTIME_DRAFT_POPOVER_NO_DATA_TEXT")}};r.getDraftAdministrativeDataProperties=function e(){const t=this.getDataModelObjectPath(this.contextPath);const i=t?.targetEntityType.navigationProperties.find(e=>e.name==="DraftAdministrativeData");const a=i?.targetType.entityProperties;return a?.map(e=>e.name)};r.getPopoverTitleBindingExpression=function e(){return S(z(F.IsActive),this.isHiddenDraftEnabled?H("M_DRAFT_POPOVER_ADMIN_UNSAVED_OBJECT","sap.fe.i18n"):H("M_COMMON_DRAFT_OBJECT","sap.fe.i18n"),S(F.HasDraft,S(z(k(H("DraftAdministrativeData/InProcessByUser"))),H("M_COMMON_DRAFT_LOCKED_OBJECT","sap.fe.i18n"),H("M_DRAFT_POPOVER_ADMIN_UNSAVED_OBJECT","sap.fe.i18n")),this.draftIndicatorType===L.IconAndText?" ":H("C_DRAFT_POPOVER_ADMIN_DATA_DRAFTINFO_FLAGGED_OBJECT","sap.fe.i18n")))};r.getDraftOwnerTextBindingExpression=function e(){const t=this.getDraftAdministrativeDataProperties();const a=[{path:"HasDraftEntity",targetType:"any"},{path:"DraftAdministrativeData/InProcessByUser"},{path:"DraftAdministrativeData/LastChangedByUser"}];if(t?.includes("InProcessByUserDescription")){a.push({path:"DraftAdministrativeData/InProcessByUserDescription"})}if(t?.includes("LastChangedByUserDescription")){a.push({path:"DraftAdministrativeData/LastChangedByUserDescription"})}return{parts:a,formatter:i.formatDraftOwnerTextInPopover}};r.createPopover=function t(i){const r=G(z(F.IsActive),k(H("DraftAdministrativeData/LastChangeDateTime")));const n=this.draftIndicatorType===L.IconAndText?H("M_DRAFT_POPOVER_ADMIN_GENERIC_LOCKED_OBJECT_POPOVER_TEXT","sap.fe.i18n"):H("C_DRAFT_POPOVER_ADMIN_DATA_DRAFTINFO_POPOVER_NO_DATA_TEXT","sap.fe.i18n");const o=G(z(F.IsActive),z(k(H("DraftAdministrativeData/LastChangeDateTime"))));const p={parts:[{path:"M_DRAFT_POPOVER_ADMIN_LAST_CHANGE_TEXT",model:"sap.fe.i18n"},{path:"DraftAdministrativeData/LastChangeDateTime"}],formatter:e};const f=G(F.IsActive,z(k(H("DraftAdministrativeData/LastChangeDateTime"))));const A={...p};const b=u(l,{title:this.getPopoverTitleBindingExpression(),showHeader:true,verticalScrolling:false,class:"sapUiContentPadding",placement:"Auto",endButton:u(s,{icon:"sap-icon://decline",press:()=>{this.draftPopover?.close()}}),children:D(d,{class:"sapUiContentPadding",children:[u(d,{visible:r,children:u(c,{text:n})}),u(d,{visible:o,children:u(c,{text:p})}),D(d,{visible:f,children:[u(c,{text:this.getDraftOwnerTextBindingExpression()}),u(c,{class:"sapUiSmallMarginTop",text:A})]})]})});a.getTargetView(i).addDependent(b);return b};r.onObjectMarkerPressed=function e(t){const i=t.getSource();const a=i.getBindingContext();this.draftPopover??=this.createPopover(i);this.draftPopover.setBindingContext(a);this.draftPopover.openBy(i,false)};r.getIconAndTextAdditionalInfoBindingExpression=function e(){const t=this.getDraftAdministrativeDataProperties();const i=[];if(t?.includes("InProcessByUserDescription")){i.push(H("DraftAdministrativeData/InProcessByUserDescription"))}i.push(H("DraftAdministrativeData/InProcessByUser"));if(t?.includes("LastChangedByUserDescription")){i.push(H("DraftAdministrativeData/LastChangedByUserDescription"))}i.push(H("DraftAdministrativeData/LastChangedByUser"));return S(F.HasDraft,j(...i),"")};r.getIconAndTextContent=function e(){this.isHiddenDraftEnabled=this.getAppComponent()?.getEnvironmentCapabilities().getCapabilities().HiddenDraft?.enabled;const t=this.isHiddenDraftEnabled?R.Unsaved:R.Draft;const i=S(z(F.IsActive),t,S(F.HasDraft,S(H("DraftAdministrativeData/InProcessByUser"),R.LockedBy,S(H("DraftAdministrativeData/LastChangedByUser"),R.UnsavedBy,R.Unsaved)),R.Flagged));const a=S(z(F.HasDraft),L.TextOnly,L.IconAndText);return u(o,{type:i,press:this.onObjectMarkerPressed.bind(this),visibility:a,additionalInfo:this.getIconAndTextAdditionalInfoBindingExpression(),ariaLabelledBy:this.ariaLabelledBy?this.ariaLabelledBy:[],class:this.class,reactiveAreaMode:this.reactiveAreaMode})};r.getIconOnlyContent=function e(){const t=S(z(F.IsActive),R.Draft,S(F.HasDraft,S(!!this.usedInAnalyticalTable,R.Locked,S(H("DraftAdministrativeData/InProcessByUser"),R.Locked,R.Unsaved)),R.Flagged));let i;if(this.usedInTable===true){i=j(z(F.IsActive),G(F.IsActive,F.HasDraft))}else{i=G(z(k(F.HasDraft)),z(N.IsEditable),F.HasDraft,z(H("DraftAdministrativeData/DraftIsCreatedByMe")))}return u(o,{type:t,press:!this.usedInAnalyticalTable?this.onObjectMarkerPressed.bind(this):undefined,visibility:L.IconOnly,visible:i,ariaLabelledBy:this.ariaLabelledBy?this.ariaLabelledBy:[],class:this.class,reactiveAreaMode:this.reactiveAreaMode})};r.createContent=function e(){if(this.draftIndicatorType===L.IconAndText){return this.getIconAndTextContent()}else{return this.getIconOnlyContent()}};return i}(r),m=W(O.prototype,"id",[b],{configurable:true,enumerable:true,writable:true,initializer:null}),P=W(O.prototype,"draftIndicatorType",[v],{configurable:true,enumerable:true,writable:true,initializer:function(){return L.IconAndText}}),E=W(O.prototype,"contextPath",[y],{configurable:true,enumerable:true,writable:true,initializer:null}),B=W(O.prototype,"class",[h],{configurable:true,enumerable:true,writable:true,initializer:function(){return""}}),C=W(O.prototype,"usedInTable",[T],{configurable:true,enumerable:true,writable:true,initializer:null}),M=W(O.prototype,"usedInAnalyticalTable",[g],{configurable:true,enumerable:true,writable:true,initializer:null}),x=W(O.prototype,"reactiveAreaMode",[_],{configurable:true,enumerable:true,writable:true,initializer:null}),O))||I);U=q;return U},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/fcl/FlexibleColumnLayoutActions.block", ["sap/fe/core/buildingBlocks/templating/BuildingBlockSupport","sap/fe/core/buildingBlocks/templating/BuildingBlockTemplateProcessor","sap/fe/core/buildingBlocks/templating/BuildingBlockTemplatingBase"],function(e,t,o){"use strict";var n,i;var r={};var l=t.xml;var c=e.defineBuildingBlock;function s(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,a(e,t)}function a(e,t){return a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},a(e,t)}let p=(n=c({name:"FlexibleColumnLayoutActions",namespace:"sap.fe.macros.fcl",publicNamespace:"sap.fe.macros",returnTypes:["sap.m.OverflowToolbarButton"]}),n(i=function(e){function t(){return e.apply(this,arguments)||this}r=t;s(t,e);var o=t.prototype;o.getTemplate=function e(){return l`
            <m:OverflowToolbarButton
                id="fe::FCLStandardAction::FullScreen"
                type="Transparent"
                icon="{fclhelper>/actionButtonsInfo/switchIcon}"
                visible="{fclhelper>/actionButtonsInfo/switchVisible}"
                press="._routing.switchFullScreen()"
            />
            <m:OverflowToolbarButton
                id="fe::FCLStandardAction::Close"
                type="Transparent"
                icon="sap-icon://decline"
                tooltip="{sap.fe.i18n>C_COMMON_SAPFE_CLOSE}"
                visible="{fclhelper>/actionButtonsInfo/closeVisible}"
                press="._routing.closeColumn()"
            />`};return t}(o))||i);r=p;return r},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/field/Field", ["sap/base/Log","sap/fe/base/ClassSupport","sap/fe/macros/Field"],function(e,t,r){"use strict";var s,o;var n={};var a=t.defineUI5Class;function i(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,c(e,t)}function c(e,t){return c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},c(e,t)}let p=(s=a("sap.fe.macros.field.Field"),s(o=function(t){function r(r,s){e.warning("You've consumed deprecated Field class. Use sap.fe.macros.field.Field instead");return t.call(this,r,s)||this}n=r;i(r,t);return r}(r))||o);n=p;return n},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/field/FieldBaseDelegate", ["sap/base/Log","sap/fe/core/CommonUtils","sap/fe/core/converters/MetaModelConverter","sap/ui/core/Component","sap/ui/core/Element","sap/ui/mdc/field/FieldBaseDelegate","sap/ui/mdc/odata/v4/TypeMap","sap/ui/mdc/p13n/StateUtil","sap/ui/model/Filter","../CommonHelper","../valuehelp/ValueHelpDelegate"],function(e,t,n,r,a,o,i,s,l,u,c){"use strict";var p=n.getInvolvedDataModelObjects;return Object.assign({},o,{apiVersion:2,initializeTypeFromBinding:function(e,t,n){const r={};if(t&&t.isA(["sap.ui.model.odata.type.Unit","sap.ui.model.odata.type.Currency"])&&Array.isArray(n)&&n.length>2&&n[2]!==undefined){t.formatValue(n,"string");r.bTypeInitialized=true;r.mCustomUnits=n[2]}return r},initializeInternalUnitType:function(e,t,n){if(n?.mCustomUnits!==undefined){t.formatValue([null,null,n.mCustomUnits],"string")}},enhanceValueForUnit:function(e,t,n){if(n?.bTypeInitialized===true&&t.length===2){t.push(n.mCustomUnits);return t}return undefined},getDefaultValueHelpDelegate:function(e){return{name:"sap/ui/mdc/odata/v4/ValueHelpDelegate",payload:{}}},getTypeMap:function(e){return i},_getValueListParameter:function(e,t){return e.Parameters.filter(function(e){if(e.LocalDataProperty){return e.LocalDataProperty.$PropertyPath===t}else{return false}})},_getFilter:function(e,t,n,r,o,i,s,u){let c=[];const p=e.Parameters.filter(function(e){return e.$Type==="com.sap.vocabularies.Common.v1.ValueListParameterIn"||e.$Type==="com.sap.vocabularies.Common.v1.ValueListParameterInOut"||e.LocalDataProperty?.$PropertyPath===t&&e.ValueListProperty===n});for(const e of p){let n;if(e.LocalDataProperty?.$PropertyPath===t){n=r}else if(o?.isActionParameterDialog===true){const t=`APD_::${e.LocalDataProperty?.$PropertyPath}`;const r=a.getElementById(t);n=r?.getValue()}else if(i!==undefined){const t=e.ValueListProperty;const r=i?.[0];n=t&&r?.[t]}else if(s){const t=e.LocalDataProperty?.$PropertyPath;n=s.getObject(t)}if(!n&&u){const t=u?.[e.ValueListProperty];if(t?.length===1&&t[0]?.operator==="EQ"){n=t[0]?.values[0]}}if(n!==null&&n!==undefined){c.push(new l({path:e.ValueListProperty,operator:"EQ",value1:n}))}}if(i?.[0]){c=c.concat(this._getRemainingKeyValueFilters(i[0],e))}return c},_getRemainingKeyValueFilters(e,t){const{$model:n,CollectionPath:r,Parameters:a}=t;const o=n.getMetaModel().getMetaContext(`/${r}`);const i=p(o).targetEntityType;const s=a.reduce((e,t)=>{if(t.LocalDataProperty?.$PropertyPath){e.push(t.LocalDataProperty.$PropertyPath)}return e},[]);const c=i.keys.reduce((t,n)=>{let{name:r}=n;if(!s.includes(r)&&e.hasOwnProperty(r)){t.push(r)}return t},[]);if(c.length>0){return c.reduce((t,a)=>{const o=n.getMetaModel().getMetaContext(`/${r}/${a}`);if(u.isPropertyFilterable(o,undefined,true)){t.push(new l({path:a,operator:"EQ",value1:e[a]}))}return t},[])}return[]},getItemForValue:async function(e,t,n){if(n.value===""){return}if(n.checkDescription){const e=t.getTypeahead();const r=t.getPayload();const a=e.getSelectedContent();const o=a&&a.getId();await c.retrieveContent(t,e,o);const i=r.maxLength;const s=n.value?.toString().length||0;const l=r.valueHelpDescriptionPath;if(l===""){n.checkDescription=false}else if(i!==undefined&&s>i){return}}return o.getItemForValue(e,t,n)},_getFilterBar:function(e){let t;if(e?.isA("sap.ui.mdc.FilterField")){while(e){if(e?.isA("sap.fe.macros.filterBar.FilterBarAPI")){t=e;break}e=e?.getParent()}if(t?.getContent()?.isA("sap.fe.macros.controls.FilterBar")){return t.getContent()}}return undefined},getDescription:async function(n,a,i,u,c,p,f,d,g,m,h,P){let y=n?.getPayload();if(!y&&m?.getDisplay().includes("Description")){y={retrieveTextFromValueList:true}}if(y?.retrieveTextFromValueList===true||y?.isFilterField===true){const f=a.getModel();const d=r.getOwnerComponentFor(a);if(!f&&!d){return o.getDescription(n,a,i,u,c,p,undefined,undefined,g,m,h,P)}const y=f?f.getMetaModel():t.getAppComponent(a).getModel().getMetaModel();const $=a.getPayload();const v=g?.[$.valueHelpQualifier];const C=$.propertyPath;const b=$?.propertyDescriptionPath;let D;try{const r=await y.requestValueListInfo(C,true,p);const o=this._getFilterBar(n);let u;if(o){const e=await s.retrieveExternalState(o);u=e.filter}const c=y.getObject(`${C}@sapui.name`);const f=r[Object.keys(r)[0]];const d=this._getValueListParameter(f,c);const g=d?.[0]?.ValueListProperty;if(!g){throw Error(`Inconsistent value help annotation for ${c}`)}const m=f.$model;const h=m.getMetaModel().getObject(`/${f.CollectionPath}/${g}@com.sap.vocabularies.Common.v1.Text`);if(h&&h.$Path){D=h.$Path;const e=this._getFilter(f,c,g,i,$,v,p,u);const t=m.bindList(`/${f.CollectionPath}`,undefined,undefined,e,{$select:D});const n=await t.requestContexts(0,2);return n.length?n[0].getObject(D):undefined}else if(p!==undefined&&b){const n=b.lastIndexOf("/");const r=n>0?b.substring(0,n):b;const o=t.getAppComponent(a).getSideEffectsService();await o.requestSideEffects([r],p);e.warning(`RequestSideEffects is triggered because the text annotation for ${g} is not defined at the CollectionPath of the value help`);return undefined}else{const t=y?.getObject(`${$.propertyPath}@com.sap.vocabularies.Common.v1.ExternalID`)?.$Path;if(t){const e=$.propertyPath.replace(c,t);const n=y.getObject(`${e}@sapui.name`);const r=y?.getObject(`${e}@com.sap.vocabularies.Common.v1.Text`)?.$Path;const a=[];a.push(new l({path:n,operator:"EQ",value1:i}));const o=m.bindList(`/${f.CollectionPath}`,undefined,undefined,a,{$select:`${n},${r}`});const s=await o.requestContexts(0,2);if(s.length){return s[0].getObject(r)}}e.error(`Text Annotation for ${g} is not defined`);return undefined}}catch(t){const n=t?t.status:undefined;const r=t instanceof Error?t.message:String(t);const a=n===404?`Metadata not found (${n}) for value help of property ${C}`:r;e.error(a)}}return undefined}})},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/field/FieldFormatOptions", ["sap/fe/base/ClassSupport","sap/fe/macros/controls/BuildingBlockObjectProperty"],function(e,t){"use strict";var r,i,l,a,n,o,u,p,b,y,s,c,f,m,g,d,w,z,h,v,x,D,M,O,A,I,P,B,C,E,F,L,T,S,j,R,U,G,V,k,K,N,_,H,q,J,Q,W,X,Y,Z,$,ee,te,re,ie,le,ae,ne,oe,ue,pe,be,ye,se,ce,fe,me,ge,de,we,ze,he;var ve={};var xe=e.property;var De=e.defineUI5Class;function Me(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function Oe(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Ae(e,t)}function Ae(e,t){return Ae=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ae(e,t)}function Ie(e,t,r,i,l){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),l&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(l):void 0,a.initializer=void 0),void 0===a.initializer?(Object.defineProperty(e,t,a),null):a}function Pe(e,t){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let Be=(r=De("sap.fe.macros.field.FieldFormatOptions"),i=xe({type:"string"}),l=xe({type:"string"}),a=xe({type:"int"}),n=xe({type:"int"}),o=xe({type:"int"}),u=xe({type:"string"}),p=xe({type:"int"}),b=xe({type:"boolean"}),y=xe({type:"boolean"}),s=xe({type:"boolean"}),c=xe({type:"string",allowedValues:["RadioButtons"]}),f=xe({type:"boolean"}),m=xe({type:"string",allowedValues:["short","medium","long","full"]}),g=xe({type:"string"}),d=xe({type:"string",allowedValues:["Inline","Overlay"]}),w=xe({type:"string"}),z=xe({type:"boolean"}),h=xe({type:"boolean"}),v=xe({type:"boolean"}),x=xe({type:"boolean"}),D=xe({type:"boolean"}),M=xe({type:"boolean"}),O=xe({type:"string"}),A=xe({type:"string"}),I=xe({type:"boolean"}),P=xe({type:"boolean"}),B=xe({type:"string"}),C=xe({type:"string"}),E=xe({type:"string"}),F=xe({type:"string"}),L=xe({type:"boolean"}),T=xe({type:"boolean"}),S=xe({type:"boolean"}),j=xe({type:"boolean"}),R=xe({type:"boolean"}),r(U=(G=function(e){function t(t,r){var i;i=e.call(this,t,r)||this;Me(i,"displayMode",V,i);Me(i,"measureDisplayMode",k,i);Me(i,"textLinesEdit",K,i);Me(i,"textMaxLines",N,i);Me(i,"textMaxCharactersDisplay",_,i);Me(i,"textExpandBehaviorDisplay",H,i);Me(i,"textMaxLength",q,i);Me(i,"showDate",J,i);Me(i,"showTime",Q,i);Me(i,"showTimezone",W,i);Me(i,"fieldEditStyle",X,i);Me(i,"radioButtonsHorizontalLayout",Y,i);Me(i,"dateTimeStyle",Z,i);Me(i,"dateTimePattern",$,i);Me(i,"reactiveAreaMode",ee,i);Me(i,"fieldMode",te,i);Me(i,"hasDraftIndicator",re,i);Me(i,"isAnalytics",ie,i);Me(i,"forInlineCreationRows",le,i);Me(i,"ignoreNavigationAvailable",ae,i);Me(i,"isCurrencyOrUnitAligned",ne,i);Me(i,"retrieveTextFromValueList",oe,i);Me(i,"semantickeys",ue,i);Me(i,"semanticKeyStyle",pe,i);Me(i,"showEmptyIndicator",be,i);Me(i,"showIconUrl",ye,i);Me(i,"textAlignMode",se,i);Me(i,"compactSemanticKey",ce,i);Me(i,"fieldGroupDraftIndicatorPropertyPath",fe,i);Me(i,"fieldGroupName",me,i);Me(i,"isFieldGroupItem",ge,i);Me(i,"isAnalyticalAggregatedRow",de,i);Me(i,"showOnlyUnitDecimals",we,i);Me(i,"preserveDecimalsForCurrency",ze,i);Me(i,"useRadioButtonsForBoolean",he,i);return i}ve=t;Oe(t,e);return t}(t),V=Ie(G.prototype,"displayMode",[i],{configurable:true,enumerable:true,writable:true,initializer:null}),k=Ie(G.prototype,"measureDisplayMode",[l],{configurable:true,enumerable:true,writable:true,initializer:null}),K=Ie(G.prototype,"textLinesEdit",[a],{configurable:true,enumerable:true,writable:true,initializer:null}),N=Ie(G.prototype,"textMaxLines",[n],{configurable:true,enumerable:true,writable:true,initializer:null}),_=Ie(G.prototype,"textMaxCharactersDisplay",[o],{configurable:true,enumerable:true,writable:true,initializer:null}),H=Ie(G.prototype,"textExpandBehaviorDisplay",[u],{configurable:true,enumerable:true,writable:true,initializer:null}),q=Ie(G.prototype,"textMaxLength",[p],{configurable:true,enumerable:true,writable:true,initializer:null}),J=Ie(G.prototype,"showDate",[b],{configurable:true,enumerable:true,writable:true,initializer:null}),Q=Ie(G.prototype,"showTime",[y],{configurable:true,enumerable:true,writable:true,initializer:null}),W=Ie(G.prototype,"showTimezone",[s],{configurable:true,enumerable:true,writable:true,initializer:null}),X=Ie(G.prototype,"fieldEditStyle",[c],{configurable:true,enumerable:true,writable:true,initializer:null}),Y=Ie(G.prototype,"radioButtonsHorizontalLayout",[f],{configurable:true,enumerable:true,writable:true,initializer:null}),Z=Ie(G.prototype,"dateTimeStyle",[m],{configurable:true,enumerable:true,writable:true,initializer:null}),$=Ie(G.prototype,"dateTimePattern",[g],{configurable:true,enumerable:true,writable:true,initializer:null}),ee=Ie(G.prototype,"reactiveAreaMode",[d],{configurable:true,enumerable:true,writable:true,initializer:null}),te=Ie(G.prototype,"fieldMode",[w],{configurable:true,enumerable:true,writable:true,initializer:null}),re=Ie(G.prototype,"hasDraftIndicator",[z],{configurable:true,enumerable:true,writable:true,initializer:null}),ie=Ie(G.prototype,"isAnalytics",[h],{configurable:true,enumerable:true,writable:true,initializer:null}),le=Ie(G.prototype,"forInlineCreationRows",[v],{configurable:true,enumerable:true,writable:true,initializer:null}),ae=Ie(G.prototype,"ignoreNavigationAvailable",[x],{configurable:true,enumerable:true,writable:true,initializer:null}),ne=Ie(G.prototype,"isCurrencyOrUnitAligned",[D],{configurable:true,enumerable:true,writable:true,initializer:null}),oe=Ie(G.prototype,"retrieveTextFromValueList",[M],{configurable:true,enumerable:true,writable:true,initializer:null}),ue=Ie(G.prototype,"semantickeys",[O],{configurable:true,enumerable:true,writable:true,initializer:null}),pe=Ie(G.prototype,"semanticKeyStyle",[A],{configurable:true,enumerable:true,writable:true,initializer:null}),be=Ie(G.prototype,"showEmptyIndicator",[I],{configurable:true,enumerable:true,writable:true,initializer:null}),ye=Ie(G.prototype,"showIconUrl",[P],{configurable:true,enumerable:true,writable:true,initializer:null}),se=Ie(G.prototype,"textAlignMode",[B],{configurable:true,enumerable:true,writable:true,initializer:null}),ce=Ie(G.prototype,"compactSemanticKey",[C],{configurable:true,enumerable:true,writable:true,initializer:null}),fe=Ie(G.prototype,"fieldGroupDraftIndicatorPropertyPath",[E],{configurable:true,enumerable:true,writable:true,initializer:null}),me=Ie(G.prototype,"fieldGroupName",[F],{configurable:true,enumerable:true,writable:true,initializer:null}),ge=Ie(G.prototype,"isFieldGroupItem",[L],{configurable:true,enumerable:true,writable:true,initializer:null}),de=Ie(G.prototype,"isAnalyticalAggregatedRow",[T],{configurable:true,enumerable:true,writable:true,initializer:null}),we=Ie(G.prototype,"showOnlyUnitDecimals",[S],{configurable:true,enumerable:true,writable:true,initializer:null}),ze=Ie(G.prototype,"preserveDecimalsForCurrency",[j],{configurable:true,enumerable:true,writable:true,initializer:null}),he=Ie(G.prototype,"useRadioButtonsForBoolean",[R],{configurable:true,enumerable:true,writable:true,initializer:null}),G))||U);ve=Be;return ve},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/field/FieldHelper", ["sap/base/Log","sap/fe/base/BindingToolkit","sap/fe/core/CommonUtils","sap/fe/core/converters/MetaModelConverter","sap/fe/core/converters/helpers/Key","sap/fe/core/helpers/BindingHelper","sap/fe/core/helpers/ModelHelper","sap/fe/core/helpers/StableIdHelper","sap/fe/core/templating/FieldControlHelper","sap/fe/core/templating/PropertyHelper","sap/fe/core/templating/UIFormatters","sap/fe/macros/CommonHelper","sap/fe/macros/internal/valuehelp/ValueListHelper","sap/ui/model/odata/v4/AnnotationHelper"],function(e,t,n,a,r,i,o,s,l,c,u,f,m,p){"use strict";var g=u.getAlignmentExpression;var d=c.hasValueListForValidation;var y=l.isRequiredExpression;var v=s.generate;var P=i.UI;var h=r.KeyHelper;var $=a.getInvolvedDataModelObjects;var b=t.pathInModel;var F=t.or;var D=t.ifElse;var T=t.getExpressionFromAnnotation;var O=t.formatResult;var I=t.equal;var A=t.constant;var V=t.compileExpression;const x="@Org.OData.Measures.V1.ISOCurrency",E="@Org.OData.Measures.V1.Unit";const C={getActionParameterVisibility:function(e,t){if(typeof e==="object"){const n=e;if(n&&n.$If&&n.$If.length===3){const e={$If:[]};e.$If[0]=n.$If[0];e.$If[1]=n.$If[2];e.$If[2]=n.$If[1];return p.value(e,t)}else{return"{= !%{"+e.$Path+"} }"}}else if(typeof e==="boolean"){return p.value(!e,t)}else{return undefined}},propertyName:function(e,t){let n;if(typeof e==="string"){if(t.context.getPath().includes("$Path")||t.context.getPath().includes("$PropertyPath")){n=e}}else if(e.$Path||e.$PropertyPath){const a=e.$Path?"/$Path":"/$PropertyPath";const r=t.context.getPath();n=t.context.getObject(`${r+a}/$@sapui.name`)}else if(e.Value&&e.Value.$Path){n=e.Value.$Path}else{n=t.context.getObject("@sapui.name")}return n},fieldControl:function(e,t){const n=t&&t.context.getModel();const a=t&&t.context.getPath();const r=n&&n.createBindingContext(`${a}@com.sap.vocabularies.Common.v1.FieldControl`);const i=r&&r.getProperty();if(i){if(i.hasOwnProperty("$EnumMember")){return i.$EnumMember}else if(i.hasOwnProperty("$Path")){return p.value(i,{context:r})}}else{return undefined}},valueHelpProperty:function(e,t){const n=e.getPath();const a=e.getObject()||{};let r=a.$Path?`${n}/$Path`:n;const i=`${r}@`;const o=e.getObject(i);let s;if(o){s=o.hasOwnProperty(x)&&x||o.hasOwnProperty(E)&&E;if(s&&!t){const t=`${r+s}/$Path`;if(e.getObject(t)){r=t}}}return r},valueHelpPropertyForFilterField:function(e){return C.valueHelpProperty(e,true)},getIDForFieldValueHelp:function(e,t,n,a){if(e){return e}let r=a;if(n!==a){r=`${n}::${a}`}return v([t,r])},getValueHelpPropertyForFilterField:function(e,t,a,r,i,o,s,l,c){const u=C.propertyName(t,{context:e}),m=c==="true"||c===true;const p=e.getModel(),g=e.getPath(),d=f.getLocationForPropertyPath(p,g),y=n.getFilterRestrictionsByPath(d,p);if((a==="Edm.DateTimeOffset"||a==="Edm.Date"||a==="Edm.TimeOfDay")&&m&&y&&y.FilterAllowedExpressions&&y.FilterAllowedExpressions[u]&&(y.FilterAllowedExpressions[u].includes("SingleRange")||y.FilterAllowedExpressions[u].includes("SingleValue"))||a==="Edm.Boolean"&&!l){return undefined}return C.getIDForFieldValueHelp(null,r||"FilterFieldValueHelp",o,s)},computeFieldBaseDelegate:function(e,t){if(t){return{name:e,payload:{retrieveTextFromValueList:t}}}return{name:e}},_getPrimaryIntents:async function(t,n){const a=[];const r=t.getShellServices();n.forEach(function(e){a.push(r.getPrimaryIntent(e))});return Promise.all(a).then(function(e){return e}).catch(function(t){e.error("Error fetching primary intents",t);return[]})},findPrimaryActionWithinIntents:function(e,t){const n=e.findIndex(e=>!!e);const a=e[n];const r=t.semanticObjects[n];return{semanticObjectWithPrimaryAction:r,primaryIntentFound:a}},_checkIfSemanticObjectsHasPrimaryAction:function(e,t,n){const a=function(e,t,n){for(const a in e.semanticObjectUnavailableActions[n].actions){if(t.intent.split("-")[1].indexOf(e.semanticObjectUnavailableActions[n].actions[a])===0){return false}}return true};e.semanticPrimaryActions=t;const{semanticObjectWithPrimaryAction:r,primaryIntentFound:i}=this.findPrimaryActionWithinIntents(t,e);const o=n.getShellServices().getHash();if(!!i&&i.intent.split("?")[0]!==o){for(let t=0;t<e.semanticObjectUnavailableActions.length;t++){if(e.semanticObjectUnavailableActions[t].semanticObject===r){return a(e,i,t)}}return true}return false},checkPrimaryActions:async function(t,n,a){return this._getPrimaryIntents(a,t&&t.semanticObjects).then(e=>n?{titleLink:e,hasTitleLink:this._checkIfSemanticObjectsHasPrimaryAction(t,e,a),payload:t}:this._checkIfSemanticObjectsHasPrimaryAction(t,e,a)).catch(function(t){e.error("Error in checkPrimaryActions",t)})},_getTitleLinkWithParameters:function(e,t){if(e&&e.titleLink){return e.titleLink}else{return t}},getPrimaryAction:function(e){const t=e.semanticPrimaryActions?.find(e=>!!e);return C._getTitleLinkWithParameters(e,t?.intent)},operators:function(e,t,a,r,i){if(!t||!i){return undefined}let s;const l=C.propertyName(t,{context:e});const c=e.getModel(),u=e.getPath(),m=f.getLocationForPropertyPath(c,u),p=t.$Type;if(p==="Edm.Guid"){return n.getOperatorsForGuidProperty()}i=i.slice(0,-1);const g=i.lastIndexOf("/")>0;const d=g&&i!==m||!g&&m.lastIndexOf("/")>0;const y=d&&m.substring(m.indexOf(i)+i.length+1)||"";const v=d&&y+"/"+l||l;if(!g){if(!d){s=f.getOperatorsForProperty(l,m,c,p,a,r)}else{s=f.getOperatorsForProperty(v,i,c,p,a,r);if(s.length===0){s=f.getOperatorsForProperty(l,m,c,p,a,r)}}}else if(!d){s=f.getOperatorsForProperty(v,i,c,p,a,r);if(s.length===0){s=f.getOperatorsForProperty(l,o.getEntitySetPath(i),c,p,a,r)}return s?.length>0?s.toString():undefined}else{s=f.getOperatorsForProperty(v,i,c,p,a,r);if(s.length===0){s=f.getOperatorsForProperty(v,o.getEntitySetPath(i),c,p,a,r)}}if((!s||s.length===0)&&(p==="Edm.Date"||p==="Edm.DateTimeOffset")){s=f.getOperatorsForDateProperty(p)}return s.length>0?s.toString():undefined},getDataFieldDefault:function(e){const t=e.getModel().getObject(`${e.getPath()}@com.sap.vocabularies.UI.v1.DataFieldDefault`);return t?`${e.getPath()}@com.sap.vocabularies.UI.v1.DataFieldDefault`:e.getPath()},isDataFieldActionButtonVisible:function(e,t,n){return e.annotations?.UI?.Hidden?.valueOf()!==true&&(t!==true||n!==false)},getPressEventForDataFieldActionButton:function(e,t){if(!t){return""}let n="Isolated";if(t.InvocationGrouping&&t.InvocationGrouping.$EnumMember==="com.sap.vocabularies.UI.v1.OperationGroupingType/ChangeSet"){n="ChangeSet"}let a=e.navigateAfterAction;a=a==="false"?false:true;const r=e?.contextPath?.getPath().split("/");const i=r[r.length-1];const o={contexts:"${$source>/}.getBindingContext()",invocationGrouping:f.addSingleQuotes(n),model:"${$source>/}.getModel()",label:typeof t?.Label==="string"?f.addSingleQuotes(t.Label,true):"",isNavigable:a,entitySetName:f.addSingleQuotes(i)};return f.generateFunction(".editFlow.invokeAction",f.addSingleQuotes(t.Action),f.objectToString(o))},isNumericDataType:function(e){const t=e;if(t!==undefined){const e=["Edm.Int16","Edm.Int32","Edm.Int64","Edm.Byte","Edm.SByte","Edm.Single","Edm.Decimal","Edm.Double"];return!e.includes(t)?false:true}else{return false}},isDateOrTimeDataType:function(e){if(e!==undefined){const t=["Edm.DateTimeOffset","Edm.DateTime","Edm.Date","Edm.TimeOfDay","Edm.Time"];return t.includes(e)}else{return false}},isDateTimeDataType:function(e){if(e!==undefined){const t=["Edm.DateTimeOffset","Edm.DateTime"];return t.includes(e)}else{return false}},isDateDataType:function(e){return e==="Edm.Date"},isTimeDataType:function(e){if(e!==undefined){const t=["Edm.TimeOfDay","Edm.Time"];return t.includes(e)}else{return false}},getDataTypeForVisualization:function(e,t){const n="@com.sap.vocabularies.Common.v1.Text",a="@com.sap.vocabularies.Common.v1.Text@com.sap.vocabularies.UI.v1.TextArrangement";return e?.[a]?.$EnumMember!=="com.sap.vocabularies.UI.v1.TextArrangementType/TextSeparate"&&e?.[n]?.$Path?"Edm.String":t},getColumnAlignment:function(e,t){const n=t.collection.getPath(),a=t.collection.getModel();if((e["$Type"]==="com.sap.vocabularies.UI.v1.DataFieldForAction"||e["$Type"]==="com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation")&&e.Inline&&e.IconUrl){return"Center"}const r=a.getObject(`${n}/@com.sap.vocabularies.Common.v1.SemanticKey`);if(e["$Type"]==="com.sap.vocabularies.UI.v1.DataField"){const t=e.Value.$Path;const n=r&&!r.every(function(e){return e.$PropertyPath!==t});if(n){return"Begin"}}return C.getDataFieldAlignment(e,a,n)},getPropertyAlignment:function(e,t,n){let a="Begin";const r=t?t.textAlignMode:"";if(r==="Form"){if(this.isNumericDataType(e)){a="Begin";if(n){a=g(n,"Begin","End")}}}else if(this.isNumericDataType(e)||this.isDateOrTimeDataType(e)){a="Right"}return a},getDataFieldAlignment:function(e,t,n,a,r){let i,o="Begin",s,l;if(e?.$Type==="com.sap.vocabularies.UI.v1.DataFieldForAnnotation"){i=e.Target?.$AnnotationPath;if(i&&i.includes("com.sap.vocabularies.UI.v1.FieldGroup")){const e=t.getObject(`${n}/${i}`);for(let c=0;c<e.Data.length;c++){s=t.getObject(`${n}/${i}/Data/${c.toString()}/Value/$Path/$Type`);l=t.getObject(`${n}/${i}/Data/${c.toString()}/Value/$Path@`);s=this.getDataTypeForVisualization(l,s);o=this.getPropertyAlignment(s,a,r);if(o==="Begin"){break}}return o}else if(i&&i.includes("com.sap.vocabularies.UI.v1.DataPoint")&&(t.getObject(`${n}/${i}/Visualization/$EnumMember`)==="com.sap.vocabularies.UI.v1.VisualizationType/Rating"||t.getObject(`${n}/${i}/Visualization/$EnumMember`)==="com.sap.vocabularies.UI.v1.VisualizationType/Progress")){return o}else{s=t.getObject(`${n}/${i}/$Type`);if(s==="com.sap.vocabularies.UI.v1.DataPointType"){s=t.getObject(`${n}/${i}/Value/$Path/$Type`);l=t.getObject(`${n}/${i}/Value/$Path@`);s=this.getDataTypeForVisualization(l,s)}o=this.getPropertyAlignment(s,a,r)}}else{i=e.Value?.$Path;s=t.getObject(`${n}/${i}/$Type`);l=t.getObject(`${n}/${i}@`);s=this.getDataTypeForVisualization(l,s);const c=t.getObject(`${n}/`)["$Key"];if(c&&c.indexOf(i)!==0){o=this.getPropertyAlignment(s,a,r)}}return o},isDataFieldActionButtonEnabled:function(e,t,n,a){if(t!==true){return"true"}return(n===null?"{= !${#"+e.Action+"} ? false : true }":n)?a:"true"},computeLabelText:function(e,t){const n=t.context.getModel();let a=t.context.getPath();if(a.endsWith("/")){a=a.slice(0,a.lastIndexOf("/"))}const r=n.getObject(`${a}/Label`);if(e.$Type==="com.sap.vocabularies.UI.v1.DataFieldForAction"||e.$Type==="com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation"){return undefined}if(r){return r}else if(r===""){return""}let i;if(e.$Type==="com.sap.vocabularies.UI.v1.DataFieldForAnnotation"){if(e?.Target?.$AnnotationPath.includes("@com.sap.vocabularies.UI.v1.DataPoint")||e?.Target?.$AnnotationPath.includes("@com.sap.vocabularies.UI.v1.Chart")){i=n.getObject(`${a}/Target/$AnnotationPath@/Title`)}if(e?.Target?.$AnnotationPath.includes("@com.sap.vocabularies.Communication.v1.Contact")){i=n.getObject(`${a}/Target/$AnnotationPath@/fn/$Path@com.sap.vocabularies.Common.v1.Label`)}}if(i){return i}let o;if(e.$Type==="com.sap.vocabularies.UI.v1.DataFieldForAnnotation"){o=n.getObject(`${a}/Target/$AnnotationPath@/Label`)}if(o){return o}const s=n.getObject(`${a}/Value/$Path@com.sap.vocabularies.Common.v1.Label`);if(s){return s}let l;if(e.$Type==="com.sap.vocabularies.UI.v1.DataFieldForAnnotation"){l=n.getObject(`${a}/Target/$AnnotationPath/Value/$Path@com.sap.vocabularies.Common.v1.Label`)}if(l){return l}return""},buildExpressionForAlignItems:function(e){const t=A(e);const n=A("com.sap.vocabularies.UI.v1.VisualizationType/Progress");const a=A("com.sap.vocabularies.UI.v1.VisualizationType/Rating");return V(D(F(I(t,n),I(t,a)),A("Center"),D(P.IsEditable,A("Center"),A("Stretch"))))},hasValueHelpAnnotation:function(e){if(e){return!!(e["@com.sap.vocabularies.Common.v1.ValueListReferences"]||e["@com.sap.vocabularies.Common.v1.ValueListMapping"]||e["@com.sap.vocabularies.Common.v1.ValueList"])}return false},getAPDialogDisplayFormat:async function(e,t){let a;const r=t.context.getModel();const i=t.context.getPath();const o=e.$Name||t.context.getProperty(`${i}@sapui.name`);const s=r.getObject(`${i}@`);const l=s["@com.sap.vocabularies.Common.v1.ValueList"]||s["@com.sap.vocabularies.Common.v1.ValueListMapping"]||s["@com.sap.vocabularies.Common.v1.ValueListReferences"];const c=function(e){const t=e.Parameters.find(function(e){return e.LocalDataProperty&&e.LocalDataProperty.$PropertyPath===o});return t&&t.ValueListProperty};let u;if(s["@com.sap.vocabularies.Common.v1.TextArrangement"]||s["@com.sap.vocabularies.Common.v1.Text@com.sap.vocabularies.UI.v1.TextArrangement"]){return n.computeDisplayMode(s,undefined)}else if(l){if(l.CollectionPath){u=c(l);if(!u){return"Value"}a=r.getObject(`/${l.CollectionPath}/${u}@`);return a&&a["@com.sap.vocabularies.Common.v1.Text"]?n.computeDisplayMode(a,undefined):"Value"}else{return r.requestValueListInfo(i,true).then(function(e){const t=C.getValueListQuliferForParameterDisplayFormat(r,i,e);u=c(e[t]);if(!u){return"Value"}a=e[t].$model.getMetaModel().getObject(`/${e[t]["CollectionPath"]}/${u}@`);return a&&a["@com.sap.vocabularies.Common.v1.Text"]?n.computeDisplayMode(a,undefined):"Value"})}}else{return"Value"}},getValueListQuliferForParameterDisplayFormat:function(t,n,a){const r=m.putDefaultQualifierFirst(Object.keys(a));let i=r[0];try{const e=t.createBindingContext(`${n}`);const a=$(e).targetObject;const r=d(a);i=r?V(T(a.annotations?.Common?.ValueListForValidation))??"":i}catch(t){e.warning(`Couldn't finding qualifer for value list of action parameter ${n}`)}return i},getActionParameterDialogValueHelp:function(e,t,n){return this.hasValueHelpAnnotation(e)?v([t,n]):undefined},getValueHelpDelegate:function(e,t,n,a){const r={name:f.addSingleQuotes("sap/fe/macros/valuehelp/ValueHelpDelegate"),payload:{propertyPath:f.addSingleQuotes(m.getPropertyPath({UnboundAction:!e,EntityTypePath:t,Action:n,Property:a})),qualifiers:{},valueHelpQualifier:f.addSingleQuotes(""),isActionParameterDialog:true}};return f.objectToString(r)},getValueHelpDelegateForNonComputedVisibleKeyField:function(e){const t={name:f.addSingleQuotes("sap/fe/macros/valuehelp/ValueHelpDelegate"),payload:{propertyPath:f.addSingleQuotes(e),qualifiers:{},valueHelpQualifier:f.addSingleQuotes("")}};return f.objectToString(t)},_getEntitySetFromMultiLevel:function(e,t,n,a,r){let i=t.split("/").filter(Boolean);i=i.filter(function(e){return e!=="$NavigationPropertyBinding"});if(i.length>0){for(let t=a;t<i.length-r;t++){n="/"+e.getObject(`${n}/$NavigationPropertyBinding/${i[t]}`)}}return n},getPathForIconSource:function(e){return V(O([b(`${e}@odata.mediaContentType`)],"._formatters.ValueFormatter#getIconForMimeType"))},getFilenameExpr:function(e,t){if(e){if(e.indexOf("{")===0){return"{= $"+e+" ? $"+e+" : $"+t+"}"}return e}return t},calculateMBfromByte:function(e){return e?(e/(1024*1024)).toFixed(6):undefined},getDownloadUrl:function(e){return e+"{= ${internal>/stickySessionToken} ? ('?SAP-ContextId=' + ${internal>/stickySessionToken}) : '' }"},getMarginClass:function(e){return e==="true"||e===true?"sapMTableContentMargin":undefined},getRequired:function(e,t,n){let a=A(false);if(t!==null){a=y(t?.targetObject)}return V(F(a,n.includes(e)))},isFieldPartOfForm:function(e,t){const n=h.generateKeyFromDataField(t.targetObject);const a=e.find(e=>e.key===n);return a?true:false}};C.fieldControl.requiresIContext=true;C.getAPDialogDisplayFormat.requiresIContext=true;C.computeLabelText.requiresIContext=true;C.getActionParameterVisibility.requiresIContext=true;return C},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/field/FieldRuntime", ["sap/base/Log","sap/base/util/ObjectPath","sap/fe/core/CommonUtils","sap/fe/core/helpers/FPMHelper","sap/fe/macros/CommonHelper","sap/m/HBox","sap/m/table/Util","sap/ui/core/Lib","sap/ui/model/Filter","sap/ui/model/Sorter","./FieldRuntimeHelper"],function(e,t,n,o,r,s,a,i,c,l,u){"use strict";const p={uploadPromises:{},creatingInactiveRow:false,isDraftIndicatorVisible:function(e,t,n,o,r){if(o!==undefined&&n!==undefined&&(!o||n)&&!r){return e===t}else{return false}},onValidateFieldGroup:function(e){const t=e.getSource();const o=n.getTargetView(t),r=o.getController();const s=u.getExtensionController(r);s._sideEffects.handleFieldGroupChange(e)},_fnFixHashQueryString:function(e){if(e?.includes("?")){e=e.split("?")[0]}return e},retrieveTextFromValueList:async function(t,n,o){let s;let a;let l;if(t){a=this.getModel()?.getMetaModel()||r.getMetaModel();l=a.getObject(`${n}@sapui.name`);return a.requestValueListInfo(n,true).then(function(e){const n=e[e[""]?"":Object.keys(e)[0]];const r=n.$model;const a=r.getMetaModel();const i=n.Parameters.find(function(e){return e.LocalDataProperty&&e.LocalDataProperty.$PropertyPath===l});if(i&&!i.ValueListProperty){throw new Error(`Inconsistent value help annotation for ${l}`)}const u=a.getObject(`/${n.CollectionPath}/${i.ValueListProperty}@com.sap.vocabularies.Common.v1.Text`);if(u&&u.$Path){s=u.$Path;const e=new c({path:i.ValueListProperty,operator:"EQ",value1:t});const o=r.bindList(`/${n.CollectionPath}`,undefined,undefined,e,{$select:s});return o.requestContexts(0,2)}else{o="Value";return t}}).then(function(e){const n=s?e[0]?.getObject()[s]:"";if(!n){return t}switch(o){case"Description":return n||t;case"DescriptionValue":return i.getResourceBundleFor("sap.fe.core").getText("C_FORMAT_FOR_TEXT_ARRANGEMENT",[n,t]);case"ValueDescription":return i.getResourceBundleFor("sap.fe.core").getText("C_FORMAT_FOR_TEXT_ARRANGEMENT",[t,n]);default:return t}}).catch(function(t){const o=t;const r=o.status&&o.status===404?`Metadata not found (${o.status}) for value help of property ${n}`:o.message;e.error(r)})}return t},displayAggregateDetails:async function(e,t){if(!t){return}const n=e.getSource();const r=o.getMdcTable(n);const i=n.getBindingContext();const c=i.getBinding();const u=i.getObject();const p=[];const d=i.getFilter();if(d){p.push(d)}const g=p.concat(c.getFilters("Application"),c.getFilters("Control"));const f=c.getAggregation();const m=f.aggregate[t].unit;const h={};h[m]={};const P={};P[t]={grandTotal:false,subtotals:false,unit:m};const T=n.getDependents()[0].clone();const C=new s({renderType:"Bare",justifyContent:"End",items:[T]});const F={group:h,aggregate:P};if(f.search){F.search=f.search}const y={path:c.getResolvedPath(),filters:g,parameters:{$$aggregation:F},sorter:new l(m,false)};const $=u["@$ui5.node.level"]===0;const b=await a.createOrUpdateMultiUnitPopover(`${r.getId()}-multiUnitPopover`,{control:r,grandTotal:$,itemsBindingInfo:y,listItemContentTemplate:C});r.addDependent(b);const M=()=>{r.removeDependent(b);b.detachEvent("afterClose",M);b.destroy()};b.attachEvent("afterClose",M);b.openBy(n)}};t.set("sap.fe.macros.field.FieldRuntime",p);return p},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/field/FieldRuntimeHelper", ["sap/base/Log","sap/fe/core/CommonUtils","sap/fe/core/controllerextensions/collaboration/CollaborationCommon","sap/fe/core/controllerextensions/editFlow/draft","sap/fe/core/helpers/KeepAliveHelper","sap/fe/core/helpers/ModelHelper","sap/fe/core/helpers/ResourceModelHelper","sap/m/IllustratedMessage","sap/m/IllustratedMessageSize","sap/m/IllustratedMessageType","sap/m/Label","sap/m/MessageBox","sap/m/ResponsivePopover","sap/m/library","sap/ui/Device","sap/ui/core/Element","sap/ui/core/IconPool","sap/ui/util/openWindow","../controls/FieldWrapper","../internal/helpers/Upload"],function(e,t,n,o,a,i,s,r,l,c,g,d,p,f,u,m,h,C,P,v){"use strict";var y=v.showTypeMismatchDialog;var S=v.showFileSizeExceedDialog;var F=v.setHeaderFields;var x=v.displayMessageForFailedUpload;var E=s.getResourceModel;var T=n.getActivityKeyFromPath;var D=n.Activity;const B={uploadPromises:{},creatingInactiveRow:false,fetchRecommendations:function(e,n){const o=t.getTargetView(e);const a=e.getBindingContext();let s;const r=a?.getBinding();if(r.isA("sap.ui.model.odata.v4.ODataListBinding")){s=a}else{s=o.getBindingContext()}const l=B.getExtensionController(n);const c=e.isA("sap.ui.mdc.Field")&&e.getValueHelp();const g=i.getMetaPathForContext(e.getBindingContext());const d=e.data("sourcePath").replace(g,"");const p=`${e.getBindingContext()?.getPath()}${d}`;const f=e.isA("sap.ui.mdc.Field")&&e.getValue();l.recommendations.updateTelemetryDataBasedOnUserSelection(p,f);if(c&&c.includes("::TableValueHelp::")){const t=c.substring(0,c.indexOf("::TableValueHelp::"));const n=o.byId(t);const a=n?.getParent()?.getIdentifierColumn();l.recommendations.fetchAndApplyRecommendationsOnFieldChange(e,{context:s,contextIdentifier:a})}else{l.recommendations.fetchAndApplyRecommendationsOnFieldChange(e,{context:s})}},getExtensionController:function(e){return e.isA("sap.fe.core.ExtensionAPI")?e._controller:e},getFieldStateOnChange:function(e){let t=e.getSource(),n;const o=function(e){return e&&e.getDataState()?e.getDataState().getInvalidValue()===undefined:true};if(t.isA("sap.fe.macros.field.Field")){t=t.getContent()}if(t.isA("sap.fe.macros.Field")){t=t.getContent()}if(t.isA(P.getMetadata().getName())&&t.getEditMode()==="Editable"){t=t.getContentEdit()[0]}if(t.isA("sap.ui.mdc.Field")){let a=e.getParameter("valid")||e.getParameter("isValid");if(a===undefined){if(t.getMaxConditions()===1){const e=t.getBindingInfo("value");a=o(e&&e.binding)}if(t.getValue()===""&&!t.getProperty("required")){a=true}}n={fieldValue:t.getValue(),validity:!!a}}else{const e=t.getBinding("uploadUrl")||t.getBinding("value")||t.getBinding("selected");n={fieldValue:e&&e.getValue(),validity:o(e)}}return{field:t,state:n}},pressLink:async function(e){const t=e.getSource();let n=t.isA("sap.m.ObjectIdentifier")?t.findElements(false,e=>e.isA("sap.m.Link"))[0]:t;if(t?.isA("sap.fe.macros.controls.TextLink")){n=t.getContent()}if(t.getDependents()&&t.getDependents().length>0&&n.getProperty("text")!==""){const e=t.getDependents()[0];if(e&&e.isA("sap.ui.mdc.Link")){await B.openLink(e,n)}}return n},openLink:async function(n,o){try{const i=await n.getTriggerHref();if(!i){try{await n._useDelegateItems();const e=await n.retrieveLinkItems();if(e?.length===0&&n.getPayload().hasQuickViewFacets==="false"){const e=B.createPopoverWithNoTargets(n);n.addDependent(e);e.openBy(o)}else{await n.open(o)}}catch(t){e.error(`Cannot retrieve the QuickView Popover dialog: ${t}`)}}else{const n=t.getTargetView(o);const s=t.getAppComponent(n);const r=s.getShellServices();const l=r.parseShellHash(i);const c={target:{semanticObject:l.semanticObject,action:l.action},params:l.params};a.storeControlRefreshStrategyForHash(n,l);if(t.isStickyEditMode(o)!==true){await r.navigate(c,s)}else{try{const e=await r.hrefForExternal(c,s);C(e)}catch(t){e.error(`Error while retireving hrefForExternal : ${t}`)}}}}catch(t){e.error(`Error triggering link Href: ${t}`)}},createPopoverWithNoTargets:function(e){const t=e.getId();const n={title:E(e).getText("M_ILLUSTRATEDMESSAGE_TITLE"),description:E(e).getText("M_ILLUSTRATEDMESSAGE_DESCRIPTION"),enableFormattedText:true,illustrationSize:l.ExtraSmall,illustrationType:c.NoData};const o=new r(`${t}-illustratedmessage`,n);const a={horizontalScrolling:false,showHeader:u.system.phone,placement:f.PlacementType.Auto,content:[o],afterClose:function(e){if(e.getSource()){e.getSource().destroy()}}};return new p(`${t}-popover`,a)},handleTypeMissmatch:function(e){const t=e.getSource();const n=e.getParameter("mimeType");const o=t.getMimeType();if(n){y(t,n,o)}},handleFileSizeExceed:function(e){const t=e.getSource();S(t,t.getMaximumFileSize().toFixed(3))},handleUploadComplete:function(e,n,o,a){const i=Number(e.getParameter("status")),s=e.getSource(),r=s.getParent(),l=r.getParent();r.setUIBusy(false);const c=s.getBindingContext();if(i===0||i>=400){const t=e.getParameter("responseRaw")||e.getParameter("response");x(s,t);B.uploadPromises[s.getId()].reject()}else{const t=e.getParameter("headers")?.etag;if(t){c?.setProperty("@odata.etag",t,null)}if(n?.path){c?.setProperty(n.path,s.getValue())}r.avatar?.refreshAvatarCacheBusting();B._callSideEffectsForStream(e,r,a);this.uploadPromises[s.getId()].resolve();l?.fireEvent("change",e)}delete this.uploadPromises[s.getId()];const g=a.collaborativeDraft?.isConnected();if(!g||!c){return}const d=[`${c.getPath()}/${o}`];if(n?.path){d.push(`${c.getPath()}/${n.path}`)}let p=c.getBinding();if(!p.isA("sap.ui.model.odata.v4.ODataListBinding")){const e=t.getTargetView(s);p=e.getBindingContext().getBinding()}if(p.hasPendingChanges()){p.attachEventOnce("patchCompleted",()=>{a.collaborativeDraft.send({action:D.Change,content:d});a.collaborativeDraft.send({action:D.Unlock,content:d})})}else{a.collaborativeDraft.send({action:D.Change,content:d});a.collaborativeDraft.send({action:D.Unlock,content:d})}},removeStream:function(e,n,o,a){const i=e.getSource();const s=i.getParent();const r=s.getBindingContext();const l=s.getParent();r.setProperty(o,null);r.setProperty(o,undefined,null);B._callSideEffectsForStream(e,s,a);const c=a.collaborativeDraft?.isConnected();if(c){let e=r.getBinding();if(!e.isA("sap.ui.model.odata.v4.ODataListBinding")){const n=t.getTargetView(i);e=n.getBindingContext().getBinding()}const s=[`${r.getPath()}/${o}`];if(n?.path){s.push(`${r.getPath()}/${n.path}`)}a.collaborativeDraft.send({action:D.Lock,content:s});e.attachEventOnce("patchCompleted",function(){a.collaborativeDraft.send({action:D.Change,content:s});a.collaborativeDraft.send({action:D.Unlock,content:s})})}l?.fireEvent("change",e)},_callSideEffectsForStream:function(e,t,n){const o=B.getExtensionController(n);if(t&&t.getBindingContext().isTransient()){return}if(t){e.oSource=t}o._sideEffects.handleFieldChange(e,B.getFieldStateOnChange(e).state["validity"])},uploadStream:function(e,t){const n=t.getSource(),o=B.getExtensionController(e),a=n.getParent(),i=a.getUploadUrl();if(i!==""){a.setUIBusy(true);n.setUploadUrl(i);const e=t.getParameter("files");const s=e&&e[0].type;F(n,s);const r=new Promise((e,t)=>{this.uploadPromises=this.uploadPromises||{};this.uploadPromises[n.getId()]={resolve:e,reject:t};n.upload()});o.editFlow.syncTask(r)}else{d.error(E(e).getText("M_FIELD_FILEUPLOADER_ABORTED_TEXT"))}},handleOpenUploader:function(e){const t=e.getSource();B._sendCollaborationMessageForFileUploader(t,D.Lock)},_sendCollaborationMessageForFileUploader(e,n){const o=t.getTargetView(e);const a=o.getController().collaborativeDraft;if(a.isConnected()){const t=e.getParent()?.getProperty("propertyPath");const o=`${e.getBindingContext()?.getPath()}/${t}`;a.send({action:n,content:o})}},handleCloseUploader:function(e){const t=e.getSource();B._sendCollaborationMessageForFileUploader(t,D.Unlock)},openExternalLink:function(e){const t=e.getSource();if(t.data("url")&&t.getProperty("text")!==""){C(t.data("url"),"_self")}},getIconForMimeType:function(e){return h.getIconForMimeType(e)},onDataFieldWithNavigationPath:async function(n,a,s){if(a._routing){const e=n.getBindingContext();const r=t.getTargetView(n),l=e.getModel().getMetaModel();const c=r.getViewData();const g=i.getDraftRootPath(e)??e.getPath();let d=await a._routing.getHashForNavigation(e,s);const p=()=>{a.getAppComponent().getRouterProxy().navToHash(d,true,false,false,!i.isStickySessionSupported(e.getModel().getMetaModel()))};if(!d?.startsWith("/")){d=`/${d}`}const f=d.startsWith(g);if(c.converterType==="ObjectPage"&&!i.isStickySessionSupported(l)&&!f){o.processDataLossOrDraftDiscardConfirmation(p,Function.prototype,e,r.getController(),true,o.NavigationType.ForwardNavigation)}else{p()}}else{e.error("FieldRuntime: No routing listener controller extension found. Internal navigation aborted.","sap.fe.macros.field.FieldRuntime","onDataFieldWithNavigationPath")}},showCollaborationEditUser:function(e,t){const n=s.getResourceModel(t);let o=m.getElementById(`manageCollaborationDraft--editUser`);if(!o){o=new p("manageCollaborationDraft--editUser",{showHeader:false,placement:"Bottom"});o.addStyleClass("sapUiContentPadding");t.addDependent(o)}const a=e.getBinding("initials")?.getBindings().find(e=>e?.getPath()?.startsWith("/collaboration/activities")).getPath();const i=e.getBindingContext("internal")?.getObject(a);let r;if(i&&i.length>0){r=i.find(t=>t.key===T(e.getBindingContext().getPath()))}o.destroyContent();o.addContent(new g({text:n.getText("C_COLLABORATIONAVATAR_USER_EDIT_FIELD",[`${r?.name}`])}));o.openBy(e)}};return B},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/field/FieldTemplating", ["sap/fe/base/BindingToolkit","sap/fe/core/converters/annotations/DataField","sap/fe/core/formatters/ValueFormatter","sap/fe/core/helpers/TypeGuards","sap/fe/core/templating/CommonFormatters","sap/fe/core/templating/DataFieldFormatters","sap/fe/core/templating/DataModelPathHelper","sap/fe/core/templating/PropertyHelper","sap/fe/core/templating/SemanticObjectHelper","sap/fe/core/templating/UIFormatters","sap/m/AvatarShape","sap/ui/model/json/JSONModel","./FieldHelper"],function(e,t,a,n,i,o,r,s,l,c,u,f,m){"use strict";var d={};var p=s.hasStaticPercentUnit;var g=r.getRelativePaths;var v=r.getContextRelativeTargetObjectPath;var y=r.getContextPropertyRestriction;var I=r.enhanceDataModelPath;var b=o.generateVisibleExpression;var h=n.isProperty;var O=n.isPathAnnotationExpression;var T=n.isNavigationProperty;var D=n.isAnnotationOfType;var U=n.isAnnotationOfTerm;var F=t.isDataFieldForAnnotation;var P=e.transformRecursively;var x=e.pathInModel;var j=e.or;var M=e.isPathInModelExpression;var E=e.isComplexTypeExpression;var S=e.ifElse;var k=e.getExpressionFromAnnotation;var V=e.formatWithTypeInformation;var C=e.formatResult;var $=e.constant;var A=e.compileExpression;const B=function(e,t){return P(e,"PathInModel",e=>{let a=e;if(e.modelName===undefined){const n=I(t,e.path);a=i.getBindingWithTextArrangement(n,e)}return a})};d.addTextArrangementToBindingExpression=B;const N=function(e,t){return P(e,"PathInModel",e=>{let a=e;if(e.modelName===undefined){const n=I(t,e.path);if(n.targetObject){a=V(n.targetObject,e)}}return a})};d.formatValueRecursively=N;const W=function(e,t){return R(e,t,true)};d.getTextBindingExpression=W;const R=function(e,t){let a=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;let n=arguments.length>3?arguments[3]:undefined;if(D(e.targetObject,["com.sap.vocabularies.UI.v1.DataField","com.sap.vocabularies.UI.v1.DataPointType","com.sap.vocabularies.UI.v1.DataFieldWithNavigationPath","com.sap.vocabularies.UI.v1.DataFieldWithUrl","com.sap.vocabularies.UI.v1.DataFieldWithIntentBasedNavigation","com.sap.vocabularies.UI.v1.DataFieldWithAction"])){const t=k(e.targetObject.Value)??"";return A(t)}if(O(e.targetObject)&&e.targetObject.$target){e=I(e,e.targetObject.path)}if(typeof e.targetObject==="string"){return e.targetObject}const o=x(v(e));let r;const s=e;const l=s.targetObject;if(l?.annotations?.UI?.InputMask){r=V(l,o);r.type="sap.fe.core.type.InputMask";r.formatOptions={mask:l.annotations?.UI?.InputMask?.Mask.toString(),placeholderSymbol:l.annotations?.UI?.InputMask?.PlaceholderSymbol.toString(),maskRule:te(l.annotations?.UI?.InputMask?.Rules)}}else if(l?.annotations?.Common?.Masked?.valueOf()){r=V(l,o);r.formatOptions={editStyle:"Masked"}}else if(l?.annotations?.Measures?.Unit||l?.annotations?.Measures?.ISOCurrency){r=c.getBindingWithUnitOrCurrency(s,o,undefined,{},true,t.showOnlyUnitDecimals,t.preserveDecimalsForCurrency);if(t?.measureDisplayMode==="Hidden"&&E(r)){r.formatOptions={...r.formatOptions,showMeasure:false}}}else if(l?.annotations?.Common?.Timezone&&l.type=="Edm.DateTimeOffset"){r=c.getBindingWithTimezone(s,o,false,true,t)}else if(l?.annotations?.Common?.IsTimezone){r=c.getBindingForTimezone(s,o)}else if(l?.annotations?.UI?.DateTimeStyle||t?.dateTimePattern||t?.dateTimeStyle){r=c.getBindingForDateFormat(s,o,t)}else{r=i.getBindingWithTextArrangement(s,o,t,n)}if(a){return r}return A(r)};d.getTextBinding=R;const w=function(e,t){let a=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;let n=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;let i=arguments.length>4?arguments[4]:undefined;let o=arguments.length>5&&arguments[5]!==undefined?arguments[5]:false;let r=arguments.length>6&&arguments[6]!==undefined?arguments[6]:false;let s=arguments.length>7?arguments[7]:undefined;let l=arguments.length>8&&arguments[8]!==undefined?arguments[8]:false;let u=arguments.length>9&&arguments[9]!==undefined?arguments[9]:false;if(O(e.targetObject)&&e.targetObject.$target){const t=e.targetEntityType.resolvePath(e.targetObject.path,true);e.targetObject=t.target;t.visitedObjects.forEach(t=>{if(T(t)){e.navigationProperties.push(t)}})}const f=e.targetObject;if(h(f)){let m=x(v(e));if(M(m)){if(f.annotations?.Communication?.IsEmailAddress){m=V(f,m);m.type="sap.fe.core.type.Email"}else if(f.annotations?.UI?.InputMask){m=V(f,m);m.type="sap.fe.core.type.InputMask";m.formatOptions={...m.formatOptions,mask:f.annotations.UI.InputMask.Mask,placeholderSymbol:f.annotations.UI.InputMask.PlaceholderSymbol,maskRule:te(f.annotations.UI.InputMask.Rules)}}else if(f.annotations?.Common?.Masked?.valueOf()){m=V(f,m);m.formatOptions={...m.formatOptions,style:"password"}}else if(!a&&(f.annotations?.Measures?.ISOCurrency||f.annotations?.Measures?.Unit)){const a={};if(!r){a["showMeasure"]=false}if(String(t.isCurrencyOrUnitAligned)==="true"){a["decimalPadding"]=s}m=c.getBindingWithUnitOrCurrency(e,m,true,r?undefined:a,l,t.showOnlyUnitDecimals,t.preserveDecimalsForCurrency)}else if(f?.annotations?.Common?.IsTimezone){m=c.getBindingForTimezone(e,m)}else if(f?.annotations?.UI?.DateTimeStyle||t?.dateTimePattern||t?.dateTimeStyle){m=c.getBindingForDateFormat(e,m,t)}else if(f?.annotations?.Common?.Timezone&&f.type==="Edm.DateTimeOffset"){m=c.getBindingWithTimezone(e,m,true)}else{m=V(f,m);if(f.annotations.Common?.ExternalID){m.path+="@$ui5.fe.@Common/ExternalID"}}if(M(m)){if(n){delete m.formatOptions;delete m.constraints;delete m.type}if(i){m.parameters=i}if(o){m.targetType="any"}}if(u){return m}return A(m)}else{return""}}else if(f?.$Type==="com.sap.vocabularies.UI.v1.DataFieldWithUrl"||f?.$Type==="com.sap.vocabularies.UI.v1.DataFieldWithNavigationPath"){return A(k(f.Value))}else{return""}};d.getValueBinding=w;const H=function(e,t){const a=s.getAssociatedTextPropertyPath(e.targetObject);if(a){const n=I(e,a);let i=false;const o=e.targetObject?.annotations?.Common?.ValueList?.Parameters.map(e=>{if(!e){return""}return e?.LocalDataProperty?.$target?.fullyQualifiedName??""})||[];if(n?.targetObject?.fullyQualifiedName&&o.includes(n.targetObject.fullyQualifiedName)){i=true}const r=i?undefined:{$$noPatch:true};return w(n,t,true,false,r,false,false,undefined,true)}return undefined};d.getAssociatedTextBinding=H;const z=function(e,t){const a=e?.targetEntityType?.navigationProperties||[];const n=e?.targetEntityType?.annotations?.Common?.SemanticKey||[];let i=false;a.forEach(e=>{if(e.referentialConstraint&&e.referentialConstraint.length){e.referentialConstraint.forEach(a=>{if(a?.sourceProperty===t.name){if(e?.targetType?.annotations?.UI?.QuickViewFacets){i=true}}})}});if(e.contextLocation?.targetEntitySet!==e.targetEntitySet){const a=n.some(function(e){return e?.$target?.name===t.name});if((a||t.isKey)&&e?.targetEntityType?.annotations?.UI?.QuickViewFacets){i=true}}return i};d.isUsedInNavigationWithQuickViewFacets=z;const Q=function(e,t){const a=O(e)&&e.$target||e;if(!a.annotations?.Common?.Text&&!a.annotations?.Measures&&s.hasValueHelp(a)&&t.textAlignMode==="Form"){return true}return false};d.isRetrieveTextFromValueListEnabled=Q;const L=function(e,t,a){let n=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;let i=e.targetObject?.Value?.$target.type||e.targetObject?.Target?.$target?.Value.$target.type;if(s.isKey(e.targetObject?.Value?.$target||e.targetObject?.Target?.$target?.Value?.$target)){return"Begin"}if(n&&t.displayMode&&["Description","DescriptionValue","ValueDescription"].includes(t.displayMode)){const t=e.targetObject?.Value?.$target.annotations?.Common?.Text;const a=t?.annotations?.UI?.TextArrangement.valueOf();if(t&&a!=="UI.TextArrangementType/TextSeparate"){i=t.$target.type}}return m.getPropertyAlignment(i,t,a)};d.getTextAlignment=L;const G=function(e,t){return A(b(e,t))};d.getVisibleExpression=G;const K=function(e){const t=e.targetObject;const a=A(b(e));const n=[];if(typeof a==="string"&&a.includes("{=")){return a}if(t.$Type==="com.sap.vocabularies.UI.v1.DataFieldForAnnotation"&&t.Target.$target?.$Type==="com.sap.vocabularies.UI.v1.ConnectedFieldsType"){const i=Object.values(t.Target.$target.Data).filter(e=>e?.hasOwnProperty("Value"));i.forEach(t=>{e.targetObject=t;const a=b(e);if(a!==undefined){n.push(a)}});return n.length?A(j(...n)):a}return a};d.visibleExpressionsForConnectedFieldsFormElement=K;const q=function(e){if(!e.targetObject){return""}if(typeof e.targetObject==="string"){return e.targetObject}return R(e,{})};d.getQuickViewBinding=q;const J=function(e){const t=e.targetObject;if(D(t,"com.sap.vocabularies.UI.v1.DataFieldWithUrl")&&t?.Url){return"link"}if(!h(t)&&t?.Value.$target?.annotations?.Communication?.IsEmailAddress||h(t)&&t?.annotations?.Communication?.IsEmailAddress){return"email"}if(!h(t)&&t?.Value.$target?.annotations?.Communication?.IsPhoneNumber||h(t)&&t?.annotations?.Communication?.IsPhoneNumber){return"phone"}return"text"};d.getQuickViewType=J;const Z=function(e){if(e.length>0){let t="";let a="";const n=[];for(const i of e){t=i.key;a=A(k(i.value));n.push({key:t,value:a})}const i=new f(n);i.$$valueAsPromise=true;return i.createBindingContext("/")}else{return new f([]).createBindingContext("/")}};d.getSemanticObjects=Z;const X=function(e,t){if(e.wrap===false){return false}return t};d.getMultipleLinesForDataField=X;const Y=function(e,t){const a=s.getAssociatedUnitProperty(e);const n=s.getAssociatedCurrencyProperty(e);return s.hasValueHelp(e)&&e.type!=="Edm.Boolean"||t!=="Hidden"&&(a&&s.hasValueHelp(a)||n&&s.hasValueHelp(n))};const _=function(t,n,i){const o=t?.Validation?.[n]?.$Date;const r=t?.Validation?.[n];if(o){return C([$(o)],a.provideDateInstance)}else if(r){return e.getExpressionFromAnnotation(t?.Validation?.[n],i)}return undefined};d.getMinMaxDateExpression=_;const ee=function(e,t,a,n){const i=a.targetObject;if(!h(i)||["com.sap.vocabularies.UI.v1.DataFieldForAction","com.sap.vocabularies.UI.v1.DataFieldWithNavigationPath","com.sap.vocabularies.UI.v1.DataFieldForActionGroup","com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation"].includes(t.$Type)){e.editStyle=null;return}if(!n){if(i?.annotations?.Validation?.Maximum?.$Date||i?.annotations?.Validation?.Minimum?.$Date){const t=x(v(a));e.valueBindingExpression=c.getBindingForDatePicker(a,t)}else{e.valueBindingExpression=e.value?e.value:w(a,e.formatOptions)}const n=t.annotations?.UI?.Placeholder||t?.Value?.$target?.annotations?.UI?.Placeholder;if(n){e.editStylePlaceholder=A(k(n))}}const o=F(t)?t.Target?.$target:t;if(o?.Visualization==="UI.VisualizationType/Rating"){e.editStyle="RatingIndicator";if(o.annotations?.Common?.QuickInfo){e.ratingIndicatorTooltip=A(k(o.annotations?.Common?.QuickInfo))}e.ratingIndicatorTargetValue=A(k(o.TargetValue));return}if(Y(i,e.formatOptions?.measureDisplayMode)||e.formatOptions?.measureDisplayMode!=="Hidden"&&(i.annotations?.Measures?.ISOCurrency||i.annotations?.Measures?.Unit&&!p(i))){if(!n){const t=i.annotations?.Common?.ExternalID?H(e.dataModelPathExternalID,e.formatOptions):H(a,e.formatOptions);const n=!!e.value&&/{\w+>.+}/.test(e.value);if(n){if(e.description){e.textBindingExpression=e.description}else{e.textBindingExpression=undefined;e.formatOptions.displayMode="Value"}}else{e.textBindingExpression=t}if(e.formatOptions?.measureDisplayMode!=="Hidden"){e.valueBindingExpression=e.value?e.value:w(a,e.formatOptions,false,false,undefined,false,true)}}e.editStyle="InputWithValueHelp";return}switch(i.type){case"Edm.Date":e.editStyle="DatePicker";const t=g(a);if(i?.annotations?.Validation?.Maximum){e.maxDateExpression=_(i?.annotations,"Maximum",t)}if(i?.annotations?.Validation?.Minimum){e.minDateExpression=_(i?.annotations,"Minimum",t)}return;case"Edm.Time":case"Edm.TimeOfDay":e.editStyle="TimePicker";return;case"Edm.DateTime":case"Edm.DateTimeOffset":e.editStyle="DateTimePicker";if(!i.annotations?.Common?.Timezone){e.showTimezone=undefined}else{e.showTimezone=true}return;case"Edm.Boolean":e.editStyle="CheckBox";return;case"Edm.Stream":e.editStyle="File";return;case"Edm.String":if(i.annotations?.UI?.MultiLineText?.valueOf()){e.editStyle="TextArea";return}if(i.annotations?.UI?.InputMask?.valueOf()){e.editStyle="InputMask";e.mask={mask:i.annotations?.UI?.InputMask?.Mask.toString(),placeholderSymbol:i.annotations?.UI?.InputMask?.PlaceholderSymbol.toString(),maskRule:te(i.annotations?.UI?.InputMask?.Rules)};return}if(i.annotations?.Common?.Masked?.valueOf()){e.editStyle="Masked";return}break;default:if(p(i)){e.staticDescription="%"}e.editStyle="Input"}e.editStyle="Input"};d.setEditStyleProperties=ee;const te=e=>{if(!e||e.length===0){return[{symbol:"*",regex:"[a-zA-Z0-9]"}]}return e.map(e=>({symbol:e.MaskSymbol.toString(),regex:e.RegExp.toString()}))};const ae=e=>{const t=e.targetObject;if(l.hasSemanticObject(t)){return true}const a=e?.navigationProperties?.length?e?.navigationProperties[e?.navigationProperties?.length-1]:null;if(!a||e.contextLocation?.navigationProperties?.find(e=>e.name===a.name)){return false}return l.hasSemanticObject(a)};d.hasSemanticObjectInNavigationOrProperty=ae;const ne=e=>{if(!e.targetObject){return undefined}if(h(e.targetObject)){return e}let t="";if(U(e,"com.sap.vocabularies.UI.v1.DataPoint")){e.targetObject.$Type=e.targetObject.$Type||"com.sap.vocabularies.UI.v1.DataPointType"}switch(e.targetObject.$Type){case"com.sap.vocabularies.UI.v1.DataField":case"com.sap.vocabularies.UI.v1.DataPointType":case"com.sap.vocabularies.UI.v1.DataFieldWithNavigationPath":case"com.sap.vocabularies.UI.v1.DataFieldWithUrl":case"com.sap.vocabularies.UI.v1.DataFieldWithIntentBasedNavigation":case"com.sap.vocabularies.UI.v1.DataFieldWithAction":if(typeof e.targetObject.Value==="object"){t=e.targetObject.Value.path}break;case"com.sap.vocabularies.UI.v1.DataFieldForAnnotation":if(e.targetObject.Target.$target){if(D(e.targetObject.Target.$target,["com.sap.vocabularies.UI.v1.DataPointType","com.sap.vocabularies.UI.v1.DataField"])){if(e.targetObject.Target.value.indexOf("/")>0){t=e.targetObject.Target.value.replace(/\/@.*/,`/${e.targetObject.Target.$target.Value?.path}`)}else{t=e.targetObject.Target.$target.Value?.path}}else{t=e.targetObject.Target?.path}}break;case"com.sap.vocabularies.UI.v1.DataFieldForAction":case"com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation":case"com.sap.vocabularies.UI.v1.DataFieldForActionGroup":case"com.sap.vocabularies.UI.v1.DataFieldWithActionGroup":break}if(t&&t.length>0){return I(e,t)}else{return undefined}};d.getDataModelObjectPathForValue=ne;const ie=e=>{const t=y(e,e=>e?.InsertRestrictions?.NonInsertableProperties);return t.some(t=>t?.$target?.fullyQualifiedName===e.targetObject?.fullyQualifiedName)};d.hasPropertyInsertRestrictions=ie;const oe=e=>e?A(C([$(e),x("semanticKeyHasDraftIndicator","internal"),x("HasDraftEntity"),x("IsActiveEntity"),x("hideDraftInfo","pageInternal")],"sap.fe.macros.field.FieldRuntime.isDraftIndicatorVisible")):"false";d.getDraftIndicatorVisibleBinding=oe;const re=e=>{const t=e.targetObject?.annotations?.UI?.IsImageURL?.annotations?.Common?.IsNaturalPerson||e.targetObject?.annotations?.UI?.IsImage?.annotations?.Common?.IsNaturalPerson;const a=e.targetEntityType.annotations?.Common?.IsNaturalPerson;let n;if(t){n=k(t)}else if(a){n=k(a)}else n=false;return A(S(n,u.Circle,u.Square))};d.getAvatarShape=re;return d},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/field/TextAreaEx", ["sap/fe/base/ClassSupport","sap/fe/core/helpers/ResourceModelHelper","sap/m/TextArea","sap/ui/core/library"],function(e,t,r,a){"use strict";var n,s;var o={};var i=a.ValueState;var u=t.getResourceModel;var l=e.defineUI5Class;function p(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,c(e,t)}function c(e,t){return c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},c(e,t)}let f=(n=l("sap.fe.macros.field.TextAreaEx"),n(s=function(e){function t(){return e.apply(this,arguments)||this}o=t;p(t,e);var r=t.prototype;r.fireLiveChange=function t(r){e.prototype.fireLiveChange.call(this,r);this._validateTextLength(r?.value);return this};r.setValue=function t(r){e.prototype.setValue.call(this,r??"");this._validateTextLength(r);return this};r._validateTextLength=function e(t){const r=this.getMaxLength();if(!r||t===undefined||t===null){return}if(t.length>r){const e=u(this).getText("M_FIELD_TEXTAREA_TEXT_TOO_LONG");this.setValueState(i.Error);this.setValueStateText(e)}else{this.setValueState(i.None)}};return t}(r))||s);o=f;return o},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/filter/FilterFieldHelper", ["sap/base/util/JSTokenizer","sap/fe/base/BindingToolkit","sap/fe/core/CommonUtils","sap/fe/core/templating/DataModelPathHelper","sap/fe/core/templating/PropertyFormatters","sap/fe/core/type/FiscalDate","sap/fe/macros/CommonHelper","sap/ui/model/odata/v4/AnnotationHelper"],function(e,t,n,o,i,r,s,a){"use strict";var l={};var c=i.getProperty;var p=o.getContextRelativeTargetObjectPath;var f=t.pathInModel;var u=t.getFiscalType;var g=t.EDM_TYPE_MAPPING;var m=t.compileExpression;function d(e,t){const o=t.context.getModel();const i=t.context.getPath();const r=s.getLocationForPropertyPath(o,i);let a;let l=o.getObject(`${r}/@com.sap.vocabularies.Common.v1.ResultContext`);if(!l){if(typeof e==="string"){a=e}else{a=o.getObject(`${i}@sapui.name`)}const t=n.getFilterRestrictionsByPath(r,o);l=t?.RequiredProperties?.includes(a)}return l}l.isRequiredInFilter=d;function y(e,t){const o=t.context.getModel();const i=t.context.getPath();const r=s.getLocationForPropertyPath(o,i);let a;let l=-1;if(o.getObject(`${r}/@com.sap.vocabularies.Common.v1.ResultContext`)===true){return 1}if(typeof e==="string"){a=e}else{a=o.getObject(`${i}@sapui.name`)}const c=n.getFilterRestrictionsByPath(r,o);let p=o.getObject(`${r}/${a}`);if(!p){p=o.getObject(i)}if(p.$Type==="Edm.Boolean"){l=1}else if(c?.FilterAllowedExpressions?.[a]){const e=n.getSpecificAllowedExpression(c.FilterAllowedExpressions[a]);if(e==="SingleValue"||e==="SingleRange"){l=1}}return l}l.maxConditions=y;function P(e){const t=p(e,false,true);return m(f(`/conditions/${t}`,"$filters"))}l.getConditionsBinding=P;function b(t,n){const o=a.format(t,n)||"";const i=o.match(/constraints:.*?({.*?})/);const r=e.parseJS(i?.[1]||"{}");if(o.includes("sap.ui.model.odata.type.DateTimeOffset")){r.V4=true}if(r.nullable===false){delete r.nullable}return Object.keys(r).length===0?undefined:JSON.stringify(r).replaceAll('"',"'")}l.constraints=b;function h(e,t){if(e.$Type==="Edm.String"){if(!e.hasOwnProperty("$Nullable")||e.$Nullable===true){t.arguments=[null,{parseKeepsEmptyString:false}]}const n=u(c(e,t));if(n){if(!t.arguments){t.arguments=[null,{}]}t.arguments[1].fiscalType=n}}const n=a.format(e,t)||"";return n.match(/formatOptions:.*?({.*?})/)?.[1]||undefined}l.formatOptions=h;function v(e){if(e.type==="Edm.String"){const t=u(e);if(t){return"sap.fe.core.type.FiscalDate"}}const t=g[e.type];return t?t.type:e.type}l.getDataType=v;function O(e){if(e.type==="Edm.String"){const t=u(e);if(t){return new r({fiscalType:t},{}).getPattern()}}return undefined}l.getPlaceholder=O;return l},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/filter/FilterFieldTemplating", ["sap/fe/core/templating/PropertyHelper","sap/fe/core/templating/UIFormatters","sap/fe/core/converters/MetaModelConverter"],function(t,e,n){"use strict";var r={};var o=e.getDisplayMode;var a=t.hasValueHelp;const s=function(t,e){return a(e)?o(t):"Value"};r.getDisplayProperty=s;const c=async function(t,e,n){const r=e?.annotations?.Common?.Text;if(r){return s(t,e)}const c=a(e);if(c){const e=t?.targetEntityType?.annotations?.UI?.TextArrangement;return e?o(t):i(n,t)}return"Value"};r.getFilterFieldDisplayFormat=c;async function i(t,e){const r=t.context;const a=t.context.getModel();return a.requestValueListInfo(r.getPath(),true,r).then(function(t){const r=Object.keys(t)[0];const s=t[r];const c=s.Parameters?.find(t=>t.LocalDataProperty?.$PropertyPath===e?.targetObject?.name);const i=c?.ValueListProperty;const l=n.getInvolvedDataModelObjects(a.createBindingContext("/"+s.CollectionPath+"/"+i));return o(l)})}r._getDisplayModeFromValueHelp=i;return r},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/filter/FilterOperatorUtils", ["sap/base/Log","sap/fe/core/helpers/LoaderUtils","sap/ui/mdc/condition/FilterOperatorUtil","sap/ui/mdc/condition/Operator","sap/ui/mdc/enums/OperatorValueType"],function(e,r,t,o,s){"use strict";var a=r.requireDependencies;const n={async processCustomFilterOperators(e){const r=e.getManifestEntry("sap.fe");const{customFilterOperators:t}=r?.macros?.filter||{};if(t){await n.registerCustomOperators(t)}},async registerCustomOperators(r){const o=r.map(e=>e.name);const s=o.map(e=>e.substring(0,e.lastIndexOf(".")).replace(/\./g,"/"));const i=await a(s);const l=r.reduce((r,t,o)=>{const a=i?.[o];const{name:l,multiValue:u}=t;if(a){const e=n.createSingleCustomOperator(l,a,u??false);if(e){r.push(e)}}else{e.error(`Failed to load custom operator module: ${s[o]}`)}return r},[]);t.addOperators(l);return l},createSingleCustomOperator(r,t,a){const i=r.substring(r.lastIndexOf(".")+1);if(t?.[i]){return new o({filterOperator:"",tokenFormat:"",name:r,valueTypes:[s.Self],tokenParse:"^(.*)$",format:e=>n.formatConditionValues(e.values,a),parse:function(e,t,s,a){if(typeof e==="object"){if(e.operator!==r){throw Error("not matching operator")}return e.values}return o.prototype.parse.apply(this,[e,t,s,a])},getModelFilter:e=>{const r=n.getValuesForModelFilter(e.values,a);return t[i].call(t,r)}})}else{e.error(`Failed to create custom operator: model filter function ${r} not found`)}},getValuesForModelFilter(e,r){if(r){const r=e[0];return(typeof r==="string"?r.split(","):r)||[]}return Array.isArray(e)&&e.length?e[0]:e},formatConditionValues(e){let r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;if(e&&Array.isArray(e)&&e.length>0){return r?e:e[0]}return e}};return n},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/filter/FilterUtils", ["sap/base/Log","sap/base/util/merge","sap/fe/core/CommonUtils","sap/fe/core/converters/ConverterContext","sap/fe/core/converters/ManifestWrapper","sap/fe/core/converters/MetaModelConverter","sap/fe/core/converters/controls/ListReport/FilterBar","sap/fe/core/helpers/MetaModelFunction","sap/fe/core/helpers/ModelHelper","sap/fe/core/templating/DataModelPathHelper","sap/fe/core/templating/DisplayModeFormatter","sap/fe/macros/CommonHelper","sap/fe/macros/DelegateUtil","sap/fe/macros/filterBar/SemanticDateOperators","sap/ui/core/Element","sap/ui/mdc/condition/Condition","sap/ui/mdc/condition/ConditionConverter","sap/ui/mdc/enums/ConditionValidated","sap/ui/mdc/odata/v4/TypeMap","sap/ui/mdc/p13n/StateUtil","sap/ui/mdc/util/FilterUtil","sap/ui/model/Filter","sap/ui/model/FilterOperator","sap/ui/model/odata/v4/ODataUtils","../filterBar/DraftEditState"],function(t,e,n,i,r,a,o,s,l,c,f,d,u,p,g,h,y,m,F,C,P,b,S,T,v){"use strict";var O=f.ODATA_TYPE_MAPPING;var D=c.getContextRelativeTargetObjectPath;var E=s.getAllCustomAggregates;var M=function(t){t["hiddenFilter"]="hiddenFilter";t["required"]="required";t["path"]="path";t["tooltip"]="tooltip";t["visible"]="visible";t["maxConditions"]="maxConditions";t["formatOptions"]="formatOptions";t["constraints"]="constraints";t["group"]="group";t["groupLabel"]="groupLabel";t["caseSensitive"]="caseSensitive";return t}(M||{});const A=/[+*]/g;const _={getFilter:function(t){const e=_.getFilterInfo(t).filters;return e?.length?new b(e,false):undefined},getFilterField:function(t,e,n){return o.getFilterField(t,e,n)},buildProperyInfo:function(t,e){let n;const i={};const r=e.getConverterContextFor(t.annotationPath);const a=r.getDataModelObjectPath().targetObject;const s=o.fetchTypeConfig(a);n=o.fetchPropertyInfo(e,t,s);i[t.key]=s;n=o.assignDataTypeToPropertyInfo(n,e,[],i);return n},createConverterContext:function(t,o,s,l){const c=u.getCustomData(t,"entityType"),f=o||c;const d=t.isA?n.getTargetView(t):null;const p=s||t.getModel().getMetaModel();const g=l||d&&n.getAppComponent(d);const h=a.getInvolvedDataModelObjects(p.createBindingContext(f));let y;if(t.isA&&!t.isA("sap.ui.mdc.valuehelp.FilterBar")){y=d&&d.getViewData()||{}}return i.createConverterContextForMacro(h.startingEntitySet.name,p,g?.getDiagnostics(),e,h.contextLocation,new r(y??{}))},getConvertedFilterFields:function(t,e,n,i,r,a,o){const s=this._getFilterMetaModel(t,i);const l=u.getCustomData(t,"entityType");const c=u.getCustomData(t,"annotationPath"),f=e||l;const d=this._getFieldsForTable(t,e);const p=this.createConverterContext(t,e,i??s,r);return this._getSelectionFields(t,e,l,f,d,s,p,n,a,o,c)},getBindingPathForParameters:function(t,n,i,r){const a=[];i=_.setTypeConfigToProperties(i);for(const o of r){if(n[o]&&n[o].length>0){const r=e({},n[o][0]);const s=P.getPropertyByKey(i,o);const l=s.typeConfig||F.getTypeConfig(s.dataType,s.formatOptions,s.constraints);const c=y.toType(r,l,t.getTypeMap());const f=O[l.className];a.push(`${o}=${encodeURIComponent(T.formatLiteral(c.values[0],f))}`)}}const o=t.data("entityType");const s=o.substring(0,o.length-1);const l=s.slice(0,s.lastIndexOf("/"));const c=s.substring(s.lastIndexOf("/")+1);return`${l}(${a.toString()})/${c}`},getEditStateIsHideDraft:function(t){let e=false;if(t&&t.$editState){const n=t.$editState.find(function(t){return t.operator==="DRAFT_EDIT_STATE"});if(n&&(n.values.includes("ALL_HIDING_DRAFTS")||n.values.includes("SAVED_ONLY"))){e=true}}return e},getFilterInfo:function(t,e,n){let i=e&&e.ignoredProperties||[];const r=e&&e.targetControl,a=r?r.data("entityType"):undefined;const o={};let s=t,l,c=[],f,d=e&&e.propertiesMetadata;if(typeof t==="string"){s=g.getElementById(t)}if(s){l=this._getSearchField(s,i);const t=this._getFilterConditions(e,n,s);let r;if(s.isA("sap.ui.mdc.FilterBar")){r=this.getFilterPropertyInfo(s)}else{r=s.getPropertyInfoSet?s.getPropertyInfoSet():null}r=this._getFilterPropertiesMetadata(r,s);if(e&&e.targetControl&&e.targetControl.isA("sap.ui.mdc.Chart")){Object.keys(t).forEach(function(e){if(e==="$editState"){delete t["$editState"]}})}let u=s.data("parameters")||[];u=typeof u==="string"?JSON.parse(u):u;if(u&&u.length>0){f=_.getBindingPathForParameters(s,t,r,u);if(Object.keys(t).length){Object.keys(t).forEach(e=>{u.forEach(n=>{if(e===n){const i=t[e][0].values;o[n]=i[0]}})})}}if(t){if(a&&s.data("entityType")&&s.data("entityType")!==a){const t=s.getModel().getMetaModel();const e=s.getControlDelegate?.().fetchPropertiesForEntity(a,t,s);d=e;const n=this._getIgnoredProperties(r,e);if(n.length>0){i=i.concat(n)}}else if(!d&&r){d=r}c=this.getEditStateAndFilter({oIFilter:s,mConditions:t,aPropertiesMetadata:d,aIgnoreProperties:i,aParameters:u})}}return{parameters:o,filters:c,search:l||undefined,bindingPath:f}},getEditStateAndFilter:function(t){let{oIFilter:e,mConditions:i,aPropertiesMetadata:r,aIgnoreProperties:a,aParameters:o}=t;const s=P.getFilterInfo(e,i,_.setTypeConfigToProperties(r),a.concat(o)).filters;const l=r?.filter(t=>t.name==="$editState");let c;if(!a.includes("$editState")&&l&&l.length>0){if(i.hasOwnProperty("$editState")){const t=i["$editState"];c=v.getFilterForEditState(t?.[0]?.values?.[0])}else{c=v.getFilterForEditState("")}}else{const t=n.getTargetView(e);const i=n.getAppComponent(t);const r=i.getEnvironmentCapabilities()?.getCapabilities()?.HiddenDraft?.enabled;if(r&&e.hasOwnProperty("disableDraftEditStateFilter")&&e.getProperty("disableDraftEditStateFilter")){c=v.getFilterForEditState("ALL")}}let f=s?[s]:[];if(e.isA("sap.ui.mdc.FilterBar")){this._transformDateTimeOffsetFilters(f,i,e)}if(c){const t=this.hasEditStateFilterRecursively(f);if(t){f=this.exchangeEditStateFilterRecursively(c,f)}else{f=[new b({filters:[...f,c],and:true})]}}return f},_transformDateTimeOffsetFilters:function(t,e,n){if(!t||!Array.isArray(t)||!e){return}let i=t;const r=t[0];if(r?.aFilters&&r.aFilters.length>0){i=r.aFilters}const a=n.getPropertyHelper();if(!a){return}const o=new Set;Object.keys(e).forEach(function(t){if(e[t]&&e[t].length>0){const e=a.getProperty(t);const n=(e?.dataType?.includes("DateTimeOffset")??false)||(e?.typeConfig?.typeInstance?.getName().includes("DateTimeOffset")??false);const i=e?.constraints?.precision??e?.typeConfig?.typeInstance?.constraints?.precision;if(n&&i===7){o.add(t)}}});this._transformDateTimeOffSetFilterValueRecursively(i,o)},_transformDateTimeOffSetFilterValueRecursively:function(e,n){for(let i=0;i<e.length;i++){const r=e[i];const a=r;if(a.aFilters&&a.aFilters.length>0){this._transformDateTimeOffSetFilterValueRecursively(a.aFilters,n);continue}const o=r.getPath();const s=r.getOperator();const l=r.getValue1();if(s===undefined){t.warning("FilterUtils._transformDateTimeOffsetFilters: Filter operator is undefined, skipping filter transformation",`filterPath: ${o}, filterValue1: ${l}`);continue}if(s==="EQ"&&l!==undefined&&l!==null){if(o&&n.has(o)){const t=this._transformDateTimeOffSetFilterValue(r);if(t){e[i]=t}}}else if(s==="Any"){const a=r.getCondition();if(!a){continue}const s=a;if(s.aFilters&&s.aFilters.length>0){let a=false;for(let e=0;e<s.aFilters.length;e++){const i=s.aFilters[e];const r=i;if(r.aFilters&&r.aFilters.length>0){this._transformDateTimeOffSetFilterValueRecursively(r.aFilters,n);continue}const l=i.getPath();const c=i.getOperator();const f=i.getValue1();if(c===undefined){t.warning("FilterUtils._transformDateTimeOffsetFilters: Filter operator is undefined, skipping filter transformation",`filterPath: ${l}, filterValue1: ${f}`);continue}if(c==="EQ"&&f!==undefined&&f!==null){const t=Array.from(n).find(function(t){const e=t.split("/");if(e.length===2){const t=e[0].replace("*","");const n=e[1];return o===t&&Boolean(l?.endsWith(n))}return false});if(t){const t=this._transformDateTimeOffSetFilterValue(i);if(t){s.aFilters[e]=t;a=true}}}}if(a){e[i]=new b({path:o,operator:"Any",variable:r.getVariable(),condition:new b({filters:s.aFilters,and:s.bAnd??true})})}}else{const s=a.getPath();const l=a.getOperator();const c=a.getValue1();if(l===undefined){t.warning("FilterUtils._transformDateTimeOffsetFilters: Filter operator is undefined, skipping filter transformation",`filterPath: ${s}, filterValue1: ${c}`);continue}if(l==="EQ"&&c!==undefined&&c!==null){const t=Array.from(n).find(function(t){const e=t.split("/");if(e.length===2){const t=e[0].replace("*","");const n=e[1];return o===t&&Boolean(s?.endsWith(n))}return false});if(t){const t=this._transformDateTimeOffSetFilterValue(a);if(t){e[i]=new b({path:o,operator:"Any",variable:r.getVariable(),condition:t})}}}}}}},_transformDateTimeOffSetFilterValue:function(t){const e=t.getValue1()?.toString();if(!e){return null}const n=e.match(/^(\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2})(?:\.(\d{0,7}))?([+-]\d{2}:\d{2}|Z)$/);if(n){const e=n[1];const i=n[3];const r=`${e}.0000000${i}`;const a=`${e}.9990000${i}`;return new b({path:t.getPath(),operator:S.BT,value1:r,value2:a})}return null},hasEditStateFilterRecursively:function(t){return t.some(t=>{if(t.getPath()==="$editState"){return true}else if(t.getFilters()!==undefined){return this.hasEditStateFilterRecursively(t.getFilters())}else{return false}})},exchangeEditStateFilterRecursively:function(t,e){return e.map(e=>{if(e.getPath()==="$editState"){return t}else if(e.getFilters()!==undefined){e=new b({filters:this.exchangeEditStateFilterRecursively(t,e.getFilters()),and:e.isAnd()});return e}return e})},setTypeConfigToProperties:function(t){if(t&&t.length){t.forEach(function(t){if(t.typeConfig&&t.typeConfig.typeInstance&&t.typeConfig.typeInstance.getConstraints instanceof Function){return}if(t.path==="$editState"){t.typeConfig=F.getTypeConfig("sap.ui.model.odata.type.String",{},{})}else if(t.path==="$search"){t.typeConfig=F.getTypeConfig("sap.ui.model.odata.type.String",{},{})}else if(t.dataType||t.typeConfig&&t.typeConfig.className){t.typeConfig=F.getTypeConfig(t.dataType||t.typeConfig?.className,t.formatOptions,t.constraints)}})}return t},getNotApplicableFilters:function(t,e){const n=e.data("entityType"),i=t.data("entityType"),r=t.getModel().getMetaModel(),a=r.getObject(i),o=[],s=t.getConditions(),l=n===i,c=e.isA("sap.ui.mdc.Chart"),f=!c&&e.getParent().getTableDefinition().enableAnalytics,p=!c&&e.getParent().getTableDefinition().control.type==="TreeTable",g=c?d.parseCustomData(u.getCustomData(e,"applySupported")).enableSearch:!(f||p)||e.getParent().getTableDefinition().enableBasicSearch;if(s&&(!l||f||c||p)){const i=l?[]:t.getControlDelegate().fetchPropertiesForEntity(n,r,t),d=i.reduce(function(t,e){t[e.name]=e;return t},{}),u={};const g=e.getModel().getMetaModel().getObject(e.data("targetCollectionPath")+"/");if(e.isA("sap.ui.mdc.Chart")){const t=e.getModel().getMetaModel().getObject(`${e.data("targetCollectionPath")}@`),n=E(t);Object.keys(n).forEach(function(t){if(!u[t]){const e=n[t];u[t]=e}})}for(const t in s){const e=s[t];let n=true;if(g[t]&&a[t]){n=g[t]["$Type"]===a[t]["$Type"]}if(Array.isArray(e)&&e.length>0&&((!d[t]||d[t].isCustomFilter&&d[t].annotationPath==undefined||d[t]&&!n)&&(!l||t==="$editState"&&(c||p||f))||u[t])){o.push(t.replace(/[+|*]/g,""))}}}if(!g&&t.getSearch()){o.push("$search")}return o},async _getValueListInfo(t,e){const n=t.getModel()?.getMetaModel();if(!n){return undefined}const i=t.data("entityType")??"";const r=await n.requestValueListInfo(i+e,true).catch(()=>null);return r?.[""]},getFilterPropertyInfo(t){let e=t.data("feFilterInfo");if(typeof e==="string"){e=JSON.parse(e)}return e||[]},_getConditionValidated:async function(e,n,i){if(!e){return m.NotValidated}try{const t=e.Parameters.filter(t=>["com.sap.vocabularies.Common.v1.ValueListParameterInOut".valueOf(),"com.sap.vocabularies.Common.v1.ValueListParameterOut".valueOf()].includes(t.$Type)).filter(t=>t.LocalDataProperty?.$PropertyPath===n).map(t=>t.ValueListProperty);const r=t[0]??n;const a=new b({path:r,operator:S.EQ,value1:i});const o=e.$model.bindList(`/${e.CollectionPath}`,undefined,undefined,a,{$select:r});const s=(await o.requestContexts()).length>0;if(s){return m.Validated}else{return m.NotValidated}}catch(e){t.error("FilterUtils: Error while retrieving ConditionValidated",e);return m.NotValidated}},async _clearFilterValue(t,e){const n=await C.retrieveExternalState(t);if(n.filter[e]){n.filter[e].forEach(t=>{t.filtered=false});await C.applyExternalState(t,{filter:{[e]:n.filter[e]}})}},setFilterValues:async function(t,e){for(var n=arguments.length,i=new Array(n>2?n-2:0),r=2;r<n;r++){i[r-2]=arguments[r]}await this._setFilterValues(t,false,e,...i)},addFilterValues:async function(t,e){for(var n=arguments.length,i=new Array(n>2?n-2:0),r=2;r<n;r++){i[r-2]=arguments[r]}await this._setFilterValues(t,true,e,...i)},getPropertyPathFromConditionPath(t){return t.replace(A,"")},getFilterBarForAdaptationControl(t){while(t&&!t.isA("sap.ui.mdc.FilterBar")){t=t.getParent()}return t},getDataModelObjectPathForProperty(t,e){const n=u.getCustomData(t,"entityType");const i=t.getModel()?.getMetaModel();return a.getInvolvedDataModelObjects(i.createBindingContext(`${n}${e}`),i.createBindingContext(`${n}`))},_setFilterValues:async function(e,n,i){for(var r=arguments.length,a=new Array(r>3?r-3:0),o=3;o<r;o++){a[o-3]=arguments[o]}let s=a?.[0];let l=a?.[1];if(!e){return}if(a.length===2&&(l===undefined||l===null||l==="")&&s&&Object.keys(S).includes(s)){t.warning(`An empty filter value cannot be applied with the ${s} operator`);return}if(l===undefined&&!p.getSemanticDateOperations().includes(s||"")){l=s??[];s=undefined}if(!s){s=S.EQ}const c=["string","number","boolean"];if(l!==undefined&&(!Array.isArray(l)&&!c.includes(typeof l)||Array.isArray(l)&&l.length>0&&!c.includes(typeof l[0]))){throw new Error("FilterUtils.js#_setFilterValues: Filter value not supported; only primitive values or an array thereof can be used.")}let f;if(l!==undefined){f=Array.isArray(l)?l:[l]}const d={};if(i){const t=_.getPropertyPathFromConditionPath(i);const n=_.getFilterBarForAdaptationControl(e)??e;const r=_.getDataModelObjectPathForProperty(n,t);const a=r?.targetObject?.name??t;i=(r?D(r,false,true):undefined)??i;const o=await this._getValueListInfo(n,t);if(f&&f.length){if(s===S.BT){d[i]=[h.createCondition(s,f,null,null,m.NotValidated)]}else{d[i]=await Promise.all(f.map(async t=>{const e=s===S.EQ?await this._getConditionValidated(o,a,t):m.NotValidated;return h.createCondition(s,[t],null,null,e)}))}}else if(p.getSemanticDateOperations().includes(s||"")){d[i]=[h.createCondition(s,[],null,null,m.NotValidated)]}}if(!n){await this._clearFilterValue(e,i)}if(d[i]){await C.applyExternalState(e,{filter:d})}},conditionToModelPath:function(t){return t.replace(/\//g,"\\")},_getFilterMetaModel:function(t,e){return e||t.getModel().getMetaModel()},_getEntitySetPath:function(t){return t&&l.getEntitySetPath(t)},_getFieldsForTable:function(t,e){const i=[];if(e){const e=n.getTargetView(t);const r=e&&e.getController()&&e.getController()._getControls&&e.getController()._getControls("table");if(r){r.forEach(function(t){i.push(t.getParent().getTableDefinition())})}return i}return[]},_getSelectionFields:function(t,e,n,i,r,s,l,c,f,d,u){const p=o.getSelectionFields(l,r,u,c,d);let g=p.selectionFields;const h=t.data?this.getFilterPropertyInfo(t):JSON.parse(p.sPropertyInfo.replace(/\\\{/g,"{").replace(/\\\}/g,"}"));if((f?f.getControlType(t)==="sap.ui.mdc.FilterBar":t.isA("sap.ui.mdc.FilterBar"))&&e!==n){const t=a.getInvolvedDataModelObjects(s.createBindingContext(i));const e=l.getConverterContextFor(n);const r=e.getEntityTypeAnnotation("@com.sap.vocabularies.UI.v1.SelectionFields").annotation||[];const c={};g.forEach(function(t){c[t.conditionPath]=true});r.forEach(function(e){const n=e.value;if(!c[n]){const e=o.getFilterField(n,l,t.startingEntitySet.entityType);if(e){g.push(e)}}})}if(g){const t=[];g.forEach(function(e){t.push(e.key)});g=this._getSelectionFieldsFromPropertyInfos(t,g,h)}return g},_getSelectionFieldsFromPropertyInfos:function(t,e,n){n.forEach(function(n){if(n.name==="$search"||n.name==="$editState"||n.key===undefined){return}const i=e[t.indexOf(n.key)];if(t.includes(n.key)&&i.annotationPath){n.group=i.group;n.groupLabel=i.groupLabel;n.settings=i.settings;n.visualFilter=i.visualFilter;n.label=n.label?n.label:i.label;n.annotationPath=n.annotationPath??i.annotationPath;e[t.indexOf(n.key)]=n}if(!t.includes(n.key)&&!n.annotationPath){e.push(n)}});return e},_getSearchField:function(t,e){return t.getSearch&&!e.includes("search")?t.getSearch():null},_getFilterConditions:function(t,e,n){const i=e||n.getConditions();if(t&&t.targetControl&&t.targetControl.isA("sap.ui.mdc.Chart")){Object.keys(i).forEach(function(t){if(t==="$editState"){delete i["$editState"]}})}return i},_getFilterPropertiesMetadata:function(t,e){if(!(t&&t.length)){if(e.getPropertyInfo){t=e.getPropertyInfo()}else{t=null}}return t},_getIgnoredProperties:function(t,e){const n=[];t.forEach(function(t){const i=t.name;const r=e.find(t=>t.name===i);if(r&&(!t.isCustomFilter&&t.dataType!==r.dataType||t.isCustomFilter&&r.annotationPath===undefined)){n.push(i)}});return n},getFilters:function(t){if(!t||typeof t.isInitialized!=="function"||!t.isInitialized()){return}const{parameters:e,filters:n,search:i}=this.getFilterInfo(t);return{parameters:e,filters:n,search:i}},formatPropertyInfo:function(t){if(typeof t==="string"){let e=t.replace(/\\\{/g,"{");e=e.replace(/\\\}/g,"}");let n=JSON.parse(e);n=this._formatPropertyInfo(n);let i=JSON.stringify(n);i=i.replace(/\{/g,"\\{");i=i.replace(/\}/g,"\\}");return i}else{return this._formatPropertyInfo(t)}},_formatPropertyInfo:function(t){return t.map(t=>{const e={key:t.key||t.name,dataType:"",label:""};for(const n in M){if(t.hasOwnProperty(n)){switch(n){case"hiddenFilter":e.hiddenFilter=t.hiddenFilter;break;case"required":e.required=t.required;break;case"path":e.path=t.path;break;case"tooltip":e.tooltip=t.tooltip;break;case"visible":e.visible=t.visible;break;case"maxConditions":e.maxConditions=t.maxConditions;break;case"formatOptions":e.formatOptions=t.formatOptions;break;case"constraints":e.constraints=t.constraints;break;case"group":e.group=t.group;break;case"groupLabel":e.groupLabel=t.groupLabel;break;case"caseSensitive":e.caseSensitive=t.caseSensitive}}}if(t.dataType){e.dataType=t.dataType}else{throw new Error(`Missing mandatory property dataType for filter-bar filter field: ${t}`)}if(t.label){e.label=t.label}return e})}};return _},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/filter/type/MultiValue", ["sap/fe/base/ClassSupport","sap/fe/macros/filter/type/Value"],function(t,e){"use strict";var r,o;var a={};var n=t.defineUI5Class;function i(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,p(t,e)}function p(t,e){return p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},p(t,e)}let u=(r=n("sap.fe.macros.filter.type.MultiValue"),r(o=function(t){function e(){return t.apply(this,arguments)||this}a=e;i(e,t);var r=e.prototype;r.getOperatorConfig=function t(e){return{name:e,multiValue:true}};r.formatValue=function e(r,o){let a=r;if(typeof a==="string"){a=a.split(",")}if(Array.isArray(a)){a=a.map(e=>t.prototype.formatValue.call(this,e,this.getElementTypeName(o))).filter(t=>t!==undefined)}return a||[]};r.parseValue=function e(r,o){if(!r){r=[]}const a=t.prototype.externalToString.call(this,r,o);if(t.prototype.hasCustomOperator.call(this)){return{operator:this.operator.name,values:[a],validated:undefined}}return r.map(t=>{if(t===undefined){t=[]}else if(!Array.isArray(t)){t=[t]}return this.operator.format({values:t})})};return e}(e))||o);a=u;return a},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/filter/type/Range", ["sap/fe/base/ClassSupport","sap/fe/macros/filter/type/Value"],function(t,e){"use strict";var r,o;var n={};var a=t.defineUI5Class;function u(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,i(t,e)}function i(t,e){return i=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},i(t,e)}let p=(r=a("sap.fe.macros.filter.type.Range"),r(o=function(t){function e(){return t.apply(this,arguments)||this}n=e;u(e,t);var r=e.prototype;r.getDefaultOperatorName=function t(){return"BT"};r.formatConditionValues=function t(e){return e};r.formatValue=function e(r,o){let n=t.prototype.formatValue.call(this,r,o);if(!n){const t=this.oFormatOptions.min||Number.MIN_SAFE_INTEGER,e=this.oFormatOptions.max||Number.MAX_SAFE_INTEGER;n=[t,e]}return n};return e}(e))||o);n=p;return n},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/filter/type/Value", ["sap/base/Log","sap/fe/base/ClassSupport","sap/fe/macros/filter/FilterOperatorUtils","sap/ui/mdc/condition/FilterOperatorUtil","sap/ui/mdc/enums/FieldDisplay","sap/ui/model/SimpleType","sap/ui/model/type/Boolean","sap/ui/model/type/Date","sap/ui/model/type/Float","sap/ui/model/type/Integer","sap/ui/model/type/String"],function(e,t,r,n,a,o,i,s,u,p,l){"use strict";var c,f,m;var y={};var d=t.defineUI5Class;function T(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,_(e,t)}function _(e,t){return _=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},_(e,t)}let g=(c=d("sap.fe.macros.filter.type.Value"),c(f=(m=function(t){function o(e,r){var a;a=t.call(this,e,r)||this;const o=e?.operator||a.getDefaultOperatorName();const i=n.getOperator(o);a.operator=i;if(a.operator===undefined&&o.includes(".")){const e=a.getOperatorConfig(o);a.registerCustomOperator(e)}return a}y=o;T(o,t);var c=o.prototype;c.getOperatorConfig=function e(t){return{name:t}};c.registerCustomOperator=function t(n){r.registerCustomOperators([n]).then(t=>{if(t[0]){this.operator=t[0]}else{e.error(`Failed to register operator: ${n.name}`)}return}).catch(t=>{e.error(`Failed to register operator: ${n.name}`,t)})};c._isMultiValueOperator=function e(t){return t.valueTypes.filter(function(e){return!!e&&e!==o.OPERATOR_VALUE_TYPE_STATIC}).length>1};c.hasCustomOperator=function e(){return this.operator.name.includes(".")};c._stringToExternal=function e(t,r){let n;const a=this._getTypeInstance(r);if(r&&o._isArrayType(r)){if(!Array.isArray(t)){t=[t]}n=t.map(e=>a?a.parseValue(e,o.INTERNAL_VALUE_TYPE):e)}else{n=a?a.parseValue(t,o.INTERNAL_VALUE_TYPE):t}return n};o._isArrayType=function e(t){if(!t){return false}return t==="array"||t.endsWith("[]")};c.externalToString=function e(t,r){let n;const a=this._getTypeInstance(r);if(r&&o._isArrayType(r)){if(!Array.isArray(t)){t=[t]}n=t.map(e=>a?a.formatValue(e,o.INTERNAL_VALUE_TYPE):e)}else{n=a?a.formatValue(t,o.INTERNAL_VALUE_TYPE):t}return n};c._getTypeInstance=function t(r){r=this.getElementTypeName(r)||r;switch(r){case"string":return new l;case"number":case"int":case"integer":return new p;case"float":return new u;case"date":return new s;case"boolean":return new i;default:e.error("Unexpected filter type");throw new Error("Unexpected filter type")}};c.getDefaultOperatorName=function e(){return n.getEQOperator().name};c.getElementTypeName=function e(t){if(t?.endsWith("[]")){return t.substring(0,t.length-2)}return undefined};c.formatValue=function e(t,r){if(!t){return undefined}const n=this._isMultiValueOperator(this.operator),i=this._getTypeInstance(o.INTERNAL_VALUE_TYPE);const s=this.operator.parse(t||"",i,a.Value,false);const u=!n&&Array.isArray(s)?s[0]:s;return this._stringToExternal(u,r)};c.parseValue=function e(t,r){if(!t){return undefined}const n=this._isMultiValueOperator(this.operator),a=this._getTypeInstance(r);const o=this.externalToString(t,r);const i=n?o:[o];if(this.hasCustomOperator()){return{operator:this.operator.name,values:[this.operator.format({values:i},a)],validated:undefined}}return this.operator.format({values:i},a)};c.validateValue=function e(t){};return o}(o),m.INTERNAL_VALUE_TYPE="string",m.OPERATOR_VALUE_TYPE_STATIC="static",m))||f);y=g;return y},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/filterBar/DefaultSemanticDateOperators", ["sap/ui/core/date/UniversalDateUtils","sap/ui/mdc/condition/FilterOperatorUtil","sap/ui/mdc/condition/Operator","sap/ui/model/Filter","sap/ui/model/FilterOperator","sap/ui/model/ValidateException"],function(e,t,a,o,r,T){"use strict";var s={};const n="DYNAMIC.DATE";s.DYNAMIC_DATE_CATEGORY=n;const E="FIXED.DATE";const A="DYNAMIC.DATE.INT";const y="DYNAMIC.DATERANGE";const c="DYNAMIC.MONTH";const l="FIXED.WEEK";const i="FIXED.MONTH";const R="FIXED.QUARTER";const u="FIXED.YEAR";const g="DYNAMIC.WEEK.INT";const D="DYNAMIC.MONTH.INT";const O="DYNAMIC.QUARTER.INT";const S="DYNAMIC.YEAR.INT";const p="DYNAMIC.MINUTE.INT";const f="DYNAMIC.HOUR.INT";const M={EQ:{key:"EQ",category:n},BT:{key:"BT",category:y}};const d={YESTERDAY:{key:"YESTERDAY",category:E,fnRanges:e.ranges.yesterday},TODAY:{key:"TODAY",category:E,fnRanges:e.ranges.today},TOMORROW:{key:"TOMORROW",category:E,fnRanges:e.ranges.tomorrow}};const N={FIRSTDAYWEEK:{key:"FIRSTDAYWEEK",category:E,fnRanges:e.ranges.firstDayOfWeek},LASTDAYWEEK:{key:"LASTDAYWEEK",category:E,fnRanges:e.ranges.lastDayOfWeek},FIRSTDAYMONTH:{key:"FIRSTDAYMONTH",category:E,fnRanges:e.ranges.firstDayOfMonth},LASTDAYMONTH:{key:"LASTDAYMONTH",category:E,fnRanges:e.ranges.lastDayOfMonth},FIRSTDAYQUARTER:{key:"FIRSTDAYQUARTER",category:E,fnRanges:e.ranges.firstDayOfQuarter},LASTDAYQUARTER:{key:"LASTDAYQUARTER",category:E,fnRanges:e.ranges.lastDayOfQuarter},FIRSTDAYYEAR:{key:"FIRSTDAYYEAR",category:E,fnRanges:e.ranges.firstDayOfYear},LASTDAYYEAR:{key:"LASTDAYYEAR",category:E,fnRanges:e.ranges.lastDayOfYear}};const Y={...d,DATE:{key:"DATE",category:n},FROM:{key:"FROM",category:n},TO:{key:"TO",category:n},DATERANGE:{key:"DATERANGE",category:y},SPECIFICMONTH:{key:"SPECIFICMONTH",category:c},TODAYFROMTO:{key:"TODAYFROMTO",category:A},LASTDAYS:{key:"LASTDAYS",category:A},NEXTDAYS:{key:"NEXTDAYS",category:A},THISWEEK:{key:"THISWEEK",category:l},LASTWEEK:{key:"LASTWEEK",category:l},LASTWEEKS:{key:"LASTWEEKS",category:g},NEXTWEEK:{key:"NEXTWEEK",category:l},NEXTWEEKS:{key:"NEXTWEEKS",category:g},THISMONTH:{key:"THISMONTH",category:i},LASTMONTH:{key:"LASTMONTH",category:i},LASTMONTHS:{key:"LASTMONTHS",category:D},NEXTMONTH:{key:"NEXTMONTH",category:i},NEXTMONTHS:{key:"NEXTMONTHS",category:D},THISQUARTER:{key:"THISQUARTER",category:R},LASTQUARTER:{key:"LASTQUARTER",category:R},LASTQUARTERS:{key:"LASTQUARTERS",category:O},NEXTQUARTER:{key:"NEXTQUARTER",category:R},NEXTQUARTERS:{key:"NEXTQUARTERS",category:O},QUARTER1:{key:"QUARTER1",category:R},QUARTER2:{key:"QUARTER2",category:R},QUARTER3:{key:"QUARTER3",category:R},QUARTER4:{key:"QUARTER4",category:R},THISYEAR:{key:"THISYEAR",category:u},LASTYEAR:{key:"LASTYEAR",category:u},LASTYEARS:{key:"LASTYEARS",category:S},NEXTYEAR:{key:"NEXTYEAR",category:u},NEXTYEARS:{key:"NEXTYEARS",category:S},LASTMINUTES:{key:"LASTMINUTES",category:p},NEXTMINUTES:{key:"NEXTMINUTES",category:p},LASTHOURS:{key:"LASTHOURS",category:f},NEXTHOURS:{key:"NEXTHOURS",category:f},YEARTODATE:{key:"YEARTODATE",category:u},DATETOYEAR:{key:"DATETOYEAR",category:u}};function k(){return new a({name:"DATERANGE",filterOperator:r.BT,alias:{Date:"DATERANGE",DateTime:"DATERANGE"},valueTypes:[{name:"sap.ui.model.odata.type.Date"},{name:"sap.ui.model.odata.type.Date"}],getModelFilter:function(e,t,a){return h(e,t,a,this)},validate:function(e,t){if(e.length<2){throw new T("Date Range must have two values")}else{const t=new Date(e[0]);const a=new Date(e[1]);if(t.getTime()>a.getTime()){throw new T("From Date Should Be Less Than To Date")}}a.prototype.validate?.apply(this,[e,t])}})}function I(){return new a({name:"DATE",alias:{Date:"DATE",DateTime:"DATE"},filterOperator:r.EQ,valueTypes:[{name:"sap.ui.model.odata.type.Date"}],getModelFilter:function(e,t,a){return H(e,t,a,this)}})}function m(){return new a({name:"FROM",alias:{Date:"FROM",DateTime:"FROM"},filterOperator:r.GE,valueTypes:[{name:"sap.ui.model.odata.type.Date"}],getModelFilter:function(e,t,a){return X(e,t,a,this)}})}function F(){return new a({name:"TO",alias:{Date:"TO",DateTime:"TO"},filterOperator:r.LE,valueTypes:[{name:"sap.ui.model.odata.type.Date"}],getModelFilter:function(e,t,a){return Q(e,t,a,this)}})}function L(e){return e==="Edm.DateTimeOffset"?Object.assign({},Y,M):Y}s.getOperatorsInfo=L;function U(){t.addOperator(k());t.addOperator(I());t.addOperator(m());t.addOperator(F())}s.addSemanticDateOperators=U;function v(e){const t=L(e);return Object.keys(t)}s.getSemanticDateOperations=v;function H(e,t,a,T){if(a.isA("sap.ui.model.odata.type.DateTimeOffset")){const s=T._createLocalType(T.valueTypes[0]);let n=e.values[0];const E=s.getModelFormat();const A=E.parse(n,false);n=a.getModelValue(A);A.setHours(23);A.setMinutes(59);A.setSeconds(59);A.setMilliseconds(999);const y=a.getModelValue(A);return new o({path:t,operator:r.BT,value1:n,value2:y})}else{return new o({path:t,operator:T.filterOperator,value1:e.values[0]})}}s.getModelFilterForDate=H;function Q(e,t,a,T){if(a.isA("sap.ui.model.odata.type.DateTimeOffset")){const s=T._createLocalType(T.valueTypes[0]);const n=e.values[0];const E=s.getModelFormat();const A=E.parse(n,false);A.setHours(23);A.setMinutes(59);A.setSeconds(59);A.setMilliseconds(999);const y=a.getModelValue(A);return new o({path:t,operator:r.LE,value1:y})}else{return new o({path:t,operator:T.filterOperator,value1:e.values[0]})}}s.getModelFilterForTo=Q;function X(e,t,a,T){if(a.isA("sap.ui.model.odata.type.DateTimeOffset")){const s=T._createLocalType(T.valueTypes[0]);const n=e.values[0];const E=s.getModelFormat();const A=E.parse(n,false);A.setHours(0);A.setMinutes(0);A.setSeconds(0);A.setMilliseconds(0);const y=a.getModelValue(A);return new o({path:t,operator:r.GE,value1:y})}else{return new o({path:t,operator:T.filterOperator,value1:e.values[0]})}}s.getModelFilterForFrom=X;function h(e,t,a,T){if(a.isA("sap.ui.model.odata.type.DateTimeOffset")){let s=T._createLocalType(T.valueTypes[0]);let n=e.values[0];let E=s.getModelFormat();let A=E.parse(n,false);n=a.getModelValue(A);s=T._createLocalType(T.valueTypes[1]);E=s.getModelFormat();let y=e.values[1];A=E.parse(y,false);A.setHours(23);A.setMinutes(59);A.setSeconds(59);A.setMilliseconds(999);y=a.getModelValue(A);return new o({path:t,operator:r.BT,value1:n,value2:y})}else{return new o({path:t,operator:T.filterOperator,value1:e.values[0],value2:e.values[1]})}}s.getModelFilterForDateRange=h;function w(){const e=W();const t=Y.DATE.key;return[...Object.keys(e),t]}s.getSingleValueDateOperations=w;function W(){return{...d,...N}}s.getFixedDateSingleValueOperations=W;return s},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/filterBar/DraftEditState", ["sap/ui/core/Lib","sap/ui/model/Filter","sap/ui/model/FilterOperator","sap/ui/model/json/JSONModel"],function(t,e,r,i){"use strict";const a=t.getResourceBundleFor("sap.fe.core");const n={ALL:{id:"",display:a.getText("C_DRAFT_EDIT_STATE_DRAFT_ALL_FILTER")},UNCHANGED:{id:"UNCHANGED",display:a.getText("C_DRAFT_EDIT_STATE_DRAFT_UNCHANGED_FILTER")},OWN_DRAFT:{id:"OWN_DRAFT",display:a.getText("C_DRAFT_EDIT_STATE_DRAFT_OWN_DRAFT_FILTER")},LOCKED:{id:"LOCKED",display:a.getText("C_DRAFT_EDIT_STATE_DRAFT_LOCKED_FILTER")},UNSAVED_CHANGES:{id:"UNSAVED_CHANGES",display:a.getText("C_DRAFT_EDIT_STATE_DRAFT_UNSAVED_CHANGES_FILTER")},ALL_HIDING_DRAFTS:{id:"ALL_HIDING_DRAFTS",display:a.getText("C_DRAFT_EDIT_STATE_DRAFT_ALL_HIDING_DRAFTS_FILTER")},SAVED_ONLY:{id:"SAVED_ONLY",display:a.getText("C_DRAFT_EDIT_STATE_DRAFT_SAVED_ONLY_FILTER")},MY_DRAFTS:{id:"MY_DRAFTS",display:a.getText("C_DRAFT_EDIT_STATE_DRAFT_MY_DRAFTS_FILTER")},getEditStates:function(t){if(t){return[this.ALL,this.MY_DRAFTS,this.SAVED_ONLY]}else{return[this.ALL,this.ALL_HIDING_DRAFTS,this.UNCHANGED,this.OWN_DRAFT,this.LOCKED,this.UNSAVED_CHANGES]}},getEditStatesContext:function(t){let e;if(t.getProperty("isDraftCollaborative")){e=[n.ALL,n.MY_DRAFTS,n.SAVED_ONLY]}else{e=[n.ALL,n.ALL_HIDING_DRAFTS,n.UNCHANGED,n.OWN_DRAFT,n.LOCKED,n.UNSAVED_CHANGES]}return new i(e).bindContext("/").getBoundContext()},getCurrentUserID:function(){const t=sap.ui.require("sap/ushell/Container");return t?.getUser()?.getId()??window.adt?.userID},getFilterForEditState:function(t){switch(t){case n.UNCHANGED.id:return new e({filters:[new e({path:"IsActiveEntity",operator:r.EQ,value1:true}),new e({path:"HasDraftEntity",operator:r.EQ,value1:false})],and:true});case n.OWN_DRAFT.id:return new e({path:"IsActiveEntity",operator:r.EQ,value1:false});case n.LOCKED.id:return new e({filters:[new e({path:"IsActiveEntity",operator:r.EQ,value1:true}),new e({path:"SiblingEntity/IsActiveEntity",operator:r.EQ,value1:null}),new e({path:"DraftAdministrativeData/InProcessByUser",operator:r.NE,value1:""}),new e({path:"DraftAdministrativeData/InProcessByUser",operator:r.NE,value1:null})],and:true});case n.UNSAVED_CHANGES.id:return new e({filters:[new e({path:"IsActiveEntity",operator:r.EQ,value1:true}),new e({path:"SiblingEntity/IsActiveEntity",operator:r.EQ,value1:null}),new e({path:"DraftAdministrativeData/InProcessByUser",operator:r.EQ,value1:""})],and:true});case n.ALL_HIDING_DRAFTS.id:case n.SAVED_ONLY.id:return new e({path:"IsActiveEntity",operator:r.EQ,value1:true});case n.MY_DRAFTS.id:const t=this.getCurrentUserID();return t?new e({filters:[new e({path:"IsActiveEntity",operator:r.EQ,value1:false}),new e({path:"DraftAdministrativeData/DraftAdministrativeUser",operator:r.Any,variable:"user",condition:new e({path:"user/UserID",operator:r.EQ,value1:this.getCurrentUserID()})})],and:true}):new e({path:"IsActiveEntity",operator:r.EQ,value1:false});default:return new e({filters:[new e({path:"IsActiveEntity",operator:r.EQ,value1:false}),new e({path:"SiblingEntity/IsActiveEntity",operator:r.EQ,value1:null})],and:false})}}};return n},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/filterBar/ExtendedSemanticDateOperators", ["sap/fe/macros/filterBar/DefaultSemanticDateOperators","sap/ui/core/Lib","sap/ui/mdc/condition/FilterOperatorUtil","sap/ui/mdc/condition/RangeOperator","sap/ui/mdc/enums/OperatorValueType","sap/ui/model/FilterOperator"],function(e,t,r,n,o,a){"use strict";var i=e.getFixedDateSingleValueOperations;var s=e.DYNAMIC_DATE_CATEGORY;const c=i();const u=Object.keys(c);const p="FROM";const O="TO";const d=u.reduce((e,t)=>{e[`${p}${t}`]={key:`${p}${t}`,category:s,primitiveOperator:t};return e},{});const l=u.reduce((e,t)=>{e[`${O}${t}`]={key:`${O}${t}`,category:s,primitiveOperator:t};return e},{});const g={...d,...l};const E=Object.keys(g);function T(e){return Object.keys(d).includes(e)}function f(e){return Object.keys(l).includes(e)}function m(e,t){const{primitiveOperator:r}=g[e];const n=R.getFilterOperator(e);const a=`M_EXTENDED_OPERATOR_${e}_TOKEN_TEXT`;return R.createRangeOperator({name:e,longText:t.getText(a,[]),tokenText:`${t.getText(a,[])} ({0})`,valueTypes:[o.Static],filterOperator:n,group:{id:3,text:t.getText(`M_EXTENDED_OPERATOR_GRP_TEXT`,[])},calcRange:function(){const[t,n]=c[r].fnRanges();return[T(e)?t:n]}})}const R={createRangeOperator(e){return new n({...e})},getOperatorsInfo(){return g},getSemanticDateOperations(){return[...E]},getCorrespondingSingleDateOperator(e){const{primitiveOperator:t}=g[e];return t},isExtendedOperator(e){return E.includes(e)},getFilterOperator(e){let t=a.EQ;if(T(e)){t=a.GE}else if(f(e)){t=a.LE}return t},addExtendedFilterOperators(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:E;const n=t.getResourceBundleFor("sap.fe.macros");const o=e.reduce((e,t)=>{if(!r.getOperator(t)&&R.isExtendedOperator(t)){const r=m(t,n);e.push(r)}return e},[]);r.addOperators(o)}};return R},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/filterBar/FilterBar.block", ["sap/base/Log","sap/fe/base/jsx-runtime/jsx","sap/fe/core/CommonUtils","sap/fe/core/TemplateModel","sap/fe/core/buildingBlocks/templating/BuildingBlockSupport","sap/fe/core/buildingBlocks/templating/BuildingBlockTemplateProcessor","sap/fe/core/buildingBlocks/templating/BuildingBlockTemplatingBase","sap/fe/core/converters/MetaModelConverter","sap/fe/core/converters/controls/Common/DataVisualization","sap/fe/core/converters/controls/ListReport/FilterBar","sap/fe/core/helpers/MetaModelFunction","sap/fe/core/helpers/ModelHelper","sap/fe/core/helpers/StableIdHelper","sap/fe/macros/CommonHelper","sap/fe/macros/field/FieldHelper","sap/fe/macros/filter/FilterFieldHelper","sap/fe/macros/filter/FilterUtils","sap/fe/macros/filterBar/DraftEditState","sap/fe/macros/filterBar/FilterHelper","sap/fe/macros/fpm/CustomFragment.block","sap/fe/macros/internal/FilterField.block","sap/m/Select","sap/ui/core/CustomData","sap/ui/core/ListItem","sap/ui/core/fieldhelp/FieldHelpCustomData","sap/ui/mdc/FilterField","sap/ui/mdc/p13n/PersistenceProvider","../ValueHelp","../controls/CustomFilterFieldContentWrapper","../controls/FilterBar","../table/SlotColumn","./FilterBarAPI","sap/fe/base/jsx-runtime/jsx"],function(e,t,i,r,a,n,l,o,s,u,c,p,d,f,h,b,g,m,y,F,P,v,C,S,B,D,w,I,_,x,z,A,E){"use strict";var T,k,M,R,H,O,$,j,V,L,N,q,U,K,W,J,G,X,Q,Y,Z,ee,te,ie,re,ae,ne,le,oe,se,ue,ce,pe,de,fe,he,be,ge,me,ye,Fe,Pe,ve,Ce,Se,Be,De,we,Ie,_e,xe,ze,Ae,Ee,Te,ke,Me,Re,He,Oe,$e,je,Ve,Le,Ne;var qe={};var Ue=y.getFilterConditions;var Ke=b.maxConditions;var We=d.generate;var Je=c.getSearchRestrictions;var Ge=u.getSelectionFields;var Xe=s.getSelectionVariant;var Qe=o.getInvolvedDataModelObjects;var Ye=n.storeObjectValue;var Ze=a.defineBuildingBlock;var et=a.blockEvent;var tt=a.blockAttribute;var it=a.blockAggregation;function rt(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function at(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function nt(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,lt(e,t)}function lt(e,t){return lt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},lt(e,t)}function ot(e,t,i,r,a){var n={};return Object.keys(r).forEach(function(e){n[e]=r[e]}),n.enumerable=!!n.enumerable,n.configurable=!!n.configurable,("value"in n||n.initializer)&&(n.writable=!0),n=i.slice().reverse().reduce(function(i,r){return r(e,t,i)||i},n),a&&void 0!==n.initializer&&(n.value=n.initializer?n.initializer.call(a):void 0,n.initializer=void 0),void 0===n.initializer?(Object.defineProperty(e,t,n),null):n}function st(e,t){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}const ut=function(e,t){t.slotName=t.key;t.key=t.key.replace("InlineXML_","");t.property=e.getAttribute("property");t.label=e.getAttribute("label");t.required=e.getAttribute("required")==="true";t.template=e.getAttribute("template");return t};let ct=(T=Ze({name:"FilterBar",namespace:"sap.fe.macros.internal",publicNamespace:"sap.fe.macros",returnTypes:["sap.fe.macros.filterBar.FilterBarAPI"]}),k=tt({type:"string",isPublic:true}),M=tt({type:"boolean",isPublic:true}),R=tt({type:"sap.ui.model.Context"}),H=tt({type:"string"}),O=tt({type:"sap.ui.model.Context",isPublic:true}),$=tt({type:"sap.ui.model.Context",isPublic:true}),j=tt({type:"boolean",isPublic:true}),V=tt({type:"string"}),L=tt({type:"boolean"}),N=tt({type:"boolean"}),q=tt({type:"boolean"}),U=tt({type:"string[]"}),K=tt({type:"string"}),W=tt({type:"boolean"}),J=tt({type:"string[]"}),G=tt({type:"boolean",isPublic:true}),X=tt({type:"string",required:false}),Q=tt({type:"boolean"}),Y=tt({type:"boolean"}),Z=tt({type:"string"}),ee=tt({type:"string"}),te=tt({type:"boolean",isPublic:true}),ie=tt({type:"boolean"}),re=tt({type:"boolean"}),ae=et(),ne=et(),le=et(),oe=et(),se=et(),ue=it({type:"sap.fe.macros.filterBar.FilterField",isPublic:true,hasVirtualNode:true,processAggregations:ut}),ce=tt({type:"boolean",isPublic:true}),T(pe=(de=function(a){function n(i,n,l){var o;o=a.call(this,i,n,l)||this;rt(o,"id",fe,o);rt(o,"visible",he,o);rt(o,"selectionFields",be,o);rt(o,"filterBarDelegate",ge,o);rt(o,"metaPath",me,o);rt(o,"contextPath",ye,o);rt(o,"showMessages",Fe,o);rt(o,"variantBackreference",Pe,o);rt(o,"hideBasicSearch",ve,o);rt(o,"enableFallback",Ce,o);rt(o,"showAdaptFiltersButton",Se,o);rt(o,"p13nMode",Be,o);rt(o,"propertyInfo",De,o);rt(o,"useSemanticDateRange",we,o);rt(o,"navigationProperties",Ie,o);rt(o,"liveMode",_e,o);rt(o,"filterConditions",xe,o);rt(o,"suspendSelection",ze,o);rt(o,"isDraftCollaborative",Ae,o);rt(o,"toggleControlId",Ee,o);rt(o,"initialLayout",Te,o);rt(o,"showClearButton",ke,o);rt(o,"_applyIdToContent",Me,o);rt(o,"disableDraftEditStateFilter",Re,o);rt(o,"search",He,o);rt(o,"filterChanged",Oe,o);rt(o,"internalFilterChanged",$e,o);rt(o,"internalSearch",je,o);rt(o,"afterClear",Ve,o);rt(o,"filterFields",Le,o);o.showDraftEditState=false;rt(o,"ignorePersonalizationChanges",Ne,o);o.checkIfEditingFilterIsDisabled=e=>{if(e.annotations?.Capabilities?.NavigationRestrictions?.RestrictedProperties?.some(e=>e.NavigationProperty?.value==="DraftAdministrativeData"&&e.FilterRestrictions?.Filterable===false)===true){o.showDraftEditState=false}};o.checkIfCollaborationDraftSupported=e=>{if(p.isCollaborationDraftSupported(e)){o.isDraftCollaborative=true}};o.getEntityTypePath=e=>e[0].endsWith("/")?e[0]:e[0]+"/";o.getSearch=()=>{if(!o.hideBasicSearch){return E(D,{id:We([o.id,"BasicSearchField"]),label:"",placeholder:"{sap.fe.i18n>M_FILTERBAR_SEARCH}",propertyKey:"$search",conditions:"{$filters>/conditions/$search}",dataType:"sap.ui.model.odata.type.String",maxConditions:"1",dataTypeConstraints:"{'maxLength':1000}"})}return""};o.processSelectionFields=()=>{let e="";if(o.showDraftEditState){const t=m.getEditStates(o.isDraftCollaborative);const i=o.getTranslatedText("FILTERBAR_EDITING_STATUS");e=E(D,{label:i,conditions:"{$filters>/conditions/$editState}",maxConditions:"1",id:We([o.id,"FilterField","DraftEditingStatus"]),operators:"EQ",dataType:"sap.ui.model.odata.type.String",propertyKey:"$editState",display:"Description",children:{contentEdit:E(v,{id:We([o.id,"FilterField","DraftEditingStatusSelect"]),width:"100%",forceSelection:"true",selectedKey:"{path: '$field>/conditions', type: 'sap.ui.mdc.field.ConditionsType'}",children:{items:t.map(e=>E(S,{text:e.display},e.id))}})}})}o._valueHelps=[];o._filterFields=[];o._filterFields?.push(e);if(!Array.isArray(o.selectionFields)){o.selectionFields=o.selectionFields.getObject()}o.selectionFields?.forEach(e=>{if(e.availability==="Default"){o.setFilterFieldsAndValueHelps(e)}});o._filterFields=o._filterFields?.length>0?o._filterFields:"";o._valueHelps=o._valueHelps?.length>0?o._valueHelps:""};o.setFilterFieldsAndValueHelps=e=>{if(e.template===undefined&&e.type!=="Slot"){o.pushFilterFieldsAndValueHelps(e)}else if(Array.isArray(o._filterFields)){const t=e.annotationPath;const i=o.metaPath.getModel().createBindingContext(t);const r=i?.getObject();let a;if(e.type==="Slot"){a=E(z,{templateId:e.template,children:E("slot",{name:e.slotName})})}else if(e.template){a=E(F,{fragmentName:e.template,id:We([o.id,"CustomFilterField",e.key]),contextPath:"{contextPath>}"})}let n=-1;if(i){n=Ke(e.annotationPath,{context:i})??-1}o._filterFields?.push(E(D,{id:We([o.id,"CustomFilterField",e.key]),delegate:{name:"sap/fe/macros/field/FieldBaseDelegate"},propertyKey:e.conditionPath,label:e.label,dataType:e.dataType,maxConditions:n,conditions:`{$filters>/conditions/${e.conditionPath}}`,operators:h.operators(i,r,o.useSemanticDateRange,e.settings,o.contextPath.getPath()),dataTypeConstraints:e.constraints,dataTypeFormatOptions:e.formatOptions,valueHelp:"undefined",required:e.required,children:{content:E(_,{"core:require":"{handler: 'sap/fe/macros/filter/FilterUtils'}",id:We([o.id,"FilterFieldContentWrapper",e.key]),binding:`{filterValues>/${g.conditionToModelPath(e.conditionPath)}}`,conditions:"{path: '$field>/conditions'}",children:{content:a}}),customData:[E(C,{value:e.type==="Slot"},"isSlot"),E(B,{value:`{parts: [{value: 'asArray'}, {value: '${e.documentRefText}'}], formatter: '._formatters.StandardFormatter'}`},"sap-ui-DocumentationRef")]}}))}};o.pushFilterFieldsAndValueHelps=e=>{if(Array.isArray(o._filterFields)){const t={...e.visualFilter,...{initialChartBindingEnabled:!o.suspendSelection}};o._filterFields?.push(E(P,{idPrefix:We([o.id,"FilterField",f.getNavigationPath(e.annotationPath)]),vhIdPrefix:We([o.id,"FilterFieldValueHelp"]),property:e.annotationPath,contextPath:o._getContextPathForFilterField(e,o._internalContextPath),useSemanticDateRange:o.useSemanticDateRange,label:e.label,settings:f.stringifyCustomData(e.settings),visualFilter:e.visualFilter!==undefined?Ye(t):undefined,editMode:`{internal>/${o.id}/filterFields/${e.conditionPath}/editMode}`}))}if(Array.isArray(o._valueHelps)){o._valueHelps?.push(E(I,{idPrefix:We([o.id,"FilterFieldValueHelp"]),conditionModel:"$filters",metaPath:e.annotationPath,contextPath:o._getContextPathForFilterField(e,o._internalContextPath),filterFieldValueHelp:true,useSemanticDateRange:o.useSemanticDateRange}))}};if(!o.metaPath){e.error("Context Path not available for FilterBar Macro.");return at(o)}const s=o.metaPath.getPath();let u="";const c=s?.split("/@com.sap.vocabularies.UI.v1.SelectionFields")||[];if(c.length>0){u=o.getEntityTypePath(c)}const d=p.getEntitySetPath(u);const b=o.contextPath?.getModel();o._internalContextPath=b?.createBindingContext(u);const y="@com.sap.vocabularies.UI.v1.SelectionFields"+(c.length&&c[1]||"");const w=l?.fullContextPath;let x=y;if(w!==""&&o._internalContextPath.getPath()?.startsWith(w)){x=s.replace(w,"")}o._annotationPath=y;const A={};if(o.filterFields){A[x]={filterFields:o.filterFields}}const T=Qe(o._internalContextPath);const k=o.getConverterContext(T,undefined,l,A);if(!o.propertyInfo){o.propertyInfo=Ge(k,[],y).sPropertyInfo}const M=Qe(o.metaPath,o.contextPath).targetEntitySet;if(M?.annotations?.Common?.DraftRoot&&!o.disableDraftEditStateFilter){o.showDraftEditState=true;o.checkIfEditingFilterIsDisabled(M);o.checkIfCollaborationDraftSupported(b)}if(!o.selectionFields){const e=Ge(k,[],y).selectionFields;o.selectionFields=new r(e,b).createBindingContext("/");const t=l?.models?.viewData?.getData();const i=k.getEntityType(),a=Xe(i,k),n=b.getContext(d),s=Ue(n,{selectionVariant:a},n.getObject(),t,o.showDraftEditState);o.filterConditions=s}o._processPropertyInfos(o.propertyInfo,b);if(o._applyIdToContent){o._apiId=o.id+"::FilterBar";o._contentId=o.id}else{o._apiId=o.id;o._contentId=o.getContentId(o.id+"")}if(o.hideBasicSearch!==true){const e=Je(d,b);o.hideBasicSearch=Boolean(e&&!e.Searchable)}t.renderAsXML(()=>o.processSelectionFields());o.designtime=o.getDesigntime();return o}qe=n;nt(n,a);var l=n.prototype;l._processPropertyInfos=function e(t,r){const a=[];if(t){const e=t.replace(/\\{/g,"{").replace(/\\}/g,"}");const n=JSON.parse(e);const l=this.getTranslatedText("FILTERBAR_EDITING_STATUS");n.forEach(function(e){e.key=e.name;if(e.isParameter){a.push(e.name)}if(e.path==="$editState"){e.label=l}if(e.key?.includes("/")){const t=e.annotationPath;const a=f.getLocationForPropertyPath(r,t);const n=t.replace(`${a}/`,"");e.required=i.getFilterRestrictionsByPath(a,r)?.RequiredProperties?.includes(n)}});this.propertyInfo=JSON.stringify(n).replace(/\{/g,"\\{").replace(/\}/g,"\\}")}this._parameters=JSON.stringify(a)};l.getPersistenceProvider=function e(t){if(this.ignorePersonalizationChanges){return E(w,{id:We([t,"PersistenceProvider"]),for:t,mode:"Transient"})}return undefined};l._getContextPathForFilterField=function e(t,i){let r=i?.getPath();if(t.isParameter){const e=t.annotationPath;r=e.substring(0,e.lastIndexOf("/")+1)}return r};l.getDesigntime=function e(){return"sap/fe/macros/filterBar/designtime/FilterBar.designtime"};l.getTemplate=function e(){const t=this._internalContextPath?.getPath();let i="";if(this.filterBarDelegate){i=this.filterBarDelegate}else{i="{name:'sap/fe/macros/filterBar/FilterBarDelegate', payload: {entityTypePath: '"+t+"'}}"}const r=g.formatPropertyInfo(this.propertyInfo);return E(A,{id:this._apiId,metaPath:this.metaPath.getPath(),search:this.search,filterChanged:this.filterChanged,afterClear:this.afterClear,internalSearch:this.internalSearch,internalFilterChanged:this.internalFilterChanged,children:{content:E(x,{"core:require":"{API: 'sap/fe/macros/filterBar/FilterBarAPI'}",id:this._contentId,liveMode:this.liveMode,delegate:i,variantBackreference:this.liveMode?undefined:this.variantBackreference,showAdaptFiltersButton:this.showAdaptFiltersButton,showClearButton:this.showClearButton,p13nMode:this.p13nMode,search:"API.handleSearch($event)",filtersChanged:"API.handleFilterChanged($event)",filterConditions:this.filterConditions,suspendSelection:this.suspendSelection,showMessages:this.showMessages,toggleControl:this.toggleControlId,initialLayout:this.initialLayout,visible:this.visible,disableDraftEditStateFilter:this.disableDraftEditStateFilter,"dt:designtime":this.designtime,"customData:entityType":t,children:{customData:[E(C,{value:this.id},"localId"),E(C,{value:this.hideBasicSearch},"hideBasicSearch"),E(C,{value:this.showDraftEditState},"showDraftEditState"),E(C,{value:this.useSemanticDateRange},"useSemanticDateRange"),E(C,{value:this._parameters},"parameters"),E(C,{value:this.propertyInfo},"feFilterInfo"),E(C,{value:this._annotationPath},"annotationPath")],dependents:[this._valueHelps,this.getPersistenceProvider(this._contentId)],basicSearchField:this.getSearch(),filterItems:this._filterFields}})}})};return n}(l),fe=ot(de.prototype,"id",[k],{configurable:true,enumerable:true,writable:true,initializer:null}),he=ot(de.prototype,"visible",[M],{configurable:true,enumerable:true,writable:true,initializer:null}),be=ot(de.prototype,"selectionFields",[R],{configurable:true,enumerable:true,writable:true,initializer:null}),ge=ot(de.prototype,"filterBarDelegate",[H],{configurable:true,enumerable:true,writable:true,initializer:null}),me=ot(de.prototype,"metaPath",[O],{configurable:true,enumerable:true,writable:true,initializer:null}),ye=ot(de.prototype,"contextPath",[$],{configurable:true,enumerable:true,writable:true,initializer:null}),Fe=ot(de.prototype,"showMessages",[j],{configurable:true,enumerable:true,writable:true,initializer:function(){return false}}),Pe=ot(de.prototype,"variantBackreference",[V],{configurable:true,enumerable:true,writable:true,initializer:null}),ve=ot(de.prototype,"hideBasicSearch",[L],{configurable:true,enumerable:true,writable:true,initializer:null}),Ce=ot(de.prototype,"enableFallback",[N],{configurable:true,enumerable:true,writable:true,initializer:function(){return false}}),Se=ot(de.prototype,"showAdaptFiltersButton",[q],{configurable:true,enumerable:true,writable:true,initializer:function(){return true}}),Be=ot(de.prototype,"p13nMode",[U],{configurable:true,enumerable:true,writable:true,initializer:function(){return"Item,Value"}}),De=ot(de.prototype,"propertyInfo",[K],{configurable:true,enumerable:true,writable:true,initializer:null}),we=ot(de.prototype,"useSemanticDateRange",[W],{configurable:true,enumerable:true,writable:true,initializer:function(){return true}}),Ie=ot(de.prototype,"navigationProperties",[J],{configurable:true,enumerable:true,writable:true,initializer:null}),_e=ot(de.prototype,"liveMode",[G],{configurable:true,enumerable:true,writable:true,initializer:function(){return false}}),xe=ot(de.prototype,"filterConditions",[X],{configurable:true,enumerable:true,writable:true,initializer:null}),ze=ot(de.prototype,"suspendSelection",[Q],{configurable:true,enumerable:true,writable:true,initializer:function(){return false}}),Ae=ot(de.prototype,"isDraftCollaborative",[Y],{configurable:true,enumerable:true,writable:true,initializer:function(){return false}}),Ee=ot(de.prototype,"toggleControlId",[Z],{configurable:true,enumerable:true,writable:true,initializer:null}),Te=ot(de.prototype,"initialLayout",[ee],{configurable:true,enumerable:true,writable:true,initializer:function(){return"compact"}}),ke=ot(de.prototype,"showClearButton",[te],{configurable:true,enumerable:true,writable:true,initializer:function(){return false}}),Me=ot(de.prototype,"_applyIdToContent",[ie],{configurable:true,enumerable:true,writable:true,initializer:function(){return false}}),Re=ot(de.prototype,"disableDraftEditStateFilter",[re],{configurable:true,enumerable:true,writable:true,initializer:function(){return false}}),He=ot(de.prototype,"search",[ae],{configurable:true,enumerable:true,writable:true,initializer:null}),Oe=ot(de.prototype,"filterChanged",[ne],{configurable:true,enumerable:true,writable:true,initializer:null}),$e=ot(de.prototype,"internalFilterChanged",[le],{configurable:true,enumerable:true,writable:true,initializer:null}),je=ot(de.prototype,"internalSearch",[oe],{configurable:true,enumerable:true,writable:true,initializer:null}),Ve=ot(de.prototype,"afterClear",[se],{configurable:true,enumerable:true,writable:true,initializer:null}),Le=ot(de.prototype,"filterFields",[ue],{configurable:true,enumerable:true,writable:true,initializer:null}),Ne=ot(de.prototype,"ignorePersonalizationChanges",[ce],{configurable:true,enumerable:true,writable:true,initializer:function(){return false}}),de))||pe);qe=ct;return qe},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/filterBar/FilterBar", ["sap/fe/base/ClassSupport","sap/fe/core/buildingBlocks/templating/BuildingBlockSupport","sap/fe/macros/controls/BuildingBlockWithTemplating","sap/fe/macros/filterBar/FilterBar.block"],function(e,t,r,i){"use strict";var n,a,l,o;var c={};var s=t.convertBuildingBlockMetadata;var u=e.xmlEventHandler;var p=e.defineUI5Class;function f(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,d(e,t)}function d(e,t){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},d(e,t)}function v(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer?(Object.defineProperty(e,t,a),null):a}let b=(n=p("sap.fe.macros.filterBar.FilterBar",s(i)),a=u(),n(l=(o=function(e){function t(t,r){var i;i=e.call(this,t,r)||this;i.createProxyMethods(["setFilterValues","getActiveFiltersText","getFilters","triggerSearch","getSelectionVariant","setFilterFieldVisible","getFilterFieldVisible","getCurrentVariantKey","setCurrentVariantKey","setFilterFieldEnabled","getFilterFieldEnabled","setSelectionVariant"]);return i}c=t;f(t,e);var r=t.prototype;r._fireEvent=function e(t,r,i){this.fireEvent(i,t.getParameters())};return t}(r),v(o.prototype,"_fireEvent",[a],Object.getOwnPropertyDescriptor(o.prototype,"_fireEvent"),o.prototype),o))||l);c=b;return c},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/filterBar/FilterBarAPI", ["sap/base/Log","sap/base/util/merge","sap/fe/base/ClassSupport","sap/fe/base/HookSupport","sap/fe/core/CommonUtils","sap/fe/core/converters/MetaModelConverter","sap/fe/core/helpers/PromiseKeeper","sap/fe/core/library","sap/fe/core/templating/DataModelPathHelper","sap/fe/macros/MacroAPI","sap/fe/macros/filter/FilterUtils","sap/fe/macros/filterBar/SemanticDateOperators","sap/fe/macros/mdc/adapter/StateHelper","sap/fe/navigation/SelectionVariant","sap/fe/navigation/library","sap/ui/core/Element","sap/ui/fl/apply/api/ControlVariantApplyAPI","sap/ui/mdc/enums/FieldEditMode","sap/ui/mdc/p13n/StateUtil","sap/ui/thirdparty/jquery","./mixin/FilterBarAPIStateHandler"],function(t,e,n,r,a,i,o,l,s,c,u,f,d,g,p,h,y,m,b,jQuery,S){"use strict";var V,F,C,P,v,w,_,I,E,A,O,M,B,D,x,T,z,j,k,R,K,N,H,L,$,q,U,J,W,G,Q,X,Y,Z;var tt=p.NavType;var et=s.getContextRelativeTargetObjectPath;var nt=l.InitialLoadMode;var rt=i.getInvolvedDataModelObjects;var at=r.controllerExtensionHandler;var it=n.xmlEventHandler;var ot=n.property;var lt=n.mixin;var st=n.event;var ct=n.defineUI5Class;var ut=n.aggregation;function ft(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function dt(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,gt(t,e)}function gt(t,e){return gt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},gt(t,e)}function pt(t,e){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}function ht(t,e,n,r,a){var i={};return Object.keys(r).forEach(function(t){i[t]=r[t]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(n,r){return r(t,e,n)||n},i),a&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(a):void 0,i.initializer=void 0),void 0===i.initializer?(Object.defineProperty(t,e,i),null):i}let yt=function(){function t(t){this.countFilterActions=0;this.countVariantFilters=0;this.filterBarAPI=t}var e=t.prototype;e.onFiltersChanged=function t(e){if(e==="Variant"){this.countVariantFilters++}else{this.countFilterActions++}};e.onSearch=function t(e,n){const r=this.getFilterNamesFromConditions(n);this.filterBarAPI.getPageController()?.telemetry.storeAction({type:"FE.FilterBarSearch",parameters:{countFilterActions:this.countFilterActions,countFilters:Object.keys(n).length,countVariantFilters:this.countVariantFilters,variantLayer:this.filterBarAPI.getVariant()?.layer??"None",autoLoad:e.reason==="Variant",searchUsed:n.$search?!!Object.keys(n.$search).length:false,filterNames:r}});this.countFilterActions=0;this.countVariantFilters=0};e.getFilterNamesFromConditions=function t(e){let n="";Object.keys(e).forEach(t=>{if(t!="$search"){n+=t+";"}});return n};return t}();var mt=function(t){t["Control"]="Control";t["Page"]="Page";t["None"]="None";return t}(mt||{});const bt="DisplayCurrency";const St="P_DisplayCurrency";let Vt=(V=ct("sap.fe.macros.filterBar.FilterBarAPI",{returnTypes:["sap.ui.core.Control"]}),F=lt(S),C=at("viewState","retrieveAdditionalStates"),P=at("viewState","applyAdditionalStates"),v=ot({type:"string"}),w=ot({type:"string",expectedAnnotations:["com.sap.vocabularies.UI.v1.SelectionFields"],expectedTypes:["EntitySet","EntityType"]}),_=ot({type:"string",expectedTypes:["EntitySet","EntityType","NavigationProperty"]}),I=ot({type:"boolean",defaultValue:false}),E=ot({type:"boolean",defaultValue:true}),A=ot({type:"boolean",defaultValue:true}),O=ot({type:"boolean",defaultValue:false}),M=ut({type:"sap.fe.macros.filterBar.FilterField",multiple:true}),B=st(),D=st(),x=st(),T=st(),z=st(),j=it(),k=it(),V(R=F(R=(K=function(n){function r(t,e){var r;r=n.call(this,t,e)||this;r.initialControlState={};r._initialStatePromise=new o;r._bSearchTriggered=false;r._hasPendingFilters=true;ft(r,"id",N,r);ft(r,"metaPath",H,r);ft(r,"contextPath",L,r);ft(r,"liveMode",$,r);ft(r,"visible",q,r);ft(r,"showMessages",U,r);ft(r,"showClearButton",J,r);ft(r,"filterFields",W,r);ft(r,"search",G,r);ft(r,"internalSearch",Q,r);ft(r,"filterChanged",X,r);ft(r,"afterClear",Y,r);ft(r,"internalFilterChanged",Z,r);r.telemetry=new yt(r);r.attachStateChangeHandler();return r}dt(r,n);var i=r.prototype;i.retrieveAdditionalStates=function t(e){e[this.getId()]={dataLoaded:!this._hasPendingFilters}};i.applyAdditionalStates=function t(e){const n=e[this.getId()];let r;if(typeof n==="object"&&n!==null){r=n.dataLoaded}else{r=undefined}const a="dataLoaded"in e&&typeof e.dataLoaded==="boolean"?e.dataLoaded:undefined;if(a===true||r===true){this.triggerSearch()}if(a===false||r===false){this.content._bSearchTriggered=false}};i.waitForInitialState=async function t(){return this._initialStatePromise.promise};i.getControlState=function t(e){const n=this.initialControlState;if(e){return{fullState:e,initialState:n}}return e};i.isSearchTriggeredByInitialLoad=function t(e){const n=this.getPageController(),r=n.getView(),a=r.getViewData();let t=false,i;if(a.variantManagement===mt.Control){i=n._getFilterBarVariantControl()}else{i=r.byId("fe::PageVariantManagement")}const o=i?.getCurrentVariantKey();if(e===tt.xAppState){return true}else if(i&&a.initialLoad!==nt.Enabled){if(n._shouldAutoTriggerSearch(this._getFilterBarVM(r))){t=true}}else if(i&&a.initialLoad===nt.Enabled&&n._getApplyAutomaticallyOnVariant(i,o)){t=true}return t};i._applySelectionVariant=async function t(e,n,r){const a=this.getContent();const{selectionVariant:i,selectionVariantDefaults:o,requiresStandardVariant:l=false}=n;if(!a||!i){return Promise.resolve()}const s=this._getFilterBarVM(e);const c=await this._activateVariantAndDetermineApplyAppState(s,l,r);if(c){this._addDefaultDisplayCurrencyToSV(e,i,o);const t=o?o.getSelectOptionsPropertyNames().length>0:false;const n=s&&s.getDefaultVariantKey()===s.getStandardVariantKey();const l=t&&(n||!s);const c=a.getParent();let u=i;if(r||l){u=await this._getAdjustedSV(i,l)}return c.setSelectionVariant(u,true)}};i._enableFilterBar=function t(e,n){const r=e.getParent();const a=()=>{this._bSearchTriggered=!n};if(e.getSuspendSelection()){r.attachEventOnce("search",a);e.enableRequests(true)}else{a()}};i._getAdjustedSV=async function t(e,n){let r=new g(e.toJSONObject());const a=await this.getSelectionVariant();const i=a?.getSelectOptionsPropertyNames()||[];if(i.length>0){r=i.reduce((t,e)=>{const r=t.getSelectOption(e);if(n&&!r?.length||!n){const n=a.getSelectOption(e);t.massAddSelectOption(e,n||[])}return t},r)}return r};i._preventInitialSearch=function t(e){if(!e){return true}const n=e.getVariants();const r=n.find(function(t){return t.getKey()===e.getCurrentVariantKey()});return!r.executeOnSelect};i._addDefaultDisplayCurrencyToSV=function t(e,n,r){if(!r||r?.isEmpty()){return}const a=e.getViewData(),i=e.getModel()?.getMetaModel(),o=a.contextPath||`/${a.entitySet}`,l=i.getMetaContext(o),s=rt(l);const c=this.getDisplayCurrencyPropertyName(s);const u=this._checkIfDisplayCurrencyIsRequired(s);if(!u){return}const f=n.getSelectOption(c)||[],d=r.getSelectOption(c)||[],g=d.length>0,p=f.length===0;if(p&&g){const t=d[0],e=t["Sign"],r=t["Option"],a=t["Low"],i=t["High"];n.addSelectOption(c,e,r,a,i)}};i.isParameterized=function t(e){return!!e.startingEntitySet.entityType?.annotations?.Common?.ResultContext};i.getDisplayCurrencyPropertyName=function t(e){return this.isParameterized(e)?St:bt};i._checkIfDisplayCurrencyIsRequired=function t(e){let n=false;if(this.isParameterized(e)){n=e.startingEntitySet.entityType.entityProperties.some(t=>t.name===St)}else{const t=e.startingEntitySet._type==="EntitySet"?e.startingEntitySet:undefined,r=t?.annotations.Capabilities?.FilterRestrictions?.RequiredProperties??[];n=r.some(t=>t.value===bt)}return n};i._activateVariantAndDetermineApplyAppState=async function t(e,n,r){if(e&&!r){let t=n?e.getStandardVariantKey():e.getDefaultVariantKey();if(t===null){t=e.getId()}await y.activateVariant({element:e,variantReference:t});return n||e.getDefaultVariantKey()===e.getStandardVariantKey()}return true};i._getFilterBarVM=function t(e){let n;const r=e.getViewData();switch(r.variantManagement){case mt.Page:n=e.byId("fe::PageVariantManagement");break;case mt.Control:n=e.getController()._getFilterBarVariantControl();break;case mt.None:default:break}return n};i.handleVariantIdPassedViaURLParams=async function t(e){const n=e["sap-ui-fe-variant-id"],r=e["sap-ui-fe-filterbar-variant-id"],a=e["sap-ui-fe-table-variant-id"],i=e["sap-ui-fe-chart-variant-id"];let o;if(n||r||a||i){o={sPageVariantId:n&&n[0],sFilterBarVariantId:r&&r[0],sTableVariantId:a&&a[0],sChartVariantId:i&&i[0]}}return this._handleControlVariantId(o)};i._handleControlVariantId=async function t(e){let n;const r=this.getPageController()?.getView(),a=[];const i=r.getViewData().variantManagement;if(e&&e.sPageVariantId&&i==="Page"){n=r.byId("fe::PageVariantManagement");this._handlePageVariantId(e,n,a)}else if(e&&i==="Control"){if(e.sFilterBarVariantId){n=r.getController()._getFilterBarVariantControl();this._handleFilterBarVariantControlId(e,n,a)}}return Promise.all(a)};i._handlePageVariantId=function t(e,n,r){n.getVariants()?.forEach(t=>{this._findAndPushVariantToPromise(t,e.sPageVariantId,n,r,true)})};i._handleFilterBarVariantControlId=function t(e,n,r){if(n){n.getVariants().forEach(t=>{this._findAndPushVariantToPromise(t,e.sFilterBarVariantId,n,r,true)})}};i._findAndPushVariantToPromise=function t(e,n,r,a,i){if(e.key===n){a.push(this._applyControlVariant(r,n,i))}};i._applyControlVariant=async function t(e,n){let r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;const a=this._checkIfVariantIdIsAvailable(e,n)?n:e.getStandardVariantKey();const i=y.activateVariant({element:e,variantReference:a});return i.then(function(){return r})};i._checkIfVariantIdIsAvailable=function t(e,n){const r=e.getVariants();let a=false;r.forEach(function(t){if(t.getKey()===n){a=true}});return a};i.attachStateChangeHandler=function t(){b.detachStateChange(this.stateChangeHandler);b.attachStateChange(this.stateChangeHandler)};i.stateChangeHandler=function t(e){const n=e.getParameter("control");if(n.isA("sap.ui.mdc.FilterBar")){const t=n.getParent();if(t?.handleStateChange){t.handleStateChange()}}};i.handleSearch=function t(n){const r=n.getSource();const a=n.getParameters();if(r){const t=r.getFilterConditions()??{};const n=this._prepareEventParameters(r);this.telemetry?.onSearch(a,t);this.fireEvent("internalSearch",e({conditions:t},a));this.fireEvent("search",e({reason:a.reason},n));this._hasPendingFilters=false;if(!this.liveMode){this.getPageController()?.getExtensionAPI().updateAppState()}}};i.handleFilterChanged=function t(n){const r=n.getSource();const a=n.getParameters();if(r){const t=r.getFilterConditions();const n=this._prepareEventParameters(r);this.telemetry?.onFiltersChanged(this._getFilterBarReason(r));this.fireEvent("internalFilterChanged",e({conditions:t},a));this.fireEvent("filterChanged",n);if(a?.conditionsBased){this._hasPendingFilters=true}}};i._getFilterBarReason=function t(e){return e?._sReason??""};i._prepareEventParameters=function t(e){const{parameters:n,filters:r,search:a}=u.getFilters(e)||{};return{parameters:n,filters:r,search:a}};i.setFilterValues=async function t(e,n,r){if(arguments.length===2){r=n;return u.setFilterValues(this.content,e,r)}return u.setFilterValues(this.content,e,n,r)};i.getActiveFiltersText=function t(){return this.content?.getAssignedFiltersText()?.filtersText||""};i.getFilters=function t(){return u.getFilters(this.content)||{}};i.triggerSearch=async function e(){const n=this.content;try{if(n){await n.waitForInitialization();return await n.triggerSearch()}}catch(e){const n=e instanceof Error?e.message:String(e);t.error(`FE : Buildingblock : FilterBar : ${n}`);throw Error(n)}};i.isSemanticDateFilterApplied=function t(){return f.hasSemanticDateOperations(this.content.getConditions(),false)};i.getSelectionVariant=async function t(){const e=await d.getSelectionVariant(this.getContent());const n=this.getPageController();if(n!==undefined){const t=n?.getView(),r=a.getAppComponent(t),i=r?.getNavigationService(),o=this.getDataModelObjectForMetaPath(this.metaPath);if(o?.targetEntitySet?.name){const n=o?.targetEntitySet?.name&&i?.constructContextUrl(o?.targetEntitySet?.name,t.getModel());e.setFilterContextUrl(n)}}return e};i.getMandatoryFilterPropertyNames=function t(){return this.content.getPropertyInfoSet().filter(function(t){return t.required}).map(function(t){return t.conditionPath})};i.getParameters=function t(){const e=this.content;const n=e.data("parameters");if(n){return Array.isArray(n)?n:JSON.parse(n)}return[]};i.getVariant=function e(){let n;try{const t=this.getModel("$FlexVariants");const e=this.content.getVariantBackreference();if(t&&e){n=t.getVariant(t.getCurrentVariantReference(e))}}catch(e){t.debug("Couldn't fetch variant ",e)}return n};i.setFilterFieldVisible=async function t(e,n){await b.applyExternalState(this.content,{items:[{name:e,visible:n}]})};i.getFilterFieldVisible=async function t(e){const n=await b.retrieveExternalState(this.content);return!!n.items.find(t=>t.name===e)};i.getVariantManagement=function t(){const e=this.content.getVariantBackreference();if(e){return h.getElementById(e)}else{throw new Error(`Variant back reference not defined on the filter bar ${this.id}`)}};i.setVariantBackReference=function t(e){const n=this.getContent();const r=n?.getLiveMode?.();if(!r){this.content.setVariantBackreference(e)}};i.getCurrentVariantKey=function t(){return this.getVariantManagement().getCurrentVariantKey()};i.setCurrentVariantKey=function t(e){const n=this.getVariantManagement();n.setCurrentVariantKey(e)};i.setFilterFieldEnabled=function t(e,n){this.getModel("internal").setData({[this.content.data("localId")]:{filterFields:{[e]:{editMode:n?m.Editable:m.Disabled}}}},true)};i.getFilterFieldEnabled=function t(e){return this.getModel("internal").getProperty(`/${this.content.data("localId")}/filterFields/${e}/editMode`)===m.Disabled?false:true};i.convertSelectionVariantToStateFilters=async function t(e,n){return d.convertSelectionVariantToStateFilters(this.content,e,n,this.content?.getModel())};i._clearFilterValuesWithOptions=async function t(e,n){await d._clearFilterValuesWithOptions(e,n)};i.setSelectionVariant=async function e(n){let r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;const a=this.getContent();const i=a&&a?.getLiveMode?.();let o;if(i){a.enableRequests(false)}try{o=await d.setSelectionVariantToMdcControl(this.getContent(),n,r);return o?.applyStateResult}catch(e){const n=e instanceof Error?e.message:String(e);t.error(`FE : Buildingblock : FilterBar : ${n}`);throw Error(n)}finally{if(i){a.enableRequests(true,o?.diffState)}}};i.handleStateChange=function t(){this.getPageController()?.getExtensionAPI().updateAppState()};i.getConditionPath=function t(e){const n=u.getDataModelObjectPathForProperty(this.content,e);return(n?et(n,false,true):undefined)??e};i.showFilterField=async function t(e){const n=await b.retrieveExternalState(this.content);const r=this.getConditionPath(e);const a=!!n.items.find(t=>t.name===r);if(!a){n.items.push({name:r})}await b.applyExternalState(this.content,n)};i.openValueHelpForFilterField=async function t(e,n){const r=this.getConditionPath(e);return new Promise((t,a)=>{const i=this.content.getFilterItems().find(t=>t.getPropertyKey()===r);const o=h.getElementById(i?.getValueHelp());if(!o||!i){a(new Error(`ValueHelp for filter field ${e} not found`));return}o.attachEventOnce("closed",()=>{t(o.getConditions())});i._oFocusInfo={targetInfo:{silent:true}};i.onfocusin?.(new jQuery.Event("focusin"));setTimeout(()=>{i.getAggregation("_content")[0].fireValueHelpRequest({fromKeyboard:true,_userInputValue:n})},200)})};i.getCollapsedFiltersText=function t(){return this.content?.getAssignedFiltersText()?.filtersText};return r}(c),ht(K.prototype,"retrieveAdditionalStates",[C],Object.getOwnPropertyDescriptor(K.prototype,"retrieveAdditionalStates"),K.prototype),ht(K.prototype,"applyAdditionalStates",[P],Object.getOwnPropertyDescriptor(K.prototype,"applyAdditionalStates"),K.prototype),N=ht(K.prototype,"id",[v],{configurable:true,enumerable:true,writable:true,initializer:null}),H=ht(K.prototype,"metaPath",[w],{configurable:true,enumerable:true,writable:true,initializer:null}),L=ht(K.prototype,"contextPath",[_],{configurable:true,enumerable:true,writable:true,initializer:null}),$=ht(K.prototype,"liveMode",[I],{configurable:true,enumerable:true,writable:true,initializer:null}),q=ht(K.prototype,"visible",[E],{configurable:true,enumerable:true,writable:true,initializer:null}),U=ht(K.prototype,"showMessages",[A],{configurable:true,enumerable:true,writable:true,initializer:null}),J=ht(K.prototype,"showClearButton",[O],{configurable:true,enumerable:true,writable:true,initializer:null}),W=ht(K.prototype,"filterFields",[M],{configurable:true,enumerable:true,writable:true,initializer:null}),G=ht(K.prototype,"search",[B],{configurable:true,enumerable:true,writable:true,initializer:null}),Q=ht(K.prototype,"internalSearch",[D],{configurable:true,enumerable:true,writable:true,initializer:null}),X=ht(K.prototype,"filterChanged",[x],{configurable:true,enumerable:true,writable:true,initializer:null}),Y=ht(K.prototype,"afterClear",[T],{configurable:true,enumerable:true,writable:true,initializer:null}),Z=ht(K.prototype,"internalFilterChanged",[z],{configurable:true,enumerable:true,writable:true,initializer:null}),ht(K.prototype,"handleSearch",[j],Object.getOwnPropertyDescriptor(K.prototype,"handleSearch"),K.prototype),ht(K.prototype,"handleFilterChanged",[k],Object.getOwnPropertyDescriptor(K.prototype,"handleFilterChanged"),K.prototype),K))||R)||R);return Vt},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/filterBar/FilterBarDelegate", ["sap/base/Log","sap/base/util/merge","sap/fe/base/jsx-runtime/jsx","sap/fe/core/CommonUtils","sap/fe/core/TemplateModel","sap/fe/core/converters/MetaModelConverter","sap/fe/core/converters/controls/ListReport/FilterBar","sap/fe/core/converters/helpers/Key","sap/fe/core/helpers/MetaModelFunction","sap/fe/core/helpers/ModelHelper","sap/fe/core/helpers/ResourceModelHelper","sap/fe/core/helpers/StableIdHelper","sap/fe/core/templating/PropertyFormatters","sap/fe/core/type/EDM","sap/fe/macros/CommonHelper","sap/fe/macros/DelegateUtil","sap/fe/macros/field/FieldHelper","sap/fe/macros/filter/FilterUtils","sap/fe/macros/internal/valuehelp/ValueHelpTemplating","sap/fe/macros/mdc/adapter/StateHelper","sap/ui/mdc/FilterBarDelegate","sap/ui/mdc/odata/v4/TypeMap","sap/ui/model/json/JSONModel"],function(e,t,n,o,i,r,a,s,l,c,f,d,u,p,g,m,h,y,P,v,C,F,x){"use strict";var M=P.getValueHelpTemplate;var b=p.getModelType;var I=u.hasValueHelp;var w=d.generate;var A=f.getResourceModel;var D=f.getLocalizedText;var S=l.isPropertyFilterable;var T=s.KeyHelper;var E=a.sortPropertyInfosByGroupLabel;var $=a.processSelectionFields;var B=r.getInvolvedDataModelObjects;const L=Object.assign({},C);L.apiVersion=2;const V="$editState",_="$search",O="FilterFieldValueHelp",H="sap_fe_FilterBarDelegate_propertyInfoMap";async function N(e,t,n){const o=new x({id:e,isDraftCollaborative:c.isCollaborationDraftSupported(t)}),i={bindingContexts:{this:o.createBindingContext("/")},models:{this:o}};return m.templateControlFragment("sap.fe.macros.filterBar.DraftEditState",i,undefined,n).finally(function(){o.destroy()})}L._templateCustomFilter=async function(e,t,n,r,a){const s=await m.getCustomDataWithModifier(e,"entityType",a);if(n.annotationPath!==undefined){const e=r.getContext(n.annotationPath),t=B(e),o=t.targetObject?.annotations.Common?.DocumentationRef?.toString();n.documentRefText=o}const l=new x({id:t}),c=new i(n,r),f={bindingContexts:{contextPath:r.createBindingContext(s),this:l.createBindingContext("/"),item:c.createBindingContext("/")},models:{contextPath:r,this:l,item:c}},d=o.getTargetView(e),u=d?d.getController():undefined,p={controller:u?u:undefined,view:d};return m.templateControlFragment("sap.fe.macros.filter.CustomFilter",f,p,a).finally(function(){l.destroy();c.destroy()})};function U(e){return y.getPropertyPathFromConditionPath(e)}L._findSelectionField=function(e,t){return e.find(function(e){return(e.conditionPath===t||e.conditionPath.replaceAll(/\*/g,"")===t)&&e.availability!=="Hidden"})};function j(e,t,n){return n?w([e,t,n]):w([e,t])}async function R(o,i){const r={idPrefix:i.sVhIdPrefix,conditionModel:"$filters",navigationPrefix:i.sNavigationPrefix?`/${i.sNavigationPrefix}`:"",filterFieldValueHelp:true,useSemanticDateRange:i.bUseSemanticDateRange,metaPath:o.bindingContexts.metaPath,contextPath:o.bindingContexts.contextPath,useMultiValueField:false,requiresValidation:false,collaborationEnabled:false,requestGroupId:undefined};const a=new x(r);const s=t({},o,{bindingContexts:{this:a.createBindingContext("/")},models:{this:r}});const l=h.valueHelpPropertyForFilterField(o.bindingContexts.metaPath);if(o.isXML){let t=n.renderAsXML(()=>M(o.bindingContexts.metaPath.getModel().createBindingContext(l),r));if(t){if(o.isXML){t=`<root>${t}</root>`}const n=(new DOMParser).parseFromString(t,"text/xml");return Promise.resolve(m.templateControlFragment(n.firstElementChild,s,{isXML:o.isXML})).then(async function(e){if(e){const t="dependents";if(Array.isArray(e)){e.forEach(function(e){if(i.oModifier){i.oModifier.insertAggregation(i.oControl,t,e,0)}else{i.oControl.insertAggregation(t,e,0,false)}})}else if(i.oModifier){return i.oModifier.insertAggregation(i.oControl,t,e,0,i.view)}else{i.oControl.insertAggregation(t,e,0,false);return}}return}).catch(function(t){e.error("Error while evaluating DelegateUtil.isValueHelpRequired",t)}).finally(function(){a.destroy()})}}else{const e=M(o.bindingContexts.metaPath.getModel().createBindingContext(l),r);if(e){const t="dependents";if(Array.isArray(e)){e.forEach(function(e){if(i.oModifier){i.oModifier.insertAggregation(i.oControl,t,e,0)}else{i.oControl.insertAggregation(t,e,0,false)}})}else if(i.oModifier){i.oModifier.insertAggregation(i.oControl,t,e,0)}else{i.oControl.insertAggregation(t,e,0,false)}}}}async function k(t,n,o){try{const e=await Promise.resolve(n.getAggregation(t,"dependents"));let i;if(e&&e.length>1){for(i=0;i<=e.length;i++){const t=e[i];if(t&&t.isA("sap.ui.mdc.FilterField")){const e=t.getPropertyKey(),n=t.getId();if(o===e&&n.indexOf("CustomFilterField")){return t}}}}}catch(t){e.error("Filter Cannot be added",t)}}async function X(e,n,o,r){const a=new x({idPrefix:n.sIdPrefix,vhIdPrefix:n.sVhIdPrefix,propertyPath:n.sPropertyName,navigationPrefix:n.sNavigationPrefix?`/${n.sNavigationPrefix}`:"",useSemanticDateRange:n.bUseSemanticDateRange,settings:n.oSettings,visualFilter:n.visualFilter,editMode:`{internal>/${o}/filterFields/${n.sPropertyName}/editMode}`,label:n.label});try{const o=n.oMetaModel;const s=new i(n.visualFilter,o);const l=t({},e,{bindingContexts:{this:a.createBindingContext("/"),visualFilter:s.createBindingContext("/")},models:{this:a,visualFilter:s,metaModel:o,converterContext:r}});return await m.templateControlFragment("sap.fe.macros.internal.filterField.FilterFieldTemplate",l,{isXML:!!e.isXML})}finally{a.destroy()}}async function W(t,n,o,i){try{const e=T.getSelectionFieldKeyFromPath(i);i=i.replace("*","");if(n&&!n.modifier){throw"FilterBar Delegate method called without modifier."}const r=await n.modifier.getProperty(t,"delegate");const a=await n.modifier.getProperty(t,"propertyInfo");if(a){const s=a.some(function(t){return t.key===e||t.name===e});if(!s){const e=r.payload.entityTypePath;const s=y.createConverterContext(t,e,o,n.appComponent);const l=s.getEntityType();const c=y.getFilterField(i,s,l);const f=y.buildProperyInfo(c,s);await K(a,n,f,t)}}}catch(n){e.warning(`${t.getId()} : ${n}`)}}async function K(e,t,n,o){let i=await m.getCustomDataWithModifier(o,"feFilterInfo",t.modifier);if(i&&i.length>0){const e=JSON.parse(i);e.push(n);i=JSON.stringify(e);i=i.replace(/\{/g,"\\{");i=i.replace(/\}/g,"\\}");const r=await m.retrieveCustomDataNode(o,"feFilterInfo",t.modifier);r[0].setAttribute("value",i);t.modifier.insertAggregation(o,"customData",r[0],0)}e.push(n);const r=y.formatPropertyInfo(e);t.modifier.setProperty(o,"propertyInfo",r)}L.addItem=async function(e,t,n){if(!n){return L._addP13nItem(t,e)}const o=n.modifier;const i=n&&n.appComponent&&n.appComponent.getModel();const r=i&&i.getMetaModel();if(!r){return Promise.resolve(null)}const a=o&&o.targets==="xmlTree";if(a){await W(e,n,r,t)}return L._addFlexItem(t,e,r,o,n.appComponent,n.view)};L.removeItem=async function(e,t,n){let o=true;const i=n.modifier;const r=i&&i.targets==="xmlTree";if(r){const o=n&&n.appComponent&&n.appComponent.getModel();const i=o&&o.getMetaModel();if(!i){return Promise.resolve(null)}const r=await n.modifier.getProperty(t,"propertyKey");await W(e,n,i,r)}if(typeof t!=="string"&&t.isA&&t.isA("sap.ui.mdc.FilterField")){if(t.data("isSlot")==="true"&&n){i.insertAggregation(e,"dependents",t);o=false}}return Promise.resolve(o)};L.addCondition=async function(e,t,n){const o=n.modifier;const i=o&&o.targets==="xmlTree";if(i){const o=n&&n.appComponent&&n.appComponent.getModel();const i=o&&o.getMetaModel();if(!i){return Promise.resolve(null)}await W(e,n,i,t)}return Promise.resolve()};L.removeCondition=async function(e,t,n){const o=n.modifier;const i=o&&o.targets==="xmlTree";if(i){const i=await m.getCustomDataWithModifier(e,"sap_fe_FilterBarDelegate_propertyInfoMap",o);if(!i){const o=n&&n.appComponent&&n.appComponent.getModel();const i=o&&o.getMetaModel();if(!i){return Promise.resolve(null)}await W(e,n,i,t)}}return Promise.resolve()};L.clearFilters=async function(e){const t=e.getParent();return v.clearFilterValues(t)};L._addP13nItem=async function(t,n){return m.fetchModel(n).then(async function(e){return L._addFlexItem(t,n,e.getMetaModel(),undefined)}).catch(function(t){e.error("Model could not be resolved",t);return null})};L.fetchPropertiesForEntity=function(e,t,n){const i=t.getObject(e);const r=n.isA("sap.ui.mdc.valuehelp.FilterBar")?true:undefined;if(!n||!i){return[]}const a=y.createConverterContext(n,e);const s=c.getEntitySetPath(e);const l=y.getConvertedFilterFields(n,e,r,t,o.getAppComponent(n));let f=[];l.forEach(function(e){const n=e.annotationPath;if(n&&!e.template){const o=a.getConvertedTypes().resolvePath(n).target;const i=g.getLocationForPropertyPath(t,n);const r=n.replace(`${i}/`,"");const s=a.getEntityType();const l=s.annotations?.UI?.SelectionFields;const c=s.annotations?.UI?.FilterFacets;if(o&&L._isFilterAdaptable(e,o,l,c)&&S(t,i,U(r),true)){f.push(e)}}else{f.push(e)}});const d=[];const u=$(f,a);const p=[];u.forEach(function(e){if(e.key){p.push(e.key)}});f=f.filter(function(e){return p.includes(e.key)});const h=o.getFilterRestrictionsByPath(s,t),P=h.FilterAllowedExpressions;u.forEach(function(e,n){const i=f[n];if(!i||!i.conditionPath){return}const r=U(i.conditionPath);e=Object.assign(e,{group:i.group,groupLabel:i.groupLabel,path:i.conditionPath,tooltip:null,removeFromAppState:false,hasValueHelp:false});if(i.annotationPath){const n=i.annotationPath;const o=t.getObject(n),r=t.getObject(`${n}@`),a=t.createBindingContext(n);const s=r["@com.sap.vocabularies.PersonalData.v1.IsPotentiallySensitive"]||r["@com.sap.vocabularies.UI.v1.ExcludeFromNavigationContext"]||r["@com.sap.vocabularies.Analytics.v1.Measure"];const l=g.getLocationForPropertyPath(t,i.annotationPath);const c=n.replace(`${l}/`,"");let f;let d;if(a&&S(t,l,U(c),true)){f=r["@com.sap.vocabularies.Common.v1.FilterDefaultValue"];if(f){d=f[`$${b(o.$Type)}`]}e=Object.assign(e,{tooltip:r["@com.sap.vocabularies.Common.v1.QuickInfo"]||undefined,removeFromAppState:s,hasValueHelp:I(a.getObject(),{context:a}),defaultFilterConditions:d?[{fieldPath:i.conditionPath,operator:"EQ",values:[d]}]:undefined})}}if(e){if(P[r]&&P[r].length>0){e.filterExpression=o.getSpecificAllowedExpression(P[r])}else{e.filterExpression="auto"}e=Object.assign(e,{visible:i.availability==="Default"})}u[n]=e});u.forEach(function(e){e.key=e.name;if(e.path==="$editState"){e.label=A(n).getText("FILTERBAR_EDITING_STATUS")}e.typeConfig=F.getTypeConfig(e.dataType,e.formatOptions,e.constraints);e.label=D(e.label,n)||"";if(e.isParameter){d.push(e.name)}});f=u;m.setCustomData(n,"parameters",d);return f};function q(e,t){if(e.isA("sap.fe.macros.table.TableAPI")){const n=e.getMetaPath().split("#")[0].split("/");switch(n[n.length-1]){case`@${"com.sap.vocabularies.UI.v1.SelectionPresentationVariant"}`:case`@${"com.sap.vocabularies.UI.v1.PresentationVariant"}`:return t.getObject(e.getMetaPath()).Visualizations?.find(e=>e.$AnnotationPath.includes(`@${"com.sap.vocabularies.UI.v1.LineItem"}`)).$AnnotationPath;case`@${"com.sap.vocabularies.UI.v1.LineItem"}`:const n=e.getMetaPath().split("/");return n[n.length-1]}}return undefined}L._isFilterAdaptable=function(e,t,n,o){let i;const r=n?L._isFilterInSelectionFields(n,e):false;if(o){i=o.some(function(t){const n=t.Target?.$target;return n?.Data.some(function(t){if(t.Value.path===e.key){return true}return false})})}else{i=false}return r||i||!t.annotations?.UI?.AdaptationHidden};L._isFilterInSelectionFields=function(e,t){const n=t.key?.indexOf("::")>0?t.key?.replace("::","/"):t.key;return e.some(function(e){if(e.value===n){return true}return false})};L._addFlexItem=async function(e,t,n,i,r,a){const s=i?i.getId(t):t.getId(),l=i?"":"Adaptation",f=y.getConvertedFilterFields(t,undefined,undefined,n,r,i,i?undefined:q(t.getParent(),n)),d=L._findSelectionField(f,e),u=U(e),p=!!i&&i.targets==="xmlTree";if(e===V){return N(j(s,`${l}FilterField`),n,i)}else if(e===_){return Promise.resolve(null)}else if(d?.template){return L._templateCustomFilter(t,j(s,`${l}`),d,n,i)}if(d?.type==="Slot"&&i){return k(t,i,u)}const h=g.getNavigationPath(u);let P;let v;let C;let F;let x;return Promise.resolve().then(async function(){if(d?.isParameter){const e=d.annotationPath;return e.substring(0,e.lastIndexOf("/")+1)}return m.getCustomDataWithModifier(t,"entityType",i)}).then(async function(e){P=e;return m.getCustomDataWithModifier(t,"useSemanticDateRange",i)}).then(async function(e){v=e;const o=n.createBindingContext(P+u);let r=i?i.getId(t):t.getId();if(r.endsWith("-content")){r=r.substring(0,r.lastIndexOf("-content"))}C={bindingContexts:{contextPath:n.createBindingContext(P),property:o},models:{contextPath:n,property:n},isXML:p};F=`/${c.getEntitySetPath(P).split("/").filter(c.filterOutNavPropBinding).join("/")}`;x={metaPath:o.getPath(),sPropertyName:u,sBindingPath:F,sValueHelpType:l+O,oControl:t,oMetaModel:n,oModifier:i,sIdPrefix:j(r,`${l}FilterField`,h),sVhIdPrefix:j(r,l+O),sNavigationPrefix:h,bUseSemanticDateRange:v,oSettings:d?.settings??{},visualFilter:d?.visualFilter,view:a,label:d?.label};return m.doesValueHelpExist(x)}).then(async function(e){if(!e){return R({bindingContexts:{contextPath:n.createBindingContext(P),metaPath:C.bindingContexts.property},models:{contextPath:n,metaPath:n},isXML:p},x)}return}).then(async function(){return m.getCustomDataWithModifier(t,"localId",i)}).then(async function(e){let n;if(x.visualFilter){n=o.getTargetView(t).getController()._getPageModel()}return X(C,x,e,n)})};function G(e){if(e instanceof window.Element){return null}return m.getCustomData(e,H)}function J(e,t){if(e instanceof window.Element){return}m.setCustomData(e,H,t)}function z(e,t,n){let o=G(n);let i;if(!o){o=L.fetchPropertiesForEntity(e,t,n);o.forEach(function(e){i=null;if(e.groupLabel){i=D(e.groupLabel,n);e.groupLabel=i===null?e.groupLabel:i}});E(o);J(n,o)}return o}L.fetchProperties=async function(e){const t=await L.fetchFilterProperties(e);m.setCustomData(e,"feFilterInfo",t);if(t.length>0){return y.formatPropertyInfo(t)}else{return[]}};L.fetchFilterProperties=async function(e){const t=m.getCustomData(e,"entityType");return m.fetchModel(e).then(function(n){if(!n){return[]}return z(t,n.getMetaModel(),e)})};L.getTypeMap=function(){return F};return L},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/filterBar/FilterBarSummary", ["sap/fe/base/ClassSupport","sap/fe/core/buildingBlocks/BuildingBlock","sap/m/Text","sap/ui/base/BindingInfo","sap/fe/base/jsx-runtime/jsx"],function(e,t,r,i,n){"use strict";var a,o,l,s,c;var u={};var f=e.defineUI5Class;var p=e.association;function b(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function d(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,v(e,t)}function v(e,t){return v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},v(e,t)}function h(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer?(Object.defineProperty(e,t,a),null):a}function g(e,t){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let m=(a=f("sap.fe.macros.filterBar.FilterBarSummary"),o=p({type:"sap.fe.macros.filterBar.FilterBarAPI",multiple:false}),a(l=(s=function(e){function a(t,r){var i;i=e.call(this,t,r)||this;b(i,"filterBar",c,i);return i}u=a;d(a,e);var o=a.prototype;o.onMetadataAvailable=function e(){this.content=this.createContent();t.observeBuildingBlock(this.filterBar,{onAvailable:e=>{e?.attachEvent("filterChanged",this.onFilterChange.bind(this))}})};o.createContent=function e(){return n(r,{})};o.onFilterChange=function e(t){const r=t.getSource();const n=r.getCollapsedFiltersText();const a=i.parse(n);if(a){this.content?.bindText(a)}else{this.content?.setText(n)}};return a}(t),c=h(s.prototype,"filterBar",[o],{configurable:true,enumerable:true,writable:true,initializer:null}),s))||l);u=m;return u},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/filterBar/FilterField", ["sap/fe/base/ClassSupport","sap/fe/macros/controls/BuildingBlockObjectProperty"],function(e,r){"use strict";var t,i,l,a,n,o,u,p,c,s,b,f,y,g,m,d,v,z,w,h,O;var j={};var P=e.property;var k=e.defineUI5Class;var _=e.aggregation;function B(e,r,t,i){t&&Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(i):void 0})}function C(e,r){e.prototype=Object.create(r.prototype),e.prototype.constructor=e,q(e,r)}function q(e,r){return q=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,r){return e.__proto__=r,e},q(e,r)}function D(e,r,t,i,l){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce(function(t,i){return i(e,r,t)||t},a),l&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(l):void 0,a.initializer=void 0),void 0===a.initializer?(Object.defineProperty(e,r,a),null):a}function E(e,r){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let F=(t=k("sap.fe.macros.filterBar.FilterField"),i=P({type:"string"}),l=P({type:"string"}),a=P({type:"string"}),n=P({type:"string"}),o=P({type:"string"}),u=P({type:"boolean"}),p=P({type:"boolean"}),c=P({type:"string"}),s=_({type:"sap.ui.core.Control",multiple:false,isDefault:true}),t(b=(f=function(e){function r(){var r;for(var t=arguments.length,i=new Array(t),l=0;l<t;l++){i[l]=arguments[l]}r=e.call(this,...i)||this;B(r,"key",y,r);B(r,"label",g,r);B(r,"anchor",m,r);B(r,"placement",d,r);B(r,"property",v,r);B(r,"showMessages",z,r);B(r,"required",w,r);B(r,"slotName",h,r);B(r,"template",O,r);return r}j=r;C(r,e);return r}(r),y=D(f.prototype,"key",[i],{configurable:true,enumerable:true,writable:true,initializer:null}),g=D(f.prototype,"label",[l],{configurable:true,enumerable:true,writable:true,initializer:null}),m=D(f.prototype,"anchor",[a],{configurable:true,enumerable:true,writable:true,initializer:null}),d=D(f.prototype,"placement",[n],{configurable:true,enumerable:true,writable:true,initializer:null}),v=D(f.prototype,"property",[o],{configurable:true,enumerable:true,writable:true,initializer:null}),z=D(f.prototype,"showMessages",[u],{configurable:true,enumerable:true,writable:true,initializer:null}),w=D(f.prototype,"required",[p],{configurable:true,enumerable:true,writable:true,initializer:null}),h=D(f.prototype,"slotName",[c],{configurable:true,enumerable:true,writable:true,initializer:null}),O=D(f.prototype,"template",[s],{configurable:true,enumerable:true,writable:true,initializer:null}),f))||b);j=F;return j},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/filterBar/FilterHelper", ["sap/base/Log","sap/fe/core/converters/MetaModelConverter","sap/fe/core/templating/PropertyHelper","sap/fe/core/type/EDM","sap/fe/macros/field/FieldHelper","sap/ui/mdc/condition/Condition","sap/ui/mdc/enums/ConditionValidated","../CommonHelper","./SemanticDateOperators"],function(e,t,n,o,i,r,a,s,d){"use strict";var c={};var l=o.isTypeFilterable;var u=n.hasValueHelp;var f=t.getInvolvedDataModelObjects;const p={Contains:"NotContains",StartsWith:"NotStartsWith",EndsWith:"NotEndsWith",Empty:"NotEmpty",NotEmpty:"Empty",LE:"NOTLE",GE:"NOTGE",LT:"NOTLT",GT:"NOTGT",BT:"NOTBT",NE:"EQ",EQ:"NE"};function g(e){let t;if(e.match(/^(\d{4})-(\d{1,2})-(\d{1,2})T(\d{1,2}):(\d{1,2}):(\d{1,2})\+(\d{1,2}):(\d{1,2})/)){t=e.match(/^(\d{4})-(\d{1,2})-(\d{1,2})T(\d{1,2}):(\d{1,2}):(\d{1,2})\+(\d{1,2}):(\d{1,2})/)[0]}else if(e.match(/^(\d{4})-(\d{1,2})-(\d{1,2})T(\d{1,2}):(\d{1,2}):(\d{1,2}).(\d{1,7})[+-](\d{1,2}):(\d{1,2})/)){t=e}else if(e.match(/^(\d{4})-(\d{1,2})-(\d{1,2})T(\d{1,2}):(\d{1,2}):(\d{1,2})/)){t=`${e.match(/^(\d{4})-(\d{1,2})-(\d{1,2})T(\d{1,2}):(\d{1,2}):(\d{1,2})/)[0]}+0000`}else if(e.match(/^(\d{4})-(\d{1,2})-(\d{1,2})/)){t=`${e.match(/^(\d{4})-(\d{1,2})-(\d{1,2})/)[0]}T00:00:00+0000`}else if(e.indexOf("Z")===e.length-1){t=`${e.split("Z")[0]}+0100`}else{t=undefined}return t}c._getDateTimeOffsetCompliantValue=g;function m(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;if(t){return e.match(/^(\d{4})-(\d{1,2})-(\d{1,2})$/)?e.match(/^(\d{4})-(\d{1,2})-(\d{1,2})/)[0]:null}return e.match(/^(\d{4})-(\d{1,2})-(\d{1,2})/)?e.match(/^(\d{4})-(\d{1,2})-(\d{1,2})/)[0]:e.match(/^(\d{8})/)&&e.match(/^(\d{8})/)[0]}c._getDateCompliantValue=m;function E(e,t,n){if(!l(t)||!n){return undefined}if(e===undefined||e===null){return e}let o=e;switch(t){case"Edm.Boolean":if(typeof e==="boolean"){o=e}else{o=e==="true"||(e==="false"?false:undefined)}break;case"Edm.Double":case"Edm.Single":if(e===""&&n==="EQ"){break}const t=Number(e);o=isNaN(t)?undefined:parseFloat(e.toString());break;case"Edm.Byte":case"Edm.Int16":case"Edm.Int32":case"Edm.SByte":if(o===""&&n==="EQ"){break}const i=Number(e);o=isNaN(i)?undefined:parseInt(e.toString(),10);break;case"Edm.Date":o=m(e.toString());break;case"Edm.DateTimeOffset":o=m(e.toString(),true)??g(e.toString());break;case"Edm.TimeOfDay":o=e.toString().match(/(\d{1,2}):(\d{1,2}):(\d{1,2})/)?e.toString().match(/(\d{1,2}):(\d{1,2}):(\d{1,2})/)?.[0]:undefined;break;default:}return o===null?undefined:o}c.getTypeCompliantValue=E;function h(t,n,o,i){let r=arguments.length>4&&arguments[4]!==undefined?arguments[4]:[];let a=arguments.length>5&&arguments[5]!==undefined?arguments[5]:[];let s=arguments.length>6?arguments[6]:undefined;let d=n,c,l;if(n===undefined||n===null){return undefined}const u=s==="Edm.Date"||s==="Edm.DateTimeOffset";switch(t){case"CP":l="Contains";if(d){const t=d.indexOf("*");const n=d.lastIndexOf("*");if(t>-1){if(t===0&&n!==d.length-1){l="EndsWith";d=d.substring(1,d.length)}else if(t!==0&&n===d.length-1){l="StartsWith";d=d.substring(0,d.length-1)}else{d=d.substring(1,d.length-1)}}else{e.warning("Contains Option cannot be used without '*'.");return undefined}}break;case"EQ":l=t;if(n===""&&(r.length===0||r.includes("Empty"))){l="Empty"}else if(u&&a.includes("DATE")&&n.match(/^(\d{4})-(\d{1,2})-(\d{1,2})$/)){l="DATE"}else if(s==="Edm.DateTimeOffset"&&a.includes("DATETIME")){l="DATETIME"}break;case"NE":l=n===""?"NotEmpty":t;break;case"BT":if(o===undefined||o===null){return}c=o;l=u&&a.includes("DATERANGE")?"DATERANGE":t;break;case"LE":l=u&&a.includes("TO")?"TO":t;break;case"GE":l=u&&a.includes("FROM")?"FROM":t;break;case"GT":case"LT":l=t;break;default:e.warning(`Selection Option is not supported : '${t}'`);return undefined}if(i==="E"){l=p[l]}const f={values:[],isEmpty:null,operator:l};if(l!=="Empty"){f.values.push(d);if(c){f.values.push(c)}}return f}c.resolveConditionValues=h;function T(e){return e.indexOf("/")>0?e.split("/")[1]:e}c.getRangeProperty=T;function y(e,t,n,o){const i=[];const r=u(t);e?.forEach(e=>{const a=o?o(e,t,n):C(e,t.type,r);if(a){i.push(a)}});return i}function b(e,t,n){const o=t.getMetaContext(`${n}/${e}`),i=f(o);return i.targetObject}function O(e,t,n,o){const i=e.PropertyName,r={},a=i.value||i?.$PropertyPath,s=e.Ranges??[];const d=b(a,t,n);if(d){const e=y(s,d,a,o);if(e.length){r[a]=(r[a]||[]).concat(e)}}return r}function v(e,t,n,o){let i={};if(!n){return i}const r=n.SelectOptions,s=n.Parameters;r?.forEach(n=>{const r=n.PropertyName;const a=r.value||r.$PropertyPath;if(Object.keys(i).includes(a)){i[a]=i[a].concat(O(n,t,e,o)[a])}else{i={...i,...O(n,t,e,o)}}});s?.forEach(e=>{const t=e.PropertyName.value||e.PropertyName.$PropertyPath;const n=o?{operator:"EQ",value1:e.PropertyValue,value2:null,path:t,isParameter:true}:{operator:"EQ",values:[e.PropertyValue],isEmpty:null,validated:a.Validated,isParameter:true};i[t]=[n]});return i}c.getFiltersConditionsFromSelectionVariant=v;function C(t,n,o){let i=arguments.length>3&&arguments[3]!==undefined?arguments[3]:[];let s=arguments.length>4&&arguments[4]!==undefined?arguments[4]:[];let d;try{const e=T(t.Sign);const c=T(t.Option);const l=E(t.Low,n,c);const u=t.High?E(t.High,n,c):undefined;const f=h(c,l,u,e,i,s,n);if(f){const e=o&&f.operator==="EQ"?a.Validated:a.NotValidated;d=r.createCondition(f.operator,f.values,null,null,e)}}catch(t){const n=t instanceof Error?t.message:String(t);e.error(`FE : Core : FilterHelper : getConditions : ${n}`)}return d}c.getConditions=C;const N=function(e,t){const n={};const o=e.getInterface(1).getPath(),i=e.getInterface(1).getModel();if(t){for(const e in t){const t=i.getObject(`${o}/${e}@com.sap.vocabularies.Common.v1.FilterDefaultValue`);if(t!==undefined){const o=e;n[o]=[r.createCondition("EQ",[t],null,null,a.Validated)]}}}return n};const $=function(e,t){const n={};const o=e.getInterface(1);const i=o.getModel();const a=o.getPath();for(const e in t){if(t[e][0]){const o=e.split("::");let s="";const d=o.length;const c=o.slice(0,o.length-1).join("/");const l=o[d-1];if(c){const e=i.getObject(a+"/"+c);if(e.$kind==="NavigationProperty"&&e.$isCollection){s+=`${c}*/`}else if(e.$kind==="NavigationProperty"){s+=`${c}/`}}s+=l;const u="values"in t[e][0]?t[e][0].values:[];n[s]=[r.createCondition(t[e][0].operator,u,null,null,null)]}}return n};function S(){const e={};e["$editState"]=[r.createCondition("DRAFT_EDIT_STATE",["ALL"],null,null,a.Validated)];return e}c.getEditStatusFilter=S;function D(e,t,n,o){let i=arguments.length>4&&arguments[4]!==undefined?arguments[4]:true;let r;const a=e.getInterface(1).getPath(),s=e.getInterface(1).getModel(),d=s?.getObject(`${a}@`),c=s?.getObject(`${a}/`);if(d&&(d["@com.sap.vocabularies.Common.v1.DraftRoot"]||d["@com.sap.vocabularies.Common.v1.DraftNode"])&&i){r=S()}const l=t?.selectionVariant;const u=t?.defaultSemanticDates||{};const f=N(e,c);const p=$(e,u);let g={};if(l){g=v(a,s,l)}else if(f){g=f}if(p){g={...g,...p}}if(r){g={...g,...r}}const m=o?.controlConfiguration?.["@com.sap.vocabularies.UI.v1.SelectionFields"]??{};g=P(e.getInterface(1),g,m);return Object.keys(g).length>0?JSON.stringify(g).replace(/([{}])/g,"\\$1"):undefined}c.getFilterConditions=D;D.requiresIContext=true;function P(t,n,o){const r=t.getModel();const{filterFields:a={},useSemanticDateRange:d=true}=o;for(const o in n){try{const e=r.createBindingContext(`${t.getPath()}/${o}`);const c=e?.getObject();const l=a[o]?.settings;if(e){const r=i.operators(e,c,d,s.stringifyCustomData(l),t.getPath()||"");const a=r?r.split(","):[];n[o]=F(a,n[o],o)}}catch(t){const n=t instanceof Error?t.message:String(t);e.error(`FE : FilterBar : Error determining conditions for supported operators of property ${o} : ${n}`)}}return n}c.getConditionsOfSupportedOperators=P;function F(t,n,o){let i=n;const r=d.getSemanticDateOperations();if(t.length>0){i=n.filter(n=>{const i=n.operator;if(r.includes(i)&&!t.includes(i)){e.warning(`FE : FilterBar : ${i} not supported for property ${o}. Hence, not applied to FilterBar.`);return false}return true},[])}return i}return c},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/filterBar/SemanticDateOperators", ["sap/fe/core/templating/DisplayModeFormatter","sap/fe/macros/filterBar/DefaultSemanticDateOperators","sap/fe/macros/filterBar/ExtendedSemanticDateOperators","sap/ui/model/Filter","sap/ui/model/FilterOperator"],function(e,t,n,r,a){"use strict";var o=e.ODATA_TYPE_MAPPING;const s=["TODAY","TOMORROW","YESTERDAY"];const i=["DATE","FROM","TO","DATERANGE"];function c(e,t){if(!t){return true}t=Array.isArray(t)?t:[t];const r=e["key"];const a=n.isExtendedOperator(r);let o;const s=t.some(function(t){let n;if(!t.path){return false}const r=e[t.path];const s=t.exclude??a??false;let i;if(t.contains&&r){i=t.contains.split(",");for(n=0;n<i.length;n++){if(s&&r.includes(i[n])){o=false;return true}else if(!s&&r.includes(i[n])){o=true;return true}}}if(t.equals&&r){i=t.equals.split(",");for(n=0;n<i.length;n++){if(s&&r===i[n]){o=false;return true}else if(!s&&r===i[n]){o=true;return true}}}return false});return s?o:!a}function l(e){return{...t.getOperatorsInfo(e),...n.getOperatorsInfo()}}const f={getBasicSemanticDateOperations:function(){return[...i]},getSemanticDateOperations:function(e){return[...t.getSemanticDateOperations(e),...n.getSemanticDateOperations()]},removeSemanticDateOperators:function(){},getFilterOperations:function(e,t){const n=[];const r=l(t);for(const t in r){const a=r[t];if(c(a,e)){n.push(a)}}return n.map(function(e){return e.key})},hasSemanticDateOperations:function(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;const n=this.getSemanticDateOperations();for(const r in e){const a=e[r];const o=a.find(function(e){return n.includes(e.operator)});if(o){if(t){return true}else{return!i.includes(o.operator)}}}return false},getSemanticOpsFilterProperties:function(e){const t=[];for(const[n,r]of Object.entries(e)){const e=r[0].SemanticDates;if(e&&!i.includes(e.operator)){t.push({filterName:n,filterSemanticInfo:e,filterType:""})}}return t},getSemanticDateFiltersWithFlpPlaceholders(e,t){const i=[];const c={};e.forEach(e=>{let{filterName:l,filterSemanticInfo:f,filterType:u}=e;const p=t.find(e=>e.key===l);if(p&&p.typeConfig?.className){u=o[p.typeConfig?.className]}const d=f.operator;const m=f.high;const O=f.low;if(d){let e;const t=n.isExtendedOperator(d);const o=t?n.getCorrespondingSingleDateOperator(d):d;if((t||s.includes(d))&&u!=="Edm.DateTimeOffset"){const a=`${l}placeholder`;const s=t?n.getFilterOperator(d):"EQ";e=new r({path:l,operator:s,value1:a});c[a]=`{${u}%%DynamicDate.${o}%%}`}else{const s=[o,m,O].filter(e=>e!==undefined&&e!==null).join(".");const i=`${l}placeholderStart`;const f=`${l}placeholderEnd`;const p=`${u}%%DynamicDate.${s}`;const D=new r({path:l,operator:"GE",value1:i});const g=new r({path:l,operator:"LE",value1:f});if(t){const t=n.getFilterOperator(d);e=t===a.GE?D:g}else{e=new r({filters:[D,g],and:true})}c[i]=`{${p}.start%%}`;c[f]=`{${p}.end%%}`}i.push(e)}});return[c,i]},addSemanticDateOperators(){t.addSemanticDateOperators();n.addExtendedFilterOperators()}};return f},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/filterBar/mixin/FilterBarAPIStateHandler", ["sap/base/Log","sap/fe/core/controllerextensions/viewState/IViewStateContributorMixin","sap/fe/core/library","sap/fe/navigation/library","sap/ui/Device","sap/ui/mdc/p13n/StateUtil"],function(t,e,a,n,i,r){"use strict";var o={};var s=n.NavType;var l=a.InitialLoadMode;function c(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,p(t,e)}function p(t,e){return p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},p(t,e)}let f=function(e){function a(){return e.apply(this,arguments)||this}o=a;c(a,e);var n=a.prototype;n.applyLegacyState=async function t(e,a,n,i){const r=this.content;const o=e(r);const s={};if(o){s.innerState={...o,fullState:{...s.innerState?.fullState,...o.fullState},initialState:{...s.innerState?.initialState,...o.initialState}}}if(s&&Object.keys(s).length>0){await this.applyState(s,a,n,i)}};n.applyState=async function e(a,n,i,o){try{if(a&&n){const t=n.navigationType;if(t===s.hybrid&&a.innerState?.fullState!==undefined){const t=await this.convertSelectionVariantToStateFilters(n.selectionVariant,true);const e={...a.innerState?.fullState,filter:{...a.innerState?.fullState.filter,...t}};await this._clearFilterValuesWithOptions(this.content,{clearEditFilter:true});return await r.applyExternalState(this.content,e)}if(i){const t=await r.diffState(this.content,a.innerState?.initialState,a.innerState?.fullState);return await r.applyExternalState(this.content,t)}else if(o){await this._clearFilterValuesWithOptions(this.content,{clearEditFilter:true})}return await r.applyExternalState(this.content,a?.innerState?.fullState??a)}}catch(e){t.error(e)}finally{this._initialStatePromise.resolve()}};n.retrieveState=async function t(){const e={};e.innerState=this.getControlState(await r.retrieveExternalState(this.content));const a=this.content.getPropertyInfoSet();const n=e.innerState?.filter||{};a.filter(function(t){return Object.keys(n).length>0&&t.path&&n[t.path]&&(t.removeFromAppState||n[t.path].length===0)}).forEach(function(t){if(t.path){delete n[t.path]}});return e};n.setInitialState=async function e(){try{const t=await r.retrieveExternalState(this.content);this.initialControlState=t}catch(e){t.error(e)}};n.applyNavigationParameters=async function e(a){return new Promise(async e=>{try{const n=this.getPageController()?.getView();const r=this.getPageController();const o=r.getAppComponent();const c=o.getComponentData();const p=c&&c.startupParameters||{};let f;let u=false;if(a.applyVariantFromURLParams??false){f=await this.handleVariantIdPassedViaURLParams(p)}if(f&&f?.length>0){if(f[0]===true||f[1]===true){u=true}}const h=this.getContent();const{selectionVariant:S,requiresStandardVariant:y=false}=a;if(!h||!S){e()}await this._applySelectionVariant(n,a,u);let g=false;const d=this._getFilterBarVM(n);if(h){if(a.navigationType!==s.initial&&y||!d&&n.getViewData().initialLoad===l.Enabled||r._shouldAutoTriggerSearch(d)){const t=h.getParent();t.triggerSearch()}else{g=this._preventInitialSearch(d)}if(!i.system.desktop){const t=n.getBindingContext("internal");const e=this.isSearchTriggeredByInitialLoad(a.navigationType);t.setProperty("searchTriggeredByInitialLoad",e)}this._enableFilterBar(h,g)}else{t.warning("Did not finish applying navigation parameters - Filter bar not found.")}e()}catch{e();t.warning("Could not apply navigation parameters.")}})};return a}(e);o=f;return o},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/form/CustomFormElement", ["sap/fe/base/ClassSupport","sap/fe/core/buildingBlocks/BuildingBlock","sap/fe/macros/Field"],function(e,t,r){"use strict";var i,n,o,a,l,u,s,c,f,p,d;var m={};var b=e.property;var h=e.implementInterface;var g=e.defineUI5Class;function y(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function _(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,v(e,t)}function v(e,t){return v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},v(e,t)}function F(e,t,r,i,n){var o={};return Object.keys(i).forEach(function(e){o[e]=i[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer?(Object.defineProperty(e,t,o),null):o}function E(e,t){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let P=(i=g("sap.fe.macros.form.CustomFormElement"),n=h("sap.ui.core.IFormContent"),o=b({type:"string",required:true}),a=b({type:"string"}),l=b({type:"string",required:true}),i(u=(s=function(e){function t(t,r){var i;i=e.call(this,t,r)||this;y(i,"__implements__sap_ui_core_IFormContent",c,i);y(i,"metaPath",f,i);y(i,"contextPath",p,i);y(i,"formElementKey",d,i);return i}m=t;_(t,e);var i=t.prototype;i.getFormDoNotAdjustWidth=function e(){return this.content?.getFormDoNotAdjustWidth?.()??false};i.onMetadataAvailable=function e(){this.setUpSidesEffectHandlingForContent()};i.setUpSidesEffectHandlingForContent=function e(){if(!this.content||!this.metaPath){return}const t=this.getAppComponent();const r=this.getDataModelObjectForMetaPath(this.metaPath,this.contextPath);if(!t||!r){return}const i=t.getSideEffectsService();this.fieldGroupIds=i.computeFieldGroupIds(r.targetEntityType?.fullyQualifiedName??"",r.targetObject?.fullyQualifiedName??"");if(this.fieldGroupIds.length===0){return}this.fieldGroupIds.push(`fe_sideEffectHandling_${this.formElementKey}`);const n=this.content?.findAggregatedObjects(true,e=>e.isA("sap.ui.core.Control"))??[];for(const e of n){this.setUpSidesEffectHandlingForControl(e)}};i.setUpSidesEffectHandlingForControl=function e(t){if(t.getFieldGroupIds()?.length){return}t.setFieldGroupIds(this.fieldGroupIds);t.attachValidateFieldGroup(e=>{r.onValidateFieldGroup(e)})};return t}(t),c=F(s.prototype,"__implements__sap_ui_core_IFormContent",[n],{configurable:true,enumerable:true,writable:true,initializer:function(){return true}}),f=F(s.prototype,"metaPath",[o],{configurable:true,enumerable:true,writable:true,initializer:null}),p=F(s.prototype,"contextPath",[a],{configurable:true,enumerable:true,writable:true,initializer:null}),d=F(s.prototype,"formElementKey",[l],{configurable:true,enumerable:true,writable:true,initializer:null}),s))||u);m=P;return m},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/form/Form.block", ["sap/fe/base/BindingToolkit","sap/fe/core/buildingBlocks/templating/BuildingBlockSupport","sap/fe/core/buildingBlocks/templating/BuildingBlockTemplateProcessor","sap/fe/core/buildingBlocks/templating/BuildingBlockTemplatingBase","sap/fe/core/converters/MetaModelConverter","sap/fe/core/converters/annotations/DataField","sap/fe/core/converters/controls/Common/Form","sap/fe/core/converters/helpers/ID","sap/fe/core/helpers/BindingHelper","sap/fe/core/templating/DataModelPathHelper","sap/fe/macros/form/FormHelper","sap/ui/core/library","sap/ui/model/odata/v4/AnnotationHelper"],function(e,t,a,i,r,n,o,l,s,u,c,p,m){"use strict";var f,b,h,d,g,y,v,$,C,P,L,F,T,x,I,S,w,M,k,z,A,B,E,O,D,j,U,_,N,X,V;var R={};var G=p.TitleLevel;var H=u.getContextRelativeTargetObjectPath;var q=s.UI;var Q=l.getFormContainerID;var W=o.createFormDefinition;var J=n.hasIdentificationTarget;var K=n.hasFieldGroupTarget;var Y=r.getInvolvedDataModelObjects;var Z=a.xml;var ee=t.defineBuildingBlock;var te=t.blockEvent;var ae=t.blockAttribute;var ie=t.blockAggregation;var re=e.resolveBindingString;var ne=e.ifElse;var oe=e.getExpressionFromAnnotation;var le=e.equal;var se=e.compileExpression;function ue(e,t,a,i){a&&Object.defineProperty(e,t,{enumerable:a.enumerable,configurable:a.configurable,writable:a.writable,value:a.initializer?a.initializer.call(i):void 0})}function ce(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,pe(e,t)}function pe(e,t){return pe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},pe(e,t)}function me(e,t,a,i,r){var n={};return Object.keys(i).forEach(function(e){n[e]=i[e]}),n.enumerable=!!n.enumerable,n.configurable=!!n.configurable,("value"in n||n.initializer)&&(n.writable=!0),n=a.slice().reverse().reduce(function(a,i){return i(e,t,a)||a},n),r&&void 0!==n.initializer&&(n.value=n.initializer?n.initializer.call(r):void 0,n.initializer=void 0),void 0===n.initializer?(Object.defineProperty(e,t,n),null):n}function fe(e,t){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let be=(f=ee({name:"Form",namespace:"sap.fe.macros.internal",publicNamespace:"sap.fe.macros",returnTypes:["sap.fe.macros.form.FormAPI"]}),b=ae({type:"string",isPublic:true,required:true}),h=ae({type:"sap.ui.model.Context",required:true,isPublic:true,expectedTypes:["EntitySet","NavigationProperty","Singleton","EntityType"]}),d=ae({type:"sap.ui.model.Context",isPublic:true,required:true,expectedAnnotationTypes:["com.sap.vocabularies.UI.v1.FieldGroupType","com.sap.vocabularies.UI.v1.CollectionFacet","com.sap.vocabularies.UI.v1.ReferenceFacet"],expectedTypes:["EntitySet","EntityType","Singleton","NavigationProperty"]}),g=ae({type:"array"}),y=ae({type:"boolean"}),v=ae({type:"boolean"}),$=ae({type:"string",isPublic:true}),C=ae({type:"sap.ui.core.TitleLevel",isPublic:true}),P=ae({type:"string"}),L=ae({type:"string"}),F=ae({type:"string"}),T=te(),x=ie({type:"sap.fe.macros.form.FormElement",isPublic:true,slot:"formElements",isDefault:true}),I=ae({type:"object",isPublic:true}),f(S=(w=function(e){function t(t,a,i){var r;r=e.call(this,t,a,i)||this;ue(r,"id",M,r);ue(r,"contextPath",k,r);ue(r,"metaPath",z,r);ue(r,"formContainers",A,r);ue(r,"useFormContainerLabels",B,r);ue(r,"partOfPreview",E,r);ue(r,"title",O,r);ue(r,"titleLevel",D,r);ue(r,"ariaLabelledBy",j,r);ue(r,"displayMode",U,r);ue(r,"isVisible",_,r);ue(r,"onChange",N,r);ue(r,"formElements",X,r);ue(r,"layout",V,r);if(r.metaPath&&r.contextPath&&(r.formContainers===undefined||r.formContainers===null)){const e=Y(r.metaPath,r.contextPath);const t={};let a=e.targetObject;let n=false;if(a&&a.$Type==="com.sap.vocabularies.UI.v1.FieldGroupType"){n=true;a={$Type:"com.sap.vocabularies.UI.v1.ReferenceFacet",Label:a.Label,Target:{$target:a,fullyQualifiedName:a.fullyQualifiedName,path:"",term:"",type:"AnnotationPath",value:H(e)},annotations:{},fullyQualifiedName:a.fullyQualifiedName};if(r.formElements){t[a.Target.value]={fields:r.formElements}}}const o=r.getConverterContext(e,undefined,i,t);const l=W(a,r.isVisible,o);if(n){l.formContainers[0].annotationPath=r.metaPath.getPath()}r.formContainers=l.formContainers;r.useFormContainerLabels=l.useFormContainerLabels;r.facetType=a&&a.$Type}else{r.facetType=r.metaPath.getObject()?.$Type}if(!r.isPublic){r._apiId=r.createId("Form");r._contentId=r.id}else{r._apiId=r.id;r._contentId=`${r.id}-content`}if(r.displayMode!==undefined){r._editable=se(ne(le(re(r.displayMode,"boolean"),false),true,false))}else{r._editable=se(q.IsEditable)}return r}R=t;ce(t,e);var a=t.prototype;a.getDataFieldCollection=function e(t,a){const i=Y(a).targetObject;let r;let n;if(i.$Type==="com.sap.vocabularies.UI.v1.ReferenceFacet"){r=m.getNavigationPath(i.Target.value);n=i}else{const e=this.contextPath.getPath();let t=a.getPath();if(t.startsWith(e)){t=t.substring(e.length);if(t.charAt(0)==="/"){t=t.slice(1)}}r=m.getNavigationPath(t);n=t}const o=c.getFormContainerTitleLevel(this.title,this.titleLevel);const l=this.useFormContainerLabels&&i.Label?oe(i.Label):"";const s=this.id?Q(n):undefined;return Z`
					<macro:FormContainer
					xmlns:macro="sap.fe.macros"
					${this.attr("id",s)}
					title="${l}"
					titleLevel="${o}"
					contextPath="${r?t.entitySet:this.contextPath}"
					metaPath="${a}"
					dataFieldCollection="${t.formElements}"
					navigationPath="${r}"
					visible="${t.isVisible}"
					displayMode="${this.displayMode}"
					onChange="${this.onChange}"
					actions="${t.actions}"
					useSingleTextAreaFieldAsNotes="${t.useSingleTextAreaFieldAsNotes}"
					hasUiHiddenAnnotation="${t.annotationHidden}"
				>
				<macro:formElements>
					<slot name="formElements" />
				</macro:formElements>
			</macro:FormContainer>`};a.getFormContainers=function e(){if(this.formContainers.length===0){return""}if(this.facetType?.includes("com.sap.vocabularies.UI.v1.CollectionFacet")){return this.formContainers.map((e,t)=>{if(e.isVisible){const a=this.contextPath.getModel().createBindingContext(e.annotationPath,this.contextPath);const i=a.getObject();if(i.$Type==="com.sap.vocabularies.UI.v1.ReferenceFacet"&&c.isReferenceFacetPartOfPreview(i,this.partOfPreview)){if(i.Target.$AnnotationPath.$Type==="com.sap.vocabularies.Communication.v1.AddressType"){return Z`<template:with path="formContainers>${t}" var="formContainer">
											<template:with path="formContainers>${t}/annotationPath" var="facet">
												<core:Fragment fragmentName="sap.fe.macros.form.AddressSection" type="XML" />
											</template:with>
										</template:with>`}return this.getDataFieldCollection(e,a)}}return""})}else if(this.facetType==="com.sap.vocabularies.UI.v1.ReferenceFacet"){return this.formContainers.map(e=>{if(e.isVisible){const t=this.contextPath.getModel().createBindingContext(e.annotationPath,this.contextPath);return this.getDataFieldCollection(e,t)}else{return""}})}return""};a.checkIfTextAreaIsAlone=function e(){if(this.formContainers.length===1){if(this.formContainers[0].formElements.length===1){const e=Y(this.contextPath.getModel().createBindingContext(this.formContainers[0].annotationPath,this.contextPath)).targetObject;let t;let a;if(e.$Type==="com.sap.vocabularies.UI.v1.FieldGroupType"){t=e}else if(K(e)){t=e?.Target?.$target}else if(J(e)){a=e?.Target?.$target}if(t?.Data.length===1){return t.Data[0]?.Value?.$target?.annotations?.UI?.MultiLineText?.valueOf()===true}if(a?.length===1){return a[0]?.Value?.$target?.annotations?.UI?.MultiLineText?.valueOf()===true}}}return false};a.getLayoutInformation=function e(t){switch(this.layout.type){case"ResponsiveGridLayout":return Z`<f:ResponsiveGridLayout adjustLabelSpan="${this.layout.adjustLabelSpan}"
													breakpointL="${this.layout.breakpointL}"
													breakpointM="${this.layout.breakpointM}"
													breakpointXL="${this.layout.breakpointXL}"
													columnsL="${t?1:this.layout.columnsL}"
													columnsM="${t?1:this.layout.columnsM}"
													columnsXL="${t?1:this.layout.columnsXL}"
													emptySpanL="${this.layout.emptySpanL}"
													emptySpanM="${this.layout.emptySpanM}"
													emptySpanS="${this.layout.emptySpanS}"
													emptySpanXL="${this.layout.emptySpanXL}"
													labelSpanL="${this.layout.labelSpanL}"
													labelSpanM="${this.layout.labelSpanM}"
													labelSpanS="${this.layout.labelSpanS}"
													labelSpanXL="${this.layout.labelSpanXL}"
													singleContainerFullSize="${this.layout.singleContainerFullSize}"
													backgroundDesign="${this.layout.backgroundDesign}" />`;case"ColumnLayout":default:return Z`<f:ColumnLayout
								columnsM="${t?1:this.layout.columnsM}"
								columnsL="${t?1:this.layout.columnsL}"
								columnsXL="${t?1:this.layout.columnsXL}"
								labelCellsLarge="${this.layout.labelCellsLarge}"
								emptyCellsLarge="${this.layout.emptyCellsLarge}"
								backgroundDesign="${this.layout.backgroundDesign}" />`}};a.getTemplate=function e(){const t=this.onChange&&this.onChange.replace("{","\\{").replace("}","\\}")||"";const a=this.metaPath.getPath();const i=this.contextPath.getPath();const r=this.checkIfTextAreaIsAlone();if(!this.isVisible){return""}else{return Z`<macro:FormAPI xmlns:macro="sap.fe.macros.form"
					xmlns:macrodata="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1"
					xmlns:f="sap.ui.layout.form"
					xmlns:fl="sap.ui.fl"
					xmlns:dt="sap.ui.dt"
					xmlns:coreControls="sap.fe.core.controls"
					id="${this._apiId}"
					metaPath="${a}"
					contextPath="${i}">
				<f:Form
					fl:delegate='{
						"name": "sap/fe/macros/form/FormDelegate",
						"delegateType": "complete"
					}'
					dt:designtime="sap/fe/macros/form/Form.designtime"
					id="${this._contentId}"
					editable="${this._editable}"
					visible="${this.isVisible}"
					macrodata:navigationPath="${i}"
					macrodata:metaPath="${a}"
					macrodata:onChange="${t}"
					ariaLabelledBy="${this.ariaLabelledBy}"
				>
					${this.addConditionally(this.title!==undefined,Z`<f:title>
							<core:Title level="${this.titleLevel}" text="${this.title}" />
						</f:title>`)}
					<f:layout>
					${this.getLayoutInformation(r)}

					</f:layout>
					<f:formContainers>
						${this.getFormContainers()}
					</f:formContainers>
					<f:dependents>
						<coreControls:HideFormGroupAutomatically />
					</f:dependents>
				</f:Form>
			</macro:FormAPI>`}};return t}(i),M=me(w.prototype,"id",[b],{configurable:true,enumerable:true,writable:true,initializer:null}),k=me(w.prototype,"contextPath",[h],{configurable:true,enumerable:true,writable:true,initializer:null}),z=me(w.prototype,"metaPath",[d],{configurable:true,enumerable:true,writable:true,initializer:null}),A=me(w.prototype,"formContainers",[g],{configurable:true,enumerable:true,writable:true,initializer:null}),B=me(w.prototype,"useFormContainerLabels",[y],{configurable:true,enumerable:true,writable:true,initializer:null}),E=me(w.prototype,"partOfPreview",[v],{configurable:true,enumerable:true,writable:true,initializer:function(){return true}}),O=me(w.prototype,"title",[$],{configurable:true,enumerable:true,writable:true,initializer:null}),D=me(w.prototype,"titleLevel",[C],{configurable:true,enumerable:true,writable:true,initializer:function(){return G.Auto}}),j=me(w.prototype,"ariaLabelledBy",[P],{configurable:true,enumerable:true,writable:true,initializer:null}),U=me(w.prototype,"displayMode",[L],{configurable:true,enumerable:true,writable:true,initializer:null}),_=me(w.prototype,"isVisible",[F],{configurable:true,enumerable:true,writable:true,initializer:function(){return"true"}}),N=me(w.prototype,"onChange",[T],{configurable:true,enumerable:true,writable:true,initializer:null}),X=me(w.prototype,"formElements",[x],{configurable:true,enumerable:true,writable:true,initializer:null}),V=me(w.prototype,"layout",[I],{configurable:true,enumerable:true,writable:true,initializer:function(){return{type:"ColumnLayout",columnsM:3,columnsXL:6,columnsL:4,labelCellsLarge:12}}}),w))||S);R=be;return R},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/form/Form", ["sap/fe/base/ClassSupport","sap/fe/core/buildingBlocks/templating/BuildingBlockSupport","sap/fe/macros/controls/BuildingBlockWithTemplating","sap/fe/macros/form/Form.block"],function(t,e,r,i){"use strict";var n,o,a,c;var l={};var u=e.convertBuildingBlockMetadata;var p=t.xmlEventHandler;var s=t.defineUI5Class;function f(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,v(t,e)}function v(t,e){return v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},v(t,e)}function b(t,e,r,i,n){var o={};return Object.keys(i).forEach(function(t){o[t]=i[t]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=r.slice().reverse().reduce(function(r,i){return i(t,e,r)||r},o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer?(Object.defineProperty(t,e,o),null):o}let d=(n=s("sap.fe.macros.form.Form",u(i)),o=p(),n(a=(c=function(t){function e(e,r){return t.call(this,e,r)||this}l=e;f(e,t);var r=e.prototype;r._fireEvent=function t(e,r,i){this.fireEvent(i,e.getParameters())};r.setMetaPath=function t(e){return this.setProperty("metaPath",e)};r.getMetaPath=function t(){return this.getProperty("metaPath")};return e}(r),b(c.prototype,"_fireEvent",[o],Object.getOwnPropertyDescriptor(c.prototype,"_fireEvent"),c.prototype),c))||a);l=d;return l},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/form/FormAPI", ["sap/fe/base/ClassSupport","sap/m/Title","../MacroAPI","./FormContainerAPI"],function(e,t,r,i){"use strict";var n,o,a,l,c,u,s,f,p,b,g;var m=e.property;var v=e.implementInterface;var y=e.defineUI5Class;function d(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function _(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,h(e,t)}function h(e,t){return h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},h(e,t)}function T(e,t,r,i,n){var o={};return Object.keys(i).forEach(function(e){o[e]=i[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer?(Object.defineProperty(e,t,o),null):o}function z(e,t){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let P=(n=y("sap.fe.macros.form.FormAPI"),o=v("sap.fe.macros.controls.section.ISingleSectionContributor"),a=m({type:"string"}),l=m({type:"string",expectedAnnotations:["@com.sap.vocabularies.UI.v1.FieldGroup","@com.sap.vocabularies.UI.v1.CollectionFacet","@com.sap.vocabularies.UI.v1.ReferenceFacet"],expectedTypes:["EntitySet","EntityType","Singleton","NavigationProperty"]}),c=m({type:"string"}),n(u=(s=function(e){function r(){var t;for(var r=arguments.length,i=new Array(r),n=0;n<r;n++){i[n]=arguments[n]}t=e.call(this,...i)||this;d(t,"__implements__sap_fe_macros_controls_section_ISingleSectionContributor",f,t);d(t,"id",p,t);d(t,"metaPath",b,t);d(t,"title",g,t);return t}_(r,e);var n=r.prototype;n.getSectionContentRole=function e(){return"provider"};n.getDataFromProvider=function e(r){const n=this.content;const o=n.getFormContainers();if(r&&o.length){o.forEach(e=>{i.setTextAreaLabelVisibility(e)})}let a="";if(o.length===1){const e=n.getTitle()?.getText();if(e){a=e;n.setTitle("");return{title:a}}const r=o[0]?.getTitle()?.getText();if(r&&r!==""){a=r}let i;o[0].getAggregation("toolbar")?.getContent().forEach(function(e){if(e.isA("sap.m.Title")){i=e;const t=e.getText();if(t&&t!=""){a=e.getText()}}});if(a&&a!==""){o[0]?.setTitle("");i?.setTitle(new t(""));return{title:a}}}return{title:a}};return r}(r),f=T(s.prototype,"__implements__sap_fe_macros_controls_section_ISingleSectionContributor",[o],{configurable:true,enumerable:true,writable:true,initializer:function(){return true}}),p=T(s.prototype,"id",[a],{configurable:true,enumerable:true,writable:true,initializer:null}),b=T(s.prototype,"metaPath",[l],{configurable:true,enumerable:true,writable:true,initializer:null}),g=T(s.prototype,"title",[c],{configurable:true,enumerable:true,writable:true,initializer:null}),s))||u);return P},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/form/FormContainer.block", ["sap/fe/core/buildingBlocks/templating/BuildingBlockSupport","sap/fe/core/buildingBlocks/templating/BuildingBlockTemplateProcessor","sap/fe/core/buildingBlocks/templating/BuildingBlockTemplatingBase","sap/fe/core/converters/MetaModelConverter","sap/fe/core/converters/controls/Common/Form","sap/fe/core/helpers/StableIdHelper","sap/fe/core/templating/DataModelPathHelper","sap/fe/core/templating/UIFormatters","../CommonHelper","../field/FieldTemplating","./FormHelper"],function(e,t,i,a,n,o,r,l,s,m,d){"use strict";var c,u,p,f,h,g,b,F,$,x,P,y,E,v,C,O,M,B,w,I,D,L,k,T,A,H,S,z,j,U,V,N,G,R,q;var Q={};var W=m.getVisibleExpression;var _=l.isMultiValueField;var K=l.getRequiredExpressionForConnectedDataField;var X=r.getContextRelativeTargetObjectPath;var J=r.enhanceDataModelPath;var Y=n.createFormDefinition;var Z=a.getInvolvedDataModelObjects;var ee=t.xml;var te=e.defineBuildingBlock;var ie=e.blockEvent;var ae=e.blockAttribute;var ne=e.blockAggregation;function oe(e,t,i,a){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(a):void 0})}function re(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,le(e,t)}function le(e,t){return le=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},le(e,t)}function se(e,t,i,a,n){var o={};return Object.keys(a).forEach(function(e){o[e]=a[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce(function(i,a){return a(e,t,i)||i},o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer?(Object.defineProperty(e,t,o),null):o}function me(e,t){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let de=(c=te({name:"FormContainer",namespace:"sap.fe.macros"}),u=ae({type:"string"}),p=ae({type:"sap.ui.model.Context",required:true,isPublic:true,expectedTypes:["EntitySet","NavigationProperty","EntityType","Singleton"]}),f=ae({type:"sap.ui.model.Context"}),h=ae({type:"sap.ui.model.Context",isPublic:true,required:true}),g=ae({type:"array"}),b=ae({type:"boolean"}),F=ae({type:"string"}),$=ae({type:"sap.ui.core.TitleLevel",isPublic:true}),x=ae({type:"string"}),P=ae({type:"string"}),y=ae({type:"boolean"}),E=ae({type:"string"}),v=ae({type:"array"}),C=ae({type:"boolean"}),O=ne({type:"sap.fe.macros.form.FormElement"}),M=ie(),c(B=(w=function(e){function t(t,i,a){var n;n=e.call(this,t)||this;oe(n,"id",I,n);oe(n,"contextPath",D,n);oe(n,"entitySet",L,n);oe(n,"metaPath",k,n);oe(n,"dataFieldCollection",T,n);oe(n,"displayMode",A,n);oe(n,"title",H,n);oe(n,"titleLevel",S,n);oe(n,"navigationPath",z,n);oe(n,"visible",j,n);oe(n,"hasUiHiddenAnnotation",U,n);oe(n,"designtimeSettings",V,n);oe(n,"actions",N,n);oe(n,"useSingleTextAreaFieldAsNotes",G,n);oe(n,"formElements",R,n);oe(n,"onChange",q,n);n.entitySet=n.contextPath;if(n.formElements&&Object.keys(n.formElements).length>0){const e=Z(n.metaPath,n.contextPath);const t={};let i=e.targetObject;i={$Type:"com.sap.vocabularies.UI.v1.ReferenceFacet",Label:i?.Label,Target:{$target:i,fullyQualifiedName:i?.fullyQualifiedName,path:"",term:"",type:"AnnotationPath",value:X(e)},annotations:{},fullyQualifiedName:i?.fullyQualifiedName};t[i.Target.value]={fields:n.formElements};const o=n.getConverterContext(e,undefined,a,t);const r=Y(i,"true",o);n.dataFieldCollection=r.formContainers[0].formElements}n.contentId=a.viewId;return n}Q=t;re(t,e);var i=t.prototype;i.getTemplate=function e(){const t=this.id?o.generate([this.id,"FormActionsToolbar"]):undefined;const i=Z(this.contextPath,this.metaPath);const a=d.generateBindingExpression(this.navigationPath,i);return ee`
		<f:FormContainer
			xmlns="sap.m"
			xmlns:f="sap.ui.layout.form"
			xmlns:macro="sap.fe.macros"
			xmlns:macroForm="sap.fe.macros.form"
			xmlns:internalMacro="sap.fe.macros.internal"
			xmlns:core="sap.ui.core"
			xmlns:controls="sap.fe.macros.controls"
			xmlns:dt="sap.ui.dt"
			xmlns:macrodata="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1"
			xmlns:fpm="sap.fe.macros.fpm"
			xmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"
			template:require="{
				MODEL: 'sap/ui/model/odata/v4/AnnotationHelper',
				ID: 'sap/fe/core/helpers/StableIdHelper',
				COMMON: 'sap/fe/macros/CommonHelper',
				FORM: 'sap/fe/macros/form/FormHelper',
				UI: 'sap/fe/core/templating/UIFormatters',
				DataField: 'sap/fe/core/templating/DataFieldFormatters',
				FieldTemplating: 'sap/fe/macros/field/FieldTemplating',
				Property: 'sap/fe/core/templating/PropertyFormatters',
				FIELD: 'sap/fe/macros/field/FieldHelper',
				MACRO: 'sap/fe/macros/MacroTemplating'
			}"

			core:require="{FormContainerRuntime: 'sap/fe/macros/form/FormContainerAPI'}"
			dt:designtime="${this.designtimeSettings}"
			id="${this.id||undefined}"
			visible="${this.visible}"
			macrodata:navigationPath="${this.navigationPath}"
			macrodata:etName="${this.contextPath.getObject("./@sapui.name")}"
			macrodata:UiHiddenPresent="${this.hasUiHiddenAnnotation}"
		>

			<template:if test="${this.title}">
				<f:title>
					<core:Title level="${this.titleLevel}" text="${this.title}" />
				</f:title>
			</template:if>

			<template:if test="${this.actions}">
				<template:then>
					<f:toolbar>
						<OverflowToolbar
							id="${t}"
							${this.attr("binding",a)}
						>
							<Title level="${this.titleLevel}" text="${this.title}" />
							<ToolbarSpacer />
							<template:repeat list="{actions>}" var="action">
								<core:Fragment fragmentName="sap.fe.macros.form.FormActionButtons" type="XML" />
							</template:repeat>
						</OverflowToolbar>
					</f:toolbar>
				</template:then>
			</template:if>

			<f:dependents>
				<macroForm:FormContainerAPI formContainerId="${this.id}" showDetails="{internal>showDetails}" />
			</f:dependents>

			<f:formElements>
				${this.getTemplatedFormElements()}
			</f:formElements>

		</f:FormContainer>`};i.getTemplatedFormElements=function e(){return ee`
			<template:with path="dataFieldCollection>" var="formElements">
				${this.getInnerTemplatedFormElements()}
			</template:with>`};i.getInnerTemplatedFormElements=function e(){let t="";if(this.dataFieldCollection&&this.dataFieldCollection.length>0){const e=this.dataFieldCollection.find(e=>!!e.annotationPath);let i="";const a=this.id?.includes("HeaderFacet::FormContainer")===true;let n="undefined";if(this.id){if(a){n=`${this.id}::FormElement`;i=`${this.id}::FormElement`}else{n=`${o.generate([this.id,"FormElement",this.dataFieldCollection[0].key])}`;i=`${o.generate([this.id,"FormElement",this.dataFieldCollection[0].key])}`}}if(e?.annotationPath){const a=Z(this.contextPath.getModel().createBindingContext(e?.annotationPath||""));const r=d.generateBindingExpression(this.navigationPath,a);const l=a?.targetObject?.annotations?.UI?.AdaptationHidden?"not-adaptable-tree":"sap/fe/macros/form/FormElement.designtime";t=ee`
				<template:then>
					<template:with path="formElements>0/annotationPath" var="dataPoint">
						<f:FormElement
							dt:designtime="${l}"
							id="${n}"
							label="{dataPoint>@@FIELD.computeLabelText}"
							visible="${W(a)}"
							${this.attr("binding",r)}
						>
							<f:fields>
								<macro:Field
									idPrefix="${i}"
									vhIdPrefix="${this.id?o.generate([this.id,"FieldValueHelp"]):""}"
									contextPath="${this.entitySet?.getPath()}"
									metaPath="${this.dataFieldCollection[0].annotationPath}"
									editMode="${this.displayMode===true?"Display":undefined}"
									onChange="${this.onChange}"
								>
									<formatOptions textAlignMode="Form" showEmptyIndicator="true" />
								</macro:Field>
							</f:fields>
						</f:FormElement>
					</template:with>
				</template:then>
			`}}const i=ee`
		<template:elseif
			test="{= \${formElements>0/annotationPath}.indexOf('com.sap.vocabularies.Communication.v1.Contact') > -1 }"
			>
			<template:with path="formElements>0/annotationPath" var="metaPath">
				<f:FormElement
					dt:designtime="{= \${metaPath>./@com.sap.vocabularies.UI.v1.AdaptationHidden} ? 'not-adaptable-tree' :  'sap/fe/macros/form/FormElement.designtime' }"
					binding="{= FORM.generateBindingExpression(\${this.navigationPath},\${contextPath>@@UI.getDataModelObjectPath})}"
				>
				<f:label>
					<Label
						text="{metaPath>fn/$Path@com.sap.vocabularies.Common.v1.Label}"
						visible="{= FieldTemplating.getVisibleExpression(\${dataField>@@UI.getDataModelObjectPath})}"
					>
					<layoutData>
						<f:ColumnElementData cellsLarge="12" />
					</layoutData>
				</Label>
				</f:label>
					<f:fields>
						<macro:Contact
							metaPath="{metaPath>@@COMMON.getMetaPath}"
								contextPath="{contextPath>@@COMMON.getMetaPath}"
								visible="true"
							/>
					</f:fields>
				</f:FormElement>
			</template:with>
		</template:elseif>`;return ee`
			<template:if test="{= \${formElements>0/annotationPath}.indexOf('com.sap.vocabularies.UI.v1.DataPoint') > -1 }">
				${t}
				${i}
				<template:else>
					${this.getDataFieldsForAnnotations()}
				</template:else>
			</template:if>
		`};i.getConnectedFieldsFormElement=function e(t){let i="";for(const e of t.connectedFields){const a=this.contextPath.getModel();const n=e.originalObject?.fullyQualifiedName;const r=n?.substring(n.lastIndexOf("/")+1);const l=a.createBindingContext(t.annotationPath+"Target/$AnnotationPath/Data/"+r);const m=s.getDelimiter(e.originalTemplate??"");const d=t.connectedFields.indexOf(e)!==t.connectedFields.length-1?ee`<Text
					text="${m}"
					class="sapUiSmallMarginBeginEnd"
					width="100%"
				/>`:"";const c=this.id?o.generate([this.id,"SemanticFormElement",t.key,e.originalObject?.Value.path]):"";const u=this.id?o.generate([this.id,t.key,"FieldValueHelp"]):"";let p="";p=ee`
				<macro:Field
					idPrefix="${c}"
					vhIdPrefix="${u}"
					contextPath="${this.entitySet?.getPath()}"
					metaPath="${l.getPath()}"
					onChange="${this.onChange}"
					ariaLabelledBy="${this.id?o.generate([this.id,"SemanticFormElementLabel",t.key]):""}"
				>
					<formatOptions
						textLinesEdit="${t.formatOptions?.textLinesEdit}"
						textMaxLines="${t.formatOptions?.textMaxLines}"
						textMaxCharactersDisplay="${t.formatOptions?.textMaxCharactersDisplay}"
						textMaxLength="${t.formatOptions?.textMaxLength}"
						textExpandBehaviorDisplay="${t.formatOptions?.textExpandBehaviorDisplay}"
						textAlignMode="Form"
						showEmptyIndicator="true"
						fieldEditStyle="${t.formatOptions?.fieldEditStyle}"
						radioButtonsHorizontalLayout="${t.formatOptions?.radioButtonsHorizontalLayout}"
					/>
					<macro:layoutData>
						<FlexItemData growFactor="{= %{ui>/isEditable} ? 1 : 0}" />
					</macro:layoutData>
				</macro:Field>
				${d}
				`;i+=p}const a=Z(this.contextPath.getModel().createBindingContext(t.annotationPath??""));let n="";if(this.id){if(this.contentId){n=`${this.contentId}--${o.generate([this.id,"SemanticFormElement",t.key])}`}else{n=`${o.generate([this.id,"SemanticFormElement",t.key])}`}}const r=t.isPartOfPreview?W(a):"{= ${internal>showDetails} === true}";const l=d.generateBindingExpression(this.navigationPath,a);const m=a?.targetObject?.Target?.$target;const c=a?.targetObject?.annotations?.UI?.AdaptationHidden?"not-adaptable-tree":"sap/fe/macros/form/FormElement.designtime";const u=K(a)?.toString();return ee`
			<f:FormElement
				xmlns:f="sap.ui.layout.form"
				dt:designtime="${c}"
				id="${n}"
				visible="${r}"
				${this.attr("binding",l)}
			>
				<f:label>
					<Label
					text="${m?.Label??t.label}"
					id="${this.id?o.generate([this.id,"SemanticFormElementLabel",t.key]):""}"

					/>
				</f:label>
				<f:fields>
					<controls:FieldWrapper required="${u}">
						<HBox wrap="Wrap">
							${i}
						</HBox>
					</controls:FieldWrapper>
				</f:fields>
			</f:FormElement>
		`};i.getMultiValueFieldFormElement=function e(t){const i=Z(this.contextPath.getModel().createBindingContext(t.annotationPath??""));const a=t.isPartOfPreview?W(i):"{= ${internal>showDetails} === true}";const n=d.generateBindingExpression(this.navigationPath,i);const r=this.id?`${o.generate([this.id,"FormElement",t.key])}`:"undefined";const l=this.id?`${o.generate([this.id,"FormElement",t.key,"MultiValueField"])}`:"undefined";const s=this.id?o.generate([this.id,"FieldValueHelp"]):"";const m=i?.targetObject?.annotations?.UI?.AdaptationHidden?"not-adaptable-tree":"sap/fe/macros/form/FormElement.designtime";return ee`
												<f:FormElement
													xmlns:macros="sap.fe.macros"
													xmlns:multivaluefield="sap.fe.macros.multivaluefield"
													dt:designtime="${m}"
													id="${r}"
													label="${t.label}"
													visible="${a}"
													${this.attr("binding",n)}
												>
													<f:fields>
														<macros:MultiValueField
															id="${l}"
															vhIdPrefix="${s}"
															contextPath="${this.entitySet?.getPath()}"
															metaPath="${t.annotationPath}"
														>
															<macros:formatOptions>
																<multivaluefield:FormatOptions showEmptyIndicator="true" />
															</macros:formatOptions>
														</macros:MultiValueField>
													</f:fields>
												</f:FormElement>`};i.getFieldGroupFormElement=function e(t){let i="";for(const e of t.fieldGroupElements){const a=this.contextPath.getModel();const n=e.fullyQualifiedName;const r=n?.substring(n.lastIndexOf("/")+1);const l=a.createBindingContext(t.annotationPath+"Target/$AnnotationPath/Data/"+r);const s=Z(l);const m=this.id?`${o.generate([this.id,"CheckBoxGroup",t.key,s.targetObject?.Value?.path])}`:"";const d=s.targetObject?.Value?.$target?.type==="Edm.Boolean";const c=d?ee`
				<macro:Field
					idPrefix="${m}"
					contextPath="${this.entitySet?.getPath()}"
					metaPath="${l.getPath()}"
					onChange="${this.onChange}"
					ariaLabelledBy="${this.id?o.generate([this.id,"FieldGroupFormElementLabel",t.key]):""}"
				>
					<formatOptions isFieldGroupItem="true" textAlignMode="Form" />
				</macro:Field>
			`:"";i+=c}const a=Z(this.contextPath.getModel().createBindingContext(t.annotationPath??""));const n=t.isPartOfPreview?W(a):"{= ${internal>showDetails} === true}";const r=d.generateBindingExpression(this.navigationPath,a);let l="";let s="";if(this.id){if(this.contentId){l=`${this.contentId}--${o.generate([this.id,"FieldGroupFormElement",t.key])}`;s=`${this.contentId}--${o.generate([this.id,"FieldGroupFormElementLabel",t.key])}`}else{l=`${o.generate([this.id,"FieldGroupFormElement",t.key])}`;s=`${o.generate([this.id,"FieldGroupFormElementLabel",t.key])}`}}const m=a?.targetObject?.Target?.$target;const c=a?.targetObject?.annotations?.UI?.AdaptationHidden?"not-adaptable-tree":"sap/fe/macros/form/FormElement.designtime";return ee`
												<f:FormElement
													xmlns:f="sap.ui.layout.form"
													dt:designtime="${c}"
													id="${l}"
													visible="${n}"
													${this.attr("binding",r)}
												>
													<f:label>
														<Label
															text="${m?.Label??t.label}"
															id="${s}"
														/>
													</f:label>
													<f:fields>
														<controls:RequiredFlexBox>
															<FlexBox
																direction="${t.formatOptions?.fieldGroupHorizontalLayout===true?"Row":"Column"}"
																wrap="Wrap"
																columnGap="1rem"
															>
																<items>
																	${i}
																</items>
															</FlexBox>
														</controls:RequiredFlexBox>
													</f:fields>
												</f:FormElement>
											`};i.getFieldFormElement=function e(t){const i=Z(this.contextPath.getModel().createBindingContext(t.annotationPath??""));const a=d.generateBindingExpression(this.navigationPath,i);const n=o.generate([this.id,"FieldValueHelp"]);let r="undefined";const l=t.isPartOfPreview?W(i):"{= ${internal>showDetails} === true}";const s=this.id?`${o.generate([this.id,"FormElement",t.key])}`:"";if(this.id){if(this.contentId){r=`${this.contentId}--${o.generate([this.id,"FormElement",t.key])}`}else{r=`${o.generate([this.id,"FormElement",t.key])}`}}const m=i?.targetObject?.annotations?.UI?.AdaptationHidden?"not-adaptable-tree":"sap/fe/macros/form/FormElement.designtime";return ee`
												<f:FormElement
													xmlns:f="sap.ui.layout.form"
													dt:designtime="${m}"
													id="${r}"
													label="${t.label}"
													visible="${l}"
													${this.attr("binding",a)}
												>
													<f:fields>
														<macro:Field
															idPrefix="${s}"
															vhIdPrefix="${n}"
															contextPath="${this.contextPath.getPath()}"
															metaPath="${t.annotationPath}"
															onChange="${this.onChange}"
															readOnly="${t.readOnly}"
															semanticObject="${t.semanticObject}"
														>
														<formatOptions
																textLinesEdit="${t.formatOptions?.textLinesEdit}"
																textMaxLines="${t.formatOptions?.textMaxLines}"
																textMaxLength="${t.formatOptions?.textMaxLength}"
																textMaxCharactersDisplay="${t.formatOptions?.textMaxCharactersDisplay}"
																textExpandBehaviorDisplay="${t.formatOptions?.textExpandBehaviorDisplay}"
																textAlignMode="Form"
																showEmptyIndicator="true"
																fieldEditStyle="${t.formatOptions?.fieldEditStyle}"
																radioButtonsHorizontalLayout="${t.formatOptions?.radioButtonsHorizontalLayout}"
																dateTimePattern="${t.formatOptions?.pattern}"
																useRadioButtonsForBoolean="${t.formatOptions?.useRadioButtonsForBoolean}"
															/>
														</macro:Field>
													</f:fields>
												</f:FormElement>
											`};i.getCustomFormElement=function e(t){const i=this.contextPath.getPath()+"/"+t.propertyPath;const a=Z(this.contextPath.getModel().createBindingContext(i));const n=d.generateBindingExpression(this.navigationPath,a);let r="";if(this.id){if(this.contentId){r=`${this.contentId}--${o.generate([this.id,t.id])}`}else{r=`${o.generate([this.id,t.id])}`}}const l=a?.targetObject?.annotations?.UI?.AdaptationHidden?"not-adaptable-tree":"sap/fe/macros/form/FormElement.designtime";const s=o.generate([this.id,t.key]);return ee`
								<f:FormElement
										dt:designtime="${l}"
										id="${r}"
										label="${t.label}"
										visible="${t.visible}"
										${this.attr("binding",n)}
									>
										<f:fields>
											<macroForm:CustomFormElement
												metaPath="${t.propertyPath}"
												contextPath="${this.contextPath.getPath()}"
												formElementKey="${s}"
											>
												<fpm:CustomFragment
													id="${s}"
													fragmentName="${t.template}"
													contextPath="${this.contextPath.getPath()}"
												/>
											</macroForm:CustomFormElement>
										</f:fields>
									</f:FormElement>
		`};i.getSlotColumn=function e(t){return ee`<slot name="${t.key}" />`};i.isMultiValueDataField=function e(t){let i=false;if(t.annotationPath){const e=this.contextPath.getModel().createBindingContext(t.annotationPath);const a=e.getObject()?.Value?.$Path;if(a){i=_(J(Z(e),a))}}return i};i.getDataFieldsForAnnotations=function e(){let t="";if(this.dataFieldCollection!==undefined){for(const e of this.dataFieldCollection){switch(e.type){case"Annotation":if(e.connectedFields&&e.connectedFields.length>0){t+=this.getConnectedFieldsFormElement(e)}else if(this.isMultiValueDataField(e)){t+=this.getMultiValueFieldFormElement(e)}else if(e.fieldGroupElements&&e.fieldGroupElements.length>0){t+=this.getFieldGroupFormElement(e)}else{t+=this.getFieldFormElement(e)}break;case"Default":t+=this.getCustomFormElement(e);break;default:t+=this.getSlotColumn(e);break}}}return ee`${t}`};return t}(i),I=se(w.prototype,"id",[u],{configurable:true,enumerable:true,writable:true,initializer:null}),D=se(w.prototype,"contextPath",[p],{configurable:true,enumerable:true,writable:true,initializer:null}),L=se(w.prototype,"entitySet",[f],{configurable:true,enumerable:true,writable:true,initializer:null}),k=se(w.prototype,"metaPath",[h],{configurable:true,enumerable:true,writable:true,initializer:null}),T=se(w.prototype,"dataFieldCollection",[g],{configurable:true,enumerable:true,writable:true,initializer:null}),A=se(w.prototype,"displayMode",[b],{configurable:true,enumerable:true,writable:true,initializer:function(){return false}}),H=se(w.prototype,"title",[F],{configurable:true,enumerable:true,writable:true,initializer:null}),S=se(w.prototype,"titleLevel",[$],{configurable:true,enumerable:true,writable:true,initializer:function(){return"Auto"}}),z=se(w.prototype,"navigationPath",[x],{configurable:true,enumerable:true,writable:true,initializer:null}),j=se(w.prototype,"visible",[P],{configurable:true,enumerable:true,writable:true,initializer:null}),U=se(w.prototype,"hasUiHiddenAnnotation",[y],{configurable:true,enumerable:true,writable:true,initializer:null}),V=se(w.prototype,"designtimeSettings",[E],{configurable:true,enumerable:true,writable:true,initializer:function(){return"sap/fe/macros/form/FormContainer.designtime"}}),N=se(w.prototype,"actions",[v],{configurable:true,enumerable:true,writable:true,initializer:null}),G=se(w.prototype,"useSingleTextAreaFieldAsNotes",[C],{configurable:true,enumerable:true,writable:true,initializer:null}),R=se(w.prototype,"formElements",[O],{configurable:true,enumerable:true,writable:true,initializer:function(){return{}}}),q=se(w.prototype,"onChange",[M],{configurable:true,enumerable:true,writable:true,initializer:null}),w))||B);Q=de;return Q},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/form/FormContainerAPI", ["sap/fe/base/ClassSupport","sap/fe/core/helpers/StableIdHelper","sap/fe/macros/Field","sap/m/Label","sap/ui/core/InvisibleText","sap/ui/layout/form/ColumnElementData","../MacroAPI"],function(e,t,i,r,n,o,a){"use strict";var l,s,c,u,f,b,p,d,g;var m=t.generate;var v=e.xmlEventHandler;var y=e.property;var h=e.defineUI5Class;function I(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function x(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,T(e,t)}function T(e,t){return T=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},T(e,t)}function D(e,t,i,r,n){var o={};return Object.keys(r).forEach(function(e){o[e]=r[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce(function(i,r){return r(e,t,i)||i},o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer?(Object.defineProperty(e,t,o),null):o}function E(e,t){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let C=(l=h("sap.fe.macros.form.FormContainerAPI"),s=y({type:"string"}),c=y({type:"boolean"}),u=v(),l(f=(b=(g=function(e){function t(t){var i;i=e.call(this,t)||this;I(i,"formContainerId",p,i);I(i,"showDetails",d,i);i.setParentBindingContext("internal",`controls/${i.formContainerId}`);return i}x(t,e);var a=t.prototype;a.onMetadataAvailable=function e(t){const i=t.getRootController()?.getView();if(!i){return}let r=i.byId(this.formContainerId);if(r){this.setFormElementsInvisibleTextsToStatic(r)}else{i.attachEventOnce("afterRendering",function(){r=i.byId(this.formContainerId);if(r){this.setFormElementsInvisibleTextsToStatic(r)}}.bind(this))}};a.setFormElementsInvisibleTextsToStatic=function e(t){const i=t.getFormElements();i.forEach(e=>{const t=e.getDependents();t.forEach(e=>{if(e.isA("sap.ui.core.InvisibleText")){e.toStatic()}})})};t.setInvisibleTextWhereTextAreaLabelIsHidden=function e(t,i){t.addDependent(new n(m([i.getId(),"FormElementAriaText"]),{text:t.getLabel()}));t.setLabel(new r(m([i.getId(),"FormElementLabel"]),{text:t.getLabel(),visible:false,layoutData:new o({cellsLarge:12})}));i.addAriaLabelledBy(m([i.getId(),"FormElementAriaText"]))};t.setTextAreaLabelVisibility=function e(t){const r=t.getFormElements();const n=r.filter(e=>e.getVisible());if(n.length===1){const e=n[0].getFields();if(e.length===1){const t=i.getControlInFieldWrapper(e[0].getContent());const r=t?.isA("sap.fe.macros.field.TextAreaEx");const o=e[0].getRequired()===true;const a=(t?.getParent()).editMode;if(r&&o&&a!=="Display"){n[0].getLabelControl().setVisible(true)}if(t?.isA("sap.m.ExpandableText")&&a==="Display"){n[0].getLabelControl().setVisible(false)}const l=n[0].getLabelControl().getVisible();const s=n[0].getDependents();const c=s.find(e=>e.isA("sap.ui.core.InvisibleText"));if(!l&&!c){this.setInvisibleTextWhereTextAreaLabelIsHidden(n[0],e[0])}}}};a.toggleDetails=function e(){this.showDetails=!this.showDetails};return t}(a),g.isDependentBound=true,g),p=D(b.prototype,"formContainerId",[s],{configurable:true,enumerable:true,writable:true,initializer:null}),d=D(b.prototype,"showDetails",[c],{configurable:true,enumerable:true,writable:true,initializer:function(){return false}}),D(b.prototype,"toggleDetails",[u],Object.getOwnPropertyDescriptor(b.prototype,"toggleDetails"),b.prototype),b))||f);return C},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/form/FormDelegate", ["sap/fe/macros/CommonHelper","sap/fe/macros/DelegateUtil","sap/ui/model/ListBinding","sap/ui/model/json/JSONModel"],function(e,t,o,a){"use strict";const n={createLayout:async function(o){const n=o.modifier,i=o.appComponent?.getMetaModel(),r=o.element;if(n.targets==="xmlTree"){const e=o.view?.getElementsByTagNameNS("sap.fe.macros","Field");if(e){for(const t of Array.from(e)){if(t.getAttribute("_flexId")===o.fieldSelector?.id){return Promise.reject(new Error("FormDelegate.createLayout: field already exists"))}}}}else if(n.targets==="jsControlTree"){if(o.fieldSelector?.id&&o.view&&o.view.byId(o.fieldSelector?.id)){return Promise.reject(new Error("FormDelegate.createLayout: field already exists"))}}const s=await t.getCustomDataWithModifier(r,"metaPath",n)??"";const c=o.parentSelector?o.modifier.bySelector(o.parentSelector,o.appComponent,o.view):undefined;const l=c?await t.getCustomDataWithModifier(c,"navigationPath",n):"";let d=s.substring(0,s.indexOf("@"));d=l?`${d}${l}/`:d;const m=i?.getMetaContext(d.substring(0,d.length-1));const f=i?.createBindingContext(`${d}${o.bindingPath}`);async function u(s,c,l){const d=await t.getCustomDataWithModifier(r,"onChange",n);const u=await t.getCustomDataWithModifier(r,"displayMode",n);const p=new a({_flexId:o.fieldSelector?.id,onChange:e.removeEscapeCharacters(d),displayMode:e.removeEscapeCharacters(u),navigationPath:l});const g={bindingContexts:{entitySet:m,dataField:f,this:p.createBindingContext("/")},models:{this:p,entitySet:i,metaModel:i,dataField:i},appComponent:o.appComponent};return t.templateControlFragment(s,g,{view:c},n)}const p=await u("sap.fe.macros.form.FormElementFlexibility",o.view,l);return{control:p}},getPropertyInfo:async function(e){function t(e){if(e&&e.$Type){if(e.$Type.toLowerCase().indexOf("edm")!==0){return true}}return false}function a(e,t){return t.some(function(t){return e.startsWith(t)})}function n(e,n,i,r,s,c,l){const d={name:e,bindingPath:e,entityType:r};const m=i["@com.sap.vocabularies.UI.v1.DataFieldDefault"];const f=m&&m.Label||i["@com.sap.vocabularies.Common.v1.Label"];d.label=f||"[LABEL_MISSING: "+e+"]";const u=i["@com.sap.vocabularies.UI.v1.Hidden"];d.hideFromReveal=u;if(u&&u.$Path){d.hideFromReveal=s.getBindingContext()?.getProperty(u.$Path)}if(!d.hideFromReveal){d.hideFromReveal=i["@com.sap.vocabularies.UI.v1.AdaptationHidden"]}let p;if(!d.hideFromReveal){p=i["@com.sap.vocabularies.Common.v1.FieldControl"];if(p){d.hideFromReveal=p.$EnumMember==="com.sap.vocabularies.Common.v1.FieldControlType/Hidden"}}p=i["@com.sap.vocabularies.Common.v1.FieldControl"];const g=p&&p.$Path;if(g&&!d.hideFromReveal){const e=s.getBinding(c)instanceof o;if(!e){const e=s.getBindingContext()?.getProperty(g);d.hideFromReveal=e===0}}if(m&&(m.$Type==="com.sap.vocabularies.UI.v1.DataFieldForAction"||m.$Type==="com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation"||m.$Type==="com.sap.vocabularies.UI.v1.DataFieldWithAction"||m.$Type==="com.sap.vocabularies.UI.v1.DataFieldWithIntentBasedNavigation")){d.unsupported=true}if(a(e,l)||t(n)){d.unsupported=true}return d}function i(e,t,o,a,i){const r=[];let s="";const c=[];let l;for(s in e){l=e[s];if(l.$kind==="NavigationProperty"){c.push(s)}}for(s in e){l=e[s];if(l.$kind==="Property"){const e=o.getObject("/"+t+"/"+s+"@");const d=n(s,l,e,t,a,i,c);r.push(d)}}return r}function r(e,t){if(t.path){return t.path}const o=e.getBindingContext();if(o){if(e.data("navigationPath")){return o.getPath()+"/"+e.data("navigationPath")}return o.getPath()}}async function s(e,t,o){const a=e.getModel(o.modelName);if(a){if(a.isA("sap.ui.model.odata.v4.ODataModel")){const n=a.getMetaModel();const s=r(e,o);if(s){const o=n.getMetaContext(s);const a=o.getObject();const r=o.getObject(a.$Type);return i(r,a.$Type,n,e,t)}}}return Promise.resolve([])}return Promise.resolve().then(async function(){return s(e.element,e.aggregationName,e.payload)})}};return n},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/form/FormHelper", ["sap/fe/core/helpers/ModelHelper","sap/ui/core/library"],function(e,t){"use strict";var n=t.TitleLevel;const r={isReferenceFacetPartOfPreview:function(e,t){t=t.toString();if(e.$Type==="com.sap.vocabularies.UI.v1.ReferenceFacet"){const n=e["@com.sap.vocabularies.UI.v1.PartOfPreview"];return t==="true"&&n!==false||t==="false"&&n===false}return false},create$Select:function(e,t){let n="";n=(e||[]).map(e=>e.value).join(",");if(n){n+=t?.length?","+t.join(","):""}else{n=t?.length?t.join(","):n}return n},generateBindingExpression:function(t,n){const a=n?.targetEntityType?.annotations?.Common?.SemanticKey;const i=e.getAlternateAndSecondaryKeys(n?.targetEntityType,n?.targetEntitySet);if(!t){return undefined}const s={path:t||""};if(a||i?.length){s.parameters={$select:r.create$Select(a,i)}}return JSON.stringify(s)},getFormContainerTitleLevel:function(e,t){if(!e){return t}switch(t){case n.H1:return n.H2;case n.H2:return n.H3;case n.H3:return n.H4;case n.H4:return n.H5;case n.H5:case n.H6:return n.H6;default:return n.Auto}}};return r},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/formatters/TableFormatter", ["sap/base/Log","sap/base/util/ObjectPath","sap/fe/core/CommonUtils","sap/fe/core/helpers/SizeHelper","sap/fe/macros/DelegateUtil","sap/fe/macros/table/TableSizeHelper","sap/ui/core/message/MessageType","sap/ui/mdc/enums/FieldEditMode"],function(e,t,n,r,a,i,s,o){"use strict";const l=function(e){switch(e){case"Error":return 4;case"Warning":return 3;case"Information":return 2;case"None":return 1;default:return-1}};const f=function(e){if(!e){return false}const t=Object.keys(e);return t.length>0&&t.every(function(t){return e[t]["validity"]})};f.__functionName="sap.fe.macros.formatters.TableFormatter#validateCreationRowFields";const u=function(e,t,n,r){let a=false;if(t&&t.length>0&&(r||n===e)){const e=this.getBindingContext()?this.getBindingContext()?.getPath():undefined;t.forEach(t=>{if(t.getType()==="Error"&&e&&t.getTargets()[0].indexOf(e)===0){a=true;return a}})}return a};u.__functionName="sap.fe.macros.formatters.TableFormatter#getErrorStatusTextVisibilityFormatter";const c=function(t,n,r,a,i,o,f){n=n==="undefined"?undefined:n;r=r==="undefined"?undefined:r;a=a==="undefined"?undefined:a;f=f==="undefined"?undefined:f;let u=-1;if(n&&n.length>0){const e=this.getBindingContext()?.getPath();n.forEach(n=>{if(e&&n.getTargets()[0].indexOf(e)===0&&u<l(n.getType())){u=l(n.getType());t=n.getType()}})}if(typeof t!=="string"){switch(t){case 1:t=s.Error;break;case 2:t=s.Warning;break;case 3:t=s.Success;break;case 5:t=s.Information;break;default:t=s.None}}if(!Object.values(s).includes(t)){e.error(`'${t}' isn't a valid value for a row highlight.`);return s.None}if(t!==s.None){return t}const c=!r&&!a&&!f;return i==="true"&&c?s.Information:s.None};c.__functionName="sap.fe.macros.formatters.TableFormatter#rowHighlighting";const g=function(e){const t=this.getBindingContext()?.getPath();if(t&&e){return e.indexOf(t)===0}else{return false}};g.__functionName="sap.fe.macros.formatters.TableFormatter#navigatedRow";const d=function(e,t,n){let s=arguments.length>3&&arguments[3]!==undefined?arguments[3]:true;let l=arguments.length>4&&arguments[4]!==undefined?arguments[4]:false;let f=arguments.length>5&&arguments[5]!==undefined?arguments[5]:false;let u=arguments.length>6&&arguments[6]!==undefined?arguments[6]:false;if(!t){return null}const c=this.getParent();let g;if(c?.getParent()?.isA("sap.ui.mdc.valuehelp.content.MDCTable")){g=a.getCachedProperties(this.getParent())}else{g=c.getParent().getEnhancedFetchedPropertyInfos()}if(!g)return null;const d=g.find(e=>e.key===n);if(!d)return null;let m=i.getMDCColumnWidthFromProperty(d,g,l,f,u);const p=d.exportSettings?.unit||d.exportSettings?.timezone;m+=p?r.getButtonWidth(p):0;if(e===o.Editable){const e=d.exportSettings?.unitProperty;if(e){m+=3}switch(d.typeConfig?.baseType){case"Date":case"Time":case"DateTime":m+=2.8;break;default:}}if(s){return m+"rem"}return m};d.__functionName="sap.fe.macros.formatters.TableFormatter#getColumnWidth";const m=function(e,t,r){let a=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;const i=n.isSmallDevice();const s=!i;return i&&r||!i&&!r?C.getColumnWidth.call(this,o.Display,e,t,s,a):null};m.__functionName="sap.fe.macros.formatters.TableFormatter#getColumnWidthForValueHelpTable";function p(e){if(e.isA("sap.fe.macros.controls.FieldWrapper")){const t=Array.isArray(e.getContentDisplay())?e.getContentDisplay()[0]:e.getContentDisplay();if(t&&t.isA("sap.m.RatingIndicator")){return true}}return false}function h(e,t){const n=Array.isArray(e.getContentDisplay())?e.getContentDisplay()[0]:e.getContentDisplay();const r=Array.isArray(e.getContentEdit())?e.getContentEdit()[0]:e.getContentEdit();if(t){n.addStyleClass("sapUiNoMarginBottom");n.addStyleClass("sapUiNoMarginTop");r.removeStyleClass("sapUiTinyMarginBottom")}else{n.addStyleClass("sapUiNoMarginBottom");n.removeStyleClass("sapUiNoMarginTop");r.addStyleClass("sapUiTinyMarginBottom")}}function y(){const e=this.getItems();let t=false;for(var n=arguments.length,r=new Array(n),a=0;a<n;a++){r[a]=arguments[a]}for(let n=e.length-1;n>=0;n--){if(!t){if(r[n]!==true){t=true;if(p(e[n])){h(e[n],true)}else{e[n].removeStyleClass("sapUiTinyMarginBottom")}}}else if(p(e[n])){h(e[n],false)}else{e[n].addStyleClass("sapUiTinyMarginBottom")}}return true}y.__functionName="sap.fe.macros.formatters.TableFormatter#getVBoxVisibility";const C=function(e){if(C.hasOwnProperty(e)){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++){n[r-1]=arguments[r]}return C[e].apply(this,n)}else{return""}};C.validateCreationRowFields=f;C.rowHighlighting=c;C.navigatedRow=g;C.getErrorStatusTextVisibilityFormatter=u;C.getVBoxVisibility=y;C.isRatingIndicator=p;C.getColumnWidth=d;C.getColumnWidthForValueHelpTable=m;t.set("sap.fe.macros.formatters.TableFormatter",C);return C},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/formatters/VisualFilterFormatter", ["sap/base/util/ObjectPath"],function(t){"use strict";const e=function(t,e,r){e=e==="undefined"?"":e;r=r==="undefined"?"":r;const n=`${t}${r} ${e}`;const a=e?`${t}${e}`:"";const s=r?`${t}${r}`:a;return e&&r?n:s};e.__functionName="sap.fe.macros.formatters.VisualFilterFormatter#formatScaleAndUOM";const r=function(t){if(r.hasOwnProperty(t)){for(var e=arguments.length,n=new Array(e>1?e-1:0),a=1;a<e;a++){n[a-1]=arguments[a]}return r[t].apply(this,n)}else{return""}};r.formatScaleAndUOM=e;t.set("sap.fe.macros.formatters.VisualFilterFormatter",r);return r},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/fpm/CustomFragment.block", ["sap/fe/core/buildingBlocks/templating/BuildingBlockSupport","sap/fe/core/buildingBlocks/templating/BuildingBlockTemplateProcessor","sap/fe/core/buildingBlocks/templating/BuildingBlockTemplatingBase"],function(e,t,r){"use strict";var i,n,a,o,l,u,c,s,m,p,f;var g={};var b=t.xml;var d=e.defineBuildingBlock;var h=e.blockAttribute;var y=e.blockAggregation;function v(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function C(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,k(e,t)}function k(e,t){return k=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},k(e,t)}function z(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer?(Object.defineProperty(e,t,a),null):a}function B(e,t){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let x=(i=d({name:"CustomFragment",namespace:"sap.fe.macros.fpm"}),n=h({type:"string",required:true}),a=h({type:"sap.ui.model.Context",required:false}),o=h({type:"string",required:true}),l=y({type:"sap.ui.core.CustomData",slot:"childCustomData"}),i(u=(c=function(e){function t(t,r,i){var n;n=e.call(this,t,r,i)||this;v(n,"id",s,n);v(n,"contextPath",m,n);v(n,"fragmentName",p,n);v(n,"childCustomData",f,n);return n}g=t;C(t,e);var r=t.prototype;r.getTemplate=function e(){const t=this.fragmentName+"-JS".replace(/\//g,".");const r=this.childCustomData;const i={};let n=r?.firstElementChild;while(n){const e=n.getAttribute("key");if(e!==null){i[e]=n.getAttribute("value")}n=n.nextElementSibling}return b`<macros:CustomFragmentFragment
			xmlns:compo="http://schemas.sap.com/sapui5/extension/sap.ui.core.xmlcomposite/1"
			xmlns:macros="sap.fe.macros.fpm"
			fragmentName="${t}"
			${this.attr("childCustomData",Object.keys(i).length?JSON.stringify(i):undefined)}
			id="${this.id}"
			type="CUSTOM"
			contextPath="${this.contextPath?.getPath()}"
		>
			<compo:fragmentContent>
				<core:FragmentDefinition>
					<core:Fragment fragmentName="${this.fragmentName}" type="XML"/>
				</core:FragmentDefinition>
			</compo:fragmentContent>
		</macros:CustomFragmentFragment>`};return t}(r),s=z(c.prototype,"id",[n],{configurable:true,enumerable:true,writable:true,initializer:null}),m=z(c.prototype,"contextPath",[a],{configurable:true,enumerable:true,writable:true,initializer:null}),p=z(c.prototype,"fragmentName",[o],{configurable:true,enumerable:true,writable:true,initializer:null}),f=z(c.prototype,"childCustomData",[l],{configurable:true,enumerable:true,writable:true,initializer:null}),c))||u);g=x;return g},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/fpm/CustomFragmentFragment", ["sap/fe/base/ClassSupport","sap/ui/core/Fragment"],function(e,r){"use strict";var t,i,n,a,o,l,u;var c={};var s=e.property;var f=e.defineUI5Class;function p(e,r,t,i){t&&Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(i):void 0})}function b(e,r){e.prototype=Object.create(r.prototype),e.prototype.constructor=e,d(e,r)}function d(e,r){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,r){return e.__proto__=r,e},d(e,r)}function m(e,r,t,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce(function(t,i){return i(e,r,t)||t},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer?(Object.defineProperty(e,r,a),null):a}function v(e,r){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let y=(t=f("sap.fe.macros.fpm.CustomFragmentFragment"),i=s({type:"string"}),n=s({type:"string"}),t(a=(o=function(e){function r(){var r;for(var t=arguments.length,i=new Array(t),n=0;n<t;n++){i[n]=arguments[n]}r=e.call(this,...i)||this;p(r,"childCustomData",l,r);p(r,"contextPath",u,r);return r}c=r;b(r,e);return r}(r),l=m(o.prototype,"childCustomData",[i],{configurable:true,enumerable:true,writable:true,initializer:null}),u=m(o.prototype,"contextPath",[n],{configurable:true,enumerable:true,writable:true,initializer:null}),o))||a);c=y;return c},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/header/HeaderAvatar", ["sap/fe/base/ClassSupport","sap/fe/core/buildingBlocks/BuildingBlock","sap/fe/core/helpers/TitleHelper","sap/m/Avatar","sap/m/AvatarImageFitType","sap/m/AvatarSize","sap/m/LightBox","sap/m/LightBoxItem","../field/FieldTemplating","./HeaderHelper","sap/fe/base/jsx-runtime/jsx"],function(e,t,i,r,a,n,l,o,s,c,u){"use strict";var p,f,b,d,g,y,h,m,v,z,w;var x={};var S=s.getTextBindingExpression;var I=i.getTitleBindingExpression;var O=e.property;var j=e.defineUI5Class;function B(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function C(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,k(e,t)}function k(e,t){return k=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},k(e,t)}function E(e,t,i,r,a){var n={};return Object.keys(r).forEach(function(e){n[e]=r[e]}),n.enumerable=!!n.enumerable,n.configurable=!!n.configurable,("value"in n||n.initializer)&&(n.writable=!0),n=i.slice().reverse().reduce(function(i,r){return r(e,t,i)||i},n),a&&void 0!==n.initializer&&(n.value=n.initializer?n.initializer.call(a):void 0,n.initializer=void 0),void 0===n.initializer?(Object.defineProperty(e,t,n),null):n}function P(e,t){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let T=(p=j("sap.fe.macros.header.HeaderAvatar"),f=O({type:"string",isBindingInfo:true}),b=O({type:"string"}),d=O({type:"string"}),g=O({type:"string"}),p(y=(h=function(e){function t(t,i){var r;r=e.call(this,t,i)||this;B(r,"src",m,r);B(r,"initials",v,r);B(r,"fallbackIcon",z,r);B(r,"displayShape",w,r);r.content=r.createContent();return r}x=t;C(t,e);var i=t.prototype;i.createContent=function e(){if(!this.src){return}const t=this._getOwner();const i=this.getDataModelObjectPath(t?.preprocessorContext?.fullContextPath);const s=i?.targetEntityType?.annotations?.UI?.HeaderInfo;const p=u(r,{src:this.src,initials:this.initials,fallbackIcon:this.fallbackIcon,displayShape:this.displayShape,displaySize:n.S,imageFitType:a.Cover,children:{detailBox:u(l,{children:u(o,{imageSrc:this.src,title:I(i,S,undefined,s,t?.getRootController()?.getView().getViewData()||{}),subtitle:c.getDescriptionExpression(i,s)})})}});p.addStyleClass("sapUiSmallMarginEnd");return p};return t}(t),m=E(h.prototype,"src",[f],{configurable:true,enumerable:true,writable:true,initializer:null}),v=E(h.prototype,"initials",[b],{configurable:true,enumerable:true,writable:true,initializer:null}),z=E(h.prototype,"fallbackIcon",[d],{configurable:true,enumerable:true,writable:true,initializer:null}),w=E(h.prototype,"displayShape",[g],{configurable:true,enumerable:true,writable:true,initializer:null}),h))||y);x=T;return x},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/header/HeaderHelper", ["sap/fe/base/BindingToolkit","../field/FieldTemplating"],function(e,n){"use strict";var i=n.formatValueRecursively;var t=n.addTextArrangementToBindingExpression;var o=e.getExpressionFromAnnotation;var r=e.compileExpression;const a={getDescriptionExpression(e,n){let a=o(n?.Description?.Value);if(n?.Description?.Value?.$target?.annotations?.Common?.Text?.annotations?.UI?.TextArrangement){a=t(a,e)}const s=r(i(a,e));return s==="undefined"?"":s}};return a},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/header/HeaderTitleDescription", ["sap/fe/base/ClassSupport","sap/fe/core/buildingBlocks/BuildingBlock","sap/fe/core/converters/helpers/DataFieldHelper","sap/fe/core/helpers/TitleHelper","sap/m/FlexItemData","sap/m/Label","sap/m/Title","sap/m/VBox","sap/m/library","sap/ui/core/library","../field/FieldTemplating","./HeaderHelper","sap/fe/base/jsx-runtime/jsx","sap/fe/base/jsx-runtime/jsxs"],function(e,t,r,i,n,a,o,l,s,c,p,u,f,d){"use strict";var b,g,v,y,h;var m={};var x=p.getTextBindingExpression;var T=c.TitleLevel;var D=s.FlexRendertype;var j=i.getTitleBindingExpression;var w=r.isReferencePropertyStaticallyHidden;var O=e.property;var z=e.defineUI5Class;function B(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function C(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,H(e,t)}function H(e,t){return H=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},H(e,t)}function P(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer?(Object.defineProperty(e,t,a),null):a}function E(e,t){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let V=(b=z("sap.fe.macros.header.HeaderTitleDescription"),g=O({type:"string"}),b(v=(y=function(e){function t(t,r){var i;i=e.call(this,t,r)||this;B(i,"VBoxType",h,i);return i}m=t;C(t,e);var r=t.prototype;r.onMetadataAvailable=function e(){if(!this.content){this.content=this.createContent()}};r.getTitleControl=function e(t,r,i){if(r.Title&&!w(r.Title)){return f(o,{text:j(t,x,undefined,r,i?.getRootController()?.getView().getViewData()||{}),wrapping:true,level:T.H2,layoutData:f(n,{minWidth:"0"})})}};r.getDescription=function e(t,r){if(r.Description&&!w(r.Description)){return f(a,{text:u.getDescriptionExpression(t,r),wrapping:true})}};r.createContent=function e(){const t=this._getOwner();const r=this.getDataModelObjectPath(t?.preprocessorContext?.fullContextPath);const i=r?.targetEntityType?.annotations?.UI?.HeaderInfo;if(i&&(i.Title||i.Description)){return d(l,{renderType:this.VBoxType,layoutData:f(n,{minWidth:"0"}),children:[this.getTitleControl(r,i,t),this.getDescription(r,i)]})}};return t}(t),h=P(y.prototype,"VBoxType",[g],{configurable:true,enumerable:true,writable:true,initializer:function(){return D.Div}}),y))||v);m=V;return m},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/inlineEdit/InlineEdit", ["sap/fe/base/HookSupport","sap/fe/controls/inlineEdit/InlineEditIndicator","sap/fe/core/controls/CommandExecution","sap/ui/core/Popup","sap/ui/dom/findTabbable"],function(t,i,e,n,o){"use strict";var s,d;var l={};var r=t.controllerExtensionHandler;function a(t,i,e,n,o){var s={};return Object.keys(n).forEach(function(t){s[t]=n[t]}),s.enumerable=!!s.enumerable,s.configurable=!!s.configurable,("value"in s||s.initializer)&&(s.writable=!0),s=e.slice().reverse().reduce(function(e,n){return n(t,i,e)||e},s),o&&void 0!==s.initializer&&(s.value=s.initializer?s.initializer.call(o):void 0,s.initializer=void 0),void 0===s.initializer?(Object.defineProperty(t,i,s),null):s}var c=function(t){t["Add"]="Add";t["Remove"]="Remove";return t}(c||{});let u=(s=r("inlineEditFlow","inlineEditStart"),d=function(){function t(){this.inlineEditState="Closed";this._isInlineEditSource=false}l=t;var s=t.prototype;s.setupMixin=function t(o){const s=o.prototype.onBeforeRendering;const d=o.prototype.onMetadataAvailable;const l=o.prototype.destroy;o.prototype.onBeforeRendering=function(){s?.call(this);if(this.inlineEditEnabled){this.addAriaAttributes()}};o.prototype.onMetadataAvailable=function(){d?.call(this);if(this.inlineEditEnabled){const t=this.getPageController()?.inlineEditFlow.isPropertyConsideredForInlineEdit(this.getInlineEditPropertyName()??"");if(!t){this.unbindProperty("hasInlineEdit");this.hasInlineEdit=undefined;return}this._inlineEditIndicator=new i({visible:true,pressEdit:this.triggerInlineEdit.bind(this)});this._inlineEditFieldGroupId="InlineEdit";this._inlineEditIndicator.attachEvent("mouseout",t=>{this.closeInlineEditPopupMouseEvent(t.getParameter("relatedTarget"))});this._inlineEditIndicator.editButton.attachBrowserEvent("blur",t=>{if(!this.getDomRef()?.contains(t.relatedTarget)){this.closeInlineEditPopupNoEditMode()}});this._inlineEditIndicator.attachEvent("pressTab",()=>{this.pressTabKey()});this._inlineEditIndicator.attachEvent("pressShiftTab",()=>{this.pressShiftAndTabKey(this.getContent().getContentEdit()[0])});this._inlineEditIndicatorPopup=new n(this._inlineEditIndicator,false,false,false);const o=this.triggerInlineEditSave.bind(this);const s=this.triggerInlineEditDiscard.bind(this);this._inlineEditIndicator.addDependent(new e({execute:o,enabled:true,visible:true,command:"Save"}));this._inlineEditIndicator.addDependent(new e({execute:s,enabled:true,visible:true,command:"Cancel"}));this._inlineEditIndicatorPopup.setFollowOf(()=>{this.popupBehaviour()});this.attachBrowserEvent("dblclick",this.triggerInlineEdit.bind(this));this.attachBrowserEvent("mouseover",this.openInlineEditPopup.bind(this));this.attachBrowserEvent("mouseout",t=>{this.closeInlineEditPopupMouseEvent(t.relatedTarget)});this.attachBrowserEvent("focus",t=>{this.focusEvent(t,this.getContent().contentDisplay?.getDomRef())});this.attachBrowserEvent("keydown",t=>{this.keydownEvent(t,this.getContent().contentDisplay?.getDomRef())});this.attachEvent("validateFieldGroup",t=>{const i=t.getParameter("fieldGroupIds");i?.forEach(t=>{if(t==="InlineEdit"){this.getPageController()?.inlineEditFlow.delayedCallToSave()}})});this.attachBrowserEvent("focusin",t=>{if(this.inlineEditState==="Editable"&&!this._inlineEditIndicatorPopup.isOpen()){this.openInlineEditPopupForFocus(t);this.setInlineEditFocus()}})}};o.prototype.onDestroy=function(){this._inlineEditIndicator?.destroy();this._inlineEditIndicatorPopup?.destroy();l?.call(this)}};s.addAriaAttributes=function t(){if(this._inlineEditIndicator){this._inlineEditIndicator.removeAllEditButtonAriaDescribedBy();this.getLabelControls().forEach(t=>{this._inlineEditIndicator?.addEditButtonAriaDescribedBy(t)});this._inlineEditIndicator.addEditButtonAriaDescribedBy(this.getIdForLabel())}};s.getDomRefOfField=function t(){const i=this.getContent();if(i?.contentEdit?.length>0&&i?.contentEdit[0]?.getDomRef()){return i.contentEdit[0].getDomRef()}else if(i?.contentDisplay&&i.contentDisplay.getDomRef()){return i.contentDisplay.getDomRef()}else if(i?.isA("sap.fe.macros.controls.FileWrapper")){return i.fileUploader.getDomRef()}return null};s.popupBehaviour=function t(){const i=this.getDomRefOfField();if(i){const t=this.getOverlappingElement(i);if(t!==i&&!i.contains(t)){this._inlineEditIndicatorPopup?.close();if(this.inlineEditState==="Editable"){const t=setInterval(()=>{this.popupIntervallHandler(i,t)},200)}}else{this._inlineEditIndicatorPopup?.setPosition(n.Dock.EndTop,n.Dock.EndBottom,this._source,"0 -4")}}};s.getOverlappingElement=function t(i){return document.elementFromPoint(i.getBoundingClientRect().x+i.getBoundingClientRect().width/2,i.getBoundingClientRect().y+.66*i.getBoundingClientRect().height)};s.popupIntervallHandler=function t(i,e){const o=this.getOverlappingElement(i);if(o===i||i.contains(o)){this._inlineEditIndicatorPopup?.open(0,n.Dock.EndTop,n.Dock.EndBottom,this);clearInterval(e)}};s.focusHandlingInlineEdit=function t(i,e){const n=o(this.getDomRef(),{skipChild:true,forward:e});n?.element.focus();this._inlineEditIndicatorPopup?.close();if(i){if(this._isInlineEditSource){this.triggerInlineEditSave()}}};s.focusMeasureField=function t(){const i=o(this.getDomRef(),{skipChild:false,forward:true});const e=o(i.element,{skipChild:true,forward:true});e?.element?.focus()};s.focusHandlingMeasureField=function t(i){const e=o(document.activeElement,{skipChild:true,forward:i});if(this.getDomRef()?.contains(e.element)){e.element?.focus()}else if(i){this._inlineEditIndicator?.getSaveButton().focus()}else{e.element?.focus()}};s.inlineEditKeydown=function t(i,e){if(i.key==="Escape"){i.preventDefault();this.triggerInlineEditDiscard()}else if(i.key==="Tab"&&!i.shiftKey){i.preventDefault();this.pressTabKeyOnField(e,i)}else if(i.key==="Tab"&&i.shiftKey){i.preventDefault();this.pressShiftTabKeyOnField(e)}};s.pressTabKey=function t(){if(this._inlineEditIndicator){switch(document.activeElement){case document.getElementById(this._inlineEditIndicator?.getEditButton().getId()):this.focusHandlingInlineEdit(false,true);break;case document.getElementById(this._inlineEditIndicator?.getSaveButton().getId()):this._inlineEditIndicator?.getDiscardButton().focus();break;case document.getElementById(this._inlineEditIndicator?.getDiscardButton().getId()):this.focusHandlingInlineEdit(true,true);break;default:}}};s.pressShiftAndTabKey=function t(i){if(this._inlineEditIndicator){switch(document.activeElement){case document.getElementById(this._inlineEditIndicator?.getEditButton().getId()):this.focusHandlingInlineEdit(false,false);break;case document.getElementById(this._inlineEditIndicator?.getSaveButton().getId()):if(this.checkForMeasureField()){this.focusMeasureField()}else{i.focus()}break;case document.getElementById(this._inlineEditIndicator?.getDiscardButton().getId()):this._inlineEditIndicator?.getSaveButton().focus();break;default:}}};s.pressTabKeyOnField=function t(i,e){if(document.activeElement===i){this.openInlineEditPopup(e);this._inlineEditIndicator?.getEditButton().focus()}else if(!this.checkForMeasureField()){this._inlineEditIndicator?.getSaveButton().focus()}else{this.focusHandlingMeasureField(true)}};s.pressShiftTabKeyOnField=function t(i){if(document.activeElement===i){this.focusHandlingInlineEdit(true,false)}else if(!this.checkForMeasureField()){this.focusHandlingInlineEdit(true,false)}else{this.focusHandlingMeasureField(false)}};s.focusEvent=function t(i,e){if(this.hasInlineEdit){i.preventDefault();if(this.checkForSemanticObject()){e.focus()}else{this.openInlineEditPopup(i);this._inlineEditIndicator?.getEditButton().focus()}}};s.keydownEvent=function t(i,e){if((this.inlineEditState==="Editable"||document.activeElement===e&&this.checkForSemanticObject())&&this.hasInlineEdit){this.inlineEditKeydown(i,e)}};s.toggleInlineEditFieldGroupId=function t(i){const e=i===c.Add;const n=new Set(this.getFieldGroupIds());if(e){n.add("InlineEdit")}else{n.delete("InlineEdit")}this.setFieldGroupIds(Array.from(n));const o=this.content?.findAggregatedObjects(true,t=>t.isA("sap.ui.core.Control"))??[];for(const t of o){const i=new Set(t.getFieldGroupIds());if(e){i.add("InlineEdit")}else{i.delete("InlineEdit")}t.setFieldGroupIds(Array.from(i))}};s.openInlineEditPopup=function t(i){if(this.hasInlineEdit&&this.inlineEditState!=="Editable"&&this.editMode==="Display"&&!this.readOnly){this._inlineEditIndicatorPopup?.open(0,n.Dock.EndTop,n.Dock.EndBottom,i.currentTarget);this._source=i.currentTarget;this._inlineEditIndicator?.setWidth(i.currentTarget?.getBoundingClientRect().width)}};s.closeInlineEditPopupMouseEvent=function t(i){if(i&&!this._inlineEditIndicator?.getDomRef()?.contains(i)&&!this.getDomRef()?.contains(i)){this.closeInlineEditPopupNoEditMode()}};s.checkForMeasureField=function t(){const i=this.getInlineEditProperty();return!!i?.annotations.Measures};s.checkForSemanticObject=function t(){const i=this.getInlineEditProperty();return!!i?.annotations.Common?.SemanticObject};s.closeInlineEditPopupNoEditMode=function t(){if(!this._inlineEditIndicator?.getEditMode()){this._inlineEditIndicatorPopup?.close()}};s.closeInlineEditPopupEditMode=function t(){if(this._inlineEditIndicator?.getEditMode()){this._inlineEditIndicatorPopup?.close();this._isInlineEditSource=false}};s.openInlineEditPopupForFocus=function t(i){this._inlineEditIndicator?.setEditMode(true);this._inlineEditIndicatorPopup?.open(0,n.Dock.EndTop,n.Dock.EndBottom,i.currentTarget||this._source,"0 -4");this._isInlineEditSource=true};s.setInlineEditFocus=function t(){this.getPageController()?.inlineEditFlow.focusHandling(this)};s.triggerInlineEdit=function t(){if(!this.inlineEditEnabled||this.editMode!=="Display"||this.readOnly||!this.hasInlineEdit){return}this._isInlineEditSource=true;this._inlineEditIndicator?.setEditMode(true);this._inlineEditIndicatorPopup?.setPosition(n.Dock.EndTop,n.Dock.EndBottom,this._source,"0 -4");const i=this.getBindingContext()?.getCanonicalPath()??"";const e=this.getInlineEditPropertyName();if(e){this.getPageController()?.inlineEditFlow.startInlineEdit(e,i,this)}};s.triggerInlineEditDiscard=async function t(){if(this.hasPendingUserInput()){await new Promise(t=>{setTimeout(t,200)})}this.getPageController()?.inlineEditFlow.inlineEditDiscard()};s.triggerInlineEditSave=async function t(){if(this.hasPendingUserInput()){await new Promise(t=>{setTimeout(t,200)})}return this.getPageController()?.inlineEditFlow.inlineEditSave()};s.inlineEditStart=function t(i,e,n){if(this.hasInlineEdit){const t=this.getBindingContext()?.getCanonicalPath()??"";const o=this.getInlineEditPropertyName()??"";if(!e.includes(o)||n!==t){return}this.toggleInlineEditFieldGroupId(c.Add);const s=this.getModel("ui");const d=`/${this.getId()}`;s.setProperty(d,{isEditable:true});this.bindElement({path:d,model:"ui"});if(this._isInlineEditSource){setTimeout(()=>{this.getContent()?.getContentEdit()[0]?.focus();this.invalidate()},200)}if(e.includes(o)){this.inlineEditState="Editable"}if(!i.includes(this)){i.push(this)}}};s.resetIndicatorPopup=function t(){this._inlineEditIndicatorPopup?.close();this._inlineEditIndicator?.setEditMode(false);this._isInlineEditSource=false};s.inlineEditEnd=function t(i){if(this.inlineEditState==="Editable"){if(i){this.refreshDescriptionIfNeeded()}this.toggleInlineEditFieldGroupId(c.Remove);this.unbindElement("ui");this.inlineEditState="Closed";this.resetIndicatorPopup()}};s.refreshDescriptionIfNeeded=function t(){if(this.isA("sap.fe.macros.Field")){const t=this.content?.isA("sap.fe.macros.controls.FieldWrapper")?this.content.getContentEdit()[0]:null;if(t&&t.isA("sap.ui.mdc.Field")){const i=t.getBinding("additionalValue")?.getPath();if(i){this.getBindingContext()?.requestSideEffects([i],"$auto")}}}};return t}(),a(d.prototype,"inlineEditStart",[s],Object.getOwnPropertyDescriptor(d.prototype,"inlineEditStart"),d.prototype),d);l=u;return l},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/insights/AnalyticalInsightsHelper", ["sap/fe/macros/field/FieldTemplating","sap/fe/macros/insights/CommonInsightsHelper"],function(e,t){"use strict";var a={};var r=t.createInsightsParams;var n=e.getTextBinding;function s(e){return e.getMeasures().map(e=>({name:e.getLabel(),value:"{"+e.getName()+"}"}))}a.getMeasures=s;function i(e,t){return e.getDimensions().filter(function(t){return e.getVisibleDimensions().includes(t.getName())}).map(e=>{const a=t.getPropertyDataModel(e.getName());const r=a?n(a,{},false,"extension.formatters.sapfe.formatWithBrackets"):undefined;return{name:e.getLabel(),value:`{${e.getName()}}`,displayValue:r}})}a.getDimensions=i;function o(e){const t=e.getAggregation("_vizFrame").getFeeds();const a=t.map(t=>t.getProperty("values").map(a=>{const r=l(e,a.getProperty("name"),a.getProperty("type"));const n={type:t.getProperty("type"),uid:t.getProperty("uid"),values:[r]};return n}));return a.flat()}a.getFeeds=o;function g(e,t){const a=e.plotArea?.dataPointStyle?.rules??[];a.forEach(e=>{e.dataContext={};if(t){e.dataContext[t]=e.displayName||""}return e});return e}function l(e,t,a){if(a==="Dimension"){const a=e.getDimensions();return a.filter(e=>e.getName()===t)[0].getLabel()||t}else{const a=e.getMeasures();return a.filter(e=>e.getName()===t)[0].getLabel()||t}}async function c(e){const t=e.content;const a=t.getControlDelegate()?.getInnerChart(t);if(!a){throw new Error("Cannot access chart.")}const n=await r("Analytical",e,t.getFilter());if(!n){return}n.entitySetPath=t.data("targetCollectionPath");n.requestParameters.queryUrl=a.getBinding("data").getDownloadUrl()??"";const l=i(a,e);const c={cardTitle:t.getHeader(),legendVisible:false,chartType:t.getChartType(),measures:s(a),dimensions:l,feeds:o(a),allowedChartTypes:a.getAvailableChartTypes().available,chartProperties:g(a.getAggregation("_vizFrame").getVizProperties(),l[0]?.name)};return{...n,content:c}}a.createChartCardParams=c;return a},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/insights/CommonInsightsHelper", ["sap/base/util/deepClone","sap/fe/core/CommonUtils","sap/fe/core/helpers/ResourceModelHelper","sap/m/MessageBox","sap/ui/core/Element","sap/ui/mdc/p13n/StateUtil","../mdc/adapter/StateFilterToSelectionVariant"],function(t,e,n,o,r,a,s){"use strict";var i={};var c=n.getResourceModel;const l={"sap.ui.model.odata.type.String":"string","sap.ui.model.odata.type.Int":"integer","sap.ui.model.odata.type.Int32":"integer","sap.ui.model.odata.type.Int64":"integer","sap.ui.model.odata.type.Boolean":"boolean","sap.ui.model.odata.type.Decimal":"number","sap.ui.model.odata.type.Double":"number","sap.ui.model.odata.type.Date":"date","sap.ui.model.odata.type.DateTimeOffset":"datetime"};function p(t,e){if(e&&e.length===0){return false}const n=r.getElementById(t);if(n?.isA("sap.fe.macros.controls.FilterBar")){const t=n.getParent().isSemanticDateFilterApplied();return!t}return true}i.isInsightsCardCreationPossible=p;function g(t,e){if(t==="Table"){const t=`<strong>\n\t\t${e.getText("M_CARD_RETRY_MESSAGE")}\n\t\t</strong>`;const n=`<ul><li>\n\t\t\t${e.getText("M_CARD_FAILURE_REASON_DATE_RANGE_FILTERS")}\n\t\t\t</li><li>\n\t\t\t${e.getText("M_CARD_FAILURE_TABLE_REASON_UNSUPPORTED_COLUMNS")}\n\t\t\t</li></ul>`;const r=t+n;o.error(e.getText("M_CARD_CREATION_FAILURE"),{onClose:function(){throw new Error("Insights is not supported")},details:r})}else{const t=e.getText("M_CARD_CREATION_FAILURE_CHART_REASON_DATE_RANGE_FILTERS");o.error(t,{onClose:function(){throw new Error("Insights is not supported")}})}}function u(t){const e=t.getShellServices();const n=t.getNavigationService();const o=e.getHash();const r=e.parseShellHash(o);return{iAppStateKey:n.getIAppStateKey(),appVariantId:r.params?.["sap-appvar-id"]?.[0],intent:{semanticObject:r.semanticObject,action:r.action}}}function d(t,e,n,o){const r={};const a=s.mergeSelectionVariants(e,o);const i=a.getSelectOptionsPropertyNames();if(i.length){for(const e of i){const o=m(e,n);if(e!=="$editState"&&!t.includes(e)&&!e.includes("$Parameter.")&&o){const t={id:a.getID(),Parameters:[],SelectOptions:[{PropertyName:e,Ranges:a.getSelectOption(e)}]};r[e]={value:JSON.stringify(t),type:o}}}}return r}function f(t,e,n){const o={};const r=e.getSelectOptionsPropertyNames();if(r.length){for(const a of t){const t=m(a,n);if(r.includes(a)&&t){o[a]={value:e.getSelectOption(a)?.[0].Low,type:t}}}}return o}function m(t,e){let n;e.forEach(e=>{if(e.name===t){n=l[e.dataType]}});return n}async function S(n,o,i,l){const m=p(i,l);if(!m){g(n,c(o));return}if(!o.content){throw new Error("Control API content is null or undefined")}const S=e.getAppComponent(o.content);const A=r.getElementById(i);const E=o.content;const y=await a.retrieveExternalState(E);const R=s.getSelectionVariantFromConditions(y.filter,E.getPropertyHelper());let _,I,h=[];if(A?.isA("sap.fe.macros.controls.FilterBar")){const t=A.getParent();const e=t.getParameters();const n=await t.getSelectionVariant();const o=A.getPropertyInfoSet();h=t.getMandatoryFilterPropertyNames();_=d(e,n,o,R);I=f(e,n,o)}const T=t(S.getManifest(),20);const C=T["sap.app"];if(C["crossNavigation"]){delete C.crossNavigation}const P={navigation:u(S),type:n,requestParameters:{serviceUrl:o.content.getModel().getServiceUrl(),queryUrl:"",sortQuery:""},content:{cardTitle:""},parentAppManifest:T,parameters:{mandatoryFilters:h,filters:_,oDataParameters:I},entitySetPath:""};return P}i.createInsightsParams=S;function A(t){const e=n.getResourceModel(t);o.error(e.getText("M_CARD_FAILURE_GENERIC"))}i.showGenericErrorMessage=A;function E(t,e,n){if(!p(e,n)){return false}let o=false;for(const e of t){const t=e.getAction();const n=t.getId().includes("StandardAction::Insights");o=n&&t.getVisible()&&t.getEnabled();if(o){break}}return o}i.hasInsightActionEnabled=E;return i},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/insights/InsightsService", ["sap/ui/VersionInfo","sap/ui/core/Lib"],function(e,t){"use strict";function a(e){return new Promise((t,a)=>{sap.ui.require([e],a=>{if(!(a&&a.__esModule)){a=a===null||!(typeof a==="object"&&e.endsWith("/library"))?{default:a}:a;Object.defineProperty(a,"__esModule",{value:true})}t(a)},e=>{a(e)})})}var r={};const n=15;const s="{{destinations.service}}";function i(e,t){return e==="Analytical"}function o(e){let{type:t,requestParameters:a}=e;let r=a.queryUrl;if(a.queryUrl.includes(a.serviceUrl)){r=a.queryUrl.split(a.serviceUrl)[1]}if(t==="Table"){r=`${r}&$top=${n}`}return{request:{url:`${s}${a.serviceUrl}$batch`,method:"POST",headers:{"X-CSRF-Token":"{{csrfTokens.token1}}"},batch:{response:{method:"GET",url:r,headers:{Accept:"application/json"}}}}}}function u(e){const t={title:e.content.cardTitle,actions:[{type:"Navigation",parameters:"{= extension.formatters.getNavigationContext(${parameters>/state/value})}"}]};if(e.type==="Table"){t.status={text:"{/response/@odata.count}"}}return t}function p(e){let t={sensitiveProps:[],nhHybridIAppStateKey:e.iAppStateKey};if(e.appVariantId){t={...t,...{"sap-appvar-id":e.appVariantId}}}const a={parameters:{ibnTarget:e.intent,ibnParams:t}};return JSON.stringify(a)}function c(e,t,a,r,s,i,o,u){const c={state:{value:p(a)},_relevantODataFilters:{value:[]},_relevantODataParameters:{value:[]},_mandatoryODataFilters:{value:e},_mandatoryODataParameters:{value:[]},sensitiveProps:[],_entitySet:{value:r},_contentDataUrl:{value:i},_HeaderDataUrl:{value:i},_contentTopQuery:{value:u==="Table"?`$top=${n}`:""},_headerTopQuery:{value:u==="Table"?`$top=${n}`:""},_contentSkipQuery:{value:u==="Table"?"$skip=0":""},_headerSkipQuery:{value:u==="Table"?"$skip=0":""},_contentSortQuery:{value:o===""?"":`$orderby=${o}`},_headerSortQuery:{value:o===""?"":`$orderby=${o}`}};for(const e in t){c._relevantODataFilters.value.push(e);c[e]={value:t[e].value,type:t[e].type}}for(const e in s){c._relevantODataParameters.value.push(e);c._mandatoryODataParameters.value.push(e);c[e]={value:s[e].value,type:s[e].type}}return c}function l(e){const t={};const a=e.requestParameters.serviceUrl;t.destinations={service:{name:"(default)",defaultUrl:"/"}};t.csrfTokens={token1:{data:{request:{url:`${s}${a}`,method:"HEAD",headers:{"X-CSRF-Token":"Fetch"}}}}};t.parameters=c(e.parameters.mandatoryFilters??[],e.parameters.filters??{},e.navigation,e.entitySetPath,e.parameters.oDataParameters??{},e.requestParameters.queryUrl,e.requestParameters.sortQuery,e.type);return t}function d(e){const t={type:e.type};t.configuration=l(e);t.header=u(e);t.data=o(e);if(i(e.type,e.content)){t.content=v(e.content)}else{t.content=y(e)}t.extension="module:sap/fe/core/InsightsFormattersExtension";return t}function y(e){let{requestParameters:t,content:a,parameters:r}=e;const s={data:{path:"/response/value"},maxItems:n,row:{highlight:a.rowCriticality?a.rowCriticality:undefined,columns:a.insightsRelevantColumns}};if(t.groupBy){const e=t.groupBy.property;const a=t.groupBy.descending;s.group={title:"{"+e+"}",order:{path:e,dir:a===true?"DESC":"ASC"}}}if(r.isNavigationEnabled===true){s.row.actions=[{type:"Navigation",parameters:"{= extension.formatters.getNavigationContext(${parameters>/state/value}, ${})}"}]}return s}function v(e){return{chartType:e.chartType,chartProperties:e.chartProperties,data:{path:"/response/value"},dimensions:e.dimensions,measures:e.measures,feeds:e.feeds,actions:[{type:"Navigation",parameters:"{= extension.formatters.getNavigationContext(${parameters>/state/value}, ${})}"}],actionableArea:"Chart"}}r.getAnalyticalCardContent=v;async function f(t){let{parentAppManifest:a,entitySetPath:r,type:n,content:s}=t;const o=await e.load();const u={parentAppId:a["sap.app"].id,cardType:"RT",versions:{ui5:o.version+"-"+o.buildTimestamp},filterEntitySet:r};if(i(n,s)){u.allowedChartTypes=s.allowedChartTypes}return u}async function m(e){const t={...e.parentAppManifest["sap.app"]};const a={...e.parentAppManifest["sap.ui5"]};const r=a.models[""];const n=r.dataSource?r.dataSource:"";const s={};t.id=`user.${t.id}.${Date.now()}`;t.type="card";t.dataSources.filterService={...t.dataSources[n]};s["sap.app"]=t;s["sap.card"]=d(e);s["sap.insights"]=await f(e);s["sap.ui5"]={contentDensities:a.contentDensities,dependencies:{libs:{"sap.insights":{lazy:false}}},componentName:s["sap.app"].id};return s}r.createCardManifest=m;async function h(e,t){const{default:r}=await a("sap/insights/CardHelper");const n=await r.getServiceAsync("UIService");const s=await m(e);await n.showCardPreview(s,true,t)}r.showInsightsCardPreview=h;async function g(e,r){const{default:n}=await a("sap/insights/CardHelper");const s=await n.getServiceAsync("UIService");const i=t.getResourceBundleFor("sap.fe.macros")?.getText("C_SEND_TO_COLLABORATION_MANAGER");await s.showCardPreview(e,true,{type:"None"},i,e=>{const t=e.getParameter("manifest")??e.getSource().getManifest();r.publishCard(t)})}r.showCollaborationManagerCardPreview=g;async function C(e){return m(e)}r.getCardManifest=C;return r},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/insights/TableInsightsHelper", ["sap/fe/base/BindingToolkit","sap/fe/core/CommonUtils","sap/fe/core/converters/MetaModelConverter","sap/fe/core/converters/annotations/DataField","sap/fe/core/formatters/ValueFormatter","sap/fe/core/helpers/TitleHelper","sap/fe/core/templating/CriticalityFormatters","sap/fe/core/templating/DataModelPathHelper","sap/fe/core/templating/PropertyHelper","sap/fe/core/templating/UIFormatters","sap/fe/macros/field/FieldTemplating","sap/ui/mdc/p13n/StateUtil","./CommonInsightsHelper"],function(t,e,n,a,r,o,i,s,c,l,u,p,g){"use strict";var f={};var d=g.createInsightsParams;var m=u.getTextBinding;var v=l.getDisplayMode;var h=c.isSemanticKey;var y=c.isImageURL;var C=s.getRelativePaths;var P=s.getContextRelativeTargetObjectPath;var T=i.criticalityIconExpressionForIntegrationCards;var I=i.criticalityExpressionForIntegrationCards;var x=o.getTitleBindingExpression;var w=a.isDataFieldTypes;var b=n.getInvolvedDataModelObjects;var M=n.convertTypes;var D=t.pathInModel;var E=t.getExpressionFromAnnotation;var F=t.formatWithTypeInformation;var S=t.formatResult;var R=t.concat;var O=t.compileExpression;function V(t,e){const n=t?.annotations.Measures?.ISOCurrency||t?.annotations.Measures?.Unit;if(!n){return}else{const t=D(e);return O(R(t," ",E(n)))}}function U(t){return"annotationPath"in t}function B(t,e,n){return e.columns.reduce(function(e,a){if(a.name in t&&U(a)){let r;const o=n.resolvePath(a.annotationPath).target;if(w(o)){r=o.Value.$target}else{r=n.resolvePath(a.annotationPath).target}if(!(r&&y(r))&&!a.isMultiValue){e.push({...t[a.name],annotationPath:a.annotationPath,formatOptions:a.typeConfig?.formatOptions})}}return e},[])}function j(t,e){let n=D(P(e));const a=e.targetObject;const o=a?.annotations.Common?.Text;if(o===undefined||a===undefined){return undefined}n=F(a,n);switch(t){case"ValueDescription":const t=C(e);return O(E(o,t));case"DescriptionValue":return O(S([n],r.formatToKeepWhitespace));default:return undefined}}f.getAdditionalText=j;function H(t){return t.getTableDefinition().annotation.row?.rowCriticalityForInsights}f.getRowCriticality=H;function q(t){const n=t.getContent();const a=n.getModel()?.getMetaModel();const r=n.data("metaPath");const o={};n.getColumns().forEach(t=>{const e=t.getPropertyKey();const n=a.getContext(r+"/"+e);const i=b(n);const s=t.getProperty("header");o[e]={property:e,context:n,objectPath:i,title:s}});const i=B(o,t.getTableDefinition(),M(a));return i.map(function(n){const o=b(n.context);const i=o.targetObject;const s=V(i,n.property);const c=s??m(o,{},false,"extension.formatters.sapfe.formatWithBrackets");const l={visible:false,value:c,title:n.title};if(h(i,o)){const n=v(o);l.value=x(o,u.getTextBindingExpression,{displayMode:n,splitTitleOnTwoLines:true},undefined,e.getTargetView(t).getViewData(),"extension.formatters.sapfe.formatTitle");l.additionalText=j(n,o);l.identifier=true}if(n.annotationPath){const t=W(n.annotationPath,r,a);if(t){l.state=t.state;l.showStateIcon=t.showStateIcon;l.customStateIcon=t.customStateIcon}}return l})}f.getInsightsRelevantColumns=q;function W(t,e,n){const a=b(n.getContext(t),n.getContext(e)),r=a.targetObject;if(r.Criticality){const t=r.CriticalityRepresentation!=="UI.CriticalityRepresentationType/WithoutIcon";return{state:I(r.Criticality),showStateIcon:t,customStateIcon:t?T(r):""}}return undefined}async function K(t,e,n){const a=t.getContent();const r=await d("Table",t,a.getFilter(),e);if(!r){return}try{const t=await p.retrieveExternalState(a);const e=t.groupLevels?.[0]?.name.split("::").pop();if(e){r.requestParameters.groupBy={property:e}}}catch{throw Error("Error retrieving control states")}r.parameters.isNavigationEnabled=L(t);r.entitySetPath=a.data("metaPath");r.requestParameters.sortQuery=n;r.requestParameters.queryUrl=a.getRowBinding().getDownloadUrl()??"";const o={cardTitle:a.getHeader(),insightsRelevantColumns:e,rowCriticality:H(t)??undefined};return{...r,content:o}}f.createTableCardParams=K;function L(t){const n=t.getContent(),a=e.getTargetView(t).getViewData(),r=n.data("metaPath"),o=a.navigation?.[r]?a.navigation[r]:a.navigation?.[r.replace("/","")];return!(o?.detail?.outbound||o?.display?.target)}return f},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/internal/ActionCommand.block", ["sap/fe/core/buildingBlocks/templating/BuildingBlockSupport","sap/fe/core/buildingBlocks/templating/BuildingBlockTemplatingBase","sap/fe/macros/ActionCommand"],function(e,t,i){"use strict";var r,n,l,a,o,u,c,b,s,p,f,d,m,E,g,y,v,z,B,h,w,x,A;var k={};var I=i.getCommandExecutionForAction;var N=e.defineBuildingBlock;var O=e.blockEvent;var j=e.blockAttribute;function P(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function M(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,_(e,t)}function _(e,t){return _=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},_(e,t)}function C(e,t,i,r,n){var l={};return Object.keys(r).forEach(function(e){l[e]=r[e]}),l.enumerable=!!l.enumerable,l.configurable=!!l.configurable,("value"in l||l.initializer)&&(l.writable=!0),l=i.slice().reverse().reduce(function(i,r){return r(e,t,i)||i},l),n&&void 0!==l.initializer&&(l.value=l.initializer?l.initializer.call(n):void 0,l.initializer=void 0),void 0===l.initializer?(Object.defineProperty(e,t,l),null):l}function q(e,t){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let T=(r=N({name:"ActionCommand",namespace:"sap.fe.macros.internal"}),n=j({type:"string",required:true}),l=j({type:"object",required:true}),a=j({type:"boolean"}),o=j({type:"boolean"}),u=j({type:"boolean"}),c=j({type:"boolean"}),b=j({type:"string"}),s=O(),p=O(),f=O(),r(d=(m=function(e){function t(t,i,r){var n;n=e.call(this,t,i,r)||this;P(n,"id",E,n);P(n,"action",g,n);P(n,"isActionEnabled",y,n);P(n,"isIBNEnabled",v,n);P(n,"isEnabled",z,n);P(n,"visible",B,n);P(n,"command",h,n);P(n,"onExecuteAction",w,n);P(n,"onExecuteIBN",x,n);P(n,"onExecuteManifest",A,n);return n}k=t;M(t,e);var i=t.prototype;i.getTemplate=function e(){return I(this.command,this.action,{visible:this.visible,onExecuteAction:this.onExecuteAction,onExecuteIBN:this.onExecuteIBN,onExecuteManifest:this.onExecuteManifest,isActionEnabled:this.isActionEnabled,isIBNEnabled:this.isIBNEnabled,isEnabled:this.isEnabled})};return t}(t),E=C(m.prototype,"id",[n],{configurable:true,enumerable:true,writable:true,initializer:null}),g=C(m.prototype,"action",[l],{configurable:true,enumerable:true,writable:true,initializer:null}),y=C(m.prototype,"isActionEnabled",[a],{configurable:true,enumerable:true,writable:true,initializer:null}),v=C(m.prototype,"isIBNEnabled",[o],{configurable:true,enumerable:true,writable:true,initializer:null}),z=C(m.prototype,"isEnabled",[u],{configurable:true,enumerable:true,writable:true,initializer:null}),B=C(m.prototype,"visible",[c],{configurable:true,enumerable:true,writable:true,initializer:null}),h=C(m.prototype,"command",[b],{configurable:true,enumerable:true,writable:true,initializer:null}),w=C(m.prototype,"onExecuteAction",[s],{configurable:true,enumerable:true,writable:true,initializer:null}),x=C(m.prototype,"onExecuteIBN",[p],{configurable:true,enumerable:true,writable:true,initializer:null}),A=C(m.prototype,"onExecuteManifest",[f],{configurable:true,enumerable:true,writable:true,initializer:null}),m))||d);k=T;return k},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/internal/DataPoint", ["sap/base/Log","sap/fe/base/BindingToolkit","sap/fe/base/ClassSupport","sap/fe/core/buildingBlocks/BuildingBlock","sap/fe/core/helpers/StableIdHelper","sap/fe/core/helpers/TypeGuards","sap/fe/core/templating/CriticalityFormatters","sap/fe/core/templating/DataModelPathHelper","sap/fe/core/templating/PropertyHelper","sap/fe/core/templating/SemanticObjectHelper","sap/fe/core/templating/UIFormatters","sap/fe/macros/field/FieldTemplating","sap/fe/macros/internal/helpers/DataPointTemplating","sap/fe/macros/quickView/QuickView","sap/m/ObjectNumber","sap/m/ObjectStatus","sap/m/ProgressIndicator","sap/m/RatingIndicator","../field/FieldRuntimeHelper","./DataPointFormatOptions","sap/fe/base/jsx-runtime/jsx"],function(t,e,i,a,r,n,s,o,l,u,c,d,p,h,f,g,b,m,O,P,v){"use strict";var y,j,V,M,x,D,I,F,z,w,S,T,k;var C={};var B=p.getValueFormatted;var E=p.buildFieldBindingExpression;var N=p.buildExpressionForProgressIndicatorPercentValue;var A=p.buildExpressionForProgressIndicatorDisplayValue;var L=d.isUsedInNavigationWithQuickViewFacets;var Q=d.getVisibleExpression;var R=u.getPropertyWithSemanticObject;var U=l.hasUnit;var H=l.hasCurrency;var W=o.getRelativePaths;var _=o.enhanceDataModelPath;var q=s.buildExpressionForCriticalityIcon;var G=s.buildExpressionForCriticalityColor;var $=n.isProperty;var J=r.generate;var K=i.property;var X=i.defineUI5Class;var Y=i.association;var Z=i.aggregation;var tt=e.getExpressionFromAnnotation;var et=e.compileExpression;function it(t,e,i,a){i&&Object.defineProperty(t,e,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(a):void 0})}function at(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,rt(t,e)}function rt(t,e){return rt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},rt(t,e)}function nt(t,e,i,a,r){var n={};return Object.keys(a).forEach(function(t){n[t]=a[t]}),n.enumerable=!!n.enumerable,n.configurable=!!n.configurable,("value"in n||n.initializer)&&(n.writable=!0),n=i.slice().reverse().reduce(function(i,a){return a(t,e,i)||i},n),r&&void 0!==n.initializer&&(n.value=n.initializer?n.initializer.call(r):void 0,n.initializer=void 0),void 0===n.initializer?(Object.defineProperty(t,e,n),null):n}function st(t,e){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let ot=(y=X("sap.fe.macros.internal.DataPoint"),j=Y({type:"string"}),V=K({type:"string",required:true}),M=K({type:"string"}),x=Z({type:"sap.fe.macros.internal.DataPointFormatOptions",multiple:false,defaultClass:P}),D=K({type:"string",isBindingInfo:true}),y(I=(F=function(e){function i(t,i){var a;a=e.call(this,t,i)||this;it(a,"idPrefix",z,a);it(a,"metaPath",w,a);it(a,"contextPath",S,a);it(a,"formatOptions",T,a);it(a,"value",k,a);a.hasQuickView=false;return a}C=i;at(i,e);var a=i.prototype;a.onMetadataAvailable=function t(){this.getTemplatingObjects();if(!this.content){this.content=this.createContent()}};a.getTemplatingObjects=function t(){const e=this.getDataModelObjectForMetaPath(this.metaPath,this.contextPath);if(!e){return}let i;this.visible=Q(e);if(e?.targetObject?.Value?.path){i=_(e,e.targetObject.Value.path)}this.dataModelPath=e;this.valueDataModelPath=i};a.getDataPointVisualization=function t(e){if(e.targetObject?.Visualization==="UI.VisualizationType/Rating"){this.visualization="Rating";return}if(e.targetObject?.Visualization==="UI.VisualizationType/Progress"){this.visualization="Progress";return}const i=this.valueDataModelPath&&this.valueDataModelPath.targetObject;this.hasQuickView=(i&&L(e,i))??false;if(this.valueDataModelPath&&R(this.valueDataModelPath)){this.hasQuickView=true}if(this.hasQuickView!==true){if($(i)&&(U(i)||H(i))){this.visualization="ObjectNumber";return}}this.visualization="ObjectStatus"};a.getEnabled=function t(){if(this.content?.isA("sap.m.ObjectStatus")){return this.content.getActive()}else{return true}};a.setEnabled=function t(e){if(this.content?.isA("sap.m.ObjectStatus")){this.content.setProperty("active",e)}else{throw"setEnabled isn't implemented for this field type"}return this};a.createRatingIndicator=function t(e){const i=e.targetObject;const a=this.getTargetValueBinding(e);const r=i?.Value||"";const n=r?.$target?.type;let s;if(n==="Edm.Decimal"&&i?.ValueFormat){if(i.ValueFormat.NumberOfFractionalDigits){s=i.ValueFormat.NumberOfFractionalDigits}}const o=B(this.valueDataModelPath,r,n,s);return v(m,{id:this.idPrefix?J([this.idPrefix,"RatingIndicator-Field-display"]):undefined,maxValue:a,value:this.value??et(o),tooltip:this.getTooltipValue(e),iconSize:this.formatOptions?.iconSize,class:this.formatOptions?.showLabels??false?"sapUiTinyMarginTopBottom":undefined,editable:"false",ariaLabelledBy:this.ariaLabelledBy})};a.createProgressIndicator=function t(e){const i=e.targetObject?G(e.targetObject,e):undefined;const a=A(e);const r=N(e);return v(b,{id:this.idPrefix?J([this.idPrefix,"ProgressIndicator-Field-display"]):undefined,displayValue:a,percentValue:r,state:i,tooltip:this.getTooltipValue(e),ariaLabelledBy:this.ariaLabelledBy})};a.createObjectNumber=function t(e){const i=e.targetObject?G(e.targetObject,e):undefined;const a=this.formatOptions?.showEmptyIndicator??false?"On":undefined;const r=E(e,this.formatOptions,true);const n=this.getManifestWrapper()?.getSapFeManifestConfiguration()?.app?.showOnlyUnitDecimals===true;const s=this.getManifestWrapper()?.getSapFeManifestConfiguration()?.app?.preserveDecimalsForCurrency===true;const o=this.formatOptions?.measureDisplayMode==="Hidden"?undefined:et(c.getBindingForUnitOrCurrency(this.valueDataModelPath,true,n,s));return v(f,{id:this.idPrefix?J([this.idPrefix,"ObjectNumber-Field-display"]):undefined,state:i,number:this.value??r,unit:o,visible:this.visible,emphasized:"false",class:this.formatOptions?.dataPointStyle==="large"?"sapMObjectNumberLarge":undefined,tooltip:this.getTooltipValue(e),emptyIndicatorMode:a})};a.createDependents=function t(){if(this.hasQuickView){return new h(this.valueDataModelPath,this.metaPath,this.contextPath??"").createContent()}return undefined};a.createObjectStatus=function t(e){let i=e.targetObject?G(e.targetObject,e):undefined;if(i==="None"&&this.valueDataModelPath){i=this.hasQuickView?"Information":"None"}const a=this.formatOptions?.showEmptyIndicator??false?"On":undefined;const r=E(e,this.formatOptions,false);const n=this.formatOptions?.dataPointStyle==="large"||!e.targetObject?undefined:q(e.targetObject,e);return v(g,{id:this.idPrefix?J([this.idPrefix,"ObjectStatus-Field-display"]):undefined,class:this.formatOptions?.dataPointStyle==="large"?"sapMObjectStatusLarge sapMObjectStatusLongText":undefined,icon:n,tooltip:this.getTooltipValue(e),state:i,text:this.value??r,emptyIndicatorMode:a,active:this.hasQuickView,press:O.pressLink,ariaLabelledBy:this.ariaLabelledBy,reactiveAreaMode:this.formatOptions?.reactiveAreaMode,children:{dependents:this.createDependents()}})};a.getTooltipValue=function t(e){return e.targetObject?.annotations?.Common?.QuickInfo?tt(e.targetObject?.annotations?.Common?.QuickInfo,W(e)):undefined};a.getTargetValueBinding=function t(e){return e.targetObject?.TargetValue?tt(e.targetObject?.TargetValue,W(e)):undefined};a.createContent=function t(){if(!this.dataModelPath){return undefined}this.getDataPointVisualization(this.dataModelPath);switch(this.visualization){case"Rating":{return this.createRatingIndicator(this.dataModelPath)}case"Progress":{return this.createProgressIndicator(this.dataModelPath)}case"ObjectNumber":{return this.createObjectNumber(this.dataModelPath)}default:{return this.createObjectStatus(this.dataModelPath)}}};a.getValue=function t(){if(this.content?.isA("sap.m.ObjectStatus")){return this.content.getText()}else if(this.content?.isA("sap.m.ObjectNumber")){return this.content.getNumber()}else if(this.content?.isA("sap.m.ProgressIndicator")){return this.content.getDisplayValue()}else if(this.content?.isA("sap.m.RatingIndicator")){return this.content.getValue().toString()}else{this.getProperty("value")}};a.setValue=function e(i){this.setProperty("value",i);if(this.content?.isA("sap.m.ObjectStatus")){this.content.setText(i)}else if(this.content?.isA("sap.m.ObjectNumber")){this.content.setNumber(i)}else if(this.content?.isA("sap.m.ProgressIndicator")){t.error("setValue isn't implemented for this field type yet")}else if(this.content?.isA("sap.m.RatingIndicator")){this.content.setValue(i)}return this};return i}(a),z=nt(F.prototype,"idPrefix",[j],{configurable:true,enumerable:true,writable:true,initializer:null}),w=nt(F.prototype,"metaPath",[V],{configurable:true,enumerable:true,writable:true,initializer:null}),S=nt(F.prototype,"contextPath",[M],{configurable:true,enumerable:true,writable:true,initializer:null}),T=nt(F.prototype,"formatOptions",[x],{configurable:true,enumerable:true,writable:true,initializer:null}),k=nt(F.prototype,"value",[D],{configurable:true,enumerable:true,writable:true,initializer:null}),F))||I);C=ot;return C},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/internal/DataPointFormatOptions", ["sap/fe/base/ClassSupport","sap/fe/macros/controls/BuildingBlockObjectProperty"],function(e,r){"use strict";var t,i,n,a,o,l,u,s,c,p,b,f,y,d,m,g,v;var z={};var w=e.property;var O=e.defineUI5Class;function h(e,r,t,i){t&&Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(i):void 0})}function P(e,r){e.prototype=Object.create(r.prototype),e.prototype.constructor=e,j(e,r)}function j(e,r){return j=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,r){return e.__proto__=r,e},j(e,r)}function M(e,r,t,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce(function(t,i){return i(e,r,t)||t},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer?(Object.defineProperty(e,r,a),null):a}function S(e,r){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let D=(t=O("sap.fe.macros.internal.DataPointFormatOptions"),i=w({type:"string"}),n=w({type:"string"}),a=w({type:"string"}),o=w({type:"string"}),l=w({type:"boolean"}),u=w({type:"boolean"}),s=w({type:"string",allowedValues:["Inline","Overlay"]}),t(c=(p=function(e){function r(r,t){var i;i=e.call(this,r,t)||this;h(i,"dataPointStyle",b,i);h(i,"displayMode",f,i);h(i,"iconSize",y,i);h(i,"measureDisplayMode",d,i);h(i,"showEmptyIndicator",m,i);h(i,"showLabels",g,i);h(i,"reactiveAreaMode",v,i);return i}z=r;P(r,e);return r}(r),b=M(p.prototype,"dataPointStyle",[i],{configurable:true,enumerable:true,writable:true,initializer:null}),f=M(p.prototype,"displayMode",[n],{configurable:true,enumerable:true,writable:true,initializer:null}),y=M(p.prototype,"iconSize",[a],{configurable:true,enumerable:true,writable:true,initializer:null}),d=M(p.prototype,"measureDisplayMode",[o],{configurable:true,enumerable:true,writable:true,initializer:null}),m=M(p.prototype,"showEmptyIndicator",[l],{configurable:true,enumerable:true,writable:true,initializer:function(){return false}}),g=M(p.prototype,"showLabels",[u],{configurable:true,enumerable:true,writable:true,initializer:function(){return false}}),v=M(p.prototype,"reactiveAreaMode",[s],{configurable:true,enumerable:true,writable:true,initializer:null}),p))||c);z=D;return z},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/internal/FilterField.block", ["sap/base/Log","sap/fe/base/BindingToolkit","sap/fe/core/buildingBlocks/templating/BuildingBlockSupport","sap/fe/core/buildingBlocks/templating/BuildingBlockTemplateProcessor","sap/fe/core/buildingBlocks/templating/BuildingBlockTemplatingBase","sap/fe/core/converters/MetaModelConverter","sap/fe/core/converters/controls/ListReport/FilterField","sap/fe/core/helpers/StableIdHelper","sap/fe/core/templating/DataModelPathHelper","sap/fe/core/templating/PropertyFormatters","sap/fe/core/templating/PropertyHelper","sap/fe/core/templating/UIFormatters","sap/fe/macros/CommonHelper","sap/fe/macros/field/FieldHelper","sap/fe/macros/filter/FilterFieldHelper","sap/fe/macros/filter/FilterFieldTemplating","sap/fe/macros/filterBar/ExtendedSemanticDateOperators"],function(e,t,r,i,a,n,o,l,s,u,p,c,d,f,m,b,y){"use strict";var g,h,v,P,F,x,$,C,O,B,I,T,D,E,w,M,z,V,R,j,S;var H={};var k=b.getFilterFieldDisplayFormat;var A=m.isRequiredInFilter;var q=m.getPlaceholder;var L=m.getDataType;var _=m.getConditionsBinding;var W=m.formatOptions;var K=m.constraints;var U=c.getDisplayMode;var N=p.getAssociatedExternalIdPropertyPath;var Q=u.getRelativePropertyPath;var X=s.getTargetObjectPath;var G=s.getContextRelativeTargetObjectPath;var J=l.generate;var Y=o.getMaxConditions;var Z=i.xml;var ee=i.SAP_UI_MODEL_CONTEXT;var te=r.defineBuildingBlock;var re=r.blockAttribute;var ie=t.formatResult;var ae=t.constant;var ne=t.compileExpression;function oe(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function le(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,se(e,t)}function se(e,t){return se=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},se(e,t)}function ue(e,t,r,i,a){var n={};return Object.keys(i).forEach(function(e){n[e]=i[e]}),n.enumerable=!!n.enumerable,n.configurable=!!n.configurable,("value"in n||n.initializer)&&(n.writable=!0),n=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},n),a&&void 0!==n.initializer&&(n.value=n.initializer?n.initializer.call(a):void 0,n.initializer=void 0),void 0===n.initializer?(Object.defineProperty(e,t,n),null):n}function pe(e,t){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let ce=(g=te({name:"FilterField",namespace:"sap.fe.macros.internal"}),h=re({type:"sap.ui.model.Context",required:true,isPublic:true}),v=re({type:"sap.ui.model.Context",required:true,isPublic:true}),P=re({type:"sap.ui.model.Context",isPublic:true}),F=re({type:"string",isPublic:true}),x=re({type:"string",isPublic:true}),$=re({type:"boolean",isPublic:true}),C=re({type:"string",isPublic:true}),O=re({type:"string",isPublic:false}),B=re({type:"string",isPublic:false}),g(I=(T=function(t){function r(e,r,i){var a;a=t.call(this,e,r,i)||this;oe(a,"property",D,a);oe(a,"contextPath",E,a);oe(a,"visualFilter",w,a);oe(a,"idPrefix",M,a);oe(a,"vhIdPrefix",z,a);oe(a,"useSemanticDateRange",V,a);oe(a,"settings",R,a);oe(a,"editMode",j,a);oe(a,"label",S,a);const o=n.convertMetaModelContext(a.property);const l=N(o);if(l){a.propertyExternalId=a.property.getModel().createBindingContext(a.property.getPath().replace(o.name,l),a.property)}const s=a.propertyExternalId?n.convertMetaModelContext(a.propertyExternalId):undefined;const u=n.getInvolvedDataModelObjects(a.property,a.contextPath);const p=o.name,c=o.name,m=!!s?.annotations?.Common?.ValueListWithFixedValues||!!o.annotations?.Common?.ValueListWithFixedValues;a.controlId=a.idPrefix&&J([a.idPrefix,c]);a.sourcePath=X(u);a.documentRefText=u.targetObject?.annotations.Common?.DocumentationRef?.toString();a.tooltip=o?.annotations?.Common?.QuickInfo?.toString();a.dataType=L(s||o);const b=a.label?a.label:o?.annotations?.Common?.Label;const g=b?.toString()??ae(p);a.label=ne(g)||p;a.conditionsBinding=_(u)||"";a.placeholder=q(o);a.propertyKey=G(u,false,true)||p;a.vfEnabled=!!a.visualFilter&&!(a.idPrefix&&a.idPrefix.includes("Adaptation"));a.vfId=a.vfEnabled?J([a.idPrefix,p,"VisualFilter"]):undefined;a.vfRuntimeId=a.vfEnabled?J([a.idPrefix,p,"VisualFilterContainer"]):undefined;const h=a.property,v=h.getModel(),P=f.valueHelpPropertyForFilterField(h),F=d.isPropertyFilterable(h),x=h.getObject(),$={context:h};a.display=k(u,o,$);a.isFilterable=!(F===false||F==="false");a.maxConditions=Y(u);a.dataTypeConstraints=K(x,$);a.dataTypeFormatOptions=W(x,$);a.required=A(x,$);a.operators=f.operators(h,x,a.useSemanticDateRange,a.settings||"",a.contextPath.getPath());if(a.operators){y.addExtendedFilterOperators(a.operators.split(","))}const C=v.createBindingContext(P);const O=C.getObject(),B={context:C},I=Q(O,B),T=Q(x,$);a.valueHelpProperty=f.getValueHelpPropertyForFilterField(h,x,x.$Type,a.vhIdPrefix,u.targetEntityType.name,T,I,m,a.useSemanticDateRange);return a}H=r;le(r,t);var i=r.prototype;i.getVisualFilterContent=function e(){let t=this.visualFilter,r="";if(!this.vfEnabled||!t){return r}if(t?.isA?.(ee)){t=t.getObject()}const{contextPath:i,presentationAnnotation:a,outParameter:n,inParameters:o,valuelistProperty:l,selectionVariantAnnotation:s,multipleSelectionAllowed:u,required:p,requiredProperties:c=[],showOverlayInitially:f,renderLineChart:m,isValueListWithFixedValues:b,initialChartBindingEnabled:y}=t;r=Z`
				<visualFilter:VisualFilter
				    xmlns:visualFilter= "sap.fe.macros.visualfilters"
					id="${this.vfRuntimeId}"
					_contentId="${this.vfId}"
					contextPath="${i}"
					metaPath="${a}"
					outParameter="${n}"
					inParameters="${d.stringifyCustomData(o)}"
					valuelistProperty="${l}"
					selectionVariantAnnotation="${s}"
					multipleSelectionAllowed="${u}"
					required="${p}"
					requiredProperties="${d.stringifyCustomData(c)}"
					showOverlayInitially="${f}"
					renderLineChart="${m}"
					isValueListWithFixedValues="${b}"
					filterBarEntityType="${i}"
					enableChartBinding="${y}"
				/>
			`;return r};i.getTemplate=async function t(){let r=``;if(this.isFilterable){let t;const i=this.documentRefText===undefined||null?false:true;const a=ne(ie([this.documentRefText],"._formatters.StandardFormatter#asArray"));try{const e=this.propertyExternalId&&n.getInvolvedDataModelObjects(this.propertyExternalId,this.contextPath);t=e?U(e):await this.display}catch(t){e.error(`FE : FilterField BuildingBlock : Error fetching display property for ${this.sourcePath} : ${t}`)}r=Z`
				<mdc:FilterField
					xmlns:mdc="sap.ui.mdc"
					xmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"
					xmlns:macro="sap.fe.macros"
					xmlns:customData="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1"
					xmlns:fieldhelp="sap.ui.core.fieldhelp"
					customData:sourcePath="${this.sourcePath}"
					id="${this.controlId}"
					delegate="{name: 'sap/fe/macros/field/FieldBaseDelegate', payload:{isFilterField:true}}"
					propertyKey="${this.propertyKey}"
					label="${this.label}"
					dataType="${this.dataType}"
					display="${t}"
					maxConditions="${this.maxConditions}"
					valueHelp="${this.valueHelpProperty}"
					conditions="${this.conditionsBinding}"
					dataTypeConstraints="${this.dataTypeConstraints}"
					dataTypeFormatOptions="${this.dataTypeFormatOptions}"
					required="${this.required}"
					operators="${this.operators}"
					placeholder="${this.placeholder}"
					${this.attr("tooltip",this.tooltip)}
					${this.attr("editMode",this.editMode)}
				>
					${i?Z`
						<mdc:customData>
							<fieldhelp:FieldHelpCustomData
								${this.attr("value",a)}
							/>
						</mdc:customData>
					`:""}
					${this.vfEnabled?this.getVisualFilterContent():""}
				</mdc:FilterField>
			`}return r};return r}(a),D=ue(T.prototype,"property",[h],{configurable:true,enumerable:true,writable:true,initializer:null}),E=ue(T.prototype,"contextPath",[v],{configurable:true,enumerable:true,writable:true,initializer:null}),w=ue(T.prototype,"visualFilter",[P],{configurable:true,enumerable:true,writable:true,initializer:null}),M=ue(T.prototype,"idPrefix",[F],{configurable:true,enumerable:true,writable:true,initializer:function(){return"FilterField"}}),z=ue(T.prototype,"vhIdPrefix",[x],{configurable:true,enumerable:true,writable:true,initializer:function(){return"FilterFieldValueHelp"}}),V=ue(T.prototype,"useSemanticDateRange",[$],{configurable:true,enumerable:true,writable:true,initializer:function(){return true}}),R=ue(T.prototype,"settings",[C],{configurable:true,enumerable:true,writable:true,initializer:function(){return""}}),j=ue(T.prototype,"editMode",[O],{configurable:true,enumerable:true,writable:true,initializer:null}),S=ue(T.prototype,"label",[B],{configurable:true,enumerable:true,writable:true,initializer:null}),T))||I);H=ce;return H},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/internal/HeaderDataPoint.block", ["sap/fe/base/BindingToolkit","sap/fe/core/buildingBlocks/templating/BuildingBlockSupport","sap/fe/core/buildingBlocks/templating/BuildingBlockTemplateProcessor","sap/fe/core/buildingBlocks/templating/BuildingBlockTemplatingBase","sap/fe/core/converters/MetaModelConverter","sap/fe/core/helpers/StableIdHelper","sap/fe/core/templating/DataModelPathHelper","sap/fe/macros/CommonHelper","sap/fe/macros/field/FieldTemplating","sap/fe/macros/internal/helpers/DataPointTemplating"],function(e,t,a,i,r,n,o,l,s,c){"use strict";var u,g,p,d,b,f,m,h,v,T,P,D;var x={};var $=c.getHeaderRatingIndicatorText;var y=s.getVisibleExpression;var O=o.getRelativePaths;var H=n.generate;var A=r.getInvolvedDataModelObjects;var V=a.xml;var F=t.defineBuildingBlock;var L=t.blockAttribute;var j=e.pathInModel;var k=e.getExpressionFromAnnotation;var B=e.formatResult;var E=e.compileExpression;function I(e,t,a,i){a&&Object.defineProperty(e,t,{enumerable:a.enumerable,configurable:a.configurable,writable:a.writable,value:a.initializer?a.initializer.call(i):void 0})}function S(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,z(e,t)}function z(e,t){return z=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},z(e,t)}function M(e,t,a,i,r){var n={};return Object.keys(i).forEach(function(e){n[e]=i[e]}),n.enumerable=!!n.enumerable,n.configurable=!!n.configurable,("value"in n||n.initializer)&&(n.writable=!0),n=a.slice().reverse().reduce(function(a,i){return i(e,t,a)||a},n),r&&void 0!==n.initializer&&(n.value=n.initializer?n.initializer.call(r):void 0,n.initializer=void 0),void 0===n.initializer?(Object.defineProperty(e,t,n),null):n}function _(e,t){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let w=(u=F({name:"HeaderDataPoint",namespace:"sap.fe.macros.internal"}),g=L({type:"sap.ui.model.Context",required:true}),p=L({type:"sap.ui.model.Context",required:true}),d=L({type:"object",required:true}),b=L({type:"sap.ui.model.Context",required:true}),u(f=(m=(D=function(e){function t(t,a,i){var r;r=e.call(this,t,a,i)||this;I(r,"metaPath",h,r);I(r,"contextPath",v,r);I(r,"converterHeaderFacet",T,r);I(r,"headerFacet",P,r);r.viewData=i.models.viewData;r.manifest=i.models.manifest;return r}x=t;S(t,e);var a=t.prototype;a.getTemplate=function e(){const a=A(this.metaPath,this.contextPath);const i=y(a);const r=H(["fe","HeaderFacet",this.converterHeaderFacet.headerDataPointData?.type!=="Content"?this.converterHeaderFacet?.headerDataPointData?.type:"KeyFigure",A(this.headerFacet)]);const n=t.getPressExpressionForLink(this.viewData.getProperty("/controlConfiguration")?.[this.converterHeaderFacet.targetAnnotationValue]?.navigation,this.manifest.getProperty("/sap.app/crossNavigation/outbounds"));if(this.viewData.getProperty("/controlConfiguration")?.[this.converterHeaderFacet.targetAnnotationValue]?.navigation?.targetOutbound?.outbound){return this.getDataPointTitleWithExternalLinkTemplate(r,a,i,n)}else if(this.viewData.getProperty("/controlConfiguration")?.[this.converterHeaderFacet.targetAnnotationValue]?.navigation?.targetSections){return this.getDataPointTitleWithInPageLinkTemplate(r,a,i,n)}return this.getDataPointTitleWithoutLinkTemplate(r,a,i)};a.getDataPointTitleWithExternalLinkTemplate=function e(t,a,i,r){const n=l.getHeaderDataPointLinkVisibility(H(["fe","HeaderDPLink",this.converterHeaderFacet.targetAnnotationValue]),true);const o=l.getHeaderDataPointLinkVisibility(H(["fe","HeaderDPLink",this.converterHeaderFacet.targetAnnotationValue]),false);return V`
			<VBox
				xmlns="sap.m"
				id="${t}"
				visible="${i}"
			>
				<core:InvisibleText
				id="${H(["fe",this.converterHeaderFacet.targetAnnotationValue,"AriaText"])}"
				text="${this.getTranslatedText("T_HEADER_DATAPOINT_TITLE_LINK_EXTERNAL_ARIA")}"
				/>
				<Title
				xmlns="sap.m"
				level="H3"
				visible="${n}"
				>
					<content>
						<Link
							id="${H(["fe","HeaderDPLink",this.converterHeaderFacet.targetAnnotationValue])}"
							text="${a.targetObject?.Title}"
							press="${r}"
							ariaDescribedBy="${H(["fe",this.converterHeaderFacet.targetAnnotationValue,"AriaText"])}"
							class="sapUiTinyMarginBottom"
							customData:ValuePropertyPath="${a.targetObject?.Value?.path}"
						/>
					</content>
				</Title>
				<Title
				xmlns="sap.m"
				id="${H(["fe","HeaderDPTitle",this.converterHeaderFacet.targetAnnotationValue])}"
				level="H3"
				text="${a.targetObject?.Title}"
				class="sapUiTinyMarginBottom"
				visible="${o}"
				/>
				${this.getDataPointTemplate(a)}
			</VBox>`};a.getDataPointTitleWithInPageLinkTemplate=function e(t,a,i,r){return V`
			<VBox
				xmlns="sap.m"
				id="${t}"
				visible="${i}"
			>
				<core:InvisibleText
					text="${this.getTranslatedText("T_COMMON_HEADERDP_TITLE_LINK_INPAGE_ARIA")}"
					id="${H(["fe",this.converterHeaderFacet.targetAnnotationValue,"AriaText"])}"
				/>
				<core:InvisibleText
					text="${a.targetObject?.Title}"
					id="${H(["fe","HeaderDPTitle",this.converterHeaderFacet.targetAnnotationValue])}"
				/>
				<Title xmlns="sap.m" level="H3" ${this.attr("visible",!!a.targetObject?.Title)}>
					<content>
						<Link
							id="${H(["fe","HeaderDPLink",this.converterHeaderFacet.targetAnnotationValue])}"
							text="${a.targetObject?.Title}"
							press="${r}"
							ariaDescribedBy="${H(["fe",this.converterHeaderFacet.targetAnnotationValue,"AriaText"])}"
							class="sapUiTinyMarginBottom"
						/>
					</content>
				</Title>
				${this.getDataPointTemplate(a)}
			</VBox>`};a.getDataPointTitleWithoutLinkTemplate=function e(t,a,i){return V`
			<VBox
				xmlns="sap.m"
				id="${t}"
				visible="${i}"
			>
				<Title
				xmlns="sap.m"
				id="${H(["fe","HeaderDPTitle",this.converterHeaderFacet.targetAnnotationValue])}"
					level="H3"
					text="${a.targetObject?.Title}"
					class="sapUiTinyMarginBottom"
				/>

				${this.getDataPointTemplate(a)}
			</VBox>`};a.getDataPointTemplate=function e(t){return V`
			${this.getDataPointFirstLabel(t)}
			<internalMacro:DataPoint
				xmlns:internalMacro="sap.fe.macros.internal"
				metaPath="${this.metaPath.getPath()}"
				contextPath="${this.contextPath.getPath()}"
				ariaLabelledBy="${H(["fe","HeaderDPTitle",this.converterHeaderFacet.targetAnnotationValue])}"
			>
				<internalMacro:formatOptions>
  					 <internalMacro:DataPointFormatOptions dataPointStyle="large" showLabels="true" iconSize="1.375rem" showEmptyIndicator="true" />
				</internalMacro:formatOptions>
			</internalMacro:DataPoint>
			${this.getDataPointSecondLabel(t)}`};a.getDataPointFirstLabel=function e(t){switch(t.targetObject?.Visualization){case"UI.VisualizationType/Rating":const e=$(this.metaPath,t.targetObject);return V` <Label text="${e}" visible="${!!(t.targetObject?.SampleSize||t.targetObject?.Description)}"/>`;case"UI.VisualizationType/Progress":return V`<Label text="${t.targetObject?.Description}" visible="${!!t.targetObject?.Description}"/>`;default:return""}};a.getDataPointSecondLabel=function e(t){switch(t.targetObject?.Visualization){case"UI.VisualizationType/Rating":const e=E(B([j("T_HEADER_RATING_INDICATOR_FOOTER","sap.fe.i18n"),k(t.targetObject?.Value,O(t)),t.targetObject?.TargetValue?k(t.targetObject?.TargetValue,O(t)):"5"],"MESSAGE"));return V`<Label core:require="{MESSAGE: 'sap/base/strings/formatMessage' }" text="${e}" visible="true"/>`;case"UI.VisualizationType/Progress":const a=t.targetObject?.Value?.$target?.annotations?.Common?.Label?.toString();return a?V`<Label text="${a}"/>`:"";default:return""}};return t}(i),D.getPressExpressionForLink=function(e,t){if(e?.targetOutbound&&"outbound"in e.targetOutbound){return".handlers.onDataPointTitlePressed($controller, ${$source>}, "+JSON.stringify(t)+","+JSON.stringify(e.targetOutbound.outbound)+")"}else if(e&&e["targetSections"]){return".handlers.navigateToSubSection($controller, '"+JSON.stringify(e["targetSections"])+"')"}else{return undefined}},D),h=M(m.prototype,"metaPath",[g],{configurable:true,enumerable:true,writable:true,initializer:null}),v=M(m.prototype,"contextPath",[p],{configurable:true,enumerable:true,writable:true,initializer:null}),T=M(m.prototype,"converterHeaderFacet",[d],{configurable:true,enumerable:true,writable:true,initializer:null}),P=M(m.prototype,"headerFacet",[b],{configurable:true,enumerable:true,writable:true,initializer:null}),m))||f);x=w;return x},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/internal/PropertyInfo", [],function(){"use strict"},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/internal/TitleLink", ["sap/fe/base/ClassSupport","sap/fe/core/buildingBlocks/BuildingBlock","sap/m/Link","sap/m/Title","sap/m/library","sap/ui/core/InvisibleText","sap/fe/base/jsx-runtime/jsx"],function(e,t,i,r,n,a,l){"use strict";var o,s,u,c,p,b,f,d,h,v,y,k,g;var m={};var w=n.LinkAccessibleRole;var x=e.property;var A=e.event;var z=e.defineUI5Class;function L(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function P(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,j(e,t)}function j(e,t){return j=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},j(e,t)}function O(e,t,i,r,n){var a={};return Object.keys(r).forEach(function(e){a[e]=r[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce(function(i,r){return r(e,t,i)||i},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer?(Object.defineProperty(e,t,a),null):a}function T(e,t){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let B=(o=z("sap.fe.macros.internal.TitleLink"),s=x({type:"string"}),u=x({type:"string"}),c=x({type:"boolean"}),p=x({type:"string",isBindingInfo:true}),b=A(),o(f=(d=function(e){function t(t,i){var r;r=e.call(this,t,i)||this;L(r,"id",h,r);L(r,"text",v,r);L(r,"showAsLink",y,r);L(r,"linkAriaText",k,r);L(r,"linkPress",g,r);return r}m=t;P(t,e);var n=t.prototype;n.onMetadataAvailable=function t(i){e.prototype.onMetadataAvailable.call(this,i);this.content=this.createContent()};n.setShowAsLink=function e(t){if(t!==this.showAsLink){this.setProperty("showAsLink",t);this.content=this.createContent()}};n.createContent=function e(){let t;if(this.showAsLink){t=l(i,{text:this.text,press:e=>{this.fireEvent("linkPress",e)},accessibleRole:w.Button});if(this.linkAriaText){const e=l(a,{text:this.linkAriaText});t.addAriaDescribedBy(e)}}return l(r,{level:"H3",text:this.text,children:{content:t}})};return t}(t),h=O(d.prototype,"id",[s],{configurable:true,enumerable:true,writable:true,initializer:null}),v=O(d.prototype,"text",[u],{configurable:true,enumerable:true,writable:true,initializer:null}),y=O(d.prototype,"showAsLink",[c],{configurable:true,enumerable:true,writable:true,initializer:null}),k=O(d.prototype,"linkAriaText",[p],{configurable:true,enumerable:true,writable:true,initializer:null}),g=O(d.prototype,"linkPress",[b],{configurable:true,enumerable:true,writable:true,initializer:null}),d))||f);m=B;return m},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/internal/field/DisplayStyle", ["sap/base/util/uid","sap/fe/base/BindingToolkit","sap/fe/core/controls/FormElementWrapper","sap/fe/core/converters/MetaModelConverter","sap/fe/core/converters/controls/Common/Action","sap/fe/core/formatters/ValueFormatter","sap/fe/core/helpers/BindingHelper","sap/fe/core/helpers/StableIdHelper","sap/fe/core/templating/CriticalityFormatters","sap/fe/core/templating/DataModelPathHelper","sap/fe/core/templating/UIFormatters","sap/fe/macros/field/FieldHelper","sap/fe/macros/field/FieldTemplating","sap/fe/macros/quickView/QuickView","sap/m/Avatar","sap/m/Button","sap/m/CheckBox","sap/m/ExpandableText","sap/m/HBox","sap/m/ImageCustomData","sap/m/Label","sap/m/Link","sap/m/ObjectIdentifier","sap/m/ObjectStatus","sap/m/Text","sap/m/VBox","sap/m/library","sap/ui/core/CustomData","sap/ui/core/Icon","sap/ui/mdc/enums/FieldEditMode","sap/ui/unified/FileUploader","sap/ui/unified/FileUploaderHttpRequestMethod","../../contact/Contact","../../contact/Email","../../controls/ConditionalWrapper","../../controls/FileWrapper","../../controls/NumberWithUnitOrCurrency","../../controls/TextLink","../../draftIndicator/DraftIndicator","../../situations/SituationsIndicator","../DataPoint","../DataPointFormatOptions","sap/fe/base/jsx-runtime/jsx","sap/fe/base/jsx-runtime/jsxs"],function(e,t,a,i,n,r,o,l,s,d,c,p,u,m,y,f,h,v,b,g,M,I,x,P,T,F,A,O,B,L,k,C,S,V,E,w,D,U,R,H,W,j,N,Q){"use strict";var _=A.ObjectMarkerVisibility;var $=A.LinkAccessibleRole;var q=c.hasValidAnalyticalCurrencyOrUnit;var G=d.getContextRelativeTargetObjectPath;var K=d.enhanceDataModelPath;var z=s.buildExpressionForCriticalityIcon;var X=s.buildExpressionForCriticalityColor;var J=s.buildExpressionForCriticalityButtonType;var Y=l.generate;var Z=o.UI;var ee=n.isActionAIOperation;var te=n.aiIcon;var ae=t.resolveBindingString;var ie=t.pathInModel;var ne=t.not;var re=t.isPathInModelExpression;var oe=t.ifElse;var le=t.getExpressionFromAnnotation;var se=t.formatResult;var de=t.equal;var ce=t.constant;var pe=t.compileExpression;var ue=t.and;const me={getPrecisionForCurrency(e){let t=e.property.scale??5;if(typeof t!=="number"){t=e.property.precision??5}return Math.min(t,5)},getCurrencyOrUnitControl(e,t,a){return N(I,{"core:require":"{FIELDRUNTIME: 'sap/fe/macros/field/FieldRuntime'}",text:"{sap.fe.i18n>M_TABLE_SHOW_DETAILS}",press:e.eventHandlers.displayAggregationDetails,visible:a,reactiveAreaMode:e.formatOptions?.reactiveAreaMode,children:{dependents:t?.clone?t.clone():t}})},getNumberWithUnitOrCurrencyAlignedTemplate(e){const t=G(e.dataModelPath);const a=ne(de(ie(t),undefined));const i=N(D,{number:e.valueAsStringBindingExpression,unitOrCurrency:e.unitBindingExpression});if(e.formatOptions.isAnalytics){return N(E,{visible:e.displayVisible,condition:e.hasValidAnalyticalCurrencyOrUnit,children:{contentTrue:i,contentFalse:this.getCurrencyOrUnitControl(e,i,a)}})}else{return i}},getAvatarTemplate(e){let t;if(e._flexId){t=e._flexId}else if(e.idPrefix){t=Y([e.idPrefix,"Field-content"])}const i=u.getVisibleExpression(e.dataModelPath);const n=u.getValueBinding(e.dataModelPath,{});const r=u.getAvatarShape(e.dataModelPath);return N(a,{visible:i,children:N(y,{id:t,src:n,displaySize:"S",class:"sapUiSmallMarginEnd",imageFitType:"Cover",displayShape:r})})},getButtonTemplate:e=>{let t=e.formatOptions?.showIconUrl??false?e.convertedMetaPath.IconUrl:undefined;const a=!(e.formatOptions?.showIconUrl??false)?e.convertedMetaPath.Label:undefined;const i=e.formatOptions?.showIconUrl??false?e.convertedMetaPath.Label:undefined;let n;let r;let o;let l;let s;if(e.convertedMetaPath.$Type==="com.sap.vocabularies.UI.v1.DataFieldForAction"){n=e.eventHandlers.onDataFieldActionButton;r=e.convertedMetaPath.ActionTarget?e.convertedMetaPath.ActionTarget.isBound:true;o=e.convertedMetaPath.ActionTarget?e.convertedMetaPath.ActionTarget.annotations?.Core?.OperationAvailable:"false";l=e.convertedMetaPath.ActionTarget?undefined:"false";if(o&&o!=="false"){const t=e.convertedMetaPath.ActionTarget;const a=t.parameters[0].name;l=pe(le(o,[],undefined,e=>{if(e.startsWith(a)){return e.replace(a+"/","")}return e}))}}if(e.convertedMetaPath.$Type==="com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation"){n=e.eventHandlers.onDataFieldWithIBN;s=true;if(e.convertedMetaPath?.$Type==="com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation"&&e.convertedMetaPath.NavigationAvailable!==undefined&&String(e.formatOptions.ignoreNavigationAvailable)!=="true"){s=pe(le(e.convertedMetaPath.NavigationAvailable))}}let d="";if(e.convertedMetaPath.$Type==="com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation"){d=N(f,{visible:e.visible,text:a,icon:t,enabled:s,tooltip:i,press:n})}else if(p.isDataFieldActionButtonVisible(e.convertedMetaPath,r,o)){let s=p.isDataFieldActionButtonEnabled(e.convertedMetaPath,r,o,l);if(e.formatOptions.isAnalyticalAggregatedRow){s=pe(ue(ae(s),Z.isNodeLevelNavigable))}const c=J(e.dataModelPath);t=t??(ee(e.convertedMetaPath)?te:undefined);d=N(f,{class:e.class,text:a,icon:t,tooltip:i,press:n,enabled:s,visible:e.visible,type:c})}return d},getContactTemplate(e){const t=e.metaPath.getModel().createBindingContext("Target/$AnnotationPath",e.metaPath);const a=u.getVisibleExpression(e.dataModelPath);return N(S,{idPrefix:e.idPrefix,ariaLabelledBy:e.ariaLabelledBy,metaPath:t.getPath(),contextPath:e.contextPath.getPath(),_flexId:e._flexId,visible:a,showEmptyIndicator:e.formatOptions.showEmptyIndicator})},getDataPointInnerPart(e,t){const a=i.convertMetaModelContext(e.metaPath);const n=a.$Type==="com.sap.vocabularies.UI.v1.DataFieldForAnnotation"?e.metaPath.getModel().createBindingContext("Target/$AnnotationPath",e.metaPath):e.metaPath;const r={measureDisplayMode:e.formatOptions.measureDisplayMode,showEmptyIndicator:e.formatOptions.showEmptyIndicator};return N(W,{idPrefix:t?undefined:e.idPrefix,visible:!t?e.displayVisible:undefined,ariaLabelledBy:e.ariaLabelledBy?e.ariaLabelledBy:undefined,metaPath:n.getPath(),contextPath:e.contextPath?.getPath(),value:e.value,children:{formatOptions:N(j,{...r})}})},getDataPointTemplate(e){if((e.formatOptions.isAnalytics??false)&&(e.hasUnitOrCurrency??false)){return N(E,{visible:e.displayVisible,condition:e.hasValidAnalyticalCurrencyOrUnit,children:{contentTrue:this.getDataPointInnerPart(e,true),contentFalse:this.getCurrencyOrUnitControl(e,this.getDataPointInnerPart(e,true))}})}else{return this.getDataPointInnerPart(e,false)}},getExpandableText(e){return N(v,{id:e?.displayStyleId,visible:e?.displayVisible,text:e.text,overflowMode:e?.formatOptions?.textExpandBehaviorDisplay,maxCharacters:e?.formatOptions?.textMaxCharactersDisplay,emptyIndicatorMode:e?.emptyIndicatorMode})},getFileTemplate(e){let t;const a=pe(ne(de(ie(`${e.fileRelativePropertyPath}@odata.mediaContentType`),null)));const i=e.fileFilenameExpression?"{ path: '"+e.fileFilenameExpression+"' }":"";const n=u.getValueBinding(e.dataModelPath,{});const r=e.property.annotations.Core?.ContentDisposition?.Filename?.path;const o=e.property.annotations.Core?.MediaType&&pe(le(e.property.annotations.Core?.MediaType));const l=!!e.property.annotations.UI?.IsImageURL||!!e.property.annotations.UI?.IsImage||/image\//i.test(e.property.annotations.Core?.MediaType?.toString()??"");const s=u.getValueBinding(e.dataModelPath,{});const d=u.getAvatarShape(e.dataModelPath);const c=p.getPathForIconSource(e.fileRelativePropertyPath);const m=p.getFilenameExpr(i,"{sap.fe.i18n>M_FIELD_FILEUPLOADER_NOFILENAME_TEXT}");const h=p.getDownloadUrl(n??"");const v=pe(de(ie(`${e.fileRelativePropertyPath}@odata.mediaContentType`),null));let b;if(e.property.annotations.Core?.AcceptableMediaTypes){const t=Array.from(e.property.annotations.Core.AcceptableMediaTypes).map(e=>`'${e}'`);b=`{=odata.collection([${t.join(",")}])}`}const M=p.calculateMBfromByte(e.property.maxLength);if(l){t={avatar:N(y,{visible:e.displayVisible,src:s,displaySize:"S",class:"sapUiSmallMarginEnd",imageFitType:"Cover",displayShape:d,children:{customData:N(g,{paramName:"xcache"})}})}}else{t={icon:N(B,{src:c,class:"sapUiSmallMarginEnd",visible:a}),link:N(I,{text:m,target:"_blank",href:h,visible:a,wrapping:"true",reactiveAreaMode:e.formatOptions?.reactiveAreaMode}),text:N(T,{emptyIndicatorMode:e.emptyIndicatorMode,text:"",visible:v})}}if((e.editMode??e.computedEditMode)!==L.Display){const i=e.collaborationEnabled?e.eventHandlers.handleOpenUploader:undefined;const n=e.collaborationEnabled?e.eventHandlers.handleCloseUploader:undefined;t={...t,fileUploader:N(k,{name:"FEV4FileUpload",visible:e.fileUploaderVisible,buttonOnly:"true",iconOnly:"true",multiple:"false",tooltip:"{sap.fe.i18n>M_FIELD_FILEUPLOADER_UPLOAD_BUTTON_TOOLTIP}",icon:"sap-icon://upload",style:"Transparent",sendXHR:"true",useMultipart:"false",sameFilenameAllowed:"true",mimeType:b,typeMissmatch:e.eventHandlers.handleTypeMissmatch,maximumFileSize:M,fileSizeExceed:e.eventHandlers.handleFileSizeExceed,uploadOnChange:"false",uploadComplete:e.eventHandlers.handleUploadComplete,httpRequestMethod:e.isDynamicInstantiation?C.Put:"Put",change:e.eventHandlers.uploadStream,beforeDialogOpen:i,afterDialogClose:n,uploadStart:e.eventHandlers.handleOpenUploader}),deleteButton:N(f,{icon:"sap-icon://sys-cancel",type:"Transparent",press:e.eventHandlers.removeStream,tooltip:"{sap.fe.i18n>M_FIELD_FILEUPLOADER_DELETE_BUTTON_TOOLTIP}",visible:e.fileUploaderVisible,enabled:a})}}return N(w,{"core:require":"{FieldRuntimeHelper: 'sap/fe/macros/field/FieldRuntimeHelper'}",visible:e.visible,uploadUrl:n,propertyPath:e.fileRelativePropertyPath,filename:r,mediaType:o,fieldGroupIds:e.fieldGroupIds,validateFieldGroup:e.eventHandlers.validateFieldGroup,children:{customData:N(O,{value:e.dataSourcePath},"sourcePath"),innerFilePart:t}})},getLinkTemplate(t){let a;let i;let n;let r;switch(t.convertedMetaPath.$Type){case"com.sap.vocabularies.UI.v1.DataFieldWithIntentBasedNavigation":return N(I,{id:t.displayStyleId,visible:t.displayVisible,text:me.computeTextWithWhiteSpace(t),press:t.eventHandlers.onDataFieldWithIBN,ariaLabelledBy:t.ariaLabelledBy,emptyIndicatorMode:t.emptyIndicatorMode,class:"sapMTextRenderWhitespaceWrap",accessibleRole:$.Button,reactiveAreaMode:t.formatOptions?.reactiveAreaMode});case"com.sap.vocabularies.UI.v1.DataFieldWithNavigationPath":return N(I,{id:t.displayStyleId,"core:require":"{FieldRuntimeHelper: 'sap/fe/macros/field/FieldRuntimeHelper'}",visible:t.displayVisible,text:t.text,press:t.eventHandlers.onDataFieldWithNavigationPath,enabled:t.formatOptions.isAnalyticalAggregatedRow?Z.isNodeLevelNavigable:undefined,ariaLabelledBy:t.ariaLabelledBy,emptyIndicatorMode:t.emptyIndicatorMode,reactiveAreaMode:t.formatOptions?.reactiveAreaMode,class:"sapMTextRenderWhitespaceWrap"});case"com.sap.vocabularies.UI.v1.DataFieldWithAction":return N(I,{id:t.displayStyleId,visible:t.displayVisible,text:t.text,press:t.eventHandlers.onDataFieldActionButton,enabled:t.formatOptions.isAnalyticalAggregatedRow?Z.isNodeLevelNavigable:undefined,ariaLabelledBy:t.ariaLabelledBy,emptyIndicatorMode:t.emptyIndicatorMode,class:"sapMTextRenderWhitespaceWrap",accessibleRole:$.Button,reactiveAreaMode:t.formatOptions?.reactiveAreaMode});case"com.sap.vocabularies.UI.v1.DataFieldWithUrl":const e=t.property.annotations.HTML5?.LinkTarget;t.text=me.computeTextWithWhiteSpace(t);i=t.convertedMetaPath.IconUrl?pe(le(t.convertedMetaPath.IconUrl)):undefined;const o=le(t.convertedMetaPath.Url);a=pe(o);n=pe(ne(de(o,"")));r=e&&e.toString()}if(t.property.annotations?.Communication?.IsEmailAddress||t.property.annotations?.Communication?.IsPhoneNumber){const i=t.property.annotations.Communication?.IsEmailAddress!==undefined;const r=t.property.annotations.Communication?.IsPhoneNumber!==undefined;const o=u.getValueBinding(t.dataModelPath,{});const l=t.displayStyleId?t.displayStyleId:`mailBlock${e()}`;if(i){a=`mailto:${o}`;return N(V,{id:l,visible:t.displayVisible,text:t.text,mail:o,ariaLabelledBy:t.ariaLabelledBy?t.ariaLabelledBy:undefined,emptyIndicatorMode:t.emptyIndicatorMode})}if(r){a=`tel:${o}`;return N(I,{id:t.displayStyleId,visible:t.displayVisible,text:me.computeTextWithWhiteSpace(t),href:a,enabled:n,ariaLabelledBy:t.ariaLabelledBy,emptyIndicatorMode:t.emptyIndicatorMode,class:"sapMTextRenderWhitespaceWrap",reactiveAreaMode:t.formatOptions?.reactiveAreaMode})}}if(i){return N(P,{"core:require":"{FieldRuntimeHelper: 'sap/fe/macros/field/FieldRuntimeHelper'}",id:t.displayStyleId,icon:i,visible:t.displayVisible,text:t.text,press:t.eventHandlers.openExternalLink,active:n,emptyIndicatorMode:t.emptyIndicatorMode,ariaLabelledBy:t.ariaLabelledBy,reactiveAreaMode:t.formatOptions?.reactiveAreaMode,children:{customData:N(O,{value:a},"url")}})}else{return N(I,{id:t.displayStyleId,visible:t.displayVisible,text:t.text,href:a,enabled:n,target:r===undefined?"_top":r,wrapping:t.wrap===undefined?true:t.wrap,ariaLabelledBy:t.ariaLabelledBy,emptyIndicatorMode:t.emptyIndicatorMode,reactiveAreaMode:t.formatOptions?.reactiveAreaMode})}},getForeignKeyForCustomData(e){const t=m.getRelativePathToQuickViewEntity(e.dataModelPath);if(t){const a=e.dataModelPath.targetEntityType.navigationProperties;const i=a.find(e=>e.name===t);const n=i?.referentialConstraint;const r=n?.length&&typeof n[0]==="object"&&n[0].targetProperty;const o=r?`${t}/${r}`:undefined;if(o!==undefined){return o}}return undefined},getForeignKeyValueExpression(e){const t=m.getRelativePathToQuickViewEntity(e.dataModelPath)?this.getForeignKeyForCustomData(e):undefined;const a={path:`${t}`,_type:"PathInModel"};return`${pe(oe(de(t,undefined),ce(true),ne(de(null,a))))}`},getStandardLinkWithQuickViewTemplate(e,t){return N(I,{id:e.displayStyleId,"core:require":"{FieldRuntimeHelper: 'sap/fe/macros/field/FieldRuntimeHelper'}",text:t,visible:e.displayVisible,wrapping:e.wrap===undefined?true:e.wrap,press:e.eventHandlers.linkPressed,ariaLabelledBy:e.ariaLabelledBy,emptyIndicatorMode:e.emptyIndicatorMode,accessibleRole:$.Button,reactiveAreaMode:e.formatOptions?.reactiveAreaMode,children:{customData:[N(O,{value:e.valueAsStringBindingExpression},"loadValue")],dependents:me.getMdcLinkForQuickView(e)}})},getConditionalLinkWithQuickViewTemplate(e,t,a){return N(U,{id:e.displayStyleId,"core:require":"{FieldRuntimeHelper: 'sap/fe/macros/field/FieldRuntimeHelper'}",showAsLink:t,semanticObject:e.semanticObject,text:a,visible:e.displayVisible,wrapping:e.wrap===undefined?true:e.wrap,press:e.eventHandlers.linkPressed,ariaLabelledBy:e.ariaLabelledBy,emptyIndicatorMode:e.emptyIndicatorMode,children:{customData:[N(O,{value:e.valueAsStringBindingExpression},"loadValue")],dependents:me.getMdcLinkForQuickView(e)}})},getConditionalWrapperForQuickViewTemplate(e,t,a,i){return N(E,{visible:e.displayVisible,condition:t,children:{contentTrue:a,contentFalse:i}})},getLinkWithQuickViewTemplate(e){const t=e.formatOptions.retrieveTextFromValueList?e.textFromValueList:me.computeTextWithWhiteSpace(e);const a=this.getQuickViewCondition(e);if(a==="true"){return this.getStandardLinkWithQuickViewTemplate(e,t)}return this.getConditionalLinkWithQuickViewTemplate(e,a,t)},getTextTemplate(e){if(e.formatOptions.retrieveTextFromValueList){return N(T,{id:e.displayStyleId,visible:e.displayVisible,text:e.textFromValueList,"core:require":"{FieldRuntime: 'sap/fe/macros/field/FieldRuntime'}",emptyIndicatorMode:e.emptyIndicatorMode,renderWhitespace:"true"})}else{let t;if(e.formatOptions.displayMode==="Description"&&e.valueAsStringBindingExpression){t=N(O,{value:e.valueAsStringBindingExpression},"fieldBinding")}return N(T,{id:e.displayStyleId,visible:e.displayVisible,text:e.text,wrapping:e.wrap,emptyIndicatorMode:e.emptyIndicatorMode,renderWhitespace:"true",children:t})}},getPasswordTemplate(e){const t=u.getTextBinding(e.dataModelPath,e.formatOptions,true);const a=re(t)||typeof t==="string"?pe(se([t],r.formatPasswordText)):pe(t);return N(T,{"core:require":"{valueFormatters: 'sap/fe/core/formatters/ValueFormatter'}",id:e.displayStyleId,visible:e.displayVisible,text:a,wrapping:e.wrap,renderWhitespace:"true"})},getObjectIdentifier(e){let t;let a;if(e.hasQuickView){a=this.getQuickViewCondition(e);t=me.getMdcLinkForQuickView(e)}else{a=false}let i=N(x,{"core:require":"{FieldRuntimeHelper: 'sap/fe/macros/field/FieldRuntimeHelper'}",id:e.displayStyleId,title:e.identifierTitle,text:e.identifierText,titleActive:a,titlePress:e.eventHandlers.linkPressed,ariaLabelledBy:e.ariaLabelledBy,emptyIndicatorMode:e.emptyIndicatorMode,reactiveAreaMode:e.formatOptions?.reactiveAreaMode,children:{customData:[N(O,{value:e.valueAsStringBindingExpression},"loadValue")],dependents:t}});if(e.hasSituationsIndicator){i=Q(b,{alignItems:"Center",justifyContent:"SpaceBetween",width:"100%",children:[i,N(H,{contextPath:e.contextPath.getPath(),propertyPath:e.situationsIndicatorPropertyPath})]})}if(e.showErrorIndicator&&e.showErrorObjectStatus){i=Q(F,{children:[i,N(P,{visible:e.showErrorObjectStatus,class:"sapUiSmallMarginBottom",text:"{sap.fe.i18n>Contains_Errors}",state:"Error"})]})}return i},getObjectStatus(e){let t;let a={"core:require":"{FieldRuntimeHelper: 'sap/fe/macros/field/FieldRuntimeHelper'}"};const n=i.getInvolvedDataModelObjects(e.metaPath,e.contextPath);const r=K(n,n.targetObject?.Value.path);const o=q(r);const l=i.getInvolvedDataModelObjects(e.metaPath);const s=z(l);const d=X(l);const c=n.targetObject?.annotations?.Common?.QuickInfo||r.targetObject?.annotations?.Common?.QuickInfo;const p=c?pe(le(c)):undefined;const u=e.convertedMetaPath.Url?pe(le(e.convertedMetaPath.Url)):undefined;if(e.formatOptions.isAnalytics&&e.hasUnitOrCurrency){const a=me.getCurrencyOrUnitControl(e,N(T,{text:e.text,textAlign:"End"}));t=N(E,{id:e.displayStyleId,condition:o,children:{contentTrue:N(P,{icon:s,state:d,visible:e.displayVisible,text:e.text,tooltip:p,emptyIndicatorMode:e.emptyIndicatorMode,class:"sapMTextRenderWhitespaceWrap"}),contentFalse:a}})}else{let i;let n=false;let r;let o;if(e.hasQuickView){i=me.getMdcLinkForQuickView(e);r=this.getQuickViewCondition(e);o=e.eventHandlers.linkPressed}if(u){n=true;a={"core:require":"{FieldRuntimeHelper: 'sap/fe/macros/field/FieldRuntimeHelper'}"};o=e.eventHandlers.openExternalLink}t=N(P,{id:e.displayStyleId,icon:s,state:d,text:e.text,tooltip:p,visible:e.displayVisible,emptyIndicatorMode:e.emptyIndicatorMode,...a,active:r?r:n,press:o,ariaLabelledBy:e.ariaLabelledBy,reactiveAreaMode:e.formatOptions?.reactiveAreaMode,children:{customData:[N(O,{value:e.valueAsStringBindingExpression},"loadValue"),N(O,{value:u},"url")],dependents:i}})}return t},getMdcLinkForQuickView(e){return new m(e.dataModelPath,e.metaPath.getPath(),e.contextPath.getPath(),e.semanticObject).createContent()},getLabelSemanticKey(e){const t=N(I,{text:e.text,wrapping:"true",emphasized:"true","core:require":"{FieldRuntimeHelper: 'sap/fe/macros/field/FieldRuntimeHelper'}",press:e.eventHandlers.linkPressed,ariaLabelledBy:e.ariaLabelledBy,emptyIndicatorMode:e.emptyIndicatorMode,accessibleRole:$.Button,reactiveAreaMode:e.formatOptions?.reactiveAreaMode,children:{customData:[N(O,{value:e.valueAsStringBindingExpression},"loadValue")],dependents:me.getMdcLinkForQuickView(e)}});const a=N(M,{id:e.displayStyleId,visible:e.displayVisible,text:e.identifierTitle,design:"Bold"});if(e.hasQuickView){const i=this.getQuickViewCondition(e);if(i==="true"){return t}else{return this.getConditionalWrapperForQuickViewTemplate(e,i,t,a)}}return N(M,{id:e.displayStyleId,visible:e.displayVisible,text:e.identifierTitle,design:"Bold"})},addDraftIndicator(e,t){if(!t.formatOptions.fieldGroupDraftIndicatorPropertyPath){e=N(a,{visible:t.displayVisible,children:Q(F,{class:p.getMarginClass(t.formatOptions.compactSemanticKey),children:[e,N(R,{draftIndicatorType:_.IconAndText,contextPath:t.contextPath.getPath(),visible:t.draftIndicatorVisible,ariaLabelledBy:t.ariaLabelledBy?t.ariaLabelledBy:[],reactiveAreaMode:t.formatOptions?.reactiveAreaMode})]})})}return e},computeTextWithWhiteSpace(e){const t=u.getTextBinding(e.dataModelPathExternalID??e.dataModelPath,e.formatOptions,true);return re(t)||typeof t==="string"?pe(se([t],r.replaceWhitespace)):pe(t)},getQuickViewCondition(e){switch(e.quickViewType){case"Facets":if(e.formatOptions.isAnalytics!==true){return this.getForeignKeyValueExpression(e)}break;case"SemanticLinks":if(e.dynamicSemanticObjects){const t=[];if(e.semanticObject){return pe(ce(false))}for(const a of e.dynamicSemanticObjects){if(a._type==="PathInModel"||a._type==="Constant"){t.push(a)}else{return pe(ce(true))}}const a=[ie("/semanticObjects","internal")].concat(t);return pe(se(a,r.hasSemanticObjects))}return"true";default:return"true"}},getCheckBoxGroupItemTemplate(e){return N(h,{"core:require":"{Field: 'sap/fe/macros/Field'}",id:e.displayStyleId,displayOnly:true,text:e.label,wrapping:true,selected:e.valueBindingExpression,fieldGroupIds:e.fieldGroupIds,ariaLabelledBy:e.ariaLabelledBy,children:{customData:N(O,{value:e.dataSourcePath},"sourcePath")}})},getTemplate:e=>{let t;switch(e.displayStyle){case"Avatar":t=me.getAvatarTemplate(e);break;case"Button":t=me.getButtonTemplate(e);break;case"CheckBoxGroupItem":t=me.getCheckBoxGroupItemTemplate(e);break;case"Contact":t=me.getContactTemplate(e);break;case"DataPoint":t=me.getDataPointTemplate(e);break;case"ExpandableText":t=me.getExpandableText(e);break;case"File":t=me.getFileTemplate(e);break;case"Link":t=me.getLinkTemplate(e);break;case"LinkWithQuickView":t=me.getLinkWithQuickViewTemplate(e);break;case"NumberWithUnitOrCurrencyAligned":t=me.getNumberWithUnitOrCurrencyAlignedTemplate(e);break;case"ObjectIdentifier":t=me.getObjectIdentifier(e);break;case"ObjectStatus":{t=me.getObjectStatus(e);break}case"LabelSemanticKey":t=me.getLabelSemanticKey(e);break;case"Text":t=me.getTextTemplate(e);break;case"Masked":t=me.getPasswordTemplate(e);break;default:t=""}if(e.addDraftIndicator&&t){t=me.addDraftIndicator(t,e)}return t}};return me},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/internal/field/EditStyle", ["sap/fe/base/BindingToolkit","sap/fe/base/EventDelegateHook","sap/fe/core/converters/MetaModelConverter","sap/fe/core/formatters/CollaborationFormatter","sap/fe/core/templating/PropertyHelper","sap/fe/core/templating/UIFormatters","sap/fe/macros/controls/CollaborationHBox","sap/fe/macros/controls/RadioButtons","sap/fe/macros/field/FieldTemplating","sap/m/Avatar","sap/m/CheckBox","sap/m/DatePicker","sap/m/DateTimePicker","sap/m/FlexItemData","sap/m/Input","sap/m/MaskInput","sap/m/MaskInputRule","sap/m/RatingIndicator","sap/m/TextArea","sap/m/TimePicker","sap/ui/core/CustomData","sap/ui/mdc/Field","sap/ui/mdc/enums/FieldEditMode","../../field/FieldHelper","../../field/TextAreaEx","sap/fe/base/jsx-runtime/jsx","sap/fe/base/jsx-runtime/jsxs"],function(e,t,a,i,o,r,l,n,s,d,u,p,c,m,g,h,v,x,f,b,y,T,I,P,E,L,F){"use strict";var k=s.getTextAlignment;var D=s.getMultipleLinesForDataField;var B=o.hasValueHelpWithFixedValues;var C=e.pathInModel;var O=e.compileExpression;const M={getLayoutData(e){let t="";if(e.collaborationEnabled){t=L(m,{growFactor:"9"})}return t},getCollaborationAvatar(e){const a=O(e.collaborationExpression);const o=O(r.getCollaborationExpression(e.dataModelPath,i.getCollaborationActivityInitials));const l=O(r.getCollaborationExpression(e.dataModelPath,i.getCollaborationActivityColor));return L(d,{"core:require":"{FieldRuntimeHelper: 'sap/fe/macros/field/FieldRuntimeHelper'}",visible:a,initials:o,displaySize:"Custom",customDisplaySize:"1.5rem",customFontSize:"0.8rem",backgroundColor:l,press:e.eventHandlers.showCollaborationEditUser,children:{dependents:L(t,{stopTapPropagation:true})}})},getDateTimePickerGeneric(e,t){const i=a.getInvolvedDataModelObjects(e.metaPath,e.contextPath);const o=k(i,e.formatOptions,e.editModeAsObject);const r={"core:require":"{Field: 'sap/fe/macros/Field'}",id:e.editStyleId,width:"100%",editable:e.editableExpression,enabled:e.enabledExpression,required:e.requiredExpression,textAlign:o,ariaLabelledBy:e.ariaLabelledBy,value:e.valueBindingExpression,fieldGroupIds:e.fieldGroupIds,showTimezone:e.showTimezone,minDate:t==="DateTimePicker"||t==="DatePicker"?e.minDateExpression:undefined,maxDate:t==="DateTimePicker"||t==="DatePicker"?e.maxDateExpression:undefined,change:t==="DateTimePicker"?e.change||e.eventHandlers.change:e.eventHandlers.change,liveChange:e.eventHandlers.liveChange,valueFormat:t==="DatePicker"?"medium":undefined,validateFieldGroup:e.eventHandlers.validateFieldGroup};function l(t){let a;switch(t){case"DatePicker":a=L(p,{...r,children:{customData:L(y,{value:e.dataSourcePath},"sourcePath")}});break;case"DateTimePicker":a=L(c,{...r,children:{customData:L(y,{value:e.dataSourcePath},"sourcePath")}});break;case"TimePicker":a=L(b,{...r,children:{customData:L(y,{value:e.dataSourcePath},"sourcePath")}});break}return a}return l(t)},getInputTemplate(e){const t=a.getInvolvedDataModelObjects(e.metaPath,e.contextPath);const i=k(t,e.formatOptions,e.editModeAsObject);return L(g,{"core:require":"{Field: 'sap/fe/macros/Field'}",id:e.editStyleId,value:e.valueBindingExpression,placeholder:e.editStylePlaceholder,width:"100%",editable:e.editableExpression,description:e.staticDescription,enabled:e.enabledExpression,required:e.requiredExpression,fieldGroupIds:e.fieldGroupIds,textAlign:i,type:e.editStyle==="Masked"?"Password":undefined,ariaLabelledBy:e.ariaLabelledBy,maxLength:e.formatOptions.textMaxLength,change:e.eventHandlers.change,liveChange:e.eventHandlers.liveChange,validateFieldGroup:e.eventHandlers.validateFieldGroup,children:{layoutData:M.getLayoutData(e),customData:L(y,{value:e.dataSourcePath},"sourcePath")}})},showAsRadioButton(e){const t=e.property.annotations?.Common?.ValueListWithFixedValues&&B(e.property)===true&&(e.property.annotations.Common.ValueListWithFixedValues.annotations?.Common?.ValueListShowValuesImmediately&&e.property.annotations.Common.ValueListWithFixedValues.annotations?.Common?.ValueListShowValuesImmediately.valueOf()===true||e.formatOptions.fieldEditStyle==="RadioButtons");const a=e.property?.annotations?.Common?.ValueList?.Parameters.find(t=>(t.$Type==="com.sap.vocabularies.Common.v1.ValueListParameterInOut"||t.$Type==="com.sap.vocabularies.Common.v1.ValueListParameterOut")&&t.LocalDataProperty.value===e.property.name);return t&&a!==undefined&&!e.property.annotations?.Common?.ValueListRelevantQualifiers},getRadioButtonTemplate(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;const a="/"+e.property?.annotations?.Common?.ValueList?.CollectionPath;const i=e.property?.annotations?.Common?.ValueList?.Parameters.find(t=>(t.$Type==="com.sap.vocabularies.Common.v1.ValueListParameterInOut"||t.$Type==="com.sap.vocabularies.Common.v1.ValueListParameterOut")&&t.LocalDataProperty.value===e.property.name);const o=C(i?.ValueListProperty)??C("");let r;const l=e.dataModelPath.targetEntityType.resolvePath(a)?.entityType.keys[0].annotations?.Common?.Text?.path;if(l){r=C(l)}else{r=o}let s;if(t){s=[{key:true,text:e.getTranslatedText("T_RADIOBUTTONS_BOOLEAN_YES")},{key:false,text:e.getTranslatedText("T_RADIOBUTTONS_BOOLEAN_NO")}]}return L(n,{id:e.editStyleId,possibleValues:s,requiredExpression:e.requiredExpression,validateFieldGroup:e.eventHandlers.validateFieldGroup,fixedValuesPath:a,fieldGroupIds:e.fieldGroupIds,value:e.valueBindingExpression,enabledExpression:e.enabledExpression,radioButtonTextProperty:r,radioButtonKeyProperty:o,horizontalLayout:e.formatOptions.radioButtonsHorizontalLayout})},getInputWithValueHelpTemplate(e){const t=a.getInvolvedDataModelObjects(e.metaPath,e.contextPath);const i=P.computeFieldBaseDelegate("sap/fe/macros/field/FieldBaseDelegate",e.formatOptions.retrieveTextFromValueList);const o=r.getFieldDisplay(e.property,e.formatOptions.displayMode,e.editModeAsObject);const l=!!e.property?.annotations?.UI?.MultiLineText;const n=D(e,l);const s=k(t,e.formatOptions,e.editModeAsObject,true);const d=P.computeLabelText(e,{context:e.metaPath});let u="";if(e.property.type==="Edm.String"&&l){u=L(f,{value:e.valueBindingExpression,required:e.requiredExpression,rows:e.formatOptions.textLinesEdit,growing:e.formatOptions.textMaxLines>0?true:undefined,growingMaxLines:e.formatOptions.textMaxLines,width:"100%",change:e.eventHandlers.change,fieldGroupIds:e.fieldGroupIds})}let p="";if(e.collaborationEnabled===true){p=L(m,{growFactor:"9"})}if(this.showAsRadioButton(e)!==true){return L(T,{"core:require":"{Field: 'sap/fe/macros/Field'}",delegate:i,id:e.editStyleId,value:e.valueBindingExpression,placeholder:e.editStylePlaceholder,valueState:e.valueState,editMode:e.editMode??e.computedEditMode,width:"100%",required:e.requiredExpression,additionalValue:e.textBindingExpression,display:o,multipleLines:n===false?undefined:n,valueHelp:e.valueHelpId,fieldGroupIds:e.fieldGroupIds,textAlign:s,ariaLabelledBy:e.ariaLabelledBy,label:d,change:e.eventHandlers.change,liveChange:e.eventHandlers.liveChange,validateFieldGroup:e.eventHandlers.validateFieldGroup,children:{contentEdit:u,layoutData:p,customData:L(y,{value:e.dataSourcePath},"sourcePath")}})}else{return this.getRadioButtonTemplate(e)}},getCheckBoxTemplate(e){const t=e.formatOptions.isFieldGroupItem===true;return L(u,{"core:require":"{Field: 'sap/fe/macros/Field'}",id:e.editStyleId,required:t?e.requiredExpression:undefined,selected:e.valueBindingExpression,editable:e.editableExpression,enabled:e.enabledExpression,fieldGroupIds:e.fieldGroupIds,text:t?e.label:undefined,wrapping:t?true:undefined,ariaLabelledBy:e.ariaLabelledBy,select:e.eventHandlers.change,validateFieldGroup:e.eventHandlers.validateFieldGroup,children:{customData:L(y,{value:e.dataSourcePath},"sourcePath")}})},getTextAreaTemplate(e){const t=e.formatOptions.textMaxLines?true:false;const a=!!e.formatOptions.textMaxLength;let i="";if(e.collaborationEnabled){i=L(m,{growFactor:"9"})}return L(E,{"core:require":"{Field: 'sap/fe/macros/Field'}",id:e.editStyleId,value:e.valueBindingExpression,placeholder:e.editStylePlaceholder,required:e.requiredExpression,rows:e.formatOptions.textLinesEdit,growing:t,growingMaxLines:e.formatOptions.textMaxLines,cols:300,width:"100%",editable:e.editableExpression,enabled:e.enabledExpression,fieldGroupIds:e.fieldGroupIds,ariaLabelledBy:e.ariaLabelledBy,maxLength:e.formatOptions.textMaxLength,showExceededText:a,change:e.eventHandlers.change,liveChange:e.eventHandlers.liveChange,validateFieldGroup:e.eventHandlers.validateFieldGroup,children:{layoutData:i,customData:L(y,{value:e.dataSourcePath},"sourcePath")}})},getRatingIndicatorTemplate:e=>{const t=e.ratingIndicatorTooltip||"{sap.fe.i18n>T_COMMON_RATING_INDICATOR_TITLE_LABEL}";return L(x,{"core:require":"{Field: 'sap/fe/macros/Field'}",id:e.editStyleId,maxValue:e.ratingIndicatorTargetValue,value:e.valueBindingExpression,tooltip:t,fieldGroupIds:e.fieldGroupIds,iconSize:"1.375rem",class:"sapUiTinyMarginTopBottom",editable:"true",change:e.eventHandlers.change,children:{layoutData:M.getLayoutData(e)}})},getTemplateWithWrapper(e){let t;if((e.editMode??e.computedEditMode)!==I.Display&&!!e.editStyle){if(e.collaborationEnabled??false){t=F(l,{width:"100%",alignItems:"End",children:[M.getTemplate(e),M.getCollaborationAvatar(e)]})}else{t=M.getTemplate(e)}}return t||""},getInputMaskTemplate(e){const t=[];const i=a.getInvolvedDataModelObjects(e.metaPath,e.contextPath);const o=k(i,e.formatOptions,e.editModeAsObject);if(e.mask?.maskRule){for(const a of e.mask.maskRule){t.push(L(v,{maskFormatSymbol:a.symbol,regex:a.regex}))}}return L(h,{"core:require":"{Field: 'sap/fe/macros/Field'}",id:e.editStyleId,value:e.valueBindingExpression,placeholder:e.editStylePlaceholder,width:"100%",editable:e.editableExpression,ariaLabelledBy:e.ariaLabelledBy,mask:e.mask?.mask,enabled:e.enabledExpression,required:e.requiredExpression,fieldGroupIds:e.fieldGroupIds,textAlign:o,placeholderSymbol:e.mask?.placeholderSymbol,liveChange:e.eventHandlers.liveChange,validateFieldGroup:e.eventHandlers.validateFieldGroup,children:{rules:t,customData:L(y,{value:e.dataSourcePath},"sourcePath")}})},getTemplate:e=>{let t;switch(e.editStyle){case"CheckBox":if(e.formatOptions.useRadioButtonsForBoolean){t=M.getRadioButtonTemplate(e,true)}else{t=M.getCheckBoxTemplate(e)}break;case"DatePicker":case"DateTimePicker":case"TimePicker":{t=M.getDateTimePickerGeneric(e,e.editStyle);break}case"Input":{t=M.getInputTemplate(e);break}case"Masked":{t=M.getInputTemplate(e);break}case"InputWithValueHelp":{t=M.getInputWithValueHelpTemplate(e);break}case"RatingIndicator":t=M.getRatingIndicatorTemplate(e);break;case"TextArea":t=M.getTextAreaTemplate(e);break;case"InputMask":t=M.getInputMaskTemplate(e);break;default:}return t}};return M},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/internal/field/FieldBlockStructure", ["sap/fe/core/helpers/StableIdHelper","sap/fe/macros/field/FieldFormatOptions","../../Field","sap/fe/base/jsx-runtime/jsx"],function(e,a,i,t){"use strict";var n={};var r=e.generate;function l(e,n){return t(i,{"core:require":"{TableAPI: 'sap/fe/macros/table/TableAPI'}",change:e.change,liveChange:e.onLiveChange,focusin:".collaborativeDraft.handleContentFocusIn",id:n||e.id,_flexId:e._flexId,idPrefix:e.idPrefix,vhIdPrefix:e.vhIdPrefix,contextPath:e.contextPath?.getPath(),metaPath:e.metaPath.getPath(),metaModel:e.metaModel,navigateAfterAction:e.navigateAfterAction,editMode:e.editMode??e.computedEditMode,wrap:e.wrap,class:e.class,ariaLabelledBy:e.ariaLabelledBy,textAlign:e.textAlign,semanticObject:e.semanticObject,showErrorObjectStatus:e.showErrorObjectStatus,readOnly:e.readOnly,value:e.value,description:e.description,required:e.requiredExpression,editable:e.editableExpression,collaborationEnabled:e.collaborationEnabled,visible:e.visible,mainPropertyRelativePath:e.mainPropertyRelativePath,customValueBinding:e.value?.slice(0,1)==="{"?e.value:undefined,children:{formatOptions:new a(e.formatOptions).serialize()}})}function d(e){let a;if(e._apiId){a=e._apiId}else if(e.idPrefix){a=r([e.idPrefix,"Field"])}else if(e.id){a=e.id}else{a=undefined}if(e.change===null||e.change==="null"){e.change=undefined}return l(e,a)}n.getTemplateWithField=d;return n},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/internal/field/FieldStructure", ["sap/fe/core/helpers/StableIdHelper","sap/fe/core/templating/DataModelPathHelper","sap/fe/core/templating/PropertyHelper","sap/fe/macros/ValueHelp","sap/m/HBox","sap/m/VBox","sap/ui/mdc/enums/FieldEditMode","../../CommonHelper","../../controls/FieldWrapper","../../field/FieldHelper","./DisplayStyle","./EditStyle","./FieldStructureHelper","sap/fe/base/jsx-runtime/jsx","sap/fe/base/jsx-runtime/jsxs"],function(e,t,a,l,n,i,r,d,o,s,p,u,c,m,h){"use strict";var v={};var F=c.setUpField;var g=a.hasValueHelp;var H=a.getAssociatedUnitProperty;var f=a.getAssociatedCurrencyProperty;var y=t.getContextRelativeTargetObjectPath;var P=e.generate;function $(e,t,a){const n=f(e.property)??H(e.property)??e.property;if(n&&g(n)){const n=l.getValueHelpForMetaPath(t,e.dataSourcePath,e.contextPath?.getPath(),a,e._requiresValidation);return n?.getContent()?.getId()}return""}v.getPossibleValueHelpTemplateId=$;function x(e){let t;if(e._flexId){t=e._flexId}else if(e.idPrefix){t=P([e.idPrefix,"Field-content"])}else{t=undefined}const a=p.getTemplate(e);const l=u.getTemplateWithWrapper(e);const n=e.editStyle==="InputWithValueHelp"&&e.computedEditMode?.includes("@$ui5.context")?true:undefined;return m(o,{id:t,editMode:e.editMode??e.computedEditMode,width:"100%",textAlign:e.textAlign,class:e.class,validateFieldGroup:e.eventHandlers.onFocusOut,delaySwitchToDisplay:n,children:{contentDisplay:a,contentEdit:l}})}v.createFieldWrapper=x;function E(e){let t=e;if(!(e.isDynamicInstantiation??false)){t=F(e,e._controlConfiguration,e._settings.models.viewData,e._settings.models.internal??e._settings.appComponent?.getModel?.("internal"),e._settings.appComponent,e.isPropertyInitial("readOnly"));const a=t.fileFilenameExpression?"{ path: '"+t.fileFilenameExpression+"' }":"undefined";t.eventHandlers.change="Field.handleChange";t.eventHandlers.liveChange="Field.handleLiveChange";t.eventHandlers.validateFieldGroup="Field.onValidateFieldGroup";t.eventHandlers.handleTypeMissmatch="FieldRuntimeHelper.handleTypeMissmatch";t.eventHandlers.handleFileSizeExceed="FieldRuntimeHelper.handleFileSizeExceed";t.eventHandlers.handleUploadComplete=`FieldRuntimeHelper.handleUploadComplete($event, ${a}, '${t.fileRelativePropertyPath}', $controller)`;t.eventHandlers.uploadStream="FieldRuntimeHelper.uploadStream($controller, $event)";t.eventHandlers.removeStream=`FieldRuntimeHelper.removeStream($event, ${a}, '${t.fileRelativePropertyPath}', $controller)`;t.eventHandlers.handleOpenUploader="FieldRuntimeHelper.handleOpenUploader";t.eventHandlers.handleCloseUploader="FieldRuntimeHelper.handleCloseUploader";t.eventHandlers.openExternalLink="FieldRuntimeHelper.openExternalLink";t.eventHandlers.onFocusOut=".collaborativeDraft.handleContentFocusOut";t.eventHandlers.linkPressed="FieldRuntimeHelper.pressLink";t.eventHandlers.displayAggregationDetails=`FIELDRUNTIME.displayAggregateDetails($event, '${y(t.dataModelPath)}')`;if(t.convertedMetaPath.$Type==="com.sap.vocabularies.UI.v1.DataFieldWithNavigationPath"){t.eventHandlers.onDataFieldWithNavigationPath=`FieldRuntimeHelper.onDataFieldWithNavigationPath(\${$source>/}, $controller, '${t.convertedMetaPath.Target.value}')`}t.eventHandlers.showCollaborationEditUser="FieldRuntimeHelper.showCollaborationEditUser(${$source>/}, ${$view>/})";t.eventHandlers.onDataFieldActionButton=s.getPressEventForDataFieldActionButton(t,t.metaPath.getObject());t.eventHandlers.onDataFieldWithIBN=d.getPressHandlerForDataFieldForIBN(t.metaPath.getObject())}if(t.displayStyle==="Avatar"||t.displayStyle==="Contact"||t.displayStyle==="Button"||t.displayStyle==="File"){if(t.displayStyle==="File"&&(t.collaborationEnabled??false)&&(t.editMode??t.computedEditMode)!==r.Display){return h(n,{width:"100%",alignItems:"End",children:[m(i,{width:"100%",children:p.getFileTemplate(t)}),u.getCollaborationAvatar(t)]})}else{return p.getTemplate(t)}}else if(t.formatOptions.fieldMode==="nowrapper"&&(t.editMode??t.computedEditMode)===r.Display){return p.getTemplate(t)}else{return x(t)}}v.getFieldStructureTemplate=E;return v},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/internal/field/FieldStructureHelper", ["sap/fe/base/BindingToolkit","sap/fe/core/controllerextensions/collaboration/CollaborationCommon","sap/fe/core/converters/MetaModelConverter","sap/fe/core/converters/annotations/DataField","sap/fe/core/formatters/CollaborationFormatter","sap/fe/core/formatters/ValueFormatter","sap/fe/core/helpers/BindingHelper","sap/fe/core/helpers/MetaModelFunction","sap/fe/core/helpers/ModelHelper","sap/fe/core/helpers/StableIdHelper","sap/fe/core/helpers/TitleHelper","sap/fe/core/helpers/TypeGuards","sap/fe/core/templating/DataModelPathHelper","sap/fe/core/templating/PropertyHelper","sap/fe/core/templating/SemanticObjectHelper","sap/fe/core/templating/UIFormatters","sap/fe/macros/field/FieldTemplating","sap/fe/macros/internal/valuehelp/AdditionalValueFormatter","sap/fe/macros/situations/SituationsIndicator","sap/ui/mdc/enums/FieldEditMode","../../field/FieldHelper"],function(t,e,a,i,o,n,r,s,l,d,c,p,u,f,m,y,h,P,v,M,g){"use strict";var x={};var O=h.setEditStyleProperties;var b=h.isUsedInNavigationWithQuickViewFacets;var I=h.isRetrieveTextFromValueListEnabled;var E=h.hasPropertyInsertRestrictions;var S=h.getVisibleExpression;var D=h.getValueBinding;var F=h.getTextBindingExpression;var C=h.getDraftIndicatorVisibleBinding;var T=h.getDataModelObjectPathForValue;var j=m.manageSemanticObjectsForCurrentUser;var U=m.getPropertyWithSemanticObject;var A=f.isSemanticKey;var V=f.getAssociatedExternalIdPropertyPath;var L=f.getAssociatedExternalIdProperty;var w=u.getTargetObjectPath;var $=u.getRelativePaths;var k=u.getContextRelativeTargetObjectPath;var B=u.enhanceDataModelPath;var R=p.isPropertyPathExpression;var H=p.isProperty;var N=p.isPathAnnotationExpression;var W=c.getTitleBindingExpression;var _=d.generate;var q=s.getRequiredPropertiesFromUpdateRestrictions;var Q=s.getRequiredPropertiesFromInsertRestrictions;var G=r.UI;var K=i.isDataField;var z=e.CollaborationFieldGroupPrefix;var J=t.transformRecursively;var X=t.pathInModel;var Y=t.not;var Z=t.ifElse;var tt=t.getExpressionFromAnnotation;var et=t.formatWithTypeInformation;var at=t.formatResult;var it=t.equal;var ot=t.constant;var nt=t.compileExpression;var rt=t.and;function st(t,e,a,i,o,n,r,s){const l={...t};Object.defineProperty(l,"value",{get:()=>t.value});Object.defineProperty(l,"description",{get:()=>t.description});l.change=t.change;l.metaPath=r?r:t.metaPath;l.contextPath=s?s:t.contextPath;l.visible=t.visible;if(!l.vhIdPrefix){l.vhIdPrefix="FieldValueHelp";l._flexId=t.id;if(!l.idPrefix){l.idPrefix=t.id}}l.formatOptions??={};l.formatOptions=yt(l);l.formatOptions.showOnlyUnitDecimals=a?.getProperty("/sapFeManifestConfiguration/app/showOnlyUnitDecimals")===true;l.formatOptions.preserveDecimalsForCurrency=a?.getProperty("/sapFeManifestConfiguration/app/preserveDecimalsForCurrency")===true;l.valueHelpMetaPath=r?r:l.metaPath;dt(l,l.valueHelpMetaPath?.getModel());l.convertedMetaPath=xt(l.convertedMetaPath);Ct(l);mt(l);l.dataSourcePath=w(l.dataModelPath);l.label=g.computeLabelText(t,{context:l.metaPath});ut(l);l.entityType=l.odataMetaModel.createBindingContext(`/${l.dataModelPath.targetEntityType.fullyQualifiedName}`);if(l.formatOptions?.forInlineCreationRows===true){l.hasPropertyInsertRestrictions=E(l.dataModelPath)}pt(l);lt(l);ct(l);l.formatOptions=l.formatOptions?l.formatOptions:{};Dt(l,l.dataModelPathExternalID||l.dataModelPath,e,a);bt(l,l.convertedMetaPath,l.dataModelPath,i,o);Et(l,o);l.valueState=Ft(l);if(l.editStyle==="InputWithValueHelp"){l.editStylePlaceholder=gt(l)}jt(l);Ut(l,a);const d=["Avatar","AmountWithCurrency"];if(l.displayStyle&&!d.includes(l.displayStyle)&&l.dataModelPath.targetObject){l.text=l.text??l.value??h.getTextBinding(l.dataModelPathExternalID||l.dataModelPath,l.formatOptions)}else{l.text=""}if(l.formatOptions.showEmptyIndicator){l.emptyIndicatorMode=String(l.formatOptions.showEmptyIndicator)==="true"?"On":undefined}else{l.emptyIndicatorMode=undefined}if(H(l.convertedMetaPath)&&l.convertedMetaPath.annotations?.UI?.DataFieldDefault!==undefined){l.metaPath=l.odataMetaModel.createBindingContext(`@${"com.sap.vocabularies.UI.v1.DataFieldDefault"}`,r?r:l.metaPath)}if(!n){l.computedEditMode=nt(Z(it(l.readOnly,true),"Display","Editable"))}l.eventHandlers={change:()=>{},liveChange:()=>{},validateFieldGroup:()=>{},handleTypeMissmatch:()=>{},handleFileSizeExceed:()=>{},handleUploadComplete:()=>{},uploadStream:()=>{},removeStream:()=>{},handleOpenUploader:()=>{},handleCloseUploader:()=>{},openExternalLink:()=>{},onFocusOut:()=>{},linkPressed:()=>{},displayAggregationDetails:()=>{},onDataFieldWithNavigationPath:()=>{},showCollaborationEditUser:()=>{},onDataFieldActionButton:()=>{},onDataFieldWithIBN:()=>{}};return l}x.setUpField=st;function lt(t){const e=y.getEditableExpressionAsObject(t.propertyForFieldControl,t.convertedMetaPath,t.dataModelPath);if(l.isCollaborationDraftSupported(t.odataMetaModel)&&t.editMode!==M.Display){const a=true;const i=y.getCollaborationExpression(t.dataModelPath,o.hasCollaborationActivity);const n=nt(rt(e,Y(i)));const r=nt(Z(i,ot("ReadOnly"),Z(rt(G.IsInactive,!!t.hasPropertyInsertRestrictions),"Display",t.editModeAsObject)));t.collaborationEnabled=a;t.collaborationExpression=i;t.editableExpression=n;t.computedEditMode=r}else{t.editableExpression=nt(e)}}x.computeCollaborationProperties=lt;function dt(t,e){t.convertedMetaPath=a.convertMetaModelContext(t.metaPathContext?t.metaPathContext:t.metaPath);let i=a.getInvolvedDataModelObjects(t.metaPathContext?t.metaPathContext:t.metaPath,t.contextPath);i=T(i)||i;t.dataModelPath=i;t.property=i.targetObject;t.odataMetaModel=e;t.propertyForFieldControl=i?.targetObject?.Value?(i?.targetObject).Value:i?.targetObject}x.computeCommonProperties=dt;function ct(t){const e=Q((t.contextPathContext?t.contextPathContext:t.contextPath)?.getPath().replaceAll("/$NavigationPropertyBinding/","/"),t.odataMetaModel);const a=q((t.contextPathContext?t.contextPathContext:t.contextPath)?.getPath().replaceAll("/$NavigationPropertyBinding/","/"),t.odataMetaModel);const i={requiredPropertiesFromInsertRestrictions:e,requiredPropertiesFromUpdateRestrictions:a};const o=y.getEnabledExpression(t.propertyForFieldControl,t.convertedMetaPath,false,t.dataModelPath);const n=y.getRequiredExpression(t.propertyForFieldControl,t.convertedMetaPath,false,false,i,t.dataModelPath);t.enabledExpression=o;t.requiredExpression=n}x.computeEditableExpressions=ct;function pt(t){if(t.editMode!==undefined&&t.editMode!==null){t.editModeAsObject=t.editMode}else{const e=t.formatOptions?.measureDisplayMode?t.formatOptions.measureDisplayMode==="ReadOnly":false;t.editModeAsObject=y.getEditMode(t.propertyForFieldControl,t.dataModelPath,e,true,t.convertedMetaPath);t.computedEditMode=nt(Z(rt(G.IsInactive,!!t.hasPropertyInsertRestrictions),"Display",t.editModeAsObject))}}x.computeEditMode=pt;function ut(t){const e=L(t.property);if(e){if(t.property)t.property.type=e.type;if(K(t.convertedMetaPath)){t.convertedMetaPath.Value.$target.type=e.type}const i=V(t.property);const o=t.metaPath.getModel().createBindingContext(t.contextPath?.getPath()+"/"+i,t.metaPath);t.convertedMetaPathExternalID=a.convertMetaModelContext(o);let n=a.getInvolvedDataModelObjects(o,t.contextPath);n=T(n)||n;t.dataModelPathExternalID=n}}x.computeExternalID=ut;function ft(t,e){const a=["InputWithValueHelp","TextArea","DatePicker","TimePicker","DateTimePicker","InputWithUnit","Input","InputMask","Masked"];if(!e){return}const i=e.getSideEffectsService();const o=i.computeFieldGroupIds(t.dataModelPath.targetEntityType?.fullyQualifiedName??"",t.dataModelPath.targetObject?.fullyQualifiedName??"");t.mainPropertyRelativePath=H(t.dataModelPath.targetObject)?k(t.dataModelPath):undefined;if(t.collaborationEnabled&&a.includes(t.editStyle||"")){const e=`${z}${t.dataSourcePath}`;o.push(e)}return o.length?o:undefined}function mt(t){if(t._flexId&&!t._apiId){t._apiId=t._flexId;t._flexId=Tt(t._flexId)}if(t.idPrefix){t.editStyleId=_([t.idPrefix,"Field-edit"])}if(t.formatOptions?.fieldMode==="nowrapper"&&t.editMode==="Display"){if(t._flexId){t.displayStyleId=t._flexId}else{t.displayStyleId=t.idPrefix?_([t.idPrefix,"Field-content"]):undefined}}else if(t.idPrefix){t.displayStyleId=_([t.idPrefix,"Field-display"])}}x.computeIDs=mt;function yt(t){return{...t.formatOptions,textAlignMode:t.formatOptions.textAlignMode??"Form",showEmptyIndicator:t.formatOptions.showEmptyIndicator??true,displayMode:t.formatOptions.displayMode,measureDisplayMode:t.formatOptions.measureDisplayMode,textLinesEdit:t.formatOptions.textLinesEdit,textMaxLines:t.formatOptions.textMaxLines,textMaxCharactersDisplay:t.formatOptions.textMaxCharactersDisplay,textExpandBehaviorDisplay:t.formatOptions.textExpandBehaviorDisplay,textMaxLength:t.formatOptions.textMaxLength,fieldEditStyle:t.formatOptions.fieldEditStyle,radioButtonsHorizontalLayout:t.formatOptions.radioButtonsHorizontalLayout,showTime:t.formatOptions.showTime,showTimezone:t.formatOptions.showTimezone,showDate:t.formatOptions.showDate}}x.getFormatOptions=yt;function ht(t,e){let a=X(k(e));const i=t?.displayMode;const o=R(e.targetObject)?e.targetObject.$target:e.targetObject;const r=o.annotations?.Common?.Text;if(r===undefined){return undefined}a=et(o,a);switch(i){case"ValueDescription":const t=$(e);return nt(tt(r,t));case"DescriptionValue":return nt(at([a],n.formatToKeepWhitespace));default:return undefined}}function Pt(t,e){const a={};if(t){const i=t[e];if(i){Object.keys(i).forEach(function(t){a[t]=i[t]})}}return a}function vt(t,e,a,i,o){if(o){t.hasQuickView=true;t.quickViewType="Facets"}if(i){const i=j(t.semanticObject,a,e);if(i.hasReachableStaticSemanticObject||i.dynamicSemanticObjects.length){t.hasQuickView=true;t.quickViewType=o?"FacetsAndSemanticLinks":"SemanticLinks";t.dynamicSemanticObjects=i.hasReachableStaticSemanticObject!==true?i.dynamicSemanticObjects:undefined}}}function Mt(t,e){return!!U(e)||t.semanticObject!==undefined&&t.semanticObject!==""}function gt(t){let e;const a=t.editStylePlaceholder;const i=t.formatOptions.textAlignMode;if(i==="Table"){e=t.dataModelPath.targetEntityType}const o=t.dataModelPath.targetObject?.name;const n=X(`${o}@$ui5.fe.recommendations.placeholderValue`);const r=X(`${o}@$ui5.fe.recommendations.placeholderDescription`);const s=at([n,r,X(`/recommendationsData`,"internal"),X(`/currentCtxt`,"internal"),X(`${o}@$ui5.fe.messageType`),a,t.formatOptions.displayMode],P.formatPlaceholder,e);return nt(s)}x.setInputWithValuehelpPlaceholder=gt;function xt(t){const e={...t};if(t?.term==="com.sap.vocabularies.UI.v1.DataPoint"){e.$Type=t.$Type||"com.sap.vocabularies.UI.v1.DataPointType"}return e}x.setUpDataPointType=xt;function Ot(t,e){const a=t?.getManifestEntry("sap.fe");return e?.annotations?.Measures?.ISOCurrency?a?.macros?.table?.currency?.decimalPadding??5:a?.macros?.table?.unitOfMeasure?.decimalPadding??3}x.getDecimalPadding=Ot;function bt(t,e,a,i,o){const n=t;const r=a.targetObject;if(!a.targetObject){n.displayStyle="Text";return n}n.hasUnitOrCurrency=r.annotations?.Measures?.Unit!==undefined||r.annotations?.Measures?.ISOCurrency!==undefined;n.hasValidAnalyticalCurrencyOrUnit=y.hasValidAnalyticalCurrencyOrUnit(a);n.textFromValueList=nt(at([X(k(a)),`/${r.fullyQualifiedName}`,n.formatOptions.displayMode],"sap.fe.macros.field.FieldRuntime.retrieveTextFromValueList"));if(r.annotations?.UI?.IsImage){n.displayStyle="File";return n}if(r.annotations?.UI?.IsImageURL){n.displayStyle="Avatar";return n}if(r.annotations?.UI?.InputMask){n.displayStyle="Text";return n}if(r.annotations?.Common?.Masked){n.displayStyle="Masked";return n}if(r.type==="Edm.Stream"){n.displayStyle="File";return n}if(n.formatOptions.isFieldGroupItem&&r.type==="Edm.Boolean"){n.displayStyle="CheckBoxGroupItem";return n}It(a,n);switch(e.$Type){case"com.sap.vocabularies.UI.v1.DataPointType":n.displayStyle="DataPoint";return n;case"com.sap.vocabularies.UI.v1.DataFieldForAnnotation":if(e.Target?.$target?.$Type==="com.sap.vocabularies.UI.v1.DataPointType"){n.displayStyle="DataPoint";return n}else if(e.Target?.$target?.$Type==="com.sap.vocabularies.Communication.v1.ContactType"){n.displayStyle="Contact";return n}break;case"com.sap.vocabularies.UI.v1.DataFieldForAction":case"com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation":n.displayStyle="Button";return n;case"com.sap.vocabularies.UI.v1.DataFieldWithIntentBasedNavigation":case"com.sap.vocabularies.UI.v1.DataFieldWithNavigationPath":case"com.sap.vocabularies.UI.v1.DataFieldWithAction":n.displayStyle="Link";return n}const s=b(a,r);const l=Mt(n,a);if(A(r,a)&&n.formatOptions.semanticKeyStyle){vt(n,i,a,l,s);St(n,a);n.showErrorIndicator=a.contextLocation?.targetObject?._type==="NavigationProperty"&&!n.formatOptions.fieldGroupDraftIndicatorPropertyPath;n.situationsIndicatorPropertyPath=a.targetObject.name;n.displayStyle=n.formatOptions.semanticKeyStyle==="ObjectIdentifier"?"ObjectIdentifier":"LabelSemanticKey";return n}if(e.Criticality){vt(n,i,a,l,s);n.displayStyle="ObjectStatus";return n}if((r.annotations?.Measures?.ISOCurrency||r.annotations?.Measures?.Unit)&&String(n.formatOptions.isCurrencyOrUnitAligned)==="true"&&n.formatOptions.measureDisplayMode!=="Hidden"){const e=At.getDecimalPadding(o,r);n.valueAsStringBindingExpression=n.value?n.value:D(a,n.formatOptions,false,true,undefined,true,false,e,true);n.unitBindingExpression=nt(y.getBindingForUnitOrCurrency(a,true,!!t.formatOptions.showOnlyUnitDecimals,!!t.formatOptions.preserveDecimalsForCurrency));n.displayStyle="NumberWithUnitOrCurrencyAligned";return n}if(r.annotations?.Communication?.IsEmailAddress||r.annotations?.Communication?.IsPhoneNumber){n.displayStyle="Link";return n}if(r.annotations?.UI?.MultiLineText){n.displayStyle="ExpandableText";return n}if(e.$Type==="com.sap.vocabularies.UI.v1.DataFieldWithUrl"){n.displayStyle="Link";return n}n.displayStyle="Text";vt(n,i,a,l,s);if(n.hasQuickView){n.displayStyle="LinkWithQuickView"}return n}x.setUpDisplayStyle=bt;function It(t,e){if(A(t.targetObject,t)){e.hasSituationsIndicator=v.getSituationsNavigationProperty(t.targetEntityType)!==undefined;if(t.contextLocation?.targetEntitySet?.annotations?.Common?.DraftRoot&&t.targetEntitySet?.annotations?.Common?.DraftRoot&&e.formatOptions?.hasDraftIndicator===true){e.draftIndicatorVisible=C(t.targetObject?.name);e.addDraftIndicator=true}}}function Et(t,e){const a=t;O(a,a.convertedMetaPath,a.dataModelPath);a.fieldGroupIds=ft(a,e);return a}x.setUpEditStyle=Et;function St(t,e){const a=t.formatOptions?.semanticKeyStyle;const i=t.formatOptions.displayMode;t.identifierTitle=W(e,F,{displayMode:i,splitTitleOnTwoLines:t.formatOptions.semanticKeyStyle==="ObjectIdentifier"},undefined,undefined);t.identifierText=a==="ObjectIdentifier"?ht(t.formatOptions,e):undefined}x.setUpObjectIdentifierTitleAndText=St;function Dt(t,e,a,i){const o=Pt(a,(t.metaPathContext?t.metaPathContext:t.metaPath).getPath());if(!t.formatOptions.displayMode){t.formatOptions.displayMode=y.getDisplayMode(e)}if(t.formatOptions.displayMode==="Description"){t.valueAsStringBindingExpression=t.value?t.value:D(e,t.formatOptions,true,true,undefined,true)}t.formatOptions.textLinesEdit=o.textLinesEdit||o.formatOptions&&o.formatOptions.textLinesEdit||t.formatOptions.textLinesEdit||4;t.formatOptions.textMaxLines=o.textMaxLines||o.formatOptions&&o.formatOptions.textMaxLines||t.formatOptions.textMaxLines;if(i?.getProperty("/retrieveTextFromValueList")){t.formatOptions.retrieveTextFromValueList=I(e.targetObject,t.formatOptions);if(t.formatOptions.retrieveTextFromValueList){const a=!!e?.targetEntityType?.annotations?.UI?.TextArrangement;t.formatOptions.displayMode=a?t.formatOptions.displayMode:"DescriptionValue"}}}x.setUpFormatOptions=Dt;function Ft(t){let e;const a=t.formatOptions?.textAlignMode?t.formatOptions?.textAlignMode:"Form";const i=X(k(t.dataModelPath));const o=$(t.dataModelPath);const n=tt(t.dataModelPath?.targetObject?.annotations?.Common?.Text,o);const r=t.dataModelPath.targetObject?.name;const s=X(`${r}@$ui5.fe.recommendations.placeholderValue`);const l=X(`${r}@$ui5.fe.recommendations.placeholderDescription`);if(a==="Table"){e=at([s,l,X(`/recommendationsData`,"internal"),X(`/isEditable`,"ui"),t.dataSourcePath,i,n],P.formatValueState,t.dataModelPath.targetEntityType)}else{e=at([s,l,X(`/recommendationsData`,"internal"),X(`/isEditable`,"ui"),t.dataSourcePath,i,n],P.formatValueState)}t.valueState=nt(e);return t.valueState}x.setUpValueState=Ft;function Ct(t){const e=a.getInvolvedDataModelObjects(t.metaPathContext?t.metaPathContext:t.metaPath,t.contextPath);t.visible??=S(e,t.formatOptions);t.displayVisible=t.formatOptions?.fieldMode==="nowrapper"?t.visible:undefined}x.setUpVisibleProperties=Ct;function Tt(t){return`${t}-content`}function jt(t){if(t.displayStyle==="File"){t.fileRelativePropertyPath=k(t.dataModelPath)||"";const e=t.property.annotations.Core?.ContentDisposition?.Filename;if(N(e)){const a=B(t.dataModelPath,e.path);t.fileFilenameExpression=k(a)??""}}}function Ut(t,e){if(t.displayStyle==="File"||t.displayStyle==="Avatar"){t.inlineEditEnabled=undefined;return}t.inlineEditEnabled=t.inlineEditEnabled===true||e?.getProperty("/isInlineEditEnabled")===true?true:undefined;if(t.inlineEditEnabled&&t.editModeAsObject!=="Display"){const e=y.getEditableExpressionAsObject(t.propertyForFieldControl,t.convertedMetaPath,t.dataModelPath);t.hasInlineEdit=J(e,"PathInModel",t=>{if(t.path==="isEditable"&&t.modelName==="ui"){return ot(true)}return t},true)}}const At={getDecimalPadding:Ot,setUpField:st,computeExternalID:ut,setUpDisplayStyle:bt,setUpObjectIdentifierTitleAndText:St,setUpValueState:Ft};return At},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/internal/field/FieldStyles", [],function(){"use strict"},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/internal/helpers/ActionHelper", ["sap/fe/base/BindingToolkit","sap/fe/core/helpers/BindingHelper","sap/fe/core/helpers/TypeGuards","sap/fe/macros/CommonHelper"],function(e,t,n,i){"use strict";var a=n.isPathAnnotationExpression;var o=t.bindingContextPathVisitor;var r=e.isPathInModelExpression;var s=e.getExpressionFromAnnotation;const l={getMultiSelectDisabledActions(e){const t=[];const n=e?.filter(e=>e.$Type==="com.sap.vocabularies.UI.v1.DataFieldForAction")??[];for(const e of n){const n=e?.ActionTarget;if(n?.isBound===true){for(const e of n.parameters){if(a(e.annotations.UI?.Hidden)||a(e.annotations.Common?.FieldControl)){t.push(n.name)}}}}return t},getPressEventDataFieldForActionButton(e,t,n,a){const o=t.InvocationGrouping&&t.InvocationGrouping.$EnumMember==="com.sap.vocabularies.UI.v1.OperationGroupingType/ChangeSet"?"ChangeSet":"Isolated";n=n||{};n["invocationGrouping"]=i.addSingleQuotes(o);n["controlId"]=i.addSingleQuotes(e);n["operationAvailableMap"]=i.addSingleQuotes(a);n["model"]="${$source>/}.getModel()";n["label"]=t.Label&&i.addSingleQuotes(t.Label,true);return i.generateFunction(".editFlow.invokeAction",i.addSingleQuotes(t.Action),i.objectToString(n))},getNumberOfContextsExpression(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;let n;const i=!t?"${internal>numberOfSelectedContexts}":"${internal>contextmenu/numberOfSelectedContexts}";if(e==="single"){n=i+" === 1"}else{n=i+" > 0"}return n},getOperationAvailableMap(e,t,n){let i={};if(e){e.forEach(e=>{if(e.$Type==="com.sap.vocabularies.UI.v1.DataFieldForAction"){const a=e.Action;if(!a?.includes("/")&&!e.Determining){if(t==="table"){i=this._getOperationAvailableMapOfTable(e,a,i,n)}else if(t==="chart"){i=this._getOperationAvailableMapOfChart(a,i,n)}}}else if(e.$Type==="com.sap.vocabularies.UI.v1.DataFieldForActionGroup"){const a=this.getOperationAvailableMap(e.Actions,t,n);i={...i,...a}}})}return i},_getOperationAvailableMapOfTable(e,t,n,i){const a=e.ActionTarget;if(a?.annotations?.Core?.OperationAvailable===null){}else if(a?.parameters?.length){const e=a.parameters[0].fullyQualifiedName,l=s(a?.annotations?.Core?.OperationAvailable,[],undefined,t=>o(t,i.getConvertedTypes(),e));if(r(l)){n=this._addToMap(t,l.path,n)}else if(a?.annotations?.Core?.OperationAvailable!==undefined){n=this._addToMap(t,l,n)}}return n},_getOperationAvailableMapOfChart(e,t,n){let a=i.getActionPath(n.context,false,e,true);if(a===null){t=this._addToMap(e,null,t)}else{a=i.getActionPath(n.context,false,e);if(a.sProperty){t=this._addToMap(e,a.sProperty.substring(a.sBindingParameter.length+1),t)}}return t},_addToMap(e,t,n){if(e&&n){n[e]=t}return n},ensurePrimaryActionNeverOverflows(e){return e.map(e=>e.priority==="NeverOverflow"||!this.isPrimaryAction(e)?e:{...e,priority:"NeverOverflow"})},isPrimaryAction(e){const t=e.emphasized===true||e.type==="Emphasized";const n=e.criticality!==undefined&&e.criticality!==null;return t||n}};return l},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/internal/helpers/DataPointTemplating", ["sap/fe/base/BindingToolkit","sap/fe/core/formatters/ValueFormatter","sap/fe/core/helpers/TypeGuards","sap/fe/core/templating/DataModelPathHelper","sap/fe/core/templating/PropertyHelper","sap/fe/core/templating/UIFormatters","sap/ui/core/Lib","sap/ui/model/odata/v4/AnnotationHelper"],function(e,t,n,r,a,o,s,i){"use strict";var c={};var u=o.getDisplayMode;var l=o.getBindingWithUnitOrCurrency;var g=o.getBindingWithTimezone;var m=o.getBindingForTimezone;var f=o.getBindingForDateFormat;var p=a.hasStaticPercentUnit;var d=r.getRelativePaths;var O=r.enhanceDataModelPath;var T=n.isProperty;var I=e.unresolvableExpression;var b=e.pathInModel;var _=e.isPathInModelExpression;var D=e.getExpressionFromAnnotation;var E=e.formatWithTypeInformation;var v=e.formatResult;var P=e.compileExpression;var y=e.EDM_TYPE_MAPPING;const h=["Edm.Single","Edm.Double","Edm.Decimal"];const A=(e,t)=>e?.TargetValue?D(e.TargetValue,t):I;const M=s.getResourceBundleFor("sap.fe.macros");const N=e=>{const n=e?.targetObject?.Value||"";const r=d(e);const a=D(n,r);const o=A(e.targetObject,r);if(a&&o){let s=e.targetObject?.Value;if(!T(s)){s=s.$target}const i=s.annotations?.Measures?.Unit||s.annotations?.Measures?.ISOCurrency;if(!i){return M.getText("T_COMMON_PROGRESS_INDICATOR_DISPLAY_VALUE_NO_UOM",[P(a),P(o)])}if(p(n?.$target)){return`${P(a)} %`}const c=i.$target?E(i.$target,D(i,r)):D(i,r);const u=s.annotations?.Measures?.ISOCurrency?true:false;let l;if(u){l=b("/##@@requestCurrencyCodes")}else{l=b("/##@@requestUnitsOfMeasure")}l.targetType="any";l.mode="OneTime";return P(v([a,o,c,u,l],t.formatProgressIndicatorText))}return undefined};c.buildExpressionForProgressIndicatorDisplayValue=N;const x=(e,t)=>{if(t){return C(i.value(t,{context:e}))}};const C=e=>{if(e){const t=e>1?M.getText("T_ANNOTATION_HELPER_RATING_INDICATOR_SUBTITLE_LABEL_PLURAL"):M.getText("T_ANNOTATION_HELPER_RATING_INDICATOR_SUBTITLE_LABEL");return M.getText("T_ANNOTATION_HELPER_RATING_INDICATOR_SUBTITLE",[String(e),t])}};const S=(e,t)=>{let n;if(t&&t.SampleSize){n=x(e,t.SampleSize)}else if(t&&t.Description){const r=i.value(t.Description,{context:e});n="${path:"+r+"}"}return n};S.requiresIContext=true;c.getHeaderRatingIndicatorText=S;const j=e=>{const t=d(e);if(e?.targetObject?.annotations?.Common?.Text){const n=D(e?.targetObject.annotations?.Common?.Text,t);if(_(n)){n.parameters={$$noPatch:true}}return n}return undefined};const F=(e,t)=>{if(t){if(!e.formatOptions){e.formatOptions={}}e.formatOptions=Object.assign(e.formatOptions,{preserveDecimals:false,maxFractionDigits:t})}return e};const R=(e,t,n,r)=>{let a;const o=!t?.path?.includes("/")?d(e):[];a=D(t,o);const s=e?.targetObject;if(s&&n&&_(a)){E(s,a);a.type=y[n]?.type;if(h.includes(n)){a=F(a,r)}}return a};c.getValueFormatted=R;const V=(e,n,r)=>{const a=e.targetObject;const o=a?.Value||"";const s=o?.$target?.type;let i;if(h.includes(s)&&a?.ValueFormat){if(a.ValueFormat.NumberOfFractionalDigits){i=a.ValueFormat.NumberOfFractionalDigits}}const c=O(e,o.path);const l=c?j(c):undefined;const p=R(c,o,s,i);const d=l?n?.displayMode||u(c):"Value";let T;switch(d){case"Description":T=l;break;case"ValueDescription":T=v([p,l],t.formatWithBrackets);break;case"DescriptionValue":T=v([l,p],t.formatWithBrackets);break;default:if(c.targetObject?.annotations?.Common?.Timezone&&c.targetObject.type==="Edm.DateTimeOffset"){T=g(c,p)}else if(c.targetObject?.annotations?.Common?.IsTimezone){T=m(c,p)}else if(c.targetObject?.annotations?.UI?.DateTimeStyle||n?.dateTimePattern){T=f(c,p,n)}else{T=U(c,p,r||n?.measureDisplayMode==="Hidden",!!n?.showOnlyUnitDecimals)}}return P(T)};c.buildFieldBindingExpression=V;const U=(e,t,n,r)=>{if(e.targetObject?.annotations?.Measures?.Unit||e.targetObject?.annotations?.Measures?.ISOCurrency){if(n&&p(e.targetObject)){return t}return l(e,t,undefined,n?{showMeasure:false}:undefined,true,r)}return t};c._computeBindingWithUnitOrCurrency=U;const B=e=>{const n=e?.targetObject?.Value||"";const r=d(e);const a=D(n,r);const o=A(e.targetObject,r);const s=n.$target;const i=s.annotations?.Measures?.Unit||s.annotations?.Measures?.ISOCurrency;if(i){const e=D(i,r);return P(v([a,o,e],t.computePercentage))}return P(v([a,o,""],t.computePercentage))};c.buildExpressionForProgressIndicatorPercentValue=B;return c},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/internal/helpers/DefaultActionHandler", ["sap/fe/macros/CommonHelper","sap/fe/macros/table/TableHelper","sap/m/library"],function(e,t,n){"use strict";var a=n.MenuButtonMode;const i={getDefaultActionHandler:function(n,a,i,r,o,u,l){if(i.defaultAction){try{switch(i.defaultAction.type){case"ForAction":{if(u==="Table"&&n&&a){const e=typeof o==="string"?a.createBindingContext(o)?.getObject():o;return t.pressEventDataFieldForActionButton(n,r,l.getObject("@sapui.name"),n.tableDefinition.operationAvailableMap,e,i.isNavigable,i.enableAutoScroll,i.defaultValuesExtensionFunction)}return undefined}case"ForNavigation":{if(u==="Table"&&n){return e.getPressHandlerForDataFieldForIBN(r,"${internal>selectedContexts}",!n.tableDefinition.enableAnalytics)}return undefined}default:{if(i.defaultAction.command){return"cmd:"+i.defaultAction.command}if(i.defaultAction.noWrap){return i.defaultAction.press}else{switch(u){case"Table":{return e.buildActionWrapper(i.defaultAction,n)}case"Form":{return e.buildActionWrapper(i.defaultAction,{id:"forTheForm"})}}}}}}catch(e){return"binding for the default action is not working as expected"}}return undefined},getUseDefaultActionOnly:function(e){if(e.defaultAction){return true}else{return false}},getButtonMode:function(e){if(e.defaultAction){return a.Split}else{return a.Regular}}};return i},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/internal/helpers/TableTemplating", ["sap/fe/base/BindingToolkit"],function(n){"use strict";var r={};var e=n.resolveBindingString;var s=n.not;var i=n.equal;var a=n.constant;var o=n.compileExpression;var t=n.and;const c=(n,r,c)=>{const v=e(n);const l=e(r);const u=a(c);return o(t(u,s(i(v,l))))};r.buildExpressionForHeaderVisible=c;return r},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/internal/helpers/Upload", ["sap/fe/core/CommonUtils","sap/fe/core/helpers/ResourceModelHelper","sap/m/MessageBox","sap/ui/core/Item","sap/ui/unified/FileUploaderParameter"],function(e,t,o,a,r){"use strict";var i={};var s=t.getResourceModel;function n(e,t,a){const r=s(e);o.error(r.getText("M_FIELD_FILEUPLOADER_WRONG_MIMETYPE"),{details:`<p><strong>${r.getText("M_FIELD_FILEUPLOADER_WRONG_MIMETYPE_DETAILS_SELECTED")}</strong></p>${t}<br><br>`+`<p><strong>${r.getText("M_FIELD_FILEUPLOADER_WRONG_MIMETYPE_DETAILS_ALLOWED")}</strong></p>${a.toString().replaceAll(",",", ")}`,contentWidth:"150px"})}i.showTypeMismatchDialog=n;function l(e,t){const a=s(e);o.error(a.getText("M_FIELD_FILEUPLOADER_FILE_TOO_BIG",[t]),{contentWidth:"150px"})}i.showFileSizeExceedDialog=l;function c(e,t){const a=s(e);o.error(a.getText("M_FIELD_FILEUPLOADER_FILENAME_TOO_BIG",[t]),{contentWidth:"150px"})}i.showFileNameLengthExceedDialog=c;function d(e,t){let a,r;try{r=t&&JSON.parse(t);a=r.error?.message}catch(o){a=t||s(e).getText("M_FIELD_FILEUPLOADER_ABORTED_TEXT")}o.error(a)}i.displayMessageForFailedUpload=d;function p(e,t,o){if(e.isA("sap.ui.unified.FileUploader")){const a=new r;a.setName(t);a.setValue(o);e.addHeaderParameter(a)}else if(e.isA("sap.m.upload.UploadItem")){const r=new a({key:t,text:o});e.addHeaderField(r)}}function E(t,o,a){if(t.isA("sap.ui.unified.FileUploader")){t.removeAllHeaderParameters()}else if(t.isA("sap.m.upload.UploadItem")){t.removeAllHeaderFields()}const r=t.getModel()?.getHttpHeaders()?.["X-CSRF-Token"];if(r){p(t,"x-csrf-token",r)}const i=a?.getProperty("@odata.etag")??t.getBindingContext()?.getProperty("@odata.etag");if(i){const o=e.getTargetView(t);const a=o.getController().collaborativeDraft;p(t,"If-Match",a.isConnected()?"*":i)}p(t,"Accept","application/json");p(t,"Content-Type",o||"application/octet-stream")}i.setHeaderFields=E;return i},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/internal/valuehelp/AdditionalValueFormatter", ["sap/base/util/ObjectPath","sap/fe/core/CommonUtils","sap/fe/core/formatters/ValueFormatter","sap/fe/core/helpers/ModelHelper","sap/fe/macros/internal/valuehelp/AdditionalValueHelper","sap/ui/core/Lib","sap/ui/core/library"],function(e,t,a,n,r,i,o){"use strict";var s=o.ValueState;var l=r.additionalValueHelper;function u(e,t){const a=l.getRelevantRecommendations(e||{},this.getBindingContext(),t)||[];if(a.length>0){return true}return false}u.__functionName="sap.fe.macros.internal.valuehelp.AdditionalValueFormatter#getGrowing";function c(e,t){const a=n.getMetaPathForContext(e);return t.replace(`${a}/`,"")}function f(e,t,a,n,r,i){const o=s=>{const l=s.getSource();const u=l.getAllCurrentContexts();if(u.includes(a)){if(a.getObject()){const{valueState:o,valueStateText:s}=d(e,t,n,a,r,i,this);this.setValueStateText(s);this.setValueState(o)}l.detachChange(o)}};a.getBinding().attachChange(o)}function d(e,a,n,r,i,o,u){let f=s.None,d="";if(e||a){d=o;f=s.Information}else if(n){const e=c(r,i);const t=l.getRelevantRecommendations(n,r,i,e);let a;if(n?.version===2){a=l.getAdditionalValueFromPropertyPath(e,r,n)}if(n?.version===2&&(a?.value||a?.text)||!n?.version&&t?.length){d=o;f=s.Information}}if(f===s.Information){const e=t.getTargetView(u);e.getController().recommendations.increaseTelemetryDataCount("numberofTimesFormatterCalled")}return{valueState:f,valueStateText:d}}function h(e,t,a,n,r,o,l){const u=this.getBindingContext();if(!u||!n){return s.None}l=l==="undefined"?undefined:l;const c=this.getValueState();const h=u.isTransient?.();if(!r||h){return c}const g=e||t||!!a&&Object.keys(a).length>0;const m=i.getResourceBundleFor("sap.fe.core").getText("RECOMMENDATIONS_DATA_INFO");const p=this.getValueStateText();const v=c===s.Information&&p===m;if(v&&(!g||o||l)){return s.None}const V=g&&(c==s.None||v);if(!o&&!l&&V){if(!u.getObject()&&u.getBinding()?.isA?.("sap.ui.model.odata.v4.ODataListBinding")){f.call(this,e,t,u,a,r,m)}else{const{valueState:n,valueStateText:i}=d(e,t,a,u,r,m,this);this.setValueStateText(i);return n}}return c}h.__functionName="sap.fe.macros.internal.valuehelp.AdditionalValueFormatter#formatValueState";function g(e,t){let n;const r=e?.value;const i=e?.text;switch(t){case"Value":n=a.formatWithBrackets(r);break;case"Description":n=a.formatWithBrackets(i);break;case"DescriptionValue":n=a.formatWithBrackets(i,r);break;case"ValueDescription":n=a.formatWithBrackets(r,i);break;default:n=a.formatWithBrackets(i,r)}return n}function m(e,t,a,n,r,i,o){let s=this.getPlaceholder();i=i==="undefined"?undefined:i;if(r){return i}if(e){s=g({value:e,text:t},o)}else if(a&&Object.keys(a).length&&a.version===2){const e=this.getBindingContext()||n;const t=this.getBinding("value")?.getPath();if(e&&t){const n=l.getAdditionalValueFromPropertyPath(t,e,a);s=g(n,o)}}else{s=undefined}if(i&&!s){s=i}return s}m.__functionName="sap.fe.macros.internal.valuehelp.AdditionalValueFormatter#formatPlaceholder";const p=function(e){if(p.hasOwnProperty(e)){for(var t=arguments.length,a=new Array(t>1?t-1:0),n=1;n<t;n++){a[n-1]=arguments[n]}return p[e].apply(this,a)}else{return""}};p.getGrowing=u;p.formatValueState=h;p.formatPlaceholder=m;e.set("sap.fe.macros.internal.valuehelp.AdditionalValueFormatter",p);return p},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/internal/valuehelp/AdditionalValueHelper", ["sap/base/Log","sap/fe/core/converters/MetaModelConverter","sap/fe/core/helpers/ModelHelper","sap/fe/core/helpers/StandardRecommendationHelper","sap/ui/core/Lib","sap/ui/model/Filter","sap/ui/model/FilterType","sap/ui/model/Sorter","sap/ui/model/json/JSONModel"],function(e,t,n,i,a,r,s,o,l){"use strict";var c={};var u=i.standardRecommendationHelper;var d=function(e){e["recommendation"]="recommendation";e["recentValue"]="recentValue";e["other"]="other";return e}(d||{});c.AdditionalValueGroupKey=d;const f={requestForAdditionalValueContextData:async function(e,t,n,i,a,r){let s;const l=[];const c=[...e.filter(e=>e.groupKey===d.recommendation)].reverse();n.parameters.$select=i.qualifiers[i.valueHelpQualifier].vhProperties??[];const u=n.parameters.$search;n.parameters.$search=u;if(i.isValueListWithFixedValues){n.parameters.$count=true}const f=[];a.forEach(e=>f.push(new o(e.name??"",e.descending)));const h=t.getModel();const p=this.getAdditionalValueContextBindings(c,u,i,h,n,f);if(p.length>0){if(p.length===2){l.push(p[0].requestContexts(0,10,"additionalValue"));s=p[1]}else{s=p[0]}l.push(s.requestContexts(0,i.isValueListWithFixedValues?100:10,"additionalValue"))}await h.submitBatch("additionalValue");const g=await Promise.all(l);const m=s?.getCount();if(m&&m>100){r.getBindingContext("internal")?.setProperty("allListBinding",s)}let V=[],y=[];if(c.length>0){V=g[0];if(u||i.isValueListWithFixedValues){y=g[1]}}else if(u||i.isValueListWithFixedValues){y=g[0]}const x=V.map(e=>e.getObject());const A=y.map(e=>e.getObject());return{recommendationValuesContextData:x,othersValuesContextData:A}},getAdditionalValueContextBindings:function(e,t,n,i,a,r){const s=[];const o=[...this.getValueHelpBindingFilters(a,n,i.getMetaModel())];const l=this.getAdditionalValueFilters(e,[...o]);if(e.length>0){s.push(i.bindList(a.path,undefined,undefined,l,a.parameters))}if(t||n.isValueListWithFixedValues){s.push(i.bindList(a.path,undefined,r,o,a.parameters))}return s},getValueHelpBindingFilters:function(e,t,n){const i=[];if(e.filters){if(Array.isArray(e.filters)){i.push(...e.filters)}else{i.push(e.filters)}}this.addDraftFilter(e,i,t,n);return i},addDraftFilter:function(e,i,a,s){if(e.path&&s){const o=s.getMetaContext(e.path);const l=t.getInvolvedDataModelObjects(o);const c=n.isObjectPathDraftSupported(l);const u=a?.isValueListWithFixedValues??false;if(c&&u){i.push(new r({path:"IsActiveEntity",operator:"EQ",value1:true}))}}},resumeValueListBindingAndResetChanges:async function(e){if(e.isSuspended()){await e.resumeAsync()}try{await e.resetChanges()}catch(e){}},sortAndFilterListBinding:function(e,t){e.filter(r.NONE,s.Application);if(t.length){const n=[];t.forEach(e=>n.push(new o(e.name??"",e.descending,this.getSorterFunction)));e.sort(n)}else e.sort(new o("",false,this.getSorterFunction))},getAdditionalValueFilters:function(e,t){e.forEach(e=>{if(e.values.length>0){const n=e.values;const i=e.propertyPath;n.forEach(e=>{t.push(new r({path:i,value1:e,operator:"EQ"}))})}});return t},getSorterFunction:function(e){const t=a.getResourceBundleFor("sap.fe.macros");const n=e.getProperty("@$fe.additionalValueGroupKey");if(n===d.recommendation){return t.getText("M_ADDITIONALVALUEHELPER_RECOMMENDATIONS")}else if(n===d.recentValue){return t.getText("M_ADDITIONALVALUEHELPER_RECENTVALUE")}else{return t.getText("M_ADDITIONALVALUEHELPER_OTHERS")}},createTransientContextsForAdditionalValueContextData:function(e,t,n,i){this.createGroupedTransientContexts(n,i,d.other);this.createGroupedTransientContexts(t,i,d.recentValue);this.createGroupedTransientContexts(e,i,d.recommendation)},createGroupedTransientContexts:function(t,n,i){[...t].reverse().forEach(async t=>{t["@$fe.additionalValueGroupKey"]=i;const a=n.create(t);try{await a.created()}catch(t){if(!t.canceled){e.error(t.name)}}})},getRelevantRecommendations:function(e,t,n,i){const a=[];let r;if(Object.keys(e).length>0){n=this.getRecommendationPropertyPath(n);if(e.version===2&&i){n=i}r=this.getAdditionalValueFromPropertyPath(n,t,e);if(r&&Object.keys(r).length>0){r.additionalValues.forEach(e=>{a.push(e.value)});return a}else{return null}}},_checkForKeysInRecommendations:function(e,t){for(const n in e){if(e[n]!==t[n]){return false}}return true},getAdditionalValueFromKeys:function(e,t){const n=t?.getObject();let i={};if(t&&n){if(Array.isArray(e)){e.forEach(e=>{const t=e.keyProperties;const a=this._checkForKeysInRecommendations(t,n);if(a){i=e}})}}return i},_getRecommendation:function(e,t,n){let i=Object.assign(n,{});if(Object.keys(n).includes(e)){return n[e]}else{while(Object.keys(i).length>0&&!Object.keys(i).includes(e)){const a=e.split("/");if(a.length>1){const r=a[0];a.splice(0,1);e=a.join("/");n=this.getAdditionalValueFromPropertyPath(r,t,n);n=this.getAdditionalValueFromKeys(n,t);if(Object.keys(n).length>0){i=Object.assign(n,{});n=this.getAdditionalValueFromPropertyPath(e,t,n)}else{return{}}}else{return{}}}return n}},getAdditionalValueFromPropertyPath:function(e,t,n){if(n.version===2){return u.getStandardRecommendations(t,e,n)}if(n){return this._getRecommendation(e,t,n)}},getRecommendationPropertyPath:function(e){const t=e.split("/");t.splice(0,2);return t.join("/")},getRelevantOthersValuesContextData:function(e,t,n,i){return n.filter(n=>!this.checkValuesMatch(n,e,i)&&!this.checkValuesMatch(n,t,i))},getRelevantRecentValuesContextData:function(e,t,n,i,a){const r=new l({recentValuesContextData:t});const s=r.bindList("/recentValuesContextData",undefined,undefined,this.getValueHelpBindingFilters(a));t=s.getAllCurrentContexts().map(e=>e.getObject());return t.filter(t=>this.filterRecentValuesContextData(t,i,n,e))},filterRecentValuesContextData:function(e,t,n,i){for(const a in e){if(typeof e[a]==="object"){if(this.filterRecentValuesContextData(e[a],t,n,i)){return true}}else if(typeof e[a]==="string"){if(!t&&i.length===0||e[a].includes(t)||n.includes(a)&&this.checkValuesMatch(e,i,n)){return true}}}return false},checkValuesMatch:function(e,t,n){for(const i of t){let t=true;for(const a of n){if(e[a]!==i[a]){t=false;break}}if(t){return true}}return false},getRelevantRecommendationValuesContextData:function(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];let n=arguments.length>2?arguments[2]:undefined;const i=[];t.forEach(t=>{const a=e.find(e=>e[n]===t);if(a){i.push(a)}});return i},updateFinished:async function t(n){const i=n.getSource();const a=i.getBindingContext("internal"),r=a?.getProperty("allListBinding");const{actual:s,total:o,reason:l}=n.getParameters();if(r&&l==="Growing"&&s===o){const t=await r.requestContexts(o,100),n=t.map(e=>e.getObject());n.forEach(async t=>{const n=i.getBinding("items").create(t,undefined,true);try{await n.created()}catch(t){if(t){e.error(t.name)}}})}}};c.additionalValueHelper=f;return c},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/internal/valuehelp/TableDelegate", ["sap/base/Log","sap/base/util/deepEqual","sap/fe/core/CommonUtils","sap/fe/core/converters/MetaModelConverter","sap/fe/core/converters/controls/Common/table/Columns","sap/fe/core/helpers/MetaModelFunction","sap/fe/core/helpers/ModelHelper","sap/fe/core/templating/DataModelPathHelper","sap/fe/core/templating/DisplayModeFormatter","sap/fe/core/templating/PropertyHelper","sap/fe/core/type/EDM","sap/fe/macros/CommonHelper","sap/fe/macros/DelegateUtil","sap/fe/macros/internal/valuehelp/TableDelegateHelper","sap/ui/core/Element","sap/ui/mdc/odata/v4/TableDelegate","sap/ui/mdc/odata/v4/TypeMap","sap/ui/mdc/odata/v4/util/DelegateUtil","sap/ui/mdc/util/FilterUtil","sap/ui/model/Filter","sap/ui/model/FilterOperator","sap/ui/model/Sorter"],function(e,t,a,n,o,r,s,i,c,p,l,f,g,d,u,y,h,m,b,P,C,v){"use strict";var I=d.isSortableProperty;var M=d.isFilterableProperty;var T=d.getPath;var $=l.isTypeFilterable;var O=p.getLabel;var S=p.getAssociatedUnitPropertyPath;var D=p.getAssociatedTimezonePropertyPath;var E=p.getAssociatedTextPropertyPath;var F=p.getAssociatedCurrencyPropertyPath;var x=c.getDisplayMode;var B=i.getTargetObjectPath;var j=i.enhanceDataModelPath;var w=r.isMultiValueFilterExpression;var N=r.getSortRestrictionsInfo;var k=r.getFilterRestrictionsInfo;var A=o.getTypeConfig;var _=n.getInvolvedDataModelObjects;const R=Object.assign({},y);R.fetchProperties=async function(e){const t=await this._getModel(e);const a=await this._createPropertyInfos(e,t);R.createInternalBindingContext(e);R.setSortConditions(e,a);g.setCachedProperties(e,a);e.getBindingContext("internal").setProperty("tablePropertiesAvailable",true);return a};R.setSortConditions=function(e,t){const a=e.data("sortConditions");const n=f.parseCustomData(a);if(n?.sorters){n.sorters.forEach(e=>{const a=R.convertPropertyPathToInfoName(e.name,t);if(a&&a!==e.name){e.name=a}});e.setSortConditions({...n})}};R.convertPropertyPathToInfoName=function(e,t){const a=t.find(t=>!t.propertyInfos&&t.path===e);return a?.key??e};R.createInternalBindingContext=function(e){let t=e;while(t&&!t.isA("sap.ui.mdc.valuehelp.Dialog")){t=t.getParent()}const a=e.getModel("internal");if(t&&a){const n=t.getBindingContext("internal");let o;if(n){o=n.getPath()+`::VHDialog::${t.getId()}::table`}else{o=`/buildingblocks/${e.getId()}`;a.setProperty("/buildingblocks",{...a.getProperty("/buildingblocks")})}const r=a.bindContext(o).getBoundContext();e.setBindingContext(r,"internal")}};function U(e){const t=q(e);const a={};if(t?.targetObject){const n=t.targetObject;const o=B(t,true);const r=e.targetObject;const s=B(e,true);const i=r.annotations?.Common?.Text,c=i?.annotations?.UI?.TextArrangement?.toString(),p=i&&c&&x(r);if(p==="Description"){a[o]=n}else if(p&&p!=="Value"||!i){a[s]=r;a[o]=n}}return a}R._createPropertyInfos=async function(e,t){const a=e.getDelegate().payload;const n=[];const o=`/${a.collectionName}`;const r=t.getMetaModel();return r.requestObject(`${o}@`).then(function(t){const a=N(t);const i=t["@Org.OData.Capabilities.V1.FilterRestrictions"];const c=k(i);const p=t["@Org.OData.Capabilities.V1.FilterFunctions"];const l=s.isFilteringCaseSensitive(r,p);const f=g.getCustomData(e,"columns");const d={};const u=_(e.getModel().getMetaModel().getContext(o));f.customData.forEach(function(t){let o=$(t.$Type)?e.getTypeMap().getTypeConfig(t.$Type):h.getTypeConfig("sap.ui.model.odata.type.String");const r={key:t.path,label:t.label};const s=j(u,t.path);const i=s.targetObject;if(i){const e=B(s,true);if($(i.type)){const e=A(i);o=h.getTypeConfig(e.type??"sap.ui.model.odata.type.String",e.formatOptions,e.constraints)??o}const n=U(s);const p=Object.keys(n);if(p.length){r.propertyInfos=p;p.forEach(e=>{d[e]=n[e]});if(!p.find(e=>n[e]===i)){d[e]=i}}else{r.path=t.path;r.dataType=o.className;r.constraints=t.constraints;r.formatOptions=t.formatOptions;r.sortable=I(a,t);r.filterable=M(c,t);r.maxConditions=V(c,t);r.caseSensitive=l}}else{r.path=t.path;r.caseSensitive=l;r.dataType=o.className}n.push(r)});const y=H(d,n,a,c,l);return n.concat(y)})};R.updateBindingInfo=function(e,t){y.updateBindingInfo.apply(this,[e,t]);const n=e.getDelegate().payload;if(n){t.path=t?.path||n.collectionPath||`/${n.collectionName}`}t.parameters=t.parameters||{};const o=u.getElementById(e.getFilter()),r=e.isFilteringEnabled();let i;let c,p;const l=[];const f=g.getCachedProperties(e);if(r){i=e.getConditions();c=b.getFilterInfo(e,i,f,[]);if(c.filters){l.push(c.filters)}}const d=!!n?.hierarchyQualifier;if(d){t.parameters.$$aggregation={hierarchyQualifier:n.hierarchyQualifier,expandTo:n.initialExpansionLevel}}if(o){i=o.getConditions();if(i){const a=m.getParameterNames(o);R._updatePropertyInfo(f,e,i,n);p=b.getFilterInfo(o,i,f,a);if(p.filters){l.push(p.filters)}const r=m.getParametersInfo(o,i);if(r){t.path=r}}if(!d){t.parameters.$search=a.normalizeSearchTerm(o.getSearch())||undefined}else if(o.getSearch()){if(!t.parameters.$$aggregation){t.parameters.$$aggregation={}}t.parameters.$$aggregation.search=a.normalizeSearchTerm(o.getSearch());t.parameters.$$aggregation.expandTo=Number.MAX_SAFE_INTEGER}}t.parameters.$$sharedRequest=false;this._applyDefaultSorting(t,e.getDelegate().payload);t.parameters.$select=f?.reduce(function(e,t){if(t.path&&!t.path.includes("/")){e=e?`${e},${t.path}`:t.path}return e},"");t.parameters.$count=true;if(t.path&&s.isDraftSupported(e.getModel()?.getMetaModel(),t.path)){l.push(new P("IsActiveEntity",C.EQ,true))}t.filters=new P(l,true)};R.getTypeMap=function(){return h};R._getModel=async function(e){const t=e.getDelegate().payload;let a=e.getModel(t.model);if(!a){await new Promise(t=>{e.attachEventOnce("modelContextChange",t)});a=e.getModel(t.model)}return a};R._applyDefaultSorting=function(e,t){if(e.parameters&&e.parameters.$search==undefined&&e.parameters.$$aggregation?.search==undefined&&e.sorter&&e.sorter.length==0){const a=t?t.defaultSortPropertyName:undefined;if(a){e.sorter.push(new v(a,false))}}};R._updatePropertyInfo=function(e,t,a,n){const o=Object.keys(a),r=t.getModel().getMetaModel();o.forEach(function(a){const o=r.getObject(`/${n.collectionName}/${a}`)?.$Type??"Edm.String";const s=t.getTypeMap().getTypeConfig(o);e.forEach((t,n)=>{if(t.path===a){e[n].typeConfig=s}});if(e.findIndex(function(e){return e.path===a})===-1){const t={key:a,label:a,path:a,dataType:s.typeInstance.baseType,formatOptions:s.typeInstance?.oFormatOptions,constraints:s.typeInstance?.oConstraints};e.push(t)}})};R.updateBinding=function(a,n,o){let r=false;const s=a.getBindingContext("internal");const i="pendingManualBindingUpdate";const c="lastSearch";const p="lastFilter";const l=s?.getProperty(i);const f=s?.getProperty(c);const g=s?.getProperty(p);let d=a.getRowBinding();y.updateBinding.apply(R,[a,n,o]);if(!d){d=a.getRowBinding()}if(d){r=s?t(n.filters,g)&&n.parameters?.$search===f&&!l:true}s?.setProperty(c,n.parameters?.$search);s?.setProperty(p,n.filters);if(r&&a.getFilter()){s?.setProperty(i,true);d.requestRefresh(d.getGroupId()).finally(function(){s?.setProperty(i,false)}).catch(function(t){e.error("Error while refreshing a filterBar VH table",t)})}a.fireEvent("bindingUpdated")};function H(e,t,a,n,o){const r={},s=[];Object.keys(e).forEach(i=>{const c=e[i],p=t.find(e=>e.path===i);if(!p){const e=`Property::${i}`;r[i]=e;const t=A(c);const p=h.getTypeConfig(t.type??"sap.ui.model.odata.type.String",t.formatOptions,t.constraints);const l={key:e,label:O(c),path:i,sortable:I(a,c),filterable:M(n,c),dataType:p.className,formatOptions:$(c.type)?t.formatOptions:undefined,constraints:$(c.type)?t.constraints:undefined,caseSensitive:o};l.maxConditions=V(n,l);s.push(l)}});t.forEach(e=>{if(e.propertyInfos){e.propertyInfos=e.propertyInfos?.map(e=>r[e]??e)}});return s}function V(e,t){const a=T(t);return a&&e.propertyInfo?.hasOwnProperty(a)&&w(e.propertyInfo[a])?-1:1}function q(e){const t=e.targetObject;const a=t&&(E(t)||F(t)||S(t)||D(t));if(!a){return undefined}const n=j(e,a);const o=n.targetObject;if(!o){return undefined}return n}return R},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/internal/valuehelp/TableDelegateHelper", ["sap/fe/core/helpers/TypeGuards"],function(r){"use strict";var e={};var t=r.isProperty;function o(r,e){const t=p(e);return t&&r?.propertyInfo.hasOwnProperty(t)?r.propertyInfo[t].filterable:e.filterable??true}e.isFilterableProperty=o;function n(r,e){const t=p(e);return t&&r.propertyInfo[t]?r.propertyInfo[t].sortable:e.sortable??true}e.isSortableProperty=n;function p(r){return t(r)?r.name:r.path}e.getPath=p;return e},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/internal/valuehelp/ValueHelpTemplating", ["sap/fe/base/BindingToolkit","sap/fe/core/helpers/StableIdHelper","sap/fe/core/helpers/TypeGuards","sap/fe/core/templating/DataModelPathHelper","sap/fe/core/templating/PropertyHelper","sap/fe/core/templating/UIFormatters","sap/fe/macros/field/FieldHelper","sap/fe/core/converters/MetaModelConverter","sap/fe/core/helpers/ModelHelper","sap/fe/macros/internal/valuehelp/AdditionalValueFormatter","sap/ui/core/CustomData","sap/ui/core/Element","sap/ui/mdc/ValueHelp","sap/ui/mdc/valuehelp/Dialog","sap/ui/mdc/valuehelp/Popover","sap/ui/mdc/valuehelp/content/Conditions","sap/ui/mdc/valuehelp/content/MTable","sap/fe/base/jsx-runtime/jsx"],function(e,t,a,n,i,r,o,l,s,u,c,p,d,g,f,m,v,h){"use strict";var V={};var b=l.getInvolvedDataModelObjects;var y=r.getDisplayMode;var x=i.isUnit;var F=i.isSemanticKey;var O=i.isGuid;var j=i.isCurrency;var H=i.hasValueListForValidation;var T=i.hasValueHelpWithFixedValues;var C=i.hasValueHelp;var D=i.hasDateType;var I=i.getLabel;var P=n.getTargetObjectPath;var M=n.enhanceDataModelPath;var S=n.checkFilterExpressionRestrictions;var q=a.isProperty;var A=a.isPathAnnotationExpression;var E=t.generate;var G=e.pathInModel;var U=e.getExpressionFromAnnotation;var w=e.formatResult;var R=e.equal;var L=e.constant;var B=e.compileExpression;const $=function(e,t){const a=y(e);const n=e.targetObject?.annotations?.Common?.Text;const i=typeof n!=="string"&&n?.annotations?.UI?.TextArrangement?.toString();if(t){return n&&A(n)&&n.path?a:"Value"}else{return i?a:"Value"}};V.getValueHelpTableDisplayMode=$;const k=function(e,t,a,n){let i=arguments.length>4&&arguments[4]!==undefined?arguments[4]:false;const r=e!==a;const o={name:"sap/fe/macros/valuehelp/ValueHelpDelegate",payload:{propertyPath:e,isUnitValueHelp:r,conditionModel:t,requestGroupId:n,useMultiValueField:i,qualifiers:{},valueHelpQualifier:""}};return o};V.getDelegateConfiguration=k;const Q=function(e){const t={name:"sap/fe/macros/valuehelp/ValueHelpDelegate",payload:{propertyPath:e,isDefineConditionValueHelp:true,qualifiers:{},valueHelpQualifier:""}};return B(t)};V.getDelegateConfigurationForDefineConditions=Q;const K=function(e,t,a,n,i){let r=arguments.length>5&&arguments[5]!==undefined?arguments[5]:false;if(e){return e}let o=i;if(n!==i){o=`${n}::${i}`}if(r){o+="::withValidation"}return E([t,a,o])};V.generateID=K;const W=function(e){return T(e)||H(e)||C(e)&&(x(e)||j(e)||O(e))};V.requiresValidation=W;const _=function(e,t){const a=e?.targetEntitySet?.annotations?.Capabilities?.FilterFunctions||t;return s.isFilteringCaseSensitive(undefined,a)};V.useCaseSensitiveFilterRequests=_;const z=function(e){const t=e.targetObject;const a=S(e,["SingleRange"]);return t&&D(t)&&B(a)};V.isSemanticDateRange=z;const J=function(e,t){e.contextLocation=t;return B(S(e,["SingleValue","MultiValue"]))==="false"};V.shouldShowConditionPanel=J;const N=function(e,t){const a=t?.targetObject?.annotations?.Common?.Text;return a?.annotations?.UI?.TextArrangement?.valueOf()==="UI.TextArrangementType/TextOnly"&&A(a)?a.path:e};V.getColumnDataProperty=N;const X=function(e,t){const a=t?.targetObject?.annotations?.Common?.Text?.annotations?.UI?.TextArrangement;return a&&a.valueOf()!=="UI.TextArrangementType/TextSeparate"?"Edm.String":e};const Y=function(e){const t=e.targetObject;const a=q(t)?X(t.type,e):"";return!a||F(t,e)?"Begin":o.getPropertyAlignment(a,{textAlignMode:"Table"})};V.getColumnHAlign=Y;const Z=function(e){return B(w([G("/recommendationsData","internal"),L(e)],u.getGrowing))};V.getGrowingFormatter=Z;const ee=function(e,t){let a=b(e,t.contextPath);let n=b(t.metaPath,t.contextPath);if(A(n.targetObject)){n=M(n,n.targetObject.path)}if(A(a.targetObject)){a=M(a,a.targetObject.path)}if(a.targetObject){const e=K(t._flexId,t.idPrefix,!t.filterFieldValueHelp?n.targetEntityType.name:undefined,P(n,true),P(a,true),t.requiresValidation===true);if(p.getElementById(e)){return e}const i=I(a.targetObject)||a.targetObject.name;if(C(a.targetObject)){const i=t.filterFieldValueHelp||t.requiresValidation||W(a.targetObject);const r=t.filterFieldValueHelp?R(S(a,["SingleValue","MultiValue"]),false):false;const o=k(P(a),t.conditionModel,P(n),t.requestGroupId,t.useMultiValueField);const l=_(a,a.targetEntitySet?.annotations?.Capabilities?.FilterFunctions?.map(e=>e.toString())??[]);const s=H(a.targetObject);const u=T(a.targetObject);const p=[h(c,{value:r},"showConditionPanel")];if(s){p.push(h(c,{value:B(U(a.targetObject.annotations?.Common?.ValueListForValidation))},"valuelistForValidation"))}return h(d,{delegate:o,id:e,validateInput:i,children:{customData:p,typeahead:h(f,{children:h(v,{id:`${e}::Popover::qualifier::`,caseSensitive:l,useAsValueHelp:T(a.targetObject)})}),dialog:!u?h(g,{}):undefined}})}else if(t.filterFieldValueHelp){return h(d,{id:e,children:{customData:t.requestGroupId!==undefined?[h(c,{value:t.requestGroupId},"requestGroupId")]:[],dialog:h(g,{title:i,children:h(m,{})})}})}}};V.getValueHelpTemplate=ee;return V},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/internal/valuehelp/ValueListHelper", ["sap/base/Log","sap/base/util/ObjectPath","sap/fe/core/CommonUtils","sap/fe/core/converters/MetaModelConverter","sap/fe/core/helpers/MetaModelFunction","sap/fe/core/helpers/MetaPath","sap/fe/core/templating/PropertyHelper","sap/fe/core/templating/UIFormatters","sap/fe/macros/CommonHelper","sap/m/table/Util","sap/ui/core/Fragment","sap/ui/core/ResizeHandler","sap/ui/core/XMLTemplateProcessor","sap/ui/core/util/XMLPreprocessor","sap/ui/dom/units/Rem","sap/ui/mdc/valuehelp/content/Conditions","sap/ui/mdc/valuehelp/content/MDCTable","sap/ui/mdc/valuehelp/content/MTable","sap/ui/model/json/JSONModel"],function(e,t,n,a,o,i,r,s,l,c,u,p,d,f,m,g,h,P,v){"use strict";var y={};var C=s.getTypeConfig;var b=s.getDisplayMode;var I=r.getAssociatedUnitProperty;var $=r.getAssociatedTimezoneProperty;var V=r.getAssociatedTextProperty;var L=r.getAssociatedCurrencyProperty;var T=o.isPropertyFilterable;var M=o.getSortRestrictionsInfo;var O=a.convertTypes;const _=(e,t)=>!e.some(e=>e.path===t);const S="@com.sap.vocabularies.Common.v1.Label",x="@com.sap.vocabularies.Common.v1.Text",F="@com.sap.vocabularies.Common.v1.Text@com.sap.vocabularies.UI.v1.TextArrangement",H="com.sap.vocabularies.Common.v1.ValueListParameterIn",A="com.sap.vocabularies.Common.v1.ValueListParameterConstant",D="com.sap.vocabularies.Common.v1.ValueListParameterOut",w="com.sap.vocabularies.Common.v1.ValueListParameterInOut",j="@com.sap.vocabularies.Common.v1.ValueListWithFixedValues",E="@com.sap.vocabularies.PersonalData.v1.IsPotentiallySensitive",U="@com.sap.vocabularies.Common.v1.ValueListRelevantQualifiers";y.AnnotationLabel=S;y.AnnotationsValueListRelevantQualifiers=U;y.AnnotationsPersonalDataPotentiallySensitive=E;y.AnnotationValueListWithFixedValues=j;y.AnnotationValueListParameterInOut=w;y.AnnotationValueListParameterOut=D;y.AnnotationValueListParameterConstant=A;y.AnnotationValueListParameterIn=H;y.AnnotationTextUITextArrangement=F;y.AnnotationText=x;function N(e){let t;const n=e.$model.getMetaModel();const a=n.getObject(`/${e.CollectionPath}@`)||{};const o=M(a);const i=e.Parameters.find(function(t){return(t.$Type==="com.sap.vocabularies.Common.v1.ValueListParameterInOut"||t.$Type==="com.sap.vocabularies.Common.v1.ValueListParameterOut"||t.$Type==="com.sap.vocabularies.Common.v1.ValueListParameterDisplayOnly")&&!(n.getObject(`/${e.CollectionPath}/${t.ValueListProperty}@com.sap.vocabularies.UI.v1.Hidden`)===true)});if(i){if(n.getObject(`/${e.CollectionPath}/${i.ValueListProperty}@com.sap.vocabularies.Common.v1.Text@com.sap.vocabularies.UI.v1.TextArrangement/$EnumMember`)==="com.sap.vocabularies.UI.v1.TextArrangementType/TextOnly"){t=n.getObject(`/${e.CollectionPath}/${i.ValueListProperty}@com.sap.vocabularies.Common.v1.Text/$Path`)}else{t=i.ValueListProperty}}if(t&&(!o.propertyInfo[t]||o.propertyInfo[t].sortable)){return t}else{return undefined}}function W(e,t){const n=t.find(function(t){return e.ValueListProperty===t.textColumnName});if(e.ValueListProperty===n?.textColumnName&&!n.keyColumnHidden&&n.keyColumnDisplayFormat!=="Value"){return true}return undefined}function B(e){return e.Parameters.some(function(e){return e["@com.sap.vocabularies.UI.v1.Importance"]&&e["@com.sap.vocabularies.UI.v1.Importance"].$EnumMember==="com.sap.vocabularies.UI.v1.ImportanceType/High"})}function R(e){const t=e.getModel("viewData");if(t){const e=t.getData();if(e){const t=e.columns;if(t){return t.reduce(function(e,t){if(t.path&&!t.path.includes("/")){e=e?`${e},${t.path}`:t.path}return e},undefined)}}}return undefined}function k(e,t){const a=n.computeDisplayMode(e);const o=e&&e["@com.sap.vocabularies.Common.v1.Text"];const i=o&&e["@com.sap.vocabularies.Common.v1.Text@com.sap.vocabularies.UI.v1.TextArrangement"];if(t){return o&&typeof o!=="string"&&"$Path"in o&&o.$Path?a:"Value"}else{return i?a:"Value"}}function Q(e){const t=e.PresentationVariantQualifier?`#${e.PresentationVariantQualifier}`:"";const n=`/${e.CollectionPath}/@com.sap.vocabularies.UI.v1.PresentationVariant${t}`;return e.$model.getMetaModel().getObject(n)}const q={getValueListCollectionEntitySet:function(e){const t=e.getObject();return t.$model.getMetaModel().createBindingContext(`/${t.CollectionPath}`)},isTreeTableType(e){return Q(e)?.RecursiveHierarchyQualifier?true:false},getTableDelegate:function(e){let t=N(e);if(t){t=`'${t}'`}const n=Q(e);const a=n?.RecursiveHierarchyQualifier;if(a){const o=n.InitialExpansionLevel;return"{name: 'sap/fe/macros/internal/valuehelp/TableDelegate', payload: {collectionName: '"+e.CollectionPath+"'"+(t?", defaultSortPropertyName: "+t:"")+", hierarchyQualifier: '"+a+"'"+(o?", initialExpansionLevel: "+(o+1):"")+"}}"}return"{name: 'sap/fe/macros/internal/valuehelp/TableDelegate', payload: {collectionName: '"+e.CollectionPath+"'"+(t?", defaultSortPropertyName: "+t:"")+"}}"},getSortConditionsFromPresentationVariant:function(e,t){let n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;const a=Q(e);if(a?.SortOrder){const e={sorters:[]};a.SortOrder.forEach(function(n){const a={},o=n?.Property?.$PropertyPath;if(t){a.path=o}else{a.name=o}if(n.Descending){a.descending=true}else{a.ascending=true}e.sorters.push(a)});const o=n?l.stringifyCustomData:JSON.stringify;return t?`sorter: ${o(e.sorters)}`:o(e)}return},getSortConditionsForValueList:function(e,t){const n=q.getSortConditionsFromPresentationVariant(e,false);if(n){return n}if(t){const t={sorters:[{name:N(e),ascending:true}]};return JSON.stringify(t)}},getPropertyPath:function(e){return!e.UnboundAction?`${e.EntityTypePath}/${e.Action}/${e.Property}`:`/${e.Action.substring(e.Action.lastIndexOf(".")+1)}/${e.Property}`},getValueListProperty:function(e){const t=e.getModel();const n=t.getObject("/");return n.$model.getMetaModel().createBindingContext(`/${n.CollectionPath}/${e.getObject()}`)},getColumnVisibility:function(e,t,n){const a=n&&!!n.valueHelpWithFixedValues,o=n.columnInfo,i=!W(t,o.columnInfos),r=o.isDialogTable;if(a||!a&&r||!a&&!B(e)){const e=o.columnInfos.find(function(e){return t.ValueListProperty===e.columnName&&e.hasHiddenAnnotation===true});return!e?i:false}else if(!a&&B(e)){return t&&t["@com.sap.vocabularies.UI.v1.Importance"]&&t["@com.sap.vocabularies.UI.v1.Importance"].$EnumMember==="com.sap.vocabularies.UI.v1.ImportanceType/High"?true:false}return true},getColumnVisibilityInfo:function(e,t,n,a){const o=e.$model.getMetaModel();const i=[];const r={isDialogTable:a,columnInfos:i};e.Parameters.forEach(function(t){const a=o.getObject(`/${e.CollectionPath}/${t.ValueListProperty}@`);const i=a&&a["@com.sap.vocabularies.Common.v1.Text"];let s={};if(i){s={keyColumnHidden:a["@com.sap.vocabularies.UI.v1.Hidden"]?true:false,keyColumnDisplayFormat:i&&k(a,n),textColumnName:i&&i.$Path,columnName:t.ValueListProperty,hasHiddenAnnotation:a&&a["@com.sap.vocabularies.UI.v1.Hidden"]?true:false}}else if(a&&a["@com.sap.vocabularies.UI.v1.Hidden"]){s={columnName:t.ValueListProperty,hasHiddenAnnotation:a&&a["@com.sap.vocabularies.UI.v1.Hidden"]?true:false}}r.columnInfos.push(s)});return r},getTableItemsParameters:function(e,t,n,a){const o=[`path: '/${e.CollectionPath}'`];const i=R(this);if(t){const e=i?`, '${i}'`:"";o.push(`parameters: {$$sharedRequest: false, $$updateGroupId: "donotsubmit", $$groupId: '${t}'${e}}`)}else if(i){o.push(`parameters: {$$sharedRequest: false, $$updateGroupId: "donotsubmit", $select: '${i}'}`)}const r=e.Parameters.some(function(e){return n||e.$Type==="com.sap.vocabularies.Common.v1.ValueListParameterIn"});o.push(`suspended: ${r}`);if(!a){o.push("length: 10")}const s=q.getSortConditionsFromPresentationVariant(e,n);if(s){o.push(s)}else if(a){const t=N(e);if(t){o.push(`sorter: [{path: '${t}', ascending: true}]`)}}return"{"+o.join(", ")+"}"},hasImportance:function(e){return B(e.getObject())?"Importance/High":"None"},getMinScreenWidth:function(e){return B(e)?"{= ${_VHUI>/minScreenWidth}}":"416px"},getColumnWidth:function(a){let o=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;if(n.isSmallDevice()||!a.targetObject)return;const i=a.targetObject;let r=[i];const s=V(i)||L(i)||I(i)||$(i),l=i.annotations?.Common?.Text,u=l?.annotations?.UI?.TextArrangement?.toString(),p=i.annotations?.Common?.Label?.toString();let d;if(o&&!u){d=b(a)}else{d=u&&b(a)}if(s){if(d==="Description"){r=[s]}else if(!l||d&&d!=="Value"){r.push(s)}}let f=0;const m=[];r.forEach(e=>{const n=C(e,undefined);const a=t.get(n.type);if(a){m.push(new a(n.formatOptions,n.constraints))}});const g=c.calcColumnWidth(m,p);f=g?parseFloat(g.replace("rem","")):0;if(f===0){e.error(`Cannot compute the column width for property: ${i.name}`)}return f<=20?f.toString()+"rem":"20rem"},getOutParameterPaths:function(e){let t="";e.forEach(function(e){if(e.$Type.endsWith("Out")){t+=`{${e.ValueListProperty}}`}});return t},entityIsSearchable:function(e,t){const n=e["@com.sap.vocabularies.Common.v1.ValueList"]?.SearchSupported,a=t["@Org.OData.Capabilities.V1.SearchRestrictions"]?.Searchable;if(a===undefined&&n===false||a===true&&n===false||a===false){return false}return true},_getConditionPath:function(e,t,n){const a=n.split("/");let o="",i;while(a.length){let n=a.shift();i=i?`${i}/${n}`:n;const r=e.getObject(`${t}/${i}`);if(r&&r.$kind==="NavigationProperty"&&r.$isCollection){n+="*"}o=o?`${o}/${n}`:n}return o},_getColumnDefinitionFromSelectionFields:function(e,t){const n=[],a=e.getObject(`${t}/@`),o=a["@com.sap.vocabularies.UI.v1.SelectionFields"];if(o){o.forEach(function(a){const o=`${t}/${a.$PropertyPath}`,i=q._getConditionPath(e,t,a.$PropertyPath),r=e.getObject(`${o}@`),s={path:i,label:r?.[S]||o,sortable:true,filterable:T(e,t,a.$PropertyPath,false),$Type:e.getObject(o)?.$Type};n.push(s)})}return n},_mergeColumnDefinitionsFromProperties:function(e,t,n,a,o){let i=n,r=a.$Type;const s=o[S]||i,l=o[x];if(l&&o[F]?.$EnumMember==="com.sap.vocabularies.UI.v1.TextArrangementType/TextOnly"){i=l.$Path;const e=`/${t.CollectionPath}/${i}`;r=t.$model.getMetaModel()?.getObject(e)?.$Type}if(_(e,i)){const t={path:i,textPath:l?.$Path&&n.includes("/")?n.substring(0,n.lastIndexOf("/"))+"/"+l.$Path:l?.$Path,label:s,sortable:true,filterable:!o["@com.sap.vocabularies.UI.v1.HiddenFilter"],$Type:r};e.push(t)}},filterInOutParameters:function(e,t){return e.filter(function(e){return t.includes(e.parmeterType)})},getInParameters:function(e){return q.filterInOutParameters(e,[H,A,w])},getOutParameters:function(e){return q.filterInOutParameters(e,[D,w])},createVHUIModel:function(e,t,n){const a=new v({}),o=n.getObject(`${t}@`);e.setModel(a,"_VHUI");a.setProperty("/hasValueListRelevantQualifiers",!!o[U]);a.setProperty("/propertyLabel",o[S]);return a},_getDialogTitle:function(e,t){const n=e.getModel("_VHUI").getProperty("/propertyLabel");const a=e.getControl()?.getProperty("label");return e.getModel("_VHUI").getProperty("/hasValueListRelevantQualifiers")?t||n||a:a||n||t},destroyVHContent:function(e){if(e){e.getDialog()?.destroyContent();e.getTypeahead()?.destroyContent()}},putDefaultQualifierFirst:function(e){const t=e.indexOf("");if(t>0){e.unshift(e[t]);e.splice(t+1,1)}return e},_getContextPrefix:function(e,t){if(e&&e.getPath()){const n=e.getPath().split("/");if(t.length-n.length>1){const e=[];for(let a=n.length;a<t.length-1;a++){e.push(t[a])}return`${e.join("/")}/`}}return""},_getVhParameter:function(e,t,n,a,o,r){let s="";const l=t?.getBindingContext();if(e&&e.length>0){if(t?.getParent()?.isA("sap.ui.mdc.Table")===true&&l&&q._parameterIsA(a,["com.sap.vocabularies.Common.v1.ValueListParameterIn","com.sap.vocabularies.Common.v1.ValueListParameterInOut"])){const e=r.split("/");if(e.length>1){const n=e[0];const a=o.getMetaContext(l.getPath());const i=t.getParent().getRowBinding().getPath();if(a.getObject(`${i}/$Partner`)===n){s=r}}}else if(t?.getParent()?.getParent()?.getParent()?.isA("sap.fe.macros.filterBar.FilterBarAPI")===true&&l&&q._parameterIsA(a,["com.sap.vocabularies.Common.v1.ValueListParameterIn","com.sap.vocabularies.Common.v1.ValueListParameterInOut"])){const e=t.getParent()?.getParent()?.getParent();const n=e.metaPath;const a=o.getMetaPath(l.getPath());const c=new i(O(o),a,a);const u=new i(O(o),n,a);const p=u.getMetaPathForPath(r);if(p&&p.getTarget()){const e=p.getClosestEntitySet();if(e===c.getClosestEntitySet()){s=c.getMetaPathForObject(p.getTarget())?.getRelativePath()}}}if(!s){s=e+">/conditions/"+r}}else{s=n+r}return{parmeterType:a.$Type,source:s,helpPath:a.ValueListProperty,constantValue:a.Constant,initialValueIsSignificant:Boolean(a.InitialValueIsSignificant)}},_parameterIsA(e,t){return t.includes(e.$Type)},_enrichPath:function(e,t,n,a,o,i,r){if(!e.key&&q._parameterIsA(a,["com.sap.vocabularies.Common.v1.ValueListParameterInOut"])&&n===o){const n=r?.split("/").pop();a.ValueListProperty=n?n:a.ValueListProperty;e.fieldPropertyPath=t;e.key=a.ValueListProperty;e.descriptionPath=i[x]?.$Path||""}},_enrichKeys:function(e,t){if(q._parameterIsA(t,q.getInAndOutParametersList())&&!e.includes(t.ValueListProperty)){e.push(t.ValueListProperty)}},_getEntityType:async function(e,t){return e.getObject(`${t}/`)||await e.requestObject(`${t}/`)},_processParameters:function(t,n,a,o,i,r,s,l,c){const u=l?.useMultiValueField;const p=t.$model.getMetaModel(),d=`/${t.CollectionPath}`;if(c===undefined){e.error(`Inconsistent value help metadata: Entity ${d} is not defined`);return}const f=q._getColumnDefinitionFromSelectionFields(p,d),m=[],g={fieldPropertyPath:"",descriptionPath:"",key:""};let h=[];if("$Key"in c&&c.$Key){h=[...c.$Key]}const P=h[0];for(const e of t.Parameters){const s=`/${t.CollectionPath}/${e.ValueListProperty}`,c=p.getObject(s),d=l?.externalIdPath?p.getObject(`/${l?.externalIdPath}@`)||{}:p.getObject(`${s}@`)||{},P=e.LocalDataProperty?.$PropertyPath||"";if(l&&d[E]){l.isPotentiallySensitive=true}if(c){q._enrichPath(g,s,P,e,n,d,l?.externalIdPath);const a=e.ValueListProperty;q._mergeColumnDefinitionsFromProperties(f,t,a,c,d)}if(q._parameterIsA(e,["com.sap.vocabularies.Common.v1.ValueListParameterIn","com.sap.vocabularies.Common.v1.ValueListParameterOut","com.sap.vocabularies.Common.v1.ValueListParameterInOut"])&&P!==n||q._parameterIsA(e,["com.sap.vocabularies.Common.v1.ValueListParameterOut"])){const t=q._getVhParameter(a,o,i,e,r,P);if(!u||u&&q._parameterIsA(e,["com.sap.vocabularies.Common.v1.ValueListParameterIn"])){m.push(t)}}if(e.$Type===A){m.push({parmeterType:e.$Type,source:e.ValueListProperty,helpPath:e.ValueListProperty,constantValue:e.Constant,initialValueIsSignificant:Boolean(e.InitialValueIsSignificant)})}q._enrichKeys(h,e)}if(!g.key){g.key=P;const e=`/${t.CollectionPath}/${P}`;const n=p.getObject(`${e}@`)||{};g.descriptionPath=n[x]?.$Path||""}for(const e of h){if(_(f,e)){const n={path:e,$Type:p.getObject(`/${t.CollectionPath}/${g.key}`)?.$Type,label:"",sortable:false,filterable:undefined};f.push(n)}}const v={keyPath:g.key,descriptionPath:g.descriptionPath,fieldPropertyPath:g.fieldPropertyPath,vhKeys:h,vhParameters:m,valueListInfo:t,columnDefs:f,valueHelpQualifier:s};return v},_logError:function(t,n){const a=n?n.status:undefined;const o=n instanceof Error?n.message:String(n);const i=a===404?`Metadata not found (${a}) for value help of property ${t}`:o;e.error(i)},getValueListInfo:async function(e,t,n,a){const o=e?.getBindingContext(),i=n?.conditionModel,r=[],s=t.split("/");try{const l=await a.requestValueListInfo(t,true,o);const c=q.putDefaultQualifierFirst(Object.keys(l)),u=s.pop();const p=n?.useMultiValueField===true?q._getContextPrefix(o,s):"";for(const t of c){const o=l[t];const s=o.$model.getMetaModel(),c=`/${o.CollectionPath}`;const d=await q._getEntityType(s,c);const f=q._processParameters(o,u,i,e,p,a,o.$qualifier??t,n,d);if(f){r.push(f)}}}catch(n){this._logError(t,n);q.destroyVHContent(e)}return r},ALLFRAGMENTS:[],logFragment:undefined,_logTemplatedFragments:function(t,n,a){const o={path:t,fragmentName:n,fragment:a};if(e.getLevel()===e.Level.DEBUG){q.ALLFRAGMENTS=q.ALLFRAGMENTS||[];q.ALLFRAGMENTS.push(o)}if(q.logFragment){setTimeout(function(){q.logFragment?.(o)},0)}},_templateFragment:async function(e,t,a,o,i){const r=n.getTargetView(i);const s=n.getAppComponent(n.getTargetView(i));const l=t.valueListInfo,c=new v(l),p=l.$model.getMetaModel(),m=new v({converterType:"ListReport",columns:t.columnDefs||null});const g=await f.process(d.loadTemplate(e,"fragment"),{name:e},{bindingContexts:{valueList:c.createBindingContext("/"),contextPath:p.createBindingContext(`/${l.CollectionPath}/`),source:a.createBindingContext("/")},models:{valueList:c,contextPath:p,source:a,metaModel:p,viewData:m},appComponent:s});q._logTemplatedFragments(o,e,g);const h=r.getController()?.getOwnerComponent();if(h){return h.runAsOwner(async()=>await u.load({definition:g,controller:r.getController()}))}else{return await u.load({definition:g,controller:r.getController()})}},_getContentId:function(e,t,n){const a=n?"Popover":"Dialog";return`${e}::${a}::qualifier::${t}`},_addInOutParametersToPayload:function(e,t){const n=t.valueHelpQualifier;if(!e.qualifiers){e.qualifiers={}}if(!e.qualifiers[n]){const a=new Set;t.columnDefs.forEach(e=>{if(!e.path.includes("*")){a.add(e.path)}if(e.textPath){a.add(e.textPath)}});e.qualifiers[n]={vhKeys:t.vhKeys,vhParameters:t.vhParameters,vhProperties:Array.from(a)}}},_getValueHelpColumnDisplayFormat:function(e,t){const a=n.computeDisplayMode(e,undefined),o=e&&e[x],i=o&&e[F];if(t){return o&&typeof o!=="string"&&o.$Path?a:"Value"}else{return i?a:"Value"}},_getWidthInRem:function(e,t){let n=e.$().width();if(t&&n){n=.3*n}const a=n?parseFloat(String(m.fromPx(n))):0;return isNaN(a)?0:a},_getTableWidth:function(e,t,n){let a;const o=e.getColumns(),i=o&&o.filter(function(e){return e&&e.getVisible&&e.getVisible()})||[],r=i.length+(n?2.5:0),s=i.reduce(function(e,t){a=t.getWidth();if(a&&a.endsWith("px")){a=String(m.fromPx(a))}const n=parseFloat(a);return e+(isNaN(n)?9:n)},r);return`${Math.max(s,t)}em`},_getJSONModelForDialog:function(e,t,n,a){const o=false,i=true,r=q.getColumnVisibilityInfo(e.valueListInfo,t,o,i);return new v({id:n.getId(),groupId:a.requestGroupId,bSuggestion:false,columnInfo:r,valueHelpWithFixedValues:o})},_getJSONModelForCondition:function(e,t,n,a,o){const i=false,r=false,s=q.getColumnVisibilityInfo(e.valueListInfo,t,i,r);return new v({id:n.getId(),groupId:a.requestGroupId||undefined,bSuggestion:true,columnInfo:s,valueHelpWithFixedValues:i,descriptionPath:e.descriptionPath,keyPath:e.keyPath,propertyPath:t,caseSensitive:o})},_getJSONModelForTypeahead:function(e,t,n,a,o){const i=false,r=n.getId(),s=q.getColumnVisibilityInfo(e.valueListInfo,t,o,i);return new v({id:r,groupId:a.requestGroupId||undefined,bSuggestion:true,propertyPath:t,columnInfo:s,valueHelpWithFixedValues:o})},_createValueHelpTypeahead:async function(t,n,a,o,i,r){const s=r.getObject(`${t}@`),l=s[j]??false,c=this._getJSONModelForTypeahead(o,t,a,i,l);a.setKeyPath(o.keyPath);a.setDescriptionPath(o.descriptionPath);i.isValueListWithFixedValues=l;i.isPotentiallySensitive=i.isPotentiallySensitive??s[E];i.history={enabled:this.checkHistoryEnabled(n,i)};const u=o.valueListInfo.$model.getMetaModel().getObject(`/${o.valueListInfo.CollectionPath}@`)||{};a.data("searchSupported",q.entityIsSearchable(s,u)?true:false);const d=await q._templateFragment("sap.fe.macros.internal.valuehelp.ValueListTable",o,c,t,n);d.setModel(o.valueListInfo.$model);e.info(`Value List- suggest Table XML content created [${t}]`,d.getMetadata().getName(),"MDC Templating");a.setTable(d);const f=n.getControl();if(f!==undefined&&(f.isA("sap.ui.mdc.FilterField")||f.isA("sap.ui.mdc.Field")||f.isA("sap.ui.mdc.Field")&&l||f.isA("sap.ui.mdc.MultiValueField"))){const e=l&&f.getMaxConditions()!==1?"MultiSelect":"SingleSelectMaster";d.setMode(e);d.addEventDelegate({onAfterRendering:function(){p.register(d,function(){q._setTableWidth(d,f,e,i.isUnitValueHelp)})}});this._setTableWidth(d,f,e,i.isUnitValueHelp)}},_setTableWidth(e,t,n,a){const o=Boolean(a);const i=q._getTableWidth(e,q._getWidthInRem(t,o),n==="MultiSelect");e.setWidth(i)},checkHistoryEnabled:function(e,t){const a=n.getAppComponent(n.getTargetView(e));const o=a.getManifestEntry("sap.fe")?.historySettings;return o?.fields?.[t.propertyPath]?.historyEnabled??true},isValueListSearchable(e,t){const n=t.valueListInfo.$model.getMetaModel();const a=n.getObject(`${e}@`)??{};const o=n.getObject(`/${t.valueListInfo.CollectionPath}@`)??{};return q.entityIsSearchable(a,o)},_createValueHelpDialog:async function(e,t,n,a,o,i,r){const s=n.getModel().getMetaModel().getObject(`${t}@`),l=this._getJSONModelForDialog(o,t,a,i);a.setKeyPath(o.keyPath);a.setDescriptionPath(o.descriptionPath);const c=o.valueListInfo.$model.getMetaModel().getObject(`/${o.valueListInfo.CollectionPath}@`)||{};a.data("searchSupported",q.entityIsSearchable(s,c)?true:false);i.isPotentiallySensitive=i.isPotentiallySensitive??s[E];if(r){const s=n.getTypeahead().getContent()[0],l=s.getCaseSensitive();const c=this._getJSONModelForCondition(o,t,a,i,l);const u=await q._templateFragment("sap.fe.macros.internal.valuehelp.ValueListForCondition",o,c,t,n);u.setModel(e);r.addDependent(u);r.setValueHelp(u.getId());const p=u.getTypeahead().getContent()[0].getTable();const d=q._getTableWidth(p,0,false);p.setWidth(d)}const u=q._templateFragment("sap.fe.macros.internal.valuehelp.ValueListDialogTable",o,l,t,n);const p=q._templateFragment("sap.fe.macros.internal.valuehelp.ValueListFilterBar",o,l,t,n);const[d,f]=await Promise.all([u,p]);d.setModel(o.valueListInfo.$model);f.setModel(o.valueListInfo.$model);a.setFilterBar(f);a.setTable(d);d.setFilter(f.getId());d.initialized();d.setWidth("100%");q.setCopyProviderVisibility(d,n);const m=d;m._setShowP13nButton(false)},setCopyProviderVisibility:function(e,t){if(t.getControl()?.isA("sap.ui.mdc.field.FieldBase")){e.getCopyProvider()?.setVisible(true)}},_getContentById:function(e,t){return e.find(function(e){return e.getId()===t})},_createPopoverContent:function(e,t,n){return new P({id:e,group:"group1",caseSensitive:t,useAsValueHelp:n})},_createDialogContent:function(e,t,n){return new h({id:e,group:"group1",caseSensitive:t,forceBind:n})},_showConditionsContent:function(e,t){let n=e.length&&e[e.length-1].getMetadata().getName()==="sap.ui.mdc.valuehelp.content.Conditions"?e[e.length-1]:undefined;if(n){n.setVisible(true)}else{n=new g;t.addContent(n)}return n},_alignOrCreateContent:function(e,t,n,a,o){const i=o.getContent();let r=q._getContentById(i,t);if(!r){const s=e.valueListInfo.FetchValues===2?false:true;r=q._createDialogContent(t,n,s);if(!a){o.addContent(r)}else{o.insertContent(r,i.length-1)}}return r},_prepareValueHelpTypeAhead:function(e,t,n,a,o,i){const r=t.getContent();let s=e.data("valuelistForValidation")||"";if(s===" "){s=""}const l=s?n.filter(function(e){return e.valueHelpQualifier===s})[0]||n[0]:n[0];q._addInOutParametersToPayload(a,l);const c=q._getContentId(e.getId(),l.valueHelpQualifier,true);let u=q._getContentById(r,c);if(!u){const e=i.getUseAsValueHelp();u=q._createPopoverContent(c,o,e);t.insertContent(u,0)}else if(c!==r[0].getId()){t.removeContent(u);t.insertContent(u,0)}return{valueListInfo:l,content:u}},_prepareValueHelpDialog:function(e,t,a,o,i,r){const s=e.data("showConditionPanel")&&e.data("showConditionPanel")!=="false";const l=t.getContent();for(const e of l){e.setVisible(false)}const c=s?this._showConditionsContent(l,t):undefined;const u=e.getControl();const p=u&&u.isA("sap.ui.mdc.FilterField")?u.getOperators().length===0||u.getOperators().includes("EQ"):true;let d,f;for(const l of a){const a=l.valueHelpQualifier;q._addInOutParametersToPayload(o,l);const c=q._getContentId(e.getId(),a,false);const m=this._alignOrCreateContent(l,c,r,s,t);m.setVisible(p);if(l.valueListInfo.Label&&u){const e=n.getTranslatedTextFromExpBindingString(l.valueListInfo.Label,u);m.setTitle(e)}if(!f||i&&i===c){f=m;d=l}}if(!d||!f){throw new Error("selectedInfo or selectedContent undefined")}return{selectedInfo:d,selectedContent:f,conditionContent:c}},_addDescriptionInfosToPayload:function(e,t,n){if(e.valueHelpDescriptionPath!==t.descriptionPath||e.externalIdPath){const a=O(n);const o=a.resolvePath(e.propertyPath).target?.annotations?.Common?.Text?.path;e.valueHelpDescriptionPath=t.descriptionPath;e.valueHelpKeyPath=t.keyPath;if(o){e.maxLength=e.valueHelpDescriptionPath?a.resolvePath(`/${t.valueListInfo.CollectionPath}/${e.valueHelpDescriptionPath}`)?.target?.maxLength:undefined;e.propertyDescriptionPath=o}const i=e.externalIdPath;if(i&&!e.valueHelpDescriptionPath){const o=n.getObject(`${e.propertyPath}@sapui.name`);const r=e.propertyPath.replace(o,i);const s=a.resolvePath(r).target?.annotations?.Common?.Text?.path;t.descriptionPath=s;e.valueHelpDescriptionPath=s}}},showValueList:async function(e,t,a){const o=t.getParent(),i=t.isTypeahead(),r=e.propertyPath,s=o.getControl(),l=s?(o.getControl()?.getModel()).getMetaModel():o.getModel().getMetaModel(),c=o.getModel("_VHUI")!==undefined?o.getModel("_VHUI"):q.createVHUIModel(o,r,l);e.externalIdPath=l?.getObject(`${e.propertyPath}@com.sap.vocabularies.Common.v1.ExternalID`)?.$Path;c.setProperty("/isSuggestion",i);c.setProperty("/minScreenWidth",!i?"418px":undefined);try{const s=await q.getValueListInfo(o,r,e,l);const u=o.getTypeahead().getContent()[0],p=u.getCaseSensitive();if(i){const{valueListInfo:n,content:a}=q._prepareValueHelpTypeAhead(o,t,s,e,p,u);e.valueHelpQualifier=n.valueHelpQualifier;c.setProperty("/selectedProperties",n.columnDefs.map(e=>e.path));q._addDescriptionInfosToPayload(e,n,l);if(a.getTable()===undefined||a.getTable()===null){await q._createValueHelpTypeahead(r,o,a,n,e,l)}}else{const{selectedInfo:i,selectedContent:c,conditionContent:u}=q._prepareValueHelpDialog(o,t,s,e,a,p);e.valueHelpQualifier=i.valueHelpQualifier;q._addDescriptionInfosToPayload(e,i,l);const d=o.getControl();if(d){const e=n.getTranslatedTextFromExpBindingString(q._getDialogTitle(o,i.valueListInfo?.Label),d);t.setTitle(e)}if(c.getTable()===undefined||c.getTable()===null){await q._createValueHelpDialog(l,r,o,c,i,e,u)}}}catch(e){this._logError(r,e);q.destroyVHContent(o)}},getInAndOutParametersList(){return["com.sap.vocabularies.Common.v1.ValueListParameterOut","com.sap.vocabularies.Common.v1.ValueListParameterIn","com.sap.vocabularies.Common.v1.ValueListParameterInOut"]}};return q},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/kpiTag/AnalyticalKPITag", ["sap/fe/base/BindingToolkit","sap/fe/base/ClassSupport","sap/fe/core/buildingBlocks/BuildingBlock","sap/fe/core/formatters/KPIFormatter","../KPITag","sap/fe/base/jsx-runtime/jsx"],function(e,t,i,r,n,o){"use strict";var a,s,l,u,p,c,d,f,g,b,m;var h={};var y=t.property;var v=t.defineUI5Class;var P=e.resolveBindingString;var x=e.pathInModel;var z=e.formatResult;function w(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function E(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,K(e,t)}function K(e,t){return K=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},K(e,t)}function k(e,t,i,r,n){var o={};return Object.keys(r).forEach(function(e){o[e]=r[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce(function(i,r){return r(e,t,i)||i},o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer?(Object.defineProperty(e,t,o),null):o}function O(e,t){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let j=(a=v("sap.fe.macros.kpiTag.AnalyticalKPITag"),s=y({type:"string",required:true}),l=y({type:"string",required:true}),u=y({type:"string",required:true}),p=y({type:"boolean",required:false}),a(c=(d=function(e){function t(t,i){var r;r=e.call(this,t,i)||this;w(r,"id",f,r);w(r,"metaPath",g,r);w(r,"kpiModelName",b,r);w(r,"hasUnit",m,r);return r}h=t;E(t,e);var i=t.prototype;i.onMetadataAvailable=function e(){if(!this.content){this.content=this.createContent()}};i.getKpiPropertyExpression=function e(t,i){return x(`/${t.getLocalId(this.id)??this.id}/manifest/sap.card/data/json/${i}`,this.kpiModelName)};i.getBindingExpressions=function e(t){const i=this._getOwner();const n=i?.preprocessorContext?.models.metaModel;const o=n.getContext(this.metaPath);const a=o.getProperty("Title");if(!a){return{text:undefined,tooltip:undefined}}const s=P(a);return{text:z([s],r.labelFormat),tooltip:z([s,this.getKpiPropertyExpression(t,"mainValueUnscaled"),this.getKpiPropertyExpression(t,"mainUnit"),this.getKpiPropertyExpression(t,"mainCriticality"),String(this.hasUnit)],r.tooltipFormat)}};i.createContent=function e(){const t=this._getOwner();const i=t?.getRootController();const r=i?.getView();const{text:a,tooltip:s}=this.getBindingExpressions(r);const l=o(n,{id:this.createId("_akt"),text:a,status:this.getKpiPropertyExpression(r,"mainCriticality"),tooltip:s,press:async e=>i.kpiManagement.onKPIPressed(e.getSource(),r.getLocalId(this.id)??this.id),number:this.getKpiPropertyExpression(r,"mainValue"),unit:this.getKpiPropertyExpression(r,"mainUnit")});return l};return t}(i),f=k(d.prototype,"id",[s],{configurable:true,enumerable:true,writable:true,initializer:null}),g=k(d.prototype,"metaPath",[l],{configurable:true,enumerable:true,writable:true,initializer:null}),b=k(d.prototype,"kpiModelName",[u],{configurable:true,enumerable:true,writable:true,initializer:null}),m=k(d.prototype,"hasUnit",[p],{configurable:true,enumerable:true,writable:true,initializer:null}),d))||c);h=j;return h},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/library", ["sap/base/Log","sap/f/library","sap/fe/controls/library","sap/fe/core/AppComponent","sap/fe/core/library","sap/fe/macros/coreUI/factory","sap/fe/macros/filter/FilterOperatorUtils","sap/fe/macros/filter/type/MultiValue","sap/fe/macros/filter/type/Range","sap/fe/macros/formatters/TableFormatter","sap/fe/macros/macroLibrary","sap/ui/base/DataType","sap/ui/core/CustomData","sap/ui/core/Fragment","sap/ui/core/Lib","sap/ui/core/XMLTemplateProcessor","sap/ui/core/library","sap/ui/core/util/XMLPreprocessor","sap/ui/mdc/field/ConditionsType","sap/ui/mdc/library","sap/ui/unified/library"],function(e,t,a,r,s,o,i,n,c,p,l,f,m,u,d,g,y,h,b,P,x){"use strict";var C={};const S="sap.fe.macros";C.macrosNamespace=S;const T=d.init({name:"sap.fe.macros",apiVersion:2,dependencies:["sap.ui.core","sap.ui.mdc","sap.ui.unified","sap.fe.core","sap.fe.navigation","sap.fe.controls","sap.m","sap.f"],types:["sap.fe.macros.NavigationType"],interfaces:[],controls:[],elements:[],version:"1.141.1",noLibraryCSS:true,extensions:{flChangeHandlers:{"sap.fe.macros.controls.FilterBar":"sap/ui/mdc/flexibility/FilterBar","sap.fe.macros.controls.Section":"sap/uxap/flexibility/ObjectPageSection","sap.fe.macros.controls.section.SubSection":"sap/uxap/flexibility/ObjectPageSubSection"}}});let F=function(e){e["External"]="External";e["InPage"]="InPage";e["None"]="None";return e}({});T.NavigationType=F;C.NavigationType=F;f.registerEnum("sap.fe.macros.NavigationType",T.NavigationType);u.registerType("CUSTOM",{load:u.getType?.("XML").load,init:async function(e){const t=e.containingView.getController();let a=t;if(t&&!t.isA("sap.fe.core.ExtensionAPI")){a=t.getExtensionAPI(e.id)}e.containingView={oController:a};const r=e.childCustomData??undefined;const s=e.contextPath;delete e.childCustomData;delete e.contextPath;this._fnSettingsPreprocessor=function(e){if(this.getMetadata().hasProperty("contextPath")){e.contextPath??=s}return e};for(var o=arguments.length,i=new Array(o>1?o-1:0),n=1;n<o;n++){i[n-1]=arguments[n]}const c=await u.getType("XML").init.apply(this,[e,i]);if(r&&c?.isA("sap.ui.core.Control")){for(const e in r){if(e==="bindingString"){delete r[e];continue}c.addCustomData(new m({key:e,value:r[e]}))}}return c}});u.registerType("SCOPEDFEFRAGMENT",{load:u.getType?.("XML").load,init:function(e){const t=e.contextPath;delete e.contextPath;this._fnSettingsPreprocessor=function(e){if(this.getMetadata().hasProperty("contextPath")){e.contextPath??=t}return e};for(var a=arguments.length,r=new Array(a>1?a-1:0),s=1;s<a;s++){r[s-1]=arguments[s]}return u.getType("XML").init.apply(this,[e,r])}});d.load({name:"sap.fe.macros"}).then(()=>{r.registerInstanceDependentProcessForStartUp(i.processCustomFilterOperators);return}).catch(t=>{e.error(`Error loading 'sap.fe.macros`,t)});const N=function(e,t,a,r){return async(s,o)=>{if(s.hasChildNodes()&&s.attributes.length===0){await o.visitChildNodes(s);return}const i=document.createElementNS(a,r);const n=document.createElementNS(e,t);const c=s.getAttributeNames();if(c.length>0){for(const e of c){i.setAttribute(e,s.getAttribute(e))}n.appendChild(i)}await o.visitChildNodes(n);s.replaceWith(n)}};h.plugIn(N("sap.fe.macros","macros:shareOptions","sap.fe.macros.share","macroShare:ShareOptions"),"sap.fe.macros","shareOptions");h.plugIn(N("sap.fe.macros","macros:formatOptions","sap.fe.macros.field","macroField:FieldFormatOptions"),"sap.fe.macros","formatOptions");h.plugIn(N("sap.fe.macros","macros:formatOptions","sap.fe.macros.field","macroField:FieldFormatOptions"),"sap.m","formatOptions");return T},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/macroLibrary", ["sap/fe/macros/filterBar/SemanticDateOperators","sap/fe/macros/notes/Notes.block","./fcl/FlexibleColumnLayoutActions.block","./filterBar/FilterBar.block","./form/Form.block","./form/FormContainer.block","./fpm/CustomFragment.block","./internal/ActionCommand.block","./internal/FilterField.block","./internal/HeaderDataPoint.block","./table/Table.block","./table/TreeTable.block","./valuehelp/ValueHelpFilterBar.block"],function(e,o,r,t,l,a,n,c,i,s,b,f,m){"use strict";const u=[c,n,s,t,i,r,l,a,b,f,m,o];function k(){for(const e of u){e.register()}}function p(){for(const e of u){e.unregister()}}e.addSemanticDateOperators();k();return{register:k,unregister:p}},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/mdc/adapter/SelectionVariantToStateFilters", ["sap/fe/base/BindingToolkit","sap/fe/core/converters/MetaModelConverter","sap/fe/core/helpers/TypeGuards","sap/fe/core/templating/DisplayModeFormatter","sap/fe/macros/CommonHelper","sap/fe/macros/filter/FilterFieldHelper","sap/fe/macros/filterBar/FilterHelper","sap/ui/mdc/enums/ConditionValidated","sap/ui/mdc/util/FilterUtil"],function(t,e,n,o,r,i,a,s,l){"use strict";var c=a.getConditions;var p=i.maxConditions;var u=o.ODATA_TYPE_MAPPING;var d=n.isPathAnnotationExpression;var f=e.getInvolvedDataModelObjects;var g=t.EDM_TYPE_MAPPING;const m=["$search","$editState"];function h(t,e){const n=e.createBindingContext(t);return n!==null?f(n).targetObject:undefined}function P(t,e,n){if(t.length!==1||t[0].operator!=="EQ"){return}const o=e.annotations.Common?.Text;if(o&&d(o)){const e=n.getSelectOption(o.path);if(e?.length===1&&e[0].Option==="EQ"&&e[0].Sign==="I"){t[0].values.push(e[0].Low.length>=1?e[0].Low:" ")}}if(t[0].values.length===1&&t[0].values[0]===""&&e.annotations.Common?.ValueListWithFixedValues?.valueOf()!==true){t[0].values.push(" ")}}const y={getStateFiltersFromSV:function(t,e,n,o,r){const{contextPath:i}=e;const a={};n.forEach(function(n){if(!m.includes(n.name)){let s=[];const{conditionPath:l,annotationPath:c}=n;const p=l.replaceAll("*","");const u=p.substring(0,p.lastIndexOf("/"));const d=p.substring(p.lastIndexOf("/")+1);const f={propertyName:d,navPath:u,propertyContextPath:`${i}${u?u+"/":""}`,propertyMetadata:n,selectionVariant:t,controlInfo:e};if(n.isParameter&&c){f.propertyContextPath=c.substring(0,c.lastIndexOf("/")+1);s=y._getConditionsForParameter(f)}else if(l.includes("/")){s=y._getConditionsForNavProperty(f)}else{s=y._getConditionsForProperty(f)}if(s.length>0){const e=h(c,r);if(e){if(e.annotations.Common?.ValueListWithFixedValues){s.forEach(y._adjustValueListWithFixedValuesCondition)}if(o){P(s,e,t)}}a[l]=s}}});return a},getStateToApply:(t,e)=>{const n=Object.keys(e).reduce((e,n)=>{const o=l.getPropertyByKey(t,n);if(o.hiddenFilter===undefined||!o.hiddenFilter){e.push({name:n})}return e},[]);return{filter:e,items:n}},_getPropertyFilterConfigurationSetting:function(t,e){return e?.[t]?.settings??{}},_getConditionsForParameter:function(t){let e=[];const{propertyMetadata:n,selectionVariant:o}=t;const r=n.name;const i=y._getSelectOptionName(o,r,true);if(i){e=y._getPropertyConditions(t,i,true)}return e},_getConditionsForProperty:function(t){const{propertyMetadata:e,selectionVariant:n}=t;const o=e.name;const r=y._getSelectOptionName(n,o);let i=[];if(r){i=y._getPropertyConditions(t,r,false)}return i},_getConditionsForNavProperty:function(t){const{controlInfo:e,selectionVariant:n,propertyName:o,navPath:r}=t;const{contextPath:i}=e;let a=[];let s=`${i.substring(1)}${r}`.replaceAll("/",".");let l=y._getSelectOptionName(n,o,false,s);if(!l){s=r.replaceAll("/",".");l=y._getSelectOptionName(n,o,false,s)}if(l){a=y._getPropertyConditions(t,l,false)}return a},_getSelectOptionName:function(t,e,n,o){const r=[];const i=t.getSelectOptionsPropertyNames();if(n){r.push(`$Parameter.${e}`);r.push(e);if(e.startsWith("P_")){r.push(`$Parameter.${e.slice(2,e.length)}`);r.push(e.slice(2,e.length))}else{r.push(`$Parameter.P_${e}`);r.push(`P_${e}`)}}else{r.push(e);r.push(`$Parameter.${e}`);if(e.startsWith("P_")){const t=e.slice(2,e.length);r.push(`$Parameter.${t}`);r.push(t)}else{const t=`P_${e}`;r.push(`$Parameter.${t}`);r.push(t)}}let a="";r.some(t=>{const e=o?`${o}.${t}`:t;return i.includes(e)?a=e:false});return a},_getMaxConditions(t){const{controlInfo:e,propertyContextPath:n,propertyName:o}=t;const{metaModel:r}=e;const i=`${n}${o}`;const a=r.createBindingContext(i);let s=0;if(a){s=p(o,{context:a})}return s},_getPropertyConditions:function(t,e,n){const{controlInfo:o,propertyMetadata:i,selectionVariant:a,propertyContextPath:s,propertyName:l}=t;const c=a.getSelectOption(e);const{metaModel:p}=o;const u=y._getMaxConditions(t);let d=[];if(c?.length&&u!==0){const e=y._getSemanticDateOperators(t,n);const o=s.substring(0,s.length-1);const a=n?["EQ"]:r.getOperatorsForProperty(l,o,p);d=this._getConditionsFromSelectOptions(c,i,a,e,u===1)}return d},_getSemanticDateOperators:function(t,e){const{controlInfo:n,propertyMetadata:o,propertyName:i,propertyContextPath:a}=t;const s=o.name;let l=[];const{useSemanticDateRange:c,filterFieldsConfig:p,metaModel:d}=n;if(c){if(e){l=["EQ"]}else{const t=a.substring(0,a.length-1),e=y._getPropertyFilterConfigurationSetting(s,p);l=r.getOperatorsForProperty(i,t,d,u[o.dataType],c,e)}}return l},_getConditionsFromSelectOptions:function(t,e,n,o,r){let i=[];if(t.length){i=r?y._addConditionFromSelectOption(e,n,o,i,t[0]):t.reduce(y._addConditionFromSelectOption.bind(null,e,n,o),i)}return i},_addConditionFromSelectOption:function(t,e,n,o,r){const{hasValueHelp:i,dataType:a}=t;const s=[...e,...n];const l=y._getEdmType(a);const p=c(r,l??a,!!i,e,n);if(r.SemanticDates&&n.length&&n.includes(r.SemanticDates.operator)){const t=y._addSemanticDatesToConditions(r.SemanticDates);if(Object.keys(t).length>0){o.push(t)}}else if(p){if(s.length===0||s.includes(p.operator)){o.push(p)}}return o},_addSemanticDatesToConditions:t=>{const e=[];if(t.high!==null){e.push(t.high)}if(t.low!==null){e.push(t.low)}return{values:e,operator:t.operator,isEmpty:undefined}},_getEdmType:t=>{const e=Object.fromEntries(Object.entries(g).map(t=>{let[e,n]=t;return[n.type,e]}));return e[t]},_adjustValueListWithFixedValuesCondition:t=>{t.validated=s.Validated;if(t.operator==="Empty"){t.operator="EQ";t.values=[""]}else if(t.operator==="NotEmpty"){t.operator="NE";t.values=[""]}delete t.isEmpty}};return y},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/mdc/adapter/StateFilterToSelectionVariant", ["sap/base/Log","sap/base/util/isEmptyObject","sap/fe/macros/filterBar/SemanticDateOperators","sap/fe/navigation/SelectionVariant","sap/ui/mdc/condition/FilterOperatorUtil","sap/ui/mdc/condition/RangeOperator","sap/ui/mdc/odata/v4/TypeMap"],function(e,t,n,o,i,a,r){"use strict";const s={getSelectionVariantFromConditions:function(e,n,i){const a=new o;if(!t(e)){for(const t in e){const o=e[t];if(o?.length){const e=s.getSelectionOptionsFromCondition(o,t,n);if(e.length){const n=t.replace(/\*\//g,".");if(i?.includes(t)){a.massAddSelectOption(`$Parameter.${n}`,e)}a.massAddSelectOption(n,e)}}}}return a},compareSelectOptions:function(e,t){return e.Option===t.Option&&e.Sign===t.Sign&&e.Low===t.Low&&e.High===t.High},mergeSelectionVariants:function(e,t){const n=new o(e.toJSONString());const i=t.getSelectOptionsPropertyNames();const a=[];for(const e of i){const o=t.getSelectOption(e)||[];const i=n.getSelectOption(e)||[];if(!a.includes(e)){n.massAddSelectOption(e,o);a.push(e)}else{for(const e of o){if(!i.some(t=>s.compareSelectOptions(t,e))){i.push(e)}}n.massAddSelectOption(e,i)}}return n},getSelectionOptionsFromCondition:function(e,t,n){const o=[];for(const i of e){const e=s.getSelectionOption(i,t,n);if(e){o.push(e)}}return o},getSelectionOption:function(e,t,o){let r;let c;const p=e.operator&&e.operator!==""?i.getOperator(e.operator):undefined;if(p instanceof a){r=s.createSemanticDatesFromConditions(e);c=s.getOptionForPropertyWithRangeOperator(p,e,t,o)}else{const o=n.getSemanticDateOperations();if(o.includes(e.operator)){r=s.createSemanticDatesFromConditions(e)}c=s.getSelectionFormatForNonRangeOperator(e,t)}if(c?.Option){c.SemanticDates=r?r:undefined}return c},getSelectionFormatForNonRangeOperator:function(e,t){const[n,o]=e.values;return s.getSelectOption(e.operator,n!==undefined&&n!==null?n.toString():"",o!==undefined&&o!==null?o.toString():null,t)},getTypeInfoForFilterProperty:function(e,t){const n=t.getProperty(e);let o;if(n){o=n.typeConfig}return o},getOptionForPropertyWithRangeOperator:function(e,t,n,o){const i={Sign:"I",Option:"",Low:"",High:""};const a=s.getTypeInfoForFilterProperty(n,o);const c=e.getModelFilter(t,n,a?a.typeInstance:undefined,false,a?a.baseType:undefined);const p=c.getFilters();if(p===undefined){i.Sign=e.exclude?"E":"I";i.Low=r.externalizeValue(c.getValue1(),a?a.typeInstance:"string");i.High=r.externalizeValue(c.getValue2(),a?a.typeInstance:"string");i.Option=c.getOperator()??""}return i.Option!=""?i:undefined},getSelectOption:function(t,n,o,i){const a={Option:"",Sign:"I",Low:n,High:o};switch(t){case"Contains":a.Option="CP";a.Low=`*${a.Low}*`;break;case"StartsWith":a.Option="CP";a.Low+="*";break;case"EndsWith":a.Option="CP";a.Low=`*${a.Low}`;break;case"BT":case"LE":case"LT":case"GT":case"GE":case"EQ":a.Option=t;break;case"DATE":a.Option="EQ";break;case"DATERANGE":a.Option="BT";break;case"FROM":a.Option="GE";break;case"TO":a.Option="LE";break;case"EEQ":a.Option="EQ";break;case"Empty":a.Option="EQ";a.Low="";break;case"NE":a.Sign="E";a.Option="EQ";break;case"NotContains":a.Option="CP";a.Sign="E";a.Low=`*${a.Low}*`;break;case"NOTBT":a.Option="BT";a.Sign="E";break;case"NotStartsWith":a.Option="CP";a.Low+="*";a.Sign="E";break;case"NotEndsWith":a.Option="CP";a.Low=`*${a.Low}`;a.Sign="E";break;case"NotEmpty":a.Option="EQ";a.Low="";a.Sign="E";break;case"NOTLE":a.Option="LE";a.Sign="E";break;case"NOTGE":a.Option="GE";a.Sign="E";break;case"NOTLT":a.Option="LT";a.Sign="E";break;case"NOTGT":a.Option="GT";a.Sign="E";break;default:e.warning(`${t} is not supported. ${i} could not be added to the Selection variant`)}if(a.Option!=="BT"){a.High=null}return a.Option!==""?a:undefined},createSemanticDatesFromConditions:function(e){if(!t(e)){return{high:e.values[0]!==undefined&&e.values[0]!==null?e.values[0]:null,low:e.values[1]!==undefined&&e.values[1]!==null?e.values[1]:null,operator:e.operator}}}};return s},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/mdc/adapter/StateHelper", ["sap/base/Log","sap/base/util/deepClone","sap/fe/core/templating/PropertyHelper","sap/fe/macros/filterBar/DraftEditState","sap/fe/macros/mdc/adapter/SelectionVariantToStateFilters","sap/fe/macros/mdc/adapter/StateFilterToSelectionVariant","sap/fe/navigation/SelectionVariant","sap/ui/mdc/p13n/StateUtil"],function(t,e,a,r,i,n,o,s){"use strict";const l={async getSelectionVariant(e){try{const t=await s.retrieveExternalState(e);const a=t.filter;let r=[];if(e?.getParent()?.isA("sap.fe.macros.filterBar.FilterBarAPI")&&e.getParent().getParameters!==undefined){r=e.getParent().getParameters()}const i=n.getSelectionVariantFromConditions(a,e.getPropertyHelper(),r);if(e?.isA("sap.ui.mdc.Chart")){const t=new o;const e=i._getSelectOptions();for(const a in e){t.massAddSelectOption(a.split("_fe_groupable_")[1],e[a])}return t}else{return i}}catch(a){const r=e?.getId();const i=a instanceof Error?a.message:String(a);t.error(`Building Block (${r}) - get selection variant failed : ${i}`);throw Error(i)}},async convertSelectionVariantToStateFilters(t,e,a,r){const n=await this._getSupportedFilterFields(t);if(!n.length){throw new Error("No valid metadata properties present for filter bar")}const o=this._getControlInfoForConversion(t);const s=r?.getMetaModel();const l=JSON.parse(JSON.stringify(n));const c=this._updatePropertyInfoToSupportSV(t,l);const p=i.getStateFiltersFromSV(e,o,c??l,a,s);return p},_getControlInfoForConversion(t){const e=t.getModel()?.getMetaModel(),a=t.data("entityType");if(t.isA("sap.fe.macros.controls.FilterBar")){const r=t.data("useSemanticDateRange")==="true"||t.data("useSemanticDateRange")===true,i=t.getModel("viewData"),n=i.getData(),o=n?.controlConfiguration,s=o?.["@com.sap.vocabularies.UI.v1.SelectionFields"],l=s?.filterFields;return{metaModel:e,contextPath:a,useSemanticDateRange:r,filterFieldsConfig:l,selectionFieldsConfigs:s}}else{return{metaModel:e,contextPath:a}}},async _getSupportedFilterFields(t){if(t.isA("sap.ui.mdc.Filterbar")){await t.waitForInitialization();return t.getControlDelegate().fetchFilterProperties(t)}else if(t.isA("sap.fe.macros.controls.FilterBar")){return t.getControlDelegate().fetchFilterProperties(t)}else{await t.awaitControlDelegate()}return t.getControlDelegate().fetchProperties(t)},async clearFilterValues(t){await this._clearFilterValuesWithOptions(t.content);t.fireEvent("afterClear")},async _clearFilterValuesWithOptions(t,a){if(!t){return}const i=await s.retrieveExternalState(t);let n="",o,l,c,p;if(t.isA("sap.ui.mdc.FilterBar")){n="$editState";l=r.ALL.id;o=e(i.filter[n]?.[0]);c=o?.values[0]===l;p=a&&Object.keys(a).length>0&&a.clearEditFilter}for(const t of Object.keys(i.filter)){if(!p&&t===n&&c){continue}for(const e of i.filter[t]){e.filtered=false}}await s.applyExternalState(t,{filter:i.filter});if(t.isA("sap.ui.mdc.FilterBar")){if(!p&&o&&!c){o.values=[l];await s.applyExternalState(t,{filter:{[n]:[o]}})}t.cleanUpAllFilterFieldsInErrorState()}},_updatePropertyInfoToSupportSV(t,e){if(t.isA("sap.ui.mdc.FilterBar")){return e}e.forEach(e=>{if(t.isA("sap.ui.mdc.Table")){e["conditionPath"]=e.name;e["annotationPath"]=e.metadataPath?e.metadataPath:"";e["hasValueHelp"]=a.hasValueHelp(t.getPropertyHelper().getProperty(e.name));e["dataType"]=e?.typeConfig?.className}else if(t.isA("sap.ui.mdc.Chart")){if(e.path){e["name"]=e.path;e["conditionPath"]=e.path;const r=t.getParent()?.getPropertyDataModel(e.path)?.targetObject;e["hasValueHelp"]=r?a.hasValueHelp(r):false;e["dataType"]=e?.typeConfig?.className||e.dataType}}});return e},async setSelectionVariantToMdcControl(e,a){let r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;try{const n=await s.retrieveExternalState(e);if(!n.filter){t.error(`FE : setSelectionVariant API cannot be applied on : ${e?.getId()}`);return}const o=await this.convertSelectionVariantToStateFilters(e,a,r,e?.getModel());await this.clearFilterValues(e?.getParent());const l=await this._getSupportedFilterFields(e);const c=i.getStateToApply(l,o);if(e?.isA("sap.ui.mdc.Chart")){this.convertConditionsForChart(c)}const p=await s.diffState(e,n,c);const f=await s.applyExternalState(e,c);return{diffState:p,applyStateResult:f}}catch(a){const r=e?.getId();const i=a instanceof Error?a.message:String(a);t.error(`FE : BuildingBlock (${r}) - set selection variant failed  : ${i}`);throw Error(i)}},convertConditionsForChart(t){for(const e in t.filter){delete Object.assign(t.filter,{["_fe_groupable_"+e]:t.filter[e]})[e]}t.items.forEach(t=>{t.name="_fe_groupable_"+t.name})}};return l},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/mdx-runtime/useMDXComponents", ["sap/base/Log","sap/fe/base/ClassSupport","sap/fe/base/jsx-runtime/ViewLoader","sap/fe/core/buildingBlocks/templating/BuildingBlockTemplateProcessor","sap/fe/macros/macroLibrary","sap/m/FormattedText","sap/m/HBox","sap/m/Page","sap/m/Panel","sap/m/Title","sap/ui/codeeditor/CodeEditor","sap/ui/core/Component","sap/ui/core/Fragment","sap/ui/core/library","sap/ui/core/util/XMLPreprocessor","sap/fe/base/jsx-runtime/jsx"],function(e,t,n,r,i,a,s,o,c,l,u,d,p,h,m,f){"use strict";var g=h.TitleLevel;var y=r.parseXMLString;var x=t.createReference;function b(e){const t=Array.isArray(e.children)?e.children.map(e=>{let t;if(typeof e==="string"){t=e}else{switch(e.getMetadata().getName()){case"sap.m.Link":t=`<a href="${e.getHref()}">${e.getText()}</a>`;break;case"sap.ui.codeeditor.CodeEditor":t=`<code>${e.getValue()}</code>`;break}}return t}).join(""):e.children;return f(a,{htmlText:t,class:"sapUiTinyMarginBottom"})}function T(e){return f(o,{class:"sapUiContentPadding",children:{content:e.children}})}function B(e){return f(l,{text:e.children,level:g.H1,class:"sapUiTinyMarginBottom"})}function M(e){return`<a href={strValue.href}>${e.children}</a>`}function C(e){const t=`<ul>${Array.isArray(e.children)?e.children.join(""):e.children}</ul>`;return f(a,{htmlText:t})}function L(e){return`<li>${Array.isArray(e.children)?e.children.join(""):e.children}</li>`}function j(e){return f(l,{text:e.children,level:g.H2,class:"sapUiSmallMarginTop sapUiTinyMarginBottom"})}function k(e){return e.children}function v(t){const r=x();const a=t.binding?{path:t.binding}:undefined;const o=f(c,{headerText:t.headerText||"",class:"sapUiSmallMarginTop",children:f(s,{ref:r})});if(a){o.bindElement(a)}i.register();const l=m.process(y(`<root>${t.children}</root>`,true)[0],{name:"myBuildingBlockFragment"},n.preprocessorData);Promise.resolve(l).then(async e=>{const t=d.getOwnerComponentFor(o)??{getRootControl:()=>undefined};return p.load({definition:e.firstElementChild,containingView:t.getRootControl()})}).then(e=>{r.current?.removeAllItems();r.current?.addItem(e);return}).catch(t=>{e.error(t)});return o}function A(e){const t=e.children?.trim()||"";const n=e.lineCount||Math.max(t.split("\n")?.length,3);const r=e.type||e?.className?.split("-")[1]||"js";const i=f(u,{class:"sapUiTinyMargin",lineNumbers:e.lineNumbers||false,type:r,editable:e.editable||false,maxLines:n,height:"auto",width:"98%"});i.setValue(t);if(e.source){fetch(e.source).then(async e=>e.text()).then(t=>{let n=t.split("\n");if(e.start){n=n.slice(e.start-1,e.end)}const r=Math.max(n.length,3);i.setMaxLines(r);i.setValue(n.join("\n"));return}).catch(e=>{i.setValue(e.message)})}return i}const P=function(){return{wrapper:T,p:b,a:M,h1:B,h2:j,ul:C,li:L,pre:k,code:A,CodeBlock:A,BuildingBlockPlayground:v}};return P},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/messages/MessageButton", ["sap/base/Log","sap/fe/base/ClassSupport","sap/fe/core/CommonUtils","sap/fe/core/controllerextensions/messageHandler/messageHandling","sap/fe/core/helpers/ResourceModelHelper","sap/fe/macros/messages/MessagePopover","sap/m/Button","sap/m/ColumnListItem","sap/m/FormattedText","sap/m/library","sap/ui/core/CustomData","sap/ui/core/Element","sap/ui/core/Lib","sap/ui/core/Messaging","sap/ui/core/message/MessageType","sap/ui/core/mvc/View","sap/ui/model/Filter","sap/ui/model/FilterOperator","sap/ui/model/Sorter","sap/ui/thirdparty/jquery","./MessageButtonHelper"],function(e,t,n,i,o,s,r,a,g,l,c,u,f,d,h,p,T,b,_,jQuery,m){"use strict";var E,C,I,S,P,M,y;var A=l.ButtonType;var O=o.getResourceModel;var x=t.event;var R=t.defineUI5Class;var w=t.aggregation;function B(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function G(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,v(e,t)}function v(e,t){return v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},v(e,t)}function L(e,t,n,i,o){var s={};return Object.keys(i).forEach(function(e){s[e]=i[e]}),s.enumerable=!!s.enumerable,s.configurable=!!s.configurable,("value"in s||s.initializer)&&(s.writable=!0),s=n.slice().reverse().reduce(function(n,i){return i(e,t,n)||n},s),o&&void 0!==s.initializer&&(s.value=s.initializer?s.initializer.call(o):void 0,s.initializer=void 0),void 0===s.initializer?(Object.defineProperty(e,t,s),null):s}function N(e,t){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let F=(E=R("sap.fe.macros.messages.MessageButton"),C=w({type:"sap.fe.macros.messages.MessageFilter",multiple:true,singularName:"customFilter"}),I=x(),E(S=(P=function(t){function o(e,n){var i;i=t.call(this,e,n)||this;B(i,"customFilters",M,i);B(i,"messageChange",y,i);i.sGeneralGroupText="";i.sViewId="";i.sLastActionText="";return i}G(o,t);var l=o.prototype;l.init=function e(){r.prototype.init.apply(this);this.isHiddenDraftEnabled=n.getAppComponent(this)?.getEnvironmentCapabilities()?.getCapabilities()?.HiddenDraft?.enabled;this.attachPress(this.handleMessagePopoverPress,this);this.oMessagePopover=new s;this.oItemBinding=this.oMessagePopover.getBinding("items");this.oItemBinding.attachChange(this._setMessageData,this);const t=this.getId();if(t){this.oMessagePopover.addCustomData(new c({key:"messageButtonId",value:t}))}this.attachModelContextChange(this._applyFiltersAndSort.bind(this));this.oMessagePopover.attachActiveTitlePress(this._activeTitlePress.bind(this))};l.handleMessagePopoverPress=function e(t){this.oMessagePopover.toggle(t.getSource())};l._applyGroupingAsync=async function t(n){const o=[];const s=n.getBindingContext();const r=e=>{const t=[];const n=this.oItemBinding.getContexts().map(function(e){return e.getObject()});const o=e.getBindingContext();if(o){const s=e.getContent()[0];i.getVisibleSectionsFromObjectPageLayout(s).forEach(function(e){e.getSubSections().forEach(function(e){e.findElements(true).forEach(function(i){if(i.isA("sap.ui.mdc.Table")){for(let s=0;s<n.length;s++){const r=i.getRowBinding();if(r){const r=`${o.getPath()}/${i.getRowBinding().getPath()}`;if(n[s].target.indexOf(r)===0){t.push({table:i,subsection:e});break}}}}})})})}return t};const a=r.bind(this)(n);a.forEach(function(e){const t=e.table,n=e.subsection;if(!t.getBindingContext()||t.getBindingContext()?.getPath()!==s?.getPath()){n.setBindingContext(s);if(!t.getRowBinding().isLengthFinal()){o.push(new Promise(function(e){t.getRowBinding().attachEventOnce("dataReceived",function(){e()})}))}}});const g=new Promise(e=>{setTimeout(()=>{this._applyGrouping();e()},0)});try{await Promise.all(o);n.getModel().checkMessages();await g}catch(t){e.error("Error while grouping the messages in the messagePopOver")}};l._applyGrouping=function e(){this.oObjectPageLayout=this._getObjectPageLayout(this,this.oObjectPageLayout);if(!this.oObjectPageLayout){return}const t=this.oMessagePopover.getItems();const n=i.getVisibleSectionsFromObjectPageLayout(this.oObjectPageLayout);const o=this._checkControlIdInSections(t,false);if(o){this._fnEnableBindings(n)}const s=this._getViewId(this.getId());const r=u.getElementById(s);const a=r?.getModel("internal");a?.setProperty("/messageTargetPropertyPath",undefined)};l._getTableRefErrorContext=function e(t){const n=t.getModel("internal");if(!t.getBindingContext("internal")?.getProperty("refError")){n.setProperty("refError",{},t.getBindingContext("internal"))}const i=t.getBindingContext("internal")?.getPath()+"/refError/"+t.getBindingContext()?.getPath().replace("/","$")+"$"+t.getRowBinding().getPath().replace("/","$");const o=n.getContext(i);if(!o.getProperty("")){n.setProperty("",{},o)}return o};l._updateInternalModel=function e(t,n,i,o,s,r){let a;if(r){a={rowIndex:"CreationRow",targetColProperty:i?i:""}}else{a={rowIndex:t?n:"",targetColProperty:i?i:""}}const g=o.getModel("internal"),l=this._getTableRefErrorContext(o);const c=d.getMessageModel().getData().map(function(e){return e.getId()});let u;if(l?.getProperty("")){u=Object.keys(l?.getProperty("")).filter(function(e){return c.indexOf(e)===-1});u.forEach(function(e){delete l?.getProperty("")[e]})}g?.setProperty(s.getId(),Object.assign({},l?.getProperty(s.getId())?l.getProperty(s.getId()):{},a),l)};l._setGroupLabelForTransientMsg=function e(t,n){this.sLastActionText=this.sLastActionText?this.sLastActionText:f.getResourceBundleFor("sap.fe.core").getText("T_MESSAGE_BUTTON_SAPFE_MESSAGE_GROUP_LAST_ACTION");t.setGroupName(`${this.sLastActionText}: ${n}`)};l._computeMessageGroupAndSubTitle=function e(t,n,o,s,r,a){const g=O(n);this.oItemBinding.detachChange(this._setMessageData,this);const l=t.getBindingContext("message")?.getObject();const c=true;let f,d,h={},p,T,b,_;const m=new RegExp("^/").test(l?.getTargets()[0]);if(m){for(p=0;p<s.length;p++){f=s[p];b=f;if(f.isA("sap.m.Table")||f.isA("sap.ui.table.Table")){d=f.getParent();const e=d.getRowBinding();const n=()=>{this._setGroupLabelForTransientMsg(t,a)};if(e&&e.isLengthFinal()&&d.getBindingContext()){const o=i.getTableColumnDataAndSetSubtile(l,d,f,e,a,c,n);h=o.oTargetTableInfo;if(o.subTitle){t.setSubtitle(o.subTitle)}t.setActiveTitle(!!h.oTableRowContext&&!h.oTableRowContext?.isInactive()&&h.oTableRowContext.getPath()!==t.getBindingContext("message")?.getProperty("target").replace(/\/$/,""));if(h.oTableRowContext&&!h.oTableRowContext.isInactive()){this._formatMessageDescription(t,h.oTableRowContext,h.sTableTargetColName,d)}T=h.oTableRowContext&&h.oTableRowContext.getIndex();this._updateInternalModel(h.oTableRowContext,T,h.sTableTargetColProperty,d,l)}}else{t.setActiveTitle(true);if(t.getSubtitle()===""){let e;let n=b.getParent();while(n){if(n&&n.isA("sap.ui.layout.form.FormElement")){e=n;break}n=n.getParent()}if(e){const n=e.getLabel();let i="";if(typeof n==="string"){i=n}else{i=n.getText()}t.setSubtitle(i)}}const e=i.bIsOrphanElement(b,s);if(e){break}}}}else{b=s[0];d=this._getMdcTable(b);h={};if(d){h.tableHeader=d.getHeader();const e=this._getTableColumnIndex(b);h.sTableTargetColProperty=e!==undefined&&e>-1?d.getColumns()[e].getPropertyKey():undefined;h.sTableTargetColName=h.sTableTargetColProperty&&e!==undefined&&e>-1?d.getColumns()[e].getHeader():undefined;_=this._getTableRow(b)?.isA("sap.ui.table.CreationRow")??false;if(!_){T=this._getTableRowIndex(b);h.oTableRowBindingContexts=d.getRowBinding().getCurrentContexts();h.oTableRowContext=T!==undefined?h.oTableRowBindingContexts[T]:undefined}const n=i.getMessageSubtitle(l,h.oTableRowBindingContexts,h.oTableRowContext,h.sTableTargetColName,d,_,e===0&&b.getValueState()==="Error"?b:undefined);if(n){t.setSubtitle(n)}t.setActiveTitle(!!h.oTableRowContext);if(h.oTableRowContext){this._formatMessageDescription(t,h.oTableRowContext,h.sTableTargetColName,d)}this._updateInternalModel(h.oTableRowContext,T,h.sTableTargetColProperty,d,l,_)}}if(c){const e=this._checkMergeLogicForMessageGrouping(n,o,r);const s=i.createSectionGroupName(n,o,r,h,g,e);t.setGroupName(s);const a=u.getElementById(this._getViewId(this.getId()));const c=a?.getBindingContext()?.getPath();const f=l.getTargets()[0]?.split("/").pop();const d=a?.getModel("internal");const p=d?.getProperty("/messageTargetPropertyPath");const T=p?.substring(0,p.lastIndexOf("/"));if(T&&f&&c&&f===p.split("/").pop()&&c.length>=T.length&&c.startsWith(T)){this.oMessagePopover.fireActiveTitlePress({item:t});d.setProperty("/messageTargetPropertyPath",false)}}this.oItemBinding.attachChange(this._setMessageData,this);return b};l._checkMergeLogicForMessageGrouping=function e(t,n,i){const o=this._getViewId(this.getId());const s=o?u.getElementById(o):undefined;let r=true;const a=!i&&s?.getViewData()?.sectionLayout==="Page";const g=i&&s?.getViewData()?.sectionLayout==="Tabs";if(a){const e=n.getBlocks();const t=e.length===1?e[0].getAggregation("content"):undefined;if(t?.isA("sap.fe.macros.table.TableAPI")){r=false}}else if(g){let e;const t=n.getBlocks();if(t.length===1&&t[0]?.isA("sap.fe.templates.ObjectPage.controls.SubSectionBlock")){e=t[0].getAggregation("content");if(e?.isA("sap.fe.macros.table.TableAPI")){r=false}else if(e?.isA("sap.ui.layout.DynamicSideContent")){e=e.getMainContent instanceof Function&&e?.getMainContent();if(e&&e.length===1&&e[0]?.isA("sap.fe.macros.table.TableAPI")){r=false}}}}return r};l._checkControlIdInSections=function e(t,n){let o,s,r,a,g,l;this.sGeneralGroupText=this.sGeneralGroupText?this.sGeneralGroupText:f.getResourceBundleFor("sap.fe.core").getText("T_MESSAGE_BUTTON_SAPFE_MESSAGE_GROUP_GENERAL");const c=i.getVisibleSectionsFromObjectPageLayout(this.oObjectPageLayout);if(c){const e=this._getViewId(this.getId());const f=e?u.getElementById(e):undefined;const d=f?.getBindingContext("internal")?.getProperty("sActionName");if(d){(f?.getBindingContext("internal")).setProperty("sActionName",null)}for(a=t.length-1;a>=0;--a){r=t[a];let e=true;for(g=c.length-1;g>=0;--g){let t=false;o=c[g];s=o.getSubSections();for(l=s.length-1;l>=0;--l){const n=s[l];const a=r?.getBindingContext("message")?.getObject();this.sGeneralGroupText=this._getGeneralGroupText(f,a);const g=i.getControlFromMessageRelatingToSubSection(n,a);if(g.length>0){const i=this._computeMessageGroupAndSubTitle(r,o,n,g,s.length>1,d);e=false;if(i&&!i.isA("sap.m.Table")&&!i.isA("sap.ui.table.Table")){t=true;break}}}if(t){break}}if(e){const e=r.getBindingContext("message")?.getObject();if(this.isHiddenDraftEnabled){r.setActiveTitle(true)}else{r.setActiveTitle(false)}if(e.persistent&&d){this._setGroupLabelForTransientMsg(r,d)}else{r.setGroupName(this.sGeneralGroupText)}}if(!n&&r.getGroupName()===this.sGeneralGroupText&&this._findTargetForMessage(r)){return true}}}};l._getGeneralGroupText=function e(t,n){const i=t?.getBindingContext()?.getPath();const o=n?.getTargets()[0];if(this.isHiddenDraftEnabled&&i&&!o.includes(i)){return f.getResourceBundleFor("sap.fe.core").getText("T_MESSAGE_BUTTON_SAPFE_MESSAGE_GROUP_OTHER_PAGES")}else{return f.getResourceBundleFor("sap.fe.core").getText("T_MESSAGE_BUTTON_SAPFE_MESSAGE_GROUP_GENERAL")}};l._findTargetForMessage=function e(t){const n=t.getBindingContext("message")&&t.getBindingContext("message")?.getObject();if(n&&n.target){const e=this.oObjectPageLayout?.getModel()?.getMetaModel(),t=e&&e.getMetaPath(n.target),i=e&&e.getObject(t);if(i&&i.$kind==="Property"){return true}}return false};l._fnEnableSubSectionBinding=function e(t){t.getBlocks().forEach(e=>e.setBindingContext(undefined));t.getMoreBlocks().forEach(e=>e.setBindingContext(undefined));t.getActions().forEach(e=>e.setBindingContext(undefined))};l._fnEnableBindings=function e(t){for(let e=0;e<t.length;e++){const n=t[e];const i=n.getSubSections();for(let e=0;e<i.length;e++){const t=i[e];const n=t.getBlocks();if(n){this._fnEnableSubSectionBinding(t)}if(t.getBindingContext()){this._findMessageGroupAfterRebinding();t.getBindingContext().getBinding().attachDataReceived(this._findMessageGroupAfterRebinding.bind(this))}}}};l._findMessageGroupAfterRebinding=function e(){const t=this.oMessagePopover.getItems();this._checkControlIdInSections(t,true)};l._getViewId=function e(t){let n,i=u.getElementById(t);while(i){if(i instanceof p){n=i.getId();break}i=i.getParent()}return n};l._setLongtextUrlDescription=function t(n){this.oMessagePopover.setAsyncDescriptionHandler(function(t){const i=t.item.getLongtextUrl();if(i){jQuery.ajax({type:"GET",url:i,success:function(e){const i=n.getHtmlText()+e;const o=t.item.getDescription()??"";t.item.setDescription(`${o}${i}`);t.promise.resolve()},error:function(){const n=`A request has failed for long text data. URL: ${i}`;e.error(n);t.promise.reject(n)}})}})};l.processTableColumnProperties=function e(t,n,o){let s="";const r=i.getTableColBindingContextForTextAnnotation(t,n,o);const a=r?r.getObject("$Path"):undefined;const g=a&&r?r.getObject("@com.sap.vocabularies.UI.v1.TextArrangement/$EnumMember"):undefined;const l=t.getParent()?.getTableColValue(n,a,g,o);s+=`${l}`;return s};l.computeColumnInfo=function e(t,n,o,s){const r=O(s);const a=t.getBindingContext("message")?.getObject();const g=i.fetchColumnInfo(a,s);let l="";if(n){l=`${r.getText("T_MESSAGE_GROUP_DESCRIPTION_TABLE_COLUMN")}: ${n}`}else if(g){if(g.availability==="Hidden"){if(t.getType()==="Error"){l=o.length>0?`${r.getText("T_COLUMN_AVAILABLE_DIAGNOSIS_MSGDESC_ERROR")} ${o.join(", ")}`+".":`${r.getText("T_COLUMN_AVAILABLE_DIAGNOSIS_MSGDESC_ERROR")}`+"."}else{l=o.length>0?`${r.getText("T_COLUMN_AVAILABLE_DIAGNOSIS_MSGDESC")} ${o.join(", ")}`+".":`${r.getText("T_COLUMN_AVAILABLE_DIAGNOSIS_MSGDESC")}`+"."}}else{if(!this._navigationConfigured(s)){t.setActiveTitle(false)}l=`${r.getText("T_MESSAGE_GROUP_DESCRIPTION_TABLE_COLUMN")}: ${g.label} (${r.getText("T_COLUMN_INDICATOR_IN_TABLE_DEFINITION")})`}}return l};l._formatMessageDescription=function e(t,n,i,o){const s=O(o);const r=o.getParent()?.getTableColumnVisibilityInfo(n);const a=[];r?.forEach(e=>{let{key:t,visibility:i}=e;a.push(this.processTableColumnProperties(o,n,[{key:t,visibility:i}]))});const l=this.computeColumnInfo(t,i,a,o);const c=new g({htmlText:`<html><body><strong>${s.getText("T_FIELDS_AFFECTED_TITLE")}</strong></body></html><br>`});let u;if(Array.isArray(a)&&a.length>0){if(a.length===1){u=`${c.getHtmlText()}<br>${s.getText("T_MESSAGE_GROUP_TITLE_TABLE_DENOMINATOR")}: ${o.getHeader()}<br>${s.getText("T_MESSAGE_GROUP_DESCRIPTION_TABLE_ROW")}: ${a}<br>${l}<br>`}else{u=`${c.getHtmlText()}<br>${s.getText("T_MESSAGE_GROUP_TITLE_TABLE_DENOMINATOR")}: ${o.getHeader()}<br>${s.getText("T_MESSAGE_GROUP_DESCRIPTION_TABLE_ROW")}:<br>&emsp; ${a.join("<br>&emsp; ")}<br>${l}<br>`}}else if(l==""||!l){u=""}else{u=`${c.getHtmlText()}<br>${s.getText("T_MESSAGE_GROUP_TITLE_TABLE_DENOMINATOR")}: ${o.getHeader()}<br>${l}<br>`}const f=new g({htmlText:`<html><body><strong>${s.getText("T_DIAGNOSIS_TITLE")}</strong></body></html><br>`});const d=t.getBindingContext("message")?.getObject().description;t.setDescription(undefined);let h="";let p="";if(t.getLongtextUrl()){p=u?`${u}<br>`:"";t.setDescription(p);this._setLongtextUrlDescription(f)}else if(d){h=`${f.getHtmlText()}<br>${d}`;p=`${u}<br>${h}`;t.setDescription(p)}else{t.setDescription(u)}};l.handleNoMessages=function e(){this.setVisible(false);this.fireEvent("messageChange",{iMessageLength:0})};l._setMessageData=function t(){clearTimeout(this._setMessageDataTimeout);this._setMessageDataTimeout=setTimeout(async()=>{const t="",n=this.oMessagePopover.getItems(),i={Error:0,Warning:0,Success:0,Information:0},o=f.getResourceBundleFor("sap.fe.core"),s=n.length;let r=A.Default,a="",g="";if(s>0){for(let e=0;e<s;e++){if(!n[e].getType()||n[e].getType().toString()===""){++i["Information"]}else{++i[n[e].getType()]}}if(i[h.Error]>0){r=A.Negative}else if(i[h.Warning]>0){r=A.Critical}else if(i[h.Success]>0){r=A.Success}else if(i[h.Information]>0){r=A.Neutral}const l=i[h.Error]+i[h.Warning]+i[h.Success]+i[h.Information];this.setText(l.toString());let c=0;const f={Error:{singleTooltipKey:"C_COMMON_SAPFE_ERROR_MESSAGES_PAGE_TITLE_ERROR",multipleTooltipKey:"C_COMMON_SAPFE_ERROR_MESSAGES_PAGE_MULTIPLE_ERROR_TOOLTIP"},Warning:{singleTooltipKey:"C_MESSAGE_HANDLING_SAPFE_ERROR_MESSAGES_PAGE_TITLE_WARNING",multipleTooltipKey:"C_COMMON_SAPFE_ERROR_MESSAGES_PAGE_WARNING_TOOLTIP"},Information:{singleTooltipKey:"C_MESSAGE_HANDLING_SAPFE_ERROR_MESSAGES_PAGE_TITLE_INFO",multipleTooltipKey:"C_MESSAGE_HANDLING_SAPFE_ERROR_MESSAGES_PAGE_TITLE_INFO"},Success:{singleTooltipKey:"C_MESSAGE_HANDLING_SAPFE_ERROR_MESSAGES_PAGE_TITLE_SUCCESS",multipleTooltipKey:"C_MESSAGE_HANDLING_SAPFE_ERROR_MESSAGES_PAGE_MULTIPLE_SUCCESS_TOOLTIP"}};for(const[e,t]of Object.entries(f)){const n=e;const o=i[n];if(o>1){c=o;a=t.multipleTooltipKey;break}else if(o===1){c=o;a=t.singleTooltipKey;break}}if(a){g=o.getText(a);const e="Ctrl+Shift+M";const t=`${o.getText("C_COMMON_SAPFE_ERROR_MESSAGES_PAGE_TOOLTIP")}: ${c} ${g} (${e})`;this.setTooltip(t)}this.setIcon(t);this.setType(r);this.setVisible(true);const d=u.getElementById(this.sViewId);if(d){const t=d.getController().pageReady;try{await t.waitPageReady();await this._applyGroupingAsync(d)}catch(t){e.error("fail grouping messages")}this.fireEvent("messageChange",{iMessageLength:s})}if(s>1){this.oMessagePopover.navigateBack()}}else{this.handleNoMessages()}},100)};l._activeTitlePress=async function t(n){const o=this.getBindingContext("pageInternal");o.setProperty("errorNavigationSectionFlag",true);const s=n.getParameter("item"),r=s?.getBindingContext("message")?.getObject(),a=new RegExp("^/").test(r.getTargets()[0]),g=u.getElementById(this.sViewId);if(!s){return}let l,c;const f=function(e,t){const n={preventScroll:true,targetInfo:e};t.focus(n)};let d=true;let h,p,T,b,_,m;const E=i.getVisibleSectionsFromObjectPageLayout(this.oObjectPageLayout);if(E){const e=this.oMessagePopover.getItems();for(b=e.length-1;b>=0;--b){T=e[b];for(_=E.length-1;_>=0;--_){h=E[_];p=h.getSubSections();for(m=p.length-1;m>=0;--m){const e=p[m];const t=T?.getBindingContext("message")?.getObject();const n=i.getControlFromMessageRelatingToSubSection(e,t);if(n.length>0){d=false}}}}}const C=r.controlIds.map(e=>{const t=u.getElementById(e);const n=t&&t.getParent();if(this.isHiddenDraftEnabled){return n?.isA("sap.ui.mdc.Table")?n:undefined}return n&&n.isA("sap.ui.mdc.Table")&&s.getGroupName().includes(n.getHeader())?n:null}).reduce(function(e,t){return t?t:e});if(C){if(a){c=s.getGroupName().split(", ")[0];try{if(this.isHiddenDraftEnabled&&(C.getId()!==this.sViewId||d)){const e=this._getViewId(C.getId());u.getElementById(e).getController()._routing.navigateToContext(C.getBindingContext())}else{await this._navigateFromMessageToSectionTableInIconTabBarMode(C,this.oObjectPageLayout,c)}const t=this._getTableRefErrorContext(C);const n=t?.getProperty(s.getBindingContext("message")?.getObject().getId());const i=async(e,t)=>{const n=this._getMdcTableRows(e),i=this._getGridTable(e)?.getFirstVisibleRow()??0;if(n.length>0&&n[0]){const o=n[t-i],s=this.getTargetCell(o,r);if(s){this.setFocusToControl(s);return undefined}else{const t=r.getTargets()[0];if(t){g.getModel("internal").setProperty("/messageTargetPropertyPath",t)}if(this._navigationConfigured(e)){return g.getController()._routing.navigateForwardToContext(o.getBindingContext())}else{return false}}}return undefined};if(C.data("tableType")==="GridTable"&&n.rowIndex!==""){try{await C.scrollToIndex(n.rowIndex);setTimeout(async function(){const e=await i(C,n.rowIndex);if(e===false){f(r,C)}},0)}catch(t){e.error("Error while focusing on error")}}else if(C.data("tableType")==="ResponsiveTable"&&n){const e=await this.focusOnMessageTargetControl(g,r,C,n.rowIndex);if(e===false){f(r,C)}}else{this.focusOnMessageTargetControl(g,r)}}catch(t){e.error("Fail to navigate to Error control")}}else{l=u.getElementById(r.controlIds[0]);if(l){const e=this.oObjectPageLayout.getSections();const t=e.find(e=>e.findElements(true).includes(l));if(t){c=s.getGroupName().split(", ")[0];this._navigateFromMessageToSectionInIconTabBarMode(this.oObjectPageLayout,c)}}this.setFocusToControl(l)}}else{this.handleMessageNavigation(s,E,r,g)}};l.handleMessageNavigation=function e(t,n,i,o){const s=u.getElementById(i.getControlIds()[0]);const r=this.findSubSection(t,n,s);if(r){r.setMode("Expanded")}const a=t.getGroupName().split(", ")[0];this._navigateFromMessageToSectionInIconTabBarMode(this.oObjectPageLayout,a);this.focusOnMessageTargetControl(o,i)};l.findSubSection=function e(t,n,i){const o=t.getGroupName().split(", ");return this.findSubSectionByTitleOrControl(n,o[1],i)};l.findSubSectionByTitleOrControl=function e(t,n,i){for(const e of t){for(const t of e.getSubSections()){if(t.getTitle()===n){return t}if(t.getMoreBlocks().some(e=>e.getContent()?.findElements(true).includes(i))){return t}}}return null};l.getTargetCell=function e(t,n){const i=n.getControlIds();const o=i.some(e=>{const t=u.getElementById(e);return t?.isA("sap.ui.mdc.Field")&&t.getEditable&&!t.getEditable()});return i.length>0?i.map(function(e){const n=t.findElements(true,function(t){return t.getId()===e});if(n.length>0){const t=u.getElementById(e);if(o){if(t?.isA("sap.ui.mdc.Field")){if(t.getEditable&&!t.getEditable()){return null}return t}}else{return t}}return null}).reduce(function(e,t){return t?t:e},null):null};l.focusOnMessageTargetControl=async function e(t,n,i,o){const s=t.findElements(true);const r=n.getControlIds().filter(function(e){return s.some(function(t){return t.getId()===e&&t.getDomRef()})}).map(function(e){return u.getElementById(e)});const g=r.filter(function(e){return!e?.isA("sap.m.Table")&&!e?.isA("sap.ui.table.Table")});if(g.length>0){this.setFocusToControl(g[0]);return undefined}else if(r.length>0){const e=i?i.findElements(true,e=>e.isA(a.getMetadata().getName())&&e.getParent()?.getParent()===i):[];if(e.length>0&&e[0]){const s=e[o];const r=this.getTargetCell(s,n);if(r){const e=r.isA("sap.fe.macros.Field")?r.getContent().getContentEdit()[0]:r.getItems()[0].getContent().getContentEdit()[0];this.setFocusToControl(e);return undefined}else{const e=n.getTargets()[0];if(e){t.getModel("internal").setProperty("/messageTargetPropertyPath",e)}if(i&&this._navigationConfigured(i)){return t.getController()._routing.navigateForwardToContext(s.getBindingContext())}else{return false}}}return undefined}return undefined};l._getMessageRank=function e(t,n){if(n){let e,i,o,s,r,a,g,l;for(s=n.length-1;s>=0;--s){e=n[s];i=e.getSubSections();for(r=i.length-1;r>=0;--r){o=i[r];g=o.findElements(true);a=g.filter(this._fnFilterUponId.bind(this,t.getControlId()));l=s+1;if(a.length>0){if(e.getVisible()&&o.getVisible()){if(!t.hasOwnProperty("sectionName")){t.sectionName=e.getTitle()}if(!t.hasOwnProperty("subSectionName")){t.subSectionName=o.getTitle()}return l*10+(r+1)}else{return 1}}}}if(!t.sectionName&&!t.subSectionName&&t.getPersistent()){return 1}return 999}return 999};l._filterOutMessagesInDialog=function e(){const t=e=>i.isMessageOutOfParameterDialog(e);return new T({path:"controlIds",test:t,caseSensitive:true})};l._filterOutContextSuccessMessages=function e(){const t=[];const n=d.getMessageModel().getData();n.filter(e=>{if(e.getTargets().length===1&&e.getTargets()[0]===this.getBindingContext()?.getPath()&&e.getPersistent()===true&&e.getType()===h.Success){t.push(e)}});if(t.length===1&&n.length===1){return false}return true};l._getFilterToHideBackendMessageOnErrorValidation=function e(){const t=function(){return d.getMessageModel().getData().filter(e=>e.validation===true&&e.getControlId()?.match(/field.*-inner$/i)).map(e=>e.getControlId()?.replace("-inner",""))};const n=function(e){return!e.some(e=>t().includes(e))};return new T({filters:[new T({filters:[new T({path:"validation",operator:b.EQ,value1:false}),new T({path:"controlIds",test:n,caseSensitive:true})],and:true}),new T({path:"validation",operator:b.EQ,value1:true})],and:false})};l._applyFiltersAndSort=async function e(){let t,n,i,o,s,r,a,g;const l=[];this.sViewId=this.sViewId?this.sViewId:this._getViewId(this.getId());const c=this.getAggregation("customFilters");if(c){c.forEach(function(e){l.push(new T({path:e.getProperty("path"),operator:e.getProperty("operator"),value1:e.getProperty("value1"),value2:e.getProperty("value2")}))})}const f=this.getBindingContext();if(!f){this.setVisible(false);return}else{s=f.getPath();t=new T({filters:[new T({path:"validation",operator:b.EQ,value1:true}),m.getCheckControlInViewFilter(this.sViewId)],and:true});a=new T({filters:[this._filterOutMessagesInDialog()]});const e=new T({path:"target",test:this._filterOutContextSuccessMessages.bind(this),caseSensitive:true});let c;if(this.isHiddenDraftEnabled){const e=this._getViewId(this.getId());const i=u.getElementById(e);const o=i?.getBindingContext();const s=(await(i.getController()?.editFlow.getRootContext(o)))?.getPath();n=m.getHiddenDraftUseCaseFilter(s);const r=new T({filters:[t,n],and:false});c=[r,a,this._getFilterToHideBackendMessageOnErrorValidation()]}else{i=new T({filters:[t,new T({path:"target",operator:b.StartsWith,value1:s})],and:false});c=[i,e,a,this._getFilterToHideBackendMessageOnErrorValidation()]}const d=new T({filters:c,and:true});if(l.length>0){o=new T({filters:[l,d],and:false})}else{o=d}this.oItemBinding.filter(o);this.oObjectPageLayout=this._getObjectPageLayout(this,this.oObjectPageLayout);if(this.oObjectPageLayout){r=new _("",undefined,undefined,(e,t)=>{if(!g){g=this.oObjectPageLayout&&this.oObjectPageLayout.getSections()}const n=this._getMessageRank(e,g);const i=this._getMessageRank(t,g);if(n<i){return-1}if(n>i){return 1}return 0});this.oItemBinding.sort(r)}}};l._fnFilterUponId=function e(t,n){return t===n.getId()};l._getSectionBySectionTitle=function e(t,n){let i;if(n){const e=t.getSections();for(let t=0;t<e.length;t++){if(e[t].getVisible()&&e[t].getTitle()===n){i=e[t];break}}}return i};l._navigateFromMessageToSectionInIconTabBarMode=function e(t,n){const i=t.getUseIconTabBar();if(i){const e=this._getSectionBySectionTitle(t,n);const i=t.getSelectedSection();if(e&&i!==e.getId()){t.setSelectedSection(e.getId())}}};l._navigateFromMessageToSectionTableInIconTabBarMode=async function e(t,n,i){const o=t.getRowBinding();const s=t.getBindingContext();const r=n.getBindingContext();const a=!(s===r);this._navigateFromMessageToSectionInIconTabBarMode(n,i);return new Promise(function(e){if(a){o.attachEventOnce("change",function(){e()})}else{e()}})};l._getMdcTable=function e(t){let n=t.getParent();while(n&&!n.isA("sap.ui.mdc.Table")){n=n.getParent()}return n&&n.isA("sap.ui.mdc.Table")?n:undefined};l._getGridTable=function e(t){return t.findElements(true,function(e){return e.isA("sap.ui.table.Table")&&e.getParent()===t})[0]};l._getTableRow=function e(t){let n=t.getParent();while(n&&!n.isA("sap.ui.table.Row")&&!n.isA("sap.ui.table.CreationRow")&&!n.isA(a.getMetadata().getName())){n=n.getParent()}return n&&(n.isA("sap.ui.table.Row")||n.isA("sap.ui.table.CreationRow")||n.isA(a.getMetadata().getName()))?n:undefined};l._getTableRowIndex=function e(t){const n=this._getTableRow(t);let i;if(n?.isA("sap.ui.table.Row")){i=n.getIndex()}else{i=n?.getTable?.().getItems().findIndex(function(e){return e.getId()===n?.getId()})}return i??-1};l._getTableColumnIndex=function e(t){const n=function(e,t){return t?.getCells().findIndex(function(t){return t.getId()===e.getId()})};const i=function(e,t){let i=e.getParent(),o=n(i,t);while(i&&o&&o<0){i=i.getParent();o=n(i,t)}return o};const o=this._getTableRow(t);let s=i(t,o);if(o?.isA("sap.ui.table.CreationRow")){const e=s?o.getCells()[s].getId():undefined,t=o.getTable()?.getColumns();s=t?.findIndex(function(t){if(t.getCreationTemplate()&&e){return e.search(t.getCreationTemplate().getId())>-1?true:false}else{return false}})}return s};l._getMdcTableRows=function e(t){return t.findElements(true,function(e){return e.isA("sap.ui.table.Row")&&e.getTable?.().getParent()===t})};l._getObjectPageLayout=function e(t,n){if(n){return n}let i=t;while(i&&!i.isA("sap.uxap.ObjectPageLayout")){i=i.getParent()??undefined}return i};l._navigationConfigured=function e(t){const n=sap.ui.require("sap/ui/core/Component"),i=t&&n.getOwnerComponentFor(t)&&n.getOwnerComponentFor(t).getNavigation();let o=false,s=false;if(i&&Object.keys(i).includes(t.getRowBinding().getPath())){o=i[t?.getRowBinding().getPath()]&&i[t?.getRowBinding().getPath()].detail&&i[t?.getRowBinding().getPath()].detail.route?true:false}s=o&&t?.getRowSettings().getRowActions()&&t?.getRowSettings().getRowActions()[0].getType().includes("Navigation");return s};l.setFocusToControl=function t(n){const i=this.oMessagePopover;if(i&&n&&n.focus){const e=()=>{n.focus()};if(!i.isOpen()){setTimeout(e,0)}else{const t=()=>{setTimeout(e,0);i.detachEvent("afterClose",t)};i.attachEvent("afterClose",t);i.close()}}else{e.warning("FE V4 : MessageButton : element doesn't have focus method for focusing.")}};l.escape=function e(t){return String(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")};return o}(r),M=L(P.prototype,"customFilters",[C],{configurable:true,enumerable:true,writable:true,initializer:null}),y=L(P.prototype,"messageChange",[I],{configurable:true,enumerable:true,writable:true,initializer:null}),P))||S);return F},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/messages/MessageButtonHelper", ["sap/m/Dialog","sap/ui/core/Element","sap/ui/mdc/valuehelp/Dialog","sap/ui/model/Filter","sap/ui/model/FilterOperator"],function(e,t,n,r,i){"use strict";function a(i){const a=function(r){if(!r.length){return false}let a=t.getElementById(r[0]);while(a){if(a.getId()===i){return true}if(a instanceof e||a instanceof n){return false}a=a.getParent()}return false};return new r({path:"controlIds",test:a,caseSensitive:true})}function s(e){return new r({path:"target",operator:i.StartsWith,value1:e})}const l={getCheckControlInViewFilter:a,getHiddenDraftUseCaseFilter:s};return l},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/messages/MessageFilter", ["sap/fe/base/ClassSupport","sap/ui/core/Element","sap/ui/model/FilterOperator"],function(e,r,t){"use strict";var i,a,n,l,o,u,s,p,c,f,b;var v=e.property;var y=e.defineUI5Class;function d(e,r,t,i){t&&Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(i):void 0})}function g(e,r){e.prototype=Object.create(r.prototype),e.prototype.constructor=e,m(e,r)}function m(e,r){return m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,r){return e.__proto__=r,e},m(e,r)}function z(e,r,t,i,a){var n={};return Object.keys(i).forEach(function(e){n[e]=i[e]}),n.enumerable=!!n.enumerable,n.configurable=!!n.configurable,("value"in n||n.initializer)&&(n.writable=!0),n=t.slice().reverse().reduce(function(t,i){return i(e,r,t)||t},n),a&&void 0!==n.initializer&&(n.value=n.initializer?n.initializer.call(a):void 0,n.initializer=void 0),void 0===n.initializer?(Object.defineProperty(e,r,n),null):n}function O(e,r){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let h=(i=y("sap.fe.macros.messages.MessageFilter"),a=v({type:"string"}),n=v({type:"sap.ui.model.FilterOperator"}),l=v({type:"string"}),o=v({type:"string"}),i(u=(s=function(e){function r(){var r;for(var t=arguments.length,i=new Array(t),a=0;a<t;a++){i[a]=arguments[a]}r=e.call(this,...i)||this;d(r,"path",p,r);d(r,"operator",c,r);d(r,"value1",f,r);d(r,"value2",b,r);return r}g(r,e);return r}(r),p=z(s.prototype,"path",[a],{configurable:true,enumerable:true,writable:true,initializer:null}),c=z(s.prototype,"operator",[n],{configurable:true,enumerable:true,writable:true,initializer:function(){return t.Contains}}),f=z(s.prototype,"value1",[l],{configurable:true,enumerable:true,writable:true,initializer:null}),b=z(s.prototype,"value2",[o],{configurable:true,enumerable:true,writable:true,initializer:null}),s))||u);return h},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/messages/MessagePopover", ["sap/base/Log","sap/fe/base/ClassSupport","sap/fe/core/CommonUtils","sap/m/Link","sap/m/MessageItem","sap/m/MessagePopover","sap/ui/core/CustomData","sap/ui/core/Lib","sap/ui/core/Messaging","sap/ui/performance/trace/FESRHelper"],function(e,t,s,i,n,a,r,o,p,c){"use strict";var l,u;function g(e){return new Promise((t,s)=>{sap.ui.require([e],s=>{if(!(s&&s.__esModule)){s=s===null||!(typeof s==="object"&&e.endsWith("/library"))?{default:s}:s;Object.defineProperty(s,"__esModule",{value:true})}t(s)},e=>{s(e)})})}var d=t.defineUI5Class;function m(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,f(e,t)}function f(e,t){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},f(e,t)}let y=(l=d("sap.fe.macros.messages.MessagePopover"),l(u=function(t){function l(){return t.apply(this,arguments)||this}m(l,t);var u=l.prototype;u.init=function e(){a.prototype.init.apply(this);this.setModel(p.getMessageModel(),"message");this.bindAggregation("items",{path:"message>/",length:9999,template:new n({type:"{message>type}",title:"{message>message}",description:"{message>description}",markupDescription:true,longtextUrl:"{message>descriptionUrl}",subtitle:"{message>additionalText}",activeTitle:"{= ${message>controlIds}.length > 0 ? true : false}",link:this.getLinkForErrorExplanation(this)||undefined})});this.setGroupItems(true)};u.getLinkForErrorExplanation=function t(n){const a=s.getAppComponent(n);const p=a.getEnvironmentCapabilities();if(p.environmentCapabilities.ErrorExplanation){const t=new i({text:o.getResourceBundleFor("sap.fe.macros").getText("C_GENERATE_EXPLANATION"),icon:"sap-icon://ai",customData:[new r({key:"message",value:"{message>message}"}),new r({key:"description",value:"{message>description}"}),new r({key:"descriptionUrl",value:"{message>descriptionUrl}"}),new r({key:"code",value:"{message>code}"})],visible:"{= ${message>type} !== 'Information' }",press:async function(){try{await p.prepareFeature("ErrorExplanation");const{explain:e}=await g("ux/eng/fioriai/reuse/errorexplanation/ErrorExplanation");const t=a.getManifestEntry("sap.fiori")?.registrationIds;const s=t&&t.length>0?t.join(","):"";const i={version:1,fioriId:s,appName:a.getManifestEntry("sap.app")?.title||undefined,componentName:a.getManifestEntry("sap.app")?.id||undefined};const n={version:1,message:this.data("message"),code:this.data("code"),description:this.data("description"),descriptionUrl:this.data("descriptionUrl")};await e(i,n)}catch(t){e.error("Error explanation failed",t)}}});c.setSemanticStepname(t,"press","fe4:ee:explain");return t}else{return null}};return l}(a))||u);return y},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/microchart/MicroChart", ["sap/base/Log","sap/fe/base/ClassSupport","../MicroChart"],function(t,r,e){"use strict";var o,a;var s={};var c=r.defineUI5Class;function n(t,r){t.prototype=Object.create(r.prototype),t.prototype.constructor=t,i(t,r)}function i(t,r){return i=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,r){return t.__proto__=r,t},i(t,r)}let p=(o=c("sap.fe.macros.microchart.MicroChart"),o(a=function(r){function e(e,o){t.warning("You've consumed deprecated MicroChart class. Use sap.fe.macros.MicroChart instead");return r.call(this,e,o)||this}s=e;n(e,r);return e}(e))||a);s=p;return s},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/microchart/MicroChartContainer", ["sap/base/Log","sap/fe/base/ClassSupport","sap/m/FlexBox","sap/m/Label","sap/m/library","sap/ui/core/Control","sap/ui/core/format/NumberFormat","sap/ui/model/odata/v4/ODataListBinding","sap/ui/model/odata/v4/ODataMetaModel","sap/ui/model/type/Date"],function(e,t,i,r,a,n,o,l,s,u){"use strict";var c,f,g,h,p,m,d,b,y,C,P,L,v,A,_,w,M,T,V,z,O,x,B,D,N,R,I,E,S,F,$,j,q;var U=t.property;var k=t.event;var Y=t.defineUI5Class;var G=t.aggregation;function X(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function H(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Q(e,t)}function Q(e,t){return Q=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Q(e,t)}function J(e,t,i,r,a){var n={};return Object.keys(r).forEach(function(e){n[e]=r[e]}),n.enumerable=!!n.enumerable,n.configurable=!!n.configurable,("value"in n||n.initializer)&&(n.writable=!0),n=i.slice().reverse().reduce(function(i,r){return r(e,t,i)||i},n),a&&void 0!==n.initializer&&(n.value=n.initializer?n.initializer.call(a):void 0,n.initializer=void 0),void 0===n.initializer?(Object.defineProperty(e,t,n),null):n}function K(e,t){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}const W=a.ValueColor;let Z=(c=Y("sap.fe.macros.microchart.MicroChartContainer"),f=U({type:"boolean",defaultValue:false}),g=U({type:"string",defaultValue:undefined}),h=U({type:"string[]",defaultValue:[]}),p=U({type:"string",defaultValue:undefined}),m=U({type:"string[]",defaultValue:[]}),d=U({type:"int",defaultValue:undefined}),b=U({type:"int",defaultValue:1}),y=U({type:"int",defaultValue:undefined}),C=U({type:"string",defaultValue:""}),P=U({type:"string",defaultValue:""}),L=U({type:"string",defaultValue:""}),v=k(),A=G({type:"sap.ui.core.Control",multiple:false,isDefault:true}),_=G({type:"sap.m.Label",multiple:false}),w=G({type:"sap.ui.core.Control",multiple:true}),c(M=(T=function(t){function a(e,i){var r;r=t.call(this,e,i)||this;X(r,"showOnlyChart",V,r);X(r,"uomPath",z,r);X(r,"measures",O,r);X(r,"dimension",x,r);X(r,"dataPointQualifiers",B,r);X(r,"measurePrecision",D,r);X(r,"measureScale",N,r);X(r,"dimensionPrecision",R,r);X(r,"chartTitle",I,r);X(r,"chartDescription",E,r);X(r,"calendarPattern",S,r);X(r,"onTitlePressed",F,r);X(r,"microChart",$,r);X(r,"_uomLabel",j,r);X(r,"microChartTitle",q,r);return r}H(a,t);a.render=function e(t,a){t.openStart("div",a);t.openEnd();if(!a.showOnlyChart){const e=a.microChartTitle;if(e){e.forEach(function(e){t.openStart("div");t.openEnd();t.renderControl(e);t.close("div")})}t.openStart("div");t.openEnd();const i=new r({text:a.chartDescription});t.renderControl(i);t.close("div")}const n=a.microChart;if(n){n.addStyleClass("sapUiTinyMarginTopBottom");t.renderControl(n);if(!a.showOnlyChart&&a.uomPath){const e=a._checkIfChartRequiresRuntimeLabels()?undefined:{text:{path:a.uomPath}},n=new r(e),o=new i({alignItems:"Start",justifyContent:"End",items:[n]});t.renderControl(o);a.setAggregation("_uomLabel",n)}}t.close("div")};var n=a.prototype;n.onBeforeRendering=function e(){const t=this._getListBindingForRuntimeLabels();if(t){t.detachEvent("change",this._setRuntimeChartLabelsAndUnitOfMeasure,this);this._olistBinding=undefined}};n.onAfterRendering=function e(){const t=this._getListBindingForRuntimeLabels();if(!this._checkIfChartRequiresRuntimeLabels()){return}if(t){t.attachEvent("change",undefined,this._setRuntimeChartLabelsAndUnitOfMeasure,this);this._olistBinding=t}};n.setShowOnlyChart=function e(t){if(!t&&this._olistBinding){this._setChartLabels()}this.setProperty("showOnlyChart",t,false)};n._checkIfChartRequiresRuntimeLabels=function e(){const t=this.microChart;if(t){return Boolean(t.isA("sap.suite.ui.microchart.AreaMicroChart")||t.isA("sap.suite.ui.microchart.ColumnMicroChart")||t.isA("sap.suite.ui.microchart.LineMicroChart")||t.isA("sap.suite.ui.microchart.ComparisonMicroChart"))}return false};n._checkForChartLabelAggregations=function e(){const t=this.microChart;if(t){return Boolean(t.isA("sap.suite.ui.microchart.AreaMicroChart")&&t.getAggregation("firstYLabel")&&t.getAggregation("lastYLabel")&&t.getAggregation("firstXLabel")&&t.getAggregation("lastXLabel")||t.isA("sap.suite.ui.microchart.ColumnMicroChart")&&t.getAggregation("leftTopLabel")&&t.getAggregation("rightTopLabel")&&t.getAggregation("leftBottomLabel")&&t.getAggregation("rightBottomLabel")||t.isA("sap.suite.ui.microchart.LineMicroChart"))}return false};n._getListBindingForRuntimeLabels=function e(){const t=this.microChart;let i;if(t){if(t.isA("sap.suite.ui.microchart.AreaMicroChart")){const e=t.getChart();i=e&&e.getBinding("points")}else if(t.isA("sap.suite.ui.microchart.ColumnMicroChart")){i=t.getBinding("columns")}else if(t.isA("sap.suite.ui.microchart.LineMicroChart")){const e=t.getLines();i=e&&e.length&&e[0].getBinding("points")}else if(t.isA("sap.suite.ui.microchart.ComparisonMicroChart")){i=t.getBinding("data")}}return i instanceof l?i:false};n._setRuntimeChartLabelsAndUnitOfMeasure=async function e(){const t=this._olistBinding,i=t?.getContexts(),r=this.measures,a=this.dimension,n=this.uomPath,o=this.microChart,l=this._uomLabel;if(l&&n&&i&&i.length&&!this.showOnlyChart){const e=await i[0].requestProperty(n);l.setText(e)}else if(l){l.setText("")}if(!this._checkForChartLabelAggregations()){return}if(!i||!i.length){this._setChartLabels();return}const s=i[0],u=i[i.length-1],c=[],f=o?.isA("sap.suite.ui.microchart.LineMicroChart"),g=await s.requestProperty(a),h=await u.requestProperty(a);let p,m,d={value:Infinity},b={value:-Infinity},y={value:Infinity},C={value:-Infinity};d=g==undefined?d:{context:s,value:g};b=h==undefined?b:{context:u,value:h};if(r?.length){for(let e=0;e<r.length;e++){const t=r[e];p=await s.requestProperty(t);m=await u.requestProperty(t);C=m>C.value?{context:u,value:m,index:f?e:0}:C;y=p<y.value?{context:s,value:p,index:f?e:0}:y;if(f){c.push(this._getCriticalityFromPoint({context:u,value:m,index:e}))}}}this._setChartLabels(y.value,C.value,d.value,b.value);if(f){const e=await Promise.all(c);if(e?.length){const t=o.getLines();t.forEach(function(t,i){t.setColor(e[i])})}}else{await this._setChartLabelsColors(C,y)}};n._setChartLabelsColors=async function e(t,i){const r=this.microChart;const a=await Promise.all([this._getCriticalityFromPoint(i),this._getCriticalityFromPoint(t)]);if(r?.isA("sap.suite.ui.microchart.AreaMicroChart")){r.getAggregation("firstYLabel").setProperty("color",a[0],true);r.getAggregation("lastYLabel").setProperty("color",a[1],true)}else if(r?.isA("sap.suite.ui.microchart.ColumnMicroChart")){r.getAggregation("leftTopLabel").setProperty("color",a[0],true);r.getAggregation("rightTopLabel").setProperty("color",a[1],true)}};n._setChartLabels=function e(t,i,r,a){const n=this.microChart;t=this._formatDateAndNumberValue(t,this.measurePrecision,this.measureScale);i=this._formatDateAndNumberValue(i,this.measurePrecision,this.measureScale);r=this._formatDateAndNumberValue(r,this.dimensionPrecision,undefined,this.calendarPattern);a=this._formatDateAndNumberValue(a,this.dimensionPrecision,undefined,this.calendarPattern);if(n?.isA("sap.suite.ui.microchart.AreaMicroChart")){n.getAggregation("firstYLabel").setProperty("label",t,false);n.getAggregation("lastYLabel").setProperty("label",i,false);n.getAggregation("firstXLabel").setProperty("label",r,false);n.getAggregation("lastXLabel").setProperty("label",a,false)}else if(n?.isA("sap.suite.ui.microchart.ColumnMicroChart")){n.getAggregation("leftTopLabel").setProperty("label",t,false);n.getAggregation("rightTopLabel").setProperty("label",i,false);n.getAggregation("leftBottomLabel").setProperty("label",r,false);n.getAggregation("rightBottomLabel").setProperty("label",a,false)}else if(n?.isA("sap.suite.ui.microchart.LineMicroChart")){n.setProperty("leftTopLabel",t,false);n.setProperty("rightTopLabel",i,false);n.setProperty("leftBottomLabel",r,false);n.setProperty("rightBottomLabel",a,false)}};n._getCriticalityFromPoint=async function e(t){if(t?.context){const e=this.getModel()&&this.getModel().getMetaModel(),i=this.dataPointQualifiers,r=e instanceof s&&t.context.getPath()&&e.getMetaPath(t.context.getPath());if(e&&typeof r==="string"){const a=await e.requestObject(`${r}/@${"com.sap.vocabularies.UI.v1.DataPoint"}${t.index!==undefined&&i[t.index]?`#${i[t.index]}`:""}`);if(a){let e=W.Neutral;const i=t.context;if(a.Criticality){e=this._criticality(a.Criticality,i)}else if(a.CriticalityCalculation){const r=a.CriticalityCalculation;const n=function(e){let t;if(e?.$Path){t=i.getObject(e.$Path)}else if(e?.hasOwnProperty("$Decimal")){t=e.$Decimal}return t};e=this._criticalityCalculation(r.ImprovementDirection.$EnumMember,t.value,n(r.DeviationRangeLowValue),n(r.ToleranceRangeLowValue),n(r.AcceptanceRangeLowValue),n(r.AcceptanceRangeHighValue),n(r.ToleranceRangeHighValue),n(r.DeviationRangeHighValue))}return e}}}return Promise.resolve(W.Neutral)};n._criticality=function t(i,r){let a,n;if(i.$Path){a=r.getObject(i.$Path);if(a==="Negative"||a.toString()==="1"){n=W.Error}else if(a==="Critical"||a.toString()==="2"){n=W.Critical}else if(a==="Positive"||a.toString()==="3"){n=W.Good}}else if(i.$EnumMember){a=i.$EnumMember;if(a.includes("com.sap.vocabularies.UI.v1.CriticalityType/Negative")){n=W.Error}else if(a.includes("com.sap.vocabularies.UI.v1.CriticalityType/Positive")){n=W.Good}else if(a.includes("com.sap.vocabularies.UI.v1.CriticalityType/Critical")){n=W.Critical}}if(n===undefined){e.warning("Case not supported, returning the default Value Neutral");return W.Neutral}return n};n._criticalityCalculation=function t(i,r,a,n,o,l,s,u){let c;a=a==undefined?-Infinity:a;n=n==undefined?a:n;o=o==undefined?n:o;u=u==undefined?Infinity:u;s=s==undefined?u:s;l=l==undefined?s:l;if(i.includes("Minimize")){if(r<=l){c=W.Good}else if(r<=s){c=W.Neutral}else if(r<=u){c=W.Critical}else{c=W.Error}}else if(i.includes("Maximize")){if(r>=o){c=W.Good}else if(r>=n){c=W.Neutral}else if(r>=a){c=W.Critical}else{c=W.Error}}else if(i.includes("Target")){if(r<=l&&r>=o){c=W.Good}else if(r>=n&&r<o||r>l&&r<=s){c=W.Neutral}else if(r>=a&&r<n||r>s&&r<=u){c=W.Critical}else{c=W.Error}}if(c===undefined){e.warning("Case not supported, returning the default Value Neutral");return W.Neutral}return c};n._formatDateAndNumberValue=function e(t,i,r,a){if(a){return this._getSemanticsValueFormatter(a).formatValue(t,"string")}else if(!isNaN(t)){return this._getLabelNumberFormatter(i,r).format(t)}return t};n._getSemanticsValueFormatter=function e(t){if(!this._oDateType){this._oDateType=new u({style:"short",source:{pattern:t}})}return this._oDateType};n._getLabelNumberFormatter=function e(t,i){return o.getFloatInstance({style:"short",showScale:true,precision:typeof t==="number"&&t||0,decimals:typeof i==="number"&&i||0})};n.getAccessibilityInfo=function e(){return this.microChart?.getAccessibilityInfo()};return a}(n),V=J(T.prototype,"showOnlyChart",[f],{configurable:true,enumerable:true,writable:true,initializer:null}),z=J(T.prototype,"uomPath",[g],{configurable:true,enumerable:true,writable:true,initializer:null}),O=J(T.prototype,"measures",[h],{configurable:true,enumerable:true,writable:true,initializer:null}),x=J(T.prototype,"dimension",[p],{configurable:true,enumerable:true,writable:true,initializer:null}),B=J(T.prototype,"dataPointQualifiers",[m],{configurable:true,enumerable:true,writable:true,initializer:null}),D=J(T.prototype,"measurePrecision",[d],{configurable:true,enumerable:true,writable:true,initializer:null}),N=J(T.prototype,"measureScale",[b],{configurable:true,enumerable:true,writable:true,initializer:null}),R=J(T.prototype,"dimensionPrecision",[y],{configurable:true,enumerable:true,writable:true,initializer:null}),I=J(T.prototype,"chartTitle",[C],{configurable:true,enumerable:true,writable:true,initializer:null}),E=J(T.prototype,"chartDescription",[P],{configurable:true,enumerable:true,writable:true,initializer:null}),S=J(T.prototype,"calendarPattern",[L],{configurable:true,enumerable:true,writable:true,initializer:null}),F=J(T.prototype,"onTitlePressed",[v],{configurable:true,enumerable:true,writable:true,initializer:null}),$=J(T.prototype,"microChart",[A],{configurable:true,enumerable:true,writable:true,initializer:null}),j=J(T.prototype,"_uomLabel",[_],{configurable:true,enumerable:true,writable:true,initializer:null}),q=J(T.prototype,"microChartTitle",[w],{configurable:true,enumerable:true,writable:true,initializer:null}),T))||M);return Z},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/microchart/MicroChartHelper", ["sap/base/Log","sap/fe/base/BindingToolkit","sap/fe/core/templating/DataModelPathHelper","sap/fe/macros/CommonHelper","sap/m/library","sap/ui/core/format/NumberFormat","../field/FieldTemplating","sap/fe/core/converters/MetaModelConverter","sap/fe/core/formatters/ValueFormatter","sap/fe/core/templating/CriticalityFormatters","sap/fe/base/jsx-runtime/jsx"],function(e,t,a,r,i,n,o,s,l,u,c){"use strict";function h(e){return new Promise((t,a)=>{sap.ui.require([e],a=>{if(!(a&&a.__esModule)){a=a===null||!(typeof a==="object"&&e.endsWith("/library"))?{default:a}:a;Object.defineProperty(a,"__esModule",{value:true})}t(a)},e=>{a(e)})})}var g=u.buildExpressionForCriticalityColorMicroChart;var d=o.getValueBinding;var f=i.ValueColor;var m=a.enhanceDataModelPath;var p=t.pathInModel;var C=t.getExpressionFromAnnotation;var y=t.formatWithTypeInformation;var M=t.formatResult;var V=t.constant;var v=t.compileExpression;const b={getThresholdColor:function(e,t){const a=t.context.getPath();if(a.includes("DeviationRange")){return f.Error}else if(a.includes("ToleranceRange")){return f.Critical}return f.Neutral},getMeasurePropertyPaths:function(t,a,i,n){const o=[];if(!a){e.warning("FE:Macro:MicroChart : Couldn't find annotations for the DataPoint.");return undefined}for(const s in t.Measures){const l=r.getMeasureAttributeIndex(s,t,n),u=l>-1&&t.MeasureAttributes&&t.MeasureAttributes[l];let c;if(n){c=u&&u?.DataPoint?.$target||undefined}else{c=u&&a&&a[u.DataPoint?.$AnnotationPath]}const h=n?c?.Value.path:c?.Value.$Path;if(h){o.push(h)}else{e.warning(`FE:Macro:MicroChart : Couldn't find DataPoint(Value) measure for the measureAttribute ${i} MicroChart.`)}}return n?o:o.join(",")},getHiddenPathExpression:function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++){t[a]=arguments[a]}if(!t[0]&&!t[1]){return true}if(t[0]===true||t[1]===true){return false}const r=[];[].forEach.call(t,function(e){if(e&&e.$Path){r.push("%{"+e.$Path+"}")}});return r.length?"{= "+r.join(" || ")+" === true ? false : true }":false},isNotAlwaysHidden:function(e,t,a,r,i){if(r===true){this.logError(e,t)}if(i===true){this.logError(e,a)}if(r===undefined&&i===undefined){return true}else{return(!r||r.$Path)&&r!==undefined||(!i||i.$Path)&&i!==undefined?true:false}},logError:function(t,a){e.error(`Measure Property ${a?.$Path} is hidden for the ${t} Micro Chart`)},formatDecimal:function(e,t,a,r){if(e){const r=[],i=["style: 'short'"];const n=typeof a==="number"?a:t&&t?.$Scale||1;if(t.$Nullable!=undefined){r.push("nullable: "+t.$Nullable)}if(t.$Precision!=undefined){i.push("precision: "+(t.$Precision?t.$Precision:"1"))}r.push("scale: "+(n==="variable"?"'"+n+"'":n));return"{ path: '"+e+"'"+", type: 'sap.ui.model.odata.type.Decimal', constraints: { "+r.join(",")+" }, formatOptions: { "+i.join(",")+" } }"}else if(r){const e=typeof a==="number"?a:1;return n.getFloatInstance({style:"short",preserveDecimals:true,decimals:e}).format(r)}},getSelectParameters:function(e,t,a,r,i,n){const o=[],s=[];const l=n?{}:[];if(t){t.forEach(e=>{s.push(`${e.Property}${e.Descending?" desc":""}`)})}if(r){o.push(r)}else if(a){const e=["ImprovementDirection","DeviationRangeLowValue","ToleranceRangeLowValue","AcceptanceRangeLowValue","AcceptanceRangeHighValue","ToleranceRangeHighValue","DeviationRangeHighValue"];Object.keys(a).forEach(t=>{if(e.includes(t)&&a[t].path){o.push(a[t].path)}})}i?.forEach(e=>{if(e){o.push(e)}});if(n){if(e){l.$$groupId=e}if(o.length){l.$select=o}if(s.length){l.$orderby=s}return l}else{if(e){l.push(`$$groupId : '${e}'`)}if(o.length){l.push(`$select : '${o.join(",")}'`)}if(s.length){l.push(`$orderby : '${s.join(",")}'`)}return l.join(",")}},getDataPointQualifiersForMeasures:function(t,a,r,i){const n=[],o=t.MeasureAttributes,s=function(t){let s;if(a){o?.forEach(function(e){let r,o;if(i){r=e.Measure?.value;o=t.value;if(r==o){n.push(e?.DataPoint?.$target?.qualifier)}}else{r=e.Measure?.$PropertyPath;o=t.$PropertyPath;if(r===o&&e.DataPoint?.$AnnotationPath){const t=e?.DataPoint?.$AnnotationPath;if(a[t]){s=t?.split("#")[1];if(s){n.push(s)}}}}})}if(s===undefined){e.warning(`FE:Macro:MicroChart : Couldn't find DataPoint(Value) measure for the measureAttribute for ${r} MicroChart.`)}};if(!a){e.warning(`FE:Macro:MicroChart : Couldn't find annotations for the DataPoint ${r} MicroChart.`)}t.Measures?.forEach(s);return i?n:n.join(",")},logWarning:function(t,a){for(const r in a){if(!a[r]){e.warning(`${r} parameter is missing for the ${t} Micro Chart`)}}},getDisplayValueForMicroChart:function(e,t,a,r){const i=e.ValueFormat&&e.ValueFormat.NumberOfFractionalDigits;if(t){return b.formatDecimal(t["$Path"],a,i)}return b.formatDecimal(e.Value["$Path"],r,i)},shouldRenderMicroChart:function(e){const t=["UI.ChartType/Area","UI.ChartType/Column","UI.ChartType/Bar"],a=e.ChartType,r=e.MeasureAttributes[0].DataPoint?.$target,i=r?.Value,n=i?.annotations?.UI?.Hidden,o=e?.Dimensions&&e?.Dimensions[0],s=t.includes(a)?i&&o:i;if(a==="UI.ChartType/Pie"){const e=r&&r.MaximumValue;const t=e?.annotations?.UI?.Hidden;return i&&e&&b.isNotAlwaysHidden(a,i,e,n,t)}return s&&b.isNotAlwaysHidden(a,i,n)},shouldMicroChartRender:function(e,t,a,r,i){const n=["Area","Column","Comparison"],o=t&&t.Value,s=a&&a["com.sap.vocabularies.UI.v1.Hidden"],l=r&&r.Dimensions&&r.Dimensions[0],u=n.includes(e)?o&&l:o;if(e==="Harvey"){const e=t&&t.MaximumValue,a=i&&i["com.sap.vocabularies.UI.v1.Hidden"];return o&&e&&b.isNotAlwaysHidden("Bullet",o,e,s,a)}return u&&b.isNotAlwaysHidden(e,o,undefined,s)},getDataPointQualifiersForMicroChart:function(e){if(!e.includes("com.sap.vocabularies.UI.v1.DataPoint")){return undefined}return e.split("#")[1]??""},getColorPaletteForMicroChart:function(e){return e.Criticality?undefined:"sapUiChartPaletteQualitativeHue1, sapUiChartPaletteQualitativeHue2, sapUiChartPaletteQualitativeHue3,          sapUiChartPaletteQualitativeHue4, sapUiChartPaletteQualitativeHue5, sapUiChartPaletteQualitativeHue6, sapUiChartPaletteQualitativeHue7,          sapUiChartPaletteQualitativeHue8, sapUiChartPaletteQualitativeHue9, sapUiChartPaletteQualitativeHue10, sapUiChartPaletteQualitativeHue11"},getMeasureScaleForMicroChart:function(e){if(e.ValueFormat&&e.ValueFormat.NumberOfFractionalDigits){return e.ValueFormat.NumberOfFractionalDigits.valueOf()}if(e.Value&&e.Value["$Path"]&&e.Value["$Path"]["$Scale"]){return e.Value["$Path"]["$Scale"]}return 1},getBindingExpressionForMicrochart:function(e,t,a,r,i,n){const o=["UI.ChartType/Bullet","UI.ChartType/Pie","UI.ChartType/Donut","Radial","Bullet","Harvey"];if(!e||o.includes(e)){const o=r["$isCollection"]||r["$kind"]==="EntitySet";const s=o?"":i;let l=b.getUOMPathForMicrochart(a.showOnlyChart,t);let u="";switch(e){case"Radial":case"UI.ChartType/Donut":l="";break;case"Harvey":case"UI.ChartType/Pie":u=n?.targetObject?.Criticality?n.targetObject?.Criticality?.path:"";break}const c=b.getSelectParameters(a.batchGroupId,undefined,undefined,u,[l]);return`{ path: '${s}'`+`, parameters : {${c}} }`}else{return a.batchGroupId?"{path:'', parameters : { $$groupId: '"+a.batchGroupId+"'} }":""}},getUOMPathForMicrochart:function(e,t,a){const r=["UI.ChartType/Bullet","UI.ChartType/Pie","UI.ChartType/Area","UI.ChartType/Column","UI.ChartType/Line","UI.ChartType/Bar"];if(!a||a&&r.includes(a)){return t&&!e?t.targetObject?.annotations?.Measures?.ISOCurrency?.path||t.targetObject?.annotations?.Measures?.Unit?.path||"":""}else{return undefined}},getAggregationForMicrochart:function(e,t,a,r,i,n,o,s,l){let u=t["$kind"]==="EntitySet"?"/":"";u=u+r;const c="";let h;let g=a.targetObject?.Criticality?a.targetObject?.Criticality?.path:"";const d=b.getUOMPathForMicrochart(false,n);let f="";let m="";if(i?.targetObject){i=i.targetObject}if(i?.$target?.annotations?.Common?.Text){m=i?.$target?.annotations?.Common?.Text?.path}else if(i){m=i?.value}switch(e){case"Points":case"UI.ChartType/Area":h=a?.targetObject?.CriticalityCalculation;f=a?.targetObject?.TargetValue?.path;g="";break;case"Columns":case"UI.ChartType/Column":h=a?.targetObject?.CriticalityCalculation;break;case"LinePoints":case"UI.ChartType/Line":g="";break;case"Bars":case"UI.ChartType/BarStacked":m="";break}const p=b.getSelectParameters(c,o,h,g,[d,f,m,s||""],l);if(l){return{path:u,parameters:p}}return`{path:'${u}'`+`, parameters : {${p}} }`},getCurrencyOrUnit:function(e){if(e[`@${"Org.OData.Measures.V1.ISOCurrency"}`]){return e[`@${"Org.OData.Measures.V1.ISOCurrency"}`].$Path||e[`@${"Org.OData.Measures.V1.ISOCurrency"}`]}if(e[`@${"Org.OData.Measures.V1.Unit"}`]){return e[`@${"Org.OData.Measures.V1.Unit"}`].$Path||e[`@${"Org.OData.Measures.V1.Unit"}`]}return""},getCalendarPattern:function(e,t,a){if(a){return b.checkPatternForRuntimeInstance(t,e)}else{return b.checkPatternForTemplateTimeInstance(t,e)}},checkPatternForRuntimeInstance:function(e,t){return e.Common?.IsCalendarYear&&"yyyy"||e.Common?.IsCalendarQuarter&&"Q"||e.Common?.IsCalendarMonth&&"MM"||e.Common?.IsCalendarWeek&&"ww"||e.Common?.IsCalendarDate&&"yyyyMMdd"||e.Common?.IsCalendarYearMonth&&"yyyyMM"||t==="Edm.Date"&&"yyyy-MM-dd"||undefined},checkPatternForTemplateTimeInstance:function(e,t){return e[`@${"com.sap.vocabularies.Common.v1.IsCalendarYear"}`]&&"yyyy"||e[`@${"com.sap.vocabularies.Common.v1.IsCalendarQuarter"}`]&&"Q"||e[`@${"com.sap.vocabularies.Common.v1.IsCalendarMonth"}`]&&"MM"||e[`@${"com.sap.vocabularies.Common.v1.IsCalendarWeek"}`]&&"ww"||e[`@${"com.sap.vocabularies.Common.v1.IsCalendarDate"}`]&&"yyyyMMdd"||e[`@${"com.sap.vocabularies.Common.v1.IsCalendarYearMonth"}`]&&"yyyyMM"||t==="Edm.Date"&&"yyyy-MM-dd"||undefined},getX:function(e,t,a){const r=a&&b.getCalendarPattern(t,a);if(r&&["Edm.Date","Edm.String"].some(e=>e===t)){return v(M([p(e),V(r),V(e)],"._formatters.ValueFormatter#formatStringDimension"))}},getExpressionWithType(e,t){if(e&&e.$target){const a=y(e.$target,C(e));a.formatOptions={...a.formatOptions,...t};return v(a)}},calculateColorBinding(e,t,a){let i;if(e.Criticality||!e.Criticality&&!e.CriticalityCalculation){i=a}else if(e.CriticalityCalculation){const a=e.CriticalityCalculation;const n=a?.ImprovementDirection;const o=a?.DeviationRangeLowValue?v(C(a?.DeviationRangeLowValue)):0;const s=a?.ToleranceRangeLowValue?v(C(a?.ToleranceRangeLowValue)):0;const l=a?.AcceptanceRangeLowValue?v(C(a?.AcceptanceRangeLowValue)):0;const u=a?.AcceptanceRangeHighValue&&v(C(a?.AcceptanceRangeHighValue));const c=a?.ToleranceRangeHighValue&&v(C(a?.ToleranceRangeHighValue));const h=a?.DeviationRangeHighValue&&v(C(a?.DeviationRangeHighValue));i=r.getCriticalityCalculationBinding(n,t,o,s,l,u,c,h)}return i},async getBulletMicroChartAggregations(e,t){const a=(await h("sap/suite/ui/microchart/BulletMicroChartData")).default;const r=v(C(e.Value));const i=[];const n=this.calculateColorBinding(e,r,t);if(e.CriticalityCalculation){const t=e.CriticalityCalculation;const r=t?.ImprovementDirection;if(!r.includes("Minimize")&&t?.DeviationRangeLowValue){i.push(c(a,{value:v(C(t?.DeviationRangeLowValue)),color:"Error"}))}if(!r.includes("Minimize")&&t?.ToleranceRangeLowValue){i.push(c(a,{value:v(C(t?.ToleranceRangeLowValue)),color:"Critical"}))}if(!r.includes("Maximize")&&t?.ToleranceRangeHighValue){i.push(c(a,{value:v(C(t?.ToleranceRangeHighValue)),color:"Critical"}))}if(!r.includes("Maximize")&&t?.DeviationRangeHighValue){i.push(c(a,{value:v(C(t?.DeviationRangeHighValue)),color:"Error"}))}}const o=c(a,{value:r,color:n});return{actual:o,thresholds:i}},async getStackMicroChartAggregations(e,t,a){const r=(await h("sap/suite/ui/microchart/StackedBarMicroChartBar")).default;const i=this.getExpressionWithType(e.Value);const n=a;const o=t?.targetObject?.annotations?.Common?.Text?this.getExpressionWithType(t?.targetObject?.annotations?.Common?.Text):undefined;return{bars:c(r,{value:i,displayValue:o,valueColor:n})}},async getHarveyMicroChartAggregations(e,t){const a=(await h("sap/suite/ui/microchart/HarveyBallMicroChartItem")).default;const r=this.getExpressionWithType(e.Value,{style:"short"});const i=this.getExpressionWithType(e.Value);const n=t;return{items:c(a,{formattedLabel:true,fractionLabel:r,fraction:i,color:n})}},async getComparisonMicroChartAggregations(e,t,a){const r=(await h("sap/suite/ui/microchart/ComparisonMicroChartData")).default;const i=v(C(e.Value));const n=this.getExpressionWithType(e.Value,{style:"short"});const o=a.Dimensions[0].$target?.annotations.Common?.Text;const s=o?v(C(o)):v(p(a.Dimensions[0].value));return c(r,{value:i,color:t,title:s,displayValue:n})},async getColumnMicroChartAggregations(e,t,a){const r=(await h("sap/suite/ui/microchart/ColumnMicroChartData")).default;const i=(await h("sap/suite/ui/microchart/ColumnMicroChartLabel")).default;const n={};const o=v(C(e.Value));const s=this.calculateColorBinding(e,o,t);n.columns=c(r,{value:o,color:s});if(!a){n.leftBottomLabel=c(i,{});n.leftTopLabel=c(i,{});n.rightBottomLabel=c(i,{});n.rightTopLabel=c(i,{})}return n},async getLineMicroChartAggragations(e,t,a){const r=(await h("sap/suite/ui/microchart/LineMicroChartLine")).default;const i=(await h("sap/suite/ui/microchart/LineMicroChartPoint")).default;const n=m(e,t.Dimensions[0].value);const o=t.Measures;const s=[];for(let l=0;l<o.length;l++){const o=m(e,t?.MeasureAttributes[l]?.DataPoint?.value);const u=m(e,t.Measures[l].value);const h=b.getAggregationForMicrochart("LinePoints",a?.getObject(),o,a?.getObject("@sapui.name"),t.Dimensions[0],u,e?.targetObject?.SortOrder,undefined,true);const g=this.getXData(n,e);const d=v(C(o.targetObject?.Value));s.push(c(r,{points:h,children:{points:c(i,{x:g,y:d})}}))}return{lines:s}},getXData(e,t){let a;const r=e?.targetObject?.type;const i=e.targetObject?.annotations;if(r==="Edm.Date"||e.targetObject?.type==="Edm.String"&&b.getCalendarPattern(r,e.targetObject?.annotations,true)){const t=e?.targetObject?.name;const n=i&&b.getCalendarPattern(r,i,true);if(n&&["Edm.Date","Edm.String"].some(e=>e===r)){a=v(M([p(t),n,t],l.formatStringDimension))}}else{e.contextLocation=t;a=d(e,{})}return a},async getAreaMicroChartAggregations(e,t,a,r){const i=(await h("sap/suite/ui/microchart/AreaMicroChartItem")).default;const n=(await h("sap/suite/ui/microchart/AreaMicroChartPoint")).default;const o=(await h("sap/suite/ui/microchart/AreaMicroChartLabel")).default;const l=e?.MeasureAttributes[0]?.DataPoint?.$target;const u=m(t,e.Measures[0].value);const g=m(t,e.Dimensions[0].value);const d=m(t,e?.MeasureAttributes[0]?.DataPoint?.value);const f=s.getInvolvedDataModelObjects(a);const p=(r,o,s)=>{let l;if(s){l=b.getAggregationForMicrochart("Points",a?.getObject(),d,a?.getObject("@sapui.name"),e.Dimensions[0],u,t?.targetObject?.SortOrder,"",true)}else{l={path:(f.targetObject?._type==="EntitySet"?"/":"")+f.targetObject?.name}}return c(i,{color:o,points:l,children:{points:c(n,{x:M,y:v(C(r))})}})};const y={};const M=this.getXData(g,t);y.chart=p(l.Value,undefined,true);y.target=p(l.TargetValue);if(!r){y.firstXLabel=c(o,{});y.firstYLabel=c(o,{});y.lastXLabel=c(o,{});y.lastYLabel=c(o,{})}const V=d?.targetObject?.CriticalityCalculation?.ImprovementDirection;if(V==="UI.ImprovementDirectionType/Minimize"){y.minThreshold=p(l?.CriticalityCalculation?.ToleranceRangeHighValue,"Good");y.maxThreshold=p(l?.CriticalityCalculation?.DeviationRangeHighValue,"Error")}else if(V==="UI.ImprovementDirectionType/Maximize"){y.minThreshold=p(l?.CriticalityCalculation?.DeviationRangeLowValue,"Error");y.maxThreshold=p(l?.CriticalityCalculation?.ToleranceRangeLowValue,"Good")}else if(V==="UI.ImprovementDirectionType/Target"){y.minThreshold=p(l?.CriticalityCalculation?.DeviationRangeLowValue,"Error");y.maxThreshold=p(l?.CriticalityCalculation?.DeviationRangeHighValue,"Error");y.innerMinThreshold=p(l?.CriticalityCalculation?.ToleranceRangeLowValue,"Good");y.innerMaxThreshold=p(l?.CriticalityCalculation?.ToleranceRangeHighValue,"Good")}return y},getBulletMicroChartProperties(e,t){e.targetValue=t.TargetValue?v(C(t.TargetValue)):undefined;e.forecastValue=t.ForecastValue?v(C(t.ForecastValue)):undefined;e.maxValue=t.MaximumValue?v(V(t.MaximumValue?.valueOf())):undefined;e.minValue=t.MinimumValue?v(V(t.MinimumValue?.valueOf())):undefined;e.actualValueLabel=t.Value?b.getExpressionWithType(t.Value,{style:"short"}):undefined;e.targetValueLabel=t.TargetValue?b.getExpressionWithType(t.TargetValue,{style:"short"}):undefined;e.showDeltaValue=t.Visualization&&t.Visualization==="UI.VisualizationType/DeltaBulletChart";e.mode=e.showDeltaValue?"Delta":undefined;return e},getRadialMicroChartProperties(e,t){e.total=t.TargetValue?v(C(t.TargetValue)):100;const a=v(C(t.Value));e.fraction=a;e.percentage=!t.TargetValue?a:undefined;const r=t.Criticality?g(t):undefined;e.valueColor=b.calculateColorBinding(t,a,r);return e},getHarveyMicroChartProperties(e,t){e.formattedLabel=true;e.totalLabel=b.getExpressionWithType(t.MaximumValue,{style:"short"});e.total=b.getExpressionWithType(t.MaximumValue);e.colorPalette=b.getColorPaletteForMicroChart(t);return e}};return b},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/multivaluefield/FormatOptions", ["sap/fe/base/ClassSupport","../controls/BuildingBlockObjectProperty"],function(e,r){"use strict";var t,i,n,a,l,o,u,s,c,p,b,f,y;var d={};var m=e.property;var v=e.defineUI5Class;function g(e,r,t,i){t&&Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(i):void 0})}function z(e,r){e.prototype=Object.create(r.prototype),e.prototype.constructor=e,w(e,r)}function w(e,r){return w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,r){return e.__proto__=r,e},w(e,r)}function O(e,r,t,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce(function(t,i){return i(e,r,t)||t},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer?(Object.defineProperty(e,r,a),null):a}function h(e,r){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let j=(t=v("sap.fe.macros.multivaluefield.FormatOptions"),i=m({type:"boolean"}),n=m({type:"boolean"}),a=m({type:"string"}),l=m({type:"string"}),o=m({type:"boolean"}),t(u=(s=function(e){function r(){var r;for(var t=arguments.length,i=new Array(t),n=0;n<t;n++){i[n]=arguments[n]}r=e.call(this,...i)||this;g(r,"showEmptyIndicator",c,r);g(r,"displayOnly",p,r);g(r,"displayMode",b,r);g(r,"measureDisplayMode",f,r);g(r,"isAnalytics",y,r);return r}d=r;z(r,e);return r}(r),c=O(s.prototype,"showEmptyIndicator",[i],{configurable:true,enumerable:true,writable:true,initializer:null}),p=O(s.prototype,"displayOnly",[n],{configurable:true,enumerable:true,writable:true,initializer:null}),b=O(s.prototype,"displayMode",[a],{configurable:true,enumerable:true,writable:true,initializer:null}),f=O(s.prototype,"measureDisplayMode",[l],{configurable:true,enumerable:true,writable:true,initializer:null}),y=O(s.prototype,"isAnalytics",[o],{configurable:true,enumerable:true,writable:true,initializer:null}),s))||u);d=j;return d},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/multivaluefield/MultiValueFieldDelegate", ["sap/fe/core/CommonUtils","sap/ui/mdc/field/FieldBaseDelegate","sap/ui/mdc/field/MultiValueFieldDelegate"],function(t,e,n){"use strict";return Object.assign({},n,{getDescription:function(t,n,i,s,o,a,u,d,l,c,r){if(i===undefined||i===null){return}return e.getDescription(t,n,i,s,o,a,undefined,undefined,l,c,r)},updateItems:async function(t,e,n){const i=n.getBinding("items");const s=i.isA("sap.ui.model.json.JSONListBinding");const o=i.isA("sap.ui.model.odata.v4.ODataListBinding");const a=n.getBindingInfo("items");const u=a.template.getBindingInfo("key");const d=a.template.getBindingInfo("description");const l=u&&u.parts[0].path;const c=d&&d.parts&&d.parts[0]&&d.parts[0].path;if(o){await this._updateItemsInODataListBinding(i,e,n,l,c)}else if(s){this._updateItemsInJsonListBinding(e,n,l,c)}},_updateItemsInODataListBinding:async function(e,n,i,s,o){const a=e.getCurrentContexts();const u=[];const d=t.getTargetView(i).getController();const l=n.map(function(t){return t.values[0]});const c=a.map(function(t){return t.getProperty(s)});const r=[];for(let t=0;t<a.length;t++){const e=a[t];if(!l.includes(e.getProperty(s))){r.push(d.editFlow.deleteMultipleDocuments([e],{controlId:i.getId(),noDialog:true}))}}for(const t of n){if(!c.includes(t.values[0])){const e={};if(s&&!s.includes("/")){e[s]=t.values[0];if(o&&!o.includes("/")&&o!==s){e[o]=t.values[1]}u.push(e)}}}if(u.length){r.push(d.editFlow.createMultipleDocuments(e,u,true,false))}return Promise.all(r)},_updateItemsInJsonListBinding:function(t,e,n,i){const s=e.getCustomData().find(t=>t.getKey()==="forwardedItemsBinding");const o=s?.getValue();o.splice(0);for(const e of t){const t={};t[n]=e.values[0];if(e.values[1]){t[i]=e.values[1]}o.push(t)}const a=s?.getBindingInfo("value")?.parts[0]?.model;s?.getModel(a)?.updateBindings(true)}})},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/multivaluefield/MultiValueFieldRuntime", ["../field/FieldRuntimeHelper"],function(e){"use strict";const n={handleChange:async function(n,t){const i=t.getSource(),r=i.getBindingContext().isTransient(),s=t.getParameter("promise")??Promise.resolve("");const o=e.getExtensionController(n);await o.editFlow.syncTask(s);if(r){return}o._sideEffects.prepareDeferredSideEffectsForField(t,true,s)},onValidateFieldGroup:async function(n,t){const i=e.getExtensionController(n);await i._sideEffects.handleFieldGroupChange(t)}};return n},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/notes/Notes.block", ["sap/base/Log","sap/fe/core/buildingBlocks/templating/BuildingBlockSupport","sap/fe/core/buildingBlocks/templating/BuildingBlockTemplateProcessor","sap/fe/core/buildingBlocks/templating/BuildingBlockTemplatingBase","sap/ui/core/Lib"],function(e,t,r,i,a){"use strict";var n,o,l,u,s,c,p;var b={};var f=r.xml;var m=t.defineBuildingBlock;var d=t.blockAttribute;function g(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function h(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,v(e,t)}function v(e,t){return v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},v(e,t)}function y(e,t,r,i,a){var n={};return Object.keys(i).forEach(function(e){n[e]=i[e]}),n.enumerable=!!n.enumerable,n.configurable=!!n.configurable,("value"in n||n.initializer)&&(n.writable=!0),n=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},n),a&&void 0!==n.initializer&&(n.value=n.initializer?n.initializer.call(a):void 0,n.initializer=void 0),void 0===n.initializer?(Object.defineProperty(e,t,n),null):n}function w(e,t){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let P=(n=m({name:"Notes",namespace:"sap.fe.macros",libraries:["sap/nw/core/gbt/notes/lib/reuse"]}),o=d({type:"string",isPublic:true,required:true}),l=d({type:"sap.ui.model.Context",isPublic:true,required:true}),n(u=(s=function(t){function r(){var e;for(var r=arguments.length,i=new Array(r),a=0;a<r;a++){i[a]=arguments[a]}e=t.call(this,...i)||this;g(e,"id",c,e);g(e,"contextPath",p,e);return e}b=r;h(r,t);r.load=async function t(){if(this.metadata.libraries){try{await Promise.all(this.metadata.libraries.map(async e=>a.load({name:e})))}catch(t){const r=`Couldn't load building block ${this.metadata.name} please make sure the following libraries are available ${this.metadata.libraries.join(",")}`;e.error(r);throw new Error(r)}}return Promise.resolve(this)};var i=r.prototype;i.getTemplate=async function e(){try{await r.load()}catch(e){return f`<m:Label text="${e}"/>`}return f`<fpm:CustomFragment xmlns:fpm="sap.fe.macros.fpm" id="${this.id}" contextPath="{contextPath>}" fragmentName="sap.nw.core.gbt.notes.lib.reuse.fe.fragment.NoteList"/>`};return r}(i),c=y(s.prototype,"id",[o],{configurable:true,enumerable:true,writable:true,initializer:null}),p=y(s.prototype,"contextPath",[l],{configurable:true,enumerable:true,writable:true,initializer:null}),s))||u);b=P;return b},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/quickView/QuickView", ["sap/fe/base/BindingToolkit","sap/fe/core/helpers/TypeGuards","sap/fe/core/templating/DataModelPathHelper","sap/fe/core/templating/SemanticObjectHelper","sap/fe/macros/field/FieldTemplating","sap/ui/core/CustomData","sap/ui/mdc/Link","sap/fe/base/jsx-runtime/jsx"],function(t,e,a,i,n,o,s,c){"use strict";var r={};var l=n.isUsedInNavigationWithQuickViewFacets;var u=i.getSemanticObjectsAndQualifierMap;var p=i.getSemanticObjectUnavailableActions;var m=i.getSemanticObjectMappings;var f=i.getPropertyWithSemanticObject;var d=i.getDynamicPathFromSemanticObject;var h=a.getRelativePaths;var g=a.getContextRelativeTargetObjectPath;var b=e.isProperty;var v=t.pathInModel;var P=t.compileExpression;let O=function(){function t(t,e,a,i){this.valueDataModelPath=t;this.metaPath=e;this.contextPath=a;this.semanticObject=i;this.computePropertiesAndPayload()}r=t;t.getRelativePathToQuickViewEntity=function t(e){let a;const i=this.getNavPropToQuickViewEntity(e);if(i){a=e.navigationProperties.reduce((t,a)=>{if(a.name!==i.name&&!e.contextLocation?.navigationProperties.find(t=>t.name===a.name)){return`${t}${a.name}/`}return t},"");a=`${a}${i.name}`}return a};t.getSemanticObjectMappingsForPayload=function t(e,a){const i=[];if(e!==undefined){for(const t of m(e)){const e=a[t.qualifier||""];if(e){i.push({semanticObject:e,items:t.map(t=>{switch(t.$Type){case"com.sap.vocabularies.Common.v1.SemanticObjectMappingConstant":throw new Error("Using SemanticObjectMappingConstant is not supported.");case"com.sap.vocabularies.Common.v1.SemanticObjectMappingType":default:return{key:t.LocalProperty.value,value:t.SemanticObjectProperty.valueOf()}}})})}}}return i};t.getSemanticObjectUnavailableActionsForPayload=function t(e,a){const i=[];if(e!==undefined){for(const t of p(e)){const e=a[t.qualifier||""];if(e){i.push({semanticObject:e,actions:t.map(t=>t)})}}}return i};t.addCustomSemanticObjectToSemanticObjectListForPayload=function t(e,a,i){if(a){e.splice(0,e.length);if(!a.startsWith("[")){if(!e.includes(a)){e.push(a);i["undefined"]=a}}else{for(const t of JSON.parse(a)){if(!e.includes(t)){e.push(t)}}}}};t.getNavPropToQuickViewEntity=function t(e){const a=e.targetObject;const i=e.targetEntityType.navigationProperties;let n=i.find(t=>t.referentialConstraint.some(e=>e.sourceProperty===a.name&&t.targetType.annotations.UI?.QuickViewFacets));if(!n&&e.contextLocation?.targetEntitySet!==e.targetEntitySet){const t=e.targetEntityType.annotations.Common?.SemanticKey||[];const i=t.some(t=>t.$target===a);const o=e.navigationProperties[e.navigationProperties.length-1];if((i||a.isKey)&&e.targetEntityType.annotations.UI?.QuickViewFacets){n=o}}return n};var e=t.prototype;e.computePropertiesAndPayload=function e(){const a=b(this.valueDataModelPath.targetObject)?this.valueDataModelPath.targetObject:undefined;const i=a&&l(this.valueDataModelPath,a)?"true":"false";const n=t.getRelativePathToQuickViewEntity(this.valueDataModelPath);let o=this.contextPath;o=o.endsWith("/")?o.slice(0,-1):o;const s=n?`${o}/${n}`:undefined;const c=n?P(v(n)):undefined;const r=f(this.valueDataModelPath);const{semanticObjectsList:p,qualifierMap:m}=u(r);const d=t.getSemanticObjectMappingsForPayload(r,m);const h=t.getSemanticObjectUnavailableActionsForPayload(r,m);t.addCustomSemanticObjectToSemanticObjectListForPayload(p,this.semanticObject,m);const O=a?.annotations.Common?.Label?.valueOf()||"";const j=Object.fromEntries(Object.entries(m).map(t=>{let[e,a]=t;const i=e===""?"SemanticObject":`SemanticObject#${e}`;return[i,a]}));this.qualifierMap=m;this.payload={semanticObjects:p,entityType:s,semanticObjectUnavailableActions:h,semanticObjectMappings:d,propertyPathLabel:O,contextPath:this.contextPath,dataField:s===undefined?this.metaPath:undefined,contact:undefined,dataFieldPropPath:g(this.valueDataModelPath),navigationPath:c,hasQuickViewFacets:i,qualifiers:j}};e.createContent=function t(){const e={name:"sap/fe/macros/quickView/QuickViewDelegate",payload:this.payload};const a=this.getAllCustomData(this.payload.semanticObjects,this.valueDataModelPath);return c(s,{delegate:e,children:a.length?{customData:a}:{}})};e.getCustomDataForSemanticObject=function t(e,a){if(d(e)){const t=Object.keys(this.qualifierMap)[a]===""?"":`#${Object.keys(this.qualifierMap)[a]}`;const i=`SemanticObject${t}`;return c(o,{value:e},i)}return};e.getAllCustomData=function t(e,a){const i=[];let n=0;const o=a&&h(a);for(const t of e){const e=d(t);let a;if(e){n=Object.values(this.qualifierMap).findIndex(e=>e===t);if(t.startsWith("{=")||t.startsWith("{$componentState>")){a=t}else{a=P(v(e,undefined,o));for(const e of Object.keys(this.qualifierMap)){if(this.qualifierMap[e]===t){this.qualifierMap[e]=a}}}const s=this.getCustomDataForSemanticObject(a?a:"",n);if(s){i.push(s)}}}return i};return t}();r=O;return r},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/quickView/QuickViewDelegate", ["sap/base/Log","sap/base/util/deepClone","sap/base/util/deepEqual","sap/base/util/isPlainObject","sap/fe/base/BindingToolkit","sap/fe/core/CommonUtils","sap/fe/core/helpers/KeepAliveHelper","sap/fe/core/helpers/ToES6Promise","sap/fe/core/templating/SemanticObjectHelper","sap/fe/macros/field/FieldHelper","sap/fe/macros/field/FieldRuntime","sap/fe/navigation/SelectionVariant","sap/ui/core/Fragment","sap/ui/core/Lib","sap/ui/core/XMLTemplateProcessor","sap/ui/core/util/XMLPreprocessor","sap/fe/macros/quickView/QuickViewHeaderOptions","sap/ui/mdc/LinkDelegate","sap/ui/mdc/enums/LinkType","sap/ui/mdc/link/Factory","sap/ui/mdc/link/LinkItem","sap/ui/mdc/ushell/SemanticObjectMapping","sap/ui/mdc/ushell/SemanticObjectMappingItem","sap/ui/mdc/ushell/SemanticObjectUnavailableAction","sap/ui/model/json/JSONModel"],function(e,t,n,i,a,s,c,o,r,l,m,d,u,p,g,f,h,b,y,O,v,j,S,k,P){"use strict";var M=r.getDynamicPathFromSemanticObject;var _=a.resolveBindingString;const C=Object.assign({},b);C.apiVersion=2;const L={iLinksShownInPopup:3,sapmLink:"sap.m.Link",sapuimdcLink:"sap.ui.mdc.Link",sapuimdclinkLinkItem:"sap.ui.mdc.link.LinkItem",sapmObjectIdentifier:"sap.m.ObjectIdentifier",sapmObjectStatus:"sap.m.ObjectStatus"};C.getConstants=function(){return L};C._getEntityType=function(e,t){if(t){return t.createBindingContext(e.entityType)??undefined}else{return undefined}};C._getSemanticsModel=function(e,t){if(t){return new P(e)}else{return undefined}};C._getDataField=function(e,t){return t.createBindingContext(e.dataField)??undefined};C._getContact=function(e,t){return t.createBindingContext(e.contact)??undefined};C.preparePayload=function(e){const t=C.calculatePayloadWithDynamicSemanticObjectsResolved(e);if(!t.LinkId){t.LinkId=this.oControl?.isA(L.sapuimdcLink)?this.oControl.getId():undefined}if(t.LinkId){t.titleLink=this.oControl.getModel("$sapuimdcLink")?.getProperty("/titleLinkHref")}return t};C.fnTemplateFragment=async function(e){const t=s.getTargetView(e);const n=s.getAppComponent(t);let i="";const a={bindingContexts:{},models:{},appComponent:n};const c=C.preparePayload(e);const o=this._getSemanticsModel(c,this.oMetaModel);this.semanticModel=o;let r;if(c.entityType&&this._getEntityType(c,this.oMetaModel)&&o){i="sap.fe.macros.quickView.fragments.QuickViewForEntity";a.bindingContexts={entityType:this._getEntityType(c,this.oMetaModel),semantic:o.createBindingContext("/")};r=this._getEntityType(c,this.oMetaModel)?.getPath();a.models={entityType:this.oMetaModel,semantic:o}}else if(c.dataField&&this._getDataField(c,this.oMetaModel)&&o){i="sap.fe.macros.quickView.fragments.QuickViewForDataField";r=this._getDataField(c,this.oMetaModel)?.getPath();a.bindingContexts={dataField:this._getDataField(c,this.oMetaModel),semantic:o.createBindingContext("/")};a.models={dataField:this.oMetaModel,semantic:o}}a.models.entitySet=this.oMetaModel;a.models.metaModel=this.oMetaModel;a.models.converterContext=t.getModel("_pageModel");a.bindingContexts.converterContext=a.models.converterContext.createBindingContext("/");if(this.oControl&&this.oControl.getModel("viewData")){a.models.viewData=this.oControl.getModel("viewData");a.bindingContexts.viewData=this.oControl.getModel("viewData")?.createBindingContext("/")}const l=g.loadTemplate(i,"fragment");const m=await f.process(l,{name:i},a);const d=t.getController().getOwnerComponent();const p=await d.runAsOwner(async()=>await u.load({definition:m,controller:t.getController()}));if(r&&p.isA("sap.m.VBox")){const e=new h({contextPath:c.contextPath,metaPath:r,semanticPayload:o?.getObject("/")});p.insertItem(e,0)}p.setModel(o,"semantic");if(p){if(a.models&&a.models.semantic){p.setModel(a.models.semantic,"semantic");p.setBindingContext(a.bindingContexts.semantic,"semantic")}if(a.bindingContexts&&a.bindingContexts.entityType){p.setModel(a.models.entityType,"entityType");p.setBindingContext(a.bindingContexts.entityType,"entityType")}}return p};C.fetchAdditionalContent=async function(e){const t=e.getPayload();this.oControl=e;const n=t?.navigationPath?.match(/{(.*?)}/);const i=e.getBindingContext()?.getBinding();const a=i?.getAggregation&&i.getAggregation();const s=a!==undefined&&!a.hierarchyQualifier;const c=s?{$$ownRequest:true}:undefined;const o=n&&n.length>1&&n[1]?e.getModel()?.bindContext(n[1],e.getBindingContext()||undefined,c):null;this.payload=t;this.oMetaModel=e.getModel()?.getMetaModel();const r=await this.fnTemplateFragment(e);if(o){const e=o.getBoundContext();if(e){r.setBindingContext(e)}}return[r]};C._fetchLinkCustomData=function(e){if(e.getParent()&&e.isA(L.sapuimdcLink)&&(e.getParent()?.isA(L.sapmLink)||e.getParent()?.isA(L.sapmObjectIdentifier)||e.getParent()?.isA(L.sapmObjectStatus)||e.getParent()?.isA("sap.fe.macros.controls.TextLink"))){return e.getCustomData()}else{return undefined}};C.fetchLinkItems=async function(e,t,n){const i=e.getPayload();if(t&&C._getSemanticObjects(i)){if(n){n.initialize(C._getSemanticObjects(i))}const a=this._link&&this._fetchLinkCustomData(this._link);this.aLinkCustomData=a&&this._fetchLinkCustomData(this._link)?.map(function(e){return e.getValue()});const s=C._calculateSemanticAttributes(t,i,n,e);const c=s.results;const o=s.payload;return C._retrieveNavigationTargets("",c,o,n,this._link).then(function(e){return e.length===0?null:e})}else{return Promise.resolve(null)}};C._findLinkType=function(e,t){let n,i;if(t?.length===1){i=new v({text:t[0].getText(),href:t[0].getHref()});n=e.hasQuickViewFacets==="false"?y.DirectLink:y.Popover}else if(e.hasQuickViewFacets==="false"&&t?.length===0){n=y.Text}else{n=y.Popover}return{linkType:n,linkItem:i}};C.fetchLinkType=async function(t){const n=t;const i=Object.assign({},t.getPayload());let a={initialType:{type:y.Popover,directLink:undefined},runtimeType:undefined};if(!this.appStateKeyMap){this.appStateKeyMap={}}try{if(i?.semanticObjects){this._link=t;let e=await n._retrieveUnmodifiedLinkItems();if(e.length===1){e=await n.retrieveLinkItems()}const a=C._findLinkType(i,e);return{initialType:{type:a.linkType,directLink:a.linkItem?a.linkItem:undefined},runtimeType:undefined}}else if(i?.contact?.length&&i?.contact?.length>0){return a}else if(i?.entityType&&i?.navigationPath){return a}a=undefined;throw new Error("no payload or semanticObjects found")}catch(t){e.error("Error in SimpleLinkDelegate.fetchLinkType: ",t)}return a};C._RemoveTitleLinkFromTargets=function(e,t,n,i){let a;let s=false;if(n&&i&&t.length){const n=`#${t[0].getProperty("key")}`;const c=i.split("?")[0];const o=c===n;if(o){a=t[0].getProperty("href");this.payload.titleLinkhref=a;const i=e.getModel("$sapuimdcLink");i.setProperty("/titleLinkHref",a);const c=i?.getProperty("/linkItems").filter(function(e){if(`#${e.key}`!==n){return e}});if(c&&c.length>0){i.setProperty("/linkItems/",c)}s=true}}return s};C._IsSemanticObjectDynamic=function(e,t){if(e&&t.aLinkCustomData){return t.aLinkCustomData.filter(function(t){return e.filter(function(e){return e!==t}).length>0}).length>0}else{return false}};C._getLineContext=function(e,t){if(!t){if(e.getAggregation("content")[0]&&e.getAggregation("content")[0].getBindingContext()){return e.getAggregation("content")[0].getBindingContext()}}return t};C._setFilterContextUrlForSelectionVariant=function(e,t,n){if(e.getViewData().entitySet&&t){const i=n.constructContextUrl(e.getViewData().entitySet,e.getModel());t.setFilterContextUrl(i)}return t};C._setObjectMappings=function(e,t,n,i){let a=false;const s=new d(i.toJSONObject());n.forEach(function(n){let i=n.semanticObject;const c=M(n.semanticObject);if(c&&t[c]){i=t[c]}if(e===i){const e=n.items;for(const n in e){const i=e[n].key;const c=e[n].value;if(i!==c){if(t[i]){s.removeParameter(c);s.removeSelectOption(c);s.renameParameter(i,c);s.renameSelectOption(i,c);t[c]=t[i];delete t[i];a=true}else if(i.split("/").length>1){let e=s.getSelectOptionsPropertyNames().find(e=>e.includes(i.replace("/",".")));e=e?e:i.split("/").slice(-1)[0];if(!t[e]){delete t[e];s.removeParameter(e);s.removeSelectOption(e)}else if(e!==c){s.removeParameter(c);s.removeSelectOption(c);s.renameParameter(e,c);s.renameSelectOption(e,c);t[c]=t[e];delete t[e]}}else{delete t[i];s.removeParameter(c);s.removeSelectOption(c)}}}}});return{params:t,hasChanged:a,selectionVariant:s}};C._getAppStateKeyAndUrlParameters=async function(e,t,i,a){let s=[];if(n(i,e.appStateKeyMap[""]?.selectionVariant)){const t=e.appStateKeyMap[""];return[t.semanticAttributes,t.appstatekey]}if(e.appStateKeyMap[`${a}`]===undefined||!n(e.appStateKeyMap[`${a}`].selectionVariant,i)){s=await o(t.getAppStateKeyAndUrlParameters(i.toJSONString()));e.appStateKeyMap[`${a}`]={semanticAttributes:s[0],appstatekey:s[1],selectionVariant:i}}else{const t=e.appStateKeyMap[`${a}`];s=[t.semanticAttributes,t.appstatekey]}return s};C._getLinkItemWithNewParameter=async function(e,t,n,i,a){const c=await e.shellServices.expandCompactHash(n.mdcLinkItem.getHref());const o=e.shellServices.parseShellHash(c);let r;const m={semanticObject:o.semanticObject,action:o.action,propertiesWithoutConflict:n.propertiesWithoutConflict,linkContextPath:n.mdcLink.getBindingContext()?.getPath()};const d=s.getTargetView(n.mdcLink);const u=d.getController();u.intentBasedNavigation.adaptNavigationContext(a,m);const p=Object.assign({},e.navigationService.oNavHandler._getURLParametersFromSelectionVariant(a));const{params:g}=C._setObjectMappings(o.semanticObject,p,n.payload.semanticObjectMappings,a);delete g["sap-xapp-state"];delete g["@odata.etag"];const f={semanticObject:o.semanticObject,action:o.action,params:g,appStateKey:i};const h=await e.shellServices.getLinks([f]);const b=h&&h[0]&&h[0][0].intent;n.mdcLinkItem.setHref(b);if(n.payload.semanticPrimaryActions&&n.payload.semanticPrimaryActions.some(e=>e!==null)){const{primaryIntentFound:e}=l.findPrimaryActionWithinIntents(n.payload.semanticPrimaryActions,n.payload);r=e?e.intent??"":undefined}return C._RemoveTitleLinkFromTargets.bind(t)(n.mdcLink,[n.mdcLinkItem],n.titleHasLink,r)};C._removeEmptyLinkItem=function(e){return e.filter(e=>e!==undefined)};C._checkImplicitSemanticObjectMapping=function(e,t,n,i){if(!t){return}const a=i.getController()._intentBasedNavigation.removeSensitiveData(n.getObject(),i.getModel().getMetaModel().getMetaPath(n?.getPath()||""),i.getModel().getMetaModel());if(Object.keys(a)?.includes(t)){e.semanticObjects?.forEach(n=>{const i=e.semanticObjectMappings.filter(e=>e.semanticObject===n);if(!i.length){e.semanticObjectMappings.push({semanticObject:n,items:[{key:t,value:n}]})}})}};C.modifyLinkItems=async function(t,n,i){if(i.length!==0){this.payload=t.getPayload();const n=C.calculatePayloadWithDynamicSemanticObjectsResolved(t);const a=s.getTargetView(t);const c=s.getAppComponent(a);const o=await l.checkPrimaryActions(n,true,c);const r=o.hasTitleLink;const m=c.getShellServices();if(!m.hasUShell()){e.error("QuickViewDelegate: Cannot retrieve the shell services");return Promise.reject()}const d=a.getModel().getMetaModel();let u=t.getBindingContext();try{const e=c.getNavigationService();const s=a.getController();let o,l;u=C._getLineContext(a,u);const p=d.getMetaPath(u?.getPath()||"");l=u?.getObject();if(u){const e=this.payload?.dataFieldPropPath;const t=[];C._checkImplicitSemanticObjectMapping(n,e,u,a);this.payload.semanticObjectMappings.forEach(e=>{e.items.forEach(e=>{t.push(e.key)})});if(e){t.push(e)}l=s._intentBasedNavigation.processSemanticAttributes(u,l,t);l=s._intentBasedNavigation.removeSensitiveData(l,p,d);l=s._intentBasedNavigation.prepareContextForExternalNavigation(l,u)}o=e.mixAttributesAndSelectionVariant(l.semanticAttributes,{});o=C._setFilterContextUrlForSelectionVariant(a,o,e);C._removeTechnicalParameters(o);const g=undefined;let f;i=C._removeEmptyLinkItem(i);for(const a in i){f=await C._getLinkItemWithNewParameter({shellServices:m,navigationService:e},this,{mdcLink:t,payload:n,titleHasLink:r,mdcLinkItem:i[a],propertiesWithoutConflict:l.propertiesWithoutConflict},g,o);if(f===true&&i.length>1){i[a]=undefined}}return C._removeEmptyLinkItem(i)}catch(t){e.error("Error while getting the navigation service",t);return[]}}else{return i}};C.beforeNavigationCallback=async function(e,t){const n=t.getSource(),i=n.getHref(),a=await O.getServiceAsync("URLParsing"),o=i&&a.parseShellHash(i);c.storeControlRefreshStrategyForHash(n,o);const r=s.getTargetView(e);const l=s.getAppComponent(r);const m=l.getNavigationService();const d=n.getHref();const u=a.parseShellHash(d);m.navigate(u&&u.semanticObject,u&&u.action,u&&u.params);return Promise.resolve(false)};C._removeTechnicalParameters=function(e){e.removeSelectOption("@odata.context");e.removeSelectOption("@odata.metadataEtag");e.removeSelectOption("SAP__Messages")};C._getSemanticObjectCustomDataValue=function(e,t){let n,i;for(const a of e){n=a.getKey();i=a.getValue();t[n]={value:i}}};C._isDynamicPath=function(e){const t=_(e);if(t._type==="EmbeddedBinding"||t._type==="EmbeddedExpressionBinding"||t._type==="PathInModel"){return true}else{return false}};C._updatePayloadWithResolvedSemanticObjectValue=function(e,t){switch(typeof t){case"string":e.semanticObjectsResolved?.push(t);e.semanticObjects.push(t);break;case"object":for(const n in t){e.semanticObjectsResolved?.push(t[n]);e.semanticObjects.push(t[n])}break;default:}};C._createNewPayloadWithDynamicSemanticObjectsResolved=function(e,t,n){let i;const a=function(e,t){return Object.keys(e).find(n=>e[n]===t)};for(const s in e.semanticObjects){i=e.semanticObjects[s];if(C._isDynamicPath(i)){const s=e.qualifiers&&a(e.qualifiers,i);const c=s&&t[s].value;C._updatePayloadWithResolvedSemanticObjectValue(n,c)}else{n.semanticObjects.push(i)}}};C._updateSemanticObjectsForMappings=function(e,t,n){t.semanticObjectMappings.forEach(function(t){if(t.semanticObject&&C._isDynamicPath(t.semanticObject)){t.semanticObject=n.semanticObjects[e.semanticObjects.indexOf(t.semanticObject)]}})};C._updateSemanticObjectsUnavailableActions=function(e,t,n){let i;t.forEach(function(t){if(t?.semanticObject&&C._isDynamicPath(t.semanticObject)){i=e.semanticObjects.findIndex(function(e){return e===t.semanticObject});if(i!==undefined){t.semanticObject=n.semanticObjects[i]}}})};C._removeEmptySemanticObjectsMappings=function(e){for(let t=0;t<e.semanticObjectMappings.length;t++){if(e.semanticObjectMappings[t]&&e.semanticObjectMappings[t].semanticObject===undefined){e.semanticObjectMappings.splice(t,1)}}};C._setPayloadWithDynamicSemanticObjectsResolved=function(e,n){let i;if(n.semanticObjectsResolved&&n.semanticObjectsResolved.length>0){i={qualifiers:e.qualifiers,entityType:e.entityType,dataField:e.dataField,contact:e.contact,contextPath:e.contextPath,navigationPath:e.navigationPath,propertyPathLabel:e.propertyPathLabel,dataFieldPropPath:e.dataFieldPropPath,semanticObjectMappings:t(e.semanticObjectMappings),semanticObjectUnavailableActions:[],semanticObjects:n.semanticObjects};C._updateSemanticObjectsForMappings(e,i,n);const a=t(e.semanticObjectUnavailableActions);C._updateSemanticObjectsUnavailableActions(e,a,i);i.semanticObjectUnavailableActions=a;C._removeEmptySemanticObjectsMappings(i);return i}else{return{}}};C._getPayloadWithDynamicSemanticObjectsResolved=function(e,t){let n;const i={};const a={semanticObjects:[],semanticObjectsResolved:[],semanticObjectMappings:[],semanticObjectUnavailableActions:[],qualifiers:{}};if(e.semanticObjects){if(t&&t.length>0){C._getSemanticObjectCustomDataValue(t,i);C._createNewPayloadWithDynamicSemanticObjectsResolved(e,i,a);n=C._setPayloadWithDynamicSemanticObjectsResolved(e,a);return n}}else{return undefined}};C._updatePayloadWithSemanticAttributes=function(t,n,a,s,c){t.forEach(function(t){if(n){n.addContextObject(t,a)}s[t]={};for(const o in a){let r=null,l=null;if(n){r=n.getSemanticObjectAttribute(t,o);if(!r){r=n.createAttributeStructure();n.addSemanticObjectAttribute(t,o,r)}}if(a[o]===undefined||a[o]===null){if(r){r.transformations.push({value:undefined,description:"ℹ Undefined and null values have been removed in SimpleLinkDelegate."})}continue}if(i(a[o])){if(c&&c[t]){const e=Object.keys(c[t]);let n,i,r,l;for(const m of e){l=m;if(l.indexOf(o)===0){n=c[t][l];i=l.split("/")[l.split("/").length-1];r=a[o][i];if(n&&i&&r){s[t][n]=r}}}}if(r){r.transformations.push({value:undefined,description:"ℹ Plain objects has been removed in SimpleLinkDelegate."})}continue}const m=c&&c[t]&&c[t][o]?c[t][o]:o;if(r&&o!==m){l={value:undefined,description:`ℹ The attribute ${o} has been renamed to ${m} in SimpleLinkDelegate.`,reason:`🔴 A com.sap.vocabularies.Common.v1.SemanticObjectMapping annotation is defined for semantic object ${t} with source attribute ${o} and target attribute ${m}. You can modify the annotation if the mapping result is not what you expected.`}}if(s[t][m]){e.error(`SimpleLinkDelegate: The attribute ${o} can not be renamed to the attribute ${m} due to a clash situation. This can lead to wrong navigation later on.`)}s[t][m]=a[o];if(r){if(l){r.transformations.push(l);const e=n.createAttributeStructure();e.transformations.push({value:a[o],description:`ℹ The attribute ${m} with the value ${a[o]} has been added due to a mapping rule regarding the attribute ${o} in SimpleLinkDelegate.`});n.addSemanticObjectAttribute(t,m,e)}}}})};C.calculatePayloadWithDynamicSemanticObjectsResolved=function(e){const t=e?.getPayload();const n=e&&this._fetchLinkCustomData(e);const i=C._getPayloadWithDynamicSemanticObjectsResolved(t,n);return i?i:t};C._calculateSemanticAttributes=function(e,t,n,i){const a=e.getObject();const c=C.calculatePayloadWithDynamicSemanticObjectsResolved(i);const o=C._getSemanticObjects(c);if(!o.length){return{payload:c,results:{}}}const r={};const l=s.getTargetView(i);const m=c?.dataFieldPropPath;C._checkImplicitSemanticObjectMapping(c,m,e,l);const d=C._convertSemanticObjectMapping(C._getSemanticObjectMappings(c));C._updatePayloadWithSemanticAttributes(o,n,a,r,d);return{payload:c,results:r}};C.checkPrimaryActionForHash=function(e,t,n){return t.some(t=>{let i=e.constructShellHash({target:{shellHash:t.intent}});if(i.includes("?")){i=i.substring(0,i.indexOf("?"))}return`${n.semanticObject}-${n.action}`===i})};C._retrieveNavigationTargets=async function(t,n,i,a,s){if(!i.semanticObjects){return Promise.resolve([])}const c=i.semanticObjects;const o={ownNavigation:undefined,availableActions:[]};let r=0;return p.load({name:"sap.ui.fl"}).then(async()=>new Promise(d=>{sap.ui.require(["sap/ui/fl/Utils"],async u=>{const p=u.getAppComponentForControl(s===undefined?this.oControl:s);const g=p?p.getShellServices():null;if(!g){d(o.availableActions,o.ownNavigation);return}if(!g?.hasUShell()){e.error("SimpleLinkDelegate: Service 'CrossApplicationNavigation' or 'URLParsing' could not be obtained");d(o.availableActions,o.ownNavigation)}const f=c.map(function(e){return{semanticObject:e,params:n?n[e]:undefined,appStateKey:t,sortResultsBy:"text"}});try{const e=await g.getLinks(f);let t=false;for(const n of e){if(n.length>0){t=true;break}if(t){break}}if(!e||!e.length||!t){d(o.availableActions,o.ownNavigation)}const n=C._getSemanticObjectUnavailableActions(i);const s=C._convertSemanticObjectUnavailableAction(n);let u=m._fnFixHashQueryString(p.getShellServices().getHash());if(u){u+="?"}const h=function(e,t){return!!s&&!!s[e]&&s[e].includes(t)};const b=(await l._getPrimaryIntents(p,i&&i.semanticObjects)).filter(Boolean);const y=function(e){const t=g.parseShellHash(e.intent);if(h(t.semanticObject,t.action)){return}const n=`#${g.constructShellHash({target:{shellHash:e.intent}})}`;if(e.intent&&e.intent.indexOf(u)===0){o.ownNavigation=new v({href:n,text:e.text});return}const i=new v({key:t.semanticObject&&t.action?`${t.semanticObject}-${t.action}`:undefined,text:e.text,description:undefined,href:n,icon:undefined,initiallyVisible:e.tags&&e.tags.includes("superiorAction")});if(i.getProperty("initiallyVisible")){if(!C.checkPrimaryActionForHash(g,b,t)){r++}}o.availableActions.push(i);if(a){a.addSemanticObjectIntent(t.semanticObject,{intent:i.getHref(),text:i.getText()})}};for(let t=0;t<c.length;t++){e[t].forEach(y)}if(r===0){for(let e=0;e<o.availableActions.length;e++){if(e<this.getConstants().iLinksShownInPopup){o.availableActions[e].setProperty("initiallyVisible",true)}else{break}}}d(o.availableActions,o.ownNavigation)}catch(t){e.error("SimpleLinkDelegate: '_retrieveNavigationTargets' failed executing getLinks method");d(o.availableActions,o.ownNavigation)}})}))};C._getSemanticObjects=function(e){return e.semanticObjects?e.semanticObjects:[]};C._getSemanticObjectUnavailableActions=function(e){const t=[];if(e.semanticObjectUnavailableActions){e.semanticObjectUnavailableActions.forEach(function(e){t.push(new k({semanticObject:e.semanticObject,actions:e.actions}))})}return t};C._getSemanticObjectMappings=function(e){const t=[];let n=[];if(e.semanticObjectMappings){e.semanticObjectMappings.forEach(function(e){n=[];if(e.items){e.items.forEach(function(e){n.push(new S({key:e.key,value:e.value}))})}t.push(new j({semanticObject:e.semanticObject,items:n}))})}return t};C._convertSemanticObjectMapping=function(e){if(!e.length){return undefined}const t={};e.forEach(e=>{if(!e.getSemanticObject()){throw Error(`SimpleLinkDelegate: 'semanticObject' property with value '${e.getSemanticObject()}' is not valid`)}t[e.getSemanticObject()]=Object.fromEntries(e.getItems().map(e=>[e.getKey(),e.getValue()]))});return t};C._convertSemanticObjectUnavailableAction=function(e){let t;let n;let i=[];if(!e.length){return undefined}const a={};e.forEach(function(e){t=e.getSemanticObject();if(!t){throw Error(`SimpleLinkDelegate: 'semanticObject' property with value '${t}' is not valid`)}i=e.getActions();if(a[t]===undefined){a[t]=i}else{n=a[t];i.forEach(function(e){n.push(e)});a[t]=n}});return a};C.fetchPopoverTitle=async function(e,t){const n="";if(!e||!t){return{sTitle:n,oLabelledByControl:undefined}}const i=C?._getLabelledByControl(t);return Promise.resolve({sTitle:n,oLabelledByControl:i})};return C},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/quickView/QuickViewHeaderOptions", ["sap/fe/base/BindingToolkit","sap/fe/base/ClassSupport","sap/fe/core/buildingBlocks/BuildingBlock","sap/fe/core/converters/annotations/DataField","sap/fe/core/helpers/TypeGuards","sap/fe/core/templating/DataModelPathHelper","sap/fe/core/templating/UIFormatters","sap/fe/macros/field/FieldHelper","sap/fe/macros/field/FieldTemplating","sap/m/Avatar","sap/m/AvatarShape","sap/m/Link","sap/m/Text","sap/m/Title","sap/m/VBox","sap/ui/core/library","sap/ui/layout/HorizontalLayout","sap/ui/layout/VerticalLayout","sap/fe/base/jsx-runtime/jsx","sap/fe/base/jsx-runtime/jsxs"],function(e,t,i,a,n,r,o,s,l,c,u,p,h,d,f,y,b,m,g,v){"use strict";var I,P,T,F,D,k,z,j,O,L,w,M,V,x,U;var H={};var A=l.getTextBinding;var C=l.getDataModelObjectPathForValue;var E=o.getDisplayMode;var B=r.enhanceDataModelPath;var S=n.isEntityType;var _=a.isDataField;var Q=t.property;var N=t.defineUI5Class;var q=t.defineReference;var G=e.getExpressionFromAnnotation;var R=e.compileExpression;function W(e,t,i,a){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(a):void 0})}function $(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,J(e,t)}function J(e,t){return J=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},J(e,t)}function K(e,t,i,a,n){var r={};return Object.keys(a).forEach(function(e){r[e]=a[e]}),r.enumerable=!!r.enumerable,r.configurable=!!r.configurable,("value"in r||r.initializer)&&(r.writable=!0),r=i.slice().reverse().reduce(function(i,a){return a(e,t,i)||i},r),n&&void 0!==r.initializer&&(r.value=r.initializer?r.initializer.call(n):void 0,r.initializer=void 0),void 0===r.initializer?(Object.defineProperty(e,t,r),null):r}function X(e,t){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let Y=(I=N("sap.fe.macros.quickView.QuickViewHeaderOptions"),P=Q({type:"string"}),T=Q({type:"string"}),F=Q({type:"object"}),D=Q({type:"string"}),k=Q({type:"string"}),z=q(),I(j=(O=function(e){function t(t,i){var a;a=e.call(this,t,i)||this;W(a,"contextPath",L,a);W(a,"metaPath",w,a);W(a,"semanticPayload",M,a);W(a,"id",V,a);W(a,"titleLink",x,a);W(a,"horizontalLayout",U,a);a.visible=true;return a}H=t;$(t,e);var i=t.prototype;i.onMetadataAvailable=function t(i){e.prototype.onMetadataAvailable.call(this,i);const a=this.getDataModelObjectForMetaPath(this.metaPath??"",this.contextPath);const n=a?.targetObject;if(S(n)){this.entityType=n;this.headerInfo=this.entityType?.annotations.UI?.HeaderInfo}else if(_(n)){this.convertedDataField=n;this.dataFieldValue=C(a)}else{this.entityType=a?.targetEntityType;this.headerInfo=this.entityType?.annotations.UI?.HeaderInfo}this.content=this.createContent()};i.setHeaderDisplayParametersForDataField=function e(){if(this.dataFieldValue&&this.convertedDataField){if(this.convertedDataField?.IconUrl){this.icon=this.convertedDataField.IconUrl;this.fallbackIcon="sap-icon://product"}else{this.icon=undefined;this.fallbackIcon=undefined}this.title=A(this.dataFieldValue,{displayMode:E(this.dataFieldValue)});this.description=this.convertedDataField.Label?R(this.convertedDataField.Label):R(this.convertedDataField.Value?.$target?.annotations?.Common?.Label)}};i.setHeaderDisplayParametersForEntityType=function e(){if(this.entityType){const e=this.headerInfo?.ImageUrl?G(this.headerInfo.ImageUrl):G(this.headerInfo?.TypeImageUrl);const t=R(e);this.icon=t==="undefined"?undefined:t;if(this.headerInfo?.TypeImageUrl){this.fallbackIcon=R(this.headerInfo.TypeImageUrl)}else if(this.entityType?.annotations.Common?.IsNaturalPerson?.valueOf()===true){this.fallbackIcon="sap-icon://person-placeholder"}else{this.fallbackIcon="sap-icon://product"}const i=this.getDataModelObjectPath(this.metaPath);if(i&&_(this.headerInfo?.Title)&&this.headerInfo?.Title.Value){const e=B(i,this.headerInfo.Title?.Value.path);if(e.targetObject){const t=A(e,{displayMode:E(e)});this.title=t!=="{}"?t:undefined}}if(i&&_(this.headerInfo?.Description)&&this.headerInfo?.Description.Value){const e=B(i,this.headerInfo.Description?.Value.path);const t=e.targetObject&&A(e,{displayMode:E(e)});this.description=e.targetObject===undefined?R({_type:"PathInModel",modelName:"semantic",path:"propertyPathLabel"}):t}}};i.getSemanticObjectsPrimaryActions=async function e(){if(this.semanticPayload&&await s.checkPrimaryActions(this.semanticPayload,false,this.getAppComponent())){const e=s.getPrimaryAction(this.semanticPayload);this.titleLink=e}this.setupTitle()};i.createContent=function e(){let t;this.setHeaderDisplayParametersForDataField();this.setHeaderDisplayParametersForEntityType();if(this.icon&&this.fallbackIcon){t=g(c,{class:"sapMQuickViewThumbnail sapUiTinyMarginEnd",src:this.icon,displayShape:this.entityType?.annotations.Common?.IsNaturalPerson?.valueOf()===true?u.Circle:u.Square,fallbackIcon:this.fallbackIcon})}const i=g(b,{class:"sapUiSmallMarginBottom sapMQuickViewPage sapFeQuickViewFullWidth",ref:this.horizontalLayout,children:t});this.isInitialized=this.getSemanticObjectsPrimaryActions();return g(f,{children:i})};i.setupTitle=function e(){let t;if(this.title){if(this.titleLink){t=g(p,{text:this.title,href:this.titleLink,emphasized:"true"})}else{t=g(d,{text:this.title,level:y.TitleLevel.H3,wrapping:"true"})}}const i=this.description?g(h,{text:this.description,maxLines:1}):undefined;const a=v(m,{children:[t,i]});this.horizontalLayout.current?.addContent(a)};return t}(i),L=K(O.prototype,"contextPath",[P],{configurable:true,enumerable:true,writable:true,initializer:null}),w=K(O.prototype,"metaPath",[T],{configurable:true,enumerable:true,writable:true,initializer:null}),M=K(O.prototype,"semanticPayload",[F],{configurable:true,enumerable:true,writable:true,initializer:null}),V=K(O.prototype,"id",[D],{configurable:true,enumerable:true,writable:true,initializer:null}),x=K(O.prototype,"titleLink",[k],{configurable:true,enumerable:true,writable:true,initializer:null}),U=K(O.prototype,"horizontalLayout",[z],{configurable:true,enumerable:true,writable:true,initializer:null}),O))||j);H=Y;return H},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/richtexteditor/ButtonGroup", ["sap/fe/base/ClassSupport","sap/ui/core/Element"],function(e,r){"use strict";var t,i,n,o,a,l,u,c,b,p,s,f,y,m,v;var d={};var g=e.property;var z=e.defineUI5Class;function w(e,r,t,i){t&&Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(i):void 0})}function h(e,r){e.prototype=Object.create(r.prototype),e.prototype.constructor=e,O(e,r)}function O(e,r){return O=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,r){return e.__proto__=r,e},O(e,r)}function P(e,r,t,i,n){var o={};return Object.keys(i).forEach(function(e){o[e]=i[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=t.slice().reverse().reduce(function(t,i){return i(e,r,t)||t},o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer?(Object.defineProperty(e,r,o),null):o}function j(e,r){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let _=(t=z("sap.fe.macros.richtexteditor.ButtonGroup"),i=g({type:"string"}),n=g({type:"string"}),o=g({type:"int"}),a=g({type:"int"}),l=g({type:"int"}),u=g({type:"string"}),t(c=(b=function(e){function r(){var r;for(var t=arguments.length,i=new Array(t),n=0;n<t;n++){i[n]=arguments[n]}r=e.call(this,...i)||this;w(r,"name",p,r);w(r,"visible",s,r);w(r,"priority",f,r);w(r,"row",y,r);w(r,"customToolbarPriority",m,r);w(r,"buttons",v,r);return r}d=r;h(r,e);return r}(r),p=P(b.prototype,"name",[i],{configurable:true,enumerable:true,writable:true,initializer:null}),s=P(b.prototype,"visible",[n],{configurable:true,enumerable:true,writable:true,initializer:null}),f=P(b.prototype,"priority",[o],{configurable:true,enumerable:true,writable:true,initializer:null}),y=P(b.prototype,"row",[a],{configurable:true,enumerable:true,writable:true,initializer:null}),m=P(b.prototype,"customToolbarPriority",[l],{configurable:true,enumerable:true,writable:true,initializer:null}),v=P(b.prototype,"buttons",[u],{configurable:true,enumerable:true,writable:true,initializer:null}),b))||c);d=_;return d},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/richtexteditor/Plugin", ["sap/fe/base/ClassSupport","sap/ui/core/Element"],function(e,r){"use strict";var t,i,n,a,o;var l={};var u=e.property;var c=e.defineUI5Class;function s(e,r,t,i){t&&Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(i):void 0})}function f(e,r){e.prototype=Object.create(r.prototype),e.prototype.constructor=e,p(e,r)}function p(e,r){return p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,r){return e.__proto__=r,e},p(e,r)}function b(e,r,t,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce(function(t,i){return i(e,r,t)||t},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer?(Object.defineProperty(e,r,a),null):a}function d(e,r){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let v=(t=c("sap.fe.macros.richtexteditor.Plugin"),i=u({type:"string"}),t(n=(a=function(e){function r(){var r;for(var t=arguments.length,i=new Array(t),n=0;n<t;n++){i[n]=arguments[n]}r=e.call(this,...i)||this;s(r,"name",o,r);return r}l=r;f(r,e);return r}(r),o=b(a.prototype,"name",[i],{configurable:true,enumerable:true,writable:true,initializer:null}),a))||n);l=v;return l},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/share/MsTeamsOptions", ["sap/fe/base/ClassSupport","sap/fe/macros/controls/BuildingBlockObjectProperty"],function(e,r){"use strict";var t,i,n,a,o;var l={};var u=e.property;var c=e.defineUI5Class;function s(e,r,t,i){t&&Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(i):void 0})}function f(e,r){e.prototype=Object.create(r.prototype),e.prototype.constructor=e,p(e,r)}function p(e,r){return p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,r){return e.__proto__=r,e},p(e,r)}function b(e,r,t,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce(function(t,i){return i(e,r,t)||t},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer?(Object.defineProperty(e,r,a),null):a}function d(e,r){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let v=(t=c("sap.fe.macros.share.MsTeamsOptions"),i=u({type:"boolean"}),t(n=(a=function(e){function r(r,t){var i;i=e.call(this,r,t)||this;s(i,"enableCard",o,i);return i}l=r;f(r,e);return r}(r),o=b(a.prototype,"enableCard",[i],{configurable:true,enumerable:true,writable:true,initializer:null}),a))||n);l=v;return l},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/share/ShareAPI", ["sap/base/Log","sap/fe/base/ClassSupport","../MacroAPI"],function(e,i,t){"use strict";var r,n,a,o,l,s,u;function c(e){return new Promise((i,t)=>{sap.ui.require([e],t=>{if(!(t&&t.__esModule)){t=t===null||!(typeof t==="object"&&e.endsWith("/library"))?{default:t}:t;Object.defineProperty(t,"__esModule",{value:true})}i(t)},e=>{t(e)})})}var f=i.property;var b=i.defineUI5Class;function p(e,i,t,r){t&&Object.defineProperty(e,i,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(r):void 0})}function d(e,i){e.prototype=Object.create(i.prototype),e.prototype.constructor=e,y(e,i)}function y(e,i){return y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,i){return e.__proto__=i,e},y(e,i)}function v(e,i,t,r,n){var a={};return Object.keys(r).forEach(function(e){a[e]=r[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce(function(t,r){return r(e,i,t)||t},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer?(Object.defineProperty(e,i,a),null):a}function g(e,i){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let h=(r=b("sap.fe.macros.share.ShareAPI"),n=f({type:"string"}),a=f({type:"boolean",defaultValue:true}),r(o=(l=function(i){function t(){var e;for(var t=arguments.length,r=new Array(t),n=0;n<t;n++){r[n]=arguments[n]}e=i.call(this,...r)||this;p(e,"id",s,e);p(e,"visible",u,e);return e}d(t,i);var r=t.prototype;r.setVisibility=async function i(t){const{default:r}=await c("sap/suite/ui/commons/collaboration/CollaborationHelper");const n=await r.isTeamsModeActive();if(!n){this.content.setVisible(t);this.visible=t}else{e.info("Share Building Block: visibility not changed since application is running in teams mode!")}return Promise.resolve(this)};r.addStyleClass=function e(i){const t=this.getAggregation("content");t.addStyleClass(i);return this};return t}(t),s=v(l.prototype,"id",[n],{configurable:true,enumerable:true,writable:true,initializer:null}),u=v(l.prototype,"visible",[a],{configurable:true,enumerable:true,writable:true,initializer:null}),l))||o);return h},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/share/ShareOptions", ["sap/fe/base/ClassSupport","sap/fe/macros/controls/BuildingBlockObjectProperty"],function(e,r){"use strict";var t,i,n,o,a,l,s,u,c;var p={};var f=e.property;var b=e.defineUI5Class;function d(e,r,t,i){t&&Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(i):void 0})}function h(e,r){e.prototype=Object.create(r.prototype),e.prototype.constructor=e,m(e,r)}function m(e,r){return m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,r){return e.__proto__=r,e},m(e,r)}function w(e,r,t,i,n){var o={};return Object.keys(i).forEach(function(e){o[e]=i[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=t.slice().reverse().reduce(function(t,i){return i(e,r,t)||t},o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer?(Object.defineProperty(e,r,o),null):o}function y(e,r){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let g=(t=b("sap.fe.macros.share.ShareOptions"),i=f({type:"boolean",isBindingInfo:true}),n=f({type:"boolean",isBindingInfo:true}),o=f({type:"boolean",isBindingInfo:true}),t(a=(l=function(e){function r(r,t){var i;let n=t;if(typeof r!=="string"){n=r}const o=n?.showSendEmail;const a=n?.showCollaborationManager;const l=n?.showMsTeamsOptions;i=e.call(this,r,t)||this;d(i,"showSendEmail",s,i);d(i,"showCollaborationManager",u,i);d(i,"showMsTeamsOptions",c,i);i.showSendEmail=o;i.showCollaborationManager=a;i.showMsTeamsOptions=l;return i}p=r;h(r,e);return r}(r),s=w(l.prototype,"showSendEmail",[i],{configurable:true,enumerable:true,writable:true,initializer:null}),u=w(l.prototype,"showCollaborationManager",[n],{configurable:true,enumerable:true,writable:true,initializer:null}),c=w(l.prototype,"showMsTeamsOptions",[o],{configurable:true,enumerable:true,writable:true,initializer:null}),l))||a);p=g;return p},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/situations/SituationsIndicator", ["sap/base/Log","sap/fe/base/BindingToolkit","sap/fe/base/ClassSupport","sap/fe/core/buildingBlocks/BuildingBlock","sap/fe/core/formatters/StandardFormatter","sap/fe/macros/situations/SituationsPopover","sap/m/Button","sap/m/library","sap/fe/base/jsx-runtime/jsx"],function(t,e,r,i,n,a,o,s,l){"use strict";var u,p,c,f,y,b,d;var g={};var v=s.ButtonType;var m=a.showPopover;var h=r.property;var P=r.defineUI5Class;var T=e.pathInModel;var S=e.ifElse;var j=e.greaterThan;var O=e.formatResult;var w=e.equal;var z=e.compileExpression;var k=e.and;function x(t,e,r,i){r&&Object.defineProperty(t,e,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function C(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,N(t,e)}function N(t,e){return N=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},N(t,e)}function B(t,e,r,i,n){var a={};return Object.keys(i).forEach(function(t){a[t]=i[t]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(t,e,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer?(Object.defineProperty(t,e,a),null):a}function E(t,e){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let A=(u=P("sap.fe.macros.situations.SituationsIndicator"),p=h({type:"string",required:true}),c=h({type:"string",required:false}),u(f=(y=function(e){function r(t,r){var i;i=e.call(this,t,r)||this;x(i,"contextPath",b,i);x(i,"propertyPath",d,i);return i}g=r;C(r,e);var i=r.prototype;i.onMetadataAvailable=function t(){this.content=this.createContent()};r.getSituationsNavigationProperty=function e(r){let i;switch(r._type){case"NavigationProperty":i=r.targetType.navigationProperties;break;case"EntityType":i=r.navigationProperties;break;default:i=r.entityType.navigationProperties}const n=i.filter(t=>!t.isCollection&&t.targetType.annotations.Common?.SAPObjectNodeType?.Name==="BusinessSituation");const a=n.length>=1?n[0]:undefined;if(n.length>1){const e=n.map(t=>`'${t.name}'`).join(", ");let i;switch(r._type){case"NavigationProperty":i=r.targetType.name;break;case"EntityType":i=r.name;break;default:i=r.entityType.name}t.error(`Entity type '${i}' has multiple paths to SAP Situations (${e}). Using '${a?.name}'.\nHint: Make sure there is at most one navigation property whose target entity type is annotated with\n<Annotation Term="com.sap.vocabularies.Common.v1.SAPObjectNodeType">\n  <Record>\n    <PropertyValue Property="Name" String="BusinessSituation" />\n  </Record>\n</Annotation>.`)}return a};i.onPress=function t(e,r){const i=this.getPageController();if(i){m(i,e,r)}};i.createContent=function t(){const e=this.getDataModelObjectForMetaPath(this.contextPath)?.targetEntityType;if(!e){return}const i=r.getSituationsNavigationProperty(e);if(!i){return undefined}const a=T(`${i.name}/SitnNumberOfInstances`);let s;if(!this.propertyPath){s=j(a,0)}else{s=k(j(a,0),w(T("semanticKeyHasDraftIndicator","internal"),this.propertyPath))}const u=S(j(a,1),a,"");const p=O([this.getTranslatedText("situationsTooltipSingular"),this.getTranslatedText("situationsTooltipPlural"),a],n.formatPluralMessageConditionally);return l(o,{type:v.Attention,icon:"sap-icon://alert",text:u,tooltip:z(p),visible:s,press:t=>this.onPress(t,i.name)})};return r}(i),b=B(y.prototype,"contextPath",[p],{configurable:true,enumerable:true,writable:true,initializer:null}),d=B(y.prototype,"propertyPath",[c],{configurable:true,enumerable:true,writable:true,initializer:null}),y))||f);g=A;return g},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/situations/SituationsPopover", ["sap/fe/core/controllerextensions/BusyLocker","sap/fe/core/helpers/ResourceModelHelper","sap/fe/macros/situations/SituationsText","sap/m/Button","sap/m/CustomListItem","sap/m/HBox","sap/m/Label","sap/m/List","sap/m/ObjectIdentifier","sap/m/ObjectStatus","sap/m/ResponsivePopover","sap/m/Text","sap/m/Toolbar","sap/m/VBox"],function(t,e,n,a,s,i,o,c,l,p,d,r,u,g){"use strict";var m={};var x=n.bindText;var S=e.getResourceModel;function f(t){return{path:t,type:"sap.ui.model.odata.type.DateTimeOffset",constraints:{precision:7},formatOptions:{relative:true}}}let y;function h(e,n){let a=null;const o=new d({showHeader:false,contentHeight:`${n*4.5}em`,contentWidth:"25em",busyIndicatorDelay:200,placement:"Horizontal",content:[new c({items:{path:"_Instance",events:{dataReceived:()=>{o.setContentHeight()}},parameters:{$orderby:"SitnInstceLastChgdAtDateTime desc",$expand:"_InstanceAttribute($expand=_InstanceAttributeValue)"},template:new s({type:"Navigation",press:u,content:[new i({items:[new p({icon:"sap-icon://alert",state:"Warning",tooltip:S(e).getText("situation")}).addStyleClass("sapUiTinyMarginEnd"),new l({title:x("SituationTitle"),text:f("SitnInstceLastChgdAtDateTime")})]}).addStyleClass("sapUiSmallMarginBeginEnd").addStyleClass("sapUiSmallMarginTopBottom")]}),templateShareable:false},showNoData:false})]});function r(){if(a){a.unbindObject();a.close()}if(y){o.openBy(y)}}async function u(n){const s=n.getSource();const i=s.getBindingContext();if(i&&y){if(a===null){a=await b(e,r);a.setBindingContext(null);e.getView().addDependent(a)}a.bindElement({path:i.getPath(),parameters:{$expand:"_InstanceAttribute($expand=_InstanceAttributeValue)"},events:{dataReceived:()=>{t.unlock(a)}}});o.close();t.lock(a);a.openBy(y)}}return o}async function b(t,e){const n=[];const s=S(t);if(e){n.push(new a({type:"Back",tooltip:s.getText("back"),press:e}).addStyleClass("sapUiNoMarginEnd"))}n.push(new p({state:"Warning",icon:"sap-icon://alert",tooltip:s.getText("situationIconTooltip")}).addStyleClass("sapUiSmallMarginBegin"));n.push(new l({titleActive:false,title:x("SituationTitle")}).addStyleClass("sapUiSmallMarginEnd"));const i={contentWidth:"25em",contentHeight:"7em",placement:"Horizontal",customHeader:new u({content:n}),busyIndicatorDelay:100,content:[new g({items:[new o({text:f("SitnInstceLastChgdAtDateTime")}),new r({text:x("SituationText")}).addStyleClass("sapUiTinyMarginTop")]})]};const c=t.getAppComponent().getShellServices();const m={target:{action:"displayExtended",semanticObject:"SituationInstance"}};const y=await c.isNavigationSupported([m]);if(y[0].supported){i.endButton=new a({text:s.getText("showDetails"),press:t=>{const e=t.getSource().getBindingContext()?.getObject(`SitnInstceKey`);if(e!==undefined&&e!==null){m.params={SitnInstceKey:e};c.toExternal(m)}}})}return new d(i).addStyleClass("sapUiPopupWithPadding").addStyleClass("sapUiResponsivePadding--header")}async function w(t,e,n){y=e.getSource();const a=y.getBindingContext(),s=a.getObject(`${n}/SitnNumberOfInstances`);let i;const o=a.getModel().bindContext(n,a,{$expand:"_Instance($expand=_InstanceAttribute($expand=_InstanceAttributeValue))"}).getBoundContext();if(s<=1){i=await b(t);i.setBindingContext(o);i.bindElement({path:"_Instance/0"})}else{i=h(t,s);i.setBindingContext(o)}t.getView().addDependent(i);i.openBy(y)}m.showPopover=w;w.__functionName="rt.showPopover";return m},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/situations/SituationsText", ["sap/base/Log","sap/ui/model/odata/type/Boolean","sap/ui/model/odata/type/Date","sap/ui/model/odata/type/DateTimeOffset","sap/ui/model/odata/type/Decimal","sap/ui/model/odata/type/Guid","sap/ui/model/odata/type/Int32","sap/ui/model/odata/type/String"],function(t,e,n,r,a,u,i,s){"use strict";var c={};const o={};function E(t){switch(t){case"EDM.BOOLEAN":return new e;case"EDM.DATE":case"EDM.DATETIME":return new n;case"EDM.DATETIMEOFFSET":return new r;case"EDM.DECIMAL":return new a;case"EDM.GUID":return new u;case"EDM.INT32":return new i;case"EDM.STRING":return new s;default:return E("EDM.STRING")}}function d(t,e,n){switch(t){case"EDM.STRING":return e;case"EDM.DATE":case"EDM.DATETIME":case"EDM.DATETIMEOFFSET":return n.parseValue(e,"string");case"EDM.INT32":return parseInt(e,10);case"EDM.DECIMAL":return parseFloat(e);case"EDM.GUID":return e;case"EDM.BOOLEAN":return e==="X";default:return e}}function l(t){let e=o[t];if(!e){e=E(t);o[t]=e}return e}function D(e,n){const r=this.getBindingContext();if(e===undefined||e===null||n===undefined||n===null||!r){return""}const a=r.getObject("_InstanceAttribute");if(a===undefined||a===null||a.length===0){return n}const u=(e,n,r)=>{const u=parseInt(n,10).toString();const i=a.find(t=>t.SitnInstceAttribSource===u&&t.SitnInstceAttribName===r);if(i===undefined){t.error(`Failed to resolve attribute ${n}.${r}`);return""}if(!i._InstanceAttributeValue){t.error(`Failed to resolve a value for attribute ${n}.${r}`);return""}const s=l(i.SitnInstceAttribEntityType);return i._InstanceAttributeValue.map(t=>{const e=d(i.SitnInstceAttribEntityType,t.SitnInstceAttribValue,s);return s.formatValue(e,"string")}).join(", ")};return n.replace(/\{(\d+)\.([^}]+)}/g,u)}c.formatter=D;function p(t){return{parts:[{path:"SitnInstceKey"},{path:`_InstanceText/${t}`}],formatter:D}}c.bindText=p;return c},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/table/Action", ["sap/fe/base/ClassSupport","sap/fe/macros/controls/BuildingBlockObjectProperty"],function(e,r){"use strict";var t,i,n,l,a,u,o,p,b,c,s,f,y,g,m,d,z,v,w,O,h,j,P,S,k,q,_,A,I;var x={};var B=e.property;var C=e.event;var E=e.defineUI5Class;function D(e,r,t,i){t&&Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(i):void 0})}function U(e,r){e.prototype=Object.create(r.prototype),e.prototype.constructor=e,V(e,r)}function V(e,r){return V=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,r){return e.__proto__=r,e},V(e,r)}function F(e,r,t,i,n){var l={};return Object.keys(i).forEach(function(e){l[e]=i[e]}),l.enumerable=!!l.enumerable,l.configurable=!!l.configurable,("value"in l||l.initializer)&&(l.writable=!0),l=t.slice().reverse().reduce(function(t,i){return i(e,r,t)||t},l),n&&void 0!==l.initializer&&(l.value=l.initializer?l.initializer.call(n):void 0,l.initializer=void 0),void 0===l.initializer?(Object.defineProperty(e,r,l),null):l}function G(e,r){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let H=(t=E("sap.fe.macros.table.Action"),i=B({type:"string",required:true}),n=B({type:"string",required:true}),l=B({type:"string"}),a=B({type:"string"}),u=C(),o=B({type:"boolean"}),p=B({type:"boolean"}),b=B({type:"string"}),c=B({type:"string"}),s=B({type:"boolean"}),f=B({type:"boolean",defaultValue:false}),y=B({type:"string"}),g=B({type:"int"}),t(m=(d=function(e){function r(r){var t;t=e.call(this,r)||this;D(t,"key",z,t);D(t,"text",v,t);D(t,"anchor",w,t);D(t,"placement",O,t);D(t,"press",h,t);D(t,"requiresSelection",j,t);D(t,"enabled",P,t);D(t,"command",S,t);D(t,"enableOnSelect",k,t);D(t,"visible",q,t);D(t,"isAIOperation",_,t);D(t,"priority",A,t);D(t,"group",I,t);return t}x=r;U(r,e);return r}(r),z=F(d.prototype,"key",[i],{configurable:true,enumerable:true,writable:true,initializer:null}),v=F(d.prototype,"text",[n],{configurable:true,enumerable:true,writable:true,initializer:null}),w=F(d.prototype,"anchor",[l],{configurable:true,enumerable:true,writable:true,initializer:null}),O=F(d.prototype,"placement",[a],{configurable:true,enumerable:true,writable:true,initializer:null}),h=F(d.prototype,"press",[u],{configurable:true,enumerable:true,writable:true,initializer:null}),j=F(d.prototype,"requiresSelection",[o],{configurable:true,enumerable:true,writable:true,initializer:null}),P=F(d.prototype,"enabled",[p],{configurable:true,enumerable:true,writable:true,initializer:null}),S=F(d.prototype,"command",[b],{configurable:true,enumerable:true,writable:true,initializer:null}),k=F(d.prototype,"enableOnSelect",[c],{configurable:true,enumerable:true,writable:true,initializer:null}),q=F(d.prototype,"visible",[s],{configurable:true,enumerable:true,writable:true,initializer:null}),_=F(d.prototype,"isAIOperation",[f],{configurable:true,enumerable:true,writable:true,initializer:null}),A=F(d.prototype,"priority",[y],{configurable:true,enumerable:true,writable:true,initializer:null}),I=F(d.prototype,"group",[g],{configurable:true,enumerable:true,writable:true,initializer:null}),d))||m);x=H;return x},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/table/ActionGroup", ["sap/fe/base/ClassSupport","sap/fe/macros/controls/BuildingBlockObjectProperty","sap/fe/macros/table/Action"],function(e,r,t){"use strict";var i,n,a,l,u,o,c,p,s,b,f,y,g,d,m,v,z,w,O;var h={};var j=e.property;var A=e.defineUI5Class;var P=e.aggregation;function k(e,r,t,i){t&&Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(i):void 0})}function _(e,r){e.prototype=Object.create(r.prototype),e.prototype.constructor=e,C(e,r)}function C(e,r){return C=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,r){return e.__proto__=r,e},C(e,r)}function q(e,r,t,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce(function(t,i){return i(e,r,t)||t},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer?(Object.defineProperty(e,r,a),null):a}function x(e,r){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let B=(i=A("sap.fe.macros.table.ActionGroup"),n=j({type:"string",required:true}),a=P({type:"sap.fe.macros.table.Action",altTypes:["sap.fe.macros.table.ActionOverride"],multiple:true,defaultClass:t,isDefault:true}),l=j({type:"string",required:true}),u=j({type:"string"}),o=j({type:"string"}),c=j({type:"string"}),p=j({type:"string"}),s=j({type:"int"}),i(b=(f=function(e){function r(r){var t;t=e.call(this,r)||this;k(t,"key",y,t);k(t,"actions",g,t);k(t,"text",d,t);k(t,"anchor",m,t);k(t,"placement",v,t);k(t,"defaultAction",z,t);k(t,"priority",w,t);k(t,"group",O,t);return t}h=r;_(r,e);return r}(r),y=q(f.prototype,"key",[n],{configurable:true,enumerable:true,writable:true,initializer:null}),g=q(f.prototype,"actions",[a],{configurable:true,enumerable:true,writable:true,initializer:function(){return[]}}),d=q(f.prototype,"text",[l],{configurable:true,enumerable:true,writable:true,initializer:null}),m=q(f.prototype,"anchor",[u],{configurable:true,enumerable:true,writable:true,initializer:null}),v=q(f.prototype,"placement",[o],{configurable:true,enumerable:true,writable:true,initializer:null}),z=q(f.prototype,"defaultAction",[c],{configurable:true,enumerable:true,writable:true,initializer:null}),w=q(f.prototype,"priority",[p],{configurable:true,enumerable:true,writable:true,initializer:null}),O=q(f.prototype,"group",[s],{configurable:true,enumerable:true,writable:true,initializer:null}),f))||b);h=B;return h},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/table/ActionGroupOverride", ["sap/fe/base/ClassSupport","sap/fe/macros/controls/BuildingBlockObjectProperty","sap/fe/macros/table/Action"],function(e,r,t){"use strict";var i,n,a,o,l,u,c,p,s,b,f,y,g,d,m;var v={};var z=e.property;var O=e.defineUI5Class;var w=e.aggregation;function h(e,r,t,i){t&&Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(i):void 0})}function j(e,r){e.prototype=Object.create(r.prototype),e.prototype.constructor=e,P(e,r)}function P(e,r){return P=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,r){return e.__proto__=r,e},P(e,r)}function k(e,r,t,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce(function(t,i){return i(e,r,t)||t},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer?(Object.defineProperty(e,r,a),null):a}function A(e,r){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let _=(i=O("sap.fe.macros.table.ActionGroupOverride"),n=z({type:"string",required:true}),a=w({type:"sap.fe.macros.table.Action",altTypes:["sap.fe.macros.table.ActionOverride"],multiple:true,defaultClass:t,isDefault:true}),o=z({type:"string"}),l=z({type:"string"}),u=z({type:"string"}),c=z({type:"int"}),i(p=(s=function(e){function r(r){var t;t=e.call(this,r)||this;h(t,"key",b,t);h(t,"actions",f,t);h(t,"anchor",y,t);h(t,"placement",g,t);h(t,"priority",d,t);h(t,"group",m,t);return t}v=r;j(r,e);return r}(r),b=k(s.prototype,"key",[n],{configurable:true,enumerable:true,writable:true,initializer:null}),f=k(s.prototype,"actions",[a],{configurable:true,enumerable:true,writable:true,initializer:function(){return[]}}),y=k(s.prototype,"anchor",[o],{configurable:true,enumerable:true,writable:true,initializer:null}),g=k(s.prototype,"placement",[l],{configurable:true,enumerable:true,writable:true,initializer:null}),d=k(s.prototype,"priority",[u],{configurable:true,enumerable:true,writable:true,initializer:null}),m=k(s.prototype,"group",[c],{configurable:true,enumerable:true,writable:true,initializer:null}),s))||p);v=_;return v},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/table/ActionOverride", ["sap/fe/base/ClassSupport","sap/fe/macros/controls/BuildingBlockObjectProperty"],function(e,r){"use strict";var t,i,n,l,a,u,o,b,p,c,s,f,y,g,m,d,z,v,w,O,h,j,P,A,I,S,k,_,V;var B={};var C=e.property;var E=e.defineUI5Class;function F(e,r,t,i){t&&Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(i):void 0})}function T(e,r){e.prototype=Object.create(r.prototype),e.prototype.constructor=e,q(e,r)}function q(e,r){return q=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,r){return e.__proto__=r,e},q(e,r)}function D(e,r,t,i,n){var l={};return Object.keys(i).forEach(function(e){l[e]=i[e]}),l.enumerable=!!l.enumerable,l.configurable=!!l.configurable,("value"in l||l.initializer)&&(l.writable=!0),l=t.slice().reverse().reduce(function(t,i){return i(e,r,t)||t},l),n&&void 0!==l.initializer&&(l.value=l.initializer?l.initializer.call(n):void 0,l.initializer=void 0),void 0===l.initializer?(Object.defineProperty(e,r,l),null):l}function U(e,r){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let x=(t=E("sap.fe.macros.table.ActionOverride"),i=C({type:"string",required:true}),n=C({type:"string"}),l=C({type:"string"}),a=C({type:"boolean"}),u=C({type:"string"}),o=C({type:"string"}),b=C({type:"boolean"}),p=C({type:"boolean"}),c=C({type:"boolean"}),s=C({type:"string"}),f=C({type:"boolean",defaultValue:false}),y=C({type:"string"}),g=C({type:"int"}),t(m=(d=function(e){function r(r){var t;t=e.call(this,r)||this;F(t,"key",z,t);F(t,"anchor",v,t);F(t,"placement",w,t);F(t,"enabled",O,t);F(t,"command",h,t);F(t,"enableOnSelect",j,t);F(t,"enableAutoScroll",P,t);F(t,"visible",A,t);F(t,"navigateToInstance",I,t);F(t,"defaultValuesFunction",S,t);F(t,"isAIOperation",k,t);F(t,"priority",_,t);F(t,"group",V,t);return t}B=r;T(r,e);return r}(r),z=D(d.prototype,"key",[i],{configurable:true,enumerable:true,writable:true,initializer:null}),v=D(d.prototype,"anchor",[n],{configurable:true,enumerable:true,writable:true,initializer:null}),w=D(d.prototype,"placement",[l],{configurable:true,enumerable:true,writable:true,initializer:null}),O=D(d.prototype,"enabled",[a],{configurable:true,enumerable:true,writable:true,initializer:null}),h=D(d.prototype,"command",[u],{configurable:true,enumerable:true,writable:true,initializer:null}),j=D(d.prototype,"enableOnSelect",[o],{configurable:true,enumerable:true,writable:true,initializer:null}),P=D(d.prototype,"enableAutoScroll",[b],{configurable:true,enumerable:true,writable:true,initializer:null}),A=D(d.prototype,"visible",[p],{configurable:true,enumerable:true,writable:true,initializer:null}),I=D(d.prototype,"navigateToInstance",[c],{configurable:true,enumerable:true,writable:true,initializer:null}),S=D(d.prototype,"defaultValuesFunction",[s],{configurable:true,enumerable:true,writable:true,initializer:null}),k=D(d.prototype,"isAIOperation",[f],{configurable:true,enumerable:true,writable:true,initializer:null}),_=D(d.prototype,"priority",[y],{configurable:true,enumerable:true,writable:true,initializer:null}),V=D(d.prototype,"group",[g],{configurable:true,enumerable:true,writable:true,initializer:null}),d))||m);B=x;return B},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/table/ActionsTemplating", ["sap/base/util/deepClone","sap/fe/base/BindingToolkit","sap/fe/core/converters/ManifestSettings","sap/fe/core/converters/MetaModelConverter","sap/fe/core/converters/annotations/DataField","sap/fe/core/converters/controls/Common/Action","sap/fe/core/converters/controls/Common/table/StandardActions","sap/fe/core/helpers/BindingHelper","sap/fe/core/helpers/ModelHelper","sap/fe/core/helpers/StableIdHelper","sap/fe/macros/CommonHelper","sap/fe/macros/TSXUtils","sap/fe/macros/table/TableFullScreenButton","sap/fe/macros/table/TableHelper","sap/m/Button","sap/m/Menu","sap/m/MenuButton","sap/m/MenuItem","sap/m/OverflowToolbarLayoutData","sap/m/library","sap/m/upload/ActionsPlaceholder","sap/ui/core/Popup","sap/ui/mdc/actiontoolbar/ActionToolbarAction","../internal/helpers/ActionHelper","./BasicSearch","sap/fe/base/jsx-runtime/jsx"],function(e,n,t,i,o,a,r,d,l,s,c,u,b,f,p,m,v,g,x,M,A,h,C,y,I,D){"use strict";var T={};var P=M.MenuButtonMode;var O=u.createCustomData;var E=s.generate;var F=d.UI;var B=r.StandardActionKeys;var N=a.aiIcon;var _=a.ButtonType;var L=o.isDataFieldForIntentBasedNavigation;var S=o.isDataFieldForAction;var j=o.isActionWithDialog;var k=t.ActionType;var H=n.resolveBindingString;var w=n.pathInModel;var U=n.notEqual;var q=n.equal;var R=n.compileExpression;var $=n.and;function V(e,n,t,o,a,r,d){if(!t.annotationPath){return undefined}const l=c.getActionContext(d.metaModel.createBindingContext(t.annotationPath+"/Action"));const s=d.metaModel.createBindingContext(l);const u=s?i.getInvolvedDataModelObjects(s,r):undefined;const b=e.ActionTarget?.isBound;const p=e.ActionTarget?.annotations?.Core?.OperationAvailable?.valueOf()!==false;const m=!a?t.command:t.command+"::ContextMenu";const v=a?"ContextMenu":"ActionMenu";const x=t.command?undefined:d.handlerProvider.getDataFieldForActionButtonPressHandler(e,t,n,a);const M=t.command?`cmd:${m}|press`:undefined;let A=t.enabled!==undefined?t.enabled:f.isDataFieldForActionEnabled(o.tableDefinition,e.Action,!!b,s.getObject(),t.enableOnSelect,u?.targetEntityType,a);if(o.tableDefinition.control.analyticalConfiguration?.aggregationOnLeafLevel&&!!b){A=R($(F.isNodeLevelNavigable,H(A)))}if(b!==true||p){const i=E([o.contentId,t.key,n.key,v,e,"MenuItemForAction"]);return D(g,{text:e.Label,id:i,press:x,"jsx:command":M,enabled:A,visible:t.visible,children:{customData:[O("actionId",i)]}})}else{return undefined}}function W(e,n,t){let i=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;let o=arguments.length>4?arguments[4]:undefined;let a=arguments.length>5?arguments[5]:undefined;let r=arguments.length>6?arguments[6]:undefined;const d=n.command?undefined:r.getDataFieldForIBNPressHandler(n,i);const l=n.command?`cmd:${n.command}|press`:undefined;const s=n.enabled!==undefined?n.enabled:f.isDataFieldForIBNEnabled({collection:o,tableDefinition:t.tableDefinition},e,e.RequiresContext,e.NavigationAvailable,i);const c=i?E([t.contentId,n.key,a.key,e,"MenuItemIntentBasedNavigation","ContextMenu"]):E([t.contentId,n.key,a.key,e,"MenuItemIntentBasedNavigation"]);return D(g,{text:e.Label,id:c,press:d,"jsx:command":l,enabled:s,visible:n.visible,children:{customData:[!e.RequiresContext?O("IBNData",{semanticObject:e.SemanticObject,action:e.Action}):undefined,O("actionId",c)]}})}function X(e,n,t,i,o,a){const r=n.annotationPath?a.convertedMetadata.resolvePath(n.annotationPath).target:undefined;switch(r&&n.type){case"ForAction":if(S(r)){if(!i||i&&f.isActionShownInContextMenu(n,t.contextObjectPath)){return V(r,e,n,t,i,o,a)}}break;case"ForNavigation":if(L(r)&&(!i||i&&f.isActionShownInContextMenu(n,t.contextObjectPath))){return W(r,n,t,i,o,e,a.handlerProvider)}break;default:}const d=!i?n.command:n.command+"::ContextMenu";const l=n.command?undefined:a.handlerProvider.getManifestActionPressHandler(n,i);const s=n.command?`cmd:${d}|press`:undefined;let c=!i?n.enabled:n.enabledForContextMenu;if(n.requiresSelection&&t.tableDefinition.control.analyticalConfiguration?.aggregationOnLeafLevel){c=R($(H(c??""),F.isNodeLevelNavigable))}const u=i?"ContextMenu":"ActionMenu";const b=E([t.contentId,n.key,u,e.key,r,"MenuItem"]);return D(g,{"core:require":"{FPM: 'sap/fe/core/helpers/FPMHelper'}",text:n?.text,id:b,press:l,"jsx:command":s,visible:n.visible,enabled:c,children:{customData:[O("actionId",b)]}})}function Y(e,n,t,o,a,r){const d=r.metaModel.createBindingContext(n.annotationPath+"/Action");const l=c.getActionContext(d);const s=r.metaModel.createBindingContext(l);const u=s?i.getInvolvedDataModelObjects(s,a):undefined;const b=e.ActionTarget?.isBound;const m=!o?n.command:n.command+"::ContextMenu";const v=n.command?undefined:r.handlerProvider.getDataFieldForActionButtonPressHandler(e,n,undefined,o);const M=n.command?`cmd:${m}|press`:undefined;const A=n.enabled!==undefined?n.enabled:f.isDataFieldForActionEnabled(t.tableDefinition,e.Action,!!b,s.getObject(),n.enableOnSelect,u?.targetEntityType,o);const h=n.isAIOperation===true?N:undefined;if(!o){const i=E([t.contentId,e]);return D(p,{id:i,text:e.Label,icon:h,ariaHasPopup:j(e),press:v,"jsx:command":M,type:_.Transparent,enabled:A,visible:n.visible,children:{customData:[O("actionId",i)],layoutData:D(x,{priority:n.priority,group:n.group})}})}else{const n=E([t.contentId,e,"ContextMenu"]);return D(g,{id:n,text:e.Label,icon:h,press:v,"jsx:command":M,enabled:A,children:{customData:[O("actionId",n)]}})}}function G(e,n,t,i,o,a){const r=!i?n.command:n.command+"::ContextMenu";const d=n.command?undefined:a.getDataFieldForIBNPressHandler(n,i);const l=n.command?`cmd:${r}|press`:undefined;const s=n.enabled!==undefined?n.enabled:f.isDataFieldForIBNEnabled({collection:o,tableDefinition:t.tableDefinition},e,e.RequiresContext,e.NavigationAvailable,i);const c=!e.RequiresContext?{semanticObject:e.SemanticObject,action:e.Action}:undefined;if(!i){const i=E([t.contentId,e]);return D(p,{id:i,text:e.Label,press:d,"jsx:command":l,type:_.Transparent,enabled:s,visible:n.visible,children:{customData:[O("IBNData",c),O("actionId",i)]}})}else{const n=E([t.contentId,e,"ContextMenu"]);return D(g,{id:n,text:e.Label,press:d,"jsx:command":l,enabled:s,children:{customData:[O("IBNData",c),O("actionId",n)]}})}}function K(n,t,i,o,a){const r=n.annotationPath?a.convertedMetadata.resolvePath(n.annotationPath).target:undefined;let d;if(!r){return undefined}switch(n.type){case"ForAction":if(S(r)){const l=r.ActionTarget?.isBound;if(!!l&&t.tableDefinition.control.analyticalConfiguration?.aggregationOnLeafLevel){n=e(n);n.enabled=R($(H(n.enabled??""),F.isNodeLevelNavigable))}const s=r.ActionTarget?.annotations?.Core?.OperationAvailable?.valueOf()!==false;if(!i||f.isActionShownInContextMenu(n,t.contextObjectPath)){if(l!==true||s){d=Y(r,n,t,i,o,a)}}}break;case"ForNavigation":if(L(r)&&(!i||f.isActionShownInContextMenu(n,t.contextObjectPath))){d=G(r,n,t,i,o,a.handlerProvider)}break;default:}if(d===undefined){return undefined}if(!i){return D(C,{id:E([t.contentId,n.id,r,"ActionToolbarAction"]),"dt:designtime":n.visible==="true"||n.visible==="false"?undefined:"not-adaptable-visibility",children:{action:d}})}else{return d}}function z(e,n,t){if(!e){return{}}try{switch(e.type){case"ForAction":return{handler:t.handlerProvider.getDataFieldForActionButtonPressHandler(n,e,undefined,false)};case"ForNavigation":return{handler:t.handlerProvider.getDataFieldForIBNPressHandler(e,false)};default:{if(e.command){return{command:`cmd:${e.command}|defaultAction`}}else{return{handler:t.handlerProvider.getManifestActionPressHandler(e,false)}}}}}catch(e){return{}}}function J(n,t,i,o,a){if(n.requiresSelection&&t.tableDefinition.control.analyticalConfiguration?.aggregationOnLeafLevel){n=e(n);n.enabled=R($(H(n.enabled??""),F.isNodeLevelNavigable))}const r=n.isAIOperation===true?N:undefined;if(!i){const e=n.defaultAction;const d=e?.annotationPath?a.convertedMetadata.resolvePath(e.annotationPath).target:undefined;const l=z(e,d,a);const s=n.menu?.filter(e=>typeof e!=="string").map(e=>X(n,e,t,i,o,a)).filter(e=>e!==undefined);if(s?.length){const e=E([t.contentId,n.id]);return D(C,{id:E([t.contentId,n.id,"ActionToolbarAction"]),"dt:designtime":n.visible==="true"||n.visible==="false"?undefined:"not-adaptable-visibility",children:D(v,{text:n.text,type:_.Transparent,menuPosition:h.Dock.BeginBottom,id:e,visible:n.visible,enabled:n.enabled,useDefaultActionOnly:!!n.defaultAction,icon:r,buttonMode:n.defaultAction?P.Split:P.Regular,defaultAction:l.handler,"jsx:command":l.command,children:{customData:[O("actionId",e)],menu:D(m,{children:s}),layoutData:D(x,{priority:n.priority,group:n.group})}})})}else{return undefined}}else{const e=[];n.menu?.forEach(n=>{if(typeof n!=="string"&&f.isActionShownInContextMenu(n,t.contextObjectPath)){e?.push(n)}});const d=e.filter(e=>typeof e!=="string").map(e=>X(n,e,t,i,o,a)).filter(e=>e!==undefined);if(d?.length){return D(g,{text:n.text,id:E([t.contentId,n.id,"ContextMenu"]),enabled:n.enabledForContextMenu,icon:r,children:{items:d}})}else{return undefined}}}function Q(n,t,i,o){const a=!i?n.command:n.command+"::ContextMenu";const r=n.command?undefined:o.getManifestActionPressHandler(n,i);const d=n.command?`cmd:${a}|press`:undefined;if(n.requiresSelection&&t.tableDefinition.control.analyticalConfiguration?.aggregationOnLeafLevel){n=e(n);n.enabled=R($(H(n.enabled??""),F.isNodeLevelNavigable));n.enabledForContextMenu=R($(H(n.enabledForContextMenu??""),F.isNodeLevelNavigable))}if(!i){return D(C,{id:E([t.contentId,n.id,"ActionToolbarAction"]),"dt:designtime":n.visible==="true"||n.visible==="false"?undefined:"not-adaptable-visibility",children:D(p,{"core:require":"{FPM: 'sap/fe/core/helpers/FPMHelper'}",id:E([t.contentId,n.id]),text:n.text,press:r,"jsx:command":d,type:_.Transparent,visible:n.visible,enabled:n.enabled,icon:n.isAIOperation===true?N:undefined,children:{customData:[O("actionId",E([t.contentId,n.id]))],layoutData:D(x,{priority:n.priority,group:n.group})}})})}else if(f.isActionShownInContextMenu(n,t.contextObjectPath)){const e=E([t.contentId,n.id,"ContextMenu"]);return D(g,{"core:require":"{FPM: 'sap/fe/core/helpers/FPMHelper'}",id:e,text:n.text,press:r,"jsx:command":d,enabled:n.enabledForContextMenu,children:{customData:[O("actionId",e)]}})}else{return undefined}}function Z(e,n,t,i,o){switch(e.type){case"Default":if("noWrap"in e){return Q(e,n,t,o.handlerProvider)}break;case"Menu":return J(e,n,t,i,o);default:}return K(e,n,t,i,o)}function ee(e,n,t,o,a){const r=e.annotationPath?a.convertedMetadata.resolvePath(e.annotationPath).target:undefined;const d=c.getActionContext(a.metaModel.createBindingContext(e.annotationPath+"/Action"));const l=r?.ActionTarget?.annotations?.Core?.OperationAvailable!==undefined;const s=a.metaModel.createBindingContext(d);const u=s?i.getInvolvedDataModelObjects(s,o):undefined;const b=r?.ActionTarget?.isBound;const m=r?a.handlerProvider.getDataFieldForActionButtonPressHandler(r,e,undefined,t):undefined;let v=l?f.isDataFieldForActionEnabled(n.tableDefinition,r.Action,!!b,s.getObject(),e.enableOnSelect,u?.targetEntityType,t,true):`{= ${y.getNumberOfContextsExpression("single",t)}}`;if(n.tableDefinition.control.analyticalConfiguration?.aggregationOnLeafLevel){v=R($(H(v),F.isNodeLevelNavigable))}if(!t){return D(C,{id:E([n.contentId,r,"ActionToolbarAction"]),"dt:designtime":e.visible==="true"||e.visible==="false"?undefined:"not-adaptable-visibility",children:D(p,{id:E([n.contentId,r]),text:e.text,press:m,type:_.Transparent,visible:e.visible,enabled:v,children:{customData:[O("actionId",E([n.contentId,r]))],layoutData:D(x,{priority:e.priority,group:e.group})}})})}else{return D(g,{id:E([n.contentId,r,"ContextMenu"]),text:e.text,press:m,enabled:R(q(w("contextmenu/numberOfSelectedContexts","internal"),1)),children:{customData:[O("actionId",E([n.contentId,r,"ContextMenu"]))]}})}}function ne(e,n,t,i){const o=i.name;const a=n.getTranslatedText("M_COMMON_TABLE_CREATE",undefined,o);const r=n.tableDefinition.annotation.create.outboundDetail;const d=r?O("IBNData",{semanticObject:r.semanticObject,action:r.action}):undefined;if(n.tableDefinition.control.enableUploadPlugin){return D(A,{id:`${n.contentId}-uploadButton`,placeholderFor:"UploadButtonPlaceholder"})}else if(!t){return D(C,{id:E([n.contentId,e.key,"ActionToolbarAction"]),"dt:designtime":"not-adaptable-tree",children:D(p,{id:E([n.contentId,e.key]),text:a,"jsx:command":"cmd:Create|press",type:_.Transparent,visible:e.visible,enabled:e.enabled,children:{customData:d,layoutData:D(x,{priority:e.priority,group:e.group})}})})}else{return D(g,{id:E([n.contentId,e.key,"ContextMenu"]),text:a,"jsx:command":"cmd:Create::ContextMenu|press",visible:e.visible,enabled:e.enabledForContextMenu})}}function te(e,n,t,i,o){const a=t.name;const r=n.getTranslatedText("M_COMMON_TABLE_CREATE",undefined,a);const d=n.tableDefinition.control.nodeType.values;const l=n.tableDefinition.control.createEnablement!==undefined;const s=d.map((e,t)=>{const a=!i?"":"contextmenu/";const r=l?U(w(`${a}createEnablement/Create_${t}`,"internal"),false):undefined;const d=i?E([n.contentId,e.value,"ContextMenu"]):E([n.contentId,e.value]);return D(g,{id:d,text:e.text,enabled:r?R(r):undefined,press:o.getCreateMenuItemPressHandler(t,i)})});if(i){return D(g,{id:E([n.contentId,e.key,"ContextMenu"]),text:r,visible:e.visible,enabled:e.enabledForContextMenu,children:{items:s!==undefined&&s.length>0?s:undefined}})}return D(C,{id:E([n.contentId,e.key,"ActionToolbarAction"]),"dt:designtime":"not-adaptable-tree",children:D(v,{text:r,type:_.Transparent,menuPosition:"BeginBottom",id:E([n.contentId,e.key]),visible:e.visible,enabled:e.enabled,children:{customData:[O("actionId",E([n.contentId,e.key]))],menu:D(m,{children:s}),layoutData:D(x,{priority:e.priority,group:e.group})}})})}function ie(e,n,t,i){const o=i.name;const a=n.getTranslatedText("M_COMMON_TABLE_DELETE",undefined,o);if(!t){return D(C,{id:E([n.contentId,e.key,"ActionToolbarAction"]),"dt:designtime":"not-adaptable-tree",children:D(p,{id:E([n.contentId,e.key]),text:a,"jsx:command":"cmd:DeleteEntry|press",type:_.Transparent,visible:e.visible,enabled:e.enabled,ariaHasPopup:"Dialog",children:{layoutData:D(x,{priority:e.priority,group:e.group})}})})}else{return D(g,{id:E([n.contentId,e.key,"ContextMenu"]),text:a,"jsx:command":"cmd:DeleteEntry::ContextMenu|press",visible:e.visible,enabled:e.enabledForContextMenu})}}function oe(n,t,i,o,a){if(n.isTemplated==="false"){return undefined}if(t.tableDefinition.control.analyticalConfiguration?.aggregationOnLeafLevel&&n.key!==B.Create){n=e(n);n.enabled=R($(H(n.enabled??""),F.isNodeLevelNavigable));n.enabledForContextMenu=R($(H(n.enabledForContextMenu??""),F.isNodeLevelNavigable))}switch(n.key){case B.Create:if(!t.tableDefinition.annotation.isInsertUpdateActionsTemplated||t.tableDefinition.control.type!=="TreeTable"&&i){return undefined}else if(t.tableDefinition.control.nodeType){return te(n,t,a,i,o)}else{return ne(n,t,i,a)}case B.Delete:return ie(n,t,i,a);case B.Cut:return le(n,t,i);case B.Copy:return se(n,t,i);case B.Paste:return ue(n,t,i);case B.MassEdit:if(t.tableDefinition.annotation.isInsertUpdateActionsTemplated){if(!i){return D(C,{id:E([t.contentId,n.key,"ActionToolbarAction"]),"dt:designtime":"not-adaptable-tree",children:D(p,{id:E([t.contentId,n.key]),text:"{sap.fe.i18n>M_COMMON_TABLE_MASSEDIT}",press:o.getMassEditButtonPressHandler(false),visible:n.visible,enabled:n.enabled,children:{layoutData:D(x,{priority:n.priority,group:n.group})}})})}else{return D(g,{id:E([t.contentId,n.key,"ContextMenu"]),text:"{sap.fe.i18n>M_COMMON_TABLE_MASSEDIT}",press:o.getMassEditButtonPressHandler(true),enabled:n.enabledForContextMenu})}}return undefined;case B.Insights:if(!i){return D(C,{id:E([t.contentId,n.key,"ActionToolbarAction"]),"dt:designtime":n.visible==="true"||n.visible==="false"?undefined:"not-adaptable-visibility",visible:n.visible,children:D(p,{id:E([t.contentId,n.key]),text:"{sap.fe.i18n>M_COMMON_INSIGHTS_CARD}",press:o.addCardToInsightsPress,visible:n.visible,enabled:n.enabled,children:{layoutData:D(x,{priority:n.priority??"AlwaysOverflow",group:n.group})}})})}return undefined;case B.MoveUp:case B.MoveDown:return ce(n,t,i);default:return undefined}}function ae(e,n,t,i,o){const a=y.ensurePrimaryActionNeverOverflows(e.tableDefinition.actions);return a.map(a=>{switch(a.type){case k.Standard:return oe(a,e,n,t.handlerProvider,o);case k.Copy:return ee(a,e,n,i,t);default:return Z(a,e,n,i,t)}}).filter(e=>e!==undefined)}T.getActions=ae;function re(e,n,t,i){if(e){return D(C,{id:E([n,"ActionToolbarAction"]),label:"{sap.fe.i18n>M_BASIC_SEARCH}","dt:designtime":"not-adaptable-tree",children:{action:D(I,{id:n,useDraftEditState:t,visible:i})}})}return undefined}function de(e){if(e.tableDefinition.control.enableFullScreen){return D(C,{id:E([e.contentId,"StandardAction","FullScreen","ActionToolbarAction"]),label:"{sap.fe.i18n>M_FULL_SCREEN}","dt:designtime":"not-adaptable-tree",children:{action:D(b,{id:E([e.contentId,"StandardAction","FullScreen"])})}})}return undefined}function le(e,n){let t=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;if(!t){return D(C,{id:E([n.contentId,"Cut","ActionToolbarAction"]),"dt:designtime":"not-adaptable-tree",children:D(p,{id:E([n.contentId,"Cut"]),text:"{sap.fe.i18n>M_TABLE_CUT}","jsx:command":"cmd:Cut|press",visible:e.visible,enabled:e.enabled,children:{layoutData:D(x,{priority:e.priority,group:e.group})}})})}else{return D(g,{id:E([n.contentId,"Cut","ContextMenu"]),text:"{sap.fe.i18n>M_TABLE_CUT}","jsx:command":"cmd:Cut::ContextMenu|press",visible:e.visible,enabled:e.enabledForContextMenu})}}function se(e,n){let t=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;if(!t){return D(C,{id:E([n.contentId,"Copy","ActionToolbarAction"]),"dt:designtime":"not-adaptable-tree",children:D(p,{id:E([n.contentId,"Copy"]),text:"{sap.fe.i18n>M_TABLE_COPY}","jsx:command":"cmd:Copy|press",visible:e.visible,enabled:e.enabled,children:{layoutData:D(x,{priority:e.priority,group:e.group})}})})}else{return D(g,{id:E([n.contentId,"Copy","ContextMenu"]),text:"{sap.fe.i18n>M_TABLE_COPY}","jsx:command":"cmd:Copy::ContextMenu|press",visible:e.visible,enabled:e.enabledForContextMenu})}}function ce(e,n,t){const i=e.key===B.MoveUp;if(!t){return D(C,{id:E([n.contentId,e.key,"ActionToolbarAction"]),visible:e.visible,"dt:designtime":"not-adaptable-tree",children:D(p,{id:E([n.contentId,e.key]),text:i?"{sap.fe.i18n>M_TABLE_MOVE_UP}":"{sap.fe.i18n>M_TABLE_MOVE_DOWN}","jsx:command":i?"cmd:TableMoveElementUp|press":"cmd:TableMoveElementDown|press",visible:e.visible,enabled:e.enabled,children:{layoutData:D(x,{priority:e.priority,group:e.group})}})})}else{return D(g,{id:E([n.contentId,e.key,"ContextMenu"]),text:i?"{sap.fe.i18n>M_TABLE_MOVE_UP}":"{sap.fe.i18n>M_TABLE_MOVE_DOWN}","jsx:command":i?"cmd:TableMoveElementUp::ContextMenu|press":"cmd:TableMoveElementDown::ContextMenu|press",visible:e.visible,enabled:e.enabledForContextMenu})}}function ue(e,n){let t=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;const i=n.tableDefinition.control.type;if(i==="TreeTable"){if(!t){return D(C,{id:E([n.contentId,"Paste","ActionToolbarAction"]),"dt:designtime":"not-adaptable-tree",children:D(p,{id:E([n.contentId,"Paste"]),text:"{sap.fe.i18n>M_PASTE}","jsx:command":"cmd:Paste|press",visible:e.visible,enabled:e.enabled,children:{layoutData:D(x,{priority:e.priority,group:e.group})}})})}else{return D(g,{id:E([n.contentId,"Paste","ContextMenu"]),text:"{sap.fe.i18n>M_PASTE}","jsx:command":"cmd:Paste::ContextMenu|press",visible:e.visible,enabled:e.enabledForContextMenu})}}return undefined}function be(e,n,t,i){const o=l.isDraftNode(i)||l.isDraftRoot(i);let a;if(e.isSearchable===false){a=false}else{a=e.tableDefinition.annotation.searchable}const r=[];const d=re(!!e.useBasicSearch,e.filterBar,o,a);if(d){r.push(d)}r.push(...ae(e,false,n,t,i));const s=de(e);if(s){r.push(s)}return r}T.getTableActionsTemplate=be;function fe(e,n,t,i){const o=ae(e,true,n,t,i);if(e.tableDefinition.control.type==="TreeTable"){o.push(pe(e,true,n.handlerProvider.expandNode));o.push(pe(e,false,n.handlerProvider.collapseNode))}return o}T.getTableContextMenuTemplate=fe;function pe(e,n,t){const i=n?$(q(w("contextmenu/isExpandable","internal"),true),q(w("contextmenu/numberOfSelectedContexts","internal"),1)):$(q(w("contextmenu/isCollapsable","internal"),true),q(w("contextmenu/numberOfSelectedContexts","internal"),1));return D(g,{id:E([e.contentId,n?"Expand":"Collapse","ContextMenu"]),text:n?"{sap.fe.i18n>M_TABLE_CONTEXTMENU_EXPAND}":"{sap.fe.i18n>M_TABLE_CONTEXTMENU_COLLAPSE}",press:t,enabled:i})}return T},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/table/AnalyticalConfiguration", ["sap/fe/base/ClassSupport","sap/fe/macros/controls/BuildingBlockObjectProperty"],function(e,r){"use strict";var t,i,n,a,o;var l={};var u=e.property;var c=e.defineUI5Class;function f(e,r,t,i){t&&Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(i):void 0})}function s(e,r){e.prototype=Object.create(r.prototype),e.prototype.constructor=e,p(e,r)}function p(e,r){return p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,r){return e.__proto__=r,e},p(e,r)}function b(e,r,t,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce(function(t,i){return i(e,r,t)||t},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer?(Object.defineProperty(e,r,a),null):a}function d(e,r){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let v=(t=c("sap.fe.macros.table.AnalyticalConfiguration"),i=u({type:"boolean",defaultValue:false}),t(n=(a=function(e){function r(r){var t;t=e.call(this,r)||this;f(t,"aggregationOnLeafLevel",o,t);return t}l=r;s(r,e);return r}(r),o=b(a.prototype,"aggregationOnLeafLevel",[i],{configurable:true,enumerable:true,writable:true,initializer:null}),a))||n);l=v;return l},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/table/BasicSearch", ["sap/fe/base/ClassSupport","sap/fe/macros/filterBar/FilterHelper","sap/m/SearchField","sap/ui/core/Control","sap/ui/mdc/odata/v4/TypeMap"],function(e,t,r,i,a){"use strict";var n,o,l,u,s,c,p,f,d,b,g,m,y;var v=t.getEditStatusFilter;var _=e.property;var h=e.implementInterface;var S=e.event;var z=e.defineUI5Class;var w=e.aggregation;function C(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function E(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,F(e,t)}function F(e,t){return F=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},F(e,t)}function I(e,t,r,i,a){var n={};return Object.keys(i).forEach(function(e){n[e]=i[e]}),n.enumerable=!!n.enumerable,n.configurable=!!n.configurable,("value"in n||n.initializer)&&(n.writable=!0),n=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},n),a&&void 0!==n.initializer&&(n.value=n.initializer?n.initializer.call(a):void 0,n.initializer=void 0),void 0===n.initializer?(Object.defineProperty(e,t,n),null):n}function O(e,t){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let P=(n=z("sap.fe.macros.table.BasicSearch"),o=h("sap.ui.mdc.IFilter"),l=S(),u=S(),s=w({type:"sap.ui.core.Control",multiple:false}),c=_({type:"boolean"}),n(p=(f=function(e){function t(){var t;for(var r=arguments.length,i=new Array(r),a=0;a<r;a++){i[a]=arguments[a]}t=e.call(this,...i)||this;C(t,"__implements__sap_ui_mdc_IFilter",d,t);t.__implements__sap_ui_mdc_IFilterSource=true;C(t,"filterChanged",b,t);C(t,"search",g,t);C(t,"filter",m,t);C(t,"useDraftEditState",y,t);return t}E(t,e);var i=t.prototype;i.init=function e(){this.setAggregation("filter",new r({placeholder:"{sap.fe.i18n>M_FILTERBAR_SEARCH}",search:()=>{this.fireEvent("search")}}))};i.getConditions=function e(){if(this.useDraftEditState){return v()}return{}};i.getTypeMap=function e(){return a};i.getPropertyInfoSet=function e(){if(this.useDraftEditState){return[{name:"$editState",path:"$editState",groupLabel:"",group:"",typeConfig:a.getTypeConfig("sap.ui.model.odata.type.String",{},{}),dataType:"sap.ui.model.odata.type.String",hiddenFilter:false}]}return[]};i.getSearch=function e(){return this.filter.getValue()};i.validate=async function e(){return Promise.resolve()};t.render=function e(t,r){t.openStart("div",r);t.openEnd();t.renderControl(r.filter);t.close("div")};return t}(i),d=I(f.prototype,"__implements__sap_ui_mdc_IFilter",[o],{configurable:true,enumerable:true,writable:true,initializer:function(){return true}}),b=I(f.prototype,"filterChanged",[l],{configurable:true,enumerable:true,writable:true,initializer:null}),g=I(f.prototype,"search",[u],{configurable:true,enumerable:true,writable:true,initializer:null}),m=I(f.prototype,"filter",[s],{configurable:true,enumerable:true,writable:true,initializer:null}),y=I(f.prototype,"useDraftEditState",[c],{configurable:true,enumerable:true,writable:true,initializer:function(){return false}}),f))||p);return P},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/table/Column", ["sap/fe/base/ClassSupport","sap/fe/macros/controls/BuildingBlockObjectProperty"],function(e,t){"use strict";var r,i,l,n,a,u,o,p,b,c,s,f,y,g,m,d,z,w,v,h,O,j,C,P,k,x,E,S,q,_,I,A,B;var D={};var H=e.property;var U=e.defineUI5Class;var F=e.aggregation;function G(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function J(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,K(e,t)}function K(e,t){return K=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},K(e,t)}function L(e,t,r,i,l){var n={};return Object.keys(i).forEach(function(e){n[e]=i[e]}),n.enumerable=!!n.enumerable,n.configurable=!!n.configurable,("value"in n||n.initializer)&&(n.writable=!0),n=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},n),l&&void 0!==n.initializer&&(n.value=n.initializer?n.initializer.call(l):void 0,n.initializer=void 0),void 0===n.initializer?(Object.defineProperty(e,t,n),null):n}function M(e,t){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let N=(r=U("sap.fe.macros.table.Column"),i=H({type:"string",required:true}),l=H({type:"string",required:true}),n=H({type:"string"}),a=H({type:"string"}),u=H({type:"string"}),o=H({type:"boolean"}),p=H({type:"string"}),b=H({type:"string"}),c=H({type:"string[]"}),s=H({type:"string"}),f=H({type:"string"}),y=H({type:"boolean"}),g=F({type:"sap.ui.core.Control",isDefault:true}),m=F({type:"sap.fe.macros.table.ColumnExportSettings"}),d=H({type:"boolean"}),r(z=(w=function(e){function t(t,r){var i;i=e.call(this,t,r)||this;G(i,"key",v,i);G(i,"header",h,i);G(i,"width",O,i);G(i,"importance",j,i);G(i,"horizontalAlign",C,i);G(i,"widthIncludingColumnHeader",P,i);G(i,"anchor",k,i);G(i,"placement",x,i);G(i,"properties",E,i);G(i,"tooltip",S,i);G(i,"availability",q,i);G(i,"required",_,i);G(i,"template",I,i);G(i,"exportSettings",A,i);G(i,"disableExport",B,i);return i}D=t;J(t,e);var r=t.prototype;r.init=function t(){e.prototype.init.call(this);this.mSkipPropagation={template:true};return};return t}(t),v=L(w.prototype,"key",[i],{configurable:true,enumerable:true,writable:true,initializer:null}),h=L(w.prototype,"header",[l],{configurable:true,enumerable:true,writable:true,initializer:null}),O=L(w.prototype,"width",[n],{configurable:true,enumerable:true,writable:true,initializer:null}),j=L(w.prototype,"importance",[a],{configurable:true,enumerable:true,writable:true,initializer:null}),C=L(w.prototype,"horizontalAlign",[u],{configurable:true,enumerable:true,writable:true,initializer:null}),P=L(w.prototype,"widthIncludingColumnHeader",[o],{configurable:true,enumerable:true,writable:true,initializer:null}),k=L(w.prototype,"anchor",[p],{configurable:true,enumerable:true,writable:true,initializer:null}),x=L(w.prototype,"placement",[b],{configurable:true,enumerable:true,writable:true,initializer:null}),E=L(w.prototype,"properties",[c],{configurable:true,enumerable:true,writable:true,initializer:null}),S=L(w.prototype,"tooltip",[s],{configurable:true,enumerable:true,writable:true,initializer:null}),q=L(w.prototype,"availability",[f],{configurable:true,enumerable:true,writable:true,initializer:null}),_=L(w.prototype,"required",[y],{configurable:true,enumerable:true,writable:true,initializer:null}),I=L(w.prototype,"template",[g],{configurable:true,enumerable:true,writable:true,initializer:null}),A=L(w.prototype,"exportSettings",[m],{configurable:true,enumerable:true,writable:true,initializer:null}),B=L(w.prototype,"disableExport",[d],{configurable:true,enumerable:true,writable:true,initializer:null}),w))||z);D=N;return D},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/table/ColumnExportSettings", ["sap/fe/base/ClassSupport","../controls/BuildingBlockObjectProperty"],function(e,t){"use strict";var r,i,l,n,a,u,o,p,b,c,s,f,y,g,m,d,w,z,v,O,h,j,P;var V={};var _=e.property;var x=e.defineUI5Class;function C(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function E(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,k(e,t)}function k(e,t){return k=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},k(e,t)}function A(e,t,r,i,l){var n={};return Object.keys(i).forEach(function(e){n[e]=i[e]}),n.enumerable=!!n.enumerable,n.configurable=!!n.configurable,("value"in n||n.initializer)&&(n.writable=!0),n=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},n),l&&void 0!==n.initializer&&(n.value=n.initializer?n.initializer.call(l):void 0,n.initializer=void 0),void 0===n.initializer?(Object.defineProperty(e,t,n),null):n}function B(e,t){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let M=(r=x("sap.fe.macros.table.ColumnExportSettings"),i=_({type:"string"}),l=_({type:"string"}),n=_({type:"boolean"}),a=_({type:"string"}),u=_({type:"string[]"}),o=_({type:"number"}),p=_({type:"string"}),b=_({type:"string"}),c=_({type:"string"}),s=_({type:"object"}),r(f=(y=function(e){function t(t){var r;r=e.call(this,t)||this;C(r,"label",g,r);C(r,"template",m,r);C(r,"wrap",d,r);C(r,"type",w,r);C(r,"property",z,r);C(r,"width",v,r);C(r,"textAlign",O,r);C(r,"trueValue",h,r);C(r,"falseValue",j,r);C(r,"valueMap",P,r);return r}V=t;E(t,e);return t}(t),g=A(y.prototype,"label",[i],{configurable:true,enumerable:true,writable:true,initializer:null}),m=A(y.prototype,"template",[l],{configurable:true,enumerable:true,writable:true,initializer:null}),d=A(y.prototype,"wrap",[n],{configurable:true,enumerable:true,writable:true,initializer:null}),w=A(y.prototype,"type",[a],{configurable:true,enumerable:true,writable:true,initializer:null}),z=A(y.prototype,"property",[u],{configurable:true,enumerable:true,writable:true,initializer:null}),v=A(y.prototype,"width",[o],{configurable:true,enumerable:true,writable:true,initializer:null}),O=A(y.prototype,"textAlign",[p],{configurable:true,enumerable:true,writable:true,initializer:null}),h=A(y.prototype,"trueValue",[b],{configurable:true,enumerable:true,writable:true,initializer:null}),j=A(y.prototype,"falseValue",[c],{configurable:true,enumerable:true,writable:true,initializer:null}),P=A(y.prototype,"valueMap",[s],{configurable:true,enumerable:true,writable:true,initializer:null}),y))||f);V=M;return V},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/table/ColumnOverride", ["sap/fe/base/ClassSupport","sap/fe/macros/controls/BuildingBlockObjectProperty"],function(e,r){"use strict";var t,i,n,l,a,o,u,p,b,c,s,f,y,g,d,m,v,z,w;var h={};var O=e.property;var j=e.defineUI5Class;var C=e.aggregation;function P(e,r,t,i){t&&Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(i):void 0})}function x(e,r){e.prototype=Object.create(r.prototype),e.prototype.constructor=e,E(e,r)}function E(e,r){return E=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,r){return e.__proto__=r,e},E(e,r)}function k(e,r,t,i,n){var l={};return Object.keys(i).forEach(function(e){l[e]=i[e]}),l.enumerable=!!l.enumerable,l.configurable=!!l.configurable,("value"in l||l.initializer)&&(l.writable=!0),l=t.slice().reverse().reduce(function(t,i){return i(e,r,t)||t},l),n&&void 0!==l.initializer&&(l.value=l.initializer?l.initializer.call(n):void 0,l.initializer=void 0),void 0===l.initializer?(Object.defineProperty(e,r,l),null):l}function S(e,r){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let _=(t=j("sap.fe.macros.table.ColumnOverride"),i=O({type:"string",required:true}),n=O({type:"string"}),l=O({type:"string"}),a=O({type:"string"}),o=O({type:"boolean"}),u=O({type:"string"}),p=C({type:"sap.fe.macros.table.ColumnExportSettings"}),b=O({type:"boolean"}),t(c=(s=function(e){function r(r){var t;t=e.call(this,r)||this;P(t,"key",f,t);P(t,"width",y,t);P(t,"importance",g,t);P(t,"horizontalAlign",d,t);P(t,"widthIncludingColumnHeader",m,t);P(t,"availability",v,t);P(t,"exportSettings",z,t);P(t,"disableExport",w,t);return t}h=r;x(r,e);return r}(r),f=k(s.prototype,"key",[i],{configurable:true,enumerable:true,writable:true,initializer:null}),y=k(s.prototype,"width",[n],{configurable:true,enumerable:true,writable:true,initializer:null}),g=k(s.prototype,"importance",[l],{configurable:true,enumerable:true,writable:true,initializer:null}),d=k(s.prototype,"horizontalAlign",[a],{configurable:true,enumerable:true,writable:true,initializer:null}),m=k(s.prototype,"widthIncludingColumnHeader",[o],{configurable:true,enumerable:true,writable:true,initializer:null}),v=k(s.prototype,"availability",[u],{configurable:true,enumerable:true,writable:true,initializer:null}),z=k(s.prototype,"exportSettings",[p],{configurable:true,enumerable:true,writable:true,initializer:null}),w=k(s.prototype,"disableExport",[b],{configurable:true,enumerable:true,writable:true,initializer:null}),s))||c);h=_;return h},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/table/MassEdit", ["sap/fe/base/ClassSupport","sap/fe/macros/controls/BuildingBlockObjectProperty"],function(e,r){"use strict";var t,i,n,o,a,l,u,s,c,p,b;var f={};var d=e.property;var g=e.defineUI5Class;var y=e.aggregation;function v(e,r,t,i){t&&Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(i):void 0})}function m(e,r){e.prototype=Object.create(r.prototype),e.prototype.constructor=e,z(e,r)}function z(e,r){return z=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,r){return e.__proto__=r,e},z(e,r)}function O(e,r,t,i,n){var o={};return Object.keys(i).forEach(function(e){o[e]=i[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=t.slice().reverse().reduce(function(t,i){return i(e,r,t)||t},o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer?(Object.defineProperty(e,r,o),null):o}function w(e,r){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let j=(t=g("sap.fe.macros.table.MassEdit"),i=y({type:"sap.ui.layout.form.FormContainer",isDefault:true}),n=d({type:"string[]"}),o=d({type:"string[]"}),a=d({type:"string"}),t(l=(u=function(e){function r(r){var t;t=e.call(this,r)||this;v(t,"customContent",s,t);v(t,"visibleFields",c,t);v(t,"ignoredFields",p,t);v(t,"operationGroupingMode",b,t);return t}f=r;m(r,e);return r}(r),s=O(u.prototype,"customContent",[i],{configurable:true,enumerable:true,writable:true,initializer:null}),c=O(u.prototype,"visibleFields",[n],{configurable:true,enumerable:true,writable:true,initializer:null}),p=O(u.prototype,"ignoredFields",[o],{configurable:true,enumerable:true,writable:true,initializer:null}),b=O(u.prototype,"operationGroupingMode",[a],{configurable:true,enumerable:true,writable:true,initializer:null}),u))||l);f=j;return f},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/table/MdcTableTemplate", ["sap/base/Log","sap/fe/base/BindingToolkit","sap/fe/core/CommonUtils","sap/fe/core/controls/CommandExecution","sap/fe/core/controls/FormElementWrapper","sap/fe/core/converters/ManifestSettings","sap/fe/core/converters/MetaModelConverter","sap/fe/core/converters/annotations/DataField","sap/fe/core/converters/controls/Common/table/StandardActions","sap/fe/core/helpers/BindingHelper","sap/fe/core/helpers/ModelHelper","sap/fe/core/helpers/StableIdHelper","sap/fe/core/helpers/TypeGuards","sap/fe/core/templating/DataModelPathHelper","sap/fe/core/templating/UIFormatters","sap/fe/macros/ActionCommand","sap/fe/macros/CommonHelper","sap/fe/macros/Field","sap/fe/macros/MultiValueField","sap/fe/macros/TSXUtils","sap/fe/macros/draftIndicator/DraftIndicator","sap/fe/macros/field/FieldHelper","sap/fe/macros/field/FieldTemplating","sap/fe/macros/internal/helpers/ActionHelper","sap/fe/macros/internal/helpers/TableTemplating","sap/fe/macros/situations/SituationsIndicator","sap/fe/macros/table/ActionsTemplating","sap/fe/macros/table/QuickFilterSelector","sap/fe/macros/table/SlotColumn","sap/fe/macros/table/TableHelper","sap/fe/macros/table/uploadTable/UploadTableTemplate","sap/m/FlexItemData","sap/m/HBox","sap/m/Label","sap/m/Menu","sap/m/MenuItem","sap/m/ObjectStatus","sap/m/SegmentedButton","sap/m/SegmentedButtonItem","sap/m/VBox","sap/m/library","sap/m/plugins/CellSelector","sap/m/plugins/ContextMenuSetting","sap/m/plugins/CopyProvider","sap/m/plugins/DataStateIndicator","sap/ui/core/Lib","sap/ui/core/library","sap/ui/fl/variants/VariantManagement","sap/ui/mdc/Table","sap/ui/mdc/actiontoolbar/ActionToolbarAction","sap/ui/mdc/enums/TableP13nMode","sap/ui/mdc/enums/TableRowActionType","sap/ui/mdc/p13n/PersistenceProvider","sap/ui/mdc/table/Column","sap/ui/mdc/table/CreationRow","sap/ui/mdc/table/DragDropConfig","sap/ui/mdc/table/GridTableType","sap/ui/mdc/table/ResponsiveColumnSettings","sap/ui/mdc/table/ResponsiveTableType","sap/ui/mdc/table/RowActionItem","sap/ui/mdc/table/RowSettings","sap/ui/mdc/table/TreeTableType","../MicroChart","../field/FieldFormatOptions","sap/fe/base/jsx-runtime/jsx","sap/fe/base/jsx-runtime/jsxs"],function(e,t,n,a,o,i,r,l,s,d,c,u,p,f,b,m,g,h,v,C,y,T,D,P,x,M,O,I,A,w,S,E,F,B,k,R,L,N,U,j,H,_,V,$,G,z,q,W,K,X,Q,J,Y,Z,ee,te,ne,ae,oe,ie,re,le,se,de,ce,ue){"use strict";var pe={};var fe=q.Priority;var be=H.ObjectMarkerVisibility;var me=S.getUploadPlugin;var ge=O.getTableContextMenuTemplate;var he=O.getTableActionsTemplate;var ve=x.buildExpressionForHeaderVisible;var Ce=D.getVisibleExpression;var ye=D.getDraftIndicatorVisibleBinding;var Te=C.createCustomDatas;var De=C.createCustomData;var Pe=m.getCommandExecutionForAction;var xe=b.isMultiValueField;var Me=f.isPathUpdatable;var Oe=f.enhanceDataModelPath;var Ie=p.isSingleton;var Ae=p.isAnnotationOfType;var we=p.isAnnotationOfTerm;var Se=u.generate;var Ee=d.singletonPathVisitor;var Fe=d.UI;var Be=s.StandardActionKeys;var ke=l.isDataFieldForAnnotation;var Re=l.isDataField;var Le=l.hasDataPointTarget;var Ne=r.getInvolvedDataModelObjects;var Ue=i.CreationMode;var je=t.pathInModel;var He=t.or;var _e=t.not;var Ve=t.isTruthy;var $e=t.isConstant;var Ge=t.ifElse;var ze=t.greaterThan;var qe=t.equal;var We=t.constant;var Ke=t.compileExpression;var Xe=t.and;function Qe(e,t,n,a){const o=t.getObject();switch(n){case"GridTable":return ce(ne,{rowCountMode:e.control.rowCountMode,rowCount:e.control.rowCount,selectionLimit:a,fixedColumnCount:e.control.frozenColumnCount,scrollThreshold:e.control.scrollThreshold,enableColumnFreeze:e.control.enableColumnFreeze});case"TreeTable":return ce(le,{rowCountMode:e.control.rowCountMode,rowCount:e.control.rowCount,fixedColumnCount:e.control.frozenColumnCount,scrollThreshold:e.control.scrollThreshold,enableColumnFreeze:e.control.enableColumnFreeze});default:return ce(oe,{showDetailsButton:true,detailsButtonSetting:[fe.Low,fe.Medium,fe.None],growingMode:o.$kind==="EntitySet"?"Scroll":undefined,popinLayout:e.control.popinLayout})}}function Je(e){return ce(G,{filter:e.dataStateIndicatorFilter,enableFiltering:true,dataStateChange:e.dataStateChange})}function Ye(e,t){const n=Me(e,{ignoreTargetCollection:true,authorizeUnresolvable:true,pathVisitor:(t,n)=>Ee(t,e.convertedTypes,n)});const a=Me(e,{authorizeUnresolvable:true,pathVisitor:(t,n)=>Ee(t,e.convertedTypes,n)});if(e.startingEntitySet===e.targetEntitySet){if(e.startingEntitySet.annotations.Common?.DraftRoot!==undefined){return Xe(n._type==="Unresolvable"?Ge($e(a),a,We(true)):n,t.control.isHierarchyParentNodeUpdatable)}else{return We(false)}}else{return Xe(n._type==="Unresolvable"?Ge($e(a),a,We(true)):n,Fe.IsEditable,t.control.isHierarchyParentNodeUpdatable)}}function Ze(e,t,n,o){const i=e.contentId;const r=e.tableDefinition;const l=e.tableDefinition.control.type;const s=t.handlerProvider;const d=[];const c=r.actions.find(e=>e.key===Be.Cut);if(c?.isTemplated==="true"&&l==="TreeTable"){d.push(ce(a,{execute:s.getCutHandler(false),command:"Cut",enabled:c.enabled}))}const u=r.actions.find(e=>e.key===Be.Copy);if(u?.isTemplated==="true"&&l==="TreeTable"){d.push(ce(a,{execute:s.getCopyHandler(false),command:"Copy",enabled:u.enabled}))}const p=r.actions.find(e=>e.key===Be.Paste);if(p?.visible!=="false"&&l==="TreeTable"){d.push(ce(a,{execute:s.getPasteHandler(false),command:"Paste",enabled:p?.enabled}))}const f=r.actions.find(e=>e.key===Be.Create);const b=r.actions.find(e=>e.key===Be.Delete);if(r.annotation.isInsertUpdateActionsTemplated&&f?.isTemplated==="true"&&r.control.nodeType===undefined&&r.control.enableUploadPlugin===false){d.push(ce(a,{execute:s.getCreateButtonPressHandler(false,false),visible:f.visible,enabled:f.enabled,command:"Create"}))}if(b?.isTemplated==="true"){d.push(ce(a,{execute:s.getDeleteButtonPressHandler(false),visible:b.visible,enabled:b.enabled,command:"DeleteEntry"}))}const m=r.actions.find(e=>e.key===Be.MoveUp);const g=r.actions.find(e=>e.key===Be.MoveDown);if(m&&g&&m.visible!=="false"&&g.visible!=="false"&&l==="TreeTable"){d.push(ce(a,{execute:s.getMoveUpDownHandler(true,false),command:"TableMoveElementUp",enabled:m.enabled}));d.push(ce(a,{execute:s.getMoveUpDownHandler(false,false),command:"TableMoveElementDown",enabled:g.enabled}))}for(const n in r.commandActions){const a=r.commandActions[n];const i=pt(n,a,false,t,o,r,e.contextObjectPath);if(i){d.push(i)}}if(n==="None"){d.push(ce(Y,{id:Se([i,"PersistenceProvider"]),for:i}))}d.push(ce(V,{scope:"Selection"}));if(r.control.enableUploadPlugin){d.push(me(r,i,s))}return d}pe.getDependents=Ze;function et(e,t,n,a){const o=[];if(e.displaySegmentedButton){const n=[];if(g.isDesktop()){n.push(ce(U,{tooltip:"{sap.fe.i18n>M_COMMON_HYBRID_SEGMENTED_BUTTON_ITEM_TOOLTIP}",icon:"sap-icon://chart-table-view"},"Hybrid"))}n.push(ce(U,{tooltip:"{sap.fe.i18n>M_COMMON_CHART_SEGMENTED_BUTTON_ITEM_TOOLTIP}",icon:"sap-icon://bar-chart"},"Chart"));n.push(ce(U,{tooltip:"{sap.fe.i18n>M_COMMON_TABLE_SEGMENTED_BUTTON_ITEM_TOOLTIP}",icon:"sap-icon://table-view"},"Table"));o.push(ce(X,{layoutInformation:'{ aggregationName: "end", alignment: "End" }',visible:"{= ${pageInternal>alpContentView} === 'Table' }",children:{action:ce(N,{id:Se([e.contentId,"SegmentedButton","TemplateContentView"]),select:t.handlerProvider.segmentedButtonPress,selectedKey:"{pageInternal>alpContentView}",children:{items:n}})}}))}o.push(...he(e,t,n,a));return o.length>0?o:undefined}function tt(e,t,n,a){const o=ce(ie,{type:"Navigation",press:a.rowPress,visible:e.annotation.row?.visible});return ce(re,{navigated:e.annotation.row?.rowNavigated,highlight:e.annotation.row?.rowHighlighting,highlightText:e.annotation.row?.rowHighlighting,children:{rowActions:t===J.Navigation?o:undefined}})}pe.getRowSettings=tt;function nt(e,t,n,a,o,i){const r=ge(e,t,o,n);if(a===J.Navigation&&!i){r.push(at(t.handlerProvider,e.contentId));r.push(ot(t.handlerProvider))}if(r.length>0){return ce(k,{itemSelected:t.handlerProvider.contextMenuItemSelected,children:{dependents:it(e.tableDefinition,t,e.contextObjectPath,o),items:r}})}return undefined}function at(e,t){return ce(R,{"core:require":"{API: 'sap/fe/macros/table/TableAPI'}",startsSection:true,id:Se([t,"ContextMenu","CollaborationManager"]),text:"{sap.fe.i18n>M_COMMON_TABLE_CONTEXT_MENU_SHARE_TO_COLLABORATION_MANAGER}",press:e.contextMenuShareToCollaborationManager,enabled:"{= ${internal>contextmenu/numberOfSelectedContexts} > 0}",visible:false})}function ot(e){const t=Xe(_e(Xe(je("/sessionOn","internal"),Fe.IsEditable)),_e(je("contextmenu/inactiveContext","internal")));return ce(R,{"core:require":"{API: 'sap/fe/macros/table/TableAPI'}",startsSection:true,text:"{sap.fe.i18n>M_COMMON_TABLE_CONTEXT_MENU_OPEN_IN_NEW_TAB}",press:e.contextMenuOpenInNewTab,enabled:ze(je("contextmenu/numberOfNavigableContexts","internal"),0),visible:t})}function it(e,t,n,o){const i=[];const r=e.control.type;const l=e.actions.find(e=>e.key===Be.Create);if(l?.isTemplated==="true"&&r==="TreeTable"){i.push(ce(a,{execute:t.handlerProvider.getCreateButtonPressHandler(true,false),command:"Create::ContextMenu",visible:l.visible,enabled:l.enabledForContextMenu}))}const s=e.actions.find(e=>e.key===Be.Cut);if(s?.isTemplated==="true"){i.push(ce(a,{execute:t.handlerProvider.getCutHandler(true),command:"Cut::ContextMenu",enabled:s.enabledForContextMenu}))}const d=e.actions.find(e=>e.key===Be.Copy);if(d?.isTemplated==="true"){i.push(ce(a,{execute:t.handlerProvider.getCopyHandler(true),command:"Copy::ContextMenu",enabled:d.enabledForContextMenu}))}const c=e.actions.find(e=>e.key===Be.Paste);if(c?.visible!=="false"&&r==="TreeTable"){i.push(ce(a,{execute:t.handlerProvider.getPasteHandler(true),command:"Paste::ContextMenu",enabled:c?.enabledForContextMenu}))}const u=e.actions.find(e=>e.key===Be.Delete);if(u?.isTemplated==="true"){i.push(ce(a,{execute:t.handlerProvider.getDeleteButtonPressHandler(true),visible:u.visible,enabled:u.enabledForContextMenu,command:"DeleteEntry::ContextMenu"}))}const p=e.actions.find(e=>e.key===Be.MoveUp);const f=e.actions.find(e=>e.key===Be.MoveDown);if(p&&f&&p.visible!=="false"&&f.visible!=="false"&&r==="TreeTable"){i.push(ce(a,{execute:t.handlerProvider.getMoveUpDownHandler(true,true),command:"TableMoveElementUp::ContextMenu",enabled:p.enabledForContextMenu}));i.push(ce(a,{execute:t.handlerProvider.getMoveUpDownHandler(false,true),command:"TableMoveElementDown::ContextMenu",enabled:f.enabledForContextMenu}))}for(const a in e.commandActions){const r=e.commandActions[a];const l=pt(a,r,true,t,o,e,n);if(l){i.push(l)}}return i.length>0?i:undefined}function rt(e,t,n,a){if(e==="Control"){return ce(W,{id:Se([t,"VM"]),showSetAsDefault:true,select:a.variantSelected,headerLevel:n,save:a.variantSaved,for:[t]})}return undefined}function lt(e){const t=e.tableDefinition.control.filters?.quickFilters;if(t){return ce(I,{id:Se([e.contentId,"QuickFilterContainer"]),paths:t.paths.map(e=>e.annotationPath),showCounts:t.showCounts})}return undefined}function st(e){const t=e.contextObjectPath;let n;if(e.tableDefinition.control.disableCopyToClipboard){n=We(false)}else if(e.tableDefinition.control.type==="TreeTable"){if(t.startingEntitySet===t.targetEntitySet){n=We(t.startingEntitySet.annotations.Common?.DraftRoot===undefined)}else{n=_e(Fe.IsEditable)}}else{n=We(true)}return ce($,{visible:n})}function dt(e){const t=e.tableDefinition.control.type;if(!e.tableDefinition.control.disableCopyToClipboard&&t&&["ResponsiveTable","GridTable","TreeTable"].includes(t)){return ce(_,{enabled:He(t!=="TreeTable",_e(Ye(e.contextObjectPath,e.tableDefinition))),rangeLimit:200})}return undefined}function ct(e,t){if(e.creationMode?.name===Ue.CreationRow){const n=e.tableDefinition.actions.find(e=>e.key===Be.CreationRow);if(n?.isTemplated){const a=Te([{key:"disableAddRowButtonForEmptyData",value:e.tableDefinition.control.disableAddRowButtonForEmptyData},{key:"customValidationFunction",value:e.tableDefinition.control.customValidationFunction}]);return ce(ee,{id:Se([e.contentId,Ue.CreationRow]),visible:n.visible,apply:t.getCreateButtonPressHandler(false,true),applyEnabled:n.enabled,children:{customData:a}})}}return undefined}function ut(e,t){if(e.tableDefinition.control.type==="TreeTable"){return ce(te,{enabled:Ke(Ye(e.contextObjectPath,e.tableDefinition)),dropPosition:e.tableDefinition.annotation.allowDropBetweenNodes===true?"OnOrBetween":"On",draggable:true,droppable:true,dragStart:t.dragStartDocument,dragEnter:t.dragEnterDocument,drop:t.dropDocument})}return undefined}function pt(e,t,n,a,o,i,r){const l=t.annotationPath?a.convertedMetadata.resolvePath(t.annotationPath).target:undefined;const s=t.annotationPath?g.getActionContext(a.metaModel.createBindingContext(t.annotationPath+"/Action")):undefined;const d=s?a.metaModel.createBindingContext(s):undefined;const c=d?Ne(d,o):undefined;const u=l?.ActionTarget?.isBound;const p=l?.ActionTarget?.annotations?.Core?.OperationAvailable?.valueOf()!==false;const f=t.type==="ForAction"?u!==true||p:true;const b=!n?t.enabled:t.enabledForContextMenu;if(f&&(!n||w.isActionShownInContextMenu(t,r))){const r=!n?t.command:t.command+"::ContextMenu";const d={onExecuteAction:a.handlerProvider.getDataFieldForActionButtonPressHandler(l,t,undefined,n),onExecuteIBN:a.handlerProvider.getDataFieldForIBNPressHandler(t,false),onExecuteManifest:a.handlerProvider.getManifestActionPressHandler(t,n),isIBNEnabled:b??w.isDataFieldForIBNEnabled({collection:o,tableDefinition:i},l,!!l.RequiresContext,l.NavigationAvailable,n),isActionEnabled:b??w.isDataFieldForActionEnabled(i,l.Action,!!u,s,t.enableOnSelect,c?.targetEntityType,n),isEnabled:b};return Pe(r,i.commandActions[e],d)}return undefined}function ft(e){const t=e.control.additionalRequiredModules??[];return`{TableRuntime: 'sap/fe/macros/table/TableRuntime', API: 'sap/fe/macros/table/TableAPI'${t.map((e,t)=>`, customModule${t+1}: '${e}'`).join("")}}`}function bt(e,t,n,a){if(t.isDraftIndicator){return ce(Z,{id:Se([e,"C","computedColumns","draftStatus"]),headerVisible:false,propertyKey:t.name,header:t.label,tooltip:t.tooltip,width:"3em",children:ce(y,{draftIndicatorType:be.IconOnly,contextPath:n.getPath(),usedInTable:true,usedInAnalyticalTable:a})})}else if(t.isSituationsIndicator){return ce(Z,{id:Se([e,"C","computedColumns","situationsIndicator"]),propertyKey:t.name,header:t.label,tooltip:t.tooltip,headerVisible:false,width:"4em",children:ce(M,{contextPath:n.getPath()})})}else{return undefined}}pe.getComputedColumn=bt;function mt(e,t,n){const a=typeof t.template==="string"&&!t.template?.startsWith("<")?ce(A,{templateId:t.template}):t.template;return ce(Z,{id:Se([e,"C",t.id]),propertyKey:t.name,width:t.width,hAlign:t.horizontalAlign,header:t.header,tooltip:t.tooltip,required:n?undefined:t.required,children:{extendedSettings:ce(ae,{importance:t.importance}),template:a}})}pe.getSlotColumn=mt;function gt(e,t){if(e.getObject("@com.sap.vocabularies.Common.v1.DraftRoot")&&e.getObject("./@com.sap.vocabularies.Common.v1.SemanticKey")&&t.formatOptions?.fieldGroupDraftIndicatorPropertyPath){return ce(o,{children:ce(y,{draftIndicatorType:be.IconAndText,contextPath:e.getPath(),visible:ye(t.formatOptions?.fieldGroupName),ariaLabelledBy:["this>ariaLabelledBy"]})})}return undefined}pe.getDraftIndicator=gt;function ht(e,t){if(e.getObject("./@com.sap.vocabularies.Common.v1.SemanticKey")&&t.formatOptions?.fieldGroupDraftIndicatorPropertyPath){return ce(L,{visible:t.formatOptions?.showErrorObjectStatus,class:"sapUiSmallMarginBottom",text:"{sap.fe.i18n>Contains_Errors}",state:"Error"})}return undefined}function vt(e){const t=Ne(e).targetObject;if(Re(t)&&t.Value?.$target?.type==="Edm.TimeOfDay"){return"short"}if(ke(t)&&Le(t)&&t.Target.$target?.Value.$target.type==="Edm.TimeOfDay"){return"short"}}function Ct(e,t,n,a,o,i,r,l,s,d){if(a?.name==="CreationRow"){let a;switch(o){case true:a="Display";break;case false:a="Editable";break;default:a=undefined;break}const c=r.getObject();const u=n==="ResponsiveTable"?"Overlay":undefined;const p={fieldMode:l,textLinesEdit:t.formatOptions?.textLinesEdit,textMaxLines:t.formatOptions?.textMaxLines===undefined?undefined:t.formatOptions?.textMaxLines,textMaxLength:t.formatOptions?.textMaxLength,textMaxCharactersDisplay:t.formatOptions?.textMaxCharactersDisplay,textExpandBehaviorDisplay:t.formatOptions?.textExpandBehaviorDisplay,textAlignMode:"Table",semanticKeyStyle:n==="ResponsiveTable"?"ObjectIdentifier":"Label",hasDraftIndicator:t.formatOptions?.hasDraftIndicator,fieldGroupDraftIndicatorPropertyPath:t.formatOptions?.fieldGroupDraftIndicatorPropertyPath,fieldGroupName:t.formatOptions?.fieldGroupName,showIconUrl:c?.Inline&&!!c?.IconUrl,ignoreNavigationAvailable:s??false,isCurrencyOrUnitAligned:true,dateTimeStyle:vt(r),reactiveAreaMode:u};return ce(h,{"core:require":"{TableRuntime: 'sap/fe/macros/table/TableRuntime'}",vhIdPrefix:Se([e,"TableValueHelp"]),editMode:a,contextPath:i.getPath(),metaPath:r.getPath(),wrap:n==="ResponsiveTable",change:d.fieldChangeInCreationRow,showErrorObjectStatus:t.formatOptions?.showErrorObjectStatus,children:{formatOptions:ce(de,{...p})}})}return undefined}function yt(e,t,n,a,o,i,r,l,s,d,c,u,p,f,b,m){const g=a.getObject();let v;switch(l){case true:v="Display";break;case false:v="Editable";break;default:v=undefined}if(t.control.enableUploadPlugin&&n.typeConfig?.className==="Edm.Stream"){v="Display"}const C=t.control.type==="ResponsiveTable"?"Overlay":undefined;const y={fieldMode:d,textLinesEdit:n.formatOptions?.textLinesEdit,textMaxLines:n.formatOptions?.textMaxLines===undefined?undefined:n.formatOptions?.textMaxLines,textMaxCharactersDisplay:n.formatOptions?.textMaxCharactersDisplay,textMaxLength:n.formatOptions?.textMaxLength,textExpandBehaviorDisplay:n.formatOptions?.textExpandBehaviorDisplay,textAlignMode:"Table",showEmptyIndicator:f,semanticKeyStyle:r==="ResponsiveTable"?"ObjectIdentifier":"Label",hasDraftIndicator:n.formatOptions?.hasDraftIndicator,fieldGroupDraftIndicatorPropertyPath:n.formatOptions?.fieldGroupDraftIndicatorPropertyPath,fieldGroupName:n.formatOptions?.fieldGroupName,showIconUrl:g?.Inline&&!!g?.IconUrl,ignoreNavigationAvailable:i??false,isAnalytics:i,forInlineCreationRows:s?.name==="InlineCreationRows",isCurrencyOrUnitAligned:true,compactSemanticKey:c===undefined?undefined:`${c}`,dateTimeStyle:vt(a),isAnalyticalAggregatedRow:t.control.analyticalConfiguration?.aggregationOnLeafLevel,reactiveAreaMode:C};return ce(h,{vhIdPrefix:Se([e,"TableValueHelp"]),editMode:v,contextPath:o.getPath(),metaPath:a.getPath(),textAlign:u,wrap:r==="ResponsiveTable",class:b,liveChange:m.fieldLiveChange,ariaLabelledBy:p?[p]:undefined,navigateAfterAction:n.isNavigable,showErrorObjectStatus:n.formatOptions?.showErrorObjectStatus,children:{formatOptions:ce(de,{...y})}})}pe.getMacroFieldTemplate=yt;function Tt(e,t,n,a,o,i,r){let l;let s;const d=t.tableDefinition;const c=t.tableDefinition.enableAnalytics;const u=t.tableDefinition.control.type;const p=t.readOnly;const f=t.creationMode;const b=t.fieldMode;const m=t.tableDefinition.control.isCompactType;const h=a.targetObject;if(Ae(h,"com.sap.vocabularies.UI.v1.DataFieldForAnnotation")&&(we(h.Target.$target,"com.sap.vocabularies.UI.v1.Chart")||we(h.Target.$target,"com.sap.vocabularies.UI.v1.PresentationVariant"))){const t=(u==="ResponsiveTable"?!n.settings?.showMicroChartLabel:undefined)??true;const a=u==="ResponsiveTable"?n.settings?.microChartSize??"XS":"XS";let r=i.getModel().createBindingContext(i.getPath(o.getObject("Target/$AnnotationPath")));r=i.getModel().createBindingContext(g.getNavigationContext(r));l=ce(se,{id:Se([e,h]),contextPath:r.getPath(),metaPath:o.getModel().createBindingContext(o.getPath()+"/Target/$AnnotationPath").getPath(),showOnlyChart:t,size:a??"XS",hideOnNoData:true,isAnalytics:c})}else if(Ae(h,"com.sap.vocabularies.UI.v1.DataField")&&xe(Oe(a,h.Value.path))){const e=Ke(Ge(He(p===true,Xe(Ve(Fe.IsInactive),f?.name==="InlineCreationRows")),We(true),Ge(qe(b,"nowrapper"),We(true),We(undefined))));if(e==="undefined"){l=ce(v,{contextPath:i.getPath(),metaPath:o.getPath(),useParentBindingCache:d.disableOwnRequestOnMVF})}else{l=ce(v,{contextPath:i.getPath(),metaPath:o.getPath(),readOnly:e,useParentBindingCache:d.disableOwnRequestOnMVF})}}else if(Ae(h,"com.sap.vocabularies.UI.v1.DataFieldForAnnotation")&&we(h.Target.$target,"com.sap.vocabularies.UI.v1.FieldGroup")){const t=h.Target.$target;const s=o.getModel().createBindingContext(o.getPath()+"/Target/$AnnotationPath/Data");const g=t.Data.length-1;const v=t.Data.map((t,o)=>{const l=s.getModel().createBindingContext(s.getPath()+"/"+o);const h=Ne(l);const v=T.computeLabelText(l.getObject(),{context:l});if(n.showDataFieldsLabel&&!!v){const t=z.getResourceBundleFor("sap.fe.macros");return ue(F,{visible:Ce(h),alignItems:T.buildExpressionForAlignItems(l.getObject("Target/$AnnotationPath/Visualization/$EnumMember")),children:[ce(B,{id:w.getFieldGroupLabelStableId(e,h),text:t.getText("HEADER_FORM_LABEL",[v]),class:"sapUiTinyMarginEnd",visible:Ce(h)}),ce(j,{children:{layoutData:ce(E,{growFactor:"1"}),items:yt(e,d,n,l,i,c,u,p,f,undefined,m,"Left",`${w.getColumnStableId(e,a)} ${w.getFieldGroupLabelStableId(e,h)}`,true,w.getMarginClass(l.getObject("Target/$AnnotationPath/Visualization/$EnumMember"),o===g),r)}})]})}else{return yt(e,d,n,l,i,c,u,p,f,b,m,undefined,w.getColumnStableId(e,a),false,w.getMarginClass(l.getObject("Target/$AnnotationPath/Visualization/$EnumMember"),o===g),r)}});const C=gt(i,n);if(C){v.push(C)}const y=ht(i,n);if(y){v.push(y)}l=ce(j,{visible:w.getVBoxVisibility(s.getObject(),n.FieldGroupHiddenExpressions,o.getObject()),children:{items:v}})}else{l=yt(e,d,n,o,i,c,u,p,f,b,m,undefined,undefined,false,undefined,r);s=Ct(e,n,u,f,p,i,o,b,c,r)}return{template:l,creationTemplate:s}}function Dt(e,t,a,o,i){let r=o.getModel().createBindingContext(a.annotationPath);if(!r){return undefined}r=o.getModel().createBindingContext(T.getDataFieldDefault(r));const l=Ne(r,o);const s=r?.getObject?.()??{};const d=Tt(e,t,a,l,r,o,i);const c=t.enableAutoColumnWidth??t.tableDefinition.control.enableAutoColumnWidth;const u=t.tableDefinition.control.widthIncludingColumnHeader;const p=t.tableDefinition.control.type;return ce(Z,{id:w.getColumnStableId(e,l),width:!n.isSmallDevice()||a.width?w.getColumnWidth({enableAutoColumnWidth:c,widthIncludingColumnHeader:u,tableType:p},a,s,w.getTextOnActionField(s,{context:r}),l,true,{title:r.getObject("Target/$AnnotationPath/Title")||"",description:r.getObject("Target/$AnnotationPath/Title")||""}):undefined,minWidth:n.isSmallDevice()?w.getColumnWidth({enableAutoColumnWidth:c,widthIncludingColumnHeader:u,tableType:p},a,s,w.getTextOnActionField(s,{context:r}),l,false,{title:r.getObject("Target/$AnnotationPath/Title")||"",description:r.getObject("Target/$AnnotationPath/Description")||""}):undefined,header:a.label||a.name,propertyKey:a.name,hAlign:a.horizontalAlign||T.getColumnAlignment(s,{collection:o}),headerVisible:w.setHeaderLabelVisibility(s,r.getObject("Target/$AnnotationPath/Data")),tooltip:a.tooltip,required:t.readOnly?undefined:a.required,children:{customData:De("showDataFieldsLabel",a.showDataFieldsLabel),extendedSettings:ce(ae,{importance:a.importance}),template:d.template,creationTemplate:d.creationTemplate}})}pe.getColumnTemplate=Dt;function Pt(t,n,a){const o=t.contentId;return t.tableDefinition.columns.map(i=>{if(i.availability==="Default"&&i.type==="Default"){e.error("Custom columns defined in the manifest are not supported when using a table building block.");throw new Error("Custom columns defined in the manifest are not supported when using a table building block.")}else if(i.availability==="Default"&&i.type==="Annotation"){return Dt(o,t,i,n,a)}else if(i.availability==="Default"&&i.type==="Slot"){return mt(o,i,t.readOnly)}else if(i.availability==="Default"&&i.type==="Computed"){return bt(o,i,n,t.tableDefinition.enableAnalytics)}return undefined}).filter(e=>e!==undefined)}function xt(){return"sap/fe/macros/table/designtime/Table.designtime"}function Mt(t){switch(t){case"Aggregate":return Q.Aggregate;case"Sort":return Q.Sort;case"Column":return Q.Column;case"Filter":return Q.Filter;case"Group":return Q.Group;default:e.error("Unknown P13n mode: "+t);return Q.Column}}function Ot(e,t){const n=e.tableDefinition.annotation?.row?.navigationInfo;const a=n?.routePath;let o=false;if(a){const e=t.appComponent.getRoutingService()._getTargetInformation(a);o=e?.options?.settings?.openInEditMode??false}const i=e.tableDefinition.control.type;const r=e.contextObjectPath;const l=(i==="TreeTable"||e.tableDefinition.enableAnalytics===true)&&r.startingEntitySet===r.targetEntitySet&&c.isObjectPathDraftSupported(r);const s=w.getDelegate(e.tableDefinition,e.isAlp===true,e.tableDefinition.annotation.entityName,l);const d=e.headerVisible??e.tableDefinition.control.headerVisible;const u=e.header??e.tableDefinition.annotation.title;const p=ve(u??"",e.tabTitle??"",!!d);const f=e.tableDefinition.actions.find(e=>e.key===Be.Paste);const b=t.convertedMetadata.resolvePath(e.tableDefinition.annotation.collection).target;const m=i==="TreeTable"?t.handlerProvider.tableContextChange:undefined;const g=w.getUiLineItemObject(t.metaPath,t.convertedMetadata);const h=e.tableDefinition.annotation.navigationPath;if(e.tableDefinition.annotation.collection.startsWith("/")&&Ie(r.startingEntitySet)){e.tableDefinition.annotation.collection=h}const v=t.metaModel.createBindingContext(e.tableDefinition.annotation.collection);const C=b.annotations.Common?.DraftRoot;const y=e.variantManagement??"None";const T=xt();let D;if(e.overrideRowPress){D=J.Navigation}D??=e.tableDefinition.annotation.row?.actionType==="Navigation"?J.Navigation:undefined;const x=e.tableDefinition.actions.find(e=>e.key===Be.Create)?.visible||true;const M=e.tableDefinition.annotation.updatablePropertyPath;let O;switch(e.personalization){case"false":O=undefined;break;case"true":O=[Q.Sort,Q.Column,Q.Filter];if(i==="ResponsiveTable"||e.tableDefinition.enableAnalytics===true){O=[...O,Q.Group]}break;case undefined:O=e.tableDefinition.annotation.p13nMode?.map(e=>Mt(e));break;default:if(i==="ResponsiveTable"||e.tableDefinition.enableAnalytics===true){O=e.personalization.split(",").map(e=>Mt(e.trim()))}else{const t=e.personalization.split(",").filter(e=>Mt(e.trim())!==Q.Group);O=t.length?t:undefined}}const I=P.getMultiSelectDisabledActions(g);const A=[{key:"kind",value:b._type},{key:"navigationPath",value:h},{key:"enableAnalytics",value:e.tableDefinition.enableAnalytics},{key:"creationMode",value:e.creationMode?.name},{key:"inlineCreationRowCount",value:e.tableDefinition.control.inlineCreationRowCount},{key:"showCreate",value:x},{key:"createAtEnd",value:e.creationMode?.createAtEnd},{key:"displayModePropertyBinding",value:e.readOnly},{key:"tableType",value:i},{key:"targetCollectionPath",value:v.getPath()},{key:"entityType",value:v.getPath()+"/"},{key:"metaPath",value:v.getPath()},{key:"hiddenFilters",value:e.tableDefinition.control.filters?.hiddenFilters},{key:"requestGroupId",value:"$auto.Workers"},{key:"segmentedButtonId",value:Se([e.contentId,"SegmentedButton","TemplateContentView"])},{key:"disableCopyToClipboard",value:e.tableDefinition.control.disableCopyToClipboard},{key:"draft",value:C},{key:"navigationAvailableMap",value:w.getNavigationAvailableMap(g)},{key:"actionsMultiselectDisabled",value:I.length>0?I.join(","):undefined},{key:"updatablePropertyPath",value:M||""},{key:"exportRequestSize",value:e.tableDefinition.control.exportRequestSize}];return ce(K,{"core:require":ft(e.tableDefinition),"fl:flexibility":e["fl:flexibility"],sortConditions:e.tableDefinition.annotation.sortConditions,groupConditions:e.tableDefinition.annotation.groupConditions,aggregateConditions:e.tableDefinition.annotation.aggregateConditions,"dt:designtime":T,id:e.contentId,busyIndicatorDelay:0,enableExport:e.tableDefinition.control.enableExport,delegate:JSON.parse(s),beforeOpenContextMenu:t.handlerProvider.beforeOpenContextMenu,autoBindOnInit:e.useBasicSearch||!e.filterBar,selectionMode:e.tableDefinition.annotation.selectionMode||"None",selectionChange:t.handlerProvider.selectionChange,showRowCount:e.tableDefinition.control.showRowCount,header:u,headerVisible:p,headerLevel:e.headerLevel,headerStyle:e.headerStyle,threshold:e.tableDefinition.control.threshold??e.tableDefinition.annotation.threshold,p13nMode:O,paste:t.handlerProvider.getPasteHandler(false),beforeExport:t.handlerProvider.beforeExport,class:e.tableDefinition.control.useCondensedTableLayout===true?"sapUiSizeCondensed":undefined,multiSelectMode:e.tableDefinition.control.multiSelectMode,showPasteButton:i==="TreeTable"?false:f?.visible,enablePaste:i==="TreeTable"?false:f?.enabled,modelContextChange:m,children:{customData:Te(A),dataStateIndicator:Je(t.handlerProvider),type:Qe(e.tableDefinition,v,i,e.tableDefinition.control.selectionLimit),dependents:Ze(e,t,y,v),actions:et(e,t,v,b),rowSettings:tt(e.tableDefinition,D,i,t.handlerProvider),contextMenu:nt(e,t,b,D,v,o),columns:Pt(e,v,t.handlerProvider),dragDropConfig:ut(e,t.handlerProvider),creationRow:ct(e,t.handlerProvider),variant:rt(y,e.contentId,e.headerLevel,t.handlerProvider),quickFilter:lt(e),copyProvider:st(e),cellSelector:dt(e)}})}pe.getMDCTableTemplate=Ot;return pe},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/table/QuickFilterSelector", ["sap/base/Log","sap/fe/base/BindingToolkit","sap/fe/base/ClassSupport","sap/fe/core/CommonUtils","sap/fe/core/buildingBlocks/BuildingBlock","sap/fe/core/converters/MetaModelConverter","sap/fe/core/helpers/StableIdHelper","sap/fe/core/helpers/TypeGuards","sap/fe/core/templating/DataModelPathHelper","sap/fe/macros/table/Utils","sap/m/SegmentedButton","sap/m/SegmentedButtonItem","sap/m/Select","sap/ui/core/InvisibleText","sap/ui/core/Item","sap/fe/base/jsx-runtime/jsx"],function(t,e,n,i,o,r,a,s,l,c,u,f,g,h,d,p){"use strict";var b,m,y,v,C,S,I,P,T,w,O;var B={};var A=l.getTargetObjectPath;var x=l.getTargetNavigationPath;var F=l.enhanceDataModelPath;var _=s.isAnnotationOfType;var E=a.generate;var M=r.getInvolvedDataModelObjects;var z=n.property;var j=n.implementInterface;var k=n.defineUI5Class;var K=e.pathInModel;var L=e.notEqual;function D(t,e,n,i){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function $(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,Q(t,e)}function Q(t,e){return Q=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Q(t,e)}function U(t,e,n,i,o){var r={};return Object.keys(i).forEach(function(t){r[t]=i[t]}),r.enumerable=!!r.enumerable,r.configurable=!!r.configurable,("value"in r||r.initializer)&&(r.writable=!0),r=n.slice().reverse().reduce(function(n,i){return i(t,e,n)||n},r),o&&void 0!==r.initializer&&(r.value=r.initializer?r.initializer.call(o):void 0,r.initializer=void 0),void 0===r.initializer?(Object.defineProperty(t,e,r),null):r}function q(t,e){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let N=(b=k("sap.fe.macros.table.QuickFilterSelector",{interfaces:["sap.m.IToolbarInteractiveControl"]}),m=j("sap.m.IOverflowToolbarContent"),y=z({type:"string"}),v=z({type:"string[]"}),C=z({type:"boolean"}),b(S=(I=function(e){function n(t,n){var i;i=e.call(this,t,n)||this;D(i,"__implements__sap_m_IOverflowToolbarContent",P,i);D(i,"id",T,i);D(i,"paths",w,i);D(i,"showCounts",O,i);i._getToolbarInteractive=()=>true;return i}B=n;$(n,e);var o=n.prototype;o.onMetadataAvailable=function t(){this.metaDataAvailable=true;if(!this.content&&this.metaPath){this.initializeContent()}};o.getOverflowToolbarConfig=function t(){return{canOverflow:true,onBeforeEnterOverflow:function(t){const e=t?.getContent();e?.getOverflowToolbarConfig()?.onBeforeEnterOverflow?.(e)},onAfterExitOverflow:function(t){const e=t?.getContent();e?.getOverflowToolbarConfig()?.onAfterExitOverflow?.(e)}}};o.setMetaPath=function t(e){this.metaPath=e;if(!this.content&&this.metaDataAvailable===true){this.initializeContent()}};o.onSelChange=function t(){const e=this.getMDCTable().getParent();if(e?.isA("sap.fe.macros.table.TableAPI")){e.onQuickFilterSelectionChange()}};o.getSegmentedButtonSelector=function t(e){const n=this.paths.map((t,n)=>p(f,{...this.getSelectorItemProperties(n,e)}));return p(u,{id:`${this.id}-content`,enabled:L(K("hasPendingFilters","pageInternal"),true),ariaLabelledBy:[this.getSelectorAriaLabelledById()],selectionChange:this.onSelChange.bind(this),children:{items:n}})};o.getSelectSelector=function t(e){const n=this.paths.map((t,n)=>p(d,{...this.getSelectorItemProperties(n,e)}));return p(g,{id:`${this.id}-content`,enabled:L(K("hasPendingFilters","pageInternal"),true),ariaLabelledBy:[this.getSelectorAriaLabelledById()],autoAdjustWidth:true,change:this.onSelChange.bind(this),children:{items:n}})};o.getSelectorItemProperties=function t(e,n){return{key:this.paths[e],text:this.getSelectorItemText(e,n)}};o.getSelectorAriaLabelledById=function t(){return E([`${this.id}-content`,"AriaText"])};o.getSelectorItemText=function t(e,n){const i=` ({internal>quickFilters/counts/${e}})`;const o=M(n);const r=F(o,this.paths[e]).targetObject;const a=r?.Text?.toString()??"";return`${a}${this.showCounts?i:""}`};o.registerSideEffectForQuickFilter=function t(e,n){const i=M(e,n);const o=i.contextLocation?.targetEntityType.fullyQualifiedName;const r=x(i,true);if(r&&o){const t=new Set;for(const e of this.paths){const n=F(i,e).targetObject;if(n.SelectOptions&&_(n,"com.sap.vocabularies.UI.v1.SelectionVariantType")){n.SelectOptions.forEach(e=>{const n=e.PropertyName?.value;if(n){const e=F(i,n);t.add(A(e,true))}})}}this.getAppComponent().getSideEffectsService().addControlSideEffects(o,{sourceProperties:Array.from(t),targetEntities:[{$NavigationPropertyPath:r}],sourceControlId:`${this.id}-content`})}};o.getAccessibilityControl=function t(){const e=`{sap.fe.i18n>M_TABLE_QUICKFILTER_ARIA}`;const n=p(h,{text:e,id:this.getSelectorAriaLabelledById()});n.toStatic();return n};o.initializeContent=function t(){if(this.metaPath){const t=this.getMetaPathObject(this.metaPath);if(t){const e=this._getOwner()?.getMetaModel();const n=e?.createBindingContext(t.getPath());const i=e?.createBindingContext(t.getContextPath());if(!n||!i){return}if(this.showCounts){this.registerSideEffectForQuickFilter(n,i)}const o=this.paths.length>3?this.getSelectSelector(n):this.getSegmentedButtonSelector(n);o.addDependent(this.getAccessibilityControl());this.content=o}}};o.getMDCTable=function t(){if(!this.mdcTable){let t=this.content;while(t&&!t.isA("sap.ui.mdc.Table")){t=t.getParent()}this.mdcTable=t;return this.mdcTable}else{return this.mdcTable}};o.getSelectedKey=function t(){return this.content?.getSelectedKey()||this.content?.getItems()[0].getKey()||""};o.setSelectedKey=function t(e){this.content?.setSelectedKey(e)};o.setCountsAsLoading=function t(){const e={};const n=this.getBindingContext("internal");for(const t in this.content?.getItems()){e[t]="..."}n.setProperty("quickFilters",{counts:e})};o.refreshSelectedCount=function t(){const e=this.getMDCTable().getRowBinding().getCount();if(this.showCounts===true&&e!==undefined){const t=this.content?.getItems().findIndex(t=>t.getKey()===this.getSelectedKey());if(t!==undefined&&t>-1){this.getBindingContext("internal")?.setProperty(`quickFilters/counts/${t}`,c.getCountFormatted(e))}}};o.refreshUnSelectedCounts=async function e(){if(!this.content){return Promise.resolve()}const n=this.getMDCTable();const o=this.content.getItems();const r=this.getBindingContext("internal");const a=this.getPageController();const s=a.getChartControl?.();const l=s?.getParent();const u=async t=>{const e=t.getKey();const a=i.getFiltersFromAnnotation(n,e);const s=await c.getListBindingForCount(n,n.getBindingContext(),{batchGroupId:"$auto",additionalFilters:[...g,...a],itemKey:e});const l=o.findIndex(t=>t.getKey()===e);if(l>-1){r.setProperty(`quickFilters/counts/${l}`,c.getCountFormatted(s))}};const f=l?.hasSelections()&&l?.getFilter();const g=c.getHiddenFilters(n);if(f){g.push(f)}const h=o.filter(t=>t.getKey()!==this.getSelectedKey()).map(async t=>u(t));try{await Promise.all(h)}catch(e){t.error("Error while retrieving the binding promises",e)}};return n}(o),P=U(I.prototype,"__implements__sap_m_IOverflowToolbarContent",[m],{configurable:true,enumerable:true,writable:true,initializer:function(){return true}}),T=U(I.prototype,"id",[y],{configurable:true,enumerable:true,writable:true,initializer:null}),w=U(I.prototype,"paths",[v],{configurable:true,enumerable:true,writable:true,initializer:null}),O=U(I.prototype,"showCounts",[C],{configurable:true,enumerable:true,writable:true,initializer:function(){return false}}),I))||S);B=N;return B},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/table/QuickVariantSelection", ["sap/fe/base/ClassSupport","sap/fe/macros/controls/BuildingBlockObjectProperty"],function(e,r){"use strict";var t,i,n,a,o,l,u;var c={};var s=e.property;var f=e.defineUI5Class;function p(e,r,t,i){t&&Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(i):void 0})}function b(e,r){e.prototype=Object.create(r.prototype),e.prototype.constructor=e,d(e,r)}function d(e,r){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,r){return e.__proto__=r,e},d(e,r)}function v(e,r,t,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce(function(t,i){return i(e,r,t)||t},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer?(Object.defineProperty(e,r,a),null):a}function y(e,r){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let h=(t=f("sap.fe.macros.table.QuickVariantSelection"),i=s({type:"string[]"}),n=s({type:"boolean"}),t(a=(o=function(e){function r(r){var t;t=e.call(this,r)||this;p(t,"paths",l,t);p(t,"showCounts",u,t);return t}c=r;b(r,e);return r}(r),l=v(o.prototype,"paths",[i],{configurable:true,enumerable:true,writable:true,initializer:null}),u=v(o.prototype,"showCounts",[n],{configurable:true,enumerable:true,writable:true,initializer:function(){return false}}),o))||a);c=h;return c},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/table/SlotColumn", ["sap/fe/base/ClassSupport","sap/fe/core/buildingBlocks/BuildingBlock","sap/ui/core/Element"],function(e,t,r){"use strict";var i,n,a,o,l;var u={};var c=e.property;var s=e.defineUI5Class;function f(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function p(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,b(e,t)}function b(e,t){return b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},b(e,t)}function d(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer?(Object.defineProperty(e,t,a),null):a}function v(e,t){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let m=(i=s("sap.fe.macros.table.SlotColumn"),n=c({type:"string"}),i(a=(o=function(e){function t(t,r){var i;i=e.call(this,t,r)||this;f(i,"templateId",l,i);return i}u=t;p(t,e);var i=t.prototype;i.onMetadataAvailable=function e(){if(this.templateId&&!this.content){this.content=r.getElementById(this.templateId)?.clone()}};return t}(t),l=d(o.prototype,"templateId",[n],{configurable:true,enumerable:true,writable:true,initializer:null}),o))||a);u=m;return u},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/table/Table.block", ["sap/base/Log","sap/fe/core/buildingBlocks/templating/BuildingBlockSupport","sap/fe/core/buildingBlocks/templating/BuildingBlockTemplatingBase","sap/fe/core/converters/ManifestSettings","sap/fe/core/converters/MetaModelConverter","sap/fe/core/converters/controls/Common/DataVisualization","sap/fe/core/converters/controls/Common/table/StandardActions","sap/fe/core/helpers/StableIdHelper","sap/fe/core/helpers/TypeGuards","sap/fe/core/templating/DataModelPathHelper","sap/fe/macros/MacroAPI","sap/fe/macros/table/MdcTableTemplate","sap/fe/macros/table/TableAPI","sap/fe/macros/table/TableCreationOptions","sap/m/FlexItemData","../TSXUtils","./TableEventHandlerProvider","sap/fe/base/jsx-runtime/jsx"],function(e,t,i,n,r,a,o,l,u,s,c,d,p,b,g,h,m,f){"use strict";var y,v,S,P,w,C,A,M,z,x,T,O,I,L,F,E,k,V,D,j,N,B,_,q,H,R,G,U,W,$,X,Q,K,J,Y,Z,ee,te,ie,ne,re,ae,oe,le,ue,se,ce,de,pe,be,ge,he,me,fe,ye,ve,Se,Pe,we,Ce,Ae,Me,ze,xe,Te,Oe,Ie,Le,Fe,Ee,ke,Ve,De,je,Ne,Be,_e,qe,He,Re,Ge,Ue,We,$e,Xe,Qe,Ke,Je,Ye,Ze,et,tt,it,nt,rt,at,ot,lt,ut,st,ct,dt,pt,bt,gt,ht,mt,ft,yt,vt,St,Pt,wt,Ct,At,Mt,zt,xt,Tt,Ot,It,Lt,Ft,Et;var kt={};var Vt=h.createCustomData;var Dt=d.getMDCTableTemplate;var jt=s.getContextRelativeTargetObjectPath;var Nt=u.isAnnotationOfTerm;var Bt=l.generate;var _t=o.StandardActionKeys;var qt=a.getVisualizationsFromAnnotation;var Ht=a.getDataVisualizationConfiguration;var Rt=r.getInvolvedDataModelObjects;var Gt=n.VisualizationType;var Ut=n.CreationMode;var Wt=t.defineBuildingBlock;var $t=t.blockEvent;var Xt=t.blockAttribute;var Qt=t.blockAggregation;function Kt(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function Jt(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Yt(e,t)}function Yt(e,t){return Yt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Yt(e,t)}function Zt(e,t,i,n,r){var a={};return Object.keys(n).forEach(function(e){a[e]=n[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce(function(i,n){return n(e,t,i)||i},a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer?(Object.defineProperty(e,t,a),null):a}function ei(e,t){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}function ti(e,t){return e.getAttribute(t)??undefined}function ii(e,t){const i=e.getAttribute(t);switch(i){case null:case"true":return true;case"false":return false;default:return i}}function ni(e){Object.keys(e).forEach(t=>{if(e[t]===undefined){delete e[t]}})}function ri(e){const t=ai(e);if(e.localName==="Action"){return{text:e.getAttribute("text")??t.key,press:ti(e,"press"),requiresSelection:e.getAttribute("requiresSelection")==="true",...t}}return{enableAutoScroll:ii(e,"enableAutoScroll"),navigateToInstance:ii(e,"navigateToInstance"),defaultValuesFunction:ti(e,"defaultValuesFunction"),...t}}function ai(e){const t={key:e.getAttribute("key").replace("InlineXML_",""),enabled:ii(e,"enabled"),visible:ii(e,"visible"),command:ti(e,"command"),enableOnSelect:ti(e,"enableOnSelect"),placement:ti(e,"placement"),anchor:ti(e,"anchor"),_type:e.localName==="Action"?"Action":"ActionOverride"};if(e?.getAttribute("isAIOperation")){t["isAIOperation"]=ii(e,"isAIOperation")}if(e?.getAttribute("priority")){t["priority"]=ti(e,"priority")}if(e?.getAttribute("group")){t["group"]=Number.parseInt(ti(e,"group")??"",10)}return t}function oi(e,t){if(["ActionGroup","ActionGroupOverride"].includes(e.localName)){const i=si(e,t);if(e.localName==="ActionGroup"){return{text:e.getAttribute("text")??i.key,defaultAction:ti(e,"defaultAction"),...i}}return i}return ri(e)}const li=function(e){return{key:"configuration",customContent:e.children[0]?.outerHTML,visibleFields:e.getAttribute("visibleFields")?.split(","),ignoredFields:e.getAttribute("ignoredFields")?.split(","),operationGroupingMode:e.getAttribute("operationGroupingMode")??undefined}};const ui=function(e){return{key:"quickFilters",paths:e.getAttribute("paths")?.split(","),showCounts:e.getAttribute("showCounts")==="true"}};function si(e,t){const i=Array.prototype.slice.apply(e.children).map(e=>ri(e));t.key=t.key.replace("InlineXML_","");e.setAttribute("key",t.key);return{key:t.key,actions:i,anchor:ti(e,"anchor"),placement:ti(e,"placement"),_type:e.localName==="ActionGroup"?"ActionGroup":"ActionGroupOverride"}}function ci(e,t){t.key=t.key.replace("InlineXML_","");e.setAttribute("key",t.key);return{key:t.key,width:ti(e,"width"),widthIncludingColumnHeader:e.getAttribute("widthIncludingColumnHeader")?e.getAttribute("widthIncludingColumnHeader")==="true":undefined,importance:ti(e,"importance"),horizontalAlign:ti(e,"horizontalAlign"),availability:ti(e,"availability"),placement:ti(e,"placement")||ti(e,"positionPlacement"),anchor:ti(e,"anchor")||ti(e,"positionAnchor"),disableExport:e.getAttribute("disableExport")?e.getAttribute("disableExport")==="true":undefined,exportSettings:pi(e)}}function di(e,t){t.key=t.key.replace("InlineXML_","");e.setAttribute("key",t.key);if(e.localName==="Column"){return{...ci(e,t),header:ti(e,"header"),tooltip:ti(e,"tooltip"),template:bi(e),properties:ti(e,"properties")?.split(","),required:e.getAttribute("required")?e.getAttribute("required")==="true":undefined,_type:e.localName}}return{...ci(e,t),_type:"ColumnOverride"}}const pi=e=>{const t=gi(e,"exportSettings");if(!t){return undefined}return{template:t.template,wrap:t.wrap==="true",type:t.type,property:t.property?.split(","),width:t.width,textAlign:t.textAlign,label:t.label,trueValue:t.trueValue,falseValue:t.falseValue,valueMap:t.valueMap}};const bi=e=>{let t=hi(e,"template");if(!t){for(let i=0;i<e.children.length;i++){const n=e.children.item(i);if(n&&!n.nodeName.endsWith("exportSettings")){t=n;break}}}return t?.outerHTML??e.getAttribute("template")??undefined};const gi=(e,t)=>{const i=hi(e,t);const n=i?.children[0];const r={};if(!n){return undefined}for(const e of n.getAttributeNames()){const t=n.getAttribute(e);if(t){r[e]=t}}return r};const hi=(e,t)=>{let i;for(let n=0;n<e.children.length;n++){const r=e.children.item(n);if(r?.nodeName.endsWith(t)===true){i=r;break}}return i};let mi=(y=Wt({name:"Table",namespace:"sap.fe.macros.internal",publicNamespace:"sap.fe.macros",returnTypes:["sap.fe.macros.table.TableAPI"]}),v=Xt({type:"sap.ui.model.Context",underlyingType:"string",expectedTypes:["EntitySet","EntityType","Singleton","NavigationProperty"],expectedAnnotations:["com.sap.vocabularies.UI.v1.LineItem","com.sap.vocabularies.UI.v1.PresentationVariant","com.sap.vocabularies.UI.v1.SelectionPresentationVariant"],isPublic:true,required:true}),S=Xt({type:"boolean",isPublic:true,bindable:true}),P=Xt({type:"sap.ui.model.Context",underlyingType:"string",expectedTypes:["EntitySet","EntityType","Singleton","NavigationProperty"],isPublic:true}),w=Xt({type:"boolean",isPublic:true}),C=Xt({type:"boolean",isPublic:true}),A=Xt({type:"boolean",isPublic:true}),M=Xt({type:"boolean",isPublic:true}),z=Xt({type:"boolean",isPublic:true}),x=Xt({type:"string",isPublic:true}),T=Xt({type:"string",isPublic:true}),O=Xt({type:"int",isPublic:true}),I=Xt({type:"int",isPublic:true}),L=Xt({type:"int",isPublic:true}),F=Xt({type:"boolean",isPublic:true}),E=Xt({type:"boolean",isPublic:true}),k=Xt({type:"string",allowedValues:["Auto","Fixed","Interactive"],isPublic:true}),V=Xt({type:"int",isPublic:true}),D=Xt({type:"boolean",isPublic:true}),j=Xt({type:"boolean",isPublic:true}),N=Xt({type:"int",isPublic:true}),B=Xt({type:"int",isPublic:true}),_=Xt({type:"string",allowedValues:["Block","GridLarge","GridSmall"],isPublic:true}),q=Xt({type:"string",isPublic:true,isAssociation:true}),H=Xt({type:"string",isPublic:true}),R=Xt({type:"sap.ui.core.TitleLevel",isPublic:true}),G=Xt({type:"boolean",isPublic:true}),U=Xt({type:"string",isPublic:true}),W=Xt({type:"string",isPublic:true}),$=Xt({type:"sap.ui.model.Context",underlyingType:"string",expectedTypes:["EntitySet","EntityType","Singleton","NavigationProperty"],expectedAnnotations:["com.sap.vocabularies.UI.v1.SelectionVariant"],isPublic:true}),X=Xt({type:"boolean",isPublic:true}),Q=Xt({type:"string",isPublic:true}),K=Xt({type:"boolean",isPublic:true}),J=Xt({type:"string",isPublic:true,allowedValues:["GridTable","ResponsiveTable","AnalyticalTable"]}),Y=Xt({type:"boolean",isPublic:true}),Z=Xt({type:"string",isPublic:true,allowedValues:["None","Single","Multi","Auto","ForceMulti","ForceSingle"]}),ee=Xt({type:"string",isPublic:true,allowedValues:["Control"]}),te=Xt({type:"string",isPublic:true}),ie=Xt({type:"string",isPublic:true,allowedValues:["illustratedMessage-Auto","illustratedMessage-Base","illustratedMessage-Medium","illustratedMessage-Dot","illustratedMessage-ExtraSmall","illustratedMessage-Scene","illustratedMessage-Large","illustratedMessage-Spot","illustratedMessage-Small","text"]}),ne=Xt({type:"sap.ui.core.TitleLevel"}),re=Xt({type:"boolean",isPublic:true}),ae=Xt({type:"string"}),oe=Xt({type:"boolean"}),le=Xt({type:"boolean"}),ue=Xt({type:"string"}),se=Xt({type:"boolean"}),ce=Xt({type:"boolean"}),de=Xt({type:"object",underlyingType:"sap.fe.macros.table.TableCreationOptions",isPublic:true,validate:function(e){if(e.name&&!["NewPage","Inline","InlineCreationRows","External","CreationDialog"].includes(e.name)){throw new Error(`Allowed value ${e.name} for creationMode does not match`)}return e}}),pe=Xt({type:"object",underlyingType:"sap.fe.macros.table.AnalyticalConfiguration",isPublic:true,validate:function(e){if(typeof e.aggregationOnLeafLevel==="string"){e.aggregationOnLeafLevel=e.aggregationOnLeafLevel==="true"}return e}}),be=Qt({type:"sap.fe.macros.table.Action",altTypes:["sap.fe.macros.table.ActionGroup","sap.fe.macros.table.ActionOverride","sap.fe.macros.table.ActionGroupOverride"],isPublic:true,hasVirtualNode:true,multiple:true,processAggregations:oi}),ge=Qt({type:"sap.fe.macros.table.MassEdit",isPublic:true,multiple:false,skipKey:true,processAggregations:li}),he=Qt({type:"sap.fe.macros.table.Column",altTypes:["sap.fe.macros.table.ColumnOverride"],isPublic:true,multiple:true,hasVirtualNode:true,isDefault:true,processAggregations:di}),me=Qt({type:"sap.fe.macros.table.QuickVariantSelection",isPublic:true,skipKey:true,multiple:false,processAggregations:ui}),fe=$t(),ye=$t(),ve=$t(),Se=$t(),Pe=$t(),we=$t(),Ce=$t(),Ae=Xt({type:"boolean",isPublic:true}),y(Me=(ze=(Et=function(t){function i(e,n,r){var a;a=t.call(this,e,n,r)||this;Kt(a,"metaPath",xe,a);Kt(a,"busy",Te,a);Kt(a,"contextPath",Oe,a);Kt(a,"condensedTableLayout",Ie,a);Kt(a,"enableFullScreen",Le,a);Kt(a,"enablePastingOfComputedProperties",Fe,a);Kt(a,"enableSelectAll",Ee,a);Kt(a,"enableExport",ke,a);Kt(a,"exportFileName",Ve,a);Kt(a,"exportSheetName",De,a);Kt(a,"exportRequestSize",je,a);Kt(a,"selectionLimit",Ne,a);Kt(a,"frozenColumnCount",Be,a);Kt(a,"disableColumnFreeze",_e,a);Kt(a,"widthIncludingColumnHeader",qe,a);Kt(a,"rowCountMode",He,a);Kt(a,"rowCount",Re,a);Kt(a,"enablePaste",Ge,a);Kt(a,"disableCopyToClipboard",Ue,a);Kt(a,"scrollThreshold",We,a);Kt(a,"threshold",$e,a);Kt(a,"popinLayout",Xe,a);Kt(a,"filterBar",Qe,a);Kt(a,"header",Ke,a);Kt(a,"headerLevel",Je,a);Kt(a,"headerVisible",Ye,a);Kt(a,"id",Ze,a);Kt(a,"contentId",et,a);Kt(a,"associatedSelectionVariantPath",tt,a);Kt(a,"isSearchable",it,a);Kt(a,"personalization",nt,a);Kt(a,"readOnly",rt,a);Kt(a,"type",at,a);Kt(a,"useCondensedLayout",ot,a);Kt(a,"selectionMode",lt,a);Kt(a,"variantManagement",ut,a);Kt(a,"ignoredFields",st,a);Kt(a,"modeForNoDataMessage",ct,a);Kt(a,"headerStyle",dt,a);Kt(a,"enableAutoColumnWidth",pt,a);Kt(a,"fieldMode",bt,a);Kt(a,"isAlp",gt,a);Kt(a,"inMultiView",ht,a);Kt(a,"tabTitle",mt,a);Kt(a,"visible",ft,a);Kt(a,"displaySegmentedButton",yt,a);Kt(a,"creationMode",vt,a);Kt(a,"analyticalConfiguration",St,a);Kt(a,"actions",Pt,a);Kt(a,"massEdit",wt,a);Kt(a,"columns",Ct,a);Kt(a,"quickVariantSelection",At,a);Kt(a,"beforeRebindTable",Mt,a);Kt(a,"rowPress",zt,a);Kt(a,"listBindingChange",xt,a);Kt(a,"segmentedButtonPress",Tt,a);Kt(a,"variantSaved",Ot,a);Kt(a,"selectionChange",It,a);Kt(a,"variantSelected",Lt,a);Kt(a,"initialLoad",Ft,a);const o=Rt(a.metaPath,a.contextPath);a.contextObjectPath=o;a.tableDefinition=i.createTableDefinition(a,r);a.tableDefinitionContext=c.createBindingContext(a.tableDefinition,r);a.convertedMetadata=a.contextObjectPath.convertedTypes;a.metaModel=r.models.metaModel;a.collectionEntity=a.convertedMetadata.resolvePath(a.tableDefinition.annotation.collection).target;a.appComponent=r.appComponent;a.setUpId();a.creationMode??={};a.creationMode.name??=a.tableDefinition.annotation.create.mode;a.creationMode.createAtEnd??=a.tableDefinition.annotation.create.append;if(a.readOnly===undefined&&(a.tableDefinition.annotation.displayMode===true||a.tableDefinition.control.readOnly===true)){a.readOnly=true}p.updateColumnsVisibility(a.tableDefinition.control.ignoredFields,[],a.tableDefinition);let l=false;if(!a.filterBar){a.filterBar=Bt([a.contentId,"StandardAction","BasicSearch"]);l=true}a.useBasicSearch=l;return a}kt=i;Jt(i,t);i.getVisualizationPath=function t(i,n){const r=jt(i);if(!r){e.error(`Missing meta path parameter for LineItem`);return`@${"com.sap.vocabularies.UI.v1.LineItem"}`}if(Nt(i.targetObject,"com.sap.vocabularies.UI.v1.LineItem")){return r}const a=n.getEntityTypeAnnotation(r);let o=[];if(Nt(i.targetObject,"com.sap.vocabularies.UI.v1.SelectionPresentationVariant")||Nt(i.targetObject,"com.sap.vocabularies.UI.v1.PresentationVariant")){o=qt(i.targetObject,r,a.converterContext,true)}else{e.error(`Bad metapath parameter for table : ${i.targetObject.term}`)}const l=o.find(e=>e.visualization.term==="com.sap.vocabularies.UI.v1.LineItem");if(l){return l.annotationPath}else{e.error(`Bad meta path parameter for LineItem: ${i.targetObject.term}`);return`@${"com.sap.vocabularies.UI.v1.LineItem"}`}};var n=i.prototype;n.getTableSettings=function e(){const t={};i.addSetting(t,"enableExport",this.enableExport);i.addSetting(t,"exportFileName",this.exportFileName);i.addSetting(t,"exportSheetName",this.exportSheetName);i.addSetting(t,"readOnly",this.readOnly);i.addSetting(t,"ignoredFields",this.ignoredFields);i.addSetting(t,"selectionLimit",this.selectionLimit);i.addSetting(t,"condensedTableLayout",this.condensedTableLayout);i.addSetting(t,"exportRequestSize",this.exportRequestSize);i.addSetting(t,"frozenColumnCount",this.frozenColumnCount);i.addSetting(t,"disableColumnFreeze",this.disableColumnFreeze);i.addSetting(t,"widthIncludingColumnHeader",this.widthIncludingColumnHeader);i.addSetting(t,"rowCountMode",this.rowCountMode);i.addSetting(t,"rowCount",this.rowCount);i.addSetting(t,"enableFullScreen",this.enableFullScreen);i.addSetting(t,"selectAll",this.enableSelectAll);i.addSetting(t,"enablePastingOfComputedProperties",this.enablePastingOfComputedProperties);i.addSetting(t,"enablePaste",this.enablePaste);i.addSetting(t,"disableCopyToClipboard",this.disableCopyToClipboard);i.addSetting(t,"scrollThreshold",this.scrollThreshold);i.addSetting(t,"threshold",this.threshold);i.addSetting(t,"popinLayout",this.popinLayout);i.addSetting(t,"selectionMode",this.selectionMode);i.addSetting(t,"type",this.type);if(this.quickVariantSelection?.quickFilters?.paths?.length){i.addSetting(t,"quickVariantSelection",{paths:this.quickVariantSelection.quickFilters.paths.map(e=>({annotationPath:e})),showCounts:this.quickVariantSelection.quickFilters.showCounts})}if(this.creationMode){const e={};i.addSetting(e,"name",this.creationMode.name);i.addSetting(e,"creationFields",this.creationMode.creationFields);i.addSetting(e,"createAtEnd",this.creationMode.createAtEnd);i.addSetting(e,"inlineCreationRowsHiddenInEditMode",this.creationMode.inlineCreationRowsHiddenInEditMode);i.addSetting(e,"outbound",this.creationMode.outbound);if(Object.entries(e).length>0){t["creationMode"]=e}}if(this.massEdit){const e={};i.addSetting(e,"customFragment",this.massEdit.configuration?.customContent);i.addSetting(e,"fromInline",true);i.addSetting(e,"visibleFields",this.massEdit.configuration?.visibleFields?.join(","));i.addSetting(e,"ignoredFields",this.massEdit.configuration?.ignoredFields?.join(","));i.addSetting(e,"operationGroupingMode",this.massEdit.configuration?.operationGroupingMode);t["enableMassEdit"]=e}if(this.analyticalConfiguration?.aggregationOnLeafLevel===true){const e={};i.addSetting(e,"aggregationOnLeafLevel",this.analyticalConfiguration.aggregationOnLeafLevel);if(Object.entries(e).length>0){t["analyticalConfiguration"]=e}}return t};i.createTableDefinition=function e(t,n){const r=t.getConverterContext(t.contextObjectPath,t.contextPath?.getPath(),n);const a=i.getVisualizationPath(t.contextObjectPath,r);const o=t.getTableSettings();const l={actions:i.createActionsFromManifest(t),columns:i.createColumnsForManifest(t),tableSettings:o};const u={};u[a]=l;const s=t.getConverterContext(t.contextObjectPath,t.contextPath?.getPath(),n,u);let c;if(t.associatedSelectionVariantPath){const e=Rt(t.associatedSelectionVariantPath,t.contextPath);c=e.targetObject}const d=Ht(t.inMultiView&&t.contextObjectPath.targetObject?s.getRelativeAnnotationPath(t.contextObjectPath.targetObject.fullyQualifiedName,s.getEntityType()):jt(t.contextObjectPath),s,{isCondensedTableLayoutCompliant:t.useCondensedLayout,associatedSelectionVariant:c,isMacroOrMultipleView:t.inMultiView??true});return d.visualizations.find(e=>e.type===Gt.Table)};i.createActionsFromManifest=function e(t){const i={};const n=e=>{const t=e.key;i[t]={position:{placement:e.placement??"After",anchor:e.anchor},command:e.command,enableOnSelect:e.enableOnSelect,visible:e.visible,enabled:e.enabled,isAIOperation:e.isAIOperation,priority:e.priority,group:e.group};if(e._type==="Action"){i[t]={...i[t],text:e.text,__noWrap:true,press:e.press,requiresSelection:e.requiresSelection};return}const n={enableAutoScroll:e["enableAutoScroll"],navigateToInstance:e["navigateToInstance"]};ni(n);i[t]={...i[t],afterExecution:Object.entries(n).length?n:undefined,defaultValuesFunction:e.defaultValuesFunction}};if(t.actions){Object.values(t.actions).forEach(e=>{if(e._type==="Action"||e._type==="ActionOverride"){n(e)}else if(e._type==="ActionGroup"||e._type==="ActionGroupOverride"){const t=e.key;i[t]={position:{placement:e.placement??"After",anchor:e.anchor},menu:e.actions.map(e=>e.key)};if(e._type==="ActionGroup"){i[t]={...i[t],text:e.text,defaultAction:e.defaultAction,__noWrap:true}}e.actions.forEach(e=>{n(e)})}})}return i};i.createColumnsForManifest=function e(t){const i=e=>e._type==="Column";const n={};if(t.columns){Object.values(t.columns).forEach(e=>{let t;if(i(e)){t={header:e.header,width:e.width,importance:e.importance,horizontalAlign:e.horizontalAlign,widthIncludingColumnHeader:e.widthIncludingColumnHeader,exportSettings:e.exportSettings,properties:e.properties,tooltip:e.tooltip,template:e.template,availability:e.availability,required:e.required,type:"Slot",disableExport:e.disableExport}}else{t={key:e.key,width:e.width,importance:e.importance,horizontalAlign:e.horizontalAlign,widthIncludingColumnHeader:e.widthIncludingColumnHeader,exportSettings:e.exportSettings,availability:e.availability,disableExport:e.disableExport}}ni(t);if(i(e)&&(e.anchor||e.placement)){t.position={anchor:e.anchor,placement:e.placement??"After"}}n[e.key]=t})}return n};n.setUpId=function e(){if(this.id){this._apiId=this.id;this.contentId??=this.getContentId(this.id)}else{this.id=this.tableDefinition.annotation.apiId;this.contentId=this.tableDefinition.annotation.id;this._apiId=this.tableDefinition.annotation.apiId}};n._getEntityType=function e(){return this.collectionEntity?.entityType||this.collectionEntity?.targetType};n.getEmptyRowsEnabled=function e(){const t=this.creationMode.name===Ut.InlineCreationRows?this.tableDefinition.actions.find(e=>e.key===_t.Create)?.enabled:undefined;return t==="false"?undefined:t};n.getTemplate=function e(){const t=this._getEntityType();const i=this;i.overrideRowPress=this.rowPress!==undefined;const n=this.convertedMetadata.resolvePath(i.tableDefinition.annotation.collection).target;const r=new m(i,{collectionEntity:n,metaModel:this.metaPath.getModel()});let a;if(this.creationMode&&Object.keys(this.creationMode).length>0){a=f(b,{...this.creationMode})}return f(p,{"core:require":"{FPM: 'sap/fe/core/helpers/FPMHelper'}",binding:`{internal>controls/${this.contentId}}`,id:this._apiId,contentId:this.contentId,visible:this.visible,headerLevel:this.headerLevel,headerStyle:this.headerStyle,headerVisible:this.headerVisible,tabTitle:this.tabTitle,exportRequestSize:this.exportRequestSize,disableCopyToClipboard:this.disableCopyToClipboard,scrollThreshold:this.scrollThreshold,threshold:this.tableDefinition.control.threshold??this.tableDefinition.annotation.threshold,popinLayout:this.popinLayout,isSearchable:this.isSearchable,busy:this.busy,initialLoad:this.initialLoad,header:this.header,isAlp:this.isAlp,fieldMode:this.fieldMode,personalization:this.personalization,rowPress:this.rowPress,variantSaved:this.variantSaved,variantSelected:this.variantSelected,segmentedButtonPress:this.segmentedButtonPress,variantManagement:this.variantManagement,ignoredFields:this.tableDefinition.control.ignoredFields,tableDefinition:`{_pageModel>${this.tableDefinitionContext.getPath()}}`,entityTypeFullyQualifiedName:t?.fullyQualifiedName,metaPath:this.metaPath?.getPath(),useBasicSearch:this.useBasicSearch,enableFullScreen:this.enableFullScreen,enableExport:this.enableExport,exportFileName:this.exportFileName,exportSheetName:this.exportSheetName,frozenColumnCount:this.frozenColumnCount,disableColumnFreeze:this.disableColumnFreeze,enablePaste:this.enablePaste,rowCountMode:this.rowCountMode,rowCount:this.rowCount,contextPath:this.contextPath?.getPath(),selectionChange:this.selectionChange,listBindingChange:this.listBindingChange,readOnly:this.readOnly,selectionMode:this.selectionMode,useCondensedLayout:this.useCondensedLayout,type:this.type,filterBar:this.filterBar,emptyRowsEnabled:this.getEmptyRowsEnabled(),enableAutoColumnWidth:this.enableAutoColumnWidth,beforeRebindTable:this.beforeRebindTable,widthIncludingColumnHeader:this.widthIncludingColumnHeader,modeForNoDataMessage:this.modeForNoDataMessage,associatedSelectionVariantPath:this.associatedSelectionVariantPath?.getPath(),displaySegmentedButton:this.displaySegmentedButton,enablePastingOfComputedProperties:this.enablePastingOfComputedProperties,enableSelectAll:this.enableSelectAll,inMultiView:this.inMultiView,selectionLimit:this.selectionLimit,condensedTableLayout:this.condensedTableLayout,children:{customData:Vt("tableAPILocalId",this._apiId),creationMode:a,layoutData:f(g,{maxWidth:"100%"}),content:Dt(i,{metaPath:this.metaPath,convertedMetadata:this.convertedMetadata,metaModel:this.metaModel,handlerProvider:r,appComponent:this.appComponent})}})};return i}(i),Et.addSetting=(e,t,i)=>{if(i!==undefined){e[t]=i}},Et),xe=Zt(ze.prototype,"metaPath",[v],{configurable:true,enumerable:true,writable:true,initializer:null}),Te=Zt(ze.prototype,"busy",[S],{configurable:true,enumerable:true,writable:true,initializer:null}),Oe=Zt(ze.prototype,"contextPath",[P],{configurable:true,enumerable:true,writable:true,initializer:null}),Ie=Zt(ze.prototype,"condensedTableLayout",[w],{configurable:true,enumerable:true,writable:true,initializer:null}),Le=Zt(ze.prototype,"enableFullScreen",[C],{configurable:true,enumerable:true,writable:true,initializer:null}),Fe=Zt(ze.prototype,"enablePastingOfComputedProperties",[A],{configurable:true,enumerable:true,writable:true,initializer:null}),Ee=Zt(ze.prototype,"enableSelectAll",[M],{configurable:true,enumerable:true,writable:true,initializer:null}),ke=Zt(ze.prototype,"enableExport",[z],{configurable:true,enumerable:true,writable:true,initializer:null}),Ve=Zt(ze.prototype,"exportFileName",[x],{configurable:true,enumerable:true,writable:true,initializer:null}),De=Zt(ze.prototype,"exportSheetName",[T],{configurable:true,enumerable:true,writable:true,initializer:null}),je=Zt(ze.prototype,"exportRequestSize",[O],{configurable:true,enumerable:true,writable:true,initializer:null}),Ne=Zt(ze.prototype,"selectionLimit",[I],{configurable:true,enumerable:true,writable:true,initializer:null}),Be=Zt(ze.prototype,"frozenColumnCount",[L],{configurable:true,enumerable:true,writable:true,initializer:null}),_e=Zt(ze.prototype,"disableColumnFreeze",[F],{configurable:true,enumerable:true,writable:true,initializer:null}),qe=Zt(ze.prototype,"widthIncludingColumnHeader",[E],{configurable:true,enumerable:true,writable:true,initializer:null}),He=Zt(ze.prototype,"rowCountMode",[k],{configurable:true,enumerable:true,writable:true,initializer:null}),Re=Zt(ze.prototype,"rowCount",[V],{configurable:true,enumerable:true,writable:true,initializer:null}),Ge=Zt(ze.prototype,"enablePaste",[D],{configurable:true,enumerable:true,writable:true,initializer:null}),Ue=Zt(ze.prototype,"disableCopyToClipboard",[j],{configurable:true,enumerable:true,writable:true,initializer:null}),We=Zt(ze.prototype,"scrollThreshold",[N],{configurable:true,enumerable:true,writable:true,initializer:null}),$e=Zt(ze.prototype,"threshold",[B],{configurable:true,enumerable:true,writable:true,initializer:null}),Xe=Zt(ze.prototype,"popinLayout",[_],{configurable:true,enumerable:true,writable:true,initializer:null}),Qe=Zt(ze.prototype,"filterBar",[q],{configurable:true,enumerable:true,writable:true,initializer:null}),Ke=Zt(ze.prototype,"header",[H],{configurable:true,enumerable:true,writable:true,initializer:null}),Je=Zt(ze.prototype,"headerLevel",[R],{configurable:true,enumerable:true,writable:true,initializer:null}),Ye=Zt(ze.prototype,"headerVisible",[G],{configurable:true,enumerable:true,writable:true,initializer:null}),Ze=Zt(ze.prototype,"id",[U],{configurable:true,enumerable:true,writable:true,initializer:null}),et=Zt(ze.prototype,"contentId",[W],{configurable:true,enumerable:true,writable:true,initializer:null}),tt=Zt(ze.prototype,"associatedSelectionVariantPath",[$],{configurable:true,enumerable:true,writable:true,initializer:null}),it=Zt(ze.prototype,"isSearchable",[X],{configurable:true,enumerable:true,writable:true,initializer:null}),nt=Zt(ze.prototype,"personalization",[Q],{configurable:true,enumerable:true,writable:true,initializer:null}),rt=Zt(ze.prototype,"readOnly",[K],{configurable:true,enumerable:true,writable:true,initializer:null}),at=Zt(ze.prototype,"type",[J],{configurable:true,enumerable:true,writable:true,initializer:null}),ot=Zt(ze.prototype,"useCondensedLayout",[Y],{configurable:true,enumerable:true,writable:true,initializer:null}),lt=Zt(ze.prototype,"selectionMode",[Z],{configurable:true,enumerable:true,writable:true,initializer:null}),ut=Zt(ze.prototype,"variantManagement",[ee],{configurable:true,enumerable:true,writable:true,initializer:null}),st=Zt(ze.prototype,"ignoredFields",[te],{configurable:true,enumerable:true,writable:true,initializer:null}),ct=Zt(ze.prototype,"modeForNoDataMessage",[ie],{configurable:true,enumerable:true,writable:true,initializer:null}),dt=Zt(ze.prototype,"headerStyle",[ne],{configurable:true,enumerable:true,writable:true,initializer:null}),pt=Zt(ze.prototype,"enableAutoColumnWidth",[re],{configurable:true,enumerable:true,writable:true,initializer:function(){return true}}),bt=Zt(ze.prototype,"fieldMode",[ae],{configurable:true,enumerable:true,writable:true,initializer:function(){return""}}),gt=Zt(ze.prototype,"isAlp",[oe],{configurable:true,enumerable:true,writable:true,initializer:function(){return false}}),ht=Zt(ze.prototype,"inMultiView",[le],{configurable:true,enumerable:true,writable:true,initializer:null}),mt=Zt(ze.prototype,"tabTitle",[ue],{configurable:true,enumerable:true,writable:true,initializer:function(){return""}}),ft=Zt(ze.prototype,"visible",[se],{configurable:true,enumerable:true,writable:true,initializer:null}),yt=Zt(ze.prototype,"displaySegmentedButton",[ce],{configurable:true,enumerable:true,writable:true,initializer:null}),vt=Zt(ze.prototype,"creationMode",[de],{configurable:true,enumerable:true,writable:true,initializer:function(){return{}}}),St=Zt(ze.prototype,"analyticalConfiguration",[pe],{configurable:true,enumerable:true,writable:true,initializer:function(){return{}}}),Pt=Zt(ze.prototype,"actions",[be],{configurable:true,enumerable:true,writable:true,initializer:null}),wt=Zt(ze.prototype,"massEdit",[ge],{configurable:true,enumerable:true,writable:true,initializer:null}),Ct=Zt(ze.prototype,"columns",[he],{configurable:true,enumerable:true,writable:true,initializer:null}),At=Zt(ze.prototype,"quickVariantSelection",[me],{configurable:true,enumerable:true,writable:true,initializer:null}),Mt=Zt(ze.prototype,"beforeRebindTable",[fe],{configurable:true,enumerable:true,writable:true,initializer:null}),zt=Zt(ze.prototype,"rowPress",[ye],{configurable:true,enumerable:true,writable:true,initializer:null}),xt=Zt(ze.prototype,"listBindingChange",[ve],{configurable:true,enumerable:true,writable:true,initializer:null}),Tt=Zt(ze.prototype,"segmentedButtonPress",[Se],{configurable:true,enumerable:true,writable:true,initializer:null}),Ot=Zt(ze.prototype,"variantSaved",[Pe],{configurable:true,enumerable:true,writable:true,initializer:null}),It=Zt(ze.prototype,"selectionChange",[we],{configurable:true,enumerable:true,writable:true,initializer:null}),Lt=Zt(ze.prototype,"variantSelected",[Ce],{configurable:true,enumerable:true,writable:true,initializer:null}),Ft=Zt(ze.prototype,"initialLoad",[Ae],{configurable:true,enumerable:true,writable:true,initializer:null}),ze))||Me);kt=mi;return kt},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/table/Table", ["sap/fe/base/ClassSupport","sap/fe/core/buildingBlocks/templating/BuildingBlockSupport","sap/fe/macros/controls/BuildingBlockWithTemplating","sap/fe/macros/table/Table.block","sap/m/FlexItemData"],function(t,e,n,r,i){"use strict";var o,a,s,c;var u={};var l=e.convertBuildingBlockMetadata;var g=t.xmlEventHandler;var f=t.defineUI5Class;function d(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,p(t,e)}function p(t,e){return p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},p(t,e)}function v(t,e,n,r,i){var o={};return Object.keys(r).forEach(function(t){o[t]=r[t]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(n,r){return r(t,e,n)||n},o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer?(Object.defineProperty(t,e,o),null):o}let h=(o=f("sap.fe.macros.table.Table",l(r)),a=g(),o(s=(c=function(t){function e(e,n){var r;r=t.call(this,e,n)||this;r.createProxyMethods(["getSelectedContexts","addMessage","removeMessage","refresh","getPresentationVariant","setPresentationVariant","getCurrentVariantKey","setCurrentVariantKey","getSelectionVariant","setSelectionVariant"]);return r}u=e;d(e,t);var n=e.prototype;n._fireEvent=function t(e,n,r){const i=this.getAggregation("actions");if(i){const t=i.find(t=>e.getParameter("id").endsWith("::"+t.getKey()));t?.fireEvent(r,e.getParameters());return}this.fireEvent(r,e.getParameters())};n.getLayoutData=function t(){return new i({maxWidth:"100%"})};n.setMetaPath=function t(e){return this.setProperty("metaPath",e)};n.getMetaPath=function t(){return this.getProperty("metaPath")};n.setIgnoredFields=function t(e){return this.setProperty("ignoredFields",e)};n.getIgnoredFields=function t(){return this.getProperty("ignoredFields")};n.addColumn=function t(e){return this.addAggregation("columns",e)};n.removeColumn=function t(e){return this.removeAggregation("columns",e)};n.addAction=function t(e){return this.addAggregation("actions",e)};n.removeAction=function t(e){return this.removeAggregation("actions",e)};n.createContent=async function e(n){const r=this.content?.content.getRowBinding()?.getCurrentContexts().length>0;await t.prototype.createContent.call(this,n);if(r){this.content?.content.rebind?.()}};return e}(n),v(c.prototype,"_fireEvent",[a],Object.getOwnPropertyDescriptor(c.prototype,"_fireEvent"),c.prototype),c))||s);u=h;return u},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/table/TableAPI", ["sap/base/Log","sap/base/util/deepClone","sap/fe/base/BindingToolkit","sap/fe/base/ClassSupport","sap/fe/base/jsx-runtime/jsx","sap/fe/core/CommonUtils","sap/fe/core/buildingBlocks/templating/BuildingBlockTemplateProcessor","sap/fe/core/controllerextensions/editFlow/NotApplicableContextDialog","sap/fe/core/controllerextensions/routing/NavigationReason","sap/fe/core/controls/Any","sap/fe/core/converters/ManifestSettings","sap/fe/core/converters/MetaModelConverter","sap/fe/core/converters/controls/Common/Table","sap/fe/core/converters/controls/Common/table/StandardActions","sap/fe/core/helpers/DeleteHelper","sap/fe/core/helpers/FPMHelper","sap/fe/core/helpers/PasteHelper","sap/fe/core/helpers/PromiseKeeper","sap/fe/core/helpers/ResourceModelHelper","sap/fe/core/helpers/StableIdHelper","sap/fe/core/templating/DataModelPathHelper","sap/fe/core/templating/UIFormatters","sap/fe/macros/MacroAPI","sap/fe/macros/field/FieldTemplating","sap/fe/macros/filter/FilterUtils","sap/fe/macros/table/MdcTableTemplate","sap/fe/macros/table/TableCreationOptions","sap/fe/macros/table/TableHelper","sap/fe/macros/table/TableRuntime","sap/fe/macros/table/Utils","sap/fe/macros/table/adapter/TablePVToState","sap/fe/macros/table/massEdit/MassEditDialogHelper","sap/fe/navigation/PresentationVariant","sap/m/IllustratedMessage","sap/m/IllustratedMessageType","sap/m/MessageBox","sap/m/MessageToast","sap/m/Text","sap/ui/base/ManagedObjectMetadata","sap/ui/core/Element","sap/ui/core/Fragment","sap/ui/core/Lib","sap/ui/core/Messaging","sap/ui/core/library","sap/ui/core/message/Message","sap/ui/core/util/XMLPreprocessor","sap/ui/mdc/p13n/StateUtil","../mdc/adapter/StateHelper","./TableDefinition","./TableEventHandlerProvider","./mixin/ColumnManagement","./mixin/ContextMenuHandler","./mixin/EmptyRowsHandler","./mixin/TableAPIStateHandler","./mixin/TableExport","./mixin/TableHierarchy","./mixin/TableOptimisticBatch","./mixin/TableSharing"],function(e,t,n,i,o,r,a,s,l,u,c,p,d,g,f,h,b,y,m,C,P,S,w,v,M,T,x,D,E,A,I,O,B,F,_,R,z,L,N,V,j,H,k,$,G,U,q,Q,K,W,X,Y,J,Z,ee,te,ne,ie){"use strict";var oe,re,ae,se,le,ue,ce,pe,de,ge,fe,he,be,ye,me,Ce,Pe,Se,we,ve,Me,Te,xe,De,Ee,Ae,Ie,Oe,Be,Fe,_e,Re,ze,Le,Ne,Ve,je,He,ke,$e,Ge,Ue,qe,Qe,Ke,We,Xe,Ye,Je,Ze,et,tt,nt,it,ot,rt,at,st,lt,ut,ct,pt,dt,gt,ft,ht,bt,yt,mt,Ct,Pt,St,wt,vt,Mt,Tt,xt,Dt,Et,At,It,Ot,Bt,Ft,_t,Rt,zt,Lt,Nt,Vt,jt,Ht,kt,$t,Gt,Ut,qt,Qt,Kt,Wt,Xt,Yt,Jt,Zt,en,tn,nn,on,rn,an,sn,ln,un,cn,pn,dn,gn,fn,hn,bn,yn,mn,Cn,Pn,Sn,wn,vn,Mn,Tn,xn,Dn,En,An,In,On,Bn,Fn,_n,Rn,zn,Ln,Nn,Vn,jn,Hn,kn,$n,Gn,Un,qn,Qn,Kn,Wn,Xn,Yn,Jn,Zn,ei,ti,ni,ii,oi,ri,ai,si,li,ui,ci,pi,di,gi,fi,hi,bi,yi,mi,Ci;var Pi=K.createTableDefinition;var Si=$.TitleLevel;var wi=I.convertPVToState;var vi=P.getTargetObjectPath;var Mi=P.getContextRelativeTargetObjectPath;var Ti=C.generate;var xi=m.getResourceModel;var Di=g.StandardActionKeys;var Ei=d.getCustomFunctionInfo;var Ai=p.getInvolvedDataModelObjects;var Ii=p.convertTypes;var Oi=c.CreationMode;var Bi=a.xml;var Fi=a.parseXMLString;var _i=i.xmlEventHandler;var Ri=i.property;var zi=i.mixin;var Li=i.implementInterface;var Ni=i.event;var Vi=i.defineUI5Class;var ji=i.aggregation;var Hi=n.resolveBindingString;var ki=n.isPathInModelExpression;var $i=n.compileExpression;function Gi(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function Ui(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,qi(e,t)}function qi(e,t){return qi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},qi(e,t)}function Qi(e,t,n,i,o){var r={};return Object.keys(i).forEach(function(e){r[e]=i[e]}),r.enumerable=!!r.enumerable,r.configurable=!!r.configurable,("value"in r||r.initializer)&&(r.writable=!0),r=n.slice().reverse().reduce(function(n,i){return i(e,t,n)||n},r),o&&void 0!==r.initializer&&(r.value=r.initializer?r.initializer.call(o):void 0,r.initializer=void 0),void 0===r.initializer?(Object.defineProperty(e,t,r),null):r}function Ki(e,t){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let Wi=(oe=Vi("sap.fe.macros.table.TableAPI",{returnTypes:["sap.fe.macros.MacroAPI"]}),re=zi(Z),ae=zi(ee),se=zi(ne),le=zi(te),ue=zi(J),ce=zi(Y),pe=zi(ie),de=zi(X),ge=Li("sap.fe.core.IRowBindingInterface"),fe=Li("sap.fe.macros.controls.section.ISingleSectionContributor"),he=Ri({type:"string",expectedTypes:["EntitySet","EntityType","Singleton","NavigationProperty"],expectedAnnotations:["com.sap.vocabularies.UI.v1.LineItem","com.sap.vocabularies.UI.v1.PresentationVariant","com.sap.vocabularies.UI.v1.SelectionPresentationVariant"],required:true}),be=Ri({type:"string",expectedTypes:["EntitySet","EntityType","Singleton","NavigationProperty"]}),ye=Ri({type:"object"}),me=Ri({type:"string"}),Ce=Ri({type:"string"}),Pe=Ri({type:"boolean"}),Se=Ri({type:"boolean"}),we=Ri({type:"string"}),ve=Ri({type:"string"}),Me=Ri({type:"int"}),Te=Ri({type:"boolean"}),xe=Ri({type:"string",allowedValues:["Auto","Fixed"]}),De=Ri({type:"int"}),Ee=Ri({type:"boolean"}),Ae=Ri({type:"boolean"}),Ie=Ri({type:"int"}),Oe=Ri({type:"int"}),Be=Ri({type:"string",allowedValues:["Block","GridLarge","GridSmall"]}),Fe=Ri({type:"boolean"}),_e=Ri({type:"string",allowedValues:["GridTable","ResponsiveTable","AnalyticalTable"]}),Re=Ri({type:"boolean"}),ze=Ri({type:"string",allowedValues:["None","Single","Multi","Auto","ForceMulti","ForceSingle"]}),Le=Ri({type:"boolean"}),Ne=ji({type:"sap.fe.macros.table.Action",altTypes:["sap.fe.macros.table.ActionGroup","sap.fe.macros.table.ActionOverride","sap.fe.macros.table.ActionGroupOverride"],multiple:true}),Ve=ji({type:"sap.fe.macros.table.Column",altTypes:["sap.fe.macros.table.ColumnOverride"],multiple:true}),je=Ri({type:"boolean"}),He=Ri({type:"string"}),ke=Ri({type:"boolean",defaultValue:true}),$e=Ri({type:"boolean",defaultValue:false}),Ge=Ri({type:"string",allowedValues:["illustratedMessage-Auto","illustratedMessage-Base","illustratedMessage-Dialog","illustratedMessage-Medium","illustratedMessage-Dot","illustratedMessage-ExtraSmall","illustratedMessage-Scene","illustratedMessage-Large","illustratedMessage-Spot","illustratedMessage-Small","text"]}),Ue=Ri({type:"boolean",defaultValue:false}),qe=Ri({type:"boolean",defaultValue:false}),Qe=Ri({type:"boolean",defaultValue:false}),Ke=Ri({type:"boolean",defaultValue:false}),We=Ri({type:"string"}),Xe=Ri({type:"string"}),Ye=Ri({type:"string"}),Je=Ri({type:"string"}),Ze=Ri({type:"sap.ui.core.TitleLevel",defaultValue:Si.Auto}),et=Ri({type:"sap.ui.core.TitleLevel"}),tt=Ri({type:"int"}),nt=Ri({type:"boolean"}),it=Ri({type:"string"}),ot=Ri({type:"string"}),rt=Ri({type:"boolean"}),at=Ri({type:"boolean",defaultValue:false}),st=Ri({type:"boolean",isBindingInfo:true}),lt=Ri({type:"string"}),ut=Ri({type:"string"}),ct=Ri({type:"boolean"}),pt=Ri({type:"boolean"}),dt=Ri({type:"boolean"}),gt=Ri({type:"boolean"}),ft=Ri({type:"int"}),ht=ji({type:"sap.fe.macros.table.TableCreationOptions",defaultClass:x}),bt=ji({type:"sap.m.IllustratedMessage",altTypes:["sap.m.Text"],forwarding:{getter:"getMDCTable",aggregation:"noData"}}),yt=ji({type:"sap.fe.macros.table.AnalyticalConfiguration"}),mt=ji({type:"sap.fe.macros.table.QuickVariantSelection"}),Ct=ji({type:"sap.fe.macros.table.MassEdit"}),Pt=Ni(),St=Ni(),wt=Ni(),vt=Ni(),Mt=Ni(),Tt=Ni(),xt=Ni(),Dt=Ni(),Et=_i(),At=_i(),It=_i(),Ot=_i(),Bt=_i(),Ft=_i(),_t=_i(),Rt=_i(),zt=_i(),Lt=_i(),Nt=_i(),Vt=_i(),jt=_i(),Ht=_i(),kt=_i(),$t=_i(),Gt=_i(),Ut=_i(),qt=_i(),Qt=_i(),Kt=_i(),Wt=_i(),Xt=_i(),Yt=_i(),Jt=_i(),Zt=_i(),en=_i(),tn=_i(),oe(nn=re(nn=ae(nn=se(nn=le(nn=ue(nn=ce(nn=pe(nn=de(nn=(on=function(n){function i(e){var t;for(var i=arguments.length,o=new Array(i>1?i-1:0),r=1;r<i;r++){o[r-1]=arguments[r]}t=n.call(this,e,...o)||this;t.propertyEditModeCache={};t.initialControlState={};Gi(t,"__implements__sap_fe_core_IRowBindingInterface",rn,t);Gi(t,"__implements__sap_fe_macros_controls_section_ISingleSectionContributor",an,t);Gi(t,"metaPath",sn,t);Gi(t,"contextPath",ln,t);Gi(t,"tableDefinition",un,t);Gi(t,"contentId",cn,t);Gi(t,"entityTypeFullyQualifiedName",pn,t);Gi(t,"enableFullScreen",dn,t);Gi(t,"enableExport",gn,t);Gi(t,"exportFileName",fn,t);Gi(t,"exportSheetName",hn,t);Gi(t,"frozenColumnCount",bn,t);Gi(t,"disableColumnFreeze",yn,t);Gi(t,"rowCountMode",mn,t);Gi(t,"rowCount",Cn,t);Gi(t,"enablePaste",Pn,t);Gi(t,"disableCopyToClipboard",Sn,t);Gi(t,"scrollThreshold",wn,t);Gi(t,"threshold",vn,t);Gi(t,"popinLayout",Mn,t);Gi(t,"isSearchable",Tn,t);Gi(t,"type",xn,t);Gi(t,"useCondensedLayout",Dn,t);Gi(t,"selectionMode",En,t);Gi(t,"condensedTableLayout",An,t);Gi(t,"actions",In,t);Gi(t,"columns",On,t);Gi(t,"readOnly",Bn,t);Gi(t,"filterBar",Fn,t);Gi(t,"enableAutoColumnWidth",_n,t);Gi(t,"widthIncludingColumnHeader",Rn,t);Gi(t,"modeForNoDataMessage",zn,t);Gi(t,"dataInitialized",Ln,t);Gi(t,"bindingSuspended",Nn,t);Gi(t,"outDatedBinding",Vn,t);Gi(t,"isAlp",jn,t);Gi(t,"variantManagement",Hn,t);Gi(t,"ignoredFields",kn,t);Gi(t,"id",$n,t);Gi(t,"fieldMode",Gn,t);Gi(t,"headerLevel",Un,t);Gi(t,"headerStyle",qn,t);Gi(t,"exportRequestSize",Qn,t);Gi(t,"initialLoad",Kn,t);Gi(t,"personalization",Wn,t);Gi(t,"header",Xn,t);Gi(t,"useBasicSearch",Yn,t);Gi(t,"emptyRowsEnabled",Jn,t);Gi(t,"headerVisible",Zn,t);Gi(t,"tabTitle",ei,t);Gi(t,"associatedSelectionVariantPath",ti,t);Gi(t,"inMultiView",ni,t);Gi(t,"displaySegmentedButton",ii,t);Gi(t,"enablePastingOfComputedProperties",oi,t);Gi(t,"enableSelectAll",ri,t);Gi(t,"selectionLimit",ai,t);Gi(t,"creationMode",si,t);Gi(t,"noData",li,t);Gi(t,"analyticalConfiguration",ui,t);Gi(t,"quickVariantSelection",ci,t);Gi(t,"massEdit",pi,t);Gi(t,"beforeRebindTable",di,t);Gi(t,"rowPress",gi,t);Gi(t,"segmentedButtonPress",fi,t);Gi(t,"variantSaved",hi,t);Gi(t,"variantSelected",bi,t);Gi(t,"listBindingChange",yi,t);Gi(t,"internalDataRequested",mi,t);t.ignoreContextChangeEvent=false;t.lock={};t.storedEvents=[];t.overrideRowPress=false;Gi(t,"selectionChange",Ci,t);t.enhancedPropertyInfos=[];t.propertyInfos=[];t.originalTableDefinition=t.tableDefinition;t.attachStateChangeHandler();t.attachManifestEvents();t.overrideRowPress=t.hasListeners("rowPress");return t}Ui(i,n);var a=i.prototype;a.getRowBinding=function e(t){const n=this.content;const i=n.getModel();return n.getRowBinding()??i?.bindList(this.getRowCollectionPath(),undefined,undefined,undefined,t)};a.attachStateChangeHandler=function e(){q.detachStateChange(this.stateChangeHandler);q.attachStateChange(this.stateChangeHandler)};a.stateChangeHandler=function e(t){const n=t.getParameter("control");if(n.isA("sap.ui.mdc.Table")){const e=n.getParent();if(e?.handleStateChange){e.handleStateChange()}}};a.attachManifestEvents=function t(){const n=(t,n)=>{if(!this.hasListeners(t)&&n!==undefined){this.attachEvent(t,i=>{h.loadModuleAndCallMethod(n.moduleName,n.methodName,i,i).catch(i=>{e.error(`Failed to call ${t} event handler ${n.moduleName} ${n.methodName}`,i)})})}};n("beforeRebindTable",Ei(this.tableDefinition?.control?.beforeRebindTable,this.tableDefinition?.control));n("rowPress",Ei(this.tableDefinition?.control?.rowPress,this.tableDefinition?.control));n("selectionChange",Ei(this.tableDefinition?.control?.selectionChange,this.tableDefinition?.control))};a.setUpNoDataInformation=function e(){const t=this.content;if(!t||t.getNoData()){return}const n=this._getOwner();let i;let o;if(n){const e=xi(n);if(e){let t;const n=this.metaPath;if(n){t=n.startsWith("/")?n.substring(1):n}o=e.getText("T_ILLUSTRATED_MESSAGE_TITLE_BEFORESEARCH");i=e.getText("T_TABLE_AND_CHART_NO_DATA_TEXT",undefined,t)}}else{const e=H.getResourceBundleFor("sap.fe.templates");o=e.getText("T_ILLUSTRATED_MESSAGE_TITLE_BEFORESEARCH");i=e.getText("T_TABLE_AND_CHART_NO_DATA_TEXT")}if(this.getNoDataMessageMode()==="text"){this.setAggregation("noData",new L({text:i}))}else{const e=new F({title:o,description:i,illustrationType:_.BeforeSearch,illustrationSize:this.getNoDataMessageMode(),enableDefaultTitleAndDescription:false});this.setAggregation("noData",e)}};a.getSectionContentRole=function e(){return"consumer"};a.sendDataToConsumer=function e(t){if(this.content?.isA("sap.ui.mdc.Table")){this.content?.setHeader(t.title);this.content?.setHeaderStyle(t.headerStyle);this.content?.setHeaderLevel(t.titleLevel)}};a.getIgnoreContextChangeEvent=function e(){return this.ignoreContextChangeEvent};a.setIgnoreContextChangeEvent=function e(t){this.ignoreContextChangeEvent=t};a.setBusy=function e(t){n.prototype.setBusy.call(this,t);this.content?.setBusy(t);return this};a.setAttachEvents=function e(t){this.storedEvents=t};i._getAPIExtension=function e(t){let n;if(t.isA("sap.ui.model.odata.v4.ODataListBinding")){n=this.instanceMap?.get(this)?.find(e=>e.content?.getRowBinding?.()===t||e.content?.getBinding("items")===t)}return n};a.getSelectedContexts=function e(){return this.isContextMenuActive()?this.getBindingContext("internal")?.getProperty("contextmenu/selectedContexts")??[]:this.content.getSelectedContexts()};a.addMessage=async function e(t){const n=this.getContent();if(!n.getBindingContext()&&!n.getRowBinding()){await new Promise(e=>{const t=function(){if(n.getBindingContext()){n.detachEvent("modelContextChange",t);e()}};n.attachEvent("modelContextChange",t)})}const i=n.getRowBinding();const o=i.getResolvedPath();return this.createMessage(n,o,t)};a.createMessage=function e(t,n,i){const o=new G({target:n,type:i.type,message:i.message,processor:t.getModel(),description:i.description,persistent:i.persistent});this._getMessageManager().addMessages(o);return o.getId()};a.checkIfRecommendationRelevant=function e(t){const n=this.getProperty("readOnly");const i=r.getIsEditable(this);const o=r.getTargetView(this);const a=o.getViewData();if(!n&&i&&a.converterType!=="ListReport"){return true}return false};a.removeMessage=function e(t){const n=this._getMessageManager();const i=n.getMessageModel().getData();const o=i.find(e=>e.getId()===t);if(o){n.removeMessages(o)}};a.refresh=function e(){const t=this.content.getRowBinding();if(t&&(t.isRelative()||this.getTableDefinition().control.type==="TreeTable")){const e=r.getAppComponent(this.content);const n=t.getHeaderContext();if(n){e.getSideEffectsService().requestSideEffects([{$NavigationPropertyPath:""}],n,t.getGroupId())}}else{t?.refresh()}};a.getQuickFilter=function e(){return this.content?.getQuickFilter()};a.getPresentationVariant=async function t(){try{const e=this.content;const t=await q.retrieveExternalState(e);const n=t.sorters?.map(e=>({Property:e.name.replace("Property::",""),Descending:e.descending??false}));const i=t.groupLevels?.map(e=>e.name.replace("Property::",""));const o={Content:t.items?.map(e=>({Value:e.name})),Type:"LineItem"};const r={};let a=false;for(const e in t.aggregations){const n=e.replace("Property::","");r[n]=t.aggregations[e];a=true}const s=e.getPayload()?.initialExpansionLevel;const l=new B;l.setTableVisualization(o);const u={GroupBy:i||[],SortOrder:n||[]};if(a){u.Aggregations=r}if(s){u.initialExpansionLevel=s}l.setProperties(u);return l}catch(t){const n=this.getId();const i=t instanceof Error?t.message:String(t);e.error(`Table Building Block (${n}) - get presentation variant failed : ${i}`);throw Error(t)}};a.setPresentationVariant=async function t(n){try{const e=this.content;const t=await this.getPresentationVariant();const i=this.getEnhancedFetchedPropertyInfos();const o=i.map(e=>e.key);const r=wi(n,t,o);const a=n.getProperties();if(a?.initialExpansionLevel!==undefined){const t=e.getPayload();t.initialExpansionLevel=a.initialExpansionLevel}await q.applyExternalState(e,r)}catch(t){const n=this.getId();const i=t instanceof Error?t.message:String(t);e.error(`Table Building Block (${n}) - set presentation variant failed : ${i}`);throw Error(i)}};a.getCurrentVariantKey=function e(){return this.content.getVariant()?.getCurrentVariantKey()};a.setCurrentVariantKey=function e(t){const n=this.content.getVariant();n.setCurrentVariantKey(t)};a._getMessageManager=function e(){return k};a._getRowBinding=function e(){const t=this.getContent();return t.getRowBinding()};a.getCounts=async function e(){const t=this.getContent();return A.getListBindingForCount(t,t.getBindingContext(),{batchGroupId:!this.getProperty("bindingSuspended")?t.data("batchGroupId"):"$auto",additionalFilters:A.getHiddenFilters(t)}).then(e=>A.getCountFormatted(e)).catch(()=>"0")};a.onListBindingChange=function e(t){this.fireEvent("listBindingChange",t.getParameters());this.setFastCreationRowEnablement();this.getQuickFilter()?.refreshSelectedCount();E.setContextsAsync(this.content)};a.onFieldLiveChange=function e(t){this._onFieldLiveChange(t)};a.onQuickFilterSelectionChange=function e(){const t=this.content;const n=t.getFilter();const i=n&&V.getElementById(n);if(!i?.getSuspendSelection?.()){t.rebind()}r.getTargetView(this)?.getController()?.getExtensionAPI().updateAppState()};a.onTableNavigate=function e(t,n,i){if(this.isTableRowNavigationPossible(n)){if(this.fullScreenDialog){this.fullScreenDialog.close()}const e=Object.assign({},i,{reason:l.RowPress});t._routing.navigateForwardToContext(n,e)}else{return false}};a.onTableRowPress=async function e(t){const n=this.tableDefinition?.annotation.row?.navigationInfo;if(this.overrideRowPress===true){this.fireEvent("rowPress",t.getParameters())}else if(n!==undefined){const e=this.getPageController();const i=t.getParameter("bindingContext");if(n.type==="Outbound"){return this.avoidParallelCalls(async()=>e._intentBasedNavigation.onChevronPressNavigateOutBound(e,n.navigationTarget,i,""),"onChevronPressNavigateOutBound")}else{const t=n.checkEditable?!i.getProperty("IsActiveEntity"):undefined;const o={callExtension:true,targetPath:n.targetPath,editable:t,recreateContext:n.recreateContext};return this.onTableNavigate(e,i,o)}}};a.onSegmentedButtonPressed=function e(t){this.fireEvent("segmentedButtonPress",t.getParameters())};a.onVariantSelected=function e(t){const n={...t.getParameters(),originalSource:t.getSource()};this.fireEvent("variantSelected",n)};a.onVariantSaved=function e(t){this.fireEvent("variantSaved",t.getParameters())};a.onRowPressed=function e(t){this.fireEvent("rowPress",t.getParameters())};a.isTableRowNavigationPossible=function e(t){const n=t.isInactive()==true&&t.isTransient()===true;const i=this.getTableDefinition().enableAnalytics===true&&t.isA("sap.ui.model.odata.v4.Context")&&typeof t.getProperty("@$ui5.node.isExpanded")==="boolean";return!(n||i)};a.onShareToCollaborationManagerPress=function e(t,n,i,o){return this._onShareToCollaborationManagerPress(n,i,o)};a.onOpenInNewTabPress=async function e(t,n,i,o,r,a){if(o.length<=a){const e=new y;if(o.length<i.length){const t=o.length===1?"T_TABLE_NAVIGATION_NOT_ALL_ITEMS_NAVIGABLE_SINGULAR":"T_TABLE_NAVIGATION_NOT_ALL_ITEMS_NAVIGABLE_PLURAL";R.confirm(this.getTranslatedText(t,[i.length,o.length,a]),{onClose:t=>{if(t==="CANCEL"){e.resolve(false)}e.resolve(true)}})}else{e.resolve(true)}const t=await e.promise;if(t){o.forEach(async e=>{if(this.isTableRowNavigationPossible(e)){r.editable=!e.getProperty("IsActiveEntity");await n._routing.navigateForwardToContext(e,r)}else{return false}})}}else{R.warning(H.getResourceBundleFor("sap.fe.macros").getText("T_TABLE_NAVIGATION_TOO_MANY_ITEMS_SELECTED",[a]))}};a.onInternalPatchCompleted=function e(t){const n=this.getBindingContext("internal");const i=this.getSelectedContexts();f.updateDeleteInfoForSelectedContexts(n,i);if(t.getParameter("error")){this.getPageController().messageHandler.showMessageDialog({control:this})}else{this.getPageController().messageHandler.releaseHoldByControl(this)}};a.onInternalPatchSent=function e(t){const n=this.getPageController();const i=n.editFlow;n.messageHandler.holdMessagesForControl(this);if(this.tableDefinition.handlePatchSent){i.handlePatchSent.call(this,t)}else if(n.inlineEditFlow.isInlineEditPossible()){n.inlineEditFlow.handleInlineEditPatchSent.call(this,t)}};a.onInternalDataReceived=function e(t){const n=this.checkIfRecommendationRelevant(t);if(n){const e=this.getIdentifierColumn(n);const i=t.getSource().getAllCurrentContexts();const o=[];i.forEach(t=>{o.push({context:t,contextIdentifier:e})});this.getPageController().recommendations.fetchAndApplyRecommendations(o,true)}this.getPageController().messageHandler.holdMessagesForControl(this);if(t.getParameter("error")){this.getPageController().messageHandler.showMessageDialog({control:this})}else{this.getPageController().messageHandler.releaseHoldByControl(this);this.setDownloadUrl()}};a.onInternalDataRequested=function e(t){this.setProperty("dataInitialized",true);this.fireEvent("internalDataRequested",t.getParameters());if(this.getQuickFilter()!==undefined&&this.getTableDefinition().control.filters?.quickFilters?.showCounts===true){this.getQuickFilter()?.setCountsAsLoading();this.getQuickFilter()?.refreshUnSelectedCounts()}this.getPageController().messageHandler.holdMessagesForControl(this)};a.onPaste=async function t(n,i){let o=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;if(o){this.setContextMenuActive(true)}const a=n.getParameter("data"),s=n.getSource();let l;if(!o){l=s.isA("sap.ui.mdc.Table")?s:s.getParent()}else{const e=s.isA("sap.m.Menu")?s:s.getParent();l=e.getParent()?.getParent()}const u=l.getBindingContext("internal");if(!this.tableDefinition.control.enablePaste||l.getRowBinding().isRelative()&&!r.getIsEditable(this)){return}const c=u.getProperty("nodeUpdatesInfo/lastAction");const p=u.getProperty("nodeUpdatesInfo/pastableContexts");if(this.tableDefinition.control.type==="TreeTable"){let t=p[0];const n=!o?l.getSelectedContexts()[0]:u?.getProperty("contextmenu/selectedContexts")[0];t=l.getRowBinding().getAllCurrentContexts().find(e=>e.getPath()===t?.getPath());if(!t){e.error(`The ${c} operation is unsuccessful because the relevant context is no longer available`);return}try{l.setBusy(true);await Promise.all([t.move({parent:n??null,copy:c==="Copy"}),c==="Copy"?this.requestSideEffectsForCopyAction(t):this.requestSideEffectsForChangeNextSiblingAction(t)])}catch(t){z.show(this.getTranslatedText("M_TABLEDROP_FAILED",[""]));e.error(`The ${c} operation is unsuccessful. `+t.message??"")}l.setBusy(false);u.setProperty(`nodeUpdatesInfo/pastableContexts`,[]);u.setProperty(`nodeUpdatesInfo/pasteEnablement`,false);u.setProperty(`contextmenu/nodeUpdatesInfo/pasteEnablement`,false);u.setProperty(`nodeUpdatesInfo/lastAction`,undefined);return}if(l.getEnablePaste()===true&&!o){const e=l.getCellSelector()?.getSelection();if(e?.columns.length>0){b.pasteRangeData(a??[],e,l)}else{b.pasteData(a??[],l,i)}}else{const e=H.getResourceBundleFor("sap.fe.core");R.error(e.getText("T_OP_CONTROLLER_SAPFE_PASTE_DISABLED_MESSAGE"),{title:e.getText("C_COMMON_SAPFE_ERROR")})}};a.onCut=function e(t){let n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;if(n){this.setContextMenuActive(true)}this._onCopyCut(t,n,"Cut")};a.onCopy=function e(t){let n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;if(n){this.setContextMenuActive(true)}this._onCopyCut(t,n,"Copy")};a.onBeforeExport=function e(t){this._onBeforeExport(t)};a.dataStateIndicatorFilter=function e(t,n){const i=n;const o=i.getBindingContext()?.getPath();const r=(o?`${o}/`:"")+i.getRowBinding().getPath();return r===t.getTargets()[0]?true:false};a.onDataStateChange=function e(t){const n=t.getSource();const i=t.getParameter("filteredMessages");if(i){const e=i.map(e=>{const t=e.getTechnicalDetails()||{};return t.emptyRowMessage===true&&t.missingColumn}).filter(e=>!!e);if(e.length){const t=H.getResourceBundleFor("sap.fe.macros").getText(e.length===1?"M_MESSAGESTRIP_EMPTYROW_MANDATORY_HIDDEN":"M_MESSAGESTRIP_EMPTYROW_MANDATORY_HIDDEN_PLURAL",[e.join(", ")]);n.showMessage(t,"Error")}const t=n.getModel("internal");t.setProperty("filteredMessages",i,n.getBindingContext("internal"))}};a.resumeBinding=function e(t){this.setProperty("bindingSuspended",false);if(t&&!this.getDataInitialized()||this.getProperty("outDatedBinding")){this.setProperty("outDatedBinding",false);this.getContent()?.rebind()}};a.refreshNotApplicableFields=function e(t){const n=this.getContent();return M.getNotApplicableFilters(t,n)};a.suspendBinding=function e(){this.setProperty("bindingSuspended",true)};a.invalidateContent=function e(){this.setProperty("dataInitialized",false);this.setProperty("outDatedBinding",false)};a.setFastCreationRowEnablement=function e(){const t=this.content;const n=t.getCreationRow();if(n&&!n.getBindingContext()){const e=t.getRowBinding();const i=e.getContext();if(i){D.enableFastCreationRow(n,e.getPath(),i,i.getModel(),Promise.resolve())}}};a.onAddCardToInsightsPressed=async function e(){return this._onAddCardToInsightsPressed()};a.onMassEditButtonPressed=function e(t,n){if(n){this.setContextMenuActive(true)}const i=new O({table:this.content,onContextMenu:n,onClose:()=>{this.setMassEditDialogHelper()}});this.setMassEditDialogHelper(i);i.open()};a.onSelectionChanged=async function e(t){await E.setContexts(t);this.fireEvent("selectionChange",{...t.getParameters(),selectedContext:this.getSelectedContexts()})};a.onActionPress=async function t(n,i,o,r){r.model=n.getSource().getModel();const a=Hi(r.label,"string");if(ki(a)&&(a.modelName==="i18n"||a.modelName==="@i18n")){r.label=n.getSource().getModel(a.modelName).getProperty(a.path)??r.label}let l=true;if(r.notApplicableContexts&&r.notApplicableContexts.length>0){const e=Ii(r.model.getMetaModel());const t=e.resolvePath(this.entityTypeFullyQualifiedName).target;const n=new s({entityType:t,notApplicableContexts:r.notApplicableContexts,title:r.label,resourceModel:xi(this),entitySet:r.entitySetName,actionName:o,applicableContexts:r.applicableContexts});r.contexts=r.applicableContexts;l=await n.open(this)}if(l){try{return await i.editFlow.invokeAction(o,r)}catch(t){e.info(t)}}};a.onContextMenuPress=function e(t){this._onContextMenuPress(t)};a.getTableDefinition=function e(){return this.tableDefinition};a.setMassEditDialogHelper=function e(t){this.massEditDialogHelper=t};a.getMassEditDialogHelper=function e(){return this.massEditDialogHelper};a.updateFilterBar=function e(){const t=this.getContent();const n=this.getFilterBar();if(t&&n&&t.getFilter?.()!==n){this._setFilterBar(n)}};a.detachFilterBar=function e(){const t=this.content;t?.setFilter("")};a.getFilterBarControl=function e(t){const n=this?.getId();const i=this.data("tableAPILocalId");const o=i&&t&&n&&n.replace(new RegExp(i+"$"),t);return this.getPageController()?.byId(t)||V.getElementById(t)||V.getElementById(o)};a._setFilterBar=function e(t){const n=this.getContent();const i=this.getFilterBarControl(t);if(i){if(i.isA("sap.fe.macros.filterBar.FilterBarAPI")){n.setFilter(`${i.getId()}-content`)}else if(i.isA("sap.fe.macros.filterBar.FilterBar")&&i?.content?.isA("sap.fe.macros.filterBar.FilterBarAPI")){n.setFilter(`${i.content.getId()}-content`)}else if(i.isA("sap.ui.mdc.FilterBar")||i.isA("sap.fe.macros.table.BasicSearch")){n.setFilter(i.getId())}}};a.handleCreateActivate=async function e(t){await this._handleCreateActivate(t)};a.onDragEnterDocument=function e(t){this._onDragEnterDocument(t)};a.onDragStartDocument=function e(t){this._onDragStartDocument(t)};a.onDropDocument=async function e(t){await this._onDropDocument(t)};a.onCollapseExpandNode=async function e(t,n){if(t.getSource().getMetadata().isA("sap.m.MenuItem")){this.setContextMenuActive(true)}await this._onCollapseExpandNode(t,n)};a.onMoveUpDown=async function e(t,n){let i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;if(i){this.setContextMenuActive(true)}await this._onMoveUpDown(t,n,i)};a.getSelectionVariant=async function e(){return Q.getSelectionVariant(this.getContent())};a.setSelectionVariant=async function e(t){let n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;return Q.setSelectionVariantToMdcControl(this.getContent(),t,n)};a._createContentV2Mode=async function e(){const n=this._getOwner();const i=n?.preprocessorContext;if(n&&i){const e=n.getAppComponent().getMetaModel();const r=e.createBindingContext(this.metaPath);const a=e.createBindingContext(this.contextPath);this.tableDefinition=t(this.originalTableDefinition);this.updateColumnsVisibility(this.ignoredFields,this.tableDefinition);this.propertyInfos=[];const s=Ii(e);const l=s.resolvePath(this.tableDefinition.annotation.collection).target;this.contextObjectPath=Ai(r,a);const u=new W(this,{collectionEntity:l,metaModel:e});const c=await U.process(Fi(Bi`<root
			xmlns="sap.m"
			xmlns:mdc="sap.ui.mdc"
			xmlns:plugins="sap.m.plugins"
			xmlns:mdcTable="sap.ui.mdc.table"
			xmlns:macroTable="sap.fe.macros.table"
			xmlns:mdcat="sap.ui.mdc.actiontoolbar"
			xmlns:core="sap.ui.core"
			xmlns:control="sap.fe.core.controls"
			xmlns:dt="sap.ui.dt"
			xmlns:fl="sap.ui.fl"
			xmlns:variant="sap.ui.fl.variants"
			xmlns:p13n="sap.ui.mdc.p13n"
			xmlns:internalMacro="sap.fe.macros.internal">${o.renderAsXML(()=>T.getMDCTableTemplate(this,{convertedMetadata:i.getConvertedMetadata(),metaModel:e,handlerProvider:u,appComponent:n.getAppComponent(),metaPath:r}))}</root>`,true)[0],{models:{}},i);if(c.firstElementChild){this.detachFilterBar();this.content?.destroy();const e=await j.load({definition:c.firstElementChild,controller:n.getRootController(),containingView:n.getRootControl()});this.content=e;this.updateFilterBar()}}};a.setProperty=function e(t,i,o){if(!this._applyingSettings&&i!==undefined&&["ignoredFields","metaPath"].includes(t)){n.prototype.setProperty.call(this,t,i,true);this._createContentV2Mode()}else{n.prototype.setProperty.call(this,t,i,o)}return this};a.getDataModelAndConvertedTargetObject=function e(t){const n=this.getContent();const i=n.getModel()?.getMetaModel();if(!i){return}const o=n.data("metaPath");const r=this.getEnhancedFetchedPropertyInfos().find(e=>e.name===t)?.annotationPath;const a=i.getContext(r);const s=i.getContext(o);const l=p.convertMetaModelContext(a);let u=p.getInvolvedDataModelObjects(a,s);u=v.getDataModelObjectPathForValue(u)||u;return{dataModelPath:u,convertedtargetObject:l}};a.createAnyControl=function e(t,n){const i=this.getContent();const o=new u({any:t});o.setModel(n?.getModel());o.setModel(i.getModel("ui"),"ui");return o};a.getPropertyEditMode=function e(t,n){let i;if(!this.propertyEditModeCache[t]){const e=this.getDataModelAndConvertedTargetObject(t)?.dataModelPath;const o=this.getDataModelAndConvertedTargetObject(t)?.convertedtargetObject;if(e&&o){const r=e?.targetObject?.Value?(e?.targetObject).Value:e?.targetObject;const a=$i(S.getEditMode(r,e,false,true,o));i=this.createAnyControl(a,n);this.propertyEditModeCache[t]=i;i.setBindingContext(null);this.addDependent(i)}}else{i=this.propertyEditModeCache[t]}i?.setBindingContext(n);const o=i?.getAny();i?.setBindingContext(null);return o};a.showColumns=async function e(t){for(const e of t){this.modifyDynamicVisibilityForColumn(e,true)}return this._createContentV2Mode()};a.hideColumns=async function e(t){for(const e of t){this.modifyDynamicVisibilityForColumn(e,false)}return this._createContentV2Mode()};a.setIgnoredFields=function e(t){return this.setProperty("ignoredFields",t)};a.getIgnoredFields=function e(){return this.getProperty("ignoredFields")??this.tableDefinition.control.ignoredFields};a.getControlState=function e(t){const n=this.initialControlState;if(t){return{fullState:t,initialState:n}}return t};a.getStateKey=function e(t){return r.getTargetView(this.content)?.getLocalId(t.getId())||t.getId()};i.updateColumnsVisibility=function e(t,n,i){X.updateColumnsVisibilityStatic(t,n,i)};a.getMDCTable=function e(){return this.content};a.handleStateChange=function e(){this.getPageController()?.getExtensionAPI().updateAppState()};a.avoidParallelCalls=async function e(t,n){if(this.lock[n]){return}this.lock[n]=true;try{await t()}catch{this.lock[n]=false}this.lock[n]=false};a.destroy=function e(t){this.getPageController(false)?.messageHandler?.releaseHoldByControl(this);n.prototype.destroy.call(this,t)};a.setFullScreenDialog=function e(t){this.fullScreenDialog=t};a.setEnhancedFetchedPropertyInfos=function e(t){this.enhancedPropertyInfos=t};a.getEnhancedFetchedPropertyInfos=function e(){return this.enhancedPropertyInfos};a.getPropertyInfos=function e(){const t=[];for(const e of this.enhancedPropertyInfos){let n={key:e.key,label:e.label,visible:e.visible,exportSettings:e.exportSettings,clipboardSettings:e.clipboardSettings,visualSettings:e.visualSettings,tooltip:e.tooltip,isKey:e.isKey};if(e.propertyInfos){n={...n,propertyInfos:e.propertyInfos}}else{let t;if(e.extension){t={technicallyGroupable:e.extension.technicallyGroupable,technicallyAggregatable:e.extension.technicallyAggregatable,customAggregate:e.extension.customAggregate,additionalProperties:e.extension.additionalProperties};t=Object.fromEntries(Object.entries(t).filter(e=>{let[t,n]=e;return n!==undefined}))}n={...n,path:e.path,maxConditions:e.maxConditions,formatOptions:e.formatOptions,constraints:e.constraints,group:e.group,groupLabel:e.groupLabel,caseSensitive:e.caseSensitive,filterable:e.filterable,sortable:e.sortable,groupable:e.groupable,dataType:e.dataType,aggregatable:e.aggregatable,unit:e.unit,text:e.text,extension:t}}t.push(Object.fromEntries(Object.entries(n).filter(e=>{let[t,n]=e;return n!==undefined})))}return t};a.setCachedPropertyInfos=function e(t){this.propertyInfos=t};a.getCachedPropertyInfos=function e(){return this.propertyInfos};a.getRowCollectionPath=function e(){const t=this.getPageController();const n=t.getModel().getMetaModel();const i=n.createBindingContext(this.tableDefinition.annotation.collection);const o=n.createBindingContext(this.contextPath);const r=Ai(i,o);return Mi(r)||vi(r)};a.getTableTemplateBindingInfo=function e(){const t=this.getPageController();const n=this.getRowCollectionPath();const i={suspended:false,path:n,parameters:{$count:true}};if(this.tableDefinition.enable$select){const e=Object.keys(this.tableDefinition.requestAtLeast).join(",");if(e){i.parameters.$select=e}}if(this.tableDefinition.enable$$getKeepAliveContext){i.parameters.$$getKeepAliveContext=true}i.parameters.$$clearSelectionOnFilter=true;i.parameters.$$groupId="$auto.Workers";i.parameters.$$updateGroupId="$auto";i.parameters.$$ownRequest=true;i.parameters.$$patchWithoutSideEffects=true;const o=t.editFlow;const r={};r.patchCompleted=this.onInternalPatchCompleted.bind(this);r.dataReceived=this.onInternalDataReceived.bind(this);r.dataRequested=this.onInternalDataRequested.bind(this);r.change=this.onListBindingChange.bind(this);r.createActivate=this.handleCreateActivate.bind(this);r.createSent=o.handleCreateSent.bind(o);r.patchSent=this.onInternalPatchSent.bind(this);i.events=r;return i};i.addSetting=function e(t,n,i){if(i!==undefined){t[n]=i}};a.getSettingsForManifest=function e(){const t={};i.addSetting(t,"enableExport",this.enableExport);i.addSetting(t,"exportRequestSize",this.exportRequestSize);i.addSetting(t,"exportFileName",this.exportFileName);i.addSetting(t,"exportSheetName",this.exportSheetName);i.addSetting(t,"frozenColumnCount",this.frozenColumnCount);i.addSetting(t,"disableColumnFreeze",this.disableColumnFreeze);i.addSetting(t,"widthIncludingColumnHeader",this.widthIncludingColumnHeader);i.addSetting(t,"rowCountMode",this.rowCountMode);i.addSetting(t,"rowCount",this.rowCount);i.addSetting(t,"enableFullScreen",this.enableFullScreen);i.addSetting(t,"enablePaste",this.enablePaste);i.addSetting(t,"disableCopyToClipboard",this.disableCopyToClipboard);i.addSetting(t,"scrollThreshold",this.scrollThreshold);i.addSetting(t,"threshold",this.threshold);i.addSetting(t,"popinLayout",this.popinLayout);i.addSetting(t,"selectionMode",this.selectionMode);i.addSetting(t,"type",this.type);i.addSetting(t,"enablePastingOfComputedProperties",this.enablePastingOfComputedProperties);i.addSetting(t,"selectAll",this.enableSelectAll);i.addSetting(t,"ignoredFields",this.ignoredFields);i.addSetting(t,"selectionLimit",this.selectionLimit);i.addSetting(t,"condensedTableLayout",this.condensedTableLayout);if(this.creationMode){const e={};i.addSetting(e,"name",this.creationMode.name);i.addSetting(e,"creationFields",this.creationMode.creationFields);i.addSetting(e,"createAtEnd",this.creationMode.createAtEnd);i.addSetting(e,"inlineCreationRowsHiddenInEditMode",this.creationMode.inlineCreationRowsHiddenInEditMode);i.addSetting(e,"outbound",this.creationMode.outbound);if(Object.entries(e).length>0){t["creationMode"]=e}}if(this.massEdit){const e={};i.addSetting(e,"customFragment",this.massEdit.customContent);i.addSetting(e,"fromInline",true);i.addSetting(e,"visibleFields",this.massEdit.visibleFields?.join(","));i.addSetting(e,"ignoredFields",this.massEdit.ignoredFields?.join(","));i.addSetting(e,"operationGroupingMode",this.massEdit.operationGroupingMode);t["enableMassEdit"]=e}if(this.analyticalConfiguration?.aggregationOnLeafLevel===true){const e={};i.addSetting(e,"aggregationOnLeafLevel",this.analyticalConfiguration.aggregationOnLeafLevel);if(Object.entries(e).length>0){t["analyticalConfiguration"]=e}}if(this.quickVariantSelection?.paths?.length){i.addSetting(t,"quickVariantSelection",{paths:this.quickVariantSelection.paths.map(e=>({annotationPath:e})),showCounts:this.quickVariantSelection.showCounts})}return t};a.findSlotActionFromKey=function e(t){let n;for(const e of this.actions??[]){if(e.isA("sap.fe.macros.table.ActionGroup")||e.isA("sap.fe.macros.table.ActionGroupOverride")){n??=e.actions.find(e=>e.isA("sap.fe.macros.table.Action")&&e.key===t)}else if(e.isA("sap.fe.macros.table.Action")&&e.key===t){n=e;break}}return n};a.onMetadataAvailable=function e(){this.createContent()};a.getFullMetaPath=function e(){if(this.metaPath.startsWith("/")){return this.metaPath}else if(this.contextPath.endsWith("/")){return`${this.contextPath}${this.metaPath}`}else{return`${this.contextPath}/${this.metaPath}`}};a.createContent=function e(){let t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;const n=this._getOwner();if(!n){return}this.contextPath??=this.getOwnerContextPath();const i=this.getFullMetaPath();if(!this.content||t){this.detachFilterBar();this.content?.destroy();const e=n.getAppComponent().getMetaModel();const t=e.createBindingContext(i);this.tableDefinition=Pi(this);this.updatePropertiesFromTableDefinition();this.updateColumnsVisibility(this.tableDefinition.control.ignoredFields,this.tableDefinition);const o=this.contextObjectPath.convertedTypes.resolvePath(this.tableDefinition.annotation.collection).target;const r=o?.entityType??o?.targetType;this.entityTypeFullyQualifiedName=r?.fullyQualifiedName;const a=new W(this,{metaModel:e,collectionEntity:o},this);this.content=this.createMDCTable({appComponent:n.getAppComponent(),metaPath:t,convertedMetadata:p.convertTypes(e),handlerProvider:a,metaModel:e})}this.updateFilterBar();this.setupOptimisticBatch();this.setUpNoDataInformation();this.getQuickFilter()?.setMetaPath(i)};a.createMDCTable=function e(t){return T.getMDCTableTemplate(this,t)};a.updatePropertiesFromTableDefinition=function e(){if(N.isGeneratedId(this.getId())){this.contentId??=this.tableDefinition.annotation.id}else{this.contentId??=`${this.getId()}-content`}if(this.useBasicSearch===undefined){if(!this.filterBar){this.filterBar=Ti([this.contentId,"StandardAction","BasicSearch"]);this.useBasicSearch=true}else{this.useBasicSearch=false}}if(this.readOnly===undefined&&(this.tableDefinition.annotation.displayMode===true||this.tableDefinition.control.readOnly===true)){this.readOnly=true}if(this.emptyRowsEnabled===undefined){const e=this.creationMode?.name===Oi.InlineCreationRows?this.tableDefinition.actions.find(e=>e.key===Di.Create)?.enabled:undefined;if(e!==undefined&&e!=="false"){this.setProperty("emptyRowsEnabled",e)}}};a.getNoDataMessageMode=function e(){const t=this.modeForNoDataMessage??this.tableDefinition.control.modeForNoDataMessage??"illustratedMessage-Auto";return t==="text"?"text":t.split("-")[1]};a.getCount=function e(){return this.getRowBinding()?.getCount()};return i}(w),rn=Qi(on.prototype,"__implements__sap_fe_core_IRowBindingInterface",[ge],{configurable:true,enumerable:true,writable:true,initializer:function(){return true}}),an=Qi(on.prototype,"__implements__sap_fe_macros_controls_section_ISingleSectionContributor",[fe],{configurable:true,enumerable:true,writable:true,initializer:function(){return true}}),sn=Qi(on.prototype,"metaPath",[he],{configurable:true,enumerable:true,writable:true,initializer:null}),ln=Qi(on.prototype,"contextPath",[be],{configurable:true,enumerable:true,writable:true,initializer:null}),un=Qi(on.prototype,"tableDefinition",[ye],{configurable:true,enumerable:true,writable:true,initializer:null}),cn=Qi(on.prototype,"contentId",[me],{configurable:true,enumerable:true,writable:true,initializer:null}),pn=Qi(on.prototype,"entityTypeFullyQualifiedName",[Ce],{configurable:true,enumerable:true,writable:true,initializer:null}),dn=Qi(on.prototype,"enableFullScreen",[Pe],{configurable:true,enumerable:true,writable:true,initializer:null}),gn=Qi(on.prototype,"enableExport",[Se],{configurable:true,enumerable:true,writable:true,initializer:null}),fn=Qi(on.prototype,"exportFileName",[we],{configurable:true,enumerable:true,writable:true,initializer:null}),hn=Qi(on.prototype,"exportSheetName",[ve],{configurable:true,enumerable:true,writable:true,initializer:null}),bn=Qi(on.prototype,"frozenColumnCount",[Me],{configurable:true,enumerable:true,writable:true,initializer:null}),yn=Qi(on.prototype,"disableColumnFreeze",[Te],{configurable:true,enumerable:true,writable:true,initializer:null}),mn=Qi(on.prototype,"rowCountMode",[xe],{configurable:true,enumerable:true,writable:true,initializer:null}),Cn=Qi(on.prototype,"rowCount",[De],{configurable:true,enumerable:true,writable:true,initializer:null}),Pn=Qi(on.prototype,"enablePaste",[Ee],{configurable:true,enumerable:true,writable:true,initializer:null}),Sn=Qi(on.prototype,"disableCopyToClipboard",[Ae],{configurable:true,enumerable:true,writable:true,initializer:null}),wn=Qi(on.prototype,"scrollThreshold",[Ie],{configurable:true,enumerable:true,writable:true,initializer:null}),vn=Qi(on.prototype,"threshold",[Oe],{configurable:true,enumerable:true,writable:true,initializer:null}),Mn=Qi(on.prototype,"popinLayout",[Be],{configurable:true,enumerable:true,writable:true,initializer:null}),Tn=Qi(on.prototype,"isSearchable",[Fe],{configurable:true,enumerable:true,writable:true,initializer:null}),xn=Qi(on.prototype,"type",[_e],{configurable:true,enumerable:true,writable:true,initializer:null}),Dn=Qi(on.prototype,"useCondensedLayout",[Re],{configurable:true,enumerable:true,writable:true,initializer:null}),En=Qi(on.prototype,"selectionMode",[ze],{configurable:true,enumerable:true,writable:true,initializer:null}),An=Qi(on.prototype,"condensedTableLayout",[Le],{configurable:true,enumerable:true,writable:true,initializer:null}),In=Qi(on.prototype,"actions",[Ne],{configurable:true,enumerable:true,writable:true,initializer:null}),On=Qi(on.prototype,"columns",[Ve],{configurable:true,enumerable:true,writable:true,initializer:null}),Bn=Qi(on.prototype,"readOnly",[je],{configurable:true,enumerable:true,writable:true,initializer:null}),Fn=Qi(on.prototype,"filterBar",[He],{configurable:true,enumerable:true,writable:true,initializer:null}),_n=Qi(on.prototype,"enableAutoColumnWidth",[ke],{configurable:true,enumerable:true,writable:true,initializer:null}),Rn=Qi(on.prototype,"widthIncludingColumnHeader",[$e],{configurable:true,enumerable:true,writable:true,initializer:null}),zn=Qi(on.prototype,"modeForNoDataMessage",[Ge],{configurable:true,enumerable:true,writable:true,initializer:null}),Ln=Qi(on.prototype,"dataInitialized",[Ue],{configurable:true,enumerable:true,writable:true,initializer:null}),Nn=Qi(on.prototype,"bindingSuspended",[qe],{configurable:true,enumerable:true,writable:true,initializer:null}),Vn=Qi(on.prototype,"outDatedBinding",[Qe],{configurable:true,enumerable:true,writable:true,initializer:null}),jn=Qi(on.prototype,"isAlp",[Ke],{configurable:true,enumerable:true,writable:true,initializer:null}),Hn=Qi(on.prototype,"variantManagement",[We],{configurable:true,enumerable:true,writable:true,initializer:null}),kn=Qi(on.prototype,"ignoredFields",[Xe],{configurable:true,enumerable:true,writable:true,initializer:null}),$n=Qi(on.prototype,"id",[Ye],{configurable:true,enumerable:true,writable:true,initializer:null}),Gn=Qi(on.prototype,"fieldMode",[Je],{configurable:true,enumerable:true,writable:true,initializer:null}),Un=Qi(on.prototype,"headerLevel",[Ze],{configurable:true,enumerable:true,writable:true,initializer:null}),qn=Qi(on.prototype,"headerStyle",[et],{configurable:true,enumerable:true,writable:true,initializer:null}),Qn=Qi(on.prototype,"exportRequestSize",[tt],{configurable:true,enumerable:true,writable:true,initializer:null}),Kn=Qi(on.prototype,"initialLoad",[nt],{configurable:true,enumerable:true,writable:true,initializer:null}),Wn=Qi(on.prototype,"personalization",[it],{configurable:true,enumerable:true,writable:true,initializer:null}),Xn=Qi(on.prototype,"header",[ot],{configurable:true,enumerable:true,writable:true,initializer:null}),Yn=Qi(on.prototype,"useBasicSearch",[rt],{configurable:true,enumerable:true,writable:true,initializer:null}),Jn=Qi(on.prototype,"emptyRowsEnabled",[at],{configurable:true,enumerable:true,writable:true,initializer:null}),Zn=Qi(on.prototype,"headerVisible",[st],{configurable:true,enumerable:true,writable:true,initializer:null}),ei=Qi(on.prototype,"tabTitle",[lt],{configurable:true,enumerable:true,writable:true,initializer:null}),ti=Qi(on.prototype,"associatedSelectionVariantPath",[ut],{configurable:true,enumerable:true,writable:true,initializer:null}),ni=Qi(on.prototype,"inMultiView",[ct],{configurable:true,enumerable:true,writable:true,initializer:null}),ii=Qi(on.prototype,"displaySegmentedButton",[pt],{configurable:true,enumerable:true,writable:true,initializer:null}),oi=Qi(on.prototype,"enablePastingOfComputedProperties",[dt],{configurable:true,enumerable:true,writable:true,initializer:null}),ri=Qi(on.prototype,"enableSelectAll",[gt],{configurable:true,enumerable:true,writable:true,initializer:null}),ai=Qi(on.prototype,"selectionLimit",[ft],{configurable:true,enumerable:true,writable:true,initializer:null}),si=Qi(on.prototype,"creationMode",[ht],{configurable:true,enumerable:true,writable:true,initializer:null}),li=Qi(on.prototype,"noData",[bt],{configurable:true,enumerable:true,writable:true,initializer:null}),ui=Qi(on.prototype,"analyticalConfiguration",[yt],{configurable:true,enumerable:true,writable:true,initializer:null}),ci=Qi(on.prototype,"quickVariantSelection",[mt],{configurable:true,enumerable:true,writable:true,initializer:null}),pi=Qi(on.prototype,"massEdit",[Ct],{configurable:true,enumerable:true,writable:true,initializer:null}),di=Qi(on.prototype,"beforeRebindTable",[Pt],{configurable:true,enumerable:true,writable:true,initializer:null}),gi=Qi(on.prototype,"rowPress",[St],{configurable:true,enumerable:true,writable:true,initializer:null}),fi=Qi(on.prototype,"segmentedButtonPress",[wt],{configurable:true,enumerable:true,writable:true,initializer:null}),hi=Qi(on.prototype,"variantSaved",[vt],{configurable:true,enumerable:true,writable:true,initializer:null}),bi=Qi(on.prototype,"variantSelected",[Mt],{configurable:true,enumerable:true,writable:true,initializer:null}),yi=Qi(on.prototype,"listBindingChange",[Tt],{configurable:true,enumerable:true,writable:true,initializer:null}),mi=Qi(on.prototype,"internalDataRequested",[xt],{configurable:true,enumerable:true,writable:true,initializer:null}),Ci=Qi(on.prototype,"selectionChange",[Dt],{configurable:true,enumerable:true,writable:true,initializer:null}),Qi(on.prototype,"onFieldLiveChange",[Et],Object.getOwnPropertyDescriptor(on.prototype,"onFieldLiveChange"),on.prototype),Qi(on.prototype,"onTableRowPress",[At],Object.getOwnPropertyDescriptor(on.prototype,"onTableRowPress"),on.prototype),Qi(on.prototype,"onSegmentedButtonPressed",[It],Object.getOwnPropertyDescriptor(on.prototype,"onSegmentedButtonPressed"),on.prototype),Qi(on.prototype,"onVariantSelected",[Ot],Object.getOwnPropertyDescriptor(on.prototype,"onVariantSelected"),on.prototype),Qi(on.prototype,"onVariantSaved",[Bt],Object.getOwnPropertyDescriptor(on.prototype,"onVariantSaved"),on.prototype),Qi(on.prototype,"onRowPressed",[Ft],Object.getOwnPropertyDescriptor(on.prototype,"onRowPressed"),on.prototype),Qi(on.prototype,"onShareToCollaborationManagerPress",[_t],Object.getOwnPropertyDescriptor(on.prototype,"onShareToCollaborationManagerPress"),on.prototype),Qi(on.prototype,"onOpenInNewTabPress",[Rt],Object.getOwnPropertyDescriptor(on.prototype,"onOpenInNewTabPress"),on.prototype),Qi(on.prototype,"onInternalPatchCompleted",[zt],Object.getOwnPropertyDescriptor(on.prototype,"onInternalPatchCompleted"),on.prototype),Qi(on.prototype,"onInternalPatchSent",[Lt],Object.getOwnPropertyDescriptor(on.prototype,"onInternalPatchSent"),on.prototype),Qi(on.prototype,"onInternalDataReceived",[Nt],Object.getOwnPropertyDescriptor(on.prototype,"onInternalDataReceived"),on.prototype),Qi(on.prototype,"onInternalDataRequested",[Vt],Object.getOwnPropertyDescriptor(on.prototype,"onInternalDataRequested"),on.prototype),Qi(on.prototype,"onPaste",[jt],Object.getOwnPropertyDescriptor(on.prototype,"onPaste"),on.prototype),Qi(on.prototype,"onCut",[Ht],Object.getOwnPropertyDescriptor(on.prototype,"onCut"),on.prototype),Qi(on.prototype,"onCopy",[kt],Object.getOwnPropertyDescriptor(on.prototype,"onCopy"),on.prototype),Qi(on.prototype,"onBeforeExport",[$t],Object.getOwnPropertyDescriptor(on.prototype,"onBeforeExport"),on.prototype),Qi(on.prototype,"onDataStateChange",[Gt],Object.getOwnPropertyDescriptor(on.prototype,"onDataStateChange"),on.prototype),Qi(on.prototype,"onAddCardToInsightsPressed",[Ut],Object.getOwnPropertyDescriptor(on.prototype,"onAddCardToInsightsPressed"),on.prototype),Qi(on.prototype,"onMassEditButtonPressed",[qt],Object.getOwnPropertyDescriptor(on.prototype,"onMassEditButtonPressed"),on.prototype),Qi(on.prototype,"onSelectionChanged",[Qt],Object.getOwnPropertyDescriptor(on.prototype,"onSelectionChanged"),on.prototype),Qi(on.prototype,"onActionPress",[Kt],Object.getOwnPropertyDescriptor(on.prototype,"onActionPress"),on.prototype),Qi(on.prototype,"onContextMenuPress",[Wt],Object.getOwnPropertyDescriptor(on.prototype,"onContextMenuPress"),on.prototype),Qi(on.prototype,"handleCreateActivate",[Xt],Object.getOwnPropertyDescriptor(on.prototype,"handleCreateActivate"),on.prototype),Qi(on.prototype,"onDragEnterDocument",[Yt],Object.getOwnPropertyDescriptor(on.prototype,"onDragEnterDocument"),on.prototype),Qi(on.prototype,"onDragStartDocument",[Jt],Object.getOwnPropertyDescriptor(on.prototype,"onDragStartDocument"),on.prototype),Qi(on.prototype,"onDropDocument",[Zt],Object.getOwnPropertyDescriptor(on.prototype,"onDropDocument"),on.prototype),Qi(on.prototype,"onCollapseExpandNode",[en],Object.getOwnPropertyDescriptor(on.prototype,"onCollapseExpandNode"),on.prototype),Qi(on.prototype,"onMoveUpDown",[tn],Object.getOwnPropertyDescriptor(on.prototype,"onMoveUpDown"),on.prototype),on))||nn)||nn)||nn)||nn)||nn)||nn)||nn)||nn)||nn);return Wi},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/table/TableCreationOptions", ["sap/fe/base/ClassSupport","sap/fe/macros/controls/BuildingBlockObjectProperty"],function(e,r){"use strict";var t,i,n,a,o,l,u,c,s,b,p,f,d;var y={};var m=e.property;var v=e.defineUI5Class;function g(e,r,t,i){t&&Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(i):void 0})}function z(e,r){e.prototype=Object.create(r.prototype),e.prototype.constructor=e,w(e,r)}function w(e,r){return w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,r){return e.__proto__=r,e},w(e,r)}function O(e,r,t,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce(function(t,i){return i(e,r,t)||t},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer?(Object.defineProperty(e,r,a),null):a}function j(e,r){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let h=(t=v("sap.fe.macros.table.TableCreationOptions"),i=m({type:"string"}),n=m({type:"boolean"}),a=m({type:"boolean"}),o=m({type:"string"}),l=m({type:"string"}),t(u=(c=function(e){function r(r){var t;t=e.call(this,r)||this;g(t,"name",s,t);g(t,"createAtEnd",b,t);g(t,"inlineCreationRowsHiddenInEditMode",p,t);g(t,"outbound",f,t);g(t,"creationFields",d,t);return t}y=r;z(r,e);return r}(r),s=O(c.prototype,"name",[i],{configurable:true,enumerable:true,writable:true,initializer:null}),b=O(c.prototype,"createAtEnd",[n],{configurable:true,enumerable:true,writable:true,initializer:null}),p=O(c.prototype,"inlineCreationRowsHiddenInEditMode",[a],{configurable:true,enumerable:true,writable:true,initializer:null}),f=O(c.prototype,"outbound",[o],{configurable:true,enumerable:true,writable:true,initializer:null}),d=O(c.prototype,"creationFields",[l],{configurable:true,enumerable:true,writable:true,initializer:null}),c))||u);y=h;return y},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/table/TableDefinition", ["sap/base/Log","sap/fe/core/converters/ManifestSettings","sap/fe/core/converters/MetaModelConverter","sap/fe/core/converters/controls/Common/DataVisualization","sap/fe/core/helpers/TypeGuards","sap/fe/core/templating/DataModelPathHelper","../MacroAPI"],function(t,e,a,n,o,i,r){"use strict";var c={};var s=i.getContextRelativeTargetObjectPath;var l=o.isAnnotationOfTerm;var p=n.getVisualizationsFromAnnotation;var u=n.getDataVisualizationConfiguration;var m=a.getInvolvedDataModelObjects;var d=e.VisualizationType;function f(e){const a=e._getOwner();const n=a?.getMetaModel();if(!a||!n){t.error("Cannot create a table definition for a TableAPI without an owner or a metamodel");throw new Error("Cannot create a table definition for a TableAPI without an owner or a metamodel")}const o=n.createBindingContext(e.getFullMetaPath());const i=n.createBindingContext(e.contextPath);if(!o||!i){t.error(`Incorrect metaPath (${e.metaPath}) or contextPath (${e.contextPath}) for tableAPI`);throw new Error("Incorrect metaPath or contextPath for tableAPI")}e.contextObjectPath=m(o,i);const c=r.getConverterContext(e.contextObjectPath,e.contextPath,{appComponent:a.getAppComponent(),models:a.preprocessorContext?.models});const l=h(e.contextObjectPath,c);const p=e.getSettingsForManifest();const f={actions:{},columns:{},tableSettings:p};g(e,f);v(e,f);const b={};b[l]=f;const A=r.getConverterContext(e.contextObjectPath,e.contextPath,{appComponent:a?.getAppComponent(),models:a?.preprocessorContext?.models},b);let x;if(e.associatedSelectionVariantPath){const t=m(n.createBindingContext(e.associatedSelectionVariantPath),i);x=t.targetObject}const P=u(e.inMultiView&&e.contextObjectPath.targetObject?A.getRelativeAnnotationPath(e.contextObjectPath.targetObject.fullyQualifiedName,A.getEntityType()):s(e.contextObjectPath),A,{isCondensedTableLayoutCompliant:e.useCondensedLayout,associatedSelectionVariant:x,isMacroOrMultipleView:e.inMultiView??true});return P.visualizations.find(t=>t.type===d.Table)}c.createTableDefinition=f;function h(e,a){const n=s(e);if(!n){t.error(`Missing meta path parameter for LineItem`);return`@${"com.sap.vocabularies.UI.v1.LineItem"}`}if(l(e.targetObject,"com.sap.vocabularies.UI.v1.LineItem")){return n}const o=a.getEntityTypeAnnotation(n);let i=[];if(l(e.targetObject,"com.sap.vocabularies.UI.v1.SelectionPresentationVariant")||l(e.targetObject,"com.sap.vocabularies.UI.v1.PresentationVariant")){i=p(e.targetObject,n,o.converterContext,true)}else{t.error(`Bad metapath parameter for table : ${e.targetObject.term}`)}const r=i.find(t=>t.visualization.term==="com.sap.vocabularies.UI.v1.LineItem");if(r){return r.annotationPath}else{t.error(`Bad meta path parameter for LineItem: ${e.targetObject.term}`);return`@${"com.sap.vocabularies.UI.v1.LineItem"}`}}function b(t){Object.keys(t).forEach(e=>{if(t[e]===undefined){delete t[e]}})}function g(t,e){let a;t.columns?.forEach(t=>{const n=t.isA("sap.fe.macros.table.Column");if(n){a={header:t.header,width:t.width,importance:t.importance,horizontalAlign:t.horizontalAlign,widthIncludingColumnHeader:t.widthIncludingColumnHeader,exportSettings:t.exportSettings,properties:t.properties,tooltip:t.tooltip,template:t.template,availability:t.availability,required:t.required,type:"Slot"}}else{a={key:t.key,width:t.width,importance:t.importance,horizontalAlign:t.horizontalAlign,widthIncludingColumnHeader:t.widthIncludingColumnHeader,exportSettings:t.exportSettings,availability:t.availability}}b(a);if(n&&(t.anchor||t.placement)){a.position={anchor:t.anchor,placement:t.placement??"After"}}e.columns[t.key]=a})}function v(t,e){function a(t){const a=e.actions;const n=t.key;a[n]={position:{placement:t.placement??"After",anchor:t.anchor},command:t.command,enableOnSelect:t.enableOnSelect,visible:t.visible,enabled:t.enabled,isAIOperation:t.isAIOperation,priority:t.priority,group:t.group??0};if(t.isA("sap.fe.macros.table.Action")){a[n]={...a[n],text:t.text,__noWrap:true,press:"some handler",requiresSelection:t.requiresSelection};return}const o={enableAutoScroll:t["enableAutoScroll"],navigateToInstance:t["navigateToInstance"]};b(o);a[n]={...a[n],afterExecution:Object.entries(o).length?o:undefined,defaultValuesFunction:t.defaultValuesFunction}}t.actions?.forEach(t=>{if(t.isA("sap.fe.macros.table.Action")||t.isA("sap.fe.macros.table.ActionOverride")){a(t)}else{const n=e.actions;const o=t.key;n[o]={position:{placement:t.placement??"After",anchor:t.anchor},menu:t.actions.map(t=>t.key)};if(t.isA("sap.fe.macros.table.ActionGroup")){n[o]={...n[o],text:t.text,defaultAction:t.defaultAction,__noWrap:true}}t.actions.forEach(t=>{a(t)})}})}return c},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/table/TableEventHandlerProvider", ["sap/base/Log","sap/fe/base/BindingToolkit","sap/fe/core/helpers/FPMHelper","sap/fe/macros/field/FieldTemplating","../CommonHelper","./TableHelper","./TableRuntime","./uploadTable/UploadTableRuntime"],function(e,t,n,o,i,a,l,r){"use strict";var s={};var c=o.formatValueRecursively;var d=t.isPathInModelExpression;var u=t.isConstant;var b=t.getExpressionFromAnnotation;var p=t.compileExpression;const h=1;const g=10;let P=function(){function t(e,t,n){this.tableBlockProperties=e;this.tableAPI=n;this.collectionEntity=t.collectionEntity;this.metaModel=t.metaModel;if(n){this.constructorWithFunctions(n)}else{this.constructorWithStrings()}}s=t;var o=t.prototype;o.constructorWithStrings=function e(){const t=this.tableBlockProperties.tableDefinition?.control?.type;this.addCardToInsightsPress="API.onAddCardToInsightsPressed($event, $controller)";this.beforeExport="API.onBeforeExport($event)";this.beforeOpenContextMenu="API.onContextMenuPress($event)";this.collapseNode=t==="TreeTable"?"API.onCollapseExpandNode($event, false)":undefined;this.contextMenuItemSelected="TableRuntime.onContextMenuItemSelected";const n=this.tableBlockProperties.tableDefinition?.annotation.row?.navigationInfo;if(n!==undefined||this.tableBlockProperties.overrideRowPress){if(n?.type==="Outbound"){this.contextMenuOpenInNewTab=`.onOpenInNewTabNavigateOutBound('${n.navigationTarget}', %{internal>contextmenu/selectedContexts}, "", ${g})`}else{this.contextMenuShareToCollaborationManager=`API.onShareToCollaborationManagerPress($event, $controller, %{internal>contextmenu/selectedContexts}, ${h})`;this.contextMenuOpenInNewTab=`API.onOpenInNewTabPress($event, $controller,  %{internal>contextmenu/selectedContexts}, %{internal>contextmenu/navigableContexts},{ callExtension: true, targetPath: '${n?.targetPath??""}', navMode: 'openInNewTab' }, ${g})`}}this.dataStateChange="API.onDataStateChange";if(this.tableBlockProperties.tableDefinition?.control?.hasDataStateIndicatorFilter){this.dataStateIndicatorFilter="TableRuntime.dataStateIndicatorFilter"}this.dragStartDocument=t==="TreeTable"?"API.onDragStartDocument":undefined;this.dragEnterDocument=t==="TreeTable"?"API.onDragEnterDocument":undefined;this.dropDocument=t==="TreeTable"?"API.onDropDocument":undefined;this.expandNode=t==="TreeTable"?"API.onCollapseExpandNode($event, true)":undefined;this.fieldChangeInCreationRow=`TableRuntime.onFieldChangeInCreationRow($event, ${!!this.tableBlockProperties.tableDefinition.control.customValidationFunction})`;this.fieldLiveChange=this.tableBlockProperties.creationMode?.name==="InlineCreationRows"?"API.onFieldLiveChange($event)":undefined;this.rowPress="API.onTableRowPress";this.segmentedButtonPress="API.onSegmentedButtonPressed";this.selectionChange="API.onSelectionChanged";this.tableContextChange=t==="TreeTable"?`TableRuntime.onTreeTableContextChanged($event, ${this.tableBlockProperties.tableDefinition?.annotation?.initialExpansionLevel})`:undefined;this.uploadCompleted="UploadTableRuntime.onUploadCompleted";this.uploadFileNameLengthExceeded="UploadTableRuntime.onFileNameLengthExceeded";this.uploadFileSizeExceeded="UploadTableRuntime.onFileSizeExceeded";this.uploadItemValidationHandler="UploadTableRuntime.uploadFile";this.uploadMediaTypeMismatch="UploadTableRuntime.onMediaTypeMismatch";this.variantSaved="API.onVariantSaved";this.variantSelected="API.onVariantSelected"};o.constructorWithFunctions=function e(t){const n=this.tableBlockProperties.tableDefinition?.control?.type;this.addCardToInsightsPress=t.onAddCardToInsightsPressed.bind(t);this.beforeExport=t.onBeforeExport.bind(t);this.beforeOpenContextMenu=t.onContextMenuPress.bind(t);this.collapseNode=n==="TreeTable"?e=>{t.onCollapseExpandNode(e,false)}:undefined;this.contextMenuItemSelected=l.onContextMenuItemSelected.bind(l);const o=this.tableBlockProperties.tableDefinition?.annotation.row?.navigationInfo;if(o!==undefined||this.tableBlockProperties.overrideRowPress){if(o?.type==="Outbound"){this.contextMenuOpenInNewTab=e=>{const n=t.getPageController();const i=t.getBindingContext("internal");n?.onOpenInNewTabNavigateOutBound?.(o.navigationTarget,i?.getProperty("contextmenu/selectedContexts"),"",g)}}else{this.contextMenuShareToCollaborationManager=e=>{const n=t.getPageController();const o=t.getBindingContext("internal");t.onShareToCollaborationManagerPress(e,n,o?.getProperty("contextmenu/selectedContexts"),h)};this.contextMenuOpenInNewTab=e=>{const n=t.getPageController();const i=t.getBindingContext("internal");t.onOpenInNewTabPress(e,n,i?.getProperty("contextmenu/selectedContexts"),i?.getProperty("contextmenu/navigableContexts"),{callExtension:true,targetPath:o?.targetPath??"",navMode:"openInNewTab"},g)}}}this.dataStateChange=t.onDataStateChange.bind(t);if(this.tableBlockProperties.tableDefinition?.control?.hasDataStateIndicatorFilter){this.dataStateIndicatorFilter=t.dataStateIndicatorFilter.bind(t)}this.dragStartDocument=n==="TreeTable"?t.onDragStartDocument.bind(t):undefined;this.dragEnterDocument=n==="TreeTable"?t.onDragEnterDocument.bind(t):undefined;this.dropDocument=n==="TreeTable"?t.onDropDocument.bind(t):undefined;this.expandNode=n==="TreeTable"?e=>{t.onCollapseExpandNode(e,true)}:undefined;this.fieldChangeInCreationRow=e=>{l.onFieldChangeInCreationRow(e,!!this.tableBlockProperties.tableDefinition.control.customValidationFunction)};this.fieldLiveChange=this.tableBlockProperties.creationMode?.name==="InlineCreationRows"?t.onFieldLiveChange.bind(t):undefined;this.rowPress=t.onTableRowPress.bind(t);this.segmentedButtonPress=t.onSegmentedButtonPressed.bind(t);this.selectionChange=t.onSelectionChanged.bind(t);this.tableContextChange=n==="TreeTable"?e=>{l.onTreeTableContextChanged(e,this.tableBlockProperties.tableDefinition?.annotation?.initialExpansionLevel)}:undefined;this.uploadCompleted=r.onUploadCompleted.bind(r);this.uploadFileNameLengthExceeded=r.onFileNameLengthExceeded.bind(r);this.uploadFileSizeExceeded=r.onFileSizeExceeded.bind(r);this.uploadItemValidationHandler=r.uploadFile.bind(r);this.uploadMediaTypeMismatch=r.onMediaTypeMismatch.bind(r);this.variantSaved=t.onVariantSaved.bind(t);this.variantSelected=t.onVariantSelected.bind(t)};o.getCreateButtonPressHandler=function e(t,n){if(this.tableAPI){return n?l.onCreateButtonPress.bind(l):e=>{const n=this.tableAPI.getBindingContext("internal");const o=t?"contextmenu/selectedContexts":"selectedContexts";l.onCreateButtonPress(e,n?.getProperty(o))}}else if(!n){return t?"TableRuntime.onCreateButtonPress($event, ${internal>contextmenu/selectedContexts})":"TableRuntime.onCreateButtonPress($event, ${internal>selectedContexts})"}else{return"TableRuntime.onCreateButtonPress($event)"}};o.getCreateMenuItemPressHandler=function e(t,n){const o=n?"contextmenu/selectedContexts":"selectedContexts";if(this.tableAPI){return e=>{l.onCreateMenuItemPress(e,t,this.tableAPI.getBindingContext("internal")?.getProperty(o))}}else{return`TableRuntime.onCreateMenuItemPress($event, ${t}, \${internal>${o}})`}};o.getCutHandler=function e(t){if(this.tableAPI){return e=>{this.tableAPI.onCut(e,t)}}else{return`API.onCut($event, ${t})`}};o.getCopyHandler=function e(t){if(this.tableAPI){return e=>{this.tableAPI.onCopy(e,t)}}else{return`API.onCopy($event, ${t})`}};o.getDataFieldForActionButtonPressHandler=function e(t,n,o,l){if(!t){return undefined}const r=n.annotationPath?i.getActionContext(this.metaModel.createBindingContext(n.annotationPath+"/Action")):undefined;const s=r?this.metaModel.createBindingContext(r):undefined;if(this.tableAPI){const e=t.Action;const i=this.tableBlockProperties.contextObjectPath.targetEntityType.fullyQualifiedName;const r=typeof s?.getObject()!=="string"&&(a._isStaticAction(s?.getObject(),e)||a._isActionOverloadOnDifferentType(e.toString(),i));const c=!l?"aApplicable":"aApplicableForContextMenu";const d=!l?"aNotApplicable":"aNotApplicableForContextMenu";const u=!l?"":"contextmenu/";return e=>{const i=this.tableAPI.getBindingContext("internal");const a={contexts:!r?i.getProperty(`${u}selectedContexts`):null,bStaticAction:r?r:undefined,entitySetName:this.collectionEntity.name,applicableContexts:!r?i.getProperty(`dynamicActions/${t.Action}/${c}/`):null,notApplicableContexts:!r?i.getProperty(`dynamicActions/${t.Action}/${d}/`):null,isNavigable:(o??n).isNavigable,enableAutoScroll:n.enableAutoScroll,defaultValuesExtensionFunction:n.defaultValuesExtensionFunction,invocationGrouping:t?.InvocationGrouping==="UI.OperationGroupingType/ChangeSet"?"ChangeSet":"Isolated",controlId:this.tableBlockProperties.contentId,operationAvailableMap:this.tableBlockProperties.tableDefinition.operationAvailableMap,label:t.Label?.valueOf()??"",model:this.tableAPI.getPageController().getModel()};this.tableAPI?.onActionPress(e,this.tableAPI.getPageController(),t.Action.valueOf(),a)}}else{return a.pressEventDataFieldForActionButton({contextObjectPath:this.tableBlockProperties.contextObjectPath,contentId:this.tableBlockProperties.contentId},t,this.collectionEntity.name,this.tableBlockProperties.tableDefinition.operationAvailableMap,s?.getObject(),(o??n).isNavigable,n.enableAutoScroll,n.defaultValuesExtensionFunction,l)}};o.getDataFieldForIBNPressHandler=function e(t,n){if(t.annotationPath===undefined){return undefined}const o=this.metaModel.createBindingContext(t.annotationPath);const a=o?.getObject();if(!a){return undefined}const l=this.tableBlockProperties.tableDefinition.enableAnalytics!==true;if(this.tableAPI){return e=>{const t=this.tableAPI.getBindingContext("internal");const o={};o.navigationContexts=n?t.getProperty("contextmenu/selectedContexts"):t.getProperty("selectedContexts");if(a.RequiresContext&&!a.Inline&&l){const e=!n?"aApplicable":"aApplicableForContextMenu";const i=!n?"aNotApplicable":"aNotApplicableForContextMenu";o.applicableContexts=t.getProperty(`ibn/${a.SemanticObject}-${a.Action}/${e}/`);o.notApplicableContexts=t.getProperty(`ibn/${a.SemanticObject}-${a.Action}/${i}/`);o.label=a.Label}o.semanticObjectMapping=a.Mapping;const i=this.tableAPI.getPageController();if(l){i?._intentBasedNavigation.navigateWithConfirmationDialog(a.SemanticObject,a.Action,o,e.getSource())}else{i?._intentBasedNavigation.navigate(a.SemanticObject,a.Action,o,e.getSource())}}}else{return i.getPressHandlerForDataFieldForIBN(a,n?"${internal>contextmenu/selectedContexts}":"${internal>selectedContexts}",l,n)}};o.getExpressionForDataFieldValue=function e(t,n){const o=t?.Value;if(!o){return undefined}if(typeof o==="string"){return this.tableAPI?o:i.addSingleQuotes(o,true)}else{const e=b(o);if(u(e)||d(e)){const t=c(e,n);return p(t)}}};o.getDeleteButtonPressHandler=function e(t){const n=(this.collectionEntity?.entityType||this.collectionEntity?.targetType)?.annotations?.UI?.HeaderInfo;const o=!t?"":"contextmenu/";const a=`${o}deletableContexts`;const l=`${o}selectedContextsIncludingInactive`;const r=!t?`numberOfSelectedContexts`:`${o}numberOfSelectedContextsForDelete`;const s=`${o}unSavedContexts`;const c=`${o}lockedContexts`;const d=`${o}draftsWithDeletableActive`;const u=`${o}draftsWithNonDeletableActive`;const b=this.getExpressionForDataFieldValue(n?.Title,this.tableBlockProperties.contextObjectPath);const p=this.getExpressionForDataFieldValue(n?.Description,this.tableBlockProperties.contextObjectPath);if(this.tableAPI){return e=>{const t=this.tableAPI.getBindingContext("internal");const n={id:this.tableBlockProperties.contentId,numberOfSelectedContexts:t?.getProperty(r),unSavedContexts:t?.getProperty(s),lockedContexts:t?.getProperty(c),draftsWithDeletableActive:t?.getProperty(d),draftsWithNonDeletableActive:t?.getProperty(u),controlId:t?.getProperty("controlId"),title:b,description:p,selectedContexts:t?.getProperty(l)};this.tableAPI.getPageController()?.editFlow.deleteMultipleDocuments(t?.getProperty(a),n)}}else{const e={id:i.addSingleQuotes(this.tableBlockProperties.contentId),numberOfSelectedContexts:`\${internal>${r}}`,unSavedContexts:`\${internal>${s}}`,lockedContexts:`\${internal>${c}}`,draftsWithDeletableActive:`\${internal>${d}}`,draftsWithNonDeletableActive:`\${internal>${u}}`,controlId:"${internal>controlId}",title:b,description:p,selectedContexts:`\${internal>${l}}`};return i.generateFunction(".editFlow.deleteMultipleDocuments",`\${internal>${a}}`,i.objectToString(e))}};o.getManifestActionPressHandler=function t(o,a){if(this.tableAPI){if(o.noWrap===true){const t=this.tableAPI.findSlotActionFromKey(o.key);if(t){return e=>{const n=a?"contextmenu/selectedContexts":"selectedContexts";const o=this.tableAPI.getBindingContext("internal");const i={...e.getParameters(),contexts:o.getProperty(n)};t.fireEvent("press",i)}}else{e.error("Couldn't find action with key "+o.key);return undefined}}else{return t=>{const i=a?"contextmenu/selectedContexts":"selectedContexts";const l=this.tableAPI.getBindingContext("internal");n.actionWrapper(t,o.handlerModule,o.handlerMethod,{contexts:l.getProperty(i)}).catch(t=>{e.error("Error while executing custom action",t)})}}}else{return o.noWrap===true?o.press:i.buildActionWrapper(o,{id:this.tableBlockProperties.contentId},a)}};o.getMassEditButtonPressHandler=function e(t){if(this.tableAPI){return e=>{this.tableAPI.onMassEditButtonPressed(e,t)}}else{return`API.onMassEditButtonPressed($event, ${t})`}};o.getMoveUpDownHandler=function e(t,n){if(this.tableAPI){return e=>{this.tableAPI.onMoveUpDown(e,t,n)}}else{return`API.onMoveUpDown($event, ${t}, ${n})`}};o.getPasteHandler=function e(t){if(this.tableAPI){const e=this.tableAPI.getPageController();return n=>{this.tableAPI.onPaste(n,e,t)}}else{return`API.onPaste($event, $controller, ${t})`}};return t}();s=P;return s},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/table/TableFullScreenButton", ["sap/fe/base/ClassSupport","sap/fe/core/buildingBlocks/BuildingBlock","sap/fe/core/converters/controls/Common/Action","sap/fe/core/helpers/ResourceModelHelper","sap/m/Button","sap/m/Dialog","sap/m/Page","sap/m/Panel","sap/ui/core/Component","sap/ui/core/util/reflection/JsControlTreeModifier","sap/fe/base/jsx-runtime/jsx"],function(e,t,i,n,o,a,r,l,s,g,c){"use strict";var u,f,h,b,d;var p={};var T=n.getResourceModel;var P=i.ButtonType;var A=e.property;var C=e.defineUI5Class;function m(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function y(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,M(e,t)}function M(e,t){return M=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},M(e,t)}function D(e,t,i,n,o){var a={};return Object.keys(n).forEach(function(e){a[e]=n[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce(function(i,n){return n(e,t,i)||i},a),o&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),void 0===a.initializer?(Object.defineProperty(e,t,a),null):a}function S(e,t){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let v=(u=C("sap.fe.macros.table.TableFullScreenButton"),f=A({type:"string"}),u(h=(b=function(e){function t(t,i){var n;n=e.call(this,t,i)||this;m(n,"id",d,n);n.tablePlaceHolderPanel=new l;n.tablePlaceHolderPanel.data("FullScreenTablePlaceHolder",true);return n}p=t;y(t,e);var i=t.prototype;i.getTableAPI=function e(){if(!this.tableAPI){let e=this.content;do{e=e.getParent()}while(!e.isA("sap.fe.macros.table.TableAPI"));this.tableAPI=e;return this.tableAPI}else{return this.tableAPI}};i.onMetadataAvailable=function e(){if(!this.content){this.initializeContent()}};i.afterDialogOpen=function e(){this.content?.focus()};i.beforeDialogClose=function e(){this.getTableAPI().setFullScreenDialog(undefined);this.restoreNormalState()};i.afterDialogClose=function e(){this.fullScreenDialog?.destroy();this.fullScreenDialog=undefined;const t=s.getOwnerComponentFor(this.getTableAPI());const i=s.getOwnerComponentFor(t);this.content?.focus();i?.getRootViewController()._scrollTablesToLastNavigatedItems()};i.createDialog=function e(){const t=c(o,{text:this.resourceModel.getText("M_COMMON_TABLE_FULLSCREEN_CLOSE"),type:P.Transparent,press:()=>{this.fullScreenDialog?.close()}});const i=c(a,{showHeader:false,stretch:true,afterOpen:this.afterDialogOpen.bind(this),beforeClose:this.beforeDialogClose.bind(this),afterClose:this.afterDialogClose.bind(this),endButton:t,content:c(r,{})});i.data("FullScreenDialog",true);return i};i.restoreNormalState=function e(){const t=this.getTableAPI();try{t.setIgnoreContextChangeEvent(true);this.content?.setIcon("sap-icon://full-screen");this.content?.setTooltip(this.resourceModel.getText("M_COMMON_TABLE_FULLSCREEN_MAXIMIZE"));if(t.getTableDefinition().control.type==="GridTable"||t.getTableDefinition().control.type==="TreeTable"&&t.getTableDefinition().control.rowCountMode){t.getContent().getType().setRowCountMode(t.getTableDefinition().control.rowCountMode)}const e=this.originalTableParent.getAggregation(this.originalAggregationName);if(Array.isArray(e)){this.originalTableParent.removeAggregation(this.originalAggregationName,this.tablePlaceHolderPanel);this.originalTableParent.addAggregation(this.originalAggregationName,t)}else{this.originalTableParent.setAggregation(this.originalAggregationName,t)}}finally{t.setIgnoreContextChangeEvent(false)}};i.setFullScreenState=async function e(){const t=this.getTableAPI();try{t.setIgnoreContextChangeEvent(true);this.content?.setIcon("sap-icon://exit-full-screen");this.content?.setTooltip(this.resourceModel.getText("M_COMMON_TABLE_FULLSCREEN_MINIMIZE"));this.tablePlaceHolderPanel.data("tableAPIreference",t);this.originalTableParent=t.getParent();this.originalAggregationName=await g.getParentAggregationName(t);const e=this.originalTableParent.getAggregation(this.originalAggregationName);if(Array.isArray(e)){this.originalTableParent.removeAggregation(this.originalAggregationName,t);this.originalTableParent.addAggregation(this.originalAggregationName,this.tablePlaceHolderPanel)}else{this.originalTableParent.setAggregation(this.originalAggregationName,this.tablePlaceHolderPanel)}this.fullScreenDialog=this.createDialog();this.originalTableParent?.addDependent(this.fullScreenDialog);if(t.getTableDefinition().control.type==="GridTable"||t.getTableDefinition().control.type==="TreeTable"){t.getContent().getType().setRowCountMode("Auto")}this.fullScreenDialog.getContent()[0].addContent(this.getTableAPI());this.fullScreenDialog.open();t.setFullScreenDialog(this.fullScreenDialog)}finally{t.setIgnoreContextChangeEvent(false)}};i.onFullScreenToggle=async function e(){if(this.fullScreenDialog){this.fullScreenDialog.close()}else{await this.setFullScreenState()}};i.initializeContent=function e(){this.resourceModel=T(this);this.content=c(o,{id:this.createId("_btn"),tooltip:this.resourceModel.getText("M_COMMON_TABLE_FULLSCREEN_MAXIMIZE"),icon:"sap-icon://full-screen",press:this.onFullScreenToggle.bind(this),type:"Transparent",visible:true,enabled:true})};return t}(t),d=D(b.prototype,"id",[f],{configurable:true,enumerable:true,writable:true,initializer:null}),b))||h);p=v;return p},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/table/TableHelper", ["sap/base/Log","sap/fe/base/BindingToolkit","sap/fe/core/CommonUtils","sap/fe/core/helpers/BindingHelper","sap/fe/core/helpers/SizeHelper","sap/fe/core/helpers/StableIdHelper","sap/fe/core/helpers/TypeGuards","sap/fe/core/templating/PropertyHelper","sap/fe/core/templating/UIFormatters","sap/fe/macros/formatters/TableFormatter","sap/fe/macros/internal/helpers/ActionHelper","sap/fe/macros/table/TableSizeHelper","sap/ui/mdc/enums/FieldEditMode"],function(e,t,n,a,i,r,o,l,s,c,u,d,f){"use strict";var g=s.getEditMode;var p=l.isImageURL;var b=l.hasText;var v=o.isPathAnnotationExpression;var h=o.isAnnotationOfType;var m=r.generate;var y=a.UI;var I=t.resolveBindingString;var A=t.ref;var F=t.pathInModel;var $=t.or;var C=t.ifElse;var T=t.formatResult;var O=t.fn;var S=t.equal;var x=t.constant;var U=t.compileExpression;var D=t.and;const E={_isStaticAction:function(e,t){let n;if(e){if(Array.isArray(e)){const a=this._getActionOverloadEntityType(t.toString());if(a){n=e.find(function(e){return e.$IsBound&&e.$Parameter[0].$Type===a})}else{n=e[0]}}else{n=e}}return!!n&&typeof n!=="string"&&n.$IsBound&&!!n.$Parameter[0].$isCollection},_getActionOverloadEntityType:function(e){if(e&&e.includes("(")){const t=e.split("(");return t[t.length-1].replaceAll(")","")}return undefined},_isActionOverloadOnDifferentType:function(e,t){const n=this._getActionOverloadEntityType(e);return!!n&&t!==n},getNavigationAvailableMap:function(e){const t={};e?.forEach(e=>{if("SemanticObject"in e){const n=`${e.SemanticObject}-${e.Action}`;if(e.$Type==="com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation"&&!e.Inline&&e.RequiresContext){if(e.NavigationAvailable!==undefined){t[n]=v(e.NavigationAvailable)?e.NavigationAvailable.path:e.NavigationAvailable}}}});return Object.keys(t).length>0?t:undefined},getUiLineItemObject:function(e,t){const n=t.resolvePath(e.getPath()).target;if(!n)return undefined;const a=t.resolvePath(e.getPath()).target.Visualizations;const i=a?a?.find(e=>e.value.indexOf("@"+"com.sap.vocabularies.UI.v1.LineItem")===0)?.$target:n;return i?.term==="com.sap.vocabularies.UI.v1.LineItem"?i:undefined},createBindingToLoadProperties:function(e){if(e===undefined||e.length===0){return undefined}const t=e?.map(e=>F(e))??[];return U(T(t,"._formatters.StandardFormatter#loadProperties"))},getColumnWidth:function(e,t,n,a,i,r,o){if(t.width){return t.width}if(e.enableAutoColumnWidth===true){let l;l=this.getColumnWidthForImage(i)||this.getColumnWidthForDataField(e,t,n,a,i,o)||undefined;if(l){return r?`${l}rem`:l}l=U(T([F("/editMode","ui"),F("tablePropertiesAvailable","internal"),t.name,r,this._shouldIncludeHeaderInColumnwidhCalculation(e,t),t.sortable??false,I(t.required??false,"boolean")],c.getColumnWidth));return l}return undefined},getColumnWidthForImage:function(e){let t=null;const n=e.targetObject?.Value?.$target?.annotations;const a=e.targetObject?.Value?.$target?.type;if(e.targetObject?.Value&&g(e.targetObject.Value?.$target,e,false,false,e.targetObject)===f.Display&&e.targetObject.Value?.$target){const i=b(e.targetObject.Value.$target);if(a==="Edm.Stream"&&!i&&n?.Core?.MediaType?.includes?.("image/")){t=6.2}}else if(n&&(p(e.targetObject?.Value?.$target)||n?.Core?.MediaType?.includes?.("image/"))){t=6.2}return t},_shouldIncludeHeaderInColumnwidhCalculation(e,t){return t.widthIncludingColumnHeader!==undefined?t.widthIncludingColumnHeader:e.widthIncludingColumnHeader},getColumnWidthForDataField:function(e,t,n,a,r,o){const l=r.targetObject?.annotations;const s=r.targetObject?.$Type;let c=null;if(s==="com.sap.vocabularies.UI.v1.DataFieldForAction"||s==="com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation"||s==="com.sap.vocabularies.UI.v1.DataFieldForAnnotation"&&!n.Target?.$AnnotationPath.includes(`@${"com.sap.vocabularies.UI.v1.FieldGroup"}`)){let s;s=i.getButtonWidth(a)||i.getButtonWidth(n?.Label?.toString())||i.getButtonWidth(l?.Label);const u=d.getWidthForDataFieldForAnnotation(r.targetObject,this._shouldIncludeHeaderInColumnwidhCalculation(e,t)).propertyWidth;if(u>s){c=u}else if(a||l&&(h(l,"com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation")||h(l,"com.sap.vocabularies.UI.v1.DataFieldForAction"))){s+=1.8;c=s}c=c??this.getColumnWidthForChart(e,t,n,s,o)}return c},getColumnWidthForChart(e,t,n,a,r){let o,l=null;if(n.Target?.$AnnotationPath?.includes(`@${"com.sap.vocabularies.UI.v1.Chart"}`)){switch(this.getChartSize(e,t)){case"XS":o=4.4;break;case"S":o=4.6;break;case"M":o=5.5;break;case"L":o=6.9;break;default:o=5.3}a+=1.8;if(!this.getShowOnlyChart(e,t)&&(r?.title.length||r?.description.length)){const e=r.title.length>r.description.length?r.title:r.description;const t=i.getButtonWidth(e)+7;const n=t>a?t:a;l=n}else if(a>o){l=a}else{l=o}}return l},getMarginClass:function(e,t){let n="";if(t){if(e=="com.sap.vocabularies.UI.v1.VisualizationType/Rating"){n="sapUiNoMarginBottom sapUiNoMarginTop"}}else if(e==="com.sap.vocabularies.UI.v1.VisualizationType/Rating"){n="sapUiNoMarginTop"}else{n="sapUiTinyMarginBottom"}return n},getVBoxVisibility:function(e,t,n){let a=true;const i=[];if(n[`@${"com.sap.vocabularies.UI.v1.Hidden"}`]){return t}for(const n of e){const e=n[`@${"com.sap.vocabularies.UI.v1.Hidden"}`];if(e===undefined||e===false){i.push(false);continue}if(e===true){i.push(true);continue}if(e.$Path){i.push(F(e.$Path));a=false;continue}if(typeof e==="object"){return t}}const r=x(i.length>0&&a!==true);const o=x(i.length>0&&!i.includes(false)&&a);return U(C(r,T(i,c.getVBoxVisibility),C(o,x(false),x(true))))},getElementStableId:function(e,t,n){if(!e){return undefined}const a=n.targetObject;let i;switch(a?.$Type){case"com.sap.vocabularies.UI.v1.DataFieldForAnnotation":i=a.Target.value;break;case"com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation":case"com.sap.vocabularies.UI.v1.DataFieldForAction":case"com.sap.vocabularies.UI.v1.DataFieldWithUrl":i=a;break;default:i=a.Value?.path??"";break}return m([e,t,i])},getColumnStableId:function(e,t){return E.getElementStableId(e,"C",t)},getFieldGroupLabelStableId:function(e,t){return E.getElementStableId(e,"FGLabel",t)},pressEventDataFieldForActionButton:function(e,t,n,a,i){let r=arguments.length>5&&arguments[5]!==undefined?arguments[5]:false;let o=arguments.length>6?arguments[6]:undefined;let l=arguments.length>7?arguments[7]:undefined;let s=arguments.length>8?arguments[8]:undefined;if(!t)return undefined;const c=t.Action,u=e.contextObjectPath.targetEntityType.fullyQualifiedName,d=typeof i!=="string"&&(this._isStaticAction(i,c)||this._isActionOverloadOnDifferentType(c.toString(),u)),f=!s?"aApplicable":"aApplicableForContextMenu",g=!s?"aNotApplicable":"aNotApplicableForContextMenu",p=!s?"":"contextmenu/",b=F(`${p}selectedContexts`,"internal"),v={contexts:!d?b:null,bStaticAction:d?d:undefined,entitySetName:n,applicableContexts:!d?F(`dynamicActions/${t.Action}/${f}/`,"internal"):null,notApplicableContexts:!d?F(`dynamicActions/${t.Action}/${g}/`,"internal"):null,isNavigable:r,enableAutoScroll:o,defaultValuesExtensionFunction:l,invocationGrouping:t?.InvocationGrouping==="UI.OperationGroupingType/ChangeSet"?"ChangeSet":"Isolated",controlId:e.contentId,operationAvailableMap:a,label:t.Label};return U(O("API.onActionPress",[A("$event"),A("$controller"),t.Action,v]))},isDataFieldForActionEnabled:function(e,t,n,a,i,r,o,l){if(!r)return false;const s=this._isStaticAction(a,t);if(this._isActionOverloadOnDifferentType(t.toString(),r.fullyQualifiedName)){const n=e&&JSON.parse(e.operationAvailableMap);if(n?.hasOwnProperty(t)){return!o?`{= \${internal>dynamicActions/${t}/bEnabled} }`:`{= \${internal>dynamicActions/${t}/bEnabledForContextMenu} }`}return true}if(!n||s){return true}const c=l?u.getNumberOfContextsExpression("single",o):u.getNumberOfContextsExpression(i??"multiselect",o);let d="";const f=!o?`\${internal>dynamicActions/${t}/bEnabled}`:`\${internal>dynamicActions/${t}/bEnabledForContextMenu}`;d=`${c} && ${f}`;return`{= ${d}}`},isDataFieldForIBNEnabled:function(t,n,a,i,r){let o=null;if(v(i)){o=i.path}const l=t?.tableDefinition?.enableAnalytics;if(!a){const a=t.collection.getPath();const r=t.collection.getModel();if(i===false&&!l){e.warning("NavigationAvailable as false is incorrect usage");return false}else if(o&&!l&&v(n?.NavigationAvailable)&&r.getObject(a+"/$Partner")===n.NavigationAvailable.path.split("/")[0]){return`{= \${${o.substring(o.indexOf("/")+1,o.length)}}}`}return true}let s="",c,u;if(i===true||l){s=!(r??false)?"%{internal>numberOfSelectedContexts} >= 1":"%{internal>contextmenu/numberOfSelectedContexts} >= 1"}else if(i===false){e.warning("NavigationAvailable as false is incorrect usage");return false}else{c=!(r??false)?"%{internal>numberOfSelectedContexts} >= 1":"%{internal>contextmenu/numberOfSelectedContexts} >= 1";u=!(r??false)?`\${internal>ibn/${n.SemanticObject}-${n.Action}/bEnabled}`:`\${internal>ibn/${n.SemanticObject}-${n.Action}/bEnabledForContextMenu}`;s=c+" && "+u}return`{= ${s}}`},buildExpressionForMultiValueFieldReadOnly:function(e){return U(C($(e.readOnly===true,D(y.IsInactive,e.creationMode.name==="InlineCreationRows")),x(true),S(e.fieldMode,"nowrapper")))},setHeaderLabelVisibility:function(e,t){if(!t){if(e.$Type?.includes("DataFieldForAction")&&e.Inline){return false}if(e.$Type?.includes("DataFieldForIntentBasedNavigation")&&e.Inline){return false}return true}return t.some(function(e){if((e.$Type==="com.sap.vocabularies.UI.v1.DataField"||e.$Type==="com.sap.vocabularies.UI.v1.DataFieldForAnnotation")&&e[`@${"com.sap.vocabularies.UI.v1.Hidden"}`]!==true){return true}})},getTextOnActionField:function(e,t){if(e.$Type==="com.sap.vocabularies.UI.v1.DataFieldForAction"||e.$Type==="com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation"){return e.Label}if(e.$Type==="com.sap.vocabularies.UI.v1.DataFieldForAnnotation"&&t.context.getObject("Target/$AnnotationPath").indexOf("@"+"com.sap.vocabularies.UI.v1.FieldGroup")>-1){const e="Target/$AnnotationPath/Data/";const n=[];for(const a in t.context.getObject(e)){if(t.context.getObject(`${e+a}/$Type`)==="com.sap.vocabularies.UI.v1.DataFieldForAction"||t.context.getObject(`${e+a}/$Type`)==="com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation"){n.push(t.context.getObject(`${e+a}/Label`))}}if(n.length>1){return n.reduce(function(e,t){return e.length>t.length?e:t})}else{return n.length===0?undefined:n.toString()}}return undefined},_getResponsiveTableColumnSettings:function(e,t){if(e.tableType==="ResponsiveTable"){return t.settings}return undefined},getChartSize:function(e,t){const n=this._getResponsiveTableColumnSettings(e,t);if(n&&n.microChartSize){return n.microChartSize}return"XS"},getShowOnlyChart:function(e,t){const n=this._getResponsiveTableColumnSettings(e,t);if(n&&n.showMicroChartLabel){return!n.showMicroChartLabel}return true},getDelegate:function(e,t,n,a){let i;if(t){if(e.control.type==="TreeTable"){throw new Error("TreeTable not supported in Analytical ListPage")}i={name:"sap/fe/macros/table/delegates/ALPTableDelegate",payload:{collectionName:n}};if(e.enableAnalytics&&a){i.payload.filterOnActiveEntities=true}}else if(e.control.type==="TreeTable"){if(!e.control.hierarchyQualifier){throw new Error("A hierarchy qualifier is mandatory with a TreeTable")}i={name:"sap/fe/macros/table/delegates/TreeTableDelegate",payload:{hierarchyQualifier:e.control.hierarchyQualifier,initialExpansionLevel:e.annotation.initialExpansionLevel,filterOnActiveEntities:a,createInPlace:e.control.createInPlace===true}}}else{i={name:"sap/fe/macros/table/delegates/TableDelegate"};if(e.enableAnalytics&&a){i.payload={filterOnActiveEntities:a}}}if(e.enableAnalytics===true&&e.control.analyticalConfiguration?.aggregationOnLeafLevel===true){i.payload={...i.payload,...{aggregationConfiguration:{leafLevel:true}}}}return JSON.stringify(i)},enableFastCreationRow:async function(t,a,i,r,o){let l,s;if(t){try{await o;if(n.getIsEditable(t)&&!i.isDeleted()){l=r.bindList(a,i,[],[],{$$updateGroupId:"doNotSubmit",$$groupId:"doNotSubmit"});l.refreshInternal=function(){};s=l.create();t.setBindingContext(s);try{await s.created()}catch(t){e.trace("transient fast creation context deleted")}}}catch(t){e.error("Error while computing the final UI state",t)}}},isActionShownInContextMenu:function(e,t){const n=e.annotationPath?t.convertedTypes.resolvePath(e.annotationPath).target:undefined;switch(n?.$Type){case"com.sap.vocabularies.UI.v1.DataFieldForAction":{const e=n.ActionTarget;return e?.isBound===true&&!e.parameters[0].isCollection&&e.sourceEntityType===t.targetEntityType}case"com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation":return n.RequiresContext?.valueOf()===true;default:if(e.type==="Default"){return e.requiresSelection===true}}return false}};E.getNavigationAvailableMap.requiresIContext=true;E.getTextOnActionField.requiresIContext=true;return E},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/table/TableRuntime", ["sap/base/Log","sap/fe/core/ActionRuntime","sap/fe/core/CommonUtils","sap/fe/core/controllerextensions/BusyLocker","sap/fe/core/converters/MetaModelConverter","sap/fe/core/helpers/DeleteHelper","sap/fe/core/helpers/FPMHelper","sap/fe/core/helpers/ResourceModelHelper","sap/fe/core/library","sap/fe/macros/table/Utils","sap/m/MessageToast","sap/ui/core/Messaging","../field/FieldRuntimeHelper"],function(e,t,n,o,a,i,r,l,s,c,d,g,u){"use strict";const f=s.CreationMode;const p={executeConditionalActionShortcut:function(e,t){const o=t.getParent();if(e!==f.CreationRow){const t=o.getActions().reduce(function(e,t){return e.concat(t.getAction())},[]).find(function(t){return t.getId().endsWith(e)});n.fireButtonPress(t)}else{const e=o.getAggregation("creationRow");if(e&&e.getApplyEnabled()&&e.getVisible()){e.fireApply()}}},setContexts:async function(t){const n=t.getSource();const a=n;o.lock(a);try{await p.setContextsAsync(a)}catch(t){e.error(t)}finally{o.unlock(a)}},setContextsAsync:async function(e){const n=e.getModel()?.getMetaModel();const o=e.getParent();if(!o||!n){return}const r=o.tableDefinition;const l=a.convertTypes(n).resolvePath(r.annotation.collection).target;const s=r.annotation.updatablePropertyPath;const c=e.data("actionsMultiselectDisabled")?.split(",")??[];const d=JSON.parse(r.operationAvailableMap||"{}");const g=e.data("navigationAvailableMap");const u=e.getSelectedContexts();const f=[];const b=e.data("displayModePropertyBinding")==="true"&&!!l?.annotations.Common?.DraftRoot;const C=[];const m={};const h={};const y=e.getBindingContext("internal");if(!y){return}i.updateDeleteInfoForSelectedContexts(y,u);const x=u.filter(function(e){return!e.isInactive()});const P=Object.assign(y.getObject()||{},{selectedContexts:x,selectedContextsIncludingInactive:u,numberOfSelectedContexts:x.length,dynamicActions:m,ibn:h,deleteEnabled:true,deletableContexts:f,unSavedContexts:[],lockedContexts:[],draftsWithNonDeletableActive:[],draftsWithDeletableActive:[],controlId:"",updatableContexts:C,pasteAuthorized:true,pasteFromCopyAutorized:true,semanticKeyHasDraftIndicator:y.getProperty("semanticKeyHasDraftIndicator")?y.getProperty("semanticKeyHasDraftIndicator"):undefined});P.nodeUpdatesInfo=P.nodeUpdatesInfo||{};for(const e of x){const t=e.getObject();for(const e in t){if(e.indexOf("#")===0){let t=e;t=t.substring(1,t.length);P.dynamicActions[t]={enabled:true};y.setProperty("",P)}}if(this.isUpdatableContext(s,e,b)){C.push(e)}}if(!e.data("enableAnalytics")){p.setIntentBasedNavigationEnablement(y,g,x)}if(x.length>1){this.disableAction(c,m)}if(P){P["updatableContexts"]=C;P["controlId"]=e.getId();y.setProperty("",P)}if(x.length<=1&&r.control.createEnablement){const t=x.length?x[0]:null;this._updateCreateEnablement(y,r.control.createEnablement,e,t,r.control.nodeType)}this.updateCutCopyPasteEnablement(P,e);this.updateMoveUpDownEnablement(P,e);return t.setActionEnablement(y,d,x,"table")},isUpdatableContext:function(e,t,n){const o=t.getObject();const a=e.length===0||!!t.getProperty(e);const i=!n||o.IsActiveEntity&&!o.HasDraftEntity;if(a&&i){return true}return false},checkIfNodeIsMovable:function(t,n){const o=n.getParent().getTableDefinition().control.isNodeMovable;const a=o?r.getCustomFunction(o.moduleName,o.methodName,n):undefined;try{return a===undefined||a(t)}catch(t){e.warning(`Error in custom function for isNodeMovable: ${t}`);return true}},checkIfNodeIsCopyable:function(t,n){const o=n.getParent().getTableDefinition().control.isNodeCopyable;const a=o?r.getCustomFunction(o.moduleName,o.methodName,n):undefined;try{return a===undefined||a(t)}catch(t){e.warning(`Error in custom function for isNodeMovable: ${t}`);return true}},updateCutCopyPasteEnablement:function(e,t){let o=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;e.contextmenu=e.contextmenu??{selectedContexts:[]};const a=t.getParent().getTableDefinition();if(a.control.type!=="TreeTable"){return}const i=n.getTargetView(t);const s=n.getIsEditable(i);if(i.getControllerName()!=="sap.fe.templates.ListReport.ListReportController"&&!s){e.nodeUpdatesInfo={};e.contextmenu.nodeUpdatesInfo={};return}const c=!t.getRowBinding().isRelative();if(o){e.contextmenu.nodeUpdatesInfo={}}const g=e.nodeUpdatesInfo;const u=t.getRowBinding().getAllCurrentContexts().filter(e=>(g.pastableContexts||[]).map(e=>e.getPath()).includes(e.getPath()));if(u.length!==(g.pastableContexts||[]).length){d.show(""+l.getResourceModel(t).getText("M_PASTABLE_CONTEXTS_NOT_AVAILABLE"))}const f=(!o?e:e.contextmenu).nodeUpdatesInfo;const b=!o?e:e.contextmenu;const C=b.updatableContexts.filter(e=>p.checkIfNodeIsMovable(e,t)&&(!c||e.getProperty("HasDraftEntity")!==true));const m=b.selectedContexts.filter(e=>p.checkIfNodeIsCopyable(e,t));const h=b.selectedContexts;f.cutEnablement=h.length===1&&C.length===1;f.copyEnablement=h.length===1&&m.length===1;if(g.lastAction){if(u?.length===0){f.pasteEnablement=false;return}let e;const n=g.lastAction==="Cut"?a.control.isMoveToPositionAllowed:a.control.isCopyToPositionAllowed;if(n){e=[...h].filter(e=>r.getCustomFunction(n.moduleName,n.methodName,t)(u[0],e))}else{e=[...h]}f.pasteEnablement=h.length<=1&&e.length===h.length}},updateMoveUpDownEnablement:function(e,t){let n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;const o=!n?e:e.contextmenu;const a=o.selectedContexts;const i=t.getParent().getTableDefinition();const r=i.annotation.changeSiblingForRootsSupported;if(a.length!==1||i.control.type!=="TreeTable"||t.getBindingContext("internal")?.getProperty("isSorted")===true||a[0].getProperty("@$ui5.node.level")===1&&!r){o.singleContextMovableUp=false;o.singleContextMovableDown=false}else{const e=a[0];const n=t.getRowBinding().isRelative()||e.getProperty("HasDraftEntity")!==true;const i=e.isTransient()!==undefined;const r=p.checkIfNodeIsMovable(e,t);o.singleContextMovableUp=n&&r&&!i&&!e.isDeleted()&&e.getSibling(-1)!==null;o.singleContextMovableDown=n&&r&&!i&&!e.isDeleted()&&e.getSibling(1)!==null}},_updateCreateEnablement:function(e,t,n,o,a){let i=arguments.length>5&&arguments[5]!==undefined?arguments[5]:false;let l;if(a!==undefined){l=a.values.map(e=>e.value)}else{l=[undefined]}const s=r.getCustomFunction(t.moduleName,t.methodName,n);if(!s){return}const c=l.map(e=>{let t=false;try{t=!!(s(e,o)??true)}catch(e){t=true}return t});const d={};d["Create"]=c.some(e=>e);c.forEach((e,t)=>{d[`Create_${t}`]=e});const g=i?"contextmenu/":"";e.setProperty(g+"createEnablement",d)},clearSelection:function(e){e.clearSelection();const t=e.getBindingContext("internal");if(t){t.setProperty("deleteEnabled",false);t.setProperty("numberOfSelectedContexts",0);t.setProperty("selectedContexts",[]);t.setProperty("deletableContexts",[])}const n=e.getParent();if(n.tableDefinition.control.createEnablement){this._updateCreateEnablement(t,n.tableDefinition.control.createEnablement,e,null,n.tableDefinition.control.nodeType)}},disableAction:function(e,t){e.forEach(function(e){t[e]={bEnabled:false}})},onFieldChangeInCreationRow:function(e,t){const n=u.getFieldStateOnChange(e),o=n.field,a=o.getId();const i=o.getBindingContext("internal"),r=i.getProperty("creationRowFieldValidity"),l=Object.assign({},r);l[a]=n.state;i.setProperty("creationRowFieldValidity",l);if(t){const e=i.getProperty("creationRowCustomValidity"),t=Object.assign({},e);t[o.getBinding("value").getPath()]={fieldId:o.getId()};i.setProperty("creationRowCustomValidity",t);const n=`${o.getBindingContext()?.getPath()}/${o.getBindingPath("value")}`;g.getMessageModel().getData().forEach(function(e){if(e.getTargets()[0]===n){g.removeMessages(e)}})}},onTreeTableContextChanged:function(e,t){const n=e.getSource();const o=n;const a=o.getParent();const i=o.getRowBinding();if(!i?.getContext()||a.getIgnoreContextChangeEvent()){return}const r=i.getAggregation()??{};const l=c.getAllFilterInfo(o);r.expandTo=l.search?Number.MAX_SAFE_INTEGER:t;i.setAggregation(r)},onCreateMenuItemPress:async function(t,o,a){const i=r.getMdcTable(t.getSource());const l=i?.getParent();if(!l||!i){return}const s=l.tableDefinition.control.nodeType;if(!s){return}const c=n.getTargetView(l);const d={};d[s.propertyName]=s.values[o].value;const g={selectedContexts:a,creationMode:l.tableDefinition.annotation.create.mode,data:d,tableId:i?.getId()};if(g.creationMode===f.CreationDialog){g.creationDialogFields=s.values[o].creationDialogFields;if(!g.creationDialogFields||g.creationDialogFields.length===0){g.creationDialogFields=l.tableDefinition.control.creationDialogFields}if(!i.getRowBinding()){await i.rebind()}}c.getController().editFlow.createDocument(l.getRowBinding(),g).catch(t=>{e.error(`Failed to create new document: ${t}`)})},onCreateButtonPress:async function(t,o){const a=r.getMdcTable(t.getSource());const i=a?.getParent();if(!i||!a){return}const l={creationMode:i.tableDefinition.annotation.create.mode};switch(l.creationMode){case f.External:l.outbound=i.tableDefinition.annotation.create.outbound;break;case f.CreationRow:l.creationRow=t.getSource();l.createAtEnd=i.tableDefinition.control.createAtEnd??false;break;case f.NewPage:case f.Inline:case f.CreationDialog:l.createAtEnd=i.tableDefinition.control.createAtEnd??false;l.tableId=a?.getId();l.selectedContexts=o;break;case f.InlineCreationRows:break;default:return}if(l.creationMode===f.CreationDialog){l.creationDialogFields=i.tableDefinition.control.creationDialogFields;if(!a.getRowBinding()){await a.rebind()}}const s=n.getTargetView(i);if(l.creationMode===f.InlineCreationRows){s.getController().editFlow.createEmptyRowsAndFocus(a).catch(t=>{e.error(`Failed to create new empty row: ${t}`)})}else{s.getController().editFlow.createDocument(i,l).catch(t=>{e.error(`Failed to create new document: ${t}`)})}},setIntentBasedNavigationEnablement:function(e,t,n){let o=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;for(const a in t){if(!o){e.setProperty(`ibn/${a}`,{bEnabled:false,aApplicable:[],aNotApplicable:[]})}else{e.setProperty(`ibn/${a}`,{bEnabled:e.getProperty(`${e.getPath()}/ibn/${a}/bEnabled`),aApplicable:e.getProperty(`${e.getPath()}/ibn/${a}/aApplicable`),aNotApplicable:e.getProperty(`${e.getPath()}/ibn/${a}/aNotApplicable`),bEnabledForContextMenu:false,aApplicableForContextMenu:[],aNotApplicableForContextMenu:[]})}const i=[],r=[];const l=t[a];for(const t of n){if(t.getObject(l)){const n=!o?"bEnabled":"bEnabledForContextMenu";e.getModel().setProperty(`${e.getPath()}/ibn/${a}/${n}`,true);i.push(t)}else{r.push(t)}}const s=!o?"aApplicable":"aApplicableForContextMenu";const c=!o?"aNotApplicable":"aNotApplicableForContextMenu";e.getModel().setProperty(`${e.getPath()}/ibn/${a}/${s}`,i);e.getModel().setProperty(`${e.getPath()}/ibn/${a}/${c}`,r)}},onContextMenuItemSelected:function(e){const t=r.getMdcTable(e.getSource());const n=t?.getParent();n?.setContextMenuActive(true);setTimeout(()=>{n?.setContextMenuActive(false)},0)},dataStateIndicatorFilter:function(e,t){const n=t.getParent();return n.dataStateIndicatorFilter(e,t)}};return p},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/table/TableSizeHelper", ["sap/base/Log","sap/fe/core/helpers/SizeHelper","sap/fe/core/helpers/TypeGuards","sap/fe/core/templating/DisplayModeFormatter","sap/m/table/Util","sap/ui/mdc/odata/v4/TypeMap"],function(e,t,a,n,i,o){"use strict";var l=n.getDisplayMode;var r=a.isPathAnnotationExpression;var s=a.isAnnotationOfType;const p={getMDCColumnWidthFromDataField:function(e,t,a){let n=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;const i=t.find(t=>t.annotationPath&&a.resolvePath(t.annotationPath)?.target?.fullyQualifiedName===e?.fullyQualifiedName);return i?this.getMDCColumnWidthFromProperty(i,t,n):0},getMDCColumnWidthFromProperty:function(t,a){let n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;let l=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;let r=arguments.length>4&&arguments[4]!==undefined?arguments[4]:false;const s=Object.assign({headerGap:n&&l,gap:0,truncateLabel:!n,excludeProperties:[],required:r},t.visualSettings?.widthCalculation);let p;if(t.propertyInfos?.length){p=t.propertyInfos.map(e=>{const t=a.find(t=>t.key===e);const n=t&&t.dataType&&!t.typeConfig?o.getTypeConfig(t.dataType,t.formatOptions,t.constraints):null;return n?n.typeInstance:t?.typeConfig?.typeInstance}).filter(e=>e)}else{let e=null;if(t.dataType&&!t.typeConfig){e=o.getTypeConfig(t.dataType,t.formatOptions,t.constraints)}if(t.typeConfig?.typeInstance||e){p=e?[e.typeInstance]:[t.typeConfig?.typeInstance]}}const u=p?i.calcColumnWidth(p,t.label,s):null;if(!u){e.error(`Cannot compute the column width for property: ${t.key}`)}return u?parseFloat(u.replace("Rem","")):0},getWidthForDataFieldForAnnotation:function(e,a,n,i){let o=arguments.length>4&&arguments[4]!==undefined?arguments[4]:false;const l=s(e,"com.sap.vocabularies.UI.v1.DataFieldForAnnotation")?e?.Target?.$target:undefined;let p=0,u=0;if(s(l,"com.sap.vocabularies.UI.v1.DataPointType")&&l?.Visualization){switch(l.Visualization){case"UI.VisualizationType/Rating":const e=l.TargetValue;p=parseInt(e,10)*1.375;break;case"UI.VisualizationType/Progress":default:p=5}const a=l?l.label:e?.Label?.toString()||"";u=o&&a?t.getButtonWidth(a):0}else if(i&&n&&s(l,"com.sap.vocabularies.Communication.v1.ContactType")&&r(l.fn)){p=this.getMDCColumnWidthFromDataField(l.fn.$target,n,i,a)}return{labelWidth:u,propertyWidth:p}},getWidthForDataField:function(a,n,i,o,r){const s=a.Value?.$target,p=s?.annotations?.Common?.Text,u=l(a.Value?.$target);let c=0,d=0;if(s){switch(u){case"Description":c=this.getMDCColumnWidthFromDataField(p.$target,i,o,r)-1;break;case"DescriptionValue":case"ValueDescription":case"Value":default:c=this.getMDCColumnWidthFromDataField(s,i,o,r)-1}const e=a.Label?a.Label:s.label;d=n&&e?t.getButtonWidth(e):0}else{e.error(`Cannot compute width for type object: ${a.$Type}`)}return{labelWidth:d,propertyWidth:c}}};return p},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/table/TreeTable.block", ["sap/fe/core/buildingBlocks/templating/BuildingBlockSupport","./Table.block"],function(e,i){"use strict";var t,r,o,a,n,l,u,s,c,b,d,p,f,y,g,h,m;var v={};var T=e.defineBuildingBlock;var w=e.blockAttribute;function P(e,i,t,r){t&&Object.defineProperty(e,i,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(r):void 0})}function M(e,i){e.prototype=Object.create(i.prototype),e.prototype.constructor=e,z(e,i)}function z(e,i){return z=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,i){return e.__proto__=i,e},z(e,i)}function C(e,i,t,r,o){var a={};return Object.keys(r).forEach(function(e){a[e]=r[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce(function(t,r){return r(e,i,t)||t},a),o&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),void 0===a.initializer?(Object.defineProperty(e,i,a),null):a}function N(e,i){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let S=(t=T({name:"TreeTable",namespace:"sap.fe.macros.internal",publicNamespace:"sap.fe.macros",returnTypes:["sap.fe.macros.table.TableAPI"]}),r=w({type:"string",required:true,isPublic:true}),o=w({type:"string",isPublic:true}),a=w({type:"string",isPublic:true}),n=w({type:"string",isPublic:true}),l=w({type:"string",isPublic:true}),u=w({type:"object",underlyingType:"sap.fe.macros.table.TreeTableCreationOptions",isPublic:true,validate:function(e){if(e.name&&!["NewPage","Inline","External","CreationDialog"].includes(e.name)){throw new Error(`Allowed value ${e.name} for creationMode does not match`)}return e}}),s=w({type:"string",isPublic:true,allowedValues:["TreeTable"]}),t(c=(b=function(e){function t(i,t,r){var o;o=e.call(this,i,t,r)||this;P(o,"hierarchyQualifier",d,o);P(o,"isMoveToPositionAllowed",p,o);P(o,"isCopyToPositionAllowed",f,o);P(o,"isNodeMovable",y,o);P(o,"isNodeCopyable",g,o);P(o,"creationMode",h,o);P(o,"type",m,o);return o}v=t;M(t,e);var r=t.prototype;r.getTableSettings=function t(){const r=e.prototype.getTableSettings.call(this);i.addSetting(r,"type","TreeTable");i.addSetting(r,"hierarchyQualifier",this.hierarchyQualifier);i.addSetting(r,"isMoveToPositionAllowed",this.isMoveToPositionAllowed);i.addSetting(r,"isCopyToPositionAllowed",this.isCopyToPositionAllowed);i.addSetting(r,"isNodeMovable",this.isNodeMovable);i.addSetting(r,"isNodeCopyable",this.isNodeCopyable);const o=r["creationMode"]??{};i.addSetting(o,"createInPlace",this.creationMode.createInPlace);if(this.creationMode.nodeType){i.addSetting(o,"nodeType",{propertyName:this.creationMode.nodeType.propertyName,values:Object.assign({},...(this.creationMode.nodeType.values??[]).map(e=>({[e.key]:{label:e.label,creationFields:e.creationFields}})))})}i.addSetting(o,"isCreateEnabled",this.creationMode.isCreateEnabled);if(Object.entries(o).length>0){r["creationMode"]=o}return r};return t}(i),d=C(b.prototype,"hierarchyQualifier",[r],{configurable:true,enumerable:true,writable:true,initializer:null}),p=C(b.prototype,"isMoveToPositionAllowed",[o],{configurable:true,enumerable:true,writable:true,initializer:null}),f=C(b.prototype,"isCopyToPositionAllowed",[a],{configurable:true,enumerable:true,writable:true,initializer:null}),y=C(b.prototype,"isNodeMovable",[n],{configurable:true,enumerable:true,writable:true,initializer:null}),g=C(b.prototype,"isNodeCopyable",[l],{configurable:true,enumerable:true,writable:true,initializer:null}),h=C(b.prototype,"creationMode",[u],{configurable:true,enumerable:true,writable:true,initializer:function(){return{}}}),m=C(b.prototype,"type",[s],{configurable:true,enumerable:true,writable:true,initializer:null}),b))||c);v=S;return v},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/table/TreeTable", ["sap/fe/base/ClassSupport","sap/fe/core/buildingBlocks/templating/BuildingBlockSupport","sap/fe/macros/controls/BuildingBlockWithTemplating","sap/fe/macros/table/TreeTable.block","sap/m/FlexItemData"],function(t,e,n,r,i){"use strict";var o,a,s,c;var u={};var l=e.convertBuildingBlockMetadata;var g=t.xmlEventHandler;var f=t.defineUI5Class;function d(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,p(t,e)}function p(t,e){return p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},p(t,e)}function v(t,e,n,r,i){var o={};return Object.keys(r).forEach(function(t){o[t]=r[t]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(n,r){return r(t,e,n)||n},o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer?(Object.defineProperty(t,e,o),null):o}let h=(o=f("sap.fe.macros.table.TreeTable",l(r)),a=g(),o(s=(c=function(t){function e(e,n){var r;r=t.call(this,e,n)||this;r.createProxyMethods(["getSelectedContexts","addMessage","removeMessage","refresh","getPresentationVariant","setPresentationVariant","getCurrentVariantKey","setCurrentVariantKey","getSelectionVariant","setSelectionVariant"]);return r}u=e;d(e,t);var n=e.prototype;n._fireEvent=function t(e,n,r){const i=this.getAggregation("actions");if(i){const t=i.find(t=>e.getParameter("id").endsWith("::"+t.getKey()));t?.fireEvent(r,e.getParameters());return}this.fireEvent(r,e.getParameters())};n.getLayoutData=function t(){return new i({maxWidth:"100%"})};n.setMetaPath=function t(e){return this.setProperty("metaPath",e)};n.getMetaPath=function t(){return this.getProperty("metaPath")};n.setIgnoredFields=function t(e){return this.setProperty("ignoredFields",e)};n.getIgnoredFields=function t(){return this.getProperty("ignoredFields")};n.addColumn=function t(e){return this.addAggregation("columns",e)};n.removeColumn=function t(e){return this.removeAggregation("columns",e)};n.addAction=function t(e){return this.addAggregation("actions",e)};n.removeAction=function t(e){return this.removeAggregation("actions",e)};n.createContent=async function e(n){const r=this.content?.content.getRowBinding()?.getCurrentContexts().length>0;await t.prototype.createContent.call(this,n);if(r){this.content?.content.rebind?.()}};return e}(n),v(c.prototype,"_fireEvent",[a],Object.getOwnPropertyDescriptor(c.prototype,"_fireEvent"),c.prototype),c))||s);u=h;return u},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/table/TreeTableAPI", ["sap/fe/base/ClassSupport","./TableAPI","./TreeTableCreationOptions"],function(e,t,i){"use strict";var r,o,a,n,l,s,u,c,p,d,b,f,y,g,h,v,T;var w=e.property;var M=e.defineUI5Class;var m=e.aggregation;function P(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function z(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,C(e,t)}function C(e,t){return C=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},C(e,t)}function A(e,t,i,r,o){var a={};return Object.keys(r).forEach(function(e){a[e]=r[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce(function(i,r){return r(e,t,i)||i},a),o&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),void 0===a.initializer?(Object.defineProperty(e,t,a),null):a}function O(e,t){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let S=(r=M("sap.fe.macros.table.TreeTableAPI",{returnTypes:["sap.fe.macros.MacroAPI"]}),o=w({type:"string",required:true}),a=w({type:"string"}),n=w({type:"string"}),l=w({type:"string"}),s=w({type:"string"}),u=m({type:"sap.fe.macros.table.TreeTableCreationOptions",defaultClass:i}),c=w({type:"string",allowedValues:["TreeTable"]}),r(p=(d=function(e){function i(t){var i;for(var r=arguments.length,o=new Array(r>1?r-1:0),a=1;a<r;a++){o[a-1]=arguments[a]}i=e.call(this,t,...o)||this;P(i,"hierarchyQualifier",b,i);P(i,"isMoveToPositionAllowed",f,i);P(i,"isCopyToPositionAllowed",y,i);P(i,"isNodeMovable",g,i);P(i,"isNodeCopyable",h,i);P(i,"creationMode",v,i);P(i,"type",T,i);return i}z(i,e);var r=i.prototype;r.getSettingsForManifest=function i(){const r=e.prototype.getSettingsForManifest.call(this);t.addSetting(r,"type","TreeTable");t.addSetting(r,"hierarchyQualifier",this.hierarchyQualifier);t.addSetting(r,"isMoveToPositionAllowed",this.isMoveToPositionAllowed);t.addSetting(r,"isCopyToPositionAllowed",this.isCopyToPositionAllowed);t.addSetting(r,"isNodeMovable",this.isNodeMovable);t.addSetting(r,"isNodeCopyable",this.isNodeCopyable);const o=r["creationMode"]??{};t.addSetting(o,"createInPlace",this.creationMode?.createInPlace);if(this.creationMode?.nodeType){t.addSetting(o,"nodeType",{propertyName:this.creationMode.nodeType.propertyName,values:Object.assign({},...(this.creationMode.nodeType.values??[]).map(e=>({[e.key]:{label:e.label,creationFields:e.creationFields}})))})}t.addSetting(o,"isCreateEnabled",this.creationMode?.isCreateEnabled);if(Object.entries(o).length>0){r["creationMode"]=o}return r};return i}(t),b=A(d.prototype,"hierarchyQualifier",[o],{configurable:true,enumerable:true,writable:true,initializer:null}),f=A(d.prototype,"isMoveToPositionAllowed",[a],{configurable:true,enumerable:true,writable:true,initializer:null}),y=A(d.prototype,"isCopyToPositionAllowed",[n],{configurable:true,enumerable:true,writable:true,initializer:null}),g=A(d.prototype,"isNodeMovable",[l],{configurable:true,enumerable:true,writable:true,initializer:null}),h=A(d.prototype,"isNodeCopyable",[s],{configurable:true,enumerable:true,writable:true,initializer:null}),v=A(d.prototype,"creationMode",[u],{configurable:true,enumerable:true,writable:true,initializer:null}),T=A(d.prototype,"type",[c],{configurable:true,enumerable:true,writable:true,initializer:function(){return"TreeTable"}}),d))||p);return S},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/table/TreeTableCreationOptions", ["sap/fe/base/ClassSupport","sap/fe/macros/controls/BuildingBlockObjectProperty"],function(e,r){"use strict";var t,i,n,a,l,o,u,c,s,b,p,f,y;var d={};var m=e.property;var v=e.defineUI5Class;function g(e,r,t,i){t&&Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(i):void 0})}function z(e,r){e.prototype=Object.create(r.prototype),e.prototype.constructor=e,O(e,r)}function O(e,r){return O=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,r){return e.__proto__=r,e},O(e,r)}function w(e,r,t,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce(function(t,i){return i(e,r,t)||t},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer?(Object.defineProperty(e,r,a),null):a}function j(e,r){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let P=(t=v("sap.fe.macros.table.TreeTableCreationOptions"),i=m({type:"string"}),n=m({type:"string"}),a=m({type:"object"}),l=m({type:"string"}),o=m({type:"boolean"}),t(u=(c=function(e){function r(r){var t;t=e.call(this,r)||this;g(t,"name",s,t);g(t,"creationFields",b,t);g(t,"nodeType",p,t);g(t,"isCreateEnabled",f,t);g(t,"createInPlace",y,t);return t}d=r;z(r,e);return r}(r),s=w(c.prototype,"name",[i],{configurable:true,enumerable:true,writable:true,initializer:null}),b=w(c.prototype,"creationFields",[n],{configurable:true,enumerable:true,writable:true,initializer:null}),p=w(c.prototype,"nodeType",[a],{configurable:true,enumerable:true,writable:true,initializer:null}),f=w(c.prototype,"isCreateEnabled",[l],{configurable:true,enumerable:true,writable:true,initializer:null}),y=w(c.prototype,"createInPlace",[o],{configurable:true,enumerable:true,writable:true,initializer:null}),c))||u);d=P;return d},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/table/Utils", ["sap/fe/core/CommonUtils","sap/fe/macros/DelegateUtil","sap/fe/macros/filter/FilterUtils","sap/ui/core/format/NumberFormat","sap/ui/model/Filter","../CollectionBindingInfo"],function(t,e,n,o,r,i){"use strict";function a(e){let n=[];const o=e.data("hiddenFilters");if(o&&Array.isArray(o.paths)){o.paths.forEach(function(o){const r=t.getFiltersFromAnnotation(e,o.annotationPath);n=n.concat(r)})}return n}function s(e){let n=a(e);const o=e.getQuickFilter();if(o){n=n.concat(t.getFiltersFromAnnotation(e,o.getSelectedKey()))}return n}async function c(e,n,o){const a=e.getModel();const s=e.getParent();const c=v.getFilterInfo(e);const l=(Array.isArray(o.additionalFilters)?o.additionalFilters:[]).concat(c.filters).concat(v.getP13nFilters(e));const f={path:c.bindingPath?c.bindingPath:s.getRowCollectionPath(),filters:new r({filters:l,and:true})};e.getParent()?.fireEvent("beforeRebindTable",{collectionBindingInfo:new i(f),quickFilterKey:o.itemKey});const u=n&&!f.path.startsWith("/")?`${n.getPath()}/${f.path}`:f.path;const d=a.bindList(u,e.getBindingContext(),[],f.filters);const g=await d.fetchFilter(d.getContext());const h=a.bindProperty(`${d.getPath()}/$count`,d.getContext(),{$$groupId:o.batchGroupId??"$auto",$filter:g[0],$search:c.search?t.normalizeSearchTerm(c.search):undefined});const b=h.requestValue();if(o.batchGroupId&&o.batchGroupId!=="$auto"){a.submitBatch(o.batchGroupId)}const p=await b;h.destroy();d.destroy();return p}function l(t){const e=o.getIntegerInstance({groupingEnabled:true});return e.format(t)}function f(t,e){const o=t.getParent().getTableDefinition();let r=e||[];if(o.enableAnalytics){if(!o.enableBasicSearch){r=r.concat(["search"])}r=r.concat(["$editState"])}else if(o.control.type==="TreeTable"){r=r.concat(["$editState"])}return n.getFilterInfo(t.getFilter(),{ignoredProperties:r,targetControl:t})}function u(t){const o=t.getP13nMode();let r;if(o&&o.includes("Filter")){if(t.isA("sap.ui.mdc.Table")){const e=t.getParent();r=e.getEnhancedFetchedPropertyInfos().filter(function(t){return t?.filterable!==false})}else{r=(e.getCustomData(t,"sap_fe_ControlDelegate_propertyInfoMap")||[]).filter(function(t){return t&&!(t.filterable===false)})}const o=n.getFilterInfo(t,{propertiesMetadata:r});if(o&&o.filters){return o.filters}}return[]}function d(t,e){const n=v.getFilterInfo(t,e);return{filters:n.filters.concat(s(t),v.getP13nFilters(t)),search:n.search,bindingPath:n.bindingPath}}function g(t,e,n){if(t[e]){n.push(t[e])}const o=Object.keys(t);for(const r of o){if(typeof t[r]==="object"){n=n.concat(g(t[r],e,[]))}}return n}function h(t,e){return g(t,e,[])}function b(t,e){if(!e){return false}const n=v.getAllFilterInfo(t);const o=e.getConditions();const r=Object.keys(o);const i=t.data("metaPath");const a=t.getModel()?.getMetaModel();let s=false;const c=P(i,n);const l=p(i,r);const f=["Edm.Date","Edm.DateTimeOffset","Edm.TimeOfDay"];const u=l.concat(c);for(const t of u){if(a?.getObject(`${t}@com.sap.vocabularies.PersonalData.v1.IsPotentiallySensitive`)||a?.getObject(`${t}@com.sap.vocabularies.PersonalData.v1.IsPotentiallyPersonal`)){s=true;break}if(f.includes(a?.getObject(`${t}/$Type`))){s=true;break}}return s}function p(t,e){const n=[];for(const o of e){n.push(`${t}/${o}`)}return n}function m(t){const e=t.getFilters();let n={};if(e){n=m(e[e.length-1]);for(let t=e.length-2;t>=0;t--){n={left:m(e[t]),right:n}}}else{return{path:t.getPath()}}return n}function P(t,e){let n;const o=[];for(const r of e.filters){n=h(m(r),"path");for(const e of n){o.push(`${t}/${e}`)}}return o}async function F(t){return I(t).promise}function y(t){const e=I(t);if(e.resolve){e.resolve(t);t.data("boundPromiseResolve",null)}}function I(t){if(!t.data("boundPromise")){let e;t.data("boundPromise",new Promise(function(t){e=t}));if(t.isBound?.()){e(t)}else{t.data("boundPromiseResolve",e)}}return{promise:t.data("boundPromise"),resolve:t.data("boundPromiseResolve")}}function $(t,e,n){e?.forEach(e=>{const o=e.getFilters();if(o){$(t,o,n)}else{const o=t.getObject(n+e.sPath+"@com.sap.vocabularies.Common.v1.ExternalID")?.$Path;if(o){e.sPath=o}}})}const v={getCountFormatted:l,getHiddenFilters:a,getListBindingForCount:c,getFilterInfo:f,getP13nFilters:u,getAllFilterInfo:d,isFilterEligibleForOptimisticBatch:b,whenBound:F,onTableBound:y,updateFiltersForExternalID:$};return v},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/table/adapter/TablePVToState", [],function(){"use strict";var e={};const t=function(e,t,r){const n=e.map(e=>e);const o=e.map(e=>({name:r.includes(`Property::${e}`)?`Property::${e}`:e}))||[];o.push(...t.filter(e=>!n.includes(e)).map(e=>({name:r.includes(`Property::${e}`)?`Property::${e}`:e,grouped:false})));return o};const r=function(e,t,r){const n=e.map(e=>e.Property);const o=e.map(e=>({name:r.includes(`Property::${e.Property}`)?`Property::${e.Property}`:e.Property,descending:e.Descending}));o.push(...t.filter(e=>!n.includes(e.Property)).map(e=>({name:r.includes(`Property::${e.Property}`)?`Property::${e.Property}`:e.Property,descending:e.Descending,sorted:false})));return o};const n=function(e,t,r){const n=Object.keys(e);const o={};for(const t in e){let n=t;if(r.includes(`Property::${t}`)){n=`Property::${t}`}o[n]=e[t]}for(const e in t){if(!n.includes(e)){let t=e;if(r.includes(`Property::${e}`)){t=`Property::${e}`}o[t]={aggregated:false}}}return o};const o=function(e,t){const r=e.map(e=>e["Value"])||[];const n=e?.map((e,t)=>({name:e.Value,visible:true,position:t}))||[];n.push(...t.filter(e=>!r.includes(e.Value)).map(e=>({name:e.Value,visible:false})));return n};const s=function(e,s,i){const c=e.getProperties()??{};const p=s.getProperties()??{};const a=e.getTableVisualization()?.Content||[];const u=s.getTableVisualization()?.Content||[];const l={items:o(a,u),groupLevels:t(c.GroupBy??[],p.GroupBy??[],i),sorters:r(c.SortOrder??[],p.SortOrder??[],i)};const y=n(c.Aggregations??{},p.Aggregations??{},i);if(Object.keys(y).length>0){l.aggregations=y}return l};e.convertPVToState=s;return e},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/table/delegates/ALPTableDelegate", ["sap/fe/core/CommonUtils","sap/fe/macros/chart/ChartUtils","sap/fe/macros/table/Utils","sap/fe/macros/table/delegates/TableDelegate","sap/ui/model/Filter"],function(t,e,n,i,s){"use strict";const a=Object.assign({},i,{apiVersion:2,_internalUpdateBindingInfo:function(o,r){let l;let c;Object.assign(r,i._computeRowBindingInfoFromTemplate(o));if(o.getRowBinding()){r.suspended=false}const f=t.getTargetView(o);const g=f.getController().getChartControl?.();const d=g?.getParent();const h=d?.hasSelections();const p=n.getAllFilterInfo(o);const u=p&&p.filters;l=p;if(h){const t=e.getAllFilterInfo(g);if(t&&t.filters){t.filters.forEach(t=>{if(t.getPath()){t.sPath=d.getChartPropertiesWithoutPrefixes(t.getPath())}})}c=t?.filters??null;l=t}const P=(u&&c?u.concat(c):c||u)||[];const b=P.length>0?new s({filters:P,and:true}):null;if(l.bindingPath){r.path=l.bindingPath}a.updateBindingInfoWithSearchQuery(r,l,b);i.addFilterOnActiveEntities(o,r)},rebind:function(t,e){const n=t.getBindingContext("pageInternal");const s=n?.getProperty(`${n.getPath()}/alpContentView`);if(s!=="Chart"){i.rebind(t,e)}}});return a},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/table/delegates/TableDelegate", ["sap/base/Log","sap/base/util/deepEqual","sap/base/util/deepExtend","sap/fe/base/BindingToolkit","sap/fe/base/jsx-runtime/jsx","sap/fe/core/ActionRuntime","sap/fe/core/CommonUtils","sap/fe/core/converters/MetaModelConverter","sap/fe/core/controllerextensions/cards/CollaborationManager","sap/fe/core/converters/controls/Common/table/Columns","sap/fe/core/formatters/ValueFormatter","sap/fe/core/helpers/DeleteHelper","sap/fe/core/helpers/ExcelFormatHelper","sap/fe/core/helpers/ModelHelper","sap/fe/core/helpers/PromiseKeeper","sap/fe/core/helpers/ResourceModelHelper","sap/fe/core/helpers/SizeHelper","sap/fe/core/templating/DataModelPathHelper","sap/fe/core/type/EDM","sap/fe/macros/CollectionBindingInfo","sap/fe/macros/CommonHelper","sap/fe/macros/DelegateUtil","sap/fe/macros/filterBar/FilterBarDelegate","sap/fe/macros/table/MdcTableTemplate","sap/fe/macros/table/TableHelper","sap/fe/macros/table/TableRuntime","sap/fe/macros/table/TableSizeHelper","sap/fe/macros/table/Utils","sap/m/IllustratedMessage","sap/m/IllustratedMessageType","sap/ui/core/Element","sap/ui/core/Fragment","sap/ui/core/util/XMLPreprocessor","sap/ui/mdc/odata/v4/TableDelegate","sap/ui/mdc/odata/v4/TypeMap","sap/ui/model/Filter","sap/ui/model/Sorter","sap/ui/model/json/JSONModel","../TableEventHandlerProvider"],function(e,t,n,i,a,o,r,s,l,c,p,d,u,f,g,h,m,y,b,P,T,C,I,v,_,A,D,E,S,F,x,M,O,B,R,w,L,N,U){"use strict";var k=v.getSlotColumn;var $=v.getComputedColumn;var H=v.getColumnTemplate;var V=b.isTypeFilterable;var W=y.isPathFilterable;var j=h.getResourceModel;var G=h.getLocalizedText;var K=c.ColumnType;var q=s.getInvolvedDataModelObjects;var X=i.isConstant;const z="/semanticKeyHasDraftIndicator";const Q="searchFired";const J="columnAdded";const Y="previousSorters";return Object.assign({},B,{apiVersion:2,_computeVisualSettingsForFieldGroup:function(e,t,i){if(t.key.indexOf("DataFieldForAnnotation::FieldGroup::")===0){const a=e.getColumns().find(e=>e.getPropertyKey()===t.key);const o=a?a.data("showDataFieldsLabel")==="true":false;const r=e.getModel().getMetaModel();const s=q(r.getContext(t.annotationPath));const l=s.convertedTypes;const c=s.targetObject;const p=c.Target.$target;const d=[];p.Data.forEach(function(e){let t;switch(e.$Type){case"com.sap.vocabularies.UI.v1.DataFieldForAnnotation":t=D.getWidthForDataFieldForAnnotation(e,false,i,l,o);break;case"com.sap.vocabularies.UI.v1.DataField":t=D.getWidthForDataField(e,o,i,l,false);break;case"com.sap.vocabularies.UI.v1.DataFieldForAction":t={labelWidth:0,propertyWidth:m.getButtonWidth(e.Label?.toString())};break;default:}if(t){d.push(t.labelWidth+t.propertyWidth)}});const u=d.reduce(function(e,t){return Math.max(e,t)},0);t.visualSettings=n(t.visualSettings,{widthCalculation:{verticalArrangement:true,minWidth:Math.ceil(u)}})}},_computeVisualSettingsForPropertyWithValueHelp:function(e,t){const i=this._getTableAPI(e);if(!t.propertyInfos){const a=e.getModel().getMetaModel();if(t.annotationPath&&a){const e=a.getObject(`${t.annotationPath}@`);if(e&&e["@com.sap.vocabularies.Common.v1.ValueList"]){t.visualSettings=n(t.visualSettings||{},{widthCalculation:{gap:i.getProperty("readOnly")?0:4}})}}}},_computeVisualSettingsForPropertyWithUnit:function(e,t,i,a,o){const r=e?this._getTableAPI(e):null;const s=a||o;if(s){t.visualSettings=n(t.visualSettings,{widthCalculation:{gap:Math.ceil(m.getButtonWidth(s))}})}if(i){t.visualSettings=n(t.visualSettings,{widthCalculation:{gap:r&&r.getReadOnly()?0:6}})}},_computeLabel:function(e,t){if(e.label){const n=t[e.label];const i=n?.some(t=>t.text===e.path&&t?.mode==="Description");if(n?.length>1&&e.path?.includes("/")&&e.additionalLabels&&!i&&!(e?.mode==="Description"&&e.filterable)){e.label=e.label+" ("+e.additionalLabels.join(" / ")+")"}delete e.additionalLabels}},_updatePropertyInfo:function(e,t){const n={};const i=e.getP13nMode();t.forEach(e=>{if(!e.propertyInfos&&e.label){if(i?.includes("Sort")&&e.sortable||i?.includes("Filter")&&e.filterable||i?.includes("Group")&&e.groupable){n[e.label]=n[e.label]!==undefined?n[e.label].concat([e]):[e]}}});t.forEach(i=>{this._computeVisualSettingsForFieldGroup(e,i,t);this._computeVisualSettingsForPropertyWithValueHelp(e,i);this._computeLabel(i,n)});t.push({key:"$editState",path:"$editState",groupLabel:"",group:"",label:"",dataType:"sap.ui.model.odata.type.String",visible:false,groupable:false,sortable:false,filterable:false});return t},_getTableAPI(e){let t=e.getParent();if(!t){t=x.getElementById(e.getId()+"::Table")}return t},getColumnsFor:function(e){const t=this._getTableAPI(e);return t.getTableDefinition().columns},fetchExportCapabilities:async function(t){const n={XLSX:{}};let i;return C.fetchModel(t).then(function(e){i=e;return i.getMetaModel().getObject("/$EntityContainer@Org.OData.Capabilities.V1.SupportedFormats")}).then(function(e){const t=(e||[]).map(e=>e.toLowerCase());if(t.includes("application/pdf")){return i.getMetaModel().getObject("/$EntityContainer@com.sap.vocabularies.PDF.v1.Features")}return undefined}).then(function(e){if(e){n["PDF"]=Object.assign({},e)}return}).catch(function(t){e.error(`An error occurs while computing export capabilities: ${t}`)}).then(function(){return n})},_isFilterableNavigationProperty:function(e,t){const n=W(t);return!e.relativePath.includes("/")||(e.isPartOfLineItem===true||e.isPartOfCustomColumn===true)&&!(X(n)&&n.value===false)},_fetchPropertyInfo:function(e,t,n,i){const a=t.annotationPath,o=e.getObject(a),r=e.createBindingContext(a),s=t.typeConfig?.className&&t.typeConfig.className?.indexOf("Edm.")!==0,l=T.isPropertyFilterable(r,o),c=C.getCustomData(n,"enableAnalytics")==="true",p=G(t.label??"",i??n),d=G(t.tooltip??"",i??n),u=this._getTypeConfig(t,s),f={name:t.name,key:t.name,annotationPath:a,groupLabel:t.groupLabel,group:t.group,label:p,tooltip:d,dataType:u.className,typeConfig:u,formatOptions:t.typeConfig?.baseType==="Edm.DateTimeOffset"?{style:"medium/short"}:t.typeConfig?.formatOptions,constraints:t.typeConfig?.constraints,visible:t.availability!=="Hidden"&&!s,exportSettings:this._setPropertyInfoExportSettings(t.exportSettings,t),unit:t.unit,type:K.Annotation,relativePath:t.relativePath};if(f.exportSettings?.template){f.clipboardSettings={template:f.exportSettings.template}}if(t.visualSettings&&Object.keys(t.visualSettings).length>0){f.visualSettings=t.visualSettings}if(t.exportDataPointTargetValue){f.exportDataPointTargetValue=t.exportDataPointTargetValue}if(t.propertyInfos?.length){f.propertyInfos=t.propertyInfos}else{const a=q(e.getContext(t.annotationPath),e.getContext(C.getCustomData(n,"metaPath")));f.path=t.relativePath;f.sortable=t.sortable;if(c){this._updateAnalyticalPropertyInfoAttributes(f,t)}f.filterable=t.filterable!==false&&!!l&&this._isFilterableNavigationProperty(t,a);f.isKey=t.isKey;f.groupable=t.isGroupable;if(t.textArrangement){this._setTextArrangementInfo(f,t,n)}if(f.isKey){f.extension={technicallyGroupable:true}}f.caseSensitive=t.caseSensitive;if(t.additionalLabels){f.additionalLabels=t.additionalLabels.map(e=>G(e,i||n))}}this._computeVisualSettingsForPropertyWithUnit(n,f,t.unit,t.unitText,t.timezoneText);return f},_setPropertyInfoExportSettings:function(e,t){const n=this._getExportFormat(t.typeConfig?.className);if(n&&e){e.format=n}return e},_getTypeConfig(e,t){let n=R.getTypeConfig("sap.ui.model.odata.type.String");if(e.typeConfig?.className&&V(e.typeConfig.className)){n=R.getTypeConfig(e.typeConfig.className,e.typeConfig.formatOptions,e.typeConfig.constraints)}else if(e.typeConfig?.className&&!t){n=R.getTypeConfig(e.typeConfig.className)}return n},_setTextArrangementInfo:function(e,t,n){const i=this.getColumnsFor(n).find(function(e){return e.name===t.textArrangement?.textProperty});if(i){e.mode=t.textArrangement.mode;e.valueProperty=t.relativePath;e.descriptionProperty=i.relativePath}e.text=t.textArrangement?.textProperty},_updateAnalyticalPropertyInfoAttributes(e,t){if(t.aggregatable){e.aggregatable=t.aggregatable}if(t.extension){e.extension=t.extension}},_fetchComputedPropertyInfo:function(e,t){const n=G(e.label,t);const i={key:e.name,label:n.toString(),dataType:"sap.ui.model.odata.type.String",visible:e.availability!=="Hidden",filterable:false,sortable:false,groupable:false,exportSettings:e.exportSettings,clipboardSettings:e.clipboardSettings};if(e.propertyInfos!==undefined&&e.propertyInfos.length>0){i.propertyInfos=e.propertyInfos}return i},_fetchCustomPropertyInfo:function(e,t,n){let i;if(e.header){if(e.header.startsWith("{metaModel>")){i=f.fetchTextFromMetaModel(e.header,undefined,t.getModel().getMetaModel())}else{i=G(e.header,n)}}const a={key:e.name,groupLabel:undefined,group:undefined,label:i??"",dataType:"sap.ui.model.odata.type.String",visible:e.availability!=="Hidden",exportSettings:e.exportSettings,visualSettings:e.visualSettings};if(e.propertyInfos&&e.propertyInfos.length){a.propertyInfos=e.propertyInfos}else{a.path=e.name;a.sortable=false;a.filterable=false}return a},_bColumnHasPropertyWithDraftIndicator:function(e){return!!(e.formatOptions&&e.formatOptions.hasDraftIndicator||e.formatOptions&&e.formatOptions.fieldGroupDraftIndicatorPropertyPath)},_updateDraftIndicatorModel:function(e,t){const n=e.getColumns();const i=e.getBindingContext("internal");const a=i&&i.getPath();if(n&&i){for(const e in n){if(this._bColumnHasPropertyWithDraftIndicator(t)&&t.name===n[e].getPropertyKey()){if(i.getProperty(a+z)===undefined){i.setProperty(a+z,t.name);break}}}}},_fetchPropertiesForEntity:async function(t,n,i,a){const o=f.getEntitySetPath(n);let s=[];const l=r.getFilterRestrictionsByPath(o,i).NonFilterableProperties;return Promise.resolve(this.getColumnsFor(t)).then(e=>{if(e){let n;e.forEach(e=>{this._updateDraftIndicatorModel(t,e);switch(e.type){case"Annotation":n=this._fetchPropertyInfo(i,e,t,a);if(n&&!l.includes(n.name)){n.maxConditions=C.isMultiValue(n)?-1:1}break;case"Computed":n=this._fetchComputedPropertyInfo(e,t);break;case"Slot":case"Default":n=this._fetchCustomPropertyInfo(e,t,a);break;default:throw new Error(`unhandled switch case ${e.type}`)}s.push(n)})}return}).then(()=>{s=this._updatePropertyInfo(t,s);const e=this._getTableAPI(t);e.setEnhancedFetchedPropertyInfos(s);s=e.getPropertyInfos();return}).catch(function(t){e.error(`An error occurs while updating fetched properties: ${t}`)}).then(function(){return s})},_getCachedOrFetchPropertiesForEntity:async function(e,t,n,i){const a=this._getTableAPI(e);const o=a.getCachedPropertyInfos();if(o.length){return Promise.resolve(o)}return this._fetchPropertiesForEntity(e,t,n,i).then(function(e){a.setCachedPropertyInfos(e);return e})},setNoDataInformation:function(e,t){const n=e.getNoData();if(typeof n!="string"&&n?.isA("sap.m.IllustratedMessage")){const e=n;e.setTitle(t.title);e.setDescription(t.description);e.setIllustrationType(t.illustrationType);e.setIllustrationSize(t.illustrationSize)}else{const n=new S({...t});e.setNoData(n)}},setTableNoDataIllustratedMessage:function(e,t){const n=E.getAllFilterInfo(e);const i=j(e);const a=t.path?.startsWith("/")?t.path.substring(1):t.path;let o;const s=function(){if(e.data("hiddenFilters")||e.getQuickFilter()){return{title:i.getText("T_ILLUSTRATED_MESSAGE_TITLE_NOSEARCHRESULTS"),description:i.getText("M_TABLE_AND_CHART_NO_DATA_TEXT_MULTI_VIEW",undefined,a),illustrationType:F.NoSearchResults}}return{title:i.getText("T_ILLUSTRATED_MESSAGE_TITLE_NOSEARCHRESULTS"),description:i.getText("T_TABLE_AND_CHART_NO_DATA_TEXT_WITH_FILTER",undefined,a),illustrationType:F.NoSearchResults}};const l=e.getFilter();const c=n.search||n.filters?.length;if(l&&!/BasicSearch$/.test(l)){if(c){o=s()}else{o={title:i.getText("T_ILLUSTRATED_MESSAGE_TITLE_NOSEARCHRESULTS"),description:i.getText("T_TABLE_AND_CHART_NO_DATA_TEXT",undefined,a),illustrationType:F.NoSearchResults}}}else if(c){o=s()}else{o={title:i.getText("T_ILLUSTRATED_MESSAGE_TITLE_NODATA"),description:i.getText("M_TABLE_AND_CHART_NO_FILTERS_NO_DATA_TEXT",undefined,a),illustrationType:F.NoData}}if(r.getTargetView(e).getViewData().liveMode){if(c){o=s()}else{o={title:i.getText("T_ILLUSTRATED_MESSAGE_TITLE_NOSEARCHRESULTS"),description:i.getText("M_TABLE_AND_CHART_NO_FILTERS_NO_DATA_TEXT"),illustrationType:F.NoSearchResults}}}const p=this._getTableAPI(e);o.illustrationSize=p.getNoDataMessageMode();if(o.illustrationSize==="text"){const t=e.getNoData();if(typeof t==="string"&&t===o.description){return}e.setNoData(o.description)}else{this.setNoDataInformation(e,o)}},handleTableDataRequested:function(e,t){const n=e&&e.getRowBinding(),i=t&&t.getProperty("dataRequestedAttached");if(t&&!i){n.attachDataRequested(()=>{if(!t.getProperty("dataRequestedTimeoutSet")){t.setProperty("dataRequestedTimeoutSet",true);setTimeout(()=>{t.setProperty("dataRequestedTimeoutSet",false);const n=e?e.getParent():null;if(n){n.tableDefaultsPromise=n.getTableDefaults(e)??Promise.resolve({})}},0)}});t.setProperty("dataRequestedAttached",true)}},handleTableDataReceived:function(e,t){const n=e&&e.getRowBinding(),i=t&&t.getProperty("dataReceivedAttached");if(t&&!i){n.attachDataReceived(()=>{if(!t.getProperty("dataReceivedTimeoutSet")){t.setProperty("dataReceivedTimeoutSet",true);setTimeout(async()=>{t.setProperty("dataReceivedTimeoutSet",false);t.setProperty("selectedContexts",[]);const n=e.getSelectedContexts();t.setProperty("selectedContexts",n);t.setProperty("numberOfSelectedContexts",n.length);const i=this._getTableAPI(e);const a=JSON.parse(i.tableDefinition.operationAvailableMap);o.setActionEnablement(t,a,n,"table");d.updateDeleteInfoForSelectedContexts(t,n);if(i){const t=await(i.tableDefaultsPromise?.catch(()=>undefined));await i.setUpEmptyRows(e,false,t)}this._updateAvailableCards(e)},0)}});t.setProperty("dataReceivedAttached",true)}},setOptimisticBatchPromiseForModel:function(e,t){const n=e.getAppComponent().getModel();if(n){t.setOptimisticBatchEnablerPromise(new g);this.setOptimisticBatchForModel(e,n,t)}},enableOptimisticBatchMode:function(e,t){const n=t&&E.isFilterEligibleForOptimisticBatch(t,e._getFilterBarControl());const i=this._getTableAPI(t);i.getOptimisticBatchEnablerPromise()?.resolve(!n)},setOptimisticBatchForModel:function(e,t,n){const i=e.getAppComponent().getShellServices().isFlpOptimisticBatchPluginLoaded();if(t.getOptimisticBatchEnabler()===null&&!n.isOptimisticBatchDisabled()&&i){const e=n.getOptimisticBatchEnablerPromise();t.setOptimisticBatchEnabler(function(){return e?.promise})}},rebind:async function(t,n){const i=this._getTableAPI(t);const a=i?.getProperty("bindingSuspended");i?.setProperty("outDatedBinding",a);if(!a){A.clearSelection(t);B.rebind.apply(this,[t,n]);E.onTableBound(t);return E.whenBound(t).then(e=>{this.handleTableDataRequested(e,e.getBindingContext("internal"));this.handleTableDataReceived(e,e.getBindingContext("internal"));return}).catch(function(t){e.error("Error while waiting for the table to be bound",t)})}return Promise.resolve()},fetchProperties:async function(e){return C.fetchModel(e).then(async t=>{const n=r.getAppComponent(e);return this._getCachedOrFetchPropertiesForEntity(e,C.getCustomData(e,"entityType")??"",t.getMetaModel(),n)}).then(t=>{e.getBindingContext("internal")?.setProperty("tablePropertiesAvailable",true);return t})},preInit:async function(e){return B.preInit.apply(this,[e]).then(()=>{const t=e.getCreationRow();if(t){t.setBindingContext(null)}return})},updateBindingInfo:function(t,n){const i=t.getBindingContext("internal");const a=this._getTableAPI(t);const o=t.getQuickFilter();const r=new P(n);i?.setProperty("isInsightsEnabled",true);B.updateBindingInfo.apply(this,[t,n]);try{this._handleSortersOnCurrenciesOrUoM(t,n);this._internalUpdateBindingInfo(t,n);this.setTableNoDataIllustratedMessage(t,n);this._handleRecommendationOutputFields(t,n);this._handleFiltersForExternalID(t,n);a?.fireEvent("beforeRebindTable",{collectionBindingInfo:r,quickFilterKey:o?.getSelectedKey()});const e=r.getAttachedEvents();const i=t.getBindingContext();if(t.getCreationRow()?.getBindingContext()===null&&n.path&&i){_.enableFastCreationRow(t.getCreationRow(),n.path,i,t.getModel(),Promise.resolve())}a.setAttachEvents(e)}catch(t){e.error("Error while updating the binding info",t)}},_handleSortersOnCurrenciesOrUoM:function(e,t){const n=t.sorter;const i=[];if(n?.length){const a=this._getTableAPI(e);const o=a.getCachedPropertyInfos();for(const e of n){const t=o?.find(t=>t.path===e.getPath());if(t?.unit){const e=o?.find(e=>e.key===t?.unit);const a=e?.path&&n.some(t=>t.getPath()===e.path);if(!a&&e?.sortable!==false&&e?.path){i.push(new L(e.path,false))}}i.push(e)}t.sorter=i}},_handleFiltersForExternalID:function(e,t){const n=e.getModel()?.getMetaModel();const i=t.path+"/";const a=t.filters?.getFilters();if(a!==undefined){E.updateFiltersForExternalID(n,a,i)}},_handleRecommendationOutputFields:function(e,t){const n=this._getTableAPI(e);const i=n?.getPageController();if(i?.recommendations.isRecommendationEnabled()){const e=i.getAppComponent();const a=n.getTableDefinition();const o=e.getSideEffectsService().getRecommendationOutputFields(a.annotation.entityTypeName);if(o&&o.length>0&&t.parameters){t.parameters.$select=t.parameters?.$select?.concat(",",o.join())}}},_updateAvailableCards:async function(e){const t=this._getTableAPI(e);if(t.getPageController().getView().getViewData()?.converterType==="ListReport"){const e=t?.getPageController()?.getAppComponent();const n=[];await t.collectAvailableCards(n);const i=new l;const a=i.updateCards(n);const o=e.getId();e.getCollaborationManagerService().addCardsToCollaborationManager(a,o,t.getPageController().getView().getId());e.getCollaborationManagerService().shareAvailableCards()}},getInResultPropertyKeys:function(e){const t=this._getTableAPI(e);if(t.tableDefinition.control.analyticalConfiguration?.aggregationOnLeafLevel){const n=this.checkAllKeysAreRequested(t);const i=e.getBindingContext("internal");i?.setProperty("isNodeLevelNavigable",t.overrideRowPress?true:n);return Object.keys(t.tableDefinition.requestAtLeast).filter(e=>!n?t.tableDefinition.requestAtLeast[e].some(e=>e!=="restriction"&&e!=="semanticKey"):true)}return Object.keys(t.tableDefinition.requestAtLeast??{})},checkAllKeysAreRequested:function(e){const t=e.getContent();const n=e.getTableDefinition().columns;const i=n.filter(e=>e.isKey&&e.relativePath&&e.relativePath!=="IsActiveEntity").map(e=>e.relativePath);const a=t.getColumns().map(t=>e.getTableDefinition().columns.find(e=>e.name===t.getPropertyKey()));const o=new Set;function r(e){if(e.relativePath&&e.propertyInfos===undefined){o.add(e.relativePath)}e.extension?.additionalProperties?.forEach(e=>{const t=n.find(t=>t.name===e);if(t?.relativePath){o.add(t.relativePath)}})}a.forEach(e=>{if(!e){return}r(e);e.propertyInfos?.forEach(e=>{const t=n.find(t=>t.name===e);if(t){r(t)}})});return i.every(e=>e&&o.has(e))},getSearchQuery:function(e){const t=e.getAggregation?.();if(t?.search!==undefined){return t.search}return e.getQueryOptionsFromParameters().$search},updateBinding:function(n,i,a){const o=this._getTableAPI(n);const s=o?.getProperty("bindingSuspended");if(!s){if(i.parameters?.$$getKeepAliveContext===true){const e=C.getCustomData(n,"targetCollectionPath")??"";const t=n.getModel("internal");const a=t?.getObject("/keptAliveLists")??{};if(!a[e]){a[e]=n.getId();t?.setProperty("/keptAliveLists",a)}else if(a[e]!==n.getId()){delete i.parameters.$$getKeepAliveContext}}let s=false;const l=r.getTargetView(n);const c=n.getBindingContext("internal");const p="pendingManualBindingUpdate";const d=c?.getProperty(p);const u=JSON.stringify(i.sorter??[]);if(a){const e=l?.getViewData();const n=a.getFilters("Application");const o=c?.getProperty(Y)??"[]";const r=(i.filters===null&&n.length===0||t(i.filters,n[0]))&&u===o&&i.path===a.getPath()&&this.getSearchQuery(a)===i?.parameters?.$search;const p=!!e.views;s=r&&(c?.getProperty(Q)||c?.getProperty(J)||p)&&!d}if(o.getTableDefinition().enableAnalytics!==true){n.setAggregateConditions();if(o.getTableDefinition().control.type==="GridTable"||o.getTableDefinition().control.type==="TreeTable"){n.setGroupConditions()}}B.updateBinding.apply(this,[n,i,a]);o.setTableBindingInfo(i);o.setDownloadUrl();n.fireEvent("bindingUpdated");if(s&&n.getFilter()&&a){a.requestRefresh(a.getGroupId()).finally(()=>{c?.setProperty(p,false)}).catch(function(t){e.error("Error while refreshing the table",t)});c?.setProperty(p,true)}c?.setProperty(Q,false);c?.setProperty(J,false);c?.setProperty(Y,u);if(o.getTableDefinition().control.type==="TreeTable"){c?.setProperty("pastableContexts",[])}const f=o.storedEvents??[];f.forEach(e=>{let{eventId:t,callback:i,listener:a,data:o}=e;n.getRowBinding()?.attachEvent(t,o,i,a)})}o?.setProperty("outDatedBinding",s)},_computeRowBindingInfoFromTemplate:function(e){const t=this._getTableAPI(e);const n=t.getTableTemplateBindingInfo();const i=e.getBindingContext();let a=false;if(i===undefined&&e.getBindingContext("ui")?.getProperty("isEditable")===false&&e.getModel("viewData")?.getProperty("/isInlineEditEnabled")){a=true}else if(i?.getBinding().getUpdateGroupId()==r.INLINEEDIT_UPDATEGROUPID){a=true}if(a){n.parameters??={};n.parameters.$$updateGroupId=r.INLINEEDIT_UPDATEGROUPID}return n},_internalUpdateBindingInfo:function(e,t){const n=e.getBindingContext("internal");Object.assign(t,this._computeRowBindingInfoFromTemplate(e));if(e.getRowBinding()){t.suspended=false}if(n){n.setProperty("dataReceivedAttached",false)}let i;const a=E.getAllFilterInfo(e);if(a.filters.length>0){i=new w({filters:a.filters,and:true})}if(a.bindingPath){t.path=a.bindingPath}const o=e.getDataStateIndicator();if(o&&o.isFiltering()){if(t.filters.length>0){i=new w({filters:t.filters.concat(a.filters),and:true});this.updateBindingInfoWithSearchQuery(t,a,i)}}else{this.updateBindingInfoWithSearchQuery(t,a,i)}this.addFilterOnActiveEntities(e,t)},updateBindingInfoWithSearchQuery:function(e,t,n){e.filters=n;e.parameters??={};if(t.search){e.parameters.$search=r.normalizeSearchTerm(t.search)}else{e.parameters.$search=undefined}},addFilterOnActiveEntities:function(e,t){const n=e.getPayload();if(n?.filterOnActiveEntities===true){const e=new w({path:"IsActiveEntity",operator:"EQ",value1:true});if(t.filters){t.filters=new w({filters:[e,t.filters],and:true})}else{t.filters=e}}},_templateSlotColumnFragment:async function(t,n,i,o){const r=(new DOMParser).parseFromString(a.renderAsXML(()=>k(o,t,false)),"text/xml");if(!r){return Promise.resolve(null)}const s=r.getElementsByTagName("slot")[0];if(t.template){if(s){const e=(new DOMParser).parseFromString(t.template,"text/xml");if(e.firstElementChild&&e.firstElementChild.nodeName!=="html"){s.replaceWith(e.firstElementChild)}else{s.remove()}}}else{e.error(`Please provide content inside this Building Block Column: ${t.header}`);return Promise.resolve(null)}const l=await O.process(r.firstElementChild,{models:{}},n.getController().getOwnerComponent().getPreprocessorContext());if(i?.targets!=="jsControlTree"){return l.firstElementChild}return M.load({type:"XML",definition:l,controller:n.getController()})},_getExportFormat:function(e){switch(e){case"Edm.Date":return u.getExcelDatefromJSDate();case"Edm.DateTimeOffset":return u.getExcelDateTimefromJSDateTime();case"Edm.TimeOfDay":return u.getExcelTimefromJSTime();default:return undefined}},_getVHRelevantFields:function(e,t,n){let i=[],a=e.getObject(t);if(a.$kind&&a.$kind==="Property"){a=e.getObject(`${t}@com.sap.vocabularies.UI.v1.DataFieldDefault`);t=`${t}@com.sap.vocabularies.UI.v1.DataFieldDefault`}switch(a.$Type){case"com.sap.vocabularies.UI.v1.DataFieldForAnnotation":if(e.getObject(`${t}/Target/$AnnotationPath`).includes("com.sap.vocabularies.UI.v1.FieldGroup")){e.getObject(`${t}/Target/$AnnotationPath/Data`).forEach((n,a)=>{i=i.concat(this._getVHRelevantFields(e,`${t}/Target/$AnnotationPath/Data/${a}`))})}break;case"com.sap.vocabularies.UI.v1.DataFieldWithNavigationPath":case"com.sap.vocabularies.UI.v1.DataFieldWithUrl":case"com.sap.vocabularies.UI.v1.DataField":case"com.sap.vocabularies.UI.v1.DataFieldWithIntentBasedNavigation":case"com.sap.vocabularies.UI.v1.DataFieldWithAction":i.push(e.getObject(`${t}/Value/$Path`));break;case"com.sap.vocabularies.UI.v1.DataFieldForAction":case"com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation":break;default:if(n&&t.indexOf(n)===0){i.push(t.substring(n.length+1));break}i.push(T.getNavigationPath(t,true));break}return i},_setDraftIndicatorOnVisibleColumn:function(e,t,n){const i=e.getBindingContext("internal");if(!i){return}const a=i.getPath();const o=t.filter(e=>this._bColumnHasPropertyWithDraftIndicator(e));const r=e.getColumns();let s,l,c,p;for(const e in r){l=r[e].getPropertyKey();for(const e in o){p=o[e].name;if(l===p){c=true;break}if(n&&n.name===p){s=n.name}}if(c){i.setProperty(a+z,l);break}}if(!c&&s){i.setProperty(a+z,s)}},removeItem:async function(e,t,n){let i=true;if(!t){return Promise.resolve(i)}const a=n.modifier;const o=await a.getProperty(t,"dataProperty");if(o&&o.includes&&o.includes("InlineXML")){a.insertAggregation(e,"dependents",t);i=false}if(e.isA&&a.targets==="jsControlTree"){this._setDraftIndicatorStatus(a,e,this.getColumnsFor(e))}return Promise.resolve(i)},_getMetaModel:function(e){return e.appComponent&&e.appComponent.getModel().getMetaModel()},_setDraftIndicatorStatus:function(e,t,n,i){if(e.targets==="jsControlTree"){this._setDraftIndicatorOnVisibleColumn(t,n,i)}},_getGroupId:function(e){return e||undefined},_insertAggregation:async function(e,t,n){if(e){return t.insertAggregation(n,"dependents",e,0)}return},addItem:async function(t,n,i){const o=this._getMetaModel(i),s=i.modifier,l=s.getId(t),c=t.isA?this.getColumnsFor(t):null,p=this._getTableAPI(t);if(!c){return Promise.resolve(null)}const d=c.find(function(e){return e.name===n});if(!d){e.error(`${n} not found while adding column`);return Promise.resolve(null)}if(d.availability==="Hidden"){e.warning(`Column for ${n} not added because it's hidden`);return Promise.resolve(null)}const u=t.getBindingContext("internal");u?.setProperty(J,true);this._setDraftIndicatorStatus(s,t,c,d);const f=await C.getCustomDataWithModifier(t,"metaPath",s);const g=o.createBindingContext(f);const h=i.view||r.getTargetView(t)||(i.appComponent?r.getCurrentPageView(i.appComponent):undefined);if(d.type==="Default"){e.error("Custom columns defined in the manifest are not supported when using a table building block.");throw new Error("Custom columns defined in the manifest are not supported when using a table building block.")}if(d.type==="Slot"){return this._templateSlotColumnFragment(d,h,s,l)}if(d.type==="Computed"){const e=this._getTableAPI(t).getTableDefinition().enableAnalytics;return $(l,d,g,e)}if(!o){return Promise.resolve(null)}let m=p.getEnhancedFetchedPropertyInfos();if(!m.length){await this.fetchProperties(t);m=p.getEnhancedFetchedPropertyInfos()}const y=m.find(function(e){return e.name===n});const b=o.createBindingContext(y.annotationPath);const P=async(e,r)=>{let c;let u;let h;return Promise.all([C.getCustomDataWithModifier(t,"displayModePropertyBinding",s),C.getCustomDataWithModifier(t,"tableType",s),C.getCustomDataWithModifier(t,"creationMode",s)]).then(async e=>{c=e[0];u=e[1];h=e[2];if(c!==undefined&&typeof c!=="boolean"){c=c==="true"}const t=new N({enableAutoColumnWidth:p.getTableDefinition().control.enableAutoColumnWidth,readOnly:c,tableType:u,id:l,navigationPropertyPath:n,columnInfo:d,collection:o.createBindingContext(f),creationMode:{name:h},widthIncludingColumnHeader:p.getTableDefinition().control.widthIncludingColumnHeader}),m={bindingContexts:{entitySet:g,collection:g,dataField:b,this:t.createBindingContext("/"),column:t.createBindingContext("/columnInfo")},models:{this:t,entitySet:o,collection:o,dataField:o,metaModel:o,column:t},appComponent:i.appComponent};const y=q(o.createBindingContext(p.tableDefinition.annotation.collection));const P=new U(p,{collectionEntity:y.targetObject,metaModel:o},p);const T=(new DOMParser).parseFromString(a.renderAsXML(()=>H(l,p,d,o.createBindingContext(f),P)??""),"text/xml");return C.templateControlFragment(T.firstElementChild,m,{view:r},s).finally(function(){t.destroy()})})};return P(y,h)},getFilterDelegate:function(){return Object.assign({apiVersion:2},I,{addItem:async function(e,t){if(t.indexOf("Property::")===0){t=t.replace("Property::","")}return I.addItem(e,t)}})},getTypeMap:function(){return R},formatGroupHeader(e,t,n){const i=this._getTableAPI(e).getEnhancedFetchedPropertyInfos();const a=i?.find(e=>e.name===n);const o=R.getTypeConfig(a?.dataType).baseType;const s=o==="DateTime"||o==="Date"||o==="Boolean"||o==="Numeric";let l;if(!t){l=j(r.getTargetView(e)).getText("M_TABLE_GROUP_HEADER_TITLE_VALUE");return j(e).getText("M_TABLE_GROUP_HEADER_TITLE",[a?.label,l])}if(a?.mode){switch(a.mode){case"Description":l=a.descriptionProperty?t.getProperty(a.descriptionProperty,s):null;break;case"DescriptionValue":l=p.formatWithBrackets(a.descriptionProperty?t.getProperty(a.descriptionProperty,s):null,a.valueProperty?t.getProperty(a.valueProperty,s):null);break;case"ValueDescription":l=p.formatWithBrackets(a.valueProperty?t.getProperty(a.valueProperty,s):null,a.descriptionProperty?t.getProperty(a.descriptionProperty,s):null);break;default:break}}else{l=a?.path?t.getProperty(a.path,s):null}if(l===null||l===""){l=j(r.getTargetView(e)).getText("M_TABLE_GROUP_HEADER_TITLE_VALUE")}return j(e).getText("M_TABLE_GROUP_HEADER_TITLE",[a?.label,l])}})},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/table/delegates/TreeTableDelegate", ["sap/fe/core/CommonUtils","sap/fe/macros/table/delegates/TableDelegate"],function(e,a){"use strict";const r=Object.assign({},a,{apiVersion:2,_internalUpdateBindingInfo:function(e,r){a._internalUpdateBindingInfo.apply(this,[e,r]);const n=e.getRowBinding()?.getAggregation();const t=e.getPayload();r.parameters.$$aggregation={...r.parameters.$$aggregation,...{hierarchyQualifier:t?.hierarchyQualifier,createInPlace:t?.createInPlace?true:undefined},...{expandTo:r.parameters.$$aggregation?.search?Number.MAX_SAFE_INTEGER:n?.expandTo??t?.initialExpansionLevel}};const i=e.getBindingContext("internal");i.setProperty("isSorted",r.sorter!==undefined&&r.sorter.length>0)},updateBindingInfoWithSearchQuery:function(a,r,n){a.filters=n;if(r.search){a.parameters.$$aggregation={...a.parameters.$$aggregation,...{search:e.normalizeSearchTerm(r.search)}}}else{delete a.parameters?.$$aggregation?.search}}});return r},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/table/massEdit/MassEditDialog", ["sap/base/Log","sap/fe/core/CommonUtils","sap/fe/core/controllerextensions/messageHandler/messageHandling","sap/fe/core/converters/ManifestSettings","sap/fe/core/helpers/PromiseKeeper","sap/fe/core/helpers/ResourceModelHelper","sap/fe/core/helpers/StableIdHelper","sap/fe/core/library","sap/m/Button","sap/m/Dialog","sap/m/Label","sap/m/MessageBox","sap/m/MessageStrip","sap/m/MessageToast","sap/ui/core/Fragment","sap/ui/core/Lib","sap/ui/core/util/XMLPreprocessor","sap/ui/layout/form/Form","sap/ui/layout/form/FormContainer","sap/ui/layout/form/FormElement","sap/ui/layout/form/ResponsiveGridLayout","sap/ui/model/json/JSONModel","./MassEditField","./MassEditSideEffects","sap/fe/base/jsx-runtime/jsx","sap/fe/base/jsx-runtime/Fragment","sap/fe/base/jsx-runtime/jsxs"],function(e,t,s,i,n,o,r,a,l,d,c,h,g,u,p,f,m,M,C,E,x,b,S,w,_,y,T){"use strict";var P={};var O=i.OperationGroupingMode;let v=function(){function i(e){this.requiredDataPromise=new n;this.updatedProperties=new Set;this.dialog=undefined;this.table=e.table;this.contexts=e.contexts;this.isAdaptation=t.getAppComponent(this.table).isAdaptationMode();this.fieldProperties=e.fieldProperties;this.view=t.getTargetView(this.table);this.transientListBinding=this.generateListBinding();this.bindingContext=this.transientListBinding.create({},true);this.resourceModel=o.getResourceModel(this.table);this.contextsOnError=[];this.fieldControls=[]}P=i;var v=i.prototype;v.generateListBinding=function e(){const t=this.table.getRowBinding();const s=this.table.getModel().bindList(t.getPath(),t.getContext(),[],[],{$$updateGroupId:"submitLater"});s.refreshInternal=()=>{};return s};v.create=async function e(){if(!this.dialog){const e=f.getResourceBundleFor("sap.fe.core");const t=this.view.getViewData().converterType==="ListReport"?this.resourceModel.getText("C_MASS_EDIT_SAVE_BUTTON_TEXT"):e.getText("C_COMMON_DIALOG_OK");const s=await this.createContent();const i=_(d,{"dt:designtime":"sap/fe/macros/table/massEdit/designtime/MassEdit.designtime",id:r.generate([this.table.getId(),"MED_","Dialog"]),contentWidth:"27rem",class:"sapUiContentPadding",horizontalScrolling:"false",title:this.resourceModel.getText("C_MASS_EDIT_DIALOG_TITLE",[this.contexts.length.toString()]),content:s,escapeHandler:this.onClose.bind(this),beforeOpen:this.beforeOpen.bind(this),beginButton:_(l,{text:t,type:"Emphasized",press:this.onApply.bind(this)}),endButton:_(l,{text:e.getText("C_COMMON_OBJECT_PAGE_CANCEL"),press:this.onClose.bind(this)})});this.dialog=i;i.setModel(new b({isEditable:true}),"ui");i.bindElement({path:"/",model:"ui"});return i}return this.dialog};v.beforeOpen=function e(t){const s=t.getSource();s.setModel(this.table.getModel());s.setBindingContext(this.bindingContext);this.table.addDependent(s)};v.onClose=function e(){this.transientListBinding.destroy();if(this.dialog){this.dialog.close();this.dialog.destroy()}};v.getRequiredDataPromise=function e(){return this.requiredDataPromise};v.manageMessage=async function e(){const i=f.getResourceBundleFor("sap.fe.core");const n=this.view.getController();const o=a.DraftStatus;const r=this.view.getBindingContext("internal");r?.setProperty("getBoundMessagesForMassEdit",true);await n.messageHandler.showMessages({onBeforeShowMessage:(e,i)=>{i.fnGetMessageSubtitle=s.setMessageSubtitle.bind({},this.table,this.contexts);if(!this.contextsOnError.length){if(this.updatedProperties.size>0){n.editFlow.setDraftStatus(o.Saved);if(this.view.getViewData().converterType==="ListReport"){u.show(this.resourceModel.getText("C_MASS_EDIT_SUCCESS_TOAST"))}else{u.show(this.resourceModel.getText("C_OBJECT_PAGE_MASS_EDIT_SUCCESS_TOAST"))}}else{u.show(this.resourceModel.getText("C_MASS_EDIT_NO_CHANGE"))}}else if(this.contextsOnError.length<this.contexts.length){n.editFlow.setDraftStatus(o.Saved)}else if(this.contextsOnError.length===this.contexts.length){n.editFlow.setDraftStatus(o.Clear)}if(t.getIsEditable(n)&&!e.some(e=>!e.getTargets())){i.showMessageBox=false;i.showMessageDialog=false}return i}});if(!!this.contextsOnError.length&&this.contextsOnError.length<this.contexts.length){const e=i.getText("C_COMMON_DIALOG_OK");h.success(this.resourceModel.getText("C_MASS_EDIT_CHANGES_WITH_ERROR",[this.contexts.length-this.contextsOnError.length,this.contexts.length]),{actions:[e],emphasizedAction:e})}r?.setProperty("getBoundMessagesForMassEdit",false)};v.saveChanges=async function t(s){const i=this.table.getParent().getTableDefinition().control.massEdit;const n=i.operationGroupingMode===O.Isolated;const o="$auto.Isolated";const r=new w(this);const a=[];const l=this.table.getModel();if(n){l.setContinueOnError(o)}this.contexts.forEach(t=>{const i=[];const d=[];for(const{control:r,values:l}of s.fieldControlReference){let s=false;if(!r.isReadOnlyOnContext(t)){const c=n?o:"$auto";for(const n in l){if(t.getProperty(n)!==l[n]){s=true;a.push(t.setProperty(n,l[n],c).then(()=>this.updatedProperties.add(n)).catch(s=>{this.contextsOnError.push(t);e.error("Mass Edit: Something went wrong in updating entries.",s)}));i.push({propertyPath:n,groupId:c})}}if(s){d.push({control:r,groupId:c})}}}a.push(...i.map(async e=>r.executeImmediateSideEffects(t,e.propertyPath,e.groupId)));a.push(...d.map(async e=>r.refreshDescription(e.control,t,e.groupId)));if(n){l.submitBatch(o)}});await Promise.allSettled(a);if(this.updatedProperties.size){r.executeDeferredSideEffects(new Set(["genericField",...Array.from(this.updatedProperties)]))}};v.getFieldValuesInfos=function e(){const t={values:{},fieldControlReference:[]};for(const e of this.fieldControls){const s=e.getFieldValues();t.values={...t.values,...s};t.fieldControlReference.push({control:e,values:s})}return t};v.applyChanges=async function t(){await this.requiredDataPromise.promise;this.view.getBindingContext("internal")?.setProperty("skipPatchHandlers",true);const s=this.getFieldValuesInfos();let i=false;try{i=await this.view.getController().editFlow.customMassEditSave({aContexts:this.contexts,oUpdateData:s.values})}catch(t){e.error("Mass Edit: Something went wrong in updating entries.",t)}if(!i){await this.saveChanges(s)}this.view.getBindingContext("internal")?.setProperty("skipPatchHandlers",false);return i};v.onApply=async function e(){if(this.fieldControls.some(e=>!e.isFieldValid())){return}if(!this.isAdaptation){s.removeBoundTransitionMessages();s.removeUnboundTransitionMessages();const e=await this.applyChanges();if(!e){this.manageMessage()}}this.onClose()};v.createContent=async function e(){const t=await this.createCustomContainer();return T(y,{children:[this.getAdaptationMessage(),_(M,{children:{layout:_(x,{labelSpanM:"12",labelSpanL:"12",labelSpanXL:"12"}),formContainers:T(y,{children:[t,_(C,{children:{formElements:this.createFormElements()}})]})}})]})};v.getAdaptationMessage=function e(){if(this.isAdaptation){return _(g,{text:this.resourceModel.getText("C_MASS_EDIT_ADAPTATION_MODE")})}return undefined};v.createCustomContainer=async function e(){const t=this.table.getParent().getTableDefinition().control.massEdit;if(t.customFragment){if(t.fromInline===true){if(typeof t.customFragment==="string"){const e=await m.process((new DOMParser).parseFromString(t.customFragment,"text/xml").firstElementChild,{models:{}},this.view.getController().getOwnerComponent().getPreprocessorContext());return await p.load({type:"XML",definition:e,controller:this.view.getController()})}else{return t.customFragment.clone()}}return await this.view.getController().getExtensionAPI().loadFragment({id:"customMassEdit",name:t.customFragment,contextPath:this.transientListBinding.getModel().getMetaModel().getMetaPath(this.transientListBinding.getResolvedPath())})}return undefined};v.createFormElements=function e(){return this.fieldProperties.map(this.createFormElement.bind(this))};v.createFormElement=function e(t){return _(E,{visible:t.visible,children:{label:_(c,{text:t.label,id:r.generate(["MED_",t.propertyInfo.key,"Label"])}),fields:this.createFields(t)}})};v.createFields=function e(t){const s=this.table.getModel().getMetaModel();const i=s.createBindingContext(s.getMetaPath(this.bindingContext.getPath()));const n=new S(t,i);this.fieldControls.push(n);return n.getControls()};return i}();P=v;return P},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/table/massEdit/MassEditDialogHelper", ["sap/base/Log","sap/base/util/deepClone","sap/fe/base/BindingToolkit","sap/fe/core/CommonUtils","sap/fe/core/controls/Any","sap/fe/core/converters/MetaModelConverter","sap/fe/core/converters/annotations/DataField","sap/fe/core/helpers/ModelHelper","sap/fe/core/helpers/ResourceModelHelper","sap/fe/core/helpers/TypeGuards","sap/fe/core/templating/DataModelPathHelper","sap/fe/core/templating/DisplayModeFormatter","sap/fe/core/templating/FieldControlHelper","sap/fe/core/templating/PropertyHelper","sap/fe/core/templating/UIFormatters","sap/fe/macros/field/FieldTemplating","sap/m/MessageBox","sap/ui/core/Component","sap/ui/core/Lib","sap/ui/mdc/enums/FieldEditMode","sap/ui/model/BindingMode","./MassEditDialog","./library","sap/fe/base/jsx-runtime/jsx"],function(e,t,i,n,s,o,a,r,l,d,c,g,p,u,f,h,y,m,x,E,T,C,M,b){"use strict";var P={};var _=M.SpecificSelectKeys;var A=h.setEditStyleProperties;var I=h.getTextBinding;var D=f.isVisible;var S=f.isMultiValueField;var F=f.getRequiredExpression;var v=f.getEditMode;var O=u.hasValueHelp;var B=u.getAssociatedUnitPropertyPath;var R=u.getAssociatedUnitProperty;var w=u.getAssociatedTextPropertyPath;var L=u.getAssociatedCurrencyPropertyPath;var V=p.isReadOnlyExpression;var N=g.getDisplayMode;var k=c.getRelativePaths;var U=c.getContextRelativeTargetObjectPath;var z=c.enhanceDataModelPath;var j=d.isProperty;var H=a.isDataFieldTypes;var G=o.getInvolvedDataModelObjects;var q=o.convertMetaModelContext;var K=i.pathInModel;var $=i.getExpressionFromAnnotation;var W=i.formatWithTypeInformation;var X=i.constant;var Y=i.compileExpression;let Q=function(){function i(e){this.maxAnalyzedRows=30;this.analyzedContexts=[];this.fieldProperties=[];const t=e.table.getParent().getTableDefinition().annotation.collection,i=e.table.getModel().getMetaModel();this.table=e.table;this.manifestSettings=this.table.getParent().getTableDefinition().control.massEdit;this.onContextMenu=e.onContextMenu;this.onDialogClose=e.onClose;this.view=n.getTargetView(this.table);this.contexts=this.fetchContextsForEdit();this.degradedMode=this.contexts.length>this.maxAnalyzedRows;this.analyzedContexts=this.degradedMode?this.contexts.slice(0,this.maxAnalyzedRows):this.contexts;this.isAdaptation=n.getAppComponent(this.table).isAdaptationMode();this.headerInfo=G(i.getContext(t)).targetEntityType.annotations.UI?.HeaderInfo}P=i;var o=i.prototype;o.open=async function t(){try{const t=m.getOwnerComponentFor(this.view);const i=this.table.getBindingContext("internal"),n=!this.onContextMenu?"numberOfSelectedContexts":"contextmenu/numberOfSelectedContexts",s=i.getProperty(n)||0;this.fieldProperties=await this.getFieldsPropertiesFromInfo(this.getFieldsInfo());if(!this.isAdaptation){if(!this.fieldProperties.some(e=>e.visible)){this.noFieldInformation();return}if(this.contexts.length!==s){this.contexts=await this.confirmSelection(this.contexts,s);if(!this.contexts.length){this.onDialogClose?.();return}}}await t.runAsOwner(async()=>{this.massEditDialog=new C({table:this.table,contexts:this.contexts,fieldProperties:this.fieldProperties});const t=await this.massEditDialog.create();t.attachBeforeClose(()=>{this.onDialogClose?.()});t.open();const i=this.massEditDialog.getRequiredDataPromise();try{await this.getDataAfterOpeningDialog(this.fieldProperties);i.resolve()}catch(t){e.error("Mass Edit: Something went wrong in mass edit dialog to get required data.",t);i.reject()}})}catch(t){e.error("Mass Edit: Something went wrong in mass edit dialog creation.",t)}};o.noFieldInformation=function e(){const t=this.table.getParent().getTableDefinition().control.massEdit.visibleFields;const i=x.getResourceBundleFor("sap.fe.macros");let n="",s;if(t.length>0){n=i.getText("C_MASS_EDIT_NO_EDITABLE_FIELDS_WITH_MANIFEST",[this.getResourceText(this.headerInfo?.TypeName)??i.getText("C_MASS_EDIT_DIALOG_DEFAULT_TYPENAME")]);s=`<ul>\n\t\t\t${this.fieldProperties.reduce((e,i)=>{if(t.includes(i.propertyInfo.relativePath)){e.push(`<li>${i.label}</li>`)}return e},[]).join("")} </ul>`}else{n=i.getText("C_MASS_EDIT_NO_EDITABLE_FIELDS_DEFAULT")}y.information(n,{details:s,onClose:()=>{this.onDialogClose?.()}})};o.confirmSelection=async function t(i,n){const s=l.getResourceModel(this.table);const o=x.getResourceBundleFor("sap.fe.core");const a=i.length;return new Promise(t=>{try{const e=this.table.getParent();const l=s.getText("C_MASS_EDIT_CONFIRM_BUTTON_TEXT"),d=o.getText("C_COMMON_OBJECT_PAGE_CANCEL"),c=this.table.getModel().getMetaModel(),g=this.getResourceText(this.headerInfo?.TypeName)??s.getText("C_MASS_EDIT_DIALOG_DEFAULT_TYPENAME"),p=this.getResourceText(this.headerInfo?.TypeNamePlural)??s.getText("C_MASS_EDIT_DIALOG_DEFAULT_TYPENAME_PLURAL"),u=r.isDraftSupported(c,this.table.data("targetCollectionPath"))&&e.readOnly?this.getMessageDetailForNonEditable(g,p):"";y.warning(s.getText("C_MASS_EDIT_CONFIRM_MESSAGE",[n-a,n,a,p]),{details:u,actions:[l,d],emphasizedAction:l,onClose:function(e){t(e===l?i:[])}})}catch(t){e.error(t)}})};o.getResourceText=function e(t){if(!t){return undefined}return n.getTranslatedTextFromExpBindingString(Y($(t)),this.view)?.toLocaleLowerCase()};o.getMessageDetailForNonEditable=function e(t,i){const n=x.getResourceBundleFor("sap.fe.macros");return`<p><strong>${n.getText("C_MASS_EDIT_CONFIRM_MESSAGE_DETAIL_HEADER")}</strong></p>\n\n\t\t\t<p>${n.getText("C_MASS_EDIT_CONFIRM_MESSAGE_DETAIL_REASON",[i])}</p>\n\n\t\t\t<ul>\n\t\t\t\t<li>${n.getText("C_MASS_EDIT_CONFIRM_MESSAGE_DETAIL_REASON_DRAFT",[t])}</li>\n\t\t\t\t<li>${n.getText("C_MASS_EDIT_CONFIRM_MESSAGE_DETAIL_REASON_NON_EDITABLE",[t])}</li>\n\t\t\t</ul>`};o.getEntityFieldsInfo=function e(){const t=this.table.getParent();const i=t.getTableDefinition().columns;const n=new Set(i.reduce((e,t)=>{if(t.type==="Annotation"){e.push(t.name)}return e},[]));return this.transformPathsToInfo(n)};o.getFieldsInfo=function e(){const t=this.manifestSettings.visibleFields.length>0?new Set(this.manifestSettings.visibleFields):new Set(this.table.getColumns().map(e=>e.getPropertyKey()));if(this.manifestSettings.ignoredFields.length>0){for(const e of this.manifestSettings.ignoredFields){t.delete(e)}}return this.transformPathsToInfo(t)};o.transformPathsToInfo=function e(t){return Array.from(t).reduce((e,t)=>{const i=this.getFieldInfo(t);if(i){e.push(i)}return e},[])};o.getFieldInfo=function e(t){const i=this.table.getParent().getTableDefinition().columns;const n=this.table.getModel().getMetaModel();const s=n.getMetaPath(this.table.data("metaPath"));const o=G(n.getContext(s));const a=i.find(e=>e.name===t&&e.type==="Annotation");if(a){const e=a.annotationPath;if(e&&t){const i=z(o,t);const s=q(n.getContext(e));const r=this.getCompliantProperty(i,s);if(r&&o.targetEntityType.entityProperties.includes(r))return{key:a.key,propertyDataModel:i,targetProperty:r,label:a.label??a.key,convertedAnnotation:s}}}return undefined};o.getCompliantProperty=function e(t,i){const n=t.targetObject;let s;if(j(n)){s=n;if(n.annotations.UI?.IsImageURL){return}}else if(H(i)&&!i.hasOwnProperty("Action")){s=i.Value.$target}else{return}const o=R(s);if(S(t)||O(s)&&s.annotations?.Common?.ValueListRelevantQualifiers||o&&O(o)&&o.annotations?.Common?.ValueListRelevantQualifiers){return}return s};o.isHiddenForContexts=function e(t){if(t==="true"){return false}else if(t==="false"){return true}const i=b(s,{anyBoolean:t});i.setModel(this.analyzedContexts[0].getModel());const n=!this.analyzedContexts.find(e=>{i.setBindingContext(e);return i.getBinding("anyBoolean").getExternalValue()});i.destroy();return n};o.fetchContextsForEdit=function e(){const t=this.table.getBindingContext("internal"),i=!this.onContextMenu?"updatableContexts":"contextmenu/updatableContexts";return t?.getProperty(i)??[]};o.getFieldProperties=function e(){return t(this.fieldProperties)};o.getFieldsPropertiesFromInfo=async function e(t){const i=[];for(const e of t){const{targetProperty:t,propertyDataModel:n,convertedAnnotation:s}=e;const o=U(n);if(o){const a=B(t)||L(t);const r=this.getInputType(s,n);if(r&&n.targetObject){const l=k(n);const d={visibilityBindings:{isVisible:Y(D(s)),editMode:v(t,n,false,false,s,X(true))},visible:true,label:e.label||t.annotations.Common?.Label||o,isFieldRequired:F(t,s,true,false,{},n),descriptionPath:w(n.targetObject),textBinding:{expression:I(n,{displayMode:N(t,n)}),type:t.type==="Edm.DateTimeOffset"||t?.annotations?.Common?.IsTimezone?"anyText":"any"},readOnlyExpression:V(t,l),inputType:r,propertyInfo:{clearable:this.isPropertyClearable(t),emptyValue:this.getEmptyValueForProperty(t,o),key:e.key,relativePath:o,unitOrCurrencyPropertyPath:a},selectItems:[]};i.push(d)}}}await this.getDataForOpeningDialog(i);await Promise.all(i.map(async e=>{e.visible=this.manifestSettings.visibleFields.length===0?this.isFieldVisible(e):true;const t=!this.isAdaptation?await this.getRuntimeSelection(e):[];e.selectItems=[...this.getDefaultSelectOptions(e),...t]}));return i};o.generateFieldsProperties=async function e(){return this.getFieldsPropertiesFromInfo(this.getFieldsInfo())};o.generateEntityFieldsProperties=async function e(){return this.getFieldsPropertiesFromInfo(this.getEntityFieldsInfo())};o.getDataAfterOpeningDialog=async function e(t){if(this.degradedMode){const e=this.contexts.slice(this.maxAnalyzedRows,this.contexts.length);const i=[].concat(...t.map(t=>[{expression:Y(t.readOnlyExpression),contexts:this.contexts},{expression:Y(K(t.propertyInfo.relativePath)),contexts:e,type:t.textBinding.type},{expression:Y(K(t.propertyInfo.unitOrCurrencyPropertyPath)),contexts:e}]));await this.getMissingData(i)}};o.getDataForOpeningDialog=async function e(t){const i=[].concat(t.reduce((e,t)=>{e=e.concat([{expression:t.textBinding.expression,type:t.textBinding.type},{expression:Y(K(t.propertyInfo.relativePath)),type:t.textBinding.type},{expression:Y(K(t.propertyInfo.unitOrCurrencyPropertyPath))}]);if(!this.manifestSettings.visibleFields.length){e=e.concat([{expression:t.visibilityBindings.isVisible},{expression:t.visibilityBindings.editMode}])}if(!this.degradedMode){e.push({expression:Y(t.readOnlyExpression)})}return e},[]));await this.getMissingData(i)};o.getMissingData=async function e(t){if(this.isAdaptation){return}if(this.view.getViewData().converterType==="ObjectPage"){const e=this.table.getColumns().map(e=>e.getPropertyKey());if(this.manifestSettings.visibleFields.every(t=>e.includes(t))){return}}const i=[];const n=[];const o=this.contexts[0].getModel();for(const e of t.filter(e=>e.expression?.startsWith("{"))){const t={};const a=e.contexts??this.analyzedContexts;const r=e.type??"any";t[r]=e.expression;for(const e of a){const a=b(s,{...t});a.setModel(o);a.setBindingContext(e);n.push(a);i.push(async()=>{const e=a.getBinding(r);if(e){e.setBindingMode(T.OneTime);if(e.isA("sap.ui.model.CompositeBinding")){await Promise.all(e.getBindings().map(e=>e.requestValue?.()))}else{await(e.requestValue?.())}}})}}await Promise.all(i.map(async e=>e()));for(const e of n){e.destroy()}};o.getEmptyValueForProperty=function e(t,i){if(t.nullable!==false){return null}else{const e=this.contexts[0];const n=b(s,{any:Y(W(t,K(i)))});n.setModel(e.getModel());n.setBindingContext(e);const o=n.getBindingInfo("any").binding.getType().parseValue("","string");n.destroy();return o}};o.isPropertyClearable=function e(t){if(t.nullable!==false){return true}else{return!["Edm.DateTime","Edm.DateTimeOffset","Edm.TimeOfDay","Edm.Time","Edm.Date","Edm.DateTimeWithTimezone"].includes(t.type)}};o.getRuntimeSelection=async function e(t){const i=new Set;const n=[];if(t.inputType==="CheckBox"){return[]}const o=b(s,{anyText:t.textBinding.expression});o.setModel(this.contexts[0].getModel());for(const e of this.analyzedContexts){o.setBindingContext(e);const s=o.getBinding("anyText");if(s?.isA("sap.ui.model.CompositeBinding")){s.setBindingMode(T.OneTime);await Promise.all(s.getBindings().map(e=>e.requestValue?.()))}const a=o.getBinding("anyText")?.getExternalValue();if(a&&!i.has(a)){i.add(a);n.push({text:a,key:a,unitOrCurrencyValue:t.propertyInfo.unitOrCurrencyPropertyPath?e.getObject(t.propertyInfo.unitOrCurrencyPropertyPath):"",propertyValue:e.getObject(t.propertyInfo.relativePath)})}}o.destroy();return n};o.getDefaultSelectOptions=function e(t){const i=x.getResourceBundleFor("sap.fe.macros");const n={text:i.getText("C_MASS_EDIT_COMBOBOX_KEEP_VALUES"),key:_.KeepKey};const s=[];s.push(n);if(t.inputType==="CheckBox"){s.push({text:i.getText("yes"),key:"true"},{text:i.getText("no"),key:"false"})}else{s.push({text:i.getText("C_MASS_EDIT_COMBOBOX_REPLACE_VALUES"),key:_.ReplaceKey});if(t.isFieldRequired!=="true"&&t.propertyInfo.clearable){s.push({text:i.getText("C_MASS_EDIT_COMBOBOX_CLEAR_VALUES"),key:_.ClearFieldValueKey})}}return s};o.getFieldEditable=function e(t){if(t===E.Editable){return true}else if(Object.keys(E).includes(t)){return false}else if(t){const e=b(s,{any:t});const i=this.analyzedContexts[0].getModel();e.setModel(i);const n=this.analyzedContexts.some(t=>{e.setBindingContext(t);return e.getBinding("any").getExternalValue()===E.Editable});e.destroy();return n}else{return true}};o.getInputType=function e(t,i){const n={};A(n,t,i,true);return n?.editStyle};o.isFieldVisible=function e(t){if(this.isAdaptation||this.manifestSettings.visibleFields.length&&this.degradedMode){const e=Object.keys(E).includes(t.visibilityBindings.editMode);const i=!e||e&&t.visibilityBindings.editMode===E.Editable;return i&&t.visibilityBindings.isVisible!=="false"}return this.getFieldEditable(t.visibilityBindings.editMode)&&!this.isHiddenForContexts(t.visibilityBindings.isVisible)};return i}();P=Q;return P},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/table/massEdit/MassEditField", ["sap/fe/base/BindingToolkit","sap/fe/core/controls/Any","sap/fe/core/helpers/StableIdHelper","sap/fe/macros/Field","sap/fe/macros/table/massEdit/library","sap/m/Select","sap/ui/core/Item","sap/ui/mdc/enums/FieldEditMode","../../field/FieldRuntimeHelper","sap/fe/base/jsx-runtime/jsx"],function(e,t,r,i,s,n,o,p,a,l){"use strict";var c={};var h=s.SpecificSelectKeys;var u=e.isConstant;var d=e.compileExpression;var y=e.compileConstant;let f=function(){function e(e,t){this.isValid=true;this.properties=e;this.context=t;this.context=t;this.select=this.createSelect();this.field=this.createField()}c=e;var s=e.prototype;s.getControls=function e(){const t=[this.select];if(this.field){t.push(this.field)}return t};s.getFieldValues=function e(){const t=this.select.getSelectedKey();const r=this.properties.selectItems.find(e=>t===e.key);const i={};let s="";let n="";const o=this.field?.getBindingContext()?.getProperty(this.properties.propertyInfo.relativePath);if(!this.select.getParent()?.getVisible()||!r){return{}}switch(r.key){case h.ClearFieldValueKey:s=this.getFormattedValue(o);break;case h.ReplaceKey:if(this.field){const e=this.properties.propertyInfo.unitOrCurrencyPropertyPath?this.field.getBindingContext()?.getProperty(this.properties.propertyInfo.unitOrCurrencyPropertyPath):undefined;const t=this.properties.selectItems.find(t=>this.properties.propertyInfo.unitOrCurrencyPropertyPath&&t.propertyValue===o&&t.unitOrCurrencyValue===e||!this.properties.propertyInfo.unitOrCurrencyPropertyPath&&t.text===o);const r=t?.propertyValue??o;const i=t?.unitOrCurrencyValue??e;if(r===null&&i===null){return{}}s=this.getFormattedValue(r);n=i}break;case h.KeepKey:return{};default:if(this.properties.inputType==="CheckBox"){s=this.getFormattedValue(r.key)}else{return{}}break}i[this.properties.propertyInfo.relativePath]=s;if(this.properties.propertyInfo.unitOrCurrencyPropertyPath){i[this.properties.propertyInfo.unitOrCurrencyPropertyPath]=n}return i};s.isReadOnlyOnContext=function e(r){const i=this.properties.readOnlyExpression;let s=false;if(u(i)){s=y(i,false,undefined,true)}else{const e=new t({anyBoolean:d(i)});e.setModel(r.getModel());e.setBindingContext(r);s=e.getBinding("anyBoolean")?.getExternalValue();e.destroy()}return s};s.getFormattedValue=function e(t){if(this.properties.inputType==="CheckBox"){return t==="true"}return t??this.properties.propertyInfo.emptyValue};s.createField=function e(){if(this.properties.inputType!=="CheckBox"){return l(i,{contextPath:this.context,metaPath:this.properties.propertyInfo.relativePath,id:r.generate(["MED_",this.properties.propertyInfo.key,"_Field"]),editMode:p.Editable,visible:false,change:this.handleFieldChange.bind(this)})}};s.handleFieldChange=function e(t){this.isValid=!!a.getFieldStateOnChange(t).state["validity"]};s.isFieldValid=function e(){return this.isValid};s.createSelect=function e(){return l(n,{id:r.generate(["MED_",this.properties.propertyInfo.key]),items:this.properties.selectItems.map(e=>l(o,{text:e.text},e.key)),required:this.properties.isFieldRequired,change:this.handleSelectionChange.bind(this),width:"100%",ariaLabelledBy:[r.generate(["MED_",this.properties.propertyInfo.key,"Label"])]})};s.handleSelectionChange=function e(){const t=this.select.getSelectedItem();if(this.field&&t){this.isValid=true;const e=this.field.getBindingContext();const r=t.getKey();let i;this.field.setVisible(![h.KeepKey,h.ClearFieldValueKey].includes(t.getKey()));if(!(r in h)){i=this.properties.selectItems.find(e=>e.key===r);this.select.setSelectedKey(h.ReplaceKey)}if(e){const t=this.properties.propertyInfo.unitOrCurrencyPropertyPath;e.setProperty(this.properties.propertyInfo.relativePath,this.properties.descriptionPath?i?.text:i?.propertyValue);if(t){e.setProperty(t,i?.unitOrCurrencyValue)}}}};return e}();c=f;return c},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/table/massEdit/MassEditSideEffects", ["sap/fe/core/CommonUtils","sap/fe/core/converters/MetaModelConverter","sap/fe/core/helpers/TypeGuards","sap/fe/core/templating/DataModelPathHelper","sap/fe/macros/table/TableHelper"],function(e,t,i,s,n){"use strict";var r={};var f=s.getTargetEntitySetInfo;var o=s.enhanceDataModelPath;var c=i.isProperty;var a=i.isNavigationProperty;var d=t.getInvolvedDataModelObjects;let g=function(){function t(t){this.immediateActionExecution=new Set;this.massEditDialog=t;this.massEditDialog=t;this.referenceRowContext=t.contexts[0];this.table=t.table;this.view=e.getTargetView(this.table);this.sideEffectsDefinition=this.generateSideEffectsDefinition()}r=t;var i=t.prototype;i.refreshDescription=async function t(i,s,n){const r=i.properties.descriptionPath;if(r&&!this.sideEffectsDefinition["genericField"]){return e.getAppComponent(this.table).getSideEffectsService().requestSideEffects(r.includes("/")?[{$NavigationPropertyPath:r.substring(0,r.lastIndexOf("/"))}]:[r],s,n)}};i.generateSideEffectsDefinition=function t(){const i=this.getSideEffectsMap();const s={};const n=this.table.getParent().getTableDefinition();const r=e.getTargetView(this.table);for(const t in i){const f=i[t];for(const i in f){const o=f[i];const c=i.split("#")[0];const a=r.getController()._sideEffects.getContextForSideEffects(this.referenceRowContext,c);if(a){const i=this.getSpecificTargetsAndActions(o.sideEffects,a,this.table.getModel().getMetaModel().getContext(n.annotation.collection),e.getAppComponent(this.table).getSideEffectsService());const r={...i,...{onRowContext:this.referenceRowContext===a}};s[t]=s[t]||[];s[t].push(r);if(!s["genericField"]&&i.tableRefresh.isRequested){s["genericField"]=[r]}}}}return s};i.getSideEffectsInformation=function e(t,i,s,r){const g=s.getModel();const l=t.targetProperties??[];const E=t.targetEntities??[];const u=!r.isControlSideEffects(t)?t.triggerAction:undefined;let h=[];const p=d(s);const m=d(g.getContext(g.getMetaPath(i.getPath())));const{parentEntitySet:y}=f(p);let S=false;let T;h=E.reduce((e,t)=>{const i=m.targetEntityType.resolvePath(t.$NavigationPropertyPath);if(a(i)){if(i.targetType==p.targetEntityType){S=true;T=t;return e}if(m.targetEntityType===y?.entityType){return e}if(i.targetType!==y?.entityType){e.push(t)}}return e},[]);for(const e of l){const t=o(m,e);if(c(t.targetObject)||e==="*"){if(y?.entityType!==t.targetEntityType){h.push(e)}}}const C=!!u&&m.targetEntityType===p.targetEntityType&&!n._isStaticAction(g.getObject(`/${u}`),u);return{immediateTargets:h,isImmediateTriggerAction:C,isRequestingTableEntityRefresh:S,tableTargetEntity:T}};i.getSpecificTargetsAndActions=function e(t,i,s,n){const r=this.getSideEffectsInformation(t,i,s,n);const f=!n.isControlSideEffects(t)?t.triggerAction:undefined;const o=[...t.targetProperties??[],...t.targetEntities??[]].filter(e=>!r.immediateTargets.includes(e)&&e!==r.tableTargetEntity);return{sideEffects:t,tableRefresh:{isRequested:r.isRequestingTableEntityRefresh,targetEntity:r.tableTargetEntity},immediate:{targets:r.isRequestingTableEntityRefresh?[]:r.immediateTargets,triggerAction:r.isImmediateTriggerAction?f:undefined},deferred:{targets:o,triggerAction:!r.isImmediateTriggerAction?f:undefined}}};i.getSideEffectsMap=function t(){const i=this.table.getModel(),s=i.getMetaModel(),n=s.getMetaPath(this.massEditDialog.bindingContext.getPath()),r=s.getContext(n);const f=d(r);const c={};const a=e.getAppComponent(this.view);const g=this.massEditDialog.fieldProperties.filter(e=>e.visible).map(e=>[e.propertyInfo.relativePath,e.propertyInfo.unitOrCurrencyPropertyPath]).flat().filter(e=>!!e);for(const e of g){const t=o(f,e);const i=a.getSideEffectsService().computeFieldGroupIds(f.targetEntityType.fullyQualifiedName,t.targetObject.fullyQualifiedName)??[];c[e]=this.view.getController()._sideEffects.getSideEffectsMapForFieldGroups(i)}return c};i.executeImmediateSideEffects=async function e(t,i,s){const n=[];const r=this.view.getController();for(const e of(this.sideEffectsDefinition[i]??[]).filter(e=>e.immediate.targets.length||e.immediate.triggerAction)){const i=e.onRowContext?t:r._sideEffects.getContextForSideEffects(t,e.sideEffects.fullyQualifiedName.split("@")[0]);if(i){const t=e.immediate.triggerAction;const f=i.getPath();n.push(r._sideEffects.requestSideEffects(e.sideEffects,i,s,()=>{let i=false;if(t){i=this.immediateActionExecution.has(`${f}_${t}`);this.immediateActionExecution.add(`${f}_${t}`)}return{targets:this.sideEffectsDefinition["genericField"]?[]:e.immediate.targets,triggerAction:t&&!i?e.immediate.triggerAction:undefined}}));r._sideEffects.unregisterFailedSideEffects(e.sideEffects.fullyQualifiedName,i)}}const f=r._sideEffects.getRegisteredFailedRequests();for(const e of[t,this.view.getBindingContext()]){if(e){const t=e.getPath();const i=f[t]??[];r._sideEffects.unregisterFailedSideEffectsForAContext(t);for(const t of i){n.push(r._sideEffects.requestSideEffects(t,e))}}}return Promise.allSettled(n)};i.executeDeferredSideEffects=function e(t){const i=this.sideEffectsDefinition["genericField"]?.[0];const s=i?.tableRefresh.targetEntity;const n=new Set;const r=this.view.getController();for(const e of Object.keys(this.sideEffectsDefinition).filter(e=>t.has(e))){for(const t of this.sideEffectsDefinition[e].filter(e=>e.deferred.targets.length||e.deferred.triggerAction)){const e=t.onRowContext?this.referenceRowContext:r._sideEffects.getContextForSideEffects(this.referenceRowContext,t.sideEffects.fullyQualifiedName.split("@")[0]);if(e&&!n.has(t.sideEffects.fullyQualifiedName)){n.add(t.sideEffects.fullyQualifiedName);r._sideEffects.requestSideEffects(t.sideEffects,e,"$auto.massEditDeferred",()=>({targets:s?t.deferred.targets.filter(e=>typeof e==="string"||e!==s):t.deferred.targets,triggerAction:t.deferred.triggerAction}))}}}if(i&&s){const e=r._sideEffects.getContextForSideEffects(this.referenceRowContext,i.sideEffects.fullyQualifiedName.split("@")[0]);if(e){r._sideEffects.requestSideEffects(i.sideEffects,e,"$auto.massEditDeferred",()=>({targets:[s],triggerAction:undefined}))}}};return t}();r=g;return r},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/table/massEdit/library", [],function(){"use strict";var e={};let l=function(e){e["KeepKey"]="KeepKey";e["ReplaceKey"]="ReplaceKey";e["ClearFieldValueKey"]="ClearFieldValueKey";return e}({});e.SpecificSelectKeys=l;return e},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/table/mixin/ColumnManagement", ["sap/fe/base/BindingToolkit","sap/fe/core/converters/MetaModelConverter","sap/fe/core/helpers/ResourceModelHelper","sap/fe/core/helpers/StandardRecommendationHelper","sap/fe/core/templating/DataFieldFormatters"],function(e,i,t,n,s){"use strict";var l={};var o=s.generateVisibleExpression;var c=n.standardRecommendationHelper;var a=t.getResourceModel;var r=i.getInvolvedDataModelObjectEntityKeys;var u=e.compileExpression;let f=function(){function e(){}l=e;var i=e.prototype;i.setupMixin=function e(i){};i.getPropertyUIHiddenCache=function e(){if(this.propertyUIHiddenCache===undefined){this.propertyUIHiddenCache={}}return this.propertyUIHiddenCache};i.getDynamicVisibilityForColumns=function e(){if(this.dynamicVisibilityForColumns===undefined){this.dynamicVisibilityForColumns=[]}return this.dynamicVisibilityForColumns};i.checkIfColumnExists=function e(i,t){return i.some(function(e){if(e?.columnName===t&&e?.sColumnNameVisible||e?.sTextArrangement!==undefined&&e?.sTextArrangement===t){return t}})};i.getTableIdentifierColumnInfo=function e(){const i=this.getContent();const t=this.getTableDefinition().headerInfoTitle;const n=i&&i.getModel()?.getMetaModel(),s=i.data("metaPath");const l=n.getObject(`${s}/$Type/$Key`);const o=[];if(l&&l.length>0){l.forEach(function(e){if(e!=="IsActiveEntity"){o.push(e)}})}const c=this.getTableDefinition().semanticKeys;const a=[];const r=[];const u=i.getColumns();u.forEach(function(e){const i=e?.getPropertyKey?.();if(i){a.push(i)}});a.forEach(function(e){const i=n.getObject(`${s}/$Type/${e}@`);const t=i&&i["@com.sap.vocabularies.Common.v1.Text"]?.$Path;const l=i&&i["@com.sap.vocabularies.Common.v1.Text@com.sap.vocabularies.UI.v1.TextArrangement"]?.$EnumMember;r.push({columnName:e,sTextArrangement:t,sColumnNameVisible:!(l==="com.sap.vocabularies.UI.v1.TextArrangementType/TextOnly")})});return{headerInfoTitlePath:t,filteredTechnicalKeys:o,semanticKeyColumns:c,aFilteredColummns:r}};i.getIdentifierColumn=function e(i){const{headerInfoTitlePath:t,filteredTechnicalKeys:n,semanticKeyColumns:s,aFilteredColummns:l}=this.getTableIdentifierColumnInfo();let o;if(i){const e=c.getCurrentRootContext();const i=r(e);if(s.length>0){o=s.filter(e=>!i.semanticKeys.includes(e))}else if(n.length>0){o=n.filter(e=>!i.technicalKeys.includes(e))}return o}if(t!==undefined&&this.checkIfColumnExists(l,t)){o=t}else if(s!==undefined&&s.length===1&&this.checkIfColumnExists(l,s[0])){o=s[0]}else if(n.length===1&&this.checkIfColumnExists(l,n[0])){o=n[0]}return o};i.computeColumnValue=function e(i,t,n,s){const l=t.getObject(i);let o;let c=l;if(n){if(i.lastIndexOf("/")>0){i=i.slice(0,i.lastIndexOf("/")+1);i=i.concat(n)}else{i=n}o=t.getObject(i);if(o){if(s){const e=s.slice(s.indexOf("/")+1);switch(e){case"TextOnly":c=o;break;case"TextFirst":c=`${o} (${l})`;break;case"TextLast":c=`${l} (${o})`;break;case"TextSeparate":c=l;break;default:}}else{c=`${o} (${l})`}}}return c};i.getTableColValue=function e(i,t,n,s){const l=a(this.getContent());let o="";const[{key:c,visibility:r}]=s;const u=this.getKeyColumnInfo(c)?.label;const f=this.computeColumnValue(c,i,t,n);o=r?`${u}: ${f}`:`${u} (${l.getText("T_COLUMN_INDICATOR_IN_TABLE_DEFINITION")}): ${f}`;return o};i.getKeyColumnInfo=function e(i){return this.getTableDefinition().columns.find(function(e){return e.key.split("::").pop()===i})};i.isColumnValueVisible=function e(i,t){let n;if(!this.getPropertyUIHiddenCache()[i]){const e=this.getDataModelAndConvertedTargetObject(i)?.dataModelPath;if(!e){return false}const s=u(o(e));n=this.createAnyControl(s,t);this.getPropertyUIHiddenCache()[i]=n;n.setBindingContext(null);this.addDependent(n)}else{n=this.getPropertyUIHiddenCache()[i]}n.setBindingContext(t);const s=n.getAny();n.setBindingContext(null);return s};i.checkColumnValueVisible=function e(i,t){const n=Array.isArray(i)?i:[i];const s=[];for(const e of n){const i=this.isColumnValueVisible(e,t);if(i==="true"||i===true){s.push(e)}}if(s.length>0){return s}};i.checkVisibility=function e(i,t){const n=t.find(e=>e.columnName===i);if(n){return{visibility:n.sColumnNameVisible}}return{visibility:false}};i.getTableColumnVisibilityInfo=function e(i){const{headerInfoTitlePath:t,filteredTechnicalKeys:n,semanticKeyColumns:s,aFilteredColummns:l}=this.getTableIdentifierColumnInfo();const o=[];if(t!==undefined&&this.checkColumnValueVisible(t,i)){const{visibility:e}=this.checkVisibility(t,l);o.push({key:t,visibility:e})}else if(s!==undefined&&s.length===1&&this.checkColumnValueVisible(s[0],i)){const{visibility:e}=this.checkVisibility(s[0],l);o.push({key:s[0],visibility:e})}else if(n.length===1&&this.checkColumnValueVisible(n[0],i)){const{visibility:e}=this.checkVisibility(n[0],l);o.push({key:n[0],visibility:e})}else if(s!==undefined&&s.length>0&&this.checkColumnValueVisible(s,i)){const e=this.checkColumnValueVisible(s,i);if(e){for(const i of e){const{visibility:e}=this.checkVisibility(i,l);o.push({key:i,visibility:e})}}}else if(n.length>0&&this.checkColumnValueVisible(n,i)){const e=this.checkColumnValueVisible(n,i);if(e){for(const i of e){const{visibility:e}=this.checkVisibility(i,l);o.push({key:i,visibility:e})}}}return o};i.modifyDynamicVisibilityForColumn=function e(i,t){const n=this.getDynamicVisibilityForColumns().find(e=>e.columnKey===i);if(n){n.visible=t}else{this.getDynamicVisibilityForColumns().push({columnKey:i,visible:t})}};i.updateColumnsVisibility=function i(t,n){e.updateColumnsVisibilityStatic(t,this.getDynamicVisibilityForColumns(),n)};e.updateColumnsVisibilityStatic=function e(i,t,n){if(!i&&!t.length){return}const s=i?i.split(",").map(e=>e.trim()):[];const l=n.columns;l.forEach(e=>{let i=s.includes(e.relativePath);if(!i&&e.propertyInfos){i=e.propertyInfos.some(e=>{const i=l.find(i=>i.name===e);return i?.relativePath&&s.includes(i.relativePath)})}if(i){e.availability="Hidden";if("sortable"in e){e.sortable=false}if("filterable"in e){e.filterable=false}if("isGroupable"in e){e.isGroupable=false}}const n=t.find(i=>i.columnKey===e.key);if(n){e.availability=n.visible?"Default":"Hidden"}})};return e}();l=f;return l},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/table/mixin/ContextMenuHandler", ["sap/fe/core/ActionRuntime","sap/fe/core/CommonUtils","sap/fe/core/converters/ManifestSettings","sap/fe/core/helpers/DeleteHelper","sap/fe/core/helpers/ModelHelper","sap/fe/core/helpers/StableIdHelper","sap/m/MenuItem","sap/ui/fl/util/ManagedObjectModel","sap/ui/performance/trace/FESRHelper","../TableRuntime"],function(t,e,n,o,i,s,a,c,r,l){"use strict";var u={};var d=s.generate;var g=n.CreationMode;let f=function(){function n(){this.contextMenuActive=false}u=n;var s=n.prototype;s.setupMixin=function t(e){};s.alignContextMenuWithTableToolbarChanges=function t(e){const n=e.getContextMenu();const o=[];const i=e.getActions();i?.forEach(t=>{const i=t.getAggregation("action");if(this._isActionSplit(i)){this._splitActionsInContextMenu(i,n)}if(this._isActionCombined(i)){this._combineActionInContextMenu(i,n,e)}const s=this._getCorrespondingContextMenuAction(i,n);if(s){this._alignTextAndVisiblityInContextMenu(i,s,t);o.push(s)}});if(o.length){o.forEach((t,e)=>{const o=n.indexOfItem(t);if(o!==e){n.removeItem(t);n.insertItem(t,e)}})}};s.hideAllContextMenuActionsExceptDelete=function t(e){const n=e.getContextMenu();const o=n.getItems();const i=e.getActions().find(t=>t.getId().endsWith("StandardAction::Delete::ActionToolbarAction"));const s=i?.getAction().getVisible()??true;o.forEach(t=>{if(t.getId().includes("StandardAction::Delete::ContextMenu")){t.setVisible(s)}else{t.setVisible(false)}})};s._isActionCombined=function t(e){if(e.getMetadata().getName()==="sap.m.MenuButton"){const t=e.getDependents();const n=t.filter(t=>t instanceof c);return n.some(t=>t.getName().includes("$sap.m.flexibility.MenuButtonModel"))}return false};s._combineActionInContextMenu=function t(e,n,o){const i=n.getItems();const s=this._findOrCreateMenuButtonInContextMenu(e,o);const a=e.getMenu().getItems();for(const t of a){const o=t;for(const t of i){const i=t.data("actionId");const a=o.data("actionId");if(i===a+"::ContextMenu"||i===a.replace("::ActionMenu","::ContextMenu")){t.setText(o.getText());n.removeItem(t);s.addItem(t)}if(t.getItems().length>0&&!t.getId().includes(e.getId())){const e=this._findActionInSubMenu(t.getItems(),o);if(e){e.setText(o.getText());s.addItem(e);if(t.getItems().length===0){t.destroy()}}}}}};s._findActionInSubMenu=function t(e,n){for(const t of e){if(t.data("actionId")===n.data("actionId").replace("::ActionMenu","::ContextMenu")||t.data("actionId")===n.data("actionId")+"::ContextMenu"){const n=t;e.splice(e.indexOf(t),1);return n}}return undefined};s._findOrCreateMenuButtonInContextMenu=function t(e,n){const o=n.getContextMenu();const i=o.getItems();for(const t of i){if(t.getId().includes(e.getId())){return t}}const s=new a({id:d([n.getId(),e.getId(),"::ContextMenu"]),text:e.getText()});o.addItem(s);return s};s._splitActionsInContextMenu=function t(e,n){const o=n.getItems();for(let t=0;t<o.length;t++){if(o[t].getItems().length>0){if(o[t].getItems().some(t=>t.data("actionId")===e.data("actionId").replace("::ActionMenu","::ContextMenu"))){const e=o[t];const i=e.getItems();n.removeItem(e);i.forEach((e,o)=>{n.insertItem(e,t+o)})}}}};s._getCorrespondingContextMenuAction=function t(e,n){const o=n.getItems();for(const t of o){if(e.getId()+"::ContextMenu"===t.getId()||t.data("actionId")===e.data("actionId")?.replace("::ActionMenu","::ContextMenu")){return t}if(t.getId().includes(e.getId())){return t}}return null};s._alignTextAndVisiblityInContextMenu=function t(e,n,o){n.setText(e.getText());const i=e.getVisible()&&o.getVisible();if(i!==n.getVisible()){n.setVisible(i)}};s._isActionSplit=function t(e){if(e.getMetadata().getName()==="sap.m.MenuButton"){return false}const n=e.getDependents();const o=n.filter(t=>t instanceof c);return o.some(t=>t.getName()==="$sap.m.flexibility.SplitButtonsModel")};s.setContextMenuActive=function t(e){this.contextMenuActive=e};s.isContextMenuActive=function t(){return this.contextMenuActive};s.setCollaborationManagerMenuItemVisibility=function t(n,o){const s=n.getContextMenu();const a=s.getItems();const c=a?.find(t=>t.getId().includes("ContextMenu::CollaborationManager"));if(c){const t=e.getAppComponent(n);const s=t?.getCollaborativeToolsService();const a=s?.collaborationService.cmHelperService?.getOptions();const l=n?.getParent()?.getTableDefinition();const u=l?.annotation?.row?.navigationInfo?.type;if(a&&u==="Navigation"&&o.length>0){const t=e.getTargetView(n);const s=t.getController().collaborativeDraft;const a=o[0].getModel()?.getMetaModel();const l=i.isDraftSupported(a,o[0].getPath());const u=s.isCollaborationEnabled()||!l?true:o.some(t=>t.getObject().IsActiveEntity||t.getObject().HasActiveEntity);c.setVisible(u);r.setSemanticStepname(c,"press","CM:ShareLink")}else{c.setVisible(false)}}};s._onContextMenuPress=function e(n){const i=n.getSource(),s=i.getSelectedContexts(),a=n.getParameter("bindingContext"),c=this.getBindingContext("internal");const r=this.getRelevantSelection(s,a);let u=true;u=r.some(t=>!t.isInactive());c?.setProperty("contextmenu/inactiveContext",!u);const d=r.filter(function(t){return!t.isInactive()});const f=r.length>0&&d.length===0;const p=i.getParent()?.getCreationMode().getName()===g.InlineCreationRows;const m=this.getTableDefinition();const x=r.filter(function(t){return!t.isInactive()&&t.getModel()?.getLocalAnnotationModel().getProperty("@$ui5.fe.virtual.routeNavigable-"+m.annotation.row?.navigationInfo?.routePath,t)!==false});c?.setProperty("contextmenu/selectedContextsIncludingInactive",r);c?.setProperty("contextmenu/selectedContexts",d);c?.setProperty("contextmenu/navigableContexts",x);c?.setProperty("contextmenu/numberOfSelectedContexts",-1);c?.setProperty("contextmenu/numberOfNavigableContexts",x.length);c?.setProperty("contextmenu/numberOfSelectedContexts",d.length);c?.setProperty("contextmenu/numberOfSelectedContextsForDelete",r.length);if(d.length>0){this.alignContextMenuWithTableToolbarChanges(i)}else if(f&&p){this.hideAllContextMenuActionsExceptDelete(i)}this.setCollaborationManagerMenuItemVisibility(i,d);const M=i.getContextMenu();const I=M.getItems();const C=I.filter(t=>t.getVisible());if(C.length===0){n.preventDefault()}const b=r.some(t=>t.isExpanded()!==undefined);const h=r.some(t=>t.isExpanded());c?.setProperty("contextmenu/isExpandable",b);c?.setProperty("contextmenu/isCollapsable",h);c?.setProperty("controlId",i.getId());o.updateDeleteInfoForSelectedContexts(c,r,true);if(!i.data("enableAnalytics")){const t=i?.data("navigationAvailableMap");l.setIntentBasedNavigationEnablement(c,t,d,true)}const A=i?.data("updatablePropertyPath");const v=i?.data("draft");const y=i.data("displayModePropertyBinding")==="true"&&v!=="undefined";const S=[];for(const t of d){if(l.isUpdatableContext(A,t,y)){S.push(t)}}c?.setProperty("contextmenu/updatableContexts",S);if(m.control.createEnablement&&r.length===1){l._updateCreateEnablement(c,m.control.createEnablement,i,r[0],m.control.nodeType,true)}l.updateCutCopyPasteEnablement(c.getObject(),i,true);l.updateMoveUpDownEnablement(c.getObject(),i,true);t.setActionEnablement(c,JSON.parse(m.operationAvailableMap),d,"table",true)};s.getRelevantSelection=function t(e,n){let o;if(e.includes(n)){o=e}else{o=[n]}return o};return n}();u=f;return u},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/table/mixin/EmptyRowsHandler", ["sap/base/Log","sap/fe/core/CommonUtils","sap/fe/core/controllerextensions/collaboration/CollaborationCommon","sap/fe/core/controllerextensions/editFlow/TransactionHelper","sap/fe/core/converters/ManifestSettings","sap/fe/core/converters/MetaModelConverter","sap/ui/core/Lib","sap/ui/core/Messaging","sap/ui/core/message/Message","sap/ui/core/message/MessageType"],function(e,t,n,i,o,s,a,r,c,l){"use strict";var g={};var d=s.getInvolvedDataModelObjects;var f=o.CreationMode;var u=n.Activity;let h=function(){function n(){}g=n;var o=n.prototype;o.setupMixin=function e(t){};o._onFieldLiveChange=function e(t){const n=t.getSource(),i=n.getBindingContext(),o=i.getBinding();if(i.isInactive()){const e=this?.getContent();this?.createEmptyRows(o,e,true)}};o._handleCreateActivate=async function n(i){const o=i.getParameter("context");this.createEmptyRows(i.getSource(),this.getContent(),true);if(!this.validateEmptyRow(o)){i.preventDefault();return}try{const n=o.getPath(),i=t.getTargetView(this),s=i.getController(),a=s.editFlow;try{await(o.created()??Promise.resolve());await a.onAfterCreate({context:o})}catch(t){e.warning(`Failed to activate context ${o.getPath()}`);return}const r=o.getPath();const c=i.getController().collaborativeDraft;c.send({action:u.Create,content:r});c.updateLocksForContextPath(n,o.getPath())}catch(t){e.error("Failed to activate new row -",t)}};o.getDefaultValuesFunction=function e(t){const n=t.getModel();const i=n.getMetaModel();const o=i.getMetaContext(t.getResolvedPath());const s=d(o);const a=s.targetObject.annotations.Common?.DefaultValuesFunction;const r=s.targetEntitySet?.annotations.Common?.DefaultValuesFunction;return a??r};o.setEmptyRowsEnabled=function n(i){this.setProperty("emptyRowsEnabled",i);const o=this.getContent().data().navigationPath,s=t.getAppComponent(this.getContent());if(i){const e=this.getContent().getRowBinding();const t=e?.getResolvedPath()?this.getDefaultValuesFunction(e):undefined;if(t){s.getSideEffectsService().registerTargetCallback(o,this.updateEmptyRows.bind(this))}}else{s.getSideEffectsService().deregisterTargetCallback(o)}if(this.tableDefaultsPromise){this.tableDefaultsPromise.then(e=>{this.setUpEmptyRows(this.getContent(),false,e);return e}).catch(t=>{e.error("Error while setting up empty rows:",t)})}else{this.setUpEmptyRows(this.getContent())}};o.updateEmptyRows=async function e(){const t=this.getContent();const n=t.getRowBinding();const i=n.getHeaderContext();if(n&&n.isResolved()&&n.isLengthFinal()&&i){const e=i.getPath();this._deleteEmptyRows(n,e);await this.createEmptyRows(n,t)}return};o._validateAndRetrieveBinding=async function e(t){if(this.getTableDefinition().control?.creationMode!==f.InlineCreationRows){return undefined}const n=t.getModel("ui");if(!n){return undefined}if(n.getProperty("/isEditablePending")){const e=n.bindProperty("/isEditablePending");await new Promise(t=>{const n=()=>{e.detachChange(n);e.destroy();t()};e.attachChange(n)})}const i=t.getRowBinding();if(!i){return undefined}return i};o.getTableDefaults=async function e(n){const o=await this._validateAndRetrieveBinding(n);if(!o)return undefined;const s=t.getAppComponent(t.getTargetView(n));return s?i.getDataFromDefaultValueFunction(o,s):undefined};o.setUpEmptyRows=async function e(n){let i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;let o=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};const s=await this._validateAndRetrieveBinding(n);if(!s){return}const a=s.getHeaderContext();if(s&&s.isResolved()&&s.isLengthFinal()&&a){const e=a.getPath();if(!this.emptyRowsEnabled){this.removeEmptyRowsMessages();return this._deleteEmptyRows(s,e)}if(!t.getIsEditable(n)){return}if(this.getTableDefinition().control?.inlineCreationRowsHiddenInEditMode&&!n.getBindingContext("pageInternal")?.getProperty("createMode")&&!i){return}const r=s.getAllCurrentContexts().find(function(t){return t.isInactive()&&t.getPath().startsWith(e)});if(!r){this.removeEmptyRowsMessages();await this.createEmptyRows(s,n,false,undefined,false,o)}}};o._deleteEmptyRows=function e(t,n){for(const e of t.getAllCurrentContexts()){if(e.isInactive()&&e.getPath().startsWith(n)){e.delete()}}};o.getInactiveContextNumber=function e(t){return t.getAllCurrentContexts().filter(e=>e.isInactive()).length};o.validateEmptyRow=function e(t){const n=this.getTableDefinition().annotation.requiredProperties;if(n?.length){this.removeEmptyRowsMessages(t);const e=n.filter(e=>!t.getObject(e));if(e.length){const n=a.getResourceBundleFor("sap.fe.macros");const i=[];let o;for(const s of e){let e;const a=this.getTableDefinition().columns.find(e=>e.relativePath===s||e.propertyInfos&&e.propertyInfos.includes(s));if(!a){e=n.getText("M_TABLE_EMPTYROW_MANDATORY",[s])}else{o=this.getContent().getColumns().find(e=>e.getPropertyKey()===a.name);e=n.getText(o?"M_TABLE_EMPTYROW_MANDATORY":"M_TABLE_EMPTYROW_MANDATORY_HIDDEN",[o?.getHeader()||a.label])}i.push(new c({message:e,processor:this.getModel(),type:l.Error,technical:false,persistent:true,technicalDetails:{tableId:this.getContent().getId(),emptyRowMessage:true,missingColumn:o?undefined:s},target:`${t?.getPath()}/${s}`}))}r.addMessages(i);return false}}return true};o.removeEmptyRowsMessages=function e(t){r.removeMessages(r.getMessageModel().getData().filter(e=>{const n=e.getTechnicalDetails()||{};const i=Array.isArray(t)?t.some(t=>e.getTargets().some(e=>e.startsWith(t.getPath()))):!t||e.getTargets().some(e=>e.startsWith(t.getPath()));return i&&n.emptyRowMessage&&n.tableId===this.getContent().getId()}))};o.createEmptyRows=async function n(i,o){let s=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;let a=arguments.length>3?arguments[3]:undefined;let r=arguments.length>4&&arguments[4]!==undefined?arguments[4]:false;let c=arguments.length>5?arguments[5]:undefined;const l=a??(this.getTableDefinition().control?.inlineCreationRowCount||1);if(this.creatingEmptyRows||this.getInactiveContextNumber(i)>l){return}const g=Array.from({length:l},()=>({})),d=o.data("tableType")!=="ResponsiveTable",f=true,u=t.getTargetView(o),h=u.getController(),p=h.editFlow,m=t.getAppComponent(o);this.creatingEmptyRows=true;try{const e=s?[{}]:g;const t=await p.createMultipleDocuments(i,e,s||r?true:d,false,h.editFlow.onBeforeCreate,f,undefined,c);m.getSideEffectsService().requestSideEffectsForNavigationProperty(i.getPath(),u.getBindingContext());t?.forEach(async function(e){try{await e.created()}catch(e){if(!e.canceled){throw e}}});return t}catch(t){e.error(t)}finally{this.creatingEmptyRows=false}};return n}();g=h;return g},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/table/mixin/TableAPIStateHandler", ["sap/base/Log","sap/fe/core/CommonUtils","sap/fe/core/controllerextensions/viewState/IViewStateContributorMixin","sap/ui/mdc/p13n/StateUtil"],function(t,e,a,n){"use strict";function i(t){return new Promise((e,a)=>{sap.ui.require([t],a=>{if(!(a&&a.__esModule)){a=a===null||!(typeof a==="object"&&t.endsWith("/library"))?{default:a}:a;Object.defineProperty(a,"__esModule",{value:true})}e(a)},t=>{a(t)})})}var r={};function o(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,s(t,e)}function s(t,e){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},s(t,e)}let l=function(a){function s(){return a.apply(this,arguments)||this}r=s;o(s,a);var l=s.prototype;l.retrieveState=async function t(){const e={};e.innerTable=this.getControlState(await n.retrieveExternalState(this.content));const a=this.getQuickFilter();if(a){const t=a.getSelectedKey();if(!e.quickFilter){e.quickFilter={}}e.quickFilter.selectedKey=t}const i=this.content.getVariant()?.getId();if(i){const t=this.content.getVariant();if(!e.variantManagement){e.variantManagement={variantId:t?.getCurrentVariantKey()}}else{e.variantManagement.variantId=t?.getCurrentVariantKey()}}return e};l.setInitialState=async function e(){try{const t=await n.retrieveExternalState(this.content);this.initialControlState=t}catch(e){t.error(e)}};l.applyLegacyState=async function t(e,a,n){const i=this.content;const r=i.getVariant();const o=this.getQuickFilter();const s=e(i);const l=r?e(r):null;const c=o?.content?e(o.content):null;const u={};if(s){u.innerTable={...u.innerTable,...s,fullState:{...u.innerTable?.fullState,...s.fullState},initialState:{...u.innerTable?.initialState,...s.initialState}}}if(l?.variantId){u.variantManagement={...u.variantManagement,variantId:l.variantId.toString()}}if(c?.selectedKey){u.quickFilter={...u.quickFilter,selectedKey:c.selectedKey.toString()}}if(u&&Object.keys(u).length>0){await this.applyState(u,a,n)}};l.handleVariantIdPassedViaURLParams=async function t(){const a=this.getStartupParameters();const n=a["sap-ui-fe-table-variant-id"]?.[0];const r=e.getTargetView(this);const o=r.getViewData();const s=o.variantManagement;const l=this.content.getVariant();if(l&&n&&s==="Control"){const t=l.getVariants().find(t=>t.getKey()===n);const e=(await i("sap/ui/fl/apply/api/ControlVariantApplyAPI")).default;return e.activateVariant({element:l,variantReference:t.getKey()})}};l.getStartupParameters=function t(){const e=this.getPageController();const a=e.getAppComponent();const n=a.getComponentData();return n.startupParameters};l.applyNavigationParameters=async function e(a){try{if(a.applyVariantFromURLParams??false){await this.handleVariantIdPassedViaURLParams()}}catch(e){t.error(`Error tying to apply navigation parameters to ${this.getMetadata().getName()}} control with ID: ${this.getId()}`,e)}return Promise.resolve()};l.applyState=async function e(a,r,o){if(!a)return;await this.content.initialized();const s=a?.innerTable;const l=a?.variantManagement?.variantId;const c=this.content?.getVariant();const u=a?.quickFilter?.selectedKey;const f=this.getQuickFilter();if(l!==undefined&&l!==c.getCurrentVariantKey()){const e=this.content?.getVariant();const a=e?.getVariants();const n=a?.some(t=>t.getKey()===l)?l:e?.getStandardVariantKey;try{const t=(await i("sap/ui/fl/apply/api/ControlVariantApplyAPI")).default;await t.activateVariant({element:e,variantReference:n});await this.setInitialState()}catch(e){t.error(e);await this.setInitialState()}}else{await this.setInitialState()}let p;if(s){if(o&&s.initialState){if(!s.initialState.supplementaryConfig){s.initialState.supplementaryConfig={}}p=await n.diffState(this.content,s.initialState,s.fullState)}else{if(a&&!a?.supplementaryConfig){a.supplementaryConfig={}}p=s.fullState}await n.applyExternalState(this.content,p)}if(u&&u!==f?.getSelectedKey()){f?.setSelectedKey(u);this.onQuickFilterSelectionChange()}if(this.initialLoad&&this.filterBar){const e=this.getFilterBarControl(this.filterBar);if(e&&e.isA("sap.fe.macros.filterBar.FilterBarAPI")){e.waitForInitialState().then(()=>{this.content.rebind();return}).catch(()=>{t.error("Error while waiting for initial state of filter bar")})}}};return s}(a);r=l;return r},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/table/mixin/TableExport", ["sap/base/Log","sap/fe/core/helpers/ResourceModelHelper","sap/ui/core/Lib"],function(e,t,o){"use strict";var r={};var n=t.getLocalizedText;let i=function(){function t(){}r=t;var i=t.prototype;i.setupMixin=function e(t){};i.setTableBindingInfo=function e(t){this.tableBindingInfo=t};i.setDownloadUrl=async function t(){this.downloadUrl=undefined;if(this.getTableDefinition().enableAnalytics===true){return}let o;const r=this.getContent();try{const e=r.getPropertyHelper();let t=[];for(const o of r.getColumns()){t=t.concat(e.getColumnExportSettings(o))}const n={};const i=this.getDataModelObjectForMetaPath(this.metaPath,this.contextPath)?.targetEntityType.keys.map(e=>e.name);const a=t.map(e=>Array.isArray(e.property)?e.property.join(","):e.property);i?.forEach(e=>{if(!a.includes(e)){a.push(e)}});const s=Object.keys(this.getTableDefinition().requestAtLeast);s?.forEach(e=>{if(!a.includes(e)){a.push(e)}});n["$select"]=a.join(",");if(this.tableBindingInfo?.parameters?.$search){n.$search=this.tableBindingInfo.parameters.$search}if(this.tableBindingInfo?.parameters?.$$aggregation){n.$$aggregation=this.tableBindingInfo.parameters.$$aggregation}const l=r.getRowBinding();const p=l.getModel().bindList(l.getPath(),l.getContext(),this.tableBindingInfo?.sorter,this.tableBindingInfo?.filters,n);o=await p.requestDownloadUrl();p.destroy()}catch(t){e.debug("Error while computing the download URL for the export",t)}if(o){this.downloadUrl=o}};i._onBeforeExport=function e(o){const r=o.getParameter("userExportSettings")?.splitCells===true;const n=o.getSource(),i=o.getParameter("exportSettings"),a=this.getTableDefinition();t.updateExportSettings(i,a,n,r)};t.updateExportSettings=function e(t,r,i,a){const s=r.columns;this.setStaticSizeLimit(r,t);const l=t.workbook.columns;for(let e=l.length-1;e>=0;e--){const t=l[e];const r=o.getResourceBundleFor("sap.fe.macros");t.label=n(t.label,i);this.translateBooleanValueForExport(t,r);if(a){this.setExportConfig(s,l,e);this.addTargetValueColumn(s,l,r,e)}if(t.valueMap&&typeof t.valueMap==="string"){t.valueMap=JSON.parse(t.valueMap)}}const p=i.getParent().downloadUrl;if(p){t.dataSource.dataUrl=p}this.setFileAndSheetName(t,r);return t};t.setFileAndSheetName=function e(t,o){if(o.control.exportFileName){t.fileName=o.control.exportFileName}if(o.control.exportSheetName&&t.workbook.context){t.workbook.context.sheetName=o.control.exportSheetName}};t.setStaticSizeLimit=function e(t,o){if(!t.enableAnalytics&&(t.control.type==="ResponsiveTable"||t.control.type==="GridTable")){o.dataSource.sizeLimit=t.control.exportRequestSize??1e3}else if(t.control.exportRequestSize){o.dataSource.sizeLimit=t.control.exportRequestSize}};t.translateBooleanValueForExport=function e(t,o){if(t.type==="Boolean"&&!(t.trueValue||t.falseValue)){t.falseValue=o.getText("no");t.trueValue=o.getText("yes")}};t.setExportConfig=function e(t,o,r){const n=t.find(e=>!e.propertyInfos&&e.relativePath===o[r].property.toString());if(n?.exportSettings){const e=["scale","delimiter","format","utc","type","inputFormat"];for(const t of e){if(n.exportSettings[t]){o[r]={...o[r],...{[t]:n.exportSettings[t]}};if(o[r].type==="Currency"){o[r].type="Number"}}}}};t.addTargetValueColumn=function e(t,o,r,n){const i=t?.find(e=>{if(!this.isPropertyFromExport(e,o[n])){return false}return this.columnWithTargetValueToBeAdded(e,o[n])});if(i){const e={label:r.getText("TargetValue"),property:Array.isArray(o[n].property)?o[n].property:[o[n].property],template:i.exportDataPointTargetValue};o.splice(n+1,0,e)}};t.isPropertyFromExport=function e(t,o){if(t.relativePath===o.property||o.property.includes(t.relativePath)||o.property.includes(t.name)){return true}if(t.propertyInfos?.length===1&&o.property[0]===t.propertyInfos[0]){return true}return false};t.columnWithTargetValueToBeAdded=function e(t,o){let r=false;if(t.exportDataPointTargetValue&&t.propertyInfos?.length===1){delete o.template;r=true}return r};return t}();r=i;return r},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/table/mixin/TableHierarchy", ["sap/base/Log","sap/fe/core/CommonUtils","sap/fe/core/controllerextensions/BusyLocker","sap/fe/core/converters/MetaModelConverter","sap/fe/core/helpers/FPMHelper","sap/fe/core/helpers/ResourceModelHelper","sap/m/MessageToast","../TableRuntime"],function(e,t,n,o,r,i,s,a){"use strict";var l={};var c=function(e){e["On"]="On";e["Between"]="Between";e["OnOrBetween"]="OnOrBetween";return e}(c||{});let f=function(){function f(){}l=f;var u=f.prototype;u.setupMixin=function e(t){};u._onCopyCut=function t(n,o,r){let l;if(!o){l=n.getSource().getParent()}else{const e=n.getSource().getParent();l=e.getParent()?.getParent()}const c=l.getBindingContext("internal");const f=this.getSelectedContexts();if(f.length>1){e.error(`Multi ${r==="Cut"?"cutting":"copying"} is not supported`);return}c.setProperty("nodeUpdatesInfo/pastableContexts",f);c.setProperty("nodeUpdatesInfo/lastAction",r);s.show(i.getResourceModel(l).getText("M_CUTCOPY_READY"));if(!o||c.getProperty("numberOfSelectedContexts")>0){a.clearSelection(l);l.fireSelectionChange()}else if(o){l.fireSelectionChange()}c.setProperty("nodeUpdatesInfo/cutEnablement",false);c.setProperty("contextmenu/nodeUpdatesInfo/cutEnablement",false);c.setProperty("nodeUpdatesInfo/copyEnablement",false);c.setProperty("contextmenu/nodeUpdatesInfo/copyEnablement",false);const u=l.getActions().find(e=>/::Paste$/.test(e.getAction().getId()));setTimeout(()=>{u?.focus()},0)};u._onDragEnterDocument=function e(t){const n=t.getParameter("dragSource");if(this.getContent().getRowBinding()!==n.getBinding()){t.preventDefault();return}const o=t.getParameter("bindingContext");if(n.isAncestorOf(o)){t.preventDefault();return}let i=false;let s=false;const a=this.getTableDefinition();const l=a.control.isMoveToPositionAllowed;const f=l?r.getCustomFunction(l.moduleName,l.methodName,t.getSource().getParent()):undefined;if(o===this.getContent().getBindingContext()){s=!this.safeIsMoveAllowed(f,n,null);i=true}else{s=!this.safeIsMoveAllowed(f,n,o);i=a.annotation.allowDropBetweenNodes!==true;if(Math.abs(o.getIndex()-n.getIndex())===1&&!(o.getIndex()===0&&t.getParameter("dropPosition")==="Before")&&!(o.getIndex()===this.getContent().getRowBinding().getLength()-1&&t.getParameter("dropPosition")==="After")){i=true}if(!i&&!a.annotation.changeSiblingForRootsSupported&&o.getProperty("@$ui5.node.level")===1){i=true}if(f&&!i){i=!this.isDropBetweenAllowedForDrag(f,n,o)}}let u=c.OnOrBetween;if(i&&s){t.preventDefault();return}if(i){u=c.On}else if(s){u=c.Between}t.getSource().setDropPosition(u)};u._onDragStartDocument=function e(t){const n=t.getParameter("bindingContext");const o=this.getTableDefinition().annotation.updatablePropertyPath;let i=!!o&&!n.getProperty(o);if(!i&&!n.getBinding().isRelative()){i=n.getProperty("HasDraftEntity")===true}const s=this.getTableDefinition().control.isNodeMovable;try{if(s&&!i){i=r.getCustomFunction(s.moduleName,s.methodName,t.getSource())(n)===false}}catch(e){i=false}if(i){t.preventDefault()}};u._onDropDocument=async function t(o){n.lock(this.getContent());try{const e=o.getParameter("bindingContext");let t;if(e===this.getContent().getBindingContext()){t={position:c.On,parentContext:null}}else if(o.getParameter("dropPosition")===c.On){t={position:c.On,parentContext:e}}else{let n;let r;if(o.getParameter("dropPosition")==="After"){n=e;r=this.getContextAfter(e)}else{n=this.getContextBefore(e);r=e}t={position:c.Between,contextAfter:r,contextBefore:n}}const n=o.getParameter("dragSource");await Promise.all([this.dropContext(n,t),this.requestSideEffectsForChangeNextSiblingAction(n)])}catch(t){s.show(this.getTranslatedText("M_TABLEDROP_FAILED",[""]));e.error("The operation is unsuccessful. "+t.message??"")}finally{n.unlock(this.getContent())}};u._onCollapseExpandNode=async function e(t,n){const o=this.getSelectedContexts();if(n){const e=o.map(async e=>{if(e.isExpanded()!==undefined){if(e.isExpanded()===true){await e.collapse()}return e.expand(Number.MAX_SAFE_INTEGER)}});await Promise.all(e)}else{await Promise.all(o.map(async e=>{if(e.isExpanded()===true){return e.collapse(true)}}))}};u._onMoveUpDown=async function e(t,n){let o=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;const r=this.getSelectedContexts();if(r.length!==1){return}const i=this.getContent();i.setBusy(true);const s=r[0];const a=await s.requestParent();let l=false;let c=null;if(n){const e=await s.requestSibling(-1);if(e){c=s.move({nextSibling:e,parent:a});l=true}}else{const e=await s.requestSibling(1);if(e){c=e.move({nextSibling:s,parent:a});l=true}}await Promise.all([c,this.requestSideEffectsForChangeNextSiblingAction(s)]);const f=s.getIndex();if(l&&f!==undefined&&f>=0){if(!o){i.scrollToIndex(f)}else{i.focusRow(f)}}i.setBusy(false)};u.requestSideEffectsForChangeNextSiblingAction=async function e(t){return this._requestSideEffectsForHierarchyActions(t,"ChangeNextSiblingAction")};u.requestSideEffectsForCopyAction=async function e(t){return this._requestSideEffectsForHierarchyActions(t,"CopyAction")};u._requestSideEffectsForHierarchyActions=async function e(n,r){const i=this.getContent().data("metaPath");const s=n.getModel().getMetaModel();const a=s.getContext(i);const l=o.convertMetaModelContext(a);const c=l.targetType??l.entityType;const f=c.annotations.Hierarchy?.[`RecursiveHierarchyActions#${this.getTableDefinition().control.hierarchyQualifier??""}`]?.[r];if(f){const e=t.getAppComponent(this.getContent());const o=e.getSideEffectsService();const r=o.getODataActionSideEffects(f,n);if(r){await o.requestSideEffectsForODataAction(r,n)}}};u.safeIsMoveAllowed=function t(n,o,r){if(!n){return true}let i=true;try{i=n(o,r)===true}catch(t){e.error("Cannot execute function related to isMoveToPositionAllowed",t);i=true}return i};u.isDropBetweenAllowedForDrag=function e(t,n,o){let r=true;const i=this.getContextBefore(o);const s=i===null?null:i.getParent();const a=this.getDropBetweenParameters(i,s,o,o.getParent());const l=this.getContextAfter(o);const c=l===null?null:l.getParent();const f=this.getDropBetweenParameters(o,o.getParent(),l,c);if(a!==undefined&&f!==undefined){if(a.parent===f.parent){r=this.safeIsMoveAllowed(t,n,a.parent)}else{r=this.safeIsMoveAllowed(t,n,a.parent)||this.safeIsMoveAllowed(t,n,f.parent)}}return r};u.getContextBefore=function e(t){const n=t.getIndex();if(n===undefined){throw new Error("Unexpected error")}const o=t.getBinding();return n===0?null:o.getAllCurrentContexts().find(e=>e.getIndex()===n-1)??null};u.getContextAfter=function e(t){const n=t.getIndex();if(n===undefined){throw new Error("Unexpected error")}const o=t.getBinding();return o.getAllCurrentContexts().find(e=>e.getIndex()===n+1)??null};u.getDropBetweenParameters=function e(t,n,o,r){if(t===null){return{parent:null,nextSibling:o}}else if(o===null){return n!==undefined?{parent:n,nextSibling:null}:undefined}else if(r===t){return{parent:t,nextSibling:o}}else if(n===undefined||r===undefined){return undefined}else if(n===r){return{parent:n,nextSibling:o}}else{return{parent:n,nextSibling:null}}};u.dropContext=async function e(t,n){const o=this.getTableDefinition().control.isMoveToPositionAllowed;const i=o?r.getCustomFunction(o.moduleName,o.methodName,this.getContent()):undefined;const a=this.getContent();a.setBusy(true);const l=a.getBindingContext("internal");const f=l.getProperty("isSorted")===true;const u=async(e,n)=>{if(this.safeIsMoveAllowed(i,t,e)){return t.move({parent:e,nextSibling:f?undefined:n})}else{s.show(this.getTranslatedText("M_TABLE_DROP_NOT_ALLOWED"))}};if(n.position===c.On){return u(n.parentContext).finally(()=>a.setBusy(false))}else{const[e,t]=await Promise.all([n.contextBefore?.requestParent()??null,n.contextAfter?.requestParent()??null]);const o=this.getDropBetweenParameters(n.contextBefore,e,n.contextAfter,t);return u(o.parent,o.nextSibling).finally(()=>a.setBusy(false))}};return f}();l=f;return l},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/table/mixin/TableOptimisticBatch", ["sap/base/Log","sap/fe/macros/table/delegates/TableDelegate","sap/ui/core/Element"],function(t,e,i){"use strict";var n={};let s=function(){function s(){}n=s;var a=s.prototype;a.setupMixin=function t(e){};a.enableOptimisticBatchMode=function i(){try{const t=this.getPageController();e.setOptimisticBatchPromiseForModel(t,this);e.enableOptimisticBatchMode(t,this.getContent())}catch(e){t.warning(e)}};a.setupOptimisticBatch=async function t(){const e=this.getContent();const n=this.getPageController();if(!e||!n){return}const s=i.getElementById(e?.getFilter());const a=n.getView().getViewData()?.hideFilterBar!==true?s?.getParent():null;const c=n.extension;a?.attachEvent("search",()=>{const t=e.getBindingContext("internal");t?.setProperty("searchFired",true)});if(s&&n.isA("sap.fe.templates.ListReport.ListReportController")&&(c===undefined||this.getTableDefinition().control?.disableRequestCache===false)){if(a){a.attachEventOnce("search",this.enableOptimisticBatchMode,this);await n.pageReady.waitPageReady();a.detachEvent("search",this.enableOptimisticBatchMode,this)}else{this.enableOptimisticBatchMode()}}};a.setOptimisticBatchEnablerPromise=function t(e){this.optimisticBatchEnablerPromise=e};a.getOptimisticBatchEnablerPromise=function t(){return this.optimisticBatchEnablerPromise};a.isOptimisticBatchDisabled=function t(){return this.getTableDefinition().control.disableRequestCache||false};return s}();n=s;return n},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/table/mixin/TableSharing", ["sap/base/Log","sap/fe/base/HookSupport","sap/fe/core/CommonUtils","sap/fe/core/controllerextensions/editFlow/draft","sap/fe/core/helpers/ModelHelper","sap/fe/core/helpers/ResourceModelHelper","sap/fe/macros/insights/CommonInsightsHelper","sap/fe/macros/insights/InsightsService","sap/fe/macros/insights/TableInsightsHelper","sap/fe/macros/table/Utils","sap/m/MessageBox","sap/ui/core/Element","sap/ui/core/Lib","sap/ui/core/routing/HashChanger","sap/ui/model/Filter","../../filterBar/SemanticDateOperators"],function(e,t,n,o,r,i,a,s,l,c,g,u,f,d,h,p){"use strict";var C,b;var m={};var v=a.showGenericErrorMessage;var A=a.hasInsightActionEnabled;var w=t.controllerExtensionHandler;function E(e,t,n,o,r){var i={};return Object.keys(o).forEach(function(e){i[e]=o[e]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(n,o){return o(e,t,n)||n},i),r&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(r):void 0,i.initializer=void 0),void 0===i.initializer?(Object.defineProperty(e,t,i),null):i}let M=(C=w("collaborationManager","collectAvailableCards"),b=function(){function t(){}m=t;var a=t.prototype;a.setupMixin=function e(t){};a._onShareToCollaborationManagerPress=function e(t,n,o){if(n.length<=o){n.forEach(async e=>{const n=await this.getUrlForCollaborationManager(e);if(this.isTableRowNavigationPossible(e)&&n){const e=t.getAppComponent();const o=e.getManifestEntry("sap.app").title;const r=e?.getCollaborativeToolsService();const i=r?.collaborationService.cmHelperService;i?.triggerH2HChat(o,n)}else{g.warning(f.getResourceBundleFor("sap.fe.macros").getText("T_TABLE_SHARE_TO_COLLABORATION_MANAGER_NO_NAVIGATION_POSSIBLE"))}})}else{g.warning(f.getResourceBundleFor("sap.fe.macros").getText("T_TABLE_SHARE_TO_COLLABORATION_MANAGER_TOO_MANY_ITEMS_SELECTED",[o]))}};a.getUrlForCollaborationManager=async function e(t){let i;const a=n.getTargetView(this.getContent());const s=a.getController().collaborativeDraft;const l=t.getModel()?.getMetaModel();const c=r.isDraftSupported(l,t.getPath());if(c&&!s.isCollaborationEnabled()&&t.getObject().IsActiveEntity===false){if(t.getObject().HasActiveEntity===false){return undefined}else{const e=t.getPath();const n=e.substring(0,e.indexOf("/",1));const r=n?t.getModel().bindContext(n).getBoundContext():t;const a=await o.computeSiblingInformation(r,t);i=a?.targetContext?.getPath()}}else{i=t.getPath()}if(i){if(i[0]==="/"){i=i.substring(1)}const e=n.getAppComponent(this.getContent());if(e._isFclEnabled()){const t=this.getFCLLayoutForCM(e);i+=`?layout=${t}`}const t=d.getInstance();const o=t.hrefForAppSpecificHash?t.hrefForAppSpecificHash(""):"";return window.location.origin+window.location.pathname+window.location.search+o+i}return undefined};a.getFCLLayoutForCM=function e(t){const o=n.getTargetView(this.getContent()).getController()._routing.getFCLLevel();if(t.getRootViewController().getFclConfig().maxColumnsCount===2){return"MidColumnFullScreen"}return o===0?"MidColumnFullScreen":"EndColumnFullScreen"};a.collectAvailableCards=async function e(t){const n=this.getContent().getActions();const o=this.getPageController()?.getAppComponent();const r=o?._isFclEnabled()?o?.getRootViewController()?.getRightmostView?.()?.getViewData()?.converterType==="ObjectPage":false;if(A(n,this.getContent().getFilter(),l.getInsightsRelevantColumns(this))&&!r){const e=await this.getCardManifestTable();if(Object.keys(e).length>0){t.push({card:e,title:this.getTableDefinition().headerInfoTypeName??"",callback:this.onAddCardToCollaborationManagerCallback.bind(this)})}}};a.getCardManifestTable=async function e(){const t=l.getInsightsRelevantColumns(this);const n=await l.createTableCardParams(this,t,this.getSortConditionsQuery());return s.getCardManifest(n)};a.onAddCardToCollaborationManagerCallback=async function t(n){try{if(n){await s.showCollaborationManagerCardPreview(n,this.getPageController().collaborationManager.getService());return}}catch(t){v(this.getContent());e.error(t)}};a._onAddCardToInsightsPressed=async function t(){try{const e=l.getInsightsRelevantColumns(this);const t=await l.createTableCardParams(this,e,this.getSortConditionsQuery());if(t){const e=t.parameters.isNavigationEnabled?undefined:{type:"Warning",text:this.createNavigationErrorMessage(this.getContent())};s.showInsightsCardPreview(t,e);return}}catch(t){v(this.getContent());e.error(t)}};a.createNavigationErrorMessage=function e(t){const n=i.getResourceModel(t);return n.getText("M_ROW_LEVEL_NAVIGATION_DISABLED_MSG_REASON_EXTERNAL_NAVIGATION_CONFIGURED")};a.getDownloadUrlWithFilters=async function e(){const t=this.getContent();const o=u.getElementById(t.getFilter());if(!o){throw new Error("filter bar is not available")}const r=t.getRowBinding();const i=t.getModel();const a=await o.getParent().getSelectionVariant();const s=p.getSemanticOpsFilterProperties(a._getSelectOptions());const l=c.getAllFilterInfo(t,s.map(e=>e.filterName));const g=o.getPropertyInfoSet();const[f,d]=p.getSemanticDateFiltersWithFlpPlaceholders(s,g);let C=[];if(l.filters.length>0){C=C.concat(l.filters)}if(d.length>0){C.push(...d)}const b=new h({filters:C,and:true});const m={$search:n.normalizeSearchTerm(o.getSearch())||undefined};const v=i.bindList(r.getPath(),undefined,undefined,b,m);let A=await v.requestDownloadUrl()??"";for(const[e,t]of Object.entries(f)){A=A.replace(e,t)}return A};a.getSortConditionsQuery=function e(){const t=this.getContent();const n=t.getSortConditions()?.sorters;return n?n.map(function(e){const n=t.getPropertyHelper().getProperty(e.name)?.path;if(n){return`${n}${e.descending?" desc":""}`}return""}).join(","):""};return t}(),E(b.prototype,"collectAvailableCards",[C],Object.getOwnPropertyDescriptor(b.prototype,"collectAvailableCards"),b.prototype),b);m=M;return m},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/table/uploadTable/UploadTableRuntime", ["sap/fe/core/CommonUtils","sap/fe/macros/internal/helpers/Upload","../../field/FieldRuntimeHelper"],function(e,t,o){"use strict";var a=t.showTypeMismatchDialog;var n=t.showFileSizeExceedDialog;var r=t.showFileNameLengthExceedDialog;var i=t.setHeaderFields;var s=t.displayMessageForFailedUpload;const l={async uploadFile(t){const a=t.oItem,n=t.oSource,r=n.getParent(),s=r.getRowBinding(),l=n.getRowConfiguration().getFileNamePath(),g=l?{[l]:a.getFileName()}:{},d=s.create(g,true);try{const t=n.getBindingContext("internal");const r=new Promise((e,o)=>{t.setProperty(`UploadPromises/${a.getId()}`,{resolve:e,reject:o})});t.setProperty("uploadInstance",d);const s=e.getTargetView(n);const l=o.getExtensionController(s.getController());l.editFlow.syncTask(r);await d.created();return await new Promise(e=>{const t=n.getUploadUrl();let o=d.getProperty(t);o=o.replace(d.getPath(),d.getCanonicalPath());i(a,a.getMediaType(),d);a.setUploadUrl(o);e(a)})}catch(e){this.onUploadFailed(n,a,String(e));return Promise.reject("The new instance could not be created")}},onUploadFailed(e,t,o){s(e,o);e.getBindingContext("internal").getProperty(`UploadPromises/${t.getId()}`).reject()},async onUploadCompleted(e){const t=e.getParameter("item"),o=Number(e.getParameter("status")),a=t.getBindingContext("internal");if(o===0||o>=400){const o=t.getParent();const n=e.getParameter("responseText")||e.getParameter("response");l.onUploadFailed(o,t,n);const r=a.getProperty("uploadInstance");if(r){await r.delete()}}else{const e=t.getBindingContext();if(e&&!e.hasPendingChanges()){await e.requestRefresh()}a.getProperty(`UploadPromises/${t.getId()}`).resolve()}a.setProperty("uploadInstance",null)},onMediaTypeMismatch(e){const t=e.getSource();const o=e.getParameter("item").getProperty("mediaType");const n=t.getMediaTypes();a(t,o,n)},onFileSizeExceeded(e){const t=e.getSource();n(t,t.getMaxFileSize().toString())},onFileNameLengthExceeded(e){const t=e.getSource();r(t,t.getMaxFileNameLength().toString())}};return l},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/table/uploadTable/UploadTableTemplate", ["sap/fe/base/BindingToolkit","sap/fe/macros/field/FieldHelper","sap/m/plugins/UploadSetwithTable","sap/m/upload/UploadItemConfiguration","sap/fe/base/jsx-runtime/jsx"],function(e,a,l,o,t){"use strict";var n={};var i=e.not;function d(e){if(e.annotation?.uploadTable?.uploadAction?.isTemplated&&e.annotation?.uploadTable?.uploadAction?.visibleExpression){return i(e.annotation.uploadTable.uploadAction.visibleExpression)}else{return true}}function p(e,n,i){return t(l,{"core:require":"{UploadTableRuntime: 'sap/fe/macros/table/uploadTable/UploadTableRuntime'}",httpRequestMethod:"Put",multiple:false,uploadButtonInvisible:d(e),itemValidationHandler:i.uploadItemValidationHandler,mediaTypeMismatch:i.uploadMediaTypeMismatch,fileSizeExceeded:i.uploadFileSizeExceeded,maxFileSize:a.calculateMBfromByte(e.annotation?.uploadTable?.maxLength),uploadCompleted:i.uploadCompleted,uploadEnabled:e.annotation?.uploadTable?.uploadAction?.enabled,mediaTypes:e.annotation?.uploadTable?.acceptableMediaTypes,actions:[`${n}-uploadButton`],uploadUrl:e.annotation?.uploadTable?.stream,maxFileNameLength:e.annotation?.uploadTable?.fileNameMaxLength,fileNameLengthExceeded:i.uploadFileNameLengthExceeded,children:{rowConfiguration:t(o,{fileNamePath:e.annotation?.uploadTable?.fileName})}})}n.getUploadPlugin=p;return n},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/valuehelp/ValueHelpDelegate", ["sap/base/Log","sap/base/util/ObjectPath","sap/fe/core/CommonUtils","sap/fe/core/controllerextensions/collaboration/CollaborationCommon","sap/fe/core/converters/MetaModelConverter","sap/fe/core/helpers/TypeGuards","sap/fe/macros/filter/FilterUtils","sap/fe/macros/internal/valuehelp/ValueListHelper","sap/m/inputUtils/highlightDOMElements","sap/ui/core/message/MessageType","sap/ui/mdc/ValueHelpDelegate","sap/ui/mdc/condition/Condition","sap/ui/mdc/enums/ConditionValidated","sap/ui/mdc/enums/RequestShowContainerReason","sap/ui/mdc/odata/v4/TypeMap","sap/ui/mdc/p13n/StateUtil","sap/ui/model/FilterType","../internal/valuehelp/AdditionalValueHelper"],function(t,e,n,i,a,o,s,r,l,c,u,d,f,g,p,h,y,m){"use strict";var P=m.additionalValueHelper;var C=m.AdditionalValueGroupKey;var v=o.isPathAnnotationExpression;var V=a.convertTypes;var F=i.Activity;const _="sap.fe.macros.controls.FilterBar";const D="@com.sap.vocabularies.Common.v1.IsDigitSequence";return Object.assign({},u,{apiVersion:2,updateBindingDonePromises:new WeakMap,isSearchSupported:function(t,e,n){return!!e.data("searchSupported")},updateBindingInfo:function(t,e,i){u.updateBindingInfo(t,e,i);if(e.data("searchSupported")){const t=e.getFilterValue();const a=n.normalizeSearchTerm(t);if(i.parameters){i.parameters.$search=a||undefined}}},_getValueHelpHistoryService(t){const e=n.getAppComponent(n.getTargetView(t));return e.getValueHelpHistoryService()},checkConditionsEqual(t,e){if(t.operator!==e.operator){return false}const n=t.values??[];const i=e.values??[];if(n.length!==i.length){return false}const a=[...n].sort((t,e)=>String(t).localeCompare(String(e)));const o=[...i].sort((t,e)=>String(t).localeCompare(String(e)));return a.every((t,e)=>t===o[e])},_getHistoryData:async function(e,n){if(e.history?.enabled&&e.isPotentiallySensitive!==true){const i=this._getValueHelpHistoryService(n);try{const t=await i.getFieldData(e.propertyPath+"/"+e.valueHelpQualifier);e.history.data=t;return t}catch(e){t.error(e instanceof Error?e.message:String(e))}}return[]},_setHistoryData:async function(e,n,i){if(e.history?.enabled&&e.isPotentiallySensitive!==true&&n.length){const a=this._getValueListPropertyFromPayloadQualifier(e);if(a){const a=[];for(const t of n){if(e.isUnitValueHelp||t.validated===f.Validated){const e=this._getConditionPayloadList(t)?.[0];if(e){a.push(this.convertConditionPayloadToNestedObject(e))}}}if(a.length){const n=this._getValueHelpHistoryService(i);try{await n.setFieldData(e.propertyPath+"/"+e.valueHelpQualifier,a)}catch(e){t.error(e instanceof Error?e.message:String(e))}}}}},convertConditionPayloadToNestedObject:function(t){const n={};for(const i in t){e.set(i.split("/"),t[i],n)}return n},_isEmptyDigitSequence:function(t,e){let n=false;if(e){n=typeof t==="string"?t.split("").every(t=>t==="0")??t==="":t===null||t===undefined||t===0}return n},updateBinding:async function(t,e,n,i){if(!e.isA("sap.ui.model.odata.v4.ODataListBinding")){return}const a=t.getPayload();if(i.isTypeahead()){let t;const o=new Promise(function(e){t=e});const s=this.updateBindingDonePromises.get(e);this.updateBindingDonePromises.set(e,s?s.then(async()=>o):o);const r=this._getValueListPropertyFromPayloadQualifier(a);const l=i.getControl();const c=l.isA("sap.ui.mdc.FilterField")||l.isA("sap.ui.mdc.MultiValueField");const u=!c&&l.getValue();const d=[];const f=l.getModel().getMetaModel().getObject(`${a.propertyPath}${D}`)??false;if(!u||l.hasPendingUserInput()||this._isEmptyDigitSequence(u,f)){const t=this.getRelevantRecommendations(i,a);if(t.length){d.push({propertyPath:r,values:t,groupKey:C.recommendation})}}const g=i.getTable();const p=g.getCustomData().filter(t=>t.getKey()==="sorters");let h=[];if(p.length)h=p[0].getValue().sorters;await this._updateBindingWithTransientContexts(a,e,n,d,r,l,h,g);if(t){t()}}else{this._updateBinding(e,n)}},executeFilter:async function(t,e,n){e.getContexts(0,n);await this.checkListBindingPending(t,e,n);return e},checkListBindingPending:async function(t,e,n){let i=false;if(e&&this.updateBindingDonePromises.has(e)){await this.updateBindingDonePromises.get(e)}if(e&&!e.isSuspended()){try{const t=await e.requestContexts(0,n);i=t.length===0}catch(t){if(t&&t?.canceled){return i}throw t}}return i},getTypeMap:function(t){return p},retrieveContent:async function(t,e,n){const i=t.getPayload();return r.showValueList(i,e,n)},_getConditionPayloadList:function(t){const e=t.payload||{},n=Object.keys(e),i=n.length?e[n[0]]:[];return i},_getValueListPropertyFromPayloadQualifier:function(t){const e=t.qualifiers[t.valueHelpQualifier]?.vhParameters||[];const n=t.qualifiers[t.valueHelpQualifier]?.vhKeys||[];const i=t.valueHelpKeyPath;let a=[...n];const o=[];if(e.length>0){e.forEach(function(t){o.push(t.helpPath)});a=n.filter(t=>!o.includes(t))}return i&&a.includes(i)?i:""},_onConditionPropagationToFilterBar:async function(e,n,i,a,o){try{const t=await h.retrieveExternalState(o);const r=t.items;const l=s.getFilterPropertyInfo(i);const c=i.getModel()?.getMetaModel();for(const e of n){const n=this._findFilterBarPropertyByAnnotationPath(e,a.propertyPath,c,l);if(n&&r?.find(t=>t.name===n.name)){const e=n.conditionPath;t.filter[e]?.forEach(t=>{t.filtered=false})}}for(const i of e){const e=this._getConditionPayloadList(i);for(const i of n){const n=this._findFilterBarPropertyByAnnotationPath(i,a.propertyPath,c,l);if(n&&r?.find(t=>t.name===n.name)){for(const a of e){const e=d.createCondition("EQ",[a[i.helpPath]],null,null,f.Validated);const o=n.conditionPath;const s=t.filter[o]?.find(t=>{delete t.filtered;if(this.checkConditionsEqual(t,e)){return true}t.filtered=false;return false});if(!s){t.filter[o]||=[];t.filter[o].push(e)}}}}}h.applyExternalState(i,t)}catch(e){const n=e instanceof Error?e.message:String(e);t.error(`ValueHelpDelegate: ${n}`)}},_findFilterBarPropertyByAnnotationPath:function(t,e,n,i){const a=`/${e.split("/")[1]}`;const o=t.source.split("conditions/").pop()||"";const s=e.lastIndexOf("/");const r=s>0?`${e.substring(0,s)}/${o}`:o;const l=n?.getReducedPath(r,a);return i.find(t=>t.annotationPath===l)},_onConditionPropagationToBindingContext:function(e,n,i,a){const o=i.getModel().getMetaModel();for(const s of e){const e=this._getConditionPayloadList(s),r=e.length===1?e[0]:undefined;if(e.length>1){t.warning("ValueHelpDelegate: ParameterOut in multi-value-field not supported")}if(r){this._onConditionPropagationUpdateProperty(o,r,n,i,a)}}},_onConditionPropagationUpdateProperty:function(t,e,i,a,o){const s=V(t);const r=t.getMetaContext(a.getPath()).getPath();const l=a.isTransient()!==true&&!a.isInactive();const c=[];for(const t of i){this._updatePropertyViaOutParameter(s,r,e,t,a,l);c.push(t.source)}const u=n.getTargetView(o);const d=u.getController().collaborativeDraft;if(d.isConnected()&&c.length>0){let t;if(a.getBinding().isA("sap.ui.model.odata.v4.ODataListBinding")){t=a.getBinding()}else{t=u.getBindingContext().getBinding()}t.attachEventOnce("patchCompleted",()=>{d.send({action:F.Change,content:c.map(t=>a.getPath()+"/"+t)})})}},_updatePropertyViaOutParameter:function(t,e,n,i,a,o){const s=`${e}/${i.source}`;const r=t.resolvePath(s).target;const l=r?.annotations?.Common?.FieldControl;const c=v(l)?a.getProperty(l.path)===1:false;if(c&&o){const t=i.source.lastIndexOf("/");const e=t>0?i.source.substring(0,t):i.source;a.requestSideEffects([e])}else{const t=a.getProperty(i.source);const e=n[i.helpPath];if(t!==e){a.setProperty(i.source,null);a.setProperty(i.source,n[i.helpPath])}}const u=v(r?.annotations?.Common?.Text)?r?.annotations?.Common?.Text.path:undefined;if(u!==undefined&&o){const t=u.lastIndexOf("/");const e=t>0?u.substring(0,t):u;a.requestSideEffects([e])}},getFilterConditions:function(t,e,n){if(this.getInitialFilterConditions){return this.getInitialFilterConditions(t,e,n&&n.control||e&&e.getControl())}return{}},onConditionPropagation:async function(t,e,n){const i=t.getPayload();if(e!=="ControlChange"||i.isDefineConditionValueHelp){return}const a=i.qualifiers[i.valueHelpQualifier];const o=a?.vhParameters!==undefined?r.getOutParameters(a.vhParameters):[],s=t.getControl(),l=s.getParent();let c=s.getConditions();if(!i.isValueListWithFixedValues){this._setHistoryData(i,c,s)}c=c.filter(function(t){const e=t.payload||{};return e[i.valueHelpQualifier]});const u=s.getParent();if(u.isA(_)&&o.length&&c.length){await this._onConditionPropagationToFilterBar(c,o,l,i,u)}else{const e=s.getBindingContext();if(e){const n=s.getModel().getMetaModel();const a=n?.getObject(`${i.propertyPath}@sapui.name`);const r=c.length>0?c[0]:{};const l=r?.payload?Object.keys(r.payload):[];l.forEach(t=>{const n=r.payload;const i=n?.[t]?.[0]||{};const o=Object.keys(i);const s=o.find(t=>t.includes("@$ui5.fe.@Common/ExternalID"));if(s){const t=i[s];e.setProperty(a,t)}});this._onConditionPropagationToBindingContext(c,o,e,t)}}},_createInitialFilterCondition:function(e,n){let i;if(e===undefined){t.error("ValueHelpDelegate: value of the property could not be requested")}else if((e===""||e===null)&&n){i=d.createCondition("Empty",[],null,null,f.Validated)}else if(e!==undefined&&e!==""&&e!==null){i=d.createCondition("EQ",[e],null,null,f.Validated)}return i},_getInitialFilterConditionsFromBinding:async function(e,n,i,a){const o=n.getBindingContext();if(!o){t.error("ValueHelpDelegate: No BindingContext");return e}const s=n.getModel()?.getMetaModel();const r=s.getMetaPath(o.getPath());let l=i.map(t=>t.source);let u=false;const d=a.propertyPath.split("/").pop();let f;let g;if(o.getBinding().getPath()!=="$Parameter"){f=a.propertyPath.replace(`/${d}`,"");g=s.getObject(f)}if(n.isA("sap.ui.mdc.MultiValueField")&&g&&g.$Partner===undefined){t.error(`ValueHelpDelegate: Because of missing partner definition, the filter value for ValueListParameterIn property can not requested.`);u=true}else if(g&&g.$kind==="NavigationProperty"&&g.$Partner!==undefined){l=this._buildPropertiesToRequest(l,r,s,a.propertyPath)}if(!u){const t=o.isTransient()===true&&!o.isInactive()&&o.getUpdateGroupId()?.startsWith("$auto");let n=[];n=(o.getMessages()??[]).filter(t=>t.getType()===c.Error);if(t&&!n?.length){await(o?.created())}const a=await o.requestProperty(l);for(let t=0;t<i.length;t++){const n=i[t];const o=this._createInitialFilterCondition(a[t],n.initialValueIsSignificant);if(o){e[n.helpPath]=[o]}}}return e},_buildPropertiesToRequest:function(t,e,n,i){let a=n.createBindingContext(e);const o=i.slice(e.length).split("/").slice(1,-1).map(t=>{a=n.createBindingContext(t,a);return{part:t,partner:a.getObject().$Partner}});return t.map(t=>{const e=t.split("/");const n=e.findIndex((t,e)=>o[-e]?.partner!==t);return o.slice(0,-n).map(t=>t.part).concat(e.slice(n)).join("/")})},_getInitialFilterConditionsFromFilterBar:async function(t,e,n,i){const a=e.getParent();const o=s.getFilterPropertyInfo(a);const r=await h.retrieveExternalState(a);const l=a.getModel().getMetaModel();for(const e of n){const n=this._findFilterBarPropertyByAnnotationPath(e,i.propertyPath,l,o);const a=n?n.conditionPath:e.source.split("conditions/").pop();const s=this._getConditionsFromInParameter(a,r);if(s){t[e.helpPath]=s}}return t},_getConditionsFromInParameter:function(t,e){const n=Object.keys(e.filter).find(e=>e===t);return n&&e.filter[n]},_partitionInParameters:function(t){const e={constant:[],binding:[],filter:[]};for(const n of t){if(n.constantValue!==undefined){e.constant.push(n)}else if(n.source.indexOf("$filter")===0){e.filter.push(n)}else{e.binding.push(n)}}return e},_tableAfterRenderDelegate:{onAfterRendering:function(t){const e=t.srcControl,n=e.$().find("tbody .sapMText"),i=e.getParent();l(n,i.getFilterValue(),true)}},getInitialFilterConditions:async function(e,n,i){if(n?.isA("sap.ui.mdc.valuehelp.content.MTable")){const t=n.getTable();t?.removeEventDelegate(this._tableAfterRenderDelegate);t?.addEventDelegate(this._tableAfterRenderDelegate,this)}const a=e.getPayload();const o={};if(!i){t.error("ValueHelpDelegate: Control undefined");return o}const s=a.qualifiers[a.valueHelpQualifier];const l=s?.vhParameters!==undefined?r.getInParameters(s.vhParameters):[];const c=this._partitionInParameters(l);const u=i.getBindingContext();for(const t of c.constant){const e=this._createInitialFilterCondition(t.constantValue,u?t.initialValueIsSignificant:false);if(e){o[t.helpPath]=[e]}}if(c.binding.length){await this._getInitialFilterConditionsFromBinding(o,i,c.binding,a)}if(c.filter.length){await this._getInitialFilterConditionsFromFilterBar(o,i,c.filter,a)}return o},createConditionPayload:function(t,e,n,i){const a=t.getPayload();const o=a.qualifiers[a.valueHelpQualifier],s={},r={};const l=e.getControl();const c=l?.isA("sap.ui.mdc.MultiValueField");if(a.externalIdPath&&a.valueHelpKeyPath){const t=a.valueHelpKeyPath;const e=o.vhKeys&&i.getObject(o.vhKeys[0]||t);s[a.propertyPath+"@$ui5.fe.@Common/ExternalID"]=e;r[a.valueHelpQualifier]=[s]}else if(!o.vhProperties||c){return undefined}o.vhProperties?.forEach(function(t){const e=i.getObject(t);if(e!=null){s[t]=e?.length===0?"":e}else{s[t]=null}});if(Object.keys(s).length){r[a.valueHelpQualifier]=[s]}return r},modifySelectionBehaviour:function(t,e,n){const i=n.conditions;const a=e.getConditions();if(e?.getParent()?.isQuickSelectActive?.()&&!i.length&&a.length){n.conditions=a}return n},findConditionsForContext:function(t,e,n,i){const a=t.getPayload();i=i.filter(t=>t.validated===f.Validated);const o=a.qualifiers[a.valueHelpQualifier]?.vhKeys||[];const s=e.getKeyPath();const r=a.valueHelpQualifier||"";const l=(t,e)=>{const i=t?.[r]?.[0]||{};if(o.length===1||a?.useMultiValueField||!t){return n?.getObject(s)===e}else{const t=Object.keys(n.getObject());return o.every(function(e){return!t.includes(e)||n?.getObject(e)===i[e]})}};const c=i.find(function(t){const e=t.payload;if(n?.getObject(s)===e?.[r]?.[0]?.[s]){return l(e,e?.[r]?.[0]?.[s])}else if(n?.getObject(s)===t?.values[0]){return l(e,t?.values[0])}});return c?[c]:[]},_updateBindingWithTransientContexts:async function(e,n,i,a,o,s,r,l){try{await this._updateBindingAttributes(n,i,r);const{recommendationValuesContextData:c,recentValuesContextData:u,othersValuesContextData:d}=await this._getRelevantAdditionalValueContextData(a,n,i,e,o,s,r,l);if(c.length===0&&u.length===0){n.sort()}if(e?.history?.enabled){e.history.hasRelevantData=u.length!==0}try{await n.resetChanges()}catch(e){t.debug(`Error while clearing the list binding: ${e}`)}P.createTransientContextsForAdditionalValueContextData(c,u,d,n)}catch(t){}},_updateBindingAttributes:async function(t,e,n){const i=t.getRootBinding()||t;if(!i.isSuspended()){i.suspend()}P.sortAndFilterListBinding(t,n);if(e.parameters){t.changeParameters(e.parameters)}await P.resumeValueListBindingAndResetChanges(t)},_getRelevantAdditionalValueContextData:async function(t,e,n,i,a,o,s,r){let{recommendationValuesContextData:l,othersValuesContextData:c}=await P.requestForAdditionalValueContextData(t,e,n,i,s,r);const u=i.qualifiers[i.valueHelpQualifier].vhKeys||[];l=P.getRelevantRecommendationValuesContextData(l,t[0]?.values,a);let d=[];if(!i.isValueListWithFixedValues){d=await this._getHistoryData(i,o);d=P.getRelevantRecentValuesContextData(c,d,u,n.parameters.$search?.replaceAll('"',""),n)}c=P.getRelevantOthersValuesContextData(l,d,c,u);return{recommendationValuesContextData:l,recentValuesContextData:d,othersValuesContextData:c}},_updateBinding:function(t,e){const n=t.getRootBinding()||t;if(!n.isSuspended()){n.suspend()}if(e.parameters){t.changeParameters(e.parameters)}t.filter(e.filters,y.Application);t.sort(e.sorter);if(n.isSuspended()){n.resume();n.resetChanges()}},_checkIfAdditionalValuesExists:async function(t,e){let n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:true;if(e.isDefineConditionValueHelp){return false}const i=n?this.getRelevantRecommendations(t,e):[];if(i?.length>0){return true}if(e.history?.enabled){if(e.history.hasRelevantData!==undefined){return e.history.hasRelevantData}const n=await this._getHistoryData(e,t.getControl());if(n.length){return true}}return false},getRelevantRecommendations(t,e){let n=[];const i=t.getControl().isA("sap.ui.mdc.FilterField")||t.getControl().isA("sap.ui.mdc.MultiValueField");if(!i){const i=t.getModel();const a=i.getLocalAnnotationModel&&i.getLocalAnnotationModel();if(a){const e=t.getControl().getBindingContext()?.getPath();const i=t.getControl().getBinding("value")?.getPath();n=a.getObject(`${e}/${i}@$ui5.fe.recommendations.typeAheadValues`)??[]}if(!n.length){const i=t.getModel("internal").getProperty("/recommendationsData")||{};const a=t.getBindingContext();n=P.getRelevantRecommendations(i,a,e.propertyPath,t.getControl().getBinding("value")?.getPath())||[]}}return n},typeAheadForFilterableContent:async function(t,e){let n=true;const i=e?.getContent()[0];const a=t?.getFilterValue();const o=i.getControl();const s=t.getPayload();if(o.isA("sap.ui.mdc.FilterField")||o.isA("sap.ui.mdc.MultiValueField")){if(!a){n=await this._checkIfAdditionalValuesExists(i,s,false)}}else{const t=o.getValue();const e=o.getAdditionalValue();if(t||e){const e=o.getModel().getMetaModel().getObject(`${s.propertyPath}${D}`)??false;if(o.hasPendingUserInput()||this._isEmptyDigitSequence(t,e)){n=a!==""||await this._checkIfAdditionalValuesExists(i,s)}else{n=await this._checkIfAdditionalValuesExists(i,s,false)}}else if(!a){n=await this._checkIfAdditionalValuesExists(i,s)}}return n},conditionForRequestShowContainer:async function(e,n){try{const t=e.getControl();if(t&&t?.isA("sap.ui.mdc.FilterField")){const e=t.getContent()?.getId();const n=e?e.includes("VisualFilter"):false;if(n){return false}}const i=n?.getContent()[0];let a;const o=function(t){a=t?.getParent();if(a&&a.isA("sap.m.Dialog")){return a}else if(a===undefined||a===null){return undefined}return o(a)};a=o(n);if(a&&a.data("fe_InitialTypeAheadFocusDone")===null&&n.getControl().getDomRef()?.getElementsByTagName("input")[0].id===a.getInitialFocus()){a.data("fe_InitialTypeAheadFocusDone",true);return false}else{const t=e.getPayload();t.history=t.history||{};t.history.hasRelevantData=undefined;t.history.enabled=t.history.enabled??r.checkHistoryEnabled(e,t);return await this._checkIfAdditionalValuesExists(i,t)}}catch(e){t.error(e)}},requestShowContainer:async function(t,e,n){if([g.Tab,g.Tap].includes(n)){return this.conditionForRequestShowContainer(t,e)}else if([g.Typing,g.Filter].includes(n)){return this.typeAheadForFilterableContent(t,e)}return g.ValueHelpRequest===n}})},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/valuehelp/ValueHelpFilterBar.block", ["sap/fe/core/TemplateModel","sap/fe/core/buildingBlocks/templating/BuildingBlockSupport","sap/fe/core/buildingBlocks/templating/BuildingBlockTemplatingBase","sap/fe/core/converters/MetaModelConverter","sap/fe/core/converters/controls/ListReport/FilterBar"],function(e,t,r,i,n){"use strict";var l,a,o,u,c,s,p,b,f,d,g,m,y,v,h,z,F,w,B,x,P,C,k,M,O,S,j,_,E,D,L,R,q;var H={};var T=n.getSelectionFields;var V=n.getExpandFilterFields;var A=i.getInvolvedDataModelObjects;var I=t.defineBuildingBlock;var G=t.blockEvent;var J=t.blockAttribute;function K(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function N(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Q(e,t)}function Q(e,t){return Q=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Q(e,t)}function U(e,t,r,i,n){var l={};return Object.keys(i).forEach(function(e){l[e]=i[e]}),l.enumerable=!!l.enumerable,l.configurable=!!l.configurable,("value"in l||l.initializer)&&(l.writable=!0),l=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},l),n&&void 0!==l.initializer&&(l.value=l.initializer?l.initializer.call(n):void 0,l.initializer=void 0),void 0===l.initializer?(Object.defineProperty(e,t,l),null):l}function W(e,t){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let X=(l=I({name:"ValueHelpFilterBar",namespace:"sap.fe.macros.valuehelp",fragment:"sap.fe.macros.valuehelp.ValueHelpFilterBar"}),a=J({type:"string"}),o=J({type:"sap.ui.model.Context",required:true}),u=J({type:"sap.ui.model.Context"}),c=J({type:"boolean"}),s=J({type:"boolean"}),p=J({type:"sap.ui.mdc.FilterBarP13nMode[]"}),b=J({type:"boolean"}),f=J({type:"boolean"}),d=J({type:"sap.ui.model.Context",required:true}),g=J({type:"sap.ui.model.Context"}),m=J({type:"string"}),y=J({type:"boolean"}),v=J({type:"boolean"}),h=G(),z=G(),l(F=(w=function(t){function r(r,i,n){var l;l=t.call(this,r)||this;K(l,"id",B,l);K(l,"contextPath",x,l);K(l,"metaPath",P,l);K(l,"hideBasicSearch",C,l);K(l,"enableFallback",k,l);K(l,"p13nMode",M,l);K(l,"useSemanticDateRange",O,l);K(l,"liveMode",S,l);K(l,"_valueList",j,l);K(l,"selectionFields",_,l);K(l,"filterConditions",E,l);K(l,"suspendSelection",D,l);K(l,"expandFilterFields",L,l);K(l,"search",R,l);K(l,"filterChanged",q,l);const a=l.contextPath.getModel();const o=l.metaPath;const u=o?.getPath();const c=A(l.contextPath);const s=l.getConverterContext(c,undefined,n);if(!l.selectionFields){const t=T(s,[],u).selectionFields;l.selectionFields=new e(t,a).createBindingContext("/")}const p=c.targetEntitySet;l.expandFilterFields=V(s,p.annotations.Capabilities?.FilterRestrictions,l._valueList);return l}H=r;N(r,t);return r}(r),B=U(w.prototype,"id",[a],{configurable:true,enumerable:true,writable:true,initializer:null}),x=U(w.prototype,"contextPath",[o],{configurable:true,enumerable:true,writable:true,initializer:null}),P=U(w.prototype,"metaPath",[u],{configurable:true,enumerable:true,writable:true,initializer:null}),C=U(w.prototype,"hideBasicSearch",[c],{configurable:true,enumerable:true,writable:true,initializer:function(){return false}}),k=U(w.prototype,"enableFallback",[s],{configurable:true,enumerable:true,writable:true,initializer:function(){return false}}),M=U(w.prototype,"p13nMode",[p],{configurable:true,enumerable:true,writable:true,initializer:function(){return[]}}),O=U(w.prototype,"useSemanticDateRange",[b],{configurable:true,enumerable:true,writable:true,initializer:function(){return true}}),S=U(w.prototype,"liveMode",[f],{configurable:true,enumerable:true,writable:true,initializer:function(){return false}}),j=U(w.prototype,"_valueList",[d],{configurable:true,enumerable:true,writable:true,initializer:null}),_=U(w.prototype,"selectionFields",[g],{configurable:true,enumerable:true,writable:true,initializer:null}),E=U(w.prototype,"filterConditions",[m],{configurable:true,enumerable:true,writable:true,initializer:null}),D=U(w.prototype,"suspendSelection",[y],{configurable:true,enumerable:true,writable:true,initializer:function(){return false}}),L=U(w.prototype,"expandFilterFields",[v],{configurable:true,enumerable:true,writable:true,initializer:function(){return true}}),R=U(w.prototype,"search",[h],{configurable:true,enumerable:true,writable:true,initializer:null}),q=U(w.prototype,"filterChanged",[z],{configurable:true,enumerable:true,writable:true,initializer:null}),w))||F);H=X;return H},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/visualfilters/InteractiveChartHelper", ["sap/base/util/JSTokenizer","sap/fe/base/BindingToolkit","sap/fe/core/CommonUtils","sap/fe/core/helpers/StableIdHelper","sap/fe/core/helpers/TypeGuards","sap/fe/core/templating/CriticalityFormatters","sap/fe/macros/CommonHelper","sap/fe/macros/controls/filterbar/utils/VisualFilterUtils","sap/fe/macros/filter/FilterFieldHelper","sap/fe/macros/filterBar/FilterHelper","sap/m/library","sap/ui/core/Lib","sap/ui/core/format/NumberFormat","sap/ui/mdc/condition/ConditionConverter","sap/ui/mdc/odata/v4/TypeMap","sap/ui/model/Filter","sap/ui/model/odata/v4/ODataUtils","../field/FieldTemplating","../formatters/VisualFilterFormatter"],function(e,t,a,r,n,i,o,s,l,c,u,g,f,p,m,d,h,y,C){"use strict";var M=y.getTextBinding;var v=c.getFiltersConditionsFromSelectionVariant;var T=l.formatOptions;var P=l.constraints;var b=i.buildExpressionForCriticalityColorMicroChart;var F=n.isSingleton;var $=n.isPathAnnotationExpression;var E=n.isNavigationProperty;var D=n.isEntitySet;var I=r.generate;var O=t.pathInModel;var V=t.formatResult;var A=t.constant;var U=t.compileExpression;const S={getChartDisplayedValue:function(e,t,a){const r=I([a]);return"{parts:[{path:'"+e+"',type:'sap.ui.model.odata.type.Decimal', constraints:{'nullable':false}}"+(t&&t.ScaleFactor?",{value:'"+t.ScaleFactor.valueOf()+"'}":",{path:'internal>scalefactorNumber/"+r+"'}")+(t&&t.NumberOfFractionalDigits?",{value:'"+t.NumberOfFractionalDigits+"'}":",{value:'0'}")+",{path:'internal>currency/"+r+"'}"+",{path:'"+e+"',type:'sap.ui.model.odata.type.String', constraints:{'nullable':false}}"+"], formatter:'sap.fe.macros.visualfilters.VisualFilterRuntime.scaleVisualFilterValue'}"},getChartValue:function(e){return"{path:'"+e+"',type:'sap.ui.model.odata.type.Decimal', constraints:{'nullable':false}}"},_getCollectionName:function(e,t,a){const r=e?.targetObject;if(E(r)){return a?t:r.name}else if(D(r)){return"/"+r.name}else{return r.name}},_getBindingPathForParameters:function(t,r,n,i,o){const l=[];const c=s.convertFilterCondions(t);const u=a.getParameterInfo(r,n).parameterProperties;if(u){for(const t in i){const a=i[t];const n=u[a];const s=o.split("/")[1];const g=r?.createBindingContext(`/${s}/${a}`);let f;if(g){f=m.getTypeConfig(n.$Type,e.parseJS(T(n,{context:g})||"{}"),e.parseJS(P(n,{context:g})||"{}"))}const d=c[a];const y=d?d[0]:undefined;if(y){const e=p.toType(y,f,m);const t=n.$Type;let r=encodeURIComponent(h.formatLiteral(e.values[0],t));l.push(`${a}=${r}`)}}}const g=n.slice(0,n.lastIndexOf("/"));const f=n.substring(n.lastIndexOf("/")+1);return`${g}(${l.toString()})/${f}`},_getUOMAggregationExpression:function(e,t,a,r){let n,i;const o=a&&$(a)&&a.path;if(e){if(t){n=o?{unit:o}:{};i={}}else{n={};i=o?{[o]:{}}:{}}}else if(r&&r.AggregatableProperty&&r.AggregatableProperty.value&&r.AggregationMethod){n={name:r.AggregatableProperty.value,with:r.AggregationMethod};i=o?{[o]:{}}:{}}return{aggregationExpression:n,UOMExpression:i}},getAggregationBinding:function(e,t,a,r,n,i,o,l,c,u,g,f,p,m,h){const y=o;const C=f;const M=a;const T=e.Dimensions[0].value;const P=[];let b;let F=this._getCollectionName(t,a,g);const $=S.getUoM(e,t,undefined,l,c);if(p){P.push(new d({operator:"EQ",value1:"true",value2:null,path:"IsActiveEntity"}))}if(y){b=v(M,h,y,s.getCustomConditions.bind(s));for(const e in b){const t=b[e];t.forEach(function(e){if(!e.isParameter){P.push(new d({operator:e.operator,value1:e.value1,value2:e.value2,path:e.path}))}})}}if(C!==`${F}/`&&g&&g.length&&b){const e=this._getBindingPathForParameters(b,h,F,g,M);F=e}const E=this._getUOMAggregationExpression(l,u,$,c);const D=E.aggregationExpression;const I=E.UOMExpression;const O=r?{additionally:[r.path]}:{};const V={...this.getSortOrder(e,n,i,m),$$aggregation:{aggregate:{[m]:D},group:{[T]:{...O},...I}}};return{path:F,templateShareable:true,suspended:true,filters:P,parameters:V,...S.getMaxItems(e)}},_getOrderExpressionFromMeasure:function(e,t){let a;if(e&&e.length){if(e[0].DynamicProperty){a=e[0].DynamicProperty.$target?.Name}else{a=e[0].Property?.value}if(a===t){return{$orderby:t+(e[0].Descending?" desc":"")}}return{$orderby:t+" desc"}}return{$orderby:t+" desc"}},getSortOrder:function(e,t,a,r){if(e.ChartType==="UI.ChartType/Donut"||e.ChartType==="UI.ChartType/Bar"){return this._getOrderExpressionFromMeasure(a,r)}else if(t==="Edm.Date"||t==="Edm.Time"||t==="Edm.DateTimeOffset"){return{$orderby:e.Dimensions[0].value}}else if(a&&a.length&&a[0].Property?.$target?.path===e.Dimensions[0].value){return{$orderby:a[0].Property?.$target?.name+(a[0].Descending?"desc'":"'")}}else{return{$orderby:e.Dimensions[0].$target?.name}}},getMaxItems:function(e){if(e.ChartType==="UI.ChartType/Bar"){return{startIndex:0,length:3}}else if(e.ChartType==="UI.ChartType/Line"){return{startIndex:0,length:6}}else{return""}},getColorBinding:function(e,t){const a=t?.$target?.annotations?.UI?.ValueCriticality;if(e?.Criticality){return b(e)}else if(e?.CriticalityCalculation){const t=e.CriticalityCalculation.ImprovementDirection;const a=e.Value;const r=e.CriticalityCalculation.DeviationRangeLowValue.valueOf();const n=e.CriticalityCalculation.ToleranceRangeLowValue.valueOf();const i=e.CriticalityCalculation.AcceptanceRangeLowValue.valueOf();const s=e.CriticalityCalculation.AcceptanceRangeHighValue.valueOf();const l=e.CriticalityCalculation.ToleranceRangeHighValue.valueOf();const c=e.CriticalityCalculation.DeviationRangeHighValue.valueOf();return o.getCriticalityCalculationBinding(t,a,r,n,i,s,l,c)}else if(a&&a.length){return S.getValueCriticality(t.value,a)}else{return undefined}},getValueCriticality:function(e,t){let a;const r=[];if(t&&t.length>0){t.forEach(function(t){if(t.Value&&t.Criticality){const a="${"+e+"} === '"+t.Value+"' ? '"+S._getCriticalityFromEnum(t.Criticality)+"'";r.push(a)}});a=r.length>0&&r.join(" : ")+" : undefined"}return a?"{= "+a+" }":undefined},_getCriticalityFromEnum:function(e){const t=u.ValueColor;let a;if(e==="UI.CriticalityType/Negative"){a=t.Error}else if(e==="UI.CriticalityType/Positive"){a=t.Good}else if(e==="UI.CriticalityType/Critical"){a=t.Critical}else{a=t.Neutral}return a},getScaleUoMTitle:function(e,t,a,r,n,i,o){const s=e?.MeasureAttributes?e.MeasureAttributes[0]?.DataPoint?.$target?.ValueFormat?.ScaleFactor?.valueOf():undefined;const l=I([a]);const c=f.getIntegerInstance({style:"short",showScale:false,shortRefNumber:s});let u=c.getScale();let g=S.getUoM(e,t,undefined,r,n);const p=$(g)?O("uom/"+l,"internal"):A(g);const m=u?A(u):O("scalefactor/"+l,"internal");if(!i){i="|"}i=" "+i+" ";return U(V([i,p,m],C.formatScaleAndUOM),o)??""},getMeasureDimensionTitle:function(e,t,a){let r;let n;if(t){n=e?.Measures[0]?.$target?.name}if(e?.DynamicMeasures&&e.DynamicMeasures.length>0){n=e.DynamicMeasures[0]?.$target?.AggregatableProperty?.value}else if(!t&&e?.Measures&&e?.Measures.length>0){n=e.Measures[0]?.$target?.name}const i=e?.Dimensions[0]?.value;let o=e?.Dimensions[0]?.$target?.annotations?.Common?.Label;if(!t&&a){r=a.annotations&&a.annotations.Common&&a.annotations.Common.Label;if(r===undefined){r=e?.Measures?.[0]?.$target?.annotations?.Common?.Label}}else{r=e?.Measures?.[0]?.$target?.annotations?.Common?.Label}if(r===undefined){r=n}if(o===undefined){o=i}return g.getResourceBundleFor("sap.fe.macros").getText("M_INTERACTIVE_CHART_HELPER_VISUALFILTER_MEASURE_DIMENSION_TITLE",[r,o])},getToolTip:function(e,t,a,r,n,i){const s=e&&e["ChartType"];let l=S.getMeasureDimensionTitle(e,r,n);l=o.escapeSingleQuotes(l);if(i===false&&s==="UI.ChartType/Line"){return`{= '${l}'}`}const c=g.getResourceBundleFor("sap.fe.macros")?.getText("M_INTERACTIVE_CHART_HELPER_VISUALFILTER_TOOLTIP_SEPERATOR");const u=I([a]);const f=S.getScaleUoMTitle(e,t,u,r,n,c,true);return"{= '"+l+(f?"' + "+f:"'")+"}"},_getUOM:function(e,t,a,r,n){const i={};const o=a?.targetObject;if(e&&t&&$(e)){i[t]={$Path:e.path};return r&&e.path?i:e}else if(n){const a=D(o)||F(o)?o.entityType.entityProperties:o?.targetType?.entityProperties;const s=a?.find(e=>e.name==n);if(s?.annotations?.Measures&&t){e=s?.annotations?.Measures[t];i[t]={$Path:e?.path}}return e&&r&&$(e)&&e.path?i:e}},getUoM:function(e,t,a,r,n){let i={};if(r){i=e?.Measures[0]}if(e?.DynamicMeasures&&e.DynamicMeasures.length>0){i=e.DynamicMeasures[0]?.$target?.AggregatableProperty?.$target?.annotations?.Measures}else if(!r&&e?.Measures&&e.Measures.length>0){i=e.Measures[0]}const o=i?.ISOCurrency;const s=i?.Unit;let l;if(!r&&n){l=n.AggregatableProperty&&n.AggregatableProperty.value}else{l=i?.value}return this._getUOM(o,"ISOCurrency",t,a,l)||this._getUOM(s,"Unit",t,a,l)},getScaleFactor:function(e){if(e&&e.ScaleFactor){return e.ScaleFactor.valueOf()}return undefined},getUoMVisiblity:function(e,t){const a=e&&e["ChartType"];if(t){return false}else if(!(a==="UI.ChartType/Bar"||a==="UI.ChartType/Line")){return false}else{return true}},getInParameterFiltersBinding:function(e){if(e.length>0){const t=[];let a="";e.forEach(function(e){if(e.localDataProperty){t.push(`{path:'$filters>/conditions/${e.localDataProperty}'}`)}});if(t.length>0){a=t.join();return`{parts:[${a}], formatter:'sap.fe.macros.visualfilters.VisualFilterRuntime.getFiltersFromConditions'}`}else{return undefined}}else{return undefined}},getfilterCountBinding:function(e){const t=e?.Dimensions[0]?.$target?.name;return"{path:'$filters>/conditions/"+t+"', formatter:'sap.fe.macros.visualfilters.VisualFilterRuntime.getFilterCounts'}"},getInteractiveChartProperties:function(e){const t=e.chartAnnotation;const a={};if(e.chartMeasure&&t?.Dimensions&&t.Dimensions[0]){const r=I([e.metaPath]);a.showErrorExpression="{= ${internal>"+r+"/showError}}";a.errorMessageExpression="{= ${internal>"+r+"/errorMessage}}";a.errorMessageTitleExpression="{= ${internal>"+r+"/errorMessageTitle}}";let n;if(t?.MeasureAttributes&&t?.MeasureAttributes[0]){n=t?.MeasureAttributes[0]?.DataPoint?t?.MeasureAttributes[0].DataPoint.$target:t?.MeasureAttributes[0]}const i=t?.Dimensions[0];const s=o.getParameters(e.contextPath,e.getMetaModel());const l=i?.$target?.annotations?.Common?.Text;a.aggregationBinding=S.getAggregationBinding(t,e.collection,e.contextPath,l,i.$target?.type,e?.sortOrder,e.selectionVariant,e.customAggregate,e.aggregateProperties,e.UoMHasCustomAggregate,s,e.filterBarEntityType,e.draftSupported,e.chartMeasure,e.getMetaModel());a.scalefactor=S.getScaleFactor(n?.ValueFormat);a.uom=S.getUoM(t,e.collection,true,e.customAggregate,e.aggregateProperties);a.inParameters=e.inParameters;const c=o.parseCustomData(e.inParameters);a.inParameterFilters=e.inParameters?S.getInParameterFiltersBinding(c):undefined;a.selectionVariant=e.selectionVariant?e.selectionVariant:undefined;a.stringifiedParameters=s;const u=e.getMetaModel()?.createBindingContext(e.contextPath+"/@"+i.fullyQualifiedName.split("@")[1]);if(u){const t=e.getDataModelObjectForMetaPath(u.getPath(),e.contextPath);a.chartLabel=M(t,{})}a.measure=S.getChartValue(e.chartMeasure);a.displayedValue=S.getChartDisplayedValue(e.chartMeasure,n?.ValueFormat,e.metaPath);a.color=S.getColorBinding(n,i)}return a}};return S},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/visualfilters/VisualFilter", ["sap/base/Log","sap/base/util/merge","sap/fe/base/BindingToolkit","sap/fe/base/ClassSupport","sap/fe/core/buildingBlocks/BuildingBlock","sap/fe/core/converters/ConverterContext","sap/fe/core/converters/ManifestWrapper","sap/fe/core/converters/controls/Common/DataVisualization","sap/fe/core/converters/helpers/Aggregation","sap/fe/core/helpers/ModelHelper","sap/fe/core/helpers/StableIdHelper","sap/m/Button","sap/m/Label","sap/m/OverflowToolbar","sap/m/OverflowToolbarLayoutData","sap/m/Title","sap/m/ToolbarSpacer","sap/m/VBox","sap/m/library","sap/ui/core/CustomData","../controls/filterbar/VisualFilter","./InteractiveChartHelper","./VisualFilterRuntime","./fragments/InteractiveCharts","sap/fe/base/jsx-runtime/jsx","sap/fe/base/jsx-runtime/Fragment","sap/fe/base/jsx-runtime/jsxs"],function(e,t,i,r,n,a,o,s,l,u,c,h,g,p,f,d,b,m,y,A,P,T,w,C,M,v,I){"use strict";var _,V,S,U,E,D,z,H,O,x,B,F,L,R,j,q,N,$,k,W,Y,G,J,K,Q,X,Z,ee,te,ie,re,ne,ae,oe,se,le,ue,ce,he,ge,pe,fe,de,be,me,ye,Ae,Pe,Te,we,Ce,Me,ve,Ie,_e,Ve,Se,Ue,Ee,De,ze,He,Oe;var xe={};var Be=C.getVisualFilterChart;var Fe=y.OverflowToolbarPriority;var Le=c.generate;var Re=l.AggregationHelper;var je=s.getDefaultSelectionVariant;var qe=r.property;var Ne=r.implementInterface;var $e=r.event;var ke=r.defineUI5Class;var We=i.resolveBindingString;var Ye=i.ifElse;var Ge=i.compileExpression;function Je(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function Ke(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Qe(e,t)}function Qe(e,t){return Qe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Qe(e,t)}function Xe(e,t,i,r,n){var a={};return Object.keys(r).forEach(function(e){a[e]=r[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce(function(i,r){return r(e,t,i)||i},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer?(Object.defineProperty(e,t,a),null):a}function Ze(e,t){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let et=(_=ke("sap.fe.macros.visualfilters.VisualFilter"),V=Ne("sap.ui.core.IFormContent"),S=qe({type:"boolean"}),U=qe({type:"string"}),E=$e(),D=qe({type:"string",required:true}),z=qe({type:"string"}),H=qe({type:"string",required:true}),O=qe({type:"string",required:true}),x=qe({type:"string"}),B=qe({type:"string"}),F=qe({type:"string"}),L=qe({type:"array"}),R=qe({type:"boolean"}),j=qe({type:"boolean"}),q=qe({type:"boolean"}),N=qe({type:"boolean"}),$=qe({type:"array"}),k=qe({type:"string"}),W=qe({type:"boolean"}),Y=qe({type:"string"}),G=qe({type:"boolean"}),J=qe({type:"boolean"}),K=qe({type:"boolean"}),Q=qe({type:"string"}),X=qe({type:"string"}),Z=qe({type:"string"}),ee=qe({type:"string"}),te=qe({type:"boolean"}),ie=qe({type:"boolean"}),re=qe({type:"boolean"}),_(ne=(ae=function(i){function r(e,t){var r;r=i.call(this,e,t)||this;Je(r,"__implements__sap_ui_core_IFormContent",oe,r);Je(r,"showValueHelp",se,r);Je(r,"valueHelpIconSrc",le,r);Je(r,"valueHelpRequest",ue,r);Je(r,"id",ce,r);Je(r,"title",he,r);Je(r,"contextPath",ge,r);Je(r,"metaPath",pe,r);Je(r,"outParameter",fe,r);Je(r,"valuelistProperty",de,r);Je(r,"selectionVariantAnnotation",be,r);Je(r,"inParameters",me,r);Je(r,"multipleSelectionAllowed",ye,r);Je(r,"required",Ae,r);Je(r,"showOverlayInitially",Pe,r);Je(r,"renderLineChart",Te,r);Je(r,"requiredProperties",we,r);Je(r,"filterBarEntityType",Ce,r);Je(r,"showError",Me,r);Je(r,"chartMeasure",ve,r);Je(r,"UoMHasCustomAggregate",Ie,r);Je(r,"showValueHelpButton",_e,r);Je(r,"customAggregate",Ve,r);Je(r,"groupId",Se,r);Je(r,"errorMessageTitle",Ue,r);Je(r,"errorMessage",Ee,r);Je(r,"_contentId",De,r);Je(r,"draftSupported",ze,r);Je(r,"isValueListWithFixedValues",He,r);Je(r,"enableChartBinding",Oe,r);r.inParamConditionUpdatePending=false;r.renderingUpdatePending=true;return r}xe=r;Ke(r,i);var n=r.prototype;n.onMetadataAvailable=function i(r){this.groupId="$auto.visualFilters";this.path=this.metaPath;const n=this._getOwner();this.contextPath=this.contextPath??n?.preprocessorContext?.fullContextPath;const s=this.getDataModelObjectForMetaPath(this.metaPath,this.contextPath);if(this.contextPath){this._resolvedContextPath=this.contextPath.endsWith("/")?this.contextPath:this.contextPath+"/"}const l=this.getMetaModel();const c=this.getAppComponent()?.getDiagnostics()??{};const h=this._getOwner()?.getRootController()?.getView().getViewData()??this._getOwner()?.getViewData();const g=a.createConverterContextForMacro(s?.startingEntitySet?.name,l,c,t,s?.contextLocation,new o(h,this.getAppComponent()));const p=new Re(g.getEntityType(),g);const f=p.getCustomAggregateDefinitions();const d=s?.targetObject;let b;const m=d&&d.Visualizations;this.getChartAnnotation(m,g);let y=[],A=[];if(this.chartAnnotation?.Measures?.length){A=f.filter(e=>e.qualifier===this.chartAnnotation?.Measures[0].value);b=A.length>0?A[0].qualifier:this.chartAnnotation.Measures[0].value;y=p.getAggregatedProperties()[0]}if(y&&y.length>0&&!this.chartAnnotation?.DynamicMeasures&&A.length===0&&this.chartAnnotation?.Measures&&this.chartAnnotation?.Measures.length>0){e.warning("The transformational aggregate measures are configured as Chart.Measures but should be configured as Chart.DynamicMeasures instead. Please check the SAP Help documentation and correct the configuration accordingly.")}if(this.chartAnnotation?.DynamicMeasures){if(A.length===0){b=g.getConverterContextFor(g.getAbsoluteAnnotationPath(this.chartAnnotation.DynamicMeasures[0].value)).getDataModelObjectPath().targetObject?.Name.toString();y=p.getAggregatedProperty()}else{e.warning("The dynamic measures have been ignored as visual filters can deal with only 1 measure and the first (custom aggregate) measure defined under Chart.Measures is considered.")}}if(f.some(function(e){return e.qualifier===b})){this.customAggregate=true}const P=je(g.getEntityType());this.checkSelectionVariant(P);const w=this.getAggregateProperties(y,b);if(w){this.aggregateProperties=w}const C=m&&this.chartAnnotation?.Measures&&this.chartAnnotation?.Measures[0]?.$target?.annotations;const M=w?.AggregatableProperty?.$target?.annotations;this.checkIfUOMHasCustomAggregate(f,C,M);const v=C?.UI?.Hidden;const I=v?.valueOf();const _=this.chartAnnotation?.ChartType;this.chartType=_;this.showValueHelpButton=this.getshowValueHelpButton(_,I);this.draftSupported=u.isDraftSupported(l,this.contextPath);this.errorMessage=this.getErrorMessage(I,b);this.chartMeasure=b;this.measureDimensionTitle=T.getMeasureDimensionTitle(this.chartAnnotation,this.customAggregate,this.aggregateProperties);const V=this.getDataModelObjectForMetaPath(this.contextPath);this.toolTip=T.getToolTip(this.chartAnnotation,V,this.path,this.customAggregate,this.aggregateProperties,this.renderLineChart);this.UoMVisibility=T.getUoMVisiblity(this.chartAnnotation,this.showError);this.scaleUoMTitle=T.getScaleUoMTitle(this.chartAnnotation,V,this.path,this.customAggregate,this.aggregateProperties);this.collection=V;this.sortOrder=d?.SortOrder;this.filterCountBinding=T.getfilterCountBinding(this.chartAnnotation);const S=this.getPageController()?.getView().getId();if(this._contentId){this._contentId=`${S}--${this._contentId}`}else if(this.id){this._contentId=`${this.id}-content`}this.selectionVariant=this.selectionVariantAnnotation?this.getDataModelObjectForMetaPath(this.selectionVariantAnnotation)?.targetObject:undefined;this.content=this.createContent()};n.checkIfUOMHasCustomAggregate=function e(t,i,r){const n=i?.Measures;const a=r?.Measures;const o=this.getUoM(n,a);if(o&&t.some(function(e){return e.qualifier===o})){this.UoMHasCustomAggregate=true}else{this.UoMHasCustomAggregate=false}};n.getChartAnnotation=function e(t,i){if(t){for(let e of t){const t=e&&e.value;this.chartAnnotation=i.getEntityTypeAnnotation(t)&&i.getEntityTypeAnnotation(t).annotation}}};n.setShowValueHelp=function e(t){if(this.content?.isA("sap.fe.macros.controls.filterbar.VisualFilter")){if(this.content?.getItems().length>0){const e=this.getVisualFilterControl();e?.getContent().some(function(e){if(e.isA("sap.m.Button")){e.setVisible(t)}});this.setProperty("showValueHelp",t)}}};n.setValueHelpIconSrc=function e(t){if(this.content?.isA("sap.fe.macros.controls.filterbar.VisualFilter")){if(this.content?.getItems().length>0){const e=this.getVisualFilterControl();e?.getContent().some(function(e){if(e.isA("sap.m.Button")){e.setIcon(t)}});this.setProperty("valueHelpIconSrc",t)}}};n.getVisualFilterControl=function e(){if(this.content?.isA("sap.fe.macros.controls.filterbar.VisualFilter")){return(this.content?.getItems()[0]).getItems()[0]}};n.getErrorMessage=function e(t,i){let r;if(this.chartAnnotation){if(this.chartAnnotation.ChartType==="UI.ChartType/Line"||this.chartAnnotation.ChartType==="UI.ChartType/Bar"){r=true}else{r=false}}if(typeof t==="boolean"&&t||!r||this.renderLineChart===false){this.showError=true;this.errorMessageTitle=t||!r?this.getTranslatedText("M_VISUAL_FILTERS_ERROR_MESSAGE_TITLE"):this.getTranslatedText("M_VISUAL_FILTER_LINE_CHART_INVALID_DATATYPE");if(t){return this.getTranslatedText("M_VISUAL_FILTER_HIDDEN_MEASURE",[i])}else if(!r){return this.getTranslatedText("M_VISUAL_FILTER_UNSUPPORTED_CHART_TYPE")}else{return this.getTranslatedText("M_VISUAL_FILTER_LINE_CHART_UNSUPPORTED_DIMENSION")}}};n.getshowValueHelpButton=function e(t,i){const r=this.chartAnnotation?.Dimensions[0]&&this.chartAnnotation?.Dimensions[0].$target&&this.chartAnnotation.Dimensions[0].$target.type;if(r==="Edm.Date"||r==="Edm.Time"||r==="Edm.DateTimeOffset"){return false}else if(typeof i==="boolean"&&i){return false}else if(!(t==="UI.ChartType/Bar"||t==="UI.ChartType/Line")){return false}else if(this.renderLineChart===false&&t==="UI.ChartType/Line"){return false}else if(this.isValueListWithFixedValues===true){return false}else{return true}};n.checkSelectionVariant=function t(i){let r;if(this.selectionVariantAnnotation){r=this.getDataModelObjectForMetaPath(this.selectionVariantAnnotation)?.targetObject}if(!r&&i){r=i}if(r&&r.SelectOptions&&!this.multipleSelectionAllowed){for(const t of r.SelectOptions){if(t.PropertyName?.value===this.chartAnnotation?.Dimensions[0].value){if(t.Ranges.length>1){e.error("Multiple SelectOptions for FilterField having SingleValue Allowed Expression")}}}}};n.getAggregateProperties=function e(t,i){let r;if(!t){return}t.some(function(e){if(e.Name===i){r=e;return true}});return r};n.getUoM=function e(t,i){let r=t?.ISOCurrency;let n=t?.Unit;if(!r&&!n&&i){r=i.ISOCurrency;n=i.Unit}return r?.path||n?.path};n.getRequired=function e(){if(this.required){return M(g,{text:"",width:"0.5rem",required:"true",children:{layoutData:M(f,{priority:Fe.NeverOverflow})}})}else{return""}};n.getTitle=function e(){return M(d,{id:Le([this._contentId,"MeasureDimensionTitle"]),text:this.measureDimensionTitle,tooltip:this.toolTip,titleStyle:"H6",level:"H3",class:"sapUiTinyMarginEnd sapUiNoMarginBegin"})};n.getUoMTitle=function e(t){if(this.UoMVisibility){return M(d,{id:Le([this._contentId,"ScaleUoMTitle"]),visible:t,text:this.scaleUoMTitle,titleStyle:"H6",level:"H3",width:this.scaleUoMTitle?Ge(Ye(We(this.scaleUoMTitle),"4.15rem",undefined)):undefined})}else{return""}};n.getToolBarSpacer=function e(){if(this.showValueHelpButton){return M(b,{})}else{return""}};n.getValueHelp=function e(t){if(this.showValueHelpButton){return M(h,{id:Le([this._contentId,"VisualFilterValueHelpButton"]),type:"Transparent",ariaHasPopup:"Dialog",text:this.filterCountBinding,enabled:t,press:e=>{w.fireValueHelp(e)},children:{layoutData:M(f,{priority:Fe.NeverOverflow}),customData:M(A,{value:this.multipleSelectionAllowed},"multipleSelectionAllowed")}})}else{return""}};n.getToolbar=function e(t){return M(p,{style:"Clear",children:{content:I(v,{children:[this.getRequired(),this.getTitle(),this.getUoMTitle(t),this.getToolBarSpacer(),this.getValueHelp(t)]})}})};n._handleInParamsChartBindingEnablement=function e(t){const i=this.getProperty("inParameters").customData;const r=i.map(e=>e.localDataProperty);const n=t.some(e=>r.includes(e));if(n){this._setInternalUpdatePending(true)}};n.setEnableChartBinding=function e(t){let i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];if(t&&i.length>0){this._handleInParamsChartBindingEnablement(i)}const r=this.inParamConditionUpdatePending||this.renderingUpdatePending;const n=t&&!r;const a=this.content?.getChartBinding();if(a){if(n&&a.isSuspended()){a.resume()}else if(!n&&!a.isSuspended()){a.suspend()}}this.setProperty("enableChartBinding",t,true)};n._setInternalUpdatePending=function e(){let t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.inParamConditionUpdatePending;let i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.renderingUpdatePending;const r=this.enableChartBinding;const n=this.content?.getChartBinding();const a=t||i;if(!a&&r&&n&&n.isSuspended()){n.resume()}else if(a&&n&&!n.isSuspended()){n.suspend()}this.inParamConditionUpdatePending=t;this.renderingUpdatePending=i};n.createContent=function e(){const t=Le([this.path]);const i="{= !${internal>"+t+"/showError}}";const r=document.body.classList.contains("sapUiSizeCozy");const n=r?"13rem":"100%";const a=r?"100%":"7.5rem";const o=r?"17rem":"20.5rem";const s=r?"":"sapUiTinyMarginBeginEnd";const l=this._contentId?Le([this._contentId]):undefined;return M(P,{id:l,height:n,width:o,class:s,children:{customData:M(A,{value:Le([this.path])},"infoPath"),items:I(v,{children:[M(m,{height:"2rem",class:"sapUiTinyMarginTopBottom",children:this.getToolbar(i)}),M(m,{height:a,width:"100%",children:Be(this)})]})}})};return r}(n),oe=Xe(ae.prototype,"__implements__sap_ui_core_IFormContent",[V],{configurable:true,enumerable:true,writable:true,initializer:function(){return true}}),se=Xe(ae.prototype,"showValueHelp",[S],{configurable:true,enumerable:true,writable:true,initializer:null}),le=Xe(ae.prototype,"valueHelpIconSrc",[U],{configurable:true,enumerable:true,writable:true,initializer:null}),ue=Xe(ae.prototype,"valueHelpRequest",[E],{configurable:true,enumerable:true,writable:true,initializer:null}),ce=Xe(ae.prototype,"id",[D],{configurable:true,enumerable:true,writable:true,initializer:null}),he=Xe(ae.prototype,"title",[z],{configurable:true,enumerable:true,writable:true,initializer:function(){return""}}),ge=Xe(ae.prototype,"contextPath",[H],{configurable:true,enumerable:true,writable:true,initializer:null}),pe=Xe(ae.prototype,"metaPath",[O],{configurable:true,enumerable:true,writable:true,initializer:null}),fe=Xe(ae.prototype,"outParameter",[x],{configurable:true,enumerable:true,writable:true,initializer:null}),de=Xe(ae.prototype,"valuelistProperty",[B],{configurable:true,enumerable:true,writable:true,initializer:null}),be=Xe(ae.prototype,"selectionVariantAnnotation",[F],{configurable:true,enumerable:true,writable:true,initializer:null}),me=Xe(ae.prototype,"inParameters",[L],{configurable:true,enumerable:true,writable:true,initializer:null}),ye=Xe(ae.prototype,"multipleSelectionAllowed",[R],{configurable:true,enumerable:true,writable:true,initializer:null}),Ae=Xe(ae.prototype,"required",[j],{configurable:true,enumerable:true,writable:true,initializer:null}),Pe=Xe(ae.prototype,"showOverlayInitially",[q],{configurable:true,enumerable:true,writable:true,initializer:null}),Te=Xe(ae.prototype,"renderLineChart",[N],{configurable:true,enumerable:true,writable:true,initializer:null}),we=Xe(ae.prototype,"requiredProperties",[$],{configurable:true,enumerable:true,writable:true,initializer:null}),Ce=Xe(ae.prototype,"filterBarEntityType",[k],{configurable:true,enumerable:true,writable:true,initializer:null}),Me=Xe(ae.prototype,"showError",[W],{configurable:true,enumerable:true,writable:true,initializer:null}),ve=Xe(ae.prototype,"chartMeasure",[Y],{configurable:true,enumerable:true,writable:true,initializer:null}),Ie=Xe(ae.prototype,"UoMHasCustomAggregate",[G],{configurable:true,enumerable:true,writable:true,initializer:null}),_e=Xe(ae.prototype,"showValueHelpButton",[J],{configurable:true,enumerable:true,writable:true,initializer:null}),Ve=Xe(ae.prototype,"customAggregate",[K],{configurable:true,enumerable:true,writable:true,initializer:function(){return false}}),Se=Xe(ae.prototype,"groupId",[Q],{configurable:true,enumerable:true,writable:true,initializer:function(){return"$auto.visualFilters"}}),Ue=Xe(ae.prototype,"errorMessageTitle",[X],{configurable:true,enumerable:true,writable:true,initializer:null}),Ee=Xe(ae.prototype,"errorMessage",[Z],{configurable:true,enumerable:true,writable:true,initializer:null}),De=Xe(ae.prototype,"_contentId",[ee],{configurable:true,enumerable:true,writable:true,initializer:null}),ze=Xe(ae.prototype,"draftSupported",[te],{configurable:true,enumerable:true,writable:true,initializer:null}),He=Xe(ae.prototype,"isValueListWithFixedValues",[ie],{configurable:true,enumerable:true,writable:true,initializer:null}),Oe=Xe(ae.prototype,"enableChartBinding",[re],{configurable:true,enumerable:true,writable:true,initializer:function(){return true}}),ae))||ne);xe=et;return xe},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/visualfilters/VisualFilterRuntime", ["sap/base/Log","sap/base/util/ObjectPath","sap/fe/macros/CommonHelper","sap/fe/macros/controls/filterbar/utils/VisualFilterUtils","sap/fe/macros/filter/FilterUtils","sap/fe/macros/filterBar/FilterHelper","sap/ui/core/Lib","sap/ui/mdc/condition/Condition","sap/ui/mdc/odata/v4/TypeMap","sap/ui/mdc/util/FilterUtil","sap/ui/model/Filter","sap/ui/model/FilterOperator"],function(e,t,r,n,i,s,o,a,l,f,c,g){"use strict";var u=s.getFiltersConditionsFromSelectionVariant;const d={selectionChanged(t){const r=t.getSource();const i=r.data("outParameter");const s=r.data("valuelistProperty");const o=r.data("dimension");const l=r.data("dimensionText");const f=r.data("multipleSelectionAllowed");const c=r.data("dimensionType");const g=t.getParameter("bar")||t.getParameter("point")||t.getParameter("segment");const u=t.getParameter("selected");const d=r.getModel("$field");let p=d.getProperty("/conditions");if(!i||s!==o){e.error("VisualFilter: Cannot sync values with regular filter as out parameter is not configured properly!")}else{let t=g?.getBindingContext()?.getObject(s);if(t){let e=g?.getBindingContext()?.getObject(l);if(typeof e!=="string"&&!(e instanceof String)){e=undefined}if(u){if(f===false){p=[]}if(c==="Edm.DateTimeOffset"){t=n._parseDateTime(t)}const r=a.createItemCondition(t,e||undefined,{},{});p.push(r)}else{p=p.filter(function(e){if(c==="Edm.DateTimeOffset"){return e.operator!=="EQ"||Date.parse(e.values[0])!==Date.parse(t)}return e.operator!=="EQ"||e.values[0]!==t})}d.setProperty("/conditions",p)}else{e.error("VisualFilter: No vaue found for the outParameter")}}},getAggregationSelected(e){let t=[];if(!this.getBindingContext()){return}for(let r=0;r<=e.length-1;r++){const n=e[r];if(n.operator==="EQ"){t.push(n.values[0])}}const r=this.getParent();const i=r.data("dimension");const s=r.data("dimensionType");let o=this.getBindingContext()?.getObject(i);if(s==="Edm.DateTimeOffset"){o=n._parseDateTime(o)}if(r.data("multipleSelectionAllowed")===false&&t.length>1){t=[t[0]]}return t.includes(o)},getParentVisualFilterControlBB(e){while(e&&!e.isA("sap.fe.macros.visualfilters.VisualFilter")){e=e.getParent()}return e},getFiltersFromConditions(){for(var t=arguments.length,s=new Array(t),a=0;a<t;a++){s[a]=arguments[a]}const p=this.getParent();const m=p.getParent()?.getParent()?.getParent()?.getParent()?.getParent();const h=p.data("inParameters").customData;const P=p.data("draftSupported")===true;const y=i.getFilterPropertyInfo(m);const E={};const F=[];let T;let C=[];const v=p.data("parameters");const _=p.data("selectionVariantAnnotation");const L=p.getBinding("bars")||p.getBinding("points")||p.getBinding("segments");const b=L.getPath();const V=p.getModel().getMetaModel();const S=L.getPath();const I=u(S,V,_,n.getCustomConditions.bind(n));for(const e in y){y[e].typeConfig=l.getTypeConfig(y[e].dataType,{},{})}const M=n.convertFilterCondions(I);Object.keys(M).forEach(function(e){E[e]=M[e];const t=h.find(function(t){return t.valueListProperty===e});const r=t?t.localDataProperty:e;if(!v||v&&!v.includes(e)){for(const t in y){const i=y[t];if(r===i.name){if(i?.typeConfig?.baseType==="DateTime"){if(E[e]){E[e].forEach(function(e){e.values[0]=n._formatDateTime(e.values[0])})}}F.push({name:e,typeConfig:i.typeConfig})}}}});h.forEach(function(e,t){if(s[t].length>0){E[e.valueListProperty]=s[t];if(!v||v&&!v.includes(e.valueListProperty)){for(const t in y){const r=y[t];if(r.name===e.localDataProperty){if(r?.typeConfig?.baseType==="DateTime"){if(E[e.valueListProperty]){E[e.valueListProperty].forEach(function(e){e.values[0]=n._formatDateTime(e.values[0])})}}F.push({name:e.valueListProperty,typeConfig:r.typeConfig})}}}}});const D=p.getBindingContext("internal");const O=p.data("infoPath");let R;const A=o.getResourceBundleFor("sap.fe.macros");const B=r.parseCustomData(p.data("requiredProperties"));if(B.length){const e=Object.keys(E)||[];const t=[];B.forEach(function(r){if(!e.includes(r)){t.push(r)}});if(!t.length){R=D.getProperty(`${O}/showError`);D.setProperty(O,{errorMessageTitle:"",errorMessage:"",showError:false})}else if(t.length>1){D.setProperty(O,{errorMessageTitle:A.getText("M_VISUAL_FILTERS_ERROR_MESSAGE_TITLE"),errorMessage:A.getText("M_VISUAL_FILTERS_PROVIDE_FILTER_VAL_MULTIPLEVF"),showError:true});return}else{const e=V.getObject(`${S}/${t[0]}@com.sap.vocabularies.Common.v1.Label`)||t[0];D.setProperty(O,{errorMessageTitle:A.getText("M_VISUAL_FILTERS_ERROR_MESSAGE_TITLE"),errorMessage:A.getText("M_VISUAL_FILTERS_PROVIDE_FILTER_VAL_SINGLEVF",[e]),showError:true});return}}else{R=D.getProperty(`${O}/showError`);D.setProperty(O,{errorMessageTitle:"",errorMessage:"",showError:false})}const w=m.data("entityType").split("/")[1];const x=b.split("/")[1].split("(")[0];if(v&&v.length&&w===x){const e=R?i.getBindingPathForParameters(m,E,y,v):undefined;if(e){L.sPath=e}}if(v&&v.length){v.forEach(function(e){if(E[e]){delete E[e]}})}if(Object.keys(E).length>0&&F.length){try{T=f.getFilterInfo(m,E,F,[]).filters}catch(t){e.debug("VisualFilter: Error while getting filters from MDCFilterUtil")}if(T){if(!T.getFilters()){C.push(T)}else if(T.getFilters()){C=T.getFilters()}}}if(P){C.push(new c("IsActiveEntity",g.EQ,true))}if(C&&C.length>0){L?.filter(C)}else if(!Object.keys(E).length){L?.filter()}if(R){const e=d.getParentVisualFilterControlBB(p);e?._setInternalUpdatePending(false)}return C},getFilterCounts(e){if(this.data("multipleSelectionAllowed")===false&&e.length>0){return`(1)`}if(e.length>0){return`(${e.length})`}else{return undefined}},scaleVisualFilterValue(e,t,r,i,s){if(t){return n.getFormattedNumber(s,t,r)}else if(i){return n.getFormattedNumber(s,undefined,undefined,i)}else if(r>0){r=r>2?2:r;return n.getFormattedNumber(s,undefined,r)}else{return e}},fireValueHelp(e){e.getSource().getParent()?.getParent()?.getParent()?.getParent()?.fireEvent("valueHelpRequest")}};t.set("sap.fe.macros.visualfilters.VisualFilterRuntime",d);return d},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/visualfilters/fragments/InteractiveCharts", ["sap/fe/core/helpers/StableIdHelper","sap/fe/core/helpers/TypeGuards","sap/suite/ui/microchart/InteractiveBarChart","sap/suite/ui/microchart/InteractiveBarChartBar","sap/suite/ui/microchart/InteractiveLineChart","sap/suite/ui/microchart/InteractiveLineChartPoint","sap/ui/core/CustomData","../InteractiveChartHelper","../VisualFilterRuntime","sap/fe/base/jsx-runtime/jsx","sap/fe/base/jsx-runtime/jsxs"],function(e,r,t,a,i,s,n,o,l,u,c){"use strict";var p={};var h=r.isPathAnnotationExpression;var d=e.generate;function m(e){if(e.showError){return g(e)}else if(e.chartType){return v(e)}else{return""}}p.getVisualFilterChart=m;function g(e){const r=e.chartAnnotation;if(e.chartMeasure&&r?.Dimensions&&r.Dimensions[0]){return u(i,{showError:e.showError,errorMessageTitle:e.errorMessageTitle,errorMessage:e.errorMessage})}return""}p.getInteractiveChartWithError=g;function v(e){const r=o.getInteractiveChartProperties(e);if(e.chartType==="UI.ChartType/Bar"){return c(t,{selectionChanged:e=>{l.selectionChanged(e)},...f(r,e),children:[y(r),{customData:T(e,r)}]})}else if(e.chartType==="UI.ChartType/Line"){return c(i,{selectionChanged:e=>{l.selectionChanged(e)},...f(r,e),children:[C(r),{customData:T(e,r)}]})}return""}p.getInteractiveChart=v;function f(e,r){const t={visible:e.showErrorExpression,showError:e.showErrorExpression,errorMessageTitle:e.errorMessageTitleExpression,errorMessage:e.errorMessageExpression};if(r.chartType==="UI.ChartType/Bar"){t.bars=e.aggregationBinding}else if(r.chartType==="UI.ChartType/Line"){t.points=e.aggregationBinding}return t}function y(e){const r={};r.bars=u(a,{label:e.chartLabel,value:e.measure,displayedValue:e.displayedValue,color:e.color,selected:"{path: '$field>/conditions', formatter: 'sap.fe.macros.visualfilters.VisualFilterRuntime.getAggregationSelected'}"});return r}function C(e){const r={};r.points=u(s,{label:e.chartLabel,value:e.measure,displayedValue:e.displayedValue,color:e.color,selected:"{path: '$field>/conditions', formatter: 'sap.fe.macros.visualfilters.VisualFilterRuntime.getAggregationSelected'}"});return r}function T(e,r){const t=d([e.metaPath]);const a=e.chartAnnotation?.Dimensions[0];return[u(n,{value:e.outParameter},"outParameter"),u(n,{value:e.valuelistProperty},"valuelistProperty"),u(n,{value:e.multipleSelectionAllowed},"multipleSelectionAllowed"),u(n,{value:a?.$target?.name},"dimension"),u(n,{value:h(a?.$target?.annotations.Common?.Text)?a?.$target?.annotations.Common?.Text.path:undefined},"dimensionText"),u(n,{value:r.scalefactor},"scalefactor"),u(n,{value:e.chartMeasure},"measure"),u(n,{value:r.uom},"uom"),u(n,{value:r.inParameters},"inParameters"),u(n,{value:r.inParameterFilters},"inParameterFilters"),u(n,{value:a?.$target?.type},"dimensionType"),u(n,{value:r.selectionVariant},"selectionVariantAnnotation"),u(n,{value:e.required},"required"),u(n,{value:e.showOverlayInitially},"showOverlayInitially"),u(n,{value:e.requiredProperties},"requiredProperties"),u(n,{value:t},"infoPath"),u(n,{value:r.stringifiedParameters},"parameters"),u(n,{value:e.draftSupported},"draftSupported")]}return p},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/navigation/NavError", ["sap/ui/base/Object"],function(t){"use strict";var r={};function o(t,r){t.prototype=Object.create(r.prototype),t.prototype.constructor=t,e(t,r)}function e(t,r){return e=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,r){return t.__proto__=r,t},e(t,r)}let n=function(t){function e(r){var o;o=t.call(this)||this;o._sErrorCode=r;return o}r.NavError=e;o(e,t);var n=e.prototype;n.getErrorCode=function t(){return this._sErrorCode};return e}(t);r.NavError=n;const c=t.extend("sap.fe.navigation.NavError",n.prototype);return c},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/navigation/NavigationHandler", ["sap/base/Log","sap/base/assert","sap/base/util/extend","sap/base/util/isEmptyObject","sap/base/util/merge","sap/ui/base/Object","sap/ui/core/UIComponent","sap/ui/core/routing/HashChanger","sap/ui/thirdparty/URI","sap/ui/thirdparty/jquery","sap/ui/util/openWindow","./NavError","./SelectionVariant","./library"],function(e,t,n,a,i,r,o,s,c,jQuery,l,p,f,u){"use strict";var d={};function h(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,g(e,t)}function g(e,t){return g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},g(e,t)}const S=u.NavType;const m=u.ParamHandlingMode;const v=u.SuppressionBehavior;const y=u.Mode;const A="sap-iapp-state";const _="sap-ushell-defaultedParameterNames";const V="nhHybridIAppStateKey";let I=function(r){function u(e){var t;let n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:y.ODataV4;let a=arguments.length>2&&arguments[2]!==undefined?arguments[2]:m.SelVarWins;t=r.call(this)||this;t._aTechnicalParamaters=["hcpApplicationId"];t._oLastSavedInnerAppData={sAppStateKey:"",oAppData:{},iCacheHit:0,iCacheMiss:0};t._rIAppStateOld=new RegExp("/"+A+"=([^/?]+)");t._rIAppStateOldAtStart=new RegExp("^"+A+"=([^/?]+)");t._rIAppStateNew=new RegExp("[?&]"+A+"=([^&]+)");t.IAPP_STATE=A;if(!e){throw new p("NavigationHandler.INVALID_INPUT")}if(e instanceof o){t.oRouter=e.getRouter();t.oComponent=e}else{if(typeof e.getOwnerComponent!=="function"){throw new p("NavigationHandler.INVALID_INPUT")}t.oRouter=t._getRouter(e);t.oComponent=e.getOwnerComponent()}if(t.oComponent&&t.oComponent.getAppComponent){t.oComponent=t.oComponent.getAppComponent?.()}if(typeof t.oRouter==="undefined"||typeof t.oComponent==="undefined"||typeof t.oComponent.getComponentData!=="function"){throw new p("NavigationHandler.INVALID_INPUT")}if(a===m.URLParamWins||a===m.InsertInSelOpt){t.sParamHandlingMode=a}else{t.sParamHandlingMode=m.SelVarWins}if(n===y.ODataV2){t._sMode=n}return t}d.NavigationHandler=u;h(u,r);var g=u.prototype;g._getAppNavigationService=function e(){const t=sap.ui.require("sap/ushell/Container");return t.getService("CrossApplicationNavigation")};g._getAppNavigationServiceAsync=async function t(){const n=sap.ui.require("sap/ushell/Container");return n?.getServiceAsync("Navigation").then(function(e){return e}).catch(function(){e.error("NavigationHandler: Navigation is not available.");throw new p("NavigationHandler.NO.XAPPSERVICE")})};g._getRouter=function e(t){return o.getRouterFor(t)};g.registerNavigateCallback=function e(t){this._navigateCallback=t};g.navigate=function t(n,a,i,r,o,s,c){let u,d,h,g,S=false,m={};const v=this;const y=this.oComponent.getComponentData();if(y){g=y.startupParameters;if(g&&g["sap-ushell-next-navmode"]&&g["sap-ushell-next-navmode"].length>0){S=g["sap-ushell-next-navmode"][0]==="explace"}}if(c&&(c==="inplace"||c==="explace")){S=c==="explace"}else if(c){throw new p("NavigationHandler.INVALID_NAV_MODE")}if(s===undefined||s===null){h={}}else{h=s}if(typeof i==="string"){u=i}else if(typeof i==="object"){const e=this._splitInboundNavigationParameters(new f,i,[]).oNavigationSelVar;u=e.toJSONString()}else{throw new p("NavigationHandler.INVALID_INPUT")}m.selectionVariant=new f(u);if(typeof i==="string"){m.selectionVariant=this._removeTechnicalParameters(m.selectionVariant)}m.selectionVariant=m.selectionVariant&&m.selectionVariant.toJSONObject();m=this._removeMeasureBasedInformation(m);m=this._checkIsPotentiallySensitive(m);if(m.selectionVariant){d=this._getURLParametersFromSelectionVariant(new f(m.selectionVariant));u=new f(m.selectionVariant).toJSONString()}else{d={};u=null}const A={target:{semanticObject:n,action:a},params:d||{}};const _=async function(t){if(!h.selectionVariant){h.selectionVariant=u}const n=function(){const n=t.getHref(A,v.oComponent);n.then(function(e){l(e);return}).catch(function(t){e.error("Error while retireving hrefForExternal : "+t)})};h=v._removeMeasureBasedInformation(h);return v._fnSaveAppStateAsync(h,o).then(function(e){if(e){A.appStateKey=e.appStateKey;if(c=="explace"){n()}else{const e=t.navigate(A,v.oComponent);if(v._navigateCallback){v._navigateCallback(e)}}}return})};const V=function(e){v.storeInnerAppStateAsync(r,true).then(async function(t){if(t){v.replaceHash(t)}return _(e)}).catch(function(e){if(o){o(e)}})};if(c){A.params["sap-ushell-navmode"]=S?"explace":"inplace"}v._getAppNavigationServiceAsync().then(async function(e){try{const t=await e.isNavigationSupported([A],v.oComponent);if(t[0].supported){if(!S){V(e)}else{_(e)}}else if(o){const e=new p("NavigationHandler.isIntentSupported.notSupported");o(e)}}catch(e){if(o){const e=v._createTechnicalError("NavigationHandler.isIntentSupported.failed");o(e)}}return}).catch(function(e){if(o){o(e)}})};g.parseNavigation=function t(){const n=s.getInstance().getHash();const a=this._getInnerAppStateKey(n);let i=this.oComponent.getComponentData();if(i===undefined){e.warning("The navigation Component's data was not set properly; assuming instead that no parameters are provided.");i={}}const r=i.startupParameters;const o=r?.[V]?.[0];const c=jQuery.Deferred();let l;if(o!==undefined){l=this._loadAppState(o,c,S.hybrid)}let p=[];if(r&&r[_]&&r[_].length>0){p=JSON.parse(r[_][0])}const u=jQuery.Deferred();const d=this;const h=function(e,t,n,a){const i=d._splitInboundNavigationParameters(new f,e,t);if(i.oNavigationSelVar.isEmpty()&&i.oDefaultedSelVar.isEmpty()&&a!==S.hybrid){if(a===S.xAppState){const t=d._createTechnicalError("NavigationHandler.getDataFromAppState.failed");n.reject(t,e||{},S.xAppState)}else{n.resolve({},e,S.initial)}}else{const t={};t.selectionVariant=i.oNavigationSelVar.toJSONString();t.oSelectionVariant=i.oNavigationSelVar;t.oDefaultedSelectionVariant=i.oDefaultedSelVar;t.bNavSelVarHasDefaultsOnly=i.bNavSelVarHasDefaultsOnly;if(a===S.hybrid){const e=function(e,a,i){t.iAppState=e;n.resolve(t,r,i)};const a=function(e,t,a){n.reject(e,t,a)};if(l!==undefined){l.done(e);l.fail(a)}}else{n.resolve(t,e,a)}}};if(a){this._loadAppState(a,u,S.iAppState)}else{const e=i["sap-xapp-state"]!==undefined;if(e){const e=this;this._getAppNavigationServiceAsync().then(function(t){return t.getStartupAppState(e.oComponent)}).catch(function(){const e=d._createTechnicalError("NavigationHandler.getStartupState.failed");u.reject(e,{},S.xAppState)}).then(function(t){let n=t.getData();let a;if(n){try{n=JSON.parse(JSON.stringify(n))}catch(e){a=d._createTechnicalError("NavigationHandler.AppStateData.parseError");u.reject(a,r,S.xAppState);return u.promise()}}if(n){const t=new f(n.selectionVariant);const a=d._splitInboundNavigationParameters(t,r,p);n.selectionVariant=a.oNavigationSelVar.toJSONString();n.oSelectionVariant=a.oNavigationSelVar;n.oDefaultedSelectionVariant=a.oDefaultedSelVar;n.bNavSelVarHasDefaultsOnly=a.bNavSelVarHasDefaultsOnly;const i=function(e,t,a){n.iAppState=e;u.resolve(n,r,a)};const s=function(e,t,n){e=d._createTechnicalError("NavigationHandler.getAppState.failed");u.reject(e,t,n)};if(o!==undefined&&l!==undefined){l.done(i);l.fail(s)}else if(n[V]){e._loadAppState(n[V],c,S.hybrid).done(i)}else{u.resolve(n,r,S.xAppState)}}else if(r){h(r,p,u,S.xAppState)}else{a=d._createTechnicalError("NavigationHandler.getDataFromAppState.failed");u.reject(a,r||{},S.xAppState)}return}).catch(function(){const e=d._createTechnicalError("NavigationHandler._getAppNavigationServiceAsync.failed");u.reject(e,{},S.xAppState)})}else if(r){h(r,p,u,o!==undefined?S.hybrid:S.URLParams)}else{u.resolve({},{},S.initial)}}return u.promise()};g.setTechnicalParameters=function t(n){if(!n){n=[]}if(!Array.isArray(n)){e.error("NavigationHandler: parameter incorrect, array of strings expected");throw new p("NavigationHandler.INVALID_INPUT")}this._aTechnicalParamaters=n};g.getTechnicalParameters=function e(){return this._aTechnicalParamaters.concat([])};g._isTechnicalParameter=function e(t){if(t){if(!(t==="sap-ui-fe-variant-id"||t==="sap-ui-fe-table-variant-id"||t==="sap-ui-fe-chart-variant-id"||t==="sap-ui-fe-filterbar-variant-id")){if(t.toLowerCase().indexOf("sap-")===0){return true}else if(this._aTechnicalParamaters.includes(t)){return true}}}return false};g._isFEParameter=function e(t){return t.toLowerCase().indexOf("sap-ui-fe")===0};g._removeTechnicalParameters=function e(t){let n,a;const i=t.getSelectOptionsPropertyNames();for(a=0;a<i.length;a++){n=i[a];if(this._isTechnicalParameter(n)){t.removeSelectOption(n)}}return t};g._splitInboundNavigationParameters=function e(t,n,a){if(!Array.isArray(a)){throw new p("NavigationHandler.INVALID_INPUT")}let i,r;const o={};for(i in n){if(!n.hasOwnProperty(i)){continue}if(this._isTechnicalParameter(i)||this._isFEParameter(i)||i===V){continue}if(typeof n[i]==="string"){o[i]=n[i]}else if(Array.isArray(n[i])&&n[i].length===1){o[i]=n[i][0]}else if(Array.isArray(n[i])&&n[i].length>1){o[i]=n[i]}else{throw new p("NavigationHandler.INVALID_INPUT")}}const s=new f;const c=new f;const l=t.getParameterNames().concat(t.getSelectOptionsPropertyNames());for(r=0;r<l.length;r++){i=l[r];if(i in o){if(a.includes(i)){c.massAddSelectOption(i,t.getValue(i));this._addParameterValues(s,i,"I","EQ",o[i])}else{switch(this.sParamHandlingMode){case m.SelVarWins:c.massAddSelectOption(i,t.getValue(i));break;case m.URLParamWins:this._addParameterValues(c,i,"I","EQ",o[i]);break;case m.InsertInSelOpt:c.massAddSelectOption(i,t.getValue(i));this._addParameterValues(c,i,"I","EQ",o[i]);break;default:throw new p("NavigationHandler.INVALID_INPUT")}}}else if(a.includes(i)){s.massAddSelectOption(i,t.getValue(i))}else{c.massAddSelectOption(i,t.getValue(i))}}for(i in o){if(l.includes(i)){continue}if(a.includes(i)){this._addParameterValues(s,i,"I","EQ",o[i])}else{this._addParameterValues(c,i,"I","EQ",o[i])}}let u=false;if(c.isEmpty()){u=true;const e=s.getSelectOptionsPropertyNames();for(r=0;r<e.length;r++){c.massAddSelectOption(e[r],s.getValue(e[r]))}}return{oNavigationSelVar:c,oDefaultedSelVar:s,bNavSelVarHasDefaultsOnly:u}};g._addParameterValues=function e(t,n,a,i,r){if(Array.isArray(r)){for(let e=0;e<r.length;e++){t.addSelectOption(n,a,i,r[e])}}else{t.addSelectOption(n,a,i,r)}};g.replaceHash=function e(t){const n=this.oRouter.oHashChanger?this.oRouter.oHashChanger:s.getInstance();const a=n.getHash();const i=this._replaceInnerAppStateKey(a,t);n.replaceHash(i)};g.storeInnerAppStateAsync=function t(n,i,r){if(typeof i!=="boolean"){i=true}const o=this;const c=jQuery.Deferred();const l=function(e){const t=o.oRouter.oHashChanger?o.oRouter.oHashChanger:s.getInstance();const n=t.getHash();const a=o._replaceInnerAppStateKey(n,e);t.replaceHash(a)};if(a(n)){c.resolve("");return c.promise()}const p=this._oLastSavedInnerAppData.sAppStateKey;const f=JSON.stringify(n)===JSON.stringify(this._oLastSavedInnerAppData.oAppData);if(f&&p){this._oLastSavedInnerAppData.iCacheHit++;l(p);c.resolve(p);return c.promise()}this._oLastSavedInnerAppData.iCacheMiss++;const u=function(e){if(!r&&!i){l(e)}o._oLastSavedInnerAppData.oAppData=n;o._oLastSavedInnerAppData.sAppStateKey=e;c.resolve(e)};const d=function(e){c.reject(e)};this._saveAppStateAsync(n,u,d).then(function(e){if(e!==undefined){if(!r&&i){l(e)}}return}).catch(function(){e.error("NavigationHandler._saveAppStateAsync failed")});return c.promise()};g.storeInnerAppState=function t(n,i){e.error("Deprecated API call of 'sap.fe.navigation.NavigationHandler.storeInnerAppState'. Please use 'storeInnerAppStateAsync' instead",undefined,"sap.fe.navigation.NavigationHandler");if(typeof i!=="boolean"){i=true}const r=this;const o=jQuery.Deferred();const c=function(e){const t=r.oRouter.oHashChanger?r.oRouter.oHashChanger:s.getInstance();const n=t.getHash();const a=r._replaceInnerAppStateKey(n,e);t.replaceHash(a)};if(a(n)){o.resolve("");return o.promise()}const l=this._oLastSavedInnerAppData.sAppStateKey;const p=JSON.stringify(n)===JSON.stringify(this._oLastSavedInnerAppData.oAppData);if(p&&l){this._oLastSavedInnerAppData.iCacheHit++;c(l);o.resolve(l);return o.promise()}this._oLastSavedInnerAppData.iCacheMiss++;const f=function(e){if(!i){c(e)}r._oLastSavedInnerAppData.oAppData=n;r._oLastSavedInnerAppData.sAppStateKey=e;o.resolve(e)};const u=function(e){o.reject(e)};const d=this._saveAppState(n,f,u);if(d!==undefined){if(i){c(d)}}return o.promise()};g.storeInnerAppStateWithImmediateReturn=function t(n,i){e.error("Deprecated API call of 'sap.fe.navigation.NavigationHandler.storeInnerAppStateWithImmediateReturn'. Please use 'storeInnerAppStateAsync' instead",undefined,"sap.fe.navigation.NavigationHandler");if(typeof i!=="boolean"){i=false}const r=this;const o=jQuery.Deferred();if(a(n)){return{appStateKey:"",promise:o.resolve("")}}const s=this._oLastSavedInnerAppData.sAppStateKey;const c=JSON.stringify(n)===JSON.stringify(this._oLastSavedInnerAppData.oAppData);if(c&&s){this._oLastSavedInnerAppData.iCacheHit++;return{appStateKey:s,promise:o.resolve(s)}}this._oLastSavedInnerAppData.iCacheMiss++;const l=function(e){if(!i){r.replaceHash(e)}r._oLastSavedInnerAppData.oAppData=n;r._oLastSavedInnerAppData.sAppStateKey=e;o.resolve(e)};const p=function(e){o.reject(e)};const f=this._saveAppState(n,l,p);return{appStateKey:f,promise:o.promise()}};g.processBeforeSmartLinkPopoverOpens=function e(t,n,a,i){const r=jQuery.Deferred();let o;if(t!=undefined){o=t.semanticAttributes}let s;const c=this;if(i===undefined){s={}}else{s=i}const l=function(e,n){n=s.selectionVariant||n||"{}";const a=v.raiseErrorOnNull|v.raiseErrorOnUndefined;const i=c.mixAttributesAndSelectionVariant(e,n,a);n=i.toJSONString();let o={};o.selectionVariant=i.toJSONObject();o=c._removeMeasureBasedInformation(o);o=c._checkIsPotentiallySensitive(o);e=o.selectionVariant?c._getURLParametersFromSelectionVariant(new f(o.selectionVariant)):{};const l=function(n){if(t===undefined){r.resolve(e,n)}else{t.setSemanticAttributes(e);t.setAppStateKey(n);t.open();r.resolve(t)}};const p=function(e){r.reject(e)};s.selectionVariant=n;s=c._removeMeasureBasedInformation(s);c._saveAppStateAsync(s,l,p)};if(a){const e=this.storeInnerAppStateAsync(a,true);e.done(function(){l(o,n)});e.fail(function(e){r.reject(e)})}else{l(o,n)}return r.promise()};g._getAppStateKeyAndUrlParameters=function e(t){return this.processBeforeSmartLinkPopoverOpens(undefined,t,undefined,undefined)};g._getAppSpecificHash=async function t(n){try{const e=await this._getAppNavigationServiceAsync();return await e.getHref({appSpecificRoute:n})}catch(t){const n=t instanceof Error?t.message:String(t);e.error(`FE : Can not fetch App sepcific URL : ${n}`);throw Error(n)}};g._mixAttributesToSelVariant=function t(n,a,i){for(const t in n){if(n.hasOwnProperty(t)){let r=n[t];if(r instanceof Date){r=r.toJSON()}else if(Array.isArray(r)||r&&typeof r==="object"){r=JSON.stringify(r)}else if(typeof r==="number"||typeof r==="boolean"){r=r.toString()}if(r===""){if(i&v.ignoreEmptyString){e.info("Semantic attribute "+t+" is an empty string and due to the chosen Suppression Behiavour is being ignored.");continue}}if(r===null){if(i&v.raiseErrorOnNull){throw new p("NavigationHandler.INVALID_INPUT")}else{e.warning("Semantic attribute "+t+" is null and ignored for mix in to selection variant");continue}}if(r===undefined){if(i&v.raiseErrorOnUndefined){throw new p("NavigationHandler.INVALID_INPUT")}else{e.warning("Semantic attribute "+t+" is undefined and ignored for mix in to selection variant");continue}}if(typeof r==="string"||r instanceof String){a.addSelectOption(t,"I","EQ",r.toString())}else{throw new p("NavigationHandler.INVALID_INPUT")}}}return a};g.mixAttributesAndSelectionVariant=function e(t,n){let a=arguments.length>2&&arguments[2]!==undefined?arguments[2]:v.standard;const i=new f(n);const r=new f;const o=this;const s=i.getFilterContextUrl();if(s){r.setFilterContextUrl(s)}const c=i.getParameterContextUrl();if(c){r.setParameterContextUrl(c)}if(Array.isArray(t)){t.forEach(function(e){o._mixAttributesToSelVariant(e,r,a)})}else{this._mixAttributesToSelVariant(t,r,a)}const l=i.getParameterNames();let p;for(p=0;p<l.length;p++){if(!r.getSelectOption(l[p])){r.addSelectOption(l[p],"I","EQ",i.getParameter(l[p]))}}const u=i.getSelectOptionsPropertyNames();for(p=0;p<u.length;p++){const e=i.getSelectOption(u[p]);if(!r.getSelectOption(u[p])){for(let t=0;t<e.length;t++){r.addSelectOption(u[p],e[t].Sign,e[t].Option,e[t].Low,e[t].High)}}}return r};g._ensureSelectionVariantFormatString=function e(t){if(t===undefined){return undefined}let n=t;if(typeof t==="object"){n=JSON.stringify(t)}return n};g._fnHandleAppStatePromise=function e(t,n,a){t.promise.done(function(){if(n){n(t.appStateKey)}});if(a){const e=this;t.promise.fail(function(){const t=e._createTechnicalError("NavigationHandler.AppStateSave.failed");a(t)})}};g._saveAppStateAsync=async function e(t,n,a){const i=this;return this._fnSaveAppStateAsync(t,a).then(function(e){if(e){i._fnHandleAppStatePromise(e,n,a);return e.appStateKey}return undefined})};g._saveAppState=function e(t,n,a){const i=this._saveAppStateWithImmediateReturn(t,a);if(i){this._fnHandleAppStatePromise(i,n,a);return i.appStateKey}return undefined};g._fnSaveAppStateWithImmediateReturn=function e(t,n,a){const i=n.getKey();const r=this._fetchAppDataForSave(t,a);if(!r){return undefined}n.setData(r);const o=n.save();return{appStateKey:i,promise:o.promise()}};g._fetchAppDataForSave=function e(t,a){let r={};if(t.hasOwnProperty("selectionVariant")){r.selectionVariant=t.selectionVariant;if(t.selectionVariant){if(typeof t.selectionVariant==="string"){try{r.selectionVariant=JSON.parse(t.selectionVariant)}catch(e){const t=this._createTechnicalError("NavigationHandler.AppStateSave.parseError");if(a){a(t)}return undefined}}}}if(this._sMode===y.ODataV2){r=n({selectionVariant:{},tableVariantId:"",customData:{}},r);if(t.tableVariantId){r.tableVariantId=t.tableVariantId}if(t.customData){r.customData=t.customData}if(t.presentationVariant){r.presentationVariant=t.presentationVariant}if(t.valueTexts){r.valueTexts=t.valueTexts}if(t.semanticDates){r.semanticDates=t.semanticDates}}else{const e=Object.assign({},t);r=i(e,r)}r=this._checkIsPotentiallySensitive(r);return r};g._fnSaveAppStateAsync=async function e(t,n){const a=this;return this._getAppNavigationServiceAsync().then(async function(e){return e.createEmptyAppState(a.oComponent)}).then(function(e){return a._fnSaveAppStateWithImmediateReturn(t,e,n)}).catch(function(e){if(n){n(e)}})};g._saveAppStateWithImmediateReturn=function e(t,n){const a=this._getAppNavigationService().createEmptyAppState(this.oComponent);return this._fnSaveAppStateWithImmediateReturn(t,a,n)};g._loadAppState=function e(t,n,a){const r=this;this._getAppNavigationServiceAsync().then(function(e){return e.getAppState(r.oComponent,t)}).catch(function(){const e=r._createTechnicalError("NavigationHandler._getAppNavigationServiceAsync.failed");n.reject(e,{},a)}).then(function(e){let o={};const s=e.getData();if(typeof s==="undefined"){const e=r._createTechnicalError("NavigationHandler.getDataFromAppState.failed");n.reject(e,{},a)}else if(r._sMode===y.ODataV2){o={selectionVariant:"{}",oSelectionVariant:new f,oDefaultedSelectionVariant:new f,bNavSelVarHasDefaultsOnly:false,tableVariantId:"",customData:{},appStateKey:t,presentationVariant:{},valueTexts:{},semanticDates:{},data:{}};if(s.selectionVariant){o.selectionVariant=r._ensureSelectionVariantFormatString(s.selectionVariant);o.oSelectionVariant=new f(o.selectionVariant)}if(s.tableVariantId){o.tableVariantId=s.tableVariantId}if(s.customData){o.customData=s.customData}if(s.presentationVariant){o.presentationVariant=s.presentationVariant}if(s.valueTexts){o.valueTexts=s.valueTexts}if(s.semanticDates){o.semanticDates=s.semanticDates}if(a===S.hybrid){o.data=s}}else{o=i(o,s);if(s.selectionVariant){o.selectionVariant=r._ensureSelectionVariantFormatString(s.selectionVariant);o.oSelectionVariant=new f(o.selectionVariant)}}n.resolve(o,{},a);return}).catch(function(){const e=r._createTechnicalError("NavigationHandler.getAppState.failed");n.reject(e,{},a)});return n};g._getInnerAppStateKey=function e(t){if(!t){return undefined}let n=this._rIAppStateNew.exec(t);if(n===null){n=this._rIAppStateOld.exec(t)}if(n===null){n=this._rIAppStateOldAtStart.exec(t)}if(n===null){return undefined}return n[1]};g._replaceInnerAppStateKey=function e(n,a){const i=A+"="+a;if(!n){return"?"+i}const r=function(e){if(e.indexOf("?")!==-1){return e+"&"+i}return e+"?"+i};if(!this._getInnerAppStateKey(n)){return r(n)}if(this._rIAppStateNew.test(n)){return n.replace(this._rIAppStateNew,function(e){return e.replace(/[=].*/gi,"="+a)})}const o=function(e,t){t=t.replace(e,"");return r(t)};if(this._rIAppStateOld.test(n)){return o(this._rIAppStateOld,n)}if(this._rIAppStateOldAtStart.test(n)){return o(this._rIAppStateOldAtStart,n)}t(false,"internal inconsistency: Approach of sap-iapp-state not known, but _getInnerAppStateKey returned it");return undefined};g._getURLParametersFromSelectionVariant=function e(t){const n={};let a=0;let i;if(typeof t==="string"){i=new f(t)}else if(typeof t==="object"){i=t}else{throw new p("NavigationHandler.INVALID_INPUT")}const r=i.getSelectOptionsPropertyNames();for(a=0;a<r.length;a++){const e=i.getSelectOption(r[a]);if(e&&e.length===1&&e[0].Sign==="I"&&e[0].Option==="EQ"){n[r[a]]=e[0].Low}}const o=i.getParameterNames();for(a=0;a<o.length;a++){const e=i.getParameter(o[a]);n[o[a]]=e}return n};g._createTechnicalError=function e(t){return new p(t)};g.setModel=function e(t){this._oModel=t};g._getModel=function e(){return this._oModel||this.oComponent.getModel()};g._removeAllProperties=function e(t){if(t){if(t.selectionVariant){t.selectionVariant=null}if(t.valueTexts){t.valueTexts=null}if(t.semanticDates){t.semanticDates=null}}};g._removeProperties=function e(t,n,a){if(t.length&&a&&(a.selectionVariant||a.valueTexts||a.semanticDates)){t.forEach(function(e){if(a.selectionVariant.SelectOptions){a.selectionVariant.SelectOptions.some(function(t,n){if(e===t.PropertyName){a.selectionVariant.SelectOptions.splice(n,1);return true}return false})}if(a.valueTexts&&a.valueTexts.Texts){a.valueTexts.Texts.forEach(function(t){if(t.PropertyTexts){t.PropertyTexts.some(function(n,a){if(e===n.PropertyName){t.PropertyTexts.splice(a,1);return true}return false})}})}if(a.semanticDates&&a.semanticDates.Dates){a.semanticDates.Dates.forEach(function(t,n){if(e===t.PropertyName){a.semanticDates.Dates.splice(n,1)}})}})}if(n.length&&a&&a.selectionVariant&&a.selectionVariant.Parameters){n.forEach(function(e){a.selectionVariant.Parameters.some(function(t,n){if(e===t.PropertyName||"$Parameter."+e===t.PropertyName){a.selectionVariant.Parameters.splice(n,1);return true}return false})})}};g._isTermTrue=function e(t,n){const a=function(e){if(e){return e.Bool?e.Bool!=="false":true}return false};return!!t[n]&&a(t[n])};g._isExcludedFromNavigationContext=function e(t){return this._isTermTrue(t,"com.sap.vocabularies.UI.v1.ExcludeFromNavigationContext")};g._isPotentiallySensitive=function e(t){return this._isTermTrue(t,"com.sap.vocabularies.PersonalData.v1.IsPotentiallySensitive")};g._isMeasureProperty=function e(t){return this._isTermTrue(t,"com.sap.vocabularies.Analytics.v1.Measure")};g._isToBeExcluded=function e(t){return this._isPotentiallySensitive(t)||this._isExcludedFromNavigationContext(t)};g.constructContextUrl=function e(t,n){if(!t){throw new p("NavigationHandler.NO_ENTITY_SET_PROVIDED")}if(n===undefined){n=this._getModel()}return this._constructContextUrl(n)+"#"+t};g._constructContextUrl=function e(t){let n;if(t.isA("sap.ui.model.odata.v2.ODataModel")){n=t._getServerUrl()}else if(t.isA("sap.ui.model.odata.v4.ODataModel")){const e=new c(t.getServiceUrl()).absoluteTo(document.baseURI);n=new c("/").absoluteTo(e).toString()}if(n&&n.lastIndexOf("/")===n.length-1){n=n.substring(0,n.length-1)}return n+t.sServiceUrl+"/$metadata"};g._checkIsPotentiallySensitive=function t(a){let i=a;if(a&&a.selectionVariant&&(a.selectionVariant.FilterContextUrl&&a.selectionVariant.SelectOptions||a.selectionVariant.ParameterContextUrl&&a.selectionVariant.Parameters)){const t=this._getModel();if(this.oComponent&&t&&t.isA("sap.ui.model.odata.v2.ODataModel")){const r=[];const o=[];let s,c,l,p,f,u=[],d=[];const h=t.getMetaModel();if(t.getServiceMetadata()&&h?.oModel){if(a.selectionVariant.FilterContextUrl){u=a.selectionVariant.FilterContextUrl.split("#")}if(u.length===2&&a.selectionVariant.SelectOptions&&this._constructContextUrl(t).indexOf(u[0])===0){c=h.getODataEntitySet(u[1]);if(c){l=h.getODataEntityType(c.entityType)}else{l=h.getODataEntityType(u[1])}if(l){if(l&&l.property){for(s=0;s<l.property.length;s++){if(this._isToBeExcluded(l.property[s])){r.push(l.property[s].name)}}}if(l.navigationProperty){for(s=0;s<l.navigationProperty.length;s++){f=h.getODataAssociationEnd(l,l.navigationProperty[s].name);if(!f||f.type===a.selectionVariant.FilterContextUrl){continue}if(f.multiplicity==="1"||f.multiplicity==="0..1"){p=h.getODataEntityType(f.type);if(p&&p.property){for(let e=0;e<p.property.length;e++){if(this._isToBeExcluded(p.property[e])){r.push(l.navigationProperty[s].name+"."+p.property[e].name)}}}}}}}}if(a.selectionVariant.ParameterContextUrl){d=a.selectionVariant.ParameterContextUrl.split("#")}if(d.length===2&&a.selectionVariant.Parameters&&this._constructContextUrl(t).indexOf(d[0])===0){c=h.getODataEntitySet(d[1]);if(c){l=h.getODataEntityType(c.entityType)}else{l=h.getODataEntityType(u[1])}if(l){if(l.property){for(s=0;s<l.property.length;s++){if(this._isToBeExcluded(l.property[s])){o.push(l.property[s].name)}}}}}if(r.length||o.length){i=n(true,{},i);this._removeProperties(r,o,i)}}else{this._removeAllProperties(i);e.error("NavigationHandler: oMetadata are not fully loaded!")}}else if(this.oComponent&&t&&t.isA("sap.ui.model.odata.v4.ODataModel")){return this._removeSensitiveDataForODataV4(i)}}return i};g._removeMeasureBasedInformation=function t(n){let a=n;if(n.selectionVariant){if(typeof n.selectionVariant==="string"){try{a.selectionVariant=JSON.parse(n.selectionVariant)}catch(t){e.error("NavigationHandler: _removeMeasureBasedInformation parse error")}}a=this._removeMeasureBasedProperties(a)}return a};g._removeMeasureBasedProperties=function t(a){let i=a;const r=[];const o=[];let s,c,l,p,f,u,d,h=[],g=[];if(a&&a.selectionVariant&&(a.selectionVariant.FilterContextUrl&&a.selectionVariant.SelectOptions||a.selectionVariant.ParameterContextUrl&&a.selectionVariant.Parameters)){c=this._getModel();if(this.oComponent&&c&&c.isA("sap.ui.model.odata.v2.ODataModel")){l=c.getMetaModel();if(c.getServiceMetadata()&&l&&l.oModel){if(a.selectionVariant.FilterContextUrl){h=a.selectionVariant.FilterContextUrl.split("#")}if(h.length===2&&a.selectionVariant.SelectOptions&&this._constructContextUrl(c).indexOf(h[0])===0){p=l.getODataEntitySet(h[1]);if(p){f=l.getODataEntityType(p.entityType)}else{f=l.getODataEntityType(h[1])}if(f){if(f&&f.property){for(s=0;s<f.property.length;s++){if(this._isMeasureProperty(f.property[s])){r.push(f.property[s].name)}}}if(f.navigationProperty){for(s=0;s<f.navigationProperty.length;s++){d=l.getODataAssociationEnd(f,f.navigationProperty[s].name);if(!d||d.type===a.selectionVariant.FilterContextUrl){continue}if(d.multiplicity==="1"||d.multiplicity==="0..1"){u=l.getODataEntityType(d.type);if(u&&u.property){for(let e=0;e<u.property.length;e++){if(this._isMeasureProperty(u.property[e])){r.push(f.navigationProperty[s].name+"."+u.property[e].name)}}}}}}}}if(a.selectionVariant.ParameterContextUrl){g=a.selectionVariant.ParameterContextUrl.split("#")}if(g.length===2&&a.selectionVariant.Parameters&&this._constructContextUrl(c).indexOf(g[0])===0){p=l.getODataEntitySet(g[1]);if(p){f=l.getODataEntityType(p.entityType)}else{f=l.getODataEntityType(h[1])}if(f){if(f.property){for(s=0;s<f.property.length;s++){if(this._isMeasureProperty(f.property[s])){o.push(f.property[s].name)}}}}}if(r.length||o.length){i=n(true,{},i);this._removeProperties(r,o,i)}}else{this._removeAllProperties(i);e.error("NavigationHandler: oMetadata are not fully loaded!")}}else if(this.oComponent&&c&&c.isA("sap.ui.model.odata.v4.ODataModel")){return this._removeSensitiveDataForODataV4(i,true)}}return i};g._removeSensitiveDataForODataV4=function t(n,a){const i=this,r=new f(n.selectionVariant),o=this._getModel();let s;if(!o.getMetaModel().getObject("/")){this._removeAllProperties(n);e.error("NavigationHandler: oMetadata are not fully loaded!");return n}if(n.selectionVariant.FilterContextUrl){s=n.selectionVariant.FilterContextUrl.split("#")}if(s?.length===2&&n.selectionVariant.SelectOptions&&this._constructContextUrl(o).indexOf(s[0])===0){r.removeSelectOption("@odata.context");r.removeSelectOption("@odata.metadataEtag");r.removeSelectOption("SAP__Messages");const e=s[1],t=o.getMetaModel(),c=r.getPropertyNames()||[],l=function(n,r){r=r||e;const o=t.getObject("/"+r+"/"+n+"@");if(o){if(a&&o["@com.sap.vocabularies.Analytics.v1.Measure"]||i._checkPropertyAnnotationsForSensitiveData(o)){return true}else if(o["@com.sap.vocabularies.Common.v1.FieldControl"]){const e=o["@com.sap.vocabularies.Common.v1.FieldControl"];if(e["$EnumMember"]&&e["$EnumMember"].split("/")[1]==="Inapplicable"){return true}}}return false};for(let t=0;t<c.length;t++){const n=c[t];if(l(n,e)){r.removeSelectOption(n)}}n.selectionVariant=r.toJSONObject()}return n};g._checkPropertyAnnotationsForSensitiveData=function e(t){return!!(t["@com.sap.vocabularies.PersonalData.v1.IsPotentiallySensitive"]||t["@com.sap.vocabularies.UI.v1.ExcludeFromNavigationContext"])};g.getIAppStateKey=function e(){const t=s.getInstance().getHash();return this._getInnerAppStateKey(t)};return u}(r);d.NavigationHandler=I;const N=r.extend("sap.fe.navigation.NavigationHandler",I.prototype);return N},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/navigation/PresentationVariant", ["sap/base/Log","sap/ui/base/Object","./NavError"],function(t,i,e){"use strict";var n={};function s(t,i){t.prototype=Object.create(i.prototype),t.prototype.constructor=t,r(t,i)}function r(t,i){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,i){return t.__proto__=i,t},r(t,i)}let a=function(i){function r(t){var n;n=i.call(this)||this;n.id="";if(t!==undefined){if(typeof t==="string"){n.parseFromString(t)}else if(typeof t==="object"){n.parseFromObject(t)}else{throw new e("PresentationVariant.INVALID_INPUT_TYPE")}}return n}n.PresentationVariant=r;s(r,i);var a=r.prototype;a.getID=function t(){return this.id};a.setID=function t(i){this.id=i};a.setText=function t(i){if(typeof i!=="string"){throw new e("PresentationVariant.INVALID_INPUT_TYPE")}this.text=i};a.getText=function t(){return this.text};a.setContextUrl=function t(i){if(typeof i!=="string"){throw new e("PresentationVariant.INVALID_INPUT_TYPE")}this.ctxUrl=i};a.getContextUrl=function t(){return this.ctxUrl};a.isEmpty=function t(){return Object.keys(this.getTableVisualization()??{}).length===0&&Object.keys(this.getChartVisualization()??{}).length===0&&Object.keys(this.getProperties()??{}).length===0};a.setProperties=function t(i){this.properties=Object.assign({},i)};a.getProperties=function t(){return this.properties};a.setTableVisualization=function t(i){this.visTable=Object.assign({},i)};a.getTableVisualization=function t(){return this.visTable};a.setChartVisualization=function t(i){this.visChart=Object.assign({},i)};a.getChartVisualization=function t(){return this.visChart};a.toJSONObject=function t(){const i={Version:{Major:"1",Minor:"0",Patch:"0"},PresentationVariantID:this.id};if(this.ctxUrl){i.ContextUrl=this.ctxUrl}if(this.text){i.Text=this.text}else{i.Text="Presentation Variant with ID "+this.id}this.serializeProperties(i);this.serializeVisualizations(i);return i};a.toJSONString=function t(){return JSON.stringify(this.toJSONObject())};a.serializeProperties=function t(i){if(this.properties){Object.assign(i,this.properties)}};a.serializeVisualizations=function t(i){if(this.visTable){if(!i.Visualizations){i.Visualizations=[]}i.Visualizations.push(this.visTable)}if(this.visChart){if(!i.Visualizations){i.Visualizations=[]}i.Visualizations.push(this.visChart)}};a.parseFromString=function t(i){if(i===undefined){throw new e("PresentationVariant.UNABLE_TO_PARSE_INPUT")}if(typeof i!=="string"){throw new e("PresentationVariant.INVALID_INPUT_TYPE")}this.parseFromObject(JSON.parse(i))};a.parseFromObject=function i(e){if(e.PresentationVariantID===undefined){t.warning("PresentationVariantID is not defined");e.PresentationVariantID=""}const n=Object.assign({},e);delete n.Version;this.setID(e.PresentationVariantID);delete n.PresentationVariantID;if(e.ContextUrl!==undefined&&e.ContextUrl!==""){this.setContextUrl(e.ContextUrl);delete e.ContextUrl}if(e.Text!==undefined){this.setText(e.Text);delete e.Text}if(e.Visualizations){this.parseVisualizations(e.Visualizations);delete n.Visualizations}this.setProperties(n)};a.parseVisualizations=function t(i){if(!Array.isArray(i)){throw new e("PresentationVariant.INVALID_INPUT_TYPE")}for(const t of i){if(t?.Type&&t.Type.includes("Chart")){this.setChartVisualization(t)}else{this.setTableVisualization(t)}}};return r}(i);n.PresentationVariant=a;const o=i.extend("sap.fe.navigation.PresentationVariant",a.prototype);return o},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/navigation/SelectionVariant", ["sap/base/Log","sap/base/util/each","sap/ui/base/Object","./NavError"],function(t,e,i,n){"use strict";var r={};function o(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,s(t,e)}function s(t,e){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},s(t,e)}const a=new RegExp("^E$|^I$");const c=new RegExp("^EQ$|^NE$|^LE$|^GE$|^LT$|^GT$|^BT$|^CP$");let f=function(i){function s(t){var e;e=i.call(this)||this;e.id="";e.parameters={};e.selectOptions={};if(t!==undefined){if(typeof t==="string"){e.parseFromString(t)}else if(typeof t==="object"){e.parseFromObject(t)}else{throw new n("SelectionVariant.INVALID_INPUT_TYPE")}}return e}r.SelectionVariant=s;o(s,i);var f=s.prototype;f.getID=function t(){return this.id};f.setID=function t(e){this.id=e};f.setText=function t(e){if(typeof e!=="string"){throw new n("PresentationVariant.INVALID_INPUT_TYPE")}this.text=e};f.getText=function t(){return this.text};f.setParameterContextUrl=function t(e){if(typeof e!=="string"){throw new n("SelectionVariant.INVALID_INPUT_TYPE")}this.parameterCtxUrl=e};f.getParameterContextUrl=function t(){return this.parameterCtxUrl};f.getFilterContextUrl=function t(){return this.filterCtxUrl};f.setFilterContextUrl=function t(e){if(typeof e!=="string"){throw new n("SelectionVariant.INVALID_INPUT_TYPE")}this.filterCtxUrl=e};f.addParameter=function t(e,i){if(typeof e!=="string"){throw new n("SelectionVariant.INVALID_INPUT_TYPE")}if(typeof i!=="string"){throw new n("SelectionVariant.INVALID_INPUT_TYPE")}if(e===""){throw new n("SelectionVariant.PARAMETER_WITHOUT_NAME")}if(this.selectOptions[e]){throw new n("SelectionVariant.PARAMETER_SELOPT_COLLISION")}this.parameters[e]=i;return this};f.removeParameter=function t(e){if(typeof e!=="string"){throw new n("SelectionVariant.INVALID_INPUT_TYPE")}if(e===""){throw new n("SelectionVariant.PARAMETER_WITHOUT_NAME")}delete this.parameters[e];return this};f.renameParameter=function t(e,i){if(typeof e!=="string"||typeof i!=="string"){throw new n("SelectionVariant.INVALID_INPUT_TYPE")}if(e===""||i===""){throw new n("SelectionVariant.PARAMETER_WITHOUT_NAME")}if(this.parameters[e]!==undefined){if(this.selectOptions[i]){throw new n("SelectionVariant.PARAMETER_SELOPT_COLLISION")}if(this.parameters[i]){throw new n("SelectionVariant.PARAMETER_COLLISION")}this.parameters[i]=this.parameters[e];delete this.parameters[e]}return this};f.getParameter=function t(e){if(typeof e!=="string"){throw new n("SelectionVariant.INVALID_INPUT_TYPE")}return this.parameters[e]};f.getParameterNames=function t(){return Object.keys(this.parameters)};f.addSelectOption=function t(e,i,r,o,s,f,l){if(typeof e!=="string"){throw new n("SelectionVariant.INVALID_INPUT_TYPE")}if(e===""){throw new n("SelectionVariant.INVALID_PROPERTY_NAME")}if(typeof i!=="string"){throw new n("SelectionVariant.INVALID_INPUT_TYPE")}if(typeof r!=="string"){throw new n("SelectionVariant.INVALID_INPUT_TYPE")}if(typeof o!=="string"){throw new n("SelectionVariant.INVALID_INPUT_TYPE")}if(r==="BT"&&typeof s!=="string"){throw new n("SelectionVariant.INVALID_INPUT_TYPE")}if(!a.test(i.toUpperCase())){throw new n("SelectionVariant.INVALID_SIGN")}if(!c.test(r.toUpperCase())){throw new n("SelectionVariant.INVALID_OPTION")}if(this.parameters[e]){throw new n("SelectionVariant.PARAMETER_SELOPT_COLLISION")}if(r!=="BT"){if(s!==undefined&&s!==""&&s!==null){throw new n("SelectionVariant.HIGH_PROVIDED_THOUGH_NOT_ALLOWED")}}if(this.selectOptions[e]===undefined){this.selectOptions[e]=[]}const p={Sign:i.toUpperCase(),Option:r.toUpperCase(),Low:o};if(f){p.Text=f}if(r==="BT"){p.High=s}else{p.High=null}if(l){p.SemanticDates=l}for(let t=0;t<this.selectOptions[e].length;t++){const i=this.selectOptions[e][t];if(i.Sign===p.Sign&&i.Option===p.Option&&i.Low===p.Low&&i.High===p.High){return this}}this.selectOptions[e].push(p);return this};f.removeSelectOption=function t(e){if(typeof e!=="string"){throw new n("SelectionVariant.SELOPT_WRONG_TYPE")}if(e===""){throw new n("SelectionVariant.SELOPT_WITHOUT_NAME")}delete this.selectOptions[e];return this};f.renameSelectOption=function t(e,i){if(typeof e!=="string"||typeof i!=="string"){throw new n("SelectionVariant.SELOPT_WRONG_TYPE")}if(e===""||i===""){throw new n("SelectionVariant.SELOPT_WITHOUT_NAME")}if(this.selectOptions[e]!==undefined){if(this.selectOptions[i]){throw new n("SelectionVariant.SELOPT_COLLISION")}if(this.parameters[i]){throw new n("SelectionVariant.PARAMETER_SELOPT_COLLISION")}this.selectOptions[i]=this.selectOptions[e];delete this.selectOptions[e]}return this};f.getSelectOption=function t(e){if(typeof e!=="string"){throw new n("SelectionVariant.INVALID_INPUT_TYPE")}if(e===""){throw new n("SelectionVariant.INVALID_PROPERTY_NAME")}const i=this.selectOptions[e];if(!i){return undefined}return JSON.parse(JSON.stringify(i))};f.getSelectOptionsPropertyNames=function t(){return Object.keys(this.selectOptions)};f._getSelectOptions=function t(){return JSON.parse(JSON.stringify(this.selectOptions))};f.getPropertyNames=function t(){return this.getParameterNames().concat(this.getSelectOptionsPropertyNames())};f.massAddSelectOption=function t(e,i){if(!Array.isArray(i)){throw new n("SelectionVariant.INVALID_INPUT_TYPE")}for(let t=0;t<i.length;t++){const n=i[t];this.addSelectOption(e,n.Sign,n.Option,n.Low,n.High,n.Text,n.SemanticDates)}return this};f.getValue=function t(e){let i=this.getSelectOption(e);if(i!==undefined){return i}const n=this.getParameter(e);if(n!==undefined){i=[{Sign:"I",Option:"EQ",Low:n,High:null}];return i}return undefined};f.isEmpty=function t(){return this.getParameterNames().length===0&&this.getSelectOptionsPropertyNames().length===0};f.toJSONObject=function t(){const e={Version:{Major:"1",Minor:"0",Patch:"0"},SelectionVariantID:this.id};if(this.parameterCtxUrl){e.ParameterContextUrl=this.parameterCtxUrl}if(this.filterCtxUrl){e.FilterContextUrl=this.filterCtxUrl}if(this.text){e.Text=this.text}else{e.Text="Selection Variant with ID "+this.id}this.determineODataFilterExpression(e);this.serializeParameters(e);this.serializeSelectOptions(e);return e};f.toJSONString=function t(){return JSON.stringify(this.toJSONObject())};f.determineODataFilterExpression=function t(e){e.ODataFilterExpression=""};f.serializeParameters=function t(e){e.Parameters=[];for(const t in this.parameters){e.Parameters.push({PropertyName:t,PropertyValue:this.parameters[t]})}};f.serializeSelectOptions=function t(i){if(this.selectOptions.length===0){return}i.SelectOptions=[];e(this.selectOptions,function(t,e){const n={PropertyName:t,Ranges:e};i.SelectOptions.push(n);return true})};f.parseFromString=function t(e){if(e===undefined){throw new n("SelectionVariant.UNABLE_TO_PARSE_INPUT")}if(typeof e!=="string"){throw new n("SelectionVariant.INVALID_INPUT_TYPE")}const i=JSON.parse(e);this.parseFromObject(i)};f.parseFromObject=function e(i){if(!i){i={}}if(i.SelectionVariantID===undefined){t.warning("SelectionVariantID is not defined");i.SelectionVariantID=""}this.setID(i.SelectionVariantID);if(i.ParameterContextUrl!==undefined&&i.ParameterContextUrl!==""){this.setParameterContextUrl(i.ParameterContextUrl)}if(i.FilterContextUrl!==undefined&&i.FilterContextUrl!==""){this.setFilterContextUrl(i.FilterContextUrl)}if(i.Text!==undefined){this.setText(i.Text)}if(i.Parameters){this.parseFromStringParameters(i.Parameters)}if(i.SelectOptions){this.parseFromStringSelectOptions(i.SelectOptions)}};f.parseFromStringParameters=function t(e){for(const t of e){this.addParameter(t.PropertyName,t.PropertyValue)}};f.parseFromStringSelectOptions=function e(i){for(const e of i){if(e.Ranges){if(!Array.isArray(e.Ranges)){throw new n("SelectionVariant.SELECT_OPTION_RANGES_NOT_ARRAY")}for(const t of e.Ranges){this.addSelectOption(e.PropertyName,t.Sign,t.Option,t.Low,t.High,t.Text,t.SemanticDates)}}else{t.warning("Select Option object does not contain a Ranges entry; ignoring entry")}}};return s}(i);r.SelectionVariant=f;const l=i.extend("sap.fe.navigation.SelectionVariant",f.prototype);return l},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/navigation/library", ["sap/ui/core/Lib","sap/ui/core/library"],function(a,e){"use strict";var n={};let i=function(a){a["SelVarWins"]="SelVarWins";a["URLParamWins"]="URLParamWins";a["InsertInSelOpt"]="InsertInSelOpt";return a}({});n.ParamHandlingMode=i;let r=function(a){a["initial"]="initial";a["URLParams"]="URLParams";a["xAppState"]="xAppState";a["iAppState"]="iAppState";a["hybrid"]="hybrid";return a}({});n.NavType=r;let t=function(a){a[a["standard"]=0]="standard";a[a["ignoreEmptyString"]=1]="ignoreEmptyString";a[a["raiseErrorOnNull"]=2]="raiseErrorOnNull";a[a["raiseErrorOnUndefined"]=4]="raiseErrorOnUndefined";return a}({});n.SuppressionBehavior=t;let s=function(a){a["ODataV2"]="ODataV2";a["ODataV4"]="ODataV4";return a}({});n.Mode=s;const o="sap.fe.navigation";n.feNavigationNamespace=o;const p=a.init({name:"sap.fe.navigation",apiVersion:2,version:"1.141.1",dependencies:["sap.ui.core"],types:["sap.fe.navigation.NavType","sap.fe.navigation.ParamHandlingMode","sap.fe.navigation.SuppressionBehavior"],interfaces:[],controls:[],elements:[],noLibraryCSS:true});p.ParamHandlingMode=i;p.NavType=r;p.SuppressionBehavior=t;p.Mode=s;return p},false);
/*!
 * 
		SAP UI development toolkit for HTML5 (SAPUI5)
        (c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */

sap.ui.predefine(
	"sap/fe/placeholder/library", [
		"sap/ui/core/Lib", // implicit dependency
		"sap/ui/core/library" // library dependency
	],
	function (Library) {
		"use strict";

		/**
		 * Fiori Elements Placeholder Library
		 * @namespace
		 * @private
		 */

		// library dependencies
		// delegate further initialization of this library to the Core
		return Library.init({
			name: "sap.fe.placeholder",
			apiVersion: 2,
			dependencies: ["sap.ui.core"],
			types: [],
			interfaces: [],
			controls: [],
			elements: [],
			// eslint-disable-next-line no-template-curly-in-string
			version: "1.141.1",
			noLibraryCSS: false,
			extensions: {}
		});
	}
);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/templates/AnalyticalListPage/Component", ["sap/fe/base/ClassSupport","sap/fe/templates/ListComponent"],function(t,e){"use strict";var n,o;var r=t.defineUI5Class;function p(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,s(t,e)}function s(t,e){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},s(t,e)}let a=(n=r("sap.fe.templates.AnalyticalListPage.Component"),n(o=function(t){function e(){return t.apply(this,arguments)||this}p(e,t);return e}(e))||o);return a},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/templates/AnalyticalListPage/chart/FEChartDelegate", ["sap/fe/macros/chart/ChartDelegate"],function(e){"use strict";const t=Object.assign({},e);t.rebind=function(t,n){const a=t.getBindingContext("pageInternal");const i=a.getProperty(`${a.getPath()}/alpContentView`);if(!i||i!=="Table"){e.rebind(t,n)}};return t},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/templates/ListComponent", ["sap/fe/base/ClassSupport","sap/fe/core/TemplateComponent","sap/fe/core/library","sap/fe/templates/ListReport/ExtendPageDefinition"],function(e,t,r,a){"use strict";var i,n,o,l,s,p,u,c,f,m,d;var b=a.extendListReportPageDefinition;var C=e.property;var E=e.defineUI5Class;function T(e,t,r,a){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(a):void 0})}function _(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,v(e,t)}function v(e,t){return v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},v(e,t)}function y(e,t,r,a,i){var n={};return Object.keys(a).forEach(function(e){n[e]=a[e]}),n.enumerable=!!n.enumerable,n.configurable=!!n.configurable,("value"in n||n.initializer)&&(n.writable=!0),n=r.slice().reverse().reduce(function(r,a){return a(e,t,r)||r},n),i&&void 0!==n.initializer&&(n.value=n.initializer?n.initializer.call(i):void 0,n.initializer=void 0),void 0===n.initializer?(Object.defineProperty(e,t,n),null):n}function h(e,t){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}const S=r.VariantManagement,O=r.InitialLoadMode;let g=(i=E("sap.fe.templates.ListComponent",{manifest:{_version:"2.0.0","sap.ui":{technology:"UI5",deviceTypes:{desktop:true,tablet:true,phone:true},supportedThemes:["sap_fiori_3","sap_hcb","sap_bluecrystal","sap_belize","sap_belize_plus","sap_belize_hcw"]},"sap.app":{i18n:"messagebundle.properties"},"sap.ui5":{services:{templatedViewService:{factoryName:"sap.fe.core.services.TemplatedViewService",startup:"waitFor",settings:{viewName:"sap.fe.templates.ListReport.ListReport",converterType:"ListReport",errorViewName:"sap.fe.core.services.view.TemplatingErrorPage"}},asyncComponentService:{factoryName:"sap.fe.core.services.AsyncComponentService",startup:"waitFor"}},commands:{Create:{name:"Create",shortcut:"Ctrl+Enter",description:"{{CREATE_OBJECT_SHORTCUT_DESCRIPTION}}"},DeleteEntry:{name:"DeleteEntry",shortcut:"Ctrl+D",description:"{{DELETE_OBJECT_SHORTCUT_DESCRIPTION}}"},Share:{name:"Share",shortcut:"Shift+Ctrl+S",description:"{{SHARE_SHORTCUT_DESCRIPTION}}"},FE_FilterSearch:{name:"FE_FilterSearch",shortcut:"Ctrl+Enter",description:"{{FILTER_SEARCH_SHORTCUT_DESCRIPTION}}"},Cut:{name:"Cut",shortcut:"Ctrl+X",description:"{{CUT_SHORTCUT_DESCRIPTION}}"},Copy:{name:"Copy",shortcut:"Ctrl+C"},Paste:{name:"Paste",shortcut:"Ctrl+V",description:"{{PASTE_SHORTCUT_DESCRIPTION}}"},TableMoveElementUp:{name:"TableMoveElementUp",shortcut:"Ctrl+Alt+ArrowUp",description:"{{TABLE_MOVE_ELEMENT_UP_DESCRIPTION}}"},TableMoveElementDown:{name:"TableMoveElementDown",shortcut:"Ctrl+Alt+ArrowDown",description:"{{TABLE_MOVE_ELEMENT_DOWN_DESCRIPTION}}"}},handleValidation:true,dependencies:{minUI5Version:"${sap.ui5.core.version}",libs:{"sap.f":{},"sap.fe.macros":{lazy:true},"sap.m":{},"sap.suite.ui.microchart":{lazy:true},"sap.ui.core":{},"sap.ui.layout":{},"sap.ui.mdc":{},"sap.ushell":{lazy:true},"sap.ui.fl":{}}},contentDensities:{compact:true,cozy:true}}},library:"sap.fe.templates"}),n=C({type:"sap.fe.core.InitialLoadMode",defaultValue:O.Auto}),o=C({type:"sap.fe.core.VariantManagement",defaultValue:S.Page}),l=C({type:"string",defaultValue:undefined}),s=C({type:"boolean",defaultValue:false}),i(p=(u=function(e){function t(){var t;for(var r=arguments.length,a=new Array(r),i=0;i<r;i++){a[i]=arguments[i]}t=e.call(this,...a)||this;T(t,"initialLoad",c,t);T(t,"variantManagement",f,t);T(t,"defaultTemplateAnnotationPath",m,t);T(t,"liveMode",d,t);return t}_(t,e);var r=t.prototype;r.extendPageDefinition=function e(t){return b(t)};r._getControllerName=function e(){return"sap.fe.templates.ListReport.ListReportController"};return t}(t),c=y(u.prototype,"initialLoad",[n],{configurable:true,enumerable:true,writable:true,initializer:null}),f=y(u.prototype,"variantManagement",[o],{configurable:true,enumerable:true,writable:true,initializer:null}),m=y(u.prototype,"defaultTemplateAnnotationPath",[l],{configurable:true,enumerable:true,writable:true,initializer:null}),d=y(u.prototype,"liveMode",[s],{configurable:true,enumerable:true,writable:true,initializer:null}),u))||p);return g},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/templates/ListReport/Component", ["sap/fe/base/ClassSupport","sap/fe/templates/ListComponent"],function(e,r){"use strict";var t,i,a,n,l,o,u,s,c,p,b,f,d,y,m;var v=e.property;var z=e.defineUI5Class;function w(e,r,t,i){t&&Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(i):void 0})}function g(e,r){e.prototype=Object.create(r.prototype),e.prototype.constructor=e,h(e,r)}function h(e,r){return h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,r){return e.__proto__=r,e},h(e,r)}function j(e,r,t,i,a){var n={};return Object.keys(i).forEach(function(e){n[e]=i[e]}),n.enumerable=!!n.enumerable,n.configurable=!!n.configurable,("value"in n||n.initializer)&&(n.writable=!0),n=t.slice().reverse().reduce(function(t,i){return i(e,r,t)||t},n),a&&void 0!==n.initializer&&(n.value=n.initializer?n.initializer.call(a):void 0,n.initializer=void 0),void 0===n.initializer?(Object.defineProperty(e,r,n),null):n}function O(e,r){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let P=(t=z("sap.fe.templates.ListReport.Component",{library:"sap.fe.templates",manifest:"json"}),i=v({type:"object"}),a=v({type:"boolean",defaultValue:true}),n=v({type:"object"}),l=v({type:"boolean",defaultValue:false}),o=v({type:"boolean",defaultValue:false}),u=v({type:"object"}),t(s=(c=function(e){function r(){var r;for(var t=arguments.length,i=new Array(t),a=0;a<t;a++){i[a]=arguments[a]}r=e.call(this,...i)||this;w(r,"views",p,r);w(r,"stickyMultiTabHeader",b,r);w(r,"keyPerformanceIndicators",f,r);w(r,"hideFilterBar",d,r);w(r,"useHiddenFilterBar",y,r);w(r,"share",m,r);return r}g(r,e);return r}(r),p=j(c.prototype,"views",[i],{configurable:true,enumerable:true,writable:true,initializer:null}),b=j(c.prototype,"stickyMultiTabHeader",[a],{configurable:true,enumerable:true,writable:true,initializer:null}),f=j(c.prototype,"keyPerformanceIndicators",[n],{configurable:true,enumerable:true,writable:true,initializer:null}),d=j(c.prototype,"hideFilterBar",[l],{configurable:true,enumerable:true,writable:true,initializer:null}),y=j(c.prototype,"useHiddenFilterBar",[o],{configurable:true,enumerable:true,writable:true,initializer:null}),m=j(c.prototype,"share",[u],{configurable:true,enumerable:true,writable:true,initializer:null}),c))||s);return P},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/templates/ListReport/ExtendPageDefinition", [],function(){"use strict";var e={};function t(){return"sap/fe/templates/ListReport/designtime/ListReport.designtime"}e.getDesigntime=t;const i=function(e){const i=e;i.designtime=t();return i};e.extendListReportPageDefinition=i;return e},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/templates/ListReport/ExtensionAPI", ["sap/base/Log","sap/fe/base/ClassSupport","sap/fe/core/ExtensionAPI","sap/fe/macros/chart/ChartUtils","sap/fe/macros/filter/FilterUtils","sap/fe/templates/ListReport/LRMessageStrip","sap/ui/core/InvisibleMessage","sap/ui/core/library"],function(t,e,r,o,s,n,i,l){"use strict";var a,c;var u=l.InvisibleMessageMode;var f=n.LRMessageStrip;var p=e.defineUI5Class;function g(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,h(t,e)}function h(t,e){return h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},h(t,e)}let _=(a=p("sap.fe.templates.ListReport.ExtensionAPI"),a(c=function(e){function r(){return e.apply(this,arguments)||this}g(r,e);var n=r.prototype;n.refresh=async function t(){const e=this._controller._getFilterBarControl();const r=e?.getParent();if(r){r.triggerSearch()}return Promise.resolve()};n.getSelectedContexts=function t(){const e=this._controller._isMultiMode()&&this._controller._getMultiModeControl()?.getSelectedInnerControl()?.content||this._controller._getTable();if(e.isA("sap.ui.mdc.Chart")){const t=[];if(e&&e.get_chart()){const r=o.getChartSelectedData(e.get_chart());for(const e of r){t.push(e.context)}}return t}else{return e.getParent().getSelectedContexts()}};n.refreshTabsCount=function t(e){this._controller._getMultiModeControl()?.refreshTabsCount(e)};n.setTabContentToBeRefreshedOnNextOpening=function t(e){this._controller._getMultiModeControl()?.setTabContentToBeRefreshedOnNextOpening(e)};n.setFilterValues=async function t(e,r,o){const n=this._controller._getAdaptationFilterBarControl()||this._controller._getFilterBarControl();if(o===undefined){o=r;return s.setFilterValues(n,e,o)}return s.setFilterValues(n,e,r,o)};n.createFiltersFromFilterConditions=function e(r){const o=this._controller._getFilterBarControl();if(!o){t.error("The filter bar is not available");return}return s.getFilterInfo(o,undefined,r)};n.getFilters=function t(){const e=this._controller._getFilterBarControl();return s.getFilters(e)};n.setCustomMessage=function t(e,r,o){if(!this.ListReportMessageStrip){this.ListReportMessageStrip=new f}this.ListReportMessageStrip.showCustomMessage(e,this._controller,r,o);if(e?.message){i.getInstance().announce(e.message,u.Assertive)}};n.destroy=function t(){this.ListReportMessageStrip?.destroy();e.prototype.destroy.call(this)};n.setSelectedTab=function t(e){const r=this._controller._getIconTabBar();r?.fireSelect({selectedKey:"fe::table::"+e+"::LineItem"})};return r}(r))||c);return _},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/templates/ListReport/LRMessageStrip", ["sap/ui/core/Messaging","sap/ui/core/message/Message"],function(e,s){"use strict";var t={};let a=function(){function a(){this.customMessageInfo={messageManagerDataBinding:e.getMessageModel().bindList("/"),multiModeControlMessagesMap:{}}}t.LRMessageStrip=a;var n=a.prototype;n.getCustomMessageInfo=function e(){return this.customMessageInfo};n.destroy=function e(){this.customMessageInfo.messageManagerDataBinding.detachChange(this._eventHandlerCustomMessage,this)};n._getMessagesWithSameTargetThanCustomMessage=function s(){return e.getMessageModel().getData().filter(e=>e.getTargets()[0]===this.customMessageInfo.currentMessage?.getTargets()[0]&&e!==this.customMessageInfo.currentMessage)};n._eventHandlerCustomMessage=function s(){if(this.customMessageInfo.currentMessage){const s=this._getMessagesWithSameTargetThanCustomMessage();const t=!!e.getMessageModel().getData().find(e=>e===this.customMessageInfo.currentMessage);if(s.length>0&&t){e.removeMessages([this.customMessageInfo?.currentMessage])}else if(s.length===0&&!t){e.addMessages([this.customMessageInfo.currentMessage])}}};n.createCustomMessage=function t(a,n){const o=n.message;const g=n.table;const i=n.skipMessageManagerUpdate;const c=g.getRowBinding()?.getPath();const r=this.customMessageInfo.multiModeControlMessagesMap;r[g.getId()]=o;if(!c){g.attachEventOnce("bindingUpdated",n,this.createCustomMessage,this);return}if(r[g.getId()]?.onClose){g.getDataStateIndicator().detachEvent("close",r[g.getId()]?.onClose,this)}const M=g.getModel();const u=o?new s({message:o.message,type:o.type,target:[c],persistent:false,processor:M}):null;this.customMessageInfo.messageManagerDataBinding.detachChange(this._eventHandlerCustomMessage,this);if(!i){if(this.customMessageInfo.currentMessage){e.removeMessages([this.customMessageInfo.currentMessage])}if(u){this.customMessageInfo.currentMessage=u}else{delete this.customMessageInfo.currentMessage}if(u&&this._getMessagesWithSameTargetThanCustomMessage().length===0){e.addMessages([u])}}this.customMessageInfo.messageManagerDataBinding.attachChange(this._eventHandlerCustomMessage,this);this.attachDataStateIndicatorCloseEvent(g,r,o?.onClose)};n.attachDataStateIndicatorCloseEvent=function e(s,t,a){if(a){s.getDataStateIndicator().attachEventOnce("close",a,this)}s.getDataStateIndicator().attachEventOnce("close",()=>{delete t[s.getId()]})};n.onSelectMultipleModeControl=function e(s,t){const a=t._getTable();const n=this.customMessageInfo.multiModeControlMessagesMap[a.getId()];this.createCustomMessage(null,{message:n,table:a})};n.showCustomMessage=function e(s,t,a,n){const o=Array.isArray(a)?a:[a];const g=t._isMultiMode();let i;if(s){s.onClose=n}if(g){const e=t._getMultiModeControl();e.detachEvent("select",this.onSelectMultipleModeControl,this);e.attachEvent("select",t,this.onSelectMultipleModeControl,this);e.getAllInnerControls(true).forEach((t,n)=>{if(t.isA("sap.fe.macros.table.TableAPI")){if(!a||o.includes(n.toString())){i=t.getContent();this.createCustomMessage(null,{message:s,table:i,skipMessageManagerUpdate:e.getSelectedInnerControl()!==t})}}});return}i=t._getTable();this.createCustomMessage(null,{message:s,table:i})};return a}();t.LRMessageStrip=a;return t},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/templates/ListReport/ListReportController.controller", ["sap/base/Log","sap/base/util/ObjectPath","sap/fe/base/ClassSupport","sap/fe/core/CommonUtils","sap/fe/core/PageController","sap/fe/core/controllerextensions/IntentBasedNavigation","sap/fe/core/controllerextensions/InternalIntentBasedNavigation","sap/fe/core/controllerextensions/InternalRouting","sap/fe/core/controllerextensions/KPIManagement","sap/fe/core/controllerextensions/Placeholder","sap/fe/core/controllerextensions/Share","sap/fe/core/controllerextensions/SideEffects","sap/fe/core/controllerextensions/ViewState","sap/fe/core/helpers/EditState","sap/fe/core/helpers/MessageStrip","sap/fe/core/helpers/ResourceModelHelper","sap/fe/core/helpers/StableIdHelper","sap/fe/core/library","sap/fe/macros/chart/ChartUtils","sap/fe/macros/filter/FilterUtils","sap/fe/navigation/SelectionVariant","sap/fe/templates/ListReport/ExtensionAPI","sap/fe/templates/ListReport/overrides/SideEffects","sap/fe/templates/TableScroller","sap/ui/Device","sap/ui/core/Element","sap/ui/core/InvisibleMessage","sap/ui/core/library","sap/ui/core/mvc/OverrideExecution","sap/ui/mdc/p13n/StateUtil","sap/ui/thirdparty/hasher","./ListReportTemplating","./overrides/IntentBasedNavigation","./overrides/Share","./overrides/ViewState"],function(e,t,i,n,r,o,a,s,l,g,c,u,d,h,p,f,y,b,C,_,P,m,w,B,I,F,V,v,S,A,E,M,T,x,R){"use strict";var D,L,O,H,k,z,N,j,K,U,$,q,J,W,G,Q,X,Y,Z,ee,te,ie,ne,re,oe,ae,se,le,ge;var ce=v.InvisibleMessageMode;var ue=y.generate;var de=f.getResourceModel;var he=i.usingExtension;var pe=i.publicExtension;var fe=i.privateExtension;var ye=i.finalExtension;var be=i.extensible;var Ce=i.defineUI5Class;function _e(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function Pe(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,me(e,t)}function me(e,t){return me=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},me(e,t)}function we(e,t,i,n,r){var o={};return Object.keys(n).forEach(function(e){o[e]=n[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce(function(i,n){return n(e,t,i)||i},o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer?(Object.defineProperty(e,t,o),null):o}function Be(e,t){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}const Ie=b.TemplateContentView,Fe=b.InitialLoadMode;let Ve=(D=Ce("sap.fe.templates.ListReport.ListReportController"),L=he(s.override({onAfterBinding:function(){this.getView().getController()._onAfterBinding()}})),O=he(a.override({getEntitySet:function(){return this.base.getCurrentEntitySet()}})),H=he(u.override(w)),k=he(o.override(T)),z=he(c.override(x)),N=he(d.override(R)),j=he(l),K=he(g),U=pe(),$=ye(),q=fe(),J=be("After"),W=pe(),G=be(S.After),Q=pe(),X=be(S.After),Y=pe(),Z=be(S.After),D(ee=(te=function(i){function o(){var t;for(var n=arguments.length,r=new Array(n),o=0;o<n;o++){r[o]=arguments[o]}t=i.call(this,...r)||this;_e(t,"_routing",ie,t);_e(t,"_intentBasedNavigation",ne,t);_e(t,"_sideEffects",re,t);_e(t,"intentBasedNavigation",oe,t);_e(t,"share",ae,t);_e(t,"viewState",se,t);_e(t,"kpiManagement",le,t);_e(t,"placeholder",ge,t);t.formatters={setALPControlMessageStrip(e,t,i){let n="";t=t==="true"||t===true;const r=this._getFilterBarControl();if(r&&Array.isArray(e)&&e.length>0&&t){const o=p.getLabels(e,r.data("entityType"),r,de(r));const a=!i?.enableSearch;n=t?p.getALPText(o,r,a):p.getText(o,r,"");return n}}};t.handlers={onInlineEditSave(){this.inlineEditFlow.inlineEditSave()},onFilterSearch(){const e=this._getFilterBarControl().getParent();e.triggerSearch()},onFiltersChanged(e){const t=this._getFilterBarControl();if(t){const i=this.getView().getBindingContext("internal");this.onPendingFilters();if(i&&e.getParameter("conditionsBased")){i.setProperty("hasPendingFilters",true)}if(i){this._storeFilterBarSelectionVariant(t,i)}}},onVariantSelected(e){const t=e.getParameters();const i=t.originalSource;const n=e.getParameter("key");const r=this._getMultiModeControl();if(r&&!i?.getParent()?.isA("sap.ui.mdc.ActionToolbar")){r?.invalidateContent();r?.setFreezeContent(true)}setTimeout(()=>{const e=this._getFilterBarControl();const t=this._getDynamicListReportControl();const o=e?.getFilterItems().find(function(e){return e.getRequired()&&e.getConditions().length===0});if(o){t.setHeaderExpanded(true)}if(this._shouldAutoTriggerSearch(i)){const e=this._getFilterBarControl().getParent();e.triggerSearch()}else if(!this._getApplyAutomaticallyOnVariant(i,n)){r?.setFreezeContent(false);this.getExtensionAPI().updateAppState();t.setHeaderExpanded(true)}},0)},onVariantSaved(){setTimeout(()=>{this.getExtensionAPI().updateAppState()},1e3)},onSearch(){const t=this._getFilterBarControl();const i=this.getView().getBindingContext("internal");const n=this.getChartControl();const r=_.getEditStateIsHideDraft(t.getConditions());i.setProperty("hasPendingFilters",false);i.setProperty("hideDraftInfo",r);const o=this._getDynamicListReportControl();if(!this._getMultiModeControl()){this._updateALPNotApplicableFields(i,t)}if(n){n.getBindingContext("internal").setProperty("",{});const e=n.getBindingContext("pageInternal");const t=e.getProperty(`${e.getPath()}/alpContentView`);if(t===Ie.Chart){this.hasPendingChartChanges=true}if(t===Ie.Table){this.hasPendingTableChanges=true}}if(!I.system.desktop&&i.getProperty("searchTriggeredByInitialLoad")===true){if(o.getHeaderExpanded()!==false){o.setHeaderExpanded(false)}i.setProperty("searchTriggeredByInitialLoad",false)}A.retrieveExternalState(t).then(e=>{this.filterBarConditions=e.filter;return}).catch(function(t){e.error("Error while retrieving the external state",t)});if(I.system.phone){const e=this._getDynamicListReportControl();if(!this._isInitLoadEnabled()){e.setHeaderExpanded(true)}else{e.setHeaderExpanded(false);this.setFilterToggleVisibility(false)}}},async onChevronPressNavigateOutBound(e,t,i,n){return e._intentBasedNavigation.onChevronPressNavigateOutBound(e,t,i,n)},onChartSelectionChanged(e){const t=e.getSource().getContent(),i=this._getTable(),n=e.getParameter("data"),r=this.getView().getBindingContext("internal");if(n){C.setChartFilters(t)}const o=r.getProperty(`${r.getPath()}/alpContentView`);if(o===Ie.Chart){this.hasPendingChartChanges=true}else if(i){i.rebind();this.hasPendingChartChanges=false}},onSegmentedButtonPressed(e){const t=e.getParameters().selectedKey||e.getParameters().key;const i=this.getView().getBindingContext("internal");i.setProperty("alpContentView",t);const n=this.getChartControl();const r=this._getTable();switch(t){case Ie.Table:if(r){this._updateTable(r)}break;case Ie.Chart:if(n){this._updateChart(n)}break;case Ie.Hybrid:if(r){this._updateTable(r)}if(n){this._updateChart(n)}break;default:break}this.getExtensionAPI().updateAppState();this.focusHandlingForSegmentedButton(t)},onDynamicPageTitleStateChanged(e){const t=this._getFilterBarControl();if(t){this.setFilterToggleVisibility(!!e.getParameter("isExpanded"));if(e.getParameter("isExpanded")===false){V.getInstance().announce(t.getAssignedFiltersText().filtersText,ce.Assertive)}}}};return t}Pe(o,i);var a=o.prototype;a.getExtensionAPI=function e(){if(!this.extensionAPI){this.extensionAPI=new m(this)}return this.extensionAPI};a.onInit=function e(){r.prototype.onInit.apply(this);const t=this.getView().getBindingContext("internal");const i=this._getFilterBarControl();if(i){this._storeFilterBarSelectionVariant(i,t)}t.setProperty("hasPendingFilters",true);t.setProperty("hideDraftInfo",false);t.setProperty("uom",{});t.setProperty("scalefactor",{});t.setProperty("scalefactorNumber",{});t.setProperty("currency",{});t.setProperty("isInsightsSupported",false);if(this._hasMultiVisualizations()){let e=this._getDefaultPath();if(!I.system.desktop&&e===Ie.Hybrid){e=Ie.Chart}t.setProperty("alpContentView",e)}this.filterBarConditions={};this.getAppComponent().getRouterProxy().waitForRouteMatchBeforeNavigation();this._setInitLoad();const n=this.getView();const o=n.getModel("ui");const a=`/${n.getId()}`;o.setProperty(a,{isEditable:false});n.bindElement({path:a,model:"ui"})};a.onBeforeRendering=function e(){r.prototype.onBeforeRendering.apply(this);const t=this._getDynamicListReportControl();const i=t?.getTitle();const n=i.getBreadcrumbs();if(n){n.setBreadcrumbLinks("")}};a.onExit=function e(){delete this.filterBarConditions;if(this.extensionAPI){this.extensionAPI.destroy()}delete this.extensionAPI};a._onAfterBinding=function t(){const i=this._getControls("table");let r=true;if(h.isEditStateDirty()){this._getMultiModeControl()?.invalidateContent();const t=this._getTable();const o=t?.getRowBinding();if(o){r=false;const a=t?.getParent();n.getAppComponent(this.getView()).getRoutingService().waitForBindingCleanup().then(async()=>{await n.getAppComponent(this.getView()).isAppComponentBusy();o.attachEventOnce("dataReceived",()=>{this._updateTableActions(i)});if(a.getTableDefinition().control.type==="TreeTable"){this.getModel().resetChanges()}a.refresh();return}).catch(t=>{e.warning("Error while waiting refreshing ListReport table",t)})}h.setEditStateProcessed()}if(r){this._updateTableActions(i)}const o=this.getView().getBindingContext("internal");if(!o.getProperty("initialVariantApplied")){const e=this.getView().getId();this.pageReady.waitFor(this._applyAppState(e));o.setProperty("initialVariantApplied",true)}const a=n.getAppComponent(this.getView()).getEnvironmentCapabilities();a.isInsightsEnabled().then(e=>{o.setProperty("isInsightsSupported",e);return}).catch(t=>{e.error("Error while checking if insights are enabled",t)})};a.onPageReady=async function e(t){if(t.forceFocus){this._setInitialFocus()}await this.getAppComponent().getShellServices().setBackNavigation(undefined)};a.onViewNeedsRefresh=function e(t){};a.onPendingFilters=function e(){};a.getCurrentEntitySet=function e(){return this._getTable()?.data("targetCollectionPath").slice(1)};a.onAfterClear=function e(){};a._updateTableActions=function e(t){let i=[];t.forEach(function(e){i=n.getIBNActions(e,i)});n.updateDataFieldForIBNButtonsVisibility(i,this.getView());n.updateMenuButtonVisiblity(i)};a._scrollTablesToRow=function e(t){this._getControls("table").forEach(function(e){B.scrollTableToRow(e,t)})};a._focusSilent=function e(t){const i=t.getFocusInfo();i.targetInfo={silent:true};t.focus(i)};a._setInitialFocus=function t(){const i=this._getDynamicListReportControl(),n=i.getHeaderExpanded(),r=this._getFilterBarControl();if(r&&!this._isFilterBarHiddenUsed()){if(!r.getShowMessages()){r.setShowMessages(true)}if(n){const e=r.getFilterItems().find(function(e){return e.getRequired()&&e.getConditions().length===0});if(e){if(e.isA("sap.ui.mdc.FilterField")){this._focusSilent(e)}else{e.focus()}}else if(this._isInitLoadEnabled()&&r.getFilterItems().length>0){const e=r.getFilterItems()[0];if(e.isA("sap.ui.mdc.FilterField")){this._focusSilent(e)}else{e.focus()}}else{this.getView().byId(`${this._getFilterBarControlId()}-btnSearch`)?.focus()}}else if(this._isInitLoadEnabled()){this._getTable()?.focusRow(0).catch(function(t){e.error("Error while setting initial focus on the table ",t)})}}else{this._getTable()?.focusRow(0).catch(function(t){e.error("Error while setting initial focus on the table ",t)})}};a._getPageTitleInformation=async function e(){const t=this.getAppComponent().getManifestEntry("sap.app");return Promise.resolve({title:t.title,subtitle:t.subTitle||"",intent:"",icon:""})};a._getFilterBarControl=function e(){return this.getView().byId(this._getFilterBarControlId())};a._getDynamicListReportControl=function e(){return this.getView().byId(this._getDynamicListReportControlId())};a._getAdaptationFilterBarControl=function e(){const t=this._getFilterBarControl().getInbuiltFilter?.();return t?.getParent()?t:undefined};a._applyAppState=async function e(t){await this.getAppComponent().getAppStateHandler().applyAppState(t,this.getView());const i=this._getFilterBarControl();if(i){i.enableRequests(true)}else if(this._isFilterBarHidden()){const e=this.getView().getBindingContext("internal");e.setProperty("hasPendingFilters",false);if(this._isMultiMode()){this._getMultiModeControl().setCountsOutDated(true)}}};a._getSegmentedButton=function e(t){const i=(t==="Chart"?this.getChartControl():this._getTable())?.data("segmentedButtonId");return this.getView().byId(i)};a._getControlFromPageModelProperty=function e(t){const i=this._getPageModel()?.getProperty(t);return i?this.getView().byId(i):undefined};a._getDynamicListReportControlId=function e(){return this._getPageModel()?.getProperty("/dynamicListReportId")||""};a._getFilterBarControlId=function e(){return this._getPageModel()?.getProperty("/filterBarId")||""};a.getChartControl=function e(){return this._getControlFromPageModelProperty("/singleChartId")};a._getVisualFilterBarControl=function e(){const t=y.generate(["visualFilter",this._getFilterBarControlId()]);return t?this.getView().byId(t):undefined};a._getFilterBarVariantControl=function e(){return this._getControlFromPageModelProperty("/variantManagement/id")};a._getMultiModeControl=function e(){return this.getView().byId("fe::TabMultipleMode::Control")};a._getIconTabBar=function e(){return this.getView().byId("fe::TabMultipleMode")};a._getTable=function e(){if(this._isMultiMode()){const e=this._getMultiModeControl()?.getSelectedInnerControl()?.content;return e?.isA("sap.ui.mdc.Table")?e:undefined}else{return this._getControlFromPageModelProperty("/singleTableId")}};a._getControls=function e(t){if(this._isMultiMode()){const e=[];const i=this._getMultiModeControl().content;i.getItems().forEach(i=>{const n=this.getView().byId(i.getKey());if(n&&t){if(i.getKey().includes(`fe::${t}`)){e.push(n)}}else if(n!==undefined&&n!==null){e.push(n)}});return e}else if(t==="Chart"){const e=this.getChartControl();return e?[e]:[]}else{const e=this._getTable();return e?[e]:[]}};a._getDefaultPath=function e(){const t=M.getDefaultPath(this._getPageModel()?.getProperty("/views")||[]);switch(t){case"primary":return Ie.Chart;case"secondary":return Ie.Table;case"both":default:return Ie.Hybrid}};a._isMultiMode=function e(){return!!this._getPageModel()?.getProperty("/multiViewsControl")};a._isInitLoadEnabled=function e(){const t=this.getView().getViewData().initialLoad;return t===Fe.Enabled};a._hasMultiVisualizations=function e(){return this._getPageModel()?.getProperty("/hasMultiVisualizations")};a._disableInitLoad=function e(){const t=this._getFilterBarControl();if(t){t.enableRequests(false)}};a._applyAutomaticallyOnStandardVariant=function e(){return false};a._setInitLoad=function e(){if(!this._isInitLoadEnabled()){this._disableInitLoad()}const t=M.getVariantBackReference(this.getView().getViewData(),this._getPageModel()?.getData());const i=t&&this.getView().byId(t);if(i){i?.registerApplyAutomaticallyOnStandardVariant?.(this._applyAutomaticallyOnStandardVariant.bind(this))}};a._setShareModel=function e(){const i=t.get("sap.ushell.Container.getUser");const n={bookmarkTitle:document.title,bookmarkCustomUrl:function(){const e=E.getHash();return e?`#${e}`:window.location.href},isShareInJamActive:!!i&&i().isJamActive()};const r=this.getOwnerComponent().getModel("_templPriv");r.setProperty("/listReport/share",n)};a._updateALPNotApplicableFields=function e(t,i){const n={};const r={},o=this._getControls("table"),a=this._getControls("Chart");if(!o.length||!a.length){return}a.forEach(function(e){const t=e.data("targetCollectionPath"),o=t.slice(1),a=`${o}Chart`;if(!n[a]){n[a]=_.getNotApplicableFilters(i,e)}r[a]=n[a]});t.setProperty("controls/ignoredFields",r)};a._isFilterBarHidden=function e(){return this.getView().getViewData().hideFilterBar||false};a._isFilterBarHiddenUsed=function e(){return this.getView().getViewData().useHiddenFilterBar||false};a._getApplyAutomaticallyOnVariant=function e(t,i){if(!t||!i){return false}const n=t.getVariants();const r=n.find(function(e){return e&&e.getKey()===i});return r&&r.getProperty("executeOnSelect")||false};a._shouldAutoTriggerSearch=function e(t){if(this.getView().getViewData().initialLoad===Fe.Auto&&(!t||t.getStandardVariantKey()===t.getCurrentVariantKey())){const e=this._getFilterBarControl();if(e){const i=e.getConditions();for(const e in i){if(t&&!e.startsWith("$")&&Array.isArray(i[e])&&i[e].length){const e=t.getVariants().find(e=>e.getKey()===t.getCurrentVariantKey());return e&&e.getExecuteOnSelect()}}}}return false};a._updateTable=function e(t){if(!t.isTableBound()||this.hasPendingChartChanges){t.rebind();this.hasPendingChartChanges=false}};a._updateChart=function e(t){const i=t.getControlDelegate()._getChart(t);if(!(i&&i.isBound("data"))||this.hasPendingTableChanges){t.getControlDelegate().rebind(t,i.getBindingInfo("data"));this.hasPendingTableChanges=false}};a.setFilterToggleVisibility=function e(t){const i=this._getFilterBarControl();i?.getSegmentedButton()?.setVisible(t)};a.focusHandlingForSegmentedButton=function e(t){const i=this.getChartControl();const n=this._getTable();let r;switch(t){case Ie.Table:r=ue([n?.getId(),"SegmentedButton","TemplateContentView"]);this.addFocusDelegate(r);break;case Ie.Chart:case Ie.Hybrid:r=ue([i?.getId(),"SegmentedButton","TemplateContentView"]);this.addFocusDelegate(r);break;default:break}};a.addFocusDelegate=function e(t){const i=F.getElementById(t);if(i){const e={onAfterRendering:()=>{i.focus();i.removeEventDelegate(e)}};i.addEventDelegate(e)}};a._storeFilterBarSelectionVariant=async function t(i,n){try{const e=i.getParent();const t=await e.getSelectionVariant();n.setProperty("filterBarSelectionVariant",t)}catch(t){const i=t instanceof Error?t.message:String(t);e.error(`FE : Error fetching selection variant on filter change: ${i}`)}};a.getFilterBarSelectionVariant=function e(){const t=this.getView().getBindingContext("internal");return t?.getProperty("filterBarSelectionVariant")||new P};return o}(r),ie=we(te.prototype,"_routing",[L],{configurable:true,enumerable:true,writable:true,initializer:null}),ne=we(te.prototype,"_intentBasedNavigation",[O],{configurable:true,enumerable:true,writable:true,initializer:null}),re=we(te.prototype,"_sideEffects",[H],{configurable:true,enumerable:true,writable:true,initializer:null}),oe=we(te.prototype,"intentBasedNavigation",[k],{configurable:true,enumerable:true,writable:true,initializer:null}),ae=we(te.prototype,"share",[z],{configurable:true,enumerable:true,writable:true,initializer:null}),se=we(te.prototype,"viewState",[N],{configurable:true,enumerable:true,writable:true,initializer:null}),le=we(te.prototype,"kpiManagement",[j],{configurable:true,enumerable:true,writable:true,initializer:null}),ge=we(te.prototype,"placeholder",[K],{configurable:true,enumerable:true,writable:true,initializer:null}),we(te.prototype,"getExtensionAPI",[U,$],Object.getOwnPropertyDescriptor(te.prototype,"getExtensionAPI"),te.prototype),we(te.prototype,"onPageReady",[q,J],Object.getOwnPropertyDescriptor(te.prototype,"onPageReady"),te.prototype),we(te.prototype,"onViewNeedsRefresh",[W,G],Object.getOwnPropertyDescriptor(te.prototype,"onViewNeedsRefresh"),te.prototype),we(te.prototype,"onPendingFilters",[Q,X],Object.getOwnPropertyDescriptor(te.prototype,"onPendingFilters"),te.prototype),we(te.prototype,"onAfterClear",[Y,Z],Object.getOwnPropertyDescriptor(te.prototype,"onAfterClear"),te.prototype),te))||ee);return Ve},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/templates/ListReport/ListReportTemplating", ["sap/fe/core/helpers/StableIdHelper"],function(e){"use strict";var a={};var t=e.generate;const n=function(e,a){if(e&&e.variantManagement==="Page"){return"fe::PageVariantManagement"}if(e&&e.variantManagement==="Control"){return t([a.filterBarId,"VariantManagement"])}return undefined};a.getVariantBackReference=n;const r=function(e){for(let a=0;a<e.length;a++){if(e[a].defaultPath){return e[a].defaultPath}}};a.getDefaultPath=r;return a},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/templates/ListReport/controls/MultipleModeControl", ["sap/base/Log","sap/fe/base/ClassSupport","sap/fe/core/CommonUtils","sap/fe/core/converters/MetaModelConverter","sap/fe/core/helpers/MessageStrip","sap/fe/core/helpers/ResourceModelHelper","sap/ui/core/Control","sap/ui/core/Element","sap/ui/model/json/JSONModel"],function(e,t,n,r,i,o,s,l,a){"use strict";var u,c,f,d,h,g,p,b,C,y,m,I,T,_,v,F,w,S,A;function O(e){return new Promise((t,n)=>{sap.ui.require([e],n=>{if(!(n&&n.__esModule)){n=n===null||!(typeof n==="object"&&e.endsWith("/library"))?{default:n}:n;Object.defineProperty(n,"__esModule",{value:true})}t(n)},e=>{n(e)})})}var z=o.getResourceModel;var M=t.property;var P=t.event;var E=t.defineUI5Class;var V=t.association;var R=t.aggregation;function K(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function B(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,D(e,t)}function D(e,t){return D=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},D(e,t)}function L(e,t,n,r,i){var o={};return Object.keys(r).forEach(function(e){o[e]=r[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(n,r){return r(e,t,n)||n},o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer?(Object.defineProperty(e,t,o),null):o}function N(e,t){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}var j=function(e){e["Suspend"]="suspendBinding";e["Resume"]="resumeBinding";return e}(j||{});let U=(u=E("sap.fe.templates.ListReport.controls.MultipleModeControl"),c=M({type:"boolean"}),f=M({type:"boolean",defaultValue:false}),d=M({type:"boolean",defaultValue:false}),h=M({type:"boolean",defaultValue:false}),g=R({type:"sap.m.IconTabBar",multiple:false,isDefault:true}),p=V({type:"sap.ui.core.Control",multiple:true}),b=V({type:"sap.fe.macros.controls.FilterBar",multiple:false}),C=P(),u(y=(m=function(t){function o(e,n){var r;r=t.call(this,e,n)||this;K(r,"showCounts",I,r);K(r,"setVisibleOverridden",T,r);K(r,"freezeContent",_,r);K(r,"countsOutDated",v,r);K(r,"content",F,r);K(r,"innerControls",w,r);K(r,"filterControl",S,r);K(r,"select",A,r);return r}B(o,t);var s=o.prototype;s.onBeforeRendering=function e(){this.getTabsModel();const t=this._getFilterControl();if(!t){this.setCountsOutDated(true)}const n=t?.getParent();this.getAllInnerControls().forEach(e=>{if(this.showCounts){e.attachEvent("internalDataRequested",this.internalRefreshTabsCount.bind(this))}e.suspendBinding?.()});if(n){n.attachEvent("internalSearch",this._onSearch.bind(this));n.attachEvent("internalFilterChanged",this._onFilterChanged.bind(this))}};s.onAfterRendering=function e(){this.getSelectedInnerControl()?.resumeBinding?.(!this.getProperty("freezeContent"));if(this.showCounts&&!this.setVisibleOverridden){this.setProperty("setVisibleOverridden",true);this.getAllInnerControls().forEach(e=>{const t=this._getTabFromInnerControl(e);if(!t)return;const n=t.setVisible;t.setVisible=r=>{if(t.getVisible()===false&&r){this.refreshTabCount(e)}return n.bind(t)(r)}})}};o.render=function e(t,n){t.renderControl(n.content)};s.getTabsModel=function e(){const t="tabsInternal";const n=this.content;if(!n){return undefined}let r=n.getModel(t);if(!r){r=new a({});n.setModel(r,t)}return r};s.getSelectedInnerControl=function e(){const t=this.content?.getItems().find(e=>e.getKey()===this.content.getSelectedKey());return t?this.getAllInnerControls().find(e=>this._getTabFromInnerControl(e)===t):undefined};o.handleTabChange=function e(t){const n=t.getSource();const r=n.getParent();const i=t.getParameters();r._setInnerBinding(true);const s=i?.previousKey;const l=i?.selectedKey;let a;if(l&&s!==l){const e=r._getFilterControl();if(e&&!r.getProperty("freezeContent")){if(!r.getSelectedInnerControl()){r._refreshCustomView(e.getFilterConditions(),"tabChanged")}}a=o.handlePersonalizationUpdate(l,s,n)}r._getViewController()?.getExtensionAPI()?.updateAppState();r.fireEvent("select",{iconTabBar:n,selectedKey:l,previousKey:s});return a};o.handlePersonalizationUpdate=async function t(n,r,i){try{const e=(await O("sap/ui/fl/write/api/ControlPersonalizationWriteAPI")).default;e.add({changes:[{changeSpecificData:{changeType:"selectIconTabBarFilter",content:{selectedKey:n,previousSelectedKey:r}},selectorElement:i}]})}catch(t){e.error("Something went wrong while updating the personalization state of the MultipleModeControl",t)}};s.refreshSelectedInnerControlContent=function e(){if(this.getSelectedInnerControl()){this.getSelectedInnerControl()?.invalidateContent?.();this.getSelectedInnerControl()?.resumeBinding?.(true)}else{this._refreshCustomView(undefined,"forcedRefresh")}};s.invalidateContent=function e(t){this.setCountsOutDated(true);this.getAllInnerControls().forEach(e=>{if(t){const n=this._getTabFromInnerControl(e);for(const r of t){if(n&&(n.getKey()===`fe::table::${r}::LineItem`||n.getKey()===`fe::CustomTab::${r}`)){e.invalidateContent?.()}}}else{e.invalidateContent?.()}})};s.setCountsOutDated=function e(){let t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:true;this.setProperty("countsOutDated",t);if(t&&!this.getSelectedInnerControl()){this.internalRefreshTabsCount()}};s.setFreezeContent=function e(t){this.setProperty("freezeContent",t);this._setInnerBinding()};s._updateMultiTabNotApplicableFields=function e(){const t=this.getTabsModel();const r=this._getFilterControl();if(t&&r){const e={};const i=n.getTargetView(this);const o=i.getViewData();if(!o.useHiddenFilterBar){this.getAllInnerControls().forEach(t=>{const n=this._getTabFromInnerControl(t);if(n){const i=n.getKey();const o=t.refreshNotApplicableFields?.(r)||[];e[i]={notApplicable:{fields:o,title:this._setTabMessageStrip({entityTypePath:r.data("entityType"),ignoredFields:o,title:n.getText()})}};if(t&&t.isA("sap.fe.macros.Chart")){e[i]=this.checkNonFilterableEntitySet(t,i,e)}}});t.setData(e)}}};s.checkNonFilterableEntitySet=function e(t,n,i){const o=z(t);const s=t?.getContent?t.getContent():undefined;const l=s&&r.getInvolvedDataModelObjects(s.getModel().getMetaModel().getContext(`${s.data("targetCollectionPath")}`))?.targetObject?.annotations?.Capabilities?.FilterRestrictions?.Filterable;if(l!==undefined&&!l){if(i[n].notApplicable.fields.includes("$search")){i[n].notApplicable.title+=" "+o.getText("C_LR_MULTIVIZ_CHART_MULTI_NON_FILTERABLE")}else{i[n].notApplicable.fields=["nonFilterable"];i[n].notApplicable.title=o.getText("C_LR_MULTIVIZ_CHART_MULTI_NON_FILTERABLE")}}return i[n]};s.getAllInnerControls=function e(){let t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;return this.innerControls.reduce((e,n)=>{const r=l.getElementById(n);if(r){e.push(r)}return e.filter(e=>!t||this._getTabFromInnerControl(e)?.getVisible())},[])||[]};s._getFilterControl=function e(){return l.getElementById(this.filterControl)};s._getTabFromInnerControl=function e(t){let n=t;if(n&&!n.isA("sap.m.IconTabFilter")&&n.getParent){n=t.getParent()}return n&&n.isA("sap.m.IconTabFilter")?n:undefined};s._getViewController=function e(){const t=n.getTargetView(this);return t&&t.getController()};s._refreshCustomView=function e(t,n){this._getViewController()?.onViewNeedsRefresh?.({filterConditions:t,currentTabId:this.content.getSelectedKey(),refreshCause:n})};s.refreshTabCount=function t(n){const r=this._getTabFromInnerControl(n);if(!r){return}if(n?.getCounts){r.setCount("...");n.getCounts().then(e=>r.setCount(e||"0")).catch(function(t){e.error(`Error while requesting Counts for Control: ${t}`)})}};s.internalRefreshTabsCount=function e(t){const n=t?.getSource();const r=n?this._getTabFromInnerControl(n)?.getKey():this.content?.getSelectedKey();if(typeof r==="string"){if(r===""){const e=this.content?.getItems().map(e=>e.getKey().split("::")[2])??[];this.refreshTabsCount(e)}else{this.refreshTabsCount([r.split("::")[2]])}}};s.refreshTabsCount=function e(t){if(!t){this.setCountsOutDated(true)}this.getAllInnerControls(true).forEach(e=>{const n=this._getTabFromInnerControl(e);if(this.countsOutDated||t&&n&&t.includes(n.getKey().split("::")[2])){this.refreshTabCount(e)}});this.setCountsOutDated(false)};s.setTabContentToBeRefreshedOnNextOpening=function e(t){const n=this?.content.getSelectedKey();const r=[];const i=t?t.includes(n?.split("::")[2]):true;if(t){for(const e of t){if(n!==`fe::table::${e}::LineItem`&&n!==`fe::CustomTab::${e}`){r.push(e)}}}else{this?.getAllInnerControls().forEach(e=>{const t=this?._getTabFromInnerControl(e);if(t&&t.getKey()!==n){r.push(t.getKey().split("::")[2])}})}this?.invalidateContent(r);if(i){this?.refreshSelectedInnerControlContent()}};s._setInnerBinding=function e(){let t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;if(this.content){this.getAllInnerControls().forEach(e=>{const n=this._getTabFromInnerControl(e);const r=n?.getKey()===this.content.getSelectedKey();const i=r&&!this.getProperty("freezeContent")?j.Resume:j.Suspend;e[i]?.(i===j.Resume?t&&r:undefined)})}};s._setTabMessageStrip=function e(t){let n="";const r=t.ignoredFields;const o=this._getFilterControl();if(o&&Array.isArray(r)&&r.length>0&&t.title){const e=i.getLabels(r,t.entityTypePath,o,z(o));n=i.getText(e,o,t.title);return n}};s._onSearch=function e(t){this.setCountsOutDated(true);this.setFreezeContent(false);if(this.getSelectedInnerControl()){this._updateMultiTabNotApplicableFields()}else{this._refreshCustomView(t.getParameter("conditions"),"search")}};s._onFilterChanged=function e(t){if(t.getParameter("conditionsBased")){this.setFreezeContent(true)}};return o}(s),I=L(m.prototype,"showCounts",[c],{configurable:true,enumerable:true,writable:true,initializer:null}),T=L(m.prototype,"setVisibleOverridden",[f],{configurable:true,enumerable:true,writable:true,initializer:null}),_=L(m.prototype,"freezeContent",[d],{configurable:true,enumerable:true,writable:true,initializer:null}),v=L(m.prototype,"countsOutDated",[h],{configurable:true,enumerable:true,writable:true,initializer:null}),F=L(m.prototype,"content",[g],{configurable:true,enumerable:true,writable:true,initializer:null}),w=L(m.prototype,"innerControls",[p],{configurable:true,enumerable:true,writable:true,initializer:null}),S=L(m.prototype,"filterControl",[b],{configurable:true,enumerable:true,writable:true,initializer:null}),A=L(m.prototype,"select",[C],{configurable:true,enumerable:true,writable:true,initializer:null}),m))||y);return U},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/templates/ListReport/overrides/IntentBasedNavigation", ["sap/base/Log","sap/fe/navigation/SelectionVariant"],function(t,e){"use strict";const n={adaptNavigationContext:function(i,o){try{const t=this.base.getView(),r=t.getController(),s=r._getFilterBarControl(),l=t.getModel().getMetaModel();let a,c;const p=r._intentBasedNavigation.keepNavigationPropertiesForNavigation();if(s&&!i.isEmpty()){const s={selectionVariant:r.getFilterBarSelectionVariant().toJSONObject()};let f={selectionVariant:{}};f=this.base.getAppComponent().getNavigationService().checkIsPotentiallySensitive(s);let g=new e(f?.selectionVariant);const u=t.getViewData(),d=u.fullContextPath;if(!p){const t=r._intentBasedNavigation.getNavigationPropertiesFromEntityType(l,d);g=n.removeNavigationPropertiesFromSV(g,t)}a=n.prepareFiltersForExternalNavigation(g,d);n.handleMultiModeControl(r,g);c=n.updateNonConflictingFilterProperties(o,g,i,a.filterPropertiesWithoutConflict);o=c.targetInfo;delete o.propertiesWithoutConflict}}catch(e){const n=e instanceof Error?e.message:String(e);t.error(`Failed to process navigation context - ${n}`)}},handleMultiModeControl:function(t,e){const n=t._getMultiModeControl();if(n){const t=n.getTabsModel();if(t){const i=t.getProperty(`/${n.content?.getSelectedKey()}/notApplicable/fields`);if(Array.isArray(i)&&i.length>0){i.forEach(function(t){e.removeSelectOption(t)})}}}},prepareFiltersForExternalNavigation(t,n){let i;const o={};const r={};let s="",l="",a,c,p;function f(t){let e;for(const i in t){let r=i;if(t[r]){if(r.includes("/")){e=r;const t=r.split("/");r=t[t.length-1]}else{e=n}if(!o[r]){o[r]=[]}o[r].push(e)}}}const g=t.getSelectOptionsPropertyNames();const u={};g.forEach(e=>{const n=t.getSelectOption(e);if(n){u[`${e}`]=n}});f(u);for(const t in o){const e=o[t];if(e.length>1){for(let o=0;o<=e.length-1;o++){i=e[o];if(i===n){a=`${n}/${t}`;p=t;s=t}else{p=i;a=`${n}/${i}`.replaceAll(/\*/g,"");l=i}u[a.split("/").filter(function(t){return t!=""}).join(".")]=u[p];delete u[i]}c=s||l;u[t]=u[c]}else{i=e[0];a=i===n?`${n}/${t}`:`${n}/${i}`.replaceAll("*","");r[t]=a.split("/").filter(function(t){return t!=""}).join(".")}}const d=new e;for(const t in u){d.massAddSelectOption(t,u[t])}return{updatedSelectionVariant:d,filterPropertiesWithoutConflict:r}},removeNavigationPropertiesFromSV(t,n){const i=n?n.map(t=>t.name):[];const o=t.getSelectOptionsPropertyNames();return o.reduce((e,n)=>{if(i.length>0){const t=n.split(".")[0];if(t&&i.includes(t)){return e}}const o=t.getSelectOption(n);if(o){e.massAddSelectOption(n,o)}return e},new e)},updateNonConflictingFilterProperties:function(t,e,n,i){const o=t.propertiesWithoutConflict;const r=i;e.getSelectOptionsPropertyNames().forEach(function(t){const i=e.getSelectOption(t);if(i&&i.length){const e=n.getSelectOptionsPropertyNames();if(!e.includes(t)){n.massAddSelectOption(t,i)}else{if(o&&t in o){n.massAddSelectOption(o[t],i)}if(r&&t in r){n.massAddSelectOption(r[t],i)}}}});return{targetInfo:t,selectionVariant:n}},getEntitySet:function(){return this.base.getCurrentEntitySet()}};return n},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/templates/ListReport/overrides/Share", ["sap/base/Log","sap/fe/core/CommonUtils","sap/ui/core/routing/HashChanger"],function(t,e,n){"use strict";async function o(t){const e=t._getTable?.();if(!e){return""}const n=e.getParent();const o=await n.getDownloadUrlWithFilters();const i=o.split("?");const r=`${i[0]}/$count?`;const a=[];if(i.length>1){const t=i[1];t.split("&").forEach(function(t){const e=t.split("=");switch(e[0]){case"$apply":case"$search":case"$filter":a.push(t)}})}return r+a.join("&")}async function i(){const e=sap.ui.require("sap/ushell/Container");if(e){return e.getFLPUrlAsync(true).then(function(t){return t}).catch(function(e){t.error("Could not retrieve cFLP URL for the sharing dialog (dialog will not be opened)",e)})}else{return Promise.resolve(document.URL)}}async function r(t){const e=t._getFilterBarControl();if(e){return o(t)}return""}function a(){const e=n.getInstance().getHash();const o=n.getInstance().hrefForAppSpecificHash?n.getInstance().hrefForAppSpecificHash?.(""):"";const i=e?o+e:window.location.hash;const r=sap.ui.require("sap/ushell/Container");if(r&&r.runningInIframe&&r.runningInIframe()){r.getFLPUrl(true).then(function(t){return t.substring(0,t.indexOf("#"))+i}).catch(function(e){t.error("Could not retrieve cFLP URL for the sharing dialog (dialog will not be opened)",e)})}else{return window.location.origin+window.location.pathname+i}}async function s(t,n){const o=e.getAppComponent(t),i=o.getRouterProxy(),r=i.getHash(),a=o.getRootViewController(),s=a.getAppSpecificHash(),c=await o.getAppStateHandler().createAppState({replaceHash:false,skipMerge:true});const l=c?.appStateKey;if(l&&s){n.tile.url=s+i.setAppStateInHash(r,l)}}async function c(e){const n=e._getFilterBarControl();try{if(e.getView().getBindingContext("internal").getProperty("hasPendingFilters")){return await new Promise(function(t){const o=e._getTable?.();if(!o){return}const i=o.getRowBinding()||o.getBinding("items");i.attachEventOnce("dataReceived",function(){t()});n.triggerSearch()})}}catch(n){const o=e.getView()?.getModel("shareInfo");if(o){o.setProperty("/saveAsTileClicked",false)}const i=n instanceof Error?n.message:String(n);t.error(`FE : Save as tile - data sync failed : Share : ${i}`)}}async function l(t,n){const o=t.getModel("shareInfo");if(o&&o.getProperty("/saveAsTileClicked")){await c(t.getController());await s(t,n);const o=e.getAppComponent(t);const i=o.getManifest();const a=i["sap.ui"];const l=a&&a.icons&&a.icons.icon||"";const u=i["sap.app"];const g=u&&u.title||"";n.tile.icon=l;n.tile.title=g;n.tile.queryUrl=await r(t.getController())}}const u={adaptShareMetadata:async function(e){try{await l(this.base.getView(),e);const t=a();e.title=document.title;if(t){e.jam.url=t}const n=this.base?.getView()?.getModel("shareInfo");const o=await this.getTeamsUrl(e.url);if(n){n.setProperty("/collaborationInfo/url",o);n.setProperty("/collaborationInfo/appTitle",e.title)}const r=await i();e.email.url=r}catch(e){t.error(e)}return e}};return u},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/templates/ListReport/overrides/SideEffects", ["sap/fe/core/CommonUtils","sap/fe/core/converters/MetaModelConverter","sap/fe/core/helpers/ResourceModelHelper"],function(e,t,n){"use strict";var o=n.getResourceModel;var r=t.getInvolvedDataModelObjects;function s(t,n,o){const s=e.getAppComponent(t.getView()).getSideEffectsService();const i=s.getConvertedMetaModel();const g=n.getModel().getMetaModel().getMetaContext(n.getPath());const a=r(g).targetEntityType;return s.getODataSideEffectsFromContextEvent(n,o).some(e=>e.targetEntities.some(e=>e.$NavigationPropertyPath.startsWith("/")&&i.resolvePath(e.$NavigationPropertyPath)?.target?.entityType===a))}const i={getDataRefreshText:function(){const e=o(this.getView());return e.getText("C_SERVER_EVENTS_NEW_DATA")},async requestSideEffectsForEvent(t,n){const o=this.getView().getController();const r=this.getView().getController()._getTable();const i=r?.getRowBinding();if(!i){return}const g=i.getHeaderContext();if(g&&s(o,g,t)){return e.getAppComponent(this.getView()).getSideEffectsService().requestSideEffectsForEvent(t,g)}const a=i.getCurrentContexts()??[];const c=a.find(e=>e.getPath()===n);if(c){return e.getAppComponent(this.getView()).getSideEffectsService().requestSideEffectsForEvent(t,c)}},isDataPathRelevant(e,t){const n=this.getView().getController();const o=n._getTable()?.getRowBinding();if(!o){return false}const r=o.getHeaderContext();if(r&&s(n,r,t)){return true}const i=o.getCurrentContexts()??[];return i.findIndex(t=>t.getPath()===e)>-1}};return i},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/templates/ListReport/overrides/ViewState", ["sap/base/Log","sap/fe/core/helpers/KeepAliveHelper","sap/fe/core/library","sap/fe/navigation/library","sap/ui/Device","sap/ui/mdc/p13n/StateUtil"],function(t,e,n,i,a,r){"use strict";const o=i.NavType,s=n.VariantManagement,l=n.TemplateContentView;const p={adaptApplyStateNavParams:function(t){t.applyVariantFromURLParams=true},applyInitialStateOnly:function(){return true},onBeforeStateApplied:function(t,e){const n=this.getView(),i=n.getController(),a=i._getFilterBarControl(),r=i._getControls("table");if(a){a.setSuspendSelection(true);t.push(a.waitForInitialization());if(e===o.hybrid){this._clearFilterConditions(a)}}r.forEach(function(e){t.push(e.initialized())})},adaptBindingRefreshControls:function(t){const n=this.base.getView(),i=n.getController(),a=i._getControls(),r=e.getControlsForRefresh(n,a);Array.prototype.push.apply(t,r)},adaptStateControls:function(t){const e=this.base.getView(),n=e.getController();const i=this._getFilterBarVM(e);if(i){t.push(i)}if(n._isMultiMode()){t.push(n._getMultiModeControl())}if(n._hasMultiVisualizations()){t.push(n._getSegmentedButton(l.Chart));t.push(n._getSegmentedButton(l.Table))}t.push(e.byId("fe::ListReport"))},retrieveAdditionalStates:function(t){const e=this.getView(),n=e.getController();if(n._hasMultiVisualizations()){const n=e.getBindingContext("internal").getProperty("alpContentView");t.alpContentView=n}},applyAdditionalStates:function(t){const e=this.getView(),n=e.getController();if(t){if(n._hasMultiVisualizations()){const n=e.getBindingContext("internal");if(!a.system.desktop&&t.alpContentView==l.Hybrid){t.alpContentView=l.Chart}n.getModel().setProperty(`${n.getPath()}/alpContentView`,t.alpContentView)}}},_getFilterBarVM:t=>{let e;const n=t.getViewData();switch(n.variantManagement){case s.Page:e=t.byId("fe::PageVariantManagement");break;case s.Control:e=t.getController()._getFilterBarVariantControl();break;case s.None:default:break}return e},_fnClearStateBeforexAppNav:async function(e){return r.retrieveExternalState(e).then(t=>{const e=t.filter;for(const t in e){if(t!=="$editState"&&t!=="$search"&&e[t]){e[t].forEach(t=>{t["filtered"]=false})}}return e}).catch(function(e){t.error("Error while retrieving the external state",e)})},_clearFilterConditions:async function(t){const e=[];return t.waitForInitialization().then(async()=>{const n=await this._fnClearStateBeforexAppNav(t);return r.applyExternalState(t,{filter:n,items:e})})}};return p},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/templates/ListReport/view/fragments/MultipleMode.block", ["sap/fe/core/buildingBlocks/templating/BuildingBlockSupport","sap/fe/core/buildingBlocks/templating/BuildingBlockTemplateProcessor","sap/fe/core/buildingBlocks/templating/BuildingBlockTemplatingBase","sap/fe/core/helpers/StableIdHelper","sap/m/IconTabBar","sap/m/IconTabFilter","sap/m/MessageStrip","../../controls/MultipleModeControl","sap/fe/base/jsx-runtime/jsx"],function(e,t,r,n,i,o,a,l,s){"use strict";var c,p,u,m,f;var d={};var b=n.generate;var h=t.xml;var v=e.defineBuildingBlock;var C=e.blockAttribute;function g(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function I(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,w(e,t)}function w(e,t){return w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},w(e,t)}function x(e,t,r,n,i){var o={};return Object.keys(n).forEach(function(e){o[e]=n[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=r.slice().reverse().reduce(function(r,n){return n(e,t,r)||r},o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer?(Object.defineProperty(e,t,o),null):o}function y(e,t){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let B=(c=v({name:"MultipleMode",namespace:"sap.fe.templates.ListReport.view.fragments",isOpen:true}),p=C({type:"object"}),c(u=(m=function(e){function t(t){var r;r=e.call(this,t)||this;g(r,"converterContext",f,r);return r}d=t;I(t,e);var r=t.prototype;r.getInnerControlsAPI=function e(){return this.converterContext?.views.reduce((e,t)=>{const r=t.tableControlId||t.chartControlId;if(r){e.push(`${r}::${t.tableControlId?"Table":"Chart"}`)}return e},[]).join(",")||""};r.getItems=function e(){return this.converterContext.views.map((e,t)=>h`<template:with path="converterContext>views/${t}/" var="view"
						template:require="{
							ID: 'sap/fe/core/helpers/StableIdHelper'
						}"
						xmlns:core="sap.ui.core"
						xmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1">
				<template:with path="view>presentation" var="presentationContext">
				${s(o,{text:e.title,visible:e.visible,children:e.viewType==="Custom"?h`<core:Fragment fragmentName="sap.fe.templates.ListReport.view.fragments.CustomView" type="XML" />`:h`
							 ${s(a,{text:"{tabsInternal>/"+(e.tableControlId||e.chartControlId)+"/notApplicable/title}",type:"Information",showIcon:"true",showCloseButton:"true",class:"sapUiTinyMargin",visible:"{= (${tabsInternal>/"+(e.tableControlId||e.chartControlId)+"/notApplicable/fields} || []).length>0 }"})}
							<core:Fragment fragmentName="sap.fe.templates.ListReport.view.fragments.CollectionVisualization" type="XML" />
							`},b([e.tableControlId||e.customTabId||e.chartControlId]))}
			</template:with></template:with>`).join("")};r.getTemplate=function e(){return s(l,{id:b([this.converterContext.multiViewsControl?.id,"Control"]),innerControls:this.getInnerControlsAPI(),filterControl:this.converterContext.filterBarId,showCounts:this.converterContext.multiViewsControl?.showTabCounts,freezeContent:!!this.converterContext.filterBarId,children:s(i,{"core:require":"{ MULTICONTROL: 'sap/fe/templates/ListReport/controls/MultipleModeControl' }",expandable:"false",headerMode:"Inline",id:this.converterContext.multiViewsControl?.id,stretchContentHeight:"true",select:"MULTICONTROL.handleTabChange($event)",children:{items:this.getItems()}})})};return t}(r),f=x(m.prototype,"converterContext",[p],{configurable:true,enumerable:true,writable:true,initializer:null}),m))||u);d=B;return d},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/templates/ObjectPage/Component", ["sap/base/Log","sap/fe/base/ClassSupport","sap/fe/core/CommonUtils","sap/fe/core/TemplateComponent","sap/fe/core/helpers/ModelHelper","sap/fe/core/library","sap/fe/templates/ObjectPage/ExtendPageDefinition","sap/fe/templates/library"],function(e,t,r,a,n,i,o,l){"use strict";var u,s,p,c,d,f,b,g,m,y,h,C,v,P,M,j,D,w,z,O,x,V,A;var L=o.extendObjectPageDefinition;var E=t.property;var I=t.defineUI5Class;function S(e,t,r,a){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(a):void 0})}function $(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,H(e,t)}function H(e,t){return H=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},H(e,t)}function N(e,t,r,a,n){var i={};return Object.keys(a).forEach(function(e){i[e]=a[e]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce(function(r,a){return a(e,t,r)||r},i),n&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(n):void 0,i.initializer=void 0),void 0===i.initializer?(Object.defineProperty(e,t,i),null):i}function F(e,t){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}const _=i.VariantManagement,R=i.CreationMode;const T=l.ObjectPage.SectionLayout;let U=(u=I("sap.fe.templates.ObjectPage.Component",{library:"sap.fe.templates",manifest:"json"}),s=E({type:"sap.fe.core.VariantManagement",defaultValue:_.None}),p=E({type:"sap.fe.templates.ObjectPage.SectionLayout",defaultValue:T.Page}),c=E({type:"boolean",defaultValue:false}),d=E({type:"object"}),f=E({type:"object"}),b=E({type:"boolean",defaultValue:true}),g=E({type:"boolean",defaultValue:false}),m=E({type:"object"}),y=E({type:"boolean"}),h=E({type:"boolean",defaultValue:false}),u(C=(v=function(t){function a(){var e;for(var r=arguments.length,a=new Array(r),n=0;n<r;n++){a[n]=arguments[n]}e=t.call(this,...a)||this;S(e,"variantManagement",P,e);S(e,"sectionLayout",M,e);S(e,"showRelatedApps",j,e);S(e,"share",D,e);S(e,"additionalSemanticObjects",w,e);S(e,"editableHeaderContent",z,e);S(e,"useTextForNoDataMessages",O,e);S(e,"inboundParameters",x,e);S(e,"openInEditMode",V,e);S(e,"enableLazyLoading",A,e);e.DeferredContextCreated=false;return e}$(a,t);var i=a.prototype;i.init=function e(){this.breadcrumbsHierarchyMode=this.breadcrumbsHierarchyMode??"objectNavigation";t.prototype.init.call(this)};i.isContextExpected=function e(){return true};i.extendPageDefinition=function e(t,r){return L(t,r)};i.createDeferredContext=function e(t,a,i,o,l){if(!this.DeferredContextCreated){this.DeferredContextCreated=true;const e={$$groupId:"$auto.Heroes",$$updateGroupId:"$auto"};const u=this.getModel().getMetaModel();if(n.isCollaborationDraftSupported(u)){e.$select="DraftAdministrativeData/DraftAdministrativeUser"}if(!a){a=this.getModel().bindList(t.replace("(...)",""),undefined,undefined,undefined,e)}const s=this.oAppComponent&&this.oAppComponent.getComponentData()&&this.oAppComponent.getComponentData().startupParameters,p=this.getViewData().inboundParameters;let c;if(s&&s.preferredMode&&s.preferredMode[0].includes("create")){c=Object.assign({},o,r.getAdditionalParamsForCreate(s,p))}else{c=o}this.getRootControl().getController().editFlow.createDocument(a,{creationMode:R.Sync,createAction:l,data:c,bFromDeferred:true,selectedContexts:i?[i]:undefined}).finally(()=>{this.DeferredContextCreated=false}).catch(function(){})}};i.setVariantManagement=function t(r){if(r===_.Page){e.error("ObjectPage does not support Page-level variant management yet");r=_.None}this.setProperty("variantManagement",r)};i.isOpenInEditMode=function e(){const t=this.getViewData().openInEditMode;return t===true};i._getControllerName=function e(){return"sap.fe.templates.ObjectPage.ObjectPageController"};return a}(a),P=N(v.prototype,"variantManagement",[s],{configurable:true,enumerable:true,writable:true,initializer:null}),M=N(v.prototype,"sectionLayout",[p],{configurable:true,enumerable:true,writable:true,initializer:null}),j=N(v.prototype,"showRelatedApps",[c],{configurable:true,enumerable:true,writable:true,initializer:null}),D=N(v.prototype,"share",[d],{configurable:true,enumerable:true,writable:true,initializer:null}),w=N(v.prototype,"additionalSemanticObjects",[f],{configurable:true,enumerable:true,writable:true,initializer:null}),z=N(v.prototype,"editableHeaderContent",[b],{configurable:true,enumerable:true,writable:true,initializer:null}),O=N(v.prototype,"useTextForNoDataMessages",[g],{configurable:true,enumerable:true,writable:true,initializer:null}),x=N(v.prototype,"inboundParameters",[m],{configurable:true,enumerable:true,writable:true,initializer:null}),V=N(v.prototype,"openInEditMode",[y],{configurable:true,enumerable:true,writable:true,initializer:null}),A=N(v.prototype,"enableLazyLoading",[h],{configurable:true,enumerable:true,writable:true,initializer:null}),v))||C);return U},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/templates/ObjectPage/ExtendPageDefinition", ["sap/fe/base/BindingToolkit","sap/fe/templates/ObjectPage/ObjectPageTemplating"],function(t,e){"use strict";var n={};var i=e.getPressExpressionForPrimaryAction;var a=e.getEditCommandExecutionVisible;var o=e.getEditCommandExecutionEnabled;var r=t.isConstant;var s=t.getExpressionFromAnnotation;const c=function(t,e){const n=t;n.primaryAction=g(e,t.header.actions,t.footerActions);n.designtime=l();return n};n.extendObjectPageDefinition=c;const g=function(t,e,n){let c="";const g=[...e,...n];const l=function(t){if(t&&t.includes("{=")){return t.replace("{=","(").slice(0,-1)+")"}return t};const u=g.filter(e=>{if(e?.annotationPath){const n=t.getConverterContextFor(e?.annotationPath).getDataModelObjectPath().targetObject;const i=s(n?.Criticality);if(r(i)&&i.value==="UI.CriticalityType/Positive"){return true}}});const f=t.getEntitySet();if(u.length>0){c=i(u[0].annotationPath?t.getConverterContextFor(u[0].annotationPath).getDataModelObjectPath().targetObject:undefined,f?.name,u[0],l(u[0].visible??"true"),l(u[0].enabled??"true"),l(a(e)),l(o(e)))}else{c=i(undefined,f?.name,null,"false","false",l(a(e)),l(o(e)))}return c};n.getPrimaryAction=g;function l(){return"sap/fe/templates/ObjectPage/designtime/ObjectPage.designtime"}n.getDesigntime=l;return n},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/templates/ObjectPage/ExtensionAPI", ["sap/base/Log","sap/fe/base/ClassSupport","sap/fe/core/CommonUtils","sap/fe/core/ExtensionAPI","sap/fe/core/converters/helpers/ID","sap/fe/core/helpers/RecommendationHelper","sap/fe/core/helpers/ResourceModelHelper","sap/ui/core/InvisibleMessage","sap/ui/core/library","sap/ui/core/message/Message","sap/ui/core/message/MessageType"],function(e,t,s,n,o,i,r,a,g,c,l){"use strict";var p,u;var f=g.InvisibleMessageMode;var d=i.recommendationHelper;var h=o.getSideContentLayoutID;var P=t.defineUI5Class;function y(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,C(e,t)}function C(e,t){return C=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},C(e,t)}let M=(p=P("sap.fe.templates.ObjectPage.ExtensionAPI"),p(u=function(t){function n(){return t.apply(this,arguments)||this}y(n,t);var o=n.prototype;o.refresh=async function e(t){const n=this._view.getBindingContext();if(!n){return Promise.resolve()}const o=s.getAppComponent(this._view),i=o.getSideEffectsService(),r=n.getModel().getMetaModel(),a={targetProperties:[],targetEntities:[]};if(t===undefined||t===null){a.targetEntities.push({$NavigationPropertyPath:""})}else{const e=Array.isArray(t)?t:[t];const s=this._controller.getOwnerComponent();const n=s.getContextPath()||`/${s.getEntitySet()}`;for(const t of e){if(t===""){a.targetProperties.push("*")}else{const e=r.getObject(`${n}/${t}/$kind`);if(e==="NavigationProperty"){a.targetEntities.push({$NavigationPropertyPath:t})}else if(e){a.targetProperties.push(t)}else{return Promise.reject(`${t} is not a valid path to be refreshed`)}}}}return i.requestSideEffects([...a.targetEntities,...a.targetProperties],n)};o.getSelectedContexts=function e(t){let s=this._view.byId(t);if(s?.isA("sap.ui.mdc.Table")){s=s.getParent()}if(s?.isA("sap.fe.macros.table.TableAPI")){return s.getSelectedContexts()}return[]};o.showSideContent=function e(t,s){const n=h(t),o=this._view.byId(n),i=s===undefined?!o.getShowSideContent():s;o.setShowSideContent(i,false)};o.getBindingContext=function e(){return this._view.getBindingContext()};o._getMessageStripBindingContextPath=function e(){const t=this._view.getBindingContext("internal")?.getPath();const s=this._view.getBindingContext()?.getPath();return t&&s?`${t}/MessageStrip/${s.replace(/\//g,"-")}`:""};o.showMessages=function e(t){this._showMessages(t)};o._showMessages=function t(n){let o=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"Custom";try{const e=this._view;const t=e.getModel("internal");const i=t.bindContext(this._getMessageStripBindingContextPath()).getBoundContext();if(!i){return}const g=r.getResourceModel(e);let p=null;i.setProperty(`OP${o}MessageVisible`,!!p);switch(n.length){case 0:break;case 1:p=n[0];i.setProperty(`OP${o}MessageVisible`,!!p);break;default:const t={Error:{id:2,count:0},Warning:{id:1,count:0},Information:{id:0,count:0}};p=n.reduce((e,s)=>{const n=s.getType();e.setType(t[n].id>t[e.getType()].id?n:e.getType());t[n].count++;return e},new c({type:l.Information}));if(o==="Backend"&&!s.getIsEditable(e)){i.setProperty(`OP${o}MessageVisible`,false)}else{i.setProperty(`OP${o}MessageVisible`,!!p)}if(t.Error.count>0){p.setMessage(g.getText("OBJECTPAGESTATE_ERROR"))}else if(t.Warning.count>0){p.setMessage(g.getText("OBJECTPAGESTATE_WARNING"))}else{p.setMessage(g.getText("OBJECTPAGESTATE_INFORMATION"))}}i.setProperty(`OP${o}MessageText`,p?p.getMessage():null);i.setProperty(`OP${o}MessageType`,p?p.getType():null);if(p){a.getInstance().announce(p.getMessage(),f.Assertive)}}catch(t){e.error("Cannot display ObjectPage message")}};o.hideMessage=function e(){const t=this._view.getModel("internal");const s=t.bindContext(this._getMessageStripBindingContextPath()).getBoundContext();s.setProperty(`OPCustomMessageVisible`,false)};o.setRecommendations=function e(t){d.transformRecommendationsForInternalStorage(t);this._view.getModel("internal").setProperty("/recommendationsData",t)};o.setAsSectionTitleOwner=function e(t){let s;const n=t;let o;while(t){if(t.isA("sap.fe.macros.controls.Section")){s=t;break}if(t.isA("sap.fe.core.ReuseComponent")){t=t.container.getParent();o=true}const e=t.getParent();if(e){t=e}else{break}}if(s){if(o&&s.getVisibleSubSections().length>1){s.adjustForSingleContent(n,{multipleSubSectionsWithReuseComponent:true})}else{s.adjustForSingleContent(n)}}};return n}(n))||u);return M},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/templates/ObjectPage/ObjectPageController.controller", ["sap/base/Log","sap/base/util/merge","sap/fe/base/ClassSupport","sap/fe/core/ActionRuntime","sap/fe/core/CommonUtils","sap/fe/core/PageController","sap/fe/core/controllerextensions/BusyLocker","sap/fe/core/controllerextensions/IntentBasedNavigation","sap/fe/core/controllerextensions/InternalIntentBasedNavigation","sap/fe/core/controllerextensions/InternalRouting","sap/fe/core/controllerextensions/MessageHandler","sap/fe/core/controllerextensions/PageReady","sap/fe/core/controllerextensions/Paginator","sap/fe/core/controllerextensions/Placeholder","sap/fe/core/controllerextensions/Share","sap/fe/core/controllerextensions/ViewState","sap/fe/core/controllerextensions/cards/CollaborationManager","sap/fe/core/controllerextensions/editFlow/draft","sap/fe/core/controllerextensions/editFlow/editFlowConstants","sap/fe/core/controllerextensions/routing/NavigationReason","sap/fe/core/controls/Recommendations/ConfirmRecommendationDialog","sap/fe/core/helpers/ModelHelper","sap/fe/core/helpers/ResourceModelHelper","sap/fe/core/library","sap/fe/macros/CommonHelper","sap/fe/macros/table/TableHelper","sap/fe/macros/table/Utils","sap/fe/navigation/SelectionVariant","sap/fe/templates/ObjectPage/ExtensionAPI","sap/fe/templates/ObjectPage/components/CollaborationDiscardDialog","sap/fe/templates/TableScroller","sap/m/InstanceManager","sap/m/MessageBox","sap/ui/Device","sap/ui/core/Element","sap/ui/core/Lib","sap/ui/core/Messaging","sap/ui/core/message/Message","sap/ui/core/message/MessageType","sap/ui/core/mvc/OverrideExecution","./overrides/CollaborationManager","./overrides/IntentBasedNavigation","./overrides/InternalRouting","./overrides/MessageHandler","./overrides/Paginator","./overrides/Share","./overrides/ViewState"],function(e,t,n,i,o,s,a,r,c,l,g,u,d,f,h,p,b,m,C,y,S,P,w,v,A,B,E,x,M,I,V,_,D,F,O,T,k,R,j,N,L,H,z,$,U,G,q){"use strict";var K,Q,J,W,X,Y,Z,ee,te,ne,ie,oe,se,ae,re,ce,le,ge,ue,de,fe,he,pe,be,me,Ce,ye;var Se=w.getResourceModel;var Pe=S.RecommendationDialogDecision;var we=n.usingExtension;var ve=n.publicExtension;var Ae=n.finalExtension;var Be=n.extensible;var Ee=n.defineUI5Class;function xe(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function Me(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Ie(e,t)}function Ie(e,t){return Ie=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ie(e,t)}function Ve(e,t,n,i,o){var s={};return Object.keys(i).forEach(function(e){s[e]=i[e]}),s.enumerable=!!s.enumerable,s.configurable=!!s.configurable,("value"in s||s.initializer)&&(s.writable=!0),s=n.slice().reverse().reduce(function(n,i){return i(e,t,n)||n},s),o&&void 0!==s.initializer&&(s.value=s.initializer?s.initializer.call(o):void 0,s.initializer=void 0),void 0===s.initializer?(Object.defineProperty(e,t,s),null):s}function _e(e,t){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}const De=v.ProgrammingModel;let Fe=(K=Ee("sap.fe.templates.ObjectPage.ObjectPageController"),Q=we(f),J=we(h.override(G)),W=we(l.override(z)),X=we(d.override(U)),Y=we(g.override($)),Z=we(r.override(H)),ee=we(b.override(L)),te=we(c.override({getNavigationMode:function(){const e=this.getView().getController().getStickyEditMode&&this.getView().getController().getStickyEditMode();return e?"explace":undefined}})),ne=we(p.override(q)),ie=we(u.override({isContextExpected:function(){return true}})),oe=ve(),se=Ae(),ae=ve(),re=Be(N.After),K(ce=(le=function(n){function r(){var t;for(var i=arguments.length,s=new Array(i),a=0;a<i;a++){s[a]=arguments[a]}t=n.call(this,...s)||this;xe(t,"placeholder",ge,t);xe(t,"share",ue,t);xe(t,"_routing",de,t);xe(t,"paginator",fe,t);xe(t,"messageHandler",he,t);xe(t,"intentBasedNavigation",pe,t);xe(t,"collaborationManager",be,t);xe(t,"_intentBasedNavigation",me,t);xe(t,"viewState",Ce,t);xe(t,"pageReady",ye,t);t.clearTitleHierarchyCacheSetUp=false;t.mergePatchDraft=false;t.handlers={onPrimaryAction(e,t,n,i,s,a){const r=e.getView().getViewData().viewLevel;if(a.positiveActionVisible){if(a.positiveActionEnabled){e.handlers.onCallAction(t,i,s)}}else if(a.editActionVisible){if(a.editActionEnabled){e._editDocument()}}else if(r===1&&o.getIsEditable(t)){e._saveDocument()}else if(o.getIsEditable(t)){e._applyDocument(n)}},async onTableContextChange(t){const n=t.getSource();const i=n.content;const o=this.editFlow.getCurrentActionPromise();const s=this._getTableBinding(i)?.getCurrentContexts();if(o&&s?.length){try{const e=await o;if(e?.controlId===i.getId()){const t=e.oData;const n=e.keys;const o=s.findIndex(e=>{const i=e.getObject();return n.every(e=>i[e]===t[e])});if(o!==-1){const e=_.getOpenDialogs().find(e=>e.data("FullScreenDialog")!==true);if(e){e.attachEventOnce("afterClose",()=>{i.focusRow(o,true)})}else{i.focusRow(o,true)}this.editFlow.deleteCurrentActionPromise()}}}catch(t){e.error(`An error occurs while scrolling to the newly created Item: ${t}`)}}this.messageButton.fireModelContextChange()},async onCallAction(e,t,n){const i=e.getController();await i.editFlow.syncTask();return i.editFlow.invokeAction(t,n).then(i._showMessagePopover.bind(i,undefined)).catch(i._showMessagePopover.bind(i))},onDataPointTitlePressed(e,t,n,i,s){n=typeof n==="string"?JSON.parse(n):n;const a=n[i],r=t.getBindingContext(),c=r.getModel().getMetaModel().getMetaPath(r.getPath());let l=o.getSemanticObjectMapping(a),g=e._getChartContextData(r,s),u;g=g.map(function(e){return{data:e,metaPath:c+(s?`/${s}`:"")}});if(a&&a.parameters){const t=a.parameters&&e._intentBasedNavigation.getOutboundParams(a.parameters);if(Object.keys(t).length>0){u=t}}if(l.length===0){const n=t.getCustomData().find(e=>e.getKey()==="ValuePropertyPath");if(n){l=e._getImplicitSemanticObjectMappingForDataPoints(n.getValue(),a.semanticObject)}}if(a&&a.semanticObject&&a.action){e._intentBasedNavigation.navigate(a.semanticObject,a.action,{navigationContexts:g,semanticObjectMapping:l,additionalNavigationParameters:u})}},async onChevronPressNavigateOutBound(e,t,n,i){return e._intentBasedNavigation.onChevronPressNavigateOutBound(e,t,n,i)},onNavigateChange(e){this.getExtensionAPI().updateAppState();this.bSectionNavigated=true;const t=this.getView().getBindingContext("internal");if(o.getIsEditable(this.getView())&&this.getView().getViewData().sectionLayout==="Tabs"&&t.getProperty("errorNavigationSectionFlag")===false){const t=e.getParameter("subSection");this._updateFocusInEditMode([t])}},onVariantSelected:function(){this.getExtensionAPI().updateAppState()},onVariantSaved:function(){setTimeout(()=>{this.getExtensionAPI().updateAppState()},2e3)},navigateToSubSection:function(t,n){const i=typeof n==="string"?JSON.parse(n):n;const o=t.getView().byId("fe::ObjectPage");let s;let a;if(i.sectionId){s=t.getView().byId(i.sectionId);a=i.subSectionId?t.getView().byId(i.subSectionId):s&&s.getSubSections()&&s.getSubSections()[0]}else if(i.subSectionId){a=t.getView().byId(i.subSectionId);s=a&&a.getParent()}if(!s||!a||!s.getVisible()||!a.getVisible()){const n=Se(t).getText("C_ROUTING_NAVIGATION_DISABLED_TITLE",undefined,t.getView().getViewData().entitySet);e.error(n);D.error(n)}else{o.setSelectedSection(a.getId());o.fireNavigate({section:s,subSection:a})}},closeCollaborationStrip:function(){this.getView().getModel("ui").setProperty("/showCollaborationStrip",false)},closeOPMessageStrip:function(){const e=this.getView();const t=o.getIsEditable(e);const n=e.getModel("internal");const i=n.bindContext(this.getExtensionAPI()._getMessageStripBindingContextPath()).getBoundContext();if(!t&&i.getProperty("OPBackendMessageVisible")===true){const e=k.getMessageModel().getData().filter(e=>e.getTargets()[0]===this.getView().getBindingContext()?.getPath()&&e.getPersistent()===true);if(e.length===1){k.removeMessages(e)}}i.setProperty("OPBackendMessageVisible",false);this.getExtensionAPI().hideMessage()}};return t}Me(r,n);var c=r.prototype;c.getExtensionAPI=function e(t){if(t){this.mCustomSectionExtensionAPIs=this.mCustomSectionExtensionAPIs||{};if(!this.mCustomSectionExtensionAPIs[t]){this.mCustomSectionExtensionAPIs[t]=new M(this,t)}return this.mCustomSectionExtensionAPIs[t]}else{if(!this.extensionAPI){this.extensionAPI=new M(this)}return this.extensionAPI}};c.onInit=function e(){n.prototype.onInit.call(this);const t=this._getObjectPageLayoutControl();const i=this.getView().getBindingContext("internal");i?.setProperty("externalNavigationContext",{page:true});i?.setProperty("relatedApps",{visibility:false,items:null});i?.setProperty("batchGroups",this._getBatchGroupsForView());i?.setProperty("errorNavigationSectionFlag",false);if(t.getEnableLazyLoading()){t.attachEvent("subSectionEnteredViewPort",this._handleSubSectionEnteredViewPort.bind(this))}this.messageButton=this.getView().byId("fe::FooterBar::MessageButton");this.messageBinding=k.getMessageModel().bindList("/");this.messageBinding?.attachChange(this._fnShowOPMessage,this);i?.setProperty("rootEditEnabled",true);i?.setProperty("rootEditVisible",true)};c.onExit=function e(){if(this.mCustomSectionExtensionAPIs){for(const e of Object.keys(this.mCustomSectionExtensionAPIs)){if(this.mCustomSectionExtensionAPIs[e]){this.mCustomSectionExtensionAPIs[e].destroy()}}delete this.mCustomSectionExtensionAPIs}if(this.extensionAPI){this.extensionAPI.destroy()}delete this.extensionAPI;const t=this.messageButton?this.messageButton.oMessagePopover:null;if(t&&t.isOpen()){t.close()}const n=this.getView().getBindingContext();if(n&&n.isKeepAlive()){n.setKeepAlive(false)}this.collaborativeDraft.disconnect();this.messageBinding?.detachChange(this._fnShowOPMessage,this)};c._fnShowOPMessage=function e(){if(this.getAppComponent().isSuspended()){return}const t=this.getExtensionAPI();const n=this.getView();const i=k?.getMessageModel().getData().filter(e=>e.getTargets()[0]===n.getBindingContext()?.getPath());if(t){t._showMessages(i,"Backend")}};c._getTableBinding=function e(t){return t&&t.getRowBinding()};c.checkSectionsForNonResponsiveTable=function e(t){const n=(e,t)=>{const i=[...t.getBlocks(),...t.getMoreBlocks()];if(i.length===1){const e=this.searchTableInBlock(i[0]);if(!e){return}const o=e.isA("sap.ui.mdc.Table")&&e.getType();const s=e.getParent()?.isA("sap.fe.macros.table.TableAPI")?e.getParent():undefined;if(o&&(o?.isA("sap.ui.mdc.table.GridTableType")||o?.isA("sap.ui.mdc.table.TreeTableType"))&&s?.getTableDefinition().control.rowCountMode==="Auto"){t.addStyleClass("sapUxAPObjectPageSubSectionFitContainer");t.detachEvent("modelContextChange",n,this)}}};for(let e=t.length-1;e>=0;e--){if(t[e].getVisible()){const i=t[e];i.attachEvent("modelContextChange",i,n,this);break}}};c.searchTableInBlock=function e(t){const n=t.content;let i;if(t.isA("sap.fe.templates.ObjectPage.controls.SubSectionBlock")){if(n.isA("sap.m.Panel")&&n.data("FullScreenTablePlaceHolder")){i=n.data("tableAPIreference")}else if(n.isA("sap.fe.macros.table.TableAPI")){i=n}if(i){return i.content}}return undefined};c.onBeforeRendering=function e(){s.prototype.onBeforeRendering.apply(this);if(this.oView.getViewData()?.retrieveTextFromValueList&&A.getMetaModel()===undefined){A.setMetaModel(this.getAppComponent().getMetaModel())}};c.onAfterRendering=function e(){let t;if(this._getObjectPageLayoutControl().getUseIconTabBar()){const e=this._getObjectPageLayoutControl().getSections();for(const n of e){t=n.getSubSections();this.checkSectionsForNonResponsiveTable(t)}}else{t=this._getAllSubSections();this.checkSectionsForNonResponsiveTable(t)}};c._onBeforeBinding=function e(t){let n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};const i=this._findTables(),o=this._getObjectPageLayoutControl(),s=this.getView().getBindingContext("internal"),a=this.getView().getModel("internal"),r=s.getProperty("batchGroups");let c;r.push("$auto");if(n.reason!==y.EditFlowAction){this._closeSideContent()}const l=o.getBindingContext();if(l&&l.hasPendingChanges()&&!r.some(l.getModel().hasPendingChanges.bind(l.getModel()))){l.getBinding().resetChanges()}for(const e of i){c=e.getCreationRow();if(c){c.setBindingContext(null)}}const g=function(){if(!o.isFirstRendering?.()&&!n.bPersistOPScroll){o.setSelectedSection(null)}};o.attachEventOnce("modelContextChange",g);const u={onAfterRendering:()=>{if(this.getView().getViewData()?.editableHeaderContent){g()}o.removeEventDelegate(u)}};o.addEventDelegate(u);this._initializePagination(t,a,n?.listBinding);if(o.getEnableLazyLoading()){this._disableBlocksBindings(o)}if(this.placeholder.isPlaceholderEnabled()&&n.showPlaceholder){const e=this.getView();const t=e.getParent().oContainer.getParent();if(t){this.placeholder.enableAnimation();t.showPlaceholder({})}}};c.getFirstEditableInput=function e(){const t=this._getObjectPageLayoutControl()._getFirstEditableInput();return t?O.closestTo(t):undefined};c.getFirstClickableElement=function e(t){let n;const i=t.getHeaderTitle()&&t.getHeaderTitle().getActions();if(i?.length){n=i.find(function(e){if(e.isA("sap.fe.macros.ai.SummarizationButton")){return e.getContent()?.getVisible()??false}else if(e.isA("sap.fe.macros.Share")||e.isA("sap.fe.macros.ai.EasyFillButton")||e.isA("sap.fe.templates.ObjectPage.components.CollaborationDraft")){return e.getVisible()}else if(!e.isA("sap.ui.core.InvisibleText")&&!e.isA("sap.m.ToolbarSpacer")){return e.getVisible()&&e.getEnabled()}})}return n};c._disableBlocksBindings=function e(t){const n=t.getSections();const i=t.getUseIconTabBar();let s=3;const a=o.getIsEditable(this.getView());const r=this.getView().getViewData().editableHeaderContent;for(let e=0;e<n.length;e++){const t=n[e];const o=t.getSubSections();for(let t=0;t<o.length;t++,s--){if(s<1||i&&(e>1||e===1&&!r&&!a)){const e=o[t];if(e.data().isVisibilityDynamic!=="true"){e.setBindingContext(undefined);const t=e.getBlocks();t.forEach(e=>e.setBindingContext(null));e.getMoreBlocks().forEach(e=>e.setBindingContext(null));e.getActions().forEach(e=>e.setBindingContext(null))}}}}};c._getFirstEmptyMandatoryFieldFromSubSection=function e(t){if(t.length===0)return undefined;for(const e of t){const t=e.getBlocks();if(t){for(const e of t){if(e.getBindingContext?.()){let t;if(e.isA("sap.ui.layout.form.Form")){t=e.getFormContainers()}else if(e.getContent&&e.getContent()?.isA("sap.ui.layout.form.Form")){t=e.getContent().getFormContainers()}else if(e?.getContent?.()?.isA("sap.fe.macros.form.FormAPI")){t=e.getContent().getContent().getFormContainers()}if(t){for(const e of t){const t=e.getFormElements();if(t){for(const e of t){const t=e.getFields();const n=this.getFirstEmptyRequiredField(t);if(n)return n}}}}}}}}return undefined};c.getFirstEmptyRequiredField=function t(n){if(!n||n.length===0)return;if(!n[0].getRequired?.())return;let i=false;try{if(n[0].isA("sap.fe.macros.MultiValueField")){const e=n[0].getMultiValueField().getItems();i=e.length===0}else{const e=n[0].getValue();i=!e}}catch(t){e.debug(`Error when checking field properties: ${t}`)}return i?n[0]:undefined};c._updateFocusInEditMode=function e(t){setTimeout(function(){const e=this._getObjectPageLayoutControl();const n=this._getFirstEmptyMandatoryFieldFromSubSection(t);let i;if(n){if(n.isA("sap.fe.macros.MultiValueField")){i=n.getMultiValueField()}else{i=n.content.getContentEdit()[0]}}else{i=this.getFirstEditableInput()??this.getFirstClickableElement(e)}if(i){const e=i.getFocusInfo();e.targetInfo={silent:true};if(i.isA("sap.ui.mdc.field.FieldInput")){i=i.getParent()}i.focus(e)}}.bind(this),0)};c._handleSubSectionEnteredViewPort=function e(t){const n=t.getParameter("subSection");const i=n.getBlocks();i.forEach(e=>e.setBindingContext(undefined));n.getMoreBlocks().forEach(e=>e.setBindingContext(undefined));n.getActions().forEach(e=>e.setBindingContext(undefined))};c._onBackNavigationInDraft=function t(n){this.messageHandler.removeTransitionMessages();const i=()=>{const e=document.URL;history.back();setTimeout(()=>{if(document.URL===e){this._routing.navigateBackFromContext(n)}},500)};if(this.getAppComponent().getRouterProxy().checkIfBackHasSameContext()){history.back()}else if(!this.getView().getBindingContext()){this.getAppComponent().getShellServices().setBackNavigation(undefined).then(i).catch(t=>{e.warning("Error while setting back navigation",t)})}else{const e=this.getAppComponent()?.getEnvironmentCapabilities()?.getCapabilities()?.HiddenDraft?.enabled;m.processDataLossOrDraftDiscardConfirmation(i,Function.prototype,n,this,true,m.NavigationType.BackNavigation,undefined,e?true:undefined)}};c._onAfterBinding=function t(n,s){const a=this.getView();const r=a?.getViewData()?.viewLevel;const c=this._getObjectPageLayoutControl();const l=this._findTables();this._sideEffects.clearFieldGroupsValidity();const g=c.getBindingContext();let u=[];c.getSections().forEach(function(e){e.getSubSections().forEach(function(e){u=o.getIBNActions(e,u)})});l.forEach(function(e){const t=e.getBindingContext("internal");if(t){t.setProperty("creationRowFieldValidity",{});t.setProperty("creationRowCustomValidity",{});u=o.getIBNActions(e,u);const n=e.getRowBinding();if(n){if(P.isStickySessionSupported(n.getModel().getMetaModel())){n.removeCachesAndMessages("")}}const s=e.getParent();const a=s?JSON.parse(s.tableDefinition.operationAvailableMap):{};i.setActionEnablement(t,a,[],"table");e.clearSelection()}});const d=c.getHeaderTitle();let f=[];f=o.getIBNActions(d,f);u=u.concat(f);o.updateDataFieldForIBNButtonsVisibility(u,this.getView());let h,p=Promise.resolve();const b=t=>{const n=this._getTableBinding(t),i=function(){B.enableFastCreationRow(t.getCreationRow(),n.getPath(),n.getContext(),h,p)};if(!n){e.error(`Expected binding missing for table: ${t.getId()}`);return}if(n.getContext()){i()}else{const e=function(){if(n.getContext()){i();n.detachChange(e)}};n.attachChange(e)}};if(g){h=g.getModel();p=this.editFlow.computeModelsForEditMode(g);this._updateRelatedApps();const t=g.getBinding&&g.getBinding()||g;if(this.currentBinding!==t){t.attachEvent("patchSent",{},this.editFlow.handlePatchSent,this);this.currentBinding=t}l.forEach(function(t){E.whenBound(t).then(b).catch(function(t){e.error("Error while waiting for the table to be bound",t)})});c._triggerVisibleSubSectionsEvents();i.updateEditButtonVisibilityAndEnablement(this.getView())}if(r&&r===1){p?.then(()=>{this.recommendations.clearRecommendations();return})}this._updateAvailableCards([]);this.displayCollaborationMessage(s?.redirectedToNonDraft);this._setOPMessageStripInternalContext();const m=this.getAppComponent().getAppStateHandler().applyAppState(a.getId(),a);this.pageReady.waitFor(m)};c._updateAvailableCards=async function e(t){await this.collaborationManager.collectAvailableCards(t);if(t.length>0){const e=this.collaborationManager.updateCards(t);const n=this.getAppComponent().getId();this.getAppComponent().getCollaborationManagerService().addCardsToCollaborationManager(e,n,this.getView().getId());this.getAppComponent().getCollaborationManagerService().shareAvailableCards()}};c._setOPMessageStripInternalContext=function e(){const t=this.getView();const n=this._getObjectPageLayoutControl();const i=t.getBindingContext("internal");i?.setProperty("MessageStrip",{...i?.getProperty("MessageStrip")});if(i){n.getHeaderTitle()?.findElements(true,e=>e.isA("sap.m.MessageStrip")).forEach(e=>{e.setBindingContext(i.getModel().bindContext(this.getExtensionAPI()._getMessageStripBindingContextPath()).getBoundContext(),"internal")});this._fnShowOPMessage()}};c.displayCollaborationMessage=function e(t){const n=T.getResourceBundleFor("sap.fe.core");if(this.collaborationMessage){k.removeMessages([this.collaborationMessage]);delete this.collaborationMessage}if(t){this.collaborationMessage=new R({message:n.getText("REROUTED_NAVIGATION_TO_SAVED_VERSION",[t]),type:j.Information,target:this.getView()?.getBindingContext()?.getPath()});k.addMessages([this.collaborationMessage])}};c.onPageReady=async function e(t){const n=()=>{const e=this._getObjectPageLayoutControl();const t=!o.getIsEditable(this.getView());if(t){const t=this.getFirstClickableElement(e);if(t){t.focus()}}else{const t=O.getElementById(e.getSelectedSection());if(t){this._updateFocusInEditMode(t.getSubSections())}}};const i=this.getView().getBindingContext();this.getView().getModel("internal").setProperty("/currentCtxt",i);const s=this.getView();const a=s.getBindingContext("internal");const r=s.getBindingContext();if(r){const e=P.isStickySessionSupported(r.getModel().getMetaModel());if(!e){const e=o.getAppComponent(s);await e.getShellServices().setBackNavigation(()=>this._onBackNavigationInDraft(r))}}const c=o.getIsEditable(this.getView());if(c&&r){await this.recommendations.fetchAndApplyRecommendations([{context:r}])}if(t?.forceFocus){n()}a.setProperty("errorNavigationSectionFlag",false);this._checkDataPointTitleForExternalNavigation();if(!this.mergePatchDraft&&!F.support.touch){const e=s.byId("fe::FooterBar::StandardAction::Save");const t=()=>{if(this.autoQueueLock?.isLocked()){this.autoQueueLock.unlock()}e.detachBrowserEvent("mouseup",t);e.detachBrowserEvent("blur",t)};e?.attachBrowserEvent("mousedown",()=>{if(!this.autoQueueLock?.isLocked()){this.autoQueueLock=this.getView().getModel().lock("$auto");e.attachBrowserEvent("mouseup",t);e.attachBrowserEvent("blur",t)}});this.mergePatchDraft=true}};c.getStickyEditMode=function e(){const t=this.getView().getBindingContext&&this.getView().getBindingContext();let n=false;if(t){const e=P.isStickySessionSupported(t.getModel().getMetaModel());if(e){n=o.getIsEditable(this.getView())}}return n};c._getObjectPageLayoutControl=function e(){return this.byId("fe::ObjectPage")};c._getPageTitleInformation=async function e(){const t=this._getObjectPageLayoutControl();const n=t.getCustomData().find(function(e){return e.getKey()==="ObjectPageSubtitle"});const i=t.getCustomData().find(function(e){return e.getKey()==="ObjectPageDescription"});const o=e=>Array.from(new Set((e?.parts||[]).filter(e=>!e.model).map(e=>e.path||"").filter(Boolean)));const s=o(n?.getBindingInfo("value"));const a=o(i?.getBindingInfo("value"));const r=[...s,...a];const c=this.getAppComponent();const l=c.getRootViewController();const g=()=>{l.clearTitleHierarchyCache(t.getBindingContext()?.getPath())};if(n&&!this.clearTitleHierarchyCacheSetUp){n.getBinding("value")?.attachChange(g,this);this.clearTitleHierarchyCacheSetUp=true}const u=t.getBindingContext();const d=()=>({title:t.data("ObjectPageTitle")??"",subtitle:n?.getValue()??"",intent:"",icon:"",description:i?.getValue()??""});if(!u||r.length===0){return Promise.resolve(d())}await Promise.all(r.map(async e=>u.requestObject(e).catch(()=>undefined)));return d()};c._executeTabShortCut=function e(t){const n=this._getObjectPageLayoutControl(),i=n.getSections(),o=i.length-1,s=t.getSource().getCommand();let a,r=n.indexOfSection(this.byId(n.getSelectedSection()));if(r!==-1&&o>0){if(s==="NextTab"){if(r<=o-1){a=i[++r]}}else if(r!==0){a=i[--r]}if(a){n.setSelectedSection(a);a.focus()}}};c._getFooterVisibility=function e(){const t=this.getView().getBindingContext("internal");const n=this.getView().getId();t.setProperty("messageFooterContainsErrors",false);const i=this.getAppComponent().getEnvironmentCapabilities().getCapabilities().HiddenDraft?.enabled;k.getMessageModel().getData().forEach(function(e){const o=e.validation&&e.getType()==="Error";const s=i?o:o&&e.getTargets().some(e=>e.includes(n));if(s){t.setProperty("messageFooterContainsErrors",true)}})};c._showMessagePopover=function t(n,i){if(n){e.error(n)}const s=o.getIsEditable(this.getView());const a=this.getAppComponent().getRootViewController();const r=a.isFclEnabled()?a.getRightmostView():this.getAppComponent().getRootContainer().getCurrentPage();if(s&&!r.isA("sap.m.MessagePage")){const e=this.messageButton,t=e.oMessagePopover,n=t.getBinding("items");if(n.getLength()>0&&!t.isOpen()){e.setVisible(true);setTimeout(function(){t.openBy(e)},0)}}return i};c._editDocument=async function e(){const t=this.getView().getBindingContext();const n=this.getView().getModel("ui");a.lock(n);return this.editFlow.editDocument.apply(this.editFlow,[t]).finally(function(){a.unlock(n)})};c._getImplicitSemanticObjectMappingForDataPoints=function e(t,n){return[{LocalProperty:{$PropertyPath:t},SemanticObjectProperty:n}]};c._validateDocument=async function e(){const t=O.getActiveElement();const n=t?.getBindingContext();if(!t||!n){return undefined}let i=false;if(n.isTransient()){if(n.hasPendingChanges()){await n.created()}else{i=true}}this.messageHandler.holdMessagesForControl(t);const o=await this.executeGlobalValidation(n,i);this.messageHandler.showMessages({control:t});return o};c.executeGlobalValidation=async function e(t){let n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;const i=this.getAppComponent();this.messageHandler.removeTransitionMessages();if(!n){const e=i.getSideEffectsService();const n=e.getEntityTypeFromContext(t);const o=n?e.getGlobalODataEntitySideEffects(n):[];if(o.length){await this.editFlow.syncTask();return Promise.all(o.map(async e=>this._sideEffects.requestSideEffects(e,t)))}}const s=await o.createRootContext(De.Draft,this.getView(),i);if(s){await this.editFlow.syncTask();return m.executeDraftValidation(s,i,this.collaborativeDraft.isConnected())}};c._saveDocument=async function t(n){const i=this.getView().getBindingContext();const o=this.getView().getModel("ui"),s=[];let r=false;a.lock(o);try{if(this.collaborativeDraft.isCollaborationEnabled()){try{const e=await new I(this.getView(),true).getUserAction();if(e==="cancel"){return}if(e==="keepDraft"){this.collaborativeDraft.disconnect();await this._routing.navigateBackFromContext(i);return}}catch(t){e.error(`Something went wrong with collaboration discard: ${t}`)}}await this.editFlow.syncTask();this._findTables().forEach(e=>{const t=e.getCreationRow();const n=this._getTableBinding(e);const i=Object.keys(t?.getBindingContext()?.getObject()||{});if(i.filter(e=>!e.startsWith("@$ui5.")).length){r=true;s.push(this.editFlow.createDocument(n,{creationMode:e.data("creationMode"),creationRow:t,createAtEnd:e.data("createAtEnd")==="true",skipSideEffects:true}).then(()=>n))}});const t=n;const o=t&&typeof t=="object"&&t.getSource().getCommand()==="Save";const a=await Promise.all(s);try{await this.editFlow.saveDocument(i,{bExecuteSideEffectsOnError:r,bindings:a,mergePatchDraft:this.mergePatchDraft,skipBindingToView:n,isStandardSave:o})}catch(e){if(e!==Pe.Continue){this._showMessagePopover(e)}throw e}}finally{if(a.isLocked(o)){a.unlock(o)}}};c._cancelDocument=async function t(n){const i=this.getView()?.getBindingContext();const o=this.getView().byId(n.cancelButton);const s=O.getActiveElement()?.getId();let a=false;if(this.collaborativeDraft.isCollaborationEnabled()){try{const e=await new I(this.getView(),false).getUserAction();if(e==="cancel"){return}if(e==="keepDraft"){this.collaborativeDraft.disconnect();await this._routing.navigateBackFromContext(i);return}if(e==="discardConfirmed"){a=true}}catch(t){e.error("Cannot get collaborative users")}}const r=!!this.getView().getModel("ui").getProperty(C.DocumentModified)||!this.getStickyEditMode()&&i.getProperty("HasActiveEntity")===false;const c=e=>{if(s!==undefined){O.getElementById(s)?.focus()}return e};if(this.getAppComponent()?.getEnvironmentCapabilities()?.getCapabilities()?.HiddenDraft?.enabled&&r){return m.processDataLossOrDraftDiscardConfirmation(c,Function.prototype,i,this,false,m.NavigationType.BackNavigation,true)}return this.editFlow.cancelDocument(i,{control:o,skipDiscardPopover:a}).then(e=>c(e))};c._applyDocument=async function e(t){return this.editFlow.applyDocument(t).catch(()=>{this._showMessagePopover();return})};c._updateRelatedApps=function e(){const t=this._getObjectPageLayoutControl();const n=t.data("showRelatedApps");if(n==="true"||n===true){const e=o.getAppComponent(this.getView());o.updateRelatedAppsDetails(t,e)}};c._findControlInSubSection=function e(t,n,i,o){for(const e of t){let t=e.getContent instanceof Function?e.getContent():undefined;if(o){if(t?.getAggregation("items")){const e=t.getAggregation("items");e.forEach(function(e){if(e.isA("sap.fe.macros.Chart")){const t=e.getChartControl();i.push(t)}})}}else{if(t&&t.isA&&t.isA("sap.ui.layout.DynamicSideContent")){const e=t.getMainContent instanceof Function?t.getMainContent():undefined;if(e&&e.length>0){t=e[0]}}if(t&&t.isA&&t.isA("sap.m.Panel")&&t.data("FullScreenTablePlaceHolder")){t=t.data("tableAPIreference")}if(t&&t.isA&&t.isA("sap.fe.macros.table.TableAPI")){const e=t.getContent instanceof Function?t.getContent():undefined;if(e&&e.isA&&e.isA("sap.ui.mdc.Table")){i.push(e)}}}}};c._getAllSubSections=function e(){const t=this._getObjectPageLayoutControl();let n=[];t.getSections().forEach(function(e){n=n.concat(e.getSubSections())});return n};c._getAllBlocks=function e(){let t=[];this._getAllSubSections().forEach(function(e){t=t.concat(e.getBlocks())});return t};c._findTables=function e(){const t=this._getAllSubSections();const n=[];for(let e=0;e<t.length;e++){this._findControlInSubSection(t[e].getBlocks(),t[e],n);this._findControlInSubSection(t[e].getMoreBlocks(),t[e],n)}return n};c._findCharts=function e(){const t=this._getAllSubSections();const n=[];for(let e=0;e<t.length;e++){this._findControlInSubSection(t[e].getBlocks(),t[e],n,true);this._findControlInSubSection(t[e].getMoreBlocks(),t[e],n,true)}return n};c._closeSideContent=function e(){this._getAllBlocks().forEach(function(e){const t=e.getContent instanceof Function&&e.getContent();if(t&&t.isA&&t.isA("sap.ui.layout.DynamicSideContent")){if(t.setShowSideContent instanceof Function){t.setShowSideContent(false,false)}}})};c._getChartContextData=function e(t,n){const i=t.getObject();let o=[i];if(t&&n){if(i[n]){o=i[n];delete i[n];o.push(i)}}return o};c._scrollTablesToRow=function e(t){if(this._findTables&&this._findTables().length>0){const e=this._findTables();for(const n of e){V.scrollTableToRow(n,t)}}};c._mergeMultipleContexts=function e(t,n,i){let s=[],a=[],r,c,l;const g=t.getPath();const u=t&&t.getModel()&&t.getModel().getMetaModel();const d=u&&u.getMetaPath(g).replace(/^\/*/,"");if(n&&n.length){r=n[0];l=r.getPath();c=u&&u.getMetaPath(l).replace(/^\/*/,"");n.forEach(e=>{if(i){const t=this._getChartContextData(e,i);if(t){s=t.map(function(e){return{contextData:e,entitySet:`${d}/${i}`}})}}else{s.push({contextData:e.getObject(),entitySet:c})}})}a.push({contextData:t.getObject(),entitySet:d});a=this._intentBasedNavigation.removeSensitiveData(a,d);const f=o.addPageContextToSelectionVariant(new x,a,this.getView());s=this._intentBasedNavigation.removeSensitiveData(s,d);return{selectionVariant:f,attributes:s}};c._getBatchGroupsForView=function e(){const t=this.getView().getViewData(),n=t.controlConfiguration,i=n&&Object.keys(n),o=["$auto.Heroes","$auto.Decoration","$auto.Workers"];if(i&&i.length>0){i.forEach(function(e){const t=n[e];if(t.requestGroupId==="LongRunners"){o.push("$auto.LongRunners")}})}return o};c._initializePagination=function e(t,n,i){const o=this.getView().getViewData().viewLevel;if(o>1){const e=n.getProperty("/paginatorCurrentContext");if(e){const t=e.getBinding();this.paginator.initialize(t,e);n.setProperty("/paginatorCurrentContext",null)}else if(i){this.paginator.initialize(i,t)}}};c._checkDataPointTitleForExternalNavigation=function n(){const i=this.getView();const s=i.getBindingContext("internal");const a=o.getHeaderFacetItemConfigForExternalNavigation(i.getViewData(),this.getAppComponent().getRoutingService().getOutbounds());const r=this.getAppComponent().getShellServices();const c=i&&i.getBindingContext();s.setProperty("isHeaderDPLinkVisible",{});if(c){c.requestObject().then(function(e){return u(a,e)}).catch(function(t){e.error("Cannot retrieve the links from the shell service",t)})}function l(t){e.error(t)}function g(e,t){const n=e;if(t&&t.length===1&&t[0].supported){s.setProperty(`isHeaderDPLinkVisible/${n}`,true)}}function u(e,n){for(const o in e){const s=e[o];const a={};const c=i.byId(o);if(!c){continue}const u=c.getBindingContext();const d=u&&u.getObject();let f=t({},n,d);if(s.semanticObjectMapping){const e=s.semanticObjectMapping;for(const n in e){const i=e[n];const o=i["LocalProperty"]["$PropertyPath"];const s=i["SemanticObjectProperty"];if(o!==s){if(f.hasOwnProperty(o)){const e={};e[s]=f[o];f=t({},f,e);delete f[o]}}}}if(f){for(const e in f){if(!e.startsWith("_")&&!e.includes("odata.context")){a[e]=f[e]}}}r.isNavigationSupported([{target:{semanticObject:s.semanticObject,action:s.action},params:a}]).then(e=>g(o,e)).catch(l)}}};return r}(s),ge=Ve(le.prototype,"placeholder",[Q],{configurable:true,enumerable:true,writable:true,initializer:null}),ue=Ve(le.prototype,"share",[J],{configurable:true,enumerable:true,writable:true,initializer:null}),de=Ve(le.prototype,"_routing",[W],{configurable:true,enumerable:true,writable:true,initializer:null}),fe=Ve(le.prototype,"paginator",[X],{configurable:true,enumerable:true,writable:true,initializer:null}),he=Ve(le.prototype,"messageHandler",[Y],{configurable:true,enumerable:true,writable:true,initializer:null}),pe=Ve(le.prototype,"intentBasedNavigation",[Z],{configurable:true,enumerable:true,writable:true,initializer:null}),be=Ve(le.prototype,"collaborationManager",[ee],{configurable:true,enumerable:true,writable:true,initializer:null}),me=Ve(le.prototype,"_intentBasedNavigation",[te],{configurable:true,enumerable:true,writable:true,initializer:null}),Ce=Ve(le.prototype,"viewState",[ne],{configurable:true,enumerable:true,writable:true,initializer:null}),ye=Ve(le.prototype,"pageReady",[ie],{configurable:true,enumerable:true,writable:true,initializer:null}),Ve(le.prototype,"getExtensionAPI",[oe,se],Object.getOwnPropertyDescriptor(le.prototype,"getExtensionAPI"),le.prototype),Ve(le.prototype,"onPageReady",[ae,re],Object.getOwnPropertyDescriptor(le.prototype,"onPageReady"),le.prototype),le))||ce);return Fe},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/templates/ObjectPage/ObjectPageTemplating", ["sap/fe/base/BindingToolkit","sap/fe/core/converters/ManifestSettings","sap/fe/core/converters/MetaModelConverter","sap/fe/core/helpers/BindingHelper","sap/fe/core/helpers/ModelHelper","sap/fe/core/helpers/StableIdHelper","sap/fe/core/helpers/TitleHelper","sap/fe/macros/CommonHelper","sap/fe/macros/field/FieldTemplating","sap/m/library","sap/ui/base/BindingInfo","sap/ui/core/Lib","sap/ui/model/odata/v4/AnnotationHelper"],function(e,t,n,o,i,r,a,s,c,u,l,d,f){"use strict";var g={};var p=c.getTextBindingExpression;var b=c.formatValueRecursively;var m=c.addTextArrangementToBindingExpression;var v=a.getTitleBindingExpression;var y=o.UI;var S=o.Draft;var E=n.getInvolvedDataModelObjects;var C=t.ActionType;var A=e.resolveBindingString;var I=e.pathInModel;var O=e.or;var h=e.not;var T=e.ifElse;var F=e.getExpressionFromAnnotation;var x=e.equal;var D=e.constant;var $=e.compileExpression;var V=e.and;const P=u.ButtonType;const B=function(e,t,n){return v(e,p,undefined,n,t)};g.getExpressionForTitle=B;const M=function(e,t){let n=F(t?.Description?.Value);if(t?.Description?.Value?.$target?.annotations?.Common?.Text?.annotations?.UI?.TextArrangement){n=m(n,e)}const o=$(b(n,e));return o==="undefined"?"":o};g.getExpressionForDescription=M;const H=function(e,t){const n=e.resourceModel.getText("T_OP_OBJECT_PAGE_SAVE");const o=e.resourceModel.getText("T_OP_OBJECT_PAGE_CREATE");let i;if(t.startingEntitySet.annotations.Session?.StickySessionSupported){i=T(y.IsCreateMode,o,n)}else{i=T(S.IsNewObject,o,n)}return $(i)};g.getExpressionForSaveButton=H;const w=function(e,t){return t.resourceModel.getText("HEADER_FORM_LABEL",[e])};g.getExpressionForLabelOnHeaderForm=w;const j=function(e){const t=["Primary","DefaultApply","Secondary","ForAction","ForNavigation","SwitchToActiveObject","SwitchToDraftObject","DraftActions","Copy","Standard"];return!t.includes(e.type??"")};g.isManifestAction=j;const G=function(e){const t=e.targetEntityType?.annotations?.UI?.Identification;const n=t?.filter(e=>e.$Type==="com.sap.vocabularies.UI.v1.DataFieldForAction"&&e.Criticality)||[];const o=n.length?n.map(e=>{const t=F(e.Criticality);return V(h(x(F(e.annotations?.UI?.Hidden),true)),O(x(t,"UI.CriticalityType/Negative"),x(t,"1"),x(t,1),x(t,"UI.CriticalityType/Positive"),x(t,"3"),x(t,3)))}):[D(false)];return $(T(O(...o),P.Ghost,P.Emphasized))};g.buildEmphasizedButtonExpression=G;const N=function(e){const t=f.getNavigationPath(e);if(t){return"{path:'"+t+"'}"}else{return"{path: ''}"}};g.getElementBinding=N;const R=function(e){if(e.annotations?.Common?.DraftRoot?.EditAction){return true}else{return false}};g.checkDraftState=R;const _=function(e){if(e.annotations?.Common?.DraftRoot?.ShareAction){return true}else{return false}};g.checkCollaborationDraftRoot=_;const L=function(e){if(R(e)){if(_(e)){return $(V(I("HasActiveEntity"),y.IsEditable))}else{return $(V(x(I("DraftAdministrativeData/DraftIsCreatedByMe"),true),y.IsEditable,h(y.IsCreateMode)))}}else{return false}};g.getSwitchToActiveVisibility=L;const U=function(e){if(R(e)){if(_(e)){return $(V(I("HasDraftEntity"),h(y.IsEditable)))}else{return $(V(x(I("DraftAdministrativeData/DraftIsCreatedByMe"),true),h(y.IsEditable),h(y.IsCreateMode),I("HasDraftEntity")))}}else{return false}};g.getSwitchToDraftVisibility=U;const Q=function(e){if(R(e)){if(_(e)){return $(T(I("IsActiveEntity"),I("HasDraftEntity"),I("HasActiveEntity")))}else{return $(V(x(I("DraftAdministrativeData/DraftIsCreatedByMe"),true),h(y.IsCreateMode)))}}else{return false}};g.getSwitchDraftAndActiveVisibility=Q;const k=function(e,t){let n;if(e&&e.length){n=e.find(function(e){return e.type===t})}return n};g._findAction=k;const z=function(e){const t=k(e,"Secondary");return t?t.enabled:"false"};g.getDeleteCommandExecutionEnabled=z;const q=function(e){const t=k(e,"Secondary");return t?t.visible:"false"};g.getDeleteCommandExecutionVisible=q;const J=function(e){const t=k(e,"Primary");return t?t.visible:"false"};g.getEditCommandExecutionVisible=J;const W=function(e){const t=k(e,"Primary");return t?t.enabled:"false"};g.getEditCommandExecutionEnabled=W;const K=function(e){const t=e.getPath();const n=t.split("/");const o="/"+n[1];const i=e.getObject(o+"@");const r=i.hasOwnProperty("@com.sap.vocabularies.Common.v1.DraftRoot");const a=i.hasOwnProperty("@com.sap.vocabularies.Common.v1.DraftNode");const s=i.hasOwnProperty("@com.sap.vocabularies.Session.v1.StickySessionSupported");let c;if(r){c=e.getObject(`${o}@com.sap.vocabularies.Common.v1.DraftRoot/EditAction`)}else if(a){c=e.getObject(`${o}@com.sap.vocabularies.Common.v1.DraftNode/EditAction`)}else if(s){c=e.getObject(`${o}@com.sap.vocabularies.Session.v1.StickySessionSupported/EditAction`)}return!c?c:`${o}/${c}`};g.getEditAction=K;const X=function(e,t){let n,o,i;if(e&&e["@Org.OData.Core.V1.Computed"]){n=e["@Org.OData.Core.V1.Computed"].Bool?e["@Org.OData.Core.V1.Computed"].Bool=="true":true}if(e&&e["@Org.OData.Core.V1.Immutable"]){o=e["@Org.OData.Core.V1.Immutable"].Bool?e["@Org.OData.Core.V1.Immutable"].Bool=="true":true}i=n||o;if(t){i=i||t=="com.sap.vocabularies.Common.v1.FieldControlType/ReadOnly"}if(i){return true}else{return false}};g.isReadOnlyFromStaticAnnotations=X;const Y=function(e){let t;if(e){if(l.parse(e)){t="%"+e+" === 1 "}}if(t){return"{= "+t+"? false : true }"}else{return undefined}};g.readOnlyExpressionFromDynamicAnnotations=Y;const Z=function(e,t,n,o,i){t=te(t,n,i);const r=e?.[t]?.["navigation"];if(r){if(r["targetOutbound"]&&r["targetOutbound"]["outbound"]||r["targetOutbound"]&&r["targetOutbound"]["outbound"]&&r["targetSections"]){return".handlers.onDataPointTitlePressed($controller, ${$source>/},'"+JSON.stringify(o)+"','"+r["targetOutbound"]["outbound"]+"','"+i+"' )"}else if(r["targetSections"]){return".handlers.navigateToSubSection($controller, '"+JSON.stringify(r["targetSections"])+"')"}else{return undefined}}};g.getExpressionForMicroChartTitlePress=Z;const ee=function(e,t,n,o){t=te(t,n,o);const i=e?.[t]?.["navigation"];if(i&&(i["targetOutbound"]||i["targetOutbound"]&&i["targetSections"])){return"External"}else if(i&&i["targetSections"]){return"InPage"}else{return"None"}};g.getMicroChartTitleAsLink=ee;const te=function(e,t,n){if(t?.targetObject?.$Type==="com.sap.vocabularies.UI.v1.PresentationVariantType"){e=t.targetObject?.Visualizations[0]?.value;e=n?`${n}/${e}`:e}return e};g.getMicroChartControlConfigurationPath=te;const ne=function(e,t,n){const o=e[t],i=["Heroes","Decoration","Workers","LongRunners"];let r=n;if(o&&o.requestGroupId&&i.some(function(e){return e===o.requestGroupId})){r="$auto."+o.requestGroupId}return r};g.getGroupIdFromConfig=ne;const oe=function(e,t,n,o,i){t=te(t,n,o);return ne(e,t,i)};g.getGroupIdFromConfigForMicroChart=oe;const ie=function(e,t){const n=ne(e,t);let o;if(n){o="{ path : '', parameters : { $$groupId : '"+n+"' } }"}return o};g.getBindingWithGroupIdFromConfig=ie;const re=function(e){let t;const n=i.getAlternateAndSecondaryKeys(e?.targetEntityType,e?.targetEntitySet);if(n?.length){t={path:""};t.parameters={$select:n.join(",")||""}}return JSON.stringify(t)};g.createBindingForAlternateAndSecondaryKeys=re;const ae=function(e){return e&&e.length===1&&!!e[0].isValueMultilineText};g.doesFieldGroupContainOnlyOneMultiLineDataField=ae;const se=function(e){if(e.isShareButtonVisibleForMyInbox===false){return"false"}const t=e.fclEnabled?V(I("/showShareIcon","fclhelper"),h(y.IsCreateMode)):h(y.IsCreateMode);return $(t)};g.getShareButtonVisibility=se;const ce=function(e,t,n,o){const i=e?X(e,n):true;const r=Y(n);if(!i&&!r){return true}const a=t?X(t,o):true;const s=Y(o);if(!a&&!s){return true}if(i&&a&&!r&&!s){return false}if(r&&!s){return r}else if(!r&&s){return s}else{return ue(n,o)}};g.getVisiblityOfHeaderInfo=ce;const ue=function(e,t){return"{= %"+e+" === 1 ? ( %"+t+" === 1 ? false : true ) : true }"};g.combineTitleAndDescriptionExpression=ue;const le=function(){const e="${$view>/}.getBindingContext()",t="${$view>/}.byId('fe::ObjectPage').data('ObjectPageSubtitle')",n="${$view>/}.byId('fe::ObjectPage').data('ObjectPageDescription')";const o={title:t,description:n};return s.generateFunction(".editFlow.deleteDocument",e,s.objectToString(o))};g.getPressExpressionForDelete=le;const de=function(e,t,n){const o=s.addSingleQuotes(e&&e.Action),i=e&&e.InvocationGrouping&&e.InvocationGrouping["$EnumMember"],r=i==="com.sap.vocabularies.UI.v1.OperationGroupingType/ChangeSet"?"ChangeSet":"Isolated";const a={contexts:"${$view>/}.getBindingContext()",entitySetName:s.addSingleQuotes(t),invocationGrouping:s.addSingleQuotes(r),model:"${$source>/}.getModel()",label:s.addSingleQuotes(e&&e.Label,true),isNavigable:n&&n.isNavigable,defaultValuesExtensionFunction:n&&n.defaultValuesExtensionFunction?`'${n.defaultValuesExtensionFunction}'`:undefined};return s.generateFunction(".handlers.onCallAction","${$view>/}",o,s.objectToString(a))};g.getPressExpressionForEdit=de;const fe=function(e,t,n){const o=e.targetObject;const i=s.addSingleQuotes(o.Action);const r={contexts:"${$view>/}.getBindingContext()",entitySetName:s.addSingleQuotes(t),invocationGrouping:s.addSingleQuotes(o.InvocationGrouping==="UI.OperationGroupingType/ChangeSet"?"ChangeSet":"Isolated"),model:"${$source>/}.getModel()",label:s.addSingleQuotes(o.Label,true),isNavigable:n.isNavigable,defaultValuesExtensionFunction:n.defaultValuesExtensionFunction?`'${n.defaultValuesExtensionFunction}'`:undefined};return s.generateFunction(".handlers.onCallAction","${$view>/}",i,s.objectToString(r))};g.getPressExpressionForFooterAnnotationAction=fe;const ge=function(e,t,n,o,i,r,a){const c=s.addSingleQuotes(e?.Action.toString()??""),u=e&&e.InvocationGrouping&&e.InvocationGrouping["$EnumMember"],l=u==="com.sap.vocabularies.UI.v1.OperationGroupingType/ChangeSet"?"ChangeSet":"Isolated";const d={contexts:"${$view>/}.getBindingContext()",entitySetName:t?s.addSingleQuotes(t):"",invocationGrouping:s.addSingleQuotes(l),model:"${$source>/}.getModel()",label:s.addSingleQuotes(e?.Label?.toString()??"",true),isNavigable:n?.isNavigable,defaultValuesExtensionFunction:n?.defaultValuesExtensionFunction?`'${n.defaultValuesExtensionFunction}'`:undefined};const f={positiveActionVisible:o,positiveActionEnabled:i,editActionVisible:r,editActionEnabled:a};return s.generateFunction(".handlers.onPrimaryAction","$controller","${$view>/}","${$view>/}.getBindingContext()",c,s.objectToString(d),s.objectToString(f))};g.getPressExpressionForPrimaryAction=ge;const pe=function(e,t){if(t&&t.Facet&&t.Facet.targetAnnotationType==="DataPoint"){return ie(e,t.Facet.targetAnnotationValue)}};g.getStashableHBoxBinding=pe;const be=function(e){if(e?.targetObject?.$Type==="com.sap.vocabularies.UI.v1.DataFieldForAnnotation"){return undefined}return"Bare"};g.getHeaderFormHboxRenderType=be;function me(e,t,n,o){if(t.defaultAction){const e=t.defaultAction;try{switch(e.type){case"ForAction":{return de(n,o,t.defaultAction)}case"ForNavigation":{if(e.command){return"cmd:"+e.command}else{return e.press}}default:{if(e.command){return"cmd:"+e.command}if(e.noWrap){return e.press}else{return s.buildActionWrapper(e,{id:"forTheObjectPage"})}}}}catch(e){return"binding for the default action is not working as expected"}}return undefined}g.getDefaultActionHandler=me;function ve(e){return e.isPartOfPreview===true||e.presentation.visualizations[0].type!=="Table"}g.isVisualizationIsPartOfPreview=ve;const ye=function(e,t){const n=e.getInterface(1).getModel();const o=e=>{if(e.length){return e.map(e=>A(e.visible??true,"boolean"))}return[D(false)]};const i=e=>{const t=e.annotationPath;if(t){const e=n.getContext(t);return E(e)}return undefined};const r=t.filter(e=>e.type===C.DataFieldForAction);const a=o(t.filter(e=>j(e)));const s=o(r);const c=!!r.find(e=>{const t=i(e);return!t?.targetObject?.annotations?.UI?.Hidden});return $(O(c,O(...a),V(O(y.IsEditable,O(...s)),h(I("isCreateDialogOpen","internal")))))};g.getFooterVisibilityExpression=ye;function Se(e,t){if(t){if(!e.showSubSectionTitle){return"H4"}else if(e.level===2&&e.dataVisualizationTitleVisible==="true"){return"H6"}else{return"H5"}}else if(!e.showSubSectionTitle){return"H3"}else if(e.level===2&&e.dataVisualizationTitleVisible==="true"){return"H5"}else{return"H4"}}g.getHeaderLevel=Se;const Ee=function(e,t){let n="";if(e.label){n=r.generate([e.id,"Title"])}const o=r.generate([t,"Label"]);return n?`${n},${o}`:o};g.getHeaderFormAriaLabelledBy=Ee;const Ce=function(e){const t=d.getResourceBundleFor("sap.fe.core");return e!==undefined?t.getText("C_FORM_ARIA_TEXT",[e]):undefined};ye.requiresIContext=true;g.getFormAriaText=Ce;return g},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/templates/ObjectPage/card/AdaptiveCardContent", [],function(){"use strict";var e={};function t(e,t){const i=e??[];return{type:"ColumnSet",columns:[...i],isVisible:t??undefined}}e.getColumnSet=t;function i(e){const t=e?.items??[];return{type:"Column",items:[...t],verticalContentAlignment:"Top",width:e?.width??1,isVisible:e?.visible??undefined}}e.getColumn=i;function n(e){return{type:"Image",url:e,size:"Small"}}e.getImage=n;function l(e){return{type:"TextBlock",size:e?.size??"Small",weight:e?.weight??"Default",text:e?.text,maxLines:e?.maxLines??0,wrap:e?.wrap??false,spacing:e?.spacing??"Default",isVisible:e?.visible??undefined,color:e?.color??"Default",isSubtle:e.isSubtle??undefined,$when:e?.$when??undefined}}e.getTextBlock=l;return e},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/templates/ObjectPage/card/BaseCardContentProvider", ["sap/fe/base/BindingToolkit","sap/fe/core/helpers/AdaptiveCardExpressionCompiler","sap/fe/core/helpers/TypeGuards"],function(t,e,r){"use strict";var a={};var n=r.isProperty;var i=e.getAdaptiveCompilerResult;var o=t.pathInModel;var s=t.or;var g=t.notEqual;var h=t.constant;var p=t.and;let u=function(){function t(t,e){this.pathsToQuery=[];this.convertedTypes=t;this.config=e}a=t;var e=t.prototype;e.getPathsToQuery=function t(){return Array.from(new Set(this.pathsToQuery))};e.addPathsToQuery=function t(e){this.pathsToQuery=[...this.pathsToQuery,...e]};e.getCardConfigurationByKey=function t(e){return this.config[e]};e.getEntityType=function t(){const{contextPath:e}=this.getCardConfigurationByKey("contextInfo");const r=this.convertedTypes.resolvePath(e);return r.target};e.getBindingForProperty=function t(e){return"${"+this.getPropertyPathForCard(e)+"}"};e.getPropertyPathForCard=function t(e){if(e&&e?.includes("/")){e=e.replace("/",".")}this.addPathsToQuery([e]);return e};e.formatTextproperty=function t(e,r){let a;const n=this.getPropertyPathForCard(e.getRelativePath());if(r&&r.getTarget()){const t=e?.getTarget()?.annotations?.Common?.Text?.annotations?.UI?.TextArrangement?.toString();const i=this.getPropertyPathForCard(r.getRelativePath());switch(t){case"UI.TextArrangementType/TextLast":a=`\${string(${n})} (\${string(${i})})`;break;case"UI.TextArrangementType/TextOnly":a=`\${string(${i})}`;break;case"UI.TextArrangementType/TextSeparate":a=`\${string(${n})}`;break;case"UI.TextArrangementType/TextFirst":default:a=`\${string(${i})} (\${string(${n})})`;break}}else{a=`\${string(${this.getPropertyPathForCard(e.getRelativePath())})}`}return a};e.getTextBlockVisiblityForDateField=function t(e,r){let a=h(true);if(this.targetIsProperty(e)){const t=e.getTarget().type;const n=this.getPropertyPathForCard(e.getRelativePath());const i=p(g(o(n),undefined),g(o(n),null));switch(t){case"Edm.Date":case"Edm.DateTimeOffset":case"Edm.DateTime":case"Edm.Decimal":{a=i;break}default:{let t=h(false);if(r&&this.targetIsProperty(r)){const e=this.getPropertyPathForCard(r.getRelativePath());t=p(g(o(e),undefined),g(o(e),null))}a=s(i,t)}}}return a};e.getFormattedTextValue=function t(e,r){let a;switch(e?.getTarget()?.type){case"Edm.Date":a=`{{DATE(\${formatDateTime(${this.getPropertyPathForCard(e.getRelativePath())}, 'yyyy-MM-ddTHH:mm:ssZ')}, SHORT)}}`;break;case"Edm.DateTimeOffset":case"Edm.DateTime":a=`\${formatDateTime(${this.getPropertyPathForCard(e.getRelativePath())})}`;break;case"Edm.Decimal":a=`\${formatNumber(${this.getPropertyPathForCard(e.getRelativePath())},2)}`;break;default:a=this.formatTextproperty(e,r);break}return a};e.getValueBinding=function t(e,r){let a="";if(typeof e==="string"){a=e}else if(this.targetIsProperty(e)&&(!r||this.targetIsProperty(r))){a=this.getFormattedTextValue(e,r)}return a};e.updatePathsAndGetCompiledExpression=function t(e,r){const{pathsToQuery:a,compiledExpression:n}=i(e,r);this.addPathsToQuery(a);return n};e.targetIsProperty=function t(e){const r=e?.getTarget();return n(r)};return t}();a=u;return a},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/templates/ObjectPage/card/Generator", ["sap/base/Log","sap/fe/templates/ObjectPage/card/BaseCardContentProvider","sap/fe/templates/ObjectPage/card/actions/HeaderActions","sap/fe/templates/ObjectPage/card/facets/HeaderContent","sap/fe/templates/ObjectPage/card/facets/HeaderTitle"],function(t,e,n,r,a){"use strict";var o={};function s(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function c(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,i(t,e)}function i(t,e){return i=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},i(t,e)}const d="https://adaptivecards.io/schemas/adaptive-card.json";const u="1.4";let f=function(e){function i(n,r){var a;a=e.call(this,n,r)||this;try{const{webUrl:t}=r;const e=a.getHeaderTitle(r);const n=a.getHeaderFacetsForAdaptiveCard(r);const o=a.getCardActions(r);if(n.length===0&&o.length===0){a.cardDefinition=undefined;return a||s(a)}const c=[...n,...o];const i=e?[e,...c]:c;a.cardDefinition={type:"AdaptiveCard",msTeams:{width:"full"},metadata:{webUrl:t},body:i,$schema:d,version:u}}catch(e){const n=e instanceof Error?e.message:String(e);t.error("Error while creating the card defintion",n)}return a}o=i;c(i,e);var f=i.prototype;f.getCardDefinition=function t(e){let n=this.cardDefinition;if(e&&n){const t={metadata:{webUrl:`${e}`}};n={...n,...t}}return n};f.getCardActions=function t(e){const r=new n(this.convertedTypes,e);const a=r.getCardActions();const o=r.getPathsToQuery();this.addPathsToQuery(o);const s=[];if(a.length>0){s.push({type:"ActionSet",actions:[...a]})}return s};f.getHeaderFacetsForAdaptiveCard=function t(e){const n=new r(this.convertedTypes,e);const a=n.getHeaderContent();const o=n.getPathsToQuery();this.addPathsToQuery(o);return a};f.getHeaderTitle=function t(e){const n=new a(this.convertedTypes,e);const r=n.getTitle();const o=n.getPathsToQuery();this.addPathsToQuery(o);return r};return i}(e);o=f;return o},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/templates/ObjectPage/card/actions/HeaderActions", ["sap/base/Log","sap/fe/core/converters/helpers/ConfigurableObject","sap/fe/core/helpers/StableIdHelper","sap/fe/core/templating/ActionHelper","sap/fe/core/templating/FieldControlHelper","sap/fe/core/templating/PropertyHelper","sap/fe/core/templating/UIFormatters","sap/fe/templates/ObjectPage/card/BaseCardContentProvider"],function(t,e,n,i,r,o,s,a){"use strict";var c={};var u=s.isVisible;var d=s.getActionEnabledExpression;var l=o.isMultiLineText;var p=r.isActionParameterRequiredExpression;var f=i.getIsActionCriticalExpression;var g=n.getStableIdPartFromDataField;var A=e.insertCustomElements;var h=e.Placement;var y=e.OverrideType;function C(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function v(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,m(t,e)}function m(t,e){return m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},m(t,e)}let b=function(t){t["Default"]="default";t["Positive"]="positive";t["Destructive"]="destructive";return t}({});c.ACStyle=b;let E=function(t){t["Execute"]="Action.Execute";t["ShowCard"]="Action.ShowCard";return t}({});c.ACAction=E;let I=function(t){t["Text"]="Input.Text";t["ChoiceSet"]="Input.ChoiceSet";t["Date"]="Input.Date";return t}({});c.ACInput=I;const x="OK";let P=function(e){function n(n,i){var r;r=e.call(this,n,i)||this;r.actions=[];try{const e=r.getCardConfigurationByKey("contextInfo");const{contextPath:n}=e;const i=r.getEntityType();if(!i){t.error(`FE : V4 : Adaptive Card header actions : no EntityType found at context path: ${n}`);return r||C(r)}const o=r.getAnnotatedHeaderActions(i);if(o.length>0){const t=r.getConfiguredActions(o);r.actions=t.reduce(r.getActionInAdaptiveCardFormat.bind(r),[])}}catch(e){const n=e instanceof Error?e.message:String(e);t.error("Error while creating the card defintion",n)}return r||C(r)}c=n;v(n,e);var i=n.prototype;i.getCardActions=function t(){return this.actions};i.getAdaptiveCardActionType=function t(e){const{isBound:n,isFunction:i,parameters:r}=e;if(i){return}const o=r.length>(n?1:0);return o?E.ShowCard:E.Execute};i.getActionCardBodyWithParameterFields=function t(e){const{isBound:n}=e;return e.parameters.reduce((t,i,r)=>{if(n&&r===0){return t}let o;const s=i.annotations.Common?.Label;if(i.type==="Edm.Date"||i.type==="Edm.DateTimeOffset"||i.type==="Edm.DateTime"){o={type:I.Date,id:i.name,label:s?.toString()??i.name,isRequired:this.getRequired(i,e)??undefined};t.push(o)}else{o={type:I.Text,id:i.name,label:s?.toString()??i.name,isRequired:this.getRequired(i,e)??undefined,isMultiline:l(i)??undefined};t.push(o)}return t},[])};i.getActionWithParameters=function t(e,n){const i=this.getActionCardBodyWithParameterFields(e);const{verb:r,title:o,style:s,data:a}=n;const c={type:E.Execute,verb:r,data:a,title:x,style:b.Positive};return{type:E.ShowCard,title:o,style:s,card:{type:"AdaptiveCard",body:i,actions:[c]}}};i.getAction=function t(e){const{ActionTarget:n}=e;const i=this.getActionDetails(e);if(!n||!i){return undefined}const r=this.getAdaptiveCardActionType(n);let o;if(r===E.Execute){o={type:r,...i}}else if(r===E.ShowCard){o=this.getActionWithParameters(n,i)}return o};i.getActionData=function t(e){const{isBound:n}=e;const i=this.getCardConfigurationByKey("contextInfo");const{bindingContextPath:r}=i;const o=r.startsWith("/")?r.substring(1):r;const s=this.getCardConfigurationByKey("serviceURI");const a=`${s}${o}`;return{contextURL:a,serviceURI:n?undefined:s,isConfirmationRequired:this.getIsCriticalForAdaptiveCardAction(e)??undefined}};i.getActionDetails=function t(e){const{ActionTarget:n}=e;if(!n){return}const i=n.isBound?e.Action.toString():n.name,r=i.replace(/\((.*)\)$/,""),o=e.Label?.toString()??n.name,s=this.getActionStyle(e),a=this.getActionData(n);return{verb:r,title:o,style:s,data:a}};i.getActionInAdaptiveCardFormat=function t(e,n){if(e.length>1){return e}const{action:i,title:r}=n;const{ActionTarget:o}=i;if(!o){return e}const s=n.isVisible??this.getVisibleForAdaptiveCardAction(i)??undefined;const a=this.getEnabledForAdaptiveCardAction(o)??undefined;let c;if(typeof s==="boolean"&&s===false){return e}else if(typeof s==="string"&&s&&/^\$\{.*\}/i.test(s)){c=s}else if(s==="true"){c=undefined}else if(s==="false"){return e}if(a==="false"||this.isStaticAction(o)||this.isCopyAction(i)){return e}const u=this.getAction(i);if(u){const t={isEnabled:a,$when:c,title:r??u.title};e.push({...u,...t})}return e};i.getAnnotatedHeaderActions=function t(e){const n=e.annotations.UI?.Identification;return n?n.filter(t=>t.$Type==="com.sap.vocabularies.UI.v1.DataFieldForAction"&&!t.Determining):[]};i.getConfiguredActions=function t(e){const n=this.getCardConfigurationByKey("actions");const i=e.map(t=>({key:t&&g(t),action:t}));if(!n||Object.keys(n).length===0){return i}const r=Object.keys(n);const o=r.reduce((t,e)=>{const r=i.find(t=>t.key===e);if(r){t[e]={key:e,action:r.action,position:{placement:h.After},...n[e]}}return t},{});const s={title:y.overwrite,position:y.overwrite,isVisible:y.overwrite};return A(i,o,s)};i.getVisibleForAdaptiveCardAction=function t(e){const n=u(e);return this.updatePathsAndGetCompiledExpression(n)};i.getActionStyle=function t(e){let n=b.Default;const i=e.Criticality;if(i&&typeof i==="string"){switch(i){case"UI.CriticalityType/Positive":n=b.Positive;break;case"UI.CriticalityType/Negative":n=b.Destructive;break;default:n=b.Default}}return n};i.getIsCriticalForAdaptiveCardAction=function t(e){const n=f(e,this.convertedTypes);return this.updatePathsAndGetCompiledExpression(n)};i.getEnabledForAdaptiveCardAction=function t(e){const n=d(e,this.convertedTypes);return this.updatePathsAndGetCompiledExpression(n)};i.isStaticAction=function t(e){const{isBound:n,parameters:i}=e;return n&&i[0]&&i[0].isCollection};i.isCopyAction=function t(e){return e.annotations?.UI?.IsCopyAction?.valueOf()===true};i.getRequired=function t(e,n){const i=p(e,n,this.convertedTypes);return this.updatePathsAndGetCompiledExpression(i)};return n}(a);c=P;return c},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/templates/ObjectPage/card/facets/HeaderContent", ["sap/base/Log","sap/fe/base/BindingToolkit","sap/fe/core/converters/helpers/ConfigurableObject","sap/fe/core/converters/helpers/DataFieldHelper","sap/fe/core/helpers/AdaptiveCardExpressionCompiler","sap/fe/core/helpers/MetaPath","sap/fe/core/helpers/StableIdHelper","sap/fe/core/helpers/TypeGuards","sap/fe/core/templating/CriticalityFormatters","sap/fe/core/templating/DataFieldFormatters","sap/fe/core/templating/UIFormatters","sap/fe/templates/ObjectPage/card/AdaptiveCardContent","sap/fe/templates/ObjectPage/card/BaseCardContentProvider"],function(e,t,a,n,o,i,s,r,c,l,u,p,g){"use strict";var h={};var f=p.getTextBlock;var d=p.getColumnSet;var m=p.getColumn;var v=u.isVisible;var F=l.generateVisibleExpression;var b=c.getCriticalityExpressionForCards;var C=r.isPathAnnotationExpression;var P=r.isNavigationProperty;var y=r.isAnnotationOfType;var x=s.getStableIdPartFromDataField;var T=s.generate;var E=o.compileToAdaptiveExpression;var O=n.isReferencePropertyStaticallyHidden;var D=n.isPotentiallySensitive;var V=a.insertCustomElements;var j=a.Placement;var M=a.OverrideType;var I=t.getExpressionFromAnnotation;var A=t.equal;var U=t.constant;function w(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,k(e,t)}function k(e,t){return k=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},k(e,t)}const $=3;let B=function(t){function a(a,n){var o;o=t.call(this,a,n)||this;o.cardElements=[];let s=[];const{contextPath:r}=o.getCardConfigurationByKey("contextInfo");try{const e=new i(a,`${r}@${"com.sap.vocabularies.UI.v1.HeaderFacets"}`,r);const t=o.getCustomConfigHeaderFacets(e);s=o.createHeaderForms(e,t)}catch(t){e.error(`FE : V4 : Adaptive Card header facets : no EntityType found at context path: ${r}`)}o.cardElements=s;return o||w(o)}h=a;S(a,t);var n=a.prototype;n.getHeaderContent=function e(){return this.cardElements};n.getFieldGroupProperties=function e(t,a,n){let o,i,s,r=n?.labelText,c,l;switch(a?.$Type){case"com.sap.vocabularies.UI.v1.DataField":case"com.sap.vocabularies.UI.v1.DataFieldWithUrl":case"com.sap.vocabularies.UI.v1.DataFieldWithNavigationPath":if(C(a.Value)){o=t.getMetaPathForObject(a.Value);c=this.getNavigationPathForExpression(t);s=o?.getTarget()?.annotations?.Common?.Text;i=s&&t.getMetaPathForObject(s)}else{o=a.Value}r=r??a.Label??a.Value?.$target?.annotations?.Common?.Label.valueOf()??"";l=this.getCriticalityForDataPoints(a);break;case"com.sap.vocabularies.UI.v1.DataFieldForAnnotation":r=r??a.Label??a?.Value?.$target?.annotations?.Common?.Label.valueOf()??"";const e=t.getMetaPathForObject(a.Target);const n=e?.getTarget();c=this.getNavigationPathForExpression(e);if(y(n,"com.sap.vocabularies.UI.v1.DataPointType")){if(C(n.Value)){o=e?.getMetaPathForObject(n?.Value);s=o?.getTarget()?.annotations?.Common?.Text;i=s&&t.getMetaPathForObject(s)}else{o=n.Value}l=this.getCriticalityForDataPoints(n)}else if(y(n,"com.sap.vocabularies.Communication.v1.ContactType")){const a=n.fn;if(C(a)){o=e?.getMetaPathForObject(a);s=o?.getTarget()?.annotations?.Common?.Text;i=s&&t.getMetaPathForObject(s)}}break;default:break}return{property:o,label:r,navigationPath:c,textProperty:i,color:l}};n.getVisibleDataFields=function e(t){return t.reduce((e,t)=>{if(!O(t)&&!D(t)){e.push(t)}return e},[])};n.getColumnForDataField=function e(t,a,n){const o=[];const i=[];if(!t){i.push(m())}else{const e=this.getVisibleForDataField(t);const{property:s,label:r,color:c,uom:l,textProperty:u}=a||{};if(s){if(r){if(n===true){o.push(f({size:"Small",weight:"Bolder",text:r,maxLines:2,wrap:true,spacing:"Medium",visible:e}))}else{o.push(f({size:"Small",text:`${r}:`,maxLines:1,isSubtle:true}))}}const t=this.getValueBinding(s,u);const a=l??u;const p=this.getTextBlockVisiblityForDateField(s,typeof a!=="string"?a:undefined);o.push(f({size:"Small",$when:E(p),text:l?`${t} ${l}`:t,maxLines:2,color:c}));o.push(f({size:"Small",$when:E(A(p,U(false))),text:"\\-"}));i.push(m({items:o,visible:e??undefined}))}}return i};n.getFieldGroupContent=function e(t,a,n,o){const i=t.getTarget();const s=$;const r=[];if(a){const e=f({size:"Small",weight:"Bolder",text:a,maxLines:2,spacing:"Medium",wrap:true,visible:n??undefined});r.push(e)}const c=this.getVisibleDataFields(i?.Data);const l=Math.ceil(c.length/s);for(let e=1;e<=l;e++){const a=e*s;const i=a-s;const l=d([],n??undefined);for(let e=i;e<a;e++){const a=c[e];const n=a&&x(a);const i=n?o?.[n]:undefined;const s=this.getFieldGroupProperties(t,a,i);const r=a&&t.getMetaPathForObject(a);const u=this.getColumnForDataField(r,s);if(u){l.columns.push(...u)}}if(l){r.push(l)}}return r};n.getCriticalityForDataPoints=function e(t){let a;const n=t.Criticality;if(n){const e=I(n);a=b(e,false)}else{a=U("default")}return this.updatePathsAndGetCompiledExpression(a)};n.getUomPathBinding=function e(t,a){const n=a?.annotations.Measures?.ISOCurrency||a?.annotations.Measures?.Unit;if(!n){return}else if(C(n)){const e=t.getMetaPathForObject(n);const a=e?.getTarget();return a&&this.targetIsProperty(e)?this.getValueBinding(e):undefined}};n.getDataPointProperties=function e(t,a){const n=t.getMetaPathForObject(a?.Value);const o=this.getUomPathBinding(t,t.getMetaPathForObject(a?.Value)?.getTarget());const i=n?.getTarget()?.annotations?.Common?.Text;const s=i&&t.getMetaPathForObject(i);const r=this.getCriticalityForDataPoints(a);const c=this.getNavigationPathForExpression(t);return{property:n,color:r,uom:o,navigationPath:c,textProperty:s}};n.getDataPointContent=function e(t,a){const n=[];const o=t.getTarget();if(o?.Visualization!=="UI.VisualizationType/Rating"&&o?.Visualization!=="UI.VisualizationType/Progress"){const e=this.getDataPointProperties(t,o);e.label=a;const i=this.getColumnForDataField(t,e,true);if(i){n.push(...i)}}return n};n.getCustomHeaderFacetConfigElements=function e(t,a){const n=Object.keys(t);return n.reduce((e,n)=>{const o=a.find(e=>e.key===n);if(o){e[n]={key:n,headerFacet:o.headerFacet,position:{placement:j.After},...t[n]}}return e},{})};n.getCustomConfigHeaderFacets=function e(t){const a=this.getReferenceFacetFromAnnotations(t.getTarget());let n=a.map(function(e){return{key:T([e.Target.value]),headerFacet:e}});const o=this.getCardConfigurationByKey("headerFacets");if(o&&Object.keys(o).length>0){const e=this.getCustomHeaderFacetConfigElements(o,n);const t={isVisible:M.overwrite,title:M.overwrite,position:M.overwrite,formElementsConfig:M.overwrite};n=V(n,e,t)}return n};n.createHeaderForms=function e(t,a){let n=false;return a.reduce(function(e,a,o,i){const s=a.headerFacet;if(s.$Type==="com.sap.vocabularies.UI.v1.ReferenceFacet"&&s.annotations?.UI?.Hidden?.valueOf()!==true){const o=t.getMetaPathForObject(s.Target);const i=o?.getTarget();const r=this.getNavigationPathForExpression(o);const c=a.isVisible??this.getVisibleForReferenceFacet(s,r);const l=a.title??s.Label?.toString();const u=a.formElementsConfig;switch(i?.term){case"com.sap.vocabularies.UI.v1.FieldGroup":if(n===true){this.addEmptyColumns(e[e.length-1]);n=false}e.push(...this.getFieldGroupContent(o,l,c,u));break;case"com.sap.vocabularies.UI.v1.DataPoint":if(!D(i)){const t=this.getDataPointContent(o,a.title??l);const i=d([],c??undefined);if(n&&e[e.length-1].columns.length!==$){e[e.length-1].columns.push(...t)}else{i.columns.push(...t);e.push(i)}n=true}break;case"com.sap.vocabularies.Communication.v1.Address":if(n){this.addEmptyColumns(e[e.length-1]);n=false}e.push(...this.getAddressContent(o,a.title??l,c));break;default:break}}if(o===i.length-1&&n){this.addEmptyColumns(e[e.length-1])}return e}.bind(this),[])};n.addEmptyColumns=function e(t){const a=t.columns.length;if(a<$&&a>1){const e=$-a;for(let a=0;a<e;a++){t.columns.push(...this.getColumnForDataField())}}};n.getAddressContent=function e(t,a,n){const o=[];const i=t.getTarget();if(a){o.push(f({size:"Small",weight:"Bolder",text:a,maxLines:2,wrap:true,spacing:"Medium",visible:n}))}const s=d([],n??undefined);const r=[];const c=[];if(i?.label){r.push(f({size:"Small",text:`${i?.label}`,maxLines:2}));c.push(m({items:r,visible:n??undefined}))}if(c.length>0){s.columns.push(...c)}o.push(s);return o};n.getReferenceFacetFromAnnotations=function e(t){return t?t.filter(e=>e.$Type==="com.sap.vocabularies.UI.v1.ReferenceFacet"):[]};n.getVisibleForReferenceFacet=function e(t,a){const n=v(t);return this.updatePathsAndGetCompiledExpression(n,a)};n.getVisibleForDataField=function e(t,a){const n=F(t.getDataModelObjectPath());return this.updatePathsAndGetCompiledExpression(n,a)};n.getNavigationPathForExpression=function e(t){const a=t.getNavigationProperties();const n=[];if(a.length>0){a.forEach(function(e){if(P(e)){n.push(e.name)}})}return n?.toString()?.replaceAll(",","/")};return a}(g);h=B;return h},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/templates/ObjectPage/card/facets/HeaderTitle", ["sap/base/Log","sap/fe/core/helpers/MetaPath","sap/fe/templates/ObjectPage/card/AdaptiveCardContent","sap/fe/templates/ObjectPage/card/BaseCardContentProvider"],function(e,t,a,r){"use strict";var n={};var i=a.getTextBlock;var o=a.getColumnSet;var c=a.getColumn;function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,l(e,t)}function l(e,t){return l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},l(e,t)}let u=function(a){function r(r,n){var i;i=a.call(this,r,n)||this;const{contextPath:o}=i.getCardConfigurationByKey("contextInfo");let c;try{const e=new t(r,`${o}@${"com.sap.vocabularies.UI.v1.HeaderInfo"}`,o);const a=i.getHeaderTitleandDescription(e);c={headerTitle:a?.headerTitle,description:a?.description,appTitle:i.getCardConfigurationByKey("objectTitle"),appUrl:i.getCardConfigurationByKey("appUrl")};i.cardColumnSet=i.createHeaderTitle(c)}catch(t){const a=t instanceof Error?t.message:String(t);e.error("Error while creating the card defintion",a)}return i||s(i)}n=r;p(r,a);var l=r.prototype;l.getTitle=function e(){return this.cardColumnSet};l.getHeaderTitleandDescription=function e(t){const a=t?.getTarget();const r=a?.Title;const n=a?.Description;let i,o,c,s,p,l,u,d;if(r){switch(r.$Type){case"com.sap.vocabularies.UI.v1.DataField":i=t?.getMetaPathForObject(r?.Value);s=i?.getTarget()?.annotations?.Common?.Text;c=s&&t?.getMetaPathForObject(s);break;case"com.sap.vocabularies.UI.v1.DataFieldForAnnotation":i=a?.TypeName.toString();break}}if(i){const e=this.getValueBinding(i,c);o=e}if(n){switch(n.$Type){case"com.sap.vocabularies.UI.v1.DataField":p=t?.getMetaPathForObject(n?.Value);l=p?.getTarget()?.annotations?.Common?.Text;u=l&&t?.getMetaPathForObject(l);break;default:break}}if(p){const e=this.getValueBinding(p,u);d=e}return{headerTitle:o,description:d}};l.createHeaderTitle=function e(t){let a,r,n;const s=[];const p=[];if(t?.appTitle){a=i({size:"Medium",weight:"Bolder",text:t?.appTitle,maxLines:3,wrap:true});s.push(a)}if(t?.headerTitle){r=i({size:"Default",weight:"Bolder",text:`[ ${t?.headerTitle} ](${t?.appUrl})`,maxLines:1,spacing:"None"});s.push(r)}if(t?.description){n=i({size:"Default",text:t?.description,maxLines:1,spacing:"None"});s.push(n)}p.push(c({items:[...s]}));return o(p)??undefined};return r}(r);n=u;return n},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/templates/ObjectPage/components/CollaborationDiscardDialog", ["sap/fe/core/CommonUtils","sap/fe/core/controllerextensions/collaboration/CollaborationCommon","sap/fe/core/helpers/ResourceModelHelper","sap/fe/macros/CommonHelper","sap/m/Avatar","sap/m/Button","sap/m/Dialog","sap/m/HBox","sap/m/ObjectIdentifier","sap/m/ObjectStatus","sap/m/Text","sap/m/VBox","sap/ui/core/Lib","sap/ui/core/library","sap/ui/model/Filter","sap/fe/base/jsx-runtime/Fragment","sap/fe/base/jsx-runtime/jsxs","sap/fe/base/jsx-runtime/jsx"],function(e,t,i,s,n,a,r,o,l,c,d,g,u,h,C,D,T,m){"use strict";function p(e){return new Promise((t,i)=>{sap.ui.require([e],i=>{if(!(i&&i.__esModule)){i=i===null||!(typeof i==="object"&&e.endsWith("/library"))?{default:i}:i;Object.defineProperty(i,"__esModule",{value:true})}t(i)},e=>{i(e)})})}var A={};var R=h.ValueState;var f=t.UserStatus;var _=t.UserEditingState;var I=t.CollaborationUtils;let O=function(){function t(e,t){this.formatUserStatus=e=>{switch(e){case f.CurrentlyEditing:return this.discardResourceModel.getText("C_COLLABORATIONDRAFT_USER_CURRENTLY_EDITING");case f.ChangesMade:return this.discardResourceModel.getText("C_COLLABORATIONDRAFT_USER_CHANGES_MADE");case f.NoChangesMade:return this.discardResourceModel.getText("C_COLLABORATIONDRAFT_USER_NO_CHANGES_MADE");case f.NotYetInvited:default:return this.discardResourceModel.getText("C_COLLABORATIONDRAFT_USER_NOT_YET_INVITED")}};this.saveManageDialog=()=>{this.promiseResolve("save");this.manageDialog.close();this.manageDialog.destroy()};this.discardManageDialog=()=>{this.promiseResolve("discardConfirmed");this.manageDialog.close();this.manageDialog.destroy()};this.cancelManageDialog=()=>{this.promiseResolve("cancel");this.manageDialog.close();this.manageDialog.destroy()};this.keepDraftManageDialog=()=>{this.promiseResolve("keepDraft");this.manageDialog.close();this.manageDialog.destroy()};this.actionIsSave=t;this.containingView=e;this.discardResourceModel=i.getResourceModel(e);if(t){this.actionButton=this.getSaveButton();this.topText=this.discardResourceModel.getText("C_COLLABORATIONDRAFT_DISCARD_EDITING_DRAFT");this.bottomText=this.discardResourceModel.getText("C_COLLABORATIONDRAFT_DISCARD_SAVE_WARNING")}else{this.actionButton=this.getDiscardButton();this.topText=this.discardResourceModel.getText("C_COLLABORATIONDRAFT_DISCARD_CHANGES_DRAFT");this.bottomText=this.discardResourceModel.getText("C_COLLABORATIONDRAFT_DISCARD_DISCARD_WARNING")}}A=t;t.load=async function e(){if(t.GridTableControl===undefined){await u.load({name:"sap.ui.table"});const{default:e}=await p("sap/ui/table/Table");t.GridTableControl=e;const{default:i}=await p("sap/ui/table/Column");t.GridTableColumnControl=i}return this};var h=t.prototype;h.getManageDialog=function e(){this.manageDialog=m(r,{title:this.discardResourceModel.getText("C_COLLABORATIONDRAFT_DISCARD_TITLE"),state:R.Warning,contentWidth:"35em",children:{buttons:T(D,{children:["keepDraftButton = ",this.getKeepDraftButton(),"confirmActionButton = ",this.actionButton,"cancelButton = ",this.getCancelButton()]}),content:T(g,{class:"sapUiSmallMargin",children:[m(l,{class:"sapUiSmallMarginBottom",text:this.topText}),this.getManageDialogUserTable(),m(d,{class:"sapUiSmallMarginTop",text:this.bottomText}),m(d,{class:"sapUiSmallMarginTop",text:this.discardResourceModel.getText("C_COLLABORATIONDRAFT_DISCARD_QUESTION")})]})}});this.containingView.addDependent(this.manageDialog);this.manageDialog.bindElement({model:"internal",path:"collaboration"});return this.manageDialog};h.getManageDialogUserTableColumns=function e(){return T(D,{children:[m(t.GridTableColumnControl,{width:"3em",children:{template:m(o,{alignItems:"Center",justifyContent:"SpaceBetween",width:"100%",children:m(n,{displaySize:"XS",backgroundColor:"{internal>color}",initials:"{internal>initials}"})})}}),m(t.GridTableColumnControl,{width:"10rem",children:{label:m(d,{text:this.discardResourceModel.getText("C_COLLABORATIONDRAFT_INVITATION_TABLE_USER_COLUMN")}),template:m(d,{text:"{internal>name}"})}}),m(t.GridTableColumnControl,{width:"14em",children:{label:m(d,{text:this.discardResourceModel.getText("C_COLLABORATIONDRAFT_INVITATION_TABLE_USER_STATUS_COLUMN")}),template:m(c,{state:{path:"internal>status",formatter:this.formatUserStatusColor},text:{path:"internal>status",formatter:this.formatUserStatus}})}})]})};h.getManageDialogUserTable=function e(){const i=this.containingView.getBindingContext("internal");const n=i.getProperty("collaboration/currentlyEditingUsers");let a;if(s.isDesktop()){a=n.length<5?n.length:5}else{a=n.length<3?n.length:3}return m(t.GridTableControl,{width:"100%",rows:{path:"internal>currentlyEditingUsers"},visibleRowCount:a,visibleRowCountMode:"Fixed",selectionMode:"None",children:{columns:this.getManageDialogUserTableColumns()}})};h.formatUserStatusColor=function e(t){switch(t){case f.CurrentlyEditing:return R.Success;case f.ChangesMade:return R.Warning;case f.NoChangesMade:case f.NotYetInvited:default:return R.Information}};h.readInvitedUsers=async function t(){const i=this.containingView;const s=i.getModel();const n={$select:"UserID,UserDescription,UserEditingState"};const a=s.bindList("DraftAdministrativeData/DraftAdministrativeUser",i.getBindingContext(),[],[],n);const r=I.getMe(e.getAppComponent(i));const o=i.getBindingContext("internal");if(r){a.filter(new C({path:"UserID",operator:"NE",value1:r.id}))}const l=await a.requestContexts(0,100);const c=[];const d=i.getModel("internal").getProperty("/collaboration/activeUsers")||[];if(!l.length||l.length===0){o.setProperty("collaboration/currentlyEditingUsers",[]);return}l.forEach(e=>{const t=e.getObject();const i=this.createUser(t,d);if(i){i.color=I.getUserColor(t.UserID,d,c);c.push(i)}});const g=this.sortUser(c);o.setProperty("collaboration/currentlyEditingUsers",g)};h.readCurrentUsers=function e(){const t=this.containingView;const i=t.getModel("internal").getProperty("/collaboration/activeUsers")||[];const s=i.filter(e=>e.me!==true).map(e=>({...e,status:f.CurrentlyEditing}));const n=t.getBindingContext("internal");n.setProperty("collaboration/currentlyEditingUsers",s)};h.sortUser=function e(t){let i=t;if(t.length>1){i=t.sort((e,t)=>{if(e.status<t.status){return 1}else if(e.status>t.status){return-1}return 0})}return i};h.createUser=function e(t,i){let s;const n=i.find(e=>e.id===t.UserID);const a=t.UserDescription??t.UserID;const r=I.formatInitials(a);if(n){s=f.CurrentlyEditing}else if(t.UserEditingState===_.InProgress){s=f.ChangesMade}else{return undefined}const o={id:t.UserID,name:a,status:s,initials:r};return o};h.getSaveButton=function e(){return m(a,{text:this.discardResourceModel.getText("C_COLLABORATIONDRAFT_DISCARD_SAVE"),press:this.saveManageDialog})};h.getDiscardButton=function e(){return m(a,{text:this.discardResourceModel.getText("C_COLLABORATIONDRAFT_DISCARD_DISCARD"),press:this.discardManageDialog})};h.getCancelButton=function e(){return m(a,{text:this.discardResourceModel.getText("C_COLLABORATIONDRAFT_DISCARD_CANCEL"),press:this.cancelManageDialog})};h.getKeepDraftButton=function e(){return m(a,{text:this.discardResourceModel.getText("C_COLLABORATIONDRAFT_DISCARD_KEEP_DRAFT"),press:this.keepDraftManageDialog,type:"Emphasized"})};h.getUserAction=async function e(){if(this.actionIsSave){this.readCurrentUsers()}else{await this.readInvitedUsers()}return this.open()};h.open=async function e(){await t.load();const i=this.containingView.getBindingContext("internal");const s=i.getProperty("collaboration/currentlyEditingUsers");if(s.length===0){return this.actionIsSave?"save":"discard"}this.manageDialog=this.getManageDialog();this.manageDialog.getBindingContext("internal").setProperty("currentlyEditingUsers",s);this.manageDialog.open();return new Promise(e=>{this.promiseResolve=e})};return t}();A=O;return A},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/templates/ObjectPage/components/CollaborationDraft", ["sap/fe/base/BindingToolkit","sap/fe/base/ClassSupport","sap/fe/core/buildingBlocks/BuildingBlock","sap/fe/core/controllerextensions/collaboration/CollaborationCommon","sap/fe/core/formatters/CollaborationFormatter","sap/fe/core/helpers/ModelHelper","sap/fe/core/helpers/PromiseKeeper","sap/fe/core/helpers/TypeGuards","sap/fe/macros/CommonHelper","sap/m/Avatar","sap/m/Button","sap/m/Dialog","sap/m/HBox","sap/m/Label","sap/m/MessageStrip","sap/m/MessageToast","sap/m/ObjectStatus","sap/m/ResponsivePopover","sap/m/Text","sap/m/VBox","sap/ui/core/Lib","sap/ui/core/library","sap/ui/mdc/Field","sap/ui/mdc/ValueHelp","sap/ui/mdc/valuehelp/Dialog","sap/ui/mdc/valuehelp/Popover","sap/ui/mdc/valuehelp/content/MTable","sap/fe/base/jsx-runtime/jsx","sap/fe/base/jsx-runtime/jsxs","sap/fe/base/jsx-runtime/Fragment"],function(e,t,a,n,i,r,s,o,l,c,d,u,g,p,h,T,m,I,f,C,b,D,O,A,U,v,_,N,S,y){"use strict";var x,R,L,E,B,P,M;function w(e){return new Promise((t,a)=>{sap.ui.require([e],a=>{if(!(a&&a.__esModule)){a=a===null||!(typeof a==="object"&&e.endsWith("/library"))?{default:a}:a;Object.defineProperty(a,"__esModule",{value:true})}t(a)},e=>{a(e)})})}var F={};var V=D.ValueState;var j=o.isPathAnnotationExpression;var H=o.isAnnotationOfType;var G=n.shareObject;var k=n.UserStatus;var z=n.UserEditingState;var W=n.CollaborationUtils;var $=t.property;var q=t.defineUI5Class;var Y=e.getExpressionFromAnnotation;var X=e.formatResult;var K=e.compileExpression;function Q(e,t,a,n){a&&Object.defineProperty(e,t,{enumerable:a.enumerable,configurable:a.configurable,writable:a.writable,value:a.initializer?a.initializer.call(n):void 0})}function J(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Z(e,t)}function Z(e,t){return Z=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Z(e,t)}function ee(e,t,a,n,i){var r={};return Object.keys(n).forEach(function(e){r[e]=n[e]}),r.enumerable=!!r.enumerable,r.configurable=!!r.configurable,("value"in r||r.initializer)&&(r.writable=!0),r=a.slice().reverse().reduce(function(a,n){return n(e,t,a)||a},r),i&&void 0!==r.initializer&&(r.value=r.initializer?r.initializer.call(i):void 0,r.initializer=void 0),void 0===r.initializer?(Object.defineProperty(e,t,r),null):r}function te(e,t){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}const ae="Users";const ne="UserID";let ie=(x=q("sap.fe.templates.ObjectPage.components.CollaborationDraft"),R=$({type:"string",required:true}),L=$({type:"string"}),x(E=(B=function(e){function t(t,a){var n;n=e.call(this,t,a)||this;Q(n,"contextPath",P,n);Q(n,"id",M,n);n.showCollaborationUserDetails=e=>{const t=e.getSource();if(!n.userDetailsPopover){n.userDetailsPopover=n.getUserDetailsPopover()}n.userDetailsPopover?.setBindingContext(t.getBindingContext("internal"),"internal");n.userDetailsPopover?.openBy(t)};n.manageCollaboration=()=>{if(!n.manageDialog){n.manageDialog=n.getManageDialog()}n.readInvitedUsers();n.manageDialog?.open()};n.formatUserStatus=e=>{switch(e){case k.CurrentlyEditing:return n.getTranslatedText("C_COLLABORATIONDRAFT_USER_CURRENTLY_EDITING");case k.ChangesMade:return n.getTranslatedText("C_COLLABORATIONDRAFT_USER_CHANGES_MADE");case k.NoChangesMade:return n.getTranslatedText("C_COLLABORATIONDRAFT_USER_NO_CHANGES_MADE");case k.NotYetInvited:default:return n.getTranslatedText("C_COLLABORATIONDRAFT_USER_NOT_YET_INVITED")}};n.addUserFieldChanged=async e=>{const t=e.getSource();return e.getParameter("promise")?.then(function(e){const a=t.getBindingContext("internal");const n=a.getProperty("invitedUsers")||[];const i={id:a?.getProperty("UserID"),name:a?.getProperty("UserDescription")};if(n.findIndex(t=>t.id===e)>-1){t.setValueState("Error");t.setValueStateText(this.getTranslatedText("C_COLLABORATIONDRAFT_INVITATION_USER_ERROR"))}else if(!(n.findIndex(e=>e.id===i.id)>-1||i.id===i.name&&i.id==="")){this.addUser(t,n,i);t.setValueState("None");t.setValueStateText("")}}.bind(n)).catch(function(){t.setValueState("Warning");t.setValueStateText(this.getTranslatedText("C_COLLABORATIONDRAFT_INVITATION_USER_NOT_FOUND"))}.bind(n))};n.inviteUser=async e=>{const t=[],a=[];const i=e.getSource();const r=i.getBindingContext();const s=(n.manageDialogUserTable?.getBinding("rows")).getContexts();s.forEach(function(e){t.push({UserID:e.getProperty("id"),UserAccessRole:"O"});if(e.getProperty("status")===k.NotYetInvited){a.push(e.getProperty("id"))}});try{const e=await Promise.all([G(r,t),n.requestInvitedUsersInDraft()]);const i=[];e[1].forEach(e=>{if(a.includes(e.getProperty("UserID"))){i.push(e)}});const s=n.getPageController().messageHandler;await s.showMessageDialog();switch(i.length){case 0:T.show(n.getTranslatedText("C_COLLABORATIONDRAFT_INVITATION_SUCCESS_TOAST_NO_USER",[n.getSharedItemName(r)]));break;case 1:T.show(n.getTranslatedText("C_COLLABORATIONDRAFT_INVITATION_SUCCESS_TOAST",[n.getSharedItemName(r)]));break;default:T.show(n.getTranslatedText("C_COLLABORATIONDRAFT_INVITATION_SUCCESS_TOAST_PLURAL",[i.length.toString(),n.getSharedItemName(r)]))}}catch{T.show(n.getTranslatedText("C_COLLABORATIONDRAFT_INVITATION_FAILED_TOAST"))}n.closeManageDialog()};n.readInvitedUsers=async()=>{const e=n.getBindingContext("internal");try{const t=await n.requestInvitedUsersInDraft();const a=[];const i=n.getModel("internal")?.getProperty("/collaboration/activeUsers")||[];const r=W.getMe(n.getAppComponent());let s;if(t.length>0){t.forEach(e=>{const t=e.getObject();const n=r?.id===t.UserID;const o=i.find(e=>e.id===t.UserID);let l=t.UserDescription||t.UserID;const c=W.formatInitials(l);l=n?`${W.getText("C_COLLABORATIONDRAFT_ME",l)}`:l;if(o){s=k.CurrentlyEditing}else if(t.UserEditingState===z.InProgress){s=k.ChangesMade}else{s=k.NoChangesMade}const d={id:t.UserID,name:l,status:s,color:W.getUserColor(t.UserID,i,a),initials:c,me:n};a.push(d)})}else{a.push(r)}e.setProperty("collaboration/UserID","");e.setProperty("collaboration/UserDescription","");e.setProperty("collaboration/invitedUsers",a)}catch(e){T.show(n.getTranslatedText("C_COLLABORATIONDRAFT_READING_USER_FAILED"))}};n.closeManageDialog=()=>{n.manageDialog?.close();n.manageDialog?.destroy();delete n.manageDialog};return n}F=t;J(t,e);var a=t.prototype;a.onMetadataAvailable=async function e(a){this._controlLoaded=new s;if(t.GridTableControl===undefined){await b.load({name:"sap.ui.table"});const{default:e}=await w("sap/ui/table/Table");t.GridTableControl=e;const{default:a}=await w("sap/ui/table/Column");t.GridTableColumnControl=a}this.contextObject=this.getDataModelObjectPath(this.contextPath);this.content=this.createContent();this._controlLoaded.resolve()};a.getUserDetailsPopover=function e(){const t=N(I,{showHeader:false,class:"sapUiContentPadding",placement:"Bottom",children:S(g,{children:[N(c,{initials:"{internal>initials}",displaySize:"S",backgroundColor:"{internal>color}"}),S(C,{children:[N(p,{class:"sapUiMediumMarginBegin",text:"{internal>name}"}),N(p,{class:"sapUiMediumMarginBegin",text:"{internal>id}"})]})]})});this.addDependent(t);return t};a.getManageDialog=function e(){const t=N(u,{title:this.getInvitationDialogTitleExpBinding(),horizontalScrolling:"False",verticalScrolling:"False",contentWidth:"35em",stretch:l.isDesktop()?"false":"true",children:{beginButton:N(d,{text:this.getTranslatedText("C_COLLABORATIONDRAFT_INVITATION_DIALOG_CONFIRMATION"),press:this.inviteUser,type:"Emphasized",enabled:{parts:[{path:"internal>invitedUsers/length"},{path:"internal>invitedUsers"}],formatter:this.formatInviteButton}}),endButton:N(d,{text:this.getTranslatedText("C_COLLABORATIONDRAFT_INVITATION_DIALOG_CANCEL"),press:this.closeManageDialog}),content:S(C,{class:"sapUiSmallMargin",children:[N(C,{width:"100%",children:N(h,{text:this.getTranslatedText("C_COLLABORATIONDRAFT_INVITATION_MESSAGESTRIP"),type:"Information",showIcon:true,showCloseButton:false,class:"sapUiMediumMarginBottom"})}),N(p,{text:this.getTranslatedText("C_COLLABORATIONDRAFT_INVITATION_INPUT_LABEL"),required:true}),this.getManageDialogAddUserSection(),this.getManageDialogUserTable()]})}});this.addDependent(t);t.bindElement({model:"internal",path:"collaboration"});return t};a.getManageDialogUserTableColumns=function e(){return S(y,{children:[N(t.GridTableColumnControl,{width:l.isDesktop()?"10%":"3em",children:{template:N(g,{alignItems:"Center",justifyContent:"SpaceBetween",children:N(c,{displaySize:"XS",backgroundColor:"{internal>color}",initials:"{internal>initials}"})})}}),N(t.GridTableColumnControl,{width:l.isDesktop()?"35%":"6em",children:{label:N(f,{text:this.getTranslatedText("C_COLLABORATIONDRAFT_INVITATION_TABLE_USER_COLUMN")}),template:N(f,{text:"{internal>name}"})}}),N(t.GridTableColumnControl,{width:l.isDesktop()?"46%":"9em",children:{label:N(f,{text:this.getTranslatedText("C_COLLABORATIONDRAFT_INVITATION_TABLE_USER_STATUS_COLUMN")}),template:N(m,{state:{path:"internal>status",formatter:this.formatUserStatusColor},text:{path:"internal>status",formatter:this.formatUserStatus}})}}),N(t.GridTableColumnControl,{width:l.isDesktop()?"8%":"3em",children:{template:N(g,{children:N(d,{icon:"sap-icon://decline",type:"Transparent",press:this.removeUser,visible:"{= !!${internal>transient} }"})})}})]})};a.getManageDialogUserTable=function e(){this.manageDialogUserTable=N(t.GridTableControl,{width:"100%",rows:{path:"internal>invitedUsers"},visibleRowCount:l.isDesktop()?"5":"3",visibleRowCountMode:"Fixed",selectionMode:"None",children:{columns:this.getManageDialogUserTableColumns()}});return this.manageDialogUserTable};a.getManageDialogAddUserSection=function e(){return N(g,{class:"sapUiMediumMarginBottom",width:"100%",children:N(O,{value:"{internal>UserID}",additionalValue:"{internal>UserDescription}",display:"DescriptionValue",width:"20em",required:true,valueHelp:"userValueHelp",placeholder:this.getTranslatedText("C_COLLABORATIONDRAFT_INVITATION_INPUT_PLACEHOLDER"),change:this.addUserFieldChanged,children:{dependents:N(A,{id:"userValueHelp",delegate:this.getValueHelpDelegate(),validateInput:true,children:{typeahead:N(v,{children:N(_,{caseSensitive:"true",useAsValueHelp:"false"})}),dialog:N(U,{})}})}})})};a.formatUserStatusColor=function e(t){switch(t){case k.CurrentlyEditing:return V.Success;case k.ChangesMade:return V.Warning;case k.NoChangesMade:case k.NotYetInvited:default:return V.Information}};a.formatInviteButton=function e(t,a){if(!t){return false}return!!a?.some(e=>e.status===0)};a.addUser=function e(t,a,n){const i=t.getBindingContext("internal");const r=t.getModel("internal").getProperty("/collaboration/activeUsers");n.name=n.name||n.id;n.initials=W.formatInitials(n.name);n.color=W.getUserColor(n.id,r,a);n.transient=true;n.status=k.NotYetInvited;a.push(n);i.setProperty("invitedUsers",a);i.setProperty("UserID","");i.setProperty("UserDescription","")};a.removeUser=function e(t){const a=t.getSource();const n=a?.getBindingContext("pageInternal");const i=a?.getBindingContext("internal")?.getProperty("id");let r=n?.getProperty("collaboration/invitedUsers");r=r.filter(e=>e.id!==i);n?.setProperty("collaboration/invitedUsers",r)};a.requestInvitedUsersInDraft=async function e(){const t=this.getModel();const a={$select:"UserID,UserDescription,UserEditingState",$$groupId:"$auto.Workers"};const n=t?.bindList(`${this.getBindingContext()?.getPath()}/DraftAdministrativeData/DraftAdministrativeUser`,undefined,[],[],a);return n.requestContexts(0,100)};a.getSharedItemName=function e(t){const a=this.contextObject?.targetEntityType.annotations.UI?.HeaderInfo;let n="";const i=a?.Title;if(i&&H(i,["com.sap.vocabularies.UI.v1.DataField","com.sap.vocabularies.UI.v1.DataFieldWithAction","com.sap.vocabularies.UI.v1.DataFieldWithActionGroup","com.sap.vocabularies.UI.v1.DataFieldWithNavigationPath","com.sap.vocabularies.UI.v1.DataFieldWithIntentBasedNavigation","com.sap.vocabularies.UI.v1.DataFieldWithUrl","com.sap.vocabularies.UI.v1.DataFieldWithNavigationPath"])){n=j(i.Value)?t.getProperty(i.Value.path):i.Value}return n||a?.TypeName||""};a.getValueHelpDelegate=function e(){const t=(this.contextObject?.targetEntitySet.annotations.Common).DraftRoot.ShareAction.toString();const a=this.contextObject?.targetEntityType.resolvePath(t);const n=a.parameters.find(e=>e.name===ae);return{name:"sap/fe/macros/valuehelp/ValueHelpDelegate",payload:{propertyPath:`/${n.type}/${ne}`,qualifiers:{},valueHelpQualifier:"",isActionParameterDialog:true}}};a.getInvitationDialogTitleExpBinding=function e(){const t=this.contextObject?.targetEntityType.annotations.UI?.HeaderInfo;const a=Y(t?.Title?.Value,[],"");const n=["C_COLLABORATIONDRAFT_INVITATION_DIALOG",t?.TypeName.toString(),a];const r=X(n,i.getFormattedText);return K(r)};a.getInviteButton=function e(){if(this.contextObject?.targetEntitySet?.annotations.Common?.DraftRoot?.ShareAction){return N(g,{visible:"{ui>/isEditable}",alignItems:"Center",justifyContent:"Start",children:N(c,{backgroundColor:"TileIcon",src:"sap-icon://add-employee",displaySize:"XS",press:this.manageCollaboration})})}else{return N(g,{})}};a.createContent=function e(){if(this._getOwner()?.getMetaModel()&&r.isCollaborationDraftSupported(this._getOwner().getMetaModel())){return S(g,{children:[N(g,{items:{path:"internal>/collaboration/activeUsers"},class:"sapUiTinyMarginBegin",visible:"{= ${ui>/isEditable} && ${internal>/collaboration/connected} }",alignItems:"Center",justifyContent:"Start",children:N(c,{initials:"{internal>initials}",displaySize:"XS",backgroundColor:"{internal>color}",press:this.showCollaborationUserDetails})}),this.getInviteButton()]})}};return t}(a),P=ee(B.prototype,"contextPath",[R],{configurable:true,enumerable:true,writable:true,initializer:null}),M=ee(B.prototype,"id",[L],{configurable:true,enumerable:true,writable:true,initializer:null}),B))||E);F=ie;return F},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/templates/ObjectPage/components/DraftToggle", ["sap/fe/base/BindingToolkit","sap/fe/base/ClassSupport","sap/fe/core/CommonUtils","sap/fe/core/buildingBlocks/BuildingBlock","sap/fe/core/controls/CommandExecution","sap/fe/core/converters/MetaModelConverter","sap/fe/core/helpers/BindingHelper","sap/fe/templates/ObjectPage/ObjectPageTemplating","sap/m/Button","sap/m/ResponsivePopover","sap/m/SelectList","sap/ui/core/InvisibleText","sap/ui/core/Item","sap/fe/base/jsx-runtime/jsx","sap/fe/base/jsx-runtime/jsxs"],function(e,t,i,n,r,o,a,c,l,s,p,f,u,d,g){"use strict";var v,_,b,h,T,C,w,m,O,A,E,I,D,y,S;var x={};var P=c.getSwitchToDraftVisibility;var B=c.getSwitchToActiveVisibility;var R=c.getSwitchDraftAndActiveVisibility;var M=a.UI;var V=a.Entity;var j=t.property;var z=t.implementInterface;var H=t.defineUI5Class;var K=t.defineReference;var F=e.pathInModel;var N=e.not;var W=e.ifElse;var Y=e.and;function U(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function k(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,G(e,t)}function G(e,t){return G=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},G(e,t)}function J(e,t,i,n,r){var o={};return Object.keys(n).forEach(function(e){o[e]=n[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce(function(i,n){return n(e,t,i)||i},o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer?(Object.defineProperty(e,t,o),null):o}function L(e,t){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let q=(v=H("sap.fe.macros.DraftToggle"),_=z("sap.m.IOverflowToolbarContent"),b=j({type:"boolean"}),h=j({type:"string"}),T=j({type:"string"}),C=K(),w=K(),v(m=(O=function(e){function t(t,n){var r;r=e.call(this,t,n)||this;U(r,"__implements__sap_m_IOverflowToolbarContent",A,r);U(r,"visible",E,r);r.SWITCH_TO_DRAFT_KEY="switchToDraft";r.SWITCH_TO_ACTIVE_KEY="switchToActive";U(r,"id",I,r);U(r,"contextPath",D,r);U(r,"switchToActiveRef",y,r);U(r,"switchToDraftRef",S,r);r.initialSelectedKey=r.SWITCH_TO_ACTIVE_KEY;r._hiddenDraft=false;r.handleSelectedItemChange=e=>{const t=e.getParameter("item")?.getProperty("key");if(t!==r.initialSelectedKey){r._containingView.getController().editFlow.toggleDraftActive(r._containingView.getBindingContext())}if(r.popover){r.popover.close();r.popover.destroy();delete r.popover}};r.openSwitchActivePopover=e=>{const t=e.getSource();const n=i.getTargetView(t);const o=n.getBindingContext();const a=o.getObject().IsActiveEntity;r.initialSelectedKey=a?r.SWITCH_TO_ACTIVE_KEY:r.SWITCH_TO_DRAFT_KEY;r.popover=r.createPopover();r._containingView=n;n.addDependent(r.popover);r.popover.openBy(t);r.popover.attachEventOnce("afterOpen",()=>{if(a){r.switchToDraftRef.current?.focus()}else{r.switchToActiveRef.current?.focus()}});return r.popover};r.attachModelContextChange(function e(t){const i=t.getSource();if(i.content?.getBinding("visible")){i.content?.getBinding("visible")?.attachEvent("change",e=>{i.visible=e.getSource().getExternalValue()});i.detachModelContextChange(e,i)}},r);return r}x=t;k(t,e);var n=t.prototype;n.onMetadataAvailable=function e(){const t=this._getOwner()?.getRootController();this._hiddenDraft=t.getAppComponent().getEnvironmentCapabilities().getCapabilities().HiddenDraft?.enabled;if(!this.content&&!this._hiddenDraft){this.content=this.createContent()}};n.getEnabled=function e(){return this.content?.getProperty("enabled")??true};n.getOverflowToolbarConfig=function e(){return{canOverflow:true}};n.createPopover=function e(){return d(s,{showHeader:false,contentWidth:"15.625rem",verticalScrolling:false,class:"sapUiNoContentPadding",placement:"Bottom",children:g(p,{selectedKey:this.initialSelectedKey,itemPress:this.handleSelectedItemChange,children:[d(u,{text:"{sap.fe.i18n>C_COMMON_OBJECT_PAGE_DISPLAY_DRAFT_MIT}",ref:this.switchToDraftRef},this.SWITCH_TO_DRAFT_KEY),d(u,{text:"{sap.fe.i18n>C_COMMON_OBJECT_PAGE_DISPLAY_SAVED_VERSION_MIT}",ref:this.switchToActiveRef},this.SWITCH_TO_ACTIVE_KEY)]})})};n.createContent=function e(){const t=this._getOwner()?.preprocessorContext?.fullContextPath;const i=this._getOwner()?.getMetaModel();const n=i?.createBindingContext(this.contextPath??t);const a=o.convertMetaModelContext(n);const c=W(Y(N(M.IsEditable),N(M.IsCreateMode),V.HasDraft),F("C_COMMON_OBJECT_PAGE_SAVED_VERSION_BUT","sap.fe.i18n"),F("C_COMMON_OBJECT_PAGE_DRAFT_BUT","sap.fe.i18n"));const s=R(a);const p=this._getOwner()?.getRootController();const u=d(f,{text:"{sap.fe.i18n>T_HEADER_DATAPOINT_TITLE_DRAFT_SWITCHER_ARIA_BUTTON}",id:this.createId("AriaTextDraftSwitcher")});u.toStatic();const g=d(l,{id:this.createId("_dt"),"dt:designtime":"not-adaptable",text:c,visible:s,icon:"sap-icon://navigation-down-arrow",iconFirst:false,type:"Transparent",press:e=>this.openSwitchActivePopover(e),ariaDescribedBy:this.createId("AriaTextDraftSwitcher")?[this.createId("AriaTextDraftSwitcher")]:undefined});g.addDependent(u);p.getView().addDependent(d(r,{command:"SwitchToActiveObject",execute:()=>{p.editFlow.toggleDraftActive(p.getView().getBindingContext())},visible:B(a)}));p.getView().addDependent(d(r,{command:"SwitchToDraftObject",execute:()=>{p.editFlow.toggleDraftActive(p.getView().getBindingContext())},visible:P(a)}));return g};return t}(n),A=J(O.prototype,"__implements__sap_m_IOverflowToolbarContent",[_],{configurable:true,enumerable:true,writable:true,initializer:function(){return true}}),E=J(O.prototype,"visible",[b],{configurable:true,enumerable:true,writable:true,initializer:null}),I=J(O.prototype,"id",[h],{configurable:true,enumerable:true,writable:true,initializer:null}),D=J(O.prototype,"contextPath",[T],{configurable:true,enumerable:true,writable:true,initializer:null}),y=J(O.prototype,"switchToActiveRef",[C],{configurable:true,enumerable:true,writable:true,initializer:null}),S=J(O.prototype,"switchToDraftRef",[w],{configurable:true,enumerable:true,writable:true,initializer:null}),O))||m);x=q;return x},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/templates/ObjectPage/controls/StashableHBox", ["sap/fe/base/ClassSupport","sap/m/HBox","sap/ui/core/StashedControlSupport"],function(t,e,i){"use strict";var n,r,o,l,s,a,u,c,f;var p=t.property;var g=t.defineUI5Class;function b(t,e,i,n){i&&Object.defineProperty(t,e,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function h(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,m(t,e)}function m(t,e){return m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},m(t,e)}function d(t,e,i,n,r){var o={};return Object.keys(n).forEach(function(t){o[t]=n[t]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce(function(i,n){return n(t,e,i)||i},o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer?(Object.defineProperty(t,e,o),null):o}function y(t,e){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let C=(n=g("sap.fe.templates.ObjectPage.controls.StashableHBox",{designtime:"sap/fe/templates/ObjectPage/designtime/StashableHBox.designtime"}),r=p({type:"string"}),o=p({type:"string"}),l=p({type:"boolean"}),n(s=(a=function(t){function e(){var e;for(var i=arguments.length,n=new Array(i),r=0;r<i;r++){n[r]=arguments[r]}e=t.call(this,...n)||this;b(e,"title",u,e);b(e,"fallbackTitle",c,e);b(e,"_disconnected",f,e);return e}h(e,t);var i=e.prototype;i.setTitle=function t(e){const i=this.getTitleControl();if(i){i.setText(e)}this.title=e;return this};i.getTitle=function t(){return this.title||this.fallbackTitle};i.onAfterRendering=function t(){if(this.title){this.setTitle(this.title)}else{const t=this.getTitleControl();if(t){this.title=t.getText()}}};i.getControlItems=function t(e){let i=[],n;if(e){for(n=0;n<e.length;n++){if(e[n].getItems){i=e[n].getItems()}else if(e[n].getMicroChartTitle){i=e[n].getMicroChartTitle()}else if(e[n].getContent().getMicroChartTitle){i=e[n].getContent().getMicroChartTitle()}}}return i};i.getTitleControl=function t(){let e=[],i,n;const r=this.getItems();e=this.getControlItems(r);for(n=0;n<e.length;n++){const t=e[n].isA("sap.fe.macros.internal.TitleLink")?e[n].getContent():e[n];if(t){if(t.isA("sap.m.Title")||t.isA("sap.m.Link")){if(t.isA("sap.m.Title")){i=t.getContent();if(i&&i.isA("sap.m.Link")){return i}}return t}}}return null};i.set_disconnected=function t(e){this._disconnected=e;if(e){this.setBindingContext(null)}else{this.setBindingContext(undefined)}return this};i.getFormLabels=function t(){const e=[],i=this.getItems&&this.getItems()[0];if(i?.isA("sap.m.VBox")){i.getItems().forEach(t=>{if(t.isA("sap.m.HBox")){const i=t.getItems()[0];if(i?.isA("sap.m.Label")){e.push(i)}}})}return e};return e}(e),u=d(a.prototype,"title",[r],{configurable:true,enumerable:true,writable:true,initializer:null}),c=d(a.prototype,"fallbackTitle",[o],{configurable:true,enumerable:true,writable:true,initializer:null}),f=d(a.prototype,"_disconnected",[l],{configurable:true,enumerable:true,writable:true,initializer:null}),a))||s);i.mixInto(C);return C},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/templates/ObjectPage/controls/StashableVBox", ["sap/fe/base/ClassSupport","sap/m/VBox","sap/ui/core/StashedControlSupport"],function(e,t,i){"use strict";var r,n,o,a,l;var s=e.property;var c=e.defineUI5Class;function u(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function f(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,p(e,t)}function p(e,t){return p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},p(e,t)}function d(e,t,i,r,n){var o={};return Object.keys(r).forEach(function(e){o[e]=r[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce(function(i,r){return r(e,t,i)||i},o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer?(Object.defineProperty(e,t,o),null):o}function b(e,t){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let v=(r=c("sap.fe.templates.ObjectPage.controls.StashableVBox",{designtime:"sap/fe/templates/ObjectPage/designtime/StashableVBox.designtime"}),n=s({type:"boolean"}),r(o=(a=function(e){function t(){var t;for(var i=arguments.length,r=new Array(i),n=0;n<i;n++){r[n]=arguments[n]}t=e.call(this,...r)||this;u(t,"_disconnected",l,t);return t}f(t,e);var i=t.prototype;i.set_disconnected=function e(t){this._disconnected=t;if(t){this.setBindingContext(null)}else{this.setBindingContext(undefined)}return this};return t}(t),l=d(a.prototype,"_disconnected",[n],{configurable:true,enumerable:true,writable:true,initializer:null}),a))||o);i.mixInto(v);return v},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/templates/ObjectPage/controls/SubSectionBlock", ["sap/fe/base/ClassSupport","sap/uxap/BlockBase","sap/uxap/library"],function(e,t,r){"use strict";var n,i,o,a,u,l,c;var s=e.property;var p=e.defineUI5Class;var f=e.aggregation;function b(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function d(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,m(e,t)}function m(e,t){return m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},m(e,t)}function y(e,t,r,n,i){var o={};return Object.keys(n).forEach(function(e){o[e]=n[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=r.slice().reverse().reduce(function(r,n){return n(e,t,r)||r},o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer?(Object.defineProperty(e,t,o),null):o}function g(e,t){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}const v=r.BlockBaseFormAdjustment;let h=(n=p("sap.fe.templates.ObjectPage.controls.SubSectionBlock"),i=s({type:"sap.uxap.BlockBaseColumnLayout",group:"Behavior",defaultValue:"4"}),o=f({type:"sap.ui.core.Control",multiple:false}),n(a=(u=function(e){function t(){var t;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++){n[i]=arguments[i]}t=e.call(this,...n)||this;b(t,"columnLayout",l,t);b(t,"content",c,t);return t}d(t,e);var r=t.prototype;r.init=function t(){e.prototype.init.call(this);this._bConnected=true};r._applyFormAdjustment=function e(){const t=this.getFormAdjustment(),r=this._getSelectedViewContent(),n=this._oParentObjectPageSubSection;let i;if(t!==v.None&&r&&n){i=this._computeFormAdjustmentFields(t,n._oLayoutConfig);this._adjustForm(r,i)}};r.setMode=function e(t){this.setProperty("mode",t)};r.connectToModels=function e(){};r._getSelectedViewContent=function e(){return this.getAggregation("content")};return t}(t),l=y(u.prototype,"columnLayout",[i],{configurable:true,enumerable:true,writable:true,initializer:null}),c=y(u.prototype,"content",[o],{configurable:true,enumerable:true,writable:true,initializer:null}),u))||a);return h},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/templates/ObjectPage/flexibility/ScrollableHeaderContainer.flexibility", ["sap/ui/fl/changeHandler/MoveControls"],function(e){"use strict";const n={moveControls:{changeHandler:{applyChange:function(n,t,a){return e.applyChange(n,t,{...a,sourceAggregation:"content",targetAggregation:"content"})},revertChange:e.revertChange,completeChangeContent:e.completeChangeContent}}};return n},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/templates/ObjectPage/flexibility/StashControlAndDisconnect", ["sap/ui/fl/LayerUtils","sap/ui/fl/changeHandler/StashControl"],function(e,n){"use strict";var t={};let a=function(){function a(){}t=a;a.applyChange=async function t(a,i,r){await n.applyChange(a,i,r);if(!e.isDeveloperLayer(a.getLayer())){r.modifier.setProperty(i,"_disconnected",true)}};a.revertChange=async function t(a,i,r){await n.revertChange(a,i,r);if(!e.isDeveloperLayer(a.getLayer())){r.modifier.setProperty(i,"_disconnected",false)}};a.completeChangeContent=function e(){};a.getCondenserInfo=function e(t){return n.getCondenserInfo(t)};a.getChangeVisualizationInfo=function e(t,a){return n.getChangeVisualizationInfo(t,a)};return a}();t=a;return t},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/templates/ObjectPage/flexibility/StashableHBox.flexibility", ["sap/ui/fl/changeHandler/BaseRename","./StashControlAndDisconnect","./UnstashControlAndConnect"],function(e,n,t){"use strict";const a={stashControl:n,unstashControl:t,renameHeaderFacet:e.createRenameChangeHandler({propertyName:"title",translationTextType:"XFLD",changePropertyName:"headerFacetTitle"})};return a},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/templates/ObjectPage/flexibility/StashableVBox.flexibility", ["sap/fe/templates/ObjectPage/flexibility/StashControlAndDisconnect","sap/fe/templates/ObjectPage/flexibility/UnstashControlAndConnect"],function(t,e){"use strict";const n={stashControl:t,unstashControl:e,moveControls:"default"};return n},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/templates/ObjectPage/flexibility/UnstashControlAndConnect", ["sap/ui/fl/LayerUtils","sap/ui/fl/changeHandler/UnstashControl"],function(e,n){"use strict";var t={};let a=function(){function a(){}t=a;a.applyChange=async function t(a,i,r){await n.applyChange(a,i,r);if(!e.isDeveloperLayer(a.getLayer())){r.modifier.setProperty(i,"_disconnected",false)}};a.revertChange=async function t(a,i,r){await n.revertChange(a,i,r);if(!e.isDeveloperLayer(a.getLayer())){r.modifier.setProperty(i,"_disconnected",true)}};a.completeChangeContent=function e(){};a.getCondenserInfo=function e(t){return n.getCondenserInfo(t)};a.getChangeVisualizationInfo=function e(t,a){return n.getChangeVisualizationInfo(t,a)};return a}();t=a;return t},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/templates/ObjectPage/overrides/CollaborationManager", ["sap/base/Log","sap/fe/core/CommonUtils","sap/fe/macros/insights/CommonInsightsHelper"],function(e,t,a){"use strict";var n={};var o=a.showGenericErrorMessage;const s={INTEGRATION:"integration"};n.RetrieveCardTypes=s;const r={async collectAvailableCards(a){const n=this.base.getView();const r=n.getController();const i=r.getOwnerComponent().getAppComponent();const c=t.getIsEditable(n);const l=!c?await i.getCollaborationManagerService().getDesignTimeCard(s.INTEGRATION):undefined;if(l){const t=()=>{try{if(l){i.getCollaborationManagerService().publishCard(l);return}}catch(t){o(n);e.error(t)}};const s=await r._getPageTitleInformation();a.push({card:l,title:s.subtitle||"",callback:t})}}};return r},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/templates/ObjectPage/overrides/IntentBasedNavigation", ["sap/fe/core/CommonUtils","sap/fe/navigation/SelectionVariant"],function(t,e){"use strict";const n={adaptNavigationContext:function(n,i){const o=this.getView(),a=o.getController(),s=this.getView().getBindingContext("internal"),r=s.getProperty("externalNavigationContext");const c=t.getAppComponent(o);const g=c.getModel().getMetaModel();const l=o.getBindingContext();const p=i?.linkContextPath?l.getPath()!==i?.linkContextPath:true;if(r?.page&&p){const s=g.getMetaPath(l.getPath());let r=l.getObject();r=a._intentBasedNavigation.processSemanticAttributes(l,l.getObject());const c=a._intentBasedNavigation.removeSensitiveData(r,s),p=a._intentBasedNavigation.prepareContextForExternalNavigation(c,l),d=p.propertiesWithoutConflict,C=t.addPageContextToSelectionVariant(new e,p.semanticAttributes,o),f=i?.propertiesWithoutConflict;const u=C.getSelectOptionsPropertyNames();u.forEach(function(t){if(!n.getSelectOption(t)){n.massAddSelectOption(t,C.getSelectOption(t))}else{if(f&&t in f){n.massAddSelectOption(f[t],n.getSelectOption(t))}if(t in d){n.massAddSelectOption(d[t],C.getSelectOption(t))}}})}delete i?.propertiesWithoutConflict;delete i?.linkContext;s.setProperty("externalNavigationContext",{page:true})}};return n},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/templates/ObjectPage/overrides/InternalRouting", [],function(){"use strict";const t={onBeforeBinding:function(t,e){this.getView().getController()._onBeforeBinding(t,e)},onAfterBinding:function(t,e){this.getView().getController()._onAfterBinding(t,e)},closeColumn:function(){const t=this.getView().getBindingContext("internal");t.setProperty("fclColumnClosed",true);const e=this.getView().getBindingContext();const n=e&&e.getPath()||"";const o=e.getModel().getMetaModel();const i=o.getMetaPath(n);const s=o.getObject(`${i}/$Type/$Key`);const c=e?.getObject();const g={};for(const t in s){const e=s[t];if(!g[e]){g[e]=c[e]}}t.setProperty("technicalKeysOfLastSeenRecord",g)}};return t},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/templates/ObjectPage/overrides/MessageHandler", ["sap/fe/core/CommonUtils"],function(e){"use strict";const t={getShowBoundMessagesInMessageDialog:function(){return!e.getIsEditable(this.base)||this.base.getView().getBindingContext("internal").getProperty("isOperationDialogOpen")||this.base.getView().getBindingContext("internal").getProperty("getBoundMessagesForMassEdit")},filterContextBoundMessages(e,t){const n=[];e?.forEach(e=>{if(e.getTargets().length===1&&e.getTargets()[0]===t?.getPath()&&e.getPersistent()===true){n.push(e)}});if(n.length===1){e=e?.filter(function(e){return e!==n[0]})}return e}};return t},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/templates/ObjectPage/overrides/Paginator", [],function(){"use strict";const t={onBeforeContextUpdate:function(t,e){const n=this.getView(),o=n&&n.getBindingContext(),i=t&&t.getCurrentContexts(),r=i[e];if(r&&o&&r.getPath()!==o.getPath()){return true}return false},onContextUpdate:function(t){this.base._routing.navigateToContext(t,{callExtension:true})}};return t},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/templates/ObjectPage/overrides/Share", ["sap/base/Log","sap/fe/core/CommonUtils","sap/fe/core/converters/MetaModelConverter","sap/fe/core/converters/helpers/ConfigurableObject","sap/fe/core/helpers/ModelHelper","sap/fe/core/helpers/SemanticKeyHelper","sap/fe/templates/ObjectPage/card/Generator","sap/ui/core/routing/HashChanger","sap/ui/model/Filter","sap/ui/model/FilterOperator"],function(e,t,n,i,o,s,r,a,c,l){"use strict";var g=i.Placement;var f=n.convertTypes;const u="facetIdentifier";const d="adaptive";let p;function h(e,t){const n=Object.keys(e);const i=n.filter(function(t){const n=e[t];return n!==undefined}).map(function(t){const n=e[t];return new c(t,l.EQ,n)});if(t){const e=new c({filters:[new c("SiblingEntity/IsActiveEntity",l.EQ,true)],and:false});i.push(e)}return new c(i,true)}async function b(e,t,n){const i=e.getView().getBindingContext().getModel().bindList(`/${t}`,undefined,undefined,n,{$$groupId:"$auto.Heroes"});return i.requestContexts(0,2).then(function(e){if(e&&e.length){return e[0].getPath()}return""})}function m(e,t,n){const i=[];const s=[];let r=e.getModel().getMetaModel().getMetaPath(e.getPath());if(r.indexOf("/")===0){r=r.substring(1)}const c=r.split("/");const l=a.getInstance().getHash().split("?")[0];const g=l.split("/");const f={};const u=[];g.forEach(function(t){const n=t.substring(t.indexOf("(")+1,t.length-1).split(",");const i={};const s=t.split("(")[0];f[s]={};u.push(s);f[s]["bIsActiveEntityDefined"]=o.isDraftSupported(e.getModel().getMetaModel(),e.getPath())?true:false;for(const o of n){const n=o.split("=");let s=n[1];let r=n[0];if(!o.includes("=")){const i=e.getModel().getMetaModel();const o=i.getObject(`/${u.join("/")}/$Type/$Key`);s=n[0];r=o[0];f[t.split("(")[0]]["bIsActiveEntityDefined"]=false}if(r!=="IsActiveEntity"){if(s.indexOf("'")===0&&s.lastIndexOf("'")===s.length-1){s=decodeURIComponent(s.substring(1,s.length-1))}i[r]=s}}f[s].mKeyValues=i});let d=n;c.forEach(function(t){const i={};const o=d.$NavigationPropertyBinding&&d.$NavigationPropertyBinding[t];if(o){i.pageEntityName=d.$NavigationPropertyBinding[t];d=e.getModel().getMetaModel().getObject(`/${o}`)||n}else{i.pageEntityName=t}i.mKeyValues=f[t]?.mKeyValues;i.bIsActiveEntityDefined=f[t]?.bIsActiveEntityDefined;s.push(i)});s.forEach(function(e){const n=h(e.mKeyValues,!!e.bIsActiveEntityDefined);i.push(b(t,e.pageEntityName,n))});return i}async function y(t,n){const i=a.getInstance().getHash().split("?")[0];let o=i&&i.substring(0,i.indexOf("("));if(o.indexOf("/")===0){o=o.substring(1)}const s=t.getModel().getMetaModel().getObject(`/${o}`);const r=t;const c=m(t,n,s);if(c.length>0){return Promise.all(c).then(function(e){const t=[];let n=s;if(e[0]?.indexOf("/")===0){t.push(e[0].substring(1))}else{t.push(e[0])}for(let i=1;i<e.length;i++){let o=e[i];let a="";let c=o&&o.substring(0,o.indexOf("("));if(c?.indexOf("/")===0){c=c.substring(1)}if(o?.indexOf("/")===0){o=o.substring(1)}a=Object.keys(n.$NavigationPropertyBinding)[Object.values(n.$NavigationPropertyBinding).indexOf(c)];if(a){t.push(o?.replace(c,a));n=r.getModel().getMetaModel().getObject(`/${c}`)||s}else{t.push(o)}}return t}).catch(function(t){e.info("Failed to retrieve one or more active context path's",t);return[]})}else{return Promise.resolve([])}}async function w(e,t){let n,i;const r=a.getInstance().getHash().split("?")[0];if(e){const t=e.getModel();const n=t.getMetaModel();p=o.isStickySessionSupported(n);let a=r&&r.substring(0,r.indexOf("("));if(a.indexOf("/")===0){a=a.substring(1)}i=s.getSemanticKeys(n,a)}const c=t.getView().getViewData();if(e&&!p&&(c.viewLevel===1&&!i||c.viewLevel>=2)){n=y(e,t);return n}else{return Promise.resolve([])}}function v(e,t,n){let i;const o=a.getInstance().getHash();const s=a.getInstance().hrefForAppSpecificHash?a.getInstance().hrefForAppSpecificHash(""):"";if(e&&!t&&n){i=s+n.join("/")}else{i=o?s+o:window.location.hash}return window.location.origin+window.location.pathname+window.location.search+i}async function I(){const t=sap.ui.require("sap/ushell/Container");if(t){return t.getFLPUrlAsync(true).then(function(e){return e}).catch(function(t){e.error("Could not retrieve cFLP URL for the sharing dialog (dialog will not be opened)",t)})}else{return Promise.resolve(document.URL)}}function M(t,n,i){let o;const s=a.getInstance().getHash();const r=a.getInstance().hrefForAppSpecificHash?a.getInstance().hrefForAppSpecificHash(""):"";if(t&&!n&&i){o=r+i.join("/")}else{o=s?r+s:window.location.hash}const c=sap.ui.require("sap/ushell/Container");if(c&&c.runningInIframe&&c.runningInIframe()){c.getFLPUrl(true).then(function(e){return e.substring(0,e.indexOf("#"))+o}).catch(function(t){e.error("Could not retrieve cFLP URL for the sharing dialog (dialog will not be opened)",t)})}else{return Promise.resolve(window.location.origin+window.location.pathname+o)}}function P(e,t){const n="_fe_ms_teams";const i=e.getModel();const o=e.getModel().oRequestor;const s=t.map(e=>e.replace(".","/"));e.requestSideEffects(s,n);const r=o.mBatchQueue?.[n]?.splice(1);if(r&&r.length>0){const e=r.reduce((e,t)=>t.url.length>e.length?t.url:e,"");r.forEach(t=>{delete t.$owner;t.url=e});const t=o.mergeGetRequests(r)[0];const s=O(i.getServiceUrl());delete o.mBatchQueue[n];return`${s}${t.url}`}}function C(e){const t=e.getHeaderTitle();const n=t.getActions();return n.reduce((e,t)=>{if(t?.isA?.("sap.m.Button")){e.push(t)}else if(t?.isA?.("sap.m.MenuButton")){const n=t.getMenu();const i=n.getItems();e=[...e,...i]}return e},[])}function O(e){const t=new RegExp("^(?:[a-z]+:)?//","i");if(t.test(e)){return e}return`${window.location.origin}${e}`}const x={adaptShareMetadata:async function(n){const i=this.base.getView().getBindingContext();const o=t.getIsEditable(this.base.getView());try{const e=this.base.getAppComponent().getManifest();const t=e?.["sap.app"]?.id;const s=e?.["sap.app"]?.title;const r=await w(i,this.base.getView().getController());const a=await this.base.getView().getController()._getPageTitleInformation();const c=await Promise.all([M(o,p,r),v(o,p,r),I()]);let l=a.title;const g=a.subtitle?a.subtitle.toString():"";if(g){l=`${l} - ${g}`}n.tile={title:a.title,subtitle:g};n.email.title=l;n.title=l;n.jam.url=c[0];n.url=c[1];n.email.url=c[2];const f=this.base?.getView()?.getModel("shareInfo");const u=await this.getTeamsUrl(n.url);if(f){f.setProperty("/collaborationInfo/url",u);f.setProperty("/collaborationInfo/appTitle",s);f.setProperty("/collaborationInfo/subTitle",g);f.setProperty("/collaborationInfo/appId",t)}}catch(t){e.error(t)}return n},getCardDefinition:async function(){let t;const n=this.base.getView();const i=this.base.getView().getBindingContext();const o=i?.getModel();const s=o?.getMetaModel();const a=n.getController();const c=a.getAppComponent();t=await c.getCollaborationManagerService().getDesignTimeCard(d);if(!t&&o&&s&&i){const e=O(o.getServiceUrl());const n=f(s);const c=i.getPath();const l=`${e}${c.substring(1)}`;const g=`${s.getMetaPath(i.getPath())}/`;const u=a.getAppComponent().getShellServices();const d={contextPath:g,bindingContextPath:c};const p={headerFacets:x.getHeaderFacetsConfig(a),actions:x.getActionsConfig(a),webUrl:l,serviceURI:e,objectTitle:await u.getTitle(),appUrl:this.base.getView().getModel("shareInfo")?.getProperty("/collaborationInfo/url"),contextInfo:d};const h=new r(n,p);const b=h.getPathsToQuery();const m=P(i,b);t=h.getCardDefinition(m)}else if(!t){e.error("FE V4 : Share Object Page controller extension : Card was not created")}return t},getActionsConfig:function(e){const t=e.getView().getViewData().content?.header?.actions||{};const n=e._getObjectPageLayoutControl();const i=C(n);const o=i.reduce((e,n)=>{const i=n.data("annotatedActionIdentifier");if(i){e[i]={title:n.getText()};if(t[i]){e[i].isVisible=this.getActionVisibilityViaManifest(t[i])}}return e},{});Object.keys(t).forEach(e=>{if(e.startsWith("DataFieldForAction")&&!o[e]){const n=this.getActionVisibilityViaManifest(t[e]);if(n!==undefined){o[e]={isVisible:n}}}});return o},getActionVisibilityViaManifest:function(e){let t=typeof e.visible==="boolean"?e.visible:undefined;if(typeof e.visible==="string"){t=e.visible==="true"?true:false}if(t!==false){if(e.enabled===false||typeof e.enabled==="string"&&e.enabled!=="true"){t=false}}return t},getHeaderFacetsConfig:function(e){const t=e._getObjectPageLayoutControl().getHeaderContent()[0]?.getItems();const n=t?.reduce((e,t)=>{const n=t.data(u);if(n&&t.isA("sap.fe.templates.ObjectPage.controls.StashableHBox")){const i=x._getFacetLabelsInfo(t);const o={isVisible:t.isBound("visible")?undefined:t.getVisible(),title:t.getTitle(),position:{placement:g.After,anchor:Object.keys(e).pop()||""},formElementsConfig:i};e[n]=o;return e}return e},{});return n},_getFacetLabelsInfo(e){const t=e.getFormLabels();return t.reduce((e,t)=>{const n=t.data("labelIdentifier");const i=t.getText();if(n){e[n]={labelText:i.endsWith(":")?i.substring(0,i.length-1):i}}return e},{})}};return x},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/templates/ObjectPage/overrides/ViewState", ["sap/base/Log","sap/fe/core/CommonUtils","sap/fe/core/helpers/KeepAliveHelper","sap/fe/core/helpers/ModelHelper","sap/fe/core/library"],function(e,t,n,r,o){"use strict";const i=o.VariantManagement;const a={retrieve:function(e){return{selectedSection:e.getSelectedSection()}},apply:function(t,n){const r=n?.selectedSection;if(r){const n=t.getSections().find(e=>e.getId()===r);if(n?.getVisible()===false){const n=this.getView().getController();n.pageReady.waitPageReady().then(function(){t.setSelectedSection(r);return undefined}).catch(t=>{const n=t instanceof Error?t.message:String(t);e.error(`FE V4 : OP : ViewState : ObjectPageLayout state couldn't be applied : ${n}`)})}else{t.setSelectedSection(r)}}},refreshBinding:function(o){const i=o.getBindingContext();const a=i&&i.getBinding();if(a){const e=r.getMetaPathForContext(i);const s=n.getControlRefreshStrategyForContextPath(o,e);if(s==="self"){const n=i.getModel(),r=n.getMetaModel(),o=t.getContextPathProperties(r,e,{$kind:"NavigationProperty"})||{},s=Object.keys(o).reduce(function(e,t){if(o[t].$isCollection!==true){e.push({$NavigationPropertyPath:t})}return e},[]),c=[{$PropertyPath:"*"}],l=a.getGroupId();i.requestSideEffects(c.concat(s),l)}else if(s==="includingDependents"){a.refresh()}}else{e.info(`ObjectPage: ${o.getId()} was not refreshed. No binding found!`)}}};const s={_getObjectPageLayout:function(){const e=this.getView();const t=e.getController();return t._getObjectPageLayoutControl()},_getOPStateHandler:function(e){const t=s._getObjectPageLayout.call(this);if(t===e){return{retrieve:a.retrieve,apply:a.apply}}},_getOPRefreshHandler:function(e){const t=s._getObjectPageLayout.call(this);if(t===e){return{refreshBinding:a.refreshBinding}}},adaptControlStateHandler:function(e,t){const n=s._getOPStateHandler.call(this,e);if(n){t.push(n)}},adaptBindingRefreshHandler:function(e,t){const n=s._getOPRefreshHandler.call(this,e);if(n){t.refreshBinding=n.refreshBinding}},applyInitialStateOnly:function(){return false},adaptStateControls:function(e){const t=this.base.getView(),n=t.getViewData();switch(n.variantManagement){case i.Control:break;case i.Page:case i.None:break;default:throw new Error(`unhandled variant setting: ${n.variantManagement}`)}e.push(t.byId("fe::ObjectPage"))},adaptBindingRefreshControls:function(e){const t=this.base.getView(),r=n.getViewRefreshInfo(t),o=t.getController();let i=[];if(r){const e=o._getObjectPageLayoutControl();i.push(e)}if(r!=="includingDependents"){const e=o._findTables();i=i.concat(n.getControlsForRefresh(t,e)||[])}return i.reduce(function(e,t){if(!e.includes(t)){e.push(t)}return e},e)}};return s},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/templates/ObjectPage/view/fragments/TransportSelection", ["sap/fe/base/BindingToolkit","sap/fe/base/ClassSupport","sap/fe/base/HookSupport","sap/fe/core/buildingBlocks/BuildingBlock","sap/fe/core/helpers/BindingHelper","sap/fe/core/templating/DataModelPathHelper","sap/fe/core/templating/FieldControlHelper","sap/fe/core/templating/UIFormatters","sap/fe/macros/field/FieldTemplating","sap/m/Link","sap/m/MessageStrip","sap/ui/core/message/MessageType","sap/fe/base/jsx-runtime/jsx"],function(e,t,i,r,n,s,a,o,l,p,c,u,f){"use strict";var T,d,g,h,b,v;var y={};var E=l.getTextBindingExpression;var P=o.getActionEnabledExpression;var S=a.isRequiredExpression;var m=s.getRelativePaths;var O=s.enhanceDataModelPath;var x=n.UI;var R=i.controllerExtensionHandler;var _=t.property;var A=t.defineUI5Class;var C=e.pathInModel;var j=e.not;var N=e.ifElse;var I=e.concat;var k=e.and;function B(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function L(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,w(e,t)}function w(e,t){return w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},w(e,t)}function M(e,t,i,r,n){var s={};return Object.keys(r).forEach(function(e){s[e]=r[e]}),s.enumerable=!!s.enumerable,s.configurable=!!s.configurable,("value"in s||s.initializer)&&(s.writable=!0),s=i.slice().reverse().reduce(function(i,r){return r(e,t,i)||i},s),n&&void 0!==s.initializer&&(s.value=s.initializer?s.initializer.call(n):void 0,s.initializer=void 0),void 0===s.initializer?(Object.defineProperty(e,t,s),null):s}function z(e,t){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let q=(T=A("sap.fe.templates.ObjectPage.view.fragments.TransportSelection"),d=_({type:"boolean"}),g=R("editFlow","onBeforeSave"),T(h=(b=function(e){function t(t,i){var r;r=e.call(this,t,i)||this;B(r,"leadingControl",v,r);return r}y=t;L(t,e);var i=t.prototype;i.onMetadataAvailable=function t(i){e.prototype.onMetadataAvailable.call(this,i);this.content=this.createContent()};i.selectTransport=async function e(){if(!this.selectTransportAction){return Promise.resolve()}const t=this.getBindingContext();const i=this.messageStrip.getLink().getText();return this.getPageController()?.editFlow.invokeAction(this.selectTransportAction,{contexts:t,label:i})};i.getTypeExpression=function e(){const t=m(this.transportPropertyObjectPath);const i=S(this.transportPropertyObjectPath.targetObject,t);return N(k(i,j(C(this.definition?.transportRequestProperty))),u.Warning,u.Information)};i.getLinkTextExpression=function e(){return N(C(this.definition?.transportRequestProperty),this.getTranslatedText("T_TRANSPORT_SELECTION_CHANGE_TRANSPORT"),this.getTranslatedText("T_TRANSPORT_SELECTION_SELECT_TRANSPORT"))};i.getStripText=function e(){const t=E(this.transportPropertyObjectPath,{});const i=this.getTranslatedText("T_TRANSPORT_SELECTION_NO_TRANSPORT_SELECTED");const r=I(`${this.getTranslatedText("T_TRANSPORT_SELECTION_SELECTED_TRANSPORT")} `,t);return N(C(this.definition?.transportRequestProperty),r,i)};i.getStripVisible=function e(){return N(this.actionEnabledExpression,x.IsEditable,false)};i.createContent=function e(){const t=this.getDataModelObjectPath();this.definition=this.getManifestWrapper()?.getTransportSelection();if(this.definition){let e=t?.targetEntityType.actions[this.definition.selectTransportAction];if(!e){e=t?.targetEntityType.actions[`${t?.convertedTypes.namespace}.${this.definition.selectTransportAction}`]}if(t&&e){this.selectTransportAction=e.fullyQualifiedName;this.actionEnabledExpression=P(e,t?.convertedTypes,t);this.transportPropertyObjectPath=O(t,this.definition.transportRequestProperty);this.messageStrip=f(c,{text:this.getStripText(),type:this.getTypeExpression(),showIcon:"true",customIcon:"sap-icon://shipping-status",class:"sapUiSmallMarginTop",visible:this.getStripVisible(),children:{link:f(p,{press:this.selectTransport.bind(this),text:this.getLinkTextExpression()})}});return this.messageStrip}}};i.validateTransportRequestBeforeSave=async function e(){if(this.messageStrip.getVisible()&&this.messageStrip.getType()===u.Warning&&this.leadingControl&&this.definition){return this.selectTransport()}return Promise.resolve()};return t}(r),v=M(b.prototype,"leadingControl",[d],{configurable:true,enumerable:true,writable:true,initializer:null}),M(b.prototype,"validateTransportRequestBeforeSave",[g],Object.getOwnPropertyDescriptor(b.prototype,"validateTransportRequestBeforeSave"),b.prototype),b))||h);y=q;return y},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/templates/TableScroller", [],function(){"use strict";const e={scrollTableToRow:function(e,n){const t=e.getRowBinding();const o=function(){const o=t.getAllCurrentContexts().find(e=>e.getPath()===n);if(o&&o.getIndex()!==undefined){e.scrollToIndex(o.getIndex())}};if((e.getGroupConditions()===undefined||e.getGroupConditions()?.groupLevels?.length===0)&&t){const e=t.getAllCurrentContexts();if(e.length===0&&t.getLength()>0||e.some(function(e){return e===undefined})){t.attachEventOnce("dataReceived",o)}else{o()}}}};return e},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/templates/library", ["sap/f/library","sap/fe/core/library","sap/fe/macros/library","sap/fe/templates/ListReport/view/fragments/MultipleMode.block","sap/ui/base/DataType","sap/ui/core/Lib","sap/ui/core/library","sap/ui/fl/library"],function(e,a,s,t,p,i,r,c){"use strict";var o={};const n="sap.fe.templates";o.templatesNamespace=n;const l="sap.fe.templates.ListReport";o.templatesLRNamespace=l;const f="sap.fe.templates.ObjectPage";o.templatesOPNamespace=f;const m=i.init({name:"sap.fe.templates",apiVersion:2,dependencies:["sap.ui.core","sap.fe.core","sap.fe.macros","sap.m","sap.f","sap.ui.mdc","sap.ui.fl"],types:["sap.fe.templates.ObjectPage.SectionLayout"],interfaces:[],controls:[],elements:[],version:"1.141.1",noLibraryCSS:true});if(!m.ObjectPage){m.ObjectPage={}}m.ObjectPage.SectionLayout={Page:"Page",Tabs:"Tabs"};p.registerEnum("sap.fe.templates.ObjectPage.SectionLayout",m.ObjectPage.SectionLayout);t.register();return m},false);
sap.ui.require.preload({
	"sap/fe/base/manifest.json":'{"_version":"1.21.0","sap.app":{"id":"sap.fe.base","type":"library","embeds":[],"applicationVersion":{"version":"1.141.1"},"title":"UI5 library: sap.fe.base","description":"UI5 library: sap.fe.base","ach":"CA-UI5-FE","resources":"resources.json","offline":true},"sap.ui":{"technology":"UI5","supportedThemes":[]},"sap.ui5":{"dependencies":{"minUI5Version":"1.141","libs":{"sap.ui.core":{"minVersion":"1.141.0"}}},"library":{"i18n":false,"css":false,"content":{"controls":[],"elements":[],"types":[],"interfaces":[]}}}}',
	"sap/fe/controls/manifest.json":'{"_version":"1.21.0","sap.app":{"id":"sap.fe.controls","type":"library","embeds":[],"applicationVersion":{"version":"1.141.1"},"title":"UI5 library: sap.fe.controls","description":"UI5 library: sap.fe.controls","ach":"CA-UI5-FE","resources":"resources.json","offline":true},"sap.ui":{"technology":"UI5","supportedThemes":["base","sap_belize","sap_belize_base","sap_belize_hcb","sap_belize_hcw","sap_belize_plus","sap_fiori_3","sap_fiori_3_dark","sap_fiori_3_hcb","sap_fiori_3_hcw","sap_horizon","sap_horizon_dark","sap_horizon_hcb","sap_horizon_hcw"]},"sap.ui5":{"dependencies":{"minUI5Version":"1.141","libs":{"sap.ui.core":{"minVersion":"1.141.0"},"sap.fe.base":{"minVersion":"1.141.1"},"sap.m":{"minVersion":"1.141.0"},"sap.ui.unified":{"minVersion":"1.141.0"}}},"library":{"i18n":{"bundleUrl":"messagebundle.properties","supportedLocales":["","ar","bg","ca","cnr","cs","cy","da","de","el","en","en-GB","en-US-saprigi","en-US-saptrc","es","es-MX","et","fi","fr","fr-CA","hi","hr","hu","id","it","iw","ja","kk","ko","lt","lv","mk","ms","nl","no","pl","pt","pt-PT","ro","ru","sh","sk","sl","sr","sv","th","tr","uk","vi","zh-CN","zh-TW"]},"content":{"controls":[],"elements":[],"types":[],"interfaces":[]}}}}',
	"sap/fe/core/controls/NonComputedVisibleKeyFieldsDialog.fragment.xml":'<core:FragmentDefinition\n\txmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"\n\txmlns="sap.m"\n\txmlns:core="sap.ui.core"\n\txmlns:mdc="sap.ui.mdc"\n\txmlns:mdcv="sap.ui.mdc.valuehelp"\n\txmlns:mdcvc="sap.ui.mdc.valuehelp.content"\n\txmlns:form="sap.ui.layout.form"\n\txmlns:customData="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1"\n\ttemplate:require="{\n\t\tMODEL: \'sap/ui/model/odata/v4/AnnotationHelper\',\n\t\tCOMMON: \'sap/fe/macros/CommonHelper\',\n\t\tID: \'sap/fe/core/helpers/StableIdHelper\',\n\t\tValueHelpTemplating: \'sap/fe/macros/internal/valuehelp/ValueHelpTemplating\',\n\t\tProperty: \'sap/fe/core/templating/PropertyFormatters\',\n\t\tFIELD: \'sap/fe/macros/field/FieldHelper\',\n\t\tUI: \'sap/fe/core/templating/UIFormatters\'\n\t}"\n><template:with path="fields>" var="allFields"><form:SimpleForm><template:repeat list="{allFields>}" var="key"><template:with path="key>" helper="COMMON.getPathToKey" var="immutableKey"><Label text="{= ${immutableKey>@com.sap.vocabularies.Common.v1.Label}}" /><mdc:Field\n\t\t\t\t\t\tdelegate="{name:\'sap/fe/macros/field/FieldBaseDelegate\', payload:{retrieveTextFromValueList:true}}"\n\t\t\t\t\t\tid="{= ID.generate([\'CreateDialog\', ${entitySet>@sapui.name}, ${immutableKey>@sapui.name}]) }"\n\t\t\t\t\t\tvalue="{immutableKey>@@MODEL.format}"\n\t\t\t\t\t\tplaceholder="{immutableKey>@com.sap.vocabularies.UI.v1.Placeholder@@MODEL.value}"\n\t\t\t\t\t\twidth="100%"\n\t\t\t\t\t\trequired="{= FIELD.getRequired(${immutableKey>@sapui.name}, ${immutableKey>@@UI.getDataModelObjectPath}, ${requiredProperties>})}"\n\t\t\t\t\t\tdisplay="{immutableKey>@@FIELD.getAPDialogDisplayFormat}"\n\t\t\t\t\t\tchange="{= \'.handleChange($event, \\\'\' + ${immutableKey>@sapui.name} + \'\\\')\' }"\n\t\t\t\t\t\tliveChange=".handleLiveChange"\n\t\t\t\t\t\tvalueHelp="{= ${immutableKey>@@Property.hasValueHelp} ? ID.generate([${immutableKey>@sapui.name},\'VH\']) : undefined }"\n\t\t\t\t\t\tcustomData:fieldName="{immutableKey>@sapui.name}"\n\t\t\t\t\t\teditMode="{= ${immutableKey>@com.sap.vocabularies.Common.v1.FieldControl} &amp;&amp; ${immutableKey>@com.sap.vocabularies.Common.v1.FieldControl/$EnumMember} &amp;&amp; ${immutableKey>@com.sap.vocabularies.Common.v1.FieldControl/$EnumMember} === \'com.sap.vocabularies.Common.v1.FieldControlType/ReadOnly\' ? \'Display\' : \'Editable\'}"\n\t\t\t\t\t><template:if test="{immutableKey>@@Property.hasValueHelp}"><template:then><mdc:dependents><mdc:ValueHelp\n\t\t\t\t\t\t\t\t\t\tid="{= ID.generate([${immutableKey>@sapui.name},\'VH\']) }"\n\t\t\t\t\t\t\t\t\t\tdelegate="{= FIELD.getValueHelpDelegateForNonComputedVisibleKeyField(${immutableKey>@@Property.getPropertyPath}) }"\n\t\t\t\t\t\t\t\t\t\tvalidateInput="{= ValueHelpTemplating.requiresValidation(${immutableKey>@@Property.getProperty})}"\n\t\t\t\t\t\t\t\t\t><mdc:typeahead><mdcv:Popover><mdcvc:MTable\n\t\t\t\t\t\t\t\t\t\t\t\t\tid="{= ID.generate([${immutableKey>@sapui.name},\'VH\']) }::Popover::qualifier::"\n\t\t\t\t\t\t\t\t\t\t\t\t\tcaseSensitive="{= ValueHelpTemplating.useCaseSensitiveFilterRequests(${immutableKey>@@Property.getPropertyObjectPath}, ${immutableKey>/@Org.OData.Capabilities.V1.FilterFunctions})}"\n\t\t\t\t\t\t\t\t\t\t\t\t\tuseAsValueHelp="{= ${immutableKey>@com.sap.vocabularies.Common.v1.ValueListWithFixedValues} || false}"\n\t\t\t\t\t\t\t\t\t\t\t\t/></mdcv:Popover></mdc:typeahead><template:if\n\t\t\t\t\t\t\t\t\t\t\ttest="{= ${immutableKey>@com.sap.vocabularies.Common.v1.ValueListWithFixedValues} ? (${immutableKey>@com.sap.vocabularies.Common.v1.ValueListWithFixedValues} === \'true\') : true}"\n\t\t\t\t\t\t\t\t\t\t><mdc:dialog><mdcv:Dialog /></mdc:dialog></template:if></mdc:ValueHelp></mdc:dependents></template:then></template:if></mdc:Field></template:with></template:repeat></form:SimpleForm></template:with></core:FragmentDefinition>\n',
	"sap/fe/core/rootView/Fcl.view.xml":'<mvc:View xmlns:mvc="sap.ui.core.mvc" xmlns="sap.f" displayBlock="true" height="100%" controllerName="sap.fe.core.rootView.Fcl"><FlexibleColumnLayout\n\t\tid="appContent"\n\t\tcolumnsDistributionChange="onColumnsDistributionChange"\n\t\tbackgroundDesign="Transparent"\n\t\trestoreFocusOnBackNavigation="true"\n\t\tautoFocus="false"\n\t><layoutData><FlexibleColumnLayoutData><desktopLayoutData><FlexibleColumnLayoutDataForDesktop\n\t\t\t\t\t\ttwoColumnsBeginExpanded="{internal>/FCLColumnsDistribution/desktop/TwoColumnsBeginExpanded}"\n\t\t\t\t\t\ttwoColumnsMidExpanded="{internal>/FCLColumnsDistribution/desktop/TwoColumnsMidExpanded}"\n\t\t\t\t\t\tthreeColumnsBeginExpandedEndHidden="{internal>/FCLColumnsDistribution/desktop/ThreeColumnsBeginExpandedEndHidden}"\n\t\t\t\t\t\tthreeColumnsEndExpanded="{internal>/FCLColumnsDistribution/desktop/ThreeColumnsEndExpanded}"\n\t\t\t\t\t\tthreeColumnsMidExpanded="{internal>/FCLColumnsDistribution/desktop/ThreeColumnsMidExpanded}"\n\t\t\t\t\t\tthreeColumnsMidExpandedEndHidden="{internal>/FCLColumnsDistribution/desktop/ThreeColumnsMidExpandedEndHidden}"\n\t\t\t\t\t/></desktopLayoutData><tabletLayoutData><FlexibleColumnLayoutDataForTablet\n\t\t\t\t\t\ttwoColumnsBeginExpanded="{internal>/FCLColumnsDistribution/tablet/TwoColumnsBeginExpanded}"\n\t\t\t\t\t\ttwoColumnsMidExpanded="{internal>/FCLColumnsDistribution/tablet/TwoColumnsMidExpanded}"\n\t\t\t\t\t\tthreeColumnsBeginExpandedEndHidden="{internal>/FCLColumnsDistribution/tablet/ThreeColumnsBeginExpandedEndHidden}"\n\t\t\t\t\t\tthreeColumnsEndExpanded="{internal>/FCLColumnsDistribution/tablet/ThreeColumnsEndExpanded}"\n\t\t\t\t\t\tthreeColumnsMidExpanded="{internal>/FCLColumnsDistribution/tablet/ThreeColumnsMidExpanded}"\n\t\t\t\t\t\tthreeColumnsMidExpandedEndHidden="{internal>/FCLColumnsDistribution/tablet/ThreeColumnsMidExpandedEndHidden}"\n\t\t\t\t\t/></tabletLayoutData></FlexibleColumnLayoutData></layoutData></FlexibleColumnLayout></mvc:View>\n',
	"sap/fe/core/rootView/NavContainer.view.xml":'<mvc:View xmlns:mvc="sap.ui.core.mvc" xmlns="sap.m" displayBlock="true" height="100%" controllerName="sap.fe.core.rootView.NavContainer"><NavContainer id="appContent" autoFocus="false" /></mvc:View>\n',
	"sap/fe/core/services/view/TemplatingErrorPage.view.xml":'<mvc:View xmlns:mvc="sap.ui.core.mvc" xmlns="sap.m" controllerName="sap.fe.core.services.view.TemplatingErrorPage"><Page showHeader="false"><IllustratedMessage\n\t\t\tillustrationType="sapIllus-UnableToLoad"\n\t\t\ttitle="{sap.fe.i18n>T_TEMPLATING_ERROR_PAGE_SAPFE_APPSTART_TEMPLATING_FAILED}"\n\t\t\tdescription="{= ${error>/message} ? ${error>/message} : \'\'}"\n\t\t/></Page></mvc:View>\n',
	"sap/fe/macros/contact/ContactQuickView.fragment.xml":'<core:FragmentDefinition\n\txmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"\n\txmlns:core="sap.ui.core"\n\txmlns="sap.m"\n\txmlns:f="sap.ui.layout.form"\n\txmlns:contact="sap.fe.macros.contact"\n\ttemplate:require="{\n\t\t\t\tMODEL: \'sap/ui/model/odata/v4/AnnotationHelper\'\n\t\t\t\t}"\n><template:if test="{contact>}"><VBox class="sapUiSmallMarginTop"><contact:CollaborativeHeader\n\t\t\t\tfullName="{contact>fn@@MODEL.format}"\n\t\t\t\trole="{contact>role@@MODEL.format}"\n\t\t\t\tphotoSrc="{= ${contact>photo@@MODEL.format} ? ${contact>photo@@MODEL.format} : \'sap-icon://person-placeholder\' }"\n\t\t\t\tmail="{payload>/mail}"\n\t\t\t\tisNaturalPerson="{payload>/isNaturalPerson}"\n\t\t\t/><contact:TeamContactOptions mail="{payload>/mail}" /><f:SimpleForm editable="false" layout="ResponsiveGridLayout" maxContainerCols="1" class="sapMQuickViewPage sapUiSmallMarginTop"><core:Fragment fragmentName="sap.fe.macros.contact.ContactQuickViewGroup" type="XML" /></f:SimpleForm></VBox></template:if></core:FragmentDefinition>\n',
	"sap/fe/macros/contact/ContactQuickViewGroup.fragment.xml":'<core:FragmentDefinition\n\txmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"\n\txmlns:core="sap.ui.core"\n\txmlns="sap.m"\n\ttemplate:require="{\n\t\t\t\t\tCONTACT: \'sap/fe/macros/contact/ContactHelper\',\n\t\t\t\t\tUI: \'sap/fe/core/templating/UIFormatters\',\n\t\t\t\t\tMODEL: \'sap/ui/model/odata/v4/AnnotationHelper\'\n\t}"\n><Label text="{sap.fe.i18n>POPOVER_CONTACT_SECTION_JOBTITLE}" visible="{= !!${contact>title}}" /><Text text="{contact>title@@MODEL.format}" visible="{= !!${contact>title}}" emptyIndicatorMode="On" /><Label text="{sap.fe.i18n>POPOVER_CONTACT_SECTION_DEPARTMENT}" visible="{= !!${contact>org}}" /><Text text="{contact>org@@MODEL.format}" visible="{= !!${contact>org}}" emptyIndicatorMode="On" /><template:if test="{contact>tel}"><template:with path="contact>tel" var="tels"><template:repeat\n\t\t\t\tlist="{path:\'tels>\', filters: { path: \'type/$EnumMember\', operator: \'EndsWith\', value1: \'preferred\'}}"\n\t\t\t\tvar="tel"\n\t\t\t><Label text="{= CONTACT.computePhoneLabel(${tel>type/$EnumMember})}" /><Link\n\t\t\t\t\ttext="{tel>uri/@@MODEL.format}"\n\t\t\t\t\thref="{= CONTACT.formatUri(\'phone\', ${tel>uri/@@MODEL.format})}"\n\t\t\t\t\twrapping="true"\n\t\t\t\t\temptyIndicatorMode="On"\n\t\t\t\t/></template:repeat><template:repeat list="{path:\'tels>\', filters: { path: \'type/$EnumMember\', operator: \'EndsWith\', value1: \'work\'}}" var="tel"><Label text="{= CONTACT.computePhoneLabel(${tel>type/$EnumMember})}" /><Link\n\t\t\t\t\ttext="{tel>uri/@@MODEL.format}"\n\t\t\t\t\thref="{= CONTACT.formatUri(\'phone\', ${tel>uri/@@MODEL.format})}"\n\t\t\t\t\twrapping="true"\n\t\t\t\t\temptyIndicatorMode="On"\n\t\t\t\t/></template:repeat><template:repeat list="{path:\'tels>\', filters: { path: \'type/$EnumMember\', operator: \'EndsWith\', value1: \'cell\'}}" var="tel"><Label text="{= CONTACT.computePhoneLabel(${tel>type/$EnumMember})}" /><Link\n\t\t\t\t\ttext="{tel>uri/@@MODEL.format}"\n\t\t\t\t\thref="{= CONTACT.formatUri(\'phone\', ${tel>uri/@@MODEL.format})}"\n\t\t\t\t\twrapping="true"\n\t\t\t\t\temptyIndicatorMode="On"\n\t\t\t\t/></template:repeat><template:repeat list="{path:\'tels>\', filters: { path: \'type/$EnumMember\', operator: \'EndsWith\', value1: \'fax\'}}" var="tel"><Label text="{= CONTACT.computePhoneLabel(${tel>type/$EnumMember})}" /><Link\n\t\t\t\t\ttext="{tel>uri/@@MODEL.format}"\n\t\t\t\t\thref="{= CONTACT.formatUri(\'phone\', ${tel>uri/@@MODEL.format})}"\n\t\t\t\t\twrapping="true"\n\t\t\t\t\temptyIndicatorMode="On"\n\t\t\t\t/></template:repeat></template:with></template:if><template:if test="{contact>email}"><template:with path="contact>email" var="emails"><template:repeat\n\t\t\t\tlist="{path:\'emails>\', filters: { path: \'type/$EnumMember\', operator: \'EndsWith\', value1: \'preferred\'}}"\n\t\t\t\tvar="mail"\n\t\t\t><Label text="{sap.fe.i18n>POPOVER_CONTACT_SECTION_EMAIL}" /><Link\n\t\t\t\t\ttext="{mail>address/@@MODEL.format}"\n\t\t\t\t\thref="{= CONTACT.formatUri(\'mail\', ${mail>address/@@MODEL.format})}"\n\t\t\t\t\twrapping="true"\n\t\t\t\t\temptyIndicatorMode="On"\n\t\t\t\t/></template:repeat><template:repeat list="{path:\'emails>\', filters: { path: \'type/$EnumMember\', operator: \'EndsWith\', value1: \'work\'}}" var="mail"><Label text="{sap.fe.i18n>POPOVER_CONTACT_SECTION_EMAIL}" /><Link\n\t\t\t\t\ttext="{mail>address/@@MODEL.format}"\n\t\t\t\t\thref="{= CONTACT.formatUri(\'mail\', ${mail>address/@@MODEL.format})}"\n\t\t\t\t\twrapping="true"\n\t\t\t\t\temptyIndicatorMode="On"\n\t\t\t\t/></template:repeat></template:with></template:if><template:if test="{contact>adr}"><template:with path="contact>adr" var="adrs"><template:repeat list="{adrs>}" var="adr"><template:if test="{adr>label}"><template:then><Label text="{sap.fe.i18n>POPOVER_CONTACT_SECTION_ADR}" /><Text text="{adr>label/@@MODEL.format}" emptyIndicatorMode="On" /></template:then><template:else><Label text="{sap.fe.i18n>POPOVER_CONTACT_SECTION_ADR}" /><Text\n\t\t\t\t\t\t\ttext="{= CONTACT.formatAddress(${adr>street/@@MODEL.format}, ${adr>code/@@MODEL.format}, ${adr>locality/@@MODEL.format}, ${adr>region/@@MODEL.format}, ${adr>country/@@MODEL.format})}"\n\t\t\t\t\t\t\temptyIndicatorMode="On"\n\t\t\t\t\t\t/></template:else></template:if></template:repeat></template:with></template:if></core:FragmentDefinition>\n',
	"sap/fe/macros/filter/CustomFilter.fragment.xml":'<core:FragmentDefinition\n\txmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"\n\txmlns="sap.m"\n\txmlns:mdc="sap.ui.mdc"\n\txmlns:core="sap.ui.core"\n\txmlns:controls="sap.fe.macros.controls"\n\txmlns:macros="sap.fe.macros.table"\n\txmlns:fpm="sap.fe.macros.fpm"\n\txmlns:customData="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1"\n\txmlns:fieldhelp="sap.ui.core.fieldhelp"\n\ttemplate:require="{\n\t\t\tID: \'sap/fe/core/helpers/StableIdHelper\',\n\t\t\tFIELD: \'sap/fe/macros/field/FieldHelper\',\n\t\t\tFILTERFIELD: \'sap/fe/macros/filter/FilterFieldHelper\',\n\t\t\tFILTER: \'sap/fe/macros/filter/FilterUtils\',\n\t\t\tMACRO: \'sap/fe/macros/MacroTemplating\',\n\t\t\tFORMATTER: \'sap/fe/core/formatters/StandardFormatter\'\n\t\t}"\n><template:with path="item>annotationPath" var="property"><mdc:FilterField\n\t\t\tid="{= ID.generate([${this>id}, \'CustomFilterField\', ${item>key}]) }"\n\t\t\tdelegate="{name: \'sap/fe/macros/field/FieldBaseDelegate\'}"\n\t\t\tpropertyKey="{item>conditionPath}"\n\t\t\tlabel="{item>label}"\n\t\t\tdataType="Edm.String"\n\t\t\tmaxConditions="{= ${property>@@FILTERFIELD.maxConditions} || -1 }"\n\t\t\tconditions="{= \'{$filters>/conditions/\' + ${item>conditionPath} + \'}\'}"\n\t\t\toperators="{parts : [{path: \'property>\'}, {path: \'item>useSemanticDateRange\'}, {path: \'item>settings\'}, {path: \'contextPath>@@MACRO.getPath\'}], formatter: \'FIELD.operators\'}"\n\t\t\tdataTypeConstraints="{item>constraints}"\n\t\t\tdataTypeFormatOptions="{item>formatOptions}"\n\t\t\tvalueHelp="undefined"\n\t\t\trequired="{item>required}"\n\t\t\tcustomData:isSlot="{= ${item>type} === \'Slot\'}"\n\t\t><template:if\n\t\t\t\ttest="{= ${item>documentRefText} !== null &amp;&amp; ${item>documentRefText} !== \'null\' &amp;&amp; ${item>documentRefText} !== undefined &amp;&amp; ${item>documentRefText} !== \'undefined\'}"\n\t\t\t><fieldhelp:FieldHelpCustomData value="{parts:[{path: \'item>documentRefText\'}], formatter: \'FORMATTER.asArray\'}" /></template:if><controls:CustomFilterFieldContentWrapper\n\t\t\t\tcore:require="{handler: \'sap/fe/macros/filter/FilterUtils\'}"\n\t\t\t\tid="{= ID.generate([${this>id}, \'FilterFieldContentWrapper\', ${item>key}]) }"\n\t\t\t\tbinding="{= \'{filterValues>/\' + FILTER.conditionToModelPath(${item>conditionPath}) + \'}\' }"\n\t\t\t\tconditions="{path: \'$field>/conditions\'}"\n\t\t\t><template:if test="{= ${item>type} === \'Slot\'}"><template:then><macros:SlotColumn templateId="{item>template}"><slot name="{item>slotName}" /></macros:SlotColumn></template:then><template:elseif test="{= !!${item>template}}"><fpm:CustomFragment\n\t\t\t\t\t\t\tfragmentName="{item>template}"\n\t\t\t\t\t\t\tid="{= ID.generate([${this>id}, \'CustomFilterField\', ${item>key}]) }"\n\t\t\t\t\t\t\tcontextPath="{contextPath>}"\n\t\t\t\t\t\t/></template:elseif></template:if></controls:CustomFilterFieldContentWrapper></mdc:FilterField></template:with></core:FragmentDefinition>\n',
	"sap/fe/macros/filterBar/DraftEditState.fragment.xml":'<core:FragmentDefinition\n\txmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"\n\txmlns="sap.m"\n\txmlns:mdc="sap.ui.mdc"\n\txmlns:mdcf="sap.ui.mdc.field"\n\txmlns:mdcv="sap.ui.mdc.valuehelp"\n\txmlns:mdcvc="sap.ui.mdc.valuehelp.content"\n\txmlns:core="sap.ui.core"\n\ttemplate:require="{\n\t\tID: \'sap/fe/core/helpers/StableIdHelper\',\n\t\tEDITSTATE: \'sap/fe/macros/filterBar/DraftEditState\'\n\t}"\n><mdc:FilterField\n\t\tlabel="{sap.fe.i18n>FILTERBAR_EDITING_STATUS}"\n\t\tmaxConditions="1"\n\t\tid="{= ID.generate([${this>id}, \'FilterField\', \'DraftEditingStatus\' ]) }"\n\t\toperators="EQ"\n\t\tdataType="sap.ui.model.odata.type.String"\n\t\tpropertyKey="$editState"\n\t\tconditions="{$filters>/conditions/$editState}"\n\t\tdisplay="Description"\n\t><mdc:content><Select\n\t\t\t\tid="{= ID.generate([${this>id}, \'FilterField\', \'DraftEditingStatusSelect\' ]) }"\n\t\t\t\twidth="100%"\n\t\t\t\tforceSelection="true"\n\t\t\t\tselectedKey="{path: \'$field>/conditions\', type: \'sap.ui.mdc.field.ConditionsType\'}"\n\t\t\t><template:with path="this>" helper="EDITSTATE.getEditStatesContext" var="states"><template:repeat list="{states>}" var="state"><core:ListItem key="{state>id}" text="{state>display}" /></template:repeat></template:with></Select></mdc:content></mdc:FilterField></core:FragmentDefinition>\n',
	"sap/fe/macros/form/AddressSection.fragment.xml":'<core:FragmentDefinition\n\txmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"\n\txmlns:macrodata="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1"\n\txmlns="sap.m"\n\txmlns:f="sap.ui.layout.form"\n\txmlns:core="sap.ui.core"\n\ttemplate:require="{\n\t\tMODEL: \'sap/ui/model/odata/v4/AnnotationHelper\',\n\t\tCOMMON: \'sap/fe/macros/CommonHelper\',\n\t\tFORM: \'sap/fe/macros/form/FormHelper\',\n\t\tID: \'sap/fe/core/helpers/StableIdHelper\',\n\t\tUI: \'sap/fe/core/templating/UIFormatters\'\n\t}"\n><template:with path="facet>Target/$AnnotationPath" var="annotationPath"><f:FormContainer\n\t\t\tid="{= ${this>id} ? ID.generate([\'fe\', \'FormContainer\', ${facet>ID}]) : undefined }"\n\t\t\tbinding="{= FORM.generateBindingExpression((MODEL.getNavigationPath(${facet>Target/$AnnotationPath}) ? MODEL.getNavigationPath(${facet>Target/$AnnotationPath}) : \'\'),${contextPath>@@UI.getDataModelObjectPath})}"\n\t\t\tvisible="{= ${facet>./@com.sap.vocabularies.UI.v1.Hidden/$Path} ? (\'{= !${\' + ${facet>./@com.sap.vocabularies.UI.v1.Hidden/$Path} + \'} }\') : true }"\n\t\t\tmacrodata:navigationPath="{= MODEL.getNavigationPath(${annotationPath>}) ? MODEL.getNavigationPath(${annotationPath>}) : \'\'}"\n\t\t\tmacrodata:etName="{contextPath>./@sapui.name}"\n\t\t><template:if test="{= ${facet>@@MODEL.label} }"><f:title><core:Title level="{this>titleLevel}" text="{= ${facet>@@MODEL.label} }" /></f:title></template:if><f:formElements><f:FormElement id="{= ${this>id} ? ID.generate([${this>id}, \'FormElement\', ${facet>ID}]) : undefined}"><f:fields><Text text="{facet>Target/$AnnotationPath/label@@MODEL.format}" class="sapMITBFilterNeutral" /></f:fields></f:FormElement></f:formElements></f:FormContainer></template:with></core:FragmentDefinition>\n',
	"sap/fe/macros/form/FormActionButtons.fragment.xml":'<core:FragmentDefinition\n\txmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"\n\txmlns:macrodata="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1"\n\txmlns="sap.m"\n\txmlns:core="sap.ui.core"\n\txmlns:dt="sap.ui.dt"\n\ttemplate:require="{\n\t\tID: \'sap/fe/core/helpers/StableIdHelper\',\n\t\tCOMMON: \'sap/fe/macros/CommonHelper\',\n\t\tACTION: \'sap/fe/core/converters/controls/Common/Action\',\n\t\tDEFAULTACTIONHANDLER: \'sap/fe/macros/internal/helpers/DefaultActionHandler\'\n\t}"\n><template:if test="{= ${action>type} === \'Menu\'}"><template:then><MenuButton\n\t\t\t\ttext="{action>text}"\n\t\t\t\ticon="{= ${action>isAIOperation} ? COMMON.getAIIcon() : undefined }"\n\t\t\t\tmenuPosition="BeginBottom"\n\t\t\t\tid="{= ID.generate([\'fe\',${action>id}])}"\n\t\t\t\tvisible="{action>visible}"\n\t\t\t\tenabled="{action>enabled}"\n\t\t\t\tclass="sapUiSmallMarginBegin"\n\t\t\t\tuseDefaultActionOnly="{= DEFAULTACTIONHANDLER.getUseDefaultActionOnly(${action>})}"\n\t\t\t\tbuttonMode="{= DEFAULTACTIONHANDLER.getButtonMode(${action>})}"\n\t\t\t\tdefaultAction="{= DEFAULTACTIONHANDLER.getDefaultActionHandler(undefined, undefined, ${action>}, undefined, undefined, \'Form\')}"\n\t\t\t\ttype="Transparent"\n\t\t\t><menu><Menu><template:repeat list="{action>menu}" var="menuItemAction"><template:if test="{= ${menuItemAction>type} === \'Default\'}"><template:then><MenuItem\n\t\t\t\t\t\t\t\t\t\tcore:require="{FPM: \'sap/fe/core/helpers/FPMHelper\'}"\n\t\t\t\t\t\t\t\t\t\tid="{= ID.generate([\'fe\',${menuItemAction>id}])}"\n\t\t\t\t\t\t\t\t\t\ttext="{menuItemAction>text}"\n\t\t\t\t\t\t\t\t\t\tpress="{= ${menuItemAction>command} ? (\'cmd:\' + ${menuItemAction>command}) : COMMON.buildActionWrapper(${menuItemAction>})}"\n\t\t\t\t\t\t\t\t\t\tvisible="{menuItemAction>visible}"\n\t\t\t\t\t\t\t\t\t\tenabled="{menuItemAction>enabled}"\n\t\t\t\t\t\t\t\t\t/></template:then><template:else><MenuItem\n\t\t\t\t\t\t\t\t\t\tid="{menuItemAction>id}"\n\t\t\t\t\t\t\t\t\t\tbinding="{menuItemAction>binding}"\n\t\t\t\t\t\t\t\t\t\ttext="{menuItemAction>text}"\n\t\t\t\t\t\t\t\t\t\tpress="{= ${menuItemAction>command} ? (\'cmd:\' + ${menuItemAction>command}) : ${menuItemAction>press}}"\n\t\t\t\t\t\t\t\t\t\tariaHasPopup="{menuItemAction>requiresDialog}"\n\t\t\t\t\t\t\t\t\t\tvisible="{menuItemAction>visible}"\n\t\t\t\t\t\t\t\t\t\tenabled="{menuItemAction>enabled}"\n\t\t\t\t\t\t\t\t\t\tmacrodata:IBNData="{menuItemAction>customData}"\n\t\t\t\t\t\t\t\t\t/></template:else></template:if></template:repeat></Menu></menu><layoutData><OverflowToolbarLayoutData priority="{action>priority}" group="{action>group}" /></layoutData></MenuButton></template:then><template:elseif test="{= ${action>type} === \'Default\'}"><Button\n\t\t\t\tcore:require="{FPM: \'sap/fe/core/helpers/FPMHelper\'}"\n\t\t\t\tid="{= ID.generate([\'fe\',${action>id}])}"\n\t\t\t\tdt:designtime="{= (${action>visible} === \'true\' || ${action>visible} === \'false\')  ? undefined : \'not-adaptable-visibility\'}"\n\t\t\t\ttext="{action>text}"\n\t\t\t\tpress="{= ${action>command} ? (\'cmd:\' + ${action>command}) : COMMON.buildActionWrapper(${action>})}"\n\t\t\t\ttype="Transparent"\n\t\t\t\tvisible="{action>visible}"\n\t\t\t\tenabled="{action>enabled}"\n\t\t\t\ticon="{= ${action>isAIOperation} ? COMMON.getAIIcon() : undefined }"\n\t\t\t><layoutData><OverflowToolbarLayoutData priority="{action>priority}" group="{action>group}" /></layoutData></Button></template:elseif><template:else><Button\n\t\t\t\tid="{action>id}"\n\t\t\t\tdt:designtime="{= (${action>visible} === \'true\' || ${action>visible} === \'false\')  ? undefined : \'not-adaptable-visibility\'}"\n\t\t\t\tbinding="{action>binding}"\n\t\t\t\ttext="{action>text}"\n\t\t\t\ticon="{= ${action>isAIOperation} ? COMMON.getAIIcon() : undefined }"\n\t\t\t\tpress="{= ${action>command} ? (\'cmd:\' + ${action>command}) : ${action>press}}"\n\t\t\t\ttype="{= ${action>buttonType} === \'Ghost\' ? \'Transparent\' : ${action>buttonType}}"\n\t\t\t\tariaHasPopup="{action>requiresDialog}"\n\t\t\t\tvisible="{action>visible}"\n\t\t\t\tenabled="{action>enabled}"\n\t\t\t\tmacrodata:IBNData="{action>customData}"\n\t\t\t><layoutData><OverflowToolbarLayoutData priority="{action>priority}" group="{action>group}" /></layoutData></Button></template:else></template:if></core:FragmentDefinition>\n',
	"sap/fe/macros/form/FormContainer.fragment.xml":'<core:FragmentDefinition\n\txmlns="sap.m"\n\txmlns:f="sap.ui.layout.form"\n\txmlns:macro="sap.fe.macros"\n\txmlns:macroForm="sap.fe.macros.form"\n\txmlns:internalMacro="sap.fe.macros.internal"\n\txmlns:core="sap.ui.core"\n\txmlns:controls="sap.fe.macros.controls"\n\txmlns:dt="sap.ui.dt"\n\txmlns:macrodata="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1"\n\txmlns:fpm="sap.fe.macros.fpm"\n\txmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"\n\ttemplate:require="{\n\t\tMODEL: \'sap/ui/model/odata/v4/AnnotationHelper\',\n\t\tID: \'sap/fe/core/helpers/StableIdHelper\',\n\t\tCOMMON: \'sap/fe/macros/CommonHelper\',\n\t\tFORM: \'sap/fe/macros/form/FormHelper\',\n\t\tUI: \'sap/fe/core/templating/UIFormatters\',\n\t\tDataField: \'sap/fe/core/templating/DataFieldFormatters\',\n\t\tFieldTemplating: \'sap/fe/macros/field/FieldTemplating\',\n\t\tProperty: \'sap/fe/core/templating/PropertyFormatters\',\n\t\tFIELD: \'sap/fe/macros/field/FieldHelper\',\n\t\tMACRO: \'sap/fe/macros/MacroTemplating\'\n\t}"\n><f:FormContainer\n\t\tcore:require="{FormContainerRuntime: \'sap/fe/macros/form/FormContainerAPI\'}"\n\t\tdt:designtime="{this>designtimeSettings}"\n\t\tid="{= ${this>id} || undefined}"\n\t\tvisible="{this>visible}"\n\t\tmacrodata:navigationPath="{this>navigationPath}"\n\t\tmacrodata:etName="{contextPath>./@sapui.name}"\n\t\tmacrodata:UiHiddenPresent="{this>hasUiHiddenAnnotation}"\n\t><template:if test="{this>title}"><f:title><core:Title level="{this>titleLevel}" text="{this>title}" /></f:title></template:if><template:if test="{actions>}"><template:then><f:toolbar><OverflowToolbar\n\t\t\t\t\t\tid="{= ${this>id} ? ID.generate([${this>id}, \'FormActionsToolbar\']) : undefined}"\n\t\t\t\t\t\tbinding="{= FORM.generateBindingExpression(${this>navigationPath},${contextPath>@@UI.getDataModelObjectPath})}"\n\t\t\t\t\t><Title level="{this>titleLevel}" text="{this>title}" /><ToolbarSpacer /><template:repeat list="{actions>}" var="action"><core:Fragment fragmentName="sap.fe.macros.form.FormActionButtons" type="XML" /></template:repeat></OverflowToolbar></f:toolbar></template:then></template:if><f:dependents><macroForm:FormContainerAPI formContainerId="{this>id}" showDetails="{internal>showDetails}" /></f:dependents><f:formElements><template:with path="dataFieldCollection>" var="formElements"><template:if test="{= ${formElements>0/annotationPath}.indexOf(\'com.sap.vocabularies.UI.v1.DataPoint\') > -1 }"><template:then><template:with path="formElements>0/annotationPath" var="dataPoint"><f:FormElement\n\t\t\t\t\t\t\t\tdt:designtime="{= ${dataPoint>Value/$Path@com.sap.vocabularies.UI.v1.AdaptationHidden} ? \'not-adaptable-tree\' :  \'sap/fe/macros/form/FormElement.designtime\' }"\n\t\t\t\t\t\t\t\tid="{= ${this>id} ? ID.generate([${this>id}, \'FormElement\', ${dataPoint>@@UI.getDataModelObjectPath}]) : undefined}"\n\t\t\t\t\t\t\t\tlabel="{dataPoint>@@FIELD.computeLabelText}"\n\t\t\t\t\t\t\t\tvisible="{= FieldTemplating.getVisibleExpression(${dataPoint>@@UI.getDataModelObjectPath})}"\n\t\t\t\t\t\t\t\tbinding="{= FORM.generateBindingExpression(${this>navigationPath},${contextPath>@@UI.getDataModelObjectPath})}"\n\t\t\t\t\t\t\t><f:fields><macro:Field\n\t\t\t\t\t\t\t\t\t\tidPrefix="{= ${this>id} ? ID.generate([${this>id}, \'FormElement\', ${dataPoint>@@UI.getDataModelObjectPath}]) : \'\' }"\n\t\t\t\t\t\t\t\t\t\tvhIdPrefix="{= ${this>id} ? ID.generate([${this>id}, \'FieldValueHelp\']) : \'\'}"\n\t\t\t\t\t\t\t\t\t\tcontextPath="{contextPath>@@COMMON.getMetaPath}"\n\t\t\t\t\t\t\t\t\t\tmetaPath="{dataPoint>@@COMMON.getMetaPath}"\n\t\t\t\t\t\t\t\t\t\teditMode="{= ${this>displayMode} === \'true\' ? \'Display\' : undefined}"\n\t\t\t\t\t\t\t\t\t\tonChange="{this>onChange}"\n\t\t\t\t\t\t\t\t\t><formatOptions textAlignMode="Form" showEmptyIndicator="true" /></macro:Field></f:fields></f:FormElement></template:with></template:then><template:elseif\n\t\t\t\t\t\ttest="{= ${formElements>0/annotationPath}.indexOf(\'com.sap.vocabularies.Communication.v1.Contact\') > -1 }"\n\t\t\t\t\t><template:with path="formElements>0/annotationPath" var="metaPath"><f:FormElement\n\t\t\t\t\t\t\t\tdt:designtime="{= ${metaPath>./@com.sap.vocabularies.UI.v1.AdaptationHidden} ? \'not-adaptable-tree\' :  \'sap/fe/macros/form/FormElement.designtime\' }"\n\t\t\t\t\t\t\t\tbinding="{= FORM.generateBindingExpression(${this>navigationPath},${contextPath>@@UI.getDataModelObjectPath})}"\n\t\t\t\t\t\t\t><f:label><Label\n\t\t\t\t\t\t\t\t\t\ttext="{metaPath>fn/$Path@com.sap.vocabularies.Common.v1.Label}"\n\t\t\t\t\t\t\t\t\t\tvisible="{= FieldTemplating.getVisibleExpression(${dataField>@@UI.getDataModelObjectPath})}"\n\t\t\t\t\t\t\t\t\t><layoutData><f:ColumnElementData cellsLarge="12" /></layoutData></Label></f:label><f:fields><macro:Contact\n\t\t\t\t\t\t\t\t\t\tmetaPath="{metaPath>@@COMMON.getMetaPath}"\n\t\t\t\t\t\t\t\t\t\tcontextPath="{contextPath>@@COMMON.getMetaPath}"\n\t\t\t\t\t\t\t\t\t\tvisible="true"\n\t\t\t\t\t\t\t\t\t/></f:fields></f:FormElement></template:with></template:elseif><template:else><template:repeat list="{path: \'formElements>\'}" var="dataField"><template:if test="{= ${dataField>type} === \'Annotation\'}"><template:then><template:with path="dataField>annotationPath" var="annotationDataField"><template:if test="{annotationDataField>Target@@DataField.isSemanticallyConnectedFields}"><template:then><f:FormElement\n\t\t\t\t\t\t\t\t\t\t\t\t\tdt:designtime="{= ${annotationDataField>Value/$Path@com.sap.vocabularies.UI.v1.AdaptationHidden} ? \'not-adaptable-tree\' : \'sap/fe/macros/form/FormElement.designtime\' }"\n\t\t\t\t\t\t\t\t\t\t\t\t\tid="{= ${this>id} ? ID.generate([${this>id}, \'SemanticFormElement\', ${annotationDataField>@@UI.getDataModelObjectPath}]) : \'\' }"\n\t\t\t\t\t\t\t\t\t\t\t\t\tvisible="{= (${dataField>isPartOfPreview}) ? FieldTemplating.visibleExpressionsForConnectedFieldsFormElement(${annotationDataField>@@UI.getDataModelObjectPath}) : \'{= ${internal>showDetails} === true}\'}"\n\t\t\t\t\t\t\t\t\t\t\t\t\tbinding="{= FORM.generateBindingExpression(${this>navigationPath},${contextPath>@@UI.getDataModelObjectPath})}"\n\t\t\t\t\t\t\t\t\t\t\t\t><f:label><Label\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttext="{annotationDataField>@@FIELD.computeLabelText}"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tid="{= ${this>id} ? ID.generate([${this>id}, \'SemanticFormElementLabel\', ${annotationDataField>@@UI.getDataModelObjectPath}]) : \'\' }"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/></f:label><f:fields><controls:FieldWrapper\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trequired="{= UI.getRequiredExpressionForConnectedDataField(${annotationDataField>Target@@UI.getDataModelObjectPath}) }"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t><HBox wrap="Wrap"><template:repeat\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlist="{annotationDataField>Target/$AnnotationPath/Data}"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar="data"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t><template:with\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tpath="data>"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thelper="COMMON.getDataFromTemplate"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar="element"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t><core:Fragment\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfragmentName="sap.fe.macros.internal.field.ConnectedDataField"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype="XML"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/></template:with></template:repeat></HBox></controls:FieldWrapper></f:fields></f:FormElement></template:then><template:elseif\n\t\t\t\t\t\t\t\t\t\t\t\ttest="{= ${annotationDataField>Value} &amp;&amp; ${annotationDataField>Value/$Path} &amp;&amp; UI.isMultiValueField(${annotationDataField>Value@@Property.getPropertyObjectPath})}"\n\t\t\t\t\t\t\t\t\t\t\t><f:FormElement\n\t\t\t\t\t\t\t\t\t\t\t\t\txmlns:macros="sap.fe.macros"\n\t\t\t\t\t\t\t\t\t\t\t\t\txmlns:multivaluefield="sap.fe.macros.multivaluefield"\n\t\t\t\t\t\t\t\t\t\t\t\t\tdt:designtime="{= ${annotationDataField>Value/$Path@com.sap.vocabularies.UI.v1.AdaptationHidden} ? \'not-adaptable-tree\' :  \'sap/fe/macros/form/FormElement.designtime\' }"\n\t\t\t\t\t\t\t\t\t\t\t\t\tid="{= ${this>id} ? ID.generate([${this>id}, \'FormElement\', ${annotationDataField>@@UI.getDataModelObjectPath}]) : undefined }"\n\t\t\t\t\t\t\t\t\t\t\t\t\tlabel="{annotationDataField>@@FIELD.computeLabelText}"\n\t\t\t\t\t\t\t\t\t\t\t\t\tvisible="{= (${dataField>isPartOfPreview}) ? FieldTemplating.getVisibleExpression(${annotationDataField>@@UI.getDataModelObjectPath}) : \'{= ${internal>showDetails} === true}\'}"\n\t\t\t\t\t\t\t\t\t\t\t\t\tbinding="{= FORM.generateBindingExpression(${this>navigationPath},${contextPath>@@UI.getDataModelObjectPath})}"\n\t\t\t\t\t\t\t\t\t\t\t\t><f:fields><macros:MultiValueField\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tid="{= ${this>id} ? ID.generate([${this>id}, \'FormElement\', ${annotationDataField>@@UI.getDataModelObjectPath}, \'MultiValueField\']) : undefined }"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvhIdPrefix="{= ${this>id} ? ID.generate([${this>id}, \'FieldValueHelp\']) : \'\' }"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcontextPath="{= ${contextPath>@@MACRO.getPath} }"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmetaPath="{= ${annotationDataField>@@MACRO.getPath} }"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t><macros:formatOptions><multivaluefield:FormatOptions showEmptyIndicator="true" /></macros:formatOptions></macros:MultiValueField></f:fields></f:FormElement></template:elseif><template:elseif test="{annotationDataField>Target@@DataField.isFieldGroup}"><f:FormElement\n\t\t\t\t\t\t\t\t\t\t\t\t\tdt:designtime="{= ${annotationDataField>Value/$Path@com.sap.vocabularies.UI.v1.AdaptationHidden} ? \'not-adaptable-tree\' : \'sap/fe/macros/form/FormElement.designtime\' }"\n\t\t\t\t\t\t\t\t\t\t\t\t\tid="{= ${this>id} ? ID.generate([${this>id}, \'FieldGroupFormElement\', ${annotationDataField>@@UI.getDataModelObjectPath}]) : \'\' }"\n\t\t\t\t\t\t\t\t\t\t\t\t\tvisible="{= (${dataField>isPartOfPreview}) ? FieldTemplating.visibleExpressionsForConnectedFieldsFormElement(${annotationDataField>@@UI.getDataModelObjectPath}) : \'{= ${internal>showDetails} === true}\'}"\n\t\t\t\t\t\t\t\t\t\t\t\t\tbinding="{= FORM.generateBindingExpression(${this>navigationPath},${contextPath>@@UI.getDataModelObjectPath})}"\n\t\t\t\t\t\t\t\t\t\t\t\t><f:label><Label\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttext="{annotationDataField>@@FIELD.computeLabelText}"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tid="{= ${this>id} ? ID.generate([${this>id}, \'FieldGroupFormElementLabel\', ${annotationDataField>@@UI.getDataModelObjectPath}]) : \'\' }"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/></f:label><f:fields><controls:RequiredFlexBox><FlexBox\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdirection="{= ${dataField>formatOptions/fieldGroupHorizontalLayout} ? \'Row\' : \'Column\'}"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\twrap="Wrap"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolumnGap="1rem"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t><items><template:repeat\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlist="{annotationDataField>Target/$AnnotationPath/Data}"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar="element"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t><template:if test="{element>@@DataField.isBooleanFieldGroupItem}"><core:Fragment\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfragmentName="sap.fe.macros.internal.field.CheckBoxGroup"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype="XML"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/></template:if></template:repeat></items></FlexBox></controls:RequiredFlexBox></f:fields></f:FormElement></template:elseif><template:else><f:FormElement\n\t\t\t\t\t\t\t\t\t\t\t\t\tdt:designtime="{= ${annotationDataField>Value/$Path@com.sap.vocabularies.UI.v1.AdaptationHidden} ? \'not-adaptable-tree\' :  \'sap/fe/macros/form/FormElement.designtime\' }"\n\t\t\t\t\t\t\t\t\t\t\t\t\tid="{= ${this>id} ? ID.generate([${this>id}, \'FormElement\', ${annotationDataField>@@UI.getDataModelObjectPath}]) : undefined }"\n\t\t\t\t\t\t\t\t\t\t\t\t\tlabel="{annotationDataField>@@FIELD.computeLabelText}"\n\t\t\t\t\t\t\t\t\t\t\t\t\tvisible="{= (${dataField>isPartOfPreview}) ? FieldTemplating.getVisibleExpression(${annotationDataField>@@UI.getDataModelObjectPath}) : \'{= ${internal>showDetails} === true}\'}"\n\t\t\t\t\t\t\t\t\t\t\t\t\tbinding="{= FORM.generateBindingExpression(${this>navigationPath},${contextPath>@@UI.getDataModelObjectPath})}"\n\t\t\t\t\t\t\t\t\t\t\t\t><f:fields><macro:Field\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tidPrefix="{= ${this>id} ? ID.generate([${this>id}, \'FormElement\', ${annotationDataField>@@UI.getDataModelObjectPath}]) : \'\' }"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvhIdPrefix="{= ${this>id} ? ID.generate([${this>id}, \'FieldValueHelp\']) : \'\' }"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcontextPath="{contextPath>@@COMMON.getMetaPath}"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmetaPath="{annotationDataField>@@COMMON.getMetaPath}"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange="{this>onChange}"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treadOnly="{dataField>readOnly}"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsemanticObject="{dataField>semanticObject}"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t><formatOptions\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttextLinesEdit="{dataField>formatOptions/textLinesEdit}"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttextMaxLines="{dataField>formatOptions/textMaxLines}"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttextMaxLength="{dataField>formatOptions/textMaxLength}"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttextMaxCharactersDisplay="{dataField>formatOptions/textMaxCharactersDisplay}"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttextExpandBehaviorDisplay="{dataField>formatOptions/textExpandBehaviorDisplay}"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttextAlignMode="Form"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tshowEmptyIndicator="true"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfieldEditStyle="{dataField>formatOptions/fieldEditStyle}"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tradioButtonsHorizontalLayout="{dataField>formatOptions/radioButtonsHorizontalLayout}"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdateTimePattern="{dataField>formatOptions/pattern}"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tuseRadioButtonsForBoolean="{dataField>formatOptions/useRadioButtonsForBoolean}"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/></macro:Field></f:fields></f:FormElement></template:else></template:if></template:with></template:then><template:elseif test="{= ${dataField>type} === \'Default\'}"><f:FormElement\n\t\t\t\t\t\t\t\t\t\tdt:designtime="{= ${dataField>Value/$Path@com.sap.vocabularies.UI.v1.AdaptationHidden} ? \'not-adaptable-tree\' :  \'sap/fe/macros/form/FormElement.designtime\' }"\n\t\t\t\t\t\t\t\t\t\tid="{= ${this>id} ? ID.generate([${this>id}, ${dataField>id}]) : \'\' }"\n\t\t\t\t\t\t\t\t\t\tlabel="{dataField>label}"\n\t\t\t\t\t\t\t\t\t\tvisible="{dataField>visible}"\n\t\t\t\t\t\t\t\t\t\tbinding="{= FORM.generateBindingExpression(${this>navigationPath},${contextPath>@@UI.getDataModelObjectPath})}"\n\t\t\t\t\t\t\t\t\t><f:fields><macroForm:CustomFormElement\n\t\t\t\t\t\t\t\t\t\t\t\tmetaPath="{dataField>propertyPath}"\n\t\t\t\t\t\t\t\t\t\t\t\tcontextPath="{contextPath>@@COMMON.getMetaPath}"\n\t\t\t\t\t\t\t\t\t\t\t\tformElementKey="{= ID.generate([${this>id}, ${dataField>key}]) }"\n\t\t\t\t\t\t\t\t\t\t\t><fpm:CustomFragment\n\t\t\t\t\t\t\t\t\t\t\t\t\tid="{= ID.generate([${this>id}, ${dataField>key}]) }"\n\t\t\t\t\t\t\t\t\t\t\t\t\tfragmentName="{dataField>template}"\n\t\t\t\t\t\t\t\t\t\t\t\t\tcontextPath="{entitySet>}"\n\t\t\t\t\t\t\t\t\t\t\t\t/></macroForm:CustomFormElement></f:fields></f:FormElement></template:elseif><template:elseif test="{= ${dataField>type} === \'Slot\'}"><slot name="{dataField>key}" /></template:elseif></template:if></template:repeat></template:else></template:if></template:with></f:formElements></f:FormContainer></core:FragmentDefinition>\n',
	"sap/fe/macros/form/FormElementFlexibility.fragment.xml":'<core:FragmentDefinition\n\txmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"\n\txmlns:core="sap.ui.core"\n\txmlns="sap.m"\n\txmlns:macro="sap.fe.macros"\n\txmlns:internalMacro="sap.fe.macros.internal"\n\txmlns:dt="sap.ui.dt"\n\txmlns:f="sap.ui.layout.form"\n\ttemplate:require="{\n        FIELD: \'sap/fe/macros/field/FieldHelper\',\n        FORM: \'sap/fe/macros/form/FormHelper\',\n        MODEL: \'sap/ui/model/odata/v4/AnnotationHelper\',\n        COMMON: \'sap/fe/macros/CommonHelper\',\n        UI: \'sap/fe/core/templating/UIFormatters\',\n\t\tFieldTemplating: \'sap/fe/macros/field/FieldTemplating\'\n    }"\n><template:if test="{dataField>@com.sap.vocabularies.UI.v1.DataFieldDefault}"><template:then><template:with path="dataField>@com.sap.vocabularies.UI.v1.DataFieldDefault" var="dataField"><core:Fragment fragmentName="sap.fe.macros.form.FormElementFlexibility" type="XML" /></template:with></template:then><template:else><f:FormElement\n\t\t\t\tid="{= ${this>_flexId} + \'_FormElement\'}"\n\t\t\t\tlabel="{= ${dataField>@com.sap.vocabularies.Common.v1.Label} || ${dataField>@@MODEL.label} || \'[LABEL_MISSING: \' + ${dataField>@@FIELD.propertyName} +\']\'}"\n\t\t\t\tvisible="{= FieldTemplating.getVisibleExpression(${dataField>@@UI.getDataModelObjectPath})}"\n\t\t\t\tbinding="{= FORM.generateBindingExpression(${this>navigationPath},${entitySet>@@UI.getDataModelObjectPath})}"\n\t\t\t\tdt:designtime="{= ${dataField>Value/$Path@com.sap.vocabularies.UI.v1.AdaptationHidden} ? \'not-adaptable-tree\' :  \'sap/fe/macros/form/FormElement.designtime\' }"\n\t\t\t><macro:Field\n\t\t\t\t\teditMode="{= ${this>displayMode} === \'true\' ? \'Display\' : undefined}"\n\t\t\t\t\t_flexId="{this>_flexId}"\n\t\t\t\t\tvhIdPrefix="FieldValueHelp"\n\t\t\t\t\tcontextPath="{entitySet>@@COMMON.getMetaPath}"\n\t\t\t\t\tmetaPath="{dataField>@@COMMON.getMetaPath}"\n\t\t\t\t\tonChange="{this>onChange}"\n\t\t\t\t><formatOptions textAlignMode="Form" showEmptyIndicator="true" /></macro:Field></f:FormElement></template:else></template:if></core:FragmentDefinition>\n',
	"sap/fe/macros/internal/field/CheckBoxGroup.fragment.xml":'<core:FragmentDefinition\n\txmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"\n\txmlns="sap.m"\n\txmlns:core="sap.ui.core"\n\txmlns:macro="sap.fe.macros"\n\txmlns:macroField="sap.fe.macros.field"\n\txmlns:internalMacro="sap.fe.macros.internal"\n\ttemplate:require="{\n\t\tID: \'sap/fe/core/helpers/StableIdHelper\',\n\t\tCOMMON: \'sap/fe/macros/CommonHelper\',\n\t\tUI: \'sap/fe/core/templating/UIFormatters\'\n\t}"\n><macro:Field\n\t\tidPrefix="{= ${this>id} ? ID.generate([${this>id}, \'CheckBoxGroup\', ${annotationDataField>@@UI.getDataModelObjectPath},${element>Value/$Path}]) : \'\' }"\n\t\tcontextPath="{entitySet>@@COMMON.getMetaPath}"\n\t\tmetaPath="{element>@@COMMON.getMetaPath}"\n\t\tonChange="{this>onChange}"\n\t\tariaLabelledBy="{= ${this>id} ? ID.generate([${this>id}, \'FieldGroupFormElementLabel\', ${annotationDataField>@@UI.getDataModelObjectPath}]) : \'\' }"\n\t><macro:formatOptions><macroField:FieldFormatOptions isFieldGroupItem="true" textAlignMode="Form" /></macro:formatOptions></macro:Field></core:FragmentDefinition>\n',
	"sap/fe/macros/internal/field/ConnectedDataField.fragment.xml":'<core:FragmentDefinition\n\txmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"\n\txmlns="sap.m"\n\txmlns:core="sap.ui.core"\n\txmlns:macro="sap.fe.macros"\n\txmlns:macroField="sap.fe.macros.field"\n\txmlns:internalMacro="sap.fe.macros.internal"\n\ttemplate:require="{\n\t\tID: \'sap/fe/core/helpers/StableIdHelper\',\n\t\tCOMMON: \'sap/fe/macros/CommonHelper\',\n\t\tUI: \'sap/fe/core/templating/UIFormatters\'\n\t}"\n><macro:Field\n\t\tidPrefix="{= ${this>id} ? ID.generate([${this>id}, \'SemanticFormElement\', ${annotationDataField>@@UI.getDataModelObjectPath},${element>Value/$Path}]) : \'\' }"\n\t\tvhIdPrefix="{= ${this>id} ? ID.generate([${this>id},${annotationDataField>@@UI.getDataModelObjectPath}, \'FieldValueHelp\']) : \'\' }"\n\t\tcontextPath="{entitySet>@@COMMON.getMetaPath}"\n\t\tmetaPath="{element>@@COMMON.getMetaPath}"\n\t\tonChange="{this>onChange}"\n\t\tariaLabelledBy="{= ${this>id} ? ID.generate([${this>id}, \'SemanticFormElementLabel\', ${annotationDataField>@@UI.getDataModelObjectPath}]) : \'\' }"\n\t><macro:formatOptions><macroField:FieldFormatOptions\n\t\t\t\ttextLinesEdit="{element>formatOptions/textLinesEdit}"\n\t\t\t\ttextMaxLines="{element>formatOptions/textMaxLines}"\n\t\t\t\ttextMaxCharactersDisplay="{dataField>formatOptions/textMaxCharactersDisplay}"\n\t\t\t\ttextMaxLength="{dataField>formatOptions/textMaxLength}"\n\t\t\t\ttextExpandBehaviorDisplay="{dataField>formatOptions/textExpandBehaviorDisplay}"\n\t\t\t\ttextAlignMode="Form"\n\t\t\t\tshowEmptyIndicator="true"\n\t\t\t\tfieldEditStyle="{dataField>formatOptions/fieldEditStyle}"\n\t\t\t\tradioButtonsHorizontalLayout="{datafield>formatOptions/radioButtonsHorizontalLayout}"\n\t\t\t/></macro:formatOptions><macro:layoutData><FlexItemData growFactor="{= %{ui>/isEditable} ? 1 : 0}" /></macro:layoutData></macro:Field><template:if test="{= COMMON.notLastIndex(${annotationDataField>Target/$AnnotationPath/}, ${element>})}"><template:then><Text\n\t\t\t\ttext="{= COMMON.getDelimiter(${annotationDataField>Target/$AnnotationPath/Template})}"\n\t\t\t\tclass="sapUiSmallMarginBeginEnd"\n\t\t\t\twidth="100%"\n\t\t\t/></template:then></template:if></core:FragmentDefinition>\n',
	"sap/fe/macros/internal/filterField/FilterFieldTemplate.fragment.xml":'<core:FragmentDefinition\n\txmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"\n\txmlns="sap.m"\n\txmlns:core="sap.ui.core"\n\txmlns:internalMacro="sap.fe.macros.internal"\n\ttemplate:require="{\n\t\tCOMMON_HELPER: \'sap/fe/macros/CommonHelper\'\n\t}"\n><internalMacro:FilterField\n\t\tidPrefix="{this>idPrefix}"\n\t\tvhIdPrefix="{this>vhIdPrefix}"\n\t\tproperty="{property>}"\n\t\tcontextPath="{contextPath>}"\n\t\tlabel="{this>/label}"\n\t\tuseSemanticDateRange="{this>useSemanticDateRange}"\n\t\tsettings="{= COMMON_HELPER.stringifyCustomData(${this>settings}) }"\n\t\tvisualFilter="{visualFilter>}"\n\t\teditMode="{this>editMode}"\n\t/></core:FragmentDefinition>\n',
	"sap/fe/macros/internal/valuehelp/ValueListDialogTable.fragment.xml":'<core:FragmentDefinition\n\txmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"\n\txmlns="sap.m"\n\txmlns:core="sap.ui.core"\n\txmlns:macro="sap.fe.macros"\n\txmlns:internalMacro="sap.fe.macros.internal"\n\txmlns:mdc="sap.ui.mdc"\n\txmlns:plugins="sap.m.plugins"\n\txmlns:macrodata="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1"\n\ttemplate:require="{\n\t\tCOMMON: \'sap/fe/macros/CommonHelper\',\n\t\tMODEL: \'sap/ui/model/odata/v4/AnnotationHelper\',\n\t\tID: \'sap/fe/core/helpers/StableIdHelper\',\n\t\tVLH: \'sap/fe/macros/internal/valuehelp/ValueListHelper\',\n\t\tValueHelpTemplating: \'sap/fe/macros/internal/valuehelp/ValueHelpTemplating\',\n\t\tProperty: \'sap/fe/core/templating/PropertyFormatters\',\n\t\tUI: \'sap/fe/core/templating/UIFormatters\',\n\t\tTableHelper: \'sap/fe/macros/table/TableHelper\',\n\t\tDevice: \'sap/ui/Device\'\n\t}"\n><template:with path="valueList>" helper="VLH.getValueListCollectionEntitySet" var="entitySet"><mdc:Table\n\t\t\tid="{source>id}::Table"\n\t\t\tdelegate="{parts: [{path:\'valueList>\'}], formatter:\'VLH.getTableDelegate\'}"\n\t\t\tthreshold="20"\n\t\t\tp13nMode="Sort"\n\t\t\tshowRowCount="true"\n\t\t\tmacrodata:sortConditions="{parts: [{path:\'valueList>\'},{path:\'source>/bSuggestion\'}, {value: true }], formatter:\'VLH.getSortConditionsFromPresentationVariant\'}"\n\t\t\tmacrodata:columns="{= COMMON.stringifyCustomData(${viewData>/columns})}"\n\t\t\tautoBindOnInit="false"\n\t\t><mdc:columns><template:repeat list="{valueList>Parameters}" var="parameter"><template:if\n\t\t\t\t\t\ttest="{= ${parameter>$Type} !== \'com.sap.vocabularies.Common.v1.ValueListParameterIn\'  &amp;&amp; ${parameter>$Type} !== \'com.sap.vocabularies.Common.v1.ValueListParameterConstant\'}"\n\t\t\t\t\t><template:with path="parameter>ValueListProperty" var="property" helper="VLH.getValueListProperty"><template:if\n\t\t\t\t\t\t\t\ttest="{parts:[{path:\'valueList>\'}, {path:\'parameter>\'}, {path:\'source>\'}],formatter:\'VLH.getColumnVisibility\'}"\n\t\t\t\t\t\t\t><mdc:table.Column\n\t\t\t\t\t\t\t\t\twidth="{= \'{parts: [{value: \\\'getColumnWidthForValueHelpTable\\\'}, {path: \\\'internal>tablePropertiesAvailable\\\', targetType: \\\'any\\\'},{value: \\\'\' + ${parameter>ValueListProperty}+ \'\\\'} , {value: false}], formatter: \\\'sap.fe.macros.formatters.TableFormatter\\\'}\' }"\n\t\t\t\t\t\t\t\t\tminWidth="{= \'{parts: [{value: \\\'getColumnWidthForValueHelpTable\\\'}, {path: \\\'internal>tablePropertiesAvailable\\\', targetType: \\\'any\\\'},{value: \\\'\' + ${parameter>ValueListProperty}+ \'\\\'} , {value: true}], formatter: \\\'sap.fe.macros.formatters.TableFormatter\\\'}\' }"\n\t\t\t\t\t\t\t\t\theader="{= ${property>@com.sap.vocabularies.Common.v1.Label} || ${property>@sapui.name@@MODEL.value}}"\n\t\t\t\t\t\t\t\t\thAlign="{= ValueHelpTemplating.getColumnHAlign(${property>@@UI.getDataModelObjectPath}) }"\n\t\t\t\t\t\t\t\t\tpropertyKey="{= ValueHelpTemplating.getColumnDataProperty(${parameter>ValueListProperty},${property>@@Property.getPropertyObjectPath})}"\n\t\t\t\t\t\t\t\t><macro:Field\n\t\t\t\t\t\t\t\t\t\teditMode="Display"\n\t\t\t\t\t\t\t\t\t\tcontextPath="{entitySet>@@COMMON.getMetaPath}"\n\t\t\t\t\t\t\t\t\t\tmetaPath="{property>@@COMMON.getMetaPath}"\n\t\t\t\t\t\t\t\t\t\tmetaModel="{entitySet>@@COMMON.getMetaModelId}"\n\t\t\t\t\t\t\t\t\t\twrap="false"\n\t\t\t\t\t\t\t\t\t\tvhIdPrefix="FieldValueHelp"\n\t\t\t\t\t\t\t\t\t><formatOptions\n\t\t\t\t\t\t\t\t\t\t\tshowEmptyIndicator="false"\n\t\t\t\t\t\t\t\t\t\t\tdisplayMode="{= ValueHelpTemplating.getValueHelpTableDisplayMode(${property>@@Property.getPropertyObjectPath})}"\n\t\t\t\t\t\t\t\t\t\t/></macro:Field></mdc:table.Column></template:if></template:with></template:if></template:repeat></mdc:columns><mdc:type><template:if test="{parts: [{path:\'valueList>\'}], formatter:\'VLH.isTreeTableType\'}"><template:then><mdc:table.TreeTableType /></template:then><template:elseif test="{= Device.system.phone}"><mdc:table.ResponsiveTableType /></template:elseif><template:else><mdc:table.GridTableType /></template:else></template:if></mdc:type><mdc:dependents><plugins:CellSelector rangeLimit="200" /></mdc:dependents><mdc:copyProvider><plugins:CopyProvider /></mdc:copyProvider></mdc:Table></template:with></core:FragmentDefinition>\n',
	"sap/fe/macros/internal/valuehelp/ValueListFilterBar.fragment.xml":'<core:FragmentDefinition\n\txmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"\n\txmlns="sap.m"\n\txmlns:core="sap.ui.core"\n\txmlns:macro="sap.fe.macros.valuehelp"\n><macro:ValueHelpFilterBar\n\t\tid="{source>id}::FilterBar"\n\t\tcontextPath="{contextPath>}"\n\t\t_valueList="{valueList>}"\n\t\tliveMode="false"\n\t\tenableFallback="true"\n\t\thideBasicSearch="true"\n\t/></core:FragmentDefinition>\n',
	"sap/fe/macros/internal/valuehelp/ValueListForCondition.fragment.xml":'<core:FragmentDefinition\n\txmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"\n\txmlns="sap.m"\n\txmlns:core="sap.ui.core"\n\txmlns:mdc="sap.ui.mdc"\n\txmlns:mdcv="sap.ui.mdc.valuehelp"\n\txmlns:mdcvc="sap.ui.mdc.valuehelp.content"\n\ttemplate:require="{\n\t\tValueHelpTemplating: \'sap/fe/macros/internal/valuehelp/ValueHelpTemplating\',\n\t\tID: \'sap/fe/core/helpers/StableIdHelper\'\n\t}"\n><mdc:ValueHelp\n\t\tdelegate="{= ValueHelpTemplating.getDelegateConfigurationForDefineConditions(${source>propertyPath})}"\n\t\tvalidateInput="false"\n\t><mdc:typeahead><mdcv:Popover><mdcvc:MTable\n\t\t\t\t\tuseAsValueHelp="false"\n\t\t\t\t\tkeyPath="{source>keyPath}"\n\t\t\t\t\tdescriptionPath="{source>descriptionPath}"\n\t\t\t\t\tcaseSensitive="{source>caseSensitive}"\n\t\t\t\t><core:Fragment fragmentName="sap.fe.macros.internal.valuehelp.ValueListTable" type="XML" /></mdcvc:MTable></mdcv:Popover></mdc:typeahead></mdc:ValueHelp></core:FragmentDefinition>\n',
	"sap/fe/macros/internal/valuehelp/ValueListTable.fragment.xml":'<core:FragmentDefinition\n\txmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"\n\txmlns:customdata="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1"\n\txmlns="sap.m"\n\txmlns:core="sap.ui.core"\n\txmlns:macro="sap.fe.macros"\n\txmlns:internalMacro="sap.fe.macros.internal"\n\ttemplate:require="{\n\t\tCOMMON: \'sap/fe/macros/CommonHelper\',\n\t\tMODEL: \'sap/ui/model/odata/v4/AnnotationHelper\',\n\t\tVLH: \'sap/fe/macros/internal/valuehelp/ValueListHelper\',\n\t\tValueHelpTemplating: \'sap/fe/macros/internal/valuehelp/ValueHelpTemplating\',\n\t\tProperty: \'sap/fe/core/templating/PropertyFormatters\',\n\t\tUI: \'sap/fe/core/templating/UIFormatters\'\n\t}"\n><Table\n\t\tcore:require="{AVLH: \'sap/fe/macros/internal/valuehelp/AdditionalValueHelper\'}"\n\t\tid="{source>id}::SuggestTable"\n\t\titems="{parts: [{path:\'valueList>\'}, {path:\'source>/requestGroupId\'}, {path:\'source>/bSuggestion\'}, {path:\'source>/valueHelpWithFixedValues\'}], formatter:\'VLH.getTableItemsParameters\'}"\n\t\tsticky="ColumnHeaders"\n\t\tgrowing="{= ${source>/valueHelpWithFixedValues} ? true : ValueHelpTemplating.getGrowingFormatter(${source>/propertyPath})}"\n\t\tgrowingScrollToLoad="{= ${source>/valueHelpWithFixedValues} ? true : ValueHelpTemplating.getGrowingFormatter(${source>/propertyPath})}"\n\t\tupdateFinished="AVLH.additionalValueHelper.updateFinished"\n\t\tcustomdata:sorters="{parts: [{path:\'valueList>\'}, {path: \'source>/valueHelpWithFixedValues\'}], formatter:\'VLH.getSortConditionsForValueList\'}"\n\t><columns><template:repeat list="{path: \'valueList>Parameters\'}" var="parameter"><template:if\n\t\t\t\t\ttest="{= ${parameter>$Type} !== \'com.sap.vocabularies.Common.v1.ValueListParameterIn\'  &amp;&amp; ${parameter>$Type} !== \'com.sap.vocabularies.Common.v1.ValueListParameterConstant\'}"\n\t\t\t\t><template:with path="parameter>ValueListProperty" var="dataField" helper="VLH.getValueListProperty"><template:if test="{= !(${dataField>@com.sap.vocabularies.UI.v1.Hidden} === true)}"><Column\n\t\t\t\t\t\t\t\tvisible="{parts:[{path:\'valueList>\'}, {path:\'parameter>\'}, {path:\'source>\'}],formatter:\'VLH.getColumnVisibility\'}"\n\t\t\t\t\t\t\t\tminScreenWidth="{path:\'valueList>\',formatter:\'VLH.getMinScreenWidth\'}"\n\t\t\t\t\t\t\t\tdemandPopin="true"\n\t\t\t\t\t\t\t\tpopinDisplay="Inline"\n\t\t\t\t\t\t\t\thAlign="{= ValueHelpTemplating.getColumnHAlign(${dataField>@@UI.getDataModelObjectPath}) }"\n\t\t\t\t\t\t\t\twidth="{=VLH.getColumnWidth(${dataField>@@UI.getDataModelObjectPath}, ${source>/valueHelpWithFixedValues})}"\n\t\t\t\t\t\t\t><template:if test="{= !(${source>valueHelpWithFixedValues} === true)}"><core:Fragment fragmentName="sap.fe.macros.internal.valuehelp.ValueListTableColumnHeader" type="XML" /></template:if></Column></template:if></template:with></template:if></template:repeat></columns><items><ColumnListItem type="Active" customdata:ensurePropertyLoaded="{= VLH.getOutParameterPaths(${valueList>Parameters}) }"><cells><template:with path="valueList>" helper="VLH.getValueListCollectionEntitySet" var="entitySet"><template:repeat list="{valueList>Parameters}" var="parameter"><template:if test="{= ${parameter>$Type} !== \'com.sap.vocabularies.Common.v1.ValueListParameterIn\'}"><template:with path="parameter>ValueListProperty" var="property" helper="VLH.getValueListProperty"><template:if test="{= !(${property>@com.sap.vocabularies.UI.v1.Hidden} === true)}"><macro:Field\n\t\t\t\t\t\t\t\t\t\t\teditMode="Display"\n\t\t\t\t\t\t\t\t\t\t\tcontextPath="{entitySet>@@COMMON.getMetaPath}"\n\t\t\t\t\t\t\t\t\t\t\tmetaPath="{property>@@COMMON.getMetaPath}"\n\t\t\t\t\t\t\t\t\t\t\tmetaModel="{entitySet>@@COMMON.getMetaModelId}"\n\t\t\t\t\t\t\t\t\t\t\tvhIdPrefix="FieldValueHelp"\n\t\t\t\t\t\t\t\t\t\t><formatOptions\n\t\t\t\t\t\t\t\t\t\t\t\tshowEmptyIndicator="false"\n\t\t\t\t\t\t\t\t\t\t\t\tdisplayMode="{= ValueHelpTemplating.getValueHelpTableDisplayMode(${property>@@Property.getPropertyObjectPath}, ${source>valueHelpWithFixedValues}) }"\n\t\t\t\t\t\t\t\t\t\t\t/></macro:Field></template:if></template:with></template:if></template:repeat></template:with></cells></ColumnListItem></items></Table></core:FragmentDefinition>\n',
	"sap/fe/macros/internal/valuehelp/ValueListTableColumnHeader.fragment.xml":'<core:FragmentDefinition\n\txmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"\n\txmlns="sap.m"\n\txmlns:core="sap.ui.core"\n\ttemplate:require="{\n\t\tMODEL: \'sap/ui/model/odata/v4/AnnotationHelper\'\n\t}"\n><template:if test="{dataField>Label}"><template:then><Label text="{dataField>Label@@MODEL.value}" wrapping="true" wrappingType="Hyphenated" /></template:then><template:elseif test="{dataField>@com.sap.vocabularies.Common.v1.Label}"><Label text="{dataField>@com.sap.vocabularies.Common.v1.Label@@MODEL.value}" wrapping="true" wrappingType="Hyphenated" /></template:elseif><template:else><Label text="[{dataField>@sapui.name@@MODEL.value}]" wrapping="true" wrappingType="Hyphenated" /></template:else></template:if></core:FragmentDefinition>\n',
	"sap/fe/macros/manifest.json":'{"_version":"1.21.0","sap.app":{"id":"sap.fe.macros","type":"library","embeds":[],"applicationVersion":{"version":"1.141.1"},"title":"UI5 library: sap.fe.macros","description":"UI5 library: sap.fe.macros","ach":"CA-UI5-FE","resources":"resources.json","offline":true},"sap.ui":{"technology":"UI5","supportedThemes":[]},"sap.ui5":{"dependencies":{"minUI5Version":"1.141","libs":{"sap.m":{"minVersion":"1.141.0"},"sap.suite.ui.microchart":{"minVersion":"1.141.0","lazy":true},"sap.ui.core":{"minVersion":"1.141.0"},"sap.f":{"minVersion":"1.141.0"},"sap.fe.core":{"minVersion":"1.141.1"},"sap.fe.navigation":{"minVersion":"1.141.1"},"sap.fe.controls":{"minVersion":"1.141.1"},"sap.ui.layout":{"minVersion":"1.141.0"},"sap.ui.unified":{"minVersion":"1.141.0"},"sap.ui.mdc":{"minVersion":"1.141.0"},"sap.ui.richtexteditor":{"minVersion":"1.141.0","lazy":true},"sap.uxap":{"minVersion":"1.141.0","lazy":true}}},"library":{"i18n":{"bundleUrl":"messagebundle.properties","supportedLocales":["","ar","bg","ca","cnr","cs","cy","da","de","el","en","en-GB","en-US-sappsd","en-US-saprigi","en-US-saptrc","es","es-MX","et","fi","fr","fr-CA","hi","hr","hu","id","it","iw","ja","kk","ko","lt","lv","mk","ms","nl","no","pl","pt","pt-PT","ro","ru","sh","sk","sl","sr","sv","th","tr","uk","vi","zh-CN","zh-TW"]},"css":false,"content":{"controls":[],"elements":[],"types":["sap.fe.macros.NavigationType"],"interfaces":[]}}}}',
	"sap/fe/macros/quickView/fragments/QuickViewFacets.fragment.xml":'<core:FragmentDefinition\n\txmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"\n\txmlns:core="sap.ui.core"\n\txmlns="sap.m"\n\txmlns:f="sap.ui.layout.form"\n\txmlns:contact="sap.fe.macros.contact"\n\ttemplate:require="{\n\t\t\t\tCONTACT: \'sap/fe/macros/contact/ContactHelper\',\n\t\t\t\tMODEL: \'sap/ui/model/odata/v4/AnnotationHelper\',\n\t\t\t\tUI: \'sap/fe/core/templating/UIFormatters\',\n\t\t\t\tFieldTemplating: \'sap/fe/macros/field/FieldTemplating\'\n\t\t\t\t}"\n><template:if test="{entityType>./@com.sap.vocabularies.UI.v1.QuickViewFacets}"><template:repeat list="{entityType>./@com.sap.vocabularies.UI.v1.QuickViewFacets}" var="facet"><template:if test="{= ${facet>Target/$AnnotationPath}.indexOf(\'com.sap.vocabularies.Communication.v1.Contact\') > -1 }"><template:then><template:with path="facet>Target/$AnnotationPath" var="contact"><f:SimpleForm\n\t\t\t\t\t\t\teditable="false"\n\t\t\t\t\t\t\tlayout="ResponsiveGridLayout"\n\t\t\t\t\t\t\tmaxContainerCols="1"\n\t\t\t\t\t\t\tclass="sapMQuickViewPage sapUiTinyMarginBottom"\n\t\t\t\t\t\t\tvisible="{= UI.isQuickViewFacetVisible(${facet>@@UI.getDataModelObjectPath}) }"\n\t\t\t\t\t\t><contact:TeamContactOptions mail="{= CONTACT.getMsTeamsMail(${contact>@@UI.getDataModelObjectPath})}" /><template:if test="{= !!${facet>Label} }"><Title level="H4" text="{facet>Label}" class="sapUiTinyMarginBottom" /></template:if><core:Fragment fragmentName="sap.fe.macros.contact.ContactQuickViewGroup" type="XML" /></f:SimpleForm></template:with></template:then><template:elseif test="{= (${facet>Target/$AnnotationPath}.indexOf(\'com.sap.vocabularies.UI.v1.FieldGroup\') > -1)}"><template:with path="facet>Target/$AnnotationPath" var="fieldGroup"><f:SimpleForm\n\t\t\t\t\t\t\teditable="false"\n\t\t\t\t\t\t\tlayout="ResponsiveGridLayout"\n\t\t\t\t\t\t\tmaxContainerCols="1"\n\t\t\t\t\t\t\tclass="sapMQuickViewPage sapUiTinyMarginBottom"\n\t\t\t\t\t\t\tvisible="{= UI.isQuickViewFacetVisible(${facet>@@UI.getDataModelObjectPath}) }"\n\t\t\t\t\t\t><template:if test="{= !!${facet>Label} }"><core:Title level="H4" text="{facet>Label}" /></template:if><template:repeat list="{fieldGroup>Data}" var="dataField"><core:Fragment fragmentName="sap.fe.macros.quickView.fragments.QuickViewFormField" type="XML" /></template:repeat></f:SimpleForm></template:with></template:elseif><template:elseif test="{= (${facet>Target/$AnnotationPath}.indexOf(\'com.sap.vocabularies.UI.v1.Identification\') > -1) }"><template:with path="facet>Target/$AnnotationPath" var="identification"><f:SimpleForm\n\t\t\t\t\t\t\teditable="false"\n\t\t\t\t\t\t\tlayout="ResponsiveGridLayout"\n\t\t\t\t\t\t\tmaxContainerCols="1"\n\t\t\t\t\t\t\tclass="sapMQuickViewPage sapUiTinyMarginBottom"\n\t\t\t\t\t\t\tvisible="{= UI.isQuickViewFacetVisible(${facet>@@UI.getDataModelObjectPath}) }"\n\t\t\t\t\t\t><template:if test="{= !!${facet>Label} }"><core:Title level="H4" text="{facet>Label}" /></template:if><template:repeat list="{identification>}" var="dataField"><core:Fragment fragmentName="sap.fe.macros.quickView.fragments.QuickViewFormField" type="XML" /></template:repeat></f:SimpleForm></template:with></template:elseif><template:elseif test="{= (${facet>Target/$AnnotationPath}.indexOf(\'com.sap.vocabularies.UI.v1.DataPoint\') > -1) }"><template:with path="facet>Target/$AnnotationPath" var="dataPoint"><f:SimpleForm\n\t\t\t\t\t\t\teditable="false"\n\t\t\t\t\t\t\tlayout="ResponsiveGridLayout"\n\t\t\t\t\t\t\tmaxContainerCols="1"\n\t\t\t\t\t\t\tclass="sapMQuickViewPage sapUiTinyMarginBottom"\n\t\t\t\t\t\t\tvisible="{= UI.isQuickViewFacetVisible(${facet>@@UI.getDataModelObjectPath}) }"\n\t\t\t\t\t\t><template:if test="{= !!${facet>Label} }"><core:Title level="H4" text="{facet>Label}" /></template:if><Label text="{dataField>@@MODEL.label}" /><Text\n\t\t\t\t\t\t\t\ttext="{= ${dataPoint>TargetValue@@MODEL.format} ? ${dataPoint>Value@@MODEL.format}+\'/\'+${dataPoint>TargetValue@@MODEL.format} : ${dataPoint>Value@@MODEL.format} }"\n\t\t\t\t\t\t\t/></f:SimpleForm></template:with></template:elseif></template:if></template:repeat></template:if></core:FragmentDefinition>\n',
	"sap/fe/macros/quickView/fragments/QuickViewForDataField.fragment.xml":'<core:FragmentDefinition\n\txmlns:core="sap.ui.core"\n\txmlns:macros="sap.fe.macros.quickView"\n\txmlns="sap.m"\n\txmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"\n\ttemplate:require="{\n\t\tMACRO: \'sap/fe/macros/MacroTemplating\'\n\t }"\n><VBox class="sapUiTinyMarginTopBottom" /></core:FragmentDefinition>\n',
	"sap/fe/macros/quickView/fragments/QuickViewForEntity.fragment.xml":'<core:FragmentDefinition\n\txmlns:core="sap.ui.core"\n\txmlns:macros="sap.fe.macros.quickView"\n\txmlns="sap.m"\n\txmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"\n\ttemplate:require="{\n\t\tMACRO: \'sap/fe/macros/MacroTemplating\'\n\t }"\n><VBox class="sapFePaddingTop sapUiTinyMarginBottom"><core:Fragment fragmentName="sap.fe.macros.quickView.fragments.QuickViewFacets" type="XML" /></VBox></core:FragmentDefinition>\n',
	"sap/fe/macros/quickView/fragments/QuickViewFormField.fragment.xml":'<core:FragmentDefinition\n\txmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"\n\txmlns:core="sap.ui.core"\n\txmlns="sap.m"\n\ttemplate:require="{\n\t\t\t\tMODEL: \'sap/ui/model/odata/v4/AnnotationHelper\',\n\t\t\t\tUI: \'sap/fe/core/templating/UIFormatters\',\n\t\t\t\tFieldTemplating: \'sap/fe/macros/field/FieldTemplating\'\n\t\t\t\t}"\n><Label text="{dataField>@@MODEL.label}" /><template:if test="{= FieldTemplating.getQuickViewType(${dataField>@@UI.getDataModelObjectPath})===\'link\'}"><template:then><Link\n\t\t\t\ttext="{= FieldTemplating.getQuickViewBinding(${dataField>Value@@UI.getDataModelObjectPath}) }"\n\t\t\t\thref="{= FieldTemplating.getQuickViewBinding(${dataField>Url@@UI.getDataModelObjectPath}) }"\n\t\t\t\tvisible="{= FieldTemplating.getVisibleExpression(${dataField>@@UI.getDataModelObjectPath})}"\n\t\t\t\temptyIndicatorMode="On"\n\t\t\t/></template:then><template:elseif test="{= FieldTemplating.getQuickViewType(${dataField>@@UI.getDataModelObjectPath})===\'phone\'}"><Link\n\t\t\t\ttext="{= FieldTemplating.getQuickViewBinding(${dataField>Value@@UI.getDataModelObjectPath}) }"\n\t\t\t\thref="{= \'phone:\' + FieldTemplating.getValueBinding(${dataField>Value@@UI.getDataModelObjectPath}) }"\n\t\t\t\tvisible="{= FieldTemplating.getVisibleExpression(${dataField>@@UI.getDataModelObjectPath})}"\n\t\t\t\temptyIndicatorMode="On"\n\t\t\t/></template:elseif><template:elseif test="{= FieldTemplating.getQuickViewType(${dataField>@@UI.getDataModelObjectPath})===\'email\'}"><Link\n\t\t\t\ttext="{= FieldTemplating.getQuickViewBinding(${dataField>Value@@UI.getDataModelObjectPath}) }"\n\t\t\t\thref="{= \'mailto:\' + FieldTemplating.getValueBinding(${dataField>Value@@UI.getDataModelObjectPath}) }"\n\t\t\t\tvisible="{= FieldTemplating.getVisibleExpression(${dataField>@@UI.getDataModelObjectPath})}"\n\t\t\t\temptyIndicatorMode="On"\n\t\t\t/></template:elseif><template:else><Text\n\t\t\t\ttext="{= FieldTemplating.getQuickViewBinding(${dataField>Value@@UI.getDataModelObjectPath}) }"\n\t\t\t\tvisible="{= FieldTemplating.getVisibleExpression(${dataField>@@UI.getDataModelObjectPath})}"\n\t\t\t\temptyIndicatorMode="On"\n\t\t\t/></template:else></template:if></core:FragmentDefinition>\n',
	"sap/fe/macros/share/ShareSheet.fragment.xml":'<core:FragmentDefinition xmlns="sap.m" xmlns:core="sap.ui.core" xmlns:footerbar="sap.ushell.ui.footerbar"><ActionSheet cancelButtonPress="onCancelPressed"><buttons><Button icon="sap-icon://email" press="shareEmailPressed" text="{share>/emailButtonText}" class="sapMFlexBox" width="100%" /><Button\n\t\t\t\ticon="sap-icon://share-2"\n\t\t\t\tpress="shareJamPressed"\n\t\t\t\ttext="{share>/jamButtonText}"\n\t\t\t\tvisible="{share>/jamVisible}"\n\t\t\t\tclass="sapMFlexBox"\n\t\t\t\twidth="100%"\n\t\t\t/><Button\n\t\t\t\ticon="sap-icon://group"\n\t\t\t\tpress="shareMSTeamsPressed"\n\t\t\t\ttext="{share>/msTeamsShareButtonText}"\n\t\t\t\tvisible="{share>/msTeamsVisible}"\n\t\t\t\tclass="sapMFlexBox"\n\t\t\t\twidth="100%"\n\t\t\t/><footerbar:AddBookmarkButton\n\t\t\t\ttitle="{share>/title}"\n\t\t\t\tsubtitle="{share>/subtitle}"\n\t\t\t\ttileIcon="{share>/icon}"\n\t\t\t\tcustomUrl="{share>/url}"\n\t\t\t\tserviceUrl="{share>/queryUrl}"\n\t\t\t\tclass="sapMFlexBox"\n\t\t\t\twidth="100%"\n\t\t\t\tpress="onSaveTilePress"\n\t\t\t\tvisible="{share>/saveAsTileVisible}"\n\t\t\t/></buttons></ActionSheet></core:FragmentDefinition>\n',
	"sap/fe/macros/valuehelp/ValueHelpFilterBar.fragment.xml":'<core:FragmentDefinition\n\txmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"\n\txmlns:core="sap.ui.core"\n\txmlns:mdc="sap.ui.mdc"\n\txmlns:mdcFbVh="sap.ui.mdc.valuehelp"\n\txmlns="sap.m"\n\txmlns:macro="sap.fe.macros"\n\txmlns:internalMacro="sap.fe.macros.internal"\n\txmlns:log="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1"\n\txmlns:macroData="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1"\n\ttemplate:require="{\n\t\tID: \'sap/fe/core/helpers/StableIdHelper\',\n\t\tCOMMON: \'sap/fe/macros/CommonHelper\',\n\t\tMACRO: \'sap/fe/macros/MacroTemplating\'\n\t}"\n><mdcFbVh:FilterBar\n\t\tid="{this>id}"\n\t\tliveMode="{this>liveMode}"\n\t\tdelegate="{= \'{name:\\\'sap/fe/macros/filterBar/FilterBarDelegate\\\', payload: {entityTypePath: \\\'\' + ${contextPath>@@MACRO.getPath} + \'\\\'} }\' }"\n\t\tsearch="{this>search}"\n\t\tfilterChanged="{this>filterChanged}"\n\t\tfilterConditions="{this>filterConditions}"\n\t\tsuspendSelection="{this>suspendSelection}"\n\t\texpandFilterFields="{this>expandFilterFields}"\n\t\tshowMessages="false"\n\t\tmacroData:hideBasicSearch="{this>hideBasicSearch}"\n\t\tmacroData:useSemanticDateRange="{this>useSemanticDateRange}"\n\t\tmacroData:selectionFields="{= COMMON.stringifyCustomData(${this>selectionFields}) }"\n\t\tmacroData:entityType="{contextPath>@@MACRO.getPath}"\n\t><mdcFbVh:dependents><template:repeat list="{path:\'selectionFields>\'}" var="item"><template:if test="{= ${item>availability} === \'Default\' &amp;&amp; ${item>template} === undefined}"><template:with path="item>annotationPath" var="property"><macro:ValueHelp\n\t\t\t\t\t\t\tidPrefix="{= ID.generate([${this>id}, \'FilterFieldValueHelp\', COMMON.getNavigationPath(${item>annotationPath})]) }"\n\t\t\t\t\t\t\tcontextPath="{contextPath>@@COMMON.getMetaPath}"\n\t\t\t\t\t\t\tconditionModel="$filters"\n\t\t\t\t\t\t\tmetaModel="{contextPath>@@COMMON.getMetaModelId}"\n\t\t\t\t\t\t\tmetaPath="{property>@@COMMON.getMetaPath}"\n\t\t\t\t\t\t\tfilterFieldValueHelp="true"\n\t\t\t\t\t\t\tuseSemanticDateRange="{this>useSemanticDateRange}"\n\t\t\t\t\t\t/></template:with></template:if></template:repeat><template:if\n\t\t\t\ttest="{= !${path:\'contextPath>@com.sap.vocabularies.UI.v1.SelectionFields\'}  &amp;&amp; (${this>enableFallback} === true)}"\n\t\t\t><template:repeat\n\t\t\t\t\tlist="{path:\'contextPath>\', filters: {path: \'$kind\', operator: \'EQ\', value1:\'Property\'}}"\n\t\t\t\t\tvar="selectionField"\n\t\t\t\t><template:with path="selectionField>" var="item"><macro:ValueHelp\n\t\t\t\t\t\t\tidPrefix="{= ID.generate([${this>id}, \'FilterFieldValueHelp\']) }"\n\t\t\t\t\t\t\tcontextPath="{contextPath>@@COMMON.getMetaPath}"\n\t\t\t\t\t\t\tmetaModel="{contextPath>@@COMMON.getMetaModelId}"\n\t\t\t\t\t\t\tconditionModel="$filters"\n\t\t\t\t\t\t\tmetaPath="{item>@@COMMON.getMetaPath}"\n\t\t\t\t\t\t\tfilterFieldValueHelp="true"\n\t\t\t\t\t\t\tuseSemanticDateRange="{this>useSemanticDateRange}"\n\t\t\t\t\t\t/></template:with></template:repeat></template:if></mdcFbVh:dependents><template:if test="{= !${this>hideBasicSearch} }"><mdcFbVh:basicSearchField><mdc:FilterField\n\t\t\t\t\tplaceholder="{sap.fe.i18n>M_FILTERBAR_SEARCH}"\n\t\t\t\t\tpropertyKey="$search"\n\t\t\t\t\tconditions="{$filters>/conditions/$search}"\n\t\t\t\t\tdataType="Edm.String"\n\t\t\t\t\tmaxConditions="1"\n\t\t\t\t/></mdcFbVh:basicSearchField></template:if><mdcFbVh:filterItems><template:repeat list="{path:\'selectionFields>\'}" var="item"><template:if test="{= ${item>availability} === \'Default\'}"><template:if test="{= ${item>template} === undefined}"><template:then><template:with path="item>annotationPath" var="property"><internalMacro:FilterField\n\t\t\t\t\t\t\t\t\tidPrefix="{= ID.generate([${this>id}, \'FilterField\', COMMON.getNavigationPath(${item>annotationPath})]) }"\n\t\t\t\t\t\t\t\t\tvhIdPrefix="{= ID.generate([${this>id}, \'FilterFieldValueHelp\', COMMON.getNavigationPath(${item>annotationPath})]) }"\n\t\t\t\t\t\t\t\t\tcontextPath="{contextPath>}"\n\t\t\t\t\t\t\t\t\tproperty="{property>}"\n\t\t\t\t\t\t\t\t\t_valueList="{_valueList>}"\n\t\t\t\t\t\t\t\t\tuseSemanticDateRange="{this>useSemanticDateRange}"\n\t\t\t\t\t\t\t\t\tsettings="{= COMMON.stringifyCustomData(${item>settings}) }"\n\t\t\t\t\t\t\t\t/></template:with></template:then><template:else><core:Fragment fragmentName="sap.fe.macros.filter.CustomFilter" type="XML" /></template:else></template:if></template:if></template:repeat><template:if\n\t\t\t\ttest="{= !${contextPath>@com.sap.vocabularies.UI.v1.SelectionFields} &amp;&amp; (${this>enableFallback} === true) }"\n\t\t\t><template:repeat\n\t\t\t\t\tlist="{path:\'contextPath>\', filters: {path: \'$kind\', operator: \'EQ\', value1:\'Property\'}}"\n\t\t\t\t\tvar="selectionField"\n\t\t\t\t><internalMacro:FilterField\n\t\t\t\t\t\tcontextPath="{contextPath>}"\n\t\t\t\t\t\tproperty="{selectionField>}"\n\t\t\t\t\t\t_valueList="{_valueList>}"\n\t\t\t\t\t\tidPrefix="{= ID.generate([${this>id}, \'FilterField\']) }"\n\t\t\t\t\t\tvhIdPrefix="{= ID.generate([${this>id}, \'FilterFieldValueHelp\']) }"\n\t\t\t\t\t\tuseSemanticDateRange="{this>useSemanticDateRange}"\n\t\t\t\t\t\tlog:comment="Taken from Properties"\n\t\t\t\t\t\tsettings="{= COMMON.stringifyCustomData(${selectionField>settings}) }"\n\t\t\t\t\t/></template:repeat></template:if></mdcFbVh:filterItems></mdcFbVh:FilterBar></core:FragmentDefinition>\n',
	"sap/fe/macros/visualfilters/fragments/InteractiveDonutChart.fragment.xml":'<core:FragmentDefinition\n\txmlns="sap.suite.ui.microchart"\n\txmlns:core="sap.ui.core"\n\txmlns:m="sap.m"\n\txmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"\n\txmlns:macrodata="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1"\n\ttemplate:require="{\n\t\tMODEL: \'sap/ui/model/odata/v4/AnnotationHelper\',\n\t\tHELPER: \'sap/fe/macros/visualfilters/InteractiveChartHelper\',\n\t\tID: \'sap/fe/core/helpers/StableIdHelper\',\n        FieldHelper: \'sap/fe/macros/field/FieldHelper\',\n\t\tUI: \'sap/fe/core/templating/UIFormatters\',\n\t\tCOMMON: \'sap/fe/macros/CommonHelper\',\n\t\tFieldTemplating: \'sap/fe/macros/field/FieldTemplating\',\n\t\tMACRO: \'sap/fe/macros/MacroTemplating\'\n\t}"\n\tcore:require="{\n\t\tVisualFilterRuntime: \'sap/fe/macros/visualfilters/VisualFilterRuntime\'\n\t}"\n><template:if test="{= ${chartAnnotation>Measures/0/} &amp;&amp; ${chartAnnotation>Dimensions/0/} }"><template:then><template:with path="chartAnnotation>Measures/0" helper="COMMON.getMeasureAttributeForMeasure" var="DataPoint"><template:with path="chartAnnotation>Measures/0/" var="Measure"><template:with path="chartAnnotation>Dimensions/0/" var="Dimension"><InteractiveDonutChart\n\t\t\t\t\t\t\tcore:require="{VisualFilterRuntime: \'sap/fe/macros/visualfilters/VisualFilterRuntime\'}"\n\t\t\t\t\t\t\tselectionChanged="VisualFilterRuntime.selectionChanged"\n\t\t\t\t\t\t\tvisible="{= \'{= !${internal>\' + ID.generate([${metaPath>@@MACRO.getPath}]) + \'/showOverLayForVF}}\'}"\n\t\t\t\t\t\t\tsegments="{parts:[{path:\'chartAnnotation>\'},{path:\'contextPath>\'},{path: \'Dimension>$PropertyPath@com.sap.vocabularies.Common.v1.Text\'},{path:\'Dimension>$PropertyPath/$Type\'},{path:\'metaPath>SortOrder\'}, {path: \'this>selectionVariantAnnotation\'}, {path:\'this>bCustomAggregate\'}, {path:\'this>aggregateProperties\'}, {path:\'this>bUoMHasCustomAggregate\'}],formatter:\'HELPER.getAggregationBinding\'}"\n\t\t\t\t\t\t\tmacrodata:outParameter="{= ${this>outParameter}}"\n\t\t\t\t\t\t\tmacrodata:valuelistProperty="{= ${this>valuelistProperty}}"\n\t\t\t\t\t\t\tmacrodata:multipleSelectionAllowed="{= %{this>multipleSelectionAllowed}}"\n\t\t\t\t\t\t\tmacrodata:dimension="{= ${Dimension>$PropertyPath}}"\n\t\t\t\t\t\t\tmacrodata:dimensionText="{= ${Dimension>$PropertyPath@com.sap.vocabularies.Common.v1.Text} ? ${Dimension>$PropertyPath@com.sap.vocabularies.Common.v1.Text/$Path} : undefined}"\n\t\t\t\t\t\t\tmacrodata:measure="{= ${Measure>$PropertyPath}}"\n\t\t\t\t\t\t\tmacrodata:scalefactor="{= HELPER.getScaleFactor(${DataPoint>ValueFormat})}"\n\t\t\t\t\t\t\tmacrodata:uom="{parts:[{path:\'chartAnnotation>\'},{path:\'contextPath>\'},{value:\'true\'}, {path:\'this>bCustomAggregate\'}, {path:\'this>aggregateProperties\'}],formatter:\'HELPER.getUoM\'}"\n\t\t\t\t\t\t\tmacrodata:inParameters="{= COMMON.stringifyCustomData(${this>inParameters}) }"\n\t\t\t\t\t\t\tmacrodata:inParameterConditions="{= ${this>inParameters} !== undefined ? HELPER.getInParameterFiltersBinding(${this>inParameters}) : undefined}"\n\t\t\t\t\t\t\tmacrodata:dimensionType="{= ${Dimension>$PropertyPath/$Type}}"\n\t\t\t\t\t\t\tmacrodata:selectionVariantAnnotation="{= COMMON.stringifyCustomData(${this>selectionVariantAnnotation})}"\n\t\t\t\t\t\t\tmacrodata:required="{this>required}"\n\t\t\t\t\t\t\tmacrodata:showOverlayInitially="{this>showOverlayInitially}"\n\t\t\t\t\t\t\tmacrodata:requiredProperties="{this>requiredProperties}"\n\t\t\t\t\t\t\tmacrodata:infoPath="{= ID.generate([${metaPath>@@MACRO.getPath}]) }"\n\t\t\t\t\t\t><segments><InteractiveDonutChartSegment\n\t\t\t\t\t\t\t\t\tcore:require="{VisualFilterRuntime: \'sap/fe/macros/visualfilters/VisualFilterRuntime\'}"\n\t\t\t\t\t\t\t\t\tlabel="{= FieldTemplating.getTextBinding(${Dimension>@@UI.getDataModelObjectPath})}"\n\t\t\t\t\t\t\t\t\tvalue="{= ${Measure>$PropertyPath@@HELPER.getChartValue} }"\n\t\t\t\t\t\t\t\t\tdisplayedValue="{parts:[ {path: \'Measure>$PropertyPath\'}, {path: \'DataPoint>ValueFormat\'}, {path: \'metaPath>@@MACRO.getPath\'}], formatter: \'HELPER.getChartDisplayedValue\'}"\n\t\t\t\t\t\t\t\t\tcolor="{parts:[{path:\'DataPoint>@@UI.getDataModelObjectPath\'}, {path:\'Dimension>\'}], formatter: \'HELPER.getColorBinding\'}"\n\t\t\t\t\t\t\t\t\tselected="{path: \'$field>/conditions\', formatter: \'VisualFilterRuntime.getAggregationSelected\'}"\n\t\t\t\t\t\t\t\t/></segments></InteractiveDonutChart><m:VBox\n\t\t\t\t\t\t\tclass="sapUiOverlay sapUiResponsiveMargin"\n\t\t\t\t\t\t\tvisible="{= \'{internal>\' + ID.generate([${metaPath>@@MACRO.getPath}]) + \'/showOverLayForVF}\'}"\n\t\t\t\t\t\t><m:Text text="{= \'{internal>\' + ID.generate([${metaPath>@@MACRO.getPath}]) + \'/VFOverLayMessage}\'}" /></m:VBox></template:with></template:with></template:with></template:then></template:if></core:FragmentDefinition>\n',
	"sap/fe/navigation/manifest.json":'{"_version":"1.21.0","sap.app":{"id":"sap.fe.navigation","type":"library","embeds":[],"applicationVersion":{"version":"1.141.1"},"title":"UI5 library: sap.fe.navigation","description":"UI5 library: sap.fe.navigation","ach":"CA-UI5-FE-NAV","resources":"resources.json","offline":true},"sap.ui":{"technology":"UI5","supportedThemes":[]},"sap.ui5":{"dependencies":{"minUI5Version":"1.141","libs":{"sap.ui.core":{"minVersion":"1.141.0"}}},"library":{"i18n":false,"css":false,"content":{"controls":[],"elements":[],"types":["sap.fe.navigation.NavType","sap.fe.navigation.ParamHandlingMode","sap.fe.navigation.SuppressionBehavior"],"interfaces":[]}}}}',
	"sap/fe/placeholder/manifest.json":'{"_version":"1.21.0","sap.app":{"id":"sap.fe.placeholder","type":"library","embeds":[],"applicationVersion":{"version":"1.141.1"},"title":"UI5 library: sap.fe.placeholder","description":"UI5 library: sap.fe.placeholder","ach":"CA-UI5-FE","resources":"resources.json","offline":true},"sap.ui":{"technology":"UI5","supportedThemes":["base","sap_belize","sap_belize_base","sap_belize_hcb","sap_belize_hcw","sap_belize_plus","sap_fiori_3","sap_fiori_3_dark","sap_fiori_3_hcb","sap_fiori_3_hcw","sap_horizon","sap_horizon_dark","sap_horizon_hcb","sap_horizon_hcw"]},"sap.ui5":{"dependencies":{"minUI5Version":"1.141","libs":{"sap.ui.core":{"minVersion":"1.141.0"}}},"library":{"i18n":false,"content":{"controls":[],"elements":[],"types":[],"interfaces":[]}}}}',
	"sap/fe/placeholder/view/PlaceholderALP.fragment.html":'<div class="sapFePlaceholderContainer">\n\t<!-- P A G E  H E A D E R -->\n\t<div class="sapFeHeader sapFeResponsivePadding sapFeALPHeader"><div class="sapFeHeaderTitle sapFeHeaderTitleWithSubtitle"><div class="sapFeHeaderTitleTextContainer"><div class="sapFeHeaderTitleText sapFeText sapFeTextWeightL sapFeTextWidthL"></div><div class="sapFeHeaderSubTitleText sapFeText sapFeTextWeightS sapFeTextWidthS"></div></div><div class="sapFeHeaderTitleActions sapFeSmallestVisibleSizeM"><div class="sapFeText sapFeTextWeightS sapFeTextWidthS sapFeHeaderTitleAction"></div></div></div><div class="sapFeHeaderContent"><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop"><div class="sapFeHorizontalLayout sapFeHorizontalContent sapFeTextAlignStart sapFeVerticalAlignTop"><div class="sapFeDonutChart sapFeALPHeaderDonut"><div class="sapFeDonutChartCutOut"></div><div class="sapFeDonutChartInnerCircle"></div></div><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop"><div class="sapFeBarChart"><div class="sapFeVerticalAlignInherit"><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeVerticalRepeater sapFeALPHeaderChart sapFeVAlignInline sapFeSmallestVisibleSizeM sapFeChartHorMeasure sapFeChartVertMeasure sapFeHorizontalBarChart"><div class="sapFeText sapFeTextWeightL sapFeTextWidth160 sapFeVerticalRepeaterItem"></div><div class="sapFeText sapFeTextWeightL sapFeTextWidthM sapFeVerticalRepeaterItem"></div><div class="sapFeText sapFeTextWeightL sapFeTextWidth140 sapFeVerticalRepeaterItem"></div></div></div></div></div><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop"><div class="sapFeBarChart"><div class="sapFeVerticalAlignInherit"><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeVerticalRepeater sapFeALPHeaderChart sapFeVAlignInline sapFeSmallestVisibleSizeM sapFeChartHorMeasure sapFeChartVertMeasure sapFeHorizontalBarChart"><div class="sapFeText sapFeTextWeightS sapFeTextWidth160 sapFeVerticalRepeaterItem"></div><div class="sapFeText sapFeTextWeightS sapFeTextWidth140 sapFeVerticalRepeaterItem"></div><div class="sapFeText sapFeTextHeight20 sapFeTextWidth0 sapFeVerticalRepeaterItem"></div></div></div></div></div></div></div></div></div>\n\n\n\t<!-- P A G E  C O N T E N T -->\n\t<div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeContent sapFeResponsivePadding"><div class="sapFeText sapFeTextWeightM sapFeTextWidthM sapFeALPHeaderText"></div><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop"><div class="sapFeBarChart"><div class="sapFeTextAlignInherit"><div class="sapFeHorizontalLayout sapFeHorizontalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeHorizontalRepeater sapFeALPHeaderChart sapFeChartHorMeasure sapFeChartVertMeasure sapFeVerticalBarChart"><div class="sapFeVerticalBar sapFeVerticalBarWeight15 sapFeVerticalBarHeight100 sapFeHorizontalRepeaterItem"></div><div class="sapFeVerticalBar sapFeVerticalBarWeight15 sapFeVerticalBarHeight30 sapFeHorizontalRepeaterItem"></div><div class="sapFeVerticalBar sapFeVerticalBarWeight15 sapFeVerticalBarHeight0 sapFeHorizontalRepeaterItem" ></div><div class="sapFeVerticalBar sapFeVerticalBarWeight15 sapFeVerticalBarHeight60 sapFeHorizontalRepeaterItem"></div><div class="sapFeVerticalBar sapFeVerticalBarWeight15 sapFeVerticalBarHeight40 sapFeHorizontalRepeaterItem"></div><div class="sapFeVerticalBar sapFeVerticalBarWeight15 sapFeVerticalBarHeight0 sapFeSmallestVisibleSizeM sapFeHorizontalRepeaterItem"></div><div class="sapFeVerticalBar sapFeVerticalBarWeight15 sapFeVerticalBarHeight30 sapFeSmallestVisibleSizeM sapFeHorizontalRepeaterItem"></div><div class="sapFeVerticalBar sapFeVerticalBarWeight15 sapFeVerticalBarHeight20 sapFeSmallestVisibleSizeM sapFeHorizontalRepeaterItem"></div><div class="sapFeVerticalBar sapFeVerticalBarWeight15 sapFeVerticalBarHeight0 sapFeSmallestVisibleSizeM sapFeHorizontalRepeaterItem"></div><div class="sapFeVerticalBar sapFeVerticalBarWeight15 sapFeVerticalBarHeight100 sapFeSmallestVisibleSizeM sapFeHorizontalRepeaterItem"></div><div class="sapFeVerticalBar sapFeVerticalBarWeight15 sapFeVerticalBarHeight80 sapFeSmallestVisibleSizeM sapFeHorizontalRepeaterItem"></div><div class="sapFeVerticalBar sapFeVerticalBarWeight15 sapFeVerticalBarHeight0 sapFeSmallestVisibleSizeM sapFeHorizontalRepeaterItem"></div><div class="sapFeVerticalBar sapFeVerticalBarWeight15 sapFeVerticalBarHeight80 sapFeSmallestVisibleSizeL sapFeHorizontalRepeaterItem"></div><div class="sapFeVerticalBar sapFeVerticalBarWeight15 sapFeVerticalBarHeight60 sapFeSmallestVisibleSizeL sapFeHorizontalRepeaterItem"></div><div class="sapFeVerticalBar sapFeVerticalBarWeight15 sapFeVerticalBarHeight0 sapFeSmallestVisibleSizeL sapFeHorizontalRepeaterItem"></div><div class="sapFeVerticalBar sapFeVerticalBarWeight15 sapFeVerticalBarHeight70 sapFeSmallestVisibleSizeL sapFeHorizontalRepeaterItem"></div><div class="sapFeVerticalBar sapFeVerticalBarWeight15 sapFeVerticalBarHeight60 sapFeSmallestVisibleSizeL sapFeHorizontalRepeaterItem"></div></div></div></div></div><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeTable"><div class="sapFeText sapFeTextWeightL sapFeTextWidthXL sapFeTableTitle"></div><div class="sapFeHorizontalLayout sapFeHorizontalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeTableColmnHeaderRow"><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeTableColmnHeaderCell sapFeTableCell"><div class="sapFeText sapFeTextWeightM sapFeTextWidthM sapFeTableColmnHeaderText sapFeTableText"></div></div><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeTableColmnHeaderCell sapFeTableCell sapFeSmallestVisibleSizeM"><div class="sapFeText sapFeTextWeightM sapFeTextWidthM sapFeTableColmnHeaderText sapFeTableText"></div></div><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeTableColmnHeaderCell sapFeTableCell sapFeSmallestVisibleSizeM"><div class="sapFeText sapFeTextWeightM sapFeTextWidthM sapFeTableColmnHeaderText sapFeTableText"></div></div><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeTableColmnHeaderCell sapFeTableCell sapFeSmallestVisibleSizeL"><div class="sapFeText sapFeTextWeightM sapFeTextWidthM sapFeTableColmnHeaderText sapFeTableText"></div></div><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeTableColmnHeaderCell sapFeTableCell sapFeSmallestVisibleSizeXL"><div class="sapFeText sapFeTextWeightM sapFeTextWidthM sapFeTableColmnHeaderText sapFeTableText"></div></div><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeTableColmnHeaderCell sapFeTableCell sapFeSmallestVisibleSizeXL"><div class="sapFeText sapFeTextWeightM sapFeTextWidthM sapFeTableColmnHeaderText sapFeTableText"></div></div><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeTableColmnHeaderCell sapFeTableCell sapFeSmallestVisibleSizeXXL"><div class="sapFeText sapFeTextWeightM sapFeTextWidthM sapFeTableColmnHeaderText sapFeTableText"></div></div><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeTableColmnHeaderCell sapFeTableCell sapFeSmallestVisibleSizeXXL"><div class="sapFeText sapFeTextWeightM sapFeTextWidthM sapFeTableColmnHeaderText sapFeTableText"></div></div></div><div class="sapFeHorizontalLayout sapFeHorizontalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeTableRow"><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeTableCell"><div class="sapFeText sapFeTextWeightM sapFeTextWidthM sapFeTableText"></div></div><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeTableCell sapFeSmallestVisibleSizeM"><div class="sapFeText sapFeTextWeightM sapFeTextWidthM sapFeTableText"></div></div><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeTableCell sapFeSmallestVisibleSizeM"><div class="sapFeText sapFeTextWeightM sapFeTextWidthM sapFeTableText"></div></div><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeTableCell sapFeSmallestVisibleSizeL"><div class="sapFeText sapFeTextWeightM sapFeTextWidthM sapFeTableText"></div></div><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeTableCell sapFeSmallestVisibleSizeXL"><div class="sapFeText sapFeTextWeightM sapFeTextWidthM sapFeTableText"></div></div><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeTableCell sapFeSmallestVisibleSizeXL"><div class="sapFeText sapFeTextWeightM sapFeTextWidthM sapFeTableText"></div></div><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeTableCell sapFeSmallestVisibleSizeXXL"><div class="sapFeText sapFeTextWeightM sapFeTextWidthM sapFeTableText"></div></div><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeTableCell sapFeSmallestVisibleSizeXXL"><div class="sapFeText sapFeTextWeightM sapFeTextWidthM sapFeTableText"></div></div></div><div class="sapFeHorizontalLayout sapFeHorizontalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeTableRow"><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeTableCell"><div class="sapFeText sapFeTextWeightM sapFeTextWidthM sapFeTableText"></div></div><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeTableCell sapFeSmallestVisibleSizeM"><div class="sapFeText sapFeTextWeightM sapFeTextWidthM sapFeTableText"></div></div><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeTableCell sapFeSmallestVisibleSizeM"><div class="sapFeText sapFeTextWeightM sapFeTextWidthM sapFeTableText"></div></div><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeTableCell sapFeSmallestVisibleSizeL"><div class="sapFeText sapFeTextWeightM sapFeTextWidthM sapFeTableText"></div></div><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeTableCell sapFeSmallestVisibleSizeXL"><div class="sapFeText sapFeTextWeightM sapFeTextWidthM sapFeTableText"></div></div><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeTableCell sapFeSmallestVisibleSizeXL"><div class="sapFeText sapFeTextWeightM sapFeTextWidthM sapFeTableText"></div></div><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeTableCell sapFeSmallestVisibleSizeXXL"><div class="sapFeText sapFeTextWeightM sapFeTextWidthM sapFeTableText"></div></div><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeTableCell sapFeSmallestVisibleSizeXXL"><div class="sapFeText sapFeTextWeightM sapFeTextWidthM sapFeTableText"></div></div></div><div class="sapFeHorizontalLayout sapFeHorizontalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeTableRow"><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeTableCell"><div class="sapFeText sapFeTextWeightM sapFeTextWidthM sapFeTableText"></div></div><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeTableCell sapFeSmallestVisibleSizeM"><div class="sapFeText sapFeTextWeightM sapFeTextWidthM sapFeTableText"></div></div><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeTableCell sapFeSmallestVisibleSizeM"><div class="sapFeText sapFeTextWeightM sapFeTextWidthM sapFeTableText"></div></div><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeTableCell sapFeSmallestVisibleSizeL"><div class="sapFeText sapFeTextWeightM sapFeTextWidthM sapFeTableText"></div></div><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeTableCell sapFeSmallestVisibleSizeXL"><div class="sapFeText sapFeTextWeightM sapFeTextWidthM sapFeTableText"></div></div><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeTableCell sapFeSmallestVisibleSizeXL"><div class="sapFeText sapFeTextWeightM sapFeTextWidthM sapFeTableText"></div></div><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeTableCell sapFeSmallestVisibleSizeXXL"><div class="sapFeText sapFeTextWeightM sapFeTextWidthM sapFeTableText"></div></div><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeTableCell sapFeSmallestVisibleSizeXXL"><div class="sapFeText sapFeTextWeightM sapFeTextWidthM sapFeTableText"></div></div></div><div class="sapFeHorizontalLayout sapFeHorizontalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeTableRow"><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeTableCell"><div class="sapFeText sapFeTextWeightM sapFeTextWidthM sapFeTableText"></div></div><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeTableCell sapFeSmallestVisibleSizeM"><div class="sapFeText sapFeTextWeightM sapFeTextWidthM sapFeTableText"></div></div><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeTableCell sapFeSmallestVisibleSizeM"><div class="sapFeText sapFeTextWeightM sapFeTextWidthM sapFeTableText"></div></div><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeTableCell sapFeSmallestVisibleSizeL"><div class="sapFeText sapFeTextWeightM sapFeTextWidthM sapFeTableText"></div></div><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeTableCell sapFeSmallestVisibleSizeXL"><div class="sapFeText sapFeTextWeightM sapFeTextWidthM sapFeTableText"></div></div><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeTableCell sapFeSmallestVisibleSizeXL"><div class="sapFeText sapFeTextWeightM sapFeTextWidthM sapFeTableText"></div></div><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeTableCell sapFeSmallestVisibleSizeXXL"><div class="sapFeText sapFeTextWeightM sapFeTextWidthM sapFeTableText"></div></div><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeTableCell sapFeSmallestVisibleSizeXXL"><div class="sapFeText sapFeTextWeightM sapFeTextWidthM sapFeTableText"></div></div></div><div class="sapFeHorizontalLayout sapFeHorizontalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeTableRow"><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeTableCell"><div class="sapFeText sapFeTextWeightM sapFeTextWidthM sapFeTableText"></div></div><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeTableCell sapFeSmallestVisibleSizeM"><div class="sapFeText sapFeTextWeightM sapFeTextWidthM sapFeTableText"></div></div><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeTableCell sapFeSmallestVisibleSizeM"><div class="sapFeText sapFeTextWeightM sapFeTextWidthM sapFeTableText"></div></div><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeTableCell sapFeSmallestVisibleSizeL"><div class="sapFeText sapFeTextWeightM sapFeTextWidthM sapFeTableText"></div></div><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeTableCell sapFeSmallestVisibleSizeXL"><div class="sapFeText sapFeTextWeightM sapFeTextWidthM sapFeTableText"></div></div><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeTableCell sapFeSmallestVisibleSizeXL"><div class="sapFeText sapFeTextWeightM sapFeTextWidthM sapFeTableText"></div></div><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeTableCell sapFeSmallestVisibleSizeXXL"><div class="sapFeText sapFeTextWeightM sapFeTextWidthM sapFeTableText"></div></div><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeTableCell sapFeSmallestVisibleSizeXXL"><div class="sapFeText sapFeTextWeightM sapFeTextWidthM sapFeTableText"></div></div></div><div class="sapFeHorizontalLayout sapFeHorizontalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeTableRow"><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeTableCell"><div class="sapFeText sapFeTextWeightM sapFeTextWidthM sapFeTableText"></div></div><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeTableCell sapFeSmallestVisibleSizeM"><div class="sapFeText sapFeTextWeightM sapFeTextWidthM sapFeTableText"></div></div><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeTableCell sapFeSmallestVisibleSizeM"><div class="sapFeText sapFeTextWeightM sapFeTextWidthM sapFeTableText"></div></div><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeTableCell sapFeSmallestVisibleSizeL"><div class="sapFeText sapFeTextWeightM sapFeTextWidthM sapFeTableText"></div></div><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeTableCell sapFeSmallestVisibleSizeXL"><div class="sapFeText sapFeTextWeightM sapFeTextWidthM sapFeTableText"></div></div><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeTableCell sapFeSmallestVisibleSizeXL"><div class="sapFeText sapFeTextWeightM sapFeTextWidthM sapFeTableText"></div></div><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeTableCell sapFeSmallestVisibleSizeXXL"><div class="sapFeText sapFeTextWeightM sapFeTextWidthM sapFeTableText"></div></div><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeTableCell sapFeSmallestVisibleSizeXXL"><div class="sapFeText sapFeTextWeightM sapFeTextWidthM sapFeTableText"></div></div></div><div class="sapFeHorizontalLayout sapFeHorizontalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeTableRow"><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeTableCell"><div class="sapFeText sapFeTextWeightM sapFeTextWidthM sapFeTableText"></div></div><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeTableCell sapFeSmallestVisibleSizeM"><div class="sapFeText sapFeTextWeightM sapFeTextWidthM sapFeTableText"></div></div><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeTableCell sapFeSmallestVisibleSizeM"><div class="sapFeText sapFeTextWeightM sapFeTextWidthM sapFeTableText"></div></div><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeTableCell sapFeSmallestVisibleSizeL"><div class="sapFeText sapFeTextWeightM sapFeTextWidthM sapFeTableText"></div></div><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeTableCell sapFeSmallestVisibleSizeXL"><div class="sapFeText sapFeTextWeightM sapFeTextWidthM sapFeTableText"></div></div><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeTableCell sapFeSmallestVisibleSizeXL"><div class="sapFeText sapFeTextWeightM sapFeTextWidthM sapFeTableText"></div></div><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeTableCell sapFeSmallestVisibleSizeXXL"><div class="sapFeText sapFeTextWeightM sapFeTextWidthM sapFeTableText"></div></div><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeTableCell sapFeSmallestVisibleSizeXXL"><div class="sapFeText sapFeTextWeightM sapFeTextWidthM sapFeTableText"></div></div></div><div class="sapFeHorizontalLayout sapFeHorizontalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeTableRow"><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeTableCell"><div class="sapFeText sapFeTextWeightM sapFeTextWidthM sapFeTableText"></div></div><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeTableCell sapFeSmallestVisibleSizeM"><div class="sapFeText sapFeTextWeightM sapFeTextWidthM sapFeTableText"></div></div><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeTableCell sapFeSmallestVisibleSizeM"><div class="sapFeText sapFeTextWeightM sapFeTextWidthM sapFeTableText"></div></div><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeTableCell sapFeSmallestVisibleSizeL"><div class="sapFeText sapFeTextWeightM sapFeTextWidthM sapFeTableText"></div></div><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeTableCell sapFeSmallestVisibleSizeXL"><div class="sapFeText sapFeTextWeightM sapFeTextWidthM sapFeTableText"></div></div><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeTableCell sapFeSmallestVisibleSizeXL"><div class="sapFeText sapFeTextWeightM sapFeTextWidthM sapFeTableText"></div></div><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeTableCell sapFeSmallestVisibleSizeXXL"><div class="sapFeText sapFeTextWeightM sapFeTextWidthM sapFeTableText"></div></div><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeTableCell sapFeSmallestVisibleSizeXXL"><div class="sapFeText sapFeTextWeightM sapFeTextWidthM sapFeTableText"></div></div></div></div></div>\n\n\n</div>',
	"sap/fe/placeholder/view/PlaceholderALP.view.xml":'<mvc:View\n\txmlns:mvc="sap.ui.core.mvc"\n\txmlns:core="sap.ui.core"\n\txmlns:custom="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1"\n\tdisplayBlock="true"\n\theight="100%"\n\tcontrollerName="sap.fe.placeholder.controller.Placeholder"\n\txmlns="http://www.w3.org/1999/xhtml"\n><core:HTML id="PlaceholderContent" preferDOM="false" content="&lt;div&gt;&lt;/div&gt;" custom:placeholder="sap/fe/placeholder/view/PlaceholderALP.fragment.html"/></mvc:View>\n',
	"sap/fe/placeholder/view/PlaceholderLR.fragment.html":'<div class="sapFePlaceholderContainer">\n\t<!-- P A G E  H E A D E R -->\n\t<div class="sapFeHeader sapFeResponsivePadding sapFePageHeader"><div class="sapFeHeaderTitle"><div class="sapFeHeaderTitleTextContainer"><div class="sapFeHeaderTitleText sapFeText sapFeTextWeightL sapFeTextWidthL"></div></div><div class="sapFeHeaderTitleActions sapFeSmallestVisibleSizeM"><div class="sapFeText sapFeTextWeightS sapFeTextWidthS sapFeHeaderTitleAction"></div></div></div><div class="sapFeHeaderContent"><div class="sapFeHorizontalLayout sapFeHorizontalContent sapFeTextAlignStart sapFeVerticalAlignTop"><div class="sapFeVerticalAlignInherit"><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeVerticalRepeater sapFeHeaderTitleAction"><div class="sapFeText sapFeTextWeightS sapFeTextWidthM sapFeVerticalRepeaterItem"></div><div class="sapFeText sapFeTextWeightS sapFeTextWidthS sapFeVerticalRepeaterItem"></div></div></div><div class="sapFeVerticalAlignInherit"><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeVerticalRepeater sapFeHeaderTitleAction sapFeSmallestVisibleSizeM"><div class="sapFeText sapFeTextWeightS sapFeTextWidthM sapFeVerticalRepeaterItem"></div><div class="sapFeText sapFeTextWeightS sapFeTextWidthS sapFeVerticalRepeaterItem"></div></div></div><div class="sapFeVerticalAlignInherit"><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeVerticalRepeater sapFeHeaderTitleAction sapFeSmallestVisibleSizeM"><div class="sapFeText sapFeTextWeightS sapFeTextWidthM sapFeVerticalRepeaterItem"></div><div class="sapFeText sapFeTextWeightS sapFeTextWidthS sapFeVerticalRepeaterItem"></div></div></div><div class="sapFeVerticalAlignInherit"><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeVerticalRepeater sapFeHeaderTitleAction sapFeSmallestVisibleSizeL"><div class="sapFeText sapFeTextWeightS sapFeTextWidthM sapFeVerticalRepeaterItem"></div><div class="sapFeText sapFeTextWeightS sapFeTextWidthS sapFeVerticalRepeaterItem"></div></div></div></div></div></div>\n\n\t<!-- P A G E  C O N T E N T -->\n\t<div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeContent sapFeResponsivePadding"><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeTable"><div class="sapFeText sapFeTextWeightL sapFeTextWidthXL sapFeTableTitle"></div><div class="sapFeHorizontalLayout sapFeHorizontalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeTableColmnHeaderRow"><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeTableColmnHeaderCell sapFeTableCell"><div class="sapFeText sapFeTextWeightM sapFeTextWidthM sapFeTableColmnHeaderText sapFeTableText"></div></div><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeTableColmnHeaderCell sapFeTableCell sapFeSmallestVisibleSizeM"><div class="sapFeText sapFeTextWeightM sapFeTextWidthM sapFeTableColmnHeaderText sapFeTableText"></div></div><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeTableColmnHeaderCell sapFeTableCell sapFeSmallestVisibleSizeM"><div class="sapFeText sapFeTextWeightM sapFeTextWidthM sapFeTableColmnHeaderText sapFeTableText"></div></div><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeTableColmnHeaderCell sapFeTableCell sapFeSmallestVisibleSizeL"><div class="sapFeText sapFeTextWeightM sapFeTextWidthM sapFeTableColmnHeaderText sapFeTableText"></div></div><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeTableColmnHeaderCell sapFeTableCell sapFeSmallestVisibleSizeXL"><div class="sapFeText sapFeTextWeightM sapFeTextWidthM sapFeTableColmnHeaderText sapFeTableText"></div></div><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeTableColmnHeaderCell sapFeTableCell sapFeSmallestVisibleSizeXL"><div class="sapFeText sapFeTextWeightM sapFeTextWidthM sapFeTableColmnHeaderText sapFeTableText"></div></div><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeTableColmnHeaderCell sapFeTableCell sapFeSmallestVisibleSizeXXL"><div class="sapFeText sapFeTextWeightM sapFeTextWidthM sapFeTableColmnHeaderText sapFeTableText"></div></div><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeTableColmnHeaderCell sapFeTableCell sapFeSmallestVisibleSizeXXL"><div class="sapFeText sapFeTextWeightM sapFeTextWidthM sapFeTableColmnHeaderText sapFeTableText"></div></div></div><div class="sapFeHorizontalLayout sapFeHorizontalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeTableRow"><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeTableCell"><div class="sapFeText sapFeTextWeightM sapFeTextWidthM sapFeTableText"></div></div><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeTableCell sapFeSmallestVisibleSizeM"><div class="sapFeText sapFeTextWeightM sapFeTextWidthM sapFeTableText"></div></div><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeTableCell sapFeSmallestVisibleSizeM"><div class="sapFeText sapFeTextWeightM sapFeTextWidthM sapFeTableText"></div></div><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeTableCell sapFeSmallestVisibleSizeL"><div class="sapFeText sapFeTextWeightM sapFeTextWidthM sapFeTableText"></div></div><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeTableCell sapFeSmallestVisibleSizeXL"><div class="sapFeText sapFeTextWeightM sapFeTextWidthM sapFeTableText"></div></div><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeTableCell sapFeSmallestVisibleSizeXL"><div class="sapFeText sapFeTextWeightM sapFeTextWidthM sapFeTableText"></div></div><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeTableCell sapFeSmallestVisibleSizeXXL"><div class="sapFeText sapFeTextWeightM sapFeTextWidthM sapFeTableText"></div></div><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeTableCell sapFeSmallestVisibleSizeXXL"><div class="sapFeText sapFeTextWeightM sapFeTextWidthM sapFeTableText"></div></div></div><div class="sapFeHorizontalLayout sapFeHorizontalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeTableRow"><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeTableCell"><div class="sapFeText sapFeTextWeightM sapFeTextWidthM sapFeTableText"></div></div><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeTableCell sapFeSmallestVisibleSizeM"><div class="sapFeText sapFeTextWeightM sapFeTextWidthM sapFeTableText"></div></div><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeTableCell sapFeSmallestVisibleSizeM"><div class="sapFeText sapFeTextWeightM sapFeTextWidthM sapFeTableText"></div></div><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeTableCell sapFeSmallestVisibleSizeL"><div class="sapFeText sapFeTextWeightM sapFeTextWidthM sapFeTableText"></div></div><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeTableCell sapFeSmallestVisibleSizeXL"><div class="sapFeText sapFeTextWeightM sapFeTextWidthM sapFeTableText"></div></div><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeTableCell sapFeSmallestVisibleSizeXL"><div class="sapFeText sapFeTextWeightM sapFeTextWidthM sapFeTableText"></div></div><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeTableCell sapFeSmallestVisibleSizeXXL"><div class="sapFeText sapFeTextWeightM sapFeTextWidthM sapFeTableText"></div></div><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeTableCell sapFeSmallestVisibleSizeXXL"><div class="sapFeText sapFeTextWeightM sapFeTextWidthM sapFeTableText"></div></div></div><div class="sapFeHorizontalLayout sapFeHorizontalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeTableRow"><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeTableCell"><div class="sapFeText sapFeTextWeightM sapFeTextWidthM sapFeTableText"></div></div><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeTableCell sapFeSmallestVisibleSizeM"><div class="sapFeText sapFeTextWeightM sapFeTextWidthM sapFeTableText"></div></div><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeTableCell sapFeSmallestVisibleSizeM"><div class="sapFeText sapFeTextWeightM sapFeTextWidthM sapFeTableText"></div></div><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeTableCell sapFeSmallestVisibleSizeL"><div class="sapFeText sapFeTextWeightM sapFeTextWidthM sapFeTableText"></div></div><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeTableCell sapFeSmallestVisibleSizeXL"><div class="sapFeText sapFeTextWeightM sapFeTextWidthM sapFeTableText"></div></div><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeTableCell sapFeSmallestVisibleSizeXL"><div class="sapFeText sapFeTextWeightM sapFeTextWidthM sapFeTableText"></div></div><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeTableCell sapFeSmallestVisibleSizeXXL"><div class="sapFeText sapFeTextWeightM sapFeTextWidthM sapFeTableText"></div></div><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeTableCell sapFeSmallestVisibleSizeXXL"><div class="sapFeText sapFeTextWeightM sapFeTextWidthM sapFeTableText"></div></div></div><div class="sapFeHorizontalLayout sapFeHorizontalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeTableRow"><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeTableCell"><div class="sapFeText sapFeTextWeightM sapFeTextWidthM sapFeTableText"></div></div><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeTableCell sapFeSmallestVisibleSizeM"><div class="sapFeText sapFeTextWeightM sapFeTextWidthM sapFeTableText"></div></div><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeTableCell sapFeSmallestVisibleSizeM"><div class="sapFeText sapFeTextWeightM sapFeTextWidthM sapFeTableText"></div></div><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeTableCell sapFeSmallestVisibleSizeL"><div class="sapFeText sapFeTextWeightM sapFeTextWidthM sapFeTableText"></div></div><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeTableCell sapFeSmallestVisibleSizeXL"><div class="sapFeText sapFeTextWeightM sapFeTextWidthM sapFeTableText"></div></div><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeTableCell sapFeSmallestVisibleSizeXL"><div class="sapFeText sapFeTextWeightM sapFeTextWidthM sapFeTableText"></div></div><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeTableCell sapFeSmallestVisibleSizeXXL"><div class="sapFeText sapFeTextWeightM sapFeTextWidthM sapFeTableText"></div></div><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeTableCell sapFeSmallestVisibleSizeXXL"><div class="sapFeText sapFeTextWeightM sapFeTextWidthM sapFeTableText"></div></div></div><div class="sapFeHorizontalLayout sapFeHorizontalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeTableRow"><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeTableCell"><div class="sapFeText sapFeTextWeightM sapFeTextWidthM sapFeTableText"></div></div><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeTableCell sapFeSmallestVisibleSizeM"><div class="sapFeText sapFeTextWeightM sapFeTextWidthM sapFeTableText"></div></div><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeTableCell sapFeSmallestVisibleSizeM"><div class="sapFeText sapFeTextWeightM sapFeTextWidthM sapFeTableText"></div></div><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeTableCell sapFeSmallestVisibleSizeL"><div class="sapFeText sapFeTextWeightM sapFeTextWidthM sapFeTableText"></div></div><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeTableCell sapFeSmallestVisibleSizeXL"><div class="sapFeText sapFeTextWeightM sapFeTextWidthM sapFeTableText"></div></div><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeTableCell sapFeSmallestVisibleSizeXL"><div class="sapFeText sapFeTextWeightM sapFeTextWidthM sapFeTableText"></div></div><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeTableCell sapFeSmallestVisibleSizeXXL"><div class="sapFeText sapFeTextWeightM sapFeTextWidthM sapFeTableText"></div></div><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeTableCell sapFeSmallestVisibleSizeXXL"><div class="sapFeText sapFeTextWeightM sapFeTextWidthM sapFeTableText"></div></div></div><div class="sapFeHorizontalLayout sapFeHorizontalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeTableRow"><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeTableCell"><div class="sapFeText sapFeTextWeightM sapFeTextWidthM sapFeTableText"></div></div><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeTableCell sapFeSmallestVisibleSizeM"><div class="sapFeText sapFeTextWeightM sapFeTextWidthM sapFeTableText"></div></div><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeTableCell sapFeSmallestVisibleSizeM"><div class="sapFeText sapFeTextWeightM sapFeTextWidthM sapFeTableText"></div></div><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeTableCell sapFeSmallestVisibleSizeL"><div class="sapFeText sapFeTextWeightM sapFeTextWidthM sapFeTableText"></div></div><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeTableCell sapFeSmallestVisibleSizeXL"><div class="sapFeText sapFeTextWeightM sapFeTextWidthM sapFeTableText"></div></div><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeTableCell sapFeSmallestVisibleSizeXL"><div class="sapFeText sapFeTextWeightM sapFeTextWidthM sapFeTableText"></div></div><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeTableCell sapFeSmallestVisibleSizeXXL"><div class="sapFeText sapFeTextWeightM sapFeTextWidthM sapFeTableText"></div></div><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeTableCell sapFeSmallestVisibleSizeXXL"><div class="sapFeText sapFeTextWeightM sapFeTextWidthM sapFeTableText"></div></div></div><div class="sapFeHorizontalLayout sapFeHorizontalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeTableRow"><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeTableCell"><div class="sapFeText sapFeTextWeightM sapFeTextWidthM sapFeTableText"></div></div><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeTableCell sapFeSmallestVisibleSizeM"><div class="sapFeText sapFeTextWeightM sapFeTextWidthM sapFeTableText"></div></div><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeTableCell sapFeSmallestVisibleSizeM"><div class="sapFeText sapFeTextWeightM sapFeTextWidthM sapFeTableText"></div></div><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeTableCell sapFeSmallestVisibleSizeL"><div class="sapFeText sapFeTextWeightM sapFeTextWidthM sapFeTableText"></div></div><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeTableCell sapFeSmallestVisibleSizeXL"><div class="sapFeText sapFeTextWeightM sapFeTextWidthM sapFeTableText"></div></div><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeTableCell sapFeSmallestVisibleSizeXL"><div class="sapFeText sapFeTextWeightM sapFeTextWidthM sapFeTableText"></div></div><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeTableCell sapFeSmallestVisibleSizeXXL"><div class="sapFeText sapFeTextWeightM sapFeTextWidthM sapFeTableText"></div></div><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeTableCell sapFeSmallestVisibleSizeXXL"><div class="sapFeText sapFeTextWeightM sapFeTextWidthM sapFeTableText"></div></div></div><div class="sapFeHorizontalLayout sapFeHorizontalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeTableRow"><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeTableCell"><div class="sapFeText sapFeTextWeightM sapFeTextWidthM sapFeTableText"></div></div><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeTableCell sapFeSmallestVisibleSizeM"><div class="sapFeText sapFeTextWeightM sapFeTextWidthM sapFeTableText"></div></div><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeTableCell sapFeSmallestVisibleSizeM"><div class="sapFeText sapFeTextWeightM sapFeTextWidthM sapFeTableText"></div></div><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeTableCell sapFeSmallestVisibleSizeL"><div class="sapFeText sapFeTextWeightM sapFeTextWidthM sapFeTableText"></div></div><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeTableCell sapFeSmallestVisibleSizeXL"><div class="sapFeText sapFeTextWeightM sapFeTextWidthM sapFeTableText"></div></div><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeTableCell sapFeSmallestVisibleSizeXL"><div class="sapFeText sapFeTextWeightM sapFeTextWidthM sapFeTableText"></div></div><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeTableCell sapFeSmallestVisibleSizeXXL"><div class="sapFeText sapFeTextWeightM sapFeTextWidthM sapFeTableText"></div></div><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeTableCell sapFeSmallestVisibleSizeXXL"><div class="sapFeText sapFeTextWeightM sapFeTextWidthM sapFeTableText"></div></div></div></div></div>\n\n</div>\n',
	"sap/fe/placeholder/view/PlaceholderLR.view.xml":'<mvc:View\n\txmlns:mvc="sap.ui.core.mvc"\n\txmlns:core="sap.ui.core"\n\txmlns:custom="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1"\n\tdisplayBlock="true"\n\theight="100%"\n\tcontrollerName="sap.fe.placeholder.controller.Placeholder"\n\txmlns="http://www.w3.org/1999/xhtml"\n><core:HTML id="PlaceholderContent" preferDOM="false" content="&lt;div&gt;&lt;/div&gt;" custom:placeholder="sap/fe/placeholder/view/PlaceholderLR.fragment.html"/></mvc:View>\n',
	"sap/fe/placeholder/view/PlaceholderOP.fragment.html":'<div class="sapFePlaceholderContainer">\n\t<!-- P A G E  H E A D E R -->\n\t<div class="sapFeHeader sapFeResponsivePadding sapFeObjectPageHeader"><div class="sapFeHeaderTitle"><div class="sapFeHeaderTitleTextContainer"><div class="sapFeHeaderTitleText sapFeText sapFeTextWeightL sapFeTextWidthL"></div></div><div class="sapFeHeaderTitleActions sapFeSmallestVisibleSizeM"><div class="sapFeText sapFeTextWeightS sapFeTextWidthS sapFeHeaderTitleAction"></div></div></div><div class="sapFeHeaderContent"><div class="sapFeHorizontalLayout sapFeHorizontalContent sapFeTextAlignStart sapFeVerticalAlignTop"><div class="sapFeAvatar sapFeAvatarSizeM sapFeAvatarShapeSquare"></div><div class="sapFeVerticalAlignInherit"><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeVerticalRepeater sapFeHeaderTitleAction"><div class="sapFeText sapFeTextWeightS sapFeTextWidthM sapFeVerticalRepeaterItem"></div><div class="sapFeText sapFeTextWeightS sapFeTextWidthS sapFeVerticalRepeaterItem"></div></div></div><div class="sapFeVerticalAlignInherit"><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeVerticalRepeater sapFeHeaderTitleAction sapFeSmallestVisibleSizeM"><div class="sapFeText sapFeTextWeightS sapFeTextWidthM sapFeVerticalRepeaterItem"></div><div class="sapFeText sapFeTextWeightS sapFeTextWidthS sapFeVerticalRepeaterItem"></div></div></div><div class="sapFeVerticalAlignInherit"><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeVerticalRepeater sapFeHeaderTitleAction sapFeSmallestVisibleSizeM"><div class="sapFeText sapFeTextWeightS sapFeTextWidthM sapFeVerticalRepeaterItem"></div><div class="sapFeText sapFeTextWeightS sapFeTextWidthS sapFeVerticalRepeaterItem"></div></div></div></div></div><div class="sapFeAnchorBar sapFeHorizontalContent sapFeSmallestVisibleSizeM"><div class="sapFeText sapFeTextWeightL sapFeTextWidthM sapFeAnchorBarItem"></div><div class="sapFeText sapFeTextWeightL sapFeTextWidthM sapFeAnchorBarItem"></div><div class="sapFeText sapFeTextWeightL sapFeTextWidthM sapFeAnchorBarItem"></div></div></div>\n\n\t<!-- P A G E  C O N T E N T -->\n\t<div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeContent sapFeResponsivePadding"><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeObjectPageSection"><div class="sapFeText sapFeTextWeightL sapFeTextWidthXL sapFeObjectPageSectionTitle"></div><div class="sapFeHorizontalLayout sapFeHorizontalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeCols4"><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop"><div class="sapFeText sapFeTextWeightL sapFeTextWidthL"></div><div class="sapFeVerticalAlignInherit"><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeVerticalRepeater sapFePaddingTop"><div class="sapFeText sapFeTextWeightS sapFeTextWidthM sapFeVerticalRepeaterItem"></div><div class="sapFeText sapFeTextWeightS sapFeTextWidthS sapFeVerticalRepeaterItem"></div></div></div><div class="sapFeVerticalAlignInherit"><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeVerticalRepeater sapFePaddingTop"><div class="sapFeText sapFeTextWeightS sapFeTextWidthM sapFeVerticalRepeaterItem"></div><div class="sapFeText sapFeTextWeightS sapFeTextWidthS sapFeVerticalRepeaterItem"></div></div></div></div><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeSmallestVisibleSizeL"><div class="sapFeText sapFeTextWeightL sapFeTextWidthL"></div><div class="sapFeVerticalAlignInherit"><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeVerticalRepeater sapFePaddingTop"><div class="sapFeText sapFeTextWeightS sapFeTextWidthM sapFeVerticalRepeaterItem"></div><div class="sapFeText sapFeTextWeightS sapFeTextWidthS sapFeVerticalRepeaterItem"></div></div></div><div class="sapFeVerticalAlignInherit"><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeVerticalRepeater sapFePaddingTop"><div class="sapFeText sapFeTextWeightS sapFeTextWidthM sapFeVerticalRepeaterItem"></div><div class="sapFeText sapFeTextWeightS sapFeTextWidthS sapFeVerticalRepeaterItem"></div></div></div></div><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeSmallestVisibleSizeXL"><div class="sapFeText sapFeTextWeightL sapFeTextWidthL"></div><div class="sapFeVerticalAlignInherit"><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeVerticalRepeater sapFePaddingTop"><div class="sapFeText sapFeTextWeightS sapFeTextWidthM sapFeVerticalRepeaterItem"></div><div class="sapFeText sapFeTextWeightS sapFeTextWidthS sapFeVerticalRepeaterItem"></div></div></div><div class="sapFeVerticalAlignInherit"><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeVerticalRepeater sapFePaddingTop"><div class="sapFeText sapFeTextWeightS sapFeTextWidthM sapFeVerticalRepeaterItem"></div><div class="sapFeText sapFeTextWeightS sapFeTextWidthS sapFeVerticalRepeaterItem"></div></div></div></div><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeSmallestVisibleSizeXXL"><div class="sapFeText sapFeTextWeightL sapFeTextWidthL"></div><div class="sapFeVerticalAlignInherit"><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeVerticalRepeater sapFePaddingTop"><div class="sapFeText sapFeTextWeightS sapFeTextWidthM sapFeVerticalRepeaterItem"></div><div class="sapFeText sapFeTextWeightS sapFeTextWidthS sapFeVerticalRepeaterItem"></div></div></div><div class="sapFeVerticalAlignInherit"><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeVerticalRepeater sapFePaddingTop"><div class="sapFeText sapFeTextWeightS sapFeTextWidthM sapFeVerticalRepeaterItem"></div><div class="sapFeText sapFeTextWeightS sapFeTextWidthS sapFeVerticalRepeaterItem"></div></div></div></div></div><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeTable"><div class="sapFeText sapFeTextWeightL sapFeTextWidthXL sapFeTableTitle"></div><div class="sapFeHorizontalLayout sapFeHorizontalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeTableColmnHeaderRow"><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeTableColmnHeaderCell sapFeTableCell"><div class="sapFeText sapFeTextWeightM sapFeTextWidthM sapFeTableColmnHeaderText sapFeTableText"></div></div><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeTableColmnHeaderCell sapFeTableCell sapFeSmallestVisibleSizeM"><div class="sapFeText sapFeTextWeightM sapFeTextWidthM sapFeTableColmnHeaderText sapFeTableText"></div></div><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeTableColmnHeaderCell sapFeTableCell sapFeSmallestVisibleSizeM"><div class="sapFeText sapFeTextWeightM sapFeTextWidthM sapFeTableColmnHeaderText sapFeTableText"></div></div><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeTableColmnHeaderCell sapFeTableCell sapFeSmallestVisibleSizeL"><div class="sapFeText sapFeTextWeightM sapFeTextWidthM sapFeTableColmnHeaderText sapFeTableText"></div></div><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeTableColmnHeaderCell sapFeTableCell sapFeSmallestVisibleSizeXL"><div class="sapFeText sapFeTextWeightM sapFeTextWidthM sapFeTableColmnHeaderText sapFeTableText"></div></div><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeTableColmnHeaderCell sapFeTableCell sapFeSmallestVisibleSizeXL"><div class="sapFeText sapFeTextWeightM sapFeTextWidthM sapFeTableColmnHeaderText sapFeTableText"></div></div><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeTableColmnHeaderCell sapFeTableCell sapFeSmallestVisibleSizeXXL"><div class="sapFeText sapFeTextWeightM sapFeTextWidthM sapFeTableColmnHeaderText sapFeTableText"></div></div><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeTableColmnHeaderCell sapFeTableCell sapFeSmallestVisibleSizeXXL"><div class="sapFeText sapFeTextWeightM sapFeTextWidthM sapFeTableColmnHeaderText sapFeTableText"></div></div></div><div class="sapFeHorizontalLayout sapFeHorizontalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeTableRow"><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeTableCell"><div class="sapFeText sapFeTextWeightM sapFeTextWidthM sapFeTableText"></div></div><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeTableCell sapFeSmallestVisibleSizeM"><div class="sapFeText sapFeTextWeightM sapFeTextWidthM sapFeTableText"></div></div><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeTableCell sapFeSmallestVisibleSizeM"><div class="sapFeText sapFeTextWeightM sapFeTextWidthM sapFeTableText"></div></div><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeTableCell sapFeSmallestVisibleSizeL"><div class="sapFeText sapFeTextWeightM sapFeTextWidthM sapFeTableText"></div></div><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeTableCell sapFeSmallestVisibleSizeXL"><div class="sapFeText sapFeTextWeightM sapFeTextWidthM sapFeTableText"></div></div><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeTableCell sapFeSmallestVisibleSizeXL"><div class="sapFeText sapFeTextWeightM sapFeTextWidthM sapFeTableText"></div></div><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeTableCell sapFeSmallestVisibleSizeXXL"><div class="sapFeText sapFeTextWeightM sapFeTextWidthM sapFeTableText"></div></div><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeTableCell sapFeSmallestVisibleSizeXXL"><div class="sapFeText sapFeTextWeightM sapFeTextWidthM sapFeTableText"></div></div></div><div class="sapFeHorizontalLayout sapFeHorizontalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeTableRow"><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeTableCell"><div class="sapFeText sapFeTextWeightM sapFeTextWidthM sapFeTableText"></div></div><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeTableCell sapFeSmallestVisibleSizeM"><div class="sapFeText sapFeTextWeightM sapFeTextWidthM sapFeTableText"></div></div><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeTableCell sapFeSmallestVisibleSizeM"><div class="sapFeText sapFeTextWeightM sapFeTextWidthM sapFeTableText"></div></div><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeTableCell sapFeSmallestVisibleSizeL"><div class="sapFeText sapFeTextWeightM sapFeTextWidthM sapFeTableText"></div></div><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeTableCell sapFeSmallestVisibleSizeXL"><div class="sapFeText sapFeTextWeightM sapFeTextWidthM sapFeTableText"></div></div><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeTableCell sapFeSmallestVisibleSizeXL"><div class="sapFeText sapFeTextWeightM sapFeTextWidthM sapFeTableText"></div></div><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeTableCell sapFeSmallestVisibleSizeXXL"><div class="sapFeText sapFeTextWeightM sapFeTextWidthM sapFeTableText"></div></div><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeTableCell sapFeSmallestVisibleSizeXXL"><div class="sapFeText sapFeTextWeightM sapFeTextWidthM sapFeTableText"></div></div></div><div class="sapFeHorizontalLayout sapFeHorizontalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeTableRow"><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeTableCell"><div class="sapFeText sapFeTextWeightM sapFeTextWidthM sapFeTableText"></div></div><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeTableCell sapFeSmallestVisibleSizeM"><div class="sapFeText sapFeTextWeightM sapFeTextWidthM sapFeTableText"></div></div><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeTableCell sapFeSmallestVisibleSizeM"><div class="sapFeText sapFeTextWeightM sapFeTextWidthM sapFeTableText"></div></div><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeTableCell sapFeSmallestVisibleSizeL"><div class="sapFeText sapFeTextWeightM sapFeTextWidthM sapFeTableText"></div></div><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeTableCell sapFeSmallestVisibleSizeXL"><div class="sapFeText sapFeTextWeightM sapFeTextWidthM sapFeTableText"></div></div><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeTableCell sapFeSmallestVisibleSizeXL"><div class="sapFeText sapFeTextWeightM sapFeTextWidthM sapFeTableText"></div></div><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeTableCell sapFeSmallestVisibleSizeXXL"><div class="sapFeText sapFeTextWeightM sapFeTextWidthM sapFeTableText"></div></div><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeTableCell sapFeSmallestVisibleSizeXXL"><div class="sapFeText sapFeTextWeightM sapFeTextWidthM sapFeTableText"></div></div></div><div class="sapFeHorizontalLayout sapFeHorizontalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeTableRow"><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeTableCell"><div class="sapFeText sapFeTextWeightM sapFeTextWidthM sapFeTableText"></div></div><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeTableCell sapFeSmallestVisibleSizeM"><div class="sapFeText sapFeTextWeightM sapFeTextWidthM sapFeTableText"></div></div><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeTableCell sapFeSmallestVisibleSizeM"><div class="sapFeText sapFeTextWeightM sapFeTextWidthM sapFeTableText"></div></div><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeTableCell sapFeSmallestVisibleSizeL"><div class="sapFeText sapFeTextWeightM sapFeTextWidthM sapFeTableText"></div></div><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeTableCell sapFeSmallestVisibleSizeXL"><div class="sapFeText sapFeTextWeightM sapFeTextWidthM sapFeTableText"></div></div><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeTableCell sapFeSmallestVisibleSizeXL"><div class="sapFeText sapFeTextWeightM sapFeTextWidthM sapFeTableText"></div></div><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeTableCell sapFeSmallestVisibleSizeXXL"><div class="sapFeText sapFeTextWeightM sapFeTextWidthM sapFeTableText"></div></div><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeTableCell sapFeSmallestVisibleSizeXXL"><div class="sapFeText sapFeTextWeightM sapFeTextWidthM sapFeTableText"></div></div></div></div></div></div>\n\n</div>',
	"sap/fe/placeholder/view/PlaceholderOP.view.xml":'<mvc:View\n\txmlns:mvc="sap.ui.core.mvc"\n\txmlns:core="sap.ui.core"\n\txmlns:custom="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1"\n\tdisplayBlock="true"\n\theight="100%"\n\tcontrollerName="sap.fe.placeholder.controller.Placeholder"\n\txmlns="http://www.w3.org/1999/xhtml"\n><core:HTML id="PlaceholderContent" preferDOM="false" content="&lt;div&gt;&lt;/div&gt;" custom:placeholder="sap/fe/placeholder/view/PlaceholderOP.fragment.html"/></mvc:View>\n',
	"sap/fe/placeholder/view/PlaceholderOVP.fragment.html":'\n<div class="sapFePlaceholderContainer">\n\t<!-- P A G E  H E A D E R -->\n\t<div class="sapFeHeader sapFeResponsivePadding sapFeOVPHeader"><div class="sapFeHeaderTitle sapFeHeaderTitleWithSubtitle"><div class="sapFeHeaderTitleTextContainer"><div class="sapFeHeaderTitleText sapFeText sapFeTextWeightL sapFeTextWidthL"></div><div class="sapFeHeaderSubTitleText sapFeText sapFeTextWeightS sapFeTextWidthS"></div></div></div></div>\n\n\t<!-- P A G E  C O N T E N T -->\n\t<div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeContent sapFeResponsivePadding"><div class="sapFeOVPCardContainer"><div class="sapFeOVPCard sapFeOVPCardVersion1 OVPContentCard1"><div class="sapFeOVPCardHeader"><div class="sapFeText sapFeTextWeightM sapFeTextWidthM sapFeOVPCardHeaderText"></div></div><div class="sapFeOVPCardContent"><div class="sapFeVerticalAlignInherit"><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeVerticalRepeater sapFeOVPCardContentContainer"><div class="sapFeText sapFeTextWeightM sapFeTextWidthM sapFeOVPCardContentText sapFeOVPCardContentContainer sapFeVerticalRepeaterItem"></div><div class="sapFeText sapFeTextWeightM sapFeTextWidthM sapFeOVPCardContentText sapFeOVPCardContentContainer sapFeVerticalRepeaterItem"></div><div class="sapFeText sapFeTextWeightM sapFeTextWidthM sapFeOVPCardContentText sapFeOVPCardContentContainer sapFeVerticalRepeaterItem"></div><div class="sapFeText sapFeTextWeightM sapFeTextWidthM sapFeOVPCardContentText sapFeOVPCardContentContainer sapFeVerticalRepeaterItem"></div><div class="sapFeText sapFeTextWeightM sapFeTextWidthM sapFeOVPCardContentText sapFeOVPCardContentContainer sapFeVerticalRepeaterItem"></div><div class="sapFeText sapFeTextWeightM sapFeTextWidthM sapFeOVPCardContentText sapFeOVPCardContentContainer sapFeVerticalRepeaterItem"></div></div></div></div></div><div class="sapFeOVPCard sapFeOVPCardVersion3 OVPContentCard3"><div class="sapFeOVPCardHeader"><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop"><div class="sapFeText sapFeTextWeightM sapFeTextWidth80PX sapFeOVPCardHeaderText"></div><div class="sapFeText sapFeTextWeightM sapFeTextWidth100PX sapFeOVPCardHeaderText"></div><div class="sapFeHorizontalLayout sapFeHorizontalContent sapFeTextAlignStart sapFeVerticalAlignTop"><div class="sapFeAvatar sapFeAvatarSizeM sapFeAvatarShapeSquare sapFeOVPCardHeaderAvatar sapFeTextWidth120PX"></div><div class="sapFeVerticalAlignInherit"><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignEnd sapFeVerticalAlignTop sapFeVerticalRepeater sapFeOVPCardHeaderText"><div class="sapFeText sapFeTextWeightM sapFeTextWidth50PX sapFeVerticalRepeaterItem"></div><div class="sapFeText sapFeTextWeightM sapFeTextWidth30PX sapFeVerticalRepeaterItem"></div></div></div><div class="sapFeVerticalAlignInherit"><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignEnd sapFeVerticalAlignTop sapFeVerticalRepeater sapFeOVPCardHeaderText"><div class="sapFeText sapFeTextWeightM sapFeTextWidth50PX sapFeVerticalRepeaterItem"></div><div class="sapFeText sapFeTextWeightM sapFeTextWidth30PX sapFeVerticalRepeaterItem"></div></div></div></div><div class="sapFeText sapFeTextWeightM sapFeTextWidth80PX sapFeOVPCardHeaderText"></div></div></div><div class="sapFeOVPCardContent"><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop"><div class="sapFeBarChart"><div class="sapFeTextAlignInherit"><div class="sapFeHorizontalLayout sapFeHorizontalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeHorizontalRepeater sapFeOVPCardContentChart sapFeChartHorMeasure sapFeChartVertMeasure sapFeVerticalBarChart"><div class="sapFeTextHeight90PX sapFeVerticalBar sapFeVerticalBarWeightL sapFeVerticalBarHeightM sapFeHorizontalRepeaterItem"></div><div class="sapFeVerticalBar sapFeVerticalBarWeightL sapFeVerticalBarHeightM sapFeHorizontalRepeaterItem"></div><div class="sapFeTextHeight90PX sapFeVerticalBar sapFeVerticalBarWeightL sapFeVerticalBarHeightM sapFeHorizontalRepeaterItem"></div><div class="sapFeTextHeight90PX sapFeVerticalBar sapFeVerticalBarWeightL sapFeVerticalBarHeightM sapFeHorizontalRepeaterItem"></div><div class="sapFeVerticalBar sapFeVerticalBarWeightL sapFeVerticalBarHeightM sapFeHorizontalRepeaterItem"></div></div></div></div></div></div></div><div class="sapFeOVPCard sapFeOVPCardVersion1 OVPContentCard4"><div class="sapFeOVPCardHeader"><div class="sapFeText sapFeTextWeightM sapFeTextWidthM sapFeOVPCardHeaderText"></div></div><div class="sapFeOVPCardContent"><div class="sapFeVerticalAlignInherit"><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeVerticalRepeater sapFeOVPCardContentContainer"><div class="sapFeText sapFeTextWeightM sapFeTextWidthM sapFeOVPCardContentText sapFeOVPCardContentContainer sapFeVerticalRepeaterItem"></div><div class="sapFeText sapFeTextWeightM sapFeTextWidthM sapFeOVPCardContentText sapFeOVPCardContentContainer sapFeVerticalRepeaterItem"></div><div class="sapFeText sapFeTextWeightM sapFeTextWidthM sapFeOVPCardContentText sapFeOVPCardContentContainer sapFeVerticalRepeaterItem"></div><div class="sapFeText sapFeTextWeightM sapFeTextWidthM sapFeOVPCardContentText sapFeOVPCardContentContainer sapFeVerticalRepeaterItem"></div><div class="sapFeText sapFeTextWeightM sapFeTextWidthM sapFeOVPCardContentText sapFeOVPCardContentContainer sapFeVerticalRepeaterItem"></div><div class="sapFeText sapFeTextWeightM sapFeTextWidthM sapFeOVPCardContentText sapFeOVPCardContentContainer sapFeVerticalRepeaterItem"></div></div></div></div></div><div class="sapFeOVPCard sapFeOVPCardVersion2 OVPContentCard2 sapFeSmallestVisibleSizeM"><div class="sapFeOVPCardHeader"><div class="sapFeHorizontalLayout sapFeHorizontalContent sapFeTextAlignStart sapFeVerticalAlignTop"><div class="sapFeAvatar sapFeAvatarSizeM sapFeAvatarShapeSquare sapFeOVPCardHeaderAvatar"></div><div class="sapFeVerticalAlignInherit"><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeVerticalRepeater sapFeOVPCardHeaderText"><div class="sapFeText sapFeTextWeightM sapFeTextWidthL sapFeVerticalRepeaterItem"></div><div class="sapFeText sapFeTextWeightM sapFeTextWidthM sapFeVerticalRepeaterItem"></div></div></div></div></div><div class="sapFeOVPCardContent"><div class="sapFeHorizontalLayout sapFeHorizontalContent sapFeTextAlignStart sapFeVerticalAlignTop"><div class="sapFeVerticalAlignInherit"><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeVerticalRepeater sapFeOVPCardContentContainer"><div class="sapFeText sapFeTextWeightM sapFeTextWidthM sapFeOVPCardContentText sapFeOVPCardContentContainer sapFeVerticalRepeaterItem"></div><div class="sapFeText sapFeTextWeightM sapFeTextWidth50perct sapFeOVPCardContentText sapFeVerticalRepeaterItem"></div><div class="sapFeText sapFeTextWeightM sapFeTextWidthM sapFeOVPCardContentText sapFeOVPCardContentContainer sapFeVerticalRepeaterItem"></div><div class="sapFeText sapFeTextWeightM sapFeTextWidth50perct sapFeOVPCardContentText sapFeVerticalRepeaterItem"></div><div class="sapFeText sapFeTextWeightM sapFeTextWidthM sapFeOVPCardContentText sapFeOVPCardContentContainer sapFeVerticalRepeaterItem"></div><div class="sapFeText sapFeTextWeightM sapFeTextWidth50perct sapFeOVPCardContentText sapFeVerticalRepeaterItem"></div><div class="sapFeText sapFeTextWeightM sapFeTextWidthM sapFeOVPCardContentText sapFeOVPCardContentContainer sapFeVerticalRepeaterItem"></div><div class="sapFeText sapFeTextWeightM sapFeTextWidth50perct sapFeOVPCardContentText sapFeVerticalRepeaterItem"></div></div></div><div class="sapFeVerticalAlignInherit"><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeVerticalRepeater sapFeOVPCardContentContainer"><div class="sapFeText sapFeTextWeightM sapFeTextWidthM sapFeOVPCardContentText sapFeOVPCardContentContainer sapFeVerticalRepeaterItem"></div><div class="sapFeText sapFeTextWeightM sapFeTextWidth50perct sapFeOVPCardContentText sapFeVerticalRepeaterItem"></div><div class="sapFeText sapFeTextWeightM sapFeTextWidthM sapFeOVPCardContentText sapFeOVPCardContentContainer sapFeVerticalRepeaterItem"></div><div class="sapFeText sapFeTextWeightM sapFeTextWidth50perct sapFeOVPCardContentText sapFeVerticalRepeaterItem"></div><div class="sapFeText sapFeTextWeightM sapFeTextWidthM sapFeOVPCardContentText sapFeOVPCardContentContainer sapFeVerticalRepeaterItem"></div><div class="sapFeText sapFeTextWeightM sapFeTextWidth50perct sapFeOVPCardContentText sapFeVerticalRepeaterItem"></div><div class="sapFeText sapFeTextWeightM sapFeTextWidthM sapFeOVPCardContentText sapFeOVPCardContentContainer sapFeVerticalRepeaterItem"></div><div class="sapFeText sapFeTextWeightM sapFeTextWidth50perct sapFeOVPCardContentText sapFeVerticalRepeaterItem"></div></div></div></div></div></div><div class="sapFeOVPCard sapFeOVPCardVersion4 OVPContentCard5 sapFeSmallestVisibleSizeM"><div class="sapFeOVPCardHeader"><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop"><div class="sapFeText sapFeTextWeightM sapFeTextWidth80PX sapFeOVPCardHeaderText" ></div><div class="sapFeText sapFeTextWeightM sapFeTextWidth100PX sapFeOVPCardHeaderText"></div><div class="sapFeHorizontalLayout sapFeHorizontalContent sapFeTextAlignStart sapFeVerticalAlignTop"><div class="sapFeAvatar sapFeAvatarSizeM sapFeAvatarShapeSquare sapFeOVPCardHeaderAvatar sapFeTextWidth120PX"></div><div class="sapFeVerticalAlignInherit"><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignEnd sapFeVerticalAlignTop sapFeVerticalRepeater sapFeOVPCardHeaderText"><div class="sapFeText sapFeTextWeightM sapFeTextWidth50PX sapFeVerticalRepeaterItem"></div><div class="sapFeText sapFeTextWeightM sapFeTextWidth30PX sapFeVerticalRepeaterItem"></div></div></div><div class="sapFeVerticalAlignInherit"><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignEnd sapFeVerticalAlignTop sapFeVerticalRepeater sapFeOVPCardHeaderText"><div class="sapFeText sapFeTextWeightM sapFeTextWidth50PX sapFeVerticalRepeaterItem"></div><div class="sapFeText sapFeTextWeightM sapFeTextWidth30PX sapFeVerticalRepeaterItem"></div></div></div></div><div class="sapFeText sapFeTextWeightM sapFeTextWidth80PX sapFeOVPCardHeaderText"></div></div></div><div class="sapFeOVPCardContent"><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop"><div class="sapFeBarChart"><div class="sapFeVerticalAlignInherit"><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeVerticalRepeater sapFeOVPCardContentChart sapFeChartHorMeasure sapFeChartVertMeasure sapFeHorizontalBarChart"><div class="sapFeText sapFeTextWeightL sapFeTextWidth160PX sapFeVerticalRepeaterItem"></div><div class="sapFeText sapFeTextWeightL sapFeTextWidthM sapFeVerticalRepeaterItem"></div><div class="sapFeText sapFeTextWeightL sapFeTextWidth90PX sapFeVerticalRepeaterItem"></div><div class="sapFeText sapFeTextWeightL sapFeTextWidth90PX sapFeVerticalRepeaterItem"></div></div></div></div></div></div></div><div class="sapFeOVPCard sapFeOVPCardVersion3 OVPContentCard6 sapFeSmallestVisibleSizeM"><div class="sapFeOVPCardHeader"><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop"><div class="sapFeText sapFeTextWeightM sapFeTextWidth80PX sapFeOVPCardHeaderText"></div><div class="sapFeText sapFeTextWeightM sapFeTextWidth100PX sapFeOVPCardHeaderText"></div><div class="sapFeHorizontalLayout sapFeHorizontalContent sapFeTextAlignStart sapFeVerticalAlignTop"><div class="sapFeAvatar sapFeAvatarSizeM sapFeAvatarShapeSquare sapFeOVPCardHeaderAvatar sapFeTextWidth120PX"></div><div class="sapFeVerticalAlignInherit"><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignEnd sapFeVerticalAlignTop sapFeVerticalRepeater sapFeOVPCardHeaderText"><div class="sapFeText sapFeTextWeightM sapFeTextWidth50PX sapFeVerticalRepeaterItem"></div><div class="sapFeText sapFeTextWeightM sapFeTextWidth30PX sapFeVerticalRepeaterItem"></div></div></div><div class="sapFeVerticalAlignInherit"><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignEnd sapFeVerticalAlignTop sapFeVerticalRepeater sapFeOVPCardHeaderText"><div class="sapFeText sapFeTextWeightM sapFeTextWidth50PX sapFeVerticalRepeaterItem"></div><div class="sapFeText sapFeTextWeightM sapFeTextWidth30PX sapFeVerticalRepeaterItem"></div></div></div></div><div class="sapFeText sapFeTextWeightM sapFeTextWidth80PX sapFeOVPCardHeaderText"></div></div></div><div class="sapFeOVPCardContent"><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop"><div class="sapFeBarChart"><div class="sapFeTextAlignInherit"><div class="sapFeHorizontalLayout sapFeHorizontalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeHorizontalRepeater sapFeOVPCardContentChart sapFeChartHorMeasure sapFeChartVertMeasure sapFeVerticalBarChart"><div class="sapFeTextHeight90PX sapFeVerticalBar sapFeVerticalBarWeightL sapFeVerticalBarHeightM sapFeHorizontalRepeaterItem"></div><div class="sapFeVerticalBar sapFeVerticalBarWeightL sapFeVerticalBarHeightM sapFeHorizontalRepeaterItem"></div><div class="sapFeTextHeight90PX sapFeVerticalBar sapFeVerticalBarWeightL sapFeVerticalBarHeightM sapFeHori zontalRepeaterItem"></div><div class="sapFeTextHeight90PX sapFeVerticalBar sapFeVerticalBarWeightL sapFeVerticalBarHeightM sapFeHorizontalR epeaterItem"></div><div class="sapFeVerticalBar sapFeVerticalBarWeightL sapFeVerticalBarHeightM sapFeHorizontalRepeaterItem"></div></div></div></div></div></div></div><div class="sapFeOVPCard sapFeOVPCardVersion1 OVPContentCard7 sapFeSmallestVisibleSizeM"><div class="sapFeOVPCardHeader"><div class="sapFeText sapFeTextWeightM sapFeTextWidthM sapFeOVPCardHeaderText"></div></div><div class="sapFeOVPCardContent"><div class="sapFeVerticalAlignInherit"><div class="sapFeVerticalLayout sapFeVerticalContent sapFeTextAlignStart sapFeVerticalAlignTop sapFeVerticalRepeater sapFeOVPCardContentContainer"><div class="sapFeText sapFeTextWeightM sapFeTextWidthM sapFeOVPCardContentText sapFeOVPCardContentContainer sapFeVerticalRepeaterItem"></div><div class="sapFeText sapFeTextWeightM sapFeTextWidthM sapFeOVPCardContentText sapFeOVPCardContentContainer sapFeVerticalRepeaterItem"></div><div class="sapFeText sapFeTextWeightM sapFeTextWidthM sapFeOVPCardContentText sapFeOVPCardContentContainer sapFeVerticalRepeaterItem"></div><div class="sapFeText sapFeTextWeightM sapFeTextWidthM sapFeOVPCardContentText sapFeOVPCardContentContainer sapFeVerticalRepeaterItem"></div><div class="sapFeText sapFeTextWeightM sapFeTextWidthM sapFeOVPCardContentText sapFeOVPCardContentContainer sapFeVerticalRepeaterItem"></div><div class="sapFeText sapFeTextWeightM sapFeTextWidthM sapFeOVPCardContentText sapFeOVPCardContentContainer sapFeVerticalRepeaterItem"></div></div></div></div></div></div></div>\n</div>\n',
	"sap/fe/placeholder/view/PlaceholderOVP.view.xml":'<mvc:View\n\txmlns:mvc="sap.ui.core.mvc"\n\txmlns:core="sap.ui.core"\n\txmlns:custom="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1"\n\tdisplayBlock="true"\n\theight="100%"\n\tcontrollerName="sap.fe.placeholder.controller.Placeholder"\n\txmlns="http://www.w3.org/1999/xhtml"\n><core:HTML id="PlaceholderContent" preferDOM="false" content="&lt;div&gt;&lt;/div&gt;" custom:placeholder="sap/fe/placeholder/view/PlaceholderOVP.fragment.html"/></mvc:View>',
	"sap/fe/templates/ListReport/ListReport.view.xml":'<mvc:View\n\txmlns="sap.m"\n\txmlns:mvc="sap.ui.core.mvc"\n\txmlns:f="sap.f"\n\txmlns:macro="sap.fe.macros"\n\txmlns:contentSwitcher="sap.fe.macros.contentSwitcher"\n\txmlns:macroAI="sap.fe.macros.ai"\n\txmlns:macroInternal="sap.fe.macros.internal"\n\txmlns:control="sap.fe.core.controls"\n\txmlns:core="sap.ui.core"\n\txmlns:fragments="sap.fe.templates.ListReport.view.fragments"\n\txmlns:l="sap.ui.layout"\n\txmlns:fpm="sap.fe.macros.fpm"\n\txmlns:dt="sap.ui.dt"\n\txmlns:kpiTag="sap.fe.macros.kpiTag"\n\txmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"\n\txmlns:filterBar="sap.fe.macros.filterBar"\n\txmlns:macroShare="sap.fe.macros.share"\n\txmlns:macroMessages="sap.fe.macros.messages"\n\txmlns:customData="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1"\n\ttemplate:require="{\n\t\tID: \'sap/fe/core/helpers/StableIdHelper\',\n\t\tCOMMON: \'sap/fe/macros/CommonHelper\',\n\t\tFILTER: \'sap/fe/macros/filterBar/FilterHelper\',\n\t\tLR: \'sap/fe/templates/ListReport/ListReportTemplating\',\n\t\tUI: \'sap/fe/core/templating/UIFormatters\'\n\t}"\n\tcontrollerName="{converterContext>controllerName}"\n><template:with path="converterContext>mainEntitySet" var="entitySet"><template:with path="converterContext>mainEntityType" var="entityType"><f:DynamicPage\n\t\t\t\tid="fe::ListReport"\n\t\t\t\tdt:designtime="{converterContext>designtime}"\n\t\t\t\tstickySubheaderProvider="{converterContext>stickySubheaderProvider}"\n\t\t\t\tshowFooter="false"\n\t\t\t\tbusy="{ui>/busy}"\n\t\t\t\tbusyIndicatorDelay="0"\n\t\t\t\tclass="{= !${converterContext>hasMultiVisualizations} &amp;&amp; ${converterContext>views}.length > 1 ? \'sapUiNoContentPadding\' : \'sapUiResponsiveContentPadding\'}"\n\t\t\t><f:dependents><template:if test="{converterContext>headerActions}"><template:repeat list="{converterContext>headerActions}" var="headerAction"><template:if test="{headerAction>command}"><control:CommandExecution\n\t\t\t\t\t\t\t\t\tcore:require="{FPM: \'sap/fe/core/helpers/FPMHelper\'}"\n\t\t\t\t\t\t\t\t\texecute="{= COMMON.buildActionWrapper(${headerAction>})}"\n\t\t\t\t\t\t\t\t\tvisible="{headerAction>visible}"\n\t\t\t\t\t\t\t\t\tenabled="{headerAction>enabled}"\n\t\t\t\t\t\t\t\t\tcommand="{headerAction>command}"\n\t\t\t\t\t\t\t\t/></template:if></template:repeat></template:if><template:if test="{= !${converterContext>hideFilterBar} &amp;&amp; !${viewData>/liveMode} }"><template:then><control:CommandExecution execute=".handlers.onFilterSearch" command="FE_FilterSearch" /></template:then></template:if><template:if test="{viewData>/isInlineEditEnabled}"><control:CommandExecution\n\t\t\t\t\t\t\texecute=".handlers.onInlineEditSave"\n\t\t\t\t\t\t\tcommand="Save"\n\t\t\t\t\t\t\tvisible="{= ${ui>/isInlineEditActive} === true}"\n\t\t\t\t\t\t/></template:if></f:dependents><f:title><f:DynamicPageTitle id="fe::DynamicPageTitle" stateChange=".handlers.onDynamicPageTitleStateChanged"><f:heading><template:with path="converterContext>kpiDefinitions" var="definitions"><template:if test="{definitions>length}"><template:then><l:HorizontalLayout class="sapUiNoContentPadding sapUiNoMarginTop sapUiNoMarginBottom"><core:Fragment\n\t\t\t\t\t\t\t\t\t\t\t\tfragmentName="sap.fe.templates.ListReport.view.fragments.VariantManagement"\n\t\t\t\t\t\t\t\t\t\t\t\ttype="XML"\n\t\t\t\t\t\t\t\t\t\t\t/><template:repeat list="{converterContext>kpiDefinitions}" var="kpi"><template:if test="{= ${kpi>type} === \'Custom\'}"><template:then><fpm:CustomFragment\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tid="{kpi>key}"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfragmentName="{kpi>template}"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcontextPath="{contextPath>}"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/></template:then><template:else><template:with path="kpi>datapoint" var="datapoint"><kpiTag:AnalyticalKPITag\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tid="{kpi>id}"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmetaPath="{datapoint>annotationPath}"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tkpiModelName="kpiModel"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thasUnit="{= ${datapoint>unit} !== undefined}"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/></template:with></template:else></template:if></template:repeat></l:HorizontalLayout></template:then><template:else><core:Fragment\n\t\t\t\t\t\t\t\t\t\t\tfragmentName="sap.fe.templates.ListReport.view.fragments.VariantManagement"\n\t\t\t\t\t\t\t\t\t\t\ttype="XML"\n\t\t\t\t\t\t\t\t\t\t/></template:else></template:if></template:with></f:heading><f:snappedContent><template:if test="{= !!${converterContext>collapsedHeaderFragment} }"><core:Fragment fragmentName="{converterContext>collapsedHeaderFragment}" type="XML" /></template:if><template:if test="{= !${viewData>/useHiddenFilterBar} &amp;&amp; !${viewData>/hideFilterBar} }"><filterBar:FilterBarSummary filterBar="{= ID.generate([${converterContext>filterBarId},\'FilterBar\']) }" /></template:if></f:snappedContent><f:actions><ToolbarSpacer /><template:if test="{converterContext>headerActions}"><template:repeat list="{converterContext>headerActions}" var="headerAction"><template:if test="{= ${headerAction>type} !== \'Separator\' }"><template:then><Button\n\t\t\t\t\t\t\t\t\t\t\t\tcore:require="{FPM: \'sap/fe/core/helpers/FPMHelper\'}"\n\t\t\t\t\t\t\t\t\t\t\t\tid="{= ID.generate([\'fe\',${headerAction>id}])}"\n\t\t\t\t\t\t\t\t\t\t\t\ttext="{headerAction>text}"\n\t\t\t\t\t\t\t\t\t\t\t\tpress="{= ${headerAction>command} ? (\'cmd:\' + ${headerAction>command}) : COMMON.buildActionWrapper(${headerAction>})}"\n\t\t\t\t\t\t\t\t\t\t\t\ttype="Ghost"\n\t\t\t\t\t\t\t\t\t\t\t\tvisible="{headerAction>visible}"\n\t\t\t\t\t\t\t\t\t\t\t\tenabled="{headerAction>enabled}"\n\t\t\t\t\t\t\t\t\t\t\t\ticon="{= ${headerAction>isAIOperation} === true ? COMMON.getAIIcon() : undefined}"\n\t\t\t\t\t\t\t\t\t\t\t><layoutData><OverflowToolbarLayoutData\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tpriority="{headerAction>priority}"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tgroup="{headerAction>group}"\n\t\t\t\t\t\t\t\t\t\t\t\t\t/></layoutData></Button></template:then><template:else><ToolbarSeparator><layoutData><OverflowToolbarLayoutData group="{headerAction>group}" /></layoutData></ToolbarSeparator></template:else></template:if></template:repeat></template:if><template:if\n\t\t\t\t\t\t\t\ttest="{= !${converterContext>hideFilterBar} &amp;&amp; (${converterContext>/filterLayout} === \'compactvisual\' || ${converterContext>easyFilterEnabled}) }"\n\t\t\t\t\t\t\t><contentSwitcher:ContentSwitcher\n\t\t\t\t\t\t\t\t\tid="{= ID.generate([ ${converterContext>filterBarId}, \'LayoutToggle\']) }"\n\t\t\t\t\t\t\t\t\tselectedKey="{converterContext>/filterInitialLayout}"\n\t\t\t\t\t\t\t\t><contentSwitcher:ContentSwitcherItem\n\t\t\t\t\t\t\t\t\t\ttext="{sap.fe.i18n>M_EASY_FILTER_FILTER_MODE_CLASSIC}"\n\t\t\t\t\t\t\t\t\t\ticon="sap-icon://filter-fields"\n\t\t\t\t\t\t\t\t\t\tkey="compact"\n\t\t\t\t\t\t\t\t\t\tcontrolToSwitch="{converterContext>filterBarId}::FilterBar"\n\t\t\t\t\t\t\t\t\t/><template:if test="{= ${converterContext>/filterLayout} === \'compactvisual\' }"><contentSwitcher:ContentSwitcherItem\n\t\t\t\t\t\t\t\t\t\t\ttext="{sap.fe.i18n>T_SEGMENTED_BUTTON_TOOLTIP_VISUAL}"\n\t\t\t\t\t\t\t\t\t\t\ticon="sap-icon://filter-analytics"\n\t\t\t\t\t\t\t\t\t\t\tkey="visual"\n\t\t\t\t\t\t\t\t\t\t\tcontrolToSwitch="{converterContext>filterBarId}::FilterBar"\n\t\t\t\t\t\t\t\t\t\t/></template:if><template:if test="{converterContext>easyFilterEnabled}"><contentSwitcher:ContentSwitcherItem\n\t\t\t\t\t\t\t\t\t\t\ttext="{sap.fe.i18n>M_EASY_FILTER_FILTER_MODE_AI}"\n\t\t\t\t\t\t\t\t\t\t\tcontrolToSwitch="fe::EasyFilterBar"\n\t\t\t\t\t\t\t\t\t\t\tkey="ai"\n\t\t\t\t\t\t\t\t\t\t\ticon="sap-icon://ai"\n\t\t\t\t\t\t\t\t\t\t/></template:if></contentSwitcher:ContentSwitcher></template:if><macro:Share\n\t\t\t\t\t\t\t\tid="fe::Share"\n\t\t\t\t\t\t\t\tvisible="{= ${fclhelper>/} ? ${fclhelper>/showShareIcon} : true }"\n\t\t\t\t\t\t\t\tpriority="{viewData>/shareOverflowPriority}"\n\t\t\t\t\t\t\t><macro:msTeamsOptions><macroShare:MsTeamsOptions enableCard="false" /></macro:msTeamsOptions><macro:shareOptions showCollaborationManager="true" /></macro:Share></f:actions><template:if test="{converterContext>useHiddenFilterBar}"><template:then><f:dependents><template:with path="converterContext>filterBar" var="filterBarContext"><macroInternal:FilterBar\n\t\t\t\t\t\t\t\t\t\t\tid="{converterContext>filterBarId}"\n\t\t\t\t\t\t\t\t\t\t\t_applyIdToContent="true"\n\t\t\t\t\t\t\t\t\t\t\tmetaPath="{entityType>}"\n\t\t\t\t\t\t\t\t\t\t\tvariantBackreference="{= LR.getVariantBackReference(${viewData>}, ${converterContext>} )}"\n\t\t\t\t\t\t\t\t\t\t\tselectionFields="{filterBarContext>selectionFields}"\n\t\t\t\t\t\t\t\t\t\t\tinternalFilterChanged=".handlers.onFiltersChanged"\n\t\t\t\t\t\t\t\t\t\t\tfilterConditions="{parts:[{path:\'converterContext>filterConditions\'}, {path:\'entitySet>\'}, {path:\'viewData>\'}, {path:\'filterBarContext>showDraftEditStatus\'}], formatter: \'FILTER.getFilterConditions\'}"\n\t\t\t\t\t\t\t\t\t\t\tinternalSearch=".handlers.onSearch"\n\t\t\t\t\t\t\t\t\t\t\thideBasicSearch="{filterBarContext>hideBasicSearch}"\n\t\t\t\t\t\t\t\t\t\t\tliveMode="{viewData>/liveMode}"\n\t\t\t\t\t\t\t\t\t\t\tshowAdaptFiltersButton="true"\n\t\t\t\t\t\t\t\t\t\t\tp13nMode="Item,Value"\n\t\t\t\t\t\t\t\t\t\t\tuseSemanticDateRange="{converterContext>useSemanticDateRange}"\n\t\t\t\t\t\t\t\t\t\t\tsuspendSelection="true"\n\t\t\t\t\t\t\t\t\t\t\ttoggleControlId="{= ${converterContext>/filterLayout} === \'compactvisual\' || ${converterContext>easyFilterEnabled} ? ID.generate([ ${converterContext>filterBarId}, \'LayoutToggle\']) : undefined }"\n\t\t\t\t\t\t\t\t\t\t\tinitialLayout="{= ${converterContext>/filterLayout} === \'compactvisual\' ? ${converterContext>/filterInitialLayout} : undefined }"\n\t\t\t\t\t\t\t\t\t\t\tdisableDraftEditStateFilter="{filterBarContext>disableDraftEditStateFilter}"\n\t\t\t\t\t\t\t\t\t\t/></template:with></f:dependents></template:then></template:if><f:breadcrumbs><template:if test="{viewData>/breadcrumbsHierarchyMode}"><template:then><macro:Breadcrumbs\n\t\t\t\t\t\t\t\t\t\tvisible="{= UI.getVisibleExpressionForBreadcrumbs(${viewData>/}) }"\n\t\t\t\t\t\t\t\t\t\thierarchyMode="{viewData>/breadcrumbsHierarchyMode}"\n\t\t\t\t\t\t\t\t\t/></template:then></template:if></f:breadcrumbs></f:DynamicPageTitle></f:title><template:if test="{= !${converterContext>hideFilterBar} }"><f:header><f:DynamicPageHeader pinnable="{converterContext>showPinnableToggle}"><VBox><template:if test="{= !!${converterContext>expandedHeaderFragment} }"><template:then><core:Fragment fragmentName="{converterContext>expandedHeaderFragment}" type="XML" /></template:then></template:if><template:with path="converterContext>filterBar" var="filterBarContext"><macroInternal:FilterBar\n\t\t\t\t\t\t\t\t\t\tid="{converterContext>filterBarId}"\n\t\t\t\t\t\t\t\t\t\t_applyIdToContent="true"\n\t\t\t\t\t\t\t\t\t\tmetaPath="{entityType>}"\n\t\t\t\t\t\t\t\t\t\tvariantBackreference="{= LR.getVariantBackReference(${viewData>}, ${converterContext>} )}"\n\t\t\t\t\t\t\t\t\t\tselectionFields="{filterBarContext>selectionFields}"\n\t\t\t\t\t\t\t\t\t\tinternalFilterChanged=".handlers.onFiltersChanged"\n\t\t\t\t\t\t\t\t\t\tfilterConditions="{parts:[{path:\'converterContext>filterConditions\'}, {path:\'entitySet>\'}, {path:\'viewData>\'}, {path:\'filterBarContext>showDraftEditStatus\'}], formatter: \'FILTER.getFilterConditions\'}"\n\t\t\t\t\t\t\t\t\t\tinternalSearch=".handlers.onSearch"\n\t\t\t\t\t\t\t\t\t\thideBasicSearch="{filterBarContext>hideBasicSearch}"\n\t\t\t\t\t\t\t\t\t\tshowClearButton="{filterBarContext>showClearButton}"\n\t\t\t\t\t\t\t\t\t\tafterClear=".onAfterClear"\n\t\t\t\t\t\t\t\t\t\tliveMode="{viewData>/liveMode}"\n\t\t\t\t\t\t\t\t\t\tshowAdaptFiltersButton="true"\n\t\t\t\t\t\t\t\t\t\tp13nMode="Item,Value"\n\t\t\t\t\t\t\t\t\t\tuseSemanticDateRange="{converterContext>useSemanticDateRange}"\n\t\t\t\t\t\t\t\t\t\tsuspendSelection="true"\n\t\t\t\t\t\t\t\t\t\ttoggleControlId="{= ${converterContext>/filterLayout} === \'compactvisual\' || ${converterContext>easyFilterEnabled} ? ID.generate([ ${converterContext>filterBarId}, \'LayoutToggle\']) : undefined }"\n\t\t\t\t\t\t\t\t\t\tinitialLayout="{= ${converterContext>/filterLayout} === \'compactvisual\' ? ${converterContext>/filterInitialLayout} : undefined }"\n\t\t\t\t\t\t\t\t\t\tdisableDraftEditStateFilter="{filterBarContext>disableDraftEditStateFilter}"\n\t\t\t\t\t\t\t\t\t/></template:with><template:if test="{converterContext>easyFilterEnabled}"><template:then><macroAI:EasyFilterBar\n\t\t\t\t\t\t\t\t\t\t\tid="fe::EasyFilterBar"\n\t\t\t\t\t\t\t\t\t\t\tcontextPath="{entityType>}"\n\t\t\t\t\t\t\t\t\t\t\tfilterBar="{converterContext>filterBarId}"\n\t\t\t\t\t\t\t\t\t\t\tcontentSwitcher="{= ID.generate([ ${converterContext>filterBarId}, \'LayoutToggle\']) }"\n\t\t\t\t\t\t\t\t\t\t\tcontentSwitcherKey="ai"\n\t\t\t\t\t\t\t\t\t\t\tvisible="false"\n\t\t\t\t\t\t\t\t\t\t/></template:then></template:if></VBox></f:DynamicPageHeader></f:header></template:if><f:content><template:if test="{= ${converterContext>views}.length > 0}"><template:if test="{converterContext>multiViewsControl}"><template:then><fragments:MultipleMode /></template:then><template:elseif\n\t\t\t\t\t\t\t\ttest="{= ${converterContext>views}.length === 1 &amp;&amp; !${converterContext>hasMultiVisualizations} }"\n\t\t\t\t\t\t\t><template:with path="converterContext>views/0/presentation" var="presentationContext"><core:Fragment\n\t\t\t\t\t\t\t\t\t\tfragmentName="sap.fe.templates.ListReport.view.fragments.CollectionVisualization"\n\t\t\t\t\t\t\t\t\t\ttype="XML"\n\t\t\t\t\t\t\t\t\t/></template:with></template:elseif><template:else><core:Fragment\n\t\t\t\t\t\t\t\t\tfragmentName="sap.fe.templates.ListReport.view.fragments.CollectionVisualization"\n\t\t\t\t\t\t\t\t\ttype="XML"\n\t\t\t\t\t\t\t\t/></template:else></template:if></template:if></f:content><f:footer><template:if test="{viewData>/isInlineEditEnabled}"><OverflowToolbar><core:InvisibleText\n\t\t\t\t\t\t\t\tid="fe::MessageButton::AriaText"\n\t\t\t\t\t\t\t\ttext="{sap.fe.i18n>C_COMMON_SAPFE_ERROR_MESSAGES_PAGE_BUTTON_ARIA_TEXT}"\n\t\t\t\t\t\t\t/><macroMessages:MessageButton\n\t\t\t\t\t\t\t\tid="fe::MessageButton"\n\t\t\t\t\t\t\t\tariaLabelledBy="fe::MessageButton::AriaText"\n\t\t\t\t\t\t\t\ttype="Emphasized"\n\t\t\t\t\t\t\t\tariaHasPopup="Dialog"\n\t\t\t\t\t\t\t/><ToolbarSpacer /></OverflowToolbar></template:if></f:footer></f:DynamicPage></template:with></template:with></mvc:View>\n',
	"sap/fe/templates/ListReport/view/fragments/Chart.fragment.xml":'<core:FragmentDefinition xmlns="sap.m" xmlns:core="sap.ui.core"><core:Fragment fragmentName="sap.fe.templates.ListReport.view.fragments.MacroChart" type="XML" /></core:FragmentDefinition>\n',
	"sap/fe/templates/ListReport/view/fragments/CollectionVisualization.fragment.xml":'<core:FragmentDefinition\n\txmlns="sap.fe.templates.controls"\n\txmlns:m="sap.m"\n\txmlns:core="sap.ui.core"\n\txmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"\n><template:if test="{= ${converterContext>hasMultiVisualizations} }"><template:then><m:VBox fitContainer="true" alignItems="Stretch" alignContent="Stretch" justifyContent="Start" renderType="Div"><template:repeat list="{converterContext>views}" var="view"><template:with path="view>primaryVisualization" var="presentationContext"><template:repeat list="{presentationContext>visualizations}" var="visualizationDefinition"><m:MessageStrip\n\t\t\t\t\t\t\t\ttext="{= \'{parts:[{path:\\\'internal>controls/ignoredFields\' + (${visualizationDefinition>collection}) + (${visualizationDefinition>type}) + \'\\\'}, {value: \\\'\' + (${visualizationDefinition>type} === \'Chart\') + \'\\\'},{value: \' + (${visualizationDefinition>type} === \'Chart\' ? JSON.stringify(${visualizationDefinition>applySupported}) : \'\\\'\\\'\') + \'}], formatter: \\\'.formatters.setALPControlMessageStrip\\\'}\'}"\n\t\t\t\t\t\t\t\ttype="Information"\n\t\t\t\t\t\t\t\tshowIcon="true"\n\t\t\t\t\t\t\t\tshowCloseButton="true"\n\t\t\t\t\t\t\t\tclass="sapUiSmallMargin"\n\t\t\t\t\t\t\t\tvisible="{= \'{= (${internal>controls/ignoredFields\' + (${visualizationDefinition>collection}) + (${visualizationDefinition>type}) + \'} || []).length>0 &amp;&amp; ${pageInternal>alpContentView} !== \\\'Table\\\'}\' }"\n\t\t\t\t\t\t\t/><core:Fragment\n\t\t\t\t\t\t\t\tfragmentName="sap.fe.templates.ListReport.view.fragments.{visualizationDefinition>type}"\n\t\t\t\t\t\t\t\ttype="XML"\n\t\t\t\t\t\t\t/></template:repeat></template:with><template:with path="view>secondaryVisualization" var="presentationContext"><template:repeat list="{presentationContext>visualizations}" var="visualizationDefinition"><m:Text text="" class="sapUiSmallMarginTop" visible="{= ${pageInternal>alpContentView} === \'Hybrid\'}" /><m:HBox height="100%" width="100%" visible="{= ${pageInternal>alpContentView} !== \'Chart\'}"><core:Fragment\n\t\t\t\t\t\t\t\t\tfragmentName="sap.fe.templates.ListReport.view.fragments.{visualizationDefinition>type}"\n\t\t\t\t\t\t\t\t\ttype="XML"\n\t\t\t\t\t\t\t\t/></m:HBox></template:repeat></template:with></template:repeat></m:VBox></template:then><template:else><template:repeat list="{presentationContext>visualizations}" var="visualizationDefinition"><core:Fragment fragmentName="sap.fe.templates.ListReport.view.fragments.{visualizationDefinition>type}" type="XML" /></template:repeat></template:else></template:if></core:FragmentDefinition>\n',
	"sap/fe/templates/ListReport/view/fragments/CustomView.fragment.xml":'<core:FragmentDefinition\n\txmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"\n\txmlns:core="sap.ui.core"\n\txmlns:fpm="sap.fe.macros.fpm"\n><fpm:CustomFragment id="{view>customTabId}" fragmentName="{view>fragment}" /></core:FragmentDefinition>\n',
	"sap/fe/templates/ListReport/view/fragments/MacroChart.fragment.xml":'<core:FragmentDefinition\n\txmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"\n\txmlns="sap.m"\n\txmlns:macro="sap.fe.macros"\n\txmlns:core="sap.ui.core"\n\ttemplate:require="{\n\t\tHELPER: \'sap/fe/macros/chart/ChartHelper\'\n\t}"\n><macro:Chart\n\t\tid="{visualizationDefinition>id}"\n\t\t_applyIdToContent="true"\n\t\tcontextPath="{visualizationDefinition>collection}"\n\t\tmetaPath="{presentationContext>annotationPath}"\n\t\tselectionMode="Multiple"\n\t\tchartDelegate="{= \'{name: \\\'sap/fe/templates/AnalyticalListPage/chart/FEChartDelegate\\\', payload: { chartContextPath: \\\'/\' + HELPER.getCollectionName(${visualizationDefinition>collection}) + \'\\\', parameters:{$$groupId:\\\'$auto.Workers\\\'}, selectionMode: \\\'Multiple\\\' } }\' }"\n\t\tselectionChange=".handlers.onChartSelectionChanged"\n\t\theaderLevel="H3"\n\t\tnoDataText="{= ${visualizationDefinition>collection} !== \'\' ? ${sap.fe.i18n>T_TABLE_AND_CHART_NO_DATA_TEXT} : ${sap.fe.i18n>M_CHART_NO_ANNOTATION_SET_TEXT} }"\n\t\tvariantSaved=".handlers.onVariantSaved"\n\t\tvariantSelected=".handlers.onVariantSelected"\n\t\tfilterBar="{converterContext>filterBarId}"\n\t\tsegmentedButtonPressed=".handlers.onSegmentedButtonPressed"\n\t/></core:FragmentDefinition>\n',
	"sap/fe/templates/ListReport/view/fragments/Table.fragment.xml":'<core:FragmentDefinition\n\txmlns:macro="sap.fe.macros.internal"\n\txmlns:macrosTable="sap.fe.macros.table"\n\txmlns:macrosFPM="sap.fe.macros.fpm"\n\txmlns:core="sap.ui.core"\n\txmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"\n\ttemplate:require="{\n\t\tTABLEHELPER: \'sap/fe/macros/table/TableHelper\'\n\t}"\n><macro:Table\n\t\tid="{visualizationDefinition>annotation/apiId}"\n\t\tcontentId="{visualizationDefinition>annotation/id}"\n\t\tmetaPath="{presentationContext>annotationPath}"\n\t\tinMultiView="{presentationContext>inMultiView}"\n\t\tcontextPath="{fullContextPath>}"\n\t\tassociatedSelectionVariantPath="{presentationContext>associatedSelectionVariantPath}"\n\t\tfilterBar="{= ${converterContext>filterBarId} ? ${converterContext>filterBarId} : undefined}"\n\t\tbusy="{ui>/busy}"\n\t\tvariantSelected=".handlers.onVariantSelected"\n\t\tvariantSaved=".handlers.onVariantSaved"\n\t\tisAlp="{converterContext>hasMultiVisualizations}"\n\t\tsegmentedButtonPress="{= ${converterContext>hasMultiVisualizations} ? \'.handlers.onSegmentedButtonPressed\' : undefined }"\n\t\tdisplaySegmentedButton="{converterContext>hasMultiVisualizations}"\n\t\twidthIncludingColumnHeader="{visualizationDefinition>control/widthIncludingColumnHeader}"\n\t\tvisible="{= ${converterContext>hasMultiVisualizations} ? \'{= ${pageInternal>alpContentView} !== \\\'Chart\\\'}\' : \'true\' }"\n\t\ttabTitle="{view>title}"\n\t\theaderLevel="H3"\n\t\tfieldMode="nowrapper"\n\t\theader="{visualizationDefinition>header}"\n\t\theaderVisible="{visualizationDefinition>headerVisible}"\n\t\tvariantManagement="{visualizationDefinition>annotation/variantManagement}"\n\t\treadOnly="{visualizationDefinition>control/readOnly}"\n\t\tignoredFields="{visualizationDefinition>control/ignoredFields}"\n\t><macro:columns><template:repeat list="{visualizationDefinition>columns}" var="column"><template:if test="{= ${column>type} === \'Default\' }"><macrosTable:Column key="{column>key}"><macrosFPM:CustomFragment\n\t\t\t\t\t\t\tid="{column>key}"\n\t\t\t\t\t\t\tfragmentName="{column>template}"\n\t\t\t\t\t\t\tcontextPath="{visualizationDefinition>annotation/collection}"\n\t\t\t\t\t\t><macrosFPM:childCustomData><core:CustomData\n\t\t\t\t\t\t\t\t\tkey="AssociatedProperties"\n\t\t\t\t\t\t\t\t\tvalue="{= TABLEHELPER.createBindingToLoadProperties(${column>properties})}"\n\t\t\t\t\t\t\t\t/></macrosFPM:childCustomData></macrosFPM:CustomFragment></macrosTable:Column></template:if></template:repeat></macro:columns></macro:Table></core:FragmentDefinition>\n',
	"sap/fe/templates/ListReport/view/fragments/VariantManagement.fragment.xml":'<core:FragmentDefinition\n\txmlns="sap.m"\n\txmlns:core="sap.ui.core"\n\txmlns:v="sap.ui.fl.variants"\n\txmlns:macros="sap.fe.macros.contentSwitcher"\n\txmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"\n\ttemplate:require="{\n\t\tID: \'sap/fe/core/helpers/StableIdHelper\'\n\t}"\n><template:if\n\t\ttest="{= ${viewData>/variantManagement} === \'Page\' || (${viewData>/variantManagement} === \'Control\' &amp;&amp; !${converterContext>hideFilterBar})}"\n\t><template:then><v:VariantManagement\n\t\t\t\tid="{= ${viewData>/variantManagement} === \'Control\' ? ID.generate([ ${converterContext>filterBarId}, \'VariantManagement\']) : \'fe::PageVariantManagement\'}"\n\t\t\t\tfor="{converterContext>variantManagement/targetControlIds}"\n\t\t\t\tshowSetAsDefault="true"\n\t\t\t\tselect=".handlers.onVariantSelected"\n\t\t\t\tsave=".handlers.onVariantSaved"\n\t\t\t\theaderLevel="H2"\n\t\t\t\tdisplayTextForExecuteOnSelectionForStandardVariant="{= ${viewData>/initialLoad} === \'Auto\' ? ${sap.fe.i18n>T_LR_VARIANT_APPLY_AUTOMATICALLY_WHEN_FILTER_SET} : undefined }"\n\t\t\t\texecuteOnSelectionForStandardDefault="{= ${viewData>/initialLoad} === \'Enabled\' || ${viewData>/initialLoad} === \'Auto\'}"\n\t\t\t/></template:then><template:else><Title text="{= ${manifest>/sap.app/subTitle} || ${manifest>/sap.app/title} }" level="H2" /></template:else></template:if></core:FragmentDefinition>\n',
	"sap/fe/templates/ObjectPage/ObjectPage.view.xml":'<mvc:View\n\txmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"\n\txmlns:customdata="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1"\n\txmlns:mvc="sap.ui.core.mvc"\n\txmlns:core="sap.ui.core"\n\txmlns:uxap="sap.uxap"\n\txmlns="sap.m"\n\txmlns:control="sap.fe.core.controls"\n\txmlns:fragments="sap.fe.templates.ObjectPage.view.fragments"\n\txmlns:fe="sap.fe.templates.controls"\n\txmlns:dt="sap.ui.dt"\n\txmlns:fl="sap.ui.fl"\n\txmlns:macro="sap.fe.macros"\n\txmlns:macroShare="sap.fe.macros.share"\n\txmlns:fclMacro="sap.fe.macros.fcl"\n\txmlns:internalMacro="sap.fe.macros.internal"\n\tcontrollerName="{converterContext>controllerName}"\n\ttemplate:require="{\n\t\t\t\tMODEL: \'sap/ui/model/odata/v4/AnnotationHelper\',\n\t\t\t\tOP: \'sap/fe/templates/ObjectPage/ObjectPageTemplating\',\n\t\t\t\tUI: \'sap/fe/core/templating/UIFormatters\',\n\t\t\t\tCOMMON: \'sap/fe/macros/CommonHelper\',\n\t\t\t\tCOMMONFORMATTERS: \'sap/fe/core/templating/CommonFormatters\'\n\t\t\t}"\n><template:with path="entitySet>./" var="entityType"><template:with path="entityType>@com.sap.vocabularies.UI.v1.HeaderInfo" var="headerInfo"><uxap:ObjectPageLayout\n\t\t\t\tid="fe::ObjectPage"\n\t\t\t\tflexEnabled="true"\n\t\t\t\tdt:designtime="{converterContext>designtime}"\n\t\t\t\tcustomdata:showRelatedApps="{viewData>/showRelatedApps}"\n\t\t\t\tcustomdata:ObjectPageTitle="{headerInfo>TypeName}"\n\t\t\t\tcustomdata:ObjectPageSubtitle="{= OP.getExpressionForTitle(${fullContextPath>@@UI.getDataModelObjectPath}, ${viewData>}, ${headerInfo>@@UI.getConverterContext})}"\n\t\t\t\tcustomdata:ObjectPageDescription="{= OP.getExpressionForDescription(${fullContextPath>@@UI.getDataModelObjectPath}, ${headerInfo>@@UI.getConverterContext})}"\n\t\t\t\tshowHeaderContent="{converterContext>header/showContent}"\n\t\t\t\tshowFooter="{parts: [{path: \'converterContext>/footerActions\'}, {path: \'entitySet>\'}], formatter: \'OP.getFooterVisibilityExpression\'}"\n\t\t\t\tbusy="{ui>/busy}"\n\t\t\t\tbusyIndicatorDelay="0"\n\t\t\t\tshowAnchorBar="{converterContext>showAnchorBar}"\n\t\t\t\tupperCaseAnchorBar="false"\n\t\t\t\tuseIconTabBar="{converterContext>useIconTabBar}"\n\t\t\t\ttoggleHeaderOnTitleClick="{converterContext>showAnchorBar}"\n\t\t\t\theaderContentPinnable="{converterContext>showAnchorBar}"\n\t\t\t\tenableLazyLoading="true"\n\t\t\t\tnavigate=".handlers.onNavigateChange"\n\t\t\t><uxap:landmarkInfo><uxap:ObjectPageAccessibleLandmarkInfo footerLabel="{sap.fe.i18n>T_COMMON_OBJECT_PAGE_FOOTER}" /></uxap:landmarkInfo><uxap:dependents><control:CommandExecution execute="_executeTabShortCut" command="NextTab" /><control:CommandExecution execute="_executeTabShortCut" command="PreviousTab" /><control:CommandExecution\n\t\t\t\t\t\texecute="._editDocument()"\n\t\t\t\t\t\tenabled="{= OP.getEditCommandExecutionEnabled(${converterContext>header/actions}) }"\n\t\t\t\t\t\tvisible="{= OP.getEditCommandExecutionVisible(${converterContext>header/actions}) }"\n\t\t\t\t\t\tcommand="Edit"\n\t\t\t\t\t/><control:CommandExecution\n\t\t\t\t\t\texecute="{= ${entitySet>@@OP.getPressExpressionForDelete}}"\n\t\t\t\t\t\tvisible="{= OP.getDeleteCommandExecutionVisible(${converterContext>header/actions}) }"\n\t\t\t\t\t\tenabled="{= OP.getDeleteCommandExecutionEnabled(${converterContext>header/actions}) }"\n\t\t\t\t\t\tcommand="DeleteObject"\n\t\t\t\t\t/><control:CommandExecution execute="._validateDocument" visible="{ui>/isEditable}" command="Validate" /><control:CommandExecution execute="{converterContext>primaryAction}" command="FE_PrimaryAction" /><template:repeat list="{converterContext>headerCommandActions}" var="headerAction"><template:with path="headerAction>annotationPath" var="dataField"><template:with path="dataField>Action" helper="COMMON.getActionContext" var="actionContext"><template:with path="dataField>Action" helper="COMMON.getPathToBoundActionOverload" var="isBound"><template:if\n\t\t\t\t\t\t\t\t\t\ttest="{= ${headerAction>type} === \'ForAction\' ? ((${isBound>$IsBound} !== true || ${actionContext>@Org.OData.Core.V1.OperationAvailable} !== false) &amp;&amp; ${dataField>Determining} !== true) : true }"\n\t\t\t\t\t\t\t\t\t><internalMacro:ActionCommand\n\t\t\t\t\t\t\t\t\t\t\taction="{headerAction>}"\n\t\t\t\t\t\t\t\t\t\t\tonExecuteAction="{= OP.getPressExpressionForEdit(${dataField>}, ${entitySet>@sapui.name}, ${headerAction>}) }"\n\t\t\t\t\t\t\t\t\t\t\tonExecuteIBN="{headerAction>press}"\n\t\t\t\t\t\t\t\t\t\t\tonExecuteManifest="{= COMMON.buildActionWrapper(${headerAction>})}"\n\t\t\t\t\t\t\t\t\t\t\tisIBNEnabled="{headerAction>enabled}"\n\t\t\t\t\t\t\t\t\t\t\tisActionEnabled="{headerAction>enabled}"\n\t\t\t\t\t\t\t\t\t\t/></template:if></template:with></template:with></template:with></template:repeat><template:repeat list="{converterContext>footerCommandActions}" var="footerAction"><template:with path="footerAction>annotationPath" var="dataField"><template:with path="dataField>Action" helper="COMMON.getActionContext" var="actionContext"><template:with path="dataField>Action" helper="COMMON.getPathToBoundActionOverload" var="isBound"><template:if\n\t\t\t\t\t\t\t\t\t\ttest="{= ${footerAction>type} === \'ForAction\' ? ((${isBound>$IsBound} !== true || ${actionContext>@Org.OData.Core.V1.OperationAvailable} !== false) &amp;&amp; ${dataField>Determining} === true) : true }"\n\t\t\t\t\t\t\t\t\t><internalMacro:ActionCommand\n\t\t\t\t\t\t\t\t\t\t\taction="{footerAction>}"\n\t\t\t\t\t\t\t\t\t\t\tonExecuteAction="{= OP.getPressExpressionForFooterAnnotationAction(${dataField>@@UI.getDataModelObjectPath}, ${entitySet>@sapui.name}, ${footerAction>}) }"\n\t\t\t\t\t\t\t\t\t\t\tonExecuteIBN="{footerAction>press}"\n\t\t\t\t\t\t\t\t\t\t\tonExecuteManifest="{= COMMON.buildActionWrapper(${footerAction>})}"\n\t\t\t\t\t\t\t\t\t\t\tisIBNEnabled="{footerAction>enabled}"\n\t\t\t\t\t\t\t\t\t\t\tisActionEnabled="{footerAction>enabled}"\n\t\t\t\t\t\t\t\t\t\t/></template:if></template:with></template:with></template:with></template:repeat></uxap:dependents><template:if test="{converterContext>header/visible}"><template:with path="converterContext>header" var="header"><uxap:headerTitle><uxap:ObjectPageDynamicHeaderTitle\n\t\t\t\t\t\t\t\tid="fe::ObjectPageDynamicHeaderTitle"\n\t\t\t\t\t\t\t\tdt:designtime="not-adaptable"\n\t\t\t\t\t\t\t\tareaShrinkRatio="1:0:0.2"\n\t\t\t\t\t\t\t><core:Fragment fragmentName="sap.fe.templates.ObjectPage.view.fragments.Heading" type="XML" /><uxap:content><template:if test="{entitySet>@com.sap.vocabularies.Common.v1.DraftRoot}"><macro:draftIndicator.DraftIndicator\n\t\t\t\t\t\t\t\t\t\t\tdraftIndicatorType="IconOnly"\n\t\t\t\t\t\t\t\t\t\t\tclass="sapUiTinyMarginBegin sapMTB sapMTBNewFlex"\n\t\t\t\t\t\t\t\t\t\t\tcontextPath="{entitySet>}"\n\t\t\t\t\t\t\t\t\t\t/></template:if><SituationsIndicator xmlns="sap.fe.macros.situations" contextPath="{entitySet>}" /></uxap:content><uxap:navigationActions><template:if test="{= ${viewData>/viewLevel} > 1}"><macro:Paginator\n\t\t\t\t\t\t\t\t\t\t\tid="fe::Paginator"\n\t\t\t\t\t\t\t\t\t\t\tariaTitle="{= COMMONFORMATTERS.getBindingWithText(${headerInfo>Title/Value@@UI.getDataModelObjectPath}) }"\n\t\t\t\t\t\t\t\t\t\t/></template:if><template:if test="{= ${viewData>/fclEnabled} }"><fclMacro:FlexibleColumnLayoutActions /></template:if></uxap:navigationActions><uxap:actions><core:Fragment fragmentName="sap.fe.templates.ObjectPage.view.fragments.Actions" type="XML" /></uxap:actions><uxap:breadcrumbs><macro:Breadcrumbs\n\t\t\t\t\t\t\t\t\t\tvisible="{= UI.getVisibleExpressionForBreadcrumbs(${viewData>/}) }"\n\t\t\t\t\t\t\t\t\t\thierarchyMode="{viewData>/breadcrumbsHierarchyMode}"\n\t\t\t\t\t\t\t\t\t/></uxap:breadcrumbs></uxap:ObjectPageDynamicHeaderTitle></uxap:headerTitle><template:if test="{header>hasContent}"><uxap:headerContent><template:if test="{= COMMON.isDesktop() }"><template:then><FlexBox\n\t\t\t\t\t\t\t\t\t\t\tid="fe::HeaderContentContainer"\n\t\t\t\t\t\t\t\t\t\t\tdt:designtime="sap/fe/templates/ObjectPage/designtime/FlexBox.designtime"\n\t\t\t\t\t\t\t\t\t\t\twrap="Wrap"\n\t\t\t\t\t\t\t\t\t\t\tfitContainer="false"\n\t\t\t\t\t\t\t\t\t\t\talignItems="Stretch"\n\t\t\t\t\t\t\t\t\t\t><core:Fragment\n\t\t\t\t\t\t\t\t\t\t\t\tfragmentName="sap.fe.templates.ObjectPage.view.fragments.HeaderContent"\n\t\t\t\t\t\t\t\t\t\t\t\ttype="XML"\n\t\t\t\t\t\t\t\t\t\t\t/></FlexBox></template:then><template:else><HeaderContainer\n\t\t\t\t\t\t\t\t\t\t\tid="fe::HeaderContentContainer"\n\t\t\t\t\t\t\t\t\t\t\tshowDividers="false"\n\t\t\t\t\t\t\t\t\t\t\tfl:flexibility="sap/fe/templates/ObjectPage/flexibility/ScrollableHeaderContainer.flexibility"\n\t\t\t\t\t\t\t\t\t\t><core:Fragment\n\t\t\t\t\t\t\t\t\t\t\t\tfragmentName="sap.fe.templates.ObjectPage.view.fragments.HeaderContent"\n\t\t\t\t\t\t\t\t\t\t\t\ttype="XML"\n\t\t\t\t\t\t\t\t\t\t\t/></HeaderContainer></template:else></template:if></uxap:headerContent></template:if></template:with></template:if><uxap:sections><core:Fragment fragmentName="sap.fe.templates.ObjectPage.view.fragments.Section" type="XML" /></uxap:sections><uxap:footer><macro:FooterContent id="fe::FooterBar" /></uxap:footer></uxap:ObjectPageLayout></template:with></template:with></mvc:View>\n',
	"sap/fe/templates/ObjectPage/view/fragments/Actions.fragment.xml":'<core:FragmentDefinition\n\txmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"\n\txmlns:macrodata="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1"\n\txmlns="sap.m"\n\txmlns:core="sap.ui.core"\n\txmlns:macro="sap.fe.macros"\n\txmlns:macroShare="sap.fe.macros.share"\n\txmlns:macroAI="sap.fe.macros.ai"\n\txmlns:components="sap.fe.templates.ObjectPage.components"\n\txmlns:customData="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1"\n\txmlns:dt="sap.ui.dt"\n\ttemplate:require="{\n\t\tID: \'sap/fe/core/helpers/StableIdHelper\',\n\t\tOP: \'sap/fe/templates/ObjectPage/ObjectPageTemplating\',\n\t\tMODEL: \'sap/ui/model/odata/v4/AnnotationHelper\',\n\t\tUI: \'sap/fe/core/templating/UIFormatters\',\n\t\tCRIT: \'sap/fe/core/templating/CriticalityFormatters\',\n\t\tCOMMON: \'sap/fe/macros/CommonHelper\',\n\t\tACTION: \'sap/fe/core/converters/controls/Common/Action\',\n\t\tDATAFIELDANNOTATIONS : \'sap/fe/core/converters/annotations/DataField\',\n\t\tFIELD: \'sap/fe/macros/field/FieldHelper\',\n\t\tDEFAULTACTIONHANDLER: \'sap/fe/macros/internal/helpers/DefaultActionHandler\',\n\t\tFE_MODEL: \'sap/fe/core/helpers/ModelHelper\'\n\t}"\n><template:if test="{converterContext>header/actions}"><template:repeat list="{converterContext>header/actions}" var="headerAction"><template:if\n\t\t\t\ttest="{= ${headerAction>type} === \'DraftActions\' &amp;&amp; OP.checkDraftState(${entitySet>@@UI.getConverterContext}) }"\n\t\t\t><template:then><components:DraftToggle\n\t\t\t\t\t\tcontextPath="{entitySet>@@COMMON.getContextPath}"\n\t\t\t\t\t\tid="fe::StandardAction::SwitchDraftAndActiveObject"\n\t\t\t\t\t\tdt:designtime="not-adaptable"\n\t\t\t\t\t/><template:if test="{= !${entitySet>@@FE_MODEL.isCollaborationDraftSupported} }"><ToolbarSpacer width="10px" /></template:if></template:then><template:elseif test="{= ${headerAction>type} === \'CollaborationAvatars\' }"><template:if test="{= ${entitySet>@@FE_MODEL.isCollaborationDraftSupported} }"><components:CollaborationDraft contextPath="{entitySet>@@COMMON.getMetaPath}" id="fe::CollaborationDraft" /></template:if><ToolbarSpacer /></template:elseif><template:elseif test="{= ${headerAction>type} === \'Separator\'}"><ToolbarSeparator><layoutData><OverflowToolbarLayoutData group="{headerAction>group}" /></layoutData></ToolbarSeparator></template:elseif><template:elseif test="{= OP.isManifestAction(${headerAction>}) }"><template:if test="{= ${headerAction>type} === \'Menu\'}"><template:then><template:with path="headerAction>defaultAction/annotationPath" var="dataFieldForDefaultAction"><template:with\n\t\t\t\t\t\t\t\t\tpath="dataFieldForDefaultAction>Action"\n\t\t\t\t\t\t\t\t\thelper="COMMON.getActionContext"\n\t\t\t\t\t\t\t\t\tvar="defaultActionContext"\n\t\t\t\t\t\t\t\t><MenuButton\n\t\t\t\t\t\t\t\t\t\tcore:require="{FPM: \'sap/fe/core/helpers/FPMHelper\'}"\n\t\t\t\t\t\t\t\t\t\ttext="{headerAction>text}"\n\t\t\t\t\t\t\t\t\t\ttype="Ghost"\n\t\t\t\t\t\t\t\t\t\tmenuPosition="BeginBottom"\n\t\t\t\t\t\t\t\t\t\tid="{= ID.generate([\'fe\',${headerAction>id}])}"\n\t\t\t\t\t\t\t\t\t\tvisible="{headerAction>visible}"\n\t\t\t\t\t\t\t\t\t\tenabled="{headerAction>enabled}"\n\t\t\t\t\t\t\t\t\t\tuseDefaultActionOnly="{= DEFAULTACTIONHANDLER.getUseDefaultActionOnly(${headerAction>})}"\n\t\t\t\t\t\t\t\t\t\tbuttonMode="{= DEFAULTACTIONHANDLER.getButtonMode(${headerAction>})}"\n\t\t\t\t\t\t\t\t\t\tdefaultAction="{= OP.getDefaultActionHandler(${converterContext>header}, ${headerAction>}, ${dataFieldForDefaultAction>}, ${entitySet>@sapui.name})}"\n\t\t\t\t\t\t\t\t\t\ticon="{= ${headerAction>isAIOperation} ? COMMON.getAIIcon() : undefined }"\n\t\t\t\t\t\t\t\t\t><menu><Menu><template:repeat list="{headerAction>menu}" var="menuItemAction"><template:with path="menuItemAction>annotationPath" var="dataField"><template:if test="{= ${menuItemAction>type} === \'ForAction\'}"><template:then><MenuItem\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tid="{= ID.generate([\'fe\', ${dataField>@@UI.getDataModelObjectPath}]) }"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttext="{dataField>Label}"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tpress="{= ${menuItemAction>command} ? (\'cmd:\' + ${menuItemAction>command}) : OP.getPressExpressionForEdit(${dataField>}, ${entitySet>@sapui.name}, ${headerAction>}) }"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvisible="{menuItemAction>visible}"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tenabled="{menuItemAction>enabled}"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmacrodata:annotatedActionIdentifier="{= ID.generate([${dataField>@@UI.getDataModelObjectPath}]) }"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/></template:then><template:elseif test="{= ${menuItemAction>type} === \'ForNavigation\'}"><MenuItem\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tid="{= ID.generate([\'fe\', ${dataField>@@UI.getDataModelObjectPath}]) }"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttext="{dataField>Label}"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tpress="{= ${menuItemAction>command} ? (\'cmd:\' + ${menuItemAction>command}) : ${menuItemAction>press}}"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tenabled="{menuItemAction>enabled}"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvisible="{menuItemAction>visible}"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmacrodata:IBNData="{menuItemAction>customData}"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/></template:elseif><template:else><MenuItem\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tid="{= ID.generate([\'fe\',${menuItemAction>id}])}"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttext="{menuItemAction>text}"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tpress="{= ${menuItemAction>command} ? (\'cmd:\' + ${menuItemAction>command}) : COMMON.buildActionWrapper(${menuItemAction>}, ${headerAction>})}"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvisible="{menuItemAction>visible}"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tenabled="{menuItemAction>enabled}"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/></template:else></template:if></template:with></template:repeat></Menu></menu><layoutData><OverflowToolbarLayoutData\n\t\t\t\t\t\t\t\t\t\t\t\tpriority="{= ${headerAction>priority} ? ${headerAction>priority} : \'Low\' }"\n\t\t\t\t\t\t\t\t\t\t\t\tgroup="{headerAction>group}"\n\t\t\t\t\t\t\t\t\t\t\t/></layoutData></MenuButton></template:with></template:with></template:then><template:else><Button\n\t\t\t\t\t\t\t\tcore:require="{FPM: \'sap/fe/core/helpers/FPMHelper\'}"\n\t\t\t\t\t\t\t\tid="{= ID.generate([\'fe\',${headerAction>id}])}"\n\t\t\t\t\t\t\t\tdt:designtime="{= (${headerAction>visible} === \'true\' || ${headerAction>visible} === \'false\')  ? undefined : \'not-adaptable-visibility\'}"\n\t\t\t\t\t\t\t\ttext="{headerAction>text}"\n\t\t\t\t\t\t\t\tpress="{= ${headerAction>command} ? (\'cmd:\' + ${headerAction>command}) : COMMON.buildActionWrapper(${headerAction>})}"\n\t\t\t\t\t\t\t\ttype="Ghost"\n\t\t\t\t\t\t\t\tvisible="{headerAction>visible}"\n\t\t\t\t\t\t\t\tenabled="{headerAction>enabled}"\n\t\t\t\t\t\t\t\ticon="{= ${headerAction>isAIOperation} ? COMMON.getAIIcon() : undefined }"\n\t\t\t\t\t\t\t><layoutData><OverflowToolbarLayoutData\n\t\t\t\t\t\t\t\t\t\tpriority="{= ${headerAction>priority} ? ${headerAction>priority} : \'Low\' }"\n\t\t\t\t\t\t\t\t\t\tgroup="{headerAction>group}"\n\t\t\t\t\t\t\t\t\t/></layoutData></Button></template:else></template:if></template:elseif><template:elseif test="{= ${headerAction>type} === \'Primary\'}"><template:with path="entitySet>" helper="OP.getEditAction" var="editAction"><template:with path="editAction>@Org.OData.Core.V1.OperationAvailable" var="operationAvailable"><template:if test="{= ${operationAvailable>} !== false }"><Button\n\t\t\t\t\t\t\t\t\tid="fe::StandardAction::Edit"\n\t\t\t\t\t\t\t\t\tdt:designtime="not-adaptable"\n\t\t\t\t\t\t\t\t\ttype="{= OP.buildEmphasizedButtonExpression(${fullContextPath>@@UI.getDataModelObjectPath}) }"\n\t\t\t\t\t\t\t\t\ttext="{sap.fe.i18n>C_COMMON_OBJECT_PAGE_EDIT}"\n\t\t\t\t\t\t\t\t\tenabled="{headerAction>enabled}"\n\t\t\t\t\t\t\t\t\tvisible="{headerAction>visible}"\n\t\t\t\t\t\t\t\t\tpress="cmd:Edit"\n\t\t\t\t\t\t\t\t><layoutData><OverflowToolbarLayoutData\n\t\t\t\t\t\t\t\t\t\t\tpriority="{= ${headerAction>priority} ? ${headerAction>priority} : \'High\' }"\n\t\t\t\t\t\t\t\t\t\t\tgroup="{headerAction>group}"\n\t\t\t\t\t\t\t\t\t\t/></layoutData></Button></template:if></template:with></template:with></template:elseif><template:elseif test="{= ${headerAction>type} === \'Secondary\'}"><Button\n\t\t\t\t\t\tid="fe::StandardAction::Delete"\n\t\t\t\t\t\tdt:designtime="not-adaptable"\n\t\t\t\t\t\ttype="Ghost"\n\t\t\t\t\t\ttext="{sap.fe.i18n>C_COMMON_DELETE}"\n\t\t\t\t\t\tvisible="{headerAction>visible}"\n\t\t\t\t\t\tenabled="{headerAction>enabled}"\n\t\t\t\t\t\tpress="cmd:DeleteObject"\n\t\t\t\t\t\tariaHasPopup="Dialog"\n\t\t\t\t\t><layoutData><OverflowToolbarLayoutData\n\t\t\t\t\t\t\t\tpriority="{= ${headerAction>priority} ? ${headerAction>priority} : \'Low\' }"\n\t\t\t\t\t\t\t\tgroup="{headerAction>group}"\n\t\t\t\t\t\t\t/></layoutData></Button></template:elseif><template:elseif test="{= ${headerAction>type} === \'ForAction\' || ${headerAction>type} === \'Copy\'}"><template:with path="headerAction>annotationPath" var="dataField"><template:if\n\t\t\t\t\t\t\ttest="{= ${dataField>$Type} === \'com.sap.vocabularies.UI.v1.DataFieldForAction\' &amp;&amp; ${dataField>Determining} !== true }"\n\t\t\t\t\t\t><template:with path="dataField>Action" helper="COMMON.getActionContext" var="actionContext"><template:with path="dataField>Action" helper="COMMON.getPathToBoundActionOverload" var="isBound"><template:if\n\t\t\t\t\t\t\t\t\t\ttest="{= (${headerAction>visible} !== \'false\') &amp;&amp; (${isBound>$IsBound} !== true || ${actionContext>@Org.OData.Core.V1.OperationAvailable} !== false) }"\n\t\t\t\t\t\t\t\t\t><Button\n\t\t\t\t\t\t\t\t\t\t\tid="{= ID.generate([\'fe\', ${dataField>@@UI.getDataModelObjectPath}]) }"\n\t\t\t\t\t\t\t\t\t\t\tdt:designtime="{= (${headerAction>visible} === \'true\' || ${headerAction>visible} === \'false\')  ? undefined : \'not-adaptable-visibility\'}"\n\t\t\t\t\t\t\t\t\t\t\ttext="{= ${headerAction>text} ? ${headerAction>text} : ${dataField>Label} }"\n\t\t\t\t\t\t\t\t\t\t\tpress="{= ${headerAction>command} ? (\'cmd:\' + ${headerAction>command}) : OP.getPressExpressionForEdit(${dataField>}, ${entitySet>@sapui.name}, ${headerAction>}) }"\n\t\t\t\t\t\t\t\t\t\t\tvisible="{headerAction>visible}"\n\t\t\t\t\t\t\t\t\t\t\tenabled="{headerAction>enabled}"\n\t\t\t\t\t\t\t\t\t\t\ttype="{= CRIT.buildExpressionForCriticalityButtonType(${dataField>@@UI.getDataModelObjectPath}) }"\n\t\t\t\t\t\t\t\t\t\t\tariaHasPopup="{= DATAFIELDANNOTATIONS.isDataModelObjectPathForActionWithDialog(${actionContext>@@UI.getDataModelObjectPath})}"\n\t\t\t\t\t\t\t\t\t\t\tmacrodata:annotatedActionIdentifier="{= ID.generate([${dataField>@@UI.getDataModelObjectPath}]) }"\n\t\t\t\t\t\t\t\t\t\t\ticon="{= ${headerAction>isAIOperation} ? COMMON.getAIIcon() : undefined }"\n\t\t\t\t\t\t\t\t\t\t><layoutData><OverflowToolbarLayoutData\n\t\t\t\t\t\t\t\t\t\t\t\t\tpriority="{= ${headerAction>priority} ? ${headerAction>priority} : \'Low\' }"\n\t\t\t\t\t\t\t\t\t\t\t\t\tgroup="{headerAction>group}"\n\t\t\t\t\t\t\t\t\t\t\t\t/></layoutData></Button></template:if></template:with></template:with></template:if></template:with></template:elseif><template:elseif test="{= ${headerAction>type} === \'ForNavigation\'}"><template:with path="headerAction>annotationPath" var="dataField"><Button\n\t\t\t\t\t\t\tid="{= ID.generate([\'fe\', ${dataField>@@UI.getDataModelObjectPath}]) }"\n\t\t\t\t\t\t\tdt:designtime="{= (${headerAction>visible} === \'true\' || ${headerAction>visible} === \'false\')  ? undefined : \'not-adaptable-visibility\'}"\n\t\t\t\t\t\t\ttext="{headerAction>text}"\n\t\t\t\t\t\t\tpress="{= ${headerAction>command} ? (\'cmd:\' + ${headerAction>command}) : ${headerAction>press}}"\n\t\t\t\t\t\t\tenabled="{headerAction>enabled}"\n\t\t\t\t\t\t\ttype="{headerAction>buttonType}"\n\t\t\t\t\t\t\tvisible="{headerAction>visible}"\n\t\t\t\t\t\t\tmacrodata:IBNData="{headerAction>customData}"\n\t\t\t\t\t\t><layoutData><OverflowToolbarLayoutData\n\t\t\t\t\t\t\t\t\tpriority="{= ${headerAction>priority} ? ${headerAction>priority} : \'Low\' }"\n\t\t\t\t\t\t\t\t\tgroup="{headerAction>group}"\n\t\t\t\t\t\t\t\t/></layoutData></Button></template:with></template:elseif></template:if></template:repeat></template:if><macroAI:EasyFillButton id="fe::EasyEdit" visible="{converterContext>header/easyFillVisible}" /><macroAI:SummarizationButton id="fe::Summarize" /><core:Fragment fragmentName="sap.fe.templates.ObjectPage.view.fragments.RelatedApps" type="XML" /><macro:Share id="fe::Share" visible="{= OP.getShareButtonVisibility(${viewData>/}) }" priority="{viewData>/shareOverflowPriority}"><macro:msTeamsOptions><macroShare:MsTeamsOptions enableCard="{= ${viewData>/viewLevel} === 1}" /></macro:msTeamsOptions><macro:shareOptions showCollaborationManager="true" /></macro:Share></core:FragmentDefinition>\n',
	"sap/fe/templates/ObjectPage/view/fragments/Chart.fragment.xml":'<core:FragmentDefinition xmlns="sap.m" xmlns:core="sap.ui.core"><VBox fitContainer="true" alignItems="Stretch" alignContent="Stretch" justifyContent="Start" renderType="Div"><MessageStrip\n\t\t\ttext="{sap.fe.i18n>C_MULTIVIZ_CHART_IGNORED_FILTER_DRAFT_DATA}"\n\t\t\ttype="Information"\n\t\t\tshowIcon="true"\n\t\t\tshowCloseButton="true"\n\t\t\tclass="sapUiSmallMargin"\n\t\t\tvisible="{=\'{= ${internal>controls/showMessageStrip/\' + (${visualizationDefinition>entityName}) + (${visualizationDefinition>type}) + \'}  }\' }"\n\t\t/><core:Fragment fragmentName="sap.fe.templates.ObjectPage.view.fragments.MacroChart" type="XML" /></VBox></core:FragmentDefinition>\n',
	"sap/fe/templates/ObjectPage/view/fragments/EditableHeaderFacet.fragment.xml":'<core:FragmentDefinition\n\txmlns="sap.m"\n\txmlns:f="sap.ui.layout.form"\n\txmlns:macro="sap.fe.macros"\n\txmlns:internalMacro="sap.fe.macros.internal"\n\txmlns:core="sap.ui.core"\n\txmlns:dt="sap.ui.dt"\n\txmlns:fl="sap.ui.fl"\n\txmlns:fpm="sap.fe.macros.fpm"\n\txmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"\n\txmlns:formdata="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1"\n\ttemplate:require="{\n\t\tOP: \'sap/fe/templates/ObjectPage/ObjectPageTemplating\',\n\t\tMODEL: \'sap/ui/model/odata/v4/AnnotationHelper\',\n\t\tFIELD: \'sap/fe/macros/field/FieldHelper\',\n\t\tID: \'sap/fe/core/helpers/StableIdHelper\',\n\t\tCOMMON: \'sap/fe/macros/CommonHelper\',\n\t\tFORM: \'sap/fe/macros/form/FormHelper\',\n\t\tUI: \'sap/fe/core/templating/UIFormatters\'\n\t}"\n><f:Form\n\t\tfl:delegate=\'{\n\t\t\t"name": "sap/fe/macros/form/FormDelegate",\n\t\t\t"delegateType": "complete"\n\t\t}\'\n\t\tid="fe::EditableHeaderForm"\n\t\teditable="true"\n\t\tclass="sapUxAPObjectPageSubSectionAlignContent"\n\t\tformdata:navigationPath="{= COMMON.getNavigationPath(${entitySet>}, true) }"\n\t\tformdata:entitySet="{entitySet>@sapui.name}"\n\t><f:layout><f:ColumnLayout columnsM="2" columnsL="3" columnsXL="4" labelCellsLarge="12" /></f:layout><f:formContainers><f:FormContainer\n\t\t\t\tid="fe::EditableHeaderForm::EditableHeaderInfo"\n\t\t\t\tvisible="{= OP.getVisiblityOfHeaderInfo(${entityType>@com.sap.vocabularies.UI.v1.HeaderInfo/Title/Value/$Path@},${entityType>@com.sap.vocabularies.UI.v1.HeaderInfo/Description/Value/$Path@},${entityType>@com.sap.vocabularies.UI.v1.HeaderInfo/Title/Value/$Path@@FIELD.fieldControl},${entityType>@com.sap.vocabularies.UI.v1.HeaderInfo/Description/Value/$Path@@FIELD.fieldControl}) }"\n\t\t\t><template:if test="{sap.fe.i18n>T_COMMON_OBJECT_PAGE_OBJECT_INFO}"><f:title><core:Title level="H4" text="{sap.fe.i18n>T_COMMON_OBJECT_PAGE_OBJECT_INFO}" /></f:title></template:if><f:dependents><macro:ValueHelp\n\t\t\t\t\t\tidPrefix="fe::EditableHeaderForm::EditableHeaderTitle::FieldValueHelp"\n\t\t\t\t\t\tmetaPath="{entityType>@com.sap.vocabularies.UI.v1.HeaderInfo/Title/Value@@COMMON.getMetaPath}"\n\t\t\t\t\t/><macro:ValueHelp\n\t\t\t\t\t\tidPrefix="fe::EditableHeaderForm::EditableHeaderDescription::FieldValueHelp"\n\t\t\t\t\t\tmetaPath="{entityType>@com.sap.vocabularies.UI.v1.HeaderInfo/Description/Value@@COMMON.getMetaPath}"\n\t\t\t\t\t/></f:dependents><f:formElements><f:FormElement id="fe::EditableHeaderForm::EditableHeaderTitle"><f:label><Label text="{entityType>@com.sap.vocabularies.UI.v1.HeaderInfo/Title/@@MODEL.label}"><layoutData><f:ColumnElementData cellsLarge="12" /></layoutData></Label></f:label><f:fields><macro:Field\n\t\t\t\t\t\t\t\tidPrefix="fe::EditableHeaderForm::EditableHeaderTitle"\n\t\t\t\t\t\t\t\tvhIdPrefix="fe::EditableHeaderForm::EditableHeaderTitle::FieldValueHelp"\n\t\t\t\t\t\t\t\tcontextPath="{entitySet>@@COMMON.getMetaPath}"\n\t\t\t\t\t\t\t\tmetaPath="{entityType>@com.sap.vocabularies.UI.v1.HeaderInfo/Title@@COMMON.getMetaPath}"\n\t\t\t\t\t\t\t><formatOptions textAlignMode="Form" showEmptyIndicator="true" /></macro:Field></f:fields></f:FormElement><template:if test="{entityType>@com.sap.vocabularies.UI.v1.HeaderInfo/Description}"><f:FormElement id="fe::EditableHeaderForm::EditableHeaderDescription"><f:label><Label text="{entityType>@com.sap.vocabularies.UI.v1.HeaderInfo/Description/@@MODEL.label}"><layoutData><f:ColumnElementData cellsLarge="12" /></layoutData></Label></f:label><f:fields><macro:Field\n\t\t\t\t\t\t\t\t\tidPrefix="fe::EditableHeaderForm::EditableHeaderDescription"\n\t\t\t\t\t\t\t\t\tvhIdPrefix="fe::EditableHeaderForm::EditableHeaderDescription::FieldValueHelp"\n\t\t\t\t\t\t\t\t\tcontextPath="{entitySet>@@COMMON.getMetaPath}"\n\t\t\t\t\t\t\t\t\tmetaPath="{entityType>@com.sap.vocabularies.UI.v1.HeaderInfo/Description@@COMMON.getMetaPath}"\n\t\t\t\t\t\t\t\t><formatOptions textAlignMode="Form" showEmptyIndicator="true" /></macro:Field></f:fields></f:FormElement></template:if></f:formElements></f:FormContainer><template:if test="{headerSection>subSections}"><template:repeat\n\t\t\t\t\tlist="{path: \'headerSection>subSections\', filters: [{path: \'type\', operator: \'EQ\', value1: \'Form\'}, {path: \'type\', operator: \'EQ\', value1: \'XMLFragment\'}]}"\n\t\t\t\t\tvar="subSection"\n\t\t\t\t><template:if test="{= !${subSection>stashed} }"><template:then><template:if test="{= !${subSection>template} }"><template:then><template:with path="subSection>annotationPath" var="facet"><template:repeat list="{path: \'subSection>formDefinition/formContainers\'}" var="formContainer"><template:if test="{= MODEL.getNavigationPath(${facet>Target/$AnnotationPath}) }"><template:then><template:with path="formContainer>entitySet" var="targetEntitySet"><macro:FormContainer\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tid="{= ${formContainer>id} ? ID.generate([\'fe\', \'HeaderFacet\', \'FormContainer\', ${formContainer>id} ]) : undefined }"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdesigntimeSettings="{= ${subSection>flexSettings/designtime} === \'Default\' ? \'sap/fe/macros/form/FormContainer.designtime\' : ${subSection>flexSettings/designtime}}"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttitle="{facet>@@MODEL.label}"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttitleLevel="H4"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisplayMode="Edit"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcontextPath="{targetEntitySet>}"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmetaPath="{formContainer>annotationPath}"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tnavigationPath="{= MODEL.getNavigationPath(${facet>Target/$AnnotationPath}) ? MODEL.getNavigationPath(${facet>Target/$AnnotationPath}) : \'\'}"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdataFieldCollection="{formContainer>formElements}"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvisible="{subSection>visible}"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/></template:with></template:then><template:else><macro:FormContainer\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tid="{= ${formContainer>id} ? ID.generate([\'fe\', \'HeaderFacet\', \'FormContainer\', ${formContainer>id} ]) : undefined }"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdesigntimeSettings="{= ${subSection>flexSettings/designtime} === \'Default\' ? \'sap/fe/macros/form/FormContainer.designtime\' : ${subSection>flexSettings/designtime}}"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttitle="{facet>@@MODEL.label}"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttitleLevel="H4"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisplayMode="Edit"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcontextPath="{entitySet>}"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmetaPath="{formContainer>annotationPath}"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdataFieldCollection="{formContainer>formElements}"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvisible="{subSection>visible}"\n\t\t\t\t\t\t\t\t\t\t\t\t\t/></template:else></template:if></template:repeat></template:with></template:then><template:else><f:FormContainer\n\t\t\t\t\t\t\t\t\t\tid="{= ${subSection>id} ? ID.generate([${subSection>id}, \'CustomFormContainer\', ${subSection>@@UI.getDataModelObjectPath}]) : undefined }"\n\t\t\t\t\t\t\t\t\t\tvisible="{subSection>visible}"\n\t\t\t\t\t\t\t\t\t\tdt:designtime="{= ${subSection>flexSettings/designtime} === \'Default\' ? \'sap/ui/layout/designtime/form/FormContainer.designtime\' : ${subSection>flexSettings/designtime}}"\n\t\t\t\t\t\t\t\t\t><template:if test="{subSection>title}"><f:title><core:Title level="H4" text="{subSection>title}" /></f:title></template:if><f:formElements><fpm:CustomFragment\n\t\t\t\t\t\t\t\t\t\t\t\tid="{= ${subSection>id} ? ID.generate([${subSection>id}, \'CustomFragment\', ${subSection>@@UI.getDataModelObjectPath}]) : undefined }"\n\t\t\t\t\t\t\t\t\t\t\t\tfragmentName="{subSection>template}"\n\t\t\t\t\t\t\t\t\t\t\t\tcontextPath="{entitySet>}"\n\t\t\t\t\t\t\t\t\t\t\t/></f:formElements></f:FormContainer></template:else></template:if></template:then></template:if></template:repeat></template:if></f:formContainers></f:Form></core:FragmentDefinition>\n',
	"sap/fe/templates/ObjectPage/view/fragments/ExpandedHeading.fragment.xml":'<core:FragmentDefinition xmlns="sap.m" xmlns:core="sap.ui.core" xmlns:macrosHeader="sap.fe.macros.header"><FlexBox renderType="Bare"><FlexBox visible="{header>title/expandedImageVisible}"><macrosHeader:HeaderAvatar\n\t\t\t\tsrc="{avatar>src}"\n\t\t\t\tinitials="{avatar>initials}"\n\t\t\t\tfallbackIcon="{avatar>fallbackIcon}"\n\t\t\t\tdisplayShape="{avatar>displayShape}"\n\t\t\t/></FlexBox><macrosHeader:HeaderTitleDescription VBoxType="Bare"><macrosHeader:layoutData><FlexItemData minWidth="0" /></macrosHeader:layoutData></macrosHeader:HeaderTitleDescription></FlexBox></core:FragmentDefinition>\n',
	"sap/fe/templates/ObjectPage/view/fragments/FormActions.fragment.xml":'<core:FragmentDefinition\n\txmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"\n\txmlns="sap.m"\n\txmlns:core="sap.ui.core"\n\txmlns:uxap="sap.uxap"\n\txmlns:macroSectionContent="sap.fe.macros.controls.section"\n><macroSectionContent:actions><template:repeat list="{subSection>actions}" var="action"><core:Fragment fragmentName="sap.fe.macros.form.FormActionButtons" type="XML" /></template:repeat></macroSectionContent:actions></core:FragmentDefinition>\n',
	"sap/fe/templates/ObjectPage/view/fragments/HeaderContent.fragment.xml":'<core:FragmentDefinition\n\txmlns="sap.m"\n\txmlns:core="sap.ui.core"\n\txmlns:dt="sap.ui.dt"\n\txmlns:fl="sap.ui.fl"\n\txmlns:fe="sap.fe.templates.ObjectPage.controls"\n\txmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"\n\ttemplate:require="{\n\t\t\tCOMMON: \'sap/fe/macros/CommonHelper\',\n\t\t\tID: \'sap/fe/core/helpers/StableIdHelper\',\n\t\t\tCOMMONFORMATTERS: \'sap/fe/core/templating/CommonFormatters\',\n\t\t\tOP: \'sap/fe/templates/ObjectPage/ObjectPageTemplating\',\n\t\t\tUI: \'sap/fe/core/templating/UIFormatters\'\n\t}"\n><template:if test="{header>avatar}"><Avatar\n\t\t\tclass="sapUiSmallMarginEnd sapUiSmallMarginBottom"\n\t\t\tsrc="{header>avatar/src}"\n\t\t\tinitials="{header>avatar/initials}"\n\t\t\tfallbackIcon="{header>avatar/fallbackIcon}"\n\t\t\tdisplayShape="{header>avatar/displayShape}"\n\t\t\tdisplaySize="XL"\n\t\t\timageFitType="Cover"\n\t\t\ttooltip="{= COMMONFORMATTERS.getBindingWithText(${headerInfo>Title/Value@@UI.getDataModelObjectPath}) }"\n\t\t><detailBox><LightBox><LightBoxItem\n\t\t\t\t\t\timageSrc="{header>avatar/src}"\n\t\t\t\t\t\ttitle="{= OP.getExpressionForTitle(${fullContextPath>@@UI.getDataModelObjectPath}, ${viewData>}, ${headerInfo>@@UI.getConverterContext})}"\n\t\t\t\t\t\tsubtitle="{= OP.getExpressionForDescription(${fullContextPath>@@UI.getDataModelObjectPath}, ${headerInfo>@@UI.getConverterContext})}"\n\t\t\t\t\t/></LightBox></detailBox></Avatar></template:if><template:with path="converterContext>header/facets" var="converterHeaderFacets"><template:repeat list="{converterHeaderFacets>}" var="converterHeaderFacet"><template:if test="{= ${converterHeaderFacet>type} === \'Annotation\'}"><template:then><template:with path="converterHeaderFacet>annotationPath" var="headerFacet"><template:with path="headerFacet>" var="collectionHeaderFacet"><template:if test="{= ${converterHeaderFacet>facetType} === \'Reference\' }"><template:then><core:Fragment fragmentName="sap.fe.templates.ObjectPage.view.fragments.HeaderFacet" type="XML" /></template:then><template:elseif test="{= ${converterHeaderFacet>facetType} === \'Collection\' }"><fe:StashableVBox\n\t\t\t\t\t\t\t\t\t\tid="{= ID.generate([\'fe\', \'HeaderCollectionFacetContainer\', ${collectionHeaderFacet>@@UI.getDataModelObjectPath} ])}"\n\t\t\t\t\t\t\t\t\t\tdt:designtime="{= ${converterHeaderFacet>flexSettings/designtime} === \'Default\' ? \'sap/fe/templates/ObjectPage/designtime/StashableVBox.designtime\' : ${converterHeaderFacet>flexSettings/designtime}}"\n\t\t\t\t\t\t\t\t\t\tfl:flexibility="sap/fe/templates/ObjectPage/flexibility/StashableVBox.flexibility"\n\t\t\t\t\t\t\t\t\t\tstashed="{converterHeaderFacet>stashed}"\n\t\t\t\t\t\t\t\t\t\tdisplayInline="true"\n\t\t\t\t\t\t\t\t\t><template:repeat list="{converterHeaderFacet>facets}" var="converterHeaderFacet"><template:with path="converterHeaderFacet>annotationPath" var="headerFacet"><core:Fragment\n\t\t\t\t\t\t\t\t\t\t\t\t\tfragmentName="sap.fe.templates.ObjectPage.view.fragments.HeaderFacet"\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype="XML"\n\t\t\t\t\t\t\t\t\t\t\t\t/></template:with></template:repeat></fe:StashableVBox></template:elseif></template:if></template:with></template:with></template:then><template:elseif test="{= ${converterHeaderFacet>fragmentName}}"><core:Fragment fragmentName="sap.fe.templates.ObjectPage.view.fragments.HeaderFacetCustomContainer" type="XML" /></template:elseif></template:if></template:repeat></template:with></core:FragmentDefinition>\n',
	"sap/fe/templates/ObjectPage/view/fragments/HeaderFacet.fragment.xml":'<core:FragmentDefinition\n\txmlns="sap.m"\n\txmlns:core="sap.ui.core"\n\txmlns:macro="sap.fe.macros"\n\txmlns:internalMacro="sap.fe.macros.internal"\n\txmlns:dt="sap.ui.dt"\n\txmlns:fl="sap.ui.fl"\n\txmlns:fe="sap.fe.templates.ObjectPage.controls"\n\txmlns:customData="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1"\n\txmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"\n\ttemplate:require="{\n\t\tMODEL: \'sap/ui/model/odata/v4/AnnotationHelper\',\n\t\tCOMMON: \'sap/fe/macros/CommonHelper\',\n\t\tOP: \'sap/fe/templates/ObjectPage/ObjectPageTemplating\',\n\t\tID: \'sap/fe/core/helpers/StableIdHelper\',\n\t\tUI: \'sap/fe/core/templating/UIFormatters\'\n\t}"\n><fe:StashableHBox\n\t\tid="{= ID.generate([\'fe\', \'HeaderFacetContainer\', ${headerFacet>@@UI.getDataModelObjectPath} ])}"\n\t\tdt:designtime="{= ${converterHeaderFacet>flexSettings/designtime} === \'Default\' ? \'sap/fe/templates/ObjectPage/designtime/StashableHBox.designtime\' : ${converterHeaderFacet>flexSettings/designtime}}"\n\t\tfl:flexibility="sap/fe/templates/ObjectPage/flexibility/StashableHBox.flexibility"\n\t\tclass="sapUiMediumMarginEnd sapUiSmallMarginBottom"\n\t\tvisible="{converterHeaderFacet>visible}"\n\t\tfallbackTitle="{headerFacet>@@MODEL.label}"\n\t\tbinding="{= OP.getStashableHBoxBinding(${viewData>/controlConfiguration}, { Facet: ${converterHeaderFacet>} })}"\n\t\tstashed="{converterHeaderFacet>stashed}"\n\t\tcustomData:facetIdentifier="{= ${converterHeaderFacet>facetType} === \'Reference\' ? ID.generate([${headerFacet>Target/$AnnotationPath}]) : undefined }"\n\t><template:if test="{= ${converterHeaderFacet>targetAnnotationType} === \'DataPoint\'}"><template:then><template:with path="headerFacet>Target/$AnnotationPath/" var="dataPoint"><internalMacro:HeaderDataPoint\n\t\t\t\t\t\tmetaPath="{dataPoint>}"\n\t\t\t\t\t\tcontextPath="{entitySet>}"\n\t\t\t\t\t\tconverterHeaderFacet="{converterHeaderFacet>}"\n\t\t\t\t\t\theaderFacet="{headerFacet>}"\n\t\t\t\t\t/></template:with></template:then><template:elseif\n\t\t\t\ttest="{= ${converterHeaderFacet>targetAnnotationType} === \'Chart\' || ${converterHeaderFacet>targetAnnotationType} === \'PresentationVariant\'}"\n\t\t\t><template:with path="headerFacet>Target/$AnnotationPath" var="collection" helper="MODEL.resolve$Path"><template:with path="collection>" var="collection" helper="COMMON.getNavigationContext"><macro:MicroChart\n\t\t\t\t\t\t\tid="{= ID.generate([\'fe\', \'HeaderFacet\', \'MicroChart\', ${headerFacet>@@UI.getDataModelObjectPath} ]) }"\n\t\t\t\t\t\t\tbatchGroupId="{= OP.getGroupIdFromConfigForMicroChart(\n\t\t\t\t\t\t\t\t${viewData>/controlConfiguration},\n\t\t\t\t\t\t\t\t${headerFacet>Target/$AnnotationPath},\n\t\t\t\t\t\t\t\t${headerFacet>Target/$AnnotationPath@@UI.getDataModelObjectPath},\n\t\t\t\t\t\t\t\t${collection>@sapui.name},\n\t\t\t\t\t\t\t\t(((${headerFacet>Target/$AnnotationPath}.indexOf(\'/\') > 0) &amp;&amp; ${collection>$isCollection}) ? \'$auto.Decoration\' : undefined) ) }"\n\t\t\t\t\t\t\tcontextPath="{collection>}"\n\t\t\t\t\t\t\tmetaPath="{headerFacet>Target/$AnnotationPath}"\n\t\t\t\t\t\t\tnavigationType="{= OP.getMicroChartTitleAsLink(${viewData>controlConfiguration},${headerFacet>Target/$AnnotationPath},${headerFacet>Target/$AnnotationPath@@UI.getDataModelObjectPath}, ${collection>@sapui.name})}"\n\t\t\t\t\t\t\ttitlePress="{= OP.getExpressionForMicroChartTitlePress(${viewData>controlConfiguration}, ${headerFacet>Target/$AnnotationPath},${headerFacet>Target/$AnnotationPath@@UI.getDataModelObjectPath}, ${manifest>/sap.app/crossNavigation/outbounds}, ${collection>@sapui.name})}"\n\t\t\t\t\t\t/></template:with></template:with></template:elseif><template:elseif test="{= ${converterHeaderFacet>targetAnnotationType} === \'Identification\'}"><template:with path="headerFacet>Target" var="form"><Text text="Identification in header facet" /></template:with></template:elseif><template:elseif test="{= ${converterHeaderFacet>targetAnnotationType} === \'Contact\'}"><core:Fragment fragmentName="sap.fe.templates.ObjectPage.view.fragments.ObjectPageHeaderContact" type="XML" /></template:elseif><template:elseif test="{= ${converterHeaderFacet>targetAnnotationType} === \'Address\'}"><core:Fragment fragmentName="sap.fe.templates.ObjectPage.view.fragments.ObjectPageHeaderAddress" type="XML" /></template:elseif><template:elseif test="{= ${converterHeaderFacet>targetAnnotationType} === \'FieldGroup\'}"><template:with path="headerFacet>" var="headerForm"><core:Fragment fragmentName="sap.fe.templates.ObjectPage.view.fragments.ObjectPageHeaderForm" type="XML" /></template:with></template:elseif><template:else><VBox width="150px" class="sapUiSmallMargin"><Text text="Unsupported Facet Type: {converterHeaderFacet>targetAnnotationType}" visible="true" wrapping="true" /></VBox></template:else></template:if></fe:StashableHBox></core:FragmentDefinition>\n',
	"sap/fe/templates/ObjectPage/view/fragments/HeaderFacetCustomContainer.fragment.xml":'<core:FragmentDefinition\n\txmlns="sap.m"\n\txmlns:core="sap.ui.core"\n\txmlns:fpm="sap.fe.macros.fpm"\n\txmlns:fe="sap.fe.templates.ObjectPage.controls"\n\txmlns:dt="sap.ui.dt"\n\txmlns:fl="sap.ui.fl"\n\txmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"\n\ttemplate:require="{\n\t\tID: \'sap/fe/core/helpers/StableIdHelper\',\n\t\tCOMMON: \'sap/fe/macros/CommonHelper\'\n\t}"\n><fe:StashableHBox\n\t\tid="{converterHeaderFacet>containerId}"\n\t\tdt:designtime="{= ${converterHeaderFacet>flexSettings/designtime} === \'Default\' ? \'sap/fe/templates/ObjectPage/designtime/StashableHBox.designtime\' : ${converterHeaderFacet>flexSettings/designtime}}"\n\t\tfl:flexibility="sap/fe/templates/ObjectPage/flexibility/StashableHBox.flexibility"\n\t\tclass="sapUiMediumMarginEnd sapUiSmallMarginBottom"\n\t\tvisible="{converterHeaderFacet>visible}"\n\t\tfallbackTitle="{converterHeaderFacet>title}"\n\t\tbinding="{converterHeaderFacet>binding}"\n\t\tstashed="{converterHeaderFacet>stashed}"\n\t><VBox displayInline="true"><template:if test="{= !!${converterHeaderFacet>title} &amp;&amp; !!${converterHeaderFacet>subTitle} }"><template:then><Title level="H3" text="{converterHeaderFacet>title}" /><Text text="{converterHeaderFacet>subTitle}" class="sapUiSmallMarginBottom" /></template:then><template:elseif test="{= !!${converterHeaderFacet>title} }"><Title level="H3" text="{converterHeaderFacet>title}" class="sapUiSmallMarginBottom" /></template:elseif></template:if><fpm:CustomFragment\n\t\t\t\tid="{converterHeaderFacet>id}"\n\t\t\t\tfragmentName="{converterHeaderFacet>fragmentName}"\n\t\t\t\tcontextPath="{entitySet>}"\n\t\t\t/></VBox></fe:StashableHBox></core:FragmentDefinition>\n',
	"sap/fe/templates/ObjectPage/view/fragments/Heading.fragment.xml":'<core:FragmentDefinition\n\txmlns="sap.m"\n\txmlns:core="sap.ui.core"\n\txmlns:uxap="sap.uxap"\n\txmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"\n\txmlns:fragments="sap.fe.templates.ObjectPage.view.fragments"\n\txmlns:macrosHeader="sap.fe.macros.header"\n\ttemplate:require="{\n\t\tUI: \'sap/fe/core/templating/UIFormatters\',\n\t\tDATAFIELDHELPER : \'sap/fe/core/converters/helpers/DataFieldHelper\',\n\t\tOP: \'sap/fe/templates/ObjectPage/ObjectPageTemplating\',\n\t\tFE_MODEL: \'sap/fe/core/helpers/ModelHelper\'\n\t}"\n><template:with path="entityType>@com.sap.vocabularies.UI.v1.HeaderInfo" var="headerInfo"><template:with path="header>avatar" var="avatar"><uxap:expandedHeading><core:Fragment fragmentName="sap.fe.templates.ObjectPage.view.fragments.ExpandedHeading" type="XML" /></uxap:expandedHeading><uxap:snappedHeading><FlexBox renderType="Bare"><macrosHeader:HeaderAvatar\n\t\t\t\t\t\tsrc="{avatar>src}"\n\t\t\t\t\t\tinitials="{avatar>initials}"\n\t\t\t\t\t\tfallbackIcon="{avatar>fallbackIcon}"\n\t\t\t\t\t\tdisplayShape="{avatar>displayShape}"\n\t\t\t\t\t/><macrosHeader:HeaderTitleDescription><macrosHeader:layoutData><FlexItemData minWidth="0" /></macrosHeader:layoutData></macrosHeader:HeaderTitleDescription></FlexBox></uxap:snappedHeading><template:if test="{= !${header>hasContent} }"><uxap:heading><core:Fragment fragmentName="sap.fe.templates.ObjectPage.view.fragments.ExpandedHeading" type="XML" /></uxap:heading></template:if><uxap:snappedContent><template:if test="{= ${entitySet>@@FE_MODEL.isCollaborationDraftSupported} }"><template:then><MessageStrip\n\t\t\t\t\t\t\tid="fe::ObjectPageDynamicHeaderTitle::SnappedCollaborationStrip"\n\t\t\t\t\t\t\ttext="{sap.fe.i18n>C_COLLABORATIONDRAFT_USER_UNAUTHORIZED}"\n\t\t\t\t\t\t\tvisible="{= ${ui>/showCollaborationStrip} === true}"\n\t\t\t\t\t\t\tshowIcon="true"\n\t\t\t\t\t\t\tshowCloseButton="true"\n\t\t\t\t\t\t\ttype="Warning"\n\t\t\t\t\t\t\tclass="sapUiSmallMargin"\n\t\t\t\t\t\t\tclose=".handlers.closeCollaborationStrip"\n\t\t\t\t\t\t/></template:then></template:if><MessageStrip\n\t\t\t\t\tvisible="{= ${internal>OPBackendMessageVisible} || ${internal>OPCustomMessageVisible} || false }"\n\t\t\t\t\ttext="{= ${internal>OPBackendMessageText} || ${internal>OPCustomMessageText}}"\n\t\t\t\t\ttype="{= ${internal>OPBackendMessageType} || ${internal>OPCustomMessageType}}"\n\t\t\t\t\tshowIcon="true"\n\t\t\t\t\tshowCloseButton="true"\n\t\t\t\t\tclass="sapUiSmallMarginTop"\n\t\t\t\t\tclose=".handlers.closeOPMessageStrip"\n\t\t\t\t/><template:if test="{converterContext>transportSelection}"><fragments:TransportSelection /></template:if></uxap:snappedContent><uxap:expandedContent><template:if test="{= ${entitySet>@@FE_MODEL.isCollaborationDraftSupported} }"><template:then><MessageStrip\n\t\t\t\t\t\t\tid="fe::ObjectPageDynamicHeaderTitle::ExpandedCollaborationStrip"\n\t\t\t\t\t\t\ttext="{sap.fe.i18n>C_COLLABORATIONDRAFT_USER_UNAUTHORIZED}"\n\t\t\t\t\t\t\tvisible="{= ${ui>/showCollaborationStrip} === true}"\n\t\t\t\t\t\t\tshowIcon="true"\n\t\t\t\t\t\t\tshowCloseButton="true"\n\t\t\t\t\t\t\ttype="Warning"\n\t\t\t\t\t\t\tclass="sapUiSmallMargin"\n\t\t\t\t\t\t\tclose=".handlers.closeCollaborationStrip"\n\t\t\t\t\t\t/></template:then></template:if><MessageStrip\n\t\t\t\t\tvisible="{= ${internal>OPBackendMessageVisible} || ${internal>OPCustomMessageVisible} || false }"\n\t\t\t\t\ttext="{= ${internal>OPBackendMessageText} || ${internal>OPCustomMessageText}}"\n\t\t\t\t\ttype="{= ${internal>OPBackendMessageType} || ${internal>OPCustomMessageType}}"\n\t\t\t\t\tshowIcon="true"\n\t\t\t\t\tshowCloseButton="true"\n\t\t\t\t\tclass="sapUiSmallMarginTop"\n\t\t\t\t\tclose=".handlers.closeOPMessageStrip"\n\t\t\t\t/><template:if test="{converterContext>/transportSelection}"><fragments:TransportSelection leadingControl="true" /></template:if></uxap:expandedContent><uxap:snappedTitleOnMobile><template:with path="entityType>@com.sap.vocabularies.UI.v1.HeaderInfo" var="headerInfo"><template:if test="{entityType>@com.sap.vocabularies.UI.v1.HeaderInfo/Title}"><template:if test="{= !DATAFIELDHELPER.isHeaderStaticallyHidden(${headerInfo>Title@@UI.getDataModelObjectPath})}"><Title\n\t\t\t\t\t\t\t\ttext="{= OP.getExpressionForTitle(${fullContextPath>@@UI.getDataModelObjectPath}, ${viewData>}, ${headerInfo>@@UI.getConverterContext})}"\n\t\t\t\t\t\t\t\twrapping="true"\n\t\t\t\t\t\t\t\tlevel="H2"\n\t\t\t\t\t\t\t/></template:if></template:if></template:with></uxap:snappedTitleOnMobile></template:with></template:with></core:FragmentDefinition>\n',
	"sap/fe/templates/ObjectPage/view/fragments/MacroChart.fragment.xml":'<core:FragmentDefinition\n\txmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"\n\txmlns="sap.m"\n\txmlns:macro="sap.fe.macros"\n\txmlns:core="sap.ui.core"\n\ttemplate:require="{\n\t\tHELPER: \'sap/fe/macros/chart/ChartHelper\',\n\t\tOP: \'sap/fe/templates/ObjectPage/ObjectPageTemplating\'\n\t}"\n><macro:Chart\n\t\tid="{visualizationDefinition>id}"\n\t\t_applyIdToContent="true"\n\t\tmetaPath="{presentationContext>annotationPath}"\n\t\tselectionMode="Multiple"\n\t\tchartDelegate="{= \'{name: \\\'sap/fe/templates/AnalyticalListPage/chart/FEChartDelegate\\\', payload: { chartContextPath: \\\'\' + HELPER.getCollectionName(${visualizationDefinition>collection}) + \'\\\', parameters:{$$groupId:\\\'$auto.Workers\\\'}, selectionMode: \\\'Multiple\\\' } }\' }"\n\t\tselectionChange=".handlers.onChartSelectionChanged"\n\t\theaderLevel=\'{= OP.getHeaderLevel(${subSection>}, ${section>subSections}.length > 1 )}\'\n\t\theaderStyle=\'{= ${section>subSections}.length > 1 ? "H5" :  "H4"}\'\n\t\tvariantSaved=".handlers.onVariantSaved"\n\t\tvariantSelected=".handlers.onVariantSelected"\n\t/></core:FragmentDefinition>\n',
	"sap/fe/templates/ObjectPage/view/fragments/ObjectPageHeaderAddress.fragment.xml":'<core:FragmentDefinition\n\txmlns="sap.m"\n\txmlns:core="sap.ui.core"\n\txmlns:macro="sap.fe.macros"\n\txmlns:dt="sap.ui.dt"\n\txmlns:fl="sap.ui.fl"\n\txmlns:fe="sap.fe.templates.ObjectPage.controls"\n\txmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"\n\ttemplate:require="{\n\t\tMODEL: \'sap/ui/model/odata/v4/AnnotationHelper\',\n\t\tUI: \'sap/fe/core/templating/UIFormatters\',\n\t\tOP: \'sap/fe/templates/ObjectPage/ObjectPageTemplating\'\n\t}"\n><template:with path="headerFacet>Target/$AnnotationPath/" var="addressPath"><VBox\n\t\t\tid="{= ${converterHeaderFacet>headerFormData/id} }"\n\t\t\tdisplayInline="true"\n\t\t\tbinding="{= OP.createBindingForAlternateAndSecondaryKeys((MODEL.getNavigationPath(${headerFacet>Target/$AnnotationPath@@UI.getDataModelObjectPath})))}"\n\t\t><Title level="H3" text="{headerFacet>Label}" /><Text renderWhitespace="true" class="sapMLabel" text="{addressPath>label@@MODEL.format}" /></VBox></template:with></core:FragmentDefinition>\n',
	"sap/fe/templates/ObjectPage/view/fragments/ObjectPageHeaderContact.fragment.xml":'<core:FragmentDefinition\n\txmlns="sap.m"\n\txmlns:core="sap.ui.core"\n\txmlns:macro="sap.fe.macros.contact"\n\txmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"\n\ttemplate:require="{\n\t\tMODEL: \'sap/ui/model/odata/v4/AnnotationHelper\',\n\t\tCOMMON: \'sap/fe/macros/CommonHelper\',\n\t\tID: \'sap/fe/core/helpers/StableIdHelper\',\n\t\tUI: \'sap/fe/core/templating/UIFormatters\',\n\t\tOP: \'sap/fe/templates/ObjectPage/ObjectPageTemplating\'\n\t}"\n><template:with path="headerFacet>Target/$AnnotationPath" var="collection" helper="MODEL.resolve$Path"><template:with path="collection>" var="collection" helper="COMMON.getNavigationContext"><VBox\n\t\t\t\tid="{= ID.generate([\'fe\', \'HeaderFacet\', \'Contact\', ${headerFacet>@@UI.getDataModelObjectPath}]) }"\n\t\t\t\tdisplayInline="true"\n\t\t\t\tbinding="{= OP.createBindingForAlternateAndSecondaryKeys(${headerFacet>Target/$AnnotationPath@@UI.getDataModelObjectPath})}"\n\t\t\t><template:if test="{headerFacet>@@MODEL.label}"><Title level="H3" text="{headerFacet>@@MODEL.label}" class="sapUiSmallMarginBottom" /></template:if><template:with path="headerFacet>Target/$AnnotationPath" var="metaPath"><macro:Contact\n\t\t\t\t\t\tmetaPath="{metaPath>@@COMMON.getMetaPath}"\n\t\t\t\t\t\tcontextPath="{entitySet>@@COMMON.getMetaPath}"\n\t\t\t\t\t\tvisible="true"\n\t\t\t\t\t\tshowEmptyIndicator="true"\n\t\t\t\t\t/></template:with></VBox></template:with></template:with></core:FragmentDefinition>\n',
	"sap/fe/templates/ObjectPage/view/fragments/ObjectPageHeaderForm.fragment.xml":'<core:FragmentDefinition\n\txmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"\n\txmlns="sap.m"\n\txmlns:internalMacro="sap.fe.macros.internal"\n\txmlns:core="sap.ui.core"\n\txmlns:macro="sap.fe.macros"\n\txmlns:customData="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1"\n\txmlns:fpm="sap.fe.macros.fpm"\n\txmlns:l="sap.ui.layout"\n\ttemplate:require="{\n\t\tMODEL: \'sap/ui/model/odata/v4/AnnotationHelper\',\n\t\tID: \'sap/fe/core/helpers/StableIdHelper\',\n\t\tOP: \'sap/fe/templates/ObjectPage/ObjectPageTemplating\',\n\t\tFIELD: \'sap/fe/macros/field/FieldHelper\',\n\t\tUI: \'sap/fe/core/templating/UIFormatters\',\n\t\tCOMMON: \'sap/fe/macros/CommonHelper\'\n\t}"\n><VBox\n\t\tid="{= ${converterHeaderFacet>headerFormData/id} }"\n\t\tdisplayInline="true"\n\t\tbinding="{= OP.createBindingForAlternateAndSecondaryKeys(${headerFacet>Target/$AnnotationPath@@UI.getDataModelObjectPath})}"\n\t><template:if test="{converterHeaderFacet>headerFormData/label}"><Title\n\t\t\t\tlevel="H3"\n\t\t\t\ttext="{converterHeaderFacet>headerFormData/label}"\n\t\t\t\tid="{= ID.generate([ ${converterHeaderFacet>headerFormData/id}, \'Title\'])}"\n\t\t\t\tclass="sapUiSmallMarginBottom"\n\t\t\t/></template:if><template:if test="{= OP.doesFieldGroupContainOnlyOneMultiLineDataField(${converterHeaderFacet>headerFormData/formElements})}"><template:then><template:with path="converterHeaderFacet>headerFormData/formElements/0/" var="dataField"><template:if test="{dataField>visible}"><layoutData><FlexItemData maxWidth="300px" /></layoutData><template:with path="dataField>annotationPath" var="annotationDataField"><Text text="{annotationDataField>Value@@MODEL.format}" emptyIndicatorMode="On" /></template:with></template:if></template:with></template:then><template:else><template:repeat list="{converterHeaderFacet>headerFormData/formElements}" var="formElement"><template:if test="{= ${formElement>type} === \'Annotation\' }"><template:then><template:with path="formElement>annotationPath" var="dataField"><HBox\n\t\t\t\t\t\t\t\t\tclass="sapUiTinyMarginBottom"\n\t\t\t\t\t\t\t\t\tvisible="{formElement>visible}"\n\t\t\t\t\t\t\t\t\trenderType="{= OP.getHeaderFormHboxRenderType(${dataField>@@UI.getDataModelObjectPath})}"\n\t\t\t\t\t\t\t\t><Label\n\t\t\t\t\t\t\t\t\t\tid="{= ID.generate([ ${formElement>idPrefix}, \'Label\'])}"\n\t\t\t\t\t\t\t\t\t\ttext="{= OP.getExpressionForLabelOnHeaderForm(${dataField>@@FIELD.computeLabelText}, ${viewData>/})}"\n\t\t\t\t\t\t\t\t\t\tvisible="{= !!${dataField>@@FIELD.computeLabelText} }"\n\t\t\t\t\t\t\t\t\t\tclass="sapUiTinyMarginEnd"\n\t\t\t\t\t\t\t\t\t\tvAlign="{= ${formElement>isValueMultilineText} === true ? \'Middle\' : \'Inherit\' }"\n\t\t\t\t\t\t\t\t\t\twrapping="true"\n\t\t\t\t\t\t\t\t\t\tcustomData:labelIdentifier="{= ID.generate([ ${formElement>key} ]) }"\n\t\t\t\t\t\t\t\t\t\tlabelFor="{= ID.generate([ ${formElement>idPrefix}, \'Field-content\'])}"\n\t\t\t\t\t\t\t\t\t/><macro:Field\n\t\t\t\t\t\t\t\t\t\tidPrefix="{formElement>idPrefix}"\n\t\t\t\t\t\t\t\t\t\tvhIdPrefix="FieldValueHelp"\n\t\t\t\t\t\t\t\t\t\teditMode="Display"\n\t\t\t\t\t\t\t\t\t\tcontextPath="{entitySet>@@COMMON.getMetaPath}"\n\t\t\t\t\t\t\t\t\t\tmetaPath="{dataField>@@COMMON.getMetaPath}"\n\t\t\t\t\t\t\t\t\t\tariaLabelledBy="{= OP.getHeaderFormAriaLabelledBy(${converterHeaderFacet>headerFormData}, ${formElement>idPrefix})}"\n\t\t\t\t\t\t\t\t\t><formatOptions textAlignMode="Form" showEmptyIndicator="true" fieldMode="nowrapper" /></macro:Field></HBox></template:with></template:then><template:elseif test="{= ${formElement>type} === \'Default\'}"><l:HorizontalLayout class="sapUiTinyMarginBottom"><template:if test="{formElement>label}"><Label text="{formElement>label}:" class="sapUiTinyMarginEnd" /></template:if><fpm:CustomFragment\n\t\t\t\t\t\t\t\t\tid="{formElement>key}"\n\t\t\t\t\t\t\t\t\tfragmentName="{formElement>template}"\n\t\t\t\t\t\t\t\t\tcontextPath="{entitySet>}"\n\t\t\t\t\t\t\t\t/></l:HorizontalLayout></template:elseif><template:else><VBox width="150px" class="sapUiSmallMargin"><Text text="Unsupported Facet Type: {formElement>type}" visible="true" wrapping="true" /></VBox></template:else></template:if></template:repeat></template:else></template:if></VBox></core:FragmentDefinition>\n',
	"sap/fe/templates/ObjectPage/view/fragments/RelatedApps.fragment.xml":'<core:FragmentDefinition\n\txmlns="sap.m"\n\txmlns:customData="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1"\n\txmlns:core="sap.ui.core"\n><MenuButton\n\t\tid="fe::RelatedApps"\n\t\ttext="{sap.fe.i18n>T_OP_RELATED_APPS}"\n\t\tbinding="{internal>relatedApps}"\n\t\tvisible="{internal>visibility}"\n\t><menu><Menu items="{path: \'internal>items\', sorter: { path: \'text\' }}"><items><MenuItem\n\t\t\t\t\t\ttext="{internal>text}"\n\t\t\t\t\t\tcustomData:targetSemObject="{internal>targetSemObject}"\n\t\t\t\t\t\tcustomData:targetAction="{internal>targetAction}"\n\t\t\t\t\t\tpress="._intentBasedNavigation.navigate(${internal>targetSemObject}, ${internal>targetAction}, ${internal>targetParams})"\n\t\t\t\t\t/></items></Menu></menu><layoutData><OverflowToolbarLayoutData priority="Low" /></layoutData></MenuButton></core:FragmentDefinition>\n',
	"sap/fe/templates/ObjectPage/view/fragments/Section.fragment.xml":'<core:FragmentDefinition\n\txmlns:uxap="sap.uxap"\n\txmlns:core="sap.ui.core"\n\txmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"\n\txmlns:macro="sap.fe.macros"\n\txmlns:dt="sap.ui.dt"\n\txmlns="sap.m"\n\txmlns:macroControl="sap.fe.macros.controls"\n\txmlns:macroSectionContent="sap.fe.macros.controls.section"\n\txmlns:internalMacro="sap.fe.macros.internal"\n\ttemplate:require="{\n\t\tMODEL: \'sap/ui/model/odata/v4/AnnotationHelper\',\n\t\tCOMMON: \'sap/fe/macros/CommonHelper\',\n\t\tID: \'sap/fe/core/helpers/StableIdHelper\'\n\t}"\n><template:with path="converterContext>header/section" var="headerSection"><template:if test="{viewData>/editableHeaderContent}"><macroControl:Section\n\t\t\t\tdt:designtime="not-adaptable-visibility"\n\t\t\t\tid="{headerSection>id}"\n\t\t\t\ttitle="{headerSection>title}"\n\t\t\t\ttitleLevel="H3"\n\t\t\t\tvisible="{headerSection>visible}"\n\t\t\t\ttitleUppercase="false"\n\t\t\t\tonSectionLoaded="{section>onSectionLoaded}"\n\t\t\t\tapplyStateHandler="{headerSection>applyState}"\n\t\t\t\tretrieveStateHandler="{headerSection>retrieveState}"\n\t\t\t><macroControl:subSections><macroSectionContent:SubSection id="fe::EditableHeaderSubSection" title="{headerSection>title}" titleLevel="H4"><core:Fragment fragmentName="sap.fe.templates.ObjectPage.view.fragments.EditableHeaderFacet" type="XML" /></macroSectionContent:SubSection></macroControl:subSections></macroControl:Section></template:if></template:with><template:with path="converterContext>sections" var="sections"><template:repeat list="{sections>}" var="section"><macroControl:Section\n\t\t\t\tid="{section>id}"\n\t\t\t\ttitle="{section>title}"\n\t\t\t\ttitleLevel="H3"\n\t\t\t\tshowTitle="{section>showTitle}"\n\t\t\t\ttitleUppercase="false"\n\t\t\t\tvisible="{section>visible}"\n\t\t\t\tonSectionLoaded="{section>onSectionLoaded}"\n\t\t\t\tuseSingleTextAreaFieldAsNotes="{section>useSingleTextAreaFieldAsNotes}"\n\t\t\t\tapplyStateHandler="{section>applyState}"\n\t\t\t\tretrieveStateHandler="{section>retrieveState}"\n\t\t\t><macroControl:subSections><template:repeat list="{section>subSections}" var="subSection"><macroSectionContent:SubSection\n\t\t\t\t\t\t\tid="{subSection>id}"\n\t\t\t\t\t\t\ttitle="{subSection>title}"\n\t\t\t\t\t\t\ttitleLevel="H4"\n\t\t\t\t\t\t\tshowTitle="{subSection>showSubSectionTitle}"\n\t\t\t\t\t\t\tvisible="{subSection>visible}"\n\t\t\t\t\t\t\tclass="{subSection>class}"\n\t\t\t\t\t\t\tapplyStateHandler="{subSection>applyState}"\n\t\t\t\t\t\t\tretrieveStateHandler="{subSection>retrieveState}"\n\t\t\t\t\t\t><macroSectionContent:dependents><template:repeat list="{subSection>commandActions}" var="action"><internalMacro:ActionCommand\n\t\t\t\t\t\t\t\t\t\taction="{action>}"\n\t\t\t\t\t\t\t\t\t\tonExecuteAction="{action>press}"\n\t\t\t\t\t\t\t\t\t\tonExecuteIBN="{action>press}"\n\t\t\t\t\t\t\t\t\t\tonExecuteManifest="{= COMMON.buildActionWrapper(${action>})}"\n\t\t\t\t\t\t\t\t\t/></template:repeat></macroSectionContent:dependents><macroSectionContent:customData><core:CustomData key="isVisibilityDynamic" value="{subSection>isVisibilityDynamic}" /></macroSectionContent:customData><template:if test="{= ${subSection>type} === \'Mixed\'}"><template:then><template:repeat list="{subSection>content}" var="subSection"><core:Fragment\n\t\t\t\t\t\t\t\t\t\t\tfragmentName="sap.fe.templates.ObjectPage.view.fragments.SectionContent"\n\t\t\t\t\t\t\t\t\t\t\ttype="XML"\n\t\t\t\t\t\t\t\t\t\t/></template:repeat></template:then><template:else><core:Fragment fragmentName="sap.fe.templates.ObjectPage.view.fragments.SectionContent" type="XML" /></template:else></template:if></macroSectionContent:SubSection></template:repeat></macroControl:subSections></macroControl:Section></template:repeat></template:with></core:FragmentDefinition>\n',
	"sap/fe/templates/ObjectPage/view/fragments/SectionContent.fragment.xml":'<core:FragmentDefinition\n\txmlns:uxap="sap.uxap"\n\txmlns:macroSectionContent="sap.fe.macros.controls.section"\n\txmlns:core="sap.ui.core"\n\txmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"\n\txmlns:macros="sap.fe.macros"\n\txmlns:layout="sap.ui.layout"\n\txmlns:dt="sap.ui.dt"\n\txmlns="sap.m"\n\txmlns:opcontrol="sap.fe.templates.ObjectPage.controls"\n\ttemplate:require="{\n\t\tMODEL: \'sap/ui/model/odata/v4/AnnotationHelper\',\n\t\tOP: \'sap/fe/templates/ObjectPage/ObjectPageTemplating\',\n\t\tCOMMON: \'sap/fe/macros/CommonHelper\',\n\t\tID: \'sap/fe/core/helpers/StableIdHelper\'\n\t}"\n><template:if test="{subSection>visible}"><template:if test="{= ${subSection>type} === \'XMLFragment\'}"><template:then><core:Fragment fragmentName="sap.fe.templates.ObjectPage.view.fragments.FormActions" type="XML" /><macroSectionContent:blocks><uxap:ObjectPageLazyLoader\n\t\t\t\t\t\tstashed="{subSection>objectPageLazyLoaderEnabled}"\n\t\t\t\t\t\tid="{= ID.generate([\'fe\', \'lazyLoader\', ${subSection>id}])}"\n\t\t\t\t\t><opcontrol:SubSectionBlock><opcontrol:content><template:if test="{= ${subSection>sideContent} !== undefined}"><template:then><layout:DynamicSideContent\n\t\t\t\t\t\t\t\t\t\t\tid="{= ID.generate([\'fe\', ${subSection>key}, \'SideContentLayout\'])}"\n\t\t\t\t\t\t\t\t\t\t\tshowMainContent="true"\n\t\t\t\t\t\t\t\t\t\t\tshowSideContent="{subSection>sideContent/visible}"\n\t\t\t\t\t\t\t\t\t\t\tsideContentFallDown="BelowM"\n\t\t\t\t\t\t\t\t\t\t\tcontainerQuery="true"\n\t\t\t\t\t\t\t\t\t\t\tequalSplit="{subSection>sideContent/equalSplit}"\n\t\t\t\t\t\t\t\t\t\t><layout:mainContent><core:Fragment\n\t\t\t\t\t\t\t\t\t\t\t\t\tfragmentName="sap.fe.templates.ObjectPage.view.fragments.SectionCustomSection"\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype="XML"\n\t\t\t\t\t\t\t\t\t\t\t\t/></layout:mainContent><layout:sideContent><core:Fragment\n\t\t\t\t\t\t\t\t\t\t\t\t\tfragmentName="sap.fe.templates.ObjectPage.view.fragments.SideContentCustomContainer"\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype="XML"\n\t\t\t\t\t\t\t\t\t\t\t\t/></layout:sideContent></layout:DynamicSideContent></template:then><template:else><core:Fragment\n\t\t\t\t\t\t\t\t\t\t\tfragmentName="sap.fe.templates.ObjectPage.view.fragments.SectionCustomSection"\n\t\t\t\t\t\t\t\t\t\t\ttype="XML"\n\t\t\t\t\t\t\t\t\t\t/></template:else></template:if></opcontrol:content></opcontrol:SubSectionBlock></uxap:ObjectPageLazyLoader></macroSectionContent:blocks></template:then><template:elseif test="{= ${subSection>type} === \'Form\'}"><core:InvisibleText\n\t\t\t\t\tid="{= ID.generate([${subSection>id}, \'AriaText\']) }"\n\t\t\t\t\ttext="{= OP.getFormAriaText(${subSection>title})}"\n\t\t\t\t/><core:Fragment fragmentName="sap.fe.templates.ObjectPage.view.fragments.FormActions" type="XML" /><macroSectionContent:blocks><uxap:ObjectPageLazyLoader\n\t\t\t\t\t\tstashed="{subSection>objectPageLazyLoaderEnabled}"\n\t\t\t\t\t\tid="{= ID.generate([\'fe\', \'lazyLoader\', ${subSection>id}])}"\n\t\t\t\t\t><opcontrol:SubSectionBlock><opcontrol:content><template:if test="{= ${subSection>sideContent} !== undefined}"><template:then><layout:DynamicSideContent\n\t\t\t\t\t\t\t\t\t\t\tid="{= ID.generate([\'fe\', ${subSection>key}, \'SideContentLayout\'])}"\n\t\t\t\t\t\t\t\t\t\t\tshowMainContent="true"\n\t\t\t\t\t\t\t\t\t\t\tshowSideContent="{subSection>sideContent/visible}"\n\t\t\t\t\t\t\t\t\t\t\tsideContentFallDown="BelowM"\n\t\t\t\t\t\t\t\t\t\t\tcontainerQuery="true"\n\t\t\t\t\t\t\t\t\t\t\tequalSplit="{subSection>sideContent/equalSplit}"\n\t\t\t\t\t\t\t\t\t\t><layout:mainContent><core:Fragment\n\t\t\t\t\t\t\t\t\t\t\t\t\tfragmentName="sap.fe.templates.ObjectPage.view.fragments.SectionFormContent"\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype="XML"\n\t\t\t\t\t\t\t\t\t\t\t\t/></layout:mainContent><layout:sideContent><core:Fragment\n\t\t\t\t\t\t\t\t\t\t\t\t\tfragmentName="sap.fe.templates.ObjectPage.view.fragments.SideContentCustomContainer"\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype="XML"\n\t\t\t\t\t\t\t\t\t\t\t\t/></layout:sideContent></layout:DynamicSideContent></template:then><template:else><core:Fragment\n\t\t\t\t\t\t\t\t\t\t\tfragmentName="sap.fe.templates.ObjectPage.view.fragments.SectionFormContent"\n\t\t\t\t\t\t\t\t\t\t\ttype="XML"\n\t\t\t\t\t\t\t\t\t\t/></template:else></template:if></opcontrol:content></opcontrol:SubSectionBlock></uxap:ObjectPageLazyLoader></macroSectionContent:blocks><template:if test="{subSection>formDefinition/hasFacetsNotPartOfPreview}"><template:then><macroSectionContent:moreBlocks><template:if test="{= ${subSection>level} === 2}"><Title level="{= ${section>subSections}.length > 1 ? \'H5\' : \'H4\'}" text="{subSection>title}" /></template:if><opcontrol:SubSectionBlock><opcontrol:content><template:if test="{= ${subSection>sideContent} !== undefined}"><template:then><layout:DynamicSideContent\n\t\t\t\t\t\t\t\t\t\t\t\tid="{= ID.generate([\'fe\', ${subSection>key}, \'MoreSideContentLayout\'])}"\n\t\t\t\t\t\t\t\t\t\t\t\tshowMainContent="true"\n\t\t\t\t\t\t\t\t\t\t\t\tshowSideContent="{subSection>sideContent/visible}"\n\t\t\t\t\t\t\t\t\t\t\t\tsideContentFallDown="BelowM"\n\t\t\t\t\t\t\t\t\t\t\t\tcontainerQuery="true"\n\t\t\t\t\t\t\t\t\t\t\t\tequalSplit="{subSection>sideContent/equalSplit}"\n\t\t\t\t\t\t\t\t\t\t\t><layout:mainContent><core:Fragment\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfragmentName="sap.fe.templates.ObjectPage.view.fragments.SectionMoreFormContent"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype="XML"\n\t\t\t\t\t\t\t\t\t\t\t\t\t/></layout:mainContent><layout:sideContent></layout:sideContent></layout:DynamicSideContent></template:then><template:else><core:Fragment\n\t\t\t\t\t\t\t\t\t\t\t\tfragmentName="sap.fe.templates.ObjectPage.view.fragments.SectionMoreFormContent"\n\t\t\t\t\t\t\t\t\t\t\t\ttype="XML"\n\t\t\t\t\t\t\t\t\t\t\t/></template:else></template:if></opcontrol:content></opcontrol:SubSectionBlock></macroSectionContent:moreBlocks></template:then></template:if></template:elseif><template:elseif test="{= ${subSection>type} === \'DataVisualization\'}"><template:if test="{= OP.isVisualizationIsPartOfPreview(${subSection>}) }"><template:then><macroSectionContent:blocks><uxap:ObjectPageLazyLoader\n\t\t\t\t\t\t\t\tstashed="{subSection>objectPageLazyLoaderEnabled}"\n\t\t\t\t\t\t\t\tid="{= ID.generate([\'fe\', \'lazyLoader\', ${subSection>id}])}"\n\t\t\t\t\t\t\t><template:if test="{= ${subSection>level} === 2}"><Title\n\t\t\t\t\t\t\t\t\t\tlevel="{= ${section>subSections}.length > 1 ? \'H5\' : \'H4\'}"\n\t\t\t\t\t\t\t\t\t\ttext="{subSection>title}"\n\t\t\t\t\t\t\t\t\t\tvisible="{subSection>dataVisualizationTitleVisible}"\n\t\t\t\t\t\t\t\t\t/></template:if><opcontrol:SubSectionBlock visible="{subSection>visible}"><opcontrol:content><template:if test="{= ${subSection>sideContent} !== undefined}"><template:then><layout:DynamicSideContent\n\t\t\t\t\t\t\t\t\t\t\t\t\tid="{= ID.generate([\'fe\', ${subSection>key}, \'SideContentLayout\'])}"\n\t\t\t\t\t\t\t\t\t\t\t\t\tshowMainContent="true"\n\t\t\t\t\t\t\t\t\t\t\t\t\tshowSideContent="{subSection>sideContent/visible}"\n\t\t\t\t\t\t\t\t\t\t\t\t\tsideContentFallDown="BelowM"\n\t\t\t\t\t\t\t\t\t\t\t\t\tcontainerQuery="true"\n\t\t\t\t\t\t\t\t\t\t\t\t\tequalSplit="{subSection>sideContent/equalSplit}"\n\t\t\t\t\t\t\t\t\t\t\t\t><layout:mainContent><core:Fragment\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfragmentName="sap.fe.templates.ObjectPage.view.fragments.SectionPresentationVisualization"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype="XML"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/></layout:mainContent><layout:sideContent><core:Fragment\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfragmentName="sap.fe.templates.ObjectPage.view.fragments.SideContentCustomContainer"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype="XML"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/></layout:sideContent></layout:DynamicSideContent></template:then><template:else><core:Fragment\n\t\t\t\t\t\t\t\t\t\t\t\t\tfragmentName="sap.fe.templates.ObjectPage.view.fragments.SectionPresentationVisualization"\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype="XML"\n\t\t\t\t\t\t\t\t\t\t\t\t/></template:else></template:if></opcontrol:content></opcontrol:SubSectionBlock></uxap:ObjectPageLazyLoader></macroSectionContent:blocks></template:then><template:else><macroSectionContent:moreBlocks><template:if test="${subSection>level} === 2}"><Title\n\t\t\t\t\t\t\t\t\tlevel="{= ${section>subSections}.length > 1 ? \'H5\' : \'H4\'}"\n\t\t\t\t\t\t\t\t\ttext="{subSection>title}"\n\t\t\t\t\t\t\t\t\tvisible="{subSection>dataVisualizationTitleVisible}"\n\t\t\t\t\t\t\t\t/></template:if><opcontrol:SubSectionBlock><opcontrol:content><template:if test="{= ${subSection>sideContent} !== undefined}"><template:then><layout:DynamicSideContent\n\t\t\t\t\t\t\t\t\t\t\t\tid="{= ID.generate([\'fe\', ${subSection>key}, \'MoreSideContentLayout\'])}"\n\t\t\t\t\t\t\t\t\t\t\t\tshowMainContent="true"\n\t\t\t\t\t\t\t\t\t\t\t\tshowSideContent="{subSection>sideContent/visible}"\n\t\t\t\t\t\t\t\t\t\t\t\tsideContentFallDown="BelowM"\n\t\t\t\t\t\t\t\t\t\t\t\tcontainerQuery="true"\n\t\t\t\t\t\t\t\t\t\t\t\tequalSplit="{subSection>sideContent/equalSplit}"\n\t\t\t\t\t\t\t\t\t\t\t><layout:mainContent><core:Fragment\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfragmentName="sap.fe.templates.ObjectPage.view.fragments.SectionPresentationVisualization"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype="XML"\n\t\t\t\t\t\t\t\t\t\t\t\t\t/></layout:mainContent><layout:sideContent></layout:sideContent></layout:DynamicSideContent></template:then><template:else><core:Fragment\n\t\t\t\t\t\t\t\t\t\t\t\tfragmentName="sap.fe.templates.ObjectPage.view.fragments.SectionPresentationVisualization"\n\t\t\t\t\t\t\t\t\t\t\t\ttype="XML"\n\t\t\t\t\t\t\t\t\t\t\t/></template:else></template:if></opcontrol:content></opcontrol:SubSectionBlock></macroSectionContent:moreBlocks></template:else></template:if></template:elseif><template:elseif test="{= ${subSection>type} === \'EmbeddedComponent\'}"><macroSectionContent:blocks><uxap:ObjectPageLazyLoader\n\t\t\t\t\t\tstashed="{subSection>objectPageLazyLoaderEnabled}"\n\t\t\t\t\t\tid="{= ID.generate([\'fe\', \'lazyLoader\', ${subSection>id}])}"\n\t\t\t\t\t><opcontrol:SubSectionBlock><opcontrol:content><ComponentLoader\n\t\t\t\t\t\t\t\t\txmlns="sap.fe.core.controls"\n\t\t\t\t\t\t\t\t\tid="{= ID.generate([${subSection>id}, \'component\'])}"\n\t\t\t\t\t\t\t\t\tprefix="{subSection>key}"\n\t\t\t\t\t\t\t\t\tname="{subSection>componentName}"\n\t\t\t\t\t\t\t\t\tsettings="{subSection>settings}"\n\t\t\t\t\t\t\t\t/></opcontrol:content></opcontrol:SubSectionBlock></uxap:ObjectPageLazyLoader></macroSectionContent:blocks></template:elseif><template:elseif test="{= ${subSection>type} === \'Notes\'}"><macroSectionContent:blocks><uxap:ObjectPageLazyLoader\n\t\t\t\t\t\tstashed="{subSection>objectPageLazyLoaderEnabled}"\n\t\t\t\t\t\tid="{= ID.generate([\'fe\', \'lazyLoader\', ${subSection>id}])}"\n\t\t\t\t\t><opcontrol:SubSectionBlock><opcontrol:content><macros:Notes id="{subSection>id}" contextPath="{entitySet>}" /></opcontrol:content></opcontrol:SubSectionBlock></uxap:ObjectPageLazyLoader></macroSectionContent:blocks></template:elseif><template:elseif test="{= ${subSection>type} === \'Unknown\'}"><Text text="{subSection>text}" /></template:elseif><template:else /></template:if></template:if></core:FragmentDefinition>\n',
	"sap/fe/templates/ObjectPage/view/fragments/SectionCustomSection.fragment.xml":'<core:FragmentDefinition\n\txmlns:core="sap.ui.core"\n\txmlns="sap.m"\n\txmlns:fpm="sap.fe.macros.fpm"\n\txmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"\n\ttemplate:require="{\n\t\tID: \'sap/fe/core/helpers/StableIdHelper\'\n\t}"\n><fpm:CustomFragment id="{subSection>id}" contextPath="{entitySet>}" fragmentName="{subSection>template}" /></core:FragmentDefinition>\n',
	"sap/fe/templates/ObjectPage/view/fragments/SectionFormContent.fragment.xml":'<core:FragmentDefinition\n\txmlns:core="sap.ui.core"\n\txmlns:macro="sap.fe.macros.internal"\n\txmlns="sap.m"\n\txmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"\n\ttemplate:require="{\n\t\tID: \'sap/fe/core/helpers/StableIdHelper\'\n\t}"\n><macro:Form\n\t\tid="{= ID.generate([${subSection>formDefinition/id}, \'Content\']) }"\n\t\tmetaPath="{subSection>annotationPath}"\n\t\tcontextPath="{entitySet>}"\n\t\tuseFormContainerLabels="{= ${subSection>formDefinition/useFormContainerLabels}}"\n\t\tpartOfPreview="true"\n\t\tformContainers="{subSection>formDefinition/formContainers}"\n\t\tisVisible="{subSection>formDefinition/isVisible}"\n\t\ttitleLevel="{= ${section>subSections}.length > 1 ? \'H5\' : \'H4\'}"\n\t\tariaLabelledBy="{= ID.generate([${subSection>id}, \'AriaText\']) }"\n\t/></core:FragmentDefinition>\n',
	"sap/fe/templates/ObjectPage/view/fragments/SectionMoreFormContent.fragment.xml":'<core:FragmentDefinition\n\txmlns:core="sap.ui.core"\n\txmlns="sap.m"\n\txmlns:macro="sap.fe.macros.internal"\n\txmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"\n\ttemplate:require="{\n\t\tID: \'sap/fe/core/helpers/StableIdHelper\'\n\t}"\n><macro:Form\n\t\tid="{= ID.generate([${subSection>formDefinition/id}, \'MoreContent\']) }"\n\t\tmetaPath="{subSection>annotationPath}"\n\t\tcontextPath="{entitySet>}"\n\t\tuseFormContainerLabels="{= ${subSection>formDefinition/useFormContainerLabels}}"\n\t\tpartOfPreview="false"\n\t\tformContainers="{subSection>formDefinition/formContainers}"\n\t\tisVisible="{subSection>formDefinition/isVisible}"\n\t\ttitleLevel="{= ${section>subSections}.length > 1 ? (${subSection>level} === 2 ? \'H6\': \'H5\') : (${subSection>level} === 2 ? \'H5\': \'H4\')}"\n\t\tariaLabelledBy="{= ID.generate([${subSection>id}, \'AriaText\']) }"\n\t/></core:FragmentDefinition>\n',
	"sap/fe/templates/ObjectPage/view/fragments/SectionPresentationVisualization.fragment.xml":'<core:FragmentDefinition\n\txmlns:core="sap.ui.core"\n\txmlns="sap.m"\n\txmlns:macro="sap.fe.macros"\n\txmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"\n\ttemplate:require="{\n\t\tID: \'sap/fe/core/helpers/StableIdHelper\'\n\t}"\n><template:with path="subSection>presentation" var="presentationContext"><template:with path="subSection>presentation" var="primaryVisualization"><template:repeat list="{presentationContext>visualizations}" var="visualizationDefinition"><core:Fragment fragmentName="sap.fe.templates.ObjectPage.view.fragments.{visualizationDefinition>type}" type="XML" /></template:repeat></template:with></template:with></core:FragmentDefinition>\n',
	"sap/fe/templates/ObjectPage/view/fragments/SideContentCustomContainer.fragment.xml":'<core:FragmentDefinition\n\txmlns="sap.m"\n\txmlns:core="sap.ui.core"\n\txmlns:fpm="sap.fe.macros.fpm"\n\txmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"\n\ttemplate:require="{\n\t\tID: \'sap/fe/core/helpers/StableIdHelper\',\n\t\tCOMMON: \'sap/fe/macros/CommonHelper\'\n\t}"\n><template:with path="subSection>sideContent" var="sideContent"><template:if test="{= ${subSection>sideContent} !== undefined }"><HBox class="sapUiSmallMarginBegin"><fpm:CustomFragment id="{sideContent>id}" fragmentName="{sideContent>template}" /></HBox></template:if></template:with></core:FragmentDefinition>\n',
	"sap/fe/templates/ObjectPage/view/fragments/Table.fragment.xml":'<core:FragmentDefinition\n\txmlns="sap.m"\n\txmlns:macro="sap.fe.macros.internal"\n\txmlns:macrosTable="sap.fe.macros.table"\n\txmlns:core="sap.ui.core"\n\txmlns:macrosFPM="sap.fe.macros.fpm"\n\txmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"\n\ttemplate:require="{\n\t\tOP: \'sap/fe/templates/ObjectPage/ObjectPageTemplating\',\n\t\tTABLEHELPER: \'sap/fe/macros/table/TableHelper\'\n\t}"\n><macro:Table\n\t\tid="{visualizationDefinition>annotation/apiId}"\n\t\tcontentId="{visualizationDefinition>annotation/id}"\n\t\tmetaPath="{presentationContext>annotationPath}"\n\t\tinMultiView="false"\n\t\tcontextPath="{fullContextPath>}"\n\t\tfilterBar="{= ${converterContext>filterBarId} ? ${converterContext>filterBarId} : undefined}"\n\t\tbusy=\'{= "{ui>/busyLocal/"+${visualizationDefinition>annotation/id}+"}" }\'\n\t\tlistBindingChange=".handlers.onTableContextChange"\n\t\tvariantSelected=".handlers.onVariantSelected"\n\t\tvariantSaved=".handlers.onVariantSaved"\n\t\tisAlp="{converterContext>hasMultiVisualizations}"\n\t\ttabTitle="{view>title}"\n\t\theaderLevel=\'{= OP.getHeaderLevel(${subSection>}, ${section>subSections}.length > 1 )}\'\n\t\theaderStyle=\'{= ${section>subSections}.length > 1 ? "H5" :  "H4"}\'\n\t\theader="{visualizationDefinition>header}"\n\t\theaderVisible="{visualizationDefinition>headerVisible}"\n\t\trowCountMode="{= ${subSection>dataVisualizationOptions} ? ${subSection>dataVisualizationOptions}.rowCountMode : undefined}"\n\t\tuseCondensedLayout="{= ${subSection>dataVisualizationOptions} ? ${subSection>dataVisualizationOptions}.useCondensedTableLayout : undefined}"\n\t\tvariantManagement="{visualizationDefinition>annotation/variantManagement}"\n\t\treadOnly="{visualizationDefinition>control/readOnly}"\n\t\tignoredFields="{visualizationDefinition>control/ignoredFields}"\n\t><macro:columns><template:repeat list="{visualizationDefinition>columns}" var="column"><template:if test="{= ${column>type} === \'Default\' }"><macrosTable:Column key="{column>key}"><macrosFPM:CustomFragment\n\t\t\t\t\t\t\tid="{column>key}"\n\t\t\t\t\t\t\tfragmentName="{column>template}"\n\t\t\t\t\t\t\tcontextPath="{visualizationDefinition>annotation/collection}"\n\t\t\t\t\t\t><macrosFPM:childCustomData><core:CustomData\n\t\t\t\t\t\t\t\t\tkey="AssociatedProperties"\n\t\t\t\t\t\t\t\t\tvalue="{= TABLEHELPER.createBindingToLoadProperties(${column>properties})}"\n\t\t\t\t\t\t\t\t/></macrosFPM:childCustomData></macrosFPM:CustomFragment></macrosTable:Column></template:if></template:repeat></macro:columns></macro:Table></core:FragmentDefinition>\n'
});
//# sourceMappingURL=library-preload.js.map
