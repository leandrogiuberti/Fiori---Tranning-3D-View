{"version":3,"names":["ShellHistoryProvider","_dec","defineUI5Class","_dec2","defineState","_dec3","defineReference","_dec4","_class","_class2","_ShellHistoryProvider","_ManagedObject","personalizationService","globalPersonalizer","appPersonalizer","data","appData","_this","call","_initializerDefineProperty","_descriptor","instances","add","state","isHistoryEnabled","apps","recentQueries","favoriteQueries","_exports","_inheritsLoose","getShellDialogContent","selectedValue","$form","_jsxs","VBox","children","_jsx","Title","text","resourceBundle","getText","CheckBox","ref","$historyEnabled","selected","saveShellDialog","currentSelectedState","current","getSelected","forEach","instance","_proto","prototype","onStateChange","setPersData","valueOf","getRecentQueries","concat","getFavoriteQueries","setRecentQueries","setFavoriteQueries","getInstance","appId","shellContainer","sap","ui","require","resolveCreation","Promise","resolve","extensionService","getServiceAsync","frameBoundExtension","shellHistoryProvider","registerUserAction","e","Log","error","Error","message","String","shellExtensionService","Lib","getResourceBundleFor","scope","clientStorageAllowed","keyCategory","constants","FIXED_KEY","validity","Infinity","writeFrequency","LOW","getPersonalizer","container","item","globalData","getPersData","uid","shellHistoryDialog","isDialogAdded","addGroupedUserSettingsEntry","title","icon","entryHelpId","groupingId","groupingTabTitle","groupingTabHelpId","value","content","onSave","onCancel","err","ManagedObject","Set","_applyDecoratedDescriptor","configurable","enumerable","writable","initializer","_init","Object","getOwnPropertyDescriptor","undefined","_init2"],"sourceRoot":".","sources":["ShellHistoryProvider.tsx"],"sourcesContent":["import Log from \"sap/base/Log\";\nimport uid from \"sap/base/util/uid\";\nimport { defineReference, defineState, defineUI5Class } from \"sap/fe/base/ClassSupport\";\nimport type { Ref } from \"sap/fe/base/jsx-runtime/jsx\";\nimport CheckBox from \"sap/m/CheckBox\";\nimport Title from \"sap/m/Title\";\nimport VBox from \"sap/m/VBox\";\nimport ManagedObject from \"sap/ui/base/ManagedObject\";\nimport Lib from \"sap/ui/core/Lib\";\nimport type Container from \"sap/ushell/Container\";\nimport type Extension from \"sap/ushell/services/Extension\";\nimport type PersonalizationV2 from \"sap/ushell/services/PersonalizationV2\";\n\nexport type PersonalizationWithConstants = PersonalizationV2 & {\n\tconstants: {\n\t\tkeyCategory: {\n\t\t\tFIXED_KEY: string;\n\t\t\tGENERATED_KEY: string;\n\t\t};\n\t\twriteFrequency: {\n\t\t\tHIGH: string;\n\t\t\tLOW: string;\n\t\t};\n\t};\n};\n\ntype FrameBoundExtension = {\n\taddGroupedUserSettingsEntry: (settings: unknown) => Promise<void>;\n};\ntype PersonalizerType = {\n\tgetPersData: () => Promise<object>;\n\tsetPersData: (persData: object) => Promise<void>;\n};\n\ntype ShellHistorySettings = {\n\tisHistoryEnabled: boolean;\n\tapps: Record<string, string>;\n};\n\ntype ShellAppHistorySettings = {\n\trecentQueries: string[];\n\tfavoriteQueries: string[];\n};\n\n@defineUI5Class(\"sap.fe.controls.easyFilter.ShellHistoryProvider\")\nexport default class ShellHistoryProvider extends ManagedObject {\n\t@defineState()\n\tprivate state = {\n\t\tisHistoryEnabled: true,\n\t\tapps: {} as Record<string, string>,\n\t\trecentQueries: [] as readonly string[],\n\t\tfavoriteQueries: [] as readonly string[]\n\t};\n\n\tprivate static instances: Set<ShellHistoryProvider> = new Set();\n\n\tconstructor(\n\t\tprivate readonly personalizationService: PersonalizationWithConstants,\n\t\tprivate readonly globalPersonalizer: PersonalizerType,\n\t\tprivate readonly appPersonalizer: PersonalizerType,\n\t\tprivate readonly data: ShellHistorySettings,\n\t\tprivate readonly appData: ShellAppHistorySettings\n\t) {\n\t\tsuper();\n\t\tShellHistoryProvider.instances.add(this);\n\t\tthis.state.isHistoryEnabled = data.isHistoryEnabled;\n\t\tthis.state.apps = data.apps;\n\t\tthis.state.recentQueries = appData.recentQueries;\n\t\tthis.state.favoriteQueries = appData.favoriteQueries;\n\t}\n\n\tprivate static resourceBundle = Lib.getResourceBundleFor(\"sap.fe.controls\")!;\n\n\tprivate static $form: VBox;\n\n\t@defineReference()\n\tprivate static $defaultOption: Ref<CheckBox>;\n\n\t@defineReference()\n\tprivate static $historyEnabled: Ref<CheckBox>;\n\n\tstatic getShellDialogContent(selectedValue: boolean): VBox {\n\t\tthis.$form = (\n\t\t\t<VBox>\n\t\t\t\t<Title text={this.resourceBundle.getText(\"M_BUSINESS_AI_SHELL_SETTINGS_EASY_FILTER\")}></Title>\n\t\t\t\t<CheckBox\n\t\t\t\t\tref={this.$historyEnabled}\n\t\t\t\t\tselected={selectedValue}\n\t\t\t\t\ttext={this.resourceBundle.getText(\"M_BUSINESS_AI_SHELL_SETTINGS_EASY_FILTER_KEEP_QUERIES\")}\n\t\t\t\t/>\n\t\t\t</VBox>\n\t\t) as VBox;\n\t\treturn this.$form;\n\t}\n\n\tstatic saveShellDialog(): void {\n\t\tconst currentSelectedState = ShellHistoryProvider.$historyEnabled.current!.getSelected();\n\t\t//updating the value in all the objects\n\t\tthis.instances.forEach((instance) => {\n\t\t\tinstance.state.isHistoryEnabled = currentSelectedState;\n\t\t});\n\t}\n\n\tasync onStateChange(): Promise<void> {\n\t\t// We confirm the value of the switch\n\t\tawait this.globalPersonalizer.setPersData({\n\t\t\tisHistoryEnabled: this.state.isHistoryEnabled,\n\t\t\tapps: this.state.apps\n\t\t});\n\t\tawait this.appPersonalizer.setPersData({ recentQueries: this.state.recentQueries, favoriteQueries: this.state.favoriteQueries });\n\t}\n\n\tisHistoryEnabled(): boolean {\n\t\treturn this.state.isHistoryEnabled.valueOf();\n\t}\n\n\tgetRecentQueries(): string[] {\n\t\treturn this.state.recentQueries.concat();\n\t}\n\n\tgetFavoriteQueries(): string[] {\n\t\treturn this.state.favoriteQueries.concat();\n\t}\n\n\tsetRecentQueries(recentQueries: readonly string[]): void {\n\t\tthis.state.recentQueries = recentQueries;\n\t}\n\n\tsetFavoriteQueries(favoriteQueries: readonly string[]): void {\n\t\tthis.state.favoriteQueries = favoriteQueries;\n\t}\n\n\tstatic instance: Promise<ShellHistoryProvider | undefined>;\n\n\tstatic isDialogAdded = false;\n\n\tstatic async getInstance(appId: string): Promise<ShellHistoryProvider | undefined> {\n\t\t// Register the extension\n\t\tconst shellContainer = sap.ui.require(\"sap/ushell/Container\") as Container | undefined;\n\t\ttry {\n\t\t\tif (shellContainer) {\n\t\t\t\tlet resolveCreation!: Function;\n\t\t\t\tthis.instance = new Promise<ShellHistoryProvider | undefined>((resolve) => {\n\t\t\t\t\tresolveCreation = resolve;\n\t\t\t\t});\n\t\t\t\tconst extensionService = (await shellContainer.getServiceAsync(\"Extension\")) as Extension | undefined;\n\t\t\t\tconst frameBoundExtension = (await shellContainer.getServiceAsync(\"FrameBoundExtension\")) as\n\t\t\t\t\t| FrameBoundExtension\n\t\t\t\t\t| undefined;\n\t\t\t\tconst personalizationService = (await shellContainer.getServiceAsync(\"PersonalizationV2\")) as\n\t\t\t\t\t| PersonalizationWithConstants\n\t\t\t\t\t| undefined;\n\t\t\t\tif (extensionService && personalizationService && frameBoundExtension) {\n\t\t\t\t\tconst shellHistoryProvider = await ShellHistoryProvider.registerUserAction(\n\t\t\t\t\t\textensionService,\n\t\t\t\t\t\tpersonalizationService,\n\t\t\t\t\t\tframeBoundExtension,\n\t\t\t\t\t\tappId\n\t\t\t\t\t);\n\t\t\t\t\tresolveCreation(shellHistoryProvider);\n\t\t\t\t}\n\t\t\t}\n\t\t} catch (e) {\n\t\t\tLog.error(\"Cannot register extension\", e instanceof Error ? e.message : String(e));\n\t\t}\n\t\treturn this.instance;\n\t}\n\n\tstatic async registerUserAction(\n\t\tshellExtensionService: Extension,\n\t\tpersonalizationService: PersonalizationWithConstants,\n\t\tframeBoundExtension: FrameBoundExtension,\n\t\tappId: string\n\t): Promise<ShellHistoryProvider | undefined> {\n\t\ttry {\n\t\t\tconst resourceBundle = Lib.getResourceBundleFor(\"sap.fe.controls\")!;\n\t\t\tconst scope = {\n\t\t\t\tclientStorageAllowed: false,\n\t\t\t\tkeyCategory: personalizationService.constants.keyCategory.FIXED_KEY,\n\t\t\t\tvalidity: Infinity,\n\t\t\t\twriteFrequency: personalizationService.constants.writeFrequency.LOW\n\t\t\t};\n\t\t\tconst globalPersonalizer = (await personalizationService.getPersonalizer(\n\t\t\t\t{\n\t\t\t\t\tcontainer: \"sap.fe.easyFilter\",\n\t\t\t\t\titem: \"settings\"\n\t\t\t\t},\n\t\t\t\tscope\n\t\t\t)) as PersonalizerType;\n\t\t\tlet globalData = (await globalPersonalizer.getPersData()) as ShellHistorySettings | undefined;\n\t\t\tif (!globalData) {\n\t\t\t\t// In case defaut value don't exist we create it\n\t\t\t\tglobalData = {\n\t\t\t\t\tisHistoryEnabled: true,\n\t\t\t\t\tapps: {\n\t\t\t\t\t\t[appId]: uid()\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t\tglobalPersonalizer.setPersData(globalData);\n\t\t\t} else if (!globalData.apps?.[appId]) {\n\t\t\t\tglobalData.apps ??= {};\n\t\t\t\tglobalData.apps[appId] = uid();\n\t\t\t\tawait globalPersonalizer.setPersData(globalData);\n\t\t\t}\n\t\t\tconst appPersonalizer = (await personalizationService.getPersonalizer(\n\t\t\t\t{\n\t\t\t\t\tcontainer: \"sap.fe.easyFilter\" + globalData.apps[appId],\n\t\t\t\t\titem: \"recentQueries\"\n\t\t\t\t},\n\t\t\t\tscope\n\t\t\t)) as PersonalizerType;\n\t\t\tlet appData = (await appPersonalizer.getPersData()) as ShellAppHistorySettings | undefined;\n\t\t\tif (!appData) {\n\t\t\t\tappData = {\n\t\t\t\t\trecentQueries: [],\n\t\t\t\t\tfavoriteQueries: []\n\t\t\t\t};\n\t\t\t\tawait appPersonalizer.setPersData(appData);\n\t\t\t}\n\t\t\tconst shellHistoryDialog = new ShellHistoryProvider(\n\t\t\t\tpersonalizationService,\n\t\t\t\tglobalPersonalizer,\n\t\t\t\tappPersonalizer,\n\t\t\t\tglobalData,\n\t\t\t\tappData\n\t\t\t);\n\t\t\tif (!this.isDialogAdded) {\n\t\t\t\tthis.isDialogAdded = true;\n\t\t\t\tawait frameBoundExtension.addGroupedUserSettingsEntry({\n\t\t\t\t\ttitle: resourceBundle.getText(\"M_BUSINESS_AI_SHELL_SETTINGS_TITLE\"),\n\t\t\t\t\ticon: \"sap-icon://laptop\",\n\t\t\t\t\tentryHelpId: \"userActivitiesEntry\",\n\t\t\t\t\tgroupingId: \"userActivities\",\n\t\t\t\t\tgroupingTabTitle: resourceBundle.getText(\"M_BUSINESS_AI_SHELL_SETTINGS_TITLE\"),\n\t\t\t\t\tgroupingTabHelpId: \"sapBusinessAI-helpId\",\n\t\t\t\t\tvalue: async () => {\n\t\t\t\t\t\treturn Promise.resolve();\n\t\t\t\t\t},\n\t\t\t\t\tcontent: async () => {\n\t\t\t\t\t\treturn Promise.resolve(this.getShellDialogContent(globalData?.isHistoryEnabled as boolean));\n\t\t\t\t\t},\n\t\t\t\t\tonSave: () => {\n\t\t\t\t\t\tthis.saveShellDialog();\n\t\t\t\t\t},\n\t\t\t\t\tonCancel: () => {\n\t\t\t\t\t\t//return (this.viewInstance.getController() as RequestSettingsController).onCancel();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t\treturn shellHistoryDialog;\n\t\t} catch (err) {\n\t\t\tLog.error(\"Cannot add user action\", err instanceof Error ? err.message : String(err));\n\t\t}\n\t}\n}\n"],"mappings":"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","ignoreList":[],"file":"ShellHistoryProvider-dbg.js"}