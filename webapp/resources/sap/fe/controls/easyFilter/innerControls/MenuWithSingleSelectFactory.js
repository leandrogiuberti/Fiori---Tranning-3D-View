/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.define(["sap/fe/controls/easyFilter/innerControls/BaseFactory","sap/fe/controls/easyFilter/utils","sap/m/List","sap/m/StandardListItem","sap/m/library","sap/ui/core/CustomData","sap/ui/model/FilterOperator"],function(e,t,s,o,n,r,a){"use strict";var i=e.BaseFactory;function l(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,c(e,t)}function c(e,t){return c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},c(e,t)}let u=function(e){function i(t,o){var r;const a=n.ListSeparators;const i=n.ListMode;r=e.call(this,t,o)||this;r.selectedItemIndex=-1;r.setControl(new s({mode:i.SingleSelectMaster,showSeparators:a.None,selectionChange:r.onItemSelected.bind(r)}));return r}l(i,e);var c=i.prototype;c.setItems=async function e(s,n){if(await t.areCodeListsSame(s,this.getItems())){return}const a=this.getControl();this.items=await t.getCodeListArray(s);a?.destroyAggregation("items");this.selectedItemIndex=-1;this.items.forEach((e,t)=>{let s=false;if(n.length>0&&n[0].selectedValues.length>0){const o=n[0].selectedValues[0];if(typeof o===typeof e.value&&o===e.value){s=true;this.selectedItemIndex=t}}a?.addItem(new o({title:e.description,selected:s,customData:[new r({key:"value",value:e.value})]}))})};c.onItemSelected=function e(t){const s=t.getParameter("listItem");const o=this.getControl();const n=this.getEasyFilter();if(!s||!o){return}const r=s.getCustomData().find(e=>e.getKey()==="value")?.getValue();if(r!==undefined){const e=[{operator:a.EQ,selectedValues:[r]}];n?.closeInnerControlPopover();const{key:t}=this.getToken()?.getCustomDataValue("TokenInfo");n.updateTokenArray("setSelectedValues",e,t);this.selectedItemIndex=o.indexOfItem(s)}};c.getSelectedIndex=function e(){const t=this.getControl()?.getSelectedItems()?.[0];return t?this.getControl()?.indexOfItem(t)??-1:-1};return i}(i);return u},false);
//# sourceMappingURL=MenuWithSingleSelectFactory.js.map