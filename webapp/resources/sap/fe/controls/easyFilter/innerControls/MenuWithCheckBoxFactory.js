/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.define(["sap/fe/controls/easyFilter/innerControls/BaseFactory","sap/fe/controls/easyFilter/utils","sap/m/List","sap/m/StandardListItem","sap/m/library","sap/ui/core/CustomData","sap/ui/model/FilterOperator"],function(e,t,s,o,i,n,l){"use strict";var r=e.BaseFactory;function a(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,c(e,t)}function c(e,t){return c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},c(e,t)}let u=function(e){function r(t,o){var n;const l=i.ListSeparators;const r=i.ListMode;n=e.call(this,t,o)||this;n.selectionList=[];n.okButtonClicked=false;n.setControl(new s({mode:r.MultiSelect,showSeparators:l.None}));return n}a(r,e);var c=r.prototype;c.setItems=async function e(s,i){if(await t.areCodeListsSame(s,this.getItems())){return}const l=this.getControl();this.items=await t.getCodeListArray(s);l?.destroyAggregation("items");this.selectionList=[];this.items.forEach((e,t)=>{let s=false;if(i.length>0&&i[0].selectedValues.length>0){const o=i[0].selectedValues[0];if(typeof o==="string"&&typeof e.value==="string"){if(i[0].selectedValues.includes(e.value)){s=true;this.selectionList?.push(t)}}else if(typeof o==="boolean"&&typeof e.value==="boolean"){if(i[0].selectedValues.includes(e.value)){s=true;this.selectionList?.push(t)}}else if(typeof o==="number"&&typeof e.value==="number"){if(i[0].selectedValues.includes(e.value)){s=true;this.selectionList?.push(t)}}}l?.addItem(new o({title:e.description,selected:s,customData:[new n({key:"value",value:e.value})]}))})};c.invokeOkButtonHandler=function e(){if(this.areSelectListSame()){return}this.selectionList=this.getSelectedIndices();this.okButtonClicked=true;const t=this.getControl()?.getSelectedItems();const s=this.getEasyFilter();let o=[{operator:l.EQ,selectedValues:[]}];const{key:i}=this.getToken()?.getCustomDataValue("TokenInfo");t.forEach(e=>{const t=e.getCustomData().find(e=>e.getKey()==="value")?.getValue();if(t!==undefined){if(Array.isArray(o[0].selectedValues)){const e=o[0].selectedValues;if(typeof t==="string"&&e.every(e=>typeof e==="string")||typeof t==="boolean"&&e.every(e=>typeof e==="boolean")||typeof t==="number"&&e.every(e=>typeof e==="number")){e.push(t)}}}});o=o[0].selectedValues.length===0?[]:o;s.updateTokenArray("setSelectedValues",o,i)};c.areSelectListSame=function e(){const t=this.getSelectedIndices();if(this.selectionList.length===0||t.length!==this.selectionList.length){return false}return this.selectionList.every((e,s)=>t[s]===e)};c.invokePopupCloseHandler=function e(){if(this.okButtonClicked){this.okButtonClicked=false;return}this.okButtonClicked=false;this.getControl()?.removeSelections();this.selectionList?.forEach(e=>this.getControl()?.getItems()[e].setSelected(true))};c.setSelectList=function e(){this.selectionList=[];const t=this.getControl()?.getSelectedItems();t?.forEach(e=>this.selectionList?.push(this.getControl()?.indexOfItem(e)))};c.getSelectedIndices=function e(){const t=[];const s=this.getControl()?.getSelectedItems();s?.forEach(e=>t?.push(this.getControl()?.indexOfItem(e)));return t};return r}(r);return u},false);
//# sourceMappingURL=MenuWithCheckBoxFactory.js.map