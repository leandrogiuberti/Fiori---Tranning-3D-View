/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.define(["sap/base/Log","sap/base/security/encodeURL","sap/fe/base/ClassSupport","sap/ui/base/ManagedObject","sap/ui/core/IconPool","sap/ui/core/Lib","sap/ui/core/Theming"],function(e,t,o,n,s,i,r){"use strict";var a,c,p;var u={};var d=o.defineUI5Class;function l(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,h(e,t)}function h(e,t){return h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},h(e,t)}let f=(a=d("sap.fe.controls.shortcuts.ShortcutExplanationProvider"),a(c=(p=function(o){function n(){var e;for(var t=arguments.length,n=new Array(t),s=0;s<t;s++){n[s]=arguments[s]}e=o.call(this,...n)||this;e._popupIdx=0;return e}u=n;l(n,o);var a=n.prototype;a.getShellDialogContent=function o(){const n=620;let s=window.screenLeft+window.outerWidth;if(s+n>window.screen.availWidth){s=window.screen.availWidth-n}let i=r.getTheme();i=this._sanitizeTheme(i);const a=sap.ui.require.toUrl("sap/fe/controls/shortcuts/popup/index.html");const c=window.location.protocol+"//"+window.location.host;const p="?sap-ui-xx-shortcut-origin="+t(c)+"&sap-ui-theme="+i;const u=window.open(a+p,"_blank",`popup,toolbar=no,menubar=no,scrollbars=no,location=no,width=${n},height=550,top=${window.screenTop},left=${s}`);if(u){const t=e=>{if(c===e.origin){const o=e?.data;if(o.service==="sap.ui.interaction.MessagePortReady"){const o=e.ports[0];u.postMessage({service:"sap.ui.interaction.MessagePortReady"},a.startsWith("/")?c:a,[o]);window.removeEventListener("message",t)}}};try{u.opener=null}catch(t){e.debug("Cannot set opener to null",t instanceof Error?t.message:String(t))}setTimeout(()=>{window.addEventListener("message",t);window.postMessage({id:"sap.fe.interaction.Popup"+this._popupIdx++,service:"sap.ui.interaction.RequestMessagePort"},c)},1500);window.onunload=function(){u.close()}}};a._sanitizeTheme=function t(o){if(!o.startsWith("sap_")){try{const e=getComputedStyle(document.documentElement);o=e.getPropertyValue("--sapSapThemeId");if(!o){const t=e.getPropertyValue("--sapThemeMetaData-UI5-sap-ui-core");if(t){const e=JSON.parse(t);if(e&&e.Extends&&e.Extends.length>0){o=e.Extends[0]}}}}catch(t){e.info("Cannot get theme from computed styles",t instanceof Error?t.message:String(t));o="sap_horizon"}if(!o||!o.startsWith("sap_")){o="sap_horizon"}}return o};n.getInstance=async function t(){const o=sap.ui.require("sap/ushell/Container");let s;try{if(o&&!this.instance){this.instancePromise=new Promise(e=>{s=e});const e=await o.getServiceAsync("Extension");if(e){const t=await n.registerUserAction(e);this.instance=t;s(t)}}}catch(t){e.error("Cannot register extension",t instanceof Error?t.message:String(t));s?.(undefined)}return this.instancePromise};n.registerUserAction=async function t(o){try{const e=i.getResourceBundleFor("sap.fe.controls");const t=new n;if(!this.isDialogAdded){this.isDialogAdded=true;const n=await o.createUserAction({text:e.getText("C_SHORTCUT_TITLE"),icon:s.getIconURI("keyboard-and-mouse"),press:()=>{t.getShellDialogContent()}},{controlType:"sap.m.Button"});n.showForAllApps()}return t}catch(t){e.error("Cannot add user action",t instanceof Error?t.message:String(t))}};return n}(n),p.isDialogAdded=false,p))||c);u=f;return u},false);
//# sourceMappingURL=ShortcutExplanationProvider.js.map