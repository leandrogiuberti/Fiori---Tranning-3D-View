{"version":3,"names":["InlineEditIndicator","_dec","defineUI5Class","_dec2","aggregation","type","_dec3","_dec4","_dec5","property","_dec6","event","_dec7","_class","_class2","_Control","idOrSettings","settings","_this","call","_initializerDefineProperty","_descriptor","_descriptor2","_descriptor3","_descriptor4","_descriptor5","_descriptor6","resourceBundle","Lib","getResourceBundleFor","editButton","_jsx","Button","icon","ButtonType","Transparent","press","_ev","fireEvent","tooltip","getText","saveButton","fieldGroupIds","discardButton","_exports","_inheritsLoose","_proto","prototype","addEditButtonAriaDescribedBy","ariaDescribedByElement","undefined","addAriaDescribedBy","removeAllEditButtonAriaDescribedBy","removeAllAriaDescribedBy","onmouseout","mouseEvent","currentTarget","contains","relatedTarget","onkeydown","e","key","shiftKey","preventDefault","setWidth","width","$","css","getDiscardButton","getSaveButton","getEditButton","render","rm","control","jsx","renderUsingRenderManager","classes","editMode","push","class","join","ref","children","_jsxs","Control","_applyDecoratedDescriptor","configurable","enumerable","writable","initializer"],"sourceRoot":".","sources":["InlineEditIndicator.tsx"],"sourcesContent":["import type ResourceBundle from \"sap/base/i18n/ResourceBundle\";\nimport type { PropertiesOf } from \"sap/fe/base/ClassSupport\";\nimport { aggregation, defineUI5Class, event, property } from \"sap/fe/base/ClassSupport\";\nimport jsx from \"sap/fe/base/jsx-runtime/jsx\";\nimport Button from \"sap/m/Button\";\nimport { ButtonType } from \"sap/m/library\";\nimport Control from \"sap/ui/core/Control\";\nimport Lib from \"sap/ui/core/Lib\";\nimport type RenderManager from \"sap/ui/core/RenderManager\";\nimport type { EventHandler } from \"types/extension_types\";\n\n/**\n * Control to indicate the possibility to edit an element inline, and to save or discard the changes after editing.\n */\n@defineUI5Class(\"sap.fe.controls.inlineEdit.InlineEditIndicator\")\nexport default class InlineEditIndicator extends Control {\n\t@aggregation({ type: \"sap.m.Button\" })\n\tprivate editButton: Button;\n\n\t@aggregation({ type: \"sap.m.Button\" })\n\tprivate saveButton: Button;\n\n\t@aggregation({ type: \"sap.m.Button\" })\n\tprivate discardButton: Button;\n\n\t@property({ type: \"boolean\" })\n\teditMode = false;\n\n\t@event()\n\tpressEdit?: EventHandler;\n\n\t@event()\n\tmouseout?: EventHandler;\n\n\tprivate width?: number;\n\n\tprivate resourceBundle?: ResourceBundle;\n\n\tconstructor(idOrSettings?: PropertiesOf<InlineEditIndicator> | string, settings?: PropertiesOf<InlineEditIndicator>) {\n\t\tsuper(idOrSettings as string | undefined, settings);\n\t\tthis.resourceBundle = Lib.getResourceBundleFor(\"sap.fe.controls\")!;\n\t\tthis.editButton = (\n\t\t\t<Button\n\t\t\t\ticon=\"sap-icon://edit\"\n\t\t\t\ttype={ButtonType.Transparent}\n\t\t\t\tpress={(_ev): void => {\n\t\t\t\t\tthis.fireEvent(\"pressEdit\");\n\t\t\t\t}}\n\t\t\t\ttooltip={this.resourceBundle.getText(\"M_INLINE_EDIT_TOOLTIP_EDIT\")}\n\t\t\t/>\n\t\t);\n\n\t\tthis.saveButton = (\n\t\t\t<Button\n\t\t\t\ticon=\"sap-icon://accept\"\n\t\t\t\ttype={ButtonType.Transparent}\n\t\t\t\tjsx:command=\"cmd:Save|press\"\n\t\t\t\tfieldGroupIds=\"InlineEdit\"\n\t\t\t\ttooltip={this.resourceBundle.getText(\"M_INLINE_EDIT_TOOLTIP_SAVE\")}\n\t\t\t/>\n\t\t);\n\n\t\tthis.discardButton = (\n\t\t\t<Button\n\t\t\t\ticon=\"sap-icon://decline\"\n\t\t\t\ttype={ButtonType.Transparent}\n\t\t\t\tjsx:command=\"cmd:Cancel|press\"\n\t\t\t\ttooltip={this.resourceBundle.getText(\"M_INLINE_EDIT_TOOLTIP_CANCEL\")}\n\t\t\t\tfieldGroupIds=\"InlineEdit\"\n\t\t\t/>\n\t\t);\n\t\t//IntervalTrigger.addListener(this.onAfterRendering, this)\n\t}\n\n\t/*\n\t * Add aria-describedBy element to the edit button\n\t * @param ariaDescribedByElement - Element to be added as ariaDescribedBy\n\t * */\n\taddEditButtonAriaDescribedBy(ariaDescribedByElement: string | Control): void {\n\t\tif (ariaDescribedByElement !== undefined && ariaDescribedByElement !== null && ariaDescribedByElement !== \"\") {\n\t\t\tthis.editButton.addAriaDescribedBy(ariaDescribedByElement);\n\t\t}\n\t}\n\n\t/*\n\t * Remove all aria-describedBy elements from the edit button\n\t * */\n\tremoveAllEditButtonAriaDescribedBy(): void {\n\t\tthis.editButton.removeAllAriaDescribedBy();\n\t}\n\n\tonmouseout(mouseEvent: MouseEvent): void {\n\t\tif (!(mouseEvent.currentTarget as Element)?.contains(mouseEvent.relatedTarget as Element)) {\n\t\t\tthis.fireEvent(\"mouseout\", { relatedTarget: mouseEvent.relatedTarget });\n\t\t}\n\t}\n\n\tonkeydown(e: KeyboardEvent): void {\n\t\tif (e.key === \"Tab\" && !e.shiftKey) {\n\t\t\te.preventDefault();\n\t\t\tthis.fireEvent(\"pressTab\");\n\t\t} else if (e.key === \"Tab\" && e.shiftKey) {\n\t\t\te.preventDefault();\n\t\t\tthis.fireEvent(\"pressShiftTab\");\n\t\t}\n\t}\n\n\tsetWidth(width: number): void {\n\t\tthis.width = width;\n\t\tthis.$().css(\"width\", `${width}px`);\n\t}\n\n\tgetDiscardButton(): Button {\n\t\treturn this.discardButton;\n\t}\n\n\tgetSaveButton(): Button {\n\t\treturn this.saveButton;\n\t}\n\n\tgetEditButton(): Button {\n\t\treturn this.editButton;\n\t}\n\n\tstatic render(rm: RenderManager, control: InlineEditIndicator): void {\n\t\tjsx.renderUsingRenderManager(rm, control, function () {\n\t\t\tconst classes = [\"sapFeInlineEditIndicator\"];\n\t\t\tif (control.editMode) {\n\t\t\t\tclasses.push(\"sapFeInlineEditIndicatorEditMode\");\n\t\t\t}\n\t\t\treturn (\n\t\t\t\t<span class={classes.join(\" \")} ref={control}>\n\t\t\t\t\t{!control.editMode ? (\n\t\t\t\t\t\t<span class={\"sapFeInlineEditIndicatorIcon\"}>{control.editButton}</span>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<span class={\"sapFeInlineEditIndicatorAcceptDeclineIcon sapFeInlineEditIndicatorIcon\"}>\n\t\t\t\t\t\t\t{control.saveButton}\n\t\t\t\t\t\t\t{control.discardButton}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t)}\n\t\t\t\t</span>\n\t\t\t);\n\t\t});\n\t}\n}\n"],"mappings":"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","ignoreList":[],"file":"InlineEditIndicator-dbg.js"}