{"version":3,"file":"InlineEditIndicator.js","names":["InlineEditIndicator","_dec","defineUI5Class","_dec2","aggregation","type","_dec3","_dec4","_dec5","property","_dec6","event","_dec7","_class","_class2","_Control","idOrSettings","settings","_this","call","this","_initializerDefineProperty","_descriptor","_descriptor2","_descriptor3","_descriptor4","_descriptor5","_descriptor6","resourceBundle","Lib","getResourceBundleFor","editButton","_jsx","Button","icon","ButtonType","Transparent","press","_ev","fireEvent","tooltip","getText","saveButton","fieldGroupIds","discardButton","_exports","_inheritsLoose","_proto","prototype","addEditButtonAriaDescribedBy","ariaDescribedByElement","undefined","addAriaDescribedBy","removeAllEditButtonAriaDescribedBy","removeAllAriaDescribedBy","onmouseout","mouseEvent","currentTarget","contains","relatedTarget","onkeydown","e","key","shiftKey","preventDefault","setWidth","width","$","css","getDiscardButton","getSaveButton","getEditButton","render","rm","control","jsx","renderUsingRenderManager","classes","editMode","push","class","join","ref","children","_jsxs","Control","_applyDecoratedDescriptor","configurable","enumerable","writable","initializer"],"sources":["./InlineEditIndicator.tsx"],"sourcesContent":["import type ResourceBundle from \"sap/base/i18n/ResourceBundle\";\nimport type { PropertiesOf } from \"sap/fe/base/ClassSupport\";\nimport { aggregation, defineUI5Class, event, property } from \"sap/fe/base/ClassSupport\";\nimport jsx from \"sap/fe/base/jsx-runtime/jsx\";\nimport Button from \"sap/m/Button\";\nimport { ButtonType } from \"sap/m/library\";\nimport Control from \"sap/ui/core/Control\";\nimport Lib from \"sap/ui/core/Lib\";\nimport type RenderManager from \"sap/ui/core/RenderManager\";\nimport type { EventHandler } from \"types/extension_types\";\n\n/**\n * Control to indicate the possibility to edit an element inline, and to save or discard the changes after editing.\n */\n@defineUI5Class(\"sap.fe.controls.inlineEdit.InlineEditIndicator\")\nexport default class InlineEditIndicator extends Control {\n\t@aggregation({ type: \"sap.m.Button\" })\n\tprivate editButton: Button;\n\n\t@aggregation({ type: \"sap.m.Button\" })\n\tprivate saveButton: Button;\n\n\t@aggregation({ type: \"sap.m.Button\" })\n\tprivate discardButton: Button;\n\n\t@property({ type: \"boolean\" })\n\teditMode = false;\n\n\t@event()\n\tpressEdit?: EventHandler;\n\n\t@event()\n\tmouseout?: EventHandler;\n\n\tprivate width?: number;\n\n\tprivate resourceBundle?: ResourceBundle;\n\n\tconstructor(idOrSettings?: PropertiesOf<InlineEditIndicator> | string, settings?: PropertiesOf<InlineEditIndicator>) {\n\t\tsuper(idOrSettings as string | undefined, settings);\n\t\tthis.resourceBundle = Lib.getResourceBundleFor(\"sap.fe.controls\")!;\n\t\tthis.editButton = (\n\t\t\t<Button\n\t\t\t\ticon=\"sap-icon://edit\"\n\t\t\t\ttype={ButtonType.Transparent}\n\t\t\t\tpress={(_ev): void => {\n\t\t\t\t\tthis.fireEvent(\"pressEdit\");\n\t\t\t\t}}\n\t\t\t\ttooltip={this.resourceBundle.getText(\"M_INLINE_EDIT_TOOLTIP_EDIT\")}\n\t\t\t/>\n\t\t);\n\n\t\tthis.saveButton = (\n\t\t\t<Button\n\t\t\t\ticon=\"sap-icon://accept\"\n\t\t\t\ttype={ButtonType.Transparent}\n\t\t\t\tjsx:command=\"cmd:Save|press\"\n\t\t\t\tfieldGroupIds=\"InlineEdit\"\n\t\t\t\ttooltip={this.resourceBundle.getText(\"M_INLINE_EDIT_TOOLTIP_SAVE\")}\n\t\t\t/>\n\t\t);\n\n\t\tthis.discardButton = (\n\t\t\t<Button\n\t\t\t\ticon=\"sap-icon://decline\"\n\t\t\t\ttype={ButtonType.Transparent}\n\t\t\t\tjsx:command=\"cmd:Cancel|press\"\n\t\t\t\ttooltip={this.resourceBundle.getText(\"M_INLINE_EDIT_TOOLTIP_CANCEL\")}\n\t\t\t\tfieldGroupIds=\"InlineEdit\"\n\t\t\t/>\n\t\t);\n\t\t//IntervalTrigger.addListener(this.onAfterRendering, this)\n\t}\n\n\t/*\n\t * Add aria-describedBy element to the edit button\n\t * @param ariaDescribedByElement - Element to be added as ariaDescribedBy\n\t * */\n\taddEditButtonAriaDescribedBy(ariaDescribedByElement: string | Control): void {\n\t\tif (ariaDescribedByElement !== undefined && ariaDescribedByElement !== null && ariaDescribedByElement !== \"\") {\n\t\t\tthis.editButton.addAriaDescribedBy(ariaDescribedByElement);\n\t\t}\n\t}\n\n\t/*\n\t * Remove all aria-describedBy elements from the edit button\n\t * */\n\tremoveAllEditButtonAriaDescribedBy(): void {\n\t\tthis.editButton.removeAllAriaDescribedBy();\n\t}\n\n\tonmouseout(mouseEvent: MouseEvent): void {\n\t\tif (!(mouseEvent.currentTarget as Element)?.contains(mouseEvent.relatedTarget as Element)) {\n\t\t\tthis.fireEvent(\"mouseout\", { relatedTarget: mouseEvent.relatedTarget });\n\t\t}\n\t}\n\n\tonkeydown(e: KeyboardEvent): void {\n\t\tif (e.key === \"Tab\" && !e.shiftKey) {\n\t\t\te.preventDefault();\n\t\t\tthis.fireEvent(\"pressTab\");\n\t\t} else if (e.key === \"Tab\" && e.shiftKey) {\n\t\t\te.preventDefault();\n\t\t\tthis.fireEvent(\"pressShiftTab\");\n\t\t}\n\t}\n\n\tsetWidth(width: number): void {\n\t\tthis.width = width;\n\t\tthis.$().css(\"width\", `${width}px`);\n\t}\n\n\tgetDiscardButton(): Button {\n\t\treturn this.discardButton;\n\t}\n\n\tgetSaveButton(): Button {\n\t\treturn this.saveButton;\n\t}\n\n\tgetEditButton(): Button {\n\t\treturn this.editButton;\n\t}\n\n\tstatic render(rm: RenderManager, control: InlineEditIndicator): void {\n\t\tjsx.renderUsingRenderManager(rm, control, function () {\n\t\t\tconst classes = [\"sapFeInlineEditIndicator\"];\n\t\t\tif (control.editMode) {\n\t\t\t\tclasses.push(\"sapFeInlineEditIndicatorEditMode\");\n\t\t\t}\n\t\t\treturn (\n\t\t\t\t<span class={classes.join(\" \")} ref={control}>\n\t\t\t\t\t{!control.editMode ? (\n\t\t\t\t\t\t<span class={\"sapFeInlineEditIndicatorIcon\"}>{control.editButton}</span>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<span class={\"sapFeInlineEditIndicatorAcceptDeclineIcon sapFeInlineEditIndicatorIcon\"}>\n\t\t\t\t\t\t\t{control.saveButton}\n\t\t\t\t\t\t\t{control.discardButton}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t)}\n\t\t\t\t</span>\n\t\t\t);\n\t\t});\n\t}\n}\n"],"mappings":"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","ignoreList":[]}