/*
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.define("sap/sac/df/Grid",["sap/sac/df/controls/MultiDimControlBase","sap/sac/df/firefly/library"],function(t,e){var i=t.extend("sap.sac.df.Grid",{metadata:{library:"sap.sac.df",properties:{metaPath:{type:"string"},showStatusBar:{type:"boolean",defaultValue:false},showTitle:{type:"boolean",defaultValue:false},title:{type:"string"}},events:{onCellClick:{parameters:{cellContext:{type:"object"}}}}},init:function(){if(t.prototype.init){t.prototype.init.apply(this,arguments)}},renderer:t.getMetadata().getRenderer().render,setSelectedDataCell:function(t,i){const o=this._getDataProvider().getGridVisualization()._getFFVisualization()?.getActiveTableContainer();if(o){try{const a=o.getRowIndexForTupleIndex(t);const n=o.getColumnIndexForTupleIndex(i);if(a>=0&&n>=0){const t=e.XNotificationData.create();t.putInteger(e.AuAnalyticalTableViewPlugin.NOTIFICATION_DATA_SET_SELECTED_CELL_ROW_INDEX,a);t.putInteger(e.AuAnalyticalTableViewPlugin.NOTIFICATION_DATA_SET_SELECTED_CELL_COLUMN_INDEX,n);this.oHorizonProgram.postNotificationWithName(e.AuAnalyticalTableViewPlugin.NOTIFICATION_SET_SELECTED_CELL,t)}}catch(t){console.log(t.message)}}},clearCellSelection:function(){this.oHorizonProgram.postNotificationWithName(e.AuAnalyticalTableViewPlugin.NOTIFICATION_CLEAR_SELECTION,null)},getPluginConfigName:function(){return"Grid"},_runProgram:function(){let i=t.prototype._runProgram.apply(this);return i.then(()=>{let t=new e.XPair;t.setFirstObject(e.PrString.createWithValue("UI5ContextMenuProvider"));t.setSecondObject(this._getDefaultContextMenuProvider());this.oHorizonProgram.executeAction(e.AuMenuEngineCommandPlugin.PLUGIN_NAME,e.AuMenuEngineCommandPlugin.REGISTER_DYNAMIC_MENU_ACTIONS_PROVIDER,t)})},_getDefaultContextMenuProvider:function(){return this._getMultiDimModel().getContextMenuProviderRegistry().getDefaultProvider()},_onCellClick:function(t){this.fireOnCellClick({cellContext:this._getDefaultContextMenuProvider().convertCellClickContext(t,this._getDataProvider().Name)})},_applyPropertiesToPlugin:function(){t.prototype._applyPropertiesToPlugin.apply(this);if(this.oHorizonProgram){this.oHorizonProgram.setStatusBarVisible(this.getShowStatusBar());const t=e.XNotificationData.create();t.putBoolean(e.AuAnalyticalTableViewPlugin.NOTIFICATION_DATA_KEY_SHOW_QUERY_DETAILS,this.getShowTitle());this.oHorizonProgram.postNotificationWithName(e.AuAnalyticalTableViewPlugin.NOTIFICATION_SHOW_QUERY_DETAILS,t);if(this.getTitle()){const t=e.XNotificationData.create();t.putString(e.AuAnalyticalTableViewPlugin.NOTIFICATION_DATA_KEY_TITLE,this.getTitle());this.oHorizonProgram.postNotificationWithName(e.AuAnalyticalTableViewPlugin.NOTIFICATION_SET_TITLE,t)}const i=e.XNotificationData.create();i.putXObject(e.AuAnalyticalTableViewPlugin.NOTIFICATION_DATA_ON_CELL_CLICK_CONSUMER,e.XConsumerHolder.create(this._onCellClick.bind(this)));this.oHorizonProgram.postNotificationWithName(e.AuAnalyticalTableViewPlugin.NOTIFICATION_SET_ON_CELL_CLICK_CONSUMER,i)}}});return i});
//# sourceMappingURL=Grid.js.map