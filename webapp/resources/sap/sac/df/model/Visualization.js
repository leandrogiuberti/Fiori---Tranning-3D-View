/*! SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
   */
sap.ui.define("sap/sac/df/model/Visualization",["sap/ui/base/Object","sap/sac/df/model/visualization/Grid","sap/sac/df/types/VisualizationType","sap/sac/df/firefly/library"],function(i,t,e,a){"use strict";let s=i.extend("sap.sac.df.model.Visualization",{constructor:function(i,s,n){Object.assign(this,Object.getPrototypeOf(this));this._DataProvider=i;Object.assign(this,{Name:s,Type:n});switch(n){case e.Grid:Object.assign(this,new t(this));break}this._registerVizFilledConsumer=function(){if(this._VizFilledConsumerUUID){this._DataProvider._FFDataProvider.getEventing().getListenerForResultDataFetch().removeConsumerByUuid(this._VizFilledConsumerUUID)}this._VizFilledConsumerUUID=this._DataProvider._FFDataProvider.getEventing().getListenerForResultDataFetch().addConsumer(i=>{if(i.getStep()===a.OlapDataProviderResultDataFetchStep.VISUALIZATION_FILLED&&i.getFilledVisualizationNames().includes(this.Name)){return this._onVisualizationFilled&&this._onVisualizationFilled()}})};this._registerVizFilledConsumer();this._getVisualizationManager=function(){return this._DataProvider._getQueryModel().getVisualizationManager()};this._createFFVisualization=function(){return this._DataProvider._FFDataProvider.getActions().getVisualizationActions().getOrCreateVisualizationDefinition(this.Name,this.Type.VisualizationType,this.Type.ProtocolBindingType,this.Type.ChartType)};this._getFFVisualization=function(){return this._getVisualizationManager().getVisualizationDefinitionByName(this.Name)};this._removeFFVisualization=function(){return this._getVisualizationManager().removeVisualizationDefinitionByName(this.Name)}}});return s});
//# sourceMappingURL=Visualization.js.map