/*!
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.define(["sap/sac/df/firefly/ff4310.olap.impl","sap/sac/df/firefly/ff4220.olap.catalog.api"],function(e){"use strict";e.OlapCatalogFileSystemDriver=function(){};e.OlapCatalogFileSystemDriver.prototype=new e.XObject;e.OlapCatalogFileSystemDriver.prototype._ff_c="OlapCatalogFileSystemDriver";e.OlapCatalogFileSystemDriver.QUERY="Query";e.OlapCatalogFileSystemDriver.getSearchAllText=function(t){return e.XStringUtils.concatenate3("*",t,"*")};e.OlapCatalogFileSystemDriver.prototype.m_catalogManager=null;e.OlapCatalogFileSystemDriver.prototype.m_systemName=null;e.OlapCatalogFileSystemDriver.prototype.createFsObjectsFolderDefinition=function(){let t;if(this.getSystemType().isTypeOf(e.SystemType.BW)){let a=e.XList.create();a.add(e.XHierarchyElement.createHierarchyElement(e.OlapComponentType.CATALOG_TYPE,e.OlapCatalogFileSystemDriver.QUERY,e.OlapCatalogFileSystemDriver.QUERY));t=e.ExtResult.create(a,null)}else{t=this.m_catalogManager.getAllTypes()}return t};e.OlapCatalogFileSystemDriver.prototype.getAllChildObjects=function(t,a,l){if(e.notNull(l)){this.setSearchText(l);this.processCartesianFilter(l)}let n=this.m_catalogManager.processGetResult(a,t,null);return n};e.OlapCatalogFileSystemDriver.prototype.getAllObjectTypes=function(){let t=null;if(this.getSystemType().isTypeOf(e.SystemType.BW)){let a=e.XList.create();a.add(e.XHierarchyElement.createHierarchyElement(e.OlapComponentType.CATALOG_TYPE,e.OlapCatalogFileSystemDriver.QUERY,e.OlapCatalogFileSystemDriver.QUERY));t=e.ExtResult.create(a,null)}else{t=this.m_catalogManager.getAllTypes()}return t};e.OlapCatalogFileSystemDriver.prototype.getAllSchemas=function(t){if(e.notNull(t)){this.setSearchText(t);this.processCartesianFilter(t)}let a=this.m_catalogManager.getAllSchemas(null);return a};e.OlapCatalogFileSystemDriver.prototype.getObjectByName=function(e,t,a){this.m_catalogManager.setSearchFilter(e);this.m_catalogManager.setSearchOnName(true);let l=this.m_catalogManager.processGetResult(a,t,null);return l};e.OlapCatalogFileSystemDriver.prototype.getObjectsBySchema=function(t,a,l,n){this.m_catalogManager.setSchema(e.XString.toUpperCase(t));return this.getAllChildObjects(a,l,n)};e.OlapCatalogFileSystemDriver.prototype.getObjectsByType=function(e,t,a,l){if(this.m_catalogManager.supportsCombinedSearch()){this.m_catalogManager.setSelectedType(e);this.m_catalogManager.addSelectedType(e)}else{this.m_catalogManager.setSelectedType(e)}return this.getAllChildObjects(t,a,l)};e.OlapCatalogFileSystemDriver.prototype.getSystemName=function(){return this.m_systemName};e.OlapCatalogFileSystemDriver.prototype.getSystemType=function(){return this.m_catalogManager.getApplication().getConnectionPool().getConnection(this.getSystemName()).getSystemDescription().getSystemType()};e.OlapCatalogFileSystemDriver.prototype.getTuplesCountTotal=function(){if(this.getSystemType().isTypeOf(e.SystemType.BW)){return-1}return this.m_catalogManager.getQueryManager().getActiveResultSetContainer().getCursorResultSet().getCursorRowsAxis().getTuplesCountTotal()};e.OlapCatalogFileSystemDriver.prototype.isCatalogManagerInitialised=function(){return e.notNull(this.m_catalogManager)?true:false};e.OlapCatalogFileSystemDriver.prototype.isDWCSystem=function(){let t=false;if(this.m_catalogManager.getApplication().getConnectionPool().getConnection(this.getSystemName()).getSystemDescription().getProperties().containsKey("CONTEXT_PATH")){if(e.XString.containsString(this.m_catalogManager.getApplication().getConnectionPool().getConnection(this.getSystemName()).getSystemDescription().getProperties().getByKey("CONTEXT_PATH"),"dwaas-core")){t=true}}return t};e.OlapCatalogFileSystemDriver.prototype.processCartesianFilter=function(t){let a=t.getCartesianFilter();if(e.notNull(a)){for(let t=0;t<a.size();t++){let l=a.get(t);let n=l.getValue();let i=l.getName();if(e.XString.isEqual(i,e.XFileAttribute.DESCRIPTION)){this.m_catalogManager.setSearchFilter(n);this.m_catalogManager.setSearchOnText(true)}else if(e.XString.isEqual(i,e.XFileAttribute.OLAP_DATASOURCE_NAME)){this.m_catalogManager.setSearchFilter(n);this.m_catalogManager.setSearchOnName(true)}else if(e.XString.isEqual(i,e.XFileAttribute.OLAP_DATASOURCE_SCHEMA)){this.m_catalogManager.setSearchOnSchema(true)}else if(e.XString.isEqual(i,e.XFileAttribute.NODE_SUB_TYPE)){let t=e.XStringTokenizer.splitString(n,",");this.m_catalogManager.setInternalTypeIncludeList(t)}else if(e.XString.isEqual(i,e.XFileAttribute.NODE_TYPE)&&this.m_catalogManager.supportsCombinedSearch()){let t=e.XStringTokenizer.splitString(n,",");let a=t.getIterator();while(a.hasNext()){let t=a.next();let l=e.MetaObjectType.lookup(t);this.m_catalogManager.addSelectedType(l)}}else if(e.XString.isEqual(i,e.XFileAttribute.OLAP_DATA_CATEGORY)){if(this.m_catalogManager.getQueryManager().getQueryModel().getModelCapabilities().supportsMetadataDataCategory()){this.m_catalogManager.setDataCategoryFilter(n)}}}}};e.OlapCatalogFileSystemDriver.prototype.resetSearchFlags=function(){if(e.notNull(this.m_catalogManager)){this.m_catalogManager.setSearchOnSchema(false);this.m_catalogManager.setInternalTypeIncludeList(e.XList.create());this.m_catalogManager.setSearchOnPackageExt(false,"",e.PresentationSelect.KEY_AND_TEXT,e.LogicalBoolOperator.OR,null);this.m_catalogManager.setSchema(null)}};e.OlapCatalogFileSystemDriver.prototype.setCatalogManager=function(e){this.m_catalogManager=e};e.OlapCatalogFileSystemDriver.prototype.setSearchText=function(t){let a=t.getOffset();this.m_catalogManager.setResultOffset(a);let l=t.getMaxItems();this.m_catalogManager.setResultMaxSize(l);let n=t.getSearchValue();n=e.notNull(n)?e.OlapCatalogFileSystemDriver.getSearchAllText(n):"*";this.m_catalogManager.setSearchFilter(n);if(this.m_catalogManager.getSchema()!==null){this.setTextSearch(false,n)}else{this.setTextSearch(true,n)}};e.OlapCatalogFileSystemDriver.prototype.setSystemName=function(e){this.m_systemName=e};e.OlapCatalogFileSystemDriver.prototype.setTextSearch=function(t,a){this.m_catalogManager.setSearchOnName(t);if(this.m_catalogManager.supportsCombinedSearch()){this.m_catalogManager.setSearchOnText(t);this.m_catalogManager.setSearchOnPackageExt(t,a,e.PresentationSelect.KEY_AND_TEXT,e.LogicalBoolOperator.OR,null)}};e.OlapCatalogFileSystemDriver.prototype.setupCatalogManager=function(t,a,l,n){let i=e.ApplicationFactory.createApplication(t);let r=e.OlapCatalogApiModule.SERVICE_TYPE_OLAP_CATALOG.createServiceConfig(i);r.setSystemName(a);this.setSystemName(a);let o;if(!e.XString.isEqual(a,e.SystemType.BPCE.getName())){o=r.processLightweightOlapCatalogManagerCreation(l,n,null)}else{o=r.processOlapCatalogManagerCreation(l,n,null)}this.setCatalogManager(o.getData())};e.OlapFileRequestListener2=function(){};e.OlapFileRequestListener2.prototype=new e.XObject;e.OlapFileRequestListener2.prototype._ff_c="OlapFileRequestListener2";e.OlapFileRequestListener2.create=function(t){let a=new e.OlapFileRequestListener2;a.callback=t;return a};e.OlapFileRequestListener2.prototype.callback=null;e.OlapFileRequestListener2.prototype.onChildrenFetched=function(e){this.callback(e)};e.OlapFileUtils={HASH:"#",INFINITY:"âˆž",isBWSystem:function(t,a){let l=t.getConnectionPool().getConnection(a);let n=l.getSystemDescription().getSystemType();return n.isTypeOf(e.SystemType.BW)},isValidModelName:function(t){return!e.XString.containsString(t,e.OlapFileUtils.INFINITY)},isValidSchemaName:function(t){return!e.XString.containsString(t,e.OlapFileUtils.HASH)},processCatalogResult:function(t,a,l,n,i){let r=e.XList.create();let o=t.getObjectsIterator();while(o.hasNext()){let t=o.next();if(e.OlapFileUtils.isValidModelName(t.getName())){let o=e.XUri.createChildFile(n.getUri(),t.getName());let s=e.XHashMapByString.create();s.put(e.XFileAttribute.NODE_TYPE,t.getDataCategory());s.put(e.XFileAttribute.NODE_SUB_TYPE,t.getInternalType());s.put(e.XFileAttribute.OLAP_DATASOURCE_TYPE,t.getType().getName());s.put(e.XFileAttribute.OLAP_DATASOURCE_SCHEMA,t.getSchemaName());s.put(e.XFileAttribute.OLAP_DATASOURCE_NAME,t.getName());s.put(e.XFileAttribute.OLAP_DATASOURCE_PACKAGE,t.getPackageName());s.put(e.XFileAttribute.OLAP_DATA_CATEGORY,t.getDataCategory());let g=e.PrFactory.createStructure();g.putString(e.XFileAttribute.DESCRIPTION,t.getText());s.put(e.XFileAttribute.DESCRIPTION,t.getText());g.putString(e.XFileAttribute.DISPLAY_NAME,t.getName());g.putString(e.XFileAttribute.FILE_TYPE,t.getType().getName());if(i){if(e.XString.isEqual(t.getType().getName(),"view")&&e.XString.isEqual(t.getInternalType(),"CALC")){s.put(e.XFileAttribute.ICON,l.getIconByName("CUBE"))}else if(e.XString.isEqual(t.getType().getName(),"inamodel")){s.put(e.XFileAttribute.ICON,l.getIconByName("DATASET"))}else if(t.isComponentNode()){s.put(e.XFileAttribute.ICON,l.getIconByName("SPACE"))}}if(e.OlapFileUtils.isBWSystem(a,o.getHost())){g.putBoolean(e.XFileAttribute.SUPPORTS_PARALLEL_SEARCH,false)}else{g.putBoolean(e.XFileAttribute.SUPPORTS_PARALLEL_SEARCH,true)}g.putBoolean(e.XFileAttribute.IS_EXISTING,true);if(t.isComponentNode()){g.putBoolean(e.XFileAttribute.IS_DIRECTORY,true);g.putBoolean(e.XFileAttribute.IS_FILE,false)}else{g.putBoolean(e.XFileAttribute.IS_DIRECTORY,false);g.putBoolean(e.XFileAttribute.IS_FILE,true)}g.putBoolean(e.XFileAttribute.IS_HIDDEN,false);g.putBoolean(e.XFileAttribute.IS_EXECUTABLE,true);g.putBoolean(e.XFileAttribute.IS_READABLE,true);g.putBoolean(e.XFileAttribute.IS_WRITEABLE,false);g.putBoolean(e.XFileAttribute.SUPPORTS_SEARCH,true);if(t.getCreatedBy()!==null){g.putString(e.XFileAttribute.CREATED_BY_DISPLAY_NAME,t.getCreatedBy())}if(t.getCreatedOn()!==null){g.putString(e.XFileAttribute.CREATED_AT,t.getCreatedOn().toIso8601Format())}if(t.getUpdatedBy()!==null){g.putString(e.XFileAttribute.CHANGED_BY_DISPLAY_NAME,t.getCreatedBy())}if(t.getUpdatedOn()!==null){g.putString(e.XFileAttribute.CHANGED_AT,t.getCreatedOn().toIso8601Format())}if(t.isComponentNode()){g.putBoolean(e.XFileAttribute.SUPPORTS_MAX_ITEMS,true);g.putBoolean(e.XFileAttribute.SUPPORTS_OFFSET,true);g.putBoolean(e.XFileAttribute.SUPPORTS_SINGLE_SORT,false);g.putBoolean(e.XFileAttribute.SUPPORTS_CARTESIAN_FILTER,true);let t=g.putNewStructure(e.XFileAttribute.SUPPORTED_FILTERS);let a=t.putNewStructure(e.XFileAttribute.OLAP_DATASOURCE_PACKAGE).putNewList(e.XFileAttribute.SUPPORTED_FILTER_TYPES);a.addString(e.XFileFilterType.EXACT.getName());a.addString(e.XFileFilterType.ASTERISK.getName());let l=t.putNewStructure(e.XFileAttribute.OLAP_DATASOURCE_SCHEMA).putNewList(e.XFileAttribute.SUPPORTED_FILTER_TYPES);l.addString(e.XFileFilterType.EXACT.getName());l.addString(e.XFileFilterType.ASTERISK.getName());let n=t.putNewStructure(e.XFileAttribute.NODE_SUB_TYPE).putNewList(e.XFileAttribute.SUPPORTED_FILTER_TYPES);n.addString(e.XFileFilterType.EXACT.getName());n.addString(e.XFileFilterType.ASTERISK.getName());let i=t.putNewStructure(e.XFileAttribute.NODE_TYPE).putNewList(e.XFileAttribute.SUPPORTED_FILTER_TYPES);i.addString(e.XFileFilterType.EXACT.getName());i.addString(e.XFileFilterType.ASTERISK.getName());let r=t.putNewStructure(e.XFileAttribute.OLAP_DATA_CATEGORY).putNewList(e.XFileAttribute.SUPPORTED_FILTER_TYPES);r.addString(e.XFileFilterType.EXACT.getName());r.addString(e.XFileFilterType.ASTERISK.getName())}let p=e.OlapFile.createFile(a,l,o,s);p.setProviderMetadata(g);r.add(p)}}return r}};e.OlapCatalogResult=function(){};e.OlapCatalogResult.prototype=new e.XObject;e.OlapCatalogResult.prototype._ff_c="OlapCatalogResult";e.OlapCatalogResult.create=function(t,a){let l=new e.OlapCatalogResult;l.setupExt(t,a);return l};e.OlapCatalogResult.prototype.m_items=null;e.OlapCatalogResult.prototype.getFirstKeyField=function(t,a){let l=t.getDimensionByName(a);if(e.notNull(l)){return l.getFirstFieldByType(e.PresentationType.KEY)}return null};e.OlapCatalogResult.prototype.getObjectsIterator=function(){return this.m_items.getIterator()};e.OlapCatalogResult.prototype.getObjectsList=function(){return this.m_items};e.OlapCatalogResult.prototype.releaseObject=function(){this.m_items=e.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_items);e.XObject.prototype.releaseObject.call(this)};e.OlapCatalogResult.prototype.setupExt=function(t,a){this.m_items=e.XList.create();let l=t.getQueryModel();let n=this.getFirstKeyField(l,e.OlapCatalogManager2.CN_TYPE);let i=this.getFirstKeyField(l,e.OlapCatalogManager2.CN_SCHEMA);let r=this.getFirstKeyField(l,e.OlapCatalogManager2.CN_BASEDATASOURCE_TYPE);let o=null;let s=null;let g=l.getDimensionByName(e.OlapCatalogManager2.CN_BASEDATASOURCE);if(e.notNull(g)){o=g.getFirstFieldByType(e.PresentationType.KEY);s=g.getFirstFieldByType(e.PresentationType.TEXT)}let p=null;let u=l.getModelCapabilities();if(u.supportsMetadataDataCategory()){p=this.getFirstKeyField(l,e.OlapCatalogManager2.CN_DATA_CATEGORY)}let c=this.getFirstKeyField(l,e.OlapCatalogManager2.CN_QUERY_ALIAS);let m=this.getFirstKeyField(l,e.OlapCatalogManager2.CN_BASEDATASOURCE_SCHEMANAME);let y=this.getFirstKeyField(l,e.OlapCatalogManager2.CN_BASEDATASOURCE_PACKAGENAME);let C=this.getFirstKeyField(l,e.OlapCatalogManager2.CN_BASEDATASOURCE_OBJECTNAME);let S=this.getFirstKeyField(l,e.OlapCatalogManager2.CN_PLANNING_MODEL_NAME);let O=this.getFirstKeyField(l,e.OlapCatalogManager2.CN_PLANNING_MODEL_SCHEMA_NAME);let h=this.getFirstKeyField(l,e.OlapCatalogManager2.CN_INTERNAL_TYPE);let _=this.getFirstKeyField(l,e.OlapCatalogManager2.CN_PACKAGE);let d=l.getDimensionByName(e.OlapCatalogManager2.CN_OBJECT);let f=null;let N=null;let T=null;let A=null;if(e.notNull(d)){f=d.getFieldByName(e.OlapCatalogManager2.CN_OBJECT_IS_PLANQUERY);N=d.getFieldByName(e.OlapCatalogManager2.CN_OBJECT_MDX_FLAG);T=d.getFirstFieldByType(e.PresentationType.KEY);A=d.getFirstFieldByType(e.PresentationType.TEXT)}let E=l.getDimensionByName(e.OlapCatalogManager2.CN_CURRENCY);let F=null;let M=null;if(e.notNull(E)){F=E.getFirstFieldByType(e.PresentationType.KEY);M=E.getFirstFieldByType(e.PresentationType.TEXT)}let P=l.getDimensionByName(e.OlapCatalogManager2.CN_CURRENCY_TRANSLATION_NAME);let R=null;let D=null;if(e.notNull(P)){R=P.getFirstFieldByType(e.PresentationType.KEY);D=P.getFirstFieldByType(e.PresentationType.TEXT)}let I=l.getDimensionByName(e.OlapCatalogManager2.CN_CURRENCY_TARGET);let L=null;if(e.notNull(I)){L=I.getFirstFieldByType(e.PresentationType.KEY)}let b=l.getDimensionByName(e.OlapCatalogManager2.CN_FORMULA_OPERATORS);let B=null;let X=null;let U=null;if(e.notNull(b)){B=b.getFirstFieldByType(e.PresentationType.KEY);X=b.getFirstFieldByType(e.PresentationType.TEXT);U=b.getFieldByName(e.OlapCatalogManager2.CN_FORMULA_OPERATORS_OPERANDS_NUMBER)}let v=t.getRowsAxis();let x=v.getTuplesCount();for(let t=0;t<x;t++){let l=v.getTupleAt(t);let g=e.OlapCatalogItem.createCatalogItem();if(e.notNull(p)){g.setDataCategory(l.getStringByField(p))}if(e.notNull(c)){g.setQueryAlias(l.getStringByField(c))}if(e.notNull(h)){g.setInternalType(l.getStringByField(h))}if(e.notNull(n)){let t=l.getStringByField(n);g.setType(e.MetaObjectType.lookupAndCreate(t))}if(e.notNull(i)){g.setSchemaName(l.getStringByField(i))}if(e.notNull(_)){g.setPackageName(l.getStringByField(_))}if(e.notNull(T)){g.setObjectName(l.getStringByField(T))}if(e.notNull(A)){g.setText(l.getStringByField(A))}if(e.isNull(f)){g.setPlanQuery(false)}else{g.setPlanQuery(l.getBooleanByField(f))}if(e.notNull(N)){let e=l.getTristateByField(N);g.setHasMdxFlag(e)}let u=e.QFactory.createDataSource();if(e.notNull(r)){u.setType(e.MetaObjectType.lookup(l.getStringByField(r)))}if(e.notNull(s)){u.setText(l.getStringByField(s))}if(e.notNull(o)){u.setName(l.getStringByField(o))}if(e.notNull(m)){u.setSchemaName(l.getStringByField(m))}if(e.notNull(y)){u.setPackageName(l.getStringByField(y))}if(e.notNull(C)&&e.XString.size(l.getStringByField(C))>0){u.setName(l.getStringByField(C))}g.setBaseDataSource(u);if(e.notNull(S)){g.setPlanningModelName(l.getStringByField(S))}if(e.notNull(O)){g.setPlanningModelSchemaName(l.getStringByField(O))}if(e.notNull(F)){g.setCurrencyKey(l.getStringByField(F))}if(e.notNull(M)){g.setCurrencyText(l.getStringByField(M))}if(e.notNull(R)){g.setCurrencyTranslationNameKey(l.getStringByField(R))}if(e.notNull(D)){g.setCurrencyTranslationNameText(l.getStringByField(D))}if(e.notNull(L)){g.setCurrencyTargetKey(l.getStringByField(L))}if(e.notNull(B)){g.setFormulaOperatorKey(l.getStringByField(B))}if(e.notNull(X)){g.setFormulaOperatorText(l.getStringByField(X))}if(e.notNull(U)){g.setFormulaOperatorNumberOfOperands(l.getIntegerByField(U))}let d=true;if(e.XStringUtils.isNotNullAndNotEmpty(a)){let t=l.getStringByField(L);if(e.XStringUtils.isNotNullAndNotEmpty(t)&&!e.XString.isEqual(t,a)){d=false}}if(d){this.m_items.add(g)}}};e.OlapCatalogResult.prototype.toString=function(){let t=e.XStringBuffer.create();if(e.notNull(this.m_items)){for(let a=0;a<this.m_items.size();a++){let l=this.m_items.get(a);if(e.notNull(l)){t.append(l.toString())}t.appendNewLine()}}return t.toString()};e.PlanningCatalogItem=function(){};e.PlanningCatalogItem.prototype=new e.XObject;e.PlanningCatalogItem.prototype._ff_c="PlanningCatalogItem";e.PlanningCatalogItem.createCatalogItem=function(){return new e.PlanningCatalogItem};e.PlanningCatalogItem.prototype.m_objectNameKey=null;e.PlanningCatalogItem.prototype.m_objectNameLongText=null;e.PlanningCatalogItem.prototype.m_planningOperationType=null;e.PlanningCatalogItem.prototype.getDataSource=function(){let t=this.getType();if(t===e.PlanningOperationType.PLANNING_FUNCTION){return e.QFactory.createDataSourceWithType(e.MetaObjectType.PLANNING_FUNCTION,this.getObjectNameKey())}else if(t===e.PlanningOperationType.PLANNING_SEQUENCE){return e.QFactory.createDataSourceWithType(e.MetaObjectType.PLANNING_SEQUENCE,this.getObjectNameKey())}else{return null}};e.PlanningCatalogItem.prototype.getObjectNameKey=function(){return this.m_objectNameKey};e.PlanningCatalogItem.prototype.getObjectNameLongText=function(){return this.m_objectNameLongText};e.PlanningCatalogItem.prototype.getType=function(){return this.m_planningOperationType};e.PlanningCatalogItem.prototype.releaseObject=function(){this.m_objectNameKey=null;this.m_objectNameLongText=null;this.m_planningOperationType=null;e.XObject.prototype.releaseObject.call(this)};e.PlanningCatalogItem.prototype.setObjectNameKey=function(e){this.m_objectNameKey=e};e.PlanningCatalogItem.prototype.setObjectNameLongText=function(e){this.m_objectNameLongText=e};e.PlanningCatalogItem.prototype.setType=function(e){this.m_planningOperationType=e};e.PlanningCatalogItem.prototype.toString=function(){let t=e.XStringBuffer.create();if(e.notNull(this.m_planningOperationType)){t.append(this.m_planningOperationType.toString())}t.append(": ").append(this.m_objectNameKey);if(!e.XString.isEqual(this.m_objectNameKey,this.m_objectNameLongText)){t.append(" description: ").append(this.m_objectNameLongText)}return t.toString()};e.PlanningCatalogResult=function(){};e.PlanningCatalogResult.prototype=new e.XObject;e.PlanningCatalogResult.prototype._ff_c="PlanningCatalogResult";e.PlanningCatalogResult.create=function(t,a){let l=new e.PlanningCatalogResult;l.setupExt(t,a);return l};e.PlanningCatalogResult.prototype.m_items=null;e.PlanningCatalogResult.prototype.getObjectsIterator=function(){return this.m_items.getIterator()};e.PlanningCatalogResult.prototype.releaseObject=function(){this.m_items=e.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_items);e.XObject.prototype.releaseObject.call(this)};e.PlanningCatalogResult.prototype.setupExt=function(t,a){this.m_items=e.XList.create();let l=t.getQueryModel();let n=l.getDimensionByName(e.PlanningCatalogManager.CN_OBJECT_NAME).getFirstFieldByType(e.PresentationType.KEY);let i=l.getDimensionByName(e.PlanningCatalogManager.CN_OBJECT_NAME).getFirstFieldByType(e.PresentationType.TEXT);let r=l.getDimensionByName(e.PlanningCatalogManager.CN_PLANNING_TYPE).getFirstFieldByType(e.PresentationType.KEY);let o=t.getRowsAxis();let s=o.getTuplesCount();for(let t=0;t<s;t++){let l=o.getTupleAt(t);let s=l.getStringByField(n);let g=l.getStringByField(i);let p=l.getStringByField(r);let u=e.PlanningOperationType.lookup(p);e.XObjectExt.assertNotNullExt(u,"illegal planning type");if(u===e.PlanningOperationType.PLANNING_FUNCTION){e.XBooleanUtils.checkTrue(a.isSearchOnPlanningFunctions(),"illegal planning type")}if(u===e.PlanningOperationType.PLANNING_SEQUENCE){e.XBooleanUtils.checkTrue(a.isSearchOnPlanningSequences(),"illegal planning type")}let c=e.PlanningCatalogItem.createCatalogItem();c.setType(u);c.setObjectNameKey(s);c.setObjectNameLongText(g);this.m_items.add(c)}};e.PlanningCatalogResult.prototype.toString=function(){let t=e.XStringBuffer.create();if(e.notNull(this.m_items)){for(let a=0;a<this.m_items.size();a++){let l=this.m_items.get(a);if(e.notNull(l)){t.append(l.toString())}t.appendNewLine()}}return t.toString()};e.PlanningModelCatalogItem=function(){};e.PlanningModelCatalogItem.prototype=new e.XObject;e.PlanningModelCatalogItem.prototype._ff_c="PlanningModelCatalogItem";e.PlanningModelCatalogItem.createCatalogItem=function(){return new e.PlanningModelCatalogItem};e.PlanningModelCatalogItem.prototype.m_modelName=null;e.PlanningModelCatalogItem.prototype.m_schemaName=null;e.PlanningModelCatalogItem.prototype.getDataSource=function(){let t=e.QFactory.createDataSourceWithType(e.MetaObjectType.PLANNING_MODEL,this.getModelName());let a=this.getSchemaName();if(e.XStringUtils.isNotNullAndNotEmpty(a)){t.setSchemaName(a)}return t};e.PlanningModelCatalogItem.prototype.getModelName=function(){return this.m_modelName};e.PlanningModelCatalogItem.prototype.getSchemaName=function(){return this.m_schemaName};e.PlanningModelCatalogItem.prototype.releaseObject=function(){this.m_schemaName=null;this.m_modelName=null;e.XObject.prototype.releaseObject.call(this)};e.PlanningModelCatalogItem.prototype.setModelName=function(e){this.m_modelName=e};e.PlanningModelCatalogItem.prototype.setSchemaName=function(e){this.m_schemaName=e};e.PlanningModelCatalogItem.prototype.toString=function(){return e.XStringUtils.concatenate3(this.m_schemaName," - ",this.m_modelName)};e.PlanningModelCatalogResult=function(){};e.PlanningModelCatalogResult.prototype=new e.XObject;e.PlanningModelCatalogResult.prototype._ff_c="PlanningModelCatalogResult";e.PlanningModelCatalogResult.prototype.m_customIdentifier=null;e.PlanningModelCatalogResult.prototype.m_items=null;e.PlanningModelCatalogResult.prototype.m_resultListener=null;e.PlanningModelCatalogResult.prototype.getCustomIdentifier=function(){return this.m_customIdentifier};e.PlanningModelCatalogResult.prototype.getObjectsIterator=function(){return this.m_items.getIterator()};e.PlanningModelCatalogResult.prototype.getResponsesReturnCodeStrict=function(t,a){if(e.isNull(t)||e.isNull(a)){return-1}let l=0;let n=false;let i=e.PrUtils.getStructureProperty(t,"Planning");if(e.isNull(i)){let r=e.PrUtils.getListProperty(t,"Planning");if(e.notNull(r)){n=true;for(let t=0;t<r.size();t++){i=e.PrUtils.getStructureElement(r,t);if(e.notNull(i)){let e=this.isValidPlanningStructure(i,a);if(e!==0){l=e;break}}}}}else{n=true;return this.isValidPlanningStructure(i,a)}if(!n){a.addErrorExt(e.OriginLayer.DRIVER,e.ErrorCodes.PARSER_ERROR,"Planning structure is missing",t);return 0}return l};e.PlanningModelCatalogResult.prototype.getResultListener=function(){return this.m_resultListener};e.PlanningModelCatalogResult.prototype.isValidPlanningStructure=function(t,a){let l=e.PrUtils.getIntegerValueProperty(t,"return_code",0);if(e.isNull(t)){a.addError(e.ErrorCodes.PARSER_ERROR,"Planning structure is missing");return l}let n=e.PrUtils.getStringValueProperty(t,"exception_text",null);if(e.notNull(n)){a.addErrorExt(e.OriginLayer.DRIVER,e.ErrorCodes.OTHER_ERROR,n,t);return l}let i=e.PrUtils.getStringValueProperty(t,"message",null);if(e.notNull(i)){a.addErrorExt(e.OriginLayer.DRIVER,e.ErrorCodes.OTHER_ERROR,i,t);return l}if(l!==0){let n=e.XStringBuffer.create();n.append("Error: return code ").appendInt(l);a.addErrorExt(e.OriginLayer.DRIVER,e.ErrorCodes.INVALID_STATE,n.toString(),t)}return l};e.PlanningModelCatalogResult.prototype.processResponseStructure=function(t,a){let l=this.getResponsesReturnCodeStrict(t,a);if(l!==0){return}let n=e.PrUtils.getStructureProperty(t,"Planning");let i=e.PrUtils.getListProperty(n,"models");if(e.isNull(i)){a.addErrorExt(e.OriginLayer.DRIVER,e.ErrorCodes.PARSER_ERROR,"error in processing response structure",t);return}let r=e.XList.create();for(let l=0;l<i.size();l++){let n=e.PrUtils.getStructureElement(i,l);if(e.isNull(n)){a.addErrorExt(e.OriginLayer.DRIVER,0,"error in processing response structure",t);return}let o=e.PrUtils.getStringProperty(n,"schema");if(e.isNull(o)){a.addErrorExt(e.OriginLayer.DRIVER,0,"error in processing response structure",t);return}let s=e.PrUtils.getListProperty(n,"models");if(e.isNull(s)){a.addErrorExt(e.OriginLayer.DRIVER,0,"error in processing response structure",t);return}for(let l=0;l<s.size();l++){let n=e.PrUtils.getStringElement(s,l);if(e.isNull(n)){a.addErrorExt(e.OriginLayer.DRIVER,0,"error in processing response structure",t);return}let i=e.PlanningModelCatalogItem.createCatalogItem();i.setSchemaName(o.getString());i.setModelName(n.getString());r.add(i)}}this.m_items=r};e.PlanningModelCatalogResult.prototype.releaseObject=function(){this.m_resultListener=null;this.m_customIdentifier=null;this.m_items=e.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_items);e.XObject.prototype.releaseObject.call(this)};e.PlanningModelCatalogResult.prototype.setCustomIdentifier=function(e){this.m_customIdentifier=e};e.PlanningModelCatalogResult.prototype.setResultListener=function(e){this.m_resultListener=e};e.PlanningModelCatalogResult.prototype.toString=function(){let t=e.XStringBuffer.create();if(e.notNull(this.m_items)){for(let a=0;a<this.m_items.size();a++){let l=this.m_items.get(a);if(e.notNull(l)){t.append(l.toString())}t.appendNewLine()}}return t.toString()};e.OlapFile=function(){};e.OlapFile.prototype=new e.DfXFileProvider;e.OlapFile.prototype._ff_c="OlapFile";e.OlapFile.createFile=function(t,a,l,n){let i=new e.OlapFile;i.setupOlapFile(t,a,l);i.setProviderIsExisting(true);let r=l.getPath();let o=e.XString.isEqual(a.getRootDirectoryUri().getPath(),l.getPath());if(o||e.XString.endsWith(r,"/")){i.getProviderAttributes().putString(e.XFileAttribute.NODE_TYPE,"Folder");let t=n.getByKey(e.XFileAttribute.SYSTEM_TYPE);i.getProviderAttributes().putString(e.XFileAttribute.SYSTEM_TYPE,t)}else{if(e.notNull(n)&&n.size()>0){let e=n.getKeysAsIterator();while(e.hasNext()){let t=e.next();i.getProviderAttributes().putString(t,n.getByKey(t))}}}return i};e.OlapFile.prototype.getProviderMetadataAndAttributes=function(){let t=e.PrFactory.createStructure();let a=this.getProviderMetadata();t.putAll(a);t.putAll(this.getProviderAttributes());return t};e.OlapFile.prototype.processProviderFetchChildren=function(e,t,a,l){let n=this.m_fs.processFetchChildren(this,e,t,a,l);return n};e.OlapFile.prototype.processProviderFetchMetadata=function(e,t,a,l){return this.m_fs.processFetchMetadata(this,e,t,a)};e.OlapFile.prototype.processProviderIsExisting=function(e,t,a){return this.m_fs.processIsExisting(this,e,t,a)};e.OlapFile.prototype.setupOlapFile=function(e,t,a){this.setupFile(e,t,a)};e.OlapFile.prototype.supportsProviderFetchChildren=function(){return true};e.OlapFile.prototype.supportsProviderIsExisting=function(){return true};e.OlapFile.prototype.supportsProviderParallelRequests=function(){let t=e.OlapFileUtils.isBWSystem(this.getProcess(),this.getUri().getHost());if(t){return false}return true};e.OlapCatalogProgramSubSystem=function(){};e.OlapCatalogProgramSubSystem.prototype=new e.DfSubSysFilesystem;e.OlapCatalogProgramSubSystem.prototype._ff_c="OlapCatalogProgramSubSystem";e.OlapCatalogProgramSubSystem.DEFAULT_PROGRAM_NAME="@SubSys.FileSystem.fsolapcatalog";e.OlapCatalogProgramSubSystem.prototype.m_fs=null;e.OlapCatalogProgramSubSystem.prototype.m_olapFileSystems=null;e.OlapCatalogProgramSubSystem.prototype.getAllInitializedFileSystems=function(){return this.m_olapFileSystems};e.OlapCatalogProgramSubSystem.prototype.getFileSystem=function(e){return this.m_fs};e.OlapCatalogProgramSubSystem.prototype.getFileSystemByUri=function(t){let a=t.getHost();let l;let n=this.m_olapFileSystems.getByKey(a);if(e.notNull(n)){l=n}else{if(e.notNull(a)){l=e.OlapCatalogFileSystem.createByHost(this.getProcess(),a)}else{l=e.OlapCatalogFileSystem.create(this.getProcess())}this.m_olapFileSystems.put(a,l)}this.m_fs=l;return this.m_fs};e.OlapCatalogProgramSubSystem.prototype.getProgramName=function(){return e.OlapCatalogProgramSubSystem.DEFAULT_PROGRAM_NAME};e.OlapCatalogProgramSubSystem.prototype.getProtocolType=function(){return e.ProtocolType.FS_OLAP_CATALOG};e.OlapCatalogProgramSubSystem.prototype.newProgram=function(){let t=new e.OlapCatalogProgramSubSystem;t.setup();return t};e.OlapCatalogProgramSubSystem.prototype.processFetchFileSystem=function(t,a,l,n){return e.XFsOlapCatalogActionFetch.createAndRun(t,a,l,this,n)};e.OlapCatalogProgramSubSystem.prototype.runProcess=function(){this.m_olapFileSystems=e.XHashMapByString.create();let t=this.getProcess();this.m_fs=e.OlapCatalogFileSystem.create(t);this.activateSubSystem(null,e.SubSystemStatus.ACTIVE);return true};e.OlapFileFetchAction=function(){};e.OlapFileFetchAction.prototype=new e.SyncActionExt;e.OlapFileFetchAction.prototype._ff_c="OlapFileFetchAction";e.OlapFileFetchAction.createAndRun=function(t,a,l,n,i,r,o){let s=new e.OlapFileFetchAction;s.m_file=a;s.m_ofs=l;s.m_metaDataOnly=r;s.m_FileQueryConfig=o;s.setData(a);s.setupActionAndRun(t,n,i,l);return s};e.OlapFileFetchAction.prototype.m_FileQueryConfig=null;e.OlapFileFetchAction.prototype.m_file=null;e.OlapFileFetchAction.prototype.m_metaDataOnly=false;e.OlapFileFetchAction.prototype.m_ofs=null;e.OlapFileFetchAction.prototype.callListener=function(e,t,a,l){t.onChildrenFetched(e)};e.OlapFileFetchAction.prototype.getAndSetObjects=function(t){let a=this.getOlapCatalogFileSystemDriverByHost();let l=e.OlapFileUtils.processCatalogResult(t,this.getProcess(),this.m_ofs,this.m_file,a.isDWCSystem());let n=e.XList.create();if(e.notNull(l)){for(let e=0;e<l.size();e++){n.add(l.get(e))}}this.m_file.setProviderChildFiles(n,a.getTuplesCountTotal())};e.OlapFileFetchAction.prototype.getAndSetObjectsFolders=function(t){let a=e.XList.create();let l=e.XHashMapByString.create();l.put(e.XFileAttribute.NODE_TYPE,e.OlapCatalogFileSystem.FOLDER);let n=t.getSystemType().getName();l.put(e.XFileAttribute.SYSTEM_TYPE,n);let i=e.XUri.createChildDir(this.m_file.getUri(),"Schema");let r=e.OlapFile.createFile(this.getProcess(),this.m_ofs,i,l);let o=this.getFolderMetaData("Schema",false);r.setProviderMetadata(o);a.add(r);let s=e.XUri.createChildDir(this.m_file.getUri(),"Type");let g=e.OlapFile.createFile(this.getProcess(),this.m_ofs,s,l);let p=this.getFolderMetaData("Type",false);g.setProviderMetadata(p);a.add(g);this.m_file.setProviderChildFiles(a,2)};e.OlapFileFetchAction.prototype.getFolderMetaData=function(t,a){let l=e.PrFactory.createStructure();l.putBoolean(e.XFileAttribute.IS_DIRECTORY,true);l.putString(e.XFileAttribute.DISPLAY_NAME,t);l.putBoolean(e.XFileAttribute.IS_HIDDEN,false);l.putBoolean(e.XFileAttribute.IS_EXECUTABLE,false);l.putBoolean(e.XFileAttribute.SUPPORTS_SEARCH,a);l.putBoolean(e.XFileAttribute.SUPPORTS_MAX_ITEMS,true);l.putBoolean(e.XFileAttribute.SUPPORTS_OFFSET,true);l.putBoolean(e.XFileAttribute.SUPPORTS_SINGLE_SORT,false);l.putBoolean(e.XFileAttribute.SUPPORTS_CARTESIAN_FILTER,true);return l};e.OlapFileFetchAction.prototype.getOlapCatalogFileSystemDriverByHost=function(){let e=this.m_file.getUri().getHost();let t=this.m_ofs.getOlapDrivers().getByKey(e);return t};e.OlapFileFetchAction.prototype.onOlapCatalogManagerCreated=function(t,a,l){this.addAllMessages(t);let n=this.m_file.getUri().getPath();let i=this.m_file.getUri().getHost();let r=this.m_ofs.getOlapDrivers().getByKey(i);if(e.notNull(t)&&!t.hasErrors()){try{r.setCatalogManager(t.getData());if(e.XString.isEqual(n,e.XFile.SLASH)){this.getAndSetObjectsFolders(r);this.endSync()}else if(this.m_metaDataOnly){let t=this.m_file.getName();if(e.XString.isEqual(t,"Schema")||e.XString.isEqual(t,"Type")){let e=this.getFolderMetaData(t,false);this.m_file.setProviderMetadata(e);this.endSync()}else{r.getObjectByName(this.m_file.getName(),this,e.SyncType.NON_BLOCKING)}}else{let t=this.m_file.getName();let a=e.MetaObjectType.lookup(t);if(e.notNull(a)){r.getObjectsByType(a,this,e.SyncType.NON_BLOCKING,this.m_FileQueryConfig)}}}catch(t){this.addError(e.ErrorCodes.OTHER_ERROR,"Error occurred while retrieving files.");this.onOlapCatalogResult(null,null,null)}}else{this.onOlapCatalogResult(null,null,null)}};e.OlapFileFetchAction.prototype.onOlapCatalogResult=function(t,a,l){if(e.notNull(t)){this.addAllMessages(t)}if(e.notNull(a)){this.getAndSetObjects(a)}else{let t=e.XList.create();this.m_file.setProviderChildFiles(t,-1)}let n=this.getOlapCatalogFileSystemDriverByHost();n.resetSearchFlags();this.endSync()};e.OlapFileFetchAction.prototype.processSynchronization=function(t){let a=this.m_file.getUri().getHost();let l=this.m_ofs.getOlapDrivers().getByKey(a);let n=true;if(e.isNull(l)){l=new e.OlapCatalogFileSystemDriver;this.m_ofs.getOlapDrivers().put(a,l)}if(!l.isCatalogManagerInitialised()||!e.XString.isEqual(a,l.getSystemName())){this.setupCatalogManager(t,a,l)}else{n=this.processTargetUri(t,l)}return n};e.OlapFileFetchAction.prototype.processTargetUri=function(t,a){let l=true;let n=this.m_file.getUri().getPath();let i=this.m_file.getName();try{if(this.m_metaDataOnly){if(e.XString.isEqual(i,"Schema")||e.XString.isEqual(i,"Type")){let e=this.getFolderMetaData(i,false);this.m_file.setProviderMetadata(e);l=false}else{a.getObjectByName(this.m_file.getName(),this,e.SyncType.NON_BLOCKING)}}else{if(e.XString.isEqual(n,e.XFile.SLASH)){this.getAndSetObjectsFolders(a);l=false}else if(e.XString.containsString(n,"Schema/")&&!e.XString.isEqual(i,"Schema")){a.getObjectsBySchema(i,this,t,this.m_FileQueryConfig)}else if(e.XString.containsString(n,"Type/")&&!e.XString.isEqual(i,"Type")){let l=this.m_file.getName();let n=e.MetaObjectType.lookup(l);a.getObjectsByType(n,this,t,this.m_FileQueryConfig)}else if(e.XString.isEqual(i,"Schema")){let t=a.getAllSchemas(this.m_FileQueryConfig);if(e.notNull(t)){this.setChildFiles(a,t,false)}l=false}else if(e.XString.isEqual(i,"Type")){let t=a.getAllObjectTypes();if(e.notNull(t)){this.setChildFiles(a,t,false)}l=false}else{let l=e.MetaObjectType.lookup(i);if(e.notNull(l)){a.getObjectsByType(l,this,t,this.m_FileQueryConfig)}}}}catch(t){this.addError(e.ErrorCodes.OTHER_ERROR,"Error occurred while retrieving files.");this.onOlapCatalogResult(null,null,null)}return l};e.OlapFileFetchAction.prototype.releaseObjectInternal=function(){this.m_ofs=null;this.m_file=null};e.OlapFileFetchAction.prototype.setChildFiles=function(t,a,l){let n=a.getData().getIterator();let i=e.XList.create();while(n.hasNext()){let a=e.XHashMapByString.create();a.put(e.XFileAttribute.NODE_TYPE,e.OlapCatalogFileSystem.FOLDER);let r=t.getSystemType().getName();a.put(e.XFileAttribute.SYSTEM_TYPE,r);if(t.isDWCSystem()){a.put(e.XFileAttribute.ICON,this.m_ofs.getIconByName("SPACE"))}let o=n.next();if(e.notNull(o)&&e.XString.size(o.getName())>0){let t=e.XString.toLowerCase(o.getName());if(e.OlapFileUtils.isValidSchemaName(t)){let n=e.XUri.createChildFile(this.m_file.getUri(),t);let r=e.OlapFile.createFile(this.getProcess(),this.m_ofs,n,a);let o=this.getFolderMetaData(t,l);r.setProviderMetadata(o);i.add(r)}}}this.m_file.setProviderChildFiles(i,t.getTuplesCountTotal())};e.OlapFileFetchAction.prototype.setupCatalogManager=function(t,a,l){try{l.setupCatalogManager(this.getProcess(),a,t,this)}catch(t){this.addError(e.ErrorCodes.OTHER_ERROR,"Error occurred while retrieving files.");this.onOlapCatalogResult(null,null,null)}};e.XFsOlapCatalogActionFetch=function(){};e.XFsOlapCatalogActionFetch.prototype=new e.SyncActionExt;e.XFsOlapCatalogActionFetch.prototype._ff_c="XFsOlapCatalogActionFetch";e.XFsOlapCatalogActionFetch.createAndRun=function(t,a,l,n,i){let r=new e.XFsOlapCatalogActionFetch;r.m_uri=i;r.setupActionAndRun(t,a,l,n);return r};e.XFsOlapCatalogActionFetch.prototype.m_uri=null;e.XFsOlapCatalogActionFetch.prototype.callListener=function(e,t,a,l){t.onFileSystemFetched(e,a,l)};e.XFsOlapCatalogActionFetch.prototype.processSynchronization=function(e){let t=this.getActionContext().getFileSystemByUri(this.m_uri);this.setData(t);return false};e.OlapCatalogFileSystem=function(){};e.OlapCatalogFileSystem.prototype=new e.DfXFileSystem;e.OlapCatalogFileSystem.prototype._ff_c="OlapCatalogFileSystem";e.OlapCatalogFileSystem.CHILDREN="children";e.OlapCatalogFileSystem.DIRECTORY_SEPERATOR="/";e.OlapCatalogFileSystem.FOLDER="Folder";e.OlapCatalogFileSystem.NAME="name";e.OlapCatalogFileSystem.create=function(t){let a=new e.OlapCatalogFileSystem;a.setupProcessContext(t);a.setupIcons();return a};e.OlapCatalogFileSystem.createByHost=function(t,a){let l=new e.OlapCatalogFileSystem;let n=new e.OlapCatalogFileSystemDriver;l.m_olapDrivers=e.XHashMapByString.create();l.m_olapDrivers.put(a,n);l.setupIcons();l.setupProcessContext(t);return l};e.OlapCatalogFileSystem.prototype.m_fs=null;e.OlapCatalogFileSystem.prototype.m_iconMap=null;e.OlapCatalogFileSystem.prototype.m_olapDrivers=null;e.OlapCatalogFileSystem.prototype.m_rootFile=null;e.OlapCatalogFileSystem.prototype.getAttributes=function(t){let a=null;let l=t.getTargetUriPath();let n=this.getFileStructure(l);if(e.notNull(n)){a=n.getStructureByKey("attributes")}if(e.isNull(a)){a=e.DfXFileSystem.prototype.getAttributes.call(this,t)}return a};e.OlapCatalogFileSystem.prototype.getChildren=function(t){let a=e.XList.create();let l=t.getTargetUriPath();let n=t.getUri().getHost();let i=this.m_olapDrivers.getByKey(n);if(e.XString.isEqual(l,e.OlapCatalogFileSystem.DIRECTORY_SEPERATOR)){let l=this.m_olapDrivers.getByKey(n).createFsObjectsFolderDefinition();let r=l.getData().getIterator();while(r.hasNext()){let l=e.XHashMapByString.create();l.put(e.XFileAttribute.NODE_TYPE,e.OlapCatalogFileSystem.FOLDER);let n=i.getSystemType().getName();l.put(e.XFileAttribute.SYSTEM_TYPE,n);let o=r.next();let s=e.XString.toLowerCase(o.getName());let g=e.XUri.createChildFile(t.getTargetUri(),s);let p=e.OlapFile.createFile(this.getProcess(),this,g,l);a.add(p)}}else{let l=t.getName();let n=e.MetaObjectType.lookup(l);if(e.notNull(n)){let l=i.getObjectsByType(n,null,e.SyncType.BLOCKING,null);a=e.OlapFileUtils.processCatalogResult(l.getData(),this.getProcess(),this,t,i.isDWCSystem())}}return a};e.OlapCatalogFileSystem.prototype.getFileStructure=function(t){let a=null;if(e.XString.startsWith(t,e.OlapCatalogFileSystem.DIRECTORY_SEPERATOR)===true){a=this.m_fs;let l=e.XStringTokenizer.splitString(t,e.OlapCatalogFileSystem.DIRECTORY_SEPERATOR);if(e.XStringUtils.isNullOrEmpty(l.get(0))){l.removeAt(0)}let n=l.size();if(n>0){if(e.XStringUtils.isNullOrEmpty(l.get(n-1))){l.removeAt(n-1)}}for(let t=0;t<l.size()&&e.notNull(a);t++){let n=l.get(t);let i=a.getListByKey(e.OlapCatalogFileSystem.CHILDREN);a=null;if(e.notNull(i)){for(let t=0;t<i.size();t++){let l=i.getStructureAt(t);let r=l.getStringByKey(e.OlapCatalogFileSystem.NAME);if(e.XString.isEqual(n,r)){a=l;break}}}}}return a};e.OlapCatalogFileSystem.prototype.getFileType=function(t){if(this.isDirectoryExt(t)){return e.XFileType.DIR}else{return e.XFileType.FILE}};e.OlapCatalogFileSystem.prototype.getIconByName=function(e){return this.m_iconMap.getByKey(e)};e.OlapCatalogFileSystem.prototype.getOlapDrivers=function(){return this.m_olapDrivers};e.OlapCatalogFileSystem.prototype.getProtocolType=function(){return e.ProtocolType.FS_OLAP_CATALOG};e.OlapCatalogFileSystem.prototype.isDirectoryExt=function(t){let a=t.getTargetUriPath();let l=this.getFileStructure(a);return e.notNull(l)?l.containsKey(e.OlapCatalogFileSystem.CHILDREN):false};e.OlapCatalogFileSystem.prototype.isExistingExt=function(t){let a=t.getTargetUriPath();let l=this.getFileStructure(a);return e.notNull(l)};e.OlapCatalogFileSystem.prototype.isFileExt=function(e){return!this.isDirectoryExt(e)};e.OlapCatalogFileSystem.prototype.newFile=function(t,a){let l=e.OlapFile.createFile(t,this,a,e.XHashMapByString.create());if(e.notNull(this.m_rootFile)&&e.XString.isEqual(a.getPath(),e.OlapCatalogFileSystem.DIRECTORY_SEPERATOR)){let t=a.getHost();if(!e.XString.isEqual(t,this.m_rootFile.getUri().getHost())){this.m_rootFile=l}return this.m_rootFile}else if(e.XString.isEqual(a.getPath(),e.OlapCatalogFileSystem.DIRECTORY_SEPERATOR)){this.m_rootFile=l}return l};e.OlapCatalogFileSystem.prototype.processFetchChildren=function(t,a,l,n,i){return e.OlapFileFetchAction.createAndRun(a,t,this,e.OlapFileRequestListener2.create(t=>{let a=t.getData();if(e.notNull(l)){l.onFileProviderChildrenFetched(t,a,a.getProviderChildFiles(),a.getProviderChildrenResultset(),n)}}),n,false,i)};e.OlapCatalogFileSystem.prototype.processFetchMetadata=function(t,a,l,n){let i=e.OlapFileFetchAction.createAndRun(a,t,this,e.OlapFileRequestListener2.create(t=>{let a=t.getData();if(e.notNull(l)){l.onFileProviderFetchMetadata(t,a,a.getProviderMetadataAndAttributes(),n)}}),n,true,null);return i};e.OlapCatalogFileSystem.prototype.processIsExisting=function(t,a,l,n){let i=e.OlapFileFetchAction.createAndRun(a,t,this,e.OlapFileRequestListener2.create(t=>{let a=t.getData();if(e.notNull(l)){l.onFileProviderExistsCheck(t,a,a.getProviderIsExisting(),n)}}),n,true,null);return i};e.OlapCatalogFileSystem.prototype.setupIcons=function(){this.m_iconMap=e.XLinkedHashMapByString.create();let t="sap-icon://fpa/";let a="sap-icon://";this.m_iconMap.put("CUBE",e.XStringUtils.concatenate2(t,"live-model"));this.m_iconMap.put("DATASET",e.XStringUtils.concatenate2(t,"fact-view"));this.m_iconMap.put("SPACE",e.XStringUtils.concatenate2(a,"curriculum"))};e.OlapCatalogService=function(){};e.OlapCatalogService.prototype=new e.DfService;e.OlapCatalogService.prototype._ff_c="OlapCatalogService";e.OlapCatalogService.CLAZZ=null;e.OlapCatalogService.staticSetup=function(){e.OlapCatalogService.CLAZZ=e.XClass.create(e.OlapCatalogService)};e.OlapCatalogService.prototype.m_catalogManager=null;e.OlapCatalogService.prototype.m_queryManager=null;e.OlapCatalogService.prototype.getCatalogManager=function(){if(e.isNull(this.m_catalogManager)){this.m_catalogManager=this.newCatalogManager()}return this.m_catalogManager};e.OlapCatalogService.prototype.newCatalogManager=function(){let t=e.OlapCatalogManager2.create(this.m_queryManager);return t};e.OlapCatalogService.prototype.onQueryManagerCreated=function(t,a,l){this.addAllMessages(t);if(t.isValid()){this.m_queryManager=a;if(a.getSession().hasFeature(e.FeatureToggleOlap.OPTIMIZE_MDS_CATALOG)&&a.supportsReturnedDataSelection()&&a.getSystemType().isTypeOf(e.SystemType.HANA)){a.queueEventing();let t=a.getQueryModel();t.toggleReturnedDataSelection(e.ReturnedDataSelection.ACTIONS,false);t.toggleReturnedDataSelection(e.ReturnedDataSelection.CELL_DATA_TYPE,false);t.toggleReturnedDataSelection(e.ReturnedDataSelection.CELL_FORMAT,false);t.toggleReturnedDataSelection(e.ReturnedDataSelection.CELL_VALUE_TYPES,false);t.toggleReturnedDataSelection(e.ReturnedDataSelection.EXCEPTION_SETTINGS,false);t.toggleReturnedDataSelection(e.ReturnedDataSelection.EXCEPTIONS,false);t.toggleReturnedDataSelection(e.ReturnedDataSelection.INPUT_READINESS_STATES,false);t.toggleReturnedDataSelection(e.ReturnedDataSelection.NUMERIC_ROUNDING,false);t.toggleReturnedDataSelection(e.ReturnedDataSelection.NUMERIC_SHIFT,false);t.toggleReturnedDataSelection(e.ReturnedDataSelection.UNIT_DESCRIPTIONS,false);t.toggleReturnedDataSelection(e.ReturnedDataSelection.UNIT_TYPES,false);t.toggleReturnedDataSelection(e.ReturnedDataSelection.UNITS,false);t.toggleReturnedDataSelection(e.ReturnedDataSelection.VALUES,false);t.toggleReturnedDataSelection(e.ReturnedDataSelection.VALUES_FORMATTED,false);t.toggleReturnedDataSelection(e.ReturnedDataSelection.VALUES_ROUNDED,false);t.toggleReturnedDataSelection(e.ReturnedDataSelection.TUPLE_DISPLAY_LEVEL,false);t.toggleReturnedDataSelection(e.ReturnedDataSelection.TUPLE_DRILL_STATE,false);t.toggleReturnedDataSelection(e.ReturnedDataSelection.TUPLE_LEVEL,false);t.toggleReturnedDataSelection(e.ReturnedDataSelection.TUPLE_PARENT_INDEXES,false);a.resumeEventing()}}this.endSync()};e.OlapCatalogService.prototype.processSynchronization=function(t){let a=this.getServiceConfig();let l=e.QueryServiceConfig.create(this.getApplication());l.setSystemName(a.getSystemName());let n=e.QFactory.createDataSourceWithType(a.getMetaObjectType(),"$$DataSource$$");l.setDataSource(n);l.setProviderType(e.ProviderType.ANALYTICS);l.setConnectionContainer(this.getConnection());l.processQueryManagerCreation(t,this,null);return true};e.OlapCatalogService.prototype.releaseObjectInternal=function(){this.m_catalogManager=e.XObjectExt.release(this.m_catalogManager);e.DfService.prototype.releaseObjectInternal.call(this)};e.PlanningCatalogService=function(){};e.PlanningCatalogService.prototype=new e.DfService;e.PlanningCatalogService.prototype._ff_c="PlanningCatalogService";e.PlanningCatalogService.CLAZZ=null;e.PlanningCatalogService.staticSetup=function(){e.PlanningCatalogService.CLAZZ=e.XClass.create(e.PlanningCatalogService)};e.PlanningCatalogService.prototype.m_catalogManager=null;e.PlanningCatalogService.prototype.getCatalogManager=function(){return this.m_catalogManager};e.PlanningCatalogService.prototype.onQueryManagerCreated=function(t,a,l){this.addAllMessages(t);if(t.isValid()){this.m_catalogManager=e.PlanningCatalogManager.create(a)}this.endSync()};e.PlanningCatalogService.prototype.processSynchronization=function(t){let a=this.getServiceConfig();let l=e.QueryServiceConfig.create(this.getApplication());l.setSystemName(a.getSystemName());let n=e.QFactory.createDataSourceWithType(e.MetaObjectType.CATALOG_VIEW,"$$DataSource$$");l.setDataSource(n);l.setProviderType(e.ProviderType.PLANNING);l.setConnectionContainer(this.getConnection());l.processQueryManagerCreation(t,this,null);return true};e.PlanningCatalogService.prototype.releaseObjectInternal=function(){this.m_catalogManager=e.XObjectExt.release(this.m_catalogManager);e.DfService.prototype.releaseObjectInternal.call(this)};e.PlanningCatalogServiceConfig=function(){};e.PlanningCatalogServiceConfig.prototype=new e.DfServiceConfig;e.PlanningCatalogServiceConfig.prototype._ff_c="PlanningCatalogServiceConfig";e.PlanningCatalogServiceConfig.CLAZZ=null;e.PlanningCatalogServiceConfig.staticSetup=function(){e.PlanningCatalogServiceConfig.CLAZZ=e.XClass.create(e.PlanningCatalogServiceConfig)};e.PlanningCatalogServiceConfig.prototype.callListener=function(e,t,a,l){t.onPlanningCatalogManagerCreated(e,a,l)};e.PlanningCatalogServiceConfig.prototype.processPlanningCatalogManagerCreation=function(e,t,a){return this.processSyncAction(e,t,a)};e.PlanningCatalogServiceConfig.prototype.setDataFromService=function(e){this.setData(e.getCatalogManager())};e.PlanningModelCatalogService=function(){};e.PlanningModelCatalogService.prototype=new e.DfService;e.PlanningModelCatalogService.prototype._ff_c="PlanningModelCatalogService";e.PlanningModelCatalogService.CLAZZ=null;e.PlanningModelCatalogService.staticSetup=function(){e.PlanningModelCatalogService.CLAZZ=e.XClass.create(e.PlanningModelCatalogService)};e.PlanningModelCatalogService.prototype.m_catalogManager=null;e.PlanningModelCatalogService.prototype.getCatalogManager=function(){return this.m_catalogManager};e.PlanningModelCatalogService.prototype.getOlapEnv=function(){return this.getApplication().getOlapEnvironment()};e.PlanningModelCatalogService.prototype.isServiceConfigMatching=function(t,a,l){let n=t.getSystemType();if(e.isNull(n)){this.addError(e.ErrorCodes.INVALID_SYSTEM,"illegal system type");return false}if(!n.isTypeOf(e.SystemType.HANA)){this.addErrorExt(e.OriginLayer.DRIVER,e.ErrorCodes.INVALID_SYSTEM,"illegal system type",n);return false}return true};e.PlanningModelCatalogService.prototype.processSynchronization=function(t){this.m_catalogManager=e.PlanningModelCatalogManager.create(this);return false};e.PlanningModelCatalogService.prototype.releaseObjectInternal=function(){this.m_catalogManager=e.XObjectExt.release(this.m_catalogManager);e.DfService.prototype.releaseObjectInternal.call(this)};e.PlanningModelCatalogServiceConfig=function(){};e.PlanningModelCatalogServiceConfig.prototype=new e.DfServiceConfig;e.PlanningModelCatalogServiceConfig.prototype._ff_c="PlanningModelCatalogServiceConfig";e.PlanningModelCatalogServiceConfig.CLAZZ=null;e.PlanningModelCatalogServiceConfig.staticSetup=function(){e.PlanningModelCatalogServiceConfig.CLAZZ=e.XClass.create(e.PlanningModelCatalogServiceConfig)};e.PlanningModelCatalogServiceConfig.prototype.callListener=function(e,t,a,l){t.onPlanningModelCatalogManagerCreated(e,a,l)};e.PlanningModelCatalogServiceConfig.prototype.processPlanningModelCatalogManagerCreation=function(e,t,a){return this.processSyncAction(e,t,a)};e.PlanningModelCatalogServiceConfig.prototype.setDataFromService=function(e){this.setData(e.getCatalogManager())};e.OlapCatalogManager2=function(){};e.OlapCatalogManager2.prototype=new e.QOlapSyncAction;e.OlapCatalogManager2.prototype._ff_c="OlapCatalogManager2";e.OlapCatalogManager2.CN_BASEDATASOURCE="BaseDataSource";e.OlapCatalogManager2.CN_BASEDATASOURCE_OBJECTNAME="BaseDataSourceObjectName";e.OlapCatalogManager2.CN_BASEDATASOURCE_PACKAGENAME="BaseDataSourcePackageName";e.OlapCatalogManager2.CN_BASEDATASOURCE_SCHEMANAME="BaseDataSourceSchemaName";e.OlapCatalogManager2.CN_BASEDATASOURCE_TYPE="BaseDataSourceType";e.OlapCatalogManager2.CN_CURRENCY="Currency";e.OlapCatalogManager2.CN_CURRENCY_TARGET="Target";e.OlapCatalogManager2.CN_CURRENCY_TRANSLATION_NAME="Name";e.OlapCatalogManager2.CN_DATA_CATEGORY="DataCategory";e.OlapCatalogManager2.CN_FORMULA_OPERATORS="FormulaOperators";e.OlapCatalogManager2.CN_FORMULA_OPERATORS_OPERANDS_NUMBER="FormulaOperators.OPERANDS_NUMBER";e.OlapCatalogManager2.CN_INTERNAL_TYPE="InternalType";e.OlapCatalogManager2.CN_OBJECT="ObjectName";e.OlapCatalogManager2.CN_OBJECT_IS_PLANQUERY="ObjectName.IS_PLANQUERY";e.OlapCatalogManager2.CN_OBJECT_MDX_FLAG="ObjectName.MDX_FLAG";e.OlapCatalogManager2.CN_PACKAGE="PackageName";e.OlapCatalogManager2.CN_PLANNING_MODEL_NAME="ModelName";e.OlapCatalogManager2.CN_PLANNING_MODEL_SCHEMA_NAME="ModelSchemaName";e.OlapCatalogManager2.CN_QUERY_ALIAS="QueryAlias";e.OlapCatalogManager2.CN_SCHEMA="SchemaName";e.OlapCatalogManager2.CN_TYPE="Type";e.OlapCatalogManager2.create=function(t){let a=new e.OlapCatalogManager2;a.setupCatalogManager(t);return a};e.OlapCatalogManager2.prototype.m_baseDataSourceFilter=null;e.OlapCatalogManager2.prototype.m_baseDataSourceFilterList=null;e.OlapCatalogManager2.prototype.m_baseDataSourceTypeFilter=null;e.OlapCatalogManager2.prototype.m_catalogResult=null;e.OlapCatalogManager2.prototype.m_categoryFilter=null;e.OlapCatalogManager2.prototype.m_interestedCurrency=null;e.OlapCatalogManager2.prototype.m_internalTypeExcludeList=null;e.OlapCatalogManager2.prototype.m_internalTypeIncludeList=null;e.OlapCatalogManager2.prototype.m_isSearchOnName=false;e.OlapCatalogManager2.prototype.m_isSearchOnPackage=false;e.OlapCatalogManager2.prototype.m_isSearchOnSchema=false;e.OlapCatalogManager2.prototype.m_isSearchOnText=false;e.OlapCatalogManager2.prototype.m_isTransientInfoProvidersIncluded=false;e.OlapCatalogManager2.prototype.m_packageComparisonOperator=null;e.OlapCatalogManager2.prototype.m_packageFilter=null;e.OlapCatalogManager2.prototype.m_planQueryFilter=null;e.OlapCatalogManager2.prototype.m_schema=null;e.OlapCatalogManager2.prototype.m_textFilter=null;e.OlapCatalogManager2.prototype.m_type=null;e.OlapCatalogManager2.prototype.m_types=null;e.OlapCatalogManager2.prototype.m_withOtherFiltersPackage=null;e.OlapCatalogManager2.prototype.addFilterToRoot=function(e,t){if(t.hasElements()){e.add(t)}};e.OlapCatalogManager2.prototype.addSelectedType=function(t){if(!this.supportsCombinedSearch()){throw e.XException.createIllegalArgumentException("More than 1 Metaobject types not supported")}this.ensureTypeIsSelectable(t);this.m_types.add(t);this.resetSyncState()};e.OlapCatalogManager2.prototype.callListener=function(e,t,a,l){t.onOlapCatalogResult(e,a,l)};e.OlapCatalogManager2.prototype.clearSearchFlags=function(){this.m_isSearchOnName=false;this.m_isSearchOnText=false;this.m_isSearchOnSchema=false;this.m_isSearchOnPackage=false};e.OlapCatalogManager2.prototype.createAndAddFilterOp=function(t,a,l,n,i){let r=this.getQueryManager().getQueryModel();let o=r.getFilter().getDynamicFilter();let s=null;if(e.notNull(n)){s=r.getDimensionByName(n)}if(e.notNull(s)){let n=s.getFirstFieldByType(i);let r=e.QFactory.createFilterOperationWithOperator(o,n,l);r.setLowString(t);a.add(r)}};e.OlapCatalogManager2.prototype.createFilterElementsInCartesianList=function(t,a,l){let n=this.getQueryManager().getQueryModel();let i=n.getFilter().getDynamicFilter();let r=n.getDimensionByName(e.OlapCatalogManager2.CN_TYPE);let o=r.getFirstFieldByType(e.PresentationType.KEY);let s=e.QFactory.createFilterCartesianListWithField(i,o);l.add(s);for(let l=0;l<t;l++){let t=a.get(l).getCamelCaseName();let n=s.addNewCartesianElement();n.setComparisonOperator(e.ComparisonOperator.EQUAL);n.setLowString(t)}};e.OlapCatalogManager2.prototype.determineComparisonOperator=function(t,a){if(e.notNull(t)){return t}if(e.XString.containsString(a,"*")){return e.ComparisonOperator.MATCH}return e.ComparisonOperator.EQUAL};e.OlapCatalogManager2.prototype.ensureTypeIsSelectable=function(t){if(this.isLightweightSearch()){if(t!==e.MetaObjectType.QUERY&&t!==e.MetaObjectType.DEFAULT_REPORT_QUERY&&t!==e.MetaObjectType.DEFAULT_PLAN_QUERY&&t!==e.MetaObjectType.FILTER&&t!==e.MetaObjectType.INFOPROVIDER&&t!==e.MetaObjectType.ALVL&&t!==e.MetaObjectType.INFOOBJECT&&t!==e.MetaObjectType.PLANNING_SEQUENCE&&t!==e.MetaObjectType.PLANNING_FUNCTION&&t!==e.MetaObjectType.QUERY_VIEW&&t!==e.MetaObjectType.CDS_PROJECTION_VIEW){throw e.XException.createIllegalArgumentException("Only these types are supported when using the lightweight catalog manager: QUERY, DEFAULT_REPORT_QUERY, DEFAULT_PLAN_QUERY, FILTER, INFOPROVIDER, ALVL, INFOOBJECT, PLANNING_SEQUENCE, PLANNING_FUNCTION, QUERY_VIEW")}}};e.OlapCatalogManager2.prototype.getAllMember=function(t,a,l,n,i){let r=this.getQueryManager().getQueryModel();let o=r.getConvenienceCommands();o.resetToDefault();if(e.notNull(l)){o.addSingleMemberFilterByDimensionName(e.OlapCatalogManager2.CN_TYPE,l.getCamelCaseName(),e.ComparisonOperator.EQUAL)}if(e.notNull(n)){o.addSingleMemberFilterByDimensionName(e.OlapCatalogManager2.CN_SCHEMA,n,e.ComparisonOperator.EQUAL)}if(e.notNull(i)){o.addSingleMemberFilterByDimensionName(e.OlapCatalogManager2.CN_PACKAGE,i,e.ComparisonOperator.EQUAL)}o.clearAxis(e.AxisType.ROWS);o.moveDimensionOnAxisTo(a,e.AxisType.ROWS,0);o.addFieldByTypeToResultSet(a,e.PresentationType.KEY);o.addFieldByTypeToResultSet(a,e.PresentationType.TEXT);let s=this.getQueryManager().processQueryExecution(e.SyncType.BLOCKING,null,null);let g=e.XList.create();let p=r.getDimensionByName(a);if(s.isValid()&&e.notNull(p)){let a=p.getKeyField();let l=p.getTextField();let n=s.getData().getClassicResultSet();let i=n.getRowsAxis();let r=i.getTuplesCount();for(let n=0;n<r;n++){let r=i.getTupleAt(n);let o=r.getStringByField(a);let s=o;if(e.notNull(l)){s=r.getStringByField(l)}g.add(e.XHierarchyElement.createHierarchyElement(t,o,s))}}return e.ExtResult.create(g,s)};e.OlapCatalogManager2.prototype.getAllObjects=function(t,a,l){return this.getAllMember(e.OlapComponentType.CATALOG_OBJECT,e.OlapCatalogManager2.CN_OBJECT,t,a,l)};e.OlapCatalogManager2.prototype.getAllPackages=function(t,a){return this.getAllMember(e.OlapComponentType.CATALOG_PACKAGE,e.OlapCatalogManager2.CN_PACKAGE,t,a,null)};e.OlapCatalogManager2.prototype.getAllSchemas=function(t){return this.getAllMember(e.OlapComponentType.CATALOG_SCHEMA,e.OlapCatalogManager2.CN_SCHEMA,t,null,null)};e.OlapCatalogManager2.prototype.getAllTypes=function(){return this.getAllMember(e.OlapComponentType.CATALOG_TYPE,e.OlapCatalogManager2.CN_TYPE,null,null,null)};e.OlapCatalogManager2.prototype.getBaseDataSourceFilter=function(){return this.m_baseDataSourceFilter};e.OlapCatalogManager2.prototype.getBaseDataSourceFilterList=function(){return this.m_baseDataSourceFilterList};e.OlapCatalogManager2.prototype.getBaseDataSourceTypeFilterList=function(){return this.m_baseDataSourceTypeFilter};e.OlapCatalogManager2.prototype.getDataCategoryFilter=function(){return this.m_categoryFilter};e.OlapCatalogManager2.prototype.getInternalTypeExcludeList=function(){return this.m_internalTypeExcludeList};e.OlapCatalogManager2.prototype.getInternalTypeIncludeList=function(){return this.m_internalTypeIncludeList};e.OlapCatalogManager2.prototype.getPackageFilter=function(){return this.m_packageFilter};e.OlapCatalogManager2.prototype.getPlanQueryFilter=function(){return this.m_planQueryFilter};e.OlapCatalogManager2.prototype.getResultMaxSize=function(){return this.getQueryManager().getMaxRows()};e.OlapCatalogManager2.prototype.getResultOffset=function(){return this.getQueryManager().getOffsetRows()};e.OlapCatalogManager2.prototype.getSchema=function(){return this.m_schema};e.OlapCatalogManager2.prototype.getSearchFilter=function(){return this.m_textFilter};e.OlapCatalogManager2.prototype.getSelectedType=function(){return this.m_type};e.OlapCatalogManager2.prototype.getSelectedTypes=function(){return this.m_types};e.OlapCatalogManager2.prototype.getSystemType=function(){let t=this.getQueryManagerBase();if(e.isNull(t)){return null}let a=t.getSystemType();return a};e.OlapCatalogManager2.prototype.isLightweightSearch=function(){let t=this.getQueryManagerBase();return e.notNull(t)&&t.isLightweightSearch()};e.OlapCatalogManager2.prototype.isSearchOnName=function(){return this.m_isSearchOnName};e.OlapCatalogManager2.prototype.isSearchOnPackage=function(){return this.m_isSearchOnPackage};e.OlapCatalogManager2.prototype.isSearchOnSchema=function(){return this.m_isSearchOnSchema};e.OlapCatalogManager2.prototype.isSearchOnText=function(){return this.m_isSearchOnText};e.OlapCatalogManager2.prototype.isTransientInfoProvidersIncluded=function(){return this.m_isTransientInfoProvidersIncluded};e.OlapCatalogManager2.prototype.onQueryExecuted=function(t,a,l){this.addAllMessages(t);if(t.isValid()){let t=a.getClassicResultSet();this.m_catalogResult=e.OlapCatalogResult.create(t,this.m_interestedCurrency);this.setData(this.m_catalogResult)}this.endSync()};e.OlapCatalogManager2.prototype.processGetResult=function(e,t,a){return this.processSyncAction(e,t,a)};e.OlapCatalogManager2.prototype.processSynchronization=function(t){let a=e.XList.create();a.add(e.OlapCatalogManager2.CN_TYPE);a.add(e.OlapCatalogManager2.CN_SCHEMA);a.add(e.OlapCatalogManager2.CN_PACKAGE);a.add(e.OlapCatalogManager2.CN_OBJECT);a.add(e.OlapCatalogManager2.CN_BASEDATASOURCE);let l=this.getQueryManager();let n=l.getQueryModel();let i=n.getModelCapabilities();if(i.supportsMetadataDataCategory()){a.add(e.OlapCatalogManager2.CN_DATA_CATEGORY)}if(this.getSession().hasFeature(e.FeatureToggleOlap.QUERY_ALIAS_FROM_CATALOG)){a.add(e.OlapCatalogManager2.CN_QUERY_ALIAS)}a.add(e.OlapCatalogManager2.CN_INTERNAL_TYPE);a.add(e.OlapCatalogManager2.CN_BASEDATASOURCE_TYPE);a.add(e.OlapCatalogManager2.CN_BASEDATASOURCE_SCHEMANAME);a.add(e.OlapCatalogManager2.CN_BASEDATASOURCE_PACKAGENAME);a.add(e.OlapCatalogManager2.CN_BASEDATASOURCE_OBJECTNAME);a.add(e.OlapCatalogManager2.CN_PLANNING_MODEL_NAME);a.add(e.OlapCatalogManager2.CN_PLANNING_MODEL_SCHEMA_NAME);let r=n.getConvenienceCommands();r.resetToDefault();if(e.notNull(this.m_schema)){r.addSingleMemberFilterByDimensionName(e.OlapCatalogManager2.CN_SCHEMA,this.m_schema,e.ComparisonOperator.EQUAL)}r.clearAxis(e.AxisType.ROWS);for(let t=0;t<a.size();t++){let l=a.get(t);if(n.getDimensionByName(l)!==null){r.moveDimensionToAxis(l,e.AxisType.ROWS);r.addFieldByTypeToResultSet(l,e.PresentationType.KEY);r.addFieldByTypeToResultSet(l,e.PresentationType.TEXT)}}r.addFieldToResultSet(e.OlapCatalogManager2.CN_OBJECT,e.OlapCatalogManager2.CN_OBJECT_IS_PLANQUERY);r.addFieldToResultSet(e.OlapCatalogManager2.CN_OBJECT,e.OlapCatalogManager2.CN_OBJECT_MDX_FLAG);if(this.supportsCombinedSearch()){this.setupFilterComplex()}else{this.setupFilterSimple()}l.processQueryExecution(t,this,null);return true};e.OlapCatalogManager2.prototype.releaseObjectInternal=function(){this.m_type=null;this.m_textFilter=null;this.m_categoryFilter=null;this.m_packageFilter=null;this.m_baseDataSourceFilter=null;this.m_baseDataSourceFilterList=e.XObjectExt.release(this.m_baseDataSourceFilterList);this.m_internalTypeIncludeList=e.XObjectExt.release(this.m_internalTypeIncludeList);this.m_internalTypeExcludeList=e.XObjectExt.release(this.m_internalTypeExcludeList);this.m_baseDataSourceTypeFilter=e.XObjectExt.release(this.m_baseDataSourceTypeFilter);this.m_planQueryFilter=null;this.m_catalogResult=e.XObjectExt.release(this.m_catalogResult);this.m_withOtherFiltersPackage=null;this.m_packageComparisonOperator=null;this.m_types=e.XObjectExt.release(this.m_types);this.m_interestedCurrency=null;this.m_schema=null;e.QOlapSyncAction.prototype.releaseObjectInternal.call(this)};e.OlapCatalogManager2.prototype.setBaseDataSourceFilter=function(t){if(this.isLightweightSearch()){return}if(e.isNull(t)){this.m_baseDataSourceFilter=null}else{this.setBaseDataSourceFilterList(null);this.m_baseDataSourceFilter=t}this.resetSyncState()};e.OlapCatalogManager2.prototype.setBaseDataSourceFilterList=function(t){if(this.isLightweightSearch()){return}if(e.isNull(t)){this.m_baseDataSourceFilterList=e.XObjectExt.release(this.m_baseDataSourceFilterList)}else{this.setBaseDataSourceFilter(null);this.m_baseDataSourceFilterList=e.XList.createWithList(t)}this.resetSyncState()};e.OlapCatalogManager2.prototype.setBaseDataSourceTypeFilterList=function(e){if(this.isLightweightSearch()){return}this.m_baseDataSourceTypeFilter=e;this.resetSyncState()};e.OlapCatalogManager2.prototype.setDataCategoryFilter=function(t){if(!this.getQueryManager().getQueryModel().getModelCapabilities().supportsMetadataDataCategory()){e.noSupport()}this.m_categoryFilter=t;this.resetSyncState()};e.OlapCatalogManager2.prototype.setFixedCurrency=function(e){this.m_interestedCurrency=e};e.OlapCatalogManager2.prototype.setInternalTypeExcludeList=function(t){if(this.isLightweightSearch()){return}if(e.XCollectionUtils.hasElements(t)){this.m_internalTypeExcludeList=e.XList.createWithList(t)}else{this.m_internalTypeExcludeList=e.XObjectExt.release(this.m_internalTypeExcludeList)}this.resetSyncState()};e.OlapCatalogManager2.prototype.setInternalTypeIncludeList=function(t){if(this.isLightweightSearch()){return}if(e.XCollectionUtils.hasElements(t)){this.m_internalTypeIncludeList=e.XList.createWithList(t)}else{this.m_internalTypeIncludeList=e.XObjectExt.release(this.m_internalTypeIncludeList)}this.resetSyncState()};e.OlapCatalogManager2.prototype.setPlanQueryFilter=function(e){this.m_planQueryFilter=e};e.OlapCatalogManager2.prototype.setResultMaxSize=function(e){this.getQueryManager().setMaxRows(e);this.resetSyncState()};e.OlapCatalogManager2.prototype.setResultOffset=function(e){this.getQueryManager().setOffsetRows(e);this.resetSyncState()};e.OlapCatalogManager2.prototype.setSchema=function(e){this.m_schema=e};e.OlapCatalogManager2.prototype.setSearchFilter=function(e){this.m_textFilter=e;this.resetSyncState()};e.OlapCatalogManager2.prototype.setSearchOnName=function(e){if(this.m_isSearchOnName!==e){if(!this.supportsCombinedSearch()){this.clearSearchFlags();this.m_isSearchOnText=!e}this.m_isSearchOnName=e;this.resetSyncState()}};e.OlapCatalogManager2.prototype.setSearchOnPackageExt=function(t,a,l,n,i){if(n===e.LogicalBoolOperator.NOT){throw e.XException.createIllegalArgumentException("Only AND or OR are allowed.")}if(this.m_isSearchOnPackage!==t){if(this.isLightweightSearch()){return}if(!this.supportsCombinedSearch()){this.clearSearchFlags()}this.m_isSearchOnPackage=t;this.m_packageFilter=a;this.m_packageComparisonOperator=i;this.m_withOtherFiltersPackage=n;this.resetSyncState()}};e.OlapCatalogManager2.prototype.setSearchOnSchema=function(e){if(this.m_isSearchOnSchema!==e){if(this.isLightweightSearch()||!this.supportsCombinedSearch()){return}this.m_isSearchOnSchema=e;this.resetSyncState()}};e.OlapCatalogManager2.prototype.setSearchOnText=function(e){if(this.m_isSearchOnText!==e){if(!this.supportsCombinedSearch()){this.clearSearchFlags();this.m_isSearchOnName=!e}this.m_isSearchOnText=e;this.resetSyncState()}};e.OlapCatalogManager2.prototype.setSelectedType=function(e){this.ensureTypeIsSelectable(e);this.m_type=e;this.m_types.clear();this.m_types.add(e);this.resetSyncState()};e.OlapCatalogManager2.prototype.setTransientInfoProvidersIncluded=function(e){this.m_isTransientInfoProvidersIncluded=e};e.OlapCatalogManager2.prototype.setupCatalogManager=function(t){this.setupAction(null,null,null,t);this.m_planQueryFilter=e.TriStateBool._DEFAULT;this.m_isTransientInfoProvidersIncluded=true;this.m_types=e.XList.create()};e.OlapCatalogManager2.prototype.setupFilterComplex=function(){let t=this.getQueryManager().getQueryModel();let a=e.QFactory.createFilterAnd(t);let l=this.getSelectedTypes();if(e.notNull(l)&&l.hasElements()&&t.getDimensionByName(e.OlapCatalogManager2.CN_TYPE)!==null){let t=l.size();if(t===1){this.createAndAddFilterOp(l.get(0).getCamelCaseName(),a,e.ComparisonOperator.EQUAL,e.OlapCatalogManager2.CN_TYPE,e.PresentationType.KEY)}else{this.createFilterElementsInCartesianList(t,l,a)}}let n=this.getSearchFilter();let i=e.QFactory.createFilterOr(a);if(e.XStringUtils.isNotNullAndNotEmpty(n)){if(this.isSearchOnName()&&t.getDimensionByName(e.OlapCatalogManager2.CN_OBJECT)!==null){this.createAndAddFilterOp(n,i,e.ComparisonOperator.MATCH,e.OlapCatalogManager2.CN_OBJECT,e.PresentationType.KEY)}if(this.isSearchOnText()&&t.getDimensionByName(e.OlapCatalogManager2.CN_OBJECT)!==null){this.createAndAddFilterOp(n,i,e.ComparisonOperator.MATCH,e.OlapCatalogManager2.CN_OBJECT,e.PresentationType.TEXT)}if(this.isSearchOnSchema()&&t.getDimensionByName(e.OlapCatalogManager2.CN_SCHEMA)!==null){this.createAndAddFilterOp(n,i,e.ComparisonOperator.MATCH,e.OlapCatalogManager2.CN_SCHEMA,e.PresentationType.KEY)}}if(this.isSearchOnPackage()&&t.getDimensionByName(e.OlapCatalogManager2.CN_PACKAGE)!==null){let t;if(this.m_withOtherFiltersPackage===e.LogicalBoolOperator.OR){t=i}else{t=a}this.createAndAddFilterOp(this.m_packageFilter,t,this.determineComparisonOperator(this.m_packageComparisonOperator,this.m_packageFilter),e.OlapCatalogManager2.CN_PACKAGE,e.PresentationType.KEY)}this.addFilterToRoot(a,i);let r=t.getModelCapabilities();if(r.supportsMetadataDataCategory()&&e.XStringUtils.isNotNullAndNotEmpty(this.m_categoryFilter)&&t.getDimensionByName(e.OlapCatalogManager2.CN_DATA_CATEGORY)!==null){this.createAndAddFilterOp(this.m_categoryFilter,a,e.ComparisonOperator.MATCH,e.OlapCatalogManager2.CN_DATA_CATEGORY,e.PresentationType.KEY)}if(e.notNull(this.m_baseDataSourceFilter)&&t.getDimensionByName(e.OlapCatalogManager2.CN_BASEDATASOURCE)!==null){this.createAndAddFilterOp(this.m_baseDataSourceFilter,a,e.ComparisonOperator.MATCH,e.OlapCatalogManager2.CN_BASEDATASOURCE,e.PresentationType.KEY)}if(e.XCollectionUtils.hasElements(this.m_baseDataSourceFilterList)&&t.getDimensionByName(e.OlapCatalogManager2.CN_BASEDATASOURCE)!==null){let t=e.ComparisonOperator.EQUAL;for(let a=0;a<this.m_baseDataSourceFilterList.size();a++){let l=this.m_baseDataSourceFilterList.get(a);if(e.XString.containsString(l,"*")){t=e.ComparisonOperator.MATCH;break}}let l=e.QFactory.createFilterOr(a);for(let a=0;a<this.m_baseDataSourceFilterList.size();a++){this.createAndAddFilterOp(this.m_baseDataSourceFilterList.get(a),l,t,e.OlapCatalogManager2.CN_BASEDATASOURCE,e.PresentationType.KEY)}this.addFilterToRoot(a,l)}if(e.XCollectionUtils.hasElements(this.m_baseDataSourceTypeFilter)&&t.getDimensionByName(e.OlapCatalogManager2.CN_BASEDATASOURCE_TYPE)!==null){let t=e.QFactory.createFilterOr(a);for(let a=0;a<this.m_baseDataSourceTypeFilter.size();a++){this.createAndAddFilterOp(e.XString.toUpperCase(this.m_baseDataSourceTypeFilter.get(a).getName()),t,e.ComparisonOperator.EQUAL,null,null)}this.addFilterToRoot(a,t)}if(e.XCollectionUtils.hasElements(this.m_internalTypeIncludeList)&&t.getDimensionByName(e.OlapCatalogManager2.CN_INTERNAL_TYPE)!==null){let t=e.ComparisonOperator.EQUAL;for(let a=0;a<this.m_internalTypeIncludeList.size();a++){let l=this.m_internalTypeIncludeList.get(a);if(e.XString.containsString(l,"*")){t=e.ComparisonOperator.MATCH;break}}let l=e.QFactory.createFilterOr(a);for(let a=0;a<this.m_internalTypeIncludeList.size();a++){this.createAndAddFilterOp(this.m_internalTypeIncludeList.get(a),l,t,e.OlapCatalogManager2.CN_INTERNAL_TYPE,e.PresentationType.KEY)}this.addFilterToRoot(a,l)}if(e.XCollectionUtils.hasElements(this.m_internalTypeExcludeList)&&t.getDimensionByName(e.OlapCatalogManager2.CN_INTERNAL_TYPE)!==null){let t=e.ComparisonOperator.NOT_EQUAL;for(let a=0;a<this.m_internalTypeExcludeList.size();a++){let l=this.m_internalTypeExcludeList.get(a);if(e.XString.containsString(l,"*")){t=e.ComparisonOperator.NOT_MATCH;break}}let l=e.QFactory.createFilterAnd(a);for(let a=0;a<this.m_internalTypeExcludeList.size();a++){this.createAndAddFilterOp(this.m_internalTypeExcludeList.get(a),l,t,e.OlapCatalogManager2.CN_INTERNAL_TYPE,e.PresentationType.KEY)}this.addFilterToRoot(a,l)}if(this.m_planQueryFilter!==e.TriStateBool._DEFAULT&&t.getDimensionByName(e.OlapCatalogManager2.CN_OBJECT_IS_PLANQUERY)!==null){if(this.m_planQueryFilter!==e.TriStateBool._TRUE){this.createAndAddFilterOp("true",a,e.ComparisonOperator.MATCH,e.OlapCatalogManager2.CN_OBJECT_IS_PLANQUERY,e.PresentationType.KEY)}else if(this.m_planQueryFilter!==e.TriStateBool._FALSE){this.createAndAddFilterOp("false",a,e.ComparisonOperator.MATCH,e.OlapCatalogManager2.CN_OBJECT_IS_PLANQUERY,e.PresentationType.KEY)}}if(a.hasElements()){t.getFilter().getDynamicFilter().setComplexRoot(a)}};e.OlapCatalogManager2.prototype.setupFilterSimple=function(){let t=this.getQueryManager().getQueryModel();let a=t.getConvenienceCommands();let l=this.getSelectedType();if(e.notNull(l)&&t.getDimensionByName(e.OlapCatalogManager2.CN_TYPE)!==null){a.addSingleMemberFilterByDimensionName(e.OlapCatalogManager2.CN_TYPE,l.getCamelCaseName(),e.ComparisonOperator.EQUAL)}let n=this.getSearchFilter();if(e.XStringUtils.isNotNullAndNotEmpty(n)&&t.getDimensionByName(e.OlapCatalogManager2.CN_OBJECT)!==null){if(this.isSearchOnName()){a.addStringFilterByPresentation(e.OlapCatalogManager2.CN_OBJECT,e.PresentationType.KEY,n,e.ComparisonOperator.MATCH)}else if(this.isSearchOnText()){a.addStringFilterByPresentation(e.OlapCatalogManager2.CN_OBJECT,e.PresentationType.TEXT,n,e.ComparisonOperator.MATCH)}}let i=this.getPackageFilter();if(e.XStringUtils.isNotNullAndNotEmpty(i)&&t.getDimensionByName(e.OlapCatalogManager2.CN_PACKAGE)!==null){if(this.isSearchOnPackage()){a.addStringFilterByPresentation(e.OlapCatalogManager2.CN_PACKAGE,e.PresentationType.KEY,i,e.ComparisonOperator.EQUAL)}}let r=t.getModelCapabilities();if(r.supportsMetadataDataCategory()&&e.XStringUtils.isNotNullAndNotEmpty(this.m_categoryFilter)&&t.getDimensionByName(e.OlapCatalogManager2.CN_DATA_CATEGORY)!==null){a.addStringFilterByPresentation(e.OlapCatalogManager2.CN_DATA_CATEGORY,e.PresentationType.KEY,this.m_categoryFilter,e.ComparisonOperator.MATCH)}if(t.getDimensionByName(e.OlapCatalogManager2.CN_BASEDATASOURCE)!==null){if(e.notNull(this.m_baseDataSourceFilter)){a.addStringFilterByPresentation(e.OlapCatalogManager2.CN_BASEDATASOURCE,e.PresentationType.KEY,this.m_baseDataSourceFilter,e.ComparisonOperator.MATCH)}}if(e.XCollectionUtils.hasElements(this.m_baseDataSourceFilterList)&&t.getDimensionByName(e.OlapCatalogManager2.CN_BASEDATASOURCE)!==null){let t=e.ComparisonOperator.EQUAL;for(let a=0;a<this.m_baseDataSourceFilterList.size();a++){let l=this.m_baseDataSourceFilterList.get(a);if(e.XString.containsString(l,"*")){t=e.ComparisonOperator.MATCH;break}}for(let l=0;l<this.m_baseDataSourceFilterList.size();l++){a.addSingleMemberFilterByDimensionName(e.OlapCatalogManager2.CN_BASEDATASOURCE,this.m_baseDataSourceFilterList.get(l),t)}}if(t.getDimensionByName(e.OlapCatalogManager2.CN_BASEDATASOURCE_TYPE)!==null){if(e.XCollectionUtils.hasElements(this.m_baseDataSourceTypeFilter)){let t=this.m_baseDataSourceTypeFilter.size();for(let l=0;l<t;l++){a.addStringFilterByPresentation(e.OlapCatalogManager2.CN_BASEDATASOURCE_TYPE,e.PresentationType.KEY,e.XString.toUpperCase(this.m_baseDataSourceTypeFilter.get(l).getName()),e.ComparisonOperator.EQUAL)}}if(!this.m_isTransientInfoProvidersIncluded){a.addStringFilterByPresentation(e.OlapCatalogManager2.CN_BASEDATASOURCE_TYPE,e.PresentationType.KEY,"TRPR",e.ComparisonOperator.NOT_EQUAL)}}if(this.m_planQueryFilter!==e.TriStateBool._DEFAULT&&t.getDimensionByName(e.OlapCatalogManager2.CN_OBJECT_IS_PLANQUERY)!==null){if(this.m_planQueryFilter!==e.TriStateBool._TRUE){a.addStringFilterByPresentation(e.OlapCatalogManager2.CN_OBJECT_IS_PLANQUERY,e.PresentationType.KEY,"true",e.ComparisonOperator.MATCH)}else if(this.m_planQueryFilter!==e.TriStateBool._FALSE){a.addStringFilterByPresentation(e.OlapCatalogManager2.CN_OBJECT_IS_PLANQUERY,e.PresentationType.KEY,"false",e.ComparisonOperator.MATCH)}}};e.OlapCatalogManager2.prototype.supportsCombinedSearch=function(){let t=this.getSystemType();if(e.isNull(t)){return false}return t.isTypeOf(e.SystemType.HANA)||this.isLightweightSearch()||t.isTypeOf(e.SystemType.VIRTUAL_INA_ODATA)};e.PlanningCatalogManager=function(){};e.PlanningCatalogManager.prototype=new e.QOlapSyncAction;e.PlanningCatalogManager.prototype._ff_c="PlanningCatalogManager";e.PlanningCatalogManager.CN_BASE_DATA_SOURCE="BaseDataSource";e.PlanningCatalogManager.CN_OBJECT_NAME="ObjectName";e.PlanningCatalogManager.CN_PLANNING_FUNCTION_TYPE="PlanningFunctionType";e.PlanningCatalogManager.CN_PLANNING_TYPE="PlanningType";e.PlanningCatalogManager.create=function(t){let a=new e.PlanningCatalogManager;a.setupCatalogManager(t);return a};e.PlanningCatalogManager.prototype.m_isSearchOnName=false;e.PlanningCatalogManager.prototype.m_isSearchOnText=false;e.PlanningCatalogManager.prototype.m_searchOnPlanningFunctions=false;e.PlanningCatalogManager.prototype.m_searchOnPlanningSequences=false;e.PlanningCatalogManager.prototype.m_textFilter=null;e.PlanningCatalogManager.prototype.callListener=function(e,t,a,l){t.onPlanningCatalogResult(e,a,l)};e.PlanningCatalogManager.prototype.getSearchFilter=function(){return this.m_textFilter};e.PlanningCatalogManager.prototype.isSearchOnName=function(){return this.m_isSearchOnName};e.PlanningCatalogManager.prototype.isSearchOnPlanningFunctions=function(){return this.m_searchOnPlanningFunctions};e.PlanningCatalogManager.prototype.isSearchOnPlanningSequences=function(){return this.m_searchOnPlanningSequences};e.PlanningCatalogManager.prototype.isSearchOnText=function(){return this.m_isSearchOnText};e.PlanningCatalogManager.prototype.onQueryExecuted=function(t,a,l){this.addAllMessages(t);if(t.isValid()){let t=a.getClassicResultSet();this.setData(e.PlanningCatalogResult.create(t,this))}this.endSync()};e.PlanningCatalogManager.prototype.processGetResult=function(e,t,a){return this.processSyncAction(e,t,a)};e.PlanningCatalogManager.prototype.processSynchronization=function(t){let a=this.getQueryManager().getQueryModel();let l=a.getConvenienceCommands();l.resetToDefault();l.moveDimensionToAxis(e.PlanningCatalogManager.CN_OBJECT_NAME,e.AxisType.ROWS);l.addAllFieldsToResultSet(e.PlanningCatalogManager.CN_OBJECT_NAME);l.moveDimensionToAxis(e.PlanningCatalogManager.CN_BASE_DATA_SOURCE,e.AxisType.ROWS);l.addAllFieldsToResultSet(e.PlanningCatalogManager.CN_BASE_DATA_SOURCE);l.moveDimensionToAxis(e.PlanningCatalogManager.CN_PLANNING_TYPE,e.AxisType.ROWS);l.addAllFieldsToResultSet(e.PlanningCatalogManager.CN_PLANNING_TYPE);l.moveDimensionToAxis(e.PlanningCatalogManager.CN_PLANNING_FUNCTION_TYPE,e.AxisType.ROWS);l.addAllFieldsToResultSet(e.PlanningCatalogManager.CN_PLANNING_FUNCTION_TYPE);let n=this.getSearchFilter();if(e.notNull(n)&&e.XString.size(n)>0){if(this.isSearchOnName()){l.addStringFilterByPresentation(e.PlanningCatalogManager.CN_OBJECT_NAME,e.PresentationType.KEY,n,e.ComparisonOperator.MATCH)}if(this.isSearchOnText()){l.addStringFilterByPresentation(e.PlanningCatalogManager.CN_OBJECT_NAME,e.PresentationType.TEXT,n,e.ComparisonOperator.MATCH)}}l.clearFiltersByDimensionName(e.PlanningCatalogManager.CN_PLANNING_TYPE);let i=0;if(this.isSearchOnPlanningFunctions()){i++}if(this.isSearchOnPlanningSequences()){i++}if(i===1){if(this.isSearchOnPlanningFunctions()){l.addSingleMemberFilterByDimensionName(e.PlanningCatalogManager.CN_PLANNING_TYPE,e.PlanningOperationType.T_PLANNING_FUNCTION,e.ComparisonOperator.EQUAL)}if(this.isSearchOnPlanningSequences()){l.addSingleMemberFilterByDimensionName(e.PlanningCatalogManager.CN_PLANNING_TYPE,e.PlanningOperationType.T_PLANNING_SEQUENCE,e.ComparisonOperator.EQUAL)}}this.getQueryManager().processQueryExecution(t,this,null);return true};e.PlanningCatalogManager.prototype.releaseObjectInternal=function(){this.m_textFilter=null;e.QOlapSyncAction.prototype.releaseObjectInternal.call(this)};e.PlanningCatalogManager.prototype.setSearchFilter=function(e){this.m_textFilter=e;this.resetSyncState()};e.PlanningCatalogManager.prototype.setSearchOnName=function(e){this.m_isSearchOnName=e;this.m_isSearchOnText=!this.m_isSearchOnName;this.resetSyncState()};e.PlanningCatalogManager.prototype.setSearchOnPlanningFunctions=function(e){this.m_searchOnPlanningFunctions=e};e.PlanningCatalogManager.prototype.setSearchOnPlanningSequences=function(e){this.m_searchOnPlanningSequences=e};e.PlanningCatalogManager.prototype.setSearchOnText=function(e){this.m_isSearchOnText=e;this.m_isSearchOnName=!this.m_isSearchOnText;this.resetSyncState()};e.PlanningCatalogManager.prototype.setupCatalogManager=function(e){this.setupAction(null,null,null,e);this.m_isSearchOnText=false;this.m_isSearchOnName=false;this.m_searchOnPlanningFunctions=true;this.m_searchOnPlanningSequences=false};e.PlanningModelCatalogManager=function(){};e.PlanningModelCatalogManager.prototype=new e.QOlapSyncAction;e.PlanningModelCatalogManager.prototype._ff_c="PlanningModelCatalogManager";e.PlanningModelCatalogManager.create=function(t){let a=new e.PlanningModelCatalogManager;let l=t.getServiceConfig().getSystemName();a.setupPlanningModelCatalogManager(t.getOlapEnv(),l);return a};e.PlanningModelCatalogManager.prototype.m_systemName=null;e.PlanningModelCatalogManager.prototype.callListener=function(e,t,a,l){t.onPlanningModelCatalogResult(e,a,l)};e.PlanningModelCatalogManager.prototype.onFunctionExecuted=function(t,a,l){this.addAllMessages(t);if(t.isValid()){let t=new e.PlanningModelCatalogResult;let l=a.getRootElement();let n=e.PrFactory.createStructureDeepCopy(l);let i=e.MessageManager.createMessageManagerExt(this.getSession());t.processResponseStructure(n,i);this.setData(t)}this.endSync()};e.PlanningModelCatalogManager.prototype.processGetResult=function(e,t,a){return this.processSyncAction(e,t,a)};e.PlanningModelCatalogManager.prototype.processSynchronization=function(t){let a=this.getApplication().getConnectionPool().getConnection(this.m_systemName);let l=a.getSystemDescription();let n=l.getSystemType();if(!n.isTypeOf(e.SystemType.HANA)){throw e.XException.createIllegalStateException("illegal system type")}let i=a.newRpcFunction(n.getInAPath());i.setServiceName(e.SystemServices.INA_SERVICE);let r=i.getRpcRequest();let o=this.serializeToJson();r.setRequestStructure(o);i.processFunctionExecution(t,this,null);return true};e.PlanningModelCatalogManager.prototype.releaseObjectInternal=function(){let t=this.getData();if(e.notNull(t)){e.XObjectExt.release(t)}this.m_systemName=null;e.QOlapSyncAction.prototype.releaseObjectInternal.call(this)};e.PlanningModelCatalogManager.prototype.serializeToJson=function(){let t=e.PrFactory.createStructure();let a=t.putNewStructure("Planning");a.putString("command","get_models");return t};e.PlanningModelCatalogManager.prototype.setupPlanningModelCatalogManager=function(e,t){this.setupAction(null,null,null,e);this.m_systemName=t};e.OlapCatalogItem=function(){};e.OlapCatalogItem.prototype=new e.QDataSource;e.OlapCatalogItem.prototype._ff_c="OlapCatalogItem";e.OlapCatalogItem.createCatalogItem=function(){let t=new e.OlapCatalogItem;t.setupDataSource(null);t.setText(null);t.setBaseDataSource(null);t.setPlanQuery(false);t.setHasMdxFlag(e.TriStateBool._DEFAULT);return t};e.OlapCatalogItem.prototype.m_baseDataSource=null;e.OlapCatalogItem.prototype.m_currencyKey=null;e.OlapCatalogItem.prototype.m_currencyTargetKey=null;e.OlapCatalogItem.prototype.m_currencyText=null;e.OlapCatalogItem.prototype.m_currencyTranslationNameKey=null;e.OlapCatalogItem.prototype.m_currencyTranslationNameText=null;e.OlapCatalogItem.prototype.m_dataCategory=null;e.OlapCatalogItem.prototype.m_formulaOperatorKey=null;e.OlapCatalogItem.prototype.m_formulaOperatorNumberOfOperands=0;e.OlapCatalogItem.prototype.m_formulaOperatorText=null;e.OlapCatalogItem.prototype.m_hasMdxFlag=null;e.OlapCatalogItem.prototype.m_internalType=null;e.OlapCatalogItem.prototype.m_isPlanQuery=false;e.OlapCatalogItem.prototype.m_planningModelName=null;e.OlapCatalogItem.prototype.m_planningModelSchemaName=null;e.OlapCatalogItem.prototype.m_queryAlias=null;e.OlapCatalogItem.prototype.appendDelimiterIfNotEmpty=function(e){if(e.length()>0){e.append(" | ")}};e.OlapCatalogItem.prototype.getBaseDataSource=function(){return this.m_baseDataSource};e.OlapCatalogItem.prototype.getContentConstant=function(){return null};e.OlapCatalogItem.prototype.getContentElement=function(){return this};e.OlapCatalogItem.prototype.getCurrencyKey=function(){return this.m_currencyKey};e.OlapCatalogItem.prototype.getCurrencyTargetKey=function(){return this.m_currencyTargetKey};e.OlapCatalogItem.prototype.getCurrencyText=function(){return this.m_currencyText};e.OlapCatalogItem.prototype.getCurrencyTranslationNameKey=function(){return this.m_currencyTranslationNameKey};e.OlapCatalogItem.prototype.getCurrencyTranslationNameText=function(){return this.m_currencyTranslationNameText};e.OlapCatalogItem.prototype.getDataCategory=function(){return this.m_dataCategory};e.OlapCatalogItem.prototype.getFormulaOperatorKey=function(){return this.m_formulaOperatorKey};e.OlapCatalogItem.prototype.getFormulaOperatorNumberOfOperands=function(){return this.m_formulaOperatorNumberOfOperands};e.OlapCatalogItem.prototype.getFormulaOperatorText=function(){return this.m_formulaOperatorText};e.OlapCatalogItem.prototype.getInternalType=function(){return this.m_internalType};e.OlapCatalogItem.prototype.getPlanningModelDataSource=function(){if(e.XStringUtils.isNullOrEmpty(this.m_planningModelName)){return null}let t=e.QFactory.createDataSourceWithType(e.MetaObjectType.PLANNING_MODEL,this.m_planningModelName);if(e.XStringUtils.isNotNullAndNotEmpty(this.m_planningModelSchemaName)){t.setSchemaName(this.m_planningModelSchemaName)}return t};e.OlapCatalogItem.prototype.getPlanningModelName=function(){return this.m_planningModelName};e.OlapCatalogItem.prototype.getPlanningModelSchemaName=function(){return this.m_planningModelSchemaName};e.OlapCatalogItem.prototype.getQueryAlias=function(){return this.m_queryAlias};e.OlapCatalogItem.prototype.getTagValue=function(e){return null};e.OlapCatalogItem.prototype.hasMdxFlag=function(){return this.m_hasMdxFlag.getBoolean()};e.OlapCatalogItem.prototype.hasMdxFlagExt=function(){return this.m_hasMdxFlag};e.OlapCatalogItem.prototype.isPlanQuery=function(){return this.m_isPlanQuery};e.OlapCatalogItem.prototype.releaseObject=function(){this.m_baseDataSource=null;this.m_planningModelName=null;this.m_planningModelSchemaName=null;this.m_dataCategory=null;this.m_internalType=null;this.m_currencyKey=null;this.m_currencyText=null;this.m_currencyTranslationNameKey=null;this.m_currencyTranslationNameText=null;this.m_currencyTargetKey=null;this.m_formulaOperatorKey=null;this.m_formulaOperatorText=null;this.m_queryAlias=null;e.QDataSource.prototype.releaseObject.call(this)};e.OlapCatalogItem.prototype.setBaseDataSource=function(e){this.m_baseDataSource=e};e.OlapCatalogItem.prototype.setCurrencyKey=function(e){this.m_currencyKey=e};e.OlapCatalogItem.prototype.setCurrencyTargetKey=function(e){this.m_currencyTargetKey=e};e.OlapCatalogItem.prototype.setCurrencyText=function(e){this.m_currencyText=e};e.OlapCatalogItem.prototype.setCurrencyTranslationNameKey=function(e){this.m_currencyTranslationNameKey=e};e.OlapCatalogItem.prototype.setCurrencyTranslationNameText=function(e){this.m_currencyTranslationNameText=e};e.OlapCatalogItem.prototype.setDataCategory=function(e){this.m_dataCategory=e};e.OlapCatalogItem.prototype.setFormulaOperatorKey=function(e){this.m_formulaOperatorKey=e};e.OlapCatalogItem.prototype.setFormulaOperatorNumberOfOperands=function(e){this.m_formulaOperatorNumberOfOperands=e};e.OlapCatalogItem.prototype.setFormulaOperatorText=function(e){this.m_formulaOperatorText=e};e.OlapCatalogItem.prototype.setHasMdxFlag=function(e){this.m_hasMdxFlag=e};e.OlapCatalogItem.prototype.setInternalType=function(e){this.m_internalType=e};e.OlapCatalogItem.prototype.setPlanQuery=function(e){this.m_isPlanQuery=e};e.OlapCatalogItem.prototype.setPlanningModelName=function(e){this.m_planningModelName=e};e.OlapCatalogItem.prototype.setPlanningModelSchemaName=function(e){this.m_planningModelSchemaName=e};e.OlapCatalogItem.prototype.setQueryAlias=function(e){this.m_queryAlias=e};e.OlapCatalogItem.prototype.toString=function(){let t=e.XStringBuffer.create();let a=this.getFullQualifiedName();if(e.XStringUtils.isNotNullAndNotEmpty(a)){this.appendDelimiterIfNotEmpty(t);t.append(a)}let l=this.getText();if(e.XStringUtils.isNotNullAndNotEmpty(l)){if(e.XString.isEqual(l,this.getName())){t.append(" - ")}else{t.append(" + ")}t.append(l)}if(e.XStringUtils.isNotNullAndNotEmpty(this.m_internalType)){this.appendDelimiterIfNotEmpty(t);t.append("Internal Type: ").append(this.m_internalType)}if(this.m_isPlanQuery){this.appendDelimiterIfNotEmpty(t);t.append("Is Planning Query")}let n=this.getPlanningModelDataSource();if(e.notNull(n)&&e.XStringUtils.isNotNullAndNotEmpty(n.getFullQualifiedName())){this.appendDelimiterIfNotEmpty(t);t.append(n.getFullQualifiedName())}if(e.notNull(this.m_baseDataSource)&&e.XStringUtils.isNotNullAndNotEmpty(this.m_baseDataSource.getFullQualifiedName())){this.appendDelimiterIfNotEmpty(t);t.append("Base Data Source: ").append(this.m_baseDataSource.getFullQualifiedName())}if(e.XStringUtils.isNotNullAndNotEmpty(this.m_dataCategory)){this.appendDelimiterIfNotEmpty(t);t.append("Data Category: ").append(this.m_dataCategory)}return t.toString()};e.OlapCatalogImplModule=function(){};e.OlapCatalogImplModule.prototype=new e.DfModule;e.OlapCatalogImplModule.prototype._ff_c="OlapCatalogImplModule";e.OlapCatalogImplModule.s_module=null;e.OlapCatalogImplModule.getInstance=function(){if(e.isNull(e.OlapCatalogImplModule.s_module)){e.DfModule.checkInitialized(e.OlapImplModule.getInstance());e.DfModule.checkInitialized(e.OlapCatalogApiModule.getInstance());e.OlapCatalogImplModule.s_module=e.DfModule.startExt(new e.OlapCatalogImplModule);let t=e.RegistrationService.getInstance();e.PlanningCatalogServiceConfig.staticSetup();t.addServiceConfig(e.OlapCatalogApiModule.XS_PLANNING_CATALOG,e.PlanningCatalogServiceConfig.CLAZZ);e.PlanningCatalogService.staticSetup();t.addService(e.OlapCatalogApiModule.XS_PLANNING_CATALOG,e.PlanningCatalogService.CLAZZ);e.PlanningModelCatalogServiceConfig.staticSetup();t.addServiceConfig(e.OlapCatalogApiModule.XS_PLANNING_MODEL_CATALOG,e.PlanningModelCatalogServiceConfig.CLAZZ);e.PlanningModelCatalogService.staticSetup();t.addService(e.OlapCatalogApiModule.XS_PLANNING_MODEL_CATALOG,e.PlanningModelCatalogService.CLAZZ);e.OlapCatalogService.staticSetup();t.addService(e.OlapCatalogApiModule.XS_OLAP_CATALOG,e.OlapCatalogService.CLAZZ);e.DfModule.stopExt(e.OlapCatalogImplModule.s_module);e.ProgramRegistry.setProgramFactory(new e.OlapCatalogProgramSubSystem)}return e.OlapCatalogImplModule.s_module};e.OlapCatalogImplModule.prototype.getName=function(){return"ff4330.olap.catalog.impl"};e.OlapCatalogImplModule.getInstance();return e});
//# sourceMappingURL=ff4330.olap.catalog.impl.js.map