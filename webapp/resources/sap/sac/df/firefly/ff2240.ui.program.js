/*!
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.define(["sap/sac/df/firefly/ff2220.ui.tools"],function(e){"use strict";e.SiWriterJava=function(){};e.SiWriterJava.prototype=new e.XObject;e.SiWriterJava.prototype._ff_c="SiWriterJava";e.SiWriterJava.create=function(){let t=new e.SiWriterJava;t.m_buffer=e.XStringBufferExt.create();return t};e.SiWriterJava.prototype.m_buffer=null;e.SiWriterJava.prototype.toString=function(){return this.m_buffer.toString()};e.SiWriterJava.prototype.writeBlock=function(t){this.m_buffer.append("{");let n=t.getChild();if(e.notNull(n)){n.write(this)}this.m_buffer.append("}")};e.SiWriterJava.prototype.writeDefault=function(e){};e.SiWriterJava.prototype.writeDouble=function(e){this.m_buffer.append(e.getValue())};e.SiWriterJava.prototype.writeExpressionSequence=function(t){let n=t.getChildren();for(let t=0;t<n.size();t++){let i=n.get(t);i.write(this);if(i.getType()!==e.SiTokenType.CURLY_BRACKET){this.m_buffer.append(";")}}};e.SiWriterJava.prototype.writeFalse=function(e){this.m_buffer.append("false")};e.SiWriterJava.prototype.writeFunction=function(t){this.m_buffer.append(t.getValue());this.m_buffer.append("(");let n=t.getChildren();if(e.notNull(n)){for(let e=0;e<n.size();e++){if(e>0){this.m_buffer.append(",")}let t=n.get(e);t.write(this)}}this.m_buffer.append(")")};e.SiWriterJava.prototype.writeIdentifier=function(e){this.m_buffer.append(e.getValue())};e.SiWriterJava.prototype.writeInteger=function(e){this.m_buffer.append(e.getValue())};e.SiWriterJava.prototype.writeOp=function(e,t){let n=e.getLeft();n.write(this);this.m_buffer.append(t);let i=e.getRight();i.write(this)};e.SiWriterJava.prototype.writeOpBoolAnd=function(e){this.writeOp(e,"&&")};e.SiWriterJava.prototype.writeOpBoolOr=function(e){this.writeOp(e,"||")};e.SiWriterJava.prototype.writeOpDiv=function(e){this.writeOp(e,"/")};e.SiWriterJava.prototype.writeOpDot=function(e){this.writeOp(e,".")};e.SiWriterJava.prototype.writeOpEqual=function(e){this.writeOp(e,"==")};e.SiWriterJava.prototype.writeOpGreater=function(e){this.writeOp(e,">")};e.SiWriterJava.prototype.writeOpGreaterEqual=function(e){this.writeOp(e,">=")};e.SiWriterJava.prototype.writeOpLower=function(e){this.writeOp(e,"<")};e.SiWriterJava.prototype.writeOpLowerEqual=function(e){this.writeOp(e,"<=")};e.SiWriterJava.prototype.writeOpMinus=function(e){this.writeOp(e,"-")};e.SiWriterJava.prototype.writeOpMult=function(e){this.writeOp(e,"*")};e.SiWriterJava.prototype.writeOpNotEqual=function(e){this.writeOp(e,"!=")};e.SiWriterJava.prototype.writeOpPlus=function(e){this.writeOp(e,"+")};e.SiWriterJava.prototype.writeString=function(e){this.m_buffer.append("'");this.m_buffer.append(e.getValue());this.m_buffer.append("'")};e.SiWriterJava.prototype.writeTrue=function(e){this.m_buffer.append("true")};e.CustomControlRegistration={s_controls:null,getAllEntries:function(){return e.CustomControlRegistration.s_controls},getCustomControl:function(t){return e.CustomControlRegistration.s_controls.getByKey(t)},setCustomControl:function(t,n){e.CustomControlRegistration.s_controls.put(t,n)},staticSetup:function(){e.CustomControlRegistration.s_controls=e.XHashMapByString.create()}};e.GlobalValueHolder=function(){};e.GlobalValueHolder.prototype=new e.XObject;e.GlobalValueHolder.prototype._ff_c="GlobalValueHolder";e.GlobalValueHolder.prototype.m_content=null;e.GlobalValueHolder.prototype.getContent=function(){return this.m_content};e.GlobalValueHolder.prototype.setContent=function(e){this.m_content=e};e.SxJsonDpBindingFactory=function(){};e.SxJsonDpBindingFactory.prototype=new e.DpBindingFactory;e.SxJsonDpBindingFactory.prototype._ff_c="SxJsonDpBindingFactory";e.SxJsonDpBindingFactory.staticSetupJsonBindingFactory=function(){e.DpBindingFactory.registerFactory(e.QuasarComponentType.JSON_DATA_PROVIDER,new e.SxJsonDpBindingFactory)};e.SxJsonDpBindingFactory.prototype.newBindingProvider=function(t,n){let i=t;return e.SxJsonDpBindingProvider.create(i,n)};e.SxJsonDpBindingProvider=function(){};e.SxJsonDpBindingProvider.prototype=new e.XObject;e.SxJsonDpBindingProvider.prototype._ff_c="SxJsonDpBindingProvider";e.SxJsonDpBindingProvider.create=function(t,n){let i=new e.SxJsonDpBindingProvider;i.m_dp=t;i.m_path=n;return i};e.SxJsonDpBindingProvider.prototype.m_dp=null;e.SxJsonDpBindingProvider.prototype.m_path=null;e.SxJsonDpBindingProvider.prototype.getReceiverBindings=function(){let t=e.XList.create();t.add(e.SemanticBindingType.STRING);return t};e.SxJsonDpBindingProvider.prototype.getReceiverProtocolBindings=function(t){let n=e.XList.create();n.add(e.ProtocolBindingType.STRING);return n};e.SxJsonDpBindingProvider.prototype.getSenderBindings=function(){let t=e.XList.create();t.add(e.SemanticBindingType.STRING);return t};e.SxJsonDpBindingProvider.prototype.getSenderProtocolBindings=function(t){let n=e.XList.create();n.add(e.ProtocolBindingType.STRING);return n};e.SxJsonDpBindingProvider.prototype.newReceiverBinding=function(t,n){return e.SxJsonDpBindingReceiver.create(this.m_dp,this.m_path)};e.SxJsonDpBindingProvider.prototype.newSenderBinding=function(t,n){return e.SxJsonDpBindingSender.create(this.m_dp,this.m_path)};e.SxRestDpBindingFactory=function(){};e.SxRestDpBindingFactory.prototype=new e.DpBindingFactory;e.SxRestDpBindingFactory.prototype._ff_c="SxRestDpBindingFactory";e.SxRestDpBindingFactory.staticSetupJsonBindingFactory=function(){e.DpBindingFactory.registerFactory(e.QuasarComponentType.REST_DATA_PROVIDER,new e.SxRestDpBindingFactory)};e.SxRestDpBindingFactory.prototype.newBindingProvider=function(t,n){let i=t;return e.SxRestDpBindingProvider.create(i,n)};e.SxRestDpBindingProvider=function(){};e.SxRestDpBindingProvider.prototype=new e.XObject;e.SxRestDpBindingProvider.prototype._ff_c="SxRestDpBindingProvider";e.SxRestDpBindingProvider.create=function(t,n){let i=new e.SxRestDpBindingProvider;i.m_dp=t;i.m_path=n;return i};e.SxRestDpBindingProvider.prototype.m_dp=null;e.SxRestDpBindingProvider.prototype.m_path=null;e.SxRestDpBindingProvider.prototype.getReceiverBindings=function(){let t=e.XList.create();t.add(e.SemanticBindingType.STRING);return t};e.SxRestDpBindingProvider.prototype.getReceiverProtocolBindings=function(t){let n=e.XList.create();n.add(e.ProtocolBindingType.STRING);return n};e.SxRestDpBindingProvider.prototype.getSenderBindings=function(){let t=e.XList.create();t.add(e.SemanticBindingType.STRING);return t};e.SxRestDpBindingProvider.prototype.getSenderProtocolBindings=function(t){let n=e.XList.create();n.add(e.ProtocolBindingType.STRING);return n};e.SxRestDpBindingProvider.prototype.newReceiverBinding=function(e,t){return null};e.SxRestDpBindingProvider.prototype.newSenderBinding=function(t,n){return e.SxRestDpBindingSender.create(this.m_dp,this.m_path)};e.SiToken=function(){};e.SiToken.prototype=new e.XObject;e.SiToken.prototype._ff_c="SiToken";e.SiToken.create=function(t){return e.SiToken.createExt(t,-1,null,null)};e.SiToken.createExt=function(t,n,i,r){let o=new e.SiToken;o.m_type=t;if(n!==-1){o.m_operatorLevel=n}else{o.m_operatorLevel=t.getOperatorLevel()}o.m_value=i;o.m_children=r;return o};e.SiToken.createWithValue=function(t,n){return e.SiToken.createExt(t,-1,n,null)};e.SiToken.prototype.m_children=null;e.SiToken.prototype.m_operatorLevel=0;e.SiToken.prototype.m_type=null;e.SiToken.prototype.m_value=null;e.SiToken.prototype.add=function(t){if(e.isNull(this.m_children)){this.m_children=e.XList.create()}this.m_children.add(t);return this};e.SiToken.prototype.getChild=function(){if(e.notNull(this.m_children)&&this.m_children.size()===1){return this.m_children.get(0)}return null};e.SiToken.prototype.getChildren=function(){return this.m_children};e.SiToken.prototype.getLeft=function(){if(e.notNull(this.m_children)&&this.m_children.size()>0){return this.m_children.get(0)}return null};e.SiToken.prototype.getOperatorLevel=function(){return this.m_operatorLevel};e.SiToken.prototype.getRight=function(){if(e.notNull(this.m_children)&&this.m_children.size()>1){return this.m_children.get(1)}return null};e.SiToken.prototype.getType=function(){return this.m_type};e.SiToken.prototype.getValue=function(){return this.m_value};e.SiToken.prototype.hasElements=function(){return this.isEmpty()===false};e.SiToken.prototype.isEmpty=function(){return e.isNull(this.m_children)||this.m_children.size()===0};e.SiToken.prototype.setChildren=function(e){this.m_children=e};e.SiToken.prototype.setValue=function(e){this.m_value=e};e.SiToken.prototype.size=function(){if(e.isNull(this.m_children)){return 0}return this.m_children.size()};e.SiToken.prototype.toClassicString=function(){let t=e.XStringBuffer.create();if(this.m_type===e.SiTokenType.ROUND_BRACKET){t.append("(")}else{t.append(this.m_type.getName());if(e.notNull(this.m_value)){t.append(":");t.append(this.m_value)}}if(e.notNull(this.m_children)){t.append("[");for(let e=0;e<this.m_children.size();e++){if(e>0){t.append(", ")}t.append(this.m_children.get(e).toClassicString())}t.append("]")}if(this.m_type===e.SiTokenType.ROUND_BRACKET){t.append(")")}return t.toString()};e.SiToken.prototype.toJson=function(){let t=e.XStringBufferJson.create();this.toJsonInternal(t);return t.toString()};e.SiToken.prototype.toJsonInternal=function(t){if(this.m_type!==e.SiTokenType.ROUND_BRACKET){t.openStructure();t.appendLabelAndString("Name",this.m_type.getName());if(e.notNull(this.m_value)){t.appendLabelAndString("Value",this.m_value)}if(e.notNull(this.m_children)){t.appendLabel("Children")}}if(e.notNull(this.m_children)){t.openArray();for(let e=0;e<this.m_children.size();e++){let n=this.m_children.get(e);n.toJsonInternal(t)}t.closeArray()}if(this.m_type!==e.SiTokenType.ROUND_BRACKET){t.closeStructure()}return t};e.SiToken.prototype.toString=function(){return this.toClassicString()};e.SiToken.prototype.write=function(t){if(this.m_type===e.SiTokenType.EXPR_SEQ){t.writeExpressionSequence(this)}else if(this.m_type===e.SiTokenType.FUNCTION){t.writeFunction(this)}else if(this.m_type===e.SiTokenType.STRING){t.writeString(this)}else if(this.m_type===e.SiTokenType.INTEGER){t.writeInteger(this)}else if(this.m_type===e.SiTokenType.DOUBLE){t.writeDouble(this)}else if(this.m_type===e.SiTokenType.IDENTIFIER){t.writeIdentifier(this)}else if(this.m_type===e.SiTokenType.CURLY_BRACKET){t.writeBlock(this)}else if(this.m_type===e.SiTokenType.OP_DOT){t.writeOpDot(this)}else if(this.m_type===e.SiTokenType.OP_PLUS){t.writeOpPlus(this)}else if(this.m_type===e.SiTokenType.OP_MINUS){t.writeOpMinus(this)}else if(this.m_type===e.SiTokenType.OP_MULT){t.writeOpMult(this)}else if(this.m_type===e.SiTokenType.OP_DIV){t.writeOpDiv(this)}else if(this.m_type===e.SiTokenType.OP_LOWER){t.writeOpLower(this)}else if(this.m_type===e.SiTokenType.OP_LOWER_EQUAL){t.writeOpLowerEqual(this)}else if(this.m_type===e.SiTokenType.OP_GREATER){t.writeOpGreater(this)}else if(this.m_type===e.SiTokenType.OP_GREATER_EQUAL){t.writeOpGreaterEqual(this)}else if(this.m_type===e.SiTokenType.OP_EQUAL){t.writeOpEqual(this)}else if(this.m_type===e.SiTokenType.OP_NOT_EQUAL){t.writeOpNotEqual(this)}else if(this.m_type===e.SiTokenType.OP_BOOL_AND){t.writeOpBoolAnd(this)}else if(this.m_type===e.SiTokenType.OP_BOOL_OR){t.writeOpBoolOr(this)}else if(this.m_type===e.SiTokenType.CONST_TRUE){t.writeTrue(this)}else if(this.m_type===e.SiTokenType.CONST_FALSE){t.writeFalse(this)}else{t.writeDefault(this)}};e.UiBinding=function(){};e.UiBinding.prototype=new e.XObject;e.UiBinding.prototype._ff_c="UiBinding";e.UiBinding.prototype.m_context=null;e.UiBinding.prototype.getUiContext=function(){return e.XWeakReferenceUtil.getHardRef(this.m_context)};e.UiBinding.prototype.isReceiverReady=function(){return true};e.UiBinding.prototype.registerReceiverReadyListener=function(e,t){};e.UiBinding.prototype.releaseObject=function(){this.m_context=null;e.XObject.prototype.releaseObject.call(this)};e.UiBinding.prototype.setupExt=function(t){this.m_context=e.XWeakReferenceUtil.getWeakRef(t)};e.UiBinding.prototype.unregisterReceiverReadyListener=function(e){};e.UiBindingFactory=function(){};e.UiBindingFactory.prototype=new e.DpBindingFactory;e.UiBindingFactory.prototype._ff_c="UiBindingFactory";e.UiBindingFactory.staticSetupUiBindingFactory=function(){e.DpBindingFactory.registerFactory(e.UiComponentType.UI_CONTROL,new e.UiBindingFactory)};e.UiBindingFactory.prototype.newBindingProvider=function(t,n){if(e.XStringUtils.isNullOrEmpty(n)){return e.UiBindingProviderForStd.create(t,n)}else{return e.UiBindingProviderForAttributes.create(t,n)}};e.UiBindingProviderForAttributes=function(){};e.UiBindingProviderForAttributes.prototype=new e.XObject;e.UiBindingProviderForAttributes.prototype._ff_c="UiBindingProviderForAttributes";e.UiBindingProviderForAttributes.create=function(t,n){let i=new e.UiBindingProviderForAttributes;i.m_component=t;i.m_path=n;i.m_getterProperty=e.UiAllOperations.lookupGetterProperty(n);i.m_setterProperty=e.UiAllOperations.lookupSetterProperty(n);return i};e.UiBindingProviderForAttributes.prototype.m_component=null;e.UiBindingProviderForAttributes.prototype.m_getterProperty=null;e.UiBindingProviderForAttributes.prototype.m_path=null;e.UiBindingProviderForAttributes.prototype.m_setterProperty=null;e.UiBindingProviderForAttributes.prototype.getReceiverBindings=function(){let t=e.XList.create();let n=this.m_setterProperty.getComponentType();if(e.notNull(n)){if(n.isTypeOf(e.UiComponentType.UI_PROPERTY_OP_STRING)){t.add(e.SemanticBindingType.STRING)}else if(n.isTypeOf(e.UiComponentType.UI_PROPERTY_OP_JSON)){t.add(e.SemanticBindingType.JSON)}}return t};e.UiBindingProviderForAttributes.prototype.getReceiverProtocolBindings=function(t){let n=e.XList.create();let i=this.m_setterProperty.getComponentType();if(e.notNull(i)){if(i.isTypeOf(e.UiComponentType.UI_PROPERTY_OP_STRING)){n.add(e.ProtocolBindingType.STRING)}else if(i.isTypeOf(e.UiComponentType.UI_PROPERTY_OP_JSON)){n.add(e.ProtocolBindingType.JSON)}}return n};e.UiBindingProviderForAttributes.prototype.getSenderBindings=function(){let t=e.XList.create();let n=this.m_getterProperty.getComponentType();if(e.notNull(n)){if(n.isTypeOf(e.UiComponentType.UI_PROPERTY_OP_STRING)){t.add(e.SemanticBindingType.STRING)}else if(n.isTypeOf(e.UiComponentType.UI_PROPERTY_OP_JSON)){t.add(e.SemanticBindingType.JSON)}}return t};e.UiBindingProviderForAttributes.prototype.getSenderProtocolBindings=function(t){let n=e.XList.create();let i=this.m_getterProperty.getComponentType();if(e.notNull(i)){if(i.isTypeOf(e.UiComponentType.UI_PROPERTY_OP_STRING)){n.add(e.ProtocolBindingType.STRING)}else if(i.isTypeOf(e.UiComponentType.UI_PROPERTY_OP_JSON)){n.add(e.ProtocolBindingType.JSON)}}return n};e.UiBindingProviderForAttributes.prototype.newReceiverBinding=function(t,n){let i=null;if(n===e.ProtocolBindingType.STRING){i=e.UiBindingReceivePropString.create(this.m_component,this.m_setterProperty)}else if(n===e.ProtocolBindingType.JSON){i=e.UiBindingReceivePropJson.create(this.m_component,this.m_setterProperty)}return i};e.UiBindingProviderForAttributes.prototype.newSenderBinding=function(t,n){let i=null;if(n===e.ProtocolBindingType.STRING){i=e.UiBindingSendPropString.create(this.m_component,this.m_getterProperty)}else if(n===e.ProtocolBindingType.JSON){i=e.UiBindingSendPropJson.create(this.m_component,this.m_getterProperty)}return i};e.UiBindingProviderForAttributes.prototype.toString=function(){return this.m_path};e.UiBindingProviderForStd=function(){};e.UiBindingProviderForStd.prototype=new e.XObject;e.UiBindingProviderForStd.prototype._ff_c="UiBindingProviderForStd";e.UiBindingProviderForStd.create=function(t,n){let i=new e.UiBindingProviderForStd;i.m_component=t;i.m_path=n;return i};e.UiBindingProviderForStd.prototype.m_component=null;e.UiBindingProviderForStd.prototype.m_path=null;e.UiBindingProviderForStd.prototype.getReceiverBindings=function(){let e=this.m_component;return e.getUiType().getReceiverBindings()};e.UiBindingProviderForStd.prototype.getReceiverProtocolBindings=function(e){let t=this.m_component;return t.getUiType().getReceiverProtocolBindings(e)};e.UiBindingProviderForStd.prototype.getSenderBindings=function(){let e=this.m_component;return e.getUiType().getSenderBindings()};e.UiBindingProviderForStd.prototype.getSenderProtocolBindings=function(e){let t=this.m_component;return t.getUiType().getSenderProtocolBindings(e)};e.UiBindingProviderForStd.prototype.newReceiverBinding=function(t,n){let i=this.m_component;if(t.isTypeOf(e.SemanticBindingType.STRING)){return e.UiBindingReceiveText.create(i)}else if(t.isTypeOf(e.SemanticBindingType.JSON)){return e.UiBindingReceiveJson.create(i)}else{return null}};e.UiBindingProviderForStd.prototype.newSenderBinding=function(t,n){let i=this.m_component;if(t===e.SemanticBindingType.STRING){return e.UiBindingSendText.create(i)}return null};e.UiBindingProviderForStd.prototype.toString=function(){return this.m_path};e.UiPrgContainerFactory=function(){};e.UiPrgContainerFactory.prototype=new e.ProgramContainerFactory;e.UiPrgContainerFactory.prototype._ff_c="UiPrgContainerFactory";e.UiPrgContainerFactory.staticSetupUiContainerFactory=function(){e.ProgramContainerFactory.registerFactory(e.ProgramContainerType.CONSOLE,new e.UiPrgContainerFactory);e.ProgramContainerFactory.registerFactory(e.ProgramContainerType.WINDOW,new e.UiPrgContainerFactory);e.ProgramContainerFactory.registerFactory(e.ProgramContainerType.DIALOG,new e.UiPrgContainerFactory);e.ProgramContainerFactory.registerFactory(e.ProgramContainerType.STANDALONE,new e.UiPrgContainerFactory);e.ProgramContainerFactory.registerFactory(e.ProgramContainerType.CONTENT,new e.UiPrgContainerFactory)};e.UiPrgContainerFactory.prototype.newProgramContainer=function(t){let n=null;if(t===e.ProgramContainerType.CONSOLE){n=e.UiPrgContainerTerminal.createExt(null,null)}else if(t===e.ProgramContainerType.WINDOW){n=e.UiPrgContainerWindow.createExt(null,null)}else if(t===e.ProgramContainerType.DIALOG){n=e.UiPrgContainerDialog.createExt(null,null)}else if(t===e.ProgramContainerType.STANDALONE){n=e.UiPrgContainerStandalone.createExt(null,null)}else if(t===e.ProgramContainerType.CONTENT){n=e.UiPrgContainerContent.createExt(null,null)}return n};e.SxJsonDp=function(){};e.SxJsonDp.prototype=new e.XObject;e.SxJsonDp.prototype._ff_c="SxJsonDp";e.SxJsonDp.prototype.m_name=null;e.SxJsonDp.prototype.m_structure=null;e.SxJsonDp.prototype.m_tagging=null;e.SxJsonDp.prototype.convertArray=function(t){let n=-1;if(e.XString.startsWith(t,"(")&&e.XString.endsWith(t," )")){let i=e.XString.size(t);let r=e.XString.substring(t,1,i-2);n=e.XInteger.convertFromStringWithDefault(r,-1)}return n};e.SxJsonDp.prototype.getComponentType=function(){return e.QuasarComponentType.JSON_DATA_PROVIDER};e.SxJsonDp.prototype.getDataProviderName=function(){return this.m_name};e.SxJsonDp.prototype.getElementByPath=function(t){let n=e.XStringTokenizer.splitString(t,"/");let i=this.m_structure;let r=0;for(;r<n.size()&&e.notNull(i);r++){let t=n.get(r);let o=i.getType();if(o===e.PrElementType.LIST){let e=i;let n=this.convertArray(t);if(n>=0&&n<e.size()){i=e.get(n)}else{i=null}}else if(o===e.PrElementType.STRUCTURE){let e=i;i=e.getByKey(t)}else{i=null}}let o=null;if(r===n.size()&&e.notNull(i)){o=i}return o};e.SxJsonDp.prototype.getTagging=function(){return this.m_tagging};e.SxJsonDp.prototype.setDataProviderName=function(e){this.m_name=e};e.SxJsonDp.prototype.setElementByPath=function(t,n){let i;let r;let o;let s;let p;let a=e.XStringTokenizer.splitString(t,"/");let l=this.m_structure;let u=0;for(;u<a.size()-1&&e.notNull(l);u++){i=a.get(u);r=l.getType();if(r===e.PrElementType.LIST){o=l;p=this.convertArray(i);if(p>=0&&p<o.size()){l=o.get(p)}else{l=null}}else if(r===e.PrElementType.STRUCTURE){s=l;l=s.getByKey(i)}else{l=null}}if(e.notNull(l)){i=a.get(u);r=l.getType();if(r===e.PrElementType.LIST){o=l;p=this.convertArray(i);if(p>=0&&p<o.size()){l=o.get(p)}else{l=null}}else if(r===e.PrElementType.STRUCTURE){s=l;l=s.getByKey(i)}}};e.SxJsonDpBindingReceiver=function(){};e.SxJsonDpBindingReceiver.prototype=new e.XObject;e.SxJsonDpBindingReceiver.prototype._ff_c="SxJsonDpBindingReceiver";e.SxJsonDpBindingReceiver.create=function(t,n){let i=new e.SxJsonDpBindingReceiver;i.m_dp=t;i.m_path=n;return i};e.SxJsonDpBindingReceiver.prototype.m_dp=null;e.SxJsonDpBindingReceiver.prototype.m_path=null;e.SxJsonDpBindingReceiver.prototype.getComponentType=function(){return e.IoComponentType.BINDING_RECEIVER};e.SxJsonDpBindingReceiver.prototype.getInteger=function(){let t=this.m_dp.getElementByPath(this.m_path);if(e.notNull(t)){let n=t.getType();if(n===e.PrElementType.INTEGER){return t.getInteger()}}return 0};e.SxJsonDpBindingReceiver.prototype.getString=function(){let t=this.m_dp.getElementByPath(this.m_path);if(e.notNull(t)){let n=t.getType();if(n===e.PrElementType.STRING){return t.getString()}}return null};e.SxJsonDpBindingReceiver.prototype.isReceiverReady=function(){return true};e.SxJsonDpBindingReceiver.prototype.registerReceiverReadyListener=function(e,t){};e.SxJsonDpBindingReceiver.prototype.setDataManifest=function(e){};e.SxJsonDpBindingReceiver.prototype.setElement=function(e){this.m_dp.setElementByPath(this.m_path,e)};e.SxJsonDpBindingReceiver.prototype.setInteger=function(t){let n=e.PrFactory.createInteger(t);this.setElement(n)};e.SxJsonDpBindingReceiver.prototype.setString=function(t){let n=e.PrFactory.createString(t);this.setElement(n)};e.SxJsonDpBindingReceiver.prototype.unregisterReceiverReadyListener=function(e){};e.SxJsonDpBindingSender=function(){};e.SxJsonDpBindingSender.prototype=new e.XObject;e.SxJsonDpBindingSender.prototype._ff_c="SxJsonDpBindingSender";e.SxJsonDpBindingSender.create=function(t,n){let i=new e.SxJsonDpBindingSender;i.m_dp=t;i.m_path=n;return i};e.SxJsonDpBindingSender.prototype.m_dp=null;e.SxJsonDpBindingSender.prototype.m_path=null;e.SxJsonDpBindingSender.prototype.getComponentType=function(){return e.IoComponentType.BINDING_SENDER};e.SxJsonDpBindingSender.prototype.getDataManifest=function(){return null};e.SxJsonDpBindingSender.prototype.getElement=function(){return this.m_dp.getElementByPath(this.m_path)};e.SxJsonDpBindingSender.prototype.getInteger=function(){let t=this.getElement();if(e.notNull(t)&&t.getType()===e.PrElementType.INTEGER){return t.getInteger()}return 0};e.SxJsonDpBindingSender.prototype.getString=function(){let t=this.getElement();if(e.notNull(t)&&t.getType()===e.PrElementType.STRING){return t.getString()}return null};e.SxJsonDpBindingSender.prototype.isSenderValueReady=function(){return true};e.SxJsonDpBindingSender.prototype.processSenderUpdate=function(){};e.SxJsonDpBindingSender.prototype.registerValueChangedListener=function(e,t){};e.SxJsonDpBindingSender.prototype.unregisterValueChangedListener=function(e){};e.SxRestDp=function(){};e.SxRestDp.prototype=new e.XObject;e.SxRestDp.prototype._ff_c="SxRestDp";e.SxRestDp.prototype.m_application=null;e.SxRestDp.prototype.m_dataRetrieved=false;e.SxRestDp.prototype.m_dataUpdateListener=null;e.SxRestDp.prototype.m_httpClient=null;e.SxRestDp.prototype.m_name=null;e.SxRestDp.prototype.m_structure=null;e.SxRestDp.prototype.m_tagging=null;e.SxRestDp.prototype.convertArray=function(t){let n=-1;if(e.XString.startsWith(t,"(")&&e.XString.endsWith(t," )")){let i=e.XString.size(t);let r=e.XString.substring(t,1,i-2);n=e.XInteger.convertFromStringWithDefault(r,-1)}return n};e.SxRestDp.prototype.getComponentType=function(){return e.QuasarComponentType.REST_DATA_PROVIDER};e.SxRestDp.prototype.getDataProviderName=function(){return this.m_name};e.SxRestDp.prototype.getElementByPath=function(t){let n=e.XStringTokenizer.splitString(t,"/");let i=this.m_structure;let r=0;for(;r<n.size()&&e.notNull(i);r++){let t=n.get(r);let o=i.getType();if(o===e.PrElementType.LIST){let e=i;let n=this.convertArray(t);if(n>=0&&n<e.size()){i=e.get(n)}else{i=null}}else if(o===e.PrElementType.STRUCTURE){let e=i;i=e.getByKey(t)}else{i=null}}let o=null;if(r===n.size()&&e.notNull(i)){o=i}return o};e.SxRestDp.prototype.getTagging=function(){return this.m_tagging};e.SxRestDp.prototype.isDataReady=function(){return this.m_dataRetrieved};e.SxRestDp.prototype.onHttpResponse=function(t,n,i){if(t.isValid()){let n=t.getData();if(e.notNull(n)){let t=n.getJsonContent();if(e.notNull(t)){this.m_structure=t.asStructure();this.m_dataRetrieved=true;if(e.notNull(this.m_dataUpdateListener)){this.m_dataUpdateListener.onRestDataUpdate(this.m_structure,null)}}}}};e.SxRestDp.prototype.registerDataUpdate=function(e){this.m_dataUpdateListener=e};e.SxRestDp.prototype.releaseObject=function(){this.m_application.unregisterDataProvider(this);this.m_application=null;this.m_httpClient=e.XObjectExt.release(this.m_httpClient);e.XObject.prototype.releaseObject.call(this)};e.SxRestDp.prototype.setDataProviderName=function(e){this.m_name=e};e.SxRestDp.prototype.setElementByPath=function(t,n){let i;let r;let o;let s;let p;let a=e.XStringTokenizer.splitString(t,"/");let l=this.m_structure;let u=0;for(;u<a.size()-1&&e.notNull(l);u++){i=a.get(u);r=l.getType();if(r===e.PrElementType.LIST){o=l;p=this.convertArray(i);if(p>=0&&p<o.size()){l=o.get(p)}else{l=null}}else if(r===e.PrElementType.STRUCTURE){s=l;l=s.getByKey(i)}else{l=null}}if(e.notNull(l)){i=a.get(u);r=l.getType();if(r===e.PrElementType.LIST){o=l;p=this.convertArray(i);if(p>=0&&p<o.size()){l=o.get(p)}else{l=null}}else if(r===e.PrElementType.STRUCTURE){s=l;l=s.getByKey(i)}}};e.SxRestDp.prototype.setEndpointUrl=function(t){if(e.XStringUtils.isNotNullAndNotEmpty(t)){let n=e.XUri.createFromUrl(t);if(e.notNull(n)){this.m_httpClient=e.HttpClientFactory.newInstanceByConnection(this.m_application.getSession(),n);if(e.notNull(this.m_httpClient)){let e=this.m_httpClient.getRequest();e.setFromUri(n);e.setCorsSecured(false)}}}};e.SxRestDp.prototype.setupExt=function(t,n,i){this.setup();this.m_application=i;this.m_dataRetrieved=false;this.m_structure=e.PrStructure.create();this.setDataProviderName(t);this.setEndpointUrl(n);this.m_application.registerDataProvider(this)};e.SxRestDp.prototype.updateData=function(){if(e.notNull(this.m_httpClient)){this.m_httpClient.processHttpRequest(e.SyncType.NON_BLOCKING,this,null)}};e.SxRestDpBindingSender=function(){};e.SxRestDpBindingSender.prototype=new e.XObject;e.SxRestDpBindingSender.prototype._ff_c="SxRestDpBindingSender";e.SxRestDpBindingSender.create=function(t,n){let i=new e.SxRestDpBindingSender;i.m_dp=t;i.m_path=n;t.registerDataUpdate(i);return i};e.SxRestDpBindingSender.prototype.m_dp=null;e.SxRestDpBindingSender.prototype.m_path=null;e.SxRestDpBindingSender.prototype.m_valueChangedListener=null;e.SxRestDpBindingSender.prototype.getComponentType=function(){return e.IoComponentType.BINDING_SENDER};e.SxRestDpBindingSender.prototype.getDataManifest=function(){return null};e.SxRestDpBindingSender.prototype.getElement=function(){return this.m_dp.getElementByPath(this.m_path)};e.SxRestDpBindingSender.prototype.getInteger=function(){let t=this.getElement();if(e.notNull(t)&&t.getType()===e.PrElementType.INTEGER){return t.getInteger()}return 0};e.SxRestDpBindingSender.prototype.getString=function(){let t=this.getElement();if(e.notNull(t)){if(t.getType()===e.PrElementType.STRING){return t.getString()}else{let n=t.asString();if(e.notNull(n)){return n.getString()}}}return null};e.SxRestDpBindingSender.prototype.isSenderValueReady=function(){return this.m_dp.isDataReady()};e.SxRestDpBindingSender.prototype.onRestDataUpdate=function(t,n){if(e.notNull(this.m_valueChangedListener)){this.m_valueChangedListener.onSenderValueChanged(this,null)}};e.SxRestDpBindingSender.prototype.processSenderUpdate=function(){this.m_dp.updateData()};e.SxRestDpBindingSender.prototype.registerValueChangedListener=function(e,t){this.m_valueChangedListener=e};e.SxRestDpBindingSender.prototype.unregisterValueChangedListener=function(e){};e.UiBindingReceiveJson=function(){};e.UiBindingReceiveJson.prototype=new e.UiBinding;e.UiBindingReceiveJson.prototype._ff_c="UiBindingReceiveJson";e.UiBindingReceiveJson.create=function(t){let n=new e.UiBindingReceiveJson;n.setupExt(t);return n};e.UiBindingReceiveJson.prototype.getComponentType=function(){return e.IoComponentType.BINDING_RECEIVER};e.UiBindingReceiveJson.prototype.setDataManifest=function(t){let n=this.getUiContext();if(e.notNull(n)){n.setDataManifest(t)}};e.UiBindingReceiveJson.prototype.setElement=function(t){let n=this.getUiContext();if(e.notNull(n)){n.setModelJson(t)}};e.UiBindingReceivePropJson=function(){};e.UiBindingReceivePropJson.prototype=new e.UiBinding;e.UiBindingReceivePropJson.prototype._ff_c="UiBindingReceivePropJson";e.UiBindingReceivePropJson.create=function(t,n){let i=new e.UiBindingReceivePropJson;i.setupExt(t);i.m_clientOp=n;return i};e.UiBindingReceivePropJson.prototype.m_clientOp=null;e.UiBindingReceivePropJson.prototype.getComponentType=function(){return e.IoComponentType.BINDING_RECEIVER};e.UiBindingReceivePropJson.prototype.setDataManifest=function(e){};e.UiBindingReceivePropJson.prototype.setElement=function(t){let n=this.getUiContext();if(e.notNull(n)&&e.notNull(this.m_clientOp)){this.m_clientOp.setJsonValue(n,t)}};e.UiBindingReceivePropString=function(){};e.UiBindingReceivePropString.prototype=new e.UiBinding;e.UiBindingReceivePropString.prototype._ff_c="UiBindingReceivePropString";e.UiBindingReceivePropString.create=function(t,n){let i=new e.UiBindingReceivePropString;i.setupExt(t);i.m_clientOp=n;return i};e.UiBindingReceivePropString.prototype.m_clientOp=null;e.UiBindingReceivePropString.prototype.getComponentType=function(){return e.IoComponentType.BINDING_RECEIVER};e.UiBindingReceivePropString.prototype.getString=function(){let t=this.getUiContext();if(e.isNull(t)){return null}return this.m_clientOp.getString(t)};e.UiBindingReceivePropString.prototype.setDataManifest=function(e){};e.UiBindingReceivePropString.prototype.setString=function(t){let n=this.getUiContext();if(e.notNull(n)&&e.notNull(this.m_clientOp)){this.m_clientOp.setString(n,t)}};e.UiBindingReceiveText=function(){};e.UiBindingReceiveText.prototype=new e.UiBinding;e.UiBindingReceiveText.prototype._ff_c="UiBindingReceiveText";e.UiBindingReceiveText.create=function(t){let n=new e.UiBindingReceiveText;n.setupExt(t);return n};e.UiBindingReceiveText.prototype.getComponentType=function(){return e.IoComponentType.BINDING_RECEIVER};e.UiBindingReceiveText.prototype.getString=function(){let t=this.getUiContext();if(e.isNull(t)){return null}return t.getText()};e.UiBindingReceiveText.prototype.setDataManifest=function(e){};e.UiBindingReceiveText.prototype.setString=function(t){let n=this.getUiContext();if(e.notNull(n)){n.setText(t)}};e.UiBindingSendPropJson=function(){};e.UiBindingSendPropJson.prototype=new e.XObject;e.UiBindingSendPropJson.prototype._ff_c="UiBindingSendPropJson";e.UiBindingSendPropJson.create=function(t,n){let i=new e.UiBindingSendPropJson;i.m_context=t;i.m_clientOp=n;return i};e.UiBindingSendPropJson.prototype.m_clientOp=null;e.UiBindingSendPropJson.prototype.m_context=null;e.UiBindingSendPropJson.prototype.m_customIdentifier=null;e.UiBindingSendPropJson.prototype.m_listener=null;e.UiBindingSendPropJson.prototype.getComponentType=function(){return e.IoComponentType.BINDING_SENDER};e.UiBindingSendPropJson.prototype.getDataManifest=function(){return null};e.UiBindingSendPropJson.prototype.getElement=function(){let e=this.m_clientOp.getJsonValue(this.m_context);return e};e.UiBindingSendPropJson.prototype.isSenderValueReady=function(){return true};e.UiBindingSendPropJson.prototype.onChange=function(t){if(e.notNull(this.m_listener)){this.m_listener.onSenderValueChanged(this,this.m_customIdentifier)}};e.UiBindingSendPropJson.prototype.processSenderUpdate=function(){};e.UiBindingSendPropJson.prototype.registerValueChangedListener=function(e,t){this.m_listener=e;this.m_customIdentifier=t;this.m_context.registerOnChange(this)};e.UiBindingSendPropJson.prototype.releaseObject=function(){this.m_context=null;this.m_listener=null;this.m_customIdentifier=null;this.m_clientOp=null;e.XObject.prototype.releaseObject.call(this)};e.UiBindingSendPropJson.prototype.unregisterValueChangedListener=function(e){this.m_context.registerOnChange(null);this.m_listener=null;this.m_customIdentifier=null};e.UiBindingSendPropString=function(){};e.UiBindingSendPropString.prototype=new e.XObject;e.UiBindingSendPropString.prototype._ff_c="UiBindingSendPropString";e.UiBindingSendPropString.create=function(t,n){let i=new e.UiBindingSendPropString;i.m_context=t;i.m_clientOp=n;return i};e.UiBindingSendPropString.prototype.m_clientOp=null;e.UiBindingSendPropString.prototype.m_context=null;e.UiBindingSendPropString.prototype.m_customIdentifier=null;e.UiBindingSendPropString.prototype.m_listener=null;e.UiBindingSendPropString.prototype.getComponentType=function(){return e.IoComponentType.BINDING_SENDER};e.UiBindingSendPropString.prototype.getDataManifest=function(){return null};e.UiBindingSendPropString.prototype.getString=function(){let e=this.m_clientOp.getString(this.m_context);return e};e.UiBindingSendPropString.prototype.isSenderValueReady=function(){return true};e.UiBindingSendPropString.prototype.onChange=function(t){if(e.notNull(this.m_listener)){this.m_listener.onSenderValueChanged(this,this.m_customIdentifier)}};e.UiBindingSendPropString.prototype.processSenderUpdate=function(){};e.UiBindingSendPropString.prototype.registerValueChangedListener=function(e,t){this.m_listener=e;this.m_customIdentifier=t;this.m_context.registerOnChange(this)};e.UiBindingSendPropString.prototype.releaseObject=function(){this.m_context=null;this.m_listener=null;this.m_customIdentifier=null;this.m_clientOp=null;e.XObject.prototype.releaseObject.call(this)};e.UiBindingSendPropString.prototype.unregisterValueChangedListener=function(e){this.m_context.registerOnChange(null);this.m_listener=null;this.m_customIdentifier=null};e.UiBindingSendText=function(){};e.UiBindingSendText.prototype=new e.XObject;e.UiBindingSendText.prototype._ff_c="UiBindingSendText";e.UiBindingSendText.create=function(t){let n=new e.UiBindingSendText;n.m_context=t;return n};e.UiBindingSendText.prototype.m_context=null;e.UiBindingSendText.prototype.m_customIdentifier=null;e.UiBindingSendText.prototype.m_listener=null;e.UiBindingSendText.prototype.getComponentType=function(){return e.IoComponentType.BINDING_SENDER};e.UiBindingSendText.prototype.getDataManifest=function(){return null};e.UiBindingSendText.prototype.getString=function(){return this.m_context.getText()};e.UiBindingSendText.prototype.isSenderValueReady=function(){return true};e.UiBindingSendText.prototype.onChange=function(t){if(e.notNull(this.m_listener)){this.m_listener.onSenderValueChanged(this,this.m_customIdentifier)}};e.UiBindingSendText.prototype.processSenderUpdate=function(){};e.UiBindingSendText.prototype.registerValueChangedListener=function(e,t){this.m_listener=e;this.m_customIdentifier=t;this.m_context.registerOnChange(this)};e.UiBindingSendText.prototype.releaseObject=function(){this.m_context=null;this.m_listener=null;this.m_customIdentifier=null;e.XObject.prototype.releaseObject.call(this)};e.UiBindingSendText.prototype.unregisterValueChangedListener=function(e){this.m_context.registerOnChange(null);this.m_listener=null;this.m_customIdentifier=null};e.SiProject=function(){};e.SiProject.prototype=new e.DfNameObject;e.SiProject.prototype._ff_c="SiProject";e.SiProject.create=function(t){let n=new e.SiProject;n._setupInternal(t);return n};e.SiProject.prototype.m_compilationUnits=null;e.SiProject.prototype.load=function(t){let n=t.load();let i=n.getString();let r=t.getName();this.m_compilationUnits.put(r,i);this.logMulti("Parsing ").append(t.getNativePath()).flush();let o=e.SiParser2.create();o.parse(i,10)};e.SiProject.prototype.setup=function(){e.DfNameObject.prototype.setup.call(this);this.m_compilationUnits=e.XHashMapByString.create()};e.ScriptEngine=function(){};e.ScriptEngine.prototype=new e.MessageManager;e.ScriptEngine.prototype._ff_c="ScriptEngine";e.ScriptEngine.create=function(){let t=new e.ScriptEngine;t.setupInterpreter(null,true);return t};e.ScriptEngine.prototype.m_ast=null;e.ScriptEngine.prototype.m_useNewParser=false;e.ScriptEngine.prototype.m_virtualMachine=null;e.ScriptEngine.prototype.compile=function(t){let n;if(this.m_useNewParser){n=e.SiParser2.create()}else{n=e.SiParser.create()}this.m_ast=n.parse(t,-1);this.addAllMessages(n);if(this.isValid()){this.m_virtualMachine.setRoot(this.m_ast)}};e.ScriptEngine.prototype.compileAllProjects=function(t,n){let i=e.DefaultSession.create();let r=e.XFile.createWithVars(i,t);this.loadProjects(r)};e.ScriptEngine.prototype.compileAndExecute=function(e){this.compile(e);this.execute()};e.ScriptEngine.prototype.execute=function(){this.m_virtualMachine.execute()};e.ScriptEngine.prototype.getAstAsJson=function(){if(this.isValid()){return this.m_virtualMachine.getAstAsJson()}return""};e.ScriptEngine.prototype.getAstRoot=function(){return this.m_ast};e.ScriptEngine.prototype.getCustomObject=function(e){return this.m_virtualMachine.getCustomObject(e)};e.ScriptEngine.prototype.getStateAsJson=function(){return this.m_virtualMachine.getStateAsJson()};e.ScriptEngine.prototype.loadProjects=function(t){if(t.isDirectory()===true){let n=t.getChildren();for(let t=0;t<n.size();t++){let i=n.get(t);let r=i.getName();let o=e.SiProject.create(r);let s=i.newChild("java");this.log(r);this.loadRecursive(o,s)}}};e.ScriptEngine.prototype.loadRecursive=function(t,n){if(n.isDirectory()===true){let e=n.getChildren();for(let n=0;n<e.size();n++){let i=e.get(n);this.loadRecursive(t,i)}}else{let i=n.getName();if(e.XString.endsWith(i,".java")){t.load(n)}}};e.ScriptEngine.prototype.setCustomObject=function(e,t){this.m_virtualMachine.setCustomObject(e,t)};e.ScriptEngine.prototype.setInitialRegister=function(e){this.m_virtualMachine.setInitialRegister(e)};e.ScriptEngine.prototype.setVmCallback=function(e){this.m_virtualMachine.setVmCallback(e)};e.ScriptEngine.prototype.setupInterpreter=function(t,n){e.MessageManager.prototype.setupSessionContext.call(this,t);this.m_virtualMachine=e.SiInterpreter.create();this.m_useNewParser=n};e.ScriptEngine.prototype.toString=function(){if(this.isValid()){return this.m_virtualMachine.toString()}return e.MessageManager.prototype.toString.call(this)};e.SiInterpreter=function(){};e.SiInterpreter.prototype=new e.MessageManager;e.SiInterpreter.prototype._ff_c="SiInterpreter";e.SiInterpreter.create=function(){let t=new e.SiInterpreter;t.setupSessionContext(null);return t};e.SiInterpreter.prototype.m_callback=null;e.SiInterpreter.prototype.m_customObjects=null;e.SiInterpreter.prototype.m_register=null;e.SiInterpreter.prototype.m_registerHandler=null;e.SiInterpreter.prototype.m_root=null;e.SiInterpreter.prototype.m_savedRegisters=null;e.SiInterpreter.prototype.m_stack=null;e.SiInterpreter.prototype.m_variables=null;e.SiInterpreter.prototype.afterScriptExecution=e.noSupport;e.SiInterpreter.prototype.beforeScriptExecution=e.noSupport;e.SiInterpreter.prototype.execute=function(){if(this.isValid()&&e.notNull(this.m_root)){this.m_stack=e.XList.create();this.m_register=null;this.m_callback.beforeScriptExecution(this);this.runOperations(this.m_root);this.m_callback.afterScriptExecution(this);this.m_stack=null;this.m_register=null}};e.SiInterpreter.prototype.getAstAsJson=function(){if(this.isValid()&&e.notNull(this.m_root)){return this.m_root.toJson()}return""};e.SiInterpreter.prototype.getAstRoot=function(){return this.m_root};e.SiInterpreter.prototype.getCustomObject=function(e){return this.m_customObjects.getByKey(e)};e.SiInterpreter.prototype.getRegister=function(){return this.m_register};e.SiInterpreter.prototype.getStack=function(){return this.m_stack};e.SiInterpreter.prototype.getStateAsJson=function(){let t=e.XStringBufferJson.create();let n=e.XList.createWithList(this.m_variables.getKeysAsReadOnlyList());n.sortByDirection(e.XSortDirection.ASCENDING);let i=n.getIterator();while(i.hasNext()===true){let e=i.next();let n=this.m_variables.getByKey(e);t.appendLabelAndString(e,n.toString())}return t.toString()};e.SiInterpreter.prototype.nativeCall=function(t,n,i,r,o){let s=r.size()-o;let p=r.get(s);let a=p.getComponentType();let l=r.get(s+1);let u=l.getComponentType();let g=null;if(e.XString.isEqual(e.SiTokenType._OP_PLUS,n)||e.XString.isEqual(e.SiTokenType._OP_MINUS,n)||e.XString.isEqual(e.SiTokenType._OP_MULT,n)||e.XString.isEqual(e.SiTokenType._OP_DIV,n)){if(a===e.XValueType.INTEGER&&u===e.XValueType.INTEGER){let t=p.getInteger();let i=l.getInteger();if(e.XString.isEqual(e.SiTokenType._OP_PLUS,n)){g=e.XIntegerValue.create(t+i)}else if(e.XString.isEqual(e.SiTokenType._OP_MINUS,n)){g=e.XIntegerValue.create(t-i)}else if(e.XString.isEqual(e.SiTokenType._OP_MULT,n)){g=e.XIntegerValue.create(t*i)}else if(e.XString.isEqual(e.SiTokenType._OP_DIV,n)){g=e.XIntegerValue.create(t/i)}}else{let t=0;let i=0;if(a===e.XValueType.DOUBLE&&u===e.XValueType.DOUBLE){t=p.getDouble();i=l.getDouble()}else if(a===e.XValueType.DOUBLE&&u===e.XValueType.INTEGER){t=p.getDouble();i=l.getInteger()}else if(a===e.XValueType.INTEGER&&u===e.XValueType.DOUBLE){t=p.getInteger();i=l.getDouble()}if(e.XString.isEqual(e.SiTokenType._OP_PLUS,n)){g=e.XDoubleValue.create(t+i)}else if(e.XString.isEqual(e.SiTokenType._OP_MINUS,n)){g=e.XDoubleValue.create(t-i)}else if(e.XString.isEqual(e.SiTokenType._OP_MULT,n)){g=e.XDoubleValue.create(t*i)}else if(e.XString.isEqual(e.SiTokenType._OP_DIV,n)){g=e.XDoubleValue.create(t/i)}}}else if(e.XString.isEqual(e.SiTokenType._OP_EQUAL,n)||e.XString.isEqual(e.SiTokenType._OP_NOT_EQUAL,n)||e.XString.isEqual(e.SiTokenType._OP_LOWER,n)||e.XString.isEqual(e.SiTokenType._OP_LOWER_EQUAL,n)||e.XString.isEqual(e.SiTokenType._OP_GREATER,n)||e.XString.isEqual(e.SiTokenType._OP_GREATER_EQUAL,n)){if(a===e.XValueType.INTEGER&&u===e.XValueType.INTEGER){let t=p.getInteger();let i=l.getInteger();if(e.XString.isEqual(e.SiTokenType._OP_EQUAL,n)){g=e.XBooleanValue.create(t===i)}else if(e.XString.isEqual(e.SiTokenType._OP_NOT_EQUAL,n)){g=e.XBooleanValue.create(t!==i)}else if(e.XString.isEqual(e.SiTokenType._OP_LOWER,n)){g=e.XBooleanValue.create(t<i)}else if(e.XString.isEqual(e.SiTokenType._OP_LOWER_EQUAL,n)){g=e.XBooleanValue.create(t<=i)}else if(e.XString.isEqual(e.SiTokenType._OP_GREATER,n)){g=e.XBooleanValue.create(t>i)}else if(e.XString.isEqual(e.SiTokenType._OP_GREATER_EQUAL,n)){g=e.XBooleanValue.create(t>=i)}}}if(e.isNull(g)){g=e.XStringValue.create(e.XStringUtils.concatenate2("MyFuncResult",n))}return g};e.SiInterpreter.prototype.pop=function(e,t){let n=this.m_stack.size()-t;for(let e=0;e<t;e++){this.m_stack.removeAt(n)}};e.SiInterpreter.prototype.pushRegisterOnStack=function(e){this.m_stack.add(this.m_register)};e.SiInterpreter.prototype.pushRegisterToMemory=function(e,t){this.m_variables.put(t,this.m_register)};e.SiInterpreter.prototype.runOperations=function(t){if(e.notNull(t)){let n=t.getType();let i=t.getChildren();let r=t.getValue();if(n===e.SiTokenType.CURLY_BRACKET){for(let e=0;e<i.size();e++){let t=i.get(e);this.runOperations(t)}}else if(n===e.SiTokenType.EXPR_SEQ){for(let e=0;e<i.size();e++){this.runOperations(i.get(e))}}else if(n===e.SiTokenType.FUNCTION){let t=0;if(e.notNull(i)){t=i.size();if(t>0){this.m_registerHandler.pushRegisterOnStack(this);for(let e=0;e<t;e++){let t=i.get(e);this.runOperations(t);this.m_registerHandler.pushRegisterOnStack(this)}this.m_registerHandler.setStackToRegister(this,t)}}let n=this.m_callback.nativeCall(this,r,this.m_registerHandler.getRegister(),this.m_registerHandler.getStack(),t);this.m_savedRegisters.add(this.m_register);this.m_registerHandler.setRegister(n);if(t>0){this.m_registerHandler.pop(this,t+1)}}else if(n===e.SiTokenType.STRING||n===e.SiTokenType.CELL_SELECTION){this.m_registerHandler.setStringToRegister(this,r)}else if(n===e.SiTokenType.INTEGER){this.m_registerHandler.setIntegerToRegister(this,e.XInteger.convertFromString(r))}else if(n===e.SiTokenType.DOUBLE){this.m_registerHandler.setDoubleToRegister(this,e.XDouble.convertFromString(r))}else if(n===e.SiTokenType.CONST_FALSE){this.m_registerHandler.setBooleanToRegister(this,false)}else if(n===e.SiTokenType.CONST_TRUE){this.m_registerHandler.setBooleanToRegister(this,true)}else if(n===e.SiTokenType.OP_DOT){let e=t.getLeft();this.runOperations(e);let n=t.getRight();this.runOperations(n)}else if(n===e.SiTokenType.OP_ASSIGN){let e=t.getLeft().getValue();this.runOperations(t.getRight());this.pushRegisterToMemory(this,e)}else if(n===e.SiTokenType.OP_PLUS||n===e.SiTokenType.OP_MINUS||n===e.SiTokenType.OP_MULT||n===e.SiTokenType.OP_DIV||n===e.SiTokenType.OP_EQUAL||n===e.SiTokenType.OP_NOT_EQUAL||n===e.SiTokenType.OP_LOWER||n===e.SiTokenType.OP_LOWER_EQUAL||n===e.SiTokenType.OP_GREATER||n===e.SiTokenType.OP_GREATER_EQUAL){this.m_registerHandler.pushRegisterOnStack(this);this.runOperations(t.getLeft());this.m_registerHandler.pushRegisterOnStack(this);this.runOperations(t.getRight());this.m_registerHandler.pushRegisterOnStack(this);this.m_registerHandler.setStackToRegister(this,2);let e=this.m_registerHandler.getRegister();let i=this.m_registerHandler.getStack();let r=this.nativeCall(this,n.getName(),e,i,2);this.m_registerHandler.setRegister(r);this.m_registerHandler.pop(this,3)}else if(n===e.SiTokenType.IDENTIFIER){this.m_registerHandler.setVariableToRegister(this,r)}}};e.SiInterpreter.prototype.setBooleanToRegister=function(t,n){this.m_register=e.XBooleanValue.create(n)};e.SiInterpreter.prototype.setCustomObject=function(e,t){this.m_customObjects.put(e,t)};e.SiInterpreter.prototype.setDoubleToRegister=function(t,n){this.m_register=e.XDoubleValue.create(n)};e.SiInterpreter.prototype.setInitialRegister=function(e){this.setRegister(e)};e.SiInterpreter.prototype.setIntegerToRegister=function(t,n){this.m_register=e.XIntegerValue.create(n)};e.SiInterpreter.prototype.setRegister=function(e){this.m_register=e};e.SiInterpreter.prototype.setRoot=function(e){this.m_root=e};e.SiInterpreter.prototype.setStackToRegister=function(e,t){let n=this.m_stack.size()-1-t;this.m_register=this.m_stack.get(n)};e.SiInterpreter.prototype.setStringToRegister=function(t,n){this.m_register=e.XStringValue.create(n)};e.SiInterpreter.prototype.setVariableToRegister=function(t,n){this.m_register=e.XStringValue.create(n)};e.SiInterpreter.prototype.setVmCallback=function(e){this.m_callback=e};e.SiInterpreter.prototype.setupSessionContext=function(t){e.MessageManager.prototype.setupSessionContext.call(this,t);this.m_customObjects=e.XHashMapByString.create();this.m_variables=e.XHashMapByString.create();this.m_registerHandler=this;this.m_savedRegisters=e.XList.create()};e.SiInterpreter.prototype.toString=function(){if(this.isValid()&&e.notNull(this.m_root)){return this.m_root.toString()}return e.MessageManager.prototype.toString.call(this)};e.SiParser=function(){};e.SiParser.prototype=new e.MessageManager;e.SiParser.prototype._ff_c="SiParser";e.SiParser.create=function(){let t=new e.SiParser;t.setupSessionContext(null);return t};e.SiParser.isExecutable=function(t){return t===e.SiTokenType.FUNCTION||t===e.SiTokenType.IDENTIFIER||t===e.SiTokenType.OP_DOT};e.SiParser.prototype.clusterBrackets=function(t){let n=t.size();for(let i=0;i<n;i++){let n=t.get(i);let r=n.getChildren();let o;if(n.getType()===e.SiTokenType.EXPR_SEQ){o=this.clusterBrackets(r)}else{o=this.resolveBrackets(r)}n.setChildren(o)}return t};e.SiParser.prototype.clusterComma=function(t){let n=e.XList.create();let i=t.size();let r=null;for(let o=0;o<i;o++){let i=t.get(o);let s=i.getType();if(s===e.SiTokenType.COMMA){if(e.isNull(r)){r=e.SiToken.createWithValue(e.SiTokenType.COMMA_LIST,null)}this.prepareSeq(n,r,true);n=e.XList.create()}else{let t=i.getChildren();if(e.notNull(t)){let e=this.clusterComma(t);i.setChildren(e)}n.add(i)}}if(e.notNull(r)){this.prepareSeq(n,r,true);let t=e.XList.create();t.add(r);return t}else if(t.size()>1){let t=e.SiToken.createWithValue(e.SiTokenType.TOKEN_SEQ,null);t.setChildren(n);let i=e.XList.create();i.add(t);return i}else{return t}};e.SiParser.prototype.clusterExpressions=function(t){let n=e.SiToken.createWithValue(e.SiTokenType.EXPR_SEQ,null);let i=e.XList.create();let r=t.size();for(let o=0;o<r;o++){let r=t.get(o);if(r.getType()===e.SiTokenType.SEMICOLON){this.prepareSeq(i,n,false);i=e.XList.create()}else{i.add(r)}}this.prepareSeq(i,n,false);let o=e.XList.create();o.add(n);return o};e.SiParser.prototype.clusterFunctions=function(t){let n=null;if(e.notNull(t)){n=e.XList.create();let i=t.size();for(let r=0;r<i;r++){let o=t.get(r);let s=o.getType();let p=null;let a=null;if(r+1<i){p=t.get(r+1);a=p.getType()}if(s===e.SiTokenType.IDENTIFIER&&e.notNull(p)&&a===e.SiTokenType.ROUND_BRACKET){let t=e.SiToken.createWithValue(e.SiTokenType.FUNCTION,o.getValue());let n=p.getChildren();if(e.notNull(n)&&n.size()!==0){if(n.size()!==1){let e=this.clusterFunctions(n);t.setChildren(e)}else{let i=n.get(0);let r;if(i.getType()!==e.SiTokenType.COMMA_LIST){r=e.XList.create();r.add(i)}else{r=i.getChildren()}t.setChildren(r)}}o=t;r++}let l=o.getChildren();l=this.clusterFunctions(l);o.setChildren(l);n.add(o)}}return n};e.SiParser.prototype.clusterOperations=function(t){let n=e.XList.create();let i=t.size();for(let r=0;r<i;r++){let i=t.get(r);let o=i.getType();let s=i.getChildren();if(e.notNull(s)){s=this.clusterOperations(s);i.setChildren(s)}if(o===e.SiTokenType.TOKEN_SEQ){i=this.resolveTokenSequence(i)}n.add(i)}return n};e.SiParser.prototype.parse=function(e,t){let n=this.tokenize(e);let i=this.clusterExpressions(n);let r=this.clusterBrackets(i);let o=this.clusterComma(r);let s=this.clusterFunctions(o);let p=s;let a=this.clusterOperations(p);this.log(a.toString());if(a.size()===1){return p.get(0)}this.addError(0,"Syntax error");return null};e.SiParser.prototype.prepareSeq=function(t,n,i){let r=t.size();if(r===0){if(i){n.add(e.SiToken.createWithValue(e.SiTokenType.EMPTY,null))}}else if(r===1){n.add(t.get(0))}else{let i=e.SiToken.createWithValue(e.SiTokenType.TOKEN_SEQ,null);i.setChildren(t);n.add(i)}};e.SiParser.prototype.resolveBrackets=function(t){let n=e.XList.create();let i=e.XList.create();let r=t.size();for(let o=0;o<r;o++){let r=t.get(o);let s=r.getType();if(s===e.SiTokenType.ROUND_BRACKET_OPEN){i.add(n);n=e.XList.create()}else if(s===e.SiTokenType.ROUND_BRACKET_CLOSE){if(i.size()===0){return null}let t=e.SiToken.createWithValue(e.SiTokenType.ROUND_BRACKET,null);t.setChildren(n);n=i.removeAt(i.size()-1);n.add(t)}else{n.add(r)}}return n};e.SiParser.prototype.resolveTokenSequence=function(t){let n=t.getChildren();let i=n.size();if(i===1){return n.get(0)}let r=null;let o=n.get(0);let s=1;while(true){let t=n.get(s);let p=n.get(s+1);let a=o.getType();let l=t.getType();let u=p.getType();if(e.SiParser.isExecutable(a)===false){this.addError(4,"Left operator not executable")}else if(e.SiParser.isExecutable(u)===false){this.addError(5,"Right operator not executable")}if(l===e.SiTokenType.DOT){r=e.SiToken.createWithValue(e.SiTokenType.OP_DOT,null);r.add(o);r.add(p)}else{this.addError(6,"Not supported operator");return null}s=s+2;if(s>=i){break}o=r}return r};e.SiParser.prototype.setupSessionContext=function(t){e.MessageManager.prototype.setupSessionContext.call(this,t)};e.SiParser.prototype.tokenize=function(t){let n=e.XList.create();let i=e.XString.size(t);let r=false;let o=false;let s=false;let p=false;let a=0;for(let l=0;l<=i;){let u;if(l===i){u=0}else{u=e.XString.getCharAt(t,l)}if(r){if(u===39||u===0){let i=e.XString.substring(t,a+1,l);n.add(e.SiToken.createWithValue(e.SiTokenType.STRING,i));r=false}l++}else if(p){if(u>=48&&u<=57){l++}else{let i=e.XString.substring(t,a,l);n.add(e.SiToken.createWithValue(e.SiTokenType.INTEGER,i));p=false}}else if(s){if(u===32){l++}else{n.add(e.SiToken.createWithValue(e.SiTokenType.SPACE,null));s=false}}else if(o){if(u!==0&&(u>=65&&u<=90||u>=97&&u<=122||u===95||u===36||u>=48&&u<=57)){l++}else{let i=e.XString.substring(t,a,l);if(e.XString.isEqual(i,"true")){n.add(e.SiToken.createWithValue(e.SiTokenType.CONST_TRUE,i))}else if(e.XString.isEqual(i,"false")){n.add(e.SiToken.createWithValue(e.SiTokenType.CONST_FALSE,i))}else{n.add(e.SiToken.createWithValue(e.SiTokenType.IDENTIFIER,i))}o=false}}else{if(u!==0){if(u===39){r=true;a=l}else if(u===32){s=true;a=l}else if(u>=65&&u<=90||u>=97&&u<=122||u===95||u===36){o=true;a=l}else if(u>=48&&u<=57){p=true;a=l}else{let i=e.XString.substring(t,l,l+1);let r=e.SiTokenType.lookup(i);if(e.isNull(r)){r=e.SiTokenType.UNDEFINED}n.add(e.SiToken.createWithValue(r,null))}}l++}}return n};e.SiParser2=function(){};e.SiParser2.prototype=new e.MessageManager;e.SiParser2.prototype._ff_c="SiParser2";e.SiParser2.addTo=function(t,n,i,r){let o=t;if(e.isNull(o)){o=e.XList.create()}if(e.notNull(n)){let e=r;if(r===-1){e=n.size()}for(let t=i;t<e;t++){o.add(n.get(t))}}return o};e.SiParser2.create=function(){let t=new e.SiParser2;t.setupSessionContext(null);return t};e.SiParser2.findFirst=function(t,n,i){let r=-1;if(e.notNull(t)){for(let e=i;e<t.size();e++){if(t.get(e).getType()===n){r=e;break}}}return r};e.SiParser2.findFirstLevel=function(t,n,i){let r=-1;if(e.notNull(t)){for(let e=i;e<t.size();e++){if(t.get(e).getOperatorLevel()===n){r=e;break}}}return r};e.SiParser2.findLast=function(t,n){let i=-1;if(e.notNull(t)){for(let e=0;e<t.size();e++){if(t.get(e).getType()===n){i=e}}}return i};e.SiParser2.findLastLevel=function(t,n,i){let r=-1;if(e.notNull(t)){for(let e=t.size()-1;e>=0;e--){if(t.get(e).getOperatorLevel()===n){r=e;break}}}return r};e.SiParser2.prototype.merge=function(t,n,i,r){if(n>0&&n+1<t.size()){let o=t.get(n-1);let s=t.get(n+1);let p=null;if(r===true){p=o.getValue()}let a=e.SiToken.createExt(i,0,p,null);a.add(o).add(s);t.set(n-1,a);t.removeAt(n);t.removeAt(n);return a}else{return null}};e.SiParser2.prototype.mergeSign=function(t){let n=0;let i=null;let r=null;let o=null;while(n<t.size()){o=t.get(n);let s=o.getType();if(s.isNumber()&&e.notNull(r)){let s=r.getType();if(s===e.SiTokenType.OP_PLUS||s===e.SiTokenType.OP_MINUS){let r=null;if(e.notNull(i)){r=i.getType()}if(e.isNull(r)||r.isOperator()){let i;if(s===e.SiTokenType.OP_PLUS){i=e.XStringUtils.concatenate2("+",o.getValue())}else{i=e.XStringUtils.concatenate2("-",o.getValue())}o.setValue(i);t.removeAt(n-1);n--}}}i=r;r=o;n++}};e.SiParser2.prototype.parse=function(e,t){let n;let i=this.tokenize(e,t);if(t===-1||t>=10){n=this.parseCurlyBrackets(i)}else{n=null}return n};e.SiParser2.prototype.parseAssignment=function(t){while(t.size()>1){let n=e.SiParser2.findLastLevel(t,5,0);if(n===-1){break}let i=t.get(n);let r=i.getType();this.merge(t,n,r,true)}return this.parseComplexDefinition(t)};e.SiParser2.prototype.parseBrackets=function(t){let n=e.SiParser2.findLast(t,e.SiTokenType.ROUND_BRACKET_OPEN);if(n===-1){let n=e.SiParser2.findFirst(t,e.SiTokenType.ROUND_BRACKET_CLOSE,0);if(n===-1){return this.parseCommaList(t)}this.addError(0,"Closing round bracket ')' not expected");return null}let i=e.SiParser2.findFirst(t,e.SiTokenType.ROUND_BRACKET_CLOSE,n);if(i===-1){this.addError(0,"Closing round bracket ')' not found");return null}let r=e.SiToken.create(e.SiTokenType.ROUND_BRACKET);let o=e.SiParser2.addTo(null,t,n+1,i);if(o.size()>0){let e=this.parseBrackets(o);r.add(e)}let s=e.SiParser2.addTo(null,t,0,n);s.add(r);e.SiParser2.addTo(s,t,i+1,-1);return this.parseBrackets(s)};e.SiParser2.prototype.parseCommaList=function(t){let n=e.SiToken.create(e.SiTokenType.COMMA_LIST);let i=0;let r;while(true){r=e.SiParser2.findFirst(t,e.SiTokenType.COMMA,i);let o=e.SiParser2.addTo(null,t,i,r);if(o.size()>0){let e=this.parseFunctionAndOperations(o);n.add(e)}else{n.add(e.SiToken.create(e.SiTokenType.EMPTY))}if(r===-1){break}i=r+1}if(n.size()===1){return n.getChild()}return n};e.SiParser2.prototype.parseComplexDefinition=function(t){if(t.size()!==1){for(let n=0;n<t.size()-1;n++){let i=t.get(n);let r=i.getType();if(r.isPrimitiveType()){let r=t.get(n+1);let o=r.getValue();let s=e.SiToken.createExt(e.SiTokenType.PRIMITIVE_TYPE_VAR_DEF,0,o,null);s.add(i);s.add(r);return s}}let n=e.SiToken.createExt(e.SiTokenType.TOKEN_SEQ,0,null,t);return n}else{return t.get(0)}};e.SiParser2.prototype.parseCurlyBrackets=function(t){let n=e.SiParser2.findLast(t,e.SiTokenType.CURLY_BRACKET_OPEN);if(n===-1){let n=e.SiParser2.findFirst(t,e.SiTokenType.CURLY_BRACKET_CLOSE,0);if(n===-1){return this.parseExpressionSequences(t)}this.addError(0,"Closing curly bracket '}' not expected");return null}let i=e.SiParser2.findFirst(t,e.SiTokenType.CURLY_BRACKET_CLOSE,n);if(i===-1){this.addError(0,"Closing round bracket '}' not found");return null}let r=e.SiToken.create(e.SiTokenType.CURLY_BRACKET);let o=e.SiParser2.addTo(null,t,n+1,i);if(o.size()>0){let e=this.parseCurlyBrackets(o);r.add(e)}let s=e.SiParser2.addTo(null,t,0,n);s.add(r);e.SiParser2.addTo(s,t,i+1,-1);return this.parseCurlyBrackets(s)};e.SiParser2.prototype.parseExpressionSequences=function(t){let n=e.SiToken.create(e.SiTokenType.EXPR_SEQ);let i=0;let r;while(true){r=e.SiParser2.findFirst(t,e.SiTokenType.SEMICOLON,i);let o=e.SiParser2.addTo(null,t,i,r);if(o.size()>0){let e=this.parseBrackets(o);n.add(e)}if(r===-1){break}i=r+1}return n};e.SiParser2.prototype.parseFunctionAndOperations=function(e){let t=this.parseFunctions(e);let n=this.parseOperations(t);return n};e.SiParser2.prototype.parseFunctions=function(t){let n=null;if(e.notNull(t)){n=e.XList.create();let i=t.size();for(let r=0;r<i;r++){let o=t.get(r);let s=o.getType();let p=null;let a=null;if(r+1<i){p=t.get(r+1);a=p.getType()}if(s===e.SiTokenType.IDENTIFIER&&a===e.SiTokenType.ROUND_BRACKET&&e.notNull(p)){let t=e.SiToken.createWithValue(e.SiTokenType.FUNCTION,o.getValue());n.add(t);let i=p.getChild();if(e.notNull(i)){let n=i.getType();if(n===e.SiTokenType.COMMA_LIST){let e=i.getChildren();t.setChildren(e)}else{t.add(i)}}r++}else{n.add(o)}}}return n};e.SiParser2.prototype.parseOperations=function(t){if(e.isNull(t)){this.addError(0,"No children");return null}if(t.size()===1){return t.get(0)}else if(t.size()===0){return null}let n=e.XList.create();n.addAll(t);this.mergeSign(n);for(let t=10;t>=6;t--){while(n.size()>1){let i=e.SiParser2.findFirstLevel(n,t,0);if(i===-1){break}let r=n.get(i);let o=r.getType();this.merge(n,i,o,false)}}let i=this.parseAssignment(n);return i};e.SiParser2.prototype.setupSessionContext=function(t){e.MessageManager.prototype.setupSessionContext.call(this,t)};e.SiParser2.prototype.spaceFreeTokens=function(t){let n=e.XList.create();let i=t.size();let r;let o;for(let s=0;s<i;s++){r=t.get(s);o=r.getType();if(o!==e.SiTokenType.SPACE&&o!==e.SiTokenType.MULTI_LINE_COMMENT&&o!==e.SiTokenType.SINGLE_LINE_COMMENT){n.add(r)}}return n};e.SiParser2.prototype.tokenize=function(t,n){let i=null;if(n===-1||n>0){let r=e.XString.replace(t,"\r","");if(n===-1||n>1){let t=e.XList.create();let n=false;let o=false;let s=false;let p=false;let a=false;let l=false;let u=e.XString.size(r);let g=0;for(let i=0;i<=u;){let c;let S;if(i===u){c=0;S=0}else{c=e.XString.getCharAt(r,i);if(i+1<u){S=e.XString.getCharAt(r,i+1)}else{S=0}}if(n){if(c===0||S===0){this.addError(0,"Unproper ending of multiline comment");break}if(c===42&&S===47){t.add(e.SiToken.createWithValue(e.SiTokenType.MULTI_LINE_COMMENT,e.XString.substring(r,g+2,i)));n=false;i=i+2}else{i++}}else if(o){if(c===10||c===0){t.add(e.SiToken.createWithValue(e.SiTokenType.SINGLE_LINE_COMMENT,e.XString.substring(r,g+2,i)));o=false}i++}else if(s){if(c===39||c===0){t.add(e.SiToken.createWithValue(e.SiTokenType.STRING,e.XString.substring(r,g+1,i)));s=false}i++}else if(l){if(c>=48&&c<=57){i++}else{let n=e.XString.substring(r,g,i);t.add(e.SiToken.createWithValue(e.SiTokenType.INTEGER,n));l=false}}else if(a){if(c===32){i++}else{t.add(e.SiToken.create(e.SiTokenType.SPACE));a=false}}else if(p){if(c!==0&&(c>=65&&c<=90||c>=97&&c<=122||c===95||c===36||c>=48&&c<=57)){i++}else{let n=e.XString.substring(r,g,i);if(e.XString.isEqual(n,"true")){t.add(e.SiToken.createWithValue(e.SiTokenType.CONST_TRUE,n))}else if(e.XString.isEqual(n,"false")){t.add(e.SiToken.createWithValue(e.SiTokenType.CONST_FALSE,n))}else if(e.XString.isEqual(n,"int")){t.add(e.SiToken.createWithValue(e.SiTokenType.TYPE_INT,n))}else{t.add(e.SiToken.createWithValue(e.SiTokenType.IDENTIFIER,n))}p=false}}else{if(c!==0){if(c===39){s=true;g=i}else if(c===32){a=true;g=i}else if(c>=65&&c<=90||c>=97&&c<=122||c===95||c===36){p=true;g=i}else if(c===46){t.add(e.SiToken.create(e.SiTokenType.OP_DOT))}else if(c===43){t.add(e.SiToken.create(e.SiTokenType.OP_PLUS))}else if(c===45){t.add(e.SiToken.create(e.SiTokenType.OP_MINUS))}else if(c===42){t.add(e.SiToken.create(e.SiTokenType.OP_MULT))}else if(c===47){if(S===47){o=true;g=i;i++}else if(S===42){n=true;g=i;i++}else{t.add(e.SiToken.create(e.SiTokenType.OP_DIV))}}else if(c===60){if(S===61){t.add(e.SiToken.create(e.SiTokenType.OP_LOWER_EQUAL));i++}else{t.add(e.SiToken.create(e.SiTokenType.OP_LOWER))}}else if(c===62){if(S===61){t.add(e.SiToken.create(e.SiTokenType.OP_GREATER_EQUAL));i++}else{t.add(e.SiToken.create(e.SiTokenType.OP_GREATER))}}else if(c===61){if(S===61){t.add(e.SiToken.create(e.SiTokenType.OP_EQUAL));i++}else{t.add(e.SiToken.create(e.SiTokenType.OP_ASSIGN))}}else if(c===33){if(S===61){t.add(e.SiToken.create(e.SiTokenType.OP_NOT_EQUAL));i++}else{t.add(e.SiToken.create(e.SiTokenType.OP_NOT))}}else if(c===38){if(S===38){t.add(e.SiToken.create(e.SiTokenType.OP_BOOL_AND));i++}else{t.add(e.SiToken.create(e.SiTokenType.OP_BIN_AND))}}else if(c===124){if(S===124){t.add(e.SiToken.create(e.SiTokenType.OP_BOOL_OR));i++}else{t.add(e.SiToken.create(e.SiTokenType.OP_BIN_OR))}}else if(c>=48&&c<=57){l=true;g=i}else{let n=e.XString.substring(r,i,i+1);let o=e.SiTokenType.lookup(n);if(e.isNull(o)){o=e.SiTokenType.UNDEFINED}t.add(e.SiToken.create(o))}}i++}}let c=this.spaceFreeTokens(t);let S=this.tokensWithDoublesAndCells(c);i=S}}return i};e.SiParser2.prototype.tokensWithDoublesAndCells=function(t){let n=e.XList.create();let i=t.size();let r;for(let o=0;o<i;o++){r=t.get(o);let s=r.getType();let p=null;let a=null;let l=null;let u=null;if(o+2<i){p=t.get(o+1);a=p.getType();l=t.get(o+2);u=l.getType()}if(s===e.SiTokenType.INTEGER&&a===e.SiTokenType.OP_DOT&&u===e.SiTokenType.INTEGER&&e.notNull(l)){let t=e.XStringUtils.concatenate3(r.getValue(),".",l.getValue());let i=e.SiToken.createWithValue(e.SiTokenType.DOUBLE,t);n.add(i);o=o+2}else if(s===e.SiTokenType.IDENTIFIER&&a===e.SiTokenType.OP_COLON&&u===e.SiTokenType.IDENTIFIER&&e.notNull(l)){let t=e.XStringUtils.concatenate3(r.getValue(),":",l.getValue());let i=e.SiToken.createWithValue(e.SiTokenType.CELL_SELECTION,t);n.add(i);o=o+2}else{n.add(r)}}return n};e.SiTokenType=function(){};e.SiTokenType.prototype=new e.XConstant;e.SiTokenType.prototype._ff_c="SiTokenType";e.SiTokenType.CELL_SELECTION=null;e.SiTokenType.COMMA=null;e.SiTokenType.COMMA_LIST=null;e.SiTokenType.CONST_FALSE=null;e.SiTokenType.CONST_TRUE=null;e.SiTokenType.CURLY_BRACKET=null;e.SiTokenType.CURLY_BRACKET_CLOSE=null;e.SiTokenType.CURLY_BRACKET_OPEN=null;e.SiTokenType.DIV=null;e.SiTokenType.DOT=null;e.SiTokenType.DOUBLE=null;e.SiTokenType.EMPTY=null;e.SiTokenType.EXPR_SEQ=null;e.SiTokenType.FUNCTION=null;e.SiTokenType.IDENTIFIER=null;e.SiTokenType.INTEGER=null;e.SiTokenType.MINUS=null;e.SiTokenType.MULT=null;e.SiTokenType.MULTI_LINE_COMMENT=null;e.SiTokenType.OP_ASSIGN=null;e.SiTokenType.OP_BIN_AND=null;e.SiTokenType.OP_BIN_OR=null;e.SiTokenType.OP_BOOL_AND=null;e.SiTokenType.OP_BOOL_OR=null;e.SiTokenType.OP_COLON=null;e.SiTokenType.OP_DIV=null;e.SiTokenType.OP_DOT=null;e.SiTokenType.OP_EQUAL=null;e.SiTokenType.OP_GREATER=null;e.SiTokenType.OP_GREATER_EQUAL=null;e.SiTokenType.OP_LOWER=null;e.SiTokenType.OP_LOWER_EQUAL=null;e.SiTokenType.OP_MINUS=null;e.SiTokenType.OP_MULT=null;e.SiTokenType.OP_NOT=null;e.SiTokenType.OP_NOT_EQUAL=null;e.SiTokenType.OP_PLUS=null;e.SiTokenType.PLUS=null;e.SiTokenType.PRIMITIVE_TYPE_VAR_DEF=null;e.SiTokenType.ROUND_BRACKET=null;e.SiTokenType.ROUND_BRACKET_CLOSE=null;e.SiTokenType.ROUND_BRACKET_OPEN=null;e.SiTokenType.SEMICOLON=null;e.SiTokenType.SINGLE_LINE_COMMENT=null;e.SiTokenType.SPACE=null;e.SiTokenType.STRING=null;e.SiTokenType.TOKEN_SEQ=null;e.SiTokenType.TYPE_BOOLEAN=null;e.SiTokenType.TYPE_DOUBLE=null;e.SiTokenType.TYPE_INT=null;e.SiTokenType.TYPE_STRING=null;e.SiTokenType.UNDEFINED=null;e.SiTokenType._OP_ASSIGN="OpAssign";e.SiTokenType._OP_BIN_AND="OpBinAnd";e.SiTokenType._OP_BIN_OR="OpBinOr";e.SiTokenType._OP_BOOL_AND="OpBoolAnd";e.SiTokenType._OP_BOOL_OR="OpBoolOr";e.SiTokenType._OP_DIV="OpDiv";e.SiTokenType._OP_EQUAL="OpEqual";e.SiTokenType._OP_GREATER="OpGreater";e.SiTokenType._OP_GREATER_EQUAL="OpGreaterEqual";e.SiTokenType._OP_LOWER="OpLower";e.SiTokenType._OP_LOWER_EQUAL="OpLowerEqual";e.SiTokenType._OP_MINUS="OpMinus";e.SiTokenType._OP_MULT="OpMult";e.SiTokenType._OP_NOT="OpBinNot";e.SiTokenType._OP_NOT_EQUAL="OpNotEqual";e.SiTokenType._OP_PLUS="OpPlus";e.SiTokenType.s_lookup=null;e.SiTokenType.createNumber=function(t){let n=e.SiTokenType.createType(t);n.m_isNumber=true;return n};e.SiTokenType.createOperator=function(t,n){let i=new e.SiTokenType;i._setupInternal(t);i.m_operatorLevel=n;e.SiTokenType.s_lookup.add(i);return i};e.SiTokenType.createPrimitiveType=function(t){let n=new e.SiTokenType;n._setupInternal(t);n.m_isPrimitiveType=true;e.SiTokenType.s_lookup.add(n);return n};e.SiTokenType.createType=function(t){let n=new e.SiTokenType;n._setupInternal(t);e.SiTokenType.s_lookup.add(n);return n};e.SiTokenType.lookup=function(t){return e.SiTokenType.s_lookup.getByKey(t)};e.SiTokenType.staticSetup=function(){e.SiTokenType.s_lookup=e.XSetOfNameObject.create();e.SiTokenType.IDENTIFIER=e.SiTokenType.createType("Identifier");e.SiTokenType.STRING=e.SiTokenType.createType("String");e.SiTokenType.INTEGER=e.SiTokenType.createNumber("Integer");e.SiTokenType.DOUBLE=e.SiTokenType.createNumber("Double");e.SiTokenType.CONST_TRUE=e.SiTokenType.createType("True");e.SiTokenType.CONST_FALSE=e.SiTokenType.createType("False");e.SiTokenType.SPACE=e.SiTokenType.createType("Space");e.SiTokenType.UNDEFINED=e.SiTokenType.createType("Undefined");e.SiTokenType.SEMICOLON=e.SiTokenType.createType(";");e.SiTokenType.OP_COLON=e.SiTokenType.createType(":");e.SiTokenType.COMMA=e.SiTokenType.createType(",");e.SiTokenType.COMMA_LIST=e.SiTokenType.createType("CommaList");e.SiTokenType.FUNCTION=e.SiTokenType.createType("Function");e.SiTokenType.ROUND_BRACKET_OPEN=e.SiTokenType.createType("(");e.SiTokenType.ROUND_BRACKET_CLOSE=e.SiTokenType.createType(")");e.SiTokenType.ROUND_BRACKET=e.SiTokenType.createType("()");e.SiTokenType.CURLY_BRACKET_OPEN=e.SiTokenType.createType("{");e.SiTokenType.CURLY_BRACKET_CLOSE=e.SiTokenType.createType("}");e.SiTokenType.CURLY_BRACKET=e.SiTokenType.createType("{}");e.SiTokenType.TOKEN_SEQ=e.SiTokenType.createType("TokenSeq");e.SiTokenType.EXPR_SEQ=e.SiTokenType.createType("ExprSeq");e.SiTokenType.EMPTY=e.SiTokenType.createType("Empty");e.SiTokenType.DOT=e.SiTokenType.createOperator(".",10);e.SiTokenType.MULT=e.SiTokenType.createOperator("*",9);e.SiTokenType.DIV=e.SiTokenType.createOperator("/",9);e.SiTokenType.PLUS=e.SiTokenType.createOperator("+",8);e.SiTokenType.MINUS=e.SiTokenType.createOperator("-",8);e.SiTokenType.OP_DOT=e.SiTokenType.createOperator("OpDot",10);e.SiTokenType.OP_MULT=e.SiTokenType.createOperator(e.SiTokenType._OP_MULT,9);e.SiTokenType.OP_DIV=e.SiTokenType.createOperator(e.SiTokenType._OP_DIV,9);e.SiTokenType.OP_PLUS=e.SiTokenType.createOperator(e.SiTokenType._OP_PLUS,8);e.SiTokenType.OP_MINUS=e.SiTokenType.createOperator(e.SiTokenType._OP_MINUS,8);e.SiTokenType.OP_LOWER=e.SiTokenType.createOperator(e.SiTokenType._OP_LOWER,7);e.SiTokenType.OP_LOWER_EQUAL=e.SiTokenType.createOperator(e.SiTokenType._OP_LOWER_EQUAL,7);e.SiTokenType.OP_GREATER=e.SiTokenType.createOperator(e.SiTokenType._OP_GREATER,7);e.SiTokenType.OP_GREATER_EQUAL=e.SiTokenType.createOperator(e.SiTokenType._OP_GREATER_EQUAL,7);e.SiTokenType.OP_EQUAL=e.SiTokenType.createOperator(e.SiTokenType._OP_EQUAL,7);e.SiTokenType.OP_NOT_EQUAL=e.SiTokenType.createOperator(e.SiTokenType._OP_NOT_EQUAL,7);e.SiTokenType.OP_BOOL_OR=e.SiTokenType.createOperator(e.SiTokenType._OP_BOOL_OR,6);e.SiTokenType.OP_BOOL_AND=e.SiTokenType.createOperator(e.SiTokenType._OP_BOOL_AND,6);e.SiTokenType.OP_ASSIGN=e.SiTokenType.createOperator(e.SiTokenType._OP_ASSIGN,5);e.SiTokenType.OP_NOT=e.SiTokenType.createType(e.SiTokenType._OP_NOT);e.SiTokenType.OP_BIN_OR=e.SiTokenType.createType(e.SiTokenType._OP_BIN_OR);e.SiTokenType.OP_BIN_AND=e.SiTokenType.createType(e.SiTokenType._OP_BIN_AND);e.SiTokenType.CELL_SELECTION=e.SiTokenType.createType("CellSelection");e.SiTokenType.MULTI_LINE_COMMENT=e.SiTokenType.createType("MultiLineComment");e.SiTokenType.SINGLE_LINE_COMMENT=e.SiTokenType.createType("SingleLineComment");e.SiTokenType.TYPE_BOOLEAN=e.SiTokenType.createPrimitiveType("boolean");e.SiTokenType.TYPE_DOUBLE=e.SiTokenType.createPrimitiveType("double");e.SiTokenType.TYPE_INT=e.SiTokenType.createPrimitiveType("int");e.SiTokenType.TYPE_STRING=e.SiTokenType.createPrimitiveType("String");e.SiTokenType.PRIMITIVE_TYPE_VAR_DEF=e.SiTokenType.createType("PrimitiveTypeVarDef")};e.SiTokenType.prototype.m_isNumber=false;e.SiTokenType.prototype.m_isPrimitiveType=false;e.SiTokenType.prototype.m_operatorLevel=0;e.SiTokenType.prototype.getOperatorLevel=function(){return this.m_operatorLevel};e.SiTokenType.prototype.isNumber=function(){return this.m_isNumber};e.SiTokenType.prototype.isOperator=function(){return this.m_operatorLevel>0};e.SiTokenType.prototype.isPrimitiveType=function(){return this.m_isPrimitiveType};e.DfUiPrgContainer=function(){};e.DfUiPrgContainer.prototype=new e.ProgramContainer;e.DfUiPrgContainer.prototype._ff_c="DfUiPrgContainer";e.DfUiPrgContainer.prototype.m_didShutdown=false;e.DfUiPrgContainer.prototype.m_initialControlToFocus=null;e.DfUiPrgContainer.prototype.m_uiManager=null;e.DfUiPrgContainer.prototype._getContainerCssClass=function(){let e=null;if(this.getProgram().getResolvedProgramContainerType().isUiContainer()){let t=this.getUiProgram();e=t.getContainerCssClass()}return e};e.DfUiPrgContainer.prototype._getContainerName=function(){let e=null;if(this.getProgram().getResolvedProgramContainerType().isUiContainer()){let t=this.getUiProgram();e=t.getContainerName()}return e};e.DfUiPrgContainer.prototype._isUiProgram=function(){return this.getProgram()!==null&&this.getProcess().getProcessType()===e.ProcessType.PROGRAM&&this.getProgram().getComponentType().isTypeOf(e.UiComponentTypeExt.UI_PROGRAM)&&this.getProgram().getResolvedProgramContainerType().isUiContainer()};e.DfUiPrgContainer.prototype.getGenesis=function(){if(e.notNull(this.m_uiManager)){return this.m_uiManager.getFreeGenesis()}return null};e.DfUiPrgContainer.prototype.getInitialControlToFocus=function(){return this.m_initialControlToFocus};e.DfUiPrgContainer.prototype.getOffsetHeight=function(){return this.getContainerOffsetHeight()};e.DfUiPrgContainer.prototype.getOffsetWidth=function(){return this.getContainerOffsetWidth()};e.DfUiPrgContainer.prototype.getTitle=function(){let t=e.ProgramContainer.prototype.getTitle.call(this);if(e.XStringUtils.isNullOrEmpty(t)){let e=this.getStartCfg();t=e.getStartTitle()}return t};e.DfUiPrgContainer.prototype.getUiManager=function(){if(e.isNull(this.m_uiManager)){let t=this.getProgram();let n=t.getProcess();this.m_uiManager=n.getUiManager();if(e.isNull(this.m_uiManager)){this.m_uiManager=n.openSubSystem(e.SubSystemType.GUI)}}return this.m_uiManager};e.DfUiPrgContainer.prototype.getUiProgram=function(){if(this._isUiProgram()){try{return this.getProgram()}catch(e){return null}}return null};e.DfUiPrgContainer.prototype.isBusy=function(){return this.isContainerBusy()};e.DfUiPrgContainer.prototype.isContainerOpen=function(){return false};e.DfUiPrgContainer.prototype.isFloatingContainer=function(){return false};e.DfUiPrgContainer.prototype.isModalContainer=function(){return false};e.DfUiPrgContainer.prototype.isUiContainer=function(){return true};e.DfUiPrgContainer.prototype.killProgram=function(){let e=this.getProgram();e.kill()};e.DfUiPrgContainer.prototype.notifyContainerClosed=function(){if(this.getProgram()!==null){this.getProgram().onContainerAfterClose()}};e.DfUiPrgContainer.prototype.notifyContainerOpened=function(){if(this.getProgram()!==null){this.getProgram().onContainerAfterOpen()}};e.DfUiPrgContainer.prototype.openAndRun=function(t){this.setUiManager(t);return e.XPromise.resolve(e.XBooleanValue.create(true))};e.DfUiPrgContainer.prototype.releaseObject=function(){this.shutdownContainer();this.m_initialControlToFocus=null;this.m_uiManager=null;e.ProgramContainer.prototype.releaseObject.call(this)};e.DfUiPrgContainer.prototype.runFull=function(){let t=this.getUiManager();let n;if(e.notNull(t)){n=this.openAndRun(t)}else{n=e.XPromise.resolve(e.XBooleanValue.create(true))}return n};e.DfUiPrgContainer.prototype.setBusy=function(e){this.setContainerBusy(e)};e.DfUiPrgContainer.prototype.setContainerNameAndCssClass=function(t){if(e.notNull(t)){if(e.XStringUtils.isNotNullAndNotEmpty(this._getContainerName())){t.setName(this._getContainerName())}if(e.XStringUtils.isNotNullAndNotEmpty(this._getContainerCssClass())){t.addCssClass(this._getContainerCssClass())}}};e.DfUiPrgContainer.prototype.setContainerSize=function(e){this.setContainerControlSize(e)};e.DfUiPrgContainer.prototype.setInitialControlToFocus=function(e){this.m_initialControlToFocus=e};e.DfUiPrgContainer.prototype.setTitle=function(t){e.ProgramContainer.prototype.setTitle.call(this,t)};e.DfUiPrgContainer.prototype.setUiManager=function(e){this.m_uiManager=e};e.DfUiPrgContainer.prototype.setupUiContainer=function(t,n){this.m_didShutdown=false;e.ProgramContainer.prototype.setupContainer.call(this,t,n)};e.DfUiPrgContainer.prototype.shutdownContainer=function(){if(!this.m_didShutdown){this.m_didShutdown=true;this.deregisterContainerEvents();if(this.isContainerOpen()){this.closeContainerControl();this.notifyContainerClosed()}this.cleanupContainer()}};e.DfUiPrgContainer.prototype.terminateProgram=function(){let e=this.getProgram();e.terminate()};e.SxEventScripting=function(){};e.SxEventScripting.prototype=new e.XObject;e.SxEventScripting.prototype._ff_c="SxEventScripting";e.SxEventScripting.create=function(t){let n=new e.SxEventScripting;n.setupEventScripting(null,t);return n};e.SxEventScripting.prototype.m_map=null;e.SxEventScripting.prototype.m_objCounter=0;e.SxEventScripting.prototype.m_script=null;e.SxEventScripting.prototype.m_uiManager=null;e.SxEventScripting.prototype.afterScriptExecution=function(e){};e.SxEventScripting.prototype.beforeScriptExecution=function(e){};e.SxEventScripting.prototype.executeByKeyword=function(t,n,i){if(e.XString.isEqual(e.UiQuasarConstants.QSA_DOLLAR,t)){let t=n.getStringAtExt(0,null);let r=this.getUiManager().getSession();let o=r.getSelector();let s=o.selectComponentByExpr(t,e.SigSelDomain.UI,null,-1,true);i.setBoolean(true);return s}return null};e.SxEventScripting.prototype.executeOperation=function(t,n,i,r){let o=null;if(t.isTypeOf(e.XComponentType._UI)){let t=n;let s=e.UiAllOperations.lookupOp(i);if(e.notNull(s)){o=s.executeOperation(this,t,r,0)}}return o};e.SxEventScripting.prototype.fillParameters=function(t,n){let i=e.PrFactory.createList();let r=t.size()-n;let o;let s;let p;for(let a=0;a<n;a++){o=t.get(r+a);if(e.notNull(o)){s=o;p=s.getComponentType();if(p===e.XValueType.STRING){i.addString(s.toString())}else if(p===e.XValueType.BOOLEAN){i.addBoolean(s.getBoolean())}else if(p===e.XValueType.INTEGER){i.addInteger(s.getInteger())}else if(p===e.XValueType.DOUBLE){i.addDouble(s.getDouble())}else if(p.isTypeOf(e.XComponentType._UI)){let e=this.newId();this.m_map.put(e,s);i.addString(e)}}else{i.add(null)}}return i};e.SxEventScripting.prototype.fillParameters2=function(t,n){let i=e.XList.create();let r=t.size()-n;let o;let s;let p;for(let a=0;a<n;a++){o=t.get(r+a);if(e.notNull(o)){s=o;p=s.getComponentType();if(p===e.XValueType.STRING){i.add(e.XReflectionParam.createString(s.toString()))}else if(p===e.XValueType.BOOLEAN){i.add(e.XReflectionParam.createBoolean(s.getBoolean()))}else if(p===e.XValueType.INTEGER){i.add(e.XReflectionParam.createInteger(s.getInteger()))}else if(p===e.XValueType.DOUBLE){i.add(e.XReflectionParam.createDouble(s.getDouble()))}else{i.add(e.XReflectionParam.create(s))}}else{i.add(e.XReflectionParam.create(null))}}return i};e.SxEventScripting.prototype.getContext=function(t){let n=this.m_map.getByKey(t);if(e.notNull(n)){let e=n;e=e.getOrigin();return e}else{return null}};e.SxEventScripting.prototype.getGenesis=function(){return this.m_uiManager.getGenesis()};e.SxEventScripting.prototype.getUiManager=function(){return this.m_uiManager};e.SxEventScripting.prototype.lookupComponent=function(t,n){let i=n;if(e.isNull(i)){i=t.getCustomObject("uicontext")}return i};e.SxEventScripting.prototype.nativeCall=function(t,n,i,r,o){let s=this.fillParameters(r,o);let p=e.XBooleanValue.create(false);let a=this.executeByKeyword(n,s,p);if(p.getBoolean()===false){let p=this.lookupComponent(t,i);if(false){let t=p.getComponentType();if(e.notNull(t)){a=this.executeOperation(t,p,n,s)}}else{let t=this.fillParameters2(r,o);let i;if(e.notNull(s)&&s.hasElements()){i=e.XReflection.invokeMethodWithArgs(p,n,t)}else{i=e.XReflection.invokeMethod(p,n)}a=i.getValue()}}return a};e.SxEventScripting.prototype.newId=function(){let t=e.XStringBuffer.create().append("Id").appendInt(this.m_objCounter).toString();this.m_objCounter++;return t};e.SxEventScripting.prototype.onAfterClose=function(t){this.runEventScript(t,e.UiEvent.ON_AFTER_CLOSE)};e.SxEventScripting.prototype.onAfterOpen=function(t){this.runEventScript(t,e.UiEvent.ON_AFTER_OPEN)};e.SxEventScripting.prototype.onAfterRender=function(t){this.runEventScript(t,e.UiEvent.ON_AFTER_RENDER)};e.SxEventScripting.prototype.onBack=function(t){this.runEventScript(t,e.UiEvent.ON_BACK)};e.SxEventScripting.prototype.onBeforeClose=function(t){this.runEventScript(t,e.UiEvent.ON_BEFORE_CLOSE)};e.SxEventScripting.prototype.onBeforeOpen=function(t){this.runEventScript(t,e.UiEvent.ON_BEFORE_OPEN)};e.SxEventScripting.prototype.onBeforePageChanged=function(t){this.runEventScript(t,e.UiEvent.ON_BEFORE_PAGE_CHANGED)};e.SxEventScripting.prototype.onButtonPress=function(t){this.runEventScript(t,e.UiEvent.ON_BUTTON_PRESS)};e.SxEventScripting.prototype.onCancelTextEdit=function(t){this.runEventScript(t,e.UiEvent.ON_CANCEL_TEXT_EDIT)};e.SxEventScripting.prototype.onChange=function(t){this.runEventScript(t,e.UiEvent.ON_CHANGE)};e.SxEventScripting.prototype.onChipUpdate=function(t){this.runEventScript(t,e.UiEvent.ON_CHIP_UPDATE)};e.SxEventScripting.prototype.onClick=function(t){this.runEventScript(t,e.UiEvent.ON_CLICK)};e.SxEventScripting.prototype.onClose=function(t){this.runEventScript(t,e.UiEvent.ON_CLOSE)};e.SxEventScripting.prototype.onCollapse=function(t){this.runEventScript(t,e.UiEvent.ON_COLLAPSE)};e.SxEventScripting.prototype.onColorSelect=function(t){this.runEventScript(t,e.UiEvent.ON_COLOR_SELECT)};e.SxEventScripting.prototype.onColumnResize=function(t){this.runEventScript(t,e.UiEvent.ON_COLUMN_RESIZE)};e.SxEventScripting.prototype.onConfirmTextEdit=function(t){this.runEventScript(t,e.UiEvent.ON_CONFIRM_TEXT_EDIT)};e.SxEventScripting.prototype.onContextMenu=function(t){this.runEventScript(t,e.UiEvent.ON_CONTEXT_MENU)};e.SxEventScripting.prototype.onCursorChange=function(t){this.runEventScript(t,e.UiEvent.ON_CURSOR_CHANGE)};e.SxEventScripting.prototype.onDelete=function(t){this.runEventScript(t,e.UiEvent.ON_DELETE)};e.SxEventScripting.prototype.onDeselect=function(t){this.runEventScript(t,e.UiEvent.ON_DESELECT)};e.SxEventScripting.prototype.onDetailPress=function(t){this.runEventScript(t,e.UiEvent.ON_DETAIL_PRESS)};e.SxEventScripting.prototype.onDoubleClick=function(t){this.runEventScript(t,e.UiEvent.ON_DOUBLE_CLICK)};e.SxEventScripting.prototype.onDragEnd=function(t){this.runEventScript(t,e.UiEvent.ON_DRAG_END)};e.SxEventScripting.prototype.onDragEnter=function(t){this.runEventScript(t,e.UiEvent.ON_DRAG_ENTER)};e.SxEventScripting.prototype.onDragOver=function(t){this.runEventScript(t,e.UiEvent.ON_DRAG_OVER)};e.SxEventScripting.prototype.onDragStart=function(t){this.runEventScript(t,e.UiEvent.ON_DRAG_START)};e.SxEventScripting.prototype.onDrop=function(t){this.runEventScript(t,e.UiEvent.ON_DROP)};e.SxEventScripting.prototype.onEditingBegin=function(t){this.runEventScript(t,e.UiEvent.ON_EDITING_BEGIN)};e.SxEventScripting.prototype.onEditingEnd=function(t){this.runEventScript(t,e.UiEvent.ON_EDITING_END)};e.SxEventScripting.prototype.onEnter=function(t){this.runEventScript(t,e.UiEvent.ON_ENTER)};e.SxEventScripting.prototype.onError=function(t){this.runEventScript(t,e.UiEvent.ON_ERROR)};e.SxEventScripting.prototype.onEscape=function(t){this.runEventScript(t,e.UiEvent.ON_ESCAPE)};e.SxEventScripting.prototype.onExecute=function(t){this.runEventScript(t,e.UiEvent.ON_EXECUTE)};e.SxEventScripting.prototype.onExpand=function(t){this.runEventScript(t,e.UiEvent.ON_EXPAND)};e.SxEventScripting.prototype.onFileDrop=function(t){this.runEventScript(t,e.UiEvent.ON_FILE_DROP)};e.SxEventScripting.prototype.onHover=function(t){this.runEventScript(t,e.UiEvent.ON_HOVER)};e.SxEventScripting.prototype.onHoverEnd=function(t){this.runEventScript(t,e.UiEvent.ON_HOVER_END)};e.SxEventScripting.prototype.onItemClose=function(t){this.runEventScript(t,e.UiEvent.ON_ITEM_CLOSE)};e.SxEventScripting.prototype.onItemDelete=function(t){this.runEventScript(t,e.UiEvent.ON_ITEM_DELETE)};e.SxEventScripting.prototype.onItemPress=function(t){this.runEventScript(t,e.UiEvent.ON_ITEM_PRESS)};e.SxEventScripting.prototype.onItemSelect=function(t){this.runEventScript(t,e.UiEvent.ON_ITEM_SELECT)};e.SxEventScripting.prototype.onKeyDown=function(t){this.runEventScript(t,e.UiEvent.ON_KEY_DOWN)};e.SxEventScripting.prototype.onKeyUp=function(t){this.runEventScript(t,e.UiEvent.ON_KEY_UP)};e.SxEventScripting.prototype.onLiveChange=function(t){this.runEventScript(t,e.UiEvent.ON_LIVE_CHANGE)};e.SxEventScripting.prototype.onLoadFinished=function(t){this.runEventScript(t,e.UiEvent.ON_LOAD_FINISHED)};e.SxEventScripting.prototype.onMenuPress=function(t){this.runEventScript(t,e.UiEvent.ON_MENU_PRESS)};e.SxEventScripting.prototype.onMove=function(t){this.runEventScript(t,e.UiEvent.ON_MOVE)};e.SxEventScripting.prototype.onMoveEnd=function(t){this.runEventScript(t,e.UiEvent.ON_MOVE_END)};e.SxEventScripting.prototype.onMoveStart=function(t){this.runEventScript(t,e.UiEvent.ON_MOVE_START)};e.SxEventScripting.prototype.onOpen=function(t){this.runEventScript(t,e.UiEvent.ON_OPEN)};e.SxEventScripting.prototype.onPageChanged=function(t){this.runEventScript(t,e.UiEvent.ON_PAGE_CHANGED)};e.SxEventScripting.prototype.onPaste=function(t){this.runEventScript(t,e.UiEvent.ON_PASTE)};e.SxEventScripting.prototype.onPress=function(t){this.runEventScript(t,e.UiEvent.ON_PRESS)};e.SxEventScripting.prototype.onReadLineFinished=function(t){this.runEventScript(t,e.UiEvent.ON_READ_LINE_FINISHED)};e.SxEventScripting.prototype.onRefresh=function(t){this.runEventScript(t,e.UiEvent.ON_REFRESH)};e.SxEventScripting.prototype.onResize=function(t){this.runEventScript(t,e.UiEvent.ON_RESIZE)};e.SxEventScripting.prototype.onRowResize=function(t){this.runEventScript(t,e.UiEvent.ON_ROW_RESIZE)};e.SxEventScripting.prototype.onScroll=function(t){this.runEventScript(t,e.UiEvent.ON_SCROLL)};e.SxEventScripting.prototype.onScrollLoad=function(t){this.runEventScript(t,e.UiEvent.ON_SCROLL_LOAD)};e.SxEventScripting.prototype.onSearch=function(t){this.runEventScript(t,e.UiEvent.ON_SEARCH)};e.SxEventScripting.prototype.onSelect=function(t){this.runEventScript(t,e.UiEvent.ON_SELECT)};e.SxEventScripting.prototype.onSelectionChange=function(t){this.runEventScript(t,e.UiEvent.ON_SELECTION_CHANGE)};e.SxEventScripting.prototype.onSelectionFinish=function(t){this.runEventScript(t,e.UiEvent.ON_SELECTION_FINISH)};e.SxEventScripting.prototype.onSuggestionSelect=function(t){this.runEventScript(t,e.UiEvent.ON_SUGGESTION_SELECT)};e.SxEventScripting.prototype.onTableDragAndDrop=function(t){this.runEventScript(t,e.UiEvent.ON_TABLE_DRAG_AND_DROP)};e.SxEventScripting.prototype.onTerminate=function(t){this.runEventScript(t,e.UiEvent.ON_TERMINATE)};e.SxEventScripting.prototype.onToggle=function(t){this.runEventScript(t,e.UiEvent.ON_TOGGLE)};e.SxEventScripting.prototype.onValueHelpRequest=function(t){this.runEventScript(t,e.UiEvent.ON_VALUE_HELP_REQUEST)};e.SxEventScripting.prototype.runEventScript=function(t,n){if(e.isNull(n)){throw e.XException.createRuntimeException("Missing event! Please specify an event!")}let i=t.getControl();let r=this.m_script;if(e.notNull(i)){if(e.isNull(this.m_uiManager)){this.m_uiManager=i.getUiManager()}if(e.isNull(this.m_script)){let e=i.getCustomObject();r=e.getStringByKey(n.getName())}}let o=e.ScriptEngine.create();o.setVmCallback(this);o.setCustomObject("event",t);o.setCustomObject("uicontext",i);o.setInitialRegister(i);o.compile(r);o.execute()};e.SxEventScripting.prototype.setupEventScripting=function(t,n){this.m_uiManager=t;this.m_script=n;this.m_map=e.XHashMapByString.create()};e.DfUiProgram=function(){};e.DfUiProgram.prototype=new e.DfApplicationProgram;e.DfUiProgram.prototype._ff_c="DfUiProgram";e.DfUiProgram.UI_PRG_CONTENT_WRAPPER_CSS="ffUiPrgContentWrapper";e.DfUiProgram.prototype.m_contentPage=null;e.DfUiProgram.prototype.m_genesis=null;e.DfUiProgram.prototype.m_parentGenesis=null;e.DfUiProgram.prototype.m_programMenuBar=null;e.DfUiProgram.prototype._createProgramMenuBarEntry=function(t){if(e.notNull(t)){let n=this.m_genesis.newControl(e.UiType.MENU);let i=this.getProgramMenuItems(this.getGenesis());n.addAllItems(e.XCollectionUtils.map(i,e=>e));if(!this.isEmbedded()){if(this._hasConfigurationMetadata()){n.addNewItem().setText("Settings...").setIcon("settings").setSectionStart(true).registerOnPress(e.UiLambdaPressListener.create(e=>{this.presentSettingsDialogIfPossible()}))}n.addNewItem().setText("Exit").setIcon("decline").setSectionStart(true).registerOnPress(e.UiLambdaPressListener.create(e=>{this.terminate()}))}n.openAt(t)}};e.DfUiProgram.prototype._getParentGenesis=function(){return this.m_parentGenesis};e.DfUiProgram.prototype._getUiPrgContainerSafe=function(){let t=null;try{t=this.getProgramContainer()}catch(t){this.logWarning(e.XException.getMessage(t))}return t};e.DfUiProgram.prototype._handleStartupError=function(t){let n=e.XStringUtils.concatenate4("Failed to start ",this.getProgramName(),"! Error: ",t.getText());if(t.getThrowable()!==null){e.XLogger.println(e.XException.getStackTrace(t.getThrowable(),0))}if(this.getResolvedProgramContainerType().isEmbeddedContainer()){let t=this._getParentGenesis().newRoot(e.UiType.MESSAGE_STRIP);t.setMessageType(e.UiMessageType.ERROR);t.setText(n);e.XLogger.println(n)}else{this._getParentGenesis().showErrorToast(n)}this.kill()};e.DfUiProgram.prototype._hideSetupPromiseBusyIndicatorIfNeeded=function(){if(this.showActivityIndicatorOnSetupPromise()&&!this.isReleased()){this.setBusy(false)}};e.DfUiProgram.prototype._prepareProgramShell=function(){if(this._shouldWrapContentInPage()){this.m_contentPage=this._getParentGenesis().newControl(e.UiType.PAGE);this.m_contentPage.addCssClass(e.DfUiProgram.UI_PRG_CONTENT_WRAPPER_CSS);this.m_contentPage.useMaxSpace();this.m_contentPage.setShowHeader(false);this.m_contentPage.setShowNavButton(false);this.m_contentPage.setContentOnlyBusy(true);this.m_contentPage.setEnableScrolling(true);if(this.isShowMenuBar()){this.m_programMenuBar=this._getParentGenesis().newControl(e.UiType.OVERFLOW_TOOLBAR);this.m_programMenuBar.setToolbarDesign(e.UiToolbarDesign.SOLID);this.m_programMenuBar.setWidth(e.UiCssLength.create("100%"));if(e.XStringUtils.isNotNullAndNotEmpty(this.getMenuBarDisplayName())&&!this.isEmbedded()){this.addMenuBarButton(this.getMenuBarDisplayName(),null,e=>{let t=e.getControl();this._createProgramMenuBarEntry(t)})}this.m_contentPage.setSubHeader(this.m_programMenuBar)}this._getParentGenesis().setRoot(this.m_contentPage);let t=e.UiGenesis.create(this.m_contentPage);this._proceedWithStartup(t)}else{let t=this._getParentGenesis().newControl(e.UiType.CONTENT_WRAPPER);t.addCssClass(e.DfUiProgram.UI_PRG_CONTENT_WRAPPER_CSS);t.useMaxSpace();this._getParentGenesis().setRoot(t);let n=e.UiGenesis.create(t);this._proceedWithStartup(n)}};e.DfUiProgram.prototype._proceedWithStartup=function(t){this.m_genesis=t;try{let n=this.setupProgram();if(e.isNull(n)){this.buildUi(t)}else{this._showSetupPromiseBusyIndicatorIfNeeded();n.onThen(n=>{if(!this.isReleased()&&(e.isNull(n)||n.getBoolean())){this.buildUi(t)}else{this.logWarning3("The ",this.getProgramName()," program execution was explicitly cancelled!");this.kill()}}).onCatch(e=>{this._handleStartupError(e)}).onFinally(()=>{this._hideSetupPromiseBusyIndicatorIfNeeded()})}}catch(t){this._handleStartupError(e.XError.createWithThrowable(t))}};e.DfUiProgram.prototype._shouldWrapContentInPage=function(){return this.getUiManager().getPlatform().isTypeOf(e.XPlatform.IOS)===false&&(this.getResolvedProgramContainerType()===e.ProgramContainerType.WINDOW||this.getResolvedProgramContainerType()===e.ProgramContainerType.STANDALONE||this.getResolvedProgramContainerType()===e.ProgramContainerType.CONTENT)};e.DfUiProgram.prototype._showSetupPromiseBusyIndicatorIfNeeded=function(){if(this.showActivityIndicatorOnSetupPromise()&&!this.isReleased()){this.setBusy(true)}};e.DfUiProgram.prototype.addMenuBarButton=function(t,n,i){if(this.getMenuBar()!==null){let r=this.getMenuBar().addNewItemOfType(e.UiType.BUTTON);r.setButtonType(e.UiButtonType.TRANSPARENT);r.setText(t);r.setIcon(n);r.registerOnPress(e.UiLambdaPressListener.create(i));return r}return e.UiContextDummy.getSingleton().getContent()};e.DfUiProgram.prototype.getComponentType=function(){return e.UiComponentTypeExt.UI_PROGRAM};e.DfUiProgram.prototype.getContainerCssClass=function(){return null};e.DfUiProgram.prototype.getContainerName=function(){return null};e.DfUiProgram.prototype.getDefaultContainerPosition=function(){return null};e.DfUiProgram.prototype.getDefaultContainerSize=function(){return null};e.DfUiProgram.prototype.getDefaultContainerType=function(){return e.ProgramContainerType.WINDOW};e.DfUiProgram.prototype.getDialogButtons=function(e){return null};e.DfUiProgram.prototype.getDialogCustomFooterToolbar=function(e){return null};e.DfUiProgram.prototype.getDialogCustomHeaderToolbar=function(e){return null};e.DfUiProgram.prototype.getDialogState=function(){return null};e.DfUiProgram.prototype.getGenesis=function(){return this.m_genesis};e.DfUiProgram.prototype.getLocalStorage=function(){return this.getProcess().getLocalStorage()};e.DfUiProgram.prototype.getLocalization=function(){return this.getProcess().getKernel().getLocalizationCenter()};e.DfUiProgram.prototype.getMenuBar=function(){if(e.notNull(this.m_programMenuBar)){return this.m_programMenuBar}return e.UiContextDummy.getSingleton()};e.DfUiProgram.prototype.getMenuBarDisplayName=function(){if(this.getProcess()!==null){let t=this.getProcess().getProgramCfg();if(e.notNull(t)){let n=t.getProgramManifest().getDisplayName();if(e.XStringUtils.isNullOrEmpty(n)){n=t.getProgramManifest().getProgramName()}return n}}return"PrgMenu"};e.DfUiProgram.prototype.getNotificationCenter=function(){return this.getProcess().getNotificationCenter()};e.DfUiProgram.prototype.getOffsetHeight=function(){let t=this._getUiPrgContainerSafe();if(e.notNull(t)){return t.getOffsetHeight()}return 0};e.DfUiProgram.prototype.getOffsetWidth=function(){let t=this._getUiPrgContainerSafe();if(e.notNull(t)){return t.getOffsetWidth()}return 0};e.DfUiProgram.prototype.getProcessSharedDataSpace=function(e){return this.getProcess().getSharedDataSpace(e)};e.DfUiProgram.prototype.getProgramMenuItems=function(e){return null};e.DfUiProgram.prototype.getProgramType=function(){return e.ProgramType.UI};e.DfUiProgram.prototype.getTitle=function(){let t=this.getProgramContainer();if(e.notNull(t)){return t.getTitle()}return""};e.DfUiProgram.prototype.getUiManager=function(){let t=this.getProcess().getUiManager();if(e.isNull(t)){t=this.getProcess().openSubSystem(e.SubSystemType.GUI)}if(e.isNull(t)&&e.notNull(this.m_genesis)){t=this.m_genesis.getUiManager()}return t};e.DfUiProgram.prototype.getWindowMenuItems=function(e){return null};e.DfUiProgram.prototype.isBusy=function(){let t=this._getUiPrgContainerSafe();if(e.notNull(t)){return t.isBusy()}return false};e.DfUiProgram.prototype.isEmbedded=function(){return this.getResolvedProgramContainerType()!==null&&this.getResolvedProgramContainerType().isEmbeddedContainer()};e.DfUiProgram.prototype.isMenuBarVisible=function(){if(e.isNull(this.m_programMenuBar)){return false}if(e.notNull(this.m_contentPage)){return this.m_contentPage.isShowSubHeader()}return false};e.DfUiProgram.prototype.isOpenContainerMaximized=function(){return false};e.DfUiProgram.prototype.isResizeAllowed=function(){return false};e.DfUiProgram.prototype.isShowMenuBar=function(){return false};e.DfUiProgram.prototype.isStandalone=function(){return this.getResolvedProgramContainerType()===e.ProgramContainerType.STANDALONE};e.DfUiProgram.prototype.onContainerResize=function(e,t){};e.DfUiProgram.prototype.presentExitConfirmPopup=function(t,n){let i=e.UtConfirmPopup.create(this.getGenesis(),t,n);i.setConfirmButtonText("Exit");i.setConfirmButtonIcon("delete");i.setConfirmButtonType(e.UiButtonType.DESTRUCTIVE);i.setConfirmProcedure(()=>{this.kill()});i.open()};e.DfUiProgram.prototype.presentSettingsDialogIfPossible=function(){let t=e.ProgramRunner.createRunner(this.getProcess(),"SettingsDialog");t.setStringArgument("configurationName",this._getConfigurationMetadata().getName());t.setBooleanArgument("userMode",true);t.setProgramTerminatedConsumer(t=>{let n=e.notNull(t)?t.getBooleanByKeyExt("hasChanges",false):false;if(n){this._reloadConfiguration()}});t.runProgram()};e.DfUiProgram.prototype.releaseObject=function(){this.m_programMenuBar=e.XObjectExt.release(this.m_programMenuBar);this.m_contentPage=e.XObjectExt.release(this.m_contentPage);this.m_genesis=e.XObjectExt.release(this.m_genesis);this.m_parentGenesis=null;e.DfApplicationProgram.prototype.releaseObject.call(this)};e.DfUiProgram.prototype.removeMenuBarButton=function(t){if(this.getMenuBar()!==null&&e.notNull(t)&&this.getMenuBar().getItems().contains(t)){this.getMenuBar().removeItem(t)}};e.DfUiProgram.prototype.renderUi=function(t){if(e.isNull(this.m_parentGenesis)){this.m_parentGenesis=t}else{throw e.XException.createRuntimeException("Genesis already set! Cannot change program genesis during runtime!")}this.runProgram()};e.DfUiProgram.prototype.runProcess=function(){if(this._getParentGenesis()===null){throw e.XException.createRuntimeException("Missing genesis object, cannot render the UI. Please specify a genesis container object!")}this._prepareProgramShell();return true};e.DfUiProgram.prototype.setBusy=function(t){let n=this._getUiPrgContainerSafe();if(e.notNull(n)){n.setBusy(t)}};e.DfUiProgram.prototype.setContainerSize=function(t){let n=this._getUiPrgContainerSafe();if(e.notNull(n)){n.setContainerSize(t)}};e.DfUiProgram.prototype.setInitialControlToFocus=function(t){let n=this._getUiPrgContainerSafe();if(e.notNull(n)){n.setInitialControlToFocus(t)}};e.DfUiProgram.prototype.setTitle=function(t){let n=this.getProgramContainer();if(e.notNull(n)){n.setTitle(t)}};e.DfUiProgram.prototype.setupProcess=function(){return null};e.DfUiProgram.prototype.showActivityIndicatorOnSetupPromise=function(){return true};e.DfUiProgram.prototype.showMenuBar=function(t){if(e.notNull(this.m_contentPage)){this.m_contentPage.setShowSubHeader(t)}};e.DfUiPrgContainerEmbedded=function(){};e.DfUiPrgContainerEmbedded.prototype=new e.DfUiPrgContainer;e.DfUiPrgContainerEmbedded.prototype._ff_c="DfUiPrgContainerEmbedded";e.DfUiPrgContainerEmbedded.prototype.m_isContainerOpen=false;e.DfUiPrgContainerEmbedded.prototype.cleanupContainer=function(){};e.DfUiPrgContainerEmbedded.prototype.closeContainerControl=function(){this.m_isContainerOpen=false};e.DfUiPrgContainerEmbedded.prototype.deregisterContainerEvents=function(){};e.DfUiPrgContainerEmbedded.prototype.getContainerOffsetHeight=function(){return 0};e.DfUiPrgContainerEmbedded.prototype.getContainerOffsetWidth=function(){return 0};e.DfUiPrgContainerEmbedded.prototype.isContainerOpen=function(){return this.m_isContainerOpen};e.DfUiPrgContainerEmbedded.prototype.isFloatingContainer=function(){return false};e.DfUiPrgContainerEmbedded.prototype.isModalContainer=function(){return false};e.DfUiPrgContainerEmbedded.prototype.openContainerControl=function(){this.m_isContainerOpen=true};e.DfUiPrgContainerEmbedded.prototype.setContainerControlSize=function(e){};e.DfUiPrgContainerEmbedded.prototype.setContainerOpened=function(){this.m_isContainerOpen=true;this.notifyContainerOpened()};e.DfUiPrgContainerEmbedded.prototype.setupUiContainer=function(t,n){this.m_isContainerOpen=false;e.DfUiPrgContainer.prototype.setupUiContainer.call(this,t,n)};e.DfUiPrgContainerFloating=function(){};e.DfUiPrgContainerFloating.prototype=new e.DfUiPrgContainer;e.DfUiPrgContainerFloating.prototype._ff_c="DfUiPrgContainerFloating";e.DfUiPrgContainerFloating.prototype.getInitialContainerPosition=function(){let t=this.getStartCfg();let n=null;let i=t.getInitialContainerCssPosX();let r=t.getInitialContainerCssPosY();if(e.XStringUtils.isNotNullAndNotEmpty(i)||e.XStringUtils.isNotNullAndNotEmpty(r)){n=e.UiPosition.createByCss(i,r)}let o=this.getUiProgram();if(e.isNull(n)&&e.notNull(o)){n=o.getDefaultContainerPosition()}return n};e.DfUiPrgContainerFloating.prototype.getInitialContainerSize=function(){let t=this.getStartCfg();let n=null;let i=t.getInitialContainerCssWidth();let r=t.getInitialContainerCssHeight();if(e.XStringUtils.isNotNullAndNotEmpty(i)||e.XStringUtils.isNotNullAndNotEmpty(r)){n=e.UiSize.createByCss(i,r)}let o=this.getUiProgram();if(e.isNull(n)&&e.notNull(o)){if(o.getDefaultContainerSize()!==null){n=o.getDefaultContainerSize()}}return n};e.DfUiPrgContainerFloating.prototype.isFloatingContainer=function(){return true};e.DfUiPrgContainerFloating.prototype.notifyContainerResized=function(e,t){if(this.getUiProgram()!==null){this.getUiProgram().onContainerResize(e,t)}};e.DfUiPrgContainerFloating.prototype.shouldContainerOpenMaximized=function(){let e=this.getStartCfg();let t=false;if(this.getUiProgram()!==null){t=this.getUiProgram().isOpenContainerMaximized()}if(e.isInitiallyContainerMaximized()){t=e.isInitiallyContainerMaximized()}return t};e.QuasarComponentType=function(){};e.QuasarComponentType.prototype=new e.XComponentType;e.QuasarComponentType.prototype._ff_c="QuasarComponentType";e.QuasarComponentType.JSON_DATA_PROVIDER=null;e.QuasarComponentType.REST_DATA_PROVIDER=null;e.QuasarComponentType.createQuasarType=function(t,n){let i=new e.QuasarComponentType;if(e.isNull(n)){i.setupExt(t,e.XComponentType._ROOT)}else{i.setupExt(t,n)}return i};e.QuasarComponentType.staticSetupQuasarType=function(){e.QuasarComponentType.JSON_DATA_PROVIDER=e.QuasarComponentType.createQuasarType("JsonDataProvider",e.IoComponentType.DATA_PROVIDER);e.QuasarComponentType.REST_DATA_PROVIDER=e.QuasarComponentType.createQuasarType("RestDataProvider",e.IoComponentType.DATA_PROVIDER)};e.ComponentProgram=function(){};e.ComponentProgram.prototype=new e.DfUiProgram;e.ComponentProgram.prototype._ff_c="ComponentProgram";e.DfUiDialogProgram=function(){};e.DfUiDialogProgram.prototype=new e.DfUiProgram;e.DfUiDialogProgram.prototype._ff_c="DfUiDialogProgram";e.DfUiDialogProgram.prototype._getDialogPrgContainer=function(){let t=null;try{let n=this.getProgramContainer();if(e.notNull(n)&&n.getContainerType()===e.ProgramContainerType.DIALOG){t=n}}catch(e){this.log("Not a dialog container")}return t};e.DfUiDialogProgram.prototype.getComponentType=function(){return e.UiComponentTypeExt.UI_DIALOG_PROGRAM};e.DfUiDialogProgram.prototype.getDefaultContainerType=function(){return e.ProgramContainerType.DIALOG};e.DfUiDialogProgram.prototype.getDialogButtons=function(e){return null};e.DfUiDialogProgram.prototype.getDialogCustomFooterToolbar=function(e){return null};e.DfUiDialogProgram.prototype.getDialogCustomHeaderToolbar=function(e){return null};e.DfUiDialogProgram.prototype.getDialogState=function(){return null};e.DfUiDialogProgram.prototype.isShowMenuBar=function(){return false};e.DfUiDialogProgram.prototype.releaseObject=function(){e.DfUiProgram.prototype.releaseObject.call(this)};e.DfUiDialogProgram.prototype.shake=function(){let t=this._getDialogPrgContainer();if(e.notNull(t)){t.shake()}};e.DfUiPrgContainerGenericWindow=function(){};e.DfUiPrgContainerGenericWindow.prototype=new e.DfUiPrgContainerFloating;e.DfUiPrgContainerGenericWindow.prototype._ff_c="DfUiPrgContainerGenericWindow";e.DfUiPrgContainerGenericWindow.prototype.m_containerWindow=null;e.DfUiPrgContainerGenericWindow.prototype.m_taskBarButton=null;e.DfUiPrgContainerGenericWindow.prototype._createTaskBarButtonMenu=function(t){let n=this.getGenesis().newControl(e.UiType.MENU);let i=n.addNewItem();i.setText("Close program");i.setIcon("decline");i.registerOnPress(e.UiLambdaPressListener.create(e=>{this.terminateProgram()}));i.setCustomObject(t);let r=n.addNewItem();r.setText(this.getWindow().isHidden()?"Show":"Hide");r.setIcon(this.getWindow().isHidden()?"header":"minimize");r.registerOnPress(e.UiLambdaPressListener.create(e=>{this._toggleContainerWindowVisibillityState()}));r.setCustomObject(t);let o=n.addNewItem();o.setText("Split left");o.setIcon("slim-arrow-left");o.registerOnPress(e.UiLambdaPressListener.create(e=>{this._handleSplitWindowLeft()}));o.setCustomObject(t);let s=n.addNewItem();s.setText("Split right");s.setIcon("slim-arrow-right");s.registerOnPress(e.UiLambdaPressListener.create(e=>{this._handleSplitWindowRight()}));s.setCustomObject(t);return n};e.DfUiPrgContainerGenericWindow.prototype._createWindowMenuIfAvailable=function(){let t=this._getWindowMenuItems();if(e.notNull(t)&&t.size()>0){this.getWindow().registerOnMenuPress(e.UiLambdaMenuPressListener.create(n=>{let i=n.getParameters().getIntegerByKeyExt(e.UiEventParams.PARAM_MENU_X,-1);let r=n.getParameters().getIntegerByKeyExt(e.UiEventParams.PARAM_MENU_Y,-1);let o=this.getGenesis().newControl(e.UiType.MENU);o.addAllItems(e.XCollectionUtils.map(t,e=>e));o.openAtPosition(i,r)}))}};e.DfUiPrgContainerGenericWindow.prototype._getTaskBarButton=function(){return this.m_taskBarButton};e.DfUiPrgContainerGenericWindow.prototype._getWindowMenuItems=function(){if(this.getUiProgram()!==null){return this.getUiProgram().getWindowMenuItems(this.getGenesis())}return null};e.DfUiPrgContainerGenericWindow.prototype._handleSplitWindowLeft=function(){this._handleTaskBarbuttonPress(false);this.getWindow().setFrameCss("0px","0px","50%","100%")};e.DfUiPrgContainerGenericWindow.prototype._handleSplitWindowRight=function(){this._handleTaskBarbuttonPress(false);this.getWindow().setFrameCss("50%","0px","50%","100%")};e.DfUiPrgContainerGenericWindow.prototype._handleTaskBarbuttonPress=function(e){if(this.getWindow().isHidden()){this.getWindow().show(e,this._getTaskBarButton())}else{this.getWindow().bringToFront()}};e.DfUiPrgContainerGenericWindow.prototype._removeTaskBarButtonFromParent=function(){let t=this._getTaskBarButton();if(e.notNull(t)){let n=t.getParent();if(e.notNull(n)&&n.getUiType()===e.UiType.TASK_BAR){n.removeItem(t)}}};e.DfUiPrgContainerGenericWindow.prototype._toggleContainerWindowMaximizedState=function(){if(this.getWindow().isMaximized()){this.getWindow().restore(true)}else{this.getWindow().maximize(true)}};e.DfUiPrgContainerGenericWindow.prototype._toggleContainerWindowVisibillityState=function(){if(this.getWindow().isHidden()){this.getWindow().show(true,this._getTaskBarButton())}else{this.getWindow().hide(true,this._getTaskBarButton())}};e.DfUiPrgContainerGenericWindow.prototype.cleanupContainer=function(){this._removeTaskBarButtonFromParent()};e.DfUiPrgContainerGenericWindow.prototype.closeContainerControl=function(){if(this.getWindow()!==null&&this.isContainerOpen()){this.getWindow().close()}};e.DfUiPrgContainerGenericWindow.prototype.deregisterContainerEvents=function(){if(this.getWindow()!==null){this.getWindow().registerOnOpen(null);this.getWindow().registerOnClose(null)}};e.DfUiPrgContainerGenericWindow.prototype.getContainerOffsetHeight=function(){if(this.getWindow()!==null){return this.getWindow().getOffsetHeight()}return 0};e.DfUiPrgContainerGenericWindow.prototype.getContainerOffsetWidth=function(){if(this.getWindow()!==null){return this.getWindow().getOffsetWidth()}return 0};e.DfUiPrgContainerGenericWindow.prototype.getWindow=function(){return this.m_containerWindow};e.DfUiPrgContainerGenericWindow.prototype.isContainerOpen=function(){if(this.getWindow()!==null){return this.getWindow().isOpen()}return false};e.DfUiPrgContainerGenericWindow.prototype.isModalContainer=function(){return false};e.DfUiPrgContainerGenericWindow.prototype.onButtonPress=function(t){let n=t.getParameters().getStringByKeyExt(e.UiEventParams.PARAM_PRESSED_BUTTON_TYPE,null);let i=e.UiPressedButtonType.lookup(n);if(e.notNull(i)&&i===e.UiPressedButtonType.HIDE){this._toggleContainerWindowVisibillityState()}if(e.notNull(i)&&i===e.UiPressedButtonType.MAXIMIZE){this._toggleContainerWindowMaximizedState()}if(e.notNull(i)&&i===e.UiPressedButtonType.CLOSE){this.terminateProgram()}};e.DfUiPrgContainerGenericWindow.prototype.onClose=function(e){this.killProgram()};e.DfUiPrgContainerGenericWindow.prototype.onMoveEnd=function(e){};e.DfUiPrgContainerGenericWindow.prototype.onOpen=function(e){this.notifyContainerOpened()};e.DfUiPrgContainerGenericWindow.prototype.openAndRun=function(t){return e.DfUiPrgContainerFloating.prototype.openAndRun.call(this,t)};e.DfUiPrgContainerGenericWindow.prototype.openContainerControl=function(){if(this.getWindow()!==null&&!this.isContainerOpen()){this.getWindow().open()}};e.DfUiPrgContainerGenericWindow.prototype.releaseObject=function(){e.DfUiPrgContainerFloating.prototype.releaseObject.call(this);this.m_taskBarButton=null;this.m_containerWindow=e.XObjectExt.release(this.m_containerWindow)};e.DfUiPrgContainerGenericWindow.prototype.setContainerControlSize=function(e){if(this.getWindow()!==null){this.getWindow().setSize(e)}};e.DfUiPrgContainerGenericWindow.prototype.setContainerWindow=function(e){this.m_containerWindow=e;if(this.getInitialContainerSize()!==null){this.m_containerWindow.setSize(this.getInitialContainerSize())}if(this.getInitialContainerPosition()!==null){this.m_containerWindow.setPosition(this.getInitialContainerPosition())}if(this.shouldContainerOpenMaximized()){this.m_containerWindow.maximize(false)}this._createWindowMenuIfAvailable()};e.DfUiPrgContainerGenericWindow.prototype.setTaskBarButton=function(t){if(e.notNull(t)){this.m_taskBarButton=t;this.m_taskBarButton.registerOnPress(e.UiLambdaPressListener.create(e=>{this._handleTaskBarbuttonPress(true)}));this.m_taskBarButton.registerOnContextMenu(e.UiLambdaContextMenuListener.create(t=>{let n=t.getParameters().getIntegerByKeyExt(e.UiEventParams.PARAM_CLICK_X,0);let i=t.getParameters().getIntegerByKeyExt(e.UiEventParams.PARAM_CLICK_Y,0);let r=this._createTaskBarButtonMenu(this.m_taskBarButton);if(e.notNull(r)){r.openAtPosition(n,i)}}))}};e.DfUiPrgContainerGenericWindow.prototype.setTitle=function(t){e.DfUiPrgContainerFloating.prototype.setTitle.call(this,t);if(this.getWindow()!==null){this.getWindow().setTitle(t)}if(this._getTaskBarButton()!==null){this._getTaskBarButton().setText(t)}};e.UiPrgContainerContent=function(){};e.UiPrgContainerContent.prototype=new e.DfUiPrgContainerEmbedded;e.UiPrgContainerContent.prototype._ff_c="UiPrgContainerContent";e.UiPrgContainerContent.createExt=function(t,n){let i=new e.UiPrgContainerContent;i.setupContainer(t,n);return i};e.UiPrgContainerContent.prototype.m_contentControl=null;e.UiPrgContainerContent.prototype.getContainerType=function(){return e.ProgramContainerType.CONTENT};e.UiPrgContainerContent.prototype.isContainerBusy=function(){if(e.notNull(this.m_contentControl)){return this.m_contentControl.isBusy()}return false};e.UiPrgContainerContent.prototype.openAndRun=function(t){let n=this.getUiProgram();return n.initializeProgram().onFinally(()=>{let t=e.UiGenesis.create(this.m_contentControl);t.clearUi();this.setContainerNameAndCssClass(this.m_contentControl);n.renderUi(t);this.setContainerOpened()})};e.UiPrgContainerContent.prototype.runFull=function(){try{let t=this.getProcess();let n=t.getProgramCfg();this.m_contentControl=n.getAnchorContentControl();if(e.isNull(this.m_contentControl)&&e.XStringUtils.isNotNullAndNotEmpty(n.getAnchorContentControlName())){this.m_contentControl=e.XCollectionUtils.findFirst(this.getUiManager().getAllRegisteredElements(),t=>e.XString.isEqual(t.getName(),n.getAnchorContentControlName()))}}catch(e){this.m_contentControl=null}let t=null;if(e.isNull(this.m_contentControl)||!this.m_contentControl.hasProperty(e.UiProperty.CONTENT)){throw e.XException.createRuntimeException("Missing content control! A content program container requires a content based control to be specified!")}else{t=this.openAndRun(this.getUiManager())}return t};e.UiPrgContainerContent.prototype.setContainerBusy=function(t){if(e.notNull(this.m_contentControl)){this.m_contentControl.setBusy(t)}};e.UiPrgContainerDialog=function(){};e.UiPrgContainerDialog.prototype=new e.DfUiPrgContainerFloating;e.UiPrgContainerDialog.prototype._ff_c="UiPrgContainerDialog";e.UiPrgContainerDialog.DIALOG_PRG_CONTAINER_TAG="ffDialogPrgContainer";e.UiPrgContainerDialog.createExt=function(t,n){let i=new e.UiPrgContainerDialog;i.setupContainer(t,n);return i};e.UiPrgContainerDialog.prototype.m_containerDialog=null;e.UiPrgContainerDialog.prototype._addAutoCreatedCloseButton=function(){let t=this.getDialog().addNewDialogButton();t.setText("Close");t.registerOnPress(e.UiLambdaPressListener.create(e=>{this.terminateProgram()}));this.setInitialControlToFocus(t)};e.UiPrgContainerDialog.prototype._canResize=function(){if(this.getUiProgram()!==null){return this.getUiProgram().isResizeAllowed()}return false};e.UiPrgContainerDialog.prototype._getDialogButtons=function(){if(this.getUiProgram()!==null){return this.getUiProgram().getDialogButtons(this.getGenesis())}return null};e.UiPrgContainerDialog.prototype._getDialogCustomFooterToolbar=function(){if(this.getUiProgram()!==null){return this.getUiProgram().getDialogCustomHeaderToolbar(this.getGenesis())}return null};e.UiPrgContainerDialog.prototype._getDialogCustomHeaderToolbar=function(){if(this.getUiProgram()!==null){return this.getUiProgram().getDialogCustomHeaderToolbar(this.getGenesis())}return null};e.UiPrgContainerDialog.prototype._getDialogState=function(){if(this.getUiProgram()!==null){return this.getUiProgram().getDialogState()}return null};e.UiPrgContainerDialog.prototype._setContainerDialog=function(t){this.m_containerDialog=t;this.setContainerNameAndCssClass(t);if(this.getInitialContainerSize()!==null){this.m_containerDialog.setSize(this.getInitialContainerSize())}let n=this._getDialogButtons();if(e.notNull(n)&&n.size()>0){this.getDialog().addAllDialogButtons(n);this.setInitialControlToFocus(n.get(0))}else{this._addAutoCreatedCloseButton()}let i=this._getDialogCustomHeaderToolbar();if(e.notNull(i)){this.getDialog().setHeaderToolbar(i)}let r=this._getDialogCustomFooterToolbar();if(e.notNull(r)){this.getDialog().setFooterToolbar(r)}let o=this._getDialogState();if(e.notNull(o)){this.getDialog().setState(o)}};e.UiPrgContainerDialog.prototype._setInitialFocus=function(){if(this.getDialog()!==null){this.getDialog().setInitialFocus(this.getInitialControlToFocus())}};e.UiPrgContainerDialog.prototype.cleanupContainer=function(){};e.UiPrgContainerDialog.prototype.closeContainerControl=function(){if(this.getDialog()!==null&&this.isContainerOpen()){this.getDialog().close()}};e.UiPrgContainerDialog.prototype.deregisterContainerEvents=function(){if(this.getDialog()!==null){this.getDialog().registerOnAfterOpen(null);this.getDialog().registerOnAfterClose(null);this.getDialog().registerOnEscape(null);this.getDialog().registerOnResize(null)}};e.UiPrgContainerDialog.prototype.getContainerOffsetHeight=function(){if(this.getDialog()!==null){return this.getDialog().getOffsetHeight()}return 0};e.UiPrgContainerDialog.prototype.getContainerOffsetWidth=function(){if(this.getDialog()!==null){return this.getDialog().getOffsetWidth()}return 0};e.UiPrgContainerDialog.prototype.getContainerType=function(){return e.ProgramContainerType.DIALOG};e.UiPrgContainerDialog.prototype.getDialog=function(){return this.m_containerDialog};e.UiPrgContainerDialog.prototype.isContainerBusy=function(){if(this.getDialog()!==null){return this.getDialog().isBusy()}return false};e.UiPrgContainerDialog.prototype.isContainerOpen=function(){if(this.getDialog()!==null){return this.getDialog().isOpen()}return false};e.UiPrgContainerDialog.prototype.isModalContainer=function(){return true};e.UiPrgContainerDialog.prototype.openAndRun=function(t){this.setUiManager(t);let n=this.getProgram();return n.initializeProgram().onFinally(()=>{let i=t.newControl(e.UiType.DIALOG);i.setTag(e.UiPrgContainerDialog.DIALOG_PRG_CONTAINER_TAG);i.setTitle(this.getTitle());i.setHeight(e.UiCssLength.create("500px"));i.setWidth(e.UiCssLength.create("600px"));i.registerOnAfterOpen(e.UiLambdaAfterOpenListener.create(e=>{this.notifyContainerOpened()}));i.registerOnAfterClose(e.UiLambdaAfterCloseListener.create(e=>{this.killProgram()}));i.registerOnEscape(e.UiLambdaEscapeListener.create(e=>{this.terminateProgram()}));i.registerOnResize(e.UiLambdaResizeListener.create(e=>{this.notifyContainerResized(e.getOffsetWidth(),e.getOffsetHeight())}));i.setCustomObject(this);this._setContainerDialog(i);i.setResizable(this._canResize());i.open();let r=e.UiGenesis.create(i);n.renderUi(r);this._setInitialFocus()})};e.UiPrgContainerDialog.prototype.openContainerControl=function(){if(this.getDialog()!==null&&!this.isContainerOpen()){this.getDialog().open()}};e.UiPrgContainerDialog.prototype.releaseObject=function(){e.DfUiPrgContainerFloating.prototype.releaseObject.call(this);this.m_containerDialog=e.XObjectExt.release(this.m_containerDialog)};e.UiPrgContainerDialog.prototype.setContainerBusy=function(e){if(this.getDialog()!==null){this.getDialog().setBusy(e)}};e.UiPrgContainerDialog.prototype.setContainerControlSize=function(e){if(this.getDialog()!==null){this.getDialog().setSize(e)}};e.UiPrgContainerDialog.prototype.setInitialControlToFocus=function(t){e.DfUiPrgContainerFloating.prototype.setInitialControlToFocus.call(this,t);this._setInitialFocus()};e.UiPrgContainerDialog.prototype.setTitle=function(t){e.DfUiPrgContainerFloating.prototype.setTitle.call(this,t);if(this.getDialog()!==null){this.getDialog().setTitle(t)}};e.UiPrgContainerDialog.prototype.setupUiContainer=function(t,n){e.DfUiPrgContainerFloating.prototype.setupContainer.call(this,t,n)};e.UiPrgContainerDialog.prototype.shake=function(){if(this.getDialog()!==null){this.getDialog().shake()}};e.UiPrgContainerStandalone=function(){};e.UiPrgContainerStandalone.prototype=new e.DfUiPrgContainerEmbedded;e.UiPrgContainerStandalone.prototype._ff_c="UiPrgContainerStandalone";e.UiPrgContainerStandalone.createExt=function(t,n){let i=new e.UiPrgContainerStandalone;i.setupContainer(t,n);return i};e.UiPrgContainerStandalone.prototype.m_root=null;e.UiPrgContainerStandalone.prototype.m_rootGuid=null;e.UiPrgContainerStandalone.prototype.cleanupContainer=function(){this.getUiManager().deregisterNativeAnchorByName(this.m_rootGuid);e.DfUiPrgContainerEmbedded.prototype.cleanupContainer.call(this)};e.UiPrgContainerStandalone.prototype.getContainerType=function(){return e.ProgramContainerType.STANDALONE};e.UiPrgContainerStandalone.prototype.initializeUi=function(e){this.openAndRun(e)};e.UiPrgContainerStandalone.prototype.isContainerBusy=function(){if(e.notNull(this.m_root)){return this.m_root.isBusy()}return false};e.UiPrgContainerStandalone.prototype.openAndRun=function(t){let n=this.getProgram();return n.initializeProgram().onFinally(()=>{if(e.notNull(this.m_rootGuid)){this.m_root=t.getAnchorByName(this.m_rootGuid)}else{this.m_root=t.getAnchor()}let i=e.UiGenesis.create(this.m_root);n.renderUi(i);this.setContainerOpened()})};e.UiPrgContainerStandalone.prototype.releaseObject=function(){this.m_root=e.XObjectExt.release(this.m_root);e.DfUiPrgContainerEmbedded.prototype.releaseObject.call(this)};e.UiPrgContainerStandalone.prototype.runFull=function(){let t=this.getProcess();let n=this.getUiManager();if(e.notNull(n)){this.m_rootGuid=e.XGuid.getGuid();let i=t.getProgramCfg();let r=i.getNativeAnchorId();let o=i.getNativeAnchorObject();n.registerNativeAnchor(this.m_rootGuid,r,o);n.invokeOnEventingThread(this)}return e.XPromise.resolve(e.XBooleanValue.create(true))};e.UiPrgContainerStandalone.prototype.setContainerBusy=function(t){if(e.notNull(this.m_root)){this.m_root.setBusy(t)}};e.UiComponentTypeExt=function(){};e.UiComponentTypeExt.prototype=new e.UiComponentType;e.UiComponentTypeExt.prototype._ff_c="UiComponentTypeExt";e.UiComponentTypeExt.UI_DIALOG_PROGRAM=null;e.UiComponentTypeExt.UI_PROGRAM=null;e.UiComponentTypeExt.UI_STUDIO=null;e.UiComponentTypeExt.UI_STUDIO_PROGRAM=null;e.UiComponentTypeExt.staticSetupUiExtComponentType=function(){e.UiComponentTypeExt.UI_STUDIO=e.UiComponentType.createUiComponentType("UiStudio",e.XComponentType._UI);e.UiComponentTypeExt.UI_PROGRAM=e.UiComponentType.createUiComponentType("UiProgram",e.RuntimeComponentType.APPLICATION_PROGRAM);e.UiComponentTypeExt.UI_STUDIO_PROGRAM=e.UiComponentType.createUiComponentType("UiStudioProgram",e.UiComponentTypeExt.UI_PROGRAM);e.UiComponentTypeExt.UI_DIALOG_PROGRAM=e.UiComponentType.createUiComponentType("UiDialogProgram",e.UiComponentTypeExt.UI_PROGRAM)};e.UiPrgContainerTerminal=function(){};e.UiPrgContainerTerminal.prototype=new e.DfUiPrgContainerGenericWindow;e.UiPrgContainerTerminal.prototype._ff_c="UiPrgContainerTerminal";e.UiPrgContainerTerminal.COMMAND_SEPARATOR="[-cmd-]";e.UiPrgContainerTerminal.MAX_COMMAND_HISTORY_SIZE=40;e.UiPrgContainerTerminal.TERMINAL_COMMAND_HISTORY_KEY="terminal_commandHistory";e.UiPrgContainerTerminal.TERMINAL_PRG_CONTAINER_TAG="ffTerminalWindow";e.UiPrgContainerTerminal.createExt=function(t,n){let i=new e.UiPrgContainerTerminal;i.setupContainer(t,n);return i};e.UiPrgContainerTerminal.prototype.m_commandList=null;e.UiPrgContainerTerminal.prototype.m_singleLineListener=null;e.UiPrgContainerTerminal.prototype.m_terminalWindow=null;e.UiPrgContainerTerminal.prototype.m_workingDirChangedConsumerUuid=null;e.UiPrgContainerTerminal.prototype._addCommandToHistory=function(t){if(e.XStringUtils.isNotNullAndNotEmpty(t)&&e.XString.size(e.XString.replace(t," ",""))>0){if(e.notNull(this.m_commandList)){if(this.m_commandList.size()>0){let n=e.XCollectionUtils.last(this.m_commandList);if(e.XString.isEqual(t,n)){return}}this.m_commandList.add(t);if(this.m_commandList.size()>e.UiPrgContainerTerminal.MAX_COMMAND_HISTORY_SIZE){this.m_commandList.removeAt(0)}let n=e.XCollectionUtils.join(this.m_commandList,e.UiPrgContainerTerminal.COMMAND_SEPARATOR);e.XLocalStorage.getInstance().putString(e.UiPrgContainerTerminal.TERMINAL_COMMAND_HISTORY_KEY,n)}}};e.UiPrgContainerTerminal.prototype._getTerminalContainer=function(){return this.getWindow()};e.UiPrgContainerTerminal.prototype._initCommandHistory=function(){if(this._getTerminalContainer()!==null){let t=e.XLocalStorage.getInstance().getStringByKeyExt(e.UiPrgContainerTerminal.TERMINAL_COMMAND_HISTORY_KEY,"");this.m_commandList=e.XStringTokenizer.splitString(t,e.UiPrgContainerTerminal.COMMAND_SEPARATOR);if(e.notNull(this.m_commandList)&&this.m_commandList.size()===1){let n=e.XStringTokenizer.splitString(t,",");if(e.notNull(n)&&n.size()>1){this.m_commandList=n}}this._getTerminalContainer().setCommandHistory(this.m_commandList)}if(e.isNull(this.m_commandList)){this.m_commandList=e.XList.create()}};e.UiPrgContainerTerminal.prototype._registerForWorkingDirectoryChanges=function(){try{let t=this.getProcess();if(e.notNull(t)){this.m_workingDirChangedConsumerUuid=t.addWorkingDirectoryChangedConsumer(this._updateWorkingDirectory.bind(this))}}catch(t){e.XLogger.println("Error while getting the process!")}};e.UiPrgContainerTerminal.prototype._unregisterFromWorkingDirectoryChanges=function(){try{let t=this.getProcess();if(e.notNull(t)&&e.notNull(this.m_workingDirChangedConsumerUuid)){t.removeWorkingDirectoryChangedConsumerByUuid(this.m_workingDirChangedConsumerUuid);this.m_workingDirChangedConsumerUuid=null}}catch(e){this.m_workingDirChangedConsumerUuid=null}};e.UiPrgContainerTerminal.prototype._updateWorkingDirectory=function(t){if(e.notNull(t)){this.setPath(t.getPath())}};e.UiPrgContainerTerminal.prototype.getContainerType=function(){return e.ProgramContainerType.CONSOLE};e.UiPrgContainerTerminal.prototype.isBlocked=function(){return this._getTerminalContainer().isBusy()};e.UiPrgContainerTerminal.prototype.isContainerBusy=function(){if(e.notNull(this.m_terminalWindow)){return this.m_terminalWindow.isBusy()}return false};e.UiPrgContainerTerminal.prototype.isLogWritten=function(e,t){return true};e.UiPrgContainerTerminal.prototype.logExt=function(t,n,i,r){let o=e.DfLogWriter.createLogString(t,n,i,r);this._getTerminalContainer().println(o)};e.UiPrgContainerTerminal.prototype.onClose=function(t){this._unregisterFromWorkingDirectoryChanges();e.DfUiPrgContainerGenericWindow.prototype.onClose.call(this,t)};e.UiPrgContainerTerminal.prototype.onExecute=function(t){if(e.notNull(this.m_singleLineListener)){let n=this.m_singleLineListener;this.m_singleLineListener=null;let i=t.getParameters().getStringByKeyExt(e.UiEventParams.PARAM_COMMAND,null);i=e.XString.trim(i);try{n.onLineRead(i);this._addCommandToHistory(i);i="";this.m_singleLineListener=n}catch(e){this.m_singleLineListener=n}}else{this._getTerminalContainer().println("404 Command not found. It got lost in the void...")}};e.UiPrgContainerTerminal.prototype.onOpen=function(t){if(this.getProcess()===null||this.getProcess().isReleased()){this.shutdownContainer();return}if(this.getProcess()!==null){let t=this.getProcess().getWorkingDirectoryUri();this._updateWorkingDirectory(t);if(e.notNull(t)){this._registerForWorkingDirectoryChanges()}}e.DfUiPrgContainerGenericWindow.prototype.onOpen.call(this,t)};e.UiPrgContainerTerminal.prototype.onTerminate=function(t){e.XLogger.println("process interrupt signal")};e.UiPrgContainerTerminal.prototype.openAndRun=function(t){this.setUiManager(t);let n=this.getProgram();let i=n.getSession();i.setStdin(this);i.setStdout(this);i.setStdlog(this);return n.initializeProgram().onFinally(()=>{this.m_terminalWindow=t.newControl(e.UiType.TERMINAL);this.m_terminalWindow.setTag(e.UiPrgContainerTerminal.TERMINAL_PRG_CONTAINER_TAG);this.m_terminalWindow.setTitle(this.getTitle());this.m_terminalWindow.setCustomObject(this);this.m_terminalWindow.registerOnExecute(this);this.m_terminalWindow.registerOnTerminate(this);this.m_terminalWindow.registerOnOpen(this);this.m_terminalWindow.registerOnClose(this);this.m_terminalWindow.registerOnButtonPress(this);this.m_terminalWindow.registerOnMoveEnd(this);this.m_terminalWindow.registerOnResize(e.UiLambdaResizeListener.create(e=>{this.notifyContainerResized(e.getOffsetWidth(),e.getOffsetHeight())}));this.setContainerNameAndCssClass(this.m_terminalWindow);this.setContainerWindow(this.m_terminalWindow);this._initCommandHistory();this.m_terminalWindow.open();n.runProgram()})};e.UiPrgContainerTerminal.prototype.print=function(e){if(this._getTerminalContainer()!==null){this._getTerminalContainer().print(e)}};e.UiPrgContainerTerminal.prototype.println=function(e){if(this._getTerminalContainer()!==null){this._getTerminalContainer().println(e)}};e.UiPrgContainerTerminal.prototype.readLine=function(e){this.m_singleLineListener=e;return null};e.UiPrgContainerTerminal.prototype.releaseObject=function(){this._unregisterFromWorkingDirectoryChanges();this.m_terminalWindow=e.XObjectExt.release(this.m_terminalWindow);this.m_commandList=e.XObjectExt.release(this.m_commandList);e.DfUiPrgContainerGenericWindow.prototype.releaseObject.call(this)};e.UiPrgContainerTerminal.prototype.setAllowUserInput=function(e){this.setContainerBusy(!e)};e.UiPrgContainerTerminal.prototype.setBlocked=function(e){this._getTerminalContainer().setBusy(e)};e.UiPrgContainerTerminal.prototype.setContainerBusy=function(t){if(e.notNull(this.m_terminalWindow)){this.m_terminalWindow.setBusy(t)}};e.UiPrgContainerTerminal.prototype.setPath=function(e){this._getTerminalContainer().setPath(e)};e.UiPrgContainerTerminal.prototype.setPrompt=function(e){this._getTerminalContainer().setPrompt(e)};e.UiPrgContainerTerminal.prototype.setReadLineFinishedConsumer=function(e){};e.UiPrgContainerTerminal.prototype.startReadLine=function(e,t){this._getTerminalContainer().startReadLine(e,t)};e.UiPrgContainerTerminal.prototype.supportsSyncType=function(t){if(t===e.SyncType.NON_BLOCKING){return true}else{return false}};e.UiPrgContainerWindow=function(){};e.UiPrgContainerWindow.prototype=new e.DfUiPrgContainerGenericWindow;e.UiPrgContainerWindow.prototype._ff_c="UiPrgContainerWindow";e.UiPrgContainerWindow.createExt=function(t,n){let i=new e.UiPrgContainerWindow;i.setupContainer(t,n);return i};e.UiPrgContainerWindow.prototype.m_window=null;e.UiPrgContainerWindow.prototype.getContainerType=function(){return e.ProgramContainerType.WINDOW};e.UiPrgContainerWindow.prototype.isContainerBusy=function(){if(e.notNull(this.m_window)){return this.m_window.isBusy()}return false};e.UiPrgContainerWindow.prototype.openAndRun=function(t){this.setUiManager(t);let n=this.getProgram();return n.initializeProgram().onFinally(()=>{this.m_window=t.newControl(e.UiType.WINDOW);this.m_window.setTitle(this.getTitle());this.m_window.setCustomObject(this);this.m_window.registerOnOpen(this);this.m_window.registerOnClose(this);this.m_window.registerOnButtonPress(this);this.m_window.registerOnMoveEnd(this);this.m_window.registerOnResize(e.UiLambdaResizeListener.create(e=>{this.notifyContainerResized(e.getOffsetWidth(),e.getOffsetHeight())}));this.setContainerNameAndCssClass(this.m_window);this.setContainerWindow(this.m_window);this.m_window.open();let i=e.UiGenesis.create(this.m_window);n.renderUi(i)})};e.UiPrgContainerWindow.prototype.releaseObject=function(){this.m_window=e.XObjectExt.release(this.m_window);e.DfUiPrgContainerGenericWindow.prototype.releaseObject.call(this)};e.UiPrgContainerWindow.prototype.setContainerBusy=function(t){if(e.notNull(this.m_window)){this.m_window.setBusy(t)}};e.UiProgramModule=function(){};e.UiProgramModule.prototype=new e.DfModule;e.UiProgramModule.prototype._ff_c="UiProgramModule";e.UiProgramModule.s_module=null;e.UiProgramModule.getInstance=function(){if(e.isNull(e.UiProgramModule.s_module)){e.DfModule.checkInitialized(e.UiToolsModule.getInstance());e.UiProgramModule.s_module=e.DfModule.startExt(new e.UiProgramModule);e.UiBindingFactory.staticSetupUiBindingFactory();e.SiTokenType.staticSetup();e.QuasarComponentType.staticSetupQuasarType();e.SxJsonDpBindingFactory.staticSetupJsonBindingFactory();e.SxRestDpBindingFactory.staticSetupJsonBindingFactory();e.UiComponentTypeExt.staticSetupUiExtComponentType();e.UiPrgContainerFactory.staticSetupUiContainerFactory();e.CustomControlRegistration.staticSetup();e.DfModule.stopExt(e.UiProgramModule.s_module)}return e.UiProgramModule.s_module};e.UiProgramModule.prototype.getName=function(){return"ff2240.ui.program"};e.UiProgramModule.getInstance();return e});
//# sourceMappingURL=ff2240.ui.program.js.map