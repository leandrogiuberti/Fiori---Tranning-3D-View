/*!
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.define(["sap/sac/df/firefly/ff2710.export.native","sap/sac/df/firefly/ff4000.protocol.ina","sap/sac/df/firefly/ff4220.olap.catalog.api","sap/sac/df/firefly/ff5410.formula.editor.native","sap/sac/df/firefly/ff8005.olap.ui.api","sap/sac/df/firefly/ff2140.dwc"],function(e){"use strict";e.FF8010_OLAP_UI_RESOURCES=function(){};e.FF8010_OLAP_UI_RESOURCES.prototype={};e.FF8010_OLAP_UI_RESOURCES.prototype._ff_c="FF8010_OLAP_UI_RESOURCES";e.FF8010_OLAP_UI_RESOURCES.PATH_manifests_horizon_plugins_DataSourceListPlugin_json="manifests/horizon/plugins/DataSourceListPlugin.json";e.FF8010_OLAP_UI_RESOURCES.PATH_manifests_programs_DataProviderActionList_json="manifests/programs/DataProviderActionList.json";e.FF8010_OLAP_UI_RESOURCES.PATH_manifests_programs_DataProviderLog_json="manifests/programs/DataProviderLog.json";e.FF8010_OLAP_UI_RESOURCES.manifests_horizon_plugins_DataSourceListPlugin_json="ewogICAgIk5hbWUiOiAiRGF0YVNvdXJjZUxpc3RQbHVnaW4iLAogICAgIk1vZHVsZXMiOiBbImZmNDMzMC5vbGFwLmNhdGFsb2cuaW1wbCIsImZmNDQwMC5vbGFwLnByb3ZpZGVycyIsImZmNDQxMC5vbGFwLmlwLnByb3ZpZGVycyIsImZmODAxMC5vbGFwLnVpIl0sCiAgICAiRGlzcGxheU5hbWUiOiAiRGF0YSBTb3VyY2UgTGlzdCIsCiAgICAiRGVzY3JpcHRpb24iOiAiTGlzdHMgYWxsIHRoZSBkYXRhIHNvdXJjZXMgZnJvbSBhIHNwZWNpZmllZCBzeXN0ZW0iLAogICAgIkRlcGVuZGVuY2llcyI6IFtdLAogICAgIkF1dGhvciI6ICJNYXJjaW4gUGFza3VkYSIsCiAgICAiQ29uZmlndXJhdGlvbiI6IHsKICAgICAgICAiUHJvcGVydGllcyI6IHsKICAgICAgICAgICJzeXN0ZW1OYW1lIjogewogICAgICAgICAgICAiVHlwZSI6ICJzdHJpbmciLAogICAgICAgICAgICAiRGlzcGxheU5hbWUiOiAiU3lzdGVtIG5hbWUiLAogICAgICAgICAgICAiRGVzY3JpcHRpb24iOiAiVGhlIG5hbWUgb2YgdGhlIHN5c3RlbSB0byB1c2UuIiwKICAgICAgICAgICAgIlBhdHRlcm4iOiAiXlxcUyokIiwKICAgICAgICAgICAgIkhpZGRlbiI6IHRydWUKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KfQo=";e.FF8010_OLAP_UI_RESOURCES.manifests_programs_DataProviderActionList_json="ewogICJOYW1lIjogIkRhdGFQcm92aWRlckFjdGlvbkxpc3QiLAogICJEaXNwbGF5TmFtZSI6ICJEYXRhIHByb3ZpZGVyIGFjdGlvbiBsaXN0IiwKICAiRGVzY3JpcHRpb24iOiAiTGlzdHMgYW5kIGV4ZWN1dGVzIGFueSBhY3Rpb25zIG9uIHRoZSBkYXRhIHByb3ZpZGVyIiwKICAiUHJvZmlsZXMiOiBbXSwKICAiQXV0aG9yIjogIkFsZXhhbmRlciBCZXJnIiwKICAiQ2F0ZWdvcnkiOiAiT2xhcCIsCiAgIkNvbnRhaW5lciI6ICJXaW5kb3ciLAogICJDbGFzcyI6ICJjb20uc2FwLmZpcmVmbHkucHJvZ3JhbXMuZGF0YXByb3ZpZGVyLmFjdGlvbnMuT3VEYXRhUHJvdmlkZXJBY3Rpb25MaXN0UHJvZ3JhbSIsCiAgIlN1YlN5c3RlbXMiOiBbCiAgICAiR3VpIgogIF0sCiAgIk1vZHVsZXMiOiBbCiAgICAiZmY4MDEwLm9sYXAudWkiCiAgXQp9Cg==";e.FF8010_OLAP_UI_RESOURCES.manifests_programs_DataProviderLog_json="ewogICJOYW1lIjogIkRhdGFQcm92aWRlckxvZyIsCiAgIkRpc3BsYXlOYW1lIjogIkRhdGEgcHJvdmlkZXIgbG9nIiwKICAiRGVzY3JpcHRpb24iOiAiUHJpbnRzIHRoZSBsb2dnZWQgc3RhdGVtZW50cyBvZiB0aGUgZGF0YSBwcm92aWRlciIsCiAgIlByb2ZpbGVzIjogW10sCiAgIkF1dGhvciI6ICJBbGV4YW5kZXIgQmVyZyIsCiAgIkNhdGVnb3J5IjogIk9sYXAiLAogICJDb250YWluZXIiOiAiV2luZG93IiwKICAiQ2xhc3MiOiAiY29tLnNhcC5maXJlZmx5LnByb2dyYW1zLmRhdGFwcm92aWRlci5sb2cuT3VEYXRhUHJvdmlkZXJMb2dQcm9ncmFtIiwKICAiU3ViU3lzdGVtcyI6IFsKICAgICJHdWkiCiAgXSwKICAiTW9kdWxlcyI6IFsKICAgICJmZjgwMTAub2xhcC51aSIKICBdCn0K";e.XResources.registerResourceClass("ff8010.olap.ui",e.FF8010_OLAP_UI_RESOURCES);e.OuCalcActivityTrackingState=function(){};e.OuCalcActivityTrackingState.prototype=new e.XObject;e.OuCalcActivityTrackingState.prototype._ff_c="OuCalcActivityTrackingState";e.OuCalcActivityTrackingState.create=function(){return new e.OuCalcActivityTrackingState};e.OuCalcActivityTrackingState.prototype.m_lastFormulaAddedToEditor=null;e.OuCalcActivityTrackingState.prototype.m_originalFormulaItems=null;e.OuCalcActivityTrackingState.prototype.cloneExt=function(t){let i=new e.OuCalcActivityTrackingState;i.m_lastFormulaAddedToEditor=this.m_lastFormulaAddedToEditor;i.m_originalFormulaItems=this.m_originalFormulaItems.getValuesAsReadOnlyList();return i};e.OuCalcActivityTrackingState.prototype.getLastFormulaAddedToEditor=function(){return this.m_lastFormulaAddedToEditor};e.OuCalcActivityTrackingState.prototype.getOriginalFunctionsUsedInFormula=function(){return this.m_originalFormulaItems};e.OuCalcActivityTrackingState.prototype.setLastFormulaAddedToEditor=function(e){this.m_lastFormulaAddedToEditor=e};e.OuCalcActivityTrackingState.prototype.setOriginalFunctionsUsedInFormula=function(e){this.m_originalFormulaItems=e};e.OuCalcCalculationsValidator=function(){};e.OuCalcCalculationsValidator.prototype=new e.XObject;e.OuCalcCalculationsValidator.prototype._ff_c="OuCalcCalculationsValidator";e.OuCalcCalculationsValidator.create=function(t,i,n,o){e.XObjectExt.assertNotNull(t);let r=new e.OuCalcCalculationsValidator;r.m_parser=e.FeParserInternal.create(e.FeDatasourceMetadataProviderInternalImpl.create(t),i,n,e.FeConfigurationFactory.create(t),o,null);return r};e.OuCalcCalculationsValidator.prototype.m_parser=null;e.OuCalcCalculationsValidator.prototype.validate=function(t){return e.FeValidationMessageManager.createWithMessageCollection(this.m_parser.validate(e.FeFormula.create(t,e.FeFormulaPresentation.create(false))))};e.OuCalcInitialData=function(){};e.OuCalcInitialData.prototype=new e.XObject;e.OuCalcInitialData.prototype._ff_c="OuCalcInitialData";e.OuCalcInitialData.create=function(t,i,n){let o=new e.OuCalcInitialData;o.m_name=e.XStringUtils.assertNotNullOrEmpty(t);o.m_desc=i;o.m_formula=n;return o};e.OuCalcInitialData.createEdit=function(t,i,n){let o=e.OuCalcInitialData.create(t,i,n);o.m_isEdit=true;return o};e.OuCalcInitialData.prototype.m_desc=null;e.OuCalcInitialData.prototype.m_formula=null;e.OuCalcInitialData.prototype.m_isEdit=false;e.OuCalcInitialData.prototype.m_name=null;e.OuCalcInitialData.prototype.getDescription=function(){return this.m_desc};e.OuCalcInitialData.prototype.getFormula=function(){return this.m_formula};e.OuCalcInitialData.prototype.getName=function(){return this.m_name};e.OuCalcInitialData.prototype.isEdit=function(){return this.m_isEdit};e.OuCalcInitialDataBuilder=function(){};e.OuCalcInitialDataBuilder.prototype=new e.XObject;e.OuCalcInitialDataBuilder.prototype._ff_c="OuCalcInitialDataBuilder";e.OuCalcInitialDataBuilder.EMPTY_STRING="";e.OuCalcInitialDataBuilder.create=function(t,i){let n=new e.OuCalcInitialDataBuilder;n.m_datasourceProvider=e.XObjectExt.assertNotNull(t);n.m_calcName=e.OuCalcInitialDataBuilder.EMPTY_STRING;n.m_formulaTextHandler=e.FeFormulaTextHandler.create(e.FeDatasourceMetadataProviderInternalImpl.create(t).getAllUsableMeasures());n.m_formulaPresentation=e.XObjectExt.assertNotNull(i);return n};e.OuCalcInitialDataBuilder.getLocalization=function(){return e.XLocalizationCenter.getCenter().getLocalizationProviderByName(e.OuCalcDetailsAreaViewI18n.PROVIDER_NAME)};e.OuCalcInitialDataBuilder.prototype.m_calcName=null;e.OuCalcInitialDataBuilder.prototype.m_datasourceProvider=null;e.OuCalcInitialDataBuilder.prototype.m_formulaPresentation=null;e.OuCalcInitialDataBuilder.prototype.m_formulaTextHandler=null;e.OuCalcInitialDataBuilder.prototype.build=function(){let t=e.XStream.of(this.m_datasourceProvider.getAllEditableCalculations()).find(t=>e.XString.isEqual(t.getAlias(),this.m_calcName));e.XObjectExt.assertTrue(!t.isPresent()||t.get().getFormulaText().isPresent());if(t.isPresent()){return this.createInitialDataFromExistingCalculation(t)}return this.createInitialDataForNewCalculation()};e.OuCalcInitialDataBuilder.prototype.createInitialDataForNewCalculation=function(){let t=1;let i=this.m_datasourceProvider.getAllMemberIds();let n=e.OuCalcDetailsAreaViewI18n.FE_ID_AREA_INPUT_VALUE;let o=e.OuCalcDetailsAreaViewI18n.FE_DESC_AREA_INPUT_VALUE;let r=e.OuCalcInitialDataBuilder.getLocalization().getTextWithPlaceholder(n,e.XInteger.convertToString(t));while(this.hasExistingMeasureWithName(r,i)){r=e.OuCalcInitialDataBuilder.getLocalization().getTextWithPlaceholder(n,e.XInteger.convertToString(++t))}return e.OuCalcInitialData.create(r,e.OuCalcInitialDataBuilder.getLocalization().getTextWithPlaceholder(o,e.XInteger.convertToString(t)),e.FeFormula.create(e.OuCalcInitialDataBuilder.EMPTY_STRING,this.m_formulaPresentation))};e.OuCalcInitialDataBuilder.prototype.createInitialDataFromExistingCalculation=function(t){let i=t.get().getFormulaText().get();let n=this.m_formulaTextHandler.generateFormulaText(i);let o=e.FeFormula.create(n,this.m_formulaPresentation);return e.OuCalcInitialData.createEdit(t.get().getAlias(),t.get().getDescription(),o)};e.OuCalcInitialDataBuilder.prototype.hasExistingMeasureWithName=function(t,i){for(let n=0;n<i.size();n++){if(e.XString.isEqual(i.get(n),t)){return true}}return false};e.OuCalcInitialDataBuilder.prototype.setCalculationName=function(e){this.m_calcName=e;return this};e.OuCalcPanelConfigBuilder=function(){};e.OuCalcPanelConfigBuilder.prototype=new e.XObject;e.OuCalcPanelConfigBuilder.prototype._ff_c="OuCalcPanelConfigBuilder";e.OuCalcPanelConfigBuilder.prototype.m_anchorTag=null;e.OuCalcPanelConfigBuilder.prototype.m_domId=null;e.OuCalcPanelConfigBuilder.prototype.m_width=null;e.OuCalcPanelConfigBuilder.prototype.setAnchorTag=function(e){this.m_anchorTag=e;return this};e.OuCalcPanelConfigBuilder.prototype.setDomId=function(e){this.m_domId=e;return this};e.OuCalcPanelConfigBuilder.prototype.setWidth=function(e){this.m_width=e;return this};e.OuCalcUIConfigurationBuilder=function(){};e.OuCalcUIConfigurationBuilder.prototype=new e.XObject;e.OuCalcUIConfigurationBuilder.prototype._ff_c="OuCalcUIConfigurationBuilder";e.OuCalcUIConfigurationBuilder.create=function(){return new e.OuCalcUIConfigurationBuilder};e.OuCalcUIConfigurationBuilder.prototype.m_assistancePanelConfig=null;e.OuCalcUIConfigurationBuilder.prototype.m_codeEditorConfig=null;e.OuCalcUIConfigurationBuilder.prototype.m_detailsPanelConfig=null;e.OuCalcUIConfigurationBuilder.prototype.m_formulaElementsPanelConfig=null;e.OuCalcUIConfigurationBuilder.prototype.m_singlePluginConfig=null;e.OuCalcUIConfigurationBuilder.prototype.addAssistancePanelConfig=function(e){this.m_assistancePanelConfig=e;return this};e.OuCalcUIConfigurationBuilder.prototype.addCodeEditorPanelConfig=function(e){this.m_codeEditorConfig=e;return this};e.OuCalcUIConfigurationBuilder.prototype.addDetailsPanelConfig=function(e){this.m_detailsPanelConfig=e;return this};e.OuCalcUIConfigurationBuilder.prototype.addFormulaElementListPanelConfig=function(e){this.m_formulaElementsPanelConfig=e;return this};e.OuCalcUIConfigurationBuilder.prototype.addSinglePanelConfig=function(e){this.m_singlePluginConfig=e;return this};e.OuCalcUIConfigurationBuilder.prototype.build=function(){if(e.notNull(this.m_singlePluginConfig)){return e.OuCalcUiConfiguration.createSinglePluginConfig(this.m_singlePluginConfig)}return e.OuCalcUiConfiguration.create(e.notNull(this.m_codeEditorConfig)?this.m_codeEditorConfig.getRenderConfig():null,e.notNull(this.m_detailsPanelConfig)?this.m_detailsPanelConfig.getRenderConfig():null,e.notNull(this.m_assistancePanelConfig)?this.m_assistancePanelConfig.getRenderConfig():null,e.notNull(this.m_formulaElementsPanelConfig)?this.m_formulaElementsPanelConfig.getRenderConfig():null)};e.OuAbstractCalcEventManager=function(){};e.OuAbstractCalcEventManager.prototype=new e.XObject;e.OuAbstractCalcEventManager.prototype._ff_c="OuAbstractCalcEventManager";e.OuAbstractCalcEventManager.prototype.m_notificationCenter=null;e.OuAbstractCalcEventManager.prototype.releaseObject=function(){this.m_notificationCenter=null;e.XObject.prototype.releaseObject.call(this)};e.OuAbstractCalcEventManager.prototype.setupInternal=function(e){this.m_notificationCenter=e};e.OuCalcFormulaFormatter=function(){};e.OuCalcFormulaFormatter.prototype=new e.XObject;e.OuCalcFormulaFormatter.prototype._ff_c="OuCalcFormulaFormatter";e.OuCalcFormulaFormatter.create=function(){let t=new e.OuCalcFormulaFormatter;t.m_formulaPreProcessors=e.XHashMapByString.create();t.m_formulaPreProcessors.put(e.OuCalcFormulaFormatterConstants.REMOVE_CONTROL_CHARACTERS_PREPROCESSOR,e.OuCalcRemoveExistingControlCharactersPreProcessor.create());t.m_formulaPreProcessors.put(e.OuCalcFormulaFormatterConstants.SYMBOLIC_FIELDS_PREPROCESSOR,e.OuCalcSymbolicFieldsFormulaPreProcessor.create());t.m_formulaPreProcessors.put(e.OuCalcFormulaFormatterConstants.REMOVE_BLANKS_PREPROCESSOR,e.OuCalcRemoveBlanksFormulaPreProcessor.create());t.m_formulaTokenProcessors=e.XHashMapByString.create();t.m_formulaTokenProcessors.put(e.OuCalcFormulaFormatterConstants.SINGLE_WHITE_SPACE,e.OuCalcWhiteSpaceTokenProcessor.create());t.m_formulaTokenProcessors.put(e.OuCalcFormulaFormatterConstants.DOUBLE_QUOTE,e.OuCalcDoubleQuoteTokenProcessor.create());t.m_formulaTokenProcessors.put(e.OuCalcFormulaFormatterConstants.OPEN_SQAURE_BRACKETS,e.OuCalcOpenSquareBracketTokenProcessor.create());t.m_formulaTokenProcessors.put(e.OuCalcFormulaFormatterConstants.CLOSE_SQAURE_BRACKETS,e.OuCalcCloseSquareBracketTokenProcessor.create());t.m_formulaTokenProcessors.put(e.OuCalcFormulaFormatterConstants.SPECIAL_CHARACTER,e.OuCalcSpecialCharactersTokenProcessor.create());t.m_formulaTokenProcessors.put(e.OuCalcFormulaFormatterConstants.OPEN_PARENTHESIS,e.OuCalcOpenParenthesisTokenProcessor.create());t.m_formulaTokenProcessors.put(e.OuCalcFormulaFormatterConstants.CLOSE_PARENTHESIS,e.OuCalcCloseParenthesisTokenProcessor.create());t.m_formulaTokenProcessors.put(e.OuCalcFormulaFormatterConstants.COMMA,e.OuCalcCommaTokenProcessor.create());t.m_formulaPostProcessors=e.XHashMapByString.create();t.m_formulaPostProcessors.put(e.OuCalcFormulaFormatterConstants.RESET_TEMP_FORMATTING_STATE_POSTPROCESSOR,e.OuCalcResetTempFormattingStatePostProcessor.create());t.m_formulaPostProcessors.put(e.OuCalcFormulaFormatterConstants.RESTORE_SYMBOLIC_FIELDS_POSTPROCESSOR,e.OuCalcRestoreSymbolicFieldsFormulaPostProcessor.create());return t};e.OuCalcFormulaFormatter.prototype.m_formulaPostProcessors=null;e.OuCalcFormulaFormatter.prototype.m_formulaPreProcessors=null;e.OuCalcFormulaFormatter.prototype.m_formulaTokenProcessors=null;e.OuCalcFormulaFormatter.prototype.closeSquareBracketsDoesNotExists=function(t){return e.XString.indexOf(t,e.OuCalcFormulaFormatterConstants.CLOSE_SQAURE_BRACKETS)===-1};e.OuCalcFormulaFormatter.prototype.formatFormula=function(t){let i=t;if(e.notNull(t)&&e.XString.size(t)>0){let n=e.OuCalcFormulaFormattingState.create();n.setFormulaCopy(t);this.preProcessFormula(n);n=this.processFormulaTokens(n);this.postProcessFormula(n);n.setCountIf(0);i=n.getFormattedString()}return i};e.OuCalcFormulaFormatter.prototype.membersWithSpecialCharacters=function(t){return e.XString.size(t)!==0&&this.openSquareBracketsExists(t)&&this.closeSquareBracketsDoesNotExists(t)};e.OuCalcFormulaFormatter.prototype.openSquareBracketsExists=function(t){return e.XString.indexOf(t,e.OuCalcFormulaFormatterConstants.OPEN_SQAURE_BRACKETS)!==-1};e.OuCalcFormulaFormatter.prototype.postProcessFormula=function(t){this.m_formulaPostProcessors.getByKey(e.OuCalcFormulaFormatterConstants.RESET_TEMP_FORMATTING_STATE_POSTPROCESSOR).postProcess(t);this.m_formulaPostProcessors.getByKey(e.OuCalcFormulaFormatterConstants.RESTORE_SYMBOLIC_FIELDS_POSTPROCESSOR).postProcess(t)};e.OuCalcFormulaFormatter.prototype.preProcessFormula=function(t){this.m_formulaPreProcessors.getByKey(e.OuCalcFormulaFormatterConstants.REMOVE_CONTROL_CHARACTERS_PREPROCESSOR).preProcess(t);this.m_formulaPreProcessors.getByKey(e.OuCalcFormulaFormatterConstants.SYMBOLIC_FIELDS_PREPROCESSOR).preProcess(t);this.m_formulaPreProcessors.getByKey(e.OuCalcFormulaFormatterConstants.REMOVE_BLANKS_PREPROCESSOR).preProcess(t)};e.OuCalcFormulaFormatter.prototype.processFormulaTokens=function(t){let i=t;for(let t=0;t<e.XString.size(i.getFormulaCopy());t++){let n=e.XStringBuffer.create();let o=n.appendChar(e.XString.getCharAt(i.getFormulaCopy(),t)).toString();i.setCurrentFormulaToken(o);i.setCurrentCount(t);let r=this.m_formulaTokenProcessors.getByKey(o);if(e.isNull(r)){if(this.membersWithSpecialCharacters(i.getTempFormattingState())){r=this.m_formulaTokenProcessors.getByKey(e.OuCalcFormulaFormatterConstants.SPECIAL_CHARACTER)}}if(e.notNull(r)){i=r.handleToken(i);if(i.isM_exitCurrentIteration()){i.setExitCurrentIteration(false);continue}if(i.getCurrentCount()>t){t=i.getCurrentCount()}}else{let t=e.XStringUtils.concatenate2(i.getFormattedString(),o);i.setFormattedString(t)}}return i};e.OuCalcFormulaFormatterConstants={CLOSE_PARENTHESIS:")",CLOSE_SQAURE_BRACKETS:"]",COLON:":",COMMA:",",DETAILS:"Details",DOUBLE_QUOTE:'"',ENTER:"\n",EQUAL:"=",FUNCTION_ARG_PATTERN_NAME:"functionArg",NEWLINE_OR_TAB_REGEX:"[\r\n\t]",OPEN_PARENTHESIS:"(",OPEN_SQAURE_BRACKETS:"[",REGEX_AND_OR_OR:"\\b(and|or)\\b",REGEX_BLANK_SPACE:"\\s+",REGEX_END_WITH_IF:".*if$",REGEX_FORMULA_VALIDATION_DETAILS_FORMULA:"^(Details\\s*\\(([\\s\\S]*)\\))$",REGEX_PROCEEDING_MEMBER_AND_PROPERTY:"\\[(?:[^,;'=\\[\\]]+)\\](\\.\\[(?:[^,;'=\\[\\]]+)\\])?",REGEX_QUOTED_WORDS:"('(\\'|[^'])*')|(\"(\\\"|[^\\\"])*\")",REGEX_SPLIT_COMMA_WITH_SPACE:"\\s*,\\s*",REGEX_SPLIT_EQUAL_WITH_SPACE:"\\s*=\\s*",REGEX_WHITE_SPACE:"^\\s$",REMOVE_BLANKS_PREPROCESSOR:"RemoveBlanksPreProcessor",REMOVE_CONTROL_CHARACTERS_PREPROCESSOR:"RemoveControlCharactersPreProcessor",RESET_TEMP_FORMATTING_STATE_POSTPROCESSOR:"ResetTempFormattingState",RESTORE_SYMBOLIC_FIELDS_POSTPROCESSOR:"RestoreSymbolicFieldsFormulaPostProcessor",SINGLE_WHITE_SPACE:" ",SPACE:"",SPECIAL_CHARACTER:"SpecialCharacter",SYMBOLIC_FIELDS_PREPROCESSOR:"SymbolicFieldsPreProcessor",TAB:"\t",UNDERSCORE:"_"};e.OuCalcResetTempFormattingStatePostProcessor=function(){};e.OuCalcResetTempFormattingStatePostProcessor.prototype=new e.XObject;e.OuCalcResetTempFormattingStatePostProcessor.prototype._ff_c="OuCalcResetTempFormattingStatePostProcessor";e.OuCalcResetTempFormattingStatePostProcessor.create=function(){return new e.OuCalcResetTempFormattingStatePostProcessor};e.OuCalcResetTempFormattingStatePostProcessor.prototype.addSpace=function(t){let i;i=e.XStringUtils.concatenate2(t,e.OuCalcFormulaFormatterConstants.SPACE);return i};e.OuCalcResetTempFormattingStatePostProcessor.prototype.postProcess=function(t){if(e.XString.size(t.getTempFormattingState())>0){t.setFormattedString(this.addSpace(t.getTempFormattingState()));t.setTempFormattingState(e.OuCalcFormulaFormatterConstants.SPACE)}return t};e.OuCalcRestoreSymbolicFieldsFormulaPostProcessor=function(){};e.OuCalcRestoreSymbolicFieldsFormulaPostProcessor.prototype=new e.XObject;e.OuCalcRestoreSymbolicFieldsFormulaPostProcessor.prototype._ff_c="OuCalcRestoreSymbolicFieldsFormulaPostProcessor";e.OuCalcRestoreSymbolicFieldsFormulaPostProcessor.create=function(){return new e.OuCalcRestoreSymbolicFieldsFormulaPostProcessor};e.OuCalcRestoreSymbolicFieldsFormulaPostProcessor.prototype.postProcess=function(e){let t=this.restoreSymbolicFields(e.getSymbolicFields(),e.getFormattedString());e.setFormattedString(t);return e};e.OuCalcRestoreSymbolicFieldsFormulaPostProcessor.prototype.restoreSymbolicFields=function(t,i){let n=i;let o=t.getIterator();while(o.hasNext()){let t=o.next();let i=e.XMath.max(0,e.XString.size(t)-2);let r=e.XStringBuffer.create();for(let t=0;t<i;t++){r.append(e.OuCalcFormulaFormatterConstants.UNDERSCORE)}let a=e.XStringUtils.concatenate3(e.OuCalcFormulaFormatterConstants.OPEN_SQAURE_BRACKETS,r.toString(),e.OuCalcFormulaFormatterConstants.CLOSE_SQAURE_BRACKETS);let s=e.XString.indexOf(n,a);if(s!==-1){let i=e.XString.substring(n,0,s);let o=e.XString.substring(n,s+e.XString.size(a),-1);n=e.XStringUtils.concatenate3(i,t,o)}}return n};e.OuCalcRemoveBlanksFormulaPreProcessor=function(){};e.OuCalcRemoveBlanksFormulaPreProcessor.prototype=new e.XObject;e.OuCalcRemoveBlanksFormulaPreProcessor.prototype._ff_c="OuCalcRemoveBlanksFormulaPreProcessor";e.OuCalcRemoveBlanksFormulaPreProcessor.create=function(){return new e.OuCalcRemoveBlanksFormulaPreProcessor};e.OuCalcRemoveBlanksFormulaPreProcessor.prototype.findSquareBrackets=function(t){let i=e.XList.create();let n=e.XList.create();for(let o=0;o<e.XString.size(t);o++){let r=e.XStringBuffer.create();let a=r.appendChar(e.XString.getCharAt(t,o)).toString();if(this.isOpenSquareBracket(a)){n.add(e.OuCalcSquareBracketStackItem.create(o))}else if(this.isCloseSquareBracket(a)&&!n.isEmpty()){let r=n.removeAt(n.size()-1);let a=e.XString.substring(t,r.getPos(),o+1);let s=e.XString.containsString(a,e.OuCalcFormulaFormatterConstants.COLON);let l=e.OuCalcSquareBracket.create(r.getPos(),o+1,e.XString.substring(t,r.getPos(),o+1),s);i.add(l)}}return i};e.OuCalcRemoveBlanksFormulaPreProcessor.prototype.formatContent=function(t){let i=t;if(e.XString.containsString(i,e.OuCalcFormulaFormatterConstants.EQUAL)){i=this.removeMemberBrackets(i);let t=e.XStringTokenizer.splitString(i,e.OuCalcFormulaFormatterConstants.REGEX_SPLIT_EQUAL_WITH_SPACE);let n=e.XString.trim(t.get(0));n=e.XRegex.getInstance().replaceAll(n,e.OuCalcFormulaFormatterConstants.REGEX_BLANK_SPACE,e.OuCalcFormulaFormatterConstants.SPACE,false,false);let o=e.XString.trim(t.get(1));let r=e.XStringTokenizer.splitString(o,e.OuCalcFormulaFormatterConstants.REGEX_SPLIT_COMMA_WITH_SPACE);let a=this.join(",",r);return e.XStringUtils.concatenate5(e.OuCalcFormulaFormatterConstants.OPEN_SQAURE_BRACKETS,n,e.OuCalcFormulaFormatterConstants.EQUAL,a,e.OuCalcFormulaFormatterConstants.CLOSE_SQAURE_BRACKETS)}else{return e.XRegex.getInstance().replaceAll(i,e.OuCalcFormulaFormatterConstants.REGEX_BLANK_SPACE,"",false,false)}};e.OuCalcRemoveBlanksFormulaPreProcessor.prototype.isCloseSquareBracket=function(t){return e.XString.isEqual(t,e.OuCalcFormulaFormatterConstants.CLOSE_SQAURE_BRACKETS)};e.OuCalcRemoveBlanksFormulaPreProcessor.prototype.isOpenSquareBracket=function(t){return e.XString.isEqual(t,e.OuCalcFormulaFormatterConstants.OPEN_SQAURE_BRACKETS)};e.OuCalcRemoveBlanksFormulaPreProcessor.prototype.join=function(t,i){if(e.isNull(i)||i.size()===0){return""}let n=e.XStringBuffer.create();n.append(i.get(0));for(let e=1;e<i.size();e++){n.append(t).append(i.get(e))}return n.toString()};e.OuCalcRemoveBlanksFormulaPreProcessor.prototype.preProcess=function(e){e.setFormulaCopy(this.removeBlanks(e.getFormulaCopy()));return e};e.OuCalcRemoveBlanksFormulaPreProcessor.prototype.removeBlanks=function(t){let i=this.findSquareBrackets(t);let n=e.XStringBuffer.create();let o;let r;if(i.size()===0){n.append(this.removeNonQuotedBlank(t))}else{for(let a=0;a<i.size();a++){r=i.get(a);if(a===0){n.append(this.removeNonQuotedBlank(e.XString.substring(t,0,r.getStart())));if(r.isPOV()){n.append(this.formatContent(r.getContent()))}else{n.append(r.getContent())}}else if(a!==i.size()-1){o=i.get(a-1);n.append(this.removeNonQuotedBlank(e.XString.substring(t,o.getEnd(),r.getStart())));if(r.isPOV()){n.append(this.formatContent(r.getContent()))}else{n.append(r.getContent())}}else{o=i.get(a-1);n.append(this.removeNonQuotedBlank(e.XString.substring(t,o.getEnd(),r.getStart())));if(r.isPOV()){n.append(this.formatContent(r.getContent()))}else{n.append(r.getContent())}n.append(this.removeNonQuotedBlank(e.XString.substring(t,r.getEnd(),e.XString.size(t))))}}}if(i.size()===1){n.append(this.removeNonQuotedBlank(e.XString.substring(t,i.get(0).getEnd(),e.XString.size(t))))}return n.toString()};e.OuCalcRemoveBlanksFormulaPreProcessor.prototype.removeBlanksExKeywords=function(t){let i=e.XStringTokenizer.splitString(t,e.OuCalcFormulaFormatterConstants.REGEX_BLANK_SPACE);let n=e.XStringBuffer.create();for(let t=0;t<i.size();t++){let o=i.get(t);o=e.XRegex.getInstance().replaceAll(o,e.OuCalcFormulaFormatterConstants.REGEX_AND_OR_OR,null,true,true);n.append(o);if(t<i.size()-1){n.append(" ")}}return n.toString()};e.OuCalcRemoveBlanksFormulaPreProcessor.prototype.removeMemberBrackets=function(t){let i=t;if(e.XString.containsString(i,e.OuCalcFormulaFormatterConstants.OPEN_SQAURE_BRACKETS)&&e.XString.containsString(i,e.OuCalcFormulaFormatterConstants.CLOSE_SQAURE_BRACKETS)){i=e.XString.trim(i);if(e.XString.startsWith(i,e.OuCalcFormulaFormatterConstants.OPEN_SQAURE_BRACKETS)){i=e.XString.substring(i,1,-1)}if(e.XString.endsWith(i,e.OuCalcFormulaFormatterConstants.CLOSE_SQAURE_BRACKETS)){i=e.XString.substring(i,0,e.XString.size(i)-1)}}return i};e.OuCalcRemoveBlanksFormulaPreProcessor.prototype.removeNonQuotedBlank=function(t){let i=t;let n=e.XRegex.getInstance().getAllGroupsOfMatch(i,e.OuCalcFormulaFormatterConstants.REGEX_QUOTED_WORDS,true);if(e.notNull(n)&&n.size()>0){let o=n.getIterator();while(o.hasNext()){let t=o.next();let n=this.repeat(e.OuCalcFormulaFormatterConstants.UNDERSCORE,e.XString.size(t));i=e.XString.replace(i,t,n);i=this.removeBlanksExKeywords(i)}let r=n.getIterator();while(r.hasNext()){let t=r.next();let n=this.repeat(e.OuCalcFormulaFormatterConstants.UNDERSCORE,e.XString.size(t));i=e.XString.replace(i,n,t)}return t}else{return this.removeBlanksExKeywords(i)}};e.OuCalcRemoveBlanksFormulaPreProcessor.prototype.repeat=function(t,i){let n=e.XStringBuffer.create();for(let e=0;e<i;e++){n.append(t)}return n.toString()};e.OuCalcRemoveExistingControlCharactersPreProcessor=function(){};e.OuCalcRemoveExistingControlCharactersPreProcessor.prototype=new e.XObject;e.OuCalcRemoveExistingControlCharactersPreProcessor.prototype._ff_c="OuCalcRemoveExistingControlCharactersPreProcessor";e.OuCalcRemoveExistingControlCharactersPreProcessor.create=function(){return new e.OuCalcRemoveExistingControlCharactersPreProcessor};e.OuCalcRemoveExistingControlCharactersPreProcessor.prototype.preProcess=function(t){let i=e.XRegex.getInstance().replaceAll(t.getFormulaCopy(),e.OuCalcFormulaFormatterConstants.NEWLINE_OR_TAB_REGEX,e.OuCalcFormulaFormatterConstants.SPACE,false,false);t.setFormulaCopy(i);return t};e.OuCalcSymbolicFieldsFormulaPreProcessor=function(){};e.OuCalcSymbolicFieldsFormulaPreProcessor.prototype=new e.XObject;e.OuCalcSymbolicFieldsFormulaPreProcessor.prototype._ff_c="OuCalcSymbolicFieldsFormulaPreProcessor";e.OuCalcSymbolicFieldsFormulaPreProcessor.create=function(){return new e.OuCalcSymbolicFieldsFormulaPreProcessor};e.OuCalcSymbolicFieldsFormulaPreProcessor.prototype.escapeSymbolicFields=function(t){return e.XRegex.getInstance().replaceMatches(t,e.OuCalcFormulaFormatterConstants.REGEX_PROCEEDING_MEMBER_AND_PROPERTY,e.OuCalcFormulaFormatterConstants.OPEN_SQAURE_BRACKETS,e.OuCalcFormulaFormatterConstants.CLOSE_SQAURE_BRACKETS,e.OuCalcFormulaFormatterConstants.UNDERSCORE,2,false)};e.OuCalcSymbolicFieldsFormulaPreProcessor.prototype.getSymbolicFields=function(t){let i=e.XRegex.getInstance().getAllGroupsOfMatch(t,e.OuCalcFormulaFormatterConstants.REGEX_PROCEEDING_MEMBER_AND_PROPERTY,true);return i};e.OuCalcSymbolicFieldsFormulaPreProcessor.prototype.preProcess=function(e){let t=this.getSymbolicFields(e.getFormulaCopy());e.setSymbolicFields(t);let i=this.escapeSymbolicFields(e.getFormulaCopy());e.setFormulaCopy(i);return e};e.OuCalcBaseTokenProcessor=function(){};e.OuCalcBaseTokenProcessor.prototype=new e.XObject;e.OuCalcBaseTokenProcessor.prototype._ff_c="OuCalcBaseTokenProcessor";e.OuCalcBaseTokenProcessor.prototype.isComma=function(t){return e.XString.isEqual(t,e.OuCalcFormulaFormatterConstants.COMMA)};e.OuCalcBaseTokenProcessor.prototype.isOpenParenthesis=function(t){return e.XString.isEqual(t,e.OuCalcFormulaFormatterConstants.OPEN_PARENTHESIS)};e.OuCalcFormulaFormattingState=function(){};e.OuCalcFormulaFormattingState.prototype=new e.XObject;e.OuCalcFormulaFormattingState.prototype._ff_c="OuCalcFormulaFormattingState";e.OuCalcFormulaFormattingState.create=function(){let t=new e.OuCalcFormulaFormattingState;t.setOperators(e.XList.create());return t};e.OuCalcFormulaFormattingState.prototype.m_countIf=0;e.OuCalcFormulaFormattingState.prototype.m_currentCount=0;e.OuCalcFormulaFormattingState.prototype.m_currentFormulaToken=null;e.OuCalcFormulaFormattingState.prototype.m_exitCurrentIteration=false;e.OuCalcFormulaFormattingState.prototype.m_formattedString=null;e.OuCalcFormulaFormattingState.prototype.m_formulaCopy=null;e.OuCalcFormulaFormattingState.prototype.m_operators=null;e.OuCalcFormulaFormattingState.prototype.m_symbolicFields=null;e.OuCalcFormulaFormattingState.prototype.m_tempFormattingState="";e.OuCalcFormulaFormattingState.prototype.getCountIf=function(){return this.m_countIf};e.OuCalcFormulaFormattingState.prototype.getCurrentCount=function(){return this.m_currentCount};e.OuCalcFormulaFormattingState.prototype.getCurrentFormulaToken=function(){return this.m_currentFormulaToken};e.OuCalcFormulaFormattingState.prototype.getFormattedString=function(){return this.m_formattedString};e.OuCalcFormulaFormattingState.prototype.getFormulaCopy=function(){return this.m_formulaCopy};e.OuCalcFormulaFormattingState.prototype.getOperators=function(){return this.m_operators};e.OuCalcFormulaFormattingState.prototype.getSymbolicFields=function(){return this.m_symbolicFields};e.OuCalcFormulaFormattingState.prototype.getTempFormattingState=function(){return this.m_tempFormattingState};e.OuCalcFormulaFormattingState.prototype.isM_exitCurrentIteration=function(){return this.m_exitCurrentIteration};e.OuCalcFormulaFormattingState.prototype.setCountIf=function(e){this.m_countIf=e};e.OuCalcFormulaFormattingState.prototype.setCurrentCount=function(e){this.m_currentCount=e};e.OuCalcFormulaFormattingState.prototype.setCurrentFormulaToken=function(e){this.m_currentFormulaToken=e};e.OuCalcFormulaFormattingState.prototype.setExitCurrentIteration=function(e){this.m_exitCurrentIteration=e};e.OuCalcFormulaFormattingState.prototype.setFormattedString=function(e){this.m_formattedString=e};e.OuCalcFormulaFormattingState.prototype.setFormulaCopy=function(e){this.m_formulaCopy=e};e.OuCalcFormulaFormattingState.prototype.setOperators=function(e){this.m_operators=e};e.OuCalcFormulaFormattingState.prototype.setSymbolicFields=function(e){this.m_symbolicFields=e};e.OuCalcFormulaFormattingState.prototype.setTempFormattingState=function(e){this.m_tempFormattingState=e};e.OuCalcSquareBracket=function(){};e.OuCalcSquareBracket.prototype=new e.XObject;e.OuCalcSquareBracket.prototype._ff_c="OuCalcSquareBracket";e.OuCalcSquareBracket.create=function(t,i,n,o){let r=new e.OuCalcSquareBracket;r.m_start=t;r.m_end=i;r.m_content=n;r.m_isPov=o;return r};e.OuCalcSquareBracket.prototype.m_content=null;e.OuCalcSquareBracket.prototype.m_end=0;e.OuCalcSquareBracket.prototype.m_isPov=false;e.OuCalcSquareBracket.prototype.m_start=0;e.OuCalcSquareBracket.prototype.getContent=function(){return this.m_content};e.OuCalcSquareBracket.prototype.getEnd=function(){return this.m_end};e.OuCalcSquareBracket.prototype.getStart=function(){return this.m_start};e.OuCalcSquareBracket.prototype.isPOV=function(){return this.m_isPov};e.OuCalcSquareBracketStackItem=function(){};e.OuCalcSquareBracketStackItem.prototype=new e.XObject;e.OuCalcSquareBracketStackItem.prototype._ff_c="OuCalcSquareBracketStackItem";e.OuCalcSquareBracketStackItem.create=function(t){let i=new e.OuCalcSquareBracketStackItem;i.pos=t;return i};e.OuCalcSquareBracketStackItem.prototype.pos=0;e.OuCalcSquareBracketStackItem.prototype.getPos=function(){return this.pos};e.OuCalcCustomModeRulesFactory=function(){};e.OuCalcCustomModeRulesFactory.prototype=new e.XObject;e.OuCalcCustomModeRulesFactory.prototype._ff_c="OuCalcCustomModeRulesFactory";e.OuCalcCustomModeRulesFactory.ROOT_NODE="start";e.OuCalcCustomModeRulesFactory.create=function(t){let i=new e.OuCalcCustomModeRulesFactory;i.m_enableModelPrefix=t;return i};e.OuCalcCustomModeRulesFactory.prototype.m_enableModelPrefix=false;e.OuCalcCustomModeRulesFactory.prototype.buildRules=function(t,i){let n=e.PrFactory.createStructure();let o=n.putNewList(e.OuCalcCustomModeRulesFactory.ROOT_NODE);this.createCommonRules(t,o);if(i.dimensionsSupported()){this.createDimensionRules(o)}return n};e.OuCalcCustomModeRulesFactory.prototype.createCommonRules=function(t,i){e.OuCalcComparisonConditionHighlightRule.create().build(i,t);e.OuCalcFunctionHighlightRule.create().build(i,t);e.OuCalcLogicalConditionHighlightRule.create().build(i,t);e.OuCalcOperatorHighlightRule.create().build(i,t);e.OuCalcCommaHighlightRule.create().build(i);e.OuCalcMeasureHighlightRule.create(this.m_enableModelPrefix).build(i);e.OuCalcParenthesisHighlightRule.create().build(i);e.OuCalcSemicolonHighlightRule.create().build(i);e.OuCalcStringHighlightRule.create().build(i);e.OuCalcLiteralHighlightRule.create().build(i);e.OuCalcPercentageHighlightRule.create().build(i,t);e.OuCalcDimensionHighlightRule.create().build(i)};e.OuCalcCustomModeRulesFactory.prototype.createDimensionRules=function(t){e.OuCalcDimensionHierarchyHighlightRule.create().build(t);e.OuCalcDimensionPropertyHighlightRule.create().build(t)};e.OuCalcCommaHighlightRule=function(){};e.OuCalcCommaHighlightRule.prototype=new e.XObject;e.OuCalcCommaHighlightRule.prototype._ff_c="OuCalcCommaHighlightRule";e.OuCalcCommaHighlightRule.FE_COMMA_CSS_NAME="feComma";e.OuCalcCommaHighlightRule.FE_COMMA_REGEX=",";e.OuCalcCommaHighlightRule.create=function(){return new e.OuCalcCommaHighlightRule};e.OuCalcCommaHighlightRule.prototype.build=function(t){let i=e.PrFactory.createStructure();i.putString(e.OuCalcHighlightRulesConstant.TOKEN,e.OuCalcCommaHighlightRule.FE_COMMA_CSS_NAME);i.putString(e.OuCalcHighlightRulesConstant.REGEX,e.OuCalcCommaHighlightRule.FE_COMMA_REGEX);t.add(i)};e.OuCalcComparisonConditionHighlightRule=function(){};e.OuCalcComparisonConditionHighlightRule.prototype=new e.XObject;e.OuCalcComparisonConditionHighlightRule.prototype._ff_c="OuCalcComparisonConditionHighlightRule";e.OuCalcComparisonConditionHighlightRule.FE_COMPARISON_CSS_NAME="feComparisonConditions";e.OuCalcComparisonConditionHighlightRule.FE_LOGICAL_CONDITIONS_REGEX="\\b(?:AND|OR|NOT|XOR)\\b";e.OuCalcComparisonConditionHighlightRule.create=function(){return new e.OuCalcComparisonConditionHighlightRule};e.OuCalcComparisonConditionHighlightRule.prototype.build=function(t,i){let n="";let o=i.getConditions();let r=o.getIterator();if(r.hasNext()){while(r.hasNext()){let t=r.next();let i=e.XRegex.getInstance().getAllGroupsOfMatch(t.getDisplayName(),e.OuCalcComparisonConditionHighlightRule.FE_LOGICAL_CONDITIONS_REGEX,true);if(i.isEmpty()){n=e.XStringUtils.concatenate3(n,t.getDisplayName(),e.OuCalcHighlightRulesConstant.REGEX_OR)}}n=e.XString.substring(n,0,e.XString.size(n)-1);let i=e.PrFactory.createStructure();i.putString(e.OuCalcHighlightRulesConstant.TOKEN,e.OuCalcComparisonConditionHighlightRule.FE_COMPARISON_CSS_NAME);i.putString(e.OuCalcHighlightRulesConstant.REGEX,n);t.add(i)}};e.OuCalcDimensionHierarchyHighlightRule=function(){};e.OuCalcDimensionHierarchyHighlightRule.prototype=new e.XObject;e.OuCalcDimensionHierarchyHighlightRule.prototype._ff_c="OuCalcDimensionHierarchyHighlightRule";e.OuCalcDimensionHierarchyHighlightRule.FE_DIMENSION_HIERARCHY_CSS_NAME="feDimensionHierarchy";e.OuCalcDimensionHierarchyHighlightRule.FE_DIMENSION_HIERARCHY_REGEX="\\[h\\s*\\/\\s*([^\\]]*)\\]";e.OuCalcDimensionHierarchyHighlightRule.create=function(){return new e.OuCalcDimensionHierarchyHighlightRule};e.OuCalcDimensionHierarchyHighlightRule.prototype.build=function(t){let i=e.PrFactory.createStructure();i.putString(e.OuCalcHighlightRulesConstant.TOKEN,e.OuCalcDimensionHierarchyHighlightRule.FE_DIMENSION_HIERARCHY_CSS_NAME);i.putString(e.OuCalcHighlightRulesConstant.REGEX,e.OuCalcDimensionHierarchyHighlightRule.FE_DIMENSION_HIERARCHY_REGEX);t.add(i)};e.OuCalcDimensionHighlightRule=function(){};e.OuCalcDimensionHighlightRule.prototype=new e.XObject;e.OuCalcDimensionHighlightRule.prototype._ff_c="OuCalcDimensionHighlightRule";e.OuCalcDimensionHighlightRule.FE_DIMENSION_CSS_NAME="feDimensions";e.OuCalcDimensionHighlightRule.FE_DIMENSION_REGEX="\\[d\\/([^\\]]*)\\]";e.OuCalcDimensionHighlightRule.create=function(){return new e.OuCalcDimensionHighlightRule};e.OuCalcDimensionHighlightRule.prototype.build=function(t){let i=e.PrFactory.createStructure();i.putString(e.OuCalcHighlightRulesConstant.TOKEN,e.OuCalcDimensionHighlightRule.FE_DIMENSION_CSS_NAME);i.putString(e.OuCalcHighlightRulesConstant.REGEX,e.OuCalcDimensionHighlightRule.FE_DIMENSION_REGEX);t.add(i)};e.OuCalcDimensionPropertyHighlightRule=function(){};e.OuCalcDimensionPropertyHighlightRule.prototype=new e.XObject;e.OuCalcDimensionPropertyHighlightRule.prototype._ff_c="OuCalcDimensionPropertyHighlightRule";e.OuCalcDimensionPropertyHighlightRule.FE_DIMENSION_PROPERTY_CSS_NAME="feDimensionProperty";e.OuCalcDimensionPropertyHighlightRule.FE_DIMENSION_PROPERTY_REGEX="\\[p\\s*\\/\\s*([^\\]]*)\\]";e.OuCalcDimensionPropertyHighlightRule.create=function(){return new e.OuCalcDimensionPropertyHighlightRule};e.OuCalcDimensionPropertyHighlightRule.prototype.build=function(t){let i=e.PrFactory.createStructure();i.putString(e.OuCalcHighlightRulesConstant.TOKEN,e.OuCalcDimensionPropertyHighlightRule.FE_DIMENSION_PROPERTY_CSS_NAME);i.putString(e.OuCalcHighlightRulesConstant.REGEX,e.OuCalcDimensionPropertyHighlightRule.FE_DIMENSION_PROPERTY_REGEX);t.add(i)};e.OuCalcFunctionHighlightRule=function(){};e.OuCalcFunctionHighlightRule.prototype=new e.XObject;e.OuCalcFunctionHighlightRule.prototype._ff_c="OuCalcFunctionHighlightRule";e.OuCalcFunctionHighlightRule.FE_FUNCTION_CSS_NAME="feFunctions";e.OuCalcFunctionHighlightRule.create=function(){return new e.OuCalcFunctionHighlightRule};e.OuCalcFunctionHighlightRule.prototype.build=function(t,i){let n="";let o=i.getFunctions();let r=o.getIterator();if(r.hasNext()){while(r.hasNext()){let t=r.next();n=e.XStringUtils.concatenate3(n,t.getDisplayName(),e.OuCalcHighlightRulesConstant.REGEX_OR)}n=e.XString.substring(n,0,e.XString.size(n)-1);n=e.XStringUtils.concatenate3(e.OuCalcHighlightRulesConstant.FE_FUNCTION_REGEX_PREFIX,n,e.OuCalcHighlightRulesConstant.FE_FUNCTION_REGEX_POSTFIX);let i=e.PrFactory.createStructure();i.putString(e.OuCalcHighlightRulesConstant.TOKEN,e.OuCalcFunctionHighlightRule.FE_FUNCTION_CSS_NAME);i.putString(e.OuCalcHighlightRulesConstant.REGEX,n);i.putBoolean(e.OuCalcHighlightRulesConstant.CASE_INSENSITIVE,true);t.add(i)}};e.OuCalcHighlightRulesConstant={CASE_INSENSITIVE:"caseInsensitive",CLOSE_SQUARE_BRACKETS:"]",ESCAPE_CHAR:"\\",FE_FUNCTION_REGEX_POSTFIX:")\\b",FE_FUNCTION_REGEX_PREFIX:"\\b(?:",HIPEN:"-",OPEN_SQUARE_BRACKETS:"[",REGEX:"regex",REGEX_OR:"|",TOKEN:"token"};e.OuCalcLiteralHighlightRule=function(){};e.OuCalcLiteralHighlightRule.prototype=new e.XObject;e.OuCalcLiteralHighlightRule.prototype._ff_c="OuCalcLiteralHighlightRule";e.OuCalcLiteralHighlightRule.FE_LITERAL_CSS_NAME="feLiteral";e.OuCalcLiteralHighlightRule.FE_LITERAL_REGEX="\\b(?:TRUE|FALSE|YES|NO|NULL)\\b";e.OuCalcLiteralHighlightRule.create=function(){return new e.OuCalcLiteralHighlightRule};e.OuCalcLiteralHighlightRule.prototype.build=function(t){let i=e.PrFactory.createStructure();i.putString(e.OuCalcHighlightRulesConstant.TOKEN,e.OuCalcLiteralHighlightRule.FE_LITERAL_CSS_NAME);i.putString(e.OuCalcHighlightRulesConstant.REGEX,e.OuCalcLiteralHighlightRule.FE_LITERAL_REGEX);i.putBoolean(e.OuCalcHighlightRulesConstant.CASE_INSENSITIVE,true);t.add(i)};e.OuCalcLogicalConditionHighlightRule=function(){};e.OuCalcLogicalConditionHighlightRule.prototype=new e.XObject;e.OuCalcLogicalConditionHighlightRule.prototype._ff_c="OuCalcLogicalConditionHighlightRule";e.OuCalcLogicalConditionHighlightRule.FE_LOGICAL_CONDITIONS_REGEX="\\b(?:AND|OR|NOT|XOR)\\b";e.OuCalcLogicalConditionHighlightRule.FE_LOGICAL_CONDITION_CSS_NAME="feLogicalConditions";e.OuCalcLogicalConditionHighlightRule.create=function(){return new e.OuCalcLogicalConditionHighlightRule};e.OuCalcLogicalConditionHighlightRule.prototype.build=function(t,i){let n="";let o=i.getConditions();let r=o.getIterator();if(r.hasNext()){while(r.hasNext()){let t=r.next();let i=e.XRegex.getInstance().getAllGroupsOfMatch(t.getDisplayName(),e.OuCalcLogicalConditionHighlightRule.FE_LOGICAL_CONDITIONS_REGEX,true);if(i.hasElements()){n=e.XStringUtils.concatenate3(n,t.getDisplayName(),e.OuCalcHighlightRulesConstant.REGEX_OR)}}n=e.XString.substring(n,0,e.XString.size(n)-1);n=e.XStringUtils.concatenate3(e.OuCalcHighlightRulesConstant.FE_FUNCTION_REGEX_PREFIX,n,e.OuCalcHighlightRulesConstant.FE_FUNCTION_REGEX_POSTFIX);let i=e.PrFactory.createStructure();i.putString(e.OuCalcHighlightRulesConstant.TOKEN,e.OuCalcLogicalConditionHighlightRule.FE_LOGICAL_CONDITION_CSS_NAME);i.putString(e.OuCalcHighlightRulesConstant.REGEX,n);i.putBoolean(e.OuCalcHighlightRulesConstant.CASE_INSENSITIVE,true);t.add(i)}};e.OuCalcMeasureHighlightRule=function(){};e.OuCalcMeasureHighlightRule.prototype=new e.XObject;e.OuCalcMeasureHighlightRule.prototype._ff_c="OuCalcMeasureHighlightRule";e.OuCalcMeasureHighlightRule.FE_MEASURE_CSS_NAME="feMeasures";e.OuCalcMeasureHighlightRule.FE_MEASURE_REGEX="\\[(?!d\\/|p\\/|h\\/)[^\\/\\]]*\\]";e.OuCalcMeasureHighlightRule.FE_MEASURE_WITH_DATASOURCE_REGEX='\\[(?!d\\/|p\\/|h\\/)("[^"]*":)?[^\\/\\]]*\\]';e.OuCalcMeasureHighlightRule.create=function(t){let i=new e.OuCalcMeasureHighlightRule;i.m_enableModelPrefix=t;return i};e.OuCalcMeasureHighlightRule.prototype.m_enableModelPrefix=false;e.OuCalcMeasureHighlightRule.prototype.build=function(t){let i=e.PrFactory.createStructure();i.putString(e.OuCalcHighlightRulesConstant.TOKEN,e.OuCalcMeasureHighlightRule.FE_MEASURE_CSS_NAME);i.putString(e.OuCalcHighlightRulesConstant.REGEX,this.m_enableModelPrefix?e.OuCalcMeasureHighlightRule.FE_MEASURE_WITH_DATASOURCE_REGEX:e.OuCalcMeasureHighlightRule.FE_MEASURE_REGEX);t.add(i)};e.OuCalcOperatorHighlightRule=function(){};e.OuCalcOperatorHighlightRule.prototype=new e.XObject;e.OuCalcOperatorHighlightRule.prototype._ff_c="OuCalcOperatorHighlightRule";e.OuCalcOperatorHighlightRule.FE_OPERATOR_CSS_NAME="feOperators";e.OuCalcOperatorHighlightRule.QUANTIFIER="{1,2}";e.OuCalcOperatorHighlightRule.create=function(){return new e.OuCalcOperatorHighlightRule};e.OuCalcOperatorHighlightRule.prototype.build=function(t,i){let n="";let o=i.getOperators();let r=o.getIterator();if(r.hasNext()){while(r.hasNext()){let t=r.next();if(t.getCategory().isTypeOf(e.FeFormulaItemCategory.MATHEMATICAL)){if(e.XString.isEqual(t.getDisplayName(),e.OuCalcHighlightRulesConstant.HIPEN)){n=e.XStringUtils.concatenate3(n,e.OuCalcHighlightRulesConstant.ESCAPE_CHAR,t.getDisplayName())}else{n=e.XStringUtils.concatenate2(n,t.getDisplayName())}}}n=e.XStringUtils.concatenate4(e.OuCalcHighlightRulesConstant.OPEN_SQUARE_BRACKETS,n,e.OuCalcHighlightRulesConstant.CLOSE_SQUARE_BRACKETS,e.OuCalcOperatorHighlightRule.QUANTIFIER);let i=e.PrFactory.createStructure();i.putString(e.OuCalcHighlightRulesConstant.TOKEN,e.OuCalcOperatorHighlightRule.FE_OPERATOR_CSS_NAME);i.putString(e.OuCalcHighlightRulesConstant.REGEX,n);t.add(i)}};e.OuCalcParenthesisHighlightRule=function(){};e.OuCalcParenthesisHighlightRule.prototype=new e.XObject;e.OuCalcParenthesisHighlightRule.prototype._ff_c="OuCalcParenthesisHighlightRule";e.OuCalcParenthesisHighlightRule.FE_PARENTHESIS_CSS_NAME="feLeftAndRightParenthesis";e.OuCalcParenthesisHighlightRule.FE_PARENTHESIS_REGEX="[()]";e.OuCalcParenthesisHighlightRule.create=function(){return new e.OuCalcParenthesisHighlightRule};e.OuCalcParenthesisHighlightRule.prototype.build=function(t){let i=e.PrFactory.createStructure();i.putString(e.OuCalcHighlightRulesConstant.TOKEN,e.OuCalcParenthesisHighlightRule.FE_PARENTHESIS_CSS_NAME);i.putString(e.OuCalcHighlightRulesConstant.REGEX,e.OuCalcParenthesisHighlightRule.FE_PARENTHESIS_REGEX);t.add(i)};e.OuCalcPercentageHighlightRule=function(){};e.OuCalcPercentageHighlightRule.prototype=new e.XObject;e.OuCalcPercentageHighlightRule.prototype._ff_c="OuCalcPercentageHighlightRule";e.OuCalcPercentageHighlightRule.FE_PERCENTAGE_CSS_NAME="feFunctions";e.OuCalcPercentageHighlightRule.FE_PERCENTAGE_GRANDTOTAL_REGEX="%GRANDTOTAL";e.OuCalcPercentageHighlightRule.FE_PERCENTAGE_SUBTOTAL_REGEX="%SUBTOTAL";e.OuCalcPercentageHighlightRule.create=function(){return new e.OuCalcPercentageHighlightRule};e.OuCalcPercentageHighlightRule.prototype.build=function(t,i){let n=i.getFunctions();let o=n.getIterator();while(o.hasNext()){let i=o.next();if(e.XString.isEqual(i.getDisplayName(),e.OuCalcPercentageHighlightRule.FE_PERCENTAGE_GRANDTOTAL_REGEX)){let i=e.PrFactory.createStructure();i.putString(e.OuCalcHighlightRulesConstant.TOKEN,e.OuCalcPercentageHighlightRule.FE_PERCENTAGE_CSS_NAME);i.putString(e.OuCalcHighlightRulesConstant.REGEX,e.OuCalcPercentageHighlightRule.FE_PERCENTAGE_GRANDTOTAL_REGEX);t.add(i)}else if(e.XString.isEqual(i.getDisplayName(),e.OuCalcPercentageHighlightRule.FE_PERCENTAGE_SUBTOTAL_REGEX)){let i=e.PrFactory.createStructure();i.putString(e.OuCalcHighlightRulesConstant.TOKEN,e.OuCalcPercentageHighlightRule.FE_PERCENTAGE_CSS_NAME);i.putString(e.OuCalcHighlightRulesConstant.REGEX,e.OuCalcPercentageHighlightRule.FE_PERCENTAGE_SUBTOTAL_REGEX);t.add(i)}}};e.OuCalcSemicolonHighlightRule=function(){};e.OuCalcSemicolonHighlightRule.prototype=new e.XObject;e.OuCalcSemicolonHighlightRule.prototype._ff_c="OuCalcSemicolonHighlightRule";e.OuCalcSemicolonHighlightRule.FE_SEMICOLON_CSS_NAME="feSemicolon";e.OuCalcSemicolonHighlightRule.FE_SEMICOLON_REGEX=";";e.OuCalcSemicolonHighlightRule.create=function(){return new e.OuCalcSemicolonHighlightRule};e.OuCalcSemicolonHighlightRule.prototype.build=function(t){let i=e.PrFactory.createStructure();i.putString(e.OuCalcHighlightRulesConstant.TOKEN,e.OuCalcSemicolonHighlightRule.FE_SEMICOLON_CSS_NAME);i.putString(e.OuCalcHighlightRulesConstant.REGEX,e.OuCalcSemicolonHighlightRule.FE_SEMICOLON_REGEX);t.add(i)};e.OuCalcStringHighlightRule=function(){};e.OuCalcStringHighlightRule.prototype=new e.XObject;e.OuCalcStringHighlightRule.prototype._ff_c="OuCalcStringHighlightRule";e.OuCalcStringHighlightRule.FE_STRING_CSS_NAME="feString";e.OuCalcStringHighlightRule.FE_STRING_REGEX="\"(?:[^\"\\\\]|\\\\.)*\"|'(?:[^'\\\\]|\\\\.)*'";e.OuCalcStringHighlightRule.create=function(){return new e.OuCalcStringHighlightRule};e.OuCalcStringHighlightRule.prototype.build=function(t){let i=e.PrFactory.createStructure();i.putString(e.OuCalcHighlightRulesConstant.TOKEN,e.OuCalcStringHighlightRule.FE_STRING_CSS_NAME);i.putString(e.OuCalcHighlightRulesConstant.REGEX,e.OuCalcStringHighlightRule.FE_STRING_REGEX);t.add(i)};e.OuCalcHintBase=function(){};e.OuCalcHintBase.prototype=new e.XObject;e.OuCalcHintBase.prototype._ff_c="OuCalcHintBase";e.OuCalcHintBase.CAPTION_KEY="caption";e.OuCalcHintBase.CLASS_NAME_KEY="className";e.OuCalcHintBase.SCORE_KEY="score";e.OuCalcHintBase.prototype.m_caption=null;e.OuCalcHintBase.prototype.m_cssClassName=null;e.OuCalcHintBase.prototype.m_score=0;e.OuCalcHintBase.prototype.getCaption=function(){return e.XOptional.ofNullable(this.m_caption)};e.OuCalcHintBase.prototype.getCssClassName=function(){return this.m_cssClassName};e.OuCalcHintBase.prototype.getJson=function(){let t=e.PrStructure.create();t.putStringNotNull(e.OuCalcHintBase.CAPTION_KEY,this.m_caption);t.putInteger(e.OuCalcHintBase.SCORE_KEY,this.m_score);t.putString(e.OuCalcHintBase.CLASS_NAME_KEY,this.m_cssClassName);return t};e.OuCalcHintBase.prototype.getScore=function(){return this.m_score};e.OuCalcHintBase.prototype.setupInternal=function(e,t,i){this.m_caption=e;this.m_score=t;this.m_cssClassName=i};e.OuCalcHintBase.prototype.toString=function(){return this.getJson().getStringRepresentation()};e.OuCalcHintGenerator=function(){};e.OuCalcHintGenerator.prototype=new e.XObject;e.OuCalcHintGenerator.prototype._ff_c="OuCalcHintGenerator";e.OuCalcHintGenerator.create=function(t){e.XObjectExt.assertNotNull(t);e.XObjectExt.assertTrue(t.size()>0);let i=new e.OuCalcHintGenerator;i.m_hintProviders=t.getValuesAsReadOnlyList();return i};e.OuCalcHintGenerator.prototype.m_hintProviders=null;e.OuCalcHintGenerator.prototype.generate=function(t){let i=e.XList.create();for(let e=0;e<this.m_hintProviders.size();e++){let n=this.m_hintProviders.get(e);if(n.accept(t)){n.prepare(t);i.addAll(n.provide())}}return i};e.OuCalcAbstractHintProvider=function(){};e.OuCalcAbstractHintProvider.prototype=new e.XObject;e.OuCalcAbstractHintProvider.prototype._ff_c="OuCalcAbstractHintProvider";e.OuCalcAbstractHintProvider.prototype.m_cssClassName=null;e.OuCalcAbstractHintProvider.prototype.getCssClassName=function(){return this.m_cssClassName};e.OuCalcAbstractHintProvider.prototype.isGenericToken=function(t){return!t.getDataTypes().contains(e.FeDataType.OPERATOR)&&!t.getDataTypes().contains(e.FeDataType.HIERARCHY)&&!t.getDataTypes().contains(e.FeDataType.GRANULARITY)&&!t.getDataTypes().contains(e.FeDataType.PROPERTY)};e.OuCalcAbstractHintProvider.prototype.isTokenCompatible=function(t,i){return e.XStream.of(t.getDataTypes()).anyMatch(t=>e.FeDataType.isStrictlyCompatible(t,i)||t.isEqualTo(e.FeDataType.BOOLEAN)||t.isEqualTo(e.FeDataType.ANY))};e.OuCalcAbstractHintProvider.prototype.isTokenTypeEqualTo=function(t,i){return e.XStream.of(t.getDataTypes()).anyMatch(e=>i.isEqualTo(e))};e.OuCalcAbstractHintProvider.prototype.isTokenTypeOf=function(t,i){return e.XStream.of(t.getDataTypes()).anyMatch(t=>i.isTypeOf(t)||t.isEqualTo(e.FeDataType.BOOLEAN)||t.isEqualTo(e.FeDataType.ANY))};e.OuCalcAbstractHintProvider.prototype.prepare=function(e){};e.OuCalcAbstractHintProvider.prototype.setupInternal=function(e){this.m_cssClassName=e};e.OuCalcTranslationParser=function(){};e.OuCalcTranslationParser.prototype=new e.XObject;e.OuCalcTranslationParser.prototype._ff_c="OuCalcTranslationParser";e.OuCalcTranslationParser.ARGUMENT_SEPARATOR_TAG="argsep";e.OuCalcTranslationParser.CELL_SEPARATOR="|";e.OuCalcTranslationParser.CODE_PARSED="span class='ffFeCode'";e.OuCalcTranslationParser.CODE_TAG="code";e.OuCalcTranslationParser.DECIMAL_GROUPING_SEPARATOR_TAG="decgroupsep";e.OuCalcTranslationParser.DECIMAL_SEPARATOR_TAG="decsep";e.OuCalcTranslationParser.DEFAULT_CLOSE_TAG="</span>";e.OuCalcTranslationParser.DIMENSION_PARSED="span class='ffFeDimension'";e.OuCalcTranslationParser.DIMENSION_TAG="dimension";e.OuCalcTranslationParser.FUNCTION_PARSED="span class='ffFeFunc'";e.OuCalcTranslationParser.FUNCTION_TAG="func";e.OuCalcTranslationParser.MEASURE_PARSED="span class='ffFeMeasure'";e.OuCalcTranslationParser.MEASURE_TAG="measure";e.OuCalcTranslationParser.MEASURE_TYPE_TAG="measuretype";e.OuCalcTranslationParser.OPERATOR_PARSED="span class='ffFeOperator'";e.OuCalcTranslationParser.OPERATOR_TAG="operator";e.OuCalcTranslationParser.PARAMETER_PARSED="span class='ffFeParameter'";e.OuCalcTranslationParser.PARAMETER_TAG="param";e.OuCalcTranslationParser.PARAM_STRING_NUMBER_TAG="paramStringNumber";e.OuCalcTranslationParser.TAG_END=">";e.OuCalcTranslationParser.TAG_START="<";e.OuCalcTranslationParser.TAG_START_CLOSE="</";e.OuCalcTranslationParser.TAG_TABLE="table";e.OuCalcTranslationParser.TAG_TABLE_HEADER="thead";e.OuCalcTranslationParser.TAG_TD="td";e.OuCalcTranslationParser.TAG_TH="th";e.OuCalcTranslationParser.TAG_TR="tr";e.OuCalcTranslationParser.create=function(t,i,n){let o=new e.OuCalcTranslationParser;o.m_decimalSeparator=t.getDecimalSeparator();o.m_decimalGroupingSeparator=t.getDecimalGroupingSeparator();o.m_argumentSeparator=t.getArgumentSeparator();o.m_measureDataType=i;o.m_stringNumberText=n?e.FeDataType.STRING_NUMBER.getName():e.FeDataType.NUMBER.getName();o.internalSetup();return o};e.OuCalcTranslationParser.prototype.m_argumentSeparator=null;e.OuCalcTranslationParser.prototype.m_decimalGroupingSeparator=null;e.OuCalcTranslationParser.prototype.m_decimalSeparator=null;e.OuCalcTranslationParser.prototype.m_measureDataType=null;e.OuCalcTranslationParser.prototype.m_parseMap=null;e.OuCalcTranslationParser.prototype.m_stringNumberText=null;e.OuCalcTranslationParser.prototype.addToMap=function(t,i){this.m_parseMap.put(this.generateOpenTag(t),this.generateOpenTag(i));this.m_parseMap.put(this.generateCloseTag(t),e.OuCalcTranslationParser.DEFAULT_CLOSE_TAG)};e.OuCalcTranslationParser.prototype.generateCloseTag=function(t){return e.XStringUtils.concatenate3(e.OuCalcTranslationParser.TAG_START_CLOSE,t,e.OuCalcTranslationParser.TAG_END)};e.OuCalcTranslationParser.prototype.generateOpenTag=function(t){return e.XStringUtils.concatenate3(e.OuCalcTranslationParser.TAG_START,t,e.OuCalcTranslationParser.TAG_END)};e.OuCalcTranslationParser.prototype.internalSetup=function(){if(e.isNull(this.m_parseMap)){this.m_parseMap=e.XHashMapByString.create();this.addToMap(e.OuCalcTranslationParser.CODE_TAG,e.OuCalcTranslationParser.CODE_PARSED);this.addToMap(e.OuCalcTranslationParser.FUNCTION_TAG,e.OuCalcTranslationParser.FUNCTION_PARSED);this.addToMap(e.OuCalcTranslationParser.OPERATOR_TAG,e.OuCalcTranslationParser.OPERATOR_PARSED);this.addToMap(e.OuCalcTranslationParser.PARAMETER_TAG,e.OuCalcTranslationParser.PARAMETER_PARSED);this.addToMap(e.OuCalcTranslationParser.MEASURE_TAG,e.OuCalcTranslationParser.MEASURE_PARSED);this.addToMap(e.OuCalcTranslationParser.DIMENSION_TAG,e.OuCalcTranslationParser.DIMENSION_PARSED);this.m_parseMap.put(this.generateOpenTag(e.OuCalcTranslationParser.ARGUMENT_SEPARATOR_TAG),this.m_argumentSeparator);this.m_parseMap.put(this.generateOpenTag(e.OuCalcTranslationParser.DECIMAL_SEPARATOR_TAG),this.m_decimalSeparator);this.m_parseMap.put(this.generateOpenTag(e.OuCalcTranslationParser.DECIMAL_GROUPING_SEPARATOR_TAG),this.m_decimalGroupingSeparator);this.m_parseMap.put(this.generateOpenTag(e.OuCalcTranslationParser.MEASURE_TYPE_TAG),e.XStringUtils.concatenate3(this.generateOpenTag(e.OuCalcTranslationParser.MEASURE_PARSED),this.m_measureDataType,e.OuCalcTranslationParser.DEFAULT_CLOSE_TAG));this.m_parseMap.put(this.generateOpenTag(e.OuCalcTranslationParser.PARAM_STRING_NUMBER_TAG),e.XStringUtils.concatenate3(this.generateOpenTag(e.OuCalcTranslationParser.PARAMETER_PARSED),this.m_stringNumberText,e.OuCalcTranslationParser.DEFAULT_CLOSE_TAG))}};e.OuCalcTranslationParser.prototype.parseCellsTokens=function(t,i){let n=e.XStringBuffer.create();let o=e.XStringTokenizer.splitString(e.XString.substring(t,4,-1),e.OuCalcTranslationParser.CELL_SEPARATOR);for(let e=0;e<o.size();e++){n.append(this.generateOpenTag(i));n.append(o.get(e));n.append(this.generateCloseTag(i))}return n.toString()};e.OuCalcTranslationParser.prototype.parseTable=function(t){let i=e.XStringBuffer.create();i.append(this.generateOpenTag(e.OuCalcTranslationParser.TAG_TABLE));let n=e.XString.indexOf(t,this.generateOpenTag(e.OuCalcTranslationParser.TAG_TH));let o=e.XString.indexOf(t,this.generateOpenTag(e.OuCalcTranslationParser.TAG_TR));if(n!==-1){let r=e.XString.substring(t,n,o);let a=this.parseTableHeader(r);i.append(a)}let r=this.generateOpenTag(e.OuCalcTranslationParser.TAG_TR);let a=e.XStringTokenizer.splitString(t,r);for(let t=1;t<a.size();t++){let n=e.XStringUtils.concatenate2(r,a.get(t));let o=this.parseTableRow(n);i.append(o)}i.append(this.generateCloseTag(e.OuCalcTranslationParser.TAG_TABLE));return i.toString()};e.OuCalcTranslationParser.prototype.parseTableHeader=function(t){let i=e.XStringBuffer.create();i.append(this.generateOpenTag(e.OuCalcTranslationParser.TAG_TABLE_HEADER));i.append(this.generateOpenTag(e.OuCalcTranslationParser.TAG_TR));i.append(this.parseCellsTokens(t,e.OuCalcTranslationParser.TAG_TH));i.append(this.generateCloseTag(e.OuCalcTranslationParser.TAG_TR));i.append(this.generateCloseTag(e.OuCalcTranslationParser.TAG_TABLE_HEADER));return i.toString()};e.OuCalcTranslationParser.prototype.parseTableRow=function(t){let i=e.XStringBuffer.create();i.append(this.generateOpenTag(e.OuCalcTranslationParser.TAG_TR));i.append(this.parseCellsTokens(t,e.OuCalcTranslationParser.TAG_TD));i.append(this.generateCloseTag(e.OuCalcTranslationParser.TAG_TR));return i.toString()};e.OuCalcTranslationParser.prototype.parseText=function(t){if(e.XStringUtils.isNullOrEmpty(t)){return t}let i=t;let n=this.m_parseMap.getKeysAsIterator();while(n.hasNext()){let t=n.next();let o=this.m_parseMap.getByKey(t);i=e.XString.replace(i,t,o)}if(e.XString.startsWith(i,this.generateOpenTag(e.OuCalcTranslationParser.TAG_TABLE))){return this.parseTable(i)}if(e.XString.startsWith(i,this.generateOpenTag(e.OuCalcTranslationParser.TAG_TH))){return this.parseTableHeader(i)}if(e.XString.startsWith(i,this.generateOpenTag(e.OuCalcTranslationParser.TAG_TR))){return this.parseTableRow(i)}return i};e.OuCalcHorizonConfigGenerator={create:function(){return new e.OuCalcHorizonConfigGenerator},generateHorizonConfig:function(t){e.XStringUtils.assertNotNullOrEmpty(t);let i='{"layout":{"type":"SinglePlugin"}, "configuration": {     "toolbarVisible": false,     "menuVisible": false,     "statusBarVisible": false   },   "plugins": [     {       "plugin": "';let n='",       "config": {         "foo": "bar"       }     }   ],   "commands": [   {       "plugin": "CodeEditorValueRetriever",       "config": {         "foo": "bar"       }     }, {       "plugin": "CalculationsDetailsAreaRetriever",       "config": {         "foo": "bar"       }     }, {       "plugin": "CalcAssistancePluginValueRetriever",       "config": {         "foo": "bar"       }     }   ] }';return e.XStringUtils.concatenate3(i,t,n)}};e.OuCalcCtrlSpaceHandler=function(){};e.OuCalcCtrlSpaceHandler.prototype=new e.XObject;e.OuCalcCtrlSpaceHandler.prototype._ff_c="OuCalcCtrlSpaceHandler";e.OuCalcCtrlSpaceHandler.EQUALS="=";e.OuCalcCtrlSpaceHandler.NOT_EQUALS="!=";e.OuCalcCtrlSpaceHandler.OPERATOR_PATTERN="(!=|<=|>=|=|<|>)";e.OuCalcCtrlSpaceHandler.create=function(t,i,n,o,r){let a=new e.OuCalcCtrlSpaceHandler;a.m_datasource=t;a.m_memberSelectorHandler=i;a.m_preferences=e.XObjectExt.assertNotNull(n);a.m_feConfiguration=e.XObjectExt.assertNotNull(o);a.m_feFormulaPresentation=r;return a};e.OuCalcCtrlSpaceHandler.fallbackToFlat=function(t){return e.XStringUtils.isNullOrEmpty(t)?e.FeHierarchy.FLAT_HIERARCHY_FORMULA_REPRESENTATION:t};e.OuCalcCtrlSpaceHandler.prototype.m_datasource=null;e.OuCalcCtrlSpaceHandler.prototype.m_feConfiguration=null;e.OuCalcCtrlSpaceHandler.prototype.m_feFormulaPresentation=null;e.OuCalcCtrlSpaceHandler.prototype.m_memberSelectorHandler=null;e.OuCalcCtrlSpaceHandler.prototype.m_preferences=null;e.OuCalcCtrlSpaceHandler.prototype.getDimensionField=function(t,i,n,o,r){let a=e.OuCalcCtrlSpaceHandler.fallbackToFlat(o.getHierarchyName().orElse(i.getDefaultHierarchy()));let s=e.OuCalcCtrlSpaceHandler.fallbackToFlat(r.getHierarchy());let l=e.OuCalcCtrlSpaceHandler.fallbackToFlat(!i.getHierarchyByName(s).isPresent()?i.getDefaultHierarchy():s);let u=!i.getSelectedProperty().isPresent()&&(e.XStringUtils.isNullOrEmpty(a)!==e.XStringUtils.isNullOrEmpty(l)||!e.XString.isEqual(a,l));let p=e.XStringBuffer.create();if(u){let t=e.FeDimension.createWithSelectedHierarchy(i,s);p.append(t.getField(this.m_preferences.isModelPrefixEnabled()))}else{let i=this.getOperatorPosition(t,n);p.append(e.XString.substring(t,n.getStart(),i))}p.append(this.getNewOperator(t,n,r));return p.toString()};e.OuCalcCtrlSpaceHandler.prototype.getDimensionFromToken=function(t){return e.FeMemberRetriever.create(this.m_datasource).getDimension(t.getText(),this.m_preferences.isModelPrefixEnabled())};e.OuCalcCtrlSpaceHandler.prototype.getEqualsSign=function(t){return t?e.OuCalcCtrlSpaceHandler.NOT_EQUALS:e.OuCalcCtrlSpaceHandler.EQUALS};e.OuCalcCtrlSpaceHandler.prototype.getExistingOperator=function(t,i){let n=e.XString.substring(t,i.getStart(),-1);let o=e.XRegex.getInstance().getFirstGroupOfMatch(n,e.OuCalcCtrlSpaceHandler.OPERATOR_PATTERN);return o};e.OuCalcCtrlSpaceHandler.prototype.getNewOperator=function(t,i,n){let o=this.getExistingOperator(t,i);if(e.XString.isEqual(o,e.OuCalcCtrlSpaceHandler.EQUALS)||e.XString.isEqual(o,e.OuCalcCtrlSpaceHandler.NOT_EQUALS)){return this.getEqualsSign(n.areMembersExcluded())}return o};e.OuCalcCtrlSpaceHandler.prototype.getOperatorPosition=function(t,i){let n=this.getExistingOperator(t,i);let o=e.XString.indexOfFrom(t,n,i.getStart());return o};e.OuCalcCtrlSpaceHandler.prototype.getUpdatedCursorIndex=function(t,i,n){return e.XString.size(e.XString.substring(t,0,i.getStart()))+e.XString.size(n)};e.OuCalcCtrlSpaceHandler.prototype.getUpdatedDimensionText=function(t,i,n,o,r){let a=e.FeDimensionCustomData.extractFromToken(i);if(!a.isPresent()){return e.XString.substring(t,i.getStart(),i.getEnd())}let s=e.XStringBuffer.create();s.append(this.getDimensionField(t,o,i,a.get(),n));s.append(e.FeDimensionMembersConverter.stringifyMembers(n.getNewMembers(),!r.isCommaDecimalSeparator()));return s.toString()};e.OuCalcCtrlSpaceHandler.prototype.getUpdatedFormulaText=function(t,i,n){let o=e.XStringBuffer.create();o.append(e.XString.substring(t,0,i.getStart()));o.append(n);o.append(e.XString.substring(t,i.getEnd(),-1));return o.toString()};e.OuCalcCtrlSpaceHandler.prototype.handle=function(t,i,n,o,r,a){e.XObjectExt.assertNotNull(t);let s=t.getText();if(this.isDimensionToken(i)&&this.isDimensionValid(i)&&this.isDimensionSupported(i)){let t=this.getDimensionFromToken(i).get();if(this.m_feConfiguration.isHierarchyLoadEnabled()&&this.isDimensionTokenWithExpectedHierarchy(i)){r(e.XBooleanValue.create(true));let i=this.m_datasource.updateHierarchies(e.XCollectionUtils.singletonList(t.getDimensionName()));i.onThen(t=>{r(e.XBooleanValue.create(false));a()})}else if(this.isDimensionTokenWithExpectedDimensionMember(i)){let r=e.FeDimensionCustomData.extractFromToken(i);let a=e.XList.create();let l=r.isPresent()&&r.get().getMemberString().isPresent()?e.FeDimensionMembersConverter.parseMembers(r.get().getMemberString().get()):a;let u=r.isPresent()&&r.get().isExclude();let p=r.isPresent()&&r.get().isMultiselect();this.m_memberSelectorHandler.handle(t,u,p,l,r=>{let a=this.getUpdatedDimensionText(s,i,r,t,this.m_preferences);let l=this.getUpdatedFormulaText(s,i,a);let u=this.getUpdatedCursorIndex(s,i,a);n(e.FeFormula.create(l,this.m_feFormulaPresentation));o(e.FeCursorHelper.getCursorPosition(l,u))})}}};e.OuCalcCtrlSpaceHandler.prototype.isDimensionSupported=function(t){if(this.m_feConfiguration.dimensionsSupported()){return true}let i=t.getParent();if(!i.isPresent()||!i.get().getTokenType().isEqualTo(e.FeTokenType.ARGUMENT)){return false}return e.XCollectionUtils.contains(i.get().getDataTypes(),e=>e.supportsDimensionsInHintsOnly())};e.OuCalcCtrlSpaceHandler.prototype.isDimensionToken=function(t){return e.notNull(t)&&t.getTokenType().isEqualTo(e.FeTokenType.DIMENSION)};e.OuCalcCtrlSpaceHandler.prototype.isDimensionTokenWithExpectedDimensionMember=function(t){return this.isDimensionToken(t)&&t.getDataTypes().contains(e.FeDataType.DIMENSION_MEMBER)};e.OuCalcCtrlSpaceHandler.prototype.isDimensionTokenWithExpectedHierarchy=function(t){return this.isDimensionToken(t)&&t.getDataTypes().contains(e.FeDataType.HIERARCHY)};e.OuCalcCtrlSpaceHandler.prototype.isDimensionValid=function(t){let i=this.getDimensionFromToken(t);if(!i.isPresent()){return false}let n=i.get();let o=n.getSelectedProperty().isPresent()===e.FeFieldConverter.getProperty(t.getText()).isPresent();let r=n.getSelectedHierarchy().isPresent()===e.FeFieldConverter.getHierarchy(t.getText()).isPresent();return o&&r};e.OuCalcCtrlSpaceHandler.prototype.releaseObject=function(){this.m_datasource=null;this.m_memberSelectorHandler=null;this.m_preferences=null;this.m_feConfiguration=null;this.m_feFormulaPresentation=null;e.XObject.prototype.releaseObject.call(this)};e.OuCalcMemberSelectorHandler=function(){};e.OuCalcMemberSelectorHandler.prototype=new e.XObject;e.OuCalcMemberSelectorHandler.prototype._ff_c="OuCalcMemberSelectorHandler";e.OuCalcMemberSelectorHandler.create=function(t,i,n,o){let r=new e.OuCalcMemberSelectorHandler;r.m_process=e.XObjectExt.assertNotNull(t);r.m_queryModel=e.XObjectExt.assertNotNull(i);r.m_datasourceProvider=e.XObjectExt.assertNotNull(n);r.m_preferences=e.XObjectExt.assertNotNull(o);return r};e.OuCalcMemberSelectorHandler.createNull=function(){return new e.OuCalcMemberSelectorHandler};e.OuCalcMemberSelectorHandler.prototype.m_datasourceProvider=null;e.OuCalcMemberSelectorHandler.prototype.m_preferences=null;e.OuCalcMemberSelectorHandler.prototype.m_process=null;e.OuCalcMemberSelectorHandler.prototype.m_queryModel=null;e.OuCalcMemberSelectorHandler.prototype.cacheItem=function(t){let i=this.m_datasourceProvider.getDimensionMemberLookupProviderInternal();if(t.getType()===e.FilterDialogValueType.VALUEHELP&&i.isPresent()){let e=t.getValueHelpNode();i.get().cacheItem(e,t.getHierarchyName())}};e.OuCalcMemberSelectorHandler.prototype.convertKey=function(t,i){let n=t.getDisplayKey();let o=this.convertMemberKeyToShortDate(i,t.getKey(),t.getHierarchyName());if(o.isPresent()){n=o.get()}else if(t.isNull()){n=e.FeDimensionMembersConverter.NULL_VALUE}else if(e.XStringUtils.isNullOrEmpty(t.getDisplayKey())){n=e.FeDimensionMembersConverter.EMPTY_VALUE}return n};e.OuCalcMemberSelectorHandler.prototype.convertKeyWithDateToggle=function(t,i){let n=null;let o=i.getDimensionName();if(t.isNull()){n=e.FeDimensionMembersConverter.NULL_VALUE}else if(e.XStringUtils.isNullOrEmpty(t.getDisplayKey())){n=e.FeDimensionMembersConverter.EMPTY_VALUE}else if(i.isDateDimension()){let e=this.m_queryModel.getDimensionByName(o);let i=e.getNamePathField();n=t.getValueByField(i)}else{let e=this.convertMemberKeyToShortDate(i,t.getKey(),t.getHierarchyName());n=e.isPresent()?e.get():t.getDisplayKey()}return n};e.OuCalcMemberSelectorHandler.prototype.convertMemberKeyToShortDate=function(t,i,n){let o=e.FeMemberKeyToShortDateConverter.create(t,n);return o.convert(i)};e.OuCalcMemberSelectorHandler.prototype.convertShortDateToMemberKey=function(t,i){let n=e.FeShortDateToMemberKeyConverter.create(t);return n.convert(i)};e.OuCalcMemberSelectorHandler.prototype.getDefaultSelection=function(t,i,n){if(e.isNull(t)||t.isEmpty()){return e.XOptional.empty()}let o=e.XList.create();let r=this.getSelectedHierarchyName(i);for(let a=0;a<t.size();a++){let s=t.get(a);let l;if(e.XString.isEqual(s,e.FeDimensionMembersConverter.NULL_VALUE)){l=e.FilterDialogValueFactory.createNullValue()}else{let n=this.convertShortDateToMemberKey(i,s);let o=t.get(a);let u=e.FeFeatureToggle.isActive(e.FeFeatureToggle.RESTRICT)?n.orElse(null):n.orElse(e.XStringUtils.isNullOrEmpty(r)?o:null);let p=e.isNull(u)?o:null;l=e.FilterDialogValueFactory.createValue(u,p,o)}l.setComparisonOperator(n?e.ComparisonOperator.NOT_EQUAL:e.ComparisonOperator.EQUAL);l.setHierarchyName(r);o.add(l)}return e.XOptional.of(o)};e.OuCalcMemberSelectorHandler.prototype.getSelectedHierarchyName=function(e){return e.getSelectedHierarchyName()};e.OuCalcMemberSelectorHandler.prototype.handle=function(t,i,n,o,r){if(e.isNull(this.m_process)||e.isNull(this.m_queryModel)||e.isNull(this.m_datasourceProvider)||e.isNull(this.m_preferences)){return}e.XObjectExt.assertNotNull(t);e.XObjectExt.assertNotNull(o);let a=t.getDimensionName();let s=t.getDimensionDescription();let l=e.XLocalizationCenter.getCenter().getTextWithPlaceholder(e.OuCalcFormulaEditorI18n.MEMBER_SELECTOR_TITLE,s);let u=e.FilterDialogProgramRunnerFactory.createForDimension(this.m_process,this.m_queryModel.getQueryManager(),a,l);let p=e.PrFactory.createStructure();p.putBoolean(e.FilterDialog.PARAM_OFFER_READMODE_EXTENDED_SETTINGS,true);p.putString(e.FilterDialog.PARAM_SELECTION_MODE,n?e.UiSelectionMode.MULTI_SELECT.getName():e.UiSelectionMode.SINGLE_SELECT.getName());p.putBoolean(e.FilterDialog.PARAM_SELECTION_REQUIRED,true);p.putBoolean(e.FilterDialog.PARAM_OFFER_HIERARCHY_CHANGE,!t.getSelectedProperty().isPresent()&&(t.getHierarchies().size()>1||!t.hasOnlyUnusableHierarchies()));p.putBoolean(e.FilterDialog.PARAM_OFFER_EXCLUDE,n);p.putBoolean(e.FilterDialog.PARAM_EXCLUDE_BY_DEFAULT,i);p.putString(e.FilterDialog.PARAM_HIERARCHY,this.getSelectedHierarchyName(t));let m=this.getDefaultSelection(o,t,i);if(m.isPresent()){u.getProgramStartData().putXObject(e.FilterDialog.PRG_DATA_DEFAULT_SELECTION,m.get())}u.getProgramStartData().putXObject(e.FilterDialog.PRG_DATA_LISTENER_CLOSE,e.FilterDialogLambdaCloseListener.create(i=>{let n=e.XCollectionUtils.map(i,i=>{let n;if(e.FeFeatureToggle.isActive(e.FeFeatureToggle.DATE_DIMENSIONS)){n=this.convertKeyWithDateToggle(i,t)}else{n=this.convertKey(i,t)}this.cacheItem(i);return n});let o=i.get(0).getHierarchyName();let a=i.get(0).getComparisonOperator().isEqualTo(e.ComparisonOperator.NOT_EQUAL);let s=e.OuCalcMemberSelectorOutput.create(n,o,a);r(s)},null));u.setConfigStructure(p);u.runProgram()};e.OuCalcMemberSelectorOutput=function(){};e.OuCalcMemberSelectorOutput.prototype=new e.XObject;e.OuCalcMemberSelectorOutput.prototype._ff_c="OuCalcMemberSelectorOutput";e.OuCalcMemberSelectorOutput.create=function(t,i,n){e.XObjectExt.assertNotNull(t);let o=new e.OuCalcMemberSelectorOutput;o.m_newMembers=t;o.m_hierarchy=i;o.m_areMembersExcluded=n;return o};e.OuCalcMemberSelectorOutput.prototype.m_areMembersExcluded=false;e.OuCalcMemberSelectorOutput.prototype.m_hierarchy=null;e.OuCalcMemberSelectorOutput.prototype.m_newMembers=null;e.OuCalcMemberSelectorOutput.prototype.areMembersExcluded=function(){return this.m_areMembersExcluded};e.OuCalcMemberSelectorOutput.prototype.getHierarchy=function(){return this.m_hierarchy};e.OuCalcMemberSelectorOutput.prototype.getNewMembers=function(){return this.m_newMembers};e.OuCalcPanelConfig=function(){};e.OuCalcPanelConfig.prototype=new e.XObject;e.OuCalcPanelConfig.prototype._ff_c="OuCalcPanelConfig";e.OuCalcPanelConfig.prototype.m_renderConfig=null;e.OuCalcPanelConfig.prototype.getRenderConfig=function(){return this.m_renderConfig};e.OuCalcPanelConfig.prototype.isSet=function(){return this.m_renderConfig.isSet()};e.OuCalcPanelConfig.prototype.setupInternal=function(t){this.m_renderConfig=e.notNull(t)?t:e.OuCalcPanelRenderConfig.createEmpty()};e.OuCalcPanelRenderConfig=function(){};e.OuCalcPanelRenderConfig.prototype=new e.XObject;e.OuCalcPanelRenderConfig.prototype._ff_c="OuCalcPanelRenderConfig";e.OuCalcPanelRenderConfig.create=function(t,i,n){let o=new e.OuCalcPanelRenderConfig;o.m_anchorTag=t;o.m_domId=i;o.m_width=n;return o};e.OuCalcPanelRenderConfig.createEmpty=function(){return e.OuCalcPanelRenderConfig.create(null,null,null)};e.OuCalcPanelRenderConfig.prototype.m_anchorTag=null;e.OuCalcPanelRenderConfig.prototype.m_domId=null;e.OuCalcPanelRenderConfig.prototype.m_width=null;e.OuCalcPanelRenderConfig.prototype.getAnchorTag=function(){return this.m_anchorTag};e.OuCalcPanelRenderConfig.prototype.getDomId=function(){return this.m_domId};e.OuCalcPanelRenderConfig.prototype.getWidth=function(){return this.m_width};e.OuCalcPanelRenderConfig.prototype.isAnchorTag=function(){return e.notNull(this.m_anchorTag)};e.OuCalcPanelRenderConfig.prototype.isDomId=function(){return!this.isAnchorTag()&&e.XStringUtils.isNotNullAndNotEmpty(this.m_domId)};e.OuCalcPanelRenderConfig.prototype.isSet=function(){return this.isAnchorTag()||this.isDomId()};e.OuCalcUiConfiguration=function(){};e.OuCalcUiConfiguration.prototype=new e.XObject;e.OuCalcUiConfiguration.prototype._ff_c="OuCalcUiConfiguration";e.OuCalcUiConfiguration.assertConfig=function(t){let i=t.getSinglePluginConfig()!==null&&e.OuCalcUiConfiguration.isPanelRenderConfigSet(t.getSinglePluginConfig().getRenderConfig());let n=e.OuCalcUiConfiguration.isPanelRenderConfigSet(t.getCodeEditorPanelRenderConfig())||e.OuCalcUiConfiguration.isPanelRenderConfigSet(t.getAssistancePanelRenderConfig())||e.OuCalcUiConfiguration.isPanelRenderConfigSet(t.getDetailsPanelRenderConfig())||e.OuCalcUiConfiguration.isPanelRenderConfigSet(t.getFormulaItemsListPanelRenderConfig());e.XObjectExt.assertFalseExt(i&&n,"Cannot configure single and multiple plugins at the same time!");e.XObjectExt.assertTrueExt(i||n,"Configure at least one plugin!")};e.OuCalcUiConfiguration.create=function(t,i,n,o){let r=new e.OuCalcUiConfiguration;r.setupInternal(null,t,i,n,o);return r};e.OuCalcUiConfiguration.createSinglePluginConfig=function(t){let i=new e.OuCalcUiConfiguration;i.setupInternal(t,null,null,null,null);return i};e.OuCalcUiConfiguration.getPanelRenderConfigOrEmpty=function(t){return e.notNull(t)?t:e.OuCalcPanelRenderConfig.createEmpty()};e.OuCalcUiConfiguration.isPanelRenderConfigSet=function(t){return e.notNull(t)&&t.isSet()};e.OuCalcUiConfiguration.prototype.m_assistancePanelRenderConfig=null;e.OuCalcUiConfiguration.prototype.m_codeEditorPanelRenderConfig=null;e.OuCalcUiConfiguration.prototype.m_detailsPanelRenderConfig=null;e.OuCalcUiConfiguration.prototype.m_formulaItemsListPanelRenderConfig=null;e.OuCalcUiConfiguration.prototype.m_singlePanelRenderConfig=null;e.OuCalcUiConfiguration.prototype.displayUiComponent=function(t){if(t.isTypeOf(e.OuCalcUiComponent.CODE_EDITOR)){return this.m_codeEditorPanelRenderConfig.isSet()}else if(t.isTypeOf(e.OuCalcUiComponent.DETAILS_PANEL)){return this.m_detailsPanelRenderConfig.isSet()}else if(t.isTypeOf(e.OuCalcUiComponent.ASSISTANCE_PANEL)){return this.m_assistancePanelRenderConfig.isSet()}else if(t.isTypeOf(e.OuCalcUiComponent.FORMULA_ELEMENTS_PANEL)){return this.m_formulaItemsListPanelRenderConfig.isSet()}else{throw e.XException.createIllegalArgumentException(e.XStringUtils.concatenate2("Unknown CalUiComponent ",t.toString()))}};e.OuCalcUiConfiguration.prototype.getAssistancePanelRenderConfig=function(){return this.m_assistancePanelRenderConfig};e.OuCalcUiConfiguration.prototype.getCodeEditorPanelRenderConfig=function(){return this.m_codeEditorPanelRenderConfig};e.OuCalcUiConfiguration.prototype.getDetailsPanelRenderConfig=function(){return this.m_detailsPanelRenderConfig};e.OuCalcUiConfiguration.prototype.getFormulaItemsListPanelRenderConfig=function(){return this.m_formulaItemsListPanelRenderConfig};e.OuCalcUiConfiguration.prototype.getSinglePluginConfig=function(){return this.m_singlePanelRenderConfig};e.OuCalcUiConfiguration.prototype.setupInternal=function(t,i,n,o,r){this.m_singlePanelRenderConfig=e.notNull(t)?t:e.OuCalcSinglePluginConfig.createEmpty();this.m_codeEditorPanelRenderConfig=e.OuCalcUiConfiguration.getPanelRenderConfigOrEmpty(i);this.m_detailsPanelRenderConfig=e.OuCalcUiConfiguration.getPanelRenderConfigOrEmpty(n);this.m_assistancePanelRenderConfig=e.OuCalcUiConfiguration.getPanelRenderConfigOrEmpty(o);this.m_formulaItemsListPanelRenderConfig=e.OuCalcUiConfiguration.getPanelRenderConfigOrEmpty(r);e.OuCalcUiConfiguration.assertConfig(this)};e.OuCalcPluginRunner=function(){};e.OuCalcPluginRunner.prototype=new e.XObject;e.OuCalcPluginRunner.prototype._ff_c="OuCalcPluginRunner";e.OuCalcPluginRunner.create=function(t){let i=new e.OuCalcPluginRunner;i.m_process=e.XObjectExt.assertNotNull(t);return i};e.OuCalcPluginRunner.prototype.m_process=null;e.OuCalcPluginRunner.prototype.runPlugin=function(t,i){if(!e.XStringUtils.isNotNullAndNotEmpty(i)){throw e.XException.createIllegalArgumentException("Horizon config must not be null or empty!")}let n=e.HuHorizonApi.createRunnerWithConfiguration(this.m_process,i,false);if(t.isSet()){if(t.isAnchorTag()){n.setContainerType(e.ProgramContainerType.CONTENT);n.setAnchorContentControl(t.getAnchorTag())}else{n.setContainerType(e.ProgramContainerType.STANDALONE);n.setNativeAnchorId(t.getDomId())}}else{this.m_process.getLogger().logWarning3("Panel render config not set, plugin is running but not rendered.  Config='",i,"'.")}let o=n.runProgram().onThenExt(e=>e).onCatch(t=>{let n=e.XStringUtils.concatenate3("Error launching plugin. Config='",i,"'.");n=e.XStringUtils.concatenate4(n,"Error='",t.getText(),"'.");this.m_process.getLogger().logError(n)});return o};e.OuCalcSharedDataSpaceManager=function(){};e.OuCalcSharedDataSpaceManager.prototype=new e.XObject;e.OuCalcSharedDataSpaceManager.prototype._ff_c="OuCalcSharedDataSpaceManager";e.OuCalcSharedDataSpaceManager.SHARED_DATA_SPACE_ID="Calculations-Shared-Dataspace";e.OuCalcSharedDataSpaceManager.create=function(t){let i=new e.OuCalcSharedDataSpaceManager;i.m_process=e.XObjectExt.assertNotNull(t);return i};e.OuCalcSharedDataSpaceManager.prototype.m_process=null;e.OuCalcSharedDataSpaceManager.prototype.destroy=function(){this.m_process.destroySharedDataSpace(e.OuCalcSharedDataSpaceManager.SHARED_DATA_SPACE_ID)};e.OuCalcSharedDataSpaceManager.prototype.get=function(){let t=this.m_process.getSharedDataSpace(e.OuCalcSharedDataSpaceManager.SHARED_DATA_SPACE_ID);if(e.isNull(t)){throw e.XException.createRuntimeException(e.XStringUtils.concatenate2("Unable to access space with ID=",e.OuCalcSharedDataSpaceManager.SHARED_DATA_SPACE_ID))}return t};e.OuCalcSharedDataSpaceManager.prototype.initialize=function(){let t=this.m_process.getSharedDataSpace(e.OuCalcSharedDataSpaceManager.SHARED_DATA_SPACE_ID);if(e.isNull(t)){let t=this.m_process.createSharedDataSpace(e.OuCalcSharedDataSpaceManager.SHARED_DATA_SPACE_ID);if(e.isNull(t)){throw e.XException.createRuntimeException(e.XStringUtils.concatenate2("Unable to create space with ID=",e.OuCalcSharedDataSpaceManager.SHARED_DATA_SPACE_ID))}}};e.OuCalcFormulaElementListConst={ATTRIBUTE_NAME:"fe-tab-name",COLLAPSE_ICON:"close-command-field",COLLAPSE_NAME:"collapse",EXPAND_ICON:"open-command-field",EXPAND_NAME:"expand",FUNCTIONS_ICON:"fpa/formula",FUNCTIONS_NAME:"fx",OBJECTS_ICON:"fpa/models",OBJECTS_NAME:"objs",OPERATIONS_ICON:"simulate",OPERATORS_NAME:"operators",VARIABLES_ICON:"fpa/input-control",VARIABLES_NAME:"variables",getFunctionTooltip:function(){return e.OuCalcFormulaEditorI18n.getLocalization().getText(e.OuCalcFormulaEditorI18n.FE_TAB_ICON_FUNCTIONS)},getObjectsTooltip:function(){return e.OuCalcFormulaEditorI18n.getLocalization().getText(e.OuCalcFormulaEditorI18n.FE_TAB_ICON_OBJECTS)},getOperatorsTooltip:function(){return e.OuCalcFormulaEditorI18n.getLocalization().getText(e.OuCalcFormulaEditorI18n.FE_TAB_ICON_OPERATORS)},getVariablesTooltip:function(){return"Input Control"}};e.OuCalcPanelItem=function(){};e.OuCalcPanelItem.prototype=new e.XObject;e.OuCalcPanelItem.prototype._ff_c="OuCalcPanelItem";e.OuCalcPanelItem.create=function(t,i){return e.OuCalcPanelItem.createExt(t,t,t,i,true,null,null,null)};e.OuCalcPanelItem.createExt=function(t,i,n,o,r,a,s,l){let u=new e.OuCalcPanelItem;u.setupInternal(t,i,n,o,r,a,s,l);return u};e.OuCalcPanelItem.createWithCategory=function(t,i,n){return e.OuCalcPanelItem.createExt(t,t,t,i,true,n,null,null)};e.OuCalcPanelItem.prototype.m_category=null;e.OuCalcPanelItem.prototype.m_displayName=null;e.OuCalcPanelItem.prototype.m_enabled=false;e.OuCalcPanelItem.prototype.m_id=null;e.OuCalcPanelItem.prototype.m_parentId=null;e.OuCalcPanelItem.prototype.m_technicalIdentifier=null;e.OuCalcPanelItem.prototype.m_tooltip=null;e.OuCalcPanelItem.prototype.m_uniqueKey=null;e.OuCalcPanelItem.prototype.compareTo=function(t){return e.XString.compare(this.m_displayName,t.getDisplayName())};e.OuCalcPanelItem.prototype.getCategory=function(){return this.m_category};e.OuCalcPanelItem.prototype.getDisplayName=function(){return this.m_displayName};e.OuCalcPanelItem.prototype.getDisplayText=function(e){return e.composeDisplayStrings(this.getId(),this.getDisplayName())};e.OuCalcPanelItem.prototype.getId=function(){return this.m_id};e.OuCalcPanelItem.prototype.getParentId=function(){return e.XOptional.ofNullable(this.m_parentId)};e.OuCalcPanelItem.prototype.getTechnicalIdentifier=function(){return this.m_technicalIdentifier};e.OuCalcPanelItem.prototype.getTooltip=function(){return this.m_tooltip};e.OuCalcPanelItem.prototype.getUniqueKey=function(){return this.m_uniqueKey};e.OuCalcPanelItem.prototype.isEnabled=function(){return this.m_enabled};e.OuCalcPanelItem.prototype.setupInternal=function(t,i,n,o,r,a,s,l){if(e.XStringUtils.isNullOrEmpty(i)){throw e.XException.createIllegalArgumentException("id must not be null or empty!")}if(e.XStringUtils.isNullOrEmpty(n)){throw e.XException.createIllegalArgumentException("Technical identifier must not be null or empty!")}this.m_uniqueKey=t;this.m_id=i;this.m_technicalIdentifier=n;this.m_displayName=o;this.m_parentId=l;this.m_enabled=r;this.m_category=a;this.m_tooltip=e.XOptional.ofNullable(s)};e.OuDefaultQmSettings=function(){};e.OuDefaultQmSettings.prototype=new e.XObject;e.OuDefaultQmSettings.prototype._ff_c="OuDefaultQmSettings";e.OuDefaultQmSettings.COMMERCIAL_MINUS_ENABLED="CommercialMinusEnabled";e.OuDefaultQmSettings.CREATE_HANA_DEFAULT_MEASURE_FILTER="CreateHanaDefaultMeasureFilter";e.OuDefaultQmSettings.FREEZE_TABLE_HEADERS="FreezeTableHeaders";e.OuDefaultQmSettings.HANA_TOTAL_ALIGNMENT_TOP="SetDefaultHanaTotalAlignmentTop";e.OuDefaultQmSettings.LOAD_COMMENTING_DOCUMENTS="LoadCommentingDocuments";e.OuDefaultQmSettings.PREACTIVATE_HANA_DEFAULT_HIERARCHY="PreActivateHanaDefaultHierarchy";e.OuDefaultQmSettings.SETUP_BW_DEFAULT_KEY_TYPES="SetupBWDefaultKeyTypes";e.OuDefaultQmSettings.SETUP_HANA_DEFAULT_MEASURE_ATTRIBUTES="SetupHanaDefaultMeasureAttributes";e.OuDefaultQmSettings.SET_ACTIVE_NODE_ALIGNMENT_INHERIT="SetAxisNodeAlignmentInherit";e.OuDefaultQmSettings.SET_SYNCHRONIZED_AXIS_READMODES="SetSynchronizedAxisReadModes";e.OuDefaultQmSettings.SHOW_EXIT_WIDGET="ShowExitWidget";e.OuDefaultQmSettings.SHOW_QUERY_DETAILS="ShowQueryDetails";e.OuDefaultQmSettings.create=function(t){let i=new e.OuDefaultQmSettings;i.loadConfiguration(t);return i};e.OuDefaultQmSettings.prototype.m_axisNodeAlignmentInherit=false;e.OuDefaultQmSettings.prototype.m_commercialMinusEnabled=false;e.OuDefaultQmSettings.prototype.m_createHanaDefaultMeasureFilter=false;e.OuDefaultQmSettings.prototype.m_defaultHanaTotalAlignmentTop=false;e.OuDefaultQmSettings.prototype.m_freezeTableHeaders=false;e.OuDefaultQmSettings.prototype.m_loadCommentingDocuments=false;e.OuDefaultQmSettings.prototype.m_preActivateHanaDefaultHierarchy=false;e.OuDefaultQmSettings.prototype.m_setupBwDefaultKeyTypes=false;e.OuDefaultQmSettings.prototype.m_setupHanaDefaultMeasureAttributes=false;e.OuDefaultQmSettings.prototype.m_showExitWidget=false;e.OuDefaultQmSettings.prototype.m_showQueryDetails=false;e.OuDefaultQmSettings.prototype.m_synchronizedAxisReadModes=false;e.OuDefaultQmSettings.prototype.isCommercialMinusEnabled=function(){return this.m_commercialMinusEnabled};e.OuDefaultQmSettings.prototype.isCreateHanaDefaultMeasureFilter=function(){return this.m_createHanaDefaultMeasureFilter};e.OuDefaultQmSettings.prototype.isFreezeTableHeaders=function(){return this.m_freezeTableHeaders};e.OuDefaultQmSettings.prototype.isLoadCommentingDocuments=function(){return this.m_loadCommentingDocuments};e.OuDefaultQmSettings.prototype.isPreActivateHanaDefaultHierarchy=function(){return this.m_preActivateHanaDefaultHierarchy};e.OuDefaultQmSettings.prototype.isSetAxisNodeAlignmentInherit=function(){return this.m_axisNodeAlignmentInherit};e.OuDefaultQmSettings.prototype.isSetDefaultHanaTotalAlignmentTop=function(){return this.m_defaultHanaTotalAlignmentTop};e.OuDefaultQmSettings.prototype.isSetSynchronizedAxisReadModes=function(){return this.m_synchronizedAxisReadModes};e.OuDefaultQmSettings.prototype.isSetupBwDefaultKeyTypes=function(){return this.m_setupBwDefaultKeyTypes};e.OuDefaultQmSettings.prototype.isSetupHanaDefaultMeasureAttributes=function(){return this.m_setupHanaDefaultMeasureAttributes};e.OuDefaultQmSettings.prototype.isShowExitWidget=function(){return this.m_showExitWidget};e.OuDefaultQmSettings.prototype.isShowQueryDetails=function(){return this.m_showQueryDetails};e.OuDefaultQmSettings.prototype.loadConfiguration=function(t){if(e.notNull(t)){this.m_loadCommentingDocuments=t.getBooleanByKeyExt(e.OuDefaultQmSettings.LOAD_COMMENTING_DOCUMENTS,false);this.m_showQueryDetails=t.getBooleanByKeyExt(e.OuDefaultQmSettings.SHOW_QUERY_DETAILS,false);this.m_showExitWidget=t.getBooleanByKeyExt(e.OuDefaultQmSettings.SHOW_EXIT_WIDGET,false);this.m_commercialMinusEnabled=t.getBooleanByKeyExt(e.OuDefaultQmSettings.COMMERCIAL_MINUS_ENABLED,false);this.m_freezeTableHeaders=t.getBooleanByKeyExt(e.OuDefaultQmSettings.FREEZE_TABLE_HEADERS,true);this.m_createHanaDefaultMeasureFilter=t.getBooleanByKeyExt(e.OuDefaultQmSettings.CREATE_HANA_DEFAULT_MEASURE_FILTER,false);this.m_defaultHanaTotalAlignmentTop=t.getBooleanByKeyExt(e.OuDefaultQmSettings.HANA_TOTAL_ALIGNMENT_TOP,false);this.m_setupHanaDefaultMeasureAttributes=t.getBooleanByKeyExt(e.OuDefaultQmSettings.SETUP_HANA_DEFAULT_MEASURE_ATTRIBUTES,false);this.m_setupBwDefaultKeyTypes=t.getBooleanByKeyExt(e.OuDefaultQmSettings.SETUP_BW_DEFAULT_KEY_TYPES,false);this.m_preActivateHanaDefaultHierarchy=t.getBooleanByKeyExt(e.OuDefaultQmSettings.PREACTIVATE_HANA_DEFAULT_HIERARCHY,false);this.m_axisNodeAlignmentInherit=t.getBooleanByKeyExt(e.OuDefaultQmSettings.SET_ACTIVE_NODE_ALIGNMENT_INHERIT,false);this.m_synchronizedAxisReadModes=t.getBooleanByKeyExt(e.OuDefaultQmSettings.SET_SYNCHRONIZED_AXIS_READMODES,false)}};e.OrcaConstants={DESC_1:"desc1",DESC_2:"desc2",DIMENSION_DISPLAY_INFO:"dimensionDisplayInfo",DIMENSION_ID:"dimensionId",DISPLAY_INFO_DESCRIPTION:"description",DISPLAY_INFO_ID:"id",DISPLAY_INFO_ID_AND_DESCRIPTION:"idAndDescription",DISPLAY_KEY:"displayKey",DISPLAY_NAME:"displayName",IS_INPUT_ENABLED:"isInputEnabled",IS_MANDATORY:"isMandatory",IS_USED_IN_DYNAMIC_FILTER:"isUsedInDynamicFilter",NAME:"name",OPERAND_1:"operand1",OPERAND_2:"operand2",OPERATOR:"operator",OPERATORS:"operators",SELECTED_DATA:"selectedData",SELECTION:"selection",SELECTION_MULTI:"multi",SELECTION_SINGLE:"single",SUPPORTS_MULTIPLE_VALUES:"supportsMultipleValues",URL_PARAM_AUTO_SUBMIT:"autoSubmit",URL_PARAM_AUTO_SUBMIT_WITH_VALUE:"autoSubmit=true",VALUE_DETAILS:"valueDetails",VALUE_TYPE:"valueType",VARIABLE_OBJ:"variableObj",VARIABLE_TYPE:"variableType",mapOrcaDisplayInfo:function(t,i){if(e.XStringUtils.isNotNullAndNotEmpty(t)){switch(t){case e.OrcaConstants.DISPLAY_INFO_ID:return e.FilterDisplayInfo.ID;case e.OrcaConstants.DISPLAY_INFO_DESCRIPTION:return e.FilterDisplayInfo.DESCRIPTION;case e.OrcaConstants.DISPLAY_INFO_ID_AND_DESCRIPTION:return e.FilterDisplayInfo.ID_AND_DESCRIPTION;default:break}}return i}};e.VdOrcaNativeParams=function(){};e.VdOrcaNativeParams.prototype=new e.XObject;e.VdOrcaNativeParams.prototype._ff_c="VdOrcaNativeParams";e.VdOrcaNativeParams.create=function(){let t=new e.VdOrcaNativeParams;t.linkTooltips=e.XHashMapByString.create();t.linkage=e.XHashMapByString.create();t.linkSkipSubmit=e.XList.create();t.m_widgetLevelWarnings=e.XList.create();return t};e.VdOrcaNativeParams.prototype.analyticApp=false;e.VdOrcaNativeParams.prototype.analyticVarProcessor=null;e.VdOrcaNativeParams.prototype.customStoryButtonText=null;e.VdOrcaNativeParams.prototype.datasetVariables=null;e.VdOrcaNativeParams.prototype.datasetVariablesButtonText=null;e.VdOrcaNativeParams.prototype.datasetVariablesEditable=false;e.VdOrcaNativeParams.prototype.dateDisplayFormat=null;e.VdOrcaNativeParams.prototype.dimensionDisplayInfo=null;e.VdOrcaNativeParams.prototype.disableExitVariables=false;e.VdOrcaNativeParams.prototype.disableVariablePersistenceOptions=false;e.VdOrcaNativeParams.prototype.displayFactory=null;e.VdOrcaNativeParams.prototype.filterVariables=null;e.VdOrcaNativeParams.prototype.forcePrompt=false;e.VdOrcaNativeParams.prototype.forcePromptExec=false;e.VdOrcaNativeParams.prototype.infoText=null;e.VdOrcaNativeParams.prototype.isPlanningSequence=false;e.VdOrcaNativeParams.prototype.isPublication=false;e.VdOrcaNativeParams.prototype.isStoryUsingDynamicVariables=false;e.VdOrcaNativeParams.prototype.isWidget=false;e.VdOrcaNativeParams.prototype.isWidgetUsingDynamicVariables=false;e.VdOrcaNativeParams.prototype.linkSkipSubmit=null;e.VdOrcaNativeParams.prototype.linkTooltips=null;e.VdOrcaNativeParams.prototype.linkVarHelper=null;e.VdOrcaNativeParams.prototype.linkVarSubmitHandling=null;e.VdOrcaNativeParams.prototype.linkage=null;e.VdOrcaNativeParams.prototype.linkedModelsText=null;e.VdOrcaNativeParams.prototype.linkedVariables=null;e.VdOrcaNativeParams.prototype.m_widgetLevelWarnings=null;e.VdOrcaNativeParams.prototype.preSetVariables=null;e.VdOrcaNativeParams.prototype.preSetVariablesEditable=false;e.VdOrcaNativeParams.prototype.presetVariablesButtonText=null;e.VdOrcaNativeParams.prototype.presetVariablesSelected=false;e.VdOrcaNativeParams.prototype.queryManager=null;e.VdOrcaNativeParams.prototype.readOnly=false;e.VdOrcaNativeParams.prototype.showChartVariables=false;e.VdOrcaNativeParams.prototype.showVariantSection=false;e.VdOrcaNativeParams.prototype.singleVariableKey=null;e.VdOrcaNativeParams.prototype.storyEditable=false;e.VdOrcaNativeParams.prototype.title=null;e.VdOrcaNativeParams.prototype.useTableMessage=false;e.VdOrcaNativeParams.prototype.varProcessor=null;e.VdOrcaNativeParams.prototype.variablesToDisplay=null;e.VdOrcaNativeParams.prototype.releaseObject=function(){this.title=null;this.queryManager=null;this.varProcessor=null;e.XObject.prototype.releaseObject.call(this)};e.OuMeasureInputDataProvider=function(){};e.OuMeasureInputDataProvider.prototype=new e.XObject;e.OuMeasureInputDataProvider.prototype._ff_c="OuMeasureInputDataProvider";e.OuMeasureInputDataProvider.prototype.m_queryModel=null;e.OuMeasureInputDataProvider.prototype.findMeasureByDisplayName=function(t){return e.XStream.of(this.getMeasures()).find(i=>{let n=e.XString.replace(e.XString.replace(e.QueryPresentationUtils.DESCRIPTION.getDisplayValueByType(i),"\r",""),"\n","");return e.XString.isEqual(t,n)})};e.OuMeasureInputDataProvider.prototype.findMeasureByName=function(t){return e.XStream.of(this.getMeasures()).find(i=>e.XString.isEqual(t,i.getName()))};e.OuMeasureInputDataProvider.prototype.getMeasures=function(){let t=this.getMemberDimension();if(e.isNull(t)){return e.XList.create()}let i=t.getAllStructureMembers();return e.XStream.of(i).filter(t=>t.getResultVisibility()!==e.ResultVisibility.HIDDEN).collect(e.XStreamCollector.toList())};e.OuMeasureInputDataProvider.prototype.getOptionalDimension=function(t){if(e.notNull(t)){return e.XOptional.of(t)}return e.XOptional.empty()};e.OuMeasureInputDataProvider.prototype.setupInternal=function(t){e.XObjectExt.assertNotNullExt(t,"Query model null");this.assertQueryModelType(t);this.m_queryModel=t};e.OuMeasureInputDataProviderFactory={create:function(t){if(t.isUniversalAccountModel()){return e.OuMeasureInputDataProviderUAM.create(t)}else if(t.isAccountModel()){return e.OuMeasureInputDataProviderAccount.create(t)}else{return e.OuMeasureInputDataProviderMeasureModel.create(t)}},createWithStructure:function(t,i){if(t.isUniversalAccountModel()){return e.OuMeasureInputDataProviderUAM.createWithStructure(t,i)}else if(t.isAccountModel()){return e.OuMeasureInputDataProviderAccount.create(t)}else{return e.OuMeasureInputDataProviderMeasureModel.createWithStructure(t,i)}}};e.UiConvenienceCmdsMenuFactory=function(){};e.UiConvenienceCmdsMenuFactory.prototype=new e.XObject;e.UiConvenienceCmdsMenuFactory.prototype._ff_c="UiConvenienceCmdsMenuFactory";e.UiConvenienceCmdsMenuFactory.prototype.newInstance=function(){return e.UiConvenienceCmdsMenu.create()};e.UiRedoButtonFactory=function(){};e.UiRedoButtonFactory.prototype=new e.XObject;e.UiRedoButtonFactory.prototype._ff_c="UiRedoButtonFactory";e.UiRedoButtonFactory.prototype.newInstance=function(){return e.UiRedoButton.create()};e.UiUndoButtonFactory=function(){};e.UiUndoButtonFactory.prototype=new e.XObject;e.UiUndoButtonFactory.prototype._ff_c="UiUndoButtonFactory";e.UiUndoButtonFactory.prototype.newInstance=function(){return e.UiUndoButton.create()};e.DialogGridParser={DEFAULT_SEPARATOR_SYMBOLS:null,NEW_LINE_SYMBOL:"\n",TAB_SYMBOL:"\t",convertFromExcel:function(t){let i=e.XStringUtils.concatenate2(e.DialogGridFormat.SEMICOLON.getSeparatorSymbol(),e.DialogGridFormat.SEMICOLON.getDecoratorSymbol());return e.XString.replace(t,e.DialogGridParser.TAB_SYMBOL,i)},convertToExcel:function(t){let i=e.XString.replace(e.DialogGridParser.removeSeparatorSpaces(t),e.DialogGridFormat.SEMICOLON.getSeparatorSymbol(),e.DialogGridParser.TAB_SYMBOL);i=e.XString.replace(i,e.DialogGridFormat.COMMA.getSeparatorSymbol(),e.DialogGridParser.TAB_SYMBOL);return i},deserialize:function(t,i){let n=e.XList.create();if(e.XStringUtils.isNullOrEmpty(i)){return n}let o=0;let r=e.XString.size(i);while(o<r){let a=r;let s=e.XString.indexOfFrom(i,e.DialogGridParser.NEW_LINE_SYMBOL,o);if(s!==-1){a=s}let l=e.XList.create();while(o<a){let n=a;for(let r=0;r<t.size();r++){let a=e.XString.indexOfFrom(i,t.get(r),o);if(a!==-1){n=e.XMath.min(n,a)}}let r=e.XString.trim(e.XString.substring(i,o,n));if(e.XStringUtils.isNotNullAndNotEmpty(r)){l.add(r)}o=n+1}n.add(l);o=a+1}return n},deserializeWithDefault:function(t){return e.DialogGridParser.deserialize(e.DialogGridParser.DEFAULT_SEPARATOR_SYMBOLS,t)},removeSeparatorSpaces:function(t){if(e.XStringUtils.isNullOrEmpty(t)){return""}let i=e.XStringBuffer.create();i.append(t);let n=e.DialogGridParser.DEFAULT_SEPARATOR_SYMBOLS;for(let t=0;t<n.size();t++){let o=n.get(t);let r=i.toString();let a=0;let s=e.XString.size(r);i.clear();while(a<s){let t=e.XString.indexOfFrom(r,o,a);if(t!==-1){let n=e.XString.trim(e.XString.substring(r,a,t));i.append(n);i.append(o);a=t+1}else{i.append(e.XString.trim(e.XString.substring(r,a,s)));a=s}}}return i.toString()},serialize:function(t,i,n){let o=e.XStringBuffer.create();let r=n.size();for(let a=0;a<r;a++){let s=n.get(a);let l=s.size();for(let e=0;e<l;e++){o.append(s.get(e));if(e+1<l){o.append(t).append(i)}}if(a+1<r){o.append(e.DialogGridParser.NEW_LINE_SYMBOL)}}return o.toString()},serializeWithFormat:function(t,i){return e.DialogGridParser.serialize(t.getSeparatorSymbol(),t.getDecoratorSymbol(),i)},staticSetup:function(){e.DialogGridParser.DEFAULT_SEPARATOR_SYMBOLS=e.XList.create();e.DialogGridParser.DEFAULT_SEPARATOR_SYMBOLS.add(e.DialogGridFormat.COMMA.getSeparatorSymbol());e.DialogGridParser.DEFAULT_SEPARATOR_SYMBOLS.add(e.DialogGridFormat.SEMICOLON.getSeparatorSymbol());e.DialogGridParser.DEFAULT_SEPARATOR_SYMBOLS.add(e.DialogGridFormat.EXCEL.getSeparatorSymbol())}};e.OlapUiDimensionUtil={getMember:function(t){if(!e.OlapUiDimensionUtil.isMember(t)){return null}let i=e.OlapUiDimensionUtil.getMemberNode(t);if(e.notNull(i)){return i.getDimensionMember()}return t},getMemberNode:function(t){if(e.notNull(t)&&t.getOlapComponentType().isTypeOf(e.MemberType.TUPLE_ELEMENT)){return t}return null},isAttribute:function(t){return e.notNull(t)&&!t.isReleased()&&t.getOlapComponentType().isTypeOf(e.OlapComponentType.ATTRIBUTE)},isDimension:function(t){return e.notNull(t)&&!t.isReleased()&&t.getOlapComponentType().isTypeOf(e.OlapComponentType.ABSTRACT_DIMENSION)},isMember:function(t){return e.notNull(t)&&!t.isReleased()&&t.getOlapComponentType().isTypeOf(e.MemberType.ABSTRACT_MEMBER)&&t.getDimension()!==null},isMemberNode:function(t){return e.notNull(t)&&!t.isReleased()&&t.getOlapComponentType().isTypeOf(e.MemberType.TUPLE_ELEMENT)}};e.OlapUiFeatureToggle={DATA_ANALYZER_HIGHLIGHT_MEMBER_CELLS:"Sac.FF_DATA_ANALYZER_TABLE_MEMBER_HIGHLIGHTING",DATA_ANALYZER_READ_ONLY_MODE:"Sac.FF_DATA_ANALYZER_READ_MODE",DATA_ANALYZER_STORY_LINKAGE_V1:"Sac.FF_DATA_ANALYZER_STORY_LINKAGE_V1",DATA_ANALYZER_TABLE_MIXED_UNITS:"Sac.FF_DATA_ANALYZER_TABLE_MIXED_UNITS",MA_SUPPORT_BI_USER:"Sac.MULTI_ACTIONS_SUPPORT_BI_USER",MEMBERSELECTOR_STORY_FILTER_OPTIMIZATION_FOR_DESKTOP:"Sac.ABSTRACTION_API_MEMBERSELECTOR_STORY_FILTER_OPTIMIZATION_FOR_DESKTOP",VD_ALIGN_BW_HANA_DYNAMIC_VARIABLES:"Sac.FF_VARIABLE_DIALOG_ALIGN_BW_HANA_DYNAMIC_VARIABLES",VD_REDESIGN_MORE_SETTINGS:"Sac.FF_VARIABLE_DIALOG_REDESIGN_MORE_SETTINGS",VD_REDESIGN_PHASE2:"Sac.FF_VARIABLE_DIALOG_REDESIGN_PHASE2",VD_REDESIGN_PHASE2_EMBEDDED:"Sac.FF_VARIABLE_DIALOG_REDESIGN_PHASE2_EMBEDDED"};e.OlapUiMultiRequestHelper=function(){};e.OlapUiMultiRequestHelper.prototype=new e.XObject;e.OlapUiMultiRequestHelper.prototype._ff_c="OlapUiMultiRequestHelper";e.OlapUiMultiRequestHelper.createRequestHelper=function(t,i){let n=new e.OlapUiMultiRequestHelper;n.setupHelper(t,i);return n};e.OlapUiMultiRequestHelper.prototype.m_callbackCount=0;e.OlapUiMultiRequestHelper.prototype.m_errorResult=null;e.OlapUiMultiRequestHelper.prototype.m_inStartup=false;e.OlapUiMultiRequestHelper.prototype.m_originalListener=null;e.OlapUiMultiRequestHelper.prototype.m_originalObject=null;e.OlapUiMultiRequestHelper.prototype.m_requestCount=0;e.OlapUiMultiRequestHelper.prototype.finishProgress=function(){this.m_inStartup=false};e.OlapUiMultiRequestHelper.prototype.getErrorResult=function(){return this.m_errorResult};e.OlapUiMultiRequestHelper.prototype.getOriginalListener=function(){return this.m_originalListener};e.OlapUiMultiRequestHelper.prototype.getOriginalObject=function(){return this.m_originalObject};e.OlapUiMultiRequestHelper.prototype.getRequestCount=function(){return this.m_requestCount};e.OlapUiMultiRequestHelper.prototype.increaseCallbackCount=function(){this.m_callbackCount=this.m_callbackCount+1};e.OlapUiMultiRequestHelper.prototype.increaseRequestCount=function(){this.m_requestCount=this.m_requestCount+1};e.OlapUiMultiRequestHelper.prototype.isDone=function(){return!this.isInStartup()&&this.m_callbackCount>=this.m_requestCount};e.OlapUiMultiRequestHelper.prototype.isInStartup=function(){return this.m_inStartup};e.OlapUiMultiRequestHelper.prototype.releaseObject=function(){this.m_originalListener=null;this.m_originalObject=null;this.m_errorResult=null;e.XObject.prototype.releaseObject.call(this)};e.OlapUiMultiRequestHelper.prototype.setErrorResult=function(e){this.m_errorResult=e};e.OlapUiMultiRequestHelper.prototype.setupHelper=function(e,t){this.m_originalListener=e;this.m_originalObject=t;this.m_inStartup=true};e.OlapUiValueHelpNodeComparator=function(){};e.OlapUiValueHelpNodeComparator.prototype=new e.XObject;e.OlapUiValueHelpNodeComparator.prototype._ff_c="OlapUiValueHelpNodeComparator";e.OlapUiValueHelpNodeComparator.create=function(t){let i=new e.OlapUiValueHelpNodeComparator;i.m_isHierarchy=t;return i};e.OlapUiValueHelpNodeComparator.prototype.m_isHierarchy=false;e.OlapUiValueHelpNodeComparator.prototype.compare=function(t,i){let n=this.getKeyFieldValue(t).getValue();let o=this.getKeyFieldValue(i).getValue();if(n.getValueType().isNumber()){let t=e.XConverterUtils.getDouble(n)-e.XConverterUtils.getDouble(o);return t<0?-1:t>0?1:0}return e.XString.compare(n.getStringRepresentation(),o.getStringRepresentation())};e.OlapUiValueHelpNodeComparator.prototype.getKeyFieldValue=function(e){let t=this.m_isHierarchy?e.getDimension().getHierarchyKeyField():e.getDimension().getFlatKeyField();return e.getDimensionMember().getFieldValue(t)};e.OlapUiMessageCenter={getInaErrorCode:function(t){if(e.notNull(t)){let i=t.getFirstError();if(e.notNull(i)){return i.getCode()}}return 0},getInaErrorMessage:function(t,i){if(e.notNull(t)&&t.getServerStatusCode()===e.HttpStatusCode.SC_OK){let i=t.getFirstError();if(e.notNull(i)&&e.XStringUtils.isNotNullAndNotEmpty(i.getText())){return i.getText()}}return i}};e.QueryDesignerUtils={canBeAggregated:function(t){let i=t.getDimensionType();if(i.isTypeOf(e.DimensionType.CALCULATED_DIMENSION)){return true}if(t.getModelCapabilities().supportsCustomDimension2MemberMetadata()&&t.isStructure()&&!t.isMeasureStructure()){return true}let n=t.getQueryModel().getVersionDimension()===t;let o=i.isTypeOf(e.DimensionType.SECONDARY_STRUCTURE);return t.canBeAggregated()&&!n&&!o},canBeRemoved:function(t){if(!e.QueryDesignerUtils.canBeAggregated(t)){let e=t.getConvenienceCommands().getMemberVisibilityByFilter(t);let i=e.getFirstObject();return i.size()===1}return true},createFilterFromLists:function(t,i,n){t.getQueryManager().queueEventing();let o=t.getQueryModel().getFilter().getDynamicFilter();let r=o.getCartesianProduct();if(e.isNull(r)){r=e.QFactory.createFilterCartesianProduct(o);o.setCartesianProduct(r)}r.removeByDimensionName(t.getName());if(!e.XCollectionUtils.hasElements(i)&&!e.XCollectionUtils.hasElements(n)){t.getQueryManager().resumeEventing();return}let a=r.getCartesianListWithDefault(t);a.setHierarchyInfo(t.isHierarchyActive()?t.getHierarchyName():null,t.getHierarchyDueDate(),t.getHierarchyVersion());for(let n=0;n<i.size();n++){let o=a.addNewCartesianElement();o.setComparisonOperator(e.ComparisonOperator.EQUAL);o.getLow().setDimensionMember(t.getDimensionMember(i.get(n)))}for(let i=0;i<n.size();i++){let o=a.addNewCartesianElement();o.setComparisonOperator(e.ComparisonOperator.EQUAL);o.setSetSign(e.SetSign.EXCLUDING);o.getLow().setDimensionMember(t.getDimensionMember(n.get(i)))}t.getQueryManager().resumeEventing()},getMembersOfDimensions:function(t){let i=e.XHashMapByString.create();let n=e.XPromiseList.create();for(let o=0;o<t.size();o++){let r=t.get(o);n.add(r.getMemberManager().getMembers());i.put(r.getName(),e.XListOfNameObject.create())}return e.XPromise.allSettled(n).then(t=>{for(let o=0;o<t.size();o++){if(n.get(o).getState()===e.XPromiseState.FULFILLED){let n=t.get(o);let r=n.getValue();if(e.XCollectionUtils.hasElements(r)){i.put(r.get(0).getDimension().getName(),r)}}}return i},null)},getOppositeAxis:function(t){return t===e.AxisType.ROWS?e.AxisType.COLUMNS:e.AxisType.ROWS},getStructureDimensions:function(t){let i=t.getMeasureDimension();let n=t.getDimensionByType(e.DimensionType.SECONDARY_STRUCTURE);let o=t.getAccountDimension();let r=e.XList.create();e.XCollectionUtils.addIfNotNull(r,i);e.XCollectionUtils.addIfNotNull(r,n);e.XCollectionUtils.addIfNotNull(r,o);return r},openSingleMemberFilterDialog:function(t,i,n,o){let r=e.FilterDialogProgramRunnerFactory.createForDimensionFilter(t.getProcess(),n.getQueryManager(),n.getName(),i);let a=e.PrFactory.createStructure();a.putBoolean(e.FilterDialog.PARAM_SELECTION_REQUIRED,true);r.setConfigStructure(a);r.getProgramStartData().putXObject(e.FilterDialog.PRG_DATA_LISTENER_CLOSE,o);r.runProgram()},removeDimension:function(t){if(!t.supportsAxis(e.AxisType.FREE)){return}if(e.QueryDesignerUtils.canBeRemoved(t)){e.QueryDesignerUtils.removeDimensionInternal(t)}},removeDimensionInternal:function(e){let t=e.getConvenienceCommands();t.clearNonMainFieldsFromResultSet(null,e.getName());t.moveDimensionToFree(e.getName());t.removeInvalidSortOperations();t.removeInvalidClientConditions()},setFilterForDimension:function(t,i,n){let o=e.XList.create();if(i.size()===n.size()){e.QueryDesignerUtils.createFilterFromLists(t,o,o);return}if(n.size()===0){let n=e.XStream.of(i).collect(e.XStreamCollector.toListOfString(e=>e.getDimensionMember().getName()));e.QueryDesignerUtils.createFilterFromLists(t,o,n);return}n.sortByDirection(e.XSortDirection.ASCENDING);if(!t.isHierarchyActive()){e.QueryDesignerUtils.setFilterForDimensionFlat(t,i,n)}else{let o=e.XList.create();let r=e.XList.create();for(let t=0;t<i.size();t++){let a=i.get(t);if(a.getParentNode()!==null){continue}let s=false;if(n.containsKey(a.getDimensionMember().getName())){s=true;o.add(a.getDimensionMember().getName())}e.QueryDesignerUtils.setFilterForDimensionHierarchical(a.getChildren(),n,o,r,s)}e.QueryDesignerUtils.createFilterFromLists(t,o,r)}},setFilterForDimensionFlat:function(t,i,n){let o=e.XList.create();let r=e.XList.create();let a=n.size()<=i.size()/2;if(a){e.XCollectionUtils.forEach(n,e=>{o.add(e.getName())})}else{for(let e=0;e<i.size();e++){let t=i.get(e);if(!n.containsKey(t.getDimensionMember().getName())){r.add(t.getDimensionMember().getName())}}let o=t.getCustomStructureMembers().getIterator();while(o.hasNext()){let t=o.next();if(t.getResultVisibility()!==null&&t.getResultVisibility().isTypeOf(e.ResultVisibility.HIDDEN)){r.add(t.getName())}}}e.QueryDesignerUtils.createFilterFromLists(t,o,r)},setFilterForDimensionHierarchical:function(t,i,n,o,r){if(!e.XCollectionUtils.hasElements(t)){return}for(let a=0;a<t.size();a++){let s=t.get(a);let l=i.contains(s);if(!r&&l){n.add(s.getDimensionMember().getName())}else if(r&&!l){o.add(s.getDimensionMember().getName())}e.QueryDesignerUtils.setFilterForDimensionHierarchical(s.getChildren(),i,n,o,l)}},setMemberOrder:function(t,i){let n=e.XStream.of(i).collect(e.XStreamCollector.toListOfString(e=>e.getDimensionMember().getName()));let o=t.getQueryModel().getSortingManager();o.removeDimensionSorting(t);o.removeFieldSorting(t.getKeyField());o.applyCustomSort(t,t.getKeyField(),n,e.XSortDirection.ASCENDING,e.CustomSortPosition.TOP,true)},supportsMemberSort:function(e){let t=e.getModelCapabilities();return t.supportsCustomSort()||t.supportsCustomMeasureSortOrder()&&e.isMeasureStructure()||t.supportsCustomMemberKeySortOrder()&&!e.isMeasureStructure()||t.supportsCustomSortingExtended()&&e.isStructure()}};e.OlapUiDisplayFactory=function(){};e.OlapUiDisplayFactory.prototype=new e.XObject;e.OlapUiDisplayFactory.prototype._ff_c="OlapUiDisplayFactory";e.OlapUiDisplayFactory.createFactoryForDialog=function(t){let i=new e.OlapUiDisplayFactory;i.setupFactory(e.DialogDisplayMode.DIALOG,t,null,null);return i};e.OlapUiDisplayFactory.createFactoryForNavigation=function(t,i){let n=new e.OlapUiDisplayFactory;n.setupFactory(e.DialogDisplayMode.NAVIGATION,t,i,null);return n};e.OlapUiDisplayFactory.createFactoryForPage=function(t){let i=new e.OlapUiDisplayFactory;i.setupFactory(e.DialogDisplayMode.PAGE,null,null,t);return i};e.OlapUiDisplayFactory.prototype.m_container=null;e.OlapUiDisplayFactory.prototype.m_mode=null;e.OlapUiDisplayFactory.prototype.m_page=null;e.OlapUiDisplayFactory.prototype.m_uiManager=null;e.OlapUiDisplayFactory.prototype.getInstance=function(){if(this.m_mode===e.DialogDisplayMode.NAVIGATION){let t=this.m_container.pushNewPage();return e.OlapUiNavigationHandle.createNavigationHandle(this.m_container,t)}if(this.m_mode===e.DialogDisplayMode.PAGE){return e.OlapUiPageHandle.createPageHandle(this.m_page)}return e.OlapUiDialogHandle.createDialogHandle(this.m_uiManager.newControl(e.UiType.DIALOG))};e.OlapUiDisplayFactory.prototype.releaseObject=function(){this.m_mode=null;this.m_uiManager=null;this.m_container=e.XObjectExt.release(this.m_container);this.m_page=null;e.XObject.prototype.releaseObject.call(this)};e.OlapUiDisplayFactory.prototype.setupFactory=function(t,i,n,o){this.m_mode=t;this.m_uiManager=i;if(t===e.DialogDisplayMode.NAVIGATION){if(e.notNull(this.m_uiManager)){this.m_container=this.m_uiManager.newControl(e.UiType.NAVIGATION_CONTAINER);this.m_container.useMaxSpace();n.setRoot(this.m_container)}}if(t===e.DialogDisplayMode.PAGE){this.m_page=o}};e.ComplexFilterApplicationUtil={LAYER_COMPLEX_FILTER_MISC:"MiscComplexFilter",clearComplexContextFilter:function(t){let i=e.isNull(t)?null:t.getFilter();if(e.notNull(i)){i.linkFilter(e.ComplexFilterApplicationUtil.LAYER_COMPLEX_FILTER_MISC,null)}},getOrCreateUnbalancedTupleFilter:function(t,i){let n=e.isNull(t)?null:t.getFilter();let o=null;if(e.notNull(n)){let r=n.getLinkedFilter(e.ComplexFilterApplicationUtil.LAYER_COMPLEX_FILTER_MISC);if(e.isNull(r)){r=e.QFactory.createFilterExpression(t.getContext(),n);r.setPreserveOnRepoSerialization(true);n.linkFilter(e.ComplexFilterApplicationUtil.LAYER_COMPLEX_FILTER_MISC,r)}let a=r.getFilterRootElement();if(i===e.SetSign.INCLUDING){if(e.notNull(a)&&a.getOlapComponentType()===e.FilterComponentType.OR){o=a;o.clear()}else{o=e.QFactory.createFilterOr(t);r.setComplexRoot(o)}}else{if(e.notNull(a)&&a.getOlapComponentType()===e.FilterComponentType.NOT){let t=a.getChild();if(e.notNull(t)&&t.getOlapComponentType()===e.FilterComponentType.OR){o=t;o.clear()}}else{let i=e.QFactory.createFilterNot(t);o=e.QFactory.createFilterOr(t);i.setChild(o);r.setComplexRoot(i)}}}return o},setupComplexContextFilter:function(t,i,n){let o=e.ComplexFilterApplicationUtil.getOrCreateUnbalancedTupleFilter(t,n);for(let n=0;n<i.size();n++){let r=i.get(n);let a=r.getFirstTuple();let s=e.QFactory.createFilterAnd(t);for(let i=0;i<a.size();i++){let n=a.getTupleElementAt(i);let o=n.getDimension();if(!o.isStructure()){let i=e.QFactory.createFilterOperation(t.getContext(),o.getKeyField());i.setConvertToFlatFilter(true);if(o.isHierarchyActive()){i.setHierarchyInfo(o.getHierarchyName(),o.getHierarchyDueDate(),o.getHierarchyVersion())}let r=n.getDimensionMember();i.getLow().setDimensionMember(r);let a=r.getDimensionMemberNameValueException()===e.ValueException.NULL_VALUE;i.setComparisonOperator(a?e.ComparisonOperator.IS_NULL:e.ComparisonOperator.EQUAL);s.add(i)}if(n===r){break}}o.add(s)}}};e.MemberFilterApplicationUtil={addDimensionMemberFilter:function(t,i,n,o,r,a){let s=false;let l=t.getCartesianProduct().getCartesianList(i);if(e.notNull(l)){l.setHierarchyInfo(i.isHierarchyActive()?i.getHierarchyName():null,i.getHierarchyDueDate(),i.getHierarchyVersion());if(o===e.SetSign.EXCLUDING&&e.XCollectionUtils.hasElements(l)){let t=e.XStream.of(l).find(t=>t.getSetSign()===e.SetSign.INCLUDING&&e.XString.isEqual(t.getLow().getString(),n));if(t.isPresent()){l.removeElement(t.get())}}if(e.MemberFilterApplicationUtil.checkDimensionFilterCapabilityForSignAndOperator(i,o,e.ComparisonOperator.EQUAL)){let t=l.addNewCartesianElement();let u=a.getDimensionMemberNameValueException()===e.ValueException.NULL_VALUE;t.setComparisonOperator(u?e.ComparisonOperator.IS_NULL:e.ComparisonOperator.EQUAL);let p=r.getTextField();let m=r.getDisplayKeyField();let c=i.getTextField();let d=i.getDisplayKeyField();t.setSetSign(o);let g;if(e.notNull(p)&&e.notNull(c)){g=a.getFieldValue(p);if(e.notNull(g)&&g.hasValue()){l.addSupplementField(c);t.getLow().addSupplementValue(c.getName(),g.getValue().getStringRepresentation())}}if(e.notNull(m)&&e.notNull(d)){g=a.getFieldValue(m);if(e.notNull(g)&&g.hasValue()){l.addSupplementField(d);let e=m.getValueType().isDateTime()&&g.getFormattedValue()!==null?g.getFormattedValue():g.getValue().getStringRepresentation();t.getLow().addSupplementValue(m.getName(),e)}}if(i===r){t.getLow().setDimensionMember(a)}else{t.getLow().setValue(e.XStringValue.create(n))}s=true}}return s},checkDimensionFilterCapabilityForSignAndOperator:function(t,i,n){let o=e.isNull(t)?null:t.getFilterCapabilities();let r=e.isNull(o)?null:o.getFilterCapabilitiesByField(t.getKeyField());let a=e.isNull(r)?null:r.getSupportedComparisonOperators(i);return e.notNull(a)&&a.contains(n)},filterOnSelection:function(t,i,n,o,r){let a;let s=t.getConvenienceCommands();let l;let u=null;let p;let m;let c=t.getFilter().getDynamicFilter();c.queueEventing();for(a=0;a<i.size();a++){let o=i.get(a);l=o.getDimension();if(l.isUniversalDisplayHierarchyDimension()){p=o.getUdhKey();if(e.notNull(p)){m=t.getDimensionByName(p.getDrillGroupDimensionName());e.MemberFilterApplicationUtil.removeDimensionMemberFilter(c,m,n)}}else{e.MemberFilterApplicationUtil.removeDimensionMemberFilter(c,l,n)}}let d=-1;let g=e.XList.create();for(a=0;a<i.size();a++){let o=i.get(a);l=o.getDimension();if(l.isUniversalDisplayHierarchyDimension()){p=o.getUdhKey();if(e.notNull(p)){m=t.getDimensionByName(p.getDrillGroupDimensionName());if(e.MemberFilterApplicationUtil.addDimensionMemberFilter(c,m,p.getHierarchyKey(),n,l,o)){e.XCollectionUtils.addIfNotPresent(g,m)}}}else if(e.MemberFilterApplicationUtil.addDimensionMemberFilter(c,l,o.getName(),n,l,o)){e.XCollectionUtils.addIfNotPresent(g,l)}}if(o&&e.XCollectionUtils.hasElements(g)){for(a=0;a<g.size();a++){l=g.get(a);if(d===-1){d=l.getAxis().getIndex(l)}else{d=e.XMath.min(d,l.getAxis().getIndex(l))}u=l.getAxisType();if((l.getAxisType()===e.AxisType.ROWS||l.getAxisType()===e.AxisType.COLUMNS)&&l.supportsAxis(e.AxisType.FREE)){s.clearNonMainFieldsFromResultSet(null,l.getName());s.moveDimensionToAxis(l.getName(),e.AxisType.FREE);s.removeInvalidSortOperations()}}if(e.notNull(r)&&e.notNull(u)){s.moveDimensionOnAxisTo(r.getName(),u,d)}}c.resumeEventing()},isMemberFilterable:function(t,i,n){let o=i.getDimension();let r=null;let a;if(o.isUniversalDisplayHierarchyDimension()){let t=i.getUdhKey();if(e.notNull(t)){let e=t.getDrillGroupDimensionName();a=t.getHierarchyKey();r=o.getQueryModel().getDimensionByName(e)}else{a=null}}else{r=o;a=i.getName()}let s;if(e.notNull(r)&&!r.isHierarchyActive()&&n===e.SetSign.EXCLUDING){let i=t.getFilter().getDynamicFilter().getCartesianProduct();s=e.isNull(i)?null:i.getCartesianList(r);if(e.XCollectionUtils.hasElements(s)){if(e.XStream.of(s).find(t=>t.getSetSign()===e.SetSign.INCLUDING&&e.XString.isEqual(t.getLow().getString(),a)).isPresent()){return true}}}let l=e.isNull(r)?null:r.getFilterCapabilities();let u=e.isNull(l)?null:l.getFilterCapabilitiesByField(r.getKeyField());let p=e.isNull(u)?null:u.getSupportedComparisonOperators(n);return e.notNull(p)&&p.contains(e.ComparisonOperator.EQUAL)},removeDimensionMemberFilter:function(t,i,n){if(e.MemberFilterApplicationUtil.checkDimensionFilterCapabilityForSignAndOperator(i,n,e.ComparisonOperator.EQUAL)){let o=t=>t.getSetSign()===e.SetSign.INCLUDING;let r=t.getCartesianProductWithDefault().getCartesianListWithDefault(i);if(n===e.SetSign.INCLUDING){e.XCollectionUtils.removeIf(r,o)}}}};e.OuHorizonDataSpaceConventions={CUSTOM_PROVIDER_KEY_TAG:"OuHorizonDataSpaceConventions.customProviderKey",SPACE_ALL_PROVIDER_IDS:"allProviderIds",addDataProvider:function(t,i){let n=e.OuHorizonDataSpaceConventions.getDataProviderKey(i);t.putXObject(n,i);let o=e.OuHorizonDataSpaceConventions.getAllDataProviderIdsInternal(t);o.add(n);t.putXObject(e.OuHorizonDataSpaceConventions.SPACE_ALL_PROVIDER_IDS,o)},addDataProviderWithKey:function(t,i,n){i.getTagging().put(e.OuHorizonDataSpaceConventions.CUSTOM_PROVIDER_KEY_TAG,n);t.putXObject(n,i);let o=e.OuHorizonDataSpaceConventions.getAllDataProviderIdsInternal(t);o.add(n);t.putXObject(e.OuHorizonDataSpaceConventions.SPACE_ALL_PROVIDER_IDS,o)},getAllDataProvider:function(t){let i=e.OuHorizonDataSpaceConventions.getAllDataProviderIds(t);return e.XStream.ofString(i).map(e=>t.getXObjectByKey(e.getString())).collect(e.XStreamCollector.toList())},getAllDataProviderIds:function(t){return e.OuHorizonDataSpaceConventions.getAllDataProviderIdsInternal(t)},getAllDataProviderIdsInternal:function(t){let i=t.getXObjectByKey(e.OuHorizonDataSpaceConventions.SPACE_ALL_PROVIDER_IDS);if(e.notNull(i)){return i}return e.XHashSetOfString.create()},getDataProvider:function(t,i){let n=e.OuHorizonDataSpaceConventions.getAllDataProviderIds(t);if(n.contains(i)){return t.getXObjectByKey(i)}return null},getDataProviderKey:function(t){let i=t.getTagging().getByKey(e.OuHorizonDataSpaceConventions.CUSTOM_PROVIDER_KEY_TAG);if(e.XStringUtils.isNotNullAndNotEmpty(i)){return i}return t.getInstanceId()},isDataProviderExisting:function(t,i){return e.OuHorizonDataSpaceConventions.getDataProvider(t,i)!==null},removeDataProvider:function(t,i){let n=e.OuHorizonDataSpaceConventions.getDataProviderKey(i);t.putXObject(n,null);let o=e.OuHorizonDataSpaceConventions.getAllDataProviderIdsInternal(t);o.removeElement(n);t.putXObject(e.OuHorizonDataSpaceConventions.SPACE_ALL_PROVIDER_IDS,o)},setDataProviderKey:function(t,i){t.getTagging().put(e.OuHorizonDataSpaceConventions.CUSTOM_PROVIDER_KEY_TAG,i)}};e.OlapUiValueHelpAbstract=function(){};e.OlapUiValueHelpAbstract.prototype=new e.XObject;e.OlapUiValueHelpAbstract.prototype._ff_c="OlapUiValueHelpAbstract";e.OlapUiValueHelpAbstract.s_syncType=null;e.OlapUiValueHelpAbstract.prototype.m_defaultDrillEnabled=false;e.OlapUiValueHelpAbstract.prototype.m_nullText=null;e.OlapUiValueHelpAbstract.prototype.m_useResultSetTextField=false;e.OlapUiValueHelpAbstract.prototype.m_valueRequestObject=null;e.OlapUiValueHelpAbstract.prototype.addNullFilter=function(t,i){if(e.notNull(this.m_nullText)&&e.XStringUtils.isNotNullAndNotEmpty(t)&&e.notNull(i)&&e.XString.containsString(this.m_nullText,e.XString.toLowerCase(t))){let t=this.getDimension().getFilterCapabilities();let n=e.notNull(t)?t.getFilterCapabilitiesByField(this.getDisplayKeyField()):null;if(e.notNull(n)&&e.XCollectionUtils.containsElement(n.getSupportedComparisonOperatorsForValueHelpAndReadMode(e.SetSign.INCLUDING,i),e.ComparisonOperator.IS_NULL)){let t=this.getDimension().getSelectorContainer().getCartesianListByField(this.getDisplayKeyField());if(e.notNull(t)){t.addNewCartesianElement().setComparisonOperator(e.ComparisonOperator.IS_NULL);return true}}}return false};e.OlapUiValueHelpAbstract.prototype.configureFetchItems=function(t,i,n,o){this.configureValueHelp(t,i,0,-1,0,o,false);let r=e.XStream.of(n).filter(e=>e.isNull()||e.getKey()!==null).collect(e.XStreamCollector.toListOfString(e=>e.isNull()?null:e.getKey()));let a=e.XStream.of(n).filter(e=>!e.isNull()&&e.getKey()===null&&e.getDisplayKey()!==null).collect(e.XStreamCollector.toListOfString(e=>e.getDisplayKey()));return t.addSelectorFilterForSpecificKeys(r,a)};e.OlapUiValueHelpAbstract.prototype.configureValueHelp=function(e,t,i,n,o,r,a){e.clearSelectorSettings();e.setSelectorHierarchy(this.isHierarchicalValueHelp(),this.getHierarchyName(),this.m_defaultDrillEnabled&&a?e.getDefaultInitialDrillLevel():0);e.setReadModeGraceful(this.getContextType(),t);let s=i*o;let l=n===-1?n:s+(n-i+1)*o;e.setSelectorPaging(s,l);e.setSelectorCustomTextField(this.m_useResultSetTextField?this.getTextField():null);e.setSelectorFields(r,this.requestDefaultKeyAndTextFields(e))};e.OlapUiValueHelpAbstract.prototype.getContextType=function(){return e.QContextType.SELECTOR};e.OlapUiValueHelpAbstract.prototype.getDisplayKeyField=function(){let e=this.getDimension();return this.isHierarchicalValueHelp()?e.getHierarchyDisplayKeyField():e.getFlatDisplayKeyField()};e.OlapUiValueHelpAbstract.prototype.getKeyField=function(){let e=this.getDimension();return this.isHierarchicalValueHelp()?e.getHierarchyKeyField():e.getFlatKeyField()};e.OlapUiValueHelpAbstract.prototype.getSystemType=function(t){let i=t.getApplication().getSystemLandscape().getSystemDescription(t.getDataSource().getSystemName());return e.notNull(i)?i.getSystemType():e.SystemType.GENERIC};e.OlapUiValueHelpAbstract.prototype.getTextField=function(){let t=this.getDimension();if(this.m_useResultSetTextField){return e.QDimensionUtil.getTextFieldUsedInResultSet(t,this.isHierarchicalValueHelp())}return this.isHierarchicalValueHelp()?t.getHierarchyTextField():t.getFlatTextField()};e.OlapUiValueHelpAbstract.prototype.releaseObject=function(){e.XObject.prototype.releaseObject.call(this);this.m_valueRequestObject=null};e.OlapUiValueHelpAbstract.prototype.requestDefaultKeyAndTextFields=function(e){return true};e.OlapUiValueHelpAbstract.prototype.setDefaultDrillLevelEnabled=function(e){this.m_defaultDrillEnabled=e};e.OlapUiValueHelpAbstract.prototype.setNullText=function(t){this.m_nullText=e.XString.toLowerCase(t)};e.OlapUiValueHelpAbstract.prototype.setUseResultSetTextField=function(e){this.m_useResultSetTextField=e};e.OlapUiValueHelpAbstract.prototype.setupExt=function(t){this.m_valueRequestObject=t;if(e.isNull(e.OlapUiValueHelpAbstract.s_syncType)){e.OlapUiValueHelpAbstract.s_syncType=e.SyncType.NON_BLOCKING}};e.OlapUiValueHelpAbstract.prototype.supportsAdditionalPresentations=function(){return true};e.OlapUiValueHelpKeyObject=function(){};e.OlapUiValueHelpKeyObject.prototype=new e.XObject;e.OlapUiValueHelpKeyObject.prototype._ff_c="OlapUiValueHelpKeyObject";e.OlapUiValueHelpKeyObject.create=function(t,i,n){let o=new e.OlapUiValueHelpKeyObject;o.m_key=t;o.m_displayKey=i;o.m_isNull=n;return o};e.OlapUiValueHelpKeyObject.prototype.m_displayKey=null;e.OlapUiValueHelpKeyObject.prototype.m_isNull=false;e.OlapUiValueHelpKeyObject.prototype.m_key=null;e.OlapUiValueHelpKeyObject.prototype.getDisplayKey=function(){return this.m_displayKey};e.OlapUiValueHelpKeyObject.prototype.getKey=function(){return this.m_key};e.OlapUiValueHelpKeyObject.prototype.hasDisplayKey=function(){return e.notNull(this.m_displayKey)};e.OlapUiValueHelpKeyObject.prototype.isNull=function(){return this.m_isNull};e.OlapUiValueHelpKeyObject.prototype.releaseObject=function(){e.XObject.prototype.releaseObject.call(this);this.m_key=null;this.m_displayKey=null};e.OuDesignerViewConfiguration=function(){};e.OuDesignerViewConfiguration.prototype=new e.XObject;e.OuDesignerViewConfiguration.prototype._ff_c="OuDesignerViewConfiguration";e.OuDesignerViewConfiguration.createConfig=function(t){let i=new e.OuDesignerViewConfiguration;i.setupConfig(t);return i};e.OuDesignerViewConfiguration.getFormulaItems=function(){let t=e.XList.create();t.add(e.FeOperators.ADDITION);t.add(e.FeOperators.SUBTRACTION);t.add(e.FeOperators.MULTIPLICATION);t.add(e.FeOperators.DIVISION);t.add(e.FeOperators.POWER);t.add(e.FeFunctions.DECFLOAT);t.add(e.FeFunctions.INT);t.add(e.FeFunctions.ISNULL);t.add(e.FeFunctions.NOT);t.add(e.FeFunctions.IF);t.add(e.FeFunctions.ABS);t.add(e.FeFunctions.EXP);t.add(e.FeFunctions.SQRT);t.add(e.FeFunctions.GRAND_TOTAL);t.add(e.FeFunctions.PERCENTAGE_OF_GRAND_TOTAL);t.add(e.FeFunctions.MOD);t.add(e.FeFunctions.POWER);t.add(e.FeFunctions.LOG);t.add(e.FeFunctions.LOG10);t.add(e.FeFunctions.CEIL);t.add(e.FeFunctions.TRUNC);t.add(e.FeFunctions.DOUBLE);t.add(e.FeFunctions.ROUND);t.add(e.FeFunctions.FLOAT);t.add(e.FeFunctions.FLOOR);t.add(e.FeFunctions.DATEDIFF);t.add(e.FeFunctions.MIN);t.add(e.FeFunctions.MAX);t.add(e.FeFunctions.RESTRICT);t.add(e.FeFunctions.SUBSTRING);t.add(e.FeFunctions.LENGTH);t.add(e.FeFunctions.LIKE);t.add(e.FeFunctions.TONUMBER);t.add(e.FeFunctions.UPPERCASE);t.add(e.FeFunctions.LOWERCASE);t.add(e.FeFunctions.TOTEXT);t.add(e.FeFunctions.FINDINDEX);t.add(e.FeFunctions.ENDSWITH);t.add(e.FeFunctions.RUNNING_AGGREGATION);t.add(e.FeFunctions.ACCOUNT_LOOKUP);t.add(e.FeFunctions.MEASURE_LOOKUP);t.add(e.FeConditions.AND);t.add(e.FeConditions.OR);t.add(e.FeConditions.EQUAL);t.add(e.FeConditions.NOT_EQUAL);t.add(e.FeConditions.GREATER_THAN);t.add(e.FeConditions.GREATER_THAN_EQUAL);t.add(e.FeConditions.LESS_THAN);t.add(e.FeConditions.LESS_THAN_EQUAL);return t};e.OuDesignerViewConfiguration.prototype.m_application=null;e.OuDesignerViewConfiguration.prototype.m_calculationsEnabled=false;e.OuDesignerViewConfiguration.prototype.m_calculationsGenAiEnabled=false;e.OuDesignerViewConfiguration.prototype.m_calculationsOnSecondaryStructEnabled=false;e.OuDesignerViewConfiguration.prototype.m_dragElementTag=null;e.OuDesignerViewConfiguration.prototype.m_fireVizChangedEvent=false;e.OuDesignerViewConfiguration.prototype.m_isChartingEnabled=false;e.OuDesignerViewConfiguration.prototype.m_isChartingEnabledOnAccounts=false;e.OuDesignerViewConfiguration.prototype.m_isChartingNewTypesEnabled=false;e.OuDesignerViewConfiguration.prototype.m_isChartingPhase_3Enabled=false;e.OuDesignerViewConfiguration.prototype.m_menuProvider=null;e.OuDesignerViewConfiguration.prototype.m_messageCenter=null;e.OuDesignerViewConfiguration.prototype.m_presentation=null;e.OuDesignerViewConfiguration.prototype.m_rightClickContextMenuForAttributeEnabled=false;e.OuDesignerViewConfiguration.prototype.m_rightClickContextMenuForDimensionEnabled=false;e.OuDesignerViewConfiguration.prototype.m_rightClickContextMenuForMemberEnabled=false;e.OuDesignerViewConfiguration.prototype.m_useExistingVisualizations=false;e.OuDesignerViewConfiguration.prototype.getApplication=function(){return this.m_application};e.OuDesignerViewConfiguration.prototype.getDefaultPresentation=function(){return this.m_presentation};e.OuDesignerViewConfiguration.prototype.getDragElementTag=function(){return this.m_dragElementTag};e.OuDesignerViewConfiguration.prototype.getMenuProvider=function(){return this.m_menuProvider};e.OuDesignerViewConfiguration.prototype.getMessageCenter=function(){return this.m_messageCenter};e.OuDesignerViewConfiguration.prototype.getSupportedDisplayTypes=function(){let t=e.XList.create();t.add(e.OuAxesViewDisplayType.GRID);t.add(e.OuAxesViewDisplayType.BAR);t.add(e.OuAxesViewDisplayType.COLUMN);t.add(e.OuAxesViewDisplayType.STACKED_BAR);t.add(e.OuAxesViewDisplayType.STACKED_COLUMN);t.add(e.OuAxesViewDisplayType.LINE);if(this.isChartingNewTypesEnabled()){t.add(e.OuAxesViewDisplayType.STACKED_AREA);t.add(e.OuAxesViewDisplayType.COLUMN_LINE);t.add(e.OuAxesViewDisplayType.STACKED_COLUMN_LINE)}t.add(e.OuAxesViewDisplayType.PIE);t.add(e.OuAxesViewDisplayType.DOUGHNUT);return t};e.OuDesignerViewConfiguration.prototype.isCalculationsEnabled=function(){return this.m_calculationsEnabled};e.OuDesignerViewConfiguration.prototype.isCalculationsGenAiEnabled=function(){return this.m_calculationsGenAiEnabled};e.OuDesignerViewConfiguration.prototype.isCalculationsOnSecondaryStructEnabled=function(){return this.m_calculationsOnSecondaryStructEnabled};e.OuDesignerViewConfiguration.prototype.isChartingEnabled=function(){return this.m_isChartingEnabled};e.OuDesignerViewConfiguration.prototype.isChartingNewTypesEnabled=function(){return this.m_isChartingNewTypesEnabled};e.OuDesignerViewConfiguration.prototype.isChartingPhase2Enabled=function(){return this.m_isChartingEnabledOnAccounts};e.OuDesignerViewConfiguration.prototype.isChartingPhase_3Enabled=function(){return this.m_isChartingPhase_3Enabled};e.OuDesignerViewConfiguration.prototype.isRightClickContextMenuForAttributeEnabled=function(){return this.m_rightClickContextMenuForAttributeEnabled};e.OuDesignerViewConfiguration.prototype.isRightClickContextMenuForDimensionEnabled=function(){return this.m_rightClickContextMenuForDimensionEnabled};e.OuDesignerViewConfiguration.prototype.isRightClickContextMenuForMemberEnabled=function(){return this.m_rightClickContextMenuForMemberEnabled};e.OuDesignerViewConfiguration.prototype.releaseObject=function(){this.m_application=null;this.m_presentation=null;this.m_menuProvider=null;this.m_messageCenter=null;this.m_dragElementTag=null;e.XObject.prototype.releaseObject.call(this)};e.OuDesignerViewConfiguration.prototype.setCalculationsEnabled=function(e){this.m_calculationsEnabled=e};e.OuDesignerViewConfiguration.prototype.setCalculationsGenAiEnabled=function(e){this.m_calculationsGenAiEnabled=e};e.OuDesignerViewConfiguration.prototype.setCalculationsOnSecondaryStructEnabled=function(e){this.m_calculationsOnSecondaryStructEnabled=e};e.OuDesignerViewConfiguration.prototype.setChartingEnabled=function(e){this.m_isChartingEnabled=e};e.OuDesignerViewConfiguration.prototype.setChartingNewTypesEnabled=function(e){this.m_isChartingNewTypesEnabled=e};e.OuDesignerViewConfiguration.prototype.setChartingPhase2Enabled=function(e){this.m_isChartingEnabledOnAccounts=e};e.OuDesignerViewConfiguration.prototype.setChartingPhase_3Enabled=function(e){this.m_isChartingPhase_3Enabled=e};e.OuDesignerViewConfiguration.prototype.setDefaultPresentation=function(e){this.m_presentation=e};e.OuDesignerViewConfiguration.prototype.setDragElementTag=function(e){this.m_dragElementTag=e};e.OuDesignerViewConfiguration.prototype.setFireVisualizationChangedEvent=function(e){this.m_fireVizChangedEvent=e};e.OuDesignerViewConfiguration.prototype.setMenuProvider=function(e){this.m_menuProvider=e};e.OuDesignerViewConfiguration.prototype.setMessageCenter=function(e){this.m_messageCenter=e};e.OuDesignerViewConfiguration.prototype.setRightClickContextMenuForAttributeEnabled=function(e){this.m_rightClickContextMenuForAttributeEnabled=e};e.OuDesignerViewConfiguration.prototype.setRightClickContextMenuForDimensionEnabled=function(e){this.m_rightClickContextMenuForDimensionEnabled=e};e.OuDesignerViewConfiguration.prototype.setRightClickContextMenuForMemberEnabled=function(e){this.m_rightClickContextMenuForMemberEnabled=e};e.OuDesignerViewConfiguration.prototype.setUseExistingVisualizations=function(e){this.m_useExistingVisualizations=e};e.OuDesignerViewConfiguration.prototype.setupConfig=function(t){this.m_application=t;this.m_presentation=e.QueryPresentationUtils.DESCRIPTION};e.OuDesignerViewConfiguration.prototype.shouldFireVisualizationChangedEvent=function(){return this.m_fireVizChangedEvent};e.OuDesignerViewConfiguration.prototype.shouldUseExistingVisualizations=function(){return this.m_useExistingVisualizations};e.OuGridAxesController=function(){};e.OuGridAxesController.prototype=new e.XObject;e.OuGridAxesController.prototype._ff_c="OuGridAxesController";e.OuGridAxesController.createController=function(){return new e.OuGridAxesController};e.OuGridAxesController.moveModel=function(e,t,i){if(t>=0&&t<i.size()){let n=i.getIndex(e);if(n>=0){i.removeAt(n)}i.insert(t,e)}else{i.removeElement(e);i.add(e)}};e.OuGridAxesController.prototype.m_memberResults=null;e.OuGridAxesController.prototype.m_queryManager=null;e.OuGridAxesController.prototype.addMember=function(e){this.updateMemberFilter(e,true)};e.OuGridAxesController.prototype.addOrRemoveChildrenIfAny=function(e,t,i){if(e.hasChildren()){let n=e.getChildren();for(let e=0;e<n.size();e++){let o=n.get(e);if(i){t.add(o)}else{t.removeElement(o)}this.addOrRemoveChildrenIfAny(o,t,i)}}};e.OuGridAxesController.prototype.allowDropBetween=function(t){let i=t.isStructure();let n=t.isHierarchyActive();let o=e.QueryDesignerUtils.supportsMemberSort(t);return o&&i&&!n};e.OuGridAxesController.prototype.fetchMembers=function(){let t=this.m_queryManager.getQueryModel();let i=e.QueryDesignerUtils.getStructureDimensions(t);let n=e.XStream.of(i).map(e=>e.getMemberManager().getMemberResult().onThen(t=>{this.m_memberResults.put(e.getName(),t)})).collect(e.XPromiseList.toPromiseList());let o=e.XPromise.all(n);o.onCatch(t=>{e.XLogger.printError(t.getText());this.m_memberResults=e.XHashMapByString.create()});return o};e.OuGridAxesController.prototype.getMemberVisibility=function(t){let i=this.getMembersByDimension(t);let n=this.m_queryManager.getConvenienceCommands();let o=n.getVisibleMembers(t,i);for(let t=0;t<i.size();t++){let n=i.get(t);if(n.getDimensionMember().getResultVisibility()===e.ResultVisibility.HIDDEN){o.removeElement(n.getDimensionMember().getName())}}return o};e.OuGridAxesController.prototype.getMembersByDimension=function(e){return this.m_memberResults.getByKey(e.getName()).getAllNodes()};e.OuGridAxesController.prototype.getMembersInOrder=function(t){let i=this.getMembersByDimension(t);if(!e.XCollectionUtils.hasElements(i)){return e.XListOfNameObject.create()}if(t.getDimensionType()===e.DimensionType.ACCOUNT||t.isHierarchyActive()){return i}let n=this.m_queryManager.getConvenienceCommands();let o=n.getMembersInResultSetOrder(t);return e.XStream.of(o).map(e=>i.getByKey(e.getString())).collect(e.XStreamCollector.toListOfNameObject())};e.OuGridAxesController.prototype.getQueryManager=function(){return this.m_queryManager};e.OuGridAxesController.prototype.getVisibleMemberNodesInOrder=function(t){let i=this.getMembersByDimension(t);if(!e.XCollectionUtils.hasElements(i)){return null}let n=this.m_queryManager.getConvenienceCommands();let o=n.getVisibleMembers(t,i);if(t.getDimensionType()===e.DimensionType.ACCOUNT){return e.XStream.of(i).filter(t=>o.contains(t.getName())&&t.getDimensionMember().getResultVisibility()!==e.ResultVisibility.HIDDEN).collect(e.XStreamCollector.toListOfNameObject())}else{let r=n.getMembersInResultSetOrder(t);return e.XStream.of(r).filter(t=>o.contains(t.getName())&&t.getResultVisibility()!==e.ResultVisibility.HIDDEN).map(e=>i.getByKey(e.getName())).collect(e.XStreamCollector.toListOfNameObject())}};e.OuGridAxesController.prototype.handleAttributeDrop=function(t,i,n){let o=t.getDraggedControl();if(t.getDroppedControl()===o){return}let r=i.getDimension();let a=r.getResultSetAttributes();let s=e.OuDesignerDragDropUtilities.calcDropIndex(t);if(e.notNull(n)){this.moveDimensionToIndex(r,n,s);e.OuGridAxesController.moveModel(i,-1,a)}else{e.OuGridAxesController.moveModel(i,s+1,a)}};e.OuGridAxesController.prototype.handleDimDrop=function(t,i,n){let o=t.getDraggedControl();if(t.getDroppedControl()===o){return}this.moveDimensionToIndex(i,n,e.OuDesignerDragDropUtilities.calcDropIndex(t))};e.OuGridAxesController.prototype.handleMemberDrop=function(t,i,n){let o=t.getDraggedControl();if(t.getDroppedControl()===o){return}let r=i.getDimension();let a=e.OuDesignerDragDropUtilities.calcDropIndexForStructureMemberDrop(t,r,n);if(e.notNull(n)){this.moveDimensionToIndex(r,n,a);this.moveMemberToIndex(i,-1)}else{this.moveMemberToIndex(i,a)}};e.OuGridAxesController.prototype.moveDimensionToIndex=function(t,i,n){let o=this.m_queryManager.getQueryModel().getAxis(i);let r=i!==t.getAxisType();e.OuGridAxesController.moveModel(t,n,o);if(r){t.getConvenienceCommands().moveSortToPosition(e.SortType.ABSTRACT_DIMENSION_SORT,t.getName(),0)}};e.OuGridAxesController.prototype.moveMemberToIndex=function(t,i){this.updateMemberFilter(t,true);let n=t.getDimension();if(this.allowDropBetween(n)){let o=this.getVisibleMemberNodesInOrder(n);e.OuGridAxesController.moveModel(t,i,o);e.QueryDesignerUtils.setMemberOrder(n,o)}};e.OuGridAxesController.prototype.releaseObject=function(){this.m_queryManager=null;this.m_memberResults=e.XObjectExt.release(this.m_memberResults);e.XObject.prototype.releaseObject.call(this)};e.OuGridAxesController.prototype.removeAllMembers=function(t){let i=this.getMembersByDimension(t);e.QueryDesignerUtils.setFilterForDimension(t,i,e.XListOfNameObject.create())};e.OuGridAxesController.prototype.removeAttribute=function(e){let t=e.getDimension().getName();e.getConvenienceCommands().removeAttributeFromResultSet(t,e.getName())};e.OuGridAxesController.prototype.removeDimension=function(t,i){if(e.QueryDesignerUtils.canBeRemoved(t)){e.QueryDesignerUtils.removeDimension(t);i()}else{let n=this.m_queryManager.getApplication();let o=e.XLocalizationCenter.getCenter().getTextWithPlaceholder(e.OuAxesViewI18n.BUILDER_FILTER_DIALOG_TITLE,t.getText());e.QueryDesignerUtils.openSingleMemberFilterDialog(n,o,t,e.FilterDialogLambdaCloseListener.create(n=>{e.QueryDesignerUtils.removeDimension(t);i()},null))}};e.OuGridAxesController.prototype.removeMember=function(e){this.updateMemberFilter(e,false)};e.OuGridAxesController.prototype.setQueryManager=function(t){this.m_queryManager=t;this.m_memberResults=e.XHashMapByString.create()};e.OuGridAxesController.prototype.updateMemberFilter=function(t,i){let n=t.getDimensionMember().getDimension();let o=this.getMembersByDimension(n);let r=this.getVisibleMemberNodesInOrder(n);if(!i){r.removeElement(t)}else if(!r.contains(t)){r.add(t)}this.addOrRemoveChildrenIfAny(t,r,i);e.QueryDesignerUtils.setFilterForDimension(n,o,r)};e.OuGridAxesController.prototype.updateMembers=function(){if(!e.XObjectExt.isValidObject(this.m_queryManager)||!e.XObjectExt.isValidObject(this.m_queryManager.getQueryModel())){return e.XPromise.resolve(e.XBooleanValue.create(true))}let t=this.m_queryManager.getQueryModel();let i=e.QueryDesignerUtils.getStructureDimensions(t);let n=e.XCollectionUtils.ensureAll(i,t=>{let i=this.m_memberResults.getByKey(t.getName());return e.notNull(i)&&t.getMemberManager().isResultInSync(i)});if(n){return e.XPromise.resolve(e.XBooleanValue.create(false))}return this.fetchMembers().onThenExt(t=>e.XBooleanValue.create(true))};e.OuDesignerDragDropUtilities={calcDropIndex:function(t){let i=t.getRelativeDropPosition();let n=t.getControl();if(n.getUiType()!==e.UiType.LIST){return-1}let o=n.getIndexOfItem(t.getDroppedControl());o=i===e.UiRelativeDropPosition.BEFORE?o:o+1;let r=t.getDraggedControl();let a=n.getIndexOfItem(r);if(a>=0&&a<o){o--}return o},calcDropIndexForStructureMemberDrop:function(t,i,n){let o=e.OuDesignerDragDropUtilities.calcDropIndex(t);if(o>-1&&i.getAxis()!==null&&i.getAxisType().isEqualTo(n)&&i.getAxis().getIndex(i)<o){o--}return o}};e.OuDesignerDimension=function(){};e.OuDesignerDimension.prototype=new e.XObject;e.OuDesignerDimension.prototype._ff_c="OuDesignerDimension";e.OuDesignerDimension.createEmpty=function(){let t=new e.OuDesignerDimension;t.setupExt(null,null,null);return t};e.OuDesignerDimension.createForBuilderPanel=function(t,i,n){let o=new e.OuDesignerDimension;o.setupExt(t,i,n);return o};e.OuDesignerDimension.prototype.m_checkbox=null;e.OuDesignerDimension.prototype.m_children=null;e.OuDesignerDimension.prototype.m_childrenList=null;e.OuDesignerDimension.prototype.m_colIco=null;e.OuDesignerDimension.prototype.m_dimension=null;e.OuDesignerDimension.prototype.m_dimensionList=null;e.OuDesignerDimension.prototype.m_dimensionViews=null;e.OuDesignerDimension.prototype.m_displayName=null;e.OuDesignerDimension.prototype.m_displayText=null;e.OuDesignerDimension.prototype.m_header=null;e.OuDesignerDimension.prototype.m_label=null;e.OuDesignerDimension.prototype.m_moreBtn=null;e.OuDesignerDimension.prototype.m_name=null;e.OuDesignerDimension.prototype.m_panel=null;e.OuDesignerDimension.prototype.m_root=null;e.OuDesignerDimension.prototype.m_rowIco=null;e.OuDesignerDimension.prototype.getCheckbox=function(){return this.m_checkbox};e.OuDesignerDimension.prototype.getChildrenList=function(){return this.m_childrenList};e.OuDesignerDimension.prototype.getChildrenViews=function(){return this.m_children};e.OuDesignerDimension.prototype.getColumnIcon=function(){return this.m_colIco};e.OuDesignerDimension.prototype.getDimension=function(){return this.m_dimension};e.OuDesignerDimension.prototype.getDimensionList=function(){return this.m_dimensionList};e.OuDesignerDimension.prototype.getDimensionViews=function(){return this.m_dimensionViews};e.OuDesignerDimension.prototype.getDisplayName=function(){return this.m_displayName};e.OuDesignerDimension.prototype.getDisplayText=function(){return this.m_displayText};e.OuDesignerDimension.prototype.getHeader=function(){return this.m_header};e.OuDesignerDimension.prototype.getIconContainer=function(){return this.m_header};e.OuDesignerDimension.prototype.getLabel=function(){return this.m_label};e.OuDesignerDimension.prototype.getListItemRoot=function(){return this.m_root};e.OuDesignerDimension.prototype.getModelComponent=function(){return this.m_dimension};e.OuDesignerDimension.prototype.getMoreBtn=function(){return this.m_moreBtn};e.OuDesignerDimension.prototype.getName=function(){if(e.isNull(this.m_dimension)){return this.m_name}return this.m_dimension.getName()};e.OuDesignerDimension.prototype.getPanel=function(){return this.m_panel};e.OuDesignerDimension.prototype.getRowIcon=function(){return this.m_rowIco};e.OuDesignerDimension.prototype.isGroup=function(){return e.XCollectionUtils.hasElements(this.m_dimensionViews)};e.OuDesignerDimension.prototype.releaseObject=function(){this.m_name=null;this.m_dimension=null;this.m_children=e.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_children);this.m_dimensionViews=e.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_dimensionViews);this.m_label=e.XObjectExt.release(this.m_label);this.m_header=e.XObjectExt.release(this.m_header);this.m_panel=e.XObjectExt.release(this.m_panel);this.m_checkbox=e.XObjectExt.release(this.m_checkbox);this.m_rowIco=e.XObjectExt.release(this.m_rowIco);this.m_colIco=e.XObjectExt.release(this.m_colIco);this.m_moreBtn=e.XObjectExt.release(this.m_moreBtn);this.m_childrenList=e.XObjectExt.release(this.m_childrenList);e.XTimeout.timeout(0,()=>{this.m_root=e.XObjectExt.release(this.m_root)});e.XObject.prototype.releaseObject.call(this)};e.OuDesignerDimension.prototype.setCheckbox=function(e){this.m_checkbox=e};e.OuDesignerDimension.prototype.setChildrenList=function(e){this.m_childrenList=e};e.OuDesignerDimension.prototype.setChildrenViews=function(e){this.m_children=e};e.OuDesignerDimension.prototype.setColIcon=function(e){this.m_colIco=e};e.OuDesignerDimension.prototype.setDimension=function(e){this.m_dimension=e};e.OuDesignerDimension.prototype.setDimensionList=function(e){this.m_dimensionList=e};e.OuDesignerDimension.prototype.setDimensionViews=function(e){this.m_dimensionViews=e};e.OuDesignerDimension.prototype.setDisplayName=function(e){this.m_displayName=e};e.OuDesignerDimension.prototype.setDisplayText=function(e){this.m_displayText=e};e.OuDesignerDimension.prototype.setHeader=function(e){this.m_header=e};e.OuDesignerDimension.prototype.setLabel=function(e){this.m_label=e};e.OuDesignerDimension.prototype.setListItemRoot=function(e){this.m_root=e};e.OuDesignerDimension.prototype.setMoreBtn=function(e){this.m_moreBtn=e};e.OuDesignerDimension.prototype.setName=function(e){this.m_name=e};e.OuDesignerDimension.prototype.setPanel=function(e){this.m_panel=e};e.OuDesignerDimension.prototype.setRowIcon=function(e){this.m_rowIco=e};e.OuDesignerDimension.prototype.setText=function(t){if(e.notNull(this.m_label)){this.m_label.setText(t);this.m_label.setTooltip(t)}};e.OuDesignerDimension.prototype.setupExt=function(t,i,n){this.m_dimension=t;this.m_children=i;this.m_childrenList=n;this.m_rowIco=e.UiContextDummy.getSingleton();this.m_colIco=e.UiContextDummy.getSingleton();this.m_checkbox=e.UiContextDummy.getSingleton();this.m_moreBtn=e.UiContextDummy.getSingleton()};e.OuDesignerDimension.prototype.toString=function(){if(e.isNull(this.m_dimension)){return this.m_name}let t=e.QueryPresentationUtils.DESCRIPTION_AND_ID;return t.composeDisplayStrings(this.m_dimension.getName(),this.m_dimension.getText())};e.OuDesignerListItem=function(){};e.OuDesignerListItem.prototype=new e.XObject;e.OuDesignerListItem.prototype._ff_c="OuDesignerListItem";e.OuDesignerListItem.createForBuilderPanel=function(t,i){let n=new e.OuDesignerListItem;n.setupExt(t,i,e.UiContextDummy.getSingleton());return n};e.OuDesignerListItem.createForNavPanel=function(t,i,n){let o=new e.OuDesignerListItem;o.setupExt(t,i,n);return o};e.OuDesignerListItem.getAllChildrenRecursive=function(t){let i=e.XList.create();for(let n=0;n<t.size();n++){let o=t.get(n);i.add(o);let r=e.OuDesignerListItem.getAllChildrenRecursive(o.getDirectChildren());i.addAll(r)}return i};e.OuDesignerListItem.prototype.m_attribute=null;e.OuDesignerListItem.prototype.m_checkbox=null;e.OuDesignerListItem.prototype.m_children=null;e.OuDesignerListItem.prototype.m_headerLayout=null;e.OuDesignerListItem.prototype.m_label=null;e.OuDesignerListItem.prototype.m_list=null;e.OuDesignerListItem.prototype.m_moreButton=null;e.OuDesignerListItem.prototype.m_node=null;e.OuDesignerListItem.prototype.m_panel=null;e.OuDesignerListItem.prototype.m_popoverIcon=null;e.OuDesignerListItem.prototype.m_removeButton=null;e.OuDesignerListItem.prototype.m_root=null;e.OuDesignerListItem.prototype.addAllChildren=function(t){this.m_children.addAll(t);this.m_list.addAllItems(e.XCollectionUtils.map(t,e=>e.getRoot()))};e.OuDesignerListItem.prototype.addChild=function(e){this.m_children.add(e);this.m_list.addItem(e.getRoot())};e.OuDesignerListItem.prototype.getAllChildren=function(){return e.OuDesignerListItem.getAllChildrenRecursive(this.m_children)};e.OuDesignerListItem.prototype.getAttribute=function(){return this.m_attribute};e.OuDesignerListItem.prototype.getCheckbox=function(){return this.m_checkbox};e.OuDesignerListItem.prototype.getChildrenList=function(){return this.m_list};e.OuDesignerListItem.prototype.getDirectChildren=function(){return this.m_children};e.OuDesignerListItem.prototype.getHeaderLayout=function(){return this.m_headerLayout};e.OuDesignerListItem.prototype.getLabel=function(){return this.m_label};e.OuDesignerListItem.prototype.getModelComponent=function(){if(e.notNull(this.m_node)){return this.m_node}return this.m_attribute};e.OuDesignerListItem.prototype.getMoreButton=function(){return this.m_moreButton};e.OuDesignerListItem.prototype.getNode=function(){return this.m_node};e.OuDesignerListItem.prototype.getPanel=function(){return this.m_panel};e.OuDesignerListItem.prototype.getPopoverIcon=function(){return this.m_popoverIcon};e.OuDesignerListItem.prototype.getRemoveButton=function(){return this.m_removeButton};e.OuDesignerListItem.prototype.getRoot=function(){return this.m_root};e.OuDesignerListItem.prototype.releaseObject=function(){this.m_node=null;this.m_popoverIcon=e.XObjectExt.release(this.m_popoverIcon);this.m_children=e.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_children);this.m_headerLayout=e.XObjectExt.release(this.m_headerLayout);this.m_checkbox=e.XObjectExt.release(this.m_checkbox);this.m_removeButton=e.XObjectExt.release(this.m_removeButton);this.m_moreButton=e.XObjectExt.release(this.m_moreButton);this.m_label=e.XObjectExt.release(this.m_label);this.m_list=e.XObjectExt.release(this.m_list);this.m_panel=e.XObjectExt.release(this.m_panel);this.m_root=e.XObjectExt.release(this.m_root);e.XObject.prototype.releaseObject.call(this)};e.OuDesignerListItem.prototype.setAttribute=function(e){this.m_attribute=e};e.OuDesignerListItem.prototype.setChildrenList=function(e){this.m_list=e};e.OuDesignerListItem.prototype.setHeaderLayout=function(e){this.m_headerLayout=e};e.OuDesignerListItem.prototype.setMoreButton=function(e){this.m_moreButton=e};e.OuDesignerListItem.prototype.setNode=function(e){this.m_node=e};e.OuDesignerListItem.prototype.setPanel=function(e){this.m_panel=e};e.OuDesignerListItem.prototype.setPopoverIcon=function(e){this.m_popoverIcon=e};e.OuDesignerListItem.prototype.setRemoveButton=function(e){this.m_removeButton=e};e.OuDesignerListItem.prototype.setupExt=function(t,i,n){this.m_root=t;this.m_label=i;this.m_checkbox=n;this.m_children=e.XList.create()};e.OuDesignerListItem.prototype.toString=function(){let t=this.getModelComponent();if(e.isNull(t)){return null}let i=e.QueryPresentationUtils.DESCRIPTION_AND_ID;return i.getDisplayValueByType(t)};e.OuDesignerFormulaPopoverIcon=function(){};e.OuDesignerFormulaPopoverIcon.prototype=new e.XObject;e.OuDesignerFormulaPopoverIcon.prototype._ff_c="OuDesignerFormulaPopoverIcon";e.OuDesignerFormulaPopoverIcon.create=function(t,i,n){let o=new e.OuDesignerFormulaPopoverIcon;o.m_member=i;o.m_messageManager=n;o.initializeComposite(t);return o};e.OuDesignerFormulaPopoverIcon.prototype.m_member=null;e.OuDesignerFormulaPopoverIcon.prototype.m_messageManager=null;e.OuDesignerFormulaPopoverIcon.prototype.m_popover=null;e.OuDesignerFormulaPopoverIcon.prototype.m_textControl=null;e.OuDesignerFormulaPopoverIcon.prototype.m_warningIcon=null;e.OuDesignerFormulaPopoverIcon.prototype.getView=function(){return this.m_warningIcon};e.OuDesignerFormulaPopoverIcon.prototype.initializeComposite=function(t){this.m_popover=t.newControl(e.UiType.POPOVER);this.m_popover.addCssClass("ffGdsQbDesignerPanelFormulaWarningPopover");this.m_popover.setPadding(e.UiCssBoxEdges.create("0.75rem"));this.m_popover.setMinWidth(e.UiCssLength.create("12rem"));this.m_popover.setHorizontalScrolling(false);this.m_popover.setPlacement(e.UiPlacementType.VERTICAL);let i=e.OuDesignerFormulaHelper.extractDisplayableTextFromMessages(this.m_member,this.m_messageManager);this.m_textControl=this.m_popover.setNewContent(e.UiType.TEXT);this.m_textControl.useMaxSpace();this.m_textControl.setText(i);this.m_textControl.setWrapping(true);this.m_warningIcon=t.newControl(e.UiType.ICON);this.m_warningIcon.addCssClass("ffGdsQbDesignerPanelFormulaWarningIcon");this.m_warningIcon.setMinWidth(e.UiCssLength.create("2rem"));this.m_warningIcon.setIcon("fpa/warning");this.m_warningIcon.setColor(e.UiColor.ORANGE);this.m_warningIcon.registerOnHover(e.UiLambdaHoverListener.create(e=>{this.m_popover.openAt(this.m_warningIcon)}));this.m_warningIcon.registerOnHoverEnd(e.UiLambdaHoverEndListener.create(e=>{this.m_popover.close()}));this.m_warningIcon.registerOnPress(e.UiLambdaPressListener.create(e=>{if(this.m_popover.isOpen()){this.m_popover.close()}else{this.m_popover.openAt(this.m_warningIcon)}}))};e.OuDesignerFormulaPopoverIcon.prototype.releaseObject=function(){this.m_member=null;this.m_messageManager=null;this.m_textControl=null;this.m_popover=e.XObjectExt.release(this.m_popover);this.m_warningIcon=e.XObjectExt.release(this.m_warningIcon);e.XObject.prototype.releaseObject.call(this)};e.OuDesignerFormulaPopoverIcon.prototype.setMessageManager=function(t){this.m_messageManager=t;if(e.isNull(this.m_messageManager)){this.m_textControl.setText(null);return}let i=e.OuDesignerFormulaHelper.extractDisplayableTextFromMessages(this.m_member,this.m_messageManager);this.m_textControl.setText(i)};e.OuDimensionPanelListConfig=function(){};e.OuDimensionPanelListConfig.prototype=new e.XObject;e.OuDimensionPanelListConfig.prototype._ff_c="OuDimensionPanelListConfig";e.OuDimensionPanelListConfig.createConfig=function(t){let i=new e.OuDimensionPanelListConfig;i.setupConfig(t);return i};e.OuDimensionPanelListConfig.prototype.m_application=null;e.OuDimensionPanelListConfig.prototype.m_calculationsEnabled=false;e.OuDimensionPanelListConfig.prototype.m_dragElementTag=null;e.OuDimensionPanelListConfig.prototype.m_focusContext=null;e.OuDimensionPanelListConfig.prototype.m_i18nProviderName=null;e.OuDimensionPanelListConfig.prototype.m_menuProvider=null;e.OuDimensionPanelListConfig.prototype.m_onAttributeItemCreated=null;e.OuDimensionPanelListConfig.prototype.m_onMemberItemCreated=null;e.OuDimensionPanelListConfig.prototype.m_presentation=null;e.OuDimensionPanelListConfig.prototype.m_rightClickContextMenuForAttributeEnabled=false;e.OuDimensionPanelListConfig.prototype.m_rightClickContextMenuForDimensionEnabled=false;e.OuDimensionPanelListConfig.prototype.m_rightClickContextMenuForMemberEnabled=false;e.OuDimensionPanelListConfig.prototype.m_showAttributes=false;e.OuDimensionPanelListConfig.prototype.m_showMeasureMoreMenuButton=false;e.OuDimensionPanelListConfig.prototype.getApplication=function(){return this.m_application};e.OuDimensionPanelListConfig.prototype.getDefaultPresentation=function(){return this.m_presentation};e.OuDimensionPanelListConfig.prototype.getDragElementTag=function(){return this.m_dragElementTag};e.OuDimensionPanelListConfig.prototype.getFocusContext=function(){return this.m_focusContext};e.OuDimensionPanelListConfig.prototype.getLocalizationProviderName=function(){return this.m_i18nProviderName};e.OuDimensionPanelListConfig.prototype.getMenuProvider=function(){return this.m_menuProvider};e.OuDimensionPanelListConfig.prototype.getOnAttributeItemCreated=function(){return this.m_onAttributeItemCreated};e.OuDimensionPanelListConfig.prototype.getOnMemberItemCreated=function(){return this.m_onMemberItemCreated};e.OuDimensionPanelListConfig.prototype.isCalculationsEnabled=function(){return this.m_calculationsEnabled};e.OuDimensionPanelListConfig.prototype.isRightClickContextMenuForAttributeEnabled=function(){return this.m_rightClickContextMenuForAttributeEnabled};e.OuDimensionPanelListConfig.prototype.isRightClickContextMenuForDimensionEnabled=function(){return this.m_rightClickContextMenuForDimensionEnabled};e.OuDimensionPanelListConfig.prototype.isRightClickContextMenuForMemberEnabled=function(){return this.m_rightClickContextMenuForMemberEnabled};e.OuDimensionPanelListConfig.prototype.isShowAttributes=function(){return this.m_showAttributes};e.OuDimensionPanelListConfig.prototype.releaseObject=function(){this.m_application=null;this.m_presentation=null;this.m_menuProvider=null;this.m_dragElementTag=null;this.m_i18nProviderName=null;this.m_onMemberItemCreated=null;this.m_onAttributeItemCreated=null;this.m_focusContext=null;e.XObject.prototype.releaseObject.call(this)};e.OuDimensionPanelListConfig.prototype.setCalculationsEnabled=function(e){this.m_calculationsEnabled=e};e.OuDimensionPanelListConfig.prototype.setDefaultPresentation=function(e){this.m_presentation=e};e.OuDimensionPanelListConfig.prototype.setDragElementTag=function(e){this.m_dragElementTag=e};e.OuDimensionPanelListConfig.prototype.setFocusContext=function(e){this.m_focusContext=e};e.OuDimensionPanelListConfig.prototype.setLocalizationProviderName=function(e){this.m_i18nProviderName=e};e.OuDimensionPanelListConfig.prototype.setMenuProvider=function(e){this.m_menuProvider=e};e.OuDimensionPanelListConfig.prototype.setOnAttributeItemCreated=function(e){this.m_onAttributeItemCreated=e};e.OuDimensionPanelListConfig.prototype.setOnMemberItemCreated=function(e){this.m_onMemberItemCreated=e};e.OuDimensionPanelListConfig.prototype.setRightClickContextMenuForAttributeEnabled=function(e){this.m_rightClickContextMenuForAttributeEnabled=e};e.OuDimensionPanelListConfig.prototype.setRightClickContextMenuForDimensionEnabled=function(e){this.m_rightClickContextMenuForDimensionEnabled=e};e.OuDimensionPanelListConfig.prototype.setRightClickContextMenuForMemberEnabled=function(e){this.m_rightClickContextMenuForMemberEnabled=e};e.OuDimensionPanelListConfig.prototype.setShowAttributes=function(e){this.m_showAttributes=e};e.OuDimensionPanelListConfig.prototype.setShowMeasureMoreMenuButton=function(e){this.m_showMeasureMoreMenuButton=e};e.OuDimensionPanelListConfig.prototype.setupConfig=function(t){this.m_application=t;this.m_presentation=e.QueryPresentationUtils.DESCRIPTION};e.OuDimensionPanelListConfig.prototype.showMeasureMoreMenuButton=function(){return this.m_showMeasureMoreMenuButton};e.OuMagicPanel=function(){};e.OuMagicPanel.prototype=new e.XObject;e.OuMagicPanel.prototype._ff_c="OuMagicPanel";e.OuMagicPanel.create=function(t){let i=new e.OuMagicPanel;i.initializeComposite(t);return i};e.OuMagicPanel.prototype.m_onCollapse=null;e.OuMagicPanel.prototype.m_onExpand=null;e.OuMagicPanel.prototype.m_panel=null;e.OuMagicPanel.prototype.m_panelContent=null;e.OuMagicPanel.prototype.m_placeholderContent=null;e.OuMagicPanel.prototype.m_timeout=null;e.OuMagicPanel.prototype.getPanelContent=function(){return this.m_panelContent};e.OuMagicPanel.prototype.getView=function(){return this.m_panel};e.OuMagicPanel.prototype.initializeComposite=function(t){this.m_panel=t.newControl(e.UiType.PANEL);this.m_panel.removeAttribute(e.UtUi5AttributeConstants.FAST_NAV_GROUP);this.m_panel.addCssClass("ffMagicPanel");this.m_panel.addCssClass("ffGdsQbFoldable");this.m_panel.setBackgroundDesign(e.UiBackgroundDesign.TRANSPARENT);this.m_panel.setMinHeight(e.UiCssLength.create("0"));this.m_placeholderContent=this.m_panel.setNewContent(e.UiType.CONTENT_WRAPPER);this.m_placeholderContent.useMaxWidth();this.m_panel.registerOnExpand(e.UiLambdaExpandListener.create(t=>{e.XTimeout.clear(this.m_timeout);if(e.isNull(this.m_panel)||e.isNull(this.m_panelContent)||this.m_panel.isReleased()||this.m_panelContent.isReleased()){return}this.m_panel.setContent(this.m_panelContent);if(e.notNull(this.m_onExpand)){this.m_onExpand()}}));this.m_panel.registerOnCollapse(e.UiLambdaCollapseListener.create(t=>{e.XTimeout.clear(this.m_timeout);if(e.isNull(this.m_panel)||e.isNull(this.m_panelContent)||this.m_panel.isReleased()||this.m_panelContent.isReleased()){return}this.m_timeout=e.XTimeout.timeout(500,()=>{this.m_panel.setContent(this.m_placeholderContent)});if(e.notNull(this.m_onCollapse)){this.m_onCollapse()}}))};e.OuMagicPanel.prototype.releaseObject=function(){e.XTimeout.clear(this.m_timeout);this.m_timeout=null;this.m_onExpand=null;this.m_onCollapse=null;this.m_panel=e.XObjectExt.release(this.m_panel);this.m_placeholderContent=e.XObjectExt.release(this.m_placeholderContent);this.m_panelContent=e.XObjectExt.release(this.m_panelContent);e.XObject.prototype.releaseObject.call(this)};e.OuMagicPanel.prototype.setContentHeightInRem=function(t){let i=e.XStringUtils.concatenate2(e.XInteger.convertToString(t),"rem");this.m_placeholderContent.setMinHeight(e.UiCssLength.create(i))};e.OuMagicPanel.prototype.setExpandable=function(e){this.m_panel.setExpandable(e);this.updateContent()};e.OuMagicPanel.prototype.setExpanded=function(e){this.m_panel.setExpanded(e);this.updateContent()};e.OuMagicPanel.prototype.setOnCollapse=function(e){this.m_onCollapse=e};e.OuMagicPanel.prototype.setOnExpand=function(e){this.m_onExpand=e};e.OuMagicPanel.prototype.setPanelContent=function(e){this.m_panelContent=e};e.OuMagicPanel.prototype.updateContent=function(){if(!this.m_panel.isExpandable()){this.m_panel.setContent(null)}else{this.m_panel.setContent(this.m_panel.isExpanded()?this.m_panelContent:this.m_placeholderContent)}};e.OuPanelList=function(){};e.OuPanelList.prototype=new e.XObject;e.OuPanelList.prototype._ff_c="OuPanelList";e.OuPanelList.create=function(t){let i=new e.OuPanelList;i.initializeComposite(t);return i};e.OuPanelList.prototype.m_dropZone=null;e.OuPanelList.prototype.m_genesis=null;e.OuPanelList.prototype.m_headerLayout=null;e.OuPanelList.prototype.m_list=null;e.OuPanelList.prototype.m_panel=null;e.OuPanelList.prototype.m_panelContent=null;e.OuPanelList.prototype.m_scroll=null;e.OuPanelList.prototype.m_title=null;e.OuPanelList.prototype.getDropZone=function(){return this.m_dropZone};e.OuPanelList.prototype.getHeaderLayout=function(){return this.m_headerLayout};e.OuPanelList.prototype.getList=function(){return this.m_list};e.OuPanelList.prototype.getPanel=function(){return this.m_panel};e.OuPanelList.prototype.getPanelContent=function(){return this.m_panelContent};e.OuPanelList.prototype.getScroll=function(){return this.m_scroll};e.OuPanelList.prototype.getTitle=function(){return this.m_title};e.OuPanelList.prototype.getView=function(){return this.m_panel};e.OuPanelList.prototype.initializeComposite=function(t){this.m_genesis=t;this.m_panel=t.newControl(e.UiType.PANEL);this.m_panel.removeAttribute(e.UtUi5AttributeConstants.FAST_NAV_GROUP);this.m_panel.addCssClass("ffGdsQbFoldable");this.m_panel.useMaxHeight();this.m_panel.setExpandable(true);this.m_panel.setBackgroundDesign(e.UiBackgroundDesign.TRANSPARENT);this.m_headerLayout=this.m_panel.setNewHeaderToolbar();this.m_headerLayout.removeAttribute(e.UtUi5AttributeConstants.FAST_NAV_GROUP);this.m_title=this.m_headerLayout.addNewItemOfType(e.UiType.TITLE);this.m_title.setTitleStyle(e.UiTitleLevel.H_5);this.m_title.setTitleLevel(e.UiTitleLevel.H_5);this.m_title.setMargin(e.UiCssBoxEdges.create("0"));this.m_panelContent=this.m_panel.setNewContent(e.UiType.FLEX_LAYOUT);this.m_panelContent.setDirection(e.UiFlexDirection.COLUMN);this.m_panelContent.useMaxHeight();this.m_scroll=this.m_panelContent.addNewItemOfType(e.UiType.SCROLL_CONTAINER);this.replaceList(e.XList.create());this.m_dropZone=this.m_panelContent.addNewItemOfType(e.UiType.FLEX_LAYOUT);this.m_dropZone.setFlex("1 1 auto")};e.OuPanelList.prototype.isVisible=function(){return this.getView().isVisible()};e.OuPanelList.prototype.releaseObject=function(){this.m_title=e.XObjectExt.release(this.m_title);this.m_dropZone=e.XObjectExt.release(this.m_dropZone);this.m_list=e.XObjectExt.release(this.m_list);this.m_headerLayout=e.XObjectExt.release(this.m_headerLayout);this.m_panelContent=e.XObjectExt.release(this.m_panelContent);this.m_panel=e.XObjectExt.release(this.m_panel);e.XObject.prototype.releaseObject.call(this)};e.OuPanelList.prototype.replaceList=function(t){let i=this.m_genesis.newControl(e.UiType.LIST);i.removeAttribute(e.UtUi5AttributeConstants.FAST_NAV_GROUP);i.addAllItems(t);this.m_scroll.setContent(i);this.m_list=i};e.OuPanelList.prototype.setVisible=function(e){this.getView().setVisible(e)};e.OuDesignerDragPayloadSimple=function(){};e.OuDesignerDragPayloadSimple.prototype=new e.XObject;e.OuDesignerDragPayloadSimple.prototype._ff_c="OuDesignerDragPayloadSimple";e.OuDesignerDragPayloadSimple.createWrapper=function(t){let i=new e.OuDesignerDragPayloadSimple;i.m_modelComponent=t;return i};e.OuDesignerDragPayloadSimple.prototype.m_modelComponent=null;e.OuDesignerDragPayloadSimple.prototype.getModelComponent=function(){return this.m_modelComponent};e.OuDesignerDragPayloadSimple.prototype.releaseObject=function(){this.m_modelComponent=null;e.XObject.prototype.releaseObject.call(this)};e.OuDesignerFormulaHelper={extractDisplayableTextFromMessages:function(t,i){if(i.containsCode(e.Severity.WARNING,e.ErrorCodes.MEASURE_MISSING_DEPENDENT)){let n=e.XStringBuffer.create();n.appendLine(e.OuDesignerFormulaHelper.getLocalizationProvider().getTextWithPlaceholder(e.OuFormulaValidationI18n.NAV_CALCULATION_INVALID_DEPENDENCY_INFO,t.getText()));let o=e.OuDesignerFormulaHelper.getMissingDependencyMeasureNames(i);e.XCollectionUtils.forEach(o,e=>{n.appendLine(e)});return n.toString()}if(i.containsCode(e.Severity.WARNING,e.ErrorCodes.MEASURE_PREFERRED_HIERARCHY_MISMATCH)){let i=t.getDimension();if(i.getDimensionType()===e.DimensionType.ACCOUNT){return e.OuDesignerFormulaHelper.getLocalizationProvider().getText(e.OuFormulaValidationI18n.NAV_CALCULATION_PREFERRED_HIERARCHY_MISMATCH_ACCOUNT)}return e.OuDesignerFormulaHelper.getLocalizationProvider().getText(e.OuFormulaValidationI18n.NAV_CALCULATION_PREFERRED_HIERARCHY_MISMATCH_MEASURE)}if(i.containsCode(e.Severity.ERROR,e.ErrorCodes.MEASURE_MISSING_REQUIRED_DIMENSION)){let n=i.getMessage(e.Severity.ERROR,e.ErrorCodes.MEASURE_MISSING_REQUIRED_DIMENSION);let o=n.getExtendedInfo();if(e.XCollectionUtils.hasElements(o)){let n=t.getUnsatisfiedRequiredDimensionNames(t.getQueryModel(),i,o);let r=e.XStringBuffer.create();r.appendLine(e.OuDesignerFormulaHelper.getLocalizationProvider().getTextWithPlaceholder(e.OuFormulaValidationI18n.NAV_CALCULATION_MISSING_DIMENSIONS_INFO,t.getText()));e.XCollectionUtils.forEach(n.getValuesAsReadOnlyList(),i=>{let n=t.getQueryModel().getDimensionByName(i);let o=n.getText();if(!e.QDimensionUtil.shouldDimensionBeShownForRowsOrColumns(n,true)&&e.XCollectionUtils.hasElements(n.getGroupingDimensions())){let e=n.getGroupingDimensions().get(0);o=e.getText()}r.appendLine(o)});return r.toString()}}if(i.hasErrors()||i.hasWarnings()){return e.OuDesignerFormulaHelper.getLocalizationProvider().getTextWithPlaceholder(e.OuFormulaValidationI18n.NAV_CALCULATION_INVALID_INFO,t.getText())}return null},getLocalizationProvider:function(){return e.XLocalizationCenter.getCenter().getLocalizationProviderByName(e.OuFormulaValidationI18n.PROVIDER_NAME)},getMissingDependencyMeasureNames:function(t){let i=e.XList.create();for(let n=0;n<t.getMessages().size();n++){let o=t.getMessages().get(n);if(o.getCode()!==e.ErrorCodes.MEASURE_MISSING_DEPENDENT){continue}let r=e.JsonParserFactory.createFromString(o.getText());if(e.isNull(r)||!r.isStructure()){continue}let a=r.asStructure().getListByKey("args");if(e.notNull(a)&&!a.isEmpty()){i.add(a.getStringAt(0))}}return i},validateFormula:function(t){let i=t.validateWithQueryModelScope(t.getQueryModel());if(i.hasErrors()||i.hasWarnings()){return i}let n=e.MessageManagerSimple.createMessageManager();t.validate(t.getDimension(),n,true,true);return n},validateFormulaAndExtractDisplayableText:function(t){let i=e.OuDesignerFormulaHelper.validateFormula(t);return e.OuDesignerFormulaHelper.extractDisplayableTextFromMessages(t,i)}};e.OuInventoryCalculationLink=function(){};e.OuInventoryCalculationLink.prototype=new e.XObject;e.OuInventoryCalculationLink.prototype._ff_c="OuInventoryCalculationLink";e.OuInventoryCalculationLink.create=function(t){let i=new e.OuInventoryCalculationLink;i.setupExt(t);return i};e.OuInventoryCalculationLink.prototype.m_root=null;e.OuInventoryCalculationLink.prototype.getRoot=function(){return this.m_root};e.OuInventoryCalculationLink.prototype.releaseObject=function(){this.m_root=e.XObjectExt.release(this.m_root);e.XObject.prototype.releaseObject.call(this)};e.OuInventoryCalculationLink.prototype.setupExt=function(e){this.m_root=e};e.OuInventoryStructure=function(){};e.OuInventoryStructure.prototype=new e.XObject;e.OuInventoryStructure.prototype._ff_c="OuInventoryStructure";e.OuInventoryStructure.createView=function(t){let i=new e.OuInventoryStructure;i.setupExt(t);return i};e.OuInventoryStructure.getAllChildrenRecursive=function(t){let i=e.XList.create();for(let n=0;n<t.size();n++){let o=t.get(n);i.add(o);let r=e.OuInventoryStructure.getAllChildrenRecursive(o.getDirectChildren());i.addAll(r)}return i};e.OuInventoryStructure.prototype.m_calculations=null;e.OuInventoryStructure.prototype.m_calculationsLink=null;e.OuInventoryStructure.prototype.m_childrenList=null;e.OuInventoryStructure.prototype.m_colIco=null;e.OuInventoryStructure.prototype.m_dimension=null;e.OuInventoryStructure.prototype.m_dimensionList=null;e.OuInventoryStructure.prototype.m_header=null;e.OuInventoryStructure.prototype.m_memberHierarchy=false;e.OuInventoryStructure.prototype.m_members=null;e.OuInventoryStructure.prototype.m_panel=null;e.OuInventoryStructure.prototype.m_rowIco=null;e.OuInventoryStructure.prototype.m_selectAll=null;e.OuInventoryStructure.prototype.addCalculation=function(e){this.m_calculations.add(e)};e.OuInventoryStructure.prototype.addChild=function(e){this.m_members.add(e);this.m_childrenList.addItem(e.getRoot())};e.OuInventoryStructure.prototype.getAllChildren=function(){return e.OuInventoryStructure.getAllChildrenRecursive(this.m_members)};e.OuInventoryStructure.prototype.getCalculations=function(){return this.m_calculations};e.OuInventoryStructure.prototype.getCalculationsLink=function(){return this.m_calculationsLink};e.OuInventoryStructure.prototype.getChildrenList=function(){return this.m_childrenList};e.OuInventoryStructure.prototype.getColumnIcon=function(){return this.m_colIco};e.OuInventoryStructure.prototype.getDimension=function(){return this.m_dimension};e.OuInventoryStructure.prototype.getDimensionList=function(){return this.m_dimensionList};e.OuInventoryStructure.prototype.getDirectChildren=function(){return this.m_members};e.OuInventoryStructure.prototype.getHeader=function(){return this.m_header};e.OuInventoryStructure.prototype.getIconContainer=function(){return this.m_header};e.OuInventoryStructure.prototype.getModelComponent=function(){return this.m_dimension};e.OuInventoryStructure.prototype.getName=function(){return this.m_dimension.getDisplayName()};e.OuInventoryStructure.prototype.getPanel=function(){return this.m_panel};e.OuInventoryStructure.prototype.getRowIcon=function(){return this.m_rowIco};e.OuInventoryStructure.prototype.getSelectAll=function(){return this.m_selectAll};e.OuInventoryStructure.prototype.hasMemberHierarchy=function(){return this.m_memberHierarchy};e.OuInventoryStructure.prototype.releaseObject=function(){this.m_dimension=null;this.m_panel=e.XObjectExt.release(this.m_panel);this.m_dimensionList=e.XObjectExt.release(this.m_dimensionList);this.m_selectAll=e.XObjectExt.release(this.m_selectAll);this.m_rowIco=e.XObjectExt.release(this.m_rowIco);this.m_colIco=e.XObjectExt.release(this.m_colIco);this.m_header=e.XObjectExt.release(this.m_header);this.m_childrenList=e.XObjectExt.release(this.m_childrenList);this.m_calculationsLink=e.XObjectExt.release(this.m_calculationsLink);this.m_members=e.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_members);this.m_calculations=e.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_calculations);e.XObject.prototype.releaseObject.call(this)};e.OuInventoryStructure.prototype.setCalculationsLink=function(e){this.m_calculationsLink=e};e.OuInventoryStructure.prototype.setChildrenList=function(e){this.m_childrenList=e};e.OuInventoryStructure.prototype.setColIcon=function(e){this.m_colIco=e};e.OuInventoryStructure.prototype.setDimension=function(e){this.m_dimension=e};e.OuInventoryStructure.prototype.setDimensionList=function(e){this.m_dimensionList=e};e.OuInventoryStructure.prototype.setHeader=function(e){this.m_header=e};e.OuInventoryStructure.prototype.setMemberHierarchy=function(e){this.m_memberHierarchy=e};e.OuInventoryStructure.prototype.setPanel=function(e){this.m_panel=e};e.OuInventoryStructure.prototype.setRowIcon=function(e){this.m_rowIco=e};e.OuInventoryStructure.prototype.setSelectAll=function(e){this.m_selectAll=e};e.OuInventoryStructure.prototype.setupExt=function(t){this.m_dimension=t;this.m_members=e.XList.create();this.m_calculations=e.XList.create()};e.OuInventoryStructure.prototype.toString=function(){if(e.isNull(this.m_dimension)){return null}let t=e.QueryPresentationUtils.DESCRIPTION_AND_ID;return t.composeDisplayStrings(this.m_dimension.getDisplayName(),this.m_dimension.getDisplayDescription())};e.OuInventoryViewSortMenu=function(){};e.OuInventoryViewSortMenu.prototype=new e.XObject;e.OuInventoryViewSortMenu.prototype._ff_c="OuInventoryViewSortMenu";e.OuInventoryViewSortMenu.create=function(t){let i=new e.OuInventoryViewSortMenu;i.m_menu=t;i.buildSortMenuForStructures();return i};e.OuInventoryViewSortMenu.prototype.m_ascendingItem=null;e.OuInventoryViewSortMenu.prototype.m_defaultOrderItem=null;e.OuInventoryViewSortMenu.prototype.m_descendingItem=null;e.OuInventoryViewSortMenu.prototype.m_menu=null;e.OuInventoryViewSortMenu.prototype.m_rootItem=null;e.OuInventoryViewSortMenu.prototype.addCssClass=function(t){this.m_rootItem.addCssClass(t);this.m_defaultOrderItem.addCssClass(e.XStringUtils.concatenate2(t,"Default"));this.m_ascendingItem.addCssClass(e.XStringUtils.concatenate2(t,"Ascending"));this.m_descendingItem.addCssClass(e.XStringUtils.concatenate2(t,"Descending"))};e.OuInventoryViewSortMenu.prototype.buildSortMenuForStructures=function(){let t=this.getLocalizationProvider();this.m_rootItem=this.m_menu.addNewItem();this.m_rootItem.setText(t.getText(e.OuInventoryViewI18n.NAV_MENU_SORT));this.m_defaultOrderItem=this.m_rootItem.addNewItem();this.m_defaultOrderItem.setText(t.getText(e.OuInventoryViewI18n.NAV_MENU_SORT_DEFAULT));this.m_ascendingItem=this.m_rootItem.addNewItem();this.m_ascendingItem.setText(t.getText(e.OuInventoryViewI18n.NAV_MENU_SORT_ASCENDING));this.m_descendingItem=this.m_rootItem.addNewItem();this.m_descendingItem.setText(t.getText(e.OuInventoryViewI18n.NAV_MENU_SORT_DESCENDING))};e.OuInventoryViewSortMenu.prototype.getLocalizationProvider=function(){return e.XLocalizationCenter.getCenter().getLocalizationProviderByName(e.OuInventoryViewI18n.PROVIDER_NAME)};e.OuInventoryViewSortMenu.prototype.releaseObject=function(){this.m_menu=null;this.m_defaultOrderItem=e.XObjectExt.release(this.m_defaultOrderItem);this.m_ascendingItem=e.XObjectExt.release(this.m_ascendingItem);this.m_descendingItem=e.XObjectExt.release(this.m_descendingItem);e.XObject.prototype.releaseObject.call(this)};e.OuInventoryViewSortMenu.prototype.setConsumer=function(t){this.m_defaultOrderItem.registerOnPress(e.UiLambdaPressListener.create(i=>{t(e.XSortDirection.NONE)}));this.m_ascendingItem.registerOnPress(e.UiLambdaPressListener.create(i=>{t(e.XSortDirection.ASCENDING)}));this.m_descendingItem.registerOnPress(e.UiLambdaPressListener.create(i=>{t(e.XSortDirection.DESCENDING)}))};e.OuInventoryViewSortMenu.prototype.update=function(t){this.m_defaultOrderItem.setIcon(t===e.XSortDirection.NONE?"accept":null);this.m_ascendingItem.setIcon(t===e.XSortDirection.ASCENDING?"accept":null);this.m_descendingItem.setIcon(t===e.XSortDirection.DESCENDING?"accept":null)};e.OuCalcAssistancePanelConfigBuilder=function(){};e.OuCalcAssistancePanelConfigBuilder.prototype=new e.OuCalcPanelConfigBuilder;e.OuCalcAssistancePanelConfigBuilder.prototype._ff_c="OuCalcAssistancePanelConfigBuilder";e.OuCalcAssistancePanelConfigBuilder.create=function(){return new e.OuCalcAssistancePanelConfigBuilder};e.OuCalcAssistancePanelConfigBuilder.prototype.build=function(){return e.OuCalcAssistancePanelConfig.create(e.OuCalcPanelRenderConfig.create(this.m_anchorTag,this.m_domId,this.m_width))};e.OuCalcCodeEditorPanelConfigBuilder=function(){};e.OuCalcCodeEditorPanelConfigBuilder.prototype=new e.OuCalcPanelConfigBuilder;e.OuCalcCodeEditorPanelConfigBuilder.prototype._ff_c="OuCalcCodeEditorPanelConfigBuilder";e.OuCalcCodeEditorPanelConfigBuilder.create=function(){return new e.OuCalcCodeEditorPanelConfigBuilder};e.OuCalcCodeEditorPanelConfigBuilder.prototype.build=function(){return e.OuCalcCodeEditorPanelConfig.create(e.OuCalcPanelRenderConfig.create(this.m_anchorTag,this.m_domId,this.m_width))};e.OuCalcDetailsPanelConfigBuilder=function(){};e.OuCalcDetailsPanelConfigBuilder.prototype=new e.OuCalcPanelConfigBuilder;e.OuCalcDetailsPanelConfigBuilder.prototype._ff_c="OuCalcDetailsPanelConfigBuilder";e.OuCalcDetailsPanelConfigBuilder.create=function(){return new e.OuCalcDetailsPanelConfigBuilder};e.OuCalcDetailsPanelConfigBuilder.prototype.build=function(){return e.OuCalcDetailsPanelConfig.create(e.OuCalcPanelRenderConfig.create(this.m_anchorTag,this.m_domId,this.m_width))};e.OuCalcFormulaItemListPanelConfigBuilder=function(){};e.OuCalcFormulaItemListPanelConfigBuilder.prototype=new e.OuCalcPanelConfigBuilder;e.OuCalcFormulaItemListPanelConfigBuilder.prototype._ff_c="OuCalcFormulaItemListPanelConfigBuilder";e.OuCalcFormulaItemListPanelConfigBuilder.create=function(){return new e.OuCalcFormulaItemListPanelConfigBuilder};e.OuCalcFormulaItemListPanelConfigBuilder.prototype.build=function(){return e.OuCalcFormulaItemListPanelConfig.create(e.OuCalcPanelRenderConfig.create(this.m_anchorTag,this.m_domId,this.m_width))};e.OuCalcSinglePluginConfigBuilder=function(){};e.OuCalcSinglePluginConfigBuilder.prototype=new e.OuCalcPanelConfigBuilder;e.OuCalcSinglePluginConfigBuilder.prototype._ff_c="OuCalcSinglePluginConfigBuilder";e.OuCalcSinglePluginConfigBuilder.create=function(){return new e.OuCalcSinglePluginConfigBuilder};e.OuCalcSinglePluginConfigBuilder.prototype.m_leftPanelWidth=null;e.OuCalcSinglePluginConfigBuilder.prototype.m_rightPanelWidth=null;e.OuCalcSinglePluginConfigBuilder.prototype.build=function(){return e.OuCalcSinglePluginConfig.create(e.OuCalcPanelRenderConfig.create(this.m_anchorTag,this.m_domId,this.m_width),this.m_leftPanelWidth,this.m_rightPanelWidth)};e.OuCalcSinglePluginConfigBuilder.prototype.setLeftPanelWidth=function(e){this.m_leftPanelWidth=e;return this};e.OuCalcSinglePluginConfigBuilder.prototype.setRightPanelWidth=function(e){this.m_rightPanelWidth=e;return this};e.OuCalcCloseParenthesisTokenProcessor=function(){};e.OuCalcCloseParenthesisTokenProcessor.prototype=new e.OuCalcBaseTokenProcessor;e.OuCalcCloseParenthesisTokenProcessor.prototype._ff_c="OuCalcCloseParenthesisTokenProcessor";e.OuCalcCloseParenthesisTokenProcessor.create=function(){return new e.OuCalcCloseParenthesisTokenProcessor};e.OuCalcCloseParenthesisTokenProcessor.prototype.handleToken=function(t){let i=t.getOperators();let n=t.getCountIf();let o;if(this.isCloseParenthesis(t.getCurrentFormulaToken())){if(this.isOpenParenthesis(i.get(i.size()-1))){i.removeAt(i.size()-1)}else if(this.isCommaAfterOpenParenthesis(i,n)){for(o=0;o<3;o++){i.removeAt(i.size()-1)}n--;t.setFormattedString(e.XStringUtils.concatenate2(t.getFormattedString(),e.OuCalcFormulaFormatterConstants.ENTER));for(o=0;o<n;o++){t.setFormattedString(e.XStringUtils.concatenate2(t.getFormattedString(),e.OuCalcFormulaFormatterConstants.TAB))}t.setCountIf(n)}t.setFormattedString(e.XStringUtils.concatenate2(t.getFormattedString(),t.getCurrentFormulaToken()))}return t};e.OuCalcCloseParenthesisTokenProcessor.prototype.isCloseParenthesis=function(t){return e.XString.isEqual(t,e.OuCalcFormulaFormatterConstants.CLOSE_PARENTHESIS)};e.OuCalcCloseParenthesisTokenProcessor.prototype.isCommaAfterOpenParenthesis=function(e,t){return t>0&&e.size()>=3&&this.isComma(e.get(e.size()-1))&&this.isComma(e.get(e.size()-2))&&this.isOpenParenthesis(e.get(e.size()-3))};e.OuCalcCloseSquareBracketTokenProcessor=function(){};e.OuCalcCloseSquareBracketTokenProcessor.prototype=new e.OuCalcBaseTokenProcessor;e.OuCalcCloseSquareBracketTokenProcessor.prototype._ff_c="OuCalcCloseSquareBracketTokenProcessor";e.OuCalcCloseSquareBracketTokenProcessor.create=function(){return new e.OuCalcCloseSquareBracketTokenProcessor};e.OuCalcCloseSquareBracketTokenProcessor.prototype.handleToken=function(t){if(this.isCloseSquareBracket(t.getCurrentFormulaToken())){t.setTempFormattingState(e.XStringUtils.concatenate2(t.getTempFormattingState(),t.getCurrentFormulaToken()));t.setFormattedString(e.XStringUtils.concatenate2(t.getFormattedString(),t.getTempFormattingState()));t.setTempFormattingState(e.OuCalcFormulaFormatterConstants.SPACE)}return t};e.OuCalcCloseSquareBracketTokenProcessor.prototype.isCloseSquareBracket=function(t){return e.XString.isEqual(t,e.OuCalcFormulaFormatterConstants.CLOSE_SQAURE_BRACKETS)};e.OuCalcCommaTokenProcessor=function(){};e.OuCalcCommaTokenProcessor.prototype=new e.OuCalcBaseTokenProcessor;e.OuCalcCommaTokenProcessor.prototype._ff_c="OuCalcCommaTokenProcessor";e.OuCalcCommaTokenProcessor.create=function(){return new e.OuCalcCommaTokenProcessor};e.OuCalcCommaTokenProcessor.prototype.handleComma=function(t,i,n,o){let r=t;let a;n.add(e.OuCalcFormulaFormatterConstants.COMMA);r=e.XStringUtils.concatenate2(r,o);if(i>0){r=e.XStringUtils.concatenate2(r,e.OuCalcFormulaFormatterConstants.ENTER);for(a=0;a<i;a++){r=e.XStringUtils.concatenate2(r,e.OuCalcFormulaFormatterConstants.TAB)}}return r};e.OuCalcCommaTokenProcessor.prototype.handleToken=function(e){if(this.isComma(e.getCurrentFormulaToken())){e.setFormattedString(this.handleComma(e.getFormattedString(),e.getCountIf(),e.getOperators(),e.getCurrentFormulaToken()))}return e};e.OuCalcDoubleQuoteTokenProcessor=function(){};e.OuCalcDoubleQuoteTokenProcessor.prototype=new e.OuCalcBaseTokenProcessor;e.OuCalcDoubleQuoteTokenProcessor.prototype._ff_c="OuCalcDoubleQuoteTokenProcessor";e.OuCalcDoubleQuoteTokenProcessor.create=function(){return new e.OuCalcDoubleQuoteTokenProcessor};e.OuCalcDoubleQuoteTokenProcessor.prototype.formatTextBetweenDoubleQuotes=function(t){t.setFormattedString(e.XStringUtils.concatenate2(t.getFormattedString(),t.getCurrentFormulaToken()));t.setCurrentCount(t.getCurrentCount()+1);t.setCurrentFormulaToken(this.handleDoubleQuote(t.getFormulaCopy(),t.getCurrentCount()))};e.OuCalcDoubleQuoteTokenProcessor.prototype.handleDoubleQuote=function(t,i){let n;if(i>=0&&i<e.XString.size(t)){let o=e.XStringBuffer.create();n=o.appendChar(e.XString.getCharAt(t,i)).toString()}else{n=""}return n};e.OuCalcDoubleQuoteTokenProcessor.prototype.handleToken=function(t){if(this.isDoubleQuote(t.getTempFormattingState(),t.getCurrentFormulaToken())){this.formatTextBetweenDoubleQuotes(t);while(!e.XString.isEqual(t.getCurrentFormulaToken(),e.OuCalcFormulaFormatterConstants.DOUBLE_QUOTE)&&t.getCurrentCount()<e.XString.size(t.getFormulaCopy())-1){this.formatTextBetweenDoubleQuotes(t)}t.setFormattedString(e.XStringUtils.concatenate2(t.getFormattedString(),t.getCurrentFormulaToken()))}return t};e.OuCalcDoubleQuoteTokenProcessor.prototype.isDoubleQuote=function(t,i){return e.XString.size(t)===0&&e.XString.isEqual(i,e.OuCalcFormulaFormatterConstants.DOUBLE_QUOTE)};e.OuCalcOpenParenthesisTokenProcessor=function(){};e.OuCalcOpenParenthesisTokenProcessor.prototype=new e.OuCalcBaseTokenProcessor;e.OuCalcOpenParenthesisTokenProcessor.prototype._ff_c="OuCalcOpenParenthesisTokenProcessor";e.OuCalcOpenParenthesisTokenProcessor.create=function(){return new e.OuCalcOpenParenthesisTokenProcessor};e.OuCalcOpenParenthesisTokenProcessor.prototype.handleToken=function(t){if(this.isOpenParenthesis(t.getCurrentFormulaToken())){t.getOperators().add(e.OuCalcFormulaFormatterConstants.OPEN_PARENTHESIS);let i=e.XRegex.getInstance().getAllGroupsOfMatch(t.getFormattedString(),e.OuCalcFormulaFormatterConstants.REGEX_END_WITH_IF,true);if(i.size()>0){t.setCountIf(t.getCountIf()+1)}t.setFormattedString(e.XStringUtils.concatenate2(t.getFormattedString(),t.getCurrentFormulaToken()))}return t};e.OuCalcOpenSquareBracketTokenProcessor=function(){};e.OuCalcOpenSquareBracketTokenProcessor.prototype=new e.OuCalcBaseTokenProcessor;e.OuCalcOpenSquareBracketTokenProcessor.prototype._ff_c="OuCalcOpenSquareBracketTokenProcessor";e.OuCalcOpenSquareBracketTokenProcessor.create=function(){return new e.OuCalcOpenSquareBracketTokenProcessor};e.OuCalcOpenSquareBracketTokenProcessor.prototype.handleToken=function(t){if(this.isOpenSquareBracket(t.getCurrentFormulaToken())){t.setTempFormattingState(e.XStringUtils.concatenate2(t.getTempFormattingState(),t.getCurrentFormulaToken()))}return t};e.OuCalcOpenSquareBracketTokenProcessor.prototype.isOpenSquareBracket=function(t){return e.XString.isEqual(t,e.OuCalcFormulaFormatterConstants.OPEN_SQAURE_BRACKETS)};e.OuCalcSpecialCharactersTokenProcessor=function(){};e.OuCalcSpecialCharactersTokenProcessor.prototype=new e.OuCalcBaseTokenProcessor;e.OuCalcSpecialCharactersTokenProcessor.prototype._ff_c="OuCalcSpecialCharactersTokenProcessor";e.OuCalcSpecialCharactersTokenProcessor.create=function(){return new e.OuCalcSpecialCharactersTokenProcessor};e.OuCalcSpecialCharactersTokenProcessor.prototype.closeSquareBracketsDoesNotExists=function(t){return e.XString.indexOf(t,e.OuCalcFormulaFormatterConstants.CLOSE_SQAURE_BRACKETS)===-1};e.OuCalcSpecialCharactersTokenProcessor.prototype.handleToken=function(t){if(this.membersWithSpecialCharacters(t.getTempFormattingState())){t.setTempFormattingState(e.XStringUtils.concatenate2(t.getTempFormattingState(),t.getCurrentFormulaToken()))}return t};e.OuCalcSpecialCharactersTokenProcessor.prototype.membersWithSpecialCharacters=function(t){return e.XString.size(t)!==0&&this.openSquareBracketsExists(t)&&this.closeSquareBracketsDoesNotExists(t)};e.OuCalcSpecialCharactersTokenProcessor.prototype.openSquareBracketsExists=function(t){return e.XString.indexOf(t,e.OuCalcFormulaFormatterConstants.OPEN_SQAURE_BRACKETS)!==-1};e.OuCalcWhiteSpaceTokenProcessor=function(){};e.OuCalcWhiteSpaceTokenProcessor.prototype=new e.OuCalcBaseTokenProcessor;e.OuCalcWhiteSpaceTokenProcessor.prototype._ff_c="OuCalcWhiteSpaceTokenProcessor";e.OuCalcWhiteSpaceTokenProcessor.create=function(){return new e.OuCalcWhiteSpaceTokenProcessor};e.OuCalcWhiteSpaceTokenProcessor.prototype.closeSquareBracketsDoesNotExists=function(t){return e.XString.indexOf(t,e.OuCalcFormulaFormatterConstants.CLOSE_SQAURE_BRACKETS)===-1};e.OuCalcWhiteSpaceTokenProcessor.prototype.handleToken=function(e){if(this.isWhiteSpace(e.getCurrentFormulaToken())){return this.handleWhiteSpaces(e)}return e};e.OuCalcWhiteSpaceTokenProcessor.prototype.handleWhiteSpaces=function(t){if(e.XString.match(t.getCurrentFormulaToken(),e.OuCalcFormulaFormatterConstants.REGEX_BLANK_SPACE)){if(this.membersWithSpecialCharacters(t.getTempFormattingState())){t.setTempFormattingState(e.XStringUtils.concatenate2(t.getTempFormattingState(),t.getCurrentFormulaToken()))}else{if(!e.XString.endsWith(t.getFormattedString(),e.OuCalcFormulaFormatterConstants.TAB)){t.setFormattedString(e.XStringUtils.concatenate2(t.getFormattedString(),e.OuCalcFormulaFormatterConstants.SINGLE_WHITE_SPACE))}}}t.setExitCurrentIteration(true);return t};e.OuCalcWhiteSpaceTokenProcessor.prototype.isWhiteSpace=function(t){return e.XString.match(t,e.OuCalcFormulaFormatterConstants.REGEX_WHITE_SPACE)};e.OuCalcWhiteSpaceTokenProcessor.prototype.membersWithSpecialCharacters=function(t){return e.XString.size(t)!==0&&this.openSquareBracketsExists(t)&&this.closeSquareBracketsDoesNotExists(t)};e.OuCalcWhiteSpaceTokenProcessor.prototype.openSquareBracketsExists=function(t){return e.XString.indexOf(t,e.OuCalcFormulaFormatterConstants.OPEN_SQAURE_BRACKETS)!==-1};e.OuCalcHintSnippet=function(){};e.OuCalcHintSnippet.prototype=new e.OuCalcHintBase;e.OuCalcHintSnippet.prototype._ff_c="OuCalcHintSnippet";e.OuCalcHintSnippet.SNIPPET_KEY="snippet";e.OuCalcHintSnippet.create=function(t,i,n,o){e.XObjectExt.assertStringNotNullAndNotEmpty(t);let r=new e.OuCalcHintSnippet;r.m_snippet=t;r.setupInternal(i,n,o);return r};e.OuCalcHintSnippet.prototype.m_snippet=null;e.OuCalcHintSnippet.prototype.getJson=function(){let t=e.OuCalcHintBase.prototype.getJson.call(this);t.putString(e.OuCalcHintSnippet.SNIPPET_KEY,this.m_snippet);return t};e.OuCalcHintSnippet.prototype.getValue=function(){return this.m_snippet};e.OuCalcHintValue=function(){};e.OuCalcHintValue.prototype=new e.OuCalcHintBase;e.OuCalcHintValue.prototype._ff_c="OuCalcHintValue";e.OuCalcHintValue.VALUE_KEY="value";e.OuCalcHintValue.create=function(t,i,n,o){e.XObjectExt.assertStringNotNullAndNotEmpty(t);let r=new e.OuCalcHintValue;r.m_value=t;r.setupInternal(i,n,o);return r};e.OuCalcHintValue.prototype.m_value=null;e.OuCalcHintValue.prototype.getJson=function(){let t=e.OuCalcHintBase.prototype.getJson.call(this);t.putString(e.OuCalcHintValue.VALUE_KEY,this.m_value);return t};e.OuCalcHintValue.prototype.getValue=function(){return this.m_value};e.OuCalcAbstractMeasureHintProvider=function(){};e.OuCalcAbstractMeasureHintProvider.prototype=new e.OuCalcAbstractHintProvider;e.OuCalcAbstractMeasureHintProvider.prototype._ff_c="OuCalcAbstractMeasureHintProvider";e.OuCalcAbstractMeasureHintProvider.CSS_CLASS_NAME="feMeasureHint";e.OuCalcAbstractMeasureHintProvider.INITIAL_SCORE=-1;e.OuCalcAbstractMeasureHintProvider.SPACE=" ";e.OuCalcAbstractMeasureHintProvider.prototype.m_currentScore=0;e.OuCalcAbstractMeasureHintProvider.prototype.m_enableModelPrefix=false;e.OuCalcAbstractMeasureHintProvider.prototype.m_measures=null;e.OuCalcAbstractMeasureHintProvider.prototype.buildCaption=function(t){let i=e.XStringBuffer.create();if(e.XStringUtils.isNotNullAndNotEmpty(t.getDescription())){i.append(t.getDescription());i.append(e.OuCalcAbstractMeasureHintProvider.SPACE)}i.append(t.getField(this.m_enableModelPrefix));return i.toString()};e.OuCalcAbstractMeasureHintProvider.prototype.provide=function(){this.m_currentScore=e.OuCalcAbstractMeasureHintProvider.INITIAL_SCORE;return e.XStream.of(this.m_measures).map(t=>e.OuCalcHintValue.create(t.getField(this.m_enableModelPrefix),this.buildCaption(t),this.m_currentScore--,this.getCssClassName())).collect(e.XStreamCollector.toList())};e.OuCalcAbstractMeasureHintProvider.prototype.setupMeasureHints=function(t,i){e.XObjectExt.assertNotNull(t);this.m_measures=t;this.m_enableModelPrefix=i;this.setupInternal(e.OuCalcAbstractMeasureHintProvider.CSS_CLASS_NAME)};e.OuCalcDateGranularityHintProvider=function(){};e.OuCalcDateGranularityHintProvider.prototype=new e.OuCalcAbstractHintProvider;e.OuCalcDateGranularityHintProvider.prototype._ff_c="OuCalcDateGranularityHintProvider";e.OuCalcDateGranularityHintProvider.CSS_CLASS_NAME="feDateGranularityHint";e.OuCalcDateGranularityHintProvider.INITIAL_SCORE=-1;e.OuCalcDateGranularityHintProvider.create=function(){let t=new e.OuCalcDateGranularityHintProvider;let i=e.XList.create();i.add(e.XStringUtils.concatenate3('"',e.FeDateGranularityConstants.YEAR.getName(),'"'));i.add(e.XStringUtils.concatenate3('"',e.FeDateGranularityConstants.MONTH.getName(),'"'));i.add(e.XStringUtils.concatenate3('"',e.FeDateGranularityConstants.DAY.getName(),'"'));t.m_granularities=i;return t};e.OuCalcDateGranularityHintProvider.prototype.m_currentScore=0;e.OuCalcDateGranularityHintProvider.prototype.m_granularities=null;e.OuCalcDateGranularityHintProvider.prototype.accept=function(t){return t.getDataTypes().contains(e.FeDataType.GRANULARITY)};e.OuCalcDateGranularityHintProvider.prototype.provide=function(){this.m_currentScore=e.OuCalcDateGranularityHintProvider.INITIAL_SCORE;return e.XStream.ofString(this.m_granularities).map(t=>e.OuCalcHintValue.create(t.getString(),t.getString(),this.m_currentScore--,e.OuCalcDateGranularityHintProvider.CSS_CLASS_NAME)).collect(e.XStreamCollector.toList())};e.OuCalcDimensionHintProvider=function(){};e.OuCalcDimensionHintProvider.prototype=new e.OuCalcAbstractHintProvider;e.OuCalcDimensionHintProvider.prototype._ff_c="OuCalcDimensionHintProvider";e.OuCalcDimensionHintProvider.CSS_CLASS_NAME="feDimensionHint";e.OuCalcDimensionHintProvider.INITIAL_SCORE=-1e4;e.OuCalcDimensionHintProvider.SPACE=" ";e.OuCalcDimensionHintProvider.create=function(t,i,n,o){e.XObjectExt.assertNotNull(t);e.XObjectExt.assertNotNull(i);let r=new e.OuCalcDimensionHintProvider;r.m_dimensions=t;r.m_measures=i;r.m_filteredDimensions=t;r.m_feConfiguration=n;r.m_enableModelPrefix=o;r.setupInternal(e.OuCalcDimensionHintProvider.CSS_CLASS_NAME);return r};e.OuCalcDimensionHintProvider.prototype.m_currentScore=0;e.OuCalcDimensionHintProvider.prototype.m_dimensions=null;e.OuCalcDimensionHintProvider.prototype.m_enableModelPrefix=false;e.OuCalcDimensionHintProvider.prototype.m_feConfiguration=null;e.OuCalcDimensionHintProvider.prototype.m_filteredDimensions=null;e.OuCalcDimensionHintProvider.prototype.m_measures=null;e.OuCalcDimensionHintProvider.prototype.accept=function(t){let i=e.XStream.of(t.getDataTypes()).find(t=>(e.FeDataType.isStrictlyCompatible(t,e.FeDataType.DIMENSION)||t.isEqualTo(e.FeDataType.BOOLEAN))&&t.supportsDimensionsInHintsOnly());if(i.isPresent()){return true}if(!this.m_feConfiguration.dimensionsSupported()){return false}return this.isTokenTypeOf(t,e.FeDataType.DIMENSION)||this.isTokenTypeOf(t,e.FeDataType.DIMENSION_PROPERTY)||this.isTokenTypeOf(t,e.FeDataType.DATE_DIMENSION)||this.isInDimensionFilterContext(t)};e.OuCalcDimensionHintProvider.prototype.buildCaption=function(t){if(e.XStringUtils.isNullOrEmpty(t.getDescription())){return t.getField(this.m_enableModelPrefix)}return e.XStringUtils.concatenate3(t.getDescription(),e.OuCalcDimensionHintProvider.SPACE,t.getField(this.m_enableModelPrefix))};e.OuCalcDimensionHintProvider.prototype.filterCompoundDimensions=function(t){return e.XStream.of(t).filter(e=>!e.isCompound()).collect(e.XStreamCollector.toList())};e.OuCalcDimensionHintProvider.prototype.filterIncompatibleDimensions=function(t,i){let n=e.XStream.of(i).flatMap(t=>e.XStream.ofString(t.getIncompatibleDimensionNames())).reduce(e.XHashSetOfString.create(),(t,i)=>{e.XCollectionUtils.addIfNotPresent(t,i.getStringRepresentation());return t});if(n.hasElements()){return e.XCollectionUtils.filter(t,e=>!n.contains(e.getDimensionName()))}return t};e.OuCalcDimensionHintProvider.prototype.getMeasuresFromTokenNames=function(t){return e.XStream.ofString(t).map(t=>e.XStream.of(this.m_measures).find(i=>e.XString.isEqual(i.getAlias(),t.getStringRepresentation())).orElse(null)).filterNullValues().distinct().collect(e.XStreamCollector.toList())};e.OuCalcDimensionHintProvider.prototype.getTokenNamesInFunction=function(t){let i=e.XHashSetOfString.create();e.XCollectionUtils.forEach(t,t=>{let n=e.FeFieldConverter.getMemberExt(t.getText(),this.m_enableModelPrefix);if(n.isPresent()){i.add(n.get())}});return i};e.OuCalcDimensionHintProvider.prototype.isInDimensionFilterContext=function(t){return t.getDataTypes().contains(e.FeDataType.DIMENSION_FILTER)};e.OuCalcDimensionHintProvider.prototype.isNumericDimension=function(t){if(t.getProperties().isEmpty()&&t.isNumeric()){return true}return e.XStream.of(t.getProperties()).allMatch(e=>e.getValueType().isNumber())};e.OuCalcDimensionHintProvider.prototype.prepare=function(t){if(!t.getDataTypes().contains(e.FeDataType.DIMENSION)&&t.getDataTypes().contains(e.FeDataType.DATE_DIMENSION)){this.m_filteredDimensions=e.XCollectionUtils.filter(this.m_dimensions,e=>e.isDateDimension())}else if(e.XStream.of(t.getDataTypes()).anyMatch(t=>t.isTypeOf(e.FeDataType.DIMENSION)&&!t.supportsNumericDimensions())){this.m_filteredDimensions=e.XCollectionUtils.filter(this.m_filteredDimensions,e=>!this.isNumericDimension(e))}else{this.m_filteredDimensions=this.m_dimensions}let i=e.FeFeatureToggle.isActive(e.FeFeatureToggle.DIMENSION_PROPERTIES);if(i&&!t.getDataTypes().contains(e.FeDataType.DIMENSION)&&t.getDataTypes().contains(e.FeDataType.DIMENSION_PROPERTY)){this.m_filteredDimensions=e.XCollectionUtils.filter(this.m_filteredDimensions,e=>!e.getProperties().isEmpty())}let n=e.FeArgumentCustomData.extractFromToken(t);if(n.isPresent()){let t=n.get().getParentFunction();let i=e.FeFormulaItemProvider.getInstance().getFormulaItem(t.getName());if(i.isPresent()&&i.get().getMetadata().showUniqueDimensionsOnly()){let i=t.getDimensionTokens();let n=this.getTokenNamesInFunction(i);this.m_filteredDimensions=e.XCollectionUtils.filter(this.m_filteredDimensions,e=>!n.contains(e.getAlias()))}if(e.FeFeatureToggle.isActive(e.FeFeatureToggle.RESTRICT)&&i.isPresent()&&i.get().getMetadata().hasName(e.FeRestrict.NAME)){let e=this.getMeasuresFromTokenNames(this.getTokenNamesInFunction(t.getMeasureTokens()));this.m_filteredDimensions=this.filterIncompatibleDimensions(this.m_filteredDimensions,e);this.m_filteredDimensions=this.filterCompoundDimensions(this.m_filteredDimensions)}}};e.OuCalcDimensionHintProvider.prototype.provide=function(){this.m_currentScore=e.OuCalcDimensionHintProvider.INITIAL_SCORE;return e.XStream.of(this.m_filteredDimensions).map(t=>e.OuCalcHintValue.create(t.getField(this.m_enableModelPrefix),this.buildCaption(t),this.m_currentScore--,this.getCssClassName())).collect(e.XStreamCollector.toList())};e.OuCalcFunctionHintProvider=function(){};e.OuCalcFunctionHintProvider.prototype=new e.OuCalcAbstractHintProvider;e.OuCalcFunctionHintProvider.prototype._ff_c="OuCalcFunctionHintProvider";e.OuCalcFunctionHintProvider.CSS_CLASS_NAME="feFunctionHint";e.OuCalcFunctionHintProvider.SCORE=10;e.OuCalcFunctionHintProvider.create=function(t,i){e.XObjectExt.assertNotNull(t);let n=new e.OuCalcFunctionHintProvider;n.m_functions=n.getSortedFunctions(t.getValuesAsReadOnlyList());n.m_filteredFunctions=n.m_functions;n.m_formulaPresentation=i;n.setupInternal(e.OuCalcFunctionHintProvider.CSS_CLASS_NAME);return n};e.OuCalcFunctionHintProvider.prototype.m_filteredFunctions=null;e.OuCalcFunctionHintProvider.prototype.m_formulaPresentation=null;e.OuCalcFunctionHintProvider.prototype.m_functions=null;e.OuCalcFunctionHintProvider.prototype.accept=function(t){return this.isTokenCompatible(t,e.FeDataType.BOOLEAN)||this.isTokenCompatible(t,e.FeDataType.NUMBER)||this.isTokenCompatible(t,e.FeDataType.STRING)};e.OuCalcFunctionHintProvider.prototype.getSortedFunctions=function(t){let i=t.createListCopy();i.sortByComparator(e.XComparatorLambda.create((t,i)=>e.FeFunctionComparator.compareFunctionName(t.getDisplayName(),i.getDisplayName())));return i};e.OuCalcFunctionHintProvider.prototype.prepare=function(t){this.m_filteredFunctions=e.XStream.of(this.m_functions).filter(i=>e.XStream.of(i.getMetadata().getSupportedReturnTypes()).anyMatch(e=>this.isTokenTypeOf(t,e))).collect(e.XStreamCollector.toList())};e.OuCalcFunctionHintProvider.prototype.provide=function(){return e.XStream.of(this.m_filteredFunctions).map(t=>e.OuCalcHintSnippet.create(this.m_formulaPresentation.getDisplayText(t.getSyntax()),t.getDisplayName(),e.OuCalcFunctionHintProvider.SCORE,this.getCssClassName())).collect(e.XStreamCollector.toList())};e.OuCalcHierarchyHintProvider=function(){};e.OuCalcHierarchyHintProvider.prototype=new e.OuCalcAbstractHintProvider;e.OuCalcHierarchyHintProvider.prototype._ff_c="OuCalcHierarchyHintProvider";e.OuCalcHierarchyHintProvider.CSS_CLASS_NAME="feHierarchyHint";e.OuCalcHierarchyHintProvider.SCORE=1;e.OuCalcHierarchyHintProvider.SPACE=" ";e.OuCalcHierarchyHintProvider.create=function(t,i,n){e.XObjectExt.assertNotNull(t);let o=new e.OuCalcHierarchyHintProvider;o.m_dimensions=t;o.m_feConfiguration=i;o.m_enableModelPrefix=n;o.setupInternal(e.OuCalcHierarchyHintProvider.CSS_CLASS_NAME);return o};e.OuCalcHierarchyHintProvider.prototype.m_dimensions=null;e.OuCalcHierarchyHintProvider.prototype.m_enableModelPrefix=false;e.OuCalcHierarchyHintProvider.prototype.m_feConfiguration=null;e.OuCalcHierarchyHintProvider.prototype.m_hierarchies=null;e.OuCalcHierarchyHintProvider.prototype.accept=function(t){return(this.m_feConfiguration.dimensionsSupported()||this.m_feConfiguration.isHierarchyLoadEnabled())&&t.getDataTypes().contains(e.FeDataType.HIERARCHY)&&!this.isParentArgPropOnly(t)};e.OuCalcHierarchyHintProvider.prototype.buildCaption=function(t){if(e.XStringUtils.isNullOrEmpty(t.getDescription())){return t.getField(this.m_enableModelPrefix)}return e.XStringUtils.concatenate3(t.getDescription(),e.OuCalcHierarchyHintProvider.SPACE,t.getField(this.m_enableModelPrefix))};e.OuCalcHierarchyHintProvider.prototype.getDimensionByField=function(t){return e.XStream.of(this.m_dimensions).find(i=>e.XString.isEqual(i.getField(this.m_enableModelPrefix),t))};e.OuCalcHierarchyHintProvider.prototype.isParentArgPropOnly=function(t){return t.getParent().isPresent()&&t.getParent().get().getTokenType().isEqualTo(e.FeTokenType.ARGUMENT)&&t.getParent().get().getDataTypes().contains(e.FeDataType.DIMENSION_PROPERTY)};e.OuCalcHierarchyHintProvider.prototype.prepare=function(t){this.m_hierarchies=e.XList.create();let i=this.getDimensionByField(t.getText());if(i.isPresent()&&!i.get().getHierarchies().isEmpty()&&!(i.get().getHierarchies().size()===1&&i.get().getHierarchies().get(0).getId()===null)){this.m_hierarchies.addAll(i.get().getHierarchies())}};e.OuCalcHierarchyHintProvider.prototype.provide=function(){return e.XCollectionUtils.map(this.m_hierarchies,t=>e.OuCalcHintValue.create(t.getField(this.m_enableModelPrefix),this.buildCaption(t),e.OuCalcHierarchyHintProvider.SCORE,this.getCssClassName()))};e.OuCalcOperatorHintProvider=function(){};e.OuCalcOperatorHintProvider.prototype=new e.OuCalcAbstractHintProvider;e.OuCalcOperatorHintProvider.prototype._ff_c="OuCalcOperatorHintProvider";e.OuCalcOperatorHintProvider.CSS_CLASS_NAME="feOperatorHint";e.OuCalcOperatorHintProvider.DIM_SEPARATOR=".";e.OuCalcOperatorHintProvider.create=function(t){e.XObjectExt.assertNotNull(t);let i=new e.OuCalcOperatorHintProvider;i.m_operators=t;i.setupInternal(e.OuCalcOperatorHintProvider.CSS_CLASS_NAME);return i};e.OuCalcOperatorHintProvider.prototype.m_hints=null;e.OuCalcOperatorHintProvider.prototype.m_operators=null;e.OuCalcOperatorHintProvider.prototype.accept=function(t){return t.getDataTypes().contains(e.FeDataType.OPERATOR)};e.OuCalcOperatorHintProvider.prototype.isBaseDimensionToken=function(t){return t.getTokenType().isEqualTo(e.FeTokenType.DIMENSION)&&!e.FeFieldConverter.getHierarchy(t.getText()).isPresent()&&!e.FeFieldConverter.getProperty(t.getText()).isPresent()};e.OuCalcOperatorHintProvider.prototype.prepare=function(t){let i=this.m_operators;if(t.getParent().isPresent()){let n=e.XStream.of(t.getParent().get().getDataTypes()).filter(e=>e.getSupportedOperators().isPresent()).collect(e.XStreamCollector.toList());if(n.hasElements()){let t=e.XStream.of(n).flatMap(t=>e.XStream.ofString(t.getSupportedOperators().get())).distinct().collect(e.XStreamCollector.toListOfString(e=>e.getString()));i=e.XStream.of(i).filter(i=>e.XStream.ofString(t).anyMatch(e=>i.getMetadata().hasName(e.getString()))).collect(e.XStreamCollector.toList())}}let n=t.getTokenType().isEqualTo(e.FeTokenType.DIMENSION)?e.FeDataType.STRING:e.FeDataType.NUMBER;this.m_hints=e.XList.create();this.m_hints.addAll(e.XStream.of(i).filter(t=>{let i=t.getMetadata().getArgument(0);let o=i.isPresent()?i.get().getSupportedArgumentTypes():null;return e.XStream.of(o).anyMatch(t=>e.FeDataType.isCompatible(t,n))}).map(t=>e.OuCalcHintValue.create(t.getSyntax(),t.getDisplayName(),t.getHintScore(),this.getCssClassName())).collect(e.XStreamCollector.toList()));if(this.isBaseDimensionToken(t)){let t=this.m_hints.isEmpty()?0:this.m_hints.get(this.m_hints.size()-1).getScore()-1;this.m_hints.add(e.OuCalcHintValue.create(e.OuCalcOperatorHintProvider.DIM_SEPARATOR,e.OuCalcOperatorHintProvider.DIM_SEPARATOR,t,this.getCssClassName()))}};e.OuCalcOperatorHintProvider.prototype.provide=function(){return this.m_hints};e.OuCalcPropertyHintProvider=function(){};e.OuCalcPropertyHintProvider.prototype=new e.OuCalcAbstractHintProvider;e.OuCalcPropertyHintProvider.prototype._ff_c="OuCalcPropertyHintProvider";e.OuCalcPropertyHintProvider.CSS_CLASS_NAME="fePropertyHint";e.OuCalcPropertyHintProvider.SCORE=0;e.OuCalcPropertyHintProvider.SPACE=" ";e.OuCalcPropertyHintProvider.create=function(t,i,n){e.XObjectExt.assertNotNull(t);let o=new e.OuCalcPropertyHintProvider;o.m_dimensions=t;o.m_feConfiguration=i;o.m_enableModelPrefix=n;o.setupInternal(e.OuCalcPropertyHintProvider.CSS_CLASS_NAME);return o};e.OuCalcPropertyHintProvider.prototype.m_dimensions=null;e.OuCalcPropertyHintProvider.prototype.m_enableModelPrefix=false;e.OuCalcPropertyHintProvider.prototype.m_feConfiguration=null;e.OuCalcPropertyHintProvider.prototype.m_properties=null;e.OuCalcPropertyHintProvider.prototype.accept=function(t){return this.m_feConfiguration.dimensionsSupported()&&t.getDataTypes().contains(e.FeDataType.PROPERTY)};e.OuCalcPropertyHintProvider.prototype.buildCaption=function(t){if(e.XStringUtils.isNullOrEmpty(t.getDescription())){return t.getField(this.m_enableModelPrefix)}return e.XStringUtils.concatenate3(t.getDescription(),e.OuCalcPropertyHintProvider.SPACE,t.getField(this.m_enableModelPrefix))};e.OuCalcPropertyHintProvider.prototype.getDimensionByField=function(t){return e.XStream.of(this.m_dimensions).find(i=>e.XString.isEqual(i.getField(this.m_enableModelPrefix),t))};e.OuCalcPropertyHintProvider.prototype.prepare=function(t){this.m_properties=e.XList.create();let i=this.getDimensionByField(t.getText());if(i.isPresent()&&!i.get().getProperties().isEmpty()){this.m_properties.addAll(i.get().getProperties())}if(t.getParent().isPresent()){if(e.XStream.of(t.getParent().get().getDataTypes()).anyMatch(t=>t.isTypeOf(e.FeDataType.DIMENSION)&&!t.supportsNumericDimensions())){this.m_properties=e.XCollectionUtils.filter(this.m_properties,e=>!e.getValueType().isNumber())}}};e.OuCalcPropertyHintProvider.prototype.provide=function(){return e.XCollectionUtils.map(this.m_properties,t=>e.OuCalcHintValue.create(t.getField(this.m_enableModelPrefix),this.buildCaption(t),e.OuCalcPropertyHintProvider.SCORE,this.getCssClassName()))};e.OuCalcVariablesHintProvider=function(){};e.OuCalcVariablesHintProvider.prototype=new e.OuCalcAbstractHintProvider;e.OuCalcVariablesHintProvider.prototype._ff_c="OuCalcVariablesHintProvider";e.OuCalcVariablesHintProvider.CSS_CLASS_NAME="feVariableHint";e.OuCalcVariablesHintProvider.INITIAL_SCORE=1e4;e.OuCalcVariablesHintProvider.SPACE=" ";e.OuCalcVariablesHintProvider.create=function(t){let i=new e.OuCalcVariablesHintProvider;i.m_variables=t;i.setupInternal(e.OuCalcVariablesHintProvider.CSS_CLASS_NAME);return i};e.OuCalcVariablesHintProvider.prototype.m_currentScore=0;e.OuCalcVariablesHintProvider.prototype.m_filteredVariables=null;e.OuCalcVariablesHintProvider.prototype.m_variables=null;e.OuCalcVariablesHintProvider.prototype.accept=function(e){return true};e.OuCalcVariablesHintProvider.prototype.buildCaption=function(t){let i=e.XStringBuffer.create();if(e.XStringUtils.isNotNullAndNotEmpty(t.getDescription())){i.append(t.getDescription());i.append(e.OuCalcVariablesHintProvider.SPACE)}i.append(t.getField(false));return i.toString()};e.OuCalcVariablesHintProvider.prototype.prepare=function(t){this.m_filteredVariables=e.XCollectionUtils.filter(this.m_variables,e=>this.isTokenTypeOf(t,e.getDataType()))};e.OuCalcVariablesHintProvider.prototype.provide=function(){this.m_currentScore=e.OuCalcVariablesHintProvider.INITIAL_SCORE;return e.XStream.of(this.m_filteredVariables).map(t=>e.OuCalcHintSnippet.create(t.getField(false),this.buildCaption(t),this.m_currentScore--,this.getCssClassName())).collect(e.XStreamCollector.toList())};e.OuCalcAssistancePanelConfig=function(){};e.OuCalcAssistancePanelConfig.prototype=new e.OuCalcPanelConfig;e.OuCalcAssistancePanelConfig.prototype._ff_c="OuCalcAssistancePanelConfig";e.OuCalcAssistancePanelConfig.create=function(t){let i=new e.OuCalcAssistancePanelConfig;i.setupInternal(t);return i};e.OuCalcCodeEditorPanelConfig=function(){};e.OuCalcCodeEditorPanelConfig.prototype=new e.OuCalcPanelConfig;e.OuCalcCodeEditorPanelConfig.prototype._ff_c="OuCalcCodeEditorPanelConfig";e.OuCalcCodeEditorPanelConfig.create=function(t){let i=new e.OuCalcCodeEditorPanelConfig;i.setupInternal(t);return i};e.OuCalcDetailsPanelConfig=function(){};e.OuCalcDetailsPanelConfig.prototype=new e.OuCalcPanelConfig;e.OuCalcDetailsPanelConfig.prototype._ff_c="OuCalcDetailsPanelConfig";e.OuCalcDetailsPanelConfig.create=function(t){let i=new e.OuCalcDetailsPanelConfig;i.setupInternal(t);return i};e.OuCalcFormulaItemListPanelConfig=function(){};e.OuCalcFormulaItemListPanelConfig.prototype=new e.OuCalcPanelConfig;e.OuCalcFormulaItemListPanelConfig.prototype._ff_c="OuCalcFormulaItemListPanelConfig";e.OuCalcFormulaItemListPanelConfig.create=function(t){let i=new e.OuCalcFormulaItemListPanelConfig;i.setupInternal(t);return i};e.OuCalcSinglePluginConfig=function(){};e.OuCalcSinglePluginConfig.prototype=new e.OuCalcPanelConfig;e.OuCalcSinglePluginConfig.prototype._ff_c="OuCalcSinglePluginConfig";e.OuCalcSinglePluginConfig.create=function(t,i,n){let o=new e.OuCalcSinglePluginConfig;o.setupInternal(t);o.m_leftPanelWidth=i;o.m_rightPanelWidth=n;return o};e.OuCalcSinglePluginConfig.createEmpty=function(){let t=new e.OuCalcSinglePluginConfig;t.setupInternal(null);return t};e.OuCalcSinglePluginConfig.prototype.m_leftPanelWidth=null;e.OuCalcSinglePluginConfig.prototype.m_rightPanelWidth=null;e.OuCalcSinglePluginConfig.prototype.getLeftPanelWidth=function(){return this.m_leftPanelWidth};e.OuCalcSinglePluginConfig.prototype.getRightPanelWidth=function(){return this.m_rightPanelWidth};e.OuCalcTreePanelItem=function(){};e.OuCalcTreePanelItem.prototype=new e.OuCalcPanelItem;e.OuCalcTreePanelItem.prototype._ff_c="OuCalcTreePanelItem";e.OuCalcTreePanelItem.ROOT_ID="__ROOT_ID__";e.OuCalcTreePanelItem.createRoot=function(){let t=new e.OuCalcTreePanelItem;t.setupInternal(e.OuCalcTreePanelItem.ROOT_ID,e.OuCalcTreePanelItem.ROOT_ID,e.OuCalcTreePanelItem.ROOT_ID,e.OuCalcTreePanelItem.ROOT_ID,true,null,null,null);t.m_children=e.XLinkedHashMapByString.create();return t};e.OuCalcTreePanelItem.createWithItem=function(t){let i=new e.OuCalcTreePanelItem;i.setupInternal(t.getUniqueKey(),t.getId(),t.getTechnicalIdentifier(),t.getDisplayName(),t.isEnabled(),t.getCategory(),t.getTooltip().orElse(null),t.getParentId().orElse(null));i.m_children=e.XLinkedHashMapByString.create();return i};e.OuCalcTreePanelItem.prototype.m_children=null;e.OuCalcTreePanelItem.prototype.m_parent=null;e.OuCalcTreePanelItem.prototype.addChild=function(t){e.XObjectExt.assertFalseExt(this.m_children.containsKey(t.getUniqueKey()),e.XStringUtils.concatenate3("Item with the key '",t.getUniqueKey(),"', already exists!"));this.m_children.put(t.getUniqueKey(),t);t.m_parent=this};e.OuCalcTreePanelItem.prototype.getChildren=function(){return this.m_children.getValuesAsReadOnlyList()};e.OuCalcTreePanelItem.prototype.getParent=function(){return e.XOptional.ofNullable(this.m_parent)};e.OuCalcTreePanelItem.prototype.isLeaf=function(){return!this.m_children.hasElements()};e.OuCalcTreePanelItem.prototype.releaseObject=function(){this.m_parent=null;e.XStream.of(this.m_children).forEach(t=>{e.XObjectExt.release(t)});this.m_children.clear();this.m_children=e.XObjectExt.release(this.m_children);e.OuCalcPanelItem.prototype.releaseObject.call(this)};e.OuCalcTreePanelItem.prototype.removeChild=function(e){this.m_children.remove(e.getUniqueKey())};e.OuLambdaSyncListener=function(){};e.OuLambdaSyncListener.prototype=new e.XObject;e.OuLambdaSyncListener.prototype._ff_c="OuLambdaSyncListener";e.OuLambdaSyncListener.create=function(t){let i=new e.OuLambdaSyncListener;i.m_action=t;return i};e.OuLambdaSyncListener.prototype.m_action=null;e.OuLambdaSyncListener.prototype.onSynchronized=function(e,t,i){this.m_action(e,t)};e.OuLambdaSyncListener.prototype.releaseObject=function(){this.m_action=null;e.XObject.prototype.releaseObject.call(this)};e.OrcaLinkVarProxyData=function(){};e.OrcaLinkVarProxyData.prototype=new e.OlapUiMultiRequestHelper;e.OrcaLinkVarProxyData.prototype._ff_c="OrcaLinkVarProxyData";e.OrcaLinkVarProxyData.createData=function(t,i,n){let o=new e.OrcaLinkVarProxyData;o.setupExt(t,i,n);return o};e.OrcaLinkVarProxyData.prototype.m_proxyId=null;e.OrcaLinkVarProxyData.prototype.getProxyId=function(){return this.m_proxyId};e.OrcaLinkVarProxyData.prototype.releaseObject=function(){this.m_proxyId=null;e.OlapUiMultiRequestHelper.prototype.releaseObject.call(this)};e.OrcaLinkVarProxyData.prototype.setupExt=function(e,t,i){this.setupHelper(t,i);this.m_proxyId=e};e.OrcaLinkVarProxyData.prototype.toString=function(){return this.getProxyId()};e.OuMeasureInputDataProviderAccount=function(){};e.OuMeasureInputDataProviderAccount.prototype=new e.OuMeasureInputDataProvider;e.OuMeasureInputDataProviderAccount.prototype._ff_c="OuMeasureInputDataProviderAccount";e.OuMeasureInputDataProviderAccount.create=function(t){let i=new e.OuMeasureInputDataProviderAccount;i.setupInternal(t);return i};e.OuMeasureInputDataProviderAccount.prototype.assertQueryModelType=function(t){e.XObjectExt.assertTrueExt(t.isAccountModel(),"Query model should be 'account model'")};e.OuMeasureInputDataProviderAccount.prototype.getMemberDimension=function(){let e=this.m_queryModel.getAccountDimension();if(e.getAllStructureMembers().size()===0){e=this.m_queryModel.getMeasureDimension()}return e};e.OuMeasureInputDataProviderMeasureModel=function(){};e.OuMeasureInputDataProviderMeasureModel.prototype=new e.OuMeasureInputDataProvider;e.OuMeasureInputDataProviderMeasureModel.prototype._ff_c="OuMeasureInputDataProviderMeasureModel";e.OuMeasureInputDataProviderMeasureModel.create=function(t){return e.OuMeasureInputDataProviderMeasureModel.createInternal(t,null)};e.OuMeasureInputDataProviderMeasureModel.createInternal=function(t,i){let n=new e.OuMeasureInputDataProviderMeasureModel;n.setupInternal(t);n.m_structure=i;return n};e.OuMeasureInputDataProviderMeasureModel.createWithStructure=function(t,i){e.XObjectExt.assertNotNullExt(i,"Structure is null");return e.OuMeasureInputDataProviderMeasureModel.createInternal(t,i)};e.OuMeasureInputDataProviderMeasureModel.prototype.m_structure=null;e.OuMeasureInputDataProviderMeasureModel.prototype.assertQueryModelType=function(t){e.XObjectExt.assertTrueExt(t.getAccountDimension()===null,"Query model should be 'measure model'")};e.OuMeasureInputDataProviderMeasureModel.prototype.getMemberDimension=function(){if(e.notNull(this.m_structure)){return this.m_structure}return this.m_queryModel.getMeasureDimension()};e.OuMeasureInputDataProviderUAM=function(){};e.OuMeasureInputDataProviderUAM.prototype=new e.OuMeasureInputDataProvider;e.OuMeasureInputDataProviderUAM.prototype._ff_c="OuMeasureInputDataProviderUAM";e.OuMeasureInputDataProviderUAM.create=function(t){return e.OuMeasureInputDataProviderUAM.createInternal(t,null)};e.OuMeasureInputDataProviderUAM.createInternal=function(t,i){let n=new e.OuMeasureInputDataProviderUAM;n.setupInternal(t);n.m_structure=i;return n};e.OuMeasureInputDataProviderUAM.createWithStructure=function(t,i){e.XObjectExt.assertNotNullExt(i,"Structure is null");return e.OuMeasureInputDataProviderUAM.createInternal(t,i)};e.OuMeasureInputDataProviderUAM.prototype.m_structure=null;e.OuMeasureInputDataProviderUAM.prototype.assertQueryModelType=function(t){e.XObjectExt.assertTrueExt(t.isUniversalAccountModel(),"Query model should be 'Universal Account Model'")};e.OuMeasureInputDataProviderUAM.prototype.getMemberDimension=function(){if(e.notNull(this.m_structure)){return this.m_structure}let t=this.m_queryModel.getAccountDimension();if(t.getAllStructureMembers().isEmpty()){t=this.m_queryModel.getMeasureDimension()}return t};e.OlapUiDialogHandle=function(){};e.OlapUiDialogHandle.prototype=new e.XObject;e.OlapUiDialogHandle.prototype._ff_c="OlapUiDialogHandle";e.OlapUiDialogHandle.DIALOG_CSS_CLASS="ffSacDialog";e.OlapUiDialogHandle.createDialogHandle=function(t){let i=new e.OlapUiDialogHandle;i.setupDialogHandle(t);return i};e.OlapUiDialogHandle.prototype.m_dialog=null;e.OlapUiDialogHandle.prototype.m_genesis=null;e.OlapUiDialogHandle.prototype.addCssClass=function(e){return this.m_dialog.addCssClass(e)};e.OlapUiDialogHandle.prototype.addNewButton=function(){return this.m_dialog.addNewDialogButton()};e.OlapUiDialogHandle.prototype.close=function(){return this.m_dialog.close()};e.OlapUiDialogHandle.prototype.getCssClass=function(){return this.m_dialog.getCssClass()};e.OlapUiDialogHandle.prototype.getGenesis=function(){return this.m_genesis};e.OlapUiDialogHandle.prototype.getListenerOnAfterClose=function(){return this.m_dialog.getListenerOnAfterClose()};e.OlapUiDialogHandle.prototype.getListenerOnAfterOpen=function(){return this.m_dialog.getListenerOnAfterOpen()};e.OlapUiDialogHandle.prototype.getListenerOnBeforeClose=function(){return this.m_dialog.getListenerOnBeforeClose()};e.OlapUiDialogHandle.prototype.getListenerOnBeforeOpen=function(){return this.m_dialog.getListenerOnBeforeOpen()};e.OlapUiDialogHandle.prototype.getListenerOnResize=function(){return this.m_dialog.getListenerOnResize()};e.OlapUiDialogHandle.prototype.getOffsetWidth=function(){return this.m_dialog.getOffsetWidth()};e.OlapUiDialogHandle.prototype.insertNewButton=function(t){let i=this.m_genesis.newControl(e.UiType.DIALOG_BUTTON);this.m_dialog.insertDialogButton(i,t);return i};e.OlapUiDialogHandle.prototype.isBusy=function(){return this.m_dialog.isBusy()};e.OlapUiDialogHandle.prototype.isOpen=function(){return this.m_dialog.isOpen()};e.OlapUiDialogHandle.prototype.isResizable=function(){return this.m_dialog.isResizable()};e.OlapUiDialogHandle.prototype.open=function(){return this.m_dialog.open()};e.OlapUiDialogHandle.prototype.registerOnAfterClose=function(e){return this.m_dialog.registerOnAfterClose(e)};e.OlapUiDialogHandle.prototype.registerOnAfterOpen=function(e){return this.m_dialog.registerOnAfterOpen(e)};e.OlapUiDialogHandle.prototype.registerOnBeforeClose=function(e){return this.m_dialog.registerOnBeforeClose(e)};e.OlapUiDialogHandle.prototype.registerOnBeforeOpen=function(e){return this.m_dialog.registerOnBeforeOpen(e)};e.OlapUiDialogHandle.prototype.registerOnResize=function(e){return this.m_dialog.registerOnResize(e)};e.OlapUiDialogHandle.prototype.releaseObject=function(){if(e.notNull(this.m_dialog)&&this.m_dialog.isOpen()){this.m_dialog.close()}this.m_dialog=e.XObjectExt.release(this.m_dialog);this.m_genesis=e.XObjectExt.release(this.m_genesis);e.XObject.prototype.releaseObject.call(this)};e.OlapUiDialogHandle.prototype.removeCssClass=function(e){return this.m_dialog.removeCssClass(e)};e.OlapUiDialogHandle.prototype.setBusy=function(e){return this.m_dialog.setBusy(e)};e.OlapUiDialogHandle.prototype.setHeight=function(e){this.m_dialog.setHeight(e)};e.OlapUiDialogHandle.prototype.setName=function(e){this.m_dialog.setName(e)};e.OlapUiDialogHandle.prototype.setResizable=function(e){return this.m_dialog.setResizable(e)};e.OlapUiDialogHandle.prototype.setTitle=function(e){this.m_dialog.setTitle(e)};e.OlapUiDialogHandle.prototype.setWidth=function(e){this.m_dialog.setWidth(e)};e.OlapUiDialogHandle.prototype.setupDialogHandle=function(t){this.m_dialog=t;this.m_dialog.addCssClass(e.OlapUiDialogHandle.DIALOG_CSS_CLASS);this.m_dialog.setPadding(e.UiCssBoxEdges.create("1rem"));this.m_genesis=e.UiGenesis.create(this.m_dialog)};e.OlapUiDialogHandle.prototype.shake=function(){this.m_dialog.shake()};e.OlapUiDummyHandle=function(){};e.OlapUiDummyHandle.prototype=new e.XObject;e.OlapUiDummyHandle.prototype._ff_c="OlapUiDummyHandle";e.OlapUiDummyHandle.createDummy=function(){let t=new e.OlapUiDummyHandle;t.m_genesis=e.UiGenesis.create(e.UiContextDummy.getSingleton());return t};e.OlapUiDummyHandle.createFactory=function(){return new e.OlapUiDummyHandle};e.OlapUiDummyHandle.prototype.m_afterClose=null;e.OlapUiDummyHandle.prototype.m_afterOpen=null;e.OlapUiDummyHandle.prototype.m_beforeClose=null;e.OlapUiDummyHandle.prototype.m_beforeOpen=null;e.OlapUiDummyHandle.prototype.m_genesis=null;e.OlapUiDummyHandle.prototype.addCssClass=function(t){return e.UiContextDummy.getSingleton()};e.OlapUiDummyHandle.prototype.addNewButton=function(){return e.UiContextDummy.getSingleton()};e.OlapUiDummyHandle.prototype.close=function(){let t=e.UiControlEvent.create(e.UiContextDummy.getSingleton());if(e.notNull(this.m_beforeClose)){this.m_beforeClose.onBeforeClose(t)}if(e.notNull(this.m_afterClose)){this.m_afterClose.onAfterClose(t)}return e.UiContextDummy.getSingleton()};e.OlapUiDummyHandle.prototype.getCssClass=function(){return null};e.OlapUiDummyHandle.prototype.getGenesis=function(){return this.m_genesis};e.OlapUiDummyHandle.prototype.getInstance=function(){return e.OlapUiDummyHandle.createDummy()};e.OlapUiDummyHandle.prototype.getListenerOnAfterClose=function(){return this.m_afterClose};e.OlapUiDummyHandle.prototype.getListenerOnAfterOpen=function(){return this.m_afterOpen};e.OlapUiDummyHandle.prototype.getListenerOnBeforeClose=function(){return this.m_beforeClose};e.OlapUiDummyHandle.prototype.getListenerOnBeforeOpen=function(){return this.m_beforeOpen};e.OlapUiDummyHandle.prototype.getListenerOnResize=function(){return null};e.OlapUiDummyHandle.prototype.getOffsetWidth=function(){return 0};e.OlapUiDummyHandle.prototype.insertNewButton=function(t){return e.UiContextDummy.getSingleton()};e.OlapUiDummyHandle.prototype.isBusy=function(){return false};e.OlapUiDummyHandle.prototype.isOpen=function(){return false};e.OlapUiDummyHandle.prototype.isResizable=function(){return false};e.OlapUiDummyHandle.prototype.open=function(){if(e.notNull(this.m_afterOpen)){this.m_afterOpen.onAfterOpen(e.UiControlEvent.create(e.UiContextDummy.getSingleton()))}return e.UiContextDummy.getSingleton()};e.OlapUiDummyHandle.prototype.registerOnAfterClose=function(t){this.m_afterClose=t;return e.UiContextDummy.getSingleton()};e.OlapUiDummyHandle.prototype.registerOnAfterOpen=function(t){this.m_afterOpen=t;return e.UiContextDummy.getSingleton()};e.OlapUiDummyHandle.prototype.registerOnBeforeClose=function(t){this.m_beforeClose=t;return e.UiContextDummy.getSingleton()};e.OlapUiDummyHandle.prototype.registerOnBeforeOpen=function(t){this.m_beforeOpen=t;return e.UiContextDummy.getSingleton()};e.OlapUiDummyHandle.prototype.registerOnResize=function(e){return null};e.OlapUiDummyHandle.prototype.removeCssClass=function(t){return e.UiContextDummy.getSingleton()};e.OlapUiDummyHandle.prototype.setBusy=function(t){return e.UiContextDummy.getSingleton()};e.OlapUiDummyHandle.prototype.setHeight=function(e){};e.OlapUiDummyHandle.prototype.setName=function(e){};e.OlapUiDummyHandle.prototype.setResizable=function(e){return null};e.OlapUiDummyHandle.prototype.setTitle=function(e){};e.OlapUiDummyHandle.prototype.setWidth=function(e){};e.OlapUiDummyHandle.prototype.shake=function(){};e.OlapUiNavigationHandle=function(){};e.OlapUiNavigationHandle.prototype=new e.XObject;e.OlapUiNavigationHandle.prototype._ff_c="OlapUiNavigationHandle";e.OlapUiNavigationHandle.createNavigationHandle=function(t,i){let n=new e.OlapUiNavigationHandle;n.setupNavigationHandle(t,i);return n};e.OlapUiNavigationHandle.prototype.m_afterClose=null;e.OlapUiNavigationHandle.prototype.m_afterOpen=null;e.OlapUiNavigationHandle.prototype.m_beforeClose=null;e.OlapUiNavigationHandle.prototype.m_beforeOpen=null;e.OlapUiNavigationHandle.prototype.m_genesis=null;e.OlapUiNavigationHandle.prototype.m_navigationContainer=null;e.OlapUiNavigationHandle.prototype.m_page=null;e.OlapUiNavigationHandle.prototype.addCssClass=function(e){return this.m_navigationContainer.addCssClass(e)};e.OlapUiNavigationHandle.prototype.addNewButton=function(){let t=this.m_genesis.newControl(e.UiType.PAGE_BUTTON);this.m_page.addPageButton(t);return t};e.OlapUiNavigationHandle.prototype.close=function(){if(e.notNull(this.m_beforeClose)){this.m_beforeClose.onBeforeClose(e.UiControlEvent.create(this.m_page))}this.m_navigationContainer.popPage();if(e.notNull(this.m_afterClose)){this.m_afterClose.onAfterClose(e.UiControlEvent.create(this.m_page))}return this.m_page};e.OlapUiNavigationHandle.prototype.getCssClass=function(){return this.m_navigationContainer.getCssClass()};e.OlapUiNavigationHandle.prototype.getGenesis=function(){return this.m_genesis};e.OlapUiNavigationHandle.prototype.getListenerOnAfterClose=function(){return this.m_afterClose};e.OlapUiNavigationHandle.prototype.getListenerOnAfterOpen=function(){return this.m_afterOpen};e.OlapUiNavigationHandle.prototype.getListenerOnBeforeClose=function(){return this.m_beforeClose};e.OlapUiNavigationHandle.prototype.getListenerOnBeforeOpen=function(){return this.m_beforeOpen};e.OlapUiNavigationHandle.prototype.getListenerOnResize=function(){return null};e.OlapUiNavigationHandle.prototype.getOffsetWidth=function(){return 0};e.OlapUiNavigationHandle.prototype.insertNewButton=function(t){let i=this.m_genesis.newControl(e.UiType.PAGE_BUTTON);this.m_page.insertPageButton(i,t);return i};e.OlapUiNavigationHandle.prototype.isBusy=function(){return this.m_genesis.getRoot().isBusy()};e.OlapUiNavigationHandle.prototype.isOpen=function(){return this.m_navigationContainer.getIndexOfPage(this.m_page)!==-1};e.OlapUiNavigationHandle.prototype.isResizable=function(){return false};e.OlapUiNavigationHandle.prototype.open=function(){this.m_navigationContainer.pushPage(this.m_page);if(e.notNull(this.m_afterOpen)){this.m_afterOpen.onAfterOpen(e.UiControlEvent.create(this.m_page))}return this.m_page};e.OlapUiNavigationHandle.prototype.registerOnAfterClose=function(e){this.m_afterClose=e;return this.m_page};e.OlapUiNavigationHandle.prototype.registerOnAfterOpen=function(e){this.m_afterOpen=e;return this.m_page};e.OlapUiNavigationHandle.prototype.registerOnBeforeClose=function(e){this.m_beforeClose=e;return this.m_page};e.OlapUiNavigationHandle.prototype.registerOnBeforeOpen=function(e){this.m_beforeOpen=e;return this.m_page};e.OlapUiNavigationHandle.prototype.registerOnResize=function(e){return null};e.OlapUiNavigationHandle.prototype.releaseObject=function(){this.m_navigationContainer.clearPages();this.m_navigationContainer=null;this.m_page=null;this.m_genesis=e.XObjectExt.release(this.m_genesis);e.XObject.prototype.releaseObject.call(this)};e.OlapUiNavigationHandle.prototype.removeCssClass=function(e){return this.m_navigationContainer.removeCssClass(e)};e.OlapUiNavigationHandle.prototype.setBusy=function(e){this.m_genesis.getRoot().setBusy(e);return this.m_page};e.OlapUiNavigationHandle.prototype.setHeight=function(e){};e.OlapUiNavigationHandle.prototype.setName=function(e){this.m_page.setName(e)};e.OlapUiNavigationHandle.prototype.setResizable=function(e){return null};e.OlapUiNavigationHandle.prototype.setTitle=function(e){this.m_page.setTitle(e)};e.OlapUiNavigationHandle.prototype.setWidth=function(e){};e.OlapUiNavigationHandle.prototype.setupNavigationHandle=function(t,i){this.m_navigationContainer=t;this.m_page=i;this.m_page.setShowNavButton(false);this.m_genesis=e.UiGenesis.create(this.m_page)};e.OlapUiNavigationHandle.prototype.shake=function(){};e.OlapUiPageHandle=function(){};e.OlapUiPageHandle.prototype=new e.XObject;e.OlapUiPageHandle.prototype._ff_c="OlapUiPageHandle";e.OlapUiPageHandle.createPageHandle=function(t){let i=new e.OlapUiPageHandle;i.setupPageHandle(t);return i};e.OlapUiPageHandle.prototype.m_afterClose=null;e.OlapUiPageHandle.prototype.m_afterOpen=null;e.OlapUiPageHandle.prototype.m_beforeClose=null;e.OlapUiPageHandle.prototype.m_beforeOpen=null;e.OlapUiPageHandle.prototype.m_genesis=null;e.OlapUiPageHandle.prototype.m_page=null;e.OlapUiPageHandle.prototype.addCssClass=function(e){return this.m_page.addCssClass(e)};e.OlapUiPageHandle.prototype.addNewButton=function(){let t=this.m_genesis.newControl(e.UiType.PAGE_BUTTON);this.m_page.addPageButton(t);return t};e.OlapUiPageHandle.prototype.close=function(){if(e.notNull(this.m_beforeClose)){this.m_beforeClose.onBeforeClose(e.UiControlEvent.create(this.m_page))}if(e.notNull(this.m_afterClose)){this.m_afterClose.onAfterClose(e.UiControlEvent.create(this.m_page))}return this.m_page};e.OlapUiPageHandle.prototype.getCssClass=function(){return this.m_page.getCssClass()};e.OlapUiPageHandle.prototype.getGenesis=function(){return this.m_genesis};e.OlapUiPageHandle.prototype.getListenerOnAfterClose=function(){return this.m_afterClose};e.OlapUiPageHandle.prototype.getListenerOnAfterOpen=function(){return this.m_afterOpen};e.OlapUiPageHandle.prototype.getListenerOnBeforeClose=function(){return this.m_beforeClose};e.OlapUiPageHandle.prototype.getListenerOnBeforeOpen=function(){return this.m_beforeOpen};e.OlapUiPageHandle.prototype.getListenerOnResize=function(){return null};e.OlapUiPageHandle.prototype.getOffsetWidth=function(){return 0};e.OlapUiPageHandle.prototype.insertNewButton=function(t){let i=this.m_genesis.newControl(e.UiType.PAGE_BUTTON);this.m_page.insertPageButton(i,t);return i};e.OlapUiPageHandle.prototype.isBusy=function(){return this.m_genesis.getRoot().isBusy()};e.OlapUiPageHandle.prototype.isOpen=function(){return this.m_page.getParent()!==null};e.OlapUiPageHandle.prototype.isResizable=function(){return false};e.OlapUiPageHandle.prototype.open=function(){if(e.notNull(this.m_afterOpen)){this.m_afterOpen.onAfterOpen(e.UiControlEvent.create(this.m_page))}return this.m_page};e.OlapUiPageHandle.prototype.registerOnAfterClose=function(e){this.m_afterClose=e;return this.m_page};e.OlapUiPageHandle.prototype.registerOnAfterOpen=function(e){this.m_afterOpen=e;return this.m_page};e.OlapUiPageHandle.prototype.registerOnBeforeClose=function(e){this.m_beforeClose=e;return this.m_page};e.OlapUiPageHandle.prototype.registerOnBeforeOpen=function(e){this.m_beforeOpen=e;return this.m_page};e.OlapUiPageHandle.prototype.registerOnResize=function(e){return null};e.OlapUiPageHandle.prototype.releaseObject=function(){this.m_page=null;this.m_genesis=e.XObjectExt.release(this.m_genesis);e.XObject.prototype.releaseObject.call(this)};e.OlapUiPageHandle.prototype.removeCssClass=function(e){return this.m_page.removeCssClass(e)};e.OlapUiPageHandle.prototype.setBusy=function(e){this.m_genesis.getRoot().setBusy(e);return this.m_page};e.OlapUiPageHandle.prototype.setHeight=function(e){};e.OlapUiPageHandle.prototype.setName=function(e){this.m_page.setName(e)};e.OlapUiPageHandle.prototype.setResizable=function(e){return null};e.OlapUiPageHandle.prototype.setTitle=function(e){this.m_page.setTitle(e)};e.OlapUiPageHandle.prototype.setWidth=function(e){};e.OlapUiPageHandle.prototype.setupPageHandle=function(t){this.m_page=t;this.m_genesis=e.UiGenesis.create(this.m_page)};e.OlapUiPageHandle.prototype.shake=function(){};e.OlapUiValueHelpDimension=function(){};e.OlapUiValueHelpDimension.prototype=new e.OlapUiValueHelpAbstract;e.OlapUiValueHelpDimension.prototype._ff_c="OlapUiValueHelpDimension";e.OlapUiValueHelpDimension.create=function(t){let i=new e.OlapUiValueHelpDimension;i.setupExt(t);return i};e.OlapUiValueHelpDimension.prototype.m_hierarchyChanged=false;e.OlapUiValueHelpDimension.prototype.m_hierarchyName=null;e.OlapUiValueHelpDimension.prototype.configureValueHelp=function(t,i,n,o,r,a,s){e.OlapUiValueHelpAbstract.prototype.configureValueHelp.call(this,t,i,n,o,r,a,s);if(i===e.QMemberReadMode.BOOKED_AND_SPACE_AND_STATE){t.setSelectorCascadingReadModeAndFilter()}};e.OlapUiValueHelpDimension.prototype.getDimension=function(){return this.m_valueRequestObject};e.OlapUiValueHelpDimension.prototype.getHierarchyName=function(){return this.m_hierarchyChanged?this.m_hierarchyName:this.m_valueRequestObject.getHierarchyName()};e.OlapUiValueHelpDimension.prototype.getReadMode=function(t){if(t===e.OlapUiReadMode.QUERY_DEFAULT){let t=this.getDimension();let i=t.getReadModeDefault(this.getSystemType(t).isTypeOf(e.SystemType.HANA)?e.QContextType.RESULT_SET:e.QContextType.SELECTOR);if(e.notNull(i)){return i}}if(t===e.OlapUiReadMode.MASTER){return e.QMemberReadMode.MASTER_AND_SPACE}return t===e.OlapUiReadMode.BOOKED_CASCADING?e.QMemberReadMode.BOOKED_AND_SPACE_AND_STATE:e.QMemberReadMode.BOOKED_AND_SPACE};e.OlapUiValueHelpDimension.prototype.isHierarchicalValueHelp=function(){return this.m_hierarchyChanged?e.XStringUtils.isNotNullAndNotEmpty(this.m_hierarchyName):this.m_valueRequestObject.isHierarchyActive()};e.OlapUiValueHelpDimension.prototype.processChildFetch=function(t,i,n,o,r,a,s){let l=t.getDimension();let u=this.getReadMode(r);this.configureValueHelp(l,u,0,0,n,o,false);l.setSelectorPaging(i,i+n);t.processValueHelpChildFetch(e.OlapUiValueHelpAbstract.s_syncType,a,s)};e.OlapUiValueHelpDimension.prototype.processDataRange=function(t,i){let n=this.m_valueRequestObject;let o=this.getReadMode(e.OlapUiReadMode.BOOKED);let r=n.getQueryModel()!==null&&n.getQueryModel().isValueHelpIgnoreQueryDynamicFilter();let a=this.m_hierarchyChanged;let s=this.m_hierarchyName;this.m_hierarchyChanged=true;this.m_hierarchyName=null;this.configureValueHelp(n,o,0,-1,0,null,true);n.setSelectorGettingInterval(true);n.setSelectorHierarchyActive(false);this.setIgnoreQueryDynamicFilter(true);if(n.getFlatKeyField().getValueType().isDateBased()){n.addSelectorFilterForKey("0001-01-01",e.ComparisonOperator.GREATER_THAN)}n.processValueHelp(e.OlapUiValueHelpAbstract.s_syncType,t,i);this.m_hierarchyChanged=a;this.m_hierarchyName=s;this.setIgnoreQueryDynamicFilter(r)};e.OlapUiValueHelpDimension.prototype.processFetchItems=function(t,i,n,o){let r=this.m_valueRequestObject;if(!this.configureFetchItems(r,this.getReadMode(e.OlapUiReadMode.MASTER),t,i)){n.onValuehelpExecuted(e.ExtResult.create(e.XList.create(),null),null,o);return}r.processValueHelp(e.OlapUiValueHelpAbstract.s_syncType,n,o)};e.OlapUiValueHelpDimension.prototype.processSearch=function(t,i,n,o,r,a,s,l){let u=this.m_valueRequestObject;let p=this.getReadMode(a);this.configureValueHelp(u,p,0,0,o,n,false);let m=this.addNullFilter(t,p);let c=u.addSelectorFilterForFields(t,i,e.ComparisonOperator.MATCH,r,true);if(!m&&!c){s.onValuehelpExecuted(e.ExtResult.create(e.XList.create(),null),null,l);return}u.processValueHelp(e.OlapUiValueHelpAbstract.s_syncType,s,l)};e.OlapUiValueHelpDimension.prototype.processValueHelp=function(t,i,n,o,r,a,s){let l=this.m_valueRequestObject;let u=this.getReadMode(r);this.configureValueHelp(l,u,t,i,n,o,true);l.processValueHelp(e.OlapUiValueHelpAbstract.s_syncType,a,s)};e.OlapUiValueHelpDimension.prototype.releaseObject=function(){e.OlapUiValueHelpAbstract.prototype.releaseObject.call(this);this.m_hierarchyName=null};e.OlapUiValueHelpDimension.prototype.setHierarchyName=function(e){this.m_hierarchyName=e;this.m_hierarchyChanged=true;this.m_valueRequestObject.setSelectorHierarchyActive(this.isHierarchicalValueHelp())};e.OlapUiValueHelpDimension.prototype.setIgnoreQueryDynamicFilter=function(t){let i=this.getDimension();let n=this.getSystemType(i);if(e.notNull(n)&&n.isTypeOf(e.SystemType.ABAP)&&i.getQueryModel()!==null){i.getQueryModel().setIgnoreQueryDynamicFilterInValueHelp(t)}};e.OlapUiValueHelpDimension.prototype.setupExt=function(t){e.OlapUiValueHelpAbstract.prototype.setupExt.call(this,t);let i=t;i.clearSelectorSettings();i.setSelectorHierarchy(this.isHierarchicalValueHelp(),this.getHierarchyName(),0)};e.OlapUiValueHelpVariable=function(){};e.OlapUiValueHelpVariable.prototype=new e.OlapUiValueHelpAbstract;e.OlapUiValueHelpVariable.prototype._ff_c="OlapUiValueHelpVariable";e.OlapUiValueHelpVariable.create=function(t){let i=new e.OlapUiValueHelpVariable;i.setupExt(t);return i};e.OlapUiValueHelpVariable.prototype.getContextType=function(){let t=this.m_valueRequestObject;return this.getSystemType(t.getDimension()).isTypeOf(e.SystemType.ABAP)?e.QContextType.VARIABLE:e.QContextType.SELECTOR};e.OlapUiValueHelpVariable.prototype.getDimension=function(){return this.m_valueRequestObject.getDimension()};e.OlapUiValueHelpVariable.prototype.getHierarchyName=function(){let t=this.m_valueRequestObject;let i=t.getVariableType();return e.notNull(i)&&i.isTypeOf(e.VariableType.HIERARCHY_NODE_VARIABLE)?t.getHierarchyName():null};e.OlapUiValueHelpVariable.prototype.getReadMode=function(t){if(t===e.OlapUiReadMode.QUERY_DEFAULT){let t=this.getDimension().getReadModeDefault(this.getContextType());if(e.notNull(t)){return t}}return t===e.OlapUiReadMode.MASTER?e.QMemberReadMode.MASTER:e.QMemberReadMode.BOOKED};e.OlapUiValueHelpVariable.prototype.isHierarchicalValueHelp=function(){return e.XStringUtils.isNotNullAndNotEmpty(this.getHierarchyName())};e.OlapUiValueHelpVariable.prototype.processChildFetch=function(e,t,i,n,o,r,a){let s=this.m_valueRequestObject;this.processChildFetchForVariable(s,e,t,i,n,o,r,a)};e.OlapUiValueHelpVariable.prototype.processChildFetchForVariable=function(t,i,n,o,r,a,s,l){let u=i.getDimension();this.configureValueHelp(u,this.getReadMode(a),0,0,o,r,false);u.setSelectorPaging(n,n+o);if(u.getDataSource().getType()===e.MetaObjectType.DIMENSION){i.processVarHelpChildFetchWithVariable(t,e.OlapUiValueHelpAbstract.s_syncType,s,l)}else{this.processVariableValueHelpWithReinit(t,s,l,()=>{i.processVarHelpChildFetch(t.getName(),e.OlapUiValueHelpAbstract.s_syncType,s,l)})}};e.OlapUiValueHelpVariable.prototype.processDataRange=function(t,i){let n=this.m_valueRequestObject;let o=n.getDimension();this.configureValueHelp(o,this.getReadMode(e.OlapUiReadMode.BOOKED),0,-1,0,null,true);o.setSelectorGettingInterval(true);if(n.getValueType().isDateBased()){o.addSelectorFilterForKey("0001-01-01",e.ComparisonOperator.GREATER_THAN)}this.processVariableValueHelp(n,t,i)};e.OlapUiValueHelpVariable.prototype.processFetchItems=function(t,i,n,o){let r=this.m_valueRequestObject;let a=r.getDimension();if(!this.configureFetchItems(a,this.getReadMode(e.OlapUiReadMode.MASTER),t,i)){n.onValuehelpExecuted(e.ExtResult.create(e.XList.create(),null),null,o);return}this.processVariableValueHelp(r,n,o);a.clearSelectorFilter()};e.OlapUiValueHelpVariable.prototype.processSearch=function(e,t,i,n,o,r,a,s){let l=this.m_valueRequestObject;this.processSearchForVariable(l,e,t,i,n,o,r,a,s)};e.OlapUiValueHelpVariable.prototype.processSearchForVariable=function(t,i,n,o,r,a,s,l,u){let p=t.getDimension();let m=this.getReadMode(s);this.configureValueHelp(p,m,0,0,r,o,false);let c=this.addNullFilter(i,m);let d=p.addSelectorFilterForFields(i,n,e.ComparisonOperator.MATCH,a,true);if(!c&&!d){l.onValuehelpExecuted(e.ExtResult.create(e.XList.create(),null),null,u);return}this.processVariableValueHelp(t,l,u);p.clearSelectorFilter()};e.OlapUiValueHelpVariable.prototype.processValueHelp=function(e,t,i,n,o,r,a){let s=this.m_valueRequestObject;this.processValueHelpForVariable(s,e,t,i,n,o,r,a)};e.OlapUiValueHelpVariable.prototype.processValueHelpForVariable=function(e,t,i,n,o,r,a,s){let l=e.getDimension();this.configureValueHelp(l,this.getReadMode(r),t,i,n,o,true);this.processVariableValueHelp(e,a,s)};e.OlapUiValueHelpVariable.prototype.processVariableValueHelp=function(t,i,n){let o=t.getDimension();if(o.getDataSource().getType()===e.MetaObjectType.PLANNING_SEQUENCE){o.processVarHelpWithVariable(t,e.OlapUiValueHelpAbstract.s_syncType,i,n)}else{this.processVariableValueHelpWithReinit(t,i,n,()=>{o.processVarHelp(t.getName(),e.OlapUiValueHelpAbstract.s_syncType,i,n)})}};e.OlapUiValueHelpVariable.prototype.processVariableValueHelpWithReinit=function(t,i,n,o){if(t.getQueryManager()!==null&&t.getQueryManager().isReinitNeeded()){t.getQueryManager().reInitVariablesAfterSubmit(e.OlapUiValueHelpAbstract.s_syncType,e.VariableProcessorCallbackLambda.createSingleUse(t=>{if(t.hasErrors()){let o=e.ExtResult.create(null,t);i.onValuehelpExecuted(o,null,n);return}o()}),null)}else{o()}};e.OlapUiValueHelpVariable.prototype.setHierarchyName=function(e){};e.OlapUiValueHelpVariable.prototype.setIgnoreQueryDynamicFilter=function(e){};e.OlapUiValueHelpVariable.prototype.setupExt=function(t){e.OlapUiValueHelpAbstract.prototype.setupExt.call(this,t);let i=t.getDimension();i.clearSelectorSettings();i.setSelectorHierarchy(this.isHierarchicalValueHelp(),this.getHierarchyName(),0)};e.OuAxesViewConfiguration=function(){};e.OuAxesViewConfiguration.prototype=new e.OuDesignerViewConfiguration;e.OuAxesViewConfiguration.prototype._ff_c="OuAxesViewConfiguration";e.OuAxesViewConfiguration.createAxesViewConfig=function(t){let i=new e.OuAxesViewConfiguration;i.setupConfig(t);return i};e.OuAxesViewConfiguration.prototype.m_chartProtocolBindingType=null;e.OuAxesViewConfiguration.prototype.m_useRowsAndColumnsSplitterExpandable=false;e.OuAxesViewConfiguration.prototype.getDefaultChartProtocolBindingType=function(){return this.m_chartProtocolBindingType};e.OuAxesViewConfiguration.prototype.isUseRowsAndColumnsSplitterExpandable=function(){return this.m_useRowsAndColumnsSplitterExpandable};e.OuAxesViewConfiguration.prototype.setDefaultChartProtocolBindingType=function(e){this.m_chartProtocolBindingType=e};e.OuAxesViewConfiguration.prototype.setUseRowsAndColumnsSplitterExpandable=function(e){this.m_useRowsAndColumnsSplitterExpandable=e};e.OuChartAxesController=function(){};e.OuChartAxesController.prototype=new e.OuGridAxesController;e.OuChartAxesController.prototype._ff_c="OuChartAxesController";e.OuChartAxesController.createChartController=function(){return new e.OuChartAxesController};e.OuInventoryViewConfiguration=function(){};e.OuInventoryViewConfiguration.prototype=new e.OuDesignerViewConfiguration;e.OuInventoryViewConfiguration.prototype._ff_c="OuInventoryViewConfiguration";e.OuInventoryViewConfiguration.createInventoryViewConfig=function(t){let i=new e.OuInventoryViewConfiguration;i.setupConfig(t);return i};e.OuInventoryViewConfiguration.prototype.m_defaultGroupPresentation=null;e.OuInventoryViewConfiguration.prototype.m_showCustomDimension2=false;e.OuInventoryViewConfiguration.prototype.m_showDimensionMoreButton=false;e.OuInventoryViewConfiguration.prototype.m_showGroupExpandCollapseOptions=false;e.OuInventoryViewConfiguration.prototype.m_showGroupPresentationMenu=false;e.OuInventoryViewConfiguration.prototype.getDefaultGroupPresentation=function(){return this.m_defaultGroupPresentation};e.OuInventoryViewConfiguration.prototype.isShowCustomDimension2=function(){return this.m_showCustomDimension2};e.OuInventoryViewConfiguration.prototype.isShowDimensionMoreButton=function(){return this.m_showDimensionMoreButton};e.OuInventoryViewConfiguration.prototype.isShowGroupExpandCollapseOptions=function(){return this.m_showGroupExpandCollapseOptions};e.OuInventoryViewConfiguration.prototype.isShowGroupPresentationMenu=function(){return this.m_showGroupPresentationMenu};e.OuInventoryViewConfiguration.prototype.releaseObject=function(){this.m_defaultGroupPresentation=null;e.OuDesignerViewConfiguration.prototype.releaseObject.call(this)};e.OuInventoryViewConfiguration.prototype.setDefaultGroupPresentation=function(e){this.m_defaultGroupPresentation=e};e.OuInventoryViewConfiguration.prototype.setShowCustomDimension2=function(e){this.m_showCustomDimension2=e};e.OuInventoryViewConfiguration.prototype.setShowDimensionMoreButton=function(e){this.m_showDimensionMoreButton=e};e.OuInventoryViewConfiguration.prototype.setShowGroupExpandCollapseOptions=function(e){this.m_showGroupExpandCollapseOptions=e};e.OuInventoryViewConfiguration.prototype.setShowGroupPresentationMenu=function(e){this.m_showGroupPresentationMenu=e};e.OuCalcAlternateMeasureHintProvider=function(){};e.OuCalcAlternateMeasureHintProvider.prototype=new e.OuCalcAbstractMeasureHintProvider;e.OuCalcAlternateMeasureHintProvider.prototype._ff_c="OuCalcAlternateMeasureHintProvider";e.OuCalcAlternateMeasureHintProvider.create=function(t,i){let n=new e.OuCalcAlternateMeasureHintProvider;n.setupMeasureHints(t,i);return n};e.OuCalcAlternateMeasureHintProvider.prototype.accept=function(t){if(e.FeFeatureToggle.isActive(e.FeFeatureToggle.LOOKUP_FUNCTIONS)){return this.isTokenTypeEqualTo(t,e.FeDataType.ALTERNATE_MEASURE)}return false};e.OuCalcMeasureHintProvider=function(){};e.OuCalcMeasureHintProvider.prototype=new e.OuCalcAbstractMeasureHintProvider;e.OuCalcMeasureHintProvider.prototype._ff_c="OuCalcMeasureHintProvider";e.OuCalcMeasureHintProvider.create=function(t,i){let n=new e.OuCalcMeasureHintProvider;n.setupMeasureHints(t,i);return n};e.OuCalcMeasureHintProvider.prototype.accept=function(t){return this.isTokenCompatible(t,e.FeDataType.MEASURE)};e.OuCalcCustomTreeWidgetItem=function(){};e.OuCalcCustomTreeWidgetItem.prototype=new e.XObjectExt;e.OuCalcCustomTreeWidgetItem.prototype._ff_c="OuCalcCustomTreeWidgetItem";e.OuCalcCustomTreeWidgetItem.create=function(t,i,n,o){let r=new e.OuCalcCustomTreeWidgetItem;r.m_children=e.XLinkedHashMapByString.create();r.m_name=t;r.m_content=i;r.m_filtered=false;r.m_enabled=n;r.m_customObject=o;return r};e.OuCalcCustomTreeWidgetItem.createEmpty=function(t){return e.OuCalcCustomTreeWidgetItem.create(t,null,true,null)};e.OuCalcCustomTreeWidgetItem.prototype.m_children=null;e.OuCalcCustomTreeWidgetItem.prototype.m_content=null;e.OuCalcCustomTreeWidgetItem.prototype.m_customObject=null;e.OuCalcCustomTreeWidgetItem.prototype.m_enabled=false;e.OuCalcCustomTreeWidgetItem.prototype.m_expanded=false;e.OuCalcCustomTreeWidgetItem.prototype.m_filtered=false;e.OuCalcCustomTreeWidgetItem.prototype.m_name=null;e.OuCalcCustomTreeWidgetItem.prototype.m_parent=null;e.OuCalcCustomTreeWidgetItem.prototype.m_uiTreeItem=null;e.OuCalcCustomTreeWidgetItem.prototype.addItem=function(t){e.XObjectExt.assertFalseExt(this.m_children.containsKey(t.getName()),e.XStringUtils.concatenate3("Item with the name '",t.getName(),"', already exists!"));this.m_children.put(t.getName(),t);t.setParent(this);return t};e.OuCalcCustomTreeWidgetItem.prototype.applyToItems=function(t){e.XStream.of(this.m_children).forEach(e=>{t(e);e.applyToItems(t)})};e.OuCalcCustomTreeWidgetItem.prototype.filterItems=function(t){e.XStream.of(this.m_children).forEach(e=>{e.setFiltered(!t(e));e.filterItems(t)})};e.OuCalcCustomTreeWidgetItem.prototype.getChildren=function(){return this.m_children.getValuesAsReadOnlyList()};e.OuCalcCustomTreeWidgetItem.prototype.getContent=function(){return this.m_content};e.OuCalcCustomTreeWidgetItem.prototype.getCustomObject=function(){return this.m_customObject};e.OuCalcCustomTreeWidgetItem.prototype.getItemByName=function(t){if(this.m_children.containsKey(t)){return e.XOptional.of(this.m_children.getByKey(t))}let i=e.XStream.of(this.m_children.getValuesAsReadOnlyList()).find(e=>{let i=e.getItemByName(t);return i.isPresent()});if(i.isPresent()){return i.get().getItemByName(t)}return e.XOptional.empty()};e.OuCalcCustomTreeWidgetItem.prototype.getName=function(){return this.m_name};e.OuCalcCustomTreeWidgetItem.prototype.getParent=function(){return e.XOptional.ofNullable(this.m_parent)};e.OuCalcCustomTreeWidgetItem.prototype.getUiItem=function(){return this.m_uiTreeItem};e.OuCalcCustomTreeWidgetItem.prototype.getVisibleItems=function(){let t=e.XList.create();if(!this.isFiltered()){t.add(this)}e.XStream.of(this.m_children).forEach(e=>{t.addAll(e.getVisibleItems())});return t.getValuesAsReadOnlyList()};e.OuCalcCustomTreeWidgetItem.prototype.isEnabled=function(){return this.m_enabled};e.OuCalcCustomTreeWidgetItem.prototype.isExpanded=function(){return this.m_expanded};e.OuCalcCustomTreeWidgetItem.prototype.isFiltered=function(){return this.m_filtered};e.OuCalcCustomTreeWidgetItem.prototype.isLeaf=function(){return!this.m_children.hasElements()};e.OuCalcCustomTreeWidgetItem.prototype.isRoot=function(){return e.isNull(this.m_parent)};e.OuCalcCustomTreeWidgetItem.prototype.releaseObject=function(){this.m_parent=null;this.m_content.destroy();this.m_content=null;this.m_uiTreeItem=null;e.XStream.of(this.m_children).forEach(t=>{e.XObjectExt.release(t)});this.m_children.clear();this.m_children=e.XObjectExt.release(this.m_children);e.XObjectExt.prototype.releaseObject.call(this)};e.OuCalcCustomTreeWidgetItem.prototype.setContent=function(e){this.m_content=e};e.OuCalcCustomTreeWidgetItem.prototype.setExpanded=function(e){this.m_expanded=e;this.updateUi();if(e){this.getParent().ifPresent(e=>{e.setExpanded(true)})}};e.OuCalcCustomTreeWidgetItem.prototype.setFiltered=function(t){this.m_filtered=t;if(e.notNull(this.m_parent)&&!t){this.m_parent.setFiltered(false)}};e.OuCalcCustomTreeWidgetItem.prototype.setParent=function(e){this.m_parent=e};e.OuCalcCustomTreeWidgetItem.prototype.setUiItem=function(e){this.m_uiTreeItem=e;this.updateUi()};e.OuCalcCustomTreeWidgetItem.prototype.toggleExpanded=function(){this.m_expanded=!this.m_expanded;return this.m_expanded};e.OuCalcCustomTreeWidgetItem.prototype.updateUi=function(){if(e.isNull(this.m_uiTreeItem)){return}let t=this.isExpanded();let i=this.m_uiTreeItem.getContent().getItem(0);let n=t?"ffOuCustomTreeItemExpanded":"ffOuCustomTreeItemCollapsed";let o=!t?"ffOuCustomTreeItemExpanded":"ffOuCustomTreeItemCollapsed";this.m_uiTreeItem.addCssClass(n);this.m_uiTreeItem.removeCssClass(o);i.setIcon(t?"slim-arrow-down":"slim-arrow-right");i.setTooltip(e.XLocalizationCenter.getCenter().getText(t?e.XCommonI18n.COLLAPSE:e.XCommonI18n.EXPAND))};e.OlapUiPropertyListHelper=function(){};e.OlapUiPropertyListHelper.prototype=new e.XObject;e.OlapUiPropertyListHelper.prototype._ff_c="OlapUiPropertyListHelper";e.OlapUiPropertyListHelper.create=function(t){let i=new e.OlapUiPropertyListHelper;i.setupExt(t);return i};e.OlapUiPropertyListHelper.prototype.m_checkboxes=null;e.OlapUiPropertyListHelper.prototype.m_inputs=null;e.OlapUiPropertyListHelper.prototype.m_layout=null;e.OlapUiPropertyListHelper.prototype.m_values=null;e.OlapUiPropertyListHelper.prototype.addBooleanProperty=function(t,i,n){this.m_values.put(t,e.XBooleanValue.create(n));let o=this.addNewLine(t,i);let r=o.addNewItemOfType(e.UiType.CHECKBOX);r.setName(t);r.setChecked(n);r.registerOnChange(this);this.m_checkboxes.put(t,r);return r};e.OlapUiPropertyListHelper.prototype.addNewLine=function(t,i){let n=this.m_layout.addNewItemOfType(e.UiType.FLEX_LAYOUT);n.setName(e.XStringUtils.concatenate2(t,"Container"));n.setJustifyContent(e.UiFlexJustifyContent.SPACE_BETWEEN);let o=n.addNewItemOfType(e.UiType.LABEL);o.setText(i);o.setAlignSelf(e.UiFlexAlignSelf.CENTER);return n};e.OlapUiPropertyListHelper.prototype.addStringProperty=function(t,i,n){this.m_values.put(t,e.XStringValue.create(n));let o=this.addNewLine(t,i);let r=o.addNewItemOfType(e.UiType.INPUT);r.setName(t);r.setValue(n);r.registerOnEditingEnd(this);this.m_inputs.put(t,r);return r};e.OlapUiPropertyListHelper.prototype.buildOlapDialogUi=function(e){e.setRoot(this.m_layout)};e.OlapUiPropertyListHelper.prototype.getBooleanValue=function(e){return this.m_values.getByKey(e).getBoolean()};e.OlapUiPropertyListHelper.prototype.getInput=function(e){return this.m_inputs.getByKey(e)};e.OlapUiPropertyListHelper.prototype.getLayout=function(){return this.m_layout};e.OlapUiPropertyListHelper.prototype.getStringValue=function(e){return this.m_values.getByKey(e).getString()};e.OlapUiPropertyListHelper.prototype.onChange=function(t){let i=t.getControl();let n=this.m_values.getByKey(i.getName());if(e.isNull(n)){return}n.setBoolean(i.isChecked())};e.OlapUiPropertyListHelper.prototype.onEditingEnd=function(t){let i=t.getControl();let n=this.m_values.getByKey(i.getName());if(e.isNull(n)){return}n.setString(i.getValue())};e.OlapUiPropertyListHelper.prototype.setBooleanValue=function(e,t){this.m_values.getByKey(e).setBoolean(t);this.m_checkboxes.getByKey(e).setChecked(t)};e.OlapUiPropertyListHelper.prototype.setStringValue=function(e,t){this.m_values.getByKey(e).setString(t);return this.m_inputs.getByKey(e).setValue(t)};e.OlapUiPropertyListHelper.prototype.setupExt=function(t){this.m_values=e.XHashMapByString.create();this.m_layout=t.newControl(e.UiType.VERTICAL_LAYOUT);this.m_inputs=e.XHashMapByString.create();this.m_checkboxes=e.XHashMapByString.create()};e.OrcaLinkVarValueHelpAbstract=function(){};e.OrcaLinkVarValueHelpAbstract.prototype=new e.OlapUiValueHelpVariable;e.OrcaLinkVarValueHelpAbstract.prototype._ff_c="OrcaLinkVarValueHelpAbstract";e.OrcaLinkVarValueHelpAbstract.FETCHED_MEMBER_COUNT=4e3;e.OrcaLinkVarValueHelpAbstract.ID_LINK="link";e.OrcaLinkVarValueHelpAbstract.ID_MAIN="main";e.OrcaLinkVarValueHelpAbstract.prototype.m_linkedVariables=null;e.OrcaLinkVarValueHelpAbstract.prototype.m_nodeRepo=null;e.OrcaLinkVarValueHelpAbstract.prototype.checkIfDone=function(t){if(t.isDone()){let i=this.joinNodes(t.getMain(),t.getLinked(),t.isSearch());let n=e.ExtResult.create(i,e.MessageManagerSimple.createMessageManager());t.getOriginalListener().onValuehelpExecuted(n,null,t.getOriginalObject());e.XObjectExt.release(t)}};e.OrcaLinkVarValueHelpAbstract.prototype.findNodeToVariable=function(t,i,n){for(let o=0;o<i.size();o++){let r=i.get(o);if(t.getDimension()===r.getDimension()&&e.XString.isEqual(this.getNodePath(n),this.getNodePath(r))){return r}}return null};e.OrcaLinkVarValueHelpAbstract.prototype.getMergeKeyValue=function(t){let i=t.getDimension().getDisplayKeyField();let n=t.getDimensionMember().getFieldValue(i);return e.isNull(n)?null:n.getString()};e.OrcaLinkVarValueHelpAbstract.prototype.getNodePath=function(t){let i=e.XStringBuffer.create();let n=t.getParentNode();while(e.notNull(n)){i.append(this.getMergeKeyValue(n)).append("/");n=n.getParentNode()}return i.toString()};e.OrcaLinkVarValueHelpAbstract.prototype.getRepoMapping=function(t){let i=this.m_nodeRepo.getByKey(t);if(e.isNull(i)){i=e.XList.create();this.m_nodeRepo.put(t,i)}return i};e.OrcaLinkVarValueHelpAbstract.prototype.onValuehelpExecuted=function(t,i,n){let o=n;let r=o.getObject();if(e.isNull(r)||r.isReleased()){return}if(t.hasErrors()){r.getOriginalListener().onValuehelpExecuted(t,i,r.getOriginalObject());e.XObjectExt.release(r);return}r.increaseCallbackCount();switch(o.getName()){case e.OrcaLinkVarValueHelpAbstract.ID_MAIN:r.setMain(t.getData());break;case e.OrcaLinkVarValueHelpAbstract.ID_LINK:r.addLinked(t.getData());break}e.XObjectExt.release(o);this.checkIfDone(r)};e.OrcaLinkVarValueHelpAbstract.prototype.processChildFetch=function(t,i,n,o,r,a,s){let l=e.OrcaLinkValueHelpProxyData.createForValueHelp(a,s);l.increaseRequestCount();let u=e.XNameGenericPair.create(e.OrcaLinkVarValueHelpAbstract.ID_MAIN,l);e.OlapUiValueHelpVariable.prototype.processChildFetch.call(this,t,i,e.OrcaLinkVarValueHelpAbstract.FETCHED_MEMBER_COUNT,o,r,this,u);let p=this.m_nodeRepo.getByKey(this.getMergeKeyValue(t));if(e.notNull(p)){for(let n=0;n<this.m_linkedVariables.size();n++){let o=this.m_linkedVariables.get(n);let a=this.findNodeToVariable(o,p,t);if(e.isNull(a)){continue}l.increaseRequestCount();let s=this.getRequestedFields(t.getDimension());this.processChildFetchForVariable(o,a,i,e.OrcaLinkVarValueHelpAbstract.FETCHED_MEMBER_COUNT,s,r,this,e.XNameGenericPair.create(e.OrcaLinkVarValueHelpAbstract.ID_LINK,l))}}l.finishProgress();this.checkIfDone(l)};e.OrcaLinkVarValueHelpAbstract.prototype.processSearch=function(t,i,n,o,r,a,s,l){let u=this.m_valueRequestObject;let p=u.getDimension();let m=a===e.OlapUiReadMode.MASTER&&(!this.getSystemType(p).isTypeOf(e.SystemType.ABAP)||p.getHasCheckTable())?e.OlapUiReadMode.MASTER:e.OlapUiReadMode.BOOKED;let c=e.OrcaLinkValueHelpProxyData.createForValueHelp(s,l);c.setSearch(true);c.increaseRequestCount();let d=e.XNameGenericPair.create(e.OrcaLinkVarValueHelpAbstract.ID_MAIN,c);e.OlapUiValueHelpVariable.prototype.processSearch.call(this,t,i,n,e.OrcaLinkVarValueHelpAbstract.FETCHED_MEMBER_COUNT,false,m,this,d);let g=i.contains(p.getSelectorKeyField());let O=i.contains(p.getSelectorDisplayKeyField());let _=i.contains(p.getSelectorTextField());for(let i=0;i<this.m_linkedVariables.size();i++){let n=this.m_linkedVariables.get(i);let o=n.getDimension();let r=e.XList.create();if(g&&!r.contains(o.getSelectorKeyField())){r.add(o.getSelectorKeyField())}if(O&&!r.contains(o.getSelectorDisplayKeyField())){r.add(o.getSelectorDisplayKeyField())}if(_&&!r.contains(o.getSelectorTextField())){r.add(o.getSelectorTextField())}c.increaseRequestCount();let a=this.getRequestedFields(n.getDimension());this.processSearchForVariable(n,t,r,a,e.OrcaLinkVarValueHelpAbstract.FETCHED_MEMBER_COUNT,false,m,this,e.XNameGenericPair.create(e.OrcaLinkVarValueHelpAbstract.ID_LINK,c))}c.finishProgress();this.checkIfDone(c)};e.OrcaLinkVarValueHelpAbstract.prototype.processValueHelp=function(t,i,n,o,r,a,s){let l=e.OrcaLinkValueHelpProxyData.createForValueHelp(a,s);let u=e.OrcaLinkVarValueHelpAbstract.FETCHED_MEMBER_COUNT/n;if(e.XMath.mod(e.OrcaLinkVarValueHelpAbstract.FETCHED_MEMBER_COUNT,n)!==0){u=u+1}let p=t+u-1;l.increaseRequestCount();let m=e.XNameGenericPair.create(e.OrcaLinkVarValueHelpAbstract.ID_MAIN,l);e.OlapUiValueHelpVariable.prototype.processValueHelp.call(this,t,p,n,o,r,this,m);for(let i=0;i<this.m_linkedVariables.size();i++){l.increaseRequestCount();let o=this.m_linkedVariables.get(i);let a=this.getRequestedFields(o.getDimension());let s=e.XNameGenericPair.create(e.OrcaLinkVarValueHelpAbstract.ID_LINK,l);this.processValueHelpForVariable(o,t,p,n,a,r,this,s)}l.finishProgress();this.checkIfDone(l)};e.OrcaLinkVarValueHelpAbstract.prototype.releaseObject=function(){this.m_linkedVariables=e.XObjectExt.release(this.m_linkedVariables);this.m_nodeRepo=e.XObjectExt.release(this.m_nodeRepo);e.OlapUiValueHelpVariable.prototype.releaseObject.call(this)};e.OrcaLinkVarValueHelpAbstract.prototype.setupLink=function(t,i){e.OlapUiValueHelpVariable.prototype.setupExt.call(this,t);this.m_linkedVariables=i;this.m_nodeRepo=e.XHashMapByString.create()};e.OrcaLinkVarValueHelpAbstract.prototype.supportsAdditionalPresentations=function(){return false};e.OrcaLinkValueHelpProxyData=function(){};e.OrcaLinkValueHelpProxyData.prototype=new e.OrcaLinkVarProxyData;e.OrcaLinkValueHelpProxyData.prototype._ff_c="OrcaLinkValueHelpProxyData";e.OrcaLinkValueHelpProxyData.createForValueHelp=function(t,i){let n=new e.OrcaLinkValueHelpProxyData;n.setupExt(null,t,i);n.m_linked=e.XList.create();return n};e.OrcaLinkValueHelpProxyData.prototype.m_isSearch=false;e.OrcaLinkValueHelpProxyData.prototype.m_linked=null;e.OrcaLinkValueHelpProxyData.prototype.m_main=null;e.OrcaLinkValueHelpProxyData.prototype.addLinked=function(e){this.m_linked.add(e)};e.OrcaLinkValueHelpProxyData.prototype.getLinked=function(){return this.m_linked};e.OrcaLinkValueHelpProxyData.prototype.getMain=function(){return this.m_main};e.OrcaLinkValueHelpProxyData.prototype.isSearch=function(){return this.m_isSearch};e.OrcaLinkValueHelpProxyData.prototype.releaseObject=function(){this.m_main=e.XObjectExt.release(this.m_main);this.m_linked=e.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_linked);e.OrcaLinkVarProxyData.prototype.releaseObject.call(this)};e.OrcaLinkValueHelpProxyData.prototype.setMain=function(e){this.m_main=e};e.OrcaLinkValueHelpProxyData.prototype.setSearch=function(e){this.m_isSearch=e};e.OlapUiDatePicker=function(){};e.OlapUiDatePicker.prototype=new e.XObject;e.OlapUiDatePicker.prototype._ff_c="OlapUiDatePicker";e.OlapUiDatePicker.create=function(t){let i=new e.OlapUiDatePicker;i.setupExt(t);return i};e.OlapUiDatePicker.prototype.m_calendar=null;e.OlapUiDatePicker.prototype.m_calendarPop=null;e.OlapUiDatePicker.prototype.m_input=null;e.OlapUiDatePicker.prototype.m_listenerOnChange=null;e.OlapUiDatePicker.prototype.getCalendar=function(){return this.m_calendar};e.OlapUiDatePicker.prototype.getInput=function(){return this.m_input};e.OlapUiDatePicker.prototype.getListenerOnChange=function(){return this.m_listenerOnChange};e.OlapUiDatePicker.prototype.onChange=function(t){let i=t.getControl();if(i===this.m_calendar){this.m_input.setValue(this.m_calendar.getStartDate());this.m_calendarPop.close();if(e.notNull(this.m_listenerOnChange)){this.m_listenerOnChange.onChange(t)}}};e.OlapUiDatePicker.prototype.onValueHelpRequest=function(e){let t=e.getControl();this.m_calendarPop.openAt(t)};e.OlapUiDatePicker.prototype.registerOnChange=function(e){this.m_listenerOnChange=e;return this.m_input};e.OlapUiDatePicker.prototype.releaseObject=function(){this.m_input=e.XObjectExt.release(this.m_input);this.m_calendar=e.XObjectExt.release(this.m_calendar);this.m_calendarPop=e.XObjectExt.release(this.m_calendarPop);e.XObject.prototype.releaseObject.call(this)};e.OlapUiDatePicker.prototype.setupExt=function(t){this.m_input=t.newControl(e.UiType.INPUT);this.m_input.setShowValueHelp(true);this.m_input.setValueHelpIcon("appointment-2");this.m_input.registerOnValueHelpRequest(this);this.m_calendarPop=t.newControl(e.UiType.POPOVER);this.m_calendarPop.setPlacement(e.UiPlacementType.BOTTOM);this.m_calendar=this.m_calendarPop.setNewContent(e.UiType.CALENDAR);this.m_calendar.registerOnChange(this)};e.OlapUiIconPopover=function(){};e.OlapUiIconPopover.prototype=new e.XObject;e.OlapUiIconPopover.prototype._ff_c="OlapUiIconPopover";e.OlapUiIconPopover.createPopoverWithContent=function(t,i,n,o){let r=new e.OlapUiIconPopover;r.setupExt(t,i,n,o);return r};e.OlapUiIconPopover.createPopoverWithText=function(t,i,n,o){let r=new e.OlapUiIconPopover;let a=t.newControl(e.UiType.LABEL);a.setWrapping(true);a.setText(o);r.setupExt(t,i,n,a);return r};e.OlapUiIconPopover.prototype.m_anchor=null;e.OlapUiIconPopover.prototype.m_keepOpen=false;e.OlapUiIconPopover.prototype.m_popover=null;e.OlapUiIconPopover.prototype.onAfterClose=function(e){this.m_keepOpen=false};e.OlapUiIconPopover.prototype.onHover=function(e){this.m_popover.openAt(e.getControl())};e.OlapUiIconPopover.prototype.onHoverEnd=function(e){if(!this.m_keepOpen){this.m_popover.close()}};e.OlapUiIconPopover.prototype.onPress=function(e){this.onHover(e);this.m_keepOpen=true};e.OlapUiIconPopover.prototype.releaseObject=function(){this.m_anchor=null;this.m_popover=e.XObjectExt.release(this.m_popover);e.XObject.prototype.releaseObject.call(this)};e.OlapUiIconPopover.prototype.setupExt=function(t,i,n,o){this.m_anchor=n;this.m_anchor.registerOnPress(this);this.m_anchor.registerOnHover(this);this.m_anchor.registerOnHoverEnd(this);this.m_popover=t.newControl(e.UiType.POPOVER);this.m_popover.setName(i);this.m_popover.registerOnAfterClose(this);let r=this.m_popover.setNewContent(e.UiType.VERTICAL_LAYOUT);r.setPadding(e.UiCssBoxEdges.create("15px"));r.setWidth(e.UiCssLength.create("320px"));r.addItem(o);if(t.getDeviceInfo().isSmartphone()){this.m_popover.setPlacement(e.UiPlacementType.BOTTOM)}else{this.m_popover.setPlacement(e.UiPlacementType.HORIZONTAL_PREFERRED_RIGHT)}};e.OlapUiSideTab=function(){};e.OlapUiSideTab.prototype=new e.XObject;e.OlapUiSideTab.prototype._ff_c="OlapUiSideTab";e.OlapUiSideTab.create=function(t){let i=new e.OlapUiSideTab;i.setupExt(t);return i};e.OlapUiSideTab.prototype.m_contentPage=null;e.OlapUiSideTab.prototype.m_listener=null;e.OlapUiSideTab.prototype.m_selected=0;e.OlapUiSideTab.prototype.m_tabList=null;e.OlapUiSideTab.prototype.addTab=function(t,i,n){if(e.isNull(n)){throw e.XException.createIllegalArgumentException("Listener cannot be null")}let o=this.m_tabList.addNewItem();o.setName(t).setText(i);o.setCustomObject(n);this.m_listener.add(n)};e.OlapUiSideTab.prototype.buildOlapDialogUi=function(t){let i=t.newRoot(e.UiType.FLEX_LAYOUT);i.setSize(e.UiSize.createByCss("100%","100%"));i.addItem(this.m_tabList);i.addItem(this.m_contentPage);if(this.m_tabList.getNumberOfItems()>0){this.m_selected=0;this.m_tabList.setSelectedItemByIndex(this.m_selected);this.m_listener.get(this.m_selected).onTabSelected(this.m_contentPage)}};e.OlapUiSideTab.prototype.getActiveTabName=function(){return this.m_tabList.getSelectedItem().getName()};e.OlapUiSideTab.prototype.getListenerOnSelect=function(){return this.m_tabList.getListenerOnSelect()};e.OlapUiSideTab.prototype.onSelect=function(e){this.m_listener.get(this.m_selected).onTabDeselected();this.m_selected=this.m_tabList.getIndexOfItem(this.m_tabList.getSelectedItem());this.m_listener.get(this.m_selected).onTabSelected(this.m_contentPage)};e.OlapUiSideTab.prototype.registerOnSelect=function(e){return this.m_tabList.registerOnSelect(e)};e.OlapUiSideTab.prototype.releaseObject=function(){this.m_contentPage=e.XObjectExt.release(this.m_contentPage);this.m_tabList=e.XObjectExt.release(this.m_tabList);this.m_listener=e.XObjectExt.release(this.m_listener);e.XObject.prototype.releaseObject.call(this)};e.OlapUiSideTab.prototype.setupExt=function(t){this.m_listener=e.XList.create();this.m_tabList=t.newControl(e.UiType.LIST);this.m_tabList.setSelectionMode(e.UiSelectionMode.SINGLE_SELECT_MASTER);this.m_tabList.setSize(e.UiSize.createByCss("25%","100%"));this.m_tabList.setFlex("1 1 150px");this.m_tabList.setBorderWidth(e.UiCssBoxEdges.create("0px"));this.m_tabList.registerOnSelect(this);this.m_contentPage=t.newControl(e.UiType.PAGE);this.m_contentPage.setShowHeader(false);this.m_contentPage.setSize(e.UiSize.createByCss("75%","100%"));this.m_contentPage.setFlex("1 1 auto")};e.OuVizInstanceAxesViewConfiguration=function(){};e.OuVizInstanceAxesViewConfiguration.prototype=new e.OuAxesViewConfiguration;e.OuVizInstanceAxesViewConfiguration.prototype._ff_c="OuVizInstanceAxesViewConfiguration";e.OuVizInstanceAxesViewConfiguration.createVizInstanceAxesViewConfig=function(t){let i=new e.OuVizInstanceAxesViewConfiguration;i.setupConfig(t);return i};e.OuVizInstanceAxesViewConfiguration.prototype.getSupportedDisplayTypes=function(){let t=e.XList.create();t.add(e.OuAxesViewDisplayType.GRID);t.add(e.OuAxesViewDisplayType.BAR);t.add(e.OuAxesViewDisplayType.COLUMN);t.add(e.OuAxesViewDisplayType.STACKED_BAR);t.add(e.OuAxesViewDisplayType.STACKED_COLUMN);t.add(e.OuAxesViewDisplayType.LINE);t.add(e.OuAxesViewDisplayType.STACKED_AREA);t.add(e.OuAxesViewDisplayType.COLUMN_LINE);t.add(e.OuAxesViewDisplayType.STACKED_COLUMN_LINE);t.add(e.OuAxesViewDisplayType.PIE);t.add(e.OuAxesViewDisplayType.DOUGHNUT);t.add(e.OuAxesViewDisplayType.METRIC);if(this.getApplication().getSession().hasFeature(e.FeatureToggleSAC.FF_COMPOSABLE_CHARTS_WATERFALL)){t.add(e.OuAxesViewDisplayType.WATERFALL)}return t};e.OuDimensionPanelList=function(){};e.OuDimensionPanelList.prototype=new e.XObject;e.OuDimensionPanelList.prototype._ff_c="OuDimensionPanelList";e.OuDimensionPanelList.LABEL_CSS_CLASS_NAME="ffOuDesignerListItemLabel";e.OuDimensionPanelList.createDimensionPanelList=function(t,i,n,o){let r=new e.OuDimensionPanelList;r.setupExt(t,i,n,o);return r};e.OuDimensionPanelList.findListItemParent=function(t){let i=t.getParent();if(e.isNull(i)){return null}if(i.getUiType()===e.UiType.CUSTOM_LIST_ITEM){return i}return e.OuDimensionPanelList.findListItemParent(i)};e.OuDimensionPanelList.getModelComponentNameFromControl=function(t){let i=t.getCustomObject();if(e.isNull(i)){return null}return i.getModelComponent().getName()};e.OuDimensionPanelList.prototype.m_config=null;e.OuDimensionPanelList.prototype.m_controller=null;e.OuDimensionPanelList.prototype.m_customObject=null;e.OuDimensionPanelList.prototype.m_debug=false;e.OuDimensionPanelList.prototype.m_dimViews=null;e.OuDimensionPanelList.prototype.m_dirty=false;e.OuDimensionPanelList.prototype.m_dragEnd=null;e.OuDimensionPanelList.prototype.m_dragStartModelComponent=null;e.OuDimensionPanelList.prototype.m_dragging=false;e.OuDimensionPanelList.prototype.m_genesis=null;e.OuDimensionPanelList.prototype.m_labels=null;e.OuDimensionPanelList.prototype.m_memberViews=null;e.OuDimensionPanelList.prototype.m_menuButton=null;e.OuDimensionPanelList.prototype.m_oldDimensions=null;e.OuDimensionPanelList.prototype.m_oldMembers=null;e.OuDimensionPanelList.prototype.m_onPanelCollapsed=null;e.OuDimensionPanelList.prototype.m_onPanelExpanded=null;e.OuDimensionPanelList.prototype.m_panelExpansion=null;e.OuDimensionPanelList.prototype.m_panelExpansionNew=null;e.OuDimensionPanelList.prototype.m_panelList=null;e.OuDimensionPanelList.prototype.m_presentation=null;e.OuDimensionPanelList.prototype.m_process=null;e.OuDimensionPanelList.prototype.m_releaseTimeout=null;e.OuDimensionPanelList.prototype.m_rootPanelExpanded=false;e.OuDimensionPanelList.prototype.m_scrollTimeout=null;e.OuDimensionPanelList.prototype.addLabel=function(e){this.setCssLabel(e);this.m_labels.add(e)};e.OuDimensionPanelList.prototype.addPlaceholderItem=function(t){let i=this.getLocalizationProvider();let n=this.m_genesis.newControl(e.UiType.CUSTOM_LIST_ITEM);n.addCssClass("ffGdsQbBuilderPanelChildItem");n.addCssClass("ffGdsQbBuilderPanelEmptyPlaceholder");n.setDraggable(false);let o=n.setNewContent(e.UiType.FLEX_LAYOUT);o.useMaxWidth();o.setDirection(e.UiFlexDirection.ROW);o.setOverflow(e.UiOverflow.HIDDEN);o.setAlignItems(e.UiFlexAlignItems.CENTER);o.setMinHeight(e.UiCssLength.create("2rem"));let r=o.addNewItemOfType(e.UiType.ICON);r.addCssClass("ffGdsQbBuilderPanelEmptyPlaceholderInfoIcon");r.setIcon("message-information");r.setMinHeight(e.UiCssLength.create("1rem"));r.setIconSize(e.UiCssLength.create("1rem"));let a=o.addNewItemOfType(e.UiType.LABEL);a.setText(i.getText(e.OuAxesViewI18n.BUILDER_ADD_MEASURE_INFO));a.setFontStyle(e.UiFontStyle.ITALIC);t.addItem(n)};e.OuDimensionPanelList.prototype.applyIfNotReleased=function(t,i,n){if(e.notNull(t)&&!t.isReleased()){n(t,i)}};e.OuDimensionPanelList.prototype.buildAttributeItem=function(t){let i=this.buildDragItem(t,null);i.setAttribute(t);let n=i.getRoot();n.addCssClass("ffGdsQbBuilderPanelAttribute");if(this.m_config.isRightClickContextMenuForAttributeEnabled()&&this.getMenuProvider()!==null){n.registerOnContextMenu(e.UiLambdaContextMenuListener.create(i=>{this.getMenuProvider().showAttributeMenu(e.OuAxesView.UI_CONTEXT,i,t)}))}let o=i.getLabel();o.addCssClass("ffGdsQbBuilderPanelAttributeLabel");o.setFontStyle(e.UiFontStyle.ITALIC);o.useMaxWidth();o.setCustomObject(t);this.addLabel(o);let r=this.createRemoveButton(e=>{this.onAttributeRemoveButtonPress(i)});i.getHeaderLayout().addItem(r);this.configureFocus(t,n,null);if(this.m_config.getOnAttributeItemCreated()!==null){this.m_config.getOnAttributeItemCreated()(i)}return i};e.OuDimensionPanelList.prototype.buildAttributeList=function(t,i){let n=this.getRelevantAttributes(t);let o=e.XList.create();for(let e=0;e<n.size();e++){let t=n.get(e);let r=this.buildAttributeItem(t);i.addItem(r.getRoot());o.add(r)}return o};e.OuDimensionPanelList.prototype.buildDimItem=function(t){let i=this.getLocalizationProvider();let n=this.m_genesis.newControl(e.UiType.CUSTOM_LIST_ITEM);n.addCssClass("ffGdsQbBuilderPanelDimension");if(this.m_config.isRightClickContextMenuForDimensionEnabled()&&this.getMenuProvider()!==null){n.registerOnContextMenu(e.UiLambdaContextMenuListener.create(i=>{this.getMenuProvider().showDimMenu(e.OuAxesView.UI_CONTEXT,i,t)}))}n.setDraggable(true);n.setTag(this.getDragElementTag());n.setCustomObject(e.OuDesignerDragPayloadSimple.createWrapper(t));n.registerOnDragStart(this);n.registerOnDragEnd(this);let o=e.OuMagicPanel.create(this.m_genesis);let r=this.buildDimItemBody(o,t);let a=o.getView();a.removeAttribute(e.UtUi5AttributeConstants.FAST_NAV_GROUP);a.addCssClass("ffGdsQbFoldable");a.addCssClass("ffGdsQbBuilderPanelDimensionPanel");a.setMinHeight(e.UiCssLength.create("0"));a.setBackgroundDesign(e.UiBackgroundDesign.TRANSPARENT);n.setContent(a);o.setOnCollapse(()=>{this.m_panelExpansion.putBoolean(t.getName(),false)});o.setOnExpand(()=>{this.m_panelExpansion.putBoolean(t.getName(),true)});let s=a.setNewHeaderToolbar();s.removeAttribute(e.UtUi5AttributeConstants.FAST_NAV_GROUP);s.addCssClass("ffGdsQbBuilderPanelDimensionHeaderToolbar");s.setBorderWidth(e.UiCssBoxEdges.create("0"));s.setToolbarDesign(e.UiToolbarDesign.TRANSPARENT);let l=s.addNewItemOfType(e.UiType.LABEL);this.configurePanelLabel(t,n,l);s.addNewItemOfType(e.UiType.SPACER);let u=s.addNewItemOfType(e.UiType.FLEX_LAYOUT);u.setDirection(e.UiFlexDirection.ROW);u.setFlex("0 0 auto");if(this.getMenuProvider()!==null){let n=u.addNewItemOfType(e.UiType.BUTTON);n.setVisible(false);n.addCssClass("ffGdsQbBuilderPanelDimensionMoreBtn");n.setIcon("overflow");n.setButtonType(e.UiButtonType.TRANSPARENT);n.setTooltip(i.getText(e.OlapUiCommonI18n.COMMON_MORE));n.registerOnPress(e.UiLambdaPressListener.create(e=>{this.onDimMenuButtonPress(e,t,n)}));this.getMenuProvider().hasDimMenu(e.OuAxesView.UI_CONTEXT,t,e=>{this.applyIfNotReleased(n,e,(e,t)=>{e.setVisible(t.getBoolean())})});r.setMoreBtn(n)}let p=this.createRemoveButton(e=>{this.onDimRemoveButtonPress(r)});u.addItem(p);r.setListItemRoot(n);r.setHeader(s);this.configurePanelList(t,r.getChildrenList());this.configureFocus(t,r.getListItemRoot(),r.getMoreBtn());n.setName(r.getName());return r};e.OuDimensionPanelList.prototype.buildDimItemBody=function(t,i){let n=this.m_genesis.newControl(e.UiType.LIST);n.addCssClass("ffDimPanDimensionChildrenList");n.setWidth(e.UiCssLength.create("auto"));n.removeAttribute(e.UtUi5AttributeConstants.FAST_NAV_GROUP);let o;if(e.QDimensionUtil.isStructureLike(i)){o=this.buildMemberListForDimensionItem(i,n)}else if(this.m_config.isShowAttributes()){o=this.buildAttributeList(i,n)}else{o=e.XList.create()}if(n.hasItems()){t.setContentHeightInRem(n.getNumberOfItems()*2);t.setPanelContent(n);t.setExpandable(true);let o=e.QDimensionUtil.isStructureLike(i);let r=this.m_panelExpansion.getBooleanByKeyExt(i.getName(),o);t.setExpanded(r);this.m_panelExpansionNew.putBoolean(i.getName(),r)}return e.OuDesignerDimension.createForBuilderPanel(i,o,n)};e.OuDimensionPanelList.prototype.buildDragItem=function(t,i){let n=this.m_genesis.newControl(e.UiType.CUSTOM_LIST_ITEM);n.addCssClass("ffGdsQbBuilderPanelChildItem");n.setDraggable(true);n.setTag(this.getDragElementTag());n.setCustomObject(e.OuDesignerDragPayloadSimple.createWrapper(t));n.registerOnDragStart(this);n.registerOnDragEnd(this);let o=this.m_genesis.newControl(e.UiType.LABEL);o.useMaxWidth();let r=e.OuDesignerListItem.createForBuilderPanel(n,o);if(!e.XCollectionUtils.hasElements(i)){n.addCssClass("ffGdsQbBuilderPanelChildItemEmpty");let t=n.setNewContent(e.UiType.FLEX_LAYOUT);t.addCssClass("ffGdsQbBuilderPanelChildItemHeader");t.useMaxWidth();t.setDirection(e.UiFlexDirection.ROW);t.setAlignItems(e.UiFlexAlignItems.CENTER);t.setJustifyContent(e.UiFlexJustifyContent.SPACE_BETWEEN);t.setOverflow(e.UiOverflow.HIDDEN);t.addItem(o);r.setHeaderLayout(t)}else{let a=e.OuMagicPanel.create(this.m_genesis);a.setContentHeightInRem(i.size()*2);a.setExpandable(true);let s=a.getView();s.removeAttribute(e.UtUi5AttributeConstants.FAST_NAV_GROUP);s.addCssClass("ffGdsQbBuilderPanelChildItemPanel");s.addCssClass("ffGdsQbFoldable");s.setMinHeight(e.UiCssLength.create("0"));s.setBackgroundDesign(e.UiBackgroundDesign.TRANSPARENT);n.setContent(s);let l=s.setNewHeaderToolbar();l.addCssClass("ffGdsQbBuilderPanelChildItemHeader");l.addCssClass("ffGdsQbBuilderPanelChildItemHeaderToolbar");l.addItem(o);let u=this.m_genesis.newControl(e.UiType.LIST);u.addCssClass("ffDimPanChildItemList");u.setShowNoData(false);a.setPanelContent(u);let p=this.m_panelExpansion.getBooleanByKeyExt(t.getName(),false);a.setExpanded(p);this.m_panelExpansionNew.putBoolean(t.getName(),p);a.setOnExpand(()=>{this.m_panelExpansion.putBoolean(t.getName(),true)});a.setOnCollapse(()=>{this.m_panelExpansion.putBoolean(t.getName(),false)});r.setHeaderLayout(l);r.setPanel(s);r.setChildrenList(u);r.addAllChildren(i)}return r};e.OuDimensionPanelList.prototype.buildMemberItem=function(t,i){let n=t.getDimensionMember();let o=e.XList.create();if(t.hasChildren()){let e=t.getChildren();for(let t=0;t<e.size();t++){let n=e.get(t);if(i.contains(n.getDimensionMember().getName())){o.add(this.buildMemberItem(n,i))}}}let r=this.buildDragItem(t,o);r.setNode(t);if(!n.getDimension().isHierarchyActive()){r.getRoot().registerOnKeyDown(e.UiLambdaKeyDownListener.create(e=>{this.onMemberKeyDown(r,e)}))}let a=r.getRoot();a.addCssClass("ffGdsQbBuilderPanelMember");let s=r.getLabel();s.setCustomObject(n);this.addLabel(s);let l=r.getHeaderLayout();let u=this.m_genesis.newControl(e.UiType.FLEX_LAYOUT);u.addCssClass("ffGdsQbBuilderPanelButtons");u.setDirection(e.UiFlexDirection.ROW);u.setFlex("0 0 auto");u.setAlignItems(e.UiFlexAlignItems.CENTER);l.addItem(u);if(this.m_config.isCalculationsEnabled()&&n.getMemberType().isTypeOf(e.MemberType.FORMULA)&&this.isFormulaEditable(n)){let t=n;let i=e.OuDesignerFormulaPopoverIcon.create(this.m_genesis,t,e.MessageManagerSimple.createMessageManager());i.getView().setVisible(false);u.addItem(i.getView());r.setPopoverIcon(i)}if(this.m_config.showMeasureMoreMenuButton()&&this.getMenuProvider()!==null){let i=u.addNewItemOfType(e.UiType.BUTTON);i.setVisible(false);i.addCssClass("ffGdsQbBuilderPanelMeasureMoreBtn");i.setIcon("overflow");i.setButtonType(e.UiButtonType.TRANSPARENT);i.registerOnPress(e.UiLambdaPressListener.create(e=>{this.onMemberMenuButtonPress(e,t,i)}));this.getMenuProvider().hasMemberMenu(e.OuAxesView.UI_CONTEXT,n,e=>{this.applyIfNotReleased(i,e,(e,t)=>{e.setVisible(t.getBoolean())})});r.setMoreButton(i)}let p=this.createRemoveButton(e=>{this.onMemberRemoveButtonPress(r)});u.addItem(p);r.setRemoveButton(p);if(this.m_config.isRightClickContextMenuForMemberEnabled()&&this.getMenuProvider()!==null){a.registerOnContextMenu(e.UiLambdaContextMenuListener.create(i=>{this.getMenuProvider().showMemberMenu(e.OuAxesView.UI_CONTEXT,i,n,t,null,null)}))}this.configureFocus(n,r.getRoot(),r.getMoreButton());if(this.m_config.getOnMemberItemCreated()!==null){this.m_config.getOnMemberItemCreated()(r)}return r};e.OuDimensionPanelList.prototype.buildMemberList=function(t,i){let n=e.XList.create();for(let o=0;o<t.size();o++){let r=t.get(o);if(this.shouldMemberBeShownOnRootLevel(r,i)){let t=this.buildMemberItem(r,i);if(e.notNull(t)){t.getRoot().addCssClass("ffDimPanRootLevelMember");n.add(t)}}}return n};e.OuDimensionPanelList.prototype.buildMemberListForDimensionItem=function(t,i){let n=this.m_controller.getDimensionMembers(t);let o=this.m_controller.getDimensionMemberVisibility(t);let r=this.buildMemberList(n,o);if(t.isMeasureStructure()&&!e.XCollectionUtils.hasElements(r)){this.addPlaceholderItem(i)}else{i.addAllItems(e.XCollectionUtils.map(r,e=>e.getRoot()))}return r};e.OuDimensionPanelList.prototype.checkDimensionsInSync=function(t){if(this.m_dimViews.size()!==t.size()){return false}for(let i=0;i<this.m_dimViews.size();i++){let n=this.m_dimViews.get(i);let o=n.getDimension();let r=t.get(i);if(!e.XString.isEqual(o.getName(),r.getName())){return false}let a=n.getChildrenViews();if(e.QDimensionUtil.isStructureLike(r)){let t=this.m_controller.getDimensionMembers(r);let i=this.m_controller.getDimensionMemberVisibility(r);let n=e.XCollectionUtils.filter(t,e=>i.contains(e.getDimensionMember().getName()));if(!this.checkRootLevelMembersInSync(a,n,i)){return false}}else if(this.m_config.isShowAttributes()){let t=this.getRelevantAttributes(r);if(a.size()!==t.size()){return false}for(let i=0;i<t.size();i++){let n=a.get(i).getAttribute();let o=t.get(i);if(!e.XString.isEqual(n.getName(),o.getName())){return false}}}}return true};e.OuDimensionPanelList.prototype.checkMembersInSync=function(e,t){return this.checkRootLevelMembersInSync(this.m_memberViews,e,t)};e.OuDimensionPanelList.prototype.checkRootLevelMembersInSync=function(t,i,n){let o=e.XCollectionUtils.filter(i,e=>this.shouldMemberBeShownOnRootLevel(e,n));return this.compareMemberNodeLists(t,o,n)};e.OuDimensionPanelList.prototype.clearDeprecatedUi=function(){if(this.m_oldDimensions.hasElements()||this.m_oldMembers.hasElements()){this.debugLog("releasing old ui");e.XCollectionUtils.forEach(this.m_oldDimensions,t=>{e.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(t)});e.XCollectionUtils.forEach(this.m_oldMembers,t=>{e.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(t)});this.m_oldDimensions.clear();this.m_oldMembers.clear()}};e.OuDimensionPanelList.prototype.compareMemberNodeLists=function(t,i,n){if(!e.XCollectionUtils.hasElements(t)&&!e.XCollectionUtils.hasElements(i)){return true}if(t.size()!==i.size()){return false}for(let o=0;o<t.size();o++){let r=t.get(o);let a=r.getNode();let s=i.get(o);let l=this.m_presentation.getDisplayValueByType(a.getDimensionMember());let u=this.m_presentation.getDisplayValueByType(s.getDimensionMember());if(!e.XString.isEqual(l,u)){return false}let p=r.getDirectChildren();let m=s.getChildren();m=e.XCollectionUtils.filter(m,e=>n.contains(e.getDimensionMember().getName()));if(!this.compareMemberNodeLists(p,m,n)){return false}}return true};e.OuDimensionPanelList.prototype.configureFocus=function(t,i,n){let o=this.m_config.getFocusContext();if(e.isNull(o)||!e.XString.isEqual(o.getFocusedName(),t.getName())){return}if(o.isFocusMoreButton()&&e.notNull(n)&&n!==e.UiContextDummy.getSingleton()){n.addCssClass("ffGdsQbBuilderPanelDimensionMoreBtnForceVisible");n.focus();e.XTimeout.timeout(30,()=>{if(e.XObjectExt.isValidObject(n)){n.removeCssClass("ffGdsQbBuilderPanelDimensionMoreBtnForceVisible")}})}else{i.focus()}o.resetFocus()};e.OuDimensionPanelList.prototype.configurePanelLabel=function(t,i,n){let o=this.getLocalizationProvider();n.setMargin(e.UiCssBoxEdges.create("0"));this.setCssLabel(n);if(t.isMeasureStructure()){i.addCssClass("ffGdsQbBuilderPanelMeasure");n.setText(o.getText(e.OlapUiCommonI18n.COMMON_MEASURES));n.setTooltip(o.getText(e.OlapUiCommonI18n.COMMON_MEASURES))}else if(t.isStructure()){i.addCssClass("ffGdsQbBuilderPanelSecondStructure");if(this.m_process.hasFeature(e.FeatureToggleOlap.USE_ORIGINAL_STRUCTURE_TEXT_IN_UI)&&e.XStringUtils.isNotNullAndNotEmpty(t.getOriginalText())){n.setText(t.getOriginalText());n.setTooltip(t.getOriginalText())}else{n.setText(o.getText(e.OlapUiCommonI18n.COMMON_STRUCTURE));n.setTooltip(o.getText(e.OlapUiCommonI18n.COMMON_STRUCTURE))}}else if(t.getDimensionType()===e.DimensionType.ACCOUNT){i.addCssClass("ffGdsQbBuilderPanelAccount");n.setText(o.getText(e.OlapUiCommonI18n.COMMON_ACCOUNT));n.setTooltip(o.getText(e.OlapUiCommonI18n.COMMON_ACCOUNT))}else{n.setCustomObject(t);this.m_labels.add(n)}};e.OuDimensionPanelList.prototype.configurePanelList=function(t,i){if(t.isMeasureStructure()){i.addCssClass("ffGdsQbBuilderPanelMeasureList")}else if(t.isStructure()){i.addCssClass("ffGdsQbBuilderPanelSecondStructureList")}else if(t.getDimensionType()===e.DimensionType.ACCOUNT){i.addCssClass("ffGdsQbBuilderPanelAccountList")}};e.OuDimensionPanelList.prototype.createRemoveButton=function(t){let i=this.m_genesis.newControl(e.UiType.BUTTON);i.setIcon("decline");i.addCssClass("ffGdsQbBuilderPanelRemoveButton");i.setTooltip(this.getLocalizationProvider().getText(e.OuAxesViewI18n.BUILDER_REMOVE));i.setButtonType(e.UiButtonType.TRANSPARENT);i.registerOnPress(e.UiLambdaPressListener.create(e=>{t(e)}));return i};e.OuDimensionPanelList.prototype.debugLog=function(t){if(this.m_debug){e.XLogger.println(t)}};e.OuDimensionPanelList.prototype.deprecateUi=function(){this.m_oldDimensions.add(this.m_dimViews);this.m_oldMembers.add(this.m_memberViews);this.m_dimViews=e.XListOfNameObject.create();this.m_memberViews=e.XList.create();this.m_labels.clear();this.m_panelExpansionNew.clear();if(!this.m_dragging){this.debugLog("starting release timeout");e.XTimeout.clear(this.m_releaseTimeout);this.m_releaseTimeout=e.XTimeout.timeout(500,()=>{this.clearDeprecatedUi();this.m_releaseTimeout=null})}};e.OuDimensionPanelList.prototype.expandDimension=function(e){this.m_panelExpansion.putBoolean(e,true)};e.OuDimensionPanelList.prototype.expandMemberNodeRecursive=function(t){let i=t.getParentNode();if(e.notNull(i)){let e=i.getDimensionMember().getName();this.m_panelExpansion.putBoolean(e,true);this.expandMemberNodeRecursive(i)}};e.OuDimensionPanelList.prototype.expandToMemberNode=function(e){this.expandMemberNodeRecursive(e)};e.OuDimensionPanelList.prototype.getCustomObject=function(){return this.m_customObject};e.OuDimensionPanelList.prototype.getDimensionViews=function(){return this.m_dimViews};e.OuDimensionPanelList.prototype.getDragElementTag=function(){return this.m_config.getDragElementTag()};e.OuDimensionPanelList.prototype.getLocalizationProvider=function(){return e.XLocalizationCenter.getCenter().getLocalizationProviderByName(this.m_config.getLocalizationProviderName())};e.OuDimensionPanelList.prototype.getMenuButton=function(){return this.m_menuButton};e.OuDimensionPanelList.prototype.getMenuProvider=function(){return this.m_config.getMenuProvider()};e.OuDimensionPanelList.prototype.getPanelList=function(){return this.m_panelList};e.OuDimensionPanelList.prototype.getRelevantAttributes=function(e){let t=e.getResultSetAttributes().createListCopy();t.removeElement(e.getMainAttribute());return t};e.OuDimensionPanelList.prototype.getView=function(){return this.m_panelList.getView()};e.OuDimensionPanelList.prototype.hardResetUi=function(){this.deprecateUi();this.m_panelExpansion.clear();this.clearDeprecatedUi()};e.OuDimensionPanelList.prototype.initializeComposite=function(){this.m_panelList=e.OuPanelList.create(this.m_genesis);let t=this.m_panelList.getPanel();t.addCssClass("ffGdsQbBuilderPanelAxisPanel");t.addCssClass("ffGdsQbFoldableBorderContent");t.setFlex("1 1 50%");t.registerOnCollapse(e.UiLambdaCollapseListener.create(t=>{this.m_rootPanelExpanded=false;if(e.notNull(this.m_onPanelCollapsed)){this.m_onPanelCollapsed()}}));t.registerOnExpand(e.UiLambdaExpandListener.create(t=>{this.m_rootPanelExpanded=true;if(e.notNull(this.m_onPanelExpanded)){this.m_onPanelExpanded()}}));let i=this.m_panelList.getHeaderLayout();i.addCssClass("ffGdsQbBuilderPanelAxisPanelHeaderToolbar");this.m_panelList.getList().setShowNoData(false);this.m_panelList.getList().addCssClass("ffDimPanList");i.addNewItemOfType(e.UiType.SPACER);this.m_menuButton=i.addNewItemOfType(e.UiType.BUTTON);this.m_menuButton.setIcon("overflow");this.m_menuButton.setButtonType(e.UiButtonType.TRANSPARENT);this.m_menuButton.setTooltip(this.getLocalizationProvider().getText(e.OlapUiCommonI18n.COMMON_MORE))};e.OuDimensionPanelList.prototype.isFormulaEditable=function(t){return t.isEditable()&&t.getFormulaText().isPresent()&&e.XStringUtils.isNotNullAndNotEmpty(t.getFormulaText().get())};e.OuDimensionPanelList.prototype.isVisible=function(){return this.getView().isVisible()};e.OuDimensionPanelList.prototype.markDirty=function(){this.m_dirty=true};e.OuDimensionPanelList.prototype.onAttributeRemoveButtonPress=function(e){this.setFocusToNext(e.getRoot());this.m_controller.handleAttributeRemovalFromList(this,e.getAttribute())};e.OuDimensionPanelList.prototype.onDimMenuButtonPress=function(t,i,n){if(this.m_config.getFocusContext()!==null){this.m_config.getFocusContext().setFocusedName(i.getName());this.m_config.getFocusContext().setFocusMoreButton(true)}this.getMenuProvider().showDimMenuWithAction(e.OuAxesView.UI_CONTEXT,t,i,e=>{this.applyIfNotReleased(n,"ffGdsQbBuilderPanelDimensionMoreBtnForceVisible",(e,t)=>{e.addCssClass(t)})},e=>{this.applyIfNotReleased(n,"ffGdsQbBuilderPanelDimensionMoreBtnForceVisible",(e,t)=>{e.removeCssClass(t)})})};e.OuDimensionPanelList.prototype.onDimRemoveButtonPress=function(e){this.setFocusToNext(e.getListItemRoot());this.m_controller.handleDimensionRemovalFromList(this,e.getDimension())};e.OuDimensionPanelList.prototype.onDragEnd=function(t){this.debugLog("on drag end");this.m_dragging=false;this.clearDeprecatedUi();if(e.notNull(this.m_dragEnd)){this.m_dragEnd()}};e.OuDimensionPanelList.prototype.onDragStart=function(t){this.debugLog("on drag start");this.m_dragging=true;if(e.notNull(this.m_releaseTimeout)){this.debugLog("stopping release timeout");e.XTimeout.clear(this.m_releaseTimeout)}if(e.notNull(this.m_dragStartModelComponent)){let e=t.getControl().getCustomObject();this.m_dragStartModelComponent(e.getModelComponent())}};e.OuDimensionPanelList.prototype.onMemberKeyDown=function(t,i){let n=t.getNode();let o=t.getRoot().getParent();if(e.notNull(o)&&i.isCtrlPressed()){let r=0;r=e.XString.isEqual(i.getKey(),"ArrowUp")?-1:r;r=e.XString.isEqual(i.getKey(),"ArrowDown")?1:r;if(r!==0){let e=o.getIndexOfItem(t.getRoot());this.m_controller.moveMemberToIndex(this,n,e+r);this.m_config.getFocusContext().setFocusedName(n.getDimensionMember().getName())}}};e.OuDimensionPanelList.prototype.onMemberMenuButtonPress=function(t,i,n){let o=i.getDimensionMember();if(this.m_config.getFocusContext()!==null){this.m_config.getFocusContext().setFocusedName(o.getName());this.m_config.getFocusContext().setFocusMoreButton(true)}this.getMenuProvider().showMemberMenu(e.OuAxesView.UI_CONTEXT,t,o,i,e=>{this.applyIfNotReleased(n,"ffGdsQbBuilderPanelMeasureMoreBtnForceVisible",(e,t)=>{e.addCssClass(t)})},e=>{this.applyIfNotReleased(n,"ffGdsQbBuilderPanelMeasureMoreBtnForceVisible",(e,t)=>{e.removeCssClass(t)})})};e.OuDimensionPanelList.prototype.onMemberRemoveButtonPress=function(e){this.setFocusToNext(e.getRoot());this.m_controller.handleMemberRemovalFromList(this,e.getNode())};e.OuDimensionPanelList.prototype.releaseObject=function(){e.XTimeout.clear(this.m_scrollTimeout);e.XTimeout.clear(this.m_releaseTimeout);this.clearDeprecatedUi();this.m_presentation=null;this.m_config=null;this.m_controller=null;this.m_process=null;this.m_genesis=null;this.m_panelExpansion=e.XObjectExt.release(this.m_panelExpansion);this.m_panelExpansionNew=e.XObjectExt.release(this.m_panelExpansionNew);this.m_dimViews=e.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_dimViews);this.m_labels=e.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_labels);this.m_panelList=e.XObjectExt.release(this.m_panelList);this.m_menuButton=e.XObjectExt.release(this.m_menuButton);this.m_dragStartModelComponent=null;this.m_dragEnd=null;e.XObject.prototype.releaseObject.call(this)};e.OuDimensionPanelList.prototype.scrollWithTimeout=function(t){e.XTimeout.clear(this.m_scrollTimeout);this.m_scrollTimeout=e.XTimeout.timeout(10,()=>{this.getPanelList().getScroll().scrollTo(0,t,0)})};e.OuDimensionPanelList.prototype.setCssLabel=function(t){t.addCssClass(e.OuDimensionPanelList.LABEL_CSS_CLASS_NAME)};e.OuDimensionPanelList.prototype.setCustomObject=function(e){this.m_customObject=e};e.OuDimensionPanelList.prototype.setDebug=function(e){this.m_debug=e};e.OuDimensionPanelList.prototype.setDragEnd=function(e){this.m_dragEnd=e};e.OuDimensionPanelList.prototype.setDragStartModelComponent=function(e){this.m_dragStartModelComponent=e};e.OuDimensionPanelList.prototype.setFocusToNext=function(t){let i=t.getParent();let n=i.getIndexOfItem(t);if(n+1<i.getNumberOfItems()){let t=i.getItem(n+1);let o=e.OuDimensionPanelList.getModelComponentNameFromControl(t);this.m_config.getFocusContext().setFocusedName(o)}else if(i.getNumberOfItems()>1&&n>=1){let t=i.getItem(n-1);let o=e.OuDimensionPanelList.getModelComponentNameFromControl(t);this.m_config.getFocusContext().setFocusedName(o)}else{let t=e.OuDimensionPanelList.findListItemParent(i);if(e.notNull(t)){let i=e.OuDimensionPanelList.getModelComponentNameFromControl(t);this.m_config.getFocusContext().setFocusedName(i)}}};e.OuDimensionPanelList.prototype.setOnPanelCollapsed=function(e){this.m_onPanelCollapsed=e};e.OuDimensionPanelList.prototype.setOnPanelExpanded=function(e){this.m_onPanelExpanded=e};e.OuDimensionPanelList.prototype.setPresentation=function(e){this.m_presentation=e;this.updateLabels()};e.OuDimensionPanelList.prototype.setVisible=function(e){this.getView().setVisible(e)};e.OuDimensionPanelList.prototype.setupExt=function(t,i,n,o){this.setup();this.m_process=t;this.m_genesis=i;this.m_controller=n;this.m_config=o;this.m_dimViews=e.XListOfNameObject.create();this.m_memberViews=e.XList.create();this.m_labels=e.XList.create();this.m_panelExpansion=e.XProperties.create();this.m_panelExpansionNew=e.XProperties.create();this.m_rootPanelExpanded=true;this.m_presentation=this.m_config.getDefaultPresentation();this.m_oldDimensions=e.XList.create();this.m_oldMembers=e.XList.create();this.initializeComposite()};e.OuDimensionPanelList.prototype.shouldMemberBeShownOnRootLevel=function(e,t){if(!t.contains(e.getDimensionMember().getName())){return false}return e.getParentNode()===null||!t.contains(e.getParentNode().getDimensionMember().getName())};e.OuDimensionPanelList.prototype.updateCalculations=function(t){if(!this.m_config.isCalculationsEnabled()){return}for(let i=0;i<t.size();i++){let n=t.get(i);let o=n.getNode().getDimensionMember();if(o.getMemberType().isTypeOf(e.MemberType.FORMULA)&&this.isFormulaEditable(o)){let t=o;let i=e.OuDesignerFormulaHelper.validateFormula(t);let r=i.hasErrors()||i.hasWarnings();let a=n.getPopoverIcon();a.setMessageManager(i);a.getView().setVisible(r);if(r){n.getLabel().setFontStyle(e.UiFontStyle.ITALIC);n.getLabel().setOpacity(.65)}else{n.getLabel().setFontStyle(e.UiFontStyle.NORMAL);n.getLabel().setOpacity(1)}}this.updateCalculations(n.getDirectChildren())}};e.OuDimensionPanelList.prototype.updateControls=function(){this.updateLabels();if(e.XCollectionUtils.hasElements(this.m_memberViews)){this.updateCalculations(this.m_memberViews)}else{e.XCollectionUtils.forEach(this.m_dimViews,t=>{if(e.QDimensionUtil.isStructureLike(t.getDimension())){this.updateCalculations(t.getChildrenViews())}})}};e.OuDimensionPanelList.prototype.updateLabels=function(){for(let e=0;e<this.m_labels.size();e++){let t=this.m_labels.get(e);let i=t.getCustomObject();let n=this.m_presentation.getDisplayValueByType(i);t.setText(n);t.setTooltip(n)}};e.OuDimensionPanelList.prototype.updateViewWithDimensions=function(t){if(!this.m_dirty&&this.checkDimensionsInSync(t)){this.updateControls();return}this.debugLog("updating view");let i=this.getPanelList().getScroll().getScrollTop();this.deprecateUi();for(let i=0;i<t.size();i++){let n=t.get(i);if(e.QDimensionUtil.shouldDimensionBeShown(n,true)){let e=this.buildDimItem(n);this.m_dimViews.add(e)}}this.m_panelList.replaceList(e.XCollectionUtils.map(this.m_dimViews,e=>e.getListItemRoot()));let n=this.m_panelList.getList();n.setVisible(n.hasItems());this.m_panelList.getPanel().setExpanded(this.m_rootPanelExpanded);this.updateControls();this.m_panelExpansion=this.m_panelExpansionNew.cloneExt(null);this.scrollWithTimeout(i);this.m_dirty=false};e.OuDimensionPanelList.prototype.updateViewWithMembers=function(t,i){if(!this.m_dirty&&this.checkMembersInSync(t,i)){this.updateControls();return}this.getView().addCssClass("ffDimPanMembersOnly");let n=this.getPanelList().getScroll().getScrollTop();this.deprecateUi();this.m_memberViews=this.buildMemberList(t,i);this.m_panelList.replaceList(e.XCollectionUtils.map(this.m_memberViews,e=>e.getRoot()));let o=this.m_panelList.getList();o.setVisible(o.hasItems());this.m_panelList.getPanel().setExpanded(this.m_rootPanelExpanded);this.updateControls();this.m_panelExpansion=this.m_panelExpansionNew.cloneExt(null);this.scrollWithTimeout(n);this.m_dirty=false};e.OuCalcDetailsAreaViewI18n=function(){};e.OuCalcDetailsAreaViewI18n.prototype=new e.DfXLocalizationProvider;e.OuCalcDetailsAreaViewI18n.prototype._ff_c="OuCalcDetailsAreaViewI18n";e.OuCalcDetailsAreaViewI18n.FE_DESC_AREA_INPUT_VALUE="FF_FE_DESC_AREA_INPUT_VALUE";e.OuCalcDetailsAreaViewI18n.FE_ID_AREA_INPUT_VALUE="FF_FE_ID_AREA_INPUT_VALUE";e.OuCalcDetailsAreaViewI18n.FE_ID_AREA_LABEL="FF_FE_ID_AREA_LABEL";e.OuCalcDetailsAreaViewI18n.ID_ERROR_EXISTING="FF_FE_ID_ERROR_DUPLICATED";e.OuCalcDetailsAreaViewI18n.ID_ERROR_INVALID_CHARS="FF_FE_ID_ERROR_INVALID_CHARS";e.OuCalcDetailsAreaViewI18n.ID_ERROR_MANDATORY="FF_FE_ID_ERROR_MANDATORY";e.OuCalcDetailsAreaViewI18n.ID_ERROR_MAX_LENGTH="FF_FE_ID_ERROR_MAX_LENGTH";e.OuCalcDetailsAreaViewI18n.NAME_AREA_LABEL="FF_FE_NAME_AREA_LABEL";e.OuCalcDetailsAreaViewI18n.NAME_ERROR_MAX_LENGTH="FE_NAME_ERROR_MAX_LENGTH";e.OuCalcDetailsAreaViewI18n.PROVIDER_NAME="CalDetailsAreaView";e.OuCalcDetailsAreaViewI18n.staticSetup=function(){let t=new e.OuCalcDetailsAreaViewI18n;t.setupProvider(e.OuCalcDetailsAreaViewI18n.PROVIDER_NAME,true);t.addTextWithComment(e.OuCalcDetailsAreaViewI18n.FE_ID_AREA_LABEL,"ID","#XMIT: Label for input field where identifier of calculation is inputted");t.addTextWithComment(e.OuCalcDetailsAreaViewI18n.FE_ID_AREA_INPUT_VALUE,"Calculation_{0}","#XMIT: Initial value of input field for calculation. the placeholder is the index used in case of existing calculation with same name.");t.addTextWithComment(e.OuCalcDetailsAreaViewI18n.FE_DESC_AREA_INPUT_VALUE,"Calculation {0}","#XMIT: Initial value of input field for description of calculation. the placeholder is the index used in case of existing calculation with same name.");t.addTextWithComment(e.OuCalcDetailsAreaViewI18n.NAME_AREA_LABEL,"Description","#XMIT: Label for input field where name of calculation is inputted");t.addTextWithComment(e.OuCalcDetailsAreaViewI18n.ID_ERROR_MANDATORY,"Enter the ID to create the calculation.","#XMSG: Error value state message shown when an id is empty");t.addTextWithComment(e.OuCalcDetailsAreaViewI18n.ID_ERROR_EXISTING,"This ID already exists. Enter a different one.","#XMSG: Error value state message shown when an id already exists");t.addTextWithComment(e.OuCalcDetailsAreaViewI18n.ID_ERROR_MAX_LENGTH,"ID length must not exceed 256 characters.","#XMSG: Error value state message shown when a id exceed the max length of 256");t.addTextWithComment(e.OuCalcDetailsAreaViewI18n.NAME_ERROR_MAX_LENGTH,"Description length must not exceed 256 characters.","#XMSG: Error value state message shown when a description exceed the max length of 256");t.addTextWithComment(e.OuCalcDetailsAreaViewI18n.ID_ERROR_INVALID_CHARS,'Enter a name (ID) that contains a combination of the characters "A-Z", "a-z", "0-9", or "_", and begins with a letter.',"#XMSG: Error value state message shown when a id has invalid characters");return t};e.OuCalcFormulaEditorI18n=function(){};e.OuCalcFormulaEditorI18n.prototype=new e.DfXLocalizationProvider;e.OuCalcFormulaEditorI18n.prototype._ff_c="OuCalcFormulaEditorI18n";e.OuCalcFormulaEditorI18n.ASSISTANCE_AI_EXPLANATION_GENERATION_ERROR="FF_FE_ASSISTANCE_AI_EXPLANATION_GENERATION_ERROR";e.OuCalcFormulaEditorI18n.ASSISTANCE_AI_FORMULA_GENERATION_ERROR="FF_FE_ASSISTANCE_AI_FORMULA_GENERATION_ERROR";e.OuCalcFormulaEditorI18n.ASSISTANCE_AI_GENERATION_DIMENSION_MEMBER_WARNING="FF_FE_ASSISTANCE_AI_GENERATION_DIMENSION_MEMBER_WARNING";e.OuCalcFormulaEditorI18n.ASSISTANCE_AI_PANEL_TITLE="FF_FE_ASSISTANCE_AI_PANEL_TITLE";e.OuCalcFormulaEditorI18n.ASSISTANCE_ERRORS_ANNOUNCE_UPDATE="FF_FE_ASSISTANCE_ERRORS_ANNOUNCE_UPDATE";e.OuCalcFormulaEditorI18n.ASSISTANCE_ERRORS_BUTTON="FF_FE_ASSISTANCE_ERRORS_BUTTON";e.OuCalcFormulaEditorI18n.ASSISTANCE_ERRORS_EMPTY_FORMULA="FF_FE_ASSISTANCE_ERRORS_EMPTY_FORMULA";e.OuCalcFormulaEditorI18n.ASSISTANCE_ERRORS_TITLE_MULTIPLE="FF_FE_ASSISTANCE_ERRORS_TITLE_MULTIPLE";e.OuCalcFormulaEditorI18n.ASSISTANCE_ERRORS_TITLE_SINGLE="FF_FE_ASSISTANCE_ERRORS_TITLE_SINGLE";e.OuCalcFormulaEditorI18n.ASSISTANCE_ERRORS_VALID_FORMULA="FF_FE_ASSISTANCE_ERRORS_VALID_FORMULA";e.OuCalcFormulaEditorI18n.ASSISTANCE_FUNC_HELP_PANEL_TITLE="FF_FE_ASSISTANCE_FUNC_HELP_PANEL_TITLE";e.OuCalcFormulaEditorI18n.ASSISTANCE_HELP_ANNOUNCE_UPDATE="FF_FE_ASSISTANCE_HELP_ANNOUNCE_UPDATE";e.OuCalcFormulaEditorI18n.ASSISTANCE_HELP_BUTTON="FF_FE_ASSISTANCE_HELP_BUTTON";e.OuCalcFormulaEditorI18n.ASSISTANCE_HELP_EMPTY="FF_FE_ASSISTANCE_HELP_EMPTY";e.OuCalcFormulaEditorI18n.ASSISTANCE_HELP_EMPTY_DESCRIPTION="FF_FE_ASSISTANCE_HELP_EMPTY_DESCRIPTION";e.OuCalcFormulaEditorI18n.ASSISTANCE_HELP_EMPTY_TITLE="FF_FE_ASSISTANCE_HELP_EMPTY_TITLE";e.OuCalcFormulaEditorI18n.DISPLAY_OPTIONS="FF_FE_DISPLAY_OPTIONS";e.OuCalcFormulaEditorI18n.DISPLAY_OPTIONS_DESCRIPTION="FF_FE_DISPLAY_OPTIONS_DESCRIPTION";e.OuCalcFormulaEditorI18n.DISPLAY_OPTIONS_DESCRIPTION_AND_ID="FF_FE_DISPLAY_OPTIONS_DESCRIPTION_AND_ID";e.OuCalcFormulaEditorI18n.DISPLAY_OPTIONS_ID="FF_FE_DISPLAY_OPTIONS_ID";e.OuCalcFormulaEditorI18n.DISPLAY_OPTIONS_ID_AND_DESCRIPTION="FF_FE_DISPLAY_OPTIONS_ID_AND_DESCRIPTION";e.OuCalcFormulaEditorI18n.EDITOR_AI_DESCRIPTION_ANNOUNCE_UPDATE="FF_FE_EDITOR_AI_DESCRIPTION_ANNOUNCE_UPDATE";e.OuCalcFormulaEditorI18n.EDITOR_AI_EXPLANATION_ANNOUNCE_UPDATE="FF_FE_EDITOR_AI_EXPLANATION_ANNOUNCE_UPDATE";e.OuCalcFormulaEditorI18n.EDITOR_ANNOUNCE_UPDATE="FF_FE_EDITOR_ANNOUNCE_UPDATE";e.OuCalcFormulaEditorI18n.EDITOR_CLEAR_BTN="FF_FE_EDITOR_TOOLBAR_CLEAR";e.OuCalcFormulaEditorI18n.EDITOR_ERRORS_ANNOUNCE_UPDATE="FF_FE_EDITOR_ERRORS_ANNOUNCE_UPDATE";e.OuCalcFormulaEditorI18n.EDITOR_ERROR_MESSAGE_MORE="FF_FE_EDITOR_ERROR_MESSAGE_MORE";e.OuCalcFormulaEditorI18n.EDITOR_FORMAT_BTN="FF_FE_EDITOR_TOOLBAR_FORMAT";e.OuCalcFormulaEditorI18n.EDITOR_HIDE_ERRORS_BTN="FF_FE_EDITOR_HIDE_ERRORS_BTN";e.OuCalcFormulaEditorI18n.EDITOR_HIDE_FUNC_HELP_BTN="FF_FE_EDITOR_HIDE_FUNC_HELP_BTN";e.OuCalcFormulaEditorI18n.EDITOR_LABEL="FF_FE_EDITOR_TOOLBAR_TITLE";e.OuCalcFormulaEditorI18n.EDITOR_NAMED_ANNOUNCE_UPDATE="FF_FE_EDITOR_NAMED_ANNOUNCE_UPDATE";e.OuCalcFormulaEditorI18n.EDITOR_NAME_EXPLAIN_FORMULA="FF_FE_EDITOR_NAME_EXPLAIN_FORMULA";e.OuCalcFormulaEditorI18n.EDITOR_NAME_FORMULA="FF_FE_EDITOR_NAME_FORMULA";e.OuCalcFormulaEditorI18n.EDITOR_NAME_GENERATED_FORMULA="FF_FE_EDITOR_NAME_GENERATED_FORMULA";e.OuCalcFormulaEditorI18n.EDITOR_NO_ERRORS_ANNOUNCE_UPDATE="FF_FE_EDITOR_NO_ERRORS_ANNOUNCE_UPDATE";e.OuCalcFormulaEditorI18n.EDITOR_SHOW_DESCRIPTIONS_BTN="FF_FE_EDITOR_TOOLBAR_SHOW_DESCRIPTIONS";e.OuCalcFormulaEditorI18n.EDITOR_SHOW_ERRORS_BTN="FF_FE_EDITOR_SHOW_ERRORS_BTN";e.OuCalcFormulaEditorI18n.EDITOR_SHOW_FUNC_HELP_BTN="FF_FE_EDITOR_SHOW_FUNC_HELP_BTN";e.OuCalcFormulaEditorI18n.EDITOR_SUGGESTIONS_TOOLTIP="FF_FE_EDITOR_SUGGESTIONS_TOOLTIP";e.OuCalcFormulaEditorI18n.ERRORS_TITLE_MULTIPLE="FF_FE_ERRORS_TITLE_MULTIPLE";e.OuCalcFormulaEditorI18n.ERRORS_TITLE_SINGLE="FF_FE_ERRORS_TITLE_SINGLE";e.OuCalcFormulaEditorI18n.FE_BTN_COLLAPSE="FF_FE_BTN_COLLAPSE";e.OuCalcFormulaEditorI18n.FE_BTN_EXPAND="FF_FE_BTN_EXPAND";e.OuCalcFormulaEditorI18n.FE_CONDITIONS="FF_FE_CONDITIONS";e.OuCalcFormulaEditorI18n.FE_DIMENSIONS="FF_FE_DIMENSIONS";e.OuCalcFormulaEditorI18n.FE_DIMENSION_DATE_DISABLE="FE_DIMENSION_DATE_DISABLE";e.OuCalcFormulaEditorI18n.FE_DIMENSION_VIRTUAL_DISABLE="FF_FE_MEASURE_VIRTUAL_DISABLE";e.OuCalcFormulaEditorI18n.FE_DOCUMENTATION="FF_FE_DOCUMENTATION";e.OuCalcFormulaEditorI18n.FE_EXAMPLE="FF_FE_EXAMPLE";e.OuCalcFormulaEditorI18n.FE_FUNCTIONS="FF_FE_FUNCTIONS";e.OuCalcFormulaEditorI18n.FE_FUNCTIONS_BUSINESS="FF_FE_FUNCTIONS_BUSINESS";e.OuCalcFormulaEditorI18n.FE_FUNCTIONS_CONVERSION="FF_FE_FUNCTIONS_CONVERSION";e.OuCalcFormulaEditorI18n.FE_FUNCTIONS_DATE_AND_TIME="FF_FE_FUNCTIONS_DATE_AND_TIME";e.OuCalcFormulaEditorI18n.FE_FUNCTIONS_DYNAMIC_TIME="FF_FE_FUNCTIONS_DYNAMIC_TIME";e.OuCalcFormulaEditorI18n.FE_FUNCTIONS_LOGICAL="FF_FE_FUNCTIONS_LOGICAL";e.OuCalcFormulaEditorI18n.FE_FUNCTIONS_LOOKUP_AND_REFERENCE="FF_FE_FUNCTIONS_LOOKUP_AND_REFERENCE";e.OuCalcFormulaEditorI18n.FE_FUNCTIONS_MATHEMATICAL_FN="FF_FE_FUNCTIONS_MATHEMATICAL_FN";e.OuCalcFormulaEditorI18n.FE_MEASURE_DATE_DISABLE="FF_FE_MEASURE_DATE_DISABLE";e.OuCalcFormulaEditorI18n.FE_OPERATORS="FF_FE_OPERATORS";e.OuCalcFormulaEditorI18n.FE_REMARK="FF_FE_REMARK";e.OuCalcFormulaEditorI18n.FE_SUMMARY="FF_FE_SUMMARY";e.OuCalcFormulaEditorI18n.FE_SYNTAX="FF_FE_SYNTAX";e.OuCalcFormulaEditorI18n.FE_TAB_ICON_FUNCTIONS="FF_FE_TAB_ICON_FUNCTIONS";e.OuCalcFormulaEditorI18n.FE_TAB_ICON_OBJECTS="FF_FE_TAB_ICON_OBJECTS";e.OuCalcFormulaEditorI18n.FE_TAB_ICON_OPERATORS="FF_FE_TAB_ICON_OPERATORS";e.OuCalcFormulaEditorI18n.FORMULA_EXPLAIN_DISCLAIMER_PART1="FF_FE_FORMULA_EXPLAIN_DISCLAIMER_PART1";e.OuCalcFormulaEditorI18n.FORMULA_EXPLAIN_DISCLAIMER_PART2="FF_FE_FORMULA_EXPLAIN_DISCLAIMER_PART2";e.OuCalcFormulaEditorI18n.FORMULA_EXPLAIN_PANEL_TITLE="FF_FE_FORMULA_EXPLAIN_PANEL_TITLE";e.OuCalcFormulaEditorI18n.FORMULA_EXPLAIN_TEXT="FF_FE_FORMULA_EXPLAIN_TEXT";e.OuCalcFormulaEditorI18n.FORMULA_GENERATE_COPY_BTN="FF_FE_FORMULA_GENERATE_COPY_BTN";e.OuCalcFormulaEditorI18n.FORMULA_GENERATE_PANEL_TITLE="FF_FE_FORMULA_GENERATE_PANEL_TITLE";e.OuCalcFormulaEditorI18n.FORMULA_GENERATE_SYNTAX_ERROR="FF_FE_FORMULA_GENERATE_SYNTAX_ERROR";e.OuCalcFormulaEditorI18n.FORMULA_GENERATE_TEXT="FF_FE_FORMULA_GENERATE_TEXT";e.OuCalcFormulaEditorI18n.FORMULA_GENERATE_TEXT_AREA_LABEL="FF_FE_FORMULA_GENERATE_TEXT_AREA_LABEL";e.OuCalcFormulaEditorI18n.FORMULA_GENERATE_TEXT_AREA_PLACEHOLDER="FF_FE_FORMULA_GENERATE_TEXT_AREA_PLACEHOLDER";e.OuCalcFormulaEditorI18n.FORMULA_NL_AREA_PLACEHOLDER="FF_FE_FORMULA_NL_AREA_PLACEHOLDER";e.OuCalcFormulaEditorI18n.LEFT_PANEL_NO_DATA_DESCRIPTION="FF_FE_LEFT_PANEL_NO_DATA_DESCRIPTION";e.OuCalcFormulaEditorI18n.LEFT_PANEL_NO_DATA_TITLE="FF_FE_LEFT_PANEL_NO_DATA_TITLE";e.OuCalcFormulaEditorI18n.MEMBER_SELECTOR_TITLE="FF_FE_MEMBER_SELECTOR_TITLE";e.OuCalcFormulaEditorI18n.PROVIDER_NAME="FeFormulaEditor";e.OuCalcFormulaEditorI18n.TAB_OBJECTS_ANNOUNCE_UPDATE="FF_FE_TAB_OBJECTS_ANNOUNCE_UPDATE";e.OuCalcFormulaEditorI18n.getLocalization=function(){return e.XLocalizationCenter.getCenter().getLocalizationProviderByName(e.OuCalcFormulaEditorI18n.PROVIDER_NAME)};e.OuCalcFormulaEditorI18n.staticSetup=function(){let t=new e.OuCalcFormulaEditorI18n;t.setupProvider(e.OuCalcFormulaEditorI18n.PROVIDER_NAME,true);t.addTextWithComment(e.OuCalcFormulaEditorI18n.FE_BTN_EXPAND,"Expand","#XTOL: expand button tooltip");t.addTextWithComment(e.OuCalcFormulaEditorI18n.FE_BTN_COLLAPSE,"Collapse","#XTOL: collapse button tooltip");t.addTextWithComment(e.OuCalcFormulaEditorI18n.FE_TAB_ICON_FUNCTIONS,"Functions","#XTOL: Functions tab icon tooltip");t.addTextWithComment(e.OuCalcFormulaEditorI18n.FE_TAB_ICON_OBJECTS,"Available Objects","#XTOL: Objects tab icon tooltip");t.addTextWithComment(e.OuCalcFormulaEditorI18n.FE_TAB_ICON_OPERATORS,"Conditions and Operators","#XTOL: Conditions and Operators tab icon tooltip");t.addTextWithComment(e.OuCalcFormulaEditorI18n.FE_FUNCTIONS,"Functions","#XTIT: Functions panel name");t.addTextWithComment(e.OuCalcFormulaEditorI18n.FE_FUNCTIONS_CONVERSION,"Conversion","#XTIT: Conversion functions panel name");t.addTextWithComment(e.OuCalcFormulaEditorI18n.FE_FUNCTIONS_LOGICAL,"Logical","#XTIT: Logical functions panel name");t.addTextWithComment(e.OuCalcFormulaEditorI18n.FE_FUNCTIONS_DATE_AND_TIME,"Date and Time","#XTIT: Date and Time functions panel name");t.addTextWithComment(e.OuCalcFormulaEditorI18n.FE_FUNCTIONS_MATHEMATICAL_FN,"Mathematical","#XTIT: Mathematical functions panel name");t.addTextWithComment(e.OuCalcFormulaEditorI18n.FE_FUNCTIONS_LOOKUP_AND_REFERENCE,"Lookup & Reference","#XTIT: Lookup & Reference functions panel name");t.addTextWithComment(e.OuCalcFormulaEditorI18n.FE_FUNCTIONS_BUSINESS,"Business","#XTIT: Business functions panel name");t.addTextWithComment(e.OuCalcFormulaEditorI18n.FE_FUNCTIONS_DYNAMIC_TIME,"Dynamic Time","#XTIT: Dynamic Time functions panel name");t.addTextWithComment(e.OuCalcFormulaEditorI18n.FE_DIMENSIONS,"Dimensions","#XTIT: Dimensions panel name");t.addTextWithComment(e.OuCalcFormulaEditorI18n.FE_OPERATORS,"Operators","#XTIT: Operators panel name");t.addTextWithComment(e.OuCalcFormulaEditorI18n.FE_CONDITIONS,"Conditions","#XTIT: Conditions panel name");t.addTextWithComment(e.OuCalcFormulaEditorI18n.FE_MEASURE_DATE_DISABLE,"This measure is disabled as measures of type date and time are not supported in formulas.","#XTOL: Tooltip to inform the measure has been disabled because type date");t.addTextWithComment(e.OuCalcFormulaEditorI18n.FE_DIMENSION_VIRTUAL_DISABLE,"This dimension is disabled as group dimensions are not supported in formulas.","#XTOL: Tooltip to inform the dimensions has been disabled because type group");t.addTextWithComment(e.OuCalcFormulaEditorI18n.FE_DIMENSION_DATE_DISABLE,"This dimension is disabled as dimensions of type date and time are not supported in formulas.","#XTOL: Tooltip to inform the dimensions has been disabled because type date");t.addTextWithComment(e.OuCalcFormulaEditorI18n.DISPLAY_OPTIONS,"Display Options","#XTOL: Tooltip for Display option menu button");t.addTextWithComment(e.OuCalcFormulaEditorI18n.DISPLAY_OPTIONS_DESCRIPTION,"Description","#XTIT: Display option menu item for 'Description'");t.addTextWithComment(e.OuCalcFormulaEditorI18n.DISPLAY_OPTIONS_ID,"ID","#XTIT: Display option menu item for 'ID'");t.addTextWithComment(e.OuCalcFormulaEditorI18n.DISPLAY_OPTIONS_ID_AND_DESCRIPTION,"ID and Description","#XTIT: Display option menu item for 'ID and Description'");t.addTextWithComment(e.OuCalcFormulaEditorI18n.DISPLAY_OPTIONS_DESCRIPTION_AND_ID,"Description and ID","#XTIT: Display option menu item for 'Description and ID'");t.addTextWithComment(e.OuCalcFormulaEditorI18n.LEFT_PANEL_NO_DATA_TITLE,"We couldn't find that","#XMSG: Illustrated message title when no data as result of a search");t.addTextWithComment(e.OuCalcFormulaEditorI18n.LEFT_PANEL_NO_DATA_DESCRIPTION,"Try adjusting your search?","#XMSG: Illustrated message description when no data as result of a search");t.addTextWithComment(e.OuCalcFormulaEditorI18n.FE_DOCUMENTATION,"{0} Documentation","#XTIT: Documentation label used as aria-label for the accessibility tool");t.addTextWithComment(e.OuCalcFormulaEditorI18n.FE_SYNTAX,"Syntax","#XTIT: Syntax label, also used as aria-label for the accessibility tool");t.addTextWithComment(e.OuCalcFormulaEditorI18n.FE_SUMMARY,"Summary","#XTIT: Summary label, also used as aria-label for the accessibility tool");t.addTextWithComment(e.OuCalcFormulaEditorI18n.FE_EXAMPLE,"Example","#XTIT: Example label, also used as aria-label for the accessibility tool");t.addTextWithComment(e.OuCalcFormulaEditorI18n.FE_REMARK,"Remarks","#XTIT: Remarks label, also used as aria-label for the accessibility tool");t.addTextWithComment(e.OuCalcFormulaEditorI18n.EDITOR_LABEL,"Formula","#XTIT: Formula editor label");t.addTextWithComment(e.OuCalcFormulaEditorI18n.EDITOR_FORMAT_BTN,"Format","#XBUT: Format formula button in editor toolbar");t.addTextWithComment(e.OuCalcFormulaEditorI18n.EDITOR_CLEAR_BTN,"Clear","#XBUT: Clear formula button in editor toolbar");t.addTextWithComment(e.OuCalcFormulaEditorI18n.EDITOR_SHOW_DESCRIPTIONS_BTN,"Shows Descriptions","#XBUT: Shows Descriptions formula button in editor toolbar");t.addTextWithComment(e.OuCalcFormulaEditorI18n.EDITOR_SHOW_ERRORS_BTN,"Show errors","#XTOL: Show errors toggle button in editor toolbar");t.addTextWithComment(e.OuCalcFormulaEditorI18n.EDITOR_HIDE_ERRORS_BTN,"Hide errors","#XTOL: Hide errors toggle button in editor toolbar");t.addTextWithComment(e.OuCalcFormulaEditorI18n.EDITOR_SHOW_FUNC_HELP_BTN,"Show Function Help","#XTOL: Show Function Help Side panel toggle button in editor toolbar");t.addTextWithComment(e.OuCalcFormulaEditorI18n.EDITOR_HIDE_FUNC_HELP_BTN,"Hide Function Help","#XTOL: Hide Function Help Side panel toggle button in editor toolbar");t.addTextWithComment(e.OuCalcFormulaEditorI18n.EDITOR_SUGGESTIONS_TOOLTIP,"Loading suggestions","#XTOL: Loading icon tooltip which shows autocomplete suggestions are loading");t.addTextWithComment(e.OuCalcFormulaEditorI18n.EDITOR_ERROR_MESSAGE_MORE,"{0} more errors","#XMSG: link shown in error message area in case of more than 1 errors");t.addTextWithComment(e.OuCalcFormulaEditorI18n.ERRORS_TITLE_MULTIPLE,"Errors ({0})","#XTIT: Errors area title in case of multiple errors");t.addTextWithComment(e.OuCalcFormulaEditorI18n.ERRORS_TITLE_SINGLE,"Error (1)","#XTIT: Errors area title in case 1 error");t.addTextWithComment(e.OuCalcFormulaEditorI18n.FORMULA_GENERATE_PANEL_TITLE,"Formula Created With AI","#XTIT: Title of the generated formula panel");t.addTextWithComment(e.OuCalcFormulaEditorI18n.FORMULA_EXPLAIN_PANEL_TITLE,"AI Generated Formula Explanation","#XTIT: Title of the generated formula panel");t.addTextWithComment(e.OuCalcFormulaEditorI18n.FORMULA_GENERATE_COPY_BTN,"Copy to formula","#XTOL: Tooltip for the button to copy the generated formula to the formula editor.");t.addTextWithComment(e.OuCalcFormulaEditorI18n.FORMULA_EXPLAIN_TEXT,"Explain","#XTIT: Explain formula in AI panel action selection");t.addTextWithComment(e.OuCalcFormulaEditorI18n.FORMULA_GENERATE_TEXT,"Generate","#XTIT: Generate formula in action AI panel selection");t.addTextWithComment(e.OuCalcFormulaEditorI18n.FORMULA_GENERATE_TEXT_AREA_LABEL,"Formula Requirement","#XTIT: Natural language text area label");t.addTextWithComment(e.OuCalcFormulaEditorI18n.FORMULA_GENERATE_TEXT_AREA_PLACEHOLDER,"Enter your formula requirement here and let AI generate a formula for you","#YINS: Natural language text area placeholder for generate formula");t.addTextWithComment(e.OuCalcFormulaEditorI18n.FORMULA_GENERATE_SYNTAX_ERROR,"We could not generate a valid formula. The AI-Assisted Calculations does not support any unapproved functions or operations in the editor.","#XMSG: Error message shown in case the formula generated by the LLM is syntactically incorrect.");t.addTextWithComment(e.OuCalcFormulaEditorI18n.FORMULA_EXPLAIN_DISCLAIMER_PART1,"Created with AI.","#XMSG:  AI disclaimer.");t.addTextWithComment(e.OuCalcFormulaEditorI18n.FORMULA_EXPLAIN_DISCLAIMER_PART2,"Verify result before use.","#XMSG:  AI disclaimer. Verify result before use");t.addTextWithComment(e.OuCalcFormulaEditorI18n.FORMULA_NL_AREA_PLACEHOLDER,"Specify a formula in natural language format\n for example: 10% of Revenue - 90% of Cost","#YINS: Natural language text area placeholder");t.addTextWithComment(e.OuCalcFormulaEditorI18n.ASSISTANCE_AI_PANEL_TITLE,"AI-Assisted Calculations","#XTIT: Shows AI assistant panel title");t.addTextWithComment(e.OuCalcFormulaEditorI18n.ASSISTANCE_FUNC_HELP_PANEL_TITLE,"Function Help","#XTIT: Shows Documentation panel title");t.addTextWithComment(e.OuCalcFormulaEditorI18n.ASSISTANCE_HELP_BUTTON,"Help","#XBUT: Shows Documentation tab button in assistance area");t.addTextWithComment(e.OuCalcFormulaEditorI18n.ASSISTANCE_HELP_EMPTY,"Select a function to get some help here.","#XMSG: Message shown on Documentation area when no function is selected");t.addTextWithComment(e.OuCalcFormulaEditorI18n.ASSISTANCE_HELP_EMPTY_TITLE,"No Function Selected","#XMSG: Message shown as illustrated message title on Documentation area when no function is selected");t.addTextWithComment(e.OuCalcFormulaEditorI18n.ASSISTANCE_HELP_EMPTY_DESCRIPTION,"Select a function to get information on how to use it.","#XMSG: Message shown as illustrated message description on Documentation area when no function is selected");t.addTextWithComment(e.OuCalcFormulaEditorI18n.ASSISTANCE_ERRORS_BUTTON,"Errors","#XBUT: Shows Error tab button in assistance area");t.addTextWithComment(e.OuCalcFormulaEditorI18n.ASSISTANCE_ERRORS_TITLE_MULTIPLE,"Found errors ({0})","#XTIT: Errors area title in case of multiple errors");t.addTextWithComment(e.OuCalcFormulaEditorI18n.ASSISTANCE_ERRORS_TITLE_SINGLE,"Found error (1)","#XTIT: Errors area title in case 1 error");t.addTextWithComment(e.OuCalcFormulaEditorI18n.ASSISTANCE_ERRORS_EMPTY_FORMULA,"There are no errors. The formula is empty","#XTIT: Errors area placeholder in case of empty formula (part 2)");t.addTextWithComment(e.OuCalcFormulaEditorI18n.ASSISTANCE_ERRORS_VALID_FORMULA,"There are no errors. Your formula is valid","#XTIT: Errors area placeholder in case of valid formula (part 2)");t.addTextWithComment(e.OuCalcFormulaEditorI18n.ASSISTANCE_AI_EXPLANATION_GENERATION_ERROR,"There was an error while generating description: {0}","#XMSG: Error message shown in case of error during formula explanation. {0} is the message from the server.");t.addTextWithComment(e.OuCalcFormulaEditorI18n.ASSISTANCE_AI_GENERATION_DIMENSION_MEMBER_WARNING,"The formula generated includes dimension members. These are a best guess based on your input, as the AI assistant doesn't have access to actual member IDs. Please review and replace them with the correct IDs.","#XMSG: Warning message shown in case of generation warning: in case of dimensions in the formula, we invite the user to verify the members");t.addTextWithComment(e.OuCalcFormulaEditorI18n.ASSISTANCE_AI_FORMULA_GENERATION_ERROR,"There was an error while generating formula: {0}","#XMSG: Error message shown in case of error during formula generation. {0} is the message from the server.");t.addTextWithComment(e.OuCalcFormulaEditorI18n.TAB_OBJECTS_ANNOUNCE_UPDATE,"The Objects panel has been updated.","#XMSG: Hidden message for screen reader to announce the Measure/Dimension/Accounts have been updated in the panel view.");t.addTextWithComment(e.OuCalcFormulaEditorI18n.EDITOR_ANNOUNCE_UPDATE,"The code in the editor has been updated.","#XMSG: Hidden message for screen reader to announce the code in the editor has been updated.");t.addTextWithComment(e.OuCalcFormulaEditorI18n.EDITOR_NAME_FORMULA,"Formula Editor","#XMSG: Editor name used as placeholder in EDITOR_NAMED_ANNOUNCE_UPDATE, to identify the formula editor.");t.addTextWithComment(e.OuCalcFormulaEditorI18n.EDITOR_NAME_GENERATED_FORMULA,"Generated Formula","#XMSG: Editor name used as placeholder in EDITOR_NAMED_ANNOUNCE_UPDATE, to identify the generated formula readonly editor.");t.addTextWithComment(e.OuCalcFormulaEditorI18n.EDITOR_NAME_EXPLAIN_FORMULA,"Explain Formula Editor","#XMSG: Editor name used as placeholder in EDITOR_NAMED_ANNOUNCE_UPDATE,  to identify the editor of the formula to be explained.");t.addTextWithComment(e.OuCalcFormulaEditorI18n.EDITOR_NAMED_ANNOUNCE_UPDATE,"The code in the editor '{0}' has been updated.","#XMSG: Hidden message for screen reader to announce the code in the editor has been updated. {0} is the editor name, used when multiple editors are rendered.");t.addTextWithComment(e.OuCalcFormulaEditorI18n.EDITOR_ERRORS_ANNOUNCE_UPDATE,"The editor error message has been updated: {0}","#XMSG: Hidden message for screen reader to announce the editor error area has been updated.");t.addTextWithComment(e.OuCalcFormulaEditorI18n.EDITOR_AI_DESCRIPTION_ANNOUNCE_UPDATE,"The editor AI area has been updated: {0}","#XMSG: Hidden message for screen reader to announce the editor AI area has been updated.");t.addTextWithComment(e.OuCalcFormulaEditorI18n.EDITOR_NO_ERRORS_ANNOUNCE_UPDATE,"No Errors","#XMSG: Hidden message used by FF_FE_ASSISTANCE_ERRORS_ANNOUNCE_UPDATE as parameter in case of no errors.");t.addTextWithComment(e.OuCalcFormulaEditorI18n.ASSISTANCE_ERRORS_ANNOUNCE_UPDATE,"The list of errors has been updated.","#XMSG: Hidden message for screen reader to announce the errors list has been updated.");t.addTextWithComment(e.OuCalcFormulaEditorI18n.ASSISTANCE_HELP_ANNOUNCE_UPDATE,"The help section has been updated.","#XMSG: Hidden message for screen reader to announce the documentation has been updated.");t.addTextWithComment(e.OuCalcFormulaEditorI18n.EDITOR_AI_EXPLANATION_ANNOUNCE_UPDATE,"The formula explanation has been updated.","#XMSG: Hidden message for screen reader to announce the ai explanation has been updated.");t.addTextWithComment(e.OuCalcFormulaEditorI18n.MEMBER_SELECTOR_TITLE,"Select Values for {0}","#XTIT: Member selector dialog title. {0} is the dimension name.");return t};e.OuCalcAIExplainView=function(){};e.OuCalcAIExplainView.prototype=new e.DfUiView;e.OuCalcAIExplainView.prototype._ff_c="OuCalcAIExplainView";e.OuCalcAIExplainView.create=function(t,i,n,o){let r=new e.OuCalcAIExplainView;r.m_onExplainFormulaConsumers=e.XConsumerCollection.create();r.m_genAiService=e.XObjectExt.assertNotNull(n);r.m_explanationView=e.OuCalcAIExplanationView.create();r.m_explainFormulaCodeEditor=e.OuCalcCodeEditorWidget.create(e.XObjectExt.assertNotNull(i),r.getLocalization().getText(e.OuCalcFormulaEditorI18n.EDITOR_NAME_EXPLAIN_FORMULA));r.m_parser=t;r.m_activityTracking=e.XObjectExt.assertNotNull(o);return r};e.OuCalcAIExplainView.prototype.m_activityTracking=null;e.OuCalcAIExplainView.prototype.m_errorStrip=null;e.OuCalcAIExplainView.prototype.m_explainBtn=null;e.OuCalcAIExplainView.prototype.m_explainFormulaCodeEditor=null;e.OuCalcAIExplainView.prototype.m_explanationView=null;e.OuCalcAIExplainView.prototype.m_genAiService=null;e.OuCalcAIExplainView.prototype.m_onExplainFormulaConsumers=null;e.OuCalcAIExplainView.prototype.m_parser=null;e.OuCalcAIExplainView.prototype._performExplainInternal=function(){this.setBusy(true);let t=this.m_explainFormulaCodeEditor.getView().getValue();this.m_genAiService.explainFormula(t).onThen(e=>{this.m_explanationView.setExplanation(e,true);this.recordExplain()}).onCatch(t=>{this.setError(this.getLocalization().getTextWithPlaceholder(e.OuCalcFormulaEditorI18n.ASSISTANCE_AI_EXPLANATION_GENERATION_ERROR,t.getText()));this.recordExplainWithError(t.getText())}).onFinally(()=>{this.setBusy(false);this.m_explainFormulaCodeEditor.focus()})};e.OuCalcAIExplainView.prototype.addOnExplainFormulaConsumers=function(e){return this.m_onExplainFormulaConsumers.addConsumer(e)};e.OuCalcAIExplainView.prototype.clear=function(){e.XTimeout.timeout(0,()=>{this.setError(null);this.m_explainFormulaCodeEditor.clear();this.m_explanationView.resetExplanation()})};e.OuCalcAIExplainView.prototype.destroyView=function(){this.m_genAiService=null;this.m_parser=null;this.m_explanationView=e.XObjectExt.release(this.m_explanationView);this.m_explainFormulaCodeEditor=e.XObjectExt.release(this.m_explainFormulaCodeEditor);this.m_errorStrip=null;this.m_explainBtn=null;this.m_activityTracking=null;this.m_onExplainFormulaConsumers.clear();this.m_onExplainFormulaConsumers=e.XObjectExt.release(this.m_onExplainFormulaConsumers)};e.OuCalcAIExplainView.prototype.getLocalization=function(){return e.XLocalizationCenter.getCenter()};e.OuCalcAIExplainView.prototype.getSyntaxErrors=function(){let t=this.m_explainFormulaCodeEditor.getFormula();let i=this.m_parser.validate(t);if(i.hasErrors()){let t=e.XStream.of(i.getMessages()).find(t=>t.getCode()===e.FeErrorCodes.INVALID_SYNTAX);if(t.isPresent()){return e.XOptional.of(t.get().getText())}}return e.XOptional.empty()};e.OuCalcAIExplainView.prototype.getViewControl=function(t){return t.newControl(e.UiType.FLEX_LAYOUT)};e.OuCalcAIExplainView.prototype.layoutView=function(t){t.setDirection(e.UiFlexDirection.COLUMN);t.addCssClass("ffOuCalcAIPanelView");t.addCssClass("ffOuCalcAIExplainView");let i=t.addNewItemOfType(e.UiType.FLEX_LAYOUT);i.addCssClass("ffOuCalcAIInputLayout");i.setDirection(e.UiFlexDirection.COLUMN);let n=i.addNewItemOfType(e.UiType.LABEL);n.addCssClass("ffOuCalcAILabel");let o=this.getLocalization().getText(e.OuCalcFormulaEditorI18n.EDITOR_LABEL);n.setText(o);n.setTooltip(o);this.m_explainFormulaCodeEditor.renderView(this.getGenesis());n.setLabelFor(this.m_explainFormulaCodeEditor.getView());i.addItem(this.m_explainFormulaCodeEditor.getView());this.m_explainFormulaCodeEditor.addOnChangeConsumer(t=>{this.m_explainBtn.setEnabled(e.XStringUtils.isNotNullAndNotEmpty(t.getText()));this.setError(null)});this.m_explainBtn=i.addNewItemOfType(e.UiType.BUTTON);this.m_explainBtn.addCssClass("ffOuCalcAIExplainBtn");this.m_explainBtn.addCssClass("ffOuCalcAIBtn");this.m_explainBtn.setEnabled(false);this.m_explainBtn.setButtonType(e.UiButtonType.PRIMARY);let r=this.getLocalization().getText(e.OuCalcFormulaEditorI18n.FORMULA_EXPLAIN_TEXT);this.m_explainBtn.setTooltip(r);this.m_explainBtn.setText(r);this.m_explainBtn.setIcon("ai");this.m_explainBtn.registerOnPress(e.UiLambdaPressListener.create(e=>{this.performExplainInternal()}));t.addItem(this.m_explanationView.renderView(this.getGenesis()));this.m_errorStrip=t.addNewItemOfType(e.UiType.MESSAGE_STRIP);this.m_errorStrip.setMessageType(e.UiMessageType.ERROR);this.m_errorStrip.setVisible(false)};e.OuCalcAIExplainView.prototype.performExplainInternal=function(){e.XTimeout.timeout(0,()=>{this.m_explanationView.resetExplanation();this.m_explanationView.setVisible(true);let e=this.getSyntaxErrors();if(e.isPresent()){this.setError(e.get());this.recordExplainWithError(e.get())}else{this.setError(null);this._performExplainInternal()}})};e.OuCalcAIExplainView.prototype.recordExplain=function(){this.recordExplainWithError(null)};e.OuCalcAIExplainView.prototype.recordExplainWithError=function(t){this.m_activityTracking.recordAiExplainFormula(this.m_parser.getOriginalFormulaItems(),e.XOptional.ofNullable(t))};e.OuCalcAIExplainView.prototype.setBusy=function(t){this.m_onExplainFormulaConsumers.accept(e.XBooleanValue.create(t));this.m_explainBtn.setEnabled(false);this.m_explanationView.setBusy(t)};e.OuCalcAIExplainView.prototype.setCustomMode=function(e){this.m_explainFormulaCodeEditor.setCustomMode(e)};e.OuCalcAIExplainView.prototype.setError=function(t){this.m_errorStrip.setText(t);let i=e.XStringUtils.isNotNullAndNotEmpty(t);if(i){this.m_explanationView.setVisible(false)}this.m_errorStrip.setVisible(i)};e.OuCalcAIExplainView.prototype.setFormulaText=function(e,t){this.m_explainFormulaCodeEditor.getView().setValue(e);if(t){this.performExplainInternal()}};e.OuCalcAIExplainView.prototype.setupView=function(){};e.OuCalcAIExplanationView=function(){};e.OuCalcAIExplanationView.prototype=new e.DfUiView;e.OuCalcAIExplanationView.prototype._ff_c="OuCalcAIExplanationView";e.OuCalcAIExplanationView.create=function(){let t=new e.OuCalcAIExplanationView;t.m_disclaimer=e.OuCalcAIDisclaimerWidget.create();return t};e.OuCalcAIExplanationView.prototype.m_aiGenerated=false;e.OuCalcAIExplanationView.prototype.m_disclaimer=null;e.OuCalcAIExplanationView.prototype.m_explanationResult=null;e.OuCalcAIExplanationView.prototype._updateUI=function(){let t=e.XStringUtils.isNotNullAndNotEmpty(this.m_explanationResult.getText());this.setVisible(t);this.m_disclaimer.setVisible(t&&this.m_aiGenerated)};e.OuCalcAIExplanationView.prototype.announceUpdate=function(){e.UiFramework.currentFramework().announce(this.getLocalization().getText(e.OuCalcFormulaEditorI18n.EDITOR_AI_EXPLANATION_ANNOUNCE_UPDATE),e.UiAriaLiveMode.ASSERTIVE)};e.OuCalcAIExplanationView.prototype.destroyView=function(){this.m_explanationResult=null;this.m_disclaimer=e.XObjectExt.release(this.m_disclaimer)};e.OuCalcAIExplanationView.prototype.getLocalization=function(){return e.XLocalizationCenter.getCenter()};e.OuCalcAIExplanationView.prototype.getViewControl=function(t){return t.newControl(e.UiType.FLEX_LAYOUT)};e.OuCalcAIExplanationView.prototype.layoutView=function(t){t.addNewItemOfType(e.UiType.FLEX_LAYOUT);t.setDirection(e.UiFlexDirection.COLUMN);t.addCssClass("ffOuCalcAIOutputLayout");let i=t.addNewItemOfType(e.UiType.TITLE);i.setText(this.getLocalization().getText(e.OuCalcFormulaEditorI18n.FORMULA_EXPLAIN_PANEL_TITLE));i.setTitleStyle(e.UiTitleLevel.H_5);i.setTitleLevel(e.UiTitleLevel.H_5);this.m_explanationResult=t.addNewItemOfType(e.UiType.TEXT);this.m_explanationResult.addCssClass("ffOuCalcAIExplanationResult");this.m_disclaimer.renderView(this.getGenesis());t.addItem(this.m_disclaimer.getView());this._updateUI()};e.OuCalcAIExplanationView.prototype.resetExplanation=function(){this.setExplanation(null,false)};e.OuCalcAIExplanationView.prototype.setBusy=function(e){if(e){this.getView().setVisible(true)}this.m_explanationResult.setBusy(e)};e.OuCalcAIExplanationView.prototype.setExplanation=function(e,t){this.m_aiGenerated=t;this.m_explanationResult.setText(e);this.announceUpdate();this._updateUI()};e.OuCalcAIExplanationView.prototype.setVisible=function(e){this.getView().setVisible(e)};e.OuCalcAIExplanationView.prototype.setupView=function(){};e.OuCalcAIGenerateView=function(){};e.OuCalcAIGenerateView.prototype=new e.DfUiView;e.OuCalcAIGenerateView.prototype._ff_c="OuCalcAIGenerateView";e.OuCalcAIGenerateView.EMPTY_TEXT="";e.OuCalcAIGenerateView.create=function(t,i,n,o){let r=new e.OuCalcAIGenerateView;r.m_formulaPresentation=e.XObjectExt.assertNotNull(i);r.m_genAiService=e.XObjectExt.assertNotNull(n);r.m_explanationView=e.OuCalcAIExplanationView.create();r.m_onAddFormulaConsumers=e.XConsumerCollection.create();r.m_disclaimer=e.OuCalcAIDisclaimerWidget.create();r.m_parser=t;r.m_errors=e.MessageManagerSimple.createMessageManager();r.m_activityTracking=e.XObjectExt.assertNotNull(o);return r};e.OuCalcAIGenerateView.prototype.m_activityTracking=null;e.OuCalcAIGenerateView.prototype.m_addGeneratedFormulaBtn=null;e.OuCalcAIGenerateView.prototype.m_disclaimer=null;e.OuCalcAIGenerateView.prototype.m_errorStrip=null;e.OuCalcAIGenerateView.prototype.m_errors=null;e.OuCalcAIGenerateView.prototype.m_explanationView=null;e.OuCalcAIGenerateView.prototype.m_formulaPresentation=null;e.OuCalcAIGenerateView.prototype.m_genAiService=null;e.OuCalcAIGenerateView.prototype.m_generateBtn=null;e.OuCalcAIGenerateView.prototype.m_generatedFormulaCodeEditor=null;e.OuCalcAIGenerateView.prototype.m_generatedFormulaLayout=null;e.OuCalcAIGenerateView.prototype.m_naturalLanguageTextArea=null;e.OuCalcAIGenerateView.prototype.m_onAddFormulaConsumers=null;e.OuCalcAIGenerateView.prototype.m_parser=null;e.OuCalcAIGenerateView.prototype.m_warningStrip=null;e.OuCalcAIGenerateView.prototype._dimensionsInFormula=function(t){return!e.FeDimensionTokenExtractor.create().getTokens(t).isEmpty()};e.OuCalcAIGenerateView.prototype._getLocalization=function(){return e.XLocalizationCenter.getCenter()};e.OuCalcAIGenerateView.prototype._isGeneratedFormulaEmpty=function(){return this.m_generatedFormulaCodeEditor.getFormula()===null||e.XStringUtils.isNullOrEmpty(this.m_generatedFormulaCodeEditor.getFormula().getText())};e.OuCalcAIGenerateView.prototype._performGenerate=function(){this.m_addGeneratedFormulaBtn.setEnabled(false);this.m_generatedFormulaCodeEditor.clear();this._resetMessages();this._setBusy(true);this.m_genAiService.generateFormula(this.m_naturalLanguageTextArea.getValue()).onThen(t=>{let i=e.FeFormula.create(t,this.m_formulaPresentation);this.m_errors=this.m_parser.validate(i);this.m_generatedFormulaCodeEditor.setValue(i.getDisplayText());if(!this.m_errors.hasErrors()){this._recordGenerate()}else{let t=this._getLocalization().getText(e.OuCalcFormulaEditorI18n.FORMULA_GENERATE_SYNTAX_ERROR);this._recordGenerateWithError(t);this._setError(t)}}).onCatch(t=>{this._setError(this._getLocalization().getTextWithPlaceholder(e.OuCalcFormulaEditorI18n.ASSISTANCE_AI_FORMULA_GENERATION_ERROR,t.getText()));this._recordGenerateWithError(t.getText())}).onFinally(()=>{this._setBusy(false);this._updateUI(true)})};e.OuCalcAIGenerateView.prototype._recordGenerate=function(){this._recordGenerateWithError(null)};e.OuCalcAIGenerateView.prototype._recordGenerateWithError=function(t){this.m_activityTracking.recordAiGenerateFormula(this.m_parser.getOriginalFormulaItems(),e.XOptional.ofNullable(t))};e.OuCalcAIGenerateView.prototype._resetErrors=function(){this.m_errors=e.MessageManagerSimple.createMessageManager();this._setError(null)};e.OuCalcAIGenerateView.prototype._resetMessages=function(){this._resetErrors();this.m_warningStrip.setText(e.OuCalcAIGenerateView.EMPTY_TEXT);this.m_warningStrip.setVisible(false)};e.OuCalcAIGenerateView.prototype._setBusy=function(e){if(e){this.m_disclaimer.setVisible(false);this.m_generatedFormulaLayout.setVisible(true);this.m_generateBtn.setEnabled(false)}this.m_generatedFormulaCodeEditor.setBusy(e)};e.OuCalcAIGenerateView.prototype._setError=function(t){this.m_errorStrip.setText(t);let i=e.XStringUtils.isNotNullAndNotEmpty(t);this.m_errorStrip.setVisible(i)};e.OuCalcAIGenerateView.prototype._updateGeneratedFormulaBtn=function(){this.m_addGeneratedFormulaBtn.setEnabled(!this._isGeneratedFormulaEmpty())};e.OuCalcAIGenerateView.prototype._updateUI=function(t){e.XTimeout.timeout(0,()=>{let i=e.XStringUtils.isNotNullAndNotEmpty(this.m_generatedFormulaCodeEditor.getView().getValue());this.m_generatedFormulaLayout.setVisible(i);this.m_disclaimer.setVisible(i);this._updateGeneratedFormulaBtn();let n=i&&this._dimensionsInFormula(this.m_generatedFormulaCodeEditor.getView().getValue());this.m_warningStrip.setText(n?this._getLocalization().getText(e.OuCalcFormulaEditorI18n.ASSISTANCE_AI_GENERATION_DIMENSION_MEMBER_WARNING):e.OuCalcAIGenerateView.EMPTY_TEXT);this.m_warningStrip.setVisible(n);if(t){this.focus()}})};e.OuCalcAIGenerateView.prototype.addOnAddFormulaConsumers=function(e){return this.m_onAddFormulaConsumers.addConsumer(e)};e.OuCalcAIGenerateView.prototype.clear=function(){this.m_naturalLanguageTextArea.setValue(e.OuCalcAIGenerateView.EMPTY_TEXT);this.m_generatedFormulaCodeEditor.clear();this._resetMessages();this._updateUI(true)};e.OuCalcAIGenerateView.prototype.destroyView=function(){this.m_formulaPresentation=null;this.m_genAiService=null;this.m_generatedFormulaLayout=null;this.m_explanationView=e.XObjectExt.release(this.m_explanationView);this.m_generatedFormulaCodeEditor=e.XObjectExt.release(this.m_generatedFormulaCodeEditor);this.m_naturalLanguageTextArea=null;this.m_onAddFormulaConsumers.clear();this.m_onAddFormulaConsumers=e.XObjectExt.release(this.m_onAddFormulaConsumers);this.m_generateBtn=null;this.m_errorStrip=null;this.m_disclaimer=null;this.m_warningStrip=null;this.m_errors=e.XObjectExt.release(this.m_errors);this.m_activityTracking=null};e.OuCalcAIGenerateView.prototype.focus=function(){if(this.m_generatedFormulaLayout.isVisible()&&!this.m_errorStrip.isVisible()){this.m_addGeneratedFormulaBtn.focus()}else{this.m_naturalLanguageTextArea.focus()}};e.OuCalcAIGenerateView.prototype.getViewControl=function(t){return t.newControl(e.UiType.FLEX_LAYOUT)};e.OuCalcAIGenerateView.prototype.layoutView=function(t){t.setDirection(e.UiFlexDirection.COLUMN);t.addCssClass("ffOuCalcAIPanelView");t.addCssClass("ffOuCalcAIGenerationView");let i=t.addNewItemOfType(e.UiType.FLEX_LAYOUT);i.addCssClass("ffOuCalcAIInputLayout");i.setDirection(e.UiFlexDirection.COLUMN);let n=i.addNewItemOfType(e.UiType.LABEL);n.addCssClass("ffOuCalcAILabel");let o=this._getLocalization().getText(e.OuCalcFormulaEditorI18n.FORMULA_GENERATE_TEXT_AREA_LABEL);n.setText(o);n.setTooltip(o);this.m_naturalLanguageTextArea=i.addNewItemOfType(e.UiType.TEXT_AREA);n.setLabelFor(this.m_naturalLanguageTextArea);this.m_naturalLanguageTextArea.registerOnLiveChange(e.UiLambdaLiveChangeListener.create(t=>{this.m_generateBtn.setEnabled(e.XStringUtils.isNotNullAndNotEmpty(this.m_naturalLanguageTextArea.getValue()))}));this.m_naturalLanguageTextArea.setPlaceholder(this._getLocalization().getText(e.OuCalcFormulaEditorI18n.FORMULA_GENERATE_TEXT_AREA_PLACEHOLDER));this.m_generateBtn=i.addNewItemOfType(e.UiType.BUTTON);this.m_generateBtn.addCssClass("ffOuCalcAIGenerateBtn");this.m_generateBtn.addCssClass("ffOuCalcAIBtn");this.m_generateBtn.setEnabled(false);this.m_generateBtn.setButtonType(e.UiButtonType.PRIMARY);let r=this._getLocalization().getText(e.OuCalcFormulaEditorI18n.FORMULA_GENERATE_TEXT);this.m_generateBtn.setTooltip(r);this.m_generateBtn.setText(r);this.m_generateBtn.setIcon("ai");this.m_generateBtn.registerOnPress(e.UiLambdaPressListener.create(e=>{this._performGenerate()}));this.m_generatedFormulaLayout=t.addNewItemOfType(e.UiType.FLEX_LAYOUT);this.m_generatedFormulaLayout.setDirection(e.UiFlexDirection.COLUMN);this.m_generatedFormulaLayout.addCssClass("ffOuCalcAIOutputLayout");let a=this.m_generatedFormulaLayout.addNewItemOfType(e.UiType.TOOLBAR);let s=a.addNewItemOfType(e.UiType.TITLE);s.setText(this._getLocalization().getText(e.OuCalcFormulaEditorI18n.FORMULA_GENERATE_PANEL_TITLE));s.setTitleStyle(e.UiTitleLevel.H_5);s.setTitleLevel(e.UiTitleLevel.H_5);a.addNewItemOfType(e.UiType.SPACER);this.m_addGeneratedFormulaBtn=a.addNewItemOfType(e.UiType.BUTTON);this.m_addGeneratedFormulaBtn.addCssClass("ffOuCalcAIAddBtn");this.m_addGeneratedFormulaBtn.setTooltip(this._getLocalization().getText(e.OuCalcFormulaEditorI18n.FORMULA_GENERATE_COPY_BTN));this.m_addGeneratedFormulaBtn.setIcon("copy");this.m_addGeneratedFormulaBtn.setButtonType(e.UiButtonType.TRANSPARENT);this.m_addGeneratedFormulaBtn.setEnabled(false);this.m_addGeneratedFormulaBtn.registerOnPress(e.UiLambdaPressListener.create(e=>{if(this._isGeneratedFormulaEmpty()){return}let t=this.m_generatedFormulaCodeEditor.getFormula();this.m_onAddFormulaConsumers.accept(t.getText());this.m_activityTracking.recordAddAiGenerateFormulaToEditor(t.getText(),this.m_parser.getOriginalFormulaItems())}));this.m_generatedFormulaCodeEditor=e.OuCalcCodeEditorWidget.create(this.m_formulaPresentation,this._getLocalization().getText(e.OuCalcFormulaEditorI18n.EDITOR_NAME_GENERATED_FORMULA));this.m_generatedFormulaCodeEditor.renderView(this.getGenesis());this.m_generatedFormulaCodeEditor.setEditable(false);this.m_generatedFormulaCodeEditor.addOnChangeConsumer(t=>{e.XTimeout.timeout(0,()=>{this._updateGeneratedFormulaBtn()})});this.m_generatedFormulaLayout.addItem(this.m_generatedFormulaCodeEditor.getView());this.m_errorStrip=t.addNewItemOfType(e.UiType.MESSAGE_STRIP);this.m_errorStrip.setMessageType(e.UiMessageType.ERROR);this.m_errorStrip.setVisible(false);this.m_warningStrip=t.addNewItemOfType(e.UiType.MESSAGE_STRIP);this.m_warningStrip.addCssClass("ffOuCalcAIWarningStrip");this.m_warningStrip.setMessageType(e.UiMessageType.WARNING);this.m_warningStrip.setVisible(false);t.addItem(this.m_explanationView.renderView(this.getGenesis()));this.m_generatedFormulaLayout.setVisible(false);this.m_disclaimer.renderView(this.getGenesis());t.addItem(this.m_disclaimer.getView());this.m_disclaimer.setVisible(false);this._updateUI(false)};e.OuCalcAIGenerateView.prototype.setCustomMode=function(e){this.m_generatedFormulaCodeEditor.setCustomMode(e)};e.OuCalcAIGenerateView.prototype.setupView=function(){};e.OuCalcAIView=function(){};e.OuCalcAIView.prototype=new e.DfUiView;e.OuCalcAIView.prototype._ff_c="OuCalcAIView";e.OuCalcAIView.EXPLAIN_PANEL_NAME="explain";e.OuCalcAIView.GENERATE_PANEL_NAME="generate";e.OuCalcAIView.create=function(t,i,n,o){let r=new e.OuCalcAIView;if(e.FeFeatureToggle.isActive(e.FeFeatureToggle.GEN_AI_PHASE1)){r.m_explainView=e.OuCalcAIExplainView.create(t,i,n,o);r.m_generateView=e.OuCalcAIGenerateView.create(t,i,n,o)}return r};e.OuCalcAIView.prototype.m_explainView=null;e.OuCalcAIView.prototype.m_generateView=null;e.OuCalcAIView.prototype.m_panelTypeSegmentedButton=null;e.OuCalcAIView.prototype._updateUI=function(){if(e.isNull(this.m_panelTypeSegmentedButton)){return}let t=this.isGeneratePanelSelected();this.m_explainView.getView().setVisible(!t);this.m_generateView.getView().setVisible(t)};e.OuCalcAIView.prototype.addOnAddFormulaConsumers=function(t){if(e.FeFeatureToggle.isActive(e.FeFeatureToggle.GEN_AI_PHASE1)){return this.m_generateView.addOnAddFormulaConsumers(t)}return null};e.OuCalcAIView.prototype.addOnExplainFormulaConsumers=function(t){if(e.FeFeatureToggle.isActive(e.FeFeatureToggle.GEN_AI_PHASE1)){return this.m_explainView.addOnExplainFormulaConsumers(t)}return null};e.OuCalcAIView.prototype.destroyView=function(){this.m_panelTypeSegmentedButton=null;this.m_explainView=e.XObjectExt.release(this.m_explainView);this.m_generateView=e.XObjectExt.release(this.m_generateView)};e.OuCalcAIView.prototype.getLocalization=function(){return e.XLocalizationCenter.getCenter()};e.OuCalcAIView.prototype.getViewControl=function(t){return t.newControl(e.UiType.FLEX_LAYOUT)};e.OuCalcAIView.prototype.isGeneratePanelSelected=function(){return e.XString.isEqual(this.m_panelTypeSegmentedButton.getSelectedName(),e.OuCalcAIView.GENERATE_PANEL_NAME)};e.OuCalcAIView.prototype.layoutView=function(t){t.setDirection(e.UiFlexDirection.COLUMN);t.addCssClass("ffOuCalcAIView");if(e.FeFeatureToggle.isActive(e.FeFeatureToggle.GEN_AI_PHASE1)){this.m_panelTypeSegmentedButton=t.addNewItemOfType(e.UiType.SEGMENTED_BUTTON);this.m_panelTypeSegmentedButton.addCssClass("ffOuCalcAIPanelType");let i=this.m_panelTypeSegmentedButton.addNewItem();i.setName(e.OuCalcAIView.GENERATE_PANEL_NAME);i.setText(this.getLocalization().getText(e.OuCalcFormulaEditorI18n.FORMULA_GENERATE_TEXT));let n=this.m_panelTypeSegmentedButton.addNewItem();n.setText(this.getLocalization().getText(e.OuCalcFormulaEditorI18n.FORMULA_EXPLAIN_TEXT));n.setName(e.OuCalcAIView.EXPLAIN_PANEL_NAME);this.m_explainView.renderView(this.getGenesis());t.addItem(this.m_explainView.getView());this.m_generateView.renderView(this.getGenesis());t.addItem(this.m_generateView.getView());this._updateUI();this.m_panelTypeSegmentedButton.registerOnSelectionChange(e.UiLambdaSelectionChangeListener.create(e=>{this._updateUI()}))}else{let i=t.addNewItemOfType(e.UiType.TEXT);i.addCssClass("ffOuCalcAINoServiceText");i.setText("No AI services available")}};e.OuCalcAIView.prototype.performExplain=function(t){this.setSelectedPanelByName(e.OuCalcAIView.EXPLAIN_PANEL_NAME);this.m_explainView.setFormulaText(t,true)};e.OuCalcAIView.prototype.setCustomMode=function(e){this.m_explainView.setCustomMode(e);this.m_generateView.setCustomMode(e)};e.OuCalcAIView.prototype.setExplainText=function(e){this.m_explainView.setFormulaText(e,false)};e.OuCalcAIView.prototype.setSelectedPanelByName=function(e){this.m_panelTypeSegmentedButton.setSelectedName(e);this._updateUI()};e.OuCalcAIView.prototype.setupView=function(){};e.OuCalcErrorsViewV2=function(){};e.OuCalcErrorsViewV2.prototype=new e.DfUiView;e.OuCalcErrorsViewV2.prototype._ff_c="OuCalcErrorsViewV2";e.OuCalcErrorsViewV2.EMPTY_STRING="";e.OuCalcErrorsViewV2.create=function(){let t=new e.OuCalcErrorsViewV2;t.m_onCloseConsumers=e.XConsumerCollection.create();return t};e.OuCalcErrorsViewV2.prototype.m_errors=null;e.OuCalcErrorsViewV2.prototype.m_messageView=null;e.OuCalcErrorsViewV2.prototype.m_onCloseConsumers=null;e.OuCalcErrorsViewV2.prototype.m_title=null;e.OuCalcErrorsViewV2.prototype.addRegisterOnCloseConsumer=function(e){return this.m_onCloseConsumers.addConsumer(e)};e.OuCalcErrorsViewV2.prototype.announceUpdate=function(){e.UiFramework.currentFramework().announce(this.getLocalization().getText(e.OuCalcFormulaEditorI18n.ASSISTANCE_ERRORS_ANNOUNCE_UPDATE),e.UiAriaLiveMode.ASSERTIVE)};e.OuCalcErrorsViewV2.prototype.destroyView=function(){this.m_messageView=null;this.m_onCloseConsumers.clear();this.m_onCloseConsumers=e.XObjectExt.release(this.m_onCloseConsumers)};e.OuCalcErrorsViewV2.prototype.generateErrorList=function(t){this.m_messageView.setVisible(true);for(let i=0;i<t.getErrors().size();i++){let n=t.getErrors().get(i).getText();let o=this.m_messageView.addNewItem();o.setTitle(n);o.setMessageType(e.UiMessageType.ERROR)}};e.OuCalcErrorsViewV2.prototype.generateErrors=function(e){this.m_messageView.clearItems();this.generateErrorList(this.m_errors);this.m_title.setText(this.getTitle());this.m_messageView.back();if(e){this.announceUpdate()}};e.OuCalcErrorsViewV2.prototype.getLocalization=function(){return e.XLocalizationCenter.getCenter()};e.OuCalcErrorsViewV2.prototype.getTitle=function(){let t=this.m_messageView.getNumberOfItems();if(t===0){return e.OuCalcErrorsViewV2.EMPTY_STRING}else if(t===1){return this.getLocalization().getText(e.OuCalcFormulaEditorI18n.ERRORS_TITLE_SINGLE)}else{return this.getLocalization().getTextWithPlaceholder(e.OuCalcFormulaEditorI18n.ERRORS_TITLE_MULTIPLE,e.XInteger.convertToString(t))}};e.OuCalcErrorsViewV2.prototype.getViewControl=function(t){let i=t.newControl(e.UiType.FLEX_LAYOUT);i.addCssClass("ffOuCalcErrorsView");i.setDirection(e.UiFlexDirection.COLUMN);return i};e.OuCalcErrorsViewV2.prototype.hasChanged=function(t){let i=e.isNull(this.m_errors)||!this.m_errors.hasErrors();let n=e.isNull(t)||!t.hasErrors();return i!==n};e.OuCalcErrorsViewV2.prototype.layoutView=function(t){let i=t.addNewItemOfType(e.UiType.TOOLBAR);i.addCssClass("ffOuCalcErrorsViewToolbar");this.m_title=i.addNewItemOfType(e.UiType.TITLE);this.m_title.setTitleLevel(e.UiTitleLevel.H_4);this.m_title.setTitleStyle(e.UiTitleLevel.H_4);this.m_title.addCssClass("ffOuCalcTitle");i.addNewItemOfType(e.UiType.SPACER);let n=i.addNewItemOfType(e.UiType.BUTTON);n.setIcon("decline");n.setTooltip(this.getLocalization().getText(e.OuCalcFormulaEditorI18n.EDITOR_HIDE_ERRORS_BTN));n.setButtonType(e.UiButtonType.TRANSPARENT);n.registerOnPress(e.UiLambdaPressListener.create(t=>{this.m_onCloseConsumers.accept(e.XBooleanValue.create(true))}));this.m_messageView=t.addNewItemOfType(e.UiType.MESSAGE_VIEW);this.m_messageView.addCssClass("ffOuCalcAssistanceErrorList")};e.OuCalcErrorsViewV2.prototype.setErrors=function(e){let t=this.hasChanged(e);this.m_errors=e;this.generateErrors(t)};e.OuCalcErrorsViewV2.prototype.setVisible=function(e){this.getView().setVisible(e)};e.OuCalcErrorsViewV2.prototype.setupView=function(){};e.OrcaLinkVarValueHelpIntersect=function(){};e.OrcaLinkVarValueHelpIntersect.prototype=new e.OrcaLinkVarValueHelpAbstract;e.OrcaLinkVarValueHelpIntersect.prototype._ff_c="OrcaLinkVarValueHelpIntersect";e.OrcaLinkVarValueHelpIntersect.createLink=function(t,i){let n=new e.OrcaLinkVarValueHelpIntersect;n.setupLink(t,i);return n};e.OrcaLinkVarValueHelpIntersect.prototype.compare=function(e,t){return e.size()-t.size()};e.OrcaLinkVarValueHelpIntersect.prototype.createMap=function(t){let i=e.XHashMapByString.create();let n=t.size();for(let e=0;e<n;e++){let n=t.get(e);let o=this.getMergeKeyValue(n);i.put(o,n)}return i};e.OrcaLinkVarValueHelpIntersect.prototype.getRequestedFields=function(t){return e.XCollectionUtils.singletonList(t.getDisplayKeyField())};e.OrcaLinkVarValueHelpIntersect.prototype.joinNodes=function(t,i,n){let o=e.XCollectionUtils.createListCopy(t);i.sortByComparator(this);let r=e.XList.create();for(let a=t.size()-1;a>=0;a--){let s=t.get(a);let l=this.getMergeKeyValue(s);for(let t=0;t<i.size();t++){if(t>=r.size()){r.add(this.createMap(i.get(t)))}let u=r.get(t).getByKey(l);if(e.isNull(u)){o.removeAt(a);this.removeNodeFromTree(s);if(!n){this.m_nodeRepo.remove(l)}break}this.getRepoMapping(l).add(u)}}return o};e.OrcaLinkVarValueHelpIntersect.prototype.processFetchItems=function(t,i,n,o){e.OrcaLinkVarValueHelpAbstract.prototype.processFetchItems.call(this,t,i,n,o)};e.OrcaLinkVarValueHelpIntersect.prototype.removeNodeFromTree=function(t){if(t.hasChildren()){let e=t.getChildren();for(let t=0;t<e.size();t++){e.get(0).setParentNode(null)}}let i=t.getParentNode();if(e.notNull(i)){i.removeChildNode(t)}};e.OrcaLinkVarValueHelpIntersect.prototype.requestDefaultKeyAndTextFields=function(e){return e===this.m_valueRequestObject.getDimension()};e.OrcaLinkVarValueHelpUnion=function(){};e.OrcaLinkVarValueHelpUnion.prototype=new e.OrcaLinkVarValueHelpAbstract;e.OrcaLinkVarValueHelpUnion.prototype._ff_c="OrcaLinkVarValueHelpUnion";e.OrcaLinkVarValueHelpUnion.createLink=function(t,i){let n=new e.OrcaLinkVarValueHelpUnion;n.setupLink(t,i);return n};e.OrcaLinkVarValueHelpUnion.prototype.getRequestedFields=function(e){return null};e.OrcaLinkVarValueHelpUnion.prototype.joinNodes=function(e,t,i){if(i){return this.unionSearch(e,t)}return this.union(e,t)};e.OrcaLinkVarValueHelpUnion.prototype.union=function(t,i){let n=e.XLinkedHashMapByString.create();for(let e=0;e<t.size();e++){let i=t.get(e);n.put(this.getMergeKeyValue(i),i)}for(let e=0;e<i.size();e++){let t=i.get(e);let o=t.size();for(let e=0;e<o;e++){let i=t.get(e);let o=this.getMergeKeyValue(i);if(!n.containsKey(o)){n.put(o,i);this.getRepoMapping(o).add(i)}}}let o=n.getValuesAsReadOnlyList();o.sortByComparator(e.OlapUiValueHelpNodeComparator.create(this.isHierarchicalValueHelp()));return o};e.OrcaLinkVarValueHelpUnion.prototype.unionSearch=function(t,i){let n=e.XLinkedHashMapByString.create();let o=t.size();for(let e=0;e<i.size();e++){let e=i.size();if(e>o){o=e}}for(let e=0;e<o;e++){if(e<t.size()){let i=t.get(e);n.put(this.getMergeKeyValue(i),i);continue}for(let t=0;t<i.size();t++){let o=i.get(t);if(e<o.size()){let t=o.get(e);let i=this.getMergeKeyValue(t);n.put(i,t);this.getRepoMapping(i).add(t)}}}return n.getValuesAsReadOnlyList()};e.DataExportHelperI18n=function(){};e.DataExportHelperI18n.prototype=new e.DfXLocalizationProvider;e.DataExportHelperI18n.prototype._ff_c="DataExportHelperI18n";e.DataExportHelperI18n.APPENDIX_CREATED_BY_TITLE="FF_DATA_EXPORT_APPENDIX_CREATED_BY_TITLE";e.DataExportHelperI18n.APPENDIX_CREATED_ON_TITLE="FF_DATA_EXPORT_APPENDIX_CREATED_ON_TITLE";e.DataExportHelperI18n.APPENDIX_FILTERS_TITLE="FF_DATA_EXPORT_APPENDIX_FILTERS_TITLE";e.DataExportHelperI18n.APPENDIX_FILTER_OPERATOR_TITLE="FF_DATA_EXPORT_APPENDIX_FILTER_OPERATOR_TITLE";e.DataExportHelperI18n.APPENDIX_FILTER_VALUE_TITLE="FF_DATA_EXPORT_APPENDIX_FILTER_VALUE_TITLE";e.DataExportHelperI18n.APPENDIX_INFO_PROVIDER_TITLE="FF_DATA_EXPORT_APPENDIX_INFO_PROVIDER_TITLE";e.DataExportHelperI18n.APPENDIX_MEASURE_FILTERS_TITLE="FF_DATA_EXPORT_APPENDIX_MEASURE_FILTERS_TITLE";e.DataExportHelperI18n.APPENDIX_MODEL_TITLE="FF_DATA_EXPORT_APPENDIX_MODEL_TITLE";e.DataExportHelperI18n.APPENDIX_QUERY_TITLE="FF_DATA_EXPORT_APPENDIX_QUERY_TITLE";e.DataExportHelperI18n.APPENDIX_SHORTCUT_LINK_TITLE="FF_DATA_EXPORT_APPENDIX_SHORTCUT_LINK_TITLE";e.DataExportHelperI18n.APPENDIX_TECHNICAL_TITLE="FF_DATA_EXPORT_APPENDIX_TECHNICAL_TITLE";e.DataExportHelperI18n.APPENDIX_TENANT_TITLE="FF_DATA_EXPORT_APPENDIX_TENANT_TITLE";e.DataExportHelperI18n.APPENDIX_TITLE="FF_DATA_EXPORT_APPENDIX_TITLE";e.DataExportHelperI18n.APPENDIX_VARIABLES_TITLE="FF_DATA_EXPORT_APPENDIX_VARIABLES_TITLE";e.DataExportHelperI18n.DEFAULT_EXPORT_FILE_NAME="FF_DATA_EXPORT_DEFAULT_FILE_NAME";e.DataExportHelperI18n.GENERIC_EXPORT_FAILURE="FF_DATA_EXPORT_GENERIC_FAILURE";e.DataExportHelperI18n.ID_PREFIX="FF_DATA_EXPORT_ID_PREFIX";e.DataExportHelperI18n.MAX_RESULT_RECORDS_LIMIT_REACHED="FF_DATA_EXPORT_MAX_RESULT_RECORDS_LIMIT_REACHED";e.DataExportHelperI18n.PROVIDER_NAME="DataExportHelper";e.DataExportHelperI18n.UKNOWN_EXPORT_CONFIG="FF_DATA_EXPORT_UKNOWN_EXPORT_CONFIG";e.DataExportHelperI18n.staticSetup=function(){let t=new e.DataExportHelperI18n;t.setupProvider(e.DataExportHelperI18n.PROVIDER_NAME,true);t.addText(e.DataExportHelperI18n.DEFAULT_EXPORT_FILE_NAME,"Untitled");t.addComment(e.DataExportHelperI18n.DEFAULT_EXPORT_FILE_NAME,"#XMSG: Untitled, The default file name of an export if the user has not specifed one.");t.addText(e.DataExportHelperI18n.ID_PREFIX,"DATA_EXPORT_TASK");t.addComment(e.DataExportHelperI18n.ID_PREFIX,"#XMSG: Name of the task for exporting data.");t.addText(e.DataExportHelperI18n.APPENDIX_TITLE,"Information On Query");t.addComment(e.DataExportHelperI18n.APPENDIX_TITLE,"#XTIT: Appendix title");t.addText(e.DataExportHelperI18n.APPENDIX_TECHNICAL_TITLE,"Technical Information");t.addComment(e.DataExportHelperI18n.APPENDIX_TECHNICAL_TITLE,"#XTIT: Technical Information title");t.addText(e.DataExportHelperI18n.APPENDIX_TENANT_TITLE,"Tenant");t.addComment(e.DataExportHelperI18n.APPENDIX_TENANT_TITLE,"#XTIT: Tenant url title");t.addText(e.DataExportHelperI18n.APPENDIX_QUERY_TITLE,"Query Name");t.addComment(e.DataExportHelperI18n.APPENDIX_QUERY_TITLE,"#XTIT: Query Name title");t.addText(e.DataExportHelperI18n.APPENDIX_INFO_PROVIDER_TITLE,"Information Provider");t.addComment(e.DataExportHelperI18n.APPENDIX_INFO_PROVIDER_TITLE,"#XTIT: Information Provider title");t.addText(e.DataExportHelperI18n.APPENDIX_MODEL_TITLE,"Model");t.addComment(e.DataExportHelperI18n.APPENDIX_MODEL_TITLE,"#XTIT: Model title");t.addText(e.DataExportHelperI18n.APPENDIX_CREATED_BY_TITLE,"Created By");t.addComment(e.DataExportHelperI18n.APPENDIX_CREATED_BY_TITLE,"#XTIT: Created by title");t.addText(e.DataExportHelperI18n.APPENDIX_CREATED_ON_TITLE,"Created On");t.addComment(e.DataExportHelperI18n.APPENDIX_CREATED_ON_TITLE,"#XTIT: Created on title");t.addText(e.DataExportHelperI18n.APPENDIX_VARIABLES_TITLE,"Variables");t.addComment(e.DataExportHelperI18n.APPENDIX_VARIABLES_TITLE,"#XTIT: Variables title");t.addText(e.DataExportHelperI18n.APPENDIX_FILTERS_TITLE,"Filters");t.addComment(e.DataExportHelperI18n.APPENDIX_FILTERS_TITLE,"#XTIT: Filters title");t.addText(e.DataExportHelperI18n.APPENDIX_MEASURE_FILTERS_TITLE,"Measure Filters");t.addComment(e.DataExportHelperI18n.APPENDIX_MEASURE_FILTERS_TITLE,"#XTIT: Measure filters title");t.addText(e.DataExportHelperI18n.APPENDIX_FILTER_OPERATOR_TITLE,"Operator");t.addComment(e.DataExportHelperI18n.APPENDIX_FILTER_OPERATOR_TITLE,"#XTIT: Filter operator title");t.addText(e.DataExportHelperI18n.APPENDIX_FILTER_VALUE_TITLE,"Value");t.addComment(e.DataExportHelperI18n.APPENDIX_FILTER_VALUE_TITLE,"#XTIT: Filter value title");t.addText(e.DataExportHelperI18n.APPENDIX_SHORTCUT_LINK_TITLE,"Shortcut Link");t.addComment(e.DataExportHelperI18n.APPENDIX_SHORTCUT_LINK_TITLE,"#XTIT: Shortcut Link title");t.addText(e.DataExportHelperI18n.GENERIC_EXPORT_FAILURE,"The export failed for an unknown reason. Please contact an administrator.");t.addComment(e.DataExportHelperI18n.GENERIC_EXPORT_FAILURE,"#XMSG: Message to handle empty failure reason from the export library.");t.addText(e.DataExportHelperI18n.UKNOWN_EXPORT_CONFIG,"The export configuration was incorrect, leading to an export error. Please contact an administrator.");t.addComment(e.DataExportHelperI18n.UKNOWN_EXPORT_CONFIG,"#XMSG: Message for a runtime error that corrupted the export configuration.");t.addText(e.DataExportHelperI18n.MAX_RESULT_RECORDS_LIMIT_REACHED,"The export failed. The query process was stopped as it returned too many records. Please try filtering your data.");t.addComment(e.DataExportHelperI18n.MAX_RESULT_RECORDS_LIMIT_REACHED,"#XMSG: Error message shown when export fails due to the max number of records limit being reached");t.addText(e.ExportResult.FF_DATA_EXPORT_INSUFFICIENT_WIDTH_WARNING,"The exported content does not fit on the chosen page size and orientation. Please choose a wider page size.");t.addComment(e.ExportResult.FF_DATA_EXPORT_INSUFFICIENT_WIDTH_WARNING,"#XMSG: Warning for insufficient width of page during export.");t.addText(e.ExportResult.FF_DATA_EXPORT_INSUFFICIENT_HEIGHT_WARNING,"The exported content does not fit on the chosen page size and orientation. Please choose a longer page size.");t.addComment(e.ExportResult.FF_DATA_EXPORT_INSUFFICIENT_HEIGHT_WARNING,"#XMSG: Warning for insufficient height of page during export.");t.addText(e.ExportResult.FF_DATA_EXPORT_MAIN_TABLE_TEMPLATE,"Table export: {0}");t.addComment(e.ExportResult.FF_DATA_EXPORT_MAIN_TABLE_TEMPLATE,"#XMSG: Template string for warnings/errors generated from the main data table.");t.addText(e.ExportResult.FF_DATA_EXPORT_APPENDIX_TABLE_TEMPLATE,"Appendix export: {0}");t.addComment(e.ExportResult.FF_DATA_EXPORT_APPENDIX_TABLE_TEMPLATE,"#XMSG: Template string for warnings/errors generated from the appendix table.");return t};e.OuDataSourceListView=function(){};e.OuDataSourceListView.prototype=new e.DfUiView;e.OuDataSourceListView.prototype._ff_c="OuDataSourceListView";e.OuDataSourceListView.PAGE_SIZE=30;e.OuDataSourceListView.create=function(t,i){let n=new e.OuDataSourceListView;n.m_process=t;n.m_systemName=i;return n};e.OuDataSourceListView.prototype.m_currentCatalogManager=null;e.OuDataSourceListView.prototype.m_currentData=null;e.OuDataSourceListView.prototype.m_currentPage=0;e.OuDataSourceListView.prototype.m_dataSourceSelectedConsumer=null;e.OuDataSourceListView.prototype.m_left=null;e.OuDataSourceListView.prototype.m_liveDebounceListener=null;e.OuDataSourceListView.prototype.m_process=null;e.OuDataSourceListView.prototype.m_querySearch=null;e.OuDataSourceListView.prototype.m_queryTbl=null;e.OuDataSourceListView.prototype.m_right=null;e.OuDataSourceListView.prototype.m_systemName=null;e.OuDataSourceListView.prototype.m_systemNamesList=null;e.OuDataSourceListView.prototype.m_systemsDropdown=null;e.OuDataSourceListView.prototype._displayError=function(t){this.getView().clearItems();let i=this.getView().addNewItemOfType(e.UiType.ILLUSTRATED_MESSAGE);i.setIllustrationType(e.UiIllustratedMessageType.CONNECTION);i.setIllustrationSize(e.UiIllustratedMessageSize.AUTO);let n=this.getView().addNewItemOfType(e.UiType.MESSAGE_STRIP);n.setMessageType(e.UiMessageType.ERROR);n.setShowCloseButton(false);n.setShowIcon(true);n.setIcon("message-error");n.setText(e.XStringUtils.isNotNullAndNotEmpty(t)?t:"Error")};e.OuDataSourceListView.prototype._getDataSources=function(){let t=this.m_process.getSystemLandscape();let i=t.getSystemDescription(this.m_systemName);if(e.isNull(i)){this._displayError(e.XStringUtils.concatenate2("Could not find system; ",this.m_systemName));return}let n=this.m_process.getApplication();let o=e.OlapCatalogApiModule.SERVICE_TYPE_OLAP_CATALOG.createServiceConfig(n);o.setSystemName(this.m_systemName);this.getView().setBusy(true);o.processOlapCatalogManagerCreation(e.SyncType.NON_BLOCKING,e.OlapLambdaCatalogManagerCreatedListener.create((t,n)=>{this.getView().setBusy(false);if(t.hasErrors()){this._displayError(t.getSummary());return}this.m_currentCatalogManager=t.getData();this.m_currentCatalogManager.setResultMaxSize(e.OuDataSourceListView.PAGE_SIZE+1);if(i.getSystemType()===e.SystemType.HANA||i.getSystemType()===e.SystemType.DWC){this.m_currentCatalogManager.addSelectedType(e.MetaObjectType.DBVIEW);this.m_currentCatalogManager.addSelectedType(e.MetaObjectType.PLANNING);this.m_currentCatalogManager.addSelectedType(e.MetaObjectType.INA_MODEL)}this._processFetch();this.m_querySearch.setEnabled(true)}),null)};e.OuDataSourceListView.prototype._handleDataSourcePicked=function(t){if(e.notNull(this.m_dataSourceSelectedConsumer)&&e.notNull(t)){let i=e.QFactory.createDataSource();i.setSystemName(this.m_systemName);i.setType(t.getType());i.setEnvironmentName(t.getEnvironmentName());i.setSchemaName(t.getSchemaName());i.setPackageName(t.getPackageName());i.setObjectName(t.getObjectName());this.m_dataSourceSelectedConsumer(i)}};e.OuDataSourceListView.prototype._handleSearch=function(t){this.m_currentPage=0;this._processFetch();if(e.notNull(this.m_liveDebounceListener)){this.m_liveDebounceListener.cancel()}};e.OuDataSourceListView.prototype._handleSystemSelection=function(t){let i=t.getSelectedItem().getTag();if(e.XStringUtils.isNotNullAndNotEmpty(i)){this.m_systemName=i;this._getDataSources()}};e.OuDataSourceListView.prototype._processFetch=function(){this.getView().setBusy(true);this.m_currentCatalogManager.setSearchFilter(null);if(e.XStringUtils.isNotNullAndNotEmpty(this.m_querySearch.getValue())){let t=e.XStringUtils.concatenate3("*",this.m_querySearch.getValue(),"*");this.m_currentCatalogManager.setSearchFilter(t);this.m_currentCatalogManager.setSearchOnName(true)}this.m_currentCatalogManager.setResultOffset(this.m_currentPage*e.OuDataSourceListView.PAGE_SIZE);this.m_currentCatalogManager.processGetResult(e.SyncType.NON_BLOCKING,e.OlapLambdaCatalogResultListener.create((e,t)=>{this.getView().setBusy(false);if(e.hasErrors()){this._displayError(e.getSummary());return}this.m_currentData=e.getData().getObjectsList();this._updateTable()}),null)};e.OuDataSourceListView.prototype._updatePageButtons=function(){this.m_left.setEnabled(this.m_currentPage>0);this.m_right.setEnabled(this.m_currentData.size()>e.OuDataSourceListView.PAGE_SIZE)};e.OuDataSourceListView.prototype._updateTable=function(){this.m_queryTbl.clearResponsiveTableRows();for(let t=0;t<this.m_currentData.size();t++){if(t>=e.OuDataSourceListView.PAGE_SIZE){break}let i=this.m_currentData.get(t);let n=this.m_queryTbl.addNewResponsiveTableRow();n.addNewResponsiveTableCell().setText(i.getName());n.addNewResponsiveTableCell().setText(i.getText());n.setCustomObject(i)}this._updatePageButtons()};e.OuDataSourceListView.prototype.destroyView=function(){this.m_dataSourceSelectedConsumer=null;if(e.notNull(this.m_liveDebounceListener)){this.m_liveDebounceListener.cancel();this.m_liveDebounceListener=null}this.m_currentData=null;this.m_currentCatalogManager=e.XObjectExt.release(this.m_currentCatalogManager);this.m_left=e.XObjectExt.release(this.m_left);this.m_right=e.XObjectExt.release(this.m_right);this.m_queryTbl=e.XObjectExt.release(this.m_queryTbl);this.m_systemsDropdown=e.XObjectExt.release(this.m_systemsDropdown);this.m_querySearch=e.XObjectExt.release(this.m_querySearch);this.m_systemNamesList=null;this.m_process=null};e.OuDataSourceListView.prototype.getViewControl=function(t){return t.newControl(e.UiType.FLEX_LAYOUT)};e.OuDataSourceListView.prototype.layoutView=function(t){t.setDirection(e.UiFlexDirection.COLUMN);t.setJustifyContent(e.UiFlexJustifyContent.CENTER);t.setAlignItems(e.UiFlexAlignItems.CENTER);if(e.XStringUtils.isNullOrEmpty(this.m_systemName)){this._displayError("Missing system name! Please specify a system name.");return}let i=t.addNewItemOfType(e.UiType.SCROLL_CONTAINER);i.setFlex("auto");this.m_queryTbl=i.setNewContent(e.UiType.RESPONSIVE_TABLE);this.m_queryTbl.setSelectionMode(e.UiSelectionMode.SINGLE_SELECT_MASTER);this.m_queryTbl.addNewResponsiveTableColumn().setNewHeader(e.UiType.TITLE).setText("Name");this.m_queryTbl.addNewResponsiveTableColumn().setNewHeader(e.UiType.TITLE).setText("Description");this.m_queryTbl.registerOnSelect(e.UiLambdaSelectListener.create(e=>{let t=e.getSelectedItem().getCustomObject();this._handleDataSourcePicked(t)}));let n=this.m_queryTbl.setNewHeaderToolbar();n.useMaxWidth();this.m_querySearch=n.addNewItemOfType(e.UiType.SEARCH_FIELD);this.m_querySearch.registerOnSearch(e.UiLambdaSearchListener.create(this._handleSearch.bind(this)));this.m_liveDebounceListener=e.UiLambdaLiveChangeWithDebounceListener.create(this._handleSearch.bind(this),1e3);this.m_querySearch.registerOnLiveChange(this.m_liveDebounceListener);if(e.XCollectionUtils.hasElements(this.m_systemNamesList)&&this.m_systemNamesList.size()>1){n.addNewItemOfType(e.UiType.SPACER);this.m_systemsDropdown=n.addNewItemOfType(e.UiType.DROPDOWN);this.m_systemsDropdown.registerOnSelect(e.UiLambdaSelectListener.create(this._handleSystemSelection.bind(this)));e.XCollectionUtils.forEach(this.m_systemNamesList,e=>{let t=this.m_systemsDropdown.addNewItem();t.setText(e);t.setName(e);t.setTag(e)});this.m_systemsDropdown.setSelectedName(this.m_systemName)}let o=t.addNewItemOfType(e.UiType.FLEX_LAYOUT);o.setJustifyContent(e.UiFlexJustifyContent.CENTER);this.m_left=o.addNewItemOfType(e.UiType.BUTTON);this.m_left.setIcon("navigation-left-arrow");this.m_left.setPadding(e.UiCssBoxEdges.create("4px"));this.m_left.registerOnPress(e.UiLambdaPressListener.create(e=>{this.m_currentPage=this.m_currentPage-1;this._processFetch()}));this.m_right=o.addNewItemOfType(e.UiType.BUTTON);this.m_right.setIcon("navigation-right-arrow");this.m_right.setPadding(e.UiCssBoxEdges.create("4px"));this.m_right.registerOnPress(e.UiLambdaPressListener.create(e=>{this.m_currentPage=this.m_currentPage+1;this._processFetch()}));this._getDataSources()};e.OuDataSourceListView.prototype.setDataSourceSelectedConsumer=function(e){this.m_dataSourceSelectedConsumer=e};e.OuDataSourceListView.prototype.setSystemNames=function(e){this.m_systemNamesList=e};e.OuDataSourceListView.prototype.setupView=function(){if(e.isNull(this.m_process)){throw e.XException.createRuntimeException("Missing process! A process is required for the data source list view!")}};e.OuAxesViewI18n=function(){};e.OuAxesViewI18n.prototype=new e.DfXLocalizationProvider;e.OuAxesViewI18n.prototype._ff_c="OuAxesViewI18n";e.OuAxesViewI18n.BUILDER_ADD_ACCOUNT_INFO="FF_GDS_QB_BUILDER_ADD_ACCOUNT_INFO";e.OuAxesViewI18n.BUILDER_ADD_ACCOUNT_OPTIONAL="FF_GDS_QB_BUILDER_ADD_ACCOUNT_OPTIONAL";e.OuAxesViewI18n.BUILDER_ADD_DIMENSION_OPTIONAL="FF_GDS_QB_BUILDER_ADD_DIMENSION_OPTIONAL";e.OuAxesViewI18n.BUILDER_ADD_MEASURE_INFO="FF_GDS_QB_BUILDER_ADD_MEASURE_INFO";e.OuAxesViewI18n.BUILDER_ADD_MEASURE_OPTIONAL="FF_GDS_QB_BUILDER_ADD_MEASURE_OPTIONAL";e.OuAxesViewI18n.BUILDER_BARCOLUMN_OPTION="FF_GDS_QB_BUILDER_BARCOLUMN_OPTION";e.OuAxesViewI18n.BUILDER_BAR_OPTION="FF_GDS_QB_BUILDER_BAR_OPTION";e.OuAxesViewI18n.BUILDER_CHART_AXIS_X="FF_GDS_QB_BUILDER_CHART_AXIS_X";e.OuAxesViewI18n.BUILDER_CHART_AXIS_Y="FF_GDS_QB_BUILDER_CHART_AXIS_Y";e.OuAxesViewI18n.BUILDER_CHART_COLOR="FF_GDS_QB_BUILDER_CHART_COLOR";e.OuAxesViewI18n.BUILDER_CHART_COLUMN="FF_GDS_QB_BUILDER_CHART_COLUMN";e.OuAxesViewI18n.BUILDER_CHART_DIMENSIONS="FF_GDS_QB_BUILDER_CHART_DIMENSIONS";e.OuAxesViewI18n.BUILDER_CHART_LINE="FF_GDS_QB_BUILDER_CHART_LINE";e.OuAxesViewI18n.BUILDER_CHART_LINE_YLEFT="FF_GDS_QB_BUILDER_CHART_LINE_YLEFT";e.OuAxesViewI18n.BUILDER_CHART_LINE_YRIGHT="FF_GDS_QB_BUILDER_CHART_LINE_YRIGHT";e.OuAxesViewI18n.BUILDER_CHART_ORIENTATION="FF_GDS_QB_BUILDER_CHART_ORIENTATION";e.OuAxesViewI18n.BUILDER_CHART_ORIENTATION_HORIZONTAL="FF_GDS_QB_BUILDER_CHART_ORIENTATION_HORIZONTAL";e.OuAxesViewI18n.BUILDER_CHART_ORIENTATION_VERTICAL="FF_GDS_QB_BUILDER_CHART_ORIENTATION_VERTICAL";e.OuAxesViewI18n.BUILDER_CHART_VALUE_SELECTION="FF_GDS_QB_BUILDER_CHART_VALUE_SELECTION";e.OuAxesViewI18n.BUILDER_COLUMN_LINE_OPTION="FF_GDS_QB_BUILDER_COLUMN_LINE_OPTION";e.OuAxesViewI18n.BUILDER_COLUMN_OPTION="FF_GDS_QB_BUILDER_COLUMN_OPTION";e.OuAxesViewI18n.BUILDER_DISPLAY_TYPE="FF_GDS_QB_BUILDER_DISPLAY_TYPE";e.OuAxesViewI18n.BUILDER_DONUT_OPTION="FF_GDS_QB_BUILDER_DONUT_OPTION";e.OuAxesViewI18n.BUILDER_FILTER_DIALOG_TITLE="FF_GDS_QB_BUILDER_FILTER_DIALOG_TITLE";e.OuAxesViewI18n.BUILDER_GRID_OPTION="FF_GDS_QB_BUILDER_GRID_OPTION";e.OuAxesViewI18n.BUILDER_LINE_OPTION="FF_GDS_QB_BUILDER_LINE_OPTION";e.OuAxesViewI18n.BUILDER_METRIC_OPTION="FF_GDS_QB_BUILDER_METRIC_OPTION";e.OuAxesViewI18n.BUILDER_OVERLAP_Y_AXIS="FF_GDS_QB_BUILDER_OVERLAP_Y_AXIS";e.OuAxesViewI18n.BUILDER_PIE_OPTION="FF_GDS_QB_BUILDER_PIE_OPTION";e.OuAxesViewI18n.BUILDER_REMOVE="FF_GDS_QB_BUILDER_REMOVE";e.OuAxesViewI18n.BUILDER_SHOW_AS_100_PERCENT="FF_GDS_QB_BUILDER_SHOW_AS_100_PERCENT";e.OuAxesViewI18n.BUILDER_STACKED_AREA_OPTION="FF_GDS_QB_BUILDER_STACKED_AREA_OPTION";e.OuAxesViewI18n.BUILDER_STACKED_BAR_OPTION="FF_GDS_QB_BUILDER_STACKED_BAR_OPTION";e.OuAxesViewI18n.BUILDER_STACKED_COLUMN_LINE_OPTION="FF_GDS_QB_BUILDER_STACKED_COLUMN_LINE_OPTION";e.OuAxesViewI18n.BUILDER_STACKED_COLUMN_OPTION="FF_GDS_QB_BUILDER_STACKED_COLUMN_OPTION";e.OuAxesViewI18n.BUILDER_TOAST_MEMBERS_REMOVED="FF_GDS_QB_BUILDER_TOAST_MEMBERS_REMOVED";e.OuAxesViewI18n.BUILDER_WATERFALL_OPTION="FF_GDS_QB_BUILDER_WATERFALL_OPTION";e.OuAxesViewI18n.PROVIDER_NAME="AxesView";e.OuAxesViewI18n.staticSetup=function(){let t=new e.OuAxesViewI18n;t.setupProvider(e.OuAxesViewI18n.PROVIDER_NAME,true);t.addText(e.OuAxesViewI18n.BUILDER_REMOVE,"Remove");t.addComment(e.OuAxesViewI18n.BUILDER_REMOVE,"#XTOL: Tooltip on a button to remove an element from the list");t.addText(e.OuAxesViewI18n.BUILDER_ADD_MEASURE_INFO,"Add at least one measure.");t.addComment(e.OuAxesViewI18n.BUILDER_ADD_MEASURE_INFO,"#XFLD: Text on a placeholder list item when currently no measure is selected");t.addText(e.OuAxesViewI18n.BUILDER_ADD_ACCOUNT_INFO,"Add at least one account.");t.addComment(e.OuAxesViewI18n.BUILDER_ADD_ACCOUNT_INFO,"#XFLD: Text on a placeholder list item when currently no account is selected");t.addText(e.OuAxesViewI18n.BUILDER_FILTER_DIALOG_TITLE,"Set Filter for {0}");t.addComment(e.OuAxesViewI18n.BUILDER_FILTER_DIALOG_TITLE,"#XTIT: the title of a dialog to create a filter on a dimension (placeholder is the dimension name)");t.addText(e.OuAxesViewI18n.BUILDER_CHART_LINE_YLEFT,"Y-Axis Left");t.addComment(e.OuAxesViewI18n.BUILDER_CHART_LINE_YLEFT,"#XTIT: the title for the Line-Chart section where the measures on the Y-Left axis are shown.");t.addText(e.OuAxesViewI18n.BUILDER_CHART_LINE_YRIGHT,"Y-Axis Right");t.addComment(e.OuAxesViewI18n.BUILDER_CHART_LINE_YRIGHT,"#XTIT: the title for the Line-Chart section where the measures on the Y-Right axis are shown.");t.addText(e.OuAxesViewI18n.BUILDER_CHART_COLUMN,"Column Axis");t.addComment(e.OuAxesViewI18n.BUILDER_CHART_COLUMN,"#XTIT: the title for the columns and line chart section where the measures on the Column axis are shown.");t.addText(e.OuAxesViewI18n.BUILDER_CHART_LINE,"Line Axis");t.addComment(e.OuAxesViewI18n.BUILDER_CHART_LINE,"#XTIT: the title for the columns and line chart section where the measures on the Line axis are shown.");t.addText(e.OuAxesViewI18n.BUILDER_CHART_DIMENSIONS,"Dimensions");t.addComment(e.OuAxesViewI18n.BUILDER_CHART_DIMENSIONS,"#XTIT: the title for the Chart section where the Dimensions are shown.");t.addText(e.OuAxesViewI18n.BUILDER_CHART_COLOR,"Color");t.addComment(e.OuAxesViewI18n.BUILDER_CHART_COLOR,"#XTIT: the title for the Chart section where the Dimensions chosen for Color are shown.");t.addText(e.OuAxesViewI18n.BUILDER_CHART_ORIENTATION,"Chart Orientation");t.addComment(e.OuAxesViewI18n.BUILDER_CHART_ORIENTATION,"#XTIT: the title for the chart orientation.");t.addText(e.OuAxesViewI18n.BUILDER_CHART_ORIENTATION_HORIZONTAL,"Horizontal");t.addComment(e.OuAxesViewI18n.BUILDER_CHART_ORIENTATION_HORIZONTAL,"#XSEL: the chart orientation option Horizontal.");t.addText(e.OuAxesViewI18n.BUILDER_CHART_ORIENTATION_VERTICAL,"Vertical");t.addComment(e.OuAxesViewI18n.BUILDER_CHART_ORIENTATION_VERTICAL,"#XSEL: the chart orientation option Vertical.");t.addText(e.OuAxesViewI18n.BUILDER_CHART_AXIS_X,"X-Axis");t.addComment(e.OuAxesViewI18n.BUILDER_CHART_AXIS_X,"#XTIT: Axis indicator for X-axis.");t.addText(e.OuAxesViewI18n.BUILDER_CHART_AXIS_Y,"Y-Axis");t.addComment(e.OuAxesViewI18n.BUILDER_CHART_AXIS_Y,"#XTIT: Axis indicator for Y-axis.");t.addText(e.OuAxesViewI18n.BUILDER_GRID_OPTION,"Table");t.addComment(e.OuAxesViewI18n.BUILDER_GRID_OPTION,"#XSEL: a dropdown entry to switch to a table visualization");t.addText(e.OuAxesViewI18n.BUILDER_BARCOLUMN_OPTION,"Bar/Column");t.addComment(e.OuAxesViewI18n.BUILDER_BARCOLUMN_OPTION,"#XSEL: a dropdown entry to switch to a bar-column chart visualization");t.addText(e.OuAxesViewI18n.BUILDER_BAR_OPTION,"Bar");t.addComment(e.OuAxesViewI18n.BUILDER_BAR_OPTION,"#XSEL: a dropdown entry to switch to a bar chart visualization");t.addText(e.OuAxesViewI18n.BUILDER_COLUMN_OPTION,"Column");t.addComment(e.OuAxesViewI18n.BUILDER_COLUMN_OPTION,"#XSEL: a dropdown entry to switch to a column chart visualization");t.addText(e.OuAxesViewI18n.BUILDER_STACKED_BAR_OPTION,"Stacked Bar");t.addComment(e.OuAxesViewI18n.BUILDER_STACKED_BAR_OPTION,"#XSEL: a dropdown entry to switch to a stacked bar chart visualization");t.addText(e.OuAxesViewI18n.BUILDER_STACKED_COLUMN_OPTION,"Stacked Column");t.addComment(e.OuAxesViewI18n.BUILDER_STACKED_COLUMN_OPTION,"#XSEL: a dropdown entry to switch to a stacked column chart visualization");t.addText(e.OuAxesViewI18n.BUILDER_LINE_OPTION,"Line");t.addComment(e.OuAxesViewI18n.BUILDER_LINE_OPTION,"#XSEL: a dropdown entry to switch to a line chart visualization");t.addText(e.OuAxesViewI18n.BUILDER_PIE_OPTION,"Pie");t.addComment(e.OuAxesViewI18n.BUILDER_PIE_OPTION,"#XSEL: a dropdown entry to switch to a pie chart visualization");t.addText(e.OuAxesViewI18n.BUILDER_DONUT_OPTION,"Donut");t.addComment(e.OuAxesViewI18n.BUILDER_DONUT_OPTION,"#XSEL: a dropdown entry to switch to a donut chart visualization");t.addText(e.OuAxesViewI18n.BUILDER_STACKED_AREA_OPTION,"Stacked Area");t.addComment(e.OuAxesViewI18n.BUILDER_STACKED_AREA_OPTION,"#XSEL: a dropdown entry to switch to a stacked area chart visualization");t.addText(e.OuAxesViewI18n.BUILDER_COLUMN_LINE_OPTION,"Combination Column & Line");t.addComment(e.OuAxesViewI18n.BUILDER_COLUMN_LINE_OPTION,"#XSEL: a dropdown entry to switch to a combination columns and line chart visualization");t.addText(e.OuAxesViewI18n.BUILDER_STACKED_COLUMN_LINE_OPTION,"Combination Stacked Column & Line");t.addComment(e.OuAxesViewI18n.BUILDER_STACKED_COLUMN_LINE_OPTION,"#XSEL: a dropdown entry to switch to a stacked combination columns and line chart visualization");t.addText(e.OuAxesViewI18n.BUILDER_METRIC_OPTION,"Numeric Point");t.addComment(e.OuAxesViewI18n.BUILDER_METRIC_OPTION,"#XSEL: a dropdown entry to switch to a numeric point chart visualization");t.addText(e.OuAxesViewI18n.BUILDER_WATERFALL_OPTION,"Waterfall");t.addComment(e.OuAxesViewI18n.BUILDER_WATERFALL_OPTION,"#XSEL: a dropdown entry to switch to a waterfall chart visualization");t.addText(e.OuAxesViewI18n.BUILDER_DISPLAY_TYPE,"Display Type:");t.addComment(e.OuAxesViewI18n.BUILDER_DISPLAY_TYPE,"#XTIT: a label for the Visualization switch dropdown in the Builder Panel.");t.addText(e.OuAxesViewI18n.BUILDER_SHOW_AS_100_PERCENT,"Show Chart as 100%");t.addComment(e.OuAxesViewI18n.BUILDER_SHOW_AS_100_PERCENT,"#XCKL: Checkbox label for Stacked ChartTypes to show values as Percentages.");t.addText(e.OuAxesViewI18n.BUILDER_OVERLAP_Y_AXIS,"Y-Axes Overlap");t.addComment(e.OuAxesViewI18n.BUILDER_OVERLAP_Y_AXIS,"#XCKL: Checkbox label for columns-line charts to overlap the Y-Axis.");t.addText(e.OuAxesViewI18n.BUILDER_TOAST_MEMBERS_REMOVED,"Too many selections for {0} chart: entities {1} were removed.");t.addComment(e.OuAxesViewI18n.BUILDER_TOAST_MEMBERS_REMOVED,"#XTIT: Message when a user has > 1 Measure selected and moves to Pie/Donut chart.");t.addTextWithComment(e.OuAxesViewI18n.BUILDER_CHART_VALUE_SELECTION,"Sector Size","#XTIT: Value Selection label for Pie/Donut chart.");t.addTextWithComment(e.OuAxesViewI18n.BUILDER_ADD_DIMENSION_OPTIONAL,"Add a Dimension.","#XFLD: Text on a placeholder list item when currently no dimension is selected");t.addTextWithComment(e.OuAxesViewI18n.BUILDER_ADD_MEASURE_OPTIONAL,"Add a Measure.","#XFLD: Text on a placeholder list item when currently no measure is selected. This is just an info message where a Measure is not mandatory.");t.addTextWithComment(e.OuAxesViewI18n.BUILDER_ADD_ACCOUNT_OPTIONAL,"Add an Account.","#XFLD: Text on a placeholder list item when currently no account is selected. This is just an info message where an Account is not mandatory.");return t};e.OuFormulaValidationI18n=function(){};e.OuFormulaValidationI18n.prototype=new e.DfXLocalizationProvider;e.OuFormulaValidationI18n.prototype._ff_c="OuFormulaValidationI18n";e.OuFormulaValidationI18n.NAV_CALCULATION_INVALID_DEPENDENCY_INFO="FF_GDS_QB_NAV_CALCULATION_INVALID_DEPENDENCY_INFO";e.OuFormulaValidationI18n.NAV_CALCULATION_INVALID_INFO="FF_GDS_QB_NAV_CALCULATION_INVALID_INFO";e.OuFormulaValidationI18n.NAV_CALCULATION_MISSING_DIMENSIONS_INFO="FF_GDS_QB_NAV_CALCULATION_MISSING_DIMENSIONS_INFO";e.OuFormulaValidationI18n.NAV_CALCULATION_PREFERRED_HIERARCHY_MISMATCH_ACCOUNT="FF_GDS_QB_NAV_CALCULATION_PREFERRED_HIERARCHY_MISMATCH_ACCOUNT";e.OuFormulaValidationI18n.NAV_CALCULATION_PREFERRED_HIERARCHY_MISMATCH_MEASURE="FF_GDS_QB_NAV_CALCULATION_PREFERRED_HIERARCHY_MISMATCH_MEASURE";e.OuFormulaValidationI18n.PROVIDER_NAME="FormulaValidation";e.OuFormulaValidationI18n.staticSetup=function(){let t=new e.OuFormulaValidationI18n;t.setupProvider(e.OuFormulaValidationI18n.PROVIDER_NAME,true);t.addTextWithComment(e.OuFormulaValidationI18n.NAV_CALCULATION_INVALID_INFO,'Calculation "{0}" is not valid.',"#XTOL: a tooltip indicating that the calculation has some problems");t.addTextWithComment(e.OuFormulaValidationI18n.NAV_CALCULATION_INVALID_DEPENDENCY_INFO,'Calculation "{0}" is not valid because it depends on missing calculations:',"#XTOL: a tooltip indicating that the calculation has problems because it depends on other calculations that were deleted, which names are listed after the colon");t.addTextWithComment(e.OuFormulaValidationI18n.NAV_CALCULATION_MISSING_DIMENSIONS_INFO,'Calculation "{0}" requires the following dimensions to be selected in the table:',"#XTOL: A tooltip indicating that the calculation {0} needs certain dimensions on rows or columns to work, which names are listed after the colon");t.addTextWithComment(e.OuFormulaValidationI18n.NAV_CALCULATION_PREFERRED_HIERARCHY_MISMATCH_ACCOUNT,"This calculation is invalid because the account that it depends on is not available in the selected account hierarchy.","#XTOL: A tooltip indicating that the calculation depends on an account from a different hierarchy than the active one");t.addTextWithComment(e.OuFormulaValidationI18n.NAV_CALCULATION_PREFERRED_HIERARCHY_MISMATCH_MEASURE,"This calculation is invalid because the measure that it depends on is not available in the selected measure hierarchy.","#XTOL: A tooltip indicating that the calculation depends on a measure from a different hierarchy than the active one");return t};e.OuInventoryViewI18n=function(){};e.OuInventoryViewI18n.prototype=new e.DfXLocalizationProvider;e.OuInventoryViewI18n.prototype._ff_c="OuInventoryViewI18n";e.OuInventoryViewI18n.NAV_CALCULATION_DELETED_FILTER_DELETED_ACCOUNT="FF_GDS_QB_NAV_CALCULATION_DELETED_FILTER_DELETED_ACCOUNT";e.OuInventoryViewI18n.NAV_CALCULATION_DELETED_FILTER_DELETED_MEASURE="FF_GDS_QB_NAV_CALCULATION_DELETED_FILTER_DELETED_MEASURE";e.OuInventoryViewI18n.NAV_CALCULATION_DELETION_INFO="FF_GDS_QB_NAV_CALCULATION_DELETION_INFO";e.OuInventoryViewI18n.NAV_CALCULATION_INVALID_ANNOUNCE_UPDATE="FF_GDS_QB_NAV_CALCULATION_INVALID_ANNOUNCE_UPDATE";e.OuInventoryViewI18n.NAV_CREATE_CALCULATION="FF_GDS_QB_NAV_CREATE_CALCULATION";e.OuInventoryViewI18n.NAV_DELETE_CALCULATION="FF_GDS_QB_NAV_DELETE_CALCULATION";e.OuInventoryViewI18n.NAV_DIMENSIONS="FF_GDS_QB_NAV_DIMENSIONS";e.OuInventoryViewI18n.NAV_DIM_MENU_GROUPS_COLLAPSED="FF_GDS_QB_NAV_DIM_MENU_GROUPS_COLLAPSED";e.OuInventoryViewI18n.NAV_DIM_MENU_GROUPS_EXPANDED="FF_GDS_QB_NAV_DIM_MENU_GROUPS_EXPANDED";e.OuInventoryViewI18n.NAV_DIM_MENU_GROUPS_FLAT="FF_GDS_QB_NAV_DIM_MENU_GROUPS_FLAT";e.OuInventoryViewI18n.NAV_EDIT_CALCULATION="FF_GDS_QB_NAV_EDIT_CALCULATION";e.OuInventoryViewI18n.NAV_FILTER_DIALOG_TITLE="FF_GDS_QB_NAV_FILTER_DIALOG_TITLE";e.OuInventoryViewI18n.NAV_HIDE_PANEL="FF_GDS_QB_NAV_HIDE_PANEL";e.OuInventoryViewI18n.NAV_MENU_SORT="FF_GDS_QB_NAV_MENU_SORT";e.OuInventoryViewI18n.NAV_MENU_SORT_ASCENDING="FF_GDS_QB_NAV_MENU_SORT_ASCENDING";e.OuInventoryViewI18n.NAV_MENU_SORT_DEFAULT="FF_GDS_QB_NAV_MENU_SORT_DEFAULT";e.OuInventoryViewI18n.NAV_MENU_SORT_DESCENDING="FF_GDS_QB_NAV_MENU_SORT_DESCENDING";e.OuInventoryViewI18n.NAV_SELECT_ALL="FF_GDS_QB_NAV_SELECT_ALL";e.OuInventoryViewI18n.NAV_THRESHOLD_INVALID_INFO_INVALID_CALC="FF_GDS_QB_NAV_THRESHOLD_INVALID_INFO_INVALID_CALC";e.OuInventoryViewI18n.NAV_THRESHOLD_INVALID_INFO_MISSING_CALC="FF_GDS_QB_NAV_THRESHOLD_INVALID_INFO_MISSING_CALC";e.OuInventoryViewI18n.PROVIDER_NAME="InventoryView";e.OuInventoryViewI18n.staticSetup=function(){let t=new e.OuInventoryViewI18n;t.setupProvider(e.OuInventoryViewI18n.PROVIDER_NAME,true);t.addText(e.OuInventoryViewI18n.NAV_DIMENSIONS,"Dimensions");t.addComment(e.OuInventoryViewI18n.NAV_DIMENSIONS,"#XTIT: The section that contains generic (no special) dimensions");t.addText(e.OuInventoryViewI18n.NAV_SELECT_ALL,"Select All");t.addComment(e.OuInventoryViewI18n.NAV_SELECT_ALL,"#XCKL: A checkbox to select all other checkboxes underneath");t.addText(e.OuInventoryViewI18n.NAV_HIDE_PANEL,"Hide available objects");t.addComment(e.OuInventoryViewI18n.NAV_HIDE_PANEL,"#XMIT: Hide available objects");t.addText(e.OuInventoryViewI18n.NAV_FILTER_DIALOG_TITLE,"Set Filter for {0}");t.addComment(e.OuInventoryViewI18n.NAV_FILTER_DIALOG_TITLE,"#XTIT: the title of a dialog to create a filter on a dimension (placeholder is the dimension name)");t.addText(e.OuInventoryViewI18n.NAV_CREATE_CALCULATION,"Add Calculation");t.addComment(e.OuInventoryViewI18n.NAV_CREATE_CALCULATION,"#XLNK: a link that will open a formula dialog to let the user create a calculation");t.addTextWithComment(e.OuInventoryViewI18n.NAV_DIM_MENU_GROUPS_FLAT,"Show Groups","#XMIT: a menu item that makes dimension groups be shown");t.addTextWithComment(e.OuInventoryViewI18n.NAV_DIM_MENU_GROUPS_COLLAPSED,"Collapse All Groups","#XMIT: a menu item that collapses all dimension groups");t.addTextWithComment(e.OuInventoryViewI18n.NAV_DIM_MENU_GROUPS_EXPANDED,"Expand All Groups","#XMIT: a menu item that expands all dimension groups");t.addTextWithComment(e.OuInventoryViewI18n.NAV_EDIT_CALCULATION,"Edit Calculation","#XTOL: a tooltip of an edit button for calculations");t.addTextWithComment(e.OuInventoryViewI18n.NAV_DELETE_CALCULATION,"Delete Calculation","#XTOL: a tooltip of an delete button for calculations");t.addTextWithComment(e.OuInventoryViewI18n.NAV_CALCULATION_DELETION_INFO,'Calculated Measure "{0}" has been deleted.',"#XMSG: a toast message explaining that a calculation with the name {0} was deleted");t.addTextWithComment(e.OuInventoryViewI18n.NAV_CALCULATION_INVALID_ANNOUNCE_UPDATE,'Calculation "{0}" is not valid',"#XMSG: Hidden message for screen reader to announce the calculation became invalid.");t.addTextWithComment(e.OuInventoryViewI18n.NAV_THRESHOLD_INVALID_INFO_MISSING_CALC,'Threshold "{0}" is not valid because it depends on missing Calculation "{1}"',"#XMSG: a toast message explaining that the Threshold with the name {0} was using a now deleted Calculation with the name {1}");t.addTextWithComment(e.OuInventoryViewI18n.NAV_THRESHOLD_INVALID_INFO_INVALID_CALC,'Threshold "{0}" is not valid because it depends on invalid Calculation "{1}"',"#XMSG: a toast message explaining that the Threshold with the name {0} was using a now invalid Calculation with the name {1}");t.addTextWithComment(e.OuInventoryViewI18n.NAV_MENU_SORT,"Sort","#XMIT: a menu entry with different options to change the sort order of ui elements");t.addTextWithComment(e.OuInventoryViewI18n.NAV_MENU_SORT_ASCENDING,"Ascending","#XMIT: a menu item to sort ui elements in ascending order");t.addTextWithComment(e.OuInventoryViewI18n.NAV_MENU_SORT_DESCENDING,"Descending","#XMIT: a menu item to sort ui elements in descending order");t.addTextWithComment(e.OuInventoryViewI18n.NAV_MENU_SORT_DEFAULT,"Default Order","#XMIT: a menu item to sort ui elements in default order");t.addTextWithComment(e.OuInventoryViewI18n.NAV_CALCULATION_DELETED_FILTER_DELETED_MEASURE,'Filter on "{0}" has been deleted because the calculated measure "{1}" has been deleted.',"#XMSG: Filter deleted in response to a deleted calculated measure.");t.addTextWithComment(e.OuInventoryViewI18n.NAV_CALCULATION_DELETED_FILTER_DELETED_ACCOUNT,'Filter on "{0}" has been deleted because the calculated account "{1}" has been deleted.',"#XMSG: Filter deleted in response to a deleted calculated account.");return t};e.OuDisplayFormattingI18n=function(){};e.OuDisplayFormattingI18n.prototype=new e.DfXLocalizationProvider;e.OuDisplayFormattingI18n.prototype._ff_c="OuDisplayFormattingI18n";e.OuDisplayFormattingI18n.PROVIDER_NAME="DisplayFormatting";e.OuDisplayFormattingI18n.STYLE_ALIGNMENT="FF_GDS_ALIGNMENT";e.OuDisplayFormattingI18n.STYLE_ALIGNMENT_BOTTOM="FF_GDS_STYLE_ALIGNMENT_BOTTOM";e.OuDisplayFormattingI18n.STYLE_ALIGNMENT_CENTER="FF_GDS_STYLE_ALIGNMENT_CENTER";e.OuDisplayFormattingI18n.STYLE_ALIGNMENT_LEFT="FF_GDS_STYLE_ALIGNMENT_LEFT";e.OuDisplayFormattingI18n.STYLE_ALIGNMENT_MIDDLE="FF_GDS_STYLE_ALIGNMENT_MIDDLE";e.OuDisplayFormattingI18n.STYLE_ALIGNMENT_RIGHT="FF_GDS_STYLE_ALIGNMENT_RIGHT";e.OuDisplayFormattingI18n.STYLE_ALIGNMENT_TOP="FF_GDS_STYLE_ALIGNMENT_TOP";e.OuDisplayFormattingI18n.STYLE_AVOID_OVERLAP="FF_GDS_STYLE_AVOID_OVERLAP";e.OuDisplayFormattingI18n.STYLE_AXIS_LABEL="FF_GDS_STYLE_FORMAT_TEXT_X_AXIS_LABEL";e.OuDisplayFormattingI18n.STYLE_AXIS_TITLE="FF_GDS_STYLE_FORMAT_TEXT_X_AXIS_TITLE";e.OuDisplayFormattingI18n.STYLE_BOLD="FF_GDS_STYLE_FACE_BOLD";e.OuDisplayFormattingI18n.STYLE_BOLD_ITALIC="FF_GDS_STYLE_FACE_BOLD_ITALIC";e.OuDisplayFormattingI18n.STYLE_DATA_LABEL="FF_GDS_STYLE_FORMAT_TEXT_DATA_LABEL";e.OuDisplayFormattingI18n.STYLE_DEFAULT="FF_GDS_STYLE_DISPLAY_DEFAULT";e.OuDisplayFormattingI18n.STYLE_DETAILS="FF_GDS_STYLE_FORMAT_TEXT_DETAILS";e.OuDisplayFormattingI18n.STYLE_DIRECTION_HORIZONTAL="FF_GDS_STYLE_DIRECTION_HORIZONTAL";e.OuDisplayFormattingI18n.STYLE_DIRECTION_VERTICAL="FF_GDS_STYLE_DIRECTION_VERTICAL";e.OuDisplayFormattingI18n.STYLE_DISPLAY_FORMATTING_RESET="FF_GDS_STYLE_DISPLAY_FORMATTING_RESET";e.OuDisplayFormattingI18n.STYLE_DISPLAY_FORMATTING_TITLE="FF_GDS_STYLE_DISPLAY_FORMATTING_TITLE";e.OuDisplayFormattingI18n.STYLE_DS_TITLE="FF_GDS_STYLE_FORMAT_TEXT_DS_TITLE";e.OuDisplayFormattingI18n.STYLE_FORMATTING_COLOR="FF_GDS_STYLE_FORMATTING_COLOR";e.OuDisplayFormattingI18n.STYLE_FORMATTING_FONT="FF_GDS_STYLE_FORMATTING_FONT";e.OuDisplayFormattingI18n.STYLE_FORMATTING_SIZE="FF_GDS_STYLE_FORMATTING_SIZE";e.OuDisplayFormattingI18n.STYLE_FORMATTING_STYLE="FF_GDS_STYLE_FORMATTING_STYLE";e.OuDisplayFormattingI18n.STYLE_FORMATTING_TEXT_SELECTION="FF_GDS_STYLE_FORMATTING_TEXT_SELECTION";e.OuDisplayFormattingI18n.STYLE_ITALIC="FF_GDS_STYLE_FACE_ITALIC";e.OuDisplayFormattingI18n.STYLE_LEGEND="FF_GDS_STYLE_FORMAT_TEXT_LEGEND";e.OuDisplayFormattingI18n.STYLE_PLACEMENT="FF_GDS_STYLE_PLACEMENT";e.OuDisplayFormattingI18n.STYLE_PLACEMENT_ABOVE_CHART="FF_GDS_STYLE_PLACEMENT_ABOVE_CHART";e.OuDisplayFormattingI18n.STYLE_PLACEMENT_BELOW_CHART="FF_GDS_STYLE_PLACEMENT_BELOW_CHART";e.OuDisplayFormattingI18n.STYLE_PLACEMENT_BESIDE_CHART_RIGHT="FF_GDS_STYLE_PLACEMENT_BESIDE_CHART_RIGHT";e.OuDisplayFormattingI18n.STYLE_REGULAR="FF_GDS_STYLE_FACE_REGULAR";e.OuDisplayFormattingI18n.STYLE_SHOW_AXIS_TITLE="FF_GDS_STYLE_SHOW_AXIS_TITLE";e.OuDisplayFormattingI18n.STYLE_SHOW_DATA_LABEL="FF_GDS_STYLE_SHOW_DATA_LABEL";e.OuDisplayFormattingI18n.STYLE_SHOW_LEGEND="FF_GDS_STYLE_SHOW_LEGEND";e.OuDisplayFormattingI18n.getLocalization=function(){return e.XLocalizationCenter.getCenter().getLocalizationProviderByName(e.OuDisplayFormattingI18n.PROVIDER_NAME)};e.OuDisplayFormattingI18n.staticSetup=function(){let t=new e.OuDisplayFormattingI18n;t.setupProvider(e.OuDisplayFormattingI18n.PROVIDER_NAME,true);t.addText(e.OuDisplayFormattingI18n.STYLE_DISPLAY_FORMATTING_TITLE,"Display Properties");t.addComment(e.OuDisplayFormattingI18n.STYLE_DISPLAY_FORMATTING_TITLE,"#XTIT: The heading of the section for the display properties");t.addText(e.OuDisplayFormattingI18n.STYLE_DISPLAY_FORMATTING_RESET,"Reset all to default");t.addComment(e.OuDisplayFormattingI18n.STYLE_DISPLAY_FORMATTING_RESET,"#XBUT: A button to reset all settings to the default");t.addText(e.OuDisplayFormattingI18n.STYLE_FORMATTING_TEXT_SELECTION,"Text Selection");t.addComment(e.OuDisplayFormattingI18n.STYLE_FORMATTING_TEXT_SELECTION,"#XFLD: A dropdown to select what text type should be formatted");t.addText(e.OuDisplayFormattingI18n.STYLE_FORMATTING_FONT,"Font");t.addComment(e.OuDisplayFormattingI18n.STYLE_FORMATTING_FONT,"#XFLD: A dropdown to select the font family");t.addText(e.OuDisplayFormattingI18n.STYLE_FORMATTING_SIZE,"Size");t.addComment(e.OuDisplayFormattingI18n.STYLE_FORMATTING_SIZE,"#XFLD: A dropdown to select the font size");t.addText(e.OuDisplayFormattingI18n.STYLE_FORMATTING_COLOR,"Color");t.addComment(e.OuDisplayFormattingI18n.STYLE_FORMATTING_COLOR,"#XFLD: A dropdown to select the font color");t.addText(e.OuDisplayFormattingI18n.STYLE_FORMATTING_STYLE,"Style");t.addComment(e.OuDisplayFormattingI18n.STYLE_FORMATTING_STYLE,"#XFLD: A dropdown to select the font style");t.addText(e.OuDisplayFormattingI18n.STYLE_AVOID_OVERLAP,"Avoid Overlap");t.addComment(e.OuDisplayFormattingI18n.STYLE_AVOID_OVERLAP,"#XFLD: A switch to specify that the labels should not overlap");t.addText(e.OuDisplayFormattingI18n.STYLE_PLACEMENT,"Placement");t.addComment(e.OuDisplayFormattingI18n.STYLE_PLACEMENT,"#XFLD: A dropdown to specify legend placement");t.addText(e.OuDisplayFormattingI18n.STYLE_ALIGNMENT,"Alignment");t.addComment(e.OuDisplayFormattingI18n.STYLE_ALIGNMENT,"#XFLD: A split button to specify the text alignment");t.addText(e.OuDisplayFormattingI18n.STYLE_SHOW_LEGEND,"Show Legend");t.addComment(e.OuDisplayFormattingI18n.STYLE_SHOW_LEGEND,"#XFLD: A switch to specify whether the legend is supposed to be shown");t.addText(e.OuDisplayFormattingI18n.STYLE_SHOW_DATA_LABEL,"Show Data Label");t.addComment(e.OuDisplayFormattingI18n.STYLE_SHOW_DATA_LABEL,"#XFLD: A switch to specify whether the data label is supposed to be shown");t.addText(e.OuDisplayFormattingI18n.STYLE_SHOW_AXIS_TITLE,"Show Axis Title");t.addComment(e.OuDisplayFormattingI18n.STYLE_SHOW_AXIS_TITLE,"#XFLD: A switch to specify whether the axis title is supposed to be shown");t.addText(e.OuDisplayFormattingI18n.STYLE_DS_TITLE,"Title");t.addComment(e.OuDisplayFormattingI18n.STYLE_DS_TITLE,"#XSEL: A dropdown entry for selecting the 'title' to be formatted");t.addText(e.OuDisplayFormattingI18n.STYLE_DETAILS,"Details");t.addComment(e.OuDisplayFormattingI18n.STYLE_DETAILS,"#XSEL: A dropdown entry for selecting the 'details' to be formatted");t.addText(e.OuDisplayFormattingI18n.STYLE_AXIS_LABEL,"Axis Label");t.addComment(e.OuDisplayFormattingI18n.STYLE_AXIS_LABEL,"#XSEL: A dropdown entry for selecting the 'axis label' to be formatted");t.addText(e.OuDisplayFormattingI18n.STYLE_AXIS_TITLE,"Axis Title");t.addComment(e.OuDisplayFormattingI18n.STYLE_AXIS_TITLE,"#XSEL: A dropdown entry for selecting the 'axis title' to be formatted");t.addText(e.OuDisplayFormattingI18n.STYLE_DATA_LABEL,"Data Label");t.addComment(e.OuDisplayFormattingI18n.STYLE_DATA_LABEL,"#XSEL: A dropdown entry for selecting the 'data label' to be formatted");t.addText(e.OuDisplayFormattingI18n.STYLE_LEGEND,"Legend");t.addComment(e.OuDisplayFormattingI18n.STYLE_LEGEND,"#XSEL: A dropdown entry for selecting the 'legend' to be formatted");t.addText(e.OuDisplayFormattingI18n.STYLE_DEFAULT,"Default");t.addComment(e.OuDisplayFormattingI18n.STYLE_DEFAULT,"#XSEL: A dropdown entry to represent the default configuration");t.addText(e.OuDisplayFormattingI18n.STYLE_REGULAR,"Regular");t.addComment(e.OuDisplayFormattingI18n.STYLE_REGULAR,"#XSEL: A dropdown entry to represent the Regular Font Face");t.addText(e.OuDisplayFormattingI18n.STYLE_BOLD,"Bold");t.addComment(e.OuDisplayFormattingI18n.STYLE_BOLD,"#XSEL: A dropdown entry to represent the Bold Font Face");t.addText(e.OuDisplayFormattingI18n.STYLE_ITALIC,"Italic");t.addComment(e.OuDisplayFormattingI18n.STYLE_ITALIC,"#XSEL: A dropdown entry to represent the Italic Font Face");t.addText(e.OuDisplayFormattingI18n.STYLE_BOLD_ITALIC,"Bold Italic");t.addComment(e.OuDisplayFormattingI18n.STYLE_BOLD_ITALIC,"#XSEL: A dropdown entry to represent the Bold-Italic Font Face");t.addText(e.OuDisplayFormattingI18n.STYLE_PLACEMENT_BESIDE_CHART_RIGHT,"Beside Chart (Right)");t.addComment(e.OuDisplayFormattingI18n.STYLE_PLACEMENT_BESIDE_CHART_RIGHT,"#XSEL: A dropdown entry to specify that the legend should be displayed right to the chart");t.addText(e.OuDisplayFormattingI18n.STYLE_PLACEMENT_ABOVE_CHART,"Above Chart");t.addComment(e.OuDisplayFormattingI18n.STYLE_PLACEMENT_ABOVE_CHART,"#XSEL: A dropdown entry to specify that the legend should be displayed above the chart");t.addText(e.OuDisplayFormattingI18n.STYLE_PLACEMENT_BELOW_CHART,"Below Chart");t.addComment(e.OuDisplayFormattingI18n.STYLE_PLACEMENT_BELOW_CHART,"#XSEL: A dropdown entry to specify that the legend should be displayed below the chart");t.addText(e.OuDisplayFormattingI18n.STYLE_ALIGNMENT_LEFT,"Left");t.addComment(e.OuDisplayFormattingI18n.STYLE_ALIGNMENT_LEFT,"#XTOL: A tooltip for a split button to specify left text alignment");t.addText(e.OuDisplayFormattingI18n.STYLE_ALIGNMENT_CENTER,"Center");t.addComment(e.OuDisplayFormattingI18n.STYLE_ALIGNMENT_CENTER,"#XTOL: A tooltip for a split button to specify centered text alignment");t.addText(e.OuDisplayFormattingI18n.STYLE_ALIGNMENT_RIGHT,"Right");t.addComment(e.OuDisplayFormattingI18n.STYLE_ALIGNMENT_RIGHT,"#XTOL: A tooltip for a split button to specify right text alignment");t.addText(e.OuDisplayFormattingI18n.STYLE_ALIGNMENT_TOP,"Top");t.addComment(e.OuDisplayFormattingI18n.STYLE_ALIGNMENT_TOP,"#XTOL: A tooltip for a split button to specify top text alignment");t.addText(e.OuDisplayFormattingI18n.STYLE_ALIGNMENT_MIDDLE,"Middle");t.addComment(e.OuDisplayFormattingI18n.STYLE_ALIGNMENT_MIDDLE,"#XTOL: A tooltip for a split button to specify middle text alignment");t.addText(e.OuDisplayFormattingI18n.STYLE_ALIGNMENT_BOTTOM,"Bottom");t.addComment(e.OuDisplayFormattingI18n.STYLE_ALIGNMENT_BOTTOM,"#XTOL: A tooltip for a split button to specify bottom text alignment");t.addText(e.OuDisplayFormattingI18n.STYLE_DIRECTION_HORIZONTAL,"Horizontal");t.addComment(e.OuDisplayFormattingI18n.STYLE_DIRECTION_HORIZONTAL,"#XTOL: A tooltip for a split button to specify horizontal layout direction");t.addText(e.OuDisplayFormattingI18n.STYLE_DIRECTION_VERTICAL,"Vertical");t.addComment(e.OuDisplayFormattingI18n.STYLE_DIRECTION_VERTICAL,"#XTOL: A tooltip for a split button to specify vertical layout direction");return t};e.AuKpiI18n=function(){};e.AuKpiI18n.prototype=new e.DfXLocalizationProvider;e.AuKpiI18n.prototype._ff_c="AuKpiI18n";e.AuKpiI18n.KPI_DEVIATION="FF_GDS_KPI_DEVIATION";e.AuKpiI18n.KPI_TARGET="FF_GDS_KPI_TARGET";e.AuKpiI18n.PROVIDER_NAME="AuKpi";e.AuKpiI18n.staticSetup=function(){let t=new e.AuKpiI18n;t.setupProvider(e.AuKpiI18n.PROVIDER_NAME,true);t.addText(e.AuKpiI18n.KPI_DEVIATION,"Deviation");t.addComment(e.AuKpiI18n.KPI_DEVIATION,"#XTIT: title for the deviation figure");t.addText(e.AuKpiI18n.KPI_TARGET,"Target");t.addComment(e.AuKpiI18n.KPI_TARGET,"#XTIT: title for the target figure");return t};e.AuKpiView=function(){};e.AuKpiView.prototype=new e.DfUiView;e.AuKpiView.prototype._ff_c="AuKpiView";e.AuKpiView.create=function(t){return(new e.AuKpiView).setupInternal(t)};e.AuKpiView.prototype.m_card=null;e.AuKpiView.prototype.m_dataFetchListenerId=null;e.AuKpiView.prototype.m_dataProvider=null;e.AuKpiView.prototype.m_kpiDefinition=null;e.AuKpiView.prototype.m_queryManager=null;e.AuKpiView.prototype.m_renderer=null;e.AuKpiView.prototype.m_rootLayout=null;e.AuKpiView.prototype.beforeClose=function(){};e.AuKpiView.prototype.destroyView=function(){this.m_card=e.XObjectExt.release(this.m_card);this.m_rootLayout=e.XObjectExt.release(this.m_rootLayout);if(e.XObjectExt.isValidObject(this.m_dataProvider)){this.m_dataProvider.getEventing().getListenerForResultDataFetch().removeConsumerByUuid(this.m_dataFetchListenerId)}this.m_queryManager=null;this.m_dataProvider=null;this.m_kpiDefinition=null;this.m_renderer=e.XObjectExt.release(this.m_renderer)};e.AuKpiView.prototype.didBecomeHidden=function(){};e.AuKpiView.prototype.didBecomeVisible=function(){};e.AuKpiView.prototype.getDataProvider=function(){return this.m_dataProvider};e.AuKpiView.prototype.getKpiDefinition=function(){return this.m_kpiDefinition};e.AuKpiView.prototype.getQueryManager=function(){return this.m_queryManager};e.AuKpiView.prototype.getViewControl=function(t){this.m_rootLayout=t.newControl(e.UiType.FLEX_LAYOUT);this.m_card=this.m_rootLayout.addNewItemOfType(e.UiType.INTEGRATION_CARD);return this.m_rootLayout};e.AuKpiView.prototype.layoutView=function(t){t.useMaxSpace();t.setFlex("1 1 auto");t.setAlignItems(e.UiFlexAlignItems.CENTER);this.m_card.useMaxSpace();this.setBusy(true)};e.AuKpiView.prototype.onResultEvent=function(t){if(!e.XObjectExt.isValidObject(this.m_kpiDefinition)){return}if(t.getStep()===e.OlapDataProviderResultDataFetchStep.FETCH_STARTED){this.setBusy(true)}else if(t.getStep()===e.OlapDataProviderResultDataFetchStep.VISUALIZATION_FILLED&&e.XObjectExt.isValidObject(this.m_kpiDefinition)&&t.getFilledVisualizationNames().contains(this.m_kpiDefinition.getName())){this.setBusy(false);this.refreshKpi(this.m_kpiDefinition.getAvailableVisualizationContainer())}else if(t.getStep()===e.OlapDataProviderResultDataFetchStep.ALL_DONE){this.setBusy(false)}};e.AuKpiView.prototype.onVisualizationObjectFilled=function(e,t,i){this.refreshKpi(t)};e.AuKpiView.prototype.refreshKpi=function(t){if(e.XObjectExt.isValidObject(t)&&!t.isSyncCanceled()){let i=t.getVisualizationData();if(e.XObjectExt.isValidObject(this.m_card)&&e.XObjectExt.isValidObject(i)){let e=this.m_renderer.renderData(i);this.m_card.setModelJson(e);this.setBusy(false)}}};e.AuKpiView.prototype.setBusy=function(e){this.m_rootLayout.setBusy(e)};e.AuKpiView.prototype.setDataProvider=function(t){if(e.XObjectExt.isValidObject(this.m_dataProvider)){this.m_dataProvider.getEventing().getListenerForResultDataFetch().removeConsumerByUuid(this.m_dataFetchListenerId)}this.m_dataProvider=t;this.setQueryManager(e.notNull(t)?t.getQueryManager():null);if(e.XObjectExt.isValidObject(this.m_dataProvider)){this.m_dataFetchListenerId=this.m_dataProvider.getEventing().getListenerForResultDataFetch().addConsumer(this.onResultEvent.bind(this))}};e.AuKpiView.prototype.setKpiDefinition=function(e){this.m_kpiDefinition=e};e.AuKpiView.prototype.setQueryManager=function(e){this.m_queryManager=e};e.AuKpiView.prototype.setupInternal=function(t){this.initView(t);this.m_renderer=e.KpiRendererFactory.createContainerRenderer(e.ProtocolBindingType.SAP_KPI_PROTOCOL);return this};e.AuKpiView.prototype.setupView=function(){};e.AuKpiView.prototype.updateKpi=function(){if(e.XObjectExt.isValidObject(this.m_kpiDefinition)){this.refreshKpi(this.m_kpiDefinition.getAvailableVisualizationContainer())}};e.OuNumberFormattingI18n=function(){};e.OuNumberFormattingI18n.prototype=new e.DfXLocalizationProvider;e.OuNumberFormattingI18n.prototype._ff_c="OuNumberFormattingI18n";e.OuNumberFormattingI18n.PROVIDER_NAME="NumberFormatting";e.OuNumberFormattingI18n.STYLE_ACCOUNT_ALL="FF_GDS_STYLE_ACCOUNT_ALL";e.OuNumberFormattingI18n.STYLE_ACCOUNT_SELECTION="FF_GDS_STYLE_ACCOUNT_SELECTION";e.OuNumberFormattingI18n.STYLE_DECIMAL_PLACES="FF_GDS_STYLE_DECIMAL_PLACES";e.OuNumberFormattingI18n.STYLE_DEFAULT="FF_GDS_STYLE_DEFAULT";e.OuNumberFormattingI18n.STYLE_MEASURE_ALL="FF_GDS_STYLE_MEASURE_ALL";e.OuNumberFormattingI18n.STYLE_MEASURE_SELECTION="FF_GDS_STYLE_MEASURE_SELECTION";e.OuNumberFormattingI18n.STYLE_MIXED_UNITS_CURRENCY="FF_GDS_STYLE_MIXED_UNITS_CURRENCY";e.OuNumberFormattingI18n.STYLE_MIXED_UNITS_CURRENCY_LABEL="FF_GDS_STYLE_MIXED_UNITS_CURRENCY_LABEL";e.OuNumberFormattingI18n.STYLE_NUMBER_FORMAT_RESET="FF_GDS_STYLE_NUMBER_FORMAT_RESET";e.OuNumberFormattingI18n.STYLE_NUMBER_FORMAT_TITLE="FF_GDS_STYLE_NUMBER_FORMAT_TITLE";e.OuNumberFormattingI18n.STYLE_OTHER="FF_GDS_STYLE_OTHER";e.OuNumberFormattingI18n.STYLE_SCALE="FF_GDS_STYLE_SCALE";e.OuNumberFormattingI18n.STYLE_SCALE_FORMAT="FF_GDS_STYLE_SCALE_FORMAT";e.OuNumberFormattingI18n.STYLE_SCALE_FORMAT_LONG="FF_GDS_STYLE_FORMAT_LONG";e.OuNumberFormattingI18n.STYLE_SCALE_FORMAT_SHORT="FF_GDS_STYLE_FORMAT_SHORT";e.OuNumberFormattingI18n.STYLE_SCALE_LONG_BILLION="FF_GDS_STYLE_SCALE_LONG_BILLION";e.OuNumberFormattingI18n.STYLE_SCALE_LONG_MILLION="FF_GDS_STYLE_SCALE_LONG_MILLION";e.OuNumberFormattingI18n.STYLE_SCALE_LONG_THOUSAND="FF_GDS_STYLE_SCALE_LONG_THOUSAND";e.OuNumberFormattingI18n.STYLE_SCALE_UNFORMATTED="FF_GDS_STYLE_SCALE_UNFORMATTED";e.OuNumberFormattingI18n.STYLE_SIGN="FF_GDS_STYLE_SIGN";e.OuNumberFormattingI18n.getLocalization=function(){return e.XLocalizationCenter.getCenter().getLocalizationProviderByName(e.OuNumberFormattingI18n.PROVIDER_NAME)};e.OuNumberFormattingI18n.staticSetup=function(){let t=new e.OuNumberFormattingI18n;t.setupProvider(e.OuNumberFormattingI18n.PROVIDER_NAME,true);t.addText(e.OuNumberFormattingI18n.STYLE_NUMBER_FORMAT_TITLE,"Number Format");t.addComment(e.OuNumberFormattingI18n.STYLE_NUMBER_FORMAT_TITLE,"#XTIT: The heading of the section for number formatting");t.addText(e.OuNumberFormattingI18n.STYLE_NUMBER_FORMAT_RESET,"Reset all to default");t.addComment(e.OuNumberFormattingI18n.STYLE_NUMBER_FORMAT_RESET,"#XBUT: A button to reset all settings to the default");t.addText(e.OuNumberFormattingI18n.STYLE_MEASURE_SELECTION,"Measure Selection");t.addComment(e.OuNumberFormattingI18n.STYLE_MEASURE_SELECTION,"#XFLD: The description of a dropdown to select which measure to configure");t.addText(e.OuNumberFormattingI18n.STYLE_ACCOUNT_SELECTION,"Account Selection");t.addComment(e.OuNumberFormattingI18n.STYLE_ACCOUNT_SELECTION,"#XFLD: The description of a dropdown to select which account to configure");t.addText(e.OuNumberFormattingI18n.STYLE_MEASURE_ALL,"All Measures");t.addComment(e.OuNumberFormattingI18n.STYLE_MEASURE_ALL,"#XFLD: An entry in the list of measure to configure all measures at once");t.addText(e.OuNumberFormattingI18n.STYLE_ACCOUNT_ALL,"All Accounts");t.addComment(e.OuNumberFormattingI18n.STYLE_ACCOUNT_ALL,"#XFLD: An entry in the list of accounts to configure all accounts at once");t.addText(e.OuNumberFormattingI18n.STYLE_SCALE,"Scale");t.addComment(e.OuNumberFormattingI18n.STYLE_SCALE,"#XFLD: The description of a dropdown to set the scaling of numbers");t.addText(e.OuNumberFormattingI18n.STYLE_SCALE_UNFORMATTED,"Unformatted");t.addComment(e.OuNumberFormattingI18n.STYLE_SCALE_UNFORMATTED,"#XSEL: An entry in the list of scaling options to indicate that no format is being applied");t.addText(e.OuNumberFormattingI18n.STYLE_SCALE_LONG_THOUSAND,"Thousand");t.addComment(e.OuNumberFormattingI18n.STYLE_SCALE_LONG_THOUSAND,"#XSEL: Thousand");t.addText(e.OuNumberFormattingI18n.STYLE_SCALE_LONG_MILLION,"Million");t.addComment(e.OuNumberFormattingI18n.STYLE_SCALE_LONG_MILLION,"#XSEL: Million");t.addText(e.OuNumberFormattingI18n.STYLE_SCALE_LONG_BILLION,"Billion");t.addComment(e.OuNumberFormattingI18n.STYLE_SCALE_LONG_BILLION,"#XSEL: Billion");t.addText(e.OuNumberFormattingI18n.STYLE_SCALE_FORMAT,"Scale Format");t.addComment(e.OuNumberFormattingI18n.STYLE_SCALE_FORMAT,"#XFLD: The description of a dropdown to switch between short (k) and long (Thousand) scale representation");t.addText(e.OuNumberFormattingI18n.STYLE_SCALE_FORMAT_SHORT,"k, m, bn");t.addComment(e.OuNumberFormattingI18n.STYLE_SCALE_FORMAT_SHORT,"#XSEL: A dropdown entry to select short representation of scaling (e.g. k)");t.addText(e.OuNumberFormattingI18n.STYLE_SCALE_FORMAT_LONG,"Thousand, Million, Billion");t.addComment(e.OuNumberFormattingI18n.STYLE_SCALE_FORMAT_LONG,"#XSEL: A dropdown entry to select long representation of scaling (e.g. Thousand)");t.addText(e.OuNumberFormattingI18n.STYLE_DECIMAL_PLACES,"Decimal Places");t.addComment(e.OuNumberFormattingI18n.STYLE_DECIMAL_PLACES,"#XFLD: The description of a dropdown to set how many digits should be used for decimals");t.addText(e.OuNumberFormattingI18n.STYLE_SIGN,"Show Sign As");t.addComment(e.OuNumberFormattingI18n.STYLE_SIGN,"#XFLD: The description of a dropdown to configure how negative numbers should be represented");t.addText(e.OuNumberFormattingI18n.STYLE_DEFAULT,"Default");t.addComment(e.OuNumberFormattingI18n.STYLE_DEFAULT,"#XSEL: A dropdown entry to represent the default configuration");t.addText(e.OuNumberFormattingI18n.STYLE_OTHER,"Other");t.addComment(e.OuNumberFormattingI18n.STYLE_OTHER,"#XSEL: A fallback dropdown entry to represent an unknown setting");t.addText(e.OuNumberFormattingI18n.STYLE_MIXED_UNITS_CURRENCY_LABEL,"Mixed Units / Currencies:");t.addComment(e.OuNumberFormattingI18n.STYLE_MIXED_UNITS_CURRENCY_LABEL,"#XFLD: The description of a checkbox to enable the mixed units and currencies formatting");t.addText(e.OuNumberFormattingI18n.STYLE_MIXED_UNITS_CURRENCY,"Show Number Values");t.addComment(e.OuNumberFormattingI18n.STYLE_MIXED_UNITS_CURRENCY,"#XCKL: A checkbox to enable the mixed units and currencies formatting");return t};e.OuCalcCommandPluginWithSharedSpace=function(){};e.OuCalcCommandPluginWithSharedSpace.prototype=new e.HuDfCommandPlugin;e.OuCalcCommandPluginWithSharedSpace.prototype._ff_c="OuCalcCommandPluginWithSharedSpace";e.OuCalcCommandPluginWithSharedSpace.prototype.getSharedDataSpace=function(){return e.OuCalcSharedDataSpaceManager.create(this.getController().getProcess()).get()};e.OuCalcDetailsAreaView=function(){};e.OuCalcDetailsAreaView.prototype=new e.DfUiContentView;e.OuCalcDetailsAreaView.prototype._ff_c="OuCalcDetailsAreaView";e.OuCalcDetailsAreaView.create=function(t,i,n,o){let r=new e.OuCalcDetailsAreaView;r.m_i18n=e.XLocalizationCenter.getCenter().getLocalizationProviderByName(e.OuCalcDetailsAreaViewI18n.PROVIDER_NAME);r.m_isEdit=o;r.m_validator=e.notNull(t)?t:e.FeCalculationValidator.createEmpty();r._setInitialData(i,n);r.m_onIdChangedConsumers=e.XConsumerCollection.create();r.m_onNameChangedConsumers=e.XConsumerCollection.create();return r};e.OuCalcDetailsAreaView.prototype.m_i18n=null;e.OuCalcDetailsAreaView.prototype.m_idInput=null;e.OuCalcDetailsAreaView.prototype.m_initDesc=null;e.OuCalcDetailsAreaView.prototype.m_initId=null;e.OuCalcDetailsAreaView.prototype.m_isEdit=false;e.OuCalcDetailsAreaView.prototype.m_nameInput=null;e.OuCalcDetailsAreaView.prototype.m_onIdChangedConsumers=null;e.OuCalcDetailsAreaView.prototype.m_onNameChangedConsumers=null;e.OuCalcDetailsAreaView.prototype.m_validator=null;e.OuCalcDetailsAreaView.prototype._setInitialData=function(t,i){e.XObjectExt.assertStringNotNullAndNotEmptyExt(t,"Initial id cannot be null");e.XObjectExt.assertStringNotNullAndNotEmptyExt(i,"Initial description cannot be null");this.m_initId=t;this.m_validator.setId(t);this.m_initDesc=i};e.OuCalcDetailsAreaView.prototype.addOnIdChangeConsumer=function(e){return this.m_onIdChangedConsumers.addConsumer(e)};e.OuCalcDetailsAreaView.prototype.addOnNameChangeConsumer=function(e){return this.m_onNameChangedConsumers.addConsumer(e)};e.OuCalcDetailsAreaView.prototype.buildViewUi=function(t){e.XObjectExt.assertNotNull(t);let i=t.newRoot(e.UiType.FLEX_LAYOUT);i.addCssClass("ffFormulaEditorDetailsAreaView");i.setDirection(e.UiFlexDirection.ROW);i.setAlignItems(e.UiFlexAlignItems.CENTER);i.setWrap(e.UiFlexWrap.NO_WRAP);this.createNameArea(i);this.createIDArea(i);this.validate();if(!this.m_isEdit){this.m_idInput.registerOnLiveChange(e.UiLambdaLiveChangeListener.create(e=>{this.m_nameInput.setPlaceholder(this.m_idInput.getValue());this.m_validator.setId(this.m_idInput.getValue());this.validate();this.m_onIdChangedConsumers.accept(this)}))}this.m_nameInput.registerOnLiveChange(e.UiLambdaLiveChangeListener.create(e=>{this.m_validator.setName(this.m_nameInput.getValue());this.validate();this.m_onNameChangedConsumers.accept(this)}))};e.OuCalcDetailsAreaView.prototype.clearErrors=function(){this.clearInlineError(this.m_idInput);this.clearInlineError(this.m_nameInput)};e.OuCalcDetailsAreaView.prototype.clearInlineError=function(t){t.setValueState(e.UiValueState.NONE)};e.OuCalcDetailsAreaView.prototype.createIDArea=function(t){e.XObjectExt.assertNotNull(t);let i=t.addNewItemOfType(e.UiType.FLEX_LAYOUT);i.setDirection(e.UiFlexDirection.COLUMN);i.addCssClass("ffFormulaEditor-DetailsAreaView-IDArea-Layout");let n=i.addNewItemOfType(e.UiType.LABEL);let o=this.m_i18n.getText(e.OuCalcDetailsAreaViewI18n.FE_ID_AREA_LABEL);n.setText(o);n.setShowColon(true);this.m_idInput=i.addNewItemOfType(e.UiType.INPUT);this.m_idInput.setValue(this.m_initId);this.m_idInput.addCssClass("ffFormulaEditor-DetailsAreaView-IDArea-Input");this.m_idInput.setRequired(true);this.m_idInput.setMaxLength(this.m_validator.getMaxLength());this.m_idInput.setEditable(!this.m_isEdit);n.setLabelFor(this.m_idInput)};e.OuCalcDetailsAreaView.prototype.createNameArea=function(t){e.XObjectExt.assertNotNull(t);let i=t.addNewItemOfType(e.UiType.FLEX_LAYOUT);i.setDirection(e.UiFlexDirection.COLUMN);i.addCssClass("ffFormulaEditor-DetailsAreaView-NameArea-Layout");let n=i.addNewItemOfType(e.UiType.LABEL);let o=this.m_i18n.getText(e.OuCalcDetailsAreaViewI18n.NAME_AREA_LABEL);n.setText(o);n.setShowColon(true);this.m_nameInput=i.addNewItemOfType(e.UiType.INPUT);this.m_nameInput.addCssClass("ffFormulaEditor-DetailsAreaView-NameArea-Input");this.m_nameInput.setPlaceholder(this.m_initId);this.m_nameInput.addLabelledBy(n);this.m_nameInput.setMaxLength(this.m_validator.getMaxLength());if(!e.XStringUtils.isNullOrEmpty(this.m_initDesc)){this.m_nameInput.setValue(this.m_initDesc)}};e.OuCalcDetailsAreaView.prototype.destroyView=function(){this.m_i18n=null;this.m_idInput=null;this.m_nameInput=null;this.m_initId=null;this.m_initDesc=null;this.m_onIdChangedConsumers.clear();this.m_onIdChangedConsumers=e.XObjectExt.release(this.m_onIdChangedConsumers);this.m_onNameChangedConsumers.clear();this.m_onNameChangedConsumers=e.XObjectExt.release(this.m_onNameChangedConsumers);this.m_validator=e.XObjectExt.release(this.m_validator)};e.OuCalcDetailsAreaView.prototype.displayInlineErrorMsg=function(t,i){t.setValueState(e.UiValueState.ERROR);t.setValueStateText(i)};e.OuCalcDetailsAreaView.prototype.focus=function(){this.m_nameInput.focus()};e.OuCalcDetailsAreaView.prototype.getErrors=function(){return this.m_validator.validate().getErrors()};e.OuCalcDetailsAreaView.prototype.getId=function(){return this.m_idInput.getValue()};e.OuCalcDetailsAreaView.prototype.getName=function(){return this.m_nameInput.getValue()};e.OuCalcDetailsAreaView.prototype.hasErrors=function(){return this.m_validator.validate().hasErrors()};e.OuCalcDetailsAreaView.prototype.setInitialData=function(e,t){this._setInitialData(e,t);this.m_idInput.setValue(e);this.m_nameInput.setValue(t)};e.OuCalcDetailsAreaView.prototype.setupView=function(){};e.OuCalcDetailsAreaView.prototype.validate=function(){let t=this.m_validator.validate();this.clearErrors();if(t.hasErrors()){e.XStream.of(t.getErrors()).forEach(t=>{let i=null;let n=null;if(t.getCode()===e.FeErrorCodes.CALCULATION_ID_MANDATORY){i=this.m_idInput;n=e.OuCalcDetailsAreaViewI18n.ID_ERROR_MANDATORY}else if(t.getCode()===e.FeErrorCodes.CALCULATION_ID_EXISTING){i=this.m_idInput;n=e.OuCalcDetailsAreaViewI18n.ID_ERROR_EXISTING}else if(t.getCode()===e.FeErrorCodes.CALCULATION_ID_MAX_LENGTH){i=this.m_idInput;n=e.OuCalcDetailsAreaViewI18n.ID_ERROR_MAX_LENGTH}else if(t.getCode()===e.FeErrorCodes.CALCULATION_ID_INVALID_CHARS){i=this.m_idInput;n=e.OuCalcDetailsAreaViewI18n.ID_ERROR_INVALID_CHARS}else if(t.getCode()===e.FeErrorCodes.CALCULATION_NAME_MAX_LENGTH){i=this.m_nameInput;n=e.OuCalcDetailsAreaViewI18n.NAME_ERROR_MAX_LENGTH}if(e.notNull(i)){this.displayInlineErrorMsg(i,this.m_i18n.getText(n))}})}};e.OuCalcAssistanceViewV2=function(){};e.OuCalcAssistanceViewV2.prototype=new e.DfUiContentView;e.OuCalcAssistanceViewV2.prototype._ff_c="OuCalcAssistanceViewV2";e.OuCalcAssistanceViewV2.AI_PANEL_INDEX=1;e.OuCalcAssistanceViewV2.AI_PANEL_ITEM="ai";e.OuCalcAssistanceViewV2.FUNCTION_HELP_PANEL_INDEX=0;e.OuCalcAssistanceViewV2.FUNC_PANEL_ITEM="functionHelp";e.OuCalcAssistanceViewV2.SELECTION_CHANGE_SOURCE_INITIAL="initial";e.OuCalcAssistanceViewV2.SELECTION_CHANGE_SOURCE_PANEL_BUTTON="panelButton";e.OuCalcAssistanceViewV2.SELECTION_CHANGE_SOURCE_PERFORM_EXPLAIN="performExplain";e.OuCalcAssistanceViewV2.create=function(t){let i=new e.OuCalcAssistanceViewV2;i.m_documentationView=e.OuCalcDocumentationView.create(t);i.m_onCollapseConsumers=e.XConsumerCollection.create();i.m_onSelectionChangeConsumers=e.XBiConsumerCollection.create();return i};e.OuCalcAssistanceViewV2.createWithAI=function(t,i,n,o,r,a){let s=new e.OuCalcAssistanceViewV2;s.m_documentationView=e.OuCalcDocumentationView.create(i);s.m_aiView=e.OuCalcAIView.create(n,o,r,a);s.m_onCollapseConsumers=e.XConsumerCollection.create();s.m_onSelectionChangeConsumers=e.XBiConsumerCollection.create();s.m_initialData=t;s.m_withAi=true;return s};e.OuCalcAssistanceViewV2.prototype.m_aiView=null;e.OuCalcAssistanceViewV2.prototype.m_documentationView=null;e.OuCalcAssistanceViewV2.prototype.m_initialData=null;e.OuCalcAssistanceViewV2.prototype.m_onCollapseConsumers=null;e.OuCalcAssistanceViewV2.prototype.m_onSelectionChangeConsumers=null;e.OuCalcAssistanceViewV2.prototype.m_sidePanel=null;e.OuCalcAssistanceViewV2.prototype.m_withAi=false;e.OuCalcAssistanceViewV2.prototype.addAIPanelItem=function(){let t=this.m_sidePanel.addNewItem();t.setName(e.OuCalcAssistanceViewV2.AI_PANEL_ITEM);let i=this.getLocalization().getText(e.OuCalcFormulaEditorI18n.ASSISTANCE_AI_PANEL_TITLE);t.setText(i);t.setIcon("ai");t.setTooltip(i);this.m_aiView.renderView(this.getGenesis());this.m_aiView.getView().addCssClass("ffOuCalcAssistanceContentView");t.setContent(this.m_aiView.getView());this.m_aiView.setSelectedPanelByName(this.m_initialData.isEdit()?e.OuCalcAIView.EXPLAIN_PANEL_NAME:e.OuCalcAIView.GENERATE_PANEL_NAME);this.m_aiView.setExplainText(this.m_initialData.getFormula().getText());return t};e.OuCalcAssistanceViewV2.prototype.addDocumentationPanelItem=function(){let t=this.m_sidePanel.addNewItem();t.setName(e.OuCalcAssistanceViewV2.FUNC_PANEL_ITEM);let i=this.getLocalization().getText(e.OuCalcFormulaEditorI18n.ASSISTANCE_FUNC_HELP_PANEL_TITLE);t.setText(i);if(this.isAIEnabled()){t.setIcon("sys-help")}t.setTooltip(i);this.m_documentationView.renderView(this.getGenesis());this.m_documentationView.getView().addCssClass("ffOuCalcAssistanceContentView");t.setContent(this.m_documentationView.getView());return t};e.OuCalcAssistanceViewV2.prototype.addOnAddFormulaConsumers=function(t){if(this.m_withAi&&e.FeFeatureToggle.isActive(e.FeFeatureToggle.GEN_AI_PHASE1)){return this.m_aiView.addOnAddFormulaConsumers(t)}return null};e.OuCalcAssistanceViewV2.prototype.addOnCollapseConsumer=function(e){return this.m_onCollapseConsumers.addConsumer(e)};e.OuCalcAssistanceViewV2.prototype.addOnExplainFormulaConsumers=function(t){if(this.m_withAi&&e.FeFeatureToggle.isActive(e.FeFeatureToggle.GEN_AI_PHASE1)){return this.m_aiView.addOnExplainFormulaConsumers(t)}return null};e.OuCalcAssistanceViewV2.prototype.addOnSelectionChangeConsumer=function(e){return this.m_onSelectionChangeConsumers.addConsumer(e)};e.OuCalcAssistanceViewV2.prototype.buildViewUi=function(t){this.m_sidePanel=t.newRoot(e.UiType.SIDE_PANEL);this.m_sidePanel.addCssClass("ffOuCalcAssistancePanel");this.addDocumentationPanelItem();if(this.isAIEnabled()){this.addAIPanelItem();let t=e.XBooleanValue.create(true);this.m_sidePanel.registerOnAfterRender(e.UiLambdaAfterRenderListener.create(i=>{let n=this.m_sidePanel.getSelectedItem()!==null?this.m_sidePanel.getSelectedItem().getName():null;this.m_onCollapseConsumers.accept(e.XBooleanValue.create(e.isNull(n)));let o=t.getBoolean()?e.OuCalcAssistanceViewV2.SELECTION_CHANGE_SOURCE_INITIAL:e.OuCalcAssistanceViewV2.SELECTION_CHANGE_SOURCE_PANEL_BUTTON;this.m_onSelectionChangeConsumers.accept(n,o);t.setBoolean(false)}))}else{this.m_sidePanel.registerOnToggle(e.UiLambdaToggleListener.create(t=>{let i=t.getAffectedItem();if(e.notNull(i)){this.m_onCollapseConsumers.accept(e.XBooleanValue.create(!t.getParameters().getBooleanByKey("expanded")))}}))}};e.OuCalcAssistanceViewV2.prototype.destroyView=function(){this.m_onCollapseConsumers.clear();this.m_onCollapseConsumers=e.XObjectExt.release(this.m_onCollapseConsumers);this.m_onSelectionChangeConsumers.clear();this.m_onSelectionChangeConsumers=e.XObjectExt.release(this.m_onSelectionChangeConsumers);this.m_documentationView=e.XObjectExt.release(this.m_documentationView);this.m_sidePanel=e.XObjectExt.release(this.m_sidePanel);this.m_aiView=e.XObjectExt.release(this.m_aiView)};e.OuCalcAssistanceViewV2.prototype.generateDocumentation=function(t){if(e.XStringUtils.isNullOrEmpty(t)){this.m_documentationView.getView().addCssClass("ffOuCalcAssistanceContentViewEmpty")}else{this.m_documentationView.getView().removeCssClass("ffOuCalcAssistanceContentViewEmpty")}this.m_documentationView.generateDocumentation(t)};e.OuCalcAssistanceViewV2.prototype.getLocalization=function(){return e.XLocalizationCenter.getCenter()};e.OuCalcAssistanceViewV2.prototype.isAIEnabled=function(){return this.m_withAi};e.OuCalcAssistanceViewV2.prototype.isCollapsed=function(){return this.m_sidePanel.getSelectedItem()===null};e.OuCalcAssistanceViewV2.prototype.performExplain=function(t){if(this.isAIEnabled()){this.m_onSelectionChangeConsumers.accept(e.OuCalcAssistanceViewV2.AI_PANEL_ITEM,e.OuCalcAssistanceViewV2.SELECTION_CHANGE_SOURCE_PERFORM_EXPLAIN);this.setSelectedPanelByIndex(e.OuCalcAssistanceViewV2.AI_PANEL_INDEX);this.m_aiView.performExplain(t)}};e.OuCalcAssistanceViewV2.prototype.setCollapsed=function(e){if(this.m_sidePanel.getItems().size()===1){this.m_sidePanel.setExpanded(!e)}};e.OuCalcAssistanceViewV2.prototype.setCustomMode=function(t){if(e.notNull(this.m_aiView)){this.m_aiView.setCustomMode(t)}};e.OuCalcAssistanceViewV2.prototype.setSelectedPanelByIndex=function(e){this.m_sidePanel.setSelectedItemByIndex(e)};e.OuCalcAssistanceViewV2.prototype.setupView=function(){};e.OuCalcDocumentationView=function(){};e.OuCalcDocumentationView.prototype=new e.DfUiContentView;e.OuCalcDocumentationView.prototype._ff_c="OuCalcDocumentationView";e.OuCalcDocumentationView.DOC_CSS_CLASS="ffFeDoc";e.OuCalcDocumentationView.DOC_SECTION_CONTENT_CSS_CLASS="ffFeSectionContent";e.OuCalcDocumentationView.DOC_SECTION_CSS_CLASS="ffFeDocSection";e.OuCalcDocumentationView.DOC_SECTION_FIRST_LINE_CSS_CLASS="ffFeSectionFirstLine";e.OuCalcDocumentationView.DOC_SECTION_LABEL_CSS_CLASS="ffFeSectionLabel";e.OuCalcDocumentationView.DOC_SECTION_LINE_CSS_CLASS="ffFeSectionLine";e.OuCalcDocumentationView.EMPTY_DOC_CSS_CLASS="ffOuCalcAssistanceContentEmpty";e.OuCalcDocumentationView.EMPTY_STRING="";e.OuCalcDocumentationView.create=function(t){let i=new e.OuCalcDocumentationView;i.m_changedConsumers=e.XConsumerCollection.create();i.m_translatedDocMap=e.XHashMapByString.create();i.m_translationParser=e.XObjectExt.assertNotNull(t);return i};e.OuCalcDocumentationView.prototype.m_changedConsumers=null;e.OuCalcDocumentationView.prototype.m_documentationLayout=null;e.OuCalcDocumentationView.prototype.m_noFuncSelectedIllustratedMsg=null;e.OuCalcDocumentationView.prototype.m_title=null;e.OuCalcDocumentationView.prototype.m_translatedDocMap=null;e.OuCalcDocumentationView.prototype.m_translationParser=null;e.OuCalcDocumentationView.prototype.addChangeTitleConsumer=function(e){return this.m_changedConsumers.addConsumer(e)};e.OuCalcDocumentationView.prototype.announceUpdate=function(){e.UiFramework.currentFramework().announce(this.getLocalization().getText(e.OuCalcFormulaEditorI18n.ASSISTANCE_HELP_ANNOUNCE_UPDATE),e.UiAriaLiveMode.ASSERTIVE)};e.OuCalcDocumentationView.prototype.buildFirstLineV2=function(t,i){let n=e.XStringBuffer.create();n.append('<div class="');n.append(e.OuCalcDocumentationView.DOC_SECTION_FIRST_LINE_CSS_CLASS);n.append('">');n.append('<div role="heading" aria-level="6" class=" ');n.append(e.OuCalcDocumentationView.DOC_SECTION_LABEL_CSS_CLASS);n.append('">');n.append(i);n.append("</div>");n.append('<p class="');n.append(e.OuCalcDocumentationView.DOC_SECTION_CONTENT_CSS_CLASS);n.append('">');n.append(t);n.append("</p>");n.append("</div>");return n.toString()};e.OuCalcDocumentationView.prototype.buildSection=function(t,i,n,o,r){e.XObjectExt.assertNotNull(t);e.XCollectionUtils.forEach(t,t=>{e.XStringUtils.assertNotNullOrEmpty(t)});let a=t.createListCopy();if(o){a.insert(0,"")}if(e.isNull(i)){throw e.XException.createIllegalArgumentException("Label value must not be null.")}let s=e.XStringBuffer.create();s.append('<section class="');s.append(e.OuCalcDocumentationView.DOC_SECTION_CSS_CLASS);s.append(" ");s.append(n);s.append('"');s.append(' aria-label="');s.append(i);s.append('"');s.append(">");let l=0;if(r){let e=a.get(l++);s.append(this.buildFirstLineV2(e,i))}for(let t=l;t<a.size();t++){s.append('<div class="');s.append(e.OuCalcDocumentationView.DOC_SECTION_LINE_CSS_CLASS);s.append('">');s.append(a.get(t));s.append("</div>")}s.append("</section>");return s.toString()};e.OuCalcDocumentationView.prototype.buildViewUi=function(t){let i=t.newRoot(e.UiType.FLEX_LAYOUT);i.addCssClass("ffOuCalcDocumentationView");i.setDirection(e.UiFlexDirection.COLUMN);this.m_title=i.addNewItemOfType(e.UiType.TITLE);this.m_title.setTitleLevel(e.UiTitleLevel.H_5);this.m_title.setTitleStyle(e.UiTitleLevel.H_5);this.m_title.addCssClass("ffOuCalcDocumentationTitle");this.m_documentationLayout=i.addNewItemOfType(e.UiType.FLEX_LAYOUT);this.m_documentationLayout.setDirection(e.UiFlexDirection.COLUMN);this.m_documentationLayout.addCssClass("ffOuCalcDocumentationContent");this.generateEmptyDocumentation()};e.OuCalcDocumentationView.prototype.destroyView=function(){this.m_documentationLayout=null;this.m_changedConsumers.clear();this.m_changedConsumers=e.XObjectExt.release(this.m_changedConsumers);this.m_translatedDocMap.clear();this.m_translatedDocMap=e.XObjectExt.release(this.m_translatedDocMap)};e.OuCalcDocumentationView.prototype.generateDocumentation=function(t){let i=e.XStringUtils.isNullOrEmpty(t);this.m_documentationLayout.clearItems();this.m_documentationLayout.addAttribute("op-name",t);this.m_title.setVisible(!i);if(i){this.showEmptyDocumentation();return}this.m_documentationLayout.removeCssClass(e.OuCalcDocumentationView.EMPTY_DOC_CSS_CLASS);let n=this.getDocumentation(t);let o=e.XStringBuffer.create();o.append('<section class="');o.append(e.OuCalcDocumentationView.DOC_CSS_CLASS);o.append('" ');o.append('aria-label="');o.append(this.getLocalization().getTextWithPlaceholder(e.OuCalcFormulaEditorI18n.FE_DOCUMENTATION,t));o.append('">');if(n.hasSyntax()){o.append(this.buildSection(n.getSyntax(),this.getLocalization().getText(e.OuCalcFormulaEditorI18n.FE_SYNTAX),"ffFeDocSyntax",false,true))}if(n.hasSummary()){o.append(this.buildSection(n.getSummary(),this.getLocalization().getText(e.OuCalcFormulaEditorI18n.FE_SUMMARY),"ffFeDocSummary",false,false))}if(n.hasExample()){o.append(this.buildSection(n.getExample(),this.getLocalization().getText(e.OuCalcFormulaEditorI18n.FE_EXAMPLE),"ffFeDocExample",false,true))}if(n.hasRemark()){o.append(this.buildSection(n.getRemark(),this.getLocalization().getText(e.OuCalcFormulaEditorI18n.FE_REMARK),"ffFeDocRemark",true,true))}o.append("</section>");this.m_documentationLayout.addNewItemOfType(e.UiType.HTML).setValue(o.toString());this.announceUpdate();this.setTitleAndNotify(t)};e.OuCalcDocumentationView.prototype.generateEmptyDocumentation=function(){this.m_noFuncSelectedIllustratedMsg=this.m_documentationLayout.newItemOfType(e.UiType.ILLUSTRATED_MESSAGE);this.m_noFuncSelectedIllustratedMsg.setEnableDefaultTitleAndDescription(false);this.m_noFuncSelectedIllustratedMsg.setIllustrationType(e.UiIllustratedMessageType.TENT);this.m_noFuncSelectedIllustratedMsg.setIllustrationSize(e.UiIllustratedMessageSize.AUTO);this.m_noFuncSelectedIllustratedMsg.setTitle(this.getLocalization().getText(e.OuCalcFormulaEditorI18n.ASSISTANCE_HELP_EMPTY_TITLE));this.m_noFuncSelectedIllustratedMsg.setDescription(this.getLocalization().getText(e.OuCalcFormulaEditorI18n.ASSISTANCE_HELP_EMPTY_DESCRIPTION))};e.OuCalcDocumentationView.prototype.getDocumentation=function(t){let i=e.FeFormulaItemProvider.getInstance().getFormulaItem(t).get().getMetadata();let n=i.getDocumentation();let o=this.m_translatedDocMap.getByKey(t);if(e.isNull(o)){o=e.FeDoc.create(this.parseStringList(n.getSummary()),this.parseStringList(n.getSyntax()),this.parseStringList(n.getExample()),this.parseStringList(n.getRemark()));this.m_translatedDocMap.put(t,o)}return o};e.OuCalcDocumentationView.prototype.getLocalization=function(){return e.XLocalizationCenter.getCenter()};e.OuCalcDocumentationView.prototype.getTitle=function(){return this.m_title.getText()};e.OuCalcDocumentationView.prototype.notifyTitleChanged=function(){this.m_changedConsumers.accept(this.m_title.getText())};e.OuCalcDocumentationView.prototype.parseStringList=function(t){let i=e.XList.create();for(let e=0;e<t.size();e++){i.add(this.m_translationParser.parseText(t.get(e)))}return i};e.OuCalcDocumentationView.prototype.setTitleAndNotify=function(e){this.m_title.setText(e);this.notifyTitleChanged()};e.OuCalcDocumentationView.prototype.setupView=function(){};e.OuCalcDocumentationView.prototype.showEmptyDocumentation=function(){this.m_documentationLayout.addCssClass(e.OuCalcDocumentationView.EMPTY_DOC_CSS_CLASS);this.m_documentationLayout.addItem(this.m_noFuncSelectedIllustratedMsg);this.setTitleAndNotify(e.OuCalcDocumentationView.EMPTY_STRING)};e.OuCalcErrorsView=function(){};e.OuCalcErrorsView.prototype=new e.DfUiContentView;e.OuCalcErrorsView.prototype._ff_c="OuCalcErrorsView";e.OuCalcErrorsView.EMPTY_DOC_CSS_CLASS="ffOuCalcAssistanceContentEmpty";e.OuCalcErrorsView.EMPTY_STRING="";e.OuCalcErrorsView.create=function(){let t=new e.OuCalcErrorsView;t.m_changedConsumers=e.XConsumerCollection.create();t.m_isFormulaEmpty=true;return t};e.OuCalcErrorsView.prototype.m_changedConsumers=null;e.OuCalcErrorsView.prototype.m_errors=null;e.OuCalcErrorsView.prototype.m_isFormulaEmpty=false;e.OuCalcErrorsView.prototype.m_mainLayout=null;e.OuCalcErrorsView.prototype.m_messageView=null;e.OuCalcErrorsView.prototype.m_noErrorIllustratedMsg=null;e.OuCalcErrorsView.prototype.addChangeTitleConsumer=function(e){return this.m_changedConsumers.addConsumer(e)};e.OuCalcErrorsView.prototype.announceUpdate=function(){e.UiFramework.currentFramework().announce(this.getLocalization().getText(e.OuCalcFormulaEditorI18n.ASSISTANCE_ERRORS_ANNOUNCE_UPDATE),e.UiAriaLiveMode.ASSERTIVE)};e.OuCalcErrorsView.prototype.buildViewUi=function(t){this.m_mainLayout=t.newRoot(e.UiType.FLEX_LAYOUT);this.m_mainLayout.addCssClass("ffOuCalcErrorsView");this.m_mainLayout.setDirection(e.UiFlexDirection.COLUMN);this.m_messageView=this.m_mainLayout.addNewItemOfType(e.UiType.MESSAGE_VIEW);this.m_messageView.addCssClass("ffOuCalcAssistanceErrorList");this.m_noErrorIllustratedMsg=this.m_mainLayout.addNewItemOfType(e.UiType.ILLUSTRATED_MESSAGE);this.m_noErrorIllustratedMsg.setEnableDefaultTitleAndDescription(false);this.m_noErrorIllustratedMsg.addCssClass("ffOuCalcErrorEmptyMsg");this.m_noErrorIllustratedMsg.setIllustrationSize(e.UiIllustratedMessageSize.DOT);this.generateNoErrorsMessage()};e.OuCalcErrorsView.prototype.destroyView=function(){this.m_messageView=null;this.m_noErrorIllustratedMsg=null;this.m_changedConsumers.clear();this.m_changedConsumers=e.XObjectExt.release(this.m_changedConsumers)};e.OuCalcErrorsView.prototype.generateErrorList=function(t){this.m_mainLayout.removeCssClass(e.OuCalcErrorsView.EMPTY_DOC_CSS_CLASS);this.m_messageView.setVisible(true);this.m_noErrorIllustratedMsg.setVisible(false);for(let i=0;i<t.getErrors().size();i++){let n=t.getErrors().get(i).getText();let o=this.m_messageView.addNewItem();o.setTitle(n);o.setMessageType(e.UiMessageType.ERROR)}};e.OuCalcErrorsView.prototype.generateErrors=function(e){this.m_messageView.clearItems();this.m_messageView.back();if(!this.hasErrors()){this.generateNoErrorsMessage()}else{this.generateErrorList(this.m_errors)}if(e){this.announceUpdate();this.notifyTitleChanged()}};e.OuCalcErrorsView.prototype.generateNoErrorsMessage=function(){this.m_mainLayout.addCssClass(e.OuCalcErrorsView.EMPTY_DOC_CSS_CLASS);this.m_messageView.setVisible(false);this.m_noErrorIllustratedMsg.setVisible(true);let t=this.m_isFormulaEmpty?e.OuCalcFormulaEditorI18n.ASSISTANCE_ERRORS_EMPTY_FORMULA:e.OuCalcFormulaEditorI18n.ASSISTANCE_ERRORS_VALID_FORMULA;let i=this.m_isFormulaEmpty?e.UiIllustratedMessageType.SIMPLE_EMPTY_LIST:e.UiIllustratedMessageType.SUCCESS_SCREEN;this.m_noErrorIllustratedMsg.setIllustrationType(i);this.m_noErrorIllustratedMsg.setTitle(this.getLocalization().getText(t))};e.OuCalcErrorsView.prototype.getLocalization=function(){return e.XLocalizationCenter.getCenter()};e.OuCalcErrorsView.prototype.getTitle=function(){let t=this.m_messageView.getNumberOfItems();if(t===0){return e.OuCalcErrorsView.EMPTY_STRING}else if(t===1){return this.getLocalization().getText(e.OuCalcFormulaEditorI18n.ASSISTANCE_ERRORS_TITLE_SINGLE)}else{return this.getLocalization().getTextWithPlaceholder(e.OuCalcFormulaEditorI18n.ASSISTANCE_ERRORS_TITLE_MULTIPLE,e.XInteger.convertToString(t))}};e.OuCalcErrorsView.prototype.hasChanged=function(t){let i=e.isNull(this.m_errors)||!this.m_errors.hasErrors();let n=e.isNull(t)||!t.hasErrors();return i!==n};e.OuCalcErrorsView.prototype.hasErrors=function(){return e.notNull(this.m_errors)&&this.m_errors.hasErrors()};e.OuCalcErrorsView.prototype.notifyTitleChanged=function(){this.m_changedConsumers.accept(this.getTitle())};e.OuCalcErrorsView.prototype.setErrors=function(e){let t=this.hasChanged(e);this.m_errors=e;this.generateErrors(t)};e.OuCalcErrorsView.prototype.setFormulaEmpty=function(e){this.m_isFormulaEmpty=e;if(!this.hasErrors()){this.generateNoErrorsMessage()}};e.OuCalcErrorsView.prototype.setupView=function(){};e.OuCalcAIDisclaimerWidget=function(){};e.OuCalcAIDisclaimerWidget.prototype=new e.DfUiWidget;e.OuCalcAIDisclaimerWidget.prototype._ff_c="OuCalcAIDisclaimerWidget";e.OuCalcAIDisclaimerWidget.create=function(){return new e.OuCalcAIDisclaimerWidget};e.OuCalcAIDisclaimerWidget.prototype.destroyWidget=function(){};e.OuCalcAIDisclaimerWidget.prototype.getLocalization=function(){return e.XLocalizationCenter.getCenter()};e.OuCalcAIDisclaimerWidget.prototype.getWidgetControl=function(t){return t.newControl(e.UiType.FLEX_LAYOUT)};e.OuCalcAIDisclaimerWidget.prototype.layoutWidget=function(t){t.setDirection(e.UiFlexDirection.ROW);t.addCssClass("ffOuCalcAIDisclaimer");let i=e.XStringUtils.concatenate3(this.getLocalization().getText(e.OuCalcFormulaEditorI18n.FORMULA_EXPLAIN_DISCLAIMER_PART1)," ",this.getLocalization().getText(e.OuCalcFormulaEditorI18n.FORMULA_EXPLAIN_DISCLAIMER_PART2));t.addNewItemOfType(e.UiType.TEXT).setText(i).setTooltip(i)};e.OuCalcAIDisclaimerWidget.prototype.setupWidget=function(){};e.OuCalcCodeEditorViewV2=function(){};e.OuCalcCodeEditorViewV2.prototype=new e.DfUiContentView;e.OuCalcCodeEditorViewV2.prototype._ff_c="OuCalcCodeEditorViewV2";e.OuCalcCodeEditorViewV2.ERROR_STATE_CSS_CLASS="ffOuCalcCodeEditorViewErrorState";e.OuCalcCodeEditorViewV2.create=function(t,i){let n=new e.OuCalcCodeEditorViewV2;n.m_onFuncHelpPressConsumers=e.XConsumerCollection.create();n.m_onExplainPressConsumers=e.XConsumerCollection.create();n.m_codeEditorWidget=e.OuCalcCodeEditorWidget.create(t,n.getLocalization().getText(e.OuCalcFormulaEditorI18n.EDITOR_NAME_FORMULA));n.m_errorsView=e.OuCalcErrorsViewV2.create();n.m_shouldFocus=false;n.m_hasError=false;n.m_preferences=i;n.m_explainEnabled=true;return n};e.OuCalcCodeEditorViewV2.prototype.m_aiExplainBtn=null;e.OuCalcCodeEditorViewV2.prototype.m_codeEditorWidget=null;e.OuCalcCodeEditorViewV2.prototype.m_errorLayout=null;e.OuCalcCodeEditorViewV2.prototype.m_errorsView=null;e.OuCalcCodeEditorViewV2.prototype.m_explainEnabled=false;e.OuCalcCodeEditorViewV2.prototype.m_hasError=false;e.OuCalcCodeEditorViewV2.prototype.m_loadingIndicator=null;e.OuCalcCodeEditorViewV2.prototype.m_mainLayout=null;e.OuCalcCodeEditorViewV2.prototype.m_onExplainPressConsumers=null;e.OuCalcCodeEditorViewV2.prototype.m_onFuncHelpPressConsumers=null;e.OuCalcCodeEditorViewV2.prototype.m_preferences=null;e.OuCalcCodeEditorViewV2.prototype.m_shouldFocus=false;e.OuCalcCodeEditorViewV2.prototype.m_showErrorsTglBtn=null;e.OuCalcCodeEditorViewV2.prototype.m_showFuncHelpTglBtn=null;e.OuCalcCodeEditorViewV2.prototype.m_toolbar=null;e.OuCalcCodeEditorViewV2.prototype.addAIButtons=function(){this.m_aiExplainBtn=this.addNewToolbarButton(e.OuCalcFormulaEditorI18n.FORMULA_EXPLAIN_TEXT,"ffOuCCEditorExplainBtn",e.UiLambdaPressListener.create(e=>{this.m_onExplainPressConsumers.accept(null)}));this.m_aiExplainBtn.setIcon("ai")};e.OuCalcCodeEditorViewV2.prototype.addKeyboardHandlerToEditorFromModule=function(){this.m_codeEditorWidget.addKeyboardHandlerToEditorFromModule()};e.OuCalcCodeEditorViewV2.prototype.addNewToolbarButton=function(t,i,n){let o=this.getLocalization().getText(t);let r=this.m_toolbar.addNewItemOfType(e.UiType.BUTTON);r.setButtonType(e.UiButtonType.TRANSPARENT);r.setText(o);r.addCssClass(i);r.registerOnPress(n);return r};e.OuCalcCodeEditorViewV2.prototype.addNewToolbarIconToggleButton=function(t,i,n,o,r){let a=this.getLocalization().getText(n);let s=this.m_toolbar.addNewItemOfType(e.UiType.TOGGLE_BUTTON);s.setIcon(i);s.setTooltip(a);s.addCssClass(o);s.setButtonType(e.isNull(t)?e.UiButtonType.TRANSPARENT:t);s.registerOnPress(r);return s};e.OuCalcCodeEditorViewV2.prototype.addOnExplainPressConsumers=function(e){return this.m_onExplainPressConsumers.addConsumer(e)};e.OuCalcCodeEditorViewV2.prototype.addOnFunctionHelpPressConsumer=function(e){return this.m_onFuncHelpPressConsumers.addConsumer(e)};e.OuCalcCodeEditorViewV2.prototype.addOnGenerationPressConsumer=function(e){return null};e.OuCalcCodeEditorViewV2.prototype.addOnMoreErrorPressConsumer=function(e){return null};e.OuCalcCodeEditorViewV2.prototype.buildToolbar=function(t){this.m_toolbar=t.addNewItemOfType(e.UiType.TOOLBAR);this.m_toolbar.addCssClass("ffOuCCEditorToolbar");let i=this.m_toolbar.addNewItemOfType(e.UiType.LABEL);let n=this.getLocalization().getText(e.OuCalcFormulaEditorI18n.EDITOR_LABEL);i.addCssClass("ffOuCCEditorTitle");i.addCssClass("ffOuCalcTitle");i.setText(n);i.setLabelFor(this.m_codeEditorWidget.getView());this.m_loadingIndicator=this.m_toolbar.addNewItemOfType(e.UiType.ACTIVITY_INDICATOR);this.m_loadingIndicator.setIconSize(e.UiCssLength.create("0.5rem"));this.m_loadingIndicator.setMargin(e.UiCssBoxEdges.create("0 0 0 1rem"));this.m_loadingIndicator.setVisible(false);this.m_loadingIndicator.setTooltip(this.getLocalization().getText(e.OuCalcFormulaEditorI18n.EDITOR_SUGGESTIONS_TOOLTIP));this.m_toolbar.addNewItemOfType(e.UiType.SPACER);this.m_showErrorsTglBtn=this.addNewToolbarIconToggleButton(e.UiButtonType.NEGATIVE,"error",e.OuCalcFormulaEditorI18n.EDITOR_SHOW_ERRORS_BTN,"ffOuCCEditorErrorMessagesBtn",e.UiLambdaPressListener.create(e=>{this.setErrorsViewVisible(this.m_showErrorsTglBtn.isPressed())}));this.m_showErrorsTglBtn.setVisible(false);if(this.m_preferences.isGenAiEnabled()){this.addAIButtons();this.m_toolbar.addNewItemOfType(e.UiType.SEPARATOR)}this.addNewToolbarButton(e.OuCalcFormulaEditorI18n.EDITOR_FORMAT_BTN,"ffOuCCEditorFormatBtn",e.UiLambdaPressListener.create(e=>{if(!this.m_hasError){this.m_codeEditorWidget.formatEditorText()}}));if(!this.m_preferences.isGenAiEnabled()){this.m_toolbar.addNewItemOfType(e.UiType.SEPARATOR);this.m_showFuncHelpTglBtn=this.addNewToolbarIconToggleButton(e.UiButtonType.TRANSPARENT,"sys-help",e.OuCalcFormulaEditorI18n.EDITOR_SHOW_FUNC_HELP_BTN,"ffOuCCEditorFuncHelpToggleBtn",e.UiLambdaPressListener.create(t=>{this.m_onFuncHelpPressConsumers.accept(e.XBooleanValue.create(!this.m_showFuncHelpTglBtn.isPressed()))}))}};e.OuCalcCodeEditorViewV2.prototype.buildViewUi=function(t){this.m_mainLayout=t.newRoot(e.UiType.FLEX_LAYOUT);this.m_mainLayout.addCssClass("ffOuCalcCodeEditorView");this.m_mainLayout.setDirection(e.UiFlexDirection.COLUMN);let i=this.m_mainLayout.addNewItemOfType(e.UiType.FLEX_LAYOUT);i.addCssClass("ffOuCalcCodeEditorLayout");i.setDirection(e.UiFlexDirection.COLUMN);this.buildToolbar(i);this.m_codeEditorWidget.renderView(t);i.addItem(this.m_codeEditorWidget.getView());this.m_errorLayout=this.m_mainLayout.addNewItemOfType(e.UiType.FLEX_LAYOUT);this.m_errorLayout.addCssClass("ffOuCalcCodeErrorsLayout");this.m_errorLayout.setDirection(e.UiFlexDirection.COLUMN);this.m_errorsView.renderView(t);this.m_errorLayout.addItem(this.m_errorsView.getView());this.m_errorsView.addRegisterOnCloseConsumer(e=>{this.setErrorsViewVisible(false);this.m_codeEditorWidget.focus()});this.m_errorsView.getView().registerOnAfterRender(e.UiLambdaAfterRenderListener.create(e=>{if(this.m_shouldFocus){this.m_codeEditorWidget.focus()}this.m_shouldFocus=false}));this.setErrorsViewVisible(false);this.updateButtonsEnable();this.setOnChange(e=>{this.updateButtonsEnable()})};e.OuCalcCodeEditorViewV2.prototype.destroyView=function(){this.m_onFuncHelpPressConsumers.clear();this.m_onFuncHelpPressConsumers=e.XObjectExt.release(this.m_onFuncHelpPressConsumers);this.m_onExplainPressConsumers.clear();this.m_onExplainPressConsumers=e.XObjectExt.release(this.m_onExplainPressConsumers);this.m_codeEditorWidget=e.XObjectExt.release(this.m_codeEditorWidget);this.m_aiExplainBtn=null;this.m_loadingIndicator=e.XObjectExt.release(this.m_loadingIndicator);this.m_toolbar=null;this.m_errorLayout=null;this.m_errorsView=e.XObjectExt.release(this.m_errorsView);this.m_showErrorsTglBtn=null;this.m_showFuncHelpTglBtn=null;this.m_mainLayout=null};e.OuCalcCodeEditorViewV2.prototype.disableAutoCompletions=function(){this.m_codeEditorWidget.disableAutoCompletions()};e.OuCalcCodeEditorViewV2.prototype.enableAutoCompletions=function(){this.m_codeEditorWidget.enableAutoCompletions()};e.OuCalcCodeEditorViewV2.prototype.focus=function(){this.m_codeEditorWidget.focus()};e.OuCalcCodeEditorViewV2.prototype.getLocalization=function(){return e.OuCalcFormulaEditorI18n.getLocalization()};e.OuCalcCodeEditorViewV2.prototype.getSelectedText=function(){return this.m_codeEditorWidget.getView().getSelectedText()};e.OuCalcCodeEditorViewV2.prototype.insertText=function(t){if(e.notNull(this.m_codeEditorWidget)){this.m_codeEditorWidget.insertText(t)}};e.OuCalcCodeEditorViewV2.prototype.openHintsList=function(){this.m_codeEditorWidget.openHintsList()};e.OuCalcCodeEditorViewV2.prototype.setBusy=function(e){this.m_mainLayout.setBusy(e)};e.OuCalcCodeEditorViewV2.prototype.setBusyNonBlocking=function(e){this.m_loadingIndicator.setVisible(e)};e.OuCalcCodeEditorViewV2.prototype.setCtrlSpacePressedProcedure=function(e){this.m_codeEditorWidget.setCtrlSpacePressedProcedure(e)};e.OuCalcCodeEditorViewV2.prototype.setCursorPosition=function(e){this.m_codeEditorWidget.setCursorPosition(e)};e.OuCalcCodeEditorViewV2.prototype.setCustomCompleterJson=function(e){this.m_codeEditorWidget.setCustomCompleterJson(e)};e.OuCalcCodeEditorViewV2.prototype.setCustomMode=function(e){this.m_codeEditorWidget.setCustomMode(e)};e.OuCalcCodeEditorViewV2.prototype.setErrorState=function(t){if(t){this.getView().addCssClass(e.OuCalcCodeEditorViewV2.ERROR_STATE_CSS_CLASS)}else{this.getView().removeCssClass(e.OuCalcCodeEditorViewV2.ERROR_STATE_CSS_CLASS)}};e.OuCalcCodeEditorViewV2.prototype.setErrorsViewVisible=function(t){if(t){this.m_mainLayout.removeCssClass("ffOuCalcFullView")}else{this.m_mainLayout.addCssClass("ffOuCalcFullView")}this.m_showErrorsTglBtn.setPressed(t);this.m_showErrorsTglBtn.setTooltip(this.getLocalization().getText(t?e.OuCalcFormulaEditorI18n.EDITOR_HIDE_ERRORS_BTN:e.OuCalcFormulaEditorI18n.EDITOR_SHOW_ERRORS_BTN));this.m_errorLayout.setVisible(t)};e.OuCalcCodeEditorViewV2.prototype.setExplainFormulaEnabled=function(e){this.m_explainEnabled=e;this.updateButtonsEnable()};e.OuCalcCodeEditorViewV2.prototype.setFormula=function(e){this.m_codeEditorWidget.setFormula(e)};e.OuCalcCodeEditorViewV2.prototype.setFunctionHelpPressed=function(t){if(e.isNull(this.m_showFuncHelpTglBtn)){return}this.m_showFuncHelpTglBtn.setTooltip(this.getLocalization().getText(t?e.OuCalcFormulaEditorI18n.EDITOR_HIDE_FUNC_HELP_BTN:e.OuCalcFormulaEditorI18n.EDITOR_SHOW_FUNC_HELP_BTN));this.m_showFuncHelpTglBtn.setPressed(t)};e.OuCalcCodeEditorViewV2.prototype.setNaturalLanguageDescription=function(e){};e.OuCalcCodeEditorViewV2.prototype.setOnChange=function(e){this.m_codeEditorWidget.addOnChangeConsumer(e)};e.OuCalcCodeEditorViewV2.prototype.setOnCursorChange=function(e){this.m_codeEditorWidget.addOnCursorChangeConsumer(e)};e.OuCalcCodeEditorViewV2.prototype.setupView=function(){};e.OuCalcCodeEditorViewV2.prototype.updateButtonsEnable=function(){if(e.notNull(this.m_aiExplainBtn)){this.m_aiExplainBtn.setEnabled(this.m_explainEnabled&&e.XStringUtils.isNotNullAndNotEmpty(this.m_codeEditorWidget.getView().getValue()))}};e.OuCalcCodeEditorViewV2.prototype.updateError=function(t){this.m_errorsView.setErrors(t);this.m_shouldFocus=true;this.m_hasError=t.hasErrors();this.m_errorLayout.setVisible(false);this.setErrorsViewVisible(t.hasErrors());this.setErrorState(t.hasErrors());this.m_showErrorsTglBtn.setText(e.XInteger.convertToString(t.getErrors().size()));this.m_showErrorsTglBtn.setVisible(t.hasErrors());this.updateButtonsEnable()};e.OuCalcCodeEditorWidget=function(){};e.OuCalcCodeEditorWidget.prototype=new e.DfUiWidget;e.OuCalcCodeEditorWidget.prototype._ff_c="OuCalcCodeEditorWidget";e.OuCalcCodeEditorWidget.ARGUMENT_POSITION="$1";e.OuCalcCodeEditorWidget.CODE_TYPE="plain_text";e.OuCalcCodeEditorWidget.CTRL_KEY="ControlLeft";e.OuCalcCodeEditorWidget.EMPTY_STRING="";e.OuCalcCodeEditorWidget.FONT_FAMILY='"72Mono", "72Monofull", lucida console, monospace';e.OuCalcCodeEditorWidget.FONT_SIZE="14px";e.OuCalcCodeEditorWidget.HINT_PREFIX_IDENTIFIER_REGEX="[\\[]";e.OuCalcCodeEditorWidget.READONLY_CSS_NAME="ffOuCalcCodeEditorWidgetDisabled";e.OuCalcCodeEditorWidget.SPACE_KEY="Space";e.OuCalcCodeEditorWidget.START_AUTOCOMPLETE_COMMAND="startAutocomplete";e.OuCalcCodeEditorWidget.VALUE_OF_CODEEDITOR_KEY="value";e.OuCalcCodeEditorWidget.create=function(t,i){let n=new e.OuCalcCodeEditorWidget;n.m_formulaPresentation=t;n.m_ctrlKeyPressed=false;n.m_textChangeConsumers=e.XConsumerCollection.create();n.m_cursorChangeConsumers=e.XConsumerCollection.create();n.m_ctrlSpacePressedProcedures=e.XProcedureCollection.create();n.m_name=i;return n};e.OuCalcCodeEditorWidget.prototype.m_ctrlKeyPressed=false;e.OuCalcCodeEditorWidget.prototype.m_ctrlSpacePressedProcedures=null;e.OuCalcCodeEditorWidget.prototype.m_cursorChangeConsumers=null;e.OuCalcCodeEditorWidget.prototype.m_formulaPresentation=null;e.OuCalcCodeEditorWidget.prototype.m_name=null;e.OuCalcCodeEditorWidget.prototype.m_textChangeConsumers=null;e.OuCalcCodeEditorWidget.prototype.addKeyboardHandlerToEditorFromModule=function(){this.getEditor().runModule(e.FeKeyboardHandler.getModuleName())};e.OuCalcCodeEditorWidget.prototype.addOnChangeConsumer=function(e){return this.m_textChangeConsumers.addConsumer(e)};e.OuCalcCodeEditorWidget.prototype.addOnCursorChangeConsumer=function(e){return this.m_cursorChangeConsumers.addConsumer(e)};e.OuCalcCodeEditorWidget.prototype.announceUpdate=function(){let t=e.XStringUtils.isNullOrEmpty(this.m_name)?this.getLocalization().getText(e.OuCalcFormulaEditorI18n.EDITOR_ANNOUNCE_UPDATE):this.getLocalization().getTextWithPlaceholder(e.OuCalcFormulaEditorI18n.EDITOR_NAMED_ANNOUNCE_UPDATE,this.m_name);e.UiFramework.currentFramework().announce(t,e.UiAriaLiveMode.ASSERTIVE)};e.OuCalcCodeEditorWidget.prototype.clear=function(){this.setValue(null)};e.OuCalcCodeEditorWidget.prototype.destroyWidget=function(){this.m_cursorChangeConsumers.clear();this.m_cursorChangeConsumers=e.XObjectExt.release(this.m_cursorChangeConsumers);this.m_textChangeConsumers.clear();this.m_textChangeConsumers=e.XObjectExt.release(this.m_textChangeConsumers);this.m_ctrlSpacePressedProcedures.clear();this.m_ctrlSpacePressedProcedures=e.XObjectExt.release(this.m_ctrlSpacePressedProcedures);e.FeCustomAceOverrides.create().reset()};e.OuCalcCodeEditorWidget.prototype.disableAutoCompletions=function(){this.getEditor().removeCommand(e.OuCalcCodeEditorWidget.START_AUTOCOMPLETE_COMMAND,true)};e.OuCalcCodeEditorWidget.prototype.enableAutoCompletions=function(){this.getEditor().addCommand(e.OuCalcCodeEditorWidget.START_AUTOCOMPLETE_COMMAND)};e.OuCalcCodeEditorWidget.prototype.focus=function(){this.getEditor().focus()};e.OuCalcCodeEditorWidget.prototype.formatEditorText=function(){let t=e.FeFormula.createWithDisplayFormula(this.getEditor().getValue(),this.m_formulaPresentation);let i=e.OuCalcFormulaFormatter.create().formatFormula(t.getText());this.setFormula(e.FeFormula.create(i,this.m_formulaPresentation))};e.OuCalcCodeEditorWidget.prototype.getEditor=function(){return this.getView()};e.OuCalcCodeEditorWidget.prototype.getFormula=function(){return e.FeFormula.createWithDisplayFormula(this.getEditor().getValue(),this.m_formulaPresentation)};e.OuCalcCodeEditorWidget.prototype.getLocalization=function(){return e.OuCalcFormulaEditorI18n.getLocalization()};e.OuCalcCodeEditorWidget.prototype.getWidgetControl=function(t){let i=t.newControl(e.UiType.CODE_EDITOR);i.addCssClass("ffOuCalcCodeEditorWidget");i.setWidth(null);return i};e.OuCalcCodeEditorWidget.prototype.insertText=function(t){e.XObjectExt.assertStringNotNullAndNotEmpty(t);let i=this.m_formulaPresentation.getDisplayText(t);let n=this.getEditor().getCursorPosition();let o=e.XString.indexOf(i,e.OuCalcCodeEditorWidget.ARGUMENT_POSITION);if(o===-1){o=e.XString.size(i)}this.getEditor().insertText(e.XString.replace(i,e.OuCalcCodeEditorWidget.ARGUMENT_POSITION,e.OuCalcCodeEditorWidget.EMPTY_STRING)).setCursorPosition(e.UiCursorPosition.create(n.getRow(),n.getColumn()+o));this.focus();this.announceUpdate()};e.OuCalcCodeEditorWidget.prototype.layoutWidget=function(t){t.setCodeType(e.OuCalcCodeEditorWidget.CODE_TYPE);t.useMaxSpace();t.setFontSize(e.UiCssLength.create(e.OuCalcCodeEditorWidget.FONT_SIZE));t.setFontFamily(e.OuCalcCodeEditorWidget.FONT_FAMILY);t.registerOnLiveChange(e.UiLambdaLiveChangeListener.create(t=>{let i=t.getParameters().getStringByKeyExt(e.OuCalcCodeEditorWidget.VALUE_OF_CODEEDITOR_KEY,"");this.m_textChangeConsumers.accept(e.FeFormula.createWithDisplayFormula(i,this.m_formulaPresentation))}));t.registerOnCursorChange(e.UiLambdaCursorChangeListener.create(e=>{this.m_cursorChangeConsumers.accept(this.getEditor().getCursorPosition())}));t.registerOnKeyDown(e.UiLambdaKeyDownListener.create(t=>{if(e.XString.isEqual(t.getCode(),e.OuCalcCodeEditorWidget.CTRL_KEY)&&!this.m_ctrlKeyPressed){this.m_ctrlKeyPressed=true}else{if(e.XString.isEqual(t.getCode(),e.OuCalcCodeEditorWidget.SPACE_KEY)){if(this.m_ctrlKeyPressed){this.m_ctrlKeyPressed=false;this.m_ctrlSpacePressedProcedures.execute()}}}}));t.registerOnKeyUp(e.UiLambdaKeyUpListener.create(t=>{if(e.XString.isEqual(t.getCode(),e.OuCalcCodeEditorWidget.CTRL_KEY)){this.m_ctrlKeyPressed=false}}));e.FeCustomAceOverrides.create().apply()};e.OuCalcCodeEditorWidget.prototype.openHintsList=function(){if(this.getEditor().getCustomCompleter()!==null&&this.getEditor().getCustomCompleter().getCompletions().hasElements()){this.getEditor().executeCommand(e.OuCalcCodeEditorWidget.START_AUTOCOMPLETE_COMMAND)}};e.OuCalcCodeEditorWidget.prototype.setBusy=function(e){this.getEditor().setBusy(e)};e.OuCalcCodeEditorWidget.prototype.setCtrlSpacePressedProcedure=function(e){this.m_ctrlSpacePressedProcedures.addProcedure(e)};e.OuCalcCodeEditorWidget.prototype.setCursorPosition=function(e){this.getEditor().setCursorPosition(e)};e.OuCalcCodeEditorWidget.prototype.setCustomCompleterJson=function(t){let i=e.PrList.create();i.add(e.PrString.createWithValue(e.OuCalcCodeEditorWidget.HINT_PREFIX_IDENTIFIER_REGEX));this.getEditor().setCustomCompleter(e.UiCustomCompleter.create(t,i))};e.OuCalcCodeEditorWidget.prototype.setCustomMode=function(e){this.getEditor().setCodeType(e)};e.OuCalcCodeEditorWidget.prototype.setEditable=function(t){this.getEditor().setEditable(t);if(t){this.getEditor().removeCssClass(e.OuCalcCodeEditorWidget.READONLY_CSS_NAME)}else{this.getEditor().addCssClass(e.OuCalcCodeEditorWidget.READONLY_CSS_NAME)}};e.OuCalcCodeEditorWidget.prototype.setEditorValue=function(e){this.getEditor().setValue(e)};e.OuCalcCodeEditorWidget.prototype.setFormula=function(e){this.setValue(e.getDisplayText())};e.OuCalcCodeEditorWidget.prototype.setValue=function(e){this.setEditorValue(e);this.focus();this.announceUpdate()};e.OuCalcCodeEditorWidget.prototype.setupWidget=function(){};e.OuCalcDisplayTypeWidget=function(){};e.OuCalcDisplayTypeWidget.prototype=new e.DfUiWidget;e.OuCalcDisplayTypeWidget.prototype._ff_c="OuCalcDisplayTypeWidget";e.OuCalcDisplayTypeWidget.DISPLAY_OPTION_MENU_BUTTON_ICON="display";e.OuCalcDisplayTypeWidget.DISPLAY_OPTION_SELECTED_ICON="accept";e.OuCalcDisplayTypeWidget.create=function(){let t=new e.OuCalcDisplayTypeWidget;t.m_displayType=e.QueryPresentationUtils.DESCRIPTION;return t};e.OuCalcDisplayTypeWidget.prototype.m_displayType=null;e.OuCalcDisplayTypeWidget.prototype.m_displayTypeMenu=null;e.OuCalcDisplayTypeWidget.prototype.m_onDisplayTypeChanged=null;e.OuCalcDisplayTypeWidget.prototype.addDisplayOptionMenuItem=function(e,t){this.m_displayTypeMenu.addNewItem().setText(this.getLocalization().getText(e)).setCustomObject(t).registerOnPress(this.getDisplayOptionMenuItemPressListener())};e.OuCalcDisplayTypeWidget.prototype.destroyWidget=function(){this.m_displayType=null;this.m_displayTypeMenu=null;this.m_onDisplayTypeChanged=null};e.OuCalcDisplayTypeWidget.prototype.getDisplayOptionMenuItemPressListener=function(){return e.UiLambdaPressListener.create(e=>{let t=e.getControl();this.setDisplayType(t.getCustomObject());this.m_onDisplayTypeChanged(this.m_displayType)})};e.OuCalcDisplayTypeWidget.prototype.getLocalization=function(){return e.XLocalizationCenter.getCenter()};e.OuCalcDisplayTypeWidget.prototype.getWidgetControl=function(t){let i=t.newControl(e.UiType.MENU_BUTTON);i.addCssClass("ffFeDisplayOption");i.setIcon(e.OuCalcDisplayTypeWidget.DISPLAY_OPTION_MENU_BUTTON_ICON);i.setTooltip(this.getLocalization().getText(e.OuCalcFormulaEditorI18n.DISPLAY_OPTIONS));i.setButtonType(e.UiButtonType.TRANSPARENT);return i};e.OuCalcDisplayTypeWidget.prototype.layoutWidget=function(t){this.m_displayTypeMenu=this.getGenesis().newControl(e.UiType.MENU);this.m_displayTypeMenu.addCssClass("ffFeDisplayOptionMenu");this.addDisplayOptionMenuItem(e.OuCalcFormulaEditorI18n.DISPLAY_OPTIONS_DESCRIPTION,e.QueryPresentationUtils.DESCRIPTION);this.addDisplayOptionMenuItem(e.OuCalcFormulaEditorI18n.DISPLAY_OPTIONS_ID,e.QueryPresentationUtils.ID);this.addDisplayOptionMenuItem(e.OuCalcFormulaEditorI18n.DISPLAY_OPTIONS_ID_AND_DESCRIPTION,e.QueryPresentationUtils.ID_AND_DESCRIPTION);this.addDisplayOptionMenuItem(e.OuCalcFormulaEditorI18n.DISPLAY_OPTIONS_DESCRIPTION_AND_ID,e.QueryPresentationUtils.DESCRIPTION_AND_ID);t.setMenu(this.m_displayTypeMenu);this.updatedSelectedMenuItem()};e.OuCalcDisplayTypeWidget.prototype.setDisplayType=function(t){e.XObjectExt.assertNotNull(t);if(t!==this.m_displayType){this.m_displayType=t;this.updatedSelectedMenuItem()}};e.OuCalcDisplayTypeWidget.prototype.setOnDisplayTypeChanged=function(e){this.m_onDisplayTypeChanged=e};e.OuCalcDisplayTypeWidget.prototype.setupWidget=function(){};e.OuCalcDisplayTypeWidget.prototype.updatedSelectedMenuItem=function(){e.XStream.of(this.m_displayTypeMenu.getItems()).forEach(t=>{let i=t;if(i.getCustomObject()===this.m_displayType){i.setIcon(e.OuCalcDisplayTypeWidget.DISPLAY_OPTION_SELECTED_ICON).setSelected(true)}else{i.setIcon(null).setSelected(false)}})};e.OuCalcFormulaElementListContentView=function(){};e.OuCalcFormulaElementListContentView.prototype=new e.DfUiContentView;e.OuCalcFormulaElementListContentView.prototype._ff_c="OuCalcFormulaElementListContentView";e.OuCalcFormulaElementListContentView.prototype.m_debouncingSearchMs=0;e.OuCalcFormulaElementListContentView.prototype.m_enableSearch=false;e.OuCalcFormulaElementListContentView.prototype.m_header=null;e.OuCalcFormulaElementListContentView.prototype.m_mainLayout=null;e.OuCalcFormulaElementListContentView.prototype.m_noItemsIllustratedMsg=null;e.OuCalcFormulaElementListContentView.prototype.m_onSelectConsumers=null;e.OuCalcFormulaElementListContentView.prototype.m_panelWidgetList=null;e.OuCalcFormulaElementListContentView.prototype.m_panelsLayout=null;e.OuCalcFormulaElementListContentView.prototype.m_searchField=null;e.OuCalcFormulaElementListContentView.prototype.addOnSelectConsumer=function(e){return this.m_onSelectConsumers.addConsumer(e)};e.OuCalcFormulaElementListContentView.prototype.addPanel=function(e){this.m_panelWidgetList.add(e)};e.OuCalcFormulaElementListContentView.prototype.announceUpdate=function(){e.UiFramework.currentFramework().announce(this.getLocalization().getText(e.OuCalcFormulaEditorI18n.TAB_OBJECTS_ANNOUNCE_UPDATE),e.UiAriaLiveMode.ASSERTIVE)};e.OuCalcFormulaElementListContentView.prototype.buildViewUi=function(t){this.m_mainLayout=t.newRoot(e.UiType.FLEX_LAYOUT);this.m_mainLayout.setDirection(e.UiFlexDirection.COLUMN);this.m_mainLayout.addCssClass("ffFeElementListPanel");this.m_header=this.m_mainLayout.addNewItemOfType(e.UiType.FLEX_LAYOUT);this.m_header.setDirection(e.UiFlexDirection.ROW);this.m_header.addCssClass("ffFeElementListPanelHeader");if(this.m_enableSearch){this.m_searchField=this.m_header.addNewItemOfType(e.UiType.SEARCH_FIELD);if(this.m_debouncingSearchMs>0){this.m_searchField.registerOnLiveChange(e.UiLambdaLiveChangeWithDebounceListener.create(e=>{this.filterItems()},this.m_debouncingSearchMs))}else{this.m_searchField.registerOnLiveChange(e.UiLambdaLiveChangeListener.create(e=>{this.filterItems()}))}this.m_searchField.registerOnSearch(e.UiLambdaSearchListener.create(e=>{this.filterItems()}));this.m_searchField.addCssClass("ffFeElementListPanelSearch");this.m_noItemsIllustratedMsg=this.m_mainLayout.addNewItemOfType(e.UiType.ILLUSTRATED_MESSAGE);this.m_noItemsIllustratedMsg.addCssClass("ffFeElementListPanelNoItemsMsg");this.m_noItemsIllustratedMsg.setEnableDefaultTitleAndDescription(false);this.m_noItemsIllustratedMsg.setIllustrationType(e.UiIllustratedMessageType.NO_SEARCH_RESULTS);this.m_noItemsIllustratedMsg.setIllustrationSize(e.UiIllustratedMessageSize.AUTO);this.m_noItemsIllustratedMsg.setTitle(this.getLocalization().getText(e.OuCalcFormulaEditorI18n.LEFT_PANEL_NO_DATA_TITLE));this.m_noItemsIllustratedMsg.setDescription(this.getLocalization().getText(e.OuCalcFormulaEditorI18n.LEFT_PANEL_NO_DATA_DESCRIPTION));this.m_noItemsIllustratedMsg.setVisible(false)}this.m_panelsLayout=this.m_mainLayout.addNewItemOfType(e.UiType.FLEX_LAYOUT);this.m_panelsLayout.setDirection(e.UiFlexDirection.COLUMN);this.m_panelsLayout.addCssClass("ffFeElementListPanelContent");this.buildUI();if(!this.m_header.hasItems()){this.m_header.setVisible(false)}};e.OuCalcFormulaElementListContentView.prototype.destroyView=function(){this.m_searchField=null;this.m_noItemsIllustratedMsg=null;this.m_header=null;this.m_panelsLayout=null;this.m_mainLayout=null;this.m_onSelectConsumers.clear();this.m_onSelectConsumers=e.XObjectExt.release(this.m_onSelectConsumers);this.m_panelWidgetList.clear();this.m_panelWidgetList=e.XObjectExt.release(this.m_panelWidgetList)};e.OuCalcFormulaElementListContentView.prototype.filterItems=function(){e.XStream.of(this.m_panelWidgetList).forEach(e=>{e.filterItems(this.m_searchField.getValue())});this.updateNoItemsIllustratedMessageVisibility();this.announceUpdate()};e.OuCalcFormulaElementListContentView.prototype.getLocalization=function(){return e.XLocalizationCenter.getCenter()};e.OuCalcFormulaElementListContentView.prototype.onSelectConsumer=function(e){this.m_onSelectConsumers.accept(e)};e.OuCalcFormulaElementListContentView.prototype.setVisible=function(e){this.getView().setVisible(e)};e.OuCalcFormulaElementListContentView.prototype.setupInternal=function(t){this.m_enableSearch=t;this.m_debouncingSearchMs=0;this.m_onSelectConsumers=e.XConsumerCollection.create();this.m_panelWidgetList=e.XList.create()};e.OuCalcFormulaElementListContentView.prototype.setupView=function(){};e.OuCalcFormulaElementListContentView.prototype.updateNoItemsIllustratedMessageVisibility=function(){let t=!e.XStream.of(this.m_panelWidgetList).anyMatch(e=>e.hasVisibleItems());this.m_panelsLayout.setVisible(!t);this.m_noItemsIllustratedMsg.setVisible(t)};e.OuCalcFormulaElementListSidePanelView=function(){};e.OuCalcFormulaElementListSidePanelView.prototype=new e.DfUiContentView;e.OuCalcFormulaElementListSidePanelView.prototype._ff_c="OuCalcFormulaElementListSidePanelView";e.OuCalcFormulaElementListSidePanelView.create=function(){let t=new e.OuCalcFormulaElementListSidePanelView;t.m_onPressConsumers=e.XConsumerCollection.create();return t};e.OuCalcFormulaElementListSidePanelView.prototype.m_expandIcon=null;e.OuCalcFormulaElementListSidePanelView.prototype.m_onPressConsumers=null;e.OuCalcFormulaElementListSidePanelView.prototype.addOnPressConsumer=function(e){return this.m_onPressConsumers.addConsumer(e)};e.OuCalcFormulaElementListSidePanelView.prototype.buildViewUi=function(t){let i=t.newRoot(e.UiType.FLEX_LAYOUT);i.setDirection(e.UiFlexDirection.COLUMN);i.addCssClass("sapMIBar");i.addCssClass("ffOuCalcFormulaElementListSidePanel");this.m_expandIcon=this.newItem(e.OuCalcFormulaElementListConst.EXPAND_NAME,e.OuCalcFormulaElementListConst.EXPAND_ICON,this.getLocalization().getText(e.OuCalcFormulaEditorI18n.FE_BTN_EXPAND));let n=this.newItem(e.OuCalcFormulaElementListConst.FUNCTIONS_NAME,e.OuCalcFormulaElementListConst.FUNCTIONS_ICON,e.OuCalcFormulaElementListConst.getFunctionTooltip());let o=this.newItem(e.OuCalcFormulaElementListConst.OBJECTS_NAME,e.OuCalcFormulaElementListConst.OBJECTS_ICON,e.OuCalcFormulaElementListConst.getObjectsTooltip());let r=this.newItem(e.OuCalcFormulaElementListConst.OPERATORS_NAME,e.OuCalcFormulaElementListConst.OPERATIONS_ICON,e.OuCalcFormulaElementListConst.getOperatorsTooltip());i.addItem(this.m_expandIcon);i.addItem(o);i.addItem(n);i.addItem(r)};e.OuCalcFormulaElementListSidePanelView.prototype.destroyView=function(){this.m_onPressConsumers=e.XObjectExt.release(this.m_onPressConsumers)};e.OuCalcFormulaElementListSidePanelView.prototype.focus=function(){this.m_expandIcon.focus()};e.OuCalcFormulaElementListSidePanelView.prototype.getLocalization=function(){return e.OuCalcFormulaEditorI18n.getLocalization()};e.OuCalcFormulaElementListSidePanelView.prototype.newItem=function(t,i,n){let o=this.getGenesis().newControl(e.UiType.BUTTON);o.addAttribute(e.OuCalcFormulaElementListConst.ATTRIBUTE_NAME,t);o.setButtonType(e.UiButtonType.TRANSPARENT);o.addCssClass("ffFeSidePanelItem");o.setIcon(i);o.setTooltip(n);o.registerOnPress(e.UiLambdaPressListener.create(e=>{this.m_onPressConsumers.accept(t)}));return o};e.OuCalcFormulaElementListSidePanelView.prototype.setVisible=function(e){this.getView().setVisible(e)};e.OuCalcFormulaElementListSidePanelView.prototype.setupView=function(){};e.OuCalcFormulaElementListView=function(){};e.OuCalcFormulaElementListView.prototype=new e.DfUiContentView;e.OuCalcFormulaElementListView.prototype._ff_c="OuCalcFormulaElementListView";e.OuCalcFormulaElementListView.create=function(t,i,n,o,r){let a=new e.OuCalcFormulaElementListView;e.XObjectExt.assertNotNullExt(t,"Formula Items Provider null!");e.XObjectExt.assertNotNullExt(i,"Datasource Provider null!");e.XObjectExt.assertNotNullExt(n,"Configuration null!");a.m_formulaItems=e.XObjectExt.assertNotNull(t);a.m_datasource=e.XObjectExt.assertNotNull(i);a.m_feConfiguration=n;a.m_onSelectConsumers=e.XConsumerCollection.create();a.m_onCollapseConsumers=e.XConsumerCollection.create();a.m_preferences=e.XObjectExt.assertNotNull(o);a.m_variableManager=r;return a};e.OuCalcFormulaElementListView.prototype.m_calcOpView=null;e.OuCalcFormulaElementListView.prototype.m_datasource=null;e.OuCalcFormulaElementListView.prototype.m_feConfiguration=null;e.OuCalcFormulaElementListView.prototype.m_formulaItems=null;e.OuCalcFormulaElementListView.prototype.m_funcView=null;e.OuCalcFormulaElementListView.prototype.m_objView=null;e.OuCalcFormulaElementListView.prototype.m_onCollapseConsumers=null;e.OuCalcFormulaElementListView.prototype.m_onSelectConsumers=null;e.OuCalcFormulaElementListView.prototype.m_preferences=null;e.OuCalcFormulaElementListView.prototype.m_sidePanel=null;e.OuCalcFormulaElementListView.prototype.m_variableManager=null;e.OuCalcFormulaElementListView.prototype.m_variablesView=null;e.OuCalcFormulaElementListView.prototype.addFunctionPanelItem=function(){let t=this.m_sidePanel.addNewItem();t.setText(e.OuCalcFormulaElementListConst.getFunctionTooltip());t.addAttribute(e.OuCalcFormulaElementListConst.ATTRIBUTE_NAME,e.OuCalcFormulaElementListConst.FUNCTIONS_NAME);t.setIcon(e.OuCalcFormulaElementListConst.FUNCTIONS_ICON);t.setTooltip(e.OuCalcFormulaElementListConst.getFunctionTooltip());this.m_funcView=e.OuCalcFunctionsView.create(this.m_formulaItems);this.m_funcView.renderView(this.getGenesis());t.setContent(this.m_funcView.getView())};e.OuCalcFormulaElementListView.prototype.addObjectsPanelItem=function(){let t=this.m_sidePanel.addNewItem();t.setText(e.OuCalcFormulaElementListConst.getObjectsTooltip());t.addAttribute(e.OuCalcFormulaElementListConst.ATTRIBUTE_NAME,e.OuCalcFormulaElementListConst.OBJECTS_NAME);t.setIcon(e.OuCalcFormulaElementListConst.OBJECTS_ICON);t.setTooltip(e.OuCalcFormulaElementListConst.getObjectsTooltip());this.m_objView=e.OuCalcObjectsView.create(this.m_datasource,this.m_feConfiguration,this.m_preferences.isModelPrefixEnabled());this.m_objView.renderView(this.getGenesis());t.setContent(this.m_objView.getView())};e.OuCalcFormulaElementListView.prototype.addOnCollapseConsumer=function(e){return this.m_onCollapseConsumers.addConsumer(e)};e.OuCalcFormulaElementListView.prototype.addOnDisplayOptionPressedConsumer=function(e){if(this.m_preferences.isVariableSupportEnabled()){this.m_variablesView.addOnDisplayOptionPressedConsumer(e)}return this.m_objView.addOnDisplayOptionPressedConsumer(e)};e.OuCalcFormulaElementListView.prototype.addOnSelectConsumer=function(e){return this.m_onSelectConsumers.addConsumer(e)};e.OuCalcFormulaElementListView.prototype.addOnSelectFormulaItemConsumer=function(e){return this.m_funcView.addOnSelectFormulaItemConsumer(e)};e.OuCalcFormulaElementListView.prototype.addOnVariablesUpdatedProcedure=function(e){if(this.m_preferences.isVariableSupportEnabled()){return this.m_variablesView.addOnVariablesUpdatedProcedure(e)}return null};e.OuCalcFormulaElementListView.prototype.addOperatorsPanelItem=function(){let t=this.m_sidePanel.addNewItem();t.setText(e.OuCalcFormulaElementListConst.getOperatorsTooltip());t.addAttribute(e.OuCalcFormulaElementListConst.ATTRIBUTE_NAME,e.OuCalcFormulaElementListConst.OPERATORS_NAME);t.setIcon(e.OuCalcFormulaElementListConst.OPERATIONS_ICON);t.setTooltip(e.OuCalcFormulaElementListConst.getOperatorsTooltip());this.m_calcOpView=e.OuCalcOperatorsView.create(this.m_formulaItems);this.m_calcOpView.renderView(this.getGenesis());t.setContent(this.m_calcOpView.getView())};e.OuCalcFormulaElementListView.prototype.addVariablesPanelItem=function(){let t=this.m_sidePanel.addNewItem();t.setText(e.OuCalcFormulaElementListConst.getVariablesTooltip());t.addAttribute(e.OuCalcFormulaElementListConst.ATTRIBUTE_NAME,e.OuCalcFormulaElementListConst.VARIABLES_NAME);t.setIcon(e.OuCalcFormulaElementListConst.VARIABLES_ICON);t.setTooltip(e.OuCalcFormulaElementListConst.getVariablesTooltip());this.m_variablesView=e.OuCalcVariablesView.create(this.m_variableManager);this.m_variablesView.renderView(this.getGenesis());t.setContent(this.m_variablesView.getView())};e.OuCalcFormulaElementListView.prototype.buildViewUi=function(t){this.m_sidePanel=t.newRoot(e.UiType.SIDE_PANEL);this.m_sidePanel.addCssClass("ffOuCalcFormulaElementListView");this.m_sidePanel.setSidePanelPosition(e.UiSidePanelPosition.LEFT);this.m_sidePanel.registerOnToggle(e.UiLambdaToggleListener.create(t=>{let i=t.getAffectedItem();if(e.notNull(i)){this.m_onCollapseConsumers.accept(e.XBooleanValue.create(!t.getParameters().getBooleanByKey("expanded")))}}));this.addFunctionPanelItem();this.addObjectsPanelItem();this.addOperatorsPanelItem();if(this.m_preferences.isVariableSupportEnabled()){this.addVariablesPanelItem()}this.m_objView.addOnSelectConsumer(e=>{this.m_onSelectConsumers.accept(e)});this.m_calcOpView.addOnSelectConsumer(e=>{this.m_onSelectConsumers.accept(e)});this.m_funcView.addOnSelectConsumer(e=>{this.m_onSelectConsumers.accept(e)});if(this.m_preferences.isVariableSupportEnabled()){this.m_variablesView.addOnSelectConsumer(e=>{this.m_onSelectConsumers.accept(e)})}};e.OuCalcFormulaElementListView.prototype.destroyView=function(){this.m_formulaItems=null;this.m_preferences=null;this.m_datasource=null;this.m_sidePanel=null;this.m_onSelectConsumers.clear();this.m_onSelectConsumers=e.XObjectExt.release(this.m_onSelectConsumers);this.m_onCollapseConsumers.clear();this.m_onCollapseConsumers=e.XObjectExt.release(this.m_onCollapseConsumers);this.m_objView=e.XObjectExt.release(this.m_objView);this.m_funcView=e.XObjectExt.release(this.m_funcView);this.m_calcOpView=e.XObjectExt.release(this.m_calcOpView)};e.OuCalcFormulaElementListView.prototype.setCollapsed=function(e){if(!e){this.m_sidePanel.setSelectedItemByIndex(0)}else{this.m_sidePanel.setExpanded(false)}};e.OuCalcFormulaElementListView.prototype.setDisplayType=function(e){this.m_objView.setDisplayType(e);if(this.m_preferences.isVariableSupportEnabled()){this.m_variablesView.setDisplayType(e)}};e.OuCalcFormulaElementListView.prototype.setupView=function(){};e.OuCalcCustomTreeWidget=function(){};e.OuCalcCustomTreeWidget.prototype=new e.DfUiWidget;e.OuCalcCustomTreeWidget.prototype._ff_c="OuCalcCustomTreeWidget";e.OuCalcCustomTreeWidget.INITIAL_PADDING_LEFT_REM=1;e.OuCalcCustomTreeWidget.PADDING_LEFT_REM=1;e.OuCalcCustomTreeWidget.ROOT_DUMMY_NAME_="_CSTM_TREE_ROOT__";e.OuCalcCustomTreeWidget.create=function(){let t=new e.OuCalcCustomTreeWidget;t.m_root=e.OuCalcCustomTreeWidgetItem.createEmpty(e.OuCalcCustomTreeWidget.ROOT_DUMMY_NAME_);t.m_onItemClickConsumers=e.XConsumerCollection.create();t.m_onItemDblClickConsumers=e.XConsumerCollection.create();return t};e.OuCalcCustomTreeWidget.prototype.m_onItemClickConsumers=null;e.OuCalcCustomTreeWidget.prototype.m_onItemDblClickConsumers=null;e.OuCalcCustomTreeWidget.prototype.m_root=null;e.OuCalcCustomTreeWidget.prototype._setChildrenVisibility=function(t,i){e.XStream.of(t.getChildren()).forEach(e=>{let t=e.getUiItem();let n=i(e);t.setVisible(n);if(e.isExpanded()){this._setChildrenVisibility(e,i)}})};e.OuCalcCustomTreeWidget.prototype.addItem=function(e){return this.m_root.addItem(e)};e.OuCalcCustomTreeWidget.prototype.addOnItemClick=function(e){return this.m_onItemClickConsumers.addConsumer(e)};e.OuCalcCustomTreeWidget.prototype.addOnItemDoubleClick=function(e){return this.m_onItemDblClickConsumers.addConsumer(e)};e.OuCalcCustomTreeWidget.prototype.applyToItems=function(e){this.m_root.applyToItems(e)};e.OuCalcCustomTreeWidget.prototype.createListItem=function(t,i,n){let o=this.getGenesis().newControl(e.UiType.CUSTOM_LIST_ITEM);o.setCustomObject(t.getCustomObject());o.addCssClass("ffOuCustomTreeItem");if(t.isEnabled()){o.setListItemType(e.UiListItemType.ACTIVE);o.registerOnPress(e.UiLambdaPressListener.create(e=>{this.m_onItemClickConsumers.accept(t)}));o.registerOnDoubleClick(e.UiLambdaDoubleClickListener.create(e=>{this.m_onItemDblClickConsumers.accept(t)}))}else{o.setListItemType(e.UiListItemType.INACTIVE);o.addCssClass("ffOuCustomTreeItemDisabled")}o.addAttribute("item-level",e.XInteger.convertToString(n));o.addAttribute("item-name",t.getName());o.setPadding(e.UiCssBoxEdges.create(this.generatePaddingByLevel(n)));if(t.isRoot()||e.notNull(i)&&i===this.m_root){o.addCssClass("ffOuCustomTreeItemRoot")}else if(e.notNull(i)){o.addAttribute("item-parent",i.getName())}else{o.addCssClass("ffOuCustomTreeItemOrphan")}o.addCssClass(t.isLeaf()?"ffOuCustomTreeItemLeaf":"ffOuCustomTreeItemNode");return o};e.OuCalcCustomTreeWidget.prototype.destroyWidget=function(){this.m_root=e.XObjectExt.release(this.m_root);this.m_onItemClickConsumers=e.XObjectExt.release(this.m_onItemClickConsumers);this.m_onItemDblClickConsumers=e.XObjectExt.release(this.m_onItemDblClickConsumers)};e.OuCalcCustomTreeWidget.prototype.filterItems=function(e){this.m_root.filterItems(e);this.updateChildrenVisibility(this.m_root)};e.OuCalcCustomTreeWidget.prototype.generatePaddingByLevel=function(t){let i=e.OuCalcCustomTreeWidget.PADDING_LEFT_REM*t+e.OuCalcCustomTreeWidget.INITIAL_PADDING_LEFT_REM;return e.XStringUtils.concatenate3("0rem 0rem 0rem ",e.XDouble.convertToString(i),"rem")};e.OuCalcCustomTreeWidget.prototype.getChildren=function(){return this.m_root.getChildren()};e.OuCalcCustomTreeWidget.prototype.getContent=function(){return this.m_root.getContent()};e.OuCalcCustomTreeWidget.prototype.getCustomObject=function(){return this.m_root.getCustomObject()};e.OuCalcCustomTreeWidget.prototype.getItemByName=function(e){return this.m_root.getItemByName(e)};e.OuCalcCustomTreeWidget.prototype.getName=function(){return this.m_root.getName()};e.OuCalcCustomTreeWidget.prototype.getParent=function(){return this.m_root.getParent()};e.OuCalcCustomTreeWidget.prototype.getUiItem=function(){return null};e.OuCalcCustomTreeWidget.prototype.getVisibleItems=function(){return this.m_root.getVisibleItems()};e.OuCalcCustomTreeWidget.prototype.getWidgetControl=function(t){let i=t.newControl(e.UiType.LIST);i.addCssClass("ffOuCustomTreeWidget");return i};e.OuCalcCustomTreeWidget.prototype.hasVisibleItems=function(){return e.XStream.of(this.getView().getItems()).anyMatch(e=>e.isVisible())};e.OuCalcCustomTreeWidget.prototype.isEnabled=function(){return true};e.OuCalcCustomTreeWidget.prototype.isExpanded=function(){return this.m_root.isExpanded()};e.OuCalcCustomTreeWidget.prototype.isFiltered=function(){return false};e.OuCalcCustomTreeWidget.prototype.isLeaf=function(){return this.m_root.isLeaf()};e.OuCalcCustomTreeWidget.prototype.isRoot=function(){return true};e.OuCalcCustomTreeWidget.prototype.layoutWidget=function(t){e.XStream.of(this.m_root.getChildren()).forEach(e=>{this.renderTreeItem(e,0)});this.setItemExpanded(this.m_root,true)};e.OuCalcCustomTreeWidget.prototype.renderTreeItem=function(t,i){let n=t.getParent().isPresent()?t.getParent().get():null;let o=this.createListItem(t,n,i);this.getView().addItem(o);let r=o.setNewContent(e.UiType.FLEX_LAYOUT);r.addCssClass("ffOuCustomTreeItemLayout");r.setDirection(e.UiFlexDirection.ROW);let a=r.addNewItemOfType(e.UiType.BUTTON);a.setButtonType(e.UiButtonType.TRANSPARENT);a.addCssClass("ffOuCustomTreeItemExpand");a.setVisible(!t.isLeaf());let s=t.getContent();s.addCssClass("ffOuCustomTreeItemContent");r.addItem(s);t.setUiItem(o);if(!t.isLeaf()){this.renderTreeItemChildren(t,o,i);a.registerOnPress(e.UiLambdaPressListener.create(e=>{this.toggleItemExpanded(t)}));this.setItemExpanded(t,false)}};e.OuCalcCustomTreeWidget.prototype.renderTreeItemChildren=function(t,i,n){let o=e.XBooleanValue.create(true);e.XStream.of(t.getChildren()).forEach(e=>{o.setBoolean(o.getBoolean()&&e.isLeaf());this.renderTreeItem(e,n+1)});if(o.getBoolean()){i.addCssClass("ffOuCustomTreeItemLastNode")}};e.OuCalcCustomTreeWidget.prototype.setChildrenVisibility=function(e,t){this._setChildrenVisibility(e,e=>t&&!e.isFiltered())};e.OuCalcCustomTreeWidget.prototype.setContent=function(e){this.m_root.setContent(e)};e.OuCalcCustomTreeWidget.prototype.setExpanded=function(e){this.m_root.setExpanded(e)};e.OuCalcCustomTreeWidget.prototype.setFiltered=function(e){this.m_root.setFiltered(e)};e.OuCalcCustomTreeWidget.prototype.setItemExpanded=function(e,t){e.setExpanded(t);this.setChildrenVisibility(e,t);return e.isExpanded()};e.OuCalcCustomTreeWidget.prototype.setParent=function(e){this.m_root.setParent(e)};e.OuCalcCustomTreeWidget.prototype.setUiItem=function(e){};e.OuCalcCustomTreeWidget.prototype.setupWidget=function(){};e.OuCalcCustomTreeWidget.prototype.toggleExpanded=function(){return this.m_root.toggleExpanded()};e.OuCalcCustomTreeWidget.prototype.toggleItemExpanded=function(e){return this.setItemExpanded(e,e.toggleExpanded())};e.OuCalcCustomTreeWidget.prototype.updateChildrenVisibility=function(e){this._setChildrenVisibility(e,e=>!e.isFiltered())};e.OuAbstractCalcPanelWidget=function(){};e.OuAbstractCalcPanelWidget.prototype=new e.DfUiWidget;e.OuAbstractCalcPanelWidget.prototype._ff_c="OuAbstractCalcPanelWidget";e.OuAbstractCalcPanelWidget.prototype.m_consumersHandler=null;e.OuAbstractCalcPanelWidget.prototype.m_displayOption=null;e.OuAbstractCalcPanelWidget.prototype.m_hideIfEmpty=false;e.OuAbstractCalcPanelWidget.prototype.m_lastTechnicalIdentifierSelected=null;e.OuAbstractCalcPanelWidget.prototype.m_panelItems=null;e.OuAbstractCalcPanelWidget.prototype.m_technicalIdentifierSelectedTimeoutId=null;e.OuAbstractCalcPanelWidget.prototype._fireOnChange=function(t){this.m_consumersHandler.fireEvent(e.UiEvent.ON_CHANGE.getName(),e.XStringValue.create(t))};e.OuAbstractCalcPanelWidget.prototype._fireOnSelect=function(t){this.m_consumersHandler.fireEvent(e.UiEvent.ON_SELECT.getName(),e.XStringValue.create(t))};e.OuAbstractCalcPanelWidget.prototype.attachOnChange=function(t){this.m_consumersHandler.attachEventConsumer(e.UiEvent.ON_CHANGE.getName(),t)};e.OuAbstractCalcPanelWidget.prototype.attachOnSelect=function(t){this.m_consumersHandler.attachEventConsumer(e.UiEvent.ON_SELECT.getName(),t)};e.OuAbstractCalcPanelWidget.prototype.createListItem=function(t){let i=this.getGenesis().newControl(e.UiType.CUSTOM_LIST_ITEM);i.setCustomObject(t);i.addCssClass("ffFeListItem");if(t.isEnabled()){i.setListItemType(e.UiListItemType.ACTIVE);i.registerOnPress(e.UiLambdaPressListener.create(e=>{this.fireOnChange(t)}));i.registerOnDoubleClick(e.UiLambdaDoubleClickListener.create(e=>{this.fireOnSelect(t)}))}else{i.setListItemType(e.UiListItemType.INACTIVE);i.addCssClass("ffFeListItemDisabled")}i.setContent(this.createListItemContent(t));return i};e.OuAbstractCalcPanelWidget.prototype.createListItemButtons=function(t){let i=this.getGenesis().newControl(e.UiType.FLEX_LAYOUT);let n=i.addNewItemOfType(e.UiType.BUTTON);n.setTooltip(e.XLocalizationCenter.getCenter().getText(e.XCommonI18n.ADD));n.setIcon("add");n.setButtonType(e.UiButtonType.TRANSPARENT);n.addCssClass("ffFeItemAdd");n.registerOnPress(e.UiLambdaPressListener.create(e=>{this.handleLastTechnicalIdentifierSelectedPress(t.getTechnicalIdentifier());this._fireOnSelect(t.getTechnicalIdentifier())}));return i};e.OuAbstractCalcPanelWidget.prototype.createListItemContent=function(t){let i=this.getGenesis().newControl(e.UiType.FLEX_LAYOUT);i.setDirection(e.UiFlexDirection.ROW);i.setJustifyContent(e.UiFlexJustifyContent.SPACE_BETWEEN);i.setAlignItems(e.UiFlexAlignItems.CENTER);i.addAttribute("item-id",t.getId());i.addAttribute("item-name",t.getDisplayName());i.setTooltip(this.getTooltip(t));i.addCssClass("ffFeListItemContent");let n=i.addNewItemOfType(e.UiType.LABEL);n.setText(this.getDisplayText(t));n.addCssClass("ffFeItemLabel");if(t.isEnabled()){i.addItem(this.createListItemButtons(t))}return i};e.OuAbstractCalcPanelWidget.prototype.destroyWidget=function(){this.m_panelItems=e.XObjectExt.release(this.m_panelItems);this.m_consumersHandler=e.XObjectExt.release(this.m_consumersHandler)};e.OuAbstractCalcPanelWidget.prototype.detachOnChange=function(t){this.m_consumersHandler.detachEventConsumer(e.UiEvent.ON_CHANGE.getName(),t)};e.OuAbstractCalcPanelWidget.prototype.detachOnSelect=function(t){this.m_consumersHandler.detachEventConsumer(e.UiEvent.ON_SELECT.getName(),t)};e.OuAbstractCalcPanelWidget.prototype.fireOnChange=function(e){this._fireOnChange(e.getDisplayName())};e.OuAbstractCalcPanelWidget.prototype.fireOnSelect=function(t){if(!e.XString.isEqual(t.getTechnicalIdentifier(),this.m_lastTechnicalIdentifierSelected)){this._fireOnSelect(t.getTechnicalIdentifier())}};e.OuAbstractCalcPanelWidget.prototype.getConsumersOnChange=function(){return this.m_consumersHandler.getEventConsumers(e.UiEvent.ON_CHANGE.getName())};e.OuAbstractCalcPanelWidget.prototype.getConsumersOnSelect=function(){return this.m_consumersHandler.getEventConsumers(e.UiEvent.ON_SELECT.getName())};e.OuAbstractCalcPanelWidget.prototype.getDisplayText=function(e){return e.getDisplayText(this.m_displayOption)};e.OuAbstractCalcPanelWidget.prototype.getListItemLabel=function(e){let t=e.getContent();return t.getItem(0)};e.OuAbstractCalcPanelWidget.prototype.getTooltip=function(t){let i=e.XStringBuffer.create();i.append(this.getDisplayText(t));if(t.getTooltip().isPresent()){i.append(" - ");i.append(t.getTooltip().get())}return i.toString()};e.OuAbstractCalcPanelWidget.prototype.handleLastTechnicalIdentifierSelectedPress=function(t){if(e.XTimeout.getTimeLeftUntilExecution(this.m_technicalIdentifierSelectedTimeoutId)>0){e.XTimeout.clear(this.m_technicalIdentifierSelectedTimeoutId)}this.m_lastTechnicalIdentifierSelected=t;this.m_technicalIdentifierSelectedTimeoutId=e.XTimeout.timeout(500,()=>{this.m_lastTechnicalIdentifierSelected=null})};e.OuAbstractCalcPanelWidget.prototype.isPanelItemVisible=function(t,i){return e.XStringUtils.isNullOrEmpty(i)||e.XString.containsString(e.XString.toUpperCase(t.getDisplayName()),e.XString.toUpperCase(i))||e.XString.containsString(e.XString.toUpperCase(t.getId()),e.XString.toUpperCase(i))};e.OuAbstractCalcPanelWidget.prototype.setDisplayOption=function(t){e.XObjectExt.assertNotNull(t);if(this.m_displayOption!==t){this.m_displayOption=t;this.updateListItemsText()}};e.OuAbstractCalcPanelWidget.prototype.setupInternalControl=function(t,i){e.XObjectExt.assertNotNull(t);e.XCollectionUtils.forEach(t,t=>{e.XObjectExt.assertNotNull(t)});this.m_consumersHandler=e.SuEventConsumerHandler.create();this.m_panelItems=t;this.m_displayOption=e.QueryPresentationUtils.DESCRIPTION;this.m_hideIfEmpty=i};e.OuAbstractCalcPanelWidget.prototype.setupWidget=function(){};e.OuAbstractCalcPanelWidget.prototype.updateItemLabel=function(e,t){let i=this.getListItemLabel(e);i.setText(this.getDisplayText(t))};e.OlapUiCommonI18n=function(){};e.OlapUiCommonI18n.prototype=new e.DfXLocalizationCommonsProvider;e.OlapUiCommonI18n.prototype._ff_c="OlapUiCommonI18n";e.OlapUiCommonI18n.AXIS_COLUMNS="FF_GDS_QB_AXIS_COLUMNS";e.OlapUiCommonI18n.AXIS_ROWS="FF_GDS_QB_AXIS_ROWS";e.OlapUiCommonI18n.COMMON_ACCOUNT="FF_GDS_QB_COMMON_ACCOUNT";e.OlapUiCommonI18n.COMMON_MEASURES="FF_GDS_QB_COMMON_MEASURES";e.OlapUiCommonI18n.COMMON_MEMBER_WITHOUT_ID_TITLE="FF_GDS_QB_MEMBER_WITHOUT_ID_TITLE";e.OlapUiCommonI18n.COMMON_MORE="FF_GDS_QB_COMMON_MORE";e.OlapUiCommonI18n.COMMON_STRUCTURE="FF_GDS_QB_COMMON_STRUCTURE";e.OlapUiCommonI18n.PROVIDER_NAME="OlapUiCommons";e.OlapUiCommonI18n.staticSetup=function(){let t=new e.OlapUiCommonI18n;t.setupProvider(e.OlapUiCommonI18n.PROVIDER_NAME,true);t.addText(e.OlapUiCommonI18n.AXIS_ROWS,"Rows");t.addComment(e.OlapUiCommonI18n.AXIS_ROWS,"#XTIT: The title of a section that contains all dimension of the row axis.");t.addText(e.OlapUiCommonI18n.AXIS_COLUMNS,"Columns");t.addComment(e.OlapUiCommonI18n.AXIS_COLUMNS,"#XTIT: The title of a section that contains all dimension of the column axis.");t.addText(e.OlapUiCommonI18n.COMMON_MEASURES,"Measures");t.addComment(e.OlapUiCommonI18n.COMMON_MEASURES,"#XTIT: The title of an element for the measure structure");t.addText(e.OlapUiCommonI18n.COMMON_STRUCTURE,"Structure");t.addComment(e.OlapUiCommonI18n.COMMON_STRUCTURE,"#XTIT: The title of an element for the second structure");t.addText(e.OlapUiCommonI18n.COMMON_ACCOUNT,"Accounts");t.addComment(e.OlapUiCommonI18n.COMMON_ACCOUNT,"#XTIT: The title of an element for the account dimension");t.addText(e.OlapUiCommonI18n.COMMON_MORE,"More");t.addComment(e.OlapUiCommonI18n.COMMON_MORE,"#XTOL: A tooltip of a button that offers additional options in the given context");t.addTextWithComment(e.OlapUiCommonI18n.COMMON_MEMBER_WITHOUT_ID_TITLE,"No Value","#XTIT: A title for structure members that don't have an ID");return t};e.VdOrcaScenario=function(){};e.VdOrcaScenario.prototype=new e.XConstant;e.VdOrcaScenario.prototype._ff_c="VdOrcaScenario";e.VdOrcaScenario.ANALYTIC_APP=null;e.VdOrcaScenario.BOARD_ROOM=null;e.VdOrcaScenario.LINKED_VARIABLE=null;e.VdOrcaScenario.PLANNING_SEQUENCE=null;e.VdOrcaScenario.SCHEDULING=null;e.VdOrcaScenario.STORY=null;e.VdOrcaScenario.s_lookup=null;e.VdOrcaScenario.create=function(t){let i=e.XConstant.setupName(new e.VdOrcaScenario,t);e.VdOrcaScenario.s_lookup.put(t,i);return i};e.VdOrcaScenario.lookup=function(t){return e.VdOrcaScenario.s_lookup.getByKey(t)};e.VdOrcaScenario.staticSetup=function(){e.VdOrcaScenario.s_lookup=e.XHashMapByString.create();e.VdOrcaScenario.STORY=e.VdOrcaScenario.create("story");e.VdOrcaScenario.ANALYTIC_APP=e.VdOrcaScenario.create("analytic_app");e.VdOrcaScenario.LINKED_VARIABLE=e.VdOrcaScenario.create("linked_variable");e.VdOrcaScenario.BOARD_ROOM=e.VdOrcaScenario.create("board_room");e.VdOrcaScenario.PLANNING_SEQUENCE=e.VdOrcaScenario.create("planning_sequence");e.VdOrcaScenario.SCHEDULING=e.VdOrcaScenario.create("scheduling")};e.OrcaLinkVarJoinMode=function(){};e.OrcaLinkVarJoinMode.prototype=new e.XConstant;e.OrcaLinkVarJoinMode.prototype._ff_c="OrcaLinkVarJoinMode";e.OrcaLinkVarJoinMode.INTERSECT=null;e.OrcaLinkVarJoinMode.UNION=null;e.OrcaLinkVarJoinMode.s_lookup=null;e.OrcaLinkVarJoinMode.create=function(t){let i=e.XConstant.setupName(new e.OrcaLinkVarJoinMode,t);e.OrcaLinkVarJoinMode.s_lookup.put(i.getName(),i);return i};e.OrcaLinkVarJoinMode.lookup=function(t){return e.OrcaLinkVarJoinMode.s_lookup.getByKey(t)};e.OrcaLinkVarJoinMode.staticSetup=function(){e.OrcaLinkVarJoinMode.s_lookup=e.XHashMapByString.create();e.OrcaLinkVarJoinMode.INTERSECT=e.OrcaLinkVarJoinMode.create("intersect");e.OrcaLinkVarJoinMode.UNION=e.OrcaLinkVarJoinMode.create("union")};e.OrcaLinkVarSubmitHandling=function(){};e.OrcaLinkVarSubmitHandling.prototype=new e.XConstant;e.OrcaLinkVarSubmitHandling.prototype._ff_c="OrcaLinkVarSubmitHandling";e.OrcaLinkVarSubmitHandling.NONE=null;e.OrcaLinkVarSubmitHandling.SUBMIT_LINKED_DIRECT=null;e.OrcaLinkVarSubmitHandling.SUBMIT_LINKED_RECURSIVE=null;e.OrcaLinkVarSubmitHandling.s_lookup=null;e.OrcaLinkVarSubmitHandling.create=function(t){let i=e.XConstant.setupName(new e.OrcaLinkVarSubmitHandling,t);e.OrcaLinkVarSubmitHandling.s_lookup.put(t,i);return i};e.OrcaLinkVarSubmitHandling.lookupWithDefault=function(t){let i=e.OrcaLinkVarSubmitHandling.s_lookup.getByKey(t);return e.notNull(i)?i:e.OrcaLinkVarSubmitHandling.NONE};e.OrcaLinkVarSubmitHandling.staticSetup=function(){e.OrcaLinkVarSubmitHandling.s_lookup=e.XHashMapByString.create();e.OrcaLinkVarSubmitHandling.NONE=e.OrcaLinkVarSubmitHandling.create("none");e.OrcaLinkVarSubmitHandling.SUBMIT_LINKED_DIRECT=e.OrcaLinkVarSubmitHandling.create("submitLinkedDirect");e.OrcaLinkVarSubmitHandling.SUBMIT_LINKED_RECURSIVE=e.OrcaLinkVarSubmitHandling.create("submitLinkedRecursive")};e.DfOuOlapView=function(){};e.DfOuOlapView.prototype=new e.DfUiContentView;e.DfOuOlapView.prototype._ff_c="DfOuOlapView";e.DfOuOlapView.prototype.m_queryManager=null;e.DfOuOlapView.prototype.destroyView=function(){};e.DfOuOlapView.prototype.getLocalization=function(){return e.XLocalizationCenter.getCenter()};e.DfOuOlapView.prototype.getQueryManager=function(){return this.m_queryManager};e.DfOuOlapView.prototype.initOlapView=function(t,i){if(e.isNull(i)){throw e.XException.createRuntimeException("Error while creating a olap ui view. Missing query manager!")}this.m_queryManager=i;e.DfUiContentView.prototype.initView.call(this,t)};e.DfOuOlapView.prototype.releaseObject=function(){this.m_queryManager=null;e.DfUiContentView.prototype.releaseObject.call(this)};e.DfOuOlapView.prototype.setQueryManager=function(e){this.m_queryManager=e};e.DfOuOlapView.prototype.setupView=function(){this.setupOlapView(this.m_queryManager)};e.OuDataSourceListPlugin=function(){};e.OuDataSourceListPlugin.prototype=new e.XObject;e.OuDataSourceListPlugin.prototype._ff_c="OuDataSourceListPlugin";e.OuDataSourceListPlugin.CONFIG_SYSTEM_NAME="systemName";e.OuDataSourceListPlugin.NOTIFY_DATA_SOURCE_SELECTED="com.sap.ff.DataSourceListPlugin.Notification.DataSourceSelected";e.OuDataSourceListPlugin.NOTIFY_DATA_SOURCE_SELECTED_DATA_SOURCE="com.sap.ff.DataSourceListPlugin.NotificationData.DataSource";e.OuDataSourceListPlugin.PLUGIN_NAME="DataSourceListPlugin";e.OuDataSourceListPlugin.prototype.m_controller=null;e.OuDataSourceListPlugin.prototype.m_dataSourceListView=null;e.OuDataSourceListPlugin.prototype.m_systemName=null;e.OuDataSourceListPlugin.prototype._getController=function(){return this.m_controller};e.OuDataSourceListPlugin.prototype.buildPluginUi=function(t){this.m_dataSourceListView=e.OuDataSourceListView.create(this._getController().getProcess(),this.m_systemName);this.m_dataSourceListView.setDataSourceSelectedConsumer(t=>{let i=e.XNotificationData.create();i.putXObject(e.OuDataSourceListPlugin.NOTIFY_DATA_SOURCE_SELECTED_DATA_SOURCE,t);this._getController().getLocalNotificationCenter().postNotificationWithName(e.OuDataSourceListPlugin.NOTIFY_DATA_SOURCE_SELECTED,i)});t.setRoot(this.m_dataSourceListView.renderView(t))};e.OuDataSourceListPlugin.prototype.destroyPlugin=function(){this.m_dataSourceListView=e.XObjectExt.release(this.m_dataSourceListView);this.m_controller=null};e.OuDataSourceListPlugin.prototype.didBecameHidden=function(){};e.OuDataSourceListPlugin.prototype.didBecameVisible=function(){};e.OuDataSourceListPlugin.prototype.getName=function(){return e.OuDataSourceListPlugin.PLUGIN_NAME};e.OuDataSourceListPlugin.prototype.getPluginCategory=function(){return e.HuPluginCategory.OLAP};e.OuDataSourceListPlugin.prototype.getPluginType=function(){return e.HuPluginType.COMPONENT};e.OuDataSourceListPlugin.prototype.onConfigurationChanged=function(e){};e.OuDataSourceListPlugin.prototype.onResize=function(e,t){};e.OuDataSourceListPlugin.prototype.processConfiguration=function(t){this.m_systemName=t.getStringByKey(e.OuDataSourceListPlugin.CONFIG_SYSTEM_NAME)};e.OuDataSourceListPlugin.prototype.setupPlugin=function(e){this.m_controller=e;return null};e.OuUiMeasureInput=function(){};e.OuUiMeasureInput.prototype=new e.DfUiWidget;e.OuUiMeasureInput.prototype._ff_c="OuUiMeasureInput";e.OuUiMeasureInput.create=function(t,i,n){let o=new e.OuUiMeasureInput;o.m_dataProvider=n;o.m_queryManager=i;o.m_parentProcess=t;o.m_hideCumulatedMeasures=false;o.m_skipValidation=false;return o};e.OuUiMeasureInput.prototype.m_consumersHandler=null;e.OuUiMeasureInput.prototype.m_dataProvider=null;e.OuUiMeasureInput.prototype.m_filter=null;e.OuUiMeasureInput.prototype.m_hideCumulatedMeasures=false;e.OuUiMeasureInput.prototype.m_parentProcess=null;e.OuUiMeasureInput.prototype.m_queryManager=null;e.OuUiMeasureInput.prototype.m_skipValidation=false;e.OuUiMeasureInput.prototype.attachOnChange=function(t){this.m_consumersHandler.attachEventConsumer(e.UiEvent.ON_CHANGE.getName(),t)};e.OuUiMeasureInput.prototype.destroyWidget=function(){e.DfUiWidget.prototype.destroyView.call(this);this.m_dataProvider=e.XObjectExt.release(this.m_dataProvider);this.m_consumersHandler=e.XObjectExt.release(this.m_consumersHandler);this.m_filter=null};e.OuUiMeasureInput.prototype.detachOnChange=function(t){this.m_consumersHandler.detachEventConsumer(e.UiEvent.ON_CHANGE.getName(),t)};e.OuUiMeasureInput.prototype.fireOnChange=function(){this.m_consumersHandler.fireEvent(e.UiEvent.ON_CHANGE.getName(),this)};e.OuUiMeasureInput.prototype.focus=function(){return this.getView().focus()};e.OuUiMeasureInput.prototype.getConsumersOnChange=function(){return this.m_consumersHandler.getEventConsumers(e.UiEvent.ON_CHANGE.getName())};e.OuUiMeasureInput.prototype.getDisplayValue=function(){if(this.getValue()!==null){return e.QueryPresentationUtils.DESCRIPTION.getDisplayValueByType(this.getValue())}return""};e.OuUiMeasureInput.prototype.getLocalization=function(){return e.XLocalizationCenter.getCenter()};e.OuUiMeasureInput.prototype.getMeasureFromSelection=function(e){let t=e.get(0);return this.m_dataProvider.findMeasureByName(t.getName())};e.OuUiMeasureInput.prototype.getMeasureList=function(){let t=this.m_dataProvider.getMeasures();return e.isNull(this.m_filter)?t:e.XStream.of(t).filter(e=>this.m_filter(e)).collect(e.XStreamCollector.toList())};e.OuUiMeasureInput.prototype.getNewMeasureSuggestionItem=function(t){let i=this.getGenesis().newControl(e.UiType.DROPDOWN_ITEM);let n=e.QueryPresentationUtils.DESCRIPTION.getDisplayValueByType(t);n=e.XString.replace(e.XString.replace(n,"\r",""),"\n","");i.setText(n);i.setCustomObject(t);return i};e.OuUiMeasureInput.prototype.getValue=function(){return this.getView().getCustomObject()};e.OuUiMeasureInput.prototype.getWidgetControl=function(t){let i=t.newControl(e.UiType.INPUT);i.addCssClass("ffAuGdsCFMeasureInput");return i};e.OuUiMeasureInput.prototype.layoutWidget=function(t){this.setupValueHelperDialog();this.setupSuggestions();t.registerOnSuggestionSelect(this);t.registerOnEditingEnd(e.UiLambdaEditingEndListener.create(i=>{let n=t.getValue();let o=this.getValue();if(e.notNull(o)&&e.isNull(n)){n=o.getText()}let r=null;if(e.notNull(n)){let t=this.m_dataProvider.findMeasureByDisplayName(n);if(t.isPresent()){if(e.notNull(o)&&e.XString.isEqual(o.getText(),t.get().getText())){r=o}else{r=t.get()}}}if(r!==o||e.isNull(r)){t.setCustomObject(r);this.m_skipValidation=false;this.fireOnChange()}}))};e.OuUiMeasureInput.prototype.onSuggestionSelect=function(e){if(e.getControl()===this.getView()){this.getView().setCustomObject(e.getSelectedItem().getCustomObject());this.m_skipValidation=true;this.fireOnChange()}};e.OuUiMeasureInput.prototype.resetValueState=function(){this.getView().setValueState(e.UiValueState.NONE)};e.OuUiMeasureInput.prototype.setEditable=function(e){this.getView().setEditable(e)};e.OuUiMeasureInput.prototype.setFilter=function(e){this.m_filter=e};e.OuUiMeasureInput.prototype.setHideCumulatedMeasures=function(e){this.m_hideCumulatedMeasures=e};e.OuUiMeasureInput.prototype.setMeasureInput=function(e){this.setValue(e);this.fireOnChange()};e.OuUiMeasureInput.prototype.setPlaceholder=function(e){this.getView().setPlaceholder(e)};e.OuUiMeasureInput.prototype.setValue=function(t){let i=this.getView();i.setCustomObject(t);if(e.isNull(t)){i.setValue(null)}else{i.setValue(e.QueryPresentationUtils.DESCRIPTION.getDisplayValueByType(t))}};e.OuUiMeasureInput.prototype.setValueState=function(e){this.getView().setValueState(e)};e.OuUiMeasureInput.prototype.setValueStateText=function(e){this.getView().setValueStateText(e)};e.OuUiMeasureInput.prototype.setupSuggestions=function(){let t=this.getView();t.registerOnLiveChange(e.UiLambdaLiveChangeListener.create(i=>{t.clearSuggestions();if(e.XStringUtils.isNotNullAndNotEmpty(t.getValue())){let i=e.XList.create();let n=this.getMeasureList();e.XCollectionUtils.forEach(n,e=>{i.add(this.getNewMeasureSuggestionItem(e))});t.addAllSuggestions(i);t.showSuggestions()}}))};e.OuUiMeasureInput.prototype.setupValueHelperDialog=function(){let t=this.getView();t.setShowValueHelp(true);t.registerOnValueHelpRequest(e.UiLambdaValueHelpRequestListener.create(i=>{this.m_skipValidation=true;let n=this.m_dataProvider.getMemberDimension().getName();let o=e.FilterDialogProgramRunnerFactory.createForDimension(this.m_parentProcess,this.m_queryManager,n,t.getPlaceholder());let r=e.PrFactory.createStructure();r.putBoolean(e.FilterDialog.PARAM_SELECTION_REQUIRED,true);r.putBoolean(e.FilterDialog.PARAM_HIDE_CUMULATED_MEASURES,this.m_hideCumulatedMeasures);o.setConfigStructure(r);if(this.getValue()!==null){let t=e.XList.create();let i=e.FilterDialogValueFactory.createValue(this.getValue().getName(),null,null);let n=this.m_dataProvider.getMemberDimension().getDimension().getHierarchyName();if(e.XStringUtils.isNotNullAndNotEmpty(n)){i.setHierarchyName(n)}t.add(i);o.getProgramStartData().putXObject(e.FilterDialog.PRG_DATA_DEFAULT_SELECTION,t)}o.getProgramStartData().putXObject(e.FilterDialog.PRG_DATA_LISTENER_CLOSE,e.FilterDialogLambdaCloseListener.create(e=>{let t=this.getMeasureFromSelection(e);if(t.isPresent()){this.setMeasureInput(t.get())}},null));o.runProgram()}))};e.OuUiMeasureInput.prototype.setupWidget=function(){this.m_consumersHandler=e.SuEventConsumerHandler.create()};e.OuUiMeasureInput.prototype.skipValidation=function(){return this.m_skipValidation};e.DialogDisplayMode=function(){};e.DialogDisplayMode.prototype=new e.XConstant;e.DialogDisplayMode.prototype._ff_c="DialogDisplayMode";e.DialogDisplayMode.DIALOG=null;e.DialogDisplayMode.NAVIGATION=null;e.DialogDisplayMode.PAGE=null;e.DialogDisplayMode.staticSetup=function(){e.DialogDisplayMode.DIALOG=e.XConstant.setupName(new e.DialogDisplayMode,"Dialog");e.DialogDisplayMode.NAVIGATION=e.XConstant.setupName(new e.DialogDisplayMode,"Navigation");e.DialogDisplayMode.PAGE=e.XConstant.setupName(new e.DialogDisplayMode,"Page")};e.DialogGridFormat=function(){};e.DialogGridFormat.prototype=new e.XConstant;e.DialogGridFormat.prototype._ff_c="DialogGridFormat";e.DialogGridFormat.COMMA=null;e.DialogGridFormat.EXCEL=null;e.DialogGridFormat.SEMICOLON=null;e.DialogGridFormat.create=function(t,i,n){let o=new e.DialogGridFormat;o._setupInternal(t);o.m_separatorSymbol=i;o.m_decoratorSymbol=n;return o};e.DialogGridFormat.staticSetup=function(){e.DialogGridFormat.SEMICOLON=e.DialogGridFormat.create("Semicolon",";"," ");e.DialogGridFormat.COMMA=e.DialogGridFormat.create("Comma",","," ");e.DialogGridFormat.EXCEL=e.DialogGridFormat.create("Excel","\t","")};e.DialogGridFormat.prototype.m_decoratorSymbol=null;e.DialogGridFormat.prototype.m_separatorSymbol=null;e.DialogGridFormat.prototype.getDecoratorSymbol=function(){return this.m_decoratorSymbol};e.DialogGridFormat.prototype.getSeparatorSymbol=function(){return this.m_separatorSymbol};e.DialogLabelMode=function(){};e.DialogLabelMode.prototype=new e.XConstant;e.DialogLabelMode.prototype._ff_c="DialogLabelMode";e.DialogLabelMode.KEY=null;e.DialogLabelMode.KEY_AND_TEXT=null;e.DialogLabelMode.TEXT=null;e.DialogLabelMode.staticSetup=function(){e.DialogLabelMode.KEY=e.XConstant.setupName(new e.DialogLabelMode,"Key");e.DialogLabelMode.TEXT=e.XConstant.setupName(new e.DialogLabelMode,"Text");e.DialogLabelMode.KEY_AND_TEXT=e.XConstant.setupName(new e.DialogLabelMode,"KeyAndText")};e.QueryPresentationUtils=function(){};e.QueryPresentationUtils.prototype=new e.XConstant;e.QueryPresentationUtils.prototype._ff_c="QueryPresentationUtils";e.QueryPresentationUtils.DESCRIPTION=null;e.QueryPresentationUtils.DESCRIPTION_AND_ID=null;e.QueryPresentationUtils.ID=null;e.QueryPresentationUtils.ID_AND_DESCRIPTION=null;e.QueryPresentationUtils.PREFIX=" (";e.QueryPresentationUtils.SUFFIX=")";e.QueryPresentationUtils.staticSetup=function(){e.QueryPresentationUtils.ID=e.XConstant.setupName(new e.QueryPresentationUtils,"id");e.QueryPresentationUtils.DESCRIPTION=e.XConstant.setupName(new e.QueryPresentationUtils,"description");e.QueryPresentationUtils.ID_AND_DESCRIPTION=e.XConstant.setupName(new e.QueryPresentationUtils,"idAndDescription");e.QueryPresentationUtils.DESCRIPTION_AND_ID=e.XConstant.setupName(new e.QueryPresentationUtils,"descriptionAndId")};e.QueryPresentationUtils.prototype.composeDisplayStrings=function(t,i){if(this===e.QueryPresentationUtils.ID){return t}else if(this===e.QueryPresentationUtils.DESCRIPTION){if(e.XStringUtils.isNullOrEmpty(i)){return t}return i}else if(this===e.QueryPresentationUtils.ID_AND_DESCRIPTION){return e.XStringUtils.concatenate4(t,e.QueryPresentationUtils.PREFIX,i,e.QueryPresentationUtils.SUFFIX)}else if(this===e.QueryPresentationUtils.DESCRIPTION_AND_ID){return e.XStringUtils.concatenate4(i,e.QueryPresentationUtils.PREFIX,t,e.QueryPresentationUtils.SUFFIX)}throw e.XException.createIllegalArgumentException("unknown presentation type")};e.QueryPresentationUtils.prototype.getDisplayValueByType=function(t){let i;if(e.OlapUiDimensionUtil.isMember(t)){let n=e.OlapUiDimensionUtil.getMember(t);i=n.getDimension();let o=null;let r=n.getDisplayDescription();let a=n.getFieldValue(i.getDisplayKeyField());if(e.notNull(a)){o=a.getValue().getStringRepresentation()}let s=n.getSession().hasFeature(e.FeatureToggleOlap.PREVENT_TECHNICAL_KEYS_IN_UI);if(s&&e.XStringUtils.isNullOrEmpty(o)&&n.getMemberType()!==e.MemberType.FORMULA){o=this.getLocalizationProvider().getText(e.OlapUiCommonI18n.COMMON_MEMBER_WITHOUT_ID_TITLE)}else if(e.XStringUtils.isNullOrEmpty(o)||n.isDisplayNameSet()){o=n.getDisplayName()}return this.composeDisplayStrings(o,r)}if(e.OlapUiDimensionUtil.isDimension(t)){i=t;return this.composeDisplayStrings(i.getDisplayName(),i.getDisplayDescription())}if(e.OlapUiDimensionUtil.isAttribute(t)){let e=t;return this.composeDisplayStrings(e.getDisplayName(),e.getDisplayDescription())}return this.composeDisplayStrings(t.getName(),null)};e.QueryPresentationUtils.prototype.getLocalizationProvider=function(){return e.XLocalizationCenter.getCenter().getLocalizationProviderByName(e.OlapUiCommonI18n.PROVIDER_NAME)};e.OuDataProviderActionListView=function(){};e.OuDataProviderActionListView.prototype=new e.DfDataProviderUiView;e.OuDataProviderActionListView.prototype._ff_c="OuDataProviderActionListView";e.OuDataProviderActionListView.PLUGIN_NAME="DataProviderActionList";e.OuDataProviderActionListView.createView=function(){return new e.OuDataProviderActionListView};e.OuDataProviderActionListView.prototype.m_actionList=null;e.OuDataProviderActionListView.prototype.m_console=null;e.OuDataProviderActionListView.prototype.m_executeButton=null;e.OuDataProviderActionListView.prototype.m_parameterForm=null;e.OuDataProviderActionListView.prototype._buildParameterSection=function(t){this.m_parameterForm.clearFormItems();if(e.XStringUtils.isNullOrEmpty(t)){return}let i=this.getDataProvider().getActions().getActionManifest(t);let n=i.getParameterList();for(let t=0;t<n.size();t++){let i=n.get(t);let o=i.getDisplayName();if(e.XStringUtils.isNullOrEmpty(o)){o=i.getName()}this.m_parameterForm.addInput(i.getName(),null,o)}};e.OuDataProviderActionListView.prototype._executeDpAction=function(t){let i=e.XList.create();let n=this.m_parameterForm.getJsonModel();let o=n.getKeysAsIterator();while(o.hasNext()){let e=o.next();let t=n.getStringByKey(e);i.add(t)}let r=this.getDataProvider().getStringActions();let a=r.executeActionByName(t,i).onThen(i=>{this.setToConsole(e.XStringUtils.concatenate2(t," success"));if(e.notNull(i)){this.appendToConsole(i.toString())}});a.onCatch(t=>{this.setToConsole(e.notNull(t)?t.getText():null)})};e.OuDataProviderActionListView.prototype._updateUi=function(){this.m_actionList.clearItems();this.m_parameterForm.clearFormItems();this.m_executeButton.setEnabled(false);if(this.getDataProvider()===null){return}let t=e.XComparatorLambda.create((t,i)=>e.XIntegerValue.create(e.XString.compare(t.getDisplayName(),i.getDisplayName())));let i=this.getDataProvider().getActions().getActionManifests().createListCopy();i.sortByComparator(t);for(let e=0;e<i.size();e++){let t=i.get(e);let n=this.m_actionList.addNewItem();n.setName(t.getName());n.setText(t.getDisplayName())}};e.OuDataProviderActionListView.prototype.appendToConsole=function(t){let i=e.XStringBuffer.create();i.append(this.m_console.getText());i.appendLine(t);this.m_console.setText(i.toString())};e.OuDataProviderActionListView.prototype.destroyView=function(){this.m_actionList=e.XObjectExt.release(this.m_actionList);this.m_parameterForm=e.XObjectExt.release(this.m_parameterForm);this.m_executeButton=e.XObjectExt.release(this.m_executeButton);this.m_console=e.XObjectExt.release(this.m_console)};e.OuDataProviderActionListView.prototype.getViewControl=function(t){return t.newControl(e.UiType.FLEX_LAYOUT)};e.OuDataProviderActionListView.prototype.layoutView=function(t){t.setDirection(e.UiFlexDirection.COLUMN);let i=t.addNewItemOfType(e.UiType.FLEX_LAYOUT);i.setDirection(e.UiFlexDirection.ROW);i.setJustifyContent(e.UiFlexJustifyContent.END);let n=t.addNewItemOfType(e.UiType.INTERACTIVE_SPLITTER);n.setOrientation(e.UiOrientation.VERTICAL);n.setEnableReordering(false);n.setFlex("auto");let o=n.addNewItem();let r=o.setNewContent(e.UiType.INTERACTIVE_SPLITTER);r.setOrientation(e.UiOrientation.HORIZONTAL);r.setEnableReordering(false);r.setFlex("auto");let a=r.addNewItem();a.setDraggable(false);this.m_actionList=a.setNewContent(e.UiType.LIST);this.m_actionList.useMaxSpace();this.m_actionList.setSelectionMode(e.UiSelectionMode.SINGLE_SELECT_MASTER);this.m_actionList.registerOnSelectionChange(e.UiLambdaSelectionChangeListener.create(t=>{let i=t.getSelectedName();this.m_executeButton.setEnabled(e.XStringUtils.isNotNullAndNotEmpty(i));this._buildParameterSection(i)}));let s=r.addNewItem();let l=s.setNewContent(e.UiType.FLEX_LAYOUT);l.setDirection(e.UiFlexDirection.COLUMN);this.m_parameterForm=e.UiForm.create(this.getGenesis());this.m_parameterForm.getView().useMaxSpace();l.addItem(this.m_parameterForm.getView());let u=l.addNewItemOfType(e.UiType.FLEX_LAYOUT);u.setDirection(e.UiFlexDirection.ROW);u.useMaxWidth();u.setJustifyContent(e.UiFlexJustifyContent.END);this.m_executeButton=u.addNewItemOfType(e.UiType.BUTTON);this.m_executeButton.setText("Run");this.m_executeButton.setButtonType(e.UiButtonType.PRIMARY);this.m_executeButton.setEnabled(false);this.m_executeButton.registerOnPress(e.UiLambdaPressListener.create(e=>{this._executeDpAction(this.m_actionList.getSelectedName())}));let p=n.addNewItem();let m=p.setNewContent(e.UiType.SCROLL_CONTAINER);m.setHorizontalScrolling(true);m.setVerticalScrolling(true);m.useMaxSpace();this.m_console=m.setNewContent(e.UiType.TEXT);this.m_console.addCssClass("dpActionListConsole")};e.OuDataProviderActionListView.prototype.onDataProviderSet=function(e,t){this.m_console.setText("");this._updateUi()};e.OuDataProviderActionListView.prototype.setToConsole=function(e){this.m_console.setText(e)};e.OuDataProviderActionListView.prototype.setupView=function(){};e.OuDataProviderLogView=function(){};e.OuDataProviderLogView.prototype=new e.DfDataProviderUiView;e.OuDataProviderLogView.prototype._ff_c="OuDataProviderLogView";e.OuDataProviderLogView.createView=function(){return new e.OuDataProviderLogView};e.OuDataProviderLogView.prototype.m_dpName=null;e.OuDataProviderLogView.prototype.m_logList=null;e.OuDataProviderLogView.prototype.m_logListenerId=null;e.OuDataProviderLogView.prototype.addEntry=function(t){if(e.isNull(t)){return}let i=this.createMessageEntry(t);this.m_logList.addItem(i)};e.OuDataProviderLogView.prototype.createMessageEntry=function(t){let i=this.getGenesis().newControl(e.UiType.CUSTOM_LIST_ITEM);i.setHighlight(this.getUiMessageType(t));let n=i.setNewContent(e.UiType.TEXT);let o=t.getText();if(t.getMessageClass()!==null){o=e.XStringUtils.concatenate5("[",t.getMessageClass(),"]"," - ",o)}else{o=e.XStringUtils.concatenate5("[",t.getSeverity().getName(),"]"," - ",o)}n.setText(o);n.setWrapping(true);n.setPadding(e.UiCssBoxEdges.create("0.5rem"));n.setFontWeight(e.UiFontWeight.BOLDER);return i};e.OuDataProviderLogView.prototype.destroyView=function(){this.unobserveDataProvider(this.getDataProvider());this.m_dpName=e.XObjectExt.release(this.m_dpName);this.m_dpName=e.XObjectExt.release(this.m_dpName)};e.OuDataProviderLogView.prototype.getUiMessageType=function(t){if(t.getSeverity()===e.Severity.ERROR||t.getSeverity()===e.Severity.SEMANTICAL_ERROR){return e.UiMessageType.ERROR}else if(t.getSeverity()===e.Severity.WARNING){return e.UiMessageType.ERROR}else if(t.getSeverity()===e.Severity.INFO){return e.UiMessageType.INFORMATION}else if(t.getSeverity()===e.Severity.DEBUG){return e.UiMessageType.INFORMATION}return null};e.OuDataProviderLogView.prototype.getViewControl=function(t){return t.newControl(e.UiType.FLEX_LAYOUT)};e.OuDataProviderLogView.prototype.layoutView=function(t){t.setDirection(e.UiFlexDirection.COLUMN);let i=t.addNewItemOfType(e.UiType.FLEX_LAYOUT);i.setDirection(e.UiFlexDirection.COLUMN);i.setJustifyContent(e.UiFlexJustifyContent.START);i.setGap(e.UiCssGap.create("0.25rem"));i.setAlignItems(e.UiFlexAlignItems.START);i.setPadding(e.UiCssBoxEdges.create("0.5rem"));i.setWrap(e.UiFlexWrap.WRAP);let n=i.addNewItemOfType(e.UiType.TITLE);n.setTitleLevel(e.UiTitleLevel.H_6);n.setTitleStyle(e.UiTitleLevel.H_6);n.setText("Data Provider name:");this.m_dpName=i.addNewItemOfType(e.UiType.TEXT);this.m_dpName.setWrapping(true);this.m_dpName.setText("none");let o=i.addNewItemOfType(e.UiType.FLEX_LAYOUT);o.setDirection(e.UiFlexDirection.COLUMN);o.setAlignItems(e.UiFlexAlignItems.END);o.useMaxWidth();let r=o.addNewItemOfType(e.UiType.BUTTON);r.setIcon("clear-all");r.setButtonType(e.UiButtonType.NEGATIVE);r.setTooltip("Clear logs");r.registerOnPress(e.UiLambdaPressListener.create(e=>{this.getDataProvider().getLogger().clearAll();this.updateUi()}));let a=t.addNewItemOfType(e.UiType.SCROLL_CONTAINER);a.setHorizontalScrolling(true);this.m_logList=a.setNewContent(e.UiType.LIST);this.m_logList.setWidth(e.UiCssLength.create("auto"))};e.OuDataProviderLogView.prototype.observeDataProvider=function(t){if(e.notNull(t)){this.m_logListenerId=t.getLogger().getLogListener().addConsumer(this.addEntry.bind(this))}};e.OuDataProviderLogView.prototype.onDataProviderSet=function(e,t){this.unobserveDataProvider(e);this.observeDataProvider(t);this.updateUi()};e.OuDataProviderLogView.prototype.setupView=function(){this.m_logList=e.UiContextDummy.getSingleton()};e.OuDataProviderLogView.prototype.unobserveDataProvider=function(t){if(e.notNull(t)&&e.notNull(this.m_logListenerId)){t.getLogger().getLogListener().removeConsumerByUuid(this.m_logListenerId);this.m_logListenerId=null}};e.OuDataProviderLogView.prototype.updateUi=function(){this.m_dpName.setText("none");this.m_logList.clearItems();if(this.getDataProvider()===null||this.getDataProvider().isReleased()){return}this.m_dpName.setText(this.getDataProvider().getName());let t=this.getDataProvider().getLogger().getLog();e.XCollectionUtils.forEach(t,this.addEntry.bind(this))};e.OuAxesView=function(){};e.OuAxesView.prototype=new e.DfUiContentView;e.OuAxesView.prototype._ff_c="OuAxesView";e.OuAxesView.UI_CONTEXT="Gds.Qb.Builder.ContextMenu";e.OuAxesView._getLocalizationProvider=function(){return e.XLocalizationCenter.getCenter().getLocalizationProviderByName(e.OuAxesViewI18n.PROVIDER_NAME)};e.OuAxesView.createView=function(t,i,n){let o=new e.OuAxesView;o.m_process=t;o.m_config=n;o.m_presentation=n.getDefaultPresentation();o.initView(i);return o};e.OuAxesView.prototype.m_activeDisplayType=null;e.OuAxesView.prototype.m_activeView=null;e.OuAxesView.prototype.m_allEventId=null;e.OuAxesView.prototype.m_chartView=null;e.OuAxesView.prototype.m_config=null;e.OuAxesView.prototype.m_dataProvider=null;e.OuAxesView.prototype.m_dropdown=null;e.OuAxesView.prototype.m_dropdownWrapper=null;e.OuAxesView.prototype.m_gridView=null;e.OuAxesView.prototype.m_onChange=null;e.OuAxesView.prototype.m_presentation=null;e.OuAxesView.prototype.m_process=null;e.OuAxesView.prototype.m_root=null;e.OuAxesView.prototype.m_scrollContainer=null;e.OuAxesView.prototype.m_showDisplayType=false;e.OuAxesView.prototype._activateChartView=function(t){let i=t.getChartSetting().getChartType();let n=e.XCollectionUtils.findFirst(this.m_dropdown.getItems(),e=>e.getCustomObject().getChartType()===i);this.m_dropdown.setSelectedItem(e.notNull(n)?n:null);let o=e.OuAxesViewDisplayType.lookup(i.getName());if(this.m_activeDisplayType===o&&this.m_chartView.getChartDefinition()===t){return}this.m_activeDisplayType=o;this.m_chartView.setChartDefinition(t);this._setActiveView(this.m_chartView)};e.OuAxesView.prototype._activateGridView=function(){if(this.m_activeDisplayType===e.OuAxesViewDisplayType.GRID){return}let t=e.XCollectionUtils.findFirst(this.m_dropdown.getItems(),t=>t.getCustomObject()===e.OuAxesViewDisplayType.GRID);this._setActiveView(this.m_gridView);this.m_dropdown.setSelectedItem(t);this.m_activeDisplayType=e.OuAxesViewDisplayType.GRID;if(e.notNull(this.m_chartView)){this.m_chartView.removeAddedHeaderElements()}};e.OuAxesView.prototype._changeVizDisplayType=function(t,i){let n=t.getCustomObject();let o=n.getVisualizationType();let r=i;if(e.XStringUtils.isNullOrEmpty(r)){if(o===e.VisualizationType.GRID){r=this._getOrCreateTableDefinition().getName()}else{let e=n.getChartType();r=this._getOrCreateChartDefinition(e).getName();this.m_dataProvider.getActions().getVisualizationActions().setVisualizationChartType(r,e)}}this._switchToExistingVisualization(o,r)};e.OuAxesView.prototype._getCurrentChartVisualization=function(){if(this.getQueryManager()===null){return null}let t=this.getQueryManager().getQueryModel().getVisualizationManager();let i=t.getCurrentActiveVisualizationDefinition();if(e.isNull(i)||i.getSemanticBindingType()!==e.SemanticBindingType.CHART){return null}return i};e.OuAxesView.prototype._getOrCreateChartDefinition=function(t){let i=this.getQueryManager().getQueryModel().getVisualizationManager();let n=e.VisualizationType.CHART.getDefaultProtocolBindingType();let o=null;if(this.m_config.shouldUseExistingVisualizations()){o=e.XCollectionUtils.findFirst(i.getVisualizationDefinitions(),e=>e.getProtocolBindingType()===n)}if(e.isNull(o)){let r=e.XStringUtils.concatenate2("chart_created_by_axes_view_",t.getName());o=i.getOrCreateVisualisationDefinition(r,n,e.SemanticBindingType.CHART)}let r=o.getChartSetting();r.setChartType(t);if(r.getChartType().isSingleMeasureChartType()){let t=(t,i)=>{let n=r.getChartType().getName();let o=e.OuAxesView._getLocalizationProvider().getTextWithPlaceholder2(e.OuAxesViewI18n.BUILDER_TOAST_MEMBERS_REMOVED,n,i);let a=this.m_config.getMessageCenter();if(e.notNull(a)){a.showWarningToast(o)}else{e.XLogger.println(o)}};r.setToastPresenter(t)}return o};e.OuAxesView.prototype._getOrCreateTableDefinition=function(){let t=this.getQueryManager().getQueryModel().getVisualizationManager();let i=null;if(this.m_config.shouldUseExistingVisualizations()){i=t.getOrCreateDefaultTableDefinition()}if(e.isNull(i)){i=t.getOrCreateVisualisationDefinition("table_created_by_axes_view",e.ProtocolBindingType.SAC_TABLE_GRID,e.SemanticBindingType.TABLE)}return i};e.OuAxesView.prototype._notifyChangeListeners=function(t){if(e.notNull(this.m_onChange)){this.m_onChange(t)}if(e.notNull(this.m_dataProvider)){this.m_dataProvider.getEventing().notifyExternalModelChange(null)}};e.OuAxesView.prototype._observeDataProviderEvents=function(){if(e.notNull(this.m_dataProvider)){this.m_allEventId=this.m_dataProvider.getEventing().getListenerForAll().addConsumer(this.onAnyDataProviderEvent.bind(this))}};e.OuAxesView.prototype._setActiveView=function(e){this.m_activeView=e;this.m_activeView.updateUi();this.m_activeView.setPresentation(this.m_presentation);this.m_scrollContainer.setContent(this.m_activeView.getView())};e.OuAxesView.prototype._switchToExistingVisualization=function(t,i){if(this.getQueryManager()!==null){let n=this.getQueryManager().getQueryModel().getVisualizationManager();if(e.XString.isEqual(i,n.getCurrentActiveVisualizationDefinition().getName())){this._updateActiveView()}else{this.m_dataProvider.getActions().getVisualizationActions().setActiveVisualizationDefinition(i);this._notifyChangeListeners(t)}}};e.OuAxesView.prototype._unobserveDataProviderEvents=function(){if(e.notNull(this.m_dataProvider)){this.m_dataProvider.getEventing().getListenerForAll().removeConsumerByUuid(this.m_allEventId);this.m_allEventId=null}};e.OuAxesView.prototype._updateActiveView=function(){let t=this._getCurrentChartVisualization();if(e.isNull(t)){this._activateGridView();return}this._activateChartView(t)};e.OuAxesView.prototype._updateDisplayTypeVisibility=function(){let t=this.m_showDisplayType;let i=this.getQueryManager();if(t&&e.notNull(i)){if(i.getQueryModel().isUniversalAccountModel()){t=this.m_config.isChartingPhase2Enabled()}else if(i.getQueryModel().isAccountModel()){t=false}}this.m_dropdownWrapper.setVisible(t)};e.OuAxesView.prototype.buildViewUi=function(t){this.m_root=t.newRoot(e.UiType.FLEX_LAYOUT);this.m_root.addCssClass("ffAxesView");this.m_root.setDirection(e.UiFlexDirection.COLUMN);if(this.m_config.isChartingEnabled()){this.m_showDisplayType=true;let t=e.OuAxesView._getLocalizationProvider();this.m_dropdownWrapper=this.m_root.addNewItemOfType(e.UiType.FLEX_LAYOUT);this.m_dropdownWrapper.addCssClass("ffAxesViewVisualizationDropdownContainer");this.m_dropdownWrapper.setPadding(e.UiCssBoxEdges.create("0.75rem 0.375rem"));this.m_dropdownWrapper.setFlex("0 0 auto");this.m_dropdownWrapper.setAlignItems(e.UiFlexAlignItems.CENTER);this.m_dropdownWrapper.setDirection(e.UiFlexDirection.COLUMN);this.m_dropdownWrapper.setHeight(e.UiCssLength.AUTO);let i=this.m_dropdownWrapper.addNewItemOfType(e.UiType.LABEL);i.setText(t.getText(e.OuAxesViewI18n.BUILDER_DISPLAY_TYPE));i.setTextAlign(e.UiTextAlign.LEFT);i.setAlignSelf(e.UiFlexAlignSelf.START);i.setFlex("0 0 auto");i.setPadding(e.UiCssBoxEdges.create("0 0 0.25rem 0"));this.m_dropdown=this.m_dropdownWrapper.addNewItemOfType(e.UiType.DROPDOWN);this.m_dropdown.addCssClass("ffAxesViewVisualizationDropdown");this.m_dropdown.useMaxWidth();this.m_dropdown.setFlex("0 0 auto");i.setLabelFor(this.m_dropdown);e.XCollectionUtils.forEach(this.m_config.getSupportedDisplayTypes(),e=>{let i=this.m_dropdown.addNewItem();i.setText(t.getText(e.getI18nKey()));i.setIcon(e.getIcon());i.setCustomObject(e)});this.m_dropdown.registerOnSelect(e.UiLambdaSelectListener.create(e=>{let t=e.getSelectedItem();this._changeVizDisplayType(t,null)}))}this.m_gridView=e.OuGridAxesView.createView(this.m_process,t,this.m_config);this.m_chartView=e.OuChartAxesView.createView(this.m_process,t,this.m_config);this.m_chartView.setHeaderLayout(this.m_dropdownWrapper);this.m_activeView=this.m_gridView;this.m_scrollContainer=this.m_root.addNewItemOfType(e.UiType.SCROLL_CONTAINER);this.m_scrollContainer.useMaxHeight();this.m_scrollContainer.addCssClass("ffAxesViewMainContainer")};e.OuAxesView.prototype.destroyView=function(){this._unobserveDataProviderEvents();this.m_dropdown=e.XObjectExt.release(this.m_dropdown);this.m_dropdownWrapper=e.XObjectExt.release(this.m_dropdownWrapper);this.m_gridView=e.XObjectExt.release(this.m_gridView);this.m_chartView=e.XObjectExt.release(this.m_chartView);this.m_scrollContainer=e.XObjectExt.release(this.m_scrollContainer);this.m_root=e.XObjectExt.release(this.m_root);this.m_activeView=null;this.m_onChange=null;this.m_dataProvider=null;this.m_presentation=null;this.m_config=null;this.m_activeDisplayType=null};e.OuAxesView.prototype.dragEnd=function(){this.m_activeView.dragEnd()};e.OuAxesView.prototype.dragStartModelComponent=function(e){this.m_activeView.dragStartModelComponent(e)};e.OuAxesView.prototype.expandDimension=function(e){this.m_activeView.expandDimension(e)};e.OuAxesView.prototype.expandMember=function(e,t){this.m_activeView.expandMember(e,t)};e.OuAxesView.prototype.getDataProvider=function(){return this.m_dataProvider};e.OuAxesView.prototype.getProcess=function(){return this.m_config.getApplication().getProcess()};e.OuAxesView.prototype.getQueryManager=function(){return e.notNull(this.m_dataProvider)?this.m_dataProvider.getQueryManager():null};e.OuAxesView.prototype.getSession=function(){return this.m_config.getApplication().getProcess()};e.OuAxesView.prototype.onAnyDataProviderEvent=function(t){let i=t.getLifecycleEvent();if(e.notNull(i)&&i.getNewState()===e.DataProviderLifecycle.RELEASED){this.setDataProvider(null);return}let n=e.OlapDataProviderUtil.getOlapAllEvent(t);if(e.notNull(n)&&(n.getModelChangeEvent()!==null||n.getVisualizationChangeEvent()!==null||n.getResultDataFetchEvent()!==null)){this.updateUi()}};e.OuAxesView.prototype.setDataProvider=function(e){this._unobserveDataProviderEvents();this.m_dataProvider=e;this._observeDataProviderEvents();this._updateDisplayTypeVisibility();this.m_gridView.setDataProvider(this.m_dataProvider);this.m_chartView.setDataProvider(this.m_dataProvider);this._updateActiveView()};e.OuAxesView.prototype.setDisplayTypeForVisualization=function(t,i){let n=e.XCollectionUtils.findFirst(this.m_dropdown.getItems(),e=>e.getCustomObject()===t);if(e.notNull(n)){this.m_dropdown.setSelectedItem(n);this._changeVizDisplayType(n,i)}};e.OuAxesView.prototype.setDisplayTypeVisibility=function(e){this.m_showDisplayType=e;this._updateDisplayTypeVisibility()};e.OuAxesView.prototype.setOnChange=function(e){this.m_onChange=e;this.m_gridView.setOnChange(e);this.m_chartView.setOnChange(e)};e.OuAxesView.prototype.setPresentation=function(e){this.m_presentation=e;this.m_activeView.setPresentation(e)};e.OuAxesView.prototype.setQueryManager=e.noSupport;e.OuAxesView.prototype.setupView=function(){this.m_dropdownWrapper=e.UiContextDummy.getSingleton();this.m_dropdown=e.UiContextDummy.getSingleton()};e.OuAxesView.prototype.updateUi=function(){this._updateActiveView()};e.OuAxesViewDisplayType=function(){};e.OuAxesViewDisplayType.prototype=new e.XConstant;e.OuAxesViewDisplayType.prototype._ff_c="OuAxesViewDisplayType";e.OuAxesViewDisplayType.BAR=null;e.OuAxesViewDisplayType.COLUMN=null;e.OuAxesViewDisplayType.COLUMN_LINE=null;e.OuAxesViewDisplayType.DOUGHNUT=null;e.OuAxesViewDisplayType.GRID=null;e.OuAxesViewDisplayType.LINE=null;e.OuAxesViewDisplayType.METRIC=null;e.OuAxesViewDisplayType.PIE=null;e.OuAxesViewDisplayType.STACKED_AREA=null;e.OuAxesViewDisplayType.STACKED_BAR=null;e.OuAxesViewDisplayType.STACKED_COLUMN=null;e.OuAxesViewDisplayType.STACKED_COLUMN_LINE=null;e.OuAxesViewDisplayType.WATERFALL=null;e.OuAxesViewDisplayType.s_lookup=null;e.OuAxesViewDisplayType.create=function(t){return e.XConstant.setupName(new e.OuAxesViewDisplayType,t)};e.OuAxesViewDisplayType.createExt=function(t,i,n,o,r){let a=e.OuAxesViewDisplayType.create(t);a.m_i18nKey=i;a.m_icon=n;a.m_vizType=o;a.m_chartType=r;e.OuAxesViewDisplayType.s_lookup.put(t,a);return a};e.OuAxesViewDisplayType.getAllChartDisplayTypes=function(){return e.XCollectionUtils.filter(e.OuAxesViewDisplayType.s_lookup,e=>e.getChartType()!==null)};e.OuAxesViewDisplayType.lookup=function(t){return e.OuAxesViewDisplayType.s_lookup.getByKey(t)};e.OuAxesViewDisplayType.staticSetup=function(){if(e.isNull(e.OuAxesViewDisplayType.s_lookup)){e.OuAxesViewDisplayType.s_lookup=e.XHashMapByString.create();e.OuAxesViewDisplayType.GRID=e.OuAxesViewDisplayType.createExt(e.SemanticBindingType.GRID.getName(),e.OuAxesViewI18n.BUILDER_GRID_OPTION,"table-view",e.VisualizationType.GRID,null);e.OuAxesViewDisplayType.BAR=e.OuAxesViewDisplayType.createExt(e.ChartType.BAR.getName(),e.OuAxesViewI18n.BUILDER_BAR_OPTION,e.ChartType.BAR.getIcon(),e.VisualizationType.CHART,e.ChartType.BAR);e.OuAxesViewDisplayType.COLUMN=e.OuAxesViewDisplayType.createExt(e.ChartType.COLUMN.getName(),e.OuAxesViewI18n.BUILDER_COLUMN_OPTION,e.ChartType.COLUMN.getIcon(),e.VisualizationType.CHART,e.ChartType.COLUMN);e.OuAxesViewDisplayType.STACKED_BAR=e.OuAxesViewDisplayType.createExt(e.ChartType.STACKED_BAR.getName(),e.OuAxesViewI18n.BUILDER_STACKED_BAR_OPTION,e.ChartType.STACKED_BAR.getIcon(),e.VisualizationType.CHART,e.ChartType.STACKED_BAR);e.OuAxesViewDisplayType.STACKED_COLUMN=e.OuAxesViewDisplayType.createExt(e.ChartType.STACKED_COLUMN.getName(),e.OuAxesViewI18n.BUILDER_STACKED_COLUMN_OPTION,e.ChartType.STACKED_COLUMN.getIcon(),e.VisualizationType.CHART,e.ChartType.STACKED_COLUMN);e.OuAxesViewDisplayType.LINE=e.OuAxesViewDisplayType.createExt(e.ChartType.LINE.getName(),e.OuAxesViewI18n.BUILDER_LINE_OPTION,e.ChartType.LINE.getIcon(),e.VisualizationType.CHART,e.ChartType.LINE);e.OuAxesViewDisplayType.PIE=e.OuAxesViewDisplayType.createExt(e.ChartType.PIE.getName(),e.OuAxesViewI18n.BUILDER_PIE_OPTION,e.ChartType.PIE.getIcon(),e.VisualizationType.CHART,e.ChartType.PIE);e.OuAxesViewDisplayType.DOUGHNUT=e.OuAxesViewDisplayType.createExt(e.ChartType.DOUGHNUT.getName(),e.OuAxesViewI18n.BUILDER_DONUT_OPTION,e.ChartType.DOUGHNUT.getIcon(),e.VisualizationType.CHART,e.ChartType.DOUGHNUT);e.OuAxesViewDisplayType.STACKED_AREA=e.OuAxesViewDisplayType.createExt(e.ChartType.AREA.getName(),e.OuAxesViewI18n.BUILDER_STACKED_AREA_OPTION,e.ChartType.AREA.getIcon(),e.VisualizationType.CHART,e.ChartType.AREA);e.OuAxesViewDisplayType.COLUMN_LINE=e.OuAxesViewDisplayType.createExt(e.ChartType.COMB_COLUMN_LINE.getName(),e.OuAxesViewI18n.BUILDER_COLUMN_LINE_OPTION,e.ChartType.COMB_COLUMN_LINE.getIcon(),e.VisualizationType.CHART,e.ChartType.COMB_COLUMN_LINE);e.OuAxesViewDisplayType.STACKED_COLUMN_LINE=e.OuAxesViewDisplayType.createExt(e.ChartType.COMB_STACKED_COLUMN_LINE.getName(),e.OuAxesViewI18n.BUILDER_STACKED_COLUMN_LINE_OPTION,e.ChartType.COMB_STACKED_COLUMN_LINE.getIcon(),e.VisualizationType.CHART,e.ChartType.COMB_STACKED_COLUMN_LINE);e.OuAxesViewDisplayType.METRIC=e.OuAxesViewDisplayType.createExt(e.ChartType.METRIC.getName(),e.OuAxesViewI18n.BUILDER_METRIC_OPTION,e.ChartType.METRIC.getIcon(),e.VisualizationType.CHART,e.ChartType.METRIC);e.OuAxesViewDisplayType.WATERFALL=e.OuAxesViewDisplayType.createExt(e.ChartType.WATERFALL.getName(),e.OuAxesViewI18n.BUILDER_WATERFALL_OPTION,e.ChartType.WATERFALL.getIcon(),e.VisualizationType.CHART,e.ChartType.WATERFALL)}};e.OuAxesViewDisplayType.prototype.m_chartType=null;e.OuAxesViewDisplayType.prototype.m_i18nKey=null;e.OuAxesViewDisplayType.prototype.m_icon=null;e.OuAxesViewDisplayType.prototype.m_vizType=null;e.OuAxesViewDisplayType.prototype.getChartType=function(){return this.m_chartType};e.OuAxesViewDisplayType.prototype.getI18nKey=function(){return this.m_i18nKey};e.OuAxesViewDisplayType.prototype.getIcon=function(){return this.m_icon};e.OuAxesViewDisplayType.prototype.getVisualizationType=function(){return this.m_vizType};e.OuChartAxesView=function(){};e.OuChartAxesView.prototype=new e.DfUiContentView;e.OuChartAxesView.prototype._ff_c="OuChartAxesView";e.OuChartAxesView.createView=function(t,i,n){let o=new e.OuChartAxesView;o.m_process=t;o.m_config=n;o.initView(i);return o};e.OuChartAxesView.getLocalizationProvider=function(){return e.XLocalizationCenter.getCenter().getLocalizationProviderByName(e.OuAxesViewI18n.PROVIDER_NAME)};e.OuChartAxesView.prototype.m_accountsPanel=null;e.OuChartAxesView.prototype.m_allEventId=null;e.OuChartAxesView.prototype.m_allPanels=null;e.OuChartAxesView.prototype.m_chartCommands=null;e.OuChartAxesView.prototype.m_chartDefinition=null;e.OuChartAxesView.prototype.m_chartOrientation=null;e.OuChartAxesView.prototype.m_colorPanel=null;e.OuChartAxesView.prototype.m_columnPanel=null;e.OuChartAxesView.prototype.m_config=null;e.OuChartAxesView.prototype.m_controller=null;e.OuChartAxesView.prototype.m_dataProvider=null;e.OuChartAxesView.prototype.m_defaultDropCondition=null;e.OuChartAxesView.prototype.m_defaultDropInfoHead=null;e.OuChartAxesView.prototype.m_defaultDropInfoListBetween=null;e.OuChartAxesView.prototype.m_dimensionsPanel=null;e.OuChartAxesView.prototype.m_dimensionsPanelLabel=null;e.OuChartAxesView.prototype.m_focusMoreButton=false;e.OuChartAxesView.prototype.m_focusedDim=null;e.OuChartAxesView.prototype.m_headerLayout=null;e.OuChartAxesView.prototype.m_kfsWillBeMeasures=false;e.OuChartAxesView.prototype.m_leftRightPanel=null;e.OuChartAxesView.prototype.m_linePanel=null;e.OuChartAxesView.prototype.m_measurePanel=null;e.OuChartAxesView.prototype.m_modelStateListenerId=null;e.OuChartAxesView.prototype.m_onChange=null;e.OuChartAxesView.prototype.m_orientationDropdown=null;e.OuChartAxesView.prototype.m_overlapYAxisCheckBox=null;e.OuChartAxesView.prototype.m_overlapYAxisLayout=null;e.OuChartAxesView.prototype.m_panelExpansion=null;e.OuChartAxesView.prototype.m_process=null;e.OuChartAxesView.prototype.m_root=null;e.OuChartAxesView.prototype.m_show100PCCheckBox=null;e.OuChartAxesView.prototype.m_show100PCCheckBoxLayout=null;e.OuChartAxesView.prototype.m_supportedVisualizations=null;e.OuChartAxesView.prototype.m_yLeftPanel=null;e.OuChartAxesView.prototype.m_yLeftyRightWrapperLabel=null;e.OuChartAxesView.prototype.m_yRightPanel=null;e.OuChartAxesView.prototype._observeDataProviderEvents=function(){if(e.notNull(this.m_dataProvider)){this.m_allEventId=this.m_dataProvider.getEventing().getListenerForAll().addConsumer(this.onAnyDataProviderEvent.bind(this));this.m_modelStateListenerId=this.m_dataProvider.getEventing().getListenerForModelState().addConsumer(this.onModelStateChangeEvent.bind(this))}};e.OuChartAxesView.prototype._unobserveDataProviderEvents=function(){if(e.notNull(this.m_dataProvider)){this.m_dataProvider.getEventing().getListenerForAll().removeConsumerByUuid(this.m_allEventId);this.m_dataProvider.getEventing().getListenerForAll().removeConsumerByUuid(this.m_modelStateListenerId);this.m_allEventId=null;this.m_modelStateListenerId=null}};e.OuChartAxesView.prototype.addChartOrientation=function(){if(!this.m_config.isChartingPhase2Enabled()){let t=e.OuChartAxesView.getLocalizationProvider();this.m_chartOrientation=this.m_root.addNewItemOfType(e.UiType.FLEX_LAYOUT);this.m_chartOrientation.setDirection(e.UiFlexDirection.COLUMN);this.m_chartOrientation.addCssClass("ffAxesViewVisualizationDropdownContainer");this.m_chartOrientation.setPadding(e.UiCssBoxEdges.create("10 0.375rem"));this.m_chartOrientation.setAlignItems(e.UiFlexAlignItems.START);this.m_chartOrientation.setJustifyContent(e.UiFlexJustifyContent.SPACE_BETWEEN);let i=this.m_chartOrientation.addNewItemOfType(e.UiType.FLEX_LAYOUT);let n=i.addNewItemOfType(e.UiType.LABEL);n.setText(t.getText(e.OuAxesViewI18n.BUILDER_CHART_ORIENTATION));n.setFlex("1");let o=this.m_chartOrientation.addNewItemOfType(e.UiType.FLEX_LAYOUT);o.setDirection(e.UiFlexDirection.COLUMN);o.useMaxWidth();o.setFlex("2");this.m_orientationDropdown=o.addNewItemOfType(e.UiType.DROPDOWN);this.m_orientationDropdown.useMaxWidth();let r=this.m_orientationDropdown.addNewItem();r.setText(t.getText(e.OuAxesViewI18n.BUILDER_CHART_ORIENTATION_HORIZONTAL));r.setIcon("fpa/bar-rows");r.setName(e.ChartOrientation.HORIZONTAL.getName());r.setCustomObject(e.ChartOrientation.HORIZONTAL);let a=this.m_orientationDropdown.addNewItem();a.setText(t.getText(e.OuAxesViewI18n.BUILDER_CHART_ORIENTATION_VERTICAL));a.setIcon("fpa/bar-columns");a.setName(e.ChartOrientation.VERTICAL.getName());a.setCustomObject(e.ChartOrientation.VERTICAL);this.m_orientationDropdown.registerOnSelect(e.UiLambdaSelectListener.create(e=>{let t=e.getSelectedItem().getCustomObject();let i=this.m_chartCommands.getChartOrientation();if(t!==i){this.m_chartCommands.setChartOrientation(t);this.notifyChangeListeners()}}))}};e.OuChartAxesView.prototype.addDimensionPanel=function(t,i,n){let o=this.getDimensionPanelListConfig();let r=e.OuDimensionPanelList.createDimensionPanelList(this.m_process,this.getGenesis(),this,o);r.setDragStartModelComponent(this.dragStartModelComponent.bind(this));r.setDragEnd(this.dragEnd.bind(this));r.getMenuButton().setVisible(false);r.setCustomObject(n);this.configurePanel(t,r,i);return r};e.OuChartAxesView.prototype.addMeasurePanelForLineCharts=function(){this.m_leftRightPanel=this.m_root.addNewItemOfType(e.UiType.PANEL);this.m_leftRightPanel.removeAttribute(e.UtUi5AttributeConstants.FAST_NAV_GROUP);this.m_leftRightPanel.addCssClass("ffGdsQbFoldable");this.m_leftRightPanel.setExpandable(true);this.m_leftRightPanel.setExpanded(true);this.m_leftRightPanel.setBackgroundDesign(e.UiBackgroundDesign.TRANSPARENT);let t=this.m_leftRightPanel.setNewHeaderToolbar();t.removeAttribute(e.UtUi5AttributeConstants.FAST_NAV_GROUP);this.m_yLeftyRightWrapperLabel=t.addNewItemOfType(e.UiType.LABEL);this.m_yLeftyRightWrapperLabel.setFontSize(e.UiCssLength.create("1.125rem"));this.m_yLeftyRightWrapperLabel.setMargin(e.UiCssBoxEdges.create("0"));this.m_yLeftyRightWrapperLabel.setText(e.OuChartAxesView.getLocalizationProvider().getText(e.OlapUiCommonI18n.COMMON_MEASURES))};e.OuChartAxesView.prototype.addOverlapYAxisCheckBox=function(){let t=this.m_dataProvider.getQueryManager().getQueryModel().getVisualizationManager().getCurrentActiveVisualizationDefinition();let i=t.getProtocolBindingType().isTypeOf(e.ProtocolBindingType.SAC_TABLE_GRID);if(e.notNull(this.m_headerLayout)&&e.isNull(this.m_overlapYAxisLayout)&&!i){this.m_overlapYAxisLayout=this.m_headerLayout.addNewItemOfType(e.UiType.FLEX_LAYOUT);this.m_overlapYAxisLayout.setPadding(e.UiCssBoxEdges.create("0 0 0.25rem 0"));this.m_overlapYAxisLayout.setDirection(e.UiFlexDirection.ROW);this.m_overlapYAxisLayout.useMaxWidth();this.m_overlapYAxisLayout.setAlignSelf(e.UiFlexAlignSelf.FLEX_START);this.m_overlapYAxisLayout.setAlignContent(e.UiFlexAlignContent.START);this.m_overlapYAxisLayout.setFlex("0 0 auto");this.m_overlapYAxisLayout.addCssClass("ffOverlapYAxisCheckBoxContainer");this.m_overlapYAxisCheckBox=this.m_overlapYAxisLayout.addNewItemOfType(e.UiType.CHECKBOX);this.m_overlapYAxisCheckBox.registerOnChange(e.UiLambdaChangeListener.create(e=>{let t=e.getControl();this.setOverlapYAxis(t.isChecked());this.notifyChangeListeners()}));let t=this.m_overlapYAxisLayout.addNewItemOfType(e.UiType.LABEL);t.setText(e.OuChartAxesView.getLocalizationProvider().getText(e.OuAxesViewI18n.BUILDER_OVERLAP_Y_AXIS));t.setAlignSelf(e.UiFlexAlignSelf.CENTER);t.setFlex("0 0 auto")}};e.OuChartAxesView.prototype.addPanel=function(t,i){let n=this.getDimensionPanelListConfig();n.setOnMemberItemCreated(e=>{e.getRoot().addCssClass("ffChartAxesChildItem");e.getRemoveButton().addCssClass("ffChartAxesRemoveButton")});let o=e.OuDimensionPanelList.createDimensionPanelList(this.m_process,this.getGenesis(),this,n);o.setDragStartModelComponent(this.dragStartModelComponent.bind(this));o.setDragEnd(this.dragEnd.bind(this));o.getMenuButton().setVisible(false);this.configurePanel(t,o,i);return o};e.OuChartAxesView.prototype.addPlaceholderItem=function(t,i){t.setVisible(true);let n=e.OuChartAxesView.getLocalizationProvider();let o=this.getGenesis().newControl(e.UiType.CUSTOM_LIST_ITEM);o.addCssClass("ffGdsQbBuilderPanelChildItem");o.addCssClass("ffGdsQbChartPanelEmptyPlaceholder");o.setDraggable(false);let r=o.setNewContent(e.UiType.FLEX_LAYOUT);r.useMaxWidth();r.setDirection(e.UiFlexDirection.ROW);r.setOverflow(e.UiOverflow.HIDDEN);r.setAlignItems(e.UiFlexAlignItems.CENTER);r.setMinHeight(e.UiCssLength.create("2rem"));let a=r.addNewItemOfType(e.UiType.LABEL);a.setText(n.getText(i));a.setFontStyle(e.UiFontStyle.ITALIC);t.addItem(o)};e.OuChartAxesView.prototype.addShow100PCCheckBox=function(){this.m_show100PCCheckBoxLayout=this.m_root.addNewItemOfType(e.UiType.FLEX_LAYOUT);this.m_show100PCCheckBoxLayout.setPadding(e.UiCssBoxEdges.create("5 0.375rem 3"));this.m_show100PCCheckBoxLayout.setDirection(e.UiFlexDirection.ROW);this.m_show100PCCheckBoxLayout.setFlex("0 0 auto");this.m_show100PCCheckBox=this.m_show100PCCheckBoxLayout.addNewItemOfType(e.UiType.CHECKBOX);this.m_show100PCCheckBox.registerOnChange(e.UiLambdaChangeListener.create(t=>{let i=t.getControl();let n=i.isChecked()?e.ChartStackingType.PERCENT:e.ChartStackingType.NORMAL;this.getChartDefinition().getChartSetting().setChartStackingType(n);this.notifyChangeListeners()}));let t=this.m_show100PCCheckBoxLayout.addNewItemOfType(e.UiType.LABEL);t.setText(e.OuChartAxesView.getLocalizationProvider().getText(e.OuAxesViewI18n.BUILDER_SHOW_AS_100_PERCENT));t.setAlignSelf(e.UiFlexAlignSelf.CENTER);t.setFlex("0 0 auto")};e.OuChartAxesView.prototype.buildViewUi=function(t){this.m_root=t.newRoot(e.UiType.FLEX_LAYOUT);this.m_root.addCssClass("ffChartAxesView");this.m_root.setDirection(e.UiFlexDirection.COLUMN);this.m_root.setHeight(e.UiCssLength.AUTO);let i=e.OuChartAxesView.getLocalizationProvider();this.addChartOrientation();this.addShow100PCCheckBox();let n=this.m_config.isChartingPhase_3Enabled();let o=n?i.getText(e.OuAxesViewI18n.BUILDER_CHART_AXIS_Y):i.getText(e.OlapUiCommonI18n.COMMON_ACCOUNT);this.m_accountsPanel=this.addPanel(this.m_root,o);if(!n){this.addMeasurePanelForLineCharts();let t=this.m_leftRightPanel.setNewContent(e.UiType.FLEX_LAYOUT);t.setDirection(e.UiFlexDirection.COLUMN);this.m_yLeftPanel=this.addPanel(t,i.getText(e.OuAxesViewI18n.BUILDER_CHART_LINE_YLEFT));this.m_yRightPanel=this.addPanel(t,i.getText(e.OuAxesViewI18n.BUILDER_CHART_LINE_YRIGHT))}else{this.m_leftRightPanel=e.UiContextDummy.getSingleton();this.m_yLeftyRightWrapperLabel=e.UiContextDummy.getSingleton();this.m_yLeftPanel=this.addPanel(this.m_root,i.getText(e.OuAxesViewI18n.BUILDER_CHART_LINE_YLEFT));this.m_yRightPanel=this.addPanel(this.m_root,i.getText(e.OuAxesViewI18n.BUILDER_CHART_LINE_YRIGHT))}this.m_columnPanel=this.addPanel(this.m_root,i.getText(e.OuAxesViewI18n.BUILDER_CHART_COLUMN));this.m_linePanel=this.addPanel(this.m_root,i.getText(e.OuAxesViewI18n.BUILDER_CHART_LINE));let r=n?i.getText(e.OuAxesViewI18n.BUILDER_CHART_AXIS_Y):i.getText(e.OlapUiCommonI18n.COMMON_MEASURES);this.m_measurePanel=this.addPanel(this.m_root,r);let a=n?i.getText(e.OuAxesViewI18n.BUILDER_CHART_AXIS_X):i.getText(e.OuAxesViewI18n.BUILDER_CHART_DIMENSIONS);this.m_dimensionsPanel=this.addDimensionPanel(this.m_root,a,e.VisualizationValueType.CATEGORY);this.m_colorPanel=this.addDimensionPanel(this.m_root,i.getText(e.OuAxesViewI18n.BUILDER_CHART_COLOR),e.VisualizationValueType.COLOR);this.m_dimensionsPanelLabel=this.m_dimensionsPanel.getPanelList().getPanelContent().insertNewItemOfType(e.UiType.LABEL,0);this.m_dimensionsPanelLabel.setFontSize(e.UiCssLength.create("1rem"));this.m_dimensionsPanelLabel.addCssClass("ffGdsQbNavigationPanelDimensionAttributesList");this.m_dimensionsPanelLabel.setVisible(false);this.m_dimensionsPanelLabel.setFontWeight(e.UiFontWeight.BOLD);this.m_dimensionsPanelLabel.setTextAlign(e.UiTextAlign.LEFT);this.m_dimensionsPanelLabel.setFlex("0 0 auto")};e.OuChartAxesView.prototype.configureDragDropDimension=function(t,i){let n=i.getPanelList();let o=n.getHeaderLayout();let r=n.getList();let a=n.getDropZone();let s=e.OlapUiDimensionUtil.getMemberNode(t);let l=this.getQueryManager().getQueryModel().isUniversalAccountModel();let u=e.notNull(s)&&(s.getDimension().getDimensionType()===e.DimensionType.SECONDARY_STRUCTURE||s.getDimension().getDimensionType()===e.DimensionType.MEASURE_STRUCTURE&&l);if(u){this.setDropInfo(o,r,a,e.UiLambdaDropListener.create(e=>{this.moveDimensionToFeed(s.getDimension(),i,e,true);this.dropMeasureToFeed(i,s,e);this.notifyChangeListeners()}))}else if(e.OlapUiDimensionUtil.isDimension(t)){this.setDropInfo(o,r,a,e.UiLambdaDropListener.create(e=>{let n=this.moveDimensionToFeed(t,i,e,false);if(n){this.notifyChangeListeners()}}))}};e.OuChartAxesView.prototype.configureDragDropMeasures=function(t,i){let n=e.OlapUiDimensionUtil.getMemberNode(t);if(e.isNull(n)){return}let o=i.getPanelList();let r=o.getHeaderLayout();let a=o.getList();let s=o.getDropZone();let l=n.getDimension();let u=l.getDimensionType()===e.DimensionType.MEASURE_STRUCTURE&&(this.m_kfsWillBeMeasures||i===this.m_measurePanel);let p=l.getDimensionType()===e.DimensionType.ACCOUNT&&!this.m_kfsWillBeMeasures&&i!==this.m_measurePanel;let m=u||p;if(m){this.setDropInfo(r,a,s,e.UiLambdaDropListener.create(e=>{this.dropMeasureToFeed(i,n,e);this.expandMemberNode(n);this.notifyChangeListeners()}))}};e.OuChartAxesView.prototype.configurePanel=function(t,i,n){let o=i.getPanelList();let r=o.getPanel();r.addAttribute(e.UtUi5AttributeConstants.FAST_NAV_GROUP,"true");r.addCssClass("ffChartAxesViewPanel");r.addCssClass("ffGdsQbBuilderPanelAxisPanel");r.addCssClass("ffGdsQbFoldableBorderContent");r.setHeight(e.UiCssLength.AUTO);r.registerOnCollapse(e.UiLambdaCollapseListener.create(e=>{this.m_panelExpansion.putBoolean(n,false)}));r.registerOnExpand(e.UiLambdaExpandListener.create(e=>{this.m_panelExpansion.putBoolean(n,true)}));o.getDropZone().setMinHeight(e.UiCssLength.create("2rem"));o.getHeaderLayout().addCssClass("ffChartAxesViewPanelHeaderToolbar");o.getTitle().setText(n);o.getList().setShowNoData(false);this.m_allPanels.add(i);t.addItem(i.getView())};e.OuChartAxesView.prototype.configurePanelVisibility=function(){if(!e.XObjectExt.isValidObject(this.getQueryManager())||!e.XObjectExt.isValidObject(this.getQueryManager().getQueryModel())||!e.XObjectExt.isValidObject(this.m_chartDefinition)){return}let t=this.getQueryManager().getQueryModel();this.m_accountsPanel.setVisible(t.isAccountModel());this.m_show100PCCheckBoxLayout.setVisible(false);let i=this.m_chartDefinition.getChartSetting().getChartType();if(i===e.ChartType.PIE||i===e.ChartType.DOUGHNUT){this.m_leftRightPanel.setVisible(false);this.m_yLeftPanel.setVisible(false);this.m_yRightPanel.setVisible(false);this.m_chartOrientation.setVisible(false);this.m_dimensionsPanel.setVisible(false);this.m_columnPanel.setVisible(false);this.m_linePanel.setVisible(false);this.m_measurePanel.setVisible(!t.isAccountModel());this.m_colorPanel.setVisible(true);this.removeAddedHeaderElements()}else if(i===e.ChartType.COMB_COLUMN_LINE||i===e.ChartType.COMB_STACKED_COLUMN_LINE){this.m_measurePanel.setVisible(false);this.m_accountsPanel.setVisible(false);this.m_leftRightPanel.setVisible(false);this.m_yLeftPanel.setVisible(false);this.m_yRightPanel.setVisible(false);this.m_columnPanel.setVisible(true);this.m_linePanel.setVisible(true);this.m_chartOrientation.setVisible(false);this.m_dimensionsPanel.setVisible(true);this.m_colorPanel.setVisible(true);this.addOverlapYAxisCheckBox()}else if(i.isTypeOf(e.ChartType.BAR_COLUMN)||i===e.ChartType.AREA){this.m_leftRightPanel.setVisible(false);this.m_yLeftPanel.setVisible(false);this.m_yRightPanel.setVisible(false);this.m_columnPanel.setVisible(false);this.m_linePanel.setVisible(false);this.m_measurePanel.setVisible(!t.isAccountModel());this.m_chartOrientation.setVisible(true);this.m_dimensionsPanel.setVisible(true);this.m_colorPanel.setVisible(true);if(i.isStackingChartType()){this.m_show100PCCheckBoxLayout.setVisible(true)}this.removeAddedHeaderElements()}else if(i===e.ChartType.LINE){this.m_measurePanel.setVisible(false);this.m_accountsPanel.setVisible(false);this.m_columnPanel.setVisible(false);this.m_linePanel.setVisible(false);this.m_leftRightPanel.setVisible(true);this.m_yLeftPanel.setVisible(true);this.m_yRightPanel.setVisible(true);this.m_chartOrientation.setVisible(false);this.m_dimensionsPanel.setVisible(true);this.m_colorPanel.setVisible(true);if(this.getQueryManager().getQueryModel().isUniversalAccountModel()){this.m_yLeftyRightWrapperLabel.setText(e.OuChartAxesView.getLocalizationProvider().getText(e.OlapUiCommonI18n.COMMON_ACCOUNT))}this.removeAddedHeaderElements()}else{this.setStatusMessage("unsupported chart type")}};e.OuChartAxesView.prototype.destroyView=function(){this._unobserveDataProviderEvents();this.m_process=null;this.m_root=e.XObjectExt.release(this.m_root);this.m_panelExpansion=e.XObjectExt.release(this.m_panelExpansion);this.m_chartDefinition=null;this.m_chartCommands=e.XObjectExt.release(this.m_chartCommands);this.m_accountsPanel=e.XObjectExt.release(this.m_accountsPanel);this.m_measurePanel=e.XObjectExt.release(this.m_measurePanel);this.m_chartOrientation=null;this.m_orientationDropdown=null;this.m_dimensionsPanel=e.XObjectExt.release(this.m_dimensionsPanel);this.m_yLeftPanel=e.XObjectExt.release(this.m_yLeftPanel);this.m_yRightPanel=e.XObjectExt.release(this.m_yRightPanel);this.m_colorPanel=e.XObjectExt.release(this.m_colorPanel);this.m_config=null;this.m_yLeftyRightWrapperLabel=null;this.m_show100PCCheckBox=null};e.OuChartAxesView.prototype.determineIfKFsWillBeMeasures=function(){let t=this.getQueryManager().getQueryModel();let i=t.getAccountDimension();if(t.isUniversalAccountModel()){let t=i.getAxisType();if(t===e.AxisType.COLUMNS){this.m_kfsWillBeMeasures=false}}else if(t.isAccountModel()){this.m_kfsWillBeMeasures=false}};e.OuChartAxesView.prototype.dragEnd=function(){e.XCollectionUtils.forEach(this.m_allPanels,e=>{let t=e.getPanelList();t.getHeaderLayout().setDropInfo(null);t.getList().setDropInfo(null);t.getDropZone().setDropInfo(null)})};e.OuChartAxesView.prototype.dragStartModelComponent=function(e){this.configureDragDropMeasures(e,this.m_accountsPanel);this.configureDragDropMeasures(e,this.m_measurePanel);this.configureDragDropMeasures(e,this.m_yLeftPanel);this.configureDragDropMeasures(e,this.m_yRightPanel);this.configureDragDropMeasures(e,this.m_columnPanel);this.configureDragDropMeasures(e,this.m_linePanel);this.configureDragDropDimension(e,this.m_dimensionsPanel);this.configureDragDropDimension(e,this.m_colorPanel)};e.OuChartAxesView.prototype.dropMeasureToFeed=function(t,i,n){let o=e.OuDesignerDragDropUtilities.calcDropIndex(n);this.moveMemberToIndexInternal(t,i,o)};e.OuChartAxesView.prototype.expandDimension=function(e){this.m_colorPanel.expandDimension(e);this.m_dimensionsPanel.expandDimension(e)};e.OuChartAxesView.prototype.expandMember=function(e,t){if(this.getQueryManager()===null){return}let i=this.getQueryManager().getQueryModel().getDimensionByName(e);let n=this.m_controller.getMembersByDimension(i);let o=n.getByKey(t);this.expandMemberNode(o)};e.OuChartAxesView.prototype.expandMemberNode=function(e){this.m_accountsPanel.expandToMemberNode(e);this.m_measurePanel.expandToMemberNode(e);this.m_yLeftPanel.expandToMemberNode(e);this.m_yRightPanel.expandToMemberNode(e)};e.OuChartAxesView.prototype.getChartDefinition=function(){return this.m_chartDefinition};e.OuChartAxesView.prototype.getDataProvider=function(){return this.m_dataProvider};e.OuChartAxesView.prototype.getDefaultDropCondition=function(){if(e.isNull(this.m_defaultDropCondition)){this.m_defaultDropCondition=e.UiDropCondition.createSimple(null,this.getDragElementTag(),null)}return this.m_defaultDropCondition};e.OuChartAxesView.prototype.getDefaultDropInfoHead=function(){if(e.isNull(this.m_defaultDropInfoHead)){this.m_defaultDropInfoHead=e.UiDropInfo.create(e.UiDropPosition.ON,e.UiDropEffect.MOVE,e.UiDropLayout.DEFAULT,null)}return this.m_defaultDropInfoHead};e.OuChartAxesView.prototype.getDefaultDropInfoList=function(){if(e.isNull(this.m_defaultDropInfoListBetween)){this.m_defaultDropInfoListBetween=e.UiDropInfo.create(e.UiDropPosition.BETWEEN,e.UiDropEffect.MOVE,e.UiDropLayout.DEFAULT,e.UiAggregation.ITEMS)}return this.m_defaultDropInfoListBetween};e.OuChartAxesView.prototype.getDimensionMemberVisibility=function(e){return this.m_controller.getMemberVisibility(e)};e.OuChartAxesView.prototype.getDimensionMembers=function(e){return this.m_controller.getMembersInOrder(e)};e.OuChartAxesView.prototype.getDimensionPanelListConfig=function(){let t=e.OuDimensionPanelListConfig.createConfig(this.m_config.getApplication());t.setMenuProvider(this.m_config.getMenuProvider());t.setLocalizationProviderName(e.OuAxesViewI18n.PROVIDER_NAME);t.setDefaultPresentation(this.m_config.getDefaultPresentation());t.setCalculationsEnabled(this.m_config.isCalculationsEnabled());t.setRightClickContextMenuForDimensionEnabled(this.m_config.isRightClickContextMenuForDimensionEnabled());t.setRightClickContextMenuForAttributeEnabled(this.m_config.isRightClickContextMenuForAttributeEnabled());t.setRightClickContextMenuForMemberEnabled(this.m_config.isRightClickContextMenuForMemberEnabled());t.setDragElementTag(this.m_config.getDragElementTag());t.setShowMeasureMoreMenuButton(true);t.setFocusContext(this);return t};e.OuChartAxesView.prototype.getDragElementTag=function(){return this.m_config.getDragElementTag()};e.OuChartAxesView.prototype.getFocusedName=function(){return this.m_focusedDim};e.OuChartAxesView.prototype.getQueryManager=function(){return e.notNull(this.m_dataProvider)?this.m_dataProvider.getQueryManager():null};e.OuChartAxesView.prototype.getVisualizationTypeOfMember=function(t){let i=this.m_chartDefinition.getChartSetting();let n=i.getVisualizationValueTypes();for(let o=0;o<n.size();o++){let r=n.get(o);let a=i.getTypedValueSelectionsForType(r);let s=e.XCollectionUtils.findFirst(a,i=>e.XString.isEqual(i.getDimensionMember().getName(),t.getName()));if(e.notNull(s)){return r}}return null};e.OuChartAxesView.prototype.getVisualizationValueTypeForPanel=function(t){let i=this.m_chartDefinition.getChartSetting().getChartType();if(t===this.m_accountsPanel){return i.getPrimaryValueFeed()}if(t===this.m_measurePanel){if(this.getQueryManager().getQueryModel().isAccountModel()){return i.getFeedForQueryModelAxis(e.AxisType.ROWS)}return i.getPrimaryValueFeed()}if(t===this.m_yLeftPanel){return i.getPrimaryValueFeed()}if(t===this.m_yRightPanel){return i.getSecondaryValueFeed()}if(t===this.m_columnPanel){return i.getPrimaryValueFeed()}if(t===this.m_linePanel){return i.getSecondaryValueFeed()}if(t===this.m_dimensionsPanel){return e.VisualizationValueType.CATEGORY}if(t===this.m_colorPanel){return e.VisualizationValueType.COLOR}throw e.XException.createIllegalArgumentException("no viz value type for panel list")};e.OuChartAxesView.prototype.handleAttributeRemovalFromList=function(e,t){};e.OuChartAxesView.prototype.handleDimensionRemovalFromList=function(e,t){let i=e.getCustomObject();this.m_controller.removeDimension(t,()=>{this.removeDimensionFromFeed(t,i);this.notifyChangeListeners()})};e.OuChartAxesView.prototype.handleMemberRemovalFromList=function(e,t){let i=e.getCustomObject();this.removeMeasureFromFeed(t,i)};e.OuChartAxesView.prototype.isFocusMoreButton=function(){return this.m_focusMoreButton};e.OuChartAxesView.prototype.moveChildrenIfAny=function(t,i,n){if(t.hasChildren()){let o=this.m_chartDefinition.getChartSetting();let r=t.getChildren();for(let t=0;t<r.size();t++){let a=r.get(t);let s=a.getDimensionMember();let l=e.QKeyFigureSelection.create(this.getQueryManager().getQueryModel(),s,this.m_chartDefinition,n);o.removeTypedValueSelectionForDimensionMember(s,i);if(e.notNull(l)){o.addTypedValueSelection(n,l)}this.moveChildrenIfAny(a,i,n)}}};e.OuChartAxesView.prototype.moveDimensionToFeed=function(t,i,n,o){let r=this.getVisualizationValueTypeForPanel(i);let a=e.OuDesignerDragDropUtilities.calcDropIndex(n);let s=this.m_chartCommands.getDimensionInFeed(r);if(!e.XCollectionUtils.hasElements(s)){a=0}if(s.contains(t)&&(o||a===s.getIndex(t))){return false}this.removeDimension(t);this.m_chartCommands.moveDimensionToFeedAtIndex(t,r,a);this.m_panelExpansion.putBoolean(i.getPanelList().getTitle().getText(),true);return true};e.OuChartAxesView.prototype.moveMemberToIndex=function(e,t,i){this.moveMemberToIndexInternal(e,t,i);this.notifyChangeListeners()};e.OuChartAxesView.prototype.moveMemberToIndexInternal=function(t,i,n){let o=this.getVisualizationValueTypeForPanel(t);let r=i.getDimensionMember();let a=this.m_chartDefinition.getChartSetting();let s=this.getVisualizationTypeOfMember(r);if(a.getChartType().isSingleMeasureChartType()&&o===e.VisualizationValueType.SIZE){a.clearTypedValueSelectionsForType(o);this.m_controller.removeAllMembers(r.getDimension())}this.m_controller.addMember(i);this.m_controller.moveMemberToIndex(i,n);let l=e.QKeyFigureSelection.create(this.getQueryManager().getQueryModel(),r,this.m_chartDefinition,o);a.removeTypedValueSelectionForDimensionMember(r,s);a.insertTypedValueSelection(o,n,l);this.moveChildrenIfAny(i,s,o);this.m_panelExpansion.putBoolean(t.getPanelList().getTitle().getText(),true)};e.OuChartAxesView.prototype.notifyChangeListeners=function(){if(e.notNull(this.m_onChange)){this.m_onChange(null)}if(e.notNull(this.m_dataProvider)){if(e.notNull(this.m_chartDefinition)){this.m_dataProvider.getEventing().notifyExternalVisualizationChange(this.m_chartDefinition.getName())}this.m_dataProvider.getEventing().notifyExternalModelChange(null)}};e.OuChartAxesView.prototype.onAnyDataProviderEvent=function(t){let i=t.getLifecycleEvent();if(e.notNull(i)&&i.getNewState()===e.DataProviderLifecycle.RELEASED){this.setDataProvider(null);return}let n=e.OlapDataProviderUtil.getOlapAllEvent(t);if(e.notNull(n)){if(n.getModelChangeEvent()!==null||n.getVisualizationChangeEvent()!==null){this.updateUi();return}let t=n.getResultDataFetchEvent();if(e.notNull(this.m_chartDefinition)&&e.notNull(t)){if(t.getStep()===e.OlapDataProviderResultDataFetchStep.VISUALIZATION_FILLED&&t.getFilledVisualizationNames().contains(this.m_chartDefinition.getName())){this.updateUi()}}}};e.OuChartAxesView.prototype.onModelStateChangeEvent=function(t){if(t.getNewState()===e.OlapDataProviderModelState.QUERY){this.updateUi()}};e.OuChartAxesView.prototype.placeholdersForMeasures=function(){let t=!(this.getQueryManager().getQueryModel().isUniversalAccountModel()||this.getQueryManager().getQueryModel().isAccountModel())?e.OuAxesViewI18n.BUILDER_ADD_MEASURE_INFO:e.OuAxesViewI18n.BUILDER_ADD_ACCOUNT_INFO;let i=!(this.getQueryManager().getQueryModel().isUniversalAccountModel()||this.getQueryManager().getQueryModel().isAccountModel())?e.OuAxesViewI18n.BUILDER_ADD_MEASURE_OPTIONAL:e.OuAxesViewI18n.BUILDER_ADD_ACCOUNT_OPTIONAL;if(this.m_measurePanel.isVisible()&&!this.m_measurePanel.getPanelList().getList().hasItems()){this.addPlaceholderItem(this.m_measurePanel.getPanelList().getList(),t)}else if(this.m_yRightPanel.isVisible()){let e=this.m_yLeftPanel.getPanelList().getList();let n=this.m_yRightPanel.getPanelList().getList();if(!e.hasItems()&&!n.hasItems()){this.addPlaceholderItem(e,t);this.addPlaceholderItem(n,t)}else if(!e.hasItems()){this.addPlaceholderItem(e,i)}else if(!n.hasItems()){this.addPlaceholderItem(n,i)}}else if(this.m_columnPanel.isVisible()){let e=this.m_columnPanel.getPanelList().getList();let n=this.m_linePanel.getPanelList().getList();if(!e.hasItems()&&!n.hasItems()){this.addPlaceholderItem(e,t);this.addPlaceholderItem(n,t)}else if(!e.hasItems()){this.addPlaceholderItem(e,i)}else if(!n.hasItems()){this.addPlaceholderItem(n,i)}}};e.OuChartAxesView.prototype.removeAddedHeaderElements=function(){if(e.notNull(this.m_overlapYAxisLayout)){this.m_headerLayout.removeItem(this.m_overlapYAxisLayout);this.m_overlapYAxisLayout=e.XObjectExt.release(this.m_overlapYAxisLayout);this.m_overlapYAxisCheckBox=e.XObjectExt.release(this.m_overlapYAxisCheckBox)}};e.OuChartAxesView.prototype.removeDimension=function(e){for(let t=0;t<this.m_supportedVisualizations.size();t++){let i=this.m_supportedVisualizations.get(t);let n=this.m_chartCommands.getDimensionInFeed(i);if(n.contains(e)){this.m_chartCommands.removeDimensionFromFeed(e,i)}}};e.OuChartAxesView.prototype.removeDimensionFromFeed=function(e,t){this.m_chartCommands.removeDimensionFromFeed(e,t)};e.OuChartAxesView.prototype.removeMeasureFromFeed=function(e,t){let i=e.getDimensionMember();this.m_chartCommands.removeValueMapping(t,i);this.m_controller.removeMember(e);this.moveChildrenIfAny(e,t,null);this.notifyChangeListeners()};e.OuChartAxesView.prototype.resetFocus=function(){this.m_focusedDim=null;this.m_focusMoreButton=false};e.OuChartAxesView.prototype.resetUi=function(){this.m_root.setBusy(false);this.getGenesis().setRoot(this.m_root)};e.OuChartAxesView.prototype.setChartDefinition=function(e){this.m_chartDefinition=e;if(this.getQueryManager()!==null){this.m_chartCommands=this.getQueryManager().getQueryModel().getChartCommands(this.m_chartDefinition.getName())}};e.OuChartAxesView.prototype.setDataProvider=function(e){this._unobserveDataProviderEvents();this.m_dataProvider=e;this._observeDataProviderEvents();this.m_controller.setQueryManager(this.getQueryManager());this.updateUi()};e.OuChartAxesView.prototype.setDropInfo=function(t,i,n,o){t.setDropInfo(this.getDefaultDropInfoHead());t.setDropCondition(this.getDefaultDropCondition());t.registerOnDrop(o);i.setDropInfo(this.getDefaultDropInfoList());i.setDropCondition(this.getDefaultDropCondition());i.registerOnDrop(o);if(e.notNull(n)){n.setDropInfo(this.getDefaultDropInfoHead());n.setDropCondition(this.getDefaultDropCondition());n.registerOnDrop(o)}};e.OuChartAxesView.prototype.setFocusMoreButton=function(e){this.m_focusMoreButton=e};e.OuChartAxesView.prototype.setFocusedName=function(e){this.m_focusedDim=e};e.OuChartAxesView.prototype.setHeaderLayout=function(e){this.m_headerLayout=e};e.OuChartAxesView.prototype.setOnChange=function(e){this.m_onChange=e};e.OuChartAxesView.prototype.setOverlapYAxis=function(e){this.getChartDefinition().getChartSetting().setAreYAxisOnSameSide(!e)};e.OuChartAxesView.prototype.setPresentation=function(e){this.m_dimensionsPanel.setPresentation(e);this.m_colorPanel.setPresentation(e)};e.OuChartAxesView.prototype.setQueryManager=e.noSupport;e.OuChartAxesView.prototype.setStatusMessage=function(t){let i=this.getGenesis().newRoot(e.UiType.FLEX_LAYOUT);i.useMaxSpace();i.setDirection(e.UiFlexDirection.COLUMN);i.setAlignItems(e.UiFlexAlignItems.CENTER);let n=i.addNewItemOfType(e.UiType.LABEL);n.setTextAlign(e.UiTextAlign.CENTER);n.setText(t)};e.OuChartAxesView.prototype.setupView=function(){this.m_controller=e.OuChartAxesController.createChartController();this.m_allPanels=e.XList.create();this.m_panelExpansion=e.XProperties.create();this.m_kfsWillBeMeasures=true;this.m_chartOrientation=e.UiContextDummy.getSingleton();this.m_orientationDropdown=e.UiContextDummy.getSingleton();this.m_show100PCCheckBox=e.UiContextDummy.getSingleton();this.m_supportedVisualizations=e.XListOfNameObject.create();this.m_supportedVisualizations.add(e.VisualizationValueType.COLOR);this.m_supportedVisualizations.add(e.VisualizationValueType.CATEGORY)};e.OuChartAxesView.prototype.updateDimensionFeed=function(t,i){if(!t.isVisible()){return}let n=this.m_chartCommands.getDimensionInFeed(i);t.updateViewWithDimensions(n);if(!t.getPanelList().getList().hasItems()){this.addPlaceholderItem(t.getPanelList().getList(),e.OuAxesViewI18n.BUILDER_ADD_DIMENSION_OPTIONAL)}if(t===this.m_dimensionsPanel){let i=this.m_config.isChartingPhase_3Enabled();if(i){let i=e.OuChartAxesView.getLocalizationProvider();let n=this.getChartDefinition().getChartSetting().getChartType().isTypeOf(e.ChartType.BAR);let o=n?i.getText(e.OuAxesViewI18n.BUILDER_CHART_AXIS_Y):i.getText(e.OuAxesViewI18n.BUILDER_CHART_AXIS_X);t.getPanelList().getTitle().setText(o)}else{let t=e.OuChartAxesView.getLocalizationProvider();let i=t.getText(e.OuAxesViewI18n.BUILDER_CHART_AXIS_X);let n=t.getText(e.OuAxesViewI18n.BUILDER_CHART_AXIS_Y);let o=this.m_chartDefinition.getChartSetting().getChartType();let r=o===e.ChartType.LINE?i:o.isTypeOf(e.ChartType.COLUMN)?i:n;this.m_dimensionsPanelLabel.setText(r);this.m_dimensionsPanelLabel.setVisible(true)}}};e.OuChartAxesView.prototype.updateMeasureFeed=function(t,i){let n=t.getPanelList();if(!n.isVisible()){return}let o=t===this.m_yLeftPanel||t===this.m_yRightPanel;let r=t===this.m_columnPanel||t===this.m_linePanel;let a=this.m_config.isChartingPhase_3Enabled();if(a&&!o&&!r){let t=e.OuChartAxesView.getLocalizationProvider();let i=this.getChartDefinition().getChartSetting().getChartType().isTypeOf(e.ChartType.BAR);let o=this.getChartDefinition().getChartSetting().getChartType().isSingleMeasureChartType();let r=i?t.getText(e.OuAxesViewI18n.BUILDER_CHART_AXIS_X):o?t.getText(e.OuAxesViewI18n.BUILDER_CHART_VALUE_SELECTION):t.getText(e.OuAxesViewI18n.BUILDER_CHART_AXIS_Y);n.getTitle().setText(r)}let s=this.getQueryManager().getQueryModel();let l=s.isAccountModel();let u=t===this.m_accountsPanel||o||r;let p=l&&u?s.getAccountDimension():s.getMeasureDimension();let m=l&&p!==s.getAccountDimension();let c=m?null:i;let d=this.m_controller.getMembersInOrder(p);let g=this.m_chartCommands.getMeasuresForDimension(c,p);let O=e.XStream.of(g).collect(e.XStreamCollector.toSetOfString(e=>e.getName()));t.updateViewWithMembers(d,O);t.setCustomObject(c)};e.OuChartAxesView.prototype.updateUi=function(){this.m_root.setBusy(false);this.configurePanelVisibility();this.m_controller.updateMembers().onThen(t=>{if(t.getBoolean()){this.m_accountsPanel.markDirty();this.m_measurePanel.markDirty();this.m_yLeftPanel.markDirty();this.m_yRightPanel.markDirty();this.m_columnPanel.markDirty();this.m_linePanel.markDirty()}this.resetUi();if(!e.XObjectExt.isValidObject(this.getQueryManager())||!e.XObjectExt.isValidObject(this.getQueryManager().getQueryModel())||!e.XObjectExt.isValidObject(this.m_chartDefinition)){return}this.determineIfKFsWillBeMeasures();let i=this.m_chartDefinition.getChartSetting().getChartType();this.updateMeasureFeed(this.m_accountsPanel,i.getPrimaryValueFeed());this.updateMeasureFeed(this.m_measurePanel,i.getPrimaryValueFeed());this.updateMeasureFeed(this.m_yLeftPanel,i.getPrimaryValueFeed());this.updateMeasureFeed(this.m_yRightPanel,i.getSecondaryValueFeed());this.updateMeasureFeed(this.m_columnPanel,i.getPrimaryValueFeed());this.updateMeasureFeed(this.m_linePanel,i.getSecondaryValueFeed());this.placeholdersForMeasures();let n=this.m_chartCommands.getChartOrientation()!==null?this.m_chartCommands.getChartOrientation():e.ChartOrientation.HORIZONTAL;let o=this.m_orientationDropdown.getItemByName(n.getName());this.m_orientationDropdown.setSelectedItem(o);let r=e.notNull(this.m_chartDefinition)&&e.ChartStackingType.PERCENT.isEqualTo(this.m_chartDefinition.getChartSetting().getChartStackingType());this.m_show100PCCheckBox.setChecked(r);let a=e.notNull(this.m_chartDefinition)&&!this.m_chartDefinition.getChartSetting().areYAxisOnSameSide();if(e.notNull(this.m_overlapYAxisCheckBox)){this.m_overlapYAxisCheckBox.setChecked(a)}this.updateDimensionFeed(this.m_dimensionsPanel,e.VisualizationValueType.CATEGORY);this.updateDimensionFeed(this.m_colorPanel,e.VisualizationValueType.COLOR);e.XCollectionUtils.forEach(this.m_allPanels,e=>{let t=e.getPanelList();let i=t.getList().hasItems();let n=t.getPanel();n.setExpandable(i);n.setExpanded(this.m_panelExpansion.getBooleanByKeyExt(t.getTitle().getText(),true))})})};e.OuGridAxesView=function(){};e.OuGridAxesView.prototype=new e.DfUiContentView;e.OuGridAxesView.prototype._ff_c="OuGridAxesView";e.OuGridAxesView.buildSplitterItems=function(t,i){let n=t.addNewItem();n.setContent(i);n.setMinHeight(e.UiCssLength.create("15%"));n.setHeight(e.UiCssLength.create("50%"));return n};e.OuGridAxesView.createView=function(t,i,n){let o=new e.OuGridAxesView;o.m_process=t;o.m_config=n;o.initView(i);return o};e.OuGridAxesView.getLocalizationProvider=function(){return e.XLocalizationCenter.getCenter().getLocalizationProviderByName(e.OuAxesViewI18n.PROVIDER_NAME)};e.OuGridAxesView.resetDropInfo=function(e){e.getHeader().setDropInfo(null);e.getChildrenList().setDropInfo(null)};e.OuGridAxesView.prototype.m_colSplitter=null;e.OuGridAxesView.prototype.m_cols=null;e.OuGridAxesView.prototype.m_config=null;e.OuGridAxesView.prototype.m_controller=null;e.OuGridAxesView.prototype.m_dataProvider=null;e.OuGridAxesView.prototype.m_defaultDropCondition=null;e.OuGridAxesView.prototype.m_defaultDropInfoHead=null;e.OuGridAxesView.prototype.m_defaultDropInfoListBetween=null;e.OuGridAxesView.prototype.m_defaultDropInfoListOn=null;e.OuGridAxesView.prototype.m_focusMoreButton=false;e.OuGridAxesView.prototype.m_focusedDimension=null;e.OuGridAxesView.prototype.m_lifecycleChangeId=null;e.OuGridAxesView.prototype.m_modelChangeId=null;e.OuGridAxesView.prototype.m_modelStateListenerId=null;e.OuGridAxesView.prototype.m_onChange=null;e.OuGridAxesView.prototype.m_process=null;e.OuGridAxesView.prototype.m_root=null;e.OuGridAxesView.prototype.m_rowSplitter=null;e.OuGridAxesView.prototype.m_rows=null;e.OuGridAxesView.prototype.m_splitter=null;e.OuGridAxesView.prototype.buildAxisView=function(t,i){let n=e.OuDimensionPanelListConfig.createConfig(this.m_config.getApplication());n.setMenuProvider(this.m_config.getMenuProvider());n.setLocalizationProviderName(e.OuAxesViewI18n.PROVIDER_NAME);n.setDefaultPresentation(this.m_config.getDefaultPresentation());n.setCalculationsEnabled(this.m_config.isCalculationsEnabled());n.setRightClickContextMenuForDimensionEnabled(this.m_config.isRightClickContextMenuForDimensionEnabled());n.setRightClickContextMenuForAttributeEnabled(this.m_config.isRightClickContextMenuForAttributeEnabled());n.setRightClickContextMenuForMemberEnabled(this.m_config.isRightClickContextMenuForMemberEnabled());n.setDragElementTag(this.m_config.getDragElementTag());n.setShowAttributes(true);n.setFocusContext(this);let o=e.OuDimensionPanelList.createDimensionPanelList(this.m_process,this.getGenesis(),this,n);o.setDragStartModelComponent(this.dragStartModelComponent.bind(this));o.setDragEnd(this.dragEnd.bind(this));o.getView().setExpandable(this.m_config.isUseRowsAndColumnsSplitterExpandable());o.getView().setAnimated(!this.m_config.isUseRowsAndColumnsSplitterExpandable());let r=o.getPanelList();let a=r.getPanel();a.addAttribute(e.UtUi5AttributeConstants.FAST_NAV_GROUP,"true");a.addCssClass(i===e.AxisType.ROWS?"ffGdsQbBuilderPanelAxisRow":"ffGdsQbBuilderPanelAxisColumn");let s=r.getTitle();s.setText(t);s.setTooltip(t);return o};e.OuGridAxesView.prototype.buildViewUi=function(t){this.m_root=t.newRoot(e.UiType.FLEX_LAYOUT);this.m_root.addCssClass("ffGridAxesView");this.m_root.setDirection(e.UiFlexDirection.COLUMN);this.m_root.useMaxSpace();let i=e.OuGridAxesView.getLocalizationProvider();this.m_rows=this.buildAxisView(i.getText(e.OlapUiCommonI18n.AXIS_ROWS),e.AxisType.ROWS);this.m_cols=this.buildAxisView(i.getText(e.OlapUiCommonI18n.AXIS_COLUMNS),e.AxisType.COLUMNS);this.m_rows.getView().setFlex("0 0 auto");this.m_cols.getView().setFlex("0 0 auto");this.m_rows.getView().setExpanded(true);this.m_cols.getView().setExpanded(true);this.m_splitter=this.m_root.addNewItemOfType(e.UiType.INTERACTIVE_SPLITTER);this.m_splitter.setOrientation(e.UiOrientation.VERTICAL);this.m_splitter.setEnableReordering(false);this.m_rowSplitter=e.OuGridAxesView.buildSplitterItems(this.m_splitter,this.m_rows.getView());this.m_colSplitter=e.OuGridAxesView.buildSplitterItems(this.m_splitter,this.m_cols.getView());this.m_rows.setOnPanelCollapsed(()=>{this.m_rows.getView().setExpanded(false);this.updateSplitter()});this.m_cols.setOnPanelCollapsed(()=>{this.m_cols.getView().setExpanded(false);this.updateSplitter()});this.m_rows.setOnPanelExpanded(()=>{this.m_rows.getView().setExpanded(true);this.updateSplitter()});this.m_cols.setOnPanelExpanded(()=>{this.m_cols.getView().setExpanded(true);this.updateSplitter()})};e.OuGridAxesView.prototype.configureDragDropAxis=function(t,i,n){let o=n.getPanelList();let r=o.getHeaderLayout();let a=o.getList();let s=o.getDropZone();if(e.OlapUiDimensionUtil.isDimension(t)){let n=t;this.setDropInfo(r,a,s,true,e.UiLambdaDropListener.create(e=>{this.m_controller.handleDimDrop(e,n,i);this.expandDimension(n.getName());this.notifyChangeListeners()}))}else if(e.OlapUiDimensionUtil.isMemberNode(t)||e.OlapUiDimensionUtil.isAttribute(t)){this.setDropInfo(r,a,s,true,e.UiLambdaDropListener.create(n=>{if(e.OlapUiDimensionUtil.isMemberNode(t)){let o=e.OlapUiDimensionUtil.getMemberNode(t);this.m_controller.handleMemberDrop(n,o,i);this.expandDimension(o.getDimension().getName());this.expandMemberNode(o);this.notifyChangeListeners()}else if(e.OlapUiDimensionUtil.isAttribute(t)){let e=t;this.m_controller.handleAttributeDrop(n,e,i);this.expandDimension(e.getDimension().getName());this.notifyChangeListeners()}}))}};e.OuGridAxesView.prototype.configureDropForDimension=function(t,i){let n=i.getDimension();let o=i.getHeader();let r=i.getChildrenList();if(e.OlapUiDimensionUtil.isMemberNode(t)){let i=e.OlapUiDimensionUtil.getMemberNode(t);if(i.getDimension()===n){let t=this.m_controller.allowDropBetween(n);this.setDropInfo(o,r,null,t,e.UiLambdaDropListener.create(e=>{this.m_controller.handleMemberDrop(e,i,null);this.expandDimension(n.getName());this.expandMemberNode(i);this.notifyChangeListeners()}))}}else if(e.OlapUiDimensionUtil.isAttribute(t)){let i=t;if(i.getDimension()===n){this.setDropInfo(o,r,null,true,e.UiLambdaDropListener.create(e=>{this.m_controller.handleAttributeDrop(e,i,null);this.expandDimension(n.getName());this.notifyChangeListeners()}))}}};e.OuGridAxesView.prototype.destroyView=function(){this.unobserveDataProviderEvents();this.m_process=null;this.m_onChange=null;this.m_config=null;this.m_controller=e.XObjectExt.release(this.m_controller);this.m_focusedDimension=null;this.m_root=e.XObjectExt.release(this.m_root);this.m_rows=e.XObjectExt.release(this.m_rows);this.m_cols=e.XObjectExt.release(this.m_cols)};e.OuGridAxesView.prototype.dragEnd=function(){this.m_rows.getPanelList().getHeaderLayout().setDropInfo(null);this.m_rows.getPanelList().getList().setDropInfo(null);this.m_cols.getPanelList().getHeaderLayout().setDropInfo(null);this.m_cols.getPanelList().getList().setDropInfo(null);e.XCollectionUtils.forEach(this.m_rows.getDimensionViews(),e.OuGridAxesView.resetDropInfo);e.XCollectionUtils.forEach(this.m_cols.getDimensionViews(),e.OuGridAxesView.resetDropInfo)};e.OuGridAxesView.prototype.dragStartModelComponent=function(t){this.configureDragDropAxis(t,e.AxisType.ROWS,this.m_rows);this.configureDragDropAxis(t,e.AxisType.COLUMNS,this.m_cols);e.XCollectionUtils.forEach(this.m_rows.getDimensionViews(),e=>{this.configureDropForDimension(t,e)});e.XCollectionUtils.forEach(this.m_cols.getDimensionViews(),e=>{this.configureDropForDimension(t,e)})};e.OuGridAxesView.prototype.expandDimension=function(e){this.m_rows.expandDimension(e);this.m_cols.expandDimension(e)};e.OuGridAxesView.prototype.expandMember=function(t,i){if(this.getQueryManager()===null){return}let n=this.getQueryManager().getQueryModel().getDimensionByName(t);if(e.isNull(n)){return}let o=this.m_controller.getMembersByDimension(n);if(e.isNull(o)){return}let r=o.getByKey(i);if(e.isNull(r)){return}this.expandMemberNode(r)};e.OuGridAxesView.prototype.expandMemberNode=function(e){this.m_rows.expandToMemberNode(e);this.m_cols.expandToMemberNode(e)};e.OuGridAxesView.prototype.getDataProvider=function(){return this.m_dataProvider};e.OuGridAxesView.prototype.getDefaultDropCondition=function(){if(e.isNull(this.m_defaultDropCondition)){this.m_defaultDropCondition=e.UiDropCondition.createSimple(null,this.getDragElementTag(),null)}return this.m_defaultDropCondition};e.OuGridAxesView.prototype.getDefaultDropInfoHead=function(){if(e.isNull(this.m_defaultDropInfoHead)){this.m_defaultDropInfoHead=e.UiDropInfo.create(e.UiDropPosition.ON,e.UiDropEffect.MOVE,e.UiDropLayout.DEFAULT,null)}return this.m_defaultDropInfoHead};e.OuGridAxesView.prototype.getDefaultDropInfoList=function(t){if(t){if(e.isNull(this.m_defaultDropInfoListBetween)){this.m_defaultDropInfoListBetween=e.UiDropInfo.create(e.UiDropPosition.BETWEEN,e.UiDropEffect.MOVE,e.UiDropLayout.DEFAULT,e.UiAggregation.ITEMS)}return this.m_defaultDropInfoListBetween}if(e.isNull(this.m_defaultDropInfoListOn)){this.m_defaultDropInfoListOn=e.UiDropInfo.create(e.UiDropPosition.ON,e.UiDropEffect.MOVE,e.UiDropLayout.DEFAULT,null)}return this.m_defaultDropInfoListOn};e.OuGridAxesView.prototype.getDimensionMemberVisibility=function(e){return this.m_controller.getMemberVisibility(e)};e.OuGridAxesView.prototype.getDimensionMembers=function(e){return this.m_controller.getMembersInOrder(e)};e.OuGridAxesView.prototype.getDragElementTag=function(){return this.m_config.getDragElementTag()};e.OuGridAxesView.prototype.getFocusedName=function(){return this.m_focusedDimension};e.OuGridAxesView.prototype.getMenuProvider=function(){return this.m_config.getMenuProvider()};e.OuGridAxesView.prototype.getQueryManager=function(){return e.notNull(this.m_dataProvider)?this.m_dataProvider.getQueryManager():null};e.OuGridAxesView.prototype.handleAttributeRemovalFromList=function(e,t){this.m_controller.removeAttribute(t);this.notifyChangeListeners()};e.OuGridAxesView.prototype.handleDimensionRemovalFromList=function(e,t){this.m_controller.removeDimension(t,this.notifyChangeListeners.bind(this))};e.OuGridAxesView.prototype.handleMemberRemovalFromList=function(e,t){this.m_controller.removeMember(t);this.notifyChangeListeners()};e.OuGridAxesView.prototype.isFocusMoreButton=function(){return this.m_focusMoreButton};e.OuGridAxesView.prototype.moveMemberToIndex=function(e,t,i){this.m_controller.moveMemberToIndex(t,i);this.notifyChangeListeners()};e.OuGridAxesView.prototype.notifyChangeListeners=function(){if(e.notNull(this.m_onChange)){this.m_onChange(null)}if(e.notNull(this.m_dataProvider)){this.m_dataProvider.getEventing().notifyExternalModelChange(null)}};e.OuGridAxesView.prototype.observeDataProviderEvents=function(){if(e.notNull(this.m_dataProvider)){this.m_lifecycleChangeId=this.m_dataProvider.getEventing().getListenerForLifecycle().addConsumer(this.onLifecycleChangeEvt.bind(this));this.m_modelChangeId=this.m_dataProvider.getEventing().getListenerForModelChanges().addConsumer(this.onModelChangeEvt.bind(this));this.m_modelStateListenerId=this.m_dataProvider.getEventing().getListenerForModelState().addConsumer(this.onModelStateChangeEvent.bind(this))}};e.OuGridAxesView.prototype.onLifecycleChangeEvt=function(t){if(t.getNewState()===e.DataProviderLifecycle.RELEASED){this.setDataProvider(null)}};e.OuGridAxesView.prototype.onModelChangeEvt=function(e){this.updateUi()};e.OuGridAxesView.prototype.onModelStateChangeEvent=function(t){if(t.getNewState()===e.OlapDataProviderModelState.QUERY){this.updateUi()}};e.OuGridAxesView.prototype.resetFocus=function(){this.m_focusedDimension=null;this.m_focusMoreButton=false};e.OuGridAxesView.prototype.setDataProvider=function(t){this.unobserveDataProviderEvents();this.m_dataProvider=t;this.observeDataProviderEvents();this.m_controller.setQueryManager(this.getQueryManager());this.m_cols.hardResetUi();this.m_rows.hardResetUi();this.updateUi();if(this.getQueryManager()!==null&&this.getMenuProvider()!==null){let t=this.getQueryManager().getQueryModel().getAxis(e.AxisType.ROWS);let i=this.m_rows.getMenuButton();i.registerOnPress(e.UiLambdaPressListener.create(i=>{this.getMenuProvider().showAxisMenu(e.OuAxesView.UI_CONTEXT,i,t)}));let n=this.getQueryManager().getQueryModel().getAxis(e.AxisType.COLUMNS);let o=this.m_cols.getMenuButton();o.registerOnPress(e.UiLambdaPressListener.create(t=>{this.getMenuProvider().showAxisMenu(e.OuAxesView.UI_CONTEXT,t,n)}))}};e.OuGridAxesView.prototype.setDropInfo=function(t,i,n,o,r){t.setDropInfo(this.getDefaultDropInfoHead());t.setDropCondition(this.getDefaultDropCondition());t.registerOnDrop(r);i.setDropInfo(this.getDefaultDropInfoList(o));i.setDropCondition(this.getDefaultDropCondition());i.registerOnDrop(r);if(e.notNull(n)){n.setDropInfo(this.getDefaultDropInfoHead());n.setDropCondition(this.getDefaultDropCondition());n.registerOnDrop(r)}};e.OuGridAxesView.prototype.setFocusMoreButton=function(e){this.m_focusMoreButton=e};e.OuGridAxesView.prototype.setFocusedName=function(e){this.m_focusedDimension=e};e.OuGridAxesView.prototype.setOnChange=function(e){this.m_onChange=e};e.OuGridAxesView.prototype.setPresentation=function(e){this.m_rows.setPresentation(e);this.m_cols.setPresentation(e)};e.OuGridAxesView.prototype.setQueryManager=e.noSupport;e.OuGridAxesView.prototype.setupView=function(){this.m_controller=e.OuGridAxesController.createController()};e.OuGridAxesView.prototype.unobserveDataProviderEvents=function(){if(e.XObjectExt.isValidObject(this.m_dataProvider)){this.m_dataProvider.getEventing().getListenerForLifecycle().removeConsumerByUuid(this.m_lifecycleChangeId);this.m_dataProvider.getEventing().getListenerForModelChanges().removeConsumerByUuid(this.m_modelChangeId);this.m_dataProvider.getEventing().getListenerForModelState().removeConsumerByUuid(this.m_modelStateListenerId);this.m_lifecycleChangeId=null;this.m_modelChangeId=null;this.m_modelStateListenerId=null}};e.OuGridAxesView.prototype.updateSplitter=function(){this.m_cols.getView().removeCssClass("ffGdsQbBuilderPanelAxisColumnSplitterBorderTop");this.m_cols.getView().removeCssClass("ffGdsQbBuilderPanelAxisColumnSplitterBorderBottom");if(this.m_rows.getView().isExpanded()&&this.m_cols.getView().isExpanded()){this.m_splitter.showResizerAtIndex(0);this.m_rowSplitter.setHeight(e.UiCssLength.create("50%"));this.m_colSplitter.setHeight(e.UiCssLength.create("50%"));this.m_rowSplitter.setMinHeight(e.UiCssLength.create("15%"));this.m_colSplitter.setMinHeight(e.UiCssLength.create("15%"))}else if(!this.m_rows.getView().isExpanded()&&!this.m_cols.getView().isExpanded()){this.m_splitter.hideResizerAtIndex(0);this.m_rowSplitter.setHeight(e.UiCssLength.create("2.8125rem"));this.m_colSplitter.setHeight(e.UiCssLength.create("2.8125rem"));this.m_rowSplitter.setMinHeight(null);this.m_colSplitter.setMinHeight(null);this.m_cols.getView().addCssClass("ffGdsQbBuilderPanelAxisColumnSplitterBorderBottom")}else{this.m_splitter.hideResizerAtIndex(0);if(!this.m_rows.getView().isExpanded()){this.m_rowSplitter.setHeight(e.UiCssLength.create("2.8125rem"));this.m_colSplitter.setHeight(null);this.m_rowSplitter.setMinHeight(null);this.m_colSplitter.setMinHeight(null)}if(!this.m_cols.getView().isExpanded()){this.m_cols.getView().addCssClass("ffGdsQbBuilderPanelAxisColumnSplitterBorderTop");this.m_rowSplitter.setHeight(null);this.m_colSplitter.setHeight(e.UiCssLength.create("2.8125rem"));this.m_rowSplitter.setMinHeight(null);this.m_colSplitter.setMinHeight(null)}}};e.OuGridAxesView.prototype.updateUi=function(){if(e.isNull(this.m_dataProvider)){return}this.m_root.setBusy(true);this.m_controller.updateMembers().onThen(e=>{if(e.getBoolean()){this.m_rows.markDirty();this.m_cols.markDirty()}this.m_root.setBusy(false);this.m_rows.updateViewWithDimensions(this.getQueryManager().getQueryModel().getRowsAxis());this.m_cols.updateViewWithDimensions(this.getQueryManager().getQueryModel().getColumnsAxis())}).onCatch(t=>{let i=this.getGenesis().newRoot(e.UiType.MESSAGE_STRIP);i.setMessageType(e.UiMessageType.ERROR);i.setText(t.getText())})};e.OuInventoryViewGroupPresentation=function(){};e.OuInventoryViewGroupPresentation.prototype=new e.XConstant;e.OuInventoryViewGroupPresentation.prototype._ff_c="OuInventoryViewGroupPresentation";e.OuInventoryViewGroupPresentation.ALL_COLLAPSED=null;e.OuInventoryViewGroupPresentation.ALL_EXPANDED=null;e.OuInventoryViewGroupPresentation.FLAT=null;e.OuInventoryViewGroupPresentation.MIXED=null;e.OuInventoryViewGroupPresentation.s_lookup=null;e.OuInventoryViewGroupPresentation.create=function(t){let i=e.XConstant.setupName(new e.OuInventoryViewGroupPresentation,t);e.OuInventoryViewGroupPresentation.s_lookup.put(e.XString.toLowerCase(t),i);return i};e.OuInventoryViewGroupPresentation.lookup=function(t){return e.OuInventoryViewGroupPresentation.s_lookup.getByKey(e.XString.toLowerCase(t))};e.OuInventoryViewGroupPresentation.staticSetup=function(){e.OuInventoryViewGroupPresentation.s_lookup=e.XHashMapByString.create();e.OuInventoryViewGroupPresentation.MIXED=e.OuInventoryViewGroupPresentation.create("mixed");e.OuInventoryViewGroupPresentation.FLAT=e.OuInventoryViewGroupPresentation.create("flat");e.OuInventoryViewGroupPresentation.ALL_COLLAPSED=e.OuInventoryViewGroupPresentation.create("allCollapsed");e.OuInventoryViewGroupPresentation.ALL_EXPANDED=e.OuInventoryViewGroupPresentation.create("allExpanded")};e.OuDisplayFormattingView=function(){};e.OuDisplayFormattingView.prototype=new e.DfUiContentView;e.OuDisplayFormattingView.prototype._ff_c="OuDisplayFormattingView";e.OuDisplayFormattingView.ALIGNMENT_SECTION="AlignmentSection";e.OuDisplayFormattingView.AVOID_OVERLAP="AvoidOverlap";e.OuDisplayFormattingView.AXIS_LABEL_FORMATTING="AxisLabelFormatting";e.OuDisplayFormattingView.AXIS_TITLE_FORMATTING="AxisTitleFormatting";e.OuDisplayFormattingView.BLANK_STRING=" ";e.OuDisplayFormattingView.COLOR="Color";e.OuDisplayFormattingView.DATA_LABEL_FORMATTING="DataLabelFormatting";e.OuDisplayFormattingView.DEFAULT_KEY="DefaultKey";e.OuDisplayFormattingView.FONT="Font";e.OuDisplayFormattingView.FONT_72_WEB="72-Web";e.OuDisplayFormattingView.FONT_ARIAL="Arial";e.OuDisplayFormattingView.FONT_COURIER="Courier";e.OuDisplayFormattingView.FONT_GEORGIA="Georgia";e.OuDisplayFormattingView.FONT_LATO="Lato";e.OuDisplayFormattingView.FONT_OPTIONS="FontOptions";e.OuDisplayFormattingView.FONT_TIMES_NEW_ROMAN="Times New Roman";e.OuDisplayFormattingView.FONT_TREBUCHET_MS="Trebuchet MS";e.OuDisplayFormattingView.FONT_VERDANA="Verdana";e.OuDisplayFormattingView.HORIZONTAL_ALIGNMENT="HorizontalAlignment";e.OuDisplayFormattingView.ICON_DIRECTION_HORIZONTAL="fpa/grip-horizontal";e.OuDisplayFormattingView.ICON_DIRECTION_VERTICAL="fpa/grip-vertical";e.OuDisplayFormattingView.ICON_TEXT_ALIGN_BOTTOM="fpa/vertical-align-bottom";e.OuDisplayFormattingView.ICON_TEXT_ALIGN_CENTER="text-align-center";e.OuDisplayFormattingView.ICON_TEXT_ALIGN_LEFT="text-align-left";e.OuDisplayFormattingView.ICON_TEXT_ALIGN_MIDDLE="fpa/vertical-align-mittle";e.OuDisplayFormattingView.ICON_TEXT_ALIGN_RIGHT="text-align-right";e.OuDisplayFormattingView.ICON_TEXT_ALIGN_TOP="fpa/vertical-align-top";e.OuDisplayFormattingView.LAYOUT_DIRECTION="LayoutDirection";e.OuDisplayFormattingView.LEGEND_FORMATTING="LegendFormatting";e.OuDisplayFormattingView.PLACEMENT="Placement";e.OuDisplayFormattingView.SHOWN="Shown";e.OuDisplayFormattingView.SIZE="Size";e.OuDisplayFormattingView.SIZE_10="10";e.OuDisplayFormattingView.SIZE_12="12";e.OuDisplayFormattingView.SIZE_14="14";e.OuDisplayFormattingView.SIZE_16="16";e.OuDisplayFormattingView.SIZE_18="18";e.OuDisplayFormattingView.SIZE_20="20";e.OuDisplayFormattingView.SIZE_22="22";e.OuDisplayFormattingView.SIZE_24="24";e.OuDisplayFormattingView.SIZE_32="32";e.OuDisplayFormattingView.SIZE_48="48";e.OuDisplayFormattingView.STYLE="Style";e.OuDisplayFormattingView.STYLE_BOLD="Bold";e.OuDisplayFormattingView.STYLE_BOLD_ITALIC="BoldItalic";e.OuDisplayFormattingView.STYLE_ITALIC="Italic";e.OuDisplayFormattingView.STYLE_REGULAR="Regular";e.OuDisplayFormattingView.TEXT_SELECTION="TextSelection";e.OuDisplayFormattingView.VERTICAL_ALIGNMENT="VerticalAlignment";e.OuDisplayFormattingView.createView=function(t){let i=new e.OuDisplayFormattingView;i.initView(t);return i};e.OuDisplayFormattingView.prototype.m_alignmentSection=null;e.OuDisplayFormattingView.prototype.m_form=null;e.OuDisplayFormattingView.prototype.m_loadedAvoidOverlapValue=null;e.OuDisplayFormattingView.prototype.m_loadedColorValue=null;e.OuDisplayFormattingView.prototype.m_loadedFontValue=null;e.OuDisplayFormattingView.prototype.m_loadedHorizontalAlignmentValue=null;e.OuDisplayFormattingView.prototype.m_loadedLayoutDirectionValue=null;e.OuDisplayFormattingView.prototype.m_loadedPlacementValue=null;e.OuDisplayFormattingView.prototype.m_loadedShownValue=null;e.OuDisplayFormattingView.prototype.m_loadedSizeValue=null;e.OuDisplayFormattingView.prototype.m_loadedStyleValue=null;e.OuDisplayFormattingView.prototype.m_loadedVerticalAlignmentValue=null;e.OuDisplayFormattingView.prototype.m_onChange=null;e.OuDisplayFormattingView.prototype.m_queryManager=null;e.OuDisplayFormattingView.prototype.m_section=null;e.OuDisplayFormattingView.prototype.m_selectedText=null;e.OuDisplayFormattingView.prototype.m_sharedExecution=false;e.OuDisplayFormattingView.prototype.m_textFormattingVariableGroups=null;e.OuDisplayFormattingView.prototype.addDropdown=function(t,i){let n=this.getLocalizationProvider();let o=this.m_form.addDropdown(t,null,n.getText(i),null,false);o.setLabelFontWeight(e.UiFontWeight.NORMAL)};e.OuDisplayFormattingView.prototype.addDropdownToSection=function(t,i){let n=this.getLocalizationProvider();let o=this.m_section.addDropdown(t,null,n.getText(i),null,false);o.setLabelFontWeight(e.UiFontWeight.NORMAL)};e.OuDisplayFormattingView.prototype.addSegmentedButton=function(t,i,n){let o=this.getLocalizationProvider();let r=this.m_alignmentSection.addSegmentedButton(t,null,e.XStringUtils.isNullOrEmpty(i)?null:o.getText(i),n);r.setLabelFontWeight(e.UiFontWeight.NORMAL)};e.OuDisplayFormattingView.prototype.addSwitch=function(t,i){let n=this.getLocalizationProvider();let o=this.m_form.addSwitch(t,false,e.isNull(i)?e.OuDisplayFormattingView.DEFAULT_KEY:n.getText(i));o.setOffText(e.OuDisplayFormattingView.BLANK_STRING);o.setOnText(e.OuDisplayFormattingView.BLANK_STRING);o.setLabelFontWeight(e.UiFontWeight.NORMAL)};e.OuDisplayFormattingView.prototype.applyStateToUi=function(){this.setDropdownValue(e.OuDisplayFormattingView.TEXT_SELECTION,this.getTextSelections(),this.m_selectedText);this.setSectionDropdownValue(e.OuDisplayFormattingView.FONT,this.getFontOptions(),this.m_loadedFontValue);this.setSectionDropdownValue(e.OuDisplayFormattingView.SIZE,this.getSizeOptions(),this.m_loadedSizeValue);this.setDropdownValue(e.OuDisplayFormattingView.STYLE,this.getStyleOptions(),this.m_loadedStyleValue);this.setSectionColorValue(e.OuDisplayFormattingView.COLOR,this.m_loadedColorValue);this.setSwitchValue(e.OuDisplayFormattingView.SHOWN,this.m_loadedShownValue);this.setSwitchValue(e.OuDisplayFormattingView.AVOID_OVERLAP,this.m_loadedAvoidOverlapValue);this.setDropdownValue(e.OuDisplayFormattingView.PLACEMENT,this.getPlacementOptions(),this.m_loadedPlacementValue);this.setAlignmentValue(e.OuDisplayFormattingView.HORIZONTAL_ALIGNMENT,this.m_loadedHorizontalAlignmentValue);this.setAlignmentValue(e.OuDisplayFormattingView.VERTICAL_ALIGNMENT,this.m_loadedVerticalAlignmentValue);this.setAlignmentValue(e.OuDisplayFormattingView.LAYOUT_DIRECTION,this.m_loadedLayoutDirectionValue)};e.OuDisplayFormattingView.prototype.buildViewUi=function(t){this.m_form=e.UiForm.create(this.getGenesis());this.addDropdown(e.OuDisplayFormattingView.TEXT_SELECTION,e.OuDisplayFormattingI18n.STYLE_FORMATTING_TEXT_SELECTION);this.m_section=this.m_form.addFormSection(e.OuDisplayFormattingView.FONT_OPTIONS,"",true);this.addDropdownToSection(e.OuDisplayFormattingView.FONT,e.OuDisplayFormattingI18n.STYLE_FORMATTING_FONT);this.addDropdownToSection(e.OuDisplayFormattingView.SIZE,e.OuDisplayFormattingI18n.STYLE_FORMATTING_SIZE);this.m_section.addColorPicker(e.OuDisplayFormattingView.COLOR,"",this.getLocalizationProvider().getText(e.OuDisplayFormattingI18n.STYLE_FORMATTING_COLOR)).setColors(this.getDefaultColors());this.addDropdown(e.OuDisplayFormattingView.STYLE,e.OuDisplayFormattingI18n.STYLE_FORMATTING_STYLE);this.addSwitch(e.OuDisplayFormattingView.SHOWN,null);this.addSwitch(e.OuDisplayFormattingView.AVOID_OVERLAP,e.OuDisplayFormattingI18n.STYLE_AVOID_OVERLAP);this.addDropdown(e.OuDisplayFormattingView.PLACEMENT,e.OuDisplayFormattingI18n.STYLE_PLACEMENT);this.m_alignmentSection=this.m_form.addFormSection(e.OuDisplayFormattingView.ALIGNMENT_SECTION,this.getLocalizationProvider().getText(e.OuDisplayFormattingI18n.STYLE_ALIGNMENT),true);this.addSegmentedButton(e.OuDisplayFormattingView.HORIZONTAL_ALIGNMENT,"",this.getHorizontalAlignmentOptions());this.addSegmentedButton(e.OuDisplayFormattingView.VERTICAL_ALIGNMENT,"",this.getVerticalAlignmentOptions());this.addSegmentedButton(e.OuDisplayFormattingView.LAYOUT_DIRECTION,"",this.getLayoutDirectionOptions());t.setRoot(this.m_form.getView())};e.OuDisplayFormattingView.prototype.destroyView=function(){this.m_form=e.XObjectExt.release(this.m_form)};e.OuDisplayFormattingView.prototype.getActiveVisualizationDefinition=function(){let t=null;if(e.notNull(this.m_queryManager)){t=this.m_queryManager.getQueryModel().getVisualizationManager().getCurrentActiveVisualizationDefinition()}return t};e.OuDisplayFormattingView.prototype.getAlignmentButtonValue=function(t){let i=this.m_alignmentSection.getFormItemByKey(t);return e.isNull(i)||i.getValue()===null?null:i.getValue().getStringRepresentation()};e.OuDisplayFormattingView.prototype.getCurrentSelection=function(){let t=null;if(e.XCollectionUtils.hasElements(this.m_textFormattingVariableGroups)){t=this.m_textFormattingVariableGroups.getByKey(this.m_selectedText);if(e.isNull(t)){t=this.m_textFormattingVariableGroups.get(0)}}return t};e.OuDisplayFormattingView.prototype.getDefaultColors=function(){let t=e.XList.create();t.add("#427cac");t.add("#bb0000");t.add("#aaaa00");t.add("#e78c07");t.add("#2b7c2b");t.add("#5e696e");t.add("#678bc7");t.add("#147575");t.add("#d4f7db");t.add("#3f8600");t.add("#000000");t.add("#ffffff");t.add("#fafafa");t.add("#666666");t.add("#bfbfbf");return t};e.OuDisplayFormattingView.prototype.getDropdownValue=function(e){let t=this.m_form.getFormItemByKey(e);return this.getDropdownValueExt(t)};e.OuDisplayFormattingView.prototype.getDropdownValueExt=function(t){return e.isNull(t)||t.getValue()===null?null:t.getValue().getStringRepresentation()};e.OuDisplayFormattingView.prototype.getFontOptions=function(){let t=this.getLocalizationProvider();let i=e.XLinkedHashMapByString.create();i.put(e.OuDisplayFormattingView.DEFAULT_KEY,t.getText(e.OuDisplayFormattingI18n.STYLE_DEFAULT));i.put(e.OuDisplayFormattingView.FONT_72_WEB,e.OuDisplayFormattingView.FONT_72_WEB);i.put(e.OuDisplayFormattingView.FONT_ARIAL,e.OuDisplayFormattingView.FONT_ARIAL);i.put(e.OuDisplayFormattingView.FONT_COURIER,e.OuDisplayFormattingView.FONT_COURIER);i.put(e.OuDisplayFormattingView.FONT_GEORGIA,e.OuDisplayFormattingView.FONT_GEORGIA);i.put(e.OuDisplayFormattingView.FONT_LATO,e.OuDisplayFormattingView.FONT_LATO);i.put(e.OuDisplayFormattingView.FONT_TIMES_NEW_ROMAN,e.OuDisplayFormattingView.FONT_TIMES_NEW_ROMAN);i.put(e.OuDisplayFormattingView.FONT_TREBUCHET_MS,e.OuDisplayFormattingView.FONT_TREBUCHET_MS);i.put(e.OuDisplayFormattingView.FONT_VERDANA,e.OuDisplayFormattingView.FONT_VERDANA);return i};e.OuDisplayFormattingView.prototype.getHorizontalAlignmentOptions=function(){let t=this.getLocalizationProvider();let i=e.XList.create();i.add(e.UiFormItemOption.create(e.CellAlignmentHorizontal.LEFT.getName(),null,e.OuDisplayFormattingView.ICON_TEXT_ALIGN_LEFT,t.getText(e.OuDisplayFormattingI18n.STYLE_ALIGNMENT_LEFT)));i.add(e.UiFormItemOption.create(e.CellAlignmentHorizontal.CENTER.getName(),null,e.OuDisplayFormattingView.ICON_TEXT_ALIGN_CENTER,t.getText(e.OuDisplayFormattingI18n.STYLE_ALIGNMENT_CENTER)));i.add(e.UiFormItemOption.create(e.CellAlignmentHorizontal.RIGHT.getName(),null,e.OuDisplayFormattingView.ICON_TEXT_ALIGN_RIGHT,t.getText(e.OuDisplayFormattingI18n.STYLE_ALIGNMENT_RIGHT)));return i};e.OuDisplayFormattingView.prototype.getLayoutDirectionOptions=function(){let t=this.getLocalizationProvider();let i=e.XList.create();i.add(e.UiFormItemOption.create(e.LayoutDirection.HORIZONTAL.getName(),null,e.OuDisplayFormattingView.ICON_DIRECTION_HORIZONTAL,t.getText(e.OuDisplayFormattingI18n.STYLE_DIRECTION_HORIZONTAL)));i.add(e.UiFormItemOption.create(e.LayoutDirection.VERTICAL.getName(),null,e.OuDisplayFormattingView.ICON_DIRECTION_VERTICAL,t.getText(e.OuDisplayFormattingI18n.STYLE_DIRECTION_VERTICAL)));return i};e.OuDisplayFormattingView.prototype.getLocalizationProvider=function(){return e.OuDisplayFormattingI18n.getLocalization()};e.OuDisplayFormattingView.prototype.getPlacementOptions=function(){let t=this.getLocalizationProvider();let i=e.XLinkedHashMapByString.create();i.put(e.OuDisplayFormattingView.DEFAULT_KEY,t.getText(e.OuDisplayFormattingI18n.STYLE_DEFAULT));i.put(e.ChartLegendPosition.RIGHT.getName(),t.getText(e.OuDisplayFormattingI18n.STYLE_PLACEMENT_BESIDE_CHART_RIGHT));i.put(e.ChartLegendPosition.TOP.getName(),t.getText(e.OuDisplayFormattingI18n.STYLE_PLACEMENT_ABOVE_CHART));i.put(e.ChartLegendPosition.BOTTOM.getName(),t.getText(e.OuDisplayFormattingI18n.STYLE_PLACEMENT_BELOW_CHART));return i};e.OuDisplayFormattingView.prototype.getQueryManager=function(){return this.m_queryManager};e.OuDisplayFormattingView.prototype.getSectionColorValue=function(e){let t=this.m_section.getFormItemByKey(e);return t.getValue()===null?null:t.getValue().getStringRepresentation()};e.OuDisplayFormattingView.prototype.getSectionDropdownValue=function(e){let t=this.m_section.getFormItemByKey(e);return this.getDropdownValueExt(t)};e.OuDisplayFormattingView.prototype.getSizeOptions=function(){let t=this.getLocalizationProvider();let i=e.XLinkedHashMapByString.create();i.put(e.OuDisplayFormattingView.DEFAULT_KEY,t.getText(e.OuDisplayFormattingI18n.STYLE_DEFAULT));i.put(e.OuDisplayFormattingView.SIZE_10,e.OuDisplayFormattingView.SIZE_10);i.put(e.OuDisplayFormattingView.SIZE_12,e.OuDisplayFormattingView.SIZE_12);i.put(e.OuDisplayFormattingView.SIZE_14,e.OuDisplayFormattingView.SIZE_14);i.put(e.OuDisplayFormattingView.SIZE_16,e.OuDisplayFormattingView.SIZE_16);i.put(e.OuDisplayFormattingView.SIZE_18,e.OuDisplayFormattingView.SIZE_18);i.put(e.OuDisplayFormattingView.SIZE_20,e.OuDisplayFormattingView.SIZE_20);i.put(e.OuDisplayFormattingView.SIZE_22,e.OuDisplayFormattingView.SIZE_22);i.put(e.OuDisplayFormattingView.SIZE_24,e.OuDisplayFormattingView.SIZE_24);i.put(e.OuDisplayFormattingView.SIZE_32,e.OuDisplayFormattingView.SIZE_32);i.put(e.OuDisplayFormattingView.SIZE_48,e.OuDisplayFormattingView.SIZE_48);return i};e.OuDisplayFormattingView.prototype.getStyleOptions=function(){let t=this.getLocalizationProvider();let i=e.XLinkedHashMapByString.create();i.put(e.OuDisplayFormattingView.DEFAULT_KEY,t.getText(e.OuDisplayFormattingI18n.STYLE_DEFAULT));i.put(e.OuDisplayFormattingView.STYLE_REGULAR,t.getText(e.OuDisplayFormattingI18n.STYLE_REGULAR));i.put(e.OuDisplayFormattingView.STYLE_BOLD,t.getText(e.OuDisplayFormattingI18n.STYLE_BOLD));i.put(e.OuDisplayFormattingView.STYLE_ITALIC,t.getText(e.OuDisplayFormattingI18n.STYLE_ITALIC));i.put(e.OuDisplayFormattingView.STYLE_BOLD_ITALIC,t.getText(e.OuDisplayFormattingI18n.STYLE_BOLD_ITALIC));return i};e.OuDisplayFormattingView.prototype.getSwitchValue=function(t){let i=this.m_form.getFormItemByKey(t);let n=i.getValue();return e.TriStateBool.lookup(e.notNull(n)&&n.getBoolean())};e.OuDisplayFormattingView.prototype.getTextSelections=function(){let t=e.XLinkedHashMapByString.create();e.XCollectionUtils.forEach(this.m_textFormattingVariableGroups,e=>{t.put(e.getName(),e.getText())});return t};e.OuDisplayFormattingView.prototype.getVerticalAlignmentOptions=function(){let t=this.getLocalizationProvider();let i=e.XList.create();i.add(e.UiFormItemOption.create(e.CellAlignmentVertical.TOP.getName(),null,e.OuDisplayFormattingView.ICON_TEXT_ALIGN_TOP,t.getText(e.OuDisplayFormattingI18n.STYLE_ALIGNMENT_TOP)));i.add(e.UiFormItemOption.create(e.CellAlignmentVertical.MIDDLE.getName(),null,e.OuDisplayFormattingView.ICON_TEXT_ALIGN_MIDDLE,t.getText(e.OuDisplayFormattingI18n.STYLE_ALIGNMENT_MIDDLE)));i.add(e.UiFormItemOption.create(e.CellAlignmentVertical.BOTTOM.getName(),null,e.OuDisplayFormattingView.ICON_TEXT_ALIGN_BOTTOM,t.getText(e.OuDisplayFormattingI18n.STYLE_ALIGNMENT_BOTTOM)));return i};e.OuDisplayFormattingView.prototype.isActive=function(){return e.XCollectionUtils.hasElements(this.m_textFormattingVariableGroups)};e.OuDisplayFormattingView.prototype.isResettable=function(){let t=this.getCurrentSelection();return e.notNull(t)&&(!t.isFontFamilyDefault()||!t.isFontSizeDefault()||!t.isFontColorDefault()||!t.isFillColorDefault()||!t.isFontBoldDefault()||!t.isFontItalicDefault()||!t.isFontUnderlineDefault()||!t.isFontStrikeThroughDefault()||!t.isShownDefault()||!t.isLayoutDirectionDefault()||!t.isAvoidOverlapDefault()||!t.isPlacementDefault()||!t.isHorizontalAlignmentDefault()||!t.isVerticalAlignmentDefault())};e.OuDisplayFormattingView.prototype.isVisible=function(){return e.XCollectionUtils.hasElements(this.m_textFormattingVariableGroups)};e.OuDisplayFormattingView.prototype.loadState=function(){if(e.XCollectionUtils.hasElements(this.m_textFormattingVariableGroups)){if(!this.m_textFormattingVariableGroups.containsKey(this.m_selectedText)){this.m_selectedText=this.m_textFormattingVariableGroups.get(0).getName()}let t=this.m_textFormattingVariableGroups.getByKey(this.m_selectedText);if(t.isFontFamilyDefault()){this.m_loadedFontValue=e.OuDisplayFormattingView.DEFAULT_KEY}else{this.m_loadedFontValue=t.getFontFamily()}if(t.isFontSizeDefault()){this.m_loadedSizeValue=e.OuDisplayFormattingView.DEFAULT_KEY}else{this.m_loadedSizeValue=e.XInteger.convertToString(t.getFontSize())}if(t.isFontColorDefault()){this.m_loadedColorValue=null}else{this.m_loadedColorValue=t.getFontColor()}if(t.isFontBoldDefault()&&t.isFontItalicDefault()){this.m_loadedStyleValue=e.OuDisplayFormattingView.DEFAULT_KEY}else if(t.isFontBold().getBoolean()&&t.isFontItalic().getBoolean()){this.m_loadedStyleValue=e.OuDisplayFormattingView.STYLE_BOLD_ITALIC}else if(t.isFontBold().getBoolean()){this.m_loadedStyleValue=e.OuDisplayFormattingView.STYLE_BOLD}else if(t.isFontItalic().getBoolean()){this.m_loadedStyleValue=e.OuDisplayFormattingView.STYLE_ITALIC}else{this.m_loadedStyleValue=e.OuDisplayFormattingView.STYLE_REGULAR}this.m_loadedShownValue=t.isShow();this.m_loadedAvoidOverlapValue=t.isAvoidOverlap();if(t.isPlacementDefault()){this.m_loadedPlacementValue=e.OuDisplayFormattingView.DEFAULT_KEY}else{this.m_loadedPlacementValue=e.DfNameObject.getSafeName(t.getPlacement())}this.m_loadedHorizontalAlignmentValue=e.DfNameObject.getSafeName(t.getHorizontalAlignment());this.m_loadedVerticalAlignmentValue=e.DfNameObject.getSafeName(t.getVerticalAlignment());this.m_loadedLayoutDirectionValue=e.DfNameObject.getSafeName(t.getLayoutDirection())}};e.OuDisplayFormattingView.prototype.notifyChangeListeners=function(){if(e.notNull(this.m_onChange)){this.m_onChange()}};e.OuDisplayFormattingView.prototype.pullStateFromUi=function(){this.m_loadedFontValue=this.getSectionDropdownValue(e.OuDisplayFormattingView.FONT);this.m_loadedSizeValue=this.getSectionDropdownValue(e.OuDisplayFormattingView.SIZE);this.m_loadedStyleValue=this.getDropdownValue(e.OuDisplayFormattingView.STYLE);this.m_loadedColorValue=this.getSectionColorValue(e.OuDisplayFormattingView.COLOR);this.m_loadedPlacementValue=this.getDropdownValue(e.OuDisplayFormattingView.PLACEMENT);this.m_loadedHorizontalAlignmentValue=this.getAlignmentButtonValue(e.OuDisplayFormattingView.HORIZONTAL_ALIGNMENT);this.m_loadedVerticalAlignmentValue=this.getAlignmentButtonValue(e.OuDisplayFormattingView.VERTICAL_ALIGNMENT);this.m_loadedLayoutDirectionValue=this.getAlignmentButtonValue(e.OuDisplayFormattingView.LAYOUT_DIRECTION);this.m_loadedShownValue=this.getSwitchValue(e.OuDisplayFormattingView.SHOWN);this.m_loadedAvoidOverlapValue=this.getSwitchValue(e.OuDisplayFormattingView.AVOID_OVERLAP)};e.OuDisplayFormattingView.prototype.resetAvoidOverlap=function(){this.m_loadedAvoidOverlapValue=e.TriStateBool._DEFAULT};e.OuDisplayFormattingView.prototype.resetColor=function(){this.m_loadedColorValue=e.OuDisplayFormattingView.DEFAULT_KEY};e.OuDisplayFormattingView.prototype.resetFont=function(){this.m_loadedFontValue=e.OuDisplayFormattingView.DEFAULT_KEY};e.OuDisplayFormattingView.prototype.resetHorizontalAlignment=function(){this.m_loadedHorizontalAlignmentValue=e.OuDisplayFormattingView.DEFAULT_KEY};e.OuDisplayFormattingView.prototype.resetLayoutDirection=function(){this.m_loadedLayoutDirectionValue=e.OuDisplayFormattingView.DEFAULT_KEY};e.OuDisplayFormattingView.prototype.resetPlacement=function(){this.m_loadedPlacementValue=e.OuDisplayFormattingView.DEFAULT_KEY};e.OuDisplayFormattingView.prototype.resetShown=function(){this.m_loadedShownValue=e.TriStateBool._DEFAULT};e.OuDisplayFormattingView.prototype.resetSize=function(){this.m_loadedSizeValue=e.OuDisplayFormattingView.DEFAULT_KEY};e.OuDisplayFormattingView.prototype.resetStyle=function(){this.m_loadedStyleValue=e.OuDisplayFormattingView.DEFAULT_KEY};e.OuDisplayFormattingView.prototype.resetValues=function(){let t=this.getCurrentSelection();if(this.isResettable()){this.resetFont();this.resetSize();this.resetColor();this.resetStyle();this.resetShown();this.resetAvoidOverlap();this.resetPlacement();this.resetHorizontalAlignment();this.resetVerticalAlignment();this.resetLayoutDirection();this.saveState()}else if(e.notNull(t)){this.m_loadedShownValue=t.isShow();this.m_form.getFormItemByKey(e.OuDisplayFormattingView.SHOWN).setValue(e.XBooleanValue.create(e.TriStateBool.isExplicitBooleanValue(this.m_loadedShownValue)&&this.m_loadedShownValue.getBoolean()));this.m_loadedAvoidOverlapValue=t.isAvoidOverlap();this.m_form.getFormItemByKey(e.OuDisplayFormattingView.AVOID_OVERLAP).setValue(e.XBooleanValue.create(e.TriStateBool.isExplicitBooleanValue(this.m_loadedAvoidOverlapValue)&&this.m_loadedAvoidOverlapValue.getBoolean()));this.m_loadedHorizontalAlignmentValue=e.DfNameObject.getSafeName(t.getHorizontalAlignment());this.m_alignmentSection.getFormItemByKey(e.OuDisplayFormattingView.HORIZONTAL_ALIGNMENT).setValue(e.XStringValue.create(this.m_loadedHorizontalAlignmentValue));this.m_loadedVerticalAlignmentValue=e.DfNameObject.getSafeName(t.getVerticalAlignment());this.m_alignmentSection.getFormItemByKey(e.OuDisplayFormattingView.VERTICAL_ALIGNMENT).setValue(e.XStringValue.create(this.m_loadedVerticalAlignmentValue));this.m_loadedLayoutDirectionValue=e.DfNameObject.getSafeName(t.getLayoutDirection());this.m_alignmentSection.getFormItemByKey(e.OuDisplayFormattingView.LAYOUT_DIRECTION).setValue(e.XStringValue.create(this.m_loadedLayoutDirectionValue))}this.m_section.getFormItemByKey(e.OuDisplayFormattingView.FONT).setValue(e.XStringValue.create(e.OuDisplayFormattingView.DEFAULT_KEY));this.m_section.getFormItemByKey(e.OuDisplayFormattingView.SIZE).setValue(e.XStringValue.create(e.OuDisplayFormattingView.DEFAULT_KEY));this.m_section.getFormItemByKey(e.OuDisplayFormattingView.COLOR).setValue(e.XStringValue.create(e.OuDisplayFormattingView.DEFAULT_KEY));this.m_form.getFormItemByKey(e.OuDisplayFormattingView.STYLE).setValue(e.XStringValue.create(e.OuDisplayFormattingView.DEFAULT_KEY));this.m_form.getFormItemByKey(e.OuDisplayFormattingView.PLACEMENT).setValue(e.XStringValue.create(e.OuDisplayFormattingView.DEFAULT_KEY));this.notifyChangeListeners()};e.OuDisplayFormattingView.prototype.resetVerticalAlignment=function(){this.m_loadedVerticalAlignmentValue=e.OuDisplayFormattingView.DEFAULT_KEY};e.OuDisplayFormattingView.prototype.saveState=function(){let t=this.getCurrentSelection();if(e.notNull(t)){if(e.XString.isEqual(this.m_loadedColorValue,e.OuDisplayFormattingView.DEFAULT_KEY)){t.resetFontColor()}else{t.setFontColor(this.m_loadedColorValue)}if(e.XString.isEqual(this.m_loadedFontValue,e.OuDisplayFormattingView.DEFAULT_KEY)){t.resetFontFamily()}else{t.setFontFamily(this.m_loadedFontValue)}if(e.XString.isEqual(this.m_loadedSizeValue,e.OuDisplayFormattingView.DEFAULT_KEY)){t.resetFontSize()}else{t.setFontSize(e.XInteger.convertFromString(this.m_loadedSizeValue))}if(e.XString.isEqual(this.m_loadedStyleValue,e.OuDisplayFormattingView.DEFAULT_KEY)){t.resetFontItalic();t.resetFontBold()}else if(e.XString.isEqual(this.m_loadedStyleValue,e.OuDisplayFormattingView.STYLE_REGULAR)){t.setFontBold(e.TriStateBool._FALSE);t.setFontItalic(e.TriStateBool._FALSE)}else if(e.XString.isEqual(this.m_loadedStyleValue,e.OuDisplayFormattingView.STYLE_ITALIC)){t.setFontBold(e.TriStateBool._FALSE);t.setFontItalic(e.TriStateBool._TRUE)}else if(e.XString.isEqual(this.m_loadedStyleValue,e.OuDisplayFormattingView.STYLE_BOLD)){t.setFontBold(e.TriStateBool._TRUE);t.setFontItalic(e.TriStateBool._FALSE)}else if(e.XString.isEqual(this.m_loadedStyleValue,e.OuDisplayFormattingView.STYLE_BOLD_ITALIC)){t.setFontBold(e.TriStateBool._TRUE);t.setFontItalic(e.TriStateBool._TRUE)}if(!e.TriStateBool.isExplicitBooleanValue(this.m_loadedShownValue)){t.resetShown()}else{t.setShown(this.m_loadedShownValue)}if(!e.TriStateBool.isExplicitBooleanValue(this.m_loadedAvoidOverlapValue)){t.resetAvoidOverlap()}else{t.setAvoidOverlap(this.m_loadedAvoidOverlapValue)}if(e.XString.isEqual(this.m_loadedPlacementValue,e.OuDisplayFormattingView.DEFAULT_KEY)){t.resetPlacement()}else{t.setPlacement(e.ChartLegendPosition.lookup(this.m_loadedPlacementValue))}if(e.XString.isEqual(this.m_loadedHorizontalAlignmentValue,e.OuDisplayFormattingView.DEFAULT_KEY)){t.resetHorizontalAlignment()}else{t.setHorizontalAlignment(e.CellAlignmentHorizontal.lookup(this.m_loadedHorizontalAlignmentValue))}if(e.XString.isEqual(this.m_loadedVerticalAlignmentValue,e.OuDisplayFormattingView.DEFAULT_KEY)){t.resetVerticalAlignment()}else{t.setVerticalAlignment(e.CellAlignmentVertical.lookup(this.m_loadedVerticalAlignmentValue))}if(e.XString.isEqual(this.m_loadedLayoutDirectionValue,e.OuDisplayFormattingView.DEFAULT_KEY)){t.resetLayoutDirection()}else{t.setLayoutDirection(e.LayoutDirection.lookup(this.m_loadedLayoutDirectionValue))}}this.notifyChangeListeners()};e.OuDisplayFormattingView.prototype.setAlignmentValue=function(t,i){let n=this.m_alignmentSection.getFormItemByKey(t);n.setValue(e.XStringValue.create(i))};e.OuDisplayFormattingView.prototype.setDropdownValue=function(e,t,i){let n=this.m_form.getFormItemByKey(e);this.setDropdownValueExt(n,t,i)};e.OuDisplayFormattingView.prototype.setDropdownValueExt=function(t,i,n){if(!i.containsKey(n)){i.put(n,"-")}t.setDropdownItems(i);t.setValue(e.XStringValue.create(n))};e.OuDisplayFormattingView.prototype.setOnChange=function(e){this.m_onChange=e};e.OuDisplayFormattingView.prototype.setQueryManager=function(t){this.m_queryManager=t;if(e.notNull(this.m_queryManager)){this.updateVariableGroups()}};e.OuDisplayFormattingView.prototype.setSectionColorValue=function(t,i){let n=this.m_section.getFormItemByKey(t);if(e.XString.isEqual(i,e.OuDisplayFormattingView.DEFAULT_KEY)){n.setValue(e.XStringValue.create(""))}else{n.setValue(e.XStringValue.create(i))}};e.OuDisplayFormattingView.prototype.setSectionDropdownValue=function(e,t,i){let n=this.m_section.getFormItemByKey(e);this.setDropdownValueExt(n,t,i)};e.OuDisplayFormattingView.prototype.setSharedExecution=function(t){this.m_sharedExecution=t;if(e.notNull(this.m_queryManager)){this.updateVariableGroups()}};e.OuDisplayFormattingView.prototype.setSwitchValue=function(t,i){let n=this.m_form.getFormItemByKey(t);n.setValue(e.TriStateBool.isExplicitBooleanValue(i)?e.XBooleanValue.create(i.getBoolean()):e.XBooleanValue.create(false))};e.OuDisplayFormattingView.prototype.setupView=function(){};e.OuDisplayFormattingView.prototype.updateAlignmentButton=function(e,t){let i=this.m_alignmentSection.getFormItemByKey(e);i.setVisible(t);i.setValueChangedConsumer((e,t)=>{this.pullStateFromUi();this.saveState()})};e.OuDisplayFormattingView.prototype.updateColorPickerExt=function(t,i){t.setVisible(i);t.setValueChangedConsumer((t,i)=>{this.m_loadedColorValue=e.XValueUtil.getString(i);this.saveState()})};e.OuDisplayFormattingView.prototype.updateDropdown=function(e,t,i){let n=this.m_form.getFormItemByKey(e);this.updateDropdownExt(n,t,i)};e.OuDisplayFormattingView.prototype.updateDropdownExt=function(e,t,i){e.setVisible(i);e.setValueChangedConsumer((i,n)=>{this.pullStateFromUi();this.saveState();e.setDropdownItems(t)})};e.OuDisplayFormattingView.prototype.updateSectionColorPicker=function(e,t){let i=this.m_section.getFormItemByKey(e);this.updateColorPickerExt(i,t)};e.OuDisplayFormattingView.prototype.updateSectionDropdown=function(e,t,i){let n=this.m_section.getFormItemByKey(e);this.updateDropdownExt(n,t,i)};e.OuDisplayFormattingView.prototype.updateSelectionDropdown=function(){let t=this.m_form.getFormItemByKey(e.OuDisplayFormattingView.TEXT_SELECTION);t.setVisible(true);t.setValueChangedConsumer((i,n)=>{this.m_selectedText=this.getDropdownValue(e.OuDisplayFormattingView.TEXT_SELECTION);t.setDropdownItems(this.getTextSelections());this.updateUi()})};e.OuDisplayFormattingView.prototype.updateSwitch=function(t,i,n){let o=this.m_form.getFormItemByKey(t);o.setVisible(n);if(e.notNull(i)){o.setText(i)}o.setValueChangedConsumer((e,t)=>{this.pullStateFromUi();this.saveState()})};e.OuDisplayFormattingView.prototype.updateUi=function(){if(e.notNull(this.m_queryManager)){this.updateVariableGroups();let t=this.getCurrentSelection();if(e.notNull(t)){this.updateSelectionDropdown();this.updateSectionDropdown(e.OuDisplayFormattingView.FONT,this.getFontOptions(),true);this.updateSectionDropdown(e.OuDisplayFormattingView.SIZE,this.getSizeOptions(),true);this.updateDropdown(e.OuDisplayFormattingView.STYLE,this.getStyleOptions(),true);this.updateSectionColorPicker(e.OuDisplayFormattingView.COLOR,true);this.updateDropdown(e.OuDisplayFormattingView.PLACEMENT,this.getPlacementOptions(),t.supportsPlacement());this.updateSwitch(e.OuDisplayFormattingView.SHOWN,t.getShowLabel(),t.supportsShown());this.updateSwitch(e.OuDisplayFormattingView.AVOID_OVERLAP,null,t.supportsAvoidOverlap());this.m_alignmentSection.setVisible(t.supportsHorizontalAlignment()||t.supportsVerticalAlignment()||t.supportsLayoutDirection());this.updateAlignmentButton(e.OuDisplayFormattingView.HORIZONTAL_ALIGNMENT,t.supportsHorizontalAlignment());this.updateAlignmentButton(e.OuDisplayFormattingView.VERTICAL_ALIGNMENT,t.supportsVerticalAlignment());this.updateAlignmentButton(e.OuDisplayFormattingView.LAYOUT_DIRECTION,t.supportsLayoutDirection());this.loadState();this.applyStateToUi();let i=this.isActive();e.XCollectionUtils.forEach(this.m_form.getAllFormItems(),e=>{e.setEnabled(i)});e.XCollectionUtils.forEach(this.m_section.getAllFormItems(),e=>{e.setEnabled(i)})}this.getView().setVisible(this.isVisible())}};e.OuDisplayFormattingView.prototype.updateVariableGroups=function(){let t=e.XLocalizationCenter.getCenter();let i;let n=this.getActiveVisualizationDefinition();if(this.m_sharedExecution){i=this.m_queryManager.getQueryModel().getVisualizationManager()}else{i=n}this.m_textFormattingVariableGroups=e.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_textFormattingVariableGroups);this.m_textFormattingVariableGroups=e.XListOfNameObject.create();if(e.notNull(n)&&n.getOlapComponentType().isTypeOf(e.OlapComponentType.VISUALIZATION_CHART_DEFINITION)){let n=e.OuTextFormattingVariableGroup.create(e.OuDisplayFormattingView.AXIS_LABEL_FORMATTING,t.getText(e.OuDisplayFormattingI18n.STYLE_AXIS_LABEL),i,e.OlapVisualizationConstants.AXIS_LABEL_STYLE_VARIABLE_FONT_FAMILY,e.OlapVisualizationConstants.AXIS_LABEL_STYLE_VARIABLE_FONT_SIZE,e.OlapVisualizationConstants.AXIS_LABEL_STYLE_VARIABLE_FONT_COLOR,e.OlapVisualizationConstants.AXIS_LABEL_STYLE_VARIABLE_FONT_ITALIC,e.OlapVisualizationConstants.AXIS_LABEL_STYLE_VARIABLE_FONT_BOLD);this.m_textFormattingVariableGroups.add(n);n=e.OuTextFormattingVariableGroup.create(e.OuDisplayFormattingView.AXIS_TITLE_FORMATTING,t.getText(e.OuDisplayFormattingI18n.STYLE_AXIS_TITLE),i,e.OlapVisualizationConstants.AXIS_TITLE_STYLE_VARIABLE_FONT_FAMILY,e.OlapVisualizationConstants.AXIS_TITLE_STYLE_VARIABLE_FONT_SIZE,e.OlapVisualizationConstants.AXIS_TITLE_STYLE_VARIABLE_FONT_COLOR,e.OlapVisualizationConstants.AXIS_TITLE_STYLE_VARIABLE_FONT_ITALIC,e.OlapVisualizationConstants.AXIS_TITLE_STYLE_VARIABLE_FONT_BOLD);n.setShowVN(e.OlapVisualizationConstants.AXIS_TITLE_STYLE_VARIABLE_ENABLED);n.setShowLabel(t.getText(e.OuDisplayFormattingI18n.STYLE_SHOW_AXIS_TITLE));this.m_textFormattingVariableGroups.add(n);n=e.OuTextFormattingVariableGroup.create(e.OuDisplayFormattingView.DATA_LABEL_FORMATTING,t.getText(e.OuDisplayFormattingI18n.STYLE_DATA_LABEL),i,e.OlapVisualizationConstants.DATA_LABEL_STYLE_VARIABLE_FONT_FAMILY,e.OlapVisualizationConstants.DATA_LABEL_STYLE_VARIABLE_FONT_SIZE,e.OlapVisualizationConstants.DATA_LABEL_STYLE_VARIABLE_FONT_COLOR,e.OlapVisualizationConstants.DATA_LABEL_STYLE_VARIABLE_FONT_ITALIC,e.OlapVisualizationConstants.DATA_LABEL_STYLE_VARIABLE_FONT_BOLD);n.setShowVN(e.OlapVisualizationConstants.DATA_LABEL_STYLE_VARIABLE_ENABLED);n.setShowLabel(t.getText(e.OuDisplayFormattingI18n.STYLE_SHOW_DATA_LABEL));n.setAvoidOverlapVN(e.OlapVisualizationConstants.DATA_LABEL_STYLE_VARIABLE_AVOID_OVERLAP);this.m_textFormattingVariableGroups.add(n);n=e.OuTextFormattingVariableGroup.create(e.OuDisplayFormattingView.LEGEND_FORMATTING,t.getText(e.OuDisplayFormattingI18n.STYLE_LEGEND),i,e.OlapVisualizationConstants.LEGEND_STYLE_VARIABLE_FONT_FAMILY,e.OlapVisualizationConstants.LEGEND_STYLE_VARIABLE_FONT_SIZE,e.OlapVisualizationConstants.LEGEND_STYLE_VARIABLE_FONT_COLOR,e.OlapVisualizationConstants.LEGEND_STYLE_VARIABLE_FONT_ITALIC,e.OlapVisualizationConstants.LEGEND_STYLE_VARIABLE_FONT_BOLD);n.setShowVN(e.OlapVisualizationConstants.LEGEND_STYLE_VARIABLE_ENABLED);n.setShowLabel(t.getText(e.OuDisplayFormattingI18n.STYLE_SHOW_LEGEND));n.setPlacementVN(e.OlapVisualizationConstants.LEGEND_STYLE_VARIABLE_POSITION);n.setHorizontalAlignmentVN(e.OlapVisualizationConstants.LEGEND_STYLE_VARIABLE_HORIZONTAL_ALIGNMENT);n.setVerticalAlignmentVN(e.OlapVisualizationConstants.LEGEND_STYLE_VARIABLE_VERTICAL_ALIGNMENT);n.setLayoutDirectionVN(e.OlapVisualizationConstants.LEGEND_STYLE_VARIABLE_LAYOUT_DIRECTION);this.m_textFormattingVariableGroups.add(n)}};e.OuTableTextFormattingPropertiesGroup=function(){};e.OuTableTextFormattingPropertiesGroup.prototype=new e.DfNameTextObject;e.OuTableTextFormattingPropertiesGroup.prototype._ff_c="OuTableTextFormattingPropertiesGroup";e.OuTableTextFormattingPropertiesGroup.create=function(t,i,n){let o=new e.OuTableTextFormattingPropertiesGroup;o.setupWithNameText(t,i);o.m_tableStyle=n;return o};e.OuTableTextFormattingPropertiesGroup.prototype.m_showLabel=null;e.OuTableTextFormattingPropertiesGroup.prototype.m_tableStyle=null;e.OuTableTextFormattingPropertiesGroup.prototype.getFillColor=function(){return this.m_tableStyle.getFillColor()};e.OuTableTextFormattingPropertiesGroup.prototype.getFontColor=function(){return this.m_tableStyle.getFontColor()};e.OuTableTextFormattingPropertiesGroup.prototype.getFontFamily=function(){return this.m_tableStyle.getFontFamily()};e.OuTableTextFormattingPropertiesGroup.prototype.getFontSize=function(){return e.XDouble.convertToInt(this.m_tableStyle.getFontSize())};e.OuTableTextFormattingPropertiesGroup.prototype.getHorizontalAlignment=function(){return this.m_tableStyle.getHorizontalAlignment()};e.OuTableTextFormattingPropertiesGroup.prototype.getLayoutDirection=function(){return null};e.OuTableTextFormattingPropertiesGroup.prototype.getPlacement=function(){return null};e.OuTableTextFormattingPropertiesGroup.prototype.getShowLabel=function(){return this.m_showLabel};e.OuTableTextFormattingPropertiesGroup.prototype.getVerticalAlignment=function(){return this.m_tableStyle.getVerticalAlignment()};e.OuTableTextFormattingPropertiesGroup.prototype.isAvoidOverlap=function(){return null};e.OuTableTextFormattingPropertiesGroup.prototype.isAvoidOverlapDefault=function(){return true};e.OuTableTextFormattingPropertiesGroup.prototype.isFillColorDefault=function(){return e.XStringUtils.isNullOrEmpty(this.m_tableStyle.getFillColor())};e.OuTableTextFormattingPropertiesGroup.prototype.isFontBold=function(){return this.m_tableStyle.isFontBoldExt()};e.OuTableTextFormattingPropertiesGroup.prototype.isFontBoldDefault=function(){return!e.TriStateBool.isExplicitBooleanValue(this.m_tableStyle.isFontBoldExt())};e.OuTableTextFormattingPropertiesGroup.prototype.isFontColorDefault=function(){return e.XStringUtils.isNullOrEmpty(this.m_tableStyle.getFontColor())};e.OuTableTextFormattingPropertiesGroup.prototype.isFontFamilyDefault=function(){return e.XStringUtils.isNullOrEmpty(this.m_tableStyle.getFontFamily())};e.OuTableTextFormattingPropertiesGroup.prototype.isFontItalic=function(){return this.m_tableStyle.isFontItalicExt()};e.OuTableTextFormattingPropertiesGroup.prototype.isFontItalicDefault=function(){return!e.TriStateBool.isExplicitBooleanValue(this.m_tableStyle.isFontItalicExt())};e.OuTableTextFormattingPropertiesGroup.prototype.isFontSizeDefault=function(){return this.m_tableStyle.getFontSize()<=0};e.OuTableTextFormattingPropertiesGroup.prototype.isFontStrikeThrough=function(){return this.m_tableStyle.isFontStrikeThroughExt()};e.OuTableTextFormattingPropertiesGroup.prototype.isFontStrikeThroughDefault=function(){return!e.TriStateBool.isExplicitBooleanValue(this.m_tableStyle.isFontStrikeThroughExt())};e.OuTableTextFormattingPropertiesGroup.prototype.isFontUnderline=function(){return this.m_tableStyle.isFontUnderlineExt()};e.OuTableTextFormattingPropertiesGroup.prototype.isFontUnderlineDefault=function(){return!e.TriStateBool.isExplicitBooleanValue(this.m_tableStyle.isFontUnderlineExt())};e.OuTableTextFormattingPropertiesGroup.prototype.isHorizontalAlignmentDefault=function(){return this.m_tableStyle.getHorizontalAlignment()===null||this.m_tableStyle.getHorizontalAlignment()===e.CellAlignmentHorizontal.INHERIT};e.OuTableTextFormattingPropertiesGroup.prototype.isLayoutDirectionDefault=function(){return true};e.OuTableTextFormattingPropertiesGroup.prototype.isPlacementDefault=function(){return true};e.OuTableTextFormattingPropertiesGroup.prototype.isShow=function(){return this.m_tableStyle.isShowFormattedText()};e.OuTableTextFormattingPropertiesGroup.prototype.isShownDefault=function(){return!e.TriStateBool.isExplicitBooleanValue(this.m_tableStyle.isShowFormattedText())};e.OuTableTextFormattingPropertiesGroup.prototype.isVerticalAlignmentDefault=function(){return this.m_tableStyle.getVerticalAlignment()===null||this.m_tableStyle.getVerticalAlignment()===e.CellAlignmentVertical.INHERIT};e.OuTableTextFormattingPropertiesGroup.prototype.resetAvoidOverlap=function(){};e.OuTableTextFormattingPropertiesGroup.prototype.resetFillColor=function(){this.m_tableStyle.setFillColor(null)};e.OuTableTextFormattingPropertiesGroup.prototype.resetFontBold=function(){this.m_tableStyle.setFontBoldExt(e.TriStateBool._DEFAULT)};e.OuTableTextFormattingPropertiesGroup.prototype.resetFontColor=function(){this.m_tableStyle.setFontColor(null)};e.OuTableTextFormattingPropertiesGroup.prototype.resetFontFamily=function(){this.m_tableStyle.setFontFamily(null)};e.OuTableTextFormattingPropertiesGroup.prototype.resetFontItalic=function(){this.m_tableStyle.setFontItalicExt(e.TriStateBool._DEFAULT)};e.OuTableTextFormattingPropertiesGroup.prototype.resetFontSize=function(){this.m_tableStyle.setFontSize(-1)};e.OuTableTextFormattingPropertiesGroup.prototype.resetFontStrikeThrough=function(){this.m_tableStyle.setFontStrikeThroughExt(e.TriStateBool._DEFAULT)};e.OuTableTextFormattingPropertiesGroup.prototype.resetFontUnderline=function(){this.m_tableStyle.setFontUnderlineExt(e.TriStateBool._DEFAULT)};e.OuTableTextFormattingPropertiesGroup.prototype.resetHorizontalAlignment=function(){this.m_tableStyle.setHorizontalAlignment(null)};e.OuTableTextFormattingPropertiesGroup.prototype.resetLayoutDirection=function(){};e.OuTableTextFormattingPropertiesGroup.prototype.resetPlacement=function(){};e.OuTableTextFormattingPropertiesGroup.prototype.resetShown=function(){this.m_tableStyle.setShowFormattedText(e.TriStateBool._DEFAULT)};e.OuTableTextFormattingPropertiesGroup.prototype.resetVerticalAlignment=function(){this.m_tableStyle.setVerticalAlignment(null)};e.OuTableTextFormattingPropertiesGroup.prototype.setAvoidOverlap=function(e){};e.OuTableTextFormattingPropertiesGroup.prototype.setFillColor=function(e){this.m_tableStyle.setFillColor(e)};e.OuTableTextFormattingPropertiesGroup.prototype.setFontBold=function(e){this.m_tableStyle.setFontBoldExt(e)};e.OuTableTextFormattingPropertiesGroup.prototype.setFontColor=function(e){this.m_tableStyle.setFontColor(e)};e.OuTableTextFormattingPropertiesGroup.prototype.setFontFamily=function(e){this.m_tableStyle.setFontFamily(e)};e.OuTableTextFormattingPropertiesGroup.prototype.setFontItalic=function(e){this.m_tableStyle.setFontItalicExt(e)};e.OuTableTextFormattingPropertiesGroup.prototype.setFontSize=function(e){this.m_tableStyle.setFontSize(e)};e.OuTableTextFormattingPropertiesGroup.prototype.setFontStrikeThrough=function(e){this.m_tableStyle.setFontStrikeThroughExt(e)};e.OuTableTextFormattingPropertiesGroup.prototype.setFontUnderline=function(e){this.m_tableStyle.setFontUnderlineExt(e)};e.OuTableTextFormattingPropertiesGroup.prototype.setHorizontalAlignment=function(e){this.m_tableStyle.setHorizontalAlignment(e)};e.OuTableTextFormattingPropertiesGroup.prototype.setLayoutDirection=function(e){};e.OuTableTextFormattingPropertiesGroup.prototype.setPlacement=function(e){};e.OuTableTextFormattingPropertiesGroup.prototype.setShowLabel=function(e){this.m_showLabel=e};e.OuTableTextFormattingPropertiesGroup.prototype.setShown=function(e){this.m_tableStyle.setShowFormattedText(e)};e.OuTableTextFormattingPropertiesGroup.prototype.setVerticalAlignment=function(e){this.m_tableStyle.setVerticalAlignment(e)};e.OuTableTextFormattingPropertiesGroup.prototype.supportsAvoidOverlap=function(){return false};e.OuTableTextFormattingPropertiesGroup.prototype.supportsFillColor=function(){return true};e.OuTableTextFormattingPropertiesGroup.prototype.supportsFontStrikeThrough=function(){return true};e.OuTableTextFormattingPropertiesGroup.prototype.supportsFontUnderline=function(){return true};e.OuTableTextFormattingPropertiesGroup.prototype.supportsHorizontalAlignment=function(){return true};e.OuTableTextFormattingPropertiesGroup.prototype.supportsLayoutDirection=function(){return false};e.OuTableTextFormattingPropertiesGroup.prototype.supportsPlacement=function(){return false};e.OuTableTextFormattingPropertiesGroup.prototype.supportsShown=function(){return true};e.OuTableTextFormattingPropertiesGroup.prototype.supportsVerticalAlignment=function(){return true};e.OuTextFormattingVariableGroup=function(){};e.OuTextFormattingVariableGroup.prototype=new e.DfNameTextObject;e.OuTextFormattingVariableGroup.prototype._ff_c="OuTextFormattingVariableGroup";e.OuTextFormattingVariableGroup.create=function(t,i,n,o,r,a,s,l){let u=new e.OuTextFormattingVariableGroup;u.setupWithNameText(t,i);u.m_variableHolderContext=n;u.m_fontFamilyVN=o;u.m_fontSizeVN=r;u.m_fontColorVN=a;u.m_italicVN=s;u.m_boldVN=l;return u};e.OuTextFormattingVariableGroup.prototype.m_avoidOverlapVN=null;e.OuTextFormattingVariableGroup.prototype.m_boldVN=null;e.OuTextFormattingVariableGroup.prototype.m_fillColorVN=null;e.OuTextFormattingVariableGroup.prototype.m_fontColorVN=null;e.OuTextFormattingVariableGroup.prototype.m_fontFamilyVN=null;e.OuTextFormattingVariableGroup.prototype.m_fontSizeVN=null;e.OuTextFormattingVariableGroup.prototype.m_horizontalAlignmentVN=null;e.OuTextFormattingVariableGroup.prototype.m_italicVN=null;e.OuTextFormattingVariableGroup.prototype.m_layoutDirectionVN=null;e.OuTextFormattingVariableGroup.prototype.m_placementVN=null;e.OuTextFormattingVariableGroup.prototype.m_showLabel=null;e.OuTextFormattingVariableGroup.prototype.m_showVN=null;e.OuTextFormattingVariableGroup.prototype.m_strikeThroughVN=null;e.OuTextFormattingVariableGroup.prototype.m_underlineVN=null;e.OuTextFormattingVariableGroup.prototype.m_variableHolderContext=null;e.OuTextFormattingVariableGroup.prototype.m_verticalAlignmentVN=null;e.OuTextFormattingVariableGroup.prototype.clearVariable=function(e){this.m_variableHolderContext.getVisualizationVariableHolder().clearVariable(e)};e.OuTextFormattingVariableGroup.prototype.ensureVariable=function(t,i){return e.isNull(t)?null:this.getVariable(t).orElse(this.m_variableHolderContext.addNewSimpleTypeVariable(i,t,t,false))};e.OuTextFormattingVariableGroup.prototype.getFillColor=function(){let e=this.getVariable(this.m_fillColorVN);return e.isPresent()?e.get().getString():null};e.OuTextFormattingVariableGroup.prototype.getFontColor=function(){let e=this.getVariable(this.m_fontColorVN);return e.isPresent()?e.get().getString():null};e.OuTextFormattingVariableGroup.prototype.getFontFamily=function(){let e=this.getVariable(this.m_fontFamilyVN);return e.isPresent()?e.get().getString():null};e.OuTextFormattingVariableGroup.prototype.getFontSize=function(){let e=this.getVariable(this.m_fontSizeVN);return e.isPresent()?e.get().getInteger():0};e.OuTextFormattingVariableGroup.prototype.getHorizontalAlignment=function(){let t=this.getVariableOrFallback(this.m_horizontalAlignmentVN);return t.isPresent()?e.CellAlignmentHorizontal.lookup(t.get().getString()):null};e.OuTextFormattingVariableGroup.prototype.getLayoutDirection=function(){let t=this.getVariableOrFallback(this.m_layoutDirectionVN);return t.isPresent()?e.LayoutDirection.lookup(t.get().getString()):null};e.OuTextFormattingVariableGroup.prototype.getPlacement=function(){let t=this.getVariable(this.m_placementVN);return t.isPresent()?e.ChartLegendPosition.lookup(t.get().getString()):null};e.OuTextFormattingVariableGroup.prototype.getShowLabel=function(){return this.m_showLabel};e.OuTextFormattingVariableGroup.prototype.getVariable=function(t){return e.XOptional.ofNullable(e.isNull(t)?null:this.m_variableHolderContext.getVariable(t))};e.OuTextFormattingVariableGroup.prototype.getVariableOrFallback=function(t){return e.XOptional.ofNullable(e.isNull(t)?null:this.m_variableHolderContext.getVariableOrFallback(t))};e.OuTextFormattingVariableGroup.prototype.getVerticalAlignment=function(){let t=this.getVariableOrFallback(this.m_verticalAlignmentVN);return t.isPresent()?e.CellAlignmentVertical.lookup(t.get().getString()):null};e.OuTextFormattingVariableGroup.prototype.isAvoidOverlap=function(){let t=this.getVariableOrFallback(this.m_avoidOverlapVN);return t.isPresent()?e.TriStateBool.lookup(t.get().getBoolean()):e.TriStateBool._DEFAULT};e.OuTextFormattingVariableGroup.prototype.isAvoidOverlapDefault=function(){let e=this.getVariable(this.m_avoidOverlapVN);return!e.isPresent()||e.get().isEmpty()};e.OuTextFormattingVariableGroup.prototype.isFillColorDefault=function(){let t=this.getVariable(this.m_fillColorVN);return!t.isPresent()||t.get().isEmpty()||e.XStringUtils.isNullOrEmpty(t.get().getString())};e.OuTextFormattingVariableGroup.prototype.isFontBold=function(){let t=this.getVariable(this.m_boldVN);return t.isPresent()?e.TriStateBool.lookup(t.get().getBoolean()):e.TriStateBool._DEFAULT};e.OuTextFormattingVariableGroup.prototype.isFontBoldDefault=function(){let e=this.getVariable(this.m_boldVN);return!e.isPresent()||e.get().isEmpty()};e.OuTextFormattingVariableGroup.prototype.isFontColorDefault=function(){let t=this.getVariable(this.m_fontColorVN);return!t.isPresent()||t.get().isEmpty()||e.XStringUtils.isNullOrEmpty(t.get().getString())};e.OuTextFormattingVariableGroup.prototype.isFontFamilyDefault=function(){let t=this.getVariable(this.m_fontFamilyVN);return!t.isPresent()||t.get().isEmpty()||e.XStringUtils.isNullOrEmpty(t.get().getString())};e.OuTextFormattingVariableGroup.prototype.isFontItalic=function(){let t=this.getVariable(this.m_italicVN);return t.isPresent()?e.TriStateBool.lookup(t.get().getBoolean()):e.TriStateBool._DEFAULT};e.OuTextFormattingVariableGroup.prototype.isFontItalicDefault=function(){let e=this.getVariable(this.m_italicVN);return!e.isPresent()||e.get().isEmpty()};e.OuTextFormattingVariableGroup.prototype.isFontSizeDefault=function(){let e=this.getVariable(this.m_fontSizeVN);return!e.isPresent()||e.get().isEmpty()||e.get().getInteger()<=0};e.OuTextFormattingVariableGroup.prototype.isFontStrikeThrough=function(){let t=this.getVariable(this.m_strikeThroughVN);return t.isPresent()?e.TriStateBool.lookup(t.get().getBoolean()):e.TriStateBool._DEFAULT};e.OuTextFormattingVariableGroup.prototype.isFontStrikeThroughDefault=function(){let e=this.getVariable(this.m_strikeThroughVN);return!e.isPresent()||e.get().isEmpty()};e.OuTextFormattingVariableGroup.prototype.isFontUnderline=function(){let t=this.getVariable(this.m_underlineVN);return t.isPresent()?e.TriStateBool.lookup(t.get().getBoolean()):e.TriStateBool._DEFAULT};e.OuTextFormattingVariableGroup.prototype.isFontUnderlineDefault=function(){let e=this.getVariable(this.m_underlineVN);return!e.isPresent()||e.get().isEmpty()};e.OuTextFormattingVariableGroup.prototype.isHorizontalAlignmentDefault=function(){let e=this.getVariable(this.m_horizontalAlignmentVN);return!e.isPresent()||e.get().isEmpty()};e.OuTextFormattingVariableGroup.prototype.isLayoutDirectionDefault=function(){let e=this.getVariable(this.m_layoutDirectionVN);return!e.isPresent()||e.get().isEmpty()};e.OuTextFormattingVariableGroup.prototype.isPlacementDefault=function(){let e=this.getVariable(this.m_placementVN);return!e.isPresent()||e.get().isEmpty()};e.OuTextFormattingVariableGroup.prototype.isShow=function(){let t=this.getVariableOrFallback(this.m_showVN);return t.isPresent()?e.TriStateBool.lookup(t.get().getBoolean()):e.TriStateBool._DEFAULT};e.OuTextFormattingVariableGroup.prototype.isShownDefault=function(){let e=this.getVariable(this.m_showVN);return!e.isPresent()||e.get().isEmpty()};e.OuTextFormattingVariableGroup.prototype.isVerticalAlignmentDefault=function(){let e=this.getVariable(this.m_verticalAlignmentVN);return!e.isPresent()||e.get().isEmpty()};e.OuTextFormattingVariableGroup.prototype.resetAvoidOverlap=function(){this.getVariable(this.m_avoidOverlapVN).ifPresent(e=>{e.clear()})};e.OuTextFormattingVariableGroup.prototype.resetFillColor=function(){this.getVariable(this.m_fillColorVN).ifPresent(e=>{e.clear()})};e.OuTextFormattingVariableGroup.prototype.resetFontBold=function(){this.getVariable(this.m_boldVN).ifPresent(e=>{e.clear()})};e.OuTextFormattingVariableGroup.prototype.resetFontColor=function(){this.getVariable(this.m_fontColorVN).ifPresent(e=>{e.clear()})};e.OuTextFormattingVariableGroup.prototype.resetFontFamily=function(){this.getVariable(this.m_fontFamilyVN).ifPresent(e=>{e.clear()})};e.OuTextFormattingVariableGroup.prototype.resetFontItalic=function(){this.getVariable(this.m_italicVN).ifPresent(e=>{e.clear()})};e.OuTextFormattingVariableGroup.prototype.resetFontSize=function(){this.getVariable(this.m_fontSizeVN).ifPresent(e=>{e.clear()})};e.OuTextFormattingVariableGroup.prototype.resetFontStrikeThrough=function(){this.getVariable(this.m_strikeThroughVN).ifPresent(e=>{e.clear()})};e.OuTextFormattingVariableGroup.prototype.resetFontUnderline=function(){this.getVariable(this.m_underlineVN).ifPresent(e=>{e.clear()})};e.OuTextFormattingVariableGroup.prototype.resetHorizontalAlignment=function(){this.getVariable(this.m_horizontalAlignmentVN).ifPresent(e=>{e.clear()})};e.OuTextFormattingVariableGroup.prototype.resetLayoutDirection=function(){this.getVariable(this.m_layoutDirectionVN).ifPresent(e=>{e.clear()})};e.OuTextFormattingVariableGroup.prototype.resetPlacement=function(){this.getVariable(this.m_placementVN).ifPresent(e=>{e.clear()})};e.OuTextFormattingVariableGroup.prototype.resetShown=function(){this.getVariable(this.m_showVN).ifPresent(e=>{e.clear()})};e.OuTextFormattingVariableGroup.prototype.resetVerticalAlignment=function(){this.getVariable(this.m_verticalAlignmentVN).ifPresent(e=>{e.clear()})};e.OuTextFormattingVariableGroup.prototype.setAvoidOverlap=function(t){if(!e.TriStateBool.isExplicitBooleanValue(t)){this.clearVariable(this.m_avoidOverlapVN)}else{this.setBooleanVariable(this.m_avoidOverlapVN,t)}};e.OuTextFormattingVariableGroup.prototype.setAvoidOverlapVN=function(e){this.m_avoidOverlapVN=e};e.OuTextFormattingVariableGroup.prototype.setBooleanVariable=function(t,i){let n=this.ensureVariable(t,e.XValueType.BOOLEAN);if(e.notNull(n)){n.setBoolean(e.notNull(i)&&i.getBoolean())}};e.OuTextFormattingVariableGroup.prototype.setFillColor=function(t){if(e.XStringUtils.isNullOrEmpty(t)){this.clearVariable(this.m_fillColorVN)}else{this.setStringVariable(this.m_fillColorVN,t)}};e.OuTextFormattingVariableGroup.prototype.setFillColorVN=function(e){this.m_fillColorVN=e};e.OuTextFormattingVariableGroup.prototype.setFontBold=function(t){if(!e.TriStateBool.isExplicitBooleanValue(t)){this.clearVariable(this.m_boldVN)}else{this.setBooleanVariable(this.m_boldVN,t)}};e.OuTextFormattingVariableGroup.prototype.setFontColor=function(t){if(e.XStringUtils.isNullOrEmpty(t)){this.clearVariable(this.m_fontColorVN)}else{this.setStringVariable(this.m_fontColorVN,t)}};e.OuTextFormattingVariableGroup.prototype.setFontFamily=function(t){if(e.XStringUtils.isNullOrEmpty(t)){this.clearVariable(this.m_fontFamilyVN)}else{this.setStringVariable(this.m_fontFamilyVN,t)}};e.OuTextFormattingVariableGroup.prototype.setFontItalic=function(t){if(!e.TriStateBool.isExplicitBooleanValue(t)){this.clearVariable(this.m_italicVN)}else{this.setBooleanVariable(this.m_italicVN,t)}};e.OuTextFormattingVariableGroup.prototype.setFontSize=function(e){if(e<=0){this.clearVariable(this.m_fontSizeVN)}else{this.setIntegerVariable(this.m_fontSizeVN,e)}};e.OuTextFormattingVariableGroup.prototype.setFontStrikeThrough=function(t){if(!e.TriStateBool.isExplicitBooleanValue(t)){this.clearVariable(this.m_strikeThroughVN)}else{this.setBooleanVariable(this.m_strikeThroughVN,t)}};e.OuTextFormattingVariableGroup.prototype.setFontUnderline=function(t){if(!e.TriStateBool.isExplicitBooleanValue(t)){this.clearVariable(this.m_underlineVN)}else{this.setBooleanVariable(this.m_underlineVN,t)}};e.OuTextFormattingVariableGroup.prototype.setHorizontalAlignment=function(t){if(e.isNull(t)){this.clearVariable(this.m_horizontalAlignmentVN)}else{this.setStringVariable(this.m_horizontalAlignmentVN,t.getName())}};e.OuTextFormattingVariableGroup.prototype.setHorizontalAlignmentVN=function(e){this.m_horizontalAlignmentVN=e};e.OuTextFormattingVariableGroup.prototype.setIntegerVariable=function(t,i){let n=this.ensureVariable(t,e.XValueType.INTEGER);if(e.notNull(n)){n.setInteger(i)}};e.OuTextFormattingVariableGroup.prototype.setLayoutDirection=function(t){if(e.isNull(t)){this.clearVariable(this.m_layoutDirectionVN)}else{this.setStringVariable(this.m_layoutDirectionVN,t.getName())}};e.OuTextFormattingVariableGroup.prototype.setLayoutDirectionVN=function(e){this.m_layoutDirectionVN=e};e.OuTextFormattingVariableGroup.prototype.setPlacement=function(t){if(e.isNull(t)){this.clearVariable(this.m_placementVN)}else{this.setStringVariable(this.m_placementVN,t.getName())}};e.OuTextFormattingVariableGroup.prototype.setPlacementVN=function(e){this.m_placementVN=e};e.OuTextFormattingVariableGroup.prototype.setShowLabel=function(e){this.m_showLabel=e};e.OuTextFormattingVariableGroup.prototype.setShowVN=function(e){this.m_showVN=e};e.OuTextFormattingVariableGroup.prototype.setShown=function(t){if(!e.TriStateBool.isExplicitBooleanValue(t)){this.clearVariable(this.m_showVN)}else{this.setBooleanVariable(this.m_showVN,t)}};e.OuTextFormattingVariableGroup.prototype.setStrikeThroughVN=function(e){this.m_strikeThroughVN=e};e.OuTextFormattingVariableGroup.prototype.setStringVariable=function(t,i){let n=this.ensureVariable(t,e.XValueType.STRING);if(e.notNull(n)){n.setValueByString(i)}};e.OuTextFormattingVariableGroup.prototype.setUnderlineVN=function(e){this.m_underlineVN=e};e.OuTextFormattingVariableGroup.prototype.setVerticalAlignment=function(t){if(e.isNull(t)){this.clearVariable(this.m_verticalAlignmentVN)}else{this.setStringVariable(this.m_verticalAlignmentVN,t.getName())}};e.OuTextFormattingVariableGroup.prototype.setVerticalAlignmentVN=function(e){this.m_verticalAlignmentVN=e};e.OuTextFormattingVariableGroup.prototype.supportsAvoidOverlap=function(){return e.XStringUtils.isNotNullAndNotEmpty(this.m_avoidOverlapVN)};e.OuTextFormattingVariableGroup.prototype.supportsFillColor=function(){return e.XStringUtils.isNotNullAndNotEmpty(this.m_fillColorVN)};e.OuTextFormattingVariableGroup.prototype.supportsFontStrikeThrough=function(){return e.XStringUtils.isNotNullAndNotEmpty(this.m_strikeThroughVN)};e.OuTextFormattingVariableGroup.prototype.supportsFontUnderline=function(){return e.XStringUtils.isNotNullAndNotEmpty(this.m_underlineVN)};e.OuTextFormattingVariableGroup.prototype.supportsHorizontalAlignment=function(){return e.XStringUtils.isNotNullAndNotEmpty(this.m_horizontalAlignmentVN)};e.OuTextFormattingVariableGroup.prototype.supportsLayoutDirection=function(){return e.XStringUtils.isNotNullAndNotEmpty(this.m_layoutDirectionVN)};e.OuTextFormattingVariableGroup.prototype.supportsPlacement=function(){return e.XStringUtils.isNotNullAndNotEmpty(this.m_placementVN)};e.OuTextFormattingVariableGroup.prototype.supportsShown=function(){return e.XStringUtils.isNotNullAndNotEmpty(this.m_showVN)};e.OuTextFormattingVariableGroup.prototype.supportsVerticalAlignment=function(){return e.XStringUtils.isNotNullAndNotEmpty(this.m_verticalAlignmentVN)};e.OuNumberFormattingView=function(){};e.OuNumberFormattingView.prototype=new e.DfUiContentView;e.OuNumberFormattingView.prototype._ff_c="OuNumberFormattingView";e.OuNumberFormattingView.ALL_KEY="!all";e.OuNumberFormattingView.DEFAULT_KEY="!default";e.OuNumberFormattingView.EMPTY_KEY="!empty";e.OuNumberFormattingView.FORMAT="scaleFormat";e.OuNumberFormattingView.MEMBER="member";e.OuNumberFormattingView.MIXED_KEY="!mixed";e.OuNumberFormattingView.MIXED_UNIT_CURRENCY="mixedUnitCurrency";e.OuNumberFormattingView.SCALE="scale";e.OuNumberFormattingView.SHIFT="shift";e.OuNumberFormattingView.SIGN="sign";e.OuNumberFormattingView.createView=function(t){let i=new e.OuNumberFormattingView;i.initView(t);return i};e.OuNumberFormattingView.prototype.m_commercialMinusEnabled=false;e.OuNumberFormattingView.prototype.m_form=null;e.OuNumberFormattingView.prototype.m_loadedValueFormat=null;e.OuNumberFormattingView.prototype.m_loadedValueMember=null;e.OuNumberFormattingView.prototype.m_loadedValueScale=null;e.OuNumberFormattingView.prototype.m_loadedValueShift=null;e.OuNumberFormattingView.prototype.m_loadedValueSign=null;e.OuNumberFormattingView.prototype.m_loadedValueType=null;e.OuNumberFormattingView.prototype.m_mixedUnitCurrencyLabel=null;e.OuNumberFormattingView.prototype.m_onChange=null;e.OuNumberFormattingView.prototype.m_queryManager=null;e.OuNumberFormattingView.prototype.addCheckBox=function(t,i,n){let o=this.getLocalizationProvider();this.m_mixedUnitCurrencyLabel=this.m_form.addFormLabel(t,o.getText(i),o.getText(i));this.m_mixedUnitCurrencyLabel.setFontWeight(e.UiFontWeight.NORMAL).setVisible(false);let r=this.m_form.addCheckbox(t,false,o.getText(n));r.setVisible(false);r.setValueChangedConsumer((e,t)=>{this.saveState()})};e.OuNumberFormattingView.prototype.addDropdown=function(t,i){let n=this.getLocalizationProvider();let o=this.m_form.addDropdown(t,null,n.getText(i),null,false);o.setLabelFontWeight(e.UiFontWeight.NORMAL)};e.OuNumberFormattingView.prototype.addMeasureDropdown=function(){let t=this.m_form.addDropdown(e.OuNumberFormattingView.MEMBER,this.m_loadedValueMember,e.OuNumberFormattingView.MEMBER,null,false);t.setLabelFontWeight(e.UiFontWeight.NORMAL)};e.OuNumberFormattingView.prototype.applyStateToUi=function(){this.setDropdownValue(e.OuNumberFormattingView.MEMBER,this.getMemberOptions(),this.m_loadedValueMember);this.setDropdownValue(e.OuNumberFormattingView.SHIFT,this.getShiftOptions(),this.m_loadedValueShift);this.setDropdownValue(e.OuNumberFormattingView.FORMAT,this.getFormatOptions(),this.m_loadedValueFormat);this.setDropdownValue(e.OuNumberFormattingView.SCALE,this.getScaleOptions(),this.m_loadedValueScale);this.setDropdownValue(e.OuNumberFormattingView.SIGN,this.getSignOptions(),this.m_loadedValueSign);this.m_form.getFormItemByKey(e.OuNumberFormattingView.SHIFT).setVisible(this.m_loadedValueType!==e.XValueType.PERCENT);this.m_form.getFormItemByKey(e.OuNumberFormattingView.FORMAT).setVisible(this.m_loadedValueType!==e.XValueType.PERCENT)};e.OuNumberFormattingView.prototype.buildViewUi=function(t){this.m_form=e.UiForm.create(this.getGenesis());this.addMeasureDropdown();this.addDropdown(e.OuNumberFormattingView.SHIFT,e.OuNumberFormattingI18n.STYLE_SCALE);this.addDropdown(e.OuNumberFormattingView.FORMAT,e.OuNumberFormattingI18n.STYLE_SCALE_FORMAT);this.addDropdown(e.OuNumberFormattingView.SCALE,e.OuNumberFormattingI18n.STYLE_DECIMAL_PLACES);this.addDropdown(e.OuNumberFormattingView.SIGN,e.OuNumberFormattingI18n.STYLE_SIGN);this.addCheckBox(e.OuNumberFormattingView.MIXED_UNIT_CURRENCY,e.OuNumberFormattingI18n.STYLE_MIXED_UNITS_CURRENCY_LABEL,e.OuNumberFormattingI18n.STYLE_MIXED_UNITS_CURRENCY);t.setRoot(this.m_form.getView())};e.OuNumberFormattingView.prototype.clearLoadedValues=function(){this.m_loadedValueMember=e.OuNumberFormattingView.EMPTY_KEY;this.m_loadedValueShift=e.OuNumberFormattingView.EMPTY_KEY;this.m_loadedValueScale=e.OuNumberFormattingView.EMPTY_KEY;this.m_loadedValueFormat=e.OuNumberFormattingView.EMPTY_KEY;this.m_loadedValueSign=e.OuNumberFormattingView.EMPTY_KEY};e.OuNumberFormattingView.prototype.destroyView=function(){this.m_loadedValueMember=null;this.m_loadedValueScale=null;this.m_loadedValueShift=null;this.m_loadedValueFormat=null;this.m_loadedValueSign=null;this.m_loadedValueType=null;this.m_form=e.XObjectExt.release(this.m_form);this.m_queryManager=null;this.m_mixedUnitCurrencyLabel=null};e.OuNumberFormattingView.prototype.determineAllValue=function(t,i){if(e.isNull(t)){return i}if(!e.XString.isEqual(i,t)&&!e.XString.isEqual(i,e.OuNumberFormattingView.MIXED_KEY)){return e.OuNumberFormattingView.MIXED_KEY}return t};e.OuNumberFormattingView.prototype.getConstantValue=function(t,i){if(i){return e.OuNumberFormattingView.DEFAULT_KEY}if(e.isNull(t)){return e.OuNumberFormattingView.DEFAULT_KEY}return t.getName()};e.OuNumberFormattingView.prototype.getEffectiveCellValueTypeOfMember=function(t){return this.isPercentMember(t)?e.XValueType.PERCENT:t.getCellValueType()};e.OuNumberFormattingView.prototype.getFormatOptions=function(){let t=this.getLocalizationProvider();let i=e.XLinkedHashMapByString.create();i.put(e.OuNumberFormattingView.DEFAULT_KEY,t.getText(e.OuNumberFormattingI18n.STYLE_DEFAULT));i.put(e.ScaleFormat.SHORT.getName(),t.getText(e.OuNumberFormattingI18n.STYLE_SCALE_FORMAT_SHORT));i.put(e.ScaleFormat.LONG.getName(),t.getText(e.OuNumberFormattingI18n.STYLE_SCALE_FORMAT_LONG));return i};e.OuNumberFormattingView.prototype.getLeadingStructure=function(){let e=this.m_queryManager.getQueryModel();if(e.isLeadingStructureAccount()){return e.getAccountDimension()}return e.getMeasureDimension()};e.OuNumberFormattingView.prototype.getLocalizationProvider=function(){return e.OuNumberFormattingI18n.getLocalization()};e.OuNumberFormattingView.prototype.getMemberOptions=function(){let t=e.XLinkedHashMapByString.create();let i=this.getStructureMembers();if(i.size()>1){let i=this.getLocalizationProvider();if(this.m_queryManager.getQueryModel().isLeadingStructureAccount()){t.put(e.OuNumberFormattingView.ALL_KEY,i.getText(e.OuNumberFormattingI18n.STYLE_ACCOUNT_ALL))}else{t.put(e.OuNumberFormattingView.ALL_KEY,i.getText(e.OuNumberFormattingI18n.STYLE_MEASURE_ALL))}}let n=e.XStream.of(i).reduce(e.XLinkedHashMapByString.create(),(t,i)=>{let n=e.QueryPresentationUtils.DESCRIPTION.getDisplayValueByType(i);t.put(i.getName(),n);return t});t.putAll(e.XCollectionUtils.sortMapByValues(n,e.XSortDirection.ASCENDING,false));return t};e.OuNumberFormattingView.prototype.getQueryManager=function(){return this.m_queryManager};e.OuNumberFormattingView.prototype.getScaleOptions=function(){let t=this.getLocalizationProvider();let i=e.XLinkedHashMapByString.create();i.put(e.OuNumberFormattingView.DEFAULT_KEY,t.getText(e.OuNumberFormattingI18n.STYLE_DEFAULT));i.put("0","0");i.put("1","1");i.put("2","2");i.put("3","3");i.put("4","4");i.put("5","5");i.put("6","6");return i};e.OuNumberFormattingView.prototype.getShiftOptions=function(){let t=this.getLocalizationProvider();let i=e.XLinkedHashMapByString.create();i.put(e.OuNumberFormattingView.DEFAULT_KEY,t.getText(e.OuNumberFormattingI18n.STYLE_DEFAULT));i.put("0",t.getText(e.OuNumberFormattingI18n.STYLE_SCALE_UNFORMATTED));i.put("-3",t.getText(e.OuNumberFormattingI18n.STYLE_SCALE_LONG_THOUSAND));i.put("-6",t.getText(e.OuNumberFormattingI18n.STYLE_SCALE_LONG_MILLION));i.put("-9",t.getText(e.OuNumberFormattingI18n.STYLE_SCALE_LONG_BILLION));return i};e.OuNumberFormattingView.prototype.getSignOptions=function(){let t=this.getLocalizationProvider();let i=e.XLinkedHashMapByString.create();i.put(e.OuNumberFormattingView.DEFAULT_KEY,t.getText(e.OuNumberFormattingI18n.STYLE_DEFAULT));i.put(e.SignPresentation.BEFORE_NUMBER.getName(),"+ / -");i.put(e.SignPresentation.BRACKETS.getName(),"( )");if(this.m_commercialMinusEnabled){i.put(e.SignPresentation.COMMERCIAL_MINUS.getName(),"")}return i};e.OuNumberFormattingView.prototype.getStringValue=function(t,i){if(i){return e.OuNumberFormattingView.DEFAULT_KEY}if(e.isNull(t)){return e.OuNumberFormattingView.DEFAULT_KEY}let n=t.getStringRepresentation();if(e.isNull(n)){return e.OuNumberFormattingView.DEFAULT_KEY}return n};e.OuNumberFormattingView.prototype.getStructureMembers=function(){let t=e.XListOfNameObject.create();let i=this.getLeadingStructure();if(e.isNull(i)){return t}let n=i.getAllStructureMembers();for(let i=0;i<n.size();i++){let o=n.get(i);if(o.getCellValueType()!==null&&o.getCellValueType().isDateTime()){continue}if(o.getResultVisibility()===e.ResultVisibility.HIDDEN){continue}t.add(o)}return t};e.OuNumberFormattingView.prototype.isPercentMember=function(t){return t.getCellValueType()===e.XValueType.PERCENT||t.getQueryManager().getSystemType().isTypeOf(e.SystemType.HANA)&&t.getNumericShiftExt(true)!==null&&t.getNumericShiftExt(true).getInteger()===2};e.OuNumberFormattingView.prototype.loadState=function(t){this.clearLoadedValues();if(this.getLeadingStructure()===null){return}this.m_loadedValueMember=t;if(e.XString.isEqual(this.m_loadedValueMember,e.OuNumberFormattingView.EMPTY_KEY)){return}if(e.XString.isEqual(this.m_loadedValueMember,e.OuNumberFormattingView.ALL_KEY)){this.loadStateOfAllMeasures()}else{let e=this.getLeadingStructure();let i=e.getStructureMember(t);this.loadStateOfMeasure(i)}};e.OuNumberFormattingView.prototype.loadStateOfAllMeasures=function(){let t=null;let i=null;let n=null;let o=null;let r=null;let a=null;let s=this.getStructureMembers();if(e.XCollectionUtils.hasElements(s)){a=this.getEffectiveCellValueTypeOfMember(s.get(0))}for(let l=0;l<s.size();l++){let u=s.get(l);let p=this.getEffectiveCellValueTypeOfMember(u);if(a!==p){a=null}if(p!==e.XValueType.PERCENT){let e=this.getStringValue(u.getNumericShiftExt(true),u.isNumericShiftDefaultExt(true));t=this.determineAllValue(t,e);let o=this.getStringValue(u.getNumericScale(),u.isNumericScaleDefault());i=this.determineAllValue(i,o);let r=this.getConstantValue(u.getScaleFormat(),u.isScaleFormatDefault());n=this.determineAllValue(n,r)}let m=this.getConstantValue(u.getSignPresentation(),u.isSignPresentationDefault());o=this.determineAllValue(o,m);let c=this.getConstantValue(u.getScaleAndUnitPlacement(),u.isScaleAndUnitPlacementDefault());r=this.determineAllValue(r,c)}this.m_loadedValueMember=e.OuNumberFormattingView.ALL_KEY;this.m_loadedValueShift=t;this.m_loadedValueScale=i;this.m_loadedValueFormat=n;this.m_loadedValueSign=o;this.m_loadedValueType=a};e.OuNumberFormattingView.prototype.loadStateOfMeasure=function(e){let t=this.getStringValue(e.getNumericShiftExt(true),e.isNumericShiftDefaultExt(true));let i=this.getStringValue(e.getNumericScale(),e.isNumericScaleDefault());let n=this.getConstantValue(e.getScaleFormat(),e.isScaleFormatDefault());let o=this.getConstantValue(e.getSignPresentation(),e.isSignPresentationDefault());this.m_loadedValueMember=e.getName();this.m_loadedValueShift=t;this.m_loadedValueScale=i;this.m_loadedValueFormat=n;this.m_loadedValueSign=o;this.m_loadedValueType=this.getEffectiveCellValueTypeOfMember(e)};e.OuNumberFormattingView.prototype.notifyChangeListeners=function(){if(e.notNull(this.m_onChange)){this.m_onChange()}};e.OuNumberFormattingView.prototype.resetFormatOptions=function(){this.m_form.getFormItemByKey(e.OuNumberFormattingView.FORMAT).setDropdownItems(this.getFormatOptions())};e.OuNumberFormattingView.prototype.resetScaleOptions=function(){this.m_form.getFormItemByKey(e.OuNumberFormattingView.SCALE).setDropdownItems(this.getScaleOptions())};e.OuNumberFormattingView.prototype.resetShiftOptions=function(){this.m_form.getFormItemByKey(e.OuNumberFormattingView.SHIFT).setDropdownItems(this.getShiftOptions())};e.OuNumberFormattingView.prototype.resetSignOptions=function(){this.m_form.getFormItemByKey(e.OuNumberFormattingView.SIGN).setDropdownItems(this.getSignOptions())};e.OuNumberFormattingView.prototype.resetValues=function(){this.m_form.getFormItemByKey(e.OuNumberFormattingView.SHIFT).setValue(e.XStringValue.create(e.OuNumberFormattingView.DEFAULT_KEY));this.m_form.getFormItemByKey(e.OuNumberFormattingView.SCALE).setValue(e.XStringValue.create(e.OuNumberFormattingView.DEFAULT_KEY));this.m_form.getFormItemByKey(e.OuNumberFormattingView.FORMAT).setValue(e.XStringValue.create(e.OuNumberFormattingView.DEFAULT_KEY));this.m_form.getFormItemByKey(e.OuNumberFormattingView.SIGN).setValue(e.XStringValue.create(e.OuNumberFormattingView.DEFAULT_KEY));if(this.m_form.getFormItemByKey(e.OuNumberFormattingView.MIXED_UNIT_CURRENCY)!==null){this.m_form.getFormItemByKey(e.OuNumberFormattingView.MIXED_UNIT_CURRENCY).setValue(e.XBooleanValue.create(false))}this.saveState();this.resetShiftOptions();this.resetScaleOptions();this.resetFormatOptions();this.resetSignOptions()};e.OuNumberFormattingView.prototype.saveMemberState=function(t,i){let n=t.getStringByKey(e.OuNumberFormattingView.SHIFT);let o=t.getStringByKey(e.OuNumberFormattingView.SCALE);let r=t.getStringByKey(e.OuNumberFormattingView.FORMAT);let a=t.getStringByKey(e.OuNumberFormattingView.SIGN);if(!this.isPercentMember(i)){if(e.XString.isEqual(n,e.OuNumberFormattingView.DEFAULT_KEY)){i.resetToDefaultNumericShift()}else if(!e.XString.isEqual(n,e.OuNumberFormattingView.MIXED_KEY)){i.setNumericShiftExt(e.XInteger.convertFromString(n),true)}if(e.XString.isEqual(r,e.OuNumberFormattingView.DEFAULT_KEY)){i.resetToDefaultScaleFormat()}else if(!e.XString.isEqual(r,e.OuNumberFormattingView.MIXED_KEY)){i.setScaleFormat(e.ScaleFormat.lookup(r))}}if(e.XString.isEqual(o,e.OuNumberFormattingView.DEFAULT_KEY)){i.resetToDefaultNumericScale()}else if(!e.XString.isEqual(o,e.OuNumberFormattingView.MIXED_KEY)){i.setNumericScale(e.XInteger.convertFromString(o))}if(e.XString.isEqual(a,e.OuNumberFormattingView.DEFAULT_KEY)){i.resetToDefaultSignPresentation()}else if(!e.XString.isEqual(a,e.OuNumberFormattingView.MIXED_KEY)){i.setSignPresentation(e.SignPresentation.lookup(a))}if(this.getQueryManager().getApplication().getSession().hasFeatureByName(e.OlapUiFeatureToggle.DATA_ANALYZER_TABLE_MIXED_UNITS)){i.setShowMixedUnitsCurrencies(t.getBooleanByKey(e.OuNumberFormattingView.MIXED_UNIT_CURRENCY))}};e.OuNumberFormattingView.prototype.saveState=function(){let t=this.m_form.getJsonModel();if(this.getLeadingStructure()===null){return}let i=this.getStructureMembers();let n=t.getStringByKey(e.OuNumberFormattingView.MEMBER);if(e.XString.isEqual(n,e.OuNumberFormattingView.EMPTY_KEY)){return}else if(e.XString.isEqual(n,e.OuNumberFormattingView.ALL_KEY)){for(let e=0;e<i.size();e++){this.saveMemberState(t,i.get(e))}}else{this.saveMemberState(t,i.getByKey(n))}this.notifyChangeListeners()};e.OuNumberFormattingView.prototype.setCommercialMinusEnabled=function(e){this.m_commercialMinusEnabled=e};e.OuNumberFormattingView.prototype.setDropdownValue=function(t,i,n){let o=this.m_form.getFormItemByKey(t);if(!i.containsKey(n)){i.put(n,"-")}o.setDropdownItems(i);o.setValue(e.XStringValue.create(n))};e.OuNumberFormattingView.prototype.setOnChange=function(e){this.m_onChange=e};e.OuNumberFormattingView.prototype.setQueryManager=function(e){this.m_queryManager=e;this.clearLoadedValues()};e.OuNumberFormattingView.prototype.setupView=function(){this.clearLoadedValues()};e.OuNumberFormattingView.prototype.updateCheckBox=function(e,t){this.m_mixedUnitCurrencyLabel.setVisible(t);let i=this.m_form.getFormItemByKey(e);i.setEnabled(this.getLeadingStructure()!==null);i.setVisible(t);i.setValueChangedConsumer((e,t)=>{this.saveState()})};e.OuNumberFormattingView.prototype.updateDropdown=function(e,t,i){let n=this.m_form.getFormItemByKey(e);n.setEnabled(this.getLeadingStructure()!==null);n.setVisible(i);n.setValueChangedConsumer((e,i)=>{this.saveState();n.setDropdownItems(t)})};e.OuNumberFormattingView.prototype.updateMeasureDropdown=function(){let t=this.getLocalizationProvider();let i=t.getText(e.OuNumberFormattingI18n.STYLE_MEASURE_SELECTION);if(this.getQueryManager().getQueryModel().isLeadingStructureAccount()){i=t.getText(e.OuNumberFormattingI18n.STYLE_ACCOUNT_SELECTION)}let n=this.m_form.getFormItemByKey(e.OuNumberFormattingView.MEMBER);n.setText(i);n.setEnabled(this.getLeadingStructure()!==null);n.setValueChangedConsumer((t,i)=>{let n=e.XValueUtil.getString(i);this.loadState(n);this.applyStateToUi()})};e.OuNumberFormattingView.prototype.updateUi=function(){this.updateMeasureDropdown();this.updateDropdown(e.OuNumberFormattingView.SHIFT,this.getShiftOptions(),true);this.updateDropdown(e.OuNumberFormattingView.FORMAT,this.getFormatOptions(),true);this.updateDropdown(e.OuNumberFormattingView.SCALE,this.getScaleOptions(),true);this.updateDropdown(e.OuNumberFormattingView.SIGN,this.getSignOptions(),true);if(this.getQueryManager()!==null){this.updateCheckBox(e.OuNumberFormattingView.MIXED_UNIT_CURRENCY,this.getQueryManager().getApplication().getSession().hasFeatureByName(e.OlapUiFeatureToggle.DATA_ANALYZER_TABLE_MIXED_UNITS))}let t=this.getStructureMembers();if(t.size()===1){this.loadState(t.get(0).getName())}else if(!e.XString.isEqual(this.m_loadedValueMember,e.OuNumberFormattingView.EMPTY_KEY)){this.loadState(this.m_loadedValueMember)}else{this.loadState(e.OuNumberFormattingView.ALL_KEY)}this.applyStateToUi()};e.OuCalcUiComponent=function(){};e.OuCalcUiComponent.prototype=new e.XConstantWithParent;e.OuCalcUiComponent.prototype._ff_c="OuCalcUiComponent";e.OuCalcUiComponent.ASSISTANCE_PANEL=null;e.OuCalcUiComponent.CODE_EDITOR=null;e.OuCalcUiComponent.DETAILS_PANEL=null;e.OuCalcUiComponent.ERRORS_PANEL=null;e.OuCalcUiComponent.FORMULA_ELEMENTS_PANEL=null;e.OuCalcUiComponent.s_instances=null;e.OuCalcUiComponent.create=function(t,i){e.XStringUtils.assertNotNullOrEmpty(t);let n=new e.OuCalcUiComponent;n.setupExt(t,i);e.OuCalcUiComponent.s_instances.put(t,n);return n};e.OuCalcUiComponent.staticSetup=function(){e.OuCalcUiComponent.s_instances=e.XHashMapByString.create();e.OuCalcUiComponent.DETAILS_PANEL=e.OuCalcUiComponent.create("DETAILS_PANEL",null);e.OuCalcUiComponent.CODE_EDITOR=e.OuCalcUiComponent.create("CODE_EDITOR",null);e.OuCalcUiComponent.ASSISTANCE_PANEL=e.OuCalcUiComponent.create("ASSISTANCE_PANEL",null);e.OuCalcUiComponent.FORMULA_ELEMENTS_PANEL=e.OuCalcUiComponent.create("FORMULA_ELEMENTS_PANEL",null);e.OuCalcUiComponent.ERRORS_PANEL=e.OuCalcUiComponent.create("ERRORS_PANEL",null)};e.OuCalcComponentPluginWithSharedSpace=function(){};e.OuCalcComponentPluginWithSharedSpace.prototype=new e.HuDfComponentPlugin;e.OuCalcComponentPluginWithSharedSpace.prototype._ff_c="OuCalcComponentPluginWithSharedSpace";e.OuCalcComponentPluginWithSharedSpace.prototype.getNotificationCenter=function(){let t=this.getProcess().getSharedNotificationCenter();return e.notNull(t)?t:this.getController().getLocalNotificationCenter()};e.OuCalcComponentPluginWithSharedSpace.prototype.getSharedDataSpace=function(){return e.OuCalcSharedDataSpaceManager.create(this.getController().getProcess()).get()};e.OuCalcFunctionsView=function(){};e.OuCalcFunctionsView.prototype=new e.OuCalcFormulaElementListContentView;e.OuCalcFunctionsView.prototype._ff_c="OuCalcFunctionsView";e.OuCalcFunctionsView.create=function(t){let i=new e.OuCalcFunctionsView;i.setupInternal(true);i.m_formulaItems=e.XObjectExt.assertNotNull(t);i.m_onSelectFormulaItemConsumers=e.XConsumerCollection.create();return i};e.OuCalcFunctionsView.prototype.m_formulaItems=null;e.OuCalcFunctionsView.prototype.m_onSelectFormulaItemConsumers=null;e.OuCalcFunctionsView.prototype.addFunctionsPanel=function(e){e.renderView(this.getGenesis());e.attachOnChange(e=>{this.m_onSelectFormulaItemConsumers.accept(e.toString())});e.attachOnSelect(e=>{this.onSelectConsumer(e.toString())});this.addPanel(e);this.m_panelsLayout.addItem(e.getView())};e.OuCalcFunctionsView.prototype.addOnSelectFormulaItemConsumer=function(e){return this.m_onSelectFormulaItemConsumers.addConsumer(e)};e.OuCalcFunctionsView.prototype.buildCategoryListPanel=function(){let t=e.XStream.of(this.m_formulaItems.getFunctions()).map(t=>e.OuCalcPanelItem.createWithCategory(t.getSyntax(),t.getDisplayName(),this.getCategoryI18n(t.getCategory().getName()))).collect(e.XStreamCollector.toList());let i=e.OuCalcPanelCategorizedListWidget.createExt(t,true);this.addFunctionsPanel(i)};e.OuCalcFunctionsView.prototype.buildUI=function(){this.buildCategoryListPanel()};e.OuCalcFunctionsView.prototype.destroyView=function(){this.m_formulaItems=null;this.m_onSelectFormulaItemConsumers.clear();this.m_onSelectFormulaItemConsumers=e.XObjectExt.release(this.m_onSelectFormulaItemConsumers);e.OuCalcFormulaElementListContentView.prototype.destroyView.call(this)};e.OuCalcFunctionsView.prototype.getCategoryI18n=function(t){return this.getLocalization().getText(e.XStringUtils.concatenate3(e.OuCalcFormulaEditorI18n.FE_FUNCTIONS,"_",t))};e.OuCalcObjectsView=function(){};e.OuCalcObjectsView.prototype=new e.OuCalcFormulaElementListContentView;e.OuCalcObjectsView.prototype._ff_c="OuCalcObjectsView";e.OuCalcObjectsView.HIERARCHY_DEBOUNCE_SEARCH_MS=350;e.OuCalcObjectsView.create=function(t,i,n){let o=new e.OuCalcObjectsView;o.setupInternal(true);o.m_datasource=e.XObjectExt.assertNotNull(t);o.m_feConfiguration=e.XObjectExt.assertNotNull(i);o.m_onDisplayTypeChanged=e.XConsumerCollection.create();o.m_displayType=e.QueryPresentationUtils.DESCRIPTION;o.m_enableModelPrefix=n;return o};e.OuCalcObjectsView.prototype.m_datasource=null;e.OuCalcObjectsView.prototype.m_dimensionsPanelItems=null;e.OuCalcObjectsView.prototype.m_displayType=null;e.OuCalcObjectsView.prototype.m_displayTypeWidget=null;e.OuCalcObjectsView.prototype.m_enableModelPrefix=false;e.OuCalcObjectsView.prototype.m_feConfiguration=null;e.OuCalcObjectsView.prototype.m_measuresPanelItems=null;e.OuCalcObjectsView.prototype.m_onDisplayTypeChanged=null;e.OuCalcObjectsView.prototype.addOnDisplayOptionPressedConsumer=function(e){return this.m_onDisplayTypeChanged.addConsumer(e)};e.OuCalcObjectsView.prototype.areFlatPanels=function(t){return e.XStream.of(t).allMatch(e=>!e.getParentId().isPresent())};e.OuCalcObjectsView.prototype.buildUI=function(){this.m_displayTypeWidget=e.OuCalcDisplayTypeWidget.create();this.m_displayTypeWidget.setOnDisplayTypeChanged(e=>{this.m_onDisplayTypeChanged.accept(e)});this.m_displayTypeWidget.renderView(this.getGenesis());this.m_header.addItem(this.m_displayTypeWidget.getView());let t=this.createPanel(this.m_feConfiguration.getStructureName(),this.m_measuresPanelItems,false);this.m_panelsLayout.addItem(t);if(this.m_feConfiguration.dimensionsSupported()){let t=this.createPanel(this.getLocalization().getText(e.OuCalcFormulaEditorI18n.FE_DIMENSIONS),this.m_dimensionsPanelItems,false);this.m_panelsLayout.addItem(t)}};e.OuCalcObjectsView.prototype.createPanel=function(t,i,n){e.XObjectExt.assertNotNull(i);e.XCollectionUtils.forEach(i,t=>{e.XObjectExt.assertNotNull(t)});if(e.XStringUtils.isNullOrEmpty(t)){throw e.XException.createIllegalStateException("Panel name must not be null or empty string")}let o=this.createPanelWidget(t,i,n);o.renderView(this.getGenesis());o.attachOnSelect(e=>{this.onSelectConsumer(e.toString())});this.addPanel(o);return o.getView()};e.OuCalcObjectsView.prototype.createPanelWidget=function(t,i,n){return this.panelsHierarchicalStructure(i)?e.OuCalcPanelHierarchyWidget.create(t,i,n):e.OuCalcPanelListWidget.create(t,i,n)};e.OuCalcObjectsView.prototype.destroyView=function(){this.m_datasource=null;e.XCollectionUtils.releaseEntriesFromCollection(this.m_measuresPanelItems);this.m_measuresPanelItems.clear();this.m_measuresPanelItems=e.XObjectExt.release(this.m_measuresPanelItems);e.XCollectionUtils.releaseEntriesFromCollection(this.m_dimensionsPanelItems);this.m_dimensionsPanelItems.clear();this.m_dimensionsPanelItems=e.XObjectExt.release(this.m_dimensionsPanelItems);e.OuCalcFormulaElementListContentView.prototype.destroyView.call(this)};e.OuCalcObjectsView.prototype.getDimensionDisabledTooltip=function(t){if(t.isVirtual()){return e.XLocalizationCenter.getCenter().getText(e.OuCalcFormulaEditorI18n.FE_DIMENSION_VIRTUAL_DISABLE)}if(!e.FeFeatureToggle.isActive(e.FeFeatureToggle.DATE_DIMENSIONS)){let i=this.m_datasource.getParentDimension(t);if(t.isDateDimension()||i.isPresent()&&i.get().isDateDimension()){return e.XLocalizationCenter.getCenter().getText(e.OuCalcFormulaEditorI18n.FE_DIMENSION_DATE_DISABLE)}}return null};e.OuCalcObjectsView.prototype.getMeasureId=function(t){if(this.m_feConfiguration.hideTechnicalKeys()&&!t.hasAlias()){return this.getLocalization().getText(e.OlapUiCommonI18n.COMMON_MEMBER_WITHOUT_ID_TITLE)}return t.getAlias()};e.OuCalcObjectsView.prototype.panelsHierarchicalStructure=function(t){return e.XStream.of(t).anyMatch(e=>e.isEnabled()&&e.getParentId().isPresent())};e.OuCalcObjectsView.prototype.setDisplayType=function(t){e.XObjectExt.assertNotNull(t);this.m_displayType=t;this.updateObjectsViews();this.m_displayTypeWidget.setDisplayType(t)};e.OuCalcObjectsView.prototype.setupView=function(){let t=e.XComparatorLambda.create((t,i)=>{let n=e.XString.toLowerCase(t.getDisplayText(this.m_displayType));let o=e.XString.toLowerCase(i.getDisplayText(this.m_displayType));return e.XIntegerValue.create(e.XString.compare(n,o))});let i=this.m_datasource.getAllVisibleMeasures();let n=e.XLocalizationCenter.getCenter().getText(e.OuCalcFormulaEditorI18n.FE_MEASURE_DATE_DISABLE);this.m_measuresPanelItems=e.XStream.of(i).map(t=>{let i=!t.getValueType().isDateLike();return e.OuCalcPanelItem.createExt(t.getAlias(),this.getMeasureId(t),t.getField(this.m_enableModelPrefix),t.getDescription(),i,this.m_feConfiguration.getStructureName(),i?null:n,t.getParentId().isPresent()?t.getParentId().get():null)}).collect(e.XStreamCollector.toList());if(this.areFlatPanels(this.m_measuresPanelItems)){this.m_measuresPanelItems.sortByComparator(t)}else{this.m_debouncingSearchMs=e.OuCalcObjectsView.HIERARCHY_DEBOUNCE_SEARCH_MS}if(this.m_feConfiguration.dimensionsSupported()){this.m_dimensionsPanelItems=e.XCollectionUtils.map(this.m_datasource.getAllDimensions(),t=>{let i=t.getAlias();let n=t.getDescription();if(t.getSelectedProperty().isPresent()){i=t.getSelectedProperty().get().getId();n=t.getSelectedProperty().get().getDescription()}let o=t.generateUniqueKey();let r=this.getDimensionDisabledTooltip(t);return e.OuCalcPanelItem.createExt(o,i,t.getField(this.m_enableModelPrefix),n,e.isNull(r),null,r,t.getParentId().orElse(null))});this.m_dimensionsPanelItems.sortByComparator(t);if(!this.areFlatPanels(this.m_dimensionsPanelItems)){this.m_debouncingSearchMs=e.OuCalcObjectsView.HIERARCHY_DEBOUNCE_SEARCH_MS}}};e.OuCalcObjectsView.prototype.updateObjectsViews=function(){e.XStream.of(this.m_panelWidgetList).forEach(e=>{e.setDisplayOption(this.m_displayType)})};e.OuCalcOperatorsView=function(){};e.OuCalcOperatorsView.prototype=new e.OuCalcFormulaElementListContentView;e.OuCalcOperatorsView.prototype._ff_c="OuCalcOperatorsView";e.OuCalcOperatorsView.create=function(t){let i=new e.OuCalcOperatorsView;i.setupInternal(false);i.m_formulaItems=e.XObjectExt.assertNotNull(t);return i};e.OuCalcOperatorsView.prototype.m_formulaItems=null;e.OuCalcOperatorsView.prototype.addPanelToLayout=function(e){e.renderView(this.getGenesis());e.attachOnSelect(e=>{this.onSelectConsumer(e.toString())});this.m_panelsLayout.addItem(e.getView())};e.OuCalcOperatorsView.prototype.buildList=function(){let t=this.m_formulaItems.getOperators();let i=this.getLocalization().getText(e.OuCalcFormulaEditorI18n.FE_OPERATORS);let n=this.getLocalization().getText(e.OuCalcFormulaEditorI18n.FE_CONDITIONS);let o=e.XList.create();e.XStream.of(t).forEach(t=>{if(t.getCategory().isTypeOf(e.FeFormulaItemCategory.MATHEMATICAL)){o.add(e.OuCalcPanelItem.createWithCategory(t.getSyntax(),t.getDisplayName(),i))}else if(t.getCategory().isTypeOf(e.FeFormulaItemCategory.CONDITIONAL)){o.add(e.OuCalcPanelItem.createWithCategory(t.getSyntax(),t.getDisplayName(),n))}});let r=e.OuCalcPanelCategorizedListWidget.createExt(o,true);this.addPanelToLayout(r)};e.OuCalcOperatorsView.prototype.buildUI=function(){this.buildList()};e.OuCalcOperatorsView.prototype.destroyView=function(){this.m_formulaItems=null;e.OuCalcFormulaElementListContentView.prototype.destroyView.call(this)};e.OuCalcVariablesView=function(){};e.OuCalcVariablesView.prototype=new e.OuCalcFormulaElementListContentView;e.OuCalcVariablesView.prototype._ff_c="OuCalcVariablesView";e.OuCalcVariablesView.create=function(t){e.XObjectExt.assertNotNull(t);let i=new e.OuCalcVariablesView;i.setupInternal(false);i.updateOrCreateVariablePanelItems(t);i.m_variableManager=t;i.m_displayType=e.QueryPresentationUtils.DESCRIPTION;i.m_onDisplayTypeChanged=e.XConsumerCollection.create();i.m_onVariablesUpdated=e.XProcedureCollection.create();return i};e.OuCalcVariablesView.prototype.m_displayType=null;e.OuCalcVariablesView.prototype.m_displayTypeWidget=null;e.OuCalcVariablesView.prototype.m_onDisplayTypeChanged=null;e.OuCalcVariablesView.prototype.m_onVariablesUpdated=null;e.OuCalcVariablesView.prototype.m_variableManager=null;e.OuCalcVariablesView.prototype.m_variablePanelItems=null;e.OuCalcVariablesView.prototype.m_variablesWidget=null;e.OuCalcVariablesView.prototype.addOnDisplayOptionPressedConsumer=function(e){return this.m_onDisplayTypeChanged.addConsumer(e)};e.OuCalcVariablesView.prototype.addOnVariablesUpdatedProcedure=function(e){return this.m_onVariablesUpdated.addProcedure(e)};e.OuCalcVariablesView.prototype.buildUI=function(){this.renderVariablesWidget();let t="New...";let i=this.m_header.addNewItemOfType(e.UiType.BUTTON);i.setText(t);i.setTooltip(t);i.addCssClass("ffFeNewVariableButton");i.registerOnPress(e.UiLambdaPressListener.create(e=>{this.m_variableManager.openVariableCreateDialog(()=>{this.refreshVariables()})}));this.m_displayTypeWidget=e.OuCalcDisplayTypeWidget.create();this.m_displayTypeWidget.setOnDisplayTypeChanged(e=>{this.m_onDisplayTypeChanged.accept(e)});this.m_displayTypeWidget.renderView(this.getGenesis());this.m_header.addItem(this.m_displayTypeWidget.getView())};e.OuCalcVariablesView.prototype.destroyView=function(){this.m_variablePanelItems=e.XObjectExt.release(this.m_variablePanelItems);this.m_variablesWidget=e.XObjectExt.release(this.m_variablesWidget);this.m_displayType=e.XObjectExt.release(this.m_displayType);this.m_onDisplayTypeChanged=e.XObjectExt.release(this.m_onDisplayTypeChanged);this.m_onVariablesUpdated=e.XObjectExt.release(this.m_onVariablesUpdated);this.m_variableManager=null;e.OuCalcFormulaElementListContentView.prototype.destroyView.call(this)};e.OuCalcVariablesView.prototype.refreshVariables=function(){this.updateOrCreateVariablePanelItems(this.m_variableManager);this.m_panelsLayout.removeItem(this.m_variablesWidget.getView());this.renderVariablesWidget();this.m_onVariablesUpdated.execute()};e.OuCalcVariablesView.prototype.renderVariablesWidget=function(){this.m_variablesWidget=e.OuCalcPanelVariablesWidget.createVariablesWidget(this.m_variablePanelItems,e=>{let t=this.m_variableManager.getVariableByAlias(e.getId());if(t.isPresent()){this.m_variableManager.openVariableUpdateDialog(t.get(),()=>{this.refreshVariables()})}},e=>{let t=this.m_variableManager.getVariableByAlias(e.getId());if(t.isPresent()){this.m_variableManager.deleteVariable(t.get(),()=>{this.refreshVariables()})}});this.m_variablesWidget.renderView(this.getGenesis());this.m_variablesWidget.attachOnSelect(e=>{this.onSelectConsumer(e.toString())});this.m_variablesWidget.setDisplayOption(this.m_displayType);this.m_panelsLayout.addItem(this.m_variablesWidget.getView())};e.OuCalcVariablesView.prototype.setDisplayType=function(t){e.XObjectExt.assertNotNull(t);this.m_displayType=t;this.m_variablesWidget.setDisplayOption(t);this.m_displayTypeWidget.setDisplayType(t)};e.OuCalcVariablesView.prototype.updateOrCreateVariablePanelItems=function(t){this.m_variablePanelItems=e.XCollectionUtils.map(t.getVariables(),t=>e.OuCalcPanelItem.createExt(t.getId(),t.getAlias(),t.getField(false),t.getDescription(),true,null,t.getDescription(),null))};e.OuAbstractCalcExpandablePanelWidget=function(){};e.OuAbstractCalcExpandablePanelWidget.prototype=new e.OuAbstractCalcPanelWidget;e.OuAbstractCalcExpandablePanelWidget.prototype._ff_c="OuAbstractCalcExpandablePanelWidget";e.OuAbstractCalcExpandablePanelWidget.prototype.m_isExpandable=false;e.OuAbstractCalcExpandablePanelWidget.prototype.m_name=null;e.OuAbstractCalcExpandablePanelWidget.prototype.m_panel=null;e.OuAbstractCalcExpandablePanelWidget.prototype.destroyWidget=function(){this.m_panel=null;e.OuAbstractCalcPanelWidget.prototype.destroyWidget.call(this)};e.OuAbstractCalcExpandablePanelWidget.prototype.getWidgetControl=function(t){this.m_panel=t.newControl(e.UiType.PANEL);return this.m_panel};e.OuAbstractCalcExpandablePanelWidget.prototype.layoutWidget=function(t){this.m_panel.setExpanded(true);this.m_panel.setExpandable(this.m_isExpandable);this.m_panel.setText(this.m_name);this.m_panel.setTooltip(this.m_name);this.m_panel.useMaxWidth();this.m_panel.removeAttribute(e.UtUi5AttributeConstants.FAST_NAV_GROUP);this.m_panel.addCssClass("ffFePanel");this.m_panel.addCssClass(e.XStringUtils.concatenate2("ffFePanel-",e.XString.replace(this.m_name," ","")))};e.OuAbstractCalcExpandablePanelWidget.prototype.setupInternal=function(t,i,n,o){this.setupInternalControl(i,o);if(e.XStringUtils.isNullOrEmpty(t)){throw e.XException.createIllegalArgumentException("Name must not be null or empty string!")}this.m_name=t;this.m_isExpandable=n};e.OuCalcPanelCategorizedListWidget=function(){};e.OuCalcPanelCategorizedListWidget.prototype=new e.OuAbstractCalcPanelWidget;e.OuCalcPanelCategorizedListWidget.prototype._ff_c="OuCalcPanelCategorizedListWidget";e.OuCalcPanelCategorizedListWidget.create=function(t){return e.OuCalcPanelCategorizedListWidget.createExt(t,false)};e.OuCalcPanelCategorizedListWidget.createExt=function(t,i){let n=new e.OuCalcPanelCategorizedListWidget;n.setupInternalControl(t,i);return n};e.OuCalcPanelCategorizedListWidget.prototype.m_groupHeaderListItemsByCategory=null;e.OuCalcPanelCategorizedListWidget.prototype.m_list=null;e.OuCalcPanelCategorizedListWidget.prototype.m_panelItemByCategory=null;e.OuCalcPanelCategorizedListWidget.prototype.m_panelItemsNoCategory=null;e.OuCalcPanelCategorizedListWidget.prototype.addPanelItems=function(t){e.XCollectionUtils.forEach(t,e=>{if(e.isEnabled()){this.m_list.addItem(this.createListItem(e))}})};e.OuCalcPanelCategorizedListWidget.prototype.destroyWidget=function(){this.m_panelItemByCategory.clear();this.m_panelItemByCategory=e.XObjectExt.release(this.m_panelItemByCategory);this.m_panelItemsNoCategory.clear();this.m_panelItemsNoCategory=e.XObjectExt.release(this.m_panelItemsNoCategory);this.m_groupHeaderListItemsByCategory.clear();this.m_groupHeaderListItemsByCategory=e.XObjectExt.release(this.m_groupHeaderListItemsByCategory);this.m_list=e.XObjectExt.release(this.m_list);e.OuAbstractCalcPanelWidget.prototype.destroyWidget.call(this)};e.OuCalcPanelCategorizedListWidget.prototype.filterItems=function(t){let i=e.XBooleanValue.create(false);let n=e.XHashSetOfString.create();e.XStream.of(this.getListItems()).forEach(e=>{let o=e.getCustomObject();let r=this.isPanelItemVisible(o,t);i.setBoolean(r||i.getBoolean());e.setVisible(r);if(r&&o.getCategory()!==null){n.add(o.getCategory())}});e.XStream.of(this.m_groupHeaderListItemsByCategory.getValuesAsReadOnlyList()).forEach(e=>{e.setVisible(n.contains(e.getText()))});if(this.m_hideIfEmpty){this.setVisible(i.getBoolean())}};e.OuCalcPanelCategorizedListWidget.prototype.getListItems=function(){return e.XStream.of(this.m_list.getItems()).filter(e=>this.isListItem(e)).collect(e.XStreamCollector.toList())};e.OuCalcPanelCategorizedListWidget.prototype.getWidgetControl=function(t){this.m_list=t.newControl(e.UiType.LIST);this.m_list.addCssClass("ffFePanel");return this.m_list};e.OuCalcPanelCategorizedListWidget.prototype.hasVisibleItems=function(){return e.XStream.of(this.getListItems()).anyMatch(e=>e.isVisible())};e.OuCalcPanelCategorizedListWidget.prototype.isListItem=function(t){return t.getUiType().isTypeOf(e.UiType.CUSTOM_LIST_ITEM)};e.OuCalcPanelCategorizedListWidget.prototype.layoutWidget=function(t){this.m_list.addCssClass("ffFeFlatListPanel");this.addPanelItems(this.m_panelItemsNoCategory);let i=e.XList.create();i.addAll(this.m_panelItemByCategory.getKeysAsReadOnlyList());i.sortByDirection(e.XSortDirection.ASCENDING);for(let t=0;t<i.size();t++){let n=this.getGenesis().newControl(e.UiType.GROUP_HEADER_LIST_ITEM);let o=i.get(t);n.setText(o);n.setTooltip(o);this.m_groupHeaderListItemsByCategory.put(o,n);this.m_list.addItem(n);let r=this.m_panelItemByCategory.getByKey(o);r.sortByComparator(e.XComparatorLambda.create((t,i)=>e.FeFunctionComparator.compareFunctionName(t.getDisplayName(),i.getDisplayName())));this.addPanelItems(r)}};e.OuCalcPanelCategorizedListWidget.prototype.setupWidget=function(){this.m_panelItemByCategory=e.XHashMapByString.create();this.m_panelItemsNoCategory=e.XList.create();this.m_groupHeaderListItemsByCategory=e.XHashMapByString.create();e.XStream.of(this.m_panelItems).forEach(t=>{if(t.getCategory()===null){this.m_panelItemsNoCategory.add(t)}else{let i=t.getCategory();let n;if(this.m_panelItemByCategory.containsKey(i)){n=this.m_panelItemByCategory.getByKey(i)}else{n=e.XList.create();this.m_panelItemByCategory.put(i,n)}n.add(t)}})};e.OuCalcPanelCategorizedListWidget.prototype.updateListItemsText=function(){for(let e=0;e<this.m_list.getNumberOfItems();e++){let t=this.m_list.getItem(e);this.updateItemLabel(t,t.getCustomObject())}};e.OuLambdaSyncAction=function(){};e.OuLambdaSyncAction.prototype=new e.SyncAction;e.OuLambdaSyncAction.prototype._ff_c="OuLambdaSyncAction";e.OuLambdaSyncAction.create=function(t,i,n,o){let r=new e.OuLambdaSyncAction;r.setupAction(e.SyncType.NON_BLOCKING,i,null,t);r.m_resultSupplier=n;r.m_delayInMillis=o;return r};e.OuLambdaSyncAction.prototype.m_delayInMillis=0;e.OuLambdaSyncAction.prototype.m_resultSupplier=null;e.OuLambdaSyncAction.prototype.m_timerId=null;e.OuLambdaSyncAction.prototype.cancelSynchronization=function(){if(e.XStringUtils.isNotNullAndNotEmpty(this.m_timerId)){e.XTimeout.clear(this.m_timerId);this.m_timerId=null;this.addError(0,"Canceled");e.SyncAction.prototype.cancelSynchronization.call(this)}};e.OuLambdaSyncAction.prototype.processSynchronization=function(t){this.m_timerId=e.XTimeout.timeout(this.m_delayInMillis,()=>{try{let e=this.m_resultSupplier();if(this.isSyncCanceled()){this.addError(2,"Action has been canceled")}else{this.setData(e)}this.m_timerId=null;this.endSync()}catch(t){this.addError(1,e.XException.getStackTrace(t,0))}});return t!==e.SyncType.BLOCKING};e.OuLambdaSyncAction.prototype.releaseObjectInternal=function(){this.m_resultSupplier=null;this.m_timerId=null};e.VdOrcaLevel=function(){};e.VdOrcaLevel.prototype=new e.XConstantWithParent;e.VdOrcaLevel.prototype._ff_c="VdOrcaLevel";e.VdOrcaLevel.CHART=null;e.VdOrcaLevel.DEFAULT=null;e.VdOrcaLevel.EXPLORER=null;e.VdOrcaLevel.FILTER=null;e.VdOrcaLevel.TABLE=null;e.VdOrcaLevel.WIDGET=null;e.VdOrcaLevel.s_lookup=null;e.VdOrcaLevel.create=function(t,i){let n=new e.VdOrcaLevel;n.setupExt(t,i);e.VdOrcaLevel.s_lookup.put(t,n);return n};e.VdOrcaLevel.lookup=function(t){return e.VdOrcaLevel.s_lookup.getByKey(t)};e.VdOrcaLevel.staticSetup=function(){e.VdOrcaLevel.s_lookup=e.XHashMapByString.create();e.VdOrcaLevel.DEFAULT=e.VdOrcaLevel.create("default",null);e.VdOrcaLevel.WIDGET=e.VdOrcaLevel.create("widget",null);e.VdOrcaLevel.CHART=e.VdOrcaLevel.create("chart",e.VdOrcaLevel.WIDGET);e.VdOrcaLevel.TABLE=e.VdOrcaLevel.create("table",e.VdOrcaLevel.WIDGET);e.VdOrcaLevel.EXPLORER=e.VdOrcaLevel.create("explorer",e.VdOrcaLevel.WIDGET);e.VdOrcaLevel.FILTER=e.VdOrcaLevel.create("filter",null)};e.OuDummyView=function(){};e.OuDummyView.prototype=new e.DfOuOlapView;e.OuDummyView.prototype._ff_c="OuDummyView";e.OuDummyView.create=function(t,i){let n=new e.OuDummyView;n.initOlapView(t,i);return n};e.OuDummyView.prototype.buildViewUi=function(t){let i=t.newControl(e.UiType.BUTTON);i.setText("Dummy button");t.setRoot(i)};e.OuDummyView.prototype.setupOlapView=function(e){};e.OuCalcPanelHierarchyWidget=function(){};e.OuCalcPanelHierarchyWidget.prototype=new e.OuAbstractCalcExpandablePanelWidget;e.OuCalcPanelHierarchyWidget.prototype._ff_c="OuCalcPanelHierarchyWidget";e.OuCalcPanelHierarchyWidget.create=function(t,i,n){return e.OuCalcPanelHierarchyWidget.createExt(t,i,n,true)};e.OuCalcPanelHierarchyWidget.createExt=function(t,i,n,o){let r=new e.OuCalcPanelHierarchyWidget;r.setupInternal(t,i,n,o);return r};e.OuCalcPanelHierarchyWidget.prototype.m_treeWidget=null;e.OuCalcPanelHierarchyWidget.prototype.addChildToCustomTree=function(t,i){let n=e.OuCalcCustomTreeWidgetItem.create(t.getUniqueKey(),this.createListItemContent(t),t.isEnabled(),t);i.addItem(n);e.XStream.of(t.getChildren()).forEach(e=>{this.addChildToCustomTree(e,n)})};e.OuCalcPanelHierarchyWidget.prototype.createHierarchyPanelItem=function(){let t=e.OuCalcTreePanelItem.createRoot();let i=e.XHashMapByString.create();e.XCollectionUtils.forEach(this.m_panelItems,t=>{i.put(t.getUniqueKey(),e.OuCalcTreePanelItem.createWithItem(t))});e.XCollectionUtils.forEach(this.m_panelItems,e=>{let n=i.getByKey(e.getUniqueKey());if(n.getParentId().isPresent()){if(i.containsKey(n.getParentId().get())){i.getByKey(n.getParentId().get()).addChild(n)}}else{t.addChild(n)}});while(true){let n=e.XStream.of(i.getValuesAsReadOnlyList()).filter(e=>e.isLeaf()&&!e.isEnabled()).collect(e.XStreamCollector.toList());if(n.size()===0){break}e.XStream.of(n).forEach(e=>{if(e.getParent().isPresent()){e.getParent().get().removeChild(e)}else{t.removeChild(e)}i.remove(e.getUniqueKey())})}return t};e.OuCalcPanelHierarchyWidget.prototype.destroyWidget=function(){if(e.notNull(this.m_treeWidget)){this.m_treeWidget=e.XObjectExt.release(this.m_treeWidget)}e.OuAbstractCalcExpandablePanelWidget.prototype.destroyWidget.call(this)};e.OuCalcPanelHierarchyWidget.prototype.filterItems=function(e){this.m_treeWidget.filterItems(t=>{let i=t.getCustomObject();let n=this.isPanelItemVisible(i,e);if(n){t.getParent().ifPresent(e=>{e.setExpanded(true)})}return n});if(this.m_hideIfEmpty){this.setVisible(this.hasVisibleItems())}};e.OuCalcPanelHierarchyWidget.prototype.getListItemLabel=function(e){return e.getItem(0)};e.OuCalcPanelHierarchyWidget.prototype.hasVisibleItems=function(){return this.m_treeWidget.hasVisibleItems()};e.OuCalcPanelHierarchyWidget.prototype.layoutWidget=function(t){e.OuAbstractCalcExpandablePanelWidget.prototype.layoutWidget.call(this,t);this.m_panel.addCssClass("ffFeHierarchyPanel");this.m_treeWidget.renderView(this.getGenesis());this.m_panel.setContent(this.m_treeWidget.getView());this.m_treeWidget.addOnItemClick(e=>{this.fireOnChange(e.getCustomObject())});this.m_treeWidget.addOnItemDoubleClick(e=>{this.fireOnSelect(e.getCustomObject())})};e.OuCalcPanelHierarchyWidget.prototype.setupWidget=function(){e.OuAbstractCalcExpandablePanelWidget.prototype.setupWidget.call(this);this.m_treeWidget=e.OuCalcCustomTreeWidget.create();let t=this.createHierarchyPanelItem();e.XStream.of(t.getChildren()).forEach(e=>{this.addChildToCustomTree(e,this.m_treeWidget)});t.releaseObject()};e.OuCalcPanelHierarchyWidget.prototype.updateListItemsText=function(){this.m_treeWidget.applyToItems(e=>{this.updateItemLabel(e.getContent(),e.getCustomObject())})};e.OuCalcPanelListWidget=function(){};e.OuCalcPanelListWidget.prototype=new e.OuAbstractCalcExpandablePanelWidget;e.OuCalcPanelListWidget.prototype._ff_c="OuCalcPanelListWidget";e.OuCalcPanelListWidget.create=function(t,i,n){return e.OuCalcPanelListWidget.createExt(t,i,n,true)};e.OuCalcPanelListWidget.createExt=function(t,i,n,o){let r=new e.OuCalcPanelListWidget;r.setupInternal(t,i,n,o);return r};e.OuCalcPanelListWidget.prototype.m_list=null;e.OuCalcPanelListWidget.prototype.destroyWidget=function(){this.m_list=e.XObjectExt.release(this.m_list);e.OuAbstractCalcExpandablePanelWidget.prototype.destroyWidget.call(this)};e.OuCalcPanelListWidget.prototype.filterItems=function(e){for(let t=0;t<this.m_list.getNumberOfItems();t++){let i=this.m_list.getItem(t).getCustomObject();let n=this.isPanelItemVisible(i,e);this.m_list.getItem(t).setVisible(n)}if(this.m_hideIfEmpty){this.setVisible(this.hasVisibleItems())}};e.OuCalcPanelListWidget.prototype.hasVisibleItems=function(){return e.XStream.of(this.m_list.getItems()).anyMatch(e=>e.isVisible())};e.OuCalcPanelListWidget.prototype.layoutWidget=function(t){e.OuAbstractCalcExpandablePanelWidget.prototype.layoutWidget.call(this,t);this.m_panel.addCssClass("ffFeFlatListPanel");this.m_list=this.m_panel.setNewContent(e.UiType.LIST);e.XCollectionUtils.forEach(this.m_panelItems,e=>{if(e.isEnabled()){this.m_list.addItem(this.createListItem(e))}})};e.OuCalcPanelListWidget.prototype.updateListItemsText=function(){for(let e=0;e<this.m_list.getNumberOfItems();e++){let t=this.m_list.getItem(e);this.updateItemLabel(t,t.getCustomObject())}};e.OuCalcPanelVariablesWidget=function(){};e.OuCalcPanelVariablesWidget.prototype=new e.OuCalcPanelCategorizedListWidget;e.OuCalcPanelVariablesWidget.prototype._ff_c="OuCalcPanelVariablesWidget";e.OuCalcPanelVariablesWidget.createVariablesWidget=function(t,i,n){let o=new e.OuCalcPanelVariablesWidget;o.m_onEdit=i;o.m_onDelete=n;o.setupInternalControl(t.createListCopy(),true);return o};e.OuCalcPanelVariablesWidget.prototype.m_onDelete=null;e.OuCalcPanelVariablesWidget.prototype.m_onEdit=null;e.OuCalcPanelVariablesWidget.prototype.createListItemButtons=function(t){let i=e.OuCalcPanelCategorizedListWidget.prototype.createListItemButtons.call(this,t);let n=i.addNewItemOfType(e.UiType.BUTTON);n.setTooltip(e.XLocalizationCenter.getCenter().getText(e.XCommonI18n.DELETE));n.setIcon("delete");n.setButtonType(e.UiButtonType.TRANSPARENT);n.addCssClass("ffFeItemDelete");n.registerOnPress(e.UiLambdaPressListener.create(e=>{this.m_onDelete(t)}));let o=i.addNewItemOfType(e.UiType.BUTTON);o.setTooltip(e.XLocalizationCenter.getCenter().getText(e.XCommonI18n.EDIT));o.setIcon("edit");o.setButtonType(e.UiButtonType.TRANSPARENT);o.addCssClass("ffFeItemEdit");o.registerOnPress(e.UiLambdaPressListener.create(e=>{this.m_onEdit(t)}));return i};e.OuCalcPanelVariablesWidget.prototype.destroyWidget=function(){this.m_onEdit=null;this.m_onDelete=null;e.OuCalcPanelCategorizedListWidget.prototype.destroyWidget.call(this)};e.OuDataProviderActionListPlugin=function(){};e.OuDataProviderActionListPlugin.prototype=new e.DfOuDataProviderComponentPlugin;e.OuDataProviderActionListPlugin.prototype._ff_c="OuDataProviderActionListPlugin";e.OuDataProviderActionListPlugin.PLUGIN_NAME="DataProviderActionList";e.OuDataProviderActionListPlugin.prototype.m_view=null;e.OuDataProviderActionListPlugin.prototype.buildDataProviderPluginUi=function(t){this.m_view=e.OuDataProviderActionListView.createView();this.m_view.renderView(t);t.setRoot(this.m_view.getView())};e.OuDataProviderActionListPlugin.prototype.destroyPlugin=function(){this.m_view=e.XObjectExt.release(this.m_view);e.DfOuDataProviderComponentPlugin.prototype.destroyPlugin.call(this)};e.OuDataProviderActionListPlugin.prototype.getPluginCategory=function(){return e.HuPluginCategory.OLAP};e.OuDataProviderActionListPlugin.prototype.getPluginName=function(){return e.OuDataProviderActionListPlugin.PLUGIN_NAME};e.OuDataProviderActionListPlugin.prototype.onDataProviderModelChange=function(e,t){};e.OuDataProviderActionListPlugin.prototype.onDataProviderReady=function(e){this.m_view.setDataProvider(e)};e.OuDataProviderActionListPlugin.prototype.onDataProviderReleased=function(e){};e.OuDataProviderActionListPlugin.prototype.onDataProviderResultDataFetch=function(e,t){};e.OuDataProviderActionListPlugin.prototype.onDataProviderVizChange=function(e,t){};e.OuVisualizationCreator=function(){};e.OuVisualizationCreator.prototype=new e.DfUiProgram;e.OuVisualizationCreator.prototype._ff_c="OuVisualizationCreator";e.OuVisualizationCreator.BUTTON_CREATE="VisualizationCreator_CreateButton";e.OuVisualizationCreator.DEFAULT_PROGRAM_NAME="VisualizationCreator";e.OuVisualizationCreator.DROPDOWN_DATA_PROVIDER="VisualizationCreator_DPDropdown";e.OuVisualizationCreator.DROPDOWN_VIZ_TYPE="VisualizationCreator_VizTypeDropdown";e.OuVisualizationCreator.INPUT_VIZ_NAME="VisualizationCreator_VizNameInput";e.OuVisualizationCreator.PARAM_DATA_PROVIDER_NAME="dataProviderName";e.OuVisualizationCreator.PARAM_HIDE_DP="hideDataProvider";e.OuVisualizationCreator.createRunnerForContainerType=function(t,i){let n=e.ProgramRunner.createRunner(t,e.OuVisualizationCreator.DEFAULT_PROGRAM_NAME);n.setContainerType(i);return n};e.OuVisualizationCreator.prototype.m_addDPSharedStorageListenerId=null;e.OuVisualizationCreator.prototype.m_changeDPPoolListenerId=null;e.OuVisualizationCreator.prototype.m_createButton=null;e.OuVisualizationCreator.prototype.m_dataProviderName=null;e.OuVisualizationCreator.prototype.m_dpNameDropdown=null;e.OuVisualizationCreator.prototype.m_form=null;e.OuVisualizationCreator.prototype.m_hideDpDropdown=false;e.OuVisualizationCreator.prototype.m_mainLayout=null;e.OuVisualizationCreator.prototype.m_messagesLayout=null;e.OuVisualizationCreator.prototype.m_removeDPSharedStorageListenerId=null;e.OuVisualizationCreator.prototype.m_visualizationNameInput=null;e.OuVisualizationCreator.prototype.m_visualizationTypeDropdown=null;e.OuVisualizationCreator.prototype._buildLayoutUi=function(){this.m_form=e.UiForm.create(this.getGenesis());let t=(e,t)=>{this.m_createButton.setEnabled(this._isCreateAllowed())};this.m_dpNameDropdown=this.m_form.addDropdown(e.OuVisualizationCreator.DROPDOWN_DATA_PROVIDER,this.m_dataProviderName,"Choose Data Provider",null,true);this.m_dpNameDropdown.setRequired(true);if(this.m_hideDpDropdown){this.m_dpNameDropdown.setVisible(false)}this.m_dpNameDropdown.setValueChangedConsumer(t);this._updateDataProviderMap();this._subscribeToDataProviderChanges();this.m_visualizationNameInput=this.m_form.addInput(e.OuVisualizationCreator.INPUT_VIZ_NAME,null,"Visualization Name");this.m_visualizationNameInput.setRequired(true);this.m_visualizationNameInput.setValueChangedConsumer(t);this.m_visualizationTypeDropdown=this.m_form.addDropdown(e.OuVisualizationCreator.DROPDOWN_VIZ_TYPE,null,"Visualization Type",null,true);this.m_visualizationTypeDropdown.setRequired(true);this.m_visualizationTypeDropdown.setValueChangedConsumer(t);this._populateVisualizationTypes();this.m_createButton=this.m_form.addFormButton(e.OuVisualizationCreator.BUTTON_CREATE,"Create Visualization","Create",null,this._createVisualization.bind(this));this.m_createButton.setEnabled(this._isCreateAllowed());let i=this.m_form.getView();i.setPadding(e.UiCssBoxEdges.create("0.5rem"));this.m_mainLayout.addItem(i);this.m_messagesLayout=this.m_mainLayout.addNewItemOfType(e.UiType.FLEX_LAYOUT);this.m_messagesLayout.setDirection(e.UiFlexDirection.COLUMN).setPadding(e.UiCssBoxEdges.create("0.125rem 1rem")).setHeight(e.UiCssLength.create("5.5rem")).setOverflow(e.UiOverflow.AUTO)};e.OuVisualizationCreator.prototype._createVisualization=function(){this.m_messagesLayout.clearItems();let t=this.m_messagesLayout.addNewItemOfType(e.UiType.MESSAGE_STRIP);t.setText("Processing").setMessageType(e.UiMessageType.INFORMATION).setShowIcon(true).setShowCloseButton(false).setMargin(e.UiCssBoxEdges.create("0.25rem 0rem"));let i=this.m_form.getJsonModel().getStringByKey(e.OuVisualizationCreator.DROPDOWN_DATA_PROVIDER);let n=this.m_form.getJsonModel().getStringByKey(e.OuVisualizationCreator.INPUT_VIZ_NAME);let o=this.m_form.getJsonModel().getStringByKey(e.OuVisualizationCreator.DROPDOWN_VIZ_TYPE);if(this._isCreateAllowed()){let r=this._getDataProvider(i);if(e.notNull(r)){let i=e.VisualizationType.lookup(o);let a=i===e.VisualizationType.CHART?e.ChartType.BAR:null;let s=i.getDefaultProtocolBindingType();r.getActions().getVisualizationActions().getOrCreateVisualizationDefinition(n,i,s,a).onThen(i=>{t.setText("Visualization definition created successfully.").setMessageType(e.UiMessageType.SUCCESS)}).onCatch(i=>{t.setText(i.getText()).setMessageType(e.UiMessageType.ERROR)})}else{t.setText("Data provider not found.").setMessageType(e.UiMessageType.ERROR)}}};e.OuVisualizationCreator.prototype._getDataProvider=function(t){let i=null;let n=this.getProcess().getDataProviderPool();if(e.notNull(n)){i=n.getDataProviderByName(t)}if(e.isNull(i)){let n=this.getProcessSharedDataSpace(e.OuDataProviderCommandPlugin.DEFAULT_SHARED_SPACE_NAME).getXObjectByKey(e.OuDataProviderCommandPlugin.SPACE_STORAGE);if(e.notNull(n)){i=n.getActiveDataProviders().getByKey(t)}}return i};e.OuVisualizationCreator.prototype._isCreateAllowed=function(){let t=this.m_form.getJsonModel().getStringByKey(e.OuVisualizationCreator.DROPDOWN_DATA_PROVIDER);let i=this.m_form.getJsonModel().getStringByKey(e.OuVisualizationCreator.INPUT_VIZ_NAME);let n=this.m_form.getJsonModel().getStringByKey(e.OuVisualizationCreator.DROPDOWN_VIZ_TYPE);return e.XStringUtils.isNotNullAndNotEmpty(t)&&e.XStringUtils.isNotNullAndNotEmpty(i)&&e.XStringUtils.isNotNullAndNotEmpty(n)};e.OuVisualizationCreator.prototype._populateVisualizationTypes=function(){let t=e.XHashMapByString.create();t.put(e.VisualizationType.GRID.getName(),e.VisualizationType.GRID.getName());t.put(e.VisualizationType.CHART.getName(),e.VisualizationType.CHART.getName());this.m_visualizationTypeDropdown.setDropdownItems(t)};e.OuVisualizationCreator.prototype._setupSharedDataSpace=function(){let t=this.getProcess();let i=t.getSharedDataSpace(e.OuDataProviderCommandPlugin.DEFAULT_SHARED_SPACE_NAME);if(e.isNull(i)){i=t.createSharedDataSpace(e.OuDataProviderCommandPlugin.DEFAULT_SHARED_SPACE_NAME)}if(!i.containsKey(e.OuDataProviderCommandPlugin.SPACE_STORAGE)){let t=e.OuDataProviderCPStorage.createDpStorage();i.putXObject(e.OuDataProviderCommandPlugin.SPACE_STORAGE,t)}};e.OuVisualizationCreator.prototype._subscribeToDataProviderChanges=function(){let t=this.getProcessSharedDataSpace(e.OuDataProviderCommandPlugin.DEFAULT_SHARED_SPACE_NAME).getXObjectByKey(e.OuDataProviderCommandPlugin.SPACE_STORAGE);let i=e=>{this._updateDataProviderMap()};this.m_addDPSharedStorageListenerId=t.getDataProviderAddListeners().addConsumer(i);this.m_removeDPSharedStorageListenerId=t.getDataProviderRemoveListeners().addConsumer(i);let n=this.getProcess().getDataProviderPool();if(e.notNull(n)){this.m_changeDPPoolListenerId=n.addChangeConsumer(e=>{this._updateDataProviderMap()})}};e.OuVisualizationCreator.prototype._unsubscribeFromDataProviderChanges=function(){let t=this.getProcessSharedDataSpace(e.OuDataProviderCommandPlugin.DEFAULT_SHARED_SPACE_NAME).getXObjectByKey(e.OuDataProviderCommandPlugin.SPACE_STORAGE);if(e.notNull(this.m_addDPSharedStorageListenerId)){t.getDataProviderAddListeners().removeConsumerByUuid(this.m_addDPSharedStorageListenerId)}if(e.notNull(this.m_removeDPSharedStorageListenerId)){t.getDataProviderRemoveListeners().removeConsumerByUuid(this.m_removeDPSharedStorageListenerId)}let i=this.getProcess().getDataProviderPool();if(e.notNull(i)&&e.notNull(this.m_changeDPPoolListenerId)){i.removeChangeConsumerByUuid(this.m_changeDPPoolListenerId)}};e.OuVisualizationCreator.prototype._updateDataProviderMap=function(){let t=e.XList.create();let i=this.getProcess().getDataProviderPool();if(e.notNull(i)){t.addAll(i.getAllDataProviderNames())}let n=this.getProcessSharedDataSpace(e.OuDataProviderCommandPlugin.DEFAULT_SHARED_SPACE_NAME).getXObjectByKey(e.OuDataProviderCommandPlugin.SPACE_STORAGE);if(e.notNull(n)){e.XCollectionUtils.forEach(n.getActiveDataProviders().getKeysAsReadOnlyList(),e=>{if(!t.contains(e)){t.add(e)}})}let o=e.XHashMapByString.create();e.XCollectionUtils.forEach(t,e=>{o.put(e,e)});this.m_dpNameDropdown.setDropdownItems(o);this.m_dpNameDropdown.setEmptyItemText("")};e.OuVisualizationCreator.prototype.buildUi=function(t){this.setTitle("Create visualization");this.m_mainLayout=t.newControl(e.UiType.FLEX_LAYOUT).setDirection(e.UiFlexDirection.COLUMN).setPadding(e.UiCssBoxEdges.create("0.5rem 1rem"));this._buildLayoutUi();t.setRoot(this.m_mainLayout)};e.OuVisualizationCreator.prototype.getDefaultContainerSize=function(){if(this.m_hideDpDropdown){return e.UiSize.createByCss("30rem","15rem")}else{return e.UiSize.createByCss("30rem","21rem")}};e.OuVisualizationCreator.prototype.getProgramName=function(){return e.OuVisualizationCreator.DEFAULT_PROGRAM_NAME};e.OuVisualizationCreator.prototype.newProgram=function(){let t=new e.OuVisualizationCreator;t.setup();return t};e.OuVisualizationCreator.prototype.prepareProgramMetadata=function(e){};e.OuVisualizationCreator.prototype.processArguments=function(t){this.m_dataProviderName=t.getStringByKey(e.OuVisualizationCreator.PARAM_DATA_PROVIDER_NAME);this.m_hideDpDropdown=t.getBooleanByKey(e.OuVisualizationCreator.PARAM_HIDE_DP)};e.OuVisualizationCreator.prototype.processConfiguration=function(e){};e.OuVisualizationCreator.prototype.releaseObject=function(){this._unsubscribeFromDataProviderChanges();this.m_dataProviderName=null;this.m_dpNameDropdown=e.XObjectExt.release(this.m_dpNameDropdown);this.m_visualizationNameInput=e.XObjectExt.release(this.m_visualizationNameInput);this.m_visualizationTypeDropdown=e.XObjectExt.release(this.m_visualizationTypeDropdown);this.m_createButton=e.XObjectExt.release(this.m_createButton);this.m_form=e.XObjectExt.release(this.m_form);this.m_mainLayout=e.XObjectExt.release(this.m_mainLayout);this.m_messagesLayout=e.XObjectExt.release(this.m_messagesLayout);e.DfUiProgram.prototype.releaseObject.call(this)};e.OuVisualizationCreator.prototype.setupProgram=function(){this._setupSharedDataSpace();return null};e.OuDataProviderActionListProgram=function(){};e.OuDataProviderActionListProgram.prototype=new e.DfDataProviderUiProgram;e.OuDataProviderActionListProgram.prototype._ff_c="OuDataProviderActionListProgram";e.OuDataProviderActionListProgram.NAME="DataProviderActionList";e.OuDataProviderActionListProgram.prototype.m_view=null;e.OuDataProviderActionListProgram.prototype.buildUi=function(e){this.m_view.renderView(e);e.setRoot(this.m_view.getView())};e.OuDataProviderActionListProgram.prototype.getProgramName=function(){return e.OuDataProviderActionListProgram.NAME};e.OuDataProviderActionListProgram.prototype.newProgram=function(){let t=new e.OuDataProviderActionListProgram;t.m_view=e.OuDataProviderActionListView.createView();t.setup();return t};e.OuDataProviderActionListProgram.prototype.onDataProviderSet=function(e){this.m_view.setDataProvider(e)};e.OuDataProviderActionListProgram.prototype.releaseObject=function(){this.m_view=e.XObjectExt.release(this.m_view);e.DfDataProviderUiProgram.prototype.releaseObject.call(this)};e.OuDataProviderLogProgram=function(){};e.OuDataProviderLogProgram.prototype=new e.DfDataProviderUiProgram;e.OuDataProviderLogProgram.prototype._ff_c="OuDataProviderLogProgram";e.OuDataProviderLogProgram.NAME="DataProviderLog";e.OuDataProviderLogProgram.prototype.m_view=null;e.OuDataProviderLogProgram.prototype.buildUi=function(e){this.m_view.renderView(e);e.setRoot(this.m_view.getView())};e.OuDataProviderLogProgram.prototype.getProgramName=function(){return e.OuDataProviderLogProgram.NAME};e.OuDataProviderLogProgram.prototype.newProgram=function(){let t=new e.OuDataProviderLogProgram;t.m_view=e.OuDataProviderLogView.createView();t.setup();return t};e.OuDataProviderLogProgram.prototype.onDataProviderSet=function(e){this.m_view.setDataProvider(e)};e.OuDataProviderLogProgram.prototype.releaseObject=function(){this.m_view=e.XObjectExt.release(this.m_view);e.DfDataProviderUiProgram.prototype.releaseObject.call(this)};e.UiConvenienceCmdsMenu=function(){};e.UiConvenienceCmdsMenu.prototype=new e.UiComposite;e.UiConvenienceCmdsMenu.prototype._ff_c="UiConvenienceCmdsMenu";e.UiConvenienceCmdsMenu.create=function(){let t=new e.UiConvenienceCmdsMenu;t.setup();return t};e.UiConvenienceCmdsMenu.prototype.m_convenienceCommands=null;e.UiConvenienceCmdsMenu.prototype.m_mainMenu=null;e.UiConvenienceCmdsMenu.prototype.m_queryManager=null;e.UiConvenienceCmdsMenu.prototype.addAxesClearAxesMenu=function(e){let t=e.addNewItem().setName("clearAxisMenu").setText("Clear axis");t.addNewItem().setName("clearRowAxis").setText("Row").registerOnPress(this);t.addNewItem().setName("clearColumnAxis").setText("Column").registerOnPress(this);t.addNewItem().setName("clearFreeAxis").setText("Free").registerOnPress(this);t.addNewItem().setName("clearDynamicAxis").setText("Dynamic").registerOnPress(this);t.addNewItem().setName("clearFilterAxis").setText("Filter").registerOnPress(this);t.addNewItem().setName("clearRepositoryAxis").setText("Respository").registerOnPress(this);t.addNewItem().setName("clearVirtualAxis").setText("Virtual").registerOnPress(this)};e.UiConvenienceCmdsMenu.prototype.addAxesColumnsMenu=function(t,i){let n=t.getAxesManager().getColumnsAxis();if(e.notNull(n)){let e=i.addNewItem().setName("columnsMenuItem").setText("Columns").setCustomObject(n);if(n.supportsTotals()){let t=e.addNewItem().setTag("axesTotalsMenu").setText("Totals").setCustomObject(n);t.addNewItem().setTag("axesTotalsShow").setText("show").registerOnPress(this);t.addNewItem().setTag("axesTotalsHide").setText("hide").registerOnPress(this)}else{e.setEnabled(false)}}};e.UiConvenienceCmdsMenu.prototype.addAxesRowsMenu=function(t,i){let n=t.getAxesManager().getRowsAxis();if(e.notNull(n)){let e=i.addNewItem().setName("rowsMenuItem").setText("Rows").setCustomObject(n);if(n.supportsTotals()){let t=e.addNewItem().setTag("axesTotalsMenu").setText("Totals").setCustomObject(n);t.addNewItem().setTag("axesTotalsShow").setText("show").registerOnPress(this);t.addNewItem().setTag("axesTotalsHide").setText("hide").registerOnPress(this)}else{e.setEnabled(false)}}};e.UiConvenienceCmdsMenu.prototype.addDimAttributesMenu=function(t,i){let n=i.addNewItem().setName("attrMenu").setText("Attributes");let o=t.getAttributes();if(o.hasElements()){let t=o.getIterator();while(t.hasNext()){let i=t.next();let o=i.getText();let r=i.getName();if(e.XStringUtils.isNullOrEmpty(o)){o=r}let a=n.addNewItem().setName(r).setTag("attributeItem").setText(o).setCustomObject(i);a.addNewItem().setTag("attrShow").setText("show").setCustomObject(i).registerOnPress(this);a.addNewItem().setTag("attrHide").setText("hide").setCustomObject(i).registerOnPress(this)}}n.setEnabled(n.hasItems()?true:false)};e.UiConvenienceCmdsMenu.prototype.addDimHierarchyMenu=function(t,i){let n=i.addNewItem().setName("hierarchyMenu").setText("Hierarchy").setCustomObject(t);let o=t.getHierarchies();if(t.supportsHierarchy()&&e.notNull(o)){let e=o.getObjects().getIterator();while(e.hasNext()){let t=e.next();let i=n.addNewItem().setTag("hierarchyItem").setText(t.getHierarchyName()).setCustomObject(t);i.addNewItem().setTag("activateHierarchy").setText("activate").registerOnPress(this);i.addNewItem().setTag("deactivateHierarchy").setText("deactivate").registerOnPress(this)}}n.setEnabled(n.hasItems()?true:false)};e.UiConvenienceCmdsMenu.prototype.addDimSortingMenu=function(t,i){let n=i.addNewItem().setName("sortMenu").setText("Sort").setCustomObject(t);this.addSortSubmenuWithSortType(t,n,e.SortType.MEMBER_TEXT,"By text");this.addSortSubmenuWithSortType(t,n,e.SortType.MEMBER_KEY,"By key");this.addSortSubmenuWithSortType(t,n,e.SortType.HIERARCHY,"By hierarchy")};e.UiConvenienceCmdsMenu.prototype.addDimTotalsMenu=function(e,t){let i=t.addNewItem().setName("dimTotalsMenu").setText("Totals").setCustomObject(e);if(e.supportsTotals()){i.addNewItem().setTag("dimTotalsShow").setText("show").registerOnPress(this);i.addNewItem().setTag("dimTotalsHide").setText("hide").registerOnPress(this)}else{i.setEnabled(false)}};e.UiConvenienceCmdsMenu.prototype.addMoveDimensionToAxisMenu=function(t,i){let n=i.addNewItem().setName("dimMoveToAxisMenu").setText("Move to axis").setCustomObject(t);if(t.supportsAxis(e.AxisType.ROWS)){n.addNewItem().setTag("moveToAxisRows").setText("Rows").registerOnPress(this)}if(t.supportsAxis(e.AxisType.COLUMNS)){n.addNewItem().setTag("moveToAxisColumns").setText("Columns").registerOnPress(this)}if(t.supportsAxis(e.AxisType.FREE)){n.addNewItem().setTag("moveToAxisFree").setText("Free").registerOnPress(this)}if(t.supportsAxis(e.AxisType.DYNAMIC)){n.addNewItem().setTag("moveToAxisDynamic").setText("Dynamic").registerOnPress(this)}if(t.supportsAxis(e.AxisType.FILTER)){n.addNewItem().setTag("moveToAxisFilter").setText("Filter").registerOnPress(this)}if(t.supportsAxis(e.AxisType.REPOSITORY)){n.addNewItem().setTag("moveToAxisRepository").setText("Repository").registerOnPress(this)}if(t.supportsAxis(e.AxisType.VIRTUAL)){n.addNewItem().setTag("moveToAxisVirtual").setText("Virtual").registerOnPress(this)}n.setEnabled(n.hasItems()?true:false)};e.UiConvenienceCmdsMenu.prototype.addSortSubmenuWithSortType=function(e,t,i,n){let o=t.addNewItem().setTag("sortBySubMenu").setText(n).setCustomObject(e);if(e.supportsSorting(i)){o.addNewItem().setTag("sortAsc").setText("Ascending").registerOnPress(this).setCustomObject(i);o.addNewItem().setTag("sortDesc").setText("Descending").registerOnPress(this).setCustomObject(i)}else{o.setEnabled(false)}};e.UiConvenienceCmdsMenu.prototype.initializeComposite=function(){this.m_mainMenu=this.newControl(e.UiType.MENU);this.setBaseControl(this.m_mainMenu)};e.UiConvenienceCmdsMenu.prototype.onPress=function(t){let i=t.getControl().getParent();if(e.notNull(i)&&(i.getUiType()===e.UiType.MENU||i.getUiType()===e.UiType.MENU_ITEM)&&e.notNull(this.m_convenienceCommands)){this.getUiManager().getSession().notifyInterruptStepStart();let n;let o;if(e.XString.isEqual(i.getTag(),"attributeItem")){let e=i.getCustomObject();let n=e.getName();o=e.getDimension().getName();switch(t.getControl().getTag()){case"attrShow":this.m_convenienceCommands.addAttributeToResultSet(o,n);break;case"attrHide":this.m_convenienceCommands.removeAttributeFromResultSet(o,n);break;default:}}else if(e.XString.isEqual(i.getTag(),"hierarchyItem")){n=i.getParent().getCustomObject();let e=i.getCustomObject();o=n.getName();let r=e.getHierarchyName();switch(t.getControl().getTag()){case"activateHierarchy":this.m_convenienceCommands.setDimensionHierarchy(o,r,true,0);break;case"deactivateHierarchy":this.m_convenienceCommands.setDimensionHierarchy(o,r,false,0);break;default:}}else if(e.XString.isEqual(i.getName(),"dimTotalsMenu")){n=i.getCustomObject();o=n.getName();switch(t.getControl().getTag()){case"dimTotalsShow":this.m_convenienceCommands.setTotalsVisibleOnDimension(o,e.ResultVisibility.ALWAYS);break;case"dimTotalsHide":this.m_convenienceCommands.setTotalsVisibleOnDimension(o,e.ResultVisibility.HIDDEN);break;default:}}else if(e.XString.isEqual(i.getTag(),"sortBySubMenu")){n=i.getCustomObject();let r=t.getControl().getCustomObject();o=n.getName();switch(t.getControl().getTag()){case"sortAsc":this.m_convenienceCommands.sort(r,null,o,null,null,null,e.XSortDirection.ASCENDING);break;case"sortDesc":this.m_convenienceCommands.sort(r,null,o,null,null,null,e.XSortDirection.DESCENDING);break;default:}}else if(e.XString.isEqual(i.getName(),"dimMoveToAxisMenu")){n=i.getCustomObject();o=n.getName();switch(t.getControl().getTag()){case"moveToAxisRows":this.m_convenienceCommands.moveDimensionToAxis(o,e.AxisType.ROWS);break;case"moveToAxisColumns":this.m_convenienceCommands.moveDimensionToAxis(o,e.AxisType.COLUMNS);break;case"moveToAxisFree":this.m_convenienceCommands.moveDimensionToAxis(o,e.AxisType.FREE);break;case"moveToAxisDynamic":this.m_convenienceCommands.moveDimensionToAxis(o,e.AxisType.DYNAMIC);break;case"moveToAxisFilter":this.m_convenienceCommands.moveDimensionToAxis(o,e.AxisType.FILTER);break;case"moveToAxisRepository":this.m_convenienceCommands.moveDimensionToAxis(o,e.AxisType.REPOSITORY);break;case"moveToAxisVirtual":this.m_convenienceCommands.moveDimensionToAxis(o,e.AxisType.VIRTUAL);break;default:}}else if(e.XString.isEqual(i.getTag(),"axesTotalsMenu")){let n=i.getCustomObject();switch(t.getControl().getTag()){case"axesTotalsShow":this.m_convenienceCommands.setTotalsVisibleOnAxis(n.getType(),e.ResultVisibility.ALWAYS);break;case"axesTotalsHide":this.m_convenienceCommands.setTotalsVisibleOnAxis(n.getType(),e.ResultVisibility.HIDDEN);break;default:}}else if(e.XString.isEqual(i.getName(),"clearAxisMenu")){switch(t.getControl().getName()){case"clearRowAxis":this.m_convenienceCommands.clearAxis(e.AxisType.ROWS);break;case"clearColumnAxis":this.m_convenienceCommands.clearAxis(e.AxisType.COLUMNS);break;case"clearFreeAxis":this.m_convenienceCommands.clearAxis(e.AxisType.FREE);break;case"clearDynamicAxis":this.m_convenienceCommands.clearAxis(e.AxisType.DYNAMIC);break;case"clearFilterAxis":this.m_convenienceCommands.clearAxis(e.AxisType.FILTER);break;case"clearRepositoryAxis":this.m_convenienceCommands.clearAxis(e.AxisType.REPOSITORY);break;case"clearVirtualAxis":this.m_convenienceCommands.clearAxis(e.AxisType.VIRTUAL);break;default:}}else if(e.XString.isEqual(i.getName(),"axesMenu")){switch(t.getControl().getName()){case"switchAxesMenuItem":this.m_convenienceCommands.switchAxes();break;default:}}else if(e.XString.isEqual(t.getControl().getName(),"reset")){this.m_convenienceCommands.reset()}else if(e.XString.isEqual(t.getControl().getName(),"resetToDefault")){this.m_convenienceCommands.resetToDefault()}this.getUiManager().getSession().notifyInterruptStepEnd()}};e.UiConvenienceCmdsMenu.prototype.openAt=function(t){e.UiComposite.prototype.openAt.call(this,t);this.prepareMenu();if(this.m_mainMenu.hasItems()){this.m_mainMenu.openAt(t)}return this};e.UiConvenienceCmdsMenu.prototype.prepareMenu=function(){if(this.m_mainMenu.hasItems()){return}if(e.isNull(this.m_queryManager)){this.retrieveQueryManager()}if(e.notNull(this.m_queryManager)){let t=this.m_queryManager.getDimensionAccessor().getDimensions();let i=t.getIterator();let n=this.m_mainMenu.addNewItem().setName("dimMenu").setText("Dimensions");while(i.hasNext()){let t=i.next();if(t.isUniversalDisplayHierarchyDimension()){continue}let o=t.getText();let r=t.getName();if(e.XStringUtils.isNullOrEmpty(o)){o=r}let a=n.addNewItem().setName(r).setText(o).setCustomObject(t);this.addDimHierarchyMenu(t,a);this.addDimAttributesMenu(t,a);this.addDimTotalsMenu(t,a);this.addDimSortingMenu(t,a);this.addMoveDimensionToAxisMenu(t,a)}let o=this.m_queryManager.getQueryModel();if(e.notNull(o)){let e=this.m_mainMenu.addNewItem().setName("axesMenu").setText("Axes");this.addAxesRowsMenu(o,e);this.addAxesColumnsMenu(o,e);e.addNewItem().setName("switchAxesMenuItem").setText("Switch axes").registerOnPress(this);this.addAxesClearAxesMenu(e)}this.m_mainMenu.addNewItem().setName("reset").setText("Reset").registerOnPress(this);this.m_mainMenu.addNewItem().setName("resetToDefault").setText("Reset to default").registerOnPress(this)}else{let t=this.newControl(e.UiType.TOAST);t.setText("No data provider specified!");t.setMessageType(e.UiMessageType.ERROR);t.open()}};e.UiConvenienceCmdsMenu.prototype.releaseObject=function(){this.m_mainMenu=e.XObjectExt.release(this.m_mainMenu);this.m_convenienceCommands=null;this.m_queryManager=null;e.UiComposite.prototype.releaseObject.call(this)};e.UiConvenienceCmdsMenu.prototype.retrieveQueryManager=function(){let t=this.getCustomParameters().asStructure().getStringByKeyExt("dp","");if(e.XStringUtils.isNotNullAndNotEmpty(t)){let i=e.XStringUtils.concatenate2("dp:",t);let n=this.getUiManager().getSession();let o=n.getSelector().selectComponentByExpr(i,e.SigSelDomain.DATA,this,1,false);if(e.notNull(o)){this.m_queryManager=o.getQueryManager();this.m_convenienceCommands=this.m_queryManager.getConvenienceCommands()}}};e.UiConvenienceCmdsMenu.prototype.setCustomParameters=function(t){e.UiComposite.prototype.setCustomParameters.call(this,t);this.retrieveQueryManager();return this};e.UiConvenienceCmdsMenu.prototype.setup=function(){e.UiComposite.prototype.setup.call(this)};e.UiRedoButton=function(){};e.UiRedoButton.prototype=new e.UiComposite;e.UiRedoButton.prototype._ff_c="UiRedoButton";e.UiRedoButton.create=function(){let t=new e.UiRedoButton;t.setup();return t};e.UiRedoButton.prototype.m_application=null;e.UiRedoButton.prototype.m_redoButton=null;e.UiRedoButton.prototype.getButtonText=function(){if(e.notNull(this.m_application)){let t=this.m_application.getUndoManager().getAvailableRedoStepCount();if(t>0){let i=e.XInteger.convertToString(t);return e.XStringUtils.concatenate3("Redo (",i,")")}}return"Redo"};e.UiRedoButton.prototype.initializeComposite=function(){this.m_application=this.getUiManager().getProcess().getApplication();if(e.notNull(this.m_application)){this.m_application.getUndoManager().registerUndoManagerListener(this)}this.m_redoButton=this.newControl(e.UiType.BUTTON);this.m_redoButton.setText("Redo");this.m_redoButton.registerOnPress(this);this.m_redoButton.setEnabled(false);this.setBaseControl(this.m_redoButton)};e.UiRedoButton.prototype.onPress=function(t){let i=this.newControl(e.UiType.TOAST);if(e.notNull(this.m_application)){this.m_application.getUndoManager().processRedo(null,null,null);i.setText("Redo!")}else{i.setText("Application not found! Redo not possible!");i.setMessageType(e.UiMessageType.ERROR)}i.open()};e.UiRedoButton.prototype.releaseObject=function(){this.m_redoButton=e.XObjectExt.release(this.m_redoButton);this.m_application=null;e.UiComposite.prototype.releaseObject.call(this)};e.UiRedoButton.prototype.setMargin=function(t){e.UiComposite.prototype.setMargin.call(this,t);this.m_redoButton.setMargin(t);return this};e.UiRedoButton.prototype.setup=function(){e.UiComposite.prototype.setup.call(this)};e.UiRedoButton.prototype.undoManagerStateChanged=function(){if(e.notNull(this.m_application)&&e.notNull(this.m_redoButton)){this.m_redoButton.setEnabled(this.m_application.getUndoManager().getAvailableRedoStepCount()>0);this.m_redoButton.setText(this.getButtonText())}};e.UiUndoButton=function(){};e.UiUndoButton.prototype=new e.UiComposite;e.UiUndoButton.prototype._ff_c="UiUndoButton";e.UiUndoButton.create=function(){let t=new e.UiUndoButton;t.setup();return t};e.UiUndoButton.prototype.m_application=null;e.UiUndoButton.prototype.m_undoButton=null;e.UiUndoButton.prototype.getButtonText=function(){if(e.notNull(this.m_application)){let t=this.m_application.getUndoManager().getAvailableUndoStepCount();if(t>0){let i=e.XInteger.convertToString(t);return e.XStringUtils.concatenate3("Undo (",i,")")}}return"Undo"};e.UiUndoButton.prototype.initializeComposite=function(){this.m_application=this.getUiManager().getProcess().getApplication();if(e.notNull(this.m_application)){this.m_application.getUndoManager().registerUndoManagerListener(this)}this.m_undoButton=this.newControl(e.UiType.BUTTON);this.m_undoButton.setText(this.getButtonText());this.m_undoButton.registerOnPress(this);this.m_undoButton.setEnabled(false);this.setBaseControl(this.m_undoButton)};e.UiUndoButton.prototype.onPress=function(t){let i=this.newControl(e.UiType.TOAST);if(e.notNull(this.m_application)){this.m_application.getUndoManager().processUndo(null,null,null);i.setText("Undo!")}else{i.setText("Application not found! Undo not possible!");i.setMessageType(e.UiMessageType.ERROR)}i.open()};e.UiUndoButton.prototype.releaseObject=function(){this.m_undoButton=e.XObjectExt.release(this.m_undoButton);this.m_application=null;e.UiComposite.prototype.releaseObject.call(this)};e.UiUndoButton.prototype.setMargin=function(t){e.UiComposite.prototype.setMargin.call(this,t);this.m_undoButton.setMargin(t);return this};e.UiUndoButton.prototype.setup=function(){e.UiComposite.prototype.setup.call(this)};e.UiUndoButton.prototype.undoManagerStateChanged=function(){if(e.notNull(this.m_application)&&e.notNull(this.m_undoButton)){this.m_undoButton.setEnabled(this.m_application.getUndoManager().getAvailableUndoStepCount()>0);this.m_undoButton.setText(this.getButtonText())}};e.OlapUiModule=function(){};e.OlapUiModule.prototype=new e.DfModule;e.OlapUiModule.prototype._ff_c="OlapUiModule";e.OlapUiModule.s_module=null;e.OlapUiModule.getInstance=function(){if(e.isNull(e.OlapUiModule.s_module)){e.DfModule.checkInitialized(e.OlapUiApiModule.getInstance());e.DfModule.checkInitialized(e.ResourceExplorerModule.getInstance());e.OlapUiModule.s_module=e.DfModule.startExt(new e.OlapUiModule);e.DialogDisplayMode.staticSetup();e.DialogLabelMode.staticSetup();e.DialogGridFormat.staticSetup();e.DialogGridParser.staticSetup();e.OlapUiReadMode.staticSetup();e.FilterDialogViewType.staticSetup();e.FilterDialogTextUsageType.staticSetup();e.FilterDialogUsageTrackingConsumer.staticSetup();e.VdOrcaScenario.staticSetup();e.VdOrcaLevel.staticSetup();e.OrcaLinkVarJoinMode.staticSetup();e.OrcaLinkVarSubmitHandling.staticSetup();e.QueryPresentationUtils.staticSetup();e.OuInventoryViewGroupPresentation.staticSetup();e.OuCalcUiComponent.staticSetup();e.OuAxesViewDisplayType.staticSetup();e.UiType.UNDO_BUTTON.setFactory(new e.UiUndoButtonFactory);e.UiType.REDO_BUTTON.setFactory(new e.UiRedoButtonFactory);e.UiType.CONVENIENCE_CMDS_MENU.setFactory(new e.UiConvenienceCmdsMenuFactory);e.ProgramRegistry.setProgramFactory(new e.OuVisualizationCreator);e.ProgramRegistry.setProgramFactory(new e.OuDataProviderActionListProgram);e.ProgramRegistry.setProgramFactory(new e.OuDataProviderLogProgram);e.HuPluginRegistry.registerPluginByClass(e.XClass.create(e.OuDataProviderActionListPlugin));e.HuPluginRegistry.registerPluginByClass(e.XClass.create(e.OuDataSourceListPlugin));e.OlapUiCommonI18n.staticSetup();e.DataExportHelperI18n.staticSetup();e.OuAxesViewI18n.staticSetup();e.OuInventoryViewI18n.staticSetup();e.OuCalcDetailsAreaViewI18n.staticSetup();e.OuCalcFormulaEditorI18n.staticSetup();e.OuNumberFormattingI18n.staticSetup();e.OuDisplayFormattingI18n.staticSetup();e.OuFormulaValidationI18n.staticSetup();e.AuKpiI18n.staticSetup();e.DfModule.stopExt(e.OlapUiModule.s_module)}return e.OlapUiModule.s_module};e.OlapUiModule.prototype.getName=function(){return"ff8010.olap.ui"};e.OlapUiModule.getInstance();return e});
//# sourceMappingURL=ff8010.olap.ui.js.map