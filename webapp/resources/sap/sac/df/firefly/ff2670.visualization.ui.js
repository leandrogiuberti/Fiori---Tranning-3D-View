/*!
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.define(["sap/sac/df/firefly/ff2650.visualization.impl","sap/sac/df/firefly/ff2200.ui"],function(t){"use strict";t.FF2670_VISUALIZATION_UI_RESOURCES=function(){};t.FF2670_VISUALIZATION_UI_RESOURCES.prototype={};t.FF2670_VISUALIZATION_UI_RESOURCES.prototype._ff_c="FF2670_VISUALIZATION_UI_RESOURCES";t.FF2670_VISUALIZATION_UI_RESOURCES.PATH_default_template_json="default_template.json";t.FF2670_VISUALIZATION_UI_RESOURCES.default_template_json="ewogICJkYXRhIjogewogICAgIm1ldGFkYXRhIjogewogICAgICAiaXNVUU0iOiB0cnVlLAogICAgICAiaXNDR1JTdXBwb3J0ZWQiOiBmYWxzZSwKICAgICAgInN1cHBvcnRzSGllcmFyY2h5TGV2ZWxzIjogdHJ1ZQogICAgfQogIH0sCiAgInBheWxvYWQiOiB7CiAgICAicHJvcGVydGllcyI6IHsKICAgICAgImNhdGVnb3J5QXhpcyI6IHt9LAogICAgICAicGxvdEFyZWEiOiB7fSwKICAgICAgInZhbHVlQXhpcyI6IHsKICAgICAgICAiYXhpc0xpbmUiOiB7CiAgICAgICAgICAidmlzaWJsZSI6IGZhbHNlCiAgICAgICAgfSwKICAgICAgICAiYXhpc1RpY2siOiB7CiAgICAgICAgICAidmlzaWJsZSI6IGZhbHNlCiAgICAgICAgfSwKICAgICAgICAidGl0bGUiOiB7CiAgICAgICAgICAidmlzaWJsZSI6IHRydWUKICAgICAgICB9CiAgICAgIH0sCiAgICAgICJ2YWx1ZUF4aXMyIjogewogICAgICAgICJheGlzTGluZSI6IHsKICAgICAgICAgICJ2aXNpYmxlIjogZmFsc2UKICAgICAgICB9LAogICAgICAgICJheGlzVGljayI6IHsKICAgICAgICAgICJ2aXNpYmxlIjogZmFsc2UKICAgICAgICB9LAogICAgICAgICJ0aXRsZSI6IHsKICAgICAgICAgICJ2aXNpYmxlIjogdHJ1ZQogICAgICAgIH0KICAgICAgfSwKICAgICAgImdlbmVyYWwiOiB7fSwKICAgICAgImludGVyYWN0aW9uIjogewogICAgICAgICJkZWNvcmF0aW9ucyI6IFsKICAgICAgICAgIHsKICAgICAgICAgICAgIm5hbWUiOiAic2hvd0RldGFpbCIsCiAgICAgICAgICAgICJ0YXJnZXQiOiBbCiAgICAgICAgICAgICAgImRhdGFQb2ludCIsCiAgICAgICAgICAgICAgInJlZmxpbmUiLAogICAgICAgICAgICAgICJub2RlSGVhZGVyIiwKICAgICAgICAgICAgICAibGVnZW5kIiwKICAgICAgICAgICAgICAiYXhpc0xpbmVCcmVhayIsCiAgICAgICAgICAgICAgImNnckxpbmUiLAogICAgICAgICAgICAgICJheGVzIgogICAgICAgICAgICBdCiAgICAgICAgICB9LAogICAgICAgICAgewogICAgICAgICAgICAibmFtZSI6ICJoaWRlRGV0YWlsIiwKICAgICAgICAgICAgInRhcmdldCI6IFsKICAgICAgICAgICAgICAiZGF0YVBvaW50IiwKICAgICAgICAgICAgICAicmVmbGluZSIsCiAgICAgICAgICAgICAgIm5vZGVIZWFkZXIiLAogICAgICAgICAgICAgICJsZWdlbmQiLAogICAgICAgICAgICAgICJheGlzTGluZUJyZWFrIiwKICAgICAgICAgICAgICAiY2dyTGluZSIsCiAgICAgICAgICAgICAgImF4ZXMiCiAgICAgICAgICAgIF0KICAgICAgICAgIH0KICAgICAgICBdCiAgICAgIH0KICAgIH0sCiAgICAiY29sb3JhdGlvbiI6IHsKICAgICAgInNlbGVjdHMiOiBbXSwKICAgICAgIm1lYXN1cmVzIjoge30KICAgIH0sCiAgICAidXNlclByZWZlcmVuY2VzIjogewogICAgICAidmFyaWFuY2VUb2tlbiI6IHsKICAgICAgICAidmlzaWJsZSI6IHRydWUKICAgICAgfSwKICAgICAgImNoYXJ0RGV0YWlsIjogewogICAgICAgICJkYXRhc2V0IjogewogICAgICAgICAgInZpc2libGUiOiBmYWxzZQogICAgICAgIH0sCiAgICAgICAgImV4cGxvcmF0aW9uVmlld3MiOiB7CiAgICAgICAgICAidmlzaWJsZSI6IHRydWUKICAgICAgICB9CiAgICAgIH0sCiAgICAgICJtZWFzdXJlIjogewogICAgICAgICJjb2xvckJ5UHJpbWFyeU1lYXN1cmUiOiBmYWxzZQogICAgICB9LAogICAgICAicXVpY2tBY3Rpb25zVmlzaWJpbGl0eSI6IHsKICAgICAgICAidmlzaWJsZSI6IHRydWUsCiAgICAgICAgInNldHRpbmdzU2VxIjogWwogICAgICAgICAgImNoYXJ0RGV0YWlsIiwKICAgICAgICAgICJzZWxlY3RDb252ZXJzaW9ucyIsCiAgICAgICAgICAic29ydGluZyIsCiAgICAgICAgICAicmFua2luZyIsCiAgICAgICAgICAiY29tcGFyZVRvIiwKICAgICAgICAgICJpbnRlcmFjdGlvblZhcmlhYmxlcyIsCiAgICAgICAgICAiQ0dSIiwKICAgICAgICAgICJjb21tZW50aW5nIiwKICAgICAgICAgICJ0aXRsZUV4cGFuZENvbGxhcHNlIiwKICAgICAgICAgICJmdWxsc2NyZWVuIiwKICAgICAgICAgICJjb3B5V2lkZ2V0SWQiLAogICAgICAgICAgImV4cG9ydFRvQ3N2IiwKICAgICAgICAgICJmaWx0ZXJpbmciLAogICAgICAgICAgImRyaWxsIiwKICAgICAgICAgICJleHBhbmQiLAogICAgICAgICAgInpvb20iLAogICAgICAgICAgImF4aXNCcmVhayIsCiAgICAgICAgICAib3Blbkh5cGVybGluayIsCiAgICAgICAgICAiYWRkVG9XYXRjaGxpc3QiLAogICAgICAgICAgImluc2lnaHRDYXJkU3Vic2NyaXB0aW9uIgogICAgICAgIF0sCiAgICAgICAgImNoYXJ0RGV0YWlsIjogdHJ1ZSwKICAgICAgICAic2VsZWN0Q29udmVyc2lvbnMiOiB0cnVlLAogICAgICAgICJzb3J0aW5nIjogdHJ1ZSwKICAgICAgICAicmFua2luZyI6IHRydWUsCiAgICAgICAgImNvbXBhcmVUbyI6IHRydWUsCiAgICAgICAgImludGVyYWN0aW9uVmFyaWFibGVzIjogdHJ1ZSwKICAgICAgICAiQ0dSIjogdHJ1ZSwKICAgICAgICAiY29tbWVudGluZyI6IHRydWUsCiAgICAgICAgInRpdGxlRXhwYW5kQ29sbGFwc2UiOiB0cnVlLAogICAgICAgICJmdWxsc2NyZWVuIjogdHJ1ZSwKICAgICAgICAiY29weVdpZGdldElkIjogZmFsc2UsCiAgICAgICAgImV4cG9ydFRvQ3N2IjogdHJ1ZSwKICAgICAgICAiZmlsdGVyaW5nIjogdHJ1ZSwKICAgICAgICAiZHJpbGwiOiB0cnVlLAogICAgICAgICJleHBhbmQiOiB0cnVlLAogICAgICAgICJ6b29tIjogdHJ1ZSwKICAgICAgICAiYXhpc0JyZWFrIjogdHJ1ZSwKICAgICAgICAib3Blbkh5cGVybGluayI6IHRydWUsCiAgICAgICAgImFkZFRvV2F0Y2hsaXN0IjogdHJ1ZSwKICAgICAgICAiaW5zaWdodENhcmRTdWJzY3JpcHRpb24iOiBmYWxzZQogICAgICB9LAogICAgICAiZ2VuZXJhbCI6IHsKICAgICAgICAibGFiZWwiOiB7CiAgICAgICAgICAiZGlzYWJsZURpYWdvbmFsIjogZmFsc2UKICAgICAgICB9LAogICAgICAgICJjdXJyZW5jeVNldHRpbmdzIjogewogICAgICAgICAgImN1cnJlbmN5IjogImRlZmF1bHQiCiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgInNjYWxlcyI6IFtdLAogICAgImNvbG9yU2NoZW1lIjoge30sCiAgICAiaXNBdXRvU29ydERlc2NlbmRpbmdPblRpbWVBcHBsaWVkIjogZmFsc2UsCiAgICAiaGlkZVRocmVzaG9sZCI6IGZhbHNlLAogICAgImN1c3RvbUNoYXJ0QXJlYU9wdGlvbnMiOiB7CiAgICAgICJlcnJvclNlY3Rpb24iOiB7CiAgICAgICAgIm9ubHlTaG93TWVzc2FnZSI6IGZhbHNlCiAgICAgIH0sCiAgICAgICJoZWFkZXIiOiB7CiAgICAgICAgImljb25zIjogewogICAgICAgICAgImhpZGRlbiI6IGZhbHNlCiAgICAgICAgfQogICAgICB9LAogICAgICAic2hvdWxkUmVnaXN0ZXJIb3ZlckV2ZW50IjogdHJ1ZQogICAgfSwKICAgICJzaG91bGRSZW5kZXJWYXJpYW5jZSI6IGZhbHNlLAogICAgInNob3VsZFJlcmVuZGVyTWV0cmljIjogZmFsc2UsCiAgICAiaXNWaXNpYmxlIjogdHJ1ZSwKICAgICJyYW5rcyI6IFtdLAogICAgInNvcnRzIjogW10sCiAgICAiaGllcmFyY2h5TGV2ZWxzIjogW10sCiAgICAicmVmZXJlbmNlTGluZXMiOiBbXSwKICAgICJldmVudENhbGxiYWNrcyI6IHt9LAogICAgImlzVVFNIjogdHJ1ZSwKICAgICJzaG93Qm90dG9tUmlnaHRDb250ZXh0TWVudUJhciI6IGZhbHNlLAogICAgInNob3VsZFJlZ2lzdGVySG92ZXJFdmVudCI6IHRydWUKICB9Cn0=";t.XResources.registerResourceClass("ff2670.visualization.ui",t.FF2670_VISUALIZATION_UI_RESOURCES);t.GenericTableRenderer=function(){};t.GenericTableRenderer.prototype=new t.XObject;t.GenericTableRenderer.prototype._ff_c="GenericTableRenderer";t.GenericTableRenderer.create=function(e){let a=new t.GenericTableRenderer;a.m_table=e;a.m_tableWidgetRenderHelper=t.SacTableWidgetRenderHelper.createTableRenderHelper(e);return a};t.GenericTableRenderer.prototype.m_rowList=null;t.GenericTableRenderer.prototype.m_table=null;t.GenericTableRenderer.prototype.m_tableJson=null;t.GenericTableRenderer.prototype.m_tableWidgetRenderHelper=null;t.GenericTableRenderer.prototype.fillRows=function(){this.m_tableWidgetRenderHelper.fillRowsFromList(this.m_table.getHeaderRowList(),this.m_rowList,0,this.m_table.isFreezeHeaderRows(),this.m_table.getFreezeUpToRow());this.m_tableWidgetRenderHelper.fillRowsFromList(this.m_table.getRowList(),this.m_rowList,this.m_table.getHeaderRowList().size(),false,this.m_table.getFreezeUpToRow())};t.GenericTableRenderer.prototype.getTableJson=function(){return this.m_tableJson};t.GenericTableRenderer.prototype.postRender=function(){return this.m_tableWidgetRenderHelper.renderGenericSettings(this.m_tableJson)};t.GenericTableRenderer.prototype.prepareJsonStructure=function(){this.m_tableJson=t.PrFactory.createStructure();this.m_rowList=this.m_tableJson.putNewList(t.SacTableConstants.TD_L_ROWS)};t.GenericTableRenderer.prototype.releaseObject=function(){this.m_table=null;t.XObject.prototype.releaseObject.call(this)};t.GenericTableRenderer.prototype.render=function(){this.prepareJsonStructure();this.m_table.formatHeaderColumnWidths();this.m_table.formatDataColumnWidths();this.fillRows();this.postRender();return this.m_tableJson};t.GenericTableRenderer.prototype.setGridConfigration=function(e){if(t.notNull(e)){this.m_table.setStripeDataColumns(e.getBooleanByKey(t.SacTableConstants.B_STRIPE_DATA_COLUMNS));this.m_table.setStripeDataRows(e.getBooleanByKey(t.SacTableConstants.B_STRIPE_DATA_ROWS));this.m_table.setFreezeHeaderRows(e.getBooleanByKey(t.SacTableConstants.B_FREEZE_ROWS));this.m_table.setFreezeHeaderColumns(e.getBooleanByKey(t.SacTableConstants.B_FREEZE_COLUMNS));this.m_table.setShowFreezeLines(e.getBooleanByKey(t.SacTableConstants.B_SHOW_FREEZE_LINES));this.m_table.setShowGrid(e.getBooleanByKeyExt(t.SacTableConstants.B_SHOW_GRID,true));this.m_table.setShowTableTitle(e.getBooleanByKeyExt(t.SacTableConstants.B_SHOW_TABLE_TITLE,true));this.m_table.setShowTableDetails(e.getBooleanByKeyExt(t.SacTableConstants.B_SHOW_TABLE_DETAILS,false));this.m_table.setShowSubTitle(e.getBooleanByKeyExt(t.SacTableConstants.B_SHOW_SUBTITLE,false));this.m_table.setShowCoordinateHeader(e.getBooleanByKeyExt(t.SacTableConstants.B_COORDINATE_HEADER,true));this.m_table.setHeaderColor(e.getStringByKey(t.SacTableConstants.S_HEADER_COLOR));this.m_table.setTitle(e.getStringByKey(t.SacTableConstants.S_TITLE));this.m_table.setWidth(e.getIntegerByKeyExt(t.SacTableConstants.I_WIDTH,1257));this.m_table.setHeight(e.getIntegerByKeyExt(t.SacTableConstants.I_HEIGHT,451));this.m_table.setMinCellWidth(e.getIntegerByKeyExt(t.SacTableConstants.I_MIN_CELL_WIDTH,60));this.m_table.setMaxCellWidth(e.getIntegerByKeyExt(t.SacTableConstants.I_MAX_CELL_WIDTH,900));this.m_table.setMaxRecommendedCellWidth(e.getIntegerByKeyExt(t.SacTableConstants.I_MAX_RECOMMENDED_CELL_WIDTH,200));this.m_table.setRepetitiveHeaderNames(e.getBooleanByKey(t.SacTableConstants.B_REPETITIVE_MEMBER_NAMES));this.m_table.setMergeRepetitiveHeaderCells(e.getBooleanByKey(t.SacTableConstants.B_MERGE_REPETITIVE_HEADERS));this.m_table.setTotalLevel6Color(e.getStringByKey(t.SacTableConstants.S_TOTAL_LEVEL_6_COLOR));this.m_table.setTotalLevel5Color(e.getStringByKey(t.SacTableConstants.S_TOTAL_LEVEL_5_COLOR));this.m_table.setTotalLevel4Color(e.getStringByKey(t.SacTableConstants.S_TOTAL_LEVEL_4_COLOR));this.m_table.setTotalLevel3Color(e.getStringByKey(t.SacTableConstants.S_TOTAL_LEVEL_3_COLOR));this.m_table.setTotalLevel2Color(e.getStringByKey(t.SacTableConstants.S_TOTAL_LEVEL_2_COLOR));this.m_table.setTotalLevel1Color(e.getStringByKey(t.SacTableConstants.S_TOTAL_LEVEL_1_COLOR));this.m_table.setTotalLevel0Color(e.getStringByKey(t.SacTableConstants.S_TOTAL_LEVEL_0_COLOR))}};t.RenderThemingHelper={ALPHA_DELIMINATOR:"^",THEME_DELIMINATOR:":",THEME_PREFIX:"theme?",remapColor:function(e,a){let n=a;if(t.XStringUtils.isNotNullAndNotEmpty(a)){let i=a;if(!e.containsKey(i)){let s=a;if(t.XString.startsWith(i,t.RenderThemingHelper.THEME_PREFIX)&&t.XString.containsString(a,t.RenderThemingHelper.THEME_DELIMINATOR)){let e=t.XString.indexOf(a,t.RenderThemingHelper.THEME_DELIMINATOR);i=t.XString.substring(a,t.XString.size(t.RenderThemingHelper.THEME_PREFIX),e);s=t.XString.substring(a,e+1,t.XString.size(a))}let r=t.RenderThemingHelper.resolveColorWithAlpha(i);n=t.XStringUtils.isNotNullAndNotEmpty(r)?r:s;e.put(i,n)}else{n=e.getByKey(i)}}return n},resolveColorWithAlpha:function(e){let a=t.XString.indexOf(e,t.RenderThemingHelper.ALPHA_DELIMINATOR);let n=e;let i=0;if(a>-1){n=t.XString.substring(e,0,a);i=t.XDouble.convertFromString(t.XString.substring(e,a+1,-1))}let s=t.UiFramework.currentFramework().getThemeParameter(n);if(a>-1&&i!==0){let e=t.UiColor.create(s);if(t.notNull(e)){e.setAlpha(i);s=e.getRgbaColor()}}return s}};t.SacTableCsvRenderHelper=function(){};t.SacTableCsvRenderHelper.prototype=new t.XObject;t.SacTableCsvRenderHelper.prototype._ff_c="SacTableCsvRenderHelper";t.SacTableCsvRenderHelper.DEFAULT_CELL_SEPARATOR=",";t.SacTableCsvRenderHelper.DEFAULT_ESCAPOR='"';t.SacTableCsvRenderHelper.DEFAULT_LINE_SEPARATOR="\n";t.SacTableCsvRenderHelper.createDefaultTableRenderHelper=function(e){let a=new t.SacTableCsvRenderHelper;a.initializeRH(e,t.SacTableCsvRenderHelper.DEFAULT_LINE_SEPARATOR,t.SacTableCsvRenderHelper.DEFAULT_CELL_SEPARATOR,t.SacTableCsvRenderHelper.DEFAULT_ESCAPOR);return a};t.SacTableCsvRenderHelper.createTableRenderHelper=function(e,a,n,i){let s=new t.SacTableCsvRenderHelper;s.initializeRH(e,a,n,i);return s};t.SacTableCsvRenderHelper.prototype.m_cellSeparator=null;t.SacTableCsvRenderHelper.prototype.m_escapedEscapor=null;t.SacTableCsvRenderHelper.prototype.m_escapor=null;t.SacTableCsvRenderHelper.prototype.m_lineSeparator=null;t.SacTableCsvRenderHelper.prototype.fillCellsFromList=function(e,a){if(t.XCollectionUtils.hasElements(e)){let n=e.size();for(let i=0;i<n;i++){let n=e.get(i);if(t.notNull(n)&&n.getParentColumn()!==null&&!n.getParentColumn().isEffectivelyHidden()){a.append(this.resolveCell(n));a.append(this.m_cellSeparator)}}}};t.SacTableCsvRenderHelper.prototype.fillRowsFromList=function(e,a){for(let n=0;n<e.size();n++){let i=e.get(n);if(t.notNull(i)&&!i.isEffectivelyHidden()){this.fillCellsFromList(i.getCells(),a)}a.append(this.m_lineSeparator)}};t.SacTableCsvRenderHelper.prototype.getEscapedEscapor=function(){if(t.isNull(this.m_escapedEscapor)){this.m_escapedEscapor=t.XStringUtils.concatenate2(this.m_escapor,this.m_escapor)}return this.m_escapedEscapor};t.SacTableCsvRenderHelper.prototype.initializeRH=function(t,e,a,n){this.m_lineSeparator=e;this.m_cellSeparator=a;this.m_escapor=n};t.SacTableCsvRenderHelper.prototype.releaseObject=function(){this.m_lineSeparator=null;this.m_cellSeparator=null;this.m_escapor=null;t.XObject.prototype.releaseObject.call(this)};t.SacTableCsvRenderHelper.prototype.resolveCell=function(e){let a=e;let n=a.getEffectiveFormattedText(a.getPrioritizedStylesList());let i=t.XString.containsString(n,this.m_cellSeparator)||t.XString.containsString(n,this.m_lineSeparator);if(t.XString.containsString(n,this.m_escapor)){i=true;n=t.XString.replace(n,this.m_escapor,this.getEscapedEscapor())}if(i){n=t.XStringUtils.concatenate3(this.m_escapor,n,this.m_escapor)}return n};t.SacTableExportHelper=function(){};t.SacTableExportHelper.prototype=new t.XObject;t.SacTableExportHelper.prototype._ff_c="SacTableExportHelper";t.SacTableExportHelper.createTableExportHelper=function(e,a){let n=new t.SacTableExportHelper;n.initializeRH(e,a);return n};t.SacTableExportHelper.prototype.m_niceTitle=null;t.SacTableExportHelper.prototype.m_tableObject=null;t.SacTableExportHelper.prototype.applyPadding=function(t,e,a){if(e>-1){t.putDouble(a,e)}};t.SacTableExportHelper.prototype.applyStriping=function(e,a,n,i,s,r){let o=a||e;if(o&&n>=i.getParentTable().getPreColumnsAmount()&&i.getParentTable().getRowList().contains(i)){let i=this.getStyle(s);if(t.XStringUtils.isNullOrEmpty(i.getStringByKey(t.SacTableConstants.ST_S_FILL_COLOR))){if(e&&t.XMath.mod(r,2)===0){i.putString(t.SacTableConstants.ST_S_FILL_COLOR,t.SacTableConstants.SV_ROW_STRIPE_COLOR)}else if(a&&t.XMath.mod(n,2)===0){i.putString(t.SacTableConstants.ST_S_FILL_COLOR,t.SacTableConstants.SV_COLUMN_STRIPE_COLOR)}}}};t.SacTableExportHelper.prototype.format=function(e,a,n,i){if(a.isEffectiveTotalsContext()){n.putBoolean(t.SacTableConstants.C_B_IS_INA_TOTALS_CONTEXT,true)}n.putBoolean(t.SacTableConstants.C_B_IS_IN_HIERARCHY,a.isInHierarchy());n.putBoolean(t.SacTableConstants.C_B_ALLOW_DRAG_DROP,a.isAllowDragDrop());n.putInteger(t.SacTableConstants.C_N_LEVEL,a.getHierarchyLevel());n.putInteger(a.getHierarchyPaddingType(),a.getHierarchyPaddingValue()*(1+a.getHierarchyLevel()));n.putBoolean(t.SacTableConstants.C_B_SHOW_DRILL_ICON,a.isShowDrillIcon());n.putBoolean(t.SacTableConstants.C_B_EXPANDED,a.isExpanded());let s=t.RenderThemingHelper.remapColor(e,a.getEffectiveFillColor(i));if(t.notNull(s)){let e=a.getEffectiveFillAlphaOverwrite(i);if(e!==-1){s=t.UiColor.create(s).setAlpha(e).getHexColorWithAlpha()}let r=this.getStyle(n);r.putString(t.SacTableConstants.ST_S_FILL_COLOR,s)}this.transferStyledLineToJson(e,a.getEffectiveStyledLineTop(i),t.SacTableConstants.LP_TOP,n);this.transferStyledLineToJson(e,a.getEffectiveStyleLineBottom(i),t.SacTableConstants.LP_BOTTOM,n);this.transferStyledLineToJson(e,a.getEffectiveStyledLineLeft(i),t.SacTableConstants.LP_LEFT,n);this.transferStyledLineToJson(e,a.getEffectiveStyledLineRight(i),t.SacTableConstants.LP_RIGHT,n);if(a.isWrap()){this.getStyle(n).putBoolean(t.SacTableConstants.ST_B_WRAP,true)}if(a.isEffectiveFontItalic(i)){this.getFont(n).putBoolean(t.SacTableConstants.FS_B_ITALIC,true)}if(a.isEffectiveFontBold(i)){this.getFont(n).putBoolean(t.SacTableConstants.FS_B_BOLD,true)}if(a.isEffectiveFontUnderline(i)){this.getFont(n).putBoolean(t.SacTableConstants.FS_B_UNDERLINE,true)}if(a.isEffectiveFontStrikeThrough(i)){this.getFont(n).putBoolean(t.SacTableConstants.FS_B_STRIKETHROUGH,true)}let r=a.getEffectiveFontSize(i);if(r>0){this.getFont(n).putDouble(t.SacTableConstants.FS_N_SIZE,r)}let o=a.getEffectiveFontFamily(i);if(t.notNull(o)){this.getFont(n).putString(t.SacTableConstants.FS_S_FAMILY,o)}s=t.RenderThemingHelper.remapColor(e,a.getEffectiveFontColor(i));if(t.notNull(s)){this.getFont(n).putString(t.SacTableConstants.FS_S_COLOR,s)}let l=t.RenderThemingHelper.remapColor(e,a.getEffectiveThresholdColor(i));if(t.notNull(l)){this.getStyle(n).putString(t.SacTableConstants.ST_S_THRESHOLD_COLOR,l)}let C=t.SacTableConstantMapper.mapAlertSymbolToString(a.getEffectiveThresholdType(i));if(t.XStringUtils.isNotNullAndNotEmpty(C)){this.getStyle(n).putString(t.SacTableConstants.ST_S_THRESHOLD_ICON_TYPE,C)}let _=a.getEffectiveHorizontalAlignment(i);let g=a.getEffectiveVerticalAlignment(i);if(t.notNull(_)||t.notNull(g)){let e=this.getStyle(n).putNewStructure(t.SacTableConstants.ST_M_ALIGNMENT);if(_===t.SacVisualizationHorizontalAlignment.LEFT){e.putInteger(t.SacTableConstants.STAL_N_HORIZONTAL,t.SacTableConstants.HA_LEFT)}else if(_===t.SacVisualizationHorizontalAlignment.CENTER){e.putInteger(t.SacTableConstants.STAL_N_HORIZONTAL,t.SacTableConstants.HA_CENTER)}else if(_===t.SacVisualizationHorizontalAlignment.RIGHT){e.putInteger(t.SacTableConstants.STAL_N_HORIZONTAL,t.SacTableConstants.HA_RIGHT)}if(g===t.SacVisualizationVerticalAlignment.TOP){e.putInteger(t.SacTableConstants.STAL_N_VERTICAL,t.SacTableConstants.VA_TOP)}else if(g===t.SacVisualizationVerticalAlignment.MIDDLE){e.putInteger(t.SacTableConstants.STAL_N_VERTICAL,t.SacTableConstants.VA_MIDDLE)}else if(g===t.SacVisualizationVerticalAlignment.BOTTOM){e.putInteger(t.SacTableConstants.STAL_N_VERTICAL,t.SacTableConstants.VA_BOTTOM)}}let u=a.getEffectiveBackgroundPatternType(i);if(u===t.VisualizationBackgroundPatternType.BACKGROUND_IMAGE){n.putInteger(t.SacTableConstants.C_N_CELL_TYPE,t.SacTableConstants.CT_IMAGE);n.putStringNotNullAndNotEmpty(t.SacTableConstants.C_S_FORMATTED,a.getEffectiveBackgroundContent(i))}else if(u===t.VisualizationBackgroundPatternType.HATCHIING_1){n.putInteger(t.SacTableConstants.C_N_CELL_TYPE,t.SacTableConstants.CT_IMAGE);n.putString(t.SacTableConstants.C_S_FORMATTED,t.XStringUtils.concatenate2(t.SacTableConstants.IMG_B64_PREFIX_SHORT,t.SacTableConstants.BASE64_SVG_HATCHING_1))}else if(u===t.VisualizationBackgroundPatternType.HATCHIING_2){n.putInteger(t.SacTableConstants.C_N_CELL_TYPE,t.SacTableConstants.CT_IMAGE);n.putString(t.SacTableConstants.C_S_FORMATTED,t.XStringUtils.concatenate2(t.SacTableConstants.IMG_B64_PREFIX_SHORT,t.SacTableConstants.BASE64_SVG_HATCHING_2))}else if(u===t.VisualizationBackgroundPatternType.HATCHIING_3){n.putInteger(t.SacTableConstants.C_N_CELL_TYPE,t.SacTableConstants.CT_IMAGE);n.putString(t.SacTableConstants.C_S_FORMATTED,t.XStringUtils.concatenate2(t.SacTableConstants.IMG_B64_PREFIX_SHORT,t.SacTableConstants.BASE64_SVG_HATCHING_3))}else if(u===t.VisualizationBackgroundPatternType.HATCHIING_4){n.putInteger(t.SacTableConstants.C_N_CELL_TYPE,t.SacTableConstants.CT_IMAGE);n.putString(t.SacTableConstants.C_S_FORMATTED,t.XStringUtils.concatenate2(t.SacTableConstants.IMG_B64_PREFIX_SHORT,t.SacTableConstants.BASE64_SVG_HATCHING_4))}else if(u===t.VisualizationBackgroundPatternType.HATCHIING_5){n.putInteger(t.SacTableConstants.C_N_CELL_TYPE,t.SacTableConstants.CT_IMAGE);n.putString(t.SacTableConstants.C_S_FORMATTED,t.XStringUtils.concatenate2(t.SacTableConstants.IMG_B64_PREFIX_SHORT,t.SacTableConstants.BASE64_SVG_HATCHING_5))}else if(u===t.VisualizationBackgroundPatternType.HATCHIING_6){n.putInteger(t.SacTableConstants.C_N_CELL_TYPE,t.SacTableConstants.CT_IMAGE);n.putString(t.SacTableConstants.C_S_FORMATTED,t.XStringUtils.concatenate2(t.SacTableConstants.IMG_B64_PREFIX_SHORT,t.SacTableConstants.BASE64_SVG_HATCHING_6))}else if(u===t.VisualizationBackgroundPatternType.HATCHIING_7){n.putInteger(t.SacTableConstants.C_N_CELL_TYPE,t.SacTableConstants.CT_IMAGE);n.putString(t.SacTableConstants.C_S_FORMATTED,t.XStringUtils.concatenate2(t.SacTableConstants.IMG_B64_PREFIX_SHORT,t.SacTableConstants.BASE64_SVG_HATCHING_7))}else if(u===t.VisualizationBackgroundPatternType.HATCHIING_8){n.putInteger(t.SacTableConstants.C_N_CELL_TYPE,t.SacTableConstants.CT_IMAGE);n.putString(t.SacTableConstants.C_S_FORMATTED,t.XStringUtils.concatenate2(t.SacTableConstants.IMG_B64_PREFIX_SHORT,t.SacTableConstants.BASE64_SVG_HATCHING_8))}return n};t.SacTableExportHelper.prototype.getCorrectWidth=function(e,a,n,i){return t.XMath.min(n,t.XMath.max(t.XMath.div(e*a,10),i))};t.SacTableExportHelper.prototype.getExportableStructure=function(e,a,n,i){let s=t.XHashMapByString.create();let r=t.PrFactory.createStructure();let o;let l=this.m_tableObject.getHeaderRowList();let C=this.m_tableObject.getRowList();let _=this.m_tableObject.getColumnList();let g=r.putNewList(t.SacTableConstants.TD_L_ROWS);let u=l.size();let S=t.XMath.min(_.size(),i+1);let T=t.XMath.min(C.size(),a+1);this.renderGenericSettings(r,n,S,e);let h;let c=0;for(o=0;o<u;o++){h=l.get(o);if(t.notNull(h)&&!h.isEffectivelyHidden()){this.renderRow(s,g,h,c++,n,S)}else if(t.isNull(h)){c++}}for(o=e;o<T;o++){h=C.get(o);if(t.notNull(h)&&!h.isEffectivelyHidden()){this.renderRow(s,g,h,c++,n,S)}else if(t.isNull(h)){c++}}return r};t.SacTableExportHelper.prototype.getFont=function(e){let a=this.getStyle(e);let n=a.getStructureByKey(t.SacTableConstants.ST_M_FONT);if(t.isNull(n)){n=a.putNewStructure(t.SacTableConstants.ST_M_FONT)}return n};t.SacTableExportHelper.prototype.getLineInternal=function(e,a){let n=this.getStyle(a);if(!n.containsKey(t.SacTableConstants.ST_L_LINES)){n.putNewList(t.SacTableConstants.ST_L_LINES)}let i=n.getListByKey(t.SacTableConstants.ST_L_LINES);let s=null;for(let a=0;a<i.size();a++){if(i.getStructureAt(a).getIntegerByKey(t.SacTableConstants.SL_N_POSITION)===e){s=i.getStructureAt(a)}}if(t.isNull(s)){s=i.addNewStructure();s.putInteger(t.SacTableConstants.SL_N_SIZE,1);s.putInteger(t.SacTableConstants.SL_N_STYLE,1);s.putInteger(t.SacTableConstants.SL_N_POSITION,e);let a=s.putNewStructure(t.SacTableConstants.SL_M_PADDING);if(e===t.SacTableConstants.LP_BOTTOM||e===t.SacTableConstants.LP_TOP){a.putInteger(t.SacTableConstants.SLP_N_RIGHT,t.SacTableConstants.LP_RIGHT);a.putInteger(t.SacTableConstants.SLP_N_LEFT,t.SacTableConstants.LP_RIGHT)}else{a.putInteger(t.SacTableConstants.SLP_N_BOTTOM,t.SacTableConstants.LP_BOTTOM);a.putInteger(t.SacTableConstants.SLP_N_TOP,t.SacTableConstants.LP_TOP)}}return s};t.SacTableExportHelper.prototype.getStyle=function(e){if(!e.containsKey(t.SacTableConstants.C_M_STYLE)){e.putBoolean(t.SacTableConstants.C_B_STYLE_UPDATED_BY_USER,true);e.putNewStructure(t.SacTableConstants.C_M_STYLE)}return e.getStructureByKey(t.SacTableConstants.C_M_STYLE)};t.SacTableExportHelper.prototype.getTableObject=function(){return this.m_tableObject};t.SacTableExportHelper.prototype.initializeRH=function(t,e){this.m_tableObject=t;this.m_niceTitle=e};t.SacTableExportHelper.prototype.preFormatCellChart=function(e,a,n,i,s){let r=a.getPrioritizedStylesList();n.putInteger(t.SacTableConstants.C_N_CELL_TYPE,t.SacTableConstants.CT_CHART);let o=n.putNewStructure(t.SacTableConstants.C_M_CELL_CHART);o.putString(t.SacTableConstants.CC_S_MEMBER_ID,a.getEffectiveCellChartMemberName(r));let l=a.getEffectiveCellChartType();if(l===t.SacCellChartType.BAR){o.putString(t.SacTableConstants.CC_S_CHART_TYPE,t.SacTableConstants.CCT_BAR)}else if(l===t.SacCellChartType.VARIANCE_BAR){o.putString(t.SacTableConstants.CC_S_CHART_TYPE,t.SacTableConstants.CCT_VARIANCE_BAR)}else if(l===t.SacCellChartType.PIN){o.putString(t.SacTableConstants.CC_S_CHART_TYPE,t.SacTableConstants.CCT_VARIANCE_PIN)}o.putString(t.SacTableConstants.CC_S_BAR_COLOR,t.RenderThemingHelper.remapColor(e,a.getEffectiveCellChartBarColor(r)));o.putString(t.SacTableConstants.CC_SU_LINE_COLOR,t.RenderThemingHelper.remapColor(e,a.getEffectiveCellChartLineColor(r)));o.putBoolean(t.SacTableConstants.CC_B_SHOW_VALUE,!a.isEffectiveHideNumberForCellChart());o.putString(t.SacTableConstants.CC_S_CELL_CHART_ORIENTATION,a.getEffectiveCellChartOrientation()===t.SacCellChartOrientation.VERTICAL?t.SacTableConstants.CCO_VERTICAL:t.SacTableConstants.CCO_HORIZONTAL);let C=this.m_tableObject.getCellChartInfo();if(!C.containsKey(a.getEffectiveCellChartMemberName(r))){C.put(a.getEffectiveCellChartMemberName(r),t.CellChartInfo.create(a.getEffectiveCellChartOrientation(),s,i,t.XValueUtil.getDouble(a.getPlain(),false,true)))}else{let e=C.getByKey(a.getEffectiveCellChartMemberName(r));e.addColumn(s);e.addRow(i);e.registerValue(t.XValueUtil.getDouble(a.getPlain(),false,true))}return o};t.SacTableExportHelper.prototype.releaseObject=function(){this.m_tableObject=null;t.XObject.prototype.releaseObject.call(this)};t.SacTableExportHelper.prototype.renderCell=function(e,a,n,i,s,r){let o=a.addNewStructure();o.putInteger(t.SacTableConstants.C_N_ROW,i);o.putInteger(t.SacTableConstants.C_N_COLUMN,r);let l=n.getMergedColumns();let C=n.getMergedRows();if(l!==0||C!==0){let e=o.putNewStructure(t.SacTableConstants.C_M_MERGED);if(l>=0&&C>=0){if(n.getMergedColumns()>0){e.putInteger(t.SacTableConstants.CM_N_COLUMNS,n.getMergedColumns())}if(n.getMergedRows()>0){e.putInteger(t.SacTableConstants.CM_N_ROWS,n.getMergedRows())}}else{e.putInteger(t.SacTableConstants.CM_N_ORIGINAL_COLUMN,r+n.getMergedColumns());e.putInteger(t.SacTableConstants.CM_N_ORIGINAL_ROW,i+n.getMergedRows())}}if(n.getCommentDocumentId()!==null){o.putInteger(t.SacTableConstants.C_N_COMMENT_TYPE,t.SacTableConstants.CT_SELF);o.putString(t.SacTableConstants.CS_COMMENT_DOCUMENT_ID,n.getCommentDocumentId())}let _=n.getId();if(t.isNull(_)){_=t.XStringUtils.concatenate2(t.XInteger.convertToHexString(i),t.XInteger.convertToHexString(r))}o.putString(t.SacTableConstants.C_S_ID,_);o.putString(t.SacTableConstants.C_S_FORMATTED,n.getEffectiveWrappedFormattedText(s));o.putString(t.SacTableConstants.C_S_FORMAT_STRING,n.getEffectiveFormattingPattern(s));o.putBoolean(t.SacTableConstants.C_B_REPEATED_MEMBER_NAME,n.isRepeatedHeader());let g=n.getPlain();if(t.notNull(g)){let e=n.getPlain().getValueType();if(e===t.XValueType.BOOLEAN){o.putBoolean(t.SacTableConstants.C_SN_PLAIN,t.XValueUtil.getBoolean(g,false,true))}else if(e===t.XValueType.DOUBLE||e===t.XValueType.DECIMAL_FLOAT&&g.mayLoosePrecision()){o.putDouble(t.SacTableConstants.C_SN_PLAIN,t.XValueUtil.getDouble(g,false,true))}else if(e===t.XValueType.LONG){o.putLong(t.SacTableConstants.C_SN_PLAIN,t.XValueUtil.getLong(g,false,true))}else if(e===t.XValueType.INTEGER){o.putInteger(t.SacTableConstants.C_SN_PLAIN,t.XValueUtil.getInteger(g,false,true))}else{o.putString(t.SacTableConstants.C_SN_PLAIN,g.getStringRepresentation())}}let u=n.getEffectiveCellType();o.putInteger(t.SacTableConstants.C_N_CELL_TYPE,u);o.putBoolean(t.SacTableConstants.C_B_DRAGGABLE,u===t.SacTableConstants.CT_ATTRIBUTE_COL_DIM_HEADER||u===t.SacTableConstants.CT_ATTRIBUTE_ROW_DIM_HEADER||u===t.SacTableConstants.CT_COL_DIM_HEADER||u===t.SacTableConstants.CT_ROW_DIM_HEADER||u===t.SacTableConstants.CT_ROW_DIM_MEMBER||u===t.SacTableConstants.CT_COL_DIM_MEMBER||u===t.SacTableConstants.CT_ATTRIBUTE_ROW_DIM_MEMBER||u===t.SacTableConstants.CT_ATTRIBUTE_COL_DIM_MEMBER);if(n.isEffectiveShowCellChart()){this.preFormatCellChart(e,n,o,i,r)}return o};t.SacTableExportHelper.prototype.renderColumn=function(t,e){};t.SacTableExportHelper.prototype.renderGenericSettings=function(e,a,n,i){e.putString(t.SacTableConstants.S_PRETTY_PRINTED_TITLE,this.m_niceTitle);let s=e.putNewStructure(t.SacTableConstants.TD_M_STYLE);let r=s.putNewStructure(t.SacTableConstants.ST_M_FONT);r.putInteger(t.SacTableConstants.FS_N_SIZE,42);e.putBoolean(t.SacTableConstants.TD_B_REVERSED_HIERARCHY,this.m_tableObject.isReversedHierarchy());let o=e.putNewStructure(t.SacTableConstants.TD_M_TITLE);let l=o.putNewStructure(t.SacTableConstants.TD_M_TITLE_STYLE);o.putNewStructure(t.SacTableConstants.TD_M_SUBTITLE_STYLE);let C=l.putNewStructure(t.SacTableConstants.ST_M_FONT);C.putInteger(t.SacTableConstants.FS_N_SIZE,17);let _=this.m_tableObject.getTitle();o.putStringNotNullAndNotEmpty(t.SacTableConstants.TD_S_TITLE_TEXT,_);if(t.XStringUtils.isNotNullAndNotEmpty(_)){o.putNewList(t.SacTableConstants.TD_L_TITLE_CHUNKS).addString(_)}let g=o.putNewStructure(t.SacTableConstants.TD_M_TOKEN_DATA);let u=g.putNewStructure(t.SacTableConstants.TE_O_STYLES);u.putString("line-height","");u.putString("text-align","left");u.putString("font-size","13px");u.putString("align-items","center");u.putString("margin-top","3px");g.putNewStructure(t.SacTableConstants.TE_O_ATTRIBUTES);g.putNewList(t.SacTableConstants.TE_L_CLASSES).addString("sapReportEngineTokenContainer");g.putString(t.SacTableConstants.TE_S_TAG,"div");let S=this.m_tableObject.isShowTableTitle();let T=this.m_tableObject.isShowSubTitle();let h=this.m_tableObject.isShowTableDetails();o.putBoolean(t.SacTableConstants.TD_B_TITLE_VISIBLE,S);o.putBoolean(t.SacTableConstants.TD_B_SUBTITLE_VISIBLE,T);o.putBoolean(t.SacTableConstants.TD_B_DETAILS_VISIBLE,h);o.putBoolean(t.SacTableConstants.TD_B_EDITABLE,false);let c=40;if(S&&(h||T)){c=52}else if(!S&&!h&&!T){c=0}l.putInteger(t.SacTableConstants.TS_N_HEIGHT,c);let I;let E=this.m_tableObject.getHeight();let A=this.m_tableObject.getWidth();e.putInteger(t.SacTableConstants.TD_N_WIDGET_HEIGHT,E);let p=this.m_tableObject.isShowGrid();let N=this.m_tableObject.isFreezeHeaderColumns()||this.m_tableObject.getFreezeUpToColumn()>-1;let L=this.m_tableObject.isFreezeHeaderRows()||this.m_tableObject.getFreezeUpToRow()>-1||N;let d=this.m_tableObject.getFreezeUpToColumn();if(d>-1||!this.m_tableObject.isFreezeHeaderColumns()){e.putInteger(t.SacTableConstants.TD_N_FREEZE_END_COL,d)}else{e.putInteger(t.SacTableConstants.TD_N_FREEZE_END_COL,this.m_tableObject.getPreColumnsAmount()-1)}let O=this.m_tableObject.getFreezeUpToRow();if(O>-1||!this.m_tableObject.isFreezeHeaderRows()){e.putInteger(t.SacTableConstants.TD_N_FREEZE_END_ROW,O)}else{e.putInteger(t.SacTableConstants.TD_N_FREEZE_END_ROW,this.m_tableObject.getPreRowsAmount()-1)}e.putBoolean(t.SacTableConstants.TD_B_SHOW_FREEZE_LINES,L&&this.m_tableObject.isShowFreezeLines());e.putBoolean(t.SacTableConstants.TD_B_HAS_FIXED_ROWS_COLS,L);e.putBoolean(t.SacTableConstants.TD_B_SHOW_GRID,p);e.putBoolean(t.SacTableConstants.TD_B_SHOW_COORDINATE_HEADER,this.m_tableObject.isShowCoordinateHeader());e.putBoolean(t.SacTableConstants.TD_B_SHOW_GRID,this.m_tableObject.isShowGrid());e.putBoolean(t.SacTableConstants.TD_B_SUBTITLE_VISIBLE,this.m_tableObject.isShowSubTitle());e.putBoolean(t.SacTableConstants.TD_B_TITLE_VISIBLE,this.m_tableObject.isShowTableTitle());e.putBoolean(t.SacTableConstants.TD_B_DETAILS_VISIBLE,this.m_tableObject.isShowTableDetails());let H=e.putNewList(t.SacTableConstants.TD_L_COLUMN_SETTINGS);let R=A-100;let m=this.m_tableObject.getColumnEmWidthsSubList(0,-1);let b=t.XStream.of(m).reduce(t.XIntegerValue.create(1),(e,a)=>t.XIntegerValue.create(e.getInteger()+a.getInteger())).getInteger();let V=t.XMath.div(R*10,b);if(V>15){V=15}if(V<10){V=10}let f=this.m_tableObject.getMinCellWidth();let y=this.m_tableObject.getMaxCellWidth();let D;let K;let P=0;let G=0;for(I=0;I<this.m_tableObject.getPreColumnsAmount();I++){D=f;if(I<m.size()){D=this.getCorrectWidth(m.get(I).getInteger(),V,y,f)}K=this.m_tableObject.getHeaderColumnList().get(I);K.setDefaultWidth(D);P=P+D}if(this.m_tableObject.getDataColumnsAmount()>0){for(I=this.m_tableObject.getPreColumnsAmount()+a;I<this.m_tableObject.getPreColumnsAmount()+n;I++){D=f;if(I<m.size()){D=this.getCorrectWidth(m.get(I).getInteger(),V,y,f)}G=G+D;K=this.m_tableObject.getColumnList().get(I-this.m_tableObject.getPreColumnsAmount());if(t.notNull(K)){K.setDefaultWidth(D)}}}let z=20;let B;let M=0;for(I=0;I<this.m_tableObject.getPreColumnsAmount();I++){K=this.m_tableObject.getHeaderColumnList().get(I);if(t.isNull(K)||!K.isEffectivelyHidden()){D=t.isNull(K)?0:K.getWidth();z=z+D;B=H.addNewStructure();B.putInteger(t.SacTableConstants.CS_N_COLUMN,M);B.putInteger(t.SacTableConstants.CS_N_MIN_WIDTH,f);B.putInteger(t.SacTableConstants.CS_N_WIDTH,D);B.putString(t.SacTableConstants.CS_S_ID,t.XInteger.convertToHexString(M));B.putBoolean(t.SacTableConstants.CS_B_FIXED,false);B.putBoolean(t.SacTableConstants.CS_B_HAS_WRAP_CELL,false);B.putBoolean(t.SacTableConstants.CS_B_EMPTY_COLUMN,false);B.putBoolean(t.SacTableConstants.CS_B_FIXED,this.m_tableObject.isFreezeHeaderColumns()&&d<0||d>=M);this.renderColumn(K,B);M++}}if(this.m_tableObject.getDataColumnsAmount()>a){for(I=a;I<n;I++){K=this.m_tableObject.getColumnList().get(I);if(t.isNull(K)||!K.isEffectivelyHidden()){D=t.isNull(K)?0:K.getWidth();z=z+D;B=H.addNewStructure();B.putInteger(t.SacTableConstants.CS_N_COLUMN,M);B.putInteger(t.SacTableConstants.CS_N_MIN_WIDTH,f);B.putInteger(t.SacTableConstants.CS_N_WIDTH,D);B.putString(t.SacTableConstants.CS_S_ID,t.XInteger.convertToHexString(M+a));B.putBoolean(t.SacTableConstants.CS_B_FIXED,this.m_tableObject.getFreezeUpToColumn()>=M+a);B.putBoolean(t.SacTableConstants.CS_B_HAS_WRAP_CELL,false);B.putBoolean(t.SacTableConstants.CS_B_EMPTY_COLUMN,false);this.renderColumn(K,B);M++}}}let X=this.m_tableObject.getDataRowAmount();let U=this.m_tableObject.getPreRowsAmount();let F=20+this.m_tableObject.getOverallHeight();if(p){F=F+X+U}let w=this.m_tableObject.getCellChartInfo();if(t.XCollectionUtils.hasElements(w)){let n=e.putNewStructure(t.SacTableConstants.TD_M_CELL_CHART_DATA);let s=w.getKeysAsIterator();while(s.hasNext()){let e=s.next();let r=w.getByKey(e);let o=n.putNewStructure(e);o.putInteger(t.SacTableConstants.CCD_N_START_COL,r.getStartColumn()-a);o.putInteger(t.SacTableConstants.CCD_N_END_COL,r.getEndColumn()-a);o.putInteger(t.SacTableConstants.CCD_N_START_ROW,r.getStartRow()-i);o.putInteger(t.SacTableConstants.CCD_N_END_ROW,r.getEndRow()-i);o.putDouble(t.SacTableConstants.CCD_N_MIN,r.getMinValue());o.putDouble(t.SacTableConstants.CCD_N_MAX,r.getMaxValue());o.putInteger(t.SacTableConstants.CCD_N_MAX_TEXT_HEIGHT,t.SacTableConstants.DF_R_N_HEIGHT);let l=o.putNewList(t.SacTableConstants.CCD_L_COLUMNS);let C=r.getColumns().getIterator();let _=0;while(C.hasNext()){let e=C.next().getInteger();l.addInteger(e);_=t.XMath.max(t.XMath.div(H.getStructureAt(e).getIntegerByKey(t.SacTableConstants.CS_N_WIDTH),3),_)}o.putInteger(t.SacTableConstants.CCD_N_MAX_TEXT_WIDTH,_)}}e.putInteger(t.SacTableConstants.TD_N_TOTAL_WIDTH,z);e.putInteger(t.SacTableConstants.TD_N_TOTAL_HEIGHT,F);e.putInteger(t.SacTableConstants.TD_N_DATA_REGION_START_COL,0);e.putInteger(t.SacTableConstants.TD_N_DATA_REGION_START_ROW,0);e.putInteger(t.SacTableConstants.TD_N_DATA_REGION_CORNER_COL,this.m_tableObject.getPreColumnsAmount()-1);e.putInteger(t.SacTableConstants.TD_N_DATA_REGION_CORNER_ROW,this.m_tableObject.getPreRowsAmount()-1);e.putInteger(t.SacTableConstants.TD_N_DATA_REGION_END_COL,this.m_tableObject.getPreColumnsAmount()+this.m_tableObject.getDataColumnsAmount()-1);e.putInteger(t.SacTableConstants.TD_N_DATA_REGION_END_ROW,this.m_tableObject.getPreRowsAmount()+this.m_tableObject.getDataRowAmount()-1);e.putInteger(t.SacTableConstants.TD_N_LAST_ROW_INDEX,this.m_tableObject.getPreRowsAmount()+this.m_tableObject.getDataRowAmount()-1);e.putInteger(t.SacTableConstants.TD_N_WIDGET_WIDTH,z+20);return g.putNewList(t.SacTableConstants.TE_L_CHILDREN)};t.SacTableExportHelper.prototype.renderRow=function(e,a,n,i,s,r){let o=a.addNewStructure();o.putInteger(t.SacTableConstants.R_N_HEIGHT,n.getEffectiveHeight());let l=n.getId();if(t.isNull(l)){l=t.XInteger.convertToHexString(i)}o.putString(t.SacTableConstants.C_S_ID,l);o.putInteger(t.SacTableConstants.R_N_ROW,i);o.putBoolean(t.SacTableConstants.R_B_FIXED,n.isFixed());o.putBoolean(t.SacTableConstants.R_B_CHANGED_ON_THE_FLY_UNRESPONSIVE,n.isChangedOnTheFlyUnresponsive());let C=o.putNewList(t.SacTableConstants.R_L_CELLS);let _=n.getParentTable().isStripeDataColumns();let g=n.getParentTable().isStripeDataRows();let u;let S;let T;let h=0;let c;for(u=0;u<this.m_tableObject.getPreColumnsAmount();u++){S=n.getCells().get(u);if(t.notNull(S)&&S.getParentColumn()!==null&&!S.getParentColumn().isEffectivelyHidden()){c=S.getPrioritizedStylesList();T=this.renderCell(e,C,S,i,c,h++);this.format(e,S,T,c);this.applyStriping(g,_,u,n,T,i)}else if(t.isNull(S)){h++}}for(u=s+this.m_tableObject.getPreColumnsAmount();u<this.m_tableObject.getPreColumnsAmount()+r;u++){S=n.getCells().get(u);if(t.notNull(S)&&S.getParentColumn()!==null&&!S.getParentColumn().isEffectivelyHidden()){c=S.getPrioritizedStylesList();T=this.renderCell(e,C,S,i,c,h++);this.format(e,S,T,c);this.applyStriping(g,_,u-s,n,T,i)}else if(t.isNull(S)){h++}}return o};t.SacTableExportHelper.prototype.transferStyledLineToJson=function(e,a,n,i){if(!t.SacStyleUtils.isStyleLineEmpty(a)){let s=this.getLineInternal(n,i);s.putStringNotNullAndNotEmpty(t.SacTableConstants.SL_S_COLOR,t.RenderThemingHelper.remapColor(e,a.getColor()));if(a.getWidth()>-1){s.putDouble(t.SacTableConstants.SL_N_SIZE,a.getWidth())}if(a.hasPadding()){let e=s.putNewStructure(t.SacTableConstants.SL_M_PADDING);this.applyPadding(e,a.getLeftPadding(),t.SacTableConstants.SLP_N_LEFT);this.applyPadding(e,a.getRightPadding(),t.SacTableConstants.SLP_N_RIGHT);this.applyPadding(e,a.getTopPadding(),t.SacTableConstants.SLP_N_TOP);this.applyPadding(e,a.getBottomPadding(),t.SacTableConstants.SLP_N_BOTTOM)}let r=a.getLineStyle();if(r===t.SacTableLineStyle.DASHED){s.putInteger(t.SacTableConstants.SL_N_STYLE,t.SacTableConstants.LS_DASHED)}else if(r===t.SacTableLineStyle.DOTTED){s.putInteger(t.SacTableConstants.SL_N_STYLE,t.SacTableConstants.LS_DOTTED)}else if(r===t.SacTableLineStyle.SOLID){s.putInteger(t.SacTableConstants.SL_N_STYLE,t.SacTableConstants.LS_SOLID)}else if(r===t.SacTableLineStyle.NONE){s.putInteger(t.SacTableConstants.SL_N_STYLE,t.SacTableConstants.LS_NONE)}let o=a.getPatternType();if(t.notNull(o)){let n=s.putNewStructure(t.SacTableConstants.SL_M_PATTERN);if(o===t.VisualizationBackgroundPatternType.WHITE_FILL){n.putInteger(t.SacTableConstants.LP_N_STYLE,t.SacTableConstants.LPT_WHITE_FILL)}else if(o===t.VisualizationBackgroundPatternType.NOFILL){n.putInteger(t.SacTableConstants.LP_N_STYLE,t.SacTableConstants.LPT_NON_FILL)}else if(o===t.VisualizationBackgroundPatternType.SOLID){n.putInteger(t.SacTableConstants.LP_N_STYLE,t.SacTableConstants.LPT_SOLID)}else if(o===t.VisualizationBackgroundPatternType.BACKGROUND_IMAGE){n.putInteger(t.SacTableConstants.LP_N_STYLE,t.SacTableConstants.LPT_BACKGROUND_IMAGE);n.putStringNotNullAndNotEmpty(t.SacTableConstants.LP_S_BACKGROUND,a.getPatternBackground())}else if(o===t.VisualizationBackgroundPatternType.HATCHIING_1){n.putInteger(t.SacTableConstants.LP_N_STYLE,t.SacTableConstants.LPT_BACKGROUND_IMAGE);n.putString(t.SacTableConstants.LP_S_BACKGROUND,t.XStringUtils.concatenate3(t.SacTableConstants.IMG_B64_PREFIX,t.SacTableConstants.BASE64_SVG_HATCHING_1,t.SacTableConstants.IMG_B64_SUFFIX))}else if(o===t.VisualizationBackgroundPatternType.HATCHIING_2){n.putInteger(t.SacTableConstants.LP_N_STYLE,t.SacTableConstants.LPT_BACKGROUND_IMAGE);n.putString(t.SacTableConstants.LP_S_BACKGROUND,t.XStringUtils.concatenate3(t.SacTableConstants.IMG_B64_PREFIX,t.SacTableConstants.BASE64_SVG_HATCHING_2,t.SacTableConstants.IMG_B64_SUFFIX))}else if(o===t.VisualizationBackgroundPatternType.HATCHIING_3){n.putInteger(t.SacTableConstants.LP_N_STYLE,t.SacTableConstants.LPT_BACKGROUND_IMAGE);n.putString(t.SacTableConstants.LP_S_BACKGROUND,t.XStringUtils.concatenate3(t.SacTableConstants.IMG_B64_PREFIX,t.SacTableConstants.BASE64_SVG_HATCHING_3,t.SacTableConstants.IMG_B64_SUFFIX))}else if(o===t.VisualizationBackgroundPatternType.HATCHIING_4){n.putInteger(t.SacTableConstants.LP_N_STYLE,t.SacTableConstants.LPT_BACKGROUND_IMAGE);n.putString(t.SacTableConstants.LP_S_BACKGROUND,t.XStringUtils.concatenate3(t.SacTableConstants.IMG_B64_PREFIX,t.SacTableConstants.BASE64_SVG_HATCHING_4,t.SacTableConstants.IMG_B64_SUFFIX))}else if(o===t.VisualizationBackgroundPatternType.HATCHIING_5){n.putInteger(t.SacTableConstants.LP_N_STYLE,t.SacTableConstants.LPT_BACKGROUND_IMAGE);n.putString(t.SacTableConstants.LP_S_BACKGROUND,t.XStringUtils.concatenate3(t.SacTableConstants.IMG_B64_PREFIX,t.SacTableConstants.BASE64_SVG_HATCHING_5,t.SacTableConstants.IMG_B64_SUFFIX))}else if(o===t.VisualizationBackgroundPatternType.HATCHIING_6){n.putInteger(t.SacTableConstants.LP_N_STYLE,t.SacTableConstants.LPT_BACKGROUND_IMAGE);n.putString(t.SacTableConstants.LP_S_BACKGROUND,t.XStringUtils.concatenate3(t.SacTableConstants.IMG_B64_PREFIX,t.SacTableConstants.BASE64_SVG_HATCHING_6,t.SacTableConstants.IMG_B64_SUFFIX))}else if(o===t.VisualizationBackgroundPatternType.HATCHIING_7){n.putInteger(t.SacTableConstants.LP_N_STYLE,t.SacTableConstants.LPT_BACKGROUND_IMAGE);n.putString(t.SacTableConstants.LP_S_BACKGROUND,t.XStringUtils.concatenate3(t.SacTableConstants.IMG_B64_PREFIX,t.SacTableConstants.BASE64_SVG_HATCHING_7,t.SacTableConstants.IMG_B64_SUFFIX))}else if(o===t.VisualizationBackgroundPatternType.HATCHIING_8){n.putInteger(t.SacTableConstants.LP_N_STYLE,t.SacTableConstants.LPT_BACKGROUND_IMAGE);n.putString(t.SacTableConstants.LP_S_BACKGROUND,t.XStringUtils.concatenate3(t.SacTableConstants.IMG_B64_PREFIX,t.SacTableConstants.BASE64_SVG_HATCHING_8,t.SacTableConstants.IMG_B64_SUFFIX))}if(a.getPatternWidth()>0){n.putDouble(t.SacTableConstants.LP_N_WIDTH,a.getPatternWidth())}n.putStringNotNullAndNotEmpty(t.SacTableConstants.LP_S_COLOR,t.RenderThemingHelper.remapColor(e,a.getPatternColor()));n.putStringNotNullAndNotEmpty(t.SacTableConstants.LP_S_BORDER_COLOR,t.RenderThemingHelper.remapColor(e,a.getPatternBorderColor()))}}};t.GenericHiChartRenderer=function(){};t.GenericHiChartRenderer.prototype=new t.XObject;t.GenericHiChartRenderer.prototype._ff_c="GenericHiChartRenderer";t.GenericHiChartRenderer.CHART_JSON="ChartJson";t.GenericHiChartRenderer.MESSAGES="Messages";t.GenericHiChartRenderer.create=function(e){let a=new t.GenericHiChartRenderer;a.m_chartVisualization=e;return a};t.GenericHiChartRenderer.prototype.m_chartJson=null;t.GenericHiChartRenderer.prototype.m_chartVisualization=null;t.GenericHiChartRenderer.prototype.m_messages=null;t.GenericHiChartRenderer.prototype.m_resultObject=null;t.GenericHiChartRenderer.prototype.addCategoryTag=function(e,a){if(t.notNull(a)){let n=a.getParentChartDomain();let i=n.getCategories().getIndex(a);let s=n.getChartAxis();let r=e.putNewStructure(t.HighChartConstants.K_AXIS);r.putString(t.HighChartConstants.V_NAME,s.getName());let o=r.putNewStructure(t.HighChartConstants.V_CATEGORY);o.putString(t.HighChartConstants.V_NAME,a.getName());o.putInteger(t.HighChartConstants.V_INDEX,i)}};t.GenericHiChartRenderer.prototype.addSeriesGroupTag=function(e,a,n){let i=e.putNewStructure(t.HighChartConstants.V_SERIES_GROUP);i.putInteger(t.HighChartConstants.V_INDEX,n);i.putString(t.HighChartConstants.V_NAME,a.getName());this.addCategoryTag(i,a.getCategory())};t.GenericHiChartRenderer.prototype.addSeriesTag=function(e,a,n){let i=e.putNewStructure(t.HighChartConstants.V_SERIES);i.putInteger(t.HighChartConstants.V_INDEX,n);i.putString(t.HighChartConstants.V_NAME,a.getName());this.addCategoryTag(i,a.getCategory())};t.GenericHiChartRenderer.prototype.appendCategoryElements=function(e,a){if(t.notNull(a)){e.addAll(t.XStream.of(a.getCategoryElements()).filter(e=>t.XStringUtils.isNotNullAndNotEmpty(e.getHeaderText())).collect(t.XStreamCollector.toList()))}};t.GenericHiChartRenderer.prototype.buildAxes=function(e,a,n){let i=null;if(t.XCollectionUtils.hasElements(e)){let s=t.XStream.of(e).reduce(t.XIntegerValue.create(0),(e,a)=>t.XIntegerValue.create(t.XMath.max(e.getInteger(),t.XMath.max(a.getFrom(),a.getTo())))).getInteger();let r=e.size();if(r===1){i=this.m_chartJson.putNewStructure(a);this.buildAxis(a,0,e.get(0),i,s,n)}else{let t=this.m_chartJson.putNewList(a);for(let o=0;o<r;o++){i=t.addNewStructure();this.buildAxis(a,o,e.get(o),i,s,n)}}}return i};t.GenericHiChartRenderer.prototype.buildAxis=function(e,a,n,i,s,r){let o;t.GenericHighChartConverter.buildCustomAxisContent(i.putNewStructure(t.HighChartConstants.V_CUSTOM),e,a,n.getName());if(n.getAxisDomain().getAxisDomainType().isTypeOf(t.ChartAxisDomainType.CATEGORIAL)){let s=n.getAxisDomain().getAsCategorial();t.CategoricalAxisRenderer.create().renderCategoricalAxis(e,a,n.getName(),s,i);let o=r.getByKey(n.getName());t.GenericHighChartConverter.chartScrollBuilder(this.m_chartJson,this.m_chartVisualization,i,s,t.isNull(o)?1:o.getInteger())}else{let e=n.getAxisDomain();if(!this.isPercentageAxis(n)){if(e.getMax()>e.getMin()){if(e.getMin()<0){i.putDouble(t.HighChartConstants.K_MIN,e.getMin())}if(e.getMax()>0){i.putDouble(t.HighChartConstants.K_MAX,e.getMax())}}let a=this.m_chartVisualization.getChartType();if(a.isTypeOf(t.ChartVisualizationType.STACKED_BAR)||a.isTypeOf(t.ChartVisualizationType.STACKED_COLUMN)||a.isTypeOf(t.ChartVisualizationType.BAR_COLUMN_GROUP_STACK)){let e=i.putNewStructure(t.HighChartConstants.K_STACK_LABELS);let n=this.m_chartVisualization.getDistributionAxis().getAxisDomain().getAsCategorial().getCategories();let s=0;if(t.XCollectionUtils.hasElements(n)){let t=n.get(0);s=t.getUniqueDecimalPlaces();for(o=1;o<n.size();o++){t=n.get(o);if(s!==t.getUniqueDecimalPlaces()){s=0}}}let r=s<0?2:s;e.putString(t.HighChartConstants.K_FORMAT,t.XStringUtils.concatenate3("{total:,.",t.XInteger.convertToString(r),"f}"));e.putBoolean(t.HighChartConstants.K_ENABLED,true);if(a.isTypeOf(t.ChartVisualizationType.BAR)){let a=e.putNewStructure(t.HighChartConstants.K_STYLE);a.putString(t.HighChartConstants.K_COLOR,"rgb(88,89,91)");a.putString(t.HighChartConstants.K_FONT_SIZE,"12px");a.putString(t.HighChartConstants.K_FONT_STYLE,t.HighChartConstants.V_NORMAL);a.putString(t.HighChartConstants.K_FONT_WEIGHT,t.HighChartConstants.K_BOLD)}else if(a.isTypeOf(t.ChartVisualizationType.COLUMN)){e.putString(t.HighChartConstants.K_ALIGN,t.HighChartConstants.V_CENTER);e.putString(t.HighChartConstants.K_VERTICAL_ALIGN,t.HighChartConstants.V_POSITION_TOP);e.putInteger(t.HighChartConstants.K_Y,-20);e.putInteger(t.HighChartConstants.K_X,5)}else{e.putString(t.HighChartConstants.K_ALIGN,t.HighChartConstants.V_CENTER);e.putInteger(t.HighChartConstants.K_Y,-20)}}}}i.putNewStructure(t.HighChartConstants.K_TITLE).putString(t.HighChartConstants.K_TEXT,n.getText());i.putBoolean(t.HighChartConstants.K_OPPOSITE,n.isScaleOpposite());i.putInteger(t.HighChartConstants.K_GRID_LINE_WIDTH,n.getGridLineWidth());if(n.isScaleReversed()){i.putBoolean(t.HighChartConstants.K_REVERSED,n.isScaleReversed())}if(s>0){let e=t.XDoubleValue.create(s).getDouble();let a=t.XDoubleValue.create(n.getFrom()).getDouble();let r=t.XDoubleValue.create(n.getTo()).getDouble();let o=t.XStringUtils.concatenate2(t.XDouble.convertToString(100*(r-a)/e-2),"%");if(n.getPosition().isTypeOf(t.ChartVisualizationAxisPosition.X)){i.putString(t.HighChartConstants.V_POSITION_LEFT,t.XStringUtils.concatenate2(t.XDouble.convertToString(100*a/e+2),"%"));i.putString(t.HighChartConstants.K_WIDTH,o)}else if(n.getPosition().isTypeOf(t.ChartVisualizationAxisPosition.Y)){i.putString(t.HighChartConstants.V_POSITION_TOP,t.XStringUtils.concatenate2(t.XDouble.convertToString(100*(e-r)/e+2),"%"));i.putString(t.HighChartConstants.K_HEIGHT,o)}}i.putString(t.HighChartConstants.K_ID,n.getName());let l=n.getPlotBands();if(t.XCollectionUtils.hasElements(l)){let e=i.putNewList(t.HighChartConstants.K_PLOT_BANDS);for(o=0;o<l.size();o++){this.buildPlotBand(e.addNewStructure(),l.get(o))}}let C=n.getPlotLines();if(t.XCollectionUtils.hasElements(C)){let e=i.putNewList(t.HighChartConstants.K_PLOT_LINES);for(o=0;o<C.size();o++){this.buildPlotLine(e.addNewStructure(),C.get(o))}}return i};t.GenericHiChartRenderer.prototype.buildColorAxis=function(){if(this.m_chartVisualization.isUseColorAxis()){let e=this.m_chartJson.putNewStructure(t.HighChartConstants.K_COLOR_AXIS);this.decorateWithStyle(e,t.HighChartConstants.K_MIN_COLOR,this.m_chartVisualization.getMinColor());this.decorateWithStyle(e,t.HighChartConstants.K_MAX_COLOR,this.m_chartVisualization.getMaxColor())}};t.GenericHiChartRenderer.prototype.buildCoordinateSystems=function(){let e=this.m_chartVisualization.getCoordinateSystems();let a=this.m_chartJson.putNewList(t.HighChartConstants.K_SERIES);for(let t=0;t<e.size();t++){let n=e.get(t);let i=n.getSeriesGroups();for(let e=0;e<i.size();e++){let s=i.get(e);let r=s.getSeries();for(let i=0;i<r.size();i++){this.buildSeriesExt(t,e,i,a,n,s,r.get(i))}}}};t.GenericHiChartRenderer.prototype.buildDataPoint=function(e,a,n,i,s){let r=this.getFormattedCategoriesForTooltip(a);let o=this.getName(a);let l=e.addNewStructure();if(t.GenericHighChartConverter.isNestedPointChart(this.m_chartVisualization.getChartType())){let i=a.getCategory().getCategoryElements();let s=i.size();let r="";for(let a=0;a<s-1;a++){let s=i.get(a);let o=t.XStringUtils.concatenate3(r,":",s.getName());if(!n.contains(o)){let a=e.addNewStructure();a.putStringNotNullAndNotEmpty(t.HighChartConstants.K_PARENT,r);a.putStringNotNullAndNotEmpty(t.HighChartConstants.K_ID,o);a.putStringNotNullAndNotEmpty(t.HighChartConstants.K_NAME,s.getText());n.add(o)}r=o}let o=i.get(s-1);l.putStringNotNullAndNotEmpty(t.HighChartConstants.K_PARENT,r);l.putStringNotNullAndNotEmpty(t.HighChartConstants.K_ID,t.XStringUtils.concatenate3(r,":",o.getName()));l.putStringNotNullAndNotEmpty(t.HighChartConstants.K_NAME,o.getText())}else if(t.XStringUtils.isNullOrEmpty(o)&&(this.m_chartVisualization.getChartType().isEqualTo(t.ChartVisualizationType.PIE)||this.m_chartVisualization.getChartType().isEqualTo(t.ChartVisualizationType.DOUGHNUT))){this.m_messages.addString(t.GenericHiChartRendererMessages.NO_CHART_FOR_CURRENT_SELECTION)}else{l.putString(t.HighChartConstants.K_NAME,o)}l.putStringNotNullAndNotEmpty(t.GenericHighChartConverter.FORMATTED_CATEGORIES,r);if(!this.m_chartVisualization.isUseColorAxis()){this.decorateWithStyle(l,t.HighChartConstants.K_COLOR,a.getEffectiveStyle())}let C=a.getCoordinates();for(let e=0;e<C.size();e++){let n=C.get(e);let r=n.getValue();let o=t.GenericHighChartConverter.getCoordinateName(this.m_chartVisualization.getChartType(),n.getName());if(r.getValueType().isNumber()){let e=t.XValueUtil.getDouble(r,false,true);if(t.XString.isEqual(n.getName(),t.GenericHighChartConverter.getPieAndDoughnutVisualizationValueType())){e=e<0?e*-1:e}l.putDouble(o,e)}else if(a.isEmptyValue()){l.putNull(o)}else{l.putString(o,t.XValueUtil.getString(r))}let _=n.getFullFormattedText();let g=s?n.getFormattedText():_;let u=n.getHeading();if(t.XStringUtils.isNotNullAndNotEmpty(g)&&t.XStringUtils.isNotNullAndNotEmpty(_)&&t.XStringUtils.isNotNullAndNotEmpty(u)){l.putString(t.XStringUtils.concatenate2(o,t.GenericHighChartConverter.FULL_FORMATTING_SUFFIX),_);l.putString(t.XStringUtils.concatenate2(o,t.GenericHighChartConverter.FORMATTING_SUFFIX),g);l.putString(t.XStringUtils.concatenate2(o,t.GenericHighChartConverter.HEADING_SUFFIX),u);if(!i.contains(o)){i.add(o)}}}return l};t.GenericHiChartRenderer.prototype.buildPlotBand=function(e,a){e.putDouble(t.HighChartConstants.K_FROM,a.getFrom());e.putDouble(t.HighChartConstants.K_TO,a.getTo());e.putDouble(t.HighChartConstants.K_BORDER_WIDTH,a.getBorderWidth());e.putStringNotNullAndNotEmpty(t.HighChartConstants.K_COLOR,a.getColor());e.putStringNotNullAndNotEmpty(t.HighChartConstants.K_BORDER_COLOR,a.getBorderColor());let n=e.putNewStructure(t.HighChartConstants.K_LABEL);n.putStringNotNullAndNotEmpty(t.HighChartConstants.K_TEXT,a.getText())};t.GenericHiChartRenderer.prototype.buildPlotLine=function(e,a){e.putDouble(t.HighChartConstants.K_VALUE,a.getValue());e.putDouble(t.HighChartConstants.K_WIDTH,a.getWidth());e.putStringNotNullAndNotEmpty(t.HighChartConstants.K_COLOR,a.getColor());e.putStringNotNullAndNotEmpty(t.HighChartConstants.K_DASH_STYLE,a.getDashStyle());e.putDouble(t.HighChartConstants.K_Z_INDEX,6);let n=e.putNewStructure(t.HighChartConstants.K_LABEL);n.putStringNotNullAndNotEmpty(t.HighChartConstants.K_TEXT,a.getText())};t.GenericHiChartRenderer.prototype.buildSeriesExt=function(e,a,n,i,s,r,o){let l=o.getChartDataPoints();if(this.m_chartVisualization.getChartType().isTypeOf(t.ChartVisualizationType.BAR_COLUMN)&&t.XStream.of(l).anyMatch(t=>t.hasStylingCategories())){let C=t.XLinkedHashMapByString.create();for(let e=0;e<l.size();e++){let a=l.get(e);let n=a.getStylingCategories();let i=t.XCollectionUtils.join(t.XStream.of(n).filterNullValues().collect(t.XStreamCollector.toListOfString(t=>t.getName())),":");if(!C.containsKey(i)){C.put(i,t.XList.create())}C.getByKey(i).add(t.XIntegerValue.create(e))}let _=C.getKeysAsIterator();while(_.hasNext()){let t=_.next();let l=C.getByKey(t);this.buildSeriesWithIndex(i.addNewStructure(),e,a,n,s,r,o,l,o.getChartDataPoints().get(l.get(0).getInteger()).getStylingCategories())}}else{this.buildSeriesWithIndex(i.addNewStructure(),e,a,n,s,r,o,null,null)}};t.GenericHiChartRenderer.prototype.buildSeriesWithIndex=function(e,a,n,i,s,r,o,l,C){let _=t.XList.create();if(t.XCollectionUtils.hasElements(C)){_.addAll(C)}_.add(r.getCategory());_.add(o.getCategory());let g=this.extractSeriesHeadingFromCategory(_);let u=t.XStream.of(_).filterNullValues().anyMatch(t=>t.hasEffectiveUnitScaleInformation());let S=o.getEffectiveStyleWithCategories(C);this.decorateWithStyle(e,t.HighChartConstants.K_COLOR,S);let T=o.getChartDataPoints();let h=e.putNewStructure(t.HighChartConstants.V_CUSTOM);let c;if(s.getXAxisReference()!==null&&!s.getXAxisReference().isHidden()){c=s.getXAxisReference();e.putString(t.HighChartConstants.K_X_AXIS,c.getName());t.GenericHighChartConverter.buildCustomAxisContent(h,t.HighChartConstants.K_X_AXIS,this.m_chartVisualization.getXAxes().getIndex(c),c.getName())}if(s.getYAxisReference()!==null&&!s.getYAxisReference().isHidden()){c=s.getYAxisReference();e.putString(t.HighChartConstants.K_Y_AXIS,c.getName());t.GenericHighChartConverter.buildCustomAxisContent(h,t.HighChartConstants.K_Y_AXIS,this.m_chartVisualization.getYAxes().getIndex(c),c.getName())}this.addSeriesGroupTag(h,r,n);this.addSeriesTag(h,o,i);e.putString(t.HighChartConstants.K_NAME,g);e.putStringNotNullAndNotEmpty(t.HighChartConstants.K_STACK,r.getName());e.putStringNotNullAndNotEmpty(t.HighChartConstants.K_TYPE,t.GenericHighChartConverter.getChartTypeStringWithFallback(r.getChartType(),this.m_chartVisualization.getChartType()));e.putStringNotNullAndNotEmpty(t.HighChartConstants.K_INNER_SIZE,t.GenericHighChartConverter.getInnerRadius(r.getChartType(),this.m_chartVisualization.getChartType()));e.putBoolean(t.HighChartConstants.K_SHOW_IN_LEGEND,true);e.putStringNotNullAndNotEmpty(t.HighChartConstants.K_STACKING,t.GenericHighChartConverter.getStackingType(r.getName(),r.getStackingType(),r.getChartType(),this.m_chartVisualization.getChartType()));let I=e.putNewList(t.HighChartConstants.K_DATA);if(t.GenericHighChartConverter.needsDirectDataLabels(this.m_chartVisualization.getChartType())){let a=e.putNewStructure(t.HighChartConstants.K_DATA_LABELS);a.putString(t.HighChartConstants.K_POINT_FORMAT,"{point.valueFormatted}");a.putBoolean(t.HighChartConstants.K_ENABLED,true)}if(t.GenericHighChartConverter.isNestedPointChart(this.m_chartVisualization.getChartType())){let a=e.putNewList(t.HighChartConstants.K_LEVELS);let n=a.addNewStructure();n.putInteger(t.HighChartConstants.K_LEVEL,1);n.putInteger(t.HighChartConstants.K_BORDER_WIDTH,6);let i=n.putNewStructure(t.HighChartConstants.K_DATA_LABELS);i.putBoolean(t.HighChartConstants.K_ENABLED,true);i.putString(t.HighChartConstants.K_FORMAT,"<div>{point.name}</div><br/>");i.putString(t.HighChartConstants.K_ALIGN,t.HighChartConstants.V_LEFT);i.putString(t.HighChartConstants.K_VERTICAL_ALIGN,t.HighChartConstants.V_POSITION_TOP);let s=i.putNewStructure(t.HighChartConstants.K_STYLE);s.putString(t.HighChartConstants.K_FONT_SIZE,"14px");let r=a.addNewStructure();r.putInteger(t.HighChartConstants.K_LEVEL,2);let o=r.putNewStructure(t.HighChartConstants.K_DATA_LABELS);o.putBoolean(t.HighChartConstants.K_ENABLED,true);o.putString(t.HighChartConstants.K_FORMAT,"<div>{point.name}</div><br/><div>{point.valueFormatted}</div >")}let E=t.XHashSetOfString.create();let A=t.XList.create();if(!this.m_chartVisualization.getChartType().isAllowsPositiveAndNegativeValuesMix()&&o.doesCoordinateHavePositiveAndNegativeValues(t.GenericHighChartConverter.getPieAndDoughnutVisualizationValueType())){this.m_messages.addString(t.GenericHiChartRendererMessages.POSITIVE_NEGATIVE_ERROR);return}for(let e=0;e<T.size();e++){let a=T.get(e);if(t.notNull(a)&&(t.isNull(l)||l.contains(t.XIntegerValue.create(e)))){let e=this.buildDataPoint(I,a,E,A,u);h=e.putNewStructure(t.HighChartConstants.V_CUSTOM);this.addSeriesGroupTag(h,r,n);this.addSeriesTag(h,o,i);this.addCategoryTag(h.putNewStructure(t.HighChartConstants.V_DATA_POINT),a.getCategory())}else if(t.GenericHighChartConverter.needsNullDataPoints(this.m_chartVisualization.getChartType())){I.addNewStructure()}}let p=t.XStringBuffer.create();p.append("{point.");p.append(t.GenericHighChartConverter.FORMATTED_CATEGORIES);p.append("}");for(let e=0;e<A.size();e++){let a=A.get(e);p.append("<b>{point.");p.append(a);p.append(t.GenericHighChartConverter.HEADING_SUFFIX);p.append("}</b>: {point.");p.append(a);p.append(t.GenericHighChartConverter.FULL_FORMATTING_SUFFIX);p.append("}")}let N=e.putNewStructure(t.HighChartConstants.K_TOOLTIP);N.putString(t.HighChartConstants.K_POINT_FORMAT,p.toString());N.putString(t.HighChartConstants.K_HEADER_FORMAT,"")};t.GenericHiChartRenderer.prototype.buildTitle=function(){let e=this.m_chartVisualization.getTitle();let a=this.m_chartVisualization.getSubtitle();if(t.notNull(e)){let a=this.m_chartJson.putNewStructure(t.HighChartConstants.K_TITLE);a.putString(t.HighChartConstants.K_TEXT,e);a.putString(t.HighChartConstants.K_ALIGN,t.HighChartConstants.V_LEFT)}if(t.notNull(a)){let e=this.m_chartJson.putNewStructure(t.HighChartConstants.K_SUBTITLE);e.putString(t.HighChartConstants.K_TEXT,a);e.putString(t.HighChartConstants.K_ALIGN,t.HighChartConstants.V_LEFT)}};t.GenericHiChartRenderer.prototype.buildXAxes=function(e){let a=this.buildAxes(this.m_chartVisualization.getXAxes(),t.HighChartConstants.K_X_AXIS,e);if(t.notNull(a)){let e=a.putNewStructure(t.HighChartConstants.K_LABELS);let n=e.putNewStructure(t.HighChartConstants.K_GROUPED_OPTIONS);let i=n.putNewStructure(t.HighChartConstants.K_STYLE);i.putInteger(t.HighChartConstants.K_WIDTH,10)}};t.GenericHiChartRenderer.prototype.buildYAxes=function(e){this.buildAxes(this.m_chartVisualization.getYAxes(),t.HighChartConstants.K_Y_AXIS,e)};t.GenericHiChartRenderer.prototype.buildZAxes=function(e){this.buildAxes(this.m_chartVisualization.getZAxes(),t.HighChartConstants.K_Z_AXIS,e)};t.GenericHiChartRenderer.prototype.decorateGroupsPerAxis=function(e,a,n){if(!e.containsKey(a)){e.put(a,t.XIntegerValue.create(n))}else{e.put(a,t.XIntegerValue.create(n+e.getByKey(a).getInteger()))}};t.GenericHiChartRenderer.prototype.decorateWithStyle=function(e,a,n){let i=n.getPattern();let s=n.getCustomPattern();let r=n.getShape();let o=n.getCustomShape();let l=n.getLineStyle();if(t.isNull(i)&&t.isNull(s)||i===t.VisualizationBackgroundPatternType.SOLID){e.putStringNotNullAndNotEmpty(a,n.getColor())}else if(i===t.VisualizationBackgroundPatternType.NOFILL){e.putString(a,"#ffffff")}else{let r=e.putNewStructure(a);let o=r.putNewStructure(t.HighChartConstants.K_PATTERN);o.putStringNotNullAndNotEmpty(t.HighChartConstants.K_COLOR,n.getColor());if(t.notNull(i)){let e=t.GenericHighChartConverter.getChartHatchingSize(i);o.putInteger(t.HighChartConstants.K_WIDTH,e);o.putInteger(t.HighChartConstants.K_HEIGHT,e);o.putString(t.HighChartConstants.K_PATH,t.GenericHighChartConverter.getChartHatchingPath(i))}else{o.putString(t.HighChartConstants.K_PATH,s)}}e.putStringNotNullAndNotEmpty(t.HighChartConstants.K_DASH_STYLE,t.GenericHighChartConverter.getDashStyleString(l));if(t.notNull(r)||t.notNull(o)){let a=e.putNewStructure(t.HighChartConstants.K_MARKER);if(t.notNull(r)){a.putStringNotNullAndNotEmpty(t.HighChartConstants.K_SYMBOL,t.GenericHighChartConverter.getShapeName(r))}else{a.putStringNotNullAndNotEmpty(t.HighChartConstants.K_SYMBOL,o)}}};t.GenericHiChartRenderer.prototype.extractSeriesHeadingFromCategory=function(e){let a=t.XList.create();let n=t.XList.create();for(let i=0;i<e.size();i++){let s=e.get(i);if(t.isNull(s)){continue}let r=s.getEffectiveUnitScaleInformation();if(t.XStringUtils.isNotNullAndNotEmpty(r)){n.add(r)}let o=s.getCategoryElements();for(let t=0;t<o.size();t++){let e=o.get(t);let n=e.getText();if(!a.contains(n)){a.add(n)}}}let i=t.XCollectionUtils.join(a,t.HighChartConstants.V_HEADING_CATEGORY_SEPARATOR);if(t.XCollectionUtils.hasElements(n)){i=t.XStringUtils.concatenate4(i,t.HighChartConstants.V_HEADING_UNIT_INFO_PREFIX,t.XCollectionUtils.join(n,t.HighChartConstants.V_HEADING_CATEGORY_SEPARATOR),t.HighChartConstants.V_HEADING_UNIT_INFO_SUFFIX)}return i};t.GenericHiChartRenderer.prototype.getChartJson=function(){return this.m_chartJson};t.GenericHiChartRenderer.prototype.getFormattedCategoriesForTooltip=function(e){let a=t.XStringBuffer.create();let n=t.XList.create();this.appendCategoryElements(n,e.getCategory());this.appendCategoryElements(n,e.getParentSeries().getCategory());this.appendCategoryElements(n,e.getParentSeries().getParentSeriesGroup().getCategory());if(t.XCollectionUtils.hasElements(n)){let e=0;while(e<n.size()&&t.XStringUtils.isNullOrEmpty(n.get(e).getHeaderText())){e++}let i="";let s="";if(e<n.size()){i=n.get(e).getHeaderText();a.append("<b>");a.append(i);a.append("</b>");a.append(": ");a.append(n.get(e).getText());s=i}for(;e<n.size();e++){let r=n.get(e);i=r.getHeaderText();if(t.XString.isEqual(i,s)){a.append(" / ");a.append(r.getText())}else if(t.XStringUtils.isNotNullAndNotEmpty(i)){a.append("<br/><b>");a.append(i);a.append("</b>: ");a.append(r.getText())}s=i}}if(a.length()>0){a.append("<br/>")}return a.toString()};t.GenericHiChartRenderer.prototype.getGroupsPerAxis=function(){let e=t.XHashMapByString.create();let a=this.m_chartVisualization.getCoordinateSystems();for(let t=0;t<a.size();t++){let n=a.get(t);let i=n.getSeriesGroups().size();this.decorateGroupsPerAxis(e,n.getXAxisReference().getName(),i);this.decorateGroupsPerAxis(e,n.getYAxisReference().getName(),i)}return e};t.GenericHiChartRenderer.prototype.getName=function(e){let a=t.XStringBuffer.create();let n=t.XList.create();this.appendCategoryElements(n,e.getCategory());this.appendCategoryElements(n,e.getParentSeries().getCategory());this.appendCategoryElements(n,e.getParentSeries().getParentSeriesGroup().getCategory());if(t.XCollectionUtils.hasElements(n)){for(let t=0;t<n.size();t++){let e=n.get(t);a.append(e.getText());if(t<n.size()-1){a.append(" / ")}}}return a.toString()};t.GenericHiChartRenderer.prototype.isPercentageAxis=function(e){return t.XStream.of(this.m_chartVisualization.getCoordinateSystems()).filter(t=>t.getXAxisReference()===e||t.getYAxisReference()===e).allMatch(e=>t.XStream.of(e.getSeriesGroups()).allMatch(e=>e.getStackingType()===t.ChartVisualizationStackingType.PERCENT))};t.GenericHiChartRenderer.prototype.needsPercentageLabels=function(){return this.m_chartVisualization.getChartType()===t.ChartVisualizationType.PIE||this.m_chartVisualization.getChartType()===t.ChartVisualizationType.DOUGHNUT||t.XStream.of(this.m_chartVisualization.getCoordinateSystems()).anyMatch(e=>t.XStream.of(e.getSeriesGroups()).anyMatch(e=>e.getStackingType()===t.ChartVisualizationStackingType.PERCENT))};t.GenericHiChartRenderer.prototype.releaseObject=function(){this.m_chartVisualization=null;this.m_messages=t.XObjectExt.release(this.m_messages);this.m_chartJson=t.XObjectExt.release(this.m_chartJson);this.m_resultObject=t.XObjectExt.release(this.m_resultObject);t.XObject.prototype.releaseObject.call(this)};t.GenericHiChartRenderer.prototype.render=function(){this.m_resultObject=t.PrFactory.createStructure();this.m_chartJson=this.m_resultObject.putNewStructure(t.GenericHiChartRenderer.CHART_JSON);this.m_messages=this.m_resultObject.putNewList(t.GenericHiChartRenderer.MESSAGES);let e=this.m_chartJson.putNewStructure(t.HighChartConstants.K_CHART);e.putInteger(t.HighChartConstants.K_MARGIN_TOP,50);if(this.m_chartVisualization.isInverted()&&this.m_chartVisualization.getChartType()!==t.ChartVisualizationType.BAR){e.putBoolean(t.HighChartConstants.K_INVERTED,true)}e.putBoolean(t.HighChartConstants.K_POLAR,this.m_chartVisualization.isPolar());let a=t.GenericHighChartConverter.getChartTypeString(this.m_chartVisualization.getChartType());e.putString(t.HighChartConstants.K_TYPE,a);let n=50;let i=50;let s=50;let r=50;let o=e.putNewList(t.HighChartConstants.K_SPACING);o.addInteger(n);o.addInteger(i);o.addInteger(s);o.addInteger(r);if(this.m_chartVisualization.getChartType().isTypeOf(t.ChartVisualizationType.BAR)){e.putInteger(t.HighChartConstants.K_MARGIN_LEFT,200)}e.putBoolean(t.HighChartConstants.K_ANIMATION,false);let l=this.m_chartJson.putNewStructure(t.HighChartConstants.K_LANG);l.putString(t.HighChartConstants.K_DECIMAL_POINT,",");l.putString(t.HighChartConstants.K_THOUSANDS_SEP,".");let C=this.m_chartVisualization.getBackgroundColor();if(t.XStringUtils.isNullOrEmpty(C)){C="rgba(0,0,0,0)"}e.putString(t.HighChartConstants.K_BACKGROUND_COLOR,C);let _=e.putNewStructure(t.HighChartConstants.K_STYLE);_.putString(t.HighChartConstants.K_FONT_FAMILY,"LatoWeb, 'Open Sans', 'Helvetica Neue', Helvetica, Arial, 'sans serif'");let g=this.m_chartJson.putNewStructure(t.HighChartConstants.K_BOOST);let u=this.m_chartJson.putNewStructure(t.HighChartConstants.K_CREDITS);u.putBoolean(t.HighChartConstants.K_ENABLED,false);g.putBoolean(t.HighChartConstants.K_USER_GPU_TRANSLATIONS,true);this.buildTitle();let S=this.getGroupsPerAxis();this.buildXAxes(S);this.buildYAxes(S);this.buildZAxes(S);this.buildColorAxis();this.buildCoordinateSystems();t.GenericHighChartConverter.responsiveBuilder(a,this.m_chartJson);t.GenericHighChartConverter.chartPlotBuilder(this.m_chartJson,a,this.needsPercentageLabels());t.GenericHighChartConverter.chartTitleBuilder(this.m_chartJson,"","");t.GenericHighChartConverter.chartLegendBuilder(this.m_chartJson);return this.m_resultObject};t.GenericHiChartRenderer.prototype.setChartConfigration=function(t){};t.GenericHiChartRendererMessages={NO_CHART_FOR_CURRENT_SELECTION:"NO_CHART_FOR_CURRENT_SELECTION",POSITIVE_NEGATIVE_ERROR:"POSITIVE_NEGATIVE"};t.GenericHighChartConverter={COORDINATE_COLOR:"colorValue",COORDINATE_VALUE:"value",COORDINATE_X:"x",COORDINATE_Y:"y",COORDINATE_Z:"z",FORMATTED_CATEGORIES:"formattedCategories",FORMATTING_SUFFIX:"Formatted",FULL_FORMATTING_SUFFIX:"FormattedFull",HEADING_SUFFIX:"Heading",VISUALIZATION_CATEGORY_AXIS:"CategoryAxis",VISUALIZATION_CATEGORY_AXIS2:"CategoryAxis2",VISUALIZATION_VALUE_TYPE_COLOR:"Color",VISUALIZATION_VALUE_TYPE_SIZE:"Size",VISUALIZATION_VALUE_TYPE_VALUE:"Value",VISUALIZATION_VALUE_TYPE_VALUE_B:"ValueB",VISUALIZATION_VALUE_TYPE_VALUE_C:"ValueC",buildCustomAxisContent:function(e,a,n,i){let s=e.putNewStructure(t.HighChartConstants.K_AXIS);s.putString(t.HighChartConstants.K_TYPE,a);s.putInteger(t.HighChartConstants.V_INDEX,n);s.putString(t.HighChartConstants.V_NAME,i);return s},buildCustomCategoryElement:function(e,a,n){e.putInteger(t.HighChartConstants.V_INDEX,a);e.putString(t.HighChartConstants.V_NAME,n)},buildCustomCategoryWithElement:function(e,a,n,i,s){e.putInteger(t.HighChartConstants.V_INDEX,a);e.putString(t.HighChartConstants.V_NAME,n);t.GenericHighChartConverter.buildCustomCategoryElement(e.putNewStructure(t.HighChartConstants.V_CATEGORY_ELEMENT),i,s)},chartLegendBuilder:function(e){let a=e.putNewStructure(t.HighChartConstants.K_LEGEND);a.putBoolean(t.HighChartConstants.K_ENABLED,true);a.putInteger(t.HighChartConstants.K_SYMBOL_RADIUS,0);a.putString(t.HighChartConstants.K_LAYOUT,t.HighChartConstants.V_VERTICAL);a.putString(t.HighChartConstants.K_ALIGN,t.HighChartConstants.V_RIGHT);a.putString(t.HighChartConstants.K_VERTICAL_ALIGN,t.HighChartConstants.V_POSITION_TOP);a.putBoolean(t.HighChartConstants.K_SQUARE_SYMBOL,true);let n=a.putNewStructure(t.HighChartConstants.K_ITEM_STYLE);n.putString(t.HighChartConstants.K_FONT_SIZE,"12px");n.putString(t.HighChartConstants.K_FONT_WEIGHT,t.HighChartConstants.V_NORMAL);n.putString(t.HighChartConstants.K_FONT_SIZE,"12px");n.putInteger(t.HighChartConstants.K_WIDTH,150);n.putString(t.HighChartConstants.K_TEXT_OVERFLOW,"ellipsis");let i=a.putNewStructure(t.HighChartConstants.K_ITEM_HOVER_STYLE);i.putString(t.HighChartConstants.K_CURSOR_STYLE,"default")},chartPlotBuilder:function(e,a,n){let i=true;let s=e.getStructureByKey(t.HighChartConstants.K_PLOT_OPTIONS);if(t.isNull(s)){s=e.putNewStructure(t.HighChartConstants.K_PLOT_OPTIONS)}let r=s.putNewStructure(t.HighChartConstants.K_SERIES);r.putInteger(t.HighChartConstants.K_CROP_THRESHOLD,1e3);r.putBoolean(t.HighChartConstants.K_ANIMATION,false);let o=s.putNewStructure(a);if(t.XString.isEqual(a,t.HighChartConstants.K_PIE)){let e=o.putNewStructure(t.HighChartConstants.K_STATES);let a=e.putNewStructure(t.HighChartConstants.K_SELECT);a.putBoolean(t.HighChartConstants.K_ENABLED,true);a.putString(t.HighChartConstants.K_COLOR,"#c0c0c0")}o.putBoolean(t.HighChartConstants.K_GROUPING,true);let l=o.putNewStructure(t.HighChartConstants.K_DATA_LABELS);l.putBoolean(t.HighChartConstants.K_ENABLED,i);if(n){l.putString(t.HighChartConstants.K_FORMAT,"{point.percentage:.2f} %")}else{l.putString(t.HighChartConstants.K_FORMAT,"{point.yFormatted} ")}let C=l.putNewStructure(t.HighChartConstants.K_STYLE);C.putString(t.HighChartConstants.K_FONT_WEIGHT,t.HighChartConstants.V_FONT_WEIGHT_BOLD);C.putString(t.HighChartConstants.K_FONT_FAMILY,"LatoWeb, 'Open Sans', 'Helvetica Neue', Helvetica, Arial, 'sans serif'");C.putString(t.HighChartConstants.K_FONT_SIZE,"12px");C.putString(t.HighChartConstants.K_COLOR,"rgb(88,89,91)")},chartScrollBuilder:function(e,a,n,i,s){if(a.getChartType().isTypeOf(t.ChartVisualizationType.ABSTRACT_SERIES)){let a=i.getCategories().size();let s=e.getStructureByKey(t.HighChartConstants.K_SCROLL_BAR);if(t.isNull(s)){s=e.putNewStructure(t.HighChartConstants.K_SCROLL_BAR)}if(a>t.HighChartConstants.X_LIMIT){n.putInteger(t.HighChartConstants.K_MAX,t.HighChartConstants.X_LIMIT);s.putBoolean(t.HighChartConstants.K_ENABLED,true)}else{s.putBoolean(t.HighChartConstants.K_ENABLED,false);n.putInteger(t.HighChartConstants.K_MAX,a-1)}}},chartTitleBuilder:function(e,a,n){if(t.notNull(a)){let n=e.putNewStructure(t.HighChartConstants.K_TITLE);n.putString(t.HighChartConstants.K_TEXT,a);n.putString(t.HighChartConstants.K_ALIGN,t.HighChartConstants.V_LEFT)}if(t.notNull(n)){let a=e.putNewStructure(t.HighChartConstants.K_SUBTITLE);a.putString(t.HighChartConstants.K_TEXT,n);a.putString(t.HighChartConstants.K_ALIGN,t.HighChartConstants.V_LEFT)}},getChartHatchingPath:function(e){let a=null;if(e===t.VisualizationBackgroundPatternType.HATCHIING_1){a=t.HighChartConstants.V_PATTERN_PATH_HATCHING1}else if(e===t.VisualizationBackgroundPatternType.HATCHIING_2){a=t.HighChartConstants.V_PATTERN_PATH_HATCHING2}else if(e===t.VisualizationBackgroundPatternType.HATCHIING_3){a=t.HighChartConstants.V_PATTERN_PATH_HATCHING3}else if(e===t.VisualizationBackgroundPatternType.HATCHIING_4){a=t.HighChartConstants.V_PATTERN_PATH_HATCHING4}else if(e===t.VisualizationBackgroundPatternType.HATCHIING_5){a=t.HighChartConstants.V_PATTERN_PATH_HATCHING5}else if(e===t.VisualizationBackgroundPatternType.HATCHIING_6){a=t.HighChartConstants.V_PATTERN_PATH_HATCHING6}else if(e===t.VisualizationBackgroundPatternType.HATCHIING_7){a=t.HighChartConstants.V_PATTERN_PATH_HATCHING7}else if(e===t.VisualizationBackgroundPatternType.HATCHIING_8){a=t.HighChartConstants.V_PATTERN_PATH_HATCHING8}return a},getChartHatchingSize:function(e){let a=0;if(e===t.VisualizationBackgroundPatternType.HATCHIING_1){a=t.HighChartConstants.V_PATTERN_SIZE_HATCHING1}else if(e===t.VisualizationBackgroundPatternType.HATCHIING_2){a=t.HighChartConstants.V_PATTERN_SIZE_HATCHING2}else if(e===t.VisualizationBackgroundPatternType.HATCHIING_3){a=t.HighChartConstants.V_PATTERN_SIZE_HATCHING3}else if(e===t.VisualizationBackgroundPatternType.HATCHIING_4){a=t.HighChartConstants.V_PATTERN_SIZE_HATCHING4}else if(e===t.VisualizationBackgroundPatternType.HATCHIING_5){a=t.HighChartConstants.V_PATTERN_SIZE_HATCHING5}else if(e===t.VisualizationBackgroundPatternType.HATCHIING_6){a=t.HighChartConstants.V_PATTERN_SIZE_HATCHING6}else if(e===t.VisualizationBackgroundPatternType.HATCHIING_7){a=t.HighChartConstants.V_PATTERN_SIZE_HATCHING7}else if(e===t.VisualizationBackgroundPatternType.HATCHIING_8){a=t.HighChartConstants.V_PATTERN_SIZE_HATCHING8}return a},getChartTypeString:function(e){let a=t.isNull(e)?"None":t.XString.toLowerCase(e.getName());if(e.isTypeOf(t.ChartVisualizationType.BAR)){a=t.HighChartConstants.V_CHART_TYPE_BAR}else if(e.isTypeOf(t.ChartVisualizationType.COLUMN)){a=t.HighChartConstants.V_CHART_TYPE_COLUMN}else if(e.isTypeOf(t.ChartVisualizationType.PIE)||e.isTypeOf(t.ChartVisualizationType.DOUGHNUT)){a=t.HighChartConstants.V_TYPE_CHART_PIE}else if(e.isTypeOf(t.ChartVisualizationType.SCATTER_PLOT)){a=t.HighChartConstants.K_SCATTER}return a},getChartTypeStringWithFallback:function(e,a){return t.GenericHighChartConverter.getChartTypeString(t.isNull(e)?a:e)},getCoordinateName:function(e,a){if(e.isTypeOf(t.ChartVisualizationType.BAR_COLUMN)||e.isTypeOf(t.ChartVisualizationType.BAR_COLUMN_GROUP_STACK)||e.isTypeOf(t.ChartVisualizationType.AREA)||e.isTypeOf(t.ChartVisualizationType.LINE)||e.isTypeOf(t.ChartVisualizationType.SPLINE)){if(t.XString.isEqual(a,t.GenericHighChartConverter.VISUALIZATION_VALUE_TYPE_VALUE)||t.XString.isEqual(a,t.GenericHighChartConverter.VISUALIZATION_VALUE_TYPE_VALUE_B)||t.XString.isEqual(a,t.GenericHighChartConverter.VISUALIZATION_VALUE_TYPE_VALUE_C)){return t.GenericHighChartConverter.COORDINATE_Y}}else if(e.isTypeOf(t.ChartVisualizationType.PIE)||e.isTypeOf(t.ChartVisualizationType.DOUGHNUT)){if(t.XString.isEqual(a,t.GenericHighChartConverter.VISUALIZATION_VALUE_TYPE_SIZE)){return t.GenericHighChartConverter.COORDINATE_Y}}else if(e.isTypeOf(t.ChartVisualizationType.SCATTER_PLOT)||e.isTypeOf(t.ChartVisualizationType.BUBBLE)){if(t.XString.isEqual(a,t.GenericHighChartConverter.VISUALIZATION_VALUE_TYPE_VALUE)){return t.GenericHighChartConverter.COORDINATE_X}if(t.XString.isEqual(a,t.GenericHighChartConverter.VISUALIZATION_VALUE_TYPE_VALUE_B)){return t.GenericHighChartConverter.COORDINATE_Y}if(t.XString.isEqual(a,t.GenericHighChartConverter.VISUALIZATION_VALUE_TYPE_VALUE_C)||t.XString.isEqual(a,t.GenericHighChartConverter.VISUALIZATION_VALUE_TYPE_SIZE)){return t.GenericHighChartConverter.COORDINATE_Z}}else if(e.isTypeOf(t.ChartVisualizationType.PACKED_BUBBLE)||e.isTypeOf(t.ChartVisualizationType.TREE_MAP)){if(t.XString.isEqual(a,t.GenericHighChartConverter.VISUALIZATION_VALUE_TYPE_VALUE)||t.XString.isEqual(a,t.GenericHighChartConverter.VISUALIZATION_VALUE_TYPE_SIZE)){return t.GenericHighChartConverter.COORDINATE_VALUE}}if(e.isTypeOf(t.ChartVisualizationType.HEAT_MAP)){if(t.XString.isEqual(a,t.GenericHighChartConverter.VISUALIZATION_VALUE_TYPE_VALUE)||t.XString.isEqual(a,t.GenericHighChartConverter.VISUALIZATION_VALUE_TYPE_SIZE)){return t.GenericHighChartConverter.COORDINATE_VALUE}if(t.XString.isEqual(a,t.GenericHighChartConverter.VISUALIZATION_CATEGORY_AXIS)){return t.GenericHighChartConverter.COORDINATE_Y}if(t.XString.isEqual(a,t.GenericHighChartConverter.VISUALIZATION_CATEGORY_AXIS2)){return t.GenericHighChartConverter.COORDINATE_X}}if(t.XString.isEqual(a,t.GenericHighChartConverter.VISUALIZATION_VALUE_TYPE_COLOR)){return t.GenericHighChartConverter.COORDINATE_COLOR}return a},getDashStyleString:function(e){let a=null;if(e===t.ChartVisualizationLineStyle.SOLID){a=t.HighChartConstants.V_LINE_SOLID}else if(e===t.ChartVisualizationLineStyle.SHORT_DASH){a=t.HighChartConstants.V_LINE_SHORT_DASH}else if(e===t.ChartVisualizationLineStyle.SHORT_DOT){a=t.HighChartConstants.V_LINE_SHORT_DOT}else if(e===t.ChartVisualizationLineStyle.SHORT_DASH_DOT){a=t.HighChartConstants.V_LINE_SHORT_DASH_DOT}else if(e===t.ChartVisualizationLineStyle.SHORT_DASH_DOT_DOT){a=t.HighChartConstants.V_LINE_SHORT_DASH_DOT_DOT}else if(e===t.ChartVisualizationLineStyle.DOT){a=t.HighChartConstants.V_LINE_DOT}else if(e===t.ChartVisualizationLineStyle.DASH){a=t.HighChartConstants.V_LINE_DASH}else if(e===t.ChartVisualizationLineStyle.LONG_DASH){a=t.HighChartConstants.V_LINE_LONG_DASH}else if(e===t.ChartVisualizationLineStyle.DASH_DOT){a=t.HighChartConstants.V_LINE_DASH_DOT}else if(e===t.ChartVisualizationLineStyle.LONG_DASH_DOT){a=t.HighChartConstants.V_LINE_LONG_DASH_DOT}else if(e===t.ChartVisualizationLineStyle.LONG_DASH_DOT_DOT){a=t.HighChartConstants.V_LINE_LONG_DASH_DOT_DOT}return a},getInnerRadius:function(e,a){let n=t.isNull(e)?a:e;let i=null;if(n===t.ChartVisualizationType.DOUGHNUT){i="50%"}return i},getPieAndDoughnutVisualizationValueType:function(){return t.GenericHighChartConverter.VISUALIZATION_VALUE_TYPE_SIZE},getShapeName:function(e){let a=null;if(e===t.VisualizationChartPointShape.CIRCLE){a=t.HighChartConstants.V_SYMBOL_CIRCLE}else if(e===t.VisualizationChartPointShape.SQUARE){a=t.HighChartConstants.V_SYMBOL_SQUARE}else if(e===t.VisualizationChartPointShape.DIAMOND){a=t.HighChartConstants.V_SYMBOL_DIAMOND}else if(e===t.VisualizationChartPointShape.TRIANGLE){a=t.HighChartConstants.V_SYMBOL_TRIANGLE}else if(e===t.VisualizationChartPointShape.TRIANGLE_DOWN){a=t.HighChartConstants.V_SYMBOL_TRIANGLE_DOWN}return a},getStackingType:function(e,a,n,i){let s=t.isNull(n)?i:n;let r=a;if(s.isTypeOf(t.ChartVisualizationType.BAR_COLUMN)&&a!==t.ChartVisualizationStackingType.PERCENT){r=t.ChartVisualizationStackingType.NORMAL}else if(s.isTypeOf(t.ChartVisualizationType.LINE)){r=t.ChartVisualizationStackingType.NONE}else if(s.isTypeOf(t.ChartVisualizationType.AREA)){r=t.ChartVisualizationStackingType.NORMAL}if(r===t.ChartVisualizationStackingType.NORMAL){return t.HighChartConstants.V_NORMAL}else if(r===t.ChartVisualizationStackingType.PERCENT){return t.HighChartConstants.V_PERCENT}else{return null}},isNestedPointChart:function(e){return e===t.ChartVisualizationType.TREE_MAP},needsDirectDataLabels:function(e){return e===t.ChartVisualizationType.HEAT_MAP},needsNullDataPoints:function(e){return e.isTypeOf(t.ChartVisualizationType.ABSTRACT_SERIES)},responsiveBuilder:function(e,a){let n=a.putNewStructure(t.HighChartConstants.K_RESPONSIVE);let i=n.putNewList(t.HighChartConstants.K_RULES);let s=i.addNewStructure();let r=s.putNewStructure(t.HighChartConstants.K_CONDITION);r.putInteger(t.HighChartConstants.K_MAX_HEIGHT,176);let o=s.putNewStructure(t.HighChartConstants.K_CHART_OPTIONS);let l=o.putNewStructure(t.HighChartConstants.K_LEGEND);l.putBoolean(t.HighChartConstants.K_ENABLED,false);let C=o.putNewStructure(t.HighChartConstants.K_Y_AXIS);let _=C.putNewStructure(t.HighChartConstants.K_LABELS);_.putInteger(t.HighChartConstants.K_ROTATION,344);_.putInteger(t.HighChartConstants.K_X,10);let g=i.addNewStructure();let u=g.putNewStructure(t.HighChartConstants.K_CONDITION);u.putInteger(t.HighChartConstants.K_MAX_WIDTH,359);u.putInteger(t.HighChartConstants.K_MIN_HEIGHT,70);let S=g.putNewStructure(t.HighChartConstants.K_CHART_OPTIONS);let T=S.putNewStructure(t.HighChartConstants.K_CHART);T.putBoolean(t.HighChartConstants.K_ANIMATION,false);let h=50;let c=50;let I=50;let E=50;let A=T.putNewList(t.HighChartConstants.K_SPACING);A.addInteger(h);A.addInteger(c);A.addInteger(I);A.addInteger(E);let p=S.putNewStructure(t.HighChartConstants.K_PLOT_OPTIONS);let N=p.putNewStructure(t.HighChartConstants.K_SERIES);let L=N.putNewStructure(t.HighChartConstants.K_DATA_LABELS);let d=L.putNewStructure(t.HighChartConstants.K_STYLE);if(t.XString.isEqual(e,t.HighChartConstants.K_PIE)){d.putString(t.HighChartConstants.K_FONT_SIZE,"9px");L.putInteger(t.HighChartConstants.K_CONNECTOR_WIDTH,0);L.putInteger(t.HighChartConstants.K_DISTANCE,-30);L.putBoolean(t.HighChartConstants.K_INSIDE,true);T.putInteger(t.HighChartConstants.K_MARGIN_TOP,40);L.putString(t.HighChartConstants.K_POINT_FORMAT,"{point.percentage:.2f} %");L.putBoolean(t.HighChartConstants.K_ENABLED,true)}else{T.putInteger(t.HighChartConstants.K_MARGIN_TOP,50);d.putString(t.HighChartConstants.K_FONT_SIZE,"9px")}let O=S.putNewStructure(t.HighChartConstants.K_TITLE);let H=O.putNewStructure(t.HighChartConstants.K_STYLE);H.putString(t.HighChartConstants.K_FONT_SIZE,"13px");H.putBoolean(t.HighChartConstants.K_FLOATING,true);let R=S.putNewStructure(t.HighChartConstants.K_SUBTITLE);R.putString(t.HighChartConstants.K_TEXT,"");let m=S.putNewStructure(t.HighChartConstants.K_X_AXIS);let b=m.putNewStructure(t.HighChartConstants.K_LABELS);let V=b.putNewStructure(t.HighChartConstants.K_STYLE);V.putString(t.HighChartConstants.K_FONT_SIZE,"10px");let f=S.putNewStructure(t.HighChartConstants.K_Y_AXIS);let y=f.putNewStructure(t.HighChartConstants.K_LABELS);let D=y.putNewStructure(t.HighChartConstants.K_STYLE);D.putString(t.HighChartConstants.K_FONT_SIZE,"10px");let K=i.addNewStructure();let P=K.putNewStructure(t.HighChartConstants.K_CONDITION);P.putInteger(t.HighChartConstants.K_MAX_WIDTH,176);let G=K.putNewStructure(t.HighChartConstants.K_CHART_OPTIONS);let z=G.putNewStructure(t.HighChartConstants.K_CHART);z.putBoolean(t.HighChartConstants.K_ANIMATION,false);let B=G.putNewStructure(t.HighChartConstants.K_LEGEND);B.putBoolean(t.HighChartConstants.K_ENABLED,false);B.putInteger(t.HighChartConstants.K_Y,25);let M=G.putNewStructure(t.HighChartConstants.K_PLOT_OPTIONS);let X=M.putNewStructure(t.HighChartConstants.K_SERIES);X.putInteger(t.HighChartConstants.K_MIN_SIZE,100);let U=X.putNewStructure(t.HighChartConstants.K_DATA_LABELS);U.putInteger(t.HighChartConstants.K_CONNECTOR_WIDTH,0);U.putInteger(t.HighChartConstants.K_DISTANCE,-25);let F=U.putNewStructure(t.HighChartConstants.K_STYLE);F.putString(t.HighChartConstants.K_FONT_SIZE,"8px");z.putInteger(t.HighChartConstants.K_MARGIN_TOP,40);let w=G.putNewStructure(t.HighChartConstants.K_TITLE);let x=w.putNewStructure(t.HighChartConstants.K_STYLE);x.putString(t.HighChartConstants.K_FONT_SIZE,"10px");let Y=G.putNewStructure(t.HighChartConstants.K_SUBTITLE);Y.putString(t.HighChartConstants.K_TEXT,"");let W=G.putNewStructure(t.HighChartConstants.K_X_AXIS);let v=W.putNewStructure(t.HighChartConstants.K_LABELS);let Z=v.putNewStructure(t.HighChartConstants.K_STYLE);Z.putString(t.HighChartConstants.K_FONT_SIZE,"9px");let j=G.putNewStructure(t.HighChartConstants.K_Y_AXIS);let k=j.putNewStructure(t.HighChartConstants.K_LABELS);let J=k.putNewStructure(t.HighChartConstants.K_STYLE);J.putString(t.HighChartConstants.K_FONT_SIZE,"9px")}};t.HighChartConstants={K_ACCESSIBILITY:"accessibility",K_ACCOUNT_ENTITY_ID:"accountEntityId",K_ACCOUNT_ID:"accountId",K_AGGREGATION_TYPE:"aggregationType",K_ALIGN:"align",K_ALLOW_OVERLAP:"allowOverlap",K_ANALYTIC_OBJECTS:"analyticObjects",K_ANIMATION:"animation",K_ANSWERS:"answers",K_AREA:"area",K_ARGUMENTS:"arguments",K_ARGUMENT_KEY_INFO:"argumentKeyInfo",K_ATTRIBUTE_ID:"attributeId",K_AUTO_ROTATION:"autoRotation",K_AXIS:"axis",K_AXIS_LABEL:"axisLabel",K_AXIS_LINE:"axisLine",K_AXIS_TICK:"axisTick",K_BACKGROUND:"background",K_BACKGROUND_COLOR:"backgroundColor",K_BAR_COLUMN:"barcolumn",K_BBACKGROUND_COLOR:"BackgroundColor",K_BINDINGS:"bindings",K_BOLD:"bold",K_BOOST:"boost",K_BORDER_COLOR:"borderColor",K_BORDER_WIDTH:"borderWidth",K_BUBBLE_STYLE:"BubbleStyle",K_BUBBLE_STYLING:"bubbleStyling",K_BUBBLE_WIDTH:"bubbleWidth",K_CALCULATION:"calculation",K_CALCULATIONS:"calculations",K_CALCULATION_ID:"calculationId",K_CALCULATION_VARIABLE:"calculation.variable",K_CALCULATION_VARIABLE_ENTITY_ID:"calculationVariableEntityId",K_CALC_DAYS_BETWEEN:"CALCDAYSBETWEEN",K_CALC_DEF:"def",K_CALC_MONTHS_BETWEEN:"CALCMONTHSBETWEEN",K_CALC_YEARS_BETWEEN:"CALCYEARSBETWEEN",K_CATEGORIES:"categories",K_CATEGORY:"category",K_CATEGORY_AXIS:"categoryAxis",K_CATEGORY_AXIS2:"categoryAxis2",K_CATEGORY_FORM:"categoryForm",K_CATEGORY_NAME:"categoryName",K_CHART:"chart",K_CHART_OPTIONS:"chartOptions",K_CLUSTER_BUBBLE:"clusterbubble",K_COLLISION_DETECTION:"collisionDetection",K_COLOR:"color",K_COLORS:"colors",K_COLOR_AXIS:"colorAxis",K_COLOR_BY_POINT:"colorByPoint",K_COLOR_FORMATTING:"colorFormatting",K_COLOR_NAME:"colorName",K_COLOR_SCHEME:"colorScheme",K_COLOR_SYNC:"colorSync",K_COLOR_VALUE:"colorValue",K_COLOR_VALUE_FORMATTED:"colorValueFormatted",K_COMB_BCL:"combbcl",K_COMB_STACKED_BCL:"combstackedbcl",K_COMPARISON_MEASURE_ID:"comparisonMeasureId",K_CONDITION:"condition",K_CONNECTOR_WIDTH:"connectorWidth",K_CONSTANT:"constant",K_CREDITS:"credits",K_CROP:"crop",K_CROP_THRESHOLD:"cropThreshold",K_CURSOR_STYLE:"cursor",K_CUSTOM_COLOR_PALETTES:"custom.color.palettes",K_CUSTOM_FORMATTING:"customFormatting",K_CUSTOM_TITLE:"customTitle",K_DASH_STYLE:"dashStyle",K_DATA:"data",K_DATA_LABEL:"dataLabel",K_DATA_LABELS:"dataLabels",K_DATE_TIME:"datetime",K_DECIMAL_PLACES:"decimalPlaces",K_DECIMAL_POINT:"decimalPoint",K_DESCRIPTION:"description",K_DIMENSION:"dimension",K_DIRECTION:"direction",K_DISTANCE:"distance",K_DP_NAME:"dpName",K_DP_NAMES:"dpNames",K_DRILL:"drill",K_DRILL_LEVEL:"drillLevel",K_DRILL_MODE:"drillMode",K_DYNAMIC_VALUE:"dynamicValue",K_ENABLED:"enabled",K_END:"end",K_END_ANGLE:"endAngle",K_END_DATE:"endDate",K_END_DATE_CURRENT_IF_NULL:"endDateCurrentIfNULL",K_ENTITIES:"entities",K_ENTITY_FORMAT_INFO:"entityFormatInfos",K_ENTITY_ID:"entityId",K_ERRORBAR:"errorbar",K_ERRORBARS:"errorbars",K_ERRORBAR_INFIX:".errorbar.",K_ERRORBAR_MAX:".errorbar.max",K_ERRORBAR_MIN:".errorbar.min",K_ERROR_RANGE:"errorRange",K_EXCEPTION_AGGREGATION:"exceptionAggregation",K_EXCEPTION_AGGREGATION_DIMENSIONS:"exceptionAggregationDimensions",K_EXCLUDE:"exclude",K_EXPLICIT_COLOR_ASSIGNMENTS:"explicitColorAssignments",K_FEED:"feed",K_FEED_MEMBERS:"feedMembers",K_FILL:"fill",K_FILL_COLOR:"fillColor",K_FILTERS:"filters",K_FLOATING:"floating",K_FONT_COLOR:"fontColor",K_FONT_FAMILY:"fontFamily",K_FONT_SIZE:"fontSize",K_FONT_STYLE:"fontStyle",K_FONT_WEIGHT:"fontWeight",K_FORMAT:"format",K_FORMATTING_INFO:"formatingInfo",K_FORMAT_INFO:"formatInfo",K_FORMAT_STRING:"formatString",K_FORMULA:"formula",K_FORMULA_ALIASES:"formulaAliases",K_FORMULA_AST:"ast",K_FORMULA_JSON:"formulaJson",K_FROM:"from",K_FULL_SCREEN_ENABLED:"fullscreenEnabled",K_FULL_STACKING:"fullStacking",K_FUNCTION:"function",K_GAP:"gap",K_GENERAL:"general",K_GLOBAL_OBJECTS:"GlobalObjects",K_GLOBAL_OBJECT_CALCULATIONS:"Calculations",K_GLOBAL_OBJECT_CALCULATION_VARIABLES:"CalculationVariables",K_GLOBAL_OBJECT_FIELD_SELECTIONS:"FieldSelections",K_GLOBAL_OBJECT_PAGE_FILTER:"pageFilter",K_GLOBAL_OBJECT_PAGE_FILTERS:"PageFilters",K_GLOBAL_OBJECT_STORY_FILTERS:"StoryFilters",K_GRADIENT:"gradient",K_GRADIENT_KEYS:"gradientKeys",K_GRIDLINE:"gridline",K_GRIDLINE_WIDTH:"gridLineWidth",K_GRID_LINE_WIDTH:"gridLineWidth",K_GROUP:"group",K_GROUPED_OPTIONS:"groupedOptions",K_GROUPING:"grouping",K_HEADER_FORMAT:"headerFormat",K_HEATMAP:"heatmap",K_HEIGHT:"height",K_HIDDEN:"hidden",K_HIDE_WHEN_OVERLAP:"hideWhenOverlap",K_HIGH:"high",K_HIGH_INCLUSIVE:"highInclusive",K_ID:"id",K_INCLUDE_ONLY_CHILDREN:"includeOnlyChildren",K_INCOMPLETE_DATA_INFO:"incompleteDataInfo",K_INNER_GROUP_SPACING:"innerGroupSpacing",K_INNER_RADIUS:"innerRadius",K_INNER_SIZE:"innerSize",K_INSIDE:"inside",K_INTERVALS:"intervals",K_INVERTED:"inverted",K_IS_AUTO_TOP_N:"isAutoTopN",K_IS_EXCLUDE_COLOR_SYNC:"isExcludeColorSync",K_IS_HIDDEN_WHEN_OVERLAP:"isHideWhenOverlap",K_IS_INCOMPLETE:"isIncomplete",K_IS_TIME_SERIES:"istimeSeries",K_ITEM_HOVER_STYLE:"itemHoverStyle",K_ITEM_STYLE:"itemStyle",K_KEY:"key",K_LABEL:"label",K_LABELS:"labels",K_LANG:"lang",K_LAYOUT:"layout",K_LAYOUT_ALGORITHM:"layoutAlgorithm",K_LEGEND:"legend",K_LEGEND_GROUP:"legendGroup",K_LEVEL:"level",K_LEVELS:"levels",K_LIMIT:"limit",K_LINE:"line",K_LINE_COLOR:"lineColor",K_LINE_WIDTH:"lineWidth",K_LOW:"low",K_LOW_INCLUSIVE:"lowInclusive",K_MAIN_VALUE:"mainValue",K_MARGIN_LEFT:"marginLeft",K_MARGIN_TOP:"marginTop",K_MARIMEKKO:"marimekko",K_MARKER:"marker",K_MARKERS:"markers",K_MAX:"max",K_MAXIMUM_FRACTION_DIGITS:"maximumFractionDigits",K_MAX_COLOR:"maxColor",K_MAX_ELEMENT:"maxElement",K_MAX_HEIGHT:"maxHeight",K_MAX_PADDING:"maxPadding",K_MAX_WIDTH:"maxWidth",K_MEASURE:"measure",K_MEASURE_ID:"measureId",K_MEASURE_SELECTIONS:"measureSelections",K_MEASURE_SYNC:"measureSync",K_MEMBER:"member",K_MEMBERS:"members",K_MEMBER_DEFINITIONS:"memberDefinitions",K_METRIC:"metric",K_MIN:"min",K_MINIMUM_FRACTION_DIGITS:"minimumFractionDigits",K_MIN_COLOR:"minColor",K_MIN_ELEMENT:"minElement",K_MIN_HEIGHT:"minHeight",K_MIN_PADDING:"minPadding",K_MIN_SIZE:"minSize",K_MIN_WIDTH:"minWidth",K_MULTIPLIER:"multiplier",K_NAME:"name",K_NNAME:"Name",K_NODEDEPTH:"nodedepth",K_NODE_FILTER:"nodeFilter",K_NO_DATA:"noData",K_NUMBER_FORMATTING:"numberFormatting",K_OFFSET:"offset",K_OPACITY:"opacity",K_OPPOSITE:"opposite",K_OPTIONS:"options",K_ORIENTATION:"orientation",K_ORIGINAL_BINDINGS:"originalBindings",K_ORIGINAL_VALUES:"originalValues",K_OUTER_RADIUS:"outerRadius",K_OVERFLOW:"overflow",K_PACKED_BUBBLE:"packedbubble",K_PADDING_BOTTOM:"paddingBottom",K_PAGE_ID:"pageId",K_PALETTE:"palette",K_PALETTE_COLORS:"paletteColors",K_PALETTE_DESC:"paletteDesc",K_PANE:"pane",K_PARENT:"parent",K_PARENT_KEY:"parentKey",K_PATH:"path",K_PATTERN:"pattern",K_PATTERN_FORMATTING:"patternFormatting",K_PATTERN_HATCHING1:"hatching1",K_PATTERN_HATCHING2:"hatching2",K_PATTERN_HATCHING3:"hatching3",K_PATTERN_HATCHING4:"hatching4",K_PATTERN_HATCHING5:"hatching5",K_PATTERN_HATCHING6:"hatching6",K_PATTERN_HATCHING7:"hatching7",K_PATTERN_HATCHING8:"hatching8",K_PATTERN_NON_FILL:"nonFill",K_PERCENT:"percent",K_PIE:"pie",K_PLACEHOLDER_2_ID:"placeholder2Id",K_PLACEMENT_STRATEGY:"placementStrategy",K_PLOT_AREA:"plotArea",K_PLOT_BANDS:"plotBands",K_PLOT_LINES:"plotLines",K_PLOT_OPTIONS:"plotOptions",K_POINT_FORMAT:"pointFormat",K_POINT_PADDING:"pointPadding",K_POLAR:"polar",K_POSITION:"position",K_PROPERTIES:"properties",K_RADAR:"radar",K_RANK:"ranking",K_RANK_BY:"rankBy",K_REFERENCELINES:"referenceLines",K_REFERENCE_MEASURE_ID:"referenceMeasureId",K_RESPONSIVE:"responsive",K_RESTRICTED_MEASURE:"restrictedMeasure",K_RESULT_GRANULARITY:"resultGranularity",K_REVERSED:"reversed",K_ROTATION:"rotation",K_ROW_LIMIT:"rowLimit",K_RULES:"rules",K_SCALE:"scale",K_SCATTER:"scatter",K_SCATTER_PLOT:"scatterplot",K_SCROLLABLE_PLOT_AREA:"scrollablePlotArea",K_SCROLL_BAR:"scrollbar",K_SELECT:"select",K_SELECTED_DIMENSION_ID:"selectedDimensionId",K_SELECTED_MEASURE:"selectedMeasure",K_SELECTIONS:"selections",K_SELECTION_INFOS:"selectionInfos",K_SERIES:"series",K_SERIES_X:"SeriesX",K_SERIES_Y:"SeriesY",K_SERIES_Z:"SeriesZ",K_SHAPE:"shape",K_SHAPE_OPTIONS:"shapeOptions",K_SHORT_DOT:"ShortDot",K_SHOW_FULL:"showFull",K_SHOW_FULL_LABEL:"showFullLabel",K_SHOW_IN_LEGEND:"showInLegend",K_SHOW_LABEL_GRIDS:"showLabelGrids",K_SHOW_LABEL_NAMES:"showLabelNames",K_SHOW_SIGN_AS:"showSignAs",K_SIGNED_DATA:"SignedData",K_SIZE:"size",K_SIZE_BY_ABSOLUTE_VALUE:"sizeByAbsoluteValue",K_SOLID_GAUGE:"solidgauge",K_SORT:"sort",K_SORT_BY:"sortBy",K_SOURCE:"source",K_SPACING:"spacing",K_SPACING_BOTTOM:"spacingBottom",K_SPACING_TOP:"spacingTop",K_SPLINE:"spline",K_SQUARE_SYMBOL:"squareSymbol",K_STACK:"stack",K_STACKED_BAR:"stackedbar",K_STACKED_COLUMN:"stackedcolumn",K_STACKING:"stacking",K_STACK_COLUMN_LABEL:"stackColumnLabel",K_STACK_LABELS:"stackLabels",K_START:"start",K_START_ANGLE:"startAngle",K_START_DATE:"startDate",K_START_DATE_CURRENT_IF_NULL:"startDateCurrentIfNULL",K_STATES:"states",K_STOPS:"stops",K_STORY_WIDE_SETTINGS:"storyWideSettings",K_STROKE:"stroke",K_STYLE:"style",K_SUBTITLE:"subtitle",K_SUB_TITLE:"subTitle",K_SUGGESTED_SUB_TITLE:"suggestedSubTitle",K_SUGGESTED_TITLE:"suggestedTitle",K_SYMBOL:"symbol",K_SYMBOL_RADIUS:"symbolRadius",K_S_KEY:"sKey",K_TARGET_FORMATTED:"targetFormatted",K_TARGET_VALUE:"targetValue",K_TARGET_VALUES:"targetValues",K_TEXT:"text",K_TEXT_OUTLINE:"textOutline",K_TEXT_OVERFLOW:"textOverflow",K_TEXT_SHADOW:"textShadow",K_THOUSANDS_SEP:"thousandsSep",K_THRESHOLD:"threshold",K_THRESHOLDS:"thresholds",K_THRESHOLD_REFERENCE:"thresholdReference",K_TICK_AMOUNT:"tickAmount",K_TICK_COLOR:"tickColor",K_TICK_LENGTH:"tickLength",K_TICK_WIDTH:"tickWidth",K_TIME_AXIS:"timeAxis",K_TIME_SERIES:"timeseries",K_TITLE:"title",K_TO:"to",K_TOOLTIP:"tooltip",K_TOOLTIP_VALUE_AXIS:"tooltipValueAxis",K_TRANSPARENT:"transparent",K_TREEMAP:"treemap",K_TYPE:"type",K_T_FORMATTED:"tFormatted",K_T_HEADER:"tHeader",K_UNIT:"unit",K_USER_DEFINED_DECIMAL_FORMAT:"userDefinedDecimalFormat",K_USER_DEFINED_NUMERIC_SCALES:"userDefinedNumberScales",K_USER_DEFINED_SHOW_SIGN_AS:"userDefinedShowSignAs",K_USER_GPU_TRANSLATIONS:"useGPUTranslations",K_USER_PREFERENCES:"userPreferences",K_VALUE:"value",K_VALUES:"values",K_VALUE_AXIS:"valueAxis",K_VALUE_AXIS2:"valueAxis2",K_VALUE_FORMATTED:"valueFormatted",K_VALUE_NAME:"valueName",K_VARIANCE:"variance",K_VARIANCES:"variances",K_VARIANCE_CHART:"varianceChart",K_VARIANCE_LABEL:"varianceLabel",K_VARIPIE:"variablepie",K_VARIWIDE:"variwide",K_VERTICAL_ALIGN:"verticalAlign",K_VISIBLE:"visible",K_VIZDEF_FILTERS:"VizdefFilters",K_WEIGHT:"weight",K_WEIGHT_FORMATTED:"weightFormatted",K_WHITE_SPACE:"whiteSpace",K_WIDGET_ID:"widgetId",K_WIDTH:"width",K_WORDCLOUD:"wordcloud",K_X:"x",K_X_AXIS:"xAxis",K_X_CATEGORY:"xCategory",K_X_FORMATTED:"xFormatted",K_X_NAME:"xName",K_Y:"y",K_Y_AXIS:"yAxis",K_Y_CATEGORY:"yCategory",K_Y_FORM:"yForm",K_Y_FORMATTED:"yFormatted",K_Y_NAME:"yName",K_Z:"z",K_Z_AXIS:"zAxis",K_Z_FORMATTED:"zFormatted",K_Z_INDEX:"zIndex",K_Z_NAME:"zName",V_ABSOLUTE:"absolute",V_ALL:"all",V_ARC:"arc",V_BAD:"Bad",V_BASE_PLOTLINE_ID:"BASE_PLOTLINE_ID",V_BILLION:"Billion",V_BLACK:"black",V_CATEGORY:"category",V_CATEGORY_ELEMENT:"categoryElement",V_CENTER:"center",V_CHART_TYPE_BAR:"bar",V_CHART_TYPE_BELLCURVE:"bellcurve",V_CHART_TYPE_BOXPLOT:"boxplot",V_CHART_TYPE_BUBBLE:"bubble",V_CHART_TYPE_COLUMN:"column",V_CHART_TYPE_LINE:"line",V_COLOR_1:"#9dc3e6",V_COLOR_10:"#dbdbdb",V_COLOR_11:"#c9c9c9",V_COLOR_12:"#7c7c7c",V_COLOR_13:"#6c6c6c",V_COLOR_14:"#222a35",V_COLOR_15:"#000000",V_COLOR_16:"#4a3f93",V_COLOR_17:"#c9024a",V_COLOR_18:"#37962d",V_COLOR_2:"#4EA3D6",V_COLOR_3:"#0f7daf",V_COLOR_4:"#0c648c",V_COLOR_5:"#094d6b",V_COLOR_6:"#ffe699",V_COLOR_7:"#ffd966",V_COLOR_8:"#bf9000",V_COLOR_9:"#7f6000",V_COORDINATE_SYSTEM:"coordinateSystem",V_CRITICAL:"Critical",V_CURRENT_DATE:"CURRENT_DATE",V_CUSTOM:"custom",V_DATA_POINT:"dataPoint",V_DAY:"DAY",V_DIRECTION_ASC:"ascending",V_DIRECTION_DESC:"descending",V_ERROR:"Error",V_FEED_BUBBLE_WEIGHT:"bubbleWidth",V_FEED_CATEGORY_AXIS:"categoryAxis",V_FEED_CATEGORY_AXIS2:"categoryAxis2",V_FEED_COLOR:"color",V_FEED_DATA_CONTEXT:"dataContext",V_FEED_DATA_CONTEXT2:"dataContext2",V_FEED_PATTERN2:"pattern2",V_FEED_SIZE:"size",V_FEED_TIME_AXIS:"timeAxis",V_FEED_TITLE:"title",V_FEED_TOOLTIP_CATEGORY_AXIS:"tooltipCategoryAxis",V_FEED_TOOLTIP_VALUE_AXIS:"tooltipValueAxis",V_FEED_TRELLIS:"trellis",V_FEED_VALUE_AXIS:"valueAxis",V_FEED_VALUE_AXIS2:"valueAxis2",V_FEED_WEIGHT:"weight",V_FONT_WEIGHT_BOLD:"bold",V_FONT_WEIGHT_NORMAL:"normal",V_HEADING_CATEGORY_SEPARATOR:" / ",V_HEADING_UNIT_INFO_PREFIX:" (",V_HEADING_UNIT_INFO_SUFFIX:")",V_HORIZONTAL:"horizontal",V_ID:"id",V_ID_AND_DESCRIPTION:"idAndDescription",V_INDEX:"index",V_LEFT:"left",V_LINE_DASH:"Dash",V_LINE_DASH_DOT:"DashDot",V_LINE_DOT:"Dot",V_LINE_LONG_DASH:"LongDash",V_LINE_LONG_DASH_DOT:"LongDashDot",V_LINE_LONG_DASH_DOT_DOT:"LongDashDotDot",V_LINE_SHORT_DASH:"ShortDash",V_LINE_SHORT_DASH_DOT:"ShortDashDot",V_LINE_SHORT_DASH_DOT_DOT:"ShortDashDotDot",V_LINE_SHORT_DOT:"ShortDot",V_LINE_SOLID:"Solid",V_MIDDLE:"middle",V_MILLION:"Million",V_MONTH:"MONTH",V_NAME:"name",V_NORMAL:"normal",V_OK:"OK",V_PATTERN_PATH_HATCHING1:"M 12 0 L 0 12 M -12 12 L 12 -12 M 24 0 L 0 24",V_PATTERN_PATH_HATCHING2:"M 12 0 L 0 12 M -12 12 L 12 -12 M 24 0 L 0 24 M 13 1 L 1 13 M -11 13 L 13 -11 M 25 1 L 1 25 M 1 -11 L -11 1",V_PATTERN_PATH_HATCHING3:"M 12 0 L 0 12 M -12 12 L 12 -12 M 24 0 L 0 24 M 13 1 L 1 13 M -11 13 L 13 -11 M 25 1 L 1 25 M 1 -11 L -11 1 M 14 2 L 2 14 M -10 14 L 14 -10 M 26 2 L 2 26 M 2 -10 L -10 2 M 11 -1 L -1 11 M -13 11 L 11 -13 M 23 -1 L -1 23 M 23 11 L 11 23",V_PATTERN_PATH_HATCHING4:"M 1 1 L 1 2 Z M 3 3 L 3 4 Z",V_PATTERN_PATH_HATCHING5:"M 1 1 L 1 2 Z M 4 4 L 4 5 Z",V_PATTERN_PATH_HATCHING6:"M 1 1 L 1 2 Z M 5 5 L 5 6 Z",V_PATTERN_PATH_HATCHING7:"M 1 1 L 1 2 Z M 5 5 L 7 6 L 6 6 L 6 5 L 5 5 Z",V_PATTERN_PATH_HATCHING8:"M 0 0 L 0 5 L 4 5 L 4 0 L 3 0 L 3 5 L 2 5 L 2 0 L 1 0 L 1 5 L 5 5 L 5 0 L 0 0 Z M 6 6 L 6 5 L 10 11 L 10 6 L 9 6 L 9 11 L 8 11 L 8 6 L 7 6 L 7 11 L 11 11 L 11 6 L 6 6 Z",V_PATTERN_SIZE_HATCHING1:12,V_PATTERN_SIZE_HATCHING2:12,V_PATTERN_SIZE_HATCHING3:12,V_PATTERN_SIZE_HATCHING4:5,V_PATTERN_SIZE_HATCHING5:7,V_PATTERN_SIZE_HATCHING6:9,V_PATTERN_SIZE_HATCHING7:9,V_PATTERN_SIZE_HATCHING8:12,V_PERCENT:"percent",V_PERCENTAGE:"percentage",V_POSITION_LEFT:"left",V_POSITION_TOP:"top",V_RIGHT:"right",V_SERIES:"series",V_SERIES_GROUP:"seriesGroup",V_STACKED_BAR:"stackedbar",V_STACKED_COLUMN:"stackedcolumn",V_SYMBOL_CIRCLE:"circle",V_SYMBOL_DIAMOND:"diamond",V_SYMBOL_SQUARE:"square",V_SYMBOL_TRIANGLE:"triangle",V_SYMBOL_TRIANGLE_DOWN:"triangle-down",V_THOUSAND:"Thousand",V_TREEMAP_LAYOUT_SQUARIFIED:"squarified",V_TREEMAP_LAYOUT_STRIP:"strip",V_TYPE_AXIS_MEMBER_CALCDIM:"calculatedDimension",V_TYPE_AXIS_MEMBER_CALCULATION:"calculation",V_TYPE_AXIS_MEMBER_DIM:"dimension",V_TYPE_AXIS_MEMBER_MEMBER:"member",V_TYPE_AXIS_MEMBER_RESTRICTED:"restrictedMeasure",V_TYPE_BARCOLUMN:"barcolumn",V_TYPE_CALCULATION:"calculation",V_TYPE_CHART_DONUT:"donut",V_TYPE_CHART_PIE:"pie",V_TYPE_DATASET:"dataset",V_TYPE_DIMENSION:"dimension",V_TYPE_DIMENSION_SELECTION:"dimension.selection",V_TYPE_FILTER_COMPLEX:"complex",V_TYPE_FILTER_FILTER:"filter",V_TYPE_FILTER_MEMBER:"member",V_TYPE_HIERCHY_PCH:"hierarchy.pch",V_TYPE_MEASURE_SELECTION:"measure.selection",V_TYPE_MEMBER:"member",V_TYPE_SORT_DIMENSION:"dimension",V_VERTICAL:"vertical",V_WARNING:"Warning",V_YEAR:"YEAR",X_LIMIT:5};t.CategoricalAxisRenderer=function(){};t.CategoricalAxisRenderer.prototype=new t.XObject;t.CategoricalAxisRenderer.prototype._ff_c="CategoricalAxisRenderer";t.CategoricalAxisRenderer.create=function(){return new t.CategoricalAxisRenderer};t.CategoricalAxisRenderer.prototype.renderCategoricalAxis=function(e,a,n,i,s){let r=i.getCategories();let o=s.putNewList(t.HighChartConstants.K_CATEGORIES);let l=t.XList.create();let C=o;for(let i=0;i<r.size();i++){let s=r.get(i);let o=s.getCategoryElements();let _=o.size();let g;let u;for(g=0;g<_;g++){u=o.get(g);if(!u.isRepeatedElement()||g===_-1){l.add(C);let r=C.addNewStructure();r.putString(t.HighChartConstants.K_NAME,u.getText());let o=t.GenericHighChartConverter.buildCustomAxisContent(r.putNewStructure(t.HighChartConstants.V_CUSTOM),e,a,n);t.GenericHighChartConverter.buildCustomCategoryWithElement(o.putNewStructure(t.HighChartConstants.V_CATEGORY),i,s.getName(),g,u.getName());C=r.putNewList(t.HighChartConstants.K_CATEGORIES)}}if(_>0){C.addString("")}for(g=_-1;g>-1;g--){if((o.get(g).isFinalElement()||g===_-1)&&l.size()>g){C=l.get(g);l.removeAt(g)}}}};t.GenericHiChartRendererLatest=function(){};t.GenericHiChartRendererLatest.prototype=new t.XObject;t.GenericHiChartRendererLatest.prototype._ff_c="GenericHiChartRendererLatest";t.GenericHiChartRendererLatest.CHART_JSON="ChartJson";t.GenericHiChartRendererLatest.MESSAGES="Messages";t.GenericHiChartRendererLatest.create=function(e,a){let n=new t.GenericHiChartRendererLatest;n.m_chartVisualization=e;n.m_chartAccessibilityEnabled=a;return n};t.GenericHiChartRendererLatest.prototype.m_chartAccessibilityEnabled=false;t.GenericHiChartRendererLatest.prototype.m_chartJson=null;t.GenericHiChartRendererLatest.prototype.m_chartVisualization=null;t.GenericHiChartRendererLatest.prototype.m_messages=null;t.GenericHiChartRendererLatest.prototype.m_resultObject=null;t.GenericHiChartRendererLatest.prototype.addCategoryTag=function(e,a){if(t.notNull(a)){let n=a.getParentChartDomain();let i=n.getCategories().getIndex(a);let s=n.getChartAxis();let r=e.putNewStructure(t.HighChartConstants.K_AXIS);r.putString(t.HighChartConstants.V_NAME,s.getName());let o=r.putNewStructure(t.HighChartConstants.V_CATEGORY);o.putString(t.HighChartConstants.V_NAME,a.getName());o.putInteger(t.HighChartConstants.V_INDEX,i)}};t.GenericHiChartRendererLatest.prototype.addSeriesGroupTag=function(e,a,n){let i=e.putNewStructure(t.HighChartConstants.V_SERIES_GROUP);i.putInteger(t.HighChartConstants.V_INDEX,n);i.putString(t.HighChartConstants.V_NAME,a.getName());this.addCategoryTag(i,a.getCategory())};t.GenericHiChartRendererLatest.prototype.addSeriesTag=function(e,a,n){let i=e.putNewStructure(t.HighChartConstants.V_SERIES);i.putInteger(t.HighChartConstants.V_INDEX,n);i.putString(t.HighChartConstants.V_NAME,a.getName());this.addCategoryTag(i,a.getCategory())};t.GenericHiChartRendererLatest.prototype.appendCategoryElements=function(e,a){if(t.notNull(a)){e.addAll(t.XStream.of(a.getCategoryElements()).filter(e=>t.XStringUtils.isNotNullAndNotEmpty(e.getHeaderText())).collect(t.XStreamCollector.toList()))}};t.GenericHiChartRendererLatest.prototype.buildAxes=function(e,a,n){let i=null;if(t.XCollectionUtils.hasElements(e)){let s=t.XStream.of(e).reduce(t.XIntegerValue.create(0),(e,a)=>t.XIntegerValue.create(t.XMath.max(e.getInteger(),t.XMath.max(a.getFrom(),a.getTo())))).getInteger();let r=e.size();if(r===1){i=this.m_chartJson.putNewStructure(a);this.buildAxis(a,0,e.get(0),i,s,n)}else{let t=this.m_chartJson.putNewList(a);for(let o=0;o<r;o++){i=t.addNewStructure();this.buildAxis(a,o,e.get(o),i,s,n)}}}return i};t.GenericHiChartRendererLatest.prototype.buildAxis=function(e,a,n,i,s,r){let o;let l=this.m_chartVisualization.getChartType();t.GenericHighChartConverterLatest.buildCustomAxisContent(i.putNewStructure(t.HighChartConstants.V_CUSTOM),e,a,n.getName());if(n.getAxisDomain().getAxisDomainType().isTypeOf(t.ChartAxisDomainType.CATEGORIAL)){let s=n.getAxisDomain().getAsCategorial();t.CategoricalAxisRenderer.create().renderCategoricalAxis(e,a,n.getName(),s,i)}else{let e=n.getAxisDomain();if(!this.isPercentageAxis(n)){if(e.getMax()>e.getMin()){if(e.getMin()<0){i.putDouble(t.HighChartConstants.K_MIN,e.getMin())}if(e.getMax()>0){i.putDouble(t.HighChartConstants.K_MAX,e.getMax())}}if(l.isTypeOf(t.ChartVisualizationType.STACKED_BAR)||l.isTypeOf(t.ChartVisualizationType.STACKED_COLUMN)||l.isTypeOf(t.ChartVisualizationType.BAR_COLUMN_GROUP_STACK)){let e=i.putNewStructure(t.HighChartConstants.K_STACK_LABELS);let a=this.m_chartVisualization.getDistributionAxis().getAxisDomain().getAsCategorial().getCategories();let n=0;if(t.XCollectionUtils.hasElements(a)){let t=a.get(0);n=t.getUniqueDecimalPlaces();for(o=1;o<a.size();o++){t=a.get(o);if(n!==t.getUniqueDecimalPlaces()){n=0}}}let s=n<0?2:n;e.putString(t.HighChartConstants.K_FORMAT,t.XStringUtils.concatenate3("{total:,.",t.XInteger.convertToString(s),"f}"));e.putBoolean(t.HighChartConstants.K_ENABLED,true);if(l.isTypeOf(t.ChartVisualizationType.BAR)){let a=e.putNewStructure(t.HighChartConstants.K_STYLE);a.putString(t.HighChartConstants.K_COLOR,"rgb(88,89,91)");a.putString(t.HighChartConstants.K_FONT_SIZE,"12px");a.putString(t.HighChartConstants.K_FONT_STYLE,t.HighChartConstants.V_NORMAL);a.putString(t.HighChartConstants.K_FONT_WEIGHT,t.HighChartConstants.K_BOLD)}else if(l.isTypeOf(t.ChartVisualizationType.COLUMN)){e.putString(t.HighChartConstants.K_ALIGN,t.HighChartConstants.V_CENTER);e.putString(t.HighChartConstants.K_VERTICAL_ALIGN,t.HighChartConstants.V_POSITION_TOP);e.putInteger(t.HighChartConstants.K_Y,-20);e.putInteger(t.HighChartConstants.K_X,5)}else{e.putString(t.HighChartConstants.K_ALIGN,t.HighChartConstants.V_CENTER);e.putInteger(t.HighChartConstants.K_Y,-20)}}}i.putInteger(t.HighChartConstants.K_OFFSET,0)}let C=i.putNewStructure(t.HighChartConstants.K_TITLE);C.putString(t.HighChartConstants.K_TEXT,n.getText());if(l.isEqualTo(t.ChartVisualizationType.BAR)||l.isEqualTo(t.ChartVisualizationType.STACKED_BAR)){if(t.XString.isEqual(e,t.HighChartConstants.K_X_AXIS)){C.putString(t.HighChartConstants.K_ALIGN,"high")}else{C.putString(t.HighChartConstants.K_ALIGN,"low")}}else{if(t.XString.isEqual(e,t.HighChartConstants.K_X_AXIS)){C.putString(t.HighChartConstants.K_ALIGN,"low")}else{C.putString(t.HighChartConstants.K_ALIGN,"high")}}C.putBoolean(t.HighChartConstants.K_ENABLED,n.getTitleStyle().isEnabled());let _=C.putNewStructure(t.HighChartConstants.K_STYLE);_.putString(t.HighChartConstants.K_COLOR,n.getTitleStyle().getFontColor());_.putString(t.HighChartConstants.K_FONT_FAMILY,n.getTitleStyle().getFontFamily());_.putString(t.HighChartConstants.K_FONT_SIZE,n.getTitleStyle().getFontSize());_.putString(t.HighChartConstants.K_FONT_STYLE,n.getTitleStyle().getFontStyle());_.putString(t.HighChartConstants.K_FONT_WEIGHT,n.getTitleStyle().getFontWeight());i.putBoolean(t.HighChartConstants.K_OPPOSITE,n.isScaleOpposite());i.putInteger(t.HighChartConstants.K_GRID_LINE_WIDTH,n.getGridLineWidth());i.putInteger(t.HighChartConstants.K_TICK_WIDTH,n.getTickSize());if(n.isScaleReversed()){i.putBoolean(t.HighChartConstants.K_REVERSED,n.isScaleReversed())}if(s>0){let e=t.XDoubleValue.create(s).getDouble();let a=t.XDoubleValue.create(n.getFrom()).getDouble();let r=t.XDoubleValue.create(n.getTo()).getDouble();let o=t.XStringUtils.concatenate2(t.XDouble.convertToString(100*(r-a)/e-2),"%");if(n.getPosition().isTypeOf(t.ChartVisualizationAxisPosition.X)){i.putString(t.HighChartConstants.V_POSITION_LEFT,t.XStringUtils.concatenate2(t.XDouble.convertToString(100*a/e+2),"%"));i.putString(t.HighChartConstants.K_WIDTH,o)}else if(n.getPosition().isTypeOf(t.ChartVisualizationAxisPosition.Y)){i.putString(t.HighChartConstants.V_POSITION_TOP,t.XStringUtils.concatenate2(t.XDouble.convertToString(100*(e-r)/e+2),"%"));i.putString(t.HighChartConstants.K_HEIGHT,o)}}i.putString(t.HighChartConstants.K_ID,n.getName());let g=n.getPlotBands();if(t.XCollectionUtils.hasElements(g)){let e=i.putNewList(t.HighChartConstants.K_PLOT_BANDS);for(o=0;o<g.size();o++){this.buildPlotBand(e.addNewStructure(),g.get(o))}}let u=n.getPlotLines();if(t.XCollectionUtils.hasElements(u)){let e=i.putNewList(t.HighChartConstants.K_PLOT_LINES);for(o=0;o<u.size();o++){this.buildPlotLine(e.addNewStructure(),u.get(o))}}let S=i.putNewStructure(t.HighChartConstants.K_LABELS);S.putBoolean(t.HighChartConstants.K_ENABLED,true);let T=S.putNewStructure(t.HighChartConstants.K_STYLE);T.putString(t.HighChartConstants.K_COLOR,n.getLabelStyle().getFontColor());T.putString(t.HighChartConstants.K_FONT_FAMILY,n.getLabelStyle().getFontFamily());T.putString(t.HighChartConstants.K_FONT_SIZE,n.getLabelStyle().getFontSize());T.putString(t.HighChartConstants.K_FONT_STYLE,n.getLabelStyle().getFontStyle());T.putString(t.HighChartConstants.K_FONT_WEIGHT,n.getLabelStyle().getFontWeight());T.putString(t.HighChartConstants.K_WHITE_SPACE,"noWrap");T.putString(t.HighChartConstants.K_TEXT_OVERFLOW,"ellipsis");T.putInteger(t.HighChartConstants.K_WIDTH,50);T.putString(t.HighChartConstants.K_CURSOR_STYLE,"pointer");T.putNull(t.HighChartConstants.K_TEXT_SHADOW);return i};t.GenericHiChartRendererLatest.prototype.buildColorAxis=function(){if(this.m_chartVisualization.isUseColorAxis()){let e=this.m_chartJson.putNewStructure(t.HighChartConstants.K_COLOR_AXIS);this.decorateWithStyle(e,t.HighChartConstants.K_MIN_COLOR,this.m_chartVisualization.getMinColor());this.decorateWithStyle(e,t.HighChartConstants.K_MAX_COLOR,this.m_chartVisualization.getMaxColor())}};t.GenericHiChartRendererLatest.prototype.buildCoordinateSystems=function(){let e=this.m_chartVisualization.getCoordinateSystems();let a=this.m_chartJson.putNewList(t.HighChartConstants.K_SERIES);for(let t=0;t<e.size();t++){let n=e.get(t);let i=n.getSeriesGroups();for(let e=0;e<i.size();e++){let s=i.get(e);let r=s.getSeries();for(let i=0;i<r.size();i++){this.buildSeriesExt(t,e,i,a,n,s,r.get(i))}}}};t.GenericHiChartRendererLatest.prototype.buildDataPoint=function(e,a,n,i,s){let r=this.getFormattedCategoriesForTooltip(a);let o=this.getName(a);let l=e.addNewStructure();if(t.GenericHighChartConverterLatest.isNestedPointChart(this.m_chartVisualization.getChartType())){let i=a.getCategory().getCategoryElements();let s=i.size();let r="";for(let a=0;a<s-1;a++){let s=i.get(a);let o=t.XStringUtils.concatenate3(r,":",s.getName());if(!n.contains(o)){let a=e.addNewStructure();a.putStringNotNullAndNotEmpty(t.HighChartConstants.K_PARENT,r);a.putStringNotNullAndNotEmpty(t.HighChartConstants.K_ID,o);a.putStringNotNullAndNotEmpty(t.HighChartConstants.K_NAME,s.getText());n.add(o)}r=o}let o=i.get(s-1);l.putStringNotNullAndNotEmpty(t.HighChartConstants.K_PARENT,r);l.putStringNotNullAndNotEmpty(t.HighChartConstants.K_ID,t.XStringUtils.concatenate3(r,":",o.getName()));l.putStringNotNullAndNotEmpty(t.HighChartConstants.K_NAME,o.getText())}else if(t.XStringUtils.isNullOrEmpty(o)&&(this.m_chartVisualization.getChartType().isEqualTo(t.ChartVisualizationType.PIE)||this.m_chartVisualization.getChartType().isEqualTo(t.ChartVisualizationType.DOUGHNUT))){this.m_messages.addString(t.GenericHiChartRendererMessages.NO_CHART_FOR_CURRENT_SELECTION)}else{l.putString(t.HighChartConstants.K_NAME,o)}l.putStringNotNullAndNotEmpty(t.GenericHighChartConverterLatest.FORMATTED_CATEGORIES,r);if(!this.m_chartVisualization.isUseColorAxis()){this.decorateWithStyle(l,t.HighChartConstants.K_COLOR,a.getEffectiveStyle())}let C=a.getCoordinates();for(let e=0;e<C.size();e++){let n=C.get(e);let r=n.getValue();let o=t.GenericHighChartConverterLatest.getCoordinateName(this.m_chartVisualization.getChartType(),n.getName());if(a.isEmptyValue()){l.putNull(o)}else if(r.getValueType().isNumber()){let e=t.XValueUtil.getDouble(r,false,true);if(t.XString.isEqual(n.getName(),t.GenericHighChartConverterLatest.getPieAndDoughnutVisualizationValueType())){e=e<0?e*-1:e}l.putDouble(o,e)}else{l.putString(o,t.XValueUtil.getString(r))}let _=n.getFullFormattedText();let g=s?n.getFormattedText():_;let u=n.getHeading()===null?"":n.getHeading();if(t.XStringUtils.isNotNullAndNotEmpty(g)&&t.XStringUtils.isNotNullAndNotEmpty(_)){l.putString(t.XStringUtils.concatenate2(o,t.GenericHighChartConverterLatest.FULL_FORMATTING_SUFFIX),_);l.putString(t.XStringUtils.concatenate2(o,t.GenericHighChartConverterLatest.FORMATTING_SUFFIX),g);l.putString(t.XStringUtils.concatenate2(o,t.GenericHighChartConverterLatest.HEADING_SUFFIX),u);if(!i.contains(o)){i.add(o)}}}return l};t.GenericHiChartRendererLatest.prototype.buildPlotBand=function(e,a){e.putDouble(t.HighChartConstants.K_FROM,a.getFrom());e.putDouble(t.HighChartConstants.K_TO,a.getTo());e.putDouble(t.HighChartConstants.K_BORDER_WIDTH,a.getBorderWidth());e.putStringNotNullAndNotEmpty(t.HighChartConstants.K_COLOR,a.getColor());e.putStringNotNullAndNotEmpty(t.HighChartConstants.K_BORDER_COLOR,a.getBorderColor());let n=e.putNewStructure(t.HighChartConstants.K_LABEL);n.putStringNotNullAndNotEmpty(t.HighChartConstants.K_TEXT,a.getText())};t.GenericHiChartRendererLatest.prototype.buildPlotLine=function(e,a){e.putDouble(t.HighChartConstants.K_VALUE,a.getValue());e.putDouble(t.HighChartConstants.K_WIDTH,a.getWidth());e.putStringNotNullAndNotEmpty(t.HighChartConstants.K_COLOR,a.getColor());e.putStringNotNullAndNotEmpty(t.HighChartConstants.K_DASH_STYLE,a.getDashStyle());e.putDouble(t.HighChartConstants.K_Z_INDEX,6);let n=e.putNewStructure(t.HighChartConstants.K_LABEL);n.putStringNotNullAndNotEmpty(t.HighChartConstants.K_TEXT,a.getText())};t.GenericHiChartRendererLatest.prototype.buildScrollablePlotArea=function(e){if(!this.m_chartVisualization.getChartType().isEqualTo(t.ChartVisualizationType.PIE)&&!this.m_chartVisualization.getChartType().isEqualTo(t.ChartVisualizationType.DOUGHNUT)&&!this.m_chartVisualization.getCoordinateSystems().isEmpty()){let a=this.m_chartVisualization.getXAxes().get(0);let n=50;let i=a.getAxisDomain().getAsCategorial().getCategories().size();let s=this.m_chartVisualization.getCoordinateSystems().get(0).getSeriesGroups().size();let r=e.putNewStructure(t.HighChartConstants.K_SCROLLABLE_PLOT_AREA);r.putInteger(t.HighChartConstants.K_OPACITY,1);if(this.m_chartVisualization.getChartType().isTypeOf(t.ChartVisualizationType.BAR)||this.m_chartVisualization.getChartType().isTypeOf(t.ChartVisualizationType.STACKED_BAR)){r.putInteger(t.HighChartConstants.K_MIN_HEIGHT,i*s*n)}else{r.putInteger(t.HighChartConstants.K_MIN_WIDTH,i*s*n)}}};t.GenericHiChartRendererLatest.prototype.buildSeriesExt=function(e,a,n,i,s,r,o){let l=o.getChartDataPoints();if(this.m_chartVisualization.getChartType().isTypeOf(t.ChartVisualizationType.BAR_COLUMN)&&t.XStream.of(l).anyMatch(t=>t.hasStylingCategories())){let C=t.XLinkedHashMapByString.create();for(let e=0;e<l.size();e++){let a=l.get(e);let n=a.getStylingCategories();let i=t.XCollectionUtils.join(t.XStream.of(n).filterNullValues().collect(t.XStreamCollector.toListOfString(t=>t.getName())),":");if(!C.containsKey(i)){C.put(i,t.XList.create())}C.getByKey(i).add(t.XIntegerValue.create(e))}let _=C.getKeysAsIterator();while(_.hasNext()){let t=_.next();let l=C.getByKey(t);this.buildSeriesWithIndex(i.addNewStructure(),e,a,n,s,r,o,l,o.getChartDataPoints().get(l.get(0).getInteger()).getStylingCategories())}}else{this.buildSeriesWithIndex(i.addNewStructure(),e,a,n,s,r,o,null,null)}};t.GenericHiChartRendererLatest.prototype.buildSeriesWithIndex=function(e,a,n,i,s,r,o,l,C){let _=t.XList.create();if(t.XCollectionUtils.hasElements(C)){_.addAll(C)}_.add(r.getCategory());_.add(o.getCategory());let g=this.extractSeriesHeadingFromCategory(_);let u=t.XStream.of(_).filterNullValues().anyMatch(t=>t.hasEffectiveUnitScaleInformation());let S=o.getEffectiveStyleWithCategories(C);this.decorateWithStyle(e,t.HighChartConstants.K_COLOR,S);let T=o.getChartDataPoints();let h=e.putNewStructure(t.HighChartConstants.V_CUSTOM);let c;if(s.getXAxisReference()!==null&&!s.getXAxisReference().isHidden()){c=s.getXAxisReference();e.putString(t.HighChartConstants.K_X_AXIS,c.getName());t.GenericHighChartConverterLatest.buildCustomAxisContent(h,t.HighChartConstants.K_X_AXIS,this.m_chartVisualization.getXAxes().getIndex(c),c.getName())}if(s.getYAxisReference()!==null&&!s.getYAxisReference().isHidden()){c=s.getYAxisReference();e.putString(t.HighChartConstants.K_Y_AXIS,c.getName());t.GenericHighChartConverterLatest.buildCustomAxisContent(h,t.HighChartConstants.K_Y_AXIS,this.m_chartVisualization.getYAxes().getIndex(c),c.getName())}this.addSeriesGroupTag(h,r,n);this.addSeriesTag(h,o,i);e.putString(t.HighChartConstants.K_NAME,g);e.putStringNotNullAndNotEmpty(t.HighChartConstants.K_STACK,r.getName());e.putStringNotNullAndNotEmpty(t.HighChartConstants.K_TYPE,t.GenericHighChartConverterLatest.getChartTypeStringWithFallback(r.getChartType(),this.m_chartVisualization.getChartType()));e.putStringNotNullAndNotEmpty(t.HighChartConstants.K_INNER_SIZE,t.GenericHighChartConverterLatest.getInnerRadius(r.getChartType(),this.m_chartVisualization.getChartType()));e.putBoolean(t.HighChartConstants.K_SHOW_IN_LEGEND,true);e.putStringNotNullAndNotEmpty(t.HighChartConstants.K_STACKING,t.GenericHighChartConverterLatest.getStackingType(r.getName(),r.getStackingType(),r.getChartType(),this.m_chartVisualization.getChartType()));let I=e.putNewList(t.HighChartConstants.K_DATA);if(t.GenericHighChartConverterLatest.needsDirectDataLabels(this.m_chartVisualization.getChartType())){let a=e.putNewStructure(t.HighChartConstants.K_DATA_LABELS);a.putString(t.HighChartConstants.K_POINT_FORMAT,"{point.valueFormatted}");a.putBoolean(t.HighChartConstants.K_ENABLED,true)}if(t.GenericHighChartConverterLatest.isNestedPointChart(this.m_chartVisualization.getChartType())){let a=e.putNewList(t.HighChartConstants.K_LEVELS);let n=a.addNewStructure();n.putInteger(t.HighChartConstants.K_LEVEL,1);n.putInteger(t.HighChartConstants.K_BORDER_WIDTH,6);let i=n.putNewStructure(t.HighChartConstants.K_DATA_LABELS);i.putBoolean(t.HighChartConstants.K_ENABLED,true);i.putString(t.HighChartConstants.K_FORMAT,"<div>{point.name}</div><br/>");i.putString(t.HighChartConstants.K_ALIGN,t.HighChartConstants.V_LEFT);i.putString(t.HighChartConstants.K_VERTICAL_ALIGN,t.HighChartConstants.V_POSITION_TOP);let s=i.putNewStructure(t.HighChartConstants.K_STYLE);s.putString(t.HighChartConstants.K_FONT_SIZE,"14px");let r=a.addNewStructure();r.putInteger(t.HighChartConstants.K_LEVEL,2);let o=r.putNewStructure(t.HighChartConstants.K_DATA_LABELS);o.putBoolean(t.HighChartConstants.K_ENABLED,true);o.putString(t.HighChartConstants.K_FORMAT,"<div>{point.name}</div><br/><div>{point.valueFormatted}</div >")}let E=t.XHashSetOfString.create();let A=t.XList.create();if(!this.m_chartVisualization.getChartType().isAllowsPositiveAndNegativeValuesMix()&&o.doesCoordinateHavePositiveAndNegativeValues(t.GenericHighChartConverterLatest.getPieAndDoughnutVisualizationValueType())){this.m_messages.addString(t.GenericHiChartRendererMessages.POSITIVE_NEGATIVE_ERROR);return}for(let e=0;e<T.size();e++){let a=T.get(e);if(t.notNull(a)&&(t.isNull(l)||l.contains(t.XIntegerValue.create(e)))){let e=this.buildDataPoint(I,a,E,A,u);h=e.putNewStructure(t.HighChartConstants.V_CUSTOM);this.addSeriesGroupTag(h,r,n);this.addSeriesTag(h,o,i);this.addCategoryTag(h.putNewStructure(t.HighChartConstants.V_DATA_POINT),a.getCategory())}else if(t.GenericHighChartConverterLatest.needsNullDataPoints(this.m_chartVisualization.getChartType())){I.addNewStructure()}}let p=t.XStringBuffer.create();p.append("{point.");p.append(t.GenericHighChartConverterLatest.FORMATTED_CATEGORIES);p.append("}");for(let e=0;e<A.size();e++){let a=A.get(e);p.append("<b>{point.");p.append(a);p.append(t.GenericHighChartConverterLatest.HEADING_SUFFIX);p.append("}</b>: {point.");p.append(a);p.append(t.GenericHighChartConverterLatest.FULL_FORMATTING_SUFFIX);p.append("}")}let N=e.putNewStructure(t.HighChartConstants.K_TOOLTIP);N.putString(t.HighChartConstants.K_POINT_FORMAT,p.toString());N.putString(t.HighChartConstants.K_HEADER_FORMAT,"")};t.GenericHiChartRendererLatest.prototype.buildTitle=function(){let e=this.m_chartVisualization.getTitle();e=t.notNull(e)&&this.m_chartVisualization.getTitleStyle().isEnabled()?e:"";let a=this.m_chartJson.putNewStructure(t.HighChartConstants.K_TITLE);a.putString(t.HighChartConstants.K_TEXT,e);a.putString(t.HighChartConstants.K_ALIGN,t.XString.toLowerCase(this.m_chartVisualization.getTitleStyle().getTextAlign().toString()));let n=a.putNewStructure(t.HighChartConstants.K_STYLE);n.putString(t.HighChartConstants.K_FONT_FAMILY,this.m_chartVisualization.getTitleStyle().getFontFamily());n.putString(t.HighChartConstants.K_FONT_SIZE,this.m_chartVisualization.getTitleStyle().getFontSize());n.putString(t.HighChartConstants.K_FONT_STYLE,this.m_chartVisualization.getTitleStyle().getFontStyle());n.putString(t.HighChartConstants.K_FONT_WEIGHT,this.m_chartVisualization.getTitleStyle().getFontWeight());n.putString(t.HighChartConstants.K_COLOR,this.m_chartVisualization.getTitleStyle().getFontColor())};t.GenericHiChartRendererLatest.prototype.buildXAxes=function(e){this.buildAxes(this.m_chartVisualization.getXAxes(),t.HighChartConstants.K_X_AXIS,e)};t.GenericHiChartRendererLatest.prototype.buildYAxes=function(e){this.buildAxes(this.m_chartVisualization.getYAxes(),t.HighChartConstants.K_Y_AXIS,e)};t.GenericHiChartRendererLatest.prototype.buildZAxes=function(e){this.buildAxes(this.m_chartVisualization.getZAxes(),t.HighChartConstants.K_Z_AXIS,e)};t.GenericHiChartRendererLatest.prototype.collectChartTypes=function(){let e=t.XHashSetOfString.create();for(let a=0;a<this.m_chartVisualization.getCoordinateSystems().size();a++){let n=this.m_chartVisualization.getCoordinateSystems().get(a);for(let a=0;a<n.getSeriesGroups().size();a++){let i=n.getSeriesGroups().get(a);e.add(t.GenericHighChartConverterLatest.getChartTypeStringWithFallback(i.getChartType(),this.m_chartVisualization.getChartType()))}}return e};t.GenericHiChartRendererLatest.prototype.decorateGroupsPerAxis=function(e,a,n){if(!e.containsKey(a)){e.put(a,t.XIntegerValue.create(n))}else{e.put(a,t.XIntegerValue.create(n+e.getByKey(a).getInteger()))}};t.GenericHiChartRendererLatest.prototype.decorateWithStyle=function(e,a,n){let i=n.getPattern();let s=n.getCustomPattern();let r=n.getShape();let o=n.getCustomShape();let l=n.getLineStyle();if(t.isNull(i)&&t.isNull(s)||i===t.VisualizationBackgroundPatternType.SOLID){e.putStringNotNullAndNotEmpty(a,n.getColor())}else if(i===t.VisualizationBackgroundPatternType.NOFILL){e.putString(a,"#ffffff")}else{let r=e.putNewStructure(a);let o=r.putNewStructure(t.HighChartConstants.K_PATTERN);o.putStringNotNullAndNotEmpty(t.HighChartConstants.K_COLOR,n.getColor());if(t.notNull(i)){let e=t.GenericHighChartConverterLatest.getChartHatchingSize(i);o.putInteger(t.HighChartConstants.K_WIDTH,e);o.putInteger(t.HighChartConstants.K_HEIGHT,e);o.putString(t.HighChartConstants.K_PATH,t.GenericHighChartConverterLatest.getChartHatchingPath(i))}else{o.putString(t.HighChartConstants.K_PATH,s)}}e.putStringNotNullAndNotEmpty(t.HighChartConstants.K_DASH_STYLE,t.GenericHighChartConverterLatest.getDashStyleString(l));if(t.notNull(r)||t.notNull(o)){let a=e.putNewStructure(t.HighChartConstants.K_MARKER);if(t.notNull(r)){a.putStringNotNullAndNotEmpty(t.HighChartConstants.K_SYMBOL,t.GenericHighChartConverterLatest.getShapeName(r))}else{a.putStringNotNullAndNotEmpty(t.HighChartConstants.K_SYMBOL,o)}}};t.GenericHiChartRendererLatest.prototype.extractSeriesHeadingFromCategory=function(e){let a=t.XList.create();let n=t.XList.create();for(let i=0;i<e.size();i++){let s=e.get(i);if(t.isNull(s)){continue}let r=s.getEffectiveUnitScaleInformation();if(t.XStringUtils.isNotNullAndNotEmpty(r)){n.add(r)}let o=s.getCategoryElements();for(let t=0;t<o.size();t++){let e=o.get(t);let n=e.getText();if(!a.contains(n)){a.add(n)}}}let i=t.XCollectionUtils.join(a,t.HighChartConstants.V_HEADING_CATEGORY_SEPARATOR);if(t.XCollectionUtils.hasElements(n)){i=t.XStringUtils.concatenate4(i,t.HighChartConstants.V_HEADING_UNIT_INFO_PREFIX,t.XCollectionUtils.join(n,t.HighChartConstants.V_HEADING_CATEGORY_SEPARATOR),t.HighChartConstants.V_HEADING_UNIT_INFO_SUFFIX)}return i};t.GenericHiChartRendererLatest.prototype.getChartJson=function(){return this.m_chartJson};t.GenericHiChartRendererLatest.prototype.getFormattedCategoriesForTooltip=function(e){let a=t.XStringBuffer.create();let n=t.XList.create();this.appendCategoryElements(n,e.getCategory());this.appendCategoryElements(n,e.getParentSeries().getCategory());this.appendCategoryElements(n,e.getParentSeries().getParentSeriesGroup().getCategory());if(t.XCollectionUtils.hasElements(n)){let e=0;while(e<n.size()&&t.XStringUtils.isNullOrEmpty(n.get(e).getHeaderText())){e++}let i="";let s="";if(e<n.size()){i=n.get(e).getHeaderText();a.append("<b>");a.append(i);a.append("</b>");a.append(": ");a.append(n.get(e).getText());s=i}for(;e<n.size();e++){let r=n.get(e);i=r.getHeaderText();if(t.XString.isEqual(i,s)){a.append(" / ");a.append(r.getText())}else if(t.XStringUtils.isNotNullAndNotEmpty(i)){a.append("<br/><b>");a.append(i);a.append("</b>: ");a.append(r.getText())}s=i}}if(a.length()>0){a.append("<br/>")}return a.toString()};t.GenericHiChartRendererLatest.prototype.getGroupsPerAxis=function(){let e=t.XHashMapByString.create();let a=this.m_chartVisualization.getCoordinateSystems();for(let t=0;t<a.size();t++){let n=a.get(t);let i=n.getSeriesGroups().size();this.decorateGroupsPerAxis(e,n.getXAxisReference().getName(),i);this.decorateGroupsPerAxis(e,n.getYAxisReference().getName(),i)}return e};t.GenericHiChartRendererLatest.prototype.getName=function(e){let a=t.XStringBuffer.create();let n=t.XList.create();this.appendCategoryElements(n,e.getCategory());this.appendCategoryElements(n,e.getParentSeries().getCategory());this.appendCategoryElements(n,e.getParentSeries().getParentSeriesGroup().getCategory());if(t.XCollectionUtils.hasElements(n)){for(let t=0;t<n.size();t++){let e=n.get(t);a.append(e.getText());if(t<n.size()-1){a.append(" / ")}}}return a.toString()};t.GenericHiChartRendererLatest.prototype.isPercentageAxis=function(e){return t.XStream.of(this.m_chartVisualization.getCoordinateSystems()).filter(t=>t.getXAxisReference()===e||t.getYAxisReference()===e).allMatch(e=>t.XStream.of(e.getSeriesGroups()).allMatch(e=>e.getStackingType()===t.ChartVisualizationStackingType.PERCENT))};t.GenericHiChartRendererLatest.prototype.isStacked=function(){return this.m_chartVisualization.getChartType().isTypeOf(t.ChartVisualizationType.STACKED_BAR)||this.m_chartVisualization.getChartType().isTypeOf(t.ChartVisualizationType.STACKED_COLUMN)};t.GenericHiChartRendererLatest.prototype.needsPercentageLabels=function(){return this.m_chartVisualization.getChartType()===t.ChartVisualizationType.PIE||this.m_chartVisualization.getChartType()===t.ChartVisualizationType.DOUGHNUT||t.XStream.of(this.m_chartVisualization.getCoordinateSystems()).anyMatch(e=>t.XStream.of(e.getSeriesGroups()).anyMatch(e=>e.getStackingType()===t.ChartVisualizationStackingType.PERCENT))};t.GenericHiChartRendererLatest.prototype.releaseObject=function(){this.m_chartVisualization=null;this.m_messages=t.XObjectExt.release(this.m_messages);this.m_chartJson=t.XObjectExt.release(this.m_chartJson);this.m_resultObject=t.XObjectExt.release(this.m_resultObject);t.XObject.prototype.releaseObject.call(this)};t.GenericHiChartRendererLatest.prototype.render=function(){this.m_resultObject=t.PrFactory.createStructure();this.m_chartJson=this.m_resultObject.putNewStructure("ChartJson");this.m_messages=this.m_resultObject.putNewList("Messages");if(!this.m_chartAccessibilityEnabled){let e=this.m_chartJson.putNewStructure(t.HighChartConstants.K_ACCESSIBILITY);e.putBoolean(t.HighChartConstants.K_ENABLED,false)}let e=this.m_chartJson.putNewStructure(t.HighChartConstants.K_CHART);if(this.m_chartVisualization.isInverted()&&this.m_chartVisualization.getChartType()!==t.ChartVisualizationType.BAR){e.putBoolean(t.HighChartConstants.K_INVERTED,true)}e.putBoolean(t.HighChartConstants.K_POLAR,this.m_chartVisualization.isPolar());let a=t.GenericHighChartConverterLatest.getChartTypeString(this.m_chartVisualization.getChartType());e.putString(t.HighChartConstants.K_TYPE,a);this.buildScrollablePlotArea(e);e.putBoolean(t.HighChartConstants.K_ANIMATION,false);let n=this.m_chartJson.putNewStructure(t.HighChartConstants.K_LANG);n.putString(t.HighChartConstants.K_DECIMAL_POINT,",");n.putString(t.HighChartConstants.K_THOUSANDS_SEP,".");let i=e.putNewStructure(t.HighChartConstants.K_STYLE);i.putString(t.HighChartConstants.K_FONT_FAMILY,"LatoWeb, 'Open Sans', 'Helvetica Neue', Helvetica, Arial, 'sans serif'");let s=this.m_chartJson.putNewStructure(t.HighChartConstants.K_BOOST);let r=this.m_chartJson.putNewStructure(t.HighChartConstants.K_CREDITS);r.putBoolean(t.HighChartConstants.K_ENABLED,false);s.putBoolean(t.HighChartConstants.K_USER_GPU_TRANSLATIONS,true);this.buildTitle();let o=this.getGroupsPerAxis();this.buildXAxes(o);this.buildYAxes(o);this.buildZAxes(o);this.buildColorAxis();this.buildCoordinateSystems();t.GenericHighChartConverterLatest.chartPlotBuilder(this.m_chartVisualization,this.m_chartJson,this.collectChartTypes(),this.needsPercentageLabels(),this.isStacked());t.GenericHighChartConverterLatest.chartLegendBuilder(this.m_chartVisualization,this.m_chartJson);return this.m_resultObject};t.GenericHiChartRendererLatest.prototype.setChartConfigration=function(t){};t.GenericHighChartConverterLatest={COORDINATE_COLOR:"colorValue",COORDINATE_VALUE:"value",COORDINATE_X:"x",COORDINATE_Y:"y",COORDINATE_Z:"z",FORMATTED_CATEGORIES:"formattedCategories",FORMATTING_SUFFIX:"Formatted",FULL_FORMATTING_SUFFIX:"FormattedFull",HEADING_SUFFIX:"Heading",VISUALIZATION_CATEGORY_AXIS:"CategoryAxis",VISUALIZATION_CATEGORY_AXIS2:"CategoryAxis2",VISUALIZATION_VALUE_TYPE_COLOR:"Color",VISUALIZATION_VALUE_TYPE_SIZE:"Size",VISUALIZATION_VALUE_TYPE_VALUE:"Value",VISUALIZATION_VALUE_TYPE_VALUE_B:"ValueB",VISUALIZATION_VALUE_TYPE_VALUE_C:"ValueC",buildCustomAxisContent:function(e,a,n,i){let s=e.putNewStructure(t.HighChartConstants.K_AXIS);s.putString(t.HighChartConstants.K_TYPE,a);s.putInteger(t.HighChartConstants.V_INDEX,n);s.putString(t.HighChartConstants.V_NAME,i);return s},buildCustomCategoryElement:function(e,a,n){e.putInteger(t.HighChartConstants.V_INDEX,a);e.putString(t.HighChartConstants.V_NAME,n)},buildCustomCategoryWithElement:function(e,a,n,i,s){e.putInteger(t.HighChartConstants.V_INDEX,a);e.putString(t.HighChartConstants.V_NAME,n);t.GenericHighChartConverterLatest.buildCustomCategoryElement(e.putNewStructure(t.HighChartConstants.V_CATEGORY_ELEMENT),i,s)},chartLegendBuilder:function(e,a){let n=a.putNewStructure(t.HighChartConstants.K_LEGEND);n.putBoolean(t.HighChartConstants.K_ENABLED,e.getChartLegend().isEnabled());n.putInteger(t.HighChartConstants.K_SYMBOL_RADIUS,0);n.putString(t.HighChartConstants.K_LAYOUT,t.GenericHighChartConverterLatest.getSafeNameLow(e.getChartLegend().getLayoutDirection(),t.HighChartConstants.V_VERTICAL));n.putString(t.HighChartConstants.K_ALIGN,t.GenericHighChartConverterLatest.getSafeNameLow(e.getChartLegend().getHorizontalAlignment(),t.HighChartConstants.V_LEFT));n.putString(t.HighChartConstants.K_VERTICAL_ALIGN,t.GenericHighChartConverterLatest.getSafeNameLow(e.getChartLegend().getVerticalAlignment(),t.HighChartConstants.V_POSITION_TOP));n.putBoolean(t.HighChartConstants.K_SQUARE_SYMBOL,true);let i=n.putNewStructure(t.HighChartConstants.K_ITEM_STYLE);i.putString(t.HighChartConstants.K_FONT_FAMILY,e.getChartLegend().getLabelStyle().getFontFamily());i.putString(t.HighChartConstants.K_COLOR,e.getChartLegend().getLabelStyle().getFontColor());i.putString(t.HighChartConstants.K_FONT_STYLE,e.getChartLegend().getLabelStyle().getFontStyle());i.putString(t.HighChartConstants.K_FONT_WEIGHT,e.getChartLegend().getLabelStyle().getFontWeight());i.putString(t.HighChartConstants.K_FONT_SIZE,e.getChartLegend().getLabelStyle().getFontSize());i.putInteger(t.HighChartConstants.K_WIDTH,150);i.putString(t.HighChartConstants.K_TEXT_OVERFLOW,"none");let s=n.putNewStructure(t.HighChartConstants.K_ITEM_HOVER_STYLE);s.putString(t.HighChartConstants.K_CURSOR_STYLE,"default")},chartPlotBuilder:function(e,a,n,i,s){let r=n.getIterator();while(r.hasNext()){let n=r.next();let o=a.getStructureByKey(t.HighChartConstants.K_PLOT_OPTIONS);if(t.isNull(o)){o=a.putNewStructure(t.HighChartConstants.K_PLOT_OPTIONS)}let l=o.putNewStructure(t.HighChartConstants.K_SERIES);l.putInteger(t.HighChartConstants.K_CROP_THRESHOLD,1e3);l.putBoolean(t.HighChartConstants.K_ANIMATION,false);let C=o.putNewStructure(n);if(t.XString.isEqual(n,t.HighChartConstants.K_PIE)){let e=C.putNewStructure(t.HighChartConstants.K_STATES);let a=e.putNewStructure(t.HighChartConstants.K_SELECT);a.putBoolean(t.HighChartConstants.K_ENABLED,true);a.putString(t.HighChartConstants.K_COLOR,"#c0c0c0")}C.putBoolean(t.HighChartConstants.K_GROUPING,true);let _=C.putNewStructure(t.HighChartConstants.K_DATA_LABELS);_.putBoolean(t.HighChartConstants.K_ENABLED,e.getChartPlotArea().getLabelStyle().isEnabled());_.putBoolean(t.HighChartConstants.K_CROP,true);_.putNull(t.HighChartConstants.K_ALIGN);_.putString(t.HighChartConstants.K_COLOR,e.getChartPlotArea().getLabelStyle().getFontColor());_.putString(t.HighChartConstants.K_OVERFLOW,"none");_.putBoolean(t.HighChartConstants.K_ALLOW_OVERLAP,false);_.putBoolean(t.HighChartConstants.K_INSIDE,s);if(i){_.putString(t.HighChartConstants.K_FORMAT,"{point.percentage:.2f} %")}else{_.putString(t.HighChartConstants.K_FORMAT,"{point.yFormatted} ")}let g=_.putNewStructure(t.HighChartConstants.K_STYLE);g.putString(t.HighChartConstants.K_FONT_WEIGHT,e.getChartPlotArea().getLabelStyle().getFontWeight());g.putString(t.HighChartConstants.K_FONT_FAMILY,e.getChartPlotArea().getLabelStyle().getFontFamily());g.putString(t.HighChartConstants.K_FONT_SIZE,e.getChartPlotArea().getLabelStyle().getFontSize());g.putString(t.HighChartConstants.K_FONT_STYLE,e.getChartPlotArea().getLabelStyle().getFontStyle());g.putString(t.HighChartConstants.K_TEXT_OVERFLOW,"ellipsis")}},chartScrollBuilder:function(e,a,n,i,s){if(a.getChartType().isTypeOf(t.ChartVisualizationType.ABSTRACT_SERIES)){let e=i.getCategories().size();let a=n.getStructureByKey(t.HighChartConstants.K_SCROLL_BAR);if(t.isNull(a)){a=n.putNewStructure(t.HighChartConstants.K_SCROLL_BAR)}if(e>t.HighChartConstants.X_LIMIT){n.putInteger(t.HighChartConstants.K_MAX,t.HighChartConstants.X_LIMIT);a.putBoolean(t.HighChartConstants.K_ENABLED,true)}else{a.putBoolean(t.HighChartConstants.K_ENABLED,false);n.putInteger(t.HighChartConstants.K_MAX,e-1)}}},chartTitleBuilder:function(e,a,n){if(t.notNull(a)){let n=e.putNewStructure(t.HighChartConstants.K_TITLE);n.putString(t.HighChartConstants.K_TEXT,a);n.putString(t.HighChartConstants.K_ALIGN,t.HighChartConstants.V_LEFT)}if(t.notNull(n)){let a=e.putNewStructure(t.HighChartConstants.K_SUBTITLE);a.putString(t.HighChartConstants.K_TEXT,n);a.putString(t.HighChartConstants.K_ALIGN,t.HighChartConstants.V_LEFT)}},getChartHatchingPath:function(e){let a=null;if(e===t.VisualizationBackgroundPatternType.HATCHIING_1){a=t.HighChartConstants.V_PATTERN_PATH_HATCHING1}else if(e===t.VisualizationBackgroundPatternType.HATCHIING_2){a=t.HighChartConstants.V_PATTERN_PATH_HATCHING2}else if(e===t.VisualizationBackgroundPatternType.HATCHIING_3){a=t.HighChartConstants.V_PATTERN_PATH_HATCHING3}else if(e===t.VisualizationBackgroundPatternType.HATCHIING_4){a=t.HighChartConstants.V_PATTERN_PATH_HATCHING4}else if(e===t.VisualizationBackgroundPatternType.HATCHIING_5){a=t.HighChartConstants.V_PATTERN_PATH_HATCHING5}else if(e===t.VisualizationBackgroundPatternType.HATCHIING_6){a=t.HighChartConstants.V_PATTERN_PATH_HATCHING6}else if(e===t.VisualizationBackgroundPatternType.HATCHIING_7){a=t.HighChartConstants.V_PATTERN_PATH_HATCHING7}else if(e===t.VisualizationBackgroundPatternType.HATCHIING_8){a=t.HighChartConstants.V_PATTERN_PATH_HATCHING8}return a},getChartHatchingSize:function(e){let a=0;if(e===t.VisualizationBackgroundPatternType.HATCHIING_1){a=t.HighChartConstants.V_PATTERN_SIZE_HATCHING1}else if(e===t.VisualizationBackgroundPatternType.HATCHIING_2){a=t.HighChartConstants.V_PATTERN_SIZE_HATCHING2}else if(e===t.VisualizationBackgroundPatternType.HATCHIING_3){a=t.HighChartConstants.V_PATTERN_SIZE_HATCHING3}else if(e===t.VisualizationBackgroundPatternType.HATCHIING_4){a=t.HighChartConstants.V_PATTERN_SIZE_HATCHING4}else if(e===t.VisualizationBackgroundPatternType.HATCHIING_5){a=t.HighChartConstants.V_PATTERN_SIZE_HATCHING5}else if(e===t.VisualizationBackgroundPatternType.HATCHIING_6){a=t.HighChartConstants.V_PATTERN_SIZE_HATCHING6}else if(e===t.VisualizationBackgroundPatternType.HATCHIING_7){a=t.HighChartConstants.V_PATTERN_SIZE_HATCHING7}else if(e===t.VisualizationBackgroundPatternType.HATCHIING_8){a=t.HighChartConstants.V_PATTERN_SIZE_HATCHING8}return a},getChartTypeString:function(e){let a=t.isNull(e)?"None":t.XString.toLowerCase(e.getName());if(e.isTypeOf(t.ChartVisualizationType.BAR)){a=t.HighChartConstants.V_CHART_TYPE_BAR}else if(e.isTypeOf(t.ChartVisualizationType.COLUMN)){a=t.HighChartConstants.V_CHART_TYPE_COLUMN}else if(e.isTypeOf(t.ChartVisualizationType.PIE)||e.isTypeOf(t.ChartVisualizationType.DOUGHNUT)){a=t.HighChartConstants.V_TYPE_CHART_PIE}else if(e.isTypeOf(t.ChartVisualizationType.SCATTER_PLOT)){a=t.HighChartConstants.K_SCATTER}else if(e.isTypeOf(t.ChartVisualizationType.LINE)){a=t.HighChartConstants.V_CHART_TYPE_LINE}return a},getChartTypeStringWithFallback:function(e,a){return t.GenericHighChartConverterLatest.getChartTypeString(t.isNull(e)?a:e)},getCoordinateName:function(e,a){if(e.isTypeOf(t.ChartVisualizationType.BAR_COLUMN)||e.isTypeOf(t.ChartVisualizationType.BAR_COLUMN_GROUP_STACK)||e.isTypeOf(t.ChartVisualizationType.AREA)||e.isTypeOf(t.ChartVisualizationType.LINE)||e.isTypeOf(t.ChartVisualizationType.SPLINE)){if(t.XString.isEqual(a,t.GenericHighChartConverterLatest.VISUALIZATION_VALUE_TYPE_VALUE)||t.XString.isEqual(a,t.GenericHighChartConverterLatest.VISUALIZATION_VALUE_TYPE_VALUE_B)||t.XString.isEqual(a,t.GenericHighChartConverterLatest.VISUALIZATION_VALUE_TYPE_VALUE_C)){return t.GenericHighChartConverterLatest.COORDINATE_Y}}else if(e.isTypeOf(t.ChartVisualizationType.PIE)||e.isTypeOf(t.ChartVisualizationType.DOUGHNUT)){if(t.XString.isEqual(a,t.GenericHighChartConverterLatest.VISUALIZATION_VALUE_TYPE_SIZE)){return t.GenericHighChartConverterLatest.COORDINATE_Y}}else if(e.isTypeOf(t.ChartVisualizationType.SCATTER_PLOT)||e.isTypeOf(t.ChartVisualizationType.BUBBLE)){if(t.XString.isEqual(a,t.GenericHighChartConverterLatest.VISUALIZATION_VALUE_TYPE_VALUE)){return t.GenericHighChartConverterLatest.COORDINATE_X}if(t.XString.isEqual(a,t.GenericHighChartConverterLatest.VISUALIZATION_VALUE_TYPE_VALUE_B)){return t.GenericHighChartConverterLatest.COORDINATE_Y}if(t.XString.isEqual(a,t.GenericHighChartConverterLatest.VISUALIZATION_VALUE_TYPE_VALUE_C)||t.XString.isEqual(a,t.GenericHighChartConverterLatest.VISUALIZATION_VALUE_TYPE_SIZE)){return t.GenericHighChartConverterLatest.COORDINATE_Z}}else if(e.isTypeOf(t.ChartVisualizationType.PACKED_BUBBLE)||e.isTypeOf(t.ChartVisualizationType.TREE_MAP)){if(t.XString.isEqual(a,t.GenericHighChartConverterLatest.VISUALIZATION_VALUE_TYPE_VALUE)||t.XString.isEqual(a,t.GenericHighChartConverterLatest.VISUALIZATION_VALUE_TYPE_SIZE)){return t.GenericHighChartConverterLatest.COORDINATE_VALUE}}if(e.isTypeOf(t.ChartVisualizationType.HEAT_MAP)){if(t.XString.isEqual(a,t.GenericHighChartConverterLatest.VISUALIZATION_VALUE_TYPE_VALUE)||t.XString.isEqual(a,t.GenericHighChartConverterLatest.VISUALIZATION_VALUE_TYPE_SIZE)){return t.GenericHighChartConverterLatest.COORDINATE_VALUE}if(t.XString.isEqual(a,t.GenericHighChartConverterLatest.VISUALIZATION_CATEGORY_AXIS)){return t.GenericHighChartConverterLatest.COORDINATE_Y}if(t.XString.isEqual(a,t.GenericHighChartConverterLatest.VISUALIZATION_CATEGORY_AXIS2)){return t.GenericHighChartConverterLatest.COORDINATE_X}}if(t.XString.isEqual(a,t.GenericHighChartConverterLatest.VISUALIZATION_VALUE_TYPE_COLOR)){return t.GenericHighChartConverterLatest.COORDINATE_COLOR}return a},getDashStyleString:function(e){let a=null;if(e===t.ChartVisualizationLineStyle.SOLID){a=t.HighChartConstants.V_LINE_SOLID}else if(e===t.ChartVisualizationLineStyle.SHORT_DASH){a=t.HighChartConstants.V_LINE_SHORT_DASH}else if(e===t.ChartVisualizationLineStyle.SHORT_DOT){a=t.HighChartConstants.V_LINE_SHORT_DOT}else if(e===t.ChartVisualizationLineStyle.SHORT_DASH_DOT){a=t.HighChartConstants.V_LINE_SHORT_DASH_DOT}else if(e===t.ChartVisualizationLineStyle.SHORT_DASH_DOT_DOT){a=t.HighChartConstants.V_LINE_SHORT_DASH_DOT_DOT}else if(e===t.ChartVisualizationLineStyle.DOT){a=t.HighChartConstants.V_LINE_DOT}else if(e===t.ChartVisualizationLineStyle.DASH){a=t.HighChartConstants.V_LINE_DASH}else if(e===t.ChartVisualizationLineStyle.LONG_DASH){a=t.HighChartConstants.V_LINE_LONG_DASH}else if(e===t.ChartVisualizationLineStyle.DASH_DOT){a=t.HighChartConstants.V_LINE_DASH_DOT}else if(e===t.ChartVisualizationLineStyle.LONG_DASH_DOT){a=t.HighChartConstants.V_LINE_LONG_DASH_DOT}else if(e===t.ChartVisualizationLineStyle.LONG_DASH_DOT_DOT){a=t.HighChartConstants.V_LINE_LONG_DASH_DOT_DOT}return a},getInnerRadius:function(e,a){let n=t.isNull(e)?a:e;let i=null;if(n===t.ChartVisualizationType.DOUGHNUT){i="50%"}return i},getPieAndDoughnutVisualizationValueType:function(){return t.GenericHighChartConverterLatest.VISUALIZATION_VALUE_TYPE_SIZE},getSafeNameLow:function(e,a){let n;if(t.notNull(e)){n=t.XString.toLowerCase(e.getName())}else{n=a}return n},getShapeName:function(e){let a=null;if(e===t.VisualizationChartPointShape.CIRCLE){a=t.HighChartConstants.V_SYMBOL_CIRCLE}else if(e===t.VisualizationChartPointShape.SQUARE){a=t.HighChartConstants.V_SYMBOL_SQUARE}else if(e===t.VisualizationChartPointShape.DIAMOND){a=t.HighChartConstants.V_SYMBOL_DIAMOND}else if(e===t.VisualizationChartPointShape.TRIANGLE){a=t.HighChartConstants.V_SYMBOL_TRIANGLE}else if(e===t.VisualizationChartPointShape.TRIANGLE_DOWN){a=t.HighChartConstants.V_SYMBOL_TRIANGLE_DOWN}return a},getStackingType:function(e,a,n,i){let s=t.isNull(n)?i:n;let r=a;if(s.isTypeOf(t.ChartVisualizationType.BAR_COLUMN)&&a!==t.ChartVisualizationStackingType.PERCENT){r=t.ChartVisualizationStackingType.NORMAL}else if(s.isTypeOf(t.ChartVisualizationType.LINE)){r=t.ChartVisualizationStackingType.NONE}else if(s.isTypeOf(t.ChartVisualizationType.AREA)){r=t.ChartVisualizationStackingType.NORMAL}if(r===t.ChartVisualizationStackingType.NORMAL){return t.HighChartConstants.V_NORMAL}else if(r===t.ChartVisualizationStackingType.PERCENT){return t.HighChartConstants.V_PERCENT}else{return null}},isNestedPointChart:function(e){return e===t.ChartVisualizationType.TREE_MAP},needsDirectDataLabels:function(e){return e===t.ChartVisualizationType.HEAT_MAP},needsNullDataPoints:function(e){return e.isTypeOf(t.ChartVisualizationType.ABSTRACT_SERIES)},responsiveBuilder:function(e,a){let n=a.putNewStructure(t.HighChartConstants.K_RESPONSIVE);let i=n.putNewList(t.HighChartConstants.K_RULES);let s=i.addNewStructure();let r=s.putNewStructure(t.HighChartConstants.K_CONDITION);r.putInteger(t.HighChartConstants.K_MAX_HEIGHT,176);let o=s.putNewStructure(t.HighChartConstants.K_CHART_OPTIONS);let l=o.putNewStructure(t.HighChartConstants.K_LEGEND);l.putBoolean(t.HighChartConstants.K_ENABLED,false);let C=o.putNewStructure(t.HighChartConstants.K_Y_AXIS);let _=C.putNewStructure(t.HighChartConstants.K_LABELS);_.putInteger(t.HighChartConstants.K_ROTATION,344);_.putInteger(t.HighChartConstants.K_X,10);let g=i.addNewStructure();let u=g.putNewStructure(t.HighChartConstants.K_CONDITION);u.putInteger(t.HighChartConstants.K_MAX_WIDTH,359);u.putInteger(t.HighChartConstants.K_MIN_HEIGHT,70);let S=g.putNewStructure(t.HighChartConstants.K_CHART_OPTIONS);let T=S.putNewStructure(t.HighChartConstants.K_CHART);T.putBoolean(t.HighChartConstants.K_ANIMATION,false);let h=50;let c=50;let I=50;let E=50;let A=T.putNewList(t.HighChartConstants.K_SPACING);A.addInteger(h);A.addInteger(c);A.addInteger(I);A.addInteger(E);let p=S.putNewStructure(t.HighChartConstants.K_PLOT_OPTIONS);let N=p.putNewStructure(t.HighChartConstants.K_SERIES);let L=N.putNewStructure(t.HighChartConstants.K_DATA_LABELS);let d=L.putNewStructure(t.HighChartConstants.K_STYLE);if(t.XString.isEqual(e,t.HighChartConstants.K_PIE)){d.putString(t.HighChartConstants.K_FONT_SIZE,"9px");L.putInteger(t.HighChartConstants.K_CONNECTOR_WIDTH,0);L.putInteger(t.HighChartConstants.K_DISTANCE,-30);L.putBoolean(t.HighChartConstants.K_INSIDE,true);T.putInteger(t.HighChartConstants.K_MARGIN_TOP,40);L.putString(t.HighChartConstants.K_POINT_FORMAT,"{point.percentage:.2f} %");L.putBoolean(t.HighChartConstants.K_ENABLED,true)}else{T.putInteger(t.HighChartConstants.K_MARGIN_TOP,50);d.putString(t.HighChartConstants.K_FONT_SIZE,"9px")}let O=S.putNewStructure(t.HighChartConstants.K_TITLE);let H=O.putNewStructure(t.HighChartConstants.K_STYLE);H.putString(t.HighChartConstants.K_FONT_SIZE,"13px");H.putBoolean(t.HighChartConstants.K_FLOATING,true);let R=S.putNewStructure(t.HighChartConstants.K_SUBTITLE);R.putString(t.HighChartConstants.K_TEXT,"");let m=S.putNewStructure(t.HighChartConstants.K_X_AXIS);let b=m.putNewStructure(t.HighChartConstants.K_LABELS);let V=b.putNewStructure(t.HighChartConstants.K_STYLE);V.putString(t.HighChartConstants.K_FONT_SIZE,"10px");let f=S.putNewStructure(t.HighChartConstants.K_Y_AXIS);let y=f.putNewStructure(t.HighChartConstants.K_LABELS);let D=y.putNewStructure(t.HighChartConstants.K_STYLE);D.putString(t.HighChartConstants.K_FONT_SIZE,"10px");let K=i.addNewStructure();let P=K.putNewStructure(t.HighChartConstants.K_CONDITION);P.putInteger(t.HighChartConstants.K_MAX_WIDTH,176);let G=K.putNewStructure(t.HighChartConstants.K_CHART_OPTIONS);let z=G.putNewStructure(t.HighChartConstants.K_CHART);z.putBoolean(t.HighChartConstants.K_ANIMATION,false);let B=G.putNewStructure(t.HighChartConstants.K_LEGEND);B.putBoolean(t.HighChartConstants.K_ENABLED,false);B.putInteger(t.HighChartConstants.K_Y,25);let M=G.putNewStructure(t.HighChartConstants.K_PLOT_OPTIONS);let X=M.putNewStructure(t.HighChartConstants.K_SERIES);X.putInteger(t.HighChartConstants.K_MIN_SIZE,100);let U=X.putNewStructure(t.HighChartConstants.K_DATA_LABELS);U.putInteger(t.HighChartConstants.K_CONNECTOR_WIDTH,0);U.putInteger(t.HighChartConstants.K_DISTANCE,-25);let F=U.putNewStructure(t.HighChartConstants.K_STYLE);F.putString(t.HighChartConstants.K_FONT_SIZE,"8px");z.putInteger(t.HighChartConstants.K_MARGIN_TOP,40);let w=G.putNewStructure(t.HighChartConstants.K_TITLE);let x=w.putNewStructure(t.HighChartConstants.K_STYLE);x.putString(t.HighChartConstants.K_FONT_SIZE,"10px");let Y=G.putNewStructure(t.HighChartConstants.K_SUBTITLE);Y.putString(t.HighChartConstants.K_TEXT,"");let W=G.putNewStructure(t.HighChartConstants.K_X_AXIS);let v=W.putNewStructure(t.HighChartConstants.K_LABELS);let Z=v.putNewStructure(t.HighChartConstants.K_STYLE);Z.putString(t.HighChartConstants.K_FONT_SIZE,"9px");let j=G.putNewStructure(t.HighChartConstants.K_Y_AXIS);let k=j.putNewStructure(t.HighChartConstants.K_LABELS);let J=k.putNewStructure(t.HighChartConstants.K_STYLE);J.putString(t.HighChartConstants.K_FONT_SIZE,"9px")}};t.SacGridRendererFactoryImpl=function(){};t.SacGridRendererFactoryImpl.prototype=new t.XObject;t.SacGridRendererFactoryImpl.prototype._ff_c="SacGridRendererFactoryImpl";t.SacGridRendererFactoryImpl.create=function(){return new t.SacGridRendererFactoryImpl};t.SacGridRendererFactoryImpl.prototype.newGridRenderer=function(e){return t.GenericTableRenderer.create(e)};t.VizFrameRenderer=function(){};t.VizFrameRenderer.prototype=new t.XObject;t.VizFrameRenderer.prototype._ff_c="VizFrameRenderer";t.VizFrameRenderer.CHART_DATA="chartData";t.VizFrameRenderer.DIMENSIONS="oDimensions";t.VizFrameRenderer.IDENTITY="identity";t.VizFrameRenderer.MEASURES="oMeasures";t.VizFrameRenderer.NAME="name";t.VizFrameRenderer.TYPE="type";t.VizFrameRenderer.UNIT="unit";t.VizFrameRenderer.VALUE="value";t.VizFrameRenderer.create=function(e){let a=new t.VizFrameRenderer;a.m_chartVisualization=e;a.m_resultObject=t.PrFactory.createStructure();return a};t.VizFrameRenderer.prototype.m_chartVisualization=null;t.VizFrameRenderer.prototype.m_resultObject=null;t.VizFrameRenderer.prototype.buildChartData=function(e){let a=this.m_chartVisualization.getCoordinateSystems();let n=this.m_chartVisualization.getXAxes().get(0);let i=n.getAxisDomain().getAsCategorial().getCategories();for(let a=0;a<i.size();a++){let s=e.addNewStructure();let r=i.get(a);s.putString(t.XString.replace(n.getName(),":",""),r.getText())}for(let n=0;n<a.size();n++){let i=a.get(n);for(let a=0;a<i.getSeriesGroups().size();a++){let n=i.getSeriesGroups().get(a);let s=n.getSeries().get(0);for(let n=0;n<s.getChartDataPoints().size();n++){let i=e.getStructureAt(n);let r=s.getChartDataPoints().get(n);let o=r.getCoordinates().get(0).getValue();if(o.getValueType().isNumber()){let e=t.XValueUtil.getDouble(o,false,true);i.putDouble(t.XStringUtils.concatenate2("m",t.XInteger.convertToString(a)),e)}}}}};t.VizFrameRenderer.prototype.buildDimensions=function(e){let a=this.m_chartVisualization.getXAxes().get(0);let n=e.addNewStructure();let i=a.getText();let s=t.XString.replace(a.getName(),":","");n.putString(t.VizFrameRenderer.IDENTITY,s);n.putString(t.VizFrameRenderer.NAME,i);n.putString(t.VizFrameRenderer.VALUE,t.XStringUtils.concatenate3("{",s,"}"))};t.VizFrameRenderer.prototype.buildMeasures=function(e,a){let n=0;let i=this.m_chartVisualization.getCoordinateSystems();for(let s=0;s<i.size();s++){let r=i.get(s);for(let i=0;i<r.getSeriesGroups().size();i++){let s=e.addNewStructure();let o=a.addNewStructure();let l=r.getSeriesGroups().get(i);for(let e=0;e<l.getSeries().size();e++){let a=l.getSeries().get(e);let i=t.XList.create();let r=a.getStylingCategories();if(t.XCollectionUtils.hasElements(r)){i.addAll(r)}i.add(l.getCategory());i.add(a.getCategory());let C=t.XStringUtils.concatenate2("m",t.XInteger.convertToString(n));let _=this.extractSeriesHeadingFromCategory(i);let g=t.XStringUtils.concatenate3("{",C,"}");s.putString(t.VizFrameRenderer.IDENTITY,C);o.putString(t.VizFrameRenderer.IDENTITY,C);s.putString(t.VizFrameRenderer.NAME,_);o.putString(t.VizFrameRenderer.NAME,_);s.putString(t.VizFrameRenderer.UNIT,"");s.putString(t.VizFrameRenderer.VALUE,g);n=n+1}}}};t.VizFrameRenderer.prototype.extractSeriesHeadingFromCategory=function(e){let a=t.XList.create();let n=t.XList.create();for(let i=0;i<e.size();i++){let s=e.get(i);if(t.isNull(s)){continue}let r=s.getEffectiveUnitScaleInformation();if(t.XStringUtils.isNotNullAndNotEmpty(r)){n.add(r)}let o=s.getCategoryElements();for(let t=0;t<o.size();t++){let e=o.get(t);let n=e.getText();if(!a.contains(n)){a.add(n)}}}let i=t.XCollectionUtils.join(a,t.HighChartConstants.V_HEADING_CATEGORY_SEPARATOR);if(t.XCollectionUtils.hasElements(n)){i=t.XStringUtils.concatenate4(i,t.HighChartConstants.V_HEADING_UNIT_INFO_PREFIX,t.XCollectionUtils.join(n,t.HighChartConstants.V_HEADING_CATEGORY_SEPARATOR),t.HighChartConstants.V_HEADING_UNIT_INFO_SUFFIX)}return i};t.VizFrameRenderer.prototype.getChartJson=function(){return null};t.VizFrameRenderer.prototype.render=function(){this.m_resultObject.putString(t.VizFrameRenderer.TYPE,t.XString.toLowerCase(this.m_chartVisualization.getChartType().getName()));this.buildChartData(this.m_resultObject.putNewList(t.VizFrameRenderer.CHART_DATA));this.buildMeasures(this.m_resultObject.putNewList(t.VizFrameRenderer.MEASURES),this.m_resultObject.putNewList("oChartMeasures"));this.buildDimensions(this.m_resultObject.putNewList(t.VizFrameRenderer.DIMENSIONS));return this.m_resultObject};t.VizFrameRenderer.prototype.setChartConfigration=function(t){};t.VizInstanceConstants={ALIGN:"align",AREA:"area",AUTOMATIC:"automatic",AUTO_RESIZE:"autoResize",AXIS:"axis",BAR_COLUMN:"barcolumn",BINDINGS:"bindings",BOTTOM:"bottom",CAN_EXPAND:"canexpand",CATEGORY:"category",CATEGORY_AXIS:"categoryAxis",CATEGORY_AXIS_VISIBLE:"visible",CATEGORY_ELEMENT:"categoryElement",CENTER:"center",CHART_TITLE:"chartTitle",CHILDREN:"children",COLOR:"color",COMBINATION_COLUMN_LINE:"combstackedbcl",COMPLEX_UNIT:"complex_unit",CONTEXT:"context",CURRENT_CANONICAL_CAPTION:"currentCanonicalCaption",CUSTOM:"custom",DATA:"data",DATASET_ID:"datasetId",DATA_LABEL:"dataLabel",DATA_LABEL_VISIBLE:"visible",DATA_POINT:"dataPoint",DATA_POINTS:"dataPoints",DATA_POINTS_COUNT:"dataPointsCount",DATA_TYPE:"dataType",DEFAULT_CHART_HEIGHT:500,DEFAULT_CHART_WIDTH:500,DESCS:"descs",DIMENSION:"Dimension",DIMENSION_DISPLAY_NAME:"dimensionDisplayName",DIMENSION_ID:"dimensionId",DIMENSION_MEMBER_ID:"dimensionMemberId",DIRECTION:"direction",DISABLED:"disabled",EXPANDED:"expanded",EXPS:"exps",FEED:"feed",FIELDS:"fields",FIELD_RESULT_MEMBER:"ResultMember",FORMAT_INFO:"formatInfo",FORMAT_STRING:"formatString",GENERAL:"general",GENERIC_INTERNAL_ERROR:"GENERIC_INTERNAL_ERROR",HAS_MULTI_MEASURES:"hasMultiMeasures",HEIGHT:"height",HIDE_WHEN_OVERLAP:"hideWhenOverlap",HIERARCHIES:"hierarchies",HORIZONTAL:"horizontal",HORIZONTAL_ALIGN:"horizontalAlign",ID:"id",INDEX:"index",INFOS:"infos",INLINE:"inline",INNER_RADIUS_RATIO:"innerRadiusRatio",INVERTED:"inverted",IS_PREFIX:"isPrefix",KEY:"key",KEY_NAME:"keyName",LABEL:"label",LANGUAGE:"language",LAYOUT:"layout",LEAF:"Leaf",LEFT:"left",LEGEND_GROUP:"legendGroup",LEVEL:"level",LINE:"line",MAX_ABSOLUTE_VALUE:"maxAbsValue",MAX_DATA_POINTS:1e5,MAX_DRILL_LEVEL:"maxDrillLevel",MAX_FRACTION_DIGITS:"maximumFractionDigits",MEASURE:"Measure",MEASURE_ENTITY_ID:"measureEntityId",MEASURE_ID:"measureId",MEASURE_NAMES:"measureNames",MEMBERS:"members",MEMBER_ID:"memberId",MEMBER_ID_PARTS:"memberIdParts",MESSAGES:"Messages",METADATA:"metadata",METRIC:"metric",MIDDLE:"middle",MINUS_SIGN:"minusSign",MIN_FRACTION_DIGITS:"minimumFractionDigits",MULTIPLIER:"multiplier",NAME:"name",NEGATIVE_VALUES:"NEGATIVE_VALUES",NODE_TYPE:"nodeType",NO_CHART_FOR_CURRENT_SELECTION:"NO_CHART_FOR_CURRENT_SELECTION",NO_VALUE_AXIS_FOR_LINE_CHART:"NO_VALUE_AXIS_FOR_LINE_CHART",NULL_VALUE:"(Null)",OPTIONS:"options",OVERLAP_Y_AXES:"overlapYAxes",PADDING_BOTTOM:"paddingBottom",PADDING_BOTTOM_VALUE:32,PADDING_LEFT:"paddingLeft",PADDING_RIGHT:"paddingRight",PADDING_SIDE_VALUE:16,PARENT:"parent",PARENT_ENTITY_KEY:"parentEntityKey",PAYLOAD:"payload",PIE:"pie",PIE_ABSOLUTE:"pieAbsolute",PLOT_AREA:"plotArea",PLUS_SIGN:"plusSign",POSITION:"position",PREFIX:"prefix",PROPERTIES:"properties",RIGHT:"right",ROOT:"Root",SCALE:"scale",SCALE_FORMAT:"scaleFormat",SCALE_FORMAT_LONG:"long",SCALE_FORMAT_SHORT:"short",SELECTED:"selected",SEMANTIC_TYPE:"semanticType",SERIES:"series",SERIES_GROUP:"seriesGroup",SHOW_FIRST_LAST_HIGHEST_LOWEST:"showFirstLastHighestLowest",SHOW_LABEL_NAMES:"showLabelNames",SHOW_SIGN_AS:"showSignAs",SIZE:"size",SOURCE:"source",STACKED_BAR:"stackedbar",STACKING:"stacking",SUBTITLE:"subtitle",SUFFIX:"suffix",SYMBOL:"symbol",TEXT:"text",TITLE:"title",TOO_MANY_DATA_POINTS:"TOO_MANY_DATA_POINTS",TOP:"top",TO_USE:"toUse",TRELLIS:"trellis",TYPE:"type",TYPES:"types",UNBOOKED_DATA_MAP:"unbookedDataMap",UNIT:"unit",USER_PROFILE:"userProfile",VALS:"vals",VALUE:"value",VALUE_AXIS:"valueAxis",VALUE_AXIS_2:"valueAxis2",VALUE_AXIS_VISIBLE:"visible",VALUE_B_Y_LEFT:"ValueB:YLeft",VALUE_B_Y_RIGHT:"ValueB:YRight",VALUE_Y_LEFT:"Value:YLeft",VERTICAL:"vertical",VERTICAL_ALIGN:"verticalAlign",VISIBLE:"visible",WATERFALL:"waterfall",WATERFALL_HIERARCHY:"waterfallHierarchy",WIDTH:"width",X_AXIS:"xAxis"};t.VizInstanceRenderer=function(){};t.VizInstanceRenderer.prototype=new t.XObject;t.VizInstanceRenderer.prototype._ff_c="VizInstanceRenderer";t.VizInstanceRenderer.DEFAULT_TEMPLATE_PATH="/default_template.json";t.VizInstanceRenderer.create=function(e){let a=new t.VizInstanceRenderer;a.m_chartVisualization=e;a.m_resultObject=null;return a};t.VizInstanceRenderer.prototype.m_cachedDataPoints=null;t.VizInstanceRenderer.prototype.m_chartVisualization=null;t.VizInstanceRenderer.prototype.m_messages=null;t.VizInstanceRenderer.prototype.m_resultObject=null;t.VizInstanceRenderer.prototype.m_vizChartTypes=null;t.VizInstanceRenderer.prototype.addAxisCustomContext=function(e,a,n,i,s,r,o){let l=e.addNewStructure();let C=l.putNewStructure(t.VizInstanceConstants.AXIS);C.putString(t.VizInstanceConstants.TYPE,t.VizInstanceConstants.X_AXIS);C.putInteger(t.VizInstanceConstants.INDEX,a);C.putString(t.VizInstanceConstants.NAME,n.getName());let _=C.putNewStructure(t.VizInstanceConstants.CATEGORY);_.putInteger(t.VizInstanceConstants.INDEX,i);_.putString(t.VizInstanceConstants.NAME,s.getName());let g=_.putNewStructure(t.VizInstanceConstants.CATEGORY_ELEMENT);g.putInteger(t.VizInstanceConstants.INDEX,r);g.putString(t.VizInstanceConstants.NAME,o.getName())};t.VizInstanceRenderer.prototype.addCategoryTag=function(e,a){if(t.notNull(a)){let n=a.getParentChartDomain();let i=n.getCategories().getIndex(a);let s=n.getChartAxis();let r=e.putNewStructure(t.VizInstanceConstants.AXIS);r.putString(t.VizInstanceConstants.NAME,s.getName());let o=r.putNewStructure(t.VizInstanceConstants.CATEGORY);o.putString(t.VizInstanceConstants.NAME,a.getName());o.putInteger(t.VizInstanceConstants.INDEX,i)}};t.VizInstanceRenderer.prototype.addDataPointCategory=function(e,a,n){let i=t.PrFactory.createStructure();i.putString("d",a);i.putString("v",n);i.putString("a",n);e.add(i)};t.VizInstanceRenderer.prototype.addDataPointCategoryName=function(e,a){for(let n=0;n<a.size();n++){let i=a.getValuesAsReadOnlyList().get(n);let s=this.isTotalCategoryElement(i);if(s){i=t.XStream.of(i).filter(e=>!t.XStringUtils.isNullOrEmpty(e.getText())).collect(t.XStreamCollector.toList());let a=this.getCategoryName(i);this.addDataPointCategory(e,a,a)}else{let t=this.getCategoryName(i);let a=this.getCategoryMemberName(i);this.addDataPointCategory(e,t,a)}}};t.VizInstanceRenderer.prototype.addDataPointCustomContext=function(e,a,n){let i=e.addNewStructure();let s=a.getParentSeries();let r=s.getParentSeriesGroup();let o=n.getIndex(r);let l=i.putNewStructure(t.VizInstanceConstants.SERIES_GROUP);l.putInteger(t.VizInstanceConstants.INDEX,o);l.putString(t.VizInstanceConstants.NAME,a.getParentSeries().getName());this.addCategoryTag(l,a.getParentSeries().getParentSeriesGroup().getCategory());let C=r.getSeries().getIndex(s);let _=i.putNewStructure(t.VizInstanceConstants.SERIES);_.putInteger(t.VizInstanceConstants.INDEX,C);_.putString(t.VizInstanceConstants.NAME,s.getName());this.addCategoryTag(_,s.getCategory());let g=i.putNewStructure(t.VizInstanceConstants.DATA_POINT);this.addCategoryTag(g,a.getCategory())};t.VizInstanceRenderer.prototype.addDataPointValue=function(e,a){let n=a.getCoordinates().get(0).getPlainValue();if(a.isEmptyValue()||n.getValueType().isString()&&t.XString.isEqual(n.getStringRepresentation(),"")){e.addNull();return}if(n.getValueType().isNumber()){let a=t.XValueUtil.getDouble(n,false,true);e.addDouble(t.XDoubleValue.create(a).getDouble())}};t.VizInstanceRenderer.prototype.appendCategoryElements=function(e,a){if(t.notNull(a)){e.addAll(t.XStream.of(a.getCategoryElements()).filter(e=>t.XStringUtils.isNotNullAndNotEmpty(e.getHeaderText())).collect(t.XStreamCollector.toList()))}};t.VizInstanceRenderer.prototype.buildAxisCustomContext=function(e){let a=e.putNewList(t.VizInstanceConstants.AXIS);let n=this.m_chartVisualization.getXAxes();if(n.isEmpty()){return}let i=this.getAllCategorialAxisCategoryElements();t.XStream.of(i).forEach(t=>{let e=t.getParentCategory();let i=e.getParentChartDomain();let s=e.getCategoryElements();let r=i.getChartAxis();let o=n.getIndex(r);let l=i.getCategories().getIndex(e);let C=s.getIndex(t);this.addAxisCustomContext(a,o,r,l,e,C,t)})};t.VizInstanceRenderer.prototype.buildBaseDimensionId=function(e){let a=t.PrFactory.createStructure();a.putString(t.VizInstanceConstants.MEASURE_ID,this.m_chartVisualization.getDatasetId());let n=t.PrFactory.createStructure();n.putString(t.VizInstanceConstants.DIMENSION_ID,e);let i=t.PrFactory.createList();i.add(a);i.add(n);return i};t.VizInstanceRenderer.prototype.buildBindings=function(e){let a=e.putNewList(t.VizInstanceConstants.BINDINGS);this.buildValueAxis(a);if(this.m_chartVisualization.getChartType()===t.ChartVisualizationType.METRIC){this.buildTrellis(a);return}if(this.isPieOrDoughnutChart()){this.buildColorAxis(a);this.buildSizeAxis(a);return}this.buildCategoryAxis(a);this.buildColorAxis(a)};t.VizInstanceRenderer.prototype.buildCategoryAxis=function(e){let a=this.m_chartVisualization.getChartDimensions();let n=t.XStream.of(a).allMatch(t=>t.isOnStylingAxis());let i=e.addNewStructure();i.putString(t.VizInstanceConstants.FEED,t.VizInstanceConstants.CATEGORY_AXIS);let s=i.putNewList(t.VizInstanceConstants.SOURCE);if(a.hasElements()&&!n){t.XStream.of(a).forEach(t=>{if(!t.isOnStylingAxis()){s.addString(this.buildDimensionId(t.getName()))}})}else{let e=s.addNewStructure();e.putNewList(t.VizInstanceConstants.MEASURE_NAMES).addString(t.VizInstanceConstants.VALUE_AXIS)}};t.VizInstanceRenderer.prototype.buildChartSubtitle=function(e){let a=this.getDataPoints();let n=t.XHashSetOfString.create();let i=t.XHashSetOfString.create();t.XStream.of(a).forEach(e=>{let a=e.getCoordinates().get(0);if(t.XStringUtils.isNotNullAndNotEmpty(a.getScalingText())){n.add(a.getScalingText())}let s=a.getUnitInformation();if(t.notNull(s)){let e=s.getFirstString();let a=s.getSecondString();if(t.XStringUtils.isNotNullAndNotEmpty(e)){i.add(t.XString.trim(e))}if(t.XStringUtils.isNotNullAndNotEmpty(a)){i.add(t.XString.trim(a))}}});let s=this.buildChartSubtitleScales(n.getValuesAsReadOnlyList());let r=t.XStringUtils.isNotNullAndNotEmpty(s);let o=t.XStringBuffer.create();if(r||i.hasElements()){o.append(t.XStringUtils.concatenate2(this.getLocalization().getText(t.VizInstanceRendererI18n.I18N_IN)," "))}if(r&&!i.hasElements()){o.append(s)}else if(i.hasElements()){for(let e=0;e<i.size();e++){let a=i.getValuesAsReadOnlyList().get(e);if(e>0){o.append(", ")}o.append(r?t.XStringUtils.concatenate3(s," ",a):a)}}e.putString(t.VizInstanceConstants.SUBTITLE,o.toString())};t.VizInstanceRenderer.prototype.buildChartSubtitleScales=function(e){let a=t.XStringBuffer.create();if(e.hasElements()){for(let n=0;n<e.size();n++){if(n>0){a.append(", ")}a.append(t.XString.trim(e.get(n)))}}return a.toString()};t.VizInstanceRenderer.prototype.buildChartTitle=function(e){let a=this.getAllOrderedKeyFigures();let n=this.m_chartVisualization.getChartDimensions();let i=t.XStringBuffer.create();i.append(this.buildValueAxisTitle(a));if(!n.isEmpty()){i.append(t.XStringUtils.concatenate3(" ",this.getLocalization().getText(t.VizInstanceRendererI18n.I18N_PER)," "));for(let t=0;t<n.size();t++){if(t>0){i.append(", ")}i.append(n.get(t).getText())}}e.putString(t.VizInstanceConstants.TITLE,i.toString())};t.VizInstanceRenderer.prototype.buildColorAxis=function(e){let a=this.m_chartVisualization.getChartDimensions();let n=t.XStream.of(a).anyMatch(t=>t.isOnStylingAxis());let i=this.getKeyFigures();if(n){let n=e.addNewStructure();n.putString(t.VizInstanceConstants.FEED,t.VizInstanceConstants.COLOR);let i=n.putNewList(t.VizInstanceConstants.SOURCE);t.XStream.of(a).forEach(t=>{if(t.isOnStylingAxis()){i.addString(this.buildDimensionId(t.getName()))}});if(this.isPieOrDoughnutChart()){return}let s=i.addNewStructure();s.putNewList(t.VizInstanceConstants.MEASURE_NAMES).addString(t.VizInstanceConstants.VALUE_AXIS);if(this.isLineChart()){s.getListByKey(t.VizInstanceConstants.MEASURE_NAMES).addString(t.VizInstanceConstants.VALUE_AXIS_2)}}else if(i.size()>1){let a=e.addNewStructure();a.putString(t.VizInstanceConstants.FEED,t.VizInstanceConstants.COLOR);let n=a.putNewList(t.VizInstanceConstants.SOURCE);let i=n.addNewStructure();i.putNewList(t.VizInstanceConstants.MEASURE_NAMES).addString(t.VizInstanceConstants.VALUE_AXIS);if(this.isLineChart()){i.getListByKey(t.VizInstanceConstants.MEASURE_NAMES).addString(t.VizInstanceConstants.VALUE_AXIS_2)}}};t.VizInstanceRenderer.prototype.buildCustomChartTitle=function(e){let a=e.putNewStructure(t.VizInstanceConstants.CHART_TITLE);this.buildChartTitle(a);this.buildChartSubtitle(a)};t.VizInstanceRenderer.prototype.buildCustomContext=function(e){let a=e.putNewStructure(t.VizInstanceConstants.CONTEXT);this.buildDataPointsCustomContext(a);this.buildAxisCustomContext(a)};t.VizInstanceRenderer.prototype.buildCustomMetadata=function(e){let a=this.getAllOrderedKeyFigures();let n=this.m_chartVisualization.getChartDimensions();if(a.size()>1&&!n.isEmpty()){let a=e.putNewStructure(t.VizInstanceConstants.CUSTOM);a.putBoolean(t.VizInstanceConstants.HAS_MULTI_MEASURES,true);if(n.size()>1){this.buildWaterfallHierarchy(a)}}else if(a.size()===1&&n.size()>1){let a=e.putNewStructure(t.VizInstanceConstants.CUSTOM);a.putBoolean(t.VizInstanceConstants.HAS_MULTI_MEASURES,false);this.buildWaterfallHierarchy(a)}};t.VizInstanceRenderer.prototype.buildCustomStructure=function(e){let a=e.getStructureByKey(t.VizInstanceConstants.CUSTOM);this.buildCustomContext(a);this.buildCustomChartTitle(a);this.buildUserProfile(a)};t.VizInstanceRenderer.prototype.buildData=function(e){let a=t.XLinkedHashMapByString.create();let n=this.getDataPoints();t.XStream.of(n).forEach(e=>{let n=this.getEffectiveCategoryElements(e);let i=this.getCategoryMap(n);let s=this.getUniqueCategoryName(n);let r=a.getByKey(s);if(t.isNull(r)){r=t.PrFactory.createList();this.addDataPointCategoryName(r,i);this.addDataPointValue(r,e);a.put(s,r)}else{this.addDataPointValue(r,e)}});let i=e.putNewList(t.VizInstanceConstants.DATA);t.XStream.of(a).forEach(i.add.bind(i))};t.VizInstanceRenderer.prototype.buildDataPointsCustomContext=function(e){let a=e.putNewList(t.VizInstanceConstants.DATA_POINTS);let n=this.getDataPoints();let i=this.getAllSeriesGroups();let s=t.XLinkedHashMapByString.create();t.XStream.of(n).forEach(e=>{let a=this.getEffectiveCategoryElements(e);let n=this.getCategoryMap(a);let r=this.getUniqueCategoryName(a);let o=s.getByKey(r);if(t.isNull(o)){o=t.PrFactory.createList();this.addDataPointCategoryName(o,n);this.addDataPointCustomContext(o,e,i);s.put(r,o)}else{this.addDataPointCustomContext(o,e,i)}});t.XStream.of(s).forEach(a.add.bind(a))};t.VizInstanceRenderer.prototype.buildDataStructure=function(e){let a=e.getStructureByKey(t.VizInstanceConstants.DATA);this.buildMetadata(a);if(this.m_chartVisualization.getChartType()===t.ChartVisualizationType.WATERFALL&&this.m_chartVisualization.getChartDimensions().size()>1){this.buildWaterfallData(a)}else{this.buildData(a)}};t.VizInstanceRenderer.prototype.buildDimensionId=function(t){let e=this.buildBaseDimensionId(t);return e.toString()};t.VizInstanceRenderer.prototype.buildDimensionMemberId=function(e,a){let n=this.buildBaseDimensionId(e);let i=t.PrFactory.createStructure();i.putString(t.VizInstanceConstants.MEMBER_ID,a);n.add(i);return n.toString()};t.VizInstanceRenderer.prototype.buildDimensions=function(e){let a=this.m_chartVisualization.getChartDimensions();if(a.hasElements()){t.XStream.of(a).forEach(a=>{let n=e.addNewStructure();n.putString(t.VizInstanceConstants.ID,this.buildDimensionId(a.getName()));n.putString(t.VizInstanceConstants.NAME,a.getText());n.putInteger(t.VizInstanceConstants.INDEX,e.size());n.putString(t.VizInstanceConstants.SEMANTIC_TYPE,t.VizInstanceConstants.DIMENSION);n.putString(t.VizInstanceConstants.DATA_TYPE,"string");n.putInteger(t.VizInstanceConstants.MAX_DRILL_LEVEL,0);let i=n.putNewList(t.VizInstanceConstants.INFOS);let s=this.getDimensionFieldValues(a,a.getKeyField());let r=this.getDimensionFieldValues(a,a.getTextField());for(let e=0;e<s.size();e++){let a=i.addNewStructure();let n=s.get(e);a.putString(t.VizInstanceConstants.KEY,n);if(t.notNull(r)&&e<r.size()){let n=r.get(e);a.putString(t.VizInstanceConstants.VALUE,n)}else{a.putString(t.VizInstanceConstants.VALUE,n)}}})}};t.VizInstanceRenderer.prototype.buildFields=function(e){let a=e.putNewList(t.VizInstanceConstants.FIELDS);this.buildDimensions(a);this.buildMeasures(a)};t.VizInstanceRenderer.prototype.buildFormatInfo=function(e,a){let n=a.getCoordinates().get(0);let i=e.addNewStructure();i.putString(t.VizInstanceConstants.FORMAT_STRING,this.getFormatString(n));let s=i.putNewStructure(t.VizInstanceConstants.SCALE);s.putString(t.VizInstanceConstants.MULTIPLIER,this.getMultiplier(n));s.putString(t.VizInstanceConstants.PREFIX,"");s.putString(t.VizInstanceConstants.SUFFIX,n.getScalingText());s.putString(t.VizInstanceConstants.TO_USE,"");s.putString(t.VizInstanceConstants.SCALE_FORMAT,this.getScaleFormat(n));let r=i.putNewStructure(t.VizInstanceConstants.OPTIONS);r.putInteger(t.VizInstanceConstants.MIN_FRACTION_DIGITS,n.getDecimalPlaces());r.putInteger(t.VizInstanceConstants.MAX_FRACTION_DIGITS,n.getDecimalPlaces());if(n.getValueSign()!==null){let e=i.putNewStructure(t.VizInstanceConstants.PLUS_SIGN);let a=i.putNewStructure(t.VizInstanceConstants.MINUS_SIGN);e.putString(t.VizInstanceConstants.SYMBOL,"");e.putBoolean(t.VizInstanceConstants.IS_PREFIX,true);a.putString(t.VizInstanceConstants.SYMBOL,"-");a.putBoolean(t.VizInstanceConstants.IS_PREFIX,true);if(n.getSignPresentation()===t.SacSignPresentation.BEFORE_NUMBER){i.putString(t.VizInstanceConstants.SHOW_SIGN_AS,"+ / -")}else if(n.getSignPresentation()===t.SacSignPresentation.BRACKETS){i.putString(t.VizInstanceConstants.SHOW_SIGN_AS,"( )")}}let o=i.putNewStructure(t.VizInstanceConstants.UNIT);o.putString(t.VizInstanceConstants.SYMBOL,"");o.putString(t.VizInstanceConstants.PREFIX,"");o.putString(t.VizInstanceConstants.SUFFIX,"");o.putString(t.VizInstanceConstants.TO_USE,"");let l=n.getComplexUnitInfo();if(t.notNull(l)){let e=l.getUnitDescriptions().get(0);let a=l.getUnitValues().get(0);o.putString(t.VizInstanceConstants.SYMBOL,e);o.putString(t.VizInstanceConstants.SUFFIX,a);let n=l.getUnitTypes().get(0);let s=l.getUnitExponents().get(0).getInteger();let r=i.putNewStructure(t.VizInstanceConstants.COMPLEX_UNIT);let C=r.putNewList(t.VizInstanceConstants.TYPES);C.addString(n);let _=r.putNewList(t.VizInstanceConstants.VALS);_.addString(a);let g=r.putNewList(t.VizInstanceConstants.DESCS);g.addString(e);let u=r.putNewList(t.VizInstanceConstants.EXPS);u.addInteger(s)}};t.VizInstanceRenderer.prototype.buildGeneralPropertiesStructure=function(e){let a=e.getStructureByKey(t.VizInstanceConstants.GENERAL);this.setInvertedOrientation(a);this.setSelected(a);this.setUnbookedDataMap(a);this.setShowFirstLastHighestLowest(a);this.setAxisLabelDirection(a);this.setChartPadding(a)};t.VizInstanceRenderer.prototype.buildHierarchyElement=function(e,a,n,i,s,r,o,l,C,_,g){let u=e.addNewStructure().putNewStructure(a);u.putString(t.VizInstanceConstants.PARENT,n);u.putNewList(t.VizInstanceConstants.CHILDREN).addAllStrings(i);u.putInteger(t.VizInstanceConstants.LEVEL,s);u.putString(t.VizInstanceConstants.CURRENT_CANONICAL_CAPTION,r);u.put(t.VizInstanceConstants.MEMBER_ID_PARTS,o);u.putBoolean(t.VizInstanceConstants.EXPANDED,l);u.putString(t.VizInstanceConstants.NODE_TYPE,C);u.putBoolean(t.VizInstanceConstants.CAN_EXPAND,false);u.putString(t.VizInstanceConstants.MEASURE_ENTITY_ID,_);u.putString(t.VizInstanceConstants.DIMENSION_MEMBER_ID,g)};t.VizInstanceRenderer.prototype.buildHierarchyElementKey=function(e,a,n){let i=t.XStringBuffer.create().append(e);if(t.notNull(a)){i.append("/").append(a)}if(t.notNull(n)){i.append("/").append(n)}return i.toString()};t.VizInstanceRenderer.prototype.buildLegendGroupStructure=function(e){let a=e.putNewStructure(t.VizInstanceConstants.LEGEND_GROUP);this.setLegendVisible(a);this.buildLegendLayout(a)};t.VizInstanceRenderer.prototype.buildLegendLayout=function(e){let a=e.putNewStructure(t.VizInstanceConstants.LAYOUT);let n=t.XString.toLowerCase(this.m_chartVisualization.getChartLegend().getVerticalAlignment().getName());a.putString(t.VizInstanceConstants.POSITION,t.VizInstanceConstants.TOP);if(this.isInlineLegendWithRelevantChart()){a.putString(t.VizInstanceConstants.ALIGN,t.VizInstanceConstants.HORIZONTAL);a.putString(t.VizInstanceConstants.VERTICAL_ALIGN,t.VizInstanceConstants.INLINE);a.putString(t.VizInstanceConstants.HORIZONTAL_ALIGN,t.VizInstanceConstants.CENTER)}else if(t.XString.isEqual(n,t.VizInstanceConstants.MIDDLE)){a.putString(t.VizInstanceConstants.ALIGN,t.VizInstanceConstants.VERTICAL);a.putString(t.VizInstanceConstants.VERTICAL_ALIGN,t.VizInstanceConstants.TOP);a.putString(t.VizInstanceConstants.HORIZONTAL_ALIGN,t.VizInstanceConstants.RIGHT)}else{let e=t.XString.toLowerCase(this.m_chartVisualization.getChartLegend().getHorizontalAlignment().getName());a.putString(t.VizInstanceConstants.ALIGN,t.VizInstanceConstants.HORIZONTAL);a.putString(t.VizInstanceConstants.VERTICAL_ALIGN,n);a.putString(t.VizInstanceConstants.HORIZONTAL_ALIGN,e)}};t.VizInstanceRenderer.prototype.buildMeasureId=function(e,a){let n=t.PrFactory.createStructure();n.putString(t.VizInstanceConstants.DATASET_ID,this.m_chartVisualization.getDatasetId());let i=t.PrFactory.createStructure();i.putString(t.VizInstanceConstants.DIMENSION_ID,e);let s=t.PrFactory.createStructure();s.putString(t.VizInstanceConstants.MEASURE_ID,a);let r=t.PrFactory.createList();r.add(n);r.add(i);r.add(s);return r.toString()};t.VizInstanceRenderer.prototype.buildMeasures=function(e){let a=this.m_chartVisualization.getChartKeyFigureDimensions().get(0);let n=this.getAllOrderedKeyFigures();let i=this.getDataPoints();t.XStream.of(n).forEach(n=>{let s=e.addNewStructure();s.putString(t.VizInstanceConstants.ID,this.buildMeasureId(a.getName(),n.getName()));s.putInteger(t.VizInstanceConstants.INDEX,e.size());s.putString(t.VizInstanceConstants.SEMANTIC_TYPE,t.VizInstanceConstants.MEASURE);s.putString(t.VizInstanceConstants.KEY_NAME,n.getName());s.putString(t.VizInstanceConstants.NAME,t.XStringUtils.concatenate2(n.getText(),n.getFormatInfo()));s.putDouble(t.VizInstanceConstants.MAX_ABSOLUTE_VALUE,3649995.68);let r=s.putNewList(t.VizInstanceConstants.FORMAT_INFO);let o=t.XStream.of(i).filter(e=>t.XString.isEqual(e.getCoordinates().get(0).getHeading(),n.getText())).collect(t.XStreamCollector.toList());t.XStream.of(o).forEach(t=>{this.buildFormatInfo(r,t)})})};t.VizInstanceRenderer.prototype.buildMemberIdParts=function(e,a,n){let i=t.PrFactory.createList();i.addString(e);if(t.notNull(a)){i.addString(a)}if(t.notNull(n)){i.addString(n)}return i};t.VizInstanceRenderer.prototype.buildMetadata=function(e){let a=e.getStructureByKey(t.VizInstanceConstants.METADATA);this.buildFields(a);if(this.m_chartVisualization.getChartType()===t.ChartVisualizationType.WATERFALL){this.buildCustomMetadata(a)}};t.VizInstanceRenderer.prototype.buildPayloadStructure=function(e){let a=e.getStructureByKey(t.VizInstanceConstants.PAYLOAD);this.setChartType(a);this.setDefaultChartSize(a);this.buildBindings(a);this.buildProperties(a)};t.VizInstanceRenderer.prototype.buildPlotAreaDataLabel=function(e){let a=e.putNewStructure(t.VizInstanceConstants.DATA_LABEL);if(this.isPieOrDoughnutChart()){this.setPieAbsolute(a)}this.setShowDataLabel(a);this.setAutoResize(a);this.setHideWhenOverlap(a)};t.VizInstanceRenderer.prototype.buildPlotAreaPropertiesStructure=function(e){let a=e.getStructureByKey(t.VizInstanceConstants.PLOT_AREA);this.setStacking(a);this.setInnerRadiusRatio(a);this.setOverlapYAxes(a);this.setShowLabelNames(a);this.buildPlotAreaDataLabel(a)};t.VizInstanceRenderer.prototype.buildProperties=function(e){let a=e.getStructureByKey(t.VizInstanceConstants.PROPERTIES);this.buildValueAxisTitles();this.buildGeneralPropertiesStructure(a);this.buildPlotAreaPropertiesStructure(a);this.buildLegendGroupStructure(a)};t.VizInstanceRenderer.prototype.buildSizeAxis=function(e){let a=this.m_chartVisualization.getChartKeyFigureDimensions().get(0);let n=this.getAllOrderedKeyFigures();if(n.hasElements()){let i=e.addNewStructure();i.putString(t.VizInstanceConstants.FEED,t.VizInstanceConstants.SIZE);let s=i.putNewList(t.VizInstanceConstants.SOURCE);t.XStream.of(n).forEach(t=>{s.addString(this.buildMeasureId(a.getName(),t.getName()))})}};t.VizInstanceRenderer.prototype.buildTrellis=function(e){let a=this.m_chartVisualization.getChartDimensions();if(a.hasElements()){let n=e.addNewStructure();n.putString(t.VizInstanceConstants.FEED,t.VizInstanceConstants.TRELLIS);let i=n.putNewList(t.VizInstanceConstants.SOURCE);t.XStream.of(a).forEach(t=>{i.addString(this.buildDimensionId(t.getName()))})}};t.VizInstanceRenderer.prototype.buildUserProfile=function(e){let a=this.m_chartVisualization.getUserProfile();if(t.XObjectExt.isValidObject(a)){let n=e.putNewStructure(t.VizInstanceConstants.USER_PROFILE);n.putString(t.VizInstanceConstants.LANGUAGE,a.getLanguage())}};t.VizInstanceRenderer.prototype.buildValueAxis=function(e){let a=this.m_chartVisualization.getAxisByName(t.VizInstanceConstants.VALUE_Y_LEFT);if(t.notNull(a)){this.buildValueAxisMember(e,a,t.VizInstanceConstants.VALUE_AXIS)}if(this.isLineChart()){let a=this.m_chartVisualization.getAxisByName(t.VizInstanceConstants.VALUE_B_Y_RIGHT);if(t.notNull(a)){this.buildValueAxisMember(e,a,t.VizInstanceConstants.VALUE_AXIS_2)}let n=this.m_chartVisualization.getAxisByName(t.VizInstanceConstants.VALUE_B_Y_LEFT);if(t.notNull(n)){this.buildValueAxisMember(e,n,t.VizInstanceConstants.VALUE_AXIS_2)}}};t.VizInstanceRenderer.prototype.buildValueAxisMember=function(e,a,n){let i=this.m_chartVisualization.getChartKeyFigureDimensions().get(0);let s=this.getAxisOrderedKeyFigures(a);if(s.hasElements()){let a=e.addNewStructure();a.putString(t.VizInstanceConstants.FEED,n);let r=a.putNewList(t.VizInstanceConstants.SOURCE);t.XStream.of(s).forEach(t=>{r.addString(this.buildMeasureId(i.getName(),t.getName()))})}};t.VizInstanceRenderer.prototype.buildValueAxisTitle=function(e){let a=t.XStringBuffer.create();if(e.hasElements()){for(let n=0;n<e.size();n++){if(n>0){a.append(", ")}a.append(t.XStringUtils.concatenate2(e.get(n).getText(),e.get(n).getFormatInfo()))}}return a.toString()};t.VizInstanceRenderer.prototype.buildValueAxisTitles=function(){if(this.m_chartVisualization.getChartType()===t.ChartVisualizationType.LINE){let e=this.m_chartVisualization.getAxisByName(t.VizInstanceConstants.VALUE_Y_LEFT);let a=this.m_chartVisualization.getAxisByName(t.VizInstanceConstants.VALUE_B_Y_RIGHT);let n=this.m_chartVisualization.getChartDimensions();let i=t.XStream.of(n).allMatch(t=>t.isOnStylingAxis());let s=t.notNull(e)&&!n.hasElements()&&t.isNull(a)||t.isNull(a)&&i;if(s){this.setValueAxisTitle(t.VizInstanceConstants.VALUE_AXIS,this.getLocalization().getText(t.VizInstanceRendererI18n.I18N_MEASURE_VALUES))}else{if(t.notNull(e)){let a=this.getAxisOrderedKeyFigures(e);this.setValueAxisTitle(t.VizInstanceConstants.VALUE_AXIS,this.buildValueAxisTitle(a))}if(t.notNull(a)){let e=this.getAxisOrderedKeyFigures(a);this.setValueAxisTitle(t.VizInstanceConstants.VALUE_AXIS_2,this.buildValueAxisTitle(e))}}}};t.VizInstanceRenderer.prototype.buildWaterfallData=function(e){let a=this.getDataPoints();let n=t.XLinkedHashMapByString.create();t.XStream.of(a).forEach(e=>{let a=this.getEffectiveCategoryElements(e);let i=t.XStream.of(a).allMatch(t=>t.isTotal());if(i){return}let s=a.get(0).getText();let r=n.getByKey(s);if(t.isNull(r)){r=t.XList.create();r.add(e);n.put(s,r)}else{r.add(e)}});let i=t.XStream.of(n.getValuesAsReadOnlyList()).filter(e=>!t.XStream.of(e).allMatch(t=>t.isEmptyValue())).collect(t.XStreamCollector.toList());let s=this.getAllOrderedKeyFigures();let r=s.get(s.size()-1).getText();let o=t.XLinkedHashMapByString.create();t.XStream.of(i).forEach(e=>{let a=t.PrFactory.createList();t.XStream.of(e).forEach(e=>{let n=this.getEffectiveCategoryElements(e);let i=this.isTotalCategoryElement(n);if(i){if(a.isEmpty()){let t=n.get(0).getText();this.addDataPointCategory(a,t,t);a.add(null);this.addDataPointValue(a,e)}else{this.addDataPointValue(a,e)}return}let s=this.getCategoryMap(n);let l=this.getUniqueCategoryName(n);let C=o.getByKey(l);if(t.isNull(C)){C=t.PrFactory.createList();this.addDataPointCategoryName(C,s);this.addDataPointValue(C,e);o.put(l,C)}else{if(t.XString.isEqual(e.getCoordinates().get(0).getHeading(),r)){C.add(null)}else{this.addDataPointValue(C,e)}}});o.put(t.XStringUtils.concatenate2(a.get(0).asStructure().getStringByKey("d")," & Total"),a)});let l=e.putNewList(t.VizInstanceConstants.DATA);t.XStream.of(o).forEach(l.add.bind(l))};t.VizInstanceRenderer.prototype.buildWaterfallHierarchy=function(e){let a=e.putNewList(t.VizInstanceConstants.WATERFALL_HIERARCHY);let n=this.m_chartVisualization.getChartDimensions().get(0);let i=this.getDimensionFieldValues(n,n.getKeyField());t.XCollectionUtils.forEach(i,t=>{this.buildWaterfallHierarchyRoot(a,t)})};t.VizInstanceRenderer.prototype.buildWaterfallHierarchyLeafChildren=function(e,a,n,i,s){let r=t.XList.create();let o=this.m_chartVisualization.getChartDimensions().get(1);let l=this.getDimensionFieldValues(o,o.getKeyField());t.XCollectionUtils.forEach(l,o=>{let l=this.buildHierarchyElementKey(n,o,i);r.add(l);let C=t.XStringUtils.concatenate3(o," ",n);let _=this.buildMemberIdParts(n,o,i);let g=this.buildMeasureId(this.m_chartVisualization.getChartKeyFigureDimensions().get(0).getName(),i);let u=this.buildDimensionMemberId(a,n);this.buildHierarchyElement(e,l,s,t.XList.create(),2,C,_,false,t.VizInstanceConstants.LEAF,g,u)});return r};t.VizInstanceRenderer.prototype.buildWaterfallHierarchyMiddleChildren=function(e,a,n,i,s){let r=t.XList.create();t.XCollectionUtils.forEach(i,i=>{let o=this.buildHierarchyElementKey(n,i,null);r.add(o);let l=this.buildWaterfallHierarchyLeafChildren(e,a,n,i,o);let C=this.buildMemberIdParts(n,i,null);let _=this.buildMeasureId(this.m_chartVisualization.getChartKeyFigureDimensions().get(0).getName(),i);let g=this.buildDimensionMemberId(a,n);this.buildHierarchyElement(e,o,s,l,1,n,C,true,t.VizInstanceConstants.LEAF,_,g)});return r};t.VizInstanceRenderer.prototype.buildWaterfallHierarchyRoot=function(e,a){let n=this.m_chartVisualization.getChartDimensions().get(0).getName();let i=this.getMeasureMembers();let s=i.get(i.size()-1);let r=i.sublist(0,i.size()-1);let o=this.buildHierarchyElementKey(a,s,null);let l=this.buildWaterfallHierarchyMiddleChildren(e,n,a,r,o);let C=this.buildMemberIdParts(a,s,null);let _=this.buildMeasureId(this.m_chartVisualization.getChartKeyFigureDimensions().get(0).getName(),s);let g=this.buildDimensionMemberId(n,a);this.buildHierarchyElement(e,o,null,l,0,a,C,true,t.VizInstanceConstants.ROOT,_,g)};t.VizInstanceRenderer.prototype.getAllCategorialAxisCategoryElements=function(){return t.XStream.of(this.m_chartVisualization.getXAxes()).filter(e=>e.getAxisDomain().getAxisDomainType().isTypeOf(t.ChartAxisDomainType.CATEGORIAL)).flatMap(e=>t.XStream.of(e.getAxisDomain().getAsCategorial().getCategories())).flatMap(e=>t.XStream.of(e.getCategoryElements())).collect(t.XStreamCollector.toList())};t.VizInstanceRenderer.prototype.getAllOrderedKeyFigures=function(){let e=this.m_chartVisualization.getCoordinateSystems();let a=t.XStream.of(e).flatMap(e=>t.XStream.ofString(t.XStringTokenizer.splitString(e.getYAxisReference().getText(),", "))).collect(t.XStreamCollector.toListOfString(e=>t.XString.trim(e.getString())));let n=this.getKeyFigures();let i=this.getNormalizedAxisMeasureNames(n,a);return this.getOrderedKeyFigures(i,n)};t.VizInstanceRenderer.prototype.getAllSeriesGroups=function(){return t.XStream.of(this.m_chartVisualization.getCoordinateSystems()).flatMap(e=>t.XStream.of(e.getSeriesGroups())).collect(t.XStreamCollector.toList())};t.VizInstanceRenderer.prototype.getAxisOrderedKeyFigures=function(e){let a=t.XStream.ofString(t.XStringTokenizer.splitString(e.getText(),", ")).collect(t.XStreamCollector.toListOfString(e=>t.XString.trim(e.getString())));let n=this.getKeyFigures();let i=this.getNormalizedAxisMeasureNames(n,a);return this.getOrderedKeyFigures(i,n)};t.VizInstanceRenderer.prototype.getCategoryMap=function(e){let a=t.XLinkedHashMapByString.create();t.XStream.of(e).forEach(e=>{let n=e.getDimensionName()!==null?e.getDimensionName():t.VizInstanceConstants.NULL_VALUE;let i=a.getByKey(n);if(t.isNull(i)){i=t.XList.create();i.add(e);a.put(n,i)}else{i.add(e)}});return a};t.VizInstanceRenderer.prototype.getCategoryMemberName=function(t){return this.getCategoryString(t,true)};t.VizInstanceRenderer.prototype.getCategoryName=function(t){return this.getCategoryString(t,false)};t.VizInstanceRenderer.prototype.getCategoryString=function(e,a){let n=t.XStringBuffer.create();if(t.XCollectionUtils.hasElements(e)){for(let i=0;i<e.size();i++){let s=e.get(i);let r=a?s.getMemberText():s.getText();let o=n.toString();let l=!a&&t.XStringUtils.containsString(o,r,false);if(!l){if(t.XStringUtils.isNotNullAndNotEmpty(o)){n.append(" / ")}n.append(t.XStringUtils.isNullOrEmpty(r)?t.VizInstanceConstants.NULL_VALUE:r)}}}return n.toString()};t.VizInstanceRenderer.prototype.getChartJson=function(){return this.m_resultObject};t.VizInstanceRenderer.prototype.getDataPoints=function(){return this.m_cachedDataPoints};t.VizInstanceRenderer.prototype.getDimensionFieldValues=function(e,a){if(t.isNull(a)||a.getFieldValues().isEmpty()){return t.XList.create()}let n=a.getFieldValues().createListCopy();if(this.m_chartVisualization.getChartType()!==t.ChartVisualizationType.WATERFALL){return n}let i=t.XList.create();for(let a=0;a<n.size();a++){if(t.XString.isEqual(e.getMemberTypes().get(a),t.VizInstanceConstants.FIELD_RESULT_MEMBER)){continue}i.add(n.get(a))}return i};t.VizInstanceRenderer.prototype.getEffectiveCategoryElements=function(e){let a=t.XList.create();this.appendCategoryElements(a,e.getCategory());this.appendCategoryElements(a,e.getParentSeries().getCategory());this.appendCategoryElements(a,e.getParentSeries().getParentSeriesGroup().getCategory());return a};t.VizInstanceRenderer.prototype.getFormatString=function(e){let a=e.getFormatPatternSimple();while(t.XString.endsWith(a,",")){a=t.XString.substring(a,0,t.XString.size(a)-1)}return a};t.VizInstanceRenderer.prototype.getKeyFigures=function(){let e=this.m_chartVisualization.getChartKeyFigureDimensions();if(e.hasElements()){return e.get(0).getKeyFigures()}return t.XList.create()};t.VizInstanceRenderer.prototype.getLocalization=function(){return t.XLocalizationCenter.getCenter()};t.VizInstanceRenderer.prototype.getMeasureMembers=function(){return t.XStream.of(this.getAllOrderedKeyFigures()).mapToString(t=>t.getName()).collect(t.XStreamCollector.toListOfString(t=>t.getString()))};t.VizInstanceRenderer.prototype.getMultiplier=function(e){let a=e.getNumericShift();if(t.isNull(a)||a.getInteger()===0){return"1E+0"}if(a.getInteger()>0){return t.XStringUtils.concatenate2("1E+",t.XInteger.convertToString(a.getInteger()))}else{return t.XStringUtils.concatenate2("1E",t.XInteger.convertToString(a.getInteger()))}};t.VizInstanceRenderer.prototype.getNormalizedAxisMeasureNames=function(e,a){let n=t.XList.createWithList(a);for(let i=0;e.size()>i;i++){let s=e.get(i);let r=s.getFormatInfo();let o=t.XStringUtils.concatenate2(s.getText(),r);let l=a.getIndex(o);if(l<0){continue}let C=a.get(l);if(t.XStringUtils.isNotNullAndNotEmpty(r)){n.set(l,t.XString.substring(C,0,t.XString.size(C)-t.XString.size(r)))}else{n.set(l,C)}}return n};t.VizInstanceRenderer.prototype.getOrderedKeyFigures=function(e,a){return t.XStream.ofString(e).map(e=>t.XStream.of(a).find(a=>t.XString.isEqual(e.getString(),a.getText())).orElse(null)).collect(t.XStreamCollector.toList())};t.VizInstanceRenderer.prototype.getScaleFormat=function(e){let a=e.getScalingText();if(t.XStringUtils.isNullOrEmpty(a)){return""}if(t.XString.isEqual(a,"k")||t.XString.isEqual(a,"m")||t.XString.isEqual(a,"bn")){return t.VizInstanceConstants.SCALE_FORMAT_SHORT}else{return t.VizInstanceConstants.SCALE_FORMAT_LONG}};t.VizInstanceRenderer.prototype.getUniqueCategoryName=function(e){return t.XStringUtils.concatenate3(this.getCategoryName(e)," & ",this.getCategoryMemberName(e))};t.VizInstanceRenderer.prototype.hasNegativeValuesForPieOrDonutChart=function(e){let a=this.getDataPoints();let n=t.XStream.of(a).anyMatch(e=>{let a=e.getCoordinates().get(0).getValue();return a.getValueType().isNumber()&&t.XValueUtil.getDouble(a,false,true)<0});return(e===t.ChartVisualizationType.PIE||e===t.ChartVisualizationType.DOUGHNUT)&&n};t.VizInstanceRenderer.prototype.hasOnlyEmptyValues=function(){let e=this.getDataPoints();return t.XStream.of(e).allMatch(e=>{let a=e.getCoordinates().get(0).getPlainValue();return e.isEmptyValue()||a.getValueType().isString()&&t.XString.isEqual(a.getStringRepresentation(),"")})};t.VizInstanceRenderer.prototype.initializeDataPoints=function(){let e=t.XStream.of(this.m_chartVisualization.getCoordinateSystems()).flatMap(e=>t.XStream.of(e.getSeriesGroups())).flatMap(e=>t.XStream.of(e.getSeries())).flatMap(e=>t.XStream.of(e.getChartDataPoints())).collect(t.XStreamCollector.toList());let a=this.m_chartVisualization.getChartType()===t.ChartVisualizationType.WATERFALL&&this.m_chartVisualization.getChartDimensions().size()<2;this.m_cachedDataPoints=a?t.XStream.of(e).filter(t=>!this.isTotalCategoryElement(this.getEffectiveCategoryElements(t))).collect(t.XStreamCollector.toList()):e};t.VizInstanceRenderer.prototype.initializeVizChartTypes=function(){this.m_vizChartTypes=t.XHashMapByString.create();this.m_vizChartTypes.put(t.ChartVisualizationType.BAR.getName(),t.VizInstanceConstants.BAR_COLUMN);this.m_vizChartTypes.put(t.ChartVisualizationType.COLUMN.getName(),t.VizInstanceConstants.BAR_COLUMN);this.m_vizChartTypes.put(t.ChartVisualizationType.STACKED_BAR.getName(),t.VizInstanceConstants.STACKED_BAR);this.m_vizChartTypes.put(t.ChartVisualizationType.STACKED_COLUMN.getName(),t.VizInstanceConstants.STACKED_BAR);this.m_vizChartTypes.put(t.ChartVisualizationType.LINE.getName(),t.VizInstanceConstants.LINE);this.m_vizChartTypes.put(t.ChartVisualizationType.AREA.getName(),t.VizInstanceConstants.AREA);this.m_vizChartTypes.put(t.ChartVisualizationType.COMB_COLUMN_LINE.getName(),t.VizInstanceConstants.COMBINATION_COLUMN_LINE);this.m_vizChartTypes.put(t.ChartVisualizationType.COMB_STACKED_COLUMN_LINE.getName(),t.VizInstanceConstants.COMBINATION_COLUMN_LINE);this.m_vizChartTypes.put(t.ChartVisualizationType.PIE.getName(),t.VizInstanceConstants.PIE);this.m_vizChartTypes.put(t.ChartVisualizationType.DOUGHNUT.getName(),t.VizInstanceConstants.PIE);this.m_vizChartTypes.put(t.ChartVisualizationType.METRIC.getName(),t.VizInstanceConstants.METRIC);this.m_vizChartTypes.put(t.ChartVisualizationType.WATERFALL.getName(),t.VizInstanceConstants.WATERFALL)};t.VizInstanceRenderer.prototype.isInlineLegendWithRelevantChart=function(){let e=t.XString.toLowerCase(this.m_chartVisualization.getChartLegend().getVerticalAlignment().getName());let a=t.XString.toLowerCase(this.m_chartVisualization.getChartLegend().getHorizontalAlignment().getName());let n=t.XString.isEqual(a,t.VizInstanceConstants.CENTER)&&t.XString.isEqual(e,t.VizInstanceConstants.MIDDLE);return(this.isPieOrDoughnutChart()||this.m_chartVisualization.getChartType()===t.ChartVisualizationType.STACKED_COLUMN)&&n};t.VizInstanceRenderer.prototype.isLineChart=function(){let e=this.m_chartVisualization.getChartType();return e===t.ChartVisualizationType.LINE||e===t.ChartVisualizationType.COMB_COLUMN_LINE||e===t.ChartVisualizationType.COMB_STACKED_COLUMN_LINE};t.VizInstanceRenderer.prototype.isMissingColorAxisForPieOrDonutChart=function(e){let a=this.m_chartVisualization.getChartDimensions();let n=t.XStream.of(a).anyMatch(t=>t.isOnStylingAxis());return(e===t.ChartVisualizationType.PIE||e===t.ChartVisualizationType.DOUGHNUT)&&!n};t.VizInstanceRenderer.prototype.isMissingDimensionForCombinationColumnLineChart=function(e){let a=this.m_chartVisualization.getChartDimensions();let n=t.XStream.of(a).allMatch(t=>t.isOnStylingAxis());return(e===t.ChartVisualizationType.COMB_COLUMN_LINE||e===t.ChartVisualizationType.COMB_STACKED_COLUMN_LINE)&&(a.isEmpty()||n)};t.VizInstanceRenderer.prototype.isMissingValueAxisForLineChart=function(){return this.isLineChart()&&this.m_chartVisualization.getAxisByName(t.VizInstanceConstants.VALUE_Y_LEFT)===null};t.VizInstanceRenderer.prototype.isPercentage=function(){return t.XStream.of(this.m_chartVisualization.getCoordinateSystems()).anyMatch(e=>t.XStream.of(e.getSeriesGroups()).anyMatch(e=>e.getStackingType()===t.ChartVisualizationStackingType.PERCENT))};t.VizInstanceRenderer.prototype.isPieOrDoughnutChart=function(){let e=this.m_chartVisualization.getChartType();return e===t.ChartVisualizationType.PIE||e===t.ChartVisualizationType.DOUGHNUT};t.VizInstanceRenderer.prototype.isStackedChart=function(){let e=this.m_chartVisualization.getChartType();return e===t.ChartVisualizationType.STACKED_BAR||e===t.ChartVisualizationType.STACKED_COLUMN||e===t.ChartVisualizationType.AREA};t.VizInstanceRenderer.prototype.isTotalCategoryElement=function(e){return t.XStream.of(e).anyMatch(t=>t.isTotal())};t.VizInstanceRenderer.prototype.isValidChartVisualisation=function(){let e=this.m_chartVisualization.getChartType();let a=this.m_vizChartTypes.containsKey(e.getName());let n=this.getDataPoints().size();this.m_resultObject.getStructureByKey(t.VizInstanceConstants.CUSTOM).putInteger(t.VizInstanceConstants.DATA_POINTS_COUNT,n);if(!a||n===0||this.isMissingColorAxisForPieOrDonutChart(e)||this.isMissingDimensionForCombinationColumnLineChart(e)||this.hasOnlyEmptyValues()||this.isWaterfallNotSupported(e)){this.m_messages.addString(t.VizInstanceConstants.NO_CHART_FOR_CURRENT_SELECTION);return false}if(this.isMissingValueAxisForLineChart()){this.m_messages.addString(t.VizInstanceConstants.NO_VALUE_AXIS_FOR_LINE_CHART);return false}if(n>t.VizInstanceConstants.MAX_DATA_POINTS){this.m_messages.addString(t.VizInstanceConstants.TOO_MANY_DATA_POINTS);return false}if(this.hasNegativeValuesForPieOrDonutChart(e)){this.m_messages.addString(t.VizInstanceConstants.NEGATIVE_VALUES);return false}return true};t.VizInstanceRenderer.prototype.isWaterfallNotSupported=function(e){let a=this.m_chartVisualization.getChartDimensions();let n=this.getAllOrderedKeyFigures();return e===t.ChartVisualizationType.WATERFALL&&(a.size()>2||a.size()===2&&n.size()===1)};t.VizInstanceRenderer.prototype.releaseObject=function(){this.m_chartVisualization=null;this.m_resultObject=t.XObjectExt.release(this.m_resultObject);this.m_vizChartTypes=t.XObjectExt.release(this.m_vizChartTypes);this.m_messages=t.XObjectExt.release(this.m_messages);this.m_cachedDataPoints=t.XObjectExt.release(this.m_cachedDataPoints);t.XObject.prototype.releaseObject.call(this)};t.VizInstanceRenderer.prototype.render=function(){this.m_resultObject=t.PrFactory.createStructure();this.m_messages=this.m_resultObject.putNewStructure(t.VizInstanceConstants.CUSTOM).putNewList(t.VizInstanceConstants.MESSAGES);this.initializeDataPoints();this.initializeVizChartTypes();if(this.isValidChartVisualisation()){try{let e=t.XResources.loadString(t.VizInstanceRenderer.DEFAULT_TEMPLATE_PATH);let a=t.JsonParserFactory.newInstance();this.m_resultObject.putAll(a.parse(e).asStructure());this.buildDataStructure(this.m_resultObject);this.buildPayloadStructure(this.m_resultObject);this.buildCustomStructure(this.m_resultObject)}catch(e){this.m_messages.addString(t.VizInstanceConstants.GENERIC_INTERNAL_ERROR)}}return this.m_resultObject};t.VizInstanceRenderer.prototype.setAutoResize=function(e){e.putBoolean(t.VizInstanceConstants.AUTO_RESIZE,true)};t.VizInstanceRenderer.prototype.setAxisLabelDirection=function(e){if(this.isPieOrDoughnutChart()){return}let a=t.XStream.of(this.m_chartVisualization.getXAxes()).find(t=>t.getLabelStyle().getDirection()!==null).map(e=>t.XString.toLowerCase(e.getLabelStyle().getDirection().getName())).orElse(t.VizInstanceConstants.AUTOMATIC);e.putNewStructure(t.VizInstanceConstants.LABEL).putString(t.VizInstanceConstants.DIRECTION,a)};t.VizInstanceRenderer.prototype.setChartConfigration=function(t){};t.VizInstanceRenderer.prototype.setChartPadding=function(e){let a=e.putNewStructure(t.VizInstanceConstants.LAYOUT);a.putInteger(t.VizInstanceConstants.PADDING_LEFT,t.VizInstanceConstants.PADDING_SIDE_VALUE);a.putInteger(t.VizInstanceConstants.PADDING_RIGHT,t.VizInstanceConstants.PADDING_SIDE_VALUE);a.putInteger(t.VizInstanceConstants.PADDING_BOTTOM,t.VizInstanceConstants.PADDING_BOTTOM_VALUE)};t.VizInstanceRenderer.prototype.setChartType=function(e){let a=this.m_chartVisualization.getChartType();e.putString(t.VizInstanceConstants.TYPE,this.m_vizChartTypes.getByKey(a.getName()))};t.VizInstanceRenderer.prototype.setDefaultChartSize=function(e){let a=e.putNewStructure(t.VizInstanceConstants.SIZE);a.putInteger(t.VizInstanceConstants.HEIGHT,t.VizInstanceConstants.DEFAULT_CHART_HEIGHT);a.putInteger(t.VizInstanceConstants.WIDTH,t.VizInstanceConstants.DEFAULT_CHART_WIDTH)};t.VizInstanceRenderer.prototype.setHideWhenOverlap=function(e){e.putBoolean(t.VizInstanceConstants.HIDE_WHEN_OVERLAP,true)};t.VizInstanceRenderer.prototype.setInnerRadiusRatio=function(e){if(this.m_chartVisualization.getChartType()===t.ChartVisualizationType.DOUGHNUT){e.putString(t.VizInstanceConstants.INNER_RADIUS_RATIO,"50%")}};t.VizInstanceRenderer.prototype.setInvertedOrientation=function(e){let a=t.XHashMapByString.create();a.put(t.ChartVisualizationType.BAR.getName(),t.XBooleanValue.create(true));a.put(t.ChartVisualizationType.COLUMN.getName(),t.XBooleanValue.create(false));a.put(t.ChartVisualizationType.STACKED_BAR.getName(),t.XBooleanValue.create(true));a.put(t.ChartVisualizationType.STACKED_COLUMN.getName(),t.XBooleanValue.create(false));a.put(t.ChartVisualizationType.LINE.getName(),t.XBooleanValue.create(false));a.put(t.ChartVisualizationType.AREA.getName(),t.XBooleanValue.create(false));a.put(t.ChartVisualizationType.COMB_STACKED_COLUMN_LINE.getName(),t.XBooleanValue.create(false));a.put(t.ChartVisualizationType.COMB_COLUMN_LINE.getName(),t.XBooleanValue.create(false));a.put(t.ChartVisualizationType.PIE.getName(),t.XBooleanValue.create(false));a.put(t.ChartVisualizationType.DOUGHNUT.getName(),t.XBooleanValue.create(false));a.put(t.ChartVisualizationType.METRIC.getName(),t.XBooleanValue.create(false));a.put(t.ChartVisualizationType.WATERFALL.getName(),t.XBooleanValue.create(true));let n=this.m_chartVisualization.getChartType();e.putBoolean(t.VizInstanceConstants.INVERTED,a.getByKey(n.getName()).getBoolean())};t.VizInstanceRenderer.prototype.setLegendVisible=function(e){if(this.isInlineLegendWithRelevantChart()){e.putBoolean(t.VizInstanceConstants.VISIBLE,false)}else{e.putBoolean(t.VizInstanceConstants.VISIBLE,this.m_chartVisualization.getChartLegend().isEnabled())}};t.VizInstanceRenderer.prototype.setOverlapYAxes=function(e){let a=this.m_chartVisualization.getAxisByName(t.VizInstanceConstants.VALUE_B_Y_LEFT);if(t.notNull(a)){e.putBoolean(t.VizInstanceConstants.OVERLAP_Y_AXES,false)}};t.VizInstanceRenderer.prototype.setPieAbsolute=function(e){if(!this.m_chartVisualization.getHiddenAxes().isEmpty()&&this.m_chartVisualization.getHiddenAxes().get(0).getLabelStyle()!==null){e.putBoolean(t.VizInstanceConstants.PIE_ABSOLUTE,this.m_chartVisualization.getHiddenAxes().get(0).getLabelStyle().isAbsoluteValuesEnabled())}else{e.putBoolean(t.VizInstanceConstants.PIE_ABSOLUTE,false)}};t.VizInstanceRenderer.prototype.setSelected=function(e){e.putBoolean(t.VizInstanceConstants.SELECTED,true)};t.VizInstanceRenderer.prototype.setShowDataLabel=function(e){let a=this.m_chartVisualization.getTitleStyle()===null||this.m_chartVisualization.getTitleStyle().isEnabled();e.putBoolean(t.VizInstanceConstants.DATA_LABEL_VISIBLE,a)};t.VizInstanceRenderer.prototype.setShowFirstLastHighestLowest=function(e){if((this.isLineChart()||this.m_chartVisualization.getChartType()===t.ChartVisualizationType.AREA)&&this.m_chartVisualization.getXAxes().hasElements()){e.putBoolean(t.VizInstanceConstants.SHOW_FIRST_LAST_HIGHEST_LOWEST,this.m_chartVisualization.getXAxes().get(0).getLabelStyle().isCornerValuesEnabled())}else{e.putBoolean(t.VizInstanceConstants.SHOW_FIRST_LAST_HIGHEST_LOWEST,false)}};t.VizInstanceRenderer.prototype.setShowLabelNames=function(e){if(this.isInlineLegendWithRelevantChart()){e.putBoolean(t.VizInstanceConstants.SHOW_LABEL_NAMES,this.m_chartVisualization.getChartLegend().isEnabled())}else{e.putBoolean(t.VizInstanceConstants.SHOW_LABEL_NAMES,false)}};t.VizInstanceRenderer.prototype.setStacking=function(e){if(this.isStackedChart()&&this.isPercentage()){e.putString(t.VizInstanceConstants.STACKING,t.XString.toLowerCase(t.ChartVisualizationStackingType.PERCENT.getName()))}if(this.m_chartVisualization.getChartType()===t.ChartVisualizationType.COMB_COLUMN_LINE){e.putString(t.VizInstanceConstants.STACKING,t.VizInstanceConstants.DISABLED)}};t.VizInstanceRenderer.prototype.setUnbookedDataMap=function(e){e.putBoolean(t.VizInstanceConstants.UNBOOKED_DATA_MAP,true)};t.VizInstanceRenderer.prototype.setValueAxisTitle=function(e,a){this.m_resultObject.getStructureByKey(t.VizInstanceConstants.PAYLOAD).getStructureByKey(t.VizInstanceConstants.PROPERTIES).getStructureByKey(e).getStructureByKey(t.VizInstanceConstants.TITLE).putString(t.VizInstanceConstants.TEXT,a)};t.SacTableWidgetRenderHelper=function(){};t.SacTableWidgetRenderHelper.prototype=new t.XObject;t.SacTableWidgetRenderHelper.prototype._ff_c="SacTableWidgetRenderHelper";t.SacTableWidgetRenderHelper.createTableRenderHelper=function(e){let a=new t.SacTableWidgetRenderHelper;a.initializeRH(e);return a};t.SacTableWidgetRenderHelper.prototype.m_tableObject=null;t.SacTableWidgetRenderHelper.prototype.applyPadding=function(t,e,a){if(e>-1){t.putDouble(a,e)}};t.SacTableWidgetRenderHelper.prototype.fillPagedRowsFromList=function(e,a,n,i,s,r,o,l){let C=t.XHashMapByString.create();let _;let g=n;for(_=i;_<=s;_++){let n=e.get(_);if(t.notNull(n)&&!n.isEffectivelyHidden()){this.renderRow(C,a,n,g,r,o,l);g++}}};t.SacTableWidgetRenderHelper.prototype.fillRowsFromList=function(e,a,n,i,s){let r=t.XHashMapByString.create();let o;let l=n;let C=e.size();for(o=0;o<C;o++){let n=e.get(o);if(t.notNull(n)&&!n.isEffectivelyHidden()){let e=this.renderRow(r,a,n,l,0,0,-1);if(i&&s<0||s>=l){e.putBoolean(t.SacTableConstants.R_B_FIXED,true)}l++}else if(t.isNull(n)){l++}}};t.SacTableWidgetRenderHelper.prototype.fillRowsFromListKeepGaps=function(e,a,n){let i=t.XHashMapByString.create();let s;let r=e.size();let o=n;for(s=0;s<r;s++){let n=e.get(s);if(t.notNull(n)&&!n.isEffectivelyHidden()){this.renderRow(i,a,n,o++,0,0,-1)}else if(t.isNull(n)){a.addNull();o++}}};t.SacTableWidgetRenderHelper.prototype.format=function(e,a,n,i){if(a.isEffectiveTotalsContext()){n.putBoolean(t.SacTableConstants.C_B_IS_INA_TOTALS_CONTEXT,true)}n.putBoolean(t.SacTableConstants.C_B_IS_IN_HIERARCHY,a.isInHierarchy());n.putBoolean(t.SacTableConstants.C_B_ALLOW_DRAG_DROP,a.isAllowDragDrop());n.putInteger(t.SacTableConstants.C_N_LEVEL,a.getHierarchyLevel());n.putInteger(a.getHierarchyPaddingType(),a.getHierarchyPaddingValue()*(1+a.getHierarchyLevel()));n.putBoolean(t.SacTableConstants.C_B_SHOW_DRILL_ICON,a.isShowDrillIcon());n.putBoolean(t.SacTableConstants.C_B_EXPANDED,a.isExpanded());if(a.isVersionEdited()){n.putBoolean(t.SacTableConstants.C_B_VERSION_EDITED,true)}if(a.isLocked()&&a.getType()===t.SacTableConstants.CT_VALUE){n.putBoolean(t.SacTableConstants.C_B_LOCKED,true)}let s=t.RenderThemingHelper.remapColor(e,a.getEffectiveFillColor(i));if(t.notNull(s)){let e=a.getEffectiveFillAlphaOverwrite(i);if(e!==-1){s=t.UiColor.create(s).setAlpha(e).getHexColorWithAlpha()}let r=this.getStyle(n);r.putString(t.SacTableConstants.ST_S_FILL_COLOR,s)}if(a.isWrap()){this.getStyle(n).putBoolean(t.SacTableConstants.ST_B_WRAP,true)}this.transferStyledLineToJson(e,a.getEffectiveStyledLineTop(i),t.SacTableConstants.LP_TOP,n);this.transferStyledLineToJson(e,a.getEffectiveStyleLineBottom(i),t.SacTableConstants.LP_BOTTOM,n);this.transferStyledLineToJson(e,a.getEffectiveStyledLineLeft(i),t.SacTableConstants.LP_LEFT,n);this.transferStyledLineToJson(e,a.getEffectiveStyledLineRight(i),t.SacTableConstants.LP_RIGHT,n);if(a.isEffectiveFontItalic(i)){this.getFont(n).putBoolean(t.SacTableConstants.FS_B_ITALIC,true)}if(a.isEffectiveFontBold(i)){this.getFont(n).putBoolean(t.SacTableConstants.FS_B_BOLD,true)}if(a.isEffectiveFontUnderline(i)){this.getFont(n).putBoolean(t.SacTableConstants.FS_B_UNDERLINE,true)}if(a.isEffectiveFontStrikeThrough(i)){this.getFont(n).putBoolean(t.SacTableConstants.FS_B_STRIKETHROUGH,true)}let r=a.getEffectiveFontSize(i);if(r>0){this.getFont(n).putDouble(t.SacTableConstants.FS_N_SIZE,r)}let o=a.getEffectiveFontFamily(i);if(t.notNull(o)){this.getFont(n).putString(t.SacTableConstants.FS_S_FAMILY,o)}s=t.RenderThemingHelper.remapColor(e,a.getEffectiveFontColor(i));if(t.notNull(s)){this.getFont(n).putString(t.SacTableConstants.FS_S_COLOR,s)}let l=t.RenderThemingHelper.remapColor(e,a.getEffectiveThresholdColor(i));if(t.notNull(l)){this.getStyle(n).putString(t.SacTableConstants.ST_S_THRESHOLD_COLOR,l)}let C=t.SacTableConstantMapper.mapAlertSymbolToString(a.getEffectiveThresholdType(i));if(t.XStringUtils.isNotNullAndNotEmpty(C)){this.getStyle(n).putString(t.SacTableConstants.ST_S_THRESHOLD_ICON_TYPE,C)}let _=a.getEffectiveHorizontalAlignment(i);let g=a.getEffectiveVerticalAlignment(i);if(t.notNull(_)||t.notNull(g)){let e=this.getStyle(n).putNewStructure(t.SacTableConstants.ST_M_ALIGNMENT);if(_===t.SacVisualizationHorizontalAlignment.LEFT){e.putInteger(t.SacTableConstants.STAL_N_HORIZONTAL,t.SacTableConstants.HA_LEFT)}else if(_===t.SacVisualizationHorizontalAlignment.CENTER){e.putInteger(t.SacTableConstants.STAL_N_HORIZONTAL,t.SacTableConstants.HA_CENTER)}else if(_===t.SacVisualizationHorizontalAlignment.RIGHT){e.putInteger(t.SacTableConstants.STAL_N_HORIZONTAL,t.SacTableConstants.HA_RIGHT)}if(g===t.SacVisualizationVerticalAlignment.TOP){e.putInteger(t.SacTableConstants.STAL_N_VERTICAL,t.SacTableConstants.VA_TOP)}else if(g===t.SacVisualizationVerticalAlignment.MIDDLE){e.putInteger(t.SacTableConstants.STAL_N_VERTICAL,t.SacTableConstants.VA_MIDDLE)}else if(g===t.SacVisualizationVerticalAlignment.BOTTOM){e.putInteger(t.SacTableConstants.STAL_N_VERTICAL,t.SacTableConstants.VA_BOTTOM)}}let u=a.getEffectiveBackgroundPatternType(i);if(u===t.VisualizationBackgroundPatternType.BACKGROUND_IMAGE){n.putInteger(t.SacTableConstants.C_N_CELL_TYPE,t.SacTableConstants.CT_IMAGE);n.putStringNotNullAndNotEmpty(t.SacTableConstants.C_S_FORMATTED,a.getEffectiveBackgroundContent(i))}else if(u===t.VisualizationBackgroundPatternType.HATCHIING_1){n.putInteger(t.SacTableConstants.C_N_CELL_TYPE,t.SacTableConstants.CT_IMAGE);n.putString(t.SacTableConstants.C_S_FORMATTED,t.XStringUtils.concatenate2(t.SacTableConstants.IMG_B64_PREFIX_SHORT,t.SacTableConstants.BASE64_SVG_HATCHING_1))}else if(u===t.VisualizationBackgroundPatternType.HATCHIING_2){n.putInteger(t.SacTableConstants.C_N_CELL_TYPE,t.SacTableConstants.CT_IMAGE);n.putString(t.SacTableConstants.C_S_FORMATTED,t.XStringUtils.concatenate2(t.SacTableConstants.IMG_B64_PREFIX_SHORT,t.SacTableConstants.BASE64_SVG_HATCHING_2))}else if(u===t.VisualizationBackgroundPatternType.HATCHIING_3){n.putInteger(t.SacTableConstants.C_N_CELL_TYPE,t.SacTableConstants.CT_IMAGE);n.putString(t.SacTableConstants.C_S_FORMATTED,t.XStringUtils.concatenate2(t.SacTableConstants.IMG_B64_PREFIX_SHORT,t.SacTableConstants.BASE64_SVG_HATCHING_3))}else if(u===t.VisualizationBackgroundPatternType.HATCHIING_4){n.putInteger(t.SacTableConstants.C_N_CELL_TYPE,t.SacTableConstants.CT_IMAGE);n.putString(t.SacTableConstants.C_S_FORMATTED,t.XStringUtils.concatenate2(t.SacTableConstants.IMG_B64_PREFIX_SHORT,t.SacTableConstants.BASE64_SVG_HATCHING_4))}else if(u===t.VisualizationBackgroundPatternType.HATCHIING_5){n.putInteger(t.SacTableConstants.C_N_CELL_TYPE,t.SacTableConstants.CT_IMAGE);n.putString(t.SacTableConstants.C_S_FORMATTED,t.XStringUtils.concatenate2(t.SacTableConstants.IMG_B64_PREFIX_SHORT,t.SacTableConstants.BASE64_SVG_HATCHING_5))}else if(u===t.VisualizationBackgroundPatternType.HATCHIING_6){n.putInteger(t.SacTableConstants.C_N_CELL_TYPE,t.SacTableConstants.CT_IMAGE);n.putString(t.SacTableConstants.C_S_FORMATTED,t.XStringUtils.concatenate2(t.SacTableConstants.IMG_B64_PREFIX_SHORT,t.SacTableConstants.BASE64_SVG_HATCHING_6))}else if(u===t.VisualizationBackgroundPatternType.HATCHIING_7){n.putInteger(t.SacTableConstants.C_N_CELL_TYPE,t.SacTableConstants.CT_IMAGE);n.putString(t.SacTableConstants.C_S_FORMATTED,t.XStringUtils.concatenate2(t.SacTableConstants.IMG_B64_PREFIX_SHORT,t.SacTableConstants.BASE64_SVG_HATCHING_7))}else if(u===t.VisualizationBackgroundPatternType.HATCHIING_8){n.putInteger(t.SacTableConstants.C_N_CELL_TYPE,t.SacTableConstants.CT_IMAGE);n.putString(t.SacTableConstants.C_S_FORMATTED,t.XStringUtils.concatenate2(t.SacTableConstants.IMG_B64_PREFIX_SHORT,t.SacTableConstants.BASE64_SVG_HATCHING_8))}return n};t.SacTableWidgetRenderHelper.prototype.getCorrectWidth=function(e,a,n,i){return t.XMath.min(n,t.XMath.max(t.XMath.div(e*a,10),i))};t.SacTableWidgetRenderHelper.prototype.getFont=function(e){let a=this.getStyle(e);let n=a.getStructureByKey(t.SacTableConstants.ST_M_FONT);if(t.isNull(n)){n=a.putNewStructure(t.SacTableConstants.ST_M_FONT)}return n};t.SacTableWidgetRenderHelper.prototype.getLineInternal=function(e,a){let n=this.getStyle(a);if(!n.containsKey(t.SacTableConstants.ST_L_LINES)){n.putNewList(t.SacTableConstants.ST_L_LINES)}let i=n.getListByKey(t.SacTableConstants.ST_L_LINES);let s=null;for(let a=0;a<i.size();a++){if(i.getStructureAt(a).getIntegerByKey(t.SacTableConstants.SL_N_POSITION)===e){s=i.getStructureAt(a)}}if(t.isNull(s)){s=i.addNewStructure();s.putInteger(t.SacTableConstants.SL_N_SIZE,1);s.putInteger(t.SacTableConstants.SL_N_STYLE,1);s.putInteger(t.SacTableConstants.SL_N_POSITION,e);let a=s.putNewStructure(t.SacTableConstants.SL_M_PADDING);if(e===t.SacTableConstants.LP_BOTTOM||e===t.SacTableConstants.LP_TOP){a.putInteger(t.SacTableConstants.SLP_N_RIGHT,t.SacTableConstants.LP_RIGHT);a.putInteger(t.SacTableConstants.SLP_N_LEFT,t.SacTableConstants.LP_RIGHT)}else{a.putInteger(t.SacTableConstants.SLP_N_BOTTOM,t.SacTableConstants.LP_BOTTOM);a.putInteger(t.SacTableConstants.SLP_N_TOP,t.SacTableConstants.LP_TOP)}}return s};t.SacTableWidgetRenderHelper.prototype.getStyle=function(e){if(!e.containsKey(t.SacTableConstants.C_M_STYLE)){e.putBoolean(t.SacTableConstants.C_B_STYLE_UPDATED_BY_USER,true);e.putNewStructure(t.SacTableConstants.C_M_STYLE)}return e.getStructureByKey(t.SacTableConstants.C_M_STYLE)};t.SacTableWidgetRenderHelper.prototype.getTableObject=function(){return this.m_tableObject};t.SacTableWidgetRenderHelper.prototype.initializeRH=function(t){this.m_tableObject=t};t.SacTableWidgetRenderHelper.prototype.preFormatCellChart=function(e,a,n,i,s){let r=a.getPrioritizedStylesList();n.putInteger(t.SacTableConstants.C_N_CELL_TYPE,t.SacTableConstants.CT_CHART);let o=n.putNewStructure(t.SacTableConstants.C_M_CELL_CHART);o.putString(t.SacTableConstants.CC_S_MEMBER_ID,a.getEffectiveCellChartMemberName(r));let l=a.getEffectiveCellChartType();if(l===t.SacCellChartType.BAR){o.putString(t.SacTableConstants.CC_S_CHART_TYPE,t.SacTableConstants.CCT_BAR)}else if(l===t.SacCellChartType.VARIANCE_BAR){o.putString(t.SacTableConstants.CC_S_CHART_TYPE,t.SacTableConstants.CCT_VARIANCE_BAR)}else if(l===t.SacCellChartType.PIN){o.putString(t.SacTableConstants.CC_S_CHART_TYPE,t.SacTableConstants.CCT_VARIANCE_PIN)}o.putString(t.SacTableConstants.CC_S_BAR_COLOR,t.RenderThemingHelper.remapColor(e,a.getEffectiveCellChartBarColor(r)));o.putString(t.SacTableConstants.CC_SU_LINE_COLOR,t.RenderThemingHelper.remapColor(e,a.getEffectiveCellChartLineColor(r)));o.putBoolean(t.SacTableConstants.CC_B_SHOW_VALUE,!a.isEffectiveHideNumberForCellChart());o.putString(t.SacTableConstants.CC_S_CELL_CHART_ORIENTATION,a.getEffectiveCellChartOrientation()===t.SacCellChartOrientation.VERTICAL?t.SacTableConstants.CCO_VERTICAL:t.SacTableConstants.CCO_HORIZONTAL);let C=this.m_tableObject.getCellChartInfo();if(!C.containsKey(a.getEffectiveCellChartMemberName(r))){C.put(a.getEffectiveCellChartMemberName(r),t.CellChartInfo.create(a.getEffectiveCellChartOrientation(),s,i,t.XValueUtil.getDouble(a.getPlain(),false,true)))}else{let e=C.getByKey(a.getEffectiveCellChartMemberName(r));e.addColumn(s);e.addRow(i);e.registerValue(t.XValueUtil.getDouble(a.getPlain(),false,true))}return o};t.SacTableWidgetRenderHelper.prototype.releaseObject=function(){this.m_tableObject=null;t.XObject.prototype.releaseObject.call(this)};t.SacTableWidgetRenderHelper.prototype.renderCell=function(e,a,n,i,s,r){let o=a.addNewStructure();o.putInteger(t.SacTableConstants.C_N_ROW,s);o.putInteger(t.SacTableConstants.C_N_COLUMN,r);let l=n.getMergedColumns();let C=n.getMergedRows();if(l!==0||C!==0){let e=o.putNewStructure(t.SacTableConstants.C_M_MERGED);if(l>=0&&C>=0){if(n.getMergedColumns()>0){e.putInteger(t.SacTableConstants.CM_N_COLUMNS,n.getMergedColumns())}if(n.getMergedRows()>0){e.putInteger(t.SacTableConstants.CM_N_ROWS,n.getMergedRows())}}else{e.putInteger(t.SacTableConstants.CM_N_ORIGINAL_COLUMN,r+n.getMergedColumns());e.putInteger(t.SacTableConstants.CM_N_ORIGINAL_ROW,s+n.getMergedRows())}}if(n.getCommentDocumentId()!==null){o.putInteger(t.SacTableConstants.C_N_COMMENT_TYPE,t.SacTableConstants.CT_SELF);o.putString(t.SacTableConstants.CS_COMMENT_DOCUMENT_ID,n.getCommentDocumentId())}let _=n.getId();if(t.isNull(_)){_=t.XStringUtils.concatenate2(t.XInteger.convertToHexString(s),t.XInteger.convertToHexString(r))}o.putString(t.SacTableConstants.C_S_ID,_);o.putString(t.SacTableConstants.C_S_FORMATTED,n.getEffectiveWrappedFormattedText(i));if(n.isShowHyperLink()){o.putBoolean(t.SacTableConstants.C_B_SHOW_HYPERLINK,true)}o.putBoolean(t.SacTableConstants.C_B_REPEATED_MEMBER_NAME,n.isRepeatedHeader());let g=n.getPlain();if(t.notNull(g)){let e=n.getPlain().getValueType();if(e===t.XValueType.BOOLEAN){o.putBoolean(t.SacTableConstants.C_SN_PLAIN,t.XValueUtil.getBoolean(g,false,true))}else if(e===t.XValueType.DOUBLE||e===t.XValueType.DECIMAL_FLOAT&&g.mayLoosePrecision()){o.putDouble(t.SacTableConstants.C_SN_PLAIN,t.XValueUtil.getDouble(g,false,true))}else if(e===t.XValueType.LONG){o.putLong(t.SacTableConstants.C_SN_PLAIN,t.XValueUtil.getLong(g,false,true))}else if(e===t.XValueType.INTEGER){o.putInteger(t.SacTableConstants.C_SN_PLAIN,t.XValueUtil.getInteger(g,false,true))}else{o.putString(t.SacTableConstants.C_SN_PLAIN,g.getStringRepresentation())}}let u=n.getEffectiveCellType();o.putInteger(t.SacTableConstants.C_N_CELL_TYPE,u);o.putBoolean(t.SacTableConstants.C_B_DRAGGABLE,!n.isUdhContext()&&(u===t.SacTableConstants.CT_ATTRIBUTE_COL_DIM_HEADER||u===t.SacTableConstants.CT_ATTRIBUTE_ROW_DIM_HEADER||u===t.SacTableConstants.CT_COL_DIM_HEADER||u===t.SacTableConstants.CT_ROW_DIM_HEADER)||n.isInStructureContext()&&!n.isInHierarchy()&&(u===t.SacTableConstants.CT_ROW_DIM_MEMBER||u===t.SacTableConstants.CT_COL_DIM_MEMBER||u===t.SacTableConstants.CT_ATTRIBUTE_ROW_DIM_MEMBER||u===t.SacTableConstants.CT_ATTRIBUTE_COL_DIM_MEMBER));if(n.isEffectiveShowCellChart()){this.preFormatCellChart(e,n,o,s,r)}return o};t.SacTableWidgetRenderHelper.prototype.renderCellForRow=function(e,a,n,i,s,r,o,l){let C;if(t.isNull(i)){this.renderEmptyCell(s,n,a);C=true}else if(i.getParentColumn()!==null&&!i.getParentColumn().isEffectivelyHidden()){let _=i.getPrioritizedStylesList();let g=this.renderCell(e,s,i,_,n,a);C=true;this.format(e,i,g,_);if(l){let e=this.getStyle(g);if(t.XStringUtils.isNullOrEmpty(e.getStringByKey(t.SacTableConstants.ST_S_FILL_COLOR))){if(r&&t.XMath.mod(n,2)===0){e.putString(t.SacTableConstants.ST_S_FILL_COLOR,t.SacTableConstants.SV_ROW_STRIPE_COLOR)}else if(o&&t.XMath.mod(a,2)===0){e.putString(t.SacTableConstants.ST_S_FILL_COLOR,t.SacTableConstants.SV_COLUMN_STRIPE_COLOR)}}}}else{C=false}return C};t.SacTableWidgetRenderHelper.prototype.renderColumn=function(t,e){};t.SacTableWidgetRenderHelper.prototype.renderEmptyCell=function(e,a,n){let i=e.addNewStructure();i.putInteger(t.SacTableConstants.C_N_ROW,a);i.putInteger(t.SacTableConstants.C_N_COLUMN,n);return i};t.SacTableWidgetRenderHelper.prototype.renderGenericSettings=function(e){let a;if(t.notNull(this.m_tableObject)){e.putBoolean(t.SacTableConstants.TD_B_IS_INTERACTIVE_HIERARCHY,this.m_tableObject.hasHierarchy());e.putBoolean(t.SacTableConstants.TD_B_ALLOW_KEY_EVENT_PROPAGATION,true);let n=e.putNewStructure(t.SacTableConstants.TD_M_FEATURE_TOGGLES);n.putBoolean(t.SacTableConstants.TD_M_FEATURE_TOGGLES_DIM_HEADER_CELLS_WITH_ICONS,true);n.putBoolean(t.SacTableConstants.TD_M_FEATURE_TOGGLES_ACCESSIBILITY_KEYBOARD_SUPPORT,true);n.putBoolean(t.SacTableConstants.TD_M_FEATURE_TOGGLES_ACCESSIBILITY_SCREEN_READER_SUPPORT,true);if(this.m_tableObject.isAllowTextEdit()){n.putBoolean(t.SacTableConstants.TD_M_FEATURE_TOGGLES_NATIVE_TEXT_EDIT,true);e.putBoolean(t.SacTableConstants.TD_B_ALLOW_TEXT_EDIT,true)}let i=e.putNewStructure(t.SacTableConstants.TD_M_STYLE);let s=i.putNewStructure(t.SacTableConstants.ST_M_FONT);s.putInteger(t.SacTableConstants.FS_N_SIZE,42);e.putBoolean(t.SacTableConstants.TD_B_REVERSED_HIERARCHY,this.m_tableObject.isReversedHierarchy());let r=e.putNewStructure(t.SacTableConstants.TD_M_TITLE);let o=r.putNewStructure(t.SacTableConstants.TD_M_TITLE_STYLE);r.putNewStructure(t.SacTableConstants.TD_M_SUBTITLE_STYLE);let l=o.putNewStructure(t.SacTableConstants.ST_M_FONT);l.putInteger(t.SacTableConstants.FS_N_SIZE,17);let C=this.m_tableObject.getTitle();r.putStringNotNullAndNotEmpty(t.SacTableConstants.TD_S_TITLE_TEXT,C);e.putStringNotNullAndNotEmpty(t.SacTableConstants.TD_S_ID_FOR_TABLE_NAME_ARIA_LABEL,C);if(t.XStringUtils.isNotNullAndNotEmpty(C)){r.putNewList(t.SacTableConstants.TD_L_TITLE_CHUNKS).addString(C)}let _=r.putNewStructure(t.SacTableConstants.TD_M_TOKEN_DATA);let g=_.putNewStructure(t.SacTableConstants.TE_O_STYLES);g.putString("line-height","");g.putString("text-align","left");g.putString("font-size","13px");g.putString("align-items","center");g.putString("margin-top","3px");_.putNewStructure(t.SacTableConstants.TE_O_ATTRIBUTES);_.putNewList(t.SacTableConstants.TE_L_CLASSES).addString("sapReportEngineTokenContainer");_.putString(t.SacTableConstants.TE_S_TAG,"div");let u=this.m_tableObject.isShowTableTitle();let S=this.m_tableObject.isShowSubTitle();let T=this.m_tableObject.isShowTableDetails();r.putBoolean(t.SacTableConstants.TD_B_TITLE_VISIBLE,u);r.putBoolean(t.SacTableConstants.TD_B_SUBTITLE_VISIBLE,S);r.putBoolean(t.SacTableConstants.TD_B_DETAILS_VISIBLE,T);r.putBoolean(t.SacTableConstants.TD_B_EDITABLE,false);let h=40;if(u&&(T||S)){h=52}else if(!u&&!T&&!S){h=0}o.putInteger(t.SacTableConstants.TS_N_HEIGHT,h);let c;let I=this.m_tableObject.getHeight();let E=this.m_tableObject.getWidth();e.putInteger(t.SacTableConstants.TD_N_WIDGET_HEIGHT,I);e.putInteger(t.SacTableConstants.TD_N_WIDGET_WIDTH,E);let A=this.m_tableObject.isShowGrid();let p=this.m_tableObject.isFreezeHeaderColumns()||this.m_tableObject.getFreezeUpToColumn()>-1;let N=this.m_tableObject.isFreezeHeaderRows()||this.m_tableObject.getFreezeUpToRow()>-1||p;let L=this.m_tableObject.getFreezeUpToColumn();if(L>-1||!this.m_tableObject.isFreezeHeaderColumns()){e.putInteger(t.SacTableConstants.TD_N_FREEZE_END_COL,L)}else{e.putInteger(t.SacTableConstants.TD_N_FREEZE_END_COL,this.m_tableObject.getPreColumnsAmount()-1)}let d=this.m_tableObject.getFreezeUpToRow();if(d>-1||!this.m_tableObject.isFreezeHeaderRows()){e.putInteger(t.SacTableConstants.TD_N_FREEZE_END_ROW,d)}else{e.putInteger(t.SacTableConstants.TD_N_FREEZE_END_ROW,this.m_tableObject.getPreRowsAmount()-1)}e.putBoolean(t.SacTableConstants.TD_B_SHOW_FREEZE_LINES,N&&this.m_tableObject.isShowFreezeLines());e.putBoolean(t.SacTableConstants.TD_B_HAS_FIXED_ROWS_COLS,N);e.putBoolean(t.SacTableConstants.TD_B_SHOW_GRID,A);e.putBoolean(t.SacTableConstants.TD_B_SHOW_COORDINATE_HEADER,this.m_tableObject.isShowCoordinateHeader());e.putBoolean(t.SacTableConstants.TD_B_SHOW_GRID,this.m_tableObject.isShowGrid());e.putBoolean(t.SacTableConstants.TD_B_SUBTITLE_VISIBLE,this.m_tableObject.isShowSubTitle());e.putBoolean(t.SacTableConstants.TD_B_TITLE_VISIBLE,this.m_tableObject.isShowTableTitle());e.putBoolean(t.SacTableConstants.TD_B_DETAILS_VISIBLE,this.m_tableObject.isShowTableDetails());let O=e.putNewList(t.SacTableConstants.TD_L_COLUMN_SETTINGS);let H=t.XList.create();let R=this.m_tableObject.isRowPaginated();let m=this.m_tableObject.isColumnPaginated();let b=m?this.m_tableObject.getLocalColumnsOffset():0;let V=m?this.m_tableObject.getLocalColumnsAmount():this.m_tableObject.getDataColumnsAmount();let f=b+V;let y=this.m_tableObject.getColumnList().size();let D=m?this.m_tableObject.getLocalColumnsAmount():y;let K=R?this.m_tableObject.getLocalRowsOffset():0;let P=R?this.m_tableObject.getLocalRowsAmount():this.m_tableObject.getDataRowAmount();H.addAll(this.m_tableObject.getColumnEmWidthsSubList(0,this.m_tableObject.getPreColumnsAmount()));H.addAll(this.m_tableObject.getColumnEmWidthsSubList(this.m_tableObject.getPreColumnsAmount()+b,this.m_tableObject.getPreColumnsAmount()+f));let G=10;let z=this.m_tableObject.getMinCellWidth();let B=this.m_tableObject.getMaxCellWidth();let M=3;let X=this.m_tableObject.getPreColumnsAmount();if(p){M=t.XMath.max(M,t.XMath.min(t.XMath.div(4*X*B,E*3),t.XMath.div((X+V)*B,E)))}let U;let F;let w=0;let x=0;for(c=0;c<X;c++){U=z;if(c<H.size()){U=this.getCorrectWidth(H.get(c).getInteger(),G,t.XMath.div(B,M),z)}F=this.m_tableObject.getHeaderColumnList().get(c);F.setDefaultWidth(U);w=w+U}let Y=z;if(this.m_tableObject.getDataColumnsAmount()>0){let e=0;let a=t.XMath.min(H.size(),this.m_tableObject.getPreColumnsAmount()+D);for(let t=0;t<a;t++){e=e+this.getCorrectWidth(H.get(t).getInteger(),G,B,z)}Y=t.XMath.div(e,a);for(;c<this.m_tableObject.getPreColumnsAmount()+V;c++){U=Y;if(c<H.size()){U=this.getCorrectWidth(H.get(c).getInteger(),G,B,z)}x=x+U;let e=c+b-this.m_tableObject.getPreColumnsAmount();F=e<y?this.m_tableObject.getColumnList().get(e):null;if(t.notNull(F)){F.setDefaultWidth(U)}}}if(p&&x+w>E&&E<w*2){let e=t.XMath.max(E/2,E-x);let a=t.XMath.div(e*1e3,w);for(c=0;c<this.m_tableObject.getPreColumnsAmount();c++){F=this.m_tableObject.getHeaderColumnList().get(c);U=F.getWidth();F.setDefaultWidth(t.XMath.div(a*U,1e3))}}let W=20;let v;let Z=0;for(c=0;c<this.m_tableObject.getPreColumnsAmount();c++){F=this.m_tableObject.getHeaderColumnList().get(c);if(t.isNull(F)||!F.isEffectivelyHidden()){U=F.getWidth();W=W+U;v=O.addNewStructure();v.putInteger(t.SacTableConstants.CS_N_COLUMN,Z);v.putInteger(t.SacTableConstants.CS_N_MIN_WIDTH,z);v.putInteger(t.SacTableConstants.CS_N_WIDTH,U);v.putString(t.SacTableConstants.CS_S_ID,t.XInteger.convertToHexString(Z));v.putBoolean(t.SacTableConstants.CS_B_FIXED,false);v.putBoolean(t.SacTableConstants.CS_B_HAS_WRAP_CELL,false);v.putBoolean(t.SacTableConstants.CS_B_EMPTY_COLUMN,false);v.putBoolean(t.SacTableConstants.CS_B_FIXED,this.m_tableObject.isFreezeHeaderColumns()&&L<0||L>=Z);this.renderColumn(F,v);Z++}}if(this.m_tableObject.getDataColumnsAmount()>0){let e=t.XMath.min(this.m_tableObject.getColumnList().size(),f);for(c=b;c<e;c++){F=this.m_tableObject.getColumnList().get(c);if(t.isNull(F)||!F.isEffectivelyHidden()){U=t.isNull(F)?Y:F.getWidth();W=W+U;v=O.addNewStructure();v.putInteger(t.SacTableConstants.CS_N_COLUMN,Z);v.putInteger(t.SacTableConstants.CS_N_MIN_WIDTH,z);v.putInteger(t.SacTableConstants.CS_N_WIDTH,U);v.putString(t.SacTableConstants.CS_S_ID,t.XInteger.convertToHexString(Z));v.putBoolean(t.SacTableConstants.CS_B_FIXED,this.m_tableObject.getFreezeUpToColumn()>=Z);v.putBoolean(t.SacTableConstants.CS_B_HAS_WRAP_CELL,false);v.putBoolean(t.SacTableConstants.CS_B_EMPTY_COLUMN,false);this.renderColumn(F,v);Z++}}for(c=this.m_tableObject.getPreColumnsAmount()+e;c<H.size();c++){v=O.addNewStructure();W=W+Y;v.putInteger(t.SacTableConstants.CS_N_COLUMN,Z);v.putInteger(t.SacTableConstants.CS_N_MIN_WIDTH,z);v.putInteger(t.SacTableConstants.CS_N_WIDTH,Y);v.putString(t.SacTableConstants.CS_S_ID,t.XInteger.convertToHexString(c));v.putBoolean(t.SacTableConstants.CS_B_FIXED,this.m_tableObject.getFreezeUpToColumn()>=c);v.putBoolean(t.SacTableConstants.CS_B_HAS_WRAP_CELL,false);v.putBoolean(t.SacTableConstants.CS_B_EMPTY_COLUMN,false);Z++}}let j=this.m_tableObject.getDataRowAmount();let k=this.m_tableObject.getPreRowsAmount();let J=20+this.m_tableObject.getOverallHeight();if(A){J=J+j+k}let q=this.m_tableObject.getCellChartInfo();if(t.XCollectionUtils.hasElements(q)){let a=e.putNewStructure(t.SacTableConstants.TD_M_CELL_CHART_DATA);let n=q.getKeysAsIterator();while(n.hasNext()){let e=n.next();let i=q.getByKey(e);let s=a.putNewStructure(e);s.putInteger(t.SacTableConstants.CCD_N_START_COL,i.getStartColumn()-b);s.putInteger(t.SacTableConstants.CCD_N_END_COL,i.getEndColumn()-b);s.putInteger(t.SacTableConstants.CCD_N_START_ROW,i.getStartRow()-K);s.putInteger(t.SacTableConstants.CCD_N_END_ROW,i.getEndRow()-K);s.putDouble(t.SacTableConstants.CCD_N_MIN,i.getMinValue());s.putDouble(t.SacTableConstants.CCD_N_MAX,i.getMaxValue());s.putInteger(t.SacTableConstants.CCD_N_MAX_TEXT_HEIGHT,t.SacTableConstants.DF_R_N_HEIGHT);let r=s.putNewList(t.SacTableConstants.CCD_L_COLUMNS);let o=i.getColumns().getIterator();let l=0;while(o.hasNext()){let e=o.next().getInteger();r.addInteger(e);l=t.XMath.max(t.XMath.div(O.getStructureAt(e).getIntegerByKey(t.SacTableConstants.CS_N_WIDTH),3),l)}s.putInteger(t.SacTableConstants.CCD_N_MAX_TEXT_WIDTH,l)}}e.putInteger(t.SacTableConstants.TD_N_TOTAL_WIDTH,W);e.putInteger(t.SacTableConstants.TD_N_TOTAL_HEIGHT,J);e.putInteger(t.SacTableConstants.TD_N_DATA_REGION_START_COL,0);e.putInteger(t.SacTableConstants.TD_N_DATA_REGION_START_ROW,0);e.putInteger(t.SacTableConstants.TD_N_DATA_REGION_CORNER_COL,this.m_tableObject.getPreColumnsAmount()-1);e.putInteger(t.SacTableConstants.TD_N_DATA_REGION_CORNER_ROW,this.m_tableObject.getPreRowsAmount()-1);e.putInteger(t.SacTableConstants.TD_N_DATA_REGION_END_COL,this.m_tableObject.getPreColumnsAmount()+V-1);e.putInteger(t.SacTableConstants.TD_N_DATA_REGION_END_ROW,this.m_tableObject.getPreRowsAmount()+P-1);e.putInteger(t.SacTableConstants.TD_N_LAST_ROW_INDEX,this.m_tableObject.getPreRowsAmount()+P-1);a=_.putNewList(t.SacTableConstants.TE_L_CHILDREN)}else{a=t.PrFactory.createList()}return a};t.SacTableWidgetRenderHelper.prototype.renderRow=function(e,a,n,i,s,r,o){let l=a.addNewStructure();l.putInteger(t.SacTableConstants.R_N_HEIGHT,n.getEffectiveHeight());let C=n.getId();if(t.isNull(C)){C=t.XInteger.convertToHexString(i)}l.putString(t.SacTableConstants.C_S_ID,C);l.putInteger(t.SacTableConstants.R_N_ROW,i);l.putBoolean(t.SacTableConstants.R_B_FIXED,n.isFixed());l.putBoolean(t.SacTableConstants.R_B_CHANGED_ON_THE_FLY_UNRESPONSIVE,n.isChangedOnTheFlyUnresponsive());let _=l.putNewList(t.SacTableConstants.R_L_CELLS);let g=n.getParentTable().isStripeDataColumns();let u=n.getParentTable().isStripeDataRows();let S=g||u;let T=n.getCells().size();let h=0;let c;for(c=0;c<t.XMath.min(T,s);c++){if(this.renderCellForRow(e,h,i,n.getCells().get(c),_,u,g,S&&c>=n.getParentTable().getPreColumnsAmount()&&n.getParentTable().getRowList().contains(n))){h++}}let I=o===-1?T:t.XMath.min(T,s+o+1);for(c=r+s;c<I;c++){if(this.renderCellForRow(e,h,i,n.getCells().get(c),_,u,g,S&&c>=n.getParentTable().getPreColumnsAmount()&&n.getParentTable().getRowList().contains(n))){h++}}return l};t.SacTableWidgetRenderHelper.prototype.transferStyledLineToJson=function(e,a,n,i){if(!t.SacStyleUtils.isStyleLineEmpty(a)){let s=this.getLineInternal(n,i);s.putStringNotNullAndNotEmpty(t.SacTableConstants.SL_S_COLOR,t.RenderThemingHelper.remapColor(e,a.getColor()));if(a.getWidth()>-1){s.putDouble(t.SacTableConstants.SL_N_SIZE,a.getWidth())}if(a.hasPadding()){let e=s.putNewStructure(t.SacTableConstants.SL_M_PADDING);this.applyPadding(e,a.getLeftPadding(),t.SacTableConstants.SLP_N_LEFT);this.applyPadding(e,a.getRightPadding(),t.SacTableConstants.SLP_N_RIGHT);this.applyPadding(e,a.getTopPadding(),t.SacTableConstants.SLP_N_TOP);this.applyPadding(e,a.getBottomPadding(),t.SacTableConstants.SLP_N_BOTTOM)}let r=a.getLineStyle();if(r===t.SacTableLineStyle.DASHED){s.putInteger(t.SacTableConstants.SL_N_STYLE,t.SacTableConstants.LS_DASHED)}else if(r===t.SacTableLineStyle.DOTTED){s.putInteger(t.SacTableConstants.SL_N_STYLE,t.SacTableConstants.LS_DOTTED)}else if(r===t.SacTableLineStyle.SOLID){s.putInteger(t.SacTableConstants.SL_N_STYLE,t.SacTableConstants.LS_SOLID)}else if(r===t.SacTableLineStyle.NONE){s.putInteger(t.SacTableConstants.SL_N_STYLE,t.SacTableConstants.LS_NONE)}let o=a.getPatternType();if(t.notNull(o)){let n=s.putNewStructure(t.SacTableConstants.SL_M_PATTERN);if(o===t.VisualizationBackgroundPatternType.WHITE_FILL){n.putInteger(t.SacTableConstants.LP_N_STYLE,t.SacTableConstants.LPT_WHITE_FILL)}else if(o===t.VisualizationBackgroundPatternType.NOFILL){n.putInteger(t.SacTableConstants.LP_N_STYLE,t.SacTableConstants.LPT_NON_FILL)}else if(o===t.VisualizationBackgroundPatternType.SOLID){n.putInteger(t.SacTableConstants.LP_N_STYLE,t.SacTableConstants.LPT_SOLID)}else if(o===t.VisualizationBackgroundPatternType.BACKGROUND_IMAGE){n.putInteger(t.SacTableConstants.LP_N_STYLE,t.SacTableConstants.LPT_BACKGROUND_IMAGE);n.putStringNotNullAndNotEmpty(t.SacTableConstants.LP_S_BACKGROUND,a.getPatternBackground())}else if(o===t.VisualizationBackgroundPatternType.HATCHIING_1){n.putInteger(t.SacTableConstants.LP_N_STYLE,t.SacTableConstants.LPT_BACKGROUND_IMAGE);n.putString(t.SacTableConstants.LP_S_BACKGROUND,t.XStringUtils.concatenate3(t.SacTableConstants.IMG_B64_PREFIX,t.SacTableConstants.BASE64_SVG_HATCHING_1,t.SacTableConstants.IMG_B64_SUFFIX))}else if(o===t.VisualizationBackgroundPatternType.HATCHIING_2){n.putInteger(t.SacTableConstants.LP_N_STYLE,t.SacTableConstants.LPT_BACKGROUND_IMAGE);n.putString(t.SacTableConstants.LP_S_BACKGROUND,t.XStringUtils.concatenate3(t.SacTableConstants.IMG_B64_PREFIX,t.SacTableConstants.BASE64_SVG_HATCHING_2,t.SacTableConstants.IMG_B64_SUFFIX))}else if(o===t.VisualizationBackgroundPatternType.HATCHIING_3){n.putInteger(t.SacTableConstants.LP_N_STYLE,t.SacTableConstants.LPT_BACKGROUND_IMAGE);n.putString(t.SacTableConstants.LP_S_BACKGROUND,t.XStringUtils.concatenate3(t.SacTableConstants.IMG_B64_PREFIX,t.SacTableConstants.BASE64_SVG_HATCHING_3,t.SacTableConstants.IMG_B64_SUFFIX))}else if(o===t.VisualizationBackgroundPatternType.HATCHIING_4){n.putInteger(t.SacTableConstants.LP_N_STYLE,t.SacTableConstants.LPT_BACKGROUND_IMAGE);n.putString(t.SacTableConstants.LP_S_BACKGROUND,t.XStringUtils.concatenate3(t.SacTableConstants.IMG_B64_PREFIX,t.SacTableConstants.BASE64_SVG_HATCHING_4,t.SacTableConstants.IMG_B64_SUFFIX))}else if(o===t.VisualizationBackgroundPatternType.HATCHIING_5){n.putInteger(t.SacTableConstants.LP_N_STYLE,t.SacTableConstants.LPT_BACKGROUND_IMAGE);n.putString(t.SacTableConstants.LP_S_BACKGROUND,t.XStringUtils.concatenate3(t.SacTableConstants.IMG_B64_PREFIX,t.SacTableConstants.BASE64_SVG_HATCHING_5,t.SacTableConstants.IMG_B64_SUFFIX))}else if(o===t.VisualizationBackgroundPatternType.HATCHIING_6){n.putInteger(t.SacTableConstants.LP_N_STYLE,t.SacTableConstants.LPT_BACKGROUND_IMAGE);n.putString(t.SacTableConstants.LP_S_BACKGROUND,t.XStringUtils.concatenate3(t.SacTableConstants.IMG_B64_PREFIX,t.SacTableConstants.BASE64_SVG_HATCHING_6,t.SacTableConstants.IMG_B64_SUFFIX))}else if(o===t.VisualizationBackgroundPatternType.HATCHIING_7){n.putInteger(t.SacTableConstants.LP_N_STYLE,t.SacTableConstants.LPT_BACKGROUND_IMAGE);n.putString(t.SacTableConstants.LP_S_BACKGROUND,t.XStringUtils.concatenate3(t.SacTableConstants.IMG_B64_PREFIX,t.SacTableConstants.BASE64_SVG_HATCHING_7,t.SacTableConstants.IMG_B64_SUFFIX))}else if(o===t.VisualizationBackgroundPatternType.HATCHIING_8){n.putInteger(t.SacTableConstants.LP_N_STYLE,t.SacTableConstants.LPT_BACKGROUND_IMAGE);n.putString(t.SacTableConstants.LP_S_BACKGROUND,t.XStringUtils.concatenate3(t.SacTableConstants.IMG_B64_PREFIX,t.SacTableConstants.BASE64_SVG_HATCHING_8,t.SacTableConstants.IMG_B64_SUFFIX))}if(a.getPatternWidth()>0){n.putDouble(t.SacTableConstants.LP_N_WIDTH,a.getPatternWidth())}n.putStringNotNullAndNotEmpty(t.SacTableConstants.LP_S_COLOR,t.RenderThemingHelper.remapColor(e,a.getPatternColor()));n.putStringNotNullAndNotEmpty(t.SacTableConstants.LP_S_BORDER_COLOR,t.RenderThemingHelper.remapColor(e,a.getPatternBorderColor()))}}};t.SacTableXlsRenderHelper=function(){};t.SacTableXlsRenderHelper.prototype=new t.XObject;t.SacTableXlsRenderHelper.prototype._ff_c="SacTableXlsRenderHelper";t.SacTableXlsRenderHelper.createTableRenderHelper=function(e){let a=new t.SacTableXlsRenderHelper;a.initializeRH(e);return a};t.SacTableXlsRenderHelper.prototype.m_tableObject=null;t.SacTableXlsRenderHelper.prototype.getTableObject=function(){return this.m_tableObject};t.SacTableXlsRenderHelper.prototype.initializeRH=function(t){this.m_tableObject=t};t.VizInstanceRendererI18n=function(){};t.VizInstanceRendererI18n.prototype=new t.DfXLocalizationProvider;t.VizInstanceRendererI18n.prototype._ff_c="VizInstanceRendererI18n";t.VizInstanceRendererI18n.I18N_IN="I18N_IN";t.VizInstanceRendererI18n.I18N_MEASURE_VALUES="I18N_MEASURE_VALUES";t.VizInstanceRendererI18n.I18N_PER="I18N_PER";t.VizInstanceRendererI18n.staticSetup=function(){let e=new t.VizInstanceRendererI18n;e.setupProvider("VizInstanceRenderer",true);e.addTextWithComment(t.VizInstanceRendererI18n.I18N_PER,"per","#XTIT: describing the relationship between the measures and the dimensions in chart title");e.addTextWithComment(t.VizInstanceRendererI18n.I18N_IN,"in","#XTIT: describing before the units or scales in chart subtitle");e.addTextWithComment(t.VizInstanceRendererI18n.I18N_MEASURE_VALUES,"Measure Values","#XTXT: Text to signify measure values on value axis in certain cases");return e};t.VisualizationUiModule=function(){};t.VisualizationUiModule.prototype=new t.DfModule;t.VisualizationUiModule.prototype._ff_c="VisualizationUiModule";t.VisualizationUiModule.s_module=null;t.VisualizationUiModule.getInstance=function(){if(t.isNull(t.VisualizationUiModule.s_module)){t.DfModule.checkInitialized(t.VisualizationImplModule.getInstance());t.DfModule.checkInitialized(t.UiModule.getInstance());t.VisualizationUiModule.s_module=t.DfModule.startExt(new t.VisualizationUiModule);t.VizInstanceRendererI18n.staticSetup();t.SacGridRendererFactory.setInstance(t.SacGridRendererFactoryImpl.create());t.DfModule.stopExt(t.VisualizationUiModule.s_module)}return t.VisualizationUiModule.s_module};t.VisualizationUiModule.prototype.getName=function(){return"ff2670.visualization.ui"};t.VisualizationUiModule.getInstance();return t});
//# sourceMappingURL=ff2670.visualization.ui.js.map