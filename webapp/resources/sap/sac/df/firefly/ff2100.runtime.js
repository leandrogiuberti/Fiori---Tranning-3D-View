/*!
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.define(["sap/sac/df/firefly/ff2010.binding"],function(e){"use strict";e.FF2100_RUNTIME_RESOURCES=function(){};e.FF2100_RUNTIME_RESOURCES.prototype={};e.FF2100_RUNTIME_RESOURCES.prototype._ff_c="FF2100_RUNTIME_RESOURCES";e.FF2100_RUNTIME_RESOURCES.PATH_manifests_programs_DragonflyAppProgram_json="manifests/programs/DragonflyAppProgram.json";e.FF2100_RUNTIME_RESOURCES.PATH_manifests_programs_GenericAppProgram_json="manifests/programs/GenericAppProgram.json";e.FF2100_RUNTIME_RESOURCES.PATH_manifests_programs_OrcaAppProgram_json="manifests/programs/OrcaAppProgram.json";e.FF2100_RUNTIME_RESOURCES.PATH_manifests_programs_OrcaLiteViewerAppProgram_json="manifests/programs/OrcaLiteViewerAppProgram.json";e.FF2100_RUNTIME_RESOURCES.PATH_manifests_programs_StandardAppProgram_json="manifests/programs/StandardAppProgram.json";e.FF2100_RUNTIME_RESOURCES.PATH_manifests_programs_VfsAppProgram_json="manifests/programs/VfsAppProgram.json";e.FF2100_RUNTIME_RESOURCES.manifests_programs_DragonflyAppProgram_json="ewogICJOYW1lIjogIkRyYWdvbmZseUFwcFByb2dyYW0iLAogICJEaXNwbGF5TmFtZSI6ICJEcmFnb25mbHlBcHBQcm9ncmFtIiwKICAiRGVzY3JpcHRpb24iOiAiUHJvZ3JhbSB0byBib29zdHJhcCBVSTUiLAogICJBdXRob3IiOiAiTWFyY28gUGVzYXJlc2UiLAogICJBcHBTdG9yZSI6IGZhbHNlLAogICJQcm9maWxlcyI6IFsKICAgICJza3lsaWdodHMiCiAgXSwKICAiSW5pdGlhbGx5T25MYXVuY2hwYWQiOiBmYWxzZSwKICAiQ2F0ZWdvcnkiOiAiU3lzdGVtIiwKICAiQ29udGFpbmVyIjogIk5vbmUiLAogICJDbGFzcyI6ICJjb20uc2FwLmZpcmVmbHkucnVudGltZS5wcm9ncmFtcy5EcmFnb25mbHlBcHAuRHJhZ29uZmx5QXBwUHJvZ3JhbSIsCiAgIlN1YlN5c3RlbXMiOiBbCiAgICAiQ2FjaGUiLAogICAgIlN5c3RlbUxhbmRzY2FwZSIsCiAgICAiVXNlclByb2ZpbGUiLAogICAgIkNyZWRlbnRpYWxzUHJvdmlkZXIiCiAgXSwKICAiTW9kdWxlcyI6IFsKICAgICJmZjIxMDAucnVudGltZSIsCiAgICAiZmYyMTY2LnNwYWNlLmltcGwiCiAgXSwKICAiSW5pdGlhbFByb2Nlc3NFbnRpdGllcyI6IFsKICAgICJydC5EYXRhQXBwbGljYXRpb24iCiAgXQp9Cg==";e.FF2100_RUNTIME_RESOURCES.manifests_programs_GenericAppProgram_json="ewogICJOYW1lIjogIkdlbmVyaWNBcHBQcm9ncmFtIiwKICAiRGlzcGxheU5hbWUiOiAiR2VuZXJpYyBBcHAgUHJvZ3JhbSIsCiAgIkRlc2NyaXB0aW9uIjogIlByb2dyYW0gZm9yIGEgZ2VuZXJpYyBib290c3RyYXAgd2l0aCBhIHN5c3RlbSBsYW5kc2NhcGUiLAogICJBdXRob3IiOiAiTWFyY2luIFBhc2t1ZGEiLAogICJBcHBTdG9yZSI6IGZhbHNlLAogICJQcm9maWxlcyI6WyJza3lsaWdodHMiXSwKICAiSW5pdGlhbGx5T25MYXVuY2hwYWQiOiBmYWxzZSwKICAiQ2F0ZWdvcnkiOiAiU3lzdGVtIiwKICAiQ29udGFpbmVyIjogIk5vbmUiLAogICJDbGFzcyI6ICJjb20uc2FwLmZpcmVmbHkucnVudGltZS5wcm9ncmFtcy5HZW5lcmljQXBwLmltcGwuR2VuZXJpY0FwcFByb2dyYW0iLAogICJTdWJTeXN0ZW1zIjogWyJDYWNoZSIsICJTeXN0ZW1MYW5kc2NhcGUiLCAiQ3JlZGVudGlhbHNQcm92aWRlciIsIkRhdGFQcm92aWRlclBvb2wiXSwKICAiTW9kdWxlcyI6IFsiZmYyMTAwLnJ1bnRpbWUiXQp9Cg==";e.FF2100_RUNTIME_RESOURCES.manifests_programs_OrcaAppProgram_json="ewogICJOYW1lIjogIk9yY2FBcHBQcm9ncmFtIiwKICAiRGlzcGxheU5hbWUiOiAiT3JjYSBQcm9ncmFtIiwKICAiRGVzY3JpcHRpb24iOiAiT3JjYSBQcm9ncmFtIiwKICAiUHJvZmlsZXMiOiBbCiAgICAic2t5bGlnaHRzIgogIF0sCiAgIkF1dGhvciI6ICJNYXJjbyBQZXNhcmVzZSIsCiAgIkFwcFN0b3JlIjogZmFsc2UsCiAgIkluaXRpYWxseU9uTGF1bmNocGFkIjogZmFsc2UsCiAgIkNhdGVnb3J5IjogIlN5c3RlbSIsCiAgIkNvbnRhaW5lciI6ICJOb25lIiwKICAiQ2xhc3MiOiAiY29tLnNhcC5maXJlZmx5LnJ1bnRpbWUucHJvZ3JhbXMuT3JjYUFwcC5PcmNhQXBwUHJvZ3JhbSIsCiAgIlN1YlN5c3RlbXMiOiBbCiAgICAiU3lzdGVtTGFuZHNjYXBlIiwKICAgICJVc2VyUHJvZmlsZSIsCiAgICAiQ2FjaGUiCiAgXSwKICAiTW9kdWxlcyI6IFsKICAgICJmZjIxMDAucnVudGltZSIKICBdCn0K";e.FF2100_RUNTIME_RESOURCES.manifests_programs_OrcaLiteViewerAppProgram_json="ewogICJOYW1lIjogIk9yY2FMaXRlVmlld2VyQXBwUHJvZ3JhbSIsCiAgIkRpc3BsYXlOYW1lIjogIkxpdGUgV2VpZ2h0IFZpZXdlciIsCiAgIkRlc2NyaXB0aW9uIjogIkxpdGUgV2VpZ2h0IFZpZXdlciIsCiAgIlByb2ZpbGVzIjogWwogICAgIioiCiAgXSwKICAiQXV0aG9yIjogIlZsYWQgWmF0IiwKICAiQXBwU3RvcmUiOiBmYWxzZSwKICAiSW5pdGlhbGx5T25MYXVuY2hwYWQiOiBmYWxzZSwKICAiQ2F0ZWdvcnkiOiAiU3lzdGVtIiwKICAiQ29udGFpbmVyIjogIk5vbmUiLAogICJDbGFzcyI6ICJjb20uc2FwLmZpcmVmbHkucnVudGltZS5wcm9ncmFtcy5PcmNhTGl0ZVZpZXdlckFwcC5PcmNhTGl0ZVZpZXdlckFwcFByb2dyYW0iLAogICJTdWJTeXN0ZW1zIjogWwogICAgIlN5c3RlbUxhbmRzY2FwZSIsCiAgICAiQ2FjaGUiLAogICAgIkNyZWRlbnRpYWxzUHJvdmlkZXJMaXRlIgogIF0sCiAgIk1vZHVsZXMiOiBbCiAgICAiZmYyMTAwLnJ1bnRpbWUiCiAgXQp9Cg==";e.FF2100_RUNTIME_RESOURCES.manifests_programs_StandardAppProgram_json="ewogICJOYW1lIjogIlN0YW5kYXJkQXBwUHJvZ3JhbSIsCiAgIkRpc3BsYXlOYW1lIjogIkZpbGUgU3RhbmRhcmRBcHBQcm9ncmFtIiwKICAiRGVzY3JpcHRpb24iOiAiU3RhbmRhcmRBcHBQcm9ncmFtIiwKICAiUHJvZmlsZXMiOlsic2t5bGlnaHRzIl0sCiAgIkF1dGhvciI6ICJNYXJjbyBQZXNhcmVzZSIsCiAgIkFwcFN0b3JlIjogZmFsc2UsCiAgIkluaXRpYWxseU9uTGF1bmNocGFkIjogZmFsc2UsCiAgIkNhdGVnb3J5IjogIlN5c3RlbSIsCiAgIkNvbnRhaW5lciI6ICJOb25lIiwKICAiQ2xhc3MiOiAiY29tLnNhcC5maXJlZmx5LnJ1bnRpbWUucHJvZ3JhbXMuU3RhbmRhcmRBcHAuU3RhbmRhcmRBcHBQcm9ncmFtIiwKICAiU3ViU3lzdGVtcyI6IFsiU3lzdGVtTGFuZHNjYXBlIl0sCiAgIk1vZHVsZXMiOiBbImZmMjEwMC5ydW50aW1lIl0KfQo=";e.FF2100_RUNTIME_RESOURCES.manifests_programs_VfsAppProgram_json="ewogICJOYW1lIjogIlZmc0FwcFByb2dyYW0iLAogICJEaXNwbGF5TmFtZSI6ICJWZnMgQXBwIFByb2dyYW0iLAogICJEZXNjcmlwdGlvbiI6ICJQcm9ncmFtIGZvciBhIGdlbmVyaWMgYm9vdHN0cmFwIHdpdGggYSBzeXN0ZW0gbGFuZHNjYXBlIiwKICAiQXV0aG9yIjogIk1hcmt1cyBXZWJlciIsCiAgIkFwcFN0b3JlIjogZmFsc2UsCiAgIlByb2ZpbGVzIjpbInNreWxpZ2h0cyJdLAogICJJbml0aWFsbHlPbkxhdW5jaHBhZCI6IGZhbHNlLAogICJDYXRlZ29yeSI6ICJTeXN0ZW0iLAogICJDb250YWluZXIiOiAiTm9uZSIsCiAgIkNsYXNzIjogImNvbS5zYXAuZmlyZWZseS5ydW50aW1lLnByb2dyYW1zLlZmc0FwcC5WZnNBcHBQcm9ncmFtIiwKICAiU3ViU3lzdGVtcyI6IFsiQ2FjaGUiLCAiU3lzdGVtTGFuZHNjYXBlIl0sCiAgIk1vZHVsZXMiOiBbImZmMjEwMC5ydW50aW1lIl0sCiAgIkluaXRpYWxQcm9jZXNzRW50aXRpZXMiOiBbInJ0LkRhdGFBcHBsaWNhdGlvbiJdCn0K";e.XResources.registerResourceClass("ff2100.runtime",e.FF2100_RUNTIME_RESOURCES);e.ApplicationFactory={createApplication:function(t){let n=e.ApplicationFactory.createApplicationExt2(e.SyncType.BLOCKING,null,null,null,t,0,null,null,null,null,e.ApplicationSystemOption.AUTO,false,null,false);let r=n.getData();e.XObjectExt.release(n);return r},createApplicationExt:function(t,n,r,i,o,s,a,l,u){return e.ApplicationFactory.createApplicationExt2(t,n,r,null,i,o,s,a,l,u,e.ApplicationSystemOption.AUTO,false,null,false)},createApplicationExt2:function(t,n,r,i,o,s,a,l,u,c,p,g,y,A){let m=e.ApplicationFactory.createApplicationInitializeAction(t);m.setProcess(o);m.registerListener(n,r);m.setXVersion(s);m.setSystemType(a);m.setSystemName(l);m.setSystemUri(u);m.setSystemLandscapeUrl(c);m.setSystemOption(p);m.setUseKernelBoot(g);m.setKernel(i);m.setUseSingletonKernel(A);m.setProgramName(y);m.process();return m},createApplicationForDragonfly:function(t){let n=e.XEnvironment.getInstance();n.setVariable(e.XEnvironmentConstants.FIREFLY_FEATURE_TOGGLES,"+Olap.AutoVariableSubmitCapability");n.setVariable(e.XEnvironmentConstants.FIREFLY_FEATURE_TOGGLES,"+Olap.AutoVariableSubmitFunctionality");return e.ApplicationFactory.createApplicationExt2(e.SyncType.NON_BLOCKING,t,null,null,null,e.XVersion.MAX,null,null,null,null,e.ApplicationSystemOption.PATH,true,e.DragonflyAppProgram.DEFAULT_PROGRAM_NAME,false)},createApplicationForOrca:function(t,n,r,i,o,s){return e.ApplicationFactory.createApplicationExt2(t,n,r,i,null,o,null,null,null,s,e.ApplicationSystemOption.PATH,true,e.OrcaAppProgram.DEFAULT_PROGRAM_NAME,true)},createApplicationFull:function(t,n,r,i,o,s,a,l){return e.ApplicationFactory.createApplicationExt2(a,l,null,null,t,n,r,i,o,s,e.ApplicationSystemOption.AUTO,false,null,false)},createApplicationInitializeAction:function(t){return e.ApplicationInitializeAction.create(t)},createApplicationWithDefaultSystem:function(t,n,r){return e.ApplicationFactory.createApplicationWithVersionAndDefaultSystem(t,0,n,r)},createApplicationWithLandscapeBlocking:function(t,n){return e.ApplicationFactory.createApplicationWithVersionAndLandscape(t,0,n)},createApplicationWithUri:function(t){return e.ApplicationFactory.createApplicationWithUriAndVersion(t,0)},createApplicationWithUriAndVersion:function(t,n){let r=e.XUri.createFromUrl(t);let i=e.ApplicationFactory.createApplicationExt2(e.SyncType.BLOCKING,null,null,null,null,n,null,null,r,null,e.ApplicationSystemOption.AUTO,false,null,false);let o=i.getData();e.XObjectExt.release(i);return o},createApplicationWithVersionAndDefaultSystem:function(t,n,r,i){let o=e.ApplicationFactory.createApplicationExt2(e.SyncType.BLOCKING,null,null,null,t,n,r,i,null,null,e.ApplicationSystemOption.LOCATION_AND_TYPE,false,null,false);let s=o.getData();e.XObjectExt.release(o);return s},createApplicationWithVersionAndKernelBoot:function(t){let n=e.ApplicationFactory.createApplicationExt2(e.SyncType.BLOCKING,null,null,null,null,t,null,null,null,null,e.ApplicationSystemOption.AUTO,true,null,false);let r=n.getData();e.XObjectExt.release(n);return r},createApplicationWithVersionAndLandscape:function(t,n,r){return e.ApplicationFactory.createApplicationExt2(e.SyncType.BLOCKING,null,null,null,t,n,null,null,null,r,e.ApplicationSystemOption.PATH,false,null,false)},createDefaultApplication:function(){return e.ApplicationFactory.createDefaultApplicationWithVersion(0)},createDefaultApplicationWithVersion:function(t){let n=e.ApplicationFactory.createApplicationExt2(e.SyncType.BLOCKING,null,null,null,null,t,null,null,null,null,e.ApplicationSystemOption.AUTO,false,null,false);let r=n.getData();e.XObjectExt.release(n);return r}};e.QInAClientInfo={exportClientInfo:function(t,n,r,i){let o=n.getClientInfo();if(e.notNull(t)){let n=o.getStoryId();let s=o.getStoryName();let a=o.getLanguageLocale();let l=o.getWidgetId();let u=o.getSacModelId();let c=o.getInsightId();let p=e.XStringUtils.isNotNullAndNotEmpty(c)||e.XStringUtils.isNotNullAndNotEmpty(n)||e.XStringUtils.isNotNullAndNotEmpty(s)||e.XStringUtils.isNotNullAndNotEmpty(a)||e.XStringUtils.isNotNullAndNotEmpty(l);if(!r&&!p){return}let g=o.getClientIdentifier();if(o.getSession().hasFeature(e.FeatureToggleOlap.CLIENT_INFO_METADATA)&&e.XStringUtils.isNullOrEmpty(g)&&!p){return}let y=e.PrFactory.createStructure();if(r){y.putStringNotNull(e.InAConstantsBios.QY_CI_CLIENT_VERSION,o.getClientVersion());y.putStringNotNull(e.InAConstantsBios.QY_CI_CLIENT_IDENTIFIER,g);y.putStringNotNull(e.InAConstantsBios.QY_CI_CLIENT_COMPONENT,o.getClientComponent())}let A=e.XList.create();let m=e.XList.create();if(p){let t=y.putNewStructure(e.InAConstantsBios.QY_CI_CLIENT_CONTEXT);if(e.XStringUtils.isNotNullAndNotEmpty(c)){t.putString(e.InAConstantsBios.QY_CI_STORY_ID,e.XStringUtils.concatenate2("InsightId=",c));l="Insight";s=null}else{t.putStringNotNull(e.InAConstantsBios.QY_CI_STORY_ID,n)}t.putStringNotNull(e.InAConstantsBios.QY_CI_STORY_NAME,s);if(i){t.putStringNotNull(e.InAConstantsBios.QY_CI_LANGUAGE_LOCALE,a)}if(e.XStringUtils.isNotNullAndNotEmpty(l)||e.XStringUtils.isNotNullAndNotEmpty(u)){let t=l;if(e.XStringUtils.isNotNullAndNotEmpty(u)){t="";if(e.XStringUtils.isNotNullAndNotEmpty(l)){t=e.XStringUtils.concatenate3("WidgetId=",l,";")}t=e.XStringUtils.concatenate3(t,"ModelId=",u)}A.add(t)}}if(y.hasElements()){t.put(e.InAConstantsBios.QY_CI_CLIENT_INFO,y)}if(!o.getSession().hasFeature(e.FeatureToggleOlap.PRESERVE_CLIENTINFO_IN_BATCH)){let n=t.getListByKey(e.ConnectionConstants.INA_BATCH);if(e.notNull(n)){let t=n.size();for(let r=0;r<t;r++){let t=n.getStructureAt(r);let i=t.getStructureByKey(e.InAConstantsBios.QY_CI_CLIENT_INFO);t.remove(e.InAConstantsBios.QY_CI_CLIENT_INFO);if(e.isNull(i)){continue}let o=i.getStructureByKey(e.InAConstantsBios.QY_CI_CLIENT_CONTEXT);if(e.isNull(o)){continue}let s=o.getListByKey(e.InAConstantsBios.QY_CI_WIDGET_ID);if(e.notNull(s)){A.add(s.getStringAt(0))}let a=o.getListByKey(e.InAConstantsBios.QY_CI_SAC_MODEL_ID);if(e.notNull(a)){m.add(a.getStringAt(0))}}}}if(A.hasElements()){let t=y.getStructureByKey(e.InAConstantsBios.QY_CI_CLIENT_CONTEXT).putNewList(e.InAConstantsBios.QY_CI_WIDGET_ID);t.addAllStrings(A)}if(m.hasElements()){let t=y.getStructureByKey(e.InAConstantsBios.QY_CI_CLIENT_CONTEXT).putNewList(e.InAConstantsBios.QY_CI_SAC_MODEL_ID);t.addAllStrings(m)}}},exportFlexibleClientInfo:function(t,n){let r=n.getClientInfo();let i=e.PrFactory.createStructure();i.putStringNotNull(e.InAConstantsBios.QY_CI_CLIENT_VERSION,r.getClientVersion());i.putStringNotNull(e.InAConstantsBios.QY_CI_CLIENT_IDENTIFIER,r.getClientIdentifier());i.putStringNotNull(e.InAConstantsBios.QY_CI_CLIENT_COMPONENT,r.getClientComponent());let o=null;let s=e.PrFactory.createStructure();let a=r.getInsightId();if(e.notNull(a)){o=a;s.putStringNotNull(e.InAConstantsBios.QY_CI_INSIGHT_ID,a)}else{let t=r.getStoryId();if(e.notNull(t)){o=t;s.putStringNotNull(e.InAConstantsBios.QY_CI_STORY_ID,t);s.putStringNotNull(e.InAConstantsBios.QY_CI_STORY_NAME,r.getStoryName());s.putStringNotNull(e.InAConstantsBios.QY_CI_WIDGET_ID,r.getWidgetId())}}s.putStringNotNull(e.InAConstantsBios.QY_CI_SAC_MODEL_ID,r.getSacModelId());let l=r.getExcelWorkbook();if(e.notNull(l)){o=l;s.putStringNotNull(e.InAConstantsBios.QY_CI_EXCEl_WORKBOOK,l);s.putStringNotNull(e.InAConstantsBios.QY_CI_EXCEL_TABLE,r.getExcelTable());s.putStringNotNull(e.InAConstantsBios.QY_CI_EXCEL_FORMULA,r.getExcelFormula())}if(e.notNull(o)){i.putStringNotNull(e.InAConstantsBios.QY_CI_CLIENT_CONTEXT_ID,o);i.put(e.InAConstantsBios.QY_CI_CLIENT_CONTEXT,s)}if(i.hasElements()){t.put(e.InAConstantsBios.QY_CI_CLIENT_INFO,i)}}};e.BasicInAQuery=function(){};e.BasicInAQuery.prototype=new e.XObject;e.BasicInAQuery.prototype._ff_c="BasicInAQuery";e.BasicInAQuery.prototype.m_connectionContainer=null;e.BasicInAQuery.prototype.m_dimensionsUsedInFilter=null;e.BasicInAQuery.prototype.m_drillDownDimensionNames=null;e.BasicInAQuery.prototype.m_drillDownDimensions=null;e.BasicInAQuery.prototype.m_filter=null;e.BasicInAQuery.prototype.m_groupSignature=null;e.BasicInAQuery.prototype.m_inaElementHashMap=null;e.BasicInAQuery.prototype.m_instanceId=null;e.BasicInAQuery.prototype.m_isInARuntimeDataProvider=false;e.BasicInAQuery.prototype.m_isStandAloneQuery=false;e.BasicInAQuery.prototype.m_measureDimension=null;e.BasicInAQuery.prototype.m_measureDimensionAxisType=null;e.BasicInAQuery.prototype.m_measureDimensionName=null;e.BasicInAQuery.prototype.m_preQueryName=null;e.BasicInAQuery.prototype.m_queryDataCells=null;e.BasicInAQuery.prototype.m_rpcFunction=null;e.BasicInAQuery.prototype.m_secondaryStructureName=null;e.BasicInAQuery.prototype.m_state=null;e.BasicInAQuery.prototype.m_systemType=null;e.BasicInAQuery.prototype.addInaElementSignature=function(e,t){this.m_inaElementHashMap.put(e,t)};e.BasicInAQuery.prototype.calculateGroupSignature=function(){let t=e.XStringBuffer.create();let n=e.XCollectionUtils.getStringMapValuesSorted(this.m_inaElementHashMap);let r=n.size();for(let e=0;e<r;e++){let r=n.get(e);t.append(r)}this.m_groupSignature=e.XSha1.createSHA1(t.toString())};e.BasicInAQuery.prototype.getConnectionContainer=function(){return this.m_connectionContainer};e.BasicInAQuery.prototype.getDimensionNamesUsedInFilter=function(){return this.m_dimensionsUsedInFilter};e.BasicInAQuery.prototype.getDrillDownDimensionNames=function(){return this.m_drillDownDimensionNames};e.BasicInAQuery.prototype.getDrillDownDimensions=function(){return this.m_drillDownDimensions};e.BasicInAQuery.prototype.getFilter=function(){return this.m_filter};e.BasicInAQuery.prototype.getGroupSignature=function(){return this.m_groupSignature};e.BasicInAQuery.prototype.getInaElementSignature=function(e){return this.m_inaElementHashMap.getByKey(e)};e.BasicInAQuery.prototype.getInstanceId=function(){return this.m_instanceId};e.BasicInAQuery.prototype.getMeasureDimension=function(){return this.m_measureDimension};e.BasicInAQuery.prototype.getMeasureDimensionAxis=function(){return this.m_measureDimensionAxisType};e.BasicInAQuery.prototype.getMeasureDimensionName=function(){return this.m_measureDimensionName};e.BasicInAQuery.prototype.getPreQueryName=function(){return this.m_preQueryName};e.BasicInAQuery.prototype.getQueryDataCells=function(){return this.m_queryDataCells};e.BasicInAQuery.prototype.getRequestStructure=function(){let t=null;let n=this.m_rpcFunction.getRpcRequest();if(e.notNull(n)){t=n.getRequestStructure()}return t};e.BasicInAQuery.prototype.getRpcFunction=function(){return this.m_rpcFunction};e.BasicInAQuery.prototype.getSecondaryStructureName=function(){return this.m_secondaryStructureName};e.BasicInAQuery.prototype.getSystemName=function(){return this.m_connectionContainer.getSystemName()};e.BasicInAQuery.prototype.getSystemType=function(){return this.m_systemType};e.BasicInAQuery.prototype.isInARuntimeDataProvider=function(){return this.m_isInARuntimeDataProvider};e.BasicInAQuery.prototype.isInitState=function(){return e.XString.isEqual(this.m_state,e.InAQueryMergeConstants.QUERY_STATE_INIT)};e.BasicInAQuery.prototype.isMergeChecked=function(){return e.XString.isEqual(this.m_state,e.InAQueryMergeConstants.QUERY_STATE_MERGE_CHECKED)};e.BasicInAQuery.prototype.isPendingProcessing=function(){return e.XString.isEqual(this.m_state,e.InAQueryMergeConstants.QUERY_STATE_PENDING_PROCESSING)};e.BasicInAQuery.prototype.isStandAloneQuery=function(){return this.m_isStandAloneQuery};e.BasicInAQuery.prototype.releaseObject=function(){this.m_instanceId=null;this.m_rpcFunction=null;this.m_connectionContainer=null;this.m_systemType=null;this.m_state=null;this.m_inaElementHashMap=e.XObjectExt.release(this.m_inaElementHashMap);this.m_drillDownDimensions=e.XObjectExt.release(this.m_drillDownDimensions);this.m_drillDownDimensionNames=e.XObjectExt.release(this.m_drillDownDimensionNames);this.m_dimensionsUsedInFilter=e.XObjectExt.release(this.m_dimensionsUsedInFilter);this.m_measureDimensionName=null;this.m_measureDimensionAxisType=null;this.m_measureDimension=e.XObjectExt.release(this.m_measureDimension);this.m_secondaryStructureName=null;this.m_filter=e.XObjectExt.release(this.m_filter);this.m_queryDataCells=e.XObjectExt.release(this.m_queryDataCells);this.m_preQueryName=null;e.XObject.prototype.releaseObject.call(this)};e.BasicInAQuery.prototype.setDimensionNamesUsedInFilter=function(e){this.m_dimensionsUsedInFilter=e};e.BasicInAQuery.prototype.setDrillDownDimensionNames=function(e){this.m_drillDownDimensionNames=e};e.BasicInAQuery.prototype.setDrillDownDimensions=function(e){this.m_drillDownDimensions=e};e.BasicInAQuery.prototype.setFilter=function(e){this.m_filter=e};e.BasicInAQuery.prototype.setGroupSignature=function(e){this.m_groupSignature=e};e.BasicInAQuery.prototype.setIsInARuntimeDataProvider=function(e){this.m_isInARuntimeDataProvider=e};e.BasicInAQuery.prototype.setIsStandAloneQuery=function(t){this.m_isStandAloneQuery=t;if(t){this.setQueryState(e.InAQueryMergeConstants.QUERY_STATE_MERGE_CHECKED)}};e.BasicInAQuery.prototype.setMeasureDimension=function(e){this.m_measureDimension=e};e.BasicInAQuery.prototype.setMeasureDimensionAxis=function(e){this.m_measureDimensionAxisType=e};e.BasicInAQuery.prototype.setMeasureDimensionName=function(e){this.m_measureDimensionName=e};e.BasicInAQuery.prototype.setPreQueryName=function(e){this.m_preQueryName=e};e.BasicInAQuery.prototype.setQueryDataCells=function(e){this.m_queryDataCells=e};e.BasicInAQuery.prototype.setQueryState=function(e){this.m_state=e};e.BasicInAQuery.prototype.setRpcFunction=function(e){this.m_rpcFunction=e};e.BasicInAQuery.prototype.setSecondaryStructureName=function(e){this.m_secondaryStructureName=e};e.BasicInAQuery.prototype.setupBasicInAQuery=function(t,n,r,i){this.m_instanceId=t;this.m_rpcFunction=n;this.m_connectionContainer=r;this.m_systemType=i;this.m_state=e.InAQueryMergeConstants.QUERY_STATE_INIT;this.m_isStandAloneQuery=false;this.m_isInARuntimeDataProvider=false;this.m_inaElementHashMap=e.XHashMapByString.create()};e.InAMergeRegistry=function(){};e.InAMergeRegistry.prototype=new e.XObject;e.InAMergeRegistry.prototype._ff_c="InAMergeRegistry";e.InAMergeRegistry.create=function(){let t=new e.InAMergeRegistry;t.setupInAMergeRegistry();return t};e.InAMergeRegistry.prototype.m_dimensionKeyFieldMap=null;e.InAMergeRegistry.prototype.m_fieldDimensionMap=null;e.InAMergeRegistry.prototype.m_inaDataProviderList=null;e.InAMergeRegistry.prototype.m_inaDataProviderRepo=null;e.InAMergeRegistry.prototype.m_inaSourceQueryList=null;e.InAMergeRegistry.prototype.m_inaSourceQueryRepo=null;e.InAMergeRegistry.prototype.m_membersMetadataRepo=null;e.InAMergeRegistry.prototype.m_modelMetadataRepo=null;e.InAMergeRegistry.prototype.m_signatureSourceQueryMap=null;e.InAMergeRegistry.prototype.addToGroup=function(t,n){let r=null;if(!this.m_signatureSourceQueryMap.containsKey(t)){r=e.XList.create();r.add(n);this.m_signatureSourceQueryMap.put(t,r)}else{r=this.m_signatureSourceQueryMap.getByKey(t);r.add(n)}};e.InAMergeRegistry.prototype.clearMetadataRepo=function(){this.m_modelMetadataRepo.clear();this.m_membersMetadataRepo.clear();this.m_dimensionKeyFieldMap.clear();this.m_fieldDimensionMap.clear()};e.InAMergeRegistry.prototype.getAllMainQueryInADataProviders=function(){let t=e.XList.create();let n=this.m_inaDataProviderRepo.getValuesAsReadOnlyList();e.XStream.of(n).forEach(e=>{let n=e;if(n.isMainQuery()){t.add(n)}});return t};e.InAMergeRegistry.prototype.getDependentQueryInADataProviders=function(t){let n=e.XList.create();let r=this.m_inaDataProviderRepo.getValuesAsReadOnlyList();e.XStream.of(r).forEach(e=>{let r=e;let i=r.getPreQueries();if(i.contains(t)){n.add(r)}});return n};e.InAMergeRegistry.prototype.getDimensionNameOfField=function(e){return this.m_fieldDimensionMap.getByKey(e)};e.InAMergeRegistry.prototype.getGroupSignatures=function(){return this.m_signatureSourceQueryMap.getKeysAsReadOnlyList()};e.InAMergeRegistry.prototype.getInADataProvider=function(e){return this.m_inaDataProviderRepo.getByKey(e)};e.InAMergeRegistry.prototype.getInADataProviders=function(){return this.m_inaDataProviderList.getValuesAsReadOnlyList()};e.InAMergeRegistry.prototype.getInASourceQuery=function(e){return this.m_inaSourceQueryRepo.getByKey(e)};e.InAMergeRegistry.prototype.getKeyFieldOfDimension=function(e){return this.m_dimensionKeyFieldMap.getByKey(e)};e.InAMergeRegistry.prototype.getMembersMetadata=function(e){return this.m_membersMetadataRepo.getByKey(e)};e.InAMergeRegistry.prototype.getMergeableSourceQueries=function(){let t=e.XList.create();for(let e=0;e<this.m_inaSourceQueryList.size();e++){let n=this.m_inaSourceQueryList.get(e);let r=this.getInASourceQuery(n);if(!r.isStandAloneQuery()&&r.isInitState()){t.add(r)}}return t};e.InAMergeRegistry.prototype.getModelMetadata=function(e){return this.m_modelMetadataRepo.getByKey(e)};e.InAMergeRegistry.prototype.getPreQueryInADataProviderByName=function(t){let n=this.m_inaDataProviderRepo.getValuesAsReadOnlyList();for(let r=0;r<n.size();r++){let i=n.get(r);if(i.isPreQuery()&&e.XString.isEqual(i.getPreQueryName(),t)){return i}}return null};e.InAMergeRegistry.prototype.getPreQuerySourceByName=function(t){let n=this.m_inaSourceQueryRepo.getValuesAsReadOnlyList();for(let r=0;r<n.size();r++){let i=n.get(r);if(e.XString.isEqual(i.getPreQueryName(),t)){return i}}return null};e.InAMergeRegistry.prototype.getSourceIDsBySignature=function(e){return this.m_signatureSourceQueryMap.getByKey(e)};e.InAMergeRegistry.prototype.groupSourceQueries=function(e){this.m_signatureSourceQueryMap.clear();for(let t=0;t<e.size();t++){let n=e.get(t);let r=n.getGroupSignature();let i=n.getInstanceId();if(!n.isStandAloneQuery()&&n.isInitState()){this.addToGroup(r,i)}}};e.InAMergeRegistry.prototype.hasMeasureMembersMetadata=function(e){return this.m_membersMetadataRepo.containsKey(e)};e.InAMergeRegistry.prototype.hasModelMetadata=function(e){return this.m_modelMetadataRepo.containsKey(e)};e.InAMergeRegistry.prototype.hasSourceQueries=function(){return this.m_inaSourceQueryRepo.hasElements()};e.InAMergeRegistry.prototype.registerInADataProvider=function(e,t){this.m_inaDataProviderRepo.put(e,t);if(!this.m_inaDataProviderList.contains(e)){this.m_inaDataProviderList.add(e)}};e.InAMergeRegistry.prototype.registerInASourceQuery=function(e,t){this.m_inaSourceQueryRepo.put(e,t);if(!this.m_inaSourceQueryList.contains(e)){this.m_inaSourceQueryList.add(e)}};e.InAMergeRegistry.prototype.registerKeyFieldForDimension=function(t,n){if(e.notNull(n)&&e.XStringUtils.isNotNullAndNotEmpty(t)&&!this.m_dimensionKeyFieldMap.containsKey(t)){let r=n.getStringByKey(e.InAQueryMergeConstants.QY_KEY_ATTRIBUTE);if(e.XStringUtils.isNullOrEmpty(r)){r=n.getStringByKey(e.InAQueryMergeConstants.QY_DEFAULT_KEY_ATTRIBUTE)}if(e.XStringUtils.isNullOrEmpty(r)){let t=n.getListByKey(e.InAQueryMergeConstants.QY_ATTRIBUTES);for(let n=0;n<t.size();n++){let i=t.getStructureAt(n);let o=i.getStringByKey(e.InAQueryMergeConstants.QY_PRESENTATION_TYPE);if(e.XString.isEqual(o,e.InAQueryMergeConstants.QY_KEY)){r=i.getStringByKey(e.InAQueryMergeConstants.QY_NAME);break}}}this.m_dimensionKeyFieldMap.put(t,r);if(!this.m_fieldDimensionMap.containsKey(r)){this.m_fieldDimensionMap.put(r,t)}}};e.InAMergeRegistry.prototype.registerMembersMetadata=function(t,n){if(e.notNull(n)&&e.XStringUtils.isNotNullAndNotEmpty(t)&&!this.m_membersMetadataRepo.containsKey(t)){let r=n.getListByKey(e.InAQueryMergeConstants.QY_MEMBERS);if(!e.PrUtils.isListEmpty(r)){this.m_membersMetadataRepo.put(t,r)}}};e.InAMergeRegistry.prototype.registerModelMetadata=function(t,n){if(e.notNull(n)&&e.XStringUtils.isNotNullAndNotEmpty(t)&&!this.m_modelMetadataRepo.containsKey(t)){this.m_modelMetadataRepo.put(t,n)}};e.InAMergeRegistry.prototype.releaseObject=function(){this.m_inaSourceQueryList=e.XObjectExt.release(this.m_inaSourceQueryList);this.m_inaSourceQueryRepo=e.XObjectExt.release(this.m_inaSourceQueryRepo);this.m_inaDataProviderList=e.XObjectExt.release(this.m_inaDataProviderList);this.m_inaDataProviderRepo=e.XObjectExt.release(this.m_inaDataProviderRepo);this.m_signatureSourceQueryMap=e.XObjectExt.release(this.m_signatureSourceQueryMap);this.m_modelMetadataRepo=e.XObjectExt.release(this.m_modelMetadataRepo);this.m_membersMetadataRepo=e.XObjectExt.release(this.m_membersMetadataRepo);this.m_dimensionKeyFieldMap=e.XObjectExt.release(this.m_dimensionKeyFieldMap);this.m_fieldDimensionMap=e.XObjectExt.release(this.m_fieldDimensionMap);e.XObject.prototype.releaseObject.call(this)};e.InAMergeRegistry.prototype.setupInAMergeRegistry=function(){this.m_inaSourceQueryList=e.XList.create();this.m_inaSourceQueryRepo=e.XHashMapByString.create();this.m_inaDataProviderList=e.XList.create();this.m_inaDataProviderRepo=e.XHashMapByString.create();this.m_signatureSourceQueryMap=e.XLinkedHashMapByString.create();this.m_modelMetadataRepo=e.XHashMapByString.create();this.m_membersMetadataRepo=e.XHashMapByString.create();this.m_dimensionKeyFieldMap=e.XHashMapByString.create();this.m_fieldDimensionMap=e.XHashMapByString.create()};e.InAMergeRegistry.prototype.unregisterInADataProvider=function(e,t){this.m_inaDataProviderRepo.remove(t);this.m_inaDataProviderList.removeElement(t);this.m_signatureSourceQueryMap.remove(e);if(!this.hasSourceQueries()){this.clearMetadataRepo()}};e.InAMergeRegistry.prototype.unregisterInASourceQuery=function(e){this.m_inaSourceQueryRepo.remove(e);this.m_inaSourceQueryList.removeElement(e)};e.InAMergeRegistryManager=function(){};e.InAMergeRegistryManager.prototype=new e.XObject;e.InAMergeRegistryManager.prototype._ff_c="InAMergeRegistryManager";e.InAMergeRegistryManager.create=function(){let t=new e.InAMergeRegistryManager;t.setupInAMergeRegistry();return t};e.InAMergeRegistryManager.prototype.m_elementsPathForMergeBreakers=null;e.InAMergeRegistryManager.prototype.m_inaMergeRegistry=null;e.InAMergeRegistryManager.prototype.m_inaSortingSerializer=null;e.InAMergeRegistryManager.prototype.buildInASourceQueryAndRegister=function(t,n,r,i,o,s,a){let l=null;if(e.notNull(n)&&e.notNull(r)){let u=this.getValidInARequest(n);if(e.notNull(u)){let c=false;let p=e.PrUtilsJsonPath.getFirstElementFromPath(u,e.InAQueryMergeConstants.PA_RS_FEATURE_REQUEST_PATH);let g=p.getBooleanByKeyExt(e.InAQueryMergeConstants.QY_RETURN_EMPTY_JSON_RESULTSET,false);if(g){let t=e.PrUtilsJsonPath.getFirstElementFromPath(u,e.InAQueryMergeConstants.PA_DEFINITION_PATH);let n=t.getStringByKey(e.InAQueryMergeConstants.QY_NAME);if(this.m_inaMergeRegistry.getPreQuerySourceByName(n)!==null){c=true}}if(!c){this.collectMeasureMetadataForRegistry(o,s,a);l=e.InASourceQuery.create(t,n,r,i);this.m_inaMergeRegistry.registerInASourceQuery(t,l);let c=u.getStructureByKey(e.InAQueryMergeConstants.QY_ANALYTICS);let p=c.containsKey(e.InAQueryMergeConstants.QY_STANDALONE_INDICATOR);if(p){let t=c.getBooleanByKey(e.InAQueryMergeConstants.QY_STANDALONE_INDICATOR);l.setIsStandAloneQuery(t);this.collectElementsAndInaSignatures(l);this.collectInitialMeasureMembers(l)}else{let e=this.isStandAloneQuery01(u);if(!e){this.collectElementsAndInaSignatures(l);this.collectInitialMeasureMembers(l);e=this.isStandAloneQuery02(l,u,o)}if(e){l.setIsStandAloneQuery(true)}}}}}return l};e.InAMergeRegistryManager.prototype.collectDrillDownDimensions=function(t,n){let r=e.PrFactory.createStructure();if(!e.PrUtils.isListEmpty(n)){let i=e.PrFactory.createList();for(let r=0;r<n.size();r++){let o=n.get(r);let s=o.getStringByKey(e.InAQueryMergeConstants.TAG_KEY);let a=o.getStringByKey(e.InAQueryMergeConstants.QY_AXIS);let l=o.getStructureByKey(e.InAQueryMergeConstants.QY_DATASOURCE)!==null&&o.containsKey(e.InAQueryMergeConstants.QY_JOIN_TYPE);if(e.XStringUtils.isNullOrEmpty(s)){if(!e.XString.isEqual(a,e.InAQueryMergeConstants.QY_FREE)||l){i.add(o)}}else if(e.XString.isEqual(s,e.InAQueryMergeConstants.TAG_MEASURE_STRUCTURE)){this.collectMeasureDimensionInfo(t,o,a)}else if(e.XString.isEqual(s,e.InAQueryMergeConstants.TAG_SECONDARY_STRUCTURE)){let n=o.getStringByKey(e.InAQueryMergeConstants.QY_NAME);t.setSecondaryStructureName(n);if(!e.XString.isEqual(a,e.InAQueryMergeConstants.QY_FREE)){i.add(o)}}}if(!e.PrUtils.isListEmpty(i)){r.put(e.InAQueryMergeConstants.QY_DIMENSIONS,i)}}return r};e.InAMergeRegistryManager.prototype.collectElementsAndInaSignatures=function(t){let n=t.getRequestStructure();let r=true;let i=e.PrUtilsJsonPath.getFirstElementFromPath(n,e.InAQueryMergeConstants.TAG_GROUP_SIGNATURE_PATH);if(e.notNull(i)){t.setGroupSignature(i.getString());r=false}let o=this.m_elementsPathForMergeBreakers.size();for(let i=0;i<o;i++){let o=this.m_elementsPathForMergeBreakers.get(i);let s=e.PrUtilsJsonPath.getFirstElementFromPath(n,o);if(e.XString.isEqual(o,e.InAQueryMergeConstants.PA_DRILLDOWN_DIMENSIONS_VIRTUAL_PATH)){let r=e.PrUtilsJsonPath.getFirstElementFromPath(n,e.InAQueryMergeConstants.PA_DIMENSIONS_PATH);s=this.collectDrillDownDimensions(t,r);let i=s.getListByKey(e.InAQueryMergeConstants.QY_DIMENSIONS);t.setDrillDownDimensions(i);if(e.notNull(i)){let n=e.XList.create();e.InAQueryMergeUtils.collectDrillDownDimensionNames(i,n);t.setDrillDownDimensionNames(n)}}else if(e.XString.isEqual(o,e.InAQueryMergeConstants.PA_MEASURE_STRUCTURE_WITHOUT_MEMBERS_VIRTUAL_PATH)){let n=t.getMeasureDimension();if(e.notNull(n)){s=this.collectMeasureDimensionWithoutMembers(n)}}if(r){let n=this.m_inaSortingSerializer.serialize(s);let r=e.XSha1.createSHA1(n);if(e.XStringUtils.isNotNullAndNotEmpty(o)&&e.XStringUtils.isNotNullAndNotEmpty(r)){t.addInaElementSignature(o,r)}}}let s=e.InAQueryMergeUtils.getFilterStructure(n);t.setFilter(s);let a=e.isNull(s)?null:s.getStructureByKey(e.InAQueryMergeConstants.QY_SELECTION);if(e.notNull(a)){let n=e.XList.create();e.InAQueryMergeUtils.collectFieldNamesUsedInSelection(a,n);let r=this.getDimensionNamesForFields(n);t.setDimensionNamesUsedInFilter(r)}let l=e.PrUtilsJsonPath.getFirstElementFromPath(n,e.InAQueryMergeConstants.PA_QUERY_DATACELLS_PATH);t.setQueryDataCells(l);if(r){t.calculateGroupSignature()}};e.InAMergeRegistryManager.prototype.collectInitialMeasureMembers=function(t){let n=t.getFilter();let r=t.getMeasureDimension();if(e.notNull(n)){let r=n.getStructureByKey(e.InAQueryMergeConstants.QY_SELECTION);let i=e.InARestrictedMeasureUtils.extractMeasuresFromSelection(r,null);for(let e=0;e<i.size();e++){let n=i.get(e);t.addMeasureMemberName(n,false,true,null)}}else if(e.notNull(r)){let n=r.getStringByKey(e.InAQueryMergeConstants.QY_NAME);let i=this.m_inaMergeRegistry.getKeyFieldOfDimension(n);let o=r.getListByKey(e.InAQueryMergeConstants.QY_MEMBERS);for(let n=0;n<o.size();n++){let r=o.getStructureAt(n);let s=r.getStringByKey(i);if(t.getSystemType().isTypeOf(e.SystemType.HANA)){let t=r.getStringByKey(e.InAQueryMergeConstants.QY_MEMBER_NAME);s=e.XStringUtils.isNotNullAndNotEmpty(t)?t:r.getStructureByKey(e.InAQueryMergeConstants.QY_MEMBER_OPERAND).getStringByKey(e.InAQueryMergeConstants.QY_VALUE)}t.addMeasureMemberName(s,false,false,null)}}};e.InAMergeRegistryManager.prototype.collectMeasureDimensionInfo=function(t,n,r){let i=n.getStringByKey(e.InAQueryMergeConstants.QY_NAME);t.setMeasureDimensionName(i);t.setMeasureDimension(n);t.setMeasureDimensionAxis(r)};e.InAMergeRegistryManager.prototype.collectMeasureDimensionWithoutMembers=function(t){let n=e.PrFactory.createStructureDeepCopy(t);n.remove(e.InAQueryMergeConstants.QY_MEMBERS);let r=n.getListByKey(e.InAQueryMergeConstants.QY_ATTRIBUTES);let i=e.PrFactory.createList();for(let t=0;t<r.size();t++){let n=r.get(t);let o=n.getStringByKey(e.InAQueryMergeConstants.QY_NAME);if(!e.XString.endsWith(o,".ID")){i.add(n)}}n.put(e.InAQueryMergeConstants.QY_ATTRIBUTES,i);return n};e.InAMergeRegistryManager.prototype.collectMeasureMetadataForRegistry=function(t,n,r){if(e.notNull(r)){let t=r.getStringByKey(e.InAQueryMergeConstants.QY_NAME);this.m_inaMergeRegistry.registerKeyFieldForDimension(t,r);this.m_inaMergeRegistry.registerMembersMetadata(t,r)}this.m_inaMergeRegistry.registerModelMetadata(t,n)};e.InAMergeRegistryManager.prototype.getAllMainQueryInADataProviders=function(){return this.m_inaMergeRegistry.getAllMainQueryInADataProviders()};e.InAMergeRegistryManager.prototype.getDependentQueryInADataProviders=function(e){return this.m_inaMergeRegistry.getDependentQueryInADataProviders(e)};e.InAMergeRegistryManager.prototype.getDimensionNamesForFields=function(t){let n=e.XList.create();if(e.notNull(t)){for(let r=0;r<t.size();r++){let i=t.get(r);let o=this.m_inaMergeRegistry.getDimensionNameOfField(i);if(e.isNull(o)){o=e.InAQueryMergeUtils.getUsedDimensionName(i)}n.add(o)}}return n};e.InAMergeRegistryManager.prototype.getGroupSignatures=function(){return this.m_inaMergeRegistry.getGroupSignatures()};e.InAMergeRegistryManager.prototype.getInADataProvider=function(e){return this.m_inaMergeRegistry.getInADataProvider(e)};e.InAMergeRegistryManager.prototype.getInADataProviders=function(){return this.m_inaMergeRegistry.getInADataProviders()};e.InAMergeRegistryManager.prototype.getInASourceQuery=function(e){return this.m_inaMergeRegistry.getInASourceQuery(e)};e.InAMergeRegistryManager.prototype.getKeyFieldOfDimension=function(e){return this.m_inaMergeRegistry.getKeyFieldOfDimension(e)};e.InAMergeRegistryManager.prototype.getMembersMetadata=function(e){return this.m_inaMergeRegistry.getMembersMetadata(e)};e.InAMergeRegistryManager.prototype.getMergeableSourceQueries=function(){return this.m_inaMergeRegistry.getMergeableSourceQueries()};e.InAMergeRegistryManager.prototype.getModelMetadata=function(e){return this.m_inaMergeRegistry.getModelMetadata(e)};e.InAMergeRegistryManager.prototype.getPreQueryInADataProviderByName=function(e){return this.m_inaMergeRegistry.getPreQueryInADataProviderByName(e)};e.InAMergeRegistryManager.prototype.getSourceIDsBySignature=function(e){return this.m_inaMergeRegistry.getSourceIDsBySignature(e)};e.InAMergeRegistryManager.prototype.getValidInARequest=function(t){let n=t.getRpcRequest();let r=e.isNull(n)?null:n.getRequestStructure();if(e.isNull(r)||r.isEmpty()){r=null}else{let t=e.PrUtilsJsonPath.getFirstElementFromPath(r,e.InAQueryMergeConstants.PA_ANALYTICS_SERVICE_TYPE_PATH);if(e.isNull(t)||t.containsKey(e.InAQueryMergeConstants.QY_PROCESSING_DIRECTIVES)||t.containsKey(e.InAQueryMergeConstants.QY_PROCESSING_STEP)){r=null}}return r};e.InAMergeRegistryManager.prototype.groupSourceQueries=function(e){this.m_inaMergeRegistry.groupSourceQueries(e)};e.InAMergeRegistryManager.prototype.hasMeasureMembersMetadata=function(e){return this.m_inaMergeRegistry.hasMeasureMembersMetadata(e)};e.InAMergeRegistryManager.prototype.hasModelMetadata=function(e){return this.m_inaMergeRegistry.hasModelMetadata(e)};e.InAMergeRegistryManager.prototype.isStandAloneQuery01=function(t){try{let n=e.InAQueryMergeUtils.getQueryType(t);if(e.XString.isEqual(n,e.InAQueryMergeConstants.QY_QUERY_VALUE_HELP)){return true}let r=e.PrUtilsJsonPath.getFirstElementFromPath(t,e.InAQueryMergeConstants.PA_QUERY_AXES_PATH);if(!e.PrUtils.isListEmpty(r)){let t=r.get(0).getIntegerByKeyExt(e.InAQueryMergeConstants.QY_ZERO_SUPPRESSION_TYPE,-1);let n=r.get(1).getIntegerByKeyExt(e.InAQueryMergeConstants.QY_ZERO_SUPPRESSION_TYPE,-1);if(t!==0||n!==0){return true}}let i=e.PrUtilsJsonPath.getFirstElementFromPath(t,e.InAQueryMergeConstants.PA_RS_FEATURE_REQUEST_PATH);if(e.notNull(i)&&i.getBooleanByKey(e.InAQueryMergeConstants.QY_SUPPRESS_KEYFIGURE_CALCULATION)){return true}if(e.notNull(i)&&i.getBooleanByKeyExt(e.InAQueryMergeConstants.QY_RETURN_EMPTY_JSON_RESULTSET,false)){return true}let o=e.PrUtilsJsonPath.getFirstElementFromPath(t,e.InAQueryMergeConstants.PA_DIMENSIONS_PATH);if(!e.PrUtils.isListEmpty(o)&&e.InAQueryMergeUtils.hasGeometryDimension(o)){return true}if(!e.PrUtils.isListEmpty(o)&&e.InAQueryMergeUtils.hasAccountDimension(o)){return true}let s=e.InAQueryMergeUtils.getFilterStructure(t);let a=e.isNull(s)?null:s.getStructureByKey(e.InAQueryMergeConstants.QY_SELECTION);if(e.notNull(a)){let t=a.getStructureByKey(e.InAQueryMergeConstants.QY_OPERATOR);if(e.notNull(t)){e.InARestrictedMeasureUtils._cleanRedundantOperatorWrapper(t,t);if(e.InAQueryMergeUtils.isComplexFilter(t)){return true}}if(e.InAQueryMergeUtils.hasGeometryOperandInFilter(a)){return true}if(e.InAQueryMergeUtils.hasVariablePlaceHolder(a)){return true}if(e.InAQueryMergeUtils.hasFilterTagValue(a,e.InAQueryMergeConstants.TAG_FILTER_SECOND_STRUCTURE)){return true}let n=a.getStringRepresentation();if(e.notNull(n)&&e.XString.containsString(n,e.InAQueryMergeConstants.QY_LEVEL_OFFSET_1)){return true}}}catch(e){return true}return false};e.InAMergeRegistryManager.prototype.isStandAloneQuery02=function(t,n,r){try{let i=t.getMeasureDimensionAxis();let o=t.getDrillDownDimensions();if(e.notNull(o)&&e.InAQueryMergeUtils.hasNonMeasureDimensionOnMeasureAxis(o,i)){return true}let s=e.InAQueryMergeUtils.getFilterStructure(n);let a=e.isNull(s)?null:s.getStructureByKey(e.InAQueryMergeConstants.QY_SELECTION);if(e.notNull(a)){let i=t.getDrillDownDimensionNames();let o=e.XList.create();e.InAQueryMergeUtils.collectDimensionsWithHierarchicalFilter(a,o);if(e.notNull(i)&&!o.isEmpty()&&e.InAQueryMergeUtils.isListsIntersect(o,i)){return true}let s=t.getMeasureDimension();let l=e.isNull(s)?null:s.getListByKey(e.InAQueryMergeConstants.QY_MEMBERS);if(!e.PrUtils.isListEmpty(l)){let i=t.getMeasureDimensionName();let o=t.getDimensionNamesUsedInFilter();if(e.notNull(o)){o.removeElement(i);if(!o.isEmpty()){let s=this.m_inaMergeRegistry.getModelMetadata(r);let a=t.getInaElementSignature(e.InAQueryMergeConstants.PA_CONDITIONS_PATH);let u=e.InAQueryMergeUtils.isConditionsStateChangedByClient(s,this.m_inaSortingSerializer,a);if(u){return true}let c=e.PrUtilsJsonPath.getFirstElementFromPath(n,e.InAQueryMergeConstants.PA_SORT_PATH);let p=e.InAQueryMergeUtils.hasMeasureSort(c);if(p){return true}let g=e.PrUtilsJsonPath.getFirstElementFromPath(n,e.InAQueryMergeConstants.PA_EXCEPTIONS_PATH);if(e.notNull(g)){return true}let y=e.XList.create();let A=this.m_inaMergeRegistry.getMembersMetadata(i);if(e.notNull(A)){e.InAQueryMergeUtils.collectDimensionsOfBackendRestrictedMeasures(A,y);let t=e.XList.create();e.InAQueryMergeUtils.collectUsedDimensionsInBackendDefinedRestrictedMeasures(A,t);y.addAll(t);if(!y.isEmpty()&&e.InAQueryMergeUtils.isListsIntersect(y,o)){return true}}let m=e.XList.create();e.InAQueryMergeUtils.collectUsedDimensionsInRestrictedMeasures(l,m);if(!m.isEmpty()&&e.InAQueryMergeUtils.isListsIntersect(m,o)){return true}let _=e.XList.create();e.InAQueryMergeUtils.collectUsedDimensionsInFormulas(l,_);if(!_.isEmpty()&&e.InAQueryMergeUtils.isListsIntersect(_,o)){return true}}}}}}catch(e){return true}return false};e.InAMergeRegistryManager.prototype.registerInADataProvider=function(e,t){this.m_inaMergeRegistry.registerInADataProvider(e,t)};e.InAMergeRegistryManager.prototype.registerInASourceQuery=function(e,t){this.m_inaMergeRegistry.registerInASourceQuery(e,t)};e.InAMergeRegistryManager.prototype.registerKeyFieldForDimension=function(e,t){this.m_inaMergeRegistry.registerKeyFieldForDimension(e,t)};e.InAMergeRegistryManager.prototype.registerMembersMetadata=function(e,t){this.m_inaMergeRegistry.registerMembersMetadata(e,t)};e.InAMergeRegistryManager.prototype.registerModelMetadata=function(e,t){this.m_inaMergeRegistry.registerModelMetadata(e,t)};e.InAMergeRegistryManager.prototype.releaseObject=function(){this.m_inaSortingSerializer=e.XObjectExt.release(this.m_inaSortingSerializer);this.m_elementsPathForMergeBreakers=e.XObjectExt.release(this.m_elementsPathForMergeBreakers);e.XObject.prototype.releaseObject.call(this)};e.InAMergeRegistryManager.prototype.setupElementPathLists=function(){this.m_elementsPathForMergeBreakers.add(e.InAQueryMergeConstants.PA_CAPABILTIES_PATH);this.m_elementsPathForMergeBreakers.add(e.InAQueryMergeConstants.PA_DATASOURCE_OBJECTNAME_PATH);this.m_elementsPathForMergeBreakers.add(e.InAQueryMergeConstants.PA_DATASOURCE_PACKAGE_PATH);this.m_elementsPathForMergeBreakers.add(e.InAQueryMergeConstants.PA_DATASOURCE_SCHEMA_PATH);this.m_elementsPathForMergeBreakers.add(e.InAQueryMergeConstants.PA_DATASOURCE_TYPE_PATH);this.m_elementsPathForMergeBreakers.add(e.InAQueryMergeConstants.PA_LANGUAGE_PATH);this.m_elementsPathForMergeBreakers.add(e.InAQueryMergeConstants.PA_VARIABLES_PATH);this.m_elementsPathForMergeBreakers.add(e.InAQueryMergeConstants.PA_SORT_PATH);this.m_elementsPathForMergeBreakers.add(e.InAQueryMergeConstants.PA_EXCEPTIONS_PATH);this.m_elementsPathForMergeBreakers.add(e.InAQueryMergeConstants.PA_CONDITIONS_PATH);this.m_elementsPathForMergeBreakers.add(e.InAQueryMergeConstants.PA_OPTIONS_PATH);this.m_elementsPathForMergeBreakers.add(e.InAQueryMergeConstants.PA_FIXED_FILTER_PATH);this.m_elementsPathForMergeBreakers.add(e.InAQueryMergeConstants.PA_RS_FEATURE_REQUEST_PATH);this.m_elementsPathForMergeBreakers.add(e.InAQueryMergeConstants.PA_CELL_CONTEXT_REQUESTS_PATH);this.m_elementsPathForMergeBreakers.add(e.InAQueryMergeConstants.PA_CURRENCY_TRANSLATION_PATH);this.m_elementsPathForMergeBreakers.add(e.InAQueryMergeConstants.PA_UDH_PATH);this.m_elementsPathForMergeBreakers.add(e.InAQueryMergeConstants.PA_DRILLDOWN_DIMENSIONS_VIRTUAL_PATH);this.m_elementsPathForMergeBreakers.add(e.InAQueryMergeConstants.PA_MEASURE_STRUCTURE_WITHOUT_MEMBERS_VIRTUAL_PATH);this.m_elementsPathForMergeBreakers.add(e.InAQueryMergeConstants.PA_QUERY_PATH);this.m_elementsPathForMergeBreakers.add(e.InAQueryMergeConstants.PA_VISIBILITY_FILTER_PATH);this.m_elementsPathForMergeBreakers.add(e.InAQueryMergeConstants.PA_HINTS_PATH);this.m_elementsPathForMergeBreakers.add(e.InAQueryMergeConstants.PA_HIERARCHY_NAVIGATIONS_PATH)};e.InAMergeRegistryManager.prototype.setupInAMergeRegistry=function(){this.m_inaMergeRegistry=e.InAMergeRegistry.create();this.m_inaSortingSerializer=e.PrSerializerFactory.newSerializer(true,false,0,true);this.m_elementsPathForMergeBreakers=e.XList.create();this.setupElementPathLists()};e.InAMergeRegistryManager.prototype.unregisterInADataProvider=function(e,t){this.m_inaMergeRegistry.unregisterInADataProvider(e,t)};e.InAMergeRegistryManager.prototype.unregisterInASourceQuery=function(e){this.m_inaMergeRegistry.unregisterInASourceQuery(e)};e.InAMergeRequestBuilder=function(){};e.InAMergeRequestBuilder.prototype=new e.XObject;e.InAMergeRequestBuilder.prototype._ff_c="InAMergeRequestBuilder";e.InAMergeRequestBuilder.create=function(t){let n=new e.InAMergeRequestBuilder;n.setupInAMergeRequestBuilder(t);return n};e.InAMergeRequestBuilder.prototype.m_inaMergeRegistryManager=null;e.InAMergeRequestBuilder.prototype.addElementsToRmFilter=function(t,n){let r=t.getStructureByKey(e.InAQueryMergeConstants.QY_SELECTION);let i=null;let o=null;let s=null;if(e.notNull(r)){i=r.getStructureByKey(e.InAQueryMergeConstants.QY_OPERATOR);o=i.getListByKey(e.InAQueryMergeConstants.QY_SUB_SELECTIONS);s=o.get(0).getStructureByKey(e.InAQueryMergeConstants.QY_SET_OPERAND)}else{s=t.getStructureByKey(e.InAQueryMergeConstants.QY_SET_OPERAND);if(e.isNull(s)){i=t.getStructureByKey(e.InAQueryMergeConstants.QY_OPERATOR);o=i.getListByKey(e.InAQueryMergeConstants.QY_SUB_SELECTIONS);s=o.get(0).getStructureByKey(e.InAQueryMergeConstants.QY_SET_OPERAND)}}if(e.notNull(s)){let t=s.getListByKey(e.InAQueryMergeConstants.QY_ELEMENTS);for(let e=0;e<t.size();e++){let r=t.get(e);if(!n.contains(r)){n.add(r)}}}};e.InAMergeRequestBuilder.prototype.addIdAttributeIfNeeded=function(t,n){let r=n.getListByKey(e.InAQueryMergeConstants.QY_ATTRIBUTES);let i=false;for(let t=0;t<r.size();t++){let n=r.get(t);let o=n.getStringByKey(e.InAQueryMergeConstants.QY_NAME);if(e.XString.endsWith(o,".ID")){i=true;break}}if(!i){let n=t.getListByKey(e.InAQueryMergeConstants.QY_ATTRIBUTES);for(let t=0;t<n.size();t++){let i=n.get(t);let o=i.getStringByKey(e.InAQueryMergeConstants.QY_NAME);if(e.XString.endsWith(o,".ID")){r.add(i);break}}}};e.InAMergeRequestBuilder.prototype.adjustMeasures=function(t,n,r,i){let o=t.getListByKey(e.InAQueryMergeConstants.QY_MEMBERS);let s=e.PrList.create();let a=e.XHashMapByString.create();for(let t=0;t<o.size();t++){let n=o.get(t);if(n.getBooleanByKeyExt(e.InAQueryMergeConstants.TAG_MEASURE_MEMBER_TOUCHED,false)){this.createRestrictedMeasure(n,i,s,a,true);o.removeElement(n);let t=n.getStringByKey(e.InAQueryMergeConstants.QY_MEMBER_NAME);if(e.XStringUtils.isNotNullAndNotEmpty(t)){let n=e.PrStructure.create();n.putString(e.InAQueryMergeConstants.QY_MEMBER_NAME,t);o.add(n)}}}this.replaceMeasureInSelection(n,a);this.assignRestrictedMeasureToSourceQuery(r,a);this.replaceFormulaAndSelectionReferencesWithRMName(a,o);for(let e=0;e<s.size();e++){let t=s.get(e);if(!o.contains(t)){o.add(t)}}};e.InAMergeRequestBuilder.prototype.assignRestrictedMeasureToSourceQuery=function(e,t){if(e.hasMeasureFilter()){let n=t.getKeysAsReadOnlyList();for(let r=0;r<n.size();r++){let i=n.get(r);e.addMeasureMemberName(i,true,false,t.getByKey(i))}}};e.InAMergeRequestBuilder.prototype.buildSpecialElements=function(t,n){let r=e.PrFactory.createStructure();let i=this.createMergeFilter(r);let o=null;let s=n.isTypeOf(e.SystemType.BW)?r.putNewList(e.InAQueryMergeConstants.QY_QUERY_DATA_CELLS):null;let a=null;let l=r.putNewList(e.InAQueryMergeConstants.QY_DIMENSIONS);for(let n=0;n<t.size();n++){let r=t.get(n);let u=this.m_inaMergeRegistryManager.getInASourceQuery(r);let c=u.getMeasureDimension();let p=u.getFilter()!==null?u.getFilter().getStructureByKey(e.InAQueryMergeConstants.QY_SELECTION):null;let g=u.getMeasureDimensionName();let y=this.m_inaMergeRegistryManager.getKeyFieldOfDimension(g);if(n===0){i.putStringNotNullAndNotEmpty(e.InAQueryMergeConstants.QY_FIELD_NAME,y);o=i.putNewList(e.InAQueryMergeConstants.QY_ELEMENTS);if(e.notNull(s)){s.addAll(u.getQueryDataCells())}l.addAll(u.getDrillDownDimensions());if(e.notNull(c)){a=e.PrFactory.createStructureDeepCopy(c);if(e.isNull(s)){this.adjustMeasures(a,p,u,y)}l.add(a)}}else{if(e.notNull(c)&&e.notNull(a)){let t=a.getListByKey(e.InAQueryMergeConstants.QY_MEMBERS);let n=c.getListByKey(e.InAQueryMergeConstants.QY_MEMBERS);if(e.isNull(s)){this.mergeMeasureElements(t,n,p,u,y)}else{e.InAQueryMergeUtils.mergeElementsLists(t,n)}this.addIdAttributeIfNeeded(c,a)}if(u.getQueryDataCells()!==null&&e.notNull(s)){let t=u.getQueryDataCells();e.InAQueryMergeUtils.mergeElementsLists(s,t)}}if(e.notNull(p)){let t=e.InARestrictedMeasureUtils.extractMeasuresFromSelection(p,null);let n=e.XHashMapByString.create();let r=this.getRestrictedMeasureFilter(t,p,a,s,n);this.addElementsToRmFilter(r,o);this.assignRestrictedMeasureToSourceQuery(u,n)}}if(e.PrUtils.isListEmpty(i.getListByKey(e.InAQueryMergeConstants.QY_ELEMENTS))){r.remove(e.InAQueryMergeConstants.QY_FILTER)}return r};e.InAMergeRequestBuilder.prototype.createInADataProviderRequestStructure=function(t,n){let r=e.PrFactory.createStructure();if(n.isTypeOf(e.SystemType.BW)){r=this.createRequestStructureForBW(t)}else if(n.isTypeOf(e.SystemType.HANA)){r=this.createRequestStructureForHANA(t)}return r};e.InAMergeRequestBuilder.prototype.createMergeFilter=function(t){let n=t.putNewStructure(e.InAQueryMergeConstants.QY_FILTER);let r=n.putNewStructure(e.InAQueryMergeConstants.QY_SELECTION);let i=r.putNewStructure(e.InAQueryMergeConstants.QY_OPERATOR);i.putString(e.InAQueryMergeConstants.QY_CODE,e.InAQueryMergeConstants.QY_AND);let o=i.putNewList(e.InAQueryMergeConstants.QY_SUB_SELECTIONS);let s=o.addNewStructure().putNewStructure(e.InAQueryMergeConstants.QY_SET_OPERAND);return s};e.InAMergeRequestBuilder.prototype.createRequestStructureForBW=function(t){let n=e.PrFactory.createStructure();let r=t.get(0);let i=this.m_inaMergeRegistryManager.getInASourceQuery(r);let o=i.getRequestStructure();let s=o.getStructureByKey(e.InAQueryMergeConstants.QY_ANALYTICS);let a=n.putNewStructure(e.InAQueryMergeConstants.QY_ANALYTICS);this.fillAnalyticsElements(s,a,t,e.SystemType.BW);n.putIfNotNull(e.InAQueryMergeConstants.QY_CLIENT_INFO,o.getStructureByKey(e.InAQueryMergeConstants.QY_CLIENT_INFO));let l=n.putNewList(e.InAQueryMergeConstants.QY_OPTIONS);l.addAll(o.getListByKey(e.InAQueryMergeConstants.QY_OPTIONS));return n};e.InAMergeRequestBuilder.prototype.createRequestStructureForHANA=function(t){let n=e.PrFactory.createStructure();let r=t.get(0);let i=this.m_inaMergeRegistryManager.getInASourceQuery(r);let o=i.getRequestStructure();let s=o.getStructureByKey(e.InAQueryMergeConstants.QY_ANALYTICS);let a=n.putNewStructure(e.InAQueryMergeConstants.QY_ANALYTICS);this.fillAnalyticsElements(s,a,t,e.SystemType.HANA);n.putIfNotNull(e.InAQueryMergeConstants.QY_CLIENT_INFO,o.getStructureByKey(e.InAQueryMergeConstants.QY_CLIENT_INFO));let l=n.putNewList(e.InAQueryMergeConstants.QY_OPTIONS);l.addAll(o.getListByKey(e.InAQueryMergeConstants.QY_OPTIONS));return n};e.InAMergeRequestBuilder.prototype.createRestrictedMeasure=function(t,n,r,i,o){let s=true;let a=t.getStringByKey(e.InAQueryMergeConstants.QY_MEMBER_NAME);if(e.XStringUtils.isNullOrEmpty(a)){s=false;let n=t.getStructureByKey(e.InAQueryMergeConstants.QY_MEMBER_OPERAND);if(e.notNull(n)){a=n.getStringByKey(e.InAQueryMergeConstants.QY_VALUE)}if(e.XStringUtils.isNullOrEmpty(a)){a=t.getStringByKey(e.InAQueryMergeConstants.QY_NAME)}}let l=e.XSha1.createSHA1(t.toString());let u=l;let c=t.cloneExt(null);let p=s?e.InAQueryMergeConstants.QY_MEMBER_NAME:e.InAQueryMergeConstants.QY_MEMBER_OPERAND;c.remove(p);let g=c.getStringRepresentation();let y=e.XString.replace(g,a,u);c=e.JsonParserFactory.createFromString(y);c.putString(e.InAQueryMergeConstants.QY_NAME,u);c.putString(e.InAQueryMergeConstants.QY_DESCRIPTION,u);if(o){let t=c.putNewStructure(e.InAQueryMergeConstants.QY_SELECTION);let r=t.putNewStructure(e.InAQueryMergeConstants.QY_SET_OPERAND);let i=r.putNewList(e.InAQueryMergeConstants.QY_ELEMENTS);let o=i.addNewStructure();o.putString(e.InAQueryMergeConstants.QY_COMPARISON,e.InAQueryMergeConstants.QY_EQUALS_SIGN);o.putString(e.InAQueryMergeConstants.QY_LOW,a);r.putString(e.InAQueryMergeConstants.QY_FIELD_NAME,n)}r.add(c);i.put(u,a)};e.InAMergeRequestBuilder.prototype.fillAnalyticsElements=function(t,n,r,i){n.put(e.InAQueryMergeConstants.QY_CAPABILITIES,t.getListByKey(e.InAQueryMergeConstants.QY_CAPABILITIES));let o=t.getStructureByKey(e.InAQueryMergeConstants.QY_DATASOURCE);n.put(e.InAQueryMergeConstants.QY_DATASOURCE,e.PrUtils.deepCopyElement(o));let s=t.getStructureByKey(e.InAQueryMergeConstants.QY_DEFINITION);let a=e.PrFactory.createStructure();n.put(e.InAQueryMergeConstants.QY_DEFINITION,a);this.fillDefinitionElements(s,a,r,i);n.putString(e.InAQueryMergeConstants.QY_LANGUAGE,t.getStringByKey(e.InAQueryMergeConstants.QY_LANGUAGE))};e.InAMergeRequestBuilder.prototype.fillDefinitionElements=function(t,n,r,i){let o=this.buildSpecialElements(r,i);n.putIfNotNull(e.InAQueryMergeConstants.QY_HINTS,t.getStructureByKey(e.InAQueryMergeConstants.QY_HINTS));n.putIfNotNull(e.InAQueryMergeConstants.QY_CONDITIONS,t.getListByKey(e.InAQueryMergeConstants.QY_CONDITIONS));n.putIfNotNull(e.InAQueryMergeConstants.QY_VISIBILITY_FILTER,t.getStructureByKey(e.InAQueryMergeConstants.QY_VISIBILITY_FILTER));n.putIfNotNull(e.InAQueryMergeConstants.QY_CELL_CONTEXT_REQUESTS,t.getListByKey(e.InAQueryMergeConstants.QY_CELL_CONTEXT_REQUESTS));n.putIfNotNull(e.InAQueryMergeConstants.QY_CURRENCY_TRANSLATION,t.getStructureByKey(e.InAQueryMergeConstants.QY_CURRENCY_TRANSLATION));n.putIfNotNull(e.InAQueryMergeConstants.QY_HIERARCHY_NAVIGATIONS,t.getListByKey(e.InAQueryMergeConstants.QY_HIERARCHY_NAVIGATIONS));let s=o.getListByKey(e.InAQueryMergeConstants.QY_DIMENSIONS);n.put(e.InAQueryMergeConstants.QY_DIMENSIONS,s);n.putIfNotNull(e.InAQueryMergeConstants.QY_EXCEPTIONS,t.getListByKey(e.InAQueryMergeConstants.QY_EXCEPTIONS));if(i.isTypeOf(e.SystemType.HANA)){n.putStringNotNullAndNotEmpty(e.InAQueryMergeConstants.QY_NAME,t.getStringByKey(e.InAQueryMergeConstants.QY_NAME))}let a=o.getStructureByKey(e.InAQueryMergeConstants.QY_FILTER);let l=i.isTypeOf(e.SystemType.BW)?e.InAQueryMergeConstants.QY_FILTER:e.InAQueryMergeConstants.QY_DYNAMIC_FILTER;n.putIfNotNull(l,a);n.putIfNotNull(e.InAQueryMergeConstants.QY_FIXED_FILTER,t.getStructureByKey(e.InAQueryMergeConstants.QY_FIXED_FILTER));n.putIfNotNull(e.InAQueryMergeConstants.QY_QUERY,t.getStructureByKey(e.InAQueryMergeConstants.QY_QUERY));let u=o.getListByKey(e.InAQueryMergeConstants.QY_QUERY_DATA_CELLS);n.putIfNotNull(e.InAQueryMergeConstants.QY_QUERY_DATA_CELLS,u);n.putIfNotNull(e.InAQueryMergeConstants.QY_RS_FEATURE_REQUEST,t.getStructureByKey(e.InAQueryMergeConstants.QY_RS_FEATURE_REQUEST));this.setAutoSubmitFlag(n.getStructureByKey(e.InAQueryMergeConstants.QY_RS_FEATURE_REQUEST));n.putIfNotNull(e.InAQueryMergeConstants.QY_SORT,t.getListByKey(e.InAQueryMergeConstants.QY_SORT));n.putIfNotNull(e.InAQueryMergeConstants.QY_UNIVERSAL_DISPLAY_HIERARCHIES,t.getListByKey(e.InAQueryMergeConstants.QY_UNIVERSAL_DISPLAY_HIERARCHIES));n.putIfNotNull(e.InAQueryMergeConstants.QY_VARIABLES,t.getListByKey(e.InAQueryMergeConstants.QY_VARIABLES))};e.InAMergeRequestBuilder.prototype.getRestrictedMeasureFilter=function(t,n,r,i,o){let s=r.getStringByKey(e.InAQueryMergeConstants.QY_NAME);let a=e.XList.create();e.InAQueryMergeUtils.collectFieldNamesUsedInSelection(n,a);let l=this.m_inaMergeRegistryManager.getKeyFieldOfDimension(s);if(a.contains(l)&&a.size()===1){return n}let u=e.InARestrictedMeasureUtils.processRestrictedMeasures(this.m_inaMergeRegistryManager,t,l,r,n,i,o);return u};e.InAMergeRequestBuilder.prototype.mergeMeasureElements=function(t,n,r,i,o){let s=e.XHashMapByString.create();let a=e.PrList.create();if(e.notNull(n)){for(let r=0;r<n.size();r++){let i=n.get(r);if(!t.contains(i)){let n=i;let r=n.getStringByKey(e.InAQueryMergeConstants.QY_MEMBER_NAME);if(e.XStringUtils.isNullOrEmpty(r)){let t=n.getStructureByKey(e.InAQueryMergeConstants.QY_MEMBER_OPERAND);if(e.notNull(t)){r=t.getStringByKey(e.InAQueryMergeConstants.QY_VALUE)}if(e.XStringUtils.isNullOrEmpty(r)){r=n.getStringByKey(e.InAQueryMergeConstants.QY_NAME)}}if(n.getBooleanByKeyExt(e.InAQueryMergeConstants.TAG_MEASURE_MEMBER_TOUCHED,false)){this.createRestrictedMeasure(n,o,a,s,true)}else if(e.XStream.of(t).find(e.InARestrictedMeasureUtils.getMeasureWithName(r)).isPresent()){this.createRestrictedMeasure(n,o,a,s,false)}else{a.add(n)}}}}this.replaceMeasureInSelection(r,s);this.assignRestrictedMeasureToSourceQuery(i,s);this.replaceFormulaAndSelectionReferencesWithRMName(s,a);for(let e=0;e<a.size();e++){let n=a.get(e);if(!t.contains(n)){t.add(n)}}};e.InAMergeRequestBuilder.prototype.releaseObject=function(){this.m_inaMergeRegistryManager=null;e.XObject.prototype.releaseObject.call(this)};e.InAMergeRequestBuilder.prototype.replaceFormulaAndSelectionReferencesWithRMName=function(t,n){let r=t.getKeysAsReadOnlyList();for(let i=0;i<r.size();i++){let o=r.get(i);let s=t.getByKey(o);for(let t=0;t<n.size();t++){let r=n.get(t);let i=r.getStringByKey(e.InAQueryMergeConstants.QY_NAME);if(e.XString.isEqual(o,i)){continue}let a=r.getStructureByKey(e.InAQueryMergeConstants.QY_FORMULA);let l=r.getStructureByKey(e.InAQueryMergeConstants.QY_SELECTION);if(e.notNull(a)){let t=a.getStringRepresentation();let n=e.XString.replace(t,s,o);let i=e.JsonParserFactory.createFromString(n);r.put(e.InAQueryMergeConstants.QY_FORMULA,i)}else if(e.notNull(l)){e.InAQueryMergeUtils.replaceOrRemoveTag(l,e.InAQueryMergeConstants.QY_LOW,s,o)}}}};e.InAMergeRequestBuilder.prototype.replaceMeasureInSelection=function(t,n){let r=n.getKeysAsReadOnlyList();for(let i=0;i<r.size();i++){let o=r.get(i);let s=n.getByKey(o);e.InARestrictedMeasureUtils.replaceMeasureInSelection(t,s,o)}};e.InAMergeRequestBuilder.prototype.setAutoSubmitFlag=function(t){if(t.containsKey(e.InAQueryMergeConstants.QY_IGNORE_AUTO_SUBMIT)){t.remove(e.InAQueryMergeConstants.QY_IGNORE_AUTO_SUBMIT);t.putBoolean(e.InAQueryMergeConstants.QY_IGNORE_AUTO_SUBMIT,false)}};e.InAMergeRequestBuilder.prototype.setupInAMergeRequestBuilder=function(e){this.m_inaMergeRegistryManager=e};e.InAMergeResponseDispatcher=function(){};e.InAMergeResponseDispatcher.prototype=new e.XObject;e.InAMergeResponseDispatcher.prototype._ff_c="InAMergeResponseDispatcher";e.InAMergeResponseDispatcher.create=function(t){let n=new e.InAMergeResponseDispatcher;n.setupInAMergeResponseDispatcher(t);return n};e.InAMergeResponseDispatcher.prototype.m_inaMergeRegistryManager=null;e.InAMergeResponseDispatcher.prototype.addResponseToAllSourceQueries=function(t,n){let r=t.getSourceInstanceIds();for(let t=0;t<r.size();t++){let i=r.get(t);let o=this.m_inaMergeRegistryManager.getInASourceQuery(i);if(e.notNull(o)){this.addResponseToRpcFunction(o,n);o.setQueryState(e.InAQueryMergeConstants.QUERY_STATE_PROCESSED)}}};e.InAMergeResponseDispatcher.prototype.addResponseToRpcFunction=function(e,t){let n=e.getRpcFunction();n.getRpcResponse().setRootElement(t,null)};e.InAMergeResponseDispatcher.prototype.buildAllGridElementsForParent=function(t,n,r,i,o,s){let a=n.getKeysAsReadOnlyList();for(let t=0;t<a.size();t++){let l=a.get(t);let u=e.XStringUtils.concatenate2(e.InAQueryMergeConstants.PA_PATH_PREFIX,l);let c=e.PrUtilsJsonPath.getFirstElementFromPath(n,u);if(c.isStructure()){let t=s.getByKey(l);let a=e.PrUtilsJsonPath.getFirstElementFromPath(n,u);if(e.notNull(t)&&!t.containsKey(e.InAQueryMergeConstants.QY_ENCODING)){t.putString(e.InAQueryMergeConstants.QY_ENCODING,a.getStringByKey(e.InAQueryMergeConstants.QY_ENCODING))}this.dispatchTupleValues(a,t,i,o,null);r.remove(l);r.put(l,t)}}};e.InAMergeResponseDispatcher.prototype.buildAttributeMembers=function(t,n,r,i,o){let s=e.PrUtilsJsonPath.getFirstElementFromPath(n,e.InAQueryMergeConstants.PA_ATTRIBUTES_RELATIVE_PATH);let a=e.PrFactory.createList();let l=t.getMeasureDimensionName();let u=this.m_inaMergeRegistryManager.getMembersMetadata(l);for(let n=0;n<s.size();n++){let c=s.get(n);let p=e.PrFactory.createStructureDeepCopy(c);p.remove(e.InAQueryMergeConstants.QY_VALUES);p.remove(e.InAQueryMergeConstants.QY_VALUES_EXCEPTION);for(let n=0;n<i.size();n++){let s=i.getByKey(e.XIntegerValue.create(n));let a=r.getByKey(s).getInteger();this.dispatchTupleValues(c,p,a,o,null);this.mapRestrictedMeasureToSourceMember(t,p,u,l);if(c.containsKey(e.InAQueryMergeConstants.QY_VALUES_EXCEPTION)){this.dispatchTupleValues(c,p,a,o,e.InAQueryMergeConstants.QY_VALUES_EXCEPTION)}}a.add(p)}n.remove(e.InAQueryMergeConstants.QY_ATTRIBUTES);n.put(e.InAQueryMergeConstants.QY_ATTRIBUTES,a)};e.InAMergeResponseDispatcher.prototype.buildCells=function(t,n,r,i){let o=i.size();let s=e.XString.isEqual(r,e.InAQueryMergeConstants.QY_COLUMNS);let a=e.PrUtilsJsonPath.getFirstElementFromPath(t,e.InAQueryMergeConstants.PA_CELLS_ARRAY_SIZES_PATH);let l=a.getIntegerAt(0);let u=a.getIntegerAt(1);let c=s?l:u;if(s){a.clear();a.addInteger(c);a.addInteger(o)}else{a.clear();a.addInteger(o);a.addInteger(c)}let p=e.PrUtilsJsonPath.getFirstElementFromPath(t,e.InAQueryMergeConstants.PA_CELLS_PATH);if(e.notNull(p)){let t=p.getKeysAsReadOnlyList();for(let r=0;r<t.size();r++){let o=t.get(r);let s=e.XStringUtils.concatenate2(e.InAQueryMergeConstants.PA_PATH_PREFIX,o);let a=e.PrUtilsJsonPath.getFirstElementFromPath(p,s);this.dispatchCellValues(a,n,i,c)}}};e.InAMergeResponseDispatcher.prototype.buildGridElements=function(t,n,r){let i=n.getMeasureDimension();if(e.notNull(i)){let t=i.getStringByKey(e.InAQueryMergeConstants.QY_AXIS);let o=i.getStringByKey(e.InAQueryMergeConstants.QY_NAME);let s=e.XSimpleMap.create();let a=n.getMeasureMemberPositionMap();this.buildMeasureMembers(n,r,s,o,t,a);this.buildCells(r,s,t,a)}};e.InAMergeResponseDispatcher.prototype.buildMeasureMembers=function(t,n,r,i,o,s){let a=t.getSystemType();let l=s.size();let u=e.PrUtilsJsonPath.getFirstElementFromPath(n,e.InAQueryMergeConstants.PA_AXES_PATH);for(let n=0;n<u.size();n++){let c=u.get(n);let p=c.getStringByKey(e.InAQueryMergeConstants.QY_TYPE);if(e.XString.isEqual(p,o)){let n=null;let o=null;let u=e.PrUtilsJsonPath.getFirstElementFromPath(c,e.InAQueryMergeConstants.PA_DIMENSIONS_RELATIVE_PATH);for(let t=0;t<u.size();t++){let r=u.get(t);let s=r.getStringByKey(e.InAQueryMergeConstants.QY_NAME);if(e.XString.isEqual(i,s)){n=r;o=e.PrFactory.createStructureDeepCopy(c);break}}let p=-1;let g=c.getIntegerByKey(e.InAQueryMergeConstants.QY_TUPLE_COUNT);if(e.notNull(n)){let i=e.PrFactory.createStructureDeepCopy(n);let l=e.XHashMapByString.create();this.createSubElementsForParentElement(i,l);this.createSubElementsForParentElement(o,l);this.getValuesOfKeyAttribute(n,r);p=p===-1?r.size():p;for(let u=0;u<s.size();u++){let p=s.getByKey(e.XIntegerValue.create(u));let y=r.getByKey(p);if(e.isNull(y)){let n=t.getSourceMemberName(p.getString());y=r.getByKey(e.XStringValue.create(n))}let A=y.getInteger();this.buildAllGridElementsForParent(a,i,n,A,g,l);this.buildAllGridElementsForParent(a,o,c,A,g,l);let m=e.PrUtilsJsonPath.getFirstElementFromPath(o,e.InAQueryMergeConstants.PA_TUPLES_RELATIVE_PATH);for(let e=0;e<m.size();e++){let t=m.get(e);this.createSubElementsForParentElement(t,l);this.buildAllGridElementsForParent(a,t,n,A,g,l)}}this.buildAttributeMembers(t,n,r,s,g)}if(p!==-1){c.remove(e.InAQueryMergeConstants.QY_TUPLE_COUNT);c.putInteger(e.InAQueryMergeConstants.QY_TUPLE_COUNT,e.XMath.div(g,p)*l);c.remove(e.InAQueryMergeConstants.QY_TUPLE_COUNT_TOTAL);c.putInteger(e.InAQueryMergeConstants.QY_TUPLE_COUNT_TOTAL,e.XMath.div(g,p)*l)}}}};e.InAMergeResponseDispatcher.prototype.createSubElementsForParentElement=function(t,n){let r=t.getKeysAsReadOnlyList();for(let t=0;t<r.size();t++){let i=r.get(t);let o=e.PrFactory.createStructure();n.put(i,o)}};e.InAMergeResponseDispatcher.prototype.dispatchCellValues=function(t,n,r,i){let o=e.XStringUtils.concatenate2(e.InAQueryMergeConstants.PA_PATH_PREFIX,e.InAQueryMergeConstants.QY_VALUES);let s=e.PrUtilsJsonPath.getFirstElementFromPath(t,o);if(e.notNull(s)){let o=r.size();let a=s.size();let l=i;let u=a/l;let c=o*i;let p=t.getIntegerByKeyExt(e.InAQueryMergeConstants.QY_SIZE,-1);if(p!==-1){t.remove(e.InAQueryMergeConstants.QY_SIZE);t.putInteger(e.InAQueryMergeConstants.QY_SIZE,c)}let g=e.PrFactory.createList();for(let t=0;t<l;t++){for(let i=0;i<o;i++){for(let o=t*u;o<(t+1)*u;o++){let t=r.getByKey(e.XIntegerValue.create(i));let a=n.getByKey(t).getInteger();if(e.XMath.mod(o,u)===a){g.add(s.get(o));break}}}}t.remove(e.InAQueryMergeConstants.QY_VALUES);t.put(e.InAQueryMergeConstants.QY_VALUES,g)}};e.InAMergeResponseDispatcher.prototype.dispatchInAResponse=function(e,t){this.processInADataProviderResponse(e,t);this.finalizeFunctionsAndCleanupQueries(e,t)};e.InAMergeResponseDispatcher.prototype.dispatchResponse=function(t,n){let r=n.getSourceInstanceIds();let i=null;let o=null;if(n.isStandAloneQuery()){i=r.get(0);let n=this.m_inaMergeRegistryManager.getInASourceQuery(i);if(e.notNull(n)){o=n.getInstanceId();this.finalizeResponse(o,n,t)}}else{o=n.getInstanceId();for(let s=0;s<r.size();s++){i=r.get(s);let a=this.m_inaMergeRegistryManager.getInASourceQuery(i);if(e.isNull(a)){continue}let l=e.PrFactory.createStructureDeepCopy(t);let u=l.getListByKey(e.InAQueryMergeConstants.QY_GRIDS).get(0);let c=n.getSystemType().isTypeOf(e.SystemType.BW)?u:t;e.InAQueryMergeUtils.overwriteInstanceIdInDataSource(c,i);this.buildGridElements(i,a,u);this.finalizeResponse(o,a,l)}}};e.InAMergeResponseDispatcher.prototype.dispatchTupleValues=function(t,n,r,i,o){let s=e.notNull(o)?o:e.InAQueryMergeConstants.QY_VALUES;let a=e.notNull(n)?n:t;let l=e.XStringUtils.concatenate2(e.InAQueryMergeConstants.PA_PATH_PREFIX,s);let u=e.PrUtilsJsonPath.getFirstElementFromPath(t,l);let c=e.XMath.mod(r,i);if(e.notNull(u)){let n=u.size();if(t.containsKey(e.InAQueryMergeConstants.QY_SIZE)){let t=a.getIntegerByKeyExt(e.InAQueryMergeConstants.QY_SIZE,-1);if(t!==-1){a.remove(e.InAQueryMergeConstants.QY_SIZE)}let r=t!==-1?t+1:e.XMath.div(n,i);a.putInteger(e.InAQueryMergeConstants.QY_SIZE,r)}if(t.containsKey(s)){let t=a.getListByKey(s);let r=e.notNull(t)?t:e.PrFactory.createList();for(let t=0;t<n;t++){if(e.XMath.mod(t,i)===c){r.add(u.get(t))}}if(e.isNull(t)){a.put(s,r)}}}};e.InAMergeResponseDispatcher.prototype.finalizeFunctionsAndCleanupQueries=function(t,n){let r=true;if(t.isPreQuery()){let e=t.getPreQueryName();let n=this.m_inaMergeRegistryManager.getDependentQueryInADataProviders(e);for(let e=0;e<n.size();e++){let t=n.get(e);if(t.isMergeChecked()){r=false;break}}}let i=t.getSourceInstanceIds();for(let t=0;t<i.size();t++){let o=i.get(t);let s=this.m_inaMergeRegistryManager.getInASourceQuery(o);if(e.isNull(s)){continue}let a=s.getRpcFunction();a.addAllMessages(n);a.endSync();if(r){this.m_inaMergeRegistryManager.unregisterInASourceQuery(o)}else{s.setQueryState(e.InAQueryMergeConstants.QUERY_STATE_MERGE_CHECKED)}}if(r){this.m_inaMergeRegistryManager.unregisterInADataProvider(t.getGroupSignature(),t.getInstanceId())}else{t.setQueryState(e.InAQueryMergeConstants.QUERY_STATE_MERGE_CHECKED)}};e.InAMergeResponseDispatcher.prototype.finalizeResponse=function(t,n,r){let i=r.getListByKey(e.InAQueryMergeConstants.QY_GRIDS).get(0);i.putString(e.InAQueryMergeConstants.TAG_MERGE_ID,t);this.addResponseToRpcFunction(n,r);n.setQueryState(e.InAQueryMergeConstants.QUERY_STATE_PROCESSED)};e.InAMergeResponseDispatcher.prototype.getAttributeValue=function(t,n){let r=e.isNull(n)?null:n.getStringByKey(t);return r};e.InAMergeResponseDispatcher.prototype.getMemberMetadata=function(t,n,r){if(e.notNull(t)){let i=this.m_inaMergeRegistryManager.getKeyFieldOfDimension(n);for(let n=0;n<t.size();n++){let o=t.get(n);if(e.XString.isEqual(o.getStringByKey(i),r)){return o}}}return null};e.InAMergeResponseDispatcher.prototype.getSourceMemberName=function(t,n){let r=t.getSourceMemberName(n);if(e.isNull(r)){return n}return this.getSourceMemberName(t,r)};e.InAMergeResponseDispatcher.prototype.getValuesOfKeyAttribute=function(t,n){let r=e.PrUtilsJsonPath.getFirstElementFromPath(t,e.InAQueryMergeConstants.PA_ATTRIBUTES_RELATIVE_PATH);for(let t=0;t<r.size();t++){let i=r.get(t);if(i.getBooleanByKey(e.InAQueryMergeConstants.QY_IS_KEY)){let t=i.getListByKey(e.InAQueryMergeConstants.QY_VALUES);for(let r=0;r<t.size();r++){let i=e.XStringValue.create(t.getStringAt(r));n.put(i,e.XIntegerValue.create(r))}}}};e.InAMergeResponseDispatcher.prototype.mapRestrictedMeasureToSourceMember=function(t,n,r,i){let o=e.PrFactory.createList();let s=n.getListByKey(e.InAQueryMergeConstants.QY_VALUES);let a=n.getStringByKey(e.InAQueryMergeConstants.QY_NAME);for(let l=0;l<s.size();l++){let u=s.getStringAt(l);let c=this.getSourceMemberName(t,u);let p=this.getMemberMetadata(r,i,c);let g=null;if(e.isNull(p)&&e.notNull(c)){let r=t.getMeasureDimension().getListByKey(e.InAQueryMergeConstants.QY_MEMBERS);for(let t=0;t<r.size();t++){let i=r.getStructureAt(t);if(e.XString.isEqual(i.getStringByKey(e.InAQueryMergeConstants.QY_NAME),c)){let t=n.getBooleanByKey(e.InAQueryMergeConstants.QY_IS_KEY);g=t?c:i.getStringByKey(e.InAQueryMergeConstants.QY_DESCRIPTION);break}}}else{g=e.isNull(p)?u:this.getAttributeValue(a,p)}if(e.isNull(g)){g=c}o.addString(g)}n.remove(e.InAQueryMergeConstants.QY_VALUES);n.put(e.InAQueryMergeConstants.QY_VALUES,o)};e.InAMergeResponseDispatcher.prototype.processInADataProviderResponse=function(t,n){let r=n.getData();let i=r.getRootElement();let o=i.getListByKey(e.InAQueryMergeConstants.QY_BATCH);let s=e.notNull(o)?o.getStructureAt(0):i;let a=e.PrUtilsJsonPath.getFirstElementFromPath(s,e.InAQueryMergeConstants.PA_MESSAGES_PATH);let l=false;if(e.notNull(a)){for(let t=0;t<a.size();t++){let n=a.getStructureAt(t);if(n.getIntegerByKeyExt(e.InAQueryMergeConstants.QY_TYPE,-1)===2){l=true;break}}}if(n.isValid()&&!l){this.dispatchResponse(s,t)}else{this.addResponseToAllSourceQueries(t,s)}t.setQueryState(e.InAQueryMergeConstants.QUERY_STATE_PROCESSED)};e.InAMergeResponseDispatcher.prototype.releaseObject=function(){this.m_inaMergeRegistryManager=null;e.XObject.prototype.releaseObject.call(this)};e.InAMergeResponseDispatcher.prototype.setupInAMergeResponseDispatcher=function(e){this.m_inaMergeRegistryManager=e};e.InAQueryMergeConstants={PA_ANALYTICS_SERVICE_TYPE_PATH:"$.Analytics",PA_ATTRIBUTES_RELATIVE_PATH:"$.Attributes",PA_AXES_PATH:"$.Axes",PA_CAPABILTIES_PATH:"$.Analytics.Capabilities",PA_CELLS_ARRAY_SIZES_PATH:"$.CellArraySizes",PA_CELLS_EXCEPTIONS_RELATIVE_PATH:"$.Exceptions",PA_CELLS_EXCEPTION_ALERT_LEVEL_RELATIVE_PATH:"$.ExceptionAlertLevel",PA_CELLS_EXCEPTION_NAME_RELATIVE_PATH:"$.ExceptionName",PA_CELLS_FORMAT_RELATIVE_PATH:"$.CellFormat",PA_CELLS_INPUT_ENABLED_RELATIVE_PATH:"$.InputEnabled",PA_CELLS_LOCKED_VALUE_RELATIVE_PATH:"$.LockedValue",PA_CELLS_NUMERIC_ROUNDING_RELATIVE_PATH:"$.NumericRounding",PA_CELLS_NUMERIC_SHIFT_RELATIVE_PATH:"$.NumericShift",PA_CELLS_PATH:"$.Cells",PA_CELLS_QUERY_DATACELL_REFERENCES_RELATIVE_PATH:"$.QueryDataCellReferences",PA_CELLS_UNITS_RELATIVE_PATH:"$.Units",PA_CELLS_UNIT_DESCRIPTIONS_RELATIVE_PATH:"$.UnitDescriptions",PA_CELLS_UNIT_INDEX_RELATIVE_PATH:"$.UnitIndex",PA_CELLS_UNIT_POSITIONS_RELATIVE_PATH:"$.UnitPositions",PA_CELLS_UNIT_TYPES_RELATIVE_PATH:"$.UnitTypes",PA_CELLS_VALUES_FORMATTED_RELATIVE_PATH:"$.ValuesFormatted",PA_CELLS_VALUES_RELATIVE_PATH:"$.Values",PA_CELLS_VALUES_ROUNDED_RELATIVE_PATH:"$.ValuesRounded",PA_CELLS_VALUE_TYPES_RELATIVE_PATH:"$.CellValueTypes",PA_CELL_CONTEXT_REQUESTS_PATH:"$.Analytics.Definition.CellContextRequests",PA_CONDITIONS_PATH:"$.Analytics.Definition.Conditions",PA_CURRENCY_TRANSLATION_PATH:"$.Analytics.Definition.CurrencyTranslation",PA_DATASOURCE_OBJECTNAME_PATH:"$.Analytics.DataSource.ObjectName",PA_DATASOURCE_PACKAGE_PATH:"$.Analytics.DataSource.PackageName",PA_DATASOURCE_PATH:"$.Analytics.DataSource",PA_DATASOURCE_SCHEMA_PATH:"$.Analytics.DataSource.SchemaName",PA_DATASOURCE_TYPE_PATH:"$.Analytics.DataSource.Type",PA_DEFINITION_PATH:"$.Analytics.Definition",PA_DIMENSIONS_PATH:"$.Analytics.Definition.Dimensions",PA_DIMENSIONS_RELATIVE_PATH:"$.Dimensions",PA_DISPLAY_LEVEL_RELATIVE_PATH:"$.DisplayLevel",PA_DRILLDOWN_DIMENSIONS_VIRTUAL_PATH:"$.Analytics.Definition.DrillDown",PA_DRILL_STATE_RELATIVE_PATH:"$.DrillState",PA_DYNAMIC_FILTER_PATH:"$.Analytics.Definition.DynamicFilter",PA_EXCEPTIONS_PATH:"$.Analytics.Definition.Exceptions",PA_EXCEPTION_ALERT_LEVEL_RELATIVE_PATH:"$.ExceptionAlertLevel",PA_EXCEPTION_NAME_RELATIVE_PATH:"$.ExceptionName",PA_FILTER_PATH:"$.Analytics.Definition.Filter",PA_FIXED_FILTER_PATH:"$.Analytics.Definition.FixedFilter",PA_HIERARCHY_NAVIGATIONS_PATH:"$.Analytics.Definition.HierarchyNavigations",PA_HINTS_PATH:"$.Analytics.Definition.Hints",PA_LANGUAGE_PATH:"$.Analytics.Language",PA_MEASURE_STRUCTURE_WITHOUT_MEMBERS_VIRTUAL_PATH:"$.Analytics.Definition.MeasureStructureWithoutMembers",PA_MEMBER_INDEXES_RELATIVE_PATH:"$.MemberIndexes",PA_MEMBER_OPERAND_RELATIVE_PATH:"$.MemberOperand",PA_MEMBER_TYPES_RELATIVE_PATH:"$.MemberTypes",PA_MESSAGES_PATH:"$.Messages",PA_OPTIONS_PATH:"$.Options",PA_PARENT_INDEXES_RELATIVE_PATH:"$.ParentIndexes",PA_PATH_PREFIX:"$.",PA_PATH_SPLITER:".",PA_PATH_START_KEY:"$",PA_QUERY_AXES_PATH:"$.Analytics.Definition.Query.Axes",PA_QUERY_DATACELLS_PATH:"$.Analytics.Definition.QueryDataCells",PA_QUERY_PATH:"$.Analytics.Definition.Query",PA_RS_FEATURE_REQUEST_PATH:"$.Analytics.Definition.ResultSetFeatureRequest",PA_SORT_PATH:"$.Analytics.Definition.Sort",PA_TUPLES_RELATIVE_PATH:"$.Tuples",PA_UDH_PATH:"$.Analytics.Definition.UniversalDisplayHierarchies",PA_VARIABLES_PATH:"$.Analytics.Definition.Variables",PA_VISIBILITY_FILTER_PATH:"$.Analytics.Definition.VisibilityFilter",QUERY_STATE_INIT:"Init",QUERY_STATE_MERGE_CHECKED:"Checked",QUERY_STATE_PENDING_PROCESSING:"Pending",QUERY_STATE_PROCESSED:"Processed",QY_ANALYTICS:"Analytics",QY_AND:"And",QY_ASYNC_RESPONSE_REQUEST:"AsyncResponseRequest",QY_ATTRIBUTES:"Attributes",QY_ATTRIBUTE_VALUE:"AttributeValue",QY_AXIS:"Axis",QY_BATCH:"Batch",QY_BATCH_ID:"BatchId",QY_CALCULATED_MEASURE:"CalculatedMeasure",QY_CAPABILITIES:"Capabilities",QY_CELL_CONTEXT_REQUESTS:"CellContextRequests",QY_CELL_VALUE_TYPE:"CellValueType",QY_CLIENT_INFO:"ClientInfo",QY_CLUSTER_DEFINITION:"ClusterDefinition",QY_CODE:"Code",QY_COLUMNS:"Columns",QY_COMPARISON:"Comparison",QY_CONDITIONS:"Conditions",QY_CONVERT_TO_FLAT_SELECTION:"ConvertToFlatSelection",QY_CURRENCY_TRANSLATION:"CurrencyTranslation",QY_DATASOURCE:"DataSource",QY_DEFAULT_KEY_ATTRIBUTE:"DefaultKeyAttribute",QY_DEFAULT_SELECTED_DIMENSIONS:"DefaultSelectedDimensions",QY_DEFINITION:"Definition",QY_DESCRIPTION:"Description",QY_DIMENSION:"Dimension",QY_DIMENSIONS:"Dimensions",QY_DIMENSION_MEMBER_REFERENCES:"DimensionMemberReferences",QY_DISPLAY_LEVEL:"DisplayLevel",QY_DRILL_STATE:"DrillState",QY_DYNAMIC_FILTER:"DynamicFilter",QY_ELEMENTS:"Elements",QY_ENCODING:"Encoding",QY_EQUALS_SIGN:"=",QY_EXCEPTIONS:"Exceptions",QY_EXCEPTION_ALERT_LEVEL:"ExceptionAlertLevel",QY_EXCEPTION_NAME:"ExceptionName",QY_FIELD_NAME:"FieldName",QY_FILTER:"Filter",QY_FIXED_FILTER:"FixedFilter",QY_FORMULA:"Formula",QY_FREE:"None",QY_GEOMETRY_OPERAND:"GeometryOperand",QY_GRIDS:"Grids",QY_HIERARCHY:"Hierarchy",QY_HIERARCHY_NAVIGATIONS:"HierarchyNavigations",QY_HINTS:"Hints",QY_IGNORE_AUTO_SUBMIT:"IgnoreAutoSubmit",QY_INSTANCE_ID:"InstanceId",QY_IS_KEY:"IsKey",QY_IS_SELECTION_CANDIDATE:"IsSelectionCandidate",QY_ITERATION:"Iteration",QY_ITERATION_DIMENSIONS:"IterationDimensions",QY_JOIN_TYPE:"JoinType",QY_KEY:"Key",QY_KEY_ATTRIBUTE:"KeyAttribute",QY_LANGUAGE:"Language",QY_LEVEL_OFFSET_1:'"LevelOffset":1',QY_LOW:"Low",QY_MEASURES_FORMULA:"[Measures].[MemberDetails]",QY_MEASURE_DESCRIPTION:"[Measures].[Description]",QY_MEMBERS:"Members",QY_MEMBER_INDEXES:"MemberIndexes",QY_MEMBER_NAME:"MemberName",QY_MEMBER_OPERAND:"MemberOperand",QY_MEMBER_TYPES:"MemberTypes",QY_NAME:"Name",QY_OBJECT_NAME:"ObjectName",QY_OPERATOR:"Operator",QY_OPTIONS:"Options",QY_OR_IN_FILTER:'"Code":"Or"',QY_PARENT_INDEXES:"ParentIndexes",QY_PLANNING:"Planning",QY_PRESENTATION_TYPE:"PresentationType",QY_PROCESSING_DIRECTIVES:"ProcessingDirectives",QY_PROCESSING_STEP:"ProcessingStep",QY_QUERY:"Query",QY_QUERY_DATA_CELLS:"QueryDataCells",QY_QUERY_INA_MODEL:"InAModel",QY_QUERY_VALUE_HELP:"Query/ValueHelp",QY_RETURN_EMPTY_JSON_RESULTSET:"ReturnEmptyJsonResultSet",QY_ROWS:"Rows",QY_RS_FEATURE_REQUEST:"ResultSetFeatureRequest",QY_SELECTION:"Selection",QY_SET_OPERAND:"SetOperand",QY_SIZE:"Size",QY_SORT:"Sort",QY_SORT_TYPE_MEASURE:'"SortType":"Measure"',QY_STANDALONE_INDICATOR:"isStandAlone",QY_SUB_SELECTIONS:"SubSelections",QY_SUPPRESS_KEYFIGURE_CALCULATION:"SuppressKeyfigureCalculation",QY_TUPLE_COUNT:"TupleCount",QY_TUPLE_COUNT_TOTAL:"TupleCountTotal",QY_TYPE:"Type",QY_UNIVERSAL_DISPLAY_HIERARCHIES:"UniversalDisplayHierarchies",QY_VALUE:"Value",QY_VALUES:"Values",QY_VALUES_EXCEPTION:"ValuesException",QY_VARIABLES:"Variables",QY_VARIABLE_PLACEHOLDER_IN_FILTER:'"LowIs":"Variable"',QY_VIEW:"View",QY_VISIBILITY:"Visibility",QY_VISIBILITY_FILTER:"VisibilityFilter",QY_VISIBLE:"Visible",QY_ZERO_SUPPRESSION_TYPE:"ZeroSuppressionType",TAG_ACCOUNT_DIMENSION:"AccountDimension",TAG_BACKEND_RESTRICTED_MEASURE:"BackendRestrictedMeasure",TAG_FILTER_MEASURE_STRUCTURE:"FilterMeasureStructure",TAG_FILTER_SECONDARY_STRUCTURE:"FilterSecondaryStructure",TAG_FILTER_SECOND_STRUCTURE:"FilterSecondStructure",TAG_GLOBAL_FILTER:"GlobalFilter",TAG_GROUP_SIGNATURE:"GroupSignature",TAG_GROUP_SIGNATURE_PATH:"$.Analytics.DataSource.GroupSignature",TAG_HIERARCHICAL_FILTER:"HierarchicalFilter+",TAG_KEY:"InAMergeTag",TAG_MEASURE_MD_RESTRICTED_MEASURE_MAP:"RestrictedMeasureSourceMeasureMap",TAG_MEASURE_MEMBER_TOUCHED:"MemberModified-CreateRMDuringMerge",TAG_MEASURE_METADATA_FOR_PERSISTED_INA:"MetadataForStorage",TAG_MEASURE_STRUCTURE:"MeasureStructure",TAG_MERGED_QUERY:"MergedQuery",TAG_MERGE_ID:"MergeId",TAG_MERGE_QUERY_RESPONSE_RECEPIENTS:"CorrespondingRecepients",TAG_MULTI_LEVEL_RESTRICTED_MEASURE:"MultiLevelRestrictedMeasure",TAG_RESTRICTED_MEASURE:"RestrictedMeasure",TAG_SECONDARY_STRUCTURE:"SecondaryStructure",TAG_ZERO_SUPPRESSION:"ZeroSuppression"};e.InAQueryMergeUtils={cleanTagsFromRequest:function(t,n){let r=n?t:e.PrUtils.createDeepCopy(t);e.InAQueryMergeUtils.replaceOrRemoveTag(r,e.InAQueryMergeConstants.TAG_KEY,null,null);e.InAQueryMergeUtils.replaceOrRemoveTag(r,e.InAQueryMergeConstants.TAG_MEASURE_METADATA_FOR_PERSISTED_INA,null,null);e.InAQueryMergeUtils.replaceOrRemoveTag(r,e.InAQueryMergeConstants.TAG_MEASURE_MEMBER_TOUCHED,null,null);e.InAQueryMergeUtils.replaceOrRemoveTag(r,e.InAQueryMergeConstants.QY_STANDALONE_INDICATOR,null,null);e.InAQueryMergeUtils.replaceOrRemoveTag(r,e.InAQueryMergeConstants.TAG_GROUP_SIGNATURE,null,null);return r},collectDimensionsOfBackendRestrictedMeasures:function(t,n){for(let r=0;r<t.size();r++){let i=t.get(r);let o=i.getListByKey(e.InAQueryMergeConstants.QY_DEFAULT_SELECTED_DIMENSIONS);if(!e.PrUtils.isListEmpty(o)&&i.getBooleanByKeyExt(e.InAQueryMergeConstants.QY_IS_SELECTION_CANDIDATE,false)){for(let e=0;e<o.size();e++){n.add(o.getStringAt(e))}}}},collectDimensionsWithHierarchicalFilter:function(t,n){let r=t.getStringRepresentation();e.InAQueryMergeUtils.collectUsedDimensions(r,n,e.InAQueryMergeConstants.TAG_HIERARCHICAL_FILTER)},collectDrillDownDimensionNames:function(t,n){for(let r=0;r<t.size();r++){let i=t.getStructureAt(r);let o=i.getStringByKey(e.InAQueryMergeConstants.QY_NAME);let s=i.getStringByKey(e.InAQueryMergeConstants.QY_AXIS);let a=i.getStructureByKey(e.InAQueryMergeConstants.QY_DATASOURCE)!==null&&i.containsKey(e.InAQueryMergeConstants.QY_JOIN_TYPE);if(!e.XString.isEqual(s,e.InAQueryMergeConstants.QY_FREE)||a){n.add(o)}}},collectFieldNames:function(t,n,r){let i=e.XStringUtils.isNotNullAndNotEmpty(r)?r:e.XStringUtils.concatenate2(e.InAQueryMergeConstants.QY_FIELD_NAME,'":"');let o=e.XStringTokenizer.splitString(t,i);for(let t=1;t<o.size();t++){let r=o.get(t);let i=e.XString.substring(r,0,e.XString.indexOf(r,'"'));n.add(i)}},collectFieldNamesUsedInSelection:function(t,n){let r=t.getStringRepresentation();e.InAQueryMergeUtils.collectFieldNames(r,n,null)},collectUsedDimensions:function(t,n,r){let i=e.XStringUtils.isNotNullAndNotEmpty(r)?r:e.XStringUtils.concatenate2(e.InAQueryMergeConstants.QY_FIELD_NAME,'":"');let o=e.XStringTokenizer.splitString(t,i);for(let t=1;t<o.size();t++){let r=o.get(t);let i=e.XString.substring(r,0,e.XString.indexOf(r,'"'));let s=e.InAQueryMergeUtils.getUsedDimensionName(i);n.add(s)}},collectUsedDimensionsInBackendDefinedRestrictedMeasures:function(t,n){let r=null;for(let i=0;i<t.size();i++){let o=t.get(i);let s=o.getStructureByKey(e.InAQueryMergeConstants.QY_MEASURES_FORMULA);if(e.notNull(s)){let t=s.getStringRepresentation();if(e.XString.containsString(t,e.InAQueryMergeConstants.QY_SELECTION)){e.InAQueryMergeUtils.collectUsedDimensions(t,n,r)}}}},collectUsedDimensionsInFormulas:function(t,n){let r=null;for(let i=0;i<t.size();i++){let o=t.get(i);let s=o.getStringRepresentation();if(e.XString.containsString(s,e.InAQueryMergeConstants.QY_FORMULA)){r=e.XStringUtils.concatenate2(e.InAQueryMergeConstants.QY_ATTRIBUTE_VALUE,'":{"Name":"');e.InAQueryMergeUtils.collectUsedDimensions(s,n,r);r=e.XStringUtils.concatenate2(e.InAQueryMergeConstants.QY_DIMENSION,'":"');e.InAQueryMergeUtils.collectUsedDimensions(s,n,r);let t=o.getStructureByKey(e.InAQueryMergeConstants.QY_FORMULA);if(e.notNull(t)){let r=t.getStructureByKey(e.InAQueryMergeConstants.QY_ITERATION);if(e.notNull(r)){let t=r.getListByKey(e.InAQueryMergeConstants.QY_ITERATION_DIMENSIONS);e.XStream.of(t).forEach(t=>{let r=t;n.add(r.getStringByKey(e.InAQueryMergeConstants.QY_NAME))})}}}}},collectUsedDimensionsInRestrictedMeasures:function(t,n){let r=null;for(let i=0;i<t.size();i++){let o=t.get(i);let s=o.getStringRepresentation();if(e.XString.containsString(s,e.InAQueryMergeConstants.QY_SELECTION)){e.InAQueryMergeUtils.collectUsedDimensions(s,n,r)}}},getDataSource:function(t){let n=e.InAQueryMergeUtils.getStructureRootKey(t);if(e.notNull(n)){return t.getStructureByKey(n).getStructureByKey(e.InAQueryMergeConstants.QY_DATASOURCE)}return e.notNull(t)?t.getStructureByKey(e.InAQueryMergeConstants.QY_DATASOURCE):null},getFilterStructure:function(t){let n=e.PrUtilsJsonPath.getFirstElementFromPath(t,e.InAQueryMergeConstants.PA_FILTER_PATH);if(e.isNull(n)||n.isEmpty()){n=e.PrUtilsJsonPath.getFirstElementFromPath(t,e.InAQueryMergeConstants.PA_DYNAMIC_FILTER_PATH)}return n},getInstanceId:function(t){let n=e.InAQueryMergeUtils.getDataSource(t);if(e.notNull(n)){return n.getStringByKey(e.InAQueryMergeConstants.QY_INSTANCE_ID)}return null},getLastToken:function(t,n){let r=null;let i=e.XStringTokenizer.splitString(t,n);if(e.notNull(i)&&i.size()>0){r=i.get(i.size()-1)}return r},getListsIntersect:function(t,n){let r=e.XList.create();if(e.notNull(t)&&!t.isEmpty()&&e.notNull(n)&&!n.isEmpty()){for(let e=0;e<t.size();e++){if(n.contains(t.get(e))){r.add(t.get(e))}}}return r},getQueryType:function(t){let n=e.InAQueryMergeUtils.getDataSource(t);if(e.notNull(n)){return n.getStringByKey(e.InAQueryMergeConstants.QY_TYPE)}return null},getStructureRootKey:function(t){let n=e.notNull(t)&&t.containsKey(e.InAQueryMergeConstants.QY_ANALYTICS)?e.InAQueryMergeConstants.QY_ANALYTICS:null;return n},getUsedDimensionName:function(t){let n=e.XString.substring(t,0,e.XString.indexOf(t,"."));if(e.XString.startsWith(n,"[")){n=e.XString.substring(n,1,-1)}if(e.XString.endsWith(n,"]")){n=e.XString.substring(n,0,e.XString.size(n)-1)}return n},hasAccountDimension:function(t){let n=t.getStringRepresentation();return e.XString.containsString(n,e.InAQueryMergeConstants.TAG_ACCOUNT_DIMENSION)},hasFilterTagValue:function(t,n){let r=t.getStructureByKey(e.InAQueryMergeConstants.QY_OPERATOR);if(e.notNull(r)){let t=r.getListByKey(e.InAQueryMergeConstants.QY_SUB_SELECTIONS);for(let r=0;r<t.size();r++){let i=t.getStructureAt(r);e.InAQueryMergeUtils.hasFilterTagValue(i,n)}}else{let r=t.getStructureByKey(e.InAQueryMergeConstants.QY_SET_OPERAND);let i=r.getStringByKey(e.InAQueryMergeConstants.TAG_KEY);if(e.XStringUtils.isNotNullAndNotEmpty(i)&&e.XString.isEqual(i,n)){return true}}return false},hasGeometryDimension:function(t){let n=t.getStringRepresentation();return e.XString.containsString(n,e.InAQueryMergeConstants.QY_CLUSTER_DEFINITION)},hasGeometryOperandInFilter:function(t){let n=t.getStringRepresentation();return e.XString.containsString(n,e.InAQueryMergeConstants.QY_GEOMETRY_OPERAND)},hasMeasureDimension:function(t){let n=t.getStringRepresentation();return e.XString.containsString(n,e.InAQueryMergeConstants.TAG_MEASURE_STRUCTURE)},hasMeasureSort:function(t){let n=false;if(e.notNull(t)){let r=t.getStringRepresentation();n=e.XString.containsString(r,e.InAQueryMergeConstants.QY_SORT_TYPE_MEASURE)}return n},hasNonMeasureDimensionOnMeasureAxis:function(t,n){let r=false;for(let i=0;i<t.size();i++){let o=t.getStructureAt(i);let s=o.getStringByKey(e.InAQueryMergeConstants.QY_AXIS);if(e.XString.isEqual(s,n)){r=true;break}}return r},hasVariablePlaceHolder:function(t){let n=t.getStringRepresentation();return e.XString.containsString(n,e.InAQueryMergeConstants.QY_VARIABLE_PLACEHOLDER_IN_FILTER)},isComplexFilter:function(t){let n=t.getStringRepresentation();return e.XString.containsString(n,e.InAQueryMergeConstants.QY_OR_IN_FILTER)},isConditionsStateChangedByClient:function(t,n,r){let i=null;let o=e.PrUtilsJsonPath.getFirstElementFromPath(t,e.InAQueryMergeConstants.PA_CONDITIONS_PATH);if(e.notNull(o)){let t=n.serialize(o);i=e.XSha1.createSHA1(t)}return!e.XString.isEqual(r,i)},isListsIntersect:function(t,n){let r=e.InAQueryMergeUtils.getListsIntersect(t,n);return!r.isEmpty()},mergeElementsLists:function(t,n){if(e.notNull(n)){for(let r=0;r<n.size();r++){let i=n.get(r);if(e.notNull(t)&&!t.contains(i)){t.add(i)}}}},overwriteInstanceIdInDataSource:function(t,n){let r=e.InAQueryMergeUtils.getDataSource(t);r.remove(e.InAQueryMergeConstants.QY_INSTANCE_ID);r.putString(e.InAQueryMergeConstants.QY_INSTANCE_ID,n)},replaceOrRemoveTag:function(t,n,r,i){if(e.notNull(t)){let o=true;if(e.XStringUtils.isNotNullAndNotEmpty(r)){o=false}let s=t.getType();if(s===e.PrElementType.STRUCTURE){let s=t;let a=s.getKeysAsReadOnlyList();let l=a.size();for(let t=0;t<l;t++){let l=a.get(t);if(e.XString.isEqual(l,n)){if(o){s.remove(n);continue}else{let t=s.getStringByKey(n);if(e.XString.isEqual(t,r)){s.putString(n,i);continue}}}e.InAQueryMergeUtils.replaceOrRemoveTag(e.PrUtils.getProperty(s,l),n,r,i)}}else if(s===e.PrElementType.LIST){let o=t;let s=e.PrUtils.getListSize(o,0);for(let t=0;t<s;t++){e.InAQueryMergeUtils.replaceOrRemoveTag(e.PrUtils.getElement(o,t),n,r,i)}}}}};e.InARestrictedMeasureUtils={_addConvertToFlatForHierFilters:function(t){if(e.notNull(t)){let n=t.getStructureByKey(e.InAQueryMergeConstants.QY_OPERATOR);if(e.notNull(n)){let t=n.getListByKey(e.InAQueryMergeConstants.QY_SUB_SELECTIONS);if(e.notNull(t)){for(let n=0;n<t.size();n++){let r=t.getStructureAt(n);let i=r.getStructureByKey(e.InAQueryMergeConstants.QY_SET_OPERAND);if(e.notNull(i)){let t=i.getStructureByKey(e.InAQueryMergeConstants.QY_HIERARCHY);if(e.notNull(t)){i.putBoolean(e.InAQueryMergeConstants.QY_CONVERT_TO_FLAT_SELECTION,true)}continue}let o=r.getStructureByKey(e.InAQueryMergeConstants.QY_OPERATOR);if(e.notNull(o)){e.InARestrictedMeasureUtils._addConvertToFlatForHierFilters(r)}}}}}},_cleanRedundantOperatorWrapper:function(t,n){if(e.notNull(t)&&e.notNull(n)){let r=t.getListByKey(e.InAQueryMergeConstants.QY_SUB_SELECTIONS);if(e.notNull(r)&&r.size()===1){let t=r.getStructureAt(0);let i=t.getStructureByKey(e.InAQueryMergeConstants.QY_OPERATOR);if(e.notNull(i)){if(!e.XString.isEqual(n.getStringByKey(e.InAQueryMergeConstants.QY_CODE),i.getStringByKey(e.InAQueryMergeConstants.QY_CODE))){return}let t=i.getListByKey(e.InAQueryMergeConstants.QY_SUB_SELECTIONS);n.putNewList(e.InAQueryMergeConstants.QY_SUB_SELECTIONS).addAll(t.getValuesAsReadOnlyList());e.InARestrictedMeasureUtils._cleanRedundantOperatorWrapper(i,n)}}}},_cleanTagsFromDimensions:function(t){let n=t.getIterator();while(n.hasNext()){let t=n.next();if(e.notNull(t)){t.remove(e.InAQueryMergeConstants.TAG_KEY)}}},_cleanTagsFromFilter:function(t){if(e.notNull(t)){let n=t.getStructureByKey(e.InAQueryMergeConstants.QY_OPERATOR);if(e.notNull(n)){n.remove(e.InAQueryMergeConstants.TAG_KEY);let t=n.getListByKey(e.InAQueryMergeConstants.QY_SUB_SELECTIONS);for(let n=0;n<t.size();n++){let r=t.getStructureAt(n);e.InARestrictedMeasureUtils._cleanTagsFromFilter(r)}}else{let n=t.getStructureByKey(e.InAQueryMergeConstants.QY_SET_OPERAND);n.remove(e.InAQueryMergeConstants.TAG_KEY)}}},_removeAllMeasureMembersExcept:function(t,n){let r=n.getStructureByKey(e.InAQueryMergeConstants.QY_OPERATOR);if(e.notNull(r)){let n=r.getListByKey(e.InAQueryMergeConstants.QY_SUB_SELECTIONS);for(let r=0;r<n.size();r++){let i=n.getStructureAt(r);e.InARestrictedMeasureUtils._removeAllMeasureMembersExcept(t,i)}}else{let r=n.getStructureByKey(e.InAQueryMergeConstants.QY_SET_OPERAND);let i=r.getStringByKey(e.InAQueryMergeConstants.TAG_KEY);if(e.XStringUtils.isNotNullAndNotEmpty(i)&&e.XString.isEqual(i,e.InAQueryMergeConstants.TAG_FILTER_MEASURE_STRUCTURE)){let n=r.getListByKey(e.InAQueryMergeConstants.QY_ELEMENTS);let i=e.PrFactory.createList();for(let r=0;r<n.size();r++){let o=n.getStructureAt(r);if(!e.XString.isEqual(o.getStringByKey(e.InAQueryMergeConstants.QY_LOW),t)){i.add(o)}}for(let e=0;e<i.size();e++){let t=i.getStructureAt(e);n.removeElement(t)}}}},_removeGlobalFilters:function(t,n){if(e.notNull(t)){let r=t.getStructureByKey(e.InAQueryMergeConstants.QY_OPERATOR);if(e.notNull(r)){let i=r.getStringByKey(e.InAQueryMergeConstants.TAG_KEY);if(e.XStringUtils.isNotNullAndNotEmpty(i)&&e.XString.isEqual(i,e.InAQueryMergeConstants.TAG_GLOBAL_FILTER)){n.removeElement(t)}let o=r.getListByKey(e.InAQueryMergeConstants.QY_SUB_SELECTIONS);for(let t=0;t<o.size();t++){let n=o.getStructureAt(t);e.InARestrictedMeasureUtils._removeGlobalFilters(n,o)}}}},addBaseMeasurePropsToRM:function(t,n,r){let i=t.getListByKey(e.InAQueryMergeConstants.QY_MEMBERS);let o=e.XStream.of(i).find(e.InARestrictedMeasureUtils.getMeasureWithName(n)).isPresent();if(o){let t=r.getStringByKey(e.InAQueryMergeConstants.QY_NAME);let o=e.XStream.of(i).find(e.InARestrictedMeasureUtils.getMeasureWithName(n)).get();let s=e.InARestrictedMeasureUtils.getExcludedMeasureProps();let a=o.getKeysAsReadOnlyList();for(let i=0;i<a.size();i++){let l=a.get(i);if(!s.contains(l)){let i=o.getByKey(l);if(e.XString.isEqual(l,e.InAQueryMergeConstants.QY_EXCEPTIONS)){let r=i.getStringRepresentation();let o=e.XString.replace(r,n,t);i=e.JsonParserFactory.createFromString(o)}r.putIfNotNull(l,i)}}}},addRestrictedMeasureToMembers:function(t,n){if(e.notNull(n)){let r=n.getListByKey(e.InAQueryMergeConstants.QY_MEMBERS);if(e.notNull(r)){let n=t.getStringByKey("Name");let i=e.XStream.of(r).find(e.InARestrictedMeasureUtils.getMeasureWithName(n)).isPresent();if(!i){r.add(t)}}else{r=n.putNewList(e.InAQueryMergeConstants.QY_MEMBERS);r.add(t)}}},cleanTagsFromRequest:function(t){let n=e.PrFactory.createStructureDeepCopy(t);let r=e.InAQueryMergeUtils.getFilterStructure(n);let i=r.getStructureByKey(e.InAQueryMergeConstants.QY_SELECTION);if(e.isNull(i)){i=r}e.InARestrictedMeasureUtils._cleanTagsFromFilter(i);let o=e.PrUtilsJsonPath.getFirstElementFromPath(n,e.InAQueryMergeConstants.PA_DEFINITION_PATH);let s=o.getListByKey(e.InAQueryMergeConstants.QY_DIMENSIONS);e.InARestrictedMeasureUtils._cleanTagsFromDimensions(s);return n},createQueryDataCellForRestrictedMeasure:function(t,n,r,i){let o=t.size();for(let s=0;s<o;s++){let o=t.getStructureAt(s);if(e.notNull(o)){let s=o.getListByKey(e.InAQueryMergeConstants.QY_DIMENSION_MEMBER_REFERENCES);if(e.notNull(s)&&!e.PrUtils.isListEmpty(s)){let a=s.getStringAt(0);if(e.XString.isEqual(a,r)){let r=e.XStringUtils.isNullOrEmpty(i)?null:i;let s=e.PrFactory.createStructureDeepCopy(o);s.putInteger(e.InAQueryMergeConstants.QY_CELL_VALUE_TYPE,0);s.putString(e.InAQueryMergeConstants.QY_NAME,r);let a=n.getStringByKey(e.InAQueryMergeConstants.QY_NAME);s.getListByKey(e.InAQueryMergeConstants.QY_DIMENSION_MEMBER_REFERENCES).setStringAt(0,a);t.add(s)}}}}},createReferenceToRestrictedMeasureFilter:function(t,n){let r=e.PrFactory.createStructure();let i=r.putNewStructure(e.InAQueryMergeConstants.QY_SELECTION);let o=i.putNewStructure(e.InAQueryMergeConstants.QY_OPERATOR);o.putString(e.InAQueryMergeConstants.QY_CODE,e.InAQueryMergeConstants.QY_AND);let s=o.putNewList(e.InAQueryMergeConstants.QY_SUB_SELECTIONS);let a=s.addNewStructure();let l=a.putNewStructure(e.InAQueryMergeConstants.QY_SET_OPERAND);l.putString(e.InAQueryMergeConstants.QY_FIELD_NAME,t);let u=l.putNewList(e.InAQueryMergeConstants.QY_ELEMENTS);for(let t=0;t<n.size();t++){let r=n.get(t).getStringByKey(e.InAQueryMergeConstants.QY_NAME);let i=u.addNewStructure();i.putString(e.InAQueryMergeConstants.QY_COMPARISON,e.InAQueryMergeConstants.QY_EQUALS_SIGN);i.putString(e.InAQueryMergeConstants.QY_LOW,r)}return r},createSingleRestrictedMeasure:function(t,n,r,i){let o=n.getStructureByKey(e.InAQueryMergeConstants.QY_SELECTION);if(e.isNull(o)){o=n}let s=e.PrFactory.createStructureDeepCopy(o);e.InARestrictedMeasureUtils._removeAllMeasureMembersExcept(t,s);e.InARestrictedMeasureUtils._removeGlobalFilters(s,null);e.InARestrictedMeasureUtils._cleanTagsFromFilter(s);let a=s.getStructureByKey(e.InAQueryMergeConstants.QY_OPERATOR);e.InARestrictedMeasureUtils._cleanRedundantOperatorWrapper(a,a);e.InARestrictedMeasureUtils._addConvertToFlatForHierFilters(s);let l=s.getStringRepresentation();let u=e.XStringUtils.isNullOrEmpty(r)?e.XSha1.createSHA1(l):r;if(e.notNull(i)){i.put(u,t)}let c=e.PrFactory.createStructure();c.putString(e.InAQueryMergeConstants.QY_NAME,u);c.putString(e.InAQueryMergeConstants.QY_DESCRIPTION,u);c.put(e.InAQueryMergeConstants.QY_SELECTION,s);c.putString(e.InAQueryMergeConstants.QY_VISIBILITY,e.InAQueryMergeConstants.QY_VISIBLE);return c},extendRequestWithRestrictedMeasure:function(t,n,r){let i=e.PrFactory.createStructureDeepCopy(t);let o=e.PrUtilsJsonPath.getFirstElementFromPath(i,e.InAQueryMergeConstants.PA_DEFINITION_PATH);let s=o.getListByKey(e.InAQueryMergeConstants.QY_DIMENSIONS);let a=o.getListByKey(e.InAQueryMergeConstants.QY_QUERY_DATA_CELLS);let l=o.getStructureByKey(e.InAQueryMergeConstants.QY_FILTER);let u=e.InARestrictedMeasureUtils.getMeasureStructure(s);let c=e.InARestrictedMeasureUtils.extractMeasuresFromSelection(l.getStructureByKey(e.InAQueryMergeConstants.QY_SELECTION),null);let p=e.PrFactory.createList();for(let t=0;t<c.size();t++){let i=c.get(t);let o=e.InARestrictedMeasureUtils.createSingleRestrictedMeasure(i,l,n,null);p.add(o);e.InARestrictedMeasureUtils.addRestrictedMeasureToMembers(o,u);e.InARestrictedMeasureUtils.createQueryDataCellForRestrictedMeasure(a,o,i,r)}let g=u.getStringByKey(e.InAQueryMergeConstants.QY_NAME);let y=p.getValuesAsReadOnlyList();let A=e.InARestrictedMeasureUtils.createReferenceToRestrictedMeasureFilter(e.XStringUtils.concatenate2(g,".KEY"),y);o.put(e.InAQueryMergeConstants.QY_FILTER,A);e.InARestrictedMeasureUtils._cleanTagsFromDimensions(s);return i},extractDimensionMembersFromSelection:function(t,n,r){let i=r;let o=t.getStructureByKey(e.InAQueryMergeConstants.QY_OPERATOR);if(e.notNull(o)){let t=o.getListByKey(e.InAQueryMergeConstants.QY_SUB_SELECTIONS);for(let r=0;r<t.size();r++){e.InARestrictedMeasureUtils.extractDimensionMembersFromSelection(t.getStructureAt(r),n,i)}}else{let i=t.getStructureByKey(e.InAQueryMergeConstants.QY_SET_OPERAND);let o=i.getStringByKey(e.InAQueryMergeConstants.QY_FIELD_NAME);if(e.XString.containsString(o,e.XStringUtils.concatenate2(n,e.InAQueryMergeConstants.PA_PATH_SPLITER))){let t=i.getListByKey(e.InAQueryMergeConstants.QY_ELEMENTS);if(!e.PrUtils.isListEmpty(t)){let n=e.XStringValue.create(o);if(!r.containsKey(n)){r.put(n,t)}else{t.addAll(r.getByKey(n));r.put(n,t)}}}}},extractMeasuresFromSelection:function(t,n){let r=n;if(e.isNull(n)){r=e.XList.create()}let i=t.getStructureByKey(e.InAQueryMergeConstants.QY_OPERATOR);if(e.notNull(i)){let t=i.getListByKey(e.InAQueryMergeConstants.QY_SUB_SELECTIONS);for(let n=0;n<t.size();n++){e.InARestrictedMeasureUtils.extractMeasuresFromSelection(t.getStructureAt(n),r)}}else{let n=t.getStructureByKey(e.InAQueryMergeConstants.QY_SET_OPERAND);let i=n.getStringByKey(e.InAQueryMergeConstants.TAG_KEY);if(e.XStringUtils.isNotNullAndNotEmpty(i)&&e.XString.isEqual(i,e.InAQueryMergeConstants.TAG_FILTER_MEASURE_STRUCTURE)){let t=n.getListByKey(e.InAQueryMergeConstants.QY_ELEMENTS);for(let n=0;n<t.size();n=n+1){let i=t.getStructureAt(n).getStringByKey(e.InAQueryMergeConstants.QY_LOW);r.add(i)}}}return r},getExcludedMeasureProps:function(){let t=e.XList.create();t.add(e.InAQueryMergeConstants.QY_NAME);t.add(e.InAQueryMergeConstants.QY_MEMBER_NAME);t.add(e.InAQueryMergeConstants.QY_DESCRIPTION);t.add(e.InAQueryMergeConstants.QY_SELECTION);t.add(e.InAQueryMergeConstants.QY_FORMULA);return t},getMeasureStructure:function(t){let n=t.getIterator();while(n.hasNext()){let t=n.next();let r=t.getStringByKey(e.InAQueryMergeConstants.TAG_KEY);if(e.XStringUtils.isNotNullAndNotEmpty(r)&&e.XString.isEqual(r,e.InAQueryMergeConstants.TAG_MEASURE_STRUCTURE)){return t}}return null},getMeasureWithName:function(t){return n=>{let r=n;let i=r.getStringByKey(e.InAQueryMergeConstants.QY_NAME);if(e.XStringUtils.isNullOrEmpty(i)){i=r.getStringByKey(e.InAQueryMergeConstants.QY_MEMBER_NAME)}if(e.XStringUtils.isNullOrEmpty(i)){i=r.getStructureByKey(e.InAQueryMergeConstants.QY_MEMBER_OPERAND).getStringByKey(e.InAQueryMergeConstants.QY_VALUE)}return e.XString.isEqual(i,t)}},getMemberMetadata:function(t,n,r,i){if(e.notNull(n)){let o=t.getKeyFieldOfDimension(r);for(let t=0;t<n.size();t++){let r=n.get(t);if(e.XString.isEqual(r.getStringByKey(o),i)){return r}}}return null},hasExpectedSelectionStructure:function(t){let n=true;let r=t.getStructureByKey(e.InAQueryMergeConstants.QY_OPERATOR);if(e.notNull(r)){let t=r.getListByKey(e.InAQueryMergeConstants.QY_SUB_SELECTIONS);if(e.isNull(t)){return false}for(let n=0;n<t.size();n++){e.InARestrictedMeasureUtils.hasExpectedSelectionStructure(t.getStructureAt(n))}}else{let n=t.getStructureByKey(e.InAQueryMergeConstants.QY_SET_OPERAND);if(e.isNull(n)){return false}}return n},mergeElementsOfSameFieldAndLevel:function(t,n,r,i){let o=n.getStructureByKey(e.InAQueryMergeConstants.QY_OPERATOR);if(e.notNull(o)){let n=o.getListByKey(e.InAQueryMergeConstants.QY_SUB_SELECTIONS);let r=e.notNull(t)?t:e.XHashMapByString.create();for(let t=n.size()-1;t>=0;t--){let o=n.getStructureAt(t);e.InARestrictedMeasureUtils.mergeElementsOfSameFieldAndLevel(r,o,n,i+1)}}else{let o=n.getStructureByKey(e.InAQueryMergeConstants.QY_SET_OPERAND);let s=o.getStringByKey(e.InAQueryMergeConstants.TAG_KEY);if(!e.XString.isEqual(s,e.InAQueryMergeConstants.TAG_FILTER_MEASURE_STRUCTURE)){let s=o.getStringByKey(e.InAQueryMergeConstants.QY_FIELD_NAME);let a=o.getListByKey(e.InAQueryMergeConstants.QY_ELEMENTS);let l=e.XStringUtils.concatenate3(s,"_",e.XInteger.convertToString(i));if(!t.containsKey(l)){t.put(l,a)}else{let e=t.getByKey(l);e.addAll(a);r.removeElement(n)}}}},processRestrictedMeasures:function(t,n,r,i,o,s,a){let l=e.PrFactory.createStructure();let u=e.PrFactory.createList();for(let c=0;c<n.size();c++){let p=n.get(c);let g=e.XHashMapByString.create();e.InARestrictedMeasureUtils.mergeElementsOfSameFieldAndLevel(g,o,null,0);let y=e.InARestrictedMeasureUtils.createSingleRestrictedMeasure(p,o,null,a);u.add(y);let A=i.getStringByKey(e.InAQueryMergeConstants.QY_NAME);let m=t.getMembersMetadata(A);if(e.XCollectionUtils.hasElements(m)){let n=e.InARestrictedMeasureUtils.getMemberMetadata(t,m,A,p);if(e.XCollectionUtils.hasElements(n)&&n.containsKey(e.InAQueryMergeConstants.QY_MEASURE_DESCRIPTION)){let t=n.getStringByKey(e.InAQueryMergeConstants.QY_MEASURE_DESCRIPTION);y.putString(e.InAQueryMergeConstants.QY_DESCRIPTION,t)}}if(e.isNull(s)){e.InARestrictedMeasureUtils.addBaseMeasurePropsToRM(i,p,y)}e.InARestrictedMeasureUtils.addRestrictedMeasureToMembers(y,i);let _=u.getValuesAsReadOnlyList();l=e.InARestrictedMeasureUtils.createReferenceToRestrictedMeasureFilter(r,_);if(e.notNull(s)){e.InARestrictedMeasureUtils.createQueryDataCellForRestrictedMeasure(s,y,p,null)}}return l},replaceMeasureInSelection:function(t,n,r){let i=t.getStructureByKey(e.InAQueryMergeConstants.QY_OPERATOR);if(e.notNull(i)){let t=i.getListByKey(e.InAQueryMergeConstants.QY_SUB_SELECTIONS);for(let i=0;i<t.size();i++){e.InARestrictedMeasureUtils.replaceMeasureInSelection(t.getStructureAt(i),n,r)}}else{let i=t.getStructureByKey(e.InAQueryMergeConstants.QY_SET_OPERAND);let o=i.getStringByKey(e.InAQueryMergeConstants.TAG_KEY);if(e.XStringUtils.isNotNullAndNotEmpty(o)&&e.XString.isEqual(o,e.InAQueryMergeConstants.TAG_FILTER_MEASURE_STRUCTURE)){let t=i.getListByKey(e.InAQueryMergeConstants.QY_ELEMENTS);for(let i=0;i<t.size();i=i+1){let o=t.getStructureAt(i);if(e.XString.isEqual(o.getStringByKey(e.InAQueryMergeConstants.QY_LOW),n)){o.putString(e.InAQueryMergeConstants.QY_LOW,r)}}}}}};e.OlapEnvironmentFactory=function(){};e.OlapEnvironmentFactory.prototype=new e.XObject;e.OlapEnvironmentFactory.prototype._ff_c="OlapEnvironmentFactory";e.OlapEnvironmentFactory.s_olapEnvironmentFactory=null;e.OlapEnvironmentFactory.newInstance=function(t){return e.OlapEnvironmentFactory.s_olapEnvironmentFactory.newOlapEnvironmentInstance(t)};e.OlapEnvironmentFactory.registerFactory=function(t){let n=e.OlapEnvironmentFactory.s_olapEnvironmentFactory;e.OlapEnvironmentFactory.s_olapEnvironmentFactory=t;return n};e.OlapEnvironmentFactory.staticSetup=function(){let t=new e.OlapEnvironmentFactory;e.OlapEnvironmentFactory.registerFactory(t)};e.OlapEnvironmentFactory.prototype.newOlapEnvironmentInstance=function(e){return null};e.ServiceTypeInfo=function(){};e.ServiceTypeInfo.prototype=new e.XObject;e.ServiceTypeInfo.prototype._ff_c="ServiceTypeInfo";e.ServiceTypeInfo.prototype.createServiceConfigInternal=function(t){let n=this.getServiceConfigReferenceName();let r=e.RegistrationService.getInstance();let i=r.getReferences(n);if(i.size()===1){let e=i.get(0);let n=e.newInstance(t);n.setServiceTypeInfo(this);n.setupConfig(t);return n}throw e.XException.createIllegalStateException("more than one reference for service config")};e.ServiceUtils=function(){};e.ServiceUtils.prototype=new e.XObject;e.ServiceUtils.prototype._ff_c="ServiceUtils";e.ServiceUtils.getMatchingService=function(t,n,r){let i=e.RegistrationService.getInstance();let o=i.getReferences(n);for(let e=0;e<o.size();e++){let n=o.get(e);let i=n.newInstance(t);if(i.isServiceConfigMatching(t,t.getConnectionContainer(),r)){i.setupService(t);return i}}return null};e.NopUsageTracker=function(){};e.NopUsageTracker.prototype=new e.XObject;e.NopUsageTracker.prototype._ff_c="NopUsageTracker";e.NopUsageTracker.prototype.isEnabled=function(){return false};e.NopUsageTracker.prototype.track=function(e){};e.NopUsageTracker.prototype.trackUsage=function(e,t,n){};e.UsageTrackerProvider={instance:null,getUsageTracker:function(){if(e.isNull(e.UsageTrackerProvider.instance)){e.UsageTrackerProvider.instance=new e.NopUsageTracker}return e.UsageTrackerProvider.instance},setUsageTracker:function(t){e.UsageTrackerProvider.instance=t}};e.InADataProvider=function(){};e.InADataProvider.prototype=new e.BasicInAQuery;e.InADataProvider.prototype._ff_c="InADataProvider";e.InADataProvider.create=function(t,n,r,i){let o=new e.InADataProvider;o.setupInARuntimeDataProvider(t,n,r,i);return o};e.InADataProvider.prototype.m_isPreQuery=null;e.InADataProvider.prototype.m_preQueries=null;e.InADataProvider.prototype.m_requestStructure=null;e.InADataProvider.prototype.m_sourceInstanceIds=null;e.InADataProvider.prototype.addSourceInstanceId=function(t){if(e.XStringUtils.isNotNullAndNotEmpty(t)&&!this.m_sourceInstanceIds.contains(t)){this.m_sourceInstanceIds.add(t)}};e.InADataProvider.prototype.getPreQueries=function(){return this.m_preQueries};e.InADataProvider.prototype.getRequestStructure=function(){return e.notNull(this.m_requestStructure)?this.m_requestStructure:e.BasicInAQuery.prototype.getRequestStructure.call(this)};e.InADataProvider.prototype.getSourceInstanceIds=function(){return this.m_sourceInstanceIds};e.InADataProvider.prototype.isMainQuery=function(){return this.m_isPreQuery!==e.TriStateBool._DEFAULT&&this.m_isPreQuery.getBoolean()===false};e.InADataProvider.prototype.isPreQuery=function(){return this.m_isPreQuery.getBoolean()};e.InADataProvider.prototype.releaseObject=function(){this.m_requestStructure=e.XObjectExt.release(this.m_requestStructure);this.m_sourceInstanceIds=e.XObjectExt.release(this.m_sourceInstanceIds);this.m_preQueries=e.XObjectExt.release(this.m_preQueries);e.BasicInAQuery.prototype.releaseObject.call(this)};e.InADataProvider.prototype.setAsMainQuery=function(){this.m_isPreQuery=e.TriStateBool.lookup(false)};e.InADataProvider.prototype.setAsPreQuery=function(){this.m_isPreQuery=e.TriStateBool.lookup(true)};e.InADataProvider.prototype.setPreQueries=function(e){this.m_preQueries=e};e.InADataProvider.prototype.setupInARuntimeDataProvider=function(t,n,r,i){e.BasicInAQuery.prototype.setupBasicInAQuery.call(this,t,null,r,i);this.setGroupSignature(t);this.setIsInARuntimeDataProvider(true);this.m_requestStructure=n;this.m_sourceInstanceIds=e.XList.create();this.m_isPreQuery=e.TriStateBool._DEFAULT;this.m_preQueries=e.XList.create()};e.InAMergeProcessor=function(){};e.InAMergeProcessor.prototype=new e.XObject;e.InAMergeProcessor.prototype._ff_c="InAMergeProcessor";e.InAMergeProcessor.create=function(t){let n=new e.InAMergeProcessor;n.setupInAMergeProcessor(t);return n};e.InAMergeProcessor.prototype.m_batchFunctionsBySource=null;e.InAMergeProcessor.prototype.m_connectionPool=null;e.InAMergeProcessor.prototype.m_inaMergeRegistryManager=null;e.InAMergeProcessor.prototype.m_inaMergeRequestBuilder=null;e.InAMergeProcessor.prototype.m_inaMergeResponseDispatcher=null;e.InAMergeProcessor.prototype.m_isRequestsProcessed=false;e.InAMergeProcessor.prototype.m_mergedDocumentBySystem=null;e.InAMergeProcessor.prototype.m_processingMode=null;e.InAMergeProcessor.prototype.addInASourceQuery=function(t,n,r,i,o,s,a){let l=this.m_inaMergeRegistryManager.buildInASourceQueryAndRegister(t,n,r,i,o,s,a);if(e.notNull(l)&&l.isStandAloneQuery()){this.buildStandAloneQuery(l,t)}};e.InAMergeProcessor.prototype.addPreQueryExecution=function(t,n,r,i){let o=n.getPreQueries();for(let n=0;n<o.size();n++){let s=o.get(n);let a=this.m_inaMergeRegistryManager.getPreQueryInADataProviderByName(s);if(e.notNull(a)){i.removeElement(a.getInstanceId());r.add(this.executeInADataProvider(a,t,true))}this.addPreQueryExecution(t,a,r,i)}};e.InAMergeProcessor.prototype.addQueriesToRequestList=function(e,t){let n=t.size();for(let r=0;r<n;r++){let n=t.get(r);let i=n.getRpcRequest();let o=i.getRequestStructure();e.add(o)}};e.InAMergeProcessor.prototype.buildInADataProvidersFromSourceQueries=function(t){let n=this.m_inaMergeRegistryManager.getMergeableSourceQueries();let r=e.XList.create();for(let i=0;i<n.size();i++){let o=n.get(i);if(e.XString.isEqual(o.getSystemName(),t)){r.add(o)}}this.m_inaMergeRegistryManager.groupSourceQueries(r);this.convertSourceQueriesToInADataProvider(r,t)};e.InAMergeProcessor.prototype.buildInAMergedQuery=function(t,n,r,i){let o=this.getInADataProviderSystemType(t);let s=this.getMergedRequestByGroupSignature(n,i);let a;if(this.m_processingMode===e.InAMergeProcessingMode.EXECUTE_PERSISTED&&e.notNull(s)){a=s.getStructureByKey(e.InAQueryMergeConstants.TAG_MERGED_QUERY);let n=e.PrUtilsJsonPath.getFirstElementFromPath(a,e.InAQueryMergeConstants.PA_DEFINITION_PATH);let r=n.getListByKey(e.InAQueryMergeConstants.QY_DIMENSIONS);let i=e.InARestrictedMeasureUtils.getMeasureStructure(r);let o=n.getListByKey(e.InAQueryMergeConstants.QY_QUERY_DATA_CELLS);for(let n=0;n<t.size();n++){let r=t.get(n);let s=this.m_inaMergeRegistryManager.getInASourceQuery(r);let a=e.XHashMapByString.create();let l=s.getFilter();if(e.notNull(l)){let t=l.getStructureByKey(e.InAQueryMergeConstants.QY_SELECTION);let n=e.InARestrictedMeasureUtils.extractMeasuresFromSelection(t,null);this.m_inaMergeRequestBuilder.getRestrictedMeasureFilter(n,t,i,o,a)}let u=s.getMeasureDimension();if(e.notNull(u)){let t=u.getStructureByKey(e.InAQueryMergeConstants.TAG_MEASURE_METADATA_FOR_PERSISTED_INA).getStructureByKey(e.InAQueryMergeConstants.TAG_MEASURE_MD_RESTRICTED_MEASURE_MAP);if(e.notNull(t)){let e=t.getKeysAsReadOnlyList();for(let n=0;n<e.size();n++){let r=e.get(n);let i=t.getStringByKey(r);a.put(r,i)}}}this.m_inaMergeRequestBuilder.assignRestrictedMeasureToSourceQuery(s,a)}}else{a=this.m_inaMergeRequestBuilder.createInADataProviderRequestStructure(t,o)}let l=this.getInADataProviderConnectionContainer(t);let u=this.createInADataProvider(n,t,a,l,o);e.InAQueryMergeUtils.overwriteInstanceIdInDataSource(a,u.getInstanceId());this.maintainSourceQueryState(t,r);this.registerAndMaintainInADataProvider(u)};e.InAMergeProcessor.prototype.buildStandAloneQuery=function(t,n){t.setIsStandAloneQuery(true);let r=t.getInstanceId();let i=e.XList.create();i.add(r);let o=this.createInADataProvider(n,i,t.getRequestStructure(),t.getConnectionContainer(),t.getSystemType());o.setIsStandAloneQuery(true);this.registerAndMaintainInADataProvider(o)};e.InAMergeProcessor.prototype.collectProcessingHints=function(t,n){let r=t.getRpcRequest();let i=r.getProcessingHint();let o=this.m_inaMergeRegistryManager.getInASourceQuery(n.get(0));let s=o.getRpcFunction().getRpcRequest().getProcessingHint();let a=i.putNewList(e.ConnectionConstants.INA_BATCH);a.add(s);let l=r.getRequestStructure().getListByKey("Batch");if(e.notNull(l)){let e=l.size();for(let t=1;t<e;t++){a.add(s)}}};e.InAMergeProcessor.prototype.convertSourceQueriesToInADataProvider=function(e,t){if(e.size()>1){let n=this.m_inaMergeRegistryManager.getGroupSignatures();let r=n.size();for(let i=0;i<r;i++){let r=n.get(i);let o=this.m_inaMergeRegistryManager.getSourceIDsBySignature(r);if(o.size()>1){this.buildInAMergedQuery(o,r,e,t)}else if(o.size()===1){let e=o.get(0);let t=this.m_inaMergeRegistryManager.getInASourceQuery(e);this.buildStandAloneQuery(t,r)}}}else if(e.size()===1){let t=e.get(0);this.buildStandAloneQuery(t,t.getGroupSignature())}};e.InAMergeProcessor.prototype.createInADataProvider=function(t,n,r,i,o){let s=e.InADataProvider.create(t,r,i,o);for(let e=0;e<n.size();e++){let t=n.get(e);s.addSourceInstanceId(t)}return s};e.InAMergeProcessor.prototype.createInADataProviderRpcFunction=function(t,n,r){let i=t.getBatchRequestManager();let o=t.getBatchModePathExt();let s=r?t.newRpcFunctionByUri(o):t.newRpcFunctionInternal(o,false);if(r){i.removeBatchFunction(s)}let a=s.getRpcRequest();a.setMethod(e.HttpRequestMethod.HTTP_POST);a.setAcceptContentType(e.ContentType.APPLICATION_JSON);a.setRequestStructure(n);return s};e.InAMergeProcessor.prototype.executeInADataProvider=function(t,n,r){let i=r?e.SyncType.NON_BLOCKING:n;let o=t.getConnectionContainer();let s=t.getRequestStructure();let a=e.InAQueryMergeUtils.cleanTagsFromRequest(s,false);let l=r?a:this.wrapRequestStructureAsBatch(a);let u=t.getSourceInstanceIds();let c=this.createInADataProviderRpcFunction(o,l,r);this.collectProcessingHints(c,u);t.setRpcFunction(c);this.updateQueryState(t,e.InAQueryMergeConstants.QUERY_STATE_PENDING_PROCESSING);c.processFunctionExecution(i,this,t);return c};e.InAMergeProcessor.prototype.getConnectionPool=function(){return this.m_connectionPool};e.InAMergeProcessor.prototype.getInADataProviderConnectionContainer=function(e){let t=e.get(0);let n=this.m_inaMergeRegistryManager.getInASourceQuery(t);let r=n.getConnectionContainer();return r};e.InAMergeProcessor.prototype.getInADataProviderSystemType=function(e){let t=e.get(0);let n=this.m_inaMergeRegistryManager.getInASourceQuery(t);let r=n.getSystemType();return r};e.InAMergeProcessor.prototype.getInAMergeProcessingMode=function(){return this.m_processingMode};e.InAMergeProcessor.prototype.getMergedPersistResponse=function(t){return this.m_mergedDocumentBySystem.getByKey(e.XStringValue.create(t))};e.InAMergeProcessor.prototype.getMergedRequestByGroupSignature=function(t,n){let r=null;if(this.m_processingMode===e.InAMergeProcessingMode.EXECUTE_PERSISTED){let i=this.getMergedPersistResponse(n);let o=i.size();for(let n=0;n<o;n++){let o=i.get(n);let s=o.getStructureByKey(e.InAQueryMergeConstants.TAG_MERGED_QUERY);if(e.notNull(s)){let n=s.getStructureByKey(e.InAQueryMergeConstants.QY_ANALYTICS).getStructureByKey(e.InAQueryMergeConstants.QY_DATASOURCE).getStringByKey(e.InAQueryMergeConstants.QY_INSTANCE_ID);if(e.XString.isEqual(t,n)){r=o;break}}}}return r};e.InAMergeProcessor.prototype.hasMeasureMembersMetadata=function(e){return this.m_inaMergeRegistryManager.hasMeasureMembersMetadata(e)};e.InAMergeProcessor.prototype.hasModelMetadata=function(e){return this.m_inaMergeRegistryManager.hasModelMetadata(e)};e.InAMergeProcessor.prototype.isRequestsProcessed=function(){return this.m_isRequestsProcessed};e.InAMergeProcessor.prototype.maintainInADataProviderState=function(t){t.setQueryState(e.InAQueryMergeConstants.QUERY_STATE_MERGE_CHECKED);let n=t.getInstanceId();this.m_inaMergeRegistryManager.registerInADataProvider(n,t)};e.InAMergeProcessor.prototype.maintainSourceQueryState=function(t,n){for(let r=0;r<t.size();r++){let i=t.get(r);let o=this.m_inaMergeRegistryManager.getInASourceQuery(i);o.setQueryState(e.InAQueryMergeConstants.QUERY_STATE_MERGE_CHECKED);n.removeElement(o)}};e.InAMergeProcessor.prototype.onFunctionExecuted=function(t,n,r){let i=r;let o=null;if(i.isMainQuery()){o=this.m_batchFunctionsBySource.remove(e.XStringValue.create(i.getInstanceId()))}if(i.isMainQuery()&&e.notNull(o)){this.updateResponsesInBatchFunctions(o,t)}else{this.m_inaMergeResponseDispatcher.dispatchInAResponse(i,t)}};e.InAMergeProcessor.prototype.persistInADataProvider=function(t,n,r){let i=t.getRequestStructure();let o=t.getSourceInstanceIds();let s=e.PrFactory.createList();e.XStream.ofString(o).forEach(n=>{let r=n.getString();let i=this.m_inaMergeRegistryManager.getInASourceQuery(r);let a=i.getRequestStructure();let l=a.getStructureByKey(e.InAQueryMergeConstants.QY_ANALYTICS);l.putBoolean(e.InAQueryMergeConstants.QY_STANDALONE_INDICATOR,o.size()===1);if(!t.isStandAloneQuery()){l.getStructureByKey(e.InAQueryMergeConstants.QY_DATASOURCE).putString(e.InAQueryMergeConstants.TAG_GROUP_SIGNATURE,i.getGroupSignature());let t=i.getMeasureDimension();if(e.notNull(t)){let n=i.getMeasureDimensionName();let r=this.m_inaMergeRegistryManager.getKeyFieldOfDimension(n);let o=t.putNewStructure(e.InAQueryMergeConstants.TAG_MEASURE_METADATA_FOR_PERSISTED_INA);o.putString(e.InAQueryMergeConstants.QY_NAME,n);o.putString(e.InAQueryMergeConstants.QY_KEY_ATTRIBUTE,r);let s=i.getRestrictedMeasureSourceMeasureMap();let a=o.putNewStructure(e.InAQueryMergeConstants.TAG_MEASURE_MD_RESTRICTED_MEASURE_MAP);let l=s.getKeysAsReadOnlyList();for(let e=0;e<l.size();e++){let t=l.get(e);let n=s.getByKey(t);a.putString(t,n)}}}this.m_inaMergeRegistryManager.unregisterInASourceQuery(r);s.add(a)});let a=e.PrFactory.createStructure();if(!t.isStandAloneQuery()){a.put(e.InAQueryMergeConstants.TAG_MERGED_QUERY,i)}a.put(e.InAQueryMergeConstants.TAG_MERGE_QUERY_RESPONSE_RECEPIENTS,s);this.m_inaMergeRegistryManager.unregisterInADataProvider(t.getGroupSignature(),t.getInstanceId());r.add(a)};e.InAMergeProcessor.prototype.processInADataProviders=function(t,n){let r=this.m_processingMode;let i=e.XList.create();i.addAll(this.m_inaMergeRegistryManager.getInADataProviders());let o=this.m_inaMergeRegistryManager.getAllMainQueryInADataProviders();if(e.XCollectionUtils.hasElements(o)&&r!==e.InAMergeProcessingMode.MERGE_PERSIST){for(let n=0;n<o.size();n++){let r=o.get(n);i.removeElement(r.getInstanceId());if(!r.isPendingProcessing()){let n=e.XList.create();this.m_batchFunctionsBySource.put(e.XStringValue.create(r.getInstanceId()),n);n.add(this.executeInADataProvider(r,t,true));let o=e.XList.create();o.addAll(r.getSourceInstanceIds());this.addPreQueryExecution(t,r,n,i);let s=e.PrFactory.createStructure();let a=s.putNewList(e.ConnectionConstants.INA_BATCH);this.addQueriesToRequestList(a,n);let l=this.createInADataProviderRpcFunction(r.getConnectionContainer(),s,false);let u=l.getRpcRequest();u.setMethod(e.HttpRequestMethod.HTTP_POST);u.setAcceptContentType(e.ContentType.APPLICATION_JSON);u.setRequestStructure(s);this.collectProcessingHints(l,o);l.processFunctionExecution(t,this,r)}}}let s=e.XList.create();this.m_mergedDocumentBySystem.put(e.XStringValue.create(n),s);for(let o=0;o<i.size();o++){let a=i.get(o);let l=this.m_inaMergeRegistryManager.getInADataProvider(a);if(!l.isPendingProcessing()){if(r===e.InAMergeProcessingMode.MERGE_PERSIST){this.persistInADataProvider(l,n,s)}else{let e=!l.isPreQuery()&&!l.isMainQuery();if(e){this.executeInADataProvider(l,t,false)}}}}};e.InAMergeProcessor.prototype.processInAMerge=function(e,t){this.buildInADataProvidersFromSourceQueries(t);this.processInADataProviders(e,t)};e.InAMergeProcessor.prototype.registerAndMaintainInADataProvider=function(t){this.maintainInADataProviderState(t);let n=t.getRequestStructure().getStructureByKey(e.InAQueryMergeConstants.QY_ANALYTICS).getStructureByKey(e.InAQueryMergeConstants.QY_DEFINITION);let r=n.getStructureByKey(e.InAQueryMergeConstants.QY_RS_FEATURE_REQUEST).getBooleanByKeyExt(e.InAQueryMergeConstants.QY_RETURN_EMPTY_JSON_RESULTSET,false);let i=n.getListByKey(e.InAQueryMergeConstants.QY_DIMENSIONS);let o=e.XStream.of(i).filter(t=>t.getStructureByKey(e.InAQueryMergeConstants.QY_DATASOURCE)!==null).mapToString(t=>{let n=t;return n.getStructureByKey(e.InAQueryMergeConstants.QY_DATASOURCE).getStringByKey(e.InAQueryMergeConstants.QY_OBJECT_NAME)}).collect(e.XStreamCollector.toListOfString(e=>e.getStringRepresentation()));if(r){let r=n.getStringByKey(e.InAQueryMergeConstants.QY_NAME);t.setPreQueryName(r);t.setPreQueries(o);t.setAsPreQuery()}else if(e.notNull(o)&&o.hasElements()){t.setPreQueries(o);t.setAsMainQuery()}};e.InAMergeProcessor.prototype.releaseObject=function(){this.m_connectionPool=null;this.m_processingMode=null;this.m_inaMergeRegistryManager=e.XObjectExt.release(this.m_inaMergeRegistryManager);this.m_inaMergeRequestBuilder=e.XObjectExt.release(this.m_inaMergeRequestBuilder);this.m_inaMergeResponseDispatcher=e.XObjectExt.release(this.m_inaMergeResponseDispatcher);this.m_batchFunctionsBySource=e.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_batchFunctionsBySource);this.m_mergedDocumentBySystem=e.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_mergedDocumentBySystem);e.XObject.prototype.releaseObject.call(this)};e.InAMergeProcessor.prototype.setInAMergeProcessingMode=function(e){this.m_processingMode=e};e.InAMergeProcessor.prototype.setIsRequestsProcessed=function(e){this.m_isRequestsProcessed=e};e.InAMergeProcessor.prototype.setMergedPersistResponse=function(t,n){this.m_mergedDocumentBySystem.put(e.XStringValue.create(n),t)};e.InAMergeProcessor.prototype.setupInAMergeProcessor=function(t){this.m_connectionPool=t;this.m_processingMode=e.InAMergeProcessingMode.MERGE_EXECUTE;this.m_inaMergeRegistryManager=e.InAMergeRegistryManager.create();this.m_inaMergeRequestBuilder=e.InAMergeRequestBuilder.create(this.m_inaMergeRegistryManager);this.m_inaMergeResponseDispatcher=e.InAMergeResponseDispatcher.create(this.m_inaMergeRegistryManager);this.m_isRequestsProcessed=false;this.m_batchFunctionsBySource=e.XSimpleMap.create();this.m_mergedDocumentBySystem=e.XSimpleMap.create()};e.InAMergeProcessor.prototype.updateAllBatchFunctions=function(t,n,r){let i=r.size();if(e.notNull(t)){for(let e=0;e<i;e++){let n=r.get(e);let i=n.getRpcResponse();let o=t.getStructureAt(e);i.setRootElement(o,null);n.endSync()}}else{for(let e=0;e<i;e++){r.get(e).getRpcResponse().setRootElement(n,null)}}};e.InAMergeProcessor.prototype.updateQueryState=function(e,t){let n=e.getSourceInstanceIds();for(let e=0;e<n.size();e++){let r=n.get(e);let i=this.m_inaMergeRegistryManager.getInASourceQuery(r);i.setQueryState(t)}e.setQueryState(t)};e.InAMergeProcessor.prototype.updateResponsesInBatchFunctions=function(t,n){if(n.isValid()){let r=n.getData();let i=r.getRootElement();let o=i.getListByKey(e.ConnectionConstants.INA_BATCH);this.updateAllBatchFunctions(o,i,t)}};e.InAMergeProcessor.prototype.wrapRequestStructureAsBatch=function(t){let n=e.PrFactory.createStructure();let r=n.putNewList(e.InAQueryMergeConstants.QY_BATCH);r.add(t);return n};e.InAMergeProcessorSetupInitiator=function(){};e.InAMergeProcessorSetupInitiator.prototype=new e.InAMergeProcessorFactory;e.InAMergeProcessorSetupInitiator.prototype._ff_c="InAMergeProcessorSetupInitiator";e.InAMergeProcessorSetupInitiator.staticSetup=function(){e.InAMergeProcessorFactory.registerFactory(new e.InAMergeProcessorSetupInitiator)};e.InAMergeProcessorSetupInitiator.prototype.newInAMergeProcessor=function(t){return e.InAMergeProcessor.create(t)};e.InASourceQuery=function(){};e.InASourceQuery.prototype=new e.BasicInAQuery;e.InASourceQuery.prototype._ff_c="InASourceQuery";e.InASourceQuery.create=function(t,n,r,i){let o=new e.InASourceQuery;o.setupInASourceQuery(t,n,r,i);return o};e.InASourceQuery.prototype.m_hasMergeRestrictedMeasure=false;e.InASourceQuery.prototype.m_hasSourceMeasureFilter=false;e.InASourceQuery.prototype.m_measureMemberPositionCounter=0;e.InASourceQuery.prototype.m_membersPositionMap=null;e.InASourceQuery.prototype.m_restrictedMeasureSourceMeasureMap=null;e.InASourceQuery.prototype.addMeasureMemberName=function(t,n,r,i){if(e.XStringUtils.isNotNullAndNotEmpty(t)){if(n){this.m_hasMergeRestrictedMeasure=true}if(r){this.m_hasSourceMeasureFilter=true}if(e.XStringUtils.isNotNullAndNotEmpty(i)){this.m_restrictedMeasureSourceMeasureMap.put(t,i);let n=-1;for(let t=0;t<this.m_membersPositionMap.size();t++){let r=this.m_membersPositionMap.getByKey(e.XIntegerValue.create(t));if(e.XString.isEqual(i,r.getString())){n=t;break}}if(n!==-1){this.m_membersPositionMap.put(e.XIntegerValue.create(n),e.XStringValue.create(t))}}else{this.m_membersPositionMap.put(e.XIntegerValue.create(++this.m_measureMemberPositionCounter),e.XStringValue.create(t))}}};e.InASourceQuery.prototype.getMeasureMemberPositionMap=function(){return this.m_membersPositionMap};e.InASourceQuery.prototype.getRestrictedMeasureSourceMeasureMap=function(){return this.m_restrictedMeasureSourceMeasureMap};e.InASourceQuery.prototype.getSourceMemberName=function(e){return this.m_restrictedMeasureSourceMeasureMap.getByKey(e)};e.InASourceQuery.prototype.hasMeasureFilter=function(){return this.m_hasSourceMeasureFilter};e.InASourceQuery.prototype.hasMergeRestrictedMeasure=function(){return this.m_hasMergeRestrictedMeasure};e.InASourceQuery.prototype.releaseObject=function(){e.BasicInAQuery.prototype.releaseObject.call(this);this.m_membersPositionMap=e.XObjectExt.release(this.m_membersPositionMap);this.m_restrictedMeasureSourceMeasureMap=e.XObjectExt.release(this.m_restrictedMeasureSourceMeasureMap)};e.InASourceQuery.prototype.setupInASourceQuery=function(t,n,r,i){e.BasicInAQuery.prototype.setupBasicInAQuery.call(this,t,n,r,i);this.m_hasSourceMeasureFilter=false;this.m_hasMergeRestrictedMeasure=false;this.m_measureMemberPositionCounter=-1;this.m_membersPositionMap=e.XSimpleMap.create();this.m_restrictedMeasureSourceMeasureMap=e.XHashMapByString.create();let o=this.getRequestStructure().getStructureByKey(e.InAQueryMergeConstants.QY_ANALYTICS).getStructureByKey(e.InAQueryMergeConstants.QY_DEFINITION);let s=o.getStructureByKey(e.InAQueryMergeConstants.QY_RS_FEATURE_REQUEST).getBooleanByKeyExt(e.InAQueryMergeConstants.QY_RETURN_EMPTY_JSON_RESULTSET,false);if(s){this.setPreQueryName(o.getStringByKey(e.InAQueryMergeConstants.QY_NAME))}};e.BatchRequestManager=function(){};e.BatchRequestManager.prototype=new e.XObject;e.BatchRequestManager.prototype._ff_c="BatchRequestManager";e.BatchRequestManager.CONSTANT_ID=null;e.BatchRequestManager.INA_BATCH_ASYNC_HEARTBEAT_TRUE="true";e.BatchRequestManager.create=function(t){let n=new e.BatchRequestManager;n.m_session=t;n.m_batchFunctions=e.XList.create();n.m_preQueryNames=e.XHashSetOfString.create();n.m_microCubeNames=e.XHashSetOfString.create();return n};e.BatchRequestManager.prototype.m_batchFunctions=null;e.BatchRequestManager.prototype.m_batchFunctionsIdMapping=null;e.BatchRequestManager.prototype.m_batchModePath=null;e.BatchRequestManager.prototype.m_cacheHintsEnabled=false;e.BatchRequestManager.prototype.m_customIdentifier=null;e.BatchRequestManager.prototype.m_functionFactory=null;e.BatchRequestManager.prototype.m_listener=null;e.BatchRequestManager.prototype.m_microCubeNames=null;e.BatchRequestManager.prototype.m_preQueryNames=null;e.BatchRequestManager.prototype.m_session=null;e.BatchRequestManager.prototype.m_streamingGuid=null;e.BatchRequestManager.prototype.m_syncType=null;e.BatchRequestManager.prototype.addBatchFunction=function(e){this.m_batchFunctions.add(e)};e.BatchRequestManager.prototype.addMainClientInfoIfSupported=function(t){let n=this.m_functionFactory.supportsAnalyticCapability(e.InAConstantsBios.QY_CI_CLIENT_INFO);let r=this.m_functionFactory.supportsAnalyticCapability(e.InAConstantsBios.QY_CI_CLIENT_INFO_WITH_CONTEXT_ID);if(!r){let r=this.m_functionFactory.getProcess().getApplication();e.QInAClientInfo.exportClientInfo(t,r,n,false)}};e.BatchRequestManager.prototype.addMicroCubeName=function(e){this.m_microCubeNames.add(e)};e.BatchRequestManager.prototype.addPreQueryName=function(e){this.m_preQueryNames.add(e)};e.BatchRequestManager.prototype.addQueriesToRequestList=function(t){let n=this.m_batchFunctions.size();let r=n>1;for(let i=0;i<n;i++){let n=this.m_batchFunctions.get(i);let o=n.getRpcRequest();let s=o.getRequestStructure();let a=e.BatchRequestDecoratorFactory.getBatchRequestDecorator(this.m_session,s);if(e.isNull(a)){t.add(s);if(this.getInstanceId(s)===null){r=false}}else{r=false;n.setDecorator(a);let i=a.getRequestItems();if(e.notNull(i)){for(let e=0;e<i.size();e++){t.add(i.get(e))}}}}return r};e.BatchRequestManager.prototype.collectProcessingHints=function(t){let n=t.getRpcRequest().getProcessingHint();this.m_cacheHintsEnabled=n.getBooleanByKeyExt(e.ConnectionParameters.CACHE_HINTS_ENABLED,false);let r=n.putNewList(e.ConnectionConstants.INA_BATCH);let i=0;while(i<this.m_batchFunctions.size()){let t=this.m_batchFunctions.get(i);let n=t.getRpcRequest().getProcessingHint();r.add(n);this.m_cacheHintsEnabled=this.m_cacheHintsEnabled||n.getBooleanByKeyExt(e.ConnectionParameters.CACHE_HINTS_ENABLED,false);i++}};e.BatchRequestManager.prototype.containsPreQueryName=function(e){return this.m_preQueryNames.contains(e)};e.BatchRequestManager.prototype.createGuid=function(t){if(e.XStringUtils.isNotNullAndNotEmpty(e.BatchRequestManager.CONSTANT_ID)){return e.XStringUtils.concatenate2(e.BatchRequestManager.CONSTANT_ID,t)}return e.XGuid.getGuid()};e.BatchRequestManager.prototype.endFunctions=function(e,t,n){let r=e.size();for(let i=0;i<r;i++){let r=e.get(i);r.addAllMessages(t);r.addAllMessages(n);r.endSync()}};e.BatchRequestManager.prototype.ensureUniqueInstanceIds=function(){this.m_batchFunctionsIdMapping=e.XHashMapByString.create();let t=this.m_batchFunctions.size();for(let n=0;n<t;n++){let t=this.m_batchFunctions.get(n);let r=t.getRpcRequest().getRequestStructure();let i=this.getInstanceId(r);if(this.m_batchFunctionsIdMapping.containsKey(i)||e.XStringUtils.isNotNullAndNotEmpty(e.BatchRequestManager.CONSTANT_ID)){i=this.createGuid(e.XInteger.convertToString(n));this.getDataSource(r).putString(e.ConnectionConstants.INA_INSTANCE_ID,i)}this.m_batchFunctionsIdMapping.put(i,t)}};e.BatchRequestManager.prototype.executeBatch=function(t,n,r,i,o,s){this.removeExecutedFunctions();this.m_preQueryNames.clear();let a=n.getProcess().getApplication();let l=a.getOlapEnvironment();l.clearTransientQueryManager();this.m_listener=o;this.m_customIdentifier=s;if(!e.XCollectionUtils.hasElements(this.m_batchFunctions)){this.onBatchFinished();return}this.m_syncType=t;this.m_functionFactory=n;this.m_batchModePath=r;let u=e.PrFactory.createStructure();let c=u.putNewList(e.ConnectionConstants.INA_BATCH);let p=this.addQueriesToRequestList(c);this.addMainClientInfoIfSupported(u);if(i&&p){this.m_streamingGuid=this.createGuid(null);this.ensureUniqueInstanceIds();let t=u.putNewStructure(e.ConnectionConstants.INA_BATCH_ASYNC_RESPONSE_REQUEST);t.putString(e.ConnectionConstants.INA_BATCH_ID,this.m_streamingGuid);if(n.supportsAnalyticCapability(e.ConnectionConstants.INA_CAPABILITY_SUPPORTS_BATCH_RS_STREAMING_HEARTBEAT)&&n.getSession().hasFeature(e.FeatureToggleOlap.ASYNC_BATCH_REQUEST_HEARTBEAT)){t.putString(e.ConnectionConstants.INA_BATCH_HEARTBEAT,e.BatchRequestManager.INA_BATCH_ASYNC_HEARTBEAT_TRUE)}}let g=n.newRpcFunctionInternal(r,false);let y=g.getRpcRequest();y.setMethod(e.HttpRequestMethod.HTTP_POST);y.setAcceptContentType(e.ContentType.APPLICATION_JSON);y.setRequestStructure(u);this.collectProcessingHints(g);g.processFunctionExecution(t,this,null)};e.BatchRequestManager.prototype.executeNextStreamingRequest=function(){let t=e.PrFactory.createStructure();let n=t.putNewStructure(e.ConnectionConstants.INA_ANALYTICS);let r=n.putNewList(e.ConnectionConstants.INA_ACTIONS);let i=r.addNewStructure();i.putString(e.ConnectionConstants.INA_TYPE,e.ConnectionConstants.INA_BATCH_NEXT_ASYNC_RESPONSE);i.putString(e.ConnectionConstants.INA_BATCH_ID,this.m_streamingGuid);this.addMainClientInfoIfSupported(t);let o=i.putNewList(e.ConnectionConstants.INA_BATCH);e.XStream.of(this.m_batchFunctions).map(e=>e.getRpcRequest().getRequestStructure()).filter(e=>this.getDataSource(e)!==null).forEach(t=>{let n=o.addNewStructure();let r=t.getStructureByKey(e.InAConstantsBios.QY_CI_CLIENT_INFO);if(e.notNull(r)){n.put(e.InAConstantsBios.QY_CI_CLIENT_INFO,r)}let i=this.getStructureRootKey(t);if(e.notNull(i)){n=n.putNewStructure(i)}n.put(e.ConnectionConstants.INA_DATA_SOURCE,this.getDataSource(t))});let s=this.m_functionFactory.newRpcFunctionInternal(this.m_batchModePath,false);let a=s.getRpcRequest();a.setMethod(e.HttpRequestMethod.HTTP_POST);a.setAcceptContentType(e.ContentType.APPLICATION_JSON);a.setRequestStructure(t);a.getProcessingHint().putBoolean(e.ConnectionParameters.CACHE_HINTS_ENABLED,this.m_cacheHintsEnabled);s.processFunctionExecution(this.m_syncType,this,null)};e.BatchRequestManager.prototype.getBatchFunctions=function(){let t=e.XList.create();for(let e=0;e<this.m_batchFunctions.size();e++){t.add(this.m_batchFunctions.get(e))}return t};e.BatchRequestManager.prototype.getDataSource=function(t){let n=this.getStructureRootKey(t);if(e.notNull(n)){return t.getStructureByKey(n).getStructureByKey(e.ConnectionConstants.INA_DATA_SOURCE)}return e.notNull(t)?t.getStructureByKey(e.ConnectionConstants.INA_DATA_SOURCE):null};e.BatchRequestManager.prototype.getInstanceId=function(t){let n=this.getDataSource(t);if(e.notNull(n)){return n.getStringByKey(e.ConnectionConstants.INA_INSTANCE_ID)}return null};e.BatchRequestManager.prototype.getMicroCubesNames=function(){return this.m_microCubeNames};e.BatchRequestManager.prototype.getStructureRootKey=function(t){if(e.isNull(t)){return null}if(t.containsKey(e.ConnectionConstants.INA_ANALYTICS)){return e.ConnectionConstants.INA_ANALYTICS}if(t.containsKey(e.ConnectionConstants.INA_LIST_REPORTING)){return e.ConnectionConstants.INA_LIST_REPORTING}if(t.containsKey(e.ConnectionConstants.INA_METADATA)){return e.ConnectionConstants.INA_METADATA}if(t.containsKey(e.ConnectionConstants.INA_CUBE)){return e.ConnectionConstants.INA_CUBE}if(t.containsKey(e.ConnectionConstants.INA_DS_VALIDATION)){return e.ConnectionConstants.INA_DS_VALIDATION}return null};e.BatchRequestManager.prototype.isRsStreamingEnabled=function(){return e.notNull(this.m_streamingGuid)};e.BatchRequestManager.prototype.isValidBatchStreamingResponse=function(t){let n=t.getStructureByKey(e.ConnectionConstants.INA_BATCH_ASYNC_RESPONSE_REQUEST);if(e.notNull(n)){let t=n.getStringByKey(e.ConnectionConstants.INA_BATCH_ID);return e.notNull(t)&&e.XString.isEqual(t,this.m_streamingGuid)}return false};e.BatchRequestManager.prototype.onBatchFinished=function(){if(e.notNull(this.m_listener)){this.m_listener.onBatchExecuted(this.m_customIdentifier)}e.XObjectExt.release(this)};e.BatchRequestManager.prototype.onFunctionExecuted=function(t,n,r){e.XBooleanUtils.checkFalse(this.m_batchFunctions.isReleased(),"Fatal error: Batch functions object is not valid anymore");let i=this.updateResponsesInBatchFunctions(t);let o=i.getData();this.endFunctions(o,t,i);this.removeExecutedFunctions();if(this.isRsStreamingEnabled()&&this.m_batchFunctions.hasElements()){if(t.isValid()&&i.isValid()){this.executeNextStreamingRequest()}else{this.endFunctions(this.m_batchFunctions,t,i);this.onBatchFinished()}}else{this.onBatchFinished()}e.XObjectExt.release(o)};e.BatchRequestManager.prototype.releaseObject=function(){e.XObject.prototype.releaseObject.call(this);this.m_session=null;this.m_batchFunctions=null;this.m_batchFunctionsIdMapping=null;this.m_streamingGuid=null;this.m_functionFactory=null;this.m_batchModePath=null;this.m_syncType=null;this.m_listener=null;this.m_customIdentifier=null;this.m_microCubeNames=e.XObjectExt.release(this.m_microCubeNames);this.m_preQueryNames=e.XObjectExt.release(this.m_preQueryNames)};e.BatchRequestManager.prototype.removeBatchFunction=function(e){this.m_batchFunctions.removeElement(e)};e.BatchRequestManager.prototype.removeExecutedFunctions=function(){let t=0;while(t<this.m_batchFunctions.size()){let n=this.m_batchFunctions.get(t);let r=n.getRpcRequest().getRequestStructure();if(n.getSyncState()!==e.SyncState.PROCESSING||e.isNull(r)||r.isReleased()){this.m_batchFunctions.removeAt(t);continue}t++}};e.BatchRequestManager.prototype.updateAllBatchFunctions=function(t,n){let r=this.m_batchFunctions.size();if(e.notNull(t)){let n=0;for(let i=0;i<r;i++){let r=this.m_batchFunctions.get(i);let o=r.getRpcResponse();let s=r.getDecorator();if(e.isNull(s)){let e=t.getStructureAt(n);o.setRootElement(e,null);n++}else{let r=s.getItemsSize();let i=e.XList.create();for(let e=0;e<r;e++){let r=t.getStructureAt(n+e);i.add(r)}let a=s.buildResponse(i);o.setRootElement(a,null);n=n+r}}}else{for(let e=0;e<r;e++){this.m_batchFunctions.get(e).getRpcResponse().setRootElement(n,null)}}};e.BatchRequestManager.prototype.updateRespondedBatchFunctions=function(t,n,r){let i=e.XList.create();if(e.notNull(t)&&t.hasElements()){let n=t.size();for(let o=0;o<n;o++){let n=t.getStructureAt(o);let s=this.getInstanceId(n);let a=this.m_batchFunctionsIdMapping.getByKey(s);if(e.notNull(a)){a.getRpcResponse().setRootElement(n,null);i.add(a)}else{r.addError(0,"Request not found for response")}}}if(!this.isValidBatchStreamingResponse(n)){r.addError(0,"Response does not contain correct batch id")}return e.ExtResult.create(i,r)};e.BatchRequestManager.prototype.updateResponsesInBatchFunctions=function(t){let n=null;if(t.isValid()){let r=t.getData();let i=r.getRootElement();let o=i.getListByKey(e.ConnectionConstants.INA_BATCH);n=e.MessageManager.createMessageManagerExt(this.m_session);e.InAHelper.importMessages(i,n);if(this.isRsStreamingEnabled()){return this.updateRespondedBatchFunctions(o,i,n)}this.updateAllBatchFunctions(o,i)}return e.ExtResult.create(this.m_batchFunctions,n)};e.BatchRequestManagerInAFactory=function(){};e.BatchRequestManagerInAFactory.prototype=new e.BatchRequestManagerFactory;e.BatchRequestManagerInAFactory.prototype._ff_c="BatchRequestManagerInAFactory";e.BatchRequestManagerInAFactory.staticSetupBatchInAFactory=function(){e.BatchRequestManagerFactory.registerFactory(new e.BatchRequestManagerInAFactory)};e.BatchRequestManagerInAFactory.prototype.newBatchRequestManager=function(t){return e.BatchRequestManager.create(t)};e.ServiceType=function(){};e.ServiceType.prototype=new e.ServiceTypeInfo;e.ServiceType.prototype._ff_c="ServiceType";e.ServiceType.createType=function(t){let n=new e.ServiceType;let r=e.XStringUtils.concatenate3(e.RegistrationService.SERVICE_CONFIG,".",t);let i=e.XStringUtils.concatenate3(e.RegistrationService.SERVICE,".",t);n.setupExt(r,i);return n};e.ServiceType.prototype.m_serviceReferenceName=null;e.ServiceType.prototype.m_srvConfigReferenceName=null;e.ServiceType.prototype.createServiceConfig=function(e){return this.createServiceConfigInternal(e)};e.ServiceType.prototype.getServiceConfigReferenceName=function(){return this.m_srvConfigReferenceName};e.ServiceType.prototype.getServiceReferenceName=function(){return this.m_serviceReferenceName};e.ServiceType.prototype.setupExt=function(e,t){this.m_srvConfigReferenceName=e;this.m_serviceReferenceName=t};e.ServiceType.prototype.toString=function(){let t=e.XStringBuffer.create();if(e.notNull(this.m_srvConfigReferenceName)){t.appendLine(this.m_srvConfigReferenceName)}if(e.notNull(this.m_serviceReferenceName)){t.appendLine(this.m_serviceReferenceName)}return t.toString()};e.DfLambdaServiceCreationListener=function(){};e.DfLambdaServiceCreationListener.prototype=new e.XObject;e.DfLambdaServiceCreationListener.prototype._ff_c="DfLambdaServiceCreationListener";e.DfLambdaServiceCreationListener.create=function(t){let n=new e.DfLambdaServiceCreationListener;n.m_consumer=t;return n};e.DfLambdaServiceCreationListener.prototype.m_consumer=null;e.DfLambdaServiceCreationListener.prototype.onServiceCreation=function(e,t,n){this.m_consumer(e)};e.DfLambdaServiceCreationListener.prototype.releaseObject=function(){this.m_consumer=null;e.XObject.prototype.releaseObject.call(this)};e.DcsUsageTracker=function(){};e.DcsUsageTracker.prototype=new e.XObject;e.DcsUsageTracker.prototype._ff_c="DcsUsageTracker";e.DcsUsageTracker.MAX_INTERVAL=6e5;e.DcsUsageTracker.create=function(){let t=new e.DcsUsageTracker;t.m_interval=2e4;t.m_enabled=false;t.m_failedCount=0;t.setup();return t};e.DcsUsageTracker.prototype.eventQueue=null;e.DcsUsageTracker.prototype.m_dcsUrl=null;e.DcsUsageTracker.prototype.m_dispatcher=null;e.DcsUsageTracker.prototype.m_enabled=false;e.DcsUsageTracker.prototype.m_failedCount=0;e.DcsUsageTracker.prototype.m_interval=0;e.DcsUsageTracker.prototype.m_language=null;e.DcsUsageTracker.prototype.m_productVersion=null;e.DcsUsageTracker.prototype.m_requestRunning=false;e.DcsUsageTracker.prototype.m_session=null;e.DcsUsageTracker.prototype.m_syncType=null;e.DcsUsageTracker.prototype.m_tenantId=null;e.DcsUsageTracker.prototype.m_timerHandle=null;e.DcsUsageTracker.prototype.m_xlang=null;e.DcsUsageTracker.prototype.addCommonFacts=function(t){t.putString("applicationtype","service");t.putString("applicationname","firefly");t.putString("fireflyversion",e.XLibVersionUtil.getLibVersion(this.getSession()));t.putString("productversion",this.getProductVersion());t.putString("xlang",this.mapXLang());t.putString("tenantid",this.getTenantId());t.putString("os",e.XSystemUtils.getOsName());t.putString("language",this.getLanguage());t.putString("userid","");let n=e.NetworkEnv.getLocation();let r="N/A";if(e.notNull(n)&&e.XStringUtils.isNotNullAndNotEmpty(n.getHost())){r=n.getHost()}t.putString("publichost",r);t.putNewList("actiondata")};e.DcsUsageTracker.prototype.addEvent=function(t,n,r){let i=new e.UTEvent;i.setSession(r);i.setEventId(t);i.setEventTime(e.XDateTime.createCurrentLocalDateTime());i.setFeature(n.getByKey("feature"));i.setParameters(n);this.eventQueue.add(i)};e.DcsUsageTracker.prototype.buildContent=function(){let t=e.PrFactory.createStructure();this.addCommonFacts(t);let n=t.getListByKey("actiondata");let r=this.eventQueue.size();for(let t=0;t<r;t++){let r=e.PrFactory.createStructure();n.add(r);let i=this.eventQueue.get(t);let o=i.getParameters();r.putString("action",i.getEventId());r.putString("feature",i.getFeature());let s=i.getErrorSize();r.putInteger("numoferrormessages",s);if(s>0){let t=e.XStringBuffer.create();let n=i.getErrors().getKeysAsIterator();while(n.hasNext()){let e=n.next();t.append(e).append(":").append(i.getErrors().getByKey(e)).append(";")}r.putString("errormessages",t.toString())}let a=i.getEventTime().toIsoFormatWithFractions(3);r.putString("actiontimestamp",e.XString.replace(a,"T"," "));r.putString("sessionid",i.getSession().getSessionGuid());r.putInteger("actionduration",0);r.putInteger("xversion",this.getSession().getXVersion());let l=r.putNewList("options");let u=o.getKeysAsIterator();while(u.hasNext()){let t=u.next();if(e.XString.compare(t,"actionId")!==0&&e.XString.compare(t,"feature")!==0){let e=l.addNewStructure();e.putString("param",t);e.putString("value",o.getByKey(t))}}}this.eventQueue.clear();return e.PrUtils.serialize(t,true,true,0)};e.DcsUsageTracker.prototype.cancelTimer=function(){this.m_dispatcher.unregisterInterval(this.m_timerHandle);this.m_timerHandle=e.XObjectExt.release(this.m_timerHandle)};e.DcsUsageTracker.prototype.checkTimer=function(){if(this.m_requestRunning){return}if(e.notNull(this.m_timerHandle)){return}let t=e.XDouble.convertToInt(this.m_interval*e.XMath.pow(2,this.m_failedCount));this.m_timerHandle=this.m_dispatcher.registerTimer(e.XMath.min(t,e.DcsUsageTracker.MAX_INTERVAL),this,null)};e.DcsUsageTracker.prototype.createHttpRequest=function(){let t=e.HttpRequest.create();t.setMethod(e.HttpRequestMethod.HTTP_POST);t.setFromUri(this.getDscUri());t.setContentType(e.ContentType.APPLICATION_JSON);t.setString(this.buildContent());return t};e.DcsUsageTracker.prototype.getDscUri=function(){if(e.isNull(this.m_dcsUrl)){let t=e.NetworkEnv.getLocation();if(e.isNull(t)){throw e.XException.createIllegalArgumentException("Data Collection Url must be provided")}this.m_dcsUrl=e.XUri.createFromOther(t);this.m_dcsUrl.setPath("/datacollection/api/v2/application/data");this.m_dcsUrl.setQuery("")}return this.m_dcsUrl};e.DcsUsageTracker.prototype.getLanguage=function(){return e.notNull(this.m_language)?this.m_language:"N/A"};e.DcsUsageTracker.prototype.getProductVersion=function(){return this.m_productVersion};e.DcsUsageTracker.prototype.getSession=function(){if(e.isNull(this.m_session)){this.m_session=e.DefaultSession.create()}return this.m_session};e.DcsUsageTracker.prototype.getSyncType=function(){if(e.isNull(this.m_syncType)){this.m_syncType=e.SyncType.NON_BLOCKING}return this.m_syncType};e.DcsUsageTracker.prototype.getTenantId=function(){return this.m_tenantId};e.DcsUsageTracker.prototype.isEnabled=function(){return this.m_enabled};e.DcsUsageTracker.prototype.mapXLang=function(){if(e.isNull(this.m_xlang)){let t=e.XLanguage.getLanguage();if(t===e.XLanguage.JAVASCRIPT){this.m_xlang="js"}else if(t===e.XLanguage.TYPESCRIPT){this.m_xlang="ts"}else if(t===e.XLanguage.JAVA){this.m_xlang="java"}else if(t===e.XLanguage.CSHARP){this.m_xlang="csharp"}else if(t===e.XLanguage.CPP){this.m_xlang="cpp"}else if(t===e.XLanguage.OBJECTIVE_C){this.m_xlang="objc"}}return this.m_xlang};e.DcsUsageTracker.prototype.onHttpResponse=function(e,t,n){if(t.getStatusCode()!==202){this.m_failedCount=this.m_failedCount===10?10:this.m_failedCount+1}else{this.m_failedCount=0}this.m_requestRunning=false;this.cancelTimer()};e.DcsUsageTracker.prototype.onTimerEvent=function(e,t){this.process()};e.DcsUsageTracker.prototype.process=function(){if(this.eventQueue.isEmpty()){this.cancelTimer();return}let e=this.createHttpRequest();let t=e.newHttpClient(this.getSession());this.m_requestRunning=true;t.processHttpRequest(this.getSyncType(),this,null)};e.DcsUsageTracker.prototype.setDcsUrl=function(t){this.m_dcsUrl=e.XUri.createFromUrl(t)};e.DcsUsageTracker.prototype.setDispatcher=function(e){this.m_dispatcher=e};e.DcsUsageTracker.prototype.setEnabled=function(e){this.m_enabled=e};e.DcsUsageTracker.prototype.setInterval=function(e){this.m_interval=e};e.DcsUsageTracker.prototype.setLanguage=function(e){this.m_language=e};e.DcsUsageTracker.prototype.setProductVersion=function(e){this.m_productVersion=e};e.DcsUsageTracker.prototype.setSyncType=function(e){this.m_syncType=e};e.DcsUsageTracker.prototype.setTenantId=function(e){this.m_tenantId=e};e.DcsUsageTracker.prototype.setup=function(){this.eventQueue=e.XList.create();this.m_dispatcher=e.Dispatcher.getInstance()};e.DcsUsageTracker.prototype.track=function(t){if(!this.isEnabled()){return}if(t.getEventTime()===null){t.setEventTime(e.XDateTime.createCurrentLocalDateTime())}this.eventQueue.add(t);this.checkTimer()};e.DcsUsageTracker.prototype.trackUsage=function(e,t,n){if(!this.isEnabled()){return}this.addEvent(e,t,n);this.checkTimer()};e.UTEvent=function(){};e.UTEvent.prototype=new e.XObject;e.UTEvent.prototype._ff_c="UTEvent";e.UTEvent.prototype.errors=null;e.UTEvent.prototype.eventTime=null;e.UTEvent.prototype.host=null;e.UTEvent.prototype.m_eventId=null;e.UTEvent.prototype.m_feature=null;e.UTEvent.prototype.m_parameters=null;e.UTEvent.prototype.session=null;e.UTEvent.prototype.tenantId=null;e.UTEvent.prototype.getErrorSize=function(){if(e.notNull(this.errors)){return this.errors.size()}return 0};e.UTEvent.prototype.getErrors=function(){return this.errors};e.UTEvent.prototype.getEventId=function(){return this.m_eventId};e.UTEvent.prototype.getEventTime=function(){return this.eventTime};e.UTEvent.prototype.getFeature=function(){return this.m_feature};e.UTEvent.prototype.getHost=function(){return this.host};e.UTEvent.prototype.getParameters=function(){return this.m_parameters};e.UTEvent.prototype.getSession=function(){return this.session};e.UTEvent.prototype.getTenantId=function(){return this.tenantId};e.UTEvent.prototype.setErrors=function(e){this.errors=e};e.UTEvent.prototype.setEventId=function(e){this.m_eventId=e};e.UTEvent.prototype.setEventTime=function(e){this.eventTime=e};e.UTEvent.prototype.setFeature=function(e){this.m_feature=e};e.UTEvent.prototype.setHost=function(e){this.host=e};e.UTEvent.prototype.setParameters=function(e){this.m_parameters=e};e.UTEvent.prototype.setSession=function(e){this.session=e};e.UTEvent.prototype.setTenantId=function(e){this.tenantId=e};e.DfApplicationContext=function(){};e.DfApplicationContext.prototype=new e.XObjectExt;e.DfApplicationContext.prototype._ff_c="DfApplicationContext";e.DfApplicationContext.prototype.m_application=null;e.DfApplicationContext.prototype.getApplication=function(){return e.XWeakReferenceUtil.getHardRef(this.m_application)};e.DfApplicationContext.prototype.getLogWriter=function(){let t=this.getSession();if(e.notNull(t)){return t.getLogWriter()}return null};e.DfApplicationContext.prototype.getProcess=function(){let t=this.getApplication();return e.isNull(t)?null:t.getProcess()};e.DfApplicationContext.prototype.getSession=function(){let t=this.getApplication();return e.isNull(t)?null:t.getSession()};e.DfApplicationContext.prototype.releaseObject=function(){this.m_application=null;e.XObjectExt.prototype.releaseObject.call(this)};e.DfApplicationContext.prototype.setApplication=function(t){this.m_application=e.XWeakReferenceUtil.getWeakRef(t)};e.DfApplicationContext.prototype.setupApplicationContext=function(e){this.setApplication(e)};e.DfApplicationContext.prototype.toString=function(){return e.isNull(this.m_application)?"":this.m_application.toString()};e.DfApplicationContextHard=function(){};e.DfApplicationContextHard.prototype=new e.XObjectExt;e.DfApplicationContextHard.prototype._ff_c="DfApplicationContextHard";e.DfApplicationContextHard.prototype.m_application=null;e.DfApplicationContextHard.prototype.getApplication=function(){return this.m_application};e.DfApplicationContextHard.prototype.getLogWriter=function(){let t=this.getSession();if(e.notNull(t)){return t.getLogWriter()}return null};e.DfApplicationContextHard.prototype.getSession=function(){let t=this.getApplication();return e.isNull(t)?null:t.getSession()};e.DfApplicationContextHard.prototype.releaseObject=function(){this.m_application=null;e.XObjectExt.prototype.releaseObject.call(this)};e.DfApplicationContextHard.prototype.setApplication=function(e){this.m_application=e};e.DfApplicationContextHard.prototype.setupApplicationContext=function(e){this.setApplication(e)};e.DfApplicationContextHard.prototype.toString=function(){return e.isNull(this.m_application)?"":this.m_application.toString()};e.RepoMountPoint=function(){};e.RepoMountPoint.prototype=new e.DfNameObject;e.RepoMountPoint.prototype._ff_c="RepoMountPoint";e.RepoMountPoint.create=function(t,n,r){let i=new e.RepoMountPoint;i.setupExt(t,n,r);return i};e.RepoMountPoint.createConditional=function(t,n,r,i){let o=e.XUri.createFromFilePath(t,i,e.PathFormat.AUTO_DETECT,e.VarResolveMode.DOLLAR,null);if(e.notNull(o)){return e.RepoMountPoint.create(n,r,o)}else{return null}};e.RepoMountPoint.prototype.m_type=null;e.RepoMountPoint.prototype.m_uri=null;e.RepoMountPoint.prototype.getMountType=function(){return this.m_type};e.RepoMountPoint.prototype.getUri=function(){return this.m_uri};e.RepoMountPoint.prototype.setupExt=function(e,t,n){this._setupInternal(t);this.m_uri=n;this.m_type=e};e.ApplicationSystemOption=function(){};e.ApplicationSystemOption.prototype=new e.XConstant;e.ApplicationSystemOption.prototype._ff_c="ApplicationSystemOption";e.ApplicationSystemOption.AUTO=null;e.ApplicationSystemOption.LOCATION_AND_TYPE=null;e.ApplicationSystemOption.NONE=null;e.ApplicationSystemOption.PATH=null;e.ApplicationSystemOption.staticSetup=function(){e.ApplicationSystemOption.NONE=e.XConstant.setupName(new e.ApplicationSystemOption,"None");e.ApplicationSystemOption.AUTO=e.XConstant.setupName(new e.ApplicationSystemOption,"Auto");e.ApplicationSystemOption.PATH=e.XConstant.setupName(new e.ApplicationSystemOption,"Path");e.ApplicationSystemOption.LOCATION_AND_TYPE=e.XConstant.setupName(new e.ApplicationSystemOption,"LocationAndType")};e.DfApplicationProgram=function(){};e.DfApplicationProgram.prototype=new e.DfProgram;e.DfApplicationProgram.prototype._ff_c="DfApplicationProgram";e.DfApplicationProgram.PARAM_ENABLE_CACHES="EnableCaches";e.DfApplicationProgram.PARAM_SYS_USE_MIRRORS="UseMirrors";e.DfApplicationProgram.PARAM_TRACE_NAME="TraceName";e.DfApplicationProgram.prototype.m_application=null;e.DfApplicationProgram.prototype.m_masterSystemName=null;e.DfApplicationProgram.prototype.m_releaseApplication=false;e.DfApplicationProgram.prototype.m_systemLandscapePath=null;e.DfApplicationProgram.prototype.m_systemOption=null;e.DfApplicationProgram.prototype.m_traceName=null;e.DfApplicationProgram.prototype.m_useMirrors=false;e.DfApplicationProgram.prototype._doSetupDefaultProgramArguments=function(t){e.DfProgram.prototype._doSetupDefaultProgramArguments.call(this,t);t.addOption(e.DfApplicationProgram.PARAM_TRACE_NAME,"The trace name","name",e.XValueType.STRING);t.addOption(e.DfApplicationProgram.PARAM_ENABLE_CACHES,"Enables the cache","true|false",e.XValueType.BOOLEAN);t.addOption(e.DfApplicationProgram.PARAM_SYS_USE_MIRRORS,"Using the system mirrors","true|false",e.XValueType.BOOLEAN);t.addOption(e.DfProgram.PARAM_SYS_LANDSCAPE,"The system landscape","true|false",e.XValueType.BOOLEAN)};e.DfApplicationProgram.prototype._initializeSpecificProgram=function(){e.DfProgram.prototype._initializeSpecificProgram.call(this);if(this.isShowHelp()===false){if(this.getApplication()===null){let t=this.getProcess();let n;let r=this.getSystemOption();let i=this.getSystemLandscapeUrl();let o=this.getInitialSystemType();if(r===e.ApplicationSystemOption.LOCATION_AND_TYPE&&e.notNull(o)){n=e.ApplicationFactory.createApplicationExt2(e.SyncType.BLOCKING,null,null,null,t,e.XVersion.MAX,o,"master",null,null,r,false,null,false);this.setApplicationExt(n.getData(),true);e.XObjectExt.release(n)}else if(r===e.ApplicationSystemOption.PATH&&e.notNull(i)){n=e.ApplicationFactory.createApplicationExt2(e.SyncType.BLOCKING,null,null,null,t,e.XVersion.MAX,null,null,null,i,e.ApplicationSystemOption.PATH,false,null,false);if(n.hasErrors()){this.log("Error during application initialization");this.log(n.getSummary())}else{this.setApplicationExt(n.getData(),true);let t=this.getApplication().getSystemLandscape();let r=this.getMasterSystemName();if(e.notNull(r)){t.setDefaultSystemName(e.SystemRole.MASTER,r)}if(this.useMirrors()){t.replaceOriginsWithMirror()}}e.XObjectExt.release(n)}let s=this.getApplication();if(e.isNull(s)){n=e.ApplicationFactory.createApplicationExt2(e.SyncType.BLOCKING,null,null,null,t,e.XVersion.MAX,null,null,null,null,e.ApplicationSystemOption.NONE,false,null,false);this.setApplicationExt(n.getData(),true);e.XObjectExt.release(n)}if(e.notNull(s)){if(e.notNull(this.m_traceName)){s.setApplicationName(this.m_traceName);let t=s.getConnectionPool();let n=s.getSystemLandscape().getSystemNames();for(let r=0;r<n.size();r++){let i=e.TraceInfo.create();i.setTraceType(e.TraceType.URL);i.setTraceName(this.m_traceName);t.setTraceInfo(n.get(r),i)}}}}}};e.DfApplicationProgram.prototype._prepareDefaultArguments=function(){e.DfProgram.prototype._prepareDefaultArguments.call(this);let t=this.getArguments();this.m_traceName=t.getStringByKeyExt(e.DfApplicationProgram.PARAM_TRACE_NAME,this.m_traceName);this.m_useMirrors=t.getBooleanByKeyExt(e.DfApplicationProgram.PARAM_SYS_USE_MIRRORS,this.m_useMirrors);this.m_systemLandscapePath=t.getStringByKeyExt(e.DfProgram.PARAM_SYS_LANDSCAPE,this.m_systemLandscapePath);if(e.isNull(this.m_systemOption)){if(e.notNull(this.m_systemLandscapePath)){this.m_systemOption=e.ApplicationSystemOption.PATH}else if(this.getInitialSystemType()!==null){this.m_systemOption=e.ApplicationSystemOption.LOCATION_AND_TYPE}else{this.m_systemOption=e.ApplicationSystemOption.NONE}}};e.DfApplicationProgram.prototype.getApplication=function(){return this.m_application};e.DfApplicationProgram.prototype.getComponentType=function(){return e.RuntimeComponentType.APPLICATION_PROGRAM};e.DfApplicationProgram.prototype.getDefaultContainerType=function(){return e.ProgramContainerType.NONE};e.DfApplicationProgram.prototype.getMasterSystemName=function(){return this.m_masterSystemName};e.DfApplicationProgram.prototype.getProgramType=function(){return e.ProgramType.BACKGROUND};e.DfApplicationProgram.prototype.getSystemLandscapeUrl=function(){return this.m_systemLandscapePath};e.DfApplicationProgram.prototype.getSystemOption=function(){return this.m_systemOption};e.DfApplicationProgram.prototype.getTraceName=function(){return this.m_traceName};e.DfApplicationProgram.prototype.releaseObject=function(){this.m_traceName=null;if(this.m_releaseApplication===true){this.m_application=e.XObjectExt.release(this.m_application)}e.DfProgram.prototype.releaseObject.call(this)};e.DfApplicationProgram.prototype.setApplication=function(e){this.setApplicationExt(e,false)};e.DfApplicationProgram.prototype.setApplicationExt=function(t,n){if(e.notNull(t)&&this.getSession()===null){this.setProcess(t.getProcess())}this.m_application=t;this.m_releaseApplication=n};e.DfApplicationProgram.prototype.setMasterSystemName=function(e){this.m_masterSystemName=e};e.DfApplicationProgram.prototype.setSystemLandscapeUrl=function(e){this.m_systemLandscapePath=e};e.DfApplicationProgram.prototype.setSystemOption=function(e){this.m_systemOption=e};e.DfApplicationProgram.prototype.setTraceName=function(e){this.m_traceName=e};e.DfApplicationProgram.prototype.setUseMirrors=function(e){this.m_useMirrors=e};e.DfApplicationProgram.prototype.setup=function(){e.DfProgram.prototype.setup.call(this);this.m_useMirrors=false;this.m_masterSystemName="gipsy";this.m_systemOption=e.ApplicationSystemOption.NONE};e.DfApplicationProgram.prototype.setupProcess=function(){return null};e.DfApplicationProgram.prototype.useMirrors=function(){return this.m_useMirrors};e.RepoMountType=function(){};e.RepoMountType.prototype=new e.XConstant;e.RepoMountType.prototype._ff_c="RepoMountType";e.RepoMountType.FILE=null;e.RepoMountType.staticSetup=function(){e.RepoMountType.FILE=e.XConstant.setupName(new e.RepoMountType,"File")};e.RepositoryManager=function(){};e.RepositoryManager.prototype=new e.DfApplicationContext;e.RepositoryManager.prototype._ff_c="RepositoryManager";e.RepositoryManager.create=function(t){let n=new e.RepositoryManager;n.setupApplicationContext(t);return n};e.RepositoryManager.prototype.m_location=null;e.RepositoryManager.prototype.getLocation=function(){return this.m_location};e.RepositoryManager.prototype.newRpcFunction=function(t){let n=this.getApplication();let r=n.getRepositoryManager();let i=r.getLocation();let o;if(e.isNull(i)){o=e.XUri.createFromUrl(t)}else{o=e.XUri.createFromParentUriAndRelativeUrl(i,t,false)}let s=o.getUrlExt(true,true,true,true,true,true,false,false,false);let a=e.XUri.createFromUrl(s);let l=o.getUrlExt(false,false,false,false,false,false,true,true,true);let u=n.getSystemLandscape();let c=e.XStringUtils.concatenate3("##Tmp#",e.XGuid.getGuid(),"##");u.setSystemByUri(c,a,e.SystemType.GENERIC);let p=n.getConnectionPool().getConnection(c);let g=p.newRpcFunction(l);let y=g.getRpcRequest();y.setMethod(e.HttpRequestMethod.HTTP_GET);return g};e.RepositoryManager.prototype.setLocation=function(e){this.m_location=e};e.RepositoryManager.prototype.setupApplicationContext=function(t){e.DfApplicationContext.prototype.setupApplicationContext.call(this,t)};e.UndoManager=function(){};e.UndoManager.prototype=new e.DfApplicationContext;e.UndoManager.prototype._ff_c="UndoManager";e.UndoManager.create=function(t){let n=new e.UndoManager;n.setupApplicationContext(t);t.getSession().registerInterruptStepListener(n,e.XInterruptPrio.UNDO_REDO,null);n.m_undoStates=e.XList.create();n.m_redoStates=e.XList.create();n.m_listeners=e.XList.create();return n};e.UndoManager.prototype.m_listeners=null;e.UndoManager.prototype.m_redoStates=null;e.UndoManager.prototype.m_savedRedoStates=null;e.UndoManager.prototype.m_savedUndoStates=null;e.UndoManager.prototype.m_undoStates=null;e.UndoManager.prototype.stackSize=0;e.UndoManager.prototype.clear=function(e){let t=e.getIterator();while(t.hasNext()){this.getApplication().getOlapEnvironment().getDocumentStateManager().clearDocumentState(t.next())}e.clear()};e.UndoManager.prototype.dump=function(){let t=this.getApplication().getOlapEnvironment().getDocumentStateManager();let n=e.PrFactory.createStructure();let r=n.putNewList("UndoStates");let i=this.m_undoStates.size();for(let e=i-1;e>=0;e--){r.add(t.dumpState(this.m_undoStates.get(e)))}let o=n.putNewList("RedoStates");let s=this.m_redoStates.size();for(let e=s-1;e>=0;e--){o.add(t.dumpState(this.m_redoStates.get(e)))}return e.PrUtils.serialize(n,false,true,2)};e.UndoManager.prototype.getAvailableRedoStepCount=function(){return this.m_redoStates.size()};e.UndoManager.prototype.getAvailableUndoStepCount=function(){return e.XMath.max(this.m_undoStates.size()-1,0)};e.UndoManager.prototype.logStates=function(t){this.getSession().getLogger().log(e.XStringUtils.concatenate2("UndoManager: new currentState ->",t))};e.UndoManager.prototype.notifyListener=function(){let e=this.m_listeners.size();for(let t=0;t<e;t++){this.m_listeners.get(t).undoManagerStateChanged()}};e.UndoManager.prototype.onInterruptStepEnd=function(e,t){this.clear(this.m_redoStates);let n=this.getApplication().getOlapEnvironment().getDocumentStateManager().recordDocumentState();this.m_undoStates.add(n);this.logStates(n);this.updateStack();this.notifyListener()};e.UndoManager.prototype.onInterruptStepStart=function(e,t){if(this.m_undoStates.isEmpty()){this.onInterruptStepEnd(e,t)}else{let e=this.m_undoStates.get(this.m_undoStates.size()-1);this.getApplication().getOlapEnvironment().getDocumentStateManager().updateDocumentState(e)}};e.UndoManager.prototype.processRedo=function(t,n,r){let i=null;let o=this.m_redoStates.size();if(o>0){i=this.m_redoStates.removeAt(o-1);this.m_undoStates.add(i)}this.logStates(i);let s=e.UndoRedoAction.createAndRun(t,this,n,r,i,this.getApplication().getOlapEnvironment());this.notifyListener();return s};e.UndoManager.prototype.processUndo=function(t,n,r){let i=null;let o=this.m_undoStates.size();if(o>1){this.m_redoStates.add(this.m_undoStates.removeAt(o-1));i=this.m_undoStates.get(o-2)}this.logStates(i);let s=e.UndoRedoAction.createAndRun(t,this,n,r,i,this.getApplication().getOlapEnvironment());this.notifyListener();return s};e.UndoManager.prototype.registerUndoManagerListener=function(e){this.m_listeners.add(e)};e.UndoManager.prototype.reset=function(){this.clear(this.m_redoStates);this.clear(this.m_undoStates);if(e.notNull(this.m_savedUndoStates)){this.clear(this.m_savedUndoStates);this.m_savedUndoStates=null}if(e.notNull(this.m_savedRedoStates)){this.clear(this.m_savedRedoStates);this.m_savedRedoStates=null}};e.UndoManager.prototype.restoreSavedUndoRedoState=function(){if(e.notNull(this.m_savedUndoStates)){this.clear(this.m_undoStates);this.clear(this.m_redoStates);this.m_undoStates=this.m_savedUndoStates;this.m_redoStates=this.m_savedRedoStates;this.m_savedUndoStates=null;this.m_savedRedoStates=null}};e.UndoManager.prototype.saveUndoRedoState=function(){this.m_savedUndoStates=this.m_undoStates.createListCopy();this.m_savedRedoStates=this.m_redoStates.createListCopy();this.m_undoStates.clear();this.m_redoStates.clear()};e.UndoManager.prototype.setMaxAvailableSteps=function(e){this.stackSize=e;this.updateStack()};e.UndoManager.prototype.unregisterUndoManagerListener=function(e){this.m_listeners.removeElement(e)};e.UndoManager.prototype.updateStack=function(){if(this.stackSize>0){while(this.m_undoStates.size()-1>this.stackSize){let e=this.m_undoStates.removeAt(0);this.getApplication().getOlapEnvironment().getDocumentStateManager().clearDocumentState(e)}}};e.ApplicationInitializeAction=function(){};e.ApplicationInitializeAction.prototype=new e.SyncAction;e.ApplicationInitializeAction.prototype._ff_c="ApplicationInitializeAction";e.ApplicationInitializeAction.create=function(t){let n=new e.ApplicationInitializeAction;n.setupActionExt(t,null,null,null,e.XVersion.MAX,null,null,null,null,e.ApplicationSystemOption.AUTO,true);return n};e.ApplicationInitializeAction.prototype.m_application=null;e.ApplicationInitializeAction.prototype.m_kernel=null;e.ApplicationInitializeAction.prototype.m_kernelBooter=null;e.ApplicationInitializeAction.prototype.m_programName=null;e.ApplicationInitializeAction.prototype.m_systemLandscapeUrl=null;e.ApplicationInitializeAction.prototype.m_systemName=null;e.ApplicationInitializeAction.prototype.m_systemOption=null;e.ApplicationInitializeAction.prototype.m_systemType=null;e.ApplicationInitializeAction.prototype.m_systemUri=null;e.ApplicationInitializeAction.prototype.m_useKernelBoot=false;e.ApplicationInitializeAction.prototype.m_useSingleKernel=false;e.ApplicationInitializeAction.prototype.m_xVersion=0;e.ApplicationInitializeAction.prototype.addExcludeProxyByUrl=function(e){this.m_kernelBooter.addExcludeProxyByUrl(e)};e.ApplicationInitializeAction.prototype.addModule=function(e){this.m_kernelBooter.addModule(e)};e.ApplicationInitializeAction.prototype.addProgramStartedListener=function(e){this.m_kernelBooter.addProgramStartedListener(e)};e.ApplicationInitializeAction.prototype.addStartConfig=function(e){return this.m_kernelBooter.addStartConfig(e)};e.ApplicationInitializeAction.prototype.callListener=function(e,t,n,r){t.onApplicationReady(e,n,r)};e.ApplicationInitializeAction.prototype.configureLandscape=function(){if(e.notNull(this.m_application)){let t=e.NetworkEnv.getLocation();let n=this.m_application.getSystemLandscape();if(this.m_systemOption!==e.ApplicationSystemOption.NONE&&e.notNull(n)||e.notNull(this.m_systemUri)||e.notNull(t)&&e.notNull(this.m_systemType)){if(e.isNull(n)){n=e.StandaloneSystemLandscape.create(this.m_application);this.m_application.setSystemLandscape(n)}if(n.getMasterSystemName()===null){let r=this.m_systemName;if(e.isNull(r)){r="master"}if(e.notNull(this.m_systemUri)){n.setSystemByUri(r,this.m_systemUri,null)}else if(e.notNull(t)&&e.notNull(this.m_systemType)){let i=n.createSystem();i.setSystemType(this.m_systemType);let o=t.getScheme();if(e.notNull(o)){if(e.XString.startsWith(o,"https")){i.setProtocolType(e.ProtocolType.HTTPS)}else{i.setProtocolType(e.ProtocolType.HTTP)}}i.setSystemName(r);i.setSystemText(r);i.setHost(t.getHost());i.setPort(t.getPort());n.setSystemByDescription(i)}else{let e=n.getSystemNames();if(e.size()===1){r=e.get(0)}else{r=null}}if(e.notNull(r)){n.setMasterSystemName(r)}}}else{let e=this.m_application.getProcess().getSystemLandscape();this.m_application.setSystemLandscape(e)}this.setData(this.m_application)}this.endSync()};e.ApplicationInitializeAction.prototype.doMaxDomainRelaxation=function(){this.m_kernelBooter.doMaxDomainRelaxation()};e.ApplicationInitializeAction.prototype.getCurrentStartConfig=function(){return this.m_kernelBooter.getCurrentStartConfig()};e.ApplicationInitializeAction.prototype.getDefaultSyncType=function(){return this.m_kernelBooter.getDefaultSyncType()};e.ApplicationInitializeAction.prototype.getKernel=function(){return this.m_kernel};e.ApplicationInitializeAction.prototype.getNativeAnchorId=function(){return this.m_kernelBooter.getNativeAnchorId()};e.ApplicationInitializeAction.prototype.getNativeAnchorObject=function(){return this.m_kernelBooter.getNativeAnchorObject()};e.ApplicationInitializeAction.prototype.getProcess=function(){return this.getActionContext()};e.ApplicationInitializeAction.prototype.getProgramName=function(){return this.m_programName};e.ApplicationInitializeAction.prototype.getProxyAuthorization=function(){return this.m_kernelBooter.getProxyAuthorization()};e.ApplicationInitializeAction.prototype.getProxyHost=function(){return this.m_kernelBooter.getProxyHost()};e.ApplicationInitializeAction.prototype.getProxyHttpHeaders=function(){return this.m_kernelBooter.getProxyHttpHeaders()};e.ApplicationInitializeAction.prototype.getProxyPort=function(){return this.m_kernelBooter.getProxyPort()};e.ApplicationInitializeAction.prototype.getProxyType=function(){return this.m_kernelBooter.getProxyType()};e.ApplicationInitializeAction.prototype.getSccLocationId=function(){return this.m_kernelBooter.getSccLocationId()};e.ApplicationInitializeAction.prototype.getSystemLandscapeUrl=function(){return this.m_systemLandscapeUrl};e.ApplicationInitializeAction.prototype.getSystemName=function(){return this.m_systemName};e.ApplicationInitializeAction.prototype.getSystemOption=function(){return this.m_systemOption};e.ApplicationInitializeAction.prototype.getSystemType=function(){return this.m_systemType};e.ApplicationInitializeAction.prototype.getSystemUri=function(){return this.m_systemUri};e.ApplicationInitializeAction.prototype.getWebdispatcherTemplate=function(){return this.m_kernelBooter.getWebdispatcherTemplate()};e.ApplicationInitializeAction.prototype.getXVersion=function(){return this.m_xVersion};e.ApplicationInitializeAction.prototype.isSingletonKernelUsed=function(){return this.m_kernelBooter.isSingletonKernelUsed()};e.ApplicationInitializeAction.prototype.isUsingKernelBoot=function(){return this.m_useKernelBoot};e.ApplicationInitializeAction.prototype.onLandscapeNodeLoaded=function(e,t,n){this.addAllMessages(e);this.configureLandscape()};e.ApplicationInitializeAction.prototype.onProgramStarted=function(e,t,n){this.addAllMessages(e);if(e.isValid()){let e=t.getProcess();this.m_application=e.getApplication()}this.configureLandscape()};e.ApplicationInitializeAction.prototype.processSynchronization=function(t){let n;let r=this.getActionContext();if(this.m_useKernelBoot===true){if(e.XStringUtils.isNotNullAndNotEmpty(this.m_programName)){this.m_kernelBooter.addStartConfig(this.m_programName)}this.m_kernelBooter.setDefaultSyncType(t);this.m_kernelBooter.setXVersion(this.m_xVersion);this.m_kernelBooter.addProgramStartedListener(this);this.m_kernelBooter.setKernel(this.m_kernel);if(e.isNull(r)){if(e.notNull(this.m_systemLandscapeUrl)){this.m_kernelBooter.setSystemLandscapeUrl(this.m_systemLandscapeUrl)}}else{let e=r.getKernel();this.m_kernelBooter.setKernel(e)}this.m_kernelBooter.runFull();n=t===e.SyncType.NON_BLOCKING}else{if(e.isNull(r)){r=e.DefaultSession.createWithVersion(this.m_xVersion);if(e.notNull(t)){r.setDefaultSyncType(t)}}this.m_application=e.Application.create(r,r.getXVersion());if(this.m_systemOption!==e.ApplicationSystemOption.NONE){let t=r.getSystemLandscape();if(e.isNull(t)){let t=r.getEnvironment();if(e.isNull(this.m_systemLandscapeUrl)){this.m_systemLandscapeUrl=t.getVariable(e.XEnvironmentConstants.SYSTEM_LANDSCAPE_URI)}if(e.isNull(this.m_systemUri)&&e.isNull(this.m_systemName)){let n=t.getVariable(e.XEnvironmentConstants.FIREFLY_MASTER_SYSTEM_URI);if(e.XStringUtils.isNotNullAndNotEmpty(n)){this.m_systemUri=e.XUri.createFromUrl(n);if(e.XStringUtils.isNullOrEmpty(this.m_systemName)){this.m_systemName="master"}}}}}if(this.m_systemOption!==e.ApplicationSystemOption.NONE&&e.XStringUtils.isNotNullAndNotEmpty(this.m_systemLandscapeUrl)){let i=e.StandaloneSystemLandscape.create(this.m_application);this.m_application.setSystemLandscape(i);let o=e.XUri.createFromFilePath(r,this.m_systemLandscapeUrl,e.PathFormat.AUTO_DETECT,e.VarResolveMode.DOLLAR,e.ProtocolType.FILE);e.SystemLandscapeLoadAction.createAndRun(t,this,null,this.m_application,i,o);n=true}else{this.configureLandscape();n=false}}return n};e.ApplicationInitializeAction.prototype.putAllEnvironmentVariables=function(e){this.m_kernelBooter.putAllEnvironmentVariables(e)};e.ApplicationInitializeAction.prototype.registerListener=function(t,n){if(e.notNull(t)){this.attachListener(t,e.ListenerType.SPECIFIC,n)}};e.ApplicationInitializeAction.prototype.releaseObjectInternal=function(){this.m_systemName=null;this.m_systemUri=null;this.m_systemType=null;this.m_application=null;this.m_xVersion=0;this.m_systemOption=null;this.m_kernelBooter=null};e.ApplicationInitializeAction.prototype.runFull=e.noSupport;e.ApplicationInitializeAction.prototype.runFullBlockingMode=e.noSupport;e.ApplicationInitializeAction.prototype.setAllArguments=function(e){this.m_kernelBooter.setAllArguments(e)};e.ApplicationInitializeAction.prototype.setBooleanArgument=function(e,t){this.m_kernelBooter.setBooleanArgument(e,t)};e.ApplicationInitializeAction.prototype.setConfigFilePath=function(e){this.m_kernelBooter.setConfigFilePath(e)};e.ApplicationInitializeAction.prototype.setConfigJson=function(e){this.m_kernelBooter.setConfigJson(e)};e.ApplicationInitializeAction.prototype.setConfigStructure=function(e){this.m_kernelBooter.setConfigJson(e)};e.ApplicationInitializeAction.prototype.setDefaultSyncType=function(e){this.m_kernelBooter.setDefaultSyncType(e)};e.ApplicationInitializeAction.prototype.setEnvironmentVariable=function(e,t){this.m_kernelBooter.setEnvironmentVariable(e,t)};e.ApplicationInitializeAction.prototype.setHasPersistentState=function(e){this.m_kernelBooter.setHasPersistentState(e)};e.ApplicationInitializeAction.prototype.setInitialSystemType=function(e){this.m_kernelBooter.setInitialSystemType(e)};e.ApplicationInitializeAction.prototype.setIntegerArgument=function(e,t){this.m_kernelBooter.setIntegerArgument(e,t)};e.ApplicationInitializeAction.prototype.setKernel=function(e){this.m_kernel=e};e.ApplicationInitializeAction.prototype.setKernelReadyConsumer=function(e){this.m_kernelBooter.setKernelReadyConsumer(e)};e.ApplicationInitializeAction.prototype.setListArgument=function(e,t){this.m_kernelBooter.setListArgument(e,t)};e.ApplicationInitializeAction.prototype.setModuleLoadUrl=function(e,t){this.m_kernelBooter.setModuleLoadUrl(e,t)};e.ApplicationInitializeAction.prototype.setModuleLoader=function(e){this.m_kernelBooter.setModuleLoader(e)};e.ApplicationInitializeAction.prototype.setNativeAnchorId=function(e){this.m_kernelBooter.setNativeAnchorId(e)};e.ApplicationInitializeAction.prototype.setNativeAnchorObject=function(e){this.m_kernelBooter.setNativeAnchorObject(e)};e.ApplicationInitializeAction.prototype.setProcess=function(e){this.setActionContext(e);this.setSession(e)};e.ApplicationInitializeAction.prototype.setProgramName=function(e){this.m_programName=e};e.ApplicationInitializeAction.prototype.setProxyAuthorization=function(e){this.m_kernelBooter.setProxyAuthorization(e)};e.ApplicationInitializeAction.prototype.setProxyHost=function(e){this.m_kernelBooter.setProxyHost(e)};e.ApplicationInitializeAction.prototype.setProxyHttpHeader=function(e,t){this.m_kernelBooter.setProxyHttpHeader(e,t)};e.ApplicationInitializeAction.prototype.setProxyPort=function(e){this.m_kernelBooter.setProxyPort(e)};e.ApplicationInitializeAction.prototype.setProxyType=function(e){this.m_kernelBooter.setProxyType(e)};e.ApplicationInitializeAction.prototype.setSccLocationId=function(e){this.m_kernelBooter.setSccLocationId(e)};e.ApplicationInitializeAction.prototype.setStringArgument=function(e,t){this.m_kernelBooter.setStringArgument(e,t)};e.ApplicationInitializeAction.prototype.setSystemLandscapeUrl=function(e){this.m_systemLandscapeUrl=e};e.ApplicationInitializeAction.prototype.setSystemName=function(e){this.m_systemName=e};e.ApplicationInitializeAction.prototype.setSystemOption=function(e){this.m_systemOption=e};e.ApplicationInitializeAction.prototype.setSystemType=function(e){this.m_systemType=e};e.ApplicationInitializeAction.prototype.setSystemUri=function(e){this.m_systemUri=e};e.ApplicationInitializeAction.prototype.setUseKernelBoot=function(e){this.m_useKernelBoot=e};e.ApplicationInitializeAction.prototype.setUseSingleKernel=function(e){this.m_useSingleKernel=e};e.ApplicationInitializeAction.prototype.setUseSingletonKernel=function(e){this.m_kernelBooter.setUseSingletonKernel(e)};e.ApplicationInitializeAction.prototype.setWebdispatcherTemplate=function(e){this.m_kernelBooter.setWebdispatcherTemplate(e)};e.ApplicationInitializeAction.prototype.setXVersion=function(e){this.m_xVersion=e};e.ApplicationInitializeAction.prototype.setupActionExt=function(t,n,r,i,o,s,a,l,u,c,p){this.setupAction(t,n,r,i);this.m_xVersion=o;this.m_systemLandscapeUrl=u;this.m_systemName=a;this.m_systemUri=l;this.m_systemType=s;this.m_systemOption=c;this.m_useKernelBoot=p;this.m_programName=e.StandardAppProgram.DEFAULT_PROGRAM_NAME;this.m_kernelBooter=e.KernelBoot.create()};e.ApplicationInitializeAction.prototype.useSingleKernel=function(){return this.m_useSingleKernel};e.DfApplication=function(){};e.DfApplication.prototype=new e.DfProcessContext;e.DfApplication.prototype._ff_c="DfApplication";e.DfApplication.prototype.m_applicationId=null;e.DfApplication.prototype.m_bindingManager=null;e.DfApplication.prototype.m_clientInfo=null;e.DfApplication.prototype.m_dataProviders=null;e.DfApplication.prototype.m_olapEnvironment=null;e.DfApplication.prototype.m_releaseProcess=false;e.DfApplication.prototype.m_serviceRegistry=null;e.DfApplication.prototype.m_subApplications=null;e.DfApplication.prototype.m_undoManager=null;e.DfApplication.prototype.clearClientInfo=function(){this.getClientInfo().clearClientInfo()};e.DfApplication.prototype.createNextInstanceId=function(){return e.XGuid.getGuid()};e.DfApplication.prototype.getApplicationId=function(){return this.m_applicationId};e.DfApplication.prototype.getBindingManager=function(){return this.m_bindingManager};e.DfApplication.prototype.getClientComponent=function(){return this.getClientInfo().getClientComponent()};e.DfApplication.prototype.getClientIdentifier=function(){return this.getClientInfo().getClientIdentifier()};e.DfApplication.prototype.getClientInfo=function(){return this.m_clientInfo};e.DfApplication.prototype.getClientVersion=function(){return this.getClientInfo().getClientVersion()};e.DfApplication.prototype.getDataProviders=function(){return this.m_dataProviders};e.DfApplication.prototype.getDefaultSyncType=function(){return this.getProcess().getDefaultSyncType()};e.DfApplication.prototype.getDocument=function(t,n){if(e.isNull(this.m_olapEnvironment)){this.m_olapEnvironment=e.OlapEnvironmentFactory.newInstance(this)}return this.m_olapEnvironment};e.DfApplication.prototype.getHttpExchangeEnhancer=function(){return this.getSession().getHttpExchangeEnhancer()};e.DfApplication.prototype.getLanguageLocale=function(){return this.getClientInfo().getLanguageLocale()};e.DfApplication.prototype.getOlapEnvironment=function(){return this.getDocument("DefaultOlapEnvironment",e.XComponentType._DATASOURCE)};e.DfApplication.prototype.getReferenceNameFromService=function(t){if(e.notNull(t)){let n=t.getServiceConfig();if(e.notNull(n)){let t=n.getServiceTypeInfo();if(e.notNull(t)){return t.getServiceReferenceName()}}}return null};e.DfApplication.prototype.getServices=function(t){if(e.notNull(t)){let n=t.getServiceReferenceName();if(e.notNull(n)){if(e.notNull(this.m_serviceRegistry)){let t=this.m_serviceRegistry.getByKey(n);if(e.notNull(t)&&t.size()>0){return t}}}}return null};e.DfApplication.prototype.getStoryId=function(){return this.getClientInfo().getStoryId()};e.DfApplication.prototype.getStoryName=function(){return this.getClientInfo().getStoryName()};e.DfApplication.prototype.getUiManager=function(){return this.getUiManagerExt(true)};e.DfApplication.prototype.getUndoManager=function(){return this.m_undoManager};e.DfApplication.prototype.getWidgetId=function(){return null};e.DfApplication.prototype.getXVersion=function(){return this.getProcess().getXVersion()};e.DfApplication.prototype.newSubApplication=function(e){return this.newSubApplicationWithId(e,null)};e.DfApplication.prototype.newSubApplicationWithId=function(t,n){let r=e.SubApplication.createWithId(this,t,n);this.m_subApplications.add(r);return r};e.DfApplication.prototype.registerDataProvider=function(t){if(e.notNull(t)){this.m_dataProviders.add(t)}};e.DfApplication.prototype.registerService=function(t){let n=this.getReferenceNameFromService(t);if(e.notNull(n)){let r=this.m_serviceRegistry.getByKey(n);if(e.isNull(r)){r=e.XList.create();this.m_serviceRegistry.put(n,r)}for(let e=0;e<r.size();e++){let n=r.get(e);if(t===n){return}}r.add(t)}};e.DfApplication.prototype.releaseAllSubApplications=function(){if(e.notNull(this.m_subApplications)){while(this.m_subApplications.size()>0){let t=this.m_subApplications.size();let n=this.m_subApplications.get(0);e.XObjectExt.release(n);if(t===this.m_subApplications.size()){throw e.XException.createIllegalStateException("DataProvider was not correctly released from storage")}}}};e.DfApplication.prototype.releaseDataProviders=function(){if(e.notNull(this.m_dataProviders)){while(this.m_dataProviders.size()>0){let t=this.m_dataProviders.size();let n=this.m_dataProviders.get(0);e.XObjectExt.release(n);if(t===this.m_dataProviders.size()){throw e.XException.createIllegalStateException("DataProvider was not correctly released from storage")}}}};e.DfApplication.prototype.releaseManagedObjects=function(){if(!this.isReleased()){this.releaseAllSubApplications();this.releaseDataProviders();this.releaseServices();this.m_dataProviders=e.XObjectExt.release(this.m_dataProviders);this.m_olapEnvironment=e.XObjectExt.release(this.m_olapEnvironment)}};e.DfApplication.prototype.releaseObject=function(){this.m_subApplications=e.XObjectExt.release(this.m_subApplications);this.m_serviceRegistry=e.XObjectExt.release(this.m_serviceRegistry);this.m_bindingManager=e.XObjectExt.release(this.m_bindingManager);this.m_clientInfo=e.XObjectExt.release(this.m_clientInfo);if(this.m_releaseProcess){e.XObjectExt.release(this.getProcess())}e.DfProcessContext.prototype.releaseObject.call(this)};e.DfApplication.prototype.releaseServices=function(){if(e.notNull(this.m_serviceRegistry)){let t=this.m_serviceRegistry.getKeysAsReadOnlyList();for(let n=0;n<t.size();n++){let r=t.get(n);let i=this.m_serviceRegistry.getByKey(r);if(e.notNull(i)&&!i.isReleased()){for(let t=i.size()-1;t>-1;t--){let n=i.get(t);e.XObjectExt.release(n)}i.clear();e.XObjectExt.release(i)}}this.m_serviceRegistry.clear()}};e.DfApplication.prototype.selectProviderComponents=function(t,n,r,i){let o=t.getDomain();if(e.isNull(o)||o===e.SigSelDomain.CONTEXT){o=n}if(o===e.SigSelDomain.DATA){let n=e.XList.create();let r=t.getOperationType();let o=this.getDataProviders();if(r===e.SigSelType.MATCH_NAME){let r=t.getName();for(let t=0;t<o.size();t++){let i=o.get(t);let s=i.getComponentType();if(e.XString.isEqual(r,i.getDataProviderName())&&s.isTypeOf(e.IoComponentType.DATA_PROVIDER)){n.add(i);break}}}else if(r===e.SigSelType.MATCH){let r=t.getSelectedComponentType();if(e.notNull(r)){for(let e=0;e<o.size()&&(i===-1||n.size()<i);e++){let t=o.get(e);let i=t.getComponentType();if(i.isTypeOf(r)){n.add(t)}}}}return n}return null};e.DfApplication.prototype.setClientInfo=function(e,t,n){this.getClientInfo().setClientInfo(e,t,n)};e.DfApplication.prototype.setDefaultSyncType=function(e){this.getProcess().setDefaultSyncType(e)};e.DfApplication.prototype.setLanguageLocale=function(e){this.getClientInfo().setLanguageLocale(e)};e.DfApplication.prototype.setProcessExt=function(t,n){this.setProcess(t);this.m_releaseProcess=n;this.m_clientInfo=e.XClientInfo.create(t);let r=t.getSelector();r.registerSelector(e.SigSelDomain.DATA,this);this.m_undoManager=e.UndoManager.create(this);this.m_bindingManager=e.DpBindingManager.create(t);t.setEntity(e.ProcessEntity.APPLICATION,this)};e.DfApplication.prototype.setStoryId=function(e){this.getClientInfo().setStoryId(e)};e.DfApplication.prototype.setStoryName=function(e){this.getClientInfo().setStoryName(e)};e.DfApplication.prototype.setWidgetId=function(e){};e.DfApplication.prototype.setup=function(){e.DfProcessContext.prototype.setup.call(this);this.m_dataProviders=e.XList.create();this.m_subApplications=e.XList.create();this.m_serviceRegistry=e.XHashMapByString.create()};e.DfApplication.prototype.setupWithApplicationId=function(t){this.setup();this.m_applicationId=e.XStringUtils.isNotNullAndNotEmpty(t)?t:e.XGuid.getGuid()};e.DfApplication.prototype.unregisterDataProvider=function(t){if(e.notNull(t)){this.m_dataProviders.removeElement(t)}};e.DfApplication.prototype.unregisterService=function(t){let n=this.getReferenceNameFromService(t);if(e.notNull(n)){if(e.notNull(this.m_serviceRegistry)){let r=this.m_serviceRegistry.getByKey(n);if(e.notNull(r)&&!r.isReleased()){for(let e=0;e<r.size();e++){let n=r.get(e);if(t===n){r.removeAt(e);break}}}}}};e.DfApplication.prototype.unregisterSubApplication=function(e){let t=this.m_subApplications.getIndex(e);if(t!==-1){this.m_subApplications.removeAt(t)}};e.DfShellProgramWithApplication=function(){};e.DfShellProgramWithApplication.prototype=new e.DfApplicationProgram;e.DfShellProgramWithApplication.prototype._ff_c="DfShellProgramWithApplication";e.DfShellProgramWithApplication.prototype.getComponentType=function(){return e.XComponentType._PROGRAM};e.DfShellProgramWithApplication.prototype.getDefaultContainerType=function(){return e.ProgramContainerType.CONSOLE};e.DfShellProgramWithApplication.prototype.getProgramType=function(){return e.ProgramType.SHELL};e.DfShellProgramWithApplication.prototype.readLine=function(e){return null};e.DfShellProgramWithApplication.prototype.releaseObject=function(){e.DfApplicationProgram.prototype.releaseObject.call(this)};e.DfShellProgramWithApplication.prototype.runProcess=function(){return this.runMain()};e.DfShellProgramWithApplication.prototype.setAllowUserInput=function(e){this.getStdin().setAllowUserInput(e)};e.DfShellProgramWithApplication.prototype.supportsSyncType=function(e){return false};e.DragonflyAppProgram=function(){};e.DragonflyAppProgram.prototype=new e.DfApplicationProgram;e.DragonflyAppProgram.prototype._ff_c="DragonflyAppProgram";e.DragonflyAppProgram.DEFAULT_PROGRAM_NAME="DragonflyAppProgram";e.DragonflyAppProgram.prototype.getProgramName=function(){return e.DragonflyAppProgram.DEFAULT_PROGRAM_NAME};e.DragonflyAppProgram.prototype.newProgram=function(){let t=new e.DragonflyAppProgram;t.setup();return t};e.DragonflyAppProgram.prototype.prepareProgramMetadata=function(e){};e.DragonflyAppProgram.prototype.processArguments=function(e){};e.DragonflyAppProgram.prototype.processConfiguration=function(e){};e.DragonflyAppProgram.prototype.runProcess=function(){return true};e.GenericAppProgram=function(){};e.GenericAppProgram.prototype=new e.DfApplicationProgram;e.GenericAppProgram.prototype._ff_c="GenericAppProgram";e.GenericAppProgram.DEFAULT_PROGRAM_NAME="GenericAppProgram";e.GenericAppProgram.DEFAULT_SYSTEM_NAME="default";e.GenericAppProgram.PATH_KEY="path";e.GenericAppProgram.SYSTEM_TYPE_KEY="systemType";e.GenericAppProgram.prototype._addSystemByJson=function(t,n){if(e.notNull(n)&&n.isStructure()){let r=n.asStructure();let i=this.getProcess().getSystemLandscape();if(e.isNull(i)){throw e.XException.createException("SystemLandscape not loaded!")}let o=e.XHashMapByString.create();e.XCollectionUtils.forEach(r.getKeysAsReadOnlyList(),t=>{let n=r.getByKey(t);o.put(t,e.PrUtils.convertElementToStringValue(n,""))});let s=e.XProperties.createByMapCopy(o);let a=e.SystemDescription.create(i,r.getStringByKeyExt(e.ConnectionParameters.NAME,t),s);i.setSystemByDescription(a);this._getApplication().getConnectionPool().setMaximumSharedConnections(t,4)}else{throw e.XException.createException("Invalid system json!")}};e.GenericAppProgram.prototype._getApplication=function(){return this.getProcess().getApplication()};e.GenericAppProgram.prototype._processDefaultSystemJson=function(t){if(e.notNull(t)&&t.isStructure()){let n=t.asStructure();let r=e.SystemType.lookup(n.getStringByKey(e.GenericAppProgram.SYSTEM_TYPE_KEY));let i=n.getStringByKeyExt(e.GenericAppProgram.PATH_KEY,"");let o=this.getProcess().getSystemLandscape();if(e.isNull(o)){throw e.XException.createException("SystemLandscape not loaded!")}let s=o.getSystemDescription(e.GenericAppProgram.DEFAULT_SYSTEM_NAME);if(e.isNull(s)){s=o.createSystem();s.setName(e.GenericAppProgram.DEFAULT_SYSTEM_NAME);o.setSystemByDescription(s)}s.setTimeout(1e4);s.setAuthenticationType(e.AuthenticationType.NONE);s.setSystemType(r);s.setProtocolType(e.NetworkEnv.getLocation().getProtocolType());s.setHost(e.NetworkEnv.getLocation().getHost());s.setPort(e.NetworkEnv.getLocation().getPort());s.setPath(i);if(r===e.SystemType.BW){s.setSessionCarrierType(e.SessionCarrierType.SAP_CONTEXT_ID_HEADER)}this._getApplication().getConnectionPool().setMaximumSharedConnections(e.GenericAppProgram.DEFAULT_SYSTEM_NAME,4)}else{throw e.XException.createException("Invalid default system json!")}};e.GenericAppProgram.prototype.addSystemByNativeJson=function(t,n){try{let r=e.JsonParserFactory.newInstance();let i=r.convertFromNative(n);e.XObjectExt.release(r);this._addSystemByJson(t,i)}catch(t){e.XLogger.printError(e.XStringUtils.concatenate2("Failed to add system! Error: ",e.XException.getMessage(t)))}};e.GenericAppProgram.prototype.addSystemsByNativeJson=function(t){try{let n=e.JsonParserFactory.newInstance();let r=n.convertFromNative(t);e.XObjectExt.release(n);if(e.notNull(r)&&r.isStructure()){e.XCollectionUtils.mapEntries(r.asStructure(),(t,n)=>{if(e.notNull(n)&&n.isStructure()){this._addSystemByJson(t,n)}})}}catch(t){e.XLogger.printError(e.XStringUtils.concatenate2("Failed to add system! Error: ",e.XException.getMessage(t)))}};e.GenericAppProgram.prototype.getDefaultSystemName=function(){return e.GenericAppProgram.DEFAULT_SYSTEM_NAME};e.GenericAppProgram.prototype.getProgramName=function(){return e.GenericAppProgram.DEFAULT_PROGRAM_NAME};e.GenericAppProgram.prototype.newProgram=function(){let t=new e.GenericAppProgram;t.setup();return t};e.GenericAppProgram.prototype.prepareProgramMetadata=function(e){};e.GenericAppProgram.prototype.processArguments=function(e){};e.GenericAppProgram.prototype.processConfiguration=function(e){};e.GenericAppProgram.prototype.releaseObject=function(){e.DfApplicationProgram.prototype.releaseObject.call(this)};e.GenericAppProgram.prototype.runProcess=function(){return true};e.GenericAppProgram.prototype.setDefaultSystemByNativeJson=function(t){try{let n=e.JsonParserFactory.newInstance();let r=n.convertFromNative(t);e.XObjectExt.release(n);this._processDefaultSystemJson(r)}catch(t){e.XLogger.printError(e.XStringUtils.concatenate2("Failed to setup default system! Error: ",e.XException.getMessage(t)))}};e.OrcaAppProgram=function(){};e.OrcaAppProgram.prototype=new e.DfApplicationProgram;e.OrcaAppProgram.prototype._ff_c="OrcaAppProgram";e.OrcaAppProgram.DEFAULT_PROGRAM_NAME="OrcaAppProgram";e.OrcaAppProgram.prototype.getProgramName=function(){return e.OrcaAppProgram.DEFAULT_PROGRAM_NAME};e.OrcaAppProgram.prototype.newProgram=function(){let t=new e.OrcaAppProgram;t.setup();return t};e.OrcaAppProgram.prototype.prepareProgramMetadata=function(e){};e.OrcaAppProgram.prototype.processArguments=function(e){};e.OrcaAppProgram.prototype.processConfiguration=function(e){};e.OrcaAppProgram.prototype.runProcess=function(){let t=this.getProcess();let n=t.getKernel();let r;if(t.hasFeature(e.FeatureToggleSAC.FF_SAC_FIREFLY_AUTHENTICATION)){let i;let o=t.hasFeature(e.FeatureToggleSAC.FF_LITE_CREDS_DEFAULT_ENABLED);if(o){i=n.getSubSystemContainer(e.SubSystemType.CREDENTIALS_PROVIDER_ORCA_LITE)}else{i=n.getSubSystemContainer(e.SubSystemType.CREDENTIALS_PROVIDER_ORCA)}i.processSubSystemLoad(e.SyncType.BLOCKING,null,null);r=i.getMainApi()}else{let t=n.getSubSystemContainer(e.SubSystemType.CREDENTIALS_PROVIDER);let i=t.getBootstrapSubSystem();r=i.getMainApi()}t.setEntity(e.ProcessEntity.CREDENTIALS_PROVIDER,r);return true};e.OrcaLiteViewerAppProgram=function(){};e.OrcaLiteViewerAppProgram.prototype=new e.DfApplicationProgram;e.OrcaLiteViewerAppProgram.prototype._ff_c="OrcaLiteViewerAppProgram";e.OrcaLiteViewerAppProgram.DEFAULT_PROGRAM_NAME="OrcaLiteViewerAppProgram";e.OrcaLiteViewerAppProgram.prototype.getProgramName=function(){return e.OrcaLiteViewerAppProgram.DEFAULT_PROGRAM_NAME};e.OrcaLiteViewerAppProgram.prototype.newProgram=function(){let t=new e.OrcaLiteViewerAppProgram;t.setup();return t};e.OrcaLiteViewerAppProgram.prototype.prepareProgramMetadata=function(e){};e.OrcaLiteViewerAppProgram.prototype.processArguments=function(e){};e.OrcaLiteViewerAppProgram.prototype.processConfiguration=function(e){};e.OrcaLiteViewerAppProgram.prototype.runProcess=function(){let t=this.getProcess();let n=t.getKernel();let r=n.getSubSystemContainer(e.SubSystemType.CREDENTIALS_PROVIDER_LITE);let i=r.getMainApi();t.setEntity(e.ProcessEntity.CREDENTIALS_PROVIDER,i);return true};e.StandardAppProgram=function(){};e.StandardAppProgram.prototype=new e.DfApplicationProgram;e.StandardAppProgram.prototype._ff_c="StandardAppProgram";e.StandardAppProgram.DEFAULT_PROGRAM_NAME="StandardAppProgram";e.StandardAppProgram.prototype.getProgramName=function(){return e.StandardAppProgram.DEFAULT_PROGRAM_NAME};e.StandardAppProgram.prototype.newProgram=function(){let t=new e.StandardAppProgram;t.setup();return t};e.StandardAppProgram.prototype.prepareProgramMetadata=function(e){};e.StandardAppProgram.prototype.processArguments=function(e){};e.StandardAppProgram.prototype.processConfiguration=function(e){};e.StandardAppProgram.prototype.runProcess=function(){return true};e.VfsAppProgram=function(){};e.VfsAppProgram.prototype=new e.DfApplicationProgram;e.VfsAppProgram.prototype._ff_c="VfsAppProgram";e.VfsAppProgram.DEFAULT_PROGRAM_NAME="VfsAppProgram";e.VfsAppProgram.prototype.getProgramName=function(){return e.VfsAppProgram.DEFAULT_PROGRAM_NAME};e.VfsAppProgram.prototype.newProgram=function(){let t=new e.VfsAppProgram;t.setup();return t};e.VfsAppProgram.prototype.prepareProgramMetadata=function(e){};e.VfsAppProgram.prototype.processArguments=function(e){};e.VfsAppProgram.prototype.processConfiguration=function(e){};e.VfsAppProgram.prototype.runProcess=function(){return true};e.UndoRedoAction=function(){};e.UndoRedoAction.prototype=new e.SyncAction;e.UndoRedoAction.prototype._ff_c="UndoRedoAction";e.UndoRedoAction.createAndRun=function(t,n,r,i,o,s){let a=new e.UndoRedoAction;a.m_stateId=o;a.m_document=s;a.setupActionAndRun(t,r,i,n);return a};e.UndoRedoAction.prototype.m_document=null;e.UndoRedoAction.prototype.m_stateId=null;e.UndoRedoAction.prototype.callListener=function(e,t,n,r){t.undoRedoActionFinished(e,n,r)};e.UndoRedoAction.prototype.documentStateApplied=function(e,t,n){if(e.hasErrors()){this.addAllMessages(e)}this.setData(e.getData());this.endSync()};e.UndoRedoAction.prototype.processSynchronization=function(t){if(e.isNull(this.m_stateId)){this.addError(1,"Undo not possible");return false}else{let n=this.m_document.getDocumentStateManager().applyDocumentState(t,this,null,this.m_stateId);if(e.isNull(n)){this.addError(1e3,"Undo failed");this.endSync();return false}}return true};e.UndoRedoAction.prototype.releaseObjectInternal=function(){};e.Application=function(){};e.Application.prototype=new e.DfApplication;e.Application.prototype._ff_c="Application";e.Application.create=function(t,n){let r=new e.Application;r.setupApplication(t,n);return r};e.Application.getApplicationFromProcess=function(t){let n=t;let r=n.getApplication();while(e.isNull(r)&&n.getParentProcess()!==null){n=n.getParentProcess();r=n.getApplication()}return r};e.Application.getOrCreateApplicationFromProcess=function(t){let n=e.Application.getApplicationFromProcess(t);if(e.notNull(n)){return n}let r=e.ApplicationFactory.createApplication(t);r.setSystemLandscape(t.getSystemLandscape());return r};e.Application.prototype.m_applicationName=null;e.Application.prototype.m_connectionPool=null;e.Application.prototype.m_messageManager=null;e.Application.prototype.m_repositoryManager=null;e.Application.prototype.m_sendBottleMessages=0;e.Application.prototype.m_systemLandscape=null;e.Application.prototype.m_uiManager=null;e.Application.prototype.getApplicationName=function(){return this.m_applicationName};e.Application.prototype.getConnection=function(e){return this.m_connectionPool.getConnection(e)};e.Application.prototype.getConnectionPool=function(){return this.m_connectionPool};e.Application.prototype.getErrorManager=function(){return this.m_messageManager};e.Application.prototype.getRepositoryManager=function(){return this.m_repositoryManager};e.Application.prototype.getSyncManager=function(){return this};e.Application.prototype.getSystemConnect=function(e){return this.m_connectionPool.getSystemConnect(e)};e.Application.prototype.getSystemLandscape=function(){return this.m_systemLandscape};e.Application.prototype.getUiManagerExt=function(t){if(e.isNull(this.m_uiManager)&&t===true){let t=this.getProcess().openSubSystem(e.SubSystemType.GUI);this.m_uiManager=t.getMainApi()}if(e.isNull(this.m_uiManager)){let t=this.getProcess();while(e.notNull(t)&&e.isNull(this.m_uiManager)){this.m_uiManager=t.getSubSystem(e.SubSystemType.GUI);t=t.getParentProcess()}}return this.m_uiManager};e.Application.prototype.getUserManager=function(){return this.getProcess().getUserManager()};e.Application.prototype.isSapStatisticsEnabled=function(){return this.getSession().isSapStatisticsEnabled()};e.Application.prototype.prepareMessage=function(){let t=e.PrFactory.createStructure();t.putString("AppId",this.getApplicationId());t.putString("Time",e.XDateTime.createCurrentLocalDateTime().toIso8601Format());t.putInteger("Number",this.m_sendBottleMessages);let n=this.getConnectionPool();let r=n.getActiveSystems();let i=t.putNewList("Connections");for(let t=0;t<r.size();t++){let o=r.get(t);let s=n.getOpenConnections(o);let a=s.size();let l=i.addNewStructure();l.putString("SysName",o);l.putInteger("OpenConn",a);let u=l.putNewList("Shared");for(let t=0;t<a;t++){let n=s.get(t);if(n.isShared()&&n.useSessionUrlRewrite()&&e.XStringUtils.isNotNullAndNotEmpty(n.getSessionUrlRewrite())){let e=u.addNewStructure();e.putString("Name",n.getName());e.putString("CsrfToken",n.getCsrfToken());e.putString("SessionUrlRewrite",n.getSessionUrlRewrite())}}}let o=e.PrUtils.serialize(t,false,false,0);return o};e.Application.prototype.processBooting=e.noSupport;e.Application.prototype.receiveMessage=function(t){let n=e.JsonParserFactory.createFromString(t);let r=this.getConnectionPool();let i=n.getListByKey("Connections");for(let e=0;e<i.size();e++){let t=i.getStructureAt(e);let n=t.getStringByKey("SysName");let o=t.getListByKey("Shared");for(let e=0;e<o.size();e++){let t=o.getStructureAt(e);let i=t.getStringByKey("Name");let s=t.getStringByKey("CsrfToken");let a=t.getStringByKey("SessionUrlRewrite");r.setExternalSharedConnection(n,i,s,a)}}};e.Application.prototype.releaseObject=function(){this.releaseManagedObjects();if(this.isReleased()===false){this.m_connectionPool=e.XObjectExt.release(this.m_connectionPool);this.m_messageManager=e.XObjectExt.release(this.m_messageManager);this.m_systemLandscape=null;this.m_uiManager=null;this.m_repositoryManager=null;this.m_applicationName=null}e.DfApplication.prototype.releaseObject.call(this)};e.Application.prototype.setApplicationName=function(e){this.m_applicationName=e;let t=this.getProcess();t.setApplicationName(e)};e.Application.prototype.setErrorManager=function(e){this.m_messageManager=e};e.Application.prototype.setSapStatisticsEnabled=function(e){this.getSession().setSapStatisticsEnabled(e)};e.Application.prototype.setSystemLandscape=function(t){this.m_systemLandscape=t;let n=this.getProcess();n.setEntity(e.ProcessEntity.SYSTEM_LANDSCAPE,t)};e.Application.prototype.setUiManager=function(e){this.m_uiManager=e};e.Application.prototype.setupApplication=function(t,n){this.setupWithApplicationId(null);this.setProcessExt(t,false);this.setErrorManager(e.MessageManager.createMessageManagerExt(t));this.m_repositoryManager=e.RepositoryManager.create(this);this.m_connectionPool=e.ConnectionPool.create(t);t.setEntity(e.ProcessEntity.CONNECTION_POOL,this.m_connectionPool)};e.Application.prototype.toString=function(){let t=e.XStringBuffer.create();t.appendLine("Application");if(e.notNull(this.m_messageManager)){t.appendNewLine();t.append(this.m_messageManager.toString())}return t.toString()};e.SubApplication=function(){};e.SubApplication.prototype=new e.DfApplication;e.SubApplication.prototype._ff_c="SubApplication";e.SubApplication.create=function(t,n){return e.SubApplication.createWithId(t,n,null)};e.SubApplication.createWithId=function(t,n,r){let i=new e.SubApplication;i.setupSubApplication(t,n,r);return i};e.SubApplication.prototype.m_parentApplication=null;e.SubApplication.prototype.m_subUiManager=null;e.SubApplication.prototype.getApplicationName=function(){return this.m_parentApplication.getApplicationName()};e.SubApplication.prototype.getClientComponent=function(){return this.m_parentApplication.getClientComponent()};e.SubApplication.prototype.getClientIdentifier=function(){return this.m_parentApplication.getClientIdentifier()};e.SubApplication.prototype.getClientVersion=function(){return this.m_parentApplication.getClientVersion()};e.SubApplication.prototype.getConnection=function(e){return this.m_parentApplication.getConnection(e)};e.SubApplication.prototype.getConnectionPool=function(){return this.m_parentApplication.getConnectionPool()};e.SubApplication.prototype.getErrorManager=function(){return this.m_parentApplication.getErrorManager()};e.SubApplication.prototype.getRepositoryManager=function(){return this.m_parentApplication.getRepositoryManager()};e.SubApplication.prototype.getSyncManager=function(){return this.m_parentApplication.getSyncManager()};e.SubApplication.prototype.getSystemConnect=function(e){return this.m_parentApplication.getSystemConnect(e)};e.SubApplication.prototype.getSystemLandscape=function(){return this.m_parentApplication.getSystemLandscape()};e.SubApplication.prototype.getUiManagerExt=function(t){if(e.isNull(this.m_subUiManager)){let e=this.m_parentApplication.getUiManagerExt(t);this.m_subUiManager=e}return this.m_subUiManager};e.SubApplication.prototype.getUserManager=function(){return this.m_parentApplication.getUserManager()};e.SubApplication.prototype.isSapStatisticsEnabled=function(){return this.m_parentApplication.isSapStatisticsEnabled()};e.SubApplication.prototype.processBooting=e.noSupport;e.SubApplication.prototype.releaseObject=function(){this.releaseManagedObjects();this.m_subUiManager=null;this.m_parentApplication.unregisterSubApplication(this);this.m_parentApplication=null;e.DfApplication.prototype.releaseObject.call(this)};e.SubApplication.prototype.setApplicationName=function(e){this.m_parentApplication.setApplicationName(e)};e.SubApplication.prototype.setErrorManager=function(e){this.m_parentApplication.setErrorManager(e)};e.SubApplication.prototype.setSapStatisticsEnabled=function(e){this.m_parentApplication.setSapStatisticsEnabled(e)};e.SubApplication.prototype.setSystemLandscape=function(e){this.m_parentApplication.setSystemLandscape(e)};e.SubApplication.prototype.setUiManager=function(e){this.m_subUiManager=e};e.SubApplication.prototype.setupSubApplication=function(t,n,r){e.DfApplication.prototype.setupWithApplicationId.call(this,r);let i=n;if(e.isNull(i)){let n=t.getProcess();i=n.newChildProcess(e.ProcessType.SERVICE)}this.setProcessExt(i,true);this.m_parentApplication=t};e.RuntimeComponentType=function(){};e.RuntimeComponentType.prototype=new e.XComponentType;e.RuntimeComponentType.prototype._ff_c="RuntimeComponentType";e.RuntimeComponentType.APPLICATION=null;e.RuntimeComponentType.APPLICATION_PROGRAM=null;e.RuntimeComponentType.SERVICE_DATA_PROVIDER=null;e.RuntimeComponentType.SUB_APPLICATION=null;e.RuntimeComponentType.createRuntimeType=function(t,n){let r=new e.RuntimeComponentType;if(e.isNull(n)){r.setupExt(t,e.XComponentType._ROOT)}else{r.setupExt(t,n)}return r};e.RuntimeComponentType.staticSetupRuntimeComponentTypes=function(){e.RuntimeComponentType.APPLICATION=e.RuntimeComponentType.createRuntimeType("Application",e.XComponentType._ROOT);e.RuntimeComponentType.SUB_APPLICATION=e.RuntimeComponentType.createRuntimeType("SubApplication",e.XComponentType._ROOT);e.RuntimeComponentType.SERVICE_DATA_PROVIDER=e.RuntimeComponentType.createRuntimeType("ServiceDataProvider",e.IoComponentType.DATA_PROVIDER);e.RuntimeComponentType.APPLICATION_PROGRAM=e.RuntimeComponentType.createRuntimeType("ApplicationProgram",e.XComponentType._PROGRAM)};e.DfService=function(){};e.DfService.prototype=new e.SyncActionExt;e.DfService.prototype._ff_c="DfService";e.DfService.prototype.m_application=null;e.DfService.prototype.m_connectionContainer=null;e.DfService.prototype.m_isServiceInRelease=false;e.DfService.prototype.m_serviceConfig=null;e.DfService.prototype.callListener=function(e,t,n,r){t.onServiceInitialized(e,n,r)};e.DfService.prototype.getApplication=function(){return this.m_application};e.DfService.prototype.getConnection=function(){return e.XWeakReferenceUtil.getHardRef(this.m_connectionContainer)};e.DfService.prototype.getServiceConfig=function(){return this.m_serviceConfig};e.DfService.prototype.isServiceConfigMatching=function(e,t,n){return true};e.DfService.prototype.processInitialization=function(e,t,n){return this.processSyncAction(e,t,n)};e.DfService.prototype.processSynchronization=function(e){return false};e.DfService.prototype.registerServiceAtApplication=function(){let t=this.getApplication();if(e.isNull(t)){return}t.registerService(this)};e.DfService.prototype.releaseObjectInternal=function(){if(!this.m_isServiceInRelease){this.m_isServiceInRelease=true;this.unregisterServiceAtApplication();this.m_connectionContainer=null;this.m_application=null}};e.DfService.prototype.requiresInitialization=function(){return true};e.DfService.prototype.setConnection=function(t){this.m_connectionContainer=e.XWeakReferenceUtil.getWeakRef(t)};e.DfService.prototype.setupService=function(e){this.setupAction(null,null,null,e);this.m_serviceConfig=e;this.m_application=e.getApplication();if(e.isSystemBoundService()){this.setConnection(e.getConnectionContainer())}this.registerServiceAtApplication()};e.DfService.prototype.unregisterServiceAtApplication=function(){let t=this.getApplication();if(e.notNull(t)){t.unregisterService(this)}};e.DfServiceConfig=function(){};e.DfServiceConfig.prototype=new e.SyncActionExt;e.DfServiceConfig.prototype._ff_c="DfServiceConfig";e.DfServiceConfig.prototype.m_application=null;e.DfServiceConfig.prototype.m_connectionContainer=null;e.DfServiceConfig.prototype.m_connectionName=null;e.DfServiceConfig.prototype.m_isConfigInRelease=false;e.DfServiceConfig.prototype.m_name=null;e.DfServiceConfig.prototype.m_requestTimeZone=null;e.DfServiceConfig.prototype.m_serverMetadata=null;e.DfServiceConfig.prototype.m_serviceTemporary=null;e.DfServiceConfig.prototype.m_serviceType=null;e.DfServiceConfig.prototype.m_syncTypeForInitialization=null;e.DfServiceConfig.prototype.m_systemName=null;e.DfServiceConfig.prototype.m_tagging=null;e.DfServiceConfig.prototype.m_useAsDataProvider=false;e.DfServiceConfig.prototype.m_usePrivateConnection=false;e.DfServiceConfig.prototype.copyFromInternal=function(e,t){let n=e;this.m_systemName=n.getSystemName();this.m_application=n.getApplication();this.m_requestTimeZone=n.getRequestTimeZone();this.m_useAsDataProvider=n.m_useAsDataProvider;this.m_tagging=n.m_tagging.createMapByStringCopy();this.m_syncTypeForInitialization=n.m_syncTypeForInitialization;this.m_serviceType=n.m_serviceType;this.m_connectionContainer=n.m_connectionContainer;this.m_connectionName=n.m_connectionName};e.DfServiceConfig.prototype.endSync=function(){this.m_serviceTemporary=null;e.SyncActionExt.prototype.endSync.call(this)};e.DfServiceConfig.prototype.getApplication=function(){return this.m_application};e.DfServiceConfig.prototype.getComponentType=function(){return e.RuntimeComponentType.SERVICE_DATA_PROVIDER};e.DfServiceConfig.prototype.getConnectionContainer=function(){return e.XWeakReferenceUtil.getHardRef(this.m_connectionContainer)};e.DfServiceConfig.prototype.getConnectionName=function(){return this.m_connectionName};e.DfServiceConfig.prototype.getDataProviderName=function(){return this.m_name};e.DfServiceConfig.prototype.getMatchingServiceForServiceName=function(t){return e.ServiceUtils.getMatchingService(this,t,this)};e.DfServiceConfig.prototype.getName=function(){return this.m_name};e.DfServiceConfig.prototype.getRequestTimeZone=function(){return this.m_requestTimeZone};e.DfServiceConfig.prototype.getServiceTypeInfo=function(){return this.m_serviceType};e.DfServiceConfig.prototype.getSystemDescription=function(){let t=this.getActionContext();let n=t.getSystemLandscape();if(e.isNull(n)){return null}let r=this.getSystemName();if(e.isNull(r)){return n.getMasterSystem()}return n.getSystemDescription(r)};e.DfServiceConfig.prototype.getSystemName=function(){if(e.isNull(this.m_systemName)){this.m_systemName=this.getApplication().getSystemLandscape().getMasterSystemName()}return this.m_systemName};e.DfServiceConfig.prototype.getSystemType=function(){return this.getSystemDescription().getSystemType()};e.DfServiceConfig.prototype.getTagging=function(){return this.m_tagging};e.DfServiceConfig.prototype.hasPrivateConnection=function(){return this.m_usePrivateConnection};e.DfServiceConfig.prototype.hasSystemNameSet=function(){return e.notNull(this.m_systemName)};e.DfServiceConfig.prototype.isDataProviderUsage=function(){return this.m_useAsDataProvider};e.DfServiceConfig.prototype.isRequestTimeZoneSet=function(){return e.notNull(this.m_requestTimeZone)};e.DfServiceConfig.prototype.isSystemBoundService=function(){return true};e.DfServiceConfig.prototype.onServerMetadataLoaded=function(t,n,r){this.addAllMessages(t);this.m_serverMetadata=t;if(this.isSystemBoundService()&&this.m_serverMetadata.hasErrors()){this.endSync();return}let i=this.m_syncTypeForInitialization;this.m_syncTypeForInitialization=null;let o=this.getServiceTypeInfo();let s=e.isNull(o)?null:o.getServiceReferenceName();this.m_serviceTemporary=this.getMatchingServiceForServiceName(s);if(e.isNull(this.m_serviceTemporary)){this.addError(e.ErrorCodes.SERVICE_NOT_FOUND,s);this.endSync();return}if(this.m_serviceTemporary.requiresInitialization()){let t=this.m_serviceTemporary.processInitialization(i,this,null);if(e.isNull(t)){this.setDataFromService(this.m_serviceTemporary);this.endSync()}}else{this.setDataFromService(this.m_serviceTemporary);this.endSync()}};e.DfServiceConfig.prototype.onServiceInitialized=function(e,t,n){this.addAllMessages(e);this.setDataFromService(this.m_serviceTemporary);this.endSync()};e.DfServiceConfig.prototype.prepareDefinition=function(){};e.DfServiceConfig.prototype.processSyncAction=function(t,n,r){if(this.getSyncState().isInSync()){this.resetSyncState()}return e.SyncActionExt.prototype.processSyncAction.call(this,t,n,r)};e.DfServiceConfig.prototype.processSynchronization=function(t){this.m_syncTypeForInitialization=t;this.prepareDefinition();if(this.isSystemBoundService()){let n=this.getSystemDescription();if(e.isNull(n)){this.addError(0,e.XStringUtils.concatenate2("Cannot find system description: ",this.getSystemName()));return false}if(e.isNull(this.m_connectionContainer)){let t=this.getActionContext().getConnectionPool();this.m_connectionContainer=e.XWeakReferenceUtil.getWeakRef(t.getConnectionExt(n.getSystemName(),this.m_usePrivateConnection,this.m_connectionName))}let r=this.getConnectionContainer();if(t===e.SyncType.BLOCKING){let e=r.getSystemConnect().getServerMetadataExt(t,null,null);this.onServerMetadataLoaded(e,e.getData(),null)}else{r.getSystemConnect().getServerMetadataExt(t,this,null)}}else{this.onServerMetadataLoaded(null,null,null)}return true};e.DfServiceConfig.prototype.releaseObjectInternal=function(){if(!this.m_isConfigInRelease){this.m_isConfigInRelease=true;if(this.m_useAsDataProvider){this.m_application.unregisterDataProvider(this);let t=this.getData();t=e.XObjectExt.release(t);this.setData(t)}this.m_application=null;this.m_tagging=null;this.m_connectionContainer=null;this.m_connectionName=null;this.m_serverMetadata=null;this.m_serviceTemporary=e.XObjectExt.release(this.m_serviceTemporary);this.m_serviceType=null;this.m_syncTypeForInitialization=null;this.m_systemName=null;this.m_requestTimeZone=null}};e.DfServiceConfig.prototype.setConnectionContainer=function(t){this.m_connectionContainer=e.XWeakReferenceUtil.getWeakRef(t)};e.DfServiceConfig.prototype.setConnectionName=function(e){this.m_connectionName=e};e.DfServiceConfig.prototype.setDataProviderName=function(e){this.m_name=e};e.DfServiceConfig.prototype.setDefaultTimeZone=function(){this.m_requestTimeZone=e.XTimeZone.getCurrentTimeZoneString()};e.DfServiceConfig.prototype.setName=function(e){this.m_name=e};e.DfServiceConfig.prototype.setRequestTimeZone=function(e){this.m_requestTimeZone=e};e.DfServiceConfig.prototype.setServiceTypeInfo=function(e){this.m_serviceType=e};e.DfServiceConfig.prototype.setSystemName=function(e){this.m_systemName=e};e.DfServiceConfig.prototype.setUseAsDataProvider=function(e){if(!this.m_useAsDataProvider&&e){this.getApplication().registerDataProvider(this)}if(this.m_useAsDataProvider&&!e){this.getApplication().unregisterDataProvider(this)}this.m_useAsDataProvider=e;this.setAutoConvertDataToWeakRef(!e)};e.DfServiceConfig.prototype.setupConfig=function(t){let n=null;this.setupAction(null,n,null,t);this.m_application=t;this.setAutoConvertDataToWeakRef(true);this.m_tagging=e.XHashMapByString.create()};e.DfServiceConfig.prototype.usePrivateConnection=function(e){this.m_usePrivateConnection=e};e.DfServiceConfigClassic=function(){};e.DfServiceConfigClassic.prototype=new e.DfServiceConfig;e.DfServiceConfigClassic.prototype._ff_c="DfServiceConfigClassic";e.DfServiceConfigClassic.prototype.callListener=function(e,t,n,r){let i=t;i.onServiceCreation(e,n,r)};e.DfServiceConfigClassic.prototype.processServiceCreation=function(e,t,n){return this.processSyncAction(e,t,n)};e.DfServiceConfigClassic.prototype.setDataFromService=function(e){this.setData(e)};e.RuntimeModule=function(){};e.RuntimeModule.prototype=new e.DfModule;e.RuntimeModule.prototype._ff_c="RuntimeModule";e.RuntimeModule.LISTENER_SERVER_METADATA_VALID=null;e.RuntimeModule.LISTENER_SERVICE_INCUBATOR=null;e.RuntimeModule.XS_REPOSITORY="REPOSITORY";e.RuntimeModule.s_module=null;e.RuntimeModule.getInstance=function(){if(e.isNull(e.RuntimeModule.s_module)){e.DfModule.checkInitialized(e.IoExtModule.getInstance());e.DfModule.checkInitialized(e.KernelImplModule.getInstance());e.DfModule.checkInitialized(e.KernelNativeModule.getInstance());e.DfModule.checkInitialized(e.BindingModule.getInstance());e.RuntimeModule.s_module=e.DfModule.startExt(new e.RuntimeModule);let t=e.RegistrationService.getInstance();e.RuntimeModule.LISTENER_SERVICE_INCUBATOR=e.XStringValue.create("IServiceCreationListener");e.RuntimeModule.LISTENER_SERVER_METADATA_VALID=e.XStringValue.create("IServerMetadataListener");e.RuntimeComponentType.staticSetupRuntimeComponentTypes();e.OlapEnvironmentFactory.staticSetup();e.RepoMountType.staticSetup();e.ApplicationSystemOption.staticSetup();e.RpcHttpFunctionFactory.staticSetup();e.BatchRequestManagerInAFactory.staticSetupBatchInAFactory();e.InAMergeProcessorSetupInitiator.staticSetup();e.NestedBatchRequestDecoratorProvider.staticSetup();t.addReference(e.BatchRequestDecoratorFactory.BATCH_REQUEST_DECORATOR_PROVIDER,e.NestedBatchRequestDecoratorProvider.CLAZZ);e.DsrPassportFactory.staticSetup();e.ProgramRegistry.setProgramFactory(new e.StandardAppProgram);e.ProgramRegistry.setProgramFactory(new e.OrcaAppProgram);e.ProgramRegistry.setProgramFactory(new e.DragonflyAppProgram);e.ProgramRegistry.setProgramFactory(new e.OrcaLiteViewerAppProgram);e.ProgramRegistry.setProgramFactory(new e.GenericAppProgram);e.DfModule.stopExt(e.RuntimeModule.s_module)}return e.RuntimeModule.s_module};e.RuntimeModule.prototype.getName=function(){return"ff2100.runtime"};e.RuntimeModule.getInstance();return e});
//# sourceMappingURL=ff2100.runtime.js.map