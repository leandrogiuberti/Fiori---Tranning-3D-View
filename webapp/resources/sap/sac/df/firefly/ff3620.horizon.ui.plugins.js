/*!
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.define(["sap/sac/df/firefly/ff3610.horizon.ui","sap/sac/df/firefly/ff3350.cell.engine.ui","sap/sac/df/firefly/ff3450.contextmenu.engine.ui"],function(e){"use strict";e.MenuEnginePluginDebugExampleActionRegistrationHelper=function(){};e.MenuEnginePluginDebugExampleActionRegistrationHelper.prototype=new e.XObject;e.MenuEnginePluginDebugExampleActionRegistrationHelper.prototype._ff_c="MenuEnginePluginDebugExampleActionRegistrationHelper";e.MenuEnginePluginDebugExampleActionRegistrationHelper.PANEL_PRESENTATION="Panel.Presentation";e.MenuEnginePluginDebugExampleActionRegistrationHelper.PANEL_PRESENTATION_DESCRIPTION="Panel.Presentation.Description";e.MenuEnginePluginDebugExampleActionRegistrationHelper.PANEL_PRESENTATION_DESCRIPTION_AND_ID="Panel.Presentation.DescriptionAndId";e.MenuEnginePluginDebugExampleActionRegistrationHelper.PANEL_PRESENTATION_ID="Panel.Presentation.Id";e.MenuEnginePluginDebugExampleActionRegistrationHelper.PANEL_PRESENTATION_ID_AND_DESCRIPTION="Panel.Presentation.IdAndDescription";e.MenuEnginePluginDebugExampleActionRegistrationHelper.PANEL_PRESENTATION_TOGGLE_DESCRIPTION="Panel.Presentation.Toggle.Description";e.MenuEnginePluginDebugExampleActionRegistrationHelper.PANEL_PRESENTATION_TOGGLE_ID="Panel.Presentation.Toggle.Id";e.MenuEnginePluginDebugExampleActionRegistrationHelper.PANEL_SELECTION="Panel.Selection";e.MenuEnginePluginDebugExampleActionRegistrationHelper.PANEL_SELECTION_A="Panel.Selection.A";e.MenuEnginePluginDebugExampleActionRegistrationHelper.PANEL_SELECTION_B="Panel.Selection.B";e.MenuEnginePluginDebugExampleActionRegistrationHelper.PANEL_SELECTION_C="Panel.Selection.C";e.MenuEnginePluginDebugExampleActionRegistrationHelper.PANEL_VISIBILITY_TOGGLE="Panel.Visibility.Toggle";e.MenuEnginePluginDebugExampleActionRegistrationHelper.create=function(){let t=new e.MenuEnginePluginDebugExampleActionRegistrationHelper;t.m_multiActionWrapper=e.CMEMultiActionWrapper.create();return t};e.MenuEnginePluginDebugExampleActionRegistrationHelper.prototype.m_multiActionWrapper=null;e.MenuEnginePluginDebugExampleActionRegistrationHelper.prototype.m_selectedOption=null;e.MenuEnginePluginDebugExampleActionRegistrationHelper.prototype.getWrapper=function(){return this.m_multiActionWrapper};e.MenuEnginePluginDebugExampleActionRegistrationHelper.prototype.releaseObject=function(){this.m_multiActionWrapper=e.XObjectExt.release(this.m_multiActionWrapper);e.XObject.prototype.releaseObject.call(this)};e.MenuEnginePluginDebugExampleActionRegistrationHelper.prototype.resolveMyCustomCarrierObject=function(t){let i=t.getSingleSubContext("MenuEngineDebug.Example.*");return e.isNull(i)?null:i.getCustomObject()};e.MenuEnginePluginDebugExampleActionRegistrationHelper.prototype.setupActions=function(t){let i=e.CMEFactory.createSelectionOption();i.setNameProvider(t=>e.MenuEnginePluginDebugExampleActionRegistrationHelper.PANEL_PRESENTATION_DESCRIPTION);i.setTextProvider(e=>"Description");this.m_multiActionWrapper.registerAction(e.MenuEnginePluginDebugExampleActionRegistrationHelper.PANEL_PRESENTATION_DESCRIPTION,i);let n=e.CMEFactory.createSelectionOption();n.setNameProvider(t=>e.MenuEnginePluginDebugExampleActionRegistrationHelper.PANEL_PRESENTATION_ID);n.setTextProvider(e=>"Id");this.m_multiActionWrapper.registerAction(e.MenuEnginePluginDebugExampleActionRegistrationHelper.PANEL_PRESENTATION_ID,n);let o=e.CMEFactory.createSelectionOption();o.setNameProvider(t=>e.MenuEnginePluginDebugExampleActionRegistrationHelper.PANEL_PRESENTATION_ID_AND_DESCRIPTION);o.setTextProvider(e=>"Id and Description");this.m_multiActionWrapper.registerAction(e.MenuEnginePluginDebugExampleActionRegistrationHelper.PANEL_PRESENTATION_ID_AND_DESCRIPTION,o);let l=e.CMEFactory.createSelectionOption();l.setNameProvider(t=>e.MenuEnginePluginDebugExampleActionRegistrationHelper.PANEL_PRESENTATION_DESCRIPTION_AND_ID);l.setTextProvider(e=>"Description and Id");this.m_multiActionWrapper.registerAction(e.MenuEnginePluginDebugExampleActionRegistrationHelper.PANEL_PRESENTATION_DESCRIPTION_AND_ID,l);let a=e.CMEFactory.createSingleSelectAction();a.setNameProvider(t=>e.MenuEnginePluginDebugExampleActionRegistrationHelper.PANEL_PRESENTATION);a.setTextProvider(e=>"Presentation Options");a.setEnabledProvider(e=>true);a.setOptionsRetriever(t=>{let a=e.XList.create();a.add(i);a.add(n);a.add(o);a.add(l);return a});a.setSelectionRetriever(e=>this.m_selectedOption);a.setSelectionConsumer((e,i)=>{this.m_selectedOption=i;t()});this.m_multiActionWrapper.registerAction(e.MenuEnginePluginDebugExampleActionRegistrationHelper.PANEL_PRESENTATION,a);let r=e.CMEFactory.createToggleAction();r.setNameProvider(t=>e.MenuEnginePluginDebugExampleActionRegistrationHelper.PANEL_PRESENTATION_TOGGLE_ID);r.setTextProvider(e=>"Id");r.setProvider(e=>this.m_selectedOption===n||this.m_selectedOption===o||this.m_selectedOption===l);r.setConsumer((l,a)=>{if(a.getBoolean()){if(e.isNull(this.m_selectedOption)||this.m_selectedOption===n){this.m_selectedOption=n}else{this.m_selectedOption=o}}else if(this.m_selectedOption===n||e.isNull(this.m_selectedOption)){this.m_selectedOption=null}else{this.m_selectedOption=i}t()});this.m_multiActionWrapper.registerAction(e.MenuEnginePluginDebugExampleActionRegistrationHelper.PANEL_PRESENTATION_TOGGLE_ID,r);r=e.CMEFactory.createToggleAction();r.setNameProvider(t=>e.MenuEnginePluginDebugExampleActionRegistrationHelper.PANEL_PRESENTATION_TOGGLE_DESCRIPTION);r.setTextProvider(e=>"Description");r.setProvider(e=>this.m_selectedOption===i||this.m_selectedOption===o||this.m_selectedOption===l);r.setConsumer((l,a)=>{if(a.getBoolean()){if(e.isNull(this.m_selectedOption)||this.m_selectedOption===i){this.m_selectedOption=i}else{this.m_selectedOption=o}}else if(this.m_selectedOption===i||e.isNull(this.m_selectedOption)){this.m_selectedOption=null}else{this.m_selectedOption=n}t()});this.m_multiActionWrapper.registerAction(e.MenuEnginePluginDebugExampleActionRegistrationHelper.PANEL_PRESENTATION_TOGGLE_DESCRIPTION,r);r=e.CMEFactory.createToggleAction();r.setNameProvider(t=>e.MenuEnginePluginDebugExampleActionRegistrationHelper.PANEL_VISIBILITY_TOGGLE);r.setTextProvider(e=>"Visible");r.setAvailableProvider(t=>{let i=this.resolveMyCustomCarrierObject(t);return e.notNull(i)});r.setProvider(t=>{let i=this.resolveMyCustomCarrierObject(t);return e.notNull(i)&&i.isVisible()});r.setConsumer((i,n)=>{let o=this.resolveMyCustomCarrierObject(i);if(e.notNull(o)){o.setVisible(n.getBoolean())}t()});this.m_multiActionWrapper.registerAction(e.MenuEnginePluginDebugExampleActionRegistrationHelper.PANEL_VISIBILITY_TOGGLE,r);let s=e.CMEFactory.createSelectionOption();s.setNameProvider(t=>e.MenuEnginePluginDebugExampleActionRegistrationHelper.PANEL_SELECTION_A);s.setTextProvider(e=>"A");s.setCustomObject(e.XStringValue.create("A"));this.m_multiActionWrapper.registerAction(e.MenuEnginePluginDebugExampleActionRegistrationHelper.PANEL_SELECTION_A,s);let u=e.CMEFactory.createSelectionOption();u.setNameProvider(t=>e.MenuEnginePluginDebugExampleActionRegistrationHelper.PANEL_SELECTION_B);u.setTextProvider(e=>"B");u.setCustomObject(e.XStringValue.create("B"));this.m_multiActionWrapper.registerAction(e.MenuEnginePluginDebugExampleActionRegistrationHelper.PANEL_SELECTION_B,u);let g=e.CMEFactory.createSelectionOption();g.setNameProvider(t=>e.MenuEnginePluginDebugExampleActionRegistrationHelper.PANEL_SELECTION_C);g.setTextProvider(e=>"C");g.setCustomObject(e.XStringValue.create("C"));this.m_multiActionWrapper.registerAction(e.MenuEnginePluginDebugExampleActionRegistrationHelper.PANEL_SELECTION_C,g);let p=e.XList.create();p.add(s);p.add(u);p.add(g);a=e.CMEFactory.createSingleSelectAction();a.setNameProvider(t=>e.MenuEnginePluginDebugExampleActionRegistrationHelper.PANEL_SELECTION);a.setTextProvider(e=>"Select Options");a.setAvailableProvider(t=>{let i=this.resolveMyCustomCarrierObject(t);return e.notNull(i)});a.setOptionsRetriever(e=>p);let c=t=>e.XStream.of(p).find(i=>e.XString.isEqual(t,i.getCustomObject().toString())).orElse(null);a.setSelectionRetriever(e=>{let t=this.resolveMyCustomCarrierObject(e);return c(t.getSelection())});a.setSelectionConsumer((i,n)=>{let o=this.resolveMyCustomCarrierObject(i);if(e.notNull(o)){o.setSelection(n.getCustomObject().toString())}t()});this.m_multiActionWrapper.registerAction(e.MenuEnginePluginDebugExampleActionRegistrationHelper.PANEL_SELECTION,a)};e.MenuEnginePluginDebugExampleObject=function(){};e.MenuEnginePluginDebugExampleObject.prototype=new e.XObject;e.MenuEnginePluginDebugExampleObject.prototype._ff_c="MenuEnginePluginDebugExampleObject";e.MenuEnginePluginDebugExampleObject.create=function(t,i){let n=new e.MenuEnginePluginDebugExampleObject;n.m_name=t;n.m_text=i;return n};e.MenuEnginePluginDebugExampleObject.prototype.m_name=null;e.MenuEnginePluginDebugExampleObject.prototype.m_selection=null;e.MenuEnginePluginDebugExampleObject.prototype.m_text=null;e.MenuEnginePluginDebugExampleObject.prototype.m_visible=false;e.MenuEnginePluginDebugExampleObject.prototype.getName=function(){return this.m_name};e.MenuEnginePluginDebugExampleObject.prototype.getSelection=function(){return this.m_selection};e.MenuEnginePluginDebugExampleObject.prototype.getText=function(){return this.m_text};e.MenuEnginePluginDebugExampleObject.prototype.isVisible=function(){return this.m_visible};e.MenuEnginePluginDebugExampleObject.prototype.setSelection=function(e){this.m_selection=e};e.MenuEnginePluginDebugExampleObject.prototype.setVisible=function(e){this.m_visible=e};e.HpLocalizationResolver=function(){};e.HpLocalizationResolver.prototype=new e.XObject;e.HpLocalizationResolver.prototype._ff_c="HpLocalizationResolver";e.HpLocalizationResolver.KEY_PREFIX="i18n[";e.HpLocalizationResolver.KEY_SUFFIX="]";e.HpLocalizationResolver.s_singletonInstance=null;e.HpLocalizationResolver.getInstance=function(){if(e.isNull(e.HpLocalizationResolver.s_singletonInstance)){let t=new e.HpLocalizationResolver;t.setup();e.HpLocalizationResolver.s_singletonInstance=t}return e.HpLocalizationResolver.s_singletonInstance};e.HpLocalizationResolver.prototype.resolve=function(t){if(e.XString.startsWith(t,e.HpLocalizationResolver.KEY_PREFIX)&&e.XString.endsWith(t,e.HpLocalizationResolver.KEY_SUFFIX)){let i=e.XString.size(e.HpLocalizationResolver.KEY_PREFIX);let n=e.XString.size(t)-e.XString.size(e.HpLocalizationResolver.KEY_SUFFIX);let o=e.XString.substring(t,i,n);return e.XLocalizationCenter.getCenter().getText(o)}return t};e.HpSideNavigationI18n=function(){};e.HpSideNavigationI18n.prototype=new e.DfXLocalizationProvider;e.HpSideNavigationI18n.prototype._ff_c="HpSideNavigationI18n";e.HpSideNavigationI18n.I18N_SN_COLLAPSE="I18N_SN_COLLAPSE";e.HpSideNavigationI18n.I18N_SN_EXPAND="I18N_SN_EXPAND";e.HpSideNavigationI18n.LOCAL_NAME="SideNavigationI18n";e.HpSideNavigationI18n.getLocalization=function(){return e.XLocalizationCenter.getCenter().getLocalizationProviderByName(e.HpSideNavigationI18n.LOCAL_NAME)};e.HpSideNavigationI18n.staticSetup=function(){let t=new e.HpSideNavigationI18n;t.setupProvider(e.HpSideNavigationI18n.LOCAL_NAME,true);t.addText(e.HpSideNavigationI18n.I18N_SN_EXPAND,"Expand");t.addComment(e.HpSideNavigationI18n.I18N_SN_EXPAND,"#XTOL: Expands the side navigation");t.addText(e.HpSideNavigationI18n.I18N_SN_COLLAPSE,"Collapse");t.addComment(e.HpSideNavigationI18n.I18N_SN_COLLAPSE,"#XTOL: Collapses the side navigation");return t};e.HpTextEditorPlugin=function(){};e.HpTextEditorPlugin.prototype=new e.XObject;e.HpTextEditorPlugin.prototype._ff_c="HpTextEditorPlugin";e.HpTextEditorPlugin.DATA_STORAGE_VALUE_KEY="codeEditorValue";e.HpTextEditorPlugin.PLUGIN_NAME="HorizonTextEditor";e.HpTextEditorPlugin.prototype.m_codeEditor=null;e.HpTextEditorPlugin.prototype.m_codeType=null;e.HpTextEditorPlugin.prototype.m_colorTheme=null;e.HpTextEditorPlugin.prototype.m_controller=null;e.HpTextEditorPlugin.prototype.m_initialText=null;e.HpTextEditorPlugin.prototype.m_persistEditorContent=false;e.HpTextEditorPlugin.prototype._getController=function(){return this.m_controller};e.HpTextEditorPlugin.prototype._handleLiveChange=function(t){if(this.m_persistEditorContent){let i=t.getParameters().getStringByKeyExt(e.UiEventParams.PARAM_VALUE,this.m_codeEditor.getValue());if(!e.XString.isEqual(this.m_initialText,i)){this._getController().getDataStorage().putString(e.HpTextEditorPlugin.DATA_STORAGE_VALUE_KEY,i)}}};e.HpTextEditorPlugin.prototype.buildPluginUi=function(t){this.m_codeEditor=t.newRoot(e.UiType.CODE_EDITOR);this.m_codeEditor.useMaxSpace();this.m_codeEditor.setValue(this.m_initialText);this.m_codeEditor.setCodeType(this.m_codeType);this.m_codeEditor.setColorTheme(this.m_colorTheme);this.m_codeEditor.registerOnFileDrop(e.UiLambdaFileDropListener.create(t=>{let i=t.getFileContentString();if(e.XStringUtils.isNotNullAndNotEmpty(i)){this.m_codeEditor.setValue(i)}}));this.m_codeEditor.registerOnLiveChange(e.UiLambdaLiveChangeListener.create(this._handleLiveChange.bind(this)));this.m_codeEditor.focus()};e.HpTextEditorPlugin.prototype.destroyPlugin=function(){this.m_codeEditor=e.XObjectExt.release(this.m_codeEditor);this.m_controller=null};e.HpTextEditorPlugin.prototype.didBecameHidden=function(){};e.HpTextEditorPlugin.prototype.didBecameVisible=function(){};e.HpTextEditorPlugin.prototype.getName=function(){return e.HpTextEditorPlugin.PLUGIN_NAME};e.HpTextEditorPlugin.prototype.getPluginCategory=function(){return e.HuPluginCategory.SYSTEM};e.HpTextEditorPlugin.prototype.getPluginType=function(){return e.HuPluginType.COMPONENT};e.HpTextEditorPlugin.prototype.onConfigurationChanged=function(e){};e.HpTextEditorPlugin.prototype.onResize=function(e,t){};e.HpTextEditorPlugin.prototype.processConfiguration=function(e){this.m_initialText=e.getStringByKey("text");this.m_codeType=e.getStringByKeyExt("codeType","text");this.m_colorTheme=e.getStringByKey("colorTheme");this.m_persistEditorContent=e.getBooleanByKeyExt("persistEditorContent",false)};e.HpTextEditorPlugin.prototype.setupPlugin=function(t){this.m_controller=t;if(this.m_persistEditorContent){this.m_initialText=t.getDataStorage().getStringByKeyExt(e.HpTextEditorPlugin.DATA_STORAGE_VALUE_KEY,this.m_initialText)}return null};e.HpExpandableListDocumentPlugin=function(){};e.HpExpandableListDocumentPlugin.prototype=new e.HuDfDocumentPlugin;e.HpExpandableListDocumentPlugin.prototype._ff_c="HpExpandableListDocumentPlugin";e.HpExpandableListDocumentPlugin.CONFIG="config";e.HpExpandableListDocumentPlugin.ENABLED="enabled";e.HpExpandableListDocumentPlugin.ICON="icon";e.HpExpandableListDocumentPlugin.ITEMS_AGGREGATION="items";e.HpExpandableListDocumentPlugin.ON_PRESS_NOTIFICATION_NAME="pressNotificationName";e.HpExpandableListDocumentPlugin.PLUGIN_NAME="ExpandableListDocument";e.HpExpandableListDocumentPlugin.POPOVER_TEXT="popoverText";e.HpExpandableListDocumentPlugin.PROP_CSS_CLASS="cssClass";e.HpExpandableListDocumentPlugin.PROP_DESCRIPTION="description";e.HpExpandableListDocumentPlugin.PROP_EXPANDED="expanded";e.HpExpandableListDocumentPlugin.PROP_PLUGIN="plugin";e.HpExpandableListDocumentPlugin.SET_ENABLED_NOTIFICATION_NAME="enabledNotificationName";e.HpExpandableListDocumentPlugin.SET_PANEL_VISIBILITY_NOTIFICATION_NAME="com.sap.ff.ExpandableListDocument.Notification.setPanelVisibility";e.HpExpandableListDocumentPlugin.SET_POPOVER_TEXT_NOTIFICATION_NAME="setPopoverTextNotificationName";e.HpExpandableListDocumentPlugin.SET_VISIBILITY_NOTIFICATION_NAME="visibilityNotificationName";e.HpExpandableListDocumentPlugin.TOOLBAR_BUTTONS="toolbarButtons";e.HpExpandableListDocumentPlugin.TOOLTIP="tooltip";e.HpExpandableListDocumentPlugin.VISIBILITY_NOTIFICATION_DATA_PLUGIN_NAME="com.sap.ff.ExpandableListDocument.NotificationData.pluginName";e.HpExpandableListDocumentPlugin.VISIBILITY_NOTIFICATION_DATA_VISIBLE="com.sap.ff.ExpandableListDocument.NotificationData.visible";e.HpExpandableListDocumentPlugin.VISIBLE="visible";e.HpExpandableListDocumentPlugin.notifyVisibilityStateChange=function(t,i,n){let o=e.XNotificationData.create();o.putString(e.HpExpandableListDocumentPlugin.VISIBILITY_NOTIFICATION_DATA_PLUGIN_NAME,i);o.putBoolean(e.HpExpandableListDocumentPlugin.VISIBILITY_NOTIFICATION_DATA_VISIBLE,n);t.getLocalNotificationCenter().postNotificationWithName(e.HpExpandableListDocumentPlugin.SET_PANEL_VISIBILITY_NOTIFICATION_NAME,o)};e.HpExpandableListDocumentPlugin.prototype.m_layout=null;e.HpExpandableListDocumentPlugin.prototype.m_observerIds=null;e.HpExpandableListDocumentPlugin.prototype.m_pluginPanels=null;e.HpExpandableListDocumentPlugin.prototype.m_scroll=null;e.HpExpandableListDocumentPlugin.prototype._addToolbarButton=function(t,i){let n=i.asStructure();if(e.notNull(n)){let i=n.getStringByKey(e.HpExpandableListDocumentPlugin.ICON);let o=n.getStringByKey(e.HpExpandableListDocumentPlugin.TOOLTIP);let l=n.getStringByKey(e.HpExpandableListDocumentPlugin.SET_VISIBILITY_NOTIFICATION_NAME);let a=n.getStringByKey(e.HpExpandableListDocumentPlugin.SET_ENABLED_NOTIFICATION_NAME);let r=n.getStringByKey(e.HpExpandableListDocumentPlugin.ON_PRESS_NOTIFICATION_NAME);let s=n.getStringByKey(e.HpExpandableListDocumentPlugin.SET_POPOVER_TEXT_NOTIFICATION_NAME);let u=e.UtInfoButtonWidget.create(this.getController().getGenesis(),i,o);t.addItem(u.getView());let g=this.getController().getLocalNotificationCenter();if(e.XStringUtils.isNotNullAndNotEmpty(r)){u.registerOnPress(e.UiLambdaPressListener.create(e=>{g.postNotificationWithName(r,null)}))}if(e.XStringUtils.isNotNullAndNotEmpty(l)){let t=g.addObserverForName(l,t=>{u.setVisible(t.getBooleanByKey(e.HpExpandableListDocumentPlugin.VISIBLE))});this.m_observerIds.add(t)}if(e.XStringUtils.isNotNullAndNotEmpty(a)){let t=g.addObserverForName(a,t=>{u.setEnabled(t.getBooleanByKey(e.HpExpandableListDocumentPlugin.ENABLED))});this.m_observerIds.add(t)}if(e.XStringUtils.isNotNullAndNotEmpty(s)){let t=g.addObserverForName(s,t=>{let i=t.getStringByKey(e.HpExpandableListDocumentPlugin.POPOVER_TEXT);u.setPopoverText(i);u.setEnabled(e.XStringUtils.isNullOrEmpty(i))});this.m_observerIds.add(t)}}};e.HpExpandableListDocumentPlugin.prototype._createPluginPanel=function(t,i,n,o,l){let a=this.m_layout.addNewItemOfType(e.UiType.PANEL);a.addCssClass("ffExpandableListPanel");a.addCssClass(e.XStringUtils.concatenate3("ffExpandableListPanel","-",t));a.addCssClass(l);a.setExpandable(true);a.setExpanded(o);let r=a.setNewHeaderToolbar();r.removeAttribute(e.UtUi5AttributeConstants.FAST_NAV_GROUP);r.setMinHeight(e.UiCssLength.create("2.5rem"));let s=r.addNewItemOfType(e.UiType.TITLE);s.setTitleStyle(e.UiTitleLevel.H_6);s.setTitleLevel(e.UiTitleLevel.H_6);s.setText(i);r.addNewItemOfType(e.UiType.SPACER);e.XCollectionUtils.forEach(n,e=>{this._addToolbarButton(r,e)});return a};e.HpExpandableListDocumentPlugin.prototype.addPanelPlugins=function(){let t=this.getConfiguration();let i=t.getListByKey(e.HpExpandableListDocumentPlugin.ITEMS_AGGREGATION);for(let t=0;t<i.size();t++){let n=i.getStructureAt(t);let o=n.getStringByKey(e.HpExpandableListDocumentPlugin.PROP_PLUGIN);let l=n.getStringByKey(e.HpExpandableListDocumentPlugin.PROP_DESCRIPTION);let a=e.HpLocalizationResolver.getInstance().resolve(l);let r=n.getListByKey(e.HpExpandableListDocumentPlugin.TOOLBAR_BUTTONS);let s=n.getBooleanByKey(e.HpExpandableListDocumentPlugin.PROP_EXPANDED);let u=n.getStructureByKey(e.HpExpandableListDocumentPlugin.CONFIG);let g=n.getStringByKey(e.HpExpandableListDocumentPlugin.PROP_CSS_CLASS);let p=this._createPluginPanel(o,a,r,s,g);this.m_pluginPanels.put(o,p);this.getController().addNewComponentPlugin(o,u,null).onThen(e=>{let t=this.getController().getPluginView(e);p.setContent(t)})}let n=this.getController().getLocalNotificationCenter().addObserverForName(e.HpExpandableListDocumentPlugin.SET_PANEL_VISIBILITY_NOTIFICATION_NAME,t=>{let i=t.getStringByKey(e.HpExpandableListDocumentPlugin.VISIBILITY_NOTIFICATION_DATA_PLUGIN_NAME);let n=this.m_pluginPanels.getByKey(i);if(e.notNull(n)){let i=t.getBooleanByKeyExt(e.HpExpandableListDocumentPlugin.VISIBILITY_NOTIFICATION_DATA_VISIBLE,true);n.setVisible(i)}});this.m_observerIds.add(n)};e.HpExpandableListDocumentPlugin.prototype.destroyPlugin=function(){let t=this.getController().getLocalNotificationCenter();e.XCollectionUtils.forEach(this.m_observerIds,t.removeObserverByUuid.bind(t));this.m_observerIds=e.XObjectExt.release(this.m_observerIds);this.m_layout=e.XObjectExt.release(this.m_layout);this.m_scroll=e.XObjectExt.release(this.m_scroll);e.XCollectionUtils.releaseEntriesFromCollection(this.m_pluginPanels);this.m_pluginPanels=e.XObjectExt.release(this.m_pluginPanels);e.HuDfDocumentPlugin.prototype.destroyPlugin.call(this)};e.HpExpandableListDocumentPlugin.prototype.getAutoLayoutConfiguration=function(){let t=e.PrFactory.createStructure();t.putString("type",e.HuLayoutType.SINGLE_PLUGIN.getName());return t};e.HpExpandableListDocumentPlugin.prototype.getPluginCategory=function(){return e.HuPluginCategory.SYSTEM};e.HpExpandableListDocumentPlugin.prototype.getPluginName=function(){return e.HpExpandableListDocumentPlugin.PLUGIN_NAME};e.HpExpandableListDocumentPlugin.prototype.layoutDocument=function(t){let i=t.getGenesis();this.m_scroll=i.newControl(e.UiType.SCROLL_CONTAINER);this.m_scroll.useMaxSpace();this.m_layout=this.m_scroll.setNewContent(e.UiType.FLEX_LAYOUT);this.m_layout.setDirection(e.UiFlexDirection.COLUMN);this.getController().setRoot(this.m_scroll);this.addPanelPlugins()};e.HpExpandableListDocumentPlugin.prototype.setupPlugin=function(t){e.HuDfDocumentPlugin.prototype.setupPlugin.call(this,t);this.m_observerIds=e.XList.create();this.m_pluginPanels=e.XHashMapByString.create();return null};e.HpSideNavigationDocumentPlugin=function(){};e.HpSideNavigationDocumentPlugin.prototype=new e.HuDfDocumentPlugin;e.HpSideNavigationDocumentPlugin.prototype._ff_c="HpSideNavigationDocumentPlugin";e.HpSideNavigationDocumentPlugin.ADD_HEADER="addHeader";e.HpSideNavigationDocumentPlugin.CLOSE_CMD_FIELD="close-command-field";e.HpSideNavigationDocumentPlugin.CONFIG="config";e.HpSideNavigationDocumentPlugin.CONFIG_POSITION="position";e.HpSideNavigationDocumentPlugin.CONFIG_POSITION_LEFT="left";e.HpSideNavigationDocumentPlugin.CONFIG_POSITION_RIGHT="right";e.HpSideNavigationDocumentPlugin.DEFAULT_ICON="hello-world";e.HpSideNavigationDocumentPlugin.DESCRIPTION="description";e.HpSideNavigationDocumentPlugin.ICON="icon";e.HpSideNavigationDocumentPlugin.ITEMS_AGGREGATION="items";e.HpSideNavigationDocumentPlugin.NOTIFICATION_CHANGE_PANEL_VISIBILITY="com.sap.ff.SideNavigationDocument.Notification.changePanelVisibility";e.HpSideNavigationDocumentPlugin.NOTIFICATION_DATA_CONSUMER="com.sap.ff.SideNavigationDocument.NotificationData.consumer";e.HpSideNavigationDocumentPlugin.NOTIFICATION_DATA_PANEL_KEY="com.sap.ff.SideNavigationDocument.NotificationData.panelKey";e.HpSideNavigationDocumentPlugin.NOTIFICATION_DATA_PANEL_VISIBILITY="com.sap.ff.SideNavigationDocument.NotificationData.panelVisibility";e.HpSideNavigationDocumentPlugin.NOTIFICATION_PANELS_READY="com.sap.ff.SideNavigationDocument.Notification.panelsReady";e.HpSideNavigationDocumentPlugin.NOTIFICATION_SET_PANEL_STATE_CHANGE_CONSUMER="com.sap.ff.SideNavigationDocument.Notification.setPanelStateChangeConsumer";e.HpSideNavigationDocumentPlugin.OPEN_CMD_FIELD="open-command-field";e.HpSideNavigationDocumentPlugin.PANEL_STATE_OPEN_PANELS_KEY="OpenPanels";e.HpSideNavigationDocumentPlugin.PLUGIN="plugin";e.HpSideNavigationDocumentPlugin.PLUGIN_NAME="SideNavigationDocument";e.HpSideNavigationDocumentPlugin.SIDE_NAV_DEFAULT_WIDTH="58px";e.HpSideNavigationDocumentPlugin.prototype.m_changePanelVisibilityObserverId=null;e.HpSideNavigationDocumentPlugin.prototype.m_genesis=null;e.HpSideNavigationDocumentPlugin.prototype.m_lastOpenedPanelKey=null;e.HpSideNavigationDocumentPlugin.prototype.m_layout=null;e.HpSideNavigationDocumentPlugin.prototype.m_navList=null;e.HpSideNavigationDocumentPlugin.prototype.m_navListItemsMap=null;e.HpSideNavigationDocumentPlugin.prototype.m_panelContainer=null;e.HpSideNavigationDocumentPlugin.prototype.m_panelStateChangeConsumers=null;e.HpSideNavigationDocumentPlugin.prototype.m_panelStateChangeObserverId=null;e.HpSideNavigationDocumentPlugin.prototype.m_panels=null;e.HpSideNavigationDocumentPlugin.prototype.m_sideNavigation=null;e.HpSideNavigationDocumentPlugin.prototype._addPanelPlugins=function(){let t=this.getConfiguration();let i=t.getListByKey(e.HpSideNavigationDocumentPlugin.ITEMS_AGGREGATION);let n=e.XPromiseList.create();for(let t=0;t<i.size();t++){let o=t;let l=i.getStructureAt(t);let a=l.getStringByKey(e.HpSideNavigationDocumentPlugin.ICON);let r=e.XStringUtils.isNotNullAndNotEmpty(a)?a:e.HpSideNavigationDocumentPlugin.DEFAULT_ICON;let s=l.getStringByKey(e.HpSideNavigationDocumentPlugin.DESCRIPTION);let u=e.HpLocalizationResolver.getInstance().resolve(s);let g=l.getStringByKey(e.HpSideNavigationDocumentPlugin.PLUGIN);let p=l.getBooleanByKey(e.HpSideNavigationDocumentPlugin.ADD_HEADER);let c=l.getStructureByKey(e.HpSideNavigationDocumentPlugin.CONFIG);let E=this.getController().addNewComponentPlugin(g,c,null);let m=E.onThenPromise(e=>{let t=this.getController().getPluginView(e);return this._createNavListItem(t,g,p,r,u,o)}).onCatchExt(e=>{this.getController().addErrorMessage("Error","Side navigation error",e.getText());return null});n.add(m)}let o=e.XPromise.allSettled(n);o.onThen(t=>{for(let t=0;t<this.m_navListItemsMap.size();t++){let i=this.m_navListItemsMap.getByKey(e.XInteger.convertToString(t));if(e.notNull(i)){this.m_navList.addItem(i)}}this.getLocalNotificationCenter().postNotificationWithName(e.HpSideNavigationDocumentPlugin.NOTIFICATION_PANELS_READY,null)})};e.HpSideNavigationDocumentPlugin.prototype._buildNavigationList=function(){this.m_navList=this.m_sideNavigation.setNewNavList();this.m_navList.addCssClass("ffGdsPanelSideNavigation");let t=this.m_navList.addNewItem();this._updateOverviewIcon();t.setTarget(null);t.setKey("OverviewPanel");t.registerOnSelect(e.UiLambdaSelectListener.create(e=>{let t=this._getLastOpenedPanel();this._togglePanel(t)}))};e.HpSideNavigationDocumentPlugin.prototype._buildPanelContainer=function(){this.m_panelContainer=this.m_layout.addNewItemOfType(e.UiType.FLEX_LAYOUT);this.m_panelContainer.setDirection(e.UiFlexDirection.ROW);this.m_panelContainer.useMaxHeight();this.m_panelContainer.setFlex("auto");this.m_panelContainer.setOverflow(e.UiOverflow.HIDDEN);this.m_panelContainer.setBorderStyle(e.UiBorderStyle.SOLID);if(this.m_layout.getDirection()===e.UiFlexDirection.ROW_REVERSE){this.m_panelContainer.setBorderWidth(e.UiCssBoxEdges.create("0px 1px 0px 0px"))}else{this.m_panelContainer.setBorderWidth(e.UiCssBoxEdges.create("0px 0px 0px 1px"))}this.m_panelContainer.setBorderColor(e.UtStyles.LIGHT_GRAY_COLOR)};e.HpSideNavigationDocumentPlugin.prototype._buildSideNavigation=function(){this.m_sideNavigation=this.m_layout.addNewItemOfType(e.UiType.SIDE_NAVIGATION);this.m_sideNavigation.useMaxHeight();this.m_sideNavigation.addCssClass("ffGdsPanelSideNavigationRoot");this.m_sideNavigation.setFlex("0 0 auto");this.m_sideNavigation.setExpanded(false);this.m_sideNavigation.registerOnItemSelect(e.UiLambdaItemSelectListener.create(t=>{let i=t.getAffectedItem();let n=i.getTag();if(e.XStringUtils.isNotNullAndNotEmpty(n)){this._togglePanel(n)}}));this._buildNavigationList()};e.HpSideNavigationDocumentPlugin.prototype._createNavListItem=function(t,i,n,o,l,a){if(e.XStringUtils.isNotNullAndNotEmpty(i)){let r=this.m_navList.newItem();r.setTag(i);r.setTarget(null);r.setKey(i);if(n){let n=e.UtPanelWidget.create(this.m_genesis,o,l,null);let a=n.getView();a.setContent(t);this.m_panels.put(i,a)}else{let n=this.m_genesis.newControl(e.UiType.SCROLL_CONTAINER).setContent(t).useMaxSpace();this.m_panels.put(i,n)}if(e.XStringUtils.isNotNullAndNotEmpty(o)){r.setIcon(o)}if(e.XStringUtils.isNotNullAndNotEmpty(l)){r.setTooltip(l)}this.m_navListItemsMap.put(e.XInteger.convertToString(a),r);return e.XPromise.resolve(r)}else{return e.XPromise.reject(e.XError.create("Side navigation item cannot be created without a key."))}};e.HpSideNavigationDocumentPlugin.prototype._getLastOpenedPanel=function(){let t=this.m_navList.getItems();let i=null;if(e.XStringUtils.isNotNullAndNotEmpty(this.m_lastOpenedPanelKey)){i=this.m_lastOpenedPanelKey}else if(t.size()>1){i=t.get(1).getTag()}return i};e.HpSideNavigationDocumentPlugin.prototype._getParentSplitterItem=function(){let t=this.m_layout.getParent();while(e.notNull(t)&&t.getUiType()!==e.UiType.INTERACTIVE_SPLITTER_ITEM){t=t.getParent()}return t};e.HpSideNavigationDocumentPlugin.prototype._hidePanel=function(t){let i=this.m_panels.getByKey(t);if(e.notNull(i)){if(i.getParent()===this.m_panelContainer){this.m_panelContainer.removeItem(i);let e=this._getParentSplitterItem();this._resetParentContainerWidths(e);this._updateOverviewIcon();this.notifyPanelStateChange(t,false)}}else{e.XLogger.println(e.XStringUtils.concatenate2("Cannot determine panel with key : ",t))}};e.HpSideNavigationDocumentPlugin.prototype._observeNotifications=function(){let t=this.getController().getLocalNotificationCenter();this.m_panelStateChangeObserverId=t.addObserverForName(e.HpSideNavigationDocumentPlugin.NOTIFICATION_SET_PANEL_STATE_CHANGE_CONSUMER,t=>{let i=t.getXObjectByKey(e.HpSideNavigationDocumentPlugin.NOTIFICATION_DATA_CONSUMER);try{let t=e.XObject.castToAny(i);if(e.notNull(t)){this.m_panelStateChangeConsumers.add(t.getConsumer())}}catch(t){e.XLogger.println("Unable to cast notification data to XConsumerHolder")}});this.m_changePanelVisibilityObserverId=t.addObserverForName(e.HpSideNavigationDocumentPlugin.NOTIFICATION_CHANGE_PANEL_VISIBILITY,t=>{let i=t.getStringByKey(e.HpSideNavigationDocumentPlugin.NOTIFICATION_DATA_PANEL_KEY);let n=t.getBooleanByKey(e.HpSideNavigationDocumentPlugin.NOTIFICATION_DATA_PANEL_VISIBILITY);if(e.XStringUtils.isNullOrEmpty(i)){i=this._getLastOpenedPanel()}if(n){this._showPanel(i)}else{this._hidePanel(i)}})};e.HpSideNavigationDocumentPlugin.prototype._resetParentContainerWidths=function(t){if(e.notNull(t)){this._setParentContainerWidth(t,e.HpSideNavigationDocumentPlugin.SIDE_NAV_DEFAULT_WIDTH);let i=t.getParent();if(e.notNull(i)){let e=i.getIndexOfItem(t);let n=i.getItems().size();let o=n===e+1?e-1:e+1;if(o>=0&&o<n){let e=i.getItem(o);e.setWidth(null)}}}};e.HpSideNavigationDocumentPlugin.prototype._setLayoutDirection=function(){let t=this.getConfiguration();let i=t.getStringByKeyExt(e.HpSideNavigationDocumentPlugin.CONFIG_POSITION,e.HpSideNavigationDocumentPlugin.CONFIG_POSITION_RIGHT);let n=e.XString.isEqual(i,e.HpSideNavigationDocumentPlugin.CONFIG_POSITION_LEFT)?e.UiFlexDirection.ROW:e.UiFlexDirection.ROW_REVERSE;this.m_layout.setDirection(n)};e.HpSideNavigationDocumentPlugin.prototype._setParentContainerWidth=function(t,i){if(e.notNull(t)){t.setWidth(e.UiCssLength.create(i));t.setMinWidth(e.UiCssLength.create(e.HpSideNavigationDocumentPlugin.SIDE_NAV_DEFAULT_WIDTH))}};e.HpSideNavigationDocumentPlugin.prototype._showPanel=function(t){let i=this.m_panels.getByKey(t);if(e.notNull(i)){if(i.getParent()!==this.m_panelContainer){let n=!this.m_panelContainer.hasItems();this.m_panelContainer.clearItems();this.m_panelContainer.addItem(i);this.m_lastOpenedPanelKey=t;if(n){let e=this._getParentSplitterItem();this._setParentContainerWidth(e,null)}let o=e.XCollectionUtils.findFirst(this.m_navList.getItems(),i=>e.XString.isEqual(i.getTag(),t));e.XTimeout.timeout(0,()=>{this.m_navList.setSelectedItem(o)});this._updateOverviewIcon();this.notifyPanelStateChange(t,true)}}else{e.XLogger.println(e.XStringUtils.concatenate2("Cannot determine panel with key : ",t))}};e.HpSideNavigationDocumentPlugin.prototype._togglePanel=function(t){let i=this.m_panels.getByKey(t);if(e.notNull(i)){let e=i.getParent()===this.m_panelContainer;if(e){this._hidePanel(t)}else{this._showPanel(t)}}else{e.XLogger.println(e.XStringUtils.concatenate2("Cannot determine panel with key : ",t))}};e.HpSideNavigationDocumentPlugin.prototype._unobserveNotifications=function(){let e=this.getController().getLocalNotificationCenter();e.removeObserverByUuid(this.m_panelStateChangeObserverId);this.m_panelStateChangeObserverId=null;e.removeObserverByUuid(this.m_changePanelVisibilityObserverId);this.m_changePanelVisibilityObserverId=null};e.HpSideNavigationDocumentPlugin.prototype._updateOverviewIcon=function(){let t=e.HpSideNavigationI18n.getLocalization();let i=this.m_navList.getItem(0);let n;let o;if(e.isNull(this.m_panelContainer)||!this.m_panelContainer.hasItems()){n=this.m_layout.getDirection()===e.UiFlexDirection.ROW_REVERSE?e.HpSideNavigationDocumentPlugin.CLOSE_CMD_FIELD:e.HpSideNavigationDocumentPlugin.OPEN_CMD_FIELD;o=e.HpSideNavigationI18n.I18N_SN_EXPAND}else{n=this.m_layout.getDirection()===e.UiFlexDirection.ROW_REVERSE?e.HpSideNavigationDocumentPlugin.OPEN_CMD_FIELD:e.HpSideNavigationDocumentPlugin.CLOSE_CMD_FIELD;o=e.HpSideNavigationI18n.I18N_SN_COLLAPSE}i.setIcon(n);i.setTooltip(t.getText(o))};e.HpSideNavigationDocumentPlugin.prototype.destroyPlugin=function(){this._unobserveNotifications();this.m_panelStateChangeConsumers=e.XCollectionUtils.clearAndReleaseCollection(this.m_panelStateChangeConsumers);this.m_layout=e.XObjectExt.release(this.m_layout);this.m_panelContainer=e.XObjectExt.release(this.m_panelContainer);this.m_sideNavigation=e.XObjectExt.release(this.m_sideNavigation);this.m_navList=e.XObjectExt.release(this.m_navList);e.XCollectionUtils.releaseEntriesFromCollection(this.m_panels);this.m_navListItemsMap=e.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_navListItemsMap);this.m_genesis=null;e.HuDfDocumentPlugin.prototype.destroyPlugin.call(this)};e.HpSideNavigationDocumentPlugin.prototype.getAutoLayoutConfiguration=function(){let t=e.PrFactory.createStructure();t.putString("type",e.HuLayoutType.SINGLE_PLUGIN.getName());return t};e.HpSideNavigationDocumentPlugin.prototype.getPluginCategory=function(){return e.HuPluginCategory.SYSTEM};e.HpSideNavigationDocumentPlugin.prototype.getPluginName=function(){return e.HpSideNavigationDocumentPlugin.PLUGIN_NAME};e.HpSideNavigationDocumentPlugin.prototype.layoutDocument=function(t){this.m_panels=e.XHashMapByString.create();this.m_genesis=t.getGenesis();this.m_layout=this.m_genesis.newControl(e.UiType.FLEX_LAYOUT);this.m_layout.useMaxSpace();this.getController().setRoot(this.m_layout);let i=this._getParentSplitterItem();this._setParentContainerWidth(i,e.HpSideNavigationDocumentPlugin.SIDE_NAV_DEFAULT_WIDTH);this._setLayoutDirection();this._buildSideNavigation();this._buildPanelContainer();this._addPanelPlugins()};e.HpSideNavigationDocumentPlugin.prototype.notifyPanelStateChange=function(t,i){if(e.XCollectionUtils.hasElements(this.m_panelStateChangeConsumers)){let n=e.PrStructure.create();let o=n.putNewStructure(e.HpSideNavigationDocumentPlugin.PANEL_STATE_OPEN_PANELS_KEY);o.putBoolean(t,i);e.XCollectionUtils.forEach(this.m_panelStateChangeConsumers,e=>{e(n)})}};e.HpSideNavigationDocumentPlugin.prototype.setupPlugin=function(t){e.HuDfDocumentPlugin.prototype.setupPlugin.call(this,t);this.m_navListItemsMap=e.XHashMapByString.create();this.m_panelStateChangeConsumers=e.XList.create();this._observeNotifications();return null};e.HorizonUiPluginsModule=function(){};e.HorizonUiPluginsModule.prototype=new e.DfModule;e.HorizonUiPluginsModule.prototype._ff_c="HorizonUiPluginsModule";e.HorizonUiPluginsModule.s_module=null;e.HorizonUiPluginsModule.getInstance=function(){if(e.isNull(e.HorizonUiPluginsModule.s_module)){e.DfModule.checkInitialized(e.CellEngineModule.getInstance());e.DfModule.checkInitialized(e.ContextMenuEngineModule.getInstance());e.DfModule.checkInitialized(e.HorizonUiModule.getInstance());e.HorizonUiPluginsModule.s_module=e.DfModule.startExt(new e.HorizonUiPluginsModule);e.HuPluginRegistry.registerPluginByClass(e.XClass.create(e.HpTextEditorPlugin));e.HuPluginRegistry.registerPluginByClass(e.XClass.create(e.HpSideNavigationDocumentPlugin));e.HuPluginRegistry.registerPluginByClass(e.XClass.create(e.HpExpandableListDocumentPlugin));e.HpSideNavigationI18n.staticSetup();e.DfModule.stopExt(e.HorizonUiPluginsModule.s_module)}return e.HorizonUiPluginsModule.s_module};e.HorizonUiPluginsModule.prototype.getName=function(){return"ff3620.horizon.ui.plugins"};e.HorizonUiPluginsModule.getInstance();return e});
//# sourceMappingURL=ff3620.horizon.ui.plugins.js.map