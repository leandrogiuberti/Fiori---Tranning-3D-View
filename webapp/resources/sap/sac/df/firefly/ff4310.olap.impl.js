/*!
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.define(["sap/sac/df/firefly/ff4250.olap.resultset","sap/sac/df/firefly/ff4305.olap.model"],function(e){"use strict";e.BlendableQMPersistedInAResult=function(){};e.BlendableQMPersistedInAResult.prototype=new e.XObject;e.BlendableQMPersistedInAResult.prototype._ff_c="BlendableQMPersistedInAResult";e.BlendableQMPersistedInAResult.create=function(t,n,r,i){let a=new e.BlendableQMPersistedInAResult;a.m_mainQuery=t;a.m_dependentQueries=n;a.m_runtimeBlendedQueryManager=r;a.m_hostSystemName=i;return a};e.BlendableQMPersistedInAResult.prototype.m_dependentQueries=null;e.BlendableQMPersistedInAResult.prototype.m_hostSystemName=null;e.BlendableQMPersistedInAResult.prototype.m_mainQuery=null;e.BlendableQMPersistedInAResult.prototype.m_runtimeBlendedQueryManager=null;e.BlendableQMPersistedInAResult.prototype.getDependentQueries=function(){return this.m_dependentQueries};e.BlendableQMPersistedInAResult.prototype.getHostSystemName=function(){return this.m_hostSystemName};e.BlendableQMPersistedInAResult.prototype.getMainQuery=function(){return this.m_mainQuery};e.BlendableQMPersistedInAResult.prototype.getRuntimeBlendedQueryManager=function(){return this.m_runtimeBlendedQueryManager};e.BlendableQMPersistedInAResult.prototype.releaseObject=function(){this.m_mainQuery=null;this.m_dependentQueries=null;this.m_runtimeBlendedQueryManager=null};e.BlendedDrillPathElementInfo=function(){};e.BlendedDrillPathElementInfo.prototype=new e.XObject;e.BlendedDrillPathElementInfo.prototype._ff_c="BlendedDrillPathElementInfo";e.BlendedDrillPathElementInfo._createBlendedDrillPathElementInfo=function(){let t=new e.BlendedDrillPathElementInfo;return t};e.BlendedDrillPathElementInfo.createBlendedDrillPathElementInfo=function(t,n,r){let i=new e.BlendedDrillPathElementInfo;i.m_datasetId=t;i.m_dimensionName=n;i.m_drillMember=r;return i};e.BlendedDrillPathElementInfo.prototype.m_datasetId=null;e.BlendedDrillPathElementInfo.prototype.m_dimensionName=null;e.BlendedDrillPathElementInfo.prototype.m_drillMember=null;e.BlendedDrillPathElementInfo.prototype.cloneExt=function(t){let n=e.BlendedDrillPathElementInfo._createBlendedDrillPathElementInfo();n.copyFrom(this,t);return n};e.BlendedDrillPathElementInfo.prototype.copyFrom=function(t,n){e.XObject.prototype.copyFrom.call(this,t,n);let r=t;this.m_datasetId=r.getDatasetId();this.m_dimensionName=r.getDimensionName();this.m_drillMember=r.getDrillMember()};e.BlendedDrillPathElementInfo.prototype.getDatasetId=function(){return this.m_datasetId};e.BlendedDrillPathElementInfo.prototype.getDimensionName=function(){return this.m_dimensionName};e.BlendedDrillPathElementInfo.prototype.getDrillMember=function(){return this.m_drillMember};e.BlendedDrillPathElementInfo.prototype.releaseObject=function(){e.XObject.prototype.releaseObject.call(this);this.m_datasetId=null;this.m_dimensionName=null;this.m_drillMember=null};e.BlendingMappingUtils={CUSTOM_DIMENSION1_DESC_ATTRIBUTE_NAME:"[Measures].[Description]",CUSTOM_DIMENSION1_DISPLAY_KEY_MAPPING_NAME:"[CustomDimension1].name",CUSTOM_DIMENSION1_KEY_ATTRIBUTE_NAME:"[Measures].[Measures]",DESCRIPTION_ATTRIBUTE_NAME:"description",ID_ATTRIBUTE_NAME:"id",addDescriptionAttrMappingIfLinkByKey:function(t,n,r,i,a,o){let l=r.getFirstPart().isLinkOnKeyField()||e.XString.isEqual(r.getFirstPart().getFieldName(),e.BlendingMappingUtils.ID_ATTRIBUTE_NAME);let s=r.getSecondPart().isLinkOnKeyField()||e.XString.isEqual(r.getSecondPart().getFieldName(),e.BlendingMappingUtils.ID_ATTRIBUTE_NAME);if(l||s){let r=t.getTextField();let l=n.getTextField();if(e.notNull(r)&&e.notNull(l)){let e=i.addNewAttributeMappingByName(r.getName(),false);e.addNewAttributeDimensionMappingDefinitionByName(r.getName(),a);e.addNewAttributeDimensionMappingDefinitionByName(l.getName(),o)}}},addDisplayKeyMapping:function(t,n,r,i,a,o){let l=e.BlendingUtils.createOverDefinedDisplayKeyAttributeName(r);let s=i.addNewAttributeMappingByName(l,false);s.addNewAttributeDimensionMappingDefinitionByName(a.getName(),t);if(e.notNull(o)){let t=o.getDimension();let r=t.getFieldLayoutType()===e.FieldLayoutType.ATTRIBUTE_BASED;t.getResultSetFields().add(o);if(r){t.getMainAttribute().getResultSetFields().add(o)}s.addNewAttributeDimensionMappingDefinitionByName(o.getName(),n)}else{s.addNewConstantMapping(null,n)}},addLeveledHierarchyAttributeMapping:function(t,n,r,i){n.getResultSetFields().add(t);if(!t.isAlwaysRequested()){t.setAlwaysRequested(true);t.getTagging().put(e.QTransientConstants.TAG_TRANSIENT_ALWAYS_REQUESTED,"true")}if(e.notNull(r)){r.addNewAttributeDimensionMappingDefinitionByName(t.getName(),i)}},addSignedDataToFilter:function(t,n){if(t.getAccountDimension()!==null&&!t.hasUserDefinedMeasures()){let r=t.getMeasureDimension();let i=e.QFilterUtil.getLinkedFilterOrDynamicFilterForDimension(r);if(e.isNull(i)||i.isEmpty()){let a=t.getFilter().getDynamicFilter();if(a.getFilterRootElement()===null||a.getFilterRootElement().getOlapComponentType()!==e.FilterComponentType.FILTER_ACROSS_MODELS){if(a.getFilterRootElement()!==null){i=a.getCartesianListWithDefault(r)}else{i=a.getCartesianProductWithDefault().getCartesianListWithDefault(r)}let t=i.addNewCartesianElement();t.setField(r.getKeyField());t.setComparisonOperator(e.ComparisonOperator.EQUAL);t.setLowString("SignedData");if(n){t.getTagging().put(e.QTransientConstants.TAG_IS_TRANSIENT_FILTER_ELEMENT_BLENDING,"")}}}}},addToResultSetAttributes:function(t,n){if(e.notNull(n)&&n.getAttribute()!==null){t.getResultSetAttributes().add(n.getAttribute());n.getAttribute().getResultSetFields().add(n)}},addTransientZoomOrVisibilityFilters:function(t,n,r,i,a){if(n.getDimensionType()===e.DimensionType.ACCOUNT&&n.isHierarchyActive()&&n.getInitialDrillLevel()>-1){let o=t.getDrillManager().getAllZoomDrillOperationsForDimension(n);let l=false;let s=e.QFactory.createDrillPathElement(t,r,n);if(a){s.getTagging().put(e.QTransientConstants.TAG_IS_TRANSIENT,"")}if(e.notNull(o)&&o.size()>0){for(let t=0;t<o.size();t++){if(e.XCollectionUtils.contains(o.get(t).getDrillPath(),t=>e.XString.isEqual(t.getSelectValue(),r))){l=true}}if(!l){t.getDrillManager().addZoomDrillPathElement(s,true)}}else{let o=t.getDrillManager().getDrillOperationsByDimension(n);if(e.notNull(o)){for(let t=0;t<o.size();t++){if(e.XCollectionUtils.contains(o.get(t).getDrillPath(),t=>e.XString.isEqual(t.getSelectValue(),r))){l=true}}}if(!l){t.getDrillManager().setDrillStateElement(s,e.DrillState.EXPANDED)}let u=t.getFilter().getVisibilityFilter();if(u.getFilterRootElement()===null){let t=u.getCartesianProductWithDefault();if(a){t.getTagging().put(e.QTransientConstants.TAG_IS_TRANSIENT,"")}}let p=u.getCartesianList(n);if(e.isNull(p)){p=u.getCartesianListWithDefault(n);if(a){p.getTagging().put(e.QTransientConstants.TAG_IS_TRANSIENT,"")}}if(!p.isEmpty()||!i){let i=e.QFilterUtil.getMemberNamesFromFilter(p,n.getName());if(!i.contains(r)){let i=p.addNewCartesianElement();i.setField(n.getKeyField());i.setComparisonOperator(e.ComparisonOperator.EQUAL);i.setLowString(r);if(a){i.getTagging().put(e.QTransientConstants.TAG_IS_TRANSIENT,"")}if(t.getModelCapabilities().supportsHierarchyTrapezoidFilter()){i.setDepth(0)}if(n.isHierarchyActive()){i.setHierarchyName(n.getHierarchyName())}}}}}},autoExpandHierarchyDimension:function(t){if(e.notNull(t)&&t.isHierarchyActive()&&t.getDrillManager().getDrillOperationsByDimension(t).size()===0&&t.getDrillManager().getAllZoomDrillOperationsForDimension(t).size()===0){if(!t.getTagging().containsKey("transientInitialDrillLevel")){t.getTagging().put("transientInitialDrillLevel",e.XInteger.convertToString(t.getInitialDrillLevel()))}t.setInitialDrillLevel(-1)}},deactivateUniversalDisplayHierarchy:function(t){if(t.getConvenienceCommands().isTypeOfBw()){let n=false;let r=t.getQueryModel().getUniversalDisplayHierarchies();if(e.notNull(r)){let t=r.getHierarchies().getIterator();while(t.hasNext()){let r=t.next();if(r.isActive()){r.setActive(false);n=true;if(!r.getTagging().containsKey(e.QTransientConstants.TAG_DEACTIVATE_UNIVERSAL_DISPLAY_HIERARCHY)){r.getTagging().put(e.QTransientConstants.TAG_DEACTIVATE_UNIVERSAL_DISPLAY_HIERARCHY,"")}}}}if(n&&t.isHierarchyToUDHConversionEnabled()){t.enableHierarchyToUDHConversion(false);if(!t.getTagging().containsKey(e.QTransientConstants.TAG_DISABLE_HIERARCHY_TO_UDH_CONVERSION)){t.getTagging().put(e.QTransientConstants.TAG_DISABLE_HIERARCHY_TO_UDH_CONVERSION,"")}}}},doesFieldExistInResultSet:function(t,n){let r=t.getFieldLayoutType();if(r===e.FieldLayoutType.FIELD_BASED){return t.getResultSetFields().contains(n)}else if(r===e.FieldLayoutType.ATTRIBUTE_BASED){return e.XCollectionUtils.contains(t.getResultSetAttributes(),e=>e.getResultSetFields().contains(n))}return false},getAttributeJoinField:function(t,n,r,i,a,o){let l=null;let s=null;let u=e.notNull(r)?r.getQueryManager().getConvenienceCommands().isTypeOfBw():n.getQueryManager().getConvenienceCommands().isTypeOfBw();if(t.getFieldName()!==null&&e.XString.isEqual(t.getFieldName(),e.BlendingMappingUtils.DESCRIPTION_ATTRIBUTE_NAME)||!t.containsEmptyDescriptionField()&&!t.isLinkOnKeyField()){l=n.getTextField();if(n.isHierarchyActive()){if(u){l=n.getHierarchyTextField()}s=n.getHierarchyDisplayKeyField()}else{if(u){l=n.getTextField()}s=n.getDisplayKeyField()}}else if(t.getFieldName()!==null&&e.XString.isEqual(t.getFieldName(),e.BlendingMappingUtils.ID_ATTRIBUTE_NAME)||t.isLinkOnKeyField()){l=n.getDisplayKeyField()!==null?n.getDisplayKeyField():n.getKeyField()!==null?n.getKeyField():n.getFlatKeyField();if(n.isHierarchyActive()){if(u&&!o){l=n.getHierarchyKeyField()!==null?n.getHierarchyKeyField():n.getHierarchyDisplayKeyField()!==null?n.getHierarchyDisplayKeyField():n.getFlatKeyField()}s=n.getHierarchyDisplayKeyField()}else{if(u){l=n.getKeyField()!==null?n.getKeyField():n.getDisplayKeyField()!==null?n.getDisplayKeyField():n.getFlatKeyField()}s=n.getDisplayKeyField()}}else{let r=n.getFlatKeyField().getName();let i=e.XStringUtils.concatenate2(e.XString.substring(r,0,e.XString.lastIndexOf(r,".")+1),t.getFieldName());l=n.getFieldByName(i)!==null?n.getFieldByName(i):n.getFlatKeyField()!==null?n.getFlatKeyField():n.getFields().get(0)}if(e.isNull(l)){l=n.getFlatKeyField()!==null?n.getFlatKeyField():n.getTextField()!==null?n.getTextField():n.getFields().get(0)}let p=n.getFields().getIterator();while(p.hasNext()){let t=p.next();if(t.isHierarchyPathField()&&t.isAlwaysRequested()&&n.getQueryManager().getInitSettings().getMode()!==e.QueryManagerMode.BLENDING){t.getTagging().put(e.QTransientConstants.TAG_TRANSIENT_ALWAYS_REQUESTED,"false");t.setAlwaysRequested(false)}}if(n.getQueryManager().getInitSettings().getMode()!==e.QueryManagerMode.BLENDING&&!a){n.getResultSetFields().clear()}if(e.notNull(l)&&l.getName()!==null){n.getResultSetFields().add(l);n.getResultSetFields().add(n.getCubeBlendingPropertiesField())}if(e.notNull(s)&&s.getName()!==null&&a){n.getResultSetFields().add(s)}if(n.getFieldLayoutType()===e.FieldLayoutType.ATTRIBUTE_BASED&&u){if(n.getQueryManager().getInitSettings().getMode()!==e.QueryManagerMode.BLENDING&&!a){n.getResultSetAttributes().clear()}if(!e.isNull(l)&&l.getName()!==null){e.BlendingMappingUtils.addToResultSetAttributes(n,l);e.BlendingMappingUtils.addToResultSetAttributes(n,n.getCubeBlendingPropertiesField())}if(!e.isNull(s)&&s.getName()!==null&&a){e.BlendingMappingUtils.addToResultSetAttributes(n,s)}}return l},getAttributeMapping:function(t,n){return e.XCollectionUtils.findFirst(t.getAttributeMappings(),t=>e.XString.isEqual(t.getAttributeName(),n))},getDimensionFieldOfHierarchyLevel:function(e,t){return e.getFieldByNameOrAlias(t.getLevelDimensionName())},getMatchableDefaultHierarchyName:function(t){let n=null;let r=e.BlendingUtils.getHierarchiesFromSharedQueryManager(t.getOlapEnv(),t);let i=r.size();if(i>0){let a=t.getConvenienceCommands().isTypeOfBw()?t.getHierarchyName():r.get(i-1).getHierarchyName();if(e.BlendingMappingUtils.isMatchableHierarchy(t,a)){n=a}}return n},getMatchingSecondaryHierarchyName:function(t,n){let r=null;let i=t.getHierarchyName();let a=e.BlendingUtils.getHierarchiesFromSharedQueryManager(n.getOlapEnv(),n);if(e.BlendingMappingUtils.isMatchableHierarchy(t,i)&&e.notNull(a)){let t=a.getIterator();while(e.isNull(r)&&t.hasNext()){let a=t.next();let o=a.getHierarchyName();if(e.XString.isEqual(o,i)&&e.BlendingMappingUtils.isMatchableHierarchy(n,o)){r=o}}if(e.isNull(r)){let t=e.BlendingMappingUtils.getMatchableDefaultHierarchyName(n);if(e.notNull(t)){r=t}}}return r},getSecondaryHierarchyNameToActivate:function(t,n,r,i){let a=null;if(r){if(t.isHierarchyActive()){a=e.BlendingMappingUtils.getMatchingSecondaryHierarchyName(t,n);if(e.isNull(a)){a=e.BlendingMappingUtils.getMatchableDefaultHierarchyName(n)}}else if(!i){a=e.BlendingMappingUtils.getMatchableDefaultHierarchyName(n)}}else{a=e.BlendingMappingUtils.getMatchableDefaultHierarchyName(n)}return a},getUseDisplayKeyJoinForBW:function(e,t){let n=e.isHierarchyActive()&&e.getQueryManager().getConvenienceCommands().isTypeOfBw();return!n||n&&!t.isLinkOnKeyField()},hideTextField:function(t){let n=t.getTextField();if(e.notNull(n)&&n.getPresentationType()===e.PresentationType.TEXT){n.getTagging().put(e.QTransientConstants.HIDE_TEXT_FIELD,"")}},isDateOrTimeLikeLinkDimension:function(t){return e.QTimeDimensionUtil.isDateOrTimeLikeDimension(t)&&t.getLeveledHierarchies()!==null&&t.getLeveledHierarchies().size()>0},isDimensionInDrill:function(t){return e.notNull(t)&&(e.AxisType.ROWS===t.getAxisType()||e.AxisType.COLUMNS===t.getAxisType())&&!t.getTagging().containsKey(e.QTransientConstants.TAG_TRANSIENT_ROWS_AXIS)},isLeafDimensionUsedInBlendedDrill:function(t,n,r){let i=e.BlendingUtils.getDatasetIdsFromQueryModel(n);let a=r.getIterator();while(a.hasNext()){let r=a.next();let o=e.BlendingUtils.getLeafQueryAliasPrefix(r.getDatasetId(),n);let l=e.XStringUtils.isNotNullAndNotEmpty(o)&&e.XString.startsWith(t,o)?e.XString.replace(t,o,""):t;if(i.contains(r.getDatasetId())&&e.XString.isEqual(r.getDimensionName(),l)){return true}if(e.XCollectionUtils.contains(r.getBlendedDrillPathElementInfos(),t=>i.contains(t.getDatasetId())&&e.XString.isEqual(t.getDimensionName(),l))){return true}}return false},isMatchableHierarchy:function(t,n){return e.notNull(n)&&!e.QTimeDimensionUtil.isDateOrTimeLikeDimension(t)&&!e.QFilterAcrossModelsDimensionUtil.isNonTimeLevelBasedHierarchy(t,n)},isOutOfContextDimension:function(t){return t.getAxisType()!==e.AxisType.ROWS&&t.getAxisType()!==e.AxisType.COLUMNS},linkAttributesFromLeveledHierarchy:function(t,n,r,i,a,o,l){if(e.notNull(o)&&e.notNull(l)){i.setHierarchyName(l.getHierarchyName());let s=o.getAllLevel().getIterator();while(s.hasNext()){let o=s.next();if(o.getLevelType()===e.HierarchyLevelType.ALL){continue}let u=l.getLevelByType(o.getLevelType());if(e.notNull(u)){let l=e.BlendingMappingUtils.getDimensionFieldOfHierarchyLevel(r,o);let s=e.BlendingMappingUtils.getDimensionFieldOfHierarchyLevel(i,u);let p=null;if(e.BlendingMappingUtils.getAttributeMapping(a,l.getName())===null){p=a.addNewAttributeMappingByName(l.getName(),true)}e.BlendingMappingUtils.addLeveledHierarchyAttributeMapping(l,r,p,t.getQueryAliasName());e.BlendingMappingUtils.addLeveledHierarchyAttributeMapping(s,i,p,n.getQueryAliasName())}}}},processAccountFieldMappings:function(t,n,r,i,a){if(n.getDimensionType().isTypeOf(e.DimensionType.ACCOUNT)&&i.getDimensionType().isTypeOf(e.DimensionType.ACCOUNT)){let o=i.getFieldLayoutType()===e.FieldLayoutType.ATTRIBUTE_BASED;let l=n.getResultSetFields().getIterator();while(l.hasNext()){let n=l.next();let s=n.getPresentationType();if(s.isTypeOf(e.PresentationType.UNDEFINED)||!e.PresentationType.isKeyPresentation(s)&&!e.PresentationType.isTextPresentation(s)&&!s.isTypeOf(e.PresentationType.HIERARCHY_PATH)){let l=e.XString.lastIndexOf(n.getName(),".");let s=e.XString.substring(n.getName(),l,-1);let u=i.getFieldByName(e.XStringUtils.concatenate4("[",i.getName(),"]",s));if(e.isNull(u)){u=i.getFieldByName(e.XStringUtils.concatenate2(i.getName(),s))}if(e.notNull(u)){i.getResultSetFields().add(u);if(o){i.getMainAttribute().getResultSetFields().add(u)}let e=t.addNewAttributeMappingByName(n.getName(),false);e.addNewAttributeDimensionMappingDefinitionByName(n.getName(),r.getQueryAliasName());e.addNewAttributeDimensionMappingDefinitionByName(u.getName(),a.getQueryAliasName())}}}}},processCalculationDimensionDisplayKeyMappings:function(t,n,r,i,a,o,l,s){if(o.getBlendableQueryManager().includesDisplayKeyInMeasureDimension()){let u=e.BlendingUtils.getDisplayKeyFieldWithFallBack(n);let p=e.BlendingUtils.getDisplayKeyFieldWithFallBack(i);if(!e.isNull(u)&&n.getResultSetFields().contains(u)&&!e.isNull(p)&&i.getResultSetFields().contains(p)){if(s){e.BlendingMappingUtils.saveOriginalResultSetFields(n,o)}let i;if(l){i=t.addNewAttributeMappingByName(e.BlendingMappingUtils.CUSTOM_DIMENSION1_DISPLAY_KEY_MAPPING_NAME,false)}else{i=t.addNewAttributeMappingByName(u.getName(),false)}i.addNewAttributeDimensionMappingDefinitionByName(u.getName(),r.getQueryAliasName());i.addNewAttributeDimensionMappingDefinitionByName(p.getName(),a.getQueryAliasName())}}},processCalculationDimensionMappings:function(t,n,r,i,a){let o=n.getQueryModel();let l=r.getQueryModel();let s=o.getQueryManager();let u=o.getAccountDimension();let p=l.getAccountDimension();let g=o.getMeasureDimension();let c=l.getMeasureDimension();if(e.notNull(u)){if(!u.isHierarchyActive()){u.activateHierarchy(u.getHierarchyName()!==null?u.getHierarchyName():u.getDefaultHierarchyName(),null,null)}e.HierarchyPathUtil.addPathFieldToResultSet(o,u.getName(),false);if(e.BlendingMappingUtils.isLeafDimensionUsedInBlendedDrill(u.getName(),o,i)){e.BlendingMappingUtils.autoExpandHierarchyDimension(u)}}if(e.notNull(g)){if((e.isNull(u)||a.getBlendableQueryManager().isAccountSecondaryMeasureDimensionOnNoneAxis())&&g.getAxisType()!==e.AxisType.ROWS&&g.getAxisType()!==e.AxisType.COLUMNS){o.getColumnsAxis().add(g)}e.BlendingMappingUtils.addSignedDataToFilter(o,false)}if(e.notNull(p)){if(!p.isHierarchyActive()){p.activateHierarchy(p.getHierarchyName()!==null?p.getHierarchyName():p.getDefaultHierarchyName(),null,null)}if(p.getAxisType()!==e.AxisType.ROWS&&p.getAxisType()!==e.AxisType.COLUMNS){l.getColumnsAxis().add(p)}if(e.notNull(u)){e.HierarchyPathUtil.addPathFieldToResultSet(l,p.getName(),false)}else{e.HierarchyPathUtil.clearPathFieldFromResultSet(l,p.getName())}if(e.BlendingMappingUtils.isLeafDimensionUsedInBlendedDrill(p.getName(),l,i)){e.BlendingMappingUtils.autoExpandHierarchyDimension(p)}}if(e.notNull(c)){if(c.getAxisType()!==e.AxisType.ROWS&&c.getAxisType()!==e.AxisType.COLUMNS){l.getColumnsAxis().add(c);c.getTagging().put(e.QTransientConstants.SECONDARY_MEASURE_DIMENSION_ON_COLUMN,"")}e.BlendingMappingUtils.addSignedDataToFilter(l,false)}let y;let m;if(e.notNull(u)){e.BlendingMappingUtils.saveOriginalResultSetFields(u,a);if(e.isNull(p)){y=t.addNewDimensionMapping(e.BlendingLinkType.ALL_DATA,g.getName());y.addNewDimensionMappingDefinition(g,n.getQueryAliasName());y.addNewConstantMapping("SignedData",r.getQueryAliasName());m=t.addNewDimensionMapping(e.BlendingLinkType.COEXIST,u.getName());m.addNewDimensionMappingDefinition(u,n.getQueryAliasName());m.addNewDimensionMappingDefinition(c,r.getQueryAliasName());let i=c.getTextField();let o=u.getTextField();if(e.notNull(o)&&e.notNull(i)){let e=m.addNewAttributeMappingByName(o.getName(),false);e.addNewAttributeDimensionMappingDefinitionByName(o.getName(),n.getQueryAliasName());e.addNewAttributeDimensionMappingDefinitionByName(i.getName(),r.getQueryAliasName())}let l=c.getKeyField();let s=u.getKeyField();if(e.notNull(s)&&e.notNull(l)){let e=m.addNewAttributeMappingByName(s.getName(),false);e.addNewAttributeDimensionMappingDefinitionByName(s.getName(),n.getQueryAliasName());e.addNewAttributeDimensionMappingDefinitionByName(l.getName(),r.getQueryAliasName())}e.BlendingMappingUtils.processCalculationDimensionDisplayKeyMappings(m,u,n,c,r,a,false,false)}else{e.BlendingMappingUtils.saveOriginalResultSetFields(p,a);y=t.addNewDimensionMapping(e.BlendingLinkType.ALL_DATA,g.getName());y.addNewDimensionMappingDefinition(c,r.getQueryAliasName());y.addNewDimensionMappingDefinition(g,n.getQueryAliasName());m=t.addNewDimensionMapping(e.BlendingLinkType.COEXIST,u.getName());m.addNewDimensionMappingDefinition(p,r.getQueryAliasName());m.addNewDimensionMappingDefinition(u,n.getQueryAliasName());e.BlendingMappingUtils.processAccountFieldMappings(m,u,n,p,r)}}else{let i;let o;let l;let u;let d=s.getConvenienceCommands().isTypeOfBw()?e.BlendingUtils.CUSTOM_DIMENSION1:g.getName();if(e.notNull(p)){y=t.addNewDimensionMapping(e.BlendingLinkType.ALL_DATA,"SignedData");y.addNewDimensionMappingDefinition(c,r.getQueryAliasName());let i=n.getQueryModel().getDimensionByName("SignedData");if(e.notNull(i)){if(i.getAxisType()!==e.AxisType.ROWS&&i.getAxisType()!==e.AxisType.COLUMNS){n.getQueryModel().getColumnsAxis().add(i)}y.addNewDimensionMappingDefinition(i,n.getQueryAliasName())}else{y.addNewConstantMapping("SignedData",n.getQueryAliasName())}}let C=e.notNull(p)?p:c;m=t.addNewDimensionMapping(e.BlendingLinkType.COEXIST,d);m.addNewDimensionMappingDefinition(g,n.getQueryAliasName());m.addNewDimensionMappingDefinition(C,r.getQueryAliasName());l=g.getTextField();u=C.getTextField();if(e.notNull(l)&&e.notNull(u)){let t=s.getConvenienceCommands().isTypeOfBw()?e.BlendingMappingUtils.CUSTOM_DIMENSION1_DESC_ATTRIBUTE_NAME:l.getName();let i=m.addNewAttributeMappingByName(t,false);if(m.getBlendingDefinition().getBlendingSourceByAlias(n.getQueryAliasName()).getFieldByName(t)!==null){i.addNewAttributeDimensionMappingDefinitionByName(t,n.getQueryAliasName())}else{i.addNewAttributeDimensionMappingDefinitionByName(l.getName(),n.getQueryAliasName())}i.addNewAttributeDimensionMappingDefinitionByName(u.getName(),r.getQueryAliasName())}i=g.getKeyField();o=C.getKeyField();if(e.notNull(i)&&e.notNull(o)){let t=s.getConvenienceCommands().isTypeOfBw()?e.BlendingMappingUtils.CUSTOM_DIMENSION1_KEY_ATTRIBUTE_NAME:i.getName();let a=m.addNewAttributeMappingByName(t,false);if(m.getBlendingDefinition().getBlendingSourceByAlias(n.getQueryAliasName()).getFieldByName(t)!==null){a.addNewAttributeDimensionMappingDefinitionByName(t,n.getQueryAliasName())}else{a.addNewAttributeDimensionMappingDefinitionByName(i.getName(),n.getQueryAliasName())}a.addNewAttributeDimensionMappingDefinitionByName(o.getName(),r.getQueryAliasName())}e.BlendingMappingUtils.processCalculationDimensionDisplayKeyMappings(m,g,n,C,r,a,true,true)}},processHierarchies:function(t,n,r,i,a){let o=e.BlendingMappingUtils.getMatchableDefaultHierarchyName(t);if(!e.QFilterUtil.hasFilterForDimension(t.getQueryModel().getFilter(),t.getName())&&r&&e.notNull(o)){let e=t.isHierarchyActive()?t.getHierarchyName():null;t.getTagging().put("originalHierarchy",e);t.activateHierarchy(o,null,null)}if(n.getFilter()===null){let r=e.BlendingMappingUtils.getSecondaryHierarchyNameToActivate(t,n,i,a);if(e.notNull(r)){let e=n.isHierarchyActive()?n.getHierarchyName():null;n.getTagging().put("originalHierarchy",e);n.activateHierarchy(r,null,null)}else if(n.supportsHierarchy()){let e=n.isHierarchyActive()?n.getHierarchyName():null;n.getTagging().put("originalHierarchy",e);n.setHierarchyActive(false);n.setHierarchy(null)}}},processLinkedDimensions:function(t,n,r,i,a,o,l,s){let u=r.getQueryModel();let p=i.getQueryModel();let g=t.getIterator();while(g.hasNext()){let t=g.next();let c=t.getModelDimensionLinks().getIterator();while(c.hasNext()){let g=c.next();let y=g.getFirstPart().getDimensionName();let m;if(u.getQueryManager().getInitSettings().getMode()===e.QueryManagerMode.BLENDING){let t=g.getFirstPart().getQueryModel().getDatasetId();m=e.BlendingUtils.getBlendedDimensionFromLeafDimension(y,t,u);y=m.getName()}else{m=u.getDimensionByName(y)}if(e.isNull(m)){continue}let d=e.BlendingMappingUtils.isOutOfContextDimension(m);if(d){if(!t.getQueryModelLinkSettings().getActivePrimaryLinkDimensionNames().isEmpty()&&!t.getQueryModelLinkSettings().getActivePrimaryLinkDimensionNames().contains(y)){continue}u.getRowsAxis().add(m);m.getTagging().put(e.QTransientConstants.TAG_TRANSIENT_ROWS_AXIS,"");a.addOutOfContextLinkDimensionName(y)}if(m.supportsHierarchy()){if(d){m.getTagging().put("transientInitialDrillLevel",e.XInteger.convertToString(m.getInitialDrillLevel()));m.setInitialDrillLevel(0)}else if(m.getQueryModel().getConvenienceCommands().isTypeOfBw()&&!m.getTagging().containsKey("transientInitialDrillLevel")){m.getTagging().put("transientInitialDrillLevel",e.XInteger.convertToString(m.getInitialDrillLevel()));m.setInitialDrillLevel(-1);m.getTagging().put(e.QTransientConstants.BW_HIERARCHY_DIMENSION,"")}}if(!u.getModelCapabilities().supportsBlendingTotals()&&m.getResultVisibilityByElement(e.ResultStructureElement.TOTAL)===e.ResultVisibility.VISIBLE){m.setResultVisibilityByElement(e.ResultStructureElement.TOTAL,e.ResultVisibility.HIDDEN);m.getTagging().put(e.QTransientConstants.TAG_TRANSIENT_TOTAL_VISIBILITY_HIDDEN,"")}if(!e.XString.isEqual(p.getDatasetId(),g.getSecondPart().getQueryManagerKey())){l.add(y);continue}let C=g.getSecondPart().getDimensionName();let A=p.getDimensionByName(C);if(e.isNull(A)){continue}let E=e.BlendingMappingUtils.isOutOfContextDimension(A);if(E){let t=m.getAxisType()===e.AxisType.COLUMNS?e.AxisType.COLUMNS:e.AxisType.ROWS;p.getAxis(t).add(A);A.getTagging().put(e.QTransientConstants.TAG_TRANSIENT_ROWS_AXIS,"")}if(A.supportsHierarchy()){A.getTagging().put("transientInitialDrillLevel",e.XInteger.convertToString(A.getInitialDrillLevel()));A.setInitialDrillLevel(-1)}let _=a.getBlendableQueryManager().getPrimaryQueryManager();let S=_.getQueryModel().getDimensionByName(y);if(e.notNull(S)){let t=S.getReadMode(e.QContextType.RESULT_SET);if(t!==A.getReadMode(e.QContextType.RESULT_SET)){A.setReadModeGraceful(e.QContextType.RESULT_SET,t)}}let I=n.addNewDimensionMapping(t.getQueryModelLinkSettings().getLinkType(),y);I.addNewDimensionMappingDefinitionByName(y,r.getQueryAliasName());I.addNewDimensionMappingDefinitionByName(C,i.getQueryAliasName());e.BlendingMappingUtils.saveOriginalResultSetFields(m,a);e.BlendingMappingUtils.saveOriginalResultSetFields(A,a);let h=false;if(e.BlendingMappingUtils.isDateOrTimeLikeLinkDimension(m)&&!u.getConvenienceCommands().isTypeOfBw()&&e.BlendingMappingUtils.isDateOrTimeLikeLinkDimension(A)&&!p.getConvenienceCommands().isTypeOfBw()){h=e.BlendingMappingUtils.processTimeDimensionAttributeMapping(r,i,a,m,A,I)}if(!h){e.BlendingMappingUtils.processHierarchies(m,A,d,g.isLinkOnMatchingHierarchies(),g.isTreatFlatToFlatAsMatchingHierarchy());if(e.BlendingMappingUtils.isLeafDimensionUsedInBlendedDrill(m.getName(),u,o)){e.BlendingMappingUtils.autoExpandHierarchyDimension(m);e.BlendingMappingUtils.autoExpandHierarchyDimension(A)}let t=e.BlendingMappingUtils.getUseDisplayKeyJoinForBW(S,g.getFirstPart());let n=e.BlendingMappingUtils.getUseDisplayKeyJoinForBW(A,g.getSecondPart());let l=e.BlendingMappingUtils.getAttributeJoinField(g.getFirstPart(),m,S,a,true,n);let s=e.BlendingMappingUtils.getAttributeJoinField(g.getSecondPart(),A,null,a,false,t);let p=null;let c=u.getConvenienceCommands().isTypeOfBw()?m.getFlatDisplayKeyField():null;if(e.notNull(c)&&e.BlendingMappingUtils.doesFieldExistInResultSet(m,c)){p=e.BlendingUtils.createOverDefinedDisplayKeyAttributeName(m)}let y=c===l&&e.notNull(p);if(e.notNull(l)&&e.notNull(s)){let e=I.addNewAttributeMappingByName(y?p:l.getName(),true);e.addNewAttributeDimensionMappingDefinitionByName(l.getName(),r.getQueryAliasName());e.addNewAttributeDimensionMappingDefinitionByName(s.getName(),i.getQueryAliasName())}let C=e.BlendingUtils.getDisplayKeyFieldWithFallBack(m);if(e.notNull(C)&&C!==l&&e.BlendingMappingUtils.doesFieldExistInResultSet(m,C)&&!y){let t=e.BlendingUtils.getDisplayKeyFieldWithFallBack(A);t=t!==s?t:null;e.BlendingMappingUtils.addDisplayKeyMapping(r.getQueryAliasName(),i.getQueryAliasName(),m,I,C,t)}e.BlendingMappingUtils.addDescriptionAttrMappingIfLinkByKey(m,A,g,I,r.getQueryAliasName(),i.getQueryAliasName())}else if(s){e.BlendingMappingUtils.autoExpandHierarchyDimension(m)}if((m.isHierarchyActive()||A.isHierarchyActive())&&t.getQueryModelLinkSettings().getLinkType()===e.BlendingLinkType.ALL_DATA){a.addError(e.ErrorCodes.LINKED_HIERARCHY_DIMENSION_ALL_DATA,e.ErrorMessages.LINKED_HIERARCHY_DIMENSION_ALL_DATA)}A.setResultVisibilityByElement(e.ResultStructureElement.TOTAL,m.getResultVisibilityByElement(e.ResultStructureElement.TOTAL))}}},processTimeDimensionAttributeMapping:function(t,n,r,i,a,o){r.addAutoMappingTimeLinkDimensionNames(o.getMemberName());a.getResultSetFields().clear();a.getTagging().put("originalHierarchy",a.isHierarchyActive()?a.getHierarchyName():null);let l=null;let s=null;let u;if(i.isHierarchyActive()){l=i.getLeveledHierarchy(i.getHierarchyName());u=e.QTimeDimensionUtil.getFiscalSpaceType(i,i.getHierarchyName(),a);s=e.QTimeDimensionUtil.findMostCompatibleHierarchy(a,l.getAllLevelTypes(),u,true);e.BlendingMappingUtils.linkAttributesFromLeveledHierarchy(t,n,i,a,o,l,s);a.setInitialDrillOffset(0);let r=l.getMostGranularLevel().getLevelNumber();let p=s.getMostGranularLevel().getLevelNumber();a.setInitialDrillLevel(r<=p?r:p)}else{let r=i.getHierarchies()!==null?i.getHierarchies().getObjectsIterator():null;if(e.notNull(r)){while(r.hasNext()){let p=r.next();l=i.getLeveledHierarchy(p.getHierarchyName());u=e.QTimeDimensionUtil.getFiscalSpaceType(i,p.getHierarchyName(),a);s=e.QTimeDimensionUtil.findMostCompatibleHierarchy(a,l.getAllLevelTypes(),u,true);if(e.notNull(s)){e.BlendingMappingUtils.linkAttributesFromLeveledHierarchy(t,n,i,a,o,l,s)}}}}a.setHierarchyActive(i.isHierarchyActive());if(!o.getAttributeMappings().isEmpty()){if(a.getTextField()!==null&&!a.getSession().hasFeature(e.FeatureToggleOlap.DONT_ALWAYS_REQUEST_TEXTFIELD)){a.getTextField().getTagging().put(e.QTransientConstants.HIDE_TEXT_FIELD,"")}return true}else{return false}},processTransientCalculations:function(t,n,r,i){if(e.notNull(n)){let a=n.getIterator();while(a.hasNext()){let n=a.next();if(!e.XString.isEqual(t.getName(),n.getQueryModel().getName())){continue}let o=t.getDimensionByName(n.getDimension().getName());let l=n.getAliasOrMemberName();if(o.getStructureMemberByAliasOrMember(l)===null){let t=e.QStructureMember.createMeasure(n.getMemberType(),o.getQueryModel(),o);t.copySharableProperties(n,false);t.getTagging().put(e.QTransientConstants.TAG_TRANSIENT_BLENDING_DEPENDENCY,"");o.addMeasure(t)}let s=e.QFilterUtil.getLinkedFiltersOrDynamicFiltersForDimension(o,true,true,true);let u=e.XCollectionUtils.filter(e.QFilterUtil.getLinkedFiltersOrDynamicFiltersForDimension(o,false,false,true),t=>e.notNull(t));let p=null;let g=r&&u.isEmpty();if(g){if(o.getFilter()!==null&&!o.getFilter().isEmpty()){p=o.getFilter()}}else{p=e.XCollectionUtils.findFirst(s,t=>e.notNull(t));if(e.isNull(p)){p=t.getFilter().getDynamicFilter().getCartesianListWithDefault(o)}}if(e.notNull(p)){let t=e.XList.create();e.XCollectionUtils.forEach(s,n=>{t.addAll(e.QFilterUtil.getMemberNamesFromFilter(n,o.getName()))});if(!t.contains(l)){let t=p.addNewCartesianElement();t.setField(o.getKeyField());let n=o.supportsHierarchy()&&o.isHierarchyActive()?o.getHierarchyName():null;if(e.XStringUtils.isNotNullAndNotEmpty(n)){p.setHierarchyName(n);t.setHierarchyName(n)}t.setComparisonOperator(e.ComparisonOperator.EQUAL);t.setLowString(l);t.getTagging().put(e.QTransientConstants.TAG_IS_TRANSIENT,"")}}e.BlendingMappingUtils.addTransientZoomOrVisibilityFilters(t,o,l,i,true)}}},processUnlinkedDimensions:function(t,n,r,i,a,o,l,s){let u=t.getQueryModel();let p=t.getQueryAliasName();let g=n.getQueryAliasName();let c=e.XList.create();c.addAll(u.getRowsAxis());c.addAll(u.getColumnsAxis());let y=c.getIterator();let m=e.XHashMapByString.create();let d=r.getMappings().getIterator();let C;while(d.hasNext()){let t=d.next();if(t.getMappingDefinitionType()===e.BlendingMappingDefinitionType.DIMENSION){let n=t.getMappingDefinitions().getIterator();while(n.hasNext()){let t=n.next();C=m.getByKey(t.getQueryAliasName());if(e.isNull(C)){C=e.XHashSetOfString.create();m.put(t.getQueryAliasName(),C)}C.add(t.getMemberName())}}}while(y.hasNext()){let t=y.next();if(t.isMeasureStructure()||t.getDimensionType()===e.DimensionType.ACCOUNT){continue}C=m.getByKey(p);let n=t.getName();if(e.isNull(C)||!C.contains(n)){let c;let y=u.getQueryManager().getSystemType()===e.SystemType.BW||s.getSession().hasFeature(e.FeatureToggleOlap.BLENDABLE_QUERY_ALIAS_PREFIXING)?!o.contains(n)&&!u.isBlendingModel():a.contains(n);if(y){c=e.XStringUtils.concatenate3(p,".",n)}else{c=n}a.add(n);let m=null;if(i.getUnlinkedDimensionJoinType()===e.UnlinkedDimensionJoinType.MERGE_MEMBERS){m=r.addNewDimensionMapping(e.BlendingLinkType.NONE,c);m.addNewDimensionMappingDefinition(t,p);m.setIsPreservingMembers(true)}else if(i.getUnlinkedDimensionJoinType()===e.UnlinkedDimensionJoinType.CREATE_NEW_MEMBERS){m=r.addNewDimensionMapping(e.BlendingLinkType.ALL_DATA,c);m.addNewDimensionMappingDefinition(t,p);if(t.isMeasureStructure()){m.addNewConstantMapping("SignedData",p)}else{m.addNewConstantMapping(null,g)}}e.BlendingMappingUtils.saveOriginalResultSetFields(t,s);if(e.BlendingMappingUtils.isLeafDimensionUsedInBlendedDrill(n,u,l)){e.BlendingMappingUtils.autoExpandHierarchyDimension(t)}else if(t.getQueryModel().getConvenienceCommands().isTypeOfBw()){if(t.supportsHierarchy()&&t.isHierarchyActive()){t.getTagging().put("transientInitialDrillLevel",e.XInteger.convertToString(t.getInitialDrillLevel()));t.setInitialDrillLevel(-1);t.getTagging().put(e.QTransientConstants.BW_HIERARCHY_DIMENSION,"")}let n=t.getFlatDisplayKeyField();if(e.notNull(n)&&e.BlendingMappingUtils.doesFieldExistInResultSet(t,n)){e.BlendingMappingUtils.addDisplayKeyMapping(p,g,t,m,n,null)}}if(e.BlendingMappingUtils.isDateOrTimeLikeLinkDimension(t)&&o.contains(n)){let n=t.getLeveledHierarchy(t.getHierarchyName());if(e.notNull(n)){let r=n.getAllLevel().getIterator();while(r.hasNext()){let n=r.next();if(n.getLevelType()===e.HierarchyLevelType.ALL){continue}let i=e.BlendingMappingUtils.getDimensionFieldOfHierarchyLevel(t,n);let a=null;if(e.BlendingMappingUtils.getAttributeMapping(m,i.getName())===null){a=m.addNewAttributeMappingByName(i.getName(),true)}e.BlendingMappingUtils.addLeveledHierarchyAttributeMapping(i,t,a,p)}}}if(!u.getModelCapabilities().supportsBlendingTotals()&&t.getResultVisibilityByElement(e.ResultStructureElement.TOTAL)===e.ResultVisibility.VISIBLE){t.setResultVisibilityByElement(e.ResultStructureElement.TOTAL,e.ResultVisibility.HIDDEN);t.getTagging().put(e.QTransientConstants.TAG_TRANSIENT_TOTAL_VISIBILITY_HIDDEN,"")}}}},removeDrillPaths:function(t,n,r,i){if(e.notNull(n)){for(let a=n.size()-1;a>=0;a--){let o=n.get(a);if(e.XCollectionUtils.contains(o.getDrillPath(),t=>e.XString.isEqual(t.getSelectValue(),r))){if(i){t.getZoomDrillOperations().removeElement(o)}else{t.getDrillOperations().removeElement(o)}}}}},removeQueryTextFieldsFromResultSetFields:function(t,n){if(n){for(let n=t.size()-1;n>=0;n--){if(t.get(n).getPresentationType()===e.PresentationType.QUERY_TEXT){t.removeAt(n)}}}},removeUnsupportedFieldsForBlending:function(t,n){if(t.getConvenienceCommands().isTypeOfBw()){let r=t.getLoadedDimensions();let i=r.getIterator();while(i.hasNext()){let t=i.next();if(t.getFieldLayoutType()===e.FieldLayoutType.FIELD_BASED){e.BlendingMappingUtils.removeUnsupportedResultSetFields(t,n)}else if(t.getFieldLayoutType()===e.FieldLayoutType.ATTRIBUTE_BASED){e.BlendingMappingUtils.removeUnsupportedResultSetAttributeFields(t,n)}if(e.QTimeDimensionUtil.isDateOrTimeLikeDimension(t)){e.BlendingMappingUtils.hideTextField(t)}}}},removeUnsupportedResultSetAttributeFields:function(t,n){let r=t.getModelCapabilities().supportsSidPresentation();let i=t.getResultSetAttributes().getIterator();while(i.hasNext()){let a=i.next();let o=a.getResultSetFields();e.BlendingMappingUtils.replaceQueryTextWithDefaultText(t,o,n);e.BlendingMappingUtils.removeQueryTextFieldsFromResultSetFields(o,n);if(r){o.removeElement(a.getHierarchyNavigationField())}}},removeUnsupportedResultSetFields:function(t,n){let r=t.getFieldContainer().getResultSetFields();e.BlendingMappingUtils.replaceQueryTextWithDefaultText(t,r,n);e.BlendingMappingUtils.removeQueryTextFieldsFromResultSetFields(r,n);if(t.getModelCapabilities().supportsSidPresentation()){r.removeElement(t.getHierarchyNavigationField())}},removeZoomOrVisibilityFilters:function(t,n,r){if(n.getDimensionType()===e.DimensionType.ACCOUNT&&n.isHierarchyActive()&&n.getInitialDrillLevel()>-1){let i=t.getDrillManager();let a=i.getAllZoomDrillOperationsForDimension(n);e.BlendingMappingUtils.removeDrillPaths(i,a,r,true);let o=i.getDrillOperationsByDimension(n);e.BlendingMappingUtils.removeDrillPaths(i,o,r,false);t.getFilter().getVisibilityFilter().removeSingleMemberFilterByDimension(n,r,e.ComparisonOperator.EQUAL)}},replaceQueryTextWithDefaultText:function(t,n,r){let i=t.getFieldContainer().getFieldByPresentationType(e.PresentationType.QUERY_TEXT);if(n.contains(i)){n.removeElement(i);let a=t.getDefaultResultSetTextField();if(!n.contains(a)){n.add(a);if(r){if(!t.getTagging().containsKey(e.QTransientConstants.TAG_REPLACE_QUERY_TEXT_WITH_DEFAULT_TEXT)){t.getTagging().put(e.QTransientConstants.TAG_REPLACE_QUERY_TEXT_WITH_DEFAULT_TEXT,"")}}}}},saveOriginalResultSetFields:function(t,n){let r=t.getResultSetFields().getIterator();let i=e.QCacheKey.createByContextForDimension(t.getContext(),t.getName(),null);let a=e.XList.create();let o=e.XStringUtils.concatenate3(t.getQueryModel().getDatasetId(),"_",i.getKey1());n.addOriginalDimensionResultSetFields(o,a);if(n.getOriginalBlendingProcess()!==n){n.getOriginalBlendingProcess().addOriginalDimensionResultSetFields(o,a)}while(r.hasNext()){let e=r.next();a.add(e.getName())}if(t.getFieldLayoutType()===e.FieldLayoutType.ATTRIBUTE_BASED&&t.getQueryManager().getConvenienceCommands().isTypeOfBw()){let r=t.getResultSetAttributes().getIterator();let i=e.XHashMapByString.create();n.addOriginalDimensionResultSetAttributes(o,i);if(n.getOriginalBlendingProcess()!==n){n.getOriginalBlendingProcess().addOriginalDimensionResultSetAttributes(o,i)}while(r.hasNext()){let t=e.XList.create();let n=r.next();let a=n.getResultSetFields().getIterator();while(a.hasNext()){let e=a.next();t.add(e.getName())}i.put(n.getName(),t)}}}};e.BlendingSortUtils={addFieldOrDimensionSorting:function(t,n,r,i,a,o,l,s){let u=null;let p=null;if(a){u=t.newFieldSorting(n);t.addSortOperation(u);p=e.SortType.FIELD}else{let r=n.getDimension();u=t.getDimensionSorting(r,false);if(e.notNull(u)&&(e.isNull(l)||l.isEmpty())){t.removeDimensionSorting(r);u=null}if(e.isNull(u)){u=t.getDimensionSorting(r,true)}if(e.notNull(l)&&!l.isEmpty()){u=t.newDimensionSorting(r);u.setName(e.XStringUtils.concatenateWithInt(e.QSortUtils.SORT_OPERATION_INFO_PREFIX,e.QSortUtils.SORT_OPERATION_INFO_INDEX++));t.addSortOperation(u)}p=e.QSortUtils.getSortType(u,n,o,r.isHierarchyActive())}if(e.notNull(u)&&e.notNull(p)){e.QSortUtils.addSortDirectionAndBreakGrouping(t,u,p,!r.getPreserveGrouping(),r.getSortDirection());if(i){u.setLocale(r.getContextLanguage());u.setIsCaseSensitive(false)}}e.QSortUtils.applyCustomSortToSortingObject(l,s,u)},addSortByDimension:function(t,n,r,i){let a=n.getFieldByName(i.getFieldName());let o=null;if(e.notNull(t)&&e.isNull(a)){a=e.BlendingUtils.getBlendedFieldFromLeafField(i.getFieldName(),i.getDatasetId(),t,n)}let l=e.BlendingUtils.getBlendedDimensionFromLeafDimension(a.getDimension().getName(),i.getDatasetId(),n);let s=l.getDisplayKeyField();if(l===n.getPrimaryCalculationDimension()){let t=e.BlendingUtils.getDisplayKeyFieldWithFallBack(l);if(e.notNull(t)){s=t}}let u=n.getModelCapabilities().supportsSortDirectionForHierarchySortType();let p=i.getCustomSortDefinition();let g=n.getModelCapabilities().supportsLocaleSorting();if(e.notNull(p)){r.removeDimensionSorting(l);o=a;let s=p.getRuntimeSortFromStart(n,t);if(e.notNull(s)&&s.hasElements()){e.BlendingSortUtils.setCustomSortForSortingManager(r,o,i,g,u,s,e.CustomSortPosition.TOP)}let c=p.getRuntimeSortFromEnd(n,t);if(e.notNull(c)&&c.hasElements()){e.BlendingSortUtils.setCustomSortForSortingManager(r,o,i,g,u,c,e.CustomSortPosition.BOTTOM)}return}let c=false;let y=false;if(e.notNull(t)){let n=t.getQueryManagerByDatasetId(i.getDatasetId()).getQueryModel().getFieldByName(i.getFieldName()).getValueType();y=n===e.XValueType.DATE||n===e.XValueType.DATE_TIME}if(y||e.QTimeDimensionUtil.isDateOrTimeLikeDimension(l)||e.QSortUtils.getDefaultDimensionSortType(l)===e.SortType.MEMBER_KEY){o=a;if(r.supportsDimensionSorting(l,e.SortType.HIERARCHY)&&l.isHierarchyActive()){e.BlendingSortUtils.addFieldOrDimensionSorting(r,o,i,g,c,u,null,null)}else if(r.supportsFieldSorting(o)){c=true;e.BlendingSortUtils.addFieldOrDimensionSorting(r,o,i,g,c,u,null,null)}}else if(i.isDisplayedAsId()){o=l===n.getPrimaryCalculationDimension()?s:a;if(r.supportsFieldSorting(null)){c=true;e.BlendingSortUtils.addFieldOrDimensionSorting(r,o,i,g,c,u,null,null)}}else{if(e.notNull(t)){let r=t.getQueryManagerByDatasetId(i.getDatasetId()).getQueryModel().getDimensionByName(i.getDimensionId());if(e.notNull(r)&&!r.isUseServerDefaultTextField()){let a=e.BlendingUtils.getBlendedFieldFromLeafField(r.getClientDefaultTextField().getName(),i.getDatasetId(),t,n);o=a}}if(e.isNull(o)){o=l.getTextField()}if(e.isNull(o)){o=a}if(r.supportsFieldSorting(null)){c=true;e.BlendingSortUtils.addFieldOrDimensionSorting(r,o,i,g,c,u,null,null)}}if(r.supportsFieldSorting(null)){let t=o===s?a:s;c=true;e.BlendingSortUtils.addFieldOrDimensionSorting(r,t,i,g,c,u,null,null)}else if(r.supportsDimensionSorting(l,null)){c=false;e.BlendingSortUtils.addFieldOrDimensionSorting(r,o,i,g,c,u,null,null)}},setCustomSortForSortingManager:function(t,n,r,i,a,o,l){if(t.supportsFieldSorting(null)){e.BlendingSortUtils.addFieldOrDimensionSorting(t,n,r,i,true,a,o,l)}else{e.BlendingSortUtils.addFieldOrDimensionSorting(t,n,r,i,false,a,o,l)}}};e.DependentPersistedQueryInfo=function(){};e.DependentPersistedQueryInfo.prototype=new e.XObject;e.DependentPersistedQueryInfo.prototype._ff_c="DependentPersistedQueryInfo";e.DependentPersistedQueryInfo.create=function(t,n){let r=new e.DependentPersistedQueryInfo;r.m_systemName=t;r.m_inaQuery=n;return r};e.DependentPersistedQueryInfo.prototype.m_inaQuery=null;e.DependentPersistedQueryInfo.prototype.m_systemName=null;e.DependentPersistedQueryInfo.prototype.getInaQuery=function(){if(e.notNull(this.m_inaQuery)){return this.m_inaQuery.getStringRepresentation()}return null};e.DependentPersistedQueryInfo.prototype.getSystemName=function(){return this.m_systemName};e.DependentPersistedQueryInfo.prototype.releaseObject=function(){this.m_inaQuery=e.XObjectExt.release(this.m_inaQuery);this.m_systemName=null};e.AbstractSpatialClustering=function(){};e.AbstractSpatialClustering.prototype=new e.XObject;e.AbstractSpatialClustering.prototype._ff_c="AbstractSpatialClustering";e.AbstractSpatialClustering.ORDER=null;e.AbstractSpatialClustering.prototype.m_clusterField=null;e.AbstractSpatialClustering.prototype.m_dimensions=null;e.AbstractSpatialClustering.prototype.m_isActive=false;e.AbstractSpatialClustering.prototype.m_parameters=null;e.AbstractSpatialClustering.prototype.m_thresholdNumberOfPoints=0;e.AbstractSpatialClustering.prototype.addDimension=function(e){this.m_dimensions.add(e)};e.AbstractSpatialClustering.prototype.areParametersEqual=function(t,n,r){for(let i=0;i<t.size();i++){let a=t.get(i);if(n.containsKey(a)!==r.containsKey(a)){return false}let o=n.getByKey(a);if(e.notNull(o)){if(!o.isEqualTo(r.getByKey(a))){return false}}}return true};e.AbstractSpatialClustering.prototype.cloneClustering=function(e){e.setActive(this.isActive());if(this.getClusterField()!==null){e.setClusterField(this.getClusterField())}e.setThresholdNumberOfPoints(this.getThresholdNumberOfPoints())};e.AbstractSpatialClustering.prototype.createOrder=function(){e.AbstractSpatialClustering.ORDER=e.XHashMapByString.create();let t=e.XArray.create(2);t.set(0,"EPS");t.set(1,"MinPoints");e.AbstractSpatialClustering.ORDER.put(e.ClusterAlgorithm.DB_SCAN.getName(),t);let n=e.XArray.create(6);n.set(0,"XCells");n.set(1,"YCells");n.set(2,"XLowerBound");n.set(3,"YLowerBound");n.set(4,"XUpperBound");n.set(5,"YUpperBound");e.AbstractSpatialClustering.ORDER.put(e.ClusterAlgorithm.GRID.getName(),n);let r=e.XArray.create(4);r.set(0,"Clusters");r.set(1,"MaxIterations");r.set(2,"Threshold");r.set(3,"Init");e.AbstractSpatialClustering.ORDER.put(e.ClusterAlgorithm.K_MEANS.getName(),r)};e.AbstractSpatialClustering.prototype.getClusterField=function(){return e.XWeakReferenceUtil.getHardRef(this.m_clusterField)};e.AbstractSpatialClustering.prototype.getDimensions=function(){return this.m_dimensions};e.AbstractSpatialClustering.prototype.getParameters=function(){return this.m_parameters};e.AbstractSpatialClustering.prototype.getThresholdNumberOfPoints=function(){return this.m_thresholdNumberOfPoints};e.AbstractSpatialClustering.prototype.isActive=function(){return this.m_isActive};e.AbstractSpatialClustering.prototype.isEqualTo=function(t){if(e.isNull(t)){return false}if(this===t){return true}let n=t;if(n.getClusterAlgorithm()!==this.getClusterAlgorithm()){return false}if(n.isActive()!==this.isActive()){return false}if(n.getClusterField()!==this.getClusterField()){return false}if(n.getThresholdNumberOfPoints()!==this.getThresholdNumberOfPoints()){return false}return this.areParametersEqual(e.AbstractSpatialClustering.ORDER.getByKey(n.getClusterAlgorithm().getName()),this.getParameters(),n.getParameters())};e.AbstractSpatialClustering.prototype.releaseObject=function(){this.m_parameters=e.XObjectExt.release(this.m_parameters);this.m_dimensions=e.XObjectExt.release(this.m_dimensions);this.m_clusterField=null;e.XObject.prototype.releaseObject.call(this)};e.AbstractSpatialClustering.prototype.setActive=function(e){this.m_isActive=e};e.AbstractSpatialClustering.prototype.setClusterField=function(t){e.XObjectExt.assertNotNullExt(t,"The cluster field must not be null!");if(!t.getValueType().isSpatial()){throw e.XException.createIllegalArgumentException("The cluster field must be spatial!")}this.m_clusterField=e.XWeakReferenceUtil.getWeakRef(t)};e.AbstractSpatialClustering.prototype.setThresholdNumberOfPoints=function(e){this.m_thresholdNumberOfPoints=e};e.AbstractSpatialClustering.prototype.setupSpatialClustering=function(t){e.XObject.prototype.setup.call(this);if(e.isNull(e.AbstractSpatialClustering.ORDER)){this.createOrder()}this.m_parameters=e.XHashMapByString.create();this.m_dimensions=e.XList.create();this.m_isActive=true;this.m_thresholdNumberOfPoints=-1;if(e.notNull(t)){t.setSpatialClusterSettings(this)}};e.CommandSpaceFactory={s_factory:null,createCommandSpaceWithElement:function(t,n){return e.CommandSpaceFactory.s_factory.createCommandSpaceWithElement(t,n)},createCommandSpaceWithSelection:function(t,n){return e.CommandSpaceFactory.s_factory.createCommandSpaceWithSelection(t,n)},setInstance:function(t){e.CommandSpaceFactory.s_factory=t}};e.CommandSpaceFactoryDummyImpl=function(){};e.CommandSpaceFactoryDummyImpl.prototype=new e.XObject;e.CommandSpaceFactoryDummyImpl.prototype._ff_c="CommandSpaceFactoryDummyImpl";e.CommandSpaceFactoryDummyImpl.create=function(){return new e.CommandSpaceFactoryDummyImpl};e.CommandSpaceFactoryDummyImpl.prototype.createCommandSpaceWithElement=function(e,t){return null};e.CommandSpaceFactoryDummyImpl.prototype.createCommandSpaceWithSelection=function(e,t){return null};e.RemoteBlendingCacheEntry=function(){};e.RemoteBlendingCacheEntry.prototype=new e.XObject;e.RemoteBlendingCacheEntry.prototype._ff_c="RemoteBlendingCacheEntry";e.RemoteBlendingCacheEntry.create=function(t,n,r){let i=new e.RemoteBlendingCacheEntry;i.m_view=t;i.m_cube=n;i.m_dataSourceName=r;return i};e.RemoteBlendingCacheEntry.prototype.m_cube=null;e.RemoteBlendingCacheEntry.prototype.m_dataSourceName=null;e.RemoteBlendingCacheEntry.prototype.m_view=null;e.RemoteBlendingCacheEntry.prototype.getCube=function(){return this.m_cube};e.RemoteBlendingCacheEntry.prototype.getDataSourceName=function(){return this.m_dataSourceName};e.RemoteBlendingCacheEntry.prototype.getView=function(){return this.m_view};e.RemoteBlendingCacheEntry.prototype.releaseObject=function(){e.XObject.prototype.releaseObject.call(this);this.m_view=null;this.m_cube=null;this.m_dataSourceName=null};e.ComponentStateRef=function(){};e.ComponentStateRef.prototype=new e.XObject;e.ComponentStateRef.prototype._ff_c="ComponentStateRef";e.ComponentStateRef.create=function(t,n){let r=new e.ComponentStateRef;r.m_modCounter=t;r.m_stateId=n;return r};e.ComponentStateRef.prototype.m_modCounter=0;e.ComponentStateRef.prototype.m_stateId=null;e.ComponentStateRef.prototype.getModCounter=function(){return this.m_modCounter};e.ComponentStateRef.prototype.getStateId=function(){return this.m_stateId};e.ComponentStateRef.prototype.toString=function(){return e.XStringUtils.concatenate3(e.XInteger.convertToString(this.m_modCounter),"-",this.m_stateId)};e.OlapEnvState=function(){};e.OlapEnvState.prototype=new e.XObject;e.OlapEnvState.prototype._ff_c="OlapEnvState";e.OlapEnvState.create=function(){let t=new e.OlapEnvState;t.m_queryManagersState=e.XHashMapByString.create();return t};e.OlapEnvState.prototype.filterManagerState=null;e.OlapEnvState.prototype.m_queryManagersState=null;e.OlapEnvState.prototype.sharedObjectsState=null;e.OlapEnvState.prototype.getFilterManagerState=function(){return this.filterManagerState};e.OlapEnvState.prototype.getQueryManagersState=function(){return this.m_queryManagersState};e.OlapEnvState.prototype.getSharedObjectsState=function(){return this.sharedObjectsState};e.OlapEnvState.prototype.setFilterManagerState=function(e){this.filterManagerState=e};e.OlapEnvState.prototype.setSharedObjectsState=function(e){this.sharedObjectsState=e};e.StateStackEntry=function(){};e.StateStackEntry.prototype=new e.XObject;e.StateStackEntry.prototype._ff_c="StateStackEntry";e.StateStackEntry.create=function(t,n){let r=new e.StateStackEntry;r.uuid=t;r.state=n;r.olapStateRefs=e.XHashSetOfString.create();return r};e.StateStackEntry.prototype.olapStateRefs=null;e.StateStackEntry.prototype.state=null;e.StateStackEntry.prototype.uuid=null;e.StateStackEntry.prototype.getName=function(){return this.uuid};e.StateStackEntry.prototype.getOlapStateRefs=function(){return this.olapStateRefs};e.StateStackEntry.prototype.getState=function(){return this.state};e.CustomHierarchySessionData=function(){};e.CustomHierarchySessionData.prototype=new e.XObject;e.CustomHierarchySessionData.prototype._ff_c="CustomHierarchySessionData";e.CustomHierarchySessionData.CUSTOM_HIERARCHY_SESSION_DATA="CustomHierarchySessionData";e.CustomHierarchySessionData.create=function(){let t=new e.CustomHierarchySessionData;t.m_createdCustomHierarchies=e.XList.create();t.m_activeHierarchySubmits=e.XList.create();return t};e.CustomHierarchySessionData.prototype.m_activeHierarchySubmits=null;e.CustomHierarchySessionData.prototype.m_createdCustomHierarchies=null;e.CustomHierarchySessionData.prototype.finishHierarchySubmit=function(t,n){if(e.notNull(t)&&e.notNull(n)){let r=e.QCustomHierarchyDefinitionExt.createExtendedHierarchyDefinition(t,n.getPermaCopy());this.m_createdCustomHierarchies.removeElement(this.getHierarchyDefinitionByName(t.getName()));this.m_createdCustomHierarchies.add(r)}this.notifyListenersOnHierarchySubmit(t,n)};e.CustomHierarchySessionData.prototype.flagHierarchySubmitActive=function(t){let n=this.getActiveSubmit(t);if(e.isNull(n)){this.m_activeHierarchySubmits.add(e.XPair.create(t,e.XList.create()))}};e.CustomHierarchySessionData.prototype.getActiveSubmit=function(e){for(let t=0;t<this.m_activeHierarchySubmits.size();t++){let n=this.m_activeHierarchySubmits.get(t);if(n.getFirstObject().isEqualTo(e)){return n}}return null};e.CustomHierarchySessionData.prototype.getHierarchyDefinitionByName=function(t){if(e.XStringUtils.isNotNullAndNotEmpty(t)){for(let n=0;n<this.m_createdCustomHierarchies.size();n++){let r=this.m_createdCustomHierarchies.get(n);if(e.XString.isEqual(r.getName(),t)){return r}}}return null};e.CustomHierarchySessionData.prototype.getHierarchyDefinitionNames=function(){let t=e.XList.create();for(let n=0;n<this.m_createdCustomHierarchies.size();n++){let r=this.m_createdCustomHierarchies.get(n).getName();if(e.XStringUtils.isNotNullAndNotEmpty(r)){t.add(r)}}return t};e.CustomHierarchySessionData.prototype.getHierarchyInAResponse=function(e){for(let t=0;t<this.m_createdCustomHierarchies.size();t++){let n=this.m_createdCustomHierarchies.get(t);if(n.isEqualTo(e)){return n.getInaHierarchy().getPermaCopy()}}return null};e.CustomHierarchySessionData.prototype.notifyListenersOnHierarchySubmit=function(t,n){let r=this.getActiveSubmit(t);if(e.notNull(r)){let i=r.getSecondObject();for(let e=0;e<i.size();e++){i.get(e).onCustomHierarchySubmitted(t,n)}this.m_activeHierarchySubmits.removeElement(r);e.XObjectExt.release(r)}};e.CustomHierarchySessionData.prototype.registerOnActiveHierarchySubmit=function(t,n){let r=this.getActiveSubmit(t);if(e.notNull(r)){r.getSecondObject().add(n);return true}return false};e.CustomHierarchySessionData.prototype.releaseObject=function(){this.m_createdCustomHierarchies=e.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_createdCustomHierarchies);this.m_activeHierarchySubmits=e.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_activeHierarchySubmits);e.XObject.prototype.releaseObject.call(this)};e.PlanningFactory={s_factory:null,createPlanningManager:function(t){return e.PlanningFactory.s_factory.createPlanningManager(t)},setInstance:function(t){e.PlanningFactory.s_factory=t}};e.PlanningManagerDummy=function(){};e.PlanningManagerDummy.prototype=new e.XObject;e.PlanningManagerDummy.prototype._ff_c="PlanningManagerDummy";e.PlanningManagerDummy.create=function(t){let n=new e.PlanningManagerDummy;n.setupExt(t);return n};e.PlanningManagerDummy.prototype.m_messageManager=null;e.PlanningManagerDummy.prototype.addInputReadinessFilterState=function(e,t){};e.PlanningManagerDummy.prototype.addNewInputEnablementRule=function(e,t){return null};e.PlanningManagerDummy.prototype.addPlanningVersionSettings=function(e){return null};e.PlanningManagerDummy.prototype.clearInputEnablementRules=function(){};e.PlanningManagerDummy.prototype.clearInputReadinessFilter=function(){};e.PlanningManagerDummy.prototype.clearVersionAliases=function(){};e.PlanningManagerDummy.prototype.createDataAreaCommand=function(e){return null};e.PlanningManagerDummy.prototype.createDataAreaCommandDocReset=function(){return null};e.PlanningManagerDummy.prototype.createDataAreaCommandDocSave=function(){return null};e.PlanningManagerDummy.prototype.createDataAreaCommandRefresh=function(){return null};e.PlanningManagerDummy.prototype.deletePlanningVersionSettings=function(e){return null};e.PlanningManagerDummy.prototype.getAllPlanningVersionSettings=function(){return null};e.PlanningManagerDummy.prototype.getDataArea=function(){return null};e.PlanningManagerDummy.prototype.getInputEnablementRules=function(){return null};e.PlanningManagerDummy.prototype.getInputReadinessCacheMode=function(){return null};e.PlanningManagerDummy.prototype.getInputReadinessFilter=function(){return null};e.PlanningManagerDummy.prototype.getInputReadinessMainQuery=function(){return null};e.PlanningManagerDummy.prototype.getPlanningMode=function(){return e.PlanningMode.SERVER_DEFAULT};e.PlanningManagerDummy.prototype.getPlanningModel=function(){return null};e.PlanningManagerDummy.prototype.getPlanningRestriction=function(){return e.PlanningVersionRestrictionType.SERVER_DEFAULT};e.PlanningManagerDummy.prototype.getPlanningVersionIdentifier=function(e,t,n){return null};e.PlanningManagerDummy.prototype.getPlanningVersionSettings=function(e,t,n){return null};e.PlanningManagerDummy.prototype.getPlanningVersionSettingsMode=function(){return null};e.PlanningManagerDummy.prototype.getPlanningVersionSettingsSimple=function(e,t,n){return null};e.PlanningManagerDummy.prototype.getVersionAliases=function(){return null};e.PlanningManagerDummy.prototype.hasChangedCells=function(){return false};e.PlanningManagerDummy.prototype.hasChangedValueLocks=function(){return false};e.PlanningManagerDummy.prototype.hasChangedValues=function(){return false};e.PlanningManagerDummy.prototype.hasNewValues=function(){return false};e.PlanningManagerDummy.prototype.initializeDataAreaState=function(){return this.m_messageManager};e.PlanningManagerDummy.prototype.isDataEntryEnabled=function(){return false};e.PlanningManagerDummy.prototype.isDataEntryReadOnly=function(){return true};e.PlanningManagerDummy.prototype.isPublicVersionEditPossible=function(){return false};e.PlanningManagerDummy.prototype.removeVersionAlias=function(e){};e.PlanningManagerDummy.prototype.resetNewValues=function(){};e.PlanningManagerDummy.prototype.setDataEntryEnabled=function(e){};e.PlanningManagerDummy.prototype.setDataEntryReadOnly=function(e){};e.PlanningManagerDummy.prototype.setInputReadinessCacheMode=function(e){};e.PlanningManagerDummy.prototype.setInputReadinessFilter=function(e){};e.PlanningManagerDummy.prototype.setInputReadinessMainQuery=function(e){};e.PlanningManagerDummy.prototype.setPlanningMode=function(e){};e.PlanningManagerDummy.prototype.setPlanningRestriction=function(e){};e.PlanningManagerDummy.prototype.setPlanningVersionSettingsMode=function(e){};e.PlanningManagerDummy.prototype.setPublicVersionEditPossible=function(e){};e.PlanningManagerDummy.prototype.setVersionAliasById=function(e,t){};e.PlanningManagerDummy.prototype.setupExt=function(t){this.m_messageManager=e.MessageManager.createMessageManagerExt(t.getSession())};e.PlanningManagerDummy.prototype.supportsDataEntryReadOnly=function(){return false};e.PlanningManagerDummy.prototype.transferNewValues=function(){};e.PlanningManagerFactoryDummyImpl=function(){};e.PlanningManagerFactoryDummyImpl.prototype=new e.XObject;e.PlanningManagerFactoryDummyImpl.prototype._ff_c="PlanningManagerFactoryDummyImpl";e.PlanningManagerFactoryDummyImpl.create=function(){return new e.PlanningManagerFactoryDummyImpl};e.PlanningManagerFactoryDummyImpl.prototype.createPlanningManager=function(t){return e.PlanningManagerDummy.create(t)};e.QInAConverter={s_lookupAggregationType:null,s_lookupAggregationTypeIna:null,s_lookupAlertLevelInt:null,s_lookupAxisType:null,s_lookupAxisTypeIna:null,s_lookupCategory:null,s_lookupCategoryIna:null,s_lookupCellChartOrientation:null,s_lookupCellChartOrientationIna:null,s_lookupCellChartType:null,s_lookupCellChartTypeIna:null,s_lookupCellValueType:null,s_lookupComparison:null,s_lookupComparisonIna:null,s_lookupComponentType:null,s_lookupComponentTypeIna:null,s_lookupCtErrorHandlingMode:null,s_lookupCtErrorHandlingModeIna:null,s_lookupCurrencyPresentation:null,s_lookupCurrencyPresentationIna:null,s_lookupDateRangeGranularity:null,s_lookupDateRangeGranularityIna:null,s_lookupDimensionTypeInt:null,s_lookupDimensionVisibilityInt:null,s_lookupDocumentIdsAction:null,s_lookupDocumentIdsActionIna:null,s_lookupDocumentIdsScope:null,s_lookupDocumentIdsScopeIna:null,s_lookupDocumentSupportType:null,s_lookupDocumentSupportTypeIna:null,s_lookupEncoding:null,s_lookupFilterDisplayInfo:null,s_lookupFilterDisplayInfoIna:null,s_lookupInfoObjectType:null,s_lookupInfoObjectTypeIna:null,s_lookupInputEnablementCacheMode:null,s_lookupInputEnablementCacheModeIna:null,s_lookupInputEnablementRuleMode:null,s_lookupInputEnablementRuleModeIna:null,s_lookupInputReadinessFilterMode:null,s_lookupInputReadinessFilterModeIna:null,s_lookupMemberNavigationTypeIna:null,s_lookupPresentationType:null,s_lookupPresentationTypeIna:null,s_lookupProcessingType:null,s_lookupProcessingTypeIna:null,s_lookupProtocolBindingType:null,s_lookupProtocolBindingTypeIna:null,s_lookupProviderType:null,s_lookupProviderTypeFallbackIna:null,s_lookupProviderTypeIna:null,s_lookupRateType:null,s_lookupRateTypeIna:null,s_lookupReadMode:null,s_lookupReadModeIna:null,s_lookupResultCalculation:null,s_lookupResultsetState:null,s_lookupReturnedDataSelection:null,s_lookupReturnedDataSelectionIna:null,s_lookupRunningAggregationOperator:null,s_lookupRunningAggregationOperatorIna:null,s_lookupRunningTotalOperator:null,s_lookupRunningTotalOperatorIna:null,s_lookupScaleAndUnitPlacement:null,s_lookupScaleAndUnitPlacementIna:null,s_lookupScaleFormat:null,s_lookupScaleFormatIna:null,s_lookupSemanticBindingType:null,s_lookupSemanticBindingTypeIna:null,s_lookupSignPresentation:null,s_lookupSignPresentationIna:null,s_lookupSingleValueCalculation:null,s_lookupSortType:null,s_lookupSortTypeIna:null,s_lookupUniqueAxisProperty:null,s_lookupUniqueAxisPropertyIna:null,s_lookupUnitType:null,s_lookupUnitTypeIna:null,s_lookupUtErrorHandlingMode:null,s_lookupUtErrorHandlingModeIna:null,s_lookupUtRateLookup:null,s_lookupUtRateLookupIna:null,s_lookupValueException:null,s_lookupValueType:null,s_lookupValueTypeIna:null,s_lookupVisibilityType:null,s_lookupVisibilityTypeIna:null,s_lookupWindowFunctionType:null,s_lookupWindowFunctionTypeIna:null,s_textTransformation:null,s_textTransformationIna:null,indexOf:function(e,t){let n=e.size();for(let r=1;r<n;r++){if(e.get(r)===t){return r}}return-1},lookupAggregationType:function(t){return e.QInAConverter.s_lookupAggregationType.getByKey(t)},lookupAggregationType2:function(t){switch(t){case 1:return e.AggregationType.SUM;case 2:return e.AggregationType.COUNT;case 3:return e.AggregationType.MIN;case 4:return e.AggregationType.MAX;case 5:return e.AggregationType.AVERAGE;case 6:return e.AggregationType.COUNT_DISTINCT;case 7:return e.AggregationType.LAST;case 8:return e.AggregationType.FIRST;case 9:return e.AggregationType.VARIANCE;case 10:return e.AggregationType.STANDARD_DEVIATION;case 11:return e.AggregationType.NOP_NULL;case 12:return e.AggregationType.NOP_NULL_ZERO;default:return null}},lookupAggregationTypeInA:function(t){return e.QInAConverter.lookupInAString(e.QInAConverter.s_lookupAggregationTypeIna,t)},lookupAlertLevel:function(t){return e.QInAConverter.lookupValidOrDefault(t,9,null,e.QInAConverter.s_lookupAlertLevelInt)},lookupAlignment:function(t){if(e.isNull(t)){return e.ResultAlignment.NONE}else{switch(t){case"Top":return e.ResultAlignment.TOP;case"Bottom":return e.ResultAlignment.BOTTOM;case"TopBottom":return e.ResultAlignment.TOPBOTTOM;case"Structure":return e.ResultAlignment.STRUCTURE;default:return e.ResultAlignment.NONE}}},lookupAlignmentInA:function(t){let n="None";if(t===e.ResultAlignment.TOP){n="Top"}else if(t===e.ResultAlignment.BOTTOM){n="Bottom"}else if(t===e.ResultAlignment.TOPBOTTOM){n="TopBottom"}else if(t===e.ResultAlignment.STRUCTURE){n="Structure"}return n},lookupAxisType:function(t){return e.QInAConverter.lookupConstantWithDefault(e.QInAConverter.s_lookupAxisType,t,e.AxisType.FREE)},lookupAxisTypeInA:function(t){return e.QInAConverter.lookupInAString(e.QInAConverter.s_lookupAxisTypeIna,t)},lookupAxisTypeInAInt:function(t){let n=0;if(t===e.AxisType.ROWS){n=1}else if(t===e.AxisType.COLUMNS){n=2}else if(t===e.AxisType.FREE){n=3}return n},lookupAxisTypeInt:function(t){switch(t){case 1:return e.AxisType.ROWS;case 2:return e.AxisType.COLUMNS;default:return e.AxisType.FREE}},lookupByEncodedValue:function(t){switch(t){case 2:return e.UnitType.UNIT;case 1:return e.UnitType.CURRENCY;case 0:return e.UnitType.NONE;case-1:return e.UnitType.MIXED;case-2:return e.UnitType.UNDEFINED;case-3:return e.UnitType.NULL_VALUE;default:return e.UnitType.CONVERSION_FAILED}},lookupCategory:function(t){return e.QInAConverter.s_lookupCategory.getByKey(t)},lookupCategoryInA:function(t){return e.QInAConverter.lookupInAString(e.QInAConverter.s_lookupCategoryIna,t)},lookupCellChartOrientation:function(t){return e.QInAConverter.s_lookupCellChartOrientation.getByKey(t)},lookupCellChartOrientationInA:function(t){return e.QInAConverter.lookupInAString(e.QInAConverter.s_lookupCellChartOrientationIna,t)},lookupCellChartType:function(t){return e.QInAConverter.s_lookupCellChartType.getByKey(t)},lookupCellChartTypeInA:function(t){return e.QInAConverter.lookupInAString(e.QInAConverter.s_lookupCellChartTypeIna,t)},lookupComparison:function(t){return e.QInAConverter.s_lookupComparison.getByKey(t)},lookupComparisonGroup:function(t,n){if(e.isNull(t)){return null}switch(t){case"SingleValue":return n?e.QSetSignComparisonOperatorGroup.SINGLE_VALUE_WITH_NULL_ALLOWED:e.QSetSignComparisonOperatorGroup.SINGLE_VALUE;case"Interval":return n?e.QSetSignComparisonOperatorGroup.INTERVAL_WITH_NULL_ALLOWED:e.QSetSignComparisonOperatorGroup.INTERVAL;case"Range":return n?e.QSetSignComparisonOperatorGroup.RANGE_WITH_NULL_ALLOWED:e.QSetSignComparisonOperatorGroup.RANGE;case"ExtendedRange":return n?e.QSetSignComparisonOperatorGroup.EXTENDED_RANGE_WITH_NULL_ALLOWED:e.QSetSignComparisonOperatorGroup.EXTENDED_RANGE;case"Geo":return n?e.QSetSignComparisonOperatorGroup.GEO_WITH_NULL_ALLOWED:e.QSetSignComparisonOperatorGroup.GEO;case"HierarchyDescription":return n?e.QSetSignComparisonOperatorGroup.HIERARCHY_DESCRIPTION_WITH_NULL_ALLOWED:e.QSetSignComparisonOperatorGroup.HIERARCHY_DESCRIPTION;case"HierarchyNameAttributes":return n?e.QSetSignComparisonOperatorGroup.HIERARCHY_NAME_ATTRIBUTES_WITH_NULL_ALLOWED:e.QSetSignComparisonOperatorGroup.HIERARCHY_NAME_ATTRIBUTES;default:return null}},lookupComparisonGroupInA:function(t){let n=null;if(e.notNull(t)){if(e.XString.startsWith(t.getName(),e.QSetSignComparisonOperatorGroup.INTERVAL.getName())){n="Interval"}else if(e.XString.startsWith(t.getName(),e.QSetSignComparisonOperatorGroup.RANGE.getName())){n="Range"}else if(e.XString.startsWith(t.getName(),e.QSetSignComparisonOperatorGroup.SINGLE_VALUE.getName())){n="SingleValue"}else if(e.XString.startsWith(t.getName(),e.QSetSignComparisonOperatorGroup.EXTENDED_RANGE.getName())){n="ExtendedRange"}else if(e.XString.startsWith(t.getName(),e.QSetSignComparisonOperatorGroup.GEO.getName())){n="Geo"}else if(e.XString.startsWith(t.getName(),e.QSetSignComparisonOperatorGroup.HIERARCHY_DESCRIPTION.getName())){n="HierarchyDescription"}else if(e.XString.startsWith(t.getName(),e.QSetSignComparisonOperatorGroup.HIERARCHY_NAME_ATTRIBUTES.getName())){n="HierarchyNameAttributes"}}return n},lookupComparisonInA:function(t){return e.QInAConverter.lookupInAString(e.QInAConverter.s_lookupComparisonIna,t)},lookupComponentType:function(t){return e.QInAConverter.s_lookupComponentType.getByKey(t)},lookupComponentTypeInA:function(t){return e.QInAConverter.lookupInAString(e.QInAConverter.s_lookupComponentTypeIna,t)},lookupConfigLevel:function(t){if(e.isNull(t)){return e.QModelLevel.NONE}else{switch(t){case"Query":return e.QModelLevel.QUERY;case"Axis":return e.QModelLevel.AXES;case"Dimension":return e.QModelLevel.DIMENSIONS;default:return e.QModelLevel.NONE}}},lookupConfigLevelInA:function(t){let n="None";if(t===e.QModelLevel.QUERY){n="Query"}else if(t===e.QModelLevel.AXES){n="Axis"}else if(t===e.QModelLevel.DIMENSIONS){n="Dimension"}return n},lookupConstantWithDefault:function(t,n,r){let i=t.getByKey(n);return e.isNull(i)?r:i},lookupContextNameForProvider:function(t){let n;if(t===e.ProviderType.PLANNING||t===e.ProviderType.PLANNING_VALUE_HELP){n="Planning"}else if(t===e.ProviderType.LIST_REPORTING){n="ListReporting"}else{n="Analytics"}return n},lookupCtErrorHandlingMode:function(t){return e.QInAConverter.s_lookupCtErrorHandlingMode.getByKey(t)},lookupCtErrorHandlingModeInA:function(t){return e.QInAConverter.lookupInAString(e.QInAConverter.s_lookupCtErrorHandlingModeIna,t)},lookupCurrencyPresentation:function(t){return e.QInAConverter.s_lookupCurrencyPresentation.getByKey(t)},lookupCurrencyPresentationInA:function(t){return e.QInAConverter.lookupInAString(e.QInAConverter.s_lookupCurrencyPresentationIna,t)},lookupDateRangeGranularity:function(t){return e.QInAConverter.s_lookupDateRangeGranularity.getByKey(t)},lookupDateRangeGranularityInA:function(t){return e.QInAConverter.lookupInAString(e.QInAConverter.s_lookupDateRangeGranularityIna,t)},lookupDimensionType:function(t){if(t===-2){return e.DimensionType.CALCULATED_DIMENSION}else if(t===-3){return e.DimensionType.FORMULA_CALCULATED_DIMENSION}else if(t===-1){return e.DimensionType.VIRTUAL}else if(t<1||t===3){return e.DimensionType.DIMENSION}else if(t>13){throw e.XException.createIllegalStateException("Unknown dimension type")}else{return e.QInAConverter.s_lookupDimensionTypeInt.get(t)}},lookupDimensionTypeInA:function(t){let n;if(t===e.DimensionType.CALCULATED_DIMENSION){n=-2}else if(t.isTypeOf(e.DimensionType.FORMULA_CALCULATED_DIMENSION)){n=-3}else if(t.isTypeOf(e.DimensionType.VIRTUAL)){n=-1}else{n=e.QInAConverter.indexOf(e.QInAConverter.s_lookupDimensionTypeInt,t);if(n===-1){throw e.XException.createIllegalStateException("Unknown dimension type")}}return n},lookupDimensionVisibility:function(t){if(t===0){return e.DimensionVisibility.VISIBLE}if(t===1){return e.DimensionVisibility.METADATA}if(t===2){return e.DimensionVisibility.HIDDEN}throw e.XException.createIllegalStateException("Unknown dimension visibility")},lookupDimensionVisibilityIna:function(t){if(t===e.DimensionVisibility.VISIBLE){return 0}if(t===e.DimensionVisibility.METADATA){return 1}if(t===e.DimensionVisibility.HIDDEN){return 2}throw e.XException.createIllegalStateException("Unknown dimension visibility")},lookupDocumentsIdsAction:function(t){return e.QInAConverter.s_lookupDocumentIdsAction.getByKey(t)},lookupDocumentsIdsActionInA:function(t){return e.QInAConverter.lookupInAString(e.QInAConverter.s_lookupDocumentIdsActionIna,t)},lookupDocumentsIdsScope:function(t){return e.QInAConverter.s_lookupDocumentIdsScope.getByKey(t)},lookupDocumentsIdsScopeInA:function(t){return e.QInAConverter.lookupInAString(e.QInAConverter.s_lookupDocumentIdsScopeIna,t)},lookupDocumentsSupportType:function(t){return e.QInAConverter.s_lookupDocumentSupportType.getByKey(t)},lookupDocumentsSupportTypeInA:function(t){return e.QInAConverter.lookupInAString(e.QInAConverter.s_lookupDocumentSupportTypeIna,t)},lookupDrillState:function(t,n){switch(t){case 2:return e.DrillState.COLLAPSED;case 3:return e.DrillState.EXPANDED;case 1:return e.DrillState.LEAF;case 4:return n?e.DrillState.EXPANDED:e.DrillState.DRILLED;case 100:return n?e.DrillState.EXPANDED:e.DrillState.LEAF_DRILLDOWN_ALLOWED;case 101:return n?e.DrillState.EXPANDED:e.DrillState.LEAF_UDH_EXPAND_ALLOWED;case 102:return n?e.DrillState.LEAF:e.DrillState.LEAF_UDH;case 103:return n?e.DrillState.COLLAPSED:e.DrillState.COLLAPSED_EXPAND_AND_DRILLDOWN_ALLOWED;default:return null}},lookupDrillStateInA:function(t){let n=null;if(t===e.DrillState.COLLAPSED){n="Collapsed"}else if(t===e.DrillState.EXPANDED){n="Expanded"}else if(t===e.DrillState.DRILLED){n="Drilled"}return n},lookupDrillStateOp:function(t){if(e.isNull(t)){return null}switch(t){case"Collapsed":return e.DrillState.COLLAPSED;case"Expanded":return e.DrillState.EXPANDED;case"Drilled":return e.DrillState.DRILLED;default:return null}},lookupEncoding:function(t){return e.QInAConverter.s_lookupEncoding.getByKey(t)},lookupException:function(t){return e.QInAConverter.lookupValidOrDefault(t,10,e.ValueException.ERROR,e.QInAConverter.s_lookupValueException)},lookupFallbackServiceNameForProvider:function(t){let n=null;if(t===e.ProviderType.ANALYTICS||t===e.ProviderType.ANALYTICS_VALUE_HELP||t===e.ProviderType.PLANNING||t===e.ProviderType.CATALOG){n=e.ServerService.ANALYTIC}return n},lookupFieldLayoutType:function(t){if(e.isNull(t)){return e.FieldLayoutType.FIELD_BASED}else{switch(t){case"AttributeBased":return e.FieldLayoutType.ATTRIBUTE_BASED;case"AttributesAndPresentations":return e.FieldLayoutType.ATTRIBUTES_AND_PRESENTATIONS;default:return e.FieldLayoutType.FIELD_BASED}}},lookupFieldLayoutTypeInA:function(t){let n="FieldBased";if(t===e.FieldLayoutType.ATTRIBUTE_BASED){n="AttributeBased"}else if(t===e.FieldLayoutType.ATTRIBUTES_AND_PRESENTATIONS){n="AttributesAndPresentations"}return n},lookupFilterDisplayInfo:function(t){return e.QInAConverter.s_lookupFilterDisplayInfo.getByKey(t)},lookupFilterDisplayInfoInA:function(t){return e.QInAConverter.lookupInAString(e.QInAConverter.s_lookupFilterDisplayInfoIna,t)},lookupFrameEndType:function(t){if(e.isNull(t)){return e.FrameEndType.CURRENT_ROW}else{switch(t){case"UNBOUNDED FOLLOWING":return e.FrameEndType.UNBOUNDED_FOLLOWING;case"FOLLOWING":return e.FrameEndType.FOLLOWING;default:return e.FrameEndType.CURRENT_ROW}}},lookupFrameEndTypeInA:function(t){let n="CURRENT ROW";if(t===e.FrameEndType.UNBOUNDED_FOLLOWING){n="UNBOUNDED FOLLOWING"}else if(t===e.FrameEndType.FOLLOWING){n="FOLLOWING"}return n},lookupFrameStartType:function(t){if(e.isNull(t)){return e.FrameStartType.UNBOUNDED_PRECEDING}else{switch(t){case"CURRENT ROW":return e.FrameStartType.CURRENT_ROW;case"PRECEDING":return e.FrameStartType.PRECEDING;default:return e.FrameStartType.UNBOUNDED_PRECEDING}}},lookupFrameStartTypeInA:function(t){let n="UNBOUNDED PRECEDING";if(t===e.FrameStartType.CURRENT_ROW){n="CURRENT ROW"}else if(t===e.FrameStartType.PRECEDING){n="PRECEDING"}return n},lookupHierarchyLevelType:function(t){switch(t){case 1:return e.HierarchyLevelType.ALL;case 20:return e.HierarchyLevelType.TIME_YEAR;case 36:return e.HierarchyLevelType.TIME_HALF_YEAR;case 68:return e.HierarchyLevelType.TIME_QUARTER;case 132:return e.HierarchyLevelType.TIME_MONTH;case 260:return e.HierarchyLevelType.TIME_WEEK;case 516:return e.HierarchyLevelType.TIME_DAY;case 772:return e.HierarchyLevelType.TIME_HOUR;case 1028:return e.HierarchyLevelType.TIME_MINUTE;case 2052:return e.HierarchyLevelType.TIME_SECOND;default:return e.HierarchyLevelType.REGULAR}},lookupHierarchyLevelTypeIna:function(t){let n;if(t===e.HierarchyLevelType.ALL){n=1}else if(t===e.HierarchyLevelType.TIME_YEAR){n=20}else if(t===e.HierarchyLevelType.TIME_HALF_YEAR){n=36}else if(t===e.HierarchyLevelType.TIME_QUARTER){n=68}else if(t===e.HierarchyLevelType.TIME_MONTH){n=132}else if(t===e.HierarchyLevelType.TIME_WEEK){n=260}else if(t===e.HierarchyLevelType.TIME_DAY){n=516}else if(t===e.HierarchyLevelType.TIME_HOUR){n=772}else if(t===e.HierarchyLevelType.TIME_MINUTE){n=1028}else if(t===e.HierarchyLevelType.TIME_SECOND){n=2052}else{n=0}return n},lookupInAString:function(t,n){return e.isNull(n)?null:t.getByKey(n.getName())},lookupInfoObjectType:function(t){return e.QInAConverter.s_lookupInfoObjectType.getByKey(t)},lookupInfoObjectTypeInA:function(t){return e.QInAConverter.lookupInAString(e.QInAConverter.s_lookupInfoObjectTypeIna,t)},lookupInputCacheMode:function(t){return e.QInAConverter.s_lookupInputEnablementCacheMode.getByKey(t)},lookupInputEnablementCacheModeInA:function(t){return e.QInAConverter.lookupInAString(e.QInAConverter.s_lookupInputEnablementCacheModeIna,t)},lookupInputEnablementMode:function(t){return e.QInAConverter.s_lookupInputEnablementRuleMode.getByKey(t)},lookupInputEnablementModeInA:function(t){return e.QInAConverter.lookupInAString(e.QInAConverter.s_lookupInputEnablementRuleModeIna,t)},lookupInputReadinessFilterMode:function(t){return e.QInAConverter.s_lookupInputReadinessFilterMode.getByKey(t)},lookupInputReadinessFilterModeInA:function(t){return e.QInAConverter.lookupInAString(e.QInAConverter.s_lookupInputReadinessFilterModeIna,t)},lookupIntByValueType:function(t){let n=e.QInAConverter.indexOf(e.QInAConverter.s_lookupCellValueType,t);return n===-1?0:n},lookupLowerLevelNodeAlignment:function(t){if(e.isNull(t)){return e.Alignment.DEFAULT_VALUE}else{switch(t){case"Above":return e.Alignment.CHILDREN_ABOVE_PARENT;case"Below":return e.Alignment.CHILDREN_BELOW_PARENT;case"InheritFromFirstDimensionOnAxis":return e.Alignment.INHERIT_FROM_FIRST_DIMENSION_ON_AXIS;default:return e.Alignment.DEFAULT_VALUE}}},lookupLowerLevelNodeAlignmentInA:function(t){let n="Default";if(t===e.Alignment.CHILDREN_ABOVE_PARENT){n="Above"}else if(t===e.Alignment.CHILDREN_BELOW_PARENT){n="Below"}else if(t===e.Alignment.INHERIT_FROM_FIRST_DIMENSION_ON_AXIS){n="InheritFromFirstDimensionOnAxis"}return n},lookupLowerLevelNodeAlignmentInA2:function(t){let n="Default";if(t===e.Alignment.CHILDREN_ABOVE_PARENT){n="Below"}else if(t===e.Alignment.CHILDREN_BELOW_PARENT){n="Above"}return n},lookupMeasureStructureMemberType:function(t){if(e.isNull(t)){return null}switch(t){case"Measure":return e.MemberType.MEASURE;case"SelectionMeasure":return e.MemberType.RESTRICTED_MEASURE;case"FormulaMeasure":return e.MemberType.FORMULA;case"VarianceMeasure":return e.MemberType.VARIANCE;case"ExceptionAggregationMeasure":return e.MemberType.EXCEPTION_AGGREGATION;case"CurrencyMeasure":return e.MemberType.CURRENCY_MEASURE;case"UnitMeasure":return e.MemberType.UNIT_MEASURE;case"RunningTotal":return e.MemberType.RUNNING_TOTAL;case"ParetoMeasure":return e.MemberType.PARETO;default:return null}},lookupMeasureStructureMemberTypeIna:function(t){let n=null;if(e.notNull(t)){if(t===e.MemberType.RESTRICTED_MEASURE){n="SelectionMeasure"}else if(t===e.MemberType.FORMULA){n="FormulaMeasure"}else if(t===e.MemberType.VARIANCE){n="VarianceMeasure"}else if(t===e.MemberType.EXCEPTION_AGGREGATION){n="ExceptionAggregationMeasure"}else if(t===e.MemberType.CURRENCY_MEASURE){n="CurrencyMeasure"}else if(t===e.MemberType.UNIT_MEASURE){n="UnitMeasure"}else if(t===e.MemberType.RUNNING_TOTAL){n="RunningTotal"}else if(t===e.MemberType.PARETO){n="ParetoMeasure"}else{n="Measure"}}return n},lookupMeasureStructureMemberTypeInaForUniversalModels:function(t){let n;if(e.isNull(t)){n=-1}else if(t===e.MemberType.FORMULA){n=0}else if(t===e.MemberType.RESTRICTED_MEASURE){n=1}else{n=2}return n},lookupMemberNavigationTypeInA:function(t){return e.QInAConverter.lookupInAString(e.QInAConverter.s_lookupMemberNavigationTypeIna,t)},lookupMemberType:function(t){switch(t){case 1:return e.MemberType.RESULT;case 2:return e.MemberType.CONDITION_RESULT;case 3:return e.MemberType.CONDITION_OTHERS_RESULT;case 4:return e.MemberType.OTHERS_FROM_CONDITIONS_RESULT;default:return e.MemberType.MEMBER}},lookupNullsType:function(t){if(e.isNull(t)){return null}else{switch(t){case"FIRST":return e.NullsType.FIRST;case"LAST":return e.NullsType.LAST;default:return e.NullsType.NONE}}},lookupNullsTypeInA:function(t){let n=null;if(t===e.NullsType.FIRST){n="FIRST"}else if(t===e.NullsType.LAST){n="LAST"}return n},lookupOperatorInA:function(t){let n=null;if(e.notNull(t)){n=t===e.ComparisonOperator.EQUAL?"=":t.getDisplayString()}return n},lookupPresentationType:function(t){return e.QInAConverter.lookupConstantWithDefault(e.QInAConverter.s_lookupPresentationType,t,e.PresentationType.VALUE)},lookupPresentationTypeInA:function(t){return e.QInAConverter.lookupInAString(e.QInAConverter.s_lookupPresentationTypeIna,t)},lookupProcessingType:function(t){return e.QInAConverter.s_lookupProcessingType.getByKey(t)},lookupProcessingTypeIna:function(t){return e.QInAConverter.lookupInAString(e.QInAConverter.s_lookupProcessingTypeIna,t)},lookupProtocolBindingType:function(t){return e.QInAConverter.s_lookupProtocolBindingType.getByKey(t)},lookupProtocolBindingTypeInA:function(t){return e.QInAConverter.lookupInAString(e.QInAConverter.s_lookupProtocolBindingTypeIna,t)},lookupRateType:function(t){return e.QInAConverter.s_lookupRateType.getByKey(t)},lookupRateTypeInA:function(t){return e.QInAConverter.lookupInAString(e.QInAConverter.s_lookupRateTypeIna,t)},lookupReadMode:function(t){return e.QInAConverter.s_lookupReadMode.getByKey(t)},lookupReadModeInA:function(t){return e.QInAConverter.lookupInAString(e.QInAConverter.s_lookupReadModeIna,t)},lookupReordering:function(t){if(e.isNull(t)){return e.ReorderingCapability.NONE}else{switch(t){case"Full":return e.ReorderingCapability.FULL;case"Restricted":return e.ReorderingCapability.RESTRICTED;default:return e.ReorderingCapability.NONE}}},lookupReorderingInA:function(t){let n="None";if(t===e.ReorderingCapability.FULL){n="Full"}else if(t===e.ReorderingCapability.RESTRICTED){n="Restricted"}return n},lookupResultCalculation:function(t){return e.QInAConverter.s_lookupResultCalculation.getByKey(t)},lookupResultSetState:function(t){return e.QInAConverter.lookupValidOrDefault(t,6,e.ResultSetState.ERROR,e.QInAConverter.s_lookupResultsetState)},lookupResultSetVisibility:function(t){if(e.isNull(t)){return e.ResultVisibility.HIDDEN}else{switch(t){case"Visible":return e.ResultVisibility.VISIBLE;case"Conditional":return e.ResultVisibility.CONDITIONAL;case"Always":return e.ResultVisibility.ALWAYS;case"HiddenDescSelfAfter":return e.ResultVisibility.HIDDEN_DESCENDANTS_SELF_AFTER;default:return e.ResultVisibility.HIDDEN}}},lookupResultSetVisibilityInA:function(t){let n="Hidden";if(t===e.ResultVisibility.VISIBLE){n="Visible"}else if(t===e.ResultVisibility.CONDITIONAL){n="Conditional"}else if(t===e.ResultVisibility.ALWAYS){n="Always"}else if(t===e.ResultVisibility.HIDDEN_DESCENDANTS_SELF_AFTER){n="HiddenDescSelfAfter"}return n},lookupResultStructureElement:function(t){if(e.isNull(t)){return null}else{switch(t){case"Members":return e.ResultStructureElement.MEMBERS;case"Total":return e.ResultStructureElement.TOTAL;case"TotalIncludedMembers":return e.ResultStructureElement.TOTAL_INCLUDED_MEMBERS;case"TotalRemainingMembers":return e.ResultStructureElement.TOTAL_REMAINING_MEMBERS;case"Others":return e.ResultStructureElement.OTHERS_FROM_CONDITIONS;case"OthersDetailsFromConditions":return e.ResultStructureElement.OTHERS_DETAILS_FROM_CONDITIONS;default:return null}}},lookupResultStructureElementInA:function(t){let n=null;if(t===e.ResultStructureElement.MEMBERS){n="Members"}else if(t===e.ResultStructureElement.TOTAL){n="Total"}else if(t===e.ResultStructureElement.TOTAL_INCLUDED_MEMBERS){n="TotalIncludedMembers"}else if(t===e.ResultStructureElement.TOTAL_REMAINING_MEMBERS){n="TotalRemainingMembers"}else if(t===e.ResultStructureElement.OTHERS_FROM_CONDITIONS){n="Others"}else if(t===e.ResultStructureElement.OTHERS_DETAILS_FROM_CONDITIONS){n="OthersDetailsFromConditions"}return n},lookupResultsetMemberTypeInA:function(t){let n=0;if(t===e.MemberType.RESULT){n=1}else if(t===e.MemberType.CONDITION_RESULT){n=2}else if(t===e.MemberType.CONDITION_OTHERS_RESULT){n=3}else if(t===e.MemberType.OTHERS_FROM_CONDITIONS_RESULT){n=4}return n},lookupReturnedDataSelection:function(t){return e.QInAConverter.s_lookupReturnedDataSelection.getByKey(t)},lookupReturnedDataSelectionInA:function(t){return e.QInAConverter.lookupInAString(e.QInAConverter.s_lookupReturnedDataSelectionIna,t)},lookupRsSetSign:function(t){if(e.isNull(t)){return null}switch(t){case"I":return e.SetSign.INCLUDING;case"E":return e.SetSign.EXCLUDING}return null},lookupRunningAggregationOperator:function(t){return e.QInAConverter.s_lookupRunningAggregationOperator.getByKey(t)},lookupRunningAggregationOperatorInA:function(t){return e.QInAConverter.lookupInAString(e.QInAConverter.s_lookupRunningAggregationOperatorIna,t)},lookupRunningTotalOperator:function(t){return e.QInAConverter.s_lookupRunningTotalOperator.getByKey(t)},lookupRunningTotalOperatorInA:function(t){return e.QInAConverter.lookupInAString(e.QInAConverter.s_lookupRunningTotalOperatorIna,t)},lookupScaleAndUnitPlacement:function(t){return e.QInAConverter.s_lookupScaleAndUnitPlacement.getByKey(t)},lookupScaleAndUnitPlacementInA:function(t){return e.QInAConverter.lookupInAString(e.QInAConverter.s_lookupScaleAndUnitPlacementIna,t)},lookupScaleFormat:function(t){return e.QInAConverter.s_lookupScaleFormat.getByKey(t)},lookupScaleFormatInA:function(t){return e.QInAConverter.lookupInAString(e.QInAConverter.s_lookupScaleFormatIna,t)},lookupSemanticBindingType:function(t){return e.QInAConverter.s_lookupSemanticBindingType.getByKey(t)},lookupSemanticBindingTypeInA:function(t){return e.QInAConverter.lookupInAString(e.QInAConverter.s_lookupSemanticBindingTypeIna,t)},lookupServiceNameForProvider:function(t){return e.QInAConverter.s_lookupProviderTypeIna.getByKey(t.getName())},lookupSignPresentation:function(t){return e.QInAConverter.s_lookupSignPresentation.getByKey(t)},lookupSignPresentationInA:function(t){return e.QInAConverter.lookupInAString(e.QInAConverter.s_lookupSignPresentationIna,t)},lookupSingleValueCalculation:function(t){return e.QInAConverter.s_lookupSingleValueCalculation.getByKey(t)},lookupSortDirection:function(t){switch(t){case 1:return e.XSortDirection.ASCENDING;case 2:return e.XSortDirection.DESCENDING;case 3:return e.XSortDirection.NONE;default:return e.XSortDirection.DEFAULT_VALUE}},lookupSortDirection2:function(t){if(e.XString.isEqual("Asc",t)){return e.XSortDirection.ASCENDING}else if(e.XString.isEqual("Desc",t)){return e.XSortDirection.DESCENDING}else{return e.XSortDirection.NONE}},lookupSortDirectionInA:function(t){let n;if(t===e.XSortDirection.ASCENDING){n=1}else if(t===e.XSortDirection.DESCENDING){n=2}else if(t===e.XSortDirection.NONE){n=3}else{n=0}return n},lookupSortDirectionInA2:function(t){let n;if(t===e.XSortDirection.ASCENDING){n="Asc"}else if(t===e.XSortDirection.DESCENDING){n="Desc"}else{n="None"}return n},lookupSortType:function(t){return e.QInAConverter.s_lookupSortType.getByKey(t)},lookupSortTypeInA:function(t){return e.QInAConverter.lookupInAString(e.QInAConverter.s_lookupSortTypeIna,t)},lookupSuppressionType:function(t){switch(t){case 1:return e.ZeroSuppressionType.TOTAL_IS_ZERO;case 2:return e.ZeroSuppressionType.ALL_CELLS_ARE_ZERO;case 3:return e.ZeroSuppressionType.ALL_CELLS_ARE_NULL;default:return e.ZeroSuppressionType.NONE}},lookupSuppressionTypeInA:function(t){let n=0;if(t===e.ZeroSuppressionType.TOTAL_IS_ZERO){n=1}else if(t===e.ZeroSuppressionType.ALL_CELLS_ARE_ZERO){n=2}else if(t===e.ZeroSuppressionType.ALL_CELLS_ARE_NULL){n=3}return n},lookupTextTransformation:function(t){return e.QInAConverter.s_textTransformation.getByKey(t)},lookupTextTransformationInA:function(t){return e.QInAConverter.lookupInAString(e.QInAConverter.s_textTransformationIna,t)},lookupUniqueAxisProperty:function(t){return e.QInAConverter.s_lookupUniqueAxisProperty.getByKey(t)},lookupUniqueAxisPropertyInA:function(t){return e.QInAConverter.lookupInAString(e.QInAConverter.s_lookupUniqueAxisPropertyIna,t)},lookupUnitType:function(t){return e.QInAConverter.s_lookupUnitType.getByKey(t)},lookupUnitTypeInA:function(t){return e.QInAConverter.lookupInAString(e.QInAConverter.s_lookupUnitTypeIna,t)},lookupUtErrorHandlingMode:function(t){return e.QInAConverter.s_lookupUtErrorHandlingMode.getByKey(t)},lookupUtErrorHandlingModeInA:function(t){return e.QInAConverter.lookupInAString(e.QInAConverter.s_lookupUtErrorHandlingModeIna,t)},lookupUtRateLookup:function(t){return e.QInAConverter.s_lookupUtRateLookup.getByKey(t)},lookupUtRateLookupInA:function(t){return e.QInAConverter.lookupInAString(e.QInAConverter.s_lookupUtRateLookupIna,t)},lookupValidOrDefault:function(e,t,n,r){return e<0||e>t?n:r.get(e)},lookupValueType:function(t){return e.QInAConverter.lookupConstantWithDefault(e.QInAConverter.s_lookupValueType,t,e.XValueType.UNSUPPORTED)},lookupValueTypeByInt:function(t){return e.QInAConverter.lookupValidOrDefault(t,14,e.XValueType.DOUBLE,e.QInAConverter.s_lookupCellValueType)},lookupValueTypeInA:function(t){return e.QInAConverter.lookupInAString(e.QInAConverter.s_lookupValueTypeIna,t)},lookupVisibilityType:function(t){return e.QInAConverter.s_lookupVisibilityType.getByKey(t)},lookupVisibilityTypeInA:function(t){return e.QInAConverter.lookupInAString(e.QInAConverter.s_lookupVisibilityTypeIna,t)},lookupWindowFunctionType:function(t){return e.QInAConverter.s_lookupWindowFunctionType.getByKey(t)},lookupWindowFunctionTypeInA:function(t){return e.QInAConverter.lookupInAString(e.QInAConverter.s_lookupWindowFunctionTypeIna,t)},mapAggregationType:function(t,n){e.QInAConverter.mapConstant(e.QInAConverter.s_lookupAggregationType,e.QInAConverter.s_lookupAggregationTypeIna,n,t)},mapCategory:function(t,n){e.QInAConverter.mapConstant(e.QInAConverter.s_lookupCategory,e.QInAConverter.s_lookupCategoryIna,n,t)},mapCellChartOrientation:function(t,n){e.QInAConverter.mapConstant(e.QInAConverter.s_lookupCellChartOrientation,e.QInAConverter.s_lookupCellChartOrientationIna,n,t)},mapCellChartType:function(t,n){e.QInAConverter.mapConstant(e.QInAConverter.s_lookupCellChartType,e.QInAConverter.s_lookupCellChartTypeIna,n,t)},mapComparison:function(t,n){e.QInAConverter.s_lookupComparison.put(t,n);if(!e.QInAConverter.s_lookupComparisonIna.containsKey(n.getName())){e.QInAConverter.s_lookupComparisonIna.put(n.getName(),t)}},mapComponentType:function(t,n){e.QInAConverter.mapConstant(e.QInAConverter.s_lookupComponentType,e.QInAConverter.s_lookupComponentTypeIna,n,t)},mapConstant:function(e,t,n,r){e.put(r,n);t.put(n.getName(),r)},mapCtErrorHandlingMode:function(t,n){e.QInAConverter.mapConstant(e.QInAConverter.s_lookupCtErrorHandlingMode,e.QInAConverter.s_lookupCtErrorHandlingModeIna,n,t)},mapCurrencyPresentation:function(t,n){e.QInAConverter.mapConstant(e.QInAConverter.s_lookupCurrencyPresentation,e.QInAConverter.s_lookupCurrencyPresentationIna,n,t)},mapDateRangeGranularity:function(t,n){e.QInAConverter.mapConstant(e.QInAConverter.s_lookupDateRangeGranularity,e.QInAConverter.s_lookupDateRangeGranularityIna,n,t)},mapDocumentIdsAction:function(t,n){e.QInAConverter.mapConstant(e.QInAConverter.s_lookupDocumentIdsAction,e.QInAConverter.s_lookupDocumentIdsActionIna,n,t)},mapDocumentIdsScope:function(t,n){e.QInAConverter.mapConstant(e.QInAConverter.s_lookupDocumentIdsScope,e.QInAConverter.s_lookupDocumentIdsScopeIna,n,t)},mapDocumentSupportType:function(t,n){e.QInAConverter.mapConstant(e.QInAConverter.s_lookupDocumentSupportType,e.QInAConverter.s_lookupDocumentSupportTypeIna,n,t)},mapFilterDisplayInfo:function(t,n){e.QInAConverter.mapConstant(e.QInAConverter.s_lookupFilterDisplayInfo,e.QInAConverter.s_lookupFilterDisplayInfoIna,n,t)},mapInfoObjectType:function(t,n){e.QInAConverter.mapConstant(e.QInAConverter.s_lookupInfoObjectType,e.QInAConverter.s_lookupInfoObjectTypeIna,n,t)},mapInputEnablementRuleMode:function(t,n){e.QInAConverter.mapConstant(e.QInAConverter.s_lookupInputEnablementRuleMode,e.QInAConverter.s_lookupInputEnablementRuleModeIna,n,t)},mapInputReadinessFilterMode:function(t,n){e.QInAConverter.mapConstant(e.QInAConverter.s_lookupInputReadinessFilterMode,e.QInAConverter.s_lookupInputReadinessFilterModeIna,n,t)},mapPresentationType:function(t,n){e.QInAConverter.mapConstant(e.QInAConverter.s_lookupPresentationType,e.QInAConverter.s_lookupPresentationTypeIna,n,t)},mapProtocolBindingType:function(t,n){e.QInAConverter.mapConstant(e.QInAConverter.s_lookupProtocolBindingType,e.QInAConverter.s_lookupProtocolBindingTypeIna,n,t)},mapProviderType:function(t,n,r){e.QInAConverter.mapConstant(e.QInAConverter.s_lookupProviderType,e.QInAConverter.s_lookupProviderTypeIna,r,t);e.QInAConverter.s_lookupProviderTypeFallbackIna.put(r.getName(),n)},mapRateType:function(t,n){e.QInAConverter.mapConstant(e.QInAConverter.s_lookupRateType,e.QInAConverter.s_lookupRateTypeIna,n,t)},mapReadMode:function(t,n){e.QInAConverter.mapConstant(e.QInAConverter.s_lookupReadMode,e.QInAConverter.s_lookupReadModeIna,n,t)},mapReturnedDataSelection:function(t,n){e.QInAConverter.mapConstant(e.QInAConverter.s_lookupReturnedDataSelection,e.QInAConverter.s_lookupReturnedDataSelectionIna,n,t)},mapRunningAggregationOperator:function(t,n){e.QInAConverter.mapConstant(e.QInAConverter.s_lookupRunningAggregationOperator,e.QInAConverter.s_lookupRunningAggregationOperatorIna,n,t)},mapRunningTotalOperator:function(t,n){e.QInAConverter.mapConstant(e.QInAConverter.s_lookupRunningTotalOperator,e.QInAConverter.s_lookupRunningTotalOperatorIna,n,t)},mapScaleAndUnitPlacement:function(t,n){e.QInAConverter.mapConstant(e.QInAConverter.s_lookupScaleAndUnitPlacement,e.QInAConverter.s_lookupScaleAndUnitPlacementIna,n,t)},mapScaleFormat:function(t,n){e.QInAConverter.mapConstant(e.QInAConverter.s_lookupScaleFormat,e.QInAConverter.s_lookupScaleFormatIna,n,t)},mapSemanticBindingType:function(t,n){e.QInAConverter.mapConstant(e.QInAConverter.s_lookupSemanticBindingType,e.QInAConverter.s_lookupSemanticBindingTypeIna,n,t)},mapSignPresentation:function(t,n){e.QInAConverter.mapConstant(e.QInAConverter.s_lookupSignPresentation,e.QInAConverter.s_lookupSignPresentationIna,n,t)},mapSortType:function(t,n){e.QInAConverter.mapConstant(e.QInAConverter.s_lookupSortType,e.QInAConverter.s_lookupSortTypeIna,n,t)},mapTextTransformation:function(t,n){e.QInAConverter.s_textTransformation.put(t,n);e.QInAConverter.s_textTransformationIna.put(n.getName(),t)},mapUniqueAxisProperty:function(t,n){e.QInAConverter.mapConstant(e.QInAConverter.s_lookupUniqueAxisProperty,e.QInAConverter.s_lookupUniqueAxisPropertyIna,n,t)},mapUtErrorHandlingMode:function(t,n){e.QInAConverter.mapConstant(e.QInAConverter.s_lookupUtErrorHandlingMode,e.QInAConverter.s_lookupUtErrorHandlingModeIna,n,t)},mapUtRateLookup:function(t,n){e.QInAConverter.mapConstant(e.QInAConverter.s_lookupUtRateLookup,e.QInAConverter.s_lookupUtRateLookupIna,n,t)},mapValueDomain:function(t,n){e.QInAConverter.mapConstant(e.QInAConverter.s_lookupProcessingType,e.QInAConverter.s_lookupProcessingTypeIna,n,t)},mapValueType:function(t,n){e.QInAConverter.mapConstant(e.QInAConverter.s_lookupValueType,e.QInAConverter.s_lookupValueTypeIna,n,t);e.QInAConverter.s_lookupValueType.put(e.XString.toUpperCase(t),n)},mapVisibilityType:function(t,n){e.QInAConverter.mapConstant(e.QInAConverter.s_lookupVisibilityType,e.QInAConverter.s_lookupVisibilityTypeIna,n,t)},mapWindowFunctionType:function(t,n){e.QInAConverter.mapConstant(e.QInAConverter.s_lookupWindowFunctionType,e.QInAConverter.s_lookupWindowFunctionTypeIna,n,t)},setupAggregationTypeMapping:function(){e.QInAConverter.s_lookupAggregationType=e.XHashMapByString.create();e.QInAConverter.s_lookupAggregationTypeIna=e.XHashMapByString.create();e.QInAConverter.mapAggregationType("SUM",e.AggregationType.SUM);e.QInAConverter.mapAggregationType("COUNT",e.AggregationType.COUNT);e.QInAConverter.mapAggregationType("MAX",e.AggregationType.MAX);e.QInAConverter.mapAggregationType("MIN",e.AggregationType.MIN);e.QInAConverter.mapAggregationType("AVERAGE",e.AggregationType.AVERAGE);e.QInAConverter.mapAggregationType("COUNT_DISTINCT",e.AggregationType.COUNT_DISTINCT);e.QInAConverter.mapAggregationType("LAST",e.AggregationType.LAST);e.QInAConverter.mapAggregationType("FIRST",e.AggregationType.FIRST);e.QInAConverter.mapAggregationType("VARIANCE",e.AggregationType.VARIANCE);e.QInAConverter.mapAggregationType("STANDARD_DEVIATION",e.AggregationType.STANDARD_DEVIATION);e.QInAConverter.mapAggregationType("NOPNULL",e.AggregationType.NOP_NULL);e.QInAConverter.mapAggregationType("NOPNULLZERO",e.AggregationType.NOP_NULL_ZERO);e.QInAConverter.mapAggregationType("RANK",e.AggregationType.RANK);e.QInAConverter.mapAggregationType("RANK_DENSE",e.AggregationType.RANK_DENSE);e.QInAConverter.mapAggregationType("RANK_OLYMPIC",e.AggregationType.RANK_OLYMPIC);e.QInAConverter.mapAggregationType("RANK_PERCENT",e.AggregationType.RANK_PERCENT);e.QInAConverter.mapAggregationType("RANK_PERCENTILE",e.AggregationType.RANK_PERCENTILE);e.QInAConverter.mapAggregationType("AVERAGENULL",e.AggregationType.AVERAGE_NULL);e.QInAConverter.mapAggregationType("AVERAGENULLZERO",e.AggregationType.AVERAGE_NULL_ZERO);e.QInAConverter.mapAggregationType("COUNTNULL",e.AggregationType.COUNT_NULL);e.QInAConverter.mapAggregationType("COUNTNULLZERO",e.AggregationType.COUNT_NULL_ZERO);e.QInAConverter.mapAggregationType("MEDIAN",e.AggregationType.MEDIAN);e.QInAConverter.mapAggregationType("MEDIANNULL",e.AggregationType.MEDIAN_NULL);e.QInAConverter.mapAggregationType("MEDIANNULLZERO",e.AggregationType.MEDIAN_NULL_ZERO);e.QInAConverter.mapAggregationType("1STQUARTILE",e.AggregationType.FIRST_QUARTILE);e.QInAConverter.mapAggregationType("1STQUARTILENULL",e.AggregationType.FIRST_QUARTILE_NULL);e.QInAConverter.mapAggregationType("1STQUARTILENULLZERO",e.AggregationType.FIRST_QUARTILE_NULL_ZERO);e.QInAConverter.mapAggregationType("3RDQUARTILE",e.AggregationType.THIRD_QUARTILE);e.QInAConverter.mapAggregationType("3RDQUARTILENULL",e.AggregationType.THIRD_QUARTILE_NULL);e.QInAConverter.mapAggregationType("3RDQUARTILENULLZERO",e.AggregationType.THIRD_QUARTILE_NULL_ZERO);e.QInAConverter.mapAggregationType("OUTLIERS",e.AggregationType.OUTLIERS);e.QInAConverter.mapAggregationType("OUTLIERSNULL",e.AggregationType.OUTLIERS_NULL);e.QInAConverter.mapAggregationType("OUTLIERSNULLZERO",e.AggregationType.OUTLIERS_NULL_ZERO);e.QInAConverter.mapAggregationType("AVERAGE_OF_DIMENSION",e.AggregationType.AVERAGE_OF_DIMENSION);e.QInAConverter.mapAggregationType("FIRST_OF_DIMENSION",e.AggregationType.FIRST_OF_DIMENSION);e.QInAConverter.mapAggregationType("LAST_OF_DIMENSION",e.AggregationType.LAST_OF_DIMENSION)},setupAlertLevel:function(){e.QInAConverter.s_lookupAlertLevelInt=e.XArray.create(10);e.QInAConverter.s_lookupAlertLevelInt.set(0,e.AlertLevel.NORMAL);e.QInAConverter.s_lookupAlertLevelInt.set(1,e.AlertLevel.GOOD_1);e.QInAConverter.s_lookupAlertLevelInt.set(2,e.AlertLevel.GOOD_2);e.QInAConverter.s_lookupAlertLevelInt.set(3,e.AlertLevel.GOOD_3);e.QInAConverter.s_lookupAlertLevelInt.set(4,e.AlertLevel.CRITICAL_1);e.QInAConverter.s_lookupAlertLevelInt.set(5,e.AlertLevel.CRITICAL_2);e.QInAConverter.s_lookupAlertLevelInt.set(6,e.AlertLevel.CRITICAL_3);e.QInAConverter.s_lookupAlertLevelInt.set(7,e.AlertLevel.BAD_1);e.QInAConverter.s_lookupAlertLevelInt.set(8,e.AlertLevel.BAD_2);e.QInAConverter.s_lookupAlertLevelInt.set(9,e.AlertLevel.BAD_3)},setupAxisType:function(){e.QInAConverter.s_lookupAxisType=e.XHashMapByString.create();e.QInAConverter.s_lookupAxisTypeIna=e.XHashMapByString.create();e.QInAConverter.mapConstant(e.QInAConverter.s_lookupAxisType,e.QInAConverter.s_lookupAxisTypeIna,e.AxisType.COLUMNS,"Columns");e.QInAConverter.mapConstant(e.QInAConverter.s_lookupAxisType,e.QInAConverter.s_lookupAxisTypeIna,e.AxisType.ROWS,"Rows");e.QInAConverter.mapConstant(e.QInAConverter.s_lookupAxisType,e.QInAConverter.s_lookupAxisTypeIna,e.AxisType.FREE,"Free");e.QInAConverter.mapConstant(e.QInAConverter.s_lookupAxisType,e.QInAConverter.s_lookupAxisTypeIna,e.AxisType.FREE,"None");e.QInAConverter.mapConstant(e.QInAConverter.s_lookupAxisType,e.QInAConverter.s_lookupAxisTypeIna,e.AxisType.DYNAMIC,"Dynamic");e.QInAConverter.mapConstant(e.QInAConverter.s_lookupAxisType,e.QInAConverter.s_lookupAxisTypeIna,e.AxisType.FILTER,"Filter");e.QInAConverter.mapConstant(e.QInAConverter.s_lookupAxisType,e.QInAConverter.s_lookupAxisTypeIna,e.AxisType.TECHNICAL,"Technical");e.QInAConverter.mapConstant(e.QInAConverter.s_lookupAxisType,e.QInAConverter.s_lookupAxisTypeIna,e.AxisType.REPOSITORY,"Repository");e.QInAConverter.mapConstant(e.QInAConverter.s_lookupAxisType,e.QInAConverter.s_lookupAxisTypeIna,e.AxisType.VIRTUAL,"Virtual")},setupCategory:function(){e.QInAConverter.s_lookupCategory=e.XHashMapByString.create();e.QInAConverter.s_lookupCategoryIna=e.XHashMapByString.create();e.QInAConverter.mapCategory("Actuals",e.CtCategory.ACTUALS);e.QInAConverter.mapCategory("Budget",e.CtCategory.BUDGET);e.QInAConverter.mapCategory("Planning",e.CtCategory.PLANNING);e.QInAConverter.mapCategory("Forecast",e.CtCategory.FORECAST);e.QInAConverter.mapCategory("Rolling Forecast",e.CtCategory.ROLLING_FORECAST)},setupCellChartOrientationMapping:function(){e.QInAConverter.s_lookupCellChartOrientation=e.XHashMapByString.create();e.QInAConverter.s_lookupCellChartOrientationIna=e.XHashMapByString.create();e.QInAConverter.mapCellChartOrientation("Horizontal",e.CellChartOrientation.HORIZONTAL);e.QInAConverter.mapCellChartOrientation("Vertical",e.CellChartOrientation.VERTICAL)},setupCellChartTypeMapping:function(){e.QInAConverter.s_lookupCellChartType=e.XHashMapByString.create();e.QInAConverter.s_lookupCellChartTypeIna=e.XHashMapByString.create();e.QInAConverter.mapCellChartType("Bar",e.CellChartType.BAR);e.QInAConverter.mapCellChartType("VarianceBar",e.CellChartType.VARIANCE_BAR);e.QInAConverter.mapCellChartType("Pin",e.CellChartType.PIN)},setupComparisonMapping:function(){e.QInAConverter.s_lookupComparison=e.XHashMapByString.create();e.QInAConverter.s_lookupComparisonIna=e.XHashMapByString.create();e.QInAConverter.mapComparison("=",e.ComparisonOperator.EQUAL);e.QInAConverter.mapComparison("EQ",e.ComparisonOperator.EQUAL);e.QInAConverter.mapComparison("EQUAL",e.ComparisonOperator.EQUAL);e.QInAConverter.mapComparison("EQUALS",e.ComparisonOperator.EQUAL);e.QInAConverter.mapComparison("<>",e.ComparisonOperator.NOT_EQUAL);e.QInAConverter.mapComparison(">",e.ComparisonOperator.GREATER_THAN);e.QInAConverter.mapComparison("GT",e.ComparisonOperator.GREATER_THAN);e.QInAConverter.mapComparison("<",e.ComparisonOperator.LESS_THAN);e.QInAConverter.mapComparison("LT",e.ComparisonOperator.LESS_THAN);e.QInAConverter.mapComparison(">=",e.ComparisonOperator.GREATER_EQUAL);e.QInAConverter.mapComparison("GE",e.ComparisonOperator.GREATER_EQUAL);e.QInAConverter.mapComparison("<=",e.ComparisonOperator.LESS_EQUAL);e.QInAConverter.mapComparison("LE",e.ComparisonOperator.LESS_EQUAL);e.QInAConverter.mapComparison("LIKE",e.ComparisonOperator.LIKE);e.QInAConverter.mapComparison("MATCH",e.ComparisonOperator.MATCH);e.QInAConverter.mapComparison("NOT_MATCH",e.ComparisonOperator.NOT_MATCH);e.QInAConverter.mapComparison("IS_NULL",e.ComparisonOperator.IS_NULL);e.QInAConverter.mapComparison("IS NULL",e.ComparisonOperator.IS_NULL);e.QInAConverter.mapComparison("NL",e.ComparisonOperator.IS_NULL);e.QInAConverter.mapComparison("BETWEEN",e.ComparisonOperator.BETWEEN);e.QInAConverter.mapComparison("BT",e.ComparisonOperator.BETWEEN);e.QInAConverter.mapComparison("NOT_BETWEEN",e.ComparisonOperator.NOT_BETWEEN);e.QInAConverter.mapComparison("NOTBETWEEN",e.ComparisonOperator.NOT_BETWEEN);e.QInAConverter.mapComparison("BETWEEN_EXCLUDING",e.ComparisonOperator.BETWEEN_EXCLUDING);e.QInAConverter.mapComparison("NOT_BETWEEN_EXCLUDING",e.ComparisonOperator.NOT_BETWEEN_EXCLUDING);e.QInAConverter.mapComparison("FUZZY",e.ComparisonOperator.FUZZY);e.QInAConverter.mapComparison("SEARCH",e.ComparisonOperator.SEARCH);e.QInAConverter.mapComparison("ALL",e.ComparisonOperator.ALL);e.QInAConverter.mapComparison("AGGREGATED",e.ComparisonOperator.AGGREGATED);e.QInAConverter.mapComparison("NON-AGGREGATED",e.ComparisonOperator.NON_AGGREGATED);e.QInAConverter.mapComparison("LEVEL",e.ComparisonOperator.LEVEL);e.QInAConverter.mapComparison("CONTAINS",e.SpatialComparisonOperator.CONTAINS);e.QInAConverter.mapComparison("COVERS",e.SpatialComparisonOperator.COVERS);e.QInAConverter.mapComparison("CROSSES",e.SpatialComparisonOperator.CROSSES);e.QInAConverter.mapComparison("DISJOINT",e.SpatialComparisonOperator.DISJOINT);e.QInAConverter.mapComparison("OVERLAPS",e.SpatialComparisonOperator.OVERLAPS);e.QInAConverter.mapComparison("TOUCHES",e.SpatialComparisonOperator.TOUCHES);e.QInAConverter.mapComparison("INTERSECTS_RECT",e.SpatialComparisonOperator.INTERSECTS_RECT);e.QInAConverter.mapComparison("INTERSECT_RECT",e.SpatialComparisonOperator.INTERSECTS_RECT);e.QInAConverter.mapComparison("INTERSECTS",e.SpatialComparisonOperator.INTERSECTS);e.QInAConverter.mapComparison("WITHIN",e.SpatialComparisonOperator.WITHIN);e.QInAConverter.mapComparison("WITHIN_DISTANCE",e.SpatialComparisonOperator.WITHIN_DISTANCE)},setupComponentTypeMapping:function(){e.QInAConverter.s_lookupComponentType=e.XHashMapByString.create();e.QInAConverter.s_lookupComponentTypeIna=e.XHashMapByString.create();e.QInAConverter.mapComponentType("Axis",e.OlapComponentType.AXIS);e.QInAConverter.mapComponentType("AbstractMember",e.MemberType.ABSTRACT_MEMBER);e.QInAConverter.mapComponentType("Attribute",e.OlapComponentType.ATTRIBUTE);e.QInAConverter.mapComponentType("QuerySettings",e.OlapComponentType.QUERY_SETTINGS);e.QInAConverter.mapComponentType("Condition",e.OlapComponentType.CONDITION);e.QInAConverter.mapComponentType("QueryModel",e.OlapComponentType.QUERY_MODEL);e.QInAConverter.mapComponentType("DataCell",e.OlapComponentType.DATA_CELL);e.QInAConverter.mapComponentType("CalculatedDimension",e.DimensionType.CALCULATED_DIMENSION);e.QInAConverter.mapComponentType("FilterManager",e.OlapComponentType.OLAP_FILTER_MANAGER);e.QInAConverter.mapComponentType("Filter",e.OlapComponentType.SELECTOR);e.QInAConverter.mapComponentType("FilterExpression",e.OlapComponentType.FILTER_EXPRESSION);e.QInAConverter.mapComponentType("FilterCartesianProduct",e.FilterComponentType.CARTESIAN_PRODUCT);e.QInAConverter.mapComponentType("FilterCartesianList",e.FilterComponentType.CARTESIAN_LIST);e.QInAConverter.mapComponentType("FilterConvertedTimeCartesianList",e.FilterComponentType.CONVERTED_TIME_CARTESIAN_LIST);e.QInAConverter.mapComponentType("FilterOperation",e.FilterComponentType.OPERATION);e.QInAConverter.mapComponentType("FilterDateRangeOperation",e.FilterComponentType.DATE_RANGE_OPERATION);e.QInAConverter.mapComponentType("FilterAlgebra",e.FilterComponentType.BOOLEAN_ALGEBRA);e.QInAConverter.mapComponentType("CustomHierarchyDefinition",e.OlapComponentType.CUSTOM_HIERARCHY_DEFINITION);e.QInAConverter.mapComponentType("MemberRestricted",e.MemberType.RESTRICTED_MEASURE);e.QInAConverter.mapComponentType("DimensionMemberVariable",e.VariableType.DIMENSION_MEMBER_VARIABLE);e.QInAConverter.mapComponentType("FunctionalVariable",e.VariableType.FUNCTIONAL_VARIABLE);e.QInAConverter.mapComponentType("HierarchyNodeVariable",e.VariableType.HIERARCHY_NODE_VARIABLE);e.QInAConverter.mapComponentType("Hierarchy",e.OlapComponentType.HIERARCHY_MANAGER);e.QInAConverter.mapComponentType("Hierarchy",e.OlapComponentType.HIERARCHY);e.QInAConverter.mapComponentType("CellValueOperand",e.OlapComponentType.FILTER_CELL_VALUE_OPERAND);e.QInAConverter.mapComponentType("DataCells",e.OlapComponentType.DATA_CELLS);e.QInAConverter.mapComponentType("Sorting",e.OlapComponentType.SORT_MANAGER);e.QInAConverter.mapComponentType("CurrencyTranslationManager",e.OlapComponentType.CURRENCY_TRANSLATION_MANAGER);e.QInAConverter.mapComponentType("CurrencyTranslations",e.OlapComponentType.CURRENCY_TRANSLATION_LIST);e.QInAConverter.mapComponentType("CurrencyTranslationItem",e.OlapComponentType.CURRENCY_TRANSLATION_ITEM);e.QInAConverter.mapComponentType("UnitTranslationManager",e.OlapComponentType.UNIT_TRANSLATION_MANAGER);e.QInAConverter.mapComponentType("UnitTranslations",e.OlapComponentType.UNIT_TRANSLATION_MANAGER);e.QInAConverter.mapComponentType("UnitTranslationItem",e.OlapComponentType.UNIT_TRANSLATION_ITEM);e.QInAConverter.mapComponentType("Translations",e.OlapComponentType.MEASURE_TRANSLATIONS);e.QInAConverter.mapComponentType("SortOperation",e.OlapComponentType.GENERIC_SORTING);e.QInAConverter.mapComponentType("Totals",e.OlapComponentType.TOTALS);e.QInAConverter.mapComponentType("Dimensions",e.OlapComponentType.DIMENSIONS);e.QInAConverter.mapComponentType("ConditionsManager",e.OlapComponentType.CONDITIONS_MANAGER);e.QInAConverter.mapComponentType("Field",e.OlapComponentType.FIELD);e.QInAConverter.mapComponentType("DimensionManager",e.OlapComponentType.DIMENSION_MANAGER);e.QInAConverter.mapComponentType("Dimension",e.OlapComponentType.ABSTRACT_DIMENSION);e.QInAConverter.mapComponentType("UniversalDisplayHierarchies",e.OlapComponentType.UNIVERSAL_DISPLAY_HIERARCHIES);e.QInAConverter.mapComponentType("BasicMeasure",e.MemberType.BASIC_MEASURE);e.QInAConverter.mapComponentType("Formula",e.MemberType.FORMULA);e.QInAConverter.mapComponentType("Variance",e.MemberType.VARIANCE);e.QInAConverter.mapComponentType("ExceptionAggregation",e.MemberType.EXCEPTION_AGGREGATION);e.QInAConverter.mapComponentType("CurrencyMeasure",e.MemberType.CURRENCY_MEASURE);e.QInAConverter.mapComponentType("UnitMeasure",e.MemberType.UNIT_MEASURE);e.QInAConverter.mapComponentType("RunningTotal",e.MemberType.RUNNING_TOTAL);e.QInAConverter.mapComponentType("Pareto",e.MemberType.PARETO);e.QInAConverter.mapComponentType("Members",e.OlapComponentType.MEMBERS);e.QInAConverter.mapComponentType("DrillOperation",e.OlapComponentType.DRILL_OPERATION);e.QInAConverter.mapComponentType("DrillManager",e.OlapComponentType.DRILL_MANAGER);e.QInAConverter.mapComponentType("DrillPathElement",e.MemberType.DRILL_PATH_ELEMENT);e.QInAConverter.mapComponentType("CellContextManager",e.OlapComponentType.CELL_CONTEXT_MANAGER);e.QInAConverter.mapComponentType("CellContext",e.OlapComponentType.CELL_CONTEXT);e.QInAConverter.mapComponentType("AxesSettings",e.OlapComponentType.AXES_SETTINGS);e.QInAConverter.mapComponentType("Tuple",e.FilterComponentType.TUPLE);e.QInAConverter.mapComponentType("MeasureBasedFilter",e.FilterComponentType.FILTER_MEASURE_BASED);e.QInAConverter.mapComponentType("FilterAsymmetricVisibility",e.FilterComponentType.FILTER_ASYMMETRIC_VISIBILITY);e.QInAConverter.mapComponentType("FilterAcrossModels",e.FilterComponentType.FILTER_ACROSS_MODELS);e.QInAConverter.mapComponentType("FilterDynamicTimeRegularRange",e.FilterComponentType.FILTER_DYNAMIC_TIME_REGULAR_RANGE);e.QInAConverter.mapComponentType("FilterDynamicTimeToDateRange",e.FilterComponentType.FILTER_DYNAMIC_TIME_TO_DATE_RANGE);e.QInAConverter.mapComponentType("FilterFixedTimeRange",e.FilterComponentType.FILTER_FIXED_TIME_RANGE);e.QInAConverter.mapComponentType("FormulaCalculatedDimension",e.DimensionType.FORMULA_CALCULATED_DIMENSION);e.QInAConverter.mapComponentType("FormulaException",e.OlapComponentType.FORMULA_EXCEPTION);e.QInAConverter.mapComponentType("FormulaExceptions",e.OlapComponentType.FORMULA_EXCEPTION_MANAGER);e.QInAConverter.mapComponentType("OptionListVariable",e.VariableType.OPTION_LIST_VARIABLE);e.QInAConverter.mapComponentType("Cells",e.OlapComponentType.QUERY_CELLS);e.QInAConverter.mapComponentType("ModellerCurrencyTranslation",e.OlapComponentType.MODELLER_CURRENCY_TRANSLATION);e.QInAConverter.mapComponentType("ModellerDimensions",e.OlapComponentType.MODELLER_DIMENSIONS);e.QInAConverter.mapComponentType("ModellerMetadataProperties",e.OlapComponentType.MODELLER_METADATA_PROPERTIES);e.QInAConverter.mapComponentType("ModellerVariables",e.OlapComponentType.MODELLER_VARIABLES);e.QInAConverter.mapComponentType("ConditionThreshold",e.OlapComponentType.CONDITIONS_THRESHOLD);e.QInAConverter.mapComponentType("Exceptions",e.OlapComponentType.EXCEPTION_MANAGER);e.QInAConverter.mapComponentType("SimpleTypeVariable",e.VariableType.SIMPLE_TYPE_VARIABLE);e.QInAConverter.mapComponentType("QueryManager",e.OlapComponentType.QUERY_MANAGER);e.QInAConverter.mapComponentType("QueryServiceConfig",e.OlapComponentType.QUERY_SERVICE_CONFIG);e.QInAConverter.mapComponentType("DataSource",e.OlapComponentType.DATA_SOURCE);e.QInAConverter.mapComponentType("DocumentsInfo",e.OlapComponentType.DOCUMENTS_INFO);e.QInAConverter.mapComponentType("BlendableQueryManager",e.OlapComponentType.BLENDABLE_QUERY_MANAGER);e.QInAConverter.mapComponentType("QuickActionManager",e.OlapComponentType.QUICK_ACTION_MANAGER);e.QInAConverter.mapComponentType("VisualizationManager",e.OlapComponentType.VISUALIZATION_MANAGER);e.QInAConverter.mapComponentType("VisualizationCellReferenceScope",e.OlapComponentType.VISUALIZATION_CELL_REFERENCE_SCOPE);e.QInAConverter.mapComponentType("ChartStyle",e.OlapComponentType.VISUALIZATION_CHART_STYLE);e.QInAConverter.mapComponentType("VisualizationDefinition",e.OlapComponentType.VISUALIZATION_DEFINITION);e.QInAConverter.mapComponentType("VisualizationTableDefinition",e.OlapComponentType.VISUALIZATION_TABLE_DEFINITION);e.QInAConverter.mapComponentType("VisualizationKpiDefinition",e.OlapComponentType.VISUALIZATION_KPI_DEFINITION);e.QInAConverter.mapComponentType("VisualizationChartDefinition",e.OlapComponentType.VISUALIZATION_CHART_DEFINITION);e.QInAConverter.mapComponentType("VisualizationCustomDefinition",e.OlapComponentType.VISUALIZATION_CUSTOM_DEFINITION);e.QInAConverter.mapComponentType("VisualizationTemplateManager",e.OlapComponentType.OLAP_VISUALIZATION_TEMPLATE_MANAGER)},setupCtErrorHandlingMode:function(){e.QInAConverter.s_lookupCtErrorHandlingMode=e.XHashMapByString.create();e.QInAConverter.s_lookupCtErrorHandlingModeIna=e.XHashMapByString.create();e.QInAConverter.mapCtErrorHandlingMode("set to null",e.CtErrorHandlingMode.SET_TO_NULL);e.QInAConverter.mapCtErrorHandlingMode("keep unconverted",e.CtErrorHandlingMode.KEEP_UNCONVERTED);e.QInAConverter.mapCtErrorHandlingMode("fail on error",e.CtErrorHandlingMode.FAIL_ON_ERROR)},setupCurrencyPresentation:function(){e.QInAConverter.s_lookupCurrencyPresentationIna=e.XHashMapByString.create();e.QInAConverter.s_lookupCurrencyPresentation=e.XHashMapByString.create();e.QInAConverter.mapCurrencyPresentation("Iso",e.CurrencyPresentation.ISO);e.QInAConverter.mapCurrencyPresentation("Symbol",e.CurrencyPresentation.SYMBOL)},setupDateRangeGranularity:function(){e.QInAConverter.s_lookupDateRangeGranularityIna=e.XHashMapByString.create();e.QInAConverter.s_lookupDateRangeGranularity=e.XHashMapByString.create();e.QInAConverter.mapDateRangeGranularity("Year",e.DateRangeGranularity.YEAR);e.QInAConverter.mapDateRangeGranularity("HalfYear",e.DateRangeGranularity.HALF_YEAR);e.QInAConverter.mapDateRangeGranularity("Quarter",e.DateRangeGranularity.QUARTER);e.QInAConverter.mapDateRangeGranularity("Month",e.DateRangeGranularity.MONTH);e.QInAConverter.mapDateRangeGranularity("Day",e.DateRangeGranularity.DAY);e.QInAConverter.mapDateRangeGranularity("CurrentYear",e.DateRangeGranularity.CURRENT_YEAR);e.QInAConverter.mapDateRangeGranularity("CurrentQuarter",e.DateRangeGranularity.CURRENT_QUARTER);e.QInAConverter.mapDateRangeGranularity("CurrentMonth",e.DateRangeGranularity.CURRENT_MONTH)},setupDimensionType:function(){e.QInAConverter.s_lookupDimensionTypeInt=e.XArray.create(14);e.QInAConverter.s_lookupDimensionTypeInt.set(1,e.DimensionType.TIME);e.QInAConverter.s_lookupDimensionTypeInt.set(2,e.DimensionType.MEASURE_STRUCTURE);e.QInAConverter.s_lookupDimensionTypeInt.set(3,e.DimensionType.DIMENSION);e.QInAConverter.s_lookupDimensionTypeInt.set(4,e.DimensionType.CURRENCY);e.QInAConverter.s_lookupDimensionTypeInt.set(5,e.DimensionType.UNIT);e.QInAConverter.s_lookupDimensionTypeInt.set(6,e.DimensionType.SECONDARY_STRUCTURE);e.QInAConverter.s_lookupDimensionTypeInt.set(7,e.DimensionType.DATE);e.QInAConverter.s_lookupDimensionTypeInt.set(8,e.DimensionType.HIERARCHY_VERSION);e.QInAConverter.s_lookupDimensionTypeInt.set(9,e.DimensionType.HIERARCHY_NAME);e.QInAConverter.s_lookupDimensionTypeInt.set(10,e.DimensionType.GIS_DIMENSION);e.QInAConverter.s_lookupDimensionTypeInt.set(11,e.DimensionType.VERSION_EPM);e.QInAConverter.s_lookupDimensionTypeInt.set(12,e.DimensionType.ACCOUNT);e.QInAConverter.s_lookupDimensionTypeInt.set(13,e.DimensionType.VERSION_IBP)},setupDimensionVisibility:function(){e.QInAConverter.s_lookupDimensionVisibilityInt=e.XArray.create(3);e.QInAConverter.s_lookupDimensionVisibilityInt.set(0,e.DimensionVisibility.VISIBLE);e.QInAConverter.s_lookupDimensionVisibilityInt.set(1,e.DimensionVisibility.METADATA);e.QInAConverter.s_lookupDimensionVisibilityInt.set(2,e.DimensionVisibility.HIDDEN)},setupDocumentIdsAction:function(){e.QInAConverter.s_lookupDocumentIdsAction=e.XHashMapByString.create();e.QInAConverter.s_lookupDocumentIdsActionIna=e.XHashMapByString.create();e.QInAConverter.mapDocumentIdsAction("Create",e.DocumentsIdsAction.CREATE);e.QInAConverter.mapDocumentIdsAction("Delete",e.DocumentsIdsAction.DELETE)},setupDocumentIdsScope:function(){e.QInAConverter.s_lookupDocumentIdsScope=e.XHashMapByString.create();e.QInAConverter.s_lookupDocumentIdsScopeIna=e.XHashMapByString.create();e.QInAConverter.mapDocumentIdsScope("None",e.DocumentsIdsScope.NONE);e.QInAConverter.mapDocumentIdsScope("ResultSetBound",e.DocumentsIdsScope.RESULT_SET_BOUND);e.QInAConverter.mapDocumentIdsScope("SystemUnique",e.DocumentsIdsScope.SYSTEM_UNIQUE)},setupDocumentSupportType:function(){e.QInAConverter.s_lookupDocumentSupportType=e.XHashMapByString.create();e.QInAConverter.s_lookupDocumentSupportTypeIna=e.XHashMapByString.create();e.QInAConverter.mapDocumentSupportType("None",e.DocumentsSupportType.NONE);e.QInAConverter.mapDocumentSupportType("Read",e.DocumentsSupportType.READ);e.QInAConverter.mapDocumentSupportType("ReadWrite",e.DocumentsSupportType.READ_WRITE);e.QInAConverter.mapDocumentSupportType("ReadCreateChange",e.DocumentsSupportType.READ_CREATE_CHANGE)},setupEncoding:function(){e.QInAConverter.s_lookupEncoding=e.XHashMapByString.create();e.QInAConverter.s_lookupEncoding.put("None",e.ResultSetEncoding.NONE);e.QInAConverter.s_lookupEncoding.put("Auto",e.ResultSetEncoding.AUTO);e.QInAConverter.s_lookupEncoding.put("DeltaRunLength",e.ResultSetEncoding.DELTA_RUN_LENGTH)},setupFilterDisplayInfo:function(){e.QInAConverter.s_lookupFilterDisplayInfoIna=e.XHashMapByString.create();e.QInAConverter.s_lookupFilterDisplayInfo=e.XHashMapByString.create();e.QInAConverter.mapFilterDisplayInfo("id",e.FilterDisplayInfo.ID);e.QInAConverter.mapFilterDisplayInfo("description",e.FilterDisplayInfo.DESCRIPTION);e.QInAConverter.mapFilterDisplayInfo("idAndDescription",e.FilterDisplayInfo.ID_AND_DESCRIPTION)},setupInfoObjectType:function(){e.QInAConverter.s_lookupInfoObjectType=e.XHashMapByString.create();e.QInAConverter.s_lookupInfoObjectTypeIna=e.XHashMapByString.create();e.QInAConverter.mapInfoObjectType("CHA",e.InfoObjectType.CHA);e.QInAConverter.mapInfoObjectType("KYF",e.InfoObjectType.KYF);e.QInAConverter.mapInfoObjectType("TIM",e.InfoObjectType.TIM);e.QInAConverter.mapInfoObjectType("UNI",e.InfoObjectType.UNI);e.QInAConverter.mapInfoObjectType("DPA",e.InfoObjectType.DPA);e.QInAConverter.mapInfoObjectType("ATR",e.InfoObjectType.ATR);e.QInAConverter.mapInfoObjectType("MTA",e.InfoObjectType.MTA);e.QInAConverter.mapInfoObjectType("XXL",e.InfoObjectType.XXL);e.QInAConverter.mapInfoObjectType("ALL",e.InfoObjectType.ALL)},setupInputEnablementCacheMode:function(){e.QInAConverter.s_lookupInputEnablementCacheMode=e.XHashMapByString.create();e.QInAConverter.s_lookupInputEnablementCacheModeIna=e.XHashMapByString.create();e.QInAConverter.mapConstant(e.QInAConverter.s_lookupInputEnablementCacheMode,e.QInAConverter.s_lookupInputEnablementCacheModeIna,e.InputEnablementCacheMode.LOAD,"Load");e.QInAConverter.mapConstant(e.QInAConverter.s_lookupInputEnablementCacheMode,e.QInAConverter.s_lookupInputEnablementCacheModeIna,e.InputEnablementCacheMode.STORE,"Store")},setupInputEnablementRuleMode:function(){e.QInAConverter.s_lookupInputEnablementRuleMode=e.XHashMapByString.create();e.QInAConverter.s_lookupInputEnablementRuleModeIna=e.XHashMapByString.create();e.QInAConverter.mapInputEnablementRuleMode("Disabled",e.InputEnablementRuleMode.DISABLED);e.QInAConverter.mapInputEnablementRuleMode("Optimistic",e.InputEnablementRuleMode.OPTIMISTIC);e.QInAConverter.mapInputEnablementRuleMode("Pessimistic",e.InputEnablementRuleMode.PESSIMISTIC)},setupInputReadinessFilterMode:function(){e.QInAConverter.s_lookupInputReadinessFilterMode=e.XHashMapByString.create();e.QInAConverter.s_lookupInputReadinessFilterModeIna=e.XHashMapByString.create();e.QInAConverter.mapInputReadinessFilterMode("HasDataOrIsNotInListOfFlags",e.InputReadinessFilterMode.HAS_DATA_OR_IS_NOT_IN_LIST_OF_FLAGS);e.QInAConverter.mapInputReadinessFilterMode("HasDataAndIsInListOfFlags",e.InputReadinessFilterMode.HAS_DATA_AND_IS_IN_LIST_OF_FLAGS)},setupMemberNavigationType:function(){e.QInAConverter.s_lookupMemberNavigationTypeIna=e.XHashMapByString.create();e.QInAConverter.s_lookupMemberNavigationTypeIna.put(e.MemberNavigationType.FUNCTION_PARAM_CONSTANT.getName(),"Constant");e.QInAConverter.s_lookupMemberNavigationTypeIna.put(e.MemberNavigationType.FUNCTION_PARAM_LEVEL.getName(),"Level");e.QInAConverter.s_lookupMemberNavigationTypeIna.put(e.MemberNavigationType.FUNCTION_PARAM_MEMBER.getName(),"Member");e.QInAConverter.s_lookupMemberNavigationTypeIna.put(e.MemberNavigationType.FUNCTION_PARAM_NO_VALUES_ABOVE_LEVEL.getName(),"NoValuesAboveLevel");e.QInAConverter.s_lookupMemberNavigationTypeIna.put(e.MemberNavigationType.FUNCTION_PARAM_ERROR_ABOVE_LEVEL.getName(),"ErrorAboveLevel");e.QInAConverter.s_lookupMemberNavigationTypeIna.put(e.MemberNavigationType.FUNCTION_PARAM_RANGE.getName(),"Range");e.QInAConverter.s_lookupMemberNavigationTypeIna.put(e.MemberNavigationType.FUNCTION_PARAM_SHIFT.getName(),"Shift")},setupPresentationMapping:function(){e.QInAConverter.s_lookupPresentationType=e.XHashMapByString.create();e.QInAConverter.s_lookupPresentationTypeIna=e.XHashMapByString.create();e.QInAConverter.mapPresentationType("Undefined",e.PresentationType.UNDEFINED);e.QInAConverter.mapPresentationType("Key",e.PresentationType.KEY);e.QInAConverter.mapPresentationType("KeyNotCompound",e.PresentationType.KEY_NOT_COMPOUND);e.QInAConverter.mapPresentationType("DisplayKey",e.PresentationType.DISPLAY_KEY);e.QInAConverter.mapPresentationType("DisplayKeyMixedCompoundment",e.PresentationType.DISPLAY_KEY_MIXED_COMPOUNDMENT);e.QInAConverter.mapPresentationType("DisplayKeyNotCompound",e.PresentationType.DISPLAY_KEY_NOT_COMPOUND);e.QInAConverter.mapPresentationType("Id",e.PresentationType.ID);e.QInAConverter.mapPresentationType("Text",e.PresentationType.TEXT);e.QInAConverter.mapPresentationType("ShortText",e.PresentationType.SHORT_TEXT);e.QInAConverter.mapPresentationType("MediumText",e.PresentationType.MEDIUM_TEXT);e.QInAConverter.mapPresentationType("LongText",e.PresentationType.LONG_TEXT);e.QInAConverter.mapPresentationType("XLLongText",e.PresentationType.XL_LONG_TEXT);e.QInAConverter.mapPresentationType("HierarchyKey",e.PresentationType.HIERARCHY_KEY);e.QInAConverter.mapPresentationType("HierarchyText",e.PresentationType.HIERARCHY_TEXT);e.QInAConverter.mapPresentationType("HierarchyDisplayKey",e.PresentationType.HIERARCHY_DISPLAY_KEY);e.QInAConverter.mapPresentationType("HierarchyPath",e.PresentationType.HIERARCHY_PATH);e.QInAConverter.mapPresentationType("WhyFound",e.PresentationType.WHY_FOUND);e.QInAConverter.mapPresentationType("RelatedActions",e.PresentationType.RELATED_ACTIONS);e.QInAConverter.mapPresentationType("NamePath",e.PresentationType.NAME_PATH);e.QInAConverter.mapPresentationType("URL",e.PresentationType.URL);e.QInAConverter.mapPresentationType("XXL",e.PresentationType.BLOB);e.QInAConverter.mapPresentationType("QueryText",e.PresentationType.QUERY_TEXT);e.QInAConverter.mapPresentationType("UDHKey",e.PresentationType.UDH_KEY)},setupProtocolBindingType:function(){e.QInAConverter.s_lookupProtocolBindingType=e.XHashMapByString.create();e.QInAConverter.s_lookupProtocolBindingTypeIna=e.XHashMapByString.create();e.QInAConverter.mapProtocolBindingType("HighChart",e.ProtocolBindingType.HIGH_CHART_PROTOCOL);e.QInAConverter.mapProtocolBindingType("GoogleChart",e.ProtocolBindingType.GOOGLE_CHART_PROTOCOL);e.QInAConverter.mapProtocolBindingType("MicroChart",e.ProtocolBindingType.MICRO_CHART_PROTOCOL);e.QInAConverter.mapProtocolBindingType("SacTableGrid",e.ProtocolBindingType.SAC_TABLE_GRID);e.QInAConverter.mapProtocolBindingType("PlainGrid",e.ProtocolBindingType.PLAIN_GRID);e.QInAConverter.mapProtocolBindingType("VizFrame",e.ProtocolBindingType.VIZ_FRAME_PROTOCOL);e.QInAConverter.mapProtocolBindingType("SapKpi",e.ProtocolBindingType.SAP_KPI_PROTOCOL)},setupProviderType:function(){e.QInAConverter.s_lookupProviderType=e.XHashMapByString.create();e.QInAConverter.s_lookupProviderTypeIna=e.XHashMapByString.create();e.QInAConverter.s_lookupProviderTypeFallbackIna=e.XHashMapByString.create();e.QInAConverter.mapProviderType(e.ServerService.CATALOG,e.ServerService.ANALYTIC,e.ProviderType.CATALOG);e.QInAConverter.mapProviderType(e.ServerService.VALUE_HELP,e.ServerService.ANALYTIC,e.ProviderType.ANALYTICS_VALUE_HELP);e.QInAConverter.mapProviderType(e.ServerService.LIST_REPORTING,null,e.ProviderType.LIST_REPORTING);e.QInAConverter.mapProviderType(e.ServerService.ANALYTIC,e.ServerService.ANALYTIC,e.ProviderType.ANALYTICS);e.QInAConverter.mapProviderType(e.ServerService.DIMENSION_EXTENSION,null,e.ProviderType.DIMENSION_EXTENSION);e.QInAConverter.mapProviderType(e.ServerService.DOCUMENTS,null,e.ProviderType.DOCUMENTS);e.QInAConverter.mapProviderType(e.ServerService.PLANNING,e.ServerService.ANALYTIC,e.ProviderType.PLANNING_COMMAND);e.QInAConverter.mapProviderType(e.ServerService.PLANNING,e.ServerService.ANALYTIC,e.ProviderType.PLANNING_VALUE_HELP)},setupRateType:function(){e.QInAConverter.s_lookupRateType=e.XHashMapByString.create();e.QInAConverter.s_lookupRateTypeIna=e.XHashMapByString.create();e.QInAConverter.mapRateType("",e.CtRateType.DEFAULT);e.QInAConverter.mapRateType("Average",e.CtRateType.AVERAGE);e.QInAConverter.mapRateType("Closing",e.CtRateType.CLOSING)},setupReadmodeMapping:function(){e.QInAConverter.s_lookupReadMode=e.XHashMapByString.create();e.QInAConverter.s_lookupReadModeIna=e.XHashMapByString.create();e.QInAConverter.mapReadMode("Default",e.QMemberReadMode.DEFAULT_VALUE);e.QInAConverter.mapReadMode("Undefined",e.QMemberReadMode.UNDEFINED);e.QInAConverter.mapReadMode("None",e.QMemberReadMode.UNDEFINED);e.QInAConverter.mapReadMode("Master",e.QMemberReadMode.MASTER);e.QInAConverter.mapReadMode("MasterAndSpace",e.QMemberReadMode.MASTER_AND_SPACE);e.QInAConverter.mapReadMode("MasterAndSpaceAndState",e.QMemberReadMode.MASTER_AND_SPACE_AND_STATE);e.QInAConverter.mapReadMode("RelatedMaster",e.QMemberReadMode.REL_MASTER);e.QInAConverter.mapReadMode("RelatedMasterAndSpace",e.QMemberReadMode.REL_MASTER_AND_SPACE);e.QInAConverter.mapReadMode("RelatedMasterAndSpaceAndState",e.QMemberReadMode.REL_MASTER_AND_SPACE_AND_STATE);e.QInAConverter.mapReadMode("Booked",e.QMemberReadMode.BOOKED);e.QInAConverter.mapReadMode("BookedAndSpace",e.QMemberReadMode.BOOKED_AND_SPACE);e.QInAConverter.mapReadMode("BookedAndSpaceAndState",e.QMemberReadMode.BOOKED_AND_SPACE_AND_STATE);e.QInAConverter.mapReadMode("RelatedBooked",e.QMemberReadMode.REL_BOOKED);e.QInAConverter.mapReadMode("RelatedBookedAndSpace",e.QMemberReadMode.REL_BOOKED_AND_SPACE);e.QInAConverter.mapReadMode("RelatedBookedAndSpaceAndState",e.QMemberReadMode.REL_BOOKED_AND_SPACE_AND_STATE)},setupResultCalculation:function(){e.QInAConverter.s_lookupResultCalculation=e.XHashMapByString.create();e.QInAConverter.s_lookupResultCalculation.put("00",e.ResultCalculation.NOT_DEFINED);e.QInAConverter.s_lookupResultCalculation.put("01",e.ResultCalculation.SUM);e.QInAConverter.s_lookupResultCalculation.put("02",e.ResultCalculation.MAXIMUM);e.QInAConverter.s_lookupResultCalculation.put("03",e.ResultCalculation.MINIMUM);e.QInAConverter.s_lookupResultCalculation.put("04",e.ResultCalculation.COUNTER_FOR_ALL_DETAILED_VALUES);e.QInAConverter.s_lookupResultCalculation.put("05",e.ResultCalculation.COUNTER_FOR_ALL_DETAILED_VALUES_NZ_NULL_ERROR);e.QInAConverter.s_lookupResultCalculation.put("06",e.ResultCalculation.AVERAGE);e.QInAConverter.s_lookupResultCalculation.put("07",e.ResultCalculation.AVERAGE_DETAILED_VALUES_NOT_ZERO_NULL_ERROR);e.QInAConverter.s_lookupResultCalculation.put("08",e.ResultCalculation.STANDARD_DEVIATION);e.QInAConverter.s_lookupResultCalculation.put("09",e.ResultCalculation.VARIANCE);e.QInAConverter.s_lookupResultCalculation.put("11",e.ResultCalculation.FIRST_VALUE);e.QInAConverter.s_lookupResultCalculation.put("12",e.ResultCalculation.LAST_VALUE);e.QInAConverter.s_lookupResultCalculation.put("13",e.ResultCalculation.SUMMATION_OF_ROUNDED_VALUES);e.QInAConverter.s_lookupResultCalculation.put("14",e.ResultCalculation.HIDE)},setupResultSetState:function(){e.QInAConverter.s_lookupResultsetState=e.XArray.create(7);e.QInAConverter.s_lookupResultsetState.set(0,e.ResultSetState.DATA_AVAILABLE);e.QInAConverter.s_lookupResultsetState.set(1,e.ResultSetState.NO_DATA_AVAILABLE);e.QInAConverter.s_lookupResultsetState.set(2,e.ResultSetState.NO_DATA_AVAILABLE);e.QInAConverter.s_lookupResultsetState.set(3,e.ResultSetState.ERROR);e.QInAConverter.s_lookupResultsetState.set(4,e.ResultSetState.SIZE_LIMIT_EXCEEDED);e.QInAConverter.s_lookupResultsetState.set(5,e.ResultSetState.SUCCESSFUL_PERSISTED);e.QInAConverter.s_lookupResultsetState.set(6,e.ResultSetState.EMPTY_JSON)},setupReturnedDataSelectionMapping:function(){e.QInAConverter.s_lookupReturnedDataSelection=e.XHashMapByString.create();e.QInAConverter.s_lookupReturnedDataSelectionIna=e.XHashMapByString.create();e.QInAConverter.mapReturnedDataSelection("Actions",e.ReturnedDataSelection.ACTIONS);e.QInAConverter.mapReturnedDataSelection("CellDataType",e.ReturnedDataSelection.CELL_DATA_TYPE);e.QInAConverter.mapReturnedDataSelection("CellFormat",e.ReturnedDataSelection.CELL_FORMAT);e.QInAConverter.mapReturnedDataSelection("CellMeasure",e.ReturnedDataSelection.CELL_MEASURE);e.QInAConverter.mapReturnedDataSelection("CellValueTypes",e.ReturnedDataSelection.CELL_VALUE_TYPES);e.QInAConverter.mapReturnedDataSelection("ExceptionAlertLevel",e.ReturnedDataSelection.EXCEPTION_ALERTLEVEL);e.QInAConverter.mapReturnedDataSelection("ExceptionName",e.ReturnedDataSelection.EXCEPTION_NAME);e.QInAConverter.mapReturnedDataSelection("ExceptionSettings",e.ReturnedDataSelection.EXCEPTION_SETTINGS);e.QInAConverter.mapReturnedDataSelection("Exceptions",e.ReturnedDataSelection.EXCEPTIONS);e.QInAConverter.mapReturnedDataSelection("InputEnabled",e.ReturnedDataSelection.INPUT_ENABLED);e.QInAConverter.mapReturnedDataSelection("InputReadinessStates",e.ReturnedDataSelection.INPUT_READINESS_STATES);e.QInAConverter.mapReturnedDataSelection("NumericRounding",e.ReturnedDataSelection.NUMERIC_ROUNDING);e.QInAConverter.mapReturnedDataSelection("NumericShift",e.ReturnedDataSelection.NUMERIC_SHIFT);e.QInAConverter.mapReturnedDataSelection("TupleDisplayLevel",e.ReturnedDataSelection.TUPLE_DISPLAY_LEVEL);e.QInAConverter.mapReturnedDataSelection("TupleDrillState",e.ReturnedDataSelection.TUPLE_DRILL_STATE);e.QInAConverter.mapReturnedDataSelection("TupleElementIds",e.ReturnedDataSelection.TUPLE_ELEMENT_IDS);e.QInAConverter.mapReturnedDataSelection("TupleElementIndexes",e.ReturnedDataSelection.TUPLE_ELEMENT_INDEXES);e.QInAConverter.mapReturnedDataSelection("TupleLevel",e.ReturnedDataSelection.TUPLE_LEVEL);e.QInAConverter.mapReturnedDataSelection("TupleParentIndexes",e.ReturnedDataSelection.TUPLE_PARENT_INDEXES);e.QInAConverter.mapReturnedDataSelection("UnitDescriptions",e.ReturnedDataSelection.UNIT_DESCRIPTIONS);e.QInAConverter.mapReturnedDataSelection("UnitIndex",e.ReturnedDataSelection.UNIT_INDEX);e.QInAConverter.mapReturnedDataSelection("UnitTypes",e.ReturnedDataSelection.UNIT_TYPES);e.QInAConverter.mapReturnedDataSelection("Units",e.ReturnedDataSelection.UNITS);e.QInAConverter.mapReturnedDataSelection("Values",e.ReturnedDataSelection.VALUES);e.QInAConverter.mapReturnedDataSelection("ValuesFormatted",e.ReturnedDataSelection.VALUES_FORMATTED);e.QInAConverter.mapReturnedDataSelection("ValuesRounded",e.ReturnedDataSelection.VALUES_ROUNDED);e.QInAConverter.mapReturnedDataSelection("CellExplain",e.ReturnedDataSelection.CELL_EXPLAIN)},setupRunningAggregationOperator:function(){e.QInAConverter.s_lookupRunningAggregationOperatorIna=e.XHashMapByString.create();e.QInAConverter.s_lookupRunningAggregationOperator=e.XHashMapByString.create();e.QInAConverter.mapRunningAggregationOperator("SUM",e.RunningTotalOperator.SUM);e.QInAConverter.mapRunningAggregationOperator("CNT",e.RunningTotalOperator.COUNT);e.QInAConverter.mapRunningAggregationOperator("CN0",e.RunningTotalOperator.COUNT_NON_ZERO);e.QInAConverter.mapRunningAggregationOperator("AVG",e.RunningTotalOperator.AVERAGE);e.QInAConverter.mapRunningAggregationOperator("AV0",e.RunningTotalOperator.AVERAGE_NON_ZERO);e.QInAConverter.mapRunningAggregationOperator("MAX",e.RunningTotalOperator.MAX);e.QInAConverter.mapRunningAggregationOperator("MIN",e.RunningTotalOperator.MIN);e.QInAConverter.mapRunningAggregationOperator("DEFAULT",e.RunningTotalOperator.DEFAULT)},setupRunningTotalOperator:function(){e.QInAConverter.s_lookupRunningTotalOperatorIna=e.XHashMapByString.create();e.QInAConverter.s_lookupRunningTotalOperator=e.XHashMapByString.create();e.QInAConverter.mapRunningTotalOperator("Count",e.RunningTotalOperator.COUNT);e.QInAConverter.mapRunningTotalOperator("Min",e.RunningTotalOperator.MIN);e.QInAConverter.mapRunningTotalOperator("Max",e.RunningTotalOperator.MAX);e.QInAConverter.mapRunningTotalOperator("Sum",e.RunningTotalOperator.SUM);e.QInAConverter.mapRunningTotalOperator("Average",e.RunningTotalOperator.AVERAGE)},setupScaleAndUnitPlacement:function(){e.QInAConverter.s_lookupScaleAndUnitPlacementIna=e.XHashMapByString.create();e.QInAConverter.s_lookupScaleAndUnitPlacement=e.XHashMapByString.create();e.QInAConverter.mapScaleAndUnitPlacement("Cell",e.ScaleAndUnitPlacement.CELL);e.QInAConverter.mapScaleAndUnitPlacement("Rows",e.ScaleAndUnitPlacement.ROWS);e.QInAConverter.mapScaleAndUnitPlacement("Columns",e.ScaleAndUnitPlacement.COLUMNS);e.QInAConverter.mapScaleAndUnitPlacement("Subtitle",e.ScaleAndUnitPlacement.SUBTITLE)},setupScaleFormat:function(){e.QInAConverter.s_lookupScaleFormatIna=e.XHashMapByString.create();e.QInAConverter.s_lookupScaleFormat=e.XHashMapByString.create();e.QInAConverter.mapScaleFormat("Short",e.ScaleFormat.SHORT);e.QInAConverter.mapScaleFormat("Long",e.ScaleFormat.LONG)},setupSemanticBindingType:function(){e.QInAConverter.s_lookupSemanticBindingType=e.XHashMapByString.create();e.QInAConverter.s_lookupSemanticBindingTypeIna=e.XHashMapByString.create();e.QInAConverter.mapSemanticBindingType("Chart",e.SemanticBindingType.CHART);e.QInAConverter.mapSemanticBindingType("Table",e.SemanticBindingType.TABLE);e.QInAConverter.mapSemanticBindingType("Grid",e.SemanticBindingType.GRID);e.QInAConverter.mapSemanticBindingType("Kpi",e.SemanticBindingType.KPI)},setupSignPresentation:function(){e.QInAConverter.s_lookupSignPresentationIna=e.XHashMapByString.create();e.QInAConverter.s_lookupSignPresentation=e.XHashMapByString.create();e.QInAConverter.mapSignPresentation("BeforeNumber",e.SignPresentation.BEFORE_NUMBER);e.QInAConverter.mapSignPresentation("AfterNumber",e.SignPresentation.AFTER_NUMBER);e.QInAConverter.mapSignPresentation("Brackets",e.SignPresentation.BRACKETS);e.QInAConverter.mapSignPresentation("CommercialMinus",e.SignPresentation.COMMERCIAL_MINUS)},setupSingleValueCalculation:function(){e.QInAConverter.s_lookupSingleValueCalculation=e.XHashMapByString.create();e.QInAConverter.s_lookupSingleValueCalculation.put(" ",e.SingleValueCalculation.NOT_DEFINED);e.QInAConverter.s_lookupSingleValueCalculation.put("1",e.SingleValueCalculation.SUM);e.QInAConverter.s_lookupSingleValueCalculation.put("2",e.SingleValueCalculation.MAXIMUM);e.QInAConverter.s_lookupSingleValueCalculation.put("3",e.SingleValueCalculation.MINIMUM);e.QInAConverter.s_lookupSingleValueCalculation.put("4",e.SingleValueCalculation.COUNTER_FOR_ALL_DETAILED_VALUES);e.QInAConverter.s_lookupSingleValueCalculation.put("5",e.SingleValueCalculation.COUNTER_FOR_ALL_DETAILED_VALUES_NZ_NULL_ERROR);e.QInAConverter.s_lookupSingleValueCalculation.put("6",e.SingleValueCalculation.AVERAGE);e.QInAConverter.s_lookupSingleValueCalculation.put("7",e.SingleValueCalculation.AVERAGE_DETAILED_VALUES_NOT_ZERO_NULL_ERROR);e.QInAConverter.s_lookupSingleValueCalculation.put("0",e.SingleValueCalculation.HIDE);e.QInAConverter.s_lookupSingleValueCalculation.put("O",e.SingleValueCalculation.OLYMPIC_RANK_NUMBER);e.QInAConverter.s_lookupSingleValueCalculation.put("B",e.SingleValueCalculation.MOVING_MIN_VALUE);e.QInAConverter.s_lookupSingleValueCalculation.put("C",e.SingleValueCalculation.NORMALIZED_NEXT_GROUP_LEVEL_RESULT);e.QInAConverter.s_lookupSingleValueCalculation.put("D",e.SingleValueCalculation.MAX_VALUE_NOT_ZERO_NULL_ERROR);e.QInAConverter.s_lookupSingleValueCalculation.put("E",e.SingleValueCalculation.MINIMUM_VALUES_NOT_ZERO_NULL_ERROR);e.QInAConverter.s_lookupSingleValueCalculation.put("G",e.SingleValueCalculation.NORMALIZED_OVERALL_RESULT);e.QInAConverter.s_lookupSingleValueCalculation.put("R",e.SingleValueCalculation.NORMALIZED_UNRESTRICTED_OVERALL_RESULT);e.QInAConverter.s_lookupSingleValueCalculation.put("S",e.SingleValueCalculation.RANK_NUMBER)},setupSortingMapping:function(){e.QInAConverter.s_lookupSortType=e.XHashMapByString.create();e.QInAConverter.s_lookupSortTypeIna=e.XHashMapByString.create();e.QInAConverter.mapSortType("Member",e.SortType.MEMBER_KEY);e.QInAConverter.mapSortType("MemberKey",e.SortType.MEMBER_KEY);e.QInAConverter.mapSortType("MemberText",e.SortType.MEMBER_TEXT);e.QInAConverter.mapSortType("Field",e.SortType.FIELD);e.QInAConverter.mapSortType("Selection",e.SortType.FILTER);e.QInAConverter.mapSortType("Filter",e.SortType.FILTER);e.QInAConverter.mapSortType("Datacell",e.SortType.DATA_CELL_VALUE);e.QInAConverter.mapSortType("Hierarchy",e.SortType.HIERARCHY);e.QInAConverter.mapSortType("Measure",e.SortType.MEASURE);e.QInAConverter.mapSortType("Complex",e.SortType.COMPLEX);e.QInAConverter.mapSortType("Custom",e.SortType.CUSTOM)},setupTextTransformation:function(){e.QInAConverter.s_textTransformation=e.XHashMapByString.create();e.QInAConverter.s_textTransformationIna=e.XHashMapByString.create();e.QInAConverter.mapTextTransformation("Capitalize",e.TextTransformationType.CAPITALIZE);e.QInAConverter.mapTextTransformation("Lowercase",e.TextTransformationType.LOWERCASE);e.QInAConverter.mapTextTransformation("Uppercase",e.TextTransformationType.UPPERCASE);e.QInAConverter.mapTextTransformation("StringTransformation",e.TextTransformationType.STRING_TRANSFORMATION);e.QInAConverter.mapTextTransformation("SpatialAsBinary",e.TextTransformationType.SPATIAL_AS_BINARY);e.QInAConverter.mapTextTransformation("SpatialAsEWKB",e.TextTransformationType.SPATIAL_AS_EWKB);e.QInAConverter.mapTextTransformation("SpatialAsEWKT",e.TextTransformationType.SPATIAL_AS_EWKT);e.QInAConverter.mapTextTransformation("SpatialAsGeoJSON",e.TextTransformationType.SPATIAL_AS_GEOJSON);e.QInAConverter.mapTextTransformation("SpatialAsSVG",e.TextTransformationType.SPATIAL_AS_SVG);e.QInAConverter.mapTextTransformation("SpatialAsText",e.TextTransformationType.SPATIAL_AS_TEXT);e.QInAConverter.mapTextTransformation("SpatialAsWKB",e.TextTransformationType.SPATIAL_AS_WKB);e.QInAConverter.mapTextTransformation("SpatialAsWKT",e.TextTransformationType.SPATIAL_AS_WKT)},setupUniqueAxisPropertyMapping:function(){e.QInAConverter.s_lookupUniqueAxisProperty=e.XHashMapByString.create();e.QInAConverter.s_lookupUniqueAxisPropertyIna=e.XHashMapByString.create();e.QInAConverter.mapUniqueAxisProperty("NumericShift",e.UniqueAxisPropertyType.NUMERIC_SHIFT);e.QInAConverter.mapUniqueAxisProperty("NumericRounding",e.UniqueAxisPropertyType.NUMERIC_ROUNDING);e.QInAConverter.mapUniqueAxisProperty("UnitTypes",e.UniqueAxisPropertyType.UNIT_TYPES);e.QInAConverter.mapUniqueAxisProperty("Units",e.UniqueAxisPropertyType.UNITS);e.QInAConverter.mapUniqueAxisProperty("UnitDescriptions",e.UniqueAxisPropertyType.UNIT_DESCRIPTIONS);e.QInAConverter.mapUniqueAxisProperty("UnitIndex",e.UniqueAxisPropertyType.UNIT_INDEX);e.QInAConverter.mapUniqueAxisProperty("CellValueTypes",e.UniqueAxisPropertyType.CELL_VALUE_TYPES);e.QInAConverter.mapUniqueAxisProperty("LongestAttribute",e.UniqueAxisPropertyType.LONGEST_ATTRIBUTE);e.QInAConverter.mapUniqueAxisProperty("LongestCellValueRounded",e.UniqueAxisPropertyType.LONGEST_CELL_VALUE_ROUNDED);e.QInAConverter.mapUniqueAxisProperty("LongestCellValueFormatted",e.UniqueAxisPropertyType.LONGEST_CELL_VALUE_FORMATTED)},setupUnitType:function(){e.QInAConverter.s_lookupUnitType=e.XHashMapByString.create();e.QInAConverter.s_lookupUnitTypeIna=e.XHashMapByString.create();e.QInAConverter.mapConstant(e.QInAConverter.s_lookupUnitType,e.QInAConverter.s_lookupUnitTypeIna,e.UnitType.CONVERSION_FAILED,"CONVERSION_FAILED");e.QInAConverter.mapConstant(e.QInAConverter.s_lookupUnitType,e.QInAConverter.s_lookupUnitTypeIna,e.UnitType.CURRENCY,"CURRENCY");e.QInAConverter.mapConstant(e.QInAConverter.s_lookupUnitType,e.QInAConverter.s_lookupUnitTypeIna,e.UnitType.CURRENCY,"CUR");e.QInAConverter.mapConstant(e.QInAConverter.s_lookupUnitType,e.QInAConverter.s_lookupUnitTypeIna,e.UnitType.UNIT,"UNIT");e.QInAConverter.mapConstant(e.QInAConverter.s_lookupUnitType,e.QInAConverter.s_lookupUnitTypeIna,e.UnitType.UNIT,"UNI");e.QInAConverter.mapConstant(e.QInAConverter.s_lookupUnitType,e.QInAConverter.s_lookupUnitTypeIna,e.UnitType.UNDEFINED,"UDF");e.QInAConverter.mapConstant(e.QInAConverter.s_lookupUnitType,e.QInAConverter.s_lookupUnitTypeIna,e.UnitType.MIXED,"*");e.QInAConverter.mapConstant(e.QInAConverter.s_lookupUnitType,e.QInAConverter.s_lookupUnitTypeIna,e.UnitType.NULL_VALUE,"NULL");e.QInAConverter.mapConstant(e.QInAConverter.s_lookupUnitType,e.QInAConverter.s_lookupUnitTypeIna,e.UnitType.NONE,"NON")},setupUtErrorHandlingMode:function(){e.QInAConverter.s_lookupUtErrorHandlingMode=e.XHashMapByString.create();e.QInAConverter.s_lookupUtErrorHandlingModeIna=e.XHashMapByString.create();e.QInAConverter.mapUtErrorHandlingMode("keep unconverted",e.UtErrorHandlingMode.KEEP_UNCONVERTED);e.QInAConverter.mapUtErrorHandlingMode("set to null",e.UtErrorHandlingMode.SET_TO_NULL);e.QInAConverter.mapUtErrorHandlingMode("fail on error",e.UtErrorHandlingMode.FAIL_ON_ERROR)},setupUtRateLookup:function(){e.QInAConverter.s_lookupUtRateLookup=e.XHashMapByString.create();e.QInAConverter.s_lookupUtRateLookupIna=e.XHashMapByString.create();e.QInAConverter.mapUtRateLookup("DIMENSION",e.UtRateLookup.DIMENSION);e.QInAConverter.mapUtRateLookup("GLOBAL",e.UtRateLookup.GLOBAL);e.QInAConverter.mapUtRateLookup("DIMENSION_THEN_GLOBAL",e.UtRateLookup.DIMENSION_THEN_GLOBAL);e.QInAConverter.mapUtRateLookup("GLOBAL_THEN_DIMENSION",e.UtRateLookup.GLOBAL_THEN_DIMENSION)},setupValueDomain:function(){e.QInAConverter.s_lookupProcessingType=e.XHashMapByString.create();e.QInAConverter.s_lookupProcessingTypeIna=e.XHashMapByString.create();e.QInAConverter.mapValueDomain("CurrencyConversion",e.ProcessingType.CURRENCY_CONVERSION)},setupValueException:function(){e.QInAConverter.s_lookupValueException=e.XArray.create(11);e.QInAConverter.s_lookupValueException.set(0,e.ValueException.NORMAL);e.QInAConverter.s_lookupValueException.set(1,e.ValueException.NULL_VALUE);e.QInAConverter.s_lookupValueException.set(2,e.ValueException.ZERO);e.QInAConverter.s_lookupValueException.set(3,e.ValueException.UNDEFINED);e.QInAConverter.s_lookupValueException.set(4,e.ValueException.OVERFLOW);e.QInAConverter.s_lookupValueException.set(5,e.ValueException.NO_PRESENTATION);e.QInAConverter.s_lookupValueException.set(6,e.ValueException.DIFF0);e.QInAConverter.s_lookupValueException.set(7,e.ValueException.ERROR);e.QInAConverter.s_lookupValueException.set(8,e.ValueException.NO_AUTHORITY);e.QInAConverter.s_lookupValueException.set(9,e.ValueException.MIXED_CURRENCIES_OR_UNITS);e.QInAConverter.s_lookupValueException.set(10,e.ValueException.UNDEFINED_NOP)},setupValueTypeMap:function(){e.QInAConverter.s_lookupValueType=e.XHashMapByString.create();e.QInAConverter.s_lookupValueTypeIna=e.XHashMapByString.create();e.QInAConverter.mapValueType("String",e.XValueType.STRING);e.QInAConverter.mapValueType("Numc",e.XValueType.NUMC);e.QInAConverter.mapValueType("Char",e.XValueType.CHAR);e.QInAConverter.mapValueType("Double",e.XValueType.DOUBLE);e.QInAConverter.mapValueType("Long",e.XValueType.LONG);e.QInAConverter.mapValueType("Int",e.XValueType.INTEGER);e.QInAConverter.mapValueType("Bool",e.XValueType.BOOLEAN);e.QInAConverter.mapValueType("Amount",e.XValueType.AMOUNT);e.QInAConverter.mapValueType("Date",e.XValueType.DATE);e.QInAConverter.mapValueType("Time",e.XValueType.TIME);e.QInAConverter.mapValueType("Timestamp",e.XValueType.DATE_TIME);e.QInAConverter.mapValueType("Timespan",e.XValueType.TIMESPAN);e.QInAConverter.mapValueType("Properties",e.XValueType.PROPERTIES);e.QInAConverter.mapValueType("Structure",e.XValueType.STRUCTURE);e.QInAConverter.mapValueType("StructureList",e.XValueType.STRUCTURE_LIST);e.QInAConverter.mapValueType("MultiPoint",e.XValueType.MULTI_POINT);e.QInAConverter.mapValueType("Point",e.XValueType.POINT);e.QInAConverter.mapValueType("MultiGeometry",e.XValueType.MULTI_POLYGON);e.QInAConverter.mapValueType("Geometry",e.XValueType.POLYGON);e.QInAConverter.mapValueType("MultiLineString",e.XValueType.MULTI_LINE_STRING);e.QInAConverter.mapValueType("LineString",e.XValueType.LINE_STRING);e.QInAConverter.mapValueType("Language",e.XValueType.LANGUAGE);e.QInAConverter.mapValueType("DecimalFloat",e.XValueType.DECIMAL_FLOAT);e.QInAConverter.mapValueType("FunctionalVariable",e.XValueType.VARIABLE);e.QInAConverter.mapValueType("Variable",e.XValueType.VARIABLE);e.QInAConverter.mapValueType("CurrentMember",e.XValueType.CURRENT_MEMBER);e.QInAConverter.mapValueType("MemberType",e.XValueType.MEMBER_TYPE);e.QInAConverter.mapValueType("Unit",e.XValueType.UNIT);e.QInAConverter.mapValueType("Cuky",e.XValueType.CUKY);e.QInAConverter.s_lookupCellValueType=e.XArray.create(15);e.QInAConverter.s_lookupCellValueType.set(0,e.XValueType.DOUBLE);e.QInAConverter.s_lookupCellValueType.set(1,e.XValueType.PERCENT);e.QInAConverter.s_lookupCellValueType.set(2,e.XValueType.DATE);e.QInAConverter.s_lookupCellValueType.set(3,e.XValueType.TIME);e.QInAConverter.s_lookupCellValueType.set(4,e.XValueType.STRING);e.QInAConverter.s_lookupCellValueType.set(5,e.XValueType.AMOUNT);e.QInAConverter.s_lookupCellValueType.set(6,e.XValueType.QUANTITY);e.QInAConverter.s_lookupCellValueType.set(7,e.XValueType.PRICE);e.QInAConverter.s_lookupCellValueType.set(8,e.XValueType.DIMENSION_MEMBER);e.QInAConverter.s_lookupCellValueType.set(9,e.XValueType.INTEGER);e.QInAConverter.s_lookupCellValueType.set(10,e.XValueType.DECIMAL_FLOAT);e.QInAConverter.s_lookupCellValueType.set(11,e.XValueType.DATE_TIME);e.QInAConverter.s_lookupCellValueType.set(12,e.XValueType.DATE_TIME);e.QInAConverter.s_lookupCellValueType.set(13,e.XValueType.BOOLEAN);e.QInAConverter.s_lookupCellValueType.set(14,e.XValueType.POLYGON)},setupVisibilityMapping:function(){e.QInAConverter.s_lookupVisibilityType=e.XHashMapByString.create();e.QInAConverter.s_lookupVisibilityTypeIna=e.XHashMapByString.create();e.QInAConverter.mapVisibilityType("C",e.VisibilityType.CENTRAL);e.QInAConverter.mapVisibilityType("C/I",e.VisibilityType.CENTRAL_NOT_VISIBLE);e.QInAConverter.mapVisibilityType("C/D",e.VisibilityType.CENTRAL_DISPLAY_ONLY);e.QInAConverter.mapVisibilityType("C/C",e.VisibilityType.CENTRAL_CHANGE_TO_EXISTING);e.QInAConverter.mapVisibilityType("C/A",e.VisibilityType.CENTRAL_ADD_NEW);e.QInAConverter.mapVisibilityType("L",e.VisibilityType.LOCAL);e.QInAConverter.mapVisibilityType("L/I",e.VisibilityType.LOCAL_NOT_VISIBLE);e.QInAConverter.mapVisibilityType("L/D",e.VisibilityType.LOCAL_DISPLAY_ONLY);e.QInAConverter.mapVisibilityType("L/C",e.VisibilityType.LOCAL_CHANGE_TO_EXISTING);e.QInAConverter.mapVisibilityType("L/A",e.VisibilityType.LOCAL_ADD_NEW)},setupWindowFunctionTypeMapping:function(){e.QInAConverter.s_lookupWindowFunctionType=e.XHashMapByString.create();e.QInAConverter.s_lookupWindowFunctionTypeIna=e.XHashMapByString.create();e.QInAConverter.mapWindowFunctionType("SUM",e.WindowFunctionType.SUM);e.QInAConverter.mapWindowFunctionType("AVG",e.WindowFunctionType.AVERAGE);e.QInAConverter.mapWindowFunctionType("COUNT",e.WindowFunctionType.COUNT);e.QInAConverter.mapWindowFunctionType("MAX",e.WindowFunctionType.MAX);e.QInAConverter.mapWindowFunctionType("MIN",e.WindowFunctionType.MIN)},staticSetup:function(){e.QInAConverter.setupCtErrorHandlingMode();e.QInAConverter.setupRateType();e.QInAConverter.setupCategory();e.QInAConverter.setupUtErrorHandlingMode();e.QInAConverter.setupUtRateLookup();e.QInAConverter.setupAxisType();e.QInAConverter.setupUnitType();e.QInAConverter.setupDimensionType();e.QInAConverter.setupAlertLevel();e.QInAConverter.setupTextTransformation();e.QInAConverter.setupValueTypeMap();e.QInAConverter.setupComparisonMapping();e.QInAConverter.setupAggregationTypeMapping();e.QInAConverter.setupPresentationMapping();e.QInAConverter.setupProviderType();e.QInAConverter.setupInfoObjectType();e.QInAConverter.setupVisibilityMapping();e.QInAConverter.setupReadmodeMapping();e.QInAConverter.setupEncoding();e.QInAConverter.setupSortingMapping();e.QInAConverter.setupComponentTypeMapping();e.QInAConverter.setupMemberNavigationType();e.QInAConverter.setupResultSetState();e.QInAConverter.setupValueException();e.QInAConverter.setupSingleValueCalculation();e.QInAConverter.setupWindowFunctionTypeMapping();e.QInAConverter.setupResultCalculation();e.QInAConverter.setupValueDomain();e.QInAConverter.setupReturnedDataSelectionMapping();e.QInAConverter.setupUniqueAxisPropertyMapping();e.QInAConverter.setupCellChartOrientationMapping();e.QInAConverter.setupCellChartTypeMapping();e.QInAConverter.setupDocumentIdsScope();e.QInAConverter.setupDocumentIdsAction();e.QInAConverter.setupDocumentSupportType();e.QInAConverter.setupProtocolBindingType();e.QInAConverter.setupSemanticBindingType();e.QInAConverter.setupRunningAggregationOperator();e.QInAConverter.setupRunningTotalOperator();e.QInAConverter.setupCurrencyPresentation();e.QInAConverter.setupScaleAndUnitPlacement();e.QInAConverter.setupDateRangeGranularity();e.QInAConverter.setupFilterDisplayInfo();e.QInAConverter.setupScaleFormat();e.QInAConverter.setupSignPresentation();e.QInAConverter.setupDimensionVisibility();e.QInAConverter.setupInputEnablementRuleMode();e.QInAConverter.setupInputEnablementCacheMode();e.QInAConverter.setupInputReadinessFilterMode()},switchComparisonGroupToIncludeOnly:function(t){if(t===e.QSetSignComparisonOperatorGroup.INTERVAL){return e.QSetSignComparisonOperatorGroup.INTERVAL_INCLUDE_ONLY}else if(t===e.QSetSignComparisonOperatorGroup.INTERVAL_WITH_NULL_ALLOWED){return e.QSetSignComparisonOperatorGroup.INTERVAL_INCLUDE_ONLY_WITH_NULL_ALLOWED}else if(t===e.QSetSignComparisonOperatorGroup.RANGE){return e.QSetSignComparisonOperatorGroup.RANGE_INCLUDE_ONLY}else if(t===e.QSetSignComparisonOperatorGroup.RANGE_WITH_NULL_ALLOWED){return e.QSetSignComparisonOperatorGroup.RANGE_INCLUDE_ONLY_WITH_NULL_ALLOWED}else if(t===e.QSetSignComparisonOperatorGroup.SINGLE_VALUE){return e.QSetSignComparisonOperatorGroup.SINGLE_VALUE_INCLUDE_ONLY}else if(t===e.QSetSignComparisonOperatorGroup.SINGLE_VALUE_WITH_NULL_ALLOWED){return e.QSetSignComparisonOperatorGroup.SINGLE_VALUE_INCLUDE_ONLY_WITH_NULL_ALLOWED}else{return t}}};e.QRriTargetCallbackIdentifier=function(){};e.QRriTargetCallbackIdentifier.prototype=new e.XObject;e.QRriTargetCallbackIdentifier.prototype._ff_c="QRriTargetCallbackIdentifier";e.QRriTargetCallbackIdentifier.create=function(t,n,r,i,a){let o=new e.QRriTargetCallbackIdentifier;o.m_manager=t;o.m_row=n;o.m_column=r;o.m_listener=i;o.m_customIdentifier=a;return o};e.QRriTargetCallbackIdentifier.prototype.m_column=0;e.QRriTargetCallbackIdentifier.prototype.m_customIdentifier=null;e.QRriTargetCallbackIdentifier.prototype.m_listener=null;e.QRriTargetCallbackIdentifier.prototype.m_manager=null;e.QRriTargetCallbackIdentifier.prototype.m_row=0;e.QRriTargetCallbackIdentifier.prototype.getColumn=function(){return this.m_column};e.QRriTargetCallbackIdentifier.prototype.getCustomIdentifier=function(){return this.m_customIdentifier};e.QRriTargetCallbackIdentifier.prototype.getListener=function(){return this.m_listener};e.QRriTargetCallbackIdentifier.prototype.getManager=function(){return this.m_manager};e.QRriTargetCallbackIdentifier.prototype.getRow=function(){return this.m_row};e.QRriTargetManager=function(){};e.QRriTargetManager.prototype=new e.XObject;e.QRriTargetManager.prototype._ff_c="QRriTargetManager";e.QRriTargetManager.create=function(t){let n=new e.QRriTargetManager;n.setupInstance(t);return n};e.QRriTargetManager.prototype.m_compatibilityMode=false;e.QRriTargetManager.prototype.m_contextType=null;e.QRriTargetManager.prototype.m_extResult=null;e.QRriTargetManager.prototype.m_focusDimension=null;e.QRriTargetManager.prototype.m_minimizeRequestPayload=false;e.QRriTargetManager.prototype.m_pathContextMembers=null;e.QRriTargetManager.prototype.m_queryManager=null;e.QRriTargetManager.prototype.m_resultSetColumn=0;e.QRriTargetManager.prototype.m_resultSetColumnElements=0;e.QRriTargetManager.prototype.m_resultSetRow=0;e.QRriTargetManager.prototype.m_resultSetRowElements=0;e.QRriTargetManager.prototype.getFocusDimension=function(){return this.m_focusDimension};e.QRriTargetManager.prototype.getPathContextMembers=function(){return this.m_pathContextMembers};e.QRriTargetManager.prototype.getResultSetColumn=function(){return this.m_resultSetColumn};e.QRriTargetManager.prototype.getResultSetColumnElements=function(){return this.m_resultSetColumnElements};e.QRriTargetManager.prototype.getResultSetRow=function(){return this.m_resultSetRow};e.QRriTargetManager.prototype.getResultSetRowElements=function(){return this.m_resultSetRowElements};e.QRriTargetManager.prototype.getRriContextType=function(){return this.m_contextType};e.QRriTargetManager.prototype.getRriTargetsOfSupportedTargetType=function(e,t,n){return this.processRriTargetResolutionInternal(e,t,n,null,true)};e.QRriTargetManager.prototype.getRriTargetsOfTargetTypes=function(e,t,n,r){return this.processRriTargetResolutionInternal(e,t,n,r,false)};e.QRriTargetManager.prototype.isCompatibilityMode=function(){return this.m_compatibilityMode};e.QRriTargetManager.prototype.isCustomPathContext=function(){return this.m_contextType===e.RriContextType.CUSTOM_PATH_CONTEXT};e.QRriTargetManager.prototype.isMemberContext=function(){return this.m_contextType===e.RriContextType.MEMBER_CONTEXT};e.QRriTargetManager.prototype.isMinimizeRequestPayload=function(){return this.m_minimizeRequestPayload};e.QRriTargetManager.prototype.isResultSetContext=function(){return this.m_contextType===e.RriContextType.RESULT_SET_CONTEXT};e.QRriTargetManager.prototype.processRriTargetResolution=function(e,t,n){return this.processRriTargetResolutionInternal(e,t,n,null,false)};e.QRriTargetManager.prototype.processRriTargetResolutionInternal=function(t,n,r,i,a){let o=e.QRriTargetCallbackIdentifier.create(this,this.m_resultSetRow,this.m_resultSetColumn,n,r);this.m_extResult=null;let l=e.XWeakReferenceUtil.getHardRef(this.m_queryManager);l.processRriTargetSync(t,o,i,a,this.m_minimizeRequestPayload);let s=this.m_extResult;this.m_extResult=null;return s};e.QRriTargetManager.prototype.releaseObject=function(){this.m_queryManager=e.XObjectExt.release(this.m_queryManager);this.m_focusDimension=null;this.m_pathContextMembers=null;this.m_contextType=null;this.m_extResult=null;e.XObject.prototype.releaseObject.call(this)};e.QRriTargetManager.prototype.retrieveDetailsOfTarget=function(t,n,r,i,a){if(this.isCompatibilityMode()){return null}let o=e.QRriTargetCallbackIdentifier.create(this,this.m_resultSetRow,this.m_resultSetColumn,n,r);this.m_extResult=null;let l=e.XWeakReferenceUtil.getHardRef(this.m_queryManager);l.processRriTargetDetails(t,o,i,a,this.m_minimizeRequestPayload);let s=this.m_extResult;this.m_extResult=null;return s};e.QRriTargetManager.prototype.setCompatibilityMode=function(e){this.m_compatibilityMode=e};e.QRriTargetManager.prototype.setCustomPathContext=function(t,n){this.m_focusDimension=t;if(e.isNull(this.m_pathContextMembers)){this.m_pathContextMembers=e.XList.create()}else{this.m_pathContextMembers.clear()}this.m_pathContextMembers.addAll(n);this.m_contextType=e.RriContextType.CUSTOM_PATH_CONTEXT};e.QRriTargetManager.prototype.setMemberContext=function(t,n,r,i){this.m_resultSetRow=t;this.m_resultSetColumn=r;this.m_resultSetRowElements=n;this.m_resultSetColumnElements=i;this.m_contextType=e.RriContextType.MEMBER_CONTEXT};e.QRriTargetManager.prototype.setMinimizeRequestPayload=function(e){this.m_minimizeRequestPayload=e};e.QRriTargetManager.prototype.setResult=function(e,t){this.m_extResult=e;if(t.getListener()!==null){let n=null;if(e.isValid()){n=e.getData()}t.getListener().onRriTargetResolution(e,n,t.getCustomIdentifier())}};e.QRriTargetManager.prototype.setResultSetContext=function(t,n){this.m_resultSetRow=t;this.m_resultSetColumn=n;this.m_contextType=e.RriContextType.RESULT_SET_CONTEXT};e.QRriTargetManager.prototype.setupInstance=function(t){this.m_queryManager=e.XWeakReferenceUtil.getWeakRef(t);this.m_minimizeRequestPayload=true;this.m_compatibilityMode=false};e.ClusteringDbScan=function(){};e.ClusteringDbScan.prototype=new e.AbstractSpatialClustering;e.ClusteringDbScan.prototype._ff_c="ClusteringDbScan";e.ClusteringDbScan.create=function(t){let n=new e.ClusteringDbScan;n.setupDbScan(t);return n};e.ClusteringDbScan.prototype.m_eps=null;e.ClusteringDbScan.prototype.m_minPoints=null;e.ClusteringDbScan.prototype.cloneExt=function(t){let n=e.ClusteringDbScan.create(null);this.cloneClustering(n);n.setEps(this.getEps());n.setMinPoints(this.getMinPoints());return n};e.ClusteringDbScan.prototype.getClusterAlgorithm=function(){return e.ClusterAlgorithm.DB_SCAN};e.ClusteringDbScan.prototype.getEps=function(){return this.m_eps.getDouble()};e.ClusteringDbScan.prototype.getMinPoints=function(){return this.m_minPoints.getInteger()};e.ClusteringDbScan.prototype.releaseObject=function(){this.m_eps=e.XObjectExt.release(this.m_eps);this.m_minPoints=e.XObjectExt.release(this.m_minPoints);e.AbstractSpatialClustering.prototype.releaseObject.call(this)};e.ClusteringDbScan.prototype.setEps=function(e){this.m_eps.setDouble(e)};e.ClusteringDbScan.prototype.setMinPoints=function(e){this.m_minPoints.setInteger(e)};e.ClusteringDbScan.prototype.setupDbScan=function(t){e.AbstractSpatialClustering.prototype.setupSpatialClustering.call(this,t);this.m_eps=e.XDoubleValue.create(0);this.m_minPoints=e.XIntegerValue.create(0);this.m_parameters.put("EPS",this.m_eps);this.m_parameters.put("MinPoints",this.m_minPoints)};e.ClusteringGrid=function(){};e.ClusteringGrid.prototype=new e.AbstractSpatialClustering;e.ClusteringGrid.prototype._ff_c="ClusteringGrid";e.ClusteringGrid.create=function(t){let n=new e.ClusteringGrid;n.setupGrid(t);return n};e.ClusteringGrid.prototype.m_cellsX=null;e.ClusteringGrid.prototype.m_cellsY=null;e.ClusteringGrid.prototype.m_lowerBoundX=null;e.ClusteringGrid.prototype.m_lowerBoundY=null;e.ClusteringGrid.prototype.m_upperBoundX=null;e.ClusteringGrid.prototype.m_upperBoundY=null;e.ClusteringGrid.prototype.cloneExt=function(t){let n=e.ClusteringGrid.create(null);this.cloneClustering(n);n.setCellsX(this.getCellsX());n.setCellsY(this.getCellsY());if(e.notNull(this.m_lowerBoundX)){n.setLowerBoundX(this.getLowerBoundX())}if(e.notNull(this.m_upperBoundX)){n.setUpperBoundX(this.getUpperBoundX())}if(e.notNull(this.m_lowerBoundY)){n.setLowerBoundY(this.getLowerBoundY())}if(e.notNull(this.m_upperBoundY)){n.setUpperBoundY(this.getUpperBoundY())}return n};e.ClusteringGrid.prototype.getCellsX=function(){return this.m_cellsX.getInteger()};e.ClusteringGrid.prototype.getCellsY=function(){return this.m_cellsY.getInteger()};e.ClusteringGrid.prototype.getClusterAlgorithm=function(){return e.ClusterAlgorithm.GRID};e.ClusteringGrid.prototype.getLowerBoundX=function(){return e.isNull(this.m_lowerBoundX)?0:this.m_lowerBoundX.getDouble()};e.ClusteringGrid.prototype.getLowerBoundY=function(){return e.isNull(this.m_lowerBoundY)?0:this.m_lowerBoundY.getDouble()};e.ClusteringGrid.prototype.getUpperBoundX=function(){return e.isNull(this.m_upperBoundX)?0:this.m_upperBoundX.getDouble()};e.ClusteringGrid.prototype.getUpperBoundY=function(){return e.isNull(this.m_upperBoundY)?0:this.m_upperBoundY.getDouble()};e.ClusteringGrid.prototype.releaseObject=function(){this.m_lowerBoundX=e.XObjectExt.release(this.m_lowerBoundX);this.m_upperBoundX=e.XObjectExt.release(this.m_upperBoundX);this.m_lowerBoundY=e.XObjectExt.release(this.m_lowerBoundY);this.m_upperBoundY=e.XObjectExt.release(this.m_upperBoundY);this.m_cellsX=e.XObjectExt.release(this.m_cellsX);this.m_cellsY=e.XObjectExt.release(this.m_cellsY);e.AbstractSpatialClustering.prototype.releaseObject.call(this)};e.ClusteringGrid.prototype.setCellsX=function(e){this.m_cellsX.setInteger(e)};e.ClusteringGrid.prototype.setCellsY=function(e){this.m_cellsY.setInteger(e)};e.ClusteringGrid.prototype.setLowerBoundX=function(t){if(e.isNull(this.m_lowerBoundX)){this.m_lowerBoundX=e.XDoubleValue.create(t);this.m_parameters.put("XLowerBound",this.m_lowerBoundX)}else{this.m_lowerBoundX.setDouble(t)}};e.ClusteringGrid.prototype.setLowerBoundY=function(t){if(e.isNull(this.m_lowerBoundY)){this.m_lowerBoundY=e.XDoubleValue.create(t);this.m_parameters.put("YLowerBound",this.m_lowerBoundY)}else{this.m_lowerBoundY.setDouble(t)}};e.ClusteringGrid.prototype.setUpperBoundX=function(t){if(e.isNull(this.m_upperBoundX)){this.m_upperBoundX=e.XDoubleValue.create(t);this.m_parameters.put("XUpperBound",this.m_upperBoundX)}else{this.m_upperBoundX.setDouble(t)}};e.ClusteringGrid.prototype.setUpperBoundY=function(t){if(e.isNull(this.m_upperBoundY)){this.m_upperBoundY=e.XDoubleValue.create(t);this.m_parameters.put("YUpperBound",this.m_upperBoundY)}else{this.m_upperBoundY.setDouble(t)}};e.ClusteringGrid.prototype.setupGrid=function(t){e.AbstractSpatialClustering.prototype.setupSpatialClustering.call(this,t);this.m_cellsX=e.XIntegerValue.create(0);this.m_cellsY=e.XIntegerValue.create(0);this.m_parameters.put("XCells",this.m_cellsX);this.m_parameters.put("YCells",this.m_cellsY)};e.ClusteringKmeans=function(){};e.ClusteringKmeans.prototype=new e.AbstractSpatialClustering;e.ClusteringKmeans.prototype._ff_c="ClusteringKmeans";e.ClusteringKmeans.create=function(t){let n=new e.ClusteringKmeans;n.setupKMeans(t);return n};e.ClusteringKmeans.prototype.m_clusters=null;e.ClusteringKmeans.prototype.m_init=null;e.ClusteringKmeans.prototype.m_maxIterations=null;e.ClusteringKmeans.prototype.m_threshold=null;e.ClusteringKmeans.prototype.cloneExt=function(t){let n=e.ClusteringKmeans.create(null);this.cloneClustering(n);n.setClusters(this.getClusters());if(e.notNull(this.m_init)){n.setInit(this.getInit())}if(e.notNull(this.m_maxIterations)){n.setMaxIterations(this.getMaxIterations())}if(e.notNull(this.m_threshold)){n.setThreshold(this.getThreshold())}return n};e.ClusteringKmeans.prototype.getClusterAlgorithm=function(){return e.ClusterAlgorithm.K_MEANS};e.ClusteringKmeans.prototype.getClusters=function(){return this.m_clusters.getInteger()};e.ClusteringKmeans.prototype.getInit=function(){return e.isNull(this.m_init)?null:this.m_init.getString()};e.ClusteringKmeans.prototype.getMaxIterations=function(){return e.isNull(this.m_maxIterations)?0:this.m_maxIterations.getInteger()};e.ClusteringKmeans.prototype.getThreshold=function(){return e.isNull(this.m_threshold)?0:this.m_threshold.getDouble()};e.ClusteringKmeans.prototype.releaseObject=function(){this.m_init=e.XObjectExt.release(this.m_init);this.m_clusters=e.XObjectExt.release(this.m_clusters);this.m_maxIterations=e.XObjectExt.release(this.m_maxIterations);this.m_threshold=e.XObjectExt.release(this.m_threshold);e.AbstractSpatialClustering.prototype.releaseObject.call(this)};e.ClusteringKmeans.prototype.setClusters=function(e){this.m_clusters.setInteger(e)};e.ClusteringKmeans.prototype.setInit=function(t){if(e.isNull(this.m_init)){this.m_init=e.XStringValue.create(t);this.m_parameters.put("Init",this.m_init)}else{this.m_init.setString(t)}};e.ClusteringKmeans.prototype.setMaxIterations=function(t){if(e.isNull(this.m_maxIterations)){this.m_maxIterations=e.XIntegerValue.create(t);this.m_parameters.put("MaxIterations",this.m_maxIterations)}else{this.m_maxIterations.setInteger(t)}};e.ClusteringKmeans.prototype.setThreshold=function(t){if(e.isNull(this.m_threshold)){this.m_threshold=e.XDoubleValue.create(t);this.m_parameters.put("Threshold",this.m_threshold)}else{this.m_threshold.setDouble(t)}};e.ClusteringKmeans.prototype.setupKMeans=function(t){this.setupSpatialClustering(t);this.m_clusters=e.XIntegerValue.create(0);this.m_parameters.put("Clusters",this.m_clusters)};e.CommentingFactoryImpl=function(){};e.CommentingFactoryImpl.prototype=new e.XObject;e.CommentingFactoryImpl.prototype._ff_c="CommentingFactoryImpl";e.CommentingFactoryImpl.create=function(){return new e.CommentingFactoryImpl};e.CommentingFactoryImpl.prototype.newCommentingThread=function(t){return e.CommentingThread.create(t)};e.CommentingFactoryImpl.prototype.newCommentingThreadFromStructure=function(t){return e.CommentingThread.createFromStructure(t)};e.CustomHierarchyRepository=function(){};e.CustomHierarchyRepository.prototype=new e.XObject;e.CustomHierarchyRepository.prototype._ff_c="CustomHierarchyRepository";e.CustomHierarchyRepository.create=function(t){let n=new e.CustomHierarchyRepository;n.m_application=e.XWeakReferenceUtil.getWeakRef(t);n.m_customHierarchies=e.XList.create();return n};e.CustomHierarchyRepository.getHierarchyNamesFromExportedJson=function(t){let n=e.XList.create();let r=e.XStringUtils.isNotNullAndNotEmpty(t)?e.JsonParserFactory.createFromSafeString(t).asList():e.PrFactory.createList();let i=e.QInAImportFactory.createForRepository(null,null);for(let e=0;e<r.size();e++){n.add(i.importCustomHierarchyDefinition(r.getStructureAt(e)).getName())}e.XObjectExt.release(i);return n};e.CustomHierarchyRepository.prototype.m_application=null;e.CustomHierarchyRepository.prototype.m_customHierarchies=null;e.CustomHierarchyRepository.prototype._getCustomHierarchyCatalogItemsByDimensionName=function(e,t,n,r){return this.convertToHierarchyCatalogItems(this.getCustomHierarchyDefinitionsByDimensionName(e,t,n),r)};e.CustomHierarchyRepository.prototype.addCustomHierarchiesUsedByDimensions=function(t,n){e.XStream.of(t).map(e=>e.isHierarchyActive()?e.getCustomHierarchyDefinition():null).filterNullValues().forEach(e=>{n.add(e)})};e.CustomHierarchyRepository.prototype.addCustomHierarchy=function(t){if(e.notNull(t)&&e.XStringUtils.isNotNullAndNotEmpty(t.getName())){this.m_customHierarchies.removeElement(this.getCustomHierarchyDefinitionByName(t.getName()));this.m_customHierarchies.add(t)}};e.CustomHierarchyRepository.prototype.addHierarchyNamesUsedByDimensions=function(t,n){e.XStream.of(t).filter(t=>t.isHierarchyActive()&&e.XStringUtils.isNotNullAndNotEmpty(t.getHierarchyName())).forEach(e=>{n.add(e.getHierarchyName())})};e.CustomHierarchyRepository.prototype.convertToHierarchyCatalogItems=function(t,n){let r=e.XList.create();for(let i=0;i<t.size();i++){let a=t.get(i);let o=a.getName();let l=a.getDescription();if(e.XStringUtils.isNullOrEmpty(n)||e.XPattern.matches(o,n)||e.XPattern.matches(l,n)){let t=e.HierarchyCatalogItem.createCatalogItem();t.setDimensionName(a.getDimensionName());t.setHierarchyName(o);t.setHierarchyShortText(l);t.setCustomHierarchyDefinition(a);r.add(t)}}return r};e.CustomHierarchyRepository.prototype.exportCustomHierarchiesInternal=function(t){let n=e.PrFactory.createList();let r=e.QInAExportFactory.createForRepository(e.XWeakReferenceUtil.getHardRef(this.m_application),null);for(let e=0;e<t.size();e++){n.add(r.exportCustomHierarchyDefinition(t.get(e)))}e.XObjectExt.release(r);return n};e.CustomHierarchyRepository.prototype.exportCustomHierarchiesToJsonInternal=function(t){return e.PrUtils.serialize(this.exportCustomHierarchiesInternal(t),true,false,0)};e.CustomHierarchyRepository.prototype.exportCustomHierarchyDefinitions=function(){return this.exportCustomHierarchiesInternal(this.m_customHierarchies)};e.CustomHierarchyRepository.prototype.exportCustomHierarchyDefinitionsByNameToJson=function(t){let n=e.XList.create();let r=e.notNull(t)?t.size():0;for(let i=0;i<r;i++){let r=this.getCustomHierarchyDefinitionByName(t.get(i));if(e.notNull(r)){n.add(r)}}return this.exportCustomHierarchiesToJsonInternal(n)};e.CustomHierarchyRepository.prototype.exportCustomHierarchyDefinitionsToJson=function(){return this.exportCustomHierarchiesToJsonInternal(this.m_customHierarchies)};e.CustomHierarchyRepository.prototype.getCustomHierarchiesUsedInQueryModel=function(t){let n=e.XList.create();this.addCustomHierarchiesUsedByDimensions(t.getRowsAxis().getDimensions(),n);this.addCustomHierarchiesUsedByDimensions(t.getColumnsAxis().getDimensions(),n);if(t.getMeasureDimension()!==null){e.XStream.of(t.getMeasureDimension().getExtendedStructureMembers()).filter(t=>t.getMemberType().isTypeOf(e.MemberType.RESTRICTED_MEASURE)).map(e=>e.getFilter().getUsedCustomHierarchies()).forEach(t=>{e.XCollectionUtils.addAllIfNotPresent(n,t)})}e.XCollectionUtils.addAllIfNotPresent(n,t.getFilter().getEffectiveFilter().getUsedCustomHierarchies());return n};e.CustomHierarchyRepository.prototype.getCustomHierarchyCatalogItems=function(e,t){return this.convertToHierarchyCatalogItems(this.getCustomHierarchyDefinitionsByDimension(e),t)};e.CustomHierarchyRepository.prototype.getCustomHierarchyDefinitionByName=function(t){for(let n=0;n<this.m_customHierarchies.size();n++){let r=this.m_customHierarchies.get(n);if(e.XString.isEqual(r.getName(),t)){return r}}return null};e.CustomHierarchyRepository.prototype.getCustomHierarchyDefinitions=function(){return this.m_customHierarchies};e.CustomHierarchyRepository.prototype.getCustomHierarchyDefinitionsByDimension=function(t){if(e.notNull(t)){let n=t.getQueryManager();let r=n.getSystemType().isTypeOf(e.SystemType.ABAP)?null:t.getDataSource().getName();return this.getCustomHierarchyDefinitionsByDimensionName(n.getSystemName(),r,t.getName())}return e.XList.create()};e.CustomHierarchyRepository.prototype.getCustomHierarchyDefinitionsByDimensionName=function(t,n,r){let i=e.XList.create();if(e.notNull(r)){let a=this.m_customHierarchies.size();for(let o=0;o<a;o++){let a=this.m_customHierarchies.get(o);if(e.XString.isEqual(a.getSystemName(),t)&&(e.isNull(n)||e.XString.isEqual(a.getDataSourceName(),n))&&e.XString.isEqual(a.getDimensionName(),r)){i.add(a)}}}return i};e.CustomHierarchyRepository.prototype.getHierarchyNamesFromExportedJsonExt=function(t){return e.CustomHierarchyRepository.getHierarchyNamesFromExportedJson(t)};e.CustomHierarchyRepository.prototype.getHierarchyNamesUsedInQueryModel=function(t){let n=e.XHashSetOfString.create();this.addHierarchyNamesUsedByDimensions(t.getRowsAxis().getDimensions(),n);this.addHierarchyNamesUsedByDimensions(t.getColumnsAxis().getDimensions(),n);if(t.getMeasureDimension()!==null){e.XStream.of(t.getMeasureDimension().getExtendedStructureMembers()).filter(t=>t.getMemberType().isTypeOf(e.MemberType.RESTRICTED_MEASURE)).forEach(e=>{n.addAll(e.getFilter().getUsedHierarchyNames())})}n.addAll(t.getFilter().getEffectiveFilter().getUsedHierarchyNames());return n};e.CustomHierarchyRepository.prototype.importCustomHierarchyDefinitions=function(t){if(e.notNull(t)&&t.isList()){let n=t.asList();let r=e.QInAImportFactory.createForRepository(e.XWeakReferenceUtil.getHardRef(this.m_application),null);for(let e=0;e<n.size();e++){this.addCustomHierarchy(r.importCustomHierarchyDefinition(n.getStructureAt(e)))}e.XObjectExt.release(r)}};e.CustomHierarchyRepository.prototype.importCustomHierarchyDefinitionsFromJson=function(t){this.importCustomHierarchyDefinitions(e.JsonParserFactory.createFromSafeString(t))};e.CustomHierarchyRepository.prototype.releaseObject=function(){this.m_application=null;this.m_customHierarchies=e.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_customHierarchies);e.XObject.prototype.releaseObject.call(this)};e.CustomHierarchyRepository.prototype.removeCustomHierarchyDefinition=function(t){if(e.notNull(t)&&e.XStringUtils.isNotNullAndNotEmpty(t.getName())){this.m_customHierarchies.removeElement(this.getCustomHierarchyDefinitionByName(t.getName()))}};e.OlapEnvQueryManagerHandler=function(){};e.OlapEnvQueryManagerHandler.prototype=new e.XObject;e.OlapEnvQueryManagerHandler.prototype._ff_c="OlapEnvQueryManagerHandler";e.OlapEnvQueryManagerHandler.create=function(t){let n=new e.OlapEnvQueryManagerHandler;n.setupQueryManagerHandler(t);return n};e.OlapEnvQueryManagerHandler.prototype.m_identifier=null;e.OlapEnvQueryManagerHandler.prototype.m_listener=null;e.OlapEnvQueryManagerHandler.prototype.m_olapEnv=null;e.OlapEnvQueryManagerHandler.prototype.m_queryManagers=null;e.OlapEnvQueryManagerHandler.prototype.createQueryManagerWithMicroCube=function(t,n){let r=e.QueryServiceConfig.createWithMicroCube(this.getOlapEnv().getApplication(),n,t);let i=r.getQueryManagerBasedOnMicroCube();this.m_queryManagers.put(i.getInstanceId(),i);return i};e.OlapEnvQueryManagerHandler.prototype.getOlapEnv=function(){return e.XWeakReferenceUtil.getHardRef(this.m_olapEnv)};e.OlapEnvQueryManagerHandler.prototype.onQueryManagerCreated=function(t,n,r){let i=r;let a=i.getString();if(t.isValid()){this.m_queryManagers.put(n.getInstanceId(),n)}let o=this.m_listener.remove(a);let l=this.m_identifier.remove(a);if(e.notNull(o)){o.onQueryManagerCreated(t,n,l)}};e.OlapEnvQueryManagerHandler.prototype.processQueryManagerCreationWithBlendingDefinition=function(t,n,r,i){let a=e.QueryServiceConfig.createWithBlendingDefinition(this.getOlapEnv().getApplication(),i);let o=e.XGuid.getGuid();this.m_listener.put(o,n);this.m_identifier.put(o,r);return a.processQueryManagerCreation(t,this,e.XStringValue.create(o))};e.OlapEnvQueryManagerHandler.prototype.processQueryManagerCreationWithDataSourceName=function(t,n,r,i,a){let o=e.QueryServiceConfig.createWithDataSourceName(this.getOlapEnv().getApplication(),i,a);let l=e.XGuid.getGuid();this.m_listener.put(l,n);this.m_identifier.put(l,r);return o.processQueryManagerCreation(t,this,e.XStringValue.create(l))};e.OlapEnvQueryManagerHandler.prototype.releaseObject=function(){this.m_olapEnv=e.XObjectExt.release(this.m_olapEnv);this.m_queryManagers=e.XObjectExt.release(this.m_queryManagers);this.m_listener=e.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_listener);this.m_identifier=e.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_identifier);e.XObject.prototype.releaseObject.call(this)};e.OlapEnvQueryManagerHandler.prototype.setupQueryManagerHandler=function(t){this.m_olapEnv=e.XWeakReferenceUtil.getWeakRef(t);this.m_queryManagers=e.XWeakMap.create();this.m_listener=e.XHashMapByString.create();this.m_identifier=e.XHashMapByString.create()};e.OlapEnvironmentFactoryImpl=function(){};e.OlapEnvironmentFactoryImpl.prototype=new e.OlapEnvironmentFactory;e.OlapEnvironmentFactoryImpl.prototype._ff_c="OlapEnvironmentFactoryImpl";e.OlapEnvironmentFactoryImpl.staticSetupImpl=function(){let t=new e.OlapEnvironmentFactoryImpl;e.OlapEnvironmentFactory.registerFactory(t)};e.OlapEnvironmentFactoryImpl.prototype.newOlapEnvironmentInstance=function(t){return e.OlapEnvironment.create(t)};e.QFactoryImpl=function(){};e.QFactoryImpl.prototype=new e.XObject;e.QFactoryImpl.prototype._ff_c="QFactoryImpl";e.QFactoryImpl.create=function(){return new e.QFactoryImpl};e.QFactoryImpl.setNameTextAndAliasOnMeasure=function(t,n,r,i,a){a.setName(n);a.setText(r);if(e.notNull(t)&&t.getPlaceholderIds().size()>0){a.setAliasName(i)}return a};e.QFactoryImpl.prototype.createNewAggregationLevel=function(t){let n=e.RegistrationService.getInstance();let r=n.getFirstReference(e.OlapApiModule.AGGREGATION_LEVEL_FACTORY,null);if(e.isNull(r)){e.noSupport()}let i=r.newInstance(this);return i.createIAggregationLevel(t)};e.QFactoryImpl.prototype.createTupleFilterFromDataSource=function(t){return e.QFilterTupleFromDataSource._create(t,null)};e.QFactoryImpl.prototype.newAggregationLevelExt=function(e,t){return this.createNewAggregationLevel(t)};e.QFactoryImpl.prototype.newAttributeContainer=function(t,n){return e.QAttributeContainer.create(t,n)};e.QFactoryImpl.prototype.newBlendableMeasureSort=function(t){return e.BlendableMeasureMemberSort.createBlendableMeasureSort(t)};e.QFactoryImpl.prototype.newBlendingDefinition=function(){return e.BlendingDefinition.create()};e.QFactoryImpl.prototype.newCacheKey=function(t,n,r,i,a,o,l,s){return e.QCacheKey.createExt(t,n,r,i,a,o,l,s)};e.QFactoryImpl.prototype.newCacheKeyByContext=function(t){return e.QCacheKey.createByContext(t)};e.QFactoryImpl.prototype.newCacheKeyForField=function(t,n,r){return e.QCacheKey.createByContextForField(t,n,r)};e.QFactoryImpl.prototype.newCacheKeyWithDataSource=function(t,n,r,i,a,o,l,s){let u=e.QDataSource.create();u.setFullQualifiedName(r);let p=u.getCacheKeyName();let g=e.QCacheKey.createExt(t,n,p,i,a,o,l,s);let c=t.getOlapEnv();let y=c.getCubeContainer(g);if(y.getDataSource()===null){y.setDataSource(u)}return g};e.QFactoryImpl.prototype.newCanonicalDate=function(t,n,r){return e.QCanonicalDate.create(t,n,null,r)};e.QFactoryImpl.prototype.newCanonicalDateContext=function(t,n,r){return e.QCanonicalDateContext.create(t,n,r)};e.QFactoryImpl.prototype.newCanonicalDateWithTimestamp=function(t,n,r){return e.QCanonicalDate.create(t,0,n,r)};e.QFactoryImpl.prototype.newCapabilitiesDecorator=function(t){return e.QCapabilitiesDecorator.create(t)};e.QFactoryImpl.prototype.newCellContext=function(t,n){let r=null;if(e.notNull(t)&&t.getQueryModel()!==null){r=t.getQueryModel().getCellContextManager()}return e.QCellContext._create(t,n,r)};e.QFactoryImpl.prototype.newCellIndexInfo=function(){return e.RsCellIndexInfo.create()};e.QFactoryImpl.prototype.newCellValueOperand=function(t,n){return e.QFilterCellValueOperand.createWithExpression(t,n,null)};e.QFactoryImpl.prototype.newChartStyle=function(){return e.QChartStyle.create(null,null)};e.QFactoryImpl.prototype.newClustering=function(t,n){if(t===e.ClusterAlgorithm.GRID){return e.ClusteringGrid.create(n)}if(t===e.ClusterAlgorithm.DB_SCAN){return e.ClusteringDbScan.create(n)}if(t===e.ClusterAlgorithm.K_MEANS){return e.ClusteringKmeans.create(n)}return null};e.QFactoryImpl.prototype.newCustomHierarchyDefinition=function(t,n){return e.QCustomHierarchyDefinition.create(t,n)};e.QFactoryImpl.prototype.newCustomVariableConfig=function(t){return e.QCustomVariableConfig.createConfig(t)};e.QFactoryImpl.prototype.newDataSource=function(t){return e.QDataSource.createWithContext(t)};e.QFactoryImpl.prototype.newDimensionElement=function(t,n,r){return e.QSelectValue._createDimensionElement2(t.getContext(),t,n,r)};e.QFactoryImpl.prototype.newDimensionElementWithContext=function(t,n,r,i){return e.QSelectValue._createDimensionElement2(t,n,r,i)};e.QFactoryImpl.prototype.newDimensionElementWithMemberType=function(t,n,r,i){return e.QSelectValue._createDimensionElementWithMemberType(t,n,r,i)};e.QFactoryImpl.prototype.newDimensionFromType=function(t,n,r){if(e.isNull(n)){return e.QDimension._create(t,r)}let i=n.getName();let a=n.getDimensionType();let o;if(a===e.DimensionType.CALCULATED_DIMENSION){o=e.QCalculatedDimension._createCalculatedDimension(t,r,i)}else if(a===e.DimensionType.FORMULA_CALCULATED_DIMENSION){o=this.newFormulaCalculatedDimension(t,i);o.setParent(r)}else if(a===e.DimensionType.MEASURE_BASED_FILTER_CALCULATED_DIMENSION){o=this.newMeasureBasedFilterCalculatedDimension(t,i);o.setParent(r)}else if(a===e.DimensionType.PARETO_RANK_FILTER_CALCULATED_DIMENSION){o=this.newParetoRankFilterCalculatedDimension(t,i);o.setParent(r)}else if(a===e.DimensionType.FILTER_ACROSS_MODELS_CALCULATED_DIMENSION){let e=n.getQueryModel().getContext();o=this.newFilterAcrossModelsCalculatedDimension(e,i);o.setParent(r)}else{o=e.QDimension._create(t,r)}return o};e.QFactoryImpl.prototype.newDimensionLinkKey=function(t,n,r,i){return e.QDimensionLinkKey.createLinkKey(t,n,r,i)};e.QFactoryImpl.prototype.newDimensionLinkKey2=function(t,n,r,i,a){return e.QDimensionLinkKey.createLinkKeyExt(t,n,r,i,a)};e.QFactoryImpl.prototype.newDimensionLinkPart=function(t,n,r,i){return e.QDimensionLinkPart.createDimensionLinkPart(t,n,r,i)};e.QFactoryImpl.prototype.newDimensionMemberFromTupleElement=function(t){let n;let r=t.getDimensionAtCurrentPositionFromQueryModel();let i=t.getRsDimensionAtCurrentPosition();if(e.isNull(r)){if(i.getDimensionType().isTypeOf(e.DimensionType.ABSTRACT_STRUCTURE)){n=e.QStructureMember.createStructureMember(i.getContext(),null,e.MemberType.MEASURE)}else{n=e.QDimensionMember.createDimensionMember(i.getContext(),null)}}else{if(r.isMeasureStructure()){n=e.QStructureMember.createStructureMember(r.getContext(),r,e.MemberType.MEASURE)}else{n=e.QDimensionMember.createDimensionMember(r.getContext(),r)}}n.setType(t.getDimensionMemberType());n.setName(t.getDimensionMemberName());n.setDimensionMemberNameValueException(t.getDimensionMemberNameValueException());let a=t.getFieldValueList();let o=a.size();for(let t=0;t<o;t++){let r=a.get(t);let i=r.createFieldValueFromCurrentPosition();i.setDimensionMember(n);n.addFieldValue(i);if(r.getUdhKey()!==null&&i.getField()!==null&&i.getField().getPresentationType()===e.PresentationType.UDH_KEY){n.setUdhKey(r.getUdhKey().clone())}}if(e.notNull(r)){let t=i.isHierarchyActive()?r.getHierarchyTextField():r.getFlatTextField();let a=n.getFieldValue(t);if(e.notNull(a)){let t=a.getFormattedValue();let i=r.getDimensionType();if(i===e.DimensionType.ACCOUNT||i===e.DimensionType.MEASURE_STRUCTURE||i===e.DimensionType.SECONDARY_STRUCTURE){let a=r.getStructureMember(n.getName());if(e.notNull(a)){if(i===e.DimensionType.MEASURE_STRUCTURE&&(e.XString.isEqual(n.getName(),e.CurrencyConstants.DEFAULT_CURRENCY)||e.XString.isEqual(n.getName(),e.CurrencyConstants.LOCAL_CURRENCY))){t=a.getText()}let r=a.getOverrideText();if(e.notNull(r)){n.setOverrideText(r)}}}n.setText(t)}}return n};e.QFactoryImpl.prototype.newDimensionSelector=function(t){return e.QDimensionSelector.create(t)};e.QFactoryImpl.prototype.newDimensionValueHelpWizard=function(t){return e.QValueHelpWizard.createDimensionValueHelpWizard(t)};e.QFactoryImpl.prototype.newDocumentIdManager=function(t){return e.RsDocumentIdManager.create(t)};e.QFactoryImpl.prototype.newDrillManager=function(t){let n=null;if(e.notNull(t)){n=t.getQueryModel()}return e.QDrillManager.create(t,n)};e.QFactoryImpl.prototype.newDrillPathElementExt=function(t){return e.QDrillPathElement._create(t)};e.QFactoryImpl.prototype.newExceptionAggregationMeasure=function(t,n,r,i,a){let o=e.QExceptionAggregationMeasure._createExceptionAggregationMeasure(t,n);return e.QFactoryImpl.setNameTextAndAliasOnMeasure(n,r,i,a,o)};e.QFactoryImpl.prototype.newField=function(t,n){let r=e.QField._createField(t,null,null);r.setName(n);return r};e.QFactoryImpl.prototype.newFieldContainer=function(t,n){return e.QFieldContainer.create(t,n)};e.QFactoryImpl.prototype.newFieldFromType=function(t,n,r,i){let a=n.getDimensionType();if(a===e.DimensionType.CALCULATED_DIMENSION){return e.QFieldCalcDim._createFieldCalcDim(t,n,r,i)}else if(a.isTypeOf(e.DimensionType.FORMULA_CALCULATED_DIMENSION)){return e.QFieldFormulaCalc._createFormulaCalcField(t,n,r,i)}return e.QField._createField(t,n,r)};e.QFactoryImpl.prototype.newFieldValue=function(t,n,r,i){let a=e.QFieldValue.create(t.getContext(),t,null);a.setValueException(n);a.setValue(r);a.setFormattedValue(i);return a};e.QFactoryImpl.prototype.newFieldValueEmpty=function(t,n,r){let i=e.QFieldValue.create(t.getContext(),t,null);i.setValueException(n);i.setFormattedValue(r);return i};e.QFactoryImpl.prototype.newFilterAcrossModels=function(t,n){return e.QFilterAcrossModels.createFilterAcrossModels(t,n)};e.QFactoryImpl.prototype.newFilterAcrossModelsCalculatedDimension=function(t,n){return e.QFilterAcrossModelsCalculatedDimension.createFilterAcrossModelsCalculatedDimension(t,n)};e.QFactoryImpl.prototype.newFilterAnd=function(t,n){return e.QFilterAnd._create(t,n)};e.QFactoryImpl.prototype.newFilterAndWithoutContext=function(t,n,r,i){return e.QFilterAnd._createWithParams(t,n,r,i)};e.QFactoryImpl.prototype.newFilterAsymmetricVisibility=function(t,n,r){return e.QFilterAsymmetricVisibility.createFilterAsymmetricVisibility(t,n,r)};e.QFactoryImpl.prototype.newFilterCapabilitiesForVariable=function(t,n){return e.QFilterCapabilityList.createFilterCapabilitiesForVariable(t,n)};e.QFactoryImpl.prototype.newFilterCapability=function(t,n,r,i){if(i===e.OlapComponentType.FILTER_CAPABILITY){return e.QFilterCapability._createFilterCapability(t,n,r)}return e.QFilterCapabilityGroup._createFilterCapabilityGroup(t,n,r)};e.QFactoryImpl.prototype.newFilterCartesianElement=function(t){return e.QFilterOperation._create(t,null,null)};e.QFactoryImpl.prototype.newFilterCartesianList=function(t,n){return e.QFilterCartesianList._createMd(t,n,null,null)};e.QFactoryImpl.prototype.newFilterCartesianListForDimensionMemberVariable=function(t,n,r,i){return e.QFilterCartesianList._createMd(t,n,r,i)};e.QFactoryImpl.prototype.newFilterCartesianListWithoutContext=function(t,n,r,i,a){let o=e.QFilterCartesianProduct._createWithoutContext();return e.QFilterCartesianList._createWithParams(o,t,n,r,i,a)};e.QFactoryImpl.prototype.newFilterCartesianProduct=function(t,n){return e.QFilterCartesianProduct._create(t,n)};e.QFactoryImpl.prototype.newFilterConvertedTimeCartesianList=function(t,n){return e.QFilterConvertedTimeCartesianList._create(t,n,null,null)};e.QFactoryImpl.prototype.newFilterDynamicTimeRegularRange=function(t,n){return e.QFilterDynamicTimeRegularRange.createFilterDynamicTimeRegularRange(t,n)};e.QFactoryImpl.prototype.newFilterDynamicTimeToDateRange=function(t,n){return e.QFilterDynamicTimeToDateRange.createFilterDynamicTimeToDateRange(t,n)};e.QFactoryImpl.prototype.newFilterExpression=function(t,n){return e.QFilterExpression.create(t,n)};e.QFactoryImpl.prototype.newFilterFixedTimeRange=function(t,n){return e.QFilterFixedTimeRange.createFilterFixedTimeRange(t,n)};e.QFactoryImpl.prototype.newFilterForQueryModel=function(t){return e.QFilter.createWithModelComponent(t,t)};e.QFactoryImpl.prototype.newFilterMeasureBased=function(t,n){return e.QFilterMeasureBased.createFilterMeasureBased(t,n)};e.QFactoryImpl.prototype.newFilterNot=function(t,n){return e.QFilterNot._create(t,n)};e.QFactoryImpl.prototype.newFilterOperation=function(t,n){return e.QFilterOperation._create(t,n,null)};e.QFactoryImpl.prototype.newFilterOperationDateRange=function(t,n){return e.QFilterDateRange.create(t,n)};e.QFactoryImpl.prototype.newFilterOr=function(t,n){return e.QFilterOr._create(t,n)};e.QFactoryImpl.prototype.newFilterTupleExt=function(t){return e.QFilterTuple._create(t,null)};e.QFactoryImpl.prototype.newFilterValueBag=function(t,n,r){return e.QFilterValueBag._create(t,n,r)};e.QFactoryImpl.prototype.newFilterVirtualDatasource=function(t){return e.QFilterVirtualDatasource._create(t,null)};e.QFactoryImpl.prototype.newFormulaAttributeExt=function(t){return e.QFormulaItemAttribute._createMember(t,null)};e.QFactoryImpl.prototype.newFormulaCalculatedDimension=function(t,n){return e.QFormulaCalculatedDimension._createFormulaCalculatedDimension(t,n)};e.QFactoryImpl.prototype.newFormulaConstant=function(t){return e.QFormulaItemConstant._createConstant(t,null)};e.QFactoryImpl.prototype.newFormulaException=function(t,n,r){let i=null;if(e.notNull(t)){i=t.getQueryModel()}return e.QFormulaException.createFormulaException(t,i,n,r)};e.QFactoryImpl.prototype.newFormulaFunction=function(t){return e.QFormulaItemFunction._createFunction(t,null)};e.QFactoryImpl.prototype.newFormulaInverseFormula=function(t){return e.QFormulaInverseFormula.createInverseFormula(t,null,null,null,null)};e.QFactoryImpl.prototype.newFormulaIteration=function(t){return e.QFormulaIteration._createFormulaIteration(t,null)};e.QFactoryImpl.prototype.newFormulaIterationDimension=function(t){return e.QFormulaIterationDimension._createFormulaIterationDimension(t,null)};e.QFactoryImpl.prototype.newFormulaMeasure=function(t,n,r,i,a){let o=e.QFormulaMeasure._createFormulaMeasure(t,n);return e.QFactoryImpl.setNameTextAndAliasOnMeasure(n,r,i,a,o)};e.QFactoryImpl.prototype.newFormulaMember=function(t){return e.QFormulaItemMember._createMember(t,null)};e.QFactoryImpl.prototype.newFormulaOperationExt=function(t){return e.QFormulaItemOperation._createOperation(t,null)};e.QFactoryImpl.prototype.newFunctionalVariableValue=function(t){return e.QFunctionalVariableValue.createFunctionalVariableValue(t)};e.QFactoryImpl.prototype.newHierarchyCatalogManager=function(t,n,r,i){return e.HierarchyCatalogManager.create(t,n,r,i)};e.QFactoryImpl.prototype.newHierarchyCatalogResult=function(){return e.HierarchyCatalogResult.create()};e.QFactoryImpl.prototype.newHierarchyManager=function(t,n){return e.QHierarchyManager.create(t,n)};e.QFactoryImpl.prototype.newKeyRef=function(t,n,r){return e.QKeyRef.create(t,n,r)};e.QFactoryImpl.prototype.newKeyRefStorage=function(t,n){return e.QKeyRefStorage.create(n)};e.QFactoryImpl.prototype.newKeyRefStoreContext=function(t,n){return e.QKeyRefStoreContext.create(t,n,null)};e.QFactoryImpl.prototype.newKeyRefStoreContextWithCapabilities=function(t,n,r){return e.QKeyRefStoreContext.create(t,n,r)};e.QFactoryImpl.prototype.newLovProcess=function(t,n){return e.LovProcess.create(t,n)};e.QFactoryImpl.prototype.newMeasureBasedFilterCalculatedDimension=function(t,n){return e.QMeasureBasedFilterCalculatedDimension._createMeasureBasedFilterCalculatedDimension(t,n)};e.QFactoryImpl.prototype.newMeasureHelpMetadataSelector=function(){return e.QMeasureHelpMetadataSelector.createMeasureHelpMetadataSelector()};e.QFactoryImpl.prototype.newMeasureHelpNode=function(t,n,r){return e.QMeasureHelpNode.createMeasureHelpNode(t,n,r)};e.QFactoryImpl.prototype.newMemberNavigation=function(t){let n=new e.QMemberNavigation;n.setMemberFunction(t);return n};e.QFactoryImpl.prototype.newModellingCurrencyTranslationManager=function(t,n,r,i){return e.QCurrencyTranslationManager.createForModelling(t,n,r,i)};e.QFactoryImpl.prototype.newNavigationParameterWithErrorAboveLevel=function(t){let n=e.QMemberNavigationParameter.create();n.setErrorAboveLevel(t);return n};e.QFactoryImpl.prototype.newNavigationParameterWithIntegerConstant=function(t){let n=e.QMemberNavigationParameter.create();n.setConstantValue(e.XIntegerValue.create(t));return n};e.QFactoryImpl.prototype.newNavigationParameterWithLevelLiteral=function(t){let n=e.QMemberNavigationParameter.create();n.setLevelValue(e.XStringValue.create(t));return n};e.QFactoryImpl.prototype.newNavigationParameterWithLevelNumber=function(t){let n=e.QMemberNavigationParameter.create();n.setLevelValue(e.XIntegerValue.create(t));return n};e.QFactoryImpl.prototype.newNavigationParameterWithMemberName=function(t){let n=e.QMemberNavigationParameter.create();n.setMemberValue(t);return n};e.QFactoryImpl.prototype.newNavigationParameterWithNoValuesAboveLevel=function(t){let n=e.QMemberNavigationParameter.create();n.setNoValuesAboveLevel(t);return n};e.QFactoryImpl.prototype.newNavigationParameterWithRange=function(t,n,r){let i=e.QMemberNavigationParameter.create();i.setRange(e.XStringValue.create(t),n,r);return i};e.QFactoryImpl.prototype.newNavigationParameterWithShift=function(t,n){let r=e.QMemberNavigationParameter.create();r.setShift(e.XStringValue.create(t),e.XIntegerValue.create(n));return r};e.QFactoryImpl.prototype.newNavigationParameterWithStringConstant=function(t){let n=e.QMemberNavigationParameter.create();n.setConstantValue(e.XStringValue.create(t));return n};e.QFactoryImpl.prototype.newParetoMeasure=function(t,n,r,i,a){let o=e.QParetoMeasure._createParetoMeasure(t,n);return e.QFactoryImpl.setNameTextAndAliasOnMeasure(n,r,i,a,o)};e.QFactoryImpl.prototype.newParetoRankFilterCalculatedDimension=function(t,n){return e.QParetoRankFilterCalculatedDimension.createParetoRankFilterCalculatedDimension(t,n)};e.QFactoryImpl.prototype.newPersistedPlaceholderTagCalculation=function(t,n,r){return e.QPersistedPlaceholderTagSelection.create(t,n,r)};e.QFactoryImpl.prototype.newPersistedPlaceholderTagCalculationFromPlaceholderString=function(t){return e.QPersistedPlaceholderTagSelection.createFromPlaceholderString(t)};e.QFactoryImpl.prototype.newPersistedPlaceholderTagFilter=function(t,n,r,i){return e.QPersistedPlaceholderTagFilter.create(t,n,r,i)};e.QFactoryImpl.prototype.newPersistedPlaceholderTagFilterFromPlaceholderString=function(t){return e.QPersistedPlaceholderTagFilter.createFromPlaceholderString(t)};e.QFactoryImpl.prototype.newPersistedPlaceholderTagSelection=function(t,n,r){return e.QPersistedPlaceholderTagSelection.create(t,n,r)};e.QFactoryImpl.prototype.newPersistedPlaceholderTagSelectionFromPlaceholderString=function(t){return e.QPersistedPlaceholderTagSelection.createFromPlaceholderString(t)};e.QFactoryImpl.prototype.newQueryServiceConfig=function(t){return e.QueryServiceConfigImpl._create(t)};e.QFactoryImpl.prototype.newRankInfo=function(t,n,r){return e.QRankInfo.create(t,n,r)};e.QFactoryImpl.prototype.newRankSettings=function(){return e.QRankSettings.create()};e.QFactoryImpl.prototype.newReadModeManager=function(t){return e.QDimensionReadModeManager._create(t)};e.QFactoryImpl.prototype.newReflectionCommand=function(t,n,r,i){return e.QGenericCmd.createGenericCmd(t,n,r,i)};e.QFactoryImpl.prototype.newRequestSettings=function(t,n,r){return e.QRequestSettings.create(t,n,r)};e.QFactoryImpl.prototype.newRestrictedMeasure=function(t,n,r,i,a){let o=e.QRestrictedMeasure._createRestrictedMeasure(t,n);return e.QFactoryImpl.setNameTextAndAliasOnMeasure(n,r,i,a,o)};e.QFactoryImpl.prototype.newResultStructureController=function(t,n,r){return e.QResultStructureController._create(t,n,r)};e.QFactoryImpl.prototype.newRsDefStructureMemberProperties=function(t,n,r,i,a){return e.RsDefStructureMemberProperties.create(t,n,r,i,a)};e.QFactoryImpl.prototype.newRunningTotalMeasure=function(t,n,r,i,a){let o=e.QRunningTotalMeasure._createRunningTotalMeasure(t,n);return e.QFactoryImpl.setNameTextAndAliasOnMeasure(n,r,i,a,o)};e.QFactoryImpl.prototype.newRuntimeQuery=function(t,n){return e.RuntimeQuery.create(t,n)};e.QFactoryImpl.prototype.newTableDefinition=function(){return e.QTableDefinition.create(null,null,null,e.ProtocolBindingType.SAC_TABLE_GRID,e.SemanticBindingType.TABLE)};e.QFactoryImpl.prototype.newTimeConvertedFAMSelectionPlaceholder=function(t,n,r,i,a,o,l){return e.QTimeConvertedFAMSelectionPlaceholder.createTimeConvertedFAMSelectionPlaceholder(t,n,r,i,a,o,l)};e.QFactoryImpl.prototype.newTimeConvertedFAMSelectionPlaceholderFromPlaceholderString=function(t){return e.QTimeConvertedFAMSelectionPlaceholder.createTimeConvertedFAMSelectionPlaceholderFromPlaceholderString(t)};e.QFactoryImpl.prototype.newTimeOperation=function(t,n,r,i,a,o){let l=e.QTimeOperation.create(t,n);l.setDimensionName(r);l.setFunction(i);l.setGranularity(a);l.setPeriod(o);return l};e.QFactoryImpl.prototype.newTimeSelectionPlaceholderFromPlaceholderString=function(t){return e.QTimeSelectionPlaceholder.createTimeSelectionPlaceholderFromPlaceholderString(t)};e.QFactoryImpl.prototype.newTimeSelectionPlaceholderToDateFromPlaceholderString=function(t){return e.QTimeSelectionPlaceholderToDate.createTimeSelectionPlaceholderToDateFromPlaceholderString(t)};e.QFactoryImpl.prototype.newUniversalDisplayHierarchies=function(t){if(e.notNull(t)){let n=t.getQueryModel();if(n.getModelCapabilities().supportsUniversalDisplayHierarchies()){return e.QUniversalDisplayHierarchies.create(t,n)}}return null};e.QFactoryImpl.prototype.newValueHelpListenerDecorator=function(t){return e.ValueHelpListenerDecorator.create(t)};e.QFactoryImpl.prototype.newValueHelpNode=function(t,n,r,i,a){return e.QValueHelpNode.create(t,n,r,i,a)};e.QFactoryImpl.prototype.newValueHelpVarDimMember=function(t,n){return e.QValueHelpVarDimMember.create(t,n)};e.QFactoryImpl.prototype.newVariable=function(t,n,r){let i=r.getVariableType();let a=n;let o=r.getName();let l=r.getText();if(i===e.VariableType.DIMENSION_MEMBER_VARIABLE){return e.QDimensionMemberVariable.createDimensionMemberVariable(t,a,o,l)}else if(i===e.VariableType.HIERARCHY_NAME_VARIABLE){return e.QHierarchyNameVariable.createDimensionHierarchyVariable(t,a,o,l)}else if(i===e.VariableType.HIERARCHY_NODE_VARIABLE){return e.QHierarchyNodeVariable.createHierarchyNodeVariable(t,a,o,l)}else if(i===e.VariableType.SIMPLE_TYPE_VARIABLE){return e.QSimpleTypeVariable.createSimpleTypeVariable(t,a,r.getValueType(),o,l,r.supportsMultipleValues())}else if(i===e.VariableType.TEXT_VARIABLE){return e.QSimpleTypeVariable.createTextVariable(t,a,o,l,r.supportsMultipleValues())}else if(i===e.VariableType.FORMULA_VARIABLE){return e.QSimpleTypeVariable.createFormulaVariable(t,a,o,l,r.supportsMultipleValues())}else if(i===e.VariableType.OPTION_LIST_VARIABLE){return e.QSimpleTypeVariable.createOptionListVariable(t,a,o,l,r.supportsMultipleValues())}else if(i===e.VariableType.HIERARCHY_VARIABLE){return e.QSimpleTypeVariable.createHierarchyVariable(t,a,o,l,r.supportsMultipleValues())}else if(i===e.VariableType.FUNCTIONAL_VARIABLE){return e.QFunctionalVariable.createFunctionalVariable(t,a,o,l)}else{throw e.XException.createRuntimeException(e.XStringUtils.concatenate3("Unexpected variable type '",i.getName(),"'!"))}};e.QFactoryImpl.prototype.newVariableValue=function(t){return e.QVariableValue.create(t)};e.QFactoryImpl.prototype.newVariableValueHelpWizard=function(t){return e.QValueHelpWizard.createVariableValueHelpWizard(t)};e.QFactoryImpl.prototype.newVariableVariant=function(t,n,r,i){return e.QVariableVariant.createVariantWithScope(t,n,r,i)};e.QFactoryImpl.prototype.newVarianceMeasure=function(t,n,r,i,a){let o=e.QVarianceMeasure._createVarianceMeasure(t,n);return e.QFactoryImpl.setNameTextAndAliasOnMeasure(n,r,i,a,o)};e.QFactoryImpl.prototype.newVizDef=function(t){return e.QVizDef.create(t)};e.QFactoryImpl.prototype.newWindowFunction=function(t){return e.QWindowFunction._createWindowFunction(t)};e.QFactoryImpl.prototype.newXVariable=function(t,n,r,i){let a;if(t.isTypeOf(e.VariableType.DIMENSION_MEMBER_VARIABLE)){a=e.QDimensionMemberVariable.createDimensionMemberVariable(null,null,r,r)}else if(t.isTypeOf(e.VariableType.SIMPLE_TYPE_VARIABLE)){let t=e.XCollectionUtils.hasElements(i)?i.get(0).getValueType():e.XValueType.STRING;a=e.QSimpleTypeVariable.createSimpleTypeVariable(null,null,t,r,r,true)}else{throw e.XException.createRuntimeException(e.XStringUtils.concatenate3("Unexpected variable type '",t.getName(),"'!"))}if(a.getVariableType().isTypeOf(e.VariableType.SIMPLE_TYPE_VARIABLE)){let e=a;e.setValues(i)}else if(a.getVariableType().isTypeOf(e.VariableType.DIMENSION_MEMBER_VARIABLE)){let t=a;let r=e.QFactory.createFilterCartesianListForDimensionMemberVariable(null,null,null,null);t.setMemberFilter(r);e.XObjectExt.assertFalse(e.XStringUtils.isNullOrEmpty(n));r.setFieldName(n);e.XStream.of(i).forEach(e=>{let t=r.addNewCartesianElement();t.getLow().setValue(e);t.setFieldName(n)})}return a};e.RuntimeQuery=function(){};e.RuntimeQuery.prototype=new e.XObject;e.RuntimeQuery.prototype._ff_c="RuntimeQuery";e.RuntimeQuery._getLanguage=function(t){if(e.isNull(t)){return null}return t.getSystemDescription().getLanguage()};e.RuntimeQuery._getSystemName=function(t,n){let r=e.InARuntimeUtils.getSystemNameFromRequest(n);if(e.isNull(r)&&e.notNull(t)){r=t.getSystemName()}return r};e.RuntimeQuery.create=function(t,n){let r=null;if(e.notNull(n)){r=n.getSession()}return e.RuntimeQuery.createExt(t,n,r)};e.RuntimeQuery.createExt=function(t,n,r){let i=null;if(e.notNull(t)&&t.hasElements()){let a=t.getStructureAt(t.size()-1);i=e.RuntimeQuery.createQuery(r,e.RuntimeQuery._getSystemName(n,a),null,a,e.RuntimeQuery._getLanguage(n));i.setupPreQueries(r,t,n,a)}return i};e.RuntimeQuery.createQuery=function(t,n,r,i,a){let o=new e.RuntimeQuery;o.m_preQueries=e.XList.create();o.m_mainQuery=r;e.InARuntimeUtils.setLanguage(i,a);o.m_queryforLocal=i;o.m_systemName=n;o.m_session=t;return o};e.RuntimeQuery.prototype.m_isProcessed=false;e.RuntimeQuery.prototype.m_mainQuery=null;e.RuntimeQuery.prototype.m_persistencyIdentifier=null;e.RuntimeQuery.prototype.m_preQueries=null;e.RuntimeQuery.prototype.m_queryForRemote=null;e.RuntimeQuery.prototype.m_queryforLocal=null;e.RuntimeQuery.prototype.m_session=null;e.RuntimeQuery.prototype.m_systemName=null;e.RuntimeQuery.prototype.m_validMapping=false;e.RuntimeQuery.prototype.generateBrowserBased=function(t){t.addInfo(e.ErrorCodes.OTHER_ERROR,e.XStringUtils.concatenate5("No valid system mapping is defined for '",this.m_systemName,"' and '",this.m_mainQuery.getSystemName(),"'. Defaulting to browser-based blending"));let n=e.InARuntimeUtils.getDataSourceFromRequest(this.m_queryforLocal);n.remove("System");this.m_queryForRemote=e.PrUtils.createDeepCopy(this.m_queryforLocal);let r=e.InARuntimeUtils.getRequestContext(this.m_queryForRemote);e.InARuntimeUtils.setPersistencyForRemote(r,null);let i=e.InARuntimeUtils.getHashableRequest(r);this.m_persistencyIdentifier=e.XSha1.createSHA1(i);n.putString("Type","SerializedData")};e.RuntimeQuery.prototype.generateRemoteQuery=function(t){let n=e.MessageManagerSimple.createMessageManager();if(!this.isRemotePreQuery()){n.addInfo(e.ErrorCodes.OTHER_ERROR,"Query is local, nothing to do");return e.ExtResult.create(null,n)}let r=t.getApplication().getSystemLandscape();let i=r.getSystemDescription(this.m_systemName);if(e.isNull(i)){n.addError(e.ErrorCodes.INVALID_SYSTEM,e.XStringUtils.concatenate3("No matching system for name '",this.m_systemName,"' is available"));return e.ExtResult.create(null,n)}let a=r.getSystemDescription(this.m_mainQuery.getSystemName());let o=a.getSystemMapping(this.m_systemName);if(e.isNull(o)||!a.isSystemMappingValid(i)){this.generateBrowserBased(n)}else{this.generateSdi(a,o)}this.m_isProcessed=true;return e.ExtResult.create(this.m_queryForRemote,n)};e.RuntimeQuery.prototype.generateSdi=function(t,n){this.m_validMapping=true;let r=e.InARuntimeUtils.getDataSourceFromRequest(this.m_queryforLocal);r.remove("System");this.m_queryForRemote=e.PrUtils.createDeepCopy(this.m_queryforLocal);let i=e.InARuntimeUtils.getRequestContext(this.m_queryForRemote);e.InARuntimeUtils.setPersistencyForRemote(i,n);let a=e.InARuntimeUtils.getHashableRequest(i);this.m_persistencyIdentifier=e.BlendingSource.createPersistenceIdentifierByRequest(this.m_session,a,t,null);e.InARuntimeUtils.setPersistencyIdentifier(i,this.m_persistencyIdentifier);e.InARuntimeUtils.setPersistencyForLocal(r,this.m_persistencyIdentifier,n)};e.RuntimeQuery.prototype.getMainQuery=function(){return this.m_mainQuery};e.RuntimeQuery.prototype.getPersistencyIdentifier=function(){return this.m_persistencyIdentifier};e.RuntimeQuery.prototype.getPreQueries=function(){return this.m_preQueries};e.RuntimeQuery.prototype.getPreQueryRequest=function(t,n){let r=t.size()-1;for(let i=0;i<r;i++){let r=t.getStructureAt(i);let a=e.InARuntimeUtils.getRequestContext(r);let o=e.InARuntimeUtils.getQueryNameFromContext(a);if(e.XString.isEqual(o,n)){return r}}return null};e.RuntimeQuery.prototype.getQueryForLocal=function(){return this.m_queryforLocal};e.RuntimeQuery.prototype.getSystemName=function(){return this.m_systemName};e.RuntimeQuery.prototype.isProcessed=function(){return this.m_isProcessed};e.RuntimeQuery.prototype.isRemotePreQuery=function(){if(e.isNull(this.m_mainQuery)){return false}return!e.XString.isEqual(this.m_systemName,this.m_mainQuery.getSystemName())};e.RuntimeQuery.prototype.isSdiRemote=function(){return this.isRemotePreQuery()&&this.m_validMapping};e.RuntimeQuery.prototype.releaseObject=function(){this.m_systemName=null;this.m_persistencyIdentifier=null;e.XObjectExt.release(this.m_preQueries);this.m_queryforLocal=null;this.m_queryForRemote=null;this.m_mainQuery=null;e.XObject.prototype.releaseObject.call(this)};e.RuntimeQuery.prototype.setBrowserBasedPersistency=function(t,n){let r=e.InARuntimeUtils.getDataSourceFromRequest(this.m_queryforLocal);if(e.notNull(r)){r.remove("SchemaName");r.remove("PackageName");r.remove("ObjectName");let e=r.putNewStructure("SerializedData");e.putString("Cube",t);e.putString("View",n)}};e.RuntimeQuery.prototype.setupPreQueries=function(t,n,r,i){let a=e.InARuntimeUtils.getDataSourceFromRequest(i);if(e.notNull(a)){let o=a.getListByKey("Sources");if(e.notNull(o)){let e=o.size();for(let i=0;i<e;i++){let e=o.getStructureAt(i);let a=e.getStructureByKey("DefiningContext");this.setupPreQueries(t,n,r,a)}}let l=e.InARuntimeUtils.getDimensionsListFromRequest(i);let s=l.size();let u=e.XHashSetOfString.create();for(let i=0;i<s;i++){let a=l.getStructureAt(i);let o=e.InARuntimeUtils.getObjectNameFromDimensionDataSource(a);if(e.isNull(o)||u.contains(o)){continue}u.add(o);let s=this.getPreQueryRequest(n,o);if(e.isNull(s)){continue}let p=e.RuntimeQuery.createQuery(t,e.RuntimeQuery._getSystemName(r,s),this,s,e.RuntimeQuery._getLanguage(r));p.setupPreQueries(t,n,r,s);this.m_preQueries.add(p)}}};e.ModelDimensionLinksManagerHelper=function(){};e.ModelDimensionLinksManagerHelper.prototype=new e.XObjectExt;e.ModelDimensionLinksManagerHelper.prototype._ff_c="ModelDimensionLinksManagerHelper";e.ModelDimensionLinksManagerHelper.findModelDimensionLinksByDatasetIds=function(t,n,r){let i=null;if(e.notNull(r)){let a=r.getIterator();while(a.hasNext()){let r=a.next();if(e.XString.isEqual(t,r.getFirstDatasetId())&&e.XString.isEqual(n,r.getSecondDatasetId())||e.XString.isEqual(n,r.getFirstDatasetId())&&e.XString.isEqual(t,r.getSecondDatasetId())){i=r;break}}}return i};e.QFilterAcrossModelsLovCacheManager=function(){};e.QFilterAcrossModelsLovCacheManager.prototype=new e.XObjectExt;e.QFilterAcrossModelsLovCacheManager.prototype._ff_c="QFilterAcrossModelsLovCacheManager";e.QFilterAcrossModelsLovCacheManager.create=function(){let t=new e.QFilterAcrossModelsLovCacheManager;t.m_resultSetCache=e.QCache.create(null);t.m_valueHelpCache=e.QCache.create(null);t.m_datasetIdToCacheKeys=e.XHashMapByString.create();return t};e.QFilterAcrossModelsLovCacheManager.prototype.m_datasetIdToCacheKeys=null;e.QFilterAcrossModelsLovCacheManager.prototype.m_resultSetCache=null;e.QFilterAcrossModelsLovCacheManager.prototype.m_valueHelpCache=null;e.QFilterAcrossModelsLovCacheManager.prototype.addDatasetIdCacheKey=function(t,n){if(e.notNull(t)){if(!this.m_datasetIdToCacheKeys.containsKey(t)){this.m_datasetIdToCacheKeys.put(t,e.XHashSetOfString.create())}this.m_datasetIdToCacheKeys.getByKey(t).add(n)}};e.QFilterAcrossModelsLovCacheManager.prototype.clearCache=function(){e.XObjectExt.release(this.m_resultSetCache);e.XObjectExt.release(this.m_valueHelpCache);this.m_datasetIdToCacheKeys=e.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_datasetIdToCacheKeys);this.m_resultSetCache=e.QCache.create(null);this.m_valueHelpCache=e.QCache.create(null);this.m_datasetIdToCacheKeys=e.XHashMapByString.create()};e.QFilterAcrossModelsLovCacheManager.prototype.clearCacheByDatasetId=function(t){let n=this.m_datasetIdToCacheKeys.getByKey(t);if(e.notNull(n)){let r=n.getIterator();while(r.hasNext()){let t=r.next();if(this.m_resultSetCache.containsKey(t)){e.XObjectExt.release(this.m_resultSetCache.remove(t))}if(this.m_valueHelpCache.containsKey(t)){e.XObjectExt.release(this.m_valueHelpCache.remove(t))}}e.XObjectExt.release(n);this.m_datasetIdToCacheKeys.remove(t)}};e.QFilterAcrossModelsLovCacheManager.prototype.containsResultSetEntry=function(e){return this.m_resultSetCache.containsKey(e)};e.QFilterAcrossModelsLovCacheManager.prototype.containsValueHelpEntry=function(e){return this.m_valueHelpCache.containsKey(e)};e.QFilterAcrossModelsLovCacheManager.prototype.getResultSetEntry=function(e){return this.m_resultSetCache.useEntry(e)};e.QFilterAcrossModelsLovCacheManager.prototype.getValueHelpEntry=function(e){return this.m_valueHelpCache.useEntry(e)};e.QFilterAcrossModelsLovCacheManager.prototype.onSynchronized=function(t,n,r){if(e.notNull(n)){let t=r;if(e.XString.isEqual(t.getFirstString(),"resultSet")){let e=n.getQueryManager();e.setActiveResultSetContainer(null)}}};e.QFilterAcrossModelsLovCacheManager.prototype.putResultSetEntry=function(t,n){n.attachListener(this,e.ListenerType.SYNC_LISTENER,e.XPairOfString.create("resultSet",t));this.m_resultSetCache.put(t,n);this.addDatasetIdCacheKey(n.getDatasetId(),t)};e.QFilterAcrossModelsLovCacheManager.prototype.putValueHelpEntry=function(t,n){n.attachListener(this,e.ListenerType.SYNC_LISTENER,e.XPairOfString.create("valueHelp",t));this.m_valueHelpCache.put(t,n);this.addDatasetIdCacheKey(n.getDatasetId(),t)};e.QFilterAcrossModelsLovCacheManager.prototype.releaseObject=function(){this.m_resultSetCache=e.XObjectExt.release(this.m_resultSetCache);this.m_valueHelpCache=e.XObjectExt.release(this.m_valueHelpCache);this.m_datasetIdToCacheKeys=e.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_datasetIdToCacheKeys);e.XObjectExt.prototype.releaseObject.call(this)};e.QFilterAcrossModelsLovCacheManager.prototype.removeResultSetEntry=function(e){this.m_resultSetCache.freeEntry(e)};e.QFilterAcrossModelsLovCacheManager.prototype.removeValueHelpEntry=function(e){this.m_valueHelpCache.freeEntry(e)};e.ModCounterState=function(){};e.ModCounterState.prototype=new e.XObjectExt;e.ModCounterState.prototype._ff_c="ModCounterState";e.ModCounterState.create=function(t){let n=new e.ModCounterState;n.m_queryManager=t;return n};e.ModCounterState.prototype.m_queryManager=null;e.ModCounterState.prototype.getAxisModCounter=function(e){let t=this.getLeafQueryManagers().getIterator();let n=0;while(t.hasNext()){let r=t.next();n=n+r.getQueryModel().getAxis(e).getModCounter()}return n};e.ModCounterState.prototype.getCurrencyTranslationModCounter=function(){let e=this.getLeafQueryManagers().getIterator();let t=0;while(e.hasNext()){let n=e.next();if(n.getQueryModel().getCurrencyTranslationManager()!==null){t=t+n.getQueryModel().getCurrencyTranslationManager().getModCounter()}}return t};e.ModCounterState.prototype.getDimensionInDrillModCounters=function(){let t=e.XList.create();let n=this.getLeafQueryManagers().getIterator();while(n.hasNext()){let r=n.next();let i=e.XList.create();i.addAll(r.getQueryModel().getAxis(e.AxisType.ROWS));i.addAll(r.getQueryModel().getAxis(e.AxisType.COLUMNS));e.XCollectionUtils.forEach(i,n=>{if(!n.getTagging().containsKey(e.QTransientConstants.TAG_TRANSIENT_ROWS_AXIS)){t.add(e.XPair.create(n,e.XIntegerValue.create(n.getModCounter())))}})}return t};e.ModCounterState.prototype.getDrillManagerModCounter=function(){let t=this.getLeafQueryManagers().getIterator();let n=0;while(t.hasNext()){let e=t.next();n=n+e.getDrillManager().getModCounter()}if(this.m_queryManager.getOlapComponentType()===e.OlapComponentType.BLENDABLE_QUERY_MANAGER){n=n+this.m_queryManager.getBlendedDrillOperations().getModCounter();n=n+this.m_queryManager.getBlendedZoomDrills().getModCounter()}return n};e.ModCounterState.prototype.getFilterModCounter=function(){let e=this.getLeafQueryManagers().getIterator();let t=0;while(e.hasNext()){let n=e.next();t=t+n.getQueryModel().getFilter().getModCounter()}return t};e.ModCounterState.prototype.getLeafQueryManagers=function(){let t=e.XList.create();if(this.m_queryManager.getOlapComponentType()===e.OlapComponentType.BLENDABLE_QUERY_MANAGER){t.addAll(this.m_queryManager.getAllQueryManagers())}else{t.add(this.m_queryManager)}return t};e.ModCounterState.prototype.getPrimaryCalculationDimensionModCounter=function(){let t=this.getLeafQueryManagers().getIterator();let n=0;while(t.hasNext()){let e=t.next();if(e.getQueryModel().getPrimaryCalculationDimension()!==null){n=n+e.getQueryModel().getPrimaryCalculationDimension().getModCounter()}}if(this.m_queryManager.getOlapComponentType()===e.OlapComponentType.BLENDABLE_QUERY_MANAGER){n=n+this.m_queryManager.getPrimaryBlendedMeasureContainer().getModCounter()}return n};e.ModCounterState.prototype.getPrimaryMeasureFilterModCounter=function(){let e=this.getLeafQueryManagers().getIterator();let t=0;while(e.hasNext()){let n=e.next();if(n.getQueryModel().getPrimaryCalculationDimension()!==null&&n.getQueryModel().getPrimaryCalculationDimension().getFilter()!==null){t=t+n.getQueryModel().getPrimaryCalculationDimension().getFilter().getModCounter()}}return t};e.ModCounterState.prototype.getQueryModelLinksModCounter=function(){let t=0;if(this.m_queryManager.getOlapComponentType()===e.OlapComponentType.BLENDABLE_QUERY_MANAGER){t=t+this.m_queryManager.getAllQueryModelLinkSettings().getModCounter()}return t};e.ModCounterState.prototype.getQueryModelModCounter=function(){let t=0;if(this.m_queryManager.getOlapComponentType()===e.OlapComponentType.BLENDABLE_QUERY_MANAGER){t=this.m_queryManager.getModCounter()}else{t=this.m_queryManager.getQueryModel().getModCounter()}return t};e.ModCounterState.prototype.getRankingsModCounter=function(){let t=0;if(this.m_queryManager.getOlapComponentType()===e.OlapComponentType.BLENDABLE_QUERY_MANAGER){t=this.m_queryManager.getRankSettings().getModCounter()}else if(this.m_queryManager.getQueryModel().getConditionManager()!==null){t=this.m_queryManager.getQueryModel().getConditionManager().getModCounter()}return t};e.ModCounterState.prototype.getSecondaryCalculationDimensionModCounter=function(){let e=this.getLeafQueryManagers().getIterator();let t=0;while(e.hasNext()){let n=e.next();if(n.getQueryModel().getSecondaryCalculationDimension()!==null){t=t+n.getQueryModel().getSecondaryCalculationDimension().getModCounter()}}return t};e.ModCounterState.prototype.getSecondaryMeasureFilterModCounter=function(){let e=this.getLeafQueryManagers().getIterator();let t=0;while(e.hasNext()){let n=e.next();if(n.getQueryModel().getSecondaryCalculationDimension()!==null&&n.getQueryModel().getSecondaryCalculationDimension().getFilter()!==null){t=t+n.getQueryModel().getSecondaryCalculationDimension().getFilter().getModCounter()}}return t};e.ModCounterState.prototype.getSortingModCounter=function(){let t=0;if(this.m_queryManager.getOlapComponentType()===e.OlapComponentType.BLENDABLE_QUERY_MANAGER){let e=this.m_queryManager;t=e.getSortingContainer().getModCounter()}else{t=this.m_queryManager.getQueryModel().getSortingManager().getModCounter()}return t};e.ModCounterState.prototype.getThresholdModCounters=function(){let t=e.XList.create();let n=this.getLeafQueryManagers().getIterator();while(n.hasNext()){let r=n.next();let i=r.getQueryModel().getFormulaExceptionManager().getValuesAsReadOnlyList();for(let n=0;n<i.size();n++){let r=i.get(n);t.add(e.XPair.create(r,e.XIntegerValue.create(r.getModCounter())))}}return t};e.ModCounterState.prototype.getVariableManagerModCounter=function(){let e=this.getLeafQueryManagers().getIterator();let t=0;while(e.hasNext()){let n=e.next();t=t+n.getQueryModel().getVariableManager().getModCounter()}return t};e.ModCounterState.prototype.getVarianceModCounters=function(){let t=e.XList.create();let n=this.getLeafQueryManagers().getIterator();while(n.hasNext()){let r=n.next();if(r.getQueryModel().getPrimaryCalculationDimension()!==null){let n=r.getQueryModel().getPrimaryCalculationDimension().getLoadedStructureMembers().getValuesAsReadOnlyList();for(let r=0;r<n.size();r++){let i=n.get(r);if(i.getMemberType()===e.MemberType.VARIANCE){t.add(e.XPair.create(i,e.XIntegerValue.create(i.getModCounter())))}}}}return t};e.QueryModelStateManager=function(){};e.QueryModelStateManager.prototype=new e.XObjectExt;e.QueryModelStateManager.prototype._ff_c="QueryModelStateManager";e.QueryModelStateManager.create=function(t){let n=new e.QueryModelStateManager;n.m_queryManager=t;n.m_stateCache=e.XLinkedMap.createLinkedMap();n.m_jsonParser=e.JsonParserFactory.newInstance();return n};e.QueryModelStateManager.prototype.m_jsonParser=null;e.QueryModelStateManager.prototype.m_queryManager=null;e.QueryModelStateManager.prototype.m_stateCache=null;e.QueryModelStateManager.prototype.applyState=function(t){let n=this.m_stateCache.getByKey(t);if(e.isNull(n)){return e.ExtResult.createWithErrorMessage(e.XStringUtils.concatenate3("State Id ",t," not found"))}let r=n.getState();let i=this.m_jsonParser.parse(r);if(this.m_jsonParser.hasErrors()){return e.ExtResult.create(null,this.m_jsonParser)}let a=i.getStructureByKey("Analytics").getStructureByKey("Definition");let o=this.m_queryManager;let l=o.applyStateOnQueryManager(a);return e.ExtResult.create(this.m_queryManager,l)};e.QueryModelStateManager.prototype.recordState=function(){let t=e.PrFactory.createStructure();let n=this.m_queryManager;n.recordStateOfQueryManager(t);let r=e.PrUtils.serialize(t,true,false,0);let i=e.XGuid.getGuid();this.m_stateCache.add(e.StateStackEntry.create(i,r));return i};e.QueryModelStateManager.prototype.releaseObject=function(){this.m_stateCache=e.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_stateCache);this.m_queryManager=null;this.m_jsonParser=e.XObjectExt.release(this.m_jsonParser);e.XObjectExt.prototype.releaseObject.call(this)};e.AbstractOlapEnvQueryManagerHandler=function(){};e.AbstractOlapEnvQueryManagerHandler.prototype=new e.XObject;e.AbstractOlapEnvQueryManagerHandler.prototype._ff_c="AbstractOlapEnvQueryManagerHandler";e.AbstractOlapEnvQueryManagerHandler.prototype.m_olapEnvArea=null;e.AbstractOlapEnvQueryManagerHandler.prototype.m_selectionMap=null;e.AbstractOlapEnvQueryManagerHandler.prototype.getApplication=function(){return this.getOlapEnv().getApplication()};e.AbstractOlapEnvQueryManagerHandler.prototype.getOlapEnv=function(){return e.XWeakReferenceUtil.getHardRef(this.m_olapEnvArea)};e.AbstractOlapEnvQueryManagerHandler.prototype.getProcess=function(){return this.getOlapEnv().getProcess()};e.AbstractOlapEnvQueryManagerHandler.prototype.getSelectionMap=function(){return this.m_selectionMap};e.AbstractOlapEnvQueryManagerHandler.prototype.getSession=function(){return this.getOlapEnv().getSession()};e.AbstractOlapEnvQueryManagerHandler.prototype.getTaggedQueryManagers=function(){let t=this.getOlapEnv().getAllAreaQueryManagerActive();if(this.m_selectionMap.isEmpty()){return t}let n=e.XList.create();let r=t.size();for(let i=0;i<r;i++){let r=t.get(i);let a=r.getTagging();let o=this.m_selectionMap.getKeysAsIterator();let l=true;while(o.hasNext()){let t=o.next();let n=this.m_selectionMap.getByKey(t);let r=a.getByKey(t);if(!e.XString.isEqual(n,r)){l=false;break}}if(l){n.add(r)}}return n};e.AbstractOlapEnvQueryManagerHandler.prototype.releaseObject=function(){this.m_olapEnvArea=e.XObjectExt.release(this.m_olapEnvArea);this.m_selectionMap=e.XObjectExt.release(this.m_selectionMap);e.XObject.prototype.releaseObject.call(this)};e.AbstractOlapEnvQueryManagerHandler.prototype.setupQueryManagerHandler=function(t){this.m_selectionMap=e.XHashMapByString.create();this.m_olapEnvArea=e.XWeakReferenceUtil.getWeakRef(t)};e.OlapEnvVariable=function(){};e.OlapEnvVariable.prototype=new e.DfNameObject;e.OlapEnvVariable.prototype._ff_c="OlapEnvVariable";e.OlapEnvVariable.create=function(t,n){let r=new e.OlapEnvVariable;r._setupInternal(t);r.m_mainVariable=n;r.m_secondaryVariables=e.XList.create();return r};e.OlapEnvVariable.prototype.m_mainVariable=null;e.OlapEnvVariable.prototype.m_secondaryVariables=null;e.OlapEnvVariable.prototype.addSecondaryVariable=function(e){this.m_secondaryVariables.add(e)};e.OlapEnvVariable.prototype.getMainVariable=function(){return this.m_mainVariable};e.OlapEnvVariable.prototype.releaseObject=function(){this.m_mainVariable=null;this.m_secondaryVariables=e.XObjectExt.release(this.m_secondaryVariables);e.DfNameObject.prototype.releaseObject.call(this)};e.OlapEnvVariable.prototype.sync=function(){let t=this.m_mainVariable.serializeToElement(e.QModelFormat.INA_REPOSITORY);for(let n=0;n<this.m_secondaryVariables.size();n++){let r=this.m_secondaryVariables.get(n);r.deserializeFromElementExt(e.QModelFormat.INA_REPOSITORY,t)}};e.InACapabilitiesProvider=function(){};e.InACapabilitiesProvider.prototype=new e.DfSessionContext;e.InACapabilitiesProvider.prototype._ff_c="InACapabilitiesProvider";e.InACapabilitiesProvider.SAC_DEV_CAPABILITIES=null;e.InACapabilitiesProvider.create=function(t,n,r,i){let a=new e.InACapabilitiesProvider;a.setupExt(t,n,r,i);return a};e.InACapabilitiesProvider.importCapabilities=function(t,n){let r=n.getSystemType();let i=false;let a=false;let o=false;if(e.notNull(r)){i=r.isTypeOf(e.SystemType.BW);a=r.isTypeOf(e.SystemType.HANA);o=r.isTypeOf(e.SystemType.BPCS)}n.setSupportsServerState(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C009_STATEFUL_SERVER,i));n.setSupportsShutdown(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C010_STATEFUL_DATA_PROVIDER,i||a));n.setSupportsDirectVariableTransfer(!i);n.setSupportsCheckVariables(!i);n.setSupportsHierarchyCatalog(e.InACapabilitiesProvider.supports(t,e.InACapabilities.V322_HIERARCHY_CATALOG,false));n.setSupportsDataCellMixedValues(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C113_DATA_CELL_MIXED_VALUES,false));n.setSupportsCancelRunningQueries(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C117_CANCEL_RUNNING_REQUESTS,false));n.setSupportsObtainability(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C005_OBTAINABILITY,false));n.setSupportsCustomDimensionFilterCapability(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C123_CUSTOM_DIMENSION_FILTER,i));n.setSupportsRestrictedMeasures(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C119_RESTRICTED_KEYFIGURES,a));n.setSupportsFormulaMeasures(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C118_CALCULATED_KEYFIGURES,a));n.setSupportsCartesianFilterIntersect(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C150_CARTESIAN_FILTER_INTERSECT,false));n.setSupportsIntersectLayers(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C150_CARTESIAN_FILTER_INTERSECT,false));n.setSupportsCellValueOperand(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C060_CELL_VALUE_OPERAND,false));n.setSupportsComplexFilter(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C013_COMPLEX_FILTERS,false));n.setSupportsVisibilityFilter(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C059_VISIBILITY_FILTER,false));n.setSupportsSetOperand(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C011_SET_OPERAND,false));n.setSupportsConvertToFlatFilter(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C058_HIERARCHY_SELECTION_AS_FLAT_SELECTION,false));n.setSupportsCummulative(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C018_CUMMULATIVE,false));n.setSupportsHierarchyNavCounter(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C035_HIERARCHY_NAVIGATION_COUNTER,false));n.setSupportsHierarchyAttHierFields(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C036_ATTRIBUTE_HIERARCHY_HIERARCHY_FIELDS,false));n.setSupportsHierarchyCarryingDim(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C036_ATTRIBUTE_HIERARCHY_HIERARCHY_FIELDS,i||o));n.setSupportsSortTypes(e.InACapabilitiesProvider.supports(t,e.InACapabilities.SORT_TYPE,false));n.setSupportsSpatialFilter(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C061_SPATIAL_FILTER,false));n.setSupportsSapDate(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C017_SAP_DATE,i||o));n.setSupportsCustomDimensionMemberExecutionStep(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C055_CUSTOM_DIMENSION_MEMBER_EXECUTION_STEP,false));n.setSupportsSupplements(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C037_SUPPLEMENTS,false));n.setSupportsNumberAsString(e.InACapabilitiesProvider.supports(t,e.InACapabilities.V172_NUMBER_AS_STRING,false));if(n.supportsSpatialFilter()){n.setSupportsSpatialFilterSrid(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C062_SPATIAL_FILTER_WITH_SRID,false))}n.setSupportsComplexTupleFilter(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C200_COMPLEX_TUPLE_FILTER,false));n.setSupportsTuplesOperand(e.InACapabilitiesProvider.supports(t,e.InACapabilities.V216_TUPLES_OPERAND,false));n.setSupportsExtendedDimensions(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C067_EXTENDED_DIMENSIONS,false));n.setSupportsExtendedDimensionsFieldMapping(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C068_EXTENDED_DIMENSIONS_FIELD_MAPPING,false));n.setSupportsExtendedDimensionsJoinColumns(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C069_EXTENDED_DIMENSIONS_JOIN_COLUMNS,false));n.setSupportsExtendedDimensionsOuterJoin(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C070_EXTENDED_DIMENSIONS_OUTER_JOIN,false));n.setSupportsExtendedDimensionsSkip(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C071_EXTENDED_DIMENSIONS_SKIP,false));n.setSupportsExtendedDimensionsJoinCardinality(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C143_EXTENDED_DIMENSIONS_JOIN_CARDINALITY,false));n.setSupportsSortNewValues(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C212_SORT_NEW_VALUES,false));n.setSupportsIgnoreUnitOfZeroValueInAggregation(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C152_IGNORE_UNIT_OF_ZERO_VALUE_IN_AGGREGATION,false));n.setSupportsCubeBlendingWithNSubqueries(e.InACapabilitiesProvider.supports(t,e.InACapabilities.V214_CUBE_BLENDING_N_QUERIES,false));n.setSupportsRemoteBlendingWithSplittedSerializationRequests(e.InACapabilitiesProvider.supports(t,i?e.InACapabilities.C182_CUBE_BLENDING_PERSISTENCE_TYPE:e.InACapabilities.C206_REMOTE_BLENDING_METADATA,false));n.setSupportsExtendedDimensionsChangeDefaultRenamingAndDescription(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C156_EXTENDED_DIMENSION_CHANGE_DEFAULT_RENAMING_AND_DESCRIPTION,false));n.setSupportsExtendedDimensionsCopyAllHierarchies(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C157_EXTENDED_DIMENSION_COPY_ALL_HIERARCHIES,false));n.setSupportsFixMetadataHierarchyAttributes(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C158_FIX_METADATA_HIERARCHY_ATTRIBUTES,false));n.setSupportsUniversalDisplayHierarchies(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C139_UNIVERSAL_DISPLAY_HIERARCHIES,false));n.setSupportsUniversalDisplayHierarchiesCustomDimensions(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C204_UNIVERSAL_DISPLAY_HIERARCHY_CUSTOM_DIM,false));n.setSupportsUniversalDisplayHierarchiesZeroBased(e.InACapabilitiesProvider.supports(t,e.InACapabilities.V158_UNIVERSAL_DISPLAY_HIERARCHY_ZERO_BASED,false));n.setSupportsRemoteBlending(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C093_REMOTE_BLENDING,false));n.setSupportsRemoteFilter(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C180_REMOTE_FILTER,false));n.setSupportsCubeCache(e.InACapabilitiesProvider.supports(t,e.InACapabilities.V166_CUBE_CACHE,false));n.setSupportsCatalogServiceV2(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C140_CATALOG_SERVICE_V20,false));n.setSupportsExtendedVariableDefinition(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C146_EXTENDED_VARIABLE_DEFINITION,false));n.setSupportsCustomSort(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C149_CUSTOM_SORT,false));n.setSupportsDataRefreshAndDataTopicality(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C145_DATA_REFRESH_AND_DATA_TOPICALITY,false));n.setSupportsRemoteBlendingBW(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C196_REMOTE_BLENDING_BW,false));n.setSupportsCustomMeasureSortOrder(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C148_CUSTOM_MEASURE_SORTORDER,false));n.setSupportsExceptionAggregationAvgNullSelectionMember(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C105_EXCEPTION_AGGREGATION_AVGNULL_SELECTION_MEMBER,false));n.setSupportsExceptionAggregationCountNullSelectionMember(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C106_EXCEPTION_AGGREGATION_COUNTNULL_SELECTION_MEMBER,false));n.setSupportsStatisticalAggregations(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C107_STATISTICAL_AGGREGATIONS,false));n.setSupportsF4FilterForTextField(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C186_F4_FILTER_FOR_TEXT_FIELD,false));n.setSupportsSidPresentation(e.InACapabilitiesProvider.supports(t,e.InACapabilities.V232_SID_PRESENTATION,false));n.setSupportsVarianceOperator(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C153_VARIANCE_OPERATOR,false));n.setSupportsTotalOperator(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C198_OPERATOR_TOTALS,false));n.setSupportsAsyncRemoteModelValidation(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C154_MD_DS_DEF_VAL_EXPOSE_DS,false));n.setSupportsExtendedKeyFigureProperties(e.InACapabilitiesProvider.supports(t,e.InACapabilities.V168_EXT_KEYFIGURE_PROPERTIES,false));n.setSupportsDetailedResponseExpansion(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C201_DETAILED_RESPONSE_EXPANSION,false));n.setSupportsDynamicVariableRefresh(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C192_VIRTUAL_DS_VARIABLE_VALUES,false));n.setSupportsQueryCurrencyTranslation(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C160_QUERY_CURRENCY_TRANSLATION,false));n.setSupportsStructureRestrictionsInValueHelp(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C161_STRUCTURE_RESTRICTIONS_IN_VALUE_HELP,false));n.setSupportsCustomHierarchy(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C202_CUSTOM_HIERARCHY,false));n.setSupportsSpatialChoropleth(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C165_SPATIAL_CHOROPLETH,false));n.setSupportsInaCurrentMember(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C166_INA_CURRENT_MEMBER,false));n.setSupportsDimensionDefaultMember(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C187_DIMENSION_DEFAULT_MEMBER,false));n.setSupportsDimensionVisibility(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C189_DIMENSION_VISIBILITY,false));n.setSupportsDisplayHierarchyFixInFilter(e.InACapabilitiesProvider.supports(t,e.InACapabilities.V186_DISP_HIERARCHY_FIX_IN_FILTER,false));n.setSupportsDisplayAttributes(e.InACapabilitiesProvider.supports(t,e.InACapabilities.V428_DISPLAY_MDS_ATTRIBUTES,false));n.setSupportsCustomMemberKeySortOrder(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C203_CUSTOM_MEMBER_KEY_SORT_ORDER,false));n.setSupportsSpatialTransformation(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C063_SPATIAL_TRANSFORMATIONS,false));n.setSupportsMemberVisibility(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C048_MEMBER_VISIBILITY,false));n.setSupportsHierarchyMetadata(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C052_METADATA_HIERARCHY_STRUCTURE,false));n.setSupportsDimensionHierarchyLevels(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C169_DIMENSION_HIERARCHY_LEVELS,false));n.setSupportsHierarchyLevelMetadata(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C053_METADATA_HIERARCHY_LEVELS,false));n.setSupportsCubeBlendingProperties(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C097_CUBE_BLENDING_PROPERTIES,false));n.setSupportsHierarchyNavigationDeltaMode(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C111_HIERARCHY_NAVIGATION_DELTA_MODE,false));n.setSupportsCeScenarioParams(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C127_CE_SCENARIO_PARAMS,false));n.setSupportsLocaleSorting(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C188_LOCALE_SORTING,false));n.setSupportsHierarchyLevelOffsetFilter(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C126_HIERARCHY_LEVEL_OFFSET_FILTER,false));n.setSupportsHierarchyTrapezoidFilter(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C065_HIERARCHY_TRAPEZOID_FILTER,false));n.setSupportsUnifiedDataCells(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C210_UNIFIED_DATA_CELLS,false));n.setSupportsAverageCountNullZero(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C124_AVERAGE_COUNT_IGNORE_NULL_ZERO,false));n.setSupportsCubeBlendingOutOfContext(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C096_CUBE_BLENDING_OUT_OF_CONTEXT,false));n.setSupportsExceptionsV2(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C159_EXCEPTIONS_V2,false));n.setSupportsSpatialClustering(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C064_SPATIAL_CLUSTERING,false));n.setSupportsKeepOriginalTexts(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C122_ORIGINAL_TEXTS,false));n.setSupportsConditions(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C101_CONDITIONS,false));n.setSupportsConditionsWithVersions(e.InACapabilitiesProvider.supports(t,e.InACapabilities.V397_CONDITIONS_WITH_VERSION_DIMENSION,false));n.setSupportsExtendedSort(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C054_EXTENDED_SORT,false));n.setSupportsDataCells(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C026_QUERY_DATA_CELLS,false));n.setSupportsExpandBottomUp(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C100_EXPAND_BOTTOM_UP,false));n.setSupportsIgnoreExternalDimensions(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C073_IGNORE_EXTERNAL_DIMENSIONS,false));n.setSupportsExceptionAggregationDimsFormulas(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C104_EXCEPTION_AGGREGATION_DIMENSIONS_AND_FORMULAS,false));n.setSupportsExceptionSettings(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C024_EXCEPTION_SETTINGS,false));n.setSupportsExceptions(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C023_EXCEPTIONS,false));n.setSupportsHierarchyVirtualRootNode(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C163_HIERARCHY_VIRTUAL_ROOT_NODE,false));n.setSupportsHierarchyRestNode(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C164_HIERARCHY_REST_NODE,false));n.setSupportsCubeBlending(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C091_CUBE_BLENDING,false));n.setSupportsMetadataDataCategory(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C099_METADATA_DATA_CATEGORY,false));n.setSupportsExtendedDimensionVisibility(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C194_METADATA_EXTENDED_DIMENSION_VISIBILITY,false));n.setSupportsResultSetUnitIndex(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C195_RESULTSET_UNIT_INDEX,false));n.setSupportsAsyncBatchRequests(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C162_ASYNC_METADATA_BATCH_REQUEST,false));n.setSupportsMetadataDataSourceDefinitionValidation(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C144_METADATA_DATASOURCE_DEFINITION_VALIDATION,false));n.setSupportsVariableVariants(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C135_VARIABLE_VARIANTS,false));n.setSupportsCalculatedDimensions(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C171_CALCULATED_DIMENSION,false));n.setSupportsZeroSuppression(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C045_ZERO_SUPPRESSION,false));n.setSupportsResultSetInterval(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C049_RESULTSET_INTERVAL,false));n.setSupportsFixHierarchyFlatKeys(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C181_FIX_HIERARCHY_FLAT_KEYS,false));n.setSupportsAttributeValueLookup(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C115_ATTRIBUTE_VALUE_LOOKUP,false));n.setSupportsAggregationNopNull(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C102_AGGREGATION_NOP_NULL,false));n.setSupportsAggregationNopNullZero(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C103_AGGREGATION_NOP_NULL_ZERO,false));n.setSupportsPlanningOnCalculatedDimensions(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C172_PLANNING_ON_CALCULATED_DIMENSION,false));n.setSupportsCustomDimension2(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C211_CUSTOM_DIMENSION_2,false));n.setSupportsCubeBlendingAggregation(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C092_CUBE_BLENDING_AGGREGATION,false));n.setSupportsWindowFunction(e.InACapabilitiesProvider.supports(t,e.InACapabilities.V218_WINDOW_FUNCTION,false));n.setSupportsMultipleExAggDimsInCalcPlan(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C223_MULTIPLE_EX_AGG_DIMS_IN_CALC_PLAN,false));n.setSupportsSetOperandCurrentMemberSingleNavigation(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C222_SET_OPERAND_CURRENT_MEMBER_SINGLE_NAVIGATION,false));n.setSupportsDimensionHierarchyMetadata(e.InACapabilitiesProvider.supports(t,e.InACapabilities.V388_DIMENSION_HIERARCHY_METADATA,false));n.setSupportsHierarchyPathPresentationType(e.InACapabilitiesProvider.supports(t,e.InACapabilities.V294_HIERARCHY_PATH_PRESENTATION_TYPE,false));let l=e.InACapabilitiesProvider.supports(t,e.InACapabilities.V296_DIMENSION_KEY_ATTRIBUTES,false);let s=e.InACapabilitiesProvider.supports(t,e.InACapabilities.V434_MDS_COMPOUND_KEY,false);n.setSupportsDimensionKeyAttributes(l||s);n.setSupportsCurrentMemberFilterExtension(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C120_CURRENT_MEMBER_FILTER_EXTENSION,false));n.setSupportsClientInfo(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C155_CLIENT_INFO,false));n.setSupportsDynamicRestrictionOnFormula(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C197_DYN_RESTRICTION_ON_FORMULA,false));n.setSupportsDynamicMembersOnNonMeasureStructure(e.InACapabilitiesProvider.supports(t,e.InACapabilities.V248_DYNAMIC_MEMBERS_ON_NON_MEASURE_STRUCTURE,false));n.setSupportsVisualAggregation(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C176_VISUAL_AGGREGATION,false));n.setSupportsNamedCustomMember(e.InACapabilitiesProvider.supports(t,e.InACapabilities.V236_NAMED_CUSTOM_DIMENSION_MEMBER,false));n.setSupportsReinitVariables(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C002_VARIABLE_RE_SUBMIT,false));n.setSupportsMultiSource(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C047_MULTI_SOURCE,false));n.setSupportsRequestTimezone(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C174_REQUEST_TIME_ZONE,false));n.setSupportsVariableMasking(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C199_AV_CAPABILITY_VARIABLE_MASKING,false));n.setSupportsSuppressKeyfigureCalculation(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C151_SUPPRESS_KEYFIGURE_CALCULATION,false));n.setSupportsInputReadinessStates(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C147_INPUT_READINESS_STATES,false));n.setSupportsReturnedDataSelection(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C141_RETURNED_DATA_SELECTION,false));n.setSupportsRunAsUser(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C025_RUN_AS_USER,false));n.setSupportsVirtualDescription(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C214_IS_VIRTUAL_DESCRIPTION,false));n.setSupportsVersionParameters(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C183_GET_PARAMETERS,false));n.setSupportsVersionPrivileges(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C184_VERSION_PRIVILEGES,false));n.setSupportsMeasureMemberDefinition(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C215_MEASURE_MEMBER_DEFINITION,false));n.setSupportsMeasureMemberDetails(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C216_MEASURE_MEMBER_DETAILS,false));n.setSupportsMeasureMemberType(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C217_MEASURE_MEMBER_TYPE,false));n.setSupportsValueHelpWithAttributes(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C185_VALUE_HELP_WITH_ATTRIBUTES,!i));n.setSupportsEncodedResultset(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C012_ENCODED_RESULTSET,false));n.setSupportsNewValuesImplicitUnlock(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C020_NEW_VALUES_IMPLICIT_UNLOCK,false));n.setSupportsNewValuesExtendedFormat(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C021_NEW_VALUES_EXTENDED_FORMAT,false));let u=e.InACapabilitiesProvider.supports(t,e.InACapabilities.V444_RRI_2,false);let p=e.InACapabilitiesProvider.supports(t,e.InACapabilities.V463_RRI_3,false);n.setSupportsReportReportInterface(u||p);n.setSupportsRRI3(p);n.setSupportsResultSetHierarchyLevel(e.InACapabilitiesProvider.supports(t,e.InACapabilities.V149_RESULTSET_HIERARCHY_LEVEL,false));n.setSupportsQueryDataCellModelDefaults(e.InACapabilitiesProvider.supports(t,e.InACapabilities.V174_QDATA_CELL_MODEL_DEFAULTS,false));n.setSupportsCubeBlendingSorting(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C095_CUBE_BLENDING_MEMBER_SORTING,false));n.setSupportsCubeBlendingReadmode(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C098_CUBE_BLENDING_READ_MODE,false));n.setSupportsCubeBlendingCustomMember(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C094_CUBE_BLENDING_CUSTOM_MEMBERS,false));n.setSupportsResultSetCache(e.InACapabilitiesProvider.supports(t,e.InACapabilities.V394_RESULT_SET_CACHE,false));n.setSupportsOthersFromConditions(e.InACapabilitiesProvider.supports(t,e.InACapabilities.V414_OTHERS_FROM_CONDITIONS,false));n.setSupportsInputEnablementFilterSettings(e.InACapabilitiesProvider.supports(t,e.InACapabilities.V416_INPUT_ENABLEMENT_FILTER_SETTINGS,false));n.setSupportsInputReadinessFilter(e.InACapabilitiesProvider.supports(t,e.InACapabilities.V458_INPUT_READINESS_FILTER,false));let g=e.InACapabilitiesProvider.supports(t,e.InACapabilities.C051_HIERARCHY_PATH,false);n.setSupportsHierarchyPath(g);let c=e.InACapabilitiesProvider.supports(t,e.InACapabilities.C056_HIERARCHY_PATH_UNIQUE_NAME,false);n.setSupportsUniqueHierarchyPath(g&&c);let y=e.InACapabilitiesProvider.supports(t,e.InACapabilities.V402_VALUE_HELP_HIERARCHY_PATH,false);n.setSupportsValueHelpHierarchyPath(y);n.setSupportsUniversalModel(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C221_UNIVERSAL_MODEL,false));n.setSupportsCurrencyTranslation(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C218_CURRENCY_TRANSLATION,false));n.setSupportsMeasureMemberCurrencyTranslations(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C219_MEASURE_MEMBER_CURRENCY_TRANSLATIONS,false));n.setSupportsTechnicalAxis(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C042_TECHNICAL_AXIS,false));n.setSupportsResultsetEffectiveFilter(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C205_RESUlTSET_EFFECTIVE_FILTER,false));n.setSupportsBatchRsStreaming(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C207_BATCH_RS_STREAMING,false));n.setSupportsBatchBlendingRsStreaming(e.InACapabilitiesProvider.supports(t,e.InACapabilities.V308_ASYNC_BLENDING_BATCH_REQUEST,false));n.setSupportsCorrectDimensionDescription(e.InACapabilitiesProvider.supports(t,e.InACapabilities.V198_DIMENSION_DESCRIPTION,false));n.setSupportsRootOrphansAfterVisibilityFilter(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C213_ROOT_ORPHANS_AFTER_VISIBILITY_FILTER,false));n.setSupportsMetadataDimensionOthers(e.InACapabilitiesProvider.supports(t,e.InACapabilities.V224_METADATA_DIMENSION_OTHERS,false));n.setSupportsRSCellFormatTypeSpecific(e.InACapabilitiesProvider.supports(t,e.InACapabilities.V268_RESULTSET_CELL_FORMAT_TYPE_SPECIFIC,false));n.setSupportsSuppressSupplements(e.InACapabilitiesProvider.supports(t,e.InACapabilities.V230_SUPPRESS_SUPPLEMENTS,false));n.setSupportsAutoVariableSubmit(e.InACapabilitiesProvider.supports(t,e.InACapabilities.V286_AUTO_VARIABLE_SUBMIT,false));n.setSupportsExceptionAggregationFirstLastSelectionMember(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C208_EXCEPTION_AGGREGATION_FIRST_LAST_SELECTION_MEMBER,false));n.setSupportsResultSetCellExplain(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C209_RESULTSET_CELL_EXPLAIN,false));n.setSupportsMaintainsVariableVariants(e.InACapabilitiesProvider.supports(t,e.InACapabilities.V320_MAINTAINS_VARIABLE_VARIANTS,false));n.setSupportsNullZeroSuppression(e.InACapabilitiesProvider.supports(t,e.InACapabilities.V254_NULL_ZERO_SUPPRESSION,false));n.setSupportsInputReadinessWithNavigationalAttributes(e.InACapabilitiesProvider.supports(t,e.InACapabilities.V256_INPUT_READINESS_WITH_NAVIGATIONAL_ATTRIBUTES,false));n.setSupportsIteratedFormula(e.InACapabilitiesProvider.supports(t,e.InACapabilities.V270_ITERATED_FORMULA,false));n.setSupportsCDSProjectionViews(e.InACapabilitiesProvider.supports(t,e.InACapabilities.V272_CDS_PROJECTION_VIEWS,false));n.setSupportsCellDocumentId(e.InACapabilitiesProvider.supports(t,e.InACapabilities.V274_CELL_DOCUMENT_ID,false));n.setSupportsUndefinedTupleCountTotals(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C220_UNDEFINED_TUPLE_COUNT_TOTALS,false));n.setSupportsTextInHierarchyForCharacteristicsWithoutText(e.InACapabilitiesProvider.supports(t,e.InACapabilities.V302_TEXT_IN_HIERARCHY,false));n.setSupportsPagingTupleCountBeforeSlicing(e.InACapabilitiesProvider.supports(t,e.InACapabilities.V298_PAGING_TUPLE_COUNT_BEFORE_SLICING,false));n.setSupportsDataCellContexts(e.InACapabilitiesProvider.supports(t,e.InACapabilities.V324_DATA_CELL_CONTEXTS,false));n.setSupportsNamePath(e.InACapabilitiesProvider.supports(t,e.InACapabilities.V326_NAME_PATH,false));n.setSupportsMixedDisplayKey(e.InACapabilitiesProvider.supports(t,e.InACapabilities.V328_MIXED_DISPLAY_KEY,false));n.setSupportsSemanticObject(e.InACapabilitiesProvider.supports(t,e.InACapabilities.V332_SEMANTIC_OBJECT,false));n.setSupportsErrorAboveLevel(e.InACapabilitiesProvider.supports(t,e.InACapabilities.V336_ERROR_ABOVE_LEVEL,false));n.setSupportsInAModelExternalDimension(e.InACapabilitiesProvider.supports(t,e.InACapabilities.V342_INAMODEL_EXTERNAL_DIMENSION,false));n.setSupportsInAModelExternalValuehelp(e.InACapabilitiesProvider.supports(t,e.InACapabilities.V344_INAMODEL_EXTERNAL_VALUE_HELP,false));n.setSupportsPersistedInA(e.InACapabilitiesProvider.supports(t,e.InACapabilities.V340_INA_PERSISTED,false));n.setSupportsMaxDrillLevel(e.InACapabilitiesProvider.supports(t,e.InACapabilities.V346_MAX_DRILL_LEVEL,false));n.setSupportsSqlTypeBoolean(e.InACapabilitiesProvider.supports(t,e.InACapabilities.V354_SQL_TYPE_BOOLEAN,false));n.setSupportsNoDataActions(e.InACapabilitiesProvider.supports(t,e.InACapabilities.V128_NO_DATA_ACTIONS,false));n.setSupportsStructureOnFreeAxis(e.InACapabilitiesProvider.supports(t,e.InACapabilities.V356_STRUCTURE_ON_FREE_AXIS,false));n.setSupportsMetadataHasExternalHierarchies(e.InACapabilitiesProvider.supports(t,e.InACapabilities.V358_METADATA_HAS_EXTERNAL_HIERARCHIES,false));n.setSupportsExceptionThresholdNoPrec(e.InACapabilitiesProvider.supports(t,e.InACapabilities.V360_EXCEPTION_THRESHOLD_NO_PRECISION,false));n.setSupportsReturnMetadataExtensions(e.InACapabilitiesProvider.supports(t,e.InACapabilities.V362_RETURN_METADATA_EXTENSIONS,false));n.setSupportsMetadataResultFormatOptions(e.InACapabilitiesProvider.supports(t,e.InACapabilities.V368_METADATA_RESULT_FORMAT_OPTIONS,false));n.setSupportsLightweightMetadata(e.InACapabilitiesProvider.supports(t,e.InACapabilities.V370_LIGHTWEIGHT_METADATA,false));n.setSupportsResultSetV2MetadataExtension1(e.InACapabilitiesProvider.supports(t,e.InACapabilities.V266_RESULTSETV2_METADATA_EXTENSION1,false));n.setSupportsIDAttributeForMeasureDimension(e.InACapabilitiesProvider.supports(t,e.InACapabilities.V376_MEASURE_DIMENSION_ID_ATTRIBUTE,false));n.setSupportsUniqueAxisProperties(e.InACapabilitiesProvider.supports(t,e.InACapabilities.V382_UNIQUE_AXIS_PROPERTIES,false));n.setSupportsSpatialTransformDistanceFilter(e.InACapabilitiesProvider.supports(t,e.InACapabilities.V384_MDS_SPATIAL_TRANSFORM_DISTANCE_FILTER,false));n.setSupportsUdhAlignment(e.InACapabilitiesProvider.supports(t,e.InACapabilities.V250_UDH_ALIGNMENT,false));n.setSupportsResultSetNumericValueWithInternalPrecision(e.InACapabilitiesProvider.supports(t,e.InACapabilities.V386_RS_NUM_VALUES_WITH_INTERNAL_PRECISION,false));n.setSupportsVirtualDataSourceTypeColumns(e.InACapabilitiesProvider.supports(t,e.InACapabilities.V372_VIRTUAL_DATA_SOURCE_TYPE_COLUMNS,false));n.setSupportsCalculateWithNullCellsUnitType(e.InACapabilitiesProvider.supports(t,e.InACapabilities.V392_MDS_CALCULATE_WITH_NULL_CELLS_UNIT_TYPE,false));n.setSupportsSortingDefaults(e.InACapabilitiesProvider.supports(t,e.InACapabilities.V406_SORTING_DEFAULTS,false));n.setSupportsInputEnablementFilterSettings(e.InACapabilitiesProvider.supports(t,e.InACapabilities.V416_INPUT_ENABLEMENT_FILTER_SETTINGS,false));n.setSupportsUnitTranslation(e.InACapabilitiesProvider.supports(t,e.InACapabilities.V418_UNIT_TRANSLATION,false));n.setSupportsMeasureMemberUnitTranslations(e.InACapabilitiesProvider.supports(t,e.InACapabilities.V420_MEASURE_MEMBER_UNIT_TRANSLATIONS,false));n.setSupportsHierarchyDefaults(e.InACapabilitiesProvider.supports(t,e.InACapabilities.V412_HIERARCHY_DEFAULTS,false));n.setSupportsUdhKey(e.InACapabilitiesProvider.supports(t,e.InACapabilities.V424_UDH_KEY,false));n.setSupportsNumericShiftPercent(e.InACapabilitiesProvider.supports(t,e.InACapabilities.V426_NUMERIC_SHIFT_PERCENT,false));n.setSupportsCustomDimension2MemberMetadata(e.InACapabilitiesProvider.supports(t,e.InACapabilities.V430_CUSTOM_DIMENSION_2_MEMBER_MD,false));n.setSupportsMemberUniqueNamesCompatibility(e.InACapabilitiesProvider.supports(t,e.InACapabilities.MEMBER_UNIQUE_NAMES_COMPATIBILITY,false));n.setSupportsConditionsWithHiddenMeasures(e.InACapabilitiesProvider.supports(t,e.InACapabilities.V438_CONDITIONS_WITH_HIDDEN_MEASURES,false));n.setSupportsFilterCapabilityExtended(e.InACapabilitiesProvider.supports(t,e.InACapabilities.V440_FILTER_CAPABILITY_EXTENDED,false));n.setSupportsTuplesOperandFromDataSource(e.InACapabilitiesProvider.supports(t,e.InACapabilities.V450_TUPLES_OPERAND_FROM_DATA_SOURCE,false));n.setSupportsSimulation(e.InACapabilitiesProvider.supports(t,e.InACapabilities.V452_SIMULATION,false));n.setSupportsOthersDetailsFromConditions(e.InACapabilitiesProvider.supports(t,e.InACapabilities.V454_OTHERS_DETAILS_FROM_CONDITIONS,false));n.setSupportsInputReadinessFilter(e.InACapabilitiesProvider.supports(t,e.InACapabilities.V458_INPUT_READINESS_FILTER,false));n.setSupportsFlexibleClientInfo(e.InACapabilitiesProvider.supports(t,e.InACapabilities.V455_FLEX_CLIENT_INFO,false));n.setSupportsSortTupleMemberType(e.InACapabilitiesProvider.supports(t,e.InACapabilities.V461_SORT_TUPLE_MEMBER_TYPE,false));n.setSupportsSupportsRunningAggregation(e.InACapabilitiesProvider.supports(t,e.InACapabilities.V471_SUPPORTS_RUNNING_AGGREGATION,false));n.setSupportsAggregationsFirstLastAverageOfDimension(e.InACapabilitiesProvider.supports(t,e.InACapabilities.V473_AGGREGATIONS_FIRST_LAST_AVG_OF_DIMENSION,false));n.setSupportsFunctionalVariables(e.InACapabilitiesProvider.supports(t,e.InACapabilities.V477_FUNCTIONAL_VARIABLES,false));n.setSupportsCustomDimensionMemberVisibilityFilter(e.InACapabilitiesProvider.supports(t,e.InACapabilities.V479_CDM_VISIBILITY_FILTER,false));n.setSupportsCubeBlendingCustomDimension1NoneAxis(e.InACapabilitiesProvider.supports(t,e.InACapabilities.V481_BLENDING_CUSTOM_DIMENSION_1_NONE_AXIS,false));n.setSupportsMetadataNonUniqueDisplayAttribute(e.InACapabilitiesProvider.supports(t,e.InACapabilities.V483_METADATA_NON_UNIQUE_DISPLAY_ATTRIBUTE,false));n.setSupportsBlendingTotals(e.InACapabilitiesProvider.supports(t,e.InACapabilities.V485_BLENDING_TOTALS,false));n.setSupportsAsyncBatchRequestHeartbeat(e.InACapabilitiesProvider.supports(t,e.InACapabilities.V487_ASYNC_BATCH_REQUEST_HEARTBEAT,false));n.setSupportsSupportsDimensionSemanticType(e.InACapabilitiesProvider.supports(t,e.InACapabilities.V489_DIMENSION_SEMANTIC_TYPE,false));n.setSupportsSortedIteratedFormula(e.InACapabilitiesProvider.supports(t,e.InACapabilities.V491_SORTED_ITERATED_FORMULA,false))};e.InACapabilitiesProvider.isDevCapabilityValid=function(t,n){return n.hasFeature(e.FeatureToggleOlap.DEVELOPMENT_MODE)||e.InACapabilitiesProvider.SAC_DEV_CAPABILITIES.containsKey(t)};e.InACapabilitiesProvider.staticSetup=function(){e.InACapabilitiesProvider.SAC_DEV_CAPABILITIES=e.CapabilityContainer.create("sacExceptions");e.InACapabilitiesProvider.SAC_DEV_CAPABILITIES.addCapability(e.InACapabilities.C178_MASTER_READ_MODE_BY_DIMENSION_GROUPING);e.InACapabilitiesProvider.SAC_DEV_CAPABILITIES.addCapability(e.InACapabilities.C187_DIMENSION_DEFAULT_MEMBER);e.InACapabilitiesProvider.SAC_DEV_CAPABILITIES.addCapability(e.InACapabilities.C189_DIMENSION_VISIBILITY);e.InACapabilitiesProvider.SAC_DEV_CAPABILITIES.addCapability(e.InACapabilities.C193_INA_MODEL_METADATA);e.InACapabilitiesProvider.SAC_DEV_CAPABILITIES.addCapability(e.InACapabilities.C194_METADATA_EXTENDED_DIMENSION_VISIBILITY);e.InACapabilitiesProvider.SAC_DEV_CAPABILITIES.addCapability(e.InACapabilities.C191_DYNAMIC_VARIABLES);e.InACapabilitiesProvider.SAC_DEV_CAPABILITIES.addCapability(e.InACapabilities.C192_VIRTUAL_DS_VARIABLE_VALUES);e.InACapabilitiesProvider.SAC_DEV_CAPABILITIES.addCapability(e.InACapabilities.C188_LOCALE_SORTING);e.InACapabilitiesProvider.SAC_DEV_CAPABILITIES.addCapability(e.InACapabilities.C212_SORT_NEW_VALUES);e.InACapabilitiesProvider.SAC_DEV_CAPABILITIES.addCapability(e.InACapabilities.C215_MEASURE_MEMBER_DEFINITION);e.InACapabilitiesProvider.SAC_DEV_CAPABILITIES.addCapability(e.InACapabilities.C216_MEASURE_MEMBER_DETAILS);e.InACapabilitiesProvider.SAC_DEV_CAPABILITIES.addCapability(e.InACapabilities.V210_DATASOURCE_TYPE_QUERY_METADATA);e.InACapabilitiesProvider.SAC_DEV_CAPABILITIES.addCapability(e.InACapabilities.V212_DATASOURCE_TYPE_QUERY)};e.InACapabilitiesProvider.supports=function(t,n,r){return r||e.notNull(t)&&t.containsKey(n)};e.InACapabilitiesProvider.prototype.m_activeCapabilities=null;e.InACapabilitiesProvider.prototype.m_activeDeserializationCapabilities=null;e.InACapabilitiesProvider.prototype.m_additionalFeatureToggles=null;e.InACapabilitiesProvider.prototype.m_clientFeatureToggleCapabilities=null;e.InACapabilitiesProvider.prototype.m_clientMainCapabilities=null;e.InACapabilitiesProvider.prototype.m_deserializationDocumentCapabilities=null;e.InACapabilitiesProvider.prototype.m_dimensionExtensionCapabilities=null;e.InACapabilitiesProvider.prototype.m_documentCapabilities=null;e.InACapabilitiesProvider.prototype.m_providerType=null;e.InACapabilitiesProvider.prototype.m_serverBetaCapabilities=null;e.InACapabilitiesProvider.prototype.m_serverMainCapabilities=null;e.InACapabilitiesProvider.prototype.m_serverMetadata=null;e.InACapabilitiesProvider.prototype.m_serverPersistencyCapabilities=null;e.InACapabilitiesProvider.prototype._sacFallback=function(t,n){if(e.notNull(n)&&e.notNull(t)){let r=e.InACapabilitiesProvider.SAC_DEV_CAPABILITIES.getKeysAsIterator();while(r.hasNext()){let e=r.next();if(n.containsKey(e)){t.addCapability(e)}}}return t};e.InACapabilitiesProvider.prototype.activateDevCapabilities=function(t){if(e.notNull(t)&&t.hasElements()){let n=this.getServerBetaCapabilities();let r=this.getServerMainCapabilities();let i=this.getActiveCapabilities();let a=t.getIterator();let o=this.getSession();while(a.hasNext()){let t=a.next();if(e.XStringUtils.isNotNullAndNotEmpty(t)&&e.XString.containsString(t,".")){t=e.XString.substring(t,e.XString.indexOf(t,".")+1,e.XString.size(t))}if(n.containsKey(t)&&e.InACapabilitiesProvider.isDevCapabilityValid(t,o)){i.addCapability(t)}if(r.containsKey(t)){i.addCapability(t)}}}};e.InACapabilitiesProvider.prototype.addCapabilitiesFromEnv=function(t){let n=this.getSession().getEnvironment();let r=n.getVariable(e.XEnvironmentConstants.FIREFLY_ADD_INA_CAPABILITY);if(e.notNull(r)){let n=e.XStringTokenizer.splitString(r,",");let i=n.getIterator();while(i.hasNext()){t.addCapability(i.next())}}let i=n.getVariable(e.XEnvironmentConstants.FIREFLY_REMOVE_INA_CAPABILITY);if(e.notNull(i)){let n=e.XStringTokenizer.splitString(i,",");let r=n.getIterator();while(r.hasNext()){t.remove(r.next())}}};e.InACapabilitiesProvider.prototype.check=function(t,n,r){if(this.getSession().hasFeature(n)||e.notNull(this.m_additionalFeatureToggles)&&this.m_additionalFeatureToggles.contains(n)){t.addCapability(r)}};e.InACapabilitiesProvider.prototype.checkButOnly=function(e,t,n,r,i){if(r.isTypeOf(i)){this.check(e,t,n)}};e.InACapabilitiesProvider.prototype.checkExt=function(e,t,n,r,i){if(r.isTypeOf(i)){this.check(e,t,n)}else{e.addCapability(n)}};e.InACapabilitiesProvider.prototype.createFeatureToggleAnalyticsCapabilities=function(t){let n=this.m_serverMetadata.getSystemDescription().getSystemType();this.checkExt(t,e.FeatureToggleOlap.UNIFIED_DATACELLS,e.InACapabilities.C210_UNIFIED_DATA_CELLS,n,e.SystemType.HANA);this.check(t,e.FeatureToggleOlap.NO_DATA_ACTIONS,e.InACapabilities.V128_NO_DATA_ACTIONS);this.check(t,e.FeatureToggleOlap.HIERARCHY_LEVEL,e.InACapabilities.V149_RESULTSET_HIERARCHY_LEVEL);this.check(t,e.FeatureToggleOlap.NUMBER_AS_STRING,e.InACapabilities.V172_NUMBER_AS_STRING);this.check(t,e.FeatureToggleOlap.UNIVERSAL_DISPLAY_HIERARCHY_ZERO_BASED,e.InACapabilities.V158_UNIVERSAL_DISPLAY_HIERARCHY_ZERO_BASED);this.check(t,e.FeatureToggleOlap.CUBE_CACHE,e.InACapabilities.V166_CUBE_CACHE);this.check(t,e.FeatureToggleOlap.EXT_KEYFIGURE_PROPERTIES,e.InACapabilities.V168_EXT_KEYFIGURE_PROPERTIES);this.check(t,e.FeatureToggleOlap.QDATA_CELL_MODEL_DEFAULTS,e.InACapabilities.V174_QDATA_CELL_MODEL_DEFAULTS);this.check(t,e.FeatureToggleOlap.DISP_HIERARCHY_FIX_IN_FILTER,e.InACapabilities.V186_DISP_HIERARCHY_FIX_IN_FILTER);this.check(t,e.FeatureToggleOlap.CUSTOM_DIMENSION_2_FOR_AGILE_BI,e.InACapabilities.C211_CUSTOM_DIMENSION_2);this.check(t,e.FeatureToggleOlap.CUSTOM_DIMENSION_2_FOR_INA_MODEL,e.InACapabilities.C211_CUSTOM_DIMENSION_2);this.check(t,e.FeatureToggleOlap.MEMBER_VALUE_EXCEPTIONS,e.InACapabilities.V188_MEMBER_VALUE_EXCEPTIONS);this.check(t,e.FeatureToggleOlap.DYN_MEMBERS_ON_NON_MEASURE_STRUCTURE,e.InACapabilities.V248_DYNAMIC_MEMBERS_ON_NON_MEASURE_STRUCTURE);this.check(t,e.FeatureToggleOlap.RESULTSET_CELL_FORMAT_TYPE_SPECIFIC,e.InACapabilities.V268_RESULTSET_CELL_FORMAT_TYPE_SPECIFIC);this.check(t,e.FeatureToggleOlap.CUBE_BLENDING_N_QUERIES,e.InACapabilities.V214_CUBE_BLENDING_N_QUERIES);this.check(t,e.FeatureToggleOlap.DATASOURCE_TYPE_QUERY_METADATA,e.InACapabilities.V210_DATASOURCE_TYPE_QUERY_METADATA);this.check(t,e.FeatureToggleOlap.DATASOURCE_TYPE_QUERY,e.InACapabilities.V212_DATASOURCE_TYPE_QUERY);this.check(t,e.FeatureToggleOlap.TUPLES_OPERAND,e.InACapabilities.V216_TUPLES_OPERAND);this.check(t,e.FeatureToggleOlap.UDH_ALIGNMENT,e.InACapabilities.V250_UDH_ALIGNMENT);this.check(t,e.FeatureToggleOlap.SID_PRESENTATION,e.InACapabilities.V232_SID_PRESENTATION);this.check(t,e.FeatureToggleOlap.METADATA_CUBE_RESPONSE_SUPPRESS_PROPERTIES,e.InACapabilities.V190_METADATA_CUBE_RESPONSE_SUPPRESS_PROPERTIES);this.check(t,e.FeatureToggleOlap.HIERARCHY_CATALOG,e.InACapabilities.V322_HIERARCHY_CATALOG);this.check(t,e.FeatureToggleOlap.METADATA_DIMENSION_OTHERS,e.InACapabilities.V224_METADATA_DIMENSION_OTHERS);this.check(t,e.FeatureToggleOlap.METADATA_DIMENSION_IS_MODELED,e.InACapabilities.V226_METADATA_DIMENSION_IS_MODELED);this.check(t,e.FeatureToggleOlap.RESULTSET_CELL_MEASURE,e.InACapabilities.V264_RESULTSET_CELL_MEASURE);this.check(t,e.FeatureToggleOlap.RESULTSETV2_METADATA_EXTENSION1,e.InACapabilities.V266_RESULTSETV2_METADATA_EXTENSION1);this.check(t,e.FeatureToggleOlap.CORRECT_DIMENSION_DESCRIPTION,e.InACapabilities.V198_DIMENSION_DESCRIPTION);this.check(t,e.FeatureToggleOlap.SUPPRESS_SUPPLEMENTS,e.InACapabilities.V230_SUPPRESS_SUPPLEMENTS);this.check(t,e.FeatureToggleOlap.WINDOW_FUNCTION,e.InACapabilities.V218_WINDOW_FUNCTION);this.check(t,e.FeatureToggleOlap.HIERARCHY_PATH_PRESENTATION_TYPE,e.InACapabilities.V294_HIERARCHY_PATH_PRESENTATION_TYPE);this.check(t,e.FeatureToggleOlap.DIMENSION_KEY_ATTRIBUTES,e.InACapabilities.V296_DIMENSION_KEY_ATTRIBUTES);this.check(t,e.FeatureToggleOlap.NAMED_CUSTOM_DIMENSION_MEMBER,e.InACapabilities.V236_NAMED_CUSTOM_DIMENSION_MEMBER);this.check(t,e.FeatureToggleOlap.AUTO_VARIABLE_SUBMIT_CAPABILITY,e.InACapabilities.V286_AUTO_VARIABLE_SUBMIT);this.check(t,e.FeatureToggleOlap.NULL_ZERO_SUPPRESSION,e.InACapabilities.V254_NULL_ZERO_SUPPRESSION);this.check(t,e.FeatureToggleOlap.INPUT_READINESS_WITH_NAVIGATIONAL_ATTRIBUTES,e.InACapabilities.V256_INPUT_READINESS_WITH_NAVIGATIONAL_ATTRIBUTES);this.check(t,e.FeatureToggleOlap.ITERATED_FORMULA,e.InACapabilities.V270_ITERATED_FORMULA);this.check(t,e.FeatureToggleOlap.CDS_PROJECTION_VIEWS,e.InACapabilities.V272_CDS_PROJECTION_VIEWS);this.check(t,e.FeatureToggleOlap.CELL_DOCUMENT_ID,e.InACapabilities.V274_CELL_DOCUMENT_ID);this.check(t,e.FeatureToggleOlap.TUPLE_COUNT_BEFORE_SLICING,e.InACapabilities.V298_PAGING_TUPLE_COUNT_BEFORE_SLICING);this.check(t,e.FeatureToggleOlap.TEXT_IN_HIERARCHY,e.InACapabilities.V302_TEXT_IN_HIERARCHY);this.check(t,e.FeatureToggleOlap.ASYNC_BLENDING_BATCH_REQUEST,e.InACapabilities.V308_ASYNC_BLENDING_BATCH_REQUEST);this.check(t,e.FeatureToggleOlap.MAINTAIN_VARIABLE_VARIANTS,e.InACapabilities.V320_MAINTAINS_VARIABLE_VARIANTS);this.check(t,e.FeatureToggleOlap.DATA_CELL_CONTEXTS,e.InACapabilities.V324_DATA_CELL_CONTEXTS);this.check(t,e.FeatureToggleOlap.NAME_PATH,e.InACapabilities.V326_NAME_PATH);this.check(t,e.FeatureToggleOlap.DISPLAY_KEY_MIXED_COMPOUNDMENT,e.InACapabilities.V328_MIXED_DISPLAY_KEY);this.check(t,e.FeatureToggleOlap.SEMANTIC_OBJECT,e.InACapabilities.V332_SEMANTIC_OBJECT);this.check(t,e.FeatureToggleOlap.ERROR_ABOVE_LEVEL,e.InACapabilities.V336_ERROR_ABOVE_LEVEL);this.check(t,e.FeatureToggleOlap.BW_PERSISTED_INA,e.InACapabilities.V340_INA_PERSISTED);this.check(t,e.FeatureToggleOlap.INAMODEL_EXTERNAL_DIMENSION,e.InACapabilities.V342_INAMODEL_EXTERNAL_DIMENSION);this.check(t,e.FeatureToggleOlap.INAMODEL_EXTERNAL_VALUE_HELP,e.InACapabilities.V344_INAMODEL_EXTERNAL_VALUE_HELP);this.check(t,e.FeatureToggleOlap.MAX_DRILL_LEVEL,e.InACapabilities.V346_MAX_DRILL_LEVEL);this.check(t,e.FeatureToggleOlap.SQL_TYPE_BOOLEAN,e.InACapabilities.V354_SQL_TYPE_BOOLEAN);this.check(t,e.FeatureToggleOlap.STRUCTURE_ON_FREE_AXIS,e.InACapabilities.V356_STRUCTURE_ON_FREE_AXIS);this.check(t,e.FeatureToggleOlap.METADATA_HAS_EXTERNAL_HIERARCHIES,e.InACapabilities.V358_METADATA_HAS_EXTERNAL_HIERARCHIES);this.check(t,e.FeatureToggleOlap.EXCEPTION_THRESHOLD_NO_PRECISION,e.InACapabilities.V360_EXCEPTION_THRESHOLD_NO_PRECISION);this.check(t,e.FeatureToggleOlap.RETURN_METADATA_EXTENSIONS,e.InACapabilities.V362_RETURN_METADATA_EXTENSIONS);this.check(t,e.FeatureToggleOlap.MDS_METADATA_RESULT_FORMAT_OPTIONS,e.InACapabilities.V368_METADATA_RESULT_FORMAT_OPTIONS);this.check(t,e.FeatureToggleOlap.MDS_LIGHTWEIGHT_METADATA,e.InACapabilities.V370_LIGHTWEIGHT_METADATA);this.check(t,e.FeatureToggleOlap.MDS_VIRTUAL_DATA_SOURCE_TYPE_COLUMNS,e.InACapabilities.V372_VIRTUAL_DATA_SOURCE_TYPE_COLUMNS);this.check(t,e.FeatureToggleOlap.MDS_RESULTSET_NUMERIC_TYPES_AS_TEXT,e.InACapabilities.V375_RESULTSET_NUMERIC_TYPES_AS_TEXT);this.check(t,e.FeatureToggleOlap.MEASURE_DIMENSION_ID_ATTRIBUTE,e.InACapabilities.V376_MEASURE_DIMENSION_ID_ATTRIBUTE);this.checkButOnly(t,e.FeatureToggleOlap.UNIQUE_AXIS_PROPERTIES_BW,e.InACapabilities.V382_UNIQUE_AXIS_PROPERTIES,n,e.SystemType.BW);this.check(t,e.FeatureToggleOlap.UNIQUE_AXIS_PROPERTIES,e.InACapabilities.V382_UNIQUE_AXIS_PROPERTIES);this.check(t,e.FeatureToggleOlap.MDS_SPATIAL_TRANSFORM_DISTANCE_FILTER,e.InACapabilities.V384_MDS_SPATIAL_TRANSFORM_DISTANCE_FILTER);this.check(t,e.FeatureToggleOlap.RS_NUM_VALUES_WITH_INTERNAL_PRECISION,e.InACapabilities.V386_RS_NUM_VALUES_WITH_INTERNAL_PRECISION);this.check(t,e.FeatureToggleOlap.DIMENSION_HIERARCHY_METADATA,e.InACapabilities.V388_DIMENSION_HIERARCHY_METADATA);this.check(t,e.FeatureToggleOlap.MDS_UM_INHERITED_PROPS_HIGHER_PRIORITY,e.InACapabilities.V390_MDS_UM_INHERITED_PROPS_HIGHER_PRIORITY);this.check(t,e.FeatureToggleOlap.MDS_CALCULATE_WITH_NULL_CELLS_UNIT_TYPE,e.InACapabilities.V392_MDS_CALCULATE_WITH_NULL_CELLS_UNIT_TYPE);this.check(t,e.FeatureToggleOlap.RESULT_SET_CACHE,e.InACapabilities.V394_RESULT_SET_CACHE);this.check(t,e.FeatureToggleOlap.CONDITIONS_WITH_VERSION_DIMENSION,e.InACapabilities.V397_CONDITIONS_WITH_VERSION_DIMENSION);this.check(t,e.FeatureToggleOlap.VALUE_HELP_HIERARCHY_PATH,e.InACapabilities.V402_VALUE_HELP_HIERARCHY_PATH);this.check(t,e.FeatureToggleOlap.SORTING_DEFAULTS,e.InACapabilities.V406_SORTING_DEFAULTS);this.check(t,e.FeatureToggleOlap.HIERARCHY_DEFAULTS,e.InACapabilities.V412_HIERARCHY_DEFAULTS);this.check(t,e.FeatureToggleOlap.OTHERS_FROM_CONDITIONS,e.InACapabilities.V414_OTHERS_FROM_CONDITIONS);this.check(t,e.FeatureToggleOlap.INPUT_ENABLEMENT_FILTER_SETTINGS,e.InACapabilities.V416_INPUT_ENABLEMENT_FILTER_SETTINGS);this.check(t,e.FeatureToggleOlap.UNIT_TRANSLATION,e.InACapabilities.V418_UNIT_TRANSLATION);this.check(t,e.FeatureToggleOlap.MEASURE_MEMBER_UNIT_TRANSLATIONS,e.InACapabilities.V420_MEASURE_MEMBER_UNIT_TRANSLATIONS);this.check(t,e.FeatureToggleOlap.UDH_KEY,e.InACapabilities.V424_UDH_KEY);this.check(t,e.FeatureToggleOlap.NUMERIC_SHIFT_PERCENT,e.InACapabilities.V426_NUMERIC_SHIFT_PERCENT);this.check(t,e.FeatureToggleOlap.MDS_DISPLAY_ATTRIBUTES,e.InACapabilities.V428_DISPLAY_MDS_ATTRIBUTES);this.checkButOnly(t,e.FeatureToggleOlap.IBP_DISPLAY_ATTRIBUTES,e.InACapabilities.V428_DISPLAY_MDS_ATTRIBUTES,n,e.SystemType.ABAP_MDS);this.checkButOnly(t,e.FeatureToggleOlap.IBP_FILTER_CAPABILITY_EXTENDED,e.InACapabilities.V440_FILTER_CAPABILITY_EXTENDED,n,e.SystemType.ABAP_MDS);this.check(t,e.FeatureToggleOlap.CUSTOM_DIMENSION_2_MEMBER_METADATA,e.InACapabilities.V430_CUSTOM_DIMENSION_2_MEMBER_MD);this.check(t,e.FeatureToggleOlap.MEMBER_UNIQUE_NAMES_COMPATIBILITY,e.InACapabilities.MEMBER_UNIQUE_NAMES_COMPATIBILITY);this.check(t,e.FeatureToggleOlap.MDS_COMPOUND_KEY,e.InACapabilities.V434_MDS_COMPOUND_KEY);this.check(t,e.FeatureToggleOlap.CONDITIONS_WITH_HIDDEN_MEASURES,e.InACapabilities.V438_CONDITIONS_WITH_HIDDEN_MEASURES);this.check(t,e.FeatureToggleOlap.FILTER_CAPABILITY_EXTENDED,e.InACapabilities.V440_FILTER_CAPABILITY_EXTENDED);this.check(t,e.FeatureToggleOlap.RRI_2,e.InACapabilities.V444_RRI_2);this.check(t,e.FeatureToggleOlap.TUPLES_OPERAND_FROM_DATA_SOURCE,e.InACapabilities.V450_TUPLES_OPERAND_FROM_DATA_SOURCE);this.check(t,e.FeatureToggleOlap.SIMULATION,e.InACapabilities.V452_SIMULATION);this.check(t,e.FeatureToggleOlap.OTHERS_DETAILS_FROM_CONDITIONS,e.InACapabilities.V454_OTHERS_DETAILS_FROM_CONDITIONS);this.check(t,e.FeatureToggleOlap.INPUT_READINESS_FILTER,e.InACapabilities.V458_INPUT_READINESS_FILTER);this.check(t,e.FeatureToggleOlap.FLEX_CLIENT_INFO,e.InACapabilities.V455_FLEX_CLIENT_INFO);this.check(t,e.FeatureToggleOlap.SORT_TUPLE_MEMBER_TYPE,e.InACapabilities.V461_SORT_TUPLE_MEMBER_TYPE);this.check(t,e.FeatureToggleOlap.RRI_3,e.InACapabilities.V463_RRI_3);this.check(t,e.FeatureToggleOlap.SUPPORTS_RUNNING_AGGREGATION,e.InACapabilities.V471_SUPPORTS_RUNNING_AGGREGATION);this.check(t,e.FeatureToggleOlap.AGGREGATIONS_FIRST_LAST_AVG_OF_DIMENSION,e.InACapabilities.V473_AGGREGATIONS_FIRST_LAST_AVG_OF_DIMENSION);this.check(t,e.FeatureToggleOlap.FUNCTIONAL_VARIABLES,e.InACapabilities.V477_FUNCTIONAL_VARIABLES);this.check(t,e.FeatureToggleOlap.CDM_VISIBILITY_FILTER,e.InACapabilities.V479_CDM_VISIBILITY_FILTER);this.check(t,e.FeatureToggleOlap.BLENDING_CUSTOM_DIMENSION_1_NONE_AXIS,e.InACapabilities.V481_BLENDING_CUSTOM_DIMENSION_1_NONE_AXIS);this.check(t,e.FeatureToggleOlap.METADATA_NON_UNIQUE_DISPLAY_ATTRIBUTE,e.InACapabilities.V483_METADATA_NON_UNIQUE_DISPLAY_ATTRIBUTE);this.check(t,e.FeatureToggleOlap.BLENDING_TOTALS,e.InACapabilities.V485_BLENDING_TOTALS);this.check(t,e.FeatureToggleOlap.ASYNC_BATCH_REQUEST_HEARTBEAT,e.InACapabilities.V487_ASYNC_BATCH_REQUEST_HEARTBEAT);this.check(t,e.FeatureToggleOlap.DIMENSION_SEMANTIC_TYPE,e.InACapabilities.V489_DIMENSION_SEMANTIC_TYPE);this.check(t,e.FeatureToggleOlap.SORTED_ITERATED_FORMULA,e.InACapabilities.V491_SORTED_ITERATED_FORMULA);return t};e.InACapabilitiesProvider.prototype.createFeatureToggleCapabilities=function(t){let n=e.CapabilityContainer.create("featureToggle");if(t===e.ProviderType.PLANNING_COMMAND||t===e.ProviderType.PLANNING_VALUE_HELP){n=this.createFeatureTogglePlanningCapabilities(n)}else{n=this.createFeatureToggleAnalyticsCapabilities(n)}return n};e.InACapabilitiesProvider.prototype.createFeatureTogglePlanningCapabilities=function(t){t.addCapability(e.InACapabilities.C001_DATASOURCE_AT_SERVICE);t.addCapability(e.InACapabilities.C012_ENCODED_RESULTSET);t.addCapability(e.InACapabilities.C054_EXTENDED_SORT);t.addCapability(e.InACapabilities.C066_SUBMIT_RETURNS_VARIABLE_VALUES);t.addCapability(e.InACapabilities.C100_EXPAND_BOTTOM_UP);t.addCapability(e.InACapabilities.C136_READ_MODES_V2);t.addCapability(e.InACapabilities.C129_INITIAL_DRILL_LEVEL_RELATIVE);t.addCapability(e.InACapabilities.C032_FAST_PATH);t.addCapability(e.InACapabilities.C113_DATA_CELL_MIXED_VALUES);t.addCapability(e.InACapabilities.C110_DEFINITION_RETURNS_VARIABLE_VALUES);t.addCapability(e.InACapabilities.C169_DIMENSION_HIERARCHY_LEVELS);t.addCapability(e.InACapabilities.C159_EXCEPTIONS_V2);t.addCapability(e.InACapabilities.C019_EXTENDED_DIMENSION_TYPES);t.addCapability(e.InACapabilities.C146_EXTENDED_VARIABLE_DEFINITION);t.addCapability(e.InACapabilities.C186_F4_FILTER_FOR_TEXT_FIELD);t.addCapability(e.InACapabilities.C125_MDS_LIKE_PAGING);t.addCapability(e.InACapabilities.C173_METADATA_BASE_MEASURE_NAME);t.addCapability(e.InACapabilities.C175_PRESENTATION_LENGTH);t.addCapability(e.InACapabilities.C179_UNASSIGNED_NODE_AS_DEFINED_IN_QUERY);t.addCapability(e.InACapabilities.C142_KEYFIGURE_HIERARCHIES);t.addCapability(e.InACapabilities.C048_MEMBER_VISIBILITY);t.addCapability(e.InACapabilities.C119_RESTRICTED_KEYFIGURES);t.addCapability(e.InACapabilities.C036_ATTRIBUTE_HIERARCHY_HIERARCHY_FIELDS);t.addCapability(e.InACapabilities.C035_HIERARCHY_NAVIGATION_COUNTER);t.addCapability(e.InACapabilities.C020_NEW_VALUES_IMPLICIT_UNLOCK);t.addCapability(e.InACapabilities.C021_NEW_VALUES_EXTENDED_FORMAT);t.addCapability(e.InACapabilities.C005_OBTAINABILITY);t.addCapability(e.InACapabilities.C026_QUERY_DATA_CELLS);t.addCapability(e.InACapabilities.C049_RESULTSET_INTERVAL);t.addCapability(e.InACapabilities.C017_SAP_DATE);t.addCapability(e.InACapabilities.C009_STATEFUL_SERVER);t.addCapability(e.InACapabilities.C037_SUPPLEMENTS);t.addCapability(e.InACapabilities.C018_CUMMULATIVE);t.addCapability(e.InACapabilities.C011_SET_OPERAND);t.addCapability(e.InACapabilities.C002_VARIABLE_RE_SUBMIT);t.addCapability(e.InACapabilities.C045_ZERO_SUPPRESSION);t.addCapability(e.InACapabilities.V158_UNIVERSAL_DISPLAY_HIERARCHY_ZERO_BASED);t.addCapability(e.InACapabilities.V168_EXT_KEYFIGURE_PROPERTIES);t.addCapability(e.InACapabilities.V174_QDATA_CELL_MODEL_DEFAULTS);t.addCapability(e.InACapabilities.V186_DISP_HIERARCHY_FIX_IN_FILTER);t.addCapability(e.InACapabilities.V230_SUPPRESS_SUPPLEMENTS);t.addCapability(e.InACapabilities.V232_SID_PRESENTATION);t.addCapability(e.InACapabilities.V322_HIERARCHY_CATALOG);return t};e.InACapabilitiesProvider.prototype.createMainAnalyticsCapabilities=function(t){t.addCapability(e.InACapabilities.C000_ATTRIBUTE_HIERARCHY);t.addCapability(e.InACapabilities.C001_DATASOURCE_AT_SERVICE);t.addCapability(e.InACapabilities.C002_VARIABLE_RE_SUBMIT);t.addCapability(e.InACapabilities.C003_CLIENT_CAPABILITIES);t.addCapability(e.InACapabilities.C004_METADATA_SERVICE);t.addCapability(e.InACapabilities.C005_OBTAINABILITY);t.addCapability(e.InACapabilities.C006_READ_MODE);t.addCapability(e.InACapabilities.C007_RESPONSE_FIXED_ATTRIBUTE_SEQUENCE);t.addCapability(e.InACapabilities.C008_SERVER_STRUCTURE_NAMES);t.addCapability(e.InACapabilities.C009_STATEFUL_SERVER);t.addCapability(e.InACapabilities.C010_STATEFUL_DATA_PROVIDER);t.addCapability(e.InACapabilities.C011_SET_OPERAND);t.addCapability(e.InACapabilities.C012_ENCODED_RESULTSET);t.addCapability(e.InACapabilities.C013_COMPLEX_FILTERS);t.addCapability(e.InACapabilities.C014_UNIFIED_REQUEST_SYNTAX);t.addCapability(e.InACapabilities.C015_SEMANTICAL_ERROR_TYPE);t.addCapability(e.InACapabilities.C016_EXT_HIERARCHY);t.addCapability(e.InACapabilities.C017_SAP_DATE);t.addCapability(e.InACapabilities.C018_CUMMULATIVE);t.addCapability(e.InACapabilities.C019_EXTENDED_DIMENSION_TYPES);t.addCapability(e.InACapabilities.C020_NEW_VALUES_IMPLICIT_UNLOCK);t.addCapability(e.InACapabilities.C021_NEW_VALUES_EXTENDED_FORMAT);t.addCapability(e.InACapabilities.C022_HIERARCHY_NAME_VARIABLE);t.addCapability(e.InACapabilities.C023_EXCEPTIONS);t.addCapability(e.InACapabilities.C024_EXCEPTION_SETTINGS);t.addCapability(e.InACapabilities.C025_RUN_AS_USER);t.addCapability(e.InACapabilities.C026_QUERY_DATA_CELLS);t.addCapability(e.InACapabilities.C027_RESULTSET_CELL_VALUE_TYPES);t.addCapability(e.InACapabilities.C028_METADATA_DIMENSION_GROUP);t.addCapability(e.InACapabilities.C029_RESULTSET_CELL_FORMAT_STRING);t.addCapability(e.InACapabilities.C030_UNIQUE_ATTRIBUTE_NAMES);t.addCapability(e.InACapabilities.C031_METADATA_IS_DISPLAY_ATTRIBUTE);t.addCapability(e.InACapabilities.C032_FAST_PATH);t.addCapability(e.InACapabilities.C033_ATTRIBUTE_HIERARCHY_UNIQUE_FIELDS);t.addCapability(e.InACapabilities.C034_HIERARCHY_KEY_TEXT_NAME);t.addCapability(e.InACapabilities.C035_HIERARCHY_NAVIGATION_COUNTER);t.addCapability(e.InACapabilities.C036_ATTRIBUTE_HIERARCHY_HIERARCHY_FIELDS);t.addCapability(e.InACapabilities.C037_SUPPLEMENTS);t.addCapability(e.InACapabilities.C038_USE_EPM_VERSION);t.addCapability(e.InACapabilities.C039_DIMENSION_KIND_EPM_VERSION);t.addCapability(e.InACapabilities.C040_DIMENSION_KIND_CHART_OF_ACCOUNTS);t.addCapability(e.InACapabilities.C041_SP9);t.addCapability(e.InACapabilities.C042_TECHNICAL_AXIS);t.addCapability(e.InACapabilities.C043_DIMENSION_VALUEHELP_PROPERTY);t.addCapability(e.InACapabilities.C044_PAGING_TUPLE_COUNT_TOTAL);t.addCapability(e.InACapabilities.C045_ZERO_SUPPRESSION);t.addCapability(e.InACapabilities.C046_MANUAL_INPUT);t.addCapability(e.InACapabilities.C047_MULTI_SOURCE);t.addCapability(e.InACapabilities.C048_MEMBER_VISIBILITY);t.addCapability(e.InACapabilities.C049_RESULTSET_INTERVAL);t.addCapability(e.InACapabilities.C050_REPORT_REPORT_INTERFACE);t.addCapability(e.InACapabilities.C051_HIERARCHY_PATH);t.addCapability(e.InACapabilities.C052_METADATA_HIERARCHY_STRUCTURE);t.addCapability(e.InACapabilities.C053_METADATA_HIERARCHY_LEVELS);t.addCapability(e.InACapabilities.C054_EXTENDED_SORT);t.addCapability(e.InACapabilities.C055_CUSTOM_DIMENSION_MEMBER_EXECUTION_STEP);t.addCapability(e.InACapabilities.C056_HIERARCHY_PATH_UNIQUE_NAME);t.addCapability(e.InACapabilities.C057_HIERARCHY_DATA_AND_EXCLUDING_FILTERS);t.addCapability(e.InACapabilities.C058_HIERARCHY_SELECTION_AS_FLAT_SELECTION);t.addCapability(e.InACapabilities.C059_VISIBILITY_FILTER);t.addCapability(e.InACapabilities.C060_CELL_VALUE_OPERAND);t.addCapability(e.InACapabilities.C061_SPATIAL_FILTER);t.addCapability(e.InACapabilities.C062_SPATIAL_FILTER_WITH_SRID);t.addCapability(e.InACapabilities.C063_SPATIAL_TRANSFORMATIONS);t.addCapability(e.InACapabilities.C064_SPATIAL_CLUSTERING);t.addCapability(e.InACapabilities.C065_HIERARCHY_TRAPEZOID_FILTER);t.addCapability(e.InACapabilities.C066_SUBMIT_RETURNS_VARIABLE_VALUES);t.addCapability(e.InACapabilities.C067_EXTENDED_DIMENSIONS);t.addCapability(e.InACapabilities.C068_EXTENDED_DIMENSIONS_FIELD_MAPPING);t.addCapability(e.InACapabilities.C069_EXTENDED_DIMENSIONS_JOIN_COLUMNS);t.addCapability(e.InACapabilities.C070_EXTENDED_DIMENSIONS_OUTER_JOIN);t.addCapability(e.InACapabilities.C071_EXTENDED_DIMENSIONS_SKIP);t.addCapability(e.InACapabilities.C072_METADATA_DEFAULT_RESULT_ALIGNMENT_BOTTOM);t.addCapability(e.InACapabilities.C073_IGNORE_EXTERNAL_DIMENSIONS);t.addCapability(e.InACapabilities.C074_RETURN_RESTRICTED_AND_CALCULATED_MEMBERS_IN_READ_MODE_BOOKED);t.addCapability(e.InACapabilities.C075_PERSIST_RESULTSET);t.addCapability(e.InACapabilities.C076_RESTRICTED_MEMBERS_CONVERT_TO_FLAT_SELECTION);t.addCapability(e.InACapabilities.C077_VARIABLES);t.addCapability(e.InACapabilities.C078_TOTALS);t.addCapability(e.InACapabilities.C079_ENCODED_RESULTSET_2);t.addCapability(e.InACapabilities.C080_RESULTSET_STATE);t.addCapability(e.InACapabilities.C081_RESULTSET_CELL_NUMERIC_SHIFT);t.addCapability(e.InACapabilities.C082_RESULTSET_CELL_DATA_TYPE);t.addCapability(e.InACapabilities.C083_ORDER_BY);t.addCapability(e.InACapabilities.C084_METADATA_REPOSITORY_SUFFIX);t.addCapability(e.InACapabilities.C085_METADATA_CUBE_QUERY);t.addCapability(e.InACapabilities.C086_MAX_RESULT_RECORDS);t.addCapability(e.InACapabilities.C087_IGNORE_UNIT_OF_NULL_IN_AGGREGATION);t.addCapability(e.InACapabilities.C088_SET_NULL_CELLS_UNIT_TYPE);t.addCapability(e.InACapabilities.C089_DIMENSION_FILTER);t.addCapability(e.InACapabilities.C090_DIMENSION_F4_SELECTION_WITH_COMPOUNDMENT);t.addCapability(e.InACapabilities.C091_CUBE_BLENDING);t.addCapability(e.InACapabilities.C092_CUBE_BLENDING_AGGREGATION);t.addCapability(e.InACapabilities.C093_REMOTE_BLENDING);t.addCapability(e.InACapabilities.C094_CUBE_BLENDING_CUSTOM_MEMBERS);t.addCapability(e.InACapabilities.C095_CUBE_BLENDING_MEMBER_SORTING);t.addCapability(e.InACapabilities.C096_CUBE_BLENDING_OUT_OF_CONTEXT);t.addCapability(e.InACapabilities.C097_CUBE_BLENDING_PROPERTIES);t.addCapability(e.InACapabilities.C098_CUBE_BLENDING_READ_MODE);t.addCapability(e.InACapabilities.C099_METADATA_DATA_CATEGORY);t.addCapability(e.InACapabilities.C100_EXPAND_BOTTOM_UP);t.addCapability(e.InACapabilities.C101_CONDITIONS);t.addCapability(e.InACapabilities.C102_AGGREGATION_NOP_NULL);t.addCapability(e.InACapabilities.C103_AGGREGATION_NOP_NULL_ZERO);t.addCapability(e.InACapabilities.C104_EXCEPTION_AGGREGATION_DIMENSIONS_AND_FORMULAS);t.addCapability(e.InACapabilities.C105_EXCEPTION_AGGREGATION_AVGNULL_SELECTION_MEMBER);t.addCapability(e.InACapabilities.C106_EXCEPTION_AGGREGATION_COUNTNULL_SELECTION_MEMBER);t.addCapability(e.InACapabilities.C107_STATISTICAL_AGGREGATIONS);t.addCapability(e.InACapabilities.C108_MDS_EXPRESSION);t.addCapability(e.InACapabilities.C109_TOTALS_AFTER_VISIBILITY_FILTER);t.addCapability(e.InACapabilities.C110_DEFINITION_RETURNS_VARIABLE_VALUES);t.addCapability(e.InACapabilities.C111_HIERARCHY_NAVIGATION_DELTA_MODE);t.addCapability(e.InACapabilities.C112_FLAT_KEY_ON_HIERARCHY_DISPLAY);t.addCapability(e.InACapabilities.C113_DATA_CELL_MIXED_VALUES);t.addCapability(e.InACapabilities.C114_VALUES_ROUNDED);t.addCapability(e.InACapabilities.C115_ATTRIBUTE_VALUE_LOOKUP);t.addCapability(e.InACapabilities.C116_METADATA_HIERARCHY_UNIQUE_NAME);t.addCapability(e.InACapabilities.C117_CANCEL_RUNNING_REQUESTS);t.addCapability(e.InACapabilities.C118_CALCULATED_KEYFIGURES);t.addCapability(e.InACapabilities.C119_RESTRICTED_KEYFIGURES);t.addCapability(e.InACapabilities.C120_CURRENT_MEMBER_FILTER_EXTENSION);t.addCapability(e.InACapabilities.C121_RETURN_ERROR_FOR_INVALID_QUERYMODEL);t.addCapability(e.InACapabilities.C122_ORIGINAL_TEXTS);t.addCapability(e.InACapabilities.C123_CUSTOM_DIMENSION_FILTER);t.addCapability(e.InACapabilities.C124_AVERAGE_COUNT_IGNORE_NULL_ZERO);t.addCapability(e.InACapabilities.C125_MDS_LIKE_PAGING);t.addCapability(e.InACapabilities.C126_HIERARCHY_LEVEL_OFFSET_FILTER);t.addCapability(e.InACapabilities.C127_CE_SCENARIO_PARAMS);t.addCapability(e.InACapabilities.C128_METADATA_DIMENSION_CAN_BE_AGGREGATED);t.addCapability(e.InACapabilities.C129_INITIAL_DRILL_LEVEL_RELATIVE);t.addCapability(e.InACapabilities.C130_MDM_HIERARCHY_WITH_DRILL_LEVEL);t.addCapability(e.InACapabilities.C131_NO_HIERARCHY_PATH_ON_FLAT_DIMENSIONS);t.addCapability(e.InACapabilities.C132_DATA_REFRESH);t.addCapability(e.InACapabilities.C133_RESULTSET_AXIS_TYPE);t.addCapability(e.InACapabilities.C134_EPM_RESPONSE_LIST_SHARED_VERSIONS);t.addCapability(e.InACapabilities.C135_VARIABLE_VARIANTS);t.addCapability(e.InACapabilities.C136_READ_MODES_V2);t.addCapability(e.InACapabilities.C137_LIST_REPORTING);t.addCapability(e.InACapabilities.C138_DIMENSION_TYPE_TIME);t.addCapability(e.InACapabilities.C139_UNIVERSAL_DISPLAY_HIERARCHIES);t.addCapability(e.InACapabilities.C140_CATALOG_SERVICE_V20);t.addCapability(e.InACapabilities.C141_RETURNED_DATA_SELECTION);t.addCapability(e.InACapabilities.C142_KEYFIGURE_HIERARCHIES);t.addCapability(e.InACapabilities.C143_EXTENDED_DIMENSIONS_JOIN_CARDINALITY);t.addCapability(e.InACapabilities.C144_METADATA_DATASOURCE_DEFINITION_VALIDATION);t.addCapability(e.InACapabilities.C145_DATA_REFRESH_AND_DATA_TOPICALITY);t.addCapability(e.InACapabilities.C146_EXTENDED_VARIABLE_DEFINITION);t.addCapability(e.InACapabilities.C147_INPUT_READINESS_STATES);t.addCapability(e.InACapabilities.C148_CUSTOM_MEASURE_SORTORDER);t.addCapability(e.InACapabilities.C149_CUSTOM_SORT);t.addCapability(e.InACapabilities.C150_CARTESIAN_FILTER_INTERSECT);t.addCapability(e.InACapabilities.C151_SUPPRESS_KEYFIGURE_CALCULATION);t.addCapability(e.InACapabilities.C152_IGNORE_UNIT_OF_ZERO_VALUE_IN_AGGREGATION);t.addCapability(e.InACapabilities.C153_VARIANCE_OPERATOR);t.addCapability(e.InACapabilities.C154_MD_DS_DEF_VAL_EXPOSE_DS);t.addCapability(e.InACapabilities.C155_CLIENT_INFO);t.addCapability(e.InACapabilities.C156_EXTENDED_DIMENSION_CHANGE_DEFAULT_RENAMING_AND_DESCRIPTION);t.addCapability(e.InACapabilities.C157_EXTENDED_DIMENSION_COPY_ALL_HIERARCHIES);t.addCapability(e.InACapabilities.C158_FIX_METADATA_HIERARCHY_ATTRIBUTES);t.addCapability(e.InACapabilities.C159_EXCEPTIONS_V2);t.addCapability(e.InACapabilities.C160_QUERY_CURRENCY_TRANSLATION);t.addCapability(e.InACapabilities.C161_STRUCTURE_RESTRICTIONS_IN_VALUE_HELP);t.addCapability(e.InACapabilities.C162_ASYNC_METADATA_BATCH_REQUEST);t.addCapability(e.InACapabilities.C163_HIERARCHY_VIRTUAL_ROOT_NODE);t.addCapability(e.InACapabilities.C164_HIERARCHY_REST_NODE);t.addCapability(e.InACapabilities.C165_SPATIAL_CHOROPLETH);t.addCapability(e.InACapabilities.C166_INA_CURRENT_MEMBER);t.addCapability(e.InACapabilities.C167_FORMULA_OPERATORS_CATALOG);t.addCapability(e.InACapabilities.C168_READMODE_RELATED_BOOOKED);t.addCapability(e.InACapabilities.C169_DIMENSION_HIERARCHY_LEVELS);t.addCapability(e.InACapabilities.C170_MDM_HIERARCHY_DRILL_LEVEL);t.addCapability(e.InACapabilities.C171_CALCULATED_DIMENSION);t.addCapability(e.InACapabilities.C172_PLANNING_ON_CALCULATED_DIMENSION);t.addCapability(e.InACapabilities.C173_METADATA_BASE_MEASURE_NAME);t.addCapability(e.InACapabilities.C174_REQUEST_TIME_ZONE);t.addCapability(e.InACapabilities.C175_PRESENTATION_LENGTH);t.addCapability(e.InACapabilities.C176_VISUAL_AGGREGATION);t.addCapability(e.InACapabilities.C177_DATA_ENTRY_ON_UNBOOKED);t.addCapability(e.InACapabilities.C178_MASTER_READ_MODE_BY_DIMENSION_GROUPING);t.addCapability(e.InACapabilities.C179_UNASSIGNED_NODE_AS_DEFINED_IN_QUERY);t.addCapability(e.InACapabilities.C180_REMOTE_FILTER);t.addCapability(e.InACapabilities.C181_FIX_HIERARCHY_FLAT_KEYS);t.addCapability(e.InACapabilities.C182_CUBE_BLENDING_PERSISTENCE_TYPE);t.addCapability(e.InACapabilities.C183_GET_PARAMETERS);t.addCapability(e.InACapabilities.C184_VERSION_PRIVILEGES);t.addCapability(e.InACapabilities.C185_VALUE_HELP_WITH_ATTRIBUTES);t.addCapability(e.InACapabilities.C186_F4_FILTER_FOR_TEXT_FIELD);t.addCapability(e.InACapabilities.C187_DIMENSION_DEFAULT_MEMBER);t.addCapability(e.InACapabilities.C188_LOCALE_SORTING);t.addCapability(e.InACapabilities.C189_DIMENSION_VISIBILITY);t.addCapability(e.InACapabilities.C190_METADATA_SEMANTIC_TYPE);t.addCapability(e.InACapabilities.C191_DYNAMIC_VARIABLES);t.addCapability(e.InACapabilities.C192_VIRTUAL_DS_VARIABLE_VALUES);t.addCapability(e.InACapabilities.C193_INA_MODEL_METADATA);t.addCapability(e.InACapabilities.C194_METADATA_EXTENDED_DIMENSION_VISIBILITY);t.addCapability(e.InACapabilities.C195_RESULTSET_UNIT_INDEX);t.addCapability(e.InACapabilities.C196_REMOTE_BLENDING_BW);t.addCapability(e.InACapabilities.C197_DYN_RESTRICTION_ON_FORMULA);t.addCapability(e.InACapabilities.C198_OPERATOR_TOTALS);t.addCapability(e.InACapabilities.C199_AV_CAPABILITY_VARIABLE_MASKING);t.addCapability(e.InACapabilities.C200_COMPLEX_TUPLE_FILTER);if(this.getSession().hasFeature(e.FeatureToggleOlap.FUSION_SERVICE)===false){t.addCapability(e.InACapabilities.C201_DETAILED_RESPONSE_EXPANSION)}t.addCapability(e.InACapabilities.C202_CUSTOM_HIERARCHY);t.addCapability(e.InACapabilities.C203_CUSTOM_MEMBER_KEY_SORT_ORDER);t.addCapability(e.InACapabilities.C204_UNIVERSAL_DISPLAY_HIERARCHY_CUSTOM_DIM);t.addCapability(e.InACapabilities.C205_RESUlTSET_EFFECTIVE_FILTER);t.addCapability(e.InACapabilities.C206_REMOTE_BLENDING_METADATA);t.addCapability(e.InACapabilities.C207_BATCH_RS_STREAMING);t.addCapability(e.InACapabilities.C208_EXCEPTION_AGGREGATION_FIRST_LAST_SELECTION_MEMBER);t.addCapability(e.InACapabilities.C209_RESULTSET_CELL_EXPLAIN);t.addCapability(e.InACapabilities.C211_CUSTOM_DIMENSION_2);t.addCapability(e.InACapabilities.C212_SORT_NEW_VALUES);t.addCapability(e.InACapabilities.C213_ROOT_ORPHANS_AFTER_VISIBILITY_FILTER);t.addCapability(e.InACapabilities.C214_IS_VIRTUAL_DESCRIPTION);t.addCapability(e.InACapabilities.C215_MEASURE_MEMBER_DEFINITION);t.addCapability(e.InACapabilities.C216_MEASURE_MEMBER_DETAILS);t.addCapability(e.InACapabilities.C217_MEASURE_MEMBER_TYPE);t.addCapability(e.InACapabilities.C218_CURRENCY_TRANSLATION);t.addCapability(e.InACapabilities.C219_MEASURE_MEMBER_CURRENCY_TRANSLATIONS);t.addCapability(e.InACapabilities.C220_UNDEFINED_TUPLE_COUNT_TOTALS);t.addCapability(e.InACapabilities.C221_UNIVERSAL_MODEL);t.addCapability(e.InACapabilities.C222_SET_OPERAND_CURRENT_MEMBER_SINGLE_NAVIGATION);t.addCapability(e.InACapabilities.C223_MULTIPLE_EX_AGG_DIMS_IN_CALC_PLAN);this.addCapabilitiesFromEnv(t)};e.InACapabilitiesProvider.prototype.createMainCapabilities=function(t){let n=e.CapabilityContainer.create("main");if(t===e.ProviderType.PLANNING_COMMAND||t===e.ProviderType.PLANNING_VALUE_HELP){this.createMainPlanningCapabilities(n)}else{this.createMainAnalyticsCapabilities(n)}return n};e.InACapabilitiesProvider.prototype.createMainPlanningCapabilities=function(t){t.addCapability(e.InACapabilities.C000_ATTRIBUTE_HIERARCHY);t.addCapability(e.InACapabilities.C003_CLIENT_CAPABILITIES);t.addCapability(e.InACapabilities.C022_HIERARCHY_NAME_VARIABLE);this.addCapabilitiesFromEnv(t)};e.InACapabilitiesProvider.prototype.doesServerSatisfyMinCustomDimension2CapabilitySet=function(){let t=this.m_serverMetadata.getMetadataForService(e.ServerService.ANALYTIC);if(e.isNull(t)){return false}let n=this.getSACBaselineHANALevel3Capabilities();for(let e=0;e<n.size();e++){if(!t.containsKey(n.get(e))){return false}}return true};e.InACapabilitiesProvider.prototype.exportActiveCapabilities=function(t){let n=this.exportActiveCapabilitiesAsList();if(e.notNull(n)){t.put("Capabilities",n)}return n};e.InACapabilitiesProvider.prototype.exportActiveCapabilitiesAsList=function(){let t=null;let n=this.getActiveCapabilities();if(e.notNull(n)){if(n.containsKey(e.InACapabilities.C003_CLIENT_CAPABILITIES)){let r=n.getSortedCapabilityNames();t=e.PrFactory.createList();t.addAllStrings(r)}}return t};e.InACapabilitiesProvider.prototype.getActiveCapabilities=function(){if(e.isNull(this.m_activeCapabilities)){let t=null;let n=this.getServerMainCapabilities();let r=this.getServerBetaCapabilities();let i=this.getClientMainCapabilities();let a=this.getClientFeatureToggleCapabilities();if(this.getSession().hasFeature(e.FeatureToggleOlap.SIMPLIFIED_CAPABILITY_MERGE)){if(e.notNull(n)){if(this.getSession().hasFeature(e.FeatureToggleOlap.DEVELOPMENT_MODE)){t=n.union(r)}else{let i=r.intersect(e.InACapabilitiesProvider.SAC_DEV_CAPABILITIES);t=n.union(i)}}let o=i.union(a);if(e.notNull(t)){this.m_activeCapabilities=t.intersect(o)}}else{t=this._sacFallback(n,r);if(e.notNull(t)){let o=t.intersect(i);if(this.getSession().hasFeature(e.FeatureToggleOlap.DEVELOPMENT_MODE)){if(e.notNull(n)){t=n.union(r)}}let l=t.intersect(a);this.m_activeCapabilities=o.union(l)}}if(this.m_serverMetadata.getSystemDescription().getSystemType().isTypeOf(e.SystemType.HANA)&&e.notNull(this.m_activeCapabilities)&&this.m_activeCapabilities.containsKey(e.InACapabilities.C211_CUSTOM_DIMENSION_2)&&(e.ServerVersionComparator.compare(this.m_serverMetadata.getVersion(),"1.0.122.14.00000000")===1||!this.doesServerSatisfyMinCustomDimension2CapabilitySet())){this.m_activeCapabilities.remove(e.InACapabilities.C211_CUSTOM_DIMENSION_2)}}return this.m_activeCapabilities};e.InACapabilitiesProvider.prototype.getClientFeatureToggleCapabilities=function(){return this.m_clientFeatureToggleCapabilities};e.InACapabilitiesProvider.prototype.getClientMainCapabilities=function(){return this.m_clientMainCapabilities};e.InACapabilitiesProvider.prototype.getDimensionExtensionCapabilities=function(){return this.m_dimensionExtensionCapabilities};e.InACapabilitiesProvider.prototype.getDocumentCapabilities=function(){return this.m_documentCapabilities};e.InACapabilitiesProvider.prototype.getProviderType=function(){return this.m_providerType};e.InACapabilitiesProvider.prototype.getQueryCapabilities=function(){let t=e.QCapabilities.create();if(e.notNull(this.m_serverMetadata)){t.setSystemType(this.m_serverMetadata.getSystemDescription().getSystemType());t.setSystemName(this.m_serverMetadata.getSystemDescription().getSystemName());t.setServerMetadataVersion(this.m_serverMetadata.getVersion());let n=this.getActiveCapabilities();e.InACapabilitiesProvider.importCapabilities(n,t)}return t};e.InACapabilitiesProvider.prototype.getSACBaselineHANALevel3Capabilities=function(){let t=e.XList.create();t.add("AttributeValueLookup");t.add("CellValueOperand");t.add("SupportsIgnoreExternalDimensions");t.add("SetOperandCurrentMemberSingleNavigation");t.add("CurrentMemberFilterExtension");t.add("ExceptionAggregationDimsAndFormulas");t.add("CubeBlending");t.add("CubeBlendingProperties");t.add("CubeBlendingMemberSorting");t.add("CubeBlendingCustomMembers");t.add("CubeBlendingReadMode");t.add("CubeBlendingOutOfContext");t.add("SupportsCubeBlendingAggregation");t.add("ExceptionSettings");t.add("AggregationNOPNULL");t.add("AggregationNOPNULLZERO");t.add("MultipleExAggDimsInCalcPlan");t.add("ExtendedDimensionsChangeDefaultRenamingAndDescription");t.add("ExtendedDimensionsCopyAllHierarchies");t.add("FixMetaDataHierarchyAttributes");t.add("RemoteBlending");t.add("CalculatedDimension");t.add("PlanningOnCalculatedDimension");t.add("CustomDimension2");t.add("ResultSetUnitIndex");t.add("ExceptionAggregationCountNullInSelectionMember");t.add("ExceptionAggregationAverageNullInSelectionMember");t.add("ExceptionAggregationFirstLastInSelectionMember");return t};e.InACapabilitiesProvider.prototype.getServerBetaCapabilities=function(){return this.m_serverBetaCapabilities};e.InACapabilitiesProvider.prototype.getServerCapabilitiesForProviderType=function(t,n){let r=e.QInAConverter.lookupServiceNameForProvider(t);if(e.isNull(r)){r=e.QInAConverter.lookupFallbackServiceNameForProvider(t)}if(e.notNull(r)){let e=n?this.m_serverMetadata.getBetaMetadataForService(r):this.m_serverMetadata.getMetadataForService(r);return e}return null};e.InACapabilitiesProvider.prototype.getServerMainCapabilities=function(){return this.m_serverMainCapabilities};e.InACapabilitiesProvider.prototype.getServerMetadata=function(){return this.m_serverMetadata};e.InACapabilitiesProvider.prototype.importDeserializationDocumentCapabilities=function(t){this.m_deserializationDocumentCapabilities=e.CapabilityContainer.create("Document");let n=t.getStructureByKey("Analytics");if(e.notNull(n)){let t=n.getListByKey("Capabilities");if(e.notNull(t)){for(let e=0;e<t.size();e++){let n=t.getStringAt(e);this.m_deserializationDocumentCapabilities.addCapability(n)}}}};e.InACapabilitiesProvider.prototype.releaseObject=function(){this.m_activeDeserializationCapabilities=e.XObjectExt.release(this.m_activeDeserializationCapabilities);this.m_serverPersistencyCapabilities=e.XObjectExt.release(this.m_serverPersistencyCapabilities);this.m_deserializationDocumentCapabilities=e.XObjectExt.release(this.m_deserializationDocumentCapabilities);this.m_dimensionExtensionCapabilities=e.XObjectExt.release(this.m_dimensionExtensionCapabilities);this.m_documentCapabilities=e.XObjectExt.release(this.m_documentCapabilities);this.m_clientMainCapabilities=e.XObjectExt.release(this.m_clientMainCapabilities);this.m_clientFeatureToggleCapabilities=e.XObjectExt.release(this.m_clientFeatureToggleCapabilities);this.m_serverMainCapabilities=e.XObjectExt.release(this.m_serverMainCapabilities);this.m_serverBetaCapabilities=e.XObjectExt.release(this.m_serverBetaCapabilities);this.m_activeCapabilities=e.XObjectExt.release(this.m_activeCapabilities);e.DfSessionContext.prototype.releaseObject.call(this)};e.InACapabilitiesProvider.prototype.setupExt=function(t,n,r,i){this.setupSessionContext(t);this.m_serverMetadata=n;this.m_providerType=r;this.m_additionalFeatureToggles=i;this.m_clientMainCapabilities=this.createMainCapabilities(r);if(e.notNull(this.m_serverMetadata)){this.m_clientFeatureToggleCapabilities=this.createFeatureToggleCapabilities(r)}if(e.notNull(this.m_serverMetadata)&&e.notNull(this.m_providerType)){let t=this.getServerCapabilitiesForProviderType(this.m_providerType,false);this.m_serverMainCapabilities=e.XObjectExt.cloneIfNotNull(t);let n=this.getServerCapabilitiesForProviderType(this.m_providerType,true);this.m_serverBetaCapabilities=e.XObjectExt.cloneIfNotNull(n);let r=this.getServerCapabilitiesForProviderType(e.ProviderType.DIMENSION_EXTENSION,false);this.m_dimensionExtensionCapabilities=e.XObjectExt.cloneIfNotNull(r);let i=this.getServerCapabilitiesForProviderType(e.ProviderType.DOCUMENTS,false);this.m_documentCapabilities=e.XObjectExt.cloneIfNotNull(i)}};e.InACapabilitiesProvider.prototype.toString=function(){let t=e.XStringBuffer.create();if(e.notNull(this.m_serverMainCapabilities)){t.appendLine("=== Server Main Capabilities ===");t.appendLine(this.m_serverMainCapabilities.toString())}if(e.notNull(this.m_serverBetaCapabilities)){t.appendLine("=== Server Beta Capabilities ===");t.appendLine(this.m_serverBetaCapabilities.toString())}if(e.notNull(this.m_clientMainCapabilities)){t.appendLine("=== Client Main Capabilities ===");t.appendLine(this.m_clientMainCapabilities.toString())}if(e.notNull(this.m_clientFeatureToggleCapabilities)){t.appendLine("=== Client FeatureToggle Capabilities ===");t.appendLine(this.m_clientFeatureToggleCapabilities.toString())}if(e.notNull(this.m_activeCapabilities)){t.appendLine("=== Active Capabilities ===");t.appendLine(this.m_activeCapabilities.toString())}if(e.notNull(this.m_serverPersistencyCapabilities)){t.appendLine("=== Server Persistency Capabilities ===");t.appendLine(this.m_serverPersistencyCapabilities.toString())}return t.toString()};e.OlapEnvStateManager=function(){};e.OlapEnvStateManager.prototype=new e.AbstractOlapEnvQueryManagerHandler;e.OlapEnvStateManager.prototype._ff_c="OlapEnvStateManager";e.OlapEnvStateManager.create=function(t,n){let r=new e.OlapEnvStateManager;r.setupStateManager(t,n);return r};e.OlapEnvStateManager.prototype.m_jsonParser=null;e.OlapEnvStateManager.prototype.m_olapEnvStates=null;e.OlapEnvStateManager.prototype.m_releaseQueryManagersEnabled=false;e.OlapEnvStateManager.prototype.m_stateCache=null;e.OlapEnvStateManager.prototype.m_useIncludeMode=false;e.OlapEnvStateManager.prototype.addNewStateToCache=function(t,n,r,i){let a=e.XStringUtils.concatenate2(r,e.XInteger.convertToString(t));let o=n.isEmpty()?"":e.PrUtils.serialize(n,false,false,0);let l=e.StateStackEntry.create(a,o);l.getOlapStateRefs().add(i);this.m_stateCache.add(l);return e.ComponentStateRef.create(t,a)};e.OlapEnvStateManager.prototype.applyDocumentState=function(t,n,r,i){let a=this.m_olapEnvStates.getByKey(i);if(e.isNull(a)){return null}return e.DocumentUpdateAction.createAndRun(t,n,r,this,a)};e.OlapEnvStateManager.prototype.clearDocumentState=function(t){let n=this.m_olapEnvStates.remove(t);if(e.notNull(n)){this.releaseRef(n.getSharedObjectsState(),t);this.releaseRef(n.getFilterManagerState(),t);let e=n.getQueryManagersState().getValuesAsReadOnlyList().getIterator();while(e.hasNext()){this.releaseRef(e.next(),t)}n.getQueryManagersState().clear()}};e.OlapEnvStateManager.prototype.dumpState=function(t){let n=e.PrFactory.createStructure();let r=this.m_olapEnvStates.getByKey(t);let i=this.m_jsonParser.parse(this.m_stateCache.getByKey(r.getFilterManagerState().getStateId()).getState());n.put("fm",i);let a=r.getQueryManagersState().getKeysAsIterator();while(a.hasNext()){let t=a.next();let i=this.getQmState(r,t);let o;if(e.XStringUtils.isNotNullAndNotEmpty(i)){o=this.m_jsonParser.parse(i)}else{o=e.PrFactory.createStructure()}n.put(t,o)}return n};e.OlapEnvStateManager.prototype.getQmState=function(t,n){let r=t.getQueryManagersState().getByKey(n);if(e.isNull(r)){return null}return this.m_stateCache.getByKey(r.getStateId()).getState()};e.OlapEnvStateManager.prototype.getStateCache=function(){return this.m_stateCache};e.OlapEnvStateManager.prototype.getStateWithModeCounter=function(t,n,r){let i=e.XStringUtils.concatenate2(n,e.XInteger.convertToString(t));let a=this.m_stateCache.getByKey(i);if(e.notNull(a)){a.getOlapStateRefs().add(r);return e.ComponentStateRef.create(t,i)}return null};e.OlapEnvStateManager.prototype.hasToBeIgnored=function(t){let n=t.getTagging();let r=this.m_useIncludeMode?!n.containsKey(e.QStateConstants.TAG_UNDO_INCLUDE):n.containsKey(e.QStateConstants.TAG_UNDO_IGNORE);r=r||n.containsKey(e.QStateConstants.TAG_HAS_TRANSIENT_DEPS);return r||t.isShallow()||t.isBasedOnVirtualDataSource()||t.getLifeCycleState()!==e.LifeCycleState.ACTIVE};e.OlapEnvStateManager.prototype.isReleaseQueryManagersEnabled=function(){return this.m_releaseQueryManagersEnabled};e.OlapEnvStateManager.prototype.onVariableProcessorExecuted=function(e,t,n){};e.OlapEnvStateManager.prototype.recordBlendableQueryManagerState=function(t,n){let r=this.hasToBeIgnored(t);let i=0;if(!r){i=t.getModCounter()}let a=this.getStateWithModeCounter(i,t.getName(),n);if(e.isNull(a)){let o=e.PrFactory.createStructure();if(!r){t.getTagging().put(e.QStateConstants.TAG_REPO_FORMAT_FOR_UNDO_REDO,"true");let n=t.serializeToElement(e.QModelFormat.INA_REPOSITORY).asStructure();t.getTagging().remove(e.QStateConstants.TAG_REPO_FORMAT_FOR_UNDO_REDO);o.put(e.QStateConstants.QUERY_MODEL,n);o.put(e.QStateConstants.MANAGER_TAGS,n.getByKey(e.QStateConstants.MANAGER_TAGS));let r=t.getAllQueryManagers().getIterator();let i=o.putNewList(e.QStateConstants.QUERY_MANAGER_EXTERNAL_FILTERS);while(r.hasNext()){let t=r.next();let n=i.addNewStructure();n.putString(e.QStateConstants.MANAGER_DATASET_ID,t.getQueryModel().getDatasetId());this.recordUsedExternalFilters(t,n)}}a=this.addNewStateToCache(i,o,t.getName(),n)}return a};e.OlapEnvStateManager.prototype.recordClientQueryObjectManagerState=function(){return null};e.OlapEnvStateManager.prototype.recordDocumentState=function(){let t=e.OlapEnvState.create();let n=e.XGuid.getGuid();let r=this.recordFilterManagerState(n);t.setFilterManagerState(r);let i=this.recordClientQueryObjectManagerState();t.setSharedObjectsState(i);let a=this.getOlapEnv().getAllAreaQueryManager();e.XCollectionUtils.forEach(a,r=>{let i;if(r.getOlapComponentType()===e.OlapComponentType.BLENDABLE_QUERY_MANAGER){i=this.recordBlendableQueryManagerState(r,n)}else{i=this.recordQueryManagerState(r,n)}t.getQueryManagersState().put(r.getName(),i)});this.m_olapEnvStates.put(n,t);return n};e.OlapEnvStateManager.prototype.recordFilterManagerState=function(t){let n=this.getOlapEnv().getFilterManager();let r=n.getModCounter();let i=this.getStateWithModeCounter(r,"filterManager",t);if(e.notNull(i)){return i}let a=n.serializeToElement(e.QModelFormat.INA_REPOSITORY).asStructure();return this.addNewStateToCache(n.getModCounter(),a,"filterManager",t)};e.OlapEnvStateManager.prototype.recordQueryManagerState=function(t,n){let r=t.getQueryModelBase();let i=this.hasToBeIgnored(t);let a=0;if(!i){a=r.getModCounter()}let o=this.getStateWithModeCounter(a,t.getName(),n);if(e.isNull(o)){let l=e.PrFactory.createStructure();if(!i){t.getTagging().put(e.QStateConstants.TAG_REPO_FORMAT_FOR_UNDO_REDO,"true");let n=t.serializeToElement(e.QModelFormat.INA_REPOSITORY).asStructure();t.getTagging().remove(e.QStateConstants.TAG_REPO_FORMAT_FOR_UNDO_REDO);let i=n.getByKey(e.QStateConstants.QUERY_MODEL);l.put(e.QStateConstants.QUERY_MODEL,i);l.put(e.QStateConstants.MANAGER_TAGS,n.getByKey(e.QStateConstants.MANAGER_TAGS));l.putString(e.QStateConstants.MANAGER_DATASET_ID,r.getDatasetId());l.putString(e.QStateConstants.MANAGER_SYSTEM_NAME,t.getSystemName());this.recordUsedExternalFilters(t,l)}o=this.addNewStateToCache(a,l,t.getName(),n)}return o};e.OlapEnvStateManager.prototype.recordUsedExternalFilters=function(e,t){let n=e.getQueryModel().getFilter().getLinkedFilters();let r=t.putNewList("OlapFilters");let i=n.getKeysAsIterator();while(i.hasNext()){let e=r.addNewStructure();let t=i.next();e.putString("Name",t);e.putString("Id",n.getByKey(t).getUniqueId())}};e.OlapEnvStateManager.prototype.releaseObject=function(){this.m_stateCache=e.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_stateCache);this.m_jsonParser=e.XObjectExt.release(this.m_jsonParser);this.m_olapEnvStates=e.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_olapEnvStates);e.AbstractOlapEnvQueryManagerHandler.prototype.releaseObject.call(this)};e.OlapEnvStateManager.prototype.releaseRef=function(t,n){if(e.isNull(t)){return}let r=this.m_stateCache.getByKey(t.getStateId());if(e.notNull(r)){r.getOlapStateRefs().removeElement(n);if(r.getOlapStateRefs().isEmpty()){this.m_stateCache.removeElement(r)}}};e.OlapEnvStateManager.prototype.setUseIncludeMode=function(e){this.m_useIncludeMode=e};e.OlapEnvStateManager.prototype.setupStateManager=function(t,n){this.setupQueryManagerHandler(t);this.m_stateCache=e.XLinkedMap.createLinkedMap();this.m_olapEnvStates=e.XHashMapByString.create();this.m_jsonParser=e.JsonParserFactory.newInstance();this.m_releaseQueryManagersEnabled=e.isNull(n)||n.hasFeature(e.FeatureToggleOlap.UNDO_RELEASE_QUERY_MANAGERS);this.setUseIncludeMode(e.notNull(n)&&n.hasFeature(e.FeatureToggleOlap.UNDO_USE_ALLOW_LIST))};e.OlapEnvStateManager.prototype.updateDocumentState=function(t){let n=this.m_olapEnvStates.getByKey(t);if(n.getFilterManagerState()===null){let e=this.recordFilterManagerState(t);n.setFilterManagerState(e)}if(n.getSharedObjectsState()===null){let e=this.recordClientQueryObjectManagerState();n.setSharedObjectsState(e)}let r=this.getOlapEnv().getAllAreaQueryManager();e.XCollectionUtils.forEach(r,r=>{let i=r.getName();let a=this.getQmState(n,i);if(e.XStringUtils.isNullOrEmpty(a)){let i;if(r.getOlapComponentType()===e.OlapComponentType.BLENDABLE_QUERY_MANAGER){i=this.recordBlendableQueryManagerState(r,t)}else{i=this.recordQueryManagerState(r,t)}n.getQueryManagersState().put(r.getName(),i)}})};e.PreQueryExecutor=function(){};e.PreQueryExecutor.prototype=new e.MessageManager;e.PreQueryExecutor.prototype._ff_c="PreQueryExecutor";e.PreQueryExecutor.create=function(t){let n=new e.PreQueryExecutor;n.setupSessionContext(null);n.m_queryManager=t;n.m_messageReceivers=e.XList.create();return n};e.PreQueryExecutor.prototype.m_messageReceivers=null;e.PreQueryExecutor.prototype.m_preQueryExecutedListener=null;e.PreQueryExecutor.prototype.m_preQueryManager=null;e.PreQueryExecutor.prototype.m_queryManager=null;e.PreQueryExecutor.prototype.addMessageReceiver=function(t){if(e.notNull(t)){this.m_messageReceivers.add(t)}};e.PreQueryExecutor.prototype.hasModelPrequeries=function(e){let t=this.hasPrequeries(e);if(!t){e.generateTransientObjects();t=this.hasPrequeries(e);e.destroyTransientObjects()}return t};e.PreQueryExecutor.prototype.hasPrequeries=function(t){return e.XCollectionUtils.hasElements(t.getPreQueries())||e.XCollectionUtils.contains(t.getLoadedDimensions(),t=>t.getDimensionType().isTypeOf(e.DimensionType.FORMULA_CALCULATED_DIMENSION))};e.PreQueryExecutor.prototype.isStreamingEnabled=function(){let t=this.m_preQueryManager.getServiceConfig().getConnectionContainer();if(e.notNull(t)){let n=t.getBatchRequestManager();if(e.notNull(n)){return n.isRsStreamingEnabled()}}return false};e.PreQueryExecutor.prototype.onPreQueryExecuted=function(t,n){let r=this.m_preQueryManager.getQueryModel();if(e.notNull(r)&&!r.isReleased()){r.addQueryModelIdToMessages(t.getMessages());if(n||this.isStreamingEnabled()){for(let e=0;e<this.m_messageReceivers.size();e++){this.m_messageReceivers.get(e).copyAllMessages(t)}}this.m_messageReceivers.clear()}};e.PreQueryExecutor.prototype.onQueryExecuted=function(t,n,r){if(e.notNull(r)&&e.XString.isEqual(r.toString(),"RemotePreQuerySerialization")){this.onPreQueryExecuted(t,true);this.m_preQueryExecutedListener.onPreQueryExecuted()}else{this.onPreQueryExecuted(t,false)}};e.PreQueryExecutor.prototype.processExecutionAsPreQueryInBatch=function(t,n,r){if(this.m_queryManager.getActiveResultSetContainer().getSyncState()===e.SyncState.PROCESSING){this.addMessageReceiver(r);return}let i=this.m_queryManager.isResultSetTransportEnabled();this.m_queryManager.setResultSetTransportEnabled(false);if(e.XString.isEqual(t,this.m_queryManager.getSystemName())){this.m_preQueryManager=this.m_queryManager;this.addMessageReceiver(r);this.m_queryManager.setPreQueryName(n);this.m_queryManager.processQueryExecution(e.SyncType.NON_BLOCKING,this,null);this.restoreData(i,null)}else{let r=this.m_queryManager;let a=r.getConnection();r.setConnection(a.getConnectionPool().getConnection(t));this.m_queryManager.setPreQueryName(n);this.m_queryManager.processQueryExecutionAsRemotePreQuery(e.SyncType.NON_BLOCKING,null,null);this.restoreData(i,a)}};e.PreQueryExecutor.prototype.processExecutionRuntimePrequery=function(t,n,r){let i=n.generateRemoteQuery(this.m_queryManager);if(i.hasErrors()){let t=e.ExtResult.createWithExternalMessages(null,i);r.onFunctionExecuted(t,null,n);return e.SyncActionExtRes.createSyncAction(null,i)}let a=this.m_queryManager.getApplication().getConnectionPool();let o=a.getConnection(n.getSystemName());let l=o.getSystemDescription();let s=o.newRpcFunction(l.getSystemType().getInAPath());s.setServiceName(e.SystemServices.INA_SERVICE);let u=s.getRpcRequest();u.setSapPassportConnectionId(this.m_queryManager.getInstanceId());u.setRequestStructure(i.getData());return s.processFunctionExecution(t,r,n)};e.PreQueryExecutor.prototype.releaseObject=function(){e.MessageManager.prototype.releaseObject.call(this);this.m_queryManager=null;this.m_preQueryManager=null;this.m_preQueryExecutedListener=null;this.m_messageReceivers=e.XObjectExt.release(this.m_messageReceivers)};e.PreQueryExecutor.prototype.restoreData=function(t,n){if(e.notNull(n)){this.m_queryManager.setConnection(n)}this.m_queryManager.getActiveResultSetContainer().setResultSetTransportEnabled(t);this.m_queryManager.setPreQueryName(null)};e.PreQueryExecutor.prototype.serializeAsRemotePreQuery=function(t,n,r){let i=t.getQueryModelBase();i.getUniversalDisplayHierarchiesBase().updateIncludedDimensions();i.generateTransientObjects();i.getDrillManager().checkRootNodeFetching();let a=this.updateResultSetPersistenceTarget(t,r);i.destroyTransientObjects();t.setResultSetPersistenceIdentifier(a);let o=t.getResultSetSyncState();if(o===e.SyncState.OUT_OF_SYNC||o===e.SyncState.PROCESSING){this.m_preQueryManager=t;let r=t.getOlapEnv().getCachedRemoteBlendingData(a);if(e.notNull(r)){t.getActiveResultSetContainer().setSerializedData(r.getView(),r.getCube())}else if(n===e.SyncType.BLOCKING){let n;let r=t.getConnection();if(r.isBatchModeEnabled()&&this.hasModelPrequeries(t.getQueryModelBase())){r.getConnectionPool().disableBatchMode(e.SyncType.NON_BLOCKING,t.getSystemName());n=t.processQueryExecutionAsRemotePreQuery(e.SyncType.BLOCKING,null,null);r.getConnectionPool().enableBatchMode(t.getSystemName())}else{n=t.processQueryExecutionAsRemotePreQuery(e.SyncType.BLOCKING,null,null)}this.addMessageReceiver(this);this.onPreQueryExecuted(n,true)}else{this.addMessageReceiver(this);t.processQueryExecutionAsRemotePreQuery(n,this,e.XStringValue.create("RemotePreQuerySerialization"));return false}}else if(o===e.SyncState.IN_SYNC_WITH_ERROR){this.addAllMessages(t.getActiveResultSetContainer())}return this.isValid()};e.PreQueryExecutor.prototype.serializeRemotePreQueries=function(t,n,r,i){this.clearMessages();this.m_preQueryExecutedListener=i;if(e.XCollectionUtils.hasElements(r)){for(let a=0;a<r.size();a++){let o=r.get(a).getObject().getQueryManager();let l=o.getPreQueryExecutor();if(!l.serializeRemotePreQueries(t,o.getSystemName(),o.getQueryModel().getPreQueries(),i)){this.addAllMessages(l);return false}if(!e.XString.isEqual(n,o.getSystemName())){if(!this.serializeAsRemotePreQuery(o,t,n)){return false}}}}return this.isValid()};e.PreQueryExecutor.prototype.updateResultSetPersistenceTarget=function(t,n){let r=t.getApplication().getSystemLandscape().getSystemDescription(n);if(e.notNull(r)){if(r.isSystemMappingValid(t.getSystemDescription())){let e=t.getSystemDescription().getSystemMapping(n);t.setResultSetPersistanceTargetTable(e.getSerializeTable());t.setResultSetPersistanceTargetSchema(e.getSerializeSchema())}else{t.setResultSetPersistanceTargetTable(null);t.setResultSetPersistanceTargetSchema(null);return e.BlendingSource.createPersistenceIdentifierForPreQuery(t,false)}}return e.BlendingSource.createPersistenceIdentifierForPreQuery(t,true)};e.BlendableQMPersistedInAExportAction=function(){};e.BlendableQMPersistedInAExportAction.prototype=new e.SyncAction;e.BlendableQMPersistedInAExportAction.prototype._ff_c="BlendableQMPersistedInAExportAction";e.BlendableQMPersistedInAExportAction.create=function(t){let n=new e.BlendableQMPersistedInAExportAction;n.setupAction(null,null,null,t);return n};e.BlendableQMPersistedInAExportAction.prototype.addSecondaryInaToDependentQueries=function(t,n,r,i){let a=!t.getConvenienceCommands().isTypeOfBw();let o=null;if(a){o=t.getResultSetPersistenceIdentifier();t.setResultSetPersistenceIdentifier(null)}let l=t.serializeToElement(e.QModelFormat.INA_PERSISTED_QUERY_DATA);if(!n.isSystemMappingValid(r)){i.add(e.DependentPersistedQueryInfo.create(t.getSystemName(),this.generateRemoteQuery(l,null,null)))}else{i.add(e.DependentPersistedQueryInfo.create(t.getSystemName(),this.generateRemoteQuery(l,r.getSystemMapping(n.getSystemName()),o)))}if(a){t.setResultSetPersistenceIdentifier(o)}};e.BlendableQMPersistedInAExportAction.prototype.callListener=function(e,t,n,r){t.onBlendableQMPersistedInAResult(e,n,r)};e.BlendableQMPersistedInAExportAction.prototype.generateRemoteQuery=function(t,n,r){let i=e.PrUtils.createDeepCopy(t);let a=i.getStructureByKey(e.ConnectionConstants.INA_BATCH);let o;if(e.notNull(a)){let t=a.getIterator();while(t.hasNext()){let a=t.next();o=e.InARuntimeUtils.getRequestContext(a);let l=e.PrUtils.getStructureProperty(o,"Definition");let s=e.PrUtils.getStructureProperty(l,"ResultSetFeatureRequest");if(!s.getBooleanByKeyExt(e.InAQueryMergeConstants.QY_RETURN_EMPTY_JSON_RESULTSET,false)){this.updatePersistencyStructure(i,n,r)}}}else{this.updatePersistencyStructure(i,n,r)}return i};e.BlendableQMPersistedInAExportAction.prototype.onPostQueryExecution=function(){let e=this.getActionContext();let t=e.getActiveResultSetContainer();if(!t.hasErrors()){this.persistInAResult(t.getRuntimeQueryManager())}this.endSync()};e.BlendableQMPersistedInAExportAction.prototype.onQueryExecuted=function(e,t,n){this.addAllMessages(e)};e.BlendableQMPersistedInAExportAction.prototype.persistInAResult=function(t){let n=t.getQueryModel().getDataSource().getBlendingDefinition();let r=n.getBlendingHost();let i=e.BlendingUtils.getLeafBlendingSources(n);let a=e.XList.create();let o=e.XList.create();for(let e=0;e<i.size();e++){let t=i.get(e);let n=t.getQueryManager();if(n.getConvenienceCommands().isTypeOfBw()&&!n.getModelCapabilities().supportsAutoVariableSubmit()){return}}for(let n=0;n<i.size();n++){let l=i.get(n);let s=l.getQueryManager();let u=r.getSystemDescription();let p=s.getSystemDescription();s.getQueryModel().generateTransientObjects();let g=s.getQueryModel().getPreQueries();if(e.notNull(g)){for(let n=0;n<g.size();n++){let i=g.get(n);let a=i.getObject();if(!e.XString.isEqual(a.getSystemName(),s.getSystemName())){this.addWarning(e.ErrorCodes.PERSISTED_INA_REMOTE_MODEL_WITH_PREQUERIES_NOT_SUPPORTED,"Prequeries from different system are not supported with remote blend model.");this.setData(e.BlendableQMPersistedInAResult.create(null,e.XList.create(),t,r.getSystemName()));this.endSync();s.getQueryModel().destroyTransientObjects();return}}}if(l.isRemoteSource()&&e.notNull(p)){let t=false;let n=s.getVariableProcessorState();if(s.getConvenienceCommands().isTypeOfBw()&&s.getModelCapabilities().supportsAutoVariableSubmit()){if(!s.getInitSettings().isEnableAutoVariableSubmit()){s.getInitSettings().setIsEnableAutoVariableSubmit(true);t=true}s.setVariableProcessorState(e.VariableProcessorState.PROCESSING_AUTO_SUBMIT)}s.getTagging().put(e.QStateConstants.TAG_PERSISTED_INA_VIEW_CUBE_SERIALIZATION_OPTIMIZATION,"true");o.add(s);this.addSecondaryInaToDependentQueries(s,u,p,a);if(t){s.getInitSettings().setIsEnableAutoVariableSubmit(false)}if(s.getVariableProcessorState()!==n){s.setVariableProcessorState(n)}}s.getQueryModel().destroyTransientObjects()}let l=e.BlendableQMPersistedInAResult.create(t.serializeToElement(e.QModelFormat.INA_PERSISTED_QUERY_DATA),a,t,r.getSystemName());this.setData(l);for(let t=0;t<o.size();t++){let n=o.get(t);n.getTagging().remove(e.QStateConstants.TAG_PERSISTED_INA_VIEW_CUBE_SERIALIZATION_OPTIMIZATION)}};e.BlendableQMPersistedInAExportAction.prototype.processSynchronization=function(t){let n=this.getActionContext();let r=n.getActiveResultSetContainer();if(r.getSyncState().isTypeOf(e.SyncState.PROCESSING)){r.setOnPostQueryExecutionListener(this)}else{if(r.getSyncState().isTypeOf(e.SyncState.IN_SYNC)){r=n.getResultsetContainer(true)}r.setOnPostQueryExecutionListener(this);r.processExecution(t,this,null)}return!r.hasErrors()};e.BlendableQMPersistedInAExportAction.prototype.releaseObjectInternal=function(){};e.BlendableQMPersistedInAExportAction.prototype.updatePersistencyStructure=function(t,n,r){let i;let a;i=e.InARuntimeUtils.getDataSourceFromRequest(t);i.remove("System");a=e.InARuntimeUtils.getRequestContext(t);e.InARuntimeUtils.setPersistencyForRemote(a,n);if(e.notNull(r)){e.InARuntimeUtils.setPersistencyIdentifier(a,r)}};e.BlendableQMVariableSubmitProcessor=function(){};e.BlendableQMVariableSubmitProcessor.prototype=new e.SyncAction;e.BlendableQMVariableSubmitProcessor.prototype._ff_c="BlendableQMVariableSubmitProcessor";e.BlendableQMVariableSubmitProcessor.createBlendableVariableSubmitProcessor=function(t){let n=new e.BlendableQMVariableSubmitProcessor;n.setupAction(null,null,null,t);return n};e.BlendableQMVariableSubmitProcessor.prototype.m_mode=null;e.BlendableQMVariableSubmitProcessor.prototype.m_queryManagersToBeProcessCount=0;e.BlendableQMVariableSubmitProcessor.prototype.m_transferVariable=null;e.BlendableQMVariableSubmitProcessor.prototype.m_variableVariant=null;e.BlendableQMVariableSubmitProcessor.prototype.activateVariableVariant=function(t,n,r,i){this.m_variableVariant=t;this.setAndAssertVariableProcessMode(e.VariableProcessorState.PROCESSING_VARIANT_ACTIVATION);return this.processSyncAction(n,r,i)};e.BlendableQMVariableSubmitProcessor.prototype.callListener=function(e,t,n,r){t.onVariableProcessorExecuted(e,n,r)};e.BlendableQMVariableSubmitProcessor.prototype.cancelReInitVariables=function(t,n,r){this.setAndAssertVariableProcessMode(e.VariableProcessorState.PROCESSING_CANCEL);return this.processSyncAction(t,n,r)};e.BlendableQMVariableSubmitProcessor.prototype.checkVariables=function(t,n,r){this.setAndAssertVariableProcessMode(e.VariableProcessorState.PROCESSING_CHECK);return this.processSyncAction(t,n,r)};e.BlendableQMVariableSubmitProcessor.prototype.isSuccessfullyProcessed=function(){return this.hasErrors()};e.BlendableQMVariableSubmitProcessor.prototype.onVariableProcessorExecuted=function(e,t,n){this.addAllMessages(e);this.m_queryManagersToBeProcessCount--;if(this.m_queryManagersToBeProcessCount===0){this.setData(this);this.endSync()}};e.BlendableQMVariableSubmitProcessor.prototype.processSynchronization=function(t){let n=e.XList.create();n.addAll(this.getActionContext().getAllQueryManagers());this.m_queryManagersToBeProcessCount=n.size();let r=n.getIterator();while(r.hasNext()){let n=r.next();if(this.m_mode===e.VariableProcessorState.PROCESSING_SUBMIT){n.submitVariables(t,this,null)}else if(this.m_mode===e.VariableProcessorState.PROCESSING_REINIT){n.reInitVariablesAfterSubmit(t,this,null)}else if(this.m_mode===e.VariableProcessorState.PROCESSING_VARIANT_ACTIVATION){n.activateVariableVariant(this.m_variableVariant,t,this,null)}else if(this.m_mode===e.VariableProcessorState.PROCESSING_CANCEL){n.cancelReInitVariables(t,this,null)}else if(this.m_mode===e.VariableProcessorState.PROCESSING_UPDATE_VALUES){if(e.notNull(this.m_transferVariable)){let r=n.transferVariablesByVariable(this.m_transferVariable,t,this,null);if(e.isNull(r)){this.m_queryManagersToBeProcessCount--}}else{n.transferVariables(t,this,null)}}else if(this.m_mode===e.VariableProcessorState.PROCESSING_CHECK){if(n.supportsCheckVariables()){n.checkVariables(t,this,null)}else{this.m_queryManagersToBeProcessCount--}}else{throw e.XException.createRuntimeException(e.XStringUtils.concatenate2("Unknown mode: ",e.notNull(this.m_mode)?this.m_mode.getName():"null"))}}return this.m_queryManagersToBeProcessCount>0};e.BlendableQMVariableSubmitProcessor.prototype.reInitVariablesAfterSubmit=function(t,n,r){this.setAndAssertVariableProcessMode(e.VariableProcessorState.PROCESSING_REINIT);return this.processSyncAction(t,n,r)};e.BlendableQMVariableSubmitProcessor.prototype.releaseObjectInternal=function(){this.m_queryManagersToBeProcessCount=0};e.BlendableQMVariableSubmitProcessor.prototype.setAndAssertVariableProcessMode=function(t){if(e.isNull(this.m_mode)||this.m_mode===t){this.m_mode=t}else{throw e.XException.createIllegalStateException(e.XStringUtils.concatenate4("BlendableQMVariableProcessor cannot perform operation: '",e.notNull(t)?t.getName():"null","' because processor is already used for operation:",this.m_mode.getName()))}};e.BlendableQMVariableSubmitProcessor.prototype.submitVariables=function(t,n,r){this.setAndAssertVariableProcessMode(e.VariableProcessorState.PROCESSING_SUBMIT);this.processSyncAction(t,n,r);return this.processSyncAction(t,n,r)};e.BlendableQMVariableSubmitProcessor.prototype.transferVariables=function(t,n,r){this.m_transferVariable=null;this.setAndAssertVariableProcessMode(e.VariableProcessorState.PROCESSING_UPDATE_VALUES);return this.processSyncAction(t,n,r)};e.BlendableQMVariableSubmitProcessor.prototype.transferVariablesByVariable=function(t,n,r,i){this.m_transferVariable=t;this.setAndAssertVariableProcessMode(e.VariableProcessorState.PROCESSING_UPDATE_VALUES);return this.processSyncAction(n,r,i)};e.RuntimeBlendedQueryManagerAction=function(){};e.RuntimeBlendedQueryManagerAction.prototype=new e.SyncAction;e.RuntimeBlendedQueryManagerAction.prototype._ff_c="RuntimeBlendedQueryManagerAction";e.RuntimeBlendedQueryManagerAction.create=function(t){let n=new e.RuntimeBlendedQueryManagerAction;n.setupAction(null,null,null,t);return n};e.RuntimeBlendedQueryManagerAction.prototype.m_blendingProcess=null;e.RuntimeBlendedQueryManagerAction.prototype.callListener=function(e,t,n,r){t.onQueryManagerCreated(e,n,r)};e.RuntimeBlendedQueryManagerAction.prototype.onQueryManagerCreated=function(e,t,n){this.addAllMessages(e);if(!e.hasErrors()){this.m_blendingProcess.prepareQueryExecution();this.setData(t)}this.endSync()};e.RuntimeBlendedQueryManagerAction.prototype.processSynchronization=function(t){let n=this.getActionContext();let r=n.getBlendingProcessConfigs(this);if(this.hasErrors()){return false}this.m_blendingProcess=e.BlendingProcess.create(n,r,null,null,true);this.m_blendingProcess.processBlendedQueryManagerCreation(t,this,null);return true};e.RuntimeBlendedQueryManagerAction.prototype.releaseObjectInternal=function(){if(e.notNull(this.m_blendingProcess)){this.m_blendingProcess.postQueryExecution();this.m_blendingProcess=e.XObjectExt.release(this.m_blendingProcess)}};e.OlapEnvCapabilitiesExtAction=function(){};e.OlapEnvCapabilitiesExtAction.prototype=new e.SyncAction;e.OlapEnvCapabilitiesExtAction.prototype._ff_c="OlapEnvCapabilitiesExtAction";e.OlapEnvCapabilitiesExtAction.createAndRun=function(t,n,r,i){let a=new e.OlapEnvCapabilitiesExtAction;a.setupActionAndRun(t,n,r,i);return a};e.OlapEnvCapabilitiesExtAction.prototype.callListener=function(e,t,n,r){t.onCapabilitiesLoaded(e,n,r)};e.OlapEnvCapabilitiesExtAction.prototype.onServerMetadataLoaded=function(t,n,r){let i=this.getSession();let a=this.getActionContext();let o=e.ProviderType.getAll().getIterator();while(o.hasNext()){let t=o.next();let r=e.InACapabilitiesProvider.create(i,n,t,null);let l=r.getQueryCapabilities();a.addCapabilities(t,l)}};e.OlapEnvCapabilitiesExtAction.prototype.processSynchronization=function(e){let t=this.getActionContext();let n=t.getApplication();let r=n.getConnectionPool().getSystemConnect(t.getSystemName());r.getServerMetadataExt(e,this,null);return true};e.OlapEnvCapabilitiesExtAction.prototype.releaseObjectInternal=function(){};e.OlapEnvCapabilityAction=function(){};e.OlapEnvCapabilityAction.prototype=new e.SyncAction;e.OlapEnvCapabilityAction.prototype._ff_c="OlapEnvCapabilityAction";e.OlapEnvCapabilityAction.create=function(t){let n=new e.OlapEnvCapabilityAction;n.setupAction(null,null,null,t);return n};e.OlapEnvCapabilityAction.prototype.m_listener=null;e.OlapEnvCapabilityAction.prototype._sacFallback=function(t,n,r){let i=t.getBetaMetadataForService(n);if(e.isNull(i)){return}if(i.containsKey(e.InACapabilities.C188_LOCALE_SORTING)){r.setSupportsLocaleSorting(true)}if(i.containsKey(e.InACapabilities.C192_VIRTUAL_DS_VARIABLE_VALUES)){r.setSupportsDynamicVariableRefresh(true)}if(i.containsKey(e.InACapabilities.C187_DIMENSION_DEFAULT_MEMBER)){r.setSupportsDimensionDefaultMember(true)}if(i.containsKey(e.InACapabilities.C189_DIMENSION_VISIBILITY)){r.setSupportsDimensionVisibility(true)}if(i.containsKey(e.InACapabilities.C194_METADATA_EXTENDED_DIMENSION_VISIBILITY)){r.setSupportsExtendedDimensionVisibility(true)}if(i.containsKey(e.InACapabilities.C212_SORT_NEW_VALUES)){r.setSupportsSortNewValues(true)}if(i.containsKey(e.InACapabilities.C215_MEASURE_MEMBER_DEFINITION)){r.setSupportsMeasureMemberDefinition(true)}if(i.containsKey(e.InACapabilities.C216_MEASURE_MEMBER_DETAILS)){r.setSupportsMeasureMemberDetails(true)}if(i.containsKey(e.InACapabilities.C217_MEASURE_MEMBER_TYPE)){r.setSupportsMeasureMemberType(true)}};e.OlapEnvCapabilityAction.prototype.importServiceCapabilities=function(t,n,r){let i=e.QCapabilities.create();i.setSystemType(n.getSystemDescription().getSystemType());i.setSystemName(n.getSystemDescription().getSystemName());e.InACapabilitiesProvider.importCapabilities(n.getMetadataForService(r),i);this._sacFallback(n,r,i);t.put(r,i)};e.OlapEnvCapabilityAction.prototype.onServerMetadataLoaded=function(t,n,r){this.copyAllMessages(t);let i=e.XHashMapByString.create();let a=n.getServices().getIterator();while(a.hasNext()){this.importServiceCapabilities(i,n,a.next())}this.setData(i);if(e.notNull(this.m_listener)){this.m_listener.onCapabilities(this,i,r)}};e.OlapEnvCapabilityAction.prototype.processSyncAction=function(e,t,n){this.m_listener=t;let r=this.getActionContext();let i=r.getServerMetadataExt(e,this,null);if(i.isValid()){this.onServerMetadataLoaded(i,i.getData(),null)}return this};e.OlapEnvCapabilityAction.prototype.releaseObjectInternal=function(){this.m_listener=null};e.OlapEnvCube=function(){};e.OlapEnvCube.prototype=new e.XObjectExt;e.OlapEnvCube.prototype._ff_c="OlapEnvCube";e.OlapEnvCube.create=function(t,n){let r=new e.OlapEnvCube;r.setupEnvCube(t,n);return r};e.OlapEnvCube.prototype.m_cubeName=null;e.OlapEnvCube.prototype.m_dataSource=null;e.OlapEnvCube.prototype.m_datasourceKeysToListeners=null;e.OlapEnvCube.prototype.m_dimensionMetadataCache=null;e.OlapEnvCube.prototype.m_dimensionOverrideTexts=null;e.OlapEnvCube.prototype.m_fieldMetadataCache=null;e.OlapEnvCube.prototype.m_memberOverrideTexts=null;e.OlapEnvCube.prototype.m_metadataCache=null;e.OlapEnvCube.prototype.m_olapEnvSystem=null;e.OlapEnvCube.prototype.getApplication=function(){return this.getOlapEnv().getApplication()};e.OlapEnvCube.prototype.getCubeName=function(){return this.m_cubeName};e.OlapEnvCube.prototype.getDataSource=function(){return this.m_dataSource};e.OlapEnvCube.prototype.getDimensionMemberOverrideText=function(e,t,n){return this.getDimensionMemberOverrideTextByDatasetId(e,t,n,"")};e.OlapEnvCube.prototype.getDimensionMemberOverrideTextByDatasetId=function(t,n,r,i){if(e.notNull(t)&&e.notNull(n)&&e.notNull(r)&&e.notNull(i)){let a=this.m_memberOverrideTexts.getByKey(t);if(e.notNull(a)){let t=a.getByKey(i);if(e.notNull(t)){let i=t.getByKey(n);if(e.notNull(i)){return i.getByKey(r)}}}}return null};e.OlapEnvCube.prototype.getDimensionMetadata=function(e){let t=e.getCubeSpecificKey();return this.m_dimensionMetadataCache.getByKey(t)};e.OlapEnvCube.prototype.getDimensionMetadataByKey=function(e){let t=e.getCubeSpecificKey();return this.m_dimensionMetadataCache.useEntry(t)};e.OlapEnvCube.prototype.getDimensionOverrideText=function(e,t){return this.getDimensionOverrideTextByDatasetId(e,t,"")};e.OlapEnvCube.prototype.getDimensionOverrideTextByDatasetId=function(t,n,r){if(e.notNull(t)&&e.notNull(n)&&e.notNull(r)){let i=this.m_dimensionOverrideTexts.getByKey(t);if(e.notNull(i)){let t=i.getByKey(r);if(e.notNull(t)){return t.getByKey(n)}}}return null};e.OlapEnvCube.prototype.getFieldMetadata=function(e){let t=e.getCubeSpecificKey();return this.m_fieldMetadataCache.getByKey(t)};e.OlapEnvCube.prototype.getFieldMetadataByKey=function(e){let t=e.getCubeSpecificKey();return this.m_fieldMetadataCache.useEntry(t)};e.OlapEnvCube.prototype.getKeyFieldMetadataByDimension=function(t){let n=null;let r=this.m_fieldMetadataCache.getIterator();while(r.hasNext()){let i=r.next();let a=i.getCacheKey();if(e.XString.isEqual(a.getSystemName(),t.getSystemName())&&e.XString.isEqual(a.getDataSourceHashKey(),t.getDataSourceHashKey())&&a.getProviderType()===t.getProviderType()&&e.XString.isEqual(a.getKey2(),t.getKey1())&&e.XString.isEqual(a.getValidationHash(),t.getValidationHash())&&i.getPresentationType()===e.PresentationType.KEY){n=i;break}}return n};e.OlapEnvCube.prototype.getMemberOverrideTextsByDimension=function(e,t){return this.getMemberOverrideTextsByDimensionByDatasetId(e,t,"")};e.OlapEnvCube.prototype.getMemberOverrideTextsByDimensionByDatasetId=function(t,n,r){if(e.notNull(t)&&e.notNull(n)&&e.notNull(r)){let i=this.m_memberOverrideTexts.getByKey(t);if(e.notNull(i)){let t=i.getByKey(r);if(e.notNull(t)){return t.getByKey(n)}}}return null};e.OlapEnvCube.prototype.getMetadataAction=function(e){let t=null;let n=this.getOlapEnv();if(n.isCachingEnabled()){let n=e.getCubeSpecificKey();t=this.m_metadataCache.getAction(n)}return t};e.OlapEnvCube.prototype.getOlapEnv=function(){return this.getOlapEnvSystem().getOlapEnv()};e.OlapEnvCube.prototype.getOlapEnvSystem=function(){return e.XWeakReferenceUtil.getHardRef(this.m_olapEnvSystem)};e.OlapEnvCube.prototype.getProcess=function(){return this.getApplication().getProcess()};e.OlapEnvCube.prototype.getQueryMetadata=function(t){let n=null;let r=null;if(e.notNull(t)){r=t.getCubeSpecificKey()}let i=this.m_metadataCache.getByKey(r);if(e.notNull(i)){n=i.getJsonContent()}return n};e.OlapEnvCube.prototype.getSession=function(){return this.getApplication().getSession()};e.OlapEnvCube.prototype.getSystemName=function(){return this.getOlapEnvSystem().getSystemName()};e.OlapEnvCube.prototype.overwriteQueryMetadata=function(t,n){if(e.notNull(t)&&e.notNull(n)){let r=t.getCubeSpecificKey();let i=e.XContent.createJsonObjectContent(e.QModelFormat.INA_METADATA,n);this.m_metadataCache.updateEntry(r,i)}};e.OlapEnvCube.prototype.releaseAllQueryMetadata=function(){let t=this.m_metadataCache.getKeysAsIterator();while(t.hasNext()){let n=t.next();let r=this.m_metadataCache.remove(n);if(e.notNull(r)){e.XObjectExt.release(r)}}};e.OlapEnvCube.prototype.releaseDimensionMetadataByKey=function(e){let t=e.getCubeSpecificKey();this.m_dimensionMetadataCache.freeEntry(t)};e.OlapEnvCube.prototype.releaseFieldMetadataByKey=function(e){let t=e.getCubeSpecificKey();this.m_fieldMetadataCache.freeEntry(t)};e.OlapEnvCube.prototype.releaseObject=function(){this.m_olapEnvSystem=null;this.m_dimensionMetadataCache=e.XObjectExt.release(this.m_dimensionMetadataCache);this.m_fieldMetadataCache=e.XObjectExt.release(this.m_fieldMetadataCache);this.m_metadataCache=e.XObjectExt.release(this.m_metadataCache);this.m_datasourceKeysToListeners=e.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_datasourceKeysToListeners);this.m_dimensionOverrideTexts=e.XObjectExt.release(this.m_dimensionOverrideTexts);this.m_memberOverrideTexts=e.XObjectExt.release(this.m_memberOverrideTexts);e.XObjectExt.prototype.releaseObject.call(this)};e.OlapEnvCube.prototype.releaseQueryMetadata=function(t){if(e.notNull(t)){let e=t.getCubeSpecificKey();this.m_metadataCache.freeEntry(e)}};e.OlapEnvCube.prototype.removeDimensionMemberOverrideText=function(e,t,n){this.removeDimensionMemberOverrideTextByDatasetId(e,t,n,"")};e.OlapEnvCube.prototype.removeDimensionMemberOverrideTextByDatasetId=function(t,n,r,i){if(e.notNull(t)&&e.notNull(n)&&e.notNull(r)&&e.notNull(i)){let a=this.m_memberOverrideTexts.getByKey(t);if(e.notNull(a)){let t=a.getByKey(i);if(e.notNull(t)){let i=t.getByKey(n);if(e.notNull(i)){i.remove(r)}}}}};e.OlapEnvCube.prototype.removeDimensionOverrideText=function(e,t){this.removeDimensionOverrideTextByDatasetId(e,t,"")};e.OlapEnvCube.prototype.removeDimensionOverrideTextByDatasetId=function(t,n,r){if(e.notNull(t)&&e.notNull(n)&&e.notNull(r)){let i=this.m_dimensionOverrideTexts.getByKey(t);if(e.notNull(i)){let t=i.getByKey(r);if(e.notNull(t)){t.remove(n)}}}};e.OlapEnvCube.prototype.removeOverrideTextsByStorage=function(e){this.removeOverrideTextsByStorageByDatasetId(e,null)};e.OlapEnvCube.prototype.removeOverrideTextsByStorageByDatasetId=function(t,n){if(e.notNull(t)){if(e.notNull(n)){let r=this.m_dimensionOverrideTexts.getByKey(t);if(e.notNull(r)){r.remove(n)}let i=this.m_memberOverrideTexts.getByKey(t);if(e.notNull(i)){i.remove(n)}}else{this.m_dimensionOverrideTexts.remove(t);this.m_memberOverrideTexts.remove(t)}}else{e.XObjectExt.release(this.m_dimensionOverrideTexts);e.XObjectExt.release(this.m_memberOverrideTexts);this.m_dimensionOverrideTexts=e.XHashMapByString.create();this.m_memberOverrideTexts=e.XHashMapByString.create()}};e.OlapEnvCube.prototype.setDataSource=function(e){let t=e.clone();this.m_dataSource=t};e.OlapEnvCube.prototype.setDimensionMemberOverrideText=function(e,t,n,r){this.setDimensionMemberOverrideTextByDatasetId(e,t,n,r,"")};e.OlapEnvCube.prototype.setDimensionMemberOverrideTextByDatasetId=function(t,n,r,i,a){if(e.notNull(t)&&e.notNull(n)&&e.notNull(r)&&e.XStringUtils.isNotNullAndNotEmpty(i)&&e.notNull(a)){let o=this.m_memberOverrideTexts.getByKey(t);if(e.isNull(o)){o=e.XHashMapByString.create();this.m_memberOverrideTexts.put(t,o)}let l=o.getByKey(a);if(e.isNull(l)){l=e.XHashMapByString.create();o.put(a,l)}let s=l.getByKey(n);if(e.isNull(s)){s=e.XHashMapByString.create();l.put(n,s)}if(!e.XString.isEqual(s.getByKey(r),i)){s.put(r,i)}}};e.OlapEnvCube.prototype.setDimensionMetadata=function(e){let t=e.getCacheKey();let n=t.getCubeSpecificKey();this.m_dimensionMetadataCache.put(n,e)};e.OlapEnvCube.prototype.setDimensionOverrideText=function(e,t,n){this.setDimensionOverrideTextByDatasetId(e,t,n,"")};e.OlapEnvCube.prototype.setDimensionOverrideTextByDatasetId=function(t,n,r,i){if(e.notNull(t)&&e.notNull(n)&&e.XStringUtils.isNotNullAndNotEmpty(r)&&e.notNull(i)){let a=this.m_dimensionOverrideTexts.getByKey(t);if(e.isNull(a)){a=e.XHashMapByString.create();this.m_dimensionOverrideTexts.put(t,a)}let o=a.getByKey(i);if(e.isNull(o)){o=e.XHashMapByString.create();a.put(i,o)}if(!e.XString.isEqual(o.getByKey(n),r)){o.put(n,r)}}};e.OlapEnvCube.prototype.setFieldMetadata=function(e){let t=e.getCacheKey();let n=t.getCubeSpecificKey();this.m_fieldMetadataCache.put(n,e)};e.OlapEnvCube.prototype.setQueryMetadata=function(t,n){if(e.notNull(t)&&e.notNull(n)){let r=t.getCubeSpecificKey();if(this.m_metadataCache.containsKey(r)){this.m_metadataCache.useEntry(r)}else{let t=e.XContent.createJsonObjectContent(e.QModelFormat.INA_METADATA,n);this.m_metadataCache.put(r,t)}}};e.OlapEnvCube.prototype.setupEnvCube=function(t,n){this.m_olapEnvSystem=e.XWeakReferenceUtil.getWeakRef(t);let r=t.getSession();this.m_dimensionMetadataCache=e.QCache.create(r);this.m_fieldMetadataCache=e.QCache.create(r);this.m_cubeName=n;this.m_metadataCache=e.QCache.create(r);this.m_datasourceKeysToListeners=e.XHashMapByString.create();this.m_dimensionOverrideTexts=e.XHashMapByString.create();this.m_memberOverrideTexts=e.XHashMapByString.create()};e.OlapEnvCube.prototype.toString=function(){return this.m_cubeName};e.OlapEnvSupportedFormulaAction=function(){};e.OlapEnvSupportedFormulaAction.prototype=new e.SyncAction;e.OlapEnvSupportedFormulaAction.prototype._ff_c="OlapEnvSupportedFormulaAction";e.OlapEnvSupportedFormulaAction.create=function(t,n){let r=new e.OlapEnvSupportedFormulaAction;r.setupAction(null,null,null,t);r.m_includeMemberNavigationOperations=n;return r};e.OlapEnvSupportedFormulaAction.prototype.m_includeMemberNavigationOperations=false;e.OlapEnvSupportedFormulaAction.prototype.m_listener=null;e.OlapEnvSupportedFormulaAction.prototype.addCapabilities=function(t,n){if(n.supportsAnalyticCapability(e.InACapabilities.C167_FORMULA_OPERATORS_CATALOG)){let n=t.putNewList("Capabilities");n.addString(e.InACapabilities.C167_FORMULA_OPERATORS_CATALOG)}if(n.supportsAnalyticCapability(e.InACapabilities.C141_RETURNED_DATA_SELECTION)){let n=t.putNewList("Capabilities");n.addString(e.InACapabilities.C141_RETURNED_DATA_SELECTION)}};e.OlapEnvSupportedFormulaAction.prototype.addDatasource=function(t,n){let r=t.putNewStructure("DataSource");if(n.isTypeOf(e.SystemType.HANA)){r.putString("ObjectName",this.m_includeMemberNavigationOperations?"$$AllFunctions$$":"$$FormulaFunctions$$")}else if(n.isTypeOf(e.SystemType.ABAP)){r.putString("ObjectName","$$DataSource$$");r.putString("Type","FormulaOperators")}};e.OlapEnvSupportedFormulaAction.prototype.addFeatureRequests=function(t,n){let r=t.putNewStructure("ResultSetFeatureRequest");r.putBoolean("IncludePerformanceData",false);r.putString("ResultEncoding","None");r.putString("ResultFormat","Version2");if(n.supportsAnalyticCapability(e.InACapabilities.C141_RETURNED_DATA_SELECTION)){let t=r.putNewStructure("ReturnedDataSelection");if(!n.supportsAnalyticCapability(e.InACapabilities.V128_NO_DATA_ACTIONS)){t.putBoolean(e.ReturnedDataSelection.ACTIONS.getName(),false)}t.putBoolean(e.ReturnedDataSelection.EXCEPTIONS.getName(),false);t.putBoolean(e.ReturnedDataSelection.EXCEPTION_ALERTLEVEL.getName(),false);t.putBoolean(e.ReturnedDataSelection.INPUT_ENABLED.getName(),false);t.putBoolean(e.ReturnedDataSelection.UNIT_DESCRIPTIONS.getName(),false);t.putBoolean(e.ReturnedDataSelection.UNIT_TYPES.getName(),false);t.putBoolean(e.ReturnedDataSelection.UNITS.getName(),false);t.putBoolean(e.ReturnedDataSelection.TUPLE_DISPLAY_LEVEL.getName(),false);t.putBoolean(e.ReturnedDataSelection.TUPLE_DRILL_STATE.getName(),false);t.putBoolean(e.ReturnedDataSelection.TUPLE_PARENT_INDEXES.getName(),false);t.putBoolean(e.ReturnedDataSelection.VALUES.getName(),false);t.putBoolean(e.ReturnedDataSelection.VALUES_FORMATTED.getName(),false)}};e.OlapEnvSupportedFormulaAction.prototype.addLayout=function(t,n){let r=t.putNewList("Dimensions");let i=r.addNewStructure();i.putString("Axis","Rows");i.putString("Name","FunctionName");i.putInteger("SortOrder",1);if(n.isTypeOf(e.SystemType.ABAP)){i.putString("Name","FormulaOperators");let t=i.putNewList("Attributes");let n=t.addNewStructure();n.putString("Name","FormulaOperators.KEY");n.putString("Obtainability",e.ObtainabilityType.ALWAYS.getName())}};e.OlapEnvSupportedFormulaAction.prototype.createRequest=function(t){let n=e.PrFactory.createStructure();let r=n.putNewStructure("Analytics");let i=r.putNewStructure("Definition");let a=t.getSystemDescription().getSystemType();this.addCapabilities(r,t);this.addDatasource(i,a);this.addLayout(i,a);this.addFeatureRequests(i,t);return n};e.OlapEnvSupportedFormulaAction.prototype.onFunctionExecuted=function(t,n,r){let i=null;this.copyAllMessages(t);if(t.isValid()){let t=n.getRootElement();e.InAHelper.importMessages(n.getRootElement(),this);if(this.isValid()){let n=t.getListByKey("Grids");let r=n.getStructureAt(0);let a=r.getListByKey("Axes");let o=a.getStructureAt(0);let l=o.getListByKey("Dimensions");let s=l.getStructureAt(0);let u=s.getListByKey("Attributes");let p=u.getStructureAt(0);let g=p.getListByKey("Values");i=e.XList.create();let c=g.size();for(let e=0;e<c;e++){i.add(g.getStringAt(e))}}}this.setData(i);if(e.notNull(this.m_listener)){this.m_listener.onSupportedFormula(this,i,r)}};e.OlapEnvSupportedFormulaAction.prototype.processSyncAction=function(t,n,r){this.m_listener=n;let i=this.getActionContext();let a=i.getSystemDescription().getSystemType();if(a.isTypeOf(e.SystemType.ABAP)&&i.getServerMetadata().supportsCapability(e.ServerService.ANALYTIC,e.InACapabilities.C167_FORMULA_OPERATORS_CATALOG)||a.isTypeOf(e.SystemType.HANA)){let n=i.getConnectionPoolBase().getOpenConnection(i.getSystemName());let r=n.newRpcFunction(a.getInAPath());r.setServiceName(e.SystemServices.INA_SERVICE);r.getRpcRequest().setRequestStructure(this.createRequest(n));r.processFunctionExecution(t,this,a);return this}let o=e.XList.create();if(a.isTypeOf(e.SystemType.ABAP)){let t=e.FormulaOperator.getSupportedFormulaOperator(a);o.addAll(e.XCollectionUtils.createListOfNames(t))}if(a.isTypeOf(e.SystemType.UNV)||a.isTypeOf(e.SystemType.UQAS)){o.add("abs");o.add("and");o.add("decfloat");o.add("double");o.add("float");o.add("if");o.add("int");o.add("isNull");o.add("length");o.add("like");o.add("log");o.add("log10");o.add("not");o.add("or");o.add("substring");o.add("-");o.add("/");o.add("+");o.add("*");o.add("**");o.add("==");o.add("!=");o.add(">=");o.add(">");o.add("<=");o.add("<")}if(i.getServerMetadata().supportsCapability(e.ServerService.ANALYTIC,e.InACapabilities.C153_VARIANCE_OPERATOR)){o.add("variance")}this.setData(o);if(e.notNull(this.m_listener)){this.m_listener.onSupportedFormula(this,o,r)}return this};e.OlapEnvSupportedFormulaAction.prototype.processSynchronization=function(e){return false};e.OlapEnvSupportedFormulaAction.prototype.releaseObjectInternal=function(){this.m_listener=null};e.OlapEnvSystem=function(){};e.OlapEnvSystem.prototype=new e.XObjectExt;e.OlapEnvSystem.prototype._ff_c="OlapEnvSystem";e.OlapEnvSystem.create=function(t,n){let r=new e.OlapEnvSystem;r.setupEnvSys(t,n);return r};e.OlapEnvSystem.prototype.m_capabilities=null;e.OlapEnvSystem.prototype.m_capabilitiesExt=null;e.OlapEnvSystem.prototype.m_cubes=null;e.OlapEnvSystem.prototype.m_listenerCapabilities=null;e.OlapEnvSystem.prototype.m_listenerFormula=null;e.OlapEnvSystem.prototype.m_microCubes=null;e.OlapEnvSystem.prototype.m_olapEnv=null;e.OlapEnvSystem.prototype.m_supportedFormulas=null;e.OlapEnvSystem.prototype.m_systemName=null;e.OlapEnvSystem.prototype.m_variantsByDatasource=null;e.OlapEnvSystem.prototype.m_virtualQmByDatasource=null;e.OlapEnvSystem.prototype._getSupportedBaselineLogic=function(t,n){let r=-1;if(t.isTypeOf(e.SystemType.BW)){r=0}if(t.isTypeOf(e.SystemType.HANA)){r=n.supportsMdsBaseline1()?1:0;r=n.supportsMdsBaseline2()?2:r;r=n.supportsMdsBaseline3()?3:r;r=n.supportsMdsBaseline4()?4:r;r=n.supportsMdsBaseline5()?5:r;r=n.supportsMdsBaseline6()?6:r}if(t.isTypeOf(e.SystemType.UNV)){r=n.supportsUnvBaseline1()?1:r;r=n.supportsUnvBaseline2()?2:r;r=n.supportsUnvBaseline3()?3:r;r=n.supportsUnvBaseline4()?4:r;r=n.supportsUnvBaseline5()?5:r;r=n.supportsUnvBaseline6()?5:r}return r};e.OlapEnvSystem.prototype._processSupportedFormulaAndMemberNavigationsOperators=function(t,n,r,i){let a;if(e.notNull(this.m_supportedFormulas)){a=e.SyncActionExtRes.createSyncAction(this.m_supportedFormulas,null);if(e.notNull(n)){n.onSupportedFormula(a,this.m_supportedFormulas,r)}}else{this.m_listenerFormula=n;let r=this.getApplication().getConnectionPool().getSystemConnect(this.m_systemName);let o=e.OlapEnvSupportedFormulaAction.create(r,i);o.processSyncAction(t,this,null);a=o}return a};e.OlapEnvSystem.prototype.addCapabilities=function(e,t){this.m_capabilitiesExt.put(e.getName(),t)};e.OlapEnvSystem.prototype.addMicroCube=function(e,t){let n=false;if(this.isValidMicroCubeName(e)){this.m_microCubes.put(e,t);n=true}return n};e.OlapEnvSystem.prototype.getApplication=function(){return this.getOlapEnv().getApplication()};e.OlapEnvSystem.prototype.getCubeContainer=function(t){let n=this.m_cubes.getByKey(t);if(e.isNull(n)){n=e.OlapEnvCube.create(this,t);this.m_cubes.put(t,n)}return n};e.OlapEnvSystem.prototype.getCubeContainerInternal=function(e){let t=e.getDataSourceHashKey();return this.getCubeContainer(t)};e.OlapEnvSystem.prototype.getDimensionMetadata=function(e){let t=this.getCubeContainerInternal(e);return t.getDimensionMetadata(e)};e.OlapEnvSystem.prototype.getDimensionMetadataByKey=function(e){let t=this.getCubeContainerInternal(e);return t.getDimensionMetadataByKey(e)};e.OlapEnvSystem.prototype.getFieldMetadata=function(e){let t=this.getCubeContainerInternal(e);return t.getFieldMetadata(e)};e.OlapEnvSystem.prototype.getFieldMetadataByKey=function(e){let t=this.getCubeContainerInternal(e);return t.getFieldMetadataByKey(e)};e.OlapEnvSystem.prototype.getKeyFieldMetadataByDimension=function(e){let t=this.getCubeContainerInternal(e);return t.getKeyFieldMetadataByDimension(e)};e.OlapEnvSystem.prototype.getMicroCube=function(e){return this.m_microCubes.getByKey(e)};e.OlapEnvSystem.prototype.getMicroCubesNames=function(){return this.m_microCubes.getKeysAsReadOnlyList()};e.OlapEnvSystem.prototype.getOlapEnv=function(){return e.XWeakReferenceUtil.getHardRef(this.m_olapEnv)};e.OlapEnvSystem.prototype.getProcess=function(){return this.getApplication().getProcess()};e.OlapEnvSystem.prototype.getQueryMetadata=function(e){let t=this.getCubeContainerInternal(e);return t.getQueryMetadata(e)};e.OlapEnvSystem.prototype.getServiceCapabilities=function(t){if(this.m_capabilities.hasElements()===false){this.processCapabilities(e.SyncType.BLOCKING,this,null)}return this.m_capabilities.getByKey(t)};e.OlapEnvSystem.prototype.getServiceCapabilitiesExt=function(t){if(this.m_capabilitiesExt.hasElements()===false){this.processCapabilitiesExt(e.SyncType.BLOCKING,null,null)}return this.m_capabilitiesExt.getByKey(t.getName())};e.OlapEnvSystem.prototype.getSession=function(){return this.getApplication().getSession()};e.OlapEnvSystem.prototype.getSupportedBaselineFormulaOperators=function(t){let n=this.getApplication().getConnectionPool().getSystemConnect(this.m_systemName);let r=n.getSystemDescription().getSystemType();let i=this.getServiceCapabilitiesExt(t);let a=this._getSupportedBaselineLogic(r,i);return e.FormulaOperatorExt.getBaselineFormulaOperatorsExt(r,a)};e.OlapEnvSystem.prototype.getSystemName=function(){return this.m_systemName};e.OlapEnvSystem.prototype.getVariantsByDatasource=function(t){let n=this.m_variantsByDatasource.getByKey(t);if(e.isNull(n)){n=e.XListOfNameObject.create();this.m_variantsByDatasource.put(t,n)}return n};e.OlapEnvSystem.prototype.isValidMicroCubeName=function(t){return e.XStringUtils.isNotNullAndNotEmpty(t)&&!this.m_microCubes.containsKey(t)};e.OlapEnvSystem.prototype.onCapabilities=function(t,n,r){this.m_capabilities=n;if(e.notNull(this.m_listenerCapabilities)){this.m_listenerCapabilities.onCapabilities(t,n,r)}};e.OlapEnvSystem.prototype.onSupportedFormula=function(t,n,r){this.m_supportedFormulas=n;if(e.notNull(this.m_listenerFormula)){this.m_listenerFormula.onSupportedFormula(t,n,r)}};e.OlapEnvSystem.prototype.overwriteQueryMetadata=function(e,t){let n=this.getCubeContainerInternal(e);n.overwriteQueryMetadata(e,t)};e.OlapEnvSystem.prototype.processCapabilities=function(t,n,r){let i;if(this.m_capabilities.hasElements()){i=e.SyncActionExtRes.createSyncAction(this.m_capabilities,null);if(e.notNull(n)){n.onCapabilities(i,this.m_capabilities,r)}}else{let n=e.OlapEnvCapabilityAction.create(this.getApplication().getConnectionPool().getSystemConnect(this.m_systemName));n.processSyncAction(t,this,r);i=n}return i};e.OlapEnvSystem.prototype.processCapabilitiesExt=function(t,n,r){return e.OlapEnvCapabilitiesExtAction.createAndRun(t,n,r,this)};e.OlapEnvSystem.prototype.processSupportedFormulaAndMemberNavigationsOperators=function(e,t,n){return this._processSupportedFormulaAndMemberNavigationsOperators(e,t,n,true)};e.OlapEnvSystem.prototype.processSupportedFormulaOperators=function(e,t,n){return this._processSupportedFormulaAndMemberNavigationsOperators(e,t,n,false)};e.OlapEnvSystem.prototype.releaseAllQueryMetadata=function(){let e=this.m_cubes.getKeysAsIterator();while(e.hasNext()){let t=this.getCubeContainer(e.next());t.releaseAllQueryMetadata()}};e.OlapEnvSystem.prototype.releaseDimensionMetadataByKey=function(e){let t=this.getCubeContainerInternal(e);t.releaseDimensionMetadataByKey(e)};e.OlapEnvSystem.prototype.releaseFieldMetadataByKey=function(e){let t=this.getCubeContainerInternal(e);t.releaseFieldMetadataByKey(e)};e.OlapEnvSystem.prototype.releaseObject=function(){this.m_olapEnv=null;this.m_systemName=null;this.m_cubes=e.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_cubes);this.m_virtualQmByDatasource=e.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_virtualQmByDatasource);this.m_microCubes=e.XObjectExt.release(this.m_microCubes);this.m_capabilities=e.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_capabilities);this.m_capabilitiesExt=e.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_capabilitiesExt);this.m_listenerCapabilities=null;this.m_supportedFormulas=e.XObjectExt.release(this.m_supportedFormulas);this.m_listenerFormula=null;this.m_variantsByDatasource=e.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_variantsByDatasource);e.XObjectExt.prototype.releaseObject.call(this)};e.OlapEnvSystem.prototype.releaseQueryMetadata=function(e){let t=this.getCubeContainerInternal(e);t.releaseQueryMetadata(e)};e.OlapEnvSystem.prototype.removeMicroCubeName=function(e){if(this.m_microCubes.containsKey(e)){this.m_microCubes.remove(e)}};e.OlapEnvSystem.prototype.setDimensionMetadata=function(e){let t=e.getCacheKey();let n=this.getCubeContainerInternal(t);n.setDimensionMetadata(e)};e.OlapEnvSystem.prototype.setFieldMetadata=function(e){let t=e.getCacheKey();let n=this.getCubeContainerInternal(t);n.setFieldMetadata(e)};e.OlapEnvSystem.prototype.setQueryMetadata=function(e,t){let n=this.getCubeContainerInternal(e);n.setQueryMetadata(e,t)};e.OlapEnvSystem.prototype.setupEnvSys=function(t,n){this.m_olapEnv=e.XWeakReferenceUtil.getWeakRef(t);this.m_systemName=n;this.m_cubes=e.XHashMapByString.create();this.m_microCubes=e.XHashMapByString.create();this.m_capabilities=e.XHashMapByString.create();this.m_capabilitiesExt=e.XHashMapByString.create();this.m_virtualQmByDatasource=e.XHashMapByString.create();this.m_variantsByDatasource=e.XHashMapByString.create()};e.OlapEnvSystem.prototype.toString=function(){return this.m_systemName};e.OlapEnvSystem.prototype.updateDynamicVariablesForQueryManager=function(t,n,r,i){let a=t.getDataSource().getFullQualifiedName();let o=this.m_virtualQmByDatasource.getByKey(a);if(e.isNull(o)){o=e.OlapEnvironmentQMCreationListener.create();this.m_virtualQmByDatasource.put(a,o)}o.processUpdate(n,r,i,t)};e.OlapEnvironmentQMCreationListener=function(){};e.OlapEnvironmentQMCreationListener.prototype=new e.SyncAction;e.OlapEnvironmentQMCreationListener.prototype._ff_c="OlapEnvironmentQMCreationListener";e.OlapEnvironmentQMCreationListener.create=function(){let t=new e.OlapEnvironmentQMCreationListener;t.m_additionalListener=e.XList.create();t.m_additionalQms=e.XList.create();return t};e.OlapEnvironmentQMCreationListener.prototype.m_additionalListener=null;e.OlapEnvironmentQMCreationListener.prototype.m_additionalQms=null;e.OlapEnvironmentQMCreationListener.prototype.m_virtualQueryManager=null;e.OlapEnvironmentQMCreationListener.prototype.callListener=function(t,n,r,i){if(e.notNull(n)){n.onQueryExecuted(this,r,i)}if(e.XCollectionUtils.hasElements(this.m_additionalListener)){for(let e=0;e<this.m_additionalListener.size();e++){let t=this.m_additionalListener.get(e);t.getFirstObject().onQueryExecuted(this,r,t.getSecondObject())}this.m_additionalListener.clear()}};e.OlapEnvironmentQMCreationListener.prototype.onQueryExecuted=function(e,t,n){this.addAllMessages(e);if(this.isValid()){this.updateVariablesInQueryManager();this.setData(e.getData())}this.endSync()};e.OlapEnvironmentQMCreationListener.prototype.onQueryManagerCreated=function(e,t,n){this.addAllMessages(e);if(this.hasErrors()){this.endSync();return}this.m_virtualQueryManager=t;this.prepareVirtualQueryManager();this.m_virtualQueryManager.processQueryExecution(this.getActiveSyncType(),this,null)};e.OlapEnvironmentQMCreationListener.prototype.prepareVirtualQueryManager=function(){let t=this.m_virtualQueryManager.getQueryModel();let n=this.getActionContext().getQueryModel();let r=e.QFactory.createFilterDynamicVariables(t,n.getDataSource());let i=this.getActionContext().getSession();let a=t.getConvenienceCommands();if(i.hasFeature(e.FeatureToggleOlap.IMPROVED_DYNAMIC_VARIABLE_UPDATE)){a.clearFilters();a.addSingleMemberFilterByDimensionName("SchemaName",r.getSchemaName(),e.ComparisonOperator.EQUAL);a.addSingleMemberFilterByDimensionName("PackageName",r.getPackageName(),e.ComparisonOperator.EQUAL);a.addSingleMemberFilterByDimensionName("ObjectName",r.getObjectName(),e.ComparisonOperator.EQUAL);if(t.getModelCapabilities().supportsVirtualDataSourceTypeColumns()){a.addSingleMemberFilterByDimensionName("Type",r.getTypeName(),e.ComparisonOperator.EQUAL)}a.moveDimensionToRows("Name");a.moveDimensionToRows("Low");a.moveDimensionToRows("High");a.moveDimensionToRows("Option");a.moveDimensionToRows("Sign");let i=n.getVariables();for(let t=0;t<i.size();t++){let n=i.get(t);if(n.isDynamicVariable()){a.addSingleMemberFilterByDimensionName("Name",n.getName(),e.ComparisonOperator.EQUAL)}}}else{t.getFilter().getDynamicFilter().setComplexRoot(r);a.addAllDimensions()}};e.OlapEnvironmentQMCreationListener.prototype.processSynchronization=function(t){if(e.isNull(this.m_virtualQueryManager)){let n=this.getActionContext();let r=e.QueryServiceConfig.createWithDataSourceName(n.getApplication(),n.getSystemName(),e.QModelConstants.UPDATE_DYN_VAR_VIRTUAL_DATASOURCE);r.processQueryManagerCreation(t,this,null)}else{this.prepareVirtualQueryManager();this.m_virtualQueryManager.processQueryExecution(t,this,null)}return true};e.OlapEnvironmentQMCreationListener.prototype.processUpdate=function(t,n,r,i){let a=this.getSyncState();if(e.notNull(a)){if(a.isTypeOf(e.SyncState.PROCESSING)){this.m_additionalListener.add(e.XPair.create(n,r));this.m_additionalQms.add(i);return}else{this.resetSyncState()}}this.setupActionAndRun(t,n,r,i)};e.OlapEnvironmentQMCreationListener.prototype.releaseObjectInternal=function(){this.m_virtualQueryManager=e.XObjectExt.release(this.m_virtualQueryManager);this.m_additionalListener=e.XObjectExt.release(this.m_additionalListener)};e.OlapEnvironmentQMCreationListener.prototype.updateVariablesInQueryManager=function(){let t=this.getActionContext().getQueryModel();this.updateVariablesInQueryManagerInternal(t);if(e.XCollectionUtils.hasElements(this.m_additionalQms)){for(let e=0;e<this.m_additionalQms.size();e++){let t=this.m_additionalQms.get(e).getQueryModel();this.updateVariablesInQueryManagerInternal(t)}this.m_additionalQms.clear()}};e.OlapEnvironmentQMCreationListener.prototype.updateVariablesInQueryManagerImproved=function(t){let n=t.getVariables();for(let e=0;e<n.size();e++){let t=n.get(e);if(t.isDynamicVariable()){t.clear()}}let r=this.m_virtualQueryManager.getQueryModel();let i=r.getDimensionByName("Name");let a=r.getDimensionByName("Low");let o=r.getDimensionByName("High");let l=r.getDimensionByName("Option");let s=r.getDimensionByName("Sign");let u=this.m_virtualQueryManager.getClassicResultSet().getRowsAxis();for(let n=0;n<u.getTuplesCount();n++){let r=u.getTupleAt(n);let p=t.getVariable(r.getTupleElementByDimension(i).getName());let g=r.getTupleElementByDimension(a).getName();let c=r.getTupleElementByDimension(o).getName();let y=e.QInAConverter.lookupComparison(r.getTupleElementByDimension(l).getName());if(e.isNull(y)){y=e.ComparisonOperator.EQUAL}let m=e.QInAConverter.lookupRsSetSign(r.getTupleElementByDimension(s).getName());if(e.isNull(m)){m=e.SetSign.INCLUDING}if(p.getVariableType().isTypeOf(e.VariableType.DIMENSION_MEMBER_VARIABLE)){let t=p;let n=t.getDimension();let r=n.getKeyField();let i=e.QFactory.createFilterCartesianListForDimensionMemberVariable(p.getContext(),t,r.getMetadata(),null);let a=i.addNewCartesianElement();a.setComparisonOperator(y);a.setSetSign(m);let o=i.getField().getValueType();if(y.getNumberOfParameters()>0&&e.XStringUtils.isNotNullAndNotEmpty(g)){let t=e.XValueAccess.createWithType(o);t.parseString(g);if(t.getValue()!==null){a.getLow().setValue(t.getValue())}}if(y.getNumberOfParameters()>1&&e.XStringUtils.isNotNullAndNotEmpty(c)){let t=e.XValueAccess.createWithType(o);t.parseString(c);if(t.getValue()!==null){a.getHigh().setValue(t.getValue())}}if(y.getNumberOfParameters()===0||a.getLow()!==null&&a.getLow().getValue()!==null||a.getHigh()!==null&&a.getHigh().getValue()!==null){if(t.hasMemberFilter()){t.getMemberFilter().add(a)}else{t.setMemberFilter(i)}}}else if(p.getVariableType().isTypeOf(e.VariableType.SIMPLE_TYPE_VARIABLE)){p.addValueByString(g)}else if(p.getVariableType().isTypeOf(e.VariableType.OPTION_LIST_VARIABLE)){p.setOptionByName(g)}}};e.OlapEnvironmentQMCreationListener.prototype.updateVariablesInQueryManagerInternal=function(t){let n=this.getActionContext().getSession();if(n.hasFeature(e.FeatureToggleOlap.IMPROVED_DYNAMIC_VARIABLE_UPDATE)){this.updateVariablesInQueryManagerImproved(t)}else{this.updateVariablesInQueryManagerOld(t)}};e.OlapEnvironmentQMCreationListener.prototype.updateVariablesInQueryManagerOld=function(t){let n=this.m_virtualQueryManager.getQueryModel();let r=this.m_virtualQueryManager.getClassicResultSet();let i=r.getRowsAxis();let a=i.getAllMembers(n.getDimensionByName("Name"));let o=i.getAllMembers(n.getDimensionByName("Low"));let l=i.getAllMembers(n.getDimensionByName("High"));if(e.isNull(a)||a.size()===0){return}let s=a.size();let u=t.getVariables();let p=u.size();for(let t=0;t<p;t++){let n=u.get(t);if(!n.isDynamicVariable()){continue}for(let t=0;t<s;t++){if(e.XString.isEqual(a.get(t).getName(),n.getName())){let r=o.get(t).getName();if(e.XStringUtils.isNotNullAndNotEmpty(r)){n.setValueByString(r);if(n.getVariableType()===e.VariableType.DIMENSION_MEMBER_VARIABLE&&e.XStringUtils.isNotNullAndNotEmpty(l.get(t).getName())){let e=n;let r=e.getMemberFilter();let i=r.getCartesianElement(0);i.getHigh().setString(l.get(t).getName())}}}}}};e.DocumentUpdateAction=function(){};e.DocumentUpdateAction.prototype=new e.SyncAction;e.DocumentUpdateAction.prototype._ff_c="DocumentUpdateAction";e.DocumentUpdateAction.createAndRun=function(t,n,r,i,a){let o=new e.DocumentUpdateAction;o.m_olapEnvState=a;o.setupAction(t,n,r,i);o.namesOfHandledQM=e.XHashSetOfString.create();o.namesOfSubmitedQms=e.XHashSetOfString.create();o.insStates=e.XHashMapByString.create();o.modCounters=e.XHashMapByString.create();o.olapStateManager=i;o.process();return o};e.DocumentUpdateAction.resetChangedSettingsInQueryModel=function(t){if(e.notNull(t)){e.DocumentUpdateAction.resetMembers(t.getMeasureDimension());e.DocumentUpdateAction.resetMembers(t.getNonMeasureDimension());e.DocumentUpdateAction.resetMembers(t.getNonMeasureDimension2());e.DocumentUpdateAction.resetMembers(t.getAccountDimension())}};e.DocumentUpdateAction.resetMemberToDefault=function(t){if(t.hasPropertyChanged(e.QStructureMemberProperties.QY_SCALE_FORMAT)){t.resetToDefaultScaleFormat()}if(t.hasPropertyChanged(e.QStructureMemberProperties.QY_CURRENCY_PRESENTATION)){t.resetToDefaultCurrencyPresentation()}if(t.hasPropertyChanged(e.QStructureMemberProperties.QY_NUMERIC_PRECISION)){t.resetToDefaultNumericPrecision()}if(t.hasPropertyChanged(e.QStructureMemberProperties.QY_NUMERIC_SCALE)){t.resetToDefaultNumericScale()}if(t.hasPropertyChanged(e.QStructureMemberProperties.QY_NUMERIC_SHIFT)){t.resetToDefaultNumericShift()}};e.DocumentUpdateAction.resetMembers=function(t){if(e.notNull(t)&&e.XCollectionUtils.hasElements(t.getAllStructureMembers())){t.removeCustomMembers();e.XCollectionUtils.forEach(t.getAllStructureMembers(),t=>{e.DocumentUpdateAction.resetMemberToDefault(t)})}};e.DocumentUpdateAction.prototype.insStates=null;e.DocumentUpdateAction.prototype.m_olapEnvState=null;e.DocumentUpdateAction.prototype.modCounters=null;e.DocumentUpdateAction.prototype.namesOfHandledQM=null;e.DocumentUpdateAction.prototype.namesOfSubmitedQms=null;e.DocumentUpdateAction.prototype.olapStateManager=null;e.DocumentUpdateAction.prototype.applyExternalFilterToQueryManager=function(t,n,r){let i=r.getListByKey("OlapFilters");if(e.notNull(i)){let r=n.getQueryModel().getFilter();let a=i.size();r.unlinkExternalFilters();for(let n=0;n<a;n++){let a=i.getStructureAt(n);let o=a.getStringByKey("Name");let l=t.getFilterById(a.getStringByKey("Id"));if(e.isNull(l)){this.addWarning(e.ErrorCodes.IMPORT_EXTERNAL_FILTER_NOT_FOUND,e.XStringUtils.concatenate3("Could not restore external filter '",o,"'!"))}else{r.linkFilter(o,l)}}}};e.DocumentUpdateAction.prototype.callListener=function(e,t,n,r){t.documentStateApplied(e,n,r)};e.DocumentUpdateAction.prototype.onVariableProcessorExecuted=function(t,n,r){this.addAllMessages(t);if(e.notNull(t)&&t.hasErrors()){this.endSync()}else{let t=r;this.updateQueryManagerFromState(this.olapStateManager.getOlapEnv().getFilterManager(),t);let n=t.getName();t.getQueryModelBase().setModCounter(this.modCounters.getByKey(t.getName()).getInteger());this.namesOfSubmitedQms.removeElement(n);if(this.namesOfSubmitedQms.isEmpty()){if(this.olapStateManager.isReleaseQueryManagersEnabled()){let t=this.olapStateManager.getOlapEnv().getAllAreaQueryManager().getIterator();while(t.hasNext()){let n=t.next();if(!n.isReleased()&&!this.namesOfHandledQM.contains(n.getName())&&!this.olapStateManager.hasToBeIgnored(n)){e.XObjectExt.release(n)}}}this.setData(this.olapStateManager.getOlapEnv());this.endSync()}}};e.DocumentUpdateAction.prototype.processSynchronization=function(t){let n=e.MessageManagerSimple.createMessageManager();let r=this.m_olapEnvState.getFilterManagerState();let i=this.olapStateManager.getStateCache().getByKey(r.getStateId());let a=this.olapStateManager.getOlapEnv();let o=a.getFilterManager();let l=e.JsonParserFactory.newInstance();let s=l.parse(i.getState());if(l.hasErrors()){this.addAllMessages(l);return false}n.copyAllMessages(o.deserializeFromElementExt(e.QModelFormat.INA_REPOSITORY,s));o.setModCounter(r.getModCounter());let u=this.m_olapEnvState.getQueryManagersState().getKeysAsIterator();let p=false;let g=e.XSetOfNameObject.create();let c=e.XSetOfNameObject.create();while(u.hasNext()){let t=u.next();this.namesOfHandledQM.add(t);let r=this.m_olapEnvState.getQueryManagersState().getByKey(t);let i=this.olapStateManager.getStateCache().getByKey(r.getStateId()).getState();let o=l.parse(i);if(e.notNull(o)&&!o.isEmpty()){this.insStates.put(t,o);let i=a.getQueryManagerByName(t);let l=null;let s=o.getStructureByKey(e.QStateConstants.QUERY_MODEL);let u=e.XComponentType.lookupComponentType(s.getStringByKey("CType"))===e.OlapComponentType.BLENDABLE_QUERY_MANAGER;if(e.notNull(i)){if(i.getOlapComponentType()===e.OlapComponentType.QUERY_MANAGER&&u){l=i}else if(i.getOlapComponentType()===e.OlapComponentType.BLENDABLE_QUERY_MANAGER&&!u){l=i.unblend()}}if(e.isNull(i)||e.notNull(l)){i=this.recreateQueryManager(s,n,o.getStringByKeyExt(e.QStateConstants.MANAGER_DATASET_ID,null),o.getByKey(e.QStateConstants.MANAGER_TAGS),o.getStringByKey(e.QStateConstants.MANAGER_SYSTEM_NAME),l);i.setName(t)}this.namesOfSubmitedQms.add(t);if(i.isSubmitNeeded()){c.add(i)}else{g.add(i)}this.modCounters.put(t,e.XIntegerValue.create(r.getModCounter()))}}let y=g.getValuesAsReadOnlyList().getIterator();while(y.hasNext()){this.onVariableProcessorExecuted(null,null,y.next())}e.XObjectExt.release(y);let m=c.getValuesAsReadOnlyList().getIterator();while(m.hasNext()){let e=m.next();e.submitVariables(t,this,e);p=true}e.XObjectExt.release(m);return p};e.DocumentUpdateAction.prototype.recreateQueryManager=function(t,n,r,i,a,o){let l=this.olapStateManager.getOlapEnv();let s=null;let u=t.getStringByKey("CType");if(e.notNull(u)&&e.XComponentType.lookupComponentType(u)===e.OlapComponentType.BLENDABLE_QUERY_MANAGER){let n=null;if(e.notNull(o)){n=l.getModelLinkManager().createBlendableQueryManager(t.getStringByKey("StorageName"),o,t.getStringByKey("Name"))}else{let r=t.getStructureByKey("PrimaryQueryManager");let i=r.getStringByKey("DatasetId");let a=l.getSharedQueryManager(i);n=l.getModelLinkManager().createBlendableQueryManager(t.getStringByKey("StorageName"),a.cloneQueryManagerExt(e.QueryCloneMode.CURRENT_STATE),t.getStringByKey("Name"))}let r=t.getListByKey("QueryManagers");let i=r.getIterator();while(i.hasNext()){let t=i.next().asStructure();let r=t.getStringByKey("DatasetId");let a=l.getSharedQueryManager(r);n.addSecondaryQueryManager(a.cloneQueryManagerExt(e.QueryCloneMode.CURRENT_STATE))}s=n}else{if(e.notNull(o)){s=o}else if(e.XStringUtils.isNotNullAndNotEmpty(r)){let n=l.getSharedQueryManager(r);if(e.notNull(n)&&!n.isReleased()){s=n.cloneQueryManagerExt(e.QueryCloneMode.CURRENT_STATE);s.getTagging().remove(e.QStateConstants.TAG_UNDO_IGNORE);s.getTagging().remove(e.QStateConstants.TAG_UNDO_INCLUDE);s.deserializeFromElementExt(e.QModelFormat.INA_REPOSITORY,t)}}if(e.isNull(s)){let r=e.QueryServiceConfig.create(l.getApplication());r.setDefinitionByStructure(e.QModelFormat.INA_REPOSITORY,t);r.setSystemName(a);let i=r.processQueryManagerCreation(e.SyncType.BLOCKING,null,null);n.addAllMessages(i);s=i.getData()}}if(e.notNull(s)&&e.notNull(i)){let e=i.asList();for(let t=0;t<e.size();t++){let n=e.get(t).asStructure();s.getTagging().put(n.getStringByKey("KEY"),n.getStringByKey("VALUE"))}}return s};e.DocumentUpdateAction.prototype.releaseObjectInternal=function(){this.olapStateManager=null;this.insStates=e.XObjectExt.release(this.insStates);this.namesOfHandledQM=e.XObjectExt.release(this.namesOfHandledQM);this.namesOfSubmitedQms=e.XObjectExt.release(this.namesOfSubmitedQms)};e.DocumentUpdateAction.prototype.updateQueryManagerFromState=function(t,n){let r=this.insStates.getByKey(n.getName());if(n.getOlapComponentType()===e.OlapComponentType.BLENDABLE_QUERY_MANAGER){e.DocumentUpdateAction.resetChangedSettingsInQueryModel(n.getQueryModel());n.deserializeFromElementExt(e.QModelFormat.INA_REPOSITORY,r.getStructureByKey(e.QStateConstants.QUERY_MODEL));let i=n;let a=r.getListByKey(e.QStateConstants.QUERY_MANAGER_EXTERNAL_FILTERS);let o=a.getIterator();while(o.hasNext()){let n=o.next().asStructure();let r=n.getStringByKey(e.QStateConstants.MANAGER_DATASET_ID);let a=i.getQueryManagerByDatasetId(r);if(e.notNull(a)){this.applyExternalFilterToQueryManager(t,a,n)}}}else{e.DocumentUpdateAction.resetChangedSettingsInQueryModel(n.getQueryModel());n.getQueryModel().deserializeFromElementExt(e.QModelFormat.INA_REPOSITORY,r.getStructureByKey(e.QStateConstants.QUERY_MODEL));this.applyExternalFilterToQueryManager(t,n,r)}};e.ResultSetContainerProcessExecutionAction=function(){};e.ResultSetContainerProcessExecutionAction.prototype=new e.SyncAction;e.ResultSetContainerProcessExecutionAction.prototype._ff_c="ResultSetContainerProcessExecutionAction";e.ResultSetContainerProcessExecutionAction.createAction=function(t){let n=new e.ResultSetContainerProcessExecutionAction;n.m_resultSetContainer=t;n.setupAction(null,null,null,null);return n};e.ResultSetContainerProcessExecutionAction.prototype.m_resultSetContainer=null;e.ResultSetContainerProcessExecutionAction.prototype.m_resultSetContainerExecution=null;e.ResultSetContainerProcessExecutionAction.prototype.callListener=function(e,t,n,r){t.onQueryExecuted(e,n,r)};e.ResultSetContainerProcessExecutionAction.prototype.onQueryExecuted=function(e,t,n){this.addAllMessages(e);this.setData(t);this.endSync()};e.ResultSetContainerProcessExecutionAction.prototype.processSynchronization=function(e){this.m_resultSetContainerExecution=this.m_resultSetContainer.processExecution(e,this,null);if(!this.getSyncState().isInSync()&&(this.m_resultSetContainerExecution.getSyncState().isInSync()||this.m_resultSetContainerExecution.hasErrors())){this.addAllMessages(this.m_resultSetContainerExecution);this.setData(this.m_resultSetContainerExecution.getData());return false}return true};e.ResultSetContainerProcessExecutionAction.prototype.releaseObjectInternal=function(){this.m_resultSetContainer=null;this.m_resultSetContainerExecution=e.XObjectExt.release(this.m_resultSetContainerExecution)};e.RpcBlendFunctionProcessExecutionAction=function(){};e.RpcBlendFunctionProcessExecutionAction.prototype=new e.SyncAction;e.RpcBlendFunctionProcessExecutionAction.prototype._ff_c="RpcBlendFunctionProcessExecutionAction";e.RpcBlendFunctionProcessExecutionAction.createAction=function(t,n){let r=new e.RpcBlendFunctionProcessExecutionAction;r.m_rpcFunction=t;r.m_queryManager=n;r.setupAction(null,null,null,null);return r};e.RpcBlendFunctionProcessExecutionAction.prototype.m_queryManager=null;e.RpcBlendFunctionProcessExecutionAction.prototype.m_rpcFunction=null;e.RpcBlendFunctionProcessExecutionAction.prototype.m_rpcFunctionExecution=null;e.RpcBlendFunctionProcessExecutionAction.prototype.callListener=function(e,t,n,r){t.onFunctionExecuted(e,n,r)};e.RpcBlendFunctionProcessExecutionAction.prototype.onFunctionExecuted=function(e,t,n){this.addAllMessages(e);this.setData(t);this.endSync()};e.RpcBlendFunctionProcessExecutionAction.prototype.processSynchronization=function(t){let n=this.m_queryManager.getServiceConfig();let r=n.getBlendingDefinition();let i=r.getSources();if(i.isEmpty()){this.addError(e.ErrorCodes.INVALID_STATE,"No blending sources set");return false}for(let e=0;e<i.size();e++){i.get(e).getQueryModel().destroyTransientObjects()}this.m_rpcFunctionExecution=this.m_rpcFunction.processFunctionExecution(t,this,null);if(!this.getSyncState().isInSync()&&(this.m_rpcFunctionExecution.getSyncState().isInSync()||this.m_rpcFunctionExecution.hasErrors())){this.addAllMessages(this.m_rpcFunctionExecution);this.setData(this.m_rpcFunctionExecution.getData());return false}return true};e.RpcBlendFunctionProcessExecutionAction.prototype.releaseObjectInternal=function(){this.m_rpcFunction=null;this.m_queryManager=null;this.m_rpcFunctionExecution=e.XObjectExt.release(this.m_rpcFunctionExecution)};e.OlapEnvironment=function(){};e.OlapEnvironment.prototype=new e.DfNameObject;e.OlapEnvironment.prototype._ff_c="OlapEnvironment";e.OlapEnvironment.CUSTOM_IDENTIFIER="customIdentifier";e.OlapEnvironment.LISTENER="listener";e.OlapEnvironment.QUERY_MANAGER="queryManager";e.OlapEnvironment.SYNC_TYPE="syncType";e.OlapEnvironment.SYSTEM_NAME="systemName";e.OlapEnvironment.create=function(t){let n=new e.OlapEnvironment;n.setupEnv(t);return n};e.OlapEnvironment.prototype.m_allowedFormulaOperators=null;e.OlapEnvironment.prototype.m_application=null;e.OlapEnvironment.prototype.m_clientQueryObjectManager=null;e.OlapEnvironment.prototype.m_customHierarchyRepo=null;e.OlapEnvironment.prototype.m_filterAcrossModelsLovCacheManager=null;e.OlapEnvironment.prototype.m_filterManager=null;e.OlapEnvironment.prototype.m_geoManager=null;e.OlapEnvironment.prototype.m_isCmdTracing=false;e.OlapEnvironment.prototype.m_modelCache=null;e.OlapEnvironment.prototype.m_modelLinkManager=null;e.OlapEnvironment.prototype.m_prequeries=null;e.OlapEnvironment.prototype.m_queryManagerHandler=null;e.OlapEnvironment.prototype.m_queryManagers=null;e.OlapEnvironment.prototype.m_remoteBlendingCache=null;e.OlapEnvironment.prototype.m_resourceToStringRep=null;e.OlapEnvironment.prototype.m_rsDataMaxCacheEntries=10;e.OlapEnvironment.prototype.m_sharedQueryManagers=null;e.OlapEnvironment.prototype.m_stateManager=null;e.OlapEnvironment.prototype.m_supportedFormulaOperators=null;e.OlapEnvironment.prototype.m_systems=null;e.OlapEnvironment.prototype.m_traceOffset=0;e.OlapEnvironment.prototype.m_traces=null;e.OlapEnvironment.prototype.m_transientQueryManager=null;e.OlapEnvironment.prototype.m_varProcessor=null;e.OlapEnvironment.prototype.m_variables=null;e.OlapEnvironment.prototype.m_visualizationTemplateManager=null;e.OlapEnvironment.prototype.addBLOBDetailsToCache=function(e,t){this.m_resourceToStringRep.put(e,t)};e.OlapEnvironment.prototype.addMicroCube=function(e,t,n){return this.getSystemContainerBase(e).addMicroCube(t,n)};e.OlapEnvironment.prototype.addPrequery=function(e,t){this.m_prequeries.put(e,t)};e.OlapEnvironment.prototype.addTraceEntry=function(t){if(e.notNull(this.m_traces)){this.m_traces.add(t)}};e.OlapEnvironment.prototype.cacheRemoteBlendingData=function(t,n,r){let i=t.getResultSetPersistenceIdentifier();if(e.XStringUtils.isNotNullAndNotEmpty(i)&&(e.XStringUtils.isNotNullAndNotEmpty(n)||e.XStringUtils.isNotNullAndNotEmpty(r))){this.m_remoteBlendingCache.put(i,e.RemoteBlendingCacheEntry.create(n,r,t.getDataSource().getFullQualifiedName()));if(this.m_remoteBlendingCache.size()>this.m_rsDataMaxCacheEntries){this.invalidateRemoteBlendingCacheEntry(this.m_remoteBlendingCache.getKeysAsReadOnlyList().get(0))}}};e.OlapEnvironment.prototype.clearTransientQueryManager=function(){this.m_transientQueryManager.clear()};e.OlapEnvironment.prototype.containsQueryManagerWithName=function(e){return this.m_queryManagers.containsKey(e)};e.OlapEnvironment.prototype.createQueryManagerWithMicroCube=function(e,t){return this.m_queryManagerHandler.createQueryManagerWithMicroCube(e,t)};e.OlapEnvironment.prototype.getAllAreaQueryManager=function(){let t=e.XList.create();e.XCollectionUtils.addAll(t,this.m_queryManagers);return t};e.OlapEnvironment.prototype.getAllAreaQueryManagerActive=function(){let t=e.XList.create();for(let n=0;n<this.m_queryManagers.size();n++){let r=this.m_queryManagers.get(n);let i=r.getLifeCycleState();if(i===e.LifeCycleState.ACTIVE){t.add(r)}}return t};e.OlapEnvironment.prototype.getAllowedFormulaOperatorList=function(){return this.m_allowedFormulaOperators};e.OlapEnvironment.prototype.getApplication=function(){return e.XWeakReferenceUtil.getHardRef(this.m_application)};e.OlapEnvironment.prototype.getApplicationBase=function(){return e.XWeakReferenceUtil.getHardRef(this.m_application)};e.OlapEnvironment.prototype.getBLOBDetailsForResourceId=function(e){return this.m_resourceToStringRep.getByKey(e)};e.OlapEnvironment.prototype.getCachedRemoteBlendingData=function(e){return this.m_remoteBlendingCache.getByKey(e)};e.OlapEnvironment.prototype.getCellContextManager=function(){return null};e.OlapEnvironment.prototype.getClientQueryObjectManager=function(){if(e.isNull(this.m_clientQueryObjectManager)){this.m_clientQueryObjectManager=e.OlapClientQueryObjectManager.create(this)}return this.m_clientQueryObjectManager};e.OlapEnvironment.prototype.getComponentType=function(){return e.OlapComponentType.OLAP_ENVIRONMENT};e.OlapEnvironment.prototype.getContext=function(){return this};e.OlapEnvironment.prototype.getCubeContainer=function(e){return this.getCubeContainerInternal(e)};e.OlapEnvironment.prototype.getCubeContainerInternal=function(e){let t=this.getSystemContainer(e.getSystemName());return t.getCubeContainerInternal(e)};e.OlapEnvironment.prototype.getCustomHierarchyRepository=function(){return this.m_customHierarchyRepo};e.OlapEnvironment.prototype.getDataSource=function(){return null};e.OlapEnvironment.prototype.getDataSourceOrigin=function(){return this.getDataSource()};e.OlapEnvironment.prototype.getDataSourceTarget=function(){return this.getDataSource()};e.OlapEnvironment.prototype.getDimensionAccessor=function(){return null};e.OlapEnvironment.prototype.getDimensionMetadata=function(e){let t=this.getCubeContainerInternal(e);return t.getDimensionMetadata(e)};e.OlapEnvironment.prototype.getDimensionMetadataByKey=function(e){let t=this.getCubeContainerInternal(e);return t.getDimensionMetadataByKey(e)};e.OlapEnvironment.prototype.getDocumentStateManager=function(){return this.m_stateManager};e.OlapEnvironment.prototype.getDrillManager=function(){return null};e.OlapEnvironment.prototype.getFieldAccessorSingle=function(){return null};e.OlapEnvironment.prototype.getFieldMetadata=function(e){let t=this.getCubeContainerInternal(e);return t.getFieldMetadata(e)};e.OlapEnvironment.prototype.getFieldMetadataByKey=function(e){let t=this.getCubeContainerInternal(e);return t.getFieldMetadataByKey(e)};e.OlapEnvironment.prototype.getFilterAcrossModelsLovCacheManager=function(){if(e.isNull(this.m_filterAcrossModelsLovCacheManager)){this.m_filterAcrossModelsLovCacheManager=e.QFilterAcrossModelsLovCacheManager.create()}return this.m_filterAcrossModelsLovCacheManager};e.OlapEnvironment.prototype.getFilterManager=function(){if(e.isNull(this.m_filterManager)){this.m_filterManager=e.OlapFilterManager.create(this)}return this.m_filterManager};e.OlapEnvironment.prototype.getGeoManager=function(){if(e.isNull(this.m_geoManager)){this.m_geoManager=e.QGeoManager.create(this)}return this.m_geoManager};e.OlapEnvironment.prototype.getKeyFieldMetadataByDimension=function(e){let t=this.getCubeContainerInternal(e);return t.getKeyFieldMetadataByDimension(e)};e.OlapEnvironment.prototype.getKeyRefStorage=function(){return null};e.OlapEnvironment.prototype.getMicroCube=function(e,t){return this.getSystemContainerBase(e).getMicroCube(t)};e.OlapEnvironment.prototype.getMicroCubesNames=function(e){return this.getSystemContainer(e).getMicroCubesNames()};e.OlapEnvironment.prototype.getModelCapabilities=function(){return null};e.OlapEnvironment.prototype.getModelContent=function(e){return this.m_modelCache.getByKey(e)};e.OlapEnvironment.prototype.getModelLinkManager=function(){if(e.isNull(this.m_modelLinkManager)){this.m_modelLinkManager=e.QModelDimensionLinksManager.create(this)}return this.m_modelLinkManager};e.OlapEnvironment.prototype.getOlapEnv=function(){return this};e.OlapEnvironment.prototype.getPrequery=function(e){return this.m_prequeries.getByKey(e)};e.OlapEnvironment.prototype.getProcess=function(){let t=this.getApplication();return e.isNull(t)?null:t.getProcess()};e.OlapEnvironment.prototype.getQueryManager=function(){return null};e.OlapEnvironment.prototype.getQueryManagerByDataSource=function(t,n){let r=this.m_queryManagers.size();for(let i=0;i<r;i++){let r=this.m_queryManagers.get(i);if(e.XString.isEqual(r.getSystemName(),t)&&r.getDataSource()!==null&&e.XString.isEqual(r.getDataSource().getFullQualifiedName(),n)){return r}}return null};e.OlapEnvironment.prototype.getQueryManagerByName=function(e){return this.m_queryManagers.getByKey(e)};e.OlapEnvironment.prototype.getQueryMetadata=function(t){let n=null;if(e.notNull(t)){let e=this.getCubeContainerInternal(t);n=e.getQueryMetadata(t)}return n};e.OlapEnvironment.prototype.getQueryModel=function(){return null};e.OlapEnvironment.prototype.getRemoteBlendingCacheEntryCount=function(){return this.m_rsDataMaxCacheEntries};e.OlapEnvironment.prototype.getSession=function(){return this.getProcess()};e.OlapEnvironment.prototype.getSharedQueryManager=function(e){return this.m_sharedQueryManagers.getByKey(e)};e.OlapEnvironment.prototype.getStateManager=function(){return this.m_stateManager};e.OlapEnvironment.prototype.getSystemContainer=function(t){let n=t;if(e.isNull(n)){n="@defaultSys"}let r=this.m_systems.getByKey(n);if(e.isNull(r)){r=e.OlapEnvSystem.create(this,n);this.m_systems.put(n,r)}return r};e.OlapEnvironment.prototype.getSystemContainerBase=function(e){return this.getSystemContainer(e)};e.OlapEnvironment.prototype.getSystemName=function(){return null};e.OlapEnvironment.prototype.getTraceChunk=function(){let t=this.m_traces;if(e.notNull(this.m_traces)){this.m_traceOffset=this.m_traceOffset+this.m_traces.size();this.m_traces=e.XList.create()}return t};e.OlapEnvironment.prototype.getTraceOffset=function(){return this.m_traceOffset};e.OlapEnvironment.prototype.getTracingLog=function(){if(e.isNull(this.m_traces)){return"[Tracing not enabled]"}let t=e.XStringBuffer.create();for(let e=0;e<this.m_traces.size();e++){let n=this.m_traces.get(e);t.appendLine(n.toString())}return t.toString()};e.OlapEnvironment.prototype.getTransientQueryManager=function(e){return this.m_transientQueryManager.getByKey(e)};e.OlapEnvironment.prototype.getVariableContainer=function(){return null};e.OlapEnvironment.prototype.getVariableProcessor=function(){return this.m_varProcessor};e.OlapEnvironment.prototype.getVisualizationTemplateManager=function(){if(e.isNull(this.m_visualizationTemplateManager)){this.m_visualizationTemplateManager=e.QFactory.createVisualizationTemplateManager(this)}return this.m_visualizationTemplateManager};e.OlapEnvironment.prototype.hasBLOBForResourceId=function(e){return this.m_resourceToStringRep.containsKey(e)};e.OlapEnvironment.prototype.invalidateRemoteBlendingCache=function(){e.XCollectionUtils.releaseEntriesFromCollection(this.m_remoteBlendingCache);this.m_remoteBlendingCache.clear()};e.OlapEnvironment.prototype.invalidateRemoteBlendingCacheByDataSource=function(t){let n=this.m_remoteBlendingCache.getValuesAsReadOnlyList();for(let r=n.size()-1;r>=0;r--){if(e.XString.isEqual(n.get(r).getDataSourceName(),t)){this.invalidateRemoteBlendingCacheEntry(this.m_remoteBlendingCache.getKeysAsReadOnlyList().get(r))}}};e.OlapEnvironment.prototype.invalidateRemoteBlendingCacheEntry=function(t){if(e.XStringUtils.isNotNullAndNotEmpty(t)){e.XObjectExt.release(this.m_remoteBlendingCache.getByKey(t));this.m_remoteBlendingCache.remove(t)}};e.OlapEnvironment.prototype.isCachingEnabled=function(){let t=this.getSession();let n=false;if(e.notNull(t)){n=t.hasFeature(e.FeatureToggleOlap.METADATA_CACHING)}return n};e.OlapEnvironment.prototype.isTracing=function(){return e.notNull(this.m_traces)};e.OlapEnvironment.prototype.isValidMicroCubeName=function(e,t){return this.getSystemContainer(e).isValidMicroCubeName(t)};e.OlapEnvironment.prototype.onQueryManagerCreated=function(t,n,r){let i=r;let a=i.getFirstObject();let o=i.getSecondObject();let l=null;if(e.notNull(n)){l=this.selectCmds(n)}let s=e.ExtResult.create(l,t);a.onCmdContextCreated(s,l,o)};e.OlapEnvironment.prototype.overwriteQueryMetadata=function(t,n){if(e.notNull(t)){let e=this.getCubeContainerInternal(t);e.overwriteQueryMetadata(t,n)}};e.OlapEnvironment.prototype.processCmdContextCreation=function(t,n,r,i,a){let o=e.XPair.create(n,r);i.processQueryManagerCreation(e.SyncType.NON_BLOCKING,this,o);return null};e.OlapEnvironment.prototype.processQueryManagerCreationWithBlendingDefinition=function(e,t,n,r){return this.m_queryManagerHandler.processQueryManagerCreationWithBlendingDefinition(e,t,n,r)};e.OlapEnvironment.prototype.processQueryManagerCreationWithDataSourceName=function(e,t,n,r,i){return this.m_queryManagerHandler.processQueryManagerCreationWithDataSourceName(e,t,n,r,i)};e.OlapEnvironment.prototype.putTransientQueryManager=function(e,t){this.m_transientQueryManager.put(e,t)};e.OlapEnvironment.prototype.registerQueryManager=function(e){this.m_queryManagers.add(e)};e.OlapEnvironment.prototype.registerSharedQueryManager=function(e,t){this.m_sharedQueryManagers.put(e,t)};e.OlapEnvironment.prototype.releaseAllQueryMetadata=function(){let e=this.m_systems.getKeysAsIterator();while(e.hasNext()){let t=this.getSystemContainer(e.next());t.releaseAllQueryMetadata()}};e.OlapEnvironment.prototype.releaseDimensionMetadataByKey=function(e){let t=this.getCubeContainerInternal(e);t.releaseDimensionMetadataByKey(e)};e.OlapEnvironment.prototype.releaseFieldMetadataByKey=function(e){let t=this.getCubeContainerInternal(e);t.releaseFieldMetadataByKey(e)};e.OlapEnvironment.prototype.releaseObject=function(){if(e.notNull(this.m_queryManagers)){for(let t=0;t<this.m_queryManagers.size();t++){let n=this.m_queryManagers.get(t);e.XObjectExt.release(n)}e.XObjectExt.release(this.m_queryManagers);this.m_queryManagers=null}this.m_systems=e.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_systems);this.m_varProcessor=e.XObjectExt.release(this.m_varProcessor);this.m_stateManager=e.XObjectExt.release(this.m_stateManager);this.m_queryManagerHandler=e.XObjectExt.release(this.m_queryManagerHandler);this.m_customHierarchyRepo=e.XObjectExt.release(this.m_customHierarchyRepo);this.m_remoteBlendingCache=e.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_remoteBlendingCache);this.m_application=null;this.m_resourceToStringRep=e.XObjectExt.release(this.m_resourceToStringRep);this.m_systems=e.XObjectExt.release(this.m_systems);this.m_filterManager=e.XObjectExt.release(this.m_filterManager);this.m_visualizationTemplateManager=e.XObjectExt.release(this.m_visualizationTemplateManager);this.m_geoManager=e.XObjectExt.release(this.m_geoManager);this.m_modelLinkManager=e.XObjectExt.release(this.m_modelLinkManager);this.m_clientQueryObjectManager=e.XObjectExt.release(this.m_clientQueryObjectManager);this.m_filterAcrossModelsLovCacheManager=e.XObjectExt.release(this.m_filterAcrossModelsLovCacheManager);this.m_prequeries=e.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_prequeries);this.m_transientQueryManager=e.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_transientQueryManager);this.m_sharedQueryManagers=e.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_sharedQueryManagers);this.m_allowedFormulaOperators=e.XObjectExt.release(this.m_allowedFormulaOperators);this.m_supportedFormulaOperators=e.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_supportedFormulaOperators);e.DfNameObject.prototype.releaseObject.call(this)};e.OlapEnvironment.prototype.releaseQueryMetadata=function(t){if(e.notNull(t)){let e=this.getCubeContainerInternal(t);e.releaseQueryMetadata(t)}};e.OlapEnvironment.prototype.releaseQueryMetadataExt=function(t,n,r,i,a){let o=e.QFactory.createDataSource();o.setSchemaName(r);o.setPackageName(i);o.setObjectName(a);o.setType(e.MetaObjectType.lookup(n));let l=this.getSystemContainer(t);if(e.notNull(l)){let t=o.getCacheKeyName();let n=l.getCubeContainer(t);if(e.notNull(n)){n.releaseAllQueryMetadata();e.XObjectExt.release(o)}}};e.OlapEnvironment.prototype.releaseResource=function(e){this.m_resourceToStringRep.freeEntry(e)};e.OlapEnvironment.prototype.removeMicroCubeName=function(e,t){this.getSystemContainerBase(e).removeMicroCubeName(t)};e.OlapEnvironment.prototype.removePrequery=function(e){return this.m_prequeries.remove(e)};e.OlapEnvironment.prototype.replaceVariable=function(t){return e.isNull(this.m_variables)?t:this.m_variables.getStringByKeyExt(t,t)};e.OlapEnvironment.prototype.select=function(t){return e.CommandSpaceFactory.createCommandSpaceWithSelection(this,t)};e.OlapEnvironment.prototype.selectCmds=function(t){return e.CommandSpaceFactory.createCommandSpaceWithElement(this,t)};e.OlapEnvironment.prototype.setAllowedFormulaOperatorList=function(e){this.m_allowedFormulaOperators=e};e.OlapEnvironment.prototype.setApplication=function(t){this.m_application=e.XWeakReferenceUtil.getWeakRef(t)};e.OlapEnvironment.prototype.setCachingEnabled=function(t){if(t){this.getSession().activateFeatureToggle(e.FeatureToggleOlap.METADATA_CACHING)}else{this.getSession().deactivateFeatureToggle(e.FeatureToggleOlap.METADATA_CACHING)}};e.OlapEnvironment.prototype.setContext=e.noSupport;e.OlapEnvironment.prototype.setDimensionMetadata=function(e){let t=this.getCubeContainerInternal(e.getCacheKey());t.setDimensionMetadata(e)};e.OlapEnvironment.prototype.setFieldMetadata=function(e){let t=this.getCubeContainerInternal(e.getCacheKey());t.setFieldMetadata(e)};e.OlapEnvironment.prototype.setModelByContent=function(e,t){this.m_modelCache.put(e,t)};e.OlapEnvironment.prototype.setModelByJsonObject=function(t,n,r){let i=e.XContent.createJsonObjectContent(n,r);this.setModelByContent(t,i)};e.OlapEnvironment.prototype.setQueryMetadata=function(t,n){if(e.notNull(t)){let e=this.getCubeContainerInternal(t);e.setQueryMetadata(t,n)}};e.OlapEnvironment.prototype.setRemoteBlendingCacheEntryCount=function(t){this.m_rsDataMaxCacheEntries=e.XMath.max(t,0);while(this.m_remoteBlendingCache.hasElements()&&this.m_remoteBlendingCache.size()>this.m_rsDataMaxCacheEntries){this.invalidateRemoteBlendingCacheEntry(this.m_remoteBlendingCache.getKeysAsReadOnlyList().get(0))}};e.OlapEnvironment.prototype.setReplacementVariables=function(e,t,n,r){this.m_variables=e};e.OlapEnvironment.prototype.setTracing=function(t){if(this.m_isCmdTracing!==t){this.m_isCmdTracing=t;if(t){this.m_traces=e.XList.create();this.m_traceOffset=0}else{this.m_traces=e.XObjectExt.release(this.m_traces)}}};e.OlapEnvironment.prototype.setupEnv=function(t){this.setApplication(t);let n=this.getSession();if(e.notNull(n)){n.setEntity(e.ProcessEntity.OLAP_ENVIRONMENT,this)}this.m_remoteBlendingCache=e.XLinkedHashMapByString.create();this.m_resourceToStringRep=e.QCache.create(n);this.m_queryManagers=e.XListOfNameObject.create();this.m_varProcessor=e.OlapEnvVarProcessor.create(this);this.m_stateManager=e.OlapEnvStateManager.create(this,n);this.m_queryManagerHandler=e.OlapEnvQueryManagerHandler.create(this);this.m_systems=e.XHashMapByString.create();this.m_customHierarchyRepo=e.CustomHierarchyRepository.create(t);this.m_prequeries=e.XLinkedHashMapByString.create();this.m_transientQueryManager=e.XHashMapByString.create();this.m_sharedQueryManagers=e.XHashMapByString.create();this.m_modelCache=e.QCache.create(n)};e.OlapEnvironment.prototype.toString=function(){return e.isNull(this.m_application)?"":this.m_application.toString()};e.OlapEnvironment.prototype.unregisterQueryManager=function(t){if(e.notNull(this.m_queryManagers)){this.m_queryManagers.removeElement(t)}let n=this.m_sharedQueryManagers.getKeysAsIterator();while(n.hasNext()){let e=n.next();if(t.isEqualTo(this.m_sharedQueryManagers.getByKey(e))){this.m_sharedQueryManagers.remove(e)}}};e.OlapEnvironment.prototype.updateDynamicVariablesForQueryManager=function(e,t,n,r){let i=e.getSystemDescription().getSystemName();let a=this.getSystemContainer(i);a.updateDynamicVariablesForQueryManager(e,t,n,r)};e.OlapEnvironment.prototype.updateRemoteBlendingCacheId=function(t,n){let r=t.getResultSetPersistenceIdentifier();if(e.XStringUtils.isNotNullAndNotEmpty(r)&&e.XStringUtils.isNotNullAndNotEmpty(n)&&!e.XString.isEqual(n,r)&&this.m_remoteBlendingCache.containsKey(n)){this.m_remoteBlendingCache.put(r,this.m_remoteBlendingCache.getByKey(n));this.m_remoteBlendingCache.remove(n)}};e.OlapEnvironment.prototype.useBLOBDetailsForResourceId=function(e){return this.m_resourceToStringRep.useEntry(e)};e.QueryManagerProcessingSequence=function(){};e.QueryManagerProcessingSequence.prototype=new e.SyncActionSequence;e.QueryManagerProcessingSequence.prototype._ff_c="QueryManagerProcessingSequence";e.QueryManagerProcessingSequence.createSequence=function(t,n,r,i){let a=new e.QueryManagerProcessingSequence;a.setupAction(null,null,null,t);a.m_resultSetContainer=n;a.m_varSubmitRequired=r;a.m_enforceCustomHierarchyRequests=i;return a};e.QueryManagerProcessingSequence.supportsCustomHierarchies=function(t){return e.notNull(t)&&t.getSystemType().isTypeOf(e.SystemType.ABAP)&&t.getModelCapabilities().supportsCustomHierarchy()};e.QueryManagerProcessingSequence.prototype.m_enforceCustomHierarchyRequests=false;e.QueryManagerProcessingSequence.prototype.m_resultSetContainer=null;e.QueryManagerProcessingSequence.prototype.m_varSubmitRequired=false;e.QueryManagerProcessingSequence.prototype.processCustomHierarchySubmits=function(t,n){if(e.notNull(t)){for(let r=0;r<t.size();r++){let i=t.get(r);let a=this.getActionContext().createCustomHierarchyProvider(i,n);this.addAction(a.processExecution(e.SyncType.DELAYED,null,null))}}};e.QueryManagerProcessingSequence.prototype.processSynchronization=function(t){let n=this.getActionContext();let r=n.getQueryModel();let i=this.m_resultSetContainer.processExecution(e.SyncType.DELAYED,null,null);if(e.QueryManagerProcessingSequence.supportsCustomHierarchies(r)){let e=r.getOlapEnv().getCustomHierarchyRepository();this.processCustomHierarchySubmits(e.getCustomHierarchiesUsedInQueryModel(r),this.m_enforceCustomHierarchyRequests)}if(this.m_varSubmitRequired){let t=n.submitVariables(e.SyncType.DELAYED,null,null);if(e.notNull(t)){this.addAction(t)}}this.setMainAction(i);return e.SyncActionSequence.prototype.processSynchronization.call(this,t)};e.QueryManagerProcessingSequence.prototype.releaseObjectInternal=function(){e.SyncActionSequence.prototype.releaseObjectInternal.call(this);this.m_resultSetContainer=null};e.ValueHelpProcessingSequence=function(){};e.ValueHelpProcessingSequence.prototype=new e.SyncActionSequence;e.ValueHelpProcessingSequence.prototype._ff_c="ValueHelpProcessingSequence";e.ValueHelpProcessingSequence.createSequence=function(t,n,r,i,a,o){let l=new e.ValueHelpProcessingSequence;l.setupAction(null,null,null,t);l.m_resultSetContainer=r;l.m_dimension=n;l.m_exportValueHelp=i;l.m_requiresCustomHierarchySubmit=a;l.m_requiresVariableSubmit=o;return l};e.ValueHelpProcessingSequence.customHierarchySubmitRequiredForValueHelp=function(t){return e.ValueHelpProcessingSequence.getCustomHierarchyDefinition(t)!==null};e.ValueHelpProcessingSequence.getCustomHierarchyDefinition=function(t){let n=null;if(e.ValueHelpProcessingSequence.supportsCustomHierarchies(t.getQueryModel())&&t.isSelectorHierarchyActive()){let r=t.getSelectorHierarchyName();if(e.XStringUtils.isNotNullAndNotEmpty(r)){n=t.getOlapEnv().getCustomHierarchyRepository().getCustomHierarchyDefinitionByName(r)}if(e.isNull(n)&&t.isHierarchyActive()){n=t.getCustomHierarchyDefinition()}}return n};e.ValueHelpProcessingSequence.supportsCustomHierarchies=function(t){return e.notNull(t)&&t.getSystemType().isTypeOf(e.SystemType.ABAP)&&t.getModelCapabilities().supportsCustomHierarchy()};e.ValueHelpProcessingSequence.prototype.m_customHierarchySubmitAction=null;e.ValueHelpProcessingSequence.prototype.m_dimension=null;e.ValueHelpProcessingSequence.prototype.m_exportValueHelp=null;e.ValueHelpProcessingSequence.prototype.m_requiresCustomHierarchySubmit=false;e.ValueHelpProcessingSequence.prototype.m_requiresVariableSubmit=false;e.ValueHelpProcessingSequence.prototype.m_resultSetContainer=null;e.ValueHelpProcessingSequence.prototype.getDimensionStructureFromMainRequest=function(t){let n=this.getMainAction().getRequest();let r=e.PrUtils.getStructureProperty(n,"Analytics");let i=e.PrUtils.getStructureProperty(r,"Definition");let a=e.PrUtils.getListProperty(i,"Dimensions");for(let n=0;n<e.PrUtils.getListSize(a,0);n++){let n=a.getStructureAt(0);if(e.XString.isEqual(n.getStringByKey("Name"),t.getName())){return n}}return null};e.ValueHelpProcessingSequence.prototype.onActionExecuted=function(t){if(e.notNull(this.m_exportValueHelp)&&t===this.m_customHierarchySubmitAction){let t=this.m_customHierarchySubmitAction.getData();if(e.notNull(t)){let n=t.getDimension();let r=e.notNull(n)?this.getDimensionStructureFromMainRequest(n):null;if(e.notNull(r)){this.m_exportValueHelp.exportHierarchy(n,r)}}}};e.ValueHelpProcessingSequence.prototype.processSynchronization=function(t){let n=this.getActionContext();if(this.m_requiresCustomHierarchySubmit&&e.ValueHelpProcessingSequence.supportsCustomHierarchies(n.getQueryModel())){let t=n.createCustomHierarchyProvider(e.ValueHelpProcessingSequence.getCustomHierarchyDefinition(this.m_dimension),false);this.m_customHierarchySubmitAction=t.processExecution(e.SyncType.DELAYED,null,null);this.addAction(this.m_customHierarchySubmitAction)}if(this.m_requiresVariableSubmit){let t=n.submitVariables(e.SyncType.DELAYED,null,null);if(e.notNull(t)){this.addAction(t)}}let r=this.m_resultSetContainer.processExecution(e.SyncType.DELAYED,null,null);this.setMainAction(r);return e.SyncActionSequence.prototype.processSynchronization.call(this,t)};e.ValueHelpProcessingSequence.prototype.releaseObjectInternal=function(){e.SyncActionSequence.prototype.releaseObjectInternal.call(this);this.m_customHierarchySubmitAction=null;this.m_exportValueHelp=null;this.m_resultSetContainer=null;this.m_dimension=null};e.QOlapSyncAction=function(){};e.QOlapSyncAction.prototype=new e.DfRsSyncAction;e.QOlapSyncAction.prototype._ff_c="QOlapSyncAction";e.QOlapSyncAction.prototype.getQueryManagerBase=function(){if(this.getContext()===null){return null}return this.getContext().getQueryManager()};e.QOlapSyncAction.prototype.getQueryModelBase=function(){let t=this.getContext();if(e.isNull(t)){return null}return t.getQueryModel()};e.QOlapSyncAction.prototype.releaseObjectInternal=function(){};e.BlendingProcess=function(){};e.BlendingProcess.prototype=new e.DfRsSyncAction;e.BlendingProcess.prototype._ff_c="BlendingProcess";e.BlendingProcess.ATTRIBUTE_FIELDS="attributeFields";e.BlendingProcess.DUMMY_CALCULATION="DummyCalculation";e.BlendingProcess.FIELDS="attributes";e.BlendingProcess.HIERARCHICAL_DIMENSIONS="hierarchicalDimensions";e.BlendingProcess.PRIMARY_MEASURE_FILTER="primaryMeasureFilter";e.BlendingProcess.SECONDARY_MEASURE_FILTER="secondaryMeasureFilter";e.BlendingProcess.create=function(t,n,r,i,a){let o=new e.BlendingProcess;o.setupAction(null,null,null,t.getQueryManager());o.m_blendableQueryManager=t;o.m_configs=e.XList.create();o.m_configs.addAll(n);o.m_primaryBlendedMeasures=e.XList.create();o.m_outOfContextLinkDimensionNames=e.XList.create();o.m_blendedDimensionInfoAxisMap=e.XHashMapByString.create();let l=e.XList.create();e.XCollectionUtils.addAllClones(l,t.getBlendedDimensionsByAxis(e.AxisType.ROWS));o.m_blendedDimensionInfoAxisMap.put(e.AxisType.ROWS.getName(),l);let s=e.XList.create();e.XCollectionUtils.addAllClones(s,t.getBlendedDimensionsByAxis(e.AxisType.COLUMNS));o.m_blendedDimensionInfoAxisMap.put(e.AxisType.COLUMNS.getName(),s);o.m_allBlendedDrillOperations=e.XList.create();e.XCollectionUtils.addAllClones(o.m_allBlendedDrillOperations,t.getBlendedDrillOperations());e.XCollectionUtils.addAllClones(o.m_allBlendedDrillOperations,t.getBlendedZoomDrills());o.m_leafAccountDrillOperations=e.XList.create();o.m_transientMembers=e.XHashMapByString.create();o.m_transientPrimaryBlendedMeasures=e.XList.create();o.m_transientFieldSelectionMemberNames=e.XList.create();o.m_leafSortingOperations=e.XHashMapByString.create();o.m_originalProcess=o;o.m_originalDimensionResultSetFields=e.XHashMapByString.create();o.m_originalDimensionResultSetAttributes=e.XHashMapByString.create();o.m_lastState=e.notNull(i)&&!i.isReleased()?i:e.XHashMapByString.create();o.m_isExportWorkflow=a;o.m_automappingTimeLinkDimensionNames=e.XList.create();if(!e.BlendingUtils.containsFilterAcrossModels(t)){o.m_cachedRuntimeBlendedQueryManagerResult=r}t.clearTransientMeasures();o.cleanupTransientState();o.clearLeafSortingOperations();o.preprocessBlendedCalculations();o.preprocessThresholds();o.processDrillLimitation();e.XCollectionUtils.forEach(o.m_transientMembers.getValuesAsReadOnlyList(),n=>{e.XCollectionUtils.forEach(n,e=>{t.addTransientMeasure(e)})});return o};e.BlendingProcess.moveOOCLinkedDimensionsToFreeAxis=function(e,t){let n=t.getIterator();while(n.hasNext()){let t=e.getDimensionByName(n.next());e.getFreeAxis().add(t)}};e.BlendingProcess.prototype.m_allBlendedDrillOperations=null;e.BlendingProcess.prototype.m_automappingTimeLinkDimensionNames=null;e.BlendingProcess.prototype.m_blendableQueryManager=null;e.BlendingProcess.prototype.m_blendedDimensionInfoAxisMap=null;e.BlendingProcess.prototype.m_blendedQueryManager=null;e.BlendingProcess.prototype.m_cachedRuntimeBlendedQueryManagerResult=null;e.BlendingProcess.prototype.m_childProcess=null;e.BlendingProcess.prototype.m_configs=null;e.BlendingProcess.prototype.m_enableInaCacheHint=false;e.BlendingProcess.prototype.m_isExportWorkflow=false;e.BlendingProcess.prototype.m_lastState=null;e.BlendingProcess.prototype.m_leafAccountDrillOperations=null;e.BlendingProcess.prototype.m_leafSortingOperations=null;e.BlendingProcess.prototype.m_originalDimensionResultSetAttributes=null;e.BlendingProcess.prototype.m_originalDimensionResultSetFields=null;e.BlendingProcess.prototype.m_originalProcess=null;e.BlendingProcess.prototype.m_outOfContextLinkDimensionNames=null;e.BlendingProcess.prototype.m_primaryBlendedMeasures=null;e.BlendingProcess.prototype.m_queryManagerCreationSyncAction=null;e.BlendingProcess.prototype.m_transientFieldSelectionMemberNames=null;e.BlendingProcess.prototype.m_transientMembers=null;e.BlendingProcess.prototype.m_transientPrimaryBlendedMeasures=null;e.BlendingProcess.prototype.addAutoMappingTimeLinkDimensionNames=function(e){this.m_automappingTimeLinkDimensionNames.add(e)};e.BlendingProcess.prototype.addDummyCalculationMeasure=function(t){if(t.getInitSettings().getMode()!==e.QueryManagerMode.DEFAULT){return}let n=t.getQueryModel();let r=n.getPrimaryCalculationDimension();let i=r.getName();let a=n.getFilter().getDynamicFilter().getFilterRootElement();let o=e.XHashSetOfString.create();o.addAll(e.QFilterUtil.getMemberNamesFromFilter(a,i));if(o.isEmpty()){let t=n.getFilter().getLinkedFilters().getValuesAsReadOnlyList();for(let n=0;n<t.size();n++){let r=t.get(n).getFilterRootElement();if(e.QFilterUtilBase.filterContainsExclusion(r,i)){return}o.addAll(e.QFilterUtil.getMemberNamesFromFilter(r,i))}}if(o.isEmpty()||o.size()===1&&e.XString.isEqual(o.getValuesAsReadOnlyList().get(0),"(MDS-all)")){let i=e.QFactory.createFormulaMeasure(n,r,e.BlendingProcess.DUMMY_CALCULATION,null,e.BlendingProcess.DUMMY_CALCULATION);i.setFormula(e.QFactory.createFormulaConstantWithIntValue(t,1));i.getTagging().put(e.QTransientConstants.TAG_TRANSIENT_BLENDING_DEPENDENCY,"");let a=this.m_transientMembers.getByKey(n.getDatasetId());if(e.isNull(a)){a=e.XListOfNameObject.create();this.m_transientMembers.put(n.getDatasetId(),a)}a.add(i);r.addMeasure(i);let o=n.getConvenienceCommands().addSingleMemberFilterByDimension(r,i.getAliasOrMemberName(),e.ComparisonOperator.EQUAL);o.getTagging().put(e.QTransientConstants.TAG_IS_TRANSIENT,"")}};e.BlendingProcess.prototype.addLeafSortingOperations=function(t){let n=this.m_leafSortingOperations.getByKey(t.getDatasetId());if(e.notNull(n)){for(let e=n.size()-1;e>=0;e--){let r=n.get(e);t.getSortingManager().addSortOperation(r);n.removeElement(r)}this.m_leafSortingOperations.remove(t.getDatasetId())}if(t.getTagging().containsKey(e.QTransientConstants.TAG_DISABLE_AUTO_ADD_BW_SERVER_SORTS)){t.setAutoAddBWServerSortsEnabled(true);t.getTagging().remove(e.QTransientConstants.TAG_DISABLE_AUTO_ADD_BW_SERVER_SORTS)}};e.BlendingProcess.prototype.addNewState=function(t,n,r){if(e.notNull(n)&&e.notNull(t)){let i=e.XHashSetOfString.create();let a=e.QFilterUtil.getLinkedFiltersOrDynamicFiltersForDimension(n,true,true,true);e.XCollectionUtils.forEach(a,t=>{i.addAll(e.QFilterUtil.getMemberNamesFromFilter(t,n.getName()))});t.put(r,i)}};e.BlendingProcess.prototype.addOriginalDimensionResultSetAttributes=function(e,t){this.m_originalDimensionResultSetAttributes.put(e,t)};e.BlendingProcess.prototype.addOriginalDimensionResultSetFields=function(e,t){this.m_originalDimensionResultSetFields.put(e,t)};e.BlendingProcess.prototype.addOutOfContextLinkDimensionName=function(e){this.m_outOfContextLinkDimensionNames.add(e)};e.BlendingProcess.prototype.addStructureMemberToLeafQueryModel=function(t,n){let r=this.m_blendableQueryManager.getQueryManagerByDatasetId(t.getQueryModel().getDatasetId());if(e.notNull(r)){let i=r.getQueryModel();let a=i.getPrimaryCalculationDimension();let o=t.getAliasOrMemberName();if(a.getStructureMemberByAliasOrMember(o)===null){a.addMeasure(t);if(n){a.getTagging().put(e.QTransientConstants.createIsTransientMemberTag(o),"")}let r=e.QFilterUtil.getLinkedFiltersOrDynamicFiltersForDimension(a,true,true,true);let l=e.XCollectionUtils.contains(r,t=>e.XCollectionUtils.contains(t,t=>e.XString.isEqual(t.getLow().getString(),o)));if(!l){let t=e.QFilterUtil.getLinkedFilterOrDynamicFilterForDimension(a);if(e.notNull(t)){let r=t.addNewCartesianElement();r.setLowString(o);if(n){r.getTagging().put(e.QTransientConstants.TAG_IS_TRANSIENT,"")}}}e.BlendingMappingUtils.addTransientZoomOrVisibilityFilters(i,a,o,this.m_blendableQueryManager.supportsDrillOnBlendNodeOnly(),n)}}};e.BlendingProcess.prototype.addStructureMemberToTransientMembers=function(t){let n=t.getQueryModel().getDatasetId();let r=this.m_transientMembers.getByKey(n);if(e.isNull(r)){r=e.XListOfNameObject.create();this.m_transientMembers.put(n,r)}r.add(t);this.m_transientFieldSelectionMemberNames.add(t.getAliasOrMemberName())};e.BlendingProcess.prototype.addTransientChildMembersRecursively=function(t,n,r,i,a,o){let l=r.getByKey(t.getName());if(e.isNull(l)){return}let s=l.getIterator();while(s.hasNext()){let l=s.next();let u=i.getStructureMemberByAliasOrMember(l);if(!(e.XCollectionUtils.contains(a,t=>e.notNull(t)&&!t.isEmpty())&&u.isMeasureInUse(i,o)&&i.getAllStructureMembers().contains(t))){n.add(u);this.addTransientChildMembersRecursively(u,n,r,i,a,o)}}};e.BlendingProcess.prototype.applyBlendedMeasures=function(t,n){if(e.notNull(this.m_blendedQueryManager)&&e.notNull(t)){let r=this.m_blendedQueryManager.getQueryModel();let i=r.getPrimaryCalculationDimension();let a=t.getIterator();while(a.hasNext()){let t=a.next();if(t.getMemberType()===e.MemberType.FORMULA){let a=t;if(i.getStructureMember(t.getName())!==null){i.removeMeasure(t.getName())}let o=e.QFactory.createFormulaMeasure(r,i,t.getName(),t.getText(),null);o.setFormula(e.BlendingUtils.convertToBlendedFormula(a.getFormula(),o));if(t.getNumericScale()!==null){o.setNumericScale(t.getNumericScale().getInteger())}if(n){o.setResultVisibility(e.ResultVisibility.HIDDEN)}i.addMeasure(o)}}}};e.BlendingProcess.prototype.applyBlendingZeroSuppressionOnAxis=function(t){let n=this.m_blendedQueryManager.getQueryModel();let r=n.getModelCapabilities().supportsNullZeroSuppression();let i=n.getModelCapabilities().supportsZeroSuppression();if(r||i){let r=n.getAxis(t);if(e.notNull(r)){let n=this.m_blendableQueryManager.getBlendingZeroSuppressionType(t);if(e.notNull(n)){r.setZeroSuppressionType(n)}else{r.setZeroSuppressionType(e.ZeroSuppressionType.NONE)}}}};e.BlendingProcess.prototype.applyDimensionSorts=function(t){let n=this.m_blendedQueryManager.getQueryModel();let r=n.getSortingManager();let i=this.m_blendableQueryManager.supportsConcurrentDimensionAndMeasureSorting();let a=t.getIterator();while(a.hasNext()){let t=a.next();if(!i||e.BlendingUtils.getBlendedDimensionFromLeafDimension(t.getDimensionId(),t.getDatasetId(),n)!==null){e.BlendingSortUtils.addSortByDimension(this.m_blendableQueryManager,n,r,t)}}};e.BlendingProcess.prototype.applyMeasureRenames=function(){let t=this.m_blendedQueryManager.getQueryModel();let n=t.getPrimaryCalculationDimension();let r=n.getLoadedStructureMembers();let i=r.getIterator();while(i.hasNext()){let n=i.next();if(e.notNull(n)&&!n.isReleased()){let r=n.getName();let i=e.BlendingUtils.getMatchingLeafMemberFromBlendedMember(t,r,true);if(e.notNull(i)&&i.hasOverrideTextDefined()){let e=i.getText();n.setOverrideText(e)}}}};e.BlendingProcess.prototype.applyMeasureSort=function(t){let n=this.m_blendableQueryManager;let r=this.m_blendedQueryManager.getQueryModel();let i=null;if(t.getPrimaryMeasureName()!==null){let n;if(!t.isPrimaryMeasureBlended()&&t.getPrimaryDatasetId()!==null){n=e.BlendingUtils.getBlendedMeasureMemberFromLeafMeasureMember(t.getPrimaryMeasureName(),true,t.getPrimaryDatasetId(),this.m_blendableQueryManager,r)}else{n=r.getPrimaryCalculationDimension().getStructureMember(t.getPrimaryMeasureName())}if(e.notNull(n)){i=n.getName()}}let a=null;if(t.getSecondaryMeasureName()!==null){let n;if(!t.isSecondaryMeasureBlended()&&t.getSecondaryDatasetId()!==null){n=e.BlendingUtils.getBlendedMeasureMemberFromLeafMeasureMember(t.getSecondaryMeasureName(),false,t.getSecondaryDatasetId(),this.m_blendableQueryManager,r)}else{n=r.getSecondaryCalculationDimension().getStructureMember(t.getSecondaryMeasureName())}if(e.notNull(n)){a=n.getName()}}if(e.isNull(a)&&!n.isAccountSecondaryMeasureDimensionOnNoneAxis()){a=e.QFilterUtil.getFirstMemberNameFromSecondaryCalculationDimensionDynamicFilter(r)}let o=t.getRelatedElementsList();let l=e.XList.create();if(o.size()>0){for(let t=0;t<o.size();t++){let n=o.get(t);let i=n.getDatasetId();let a=n.getDimensionId();let s=n.getMemberId();let u=e.BlendingUtils.getBlendedDimensionFromLeafDimension(a,i,r);if(e.notNull(u)){l.add(e.QFactory.createDimensionElement(u.getKeyField(),u.getHierarchyName(),s))}}}let s=t.getSecondaryVersionDimensionMembers();if(s.size()>0){let o=e.XList.create();let u=n.getPrimaryQueryManager().getQueryModel().getVersionDimension();if(e.notNull(u)){let n=e.QFactory.createDimensionElement(u.getKeyField(),"",t.getVersionElementId());o.add(n)}let p=this.m_blendableQueryManager.getSecondaryQueryManagers();for(let t=0;t<p.size();t++){let n=p.get(t).getQueryModel();let r=n.getVersionDimension();if(e.notNull(r)){let t=e.QFactory.createDimensionElement(r.getKeyField(),"",s.getByKey(n.getDatasetId()));o.add(t)}}if(l.size()>0){o.addAll(l)}e.QSortUtils.addSortByMeasureEx(r,i,a,t.getSortDirection(),!t.isPreserveGrouping(),null,null,o)}else{let n=null;if(t.getVersionDimension()!==null){n=e.BlendingUtils.getBlendedDimensionFromLeafDimension(t.getVersionDimension().getName(),t.getVersionDimension().getQueryModel().getDatasetId(),r)}if(l.size()>0){e.QSortUtils.addSortByMeasureEx(r,i,a,t.getSortDirection(),!t.isPreserveGrouping(),t.getVersionElementId(),n,l)}else{e.QSortUtils.addSortByMeasure(r,i,a,t.getSortDirection(),!t.isPreserveGrouping(),t.getVersionElementId(),n)}}};e.BlendingProcess.prototype.applyRanks=function(){let t=this.m_blendedQueryManager.getQueryModel();let n=this.m_blendableQueryManager.getRankSettings().getIterator();let r=e.XList.create();while(n.hasNext()){let i=n.next();let a=e.QFactory.createRankSettings();a.copyFrom(i,null);if(!a.isBlendedPrimaryMeasure()){let n=t.getPrimaryCalculationDimension().getStructureMember(a.getMeasure());if(e.isNull(n)){n=e.BlendingUtils.getBlendedMeasureMemberFromLeafMeasureMember(a.getMeasure(),true,a.getPrimaryMeasureDatasetId(),this.m_blendableQueryManager,t);if(e.isNull(n)){let r=this.getOlapEnv().getClientQueryObjectManager().getStructuredMember(a.getMeasure(),this.m_blendableQueryManager.getClientQueryObjectStorageName(),true);if(e.notNull(r)){n=e.BlendingUtils.getBlendedMeasureMemberFromLeafMeasureMember(a.getMeasure(),true,r.getQueryModel().getDatasetId(),this.m_blendableQueryManager,t)}}}if(e.notNull(n)){a.setMeasure(n.getName())}}if(!a.isBlendedSecondaryMeasure()){if(a.getSecondaryMeasure()===null&&!this.m_blendableQueryManager.isAccountSecondaryMeasureDimensionOnNoneAxis()){let n=e.QFilterUtil.getFirstMemberNameFromSecondaryCalculationDimensionDynamicFilter(t);a.setSecondaryMeasure(n)}else if(a.getSecondaryMeasure()!==null){let n=t.getSecondaryCalculationDimension().getStructureMember(a.getSecondaryMeasure());if(e.isNull(n)){n=e.BlendingUtils.getBlendedMeasureMemberFromLeafMeasureMember(a.getSecondaryMeasure(),false,a.getSecondaryMeasureDatasetId(),this.m_blendableQueryManager,t)}a.setSecondaryMeasure(n.getName())}}a.clearAppliedDimensions();let o=i.getAppliedDimensions().getIterator();while(o.hasNext()){let n=o.next();let r=e.BlendingUtils.getBlendedDimensionFromLeafDimension(n.getName(),n.getQueryModel().getDatasetId(),t);if(e.notNull(r)){a.addAppliedDimension(r)}}let l;if(i.getVersionDimension()!==null){l=e.BlendingUtils.getBlendedDimensionFromLeafDimension(i.getVersionDimension().getName(),i.getVersionDimension().getQueryModel().getDatasetId(),t);a.setVersionDimension(l)}if(a.useDefaultSort()&&a.useRankConditions()&&(this.m_blendableQueryManager.getBlendableMeasureMemberSort()!==null||this.m_blendableQueryManager.getBlendableDimensionSorts().size()>0||this.m_blendableQueryManager.isDefaultOrder())){a.setUseDefaultSort(false)}r.add(a)}if(r.size()>0){this.m_blendedQueryManager.getConvenienceCommands().applyRankingsWithoutReset(r)}};e.BlendingProcess.prototype.applySorts=function(){let t=this.m_blendableQueryManager.getBlendableDimensionSorts();let n=this.m_blendableQueryManager.getBlendableMeasureMemberSort();if(this.m_blendableQueryManager.supportsConcurrentDimensionAndMeasureSorting()){if(t.size()>0){this.applyDimensionSorts(t)}if(e.notNull(n)){this.applyMeasureSort(n)}}else{if(t.size()>0){this.applyDimensionSorts(t)}else if(e.notNull(n)){this.applyMeasureSort(n)}}};e.BlendingProcess.prototype.callListener=function(e,t,n,r){t.onQueryManagerCreated(e,n,r)};e.BlendingProcess.prototype.cancelSynchronization=function(){this.cleanupTransientState();e.DfRsSyncAction.prototype.cancelSynchronization.call(this)};e.BlendingProcess.prototype.cleanUpHideTextField=function(t){let n=t.getLoadedDimensions().getIterator();while(n.hasNext()){let t=n.next();let r=t.getTextField();if(e.notNull(r)&&r.getTagging().containsKey(e.QTransientConstants.HIDE_TEXT_FIELD)){r.getTagging().remove(e.QTransientConstants.HIDE_TEXT_FIELD)}}};e.BlendingProcess.prototype.cleanUpTransientDrills=function(t){let n=t.getAccountDimension();let r=this.m_transientMembers.getByKey(t.getDatasetId());if(e.notNull(n)&&e.notNull(r)&&r.size()>0){let e=n.getDrillManager();let t=e.getAllZoomDrillOperationsForDimension(n);this.removeTransientDrillPaths(e,t);let r=e.getDrillOperationsByDimension(n);e.removeDrillOperationsByDimension(n);this.removeTransientDrillPaths(e,r)}};e.BlendingProcess.prototype.cleanUpTransientMeasureFilters=function(t){if(e.notNull(t)){let n=e.QFilterUtil.getLinkedFiltersOrDynamicFiltersForDimension(t,true,true,true);e.XCollectionUtils.forEach(n,t=>{if(e.notNull(t)){for(let n=t.size()-1;n>=0;n--){let r=t.get(n);if(r.getTagging().containsKey(e.QTransientConstants.TAG_TRANSIENT_DEPTH_AND_LEVEL_OFFSET)){r.resetDepth();r.resetLevelOffset()}if(r.getTagging().containsKey(e.QTransientConstants.TAG_IS_TRANSIENT)){t.removeElement(r)}}let n=t.getTagging().getByKey(e.QTransientConstants.TAG_TRANSIENT_REMOVED_BLENDED_CALCULATION_FILTERS);if(e.XStringUtils.isNotNullAndNotEmpty(n)){let r=e.JsonParserFactory.createFromSafeString(n).asList();for(let e=r.size()-1;e>=0;e--){let n=r.getStringAt(e);let i=t.addNewCartesianElement();i.setLowString(n)}t.getTagging().remove(e.QTransientConstants.TAG_TRANSIENT_REMOVED_BLENDED_CALCULATION_FILTERS)}}});let r=t.getQueryModel().getFilter().getVisibilityFilter();if(e.notNull(r)&&r.getFilterRootElement()!==null){if(r.getFilterRootElement().getTagging().containsKey(e.QTransientConstants.TAG_IS_TRANSIENT)){r.setComplexRoot(null)}else{let n=r.getCartesianList(t);if(e.notNull(n)){if(n.getTagging().containsKey(e.QTransientConstants.TAG_IS_TRANSIENT)){let t=n.getParent();if(e.notNull(t)&&t.getOlapComponentType().isTypeOf(e.FilterComponentType.BOOLEAN_ALGEBRA)){t.removeElement(n)}}else{for(let t=n.size()-1;t>=0;t--){let r=n.get(t);if(r.getTagging().containsKey(e.QTransientConstants.TAG_IS_TRANSIENT)){n.removeElement(r)}}}}}}}};e.BlendingProcess.prototype.cleanUpUniversalDisplayHierarchyTransientState=function(t){if(t.getConvenienceCommands().isTypeOfBw()){let n=t.getQueryModel().getUniversalDisplayHierarchies();if(e.notNull(n)){let t=n.getHierarchies().getIterator();while(t.hasNext()){let n=t.next();if(n.getTagging().containsKey(e.QTransientConstants.TAG_DEACTIVATE_UNIVERSAL_DISPLAY_HIERARCHY)){n.setActive(true);n.getTagging().remove(e.QTransientConstants.TAG_DEACTIVATE_UNIVERSAL_DISPLAY_HIERARCHY)}}}if(t.getTagging().containsKey(e.QTransientConstants.TAG_DISABLE_HIERARCHY_TO_UDH_CONVERSION)){t.enableHierarchyToUDHConversion(true);t.getTagging().remove(e.QTransientConstants.TAG_DISABLE_HIERARCHY_TO_UDH_CONVERSION)}}};e.BlendingProcess.prototype.cleanupBlendedQueryManager=function(t){let n=t.getQueryModel();let r=n.getPrimaryCalculationDimension();let i=r.getAllStructureMembers();if(e.XCollectionUtils.contains(i,t=>e.notNull(t)&&!t.isReleased()&&t.getMemberType().isCustomMember())){r.removeCustomMembers()}n.getFormulaExceptionManager().clear();n.getDrillManager().removeDrillOperationsByAxisType(e.AxisType.ROWS);n.getDrillManager().removeDrillOperationsByAxisType(e.AxisType.COLUMNS);n.getDrillManager().removeAllZoomDrillOperations();n.getSortingManager().getSortingOperations().clear();n.getConvenienceCommands().clearRank(null);let a=n.getModelCapabilities().supportsNullZeroSuppression();let o=n.getModelCapabilities().supportsZeroSuppression();if(a||o){n.getAxis(e.AxisType.ROWS).setZeroSuppressionType(e.ZeroSuppressionType.NONE);n.getAxis(e.AxisType.COLUMNS).setZeroSuppressionType(e.ZeroSuppressionType.NONE)}};e.BlendingProcess.prototype.cleanupTransientState=function(){if(e.notNull(this.m_blendedQueryManager)){this.m_blendedQueryManager.stopEventing()}e.XCollectionUtils.forEach(this.m_blendableQueryManager.getAllQueryManagers(),t=>{t.stopEventing();let n=t.getQueryModel();let r=e.XList.create();r.addAll(n.getColumnsAxis());r.addAll(n.getRowsAxis());let i=r.getIterator();while(i.hasNext()){let t=i.next();let r=e.QCacheKey.createByContextForDimension(n,t.getName(),null);let a=this.m_originalDimensionResultSetFields.getByKey(e.XStringUtils.concatenate3(n.getDatasetId(),"_",r.getKey1()));if(e.notNull(a)){t.getResultSetFields().clear();let n=a.getIterator();while(n.hasNext()){let e=n.next();t.getResultSetFields().add(t.getFieldByName(e))}let r=t.getFields().getIterator();while(r.hasNext()){let t=r.next();if(t.getTagging().containsKey(e.QTransientConstants.HIDE_TEXT_FIELD)){t.getTagging().remove(e.QTransientConstants.HIDE_TEXT_FIELD)}if(t.getTagging().containsKey(e.QTransientConstants.TAG_TRANSIENT_ALWAYS_REQUESTED)){t.setAlwaysRequested(e.XBoolean.convertFromString(t.getTagging().getByKey(e.QTransientConstants.TAG_TRANSIENT_ALWAYS_REQUESTED)));t.getTagging().remove(e.QTransientConstants.TAG_TRANSIENT_ALWAYS_REQUESTED)}}}if(t.getFieldLayoutType()===e.FieldLayoutType.ATTRIBUTE_BASED&&t.getQueryManager().getConvenienceCommands().isTypeOfBw()){let i=this.m_originalDimensionResultSetAttributes.getByKey(e.XStringUtils.concatenate3(n.getDatasetId(),"_",r.getKey1()));if(!e.isNull(i)){t.getResultSetAttributes().clear();let e=i.getIterator();while(e.hasNext()){let n=e.next();let r=n.getIterator();while(r.hasNext()){let e=r.next();let n=t.getFieldByName(e);n.getAttribute().getResultSetFields().clear();t.getResultSetAttributes().add(n.getAttribute());n.getAttribute().getResultSetFields().add(n)}}}}let o=t.getTagging();if(o.containsKey(e.QTransientConstants.TAG_TRANSIENT_ROWS_AXIS)){this.m_blendableQueryManager.removeBlendedDimensionInfoExt(n.getDatasetId(),t.getName());n.getFreeAxis().add(t);o.remove(e.QTransientConstants.TAG_TRANSIENT_ROWS_AXIS)}if(o.containsKey("originalHierarchy")){let n=o.getByKey("originalHierarchy");if(e.notNull(n)){t.activateHierarchy(n,null,null)}else{t.setHierarchyActive(false);t.setHierarchy(null)}o.remove("originalHierarchy")}if(o.containsKey("transientInitialDrillLevel")){let n=o.getByKey("transientInitialDrillLevel");if(e.notNull(n)){t.setInitialDrillLevel(e.XInteger.convertFromString(n))}o.remove("transientInitialDrillLevel")}if(o.containsKey(e.QTransientConstants.BW_HIERARCHY_DIMENSION)){o.remove(e.QTransientConstants.BW_HIERARCHY_DIMENSION)}if(o.containsKey(e.QTransientConstants.TAG_ENFORCE_HIERARCHY_NAME_VARIABLE_DISABLED)){t.setEnforceHierarchyNameVariable(true);o.remove(e.QTransientConstants.TAG_ENFORCE_HIERARCHY_NAME_VARIABLE_DISABLED)}if(o.containsKey(e.QTransientConstants.TAG_USE_HIEARCHY_NAME_VARIABLE_DISABLED)){t.getHierarchyManagerBase().setUseHierarchyNameVariable(true);o.remove(e.QTransientConstants.TAG_USE_HIEARCHY_NAME_VARIABLE_DISABLED)}if(o.containsKey(e.QTransientConstants.TAG_REPLACE_QUERY_TEXT_WITH_DEFAULT_TEXT)){o.remove(e.QTransientConstants.TAG_REPLACE_QUERY_TEXT_WITH_DEFAULT_TEXT)}if(o.containsKey(e.QTransientConstants.SECONDARY_MEASURE_DIMENSION_ON_COLUMN)){n.getFreeAxis().add(t);o.remove(e.QTransientConstants.SECONDARY_MEASURE_DIMENSION_ON_COLUMN)}if(o.containsKey(e.QTransientConstants.TAG_TRANSIENT_TOTAL_VISIBILITY_HIDDEN)){t.setResultVisibilityByElement(e.ResultStructureElement.TOTAL,e.ResultVisibility.VISIBLE);o.remove(e.QTransientConstants.TAG_TRANSIENT_TOTAL_VISIBILITY_HIDDEN)}}let a=this.m_transientMembers.getByKey(n.getDatasetId());if(e.notNull(a)){let t=a.getIterator();while(t.hasNext()){let r=t.next();let i;if(e.notNull(this.m_blendedQueryManager)){i=e.BlendingUtils.getMatchingBlendedMemberFromLeafMember(this.m_blendedQueryManager.getQueryModel(),r);if(e.notNull(i)&&i.getResultVisibility()===e.ResultVisibility.HIDDEN){i.setResultVisibility(e.ResultVisibility.VISIBLE)}}i=this.getOlapEnv().getClientQueryObjectManager().getStructuredMember(r.getAliasOrMemberName(),this.m_blendableQueryManager.getClientQueryObjectStorageName(),true);if(e.notNull(i)||e.XString.isEqual(r.getAliasOrMemberName(),e.BlendingProcess.DUMMY_CALCULATION)){let e=n.getDimensionByName(r.getDimension().getName());e.removeMeasure(r.getAliasOrMemberName())}}}this.cleanUpTransientMeasureFilters(n.getPrimaryCalculationDimension());this.cleanUpTransientMeasureFilters(n.getSecondaryCalculationDimension());this.cleanUpTransientDrills(n);if(t.getTagging().containsKey("originalMaxRows")){let n=e.XInteger.convertFromString(t.getTagging().getByKey("originalMaxRows"));t.setMaxRows(n);t.getTagging().remove("originalMaxRows")}this.addLeafSortingOperations(n);this.cleanUpUniversalDisplayHierarchyTransientState(t);this.cleanUpHideTextField(n);t.resumeEventing()});if(e.notNull(this.m_blendedQueryManager)){let e=this.m_blendedQueryManager.getQueryModel();e.removeSecondaryMeasureTransientFilterElements(e.getFilter().getDynamicFilter(),true);this.m_blendedQueryManager.resumeEventing()}};e.BlendingProcess.prototype.clearLeafSortingOperations=function(){let t=this.m_blendableQueryManager.getAllQueryManagers();e.XCollectionUtils.forEach(t,t=>{t.stopEventing();let n=t.getQueryModel();if(e.XBooleanValue.getBooleanExt(n.isAutoAddBWServerSortsEnabled(),false)){n.setAutoAddBWServerSortsEnabled(false);n.getTagging().put(e.QTransientConstants.TAG_DISABLE_AUTO_ADD_BW_SERVER_SORTS,"")}let r=e.XListOfNameObject.create();let i=n.getSortingManager().getSortingOperations();for(let e=i.size()-1;e>=0;e--){let t=i.get(e);r.add(t);i.removeElement(t)}this.m_leafSortingOperations.put(n.getDatasetId(),r);t.resumeEventing()})};e.BlendingProcess.prototype.collectLeafQueryAccountDrills=function(t,n,r){let i=t.getQueryModel();let a=i.getAccountDimension();if(e.isNull(a)||e.XCollectionUtils.contains(this.m_allBlendedDrillOperations,t=>e.XString.isEqual(t.getDimensionName(),a.getName())&&e.XString.isEqual(t.getDatasetId(),i.getDatasetId()))){return}if(t.getInitSettings().getMode()===e.QueryManagerMode.DEFAULT){let t=i.getDrillManager();let n=t.getDrillOperationsByDimension(a);for(let t=0;t<n.size();t++){let r=e.BlendedDrillInfo.createBlendedDimensionDrillInfo(null,i.getDatasetId(),a.getName());let o=n.get(t);r.setDrillState(o.getDrillState());let l=o.getDrillPath();e.XCollectionUtils.forEach(l,t=>{r.addBlendedDrillPathElementInfo(i.getDatasetId(),a.getName(),t.getSelectValue());if(t.getTagging().containsKey(e.QTransientConstants.TAG_IS_TRANSIENT)){r.getTagging().put(e.QTransientConstants.TAG_IS_TRANSIENT,"")}});this.m_leafAccountDrillOperations.add(r)}}if(n){e.BlendingMappingUtils.autoExpandHierarchyDimension(a);if(r){let t=e.QFilterUtil.getLinkedFiltersOrDynamicFiltersForDimension(a,true,true,true);e.XCollectionUtils.forEach(t,t=>{if(e.notNull(t)){for(let n=0;n<t.size();n++){let r=t.getCartesianElement(n);if(!r.hasDepth()&&!r.hasLevelOffset()){r.getTagging().put(e.QTransientConstants.TAG_TRANSIENT_DEPTH_AND_LEVEL_OFFSET,"");r.setDepth(0);r.setLevelOffset(0)}}}})}}};e.BlendingProcess.prototype.createSubBlendingProcess=function(e,t){this.m_childProcess=this.createSubProcess(e,t);this.m_childProcess.processBlendingQueryManagerCreation();this.addAllMessages(this.m_childProcess)};e.BlendingProcess.prototype.createSubProcess=function(t,n){let r=new e.BlendingProcess;r.m_blendableQueryManager=this.m_blendableQueryManager;r.m_configs=e.XList.create();r.m_configs.addAll(t);r.m_configs.get(0).setFirstQueryManager(n);r.m_originalProcess=this.m_originalProcess;r.m_originalDimensionResultSetFields=this.m_originalDimensionResultSetFields.createMapByStringCopy();r.m_originalDimensionResultSetAttributes=this.m_originalDimensionResultSetAttributes.createMapByStringCopy();r.m_primaryBlendedMeasures=this.m_primaryBlendedMeasures.createListCopy();r.m_blendedDimensionInfoAxisMap=this.m_blendedDimensionInfoAxisMap.createMapByStringCopy();r.m_allBlendedDrillOperations=this.m_allBlendedDrillOperations.createListCopy();r.m_leafAccountDrillOperations=this.m_leafAccountDrillOperations;r.m_transientMembers=this.m_transientMembers;r.m_transientPrimaryBlendedMeasures=this.m_transientPrimaryBlendedMeasures.createListCopy();r.m_transientFieldSelectionMemberNames=this.m_transientFieldSelectionMemberNames.createListCopy();r.m_leafSortingOperations=this.m_leafSortingOperations;r.m_outOfContextLinkDimensionNames=this.m_outOfContextLinkDimensionNames.createListCopy();r.m_cachedRuntimeBlendedQueryManagerResult=this.m_cachedRuntimeBlendedQueryManagerResult;r.m_isExportWorkflow=this.m_isExportWorkflow;r.m_lastState=this.m_lastState.createMapByStringCopy();r.m_automappingTimeLinkDimensionNames=this.m_automappingTimeLinkDimensionNames.createListCopy();r.setupAction(this.getActiveSyncType(),null,null,this.getActionContext());return r};e.BlendingProcess.prototype.deactivateHierarchyNameVariables=function(t){if(t.getConvenienceCommands().isTypeOfBw()){let n=t.getQueryManager().getDimensionMemberVariables();for(let t=0;t<n.size();t++){let r=n.get(t);if(r.getVariableType()===e.VariableType.HIERARCHY_NAME_VARIABLE){let t=r.getHierarchyNameDimension();if(t.supportsHierarchy()){let n=false;if(t.isEnforceHierarchyNameVariable()){t.setEnforceHierarchyNameVariable(false);if(!t.getTagging().containsKey(e.QTransientConstants.TAG_ENFORCE_HIERARCHY_NAME_VARIABLE_DISABLED)){t.getTagging().put(e.QTransientConstants.TAG_ENFORCE_HIERARCHY_NAME_VARIABLE_DISABLED,"")}n=true}if(t.useHierarchyNameVariable()){t.getHierarchyManagerBase().setUseHierarchyNameVariable(false);if(!t.getTagging().containsKey(e.QTransientConstants.TAG_USE_HIEARCHY_NAME_VARIABLE_DISABLED)){t.getTagging().put(e.QTransientConstants.TAG_USE_HIEARCHY_NAME_VARIABLE_DISABLED,"")}n=true}if(n){let n=r.getValueByString();if(e.isNull(n)){n=""}t.setHierarchyName(n)}}}}}};e.BlendingProcess.prototype.getAllMembersEnabledButNotFsic=function(t){let n=e.XHashSetOfString.create();let r=t.getIterator();while(r.hasNext()){let t=r.next();let i=t.getQueryModel();let a=i.getDatasetId();if(this.m_blendableQueryManager.getAllMembersOrFsicEnabled(a)){let t=e.QFilterUtil.getLinkedFiltersOrDynamicFiltersForDimension(i.getPrimaryCalculationDimension(),false,false,true);if(t.isEmpty()){n.add(a)}}}return n};e.BlendingProcess.prototype.getBlendableQueryManager=function(){return this.m_blendableQueryManager};e.BlendingProcess.prototype.getConvertedMeasure=function(t,n,r){let i=e.isNull(n)?r:n.getAliasOrMemberName();let a=this.m_blendedQueryManager.getQueryModel().getPrimaryCalculationDimension().getStructureMemberByAliasOrMember(i);if(e.isNull(a)){a=e.BlendingUtils.getBlendedMeasureMemberFromLeafMeasureMember(i,true,t.getQueryModel().getDatasetId(),this.m_blendableQueryManager,this.m_blendedQueryManager.getQueryModel())}return a};e.BlendingProcess.prototype.getLastState=function(){return this.m_lastState};e.BlendingProcess.prototype.getOriginalBlendingProcess=function(){return this.m_originalProcess};e.BlendingProcess.prototype.getOriginalDimensionResultSetAttributeFields=function(t){let n=e.QCacheKey.createByContextForDimension(t.getContext(),t.getName(),null);return this.m_originalDimensionResultSetAttributes.getByKey(e.XStringUtils.concatenate3(t.getQueryModel().getDatasetId(),"_",n.getKey1()))};e.BlendingProcess.prototype.getOriginalDimensionResultSetFields=function(t){let n=e.QCacheKey.createByContextForDimension(t.getContext(),t.getName(),null);return this.m_originalDimensionResultSetFields.getByKey(e.XStringUtils.concatenate3(t.getQueryModel().getDatasetId(),"_",n.getKey1()))};e.BlendingProcess.prototype.getUsedQueryManagers=function(){let t=e.XHashMapByString.create();let n=this.m_configs.getIterator();while(n.hasNext()){let e=n.next();let r=e.getPrimaryQueryManager();let i=e.getSecondaryQueryManager();if(t.isEmpty()){t.put(r.getQueryModel().getDatasetId(),r)}t.put(i.getQueryModel().getDatasetId(),i)}return t};e.BlendingProcess.prototype.hideTransientMembers=function(){if(e.notNull(this.m_blendedQueryManager)){let t=this.m_blendedQueryManager.getQueryModel();let n=t.getPrimaryCalculationDimension();let r=this.m_transientMembers.getIterator();while(r.hasNext()){let i=r.next();let a=i.getIterator();while(a.hasNext()){let r=a.next();let i=e.BlendingUtils.getMatchingBlendedMemberFromLeafMember(t,r);if(e.notNull(i)){if(!this.m_transientFieldSelectionMemberNames.contains(r.getAliasOrMemberName())){i.setResultVisibility(e.ResultVisibility.HIDDEN)}if(n.getStructureLayout().getByKey(i.getName())===null){n.getStructureLayout().add(i)}}}}}};e.BlendingProcess.prototype.needsUpdate=function(t,n,r){if(e.isNull(t)){return true}let i=e.QFilterUtil.getLinkedFiltersOrDynamicFiltersForDimension(n,true,true,true);return e.XCollectionUtils.contains(i,i=>{if(e.notNull(i)){let a=e.XHashSetOfString.create();a.addAll(e.QFilterUtil.getMemberNamesFromFilter(i,n.getName()));let o=t.getByKey(r);let l=a.getIterator();while(l.hasNext()){if(!o.contains(l.next())){return true}}}return false})};e.BlendingProcess.prototype.onQueryManagerCreated=function(t,n,r){this.addAllMessages(t);if(t.hasErrors()||this.m_blendableQueryManager.isReleased()){if(e.notNull(n)){e.XObjectExt.release(n)}this.endSync()}else if(e.isNull(this.m_originalProcess)){e.XObjectExt.release(n);this.m_queryManagerCreationSyncAction=e.XObjectExt.release(this.m_queryManagerCreationSyncAction);this.endSync();e.DfRsSyncAction.prototype.releaseObject.call(this)}else{let i=n.getInitSettings().getBlendingDefinition().getSources().getIterator();while(i.hasNext()){let e=i.next().getQueryManager();if(e.getTagging().containsKey("cacheHintDisabled")){e.setCacheHintEnabled(true);e.getTagging().remove("cacheHintDisabled")}}n.setCacheHintEnabled(this.m_enableInaCacheHint);n.getTagging().put(e.QStateConstants.TAG_UNDO_IGNORE,"");let a=this.m_configs.createListCopy();e.BlendingUtils.activateBlendedDimensionHierarchies(n,null,this,a.size()>1);if(!this.m_blendableQueryManager.isPreserveAttributeLayout()){e.BlendingUtils.updateDimensionResultSetFields(n)}let o=n.getQueryModel();a.removeAt(0);if(a.size()>0){this.cleanupBlendedQueryManager(n);this.createSubBlendingProcess(a,n)}else{e.BlendingProcess.moveOOCLinkedDimensionsToFreeAxis(o,this.m_outOfContextLinkDimensionNames);this.m_originalProcess.onRuntimeBlendedQueryManagerCreated(t,n,r)}}};e.BlendingProcess.prototype.onRuntimeBlendedQueryManagerCreated=function(t,n,r){this.addAllMessages(t);if(!t.hasErrors()){let t=n.getQueryModel().getPrimaryCalculationDimension();if(e.notNull(t)){let r=t.getAllStructureMembers();for(let t=0;t<r.size();t++){let i=r.get(t);if(e.notNull(i)){let t=e.BlendingUtils.getMatchingLeafMemberFromBlendedMember(n.getQueryModel(),i.getName(),true);if(e.notNull(t)&&t.getAliasName()!==null){i.setAliasName(t.getAliasName())}}}}let r=n.getQueryModel().getSecondaryCalculationDimension();if(e.notNull(r)&&this.m_blendableQueryManager.isAccountSecondaryMeasureDimensionOnNoneAxis()){n.getQueryModel().getFreeAxis().add(r)}n.getClientInfo().copyFromContext(this.m_blendableQueryManager.getPrimaryQueryManager());n.setClientQueryObjectStorageName(this.m_blendableQueryManager.getClientQueryObjectStorageName());this.m_blendedQueryManager=n;this.m_cachedRuntimeBlendedQueryManagerResult=n;this.setData(n);this.recordState()}this.endSync()};e.BlendingProcess.prototype.postQueryExecution=function(){this.cleanupTransientState()};e.BlendingProcess.prototype.prepareQueryExecution=function(){if(e.notNull(this.m_blendedQueryManager)){this.cleanupBlendedQueryManager(this.m_blendedQueryManager);this.m_blendedQueryManager.setMaxRows(this.m_blendableQueryManager.getActiveResultSetContainer().getMaxRows());this.m_blendedQueryManager.setMaxColumns(this.m_blendableQueryManager.getActiveResultSetContainer().getMaxColumns());this.processBlendedMeasures();this.processThresholds();this.processBlendedDimensionsOnAxis(this.m_blendedQueryManager,e.AxisType.ROWS);this.processBlendedDimensionsOnAxis(this.m_blendedQueryManager,e.AxisType.COLUMNS);let t=this.m_blendedQueryManager.getQueryModel().getDimensionByName("SignedData");if(e.notNull(t)){this.m_blendedQueryManager.getQueryModel().getFreeAxis().add(t)}else if(this.m_blendableQueryManager.isAccountSecondaryMeasureDimensionOnNoneAxis()){e.BlendingMappingUtils.addSignedDataToFilter(this.m_blendedQueryManager.getQueryModel(),true)}e.BlendingUtils.activateBlendedDimensionHierarchies(this.m_blendedQueryManager,this.m_automappingTimeLinkDimensionNames,this,false);this.processBlendedDimensionInitialDrillLevel(this.m_blendedQueryManager,e.AxisType.ROWS);this.processBlendedDimensionInitialDrillLevel(this.m_blendedQueryManager,e.AxisType.COLUMNS);this.processBlendedDrills(this.m_blendedQueryManager,this.m_leafAccountDrillOperations,false);this.processBlendedDrills(this.m_blendedQueryManager,this.m_allBlendedDrillOperations,true);this.applyMeasureRenames();this.applySorts();this.applyRanks();this.applyBlendingZeroSuppressionOnAxis(e.AxisType.ROWS);this.applyBlendingZeroSuppressionOnAxis(e.AxisType.COLUMNS);this.setBlendingMaxDrillLevel(this.m_blendedQueryManager)}};e.BlendingProcess.prototype.preprocessBlendedCalculationDependencies=function(t,n){let r=t.getIterator();let i=this.getUsedQueryManagers();let a;if(this.getSession().hasFeature(e.FeatureToggleOlap.MERGABLE_MEASURE_FILTER)){a=this.getAllMembersEnabledButNotFsic(i)}else{a=e.XHashSetOfString.create()}let o=e.XList.create();while(r.hasNext()){let l=r.next();if(l.getMemberType()===e.MemberType.FORMULA){let r=e.FormulaItemUtils.getFormulaMembers(l.getFormula());let s=r.getIterator();let u=true;let p=e.XHashMapByString.create();while(s.hasNext()){let r=s.next();let g=r.getDimensionContext();let c=e.notNull(g)?g.getQueryModel():r.getQueryModel();if(!i.containsKey(c.getDatasetId())){u=false;break}if(e.XCollectionUtils.contains(t,t=>e.XString.isEqual(t.getName(),r.getMemberName()))){continue}else{let t=this.getOlapEnv().getClientQueryObjectManager().getStructuredMember(r.getMemberName(),this.m_blendableQueryManager.getClientQueryObjectStorageName(),true);if(e.notNull(t)&&t.isMultiDataSourceMember()){o.add(t);this.m_transientPrimaryBlendedMeasures.insert(0,t);continue}}if(e.notNull(g)){let t=g.getQueryModel().getDatasetId();let i=p.getByKey(t);if(e.isNull(i)){i=e.XListOfNameObject.create();p.put(t,i)}let o=this.m_blendableQueryManager.getQueryManagerByDatasetId(t);let l=o.getQueryModel().getDimensionByName(g.getName());let s=null;let u=e.QFilterUtil.getLinkedFiltersOrDynamicFiltersForDimension(l,true,true,true);if(e.notNull(l)){s=l.getStructureMemberByAliasOrMember(r.getMemberName());if(e.isNull(s)){s=this.getOlapEnv().getClientQueryObjectManager().getStructuredMember(r.getMemberName(),this.m_blendableQueryManager.getClientQueryObjectStorageName(),true)}if(e.notNull(s)){if(!s.validate(l,o,true,false)){e.XCollectionUtils.forEach(o.getWarnings(),t=>{if(t.getCode()===e.ErrorCodes.MEASURE_MISSING_DEPENDENT){this.addError(t.getCode(),t.getText())}})}if(e.XCollectionUtils.contains(u,t=>e.notNull(t)&&!t.isEmpty())&&(s.isMeasureInUse(l,n)||this.m_blendableQueryManager.doesChildMemberExist(t,s.getName()))&&l.getAllStructureMembers().contains(s)){s=null}if(this.getSession().hasFeature(e.FeatureToggleOlap.MERGABLE_MEASURE_FILTER)&&this.m_blendableQueryManager.getAllMembersOrFsicEnabled(t)&&a.contains(t)){s=null}}}if(e.notNull(s)&&!i.containsKey(s.getName())){i.add(s);let r=this.m_blendableQueryManager.getExpandedParentsMap(t);if(e.notNull(r)){this.addTransientChildMembersRecursively(s,i,r,l,u,n)}}}else{throw e.XException.createRuntimeException(e.XStringUtils.concatenate3("Blendable formula measure '",l.getAliasOrMemberName(),"' contains formula(s) that is missing dimension context"))}}if(u){let t;if(!n){this.m_primaryBlendedMeasures.add(l)}let r=p.getKeysAsIterator();while(r.hasNext()){let n=r.next();t=p.getByKey(n);let i=this.m_transientMembers.getByKey(n);if(e.isNull(i)){i=e.XListOfNameObject.create();this.m_transientMembers.put(n,i)}for(let e=0;e<t.size();e++){let n=t.get(e).getName();if(!i.containsKey(n)){i.add(t.get(e))}}}}}}if(o.size()>0){this.preprocessBlendedCalculationDependencies(o,true)}};e.BlendingProcess.prototype.preprocessBlendedCalculations=function(){let t=e.XList.create();let n=this.m_blendableQueryManager;t.addAll(n.getPrimaryBlendedMeasures());if(this.getSession().hasFeature(e.FeatureToggleOlap.MERGABLE_MEASURE_FILTER)){let r=n.getAllQueryManagers();e.XCollectionUtils.forEach(r,e=>{e.stopEventing()});e.XCollectionUtils.forEach(r,r=>{let i=r.getQueryModel();let a=i.getPrimaryCalculationDimension();let o=e.QFilterUtil.getLinkedFiltersOrDynamicFiltersForDimension(a,true,true,false);e.XCollectionUtils.addAllIfNotPresent(t,this.preprocessMeasureFilters(o,false,n,i));let l=e.QFilterUtil.getLinkedFiltersOrDynamicFiltersForDimension(a,false,false,true);e.XCollectionUtils.addAllIfNotPresent(t,this.preprocessMeasureFilters(l,true,n,i))});e.XCollectionUtils.forEach(r,e=>{e.resumeEventing()})}this.preprocessBlendedCalculationDependencies(t,false)};e.BlendingProcess.prototype.preprocessMeasureFilters=function(t,n,r,i){let a=e.XList.create();let o=r.getAllQueryManagers();let l=i.getPrimaryCalculationDimension();e.XCollectionUtils.forEach(t,t=>{if(e.notNull(t)){let s=e.PrFactory.createList();for(let u=t.size()-1;u>=0;u--){let p=t.getCartesianElement(u);let g=p.getLow().getString();let c=e.BlendingUtils.getPrimaryStructureMemberByName(l,g,false,false);if(e.notNull(c)&&c.getMemberType()===e.MemberType.FORMULA){if(c.isMultiDataSourceMember()){s.addString(g);t.removeElement(p);e.BlendingMappingUtils.removeZoomOrVisibilityFilters(i,l,g);e.XCollectionUtils.addIfNotPresent(a,c);r.addTransientMeasure(c);if(l.getStructureMemberByAliasOrMember(g)!==null){l.removeMeasure(g)}}else if(!e.XString.isEqual(c.getQueryModel().getDatasetId(),i.getDatasetId())||l.getStructureMemberByAliasOrMember(g)===null){let r=c.getQueryModel().getDatasetId();e.XCollectionUtils.forEach(o,e=>{let t=e.getQueryModel().getPrimaryCalculationDimension();t.removeMeasure(g)});if(!e.XString.isEqual(r,i.getDatasetId())){t.removeElement(p);e.BlendingMappingUtils.removeZoomOrVisibilityFilters(i,l,g);if(n){s.addString(g)}}if(n){this.addStructureMemberToTransientMembers(c)}else{this.addStructureMemberToLeafQueryModel(c,n)}}}else if(e.notNull(c)&&c.getMemberType()===e.MemberType.RESTRICTED_MEASURE&&n){this.addStructureMemberToTransientMembers(c)}}if(s.size()>0){t.getTagging().put(e.QTransientConstants.TAG_TRANSIENT_REMOVED_BLENDED_CALCULATION_FILTERS,s.getStringRepresentation())}}});return a};e.BlendingProcess.prototype.preprocessThresholds=function(){let t=this.m_blendableQueryManager.getFormulaExceptions().getIterator();while(t.hasNext()){let n=t.next();let r=n.getQueryModel().getDatasetId();let i=this.m_blendableQueryManager.getQueryManagerByDatasetId(r);let a=e.isNull(i)?null:n.isPrimaryMeasure()?i.getQueryModel().getPrimaryCalculationDimension():i.getQueryModel().getSecondaryCalculationDimension();let o=e.XList.create();if(n.getMeasure()!==null){o.add(n.getMeasure())}if(n.getBaseMeasure()!==null){o.add(n.getBaseMeasure())}else if(n.getBaseMeasureName()!==null){let t=e.notNull(a)?a.getStructureMemberByAliasOrMember(n.getBaseMeasureName()):null;if(e.isNull(t)){t=this.getOlapEnv().getClientQueryObjectManager().getStructuredMember(n.getBaseMeasureName(),this.m_blendableQueryManager.getClientQueryObjectStorageName(),true)}if(e.notNull(t)){o.add(t)}}if(n.getReferenceMeasure()!==null){o.add(n.getReferenceMeasure())}else if(n.getReferenceMeasureName()!==null){let t=e.notNull(a)?a.getStructureMemberByAliasOrMember(n.getReferenceMeasureName()):null;if(e.isNull(t)){t=this.getOlapEnv().getClientQueryObjectManager().getStructuredMember(n.getReferenceMeasureName(),this.m_blendableQueryManager.getClientQueryObjectStorageName(),true)}if(e.notNull(t)){o.add(t)}}e.XCollectionUtils.forEach(o,t=>{let i=true;if(!t.isMultiDataSourceMember()){let r=t.getQueryModel().getDatasetId();let a=this.m_blendableQueryManager.getQueryManagerByDatasetId(r);let o=e.isNull(a)?null:n.isPrimaryMeasure()?a.getQueryModel().getPrimaryCalculationDimension():a.getQueryModel().getSecondaryCalculationDimension();i=t.isMeasureInUse(o,false)}if(!i){let n=this.m_transientMembers.getByKey(r);if(e.notNull(n)&&n.containsKey(t.getName())){return}this.m_cachedRuntimeBlendedQueryManagerResult=null;if(e.isNull(n)){n=e.XListOfNameObject.create();this.m_transientMembers.put(r,n)}n.add(t)}})}};e.BlendingProcess.prototype.processBlendedDimensionInitialDrillLevel=function(t,n){let r=this.m_blendedDimensionInfoAxisMap.getByKey(n.getName());if(e.notNull(r)){for(let n=0;n<r.size();n++){let i=r.get(n);let a=i.getDimensionName();let o=e.BlendingUtils.getBlendedDimensionFromLeafDimension(a,i.getDatasetId(),t.getQueryModel());if(e.notNull(o)){if(o.supportsHierarchy()&&o.isHierarchyActive()&&i.getInitialDrillLevel()!==null){o.setInitialDrillLevel(i.getInitialDrillLevel().getInteger())}}}}};e.BlendingProcess.prototype.processBlendedDimensionTotalResultVisibility=function(t,n,r,i){let a=e.BlendingUtils.getQueryModelFromDatasetId(t,i);if(e.notNull(a)){let t=a.getDimensionByName(r);if(e.notNull(t)){let r=t.getResultVisibilityByElement(e.ResultStructureElement.TOTAL);let i=n.getResultVisibilityByElement(e.ResultStructureElement.TOTAL);if(i!==r){n.setResultVisibilityByElement(e.ResultStructureElement.TOTAL,r)}}}};e.BlendingProcess.prototype.processBlendedDimensionsOnAxis=function(t,n){let r=this.m_blendedDimensionInfoAxisMap.getByKey(n.getName());if(e.notNull(r)){if(!r.isEmpty()){let i=t.getQueryModel().getAxis(n);i.clear();let a=t.getQueryModel().getSecondaryCalculationDimension();for(let o=0;o<r.size();o++){let l=r.get(o);let s=e.BlendingUtils.getBlendedDimensionFromLeafDimension(l.getDimensionName(),l.getDatasetId(),t.getQueryModel());if(e.isNull(s)){let n=this.m_blendableQueryManager.getQueryModel();let r=n.getPrimaryCalculationDimension();if(n.getConvenienceCommands().isTypeOfBw()&&e.notNull(r)&&e.XString.isEqual(r.getName(),l.getDimensionName())){s=e.BlendingUtils.getBlendedDimensionFromLeafDimension(e.BlendingUtils.CUSTOM_DIMENSION1,l.getDatasetId(),t.getQueryModel())}}if(e.notNull(s)&&!(this.m_blendableQueryManager.isAccountSecondaryMeasureDimensionOnNoneAxis()&&a===s)){i.add(s);i.setResultAlignment(this.m_blendableQueryManager.getQueryModel().getAxis(n).getResultAlignment());this.processBlendedDimensionTotalResultVisibility(t,s,l.getDimensionName(),l.getDatasetId())}}}}};e.BlendingProcess.prototype.processBlendedDrills=function(t,n,r){let i=n.getIterator();while(i.hasNext()){let n=i.next();if(!r&&n.getTagging().containsKey(e.QTransientConstants.TAG_IS_TRANSIENT)){continue}let a=e.BlendingUtils.findContextDimensionFromDrillDimension(t,n.getDimensionName(),n.getDatasetId());if(e.isNull(a)){a=e.BlendingUtils.getBlendedDimensionFromLeafDimension(n.getDimensionName(),n.getDatasetId(),t.getQueryModel())}if(e.notNull(a)){if(!a.isHierarchyActive()){continue}let r=n.getBlendedDrillPathElementInfos().getIterator();let i=e.XList.create();while(r.hasNext()){let n=r.next();let o=e.BlendingUtils.findContextDimensionFromDrillDimension(t,n.getDimensionName(),n.getDatasetId());if(e.isNull(o)){o=e.BlendingUtils.findContextDimensionFromDrillDimension(t,a.getName(),n.getDatasetId())}if(e.notNull(o)){let r=null;if(o===t.getQueryModel().getPrimaryCalculationDimension()){if(o.getStructureMember(n.getDrillMember())!==null){r=n.getDrillMember()}else{let i=e.BlendingUtils.getQueryModelFromDatasetId(t,n.getDatasetId());let a=i.getPrimaryCalculationDimension();if(e.notNull(a)){let i=a.getStructureMember(n.getDrillMember());if(e.notNull(i)){let n=e.BlendingUtils.getMatchingBlendedMemberFromLeafMember(t.getQueryModel(),i);if(e.notNull(n)){r=n.getName()}}}}}else{r=n.getDrillMember()}if(e.notNull(r)){i.add(e.QFactory.createDrillPathElement(t.getQueryModel(),r,o))}}}if(i.size()>0){let e=t.getQueryModel().getDrillManager();if(n.isZoomDrill()){e.addZoomDrillPath(i,n.isHideRoots())}else{e.setDrillState(i,n.getDrillState())}}}}};e.BlendingProcess.prototype.processBlendedMeasures=function(){this.applyBlendedMeasures(this.m_transientPrimaryBlendedMeasures,true);this.applyBlendedMeasures(this.m_primaryBlendedMeasures,false);this.hideTransientMembers()};e.BlendingProcess.prototype.processBlendedQueryManagerCreation=function(e,t,n){this.setActiveSyncType(e);return this.processSyncAction(e,t,n)};e.BlendingProcess.prototype.processBlendingQueryManagerCreation=function(){let t=this.m_configs.get(0);let n=e.QFactory.createBlendingDefinition();let r=t.getQueryModelLinkSettings();let i=t.getPrimaryQueryManager();let a=t.getSecondaryQueryManager();let o=i.getQueryModel();let l=a.getQueryModel();this.deactivateHierarchyNameVariables(o);this.deactivateHierarchyNameVariables(l);o.stopEventing();l.stopEventing();try{let t=e.BlendingUtils.getQueryAliasName(i);let s=n.addNewSource(o,t);if(o.isBlendingModel()){n.setSourceAsBlendingHost(s)}if(!this.m_isExportWorkflow&&!i.getConvenienceCommands().isTypeOfBw()){s.setDelayCubeRequest(true)}let u=e.BlendingUtils.getQueryAliasName(a);let p=n.addNewSource(l,u);e.BlendingMappingUtils.processCalculationDimensionMappings(n,s,p,this.m_allBlendedDrillOperations,this);let g=e.XHashSetOfString.create();e.BlendingMappingUtils.processLinkedDimensions(this.m_configs,n,s,p,this,this.m_allBlendedDrillOperations,g,this.m_blendableQueryManager.supportsDrillOnBlendNodeOnly());let c=e.XHashSetOfString.create();e.BlendingMappingUtils.processUnlinkedDimensions(s,p,n,r,c,g,this.m_allBlendedDrillOperations,this);e.BlendingMappingUtils.processUnlinkedDimensions(p,s,n,r,c,g,this.m_allBlendedDrillOperations,this);if(!o.isBlendingModel()){e.BlendingMappingUtils.removeUnsupportedFieldsForBlending(o,this.m_blendableQueryManager.isPreserveAttributeLayout())}e.BlendingMappingUtils.removeUnsupportedFieldsForBlending(l,this.m_blendableQueryManager.isPreserveAttributeLayout());if(i.getInitSettings().getMode()===e.QueryManagerMode.BLENDING){this.processBlendedDrills(i,this.m_leafAccountDrillOperations,true)}if(a.getInitSettings().getMode()===e.QueryManagerMode.BLENDING){this.processBlendedDrills(a,this.m_leafAccountDrillOperations,true)}let y=this.m_blendableQueryManager.getAllMembersOrFsicEnabled(i.getQueryModel().getDatasetId());let m=this.m_blendableQueryManager.getAllMembersOrFsicEnabled(a.getQueryModel().getDatasetId());e.BlendingMappingUtils.processTransientCalculations(o,this.m_transientMembers.getByKey(o.getDatasetId()),y,this.m_blendableQueryManager.supportsDrillOnBlendNodeOnly());e.BlendingMappingUtils.processTransientCalculations(l,this.m_transientMembers.getByKey(l.getDatasetId()),m,this.m_blendableQueryManager.supportsDrillOnBlendNodeOnly());this.collectLeafQueryAccountDrills(i,this.m_blendableQueryManager.supportsDrillOnBlendNodeOnly(),false);this.collectLeafQueryAccountDrills(a,this.m_blendableQueryManager.supportsDrillOnBlendNodeOnly(),o.getAccountDimension()===null);if(!y&&!i.getQueryModel().isBlendingModel()){this.addDummyCalculationMeasure(this.m_blendableQueryManager.getPrimaryQueryManager())}if(!m){this.addDummyCalculationMeasure(a)}e.BlendingMappingUtils.deactivateUniversalDisplayHierarchy(i);e.BlendingMappingUtils.deactivateUniversalDisplayHierarchy(a);o.resumeEventing();l.resumeEventing();if(e.notNull(this.m_cachedRuntimeBlendedQueryManagerResult)&&this.validateCachedRuntimeBlendedQueryManager()){let t=e.BlendingUtils.getBlendedQueryModelByBlendDefinition(this.m_cachedRuntimeBlendedQueryManagerResult,n);if(e.notNull(t)){this.onQueryManagerCreated(e.ExtResult.create(t,this),t,null);return}}else{this.m_cachedRuntimeBlendedQueryManagerResult=null}this.m_enableInaCacheHint=true;let d=n.getBlendingHost();let C=d.getSystemName();let A=n.getSources().getIterator();while(A.hasNext()){let t=A.next();let n=t.getQueryModel();let r=t.getQueryManager();let i=n.getQueryManager().getSystemName();if(n.getQueryManager().isCacheHintEnabled()){if(!e.XString.isEqual(C,i)){n.getQueryManager().setCacheHintEnabled(false);n.getQueryManager().getTagging().put("cacheHintDisabled","")}}else{this.m_enableInaCacheHint=false}let a=r.getModelCapabilities().supportsAutoVariableSubmit()&&r.getInitSettings().isEnableAutoVariableSubmit();if(r.getConvenienceCommands().isTypeOfBw()&&a&&r.getOlapEnv()!==null&&this.getOlapEnv().getFilterManager()!==null){r.maintainStateForRsWithAutoSubmit(null);let t=r.getVariableProcessorState();r.getOlapEnv().getFilterManager().cleanupFilterBeforeAutoSubmit(r,t===e.VariableProcessorState.PROCESSING_SUBMIT||t===e.VariableProcessorState.PROCESSING_AUTO_SUBMIT||t===e.VariableProcessorState.CHANGEABLE_STARTUP)}}let E=e.QueryServiceConfig.createWithBlendingDefinition(this.getActionContext().getApplication(),n);E.getClientInfo().copyFromContext(this.m_blendableQueryManager.getPrimaryQueryManager());this.m_queryManagerCreationSyncAction=E.processQueryManagerCreation(this.getActiveSyncType(),this,null)}catch(t){o.resumeEventing();l.resumeEventing();throw e.XException.createRuntimeException(e.XException.getMessage(t))}};e.BlendingProcess.prototype.processDrillLimitation=function(){let e=this.m_blendableQueryManager;if(e.supportsDrillOnBlendNodeOnly()){let t=e.getPrimaryQueryManager();e.setMaxColumns(t.getMaxColumns());e.setMaxRows(t.getMaxRows())}};e.BlendingProcess.prototype.processSynchronization=function(t){let n=true;let r=this.getActionContext().getQueryManager();let i=r.getQueryModel();if(this.m_configs.size()>0){this.processBlendingQueryManagerCreation()}else if(e.BlendingUtils.isQueryModelInUseForBlending(i,this.m_blendableQueryManager)){this.setData(r);n=false}else{this.addError(e.ErrorCodes.BLENDING_CONDITIONS_NOT_FULFILLED,e.ErrorMessages.BLENDING_CONDITIONS_NOT_FULFILLED);n=false}return n};e.BlendingProcess.prototype.processThresholds=function(){this.m_blendedQueryManager.getQueryModel().getFormulaExceptionManager().setFormulaResultVisible(!this.m_blendableQueryManager.isFormulaExceptionResultHidden());let t=this.m_blendableQueryManager.getFormulaExceptions();let n=t.getIterator();while(n.hasNext()){let t=n.next();let r=this.m_blendedQueryManager.getQueryModel().getFormulaExceptionManager().addNewFormulaException(t.getName(),t.getText());r.copyFrom(t,null);if(t.getMeasure()!==null){let n=this.getConvertedMeasure(t,null,t.getMeasure().getAliasOrMemberName());if(e.isNull(n)){continue}r.setMeasure(n)}if(t.getBaseMeasure()!==null||t.getBaseMeasureName()!==null){let n=this.getConvertedMeasure(t,t.getBaseMeasure(),t.getBaseMeasureName());if(e.isNull(n)){continue}r.setBaseMeasure(n);r.setBaseMeasureName(n.getName())}if(t.getReferenceMeasure()!==null||t.getReferenceMeasureName()!==null){let n=this.getConvertedMeasure(t,t.getReferenceMeasure(),t.getReferenceMeasureName());if(e.isNull(n)){continue}r.setReferenceMeasure(n);r.setReferenceMeasureName(n.getName())}r.removeAllEvaluates();let i=t.getEvaluates().getIterator();while(i.hasNext()){let t=i.next();let n=t.getField();if(e.notNull(n)){let i=null;let a=e.BlendingUtils.getBlendedFieldFromLeafField(n.getName(),n.getQueryModel().getDatasetId(),this.m_blendableQueryManager,this.m_blendedQueryManager.getQueryModel());if(e.notNull(a)){i=r.addNewEvaluateWithField(a,t.getLowValue().getValue());i.copyFrom(n,null);i.setField(a)}else{if(n.getDimension()!==null){let a=e.BlendingUtils.getBlendedDimensionFromLeafDimension(n.getDimension().getName(),n.getQueryModel().getDatasetId(),this.m_blendedQueryManager.getQueryModel());if(e.notNull(a)){i=r.addNewEvaluate(a,t.getLowValue().getValue());i.copyFrom(n,null)}}}}}}};e.BlendingProcess.prototype.recordState=function(){let t=this.m_originalProcess.getLastState();let n=this.m_blendableQueryManager.getAllQueryManagers().getIterator();while(n.hasNext()){let r=n.next().getQueryModel();let i=r.getPrimaryCalculationDimension();let a=r.getSecondaryCalculationDimension();let o=e.XHashMapByString.create();this.addNewState(o,i,e.BlendingProcess.PRIMARY_MEASURE_FILTER);this.addNewState(o,a,e.BlendingProcess.SECONDARY_MEASURE_FILTER);let l=e.XHashSetOfString.create();let s=e.XHashSetOfString.create();let u=e.XHashSetOfString.create();let p=e.XList.create();p.addAll(r.getRowsAxis());p.addAll(r.getColumnsAxis());let g=p.getIterator();while(g.hasNext()){let t=g.next();e.XCollectionUtils.forEach(t.getResultSetFields(),e=>{s.add(e.getName())});if(t.getFieldLayoutType()===e.FieldLayoutType.ATTRIBUTE_BASED&&t.getQueryManager().getConvenienceCommands().isTypeOfBw()){e.XCollectionUtils.forEach(t.getResultSetAttributes(),t=>{e.XCollectionUtils.forEach(t.getResultSetFields(),e=>{u.add(e.getName())})})}if(t.supportsBasicStructureMembers()){continue}if(t.isHierarchyActive()){l.add(t.getName())}}o.put(e.BlendingProcess.HIERARCHICAL_DIMENSIONS,l);o.put(e.BlendingProcess.FIELDS,s);o.put(e.BlendingProcess.ATTRIBUTE_FIELDS,u);t.put(r.getDatasetId(),o)}};e.BlendingProcess.prototype.releaseObjectInternal=function(){this.releaseObjectWithParams(false)};e.BlendingProcess.prototype.releaseObjectWithParams=function(t){if(e.notNull(this.m_childProcess)){this.m_childProcess.releaseObjectWithParams(t);this.m_childProcess=null}let n=false;if(!t){n=e.notNull(this.m_queryManagerCreationSyncAction)&&this.m_queryManagerCreationSyncAction.getData()!==null;if(n){e.XObjectExt.release(this.m_queryManagerCreationSyncAction.getData());this.m_queryManagerCreationSyncAction=e.XObjectExt.release(this.m_queryManagerCreationSyncAction)}this.m_blendedQueryManager=e.XObjectExt.release(this.m_blendedQueryManager);this.m_lastState=e.XObjectExt.release(this.m_lastState)}this.m_configs=e.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_configs);this.m_originalDimensionResultSetFields=e.XObjectExt.release(this.m_originalDimensionResultSetFields);this.m_originalDimensionResultSetAttributes=e.XObjectExt.release(this.m_originalDimensionResultSetAttributes);this.m_primaryBlendedMeasures=e.XObjectExt.release(this.m_primaryBlendedMeasures);this.m_blendedDimensionInfoAxisMap=e.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_blendedDimensionInfoAxisMap);this.m_allBlendedDrillOperations=e.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_allBlendedDrillOperations);if(e.isNull(this.m_originalProcess)){this.m_leafAccountDrillOperations=e.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_leafAccountDrillOperations)}this.m_cachedRuntimeBlendedQueryManagerResult=null;this.m_outOfContextLinkDimensionNames=e.XObjectExt.release(this.m_outOfContextLinkDimensionNames);this.m_originalProcess=null;if(n){e.DfRsSyncAction.prototype.releaseObject.call(this)}};e.BlendingProcess.prototype.removeTransientDrillPaths=function(t,n){if(e.notNull(n)){for(let r=0;r<n.size();r++){let i=n.get(r);let a=i.getDrillPath();let o=e.XCollectionUtils.filter(a,t=>!t.getTagging().containsKey(e.QTransientConstants.TAG_IS_TRANSIENT));if(o.size()>0){t.setDrillState(o,i.getDrillState())}}}};e.BlendingProcess.prototype.setBlendingMaxDrillLevel=function(t){let n=e.XList.create();n.addAll(t.getQueryModel().getColumnsAxis());n.addAll(t.getQueryModel().getRowsAxis());let r=e.XList.create();let i=e.BlendingUtils.getLeafQueryModels(t);e.XCollectionUtils.forEach(i,e=>{if(e.getConvenienceCommands().isTypeOfBw()){r.add(e);e.stopEventing()}});for(let t=0;t<n.size();t++){let i=n.get(t);if(i.supportsHierarchy()&&i.isHierarchyActive()){let t=e.BlendingUtils.findLeafDimensionFromBlendedDimension(r,i);if(e.notNull(t)){let n=i.getLeveledHierarchy(t.getHierarchyName());if(e.notNull(n)){let e=t.getHierarchyManager();e.setMaxDrillLevel(n.getAllLevel().size()-1)}}}}e.XCollectionUtils.forEach(r,e=>{e.resumeEventing()})};e.BlendingProcess.prototype.validateCachedRuntimeBlendedQueryManager=function(){let t=this.m_originalProcess.getLastState();let n=e.XList.create();let r=this.m_configs.get(0);let i=r.getPrimaryQueryManager();if(i.getInitSettings().getMode()!==e.QueryManagerMode.BLENDING){n.add(i)}else{n.add(this.m_blendableQueryManager.getPrimaryQueryManager())}let a=r.getSecondaryQueryManager();if(a.getInitSettings().getMode()!==e.QueryManagerMode.BLENDING){n.add(a)}let o=n.getIterator();while(o.hasNext()){let n=o.next().getQueryModel();let r=n.getPrimaryCalculationDimension();let i=n.getSecondaryCalculationDimension();let a=e.notNull(t)&&!t.isReleased()?t.getByKey(n.getDatasetId()):null;if(this.m_blendableQueryManager.getAllMembersOrFsicEnabled(n.getDatasetId())){return false}if(this.needsUpdate(a,r,e.BlendingProcess.PRIMARY_MEASURE_FILTER)){return false}if(this.needsUpdate(a,i,e.BlendingProcess.SECONDARY_MEASURE_FILTER)){return false}let l=a.getByKey(e.BlendingProcess.HIERARCHICAL_DIMENSIONS);let s=e.XHashSetOfString.create();s.addAll(a.getByKey(e.BlendingProcess.FIELDS));let u=e.XHashSetOfString.create();u.addAll(a.getByKey(e.BlendingProcess.ATTRIBUTE_FIELDS));let p=e.XList.create();p.addAll(n.getRowsAxis());p.addAll(n.getColumnsAxis());let g=p.getIterator();while(g.hasNext()){let t=g.next();if(e.XCollectionUtils.contains(t.getResultSetFields(),e=>{let t=e.getName();if(!s.contains(t)){return true}s.removeElement(t);return false})){return false}if(t.getFieldLayoutType()===e.FieldLayoutType.ATTRIBUTE_BASED&&t.getQueryManager().getConvenienceCommands().isTypeOfBw()){if(e.XCollectionUtils.contains(t.getResultSetAttributes(),e=>{let t=e.getName();let n=e.getResultSetFields().getIterator();while(n.hasNext()){let e=n.next();if(!u.contains(e.getName())){return true}}u.removeElement(t);return false})){return false}}if(t.isMeasureStructure()||t.getDimensionType()===e.DimensionType.ACCOUNT){continue}let n=t.isHierarchyActive();if(e.isNull(l)||n&&!l.contains(t.getName())||!n&&l.contains(t.getName())){return false}}if(!s.isEmpty()){return false}}return true};e.OlapEnvVarProcessor=function(){};e.OlapEnvVarProcessor.prototype=new e.AbstractOlapEnvQueryManagerHandler;e.OlapEnvVarProcessor.prototype._ff_c="OlapEnvVarProcessor";e.OlapEnvVarProcessor.create=function(t){let n=new e.OlapEnvVarProcessor;n.setupQueryManagerHandler(t);return n};e.OlapEnvVarProcessor.prototype.m_updateAction=null;e.OlapEnvVarProcessor.prototype.activateVariableVariant=function(t,n,r,i){return e.OlapEnvVarAction.createAndRunVariantActivation(this,n,r,i,t)};e.OlapEnvVarProcessor.prototype.canHaveExtensions=function(){return false};e.OlapEnvVarProcessor.prototype.canMaterializeCompleteObject=function(){return false};e.OlapEnvVarProcessor.prototype.cancelReInitVariables=function(t,n,r){return e.OlapEnvVarAction.createAndRunCancel(this,t,n,r)};e.OlapEnvVarProcessor.prototype.checkVariables=function(t,n,r){return e.OlapEnvVarAction.createAndRunCheck(this,t,n,r)};e.OlapEnvVarProcessor.prototype.clearExternalVariablesRepresentations=function(){this.queueEventing();e.QVariableUtils.clearExternalVariablesRepresentations(this.getVariables());this.resumeEventing()};e.OlapEnvVarProcessor.prototype.cloneOlapComponent=e.noSupport;e.OlapEnvVarProcessor.prototype.createMergeVarKey=function(t,n){let r=e.XStringBuffer.create();r.append(t.getSystemName());r.append("~");let i=t.getDataSource();r.append(i.getFullQualifiedName());r.append("~");r.append(n.getName());return r.toString()};e.OlapEnvVarProcessor.prototype.deleteVariableVariant=function(t,n,r,i){let a=this.findQmForDatasource(t.getDataSource());if(e.isNull(a)){return e.OlapVarImmediateCallback.createAndRunError(e.ErrorCodes.INVALID_STATE,"No QueryManager found to delete the variant",n,r,i)}return a.deleteVariableVariant(t,n,r,i)};e.OlapEnvVarProcessor.prototype.deserializeExt=e.noSupport;e.OlapEnvVarProcessor.prototype.deserializeFromContent=e.noSupport;e.OlapEnvVarProcessor.prototype.deserializeFromElementExt=e.noSupport;e.OlapEnvVarProcessor.prototype.deserializeNewComponentExt=e.noSupport;e.OlapEnvVarProcessor.prototype.deserializeNewComponentFromElementExt=e.noSupport;e.OlapEnvVarProcessor.prototype.emptyVariableDefinition=function(t,n,r){return e.OlapEnvVarAction.createAndRunEmptyVariableDefinition(this,t,n,r)};e.OlapEnvVarProcessor.prototype.findQmForDatasource=function(t){let n=t.getFullQualifiedName();let r=t.getSystemName();return e.XCollectionUtils.findFirst(this.getTaggedQueryManagers(),t=>e.XString.isEqual(t.getDataSource().getFullQualifiedName(),n)&&e.XString.isEqual(t.getDataSource().getSystemName(),r))};e.OlapEnvVarProcessor.prototype.getAllBWVariableProcessors=function(){let t=e.XList.create();let n=this.getTaggedQueryManagers();let r=n.size();for(let i=0;i<r;i++){let r=n.get(i);let a=r.getVariableProcessor();let o=r.getConvenienceCommands();if(e.notNull(o)&&o.isBw()&&a.hasVariables()){t.add(a)}}return t};e.OlapEnvVarProcessor.prototype.getCellContextManager=e.noSupport;e.OlapEnvVarProcessor.prototype.getChangedProperties=function(){return null};e.OlapEnvVarProcessor.prototype.getChangedPropertiesFromModellerMetadata=function(){return null};e.OlapEnvVarProcessor.prototype.getChangedPropertiesInDetail=function(){return null};e.OlapEnvVarProcessor.prototype.getChildren=function(){return this.getChildrenIterator()};e.OlapEnvVarProcessor.prototype.getChildrenIterator=e.noSupport;e.OlapEnvVarProcessor.prototype.getComponentType=e.noSupport;e.OlapEnvVarProcessor.prototype.getContentConstant=e.noSupport;e.OlapEnvVarProcessor.prototype.getContentElement=e.noSupport;e.OlapEnvVarProcessor.prototype.getContext=e.noSupport;e.OlapEnvVarProcessor.prototype.getConvenienceCommands=e.noSupport;e.OlapEnvVarProcessor.prototype.getDataSource=function(){let t=null;let n=this.getTaggedQueryManagers();for(let r=0;r<n.size();r++){let i=n.get(r).getDataSource();if(e.isNull(t)){t=i;continue}if(e.notNull(i)){if(!e.XString.isEqual(t.getSystemName(),i.getSystemName())||!e.XString.isEqual(t.getFullQualifiedName(),i.getFullQualifiedName())){return null}}}return t};e.OlapEnvVarProcessor.prototype.getDataSourceOrigin=function(){return this.getDataSource()};e.OlapEnvVarProcessor.prototype.getDataSourceTarget=function(){return this.getDataSource()};e.OlapEnvVarProcessor.prototype.getDimensionAccessor=e.noSupport;e.OlapEnvVarProcessor.prototype.getDimensionMemberVariables=function(){return e.QVariableUtils.getDimensionMemberVariables(this.getVariables())};e.OlapEnvVarProcessor.prototype.getDisplayDescription=function(){let t=this.getText();return e.XStringUtils.isNotNullAndNotEmpty(t)?t:this.getName()};e.OlapEnvVarProcessor.prototype.getDisplayName=function(){return this.getName()};e.OlapEnvVarProcessor.prototype.getDrillManager=e.noSupport;e.OlapEnvVarProcessor.prototype.getExtensionByName=function(e){return null};e.OlapEnvVarProcessor.prototype.getExtensions=function(){return null};e.OlapEnvVarProcessor.prototype.getFieldAccessorSingle=e.noSupport;e.OlapEnvVarProcessor.prototype.getHierarchyNameVariable=function(t){return e.QVariableUtils.getVariableByType(this.getVariables(),t,e.VariableType.HIERARCHY_NAME_VARIABLE)};e.OlapEnvVarProcessor.prototype.getHierarchyNameVariables=function(){return e.QVariableUtils.getHierarchyNameVariables(this.getVariables())};e.OlapEnvVarProcessor.prototype.getHierarchyNodeVariable=function(t){return e.QVariableUtils.getVariableByType(this.getVariables(),t,e.VariableType.HIERARCHY_NODE_VARIABLE)};e.OlapEnvVarProcessor.prototype.getIndexedChildren=e.noSupport;e.OlapEnvVarProcessor.prototype.getInputEnabledAndNonTechnicalVariables=function(){return e.QVariableUtils.getInputEnabledAndNonTechnicalVariables(this.getVariables())};e.OlapEnvVarProcessor.prototype.getInputEnabledVariable=function(t){return e.QVariableUtils.getInputEnabledVariable(this.getVariables(),t)};e.OlapEnvVarProcessor.prototype.getInputEnabledVariables=function(){return e.QVariableUtils.getInputEnabledVariables(this.getVariables())};e.OlapEnvVarProcessor.prototype.getKeyRefStorage=e.noSupport;e.OlapEnvVarProcessor.prototype.getMergedVariables=function(){let t=e.XListOfNameObject.create();let n=this.getTaggedQueryManagers();let r=n.size();for(let i=0;i<r;i++){let r=n.get(i);let a=r.getVariableProcessor();let o=a.getVariableContainer();let l=o.getVariables();let s=l.size();for(let n=0;n<s;n++){let i=l.get(n);let a=this.createMergeVarKey(r,i);let o=t.getByKey(a);if(e.isNull(o)){t.add(e.OlapEnvVariable.create(a,i))}else{o.addSecondaryVariable(i)}}}return t};e.OlapEnvVarProcessor.prototype.getMetaValue=e.noSupport;e.OlapEnvVarProcessor.prototype.getModCounter=e.noSupport;e.OlapEnvVarProcessor.prototype.getModelCapabilities=e.noSupport;e.OlapEnvVarProcessor.prototype.getName=e.noSupport;e.OlapEnvVarProcessor.prototype.getNamedChildren=e.noSupport;e.OlapEnvVarProcessor.prototype.getOlapComponentType=e.noSupport;e.OlapEnvVarProcessor.prototype.getParent=function(){return null};e.OlapEnvVarProcessor.prototype.getQueryManager=e.noSupport;e.OlapEnvVarProcessor.prototype.getQueryModel=e.noSupport;e.OlapEnvVarProcessor.prototype.getSelectedVariableProcessors=function(t){let n=e.XList.create();let r=this.getTaggedQueryManagers();let i=r.size();for(let a=0;a<i;a++){let i=r.get(a);let o=i.getVariableProcessor();if(o.hasVariables()){if(e.isNull(t)){n.add(o)}else{let r=o.getVariableProcessorState();if(r.isTypeOf(t)||e.VariableProcessorState.PROCESSING_EMPTY_VARIABLE_DEFINITION===r){n.add(o)}}}}return n};e.OlapEnvVarProcessor.prototype.getSelectionTagging=function(){return this.getSelectionMap()};e.OlapEnvVarProcessor.prototype.getStorageGroupName=e.noSupport;e.OlapEnvVarProcessor.prototype.getStorageName=e.noSupport;e.OlapEnvVarProcessor.prototype.getStorageObjectName=e.noSupport;e.OlapEnvVarProcessor.prototype.getSystemName=function(){return null};e.OlapEnvVarProcessor.prototype.getTagValue=e.noSupport;e.OlapEnvVarProcessor.prototype.getTagging=e.noSupport;e.OlapEnvVarProcessor.prototype.getText=e.noSupport;e.OlapEnvVarProcessor.prototype.getVariable=function(t){let n=this.getMergedVariables();for(let r=0;r<n.size();r++){let i=n.get(r).getMainVariable();if(e.XString.isEqual(i.getName(),t)){return i}}return null};e.OlapEnvVarProcessor.prototype.getVariableContainer=function(){return this};e.OlapEnvVarProcessor.prototype.getVariableMode=function(){let t=this.getTaggedQueryManagers();let n=t.size();for(let r=0;r<n;r++){let n=t.get(r);let i=n.getVariableProcessor();if(i.getVariableMode()===e.VariableMode.SUBMIT_AND_REINIT){return e.VariableMode.SUBMIT_AND_REINIT}}return e.VariableMode.DIRECT_VALUE_TRANSFER};e.OlapEnvVarProcessor.prototype.getVariableProcessorState=function(){if(e.notNull(this.m_updateAction)&&this.m_updateAction.getSyncState()===e.SyncState.PROCESSING){return e.VariableProcessorState.PROCESSING}let t=null;let n=this.getTaggedQueryManagers();let r=n.size();for(let i=0;i<r;i++){let r=n.get(i);let a=r.getVariableProcessor();let o=a.getVariableProcessorState();if(o.isTypeOf(e.VariableProcessorState.PROCESSING)){return e.VariableProcessorState.PROCESSING}if(e.isNull(t)){t=o}else if(t!==o){let n=null;if(t.isTypeOf(e.VariableProcessorState.CHANGEABLE)){if(o===e.VariableProcessorState.SUBMITTED){n=e.VariableProcessorState.SUBMITTED}else if(o.isTypeOf(e.VariableProcessorState.CHANGEABLE)){if(o===e.VariableProcessorState.CHANGEABLE_REINIT||t===e.VariableProcessorState.CHANGEABLE_REINIT){n=e.VariableProcessorState.CHANGEABLE_REINIT}else if(o===e.VariableProcessorState.SUBMIT_FAILED||t===e.VariableProcessorState.SUBMIT_FAILED){n=e.VariableProcessorState.SUBMIT_FAILED}else if(o===e.VariableProcessorState.SUBMIT_FAILED_AFTER_REINIT||t===e.VariableProcessorState.SUBMIT_FAILED_AFTER_REINIT){n=e.VariableProcessorState.SUBMIT_FAILED_AFTER_REINIT}else{n=e.VariableProcessorState.CHANGEABLE}}}else if(t===e.VariableProcessorState.SUBMITTED&&o.isTypeOf(e.VariableProcessorState.CHANGEABLE)){n=e.VariableProcessorState.SUBMITTED}if(e.isNull(n)){n=e.VariableProcessorState.MIXED}t=n}}return t};e.OlapEnvVarProcessor.prototype.getVariableVariants=function(){let t=e.XListOfNameObject.create();let n=this.getTaggedQueryManagers();for(let r=0;r<n.size();r++){let i=n.get(r).getVariableVariants();if(!e.XCollectionUtils.hasElements(i)){continue}for(let e=0;e<i.size();e++){let n=i.get(e);if(!t.containsKey(n.getName())){t.add(n)}}}return t};e.OlapEnvVarProcessor.prototype.getVariables=function(){let t=e.XListOfNameObject.create();let n=this.getMergedVariables();let r=n.size();for(let e=0;e<r;e++){t.add(n.get(e).getMainVariable())}return t};e.OlapEnvVarProcessor.prototype.hasInputEnabledAndNonTechnicalVariables=function(){return e.XCollectionUtils.hasElements(this.getInputEnabledAndNonTechnicalVariables())};e.OlapEnvVarProcessor.prototype.hasInputEnabledVariables=function(){return e.QVariableUtils.hasInputEnabledVariables(this.getVariables())};e.OlapEnvVarProcessor.prototype.hasMandatoryVariables=function(){return e.QVariableUtils.hasMandatoryVariables(this.getVariables())};e.OlapEnvVarProcessor.prototype.hasPropertyChanged=function(e){return false};e.OlapEnvVarProcessor.prototype.hasPropertyChangedForInAData=function(e){return false};e.OlapEnvVarProcessor.prototype.hasVariables=function(){return this.getVariables().hasElements()};e.OlapEnvVarProcessor.prototype.isCancelNeeded=function(){return this.getVariableProcessorState().isCancelNeeded()};e.OlapEnvVarProcessor.prototype.isComponentNode=e.noSupport;e.OlapEnvVarProcessor.prototype.isDirectVariableTransferEnabled=function(){return this.getVariableProcessorState()===e.VariableProcessorState.CHANGEABLE_DIRECT_VALUE_TRANSFER};e.OlapEnvVarProcessor.prototype.isEventingStopped=e.noSupport;e.OlapEnvVarProcessor.prototype.isFailedSubmit=function(){return this.getVariableProcessorState().isFailedSubmit()};e.OlapEnvVarProcessor.prototype.isLeaf=e.noSupport;e.OlapEnvVarProcessor.prototype.isNode=e.noSupport;e.OlapEnvVarProcessor.prototype.isProcessingAutoSubmit=function(){return this.getVariableProcessorState()===e.VariableProcessorState.PROCESSING_AUTO_SUBMIT||this.getVariableProcessorState()===e.VariableProcessorState.PROCESSING_AUTO_SUBMIT_AFTER_REINIT};e.OlapEnvVarProcessor.prototype.isRRIAffectedComponent=function(){return false};e.OlapEnvVarProcessor.prototype.isReinitNeeded=function(){return this.getVariableProcessorState().isReinitNeeded()};e.OlapEnvVarProcessor.prototype.isSubmitNeeded=function(){return this.getVariableProcessorState().isSubmitNeeded()};e.OlapEnvVarProcessor.prototype.isSubmitted=function(){return this.getVariableProcessorState()===e.VariableProcessorState.SUBMITTED};e.OlapEnvVarProcessor.prototype.isUsingSavedPromptsForExitVariables=function(){return false};e.OlapEnvVarProcessor.prototype.processDeserializeExt=e.noSupport;e.OlapEnvVarProcessor.prototype.queueEventing=function(){let e=this.getTaggedQueryManagers();let t=e.size();for(let n=0;n<t;n++){let t=e.get(n);let r=t.getVariableProcessor();let i=r.getVariableContainer();i.queueEventing()}};e.OlapEnvVarProcessor.prototype.reInitVariablesAfterSubmit=function(t,n,r){return e.OlapEnvVarAction.createAndRunReInitAfterSubmit(this,t,n,r)};e.OlapEnvVarProcessor.prototype.reconfigure=e.noSupport;e.OlapEnvVarProcessor.prototype.registerChangedListener=e.noSupport;e.OlapEnvVarProcessor.prototype.registerVariableProcessorStateChangedListener=e.noSupport;e.OlapEnvVarProcessor.prototype.releaseObject=function(){e.AbstractOlapEnvQueryManagerHandler.prototype.releaseObject.call(this)};e.OlapEnvVarProcessor.prototype.resetExitOrUpdateDynamicVariable=function(t,n,r,i){this.m_updateAction=e.OlapEnvUpdateAction.createAndRunUpdateDynamicValues(this,t,n,r,i)};e.OlapEnvVarProcessor.prototype.resumeEventing=function(){let e=this.getTaggedQueryManagers();let t=e.size();for(let n=0;n<t;n++){let t=e.get(n);let r=t.getVariableProcessor();let i=r.getVariableContainer();i.resumeEventing()}};e.OlapEnvVarProcessor.prototype.saveVariableVariant=function(t,n,r,i){let a=this.findQmForDatasource(t.getDataSource());if(e.isNull(a)){return e.OlapVarImmediateCallback.createAndRunError(e.ErrorCodes.INVALID_STATE,"No QueryManager found to modify the variant",n,r,i)}return a.saveVariableVariant(t,n,r,i)};e.OlapEnvVarProcessor.prototype.serialize=e.noSupport;e.OlapEnvVarProcessor.prototype.serializeToContent=e.noSupport;e.OlapEnvVarProcessor.prototype.serializeToContentExt=function(e,t){return null};e.OlapEnvVarProcessor.prototype.serializeToElement=function(e){return this.serializeToElementExt(e,null)};e.OlapEnvVarProcessor.prototype.serializeToElementExt=e.noSupport;e.OlapEnvVarProcessor.prototype.serializeToFormat=e.noSupport;e.OlapEnvVarProcessor.prototype.serializeToString=e.noSupport;e.OlapEnvVarProcessor.prototype.serializeToStringExt=e.noSupport;e.OlapEnvVarProcessor.prototype.setChangedProperties=e.noSupport;e.OlapEnvVarProcessor.prototype.setDirectVariableTransferEnabled=e.noSupport;e.OlapEnvVarProcessor.prototype.setUseSavedPromptsForExitVariables=function(t){e.XStream.of(this.getOlapEnv().getAllAreaQueryManager()).forEach(e=>{e.setUseSavedPromptsForExitVariables(t)})};e.OlapEnvVarProcessor.prototype.setWinControlInAutoSubmitByType=function(e,t,n){return};e.OlapEnvVarProcessor.prototype.stopEventing=function(){let e=this.getTaggedQueryManagers();let t=e.size();for(let n=0;n<t;n++){let t=e.get(n);let r=t.getVariableProcessor();let i=r.getVariableContainer();i.stopEventing()}};e.OlapEnvVarProcessor.prototype.submitVariables=function(t,n,r){return e.OlapEnvVarAction.createAndRunSubmit(this,t,n,r)};e.OlapEnvVarProcessor.prototype.supportsCheckVariables=function(){return e.XStream.of(this.getTaggedQueryManagers()).anyMatch(e=>e.supportsCheckVariables())};e.OlapEnvVarProcessor.prototype.supportsDirectVariableTransfer=function(){let e=this.getTaggedQueryManagers();let t=e.size();for(let n=0;n<t;n++){let t=e.get(n);let r=t.getVariableProcessor();if(!r.supportsReInitVariables()){return false}}return true};e.OlapEnvVarProcessor.prototype.supportsMaintainsVariableVariants=function(){return e.XStream.of(this.getTaggedQueryManagers()).anyMatch(e=>e.supportsMaintainsVariableVariants())};e.OlapEnvVarProcessor.prototype.supportsReInitVariables=function(){return e.XStream.of(this.getTaggedQueryManagers()).anyMatch(e=>e.supportsReInitVariables())};e.OlapEnvVarProcessor.prototype.supportsVariableMasking=function(){return e.XStream.of(this.getTaggedQueryManagers()).anyMatch(e=>e.supportsVariableMasking())};e.OlapEnvVarProcessor.prototype.syncVariableValues=function(){let e=this.getMergedVariables();let t=e.size();for(let n=0;n<t;n++){e.get(n).sync()}};e.OlapEnvVarProcessor.prototype.transferVariables=function(t,n,r){return e.OlapEnvVarAction.createAndRunSetGetValues(this,t,n,r)};e.OlapEnvVarProcessor.prototype.transferVariablesByVariable=e.noSupport;e.OlapEnvVarProcessor.prototype.unregisterChangedListener=e.noSupport;e.OlapEnvVarProcessor.prototype.unregisterVariableProcessorStateChangedListener=e.noSupport;e.OlapEnvVarProcessor.prototype.updateDynamicVariables=function(t,n,r){this.m_updateAction=e.OlapEnvUpdateAction.createAndRunUpdateDynamicValues(this,t,n,r,false)};e.OlapEnvVarProcessor.prototype.updateVariableVariantValues=function(t,n,r,i){let a=this.findQmForDatasource(t.getDataSource());if(e.isNull(a)){return e.OlapVarImmediateCallback.createAndRunError(e.ErrorCodes.INVALID_STATE,"No QueryManager found to save the variant",n,r,i)}this.syncVariableValues();return a.updateVariableVariantValues(t,n,r,i)};e.BlendableResultSetContainer=function(){};e.BlendableResultSetContainer.prototype=new e.ResultSetContainer;e.BlendableResultSetContainer.prototype._ff_c="BlendableResultSetContainer";e.BlendableResultSetContainer.createBlendableResultSetContainer=function(t,n,r){let i=new e.BlendableResultSetContainer;i.setupBlendableResultSetContainer(t);i.m_runtimeQueryManager=n;i.m_lastState=r;i.m_queueNextQuery=false;i.m_onPostQueryExecutionListener=null;i.m_pendingHierarchyFetches=0;i.m_pendingValueHelps=0;return i};e.BlendableResultSetContainer.prototype.m_blendingProcess=null;e.BlendableResultSetContainer.prototype.m_lastState=null;e.BlendableResultSetContainer.prototype.m_onPostQueryExecutionListener=null;e.BlendableResultSetContainer.prototype.m_pendingHierarchyFetches=0;e.BlendableResultSetContainer.prototype.m_pendingValueHelps=0;e.BlendableResultSetContainer.prototype.m_queueNextQuery=false;e.BlendableResultSetContainer.prototype.m_runtimeQueryManager=null;e.BlendableResultSetContainer.prototype._resetSyncStateInternal=function(t){if(t||this.getSyncState().isInSync()){this.resetCachedState()}e.ResultSetContainer.prototype._resetSyncStateInternal.call(this,t)};e.BlendableResultSetContainer.prototype.continueBlendProcess=function(e){if(this.hasNoPendingQueries()){let t=this.getActionContext();let n=t.getBlendingProcessConfigs(this);this.processBlendedQueryManager(t,n,this.getActiveSyncType(),this,e)}};e.BlendableResultSetContainer.prototype.getBlendedMeasureDependentMembers=function(t){let n=e.XHashMapByString.create();let r=t.getIterator();while(r.hasNext()){let t=r.next();if(t.isMultiDataSourceMember()){let r=e.FormulaItemUtils.getFormulaMembers(t.getFormula());let i=r.getIterator();while(i.hasNext()){let t=i.next();let r=t.getDimensionContext();if(e.notNull(r)&&r.getQueryModel().getAccountDimension()===r){let i=r.getQueryModel().getDatasetId();let a=n.containsKey(i)?n.getByKey(i):e.XHashSetOfString.create();a.add(t.getMemberName());n.putIfAbsent(i,a)}}}}return n};e.BlendableResultSetContainer.prototype.getBlendingProcess=function(){return this.m_blendingProcess};e.BlendableResultSetContainer.prototype.getContext=function(){return this.m_runtimeQueryManager};e.BlendableResultSetContainer.prototype.getCursorResultSet=function(){if(e.isNull(this.m_cursorResultSetInSync)){let t=this.getSyncState();if(t===e.SyncState.PROCESSING){throw e.XException.createIllegalStateException("Cannot retrieve the resultset while processing")}else if(t===e.SyncState.OUT_OF_SYNC){let t=this.getActionContext();if(e.isNull(this.m_blendingProcess)||this.m_blendingProcess.isSyncCanceled()){this.m_blendingProcess=e.XObjectExt.release(this.m_blendingProcess);t.getBlendingProcessConfigs(this);if(this.hasErrors()){return null}}let n=t.getBlendingProcessConfigs(this);this.processRuntimeQueryManagerCreation(t,n,e.SyncType.BLOCKING,this,null);if(e.notNull(this.m_runtimeQueryManager)&&this.m_runtimeQueryManager.getInitSettings().getMode()===e.QueryManagerMode.BLENDING){this.m_cursorResultSetInSync=e.XWeakReferenceUtil.getWeakRef(this.m_runtimeQueryManager.getCursorResultSet())}else{e.ResultSetContainer.prototype.processExecution.call(this,e.SyncType.BLOCKING,null,null)}}else if(t===e.SyncState.IN_SYNC){this.m_cursorResultSetInSync=e.XWeakReferenceUtil.getWeakRef(this.m_runtimeQueryManager.getCursorResultSet())}}return e.XWeakReferenceUtil.getHardRef(this.m_cursorResultSetInSync)};e.BlendableResultSetContainer.prototype.getExpandedAccountMembersToFetch=function(t,n){if(t.getPrimaryQueryManager().getQueryModel().getAccountDimension()===null){return 0}let r=this.getExpandedParentsByDatasetId(t);if(r.isEmpty()){return 0}let i=e.XHashSetOfString.create();let a=e.BlendingUtils.getPrimaryMeasuresFromFilters(t,true,false,true);let o=this.getBlendedMeasureDependentMembers(a);let l=o.getKeysAsIterator();while(l.hasNext()){let n=l.next();if(r.containsKey(n)&&!i.contains(n)){let r=o.getByKey(n);let l=r.getIterator();while(l.hasNext()){let r=l.next();if(!t.doesChildMemberExist(n,r)&&!e.XCollectionUtils.contains(a,t=>e.XString.isEqual(t.getQueryModel().getDatasetId(),n)&&e.XString.isEqual(t.getAliasOrMemberName(),r))){i.add(n)}}}}if(i.isEmpty()){return 0}let s=this.setupValueHelpQueries(t,r,i);let u=s.getKeysAsIterator();while(u.hasNext()){let t=u.next();s.getByKey(t).processValueHelp(n,this,e.XStringValue.create(t))}return s.size()};e.BlendableResultSetContainer.prototype.getExpandedParentsByDatasetId=function(t){let n=t.getAllQueryManagers();let r=e.XHashMapByString.create();let i=t.getBlendedDrillOperations().getIterator();while(i.hasNext()){let t=i.next();let a=t.getDatasetId();let o=t.getDrillState()===e.DrillState.EXPANDED&&e.XCollectionUtils.contains(n,n=>{let r=n.getQueryModel();let i=r.getAccountDimension();return e.notNull(i)&&e.XString.isEqual(r.getDatasetId(),a)&&e.XString.isEqual(i.getName(),t.getDimensionName())});if(o){let n=r.containsKey(a)?r.getByKey(a):e.XHashSetOfString.create();r.putIfAbsent(a,n);let i=t.getBlendedDrillPathElementInfos().getIterator();while(i.hasNext()){let e=i.next();n.add(e.getDrillMember())}}}let a=r.getKeysAsIterator();while(a.hasNext()){let n=a.next();let i=r.getByKey(n);let o=t.getExpandedParentsMap(n);if(e.notNull(o)){let e=o.getKeysAsReadOnlyList();for(let t=e.size()-1;t>=0;t--){let n=e.get(t);this.removeExpandedParentRecursively(n,o,i)}}if(i.size()===0){r.remove(n)}}return r};e.BlendableResultSetContainer.prototype.getRuntimeQueryManager=function(){return this.m_runtimeQueryManager};e.BlendableResultSetContainer.prototype.hasNoPendingQueries=function(){return this.m_pendingHierarchyFetches===0&&this.m_pendingValueHelps===0};e.BlendableResultSetContainer.prototype.onHierarchyCatalogResult=function(e,t,n){this.m_pendingHierarchyFetches--;this.continueBlendProcess(n)};e.BlendableResultSetContainer.prototype.onQueryExecuted=function(t,n,r){if(this.m_queueNextQuery){this.m_queueNextQuery=false;this.m_blendingProcess.postQueryExecution();this.processBlendedQueryManagerCreation(this.getActiveSyncType(),r)}else{this.addAllMessages(t);let r=this.getActionContext();let i=r.getAllQueryManagers();e.XCollectionUtils.forEach(i,e=>{this.addAllMessages(e)});this.setData(n);this.endSync();if(e.notNull(this.m_onPostQueryExecutionListener)){this.m_onPostQueryExecutionListener.onPostQueryExecution()}this.m_blendingProcess.postQueryExecution()}};e.BlendableResultSetContainer.prototype.onQueryManagerCreated=function(t,n,r){this.addAllMessages(t);if(e.notNull(n)){this.m_runtimeQueryManager=n;this.m_lastState=this.m_blendingProcess.getLastState()}if(this.m_queueNextQuery){this.m_queueNextQuery=false;this.m_blendingProcess.postQueryExecution();this.processBlendedQueryManagerCreation(this.getActiveSyncType(),r)}else if(!t.hasErrors()&&e.notNull(n)){this.m_blendingProcess.prepareQueryExecution();this.m_runtimeQueryManager.processQueryExecution(this.getActiveSyncType(),this,r)}else{this.m_blendingProcess.postQueryExecution();if(e.notNull(this.m_onPostQueryExecutionListener)){this.m_onPostQueryExecutionListener.onPostQueryExecution()}this.endSync()}};e.BlendableResultSetContainer.prototype.onValuehelpExecuted=function(e,t,n){this.m_pendingValueHelps--;if(!e.isReleased()){let t=this.getActionContext();let r=n.toString();let i=e.getData();let a=i.getIterator();while(a.hasNext()){let e=a.next();let n=e.getDimensionMember();if(e.getParentNode()!==null){let i=e.getParentNode().getDimensionMember();t.addExpandedParentChildMember(r,i.getName(),n.getName())}}let o=t.getQueryManagerByDatasetId(r);let l=o.getQueryModel();let s=l.getAccountDimension();s.clearSelectorSettings()}this.continueBlendProcess(n)};e.BlendableResultSetContainer.prototype.processBlendedQueryManager=function(t,n,r,i,a){if(this.hasNoPendingQueries()){this.validateLeafQueryModels();this.m_blendingProcess=e.BlendingProcess.create(t,n,this.m_runtimeQueryManager,this.m_lastState,false);if(this.m_blendingProcess.hasErrors()){this.m_blendingProcess=e.XObjectExt.release(this.m_blendingProcess);return null}return this.m_blendingProcess.processBlendedQueryManagerCreation(r,i,a)}return null};e.BlendableResultSetContainer.prototype.processBlendedQueryManagerCreation=function(t,n){this.clearMessages();let r=this.getActionContext();let i=r.getAllQueryManagers();e.XCollectionUtils.forEach(i,e=>{e.clearMessages()});if(e.notNull(this.m_blendingProcess)&&!this.m_blendingProcess.isReleased()){this.m_blendingProcess.releaseObjectWithParams(true)}this.m_blendingProcess=null;let a=r.getBlendingProcessConfigs(this);if(this.hasErrors()){this.endSync()}else{this.processRuntimeQueryManagerCreation(r,a,t,this,n)}};e.BlendableResultSetContainer.prototype.processExecution=function(t,n,r){this.attachListener(n,e.ListenerType.SPECIFIC,r);this.setActiveSyncType(t);if(this.getSyncState().isTypeOf(e.SyncState.IN_SYNC)){this.endSync()}else{if(e.notNull(this.m_blendingProcess)){this.m_queueNextQuery=true}else{try{this.processBlendedQueryManagerCreation(t,r)}catch(t){this.m_blendingProcess=e.XObjectExt.release(this.m_blendingProcess);throw e.XException.createRuntimeException(e.XException.getMessage(t))}}}return this};e.BlendableResultSetContainer.prototype.processRuntimeQueryManagerCreation=function(t,n,r,i,a){this.setActiveSyncType(r);let o=e.XList.create();let l=n.getIterator();while(l.hasNext()){let n=l.next();let r=n.getModelDimensionLinks().getIterator();while(r.hasNext()){let i=r.next();if(i.isLinkOnMatchingHierarchies()){let r=n.getQueryModelLinkSettings().getSecondDatasetId();let a=t.getQueryManagerByDatasetId(r);let l=a.getQueryModel();if(l.getConvenienceCommands().isTypeOfBw()){let t=l.getDimensionByName(i.getSecondPart().getDimensionName());let n=e.BlendingUtils.getHierarchyManagerFromSharedQueryManager(this.getOlapEnv(),t);if(e.notNull(n)&&t.supportsHierarchy()){this.m_pendingHierarchyFetches++;o.add(n)}}}}}for(let e=0;e<o.size();e++){o.get(e).fetchHierarchyCatalog(r,this,a)}let s=this.getSession().hasFeature(e.FeatureToggleOlap.MERGABLE_MEASURE_FILTER)?this.getExpandedAccountMembersToFetch(t,r):0;return o.size()===0&&s===0?this.processBlendedQueryManager(t,n,r,i,a):null};e.BlendableResultSetContainer.prototype.releaseObjectInternal=function(){this.m_runtimeQueryManager=null;this.m_lastState=e.XObjectExt.release(this.m_lastState);this.m_blendingProcess=e.XObjectExt.release(this.m_blendingProcess);this.m_onPostQueryExecutionListener=e.XObjectExt.release(this.m_onPostQueryExecutionListener);this.m_pendingHierarchyFetches=0;this.m_pendingValueHelps=0;e.ResultSetContainer.prototype.releaseObjectInternal.call(this)};e.BlendableResultSetContainer.prototype.removeExpandedParentRecursively=function(e,t,n){if(!n.contains(e)){return}let r=t.getByKey(e).getIterator();while(r.hasNext()){let e=r.next();this.removeExpandedParentRecursively(e,t,n);n.removeElement(e)}};e.BlendableResultSetContainer.prototype.resetCachedState=function(){this.m_blendingProcess=e.XObjectExt.release(this.m_blendingProcess);this.m_runtimeQueryManager=e.XObjectExt.release(this.m_runtimeQueryManager);this.m_lastState=e.XObjectExt.release(this.m_lastState)};e.BlendableResultSetContainer.prototype.setOnPostQueryExecutionListener=function(e){this.m_onPostQueryExecutionListener=e};e.BlendableResultSetContainer.prototype.setupBlendableResultSetContainer=function(t){e.ResultSetContainer.prototype.setupContainer.call(this,t,null,null,null,null)};e.BlendableResultSetContainer.prototype.setupValueHelpQueries=function(t,n,r){let i=e.XHashMapByString.create();let a=r.getIterator();while(a.hasNext()){let r=a.next();let o=n.getByKey(r);let l=t.getQueryManagerByDatasetId(r);let s=l.getQueryModel();let u=s.getAccountDimension();u.clearSelectorFilter();u.clearSelectorHierarchyNode();u.setSelectorHierarchyActive(true);u.setSelectorInitialDrillLevel(-1);u.setReadModeGraceful(e.QContextType.SELECTOR,e.QMemberReadMode.MASTER);let p=u.getSelectorFields();p.clear();p.add(u.getSelectorDisplayKeyField());p.add(u.getSelectorTextField());let g=e.QFactory.createFilterCartesianListWithField(s,u.getHierarchyKeyField());g.setHierarchyName(u.getHierarchyName());g.setConvertToFlatFilter(true);e.XCollectionUtils.forEach(o,t=>{let n=e.QFactory.createFilterOperation(s,u.getHierarchyKeyField());n.setComparisonOperator(e.ComparisonOperator.EQUAL);n.setField(u.getHierarchyKeyField());n.getLow().setString(t);n.setHierarchyName(u.getHierarchyName());n.setConvertToFlatFilter(true);g.add(n)});let c=e.QFactory.createFilterOr(u);c.add(g);u.setSelectorComplexSelectionRoot(c);this.m_pendingValueHelps++;i.put(r,u)}return i};e.BlendableResultSetContainer.prototype.validateLeafQueryModels=function(){let t=this.getActionContext();let n=t.getAllQueryManagers();e.XCollectionUtils.forEach(n,e=>{this.validateQueryModel(e.getQueryModel())})};e.BlendedDimensionInfo=function(){};e.BlendedDimensionInfo.prototype=new e.QModelComponent;e.BlendedDimensionInfo.prototype._ff_c="BlendedDimensionInfo";e.BlendedDimensionInfo.createBlendedDimensionInfo=function(t,n){let r=new e.BlendedDimensionInfo;r.m_datasetId=t;r.m_dimensionName=n;return r};e.BlendedDimensionInfo.prototype.m_datasetId=null;e.BlendedDimensionInfo.prototype.m_dimensionName=null;e.BlendedDimensionInfo.prototype.m_initialDrillLevel=null;e.BlendedDimensionInfo.prototype.cloneExt=function(t){let n=e.BlendedDimensionInfo.createBlendedDimensionInfo(this.getDatasetId(),this.getDimensionName());n.copyFrom(this,null);return n};e.BlendedDimensionInfo.prototype.copyFromInternal=function(t,n){e.QModelComponent.prototype.copyFromInternal.call(this,t,n);let r=t;this.m_datasetId=r.getDatasetId();this.m_dimensionName=r.getDimensionName();if(r.getInitialDrillLevel()!==null){this.m_initialDrillLevel=e.XIntegerValue.create(r.getInitialDrillLevel().getInteger())}else{this.m_initialDrillLevel=null}};e.BlendedDimensionInfo.prototype.getDatasetId=function(){return this.m_datasetId};e.BlendedDimensionInfo.prototype.getDimensionName=function(){return this.m_dimensionName};e.BlendedDimensionInfo.prototype.getInitialDrillLevel=function(){return this.m_initialDrillLevel};e.BlendedDimensionInfo.prototype.releaseObject=function(){e.QModelComponent.prototype.releaseObject.call(this);this.m_datasetId=null;this.m_dimensionName=null;this.m_initialDrillLevel=null};e.BlendedDimensionInfo.prototype.setInitialDrillLevel=function(t){this.m_initialDrillLevel=e.XIntegerValue.create(t)};e.BlendedDrillInfo=function(){};e.BlendedDrillInfo.prototype=new e.QModelComponent;e.BlendedDrillInfo.prototype._ff_c="BlendedDrillInfo";e.BlendedDrillInfo.createBlendedDimensionDrillInfo=function(t,n,r){let i=new e.BlendedDrillInfo;i.setupModelComponent(t,t);i.m_blendedDrillPathElementInfos=e.XList.create();i.m_dimensionName=r;i.m_datasetId=n;return i};e.BlendedDrillInfo.createBlendedZoomDrillInfo=function(t,n,r,i){let a=e.BlendedDrillInfo.createBlendedDimensionDrillInfo(t,n,r);a.m_isZoomDrill=true;a.m_isHideRoots=i;return a};e.BlendedDrillInfo.prototype.m_blendedDrillPathElementInfos=null;e.BlendedDrillInfo.prototype.m_datasetId=null;e.BlendedDrillInfo.prototype.m_dimensionName=null;e.BlendedDrillInfo.prototype.m_drillState=null;e.BlendedDrillInfo.prototype.m_isHideRoots=false;e.BlendedDrillInfo.prototype.m_isZoomDrill=false;e.BlendedDrillInfo.prototype.addBlendedDrillPathElementInfo=function(t,n,r){this.m_blendedDrillPathElementInfos.add(e.BlendedDrillPathElementInfo.createBlendedDrillPathElementInfo(t,n,r));this.notifyNodeChanged()};e.BlendedDrillInfo.prototype.clearBlendedDrillPathElementInfos=function(){this.m_blendedDrillPathElementInfos.clear();this.notifyNodeChanged()};e.BlendedDrillInfo.prototype.cloneOlapComponent=function(t,n){let r=e.BlendedDrillInfo.createBlendedDimensionDrillInfo(this.getContext(),this.m_datasetId,this.m_dimensionName);r.copyFrom(this,null);return r};e.BlendedDrillInfo.prototype.copyFromInternal=function(t,n){let r=t;this.m_dimensionName=r.getDimensionName();this.m_datasetId=r.getDatasetId();e.XCollectionUtils.addAllClones(this.m_blendedDrillPathElementInfos,r.getBlendedDrillPathElementInfos());this.m_drillState=r.getDrillState();this.m_isZoomDrill=r.isZoomDrill();this.m_isHideRoots=r.isHideRoots()};e.BlendedDrillInfo.prototype.getBlendedDrillPathElementInfos=function(){return this.m_blendedDrillPathElementInfos};e.BlendedDrillInfo.prototype.getDatasetId=function(){return this.m_datasetId};e.BlendedDrillInfo.prototype.getDimensionName=function(){return this.m_dimensionName};e.BlendedDrillInfo.prototype.getDrillState=function(){return this.m_drillState};e.BlendedDrillInfo.prototype.isHideRoots=function(){return this.m_isHideRoots};e.BlendedDrillInfo.prototype.isZoomDrill=function(){return this.m_isZoomDrill};e.BlendedDrillInfo.prototype.releaseObject=function(){e.QModelComponent.prototype.releaseObject.call(this);this.m_dimensionName=null;this.m_datasetId=null;this.m_blendedDrillPathElementInfos=e.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_blendedDrillPathElementInfos);this.m_drillState=null};e.BlendedDrillInfo.prototype.removeBlendedDrillPathElementInfo=function(e){this.m_blendedDrillPathElementInfos.removeElement(e);this.notifyNodeChanged()};e.BlendedDrillInfo.prototype.setDrillState=function(e){this.m_drillState=e;this.notifyNodeChanged()};e.BlendedDrillInfo.prototype.setIsHideRoots=function(e){this.m_isHideRoots=e};e.QBlendedMeasureContainer=function(){};e.QBlendedMeasureContainer.prototype=new e.QModelComponent;e.QBlendedMeasureContainer.prototype._ff_c="QBlendedMeasureContainer";e.QBlendedMeasureContainer.create=function(t){let n=new e.QBlendedMeasureContainer;n.setupModelComponent(t,t);n.m_primaryBlendedMeasures=e.QModelComponentList.createModelComponentWithNameList(t,n,false,"Primary Blended Measures",true);return n};e.QBlendedMeasureContainer.prototype.m_primaryBlendedMeasures=null;e.QBlendedMeasureContainer.prototype.addPrimaryBlendedMeasure=function(t){let n=this.getQueryManager().getClientQueryObjectStorageName();if(t.getStorageGroupName()!==null&&(e.XString.isEqual(t.getStorageName(),n)||t.isReleased())&&this.getOlapEnv().getClientQueryObjectManager().getClientQueryObjectIncludeReleasedByKeyRef(t,n)!==null){this.m_primaryBlendedMeasures.addKeyRef(e.QFactory.createKeyRef(n,t.getStorageGroupName(),t.getStorageObjectName()))}else{throw e.XException.createIllegalArgumentException(e.XStringUtils.concatenate2("Unable to add primary blended measure:",t.getStorageObjectName()))}t.addSecondaryParent(this);this.notifyNodeChanged()};e.QBlendedMeasureContainer.prototype.clearPrimaryBlendedMeasures=function(){for(let e=this.m_primaryBlendedMeasures.size()-1;e>=0;e--){this.removePrimaryBlendedMeasure(this.m_primaryBlendedMeasures.get(e))}this.notifyNodeChanged()};e.QBlendedMeasureContainer.prototype.copyFromInternal=function(e,t){let n=e;this.m_primaryBlendedMeasures.clear();let r=n.m_primaryBlendedMeasures.getIterator();while(r.hasNext()){this.m_primaryBlendedMeasures.add(r.next())}};e.QBlendedMeasureContainer.prototype.getPrimaryBlendedMeasures=function(){return this.m_primaryBlendedMeasures};e.QBlendedMeasureContainer.prototype.releaseObject=function(){this.m_primaryBlendedMeasures=e.XObjectExt.release(this.m_primaryBlendedMeasures);e.QModelComponent.prototype.releaseObject.call(this)};e.QBlendedMeasureContainer.prototype.removePrimaryBlendedMeasure=function(t){let n=this.m_primaryBlendedMeasures.removeElement(t);if(e.notNull(n)){if(n.getContext()===this){e.XObjectExt.release(n)}else{n.removeSecondaryParent(this)}}this.notifyNodeChanged()};e.QBlendingSortContainer=function(){};e.QBlendingSortContainer.prototype=new e.QModelComponent;e.QBlendingSortContainer.prototype._ff_c="QBlendingSortContainer";e.QBlendingSortContainer.create=function(t){let n=new e.QBlendingSortContainer;n.setupModelComponent(t,t);n.m_blendableDimensionSorts=e.QModelComponentList.createModelComponentList(t,n,true,"Blendable Dimension Sorts");n.setIsDefaultOrder(false);return n};e.QBlendingSortContainer.prototype.m_blendableDimensionSorts=null;e.QBlendingSortContainer.prototype.m_isDefaultOrder=false;e.QBlendingSortContainer.prototype.m_primaryMeasureSort=null;e.QBlendingSortContainer.prototype.addBlendableDimensionSort=function(t,n,r,i,a){let o=this.getParent();let l=o.getQueryManagerByDatasetId(n);let s=e.notNull(l)?l.getQueryModel():null;let u=e.notNull(s)?s.getFieldByName(t):null;let p=null;if(e.notNull(u)&&this.shouldAddOrUpdateDimensionSort(u,n,r,i)){this.removeBlendableDimensionSort(t,n);if(this.getPrimaryBlendableMeasureMemberSort()!==null&&!o.supportsConcurrentDimensionAndMeasureSorting()){this.clearPrimaryBlendableMemberMeasureSort()}p=e.BlendableDimensionSort.createDimensionSort(this,e.QSortUtils.getBlendableDimensionSortMapKey(t,n),t,n,r,i,a);this.m_blendableDimensionSorts.add(p)}return p};e.QBlendingSortContainer.prototype.clearBlendableDimensionSorts=function(){if(this.m_blendableDimensionSorts.size()>0){e.XCollectionUtils.releaseEntriesFromCollection(this.m_blendableDimensionSorts);this.m_blendableDimensionSorts.clear()}};e.QBlendingSortContainer.prototype.clearPrimaryBlendableMemberMeasureSort=function(){this.m_primaryMeasureSort=e.XObjectExt.release(this.m_primaryMeasureSort);this.notifyNodeChanged()};e.QBlendingSortContainer.prototype.copyFromInternal=function(t,n){let r=t;this.m_blendableDimensionSorts.clear();let i=r.m_blendableDimensionSorts.getIterator();while(i.hasNext()){let e=i.next();let t=this.addBlendableDimensionSort(e.getFieldName(),e.getDatasetId(),e.getSortDirection(),e.getPreserveGrouping(),e.getContextLanguage());t.copyFrom(e,null)}if(r.getPrimaryBlendableMeasureMemberSort()!==null){let t=r.getPrimaryBlendableMeasureMemberSort();this.m_primaryMeasureSort=e.BlendableMeasureMemberSort.createBlendableMeasureSort(this);this.m_primaryMeasureSort.copyFrom(t,null)}this.m_isDefaultOrder=r.isDefaultOrder()};e.QBlendingSortContainer.prototype.getBlendableDimensionSorts=function(){return this.m_blendableDimensionSorts};e.QBlendingSortContainer.prototype.getBlendableMeasureMemberSort=function(){return this.m_primaryMeasureSort};e.QBlendingSortContainer.prototype.getPrimaryBlendableMeasureMemberSort=function(){return this.m_primaryMeasureSort};e.QBlendingSortContainer.prototype.isDefaultOrder=function(){return this.m_isDefaultOrder};e.QBlendingSortContainer.prototype.releaseObject=function(){this.m_blendableDimensionSorts=e.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_blendableDimensionSorts);this.m_primaryMeasureSort=e.XObjectExt.release(this.m_primaryMeasureSort);e.QModelComponent.prototype.releaseObject.call(this)};e.QBlendingSortContainer.prototype.removeBlendableDimensionSort=function(t,n){let r=this.m_blendableDimensionSorts.getByKey(e.QSortUtils.getBlendableDimensionSortMapKey(t,n));if(e.notNull(r)){this.m_blendableDimensionSorts.removeElement(r);e.XObjectExt.release(r)}};e.QBlendingSortContainer.prototype.setBlendableMeasureMemberSort=function(e){this.m_primaryMeasureSort=e;this.notifyNodeChanged()};e.QBlendingSortContainer.prototype.setIsDefaultOrder=function(e){this.m_isDefaultOrder=e};e.QBlendingSortContainer.prototype.setPrimaryBlendableMeasureMemberSort=function(t,n,r){let i=this.getPrimaryBlendableMeasureMemberSort();let a=e.isNull(i)||!e.XString.isEqual(t,i.getMeasureMemberName())||!e.XString.isEqual(n,i.getDatasetId())||r!==i.getSortDirection();let o=false;let l=this.getParent();if(e.notNull(n)){let r=l.getQueryManagerByDatasetId(n);let i=e.notNull(r)?r.getQueryModel():null;let a=e.notNull(i)?i.getPrimaryCalculationDimension():null;o=e.notNull(a)&&(a.getStructureMember(t)!==null||a.getDimensionMember(t)!==null)}else{o=e.XCollectionUtils.contains(l.getPrimaryBlendedMeasuresFromFilters(),n=>e.XString.isEqual(n.getName(),t))}if(a&&o){this.m_primaryMeasureSort=e.BlendableMeasureMemberSort.createBlendableMeasureSort(this);this.m_primaryMeasureSort.setPrimaryMeasure(t,n,false);this.m_primaryMeasureSort.setSortDirection(r);this.notifyNodeChanged()}};e.QBlendingSortContainer.prototype.shouldAddOrUpdateDimensionSort=function(t,n,r,i){let a=this.getParent();let o=this.m_blendableDimensionSorts.getByKey(e.QSortUtils.getBlendableDimensionSortMapKey(t.getName(),n));let l=e.isNull(o)||r!==o.getSortDirection()||i!==o.getPreserveGrouping();let s=e.XString.isEqual(n,a.getPrimaryQueryManager().getQueryModel().getDatasetId());let u=e.BlendingUtils.isDimensionFromLinkedDimension(a,t.getDimension().getName(),n);return l&&(s||!u)};e.QLightweightDataAreaCommand=function(){};e.QLightweightDataAreaCommand.prototype=new e.QModelComponent;e.QLightweightDataAreaCommand.prototype._ff_c="QLightweightDataAreaCommand";e.QLightweightDataAreaCommand.create=function(t,n,r){let i=new e.QLightweightDataAreaCommand;i.setupModelComponent(t,n);i.setPlanningContextCommandType(r);return i};e.QLightweightDataAreaCommand.prototype.m_commandResult=null;e.QLightweightDataAreaCommand.prototype.m_extPlanningCommandResult=null;e.QLightweightDataAreaCommand.prototype.m_invalidatingResultSet=false;e.QLightweightDataAreaCommand.prototype.m_planningContextCommandType=null;e.QLightweightDataAreaCommand.prototype.m_synchronizationType=null;e.QLightweightDataAreaCommand.prototype.createCommandResult=function(e,t){let n=this.createCommandResultInstance();n.setCustomIdentifier(t);n.setPlanningCommand(this);n.setPlanningCommandCallback(e);return n};e.QLightweightDataAreaCommand.prototype.createCommandResultInstance=function(){let t=this.getResult();if(e.notNull(t)){e.XObjectExt.release(t)}t=this.createCommandResultInstanceInternal();this.setResult(t);return t};e.QLightweightDataAreaCommand.prototype.createCommandResultInstanceInternal=function(){return new e.QLightweightDataAreaCommandResult};e.QLightweightDataAreaCommand.prototype.doProcessCommand=function(t,n){let r=this.getQueryManagerBase().getConnection();let i=this.getServicePath();let a=r.newRpcFunction(i);a.setServiceName(e.SystemServices.INA_SERVICE);let o=a.getRpcRequest();let l=this.serializeToElement(e.QModelFormat.INA_DATA);o.setRequestStructure(l);a.processFunctionExecution(t,this,n)};e.QLightweightDataAreaCommand.prototype.getCommandType=function(){return e.PlanningCommandType.DATA_AREA_COMMAND};e.QLightweightDataAreaCommand.prototype.getDataArea=function(){return this.getPlanningContext()};e.QLightweightDataAreaCommand.prototype.getOlapComponentType=function(){return e.OlapComponentType.LIGHTWEIGHT_DATA_AREA_COMMAND};e.QLightweightDataAreaCommand.prototype.getPlanningContext=function(){return null};e.QLightweightDataAreaCommand.prototype.getPlanningContextCommandType=function(){return this.m_planningContextCommandType};e.QLightweightDataAreaCommand.prototype.getResult=function(){return this.m_commandResult};e.QLightweightDataAreaCommand.prototype.getServicePath=function(){let t=this.getQueryManagerBase().getConnection();let n=t.getSystemDescription();let r=t.getSystemConnect().getServerMetadata();let i=r.getMetadataForService(e.ServerService.ANALYTIC);let a=i.getByKey(e.InACapabilities.C032_FAST_PATH);if(e.notNull(a)&&a.getValue()!==null){return a.getValue()}return n.getSystemType().getInAPath()};e.QLightweightDataAreaCommand.prototype.isInvalidatingResultSet=function(){return this.m_invalidatingResultSet};e.QLightweightDataAreaCommand.prototype.onCommandExecuted=function(t){if(this.m_synchronizationType===e.SyncType.BLOCKING){this.m_extPlanningCommandResult=t}let n=t.getData().getPlanningCommandCallback();if(e.notNull(n)){n.onCommandProcessed(t)}};e.QLightweightDataAreaCommand.prototype.onCommandProcessed=function(e){this.m_extPlanningCommandResult=e};e.QLightweightDataAreaCommand.prototype.onFunctionExecuted=function(t,n,r){let i=r;let a;if(t.hasErrors()){a=e.ExtResult.create(i,t)}else{this.onSuccessfulCommand();let t=e.PrFactory.createStructureDeepCopy(n.getRootElement());let r=e.MessageManager.createMessageManagerExt(this.getSession());r.addAllMessages(this.deserializeFromElementExt(e.QModelFormat.INA_DATA,t));a=e.ExtResult.create(i,r)}this.onCommandExecuted(a)};e.QLightweightDataAreaCommand.prototype.onSuccessfulCommand=function(){if(this.isInvalidatingResultSet()){this.getQueryManager().invalidateState()}};e.QLightweightDataAreaCommand.prototype.processCommand=function(t,n,r){let i=this.createCommandResult(n,r);this.m_synchronizationType=t;this.doProcessCommand(t,i);let a=null;if(t===e.SyncType.BLOCKING){a=this.m_extPlanningCommandResult;this.m_extPlanningCommandResult=null}return a};e.QLightweightDataAreaCommand.prototype.setConnection=e.noSupport;e.QLightweightDataAreaCommand.prototype.setInvalidatingResultSet=function(e){this.m_invalidatingResultSet=e;return this};e.QLightweightDataAreaCommand.prototype.setPlanningContextCommandType=function(e){this.m_planningContextCommandType=e;this.m_invalidatingResultSet=e.isInvalidatingResultSet()};e.QLightweightDataAreaCommand.prototype.setResult=function(e){this.m_commandResult=e};e.QLightweightDataAreaCommandResult=function(){};e.QLightweightDataAreaCommandResult.prototype=new e.QModelComponent;e.QLightweightDataAreaCommandResult.prototype._ff_c="QLightweightDataAreaCommandResult";e.QLightweightDataAreaCommandResult.EXECUTED="EXECUTED";e.QLightweightDataAreaCommandResult.prototype.m_customIdentifier=null;e.QLightweightDataAreaCommandResult.prototype.m_executed=false;e.QLightweightDataAreaCommandResult.prototype.m_lightweightDataAreaCommand=null;e.QLightweightDataAreaCommandResult.prototype.m_planningCommandCallback=null;e.QLightweightDataAreaCommandResult.prototype.getCustomIdentifier=function(){return this.m_customIdentifier};e.QLightweightDataAreaCommandResult.prototype.getDataAreaCommand=function(){return this.getPlanningCommand()};e.QLightweightDataAreaCommandResult.prototype.getPlanningCommand=function(){return this.m_lightweightDataAreaCommand};e.QLightweightDataAreaCommandResult.prototype.getPlanningCommandCallback=function(){return this.m_planningCommandCallback};e.QLightweightDataAreaCommandResult.prototype.getPlanningContextCommand=function(){return this.m_lightweightDataAreaCommand};e.QLightweightDataAreaCommandResult.prototype.isExecuted=function(){return this.m_executed};e.QLightweightDataAreaCommandResult.prototype.setCustomIdentifier=function(e){this.m_customIdentifier=e};e.QLightweightDataAreaCommandResult.prototype.setExecuted=function(e){this.m_executed=e};e.QLightweightDataAreaCommandResult.prototype.setPlanningCommand=function(e){this.m_lightweightDataAreaCommand=e};e.QLightweightDataAreaCommandResult.prototype.setPlanningCommandCallback=function(e){this.m_planningCommandCallback=e};e.OlapEnvUpdateAction=function(){};e.OlapEnvUpdateAction.prototype=new e.QOlapSyncAction;e.OlapEnvUpdateAction.prototype._ff_c="OlapEnvUpdateAction";e.OlapEnvUpdateAction.createAndRunUpdateDynamicValues=function(t,n,r,i,a){let o=new e.OlapEnvUpdateAction;o.m_overwriteDefaultForInputEnabledVar=a;o.setupVarActionAndRun(n,t,r,i);return o};e.OlapEnvUpdateAction.prototype.m_affectedVarProcessors=null;e.OlapEnvUpdateAction.prototype.m_finishedCount=0;e.OlapEnvUpdateAction.prototype.m_overwriteDefaultForInputEnabledVar=false;e.OlapEnvUpdateAction.prototype.callListener=function(e,t,n,r){t.onQueryExecuted(e,n,r)};e.OlapEnvUpdateAction.prototype.onQueryExecuted=function(e,t,n){this.addAllMessages(e);this.m_finishedCount++;if(this.m_finishedCount>=this.m_affectedVarProcessors.size()){this.endSync()}};e.OlapEnvUpdateAction.prototype.processSynchronization=function(t){let n=this.getActionContext();let r=n.getSelectedVariableProcessors(e.VariableProcessorState.CHANGEABLE_DIRECT_VALUE_TRANSFER);let i=n.getAllBWVariableProcessors();let a=e.XList.create();a.addAll(i);a.addAll(r);this.m_affectedVarProcessors=a;if(this.m_affectedVarProcessors.isEmpty()){this.addWarning(e.ErrorCodes.NO_VARIABLE_PROCESSOR_AFFECTED,"No affected variable processor was found.");return false}let o=this.getActiveSyncType();for(let e=0;e<this.m_affectedVarProcessors.size();e++){let t=this.m_affectedVarProcessors.get(e);t.resetExitOrUpdateDynamicVariable(o,this,null,this.m_overwriteDefaultForInputEnabledVar)}return true};e.OlapEnvUpdateAction.prototype.releaseObjectInternal=function(){this.m_affectedVarProcessors=e.XObjectExt.release(this.m_affectedVarProcessors);e.QOlapSyncAction.prototype.releaseObjectInternal.call(this)};e.OlapEnvUpdateAction.prototype.setupVarActionAndRun=function(t,n,r,i){e.QOlapSyncAction.prototype.setupActionAndRun.call(this,t,r,i,n)};e.OlapEnvVarAction=function(){};e.OlapEnvVarAction.prototype=new e.QOlapSyncAction;e.OlapEnvVarAction.prototype._ff_c="OlapEnvVarAction";e.OlapEnvVarAction.createAndRunCancel=function(t,n,r,i){let a=new e.OlapEnvVarAction;a.setupVarActionAndRun(n,t,r,i,e.VariableProcessorState.PROCESSING_CANCEL);return a};e.OlapEnvVarAction.createAndRunCheck=function(t,n,r,i){let a=new e.OlapEnvVarAction;a.setupVarActionAndRun(n,t,r,i,e.VariableProcessorState.PROCESSING_CHECK);return a};e.OlapEnvVarAction.createAndRunEmptyVariableDefinition=function(t,n,r,i){let a=new e.OlapEnvVarAction;a.setupVarActionAndRun(n,t,r,i,e.VariableProcessorState.PROCESSING_EMPTY_VARIABLE_DEFINITION);return a};e.OlapEnvVarAction.createAndRunReInitAfterSubmit=function(t,n,r,i){let a=new e.OlapEnvVarAction;a.setupVarActionAndRun(n,t,r,i,e.VariableProcessorState.PROCESSING_REINIT);return a};e.OlapEnvVarAction.createAndRunSetGetValues=function(t,n,r,i){let a=new e.OlapEnvVarAction;a.setupVarActionAndRun(n,t,r,i,e.VariableProcessorState.PROCESSING_UPDATE_VALUES);return a};e.OlapEnvVarAction.createAndRunSubmit=function(t,n,r,i){let a=new e.OlapEnvVarAction;a.setupVarActionAndRun(n,t,r,i,e.VariableProcessorState.PROCESSING_SUBMIT);return a};e.OlapEnvVarAction.createAndRunVariantActivation=function(t,n,r,i,a){let o=new e.OlapEnvVarAction;o.m_activeVariant=a;o.setupVarActionAndRun(n,t,r,i,e.VariableProcessorState.PROCESSING_VARIANT_ACTIVATION);return o};e.OlapEnvVarAction.prototype.m_actionState=null;e.OlapEnvVarAction.prototype.m_activeVariant=null;e.OlapEnvVarAction.prototype.m_affectedVarProcessors=null;e.OlapEnvVarAction.prototype.m_finishedCount=0;e.OlapEnvVarAction.prototype.callListener=function(e,t,n,r){t.onVariableProcessorExecuted(e,n,r)};e.OlapEnvVarAction.prototype.isSuccessfullyProcessed=function(){return this.getSyncState().isInSync()&&this.isValid()};e.OlapEnvVarAction.prototype.onVariableProcessorExecuted=function(e,t,n){this.addAllMessages(e);this.m_finishedCount++;if(this.m_finishedCount>=this.m_affectedVarProcessors.size()){this.endSync()}};e.OlapEnvVarAction.prototype.processSynchronization=function(t){this.setData(this);let n=this.getActionContext();if(this.m_actionState===e.VariableProcessorState.PROCESSING_SUBMIT||this.m_actionState===e.VariableProcessorState.PROCESSING_AUTO_SUBMIT){n.syncVariableValues();this.m_affectedVarProcessors=n.getSelectedVariableProcessors(e.VariableProcessorState.CHANGEABLE_STATEFUL)}else if(this.m_actionState===e.VariableProcessorState.PROCESSING_CANCEL){this.m_affectedVarProcessors=n.getSelectedVariableProcessors(e.VariableProcessorState.CHANGEABLE_STATEFUL)}else if(this.m_actionState===e.VariableProcessorState.PROCESSING_CHECK){n.syncVariableValues();this.m_affectedVarProcessors=n.getSelectedVariableProcessors(e.VariableProcessorState.CHANGEABLE_STATEFUL)}else if(this.m_actionState===e.VariableProcessorState.PROCESSING_UPDATE_VALUES){n.syncVariableValues();this.m_affectedVarProcessors=n.getSelectedVariableProcessors(e.VariableProcessorState.CHANGEABLE_STATEFUL)}else if(this.m_actionState===e.VariableProcessorState.PROCESSING_REINIT){this.m_affectedVarProcessors=n.getSelectedVariableProcessors(e.VariableProcessorState.SUBMITTED)}else if(this.m_actionState===e.VariableProcessorState.PROCESSING_VARIANT_ACTIVATION){this.m_affectedVarProcessors=n.getSelectedVariableProcessors(e.VariableProcessorState.CHANGEABLE_STATEFUL)}if(this.m_affectedVarProcessors.isEmpty()){this.addWarning(e.ErrorCodes.NO_VARIABLE_PROCESSOR_AFFECTED,"No affected variable processor was found.");return false}let r=this.getActiveSyncType();for(let t=0;t<this.m_affectedVarProcessors.size();t++){let n=this.m_affectedVarProcessors.get(t);if(this.m_actionState===e.VariableProcessorState.PROCESSING_SUBMIT){n.submitVariables(r,this,null)}else if(this.m_actionState===e.VariableProcessorState.PROCESSING_CANCEL){n.cancelReInitVariables(r,this,null)}else if(this.m_actionState===e.VariableProcessorState.PROCESSING_CHECK){n.checkVariables(r,this,null)}else if(this.m_actionState===e.VariableProcessorState.PROCESSING_UPDATE_VALUES){n.transferVariables(r,this,null)}else if(this.m_actionState===e.VariableProcessorState.PROCESSING_REINIT){n.reInitVariablesAfterSubmit(r,this,null)}else if(this.m_actionState.isTypeOf(e.VariableProcessorState.PROCESSING_VARIANT_ACTIVATION)){n.activateVariableVariant(this.m_activeVariant.clone(),r,this,null)}}return true};e.OlapEnvVarAction.prototype.releaseObjectInternal=function(){this.m_actionState=null;this.m_affectedVarProcessors=e.XObjectExt.release(this.m_affectedVarProcessors);this.m_activeVariant=null;e.QOlapSyncAction.prototype.releaseObjectInternal.call(this)};e.OlapEnvVarAction.prototype.setupVarActionAndRun=function(t,n,r,i,a){this.m_actionState=a;e.QOlapSyncAction.prototype.setupActionAndRun.call(this,t,r,i,n)};e.OlapFilterManager=function(){};e.OlapFilterManager.prototype=new e.QModelComponent;e.OlapFilterManager.prototype._ff_c="OlapFilterManager";e.OlapFilterManager.TAGGING_STORY_VARIABLES="TAGGING_STORY_VARIABLES";e.OlapFilterManager.TAGGING_VARIABLE_DIALOG_HAS_BEEN_SET="TAGGING_VARIABLE_DIALOG_HAS_BEEN_SET";e.OlapFilterManager.create=function(t){let n=new e.OlapFilterManager;n.setupExt(t);return n};e.OlapFilterManager.prototype.m_capabilities=null;e.OlapFilterManager.prototype.m_externalizeMeasureFilters=null;e.OlapFilterManager.prototype.m_filters=null;e.OlapFilterManager.prototype.m_flattenedComplexFilters=null;e.OlapFilterManager.prototype.m_prunedDimensions=null;e.OlapFilterManager.prototype._externalizeDynamicFilter=function(t,n){if(e.isNull(t)){return}let r=t.getQueryModel();if(e.isNull(r)){return}let i=r.getVariableManager();let a=r.getFilter();let o=a.getDynamicFilter();let l=t.getPreviousVariableProcessorState()!==e.VariableProcessorState.SUBMITTED;if(l&&t.getInitSettings().isExternalizedNonVariableFilter()){this.discardNonVariableFilters(r,i,o)}if(!o.isComplexFilter()&&l){r.queueEventing();let n=a.getExternalizedFilterName();let l=this.getFilterByName(n);let s=e.XHashSetOfString.create();s.addAll(i.getDimensionNamesOfVariablesAffectingDynamicFilterValue());s.addAll(o.getDimensionsUsedInFilter());let u=this._unlinkOrCollectConflictingDimensionsForOverwrittenFilters(a,s,l,e.XString.isEqual(t.getTagging().getByKey(e.OlapFilterManager.TAGGING_STORY_VARIABLES),"true")).getValuesAsReadOnlyList();let p=l.getUniqueId();l.copyFrom(o,null);l.setUniqueId(p);let g=l.getCartesianProductWithDefault();let c;for(c=0;c<u.size();c++){let e=u.get(c);g.removeByDimensionName(e)}if(a.isFlattenHierarchyNodeFiltersFromVariables()){for(c=0;c<g.size();c++){let t=g.getCartesianChild(c);if(e.XStringUtils.isNotNullAndNotEmpty(t.getHierarchyName())){t.setConvertToFlatFilter(true)}}}a.linkFilterExt(n,l,r.getVariableManager().hasDimensionMemberVariableAffectingDynamicFilter(),true);this._removeEmptyCartesianLists(o,l);if(this.isExternalizeMeasureFilters(t)){r.getConvenienceCommands().clearFilters()}else{r.getConvenienceCommands().clearNonMeasureFilters();if(o.isCartesianProduct()&&o.getCartesianProduct().size()===1&&this.m_flattenedComplexFilters.contains(n)){this.m_flattenedComplexFilters.removeElement(n);let t=e.QFactory.createFilterAnd(r);t.add(o.getCartesianProduct().getCartesianChild(0));o.setComplexRoot(t)}let t=o.getDimensionsUsedInFilter().getIterator();while(t.hasNext()){g.removeByDimensionName(t.next())}}let y=r.getVariableManager().getVariablesAffectingDynamicFilter();for(let e=0;e<y.size();e++){let t=y.get(e);t.setWinControlInAutoSubmit(false)}r.resumeEventing()}};e.OlapFilterManager.prototype._getBackProjectionFilter=function(t){let n=t.getBackProjectionFilterIds();if(n.isEmpty()){return null}let r=e.QFactory.createFilterExpression(this,this);let i=r.getCartesianProductWithDefault();let a=t.getExternalizedFilterName();if(this.containsName(a)){let e=this.getFilterByName(a);this._mergeCartesianLists(i,this.getFilterByName(a));r.setUniqueId(e.getUniqueId())}let o=t.getLinkedFilters();let l=o.getKeysAsIterator();while(l.hasNext()){let t=l.next();let r=o.getByKey(t);if(!e.XString.isEqual(t,a)&&n.contains(r.getUniqueId())){this._mergeCartesianLists(i,r)}}return r};e.OlapFilterManager.prototype._mergeCartesianLists=function(t,n){if(e.notNull(n)&&n.isCartesianProduct()){let e=n.getCartesianProduct();let r=e.getIterator();while(r.hasNext()){let e=r.next();let n=t.getCartesianListByDimensionMdWithDefault(e.getFieldMetadata().getDimensionMetadata());n.copyFrom(e,null)}}};e.OlapFilterManager.prototype._removeEmptyCartesianLists=function(t,n){let r=n.getCartesianProductWithDefault();let i=t.getCartesianProductWithDefault();let a=n.getDimensionsUsedInFilter().getIterator();while(a.hasNext()){let t=a.next();let n=i.getCartesianListByDimensionName(t);if(!e.XCollectionUtils.hasElements(n)){r.removeByDimensionName(t)}}};e.OlapFilterManager.prototype._unlinkOrCollectConflictingDimensionsForOverwrittenFilters=function(t,n,r,i){let a=n.getIterator();let o=e.XHashSetOfString.create();let l=t.getBackProjectionFilterIds();while(a.hasNext()){let n=a.next();let s=t.getLinkedFilters();let u=s.getKeysAsIterator();while(u.hasNext()){let a=u.next();let p=s.getByKey(a);let g=p.getCartesianProduct();if(p===r||e.isNull(g)||!l.contains(p.getUniqueId())){continue}if(g.getCartesianListByDimensionName(n)!==null){if(i){o.add(n)}else{t.linkFilterExt(a,null,true,true)}}}}return o};e.OlapFilterManager.prototype.addFilter=function(t){if(e.notNull(t)){let e=t.getUniqueId();this.deleteFilterByName(e);this.m_filters.put(e,t)}};e.OlapFilterManager.prototype.addHierarchyInfo=function(t,n,r,i){if(t.getVariableType().isTypeOf(e.VariableType.HIERARCHY_NODE_VARIABLE)){let e=n.getHierarchyName();if(n.useHierarchyNameVariable()){e=n.getHierarchyNameVariableName()}let t=n.getHierarchyDueDate();if(n.useHierarchyDueDateVariable()){t=null}let a=n.getHierarchyVersion();if(n.useHierarchyVersionVariable()){a=n.getHierarchyVersionVariableName()}r.setHierarchyInfo(e,t,a);if(i){r.setConvertToFlatFilter(true)}}};e.OlapFilterManager.prototype.applyVariablePlaceholderToDimensionRuntimeReferenceFilter=function(t,n,r,i,a,o,l){if(e.notNull(a)&&!o.contains(a.getName())&&(e.isNull(l)||!l.contains(a.getName())||e.XString.isEqual(t.getTagging().getByKey(e.OlapFilterManager.TAGGING_VARIABLE_DIALOG_HAS_BEEN_SET),"true"))){let t=r.getCartesianListWithDefault(a);let o;if(i.getVariableType()===e.VariableType.HIERARCHY_NODE_VARIABLE){o=a.getHierarchyKeyField()}else if(a.isCompound()){o=a.getFirstFieldByType(e.PresentationType.KEY_NOT_COMPOUND)}else{o=a.getFlatKeyField()}t.setFieldMetadata(o.getMetadata());t.clear();let l=t.addNewCartesianElement().getLow();l.setVariableValue(i);i.setWinControlInAutoSubmit(true);this.addHierarchyInfo(i,a,t,n.isFlattenHierarchyNodeFiltersFromVariables())}};e.OlapFilterManager.prototype.cleanupFilterBeforeAutoSubmit=function(t,n){if(e.notNull(t)&&t.getActiveResultSetContainer().getSyncState().isNotInSync()&&t.isExecuteAutoVariableSubmit()&&t.getInitSettings().isExternalizedDynamicFilter()){let n=t.getQueryModel();if(e.isNull(n)){return}let r=t;let i=t.getPreviousVariableProcessorState()!==e.VariableProcessorState.SUBMITTED;let a=r.getVariableProcessorState();let o=a===e.VariableProcessorState.PROCESSING_AUTO_SUBMIT||a===e.VariableProcessorState.PROCESSING_AUTO_SUBMIT_AFTER_REINIT;let l=n.getVariableManager();if(o&&i&&l.hasDimensionMemberVariableAffectingDynamicFilter()){n.queueEventing();let r=n.getFilter();let i=r.getDynamicFilter();let a=r.getExternalizedFilterName();let o=this.getFilterByName(a);let s=e.XHashSetOfString.create();let u=e.XString.isEqual(t.getTagging().getByKey(e.OlapFilterManager.TAGGING_STORY_VARIABLES),"true");let p=l.getDimensionNamesOfVariablesAffectingDynamicFilterValue();let g=r.getDynamicFilter().getDimensionsUsedInFilter();if(u){s.addAll(p)}s.addAll(g);let c=this._unlinkOrCollectConflictingDimensionsForOverwrittenFilters(r,s,o,u).getValuesAsReadOnlyList();this.clearFilterByDimensionNames(t,c,null);this.clearFilterByDimensionNames(t,p,null);let y=this.m_prunedDimensions.getByKey(t.getInstanceId());if(e.notNull(y)){this.clearFilterByDimensionNames(t,y,p)}if(i.isComplexFilter()){this.m_flattenedComplexFilters.add(a);let t=e.QFilterUtil.convertComplexFilterToCartesian(i.getComplexRoot());if(e.notNull(t)){i.setCartesianProduct(t)}}let m=i.getCartesianProduct();if(e.notNull(m)){let n=l.getVariablesAffectingDynamicFilter();for(let i=0;i<n.size();i++){let a=n.get(i);if(!a.isHierarchyInfoVariable()){e.XCollectionUtils.forEach(a.getDimensionsForRuntimeFilterValue(),e=>{this.applyVariablePlaceholderToDimensionRuntimeReferenceFilter(t,r,m,a,e,c,y)})}}}this.m_prunedDimensions.remove(t.getInstanceId());r.linkFilterExt(a,null,n.getVariableManager().hasDimensionMemberVariableAffectingDynamicFilter(),true);n.resumeEventing()}}};e.OlapFilterManager.prototype.clearFilterByDimensionNames=function(t,n,r){let i=t.getConvenienceCommands();let a=n.getIterator();while(a.hasNext()){let t=a.next();if(e.isNull(r)||!r.contains(t)){i.clearFiltersByDimensionName(t)}}};e.OlapFilterManager.prototype.complementCartesianProductFromComplex=function(t,n){if(e.notNull(n)){let r=n.getOlapComponentType();if(r.isTypeOf(e.FilterComponentType.CARTESIAN_LIST)){let e=n;if(t.getCartesianListByDimensionName(e.getDimensionName())===null){let n=t.getCartesianListByDimensionMdWithDefault(e.getFieldMetadata().getDimensionMetadata());n.copyFrom(e,null)}}else if(r.isTypeOf(e.FilterComponentType.AND)){let e=n;for(let n=0;n<e.size();n++){this.complementCartesianProductFromComplex(t,e.get(n))}}}};e.OlapFilterManager.prototype.containsName=function(e){return this.m_filters.containsKey(e)};e.OlapFilterManager.prototype.deleteFilterByName=function(t){let n=this.m_filters.remove(t);if(e.notNull(n)){n.setComplexRoot(null);e.XObjectExt.release(n)}};e.OlapFilterManager.prototype.discardNonVariableFilters=function(t,n,r){let i=r.getCartesianProduct();if(e.isNull(i)){i=e.QFilterUtil.convertComplexFilterToCartesian(r.getComplexRoot())}if(e.notNull(i)){let a=n.getDimensionNamesOfVariablesAffectingDynamicFilterValue();let o=r.getDimensionsUsedInFilter().getIterator();while(o.hasNext()){let n=o.next();let r=i.getCartesianListByDimensionName(n);if(e.notNull(r)&&!a.contains(n)&&(!t.getDimensionByName(n).isMeasureStructure()||this.isExternalizeMeasureFilters(t.getQueryManager()))){i.removeByDimensionName(n)}}r.setCartesianProduct(i)}};e.OlapFilterManager.prototype.externalizeDynamicFilter=function(e){this._externalizeDynamicFilter(e,true)};e.OlapFilterManager.prototype.externalizeDynamicFilterAfterSubmit=function(e,t){this._externalizeDynamicFilter(e,t)};e.OlapFilterManager.prototype.externalizeNonVariableFilter=function(t){if(e.isNull(t)){return}let n=t.getQueryModel();if(e.isNull(n)){return}let r=n.getVariableManager();let i=n.getFilter();let a=i.getDynamicFilter();let o=a.getCartesianProduct();if(e.isNull(o)){o=e.QFilterUtil.convertComplexFilterToCartesian(a.getComplexRoot())}if(e.XCollectionUtils.hasElements(o)){n.queueEventing();let t=i.getExternalizedNonVariableFilterName();let l=this.getFilterByName(t);let s=r.getDimensionNamesOfVariablesAffectingDynamicFilterValue();let u=l.getCartesianProductWithDefault();let p=a.getDimensionsUsedInFilter().getIterator();while(p.hasNext()){let t=p.next();let n=o.getCartesianListByDimensionName(t);if(e.notNull(n)&&!s.contains(t)&&!this.isVariableReferenceInCartesianList(n)){let e=u.getCartesianListByDimensionMdWithDefault(n.getFieldMetadata().getDimensionMetadata());e.copyFrom(n,null);o.removeByDimensionName(t)}}a.setCartesianProduct(o);i.linkFilter(t,l);n.resumeEventing()}};e.OlapFilterManager.prototype.getExternalizeDynamicFilter=function(t){if(e.isNull(t)){return null}return this.getFilterByName(t.getQueryModel().getFilter().getExternalizedFilterName())};e.OlapFilterManager.prototype.getFilterById=function(t){if(e.isNull(t)){return null}let n=this.m_filters.getIterator();while(n.hasNext()){let r=n.next();if(e.XString.isEqual(r.getUniqueId(),t)){return r}}return null};e.OlapFilterManager.prototype.getFilterByName=function(t){if(e.isNull(t)){return null}if(this.m_filters.containsKey(t)){return this.m_filters.getByKey(t)}this.notifyNodeChanged();let n=e.QFilterExpression.create(this,this);this.m_filters.put(t,n);return n};e.OlapFilterManager.prototype.getFilters=function(){return this.m_filters};e.OlapFilterManager.prototype.getModelCapabilities=function(){return this.m_capabilities};e.OlapFilterManager.prototype.getNonVariableDrivenFilters=function(t){if(e.isNull(t)){return null}else if(t.getInitSettings().isExternalizedNonVariableFilter()){return this.getFilterByName(t.getQueryModel().getFilter().getExternalizedNonVariableFilterName()).getCartesianProduct()}else{e.noSupport()}};e.OlapFilterManager.prototype.getOlapComponentType=function(){return e.OlapComponentType.OLAP_FILTER_MANAGER};e.OlapFilterManager.prototype.getVariableDrivenFilters=function(t){if(e.isNull(t)){return null}else if(t.getInitSettings().isExternalizedNonVariableFilter()){return t.getInitSettings().isExternalizedDynamicFilter()&&t.isSubmitted()?this.getFilterByName(t.getQueryModel().getFilter().getExternalizedFilterName()).getCartesianProduct():t.getQueryModel().getFilter().getDynamicFilter().getCartesianProduct()}else{e.noSupport()}};e.OlapFilterManager.prototype.isExternalizeMeasureFilters=function(e){return this.m_externalizeMeasureFilters.contains(e.getInstanceId())};e.OlapFilterManager.prototype.isVariableReferenceInCartesianList=function(t){return e.XStream.of(t).anyMatch(t=>{let n=t;return e.notNull(n)&&n.getLow()!==null&&n.getLow().getValueType().isTypeOf(e.XValueType.VARIABLE)})};e.OlapFilterManager.prototype.projectExternalizedFilter=function(t){if(e.isNull(t)){return}let n=t.getQueryModel();if(e.isNull(n)){return}if(n.getVariableManager().hasDimensionMemberVariableAffectingDynamicFilter()){t.queueEventing();let r=n.getFilter();let i=r.getDynamicFilter();let a=this._getBackProjectionFilter(r);if(e.notNull(a)){if(this.isExternalizeMeasureFilters(t)){n.getConvenienceCommands().clearFilters();i.copyFrom(a,null)}else{n.getConvenienceCommands().clearNonMeasureFilters();if(i.isComplexFilter()){this.m_flattenedComplexFilters.add(r.getExternalizedFilterName())}let e=i.getFilterRootElement();i.copyFrom(a,null);this.complementCartesianProductFromComplex(i.getCartesianProductWithDefault(),e)}}n.resumeEventing()}};e.OlapFilterManager.prototype.pruneDimensionNamesForDynamicFilter=function(t,n){if(e.notNull(t)&&t.getQueryModel()!==null&&t.getQueryModel().getVariableManager().hasDimensionMemberVariableAffectingDynamicFilter()){if(!e.XString.isEqual(t.getTagging().getByKey(e.OlapFilterManager.TAGGING_VARIABLE_DIALOG_HAS_BEEN_SET),"true")){this.pruneDimensionNamesInternal(t,n)}}};e.OlapFilterManager.prototype.pruneDimensionNamesInternal=function(t,n){let r=t.getQueryModel().getFilter();let i=r.getExternalizedFilterName();let a=this.getFilterByName(i);if(e.notNull(n)&&e.notNull(a)){let t=n.getIterator();while(t.hasNext()){e.QFilterUtil.clearSelectionsInContainerByDimension(t.next(),a)}}if(t.getVariableProcessorState().isTypeOf(e.VariableProcessorState.SUBMITTED)){if(this.isExternalizeMeasureFilters(t)){t.getConvenienceCommands().clearFilters()}else{t.getConvenienceCommands().clearNonMeasureFilters()}}else if(e.notNull(n)&&t.isExecuteAutoVariableSubmit()){let r=this.m_prunedDimensions.getByKey(t.getInstanceId());if(e.notNull(r)){let i=e.XList.create();i.addAll(r);i.addAll(n);this.m_prunedDimensions.put(t.getInstanceId(),i)}else{this.m_prunedDimensions.put(t.getInstanceId(),n.getValuesAsReadOnlyList())}}};e.OlapFilterManager.prototype.pruneExternalizedDynamicFilter=function(t){if(e.notNull(t)&&t.getQueryModel()!==null&&t.getVariableProcessorState().isTypeOf(e.VariableProcessorState.SUBMITTED)&&t.getQueryModel().getVariableManager().hasDimensionMemberVariableAffectingDynamicFilter()){let n=t.getQueryModel();let r=n.getFilter();let i=r.getDynamicFilter();let a=r.getExternalizedFilterName();let o=this.getFilterByName(a);if(e.notNull(o)){if(!e.XString.isEqual(t.getTagging().getByKey(e.OlapFilterManager.TAGGING_VARIABLE_DIALOG_HAS_BEEN_SET),"true")){let e=i.getDimensionsUsedInFilter();let t=o.getDimensionsUsedInFilter().getIterator();let l=o.getCartesianProduct();while(t.hasNext()){let n=t.next();if(!e.contains(n)){l.removeByDimensionName(n)}}r.linkFilterExt(a,o,n.getVariableManager().hasDimensionMemberVariableAffectingDynamicFilter(),true)}if(this.isExternalizeMeasureFilters(t)){n.getConvenienceCommands().clearFilters()}else{n.getConvenienceCommands().clearNonMeasureFilters()}}}};e.OlapFilterManager.prototype.pruneNonVariableFilters=function(t){if(e.notNull(t)&&t.getQueryModel()!==null){let n=t.getQueryModel();let r=n.getFilter().getDynamicFilter();let i=n.getVariableManager();if(e.notNull(r)){let a=e.XHashSetOfString.create();a.addAll(r.getDimensionsUsedInFilter());let o=n.getFilter().getExternalizedFilterName();let l=this.getFilterByName(o);if(e.notNull(l)){a.addAll(l.getDimensionsUsedInFilter())}let s=i.getDimensionNamesOfVariablesAffectingDynamicFilterValue().getIterator();while(s.hasNext()){let e=s.next();if(a.contains(e)){a.removeElement(e)}}let u=n.getMeasureDimension().getName();if(a.contains(u)){a.removeElement(u)}if(e.XCollectionUtils.hasElements(a)){this.pruneDimensionNamesInternal(t,a)}}}};e.OlapFilterManager.prototype.releaseExternalizedFilter=function(t){if(e.isNull(t)){return}let n=t.getQueryModel();if(e.isNull(n)){return}let r=n.getFilter();if(e.isNull(r)){return}this.deleteFilterByName(r.getExternalizedFilterName());this.deleteFilterByName(r.getExternalizedNonVariableFilterName())};e.OlapFilterManager.prototype.releaseObject=function(){this.m_filters=e.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_filters);e.QModelComponent.prototype.releaseObject.call(this)};e.OlapFilterManager.prototype.setExternalizeMeasureFilters=function(e,t){if(t){this.m_externalizeMeasureFilters.add(e.getInstanceId())}else{this.m_externalizeMeasureFilters.removeElement(e.getInstanceId())}};e.OlapFilterManager.prototype.setModCounter=function(e){this.updateModCounter(e)};e.OlapFilterManager.prototype.setupExt=function(t){this.setupModelComponentWithName(t,null,"FilterManager");this.m_filters=e.XHashMapByString.create();this.m_prunedDimensions=e.XHashMapByString.create();this.m_externalizeMeasureFilters=e.XHashSetOfString.create();this.m_flattenedComplexFilters=e.XHashSetOfString.create();this.m_capabilities=e.QCapabilities.create();this.m_capabilities.setSupportsVisibilityFilter(true);this.m_capabilities.setSupportsComplexFilter(true);this.m_capabilities.setSupportsCellValueOperand(true);this.m_capabilities.setSupportsIntersectLayers(true);this.m_capabilities.setSupportsHierarchyLevelOffsetFilter(true);this.m_capabilities.setSupportsHierarchyTrapezoidFilter(true);this.m_capabilities.setSupportsTuplesOperand(true);this.m_capabilities.setSupportsComplexTupleFilter(true);this.m_capabilities.setSupportsFilterCapabilityExtended(true);this.m_capabilities.setSupportsCalculatedDimensions(true);this.m_capabilities.setSupportsFormulaMeasures(true);this.m_capabilities.setSupportsDynamicVariableRefresh(true)};e.QGeoManager=function(){};e.QGeoManager.prototype=new e.QModelComponent;e.QGeoManager.prototype._ff_c="QGeoManager";e.QGeoManager.CHOROPLETH_DRILLPATH_IDENTIFIER="drillpath:";e.QGeoManager.CHOROPLETH_HIERARCHIES_IDENTIFIER="hierarchy:";e.QGeoManager.CHOROPLETH_TABLE_PREFIX="table:[";e.QGeoManager.EXTENDED_DIMENSION_NAME_EXT="_extDim_";e.QGeoManager.EXTENDED_DIMENSION_NAME_HIERARCHY="_H";e.QGeoManager.EXTENDED_DIMENSION_NAME_LEVEL="_L";e.QGeoManager.EXTENDED_DIMENSION_NAME_PREFIX="_E";e.QGeoManager.GEO_DIMENSION_NAME_PREFIX="_D";e.QGeoManager.create=function(t){let n=new e.QGeoManager;n.setupGeoManager(t);return n};e.QGeoManager.prototype.m_choroplethDrillPaths=null;e.QGeoManager.prototype.m_choroplethHierarchies=null;e.QGeoManager.prototype.m_choroplethIntermediateDrillPaths=null;e.QGeoManager.prototype.m_drillPathTableKeyToLevelKeys=null;e.QGeoManager.prototype.m_drillPoints=null;e.QGeoManager.prototype.m_joinFieldNames=null;e.QGeoManager.prototype.m_levelInfos=null;e.QGeoManager.prototype.m_levelKeys=null;e.QGeoManager.prototype.m_listenerIdentifiers=null;e.QGeoManager.prototype.m_queryManagers=null;e.QGeoManager.prototype.m_sharedQueryManagers=null;e.QGeoManager.prototype.m_shouldUseSynonyms=null;e.QGeoManager.prototype.m_syncTypes=null;e.QGeoManager.prototype.m_systemNames=null;e.QGeoManager.prototype.m_useAreaJoins=null;e.QGeoManager.prototype._getSystemName=function(t){let n=t;if(e.isNull(n)){n=this.getApplication().getSystemLandscape().getMasterSystemName()}return n};e.QGeoManager.prototype._loadChoroplethHierarchies=function(t,n,r,i,a,o){let l=r;let s=this.getApplication().getSystemLandscape().getMasterSystemName();if(e.isNull(l)){l=s}let u=this.isMasterSystemName(l);let p=this.getChoroplethHierarchiesBySystemName(l);if(e.isNull(p)){let r=null;if(i&&!u||a&&u){let t=this.getApplication().getConnectionPool().getSystemConnect(l);let n=t.getServerMetadata();if(e.notNull(n)&&n.supportsCapability(e.ServerService.ANALYTIC,e.InACapabilities.C177_DATA_ENTRY_ON_UNBOOKED)){r=e.XBooleanValue.create(true)}}if(t===e.SyncType.BLOCKING){this.processQueryManagerCreationForChoroplethHierarchies(l,t,r,null,null);p=this.getChoroplethHierarchiesBySystemName(l);if(p.hasErrors()&&!u){this.processQueryManagerCreationForChoroplethHierarchies(s,t,null,null,null);p=this.getChoroplethHierarchiesBySystemName(s)}}else{let a=e.XStringUtils.concatenate3(e.QGeoManager.CHOROPLETH_HIERARCHIES_IDENTIFIER,l,e.XBoolean.convertToString(!u&&i));let s=this.m_listenerIdentifiers.getByKey(a);if(e.notNull(s)){s.add(e.XPair.create(n,o))}else{s=e.XList.create();s.add(e.XPair.create(n,o));this.m_listenerIdentifiers.put(a,s);this.m_syncTypes.put(a,t);this.m_systemNames.put(a,l);this.m_shouldUseSynonyms.put(a,r);this.processQueryManagerCreationForChoroplethHierarchies(l,t,r,this,e.XStringValue.create(a))}}}if(e.notNull(p)){if(p.hasErrors()&&!u&&t!==e.SyncType.BLOCKING){this.loadChoroplethHierarchiesExt(t,n,s,false,false,o)}else if(e.notNull(n)){n.onChoroplethHierarchiesLoaded(p,p.getData(),o)}}return p};e.QGeoManager.prototype.clearCache=function(){this.m_choroplethHierarchies=e.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_choroplethHierarchies);this.m_choroplethDrillPaths=e.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_choroplethDrillPaths);this.m_sharedQueryManagers=e.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_sharedQueryManagers);this.m_choroplethIntermediateDrillPaths=e.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_choroplethIntermediateDrillPaths);this.m_listenerIdentifiers=e.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_listenerIdentifiers);this.m_syncTypes=e.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_syncTypes);this.m_queryManagers=e.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_queryManagers);this.m_systemNames=e.XObjectExt.release(this.m_systemNames);this.m_shouldUseSynonyms=e.XObjectExt.release(this.m_shouldUseSynonyms);this.m_levelKeys=e.XObjectExt.release(this.m_levelKeys);this.m_levelInfos=e.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_levelInfos);this.m_drillPoints=e.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_drillPoints);this.m_drillPathTableKeyToLevelKeys=e.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_drillPathTableKeyToLevelKeys);this.m_joinFieldNames=e.XObjectExt.release(this.m_joinFieldNames);this.m_useAreaJoins=e.XObjectExt.release(this.m_useAreaJoins)};e.QGeoManager.prototype.getAgileAreaFieldName=function(t,n,r,i){let a=null;let o=r.getQueryModel();let l=o.getDimensionByName(n);let s=e.XInteger.convertFromString(i);if(e.notNull(l)&&s>=1&&s<=e.QGeoConstants.AGILE_AREA_SEMANTIC_TYPES.size()){let n=this.getAgileAreaFieldWithSemanticType(l);if(e.notNull(n)){let l=n.getName();let u=e.QGeoConstants.AGILE_AREA_SEMANTIC_TYPES.get(s-1);let p=n.getSemanticType();if(e.notNull(p)&&e.XString.isEqual(p,u)){a=l}else{let n=o.getDimensionByName(l);if(e.notNull(n)){let l=n.getGroupingDimensionNames();if(e.notNull(l)){let n=null;let u=e.XBooleanValue.create(true);for(let g=0;g<l.size();g++){let c=l.get(g);let y=o.getDimensionByName(c);if(e.notNull(y)&&y.supportsHierarchy()&&y.getNumberOfHierarchies()>0&&y.getLeveledHierarchies().size()>0){n=this.getJoinFieldKeyByDimensionNameLevelId(t,r,c,i,false,null);a=this.m_joinFieldNames.getByKey(n);if(e.notNull(a)){break}else{let i=0;let o=y.getFields();for(let l=0;l<o.size();l++){let g=o.getFieldAt(l);p=g.getSemanticType();if(e.notNull(p)){let o=e.QGeoConstants.AGILE_AREA_SEMANTIC_TYPES.getIndex(p);if(o>=0){n=this.getJoinFieldKeyByDimensionNameLevelId(t,r,c,e.XInteger.convertToString(o+1),false,null);if(this.m_joinFieldNames.getByKey(n)===null){this.m_joinFieldNames.put(n,g.getName());this.m_useAreaJoins.put(n,u)}if(o+1===s){a=g.getName()}++i;if(i===e.QGeoConstants.AGILE_AREA_SEMANTIC_TYPES.size()){break}}}}if(i===e.QGeoConstants.AGILE_AREA_SEMANTIC_TYPES.size()){break}}}}}}}}}return a};e.QGeoManager.prototype.getAgileAreaFieldWithSemanticType=function(t){let n=null;if(e.notNull(t)){let r=t.getFields();for(let t=0;t<r.size();t++){let i=r.getFieldAt(t);let a=i.getSemanticType();if(e.notNull(a)&&e.QGeoConstants.AGILE_AREA_SEMANTIC_TYPES.contains(a)){n=i;break}}}return n};e.QGeoManager.prototype.getAreaEnrichedExtendedDimensionNamePrefix=function(t){let n=t.getJoinField();let r=e.XString.indexOf(n,".");if(r>0){n=e.XString.substring(n,0,r)}n=e.XStringUtils.concatenate3("_",n,"_");let i=t.getName();let a=null;r=e.XString.indexOf(i,n);if(r>=0){a=e.XString.substring(i,0,r+e.XString.size(n))}return a};e.QGeoManager.prototype.getAreaEnrichedPrefixLevelIndex=function(t){let n=-1;if(t.getValueType().isSpatial()){let r=e.XString.toUpperCase(t.getName());for(let t=0;t<e.QGeoConstants.AREA_ENRICHED_PREFIXES.size();t++){if(e.XString.startsWith(r,e.QGeoConstants.AREA_ENRICHED_PREFIXES.get(t))){n=t;break}}}return n};e.QGeoManager.prototype.getAreaIdFieldNameAndLevelIndex=function(t,n,r){let i=null;if(e.notNull(r)&&r.getLocationType()===e.LocationType.AREA){let a=r.getName();let o=n.getQueryModel().getDimensionByName(a);if(e.notNull(o)){let l=e.XBooleanValue.create(true);let s=o.getFields();let u=-1;let p=null;for(let o=0;o<s.size();o++){let g=s.getFieldAt(o);let c=this.getAreaEnrichedPrefixLevelIndex(g);if(c>=0){u=c}let y=g.getName();if(e.XString.startsWith(e.XString.toUpperCase(y),e.QGeoConstants.CHOROPLETH_METADATA_AREA_ID)){p=y}if(u>=0&&e.notNull(p)){let o=this.getJoinFieldKeyByDimensionNameLevelId(t,n,a,e.XInteger.convertToString(u+1),false,null);if(this.m_joinFieldNames.getByKey(o)===null){this.m_joinFieldNames.put(o,p);this.m_useAreaJoins.put(o,l)}let s=this.getAreaEnrichedExtendedDimensionNamePrefix(r);if(e.notNull(s)){o=this.getJoinFieldKeyByDimensionNameLevelId(t,n,s,e.XInteger.convertToString(u+1),true,null);if(this.m_joinFieldNames.getByKey(o)===null){this.m_joinFieldNames.put(o,p);this.m_useAreaJoins.put(o,l)}}i=e.XKeyValuePair.create();i.setKeyValue(e.XIntegerValue.create(u),e.XStringValue.create(p));break}}}}return i};e.QGeoManager.prototype.getAreaJoinFieldName=function(t,n,r,i,a){let o=null;if(e.notNull(a)){return o}let l=r.getQueryModel().getExtendedDimensions();let s=e.XInteger.convertFromString(i);if(e.notNull(l)&&s>=1&&s<=e.QGeoConstants.AREA_ENRICHED_PREFIXES.size()){let a=this.getExtendedDimensionByName(l,n);if(e.notNull(a)&&a.getLocationType()===e.LocationType.AREA){let u=this.getAreaEnrichedExtendedDimensionNamePrefix(a);if(e.notNull(u)){let e=this.getJoinFieldKeyByDimensionNameLevelId(t,r,u,i,true,null);o=this.m_joinFieldNames.getByKey(e)}let p=null;let g=-1;let c=null;if(e.isNull(o)){p=this.getAreaIdFieldNameAndLevelIndex(t,r,a);if(e.notNull(p)){g=e.XInteger.convertFromString(p.getKey().toString());c=p.getValue().toString();if(g+1===s&&e.notNull(c)){o=c}e.XObjectExt.release(p)}}if(e.notNull(u)&&e.isNull(o)){for(let i=0;i<l.size();i++){a=l.get(i);if(!e.XString.isEqual(a.getName(),n)){p=this.getAreaIdFieldNameAndLevelIndex(t,r,a);if(e.notNull(p)){g=e.XInteger.convertFromString(p.getKey().toString());c=p.getValue().toString();if(g>=0&&e.notNull(c)){let t=this.getAreaEnrichedExtendedDimensionNamePrefix(a);if(g+1===s&&e.notNull(t)&&e.XString.isEqual(t,u)){o=c}}e.XObjectExt.release(p)}}}}}}return o};e.QGeoManager.prototype.getChoroplethDrillPath=function(t,n,r,i,a,o,l,s){let u=null;let p=null;if(e.isNull(i)||e.isNull(a)||a.isEmpty()){p=e.XMessage.createErrorWithCode(e.OriginLayer.UTILITY,e.ErrorCodes.CHOROPLETH_DRILL_PATH_INVALID_PARAMETERS,"HierarchyId and levelIds can not be null",null,false,null);u=e.ExtResult.createWithMessage(p)}else{let g=this._getSystemName(r);let c=e.XList.createWithList(a);c.sortByDirection(e.XSortDirection.ASCENDING);let y=e.XPointValue.createWithPosition(o,l);y.setSrid(e.XIntegerValue.create(e.QGeoConstants.SPATIAL_REFERENCE_WGS_1984_WEB_MERCATOR_AUXILIARY_SPHERE));let m=e.XStringUtils.concatenate5(e.QGeoManager.CHOROPLETH_DRILLPATH_IDENTIFIER,g,i,c.toString(),y.toString());u=this.m_choroplethDrillPaths.getByKey(m);if(e.isNull(u)){let r=e.XList.create();let a=e.XHashMapByString.create();for(let t=0;t<c.size();t++){let n=c.get(t);let o=this.getChoroplethHierarchyLevel(g,i,n);if(e.isNull(o)){p=e.XMessage.createErrorWithCode(e.OriginLayer.UTILITY,e.ErrorCodes.CHOROPLETH_DRILL_PATH_CHOROPLETH_HIERARCHIES_NOT_LOADED,"Choropleth hierarchy levels are either not loaded or not valid",null,false,null);u=e.ExtResult.createWithMessage(p);break}let l=e.XStringUtils.concatenate5(m,o.getSchemaName(),o.getPackageName(),o.getObjectName(),o.getLocation());let s=a.getByKey(l);if(e.isNull(s)){r.add(l);a.put(l,e.XList.create());s=a.getByKey(l)}s.add(o)}if(e.isNull(u)){if(t===e.SyncType.BLOCKING){this.processQueryManagerCreationForChoroplethDrillPath(g,t,r,a,y,m);u=this.processIntermediateDrillPaths(m)}else{let i=this.m_listenerIdentifiers.getByKey(m);if(e.notNull(i)){i.add(e.XPair.create(n,s))}else{i=e.XList.create();i.add(e.XPair.create(n,s));this.m_listenerIdentifiers.put(m,i);this.processQueryManagerCreationForChoroplethDrillPath(g,t,r,a,y,m)}}}}}if(e.notNull(u)&&e.notNull(n)){n.onChoroplethDrillPathsLoaded(u,u.getData(),s)}return u};e.QGeoManager.prototype.getChoroplethDrillPathTableName=function(t){let n=t.get(0);let r=e.XStringUtils.concatenate5(e.QGeoManager.CHOROPLETH_TABLE_PREFIX,n.getSchemaName(),"][",n.getPackageName(),"][");r=e.XStringUtils.concatenate3(r,n.getObjectName(),"]");return r};e.QGeoManager.prototype.getChoroplethExtendedDimension=function(t,n,r,i,a,o){let l=this.getChoroplethHierarchyLevel(t,n,r);if(e.isNull(l)){throw e.XException.createRuntimeException("Fail to get choropleth hierarchy level")}if(e.isNull(i)||e.isNull(a)){throw e.XException.createRuntimeException("Pass in invalid geo dimension name or parent query manager")}let s=this._getSystemName(t);let u=this.getJoinFieldKeyByDimensionNameLevelId(s,a,i,r,false,o);let p=this.m_joinFieldNames.getByKey(u);let g=this.m_useAreaJoins.getByKey(u);if(e.isNull(p)){p=this.getAreaJoinFieldName(s,i,a,r,o);if(e.isNull(p)){p=this.getAgileAreaFieldName(s,i,a,r);if(e.isNull(p)){p=this.getUniversalAreaFieldName(s,i,a,r,o)}}g=e.XBooleanValue.create(e.notNull(p));if(e.isNull(p)){p=this.getJoinFieldName(i,a,false)}if(e.isNull(p)){throw e.XException.createRuntimeException("Fail to get join field")}if(this.m_joinFieldNames.getByKey(u)===null){this.m_joinFieldNames.put(u,p);this.m_useAreaJoins.put(u,g)}}let c=e.QFactory.createDataSource();c.setSchemaName(l.getSchemaName());if(e.XStringUtils.isNotNullAndNotEmpty(l.getPackageName())){c.setPackageName(l.getPackageName())}c.setObjectName(l.getObjectName());c.setType(e.MetaObjectType.DBVIEW);let y=this.getExtendedDimensionName(n,l,i,a);let m=e.QExtendedDimension.create(y,p,g.getBoolean()?e.QGeoConstants.CHOROPLETH_METADATA_AREA_ID:l.getLocation());m.setDataSource(c);let d=g.getBoolean()?e.JoinType.INNER:e.JoinType.CONTAINS;m.setJoinType(d);if(d===e.JoinType.INNER){let t=this.getApplication().getConnectionPool().getSystemConnect(s);let n=t.getServerMetadata();if(e.notNull(n)&&n.supportsCapability(e.ServerService.ANALYTIC,e.InACapabilities.C143_EXTENDED_DIMENSIONS_JOIN_CARDINALITY)){m.setJoinCardinality(e.JoinCardinality.N_ONE)}}m.setVisibility(e.DimensionVisibility.METADATA);return m};e.QGeoManager.prototype.getChoroplethHierarchiesBySystemName=function(e){return this.m_choroplethHierarchies.getByKey(e)};e.QGeoManager.prototype.getChoroplethHierarchyLevel=function(t,n,r){let i=this._getSystemName(t);let a=this.getChoroplethHierarchiesBySystemName(i);if(e.notNull(a)&&!a.hasErrors()){let t=a.getData();if(e.notNull(t)){let i=t.getByKey(n);if(e.notNull(i)){let e=i.getLevelById(r);return e}}}else{if(!this.isMasterSystemName(i)){return this.getChoroplethHierarchyLevel(this.getApplication().getSystemLandscape().getMasterSystemName(),n,r)}}return null};e.QGeoManager.prototype.getChoroplethHierarchyTableName=function(t,n){let r=e.XStringBuffer.create();let i=this.isMasterSystemName(t);if(!i){r.append(t).append("//")}r.append(e.QGeoManager.CHOROPLETH_TABLE_PREFIX);if(e.notNull(n)&&n.getBoolean()){r.append(e.QGeoConstants.CHOROPLETH_HIERARCHY_SYNONYM_SCHEMANAME).append("][").append(e.QGeoConstants.CHOROPLETH_HIERARCHY_SYNONYM_PACKAGENAME).append("][").append(e.QGeoConstants.CHOROPLETH_HIERARCHY_SYNONYM_OBJECTNAME)}else{r.append(e.QGeoConstants.CHOROPLETH_HIERARCHY_SCHEMANAME).append("][");if(i){let n=this.getApplication().getSystemLandscape().getSystemDescription(t);let i=n.getTenantRootPackage();if(e.XStringUtils.isNotNullAndNotEmpty(i)){r.append(i).append(".")}}r.append(e.QGeoConstants.CHOROPLETH_HIERARCHY_PACKAGENAME).append("][").append(e.QGeoConstants.CHOROPLETH_HIERARCHY_OBJECTNAME)}r.append("]");return r.toString()};e.QGeoManager.prototype.getColumnDimensionName=function(t){let n=t.getColumns();for(let t=0;t<n.size();t++){let r=n.get(t);if(e.XString.isEqual(r.getText(),e.QGeoConstants.CHOROPLETH_LEVEL_COLUMN_LABEL_NAME)){return r.getName()}}return null};e.QGeoManager.prototype.getExtendedDimensionByName=function(t,n){let r=null;for(let i=0;i<t.size();i++){r=t.get(i);if(e.XString.isEqual(r.getName(),n)){break}}return r};e.QGeoManager.prototype.getExtendedDimensionName=function(t,n,r,i){let a=e.XStringBuffer.create().append(r).append(e.QGeoManager.EXTENDED_DIMENSION_NAME_EXT).append(n.getLevelName()).append(e.QGeoManager.EXTENDED_DIMENSION_NAME_HIERARCHY).append(t).append(e.QGeoManager.EXTENDED_DIMENSION_NAME_LEVEL).append(n.getLevelId());let o=i.getQueryModel();let l=a.toString();let s=o.getDimensionByName(l);if(e.notNull(s)){let t=e.XStringUtils.concatenate2(l,"_");let n=1;while(e.notNull(s)){l=e.XStringUtils.concatenateWithInt(t,n++);s=o.getDimensionByName(l)}}return l};e.QGeoManager.prototype.getJoinFieldKeyByDimensionNameLevelId=function(t,n,r,i,a,o){let l=n.getQueryModel().getDatasetId();let s=a?e.QGeoManager.EXTENDED_DIMENSION_NAME_PREFIX:e.QGeoManager.GEO_DIMENSION_NAME_PREFIX;return e.XStringUtils.concatenate2(e.XStringUtils.concatenate5(t,l,s,r,i),o)};e.QGeoManager.prototype.getJoinFieldName=function(t,n,r){let i=null;let a=n.getQueryModel().getDimensionByName(t);if(e.notNull(a)){let t=a.getFields();for(let n=0;n<t.size();n++){let a=t.getFieldAt(n);let o=a.getValueType();if(o.isSpatial()){if(o===e.XValueType.POINT){i=a.getName();if(r){break}}else if(!r){i=a.getName();break}}}}return i};e.QGeoManager.prototype.getOlapComponentType=function(){return e.OlapComponentType.GEO_MANAGER};e.QGeoManager.prototype.getUniversalAreaFieldName=function(t,n,r,i,a){let o=null;let l=r.getQueryModel().getDimensionByName(n);let s=e.XInteger.convertFromString(i);if(e.notNull(l)&&s>=1&&s<=e.QGeoConstants.UNIVERSAL_AREA_SEMANTIC_TYPES.size()){let i=0;let u=e.XBooleanValue.create(true);let p=l.getFields();let g=p.getFieldByName(a);if(e.notNull(g)){let t=g.getSemanticType();if(e.notNull(t)){let n=e.XString.indexOf(t,e.QGeoConstants.UNIVERSAL_AREA_SHAPE_SEMANTIC_TYPE);if(n<0){return o}}}for(let l=0;l<p.size();l++){let g=p.getFieldAt(l);let c=g.getSemanticType();if(e.notNull(c)){let l=e.QGeoConstants.UNIVERSAL_AREA_SEMANTIC_TYPES.getIndex(c);if(l>=0){let p=g.getName();let c=this.getJoinFieldKeyByDimensionNameLevelId(t,r,n,e.XInteger.convertToString(l+1),false,a);if(this.m_joinFieldNames.getByKey(c)===null){this.m_joinFieldNames.put(c,p);this.m_useAreaJoins.put(c,u)}if(l+1===s){o=p}++i;if(i===e.QGeoConstants.UNIVERSAL_AREA_SEMANTIC_TYPES.size()){break}}}}}return o};e.QGeoManager.prototype.handleErrorsForChoroplethHierarchies=function(t,n,r,i,a){if(e.notNull(t)&&!t.isValid()||e.notNull(n)){let o;if(e.notNull(t)){o=e.ExtResult.createWithExternalMessages(null,t)}else{o=e.ExtResult.createWithMessage(n)}this.m_choroplethHierarchies.put(r,o);if(i!==e.SyncType.BLOCKING){this.processChoroplethHiearachiesResult(a)}}};e.QGeoManager.prototype.initialize=function(){this.m_choroplethHierarchies=e.XHashMapByString.create();this.m_choroplethDrillPaths=e.XHashMapByString.create();this.m_sharedQueryManagers=e.XHashMapByString.create();this.m_choroplethIntermediateDrillPaths=e.XHashMapByString.create();this.m_listenerIdentifiers=e.XHashMapByString.create();this.m_syncTypes=e.XHashMapByString.create();this.m_queryManagers=e.XHashMapByString.create();this.m_systemNames=e.XHashMapByString.create();this.m_shouldUseSynonyms=e.XHashMapByString.create();this.m_levelKeys=e.XHashMapByString.create();this.m_levelInfos=e.XHashMapByString.create();this.m_drillPoints=e.XHashMapByString.create();this.m_drillPathTableKeyToLevelKeys=e.XHashMapByString.create();this.m_joinFieldNames=e.XHashMapByString.create();this.m_useAreaJoins=e.XHashMapByString.create()};e.QGeoManager.prototype.isForChoroplethDrillPath=function(t){return e.XString.startsWith(t,e.QGeoManager.CHOROPLETH_DRILLPATH_IDENTIFIER)};e.QGeoManager.prototype.isForChoroplethHierarchies=function(t){return e.XString.startsWith(t,e.QGeoManager.CHOROPLETH_HIERARCHIES_IDENTIFIER)};e.QGeoManager.prototype.isMasterSystemName=function(t){return e.XString.isEqual(t,this.getApplication().getSystemLandscape().getMasterSystemName())};e.QGeoManager.prototype.loadChoroplethHierarchies=function(e,t,n,r,i){return this._loadChoroplethHierarchies(e,t,n,r,false,i)};e.QGeoManager.prototype.loadChoroplethHierarchiesExt=function(e,t,n,r,i,a){return this._loadChoroplethHierarchies(e,t,n,r,i,a)};e.QGeoManager.prototype.onQueryExecuted=function(t,n,r){if(e.isNull(r)){throw e.XException.createRuntimeException("Identifier can not be null")}let i=r;let a=i.getString();let o=this.m_syncTypes.getByKey(a);if(this.isForChoroplethHierarchies(a)){let e=this.m_systemNames.getByKey(a);let i=this.m_shouldUseSynonyms.getByKey(a);this.processResultSetForChoroplethHierarchies(t,n,o,e,i,r)}else if(this.isForChoroplethDrillPath(a)){let e=a;a=this.m_levelKeys.getByKey(e);let r=this.m_levelInfos.getByKey(e);this.processResultSetForChoroplethDrillPath(t,n,o,r,e,a)}};e.QGeoManager.prototype.onQueryManagerCreated=function(t,n,r){if(e.isNull(r)){throw e.XException.createRuntimeException("Identifier can not be null")}let i=r;let a=i.getString();let o=this.m_syncTypes.getByKey(a);if(this.isForChoroplethHierarchies(a)){this.m_queryManagers.put(a,n);let e=this.m_systemNames.getByKey(a);let i=this.m_shouldUseSynonyms.getByKey(a);this.processQueryExecutionForChoroplethHierarchies(t,n,e,o,i,this,r)}else if(this.isForChoroplethDrillPath(a)){let r=a;this.m_sharedQueryManagers.put(r,t);let i=this.m_drillPathTableKeyToLevelKeys.remove(r);for(let r=0;r<i.size();r++){let l=i.get(r);a=this.m_levelKeys.getByKey(l);let s=this.m_levelInfos.getByKey(l);let u=this.m_drillPoints.getByKey(l);this.processQueryExecutionForChoroplethDrillPath(t,n,o,s,u,a,this,e.XStringValue.create(l))}}};e.QGeoManager.prototype.processChoroplethHiearachiesResult=function(t){let n=t;let r=n.getString();let i=this.m_systemNames.remove(r);let a=this.m_syncTypes.remove(r);this.m_shouldUseSynonyms.remove(r);let o=this.m_queryManagers.remove(r);if(e.notNull(o)){e.XObjectExt.release(o)}let l=this.m_listenerIdentifiers.remove(r);let s=this.getChoroplethHierarchiesBySystemName(i);for(let t=0;t<l.size();t++){let n=l.get(t);let r=n.getFirstObject();let o=n.getSecondObject();if(!s.isValid()&&!this.isMasterSystemName(i)){this.loadChoroplethHierarchiesExt(a,r,this.getApplication().getSystemLandscape().getMasterSystemName(),false,false,o)}else if(e.notNull(r)){r.onChoroplethHierarchiesLoaded(s,s.getData(),o)}}};e.QGeoManager.prototype.processIntermediateDrillPaths=function(t){let n=this.m_choroplethIntermediateDrillPaths.remove(t);let r=null;if(e.isNull(n)){let t=e.XMessage.createErrorWithCode(e.OriginLayer.UTILITY,e.ErrorCodes.FAILED_TO_GET_CHOROPLETH_DRILL_PATH,"Failed to choropleth drill path",null,false,null);r=e.ExtResult.createWithMessage(t)}else{let t=e.XList.create();let i=e.MessageManagerSimple.createMessageManager();let a=n.getIterator();while(a.hasNext()){let e=a.next();if(e.hasErrors()){i.copyAllMessages(e)}else{t.addAll(e.getData())}}if(i.isValid()){t.sortByComparator(e.QGeoChoroplethDrillPathComparatorAsc.create());r=e.ExtResult.create(t,null)}else{r=e.ExtResult.createWithExternalMessages(null,i)}}this.m_choroplethDrillPaths.put(t,r);return r};e.QGeoManager.prototype.processQueryExecutionForChoroplethDrillPath=function(t,n,r,i,a,o,l,s){let u=s;let p=u.getString();if(t.isValid()){let t=n.cloneQueryManager();let u=null;let g=i.get(0);let c=t.getQueryModel();let y=c.getFilter().getDynamicFilter();let m=y.getCartesianProductWithDefault();let d=c.getDimensionByName(g.getLocation());if(e.isNull(d)){u=e.XMessage.createErrorWithCode(e.OriginLayer.UTILITY,e.ErrorCodes.CHOROPLETH_DRILL_PATH_FIELD_NOT_FOUND,e.XStringUtils.concatenate2("Location dimension is not found: ",g.getLocation()),null,false,null)}else{let n=t.getConvenienceCommands();let r=m.getCartesianListWithDefault(d);let o=d.getKeyField();o.setTextTransformation(e.TextTransformationType.SPATIAL_AS_GEOJSON);r.setField(o);let l=r.addNewCartesianElement();l.setComparisonOperator(e.SpatialComparisonOperator.INTERSECTS);l.setField(o);l.getLow().setPoint(a);if(g.isCustom()){n.moveDimensionToRows(e.QGeoConstants.CHOROPLETH_METADATA_CUSTOM_ID)}else{n.moveDimensionToRows(e.QGeoConstants.CHOROPLETH_METADATA_LEVEL);n.moveDimensionToRows(e.QGeoConstants.CHOROPLETH_METADATA_FEATURE_ID);let t=c.getDimensionByName(e.QGeoConstants.CHOROPLETH_METADATA_LEVEL);if(e.isNull(t)){u=e.XMessage.createErrorWithCode(e.OriginLayer.UTILITY,e.ErrorCodes.CHOROPLETH_DRILL_PATH_FIELD_NOT_FOUND,"Level dimension is not found",null,false,null)}else{let n=m.getCartesianListWithDefault(t);let r=t.getKeyField();n.setField(r);for(let t=0;t<i.size();t++){g=i.get(t);let a=n.addNewCartesianElement();a.configureSingleParameterExpression(e.XStringValue.create(g.getLevelId()),e.ComparisonOperator.EQUAL);a.setField(r)}}}n.moveDimensionToRows(g.getLocation());let s=this.getColumnDimensionName(g);if(e.notNull(s)){n.moveDimensionToRows(s)}}if(e.isNull(u)){if(r!==e.SyncType.BLOCKING){this.m_queryManagers.put(p,t)}let n=t.processQueryExecution(r,l,s);if(r===e.SyncType.BLOCKING){this.processResultSetForChoroplethDrillPath(n,n.getData(),r,i,p,o);e.XObjectExt.release(t)}}else{this.processResultSetForChoroplethDrillPath(e.ExtResult.createWithMessage(u),null,r,i,p,o);e.XObjectExt.release(t)}}else{this.processResultSetForChoroplethDrillPath(e.ExtResult.createWithExternalMessages(null,t),null,r,i,p,o)}};e.QGeoManager.prototype.processQueryExecutionForChoroplethHierarchies=function(t,n,r,i,a,o,l){if(t.isValid()){let t=n.getConvenienceCommands();for(let n=0;n<e.QGeoConstants.CHOROPLETH_HIERARCHY_DIMENSIONS.size();n++){t.moveDimensionToRows(e.QGeoConstants.CHOROPLETH_HIERARCHY_DIMENSIONS.get(n))}let s=n.processQueryExecution(i,o,l);if(i===e.SyncType.BLOCKING){this.processResultSetForChoroplethHierarchies(s,s.getData(),i,r,a,null);e.XObjectExt.release(n)}}else{this.handleErrorsForChoroplethHierarchies(t,null,r,i,l)}};e.QGeoManager.prototype.processQueryManagerCreationForChoroplethDrillPath=function(t,n,r,i,a,o){for(let l=0;l<r.size();l++){let s=r.get(l);let u=i.getByKey(s);if(n!==e.SyncType.BLOCKING){this.m_levelKeys.put(s,o);this.m_levelInfos.put(s,u);this.m_syncTypes.put(s,n);this.m_drillPoints.put(s,a)}let p=this.getChoroplethDrillPathTableName(u);let g=e.XStringUtils.concatenate3(e.QGeoManager.CHOROPLETH_DRILLPATH_IDENTIFIER,t,p);let c=this.m_sharedQueryManagers.getByKey(g);if(e.isNull(c)){let n=this.getOlapEnv().getQueryManagerByDataSource(t,p);if(e.notNull(n)){c=e.ExtResult.create(n.cloneQueryManager(),null);this.m_sharedQueryManagers.put(g,c)}}if(e.isNull(c)){if(n===e.SyncType.BLOCKING){c=this.getOlapEnv().processQueryManagerCreationWithDataSourceName(n,null,null,t,p);this.m_sharedQueryManagers.put(g,c)}else{let r=this.m_drillPathTableKeyToLevelKeys.getByKey(g);if(e.notNull(r)){r.add(s)}else{r=e.XList.create();r.add(s);this.m_drillPathTableKeyToLevelKeys.put(g,r);this.getOlapEnv().processQueryManagerCreationWithDataSourceName(n,this,e.XStringValue.create(g),t,p)}}}if(e.notNull(c)){if(n===e.SyncType.BLOCKING){this.processQueryExecutionForChoroplethDrillPath(c,c.getData(),n,u,a,o,null,e.XStringValue.create(s))}else{this.processQueryExecutionForChoroplethDrillPath(c,c.getData(),n,u,a,o,this,e.XStringValue.create(s))}}}};e.QGeoManager.prototype.processQueryManagerCreationForChoroplethHierarchies=function(t,n,r,i,a){let o=this.getChoroplethHierarchyTableName(t,r);let l=this.getOlapEnv().getQueryManagerByDataSource(t,o);let s=null;if(e.notNull(l)){s=e.ExtResult.create(l.cloneQueryManager(),null);if(n===e.SyncType.BLOCKING){this.processQueryExecutionForChoroplethHierarchies(s,s.getData(),t,n,r,null,a)}else{this.processQueryExecutionForChoroplethHierarchies(s,s.getData(),t,n,r,this,a)}}else{s=this.getOlapEnv().processQueryManagerCreationWithDataSourceName(n,i,a,t,o);if(n===e.SyncType.BLOCKING){this.processQueryExecutionForChoroplethHierarchies(s,s.getData(),t,n,r,null,a)}}};e.QGeoManager.prototype.processResultSetForChoroplethDrillPath=function(t,n,r,i,a,o){let l=this.m_choroplethIntermediateDrillPaths.getByKey(o);if(e.isNull(l)){this.m_choroplethIntermediateDrillPaths.put(o,e.XHashMapByString.create());l=this.m_choroplethIntermediateDrillPaths.getByKey(o)}if(t.isValid()&&e.notNull(i)&&!i.isEmpty()){let t=i.get(0);let r=this.getColumnDimensionName(t);let o=t.getLocation();let s=e.XList.create();let u=n.getCursorResultSet();let p=u.getCursorRowsAxis();p.setTupleCursorBeforeStart();let g=-1;let c=-1;let y=-1;let m=-1;let d=p.getRsDimensions();let C=d.size();for(let t=0;t<C;t++){let n=d.get(t);let i=n.getName();if(e.XString.isEqual(i,e.QGeoConstants.CHOROPLETH_METADATA_LEVEL)){g=t}else if(e.XString.isEqual(i,e.QGeoConstants.CHOROPLETH_METADATA_FEATURE_ID)||e.XString.isEqual(i,e.QGeoConstants.CHOROPLETH_METADATA_CUSTOM_ID)){c=t}else if(e.XString.isEqual(i,o)){y=t}else if(e.notNull(r)&&e.XString.isEqual(i,r)){m=t}}let A=p.getTuplesCount();let E=p.getTupleElementsCount();for(let n=0;n<A;n++){p.nextTuple();let r=e.XList.create();for(let e=0;e<E;e++){p.nextTupleElement();while(p.hasNextFieldValue()){let e=p.nextFieldValue();r.add(e.getValue().getStringRepresentation())}}let a=e.QGeoChoroplethDrillPath.create();if(y>=0){a.setShape(r.get(y))}if(m>=0){a.setAreaName(r.get(m))}if(c>=0){a.setAreaId(r.get(c))}if(g>=0){a.setLevelId(r.get(g))}else{if(n<i.size()){t=i.get(n)}a.setLevelId(t.getLevelId())}a.setSRID(e.QGeoConstants.SPATIAL_REFERENCE_WGS_1984_WEB_MERCATOR_AUXILIARY_SPHERE);s.add(a)}l.put(a,e.ExtResult.create(s,null))}else if(!t.isValid()){l.put(a,e.ExtResult.createWithExternalMessages(null,t))}else if(e.isNull(i)||i.isEmpty()){let t=e.XMessage.createErrorWithCode(e.OriginLayer.UTILITY,e.ErrorCodes.FAILED_TO_GET_CHOROPLETH_DRILL_PATH,"Levels are invalid",null,false,null);l.put(a,e.ExtResult.createWithMessage(t))}if(r!==e.SyncType.BLOCKING){let t=e.XList.create();let n=this.m_levelKeys.getKeysAsIterator();let r=null;while(n.hasNext()){r=n.next();if(e.XString.isEqual(o,this.m_levelKeys.getByKey(r))){t.add(r)}}if(l.size()===t.size()){let n=this.processIntermediateDrillPaths(o);for(let n=0;n<t.size();n++){r=t.get(n);this.m_levelKeys.remove(r);this.m_levelInfos.remove(r);this.m_drillPoints.remove(r);this.m_syncTypes.remove(r);let i=this.m_queryManagers.remove(r);if(e.notNull(i)){e.XObjectExt.release(i)}}this.m_choroplethIntermediateDrillPaths.remove(o);let i=this.m_listenerIdentifiers.remove(o);for(let t=0;t<i.size();t++){let r=i.get(t);let a=r.getFirstObject();let o=r.getSecondObject();if(e.notNull(a)){a.onChoroplethDrillPathsLoaded(n,n.getData(),o)}}}}};e.QGeoManager.prototype.processResultSetForChoroplethHierarchies=function(t,n,r,i,a,o){if(t.isValid()){let t=n.getCursorResultSet();let l=t.getCursorRowsAxis();let s=l.getRsDimensions();let u=s.size();let p=null;if(u!==e.QGeoConstants.CHOROPLETH_HIERARCHY_DIMENSIONS.size()){p=e.XMessage.createErrorWithCode(e.OriginLayer.UTILITY,e.ErrorCodes.FAILED_TO_READ_CHOROPLETH_HIERARCHIES,"Error reading choropleth hierarchies: the number of dimensions is not matched",null,false,null);this.handleErrorsForChoroplethHierarchies(null,p,i,r,o);return}for(let t=0;t<u;t++){let n=s.get(t);if(!e.XString.isEqual(n.getName(),e.QGeoConstants.CHOROPLETH_HIERARCHY_DIMENSIONS.get(t))){p=e.XMessage.createErrorWithCode(e.OriginLayer.UTILITY,e.ErrorCodes.FAILED_TO_READ_CHOROPLETH_HIERARCHIES,"Error reading choropleth hierarchies: the dimension name is not matched",null,false,null);this.handleErrorsForChoroplethHierarchies(null,p,i,r,o);return}}let g=e.XHashMapByString.create();let c=null;let y=null;l.setTupleCursorBeforeStart();let m=l.getTuplesCount();let d=l.getTupleElementsCount();for(let t=0;t<m;t++){l.nextTuple();let t=e.XList.create();for(let e=0;e<d;e++){l.nextTupleElement();while(l.hasNextFieldValue()){let e=l.nextFieldValue();t.add(e.getValue().getStringRepresentation())}}if(e.isNull(c)||!e.XString.isEqual(c.getHierarchyId(),t.get(0))){c=e.QGeoChoroplethHierarchy.create(t.get(0),t.get(1));g.put(t.get(0),c);y=null}if(e.isNull(y)||!e.XString.isEqual(y.getLevelId(),t.get(2))){y=e.QGeoChoroplethHierarchyLevel.create(t.get(2),t.get(3));y.setLocation(t.get(4));y.setObjectName(t.get(5));y.setPackageName(t.get(6));y.setSchemaName(t.get(7));let n=e.XString.isEqual(y.getObjectName(),e.QGeoConstants.CHOROPLETH_DATASOURCE_OBJECTNAME)&&e.XString.isEqual(y.getPackageName(),e.QGeoConstants.CHOROPLETH_DATASOURCE_PACKAGENAME)&&e.XString.isEqual(y.getSchemaName(),e.QGeoConstants.CHOROPLETH_DATASOURCE_SCHEMANAME);if(!n&&e.notNull(a)&&a.getBoolean()){n=e.XString.isEqual(y.getObjectName(),e.QGeoConstants.CHOROPLETH_DATASOURCE_SYNONYM_OBJECTNAME)&&e.XString.isEqual(y.getPackageName(),e.QGeoConstants.CHOROPLETH_DATASOURCE_SYNONYM_PACKAGENAME)&&e.XString.isEqual(y.getSchemaName(),e.QGeoConstants.CHOROPLETH_DATASOURCE_SYNONYM_SCHEMANAME)}y.setIsCustom(!n);c.addLevel(y)}y.addColumn(e.QGeoColumn.create(t.get(8),t.get(9)))}let C=e.ExtResult.create(g,null);this.m_choroplethHierarchies.put(i,C);if(r!==e.SyncType.BLOCKING){this.processChoroplethHiearachiesResult(o)}}else{this.handleErrorsForChoroplethHierarchies(t,null,i,r,o)}};e.QGeoManager.prototype.releaseObject=function(){this.clearCache();e.QModelComponent.prototype.releaseObject.call(this)};e.QGeoManager.prototype.reset=function(){this.clearCache();this.initialize()};e.QGeoManager.prototype.setupGeoManager=function(t){this.setupModelComponentWithName(t,null,"GeoManager");e.QGeoConstants.staticSetup();this.initialize()};e.QModelDimensionLinksManager=function(){};e.QModelDimensionLinksManager.prototype=new e.QModelComponent;e.QModelDimensionLinksManager.prototype._ff_c="QModelDimensionLinksManager";e.QModelDimensionLinksManager.create=function(t){let n=new e.QModelDimensionLinksManager;n.setupModelLinkManager(t);return n};e.QModelDimensionLinksManager.prototype.m_dimensionLinksMap=null;e.QModelDimensionLinksManager.prototype.addDimensionLinkFromDimensionParts=function(e,t,n,r){this.addDimensionLinkFromDimensionPartsExt(e,t,n,r,false)};e.QModelDimensionLinksManager.prototype.addDimensionLinkFromDimensionPartsExt=function(t,n,r,i,a){let o=n.getQueryManagerKey();if(e.isNull(o)){throw e.XException.createIllegalArgumentException("firstDimensionLinkPart requires query manager key.")}let l=r.getQueryManagerKey();if(e.isNull(l)){throw e.XException.createIllegalArgumentException("secondDimensionLinkPart requires query manager key.")}let s=this.getModelDimensionLinksStorage(t,o,l);s.addNewLinkFromParts(n,r,i,a);n.addSecondaryParent(s);r.addSecondaryParent(s)};e.QModelDimensionLinksManager.prototype.createBlendableQueryManager=function(t,n,r){let i=e.QFactory.createKeyRefStoreContext(this,e.KeyRefConstants.MAIN_STORAGE);i.getKeyRefStorage().setSubKefRefStore(this.getOlapEnv().getClientQueryObjectManager().getKeyRefStorage());if(e.notNull(n)){n.setName(e.XStringUtils.concatenate2(n.getName(),"_blendPrimary"))}let a=e.BlendableQueryManager.create(i,r);a.setClientQueryObjectStorageName(t);if(e.notNull(n)){a.setPrimaryQueryManager(n);if(e.XStringUtils.isNullOrEmpty(n.getClientQueryObjectStorageName())){n.setClientQueryObjectStorageName(t)}}return a};e.QModelDimensionLinksManager.prototype.getDimensionLinks=function(t){let n=this.m_dimensionLinksMap.getByKey(t);if(e.isNull(n)){n=e.XList.create()}return n};e.QModelDimensionLinksManager.prototype.getDimensionLinksByDatasetId=function(t,n,r){let i=this.m_dimensionLinksMap.getByKey(t);let a=e.XList.create();if(e.notNull(i)){let t=i.getIterator();while(t.hasNext()){let i=t.next();if(e.XString.isEqual(n,i.getFirstDatasetId())||e.XString.isEqual(n,i.getSecondDatasetId())){let t=i.getIterator();while(t.hasNext()){let i=t.next();if(e.XString.isEqual(n,i.getFirstPart().getQueryManagerKey())){a.add(i)}else if(e.XString.isEqual(n,i.getSecondPart().getQueryManagerKey())){if(r){a.add(e.QDimensionLink.createDimensionLinkFromParts(this.getContext(),null,i.getSecondPart(),i.getFirstPart(),i.isLinkOnMatchingHierarchies(),i.isTreatFlatToFlatAsMatchingHierarchy()))}else{a.add(i)}}}}}}return a};e.QModelDimensionLinksManager.prototype.getDimensionLinksByDatasetIds=function(t,n,r,i){let a=e.XList.create();let o=e.ModelDimensionLinksManagerHelper.findModelDimensionLinksByDatasetIds(n,r,this.m_dimensionLinksMap.getByKey(t));if(e.notNull(o)){let t=o.getIterator();while(t.hasNext()){let o=t.next();let l=o.getFirstPart().getQueryManagerKey();let s=o.getSecondPart().getQueryManagerKey();if(e.XString.isEqual(n,l)&&e.XString.isEqual(r,s)||e.XString.isEqual(n,s)&&e.XString.isEqual(r,l)){if(!i||e.XString.isEqual(n,o.getFirstPart().getQueryManagerKey())){a.add(o)}else{a.add(e.QDimensionLink.createDimensionLinkFromParts(this.getContext(),null,o.getSecondPart(),o.getFirstPart(),o.isLinkOnMatchingHierarchies(),o.isTreatFlatToFlatAsMatchingHierarchy()))}}}}return a};e.QModelDimensionLinksManager.prototype.getModelDimensionLinksStorage=function(t,n,r){let i=this.m_dimensionLinksMap.getByKey(t);if(e.isNull(i)){i=e.XList.create();this.m_dimensionLinksMap.put(t,i)}let a=e.ModelDimensionLinksManagerHelper.findModelDimensionLinksByDatasetIds(n,r,i);if(e.isNull(a)){a=e.QModelDimensionLinks.create(this,n,r);i.add(a)}return a};e.QModelDimensionLinksManager.prototype.releaseObject=function(){this.m_dimensionLinksMap=e.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_dimensionLinksMap)};e.QModelDimensionLinksManager.prototype.removeAllDimensionLinks=function(t){let n=this.m_dimensionLinksMap.getByKey(t);if(e.notNull(n)){let e=n.getIterator();while(e.hasNext()){let t=e.next();t.clear()}}};e.QModelDimensionLinksManager.prototype.removeDimensionLink=function(t,n,r){let i=n.getQueryManagerKey();if(e.isNull(i)){throw e.XException.createIllegalArgumentException("firstDimensionLinkPart requires query manager key.")}let a=r.getQueryManagerKey();if(e.isNull(a)){throw e.XException.createIllegalArgumentException("secondDimensionLinkPart requires query manager key.")}let o=this.m_dimensionLinksMap.getByKey(t);if(e.notNull(o)){let t=e.ModelDimensionLinksManagerHelper.findModelDimensionLinksByDatasetIds(i,a,o);if(e.notNull(t)){t.removeLinkByParts(n,r)}}};e.QModelDimensionLinksManager.prototype.setupModelLinkManager=function(t){this.setupModelComponentWithName(t,null,"ModelLinkManager");this.m_dimensionLinksMap=e.XHashMapByString.create()};e.HierarchyCatalogManager=function(){};e.HierarchyCatalogManager.prototype=new e.QOlapSyncAction;e.HierarchyCatalogManager.prototype._ff_c="HierarchyCatalogManager";e.HierarchyCatalogManager.BW_DATE_FROM="DateFrom";e.HierarchyCatalogManager.BW_DATE_FROM_KEY="DateFrom.KEY";e.HierarchyCatalogManager.BW_DATE_TO_KEY="DateTo.KEY";e.HierarchyCatalogManager.BW_HIEID="HieID";e.HierarchyCatalogManager.BW_HIEID_KEY="HieID.KEY";e.HierarchyCatalogManager.BW_HIETYPE="HieType";e.HierarchyCatalogManager.BW_HIETYPE_KEY="HieType.KEY";e.HierarchyCatalogManager.BW_IS_REMOTE="Is_Remote_Hier";e.HierarchyCatalogManager.BW_IS_REMOTE_KEY="Is_Remote_Hier.KEY";e.HierarchyCatalogManager.BW_NAME_KEY="Name.KEY";e.HierarchyCatalogManager.BW_OBJVERS="ObjVers";e.HierarchyCatalogManager.BW_OBJVERS_KEY="ObjVers.KEY";e.HierarchyCatalogManager.BW_OWNER_KEY="Owner.KEY";e.HierarchyCatalogManager.BW_TEXT_LONG_TEXT="Text.LONG_TEXT";e.HierarchyCatalogManager.BW_TEXT_MEDIUM_TEXT="Text.MEDIUM_TEXT";e.HierarchyCatalogManager.BW_TEXT_SHORT_TEXT="Text.SHORT_TEXT";e.HierarchyCatalogManager.BW_TYPE_CUSTOM_HIERARCHY="0";e.HierarchyCatalogManager.BW_VERSION_DISPLAY_KEY="Version.DISPLAY_KEY";e.HierarchyCatalogManager.BW_VERSION_KEY="Version.KEY";e.HierarchyCatalogManager.BW_VERSION_LONG_TEXT="Version.LONG_TEXT";e.HierarchyCatalogManager.HIERARCHY_NAME="hierarchyName";e.HierarchyCatalogManager.OBJECT_VERSION="objectVersion";e.HierarchyCatalogManager.VERSION_NAME="versionName";e.HierarchyCatalogManager.create=function(t,n,r,i){let a=new e.HierarchyCatalogManager;a.setupCatalogManager(t,n,r,i);return a};e.HierarchyCatalogManager.prototype.m_catalogResult=null;e.HierarchyCatalogManager.prototype.m_dataSource=null;e.HierarchyCatalogManager.prototype.m_dimensionName=null;e.HierarchyCatalogManager.prototype.m_dimensionQueryModel=null;e.HierarchyCatalogManager.prototype.m_enableFilterHierarchyDate=false;e.HierarchyCatalogManager.prototype.m_filter=null;e.HierarchyCatalogManager.prototype.m_filterHierarchyDate=null;e.HierarchyCatalogManager.prototype.m_hierarchyNamesFilter=null;e.HierarchyCatalogManager.prototype.m_includeCustomHierarchies=false;e.HierarchyCatalogManager.prototype.m_operator=null;e.HierarchyCatalogManager.prototype.m_variableHash=null;e.HierarchyCatalogManager.prototype._addFilter=function(t,n,r,i){t.clearFiltersByDimensionName(n);if(e.notNull(i)){t.addSingleMemberFilterByDimensionName(n,r,i)}};e.HierarchyCatalogManager.prototype._setFilterInternal=function(e,t,n){this.assertComparisonOperator(n);this.m_filter.put(e,t);this.m_operator.put(e,n);this.resetSyncState()};e.HierarchyCatalogManager.prototype.addCustomHierarchies=function(e,t,n,r,i,a){e.addAllItems(i._getCustomHierarchyCatalogItemsByDimensionName(t.getQueryManager().getSystemName(),r,n,a))};e.HierarchyCatalogManager.prototype.addDimensionAndField=function(e,t,n){e.moveDimensionToRows(t);e.addFieldToResultSet(t,n)};e.HierarchyCatalogManager.prototype.addHierarchyNamesToFilter=function(t){t.clearFiltersByDimensionName("Name");if(e.notNull(this.m_hierarchyNamesFilter)){let n=this.m_hierarchyNamesFilter.getIterator();while(n.hasNext()){t.addSingleMemberFilterByDimensionName("Name",n.next(),e.ComparisonOperator.EQUAL)}}};e.HierarchyCatalogManager.prototype.assertComparisonOperator=function(t){if(e.notNull(t)&&t!==e.ComparisonOperator.EQUAL&&t!==e.ComparisonOperator.MATCH){throw e.XException.createRuntimeException("illegal comparison operator")}};e.HierarchyCatalogManager.prototype.callListener=function(e,t,n,r){t.onHierarchyCatalogResult(e,n,r)};e.HierarchyCatalogManager.prototype.createVariableHash=function(t){return e.XSha1.createSHA1(t.serializeToString(e.QModelFormat.INA_DATA))};e.HierarchyCatalogManager.prototype.customHierarchiesIncluded=function(){return this.m_includeCustomHierarchies};e.HierarchyCatalogManager.prototype.getFieldIfPresent=function(e,t,n,r){if(e.containsResultSetField(n,r)){return t.getDimensionByName(n).getFieldByName(r)}return null};e.HierarchyCatalogManager.prototype.getFilterHierarchyDate=function(){return this.m_filterHierarchyDate};e.HierarchyCatalogManager.prototype.getFilterHierarchyName=function(){return this.m_filter.getByKey(e.HierarchyCatalogManager.HIERARCHY_NAME)};e.HierarchyCatalogManager.prototype.getFilterHierarchyObjectVersion=function(){return this.m_filter.getByKey(e.HierarchyCatalogManager.OBJECT_VERSION)};e.HierarchyCatalogManager.prototype.getFilterVersionName=function(){return this.m_filter.getByKey(e.HierarchyCatalogManager.VERSION_NAME)};e.HierarchyCatalogManager.prototype.getHanaKeyField=function(t,n){let r=t.getDimensionByName(n);return e.notNull(r)?r.getFieldByName(e.XStringUtils.concatenate2("Key",n)):null};e.HierarchyCatalogManager.prototype.getOperatorHierarchyName=function(){return this.m_operator.getByKey(e.HierarchyCatalogManager.HIERARCHY_NAME)};e.HierarchyCatalogManager.prototype.getOperatorHierarchyObjectVersion=function(){return this.m_operator.getByKey(e.HierarchyCatalogManager.OBJECT_VERSION)};e.HierarchyCatalogManager.prototype.getOperatorVersionName=function(){return this.m_operator.getByKey(e.HierarchyCatalogManager.VERSION_NAME)};e.HierarchyCatalogManager.prototype.hasMatchingVariables=function(t){let n=this.getQueryManager();if(e.notNull(n)&&n.getSystemType().isTypeOf(e.SystemType.HANA)){if(e.isNull(t)||!t.hasVariables()){return e.isNull(this.m_variableHash)}return e.XString.isEqual(this.m_variableHash,this.createVariableHash(t))}return true};e.HierarchyCatalogManager.prototype.isFilterHierarchyNameEnabled=function(){return this.getOperatorHierarchyName()!==null};e.HierarchyCatalogManager.prototype.isFilterHierarchyObjectVersionEnabled=function(){return this.getOperatorHierarchyObjectVersion()!==null};e.HierarchyCatalogManager.prototype.isFilterVersionNameEnabled=function(){return this.getOperatorVersionName()!==null};e.HierarchyCatalogManager.prototype.isHierarchyLevelsRequest=function(){let t=this.getQueryManager();return e.notNull(t)&&e.XString.isEqual(t.getDataSource().getName(),"$$HierarchyLevels$$")};e.HierarchyCatalogManager.prototype.onQueryExecuted=function(t,n,r){this.addAllMessages(t);if(t.isValid()){let t=n.getClassicResultSet();let r=e.QFactory.createHierarchyCatalogResult();this.setupExt(r,t,this.m_dimensionName);if(this.customHierarchiesIncluded()){let n=t.getQueryManager().getSystemType().isTypeOf(e.SystemType.ABAP)?null:this.m_dataSource.getName();this.addCustomHierarchies(r,t,this.m_dimensionName,n,this.getOlapEnv().getCustomHierarchyRepository(),this.m_filter.getByKey(e.HierarchyCatalogManager.HIERARCHY_NAME))}this.m_catalogResult=r;this.setData(this.m_catalogResult)}this.endSync()};e.HierarchyCatalogManager.prototype.processBW=function(t){this.addDimensionAndField(t,"Name",e.HierarchyCatalogManager.BW_NAME_KEY);t.moveDimensionToRows("Text");t.addFieldToResultSet("Text",e.HierarchyCatalogManager.BW_TEXT_SHORT_TEXT);t.addFieldToResultSet("Text",e.HierarchyCatalogManager.BW_TEXT_MEDIUM_TEXT);t.addFieldToResultSet("Text",e.HierarchyCatalogManager.BW_TEXT_LONG_TEXT);t.moveDimensionToRows("Version");t.addFieldToResultSet("Version",e.HierarchyCatalogManager.BW_VERSION_KEY);t.addFieldToResultSet("Version",e.HierarchyCatalogManager.BW_VERSION_LONG_TEXT);this.addDimensionAndField(t,"DateTo",e.HierarchyCatalogManager.BW_DATE_TO_KEY);this.addDimensionAndField(t,e.HierarchyCatalogManager.BW_DATE_FROM,e.HierarchyCatalogManager.BW_DATE_FROM_KEY);this.addDimensionAndField(t,"Owner",e.HierarchyCatalogManager.BW_OWNER_KEY);this.addDimensionAndField(t,e.HierarchyCatalogManager.BW_HIEID,e.HierarchyCatalogManager.BW_HIEID_KEY);this.addDimensionAndField(t,e.HierarchyCatalogManager.BW_OBJVERS,e.HierarchyCatalogManager.BW_OBJVERS_KEY);this.addDimensionAndField(t,e.HierarchyCatalogManager.BW_IS_REMOTE,e.HierarchyCatalogManager.BW_IS_REMOTE_KEY);this._addFilter(t,e.HierarchyCatalogManager.BW_OBJVERS,this.getFilterHierarchyObjectVersion(),this.getOperatorHierarchyObjectVersion());if(e.notNull(this.m_filterHierarchyDate)&&this.m_enableFilterHierarchyDate){let n=this.m_filterHierarchyDate.toSAPFormat();this._addFilter(t,e.HierarchyCatalogManager.BW_DATE_FROM,n,e.ComparisonOperator.LESS_EQUAL);this._addFilter(t,"DateTo",n,e.ComparisonOperator.GREATER_EQUAL)}};e.HierarchyCatalogManager.prototype.processGetResult=function(e,t,n){return this.processSyncAction(e,t,n)};e.HierarchyCatalogManager.prototype.processHana=function(t){let n=this.m_dataSource;t.addSimpleSingleMemberFilter("Type",n.getType()===null?null:n.getType().getCamelCaseName());t.addSimpleSingleMemberFilter("SchemaName",n.getSchemaName());t.addSimpleSingleMemberFilter("PackageName",n.getPackageName());t.addSimpleSingleMemberFilter("ObjectName",n.getObjectName());t.moveDimensionToRows("Dimension");t.moveDimensionToRows("Name");t.moveDimensionToRows("Version");t.moveDimensionToRows("DateTo");if(this.isHierarchyLevelsRequest()){t.moveDimensionToRows("$$HierarchyLevel$$");t.moveDimensionToRows("$$HierarchyLevelName$$");t.moveDimensionToRows("$$HierarchyLevelUniqueName$$");t.moveDimensionToRows("$$HierarchyLevelCaption$$");t.moveDimensionToRows("$$HierarchyLevelType$$")}else{t.moveDimensionToRows("$$HierarchyName$$");t.moveDimensionToRows("Description")}if(e.XStringUtils.isNotNullAndNotEmpty(this.m_dimensionName)){t.addSimpleSingleMemberFilter("Dimension",this.m_dimensionName)}let r=this.getQueryModel();if(e.notNull(this.m_dimensionQueryModel)&&this.m_dimensionQueryModel.hasVariables()&&e.notNull(r)){let t=r.getVariableManager();e.XCollectionUtils.forEach(this.m_dimensionQueryModel.getVariables(),n=>{let r=e.QFactory.createVariable(t.getContext(),t,n);r.setCustomVariable(n.isCustomVariable());r.setExternalRepresentation(n);t.addVariable(r)});this.m_variableHash=this.createVariableHash(t)}};e.HierarchyCatalogManager.prototype.processSynchronization=function(t){let n=this.getQueryManager();let r=n.getQueryModel();let i=r.getConvenienceCommands();i.resetToDefault();if(n.getSystemType().isTypeOf(e.SystemType.HANA)){this.processHana(i)}else{this.processBW(i)}if(e.XCollectionUtils.hasElements(this.m_hierarchyNamesFilter)){this.addHierarchyNamesToFilter(i)}else{this._addFilter(i,"Name",this.getFilterHierarchyName(),this.getOperatorHierarchyName())}this._addFilter(i,"Version",this.getFilterVersionName(),this.getOperatorVersionName());if(e.notNull(this.m_dimensionQueryModel)){n.getClientInfo().copyFromContext(this.m_dimensionQueryModel)}n.processQueryExecution(t,this,null);return true};e.HierarchyCatalogManager.prototype.releaseObjectInternal=function(){this.m_dataSource=null;this.m_dimensionName=null;this.m_dimensionQueryModel=null;this.m_catalogResult=e.XObjectExt.release(this.m_catalogResult);this.m_filterHierarchyDate=e.XObjectExt.release(this.m_filterHierarchyDate);this.m_variableHash=null;this.m_filter=e.XObjectExt.release(this.m_filter);this.m_operator=e.XObjectExt.release(this.m_operator);this.m_hierarchyNamesFilter=e.XObjectExt.release(this.m_hierarchyNamesFilter);e.XObjectExt.release(this.getQueryManager())};e.HierarchyCatalogManager.prototype.setFilterHierarchyDate=function(t,n){if(e.isNull(t)){this.m_filterHierarchyDate=e.XObjectExt.release(this.m_filterHierarchyDate)}else{if(e.isNull(this.m_filterHierarchyDate)){this.m_filterHierarchyDate=e.XDate.createDateWithValues(t.getYear(),t.getMonthOfYear(),t.getDayOfMonth())}else{this.m_filterHierarchyDate.resetValue(t)}}this.resetSyncState();this.m_enableFilterHierarchyDate=n};e.HierarchyCatalogManager.prototype.setFilterHierarchyName=function(t,n){if(n){this.setFilterHierarchyNameWithOperator(t,e.ComparisonOperator.EQUAL)}else{this.setFilterHierarchyNameWithOperator(t,null)}this.m_hierarchyNamesFilter.clear()};e.HierarchyCatalogManager.prototype.setFilterHierarchyNameWithOperator=function(t,n){this._setFilterInternal(e.HierarchyCatalogManager.HIERARCHY_NAME,t,n)};e.HierarchyCatalogManager.prototype.setFilterHierarchyNames=function(t){if(e.notNull(t)){this.setFilterHierarchyName(null,false);e.XCollectionUtils.forEach(t.getObjects(),e=>{this.m_hierarchyNamesFilter.add(e.getHierarchyUniqueName())});this.m_operator.put(e.HierarchyCatalogManager.HIERARCHY_NAME,e.ComparisonOperator.EQUAL);this.resetSyncState()}};e.HierarchyCatalogManager.prototype.setFilterHierarchyObjectVersion=function(t,n){if(n){this.setFilterHierarchyObjectVersionWithOperator(t,e.ComparisonOperator.EQUAL)}else{this.setFilterHierarchyObjectVersionWithOperator(t,null)}};e.HierarchyCatalogManager.prototype.setFilterHierarchyObjectVersionWithOperator=function(t,n){this._setFilterInternal(e.HierarchyCatalogManager.OBJECT_VERSION,t,n)};e.HierarchyCatalogManager.prototype.setFilterVersionName=function(t,n){if(n){this.setFilterVersionNameWithOperator(t,e.ComparisonOperator.EQUAL)}else{this.setFilterVersionNameWithOperator(t,null)}};e.HierarchyCatalogManager.prototype.setFilterVersionNameWithOperator=function(t,n){this._setFilterInternal(e.HierarchyCatalogManager.VERSION_NAME,t,n)};e.HierarchyCatalogManager.prototype.setIncludeCustomHierarchies=function(e){this.m_includeCustomHierarchies=e;this.resetSyncState()};e.HierarchyCatalogManager.prototype.setupBW=function(t,n,r){let i=n.getQueryModel();let a=i.getConvenienceCommands();let o=i.getDimensionByName("Name").getFieldByName(e.HierarchyCatalogManager.BW_NAME_KEY);let l=this.getFieldIfPresent(a,i,"Text",e.HierarchyCatalogManager.BW_TEXT_SHORT_TEXT);let s=this.getFieldIfPresent(a,i,"Text",e.HierarchyCatalogManager.BW_TEXT_MEDIUM_TEXT);let u=this.getFieldIfPresent(a,i,"Text",e.HierarchyCatalogManager.BW_TEXT_LONG_TEXT);let p=i.getDimensionByName("Version");let g=p.getFieldByName(e.HierarchyCatalogManager.BW_VERSION_DISPLAY_KEY);let c=p.getFieldByName(e.HierarchyCatalogManager.BW_VERSION_KEY);let y=p.getFieldByName(e.HierarchyCatalogManager.BW_VERSION_LONG_TEXT);let m=i.getDimensionByName("DateTo").getFieldByName(e.HierarchyCatalogManager.BW_DATE_TO_KEY);let d=this.getFieldIfPresent(a,i,e.HierarchyCatalogManager.BW_DATE_FROM,e.HierarchyCatalogManager.BW_DATE_FROM_KEY);let C=this.getFieldIfPresent(a,i,"Owner",e.HierarchyCatalogManager.BW_OWNER_KEY);let A=this.getFieldIfPresent(a,i,e.HierarchyCatalogManager.BW_HIEID,e.HierarchyCatalogManager.BW_HIEID_KEY);let E=this.getFieldIfPresent(a,i,e.HierarchyCatalogManager.BW_HIETYPE,e.HierarchyCatalogManager.BW_HIETYPE_KEY);let _=this.getFieldIfPresent(a,i,e.HierarchyCatalogManager.BW_OBJVERS,e.HierarchyCatalogManager.BW_OBJVERS_KEY);let S=this.getFieldIfPresent(a,i,e.HierarchyCatalogManager.BW_IS_REMOTE,e.HierarchyCatalogManager.BW_IS_REMOTE_KEY);let I=n.getQueryManager().getConnection();let h=e.notNull(I)?I.getCustomObject(e.CustomHierarchySessionData.CUSTOM_HIERARCHY_SESSION_DATA):null;let M=n.getRowsAxis();let f=M.getTuplesCount();for(let n=0;n<f;n++){let i=M.getTupleAt(n);let a=e.notNull(E)?i.getStringByField(E):null;let p=e.notNull(o)?i.getStringByField(o):null;if(e.XString.isEqual(a,e.HierarchyCatalogManager.BW_TYPE_CUSTOM_HIERARCHY)&&e.notNull(h)&&h.getHierarchyDefinitionByName(p)!==null){continue}let I=e.HierarchyCatalogItem.createCatalogItem();I.setDimensionName(r);if(e.notNull(p)){I.setHierarchyName(p)}if(e.notNull(l)){I.setHierarchyShortText(i.getStringByField(l))}if(e.notNull(s)){I.setHierarchyMediumText(i.getStringByField(s))}if(e.notNull(u)){I.setHierarchyLongText(i.getStringByField(u))}if(e.notNull(c)){I.setVersionName(i.getStringByField(c))}if(e.notNull(g)){I.setVersionDisplayKey(i.getStringByField(g))}if(e.notNull(y)){I.setVersionDescription(i.getStringByField(y))}if(e.notNull(m)){let t=i.getStringByField(m);if(e.XStringUtils.isNotNullAndNotEmpty(t)){I.setDateTo(e.XDate.createDateFromSAPFormat(t))}}if(e.notNull(d)){let t=i.getStringByField(d);if(e.XStringUtils.isNotNullAndNotEmpty(t)){I.setDateFrom(e.XDate.createDateFromSAPFormat(t))}}if(e.notNull(C)){I.setOwner(i.getStringByField(C))}if(e.notNull(A)){I.setHierId(i.getStringByField(A))}if(e.notNull(a)){I.setHierType(a)}if(e.notNull(_)){I.setObjectVersion(i.getStringByField(_))}if(e.notNull(S)){let t=false;if(S.getValueType()===e.XValueType.STRING){if(e.XString.isEqual(i.getStringByField(S),"X")){t=true}}else if(S.getValueType()===e.XValueType.BOOLEAN){t=i.getBooleanByField(S)}I.setIsRemote(t)}t.addItem(I)}};e.HierarchyCatalogManager.prototype.setupCatalogManager=function(t,n,r,i){this.setupAction(null,null,null,t);this.m_dataSource=n;this.m_dimensionName=r;this.m_dimensionQueryModel=i;this.m_filter=e.XHashMapByString.create();this.m_hierarchyNamesFilter=e.XHashSetOfString.create();this.m_operator=e.XHashMapByString.create()};e.HierarchyCatalogManager.prototype.setupExt=function(t,n,r){if(n.getQueryModel().getSystemType().isTypeOf(e.SystemType.HANA)){if(this.isHierarchyLevelsRequest()){this.setupHanaHierarchyLevels(t,n)}else{this.setupHana(t,n)}}else{this.setupBW(t,n,r)}};e.HierarchyCatalogManager.prototype.setupHana=function(t,n){let r=n.getQueryModel();let i=this.getHanaKeyField(r,"Dimension");let a=this.getHanaKeyField(r,"Name");let o=this.getHanaKeyField(r,"$$HierarchyName$$");let l=this.getHanaKeyField(r,"Description");let s=this.getHanaKeyField(r,"Version");let u=this.getHanaKeyField(r,"DateTo");let p=n.getRowsAxis();let g=p.getTuplesCount();for(let n=0;n<g;n++){let r=p.getTupleAt(n);let g=e.HierarchyCatalogItem.createCatalogItem();if(e.notNull(i)){g.setDimensionName(r.getStringByField(i))}if(e.notNull(a)){g.setHierarchyName(r.getStringByField(a))}if(e.notNull(o)){g.setHierarchyUniqueName(r.getStringByField(o))}if(e.notNull(l)){g.setHierarchyLongText(r.getStringByField(l))}if(e.notNull(s)){g.setVersionName(r.getStringByField(s))}if(e.notNull(u)){let t=r.getStringByField(u);if(e.XStringUtils.isNotNullAndNotEmpty(t)){g.setDateTo(e.XDate.createDateFromIsoFormat(t))}}t.addItem(g)}};e.HierarchyCatalogManager.prototype.setupHanaHierarchyLevels=function(t,n){let r=n.getQueryModel();let i=this.getHanaKeyField(r,"Name");let a=this.getHanaKeyField(r,"Version");let o=this.getHanaKeyField(r,"DateTo");let l=this.getHanaKeyField(r,"Dimension");let s=this.getHanaKeyField(r,"$$HierarchyLevel$$");let u=this.getHanaKeyField(r,"$$HierarchyLevelName$$");let p=this.getHanaKeyField(r,"$$HierarchyLevelUniqueName$$");let g=this.getHanaKeyField(r,"$$HierarchyLevelCaption$$");let c=this.getHanaKeyField(r,"$$HierarchyLevelType$$");let y=n.getRowsAxis();let m=y.getTuplesCount();for(let n=0;n<m;n++){let r=y.getTupleAt(n);let m=e.notNull(i)?r.getStringByField(i):null;if(e.XStringUtils.isNullOrEmpty(m)){continue}let d;let C=e.XCollectionUtils.findFirst(t.getObjects(),t=>e.XString.isEqual(t.getHierarchyUniqueName(),m));if(e.isNull(C)){d=e.XList.create();C=e.HierarchyCatalogItem.createCatalogItem();C.setHierarchyLevels(d);C.setHierarchyName(m);C.setHierarchyUniqueName(m);C.setSupportsHierarchyLevels(true);if(e.notNull(l)){C.setDimensionName(r.getStringByField(l))}if(e.notNull(a)){C.setVersionName(r.getStringByField(a))}if(e.notNull(o)){let t=r.getStringByField(o);if(e.XStringUtils.isNotNullAndNotEmpty(t)){C.setDateTo(e.XDate.createDateFromIsoFormat(t))}}t.addItem(C)}else{d=C.getHierarchyLevels()}let A=e.HierarchyCatalogLevel.createCatalogLevel();d.add(A);if(e.notNull(s)){let t=e.XInteger.convertFromStringWithDefault(r.getStringByField(s),-1);if(t>-1){A.setLevel(t)}}if(e.notNull(c)){let t=e.XInteger.convertFromStringWithDefault(r.getStringByField(c),-1);if(t>-1){A.setLevelType(e.QInAConverter.lookupHierarchyLevelType(t))}}if(e.notNull(u)){A.setLevelName(r.getStringByField(u))}if(e.notNull(p)){A.setLevelUniqueName(r.getStringByField(p))}if(e.notNull(g)){A.setLevelDescription(r.getStringByField(g))}}};e.QmShutdownAction=function(){};e.QmShutdownAction.prototype=new e.QOlapSyncAction;e.QmShutdownAction.prototype._ff_c="QmShutdownAction";e.QmShutdownAction.createAndRun=function(t,n,r,i){let a=new e.QmShutdownAction;a.setupActionAndRun(t,n,r,i);return a};e.QmShutdownAction.prototype.m_providerShutdownAction=null;e.QmShutdownAction.prototype.callListener=function(e,t,n,r){t.onQueryManagerRelease(e,n,r)};e.QmShutdownAction.prototype.cancelSynchronization=function(){e.QOlapSyncAction.prototype.cancelSynchronization.call(this);this.m_providerShutdownAction.cancelSynchronization()};e.QmShutdownAction.prototype.onProviderShutdown=function(t,n,r){this.addAllMessages(t);let i=this.getActionContext();if(e.notNull(i)){i.setLifeCycleState(e.LifeCycleState.TERMINATED)}this.setData(i);this.endSync()};e.QmShutdownAction.prototype.processSynchronization=function(t){let n=this.getActionContext();if(e.notNull(n)){if(n.getLifeCycleState()!==e.LifeCycleState.ACTIVE){this.addError(e.ErrorCodes.INVALID_STATE,"Query Manager cannot be shutdown, it is not in active state");return false}n.setLifeCycleState(e.LifeCycleState.SHUTTING_DOWN);this.m_providerShutdownAction=n.processProviderShutdown(t,this,null);return true}return false};e.QmShutdownAction.prototype.releaseObjectInternal=function(){this.m_providerShutdownAction=null;e.QOlapSyncAction.prototype.releaseObjectInternal.call(this)};e.QueryManager=function(){};e.QueryManager.prototype=new e.DfService;e.QueryManager.prototype._ff_c="QueryManager";e.QueryManager.prototype.m_activeContainer=null;e.QueryManager.prototype.m_beforeQueryExecutionListener=null;e.QueryManager.prototype.m_cacheHintsEnabled=false;e.QueryManager.prototype.m_clientInfo=null;e.QueryManager.prototype.m_clientQueryObjectStorageName=null;e.QueryManager.prototype.m_convenienceCmds=null;e.QueryManager.prototype.m_dataSource=null;e.QueryManager.prototype.m_dimensionsRequestedFromClient=null;e.QueryManager.prototype.m_dimensionsToClone=null;e.QueryManager.prototype.m_directVariableTransferConsumer=false;e.QueryManager.prototype.m_disableExitVariables=false;e.QueryManager.prototype.m_documentsService=null;e.QueryManager.prototype.m_enableHierarchyToUDHConversion=false;e.QueryManager.prototype.m_hasPreparedAfterVariables=false;e.QueryManager.prototype.m_includePerformanceData=null;e.QueryManager.prototype.m_isMetadataCached=false;e.QueryManager.prototype.m_keyRefSerializationEnabled=false;e.QueryManager.prototype.m_lifeCycleState=null;e.QueryManager.prototype.m_lovManager=null;e.QueryManager.prototype.m_metadataModel=null;e.QueryManager.prototype.m_modCounterState=null;e.QueryManager.prototype.m_mode=null;e.QueryManager.prototype.m_myNameAsMicroCube=null;e.QueryManager.prototype.m_name=null;e.QueryManager.prototype.m_planningManager=null;e.QueryManager.prototype.m_preQueryExecutor=null;e.QueryManager.prototype.m_preQueryName=null;e.QueryManager.prototype.m_processorStateListeners=null;e.QueryManager.prototype.m_queryExecutedListener=null;e.QueryManager.prototype.m_queryModel=null;e.QueryManager.prototype.m_resultsetStateId=0;e.QueryManager.prototype.m_resultsetStateIdUsed=false;e.QueryManager.prototype.m_systemDescription=null;e.QueryManager.prototype.m_validateLocalFormulaMembers=false;e.QueryManager.prototype.m_variableProcessorPreviousState=null;e.QueryManager.prototype.m_variableProcessorState=null;e.QueryManager.prototype._createPlanningManager=function(){return this.getPlanningManager()!==null};e.QueryManager.prototype.activateVariableVariant=e.noSupport;e.QueryManager.prototype.addInputReadinessFilterState=function(e,t){this.getQueryModel().addInputReadinessFilterState(e,t)};e.QueryManager.prototype.addNewInputEnablementRule=function(e,t){return this.getPlanningManager().addNewInputEnablementRule(e,t)};e.QueryManager.prototype.addPlanningVersionSettings=function(e){return this.getPlanningManager().addPlanningVersionSettings(e)};e.QueryManager.prototype.addVariableVariant=e.noSupport;e.QueryManager.prototype.applyRSFeatureRequest=e.noSupport;e.QueryManager.prototype.applyState=e.noSupport;e.QueryManager.prototype.applyValueHelpCapabilities=e.noSupport;e.QueryManager.prototype.applyingStateOnQueryManager=e.noSupport;e.QueryManager.prototype.assertLifeCycleActive=function(){if(this.m_lifeCycleState!==e.LifeCycleState.ACTIVE&&this.m_lifeCycleState!==e.LifeCycleState.STARTING_UP){throw e.XException.createIllegalStateException("Query manager is not active")}};e.QueryManager.prototype.attachBeforeQueryExecutionListener=function(t,n){this.m_beforeQueryExecutionListener.put(t,e.XPair.create(t,n))};e.QueryManager.prototype.attachQueryExecutedListener=function(t,n){this.m_queryExecutedListener.put(t,e.XPair.create(t,n))};e.QueryManager.prototype.callOnBeforeQueryExecutionListeners=function(t){if(e.XCollectionUtils.hasElements(this.m_beforeQueryExecutionListener)){let n=this.m_beforeQueryExecutionListener.getValuesAsReadOnlyList().getIterator();while(n.hasNext()){let r=n.next();r.getFirstObject().onBeforeQueryExecuted(e.notNull(t)?t:r.getSecondObject())}}};e.QueryManager.prototype.canHaveExtensions=function(){return false};e.QueryManager.prototype.canMaterializeCompleteObject=function(){return false};e.QueryManager.prototype.cancelReInitVariables=function(e,t,n){return this.getVariableProcessorProvider().processVariableCancel(e,t,n)};e.QueryManager.prototype.checkRootNodeFetching=function(){if(this.getMode()===e.QueryManagerMode.BLENDING){let t=e.BlendingUtils.getLeafQueryModels(this);e.XCollectionUtils.forEach(t,t=>{let n=t.getDrillManager();if(e.notNull(n)){n.checkRootNodeFetching()}})}else{let t=this.getDrillManager();if(e.notNull(t)){t.checkRootNodeFetching()}}};e.QueryManager.prototype.checkVariables=function(e,t,n){return this.getVariableProcessorProvider().processCheckVariables(e,t,n)};e.QueryManager.prototype.cleanPersistencySettings=function(){this.setResultSetPersistenceIdentifier(null);this.setResultSetPersistanceTargetSchema(null);this.setResultSetPersistanceTargetTable(null);this.getActiveResultSetContainerBase().setSerializedData(null,null)};e.QueryManager.prototype.clearClientInfo=function(){this.getClientInfo().clearClientInfo()};e.QueryManager.prototype.clearExternalVariablesRepresentations=function(){this.assertLifeCycleActive();this.m_queryModel.clearExternalVariablesRepresentations()};e.QueryManager.prototype.clearInputEnablementRules=function(){this.getPlanningManager().clearInputEnablementRules()};e.QueryManager.prototype.clearInputReadinessFilter=function(){this.getQueryModel().clearInputReadinessFilter()};e.QueryManager.prototype.clearVariableVariants=e.noSupport;e.QueryManager.prototype.clearVersionAliases=function(){this.getPlanningManager().clearVersionAliases()};e.QueryManager.prototype.cloneExt=function(t){let n=e.QueryCloneMode.findInFlags(t,e.QueryCloneMode.CURRENT_STATE);return this.cloneQueryManagerExt(n)};e.QueryManager.prototype.cloneOlapComponent=function(t,n){return this.cloneQueryManagerExt(e.QueryCloneMode.CURRENT_STATE)};e.QueryManager.prototype.cloneQueryManager=function(){return this.cloneQueryManagerExt(e.QueryCloneMode.CURRENT_STATE)};e.QueryManager.prototype.cloneQueryManagerBase=function(e){this.assertLifeCycleActive();let t=this.newObject();t.setupClone(this,e,null);return t};e.QueryManager.prototype.cloneQueryManagerExt=function(t){let n;if(this.getMode()===e.QueryManagerMode.BLENDING){let r=this.getServiceConfig();let i=r.getBlendingDefinition();let a=i.clone();let o=e.QueryServiceConfig.createWithBlendingDefinition(this.getApplication(),a);let l=o.processQueryManagerCreation(e.SyncType.BLOCKING,null,null);e.MessageUtil.checkNoError(l);n=l.getData();let s=n.getQueryModel();s.getDrillManager().setValidateContextFreeNavigations(this.m_queryModel.getDrillManager().isValidatingContextFreeNavigations());let u=this.m_queryModel.serializeToString(e.QModelFormat.INA_REPOSITORY);s.stopEventing();let p=s.deserializeExt(e.QModelFormat.INA_REPOSITORY,u);s.resumeEventing();let g=this.m_queryModel.getDimensions();if(e.notNull(g)){let t=g.size();for(let n=0;n<t;n++){let t=g.get(n);if(e.isNull(t)){continue}let r=s.getDimensionByNameFromExistingMetadata(t.getName());if(e.isNull(r)){continue}r.reOrderStructureMembers(t.getOrderedStructureMemberNames())}}s.getDrillManager().copyRootNodesFrom(this.m_queryModel.getDrillManager());e.MessageUtil.checkNoError(p);if(t===e.QueryCloneMode.BASE_STATE){n.getConvenienceCommands().resetToDefault()}}else{n=this.cloneQueryManagerBase(t)}return n};e.QueryManager.prototype.cloneQueryManagerOptimized=function(t){let n=this.getQueryModelBase();let r=e.XHashSetOfString.create();let i=e.XHashSetOfString.create();i.addAll(t);i.add(n.getMeasureDimension().getName());this.setDimensionsRequestedFromClient(i);r.addAll(t);e.DimensionUsageAnalyzer2.addDimensionsUsedByVariables(n,r);e.DimensionUsageAnalyzer2.addDimensionsUsedInFilters(n,r);e.DimensionUsageAnalyzer2.addDimensionsUsedInUniversalDisplayHierarchies(n,r);e.DimensionUsageAnalyzer2.addDimensionsUsedByLeveledHierarchies(n,r);e.DimensionUsageAnalyzer2.addDimensionsUsedInExceptions(n,r);e.DimensionUsageAnalyzer2.addDimensionsUsedInConditions(n,r);r.add(this.getQueryModel().getMeasureDimension().getName());this.setDimensionsToClone(r);let a=this.cloneQueryManagerBase(e.QueryCloneMode.CURRENT_STATE);let o=a.getQueryServiceConfig();o.setRequiredDimensions(e.XList.createWithList(r.getValuesAsReadOnlyList()));o.setSupportsDimensionLazyLoad(false);this.getDimensionsToClone().clear();this.getDimensionsRequestedFromClient().clear();return a};e.QueryManager.prototype.cloneQueryManagerOptimizedWithLazyLoad=e.noSupport;e.QueryManager.prototype.cloneQueryManagerUsingExtDataSource=e.noSupport;e.QueryManager.prototype.createCustomHierarchyProvider=e.noSupport;e.QueryManager.prototype.createDataAreaCommand=function(t){let n=this.getPlanningManager().getDataArea();let r;if(e.isNull(n)){r=e.QLightweightDataAreaCommand.create(this,this.getQueryModelBase(),t)}else{r=n.createPlanningContextCommand(t);r.setConnection(this.getConnection())}return r};e.QueryManager.prototype.createDataAreaCommandDocReset=function(){return this.createDataAreaCommand(e.PlanningContextCommandType.DOC_RESET)};e.QueryManager.prototype.createDataAreaCommandDocSave=function(){return this.createDataAreaCommand(e.PlanningContextCommandType.DOC_SAVE)};e.QueryManager.prototype.createDataAreaCommandRefresh=function(){return this.createDataAreaCommand(e.PlanningContextCommandType.REFRESH)};e.QueryManager.prototype.deletePlanningVersionSettings=function(e){return this.getPlanningManager().deletePlanningVersionSettings(e)};e.QueryManager.prototype.deleteVariableVariant=e.noSupport;e.QueryManager.prototype.deserializeExt=e.noSupport;e.QueryManager.prototype.deserializeFromContent=function(e){return this.deserializeFromElementExt(e.getContentType(),e.getJsonContent())};e.QueryManager.prototype.deserializeFromElementExt=function(e,t){return this.getQueryModel().deserializeFromElementExt(e,t)};e.QueryManager.prototype.deserializeNewComponentExt=e.noSupport;e.QueryManager.prototype.deserializeNewComponentFromElementExt=e.noSupport;e.QueryManager.prototype.detachBeforeQueryExecutionListener=function(e){this.m_beforeQueryExecutionListener.remove(e)};e.QueryManager.prototype.detachQueryExecutedListener=function(e){this.m_queryExecutedListener.remove(e)};e.QueryManager.prototype.disableReturnedDataSelection=function(e){this.m_queryModel.toggleReturnedDataSelection(e,false)};e.QueryManager.prototype.emptyVariableDefinition=e.noSupport;e.QueryManager.prototype.enableHierarchyToUDHConversion=function(t){if(this.getSystemType().isTypeOf(e.SystemType.BW)&&this.getModelCapabilities().supportsUniversalDisplayHierarchiesCustomDimensions()){this.m_enableHierarchyToUDHConversion=t;this.invalidateState()}};e.QueryManager.prototype.enableReturnedDataSelection=function(e){this.m_queryModel.toggleReturnedDataSelection(e,true)};e.QueryManager.prototype.getAbstractRendering=function(e,t){this.assertLifeCycleActive();return this.getActiveResultSetContainer().getAbstractRendering(e,t)};e.QueryManager.prototype.getActiveResultSetContainer=function(){return this.getResultsetContainer(false)};e.QueryManager.prototype.getActiveResultSetContainerBase=function(){return this.getResultsetContainer(false)};e.QueryManager.prototype.getAllDisabledReturnedDataSelections=function(){if(!this.supportsReturnedDataSelection()){return null}return e.XStream.of(this.m_queryModel.getAllDisabledReturnedDataSelectionConstants()).collect(e.XStreamCollector.toListOfString(e=>e.getName()))};e.QueryManager.prototype.getAllEnabledReturnedDataSelections=function(){if(!this.supportsReturnedDataSelection()){return null}return e.XStream.of(this.m_queryModel.getAllEnabledReturnedDataSelectionConstants()).collect(e.XStreamCollector.toListOfString(e=>e.getName()))};e.QueryManager.prototype.getAllPlanningVersionSettings=function(){return this.getPlanningManager().getAllPlanningVersionSettings()};e.QueryManager.prototype.getAndUseResultsetStateId=function(){this.m_resultsetStateIdUsed=true;return this.m_resultsetStateId};e.QueryManager.prototype.getCapabilitiesBase=e.noSupport;e.QueryManager.prototype.getCellContextManager=function(){this.assertLifeCycleActive();return e.isNull(this.m_queryModel)?null:this.m_queryModel.getCellContextManager()};e.QueryManager.prototype.getChangedProperties=function(){return null};e.QueryManager.prototype.getChangedPropertiesFromModellerMetadata=function(){return null};e.QueryManager.prototype.getChangedPropertiesInDetail=function(){return null};e.QueryManager.prototype.getClassicResultSet=function(){this.assertLifeCycleActive();return this.getActiveResultSetContainer().getClassicResultSet()};e.QueryManager.prototype.getClientComponent=function(){return this.getClientInfo().getClientComponent()};e.QueryManager.prototype.getClientIdentifier=function(){return this.getClientInfo().getClientIdentifier()};e.QueryManager.prototype.getClientInfo=function(){if(e.isNull(this.m_clientInfo)){this.m_clientInfo=e.XClientInfo.createWithParent(this.getApplication().getClientInfo())}return this.m_clientInfo};e.QueryManager.prototype.getClientQueryObjectMigrationStorageName=function(){return this.m_clientQueryObjectStorageName};e.QueryManager.prototype.getClientQueryObjectStorageName=function(){return this.m_clientQueryObjectStorageName};e.QueryManager.prototype.getClientVersion=function(){return this.getClientInfo().getClientVersion()};e.QueryManager.prototype.getComponentType=function(){return this.getOlapComponentType()};e.QueryManager.prototype.getContext=function(){return this};e.QueryManager.prototype.getConvenienceCommands=function(){if(e.isNull(this.m_convenienceCmds)){this.m_convenienceCmds=this.getOlapEnv().selectCmds(this)}return this.m_convenienceCmds};e.QueryManager.prototype.getCursorResultSet=function(){this.assertLifeCycleActive();return this.getActiveResultSetContainer().getCursorResultSet()};e.QueryManager.prototype.getDWCOrEPFSpaceId=function(){if(this.getSystemDescription().isDWCConnection()){let t=this.getDataSource();if(t.getType()===e.MetaObjectType.INA_MODEL){return t.getSchemaName()}else if(t.getType()===e.MetaObjectType.PLANNING){let n=t.getSchemaName();let r=e.XString.indexOf(n,"#");if(r!==-1){return e.XString.substring(n,0,r)}}}return null};e.QueryManager.prototype.getDataArea=function(){return this.getPlanningManager().getDataArea()};e.QueryManager.prototype.getDataRefreshEnabled=function(){return this.getResultsetContainer(false).getDataRefreshEnabled()};e.QueryManager.prototype.getDataRequest=e.noSupport;e.QueryManager.prototype.getDataRequestAsString=e.noSupport;e.QueryManager.prototype.getDataSource=function(){return this.m_dataSource};e.QueryManager.prototype.getDataSourceOrigin=function(){return this.getDataSource()};e.QueryManager.prototype.getDataSourceTarget=function(){return this.getDataSource()};e.QueryManager.prototype.getDefinition=function(){return this.getInitSettings().getDefinition()};e.QueryManager.prototype.getDimensionAccessor=function(){this.assertLifeCycleActive();return e.isNull(this.m_queryModel)?null:this.m_queryModel.getDimensionAccessor()};e.QueryManager.prototype.getDimensionMemberVariables=function(){return this.getVariableContainer().getDimensionMemberVariables()};e.QueryManager.prototype.getDimensionsRequestedFromClient=function(){return this.m_dimensionsRequestedFromClient};e.QueryManager.prototype.getDimensionsToClone=function(){return this.m_dimensionsToClone};e.QueryManager.prototype.getDrillManager=function(){this.assertLifeCycleActive();return e.isNull(this.m_queryModel)?null:this.m_queryModel.getDrillManager()};e.QueryManager.prototype.getExecuteRequestOnOldResultSet=function(){return this.getActiveResultSetContainer().getExecuteRequestOnOldResultSet()};e.QueryManager.prototype.getFieldAccessorSingle=function(){this.assertLifeCycleActive();return e.isNull(this.m_queryModel)?null:this.m_queryModel.getFieldAccessorSingle()};e.QueryManager.prototype.getHierarchyNameVariable=function(e){return this.getVariableContainer().getHierarchyNameVariable(e)};e.QueryManager.prototype.getHierarchyNameVariables=function(){return this.getVariableContainer().getHierarchyNameVariables()};e.QueryManager.prototype.getHierarchyNodeVariable=function(e){return this.getVariableContainer().getHierarchyNodeVariable(e)};e.QueryManager.prototype.getIncludePerformanceData=function(){return this.m_includePerformanceData};e.QueryManager.prototype.getInitSettings=function(){return this.getServiceConfig()};e.QueryManager.prototype.getInputEnabledAndNonTechnicalVariables=function(){this.assertLifeCycleActive();return this.m_queryModel.getInputEnabledAndNonTechnicalVariables()};e.QueryManager.prototype.getInputEnabledVariable=function(e){return this.getVariableContainer().getInputEnabledVariable(e)};e.QueryManager.prototype.getInputEnabledVariables=function(){this.assertLifeCycleActive();return this.m_queryModel.getInputEnabledVariables()};e.QueryManager.prototype.getInputEnablementRules=function(){return this.getPlanningManager().getInputEnablementRules()};e.QueryManager.prototype.getInputReadinessCacheMode=function(){return this.getPlanningManager().getInputReadinessCacheMode()};e.QueryManager.prototype.getInputReadinessFilter=function(){return this.getQueryModel().getInputReadinessFilter()};e.QueryManager.prototype.getInputReadinessMainQuery=function(){return this.getPlanningManager().getInputReadinessMainQuery()};e.QueryManager.prototype.getInstanceId=function(){return this.getInitSettings().getInstanceId()};e.QueryManager.prototype.getKeyRefStorage=e.noSupport;e.QueryManager.prototype.getLanguageLocale=function(){return this.getApplication().getLanguageLocale()};e.QueryManager.prototype.getLifeCycleState=function(){return this.m_lifeCycleState};e.QueryManager.prototype.getLovManager=function(){if(e.isNull(this.m_lovManager)){this.m_lovManager=e.LovManager.create(this)}return this.m_lovManager};e.QueryManager.prototype.getMaxColumns=function(){return this.getResultsetContainer(false).getMaxColumns()};e.QueryManager.prototype.getMaxResultRecords=function(){return this.getResultsetContainer(false).getMaxResultRecords()};e.QueryManager.prototype.getMaxRows=function(){return this.getResultsetContainer(false).getMaxRows()};e.QueryManager.prototype.getMessageManager=e.noSupport;e.QueryManager.prototype.getMetadataModel=function(){this.lazyLoadMetadataModel();return this.m_metadataModel};e.QueryManager.prototype.getMetadataModelBase=function(){this.lazyLoadMetadataModel();return this.m_metadataModel};e.QueryManager.prototype.getModCounterState=function(){if(e.isNull(this.m_modCounterState)){this.m_modCounterState=e.ModCounterState.create(this)}return this.m_modCounterState};e.QueryManager.prototype.getMode=function(){if(e.isNull(this.m_mode)){this.m_mode=this.getInitSettings().getMode()}return this.m_mode};e.QueryManager.prototype.getModelCapabilities=function(){this.assertLifeCycleActive();if(e.isNull(this.m_queryModel)){return this.getOlapSystemContainer().getServiceCapabilitiesExt(this.getProviderType())}return this.m_queryModel.getModelCapabilities()};e.QueryManager.prototype.getName=function(){return e.isNull(this.m_name)?this.getInstanceId():this.m_name};e.QueryManager.prototype.getNameForMicroCubeUse=function(){return this.m_myNameAsMicroCube};e.QueryManager.prototype.getOffsetColumns=function(){return this.getResultsetContainer(false).getOffsetColumns()};e.QueryManager.prototype.getOffsetRows=function(){return this.getResultsetContainer(false).getOffsetRows()};e.QueryManager.prototype.getOlapComponentType=function(){return e.OlapComponentType.QUERY_MANAGER};e.QueryManager.prototype.getOlapEnv=function(){let t=this.getApplication();return e.isNull(t)?null:t.getOlapEnvironment()};e.QueryManager.prototype.getOlapEnvironmentBase=function(){let t=this.getApplication();return e.isNull(t)?null:t.getOlapEnvironment()};e.QueryManager.prototype.getOlapSystemContainer=function(){let e=this.getSystemName();return this.getOlapEnv().getSystemContainer(e)};e.QueryManager.prototype.getOrCreateDocumentsStoreService=function(t){if(e.isNull(this.m_documentsService)){if(this.isShallow()){let n=this.getActiveResultSetContainer();if(e.notNull(n)&&e.XStringUtils.isNotNullAndNotEmpty(n.getRsDocumentServicePath())){this.m_documentsService=e.DocumentsStoreServiceFactory.createDocumentStoreForShallowQueryManager(this,this.getInstanceId(),n.getRsDocumentServicePath(),t,n.getRsDataArea())}}else if(this.getQueryModel()!==null){let n=this.getQueryModel().getDocumentsInfo();this.m_documentsService=e.isNull(n)||n.getSupportsDocuments()===e.DocumentsSupportType.NONE||e.XStringUtils.isNullOrEmpty(n.getDocumentsServicePath())?null:e.DocumentsStoreServiceFactory.createDocumentStore(this,t,this.getQueryModel().getDataArea())}}return this.m_documentsService};e.QueryManager.prototype.getPlanningManager=function(){if(e.isNull(this.m_planningManager)){this.m_planningManager=e.PlanningFactory.createPlanningManager(this)}return this.m_planningManager};e.QueryManager.prototype.getPlanningMode=function(){return this.getPlanningManager().getPlanningMode()};e.QueryManager.prototype.getPlanningModel=function(){return this.getPlanningManager().getPlanningModel()};e.QueryManager.prototype.getPlanningRestriction=function(){return this.getPlanningManager().getPlanningRestriction()};e.QueryManager.prototype.getPlanningVersionIdentifier=function(e,t,n){return this.getPlanningManager().getPlanningVersionIdentifier(e,t,n)};e.QueryManager.prototype.getPlanningVersionSettings=function(e,t,n){return this.getPlanningManager().getPlanningVersionSettings(e,t,n)};e.QueryManager.prototype.getPlanningVersionSettingsMode=function(){return this.getPlanningManager().getPlanningVersionSettingsMode()};e.QueryManager.prototype.getPlanningVersionSettingsSimple=function(e,t,n){return this.getPlanningManager().getPlanningVersionSettingsSimple(e,t,n)};e.QueryManager.prototype.getPreQueryExecutor=function(){if(e.isNull(this.m_preQueryExecutor)){this.m_preQueryExecutor=e.PreQueryExecutor.create(this)}return this.m_preQueryExecutor};e.QueryManager.prototype.getPreQueryName=function(){return this.m_preQueryName};e.QueryManager.prototype.getPreviousVariableProcessorState=function(){return this.m_variableProcessorPreviousState};e.QueryManager.prototype.getProviderType=function(){return this.getInitSettings().getProviderType()};e.QueryManager.prototype.getQueryManager=function(){return this};e.QueryManager.prototype.getQueryManagerProvider=e.noSupport;e.QueryManager.prototype.getQueryModel=function(){return this.m_queryModel};e.QueryManager.prototype.getQueryModelBase=function(){return this.m_queryModel};e.QueryManager.prototype.getQueryServiceConfig=function(){return this.getServiceConfig()};e.QueryManager.prototype.getResourceDetailsFromResourceIdentifier=e.noSupport;e.QueryManager.prototype.getResourcePath=e.noSupport;e.QueryManager.prototype.getResultSetMessages=function(){return this.getActiveResultSetContainer()};e.QueryManager.prototype.getResultSetPersistenceIdentifier=function(){return this.getResultsetContainer(false).getResultSetPersistenceIdentifier()};e.QueryManager.prototype.getResultSetPersistenceSchema=function(){return this.getResultsetContainer(false).getResultSetPersistenceSchema()};e.QueryManager.prototype.getResultSetPersistenceTable=function(){return this.getResultsetContainer(false).getResultSetPersistenceTable()};e.QueryManager.prototype.getResultSetPersistenceType=function(){return this.getResultsetContainer(false).getResultSetPersistenceType()};e.QueryManager.prototype.getResultSetProviderFactory=e.noSupport;e.QueryManager.prototype.getResultSetSyncState=function(){return this.getActiveResultSetContainer().getResultSetSyncState()};e.QueryManager.prototype.getResultsetContainer=function(t){if(e.isNull(this.m_activeContainer)||this.m_activeContainer.isReleased()||t&&this.m_activeContainer.getSyncState()!==e.SyncState.OUT_OF_SYNC){let t=this.m_activeContainer;this.m_activeContainer=e.ResultSetContainer.create(this,this.m_activeContainer);this.resetVisualizationContainers();if(e.notNull(t)){t.setSerializedData(null,null)}}return this.m_activeContainer};e.QueryManager.prototype.getRriTargetManager=e.noSupport;e.QueryManager.prototype.getSelectionTagging=function(){return null};e.QueryManager.prototype.getSettingsBase=function(){return this.getServiceConfig()};e.QueryManager.prototype.getStorageGroupName=function(){return null};e.QueryManager.prototype.getStorageName=function(){return null};e.QueryManager.prototype.getStorageObjectName=function(){return null};e.QueryManager.prototype.getStoryId=function(){return this.getClientInfo().getStoryId()};e.QueryManager.prototype.getStoryName=function(){return this.getClientInfo().getStoryName()};e.QueryManager.prototype.getSuppressCalculatedMembersWithoutBookedData=function(){return this.getResultsetContainer(false).getSuppressCalculatedMembersWithoutBookedData()};e.QueryManager.prototype.getSystemDescription=function(){if(e.isNull(this.m_systemDescription)){let t=this.getInitSettings();let n=t.getSystemDescription();this.m_systemDescription=e.XWeakReferenceUtil.getWeakRef(n)}return e.XWeakReferenceUtil.getHardRef(this.m_systemDescription)};e.QueryManager.prototype.getSystemName=function(){let t=this.getSystemDescription();if(e.isNull(t)){return null}return t.getSystemName()};e.QueryManager.prototype.getSystemType=function(){return this.getSystemDescription().getSystemType()};e.QueryManager.prototype.getTagging=function(){return this.getServiceConfig().getTagging()};e.QueryManager.prototype.getTransientFilterActions=function(t){let n=e.XList.create();if(this.getQueryModel()!==null&&this.getQueryModel().getModelCapabilities().supportsFunctionalVariables()&&this.getQueryModel().getModelCapabilities().supportsSupportsDimensionSemanticType()){let r=this.getValueHelpProvider();let i=this.getQueryModel();let a=this.getOlapEnv().getSharedQueryManager(i.getDatasetId());if(e.notNull(a)){if(a.getValueHelpProvider()!==null){r=a.getValueHelpProvider();i=a.getQueryModel()}}let o=e.QFilterUtil.collectShiftableTimeRangeFilters(this.getQueryModel());let l=e.XHashSetOfString.create();for(let a=0;a<o.size();a++){let s=o.get(a);let u=i.getDimensionByName(s.getTimeDimensionName());if(l.contains(u.getName())||!e.QTimeDimensionUtil.isFiscalWithFunctionalVariables(u)){continue}l.add(u.getName());let p=r.getCachedFunctionalVariables(u);if(e.isNull(p)){let i=r.processFunctionalVariableHelp(u,t,null,null);if(e.notNull(i)){n.add(i)}}}}let r=e.QFilterUtil.collectFilterAcrossModels(this.getQueryModel());for(let i=0;i<r.size();i++){let a=r.get(i);let o=a.getTargetDatasetId();let l;if(e.XString.isEqual(o,this.getQueryModel().getDatasetId())){l=this}else{l=this.getOlapEnv().getSharedQueryManager(o)}if(e.notNull(l)){let r=a.processLovQueriesExecutionExt(l.getQueryModel(),t,null,null);if(e.notNull(r)){n.add(r)}}}return n};e.QueryManager.prototype.getValueHelpProvider=e.noSupport;e.QueryManager.prototype.getVariable=function(e){this.assertLifeCycleActive();let t=this.m_queryModel.getVariableManagerBase();return t.getVariableBaseByName(e)};e.QueryManager.prototype.getVariableContainer=function(){return this.getVariableContainerBase()};e.QueryManager.prototype.getVariableContainerBase=function(){return e.isNull(this.m_queryModel)?null:this.m_queryModel.getVariableManagerBase()};e.QueryManager.prototype.getVariableMode=function(){if(this.getVariableProcessorProvider().isDirectVariableTransfer()){return e.VariableMode.DIRECT_VALUE_TRANSFER}return e.VariableMode.SUBMIT_AND_REINIT};e.QueryManager.prototype.getVariableProcessor=function(){return this};e.QueryManager.prototype.getVariableProcessorProvider=e.noSupport;e.QueryManager.prototype.getVariableProcessorState=function(){return this.m_variableProcessorState};e.QueryManager.prototype.getVariableVariantByName=e.noSupport;e.QueryManager.prototype.getVariableVariants=e.noSupport;e.QueryManager.prototype.getVariables=function(){this.assertLifeCycleActive();return this.m_queryModel.getVariables()};e.QueryManager.prototype.getVersionAliases=function(){return this.getPlanningManager().getVersionAliases()};e.QueryManager.prototype.getWidgetId=function(){return this.getClientInfo().getWidgetId()};e.QueryManager.prototype.hasChangedCells=function(){return this.getPlanningManager().hasChangedCells()};e.QueryManager.prototype.hasChangedValueLocks=function(){return this.getPlanningManager().hasChangedValueLocks()};e.QueryManager.prototype.hasChangedValues=function(){return this.getPlanningManager().hasChangedValues()};e.QueryManager.prototype.hasInputEnabledAndNonTechnicalVariables=function(){this.assertLifeCycleActive();return e.notNull(this.m_queryModel)&&this.m_queryModel.hasInputEnabledAndNonTechnicalVariables()};e.QueryManager.prototype.hasInputEnabledVariables=function(){this.assertLifeCycleActive();return e.notNull(this.m_queryModel)&&this.m_queryModel.hasInputEnabledVariables()};e.QueryManager.prototype.hasLovManager=function(){return e.notNull(this.m_lovManager)};e.QueryManager.prototype.hasMandatoryVariables=function(){this.assertLifeCycleActive();return e.notNull(this.m_queryModel)&&this.m_queryModel.hasMandatoryVariables()};e.QueryManager.prototype.hasMoreColumnRecordsAvailable=function(){return this.getActiveResultSetContainer().hasMoreColumnRecordsAvailable()};e.QueryManager.prototype.hasMoreRowRecordsAvailable=function(){return this.getActiveResultSetContainer().hasMoreRowRecordsAvailable()};e.QueryManager.prototype.hasNewValues=function(){return this.getPlanningManager().hasNewValues()};e.QueryManager.prototype.hasPendingDocumentIdRequests=function(){return this.getActiveResultSetContainer().hasDocumentIdCollection()};e.QueryManager.prototype.hasPlanningManager=function(){return e.notNull(this.m_planningManager)};e.QueryManager.prototype.hasVariables=function(){this.assertLifeCycleActive();return e.notNull(this.m_queryModel)&&this.m_queryModel.hasVariables()};e.QueryManager.prototype.initializeDataAreaState=function(){return this.getPlanningManager().initializeDataAreaState()};e.QueryManager.prototype.initializeMainSequence=function(t,n,r){let i=this.getTransientFilterActions(t);let a=null;if(i.size()>0){a=e.SyncActionSequence.create(t,n,r,this);for(let e=0;e<i.size();e++){a.addAction(i.get(e))}}return a};e.QueryManager.prototype.invalidateAndIncrementModelStateId=function(){if(this.m_resultsetStateIdUsed){this.m_resultsetStateIdUsed=false;this.m_resultsetStateId=this.m_resultsetStateId+1}};e.QueryManager.prototype.invalidateState=function(){if(this._createPlanningManager()){this.m_planningManager.setPublicVersionEditPossible(false)}if(this.getMode()===e.QueryManagerMode.RAW_QUERY){this.getResultsetContainer(true)}else{this.m_queryModel.notifyNodeChanged()}};e.QueryManager.prototype.invalidateVisualizationContainers=function(){let t=this.getQueryModel();let n=e.isNull(t)?null:t.getVisualizationManager();if(e.notNull(n)){n.invalidateGridCollector()}let r=e.isNull(n)?null:n.getVisualizationDefinitions();if(e.XCollectionUtils.hasElements(r)){e.XCollectionUtils.forEach(r,e=>{e.invalidateVisualizationContainer()})}};e.QueryManager.prototype.isApplyingRepoState=e.noSupport;e.QueryManager.prototype.isBasedOnVirtualDataSource=function(){return e.XString.isEqual(this.getDataSource().getFullQualifiedName(),e.QModelConstants.UPDATE_DYN_VAR_VIRTUAL_DATASOURCE)};e.QueryManager.prototype.isCacheHintEnabled=function(){return this.m_cacheHintsEnabled};e.QueryManager.prototype.isCancelNeeded=function(){return this.getVariableProcessorState().isCancelNeeded()&&(this.hasVariables()||this.supportsAndAllowsEmptyExtendedVarDefinition())};e.QueryManager.prototype.isClassicResultSetAvailable=function(){this.assertLifeCycleActive();return this.getActiveResultSetContainer().isClassicResultSetAvailable()};e.QueryManager.prototype.isCursorResultSetAvailable=function(){this.assertLifeCycleActive();return this.getActiveResultSetContainer().isCursorResultSetAvailable()};e.QueryManager.prototype.isDataEntryEnabled=function(){return this.getPlanningManager().isDataEntryEnabled()};e.QueryManager.prototype.isDataEntryReadOnly=function(){return this.getPlanningManager().isDataEntryReadOnly()};e.QueryManager.prototype.isDataSourceInitial=function(){return e.isNull(this.m_dataSource)||this.m_dataSource.getType()===null};e.QueryManager.prototype.isDirectVariableTransferEnabled=function(){return this.m_directVariableTransferConsumer};e.QueryManager.prototype.isEventingStopped=function(){this.assertLifeCycleActive();return e.notNull(this.m_queryModel)&&this.m_queryModel.isEventingStopped()};e.QueryManager.prototype.isExecuteAutoVariableSubmit=function(){return e.notNull(this.m_queryModel)&&this.getModelCapabilities().supportsAutoVariableSubmit()&&this.getInitSettings().isEnableAutoVariableSubmit()};e.QueryManager.prototype.isFailedSubmit=function(){return this.getVariableProcessorState().isFailedSubmit()};e.QueryManager.prototype.isHierarchyToUDHConversionEnabled=function(){return this.m_enableHierarchyToUDHConversion};e.QueryManager.prototype.isHierarchyToUDHConversionEnabledForCurrentRs=function(){return this.getActiveResultSetContainer().isHierarchyToUDHConversionEnabled()};e.QueryManager.prototype.isIncludePerformanceNotDefault=e.noSupport;e.QueryManager.prototype.isKeyRefSerializationEnabled=function(){return this.m_keyRefSerializationEnabled};e.QueryManager.prototype.isKeyfigureCalculationSuppressed=function(){return this.getResultsetContainer(false).isKeyfigureCalculationSuppressed()};e.QueryManager.prototype.isLightweightSearch=function(){let t=this.getDataSource();return e.notNull(t)&&t.getType()===e.MetaObjectType.CATALOG_VIEW_2};e.QueryManager.prototype.isMetadataCached=function(){return this.m_isMetadataCached};e.QueryManager.prototype.isProcessingAutoSubmit=function(){return this.m_variableProcessorState===e.VariableProcessorState.PROCESSING_AUTO_SUBMIT||this.m_variableProcessorState===e.VariableProcessorState.PROCESSING_AUTO_SUBMIT_AFTER_REINIT};e.QueryManager.prototype.isPublicVersionEditPossible=function(){return this.getPlanningManager().isPublicVersionEditPossible()};e.QueryManager.prototype.isReinitNeeded=function(){return this.getVariableProcessorState().isReinitNeeded()&&(this.hasVariables()||this.supportsAndAllowsEmptyExtendedVarDefinition())};e.QueryManager.prototype.isRequestingPerformanceData=function(){return this.m_includePerformanceData.getBoolean()===true};e.QueryManager.prototype.isResultInvalidWithFallback=function(t){let n;if(e.isNull(t)){n=this.m_activeContainer}else{n=t}return e.isNull(n)||n.getSyncState().isNotInSync()&&n.getSyncState()!==e.SyncState.PROCESSING};e.QueryManager.prototype.isResultSetTransportEnabled=function(){return this.getResultsetContainer(false).isResultSetTransportEnabled()};e.QueryManager.prototype.isShallow=function(){let t=this.getInitSettings();let n=t.getMode()===e.QueryManagerMode.RAW_QUERY&&t.getDefinitionType()===e.QModelFormat.INA_CLONE_RENDERING;return t.getDataRequestAsString()!==null&&(this.getQueryModel()===null||n)};e.QueryManager.prototype.isSubmitNeeded=function(){return this.getVariableProcessorState().isSubmitNeeded()&&(this.hasVariables()||this.supportsAndAllowsEmptyExtendedVarDefinition())};e.QueryManager.prototype.isSubmitted=function(){return this.m_variableProcessorState.isTypeOf(e.VariableProcessorState.SUBMITTED)};e.QueryManager.prototype.isSystemMappingValid=function(e){return this.getSystemDescription().isSystemMappingValid(e.getSystemDescription())};e.QueryManager.prototype.isUpdatingDataRequestCapabilities=e.noSupport;e.QueryManager.prototype.isUsingSavedPromptsForExitVariables=function(){return this.m_disableExitVariables};e.QueryManager.prototype.isValidatingLocalFormulaMembers=function(){return this.m_validateLocalFormulaMembers};e.QueryManager.prototype.isVariableSubmitFailed=function(){return this.m_variableProcessorState.isFailedSubmit()};e.QueryManager.prototype.lazyLoadMetadataModel=function(){if(e.isNull(this.m_metadataModel)){this.m_metadataModel=e.QMetadataModel.create(this.m_queryModel)}};e.QueryManager.prototype.loadQueryModel=e.noSupport;e.QueryManager.prototype.maintainStateForRsWithAutoSubmit=function(t){if(e.notNull(this.m_queryModel)&&this.getModelCapabilities().supportsAutoVariableSubmit()){this.m_queryModel.setIsMetadataUpdatedByAutoSubmit(false)}let n=this.getVariableProcessorState();if(this.isExecuteAutoVariableSubmit()&&!this.isProcessingAutoSubmit()){if(n!==e.VariableProcessorState.SUBMITTED&&this.hasVariables()&&!this.hasNewValues()&&!this.hasPendingDocumentIdRequests()){let r=n===e.VariableProcessorState.VALUE_HELP;if(e.notNull(t)){let n=t.getRsQueryModelDef();r=r||e.notNull(n)&&!n.isExecuteAutoVariableSubmit()}let i=e.notNull(t)?t:this.getActiveResultSetContainer();if(n===e.VariableProcessorState.CHANGEABLE_REINIT&&i.getSyncState().isInSync()){this.getResultsetContainer(true)}if(!r){let t=null;if(n.isTypeOf(e.VariableProcessorState.CHANGEABLE_STARTUP)){t=e.VariableProcessorState.PROCESSING_AUTO_SUBMIT}else if(n.isTypeOf(e.VariableProcessorState.CHANGEABLE_REINIT)){t=e.VariableProcessorState.PROCESSING_AUTO_SUBMIT_AFTER_REINIT}if(e.notNull(t)){let n=this.getDimensionMemberVariables();this.queueEventing();for(let t=0;t<n.size();t++){let r=n.get(t);let i=r.getVariableType();if(i===e.VariableType.HIERARCHY_NAME_VARIABLE){let t=r.getHierarchyNameDimension();let n=t.getHierarchyNameVariableName();let i=t.isHierarchyActive();t.getHierarchyManagerBase().setHierarchyActiveBeforeAutoSubmit(i);if(e.XString.isEqual(r.getName(),n)&&(t.isEnforceHierarchyNameVariable()&&(r.isWinControlInAutoSubmit()||i)||t.useHierarchyNameVariable()&&r.isWinControlInAutoSubmit())&&!t.isDisplayHierarchyFixInFilter()){t.setHierarchy(null)}}}for(let e=0;e<n.size();e++){let t=n.get(e);t.maintainFilterStateForAutoSubmit()}this.setVariableProcessorState(t);this.resumeEventing()}}}else if(this.isResultInvalidWithFallback(t)&&!this.hasNewValues()&&!this.hasPendingDocumentIdRequests()&&this.hasVariables()&&n===e.VariableProcessorState.SUBMITTED){if(this.getQueryModel()!==null){let t=this.getQueryModel().getLoadedDimensions();let n=e=>e.isHierarchyActive()&&e.isEnforceHierarchyNameVariable();if(e.XStream.of(t).anyMatch(n)){this.queueEventing();e.XStream.of(t).filter(n).forEach(e=>{e.setHierarchy(null)});this.resumeEventing()}}}}};e.QueryManager.prototype.newObject=e.noSupport;e.QueryManager.prototype.onModelChange=function(t){if(t===e.QDeltaBroadcastPhase.BEFORE_EVENTS_BROADCAST&&!this.getVariableProcessorState().isTypeOf(e.VariableProcessorState.PROCESSING_SUBMIT)){this.getResultsetContainer(true);this.invalidateVisualizationContainers();this.invalidateAndIncrementModelStateId()}};e.QueryManager.prototype.prepareAfterVariables=function(){if(!this.m_hasPreparedAfterVariables){let t=this.getVariableProcessorState();let n=this.hasVariables();if(!n||t===e.VariableProcessorState.SUBMITTED||t===e.VariableProcessorState.CHANGEABLE_DIRECT_VALUE_TRANSFER){let t=this.getInitSettings();let n=t.getDefinitionType();let r=t.getDefinitionAsStructure();if(e.notNull(n)&&e.notNull(r)){let t=e.QueryPreparatorFactory.newInstance(n);if(e.notNull(t)){t.prepareAfterVariables(this,r)}}this.m_hasPreparedAfterVariables=true}}};e.QueryManager.prototype.prepareMergeCandidate=e.noSupport;e.QueryManager.prototype.processBLOB=e.noSupport;e.QueryManager.prototype.processCancel=function(e){this.getQueryManagerProvider().processProviderCancelThreads(e,null,null)};e.QueryManager.prototype.processClearCache=function(e,t){this.getQueryManagerProvider().processProviderClearCache(e,null,null,t)};e.QueryManager.prototype.processDeserializeExt=e.noSupport;e.QueryManager.prototype.processModelInitialization=e.noSupport;e.QueryManager.prototype.processModelInitializationAndApplyRepoState=e.noSupport;e.QueryManager.prototype.processQueryExecution=function(t,n,r){this.checkRootNodeFetching();if(e.notNull(this.m_lovManager)&&this.m_lovManager.isLovAbstractionEnabled()&&this.getActiveResultSetContainer().getSyncState().isNotInSync()){let i=this.m_lovManager.createConfigForActiveResultSetContainer(this.getActiveResultSetContainer());if(i.isValid()){return this.m_lovManager.processListOfValuesByConfig(i,t,n,r)}e.XObjectExt.release(i)}this.maintainStateForRsWithAutoSubmit(null);return this.processQueryExecutionInternal(t,n,r,this.getMode()===e.QueryManagerMode.BLENDING)};e.QueryManager.prototype.processQueryExecutionAsBlendingSource=function(e,t,n,r){this.setResultSetPersistenceTargetType(t);return this.processQueryExecutionInternal(e,n,r,true)};e.QueryManager.prototype.processQueryExecutionAsLovProcess=function(t,n,r,i){let a=this.getLovManager();if(t.isUseActiveResultSetContainer()){return this.processQueryExecutionInternal(n,r,i,false)}let o=this.m_activeContainer;this.m_activeContainer=e.ResultSetContainer.create(this,o);this.m_activeContainer.setLovConfig(t);a.setKeyFigureCalculation(this.m_activeContainer,t);let l=this.processQueryExecutionInternal(n,r,i,false);this.m_activeContainer=o;return l};e.QueryManager.prototype.processQueryExecutionAsRemotePreQuery=function(e,t,n){this.getActiveResultSetContainerBase().setIsRemotePreQuery(true);return this.processQueryExecutionInternal(e,t,n,true)};e.QueryManager.prototype.processQueryExecutionInternal=function(t,n,r,i){this.assertLifeCycleActive();if(t===e.SyncType.REGISTER){this.m_queryExecutedListener.put(n,e.XPair.create(n,r));this.getActiveResultSetContainerBase().attachListener(n,e.ListenerType.SPECIFIC,r);return null}else if(t===e.SyncType.UNREGISTER){this.m_queryExecutedListener.remove(n);return null}this.callOnBeforeQueryExecutionListeners(r);if(this.getOlapEnv()!==null&&this.getOlapEnv().getFilterManager()!==null){let t=this.getVariableProcessorState();this.getOlapEnv().getFilterManager().cleanupFilterBeforeAutoSubmit(this,t===e.VariableProcessorState.PROCESSING_SUBMIT||t===e.VariableProcessorState.PROCESSING_AUTO_SUBMIT||t===e.VariableProcessorState.CHANGEABLE_STARTUP)}let a=null;if(this.getPreQueryName()===null){a=this.initializeMainSequence(t,n,r)}if(this.variablesRequireImplicitSubmit()){this.getActiveResultSetContainerBase().attachAllListeners(this.m_queryExecutedListener.getValuesAsReadOnlyList());return this.processSequenceWithMainSequence(a,e.QueryManagerProcessingSequence.createSequence(this,this.getActiveResultSetContainer(),true,false),t,n,r)}this.prepareAfterVariables();this.getActiveResultSetContainerBase().attachAllListeners(this.m_queryExecutedListener.getValuesAsReadOnlyList());if(!this.getActiveResultSetContainer().areAllPrequeriesInSync()||this.getPreQueryName()!==null||e.notNull(this.m_queryModel)&&this.m_queryModel.isBasedOnMicroCube()||i&&this.getActiveResultSetContainer().getSyncState().isTypeOf(e.SyncState.PROCESSING)){this.getResultsetContainer(true)}if(!i&&this.getResultSetPersistenceIdentifier()!==null){this.cleanPersistencySettings()}if(this.getModelCapabilities().supportsCustomHierarchy()){return this.processSequenceWithMainSequence(a,e.QueryManagerProcessingSequence.createSequence(this,this.getActiveResultSetContainer(),false,false),t,n,r)}if(e.isNull(a)){return this.getActiveResultSetContainerBase().processExecution(t,n,r)}else{a.setMainAction(e.ResultSetContainerProcessExecutionAction.createAction(this.getActiveResultSetContainer()));return a.processSyncAction(t,n,r)}};e.QueryManager.prototype.processSequenceWithMainSequence=function(t,n,r,i,a){if(e.isNull(t)){return n.processSyncAction(r,i,a)}else{t.setMainAction(n);return t.processSyncAction(r,i,a)}};e.QueryManager.prototype.processShutdown=function(t,n,r){return e.QmShutdownAction.createAndRun(t,n,r,this)};e.QueryManager.prototype.processUpdateRuntimeBlendQueryFromDependentQueries=e.noSupport;e.QueryManager.prototype.queueEventing=function(){this.assertLifeCycleActive();if(e.notNull(this.m_queryModel)){this.m_queryModel.queueEventing()}};e.QueryManager.prototype.reInitVariablesAfterSubmit=function(e,t,n){return this.getVariableProcessorProvider().processReInitVariableAfterSubmit(e,t,n)};e.QueryManager.prototype.recordState=e.noSupport;e.QueryManager.prototype.recordingStateOfQueryManager=e.noSupport;e.QueryManager.prototype.registerChangedListener=e.noSupport;e.QueryManager.prototype.registerVariableProcessorStateChangedListener=function(t,n){if(e.notNull(t)){if(e.isNull(this.m_processorStateListeners)){this.m_processorStateListeners=e.XList.create()}this.m_processorStateListeners.add(e.ListenerPair.create(t,n))}};e.QueryManager.prototype.releaseObjectInternal=function(){let t=this.getOlapEnvironmentBase();if(e.notNull(t)){t.getFilterManager().releaseExternalizedFilter(this);t.unregisterQueryManager(this);if(e.notNull(this.m_myNameAsMicroCube)){t.removeMicroCubeName(this.getSystemName(),this.m_myNameAsMicroCube);this.m_myNameAsMicroCube=null}}this.m_convenienceCmds=e.XObjectExt.release(this.m_convenienceCmds);this.m_activeContainer=e.XObjectExt.release(this.m_activeContainer);this.m_processorStateListeners=e.XObjectExt.release(this.m_processorStateListeners);this.m_queryModel=e.XObjectExt.release(this.m_queryModel);this.setLifeCycleState(e.LifeCycleState.RELEASED);this.m_metadataModel=e.XObjectExt.release(this.m_metadataModel);this.m_planningManager=e.XObjectExt.release(this.m_planningManager);this.m_preQueryExecutor=e.XObjectExt.release(this.m_preQueryExecutor);this.m_systemDescription=null;this.m_variableProcessorPreviousState=null;this.m_variableProcessorState=null;this.m_queryExecutedListener=null;this.m_beforeQueryExecutionListener=null;this.m_dimensionsToClone=e.XObjectExt.release(this.m_dimensionsToClone);this.m_dimensionsRequestedFromClient=e.XObjectExt.release(this.m_dimensionsRequestedFromClient);this.m_includePerformanceData=null;this.m_lovManager=e.XObjectExt.release(this.m_lovManager);this.m_clientQueryObjectStorageName=null;this.m_modCounterState=e.XObjectExt.release(this.m_modCounterState);this.m_documentsService=e.XObjectExt.release(this.m_documentsService);e.DfService.prototype.releaseObjectInternal.call(this)};e.QueryManager.prototype.removeVariableVariant=e.noSupport;e.QueryManager.prototype.removeVersionAlias=function(e){this.getPlanningManager().removeVersionAlias(e)};e.QueryManager.prototype.reorderStructureMember=function(t,n){if(e.notNull(t)&&e.notNull(n)){t.reOrderStructureMembers(n.getOrderedStructureMemberNames())}};e.QueryManager.prototype.resetExitOrUpdateDynamicVariable=e.noSupport;e.QueryManager.prototype.resetMaxResultRecords=function(){this.getResultsetContainer(true).resetMaxResultRecords();return null};e.QueryManager.prototype.resetNewValues=function(){this.getPlanningManager().resetNewValues()};e.QueryManager.prototype.resetPreparation=function(){this.m_hasPreparedAfterVariables=false};e.QueryManager.prototype.resetVisualizationContainers=function(){let t=this.getQueryModel();let n=e.isNull(t)?null:t.getVisualizationManager();if(e.notNull(n)){let t=n.getGridCollector();if(e.notNull(t)){t.resetState()}let r=n.getVisualizationDefinitions();if(e.XCollectionUtils.hasElements(r)){e.XCollectionUtils.forEach(r,e=>{e.resetVisualizationContainer()})}}};e.QueryManager.prototype.resumeEventing=function(){this.assertLifeCycleActive();if(e.notNull(this.m_queryModel)){this.m_queryModel.resumeEventing()}};e.QueryManager.prototype.retriggerQueryExecutionWithCustomHierarchies=function(t,n,r,i){e.QueryManagerProcessingSequence.createSequence(this,i,false,true).processSyncAction(t,n,r)};e.QueryManager.prototype.returnToPreviousProcessorState=function(){if(this.m_variableProcessorPreviousState===e.VariableProcessorState.PROCESSING_REINIT){this.m_variableProcessorPreviousState=e.VariableProcessorState.CHANGEABLE_REINIT}else if(this.m_variableProcessorPreviousState===e.VariableProcessorState.PROCESSING_SUBMIT||this.m_variableProcessorPreviousState===e.VariableProcessorState.PROCESSING_SUBMIT_AFTER_REINIT||this.m_variableProcessorPreviousState===e.VariableProcessorState.PROCESSING_AUTO_SUBMIT||this.m_variableProcessorPreviousState===e.VariableProcessorState.PROCESSING_AUTO_SUBMIT_AFTER_REINIT){this.m_variableProcessorPreviousState=e.VariableProcessorState.SUBMITTED}if(this.m_variableProcessorPreviousState!==e.VariableProcessorState.CHANGEABLE_REINIT&&this.m_variableProcessorPreviousState!==e.VariableProcessorState.CHANGEABLE_STARTUP&&this.m_variableProcessorPreviousState!==e.VariableProcessorState.SUBMITTED&&this.m_variableProcessorPreviousState!==e.VariableProcessorState.SUBMIT_FAILED&&this.m_variableProcessorPreviousState!==e.VariableProcessorState.SUBMIT_FAILED_AFTER_REINIT&&this.m_variableProcessorPreviousState!==e.VariableProcessorState.VALUE_HELP&&this.m_variableProcessorPreviousState!==e.VariableProcessorState.PROCESSING_EMPTY_VARIABLE_DEFINITION&&this.m_variableProcessorPreviousState!==e.VariableProcessorState.CHANGEABLE_DIRECT_VALUE_TRANSFER){e.XObjectExt.assertNotNullExt(this.m_variableProcessorPreviousState,"Not allowed to return to previous state: [null]");throw e.XException.createIllegalStateException(e.XStringUtils.concatenate2("Not allowed to return to previous state: ",this.m_variableProcessorPreviousState.getName()))}let t=this.m_variableProcessorPreviousState;this.setVariableProcessorState(t);this.m_variableProcessorPreviousState=null};e.QueryManager.prototype.saveVariableVariant=e.noSupport;e.QueryManager.prototype.serialize=function(e,t){return this.serializeToStringExt(e,t)};e.QueryManager.prototype.serializeToContent=function(e){return this.serializeToContentExt(e,null)};e.QueryManager.prototype.serializeToContentExt=function(t,n){if(e.notNull(this.m_lovManager)&&this.m_lovManager.isLovAbstractionEnabled()&&t.isTypeOf(e.QModelFormat.INA_DATA)){return this.m_lovManager.serializeToContentExt(t,n)}let r;let i=n;if(e.isNull(i)&&t.isTypeOf(e.QModelFormat.INA_DATA)){i=this.getModelCapabilities()}let a=null;if(t.isTypeOf(e.QModelFormat.INA_DATA)){a=e.QContextType.RESULT_SET}r=e.QInAExportFactory.create(this.getApplication(),t,i,a);let o=r.exportComponent(null,this,null,e.QImExFlag.DEFAULT_ALL);let l=e.XContent.createJsonObjectContent(t,o);return l};e.QueryManager.prototype.serializeToElement=function(e){return this.serializeToElementExt(e,null)};e.QueryManager.prototype.serializeToElementExt=function(e,t){let n=this.serializeToContentExt(e,t);let r=n.getJsonContent();return r};e.QueryManager.prototype.serializeToFormat=function(e){return this.serializeToString(e)};e.QueryManager.prototype.serializeToString=function(t){let n=this.serializeToContentExt(t,null);let r=n.getJsonContent();return e.PrUtils.serialize(r,true,false,0)};e.QueryManager.prototype.serializeToStringExt=function(t,n){let r=this.serializeToContentExt(t,n);let i=r.getJsonContent();return e.PrUtils.serialize(i,true,false,0)};e.QueryManager.prototype.setActiveResultSetContainer=function(e){this.m_activeContainer=e};e.QueryManager.prototype.setCacheHintEnabled=function(e){this.m_cacheHintsEnabled=e};e.QueryManager.prototype.setChangedProperties=e.noSupport;e.QueryManager.prototype.setClientInfo=function(e,t,n){this.getClientInfo().setClientInfo(e,t,n)};e.QueryManager.prototype.setClientQueryObjectMigrationStorageName=function(e){this.m_clientQueryObjectStorageName=e};e.QueryManager.prototype.setClientQueryObjectStorageName=function(e){this.m_clientQueryObjectStorageName=e};e.QueryManager.prototype.setDataEntryEnabled=function(e){this.getPlanningManager().setDataEntryEnabled(e)};e.QueryManager.prototype.setDataEntryReadOnly=function(e){this.getPlanningManager().setDataEntryReadOnly(e)};e.QueryManager.prototype.setDataRefreshEnabled=function(e){if(this.getResultsetContainer(false).getDataRefreshEnabled()!==e){this.getResultsetContainer(true).setDataRefreshEnabled(e)}};e.QueryManager.prototype.setDataSource=function(e){this.m_dataSource=e};e.QueryManager.prototype.setDeserializationStructureAsNull=e.noSupport;e.QueryManager.prototype.setDimensionsRequestedFromClient=function(e){this.m_dimensionsRequestedFromClient=e};e.QueryManager.prototype.setDimensionsToClone=function(e){this.m_dimensionsToClone=e};e.QueryManager.prototype.setDirectVariableTransferEnabled=function(t){if(this.m_directVariableTransferConsumer!==t){if(this.supportsDirectVariableTransfer()){this.m_directVariableTransferConsumer=t;this.getVariableProcessorProvider().setDirectVariableTransfer(t);this.getVariableProcessorProvider().setIsVariableSubmitNeeded(!this.m_directVariableTransferConsumer);if(e.notNull(this.m_queryModel)){this.m_queryModel.notifyNodeChanged()}if(this.m_directVariableTransferConsumer){this.setVariableProcessorState(e.VariableProcessorState.CHANGEABLE_DIRECT_VALUE_TRANSFER)}else{this.setVariableProcessorState(e.VariableProcessorState.CHANGEABLE_REINIT)}}}};e.QueryManager.prototype.setExecuteRequestOnOldResultSet=function(e){if(this.getResultsetContainer(false).getExecuteRequestOnOldResultSet()!==e){this.getResultsetContainer(true).setExecuteRequestOnOldResultSet(e)}return null};e.QueryManager.prototype.setInputReadinessCacheMode=function(e){this.getPlanningManager().setInputReadinessCacheMode(e)};e.QueryManager.prototype.setInputReadinessFilter=function(e){this.getQueryModel().setInputReadinessFilter(e)};e.QueryManager.prototype.setInputReadinessMainQuery=function(e){this.getPlanningManager().setInputReadinessMainQuery(e)};e.QueryManager.prototype.setIsMetadataCached=function(e){this.m_isMetadataCached=e};e.QueryManager.prototype.setLanguageLocale=function(e){this.getClientInfo().setLanguageLocale(e)};e.QueryManager.prototype.setLifeCycleState=function(t){if(t===e.LifeCycleState.TERMINATED&&this.m_lifeCycleState===e.LifeCycleState.RELEASED){return}if(t.getCode()<this.m_lifeCycleState.getCode()){let n=e.XStringBuffer.create();n.append("QueryManager: cannot change lifeCycle from ");n.append(this.m_lifeCycleState.getName()).append(" to ");n.append(t.getName());throw e.XException.createIllegalStateException(n.toString())}this.m_lifeCycleState=t};e.QueryManager.prototype.setMaxColumns=function(e){if(this.getResultsetContainer(false).getMaxColumns()!==e){this.getResultsetContainer(true).setMaxColumns(e)}return null};e.QueryManager.prototype.setMaxResultRecords=function(e){if(this.getResultsetContainer(false).getMaxResultRecords()!==e){this.getResultsetContainer(true).setMaxResultRecords(e)}return null};e.QueryManager.prototype.setMaxRows=function(e){if(this.getResultsetContainer(false).getMaxRows()!==e){this.getResultsetContainer(true).setMaxRows(e)}return null};e.QueryManager.prototype.setMode=function(e){this.m_mode=e};e.QueryManager.prototype.setName=function(t){e.XStringUtils.checkStringNotEmpty(t,"Name of query manager must be a valid string");let n=this.getOlapEnvironmentBase();if(!e.XString.isEqual(t,this.m_name)){if(n.containsQueryManagerWithName(t)){throw e.XException.createIllegalArgumentException(e.XStringUtils.concatenate2("Olap Environment already contains Query Manager with name:",t))}n.unregisterQueryManager(this);this.m_name=t;n.registerQueryManager(this)}};e.QueryManager.prototype.setNameForMicroCubeUse=function(t){let n=this.getOlapEnv();let r=n.addMicroCube(this.getSystemName(),t,this);e.XBooleanUtils.checkTrue(r,e.XStringUtils.concatenate2("MicroCube's name is not valid or already exists: ",t));this.m_myNameAsMicroCube=t};e.QueryManager.prototype.setNoVariableSubmitResponse=e.noSupport;e.QueryManager.prototype.setOffsetColumns=function(e){if(this.getResultsetContainer(false).getOffsetColumns()!==e){this.getResultsetContainer(true).setOffsetColumns(e)}return null};e.QueryManager.prototype.setOffsetRows=function(e){if(this.getResultsetContainer(false).getOffsetRows()!==e){this.getResultsetContainer(true).setOffsetRows(e)}return null};e.QueryManager.prototype.setPlanningMode=function(e){this.getPlanningManager().setPlanningMode(e)};e.QueryManager.prototype.setPlanningRestriction=function(e){this.getPlanningManager().setPlanningRestriction(e)};e.QueryManager.prototype.setPlanningVersionSettingsMode=function(e){this.getPlanningManager().setPlanningVersionSettingsMode(e)};e.QueryManager.prototype.setPreQueryName=function(e){this.m_preQueryName=e};e.QueryManager.prototype.setPreviousVariableProcessorState=function(e){this.m_variableProcessorPreviousState=e};e.QueryManager.prototype.setPublicVersionEditPossible=function(e){this.getPlanningManager().setPublicVersionEditPossible(e)};e.QueryManager.prototype.setRequestPerformanceData=function(t){if(this.getSystemType().isTypeOf(e.SystemType.HANA)){this.m_includePerformanceData=e.TriStateBool.lookup(t)}};e.QueryManager.prototype.setResultSetPersistanceTargetSchema=function(t){let n=this.getResultsetContainer(false).getResultSetPersistenceSchema();if(!e.XString.isEqual(n,t)){this.getResultsetContainer(true).setResultSetPersistanceTargetSchema(t)}return null};e.QueryManager.prototype.setResultSetPersistanceTargetTable=function(t){let n=this.getResultsetContainer(false).getResultSetPersistenceTable();if(!e.XString.isEqual(n,t)){this.getResultsetContainer(true).setResultSetPersistanceTargetTable(t)}return null};e.QueryManager.prototype.setResultSetPersistenceIdentifier=function(t){let n=this.getResultsetContainer(false).getResultSetPersistenceIdentifier();if(!e.XString.isEqual(n,t)){this.getResultsetContainer(true).setResultSetPersistenceIdentifier(t)}return null};e.QueryManager.prototype.setResultSetPersistenceTargetType=function(e){let t=this.getResultsetContainer(false).getResultSetPersistenceType();if(t!==e){this.getResultsetContainer(true).setResultSetPersistenceTargetType(e)}return null};e.QueryManager.prototype.setResultSetTransportEnabled=function(e){if(this.getResultsetContainer(false).isResultSetTransportEnabled()!==e){this.getResultsetContainer(true).setResultSetTransportEnabled(e)}return null};e.QueryManager.prototype.setStoryId=function(e){this.getClientInfo().setStoryId(e)};e.QueryManager.prototype.setStoryName=function(e){this.getClientInfo().setStoryName(e)};e.QueryManager.prototype.setSuppressCalculatedMembersWithoutBookedData=function(e){this.getResultsetContainer(true).setSuppressCalculatedMembersWithoutBookedData(e)};e.QueryManager.prototype.setSuppressKeyfigureCalculation=function(e){if(this.getResultsetContainer(false).isKeyfigureCalculationSuppressed()!==e){this.getResultsetContainer(true).setSuppressKeyfigureCalculation(e)}return null};e.QueryManager.prototype.setSystemDescription=function(t){this.m_systemDescription=e.XWeakReferenceUtil.getWeakRef(t)};e.QueryManager.prototype.setUpdatingDataRequestCapabilities=e.noSupport;e.QueryManager.prototype.setUseSavedPromptsForExitVariables=function(e){this.m_disableExitVariables=e};e.QueryManager.prototype.setValidateLocalFormulaMembers=function(e){this.m_validateLocalFormulaMembers=e};e.QueryManager.prototype.setValueHelpProvider=e.noSupport;e.QueryManager.prototype.setVariableProcessorState=function(t){if(t===e.VariableProcessorState.VALUE_HELP){this.m_variableProcessorPreviousState=t;this.m_variableProcessorState=t}else{if(this.m_variableProcessorState!==t){this.m_variableProcessorPreviousState=this.m_variableProcessorState;this.m_variableProcessorState=t;if(e.notNull(this.m_processorStateListeners)){for(let e=this.m_processorStateListeners.size()-1;e>=0;e--){let t=this.m_processorStateListeners.get(e);let n=t.getListener();n.onVariableProcessorStateChanged(this,t.getCustomIdentifier())}}}}};e.QueryManager.prototype.setVersionAliasById=function(e,t){this.getPlanningManager().setVersionAliasById(e,t)};e.QueryManager.prototype.setWidgetId=function(e){this.getClientInfo().setWidgetId(e)};e.QueryManager.prototype.setWinControlInAutoSubmitByType=function(e,t,n){this.assertLifeCycleActive();this.m_queryModel.setWinControlInAutoSubmitByType(e,t,n)};e.QueryManager.prototype.setkeyRefSerializationEnabled=function(e){this.m_keyRefSerializationEnabled=e};e.QueryManager.prototype.setupClone=function(t,n,r){let i=t.getApplication();let a=t.getServiceConfig();let o;if(n===e.QueryCloneMode.MICRO_CUBE){o=a.cloneUsingExtDataSource(r)}else{o=a.clone()}e.DfService.prototype.setupService.call(this,o);o.linkToQueryManager(this);let l=i.getConnectionPool();let s=t.getSystemDescription();let u=t.getConnection();let p=u;if(e.isNull(u)){p=l.getConnection(s.getSystemName())}else if(u.useSessionUrlRewrite()&&l.getMaximumSharedConnections(s.getSystemName())>1){p=l.getConnectionExt(s.getSystemName(),false,u.getName());if(u.getWebServicePathForBLOBs()!==null){p.setWebServicePathForBLOBs(u.getWebServicePathForBLOBs().getPath())}}if(n===e.QueryCloneMode.MICRO_CUBE){this.setDataSource(r)}else{let n=t.getDataSource();let r=null;if(e.notNull(n)){r=n.clone()}this.setDataSource(r)}this.setConnection(p);this.setSystemDescription(s);this.getSettingsBase().setDataRequest(t.getInitSettings().getDataRequest());this.setUseSavedPromptsForExitVariables(t.isUsingSavedPromptsForExitVariables());this.getClientInfo().copyFromContext(t);this.setupValues();this.m_includePerformanceData=t.getIncludePerformanceData();if(t.getQueryModel()!==null){this.setupQueryModel()}this.m_lifeCycleState=e.LifeCycleState.STARTING_UP;this.m_mode=t.getMode();this.m_activeContainer=e.ResultSetContainer.create(this,t.getActiveResultSetContainer());this.m_enableHierarchyToUDHConversion=t.isHierarchyToUDHConversionEnabled();this.m_clientQueryObjectStorageName=t.getClientQueryObjectStorageName();this.m_validateLocalFormulaMembers=t.isValidatingLocalFormulaMembers();this.setOffsetColumns(t.getOffsetColumns());this.setOffsetRows(t.getOffsetRows());this.setMaxRows(t.getMaxRows());this.setMaxColumns(t.getMaxColumns());if(n!==e.QueryCloneMode.MICRO_CUBE){let n=t.getVariableVariants();if(e.notNull(n)){let e=n.size();for(let t=0;t<e;t++){this.addVariableVariant(n.get(t).clone())}}}if(e.XCollectionUtils.hasElements(a.getRequiredDimensions())){o.setRequiredDimensions(a.getRequiredDimensions().createListCopy())}if(e.XCollectionUtils.hasElements(t.getDimensionsToClone())){this.setDimensionsToClone(t.getDimensionsToClone().createSetOfStringCopy());this.setDimensionsRequestedFromClient(t.getDimensionsRequestedFromClient().createSetOfStringCopy())}if(e.notNull(this.m_queryModel)){this.m_queryModel.stopEventing()}let g=t.getQueryModel();if(e.notNull(g)){let t;if(n===e.QueryCloneMode.BASE_STATE){t=g.getServerBaseSerializationForBaseState()}else{t=g.getServerBaseSerialization()}if(n===e.QueryCloneMode.CURRENT_STATE||n===e.QueryCloneMode.MICRO_CUBE){this.m_queryModel.copyQueryModel(g,n)}else{let r=this.getModelCapabilities();if(n===e.QueryCloneMode.CURRENT_STATE_INA){let t=e.QInAExportFactory.createForCloning(i,r);let n=t.exportQueryModel(g,true,true);let a=e.QInAImportFactory.createForCloning(i,r);a.importQueryModel(n,this.m_queryModel);e.MessageUtil.checkNoError(a)}else if(n===e.QueryCloneMode.BASE_STATE){let n=e.QInAImportFactory.create(i,e.QModelFormat.INA_METADATA,r);n.importQueryModel(t,this.m_queryModel)}else{throw e.XException.createRuntimeException(e.XStringUtils.concatenate2("Mode not yet supported: ",n.toString()))}}this.m_queryModel.getDrillManager().setValidateContextFreeNavigations(g.getDrillManager().isValidatingContextFreeNavigations());this.m_queryModel.setExportFixedFilter(g.isExportingFixedFilter());this.m_queryModel.setExportVariables(g.isExportingVariables());this.m_queryModel.setServerBaseSerialization(null,e.QModelOrigin.CLONING,t);this.m_queryModel.setSupportsDataEntryReadOnly(g.supportsDataEntryReadOnly());this.m_queryModel.setDataEntryReadOnly(g.isDataEntryReadOnly());this.m_queryModel.setDataEntryEnabled(g.isDataEntryEnabled());this.reorderStructureMember(this.m_queryModel.getMeasureDimension(),g.getMeasureDimension());this.reorderStructureMember(this.m_queryModel.getNonMeasureDimension(),g.getNonMeasureDimension());this.reorderStructureMember(this.m_queryModel.getNonMeasureDimension2(),g.getNonMeasureDimension2());this.reorderStructureMember(this.m_queryModel.getAccountDimension(),g.getAccountDimension());this.m_queryModel.getDrillManagerBase().copyRootNodesFrom(g.getDrillManager());this.m_queryModel.getDrillManagerBase().setBackendDrillValidationForAutoSubmit(g.getDrillManager().isBackendDrillValidationForAutoSubmit())}this.m_metadataModel=t.getMetadataModel().cloneOlapComponent(this.getQueryModel(),null);if(e.notNull(this.m_queryModel)&&this.getInitSettings().isExternalizedNonVariableFilter()){let r=this.getOlapEnv();let i=e.isNull(r)?null:r.getFilterManager();if(n===e.QueryCloneMode.BASE_STATE){i.externalizeNonVariableFilter(this)}else{let n=e.isNull(i)?null:i.getNonVariableDrivenFilters(t);if(e.notNull(n)){let e=this.m_queryModel.getFilter();let t=e.getExternalizedNonVariableFilterName();let r=i.getFilterByName(t);let a=r.getCartesianProductWithDefault();a.copyFrom(n,null);this.m_queryModel.getFilter().linkFilter(t,r)}}}if(e.notNull(this.m_queryModel)){let e=o.getInstanceId();let t=this.m_queryModel.getDataSourceBase();t.setInstanceId(e);this.m_queryModel.resumeEventing()}if(this.getResultSetPersistenceIdentifier()!==null){this.setResultSetPersistenceIdentifier(null);this.setResultSetPersistanceTargetSchema(null);this.setResultSetPersistanceTargetTable(null)}if(t.hasLovManager()){this.getLovManager().copyFrom(t.getLovManager(),null)}if(t.hasPlanningManager()){this.getPlanningManager().copyFrom(t.getPlanningManager(),null)}this.setLifeCycleState(e.LifeCycleState.ACTIVE);if(e.VariableProcessorState.PROCESSING_EMPTY_VARIABLE_DEFINITION===t.getVariableProcessorState()){this.setVariableProcessorState(t.getVariableProcessorState())}this.m_includePerformanceData=t.getIncludePerformanceData();this.setCacheHintEnabled(t.isCacheHintEnabled());this.m_keyRefSerializationEnabled=t.isKeyRefSerializationEnabled()};e.QueryManager.prototype.setupQueryModel=function(){let t=this.getCapabilitiesBase();this.m_queryModel=e.QueryModel.create(this.getOlapEnv(),this,t);if(this.isLightweightSearch()){this.m_queryModel.getModelCapabilitiesBase().setSupportsComplexFilter(true)}let n=this.getDataSource();if(e.notNull(n)){this.m_queryModel.getModelCapabilitiesBase().setSupportsExtendedVariableDefinition(this.supportsAndAllowsEmptyExtendedVarDefinition());this.m_queryModel.getDataSourceBase().copyFrom(n,null)}return this.m_queryModel};e.QueryManager.prototype.setupService=function(t){e.DfService.prototype.setupService.call(this,t);let n=t;let r=n.getDataSource();let i;if(e.notNull(r)){i=r.clone()}else{i=e.QDataSource.create()}this.setDataSource(i)};e.QueryManager.prototype.setupValues=function(){this.m_lifeCycleState=e.LifeCycleState.INITIAL;this.m_activeContainer=e.ResultSetContainer.create(this,null);this.m_variableProcessorState=e.VariableProcessorState.CHANGEABLE_STARTUP;let t=this.getOlapEnvironmentBase();t.registerQueryManager(this);this.m_queryExecutedListener=e.XSimpleMap.create();this.m_beforeQueryExecutionListener=e.XSimpleMap.create();this.m_includePerformanceData=e.TriStateBool._DEFAULT;this.m_isMetadataCached=false;this.m_keyRefSerializationEnabled=true;this.m_clientQueryObjectStorageName=null};e.QueryManager.prototype.stopEventing=function(){this.assertLifeCycleActive();if(e.notNull(this.m_queryModel)){this.m_queryModel.stopEventing()}};e.QueryManager.prototype.submitVariables=function(e,t,n){return this.getVariableProcessorProvider().processVariableSubmit(e,t,n)};e.QueryManager.prototype.supportsAnalyticCapability=function(t){if(e.XStringUtils.isNullOrEmpty(t)){return false}let n=this.getConnection();if(e.isNull(n)){return false}return n.getSystemConnect().getServerMetadata().supportsCapability(e.ServerService.ANALYTIC,t)};e.QueryManager.prototype.supportsAndAllowsEmptyExtendedVarDefinition=function(){let t=this.getDataSource().getType();return this.getCapabilitiesBase().supportsExtendedVariableDefinition()&&this.getQueryServiceConfig().getMakeEmptyVariableDefinitionInsteadOfMetadata()&&(e.MetaObjectType.QUERY===t||e.MetaObjectType.DEFAULT_PLAN_QUERY===t||e.MetaObjectType.DEFAULT_REPORT_QUERY===t||e.MetaObjectType.LOCAL_QUERY===t||e.MetaObjectType.QUERY_VIEW===t)};e.QueryManager.prototype.supportsBatchBlendingRsStreaming=function(){return this.getCapabilitiesBase().supportsBatchBlendingRsStreaming()};e.QueryManager.prototype.supportsBatchBlendingRsStreamingExt=function(){let t=false;let n=this.getInitSettings();if(n.getMode()===e.QueryManagerMode.BLENDING){t=true}else if(n.getMode()===e.QueryManagerMode.RAW_QUERY){let r=n.getDataRequest();if(e.notNull(r)&&r.containsKey("Analytics")){r=r.getStructureByKey("Analytics");if(r.containsKey("DataSource")){r=r.getStructureByKey("DataSource");if(r.containsKey("Sources")){let e=r.getListByKey("Sources");if(e.size()>0){t=true}}}}}return t?this.supportsBatchBlendingRsStreaming():this.supportsBatchRsStreaming()};e.QueryManager.prototype.supportsBatchRsStreaming=function(){return this.getCapabilitiesBase().supportsBatchRsStreaming()};e.QueryManager.prototype.supportsCheckVariables=function(){return this.getCapabilitiesBase().supportsCheckVariables()};e.QueryManager.prototype.supportsDataEntryReadOnly=function(){return this.getPlanningManager().supportsDataEntryReadOnly()};e.QueryManager.prototype.supportsDirectVariableTransfer=function(){return this.getCapabilitiesBase().supportsDirectVariableTransfer()};e.QueryManager.prototype.supportsInputReadinessStates=function(){return this.getCapabilitiesBase().supportsInputReadinessStates()};e.QueryManager.prototype.supportsMaintainsVariableVariants=function(){return this.getCapabilitiesBase().supportsMaintainsVariableVariants()};e.QueryManager.prototype.supportsReInitVariables=function(){return this.getCapabilitiesBase().supportsReInitVariables()};e.QueryManager.prototype.supportsReturnedDataSelection=function(){return this.getCapabilitiesBase().supportsReturnedDataSelection()};e.QueryManager.prototype.supportsServerState=function(){return this.getCapabilitiesBase().supportsServerState()};e.QueryManager.prototype.supportsShutdown=function(){return this.getCapabilitiesBase().supportsShutdown()};e.QueryManager.prototype.supportsVariableMasking=function(){return this.getCapabilitiesBase().supportsVariableMasking()};e.QueryManager.prototype.transferDataEntry=function(){let e=this.getActiveResultSetContainerBase();let t=e.getId();let n=e.getDataEntryCollection();e.setDataEntryCollection(null);let r=e.getNewLineCollection();e.setNewLineCollection(null);let i=e.getDocumentIdCollection();e.setDocumentIdCollection(null);this.getResultsetContainer(true);e=this.getActiveResultSetContainerBase();e.setId(t);e.setDataEntryCollection(n);e.setNewLineCollection(r);e.setDocumentIdCollection(i)};e.QueryManager.prototype.transferNewDocuments=function(){let e=this.getActiveResultSetContainerBase();let t=e.getId();let n=e.getDocumentIdCollection();e.setDocumentIdCollection(null);this.getResultsetContainer(true);e=this.getActiveResultSetContainerBase();e.setId(t);e.setDocumentIdCollection(n)};e.QueryManager.prototype.transferNewValues=function(){this.getPlanningManager().transferNewValues()};e.QueryManager.prototype.transferVariables=e.noSupport;e.QueryManager.prototype.transferVariablesByVariable=e.noSupport;e.QueryManager.prototype.unregisterChangedListener=e.noSupport;e.QueryManager.prototype.unregisterVariableProcessorStateChangedListener=function(t){if(e.notNull(this.m_processorStateListeners)){for(let e=0;e<this.m_processorStateListeners.size();){let n=this.m_processorStateListeners.get(e);if(n.getListener()===t){this.m_processorStateListeners.removeAt(e)}else{e++}}}};e.QueryManager.prototype.updateDynamicVariables=e.noSupport;e.QueryManager.prototype.updateQueryManager=e.noSupport;e.QueryManager.prototype.updateVariableVariantValues=e.noSupport;e.QueryManager.prototype.variablesRequireImplicitSubmit=function(){if(this.isDirectVariableTransferEnabled()){return false}if(this.isShallow()){return false}if(this.isExecuteAutoVariableSubmit()){return false}return(this.supportsAndAllowsEmptyExtendedVarDefinition()||this.hasVariables())&&!this.isSubmitted()&&!this.isVariableSubmitFailed()};e.QueryManager.prototype.variablesRequireImplicitSubmitForValueHelp=function(t){if(this.isDirectVariableTransferEnabled()){return false}if(this.isShallow()){return false}let n=e.notNull(t)&&t.getDimensionType().isTypeOf(e.DimensionType.ABSTRACT_STRUCTURE)&&!t.isHierarchyActive();if(this.isExecuteAutoVariableSubmit()&&!(n&&this.getQueryModelBase().getVariableManagerBase().hasVariableByType(e.VariableType.TEXT_VARIABLE))){return false}if(n&&!this.getQueryModelBase().getVariableManagerBase().hasVariableByType(e.VariableType.TEXT_VARIABLE)){return false}return(this.supportsAndAllowsEmptyExtendedVarDefinition()||this.hasVariables())&&!this.isSubmitted()&&!this.isVariableSubmitFailed()};e.QueryManager.prototype.variablesRequireSACImplicitSubmit=function(){if(this.isDirectVariableTransferEnabled()||this.isShallow()){return false}return(this.supportsAndAllowsEmptyExtendedVarDefinition()||this.hasVariables())&&!this.isSubmitted()&&!this.isVariableSubmitFailed()};e.QRriTarget=function(){};e.QRriTarget.prototype=new e.QModelComponent;e.QRriTarget.prototype._ff_c="QRriTarget";e.QRriTarget.m_supportedTargetTypes=null;e.QRriTarget.create=function(){let t=new e.QRriTarget;t.m_parameters=e.XHashMapByString.create();t.m_customProperties=e.XHashMapByString.create();t.m_targetType=e.RriTargetType.UNSUPPORTED;e.QRriTarget.setSupportedTargetTypes();return t};e.QRriTarget.setSupportedTargetTypes=function(){e.QRriTarget.m_supportedTargetTypes=e.XHashMapByString.create();e.QRriTarget.m_supportedTargetTypes.put("QURY","Query");e.QRriTarget.m_supportedTargetTypes.put("TR","Transaction");e.QRriTarget.m_supportedTargetTypes.put("URL","Url");e.QRriTarget.m_supportedTargetTypes.put("RT","AbapReport");e.QRriTarget.m_supportedTargetTypes.put("","Transaction")};e.QRriTarget.prototype.m_customProperties=null;e.QRriTarget.prototype.m_parameters=null;e.QRriTarget.prototype.m_targetType=null;e.QRriTarget.prototype.canBeExecutedLocally=function(){if(this.m_parameters.containsKey("LogicalDestination")){let t=this.m_parameters.getByKey("LogicalDestination");if(e.XStringUtils.isNullOrEmpty(t)){return true}return e.XString.isEqual(t,"*")}return false};e.QRriTarget.prototype.getCustomProperties=function(){return this.m_customProperties};e.QRriTarget.prototype.getDataSource=function(){if(!this.isQuery()){return null}let t=this.m_customProperties.getByKey("QUERY");if(e.XStringUtils.isNullOrEmpty(t)){return null}let n=this.m_customProperties.getByKey("RRI_PARAMETER_NAME");if(e.XStringUtils.isNullOrEmpty(n)){return null}let r=this.m_customProperties.getByKey("RRI_PARAMETER_VALUE");if(e.XStringUtils.isNullOrEmpty(r)){return null}let i=e.QFactory.createDataSourceWithType(e.MetaObjectType.QUERY,t);i.setRriName(n);i.setRriValue(r);return i};e.QRriTarget.prototype.getInfoProviderName=function(){if(!this.isQuery()){return null}return this.m_customProperties.getByKey("INFO_PROVIDER")};e.QRriTarget.prototype.getKey=function(){return this.m_parameters.getByKey("Key")};e.QRriTarget.prototype.getParameters=function(){return this.m_parameters};e.QRriTarget.prototype.getQueryName=function(){if(!this.isQuery()){return null}return this.m_customProperties.getByKey("QUERY")};e.QRriTarget.prototype.getTargetType=function(){return this.m_targetType};e.QRriTarget.prototype.getTargetTypeByValue=function(t,n){let r=e.QRriTarget.m_supportedTargetTypes.getByKey(t.getString());let i=n?"Unsupported":"CustomDynamic";return e.RriTargetType.lookup(e.isNull(r)?i:r)};e.QRriTarget.prototype.getTargetUrl=function(){let t=null;if(this.m_targetType!==e.RriTargetType.UNSUPPORTED){let n=this.m_parameters.getByKey("URL");let r=e.XUri.createFromUrl(n);if(r.getScheme()!==null&&!r.isRelativeUri()){let n=r.getProtocolType();if(n===e.ProtocolType.HTTPS){t=r.getUrl()}}}return t};e.QRriTarget.prototype.getText=function(){return this.m_parameters.getByKey("Text")};e.QRriTarget.prototype.isQuery=function(){return this.m_targetType===e.RriTargetType.QUERY};e.QRriTarget.prototype.isTargetTypeSupported=function(){return this.m_targetType!==e.RriTargetType.UNSUPPORTED};e.QRriTarget.prototype.isTransaction=function(){return this.m_targetType===e.RriTargetType.TRANSACTION};e.QRriTarget.prototype.isWebUrl=function(){return this.m_targetType===e.RriTargetType.URL};e.QRriTarget.prototype.releaseObject=function(){this.m_parameters=e.XObjectExt.release(this.m_parameters);this.m_customProperties=e.XObjectExt.release(this.m_customProperties);this.m_targetType=null;e.QRriTarget.m_supportedTargetTypes=e.XObjectExt.release(e.QRriTarget.m_supportedTargetTypes);e.QModelComponent.prototype.releaseObject.call(this)};e.QRriTarget.prototype.setParameterValues=function(t,n){let r=e.PrUtils.getKeysAsReadOnlyList(t,null);if(e.notNull(r)){let i=this.getParameters();for(let a=0;a<r.size();a++){let o=r.get(a);let l=e.PrUtils.getStringProperty(t,o);if(e.notNull(l)){if(e.XString.isEqual(o,"ReceiverApplicationType")||e.XString.isEqual(o,"AppType")){this.setTargetType(this.getTargetTypeByValue(l,n))}else{i.put(o,l.getString())}}}}};e.QRriTarget.prototype.setProperties=function(t){let n=e.PrUtils.getStructureProperty(t,"Properties");let r=e.PrUtils.getKeysAsReadOnlyList(n,null);if(e.notNull(r)){let t=this.getCustomProperties();for(let i=0;i<r.size();i++){let a=r.get(i);let o=e.PrUtils.getStringProperty(n,a);if(e.notNull(o)){t.put(a,o.getString())}}}};e.QRriTarget.prototype.setTargetType=function(e){this.m_targetType=e;this.notifyNodeChanged()};e.OlapVarImmediateCallback=function(){};e.OlapVarImmediateCallback.prototype=new e.QOlapSyncAction;e.OlapVarImmediateCallback.prototype._ff_c="OlapVarImmediateCallback";e.OlapVarImmediateCallback.createAndRun=function(t,n,r){let i=new e.OlapVarImmediateCallback;i.setupActionAndRun(t,n,r,null);return i};e.OlapVarImmediateCallback.createAndRunError=function(t,n,r,i,a){let o=new e.OlapVarImmediateCallback;o.m_errorMessage=n;o.m_errorCode=t;o.setupActionAndRun(r,i,a,null);return o};e.OlapVarImmediateCallback.prototype.m_errorCode=0;e.OlapVarImmediateCallback.prototype.m_errorMessage=null;e.OlapVarImmediateCallback.prototype.callListener=function(t,n,r,i){if(e.XStringUtils.isNotNullAndNotEmpty(this.m_errorMessage)){this.addError(this.m_errorCode,this.m_errorMessage)}n.onVariableProcessorExecuted(this,this,i)};e.OlapVarImmediateCallback.prototype.isSuccessfullyProcessed=function(){return this.isValid()};e.AbstractBlendableQueryManager=function(){};e.AbstractBlendableQueryManager.prototype=new e.QModelComponent;e.AbstractBlendableQueryManager.prototype._ff_c="AbstractBlendableQueryManager";e.AbstractBlendableQueryManager.prototype.m_activeContainer=null;e.AbstractBlendableQueryManager.prototype.m_clientQueryObjectStorageName=null;e.AbstractBlendableQueryManager.prototype.m_primaryDatasetId=null;e.AbstractBlendableQueryManager.prototype.m_queryManagers=null;e.AbstractBlendableQueryManager.prototype.activateVariableVariant=function(t,n,r,i){let a=e.BlendableQMVariableSubmitProcessor.createBlendableVariableSubmitProcessor(this);return a.activateVariableVariant(t,n,r,i)};e.AbstractBlendableQueryManager.prototype.addInputReadinessFilterState=function(t,n){let r=this.getQueryModel();if(e.notNull(r)){r.addInputReadinessFilterState(t,n)}};e.AbstractBlendableQueryManager.prototype.addNewInputEnablementRule=function(t,n){let r=this.getQueryManager();if(e.notNull(r)){return r.addNewInputEnablementRule(t,n)}return null};e.AbstractBlendableQueryManager.prototype.addPlanningVersionSettings=function(t){let n=this.getQueryManager();let r=null;if(e.notNull(n)){r=n.addPlanningVersionSettings(t)}return r};e.AbstractBlendableQueryManager.prototype.addVariableVariant=function(e){this.getQueryManagerBase().addVariableVariant(e)};e.AbstractBlendableQueryManager.prototype.applyRSFeatureRequest=function(){let t=this.getQueryManager();if(e.notNull(t)){t.applyRSFeatureRequest()}};e.AbstractBlendableQueryManager.prototype.applyState=function(t,n,r,i){let a=this.getQueryManager();let o=null;if(e.notNull(a)){o=a.applyState(t,n,r,i)}return o};e.AbstractBlendableQueryManager.prototype.applyValueHelpCapabilities=function(){this.getQueryManagerBase().applyValueHelpCapabilities()};e.AbstractBlendableQueryManager.prototype.applyingStateOnQueryManager=function(){let t=this.getQueryManager();let n=false;if(e.notNull(t)){n=t.applyingStateOnQueryManager()}return n};e.AbstractBlendableQueryManager.prototype.assertLifeCycleActive=function(){if(this.getLifeCycleState()!==e.LifeCycleState.ACTIVE&&this.getLifeCycleState()!==e.LifeCycleState.STARTING_UP){throw e.XException.createIllegalStateException("Query manager is not active")}};e.AbstractBlendableQueryManager.prototype.attachBeforeQueryExecutionListener=function(t,n){let r=this.getQueryManager();if(e.notNull(r)){r.attachBeforeQueryExecutionListener(t,n)}};e.AbstractBlendableQueryManager.prototype.attachQueryExecutedListener=function(t,n){let r=this.getQueryManager();if(e.notNull(r)){r.attachQueryExecutedListener(t,n)}};e.AbstractBlendableQueryManager.prototype.cancelReInitVariables=function(t,n,r){let i=e.BlendableQMVariableSubmitProcessor.createBlendableVariableSubmitProcessor(this);return i.cancelReInitVariables(t,n,r)};e.AbstractBlendableQueryManager.prototype.checkVariables=function(t,n,r){let i=e.BlendableQMVariableSubmitProcessor.createBlendableVariableSubmitProcessor(this);return i.checkVariables(t,n,r)};e.AbstractBlendableQueryManager.prototype.clearExternalVariablesRepresentations=function(){let t=this.getQueryManager();if(e.notNull(t)){t.clearExternalVariablesRepresentations()}};e.AbstractBlendableQueryManager.prototype.clearInputEnablementRules=function(){let t=this.getQueryManager();if(e.notNull(t)){t.clearInputEnablementRules()}};e.AbstractBlendableQueryManager.prototype.clearInputReadinessFilter=function(){let t=this.getQueryModel();if(e.notNull(t)){t.clearInputReadinessFilter()}};e.AbstractBlendableQueryManager.prototype.clearVariableVariants=function(){this.getQueryManagerBase().clearVariableVariants()};e.AbstractBlendableQueryManager.prototype.clearVersionAliases=function(){let t=this.getQueryManager();if(e.notNull(t)){t.clearVersionAliases()}};e.AbstractBlendableQueryManager.prototype.cloneQueryManager=function(){return this.cloneQueryManagerExt(e.QueryCloneMode.CURRENT_STATE)};e.AbstractBlendableQueryManager.prototype.cloneQueryManagerBase=function(e){return this.cloneQueryManagerExt(e)};e.AbstractBlendableQueryManager.prototype.cloneQueryManagerExt=function(t){let n=this.newBlendableQueryManager();let r=e.QFactory.createKeyRefStoreContext(this.getOlapEnv().getModelLinkManager(),this.getStorageName());r.getKeyRefStorage().setSubKefRefStore(this.getOlapEnv().getClientQueryObjectManager().getKeyRefStorage());n.setupBlendingManager(r);n.setupClone(this,t,null);return n};e.AbstractBlendableQueryManager.prototype.cloneQueryManagerOptimized=function(t){let n=this.newBlendableQueryManager();let r=e.QFactory.createKeyRefStoreContext(this.getOlapEnv().getModelLinkManager(),this.getStorageName());r.getKeyRefStorage().setSubKefRefStore(this.getOlapEnv().getClientQueryObjectManager().getKeyRefStorage());n.setupBlendingManager(r);n.setupClone(this,e.QueryCloneMode.CURRENT_STATE,null);return n};e.AbstractBlendableQueryManager.prototype.cloneQueryManagerOptimizedWithLazyLoad=function(e){return this.cloneQueryManagerOptimizedWithLazyLoad(e)};e.AbstractBlendableQueryManager.prototype.cloneQueryManagerUsingExtDataSource=function(t,n){let r=this.getQueryManager();let i=null;if(e.notNull(r)){i=r.cloneQueryManagerUsingExtDataSource(t,n)}return i};e.AbstractBlendableQueryManager.prototype.containsCode=function(t,n){let r=this.getQueryManager();let i=false;if(e.notNull(r)){i=r.containsCode(t,n)}return i};e.AbstractBlendableQueryManager.prototype.copyFromInternal=e.noSupport;e.AbstractBlendableQueryManager.prototype.createCustomHierarchyProvider=function(e,t){return this.getQueryManagerBase().createCustomHierarchyProvider(e,t)};e.AbstractBlendableQueryManager.prototype.createDataAreaCommand=function(t){let n=this.getQueryManager();let r=null;if(e.notNull(n)){r=n.createDataAreaCommand(t)}return r};e.AbstractBlendableQueryManager.prototype.createDataAreaCommandDocReset=function(){return this.createDataAreaCommand(e.PlanningContextCommandType.DOC_RESET)};e.AbstractBlendableQueryManager.prototype.createDataAreaCommandDocSave=function(){return this.createDataAreaCommand(e.PlanningContextCommandType.DOC_SAVE)};e.AbstractBlendableQueryManager.prototype.createDataAreaCommandRefresh=function(){return this.createDataAreaCommand(e.PlanningContextCommandType.REFRESH)};e.AbstractBlendableQueryManager.prototype.deletePlanningVersionSettings=function(t){let n=this.getQueryManager();let r=null;if(e.notNull(n)){r=n.deletePlanningVersionSettings(t)}return r};e.AbstractBlendableQueryManager.prototype.deleteVariableVariant=e.noSupport;e.AbstractBlendableQueryManager.prototype.detachBeforeQueryExecutionListener=function(t){let n=this.getQueryManager();if(e.notNull(n)){n.detachBeforeQueryExecutionListener(t)}};e.AbstractBlendableQueryManager.prototype.detachQueryExecutedListener=function(t){let n=this.getQueryManager();if(e.notNull(n)){n.detachQueryExecutedListener(t)}};e.AbstractBlendableQueryManager.prototype.disableReturnedDataSelection=function(t){let n=this.getQueryManager();if(e.notNull(n)){n.disableReturnedDataSelection(t)}};e.AbstractBlendableQueryManager.prototype.emptyVariableDefinition=e.noSupport;e.AbstractBlendableQueryManager.prototype.enableHierarchyToUDHConversion=function(t){let n=this.getQueryManager();if(e.notNull(n)){n.enableHierarchyToUDHConversion(t)}};e.AbstractBlendableQueryManager.prototype.enableReturnedDataSelection=function(t){let n=this.getQueryManager();if(e.notNull(n)){n.enableReturnedDataSelection(t)}};e.AbstractBlendableQueryManager.prototype.getAbstractRendering=function(e,t){this.assertLifeCycleActive();return this.getActiveResultSetContainer().getAbstractRendering(e,t)};e.AbstractBlendableQueryManager.prototype.getActiveResultSetContainer=function(){return this.getResultsetContainer(false)};e.AbstractBlendableQueryManager.prototype.getActiveResultSetContainerBase=function(){return this.getResultsetContainer(false)};e.AbstractBlendableQueryManager.prototype.getAllDisabledReturnedDataSelections=function(){let t=this.getQueryManager();let n=e.XList.create();if(e.notNull(t)){n=t.getAllDisabledReturnedDataSelections()}return n};e.AbstractBlendableQueryManager.prototype.getAllEnabledReturnedDataSelections=function(){let t=this.getQueryManager();let n=e.XList.create();if(e.notNull(t)){n=t.getAllEnabledReturnedDataSelections()}return n};e.AbstractBlendableQueryManager.prototype.getAllPlanningVersionSettings=function(){let t=this.getQueryManager();let n=null;if(e.notNull(t)){n=t.getAllPlanningVersionSettings()}return n};e.AbstractBlendableQueryManager.prototype.getAllQueryManagers=function(){return this.m_queryManagers.getValuesAsReadOnlyList()};e.AbstractBlendableQueryManager.prototype.getAndUseResultsetStateId=function(){let t=this.getQueryManagerBase();let n=0;if(e.notNull(t)){n=t.getAndUseResultsetStateId()}return n};e.AbstractBlendableQueryManager.prototype.getCapabilitiesBase=function(){return this.getQueryManagerBase().getCapabilitiesBase()};e.AbstractBlendableQueryManager.prototype.getClassicResultSet=function(){this.assertLifeCycleActive();return this.getActiveResultSetContainer().getClassicResultSet()};e.AbstractBlendableQueryManager.prototype.getClientQueryObjectMigrationStorageName=function(){let t=this.getQueryManager();let n=null;if(e.notNull(t)){n=t.getClientQueryObjectStorageName()}return n};e.AbstractBlendableQueryManager.prototype.getClientQueryObjectStorageName=function(){return this.m_clientQueryObjectStorageName};e.AbstractBlendableQueryManager.prototype.getClientStatusCode=function(){let t=this.getQueryManager();let n=0;if(e.notNull(t)){n=t.getClientStatusCode()}return n};e.AbstractBlendableQueryManager.prototype.getConnection=function(){return this.getQueryManagerBase().getConnection()};e.AbstractBlendableQueryManager.prototype.getContext=function(){return this};e.AbstractBlendableQueryManager.prototype.getCursorResultSet=function(){this.assertLifeCycleActive();return this.getActiveResultSetContainer().getCursorResultSet()};e.AbstractBlendableQueryManager.prototype.getDWCOrEPFSpaceId=function(){let t=this.getQueryManager();let n=null;if(e.notNull(t)){n=t.getDWCOrEPFSpaceId()}return n};e.AbstractBlendableQueryManager.prototype.getDataArea=function(){let t=this.getQueryManager();let n=null;if(e.notNull(t)){n=t.getDataArea()}return n};e.AbstractBlendableQueryManager.prototype.getDataRefreshEnabled=function(){return this.getResultsetContainer(false).getDataRefreshEnabled()};e.AbstractBlendableQueryManager.prototype.getDataRequest=function(){let t=this.getQueryManager();let n=null;if(e.notNull(t)){n=t.getDataRequest()}return n};e.AbstractBlendableQueryManager.prototype.getDataRequestAsString=function(){let t=this.getQueryManager();let n=null;if(e.notNull(t)){n=t.getDataRequestAsString()}return n};e.AbstractBlendableQueryManager.prototype.getDefinition=function(){let t=this.getQueryManager();let n=null;if(e.notNull(t)){n=t.getInitSettings().getDefinition()}return n};e.AbstractBlendableQueryManager.prototype.getDimensionMemberVariables=function(){let t=this.getQueryManager();let n=e.XList.create();if(e.notNull(t)){n=t.getDimensionMemberVariables()}return n};e.AbstractBlendableQueryManager.prototype.getDimensionsRequestedFromClient=function(){return this.getQueryManagerBase().getDimensionsRequestedFromClient()};e.AbstractBlendableQueryManager.prototype.getDimensionsToClone=function(){return this.getQueryManagerBase().getDimensionsToClone()};e.AbstractBlendableQueryManager.prototype.getErrors=function(){let t=this.getQueryManager();let n=e.XList.create();if(e.notNull(t)){n=t.getErrors()}return n};e.AbstractBlendableQueryManager.prototype.getExecuteRequestOnOldResultSet=function(){return this.getActiveResultSetContainer().getExecuteRequestOnOldResultSet()};e.AbstractBlendableQueryManager.prototype.getFirstError=function(){let t=this.getQueryManager();let n=null;if(e.notNull(t)){n=t.getFirstError()}return n};e.AbstractBlendableQueryManager.prototype.getFirstWithSeverity=function(t){let n=this.getQueryManager();let r=null;if(e.notNull(n)){r=n.getFirstWithSeverity(t)}return r};e.AbstractBlendableQueryManager.prototype.getHierarchyNameVariable=function(t){let n=this.getQueryManager();let r=null;if(e.notNull(n)){r=n.getHierarchyNameVariable(t)}return r};e.AbstractBlendableQueryManager.prototype.getHierarchyNameVariables=function(){let t=this.getQueryManager();let n=e.XList.create();if(e.notNull(t)){n=t.getHierarchyNameVariables()}return n};e.AbstractBlendableQueryManager.prototype.getHierarchyNodeVariable=function(t){let n=this.getQueryManager();let r=null;if(e.notNull(n)){r=n.getHierarchyNodeVariable(t)}return r};e.AbstractBlendableQueryManager.prototype.getIncludePerformanceData=function(){return this.getQueryManagerBase().getIncludePerformanceData()};e.AbstractBlendableQueryManager.prototype.getInfos=function(){let t=this.getQueryManager();let n=e.XList.create();if(e.notNull(t)){n=t.getInfos()}return n};e.AbstractBlendableQueryManager.prototype.getInitSettings=function(){let t=this.getQueryManager();let n=null;if(e.notNull(t)){n=t.getInitSettings()}return n};e.AbstractBlendableQueryManager.prototype.getInputEnabledAndNonTechnicalVariables=function(){let t=this.getQueryManager();let n=e.XListOfNameObject.create();if(e.notNull(t)){n=t.getInputEnabledAndNonTechnicalVariables()}return n};e.AbstractBlendableQueryManager.prototype.getInputEnabledVariable=function(t){let n=this.getQueryManager();let r=null;if(e.notNull(n)){r=n.getInputEnabledVariable(t)}return r};e.AbstractBlendableQueryManager.prototype.getInputEnabledVariables=function(){let t=this.getQueryManager();let n=e.XListOfNameObject.create();if(e.notNull(t)){n=t.getInputEnabledVariables()}return n};e.AbstractBlendableQueryManager.prototype.getInputEnablementRules=function(){let t=this.getQueryManager();if(e.notNull(t)){return t.getInputEnablementRules()}return e.XList.create()};e.AbstractBlendableQueryManager.prototype.getInputReadinessCacheMode=function(){let t=this.getQueryManager();if(e.notNull(t)){return t.getInputReadinessCacheMode()}return null};e.AbstractBlendableQueryManager.prototype.getInputReadinessFilter=function(){let t=this.getQueryModel();if(e.notNull(t)){return t.getInputReadinessFilter()}return null};e.AbstractBlendableQueryManager.prototype.getInputReadinessMainQuery=function(){let t=this.getQueryManager();if(e.notNull(t)){return t.getInputReadinessMainQuery()}return null};e.AbstractBlendableQueryManager.prototype.getInstanceId=function(){let t=this.getQueryManager();let n=null;if(e.notNull(t)){n=t.getInstanceId()}return n};e.AbstractBlendableQueryManager.prototype.getLifeCycleState=function(){let t=this.getQueryManager();let n=null;if(e.notNull(t)){n=t.getLifeCycleState()}return n};e.AbstractBlendableQueryManager.prototype.getLovManager=function(){let t=this.getQueryManager();let n=null;if(e.notNull(t)){n=t.getLovManager()}return n};e.AbstractBlendableQueryManager.prototype.getMaxColumns=function(){return this.getResultsetContainer(false).getMaxColumns()};e.AbstractBlendableQueryManager.prototype.getMaxResultRecords=function(){return this.getResultsetContainer(false).getMaxResultRecords()};e.AbstractBlendableQueryManager.prototype.getMaxRows=function(){return this.getResultsetContainer(false).getMaxRows()};e.AbstractBlendableQueryManager.prototype.getMessage=function(t,n){let r=this.getQueryManager();let i=null;if(e.notNull(r)){i=r.getMessage(t,n)}return i};e.AbstractBlendableQueryManager.prototype.getMessageManager=function(){return this.getQueryManagerBase()};e.AbstractBlendableQueryManager.prototype.getMessages=function(){let t=this.getQueryManager();let n=e.XList.create();if(e.notNull(t)){n=t.getMessages()}return n};e.AbstractBlendableQueryManager.prototype.getMetadataModel=function(){let t=this.getQueryManager();let n=null;if(e.notNull(t)){n=t.getMetadataModel()}return n};e.AbstractBlendableQueryManager.prototype.getMetadataModelBase=function(){return this.getQueryManagerBase().getMetadataModelBase()};e.AbstractBlendableQueryManager.prototype.getMode=function(){let t=this.getQueryManager();let n=null;if(e.notNull(t)){n=t.getInitSettings().getMode()}return n};e.AbstractBlendableQueryManager.prototype.getModelCapabilities=function(){let t=this.getQueryManagerByDatasetId(this.m_primaryDatasetId);let n=null;if(e.notNull(t)){n=t.getModelCapabilities()}return n};e.AbstractBlendableQueryManager.prototype.getNameForMicroCubeUse=function(){let t=this.getQueryManager();let n=null;if(e.notNull(t)){n=t.getNameForMicroCubeUse()}return n};e.AbstractBlendableQueryManager.prototype.getNumberOfErrors=function(){let t=this.getQueryManager();let n=0;if(e.notNull(t)){n=t.getNumberOfErrors()}return n};e.AbstractBlendableQueryManager.prototype.getNumberOfSeverity=function(t){let n=this.getQueryManager();let r=0;if(e.notNull(n)){r=n.getNumberOfSeverity(t)}return r};e.AbstractBlendableQueryManager.prototype.getNumberOfWarnings=function(){let t=this.getQueryManager();let n=0;if(e.notNull(t)){n=t.getNumberOfWarnings()}return n};e.AbstractBlendableQueryManager.prototype.getOffsetColumns=function(){return this.getResultsetContainer(false).getOffsetColumns()};e.AbstractBlendableQueryManager.prototype.getOffsetRows=function(){return this.getResultsetContainer(false).getOffsetRows()};e.AbstractBlendableQueryManager.prototype.getOlapComponentType=function(){return e.OlapComponentType.BLENDABLE_QUERY_MANAGER};e.AbstractBlendableQueryManager.prototype.getOlapSystemContainer=function(){let t=this.getQueryManager();let n=null;if(e.notNull(t)){n=t.getOlapSystemContainer()}return n};e.AbstractBlendableQueryManager.prototype.getOrCreateDocumentsStoreService=function(t){let n=this.getQueryManagerBase();let r=null;if(e.notNull(n)){r=n.getOrCreateDocumentsStoreService(t)}return r};e.AbstractBlendableQueryManager.prototype.getPlanningManager=function(){let t=this.getQueryManager();let n=null;if(e.notNull(t)){n=t.getPlanningManager()}return n};e.AbstractBlendableQueryManager.prototype.getPlanningMode=function(){let t=this.getQueryManager();let n=null;if(e.notNull(t)){n=t.getPlanningMode()}return n};e.AbstractBlendableQueryManager.prototype.getPlanningModel=function(){let t=this.getQueryManager();let n=null;if(e.notNull(t)){n=t.getPlanningModel()}return n};e.AbstractBlendableQueryManager.prototype.getPlanningRestriction=function(){let t=this.getQueryManager();let n=null;if(e.notNull(t)){n=t.getPlanningRestriction()}return n};e.AbstractBlendableQueryManager.prototype.getPlanningVersionIdentifier=function(t,n,r){let i=this.getQueryManager();let a=null;if(e.notNull(i)){a=i.getPlanningVersionIdentifier(t,n,r)}return a};e.AbstractBlendableQueryManager.prototype.getPlanningVersionSettings=function(t,n,r){let i=this.getQueryManager();let a=null;if(e.notNull(i)){a=i.getPlanningVersionSettings(t,n,r)}return a};e.AbstractBlendableQueryManager.prototype.getPlanningVersionSettingsMode=function(){let t=this.getQueryManager();let n=null;if(e.notNull(t)){n=t.getPlanningVersionSettingsMode()}return n};e.AbstractBlendableQueryManager.prototype.getPlanningVersionSettingsSimple=function(t,n,r){let i=this.getQueryManager();let a=null;if(e.notNull(i)){a=i.getPlanningVersionSettingsSimple(t,n,r)}return a};e.AbstractBlendableQueryManager.prototype.getPreQueryExecutor=function(){let t=this.getQueryManager();let n=null;if(e.notNull(t)){n=t.getPreQueryExecutor()}return n};e.AbstractBlendableQueryManager.prototype.getPreQueryName=function(){let t=this.getQueryManager();let n=null;if(e.notNull(t)){n=t.getPreQueryName()}return n};e.AbstractBlendableQueryManager.prototype.getPreviousVariableProcessorState=function(){return this.getQueryManagerBase().getPreviousVariableProcessorState()};e.AbstractBlendableQueryManager.prototype.getPrimaryQueryManager=function(){return this.getQueryManagerByDatasetId(this.m_primaryDatasetId)};e.AbstractBlendableQueryManager.prototype.getProviderType=function(){let t=this.getQueryManager();let n=null;if(e.notNull(t)){n=t.getInitSettings().getProviderType()}return n};e.AbstractBlendableQueryManager.prototype.getQueryManager=function(){return this.getPrimaryQueryManager()};e.AbstractBlendableQueryManager.prototype.getQueryManagerByDatasetId=function(e){return this.m_queryManagers.getByKey(e)};e.AbstractBlendableQueryManager.prototype.getQueryModel=function(){let t=this.getQueryManagerByDatasetId(this.m_primaryDatasetId);let n=null;if(e.notNull(t)){n=t.getQueryModel()}return n};e.AbstractBlendableQueryManager.prototype.getQueryServiceConfig=function(){let t=this.getQueryManager();let n=null;if(e.notNull(t)){n=t.getQueryServiceConfig()}return n};e.AbstractBlendableQueryManager.prototype.getResourceDetailsFromResourceIdentifier=function(t){let n=this.getQueryManager();let r=null;if(e.notNull(n)){r=n.getResourceDetailsFromResourceIdentifier(t)}return r};e.AbstractBlendableQueryManager.prototype.getResourcePath=function(){let t=this.getQueryManager();let n=null;if(e.notNull(t)){n=t.getResourcePath()}return n};e.AbstractBlendableQueryManager.prototype.getResultSetMessages=function(){return this.getActiveResultSetContainer()};e.AbstractBlendableQueryManager.prototype.getResultSetPersistenceIdentifier=function(){return this.getResultsetContainer(false).getResultSetPersistenceIdentifier()};e.AbstractBlendableQueryManager.prototype.getResultSetPersistenceSchema=function(){return this.getResultsetContainer(false).getResultSetPersistenceSchema()};e.AbstractBlendableQueryManager.prototype.getResultSetPersistenceTable=function(){return this.getResultsetContainer(false).getResultSetPersistenceTable()};e.AbstractBlendableQueryManager.prototype.getResultSetPersistenceType=function(){return this.getResultsetContainer(false).getResultSetPersistenceType()};e.AbstractBlendableQueryManager.prototype.getResultSetProviderFactory=function(){return this.getQueryManagerBase().getResultSetProviderFactory()};e.AbstractBlendableQueryManager.prototype.getResultSetSyncState=function(){return this.getActiveResultSetContainer().getResultSetSyncState()};e.AbstractBlendableQueryManager.prototype.getResultsetContainer=function(t){if(e.isNull(this.m_activeContainer)||this.m_activeContainer.isReleased()||t&&this.m_activeContainer.getSyncState()!==e.SyncState.OUT_OF_SYNC){let t=null;let n=null;if(e.notNull(this.m_activeContainer)&&!this.m_activeContainer.isReleased()){let n=this.m_activeContainer;let r=n.getRuntimeQueryManager();if(e.notNull(r)&&!r.isReleased()){if(r.getInitSettings().getMode()===e.QueryManagerMode.BLENDING){t=r;t.invalidateState()}}}let r=this.m_activeContainer;let i=this.m_activeContainer;if(e.notNull(i)&&i.getBlendingProcess()!==null){n=i.getBlendingProcess().getLastState()}this.m_activeContainer=e.BlendableResultSetContainer.createBlendableResultSetContainer(this,t,n);if(e.notNull(r)){r.setSerializedData(null,null)}}return this.m_activeContainer};e.AbstractBlendableQueryManager.prototype.getRootProfileNode=function(){let t=this.getQueryManager();let n=null;if(e.notNull(t)){n=t.getRootProfileNode()}return n};e.AbstractBlendableQueryManager.prototype.getRriTargetManager=function(){let t=this.getQueryManager();let n=null;if(e.notNull(t)){n=t.getRriTargetManager()}return n};e.AbstractBlendableQueryManager.prototype.getSecondaryQueryManagers=function(){let t=this.getAllQueryManagers();let n=e.XList.create();let r=t.getIterator();while(r.hasNext()){let t=r.next();if(!e.XString.isEqual(t.getQueryModel().getDatasetId(),this.m_primaryDatasetId)){n.add(t)}}return n};e.AbstractBlendableQueryManager.prototype.getSelectionTagging=function(){let t=this.getQueryManager();let n=null;if(e.notNull(t)){n=t.getSelectionTagging()}return n};e.AbstractBlendableQueryManager.prototype.getSemanticalErrors=function(){let t=this.getQueryManager();let n=e.XList.create();if(e.notNull(t)){n=t.getSemanticalErrors()}return n};e.AbstractBlendableQueryManager.prototype.getServerStatusCode=function(){let t=this.getQueryManager();let n=0;if(e.notNull(t)){n=t.getServerStatusCode()}return n};e.AbstractBlendableQueryManager.prototype.getServerStatusDetails=function(){let t=this.getQueryManager();let n=null;if(e.notNull(t)){n=t.getServerStatusDetails()}return n};e.AbstractBlendableQueryManager.prototype.getServiceConfig=function(){let t=this.getQueryManager();let n=null;if(e.notNull(t)){n=t.getServiceConfig()}return n};e.AbstractBlendableQueryManager.prototype.getSummary=function(){let t=this.getQueryManager();let n=null;if(e.notNull(t)){n=t.getSummary()}return n};e.AbstractBlendableQueryManager.prototype.getSuppressCalculatedMembersWithoutBookedData=function(){return this.getResultsetContainer(false).getSuppressCalculatedMembersWithoutBookedData()};e.AbstractBlendableQueryManager.prototype.getSystemDescription=function(){let t=this.getQueryManager();let n=null;if(e.notNull(t)){n=t.getSystemDescription()}return n};e.AbstractBlendableQueryManager.prototype.getSystemName=function(){let t=this.getQueryManager();let n=null;if(e.notNull(t)){n=t.getSystemName()}return n};e.AbstractBlendableQueryManager.prototype.getSystemType=function(){let t=this.getQueryManager();let n=null;if(e.notNull(t)){n=t.getSystemType()}return n};e.AbstractBlendableQueryManager.prototype.getValueHelpProvider=function(){return this.getQueryManagerBase().getValueHelpProvider()};e.AbstractBlendableQueryManager.prototype.getVariable=function(t){let n=this.getQueryManager();let r=null;if(e.notNull(n)){r=n.getVariable(t)}return r};e.AbstractBlendableQueryManager.prototype.getVariableContainerBase=function(){return this.getQueryManagerBase().getVariableContainerBase()};e.AbstractBlendableQueryManager.prototype.getVariableMode=function(){let t=this.getQueryManager();let n=null;if(e.notNull(t)){n=t.getVariableMode()}return n};e.AbstractBlendableQueryManager.prototype.getVariableProcessor=function(){let t=this.getQueryManager();let n=null;if(e.notNull(t)){n=t.getVariableProcessor()}return n};e.AbstractBlendableQueryManager.prototype.getVariableProcessorState=function(){let t=this.getQueryManager();let n=null;if(e.notNull(t)){n=t.getVariableProcessorState()}return n};e.AbstractBlendableQueryManager.prototype.getVariableVariantByName=function(t){let n=this.getQueryManager();let r=null;if(e.notNull(n)){r=n.getVariableVariantByName(t)}return r};e.AbstractBlendableQueryManager.prototype.getVariableVariants=function(){let t=this.getQueryManager();let n=null;if(e.notNull(t)){n=t.getVariableVariants()}return n};e.AbstractBlendableQueryManager.prototype.getVariables=function(){let t=this.getQueryManager();let n=e.XListOfNameObject.create();if(e.notNull(t)){n=t.getVariables()}return n};e.AbstractBlendableQueryManager.prototype.getVersionAliases=function(){let t=this.getQueryManager();let n=e.XHashMapByString.create();if(e.notNull(t)){n=t.getVersionAliases()}return n};e.AbstractBlendableQueryManager.prototype.getWarnings=function(){let t=this.getQueryManager();let n=e.XList.create();if(e.notNull(t)){n=t.getWarnings()}return n};e.AbstractBlendableQueryManager.prototype.hasChangedCells=function(){let t=this.getQueryManager();let n=false;if(e.notNull(t)){n=t.hasChangedCells()}return n};e.AbstractBlendableQueryManager.prototype.hasChangedValueLocks=function(){let t=this.getQueryManager();let n=false;if(e.notNull(t)){n=t.hasChangedValueLocks()}return n};e.AbstractBlendableQueryManager.prototype.hasChangedValues=function(){let t=this.getQueryManager();let n=false;if(e.notNull(t)){n=t.hasChangedValues()}return n};e.AbstractBlendableQueryManager.prototype.hasErrors=function(){let t=this.getQueryManager();let n=false;if(e.notNull(t)){n=t.hasErrors()}return n};e.AbstractBlendableQueryManager.prototype.hasInputEnabledAndNonTechnicalVariables=function(){return e.XCollectionUtils.hasElements(this.getInputEnabledAndNonTechnicalVariables())};e.AbstractBlendableQueryManager.prototype.hasInputEnabledVariables=function(){let t=this.getQueryManager();let n=false;if(e.notNull(t)){n=t.hasInputEnabledVariables()}return n};e.AbstractBlendableQueryManager.prototype.hasLovManager=function(){return this.getQueryManagerBase().hasLovManager()};e.AbstractBlendableQueryManager.prototype.hasMandatoryVariables=function(){let t=this.getQueryManager();let n=false;if(e.notNull(t)){n=t.hasMandatoryVariables()}return n};e.AbstractBlendableQueryManager.prototype.hasMoreColumnRecordsAvailable=function(){return this.getActiveResultSetContainer().hasMoreColumnRecordsAvailable()};e.AbstractBlendableQueryManager.prototype.hasMoreRowRecordsAvailable=function(){return this.getActiveResultSetContainer().hasMoreRowRecordsAvailable()};e.AbstractBlendableQueryManager.prototype.hasNewValues=function(){let t=this.getQueryManager();let n=false;if(e.notNull(t)){n=t.hasNewValues()}return n};e.AbstractBlendableQueryManager.prototype.hasPlanningManager=function(){return this.getQueryManagerBase().hasPlanningManager()};e.AbstractBlendableQueryManager.prototype.hasSeverity=function(t){let n=this.getQueryManager();let r=false;if(e.notNull(n)){r=n.hasSeverity(t)}return r};e.AbstractBlendableQueryManager.prototype.hasVariables=function(){let t=this.getQueryManager();let n=false;if(e.notNull(t)){n=t.hasVariables()}return n};e.AbstractBlendableQueryManager.prototype.hasWarnings=function(){let t=this.getQueryManager();let n=false;if(e.notNull(t)){n=t.hasWarnings()}return n};e.AbstractBlendableQueryManager.prototype.initializeDataAreaState=function(){let t=this.getQueryManager();let n=null;if(e.notNull(t)){n=t.initializeDataAreaState()}return n};e.AbstractBlendableQueryManager.prototype.invalidateState=function(){let t=this.getQueryManager();if(e.notNull(t)){t.invalidateState()}this.getResultsetContainer(true)};e.AbstractBlendableQueryManager.prototype.invalidateVisualizationContainers=function(){let t=this.getQueryManagerBase();if(e.notNull(t)){t.invalidateVisualizationContainers()}};e.AbstractBlendableQueryManager.prototype.isApplyingRepoState=function(){return this.getQueryManagerBase().isApplyingRepoState()};e.AbstractBlendableQueryManager.prototype.isBasedOnVirtualDataSource=function(){return false};e.AbstractBlendableQueryManager.prototype.isCacheHintEnabled=function(){let t=this.getQueryManager();let n=false;if(e.notNull(t)){n=t.isCacheHintEnabled()}return n};e.AbstractBlendableQueryManager.prototype.isCancelNeeded=function(){let e=false;let t=this.getAllQueryManagers().getIterator();while(t.hasNext()){let n=t.next();e=n.isCancelNeeded();if(e){break}}return e};e.AbstractBlendableQueryManager.prototype.isClassicResultSetAvailable=function(){this.assertLifeCycleActive();return this.getActiveResultSetContainer().isClassicResultSetAvailable()};e.AbstractBlendableQueryManager.prototype.isCursorResultSetAvailable=function(){this.assertLifeCycleActive();return this.getActiveResultSetContainer().isCursorResultSetAvailable()};e.AbstractBlendableQueryManager.prototype.isDataEntryEnabled=function(){let t=this.getQueryManager();let n=false;if(e.notNull(t)){n=t.isDataEntryEnabled()}return n};e.AbstractBlendableQueryManager.prototype.isDataEntryReadOnly=function(){let t=this.getQueryManager();let n=false;if(e.notNull(t)){n=t.isDataEntryReadOnly()}return n};e.AbstractBlendableQueryManager.prototype.isDataSourceInitial=function(){return this.getQueryManagerBase().isDataSourceInitial()};e.AbstractBlendableQueryManager.prototype.isDirectVariableTransferEnabled=function(){let t=this.getQueryManager();let n=false;if(e.notNull(t)){n=t.isDirectVariableTransferEnabled()}return n};e.AbstractBlendableQueryManager.prototype.isExecuteAutoVariableSubmit=function(){return this.getQueryManagerBase().isExecuteAutoVariableSubmit()};e.AbstractBlendableQueryManager.prototype.isFailedSubmit=function(){let e=this.getAllQueryManagers().getIterator();while(e.hasNext()){if(e.next().isFailedSubmit()){return true}}return false};e.AbstractBlendableQueryManager.prototype.isHierarchyToUDHConversionEnabled=function(){let t=this.getQueryManager();return e.notNull(t)&&t.isHierarchyToUDHConversionEnabled()};e.AbstractBlendableQueryManager.prototype.isHierarchyToUDHConversionEnabledForCurrentRs=function(){let t=this.getQueryManager();return e.notNull(t)&&t.isHierarchyToUDHConversionEnabledForCurrentRs()};e.AbstractBlendableQueryManager.prototype.isIncludePerformanceNotDefault=function(){return this.getQueryManagerBase().isIncludePerformanceNotDefault()};e.AbstractBlendableQueryManager.prototype.isKeyRefSerializationEnabled=function(){let t=this.getQueryManager();let n=false;if(e.notNull(t)){n=t.isKeyRefSerializationEnabled()}return n};e.AbstractBlendableQueryManager.prototype.isKeyfigureCalculationSuppressed=function(){return this.getResultsetContainer(false).isKeyfigureCalculationSuppressed()};e.AbstractBlendableQueryManager.prototype.isLightweightSearch=function(){return this.getQueryManagerBase().isLightweightSearch()};e.AbstractBlendableQueryManager.prototype.isMetadataCached=function(){return this.getQueryManagerBase().isMetadataCached()};e.AbstractBlendableQueryManager.prototype.isProcessingAutoSubmit=function(){let e=false;let t=this.getAllQueryManagers().getIterator();while(t.hasNext()){let n=t.next();if(n.isProcessingAutoSubmit()){e=true;break}}return e};e.AbstractBlendableQueryManager.prototype.isPublicVersionEditPossible=function(){let t=this.getQueryManager();let n=false;if(e.notNull(t)){n=t.isPublicVersionEditPossible()}return n};e.AbstractBlendableQueryManager.prototype.isReinitNeeded=function(){let e=false;let t=this.getAllQueryManagers().getIterator();while(t.hasNext()){let n=t.next();e=n.isReinitNeeded();if(e){break}}return e};e.AbstractBlendableQueryManager.prototype.isRequestingPerformanceData=function(){let t=this.getQueryManager();let n=false;if(e.notNull(t)){n=t.isRequestingPerformanceData()}return n};e.AbstractBlendableQueryManager.prototype.isResultSetTransportEnabled=function(){return this.getResultsetContainer(false).isResultSetTransportEnabled()};e.AbstractBlendableQueryManager.prototype.isShallow=function(){return false};e.AbstractBlendableQueryManager.prototype.isSubmitNeeded=function(){let e=false;let t=this.getAllQueryManagers().getIterator();while(t.hasNext()){let n=t.next();e=n.isSubmitNeeded();if(e){break}}return e};e.AbstractBlendableQueryManager.prototype.isSubmitted=function(){let e=true;let t=this.getAllQueryManagers().getIterator();while(t.hasNext()){let n=t.next();if((n.supportsAndAllowsEmptyExtendedVarDefinition()||n.hasVariables())&&!n.isSubmitted()){e=false;break}}return e};e.AbstractBlendableQueryManager.prototype.isSystemMappingValid=function(t){let n=this.getQueryManager();let r=false;if(e.notNull(n)){r=n.isSystemMappingValid(t)}return r};e.AbstractBlendableQueryManager.prototype.isUpdatingDataRequestCapabilities=function(){let t=this.getQueryManager();let n=false;if(e.notNull(t)){n=t.isUpdatingDataRequestCapabilities()}return n};e.AbstractBlendableQueryManager.prototype.isValid=function(){let t=this.getQueryManager();let n=false;if(e.notNull(t)){n=t.isValid()}return n};e.AbstractBlendableQueryManager.prototype.isValidatingLocalFormulaMembers=function(){let t=this.getQueryManager();return e.notNull(t)&&t.isValidatingLocalFormulaMembers()};e.AbstractBlendableQueryManager.prototype.loadQueryModel=e.noSupport;e.AbstractBlendableQueryManager.prototype.maintainStateForRsWithAutoSubmit=function(e){this.getQueryManagerBase().maintainStateForRsWithAutoSubmit(e)};e.AbstractBlendableQueryManager.prototype.onModelChange=function(e){this.getQueryManagerBase().onModelChange(e)};e.AbstractBlendableQueryManager.prototype.prepareAfterVariables=function(){this.getQueryManagerBase().prepareAfterVariables()};e.AbstractBlendableQueryManager.prototype.processBLOB=function(t,n,r,i){let a=this.getQueryManager();let o=null;if(e.notNull(a)){o=a.processBLOB(t,n,r,i)}return o};e.AbstractBlendableQueryManager.prototype.processCancel=function(t){let n=this.getQueryManager();if(e.notNull(n)){n.processCancel(t)}};e.AbstractBlendableQueryManager.prototype.processClearCache=function(t,n){let r=this.getQueryManager();if(e.notNull(r)){r.processClearCache(t,n)}};e.AbstractBlendableQueryManager.prototype.processModelInitialization=e.noSupport;e.AbstractBlendableQueryManager.prototype.processModelInitializationAndApplyRepoState=e.noSupport;e.AbstractBlendableQueryManager.prototype.processQueryExecution=function(e,t,n){return this.getResultsetContainer(false).processExecution(e,t,n)};e.AbstractBlendableQueryManager.prototype.processQueryExecutionAsBlendingSource=e.noSupport;e.AbstractBlendableQueryManager.prototype.processQueryExecutionAsLovProcess=function(e,t,n,r){return this.getQueryManagerBase().processQueryExecutionAsLovProcess(e,t,n,r)};e.AbstractBlendableQueryManager.prototype.processQueryExecutionAsRemotePreQuery=function(e,t,n){return this.getQueryManagerBase().processQueryExecutionAsRemotePreQuery(e,t,n)};e.AbstractBlendableQueryManager.prototype.processShutdown=function(t,n,r){let i=this.getQueryManager();let a=null;if(e.notNull(i)){a=i.processShutdown(t,n,r)}return a};e.AbstractBlendableQueryManager.prototype.processUpdateRuntimeBlendQueryFromDependentQueries=e.noSupport;e.AbstractBlendableQueryManager.prototype.reInitVariablesAfterSubmit=function(t,n,r){let i=e.BlendableQMVariableSubmitProcessor.createBlendableVariableSubmitProcessor(this);return i.reInitVariablesAfterSubmit(t,n,r)};e.AbstractBlendableQueryManager.prototype.recordState=function(){let t=this.getQueryManager();let n=null;if(e.notNull(t)){n=t.recordState()}return n};e.AbstractBlendableQueryManager.prototype.recordingStateOfQueryManager=function(){let t=this.getQueryManager();let n=false;if(e.notNull(t)){n=t.recordingStateOfQueryManager()}return n};e.AbstractBlendableQueryManager.prototype.registerVariableProcessorStateChangedListener=function(t,n){let r=this.getQueryManager();if(e.notNull(r)){r.registerVariableProcessorStateChangedListener(t,n)}};e.AbstractBlendableQueryManager.prototype.releaseObject=function(){this.m_primaryDatasetId=null;this.m_queryManagers=e.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_queryManagers);this.m_activeContainer=e.XObjectExt.release(this.m_activeContainer);e.QModelComponent.prototype.releaseObject.call(this)};e.AbstractBlendableQueryManager.prototype.removeVariableVariant=function(e){this.getQueryManagerBase().removeVariableVariant(e)};e.AbstractBlendableQueryManager.prototype.removeVersionAlias=function(t){let n=this.getQueryManager();if(e.notNull(n)){n.removeVersionAlias(t)}};e.AbstractBlendableQueryManager.prototype.resetExitOrUpdateDynamicVariable=function(t,n,r,i){let a=this.getQueryManager();if(e.notNull(a)){a.resetExitOrUpdateDynamicVariable(t,n,r,i)}};e.AbstractBlendableQueryManager.prototype.resetMaxResultRecords=function(){this.getResultsetContainer(true).resetMaxResultRecords();return null};e.AbstractBlendableQueryManager.prototype.resetNewValues=function(){let t=this.getQueryManager();if(e.notNull(t)){t.resetNewValues()}};e.AbstractBlendableQueryManager.prototype.resetPreparation=function(){let t=this.getQueryManager();if(e.notNull(t)){t.resetPreparation()}};e.AbstractBlendableQueryManager.prototype.retriggerQueryExecutionWithCustomHierarchies=e.noSupport;e.AbstractBlendableQueryManager.prototype.returnToPreviousProcessorState=function(){this.getQueryManagerBase().returnToPreviousProcessorState()};e.AbstractBlendableQueryManager.prototype.saveVariableVariant=e.noSupport;e.AbstractBlendableQueryManager.prototype.setActiveResultSetContainer=function(e){this.m_activeContainer=e};e.AbstractBlendableQueryManager.prototype.setCacheHintEnabled=function(t){let n=this.getQueryManager();if(e.notNull(n)){n.setCacheHintEnabled(t)}};e.AbstractBlendableQueryManager.prototype.setClientQueryObjectMigrationStorageName=function(t){let n=this.getQueryManager();if(e.notNull(n)){n.setClientQueryObjectStorageName(t)}};e.AbstractBlendableQueryManager.prototype.setClientQueryObjectStorageName=function(e){this.m_clientQueryObjectStorageName=e};e.AbstractBlendableQueryManager.prototype.setDataEntryEnabled=function(t){let n=this.getQueryManager();if(e.notNull(n)){n.setDataEntryEnabled(t)}};e.AbstractBlendableQueryManager.prototype.setDataEntryReadOnly=function(t){let n=this.getQueryManager();if(e.notNull(n)){n.setDataEntryReadOnly(t)}};e.AbstractBlendableQueryManager.prototype.setDataRefreshEnabled=function(e){if(this.getResultsetContainer(false).getDataRefreshEnabled()!==e){this.getResultsetContainer(true).setDataRefreshEnabled(e)}};e.AbstractBlendableQueryManager.prototype.setDataSource=function(t){let n=this.getQueryManager();if(e.notNull(n)){n.setDataSource(t)}};e.AbstractBlendableQueryManager.prototype.setDeserializationStructureAsNull=function(){let t=this.getQueryManager();if(e.notNull(t)){t.setDeserializationStructureAsNull()}};e.AbstractBlendableQueryManager.prototype.setDirectVariableTransferEnabled=function(t){let n=this.getQueryManager();if(e.notNull(n)){n.setDirectVariableTransferEnabled(t)}};e.AbstractBlendableQueryManager.prototype.setExecuteRequestOnOldResultSet=function(e){if(this.getResultsetContainer(false).getExecuteRequestOnOldResultSet()!==e){this.getResultsetContainer(true).setExecuteRequestOnOldResultSet(e)}return null};e.AbstractBlendableQueryManager.prototype.setInputReadinessCacheMode=function(t){let n=this.getQueryManager();if(e.notNull(n)){n.setInputReadinessCacheMode(t)}};e.AbstractBlendableQueryManager.prototype.setInputReadinessFilter=function(t){let n=this.getQueryModel();if(e.notNull(n)){n.setInputReadinessFilter(t)}};e.AbstractBlendableQueryManager.prototype.setInputReadinessMainQuery=function(t){let n=this.getQueryManager();if(e.notNull(n)){n.setInputReadinessMainQuery(t)}};e.AbstractBlendableQueryManager.prototype.setIsMetadataCached=function(t){let n=this.getQueryManager();if(e.notNull(n)){n.setIsMetadataCached(t)}};e.AbstractBlendableQueryManager.prototype.setLifeCycleState=function(e){this.getQueryManagerBase().setLifeCycleState(e)};e.AbstractBlendableQueryManager.prototype.setMaxColumns=function(e){if(this.getResultsetContainer(false).getMaxColumns()!==e){this.getResultsetContainer(true).setMaxColumns(e);this.notifyNodeChanged()}return null};e.AbstractBlendableQueryManager.prototype.setMaxResultRecords=function(e){if(this.getResultsetContainer(false).getMaxResultRecords()!==e){this.getResultsetContainer(true).setMaxResultRecords(e);this.notifyNodeChanged()}return null};e.AbstractBlendableQueryManager.prototype.setMaxRows=function(e){if(this.getResultsetContainer(false).getMaxRows()!==e){this.getResultsetContainer(true).setMaxRows(e);this.notifyNodeChanged()}return null};e.AbstractBlendableQueryManager.prototype.setNameForMicroCubeUse=function(t){let n=this.getQueryManager();if(e.notNull(n)){n.setNameForMicroCubeUse(t)}};e.AbstractBlendableQueryManager.prototype.setNoVariableSubmitResponse=function(t){let n=this.getQueryManager();if(e.notNull(n)){n.setNoVariableSubmitResponse(t)}};e.AbstractBlendableQueryManager.prototype.setOffsetColumns=function(e){if(this.getResultsetContainer(false).getOffsetColumns()!==e){this.getResultsetContainer(true).setOffsetColumns(e);this.notifyNodeChanged()}return null};e.AbstractBlendableQueryManager.prototype.setOffsetRows=function(e){if(this.getResultsetContainer(false).getOffsetRows()!==e){this.getResultsetContainer(true).setOffsetRows(e);this.notifyNodeChanged()}return null};e.AbstractBlendableQueryManager.prototype.setPlanningMode=function(t){let n=this.getQueryManager();if(e.notNull(n)){n.setPlanningMode(t)}};e.AbstractBlendableQueryManager.prototype.setPlanningRestriction=function(t){let n=this.getQueryManager();if(e.notNull(n)){n.setPlanningRestriction(t)}};e.AbstractBlendableQueryManager.prototype.setPlanningVersionSettingsMode=function(t){let n=this.getQueryManager();if(e.notNull(n)){n.setPlanningVersionSettingsMode(t)}};e.AbstractBlendableQueryManager.prototype.setPreQueryName=function(t){let n=this.getQueryManager();if(e.notNull(n)){n.setPreQueryName(t)}};e.AbstractBlendableQueryManager.prototype.setPreviousVariableProcessorState=function(e){this.getQueryManagerBase().setPreviousVariableProcessorState(e)};e.AbstractBlendableQueryManager.prototype.setPublicVersionEditPossible=function(t){let n=this.getQueryManager();if(e.notNull(n)){n.setPublicVersionEditPossible(t)}};e.AbstractBlendableQueryManager.prototype.setRequestPerformanceData=function(t){let n=this.getQueryManager();if(e.notNull(n)){n.setRequestPerformanceData(t)}};e.AbstractBlendableQueryManager.prototype.setResultSetPersistanceTargetSchema=function(t){let n=this.getResultsetContainer(false).getResultSetPersistenceSchema();if(!e.XString.isEqual(n,t)){this.getResultsetContainer(true).setResultSetPersistanceTargetSchema(t)}return null};e.AbstractBlendableQueryManager.prototype.setResultSetPersistanceTargetTable=function(t){let n=this.getResultsetContainer(false).getResultSetPersistenceTable();if(!e.XString.isEqual(n,t)){this.getResultsetContainer(true).setResultSetPersistanceTargetTable(t)}return null};e.AbstractBlendableQueryManager.prototype.setResultSetPersistenceIdentifier=function(t){let n=this.getResultsetContainer(false).getResultSetPersistenceIdentifier();if(!e.XString.isEqual(n,t)){this.getResultsetContainer(true).setResultSetPersistenceIdentifier(t)}return null};e.AbstractBlendableQueryManager.prototype.setResultSetPersistenceTargetType=function(e){let t=this.getResultsetContainer(false).getResultSetPersistenceType();if(t!==e){this.getResultsetContainer(true).setResultSetPersistenceTargetType(e)}return null};e.AbstractBlendableQueryManager.prototype.setResultSetTransportEnabled=function(e){if(this.getResultsetContainer(false).isResultSetTransportEnabled()!==e){this.getResultsetContainer(true).setResultSetTransportEnabled(e)}return null};e.AbstractBlendableQueryManager.prototype.setSuppressCalculatedMembersWithoutBookedData=function(e){this.getResultsetContainer(true).setSuppressCalculatedMembersWithoutBookedData(e)};e.AbstractBlendableQueryManager.prototype.setSuppressKeyfigureCalculation=function(e){if(this.getResultsetContainer(false).isKeyfigureCalculationSuppressed()!==e){this.getResultsetContainer(true).setSuppressKeyfigureCalculation(e)}return null};e.AbstractBlendableQueryManager.prototype.setSystemDescription=function(e){this.getQueryManagerBase().setSystemDescription(e)};e.AbstractBlendableQueryManager.prototype.setUpdatingDataRequestCapabilities=function(t){let n=this.getQueryManager();if(e.notNull(n)){n.setRequestPerformanceData(t)}};e.AbstractBlendableQueryManager.prototype.setValidateLocalFormulaMembers=function(t){let n=this.getQueryManager();if(e.notNull(n)){n.setValidateLocalFormulaMembers(t)}};e.AbstractBlendableQueryManager.prototype.setValueHelpProvider=function(e){this.getQueryManagerBase().setValueHelpProvider(e)};e.AbstractBlendableQueryManager.prototype.setVariableProcessorState=function(e){this.getQueryManagerBase().setVariableProcessorState(e)};e.AbstractBlendableQueryManager.prototype.setVersionAliasById=function(t,n){let r=this.getQueryManager();if(e.notNull(r)){r.setVersionAliasById(t,n)}};e.AbstractBlendableQueryManager.prototype.setWinControlInAutoSubmitByType=function(t,n,r){let i=this.getQueryManager();if(e.notNull(i)){i.setWinControlInAutoSubmitByType(t,n,r)}};e.AbstractBlendableQueryManager.prototype.setkeyRefSerializationEnabled=function(t){let n=this.getQueryManager();if(e.notNull(n)){n.setkeyRefSerializationEnabled(t)}};e.AbstractBlendableQueryManager.prototype.setupBlendingManager=function(t){this.setupModelComponent(t,null);this.m_queryManagers=e.XLinkedHashMapByString.create();this.m_primaryDatasetId=null};e.AbstractBlendableQueryManager.prototype.setupClone=function(e,t,n){let r=e;this.m_primaryDatasetId=r.m_primaryDatasetId;this.m_clientQueryObjectStorageName=r.m_clientQueryObjectStorageName;this.m_queryManagers.clear();let i=r.getAllQueryManagers();for(let e=0;e<i.size();e++){let n=i.get(e);let r=n.cloneQueryManagerExt(t);this.addQueryManager(r)}};e.AbstractBlendableQueryManager.prototype.setupQueryModel=function(){return this.getQueryManagerBase().setupQueryModel()};e.AbstractBlendableQueryManager.prototype.submitVariables=function(t,n,r){let i=e.BlendableQMVariableSubmitProcessor.createBlendableVariableSubmitProcessor(this);return i.submitVariables(t,n,r)};e.AbstractBlendableQueryManager.prototype.supportsAnalyticCapability=function(t){let n=this.getQueryManager();let r=false;if(e.notNull(n)){r=n.supportsAnalyticCapability(t)}return r};e.AbstractBlendableQueryManager.prototype.supportsAndAllowsEmptyExtendedVarDefinition=function(){let t=this.getQueryManager();let n=false;if(e.notNull(t)){n=t.supportsAndAllowsEmptyExtendedVarDefinition()}return n};e.AbstractBlendableQueryManager.prototype.supportsBatchBlendingRsStreaming=function(){let t=this.getQueryManager();let n=false;if(e.notNull(t)){n=t.supportsBatchBlendingRsStreaming()}return n};e.AbstractBlendableQueryManager.prototype.supportsBatchRsStreaming=function(){let t=this.getQueryManager();let n=false;if(e.notNull(t)){n=t.supportsBatchRsStreaming()}return n};e.AbstractBlendableQueryManager.prototype.supportsCheckVariables=function(){let t=this.getQueryManager();let n=false;if(e.notNull(t)){n=t.supportsCheckVariables()}return n};e.AbstractBlendableQueryManager.prototype.supportsDataEntryReadOnly=function(){let t=this.getQueryManager();let n=false;if(e.notNull(t)){n=t.supportsDataEntryReadOnly()}return n};e.AbstractBlendableQueryManager.prototype.supportsDirectVariableTransfer=function(){let t=this.getQueryManager();let n=false;if(e.notNull(t)){n=t.supportsDirectVariableTransfer()}return n};e.AbstractBlendableQueryManager.prototype.supportsInputReadinessStates=function(){let t=this.getQueryManager();let n=false;if(e.notNull(t)){n=t.supportsInputReadinessStates()}return n};e.AbstractBlendableQueryManager.prototype.supportsMaintainsVariableVariants=function(){return false};e.AbstractBlendableQueryManager.prototype.supportsReInitVariables=function(){let t=this.getQueryManager();let n=false;if(e.notNull(t)){n=t.supportsReInitVariables()}return n};e.AbstractBlendableQueryManager.prototype.supportsReturnedDataSelection=function(){let t=this.getQueryManager();let n=false;if(e.notNull(t)){n=t.supportsReturnedDataSelection()}return n};e.AbstractBlendableQueryManager.prototype.supportsServerState=function(){let t=this.getQueryManager();let n=false;if(e.notNull(t)){n=t.supportsServerState()}return n};e.AbstractBlendableQueryManager.prototype.supportsShutdown=function(){let t=this.getQueryManager();let n=false;if(e.notNull(t)){n=t.supportsShutdown()}return n};e.AbstractBlendableQueryManager.prototype.supportsVariableMasking=function(){let t=this.getQueryManager();let n=false;if(e.notNull(t)){n=t.supportsVariableMasking()}return n};e.AbstractBlendableQueryManager.prototype.transferDataEntry=function(){let t=this.getQueryManager();if(e.notNull(t)){t.transferDataEntry()}};e.AbstractBlendableQueryManager.prototype.transferNewDocuments=function(){let t=this.getQueryManager();if(e.notNull(t)){this.getResultsetContainer(true);t.transferNewDocuments()}};e.AbstractBlendableQueryManager.prototype.transferNewValues=function(){let t=this.getQueryManager();if(e.notNull(t)){t.transferNewValues()}};e.AbstractBlendableQueryManager.prototype.transferVariables=function(t,n,r){let i=e.BlendableQMVariableSubmitProcessor.createBlendableVariableSubmitProcessor(this);return i.transferVariables(t,n,r)};e.AbstractBlendableQueryManager.prototype.transferVariablesByVariable=function(t,n,r,i){let a=e.BlendableQMVariableSubmitProcessor.createBlendableVariableSubmitProcessor(this);return a.transferVariablesByVariable(t,n,r,i)};e.AbstractBlendableQueryManager.prototype.unregisterVariableProcessorStateChangedListener=function(t){let n=this.getQueryManager();if(e.notNull(n)){n.unregisterVariableProcessorStateChangedListener(t)}};e.AbstractBlendableQueryManager.prototype.updateDynamicVariables=function(t,n,r){let i=this.getQueryManager();if(e.notNull(i)){i.updateDynamicVariables(t,n,r)}};e.AbstractBlendableQueryManager.prototype.updateQueryManager=function(t,n){let r=this.getQueryManager();if(e.notNull(r)){r.updateQueryManager(t,n)}};e.AbstractBlendableQueryManager.prototype.updateVariableVariantValues=e.noSupport;e.AbstractBlendableQueryManager.prototype.variablesRequireImplicitSubmit=function(){return this.getQueryManagerBase().variablesRequireImplicitSubmit()};e.AbstractBlendableQueryManager.prototype.variablesRequireImplicitSubmitForValueHelp=function(e){return this.getQueryManagerBase().variablesRequireImplicitSubmitForValueHelp(e)};e.AbstractBlendableQueryManager.prototype.variablesRequireSACImplicitSubmit=function(){return this.getQueryManager().variablesRequireSACImplicitSubmit()};e.QCustomHierarchyDefinitionExt=function(){};e.QCustomHierarchyDefinitionExt.prototype=new e.QCustomHierarchyDefinition;e.QCustomHierarchyDefinitionExt.prototype._ff_c="QCustomHierarchyDefinitionExt";e.QCustomHierarchyDefinitionExt.createExtendedHierarchyDefinition=function(t,n){let r=new e.QCustomHierarchyDefinitionExt;r.setupHierarchyDefinition(null,null,null,null,true);r.copyFrom(t,null);r.m_inaHierarchy=n;return r};e.QCustomHierarchyDefinitionExt.prototype.m_inaHierarchy=null;e.QCustomHierarchyDefinitionExt.prototype.getInaHierarchy=function(){return this.m_inaHierarchy};e.QCustomHierarchyDefinitionExt.prototype.releaseObject=function(){e.QCustomHierarchyDefinition.prototype.releaseObject.call(this);this.m_inaHierarchy=e.XObjectExt.release(this.m_inaHierarchy)};e.QCustomHierarchyDefinitionExt.prototype.setInaHierarchy=function(e){this.m_inaHierarchy=e};e.BlendableQueryManager=function(){};e.BlendableQueryManager.prototype=new e.AbstractBlendableQueryManager;e.BlendableQueryManager.prototype._ff_c="BlendableQueryManager";e.BlendableQueryManager.create=function(t,n){let r=new e.BlendableQueryManager;r.setupModelComponent(t,null);r.setName(e.notNull(n)?n:t.getApplication().createNextInstanceId());r.setupBlendingManager(t);return r};e.BlendableQueryManager.prototype.m_blendedDimensionOrder=null;e.BlendableQueryManager.prototype.m_blendedDrillOperations=null;e.BlendableQueryManager.prototype.m_blendedZoomDrills=null;e.BlendableQueryManager.prototype.m_blendingRestrictionsEnabled=false;e.BlendableQueryManager.prototype.m_blendingZeroSuppressionType=null;e.BlendableQueryManager.prototype.m_expandedChildMembersByDatasetId=null;e.BlendableQueryManager.prototype.m_formulaExceptions=null;e.BlendableQueryManager.prototype.m_includesDisplayKeyInMeasureDimension=false;e.BlendableQueryManager.prototype.m_isAllMembersOrFsicEnabled=null;e.BlendableQueryManager.prototype.m_isFormulaExceptionResultHidden=false;e.BlendableQueryManager.prototype.m_isPreserveAttributeLayout=false;e.BlendableQueryManager.prototype.m_modCounterState=null;e.BlendableQueryManager.prototype.m_primaryBlendedMeasureContainer=null;e.BlendableQueryManager.prototype.m_queryModelLinkSettings=null;e.BlendableQueryManager.prototype.m_rankSettings=null;e.BlendableQueryManager.prototype.m_sortContainer=null;e.BlendableQueryManager.prototype.m_supportsAccountSecondaryMeasureDimensionOnNoneAxis=false;e.BlendableQueryManager.prototype.m_supportsConcurrentDimensionAndMeasureSorting=false;e.BlendableQueryManager.prototype.m_supportsDrillonBlendNodeOnly=false;e.BlendableQueryManager.prototype.m_transientMeasures=null;e.BlendableQueryManager.prototype.addActivePrimaryLinkDimensionName=function(e,t){let n=this.getQueryModelLinkSettings(e);n.addActivePrimaryLinkDimensionName(t)};e.BlendableQueryManager.prototype.addBlendableDimensionSort=function(e,t,n,r,i){return this.m_sortContainer.addBlendableDimensionSort(e,t,n,r,i)};e.BlendableQueryManager.prototype.addBlendedDimensionInfoToAxis=function(t,n,r){this.removeBlendedDimensionInfoInternal(n,r);let i=this.m_blendedDimensionOrder.getByKey(t.getName());let a=this.insertBlendedDimensionInfoToAxisInternal(t,n,r,e.notNull(i)?i.size():0);return a};e.BlendableQueryManager.prototype.addExpandedParentChildMember=function(t,n,r){let i=this.m_expandedChildMembersByDatasetId.getByKey(t);if(e.isNull(i)){i=e.XHashMapByString.create();this.m_expandedChildMembersByDatasetId.put(t,i)}let a=i.getByKey(n);if(e.isNull(a)){a=e.XHashSetOfString.create();i.put(n,a)}a.add(r)};e.BlendableQueryManager.prototype.addFormulaException=function(t){if(e.notNull(t)){this.m_formulaExceptions.add(t);t.addSecondaryParent(this)}};e.BlendableQueryManager.prototype.addNewBlendedDrillOperation=function(t,n){let r=e.BlendedDrillInfo.createBlendedDimensionDrillInfo(this,t,n);this.addOrReplaceExistingBlendedDrillOperation(r,this.m_blendedDrillOperations);return r};e.BlendableQueryManager.prototype.addNewBlendedZoomDrill=function(t,n,r){let i=e.BlendedDrillInfo.createBlendedZoomDrillInfo(this,t,n,r);this.addOrReplaceExistingBlendedDrillOperation(i,this.m_blendedZoomDrills);return i};e.BlendableQueryManager.prototype.addNewQueryModelLinkSettings=function(t,n){let r=e.QueryModelLinkSettings.create(this,t,n);this.m_queryModelLinkSettings.add(r)};e.BlendableQueryManager.prototype.addOrReplaceExistingBlendedDrillOperation=function(t,n){for(let r=n.size()-1;r>=0;r--){let i=n.get(r);if(e.XString.isEqual(i.getDatasetId(),t.getDatasetId())&&e.XString.isEqual(i.getDimensionName(),t.getDimensionName())){let a=i.getBlendedDrillPathElementInfos();let o=a.getIterator();let l=t.getBlendedDrillPathElementInfos();let s=false;if(l.size()===a.size()){s=true;while(o.hasNext()){let t=o.next();if(!e.XCollectionUtils.contains(l,n=>e.XString.isEqual(n.getDrillMember(),t.getDrillMember()))){s=false;break}}}if(s){n.removeAt(r);break}}}n.add(t)};e.BlendableQueryManager.prototype.addPrimaryBlendedMeasure=function(e){this.m_primaryBlendedMeasureContainer.addPrimaryBlendedMeasure(e)};e.BlendableQueryManager.prototype.addQueryManager=function(t){let n=t.getQueryModel();let r=n.getDatasetId();if(e.isNull(r)){throw e.XException.createIllegalArgumentException("The query manager requires a datasetId.")}this.m_queryManagers.put(r,t);n.addSecondaryParent(this);let i=n.getRowsAxis().getIterator();while(i.hasNext()){this.addBlendedDimensionInfoToAxis(e.AxisType.ROWS,r,i.next().getName())}let a=n.getColumnsAxis().getIterator();while(a.hasNext()){this.addBlendedDimensionInfoToAxis(e.AxisType.COLUMNS,r,a.next().getName())}t.getTagging().put(e.QStateConstants.TAG_UNDO_IGNORE,"")};e.BlendableQueryManager.prototype.addRankSettings=function(e){this.m_rankSettings.add(e)};e.BlendableQueryManager.prototype.addSecondaryQueryManager=function(e){this.addQueryManager(e);let t=this.getPrimaryQueryManager().getQueryModel().getDatasetId();let n=e.getQueryModel().getDatasetId();this.addNewQueryModelLinkSettings(t,n)};e.BlendableQueryManager.prototype.addTransientMeasure=function(t){if(e.notNull(t)&&!this.m_transientMeasures.contains(t)&&this.getOlapEnv().getClientQueryObjectManager().getClientQueryObjectByKeyRef(t)!==null){this.m_transientMeasures.add(t);t.addSecondaryParent(this)}};e.BlendableQueryManager.prototype.clearBlendableDimensionSorts=function(){this.m_sortContainer.clearBlendableDimensionSorts()};e.BlendableQueryManager.prototype.clearBlendedDimensionInfosByAxis=function(t){let n=this.m_blendedDimensionOrder.getByKey(t.getName());if(e.notNull(n)&&n.size()>0){n.clear()}};e.BlendableQueryManager.prototype.clearBlendedDrillOperations=function(){if(this.m_blendedDrillOperations.size()>0){this.m_blendedDrillOperations.clear()}};e.BlendableQueryManager.prototype.clearBlendedZoomDrills=function(){if(this.m_blendedZoomDrills.size()>0){this.m_blendedZoomDrills.clear()}};e.BlendableQueryManager.prototype.clearClientInfo=function(){};e.BlendableQueryManager.prototype.clearFormulaExceptions=function(){e.XCollectionUtils.forEach(this.m_formulaExceptions,e=>{e.removeSecondaryParent(this)});this.m_formulaExceptions.clear()};e.BlendableQueryManager.prototype.clearPrimaryBlendableMemberMeasureSort=function(){this.m_sortContainer.clearPrimaryBlendableMemberMeasureSort()};e.BlendableQueryManager.prototype.clearPrimaryBlendedMeasures=function(){this.m_primaryBlendedMeasureContainer.clearPrimaryBlendedMeasures()};e.BlendableQueryManager.prototype.clearQueryModelLinkSettings=function(){e.XCollectionUtils.releaseEntriesFromCollection(this.m_queryModelLinkSettings);this.m_queryModelLinkSettings.clear()};e.BlendableQueryManager.prototype.clearRankSettings=function(){if(this.m_rankSettings.size()>0){e.XCollectionUtils.releaseEntriesFromCollection(this.m_rankSettings);this.m_rankSettings.clear()}};e.BlendableQueryManager.prototype.clearTransientMeasures=function(){e.XCollectionUtils.forEach(this.m_transientMeasures,e=>{e.removeSecondaryParent(this)});this.m_transientMeasures.clear()};e.BlendableQueryManager.prototype.cloneQueryManagerExt=function(t){let n=e.AbstractBlendableQueryManager.prototype.cloneQueryManagerExt.call(this,t);n.copyFrom(this,null);return n};e.BlendableQueryManager.prototype.cloneQueryManagerOptimized=function(t){let n=e.AbstractBlendableQueryManager.prototype.cloneQueryManagerOptimized.call(this,t);n.copyFrom(this,null);return n};e.BlendableQueryManager.prototype.copyFromInternal=function(t,n){let r=t;this.m_primaryBlendedMeasureContainer.copyFrom(r.m_primaryBlendedMeasureContainer,null);this.m_queryModelLinkSettings.clear();let i=r.m_queryModelLinkSettings.getIterator();while(i.hasNext()){let e=i.next();this.m_queryModelLinkSettings.add(e.cloneOlapComponent(this,null))}this.m_sortContainer.copyFrom(r.m_sortContainer,null);this.m_blendedDimensionOrder.clear();let a=r.getBlendedDimensionsByAxis(e.AxisType.ROWS).getIterator();while(a.hasNext()){let t=a.next();let n=this.addBlendedDimensionInfoToAxis(e.AxisType.ROWS,t.getDatasetId(),t.getDimensionName());n.copyFrom(t,null)}let o=r.getBlendedDimensionsByAxis(e.AxisType.COLUMNS).getIterator();while(o.hasNext()){let t=o.next();let n=this.addBlendedDimensionInfoToAxis(e.AxisType.COLUMNS,t.getDatasetId(),t.getDimensionName());n.copyFrom(t,null)}this.m_blendedDrillOperations.clear();let l=r.getBlendedDrillOperations().getIterator();while(l.hasNext()){let e=l.next();let t=this.addNewBlendedDrillOperation(e.getDatasetId(),e.getDimensionName());t.copyFrom(e,null)}this.m_blendedZoomDrills.clear();let s=r.getBlendedZoomDrills().getIterator();while(s.hasNext()){let e=s.next();let t=this.addNewBlendedZoomDrill(e.getDatasetId(),e.getDimensionName(),e.isHideRoots());t.copyFrom(e,null)}this.m_rankSettings.clear();let u=r.getRankSettings().getIterator();while(u.hasNext()){let t=e.QFactory.createRankSettings();t.copyFrom(u.next(),null);this.m_rankSettings.add(t)}this.clearFormulaExceptions();let p=r.m_formulaExceptions.getIterator();while(p.hasNext()){this.addFormulaException(p.next())}this.m_blendingRestrictionsEnabled=r.m_blendingRestrictionsEnabled;this.m_blendingZeroSuppressionType=r.m_blendingZeroSuppressionType.createMapByStringCopy();this.m_expandedChildMembersByDatasetId=r.m_expandedChildMembersByDatasetId.createMapByStringCopy();this.m_isAllMembersOrFsicEnabled=r.m_isAllMembersOrFsicEnabled.createMapByStringCopy();this.m_supportsDrillonBlendNodeOnly=r.m_supportsDrillonBlendNodeOnly;this.m_isFormulaExceptionResultHidden=r.m_isFormulaExceptionResultHidden;this.m_isPreserveAttributeLayout=r.m_isPreserveAttributeLayout;this.m_supportsConcurrentDimensionAndMeasureSorting=r.m_supportsConcurrentDimensionAndMeasureSorting;this.m_includesDisplayKeyInMeasureDimension=r.m_includesDisplayKeyInMeasureDimension;this.m_supportsAccountSecondaryMeasureDimensionOnNoneAxis=r.m_supportsAccountSecondaryMeasureDimensionOnNoneAxis};e.BlendableQueryManager.prototype.doesChildMemberExist=function(t,n){let r=this.m_expandedChildMembersByDatasetId.getByKey(t);if(e.notNull(r)){return e.XCollectionUtils.contains(r.getValuesAsReadOnlyList(),e=>e.contains(n))}return false};e.BlendableQueryManager.prototype.exportPersistedQueriesAndRuntimeQueryManager=function(t,n,r){let i=e.BlendableQMPersistedInAExportAction.create(this);return i.processSyncAction(t,n,r)};e.BlendableQueryManager.prototype.getActivePrimaryLinkDimensionNames=function(t){let n=e.XHashSetOfString.create();n.addAll(this.getActivePrimaryLinkDimensionNamesSettings(t));let r=this.getModelLinks(this.getOlapEnv().getModelLinkManager(),this.m_primaryDatasetId,t);let i=this.getPrimaryQueryManager().getQueryModel();e.XCollectionUtils.forEach(r,t=>{let r=i.getDimensionByName(t.getFirstPart().getDimensionName());if(e.notNull(r)&&(r.getAxisType()===e.AxisType.ROWS||r.getAxisType()===e.AxisType.COLUMNS)){n.add(r.getName())}});return n.getValuesAsReadOnlyList()};e.BlendableQueryManager.prototype.getActivePrimaryLinkDimensionNamesSettings=function(t){let n=e.XHashSetOfString.create();let r=this.m_queryModelLinkSettings.getByKey(t);if(e.notNull(r)){n.addAll(r.getActivePrimaryLinkDimensionNames())}return n.getValuesAsReadOnlyList()};e.BlendableQueryManager.prototype.getAllMembersOrFsicEnabled=function(t){if(e.isNull(t)){return false}return this.m_isAllMembersOrFsicEnabled.getByKey(t)!==null&&this.m_isAllMembersOrFsicEnabled.getByKey(t).getBoolean()};e.BlendableQueryManager.prototype.getAllQueryModelLinkSettings=function(){return this.m_queryModelLinkSettings};e.BlendableQueryManager.prototype.getBlendableDimensionSorts=function(){return this.m_sortContainer.getBlendableDimensionSorts()};e.BlendableQueryManager.prototype.getBlendableMeasureMemberSort=function(){return this.m_sortContainer.getBlendableMeasureMemberSort()};e.BlendableQueryManager.prototype.getBlendedDimensionsByAxis=function(t){let n=this.m_blendedDimensionOrder.getByKey(t.getName());if(e.isNull(n)){n=e.XList.create()}return n};e.BlendableQueryManager.prototype.getBlendedDrillOperations=function(){return this.m_blendedDrillOperations};e.BlendableQueryManager.prototype.getBlendedZoomDrills=function(){return this.m_blendedZoomDrills};e.BlendableQueryManager.prototype.getBlendingProcessConfigs=function(t){let n=this.getOlapEnv().getModelLinkManager();let r=this.getPrimaryQueryManager();let i=r.getQueryModel().getDatasetId();let a=e.XList.create();if(this.m_blendingRestrictionsEnabled&&!e.BlendingUtils.isQueryModelInUseForBlending(r.getQueryModel(),this)){let n=e.XList.create();n.add(r.getQueryModel().getDatasetUIName());let i=e.ErrorMessages.getText(e.ErrorMessages.QUERYMODEL_NOT_IN_USE,n,null,null);t.addError(e.ErrorCodes.QUERYMODEL_NOT_IN_USE,i);return a}let o=this.m_queryModelLinkSettings.getIterator();while(o.hasNext()){let l=o.next();let s=l.getSecondDatasetId();let u=this.getQueryManagerByDatasetId(s);if(e.isNull(u)||!e.BlendingUtils.isQueryModelInUseForBlending(u.getQueryModel(),this)){let n=e.XList.create();n.add(u.getQueryModel().getDatasetUIName());let r=e.ErrorMessages.getText(e.ErrorMessages.QUERYMODEL_NOT_IN_USE,n,null,null);t.addError(e.ErrorCodes.QUERYMODEL_NOT_IN_USE,r);continue}if(r.getConvenienceCommands().isLinkingToQueryManagerUnsupported(u)){t.addError(e.ErrorCodes.BLENDING_INVALID_MODEL_LINK,e.ErrorMessages.BLENDING_INVALID_MODEL_LINK);continue}let p=this.getModelLinks(n,i,s);if(p.size()>0){let n=e.QueryModelLinkSettings.create(this,i,s);n.copyFrom(l,null);let o=e.XList.create();let g=p.getIterator();let c=!this.m_blendingRestrictionsEnabled;let y;let m;while(g.hasNext()){let n=g.next();let r=!this.m_blendingRestrictionsEnabled;if(!r){let i=this.getPrimaryQueryManager().getQueryModel().getDimensionByName(n.getFirstPart().getDimensionName());r=e.notNull(i)&&(e.AxisType.ROWS===i.getAxisType()||e.AxisType.COLUMNS===i.getAxisType());if(r){c=true}let a=this.getQueryManagerByDatasetId(s).getQueryModel().getDimensionByName(n.getSecondPart().getDimensionName());if(e.BlendingMappingUtils.isDimensionInDrill(a)){r=false;y=e.XList.create();y.add(a.getText());m=e.ErrorMessages.getText(e.ErrorMessages.SECONDARY_LINK_DIMENSION_IN_DRILL,y,null,null);t.addError(e.ErrorCodes.SECONDARY_LINK_DIMENSION_IN_DRILL,m)}let o=e.notNull(i)&&i.getQueryModel().getConvenienceCommands().isTypeOfBw()&&e.BlendingMappingUtils.isDateOrTimeLikeLinkDimension(i)&&!e.QTimeDimensionUtil.isFiscalWithFunctionalVariables(i)&&i.isHierarchyActive();if(o){r=false;if(e.BlendingMappingUtils.isDimensionInDrill(i)){t.addError(e.ErrorCodes.BW_DATE_TIME_DIMENSION_ONLY_SUPPORTED_AS_FLAT_LINKED_DIMENSION,e.ErrorMessages.BW_DATE_TIME_DIMENSION_ONLY_SUPPORTED_AS_FLAT_LINKED_DIMENSION)}}}if(r){o.add(n.cloneOlapComponent(this.getContext(),null))}}if(!c){y=e.XList.create();y.add(u.getQueryModel().getDatasetUIName());m=e.ErrorMessages.getText(e.ErrorMessages.LINK_DIMENSION_NOT_IN_DRILL,y,null,null);t.addError(e.ErrorCodes.LINK_DIMENSION_NOT_IN_DRILL,m)}if(o.size()>0){a.add(e.BlendingProcessConfig.create(r,u,o,n))}}else{t.addError(e.ErrorCodes.NO_DIMENSION_LINKS,e.ErrorMessages.NO_DIMENSION_LINKS)}}if(!t.hasErrors()){let n=r.getQueryModel().getPrimaryCalculationDimension();if(n.getAxisType()!==e.AxisType.ROWS&&n.getAxisType()!==e.AxisType.COLUMNS){t.addError(e.ErrorCodes.BLENDING_PRIMARY_CALCULATION_DIMENSION_NOT_IN_DRILL,e.ErrorMessages.BLENDING_PRIMARY_CALCULATION_DIMENSION_NOT_IN_DRILL)}}return a};e.BlendableQueryManager.prototype.getBlendingZeroSuppressionType=function(t){if(e.isNull(this.m_blendingZeroSuppressionType)||e.isNull(t)){return null}return this.m_blendingZeroSuppressionType.getByKey(t.getName())};e.BlendableQueryManager.prototype.getClientComponent=function(){return null};e.BlendableQueryManager.prototype.getClientIdentifier=function(){return null};e.BlendableQueryManager.prototype.getClientInfo=function(){return this.getApplication().getClientInfo()};e.BlendableQueryManager.prototype.getClientVersion=function(){return null};e.BlendableQueryManager.prototype.getExpandedParentsMap=function(e){return this.m_expandedChildMembersByDatasetId.getByKey(e)};e.BlendableQueryManager.prototype.getFormulaExceptions=function(){return this.m_formulaExceptions};e.BlendableQueryManager.prototype.getLanguageLocale=function(){return null};e.BlendableQueryManager.prototype.getLinkType=function(t){let n=null;let r=this.m_queryModelLinkSettings.getByKey(t);if(e.notNull(r)){n=r.getLinkType()}return n};e.BlendableQueryManager.prototype.getModCounterState=function(){if(e.isNull(this.m_modCounterState)){this.m_modCounterState=e.ModCounterState.create(this)}return this.m_modCounterState};e.BlendableQueryManager.prototype.getModelLinks=function(t,n,r){let i=e.XCollectionUtils.filter(t.getDimensionLinksByDatasetIds(this.getClientQueryObjectStorageName(),n,r,true),t=>{let n=t.getFirstPart();let r=t.getSecondPart();let i=n.getDimensionAccessor().getDimensionByName(n.getDimensionName());let a=!e.QTimeDimensionUtil.isFiscalWithFunctionalVariables(i)&&(e.QTimeDimensionUtil.isFlexibleTimeDimension(i)||e.QTimeDimensionUtil.hasFlexibleTimeGroupingDimension(i));let o=r.getDimensionAccessor().getDimensionByName(r.getDimensionName());let l=!e.QTimeDimensionUtil.isFiscalWithFunctionalVariables(o)&&(e.QTimeDimensionUtil.isFlexibleTimeDimension(o)||e.QTimeDimensionUtil.hasFlexibleTimeGroupingDimension(o));return!a&&!l});return i};e.BlendableQueryManager.prototype.getPrimaryBlendableMeasureMemberSort=function(){return this.m_sortContainer.getPrimaryBlendableMeasureMemberSort()};e.BlendableQueryManager.prototype.getPrimaryBlendedMeasureContainer=function(){return this.m_primaryBlendedMeasureContainer};e.BlendableQueryManager.prototype.getPrimaryBlendedMeasures=function(){return this.m_primaryBlendedMeasureContainer.getPrimaryBlendedMeasures()};e.BlendableQueryManager.prototype.getPrimaryBlendedMeasuresFromFilters=function(){return e.BlendingUtils.getPrimaryMeasuresFromFilters(this,true,true,false)};e.BlendableQueryManager.prototype.getQueryModelLinkSettings=function(t){let n=this.m_queryModelLinkSettings.getByKey(t);if(this.getQueryManagerByDatasetId(t)!==null&&e.isNull(n)){n=e.QueryModelLinkSettings.create(this,this.getPrimaryQueryManager().getQueryModel().getDatasetId(),t);this.m_queryModelLinkSettings.add(n)}return n};e.BlendableQueryManager.prototype.getRankSettings=function(){return this.m_rankSettings};e.BlendableQueryManager.prototype.getRuntimeQueryManager=function(t,n,r){let i=e.RuntimeBlendedQueryManagerAction.create(this);return i.processSyncAction(t,n,r)};e.BlendableQueryManager.prototype.getSecondaryModelDatasetIdOrder=function(){let t=e.XList.create();e.XCollectionUtils.forEach(this.m_queryModelLinkSettings,e=>{t.add(e.getSecondDatasetId())});return t};e.BlendableQueryManager.prototype.getSortingContainer=function(){return this.m_sortContainer};e.BlendableQueryManager.prototype.getStoryId=function(){return null};e.BlendableQueryManager.prototype.getStoryName=function(){return null};e.BlendableQueryManager.prototype.getUnlinkedDimensionJoinType=function(t){let n=null;let r=this.m_queryModelLinkSettings.getByKey(t);if(e.notNull(r)){n=r.getUnlinkedDimensionJoinType()}return n};e.BlendableQueryManager.prototype.getWidgetId=function(){return null};e.BlendableQueryManager.prototype.includesDisplayKeyInMeasureDimension=function(){return this.m_includesDisplayKeyInMeasureDimension};e.BlendableQueryManager.prototype.insertBlendedDimensionInfoToAxis=function(e,t,n,r){this.removeBlendedDimensionInfoInternal(t,n);return this.insertBlendedDimensionInfoToAxisInternal(e,t,n,r)};e.BlendableQueryManager.prototype.insertBlendedDimensionInfoToAxisInternal=function(t,n,r,i){let a=null;let o=this.getQueryManagerByDatasetId(n);let l=null;if(e.notNull(o)){let s=o.getQueryModel();a=s.getDimensionByName(r);if(e.notNull(a)){if(o!==this.getPrimaryQueryManager()){if(a===s.getPrimaryCalculationDimension()||s.getSecondaryCalculationDimension()!==null&&s.getSecondaryCalculationDimension()===a){return null}}let u=this.m_blendedDimensionOrder.getByKey(t.getName());if(e.isNull(u)){u=e.QModelComponentList.createModelComponentList(this,this,true,"Blended Dimension Order");this.m_blendedDimensionOrder.put(t.getName(),u)}l=e.BlendedDimensionInfo.createBlendedDimensionInfo(n,r);u.insert(i,l)}}return l};e.BlendableQueryManager.prototype.isAccountSecondaryMeasureDimensionOnNoneAxis=function(){return this.m_supportsAccountSecondaryMeasureDimensionOnNoneAxis&&this.getCapabilitiesBase().supportsCubeBlendingCustomDimension1NoneAxis()&&this.getQueryModel().getAccountDimension()!==null};e.BlendableQueryManager.prototype.isBlended=function(){let e=this.validateBlend();return!e.hasErrors()};e.BlendableQueryManager.prototype.isBlendingRestrictionsEnabled=function(){return this.m_blendingRestrictionsEnabled};e.BlendableQueryManager.prototype.isDefaultOrder=function(){return this.m_sortContainer.isDefaultOrder()};e.BlendableQueryManager.prototype.isFormulaExceptionResultHidden=function(){return this.m_isFormulaExceptionResultHidden};e.BlendableQueryManager.prototype.isPreserveAttributeLayout=function(){return this.m_isPreserveAttributeLayout};e.BlendableQueryManager.prototype.isUsingSavedPromptsForExitVariables=function(){return false};e.BlendableQueryManager.prototype.migrateLegacyBlendedQueryState=function(t){e.BlendingUtils.migrateAxis(this,t,e.AxisType.ROWS);e.BlendingUtils.migrateAxis(this,t,e.AxisType.COLUMNS);e.BlendingUtils.migrateDrillManager(this,t)};e.BlendableQueryManager.prototype.newBlendableQueryManager=function(){return new e.BlendableQueryManager};e.BlendableQueryManager.prototype.notifyChildChanged=function(t){let n=false;for(let r=0;r<t.size();r++){let i=t.get(r);let a=i.getComponentType();if(e.notNull(a)){if(a.isTypeOf(e.OlapComponentType.AXIS)){let t=i;let n=e.XList.create();n.addAll(t.getDimensionNames());let r=t.getQueryModel().getDatasetId();for(let i=0;i<n.size();i++){let a=n.get(i);if(t.getType()===e.AxisType.FREE){this.removeBlendedDimensionInfoExt(r,a)}else{let n=e.XList.create();n.addAll(this.m_blendedDimensionOrder.getByKey(t.getType().getName()));let i=false;for(let t=n.size()-1;t>=0;t--){let o=n.get(t);if(e.XString.isEqual(o.getDatasetId(),r)&&e.XString.isEqual(o.getDimensionName(),a)){i=true;break}}if(!i){this.addBlendedDimensionInfoToAxis(t.getType(),r,a)}}}}else if(a.isTypeOf(e.OlapComponentType.QUERY_MODEL)&&!i.isRaisingEvents()){n=true}}}if(!n){this.getResultsetContainer(true);e.AbstractBlendableQueryManager.prototype.notifyChildChanged.call(this,t)}};e.BlendableQueryManager.prototype.popZoomDrill=function(t,n){for(let r=this.m_blendedZoomDrills.size()-1;r>=0;r--){let i=this.m_blendedZoomDrills.get(r);if(e.XString.isEqual(i.getDatasetId(),t)&&e.XString.isEqual(i.getDimensionName(),n)){let e=this.m_blendedZoomDrills.removeAt(r);return e}}return null};e.BlendableQueryManager.prototype.prepareMergeCandidate=e.noSupport;e.BlendableQueryManager.prototype.reOrderSecondaryModelsByDatasetId=function(t){e.XListUtils.reorderList(this.m_queryModelLinkSettings,t)};e.BlendableQueryManager.prototype.releaseObject=function(){let t=this.getOlapEnv();t.unregisterQueryManager(this);this.m_primaryBlendedMeasureContainer=e.XObjectExt.release(this.m_primaryBlendedMeasureContainer);this.m_queryModelLinkSettings=e.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_queryModelLinkSettings);this.m_blendedDimensionOrder=e.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_blendedDimensionOrder);this.m_rankSettings=e.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_rankSettings);this.m_sortContainer=e.XObjectExt.release(this.m_sortContainer);this.m_blendedDrillOperations=e.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_blendedDrillOperations);this.m_blendedZoomDrills=e.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_blendedZoomDrills);this.m_modCounterState=e.XObjectExt.release(this.m_modCounterState);this.m_formulaExceptions=e.XObjectExt.release(this.m_formulaExceptions);this.m_blendingZeroSuppressionType=e.XObjectExt.release(this.m_blendingZeroSuppressionType);this.m_expandedChildMembersByDatasetId=e.XObjectExt.release(this.m_expandedChildMembersByDatasetId);this.m_transientMeasures=e.XObjectExt.release(this.m_transientMeasures);if(this.m_isAllMembersOrFsicEnabled.size()>0){this.m_isAllMembersOrFsicEnabled=e.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_isAllMembersOrFsicEnabled)}e.AbstractBlendableQueryManager.prototype.releaseObject.call(this)};e.BlendableQueryManager.prototype.removeActivePrimaryLinkDimensionName=function(e,t){let n=this.getQueryModelLinkSettings(e);n.removeActivePrimaryLinkDimensionName(t)};e.BlendableQueryManager.prototype.removeAllActivePrimaryLinkDimensionNames=function(e){let t=this.getQueryModelLinkSettings(e);t.removeAllActivePrimaryLinkDimensionNames()};e.BlendableQueryManager.prototype.removeBlendableDimensionSort=function(e,t){this.m_sortContainer.removeBlendableDimensionSort(e,t)};e.BlendableQueryManager.prototype.removeBlendedCalculationsFromFilters=function(t){let n=e.XList.create();if(this.getSession().hasFeature(e.FeatureToggleOlap.MERGABLE_MEASURE_FILTER)){e.XCollectionUtils.forEach(this.getAllQueryManagers(),r=>{let i=r.getQueryModel().getPrimaryCalculationDimension();let a=e.QFilterUtil.getLinkedFilterOrDynamicFilterForDimension(i);if(e.notNull(a)){for(let r=a.size()-1;r>=0;r--){let o=a.getCartesianElement(r);let l=o.getLow().getString();let s=e.BlendingUtils.getPrimaryStructureMemberByName(i,l,false,false);if(e.notNull(s)){let r=e.BlendingUtils.getFormulaItemDimensionContexts(s);if(e.XStringUtils.isNotNullAndNotEmpty(t)&&e.XCollectionUtils.contains(r,n=>e.XString.isEqual(n.getQueryModel().getDatasetId(),t))||e.XStringUtils.isNullOrEmpty(t)&&r.size()>1){a.removeElement(o);n.add(s)}}}}})}return n};e.BlendableQueryManager.prototype.removeBlendedDimensionInfo=function(t,n){let r=this.m_blendedDimensionOrder.getByKey(t.getName());if(e.notNull(r)){r.removeElement(n)}};e.BlendableQueryManager.prototype.removeBlendedDimensionInfoExt=function(e,t){this.removeBlendedDimensionInfoInternal(e,t)};e.BlendableQueryManager.prototype.removeBlendedDimensionInfoInternal=function(t,n){let r=this.m_blendedDimensionOrder.getValuesAsReadOnlyList();let i=r.getIterator();while(i.hasNext()){let r=i.next();let a=e.XCollectionUtils.findFirst(r,r=>e.XString.isEqual(r.getDimensionName(),n)&&e.XString.isEqual(r.getDatasetId(),t));if(e.notNull(a)){r.removeElement(a);return}}};e.BlendableQueryManager.prototype.removeBlendedDrillOperation=function(e){this.m_blendedDrillOperations.removeElement(e)};e.BlendableQueryManager.prototype.removeFormulaException=function(t){let n=e.XCollectionUtils.getByName(this.m_formulaExceptions,t);if(e.notNull(n)){n.removeSecondaryParent(this)}this.m_formulaExceptions.removeElement(n);return n};e.BlendableQueryManager.prototype.removePrimaryBlendedMeasure=function(e){this.m_primaryBlendedMeasureContainer.removePrimaryBlendedMeasure(e)};e.BlendableQueryManager.prototype.removeRankSettings=function(e){return this.m_rankSettings.removeAt(e)};e.BlendableQueryManager.prototype.removeSecondaryQueryManager=function(t){let n=this.m_queryModelLinkSettings.getByKey(t);if(e.notNull(n)){this.m_queryModelLinkSettings.removeElement(n)}let r=this.m_queryManagers.remove(t);e.XObjectExt.release(r);let i=this.m_blendedDimensionOrder.getKeysAsIterator();while(i.hasNext()){let n=this.m_blendedDimensionOrder.getByKey(i.next());for(let r=n.size()-1;r>=0;r--){if(e.XString.isEqual(n.get(r).getDatasetId(),t)){n.removeAt(r)}}}for(let n=this.m_blendedZoomDrills.size()-1;n>=0;n--){if(e.XString.isEqual(this.m_blendedZoomDrills.get(n).getDatasetId(),t)){this.m_blendedZoomDrills.removeAt(n)}}for(let n=this.m_blendedDrillOperations.size()-1;n>=0;n--){if(e.XString.isEqual(this.m_blendedDrillOperations.get(n).getDatasetId(),t)){this.m_blendedDrillOperations.removeAt(n)}}let a=this.m_sortContainer.getBlendableDimensionSorts();for(let n=a.size()-1;n>=0;n--){if(e.XString.isEqual(a.get(n).getDatasetId(),t)){a.removeAt(n)}}for(let n=this.m_rankSettings.size()-1;n>=0;n--){if(e.XString.isEqual(this.m_rankSettings.get(n).getPrimaryMeasureDatasetId(),t)||e.XString.isEqual(this.m_rankSettings.get(n).getSecondaryMeasureDatasetId(),t)){this.m_rankSettings.removeAt(n)}}let o=e.XList.create();let l=this.m_primaryBlendedMeasureContainer.getPrimaryBlendedMeasures();for(let n=l.size()-1;n>=0;n--){let r=l.get(n);if(e.XCollectionUtils.contains(e.BlendingUtils.getFormulaItemDimensionContexts(r),n=>e.XString.isEqual(n.getQueryModel().getDatasetId(),t))){this.removePrimaryBlendedMeasure(r);o.add(r)}}o.addAll(this.removeBlendedCalculationsFromFilters(t));for(let n=this.m_formulaExceptions.size()-1;n>=0;n--){let r=this.m_formulaExceptions.get(n);if(e.XString.isEqual(r.getQueryModel().getDatasetId(),t)||o.contains(r.getMeasure())){r.removeSecondaryParent(this);this.m_formulaExceptions.removeAt(n)}}};e.BlendableQueryManager.prototype.serializeToContentExt=function(t,n){let r;if(t.isTypeOf(e.QModelFormat.INA_DATA)){throw e.XException.createIllegalArgumentException("BlendableQueryManager cannot be serialized with INA_DATA format. Use BlendableQueryManager.exportPersistedQueriesAndRuntimeQueryManager to get INA_DATA serialization.")}else{r=e.AbstractBlendableQueryManager.prototype.serializeToContentExt.call(this,t,n)}return r};e.BlendableQueryManager.prototype.setAllMembersOrFsicEnabled=function(t,n){if(e.notNull(t)&&this.m_isAllMembersOrFsicEnabled.getByKey(t)!==e.XBooleanValue.create(n)){this.m_isAllMembersOrFsicEnabled.put(t,e.XBooleanValue.create(n));this.notifyNodeChanged()}};e.BlendableQueryManager.prototype.setBlendableMeasureMemberSort=function(e){this.m_sortContainer.setBlendableMeasureMemberSort(e)};e.BlendableQueryManager.prototype.setBlendedDimensionInfosByAxis=function(t,n){let r=e.QModelComponentList.createModelComponentList(this,this,true,"Blended Dimension Order");r.addAll(n);this.m_blendedDimensionOrder.put(t.getName(),r)};e.BlendableQueryManager.prototype.setBlendingRestrictionsEnabled=function(e){this.m_blendingRestrictionsEnabled=e};e.BlendableQueryManager.prototype.setBlendingZeroSuppressionType=function(t,n){if(e.notNull(this.m_blendingZeroSuppressionType)&&e.notNull(t)){if(this.m_blendingZeroSuppressionType.getByKey(t.getName())!==n){this.m_blendingZeroSuppressionType.put(t.getName(),n);this.notifyNodeChanged()}}};e.BlendableQueryManager.prototype.setClientInfo=function(e,t,n){};e.BlendableQueryManager.prototype.setFormulaExceptionResultHidden=function(e){if(this.m_isFormulaExceptionResultHidden!==e){this.m_isFormulaExceptionResultHidden=e;this.notifyNodeChanged()}};e.BlendableQueryManager.prototype.setIncludesDisplayKeyInMeasureDimension=function(e){this.m_includesDisplayKeyInMeasureDimension=e};e.BlendableQueryManager.prototype.setIsDefaultOrder=function(e){this.m_sortContainer.setIsDefaultOrder(e)};e.BlendableQueryManager.prototype.setLanguageLocale=function(e){};e.BlendableQueryManager.prototype.setLinkType=function(e,t){let n=this.getQueryModelLinkSettings(e);n.setLinkType(t)};e.BlendableQueryManager.prototype.setName=function(t){e.XStringUtils.checkStringNotEmpty(t,"Name of query manager must be a valid string");let n=this.getOlapEnv();if(!e.XString.isEqual(t,this.getName())){if(n.containsQueryManagerWithName(t)){throw e.XException.createIllegalArgumentException(e.XStringUtils.concatenate2("Olap Environment already contains Query Manager with name:",t))}n.unregisterQueryManager(this);e.AbstractBlendableQueryManager.prototype.setName.call(this,t);n.registerQueryManager(this)}};e.BlendableQueryManager.prototype.setPreserveAttributeLayout=function(e){this.m_isPreserveAttributeLayout=e};e.BlendableQueryManager.prototype.setPrimaryBlendableMeasureMemberSort=function(e,t,n){this.m_sortContainer.setPrimaryBlendableMeasureMemberSort(e,t,n)};e.BlendableQueryManager.prototype.setPrimaryQueryManager=function(e){this.m_primaryDatasetId=e.getQueryModel().getDatasetId();this.updateModCounter(e.getQueryModel().getModCounter());this.addQueryManager(e)};e.BlendableQueryManager.prototype.setSkipFilterValidationByDatasetId=function(t,n){if(!e.XString.isEqual(n,this.m_primaryDatasetId)){let r=this.m_queryModelLinkSettings.getByKey(n);if(e.notNull(r)){r.setSkipFilterValidation(t)}}};e.BlendableQueryManager.prototype.setStoryId=function(e){};e.BlendableQueryManager.prototype.setStoryName=function(e){};e.BlendableQueryManager.prototype.setSupportsAccountSecondaryMeasureDimensionOnNoneAxis=function(e){this.m_supportsAccountSecondaryMeasureDimensionOnNoneAxis=e};e.BlendableQueryManager.prototype.setSupportsConcurrentDimensionAndMeasureSorting=function(e){this.m_supportsConcurrentDimensionAndMeasureSorting=e};e.BlendableQueryManager.prototype.setSupportsDrillOnBlendNodeOnly=function(e){this.m_supportsDrillonBlendNodeOnly=e};e.BlendableQueryManager.prototype.setUnlinkedDimensionJoinType=function(e,t){let n=this.getQueryModelLinkSettings(e);n.setUnlinkedDimensionJoinType(t)};e.BlendableQueryManager.prototype.setUseSavedPromptsForExitVariables=function(e){};e.BlendableQueryManager.prototype.setWidgetId=function(e){};e.BlendableQueryManager.prototype.setupBlendingManager=function(t){e.AbstractBlendableQueryManager.prototype.setupBlendingManager.call(this,t);this.m_primaryBlendedMeasureContainer=e.QBlendedMeasureContainer.create(this);this.m_queryModelLinkSettings=e.QModelComponentList.createModelComponentList(t,this,true,"Query Model Link Settings");this.m_blendedDimensionOrder=e.XHashMapByString.create();this.m_blendedDrillOperations=e.QModelComponentList.createModelComponentList(t,this,true,"Blendable Drill Operation");this.m_blendedZoomDrills=e.QModelComponentList.createModelComponentList(t,this,true,"Blendable Zoom Drills");this.m_isAllMembersOrFsicEnabled=e.XHashMapByString.create();this.m_rankSettings=e.QModelComponentList.createModelComponentList(t,this,true,"Rank Settings");this.m_sortContainer=e.QBlendingSortContainer.create(this);this.m_formulaExceptions=e.QModelComponentList.createModelComponentWithNameList(t,this,false,"Thresholds",true);this.m_blendingRestrictionsEnabled=false;this.m_blendingZeroSuppressionType=e.XHashMapByString.create();this.m_expandedChildMembersByDatasetId=e.XHashMapByString.create();this.m_transientMeasures=e.XList.create();this.m_supportsDrillonBlendNodeOnly=false;this.m_isFormulaExceptionResultHidden=false;this.m_isPreserveAttributeLayout=false;this.m_supportsConcurrentDimensionAndMeasureSorting=false;this.m_includesDisplayKeyInMeasureDimension=false;this.m_supportsAccountSecondaryMeasureDimensionOnNoneAxis=false};e.BlendableQueryManager.prototype.skipFilterValidationByDatasetId=function(t){if(!e.XString.isEqual(t,this.m_primaryDatasetId)){let n=this.m_queryModelLinkSettings.getByKey(t);if(e.notNull(n)){return n.skipFilterValidation()}}return false};e.BlendableQueryManager.prototype.supportsAccountSecondaryMeasureDimensionOnNoneAxis=function(){return this.m_supportsAccountSecondaryMeasureDimensionOnNoneAxis};e.BlendableQueryManager.prototype.supportsBatchBlendingRsStreamingExt=function(){if(this.isBlended()){return this.supportsBatchBlendingRsStreaming()}return this.supportsBatchRsStreaming()};e.BlendableQueryManager.prototype.supportsConcurrentDimensionAndMeasureSorting=function(){return this.m_supportsConcurrentDimensionAndMeasureSorting};e.BlendableQueryManager.prototype.supportsDrillOnBlendNodeOnly=function(){return this.m_supportsDrillonBlendNodeOnly};e.BlendableQueryManager.prototype.unblend=function(){if(this.supportsAccountSecondaryMeasureDimensionOnNoneAxis()){let t=this.getQueryModel().getSecondaryCalculationDimension();if(e.notNull(t)&&(t.getAxisType()===e.AxisType.ROWS||t.getAxisType()===e.AxisType.COLUMNS)){this.getQueryModel().getFreeAxis().add(t)}}this.removeBlendedCalculationsFromFilters(null);let t=this.m_queryManagers.remove(this.m_primaryDatasetId);t.getQueryModel().setModCounter(this.getModCounter()+1);t.invalidateState();let n=this.getName();let r=this.getBlendingZeroSuppressionType(e.AxisType.ROWS);let i=this.getBlendingZeroSuppressionType(e.AxisType.COLUMNS);this.releaseObject();t.setName(n);if(e.notNull(r)){t.getQueryModel().getRowsAxis().setZeroSuppressionType(r)}if(e.notNull(i)){t.getQueryModel().getColumnsAxis().setZeroSuppressionType(i)}t.getTagging().remove(e.QStateConstants.TAG_UNDO_IGNORE);return t};e.BlendableQueryManager.prototype.validateBlend=function(){let t=e.MessageManager.createMessageManagerExt(this.getSession());this.getBlendingProcessConfigs(t);return t};e.OlapImplModule=function(){};e.OlapImplModule.prototype=new e.DfModule;e.OlapImplModule.prototype._ff_c="OlapImplModule";e.OlapImplModule.s_module=null;e.OlapImplModule.getInstance=function(){if(e.isNull(e.OlapImplModule.s_module)){e.DfModule.checkInitialized(e.ProtocolModule.getInstance());e.DfModule.checkInitialized(e.OlapApiModule.getInstance());e.DfModule.checkInitialized(e.OlapApiBaseModule.getInstance());e.DfModule.checkInitialized(e.ResultsetModule.getInstance());e.DfModule.checkInitialized(e.OlapModelModule.getInstance());e.OlapImplModule.s_module=e.DfModule.startExt(new e.OlapImplModule);let t=e.RegistrationService.getInstance();e.QInAConverter.staticSetup();e.QDeltaOperationPhase.staticSetup();e.QDeltaBroadcastPhase.staticSetup();e.QDeltaChangeState.staticSetup();e.QInAImportFactory.staticSetup();e.QInAExportFactory.staticSetup();e.QTechnicalVariableNames.staticSetup();e.InACapabilitiesProvider.staticSetup();e.QFactory.setInstance(e.QFactoryImpl.create());e.HierarchyCatalogServiceConfig.staticSetup();t.addServiceConfig(e.OlapApiModule.XS_HIERARCHY_CATALOG,e.HierarchyCatalogServiceConfig.CLAZZ);e.HierarchyCatalogService.staticSetup();t.addService(e.OlapApiModule.XS_HIERARCHY_CATALOG,e.HierarchyCatalogService.CLAZZ);e.OlapEnvironmentFactoryImpl.staticSetupImpl();e.PlanningFactory.setInstance(new e.PlanningManagerFactoryDummyImpl);e.CommandSpaceFactory.setInstance(new e.CommandSpaceFactoryImpl);e.CommentingFactory.setInstance(e.CommentingFactoryImpl.create());e.DfModule.stopExt(e.OlapImplModule.s_module)}return e.OlapImplModule.s_module};e.OlapImplModule.prototype.getName=function(){return"ff4310.olap.impl"};e.OlapImplModule.getInstance();return e});
//# sourceMappingURL=ff4310.olap.impl.js.map