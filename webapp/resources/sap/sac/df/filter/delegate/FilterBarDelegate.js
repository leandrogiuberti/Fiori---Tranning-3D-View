/*
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.define("sap/sac/df/filter/delegate/FilterBarDelegate",["sap/ui/core/Element","sap/ui/mdc/FilterBarDelegate","sap/sac/df/filter/TypeMap","sap/ui/model/Filter","sap/sac/df/model/MemberFilter","sap/sac/df/thirdparty/lodash"],function(e,t,a,r,i,l){"use strict";var p=Object.assign({},t);p.apiVersion=2;p.fetchProperties=function(e){return Promise.resolve().then(()=>{var t=[];l.forEach(e._getMetaObject(),function(a){if(e&&a.Name){t.push(p.getProperty(e,a.Name))}});return t})};p.getProperty=function(e,t){let r={};if(e._getMetaObject()&&e._getMetaObject()[t]){let l=e._getMetaObject()[t];var i=l.MergedVariable?l.MergedVariable:l;const n=e._getFilterField(i.Name);let s=a.getFormatOptions(i.ValueType);let u="String";let o=i.ValueType.includes("Date");let g=i.SupportsValueHelp;if(n){o=n&&n._isDate();u=o&&i.SupportsMultipleValues?"String":n&&n._getValueType();g=n._supportsValueHelp()}r={name:i.Name,key:i.Name,label:i.Description,propertyKey:i.Name,typeConfig:p.getTypeMap().getTypeConfig(u,s?s:null,null),dataType:p.getTypeMap().getDataTypeClassName(u),maxConditions:g?-1:1,group:l.Group?l.Group:"_basicSearch",groupLabel:e.getModel("i18n").getResourceBundle().getText(l.Group?l.Group:""),required:i.Mandatory,hasValueHelp:g,caseSensitive:false}}return r};p.addItem=function(t,a){return Promise.resolve().then(function(){var r=e.getElementById(t.getFilterFieldId(a));if(!r){r=t.createFilterField(a);r.setParent(t);r.setModel(t._getMultiDimModel(),t._getMultiDimModelName());r._setupFilterFieldFromMetaPath()}return r})};p.getTypeMap=function(){return a};return p});
//# sourceMappingURL=FilterBarDelegate.js.map