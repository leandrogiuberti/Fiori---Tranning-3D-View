/*
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.define("sap/sac/df/changeHandler/_ModelChangeHandler",["sap/ui/mdc/Control","sap/ui/fl/write/api/ControlPersonalizationWriteAPI","sap/ui/core/CustomData"],function(e,a,n){"use strict";var t=e.extend("sap.sac.df.changeHandler._ModelChangeHandler",{renderer:"sap.ui.core.Renderer",metadata:{events:{applyModelChange:{parameters:{oChange:{type:"sap.ui.fl.write.api.ControlPersonalizationWriteAPI.PersonalizationChange"}}},revertModelChange:{parameters:{oChange:{type:"sap.ui.fl.write.api.ControlPersonalizationWriteAPI.PersonalizationChange"}}}},publicMethods:["createModelChange"]},init:function(){e.prototype.init.apply(this,arguments);this.skipApplyModelChange=false;var a=new n({key:"sap-ui-custom-settings",value:{"sap.ui.fl":{flexibility:"sap/sac/df/changeHandler/flexibility/_ModelChangeHandler.flexibility"}}});this.addCustomData(a)},skipApplyModelChangeOnce:function(){this.skipApplyModelChange=true},applyModelChange:function(e){if(!this.skipApplyModelChange){return this.fireApplyModelChange({change:e})}this.skipApplyModelChange=false},revertModelChange:function(e){return this.fireRevertModelChange({change:e})},createModelChange:function(e){return this._createModelChange(e)},_createModelChange:function(e){var n=this;this.skipApplyModelChange=true;var t={selectorElement:this,changeSpecificData:{changeType:"ModelChange",content:e,transient:false}};return Promise.resolve(a.add({selector:this,changes:[t]})).then(function(){n.skipApplyModelChange=false})}});return t});
//# sourceMappingURL=_ModelChangeHandler.js.map