{"version":3,"file":"SearchFacetDialogHelperDynamicHierarchy-dbg.js","names":["sap","ui","define","__FacetItem","_interopRequireDefault","obj","__esModule","default","FacetItem","updateDetailPageforDynamicHierarchy","model","dynamicHierarchyFacet","filters","handleSetFilter","node","set","filterCondition","facet","getData","facetItem","createFilterFacetItemForDynamicHierarchy","addFilter","removeFilter","facetFilter","sina","createFilter","dataSource","getDataSource","staticHierarchyFilterConditions","getStaticHierarchyFilterConditions","length","nonFilterByCondition","autoInsertCondition","filter","setFilter","setHandleSetFilter","treeNodeFactory","updateRecursively","updateNodesFromHierarchyNodePaths","getProperty","mixinFilterNodes","updateUI","condition","selected","level","value","valueLabel","label","title","facetTitle","facetAttribute","attributeId","advanced","listed","icon","visible","__exports"],"sources":["SearchFacetDialogHelperDynamicHierarchy.ts"],"sourcesContent":["/*!\n * SAPUI5\n * Copyright (c) 2025 SAP SE or an SAP affiliate company. All rights reserved.\n * \n */\nimport FacetItem from \"./FacetItem\";\nimport SearchHierarchyDynamicFacet from \"./hierarchydynamic/SearchHierarchyDynamicFacet\";\nimport SearchHierarchyDynamicTreeNode from \"./hierarchydynamic/SearchHierarchyDynamicTreeNode\";\nimport SearchFacetDialogModel from \"./SearchFacetDialogModel\";\nimport { SimpleCondition } from \"./sinaNexTS/sina/SimpleCondition\";\n\nexport async function updateDetailPageforDynamicHierarchy(\n    model: SearchFacetDialogModel,\n    dynamicHierarchyFacet: SearchHierarchyDynamicFacet,\n    filters: Array<any>\n) {\n    function handleSetFilter(\n        node: SearchHierarchyDynamicTreeNode,\n        set: boolean,\n        filterCondition: SimpleCondition\n    ) {\n        const facet = node.getData().facet as SearchHierarchyDynamicFacet;\n        const facetItem = createFilterFacetItemForDynamicHierarchy(facet, filterCondition);\n        if (set) {\n            model.addFilter(facetItem);\n        } else {\n            model.removeFilter(facetItem);\n        }\n    }\n\n    const facetFilter = dynamicHierarchyFacet.sina.createFilter({ dataSource: model.getDataSource() });\n    // firstly add static hierachy facets\n    const staticHierarchyFilterConditions = model.getStaticHierarchyFilterConditions();\n    if (staticHierarchyFilterConditions.length > 0) {\n        for (const nonFilterByCondition of staticHierarchyFilterConditions) {\n            facetFilter.autoInsertCondition(nonFilterByCondition);\n        }\n    }\n    for (const filter of filters) {\n        facetFilter.autoInsertCondition(filter.filterCondition);\n    }\n    dynamicHierarchyFacet.setFilter(facetFilter);\n    dynamicHierarchyFacet.setHandleSetFilter(handleSetFilter);\n    await dynamicHierarchyFacet.treeNodeFactory.updateRecursively();\n    dynamicHierarchyFacet.updateNodesFromHierarchyNodePaths(model.getProperty(\"/hierarchyNodePaths\"));\n    dynamicHierarchyFacet.mixinFilterNodes();\n    dynamicHierarchyFacet.treeNodeFactory.updateUI();\n}\n\nexport function createFilterFacetItemForDynamicHierarchy(\n    facet: SearchHierarchyDynamicFacet,\n    condition: SimpleCondition\n): FacetItem {\n    return new FacetItem({\n        selected: false,\n        level: 0,\n        filterCondition: condition,\n        value: condition.value as string,\n        valueLabel: condition.valueLabel,\n        label: facet.title,\n        facetTitle: facet.title,\n        facetAttribute: facet.attributeId,\n        advanced: true,\n        listed: true,\n        icon: null,\n        visible: true,\n    });\n}\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AAJAA,GAAA,CAAAC,EAAA,CAAAC,MAAA,4BAAAC,WAAA;EAAA;;EAAA,SAAAC,uBAAAC,GAAA;IAAA,OAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,WAAAD,GAAA,CAAAE,OAAA,mBAAAF,GAAA,CAAAE,OAAA,GAAAF,GAAA;EAAA;EAAA,MAKOG,SAAS,GAAAJ,sBAAA,CAAAD,WAAA;EAMT,eAAeM,mCAAmCA,CACrDC,KAA6B,EAC7BC,qBAAkD,EAClDC,OAAmB,EACrB;IACE,SAASC,eAAeA,CACpBC,IAAoC,EACpCC,GAAY,EACZC,eAAgC,EAClC;MACE,MAAMC,KAAK,GAAGH,IAAI,CAACI,OAAO,CAAC,CAAC,CAACD,KAAoC;MACjE,MAAME,SAAS,GAAGC,wCAAwC,CAACH,KAAK,EAAED,eAAe,CAAC;MAClF,IAAID,GAAG,EAAE;QACLL,KAAK,CAACW,SAAS,CAACF,SAAS,CAAC;MAC9B,CAAC,MAAM;QACHT,KAAK,CAACY,YAAY,CAACH,SAAS,CAAC;MACjC;IACJ;IAEA,MAAMI,WAAW,GAAGZ,qBAAqB,CAACa,IAAI,CAACC,YAAY,CAAC;MAAEC,UAAU,EAAEhB,KAAK,CAACiB,aAAa,CAAC;IAAE,CAAC,CAAC;IAClG;IACA,MAAMC,+BAA+B,GAAGlB,KAAK,CAACmB,kCAAkC,CAAC,CAAC;IAClF,IAAID,+BAA+B,CAACE,MAAM,GAAG,CAAC,EAAE;MAC5C,KAAK,MAAMC,oBAAoB,IAAIH,+BAA+B,EAAE;QAChEL,WAAW,CAACS,mBAAmB,CAACD,oBAAoB,CAAC;MACzD;IACJ;IACA,KAAK,MAAME,MAAM,IAAIrB,OAAO,EAAE;MAC1BW,WAAW,CAACS,mBAAmB,CAACC,MAAM,CAACjB,eAAe,CAAC;IAC3D;IACAL,qBAAqB,CAACuB,SAAS,CAACX,WAAW,CAAC;IAC5CZ,qBAAqB,CAACwB,kBAAkB,CAACtB,eAAe,CAAC;IACzD,MAAMF,qBAAqB,CAACyB,eAAe,CAACC,iBAAiB,CAAC,CAAC;IAC/D1B,qBAAqB,CAAC2B,iCAAiC,CAAC5B,KAAK,CAAC6B,WAAW,CAAC,qBAAqB,CAAC,CAAC;IACjG5B,qBAAqB,CAAC6B,gBAAgB,CAAC,CAAC;IACxC7B,qBAAqB,CAACyB,eAAe,CAACK,QAAQ,CAAC,CAAC;EACpD;EAEO,SAASrB,wCAAwCA,CACpDH,KAAkC,EAClCyB,SAA0B,EACjB;IACT,OAAO,IAAIlC,SAAS,CAAC;MACjBmC,QAAQ,EAAE,KAAK;MACfC,KAAK,EAAE,CAAC;MACR5B,eAAe,EAAE0B,SAAS;MAC1BG,KAAK,EAAEH,SAAS,CAACG,KAAe;MAChCC,UAAU,EAAEJ,SAAS,CAACI,UAAU;MAChCC,KAAK,EAAE9B,KAAK,CAAC+B,KAAK;MAClBC,UAAU,EAAEhC,KAAK,CAAC+B,KAAK;MACvBE,cAAc,EAAEjC,KAAK,CAACkC,WAAW;MACjCC,QAAQ,EAAE,IAAI;MACdC,MAAM,EAAE,IAAI;MACZC,IAAI,EAAE,IAAI;MACVC,OAAO,EAAE;IACb,CAAC,CAAC;EACN;EAAC,IAAAC,SAAA;IAAAlD,UAAA;EAAA;EAAAkD,SAAA,CAAA/C,mCAAA,GAAAA,mCAAA;EAAA+C,SAAA,CAAApC,wCAAA,GAAAA,wCAAA;EAAA,OAAAoC,SAAA;AAAA","ignoreList":[]}