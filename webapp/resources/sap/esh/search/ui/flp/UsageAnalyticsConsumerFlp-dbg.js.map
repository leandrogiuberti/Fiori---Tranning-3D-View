{"version":3,"file":"UsageAnalyticsConsumerFlp-dbg.js","names":["sap","ui","define","___eventlogging_UserEvents","__EventConsumer","__SuggestionType","Log","Container","___eventlogging_TechnicalEvents","_interopRequireDefault","obj","__esModule","default","UserEventType","EventConsumer","SuggestionType","TechnicalEventType","UsageAnalyticsConsumerFlp","log","getLogger","analytics","actionPrefix","label","initAsync","getServiceAsync","logEvent","event","type","RESULT_LIST_ITEM_NAVIGATE","logCustomEvent","targetUrl","RESULT_LIST_ITEM_ATTRIBUTE_NAVIGATE","SUGGESTION_SELECT","suggestionType","App","suggestionTitle","searchTerm","DataSource","dataSourceKey","Object","suggestionTerm","Search","SEARCH_REQUEST","RESULT_LIST_ITEM_NAVIGATE_CONTEXT","SUGGESTION_REQUEST","TILE_NAVIGATE","tileTitle","debug","logTechnicalEvent"],"sources":["UsageAnalyticsConsumerFlp.ts"],"sourcesContent":["/*!\n * SAPUI5\n * Copyright (c) 2025 SAP SE or an SAP affiliate company. All rights reserved.\n * \n */\nimport { AllUserEvents, UserEventType } from \"../eventlogging/UserEvents\";\nimport EventConsumer from \"../eventlogging/EventConsumer\";\nimport SuggestionType from \"../suggestions/SuggestionType\";\nimport Log from \"sap/base/Log\";\nimport Container from \"sap/ushell/Container\";\nimport { AllTechnicalEvents, TechnicalEventType } from \"../eventlogging/TechnicalEvents\";\n\n/**\n * Usage Analytics Event Consumer for Fiori Launchpad\n */\nexport default class UsageAnalyticsConsumerFlp extends EventConsumer {\n    private log = Log.getLogger(\"sap.esh.search.ui.eventlogging.UsageAnalyticsConsumerFlp\");\n    private analytics: {\n        logCustomEvent: (what: string, where: string, eventDetails: Array<string>) => void;\n    };\n    private readonly actionPrefix = \"FLP: \";\n    public readonly label = \"FLP\";\n\n    public async initAsync(): Promise<void> {\n        if (Container) {\n            this.analytics = await Container.getServiceAsync(\"UsageAnalytics\");\n        }\n    }\n\n    public logEvent(event: AllUserEvents | AllTechnicalEvents): void {\n        if (!this.analytics) {\n            return;\n        }\n        switch (event.type) {\n            case UserEventType.RESULT_LIST_ITEM_NAVIGATE:\n                this.analytics.logCustomEvent(`${this.actionPrefix}Search`, \"Launch Object\", [\n                    event.targetUrl,\n                ]);\n                break;\n            case UserEventType.RESULT_LIST_ITEM_ATTRIBUTE_NAVIGATE:\n                this.analytics.logCustomEvent(`${this.actionPrefix}Search`, \"Launch Object\", [\n                    event.targetUrl,\n                ]);\n                break;\n            case UserEventType.SUGGESTION_SELECT:\n                switch (event.suggestionType) {\n                    case SuggestionType.App:\n                        this.analytics.logCustomEvent(`${this.actionPrefix}Search`, \"Suggestion Select App\", [\n                            event.suggestionTitle,\n                            event.targetUrl,\n                            event.searchTerm,\n                        ]);\n                        this.analytics.logCustomEvent(\n                            `${this.actionPrefix}Application Launch point`,\n                            \"Search Suggestions\",\n                            [event.suggestionTitle, event.targetUrl, event.searchTerm]\n                        );\n                        break;\n                    case SuggestionType.DataSource:\n                        this.analytics.logCustomEvent(\n                            `${this.actionPrefix}Search`,\n                            \"Suggestion Select Datasource\",\n                            [event.dataSourceKey, event.searchTerm]\n                        );\n                        break;\n                    case SuggestionType.Object:\n                        this.analytics.logCustomEvent(\n                            `${this.actionPrefix}Search`,\n                            \"Suggestion Select Object Data\",\n                            [event.suggestionTerm, event.dataSourceKey, event.searchTerm]\n                        );\n                        break;\n                    case SuggestionType.Search:\n                        this.analytics.logCustomEvent(\n                            `${this.actionPrefix}Search`,\n                            \"Suggestion Select Search\",\n                            [event.suggestionTitle]\n                        );\n                        break;\n                }\n                break;\n            case TechnicalEventType.SEARCH_REQUEST:\n                this.analytics.logCustomEvent(`${this.actionPrefix}Search`, \"Search\", [\n                    event.searchTerm,\n                    event.dataSourceKey,\n                ]);\n                break;\n            case UserEventType.RESULT_LIST_ITEM_NAVIGATE_CONTEXT:\n                this.analytics.logCustomEvent(`${this.actionPrefix}Search`, \"Launch Related Object\", [\n                    event.targetUrl,\n                ]);\n                break;\n            case UserEventType.SUGGESTION_REQUEST:\n                this.analytics.logCustomEvent(`${this.actionPrefix}Search`, \"Suggestion\", [\n                    event.suggestionTerm,\n                    event.dataSourceKey,\n                ]);\n                break;\n            case UserEventType.TILE_NAVIGATE:\n                this.analytics.logCustomEvent(`${this.actionPrefix}Search`, \"Launch App\", [\n                    event.tileTitle,\n                    event.targetUrl,\n                ]);\n                this.analytics.logCustomEvent(\n                    `${this.actionPrefix}Application Launch point`,\n                    \"Search Results\",\n                    [event.tileTitle, event.targetUrl]\n                );\n                break;\n        }\n\n        this.log.debug(`[${this.label}] Logged user event ${event.type}`);\n    }\n\n    public logTechnicalEvent(event: AllTechnicalEvents): void {\n        this.logEvent(event);\n    }\n}\n"],"mappings":"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","ignoreList":[]}