{"version":3,"file":"UsageAnalyticsConsumerFlp.js","names":["sap","ui","define","___eventlogging_UserEvents","__EventConsumer","__SuggestionType","Log","Container","___eventlogging_TechnicalEvents","_interopRequireDefault","obj","__esModule","default","UserEventType","EventConsumer","SuggestionType","TechnicalEventType","UsageAnalyticsConsumerFlp","log","getLogger","analytics","actionPrefix","label","initAsync","this","getServiceAsync","logEvent","event","type","RESULT_LIST_ITEM_NAVIGATE","logCustomEvent","targetUrl","RESULT_LIST_ITEM_ATTRIBUTE_NAVIGATE","SUGGESTION_SELECT","suggestionType","App","suggestionTitle","searchTerm","DataSource","dataSourceKey","Object","suggestionTerm","Search","SEARCH_REQUEST","RESULT_LIST_ITEM_NAVIGATE_CONTEXT","SUGGESTION_REQUEST","TILE_NAVIGATE","tileTitle","debug","logTechnicalEvent"],"sources":["UsageAnalyticsConsumerFlp.ts"],"sourcesContent":["/*!\n * SAPUI5\n * Copyright (c) 2025 SAP SE or an SAP affiliate company. All rights reserved.\n * \n */\nimport { AllUserEvents, UserEventType } from \"../eventlogging/UserEvents\";\nimport EventConsumer from \"../eventlogging/EventConsumer\";\nimport SuggestionType from \"../suggestions/SuggestionType\";\nimport Log from \"sap/base/Log\";\nimport Container from \"sap/ushell/Container\";\nimport { AllTechnicalEvents, TechnicalEventType } from \"../eventlogging/TechnicalEvents\";\n\n/**\n * Usage Analytics Event Consumer for Fiori Launchpad\n */\nexport default class UsageAnalyticsConsumerFlp extends EventConsumer {\n    private log = Log.getLogger(\"sap.esh.search.ui.eventlogging.UsageAnalyticsConsumerFlp\");\n    private analytics: {\n        logCustomEvent: (what: string, where: string, eventDetails: Array<string>) => void;\n    };\n    private readonly actionPrefix = \"FLP: \";\n    public readonly label = \"FLP\";\n\n    public async initAsync(): Promise<void> {\n        if (Container) {\n            this.analytics = await Container.getServiceAsync(\"UsageAnalytics\");\n        }\n    }\n\n    public logEvent(event: AllUserEvents | AllTechnicalEvents): void {\n        if (!this.analytics) {\n            return;\n        }\n        switch (event.type) {\n            case UserEventType.RESULT_LIST_ITEM_NAVIGATE:\n                this.analytics.logCustomEvent(`${this.actionPrefix}Search`, \"Launch Object\", [\n                    event.targetUrl,\n                ]);\n                break;\n            case UserEventType.RESULT_LIST_ITEM_ATTRIBUTE_NAVIGATE:\n                this.analytics.logCustomEvent(`${this.actionPrefix}Search`, \"Launch Object\", [\n                    event.targetUrl,\n                ]);\n                break;\n            case UserEventType.SUGGESTION_SELECT:\n                switch (event.suggestionType) {\n                    case SuggestionType.App:\n                        this.analytics.logCustomEvent(`${this.actionPrefix}Search`, \"Suggestion Select App\", [\n                            event.suggestionTitle,\n                            event.targetUrl,\n                            event.searchTerm,\n                        ]);\n                        this.analytics.logCustomEvent(\n                            `${this.actionPrefix}Application Launch point`,\n                            \"Search Suggestions\",\n                            [event.suggestionTitle, event.targetUrl, event.searchTerm]\n                        );\n                        break;\n                    case SuggestionType.DataSource:\n                        this.analytics.logCustomEvent(\n                            `${this.actionPrefix}Search`,\n                            \"Suggestion Select Datasource\",\n                            [event.dataSourceKey, event.searchTerm]\n                        );\n                        break;\n                    case SuggestionType.Object:\n                        this.analytics.logCustomEvent(\n                            `${this.actionPrefix}Search`,\n                            \"Suggestion Select Object Data\",\n                            [event.suggestionTerm, event.dataSourceKey, event.searchTerm]\n                        );\n                        break;\n                    case SuggestionType.Search:\n                        this.analytics.logCustomEvent(\n                            `${this.actionPrefix}Search`,\n                            \"Suggestion Select Search\",\n                            [event.suggestionTitle]\n                        );\n                        break;\n                }\n                break;\n            case TechnicalEventType.SEARCH_REQUEST:\n                this.analytics.logCustomEvent(`${this.actionPrefix}Search`, \"Search\", [\n                    event.searchTerm,\n                    event.dataSourceKey,\n                ]);\n                break;\n            case UserEventType.RESULT_LIST_ITEM_NAVIGATE_CONTEXT:\n                this.analytics.logCustomEvent(`${this.actionPrefix}Search`, \"Launch Related Object\", [\n                    event.targetUrl,\n                ]);\n                break;\n            case UserEventType.SUGGESTION_REQUEST:\n                this.analytics.logCustomEvent(`${this.actionPrefix}Search`, \"Suggestion\", [\n                    event.suggestionTerm,\n                    event.dataSourceKey,\n                ]);\n                break;\n            case UserEventType.TILE_NAVIGATE:\n                this.analytics.logCustomEvent(`${this.actionPrefix}Search`, \"Launch App\", [\n                    event.tileTitle,\n                    event.targetUrl,\n                ]);\n                this.analytics.logCustomEvent(\n                    `${this.actionPrefix}Application Launch point`,\n                    \"Search Results\",\n                    [event.tileTitle, event.targetUrl]\n                );\n                break;\n        }\n\n        this.log.debug(`[${this.label}] Logged user event ${event.type}`);\n    }\n\n    public logTechnicalEvent(event: AllTechnicalEvents): void {\n        this.logEvent(event);\n    }\n}\n"],"mappings":";;;;;AAAAA,IAAAC,GAAAC,OAAA,gLAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,GAAA,sBAAAC,EAAAC,GAAA,OAAAA,KAAAC,mBAAAD,EAAAE,UAAA,YAAAF,EAAAE,QAAAF,CAAA,OAKwBG,EAAaV,EAAA,uBAC9BW,EAAaL,EAAAL,GAAA,MACbW,EAAcN,EAAAJ,GAAA,MAGQW,EAAkBR,EAAA,sBAKhC,MAAMS,UAAkCH,EAC3CI,IAAMZ,EAAIa,UAAU,4DACpBC,UAGSC,aAAe,QAChBC,MAAQ,MAExB,eAAaC,GACT,GAAIhB,EAAW,CACXiB,KAAKJ,gBAAkBb,EAAUkB,gBAAgB,iBACrD,CACJ,CAEOC,SAASC,GACZ,IAAKH,KAAKJ,UAAW,CACjB,MACJ,CACA,OAAQO,EAAMC,MACV,KAAKf,EAAcgB,0BACfL,KAAKJ,UAAUU,eAAe,GAAGN,KAAKH,qBAAsB,gBAAiB,CACzEM,EAAMI,YAEV,MACJ,KAAKlB,EAAcmB,oCACfR,KAAKJ,UAAUU,eAAe,GAAGN,KAAKH,qBAAsB,gBAAiB,CACzEM,EAAMI,YAEV,MACJ,KAAKlB,EAAcoB,kBACf,OAAQN,EAAMO,gBACV,KAAKnB,EAAeoB,IAChBX,KAAKJ,UAAUU,eAAe,GAAGN,KAAKH,qBAAsB,wBAAyB,CACjFM,EAAMS,gBACNT,EAAMI,UACNJ,EAAMU,aAEVb,KAAKJ,UAAUU,eACX,GAAGN,KAAKH,uCACR,qBACA,CAACM,EAAMS,gBAAiBT,EAAMI,UAAWJ,EAAMU,aAEnD,MACJ,KAAKtB,EAAeuB,WAChBd,KAAKJ,UAAUU,eACX,GAAGN,KAAKH,qBACR,+BACA,CAACM,EAAMY,cAAeZ,EAAMU,aAEhC,MACJ,KAAKtB,EAAeyB,OAChBhB,KAAKJ,UAAUU,eACX,GAAGN,KAAKH,qBACR,gCACA,CAACM,EAAMc,eAAgBd,EAAMY,cAAeZ,EAAMU,aAEtD,MACJ,KAAKtB,EAAe2B,OAChBlB,KAAKJ,UAAUU,eACX,GAAGN,KAAKH,qBACR,2BACA,CAACM,EAAMS,kBAEX,MAER,MACJ,KAAKpB,EAAmB2B,eACpBnB,KAAKJ,UAAUU,eAAe,GAAGN,KAAKH,qBAAsB,SAAU,CAClEM,EAAMU,WACNV,EAAMY,gBAEV,MACJ,KAAK1B,EAAc+B,kCACfpB,KAAKJ,UAAUU,eAAe,GAAGN,KAAKH,qBAAsB,wBAAyB,CACjFM,EAAMI,YAEV,MACJ,KAAKlB,EAAcgC,mBACfrB,KAAKJ,UAAUU,eAAe,GAAGN,KAAKH,qBAAsB,aAAc,CACtEM,EAAMc,eACNd,EAAMY,gBAEV,MACJ,KAAK1B,EAAciC,cACftB,KAAKJ,UAAUU,eAAe,GAAGN,KAAKH,qBAAsB,aAAc,CACtEM,EAAMoB,UACNpB,EAAMI,YAEVP,KAAKJ,UAAUU,eACX,GAAGN,KAAKH,uCACR,iBACA,CAACM,EAAMoB,UAAWpB,EAAMI,YAE5B,MAGRP,KAAKN,IAAI8B,MAAM,IAAIxB,KAAKF,4BAA4BK,EAAMC,OAC9D,CAEOqB,kBAAkBtB,GACrBH,KAAKE,SAASC,EAClB,EACH,OAAAV,CAAA","ignoreList":[]}