{"version":3,"file":"SearchCompositeControl.js","names":["sap","ui","define","__ErrorHandler","__i18n","__SearchFieldGroup","SearchModel","SearchLayoutResponsive","__SearchResultContainer","__SearchCountBreadcrumbs","SearchNlqExplainBar","SearchHelper","VerticalLayout","BindingMode","sap_m_library","Button","OverflowToolbarLayoutData","ViewSettingsItem","MessagePopover","MessageItem","___error_errors","VBox","IllustratedMessage","IllustratedMessageType","IllustratedMessageSize","errors","RoutingHashChanger","___controls_OpenShowMoreDialog","__SearchCompositeControlDragDropConfig","__SearchFacetList","Element","__ToolbarAssembler","__ResultViewsAssembler","__SearchSelectionBar","ActionSheet","core","___controls_webcompsearchfieldgroup_WebCompSearchFieldGroupBindings","ToolbarSpacer","___SelectionMode","_interopRequireDefault","obj","__esModule","default","ErrorHandler","i18n","SearchFieldGroup","SearchResultContainer","SearchCountBreadcrumbs","ButtonType","ToolbarDesign","PlacementType","OverflowToolbarPriority","FlexJustifyContent","ProgramError","openShowMoreDialog","UIEvents","__UIEvents","BarDesign","SearchCompositeControlDragDropConfig","SearchFacetList","ToolbarAssembler","ResultViewsAssembler","SearchSelectionBar","SearchResultPanel","__SearchResultPanel","createWebCompSearchFieldGroupBindings","Search","__Search","SelectionMode","SearchCompositeControl","extend","renderer","apiVersion","metadata","library","dnd","draggable","droppable","properties","cssClass","type","searchTerm","group","defaultValue","searchOnStart","filterRootCondition","sinaConfiguration","dataSource","exclusiveDataSource","resultViewTypes","resultViewType","resultViewSettings","settings","resultviewMasterDetailMode","tabStripsFormatter","folderMode","folderModeForInitialSearch","autoAdjustResultViewTypeInFolderMode","enableQueryLanguage","applicationComponent","facetPanelResizable","facetPanelWidthInPercent","getCustomNoResultScreen","getSearchInputPlaceholderLabel","searchInputLocation","overwriteBrowserTitle","defaultDataSource","optimizeForValueHelp","filterDataSources","facets","facetVisibility","facetToggleButtonLocation","enableCharts","boSuggestions","displayFacetPanelInCaseOfNoResults","updateUrl","renderSearchUrl","isSearchUrl","parseSearchUrlParameters","quickSelectDataSources","selectionChange","initAsync","enableMultiSelectionResultItems","resultviewSelectionMode","values","name","key","showSelectionToggleButton","pageSize","formatFilterBarText","isFilterBarVisible","eventConsumers","singularName","multiple","searchTermLengthLimit","limitAjaxRequests","aggregations","content","events","searchStarted","searchFinished","selectionChanged","resultViewTypeChanged","showResultDetail","constructor","_constructor","sId","this","isHashChangedAttached","initialErrorHandler","getInstance","label","searchModel","createContentRunning","unifiedParameters","unifyInputParameters","assert","undefined","configuration","config","id","setSearchModel","settingsKnownToUI5","getUI5ControlSettings","VerticalLayout.prototype.constructor.call","errorHandler","_oLogger","Log","getLogger","addStyleClass","setModelInternal","publicSearchModel","modelName","ResourceModel","bundle","scc","oFocusHandler","SearchFocusHandler","focusHandler","toolbarAssembler","resultViewsAssembler","performanceLogger","enterMethod","isSearch","createContent","leaveMethod","oSearchCompositeControlDragDropConfig","eshComp","ResizeHandler","register","_resizeHandler","_onHashChangedHandler","closePopovers","attachEvent","initSearchPromise","initSearch","error","onError","getPublicSina","_getPublicSina","getModelInternal","sinaNext","getModel","_getModel","sName","callStack","Error","stack","includes","setModel","_setModel","oModel","oSearchModelInternal","VerticalLayout.prototype.setModel.call","_setModelInternal","browserHasValidSearchUrl","_browserHasValidSearchUrl","getHashFromUrl","oParametersLowerCased","getUrlParameters","isEmptyObject","async","_initSearch","searchUrlParser","parse","getProperty","isUshell","search","exit","_exit","detachEvent","oFilterBar","destroy","noResultScreen","noResultScreenFolder","searchResultTable","tablePersonalizer","destroyControllerAndDialog","unsubscribe","ESHSearchStarted","onAllSearchStarted","ESHSearchFinished","onAllSearchFinished","ESHSelectionChanged","onSelectionChanged","ESHShowResultDetail","onShowResultDetail","_createContent","oSearchFieldGroup","createSearchFieldGroup","subscribe","subscribeDone_SearchStarted","subscribeDone_SearchFinished","subscribeDone_SelectionChanged","subscribeDone_ResultViewTypeChanged","ESHResultViewTypeChanged","onResultViewTypeChanged","subscribeDone_ShowResultDetail","oFilterButton","assembleFilterButton","oDataSourceTabBar","assembleDataSourceTabBar","genericButtonsToolbarData","assembleGenericButtonsToolbar","toolbarLeftContent","None","oSelectionButton","assembleResultviewSelectionButton","oGenericItemsToolbar","toolbar","addContent","searchBarContent","concat","oSearchBar","OverflowToolbar","getId","width","visible","parts","path","formatter","count","showSearchBarForNoResults","design","Transparent","hasCustomButtons","removeStyleClass","oNlqExplainBar","success","isBusy","cfg","aiNlqExplainBar","SearchFilterBar","createSearchPage","_createSearchFieldGroup","isWebCompSearchFieldGroupEnabled","createWebCompSearchFieldGroup","createClassicSearchFieldGroup","_createWebCompSearchFieldGroup","_createClassicSearchFieldGroup","setSelectActive","setCancelButtonActive","input","setShowValueHelp","setProperty","setActionsMenuButtonActive","setSelectQsDsActive","onAfterRendering","_onAfterRendering","isShowMoreFooterVisible","_isShowMoreFooterVisible","length","assignDragDropConfig","_assignDragDropConfig","addDragDropConfig","_addDragDropConfig","oDragDropConfig","insertDragDropConfig","_insertDragDropConfig","iIndex","indexOfDragDropConfig","_indexOfDragDropConfig","getDragDropConfig","_getDragDropConfig","removeDragDropConfig","_removeDragDropConfig","vDragDropConfig","removeAllDragDropConfig","_removeAllDragDropConfig","destroyDragDropConfig","_destroyDragDropConfig","_onAllSearchStarted","fireEvent","_onAllSearchFinished","chooseNoResultScreen","setFocus","viewPortContainer","getElementById","switchState","setTimeout","adjustSearchbarCustomGenericButtonWidth","_onSelectionChanged","_onResultViewTypeChanged","_onShowResultDetail","_createSearchPage","idPrefix","bindProperty","rootCondition","filterBarVisible","hasFilters","hasStaticHierarchyFacetFilterConditionOnly","oError","ConfigurationExitError","oFooter","createFooter","numberErrors","footerVisible","searchContainer","createSearchContainer","searchPageItems","push","searchPageItem","setWidth","createNoResultScreen","_createNoResultScreen","additionalContent","illustrationSize","Auto","title","description","illustrationType","getText","EmptyList","NoSearchResults","illustratedMessageSettings","noResultsScreenIdPrefix","oIllustratedMessage","items","justifyContent","Center","firstSearchWasExecuted","_createSearchContainer","countBreadcrumbsHiddenElement","assembleCountBreadcrumbsHiddenElement","resultView","assembleResultView","oSearchCountBreadcrumbs","oContextBar","Bar","contentLeft","isFolderMode","oSearchSelectionBar","oContextBarContainer","enhanceAccessibilityState","oElement","mAriaProps","oSearchResultContainer","setNoResultScreen","getNoResultScreen","forEach","element","oSearchResultPanel","fixContent","flexContent","searchLayoutResponsiveSettings","resultPanelContent","searchIsBusy","busyDelay","facetPanelContent","showFacets","searchLayout","isSearchFieldGroupLocatedInsideSearchComposite","_isSearchFieldGroupLocatedInsideSearchComposite","currentControlDomRef","classList","contains","parentNode","console","nodeType","Node","DOCUMENT_NODE","_adjustSearchbarCustomGenericButtonWidth","getDomRef","getVisible","searchCompositeControlSizes","window","document","getBoundingClientRect","filterButtonWidth","dataSourceTabBarWidthPx","totalTextLength","getItems","reduce","accumulator","item","dataSourceTabBarDomRef","genericToolbarWidthPx","genericToolbarWidthRem","convertPixelToRem","_convertPixelToRem","pxValue","parseFloat","getComputedStyle","documentElement","fontSize","_createFooter","oErrorPopover","messagePopoverId","placement","Top","bindAggregation","factory","oErrorButton","icon","IconPool","getIconURI","text","mode","OneWay","Emphasized","tooltip","press","isOpen","close","setVisible","openBy","firePress","setLayoutData","priority","NeverOverflow","footer","_chooseNoResultScreen","customNoResultScreen","getDataSource","isDestroyed","currentNoResultsPage","Control","err","openSortDialog","_openSortDialog","sortDialog","unbindAggregation","selected","open","_openShowMoreDialog","dimension","selectedTabBarIndex","tabBarItems","sourceControl","parseURL","_parseURL","getPublicSearchModel","_getPublicSearchModel","getResultviewMasterDetailMode","_getResultviewMasterDetailMode","setResultviewMasterDetailMode","_setResultviewMasterDetailMode","bMasterDetailMode","getResultviewSelectionMode","_getResultviewSelectionMode","setResultviewSelectionMode","_setResultviewSelectionMode","selectionMode","_getModelInternal","VerticalLayout.prototype.getModel.call","getSearchResultSet","_getSearchResultSet","resultSet","getResultViewTypes","_getResultViewTypes","setResultViewTypes","_setResultViewTypes","setResultViewSettings","getResultViewType","_getResultViewType","setResultViewType","_setResultViewType","getResultViewSettings","_getResultViewSettings","_setResultViewSettings","resultlViewSettings","calculateResultViewSwitchVisibility","showMoreFooter","enableOrDisableMultiSelection","getControllerName","_getControllerName","getCssClass","_getCssClass","_cssClass","setCssClass","_setCssClass","hasStyleClass","_getDataSource","ds","setDataSource","_setDataSource","dataSourceId","fireQuery","resetTop","setDataSourceById","resetDataSource","_resetDataSource","_search","invalidateQuery","internalSearchModel","fireSearchQuery","resetSearch","_resetSearch","resetQuery","retriggerSearch","_retriggerSearch","invalidateSearchResultCache","_invalidateSearchResultCache","getSearchTerm","_getSearchTerm","getSearchBoxTerm","getMetadata","getPropertyDefaults","setSearchTerm","_setSearchTerm","setSearchBoxTerm","getConfig","_getConfig","getFilter","_getFilter","getFilterRootCondition","_getFilterRootCondition","updateStaticHierarchyFacet","_updateStaticHierarchyFacet","hierarchyAttributeId","getStaticHierarchyAttributeMetadata","staticHierarchyFacet","filter","attributeId","updateTree","recalculateSearchInputPlaceholder","_recalculateSearchInputPlaceholder","calculatePlaceholder","setFilterRootCondition","_setFilterRootCondition","renderSearchUrlFromParameters","_renderSearchUrlFromParameters","top","encodeFilter","model","createSearchNavigationTarget","targetUrl","_createSearchNavigationTarget","createStaticHierarchySearchNavigationTarget","_createStaticHierarchySearchNavigationTarget","hierarchyNodeId","hierarchyNodeLabel","navigationTargetLabel","addEventConsumer","_addEventConsumer","eventConsumer","eventLogger","addConsumer","getEventConsumers","_getEventConsumers","consumers","setEventConsumers","_setEventConsumers","setConsumers","_closePopovers","domDialogs","getElementsByClassName","domDialog","ui5Dialog","getParent","endsWith","buttons","getButtons","btn","getType","Default","selectors","selector","domElement","ui5Element","Dialog","getInitializationStatus","_getInitializationStatus","status","e","getStaticHierarachyFilters","_getStaticHierarachyFilters","getStaticHierarchyFilterConditions","_hasStaticHierarchyFacetFilterConditionOnly","clearObjectSelection","_clearObjectSelection","resetKeyStore","eshCompCounter","metadataProperties","getProperties","metadataProperty","metadataEvents","getEvents","metadataEvent"],"sources":["SearchCompositeControl.ts"],"sourcesContent":["/*!\n * SAPUI5\n * Copyright (c) 2025 SAP SE or an SAP affiliate company. All rights reserved.\n * \n */\nimport ErrorHandler from \"./error/ErrorHandler\";\nimport i18n from \"./i18n\";\nimport ResourceModel from \"sap/ui/model/resource/ResourceModel\";\nimport SearchFieldGroup from \"./controls/searchfieldgroup/SearchFieldGroup\";\nimport SearchModel from \"sap/esh/search/ui/SearchModel\";\nimport SearchLayoutResponsive, {\n    $SearchLayoutResponsiveSettings,\n} from \"sap/esh/search/ui/controls/SearchLayoutResponsive\";\nimport SearchResultContainer from \"./controls/resultview/SearchResultContainer\";\nimport SearchResultTable from \"./controls/resultview/SearchResultTable\";\nimport SearchResultList from \"./controls/resultview/SearchResultList\";\nimport SearchResultGrid from \"./controls/resultview/SearchResultGrid\";\nimport SearchSpreadsheet from \"./controls/SearchSpreadsheet\";\nimport { SearchFocusHandler } from \"sap/esh/search/ui/SearchHelper\";\nimport SearchCountBreadcrumbs from \"./controls/resultview/SearchCountBreadcrumbs\";\nimport SearchFilterBar from \"sap/esh/search/ui/controls/SearchFilterBar\";\nimport SearchNlqExplainBar from \"sap/esh/search/ui/controls/SearchNlqExplainBar\";\nimport * as SearchHelper from \"sap/esh/search/ui/SearchHelper\";\nimport Control, { $ControlSettings } from \"sap/ui/core/Control\";\nimport InvisibleText from \"sap/ui/core/InvisibleText\";\nimport IconPool from \"sap/ui/core/IconPool\";\nimport VerticalLayout from \"sap/ui/layout/VerticalLayout\";\nimport BindingMode from \"sap/ui/model/BindingMode\";\nimport Button from \"sap/m/Button\";\nimport { ButtonType, ToolbarDesign } from \"sap/m/library\";\nimport { PlacementType } from \"sap/m/library\";\nimport SegmentedButton from \"sap/m/SegmentedButton\";\nimport Bar from \"sap/m/Bar\";\nimport IconTabBar from \"sap/m/IconTabBar\";\nimport OverflowToolbarLayoutData from \"sap/m/OverflowToolbarLayoutData\";\nimport { OverflowToolbarPriority } from \"sap/m/library\";\nimport OverflowToolbar from \"sap/m/OverflowToolbar\";\nimport CustomListItem from \"sap/m/CustomListItem\";\nimport FlexBox from \"sap/m/FlexBox\";\nimport { FlexJustifyContent } from \"sap/m/library\";\nimport ViewSettingsDialog from \"sap/m/ViewSettingsDialog\";\nimport ViewSettingsItem from \"sap/m/ViewSettingsItem\";\nimport MessagePopover from \"sap/m/MessagePopover\";\nimport MessageItem from \"sap/m/MessageItem\";\nimport VBox from \"sap/m/VBox\";\nimport { ComplexCondition } from \"./sinaNexTS/sina/ComplexCondition\";\nimport { ProgramError } from \"./error/errors\";\nimport { Filter } from \"./sinaNexTS/sina/Filter\";\nimport Log, { Logger } from \"sap/base/Log\";\nimport SearchConfigurationSettings from \"./SearchConfigurationSettings\";\nimport IllustratedMessage, { $IllustratedMessageSettings } from \"sap/m/IllustratedMessage\";\nimport IllustratedMessageType from \"sap/m/IllustratedMessageType\";\nimport IllustratedMessageSize from \"sap/m/IllustratedMessageSize\";\nimport errors from \"sap/esh/search/ui/error/errors\";\nimport DragDropBase from \"sap/ui/core/dnd/DragDropBase\";\nimport ResizeHandler from \"sap/ui/core/ResizeHandler\";\nimport RoutingHashChanger from \"sap/ui/core/routing/HashChanger\";\nimport { openShowMoreDialog } from \"./controls/OpenShowMoreDialog\";\nimport UIEvents from \"./UIEvents\";\nimport { NavigationTarget } from \"./sinaNexTS/sina/NavigationTarget\";\nimport { Value } from \"./sinaNexTS/sina/types\";\nimport { DataSource } from \"./sinaNexTS/sina/DataSource\";\nimport { ResultSet } from \"./ResultSetApi\";\nimport { BarDesign } from \"sap/m/library\";\nimport EventConsumer from \"./eventlogging/EventConsumer\";\nimport SearchCompositeControlDragDropConfig from \"./SearchCompositeControlDragDropConfig\";\nimport assert from \"sap/base/assert\";\nimport SearchFacetList from \"./controls/facets/SearchFacetList\";\nimport Element from \"sap/ui/core/Element\";\nimport PublicSearchModel from \"./PublicSearchModel\";\nimport Model from \"sap/ui/model/Model\";\nimport ToolbarAssembler from \"./compositecontrol/ToolbarAssembler\";\nimport ResultViewsAssembler from \"./compositecontrol/ResultViewsAssembler\";\nimport SearchConfiguration from \"./SearchConfiguration\";\nimport SearchSelectionBar from \"./controls/SearchSelectionBar\";\nimport SearchResultPanel from \"./controls/resultview/SearchResultPanel\";\nimport ActionSheet from \"sap/m/ActionSheet\";\nimport Dialog from \"sap/m/Dialog\";\nimport { PublicSina } from \"./sinaNexTS/sina/PublicSina\";\nimport { Condition } from \"./sinaNexTS/sina/Condition\";\nimport * as core from \"./sinaNexTS/core/core\";\nimport { createWebCompSearchFieldGroupBindings } from \"./controls/webcompsearchfieldgroup/WebCompSearchFieldGroupBindings\";\nimport Search from \"@ui5/webcomponents-fiori/dist/Search\";\nimport ToolbarSpacer from \"sap/m/ToolbarSpacer\";\nimport OverflowToolbarToggleButton from \"sap/m/OverflowToolbarToggleButton\";\nimport { SelectionMode } from \"./SelectionMode\";\n\n// =============== WARNING ===============================================================\n// do not use async/await in this file\n// --> async/await does work locally but not in barrier\n// because buildNPM does not transpile to Control.extend\n// questions:\n// -why\n// -why do we have different builds local/central\n// =============== WARNING ===============================================================\n\n/**\n * Search control (input for search terms, suggestions, facets, result list views \"list\", \"table\", \"grid\")\n *\n */\n\n/**\n * Constructs a new <code>SearchCompositeControl</code> to interact with SAP Enterprise Search Services.\n *\n * @param {string} [sId] ID for the new control, generated automatically if no ID is given\n * @param {object} [mSettings] Initial settings for the new control\n *\n * @class\n *\n * This is the SAPUI5 composite control by the Enterprise Search Team which helps to make full use of the Enterprise Search Engine\n * features built into ABAP and HANA.\n * It includes a search input box including a suggestion dropdown, a result view which can have different visualisation, including tiles, list and table, filtering facets and more.\n * This control is ready to use with an enterprise search backend service but also allows deep extension to match requirements of adopting applications.\n *\n * @extends sap.ui.core.Control\n *\n * @author SAP SE\n * @version 1.141.1\n *\n * @see https://help.sap.com/viewer/691cb949c1034198800afde3e5be6570/2.0.05/en-US/ce86ef2fd97610149eaaaa0244ca4d36.html\n * @see https://help.sap.com/viewer/6522d0462aeb4909a79c3462b090ec51/1709%20002/en-US\n *\n *\n * @constructor\n * @public\n * @alias sap.esh.search.ui.SearchCompositeControl\n * @since 1.93.0\n * @name sap.esh.search.ui.SearchCompositeControl\n *\n */\n\n/**\n * @namespace sap.esh.search.ui\n */\nexport default class SearchCompositeControl extends VerticalLayout {\n    static readonly metadata = {\n        library: \"sap.esh.search.ui\",\n        dnd: { draggable: true, droppable: false }, // result view (list/table/grid) support dragging (dropping not supported)\n        properties: {\n            /**\n             * An additional CSS class to add to this control\n             * @since 1.93.0\n             */\n            cssClass: {\n                type: \"string\",\n            },\n\n            /**\n             * Defines the initial search term for the search input.\n             * @since 1.93.0\n             */\n            searchTerm: {\n                type: \"string\",\n                group: \"Misc\",\n                defaultValue: \"\",\n            },\n\n            /**\n             * Defines if the search composite control will send a search request directly after loading, using given search term, data source and filter root condition settings.\n             * @since 1.93.0\n             */\n            searchOnStart: {\n                type: \"boolean\",\n                group: \"Behavior\",\n                defaultValue: true,\n            },\n\n            /**\n             * Defines the filter root condition of a filter tree which shall be applied to the search request.\n             * This control only allows filter trees which have a the following structure:\n             * complex condition (root level)\n             *      \\\n             *  complex condition (attribute level)\n             *        \\\n             *      simple condition (attribute value level)\n             * Filter root conditions which do not follow this structure won't be accepted and an error will be thrown.\n             * Please see the below for a more in-depth example.\n             *\n             * @since 1.98.0\n             * @example A simple use case for filter conditions\n             * sap.ui.require(\n             *       [\n             *          // Adjust the path to the .js files accordingly!\n             *          \"sap/esh/search/ui/sinaNexTS/sina/LogicalOperator\",\n             *          \"sap/esh/search/ui/sinaNexTS/sina/ComparisonOperator\",\n             *          \"sap/esh/search/ui/sinaNexTS/sina/ComplexCondition\",\n             *          \"sap/esh/search/ui/sinaNexTS/sina/SimpleCondition\",\n             *      ], function (\n             *          LogicalOperatorModule,\n             *          ComparisonOperatorModule,\n             *          ComplexConditionModule,\n             *          SimpleConditionModule\n             *      ) {\n             *          (\"use strict\");\n             *\n             *          // Root condition must always be of type ComplexCondition!\n             *          const rootCondition = new ComplexConditionModule.ComplexCondition({\n             *              operator: LogicalOperatorModule.LogicalOperator.And,\n             *          });\n             *\n             *          // Conditions of root condition must always be of type ComplexCondition!\n             *          // Create one of those for each attribute.\n             *          // This condition will hold all values for attribute 'FOLKLORIST':\n             *          const complexChildCondition = new ComplexConditionModule.ComplexCondition({\n             *              operator: LogicalOperatorModule.LogicalOperator.Or,\n             *          });\n             *\n             *          // Conditions of complexChildCondition have to be simple conditions!\n             *          // This filter specfies the value of the attributes.\n             *          // The result is an attribute filter like 'FOLKLORIST' = 'Douglas Milford':\n             *          const simpleGrandChildCondition = new SimpleConditionModule.SimpleCondition({\n             *              operator: ComparisonOperatorModule.ComparisonOperator.Eq, // results should be equal to the filter value\n             *              attribute: \"FOLKLORIST\", // example: name of the attribute\n             *              value: \"Douglas Milford\", // example: value of the filter\n             *          });\n             *          complexChildCondition.addCondition(simpleGrandChildCondition); // Add the conditions to the condition tree\n             *          rootCondition.addCondition(complexChildCondition);\n             *\n             *          // The filter tree now looks like this:\n             *          //                                   rootCondition\n             *          //                                  /      And    \\\n             *          //                   complexChildCondition\n             *          //                   /        Or\n             *          //        simpleGrandChildCondition ('FOLKLORIST' Eq 'Douglas Milford')\n             *          // Additional complex child conditions would be linked by an \"And\" operator, additional simple attribute\n             *          // filter conditions will be linked by an \"Or\":\n             *\n             *          // If you would like to apply an additional filter to the 'FOLKLORIST' attribute you can do that, too:\n             *          const simpleGrandChildCondition2 = new SimpleConditionModule.SimpleCondition({\n             *              operator: ComparisonOperatorModule.ComparisonOperator.Eq, // results should be equal to the filter value\n             *              attribute: \"FOLKLORIST\", // example: name of the attribute\n             *              value: \"Cynthia MacDonald\", // example: value of the filter\n             *          });\n             *\n             *          complexChildCondition.addCondition(simpleGrandChildCondition2);\n             *\n             *          // The filter tree now looks like this:\n             *          //                                   rootCondition\n             *          //                                  /      And\n             *          //                          complexChildCondition\n             *          //                         /         Or          \\\n             *          // simpleGrandChildCondition               simpleGrandChildCondition2\n             *\n             *          // create a new search ui:\n             *          const searchUI = new SearchCompositeControl({\n             *              filterRootCondition: rootCondition,\n             *          });\n             *\n             *          // or if it already exists:\n             *          // const searchUI = Element.getElementById(\"eshCompGenId_0\");\n             *          // searchUI.setFilterRootCondition(rootCondition);\n             *  });\n             */\n            filterRootCondition: {\n                type: \"object\",\n                group: \"Misc\",\n            },\n\n            /**\n             * Configuration for the Enterprise Search Client API.\n             * @since 1.93.0\n             */\n            sinaConfiguration: {\n                type: \"object\",\n                group: \"Misc\",\n            },\n\n            /**\n             * The id of the data source in which it will search right after initialization.\n             * @since 1.98.0\n             */\n            dataSource: {\n                type: \"string\",\n                group: \"Misc\",\n            },\n\n            /**\n             * Data source id which is set when the UI is loaded and cannot be changed at run time.\n             * The following UI parts will be hidden:\n             * - data source select (dropdown)\n             * - data source tab bar\n             * - data source facet (facet panel)\n             * - data source name/link on result list (header section of item)\n             * @since 1.121.0\n             */\n\n            // Stakeholders using a single data source only:\n            //  - SAP Datashere ('SEARCH_DESIGN')\n            //  - SAC role UIs ('esh_ums_assignment'/'esh_ums_users').\n\n            exclusiveDataSource: {\n                type: \"string\",\n                group: \"Misc\",\n            },\n\n            /**\n             * Defines selectable search result view types.\n             * The value can be set/get in attach event \"searchFinished\".\n             * Case 1: Search in Apps: result is displayed in a mandatory view type <code>[\"appSearchResult\"]</code>, and it is not switchable.\n             * Case 2: Search in All or other Category: result is switchable between different view types.\n             * Possible values for the array items are <code>\"searchResultList\"</code> and <code>\"searchResultGrid\"</code>.\n             * Case 3, Search in Business Object: result is switchable between different view types.\n             * Possible values for the array items are <code>\"searchResultList\"</code>, <code>\"searchResultTable\"</code> and <code>\"searchResultGrid\"</code>.\n             * Note: The value of <code>resultViewTypes</code> and <code>resultViewType</code> must be compatible to each other.\n             *\n             * After the result view type has been changed, the event 'resultViewTypeChanged' is fired.\n             *\n             * @since 1.98.0\n             */\n            resultViewTypes: {\n                type: \"string[]\",\n                group: \"Misc\",\n                defaultValue: [\"searchResultList\", \"searchResultTable\"],\n                //  Case 2.1, Search in All or other Category (configuration.isUshell !== true): result is switchable between different view types.\n                //  Possible values for the array items are <code>\"searchResultList\"</code> and <code>\"searchResultGrid\"</code>.\n                //  Case 2.2, Search in All or other Category (configuration.isUshell === true): result is displayed in a mandatory view type <code>[\"searchResultList\"]</code>.\n            },\n\n            /**\n             * Defines active search result view type.\n             * The value can be set/get in attach event \"searchFinished\", and it must be contained in resultViewTypes.\n             * Case 1, Search in Apps: result is displayed in a mandatory view type <code>\"appSearchResult\"</code>.\n             * Case 2.1, Search in All or other Category (configuration.isUshell !== true): result is switchable between different view types.\n             * Possible value is <code>\"searchResultList\"</code>, or <code>\"searchResultGrid\"</code>.\n             * Case 2.2, Search in All or other Category (configuration.isUshell === true): result is displayed in a mandatory view type <code>\"searchResultList\"</code>.\n             * Case 3, Search in Business Object: result is switchable between different view types.\n             * Possible value is <code>\"searchResultList\"</code>, <code>\"searchResultTable\"</code> or <code>\"searchResultGrid\"</code>.\n             * Note: The value of <code>resultViewTypes</code> and <code>resultViewType</code> must be compatible to each other.\n             *\n             * After the result view type has been changed, the event 'resultViewTypeChanged' is fired.\n             *\n             * @since 1.98.0\n             */\n            resultViewType: {\n                type: \"string\",\n                group: \"Misc\",\n                defaultValue: \"searchResultList\",\n            },\n\n            /**\n             * Defines a pair of search result view settings.\n             * The value is an object of properties <code>resultViewTypes</code> and <code>resultViewType</code>.\n             * An example: <code>{resultViewTypes: [\"searchResultList\", \"searchResultTable\"], resultViewType: \"searchResultList\"}</code>\n             * Find more detail in the definition of each child property.\n             * The value can be set/get in attached event \"searchFinished\".\n             * Function <code>setResultViewSettings</code> prevents incompatibility of sequential execution of functions <code>setResultViewTypes</code> and <code>setResultViewType</code>.\n             * Note: The value of <code>resultViewTypes</code> and <code>resultViewType</code> must be compatible to each other.\n             *\n             * After the result view type has been changed, the event 'resultViewTypeChanged' is fired.\n             *\n             * @since 1.100.0\n             */\n            resultViewSettings: {\n                settings: {\n                    resultViewTypes: \"string[]\",\n                    resultViewType: \"string\",\n                },\n                group: \"Misc\",\n                defaultValue: {\n                    resultViewTypes: [\"searchResultList\", \"searchResultTable\"],\n                    resultViewType: \"searchResultList\",\n                },\n            },\n\n            /**\n             * The result views are displayed in a master-detail mode.\n             * The event showResultDetail is fired whenever the detail button/indicator is clicked.\n             *\n             * @public\n             * @since 1.140.0\n             * @param {boolean} [resultviewMasterDetailMode=false] If true, master detail mode is enabled for result view items.\n             *\n             */\n            resultviewMasterDetailMode: {\n                type: \"boolean\",\n                group: \"Misc\",\n                defaultValue: false,\n            },\n\n            /**\n             * Function callback for formatting the datasource tabstrips in the top toolbar.\n             * To the callback function a list of datasources is passed. The callback functions return a modified list of datasources\n             * to be displayed in the tabstrips.\n             *\n             * @since 1.103.0\n             */\n            tabStripsFormatter: {\n                type: \"function\",\n                group: \"Misc\",\n            },\n\n            /**\n             * Activates the folder mode. Precondition for folder mode is\n             * 1) Search model:\n             * In the search model for the current datasource a hierarchy attribute (representing the folders) is defined\n             * 1.1) the hierarchy attribute is annotated with displayType=TREE and for the hierarchy there is a helper\n             * connector representing the hierarchy or\n             * 1.2) the current datasource is the helper datasource representing the folder hierarchy. The hierarchy attribute\n             * is annotated with displayType=FLAT\n             * 2) Search query:\n             * The folder mode is only active in case the search query has an empty search term and no filter conditions\n             * (except the hierarchy attribute) are set.\n             *\n             * In folder mode and in case a folder filter is set the result view only shows direct children of a folder.\n             * In contrast the counts in the facets are calculated by counting direct and not direct children.\n             * In case the folder mode is not active the UI uses the search mode: The result list shows direct and\n             * not direct children of a folder.\n             * * @since 1.106.0\n             */\n            folderMode: {\n                type: \"boolean\",\n                group: \"Misc\",\n                defaultValue: false,\n            },\n\n            /**\n             *  In case folderMode is set to true this boolean indicates whether for the initial search the folder mode is enabled.\n             *  @since 1.114.0\n             */\n            folderModeForInitialSearch: {\n                type: \"boolean\",\n                group: \"Misc\",\n                defaultValue: false,\n            },\n\n            /**\n             * In case folder mode is active:\n             * Automatically switch result view type to list in search mode and to table in folder mode.\n             * @since 1.106.0\n             */\n            autoAdjustResultViewTypeInFolderMode: {\n                type: \"boolean\",\n                group: \"Misc\",\n                defaultValue: false,\n            },\n\n            /**\n             * Enables the query language for the hana_odata provider.\n             * With query language it is possible for the end user to enter complex search\n             * queries with logical operators.\n             * @since 1.107.0\n             */\n            enableQueryLanguage: {\n                type: \"boolean\",\n                group: \"Misc\",\n                defaultValue: false,\n            },\n\n            /**\n             * Relevant for SAP partners and SAP, the \"Application Component\" you expect customers to create incidents.\n             * @since 1.108.0\n             */\n            applicationComponent: {\n                type: \"string\",\n                group: \"Misc\",\n                defaultValue: \"HAN-AS-INA-UI\",\n            },\n\n            /**\n             * Display a splitter bar to resize the left hand panel, containing all facets and filter criteria.\n             * @since 1.108.0\n             */\n            facetPanelResizable: {\n                type: \"boolean\",\n                group: \"Misc\",\n                defaultValue: true,\n            },\n\n            /**\n             * Default size (percent) of the left hand panel, containing all facets and filter criteria. If \"facetPanelResizable\" is true, the width of the facet panel can be changed by the user.\n             * @since 1.108.0\n             */\n            facetPanelWidthInPercent: {\n                type: \"float\",\n                group: \"Misc\",\n                defaultValue: 25,\n            },\n\n            /**\n             * Whenever a search has no results, a 'No Results Screen' is displayed. You can provide a custom control to be more specific and add some hints, links, buttons or other content.\n             * @since 1.94.0\n             */\n            getCustomNoResultScreen: {\n                type: \"function\",\n                group: \"Misc\",\n            },\n\n            /**\n             * A callback which returns customized \"label\" for placeholder text of search box in case there is no search term.\n             * The placeholder text (en) will be \"Search In: <customPlaceholderLabel>\".\n             */\n            getSearchInputPlaceholderLabel: {\n                type: \"function\",\n                group: \"Misc\",\n            },\n\n            /**\n             * Location of the search input box. The search input can be placed on the top of the control (SearchCompositeControl) or as part of the search bar\n             * By default the location is at the top, values are \"Top\" and \"Searchbar\".\n             * @since 1.140.0\n             * @experimental Since 1.140.0 this feature is experimental and the API may change.\n             */\n            searchInputLocation: {\n                type: \"string\",\n                group: \"Misc\",\n                defaultValue: \"Top\",\n            },\n\n            /**\n             * Shall the window title be overwritten by this control?\n             * If true, the control will set the current search condition as window title.\n             * If false, it will not set or update the window title.\n             * @since 1.93.0\n             */\n            overwriteBrowserTitle: {\n                type: \"boolean\",\n                group: \"Misc\",\n            },\n\n            /**\n             * Data source id which is set when the UI is loaded or filter is reset.\n             * If dataSource is also set, dataSource will be used during UI load and this\n             * parameter will used only after filter is reset. When setting 'exclusiveDataSource' to 'true', do not set this parameter (will be ignored).\n             * @since 1.93.0\n             */\n            defaultDataSource: {\n                type: \"string\",\n                group: \"Misc\",\n            },\n            /**\n             * The layout is optimized for object selection / value help (narrow view w/o facet panel).\n             * @since 1.111.0\n             */\n            optimizeForValueHelp: {\n                type: \"boolean\",\n                group: \"Misc\",\n            },\n\n            /**\n             * Callback for filtering the datasources displayed in the datasource dropdown listbox.\n             * The callback gets a list of datsources and returns the filtered list of datasources.\n             * @since 1.112.0\n             */\n            filterDataSources: {\n                type: \"function\",\n                group: \"Misc\",\n            },\n\n            /**\n             * Controls whether the facet functionality is available or not.\n             * @since 1.132.0\n             */\n            facets: {\n                type: \"boolean\",\n                group: \"Misc\",\n                defaultValue: true,\n            },\n\n            /**\n             * A boolean which indicates whether the facet panel is initially openend or closed.\n             * This affects only the initial state of the facet panel.\n             * This initial state of the facet panel can be overwritten by the user, depending\n             * on the user's personalization settings.\n             * @since 1.113.0\n             */\n            facetVisibility: {\n                type: \"boolean\",\n                group: \"Misc\",\n                defaultValue: false,\n            },\n\n            /**\n             * Location of the button to show/hide facet panel. The button (filter icon) can be placed on the left (begin) or on the right (end) of the search bar.\n             * By default the button's location is at the beginning (left), values are \"Begin\" and \"End\".\n             * The property is not evaluated if facet panel is disabled, see property 'facets'.\n             * @since 1.140.0\n             * @experimental Since 1.140.0 this feature is experimental and the API may change.\n             */\n            facetToggleButtonLocation: {\n                type: \"string\",\n                group: \"Misc\",\n                defaultValue: \"Begin\",\n            },\n\n            /**\n             * A boolean for enabling chart visualizations (pie chart / bar chart facets).\n             * If set to true, facets can be viewed as a pie or bar chart (this cannot be deactivated at runtime).\n             * @since 1.140.0\n             */\n            enableCharts: {\n                type: \"boolean\",\n                group: \"Misc\",\n                defaultValue: false,\n            },\n\n            /**\n             * A boolean for enabling (business) object suggestions.\n             * @since 1.113.0\n             */\n            boSuggestions: {\n                type: \"boolean\",\n                group: \"Misc\",\n                defaultValue: false,\n            },\n\n            /**\n             * When set to true the facet panel is displayed also in case there are no search results.\n             * @since 1.113.0\n             * @deprecated As of version 1.134.0, this setting is ignored and the visibility of the facet panel is controlled by the end user.\n             */\n            displayFacetPanelInCaseOfNoResults: {\n                type: \"boolean\",\n                group: \"Misc\",\n                defaultValue: false,\n            },\n\n            /**\n             * A boolean indicating that the search state is written to the URL.\n             * @since 1.113.0\n             */\n            updateUrl: {\n                type: \"boolean\",\n                group: \"Misc\",\n                defaultValue: true,\n            },\n\n            /**\n             * A callback for rendering the search URL. The callback gets a list of url encoded parameters and returns the URL string.\n             * Typically you need to register this callback in case of 'updateUrl = true'.\n             * @since 1.113.0\n             * @example\n             * <code>\n             * const renderSearchUrl = function (properties){\n                return (\n                    \"#Action-search&/top=\" +\n                    properties.top +\n                    (properties.orderby ? \"&orderBy=\" + properties.orderby : \"\") +\n                    (properties.sortorder ? \"&sortOrder=\" + properties.sortorder : \"\") +\n                    \"&filter=\" +\n                    properties.filter\n                );\n              };\n              </code>\n             */\n            renderSearchUrl: {\n                type: \"function\",\n                group: \"Misc\",\n            },\n\n            /**\n             * A callback for checking whether a URL is a search-relevant URL. The callback receives a URL and returns 'true' in case the URL is a search-relevant URL.\n             * Typically you need to register this callback in case of 'updateUrl = true'.\n             * @since 1.113.0\n             * @example\n             * <code>\n             * const isSearchUrl =function (url) {\n                  return url.indexOf(\"#Action-search\") === 0;\n               };\n               </code>\n             */\n            isSearchUrl: {\n                type: \"function\",\n                group: \"Misc\",\n            },\n\n            /**\n             * A callback for parsing URL parameters. The callback receices URL parameters and returns modified URL parameters.\n             * This is an optional callback. In case you set 'updateUrl = true' typcically this callback is not needed.\n             * @since 1.113.0\n             */\n            parseSearchUrlParameters: {\n                type: \"function\",\n                group: \"Misc\",\n            },\n\n            /**\n             * A list of data sources to be displayed in the facet panel in the section \"Collection\".\n             * @since 1.113.0\n             */\n            quickSelectDataSources: {\n                type: \"object\",\n                group: \"Misc\",\n            },\n\n            /**\n             * A callback which is called whenever the selection of result view items changes.\n             * @since 1.113.0\n             * @deprecated As of version 1.137.0, this setting is ignored, subscribe to event 'selectionChange'.\n             */\n            selectionChange: {\n                type: \"function\",\n                group: \"Misc\",\n            },\n\n            /**\n             * An asynchronues callback which is called after the initialization of the search composite control.\n             * @since 1.113.0\n             */\n            initAsync: {\n                type: \"function\",\n                group: \"Misc\",\n            },\n\n            /**\n             * Enables the multiselection mode of search result items.\n             * A checkbox is provided for each result item if the value is set to 'true'.\n             * @public\n             * @since 1.96.0\n             * @deprecated As of version 1.141.0, use 'resultviewSelectionMode' instead.\n             */\n            enableMultiSelectionResultItems: {\n                type: \"boolean\",\n                group: \"Misc\",\n                defaultValue: false,\n            },\n\n            /**\n             * To select result view items, enable multi-selection or single-selection mode. Shows checkboxes ('MultipleItems') or enables item press ('OneItem'). Values of configuration parameter `resultviewSelectionMode` are 'None', 'OneItem' and 'MultipleItems'.\n             * To show a button for switching selection mode on/off, see 'showSelectionToggleButton'.\n             * A checkbox is provided for each result item if the value is true.\n             * The setting is related to `resultviewMasterDetailMode` (master-detail mode). The event `showResultDetail` is fired whenever the detail button is clicked.\n             * @public\n             * @since 1.141.0\n             * @param {\"None\" | \"SingleSelect\" | \"MultiSelect\"} selectionMode The mode to control checkboxes of result view items.\n             */\n            resultviewSelectionMode: {\n                type: \"string\",\n                group: \"Misc\",\n                defaultValue: \"None\",\n                values: [\n                    { name: \"None\", key: \"None\" },\n                    { name: \"OneItem\", key: \"OneItem\" },\n                    { name: \"MultipleItems\", key: \"MultipleItems\" },\n                ],\n            },\n\n            /**\n             * Enables the selection toggle button in the search result list.\n             * The button is displayed on the top of search result view and allows to toggle the selection of all result items.\n             * The button is only displayed if the property 'resultviewSelectionMode' is not set to 'None'.\n             * @public\n             * @since 1.140.0\n             * @param {boolean} [showSelectionToggleButton=false] If true, shows a toggle button to show/hide selection indicators (checkboxes).\n             */\n            showSelectionToggleButton: {\n                type: \"boolean\",\n                group: \"Misc\",\n                defaultValue: false,\n            },\n\n            /**\n             * The maximum count of search result items displayed on a page after a search.\n             * By clicking 'Show More' button, another page of result items of the same count (if available) will be displayed.\n             * @since 1.96.0\n             */\n            pageSize: {\n                type: \"int\",\n                group: \"Misc\",\n                defaultValue: 10,\n            },\n\n            /**\n             * Callback for formatting the filter string to be displayed on the filter bar (for closed facet panel).\n             * @since 1.120\n             */\n            formatFilterBarText: {\n                type: \"function\",\n                group: \"Misc\",\n            },\n\n            /**\n             * Callback for checking whether the filter bar is visible.\n             * @since 1.120\n             */\n            isFilterBarVisible: {\n                type: \"function\",\n                group: \"Misc\",\n            },\n\n            /**\n             * Adds a callback function which is called whenever there is a user or a technical event.\n             * A user event is an event which is triggered by the user interaction with the UI, such as clicking.\n             * A technical event is an event which is triggered by the internal events or events which can also\n             * be triggered by API.\n             * @since 1.120\n             * @example\n             * <pre><code>\n             * const logEventConsumer = {\n             *     label: \"my log event consumer\",\n             *     logEvent: (event) => {\n             *         console.log(\"user event happened: \" + event.type)\n             *     }\n             *     logTechnicalEvent: (event) => {\n             *         console.log(\"technical event happened: \" + event.type)\n             *     }\n             * }\n             * mySearchCompositeControl.addEventConsumer(logEventConsumer);\n             * </code></pre>\n             */\n            eventConsumers: {\n                singularName: \"eventConsumer\",\n                multiple: true,\n                group: \"Misc\",\n            },\n\n            /**\n             * Limit for length of searchterm.\n             */\n            searchTermLengthLimit: {\n                type: \"int\",\n                group: \"Misc\",\n                defaultValue: 1000,\n            },\n\n            /**\n             * Prevents too many ajax requests in a short time.\n             */\n            limitAjaxRequests: {\n                type: \"boolean\",\n                group: \"Misc\",\n                defaultValue: true,\n            },\n        },\n        aggregations: {\n            /**\n             * Control instances which are part of this composite control.\n             * @private\n             */\n            content: {\n                singularName: \"content\",\n                multiple: true,\n            },\n        },\n        events: {\n            /**\n             * Event is fired when search is started.\n             * @since 1.121\n             */\n            searchStarted: {},\n\n            /**\n             * Event is fired when search is finished.\n             * @since 1.121\n             */\n            searchFinished: {},\n\n            /**\n             * Event is fired when selection on result view (list, table or grid) has changed.\n             * @since 1.142\n             */\n            // resultViewSelectionChanged: {},\n\n            /**\n             * Event is fired when selection on result view (list, table or grid) has changed.\n             * @since 1.121\n             * Will be deprecated as of version 1.142.0, use 'resultViewSelectionChanged' instead. The new event comes with more details about selected/deselected items.\n             */\n            selectionChanged: {},\n\n            /**\n             * Event is fired after result view type got changed (list, table or grid).\n             * @since 1.124\n             */\n            resultViewTypeChanged: {},\n\n            /**\n             * Event is fired after result view detail button is pressed (list, table or grid).\n             * To use this event, set the property 'resultviewMasterDetailMode' to 'true'.\n             * @since 1.140.0\n             */\n            showResultDetail: {},\n        },\n    };\n    errorHandler: ErrorHandler;\n    oSearchCompositeControlDragDropConfig: SearchCompositeControlDragDropConfig;\n    searchContainer: SearchLayoutResponsive;\n    // search field group\n    oSearchFieldGroup: SearchFieldGroup;\n    // filter bar\n    oFilterBar: SearchFilterBar;\n    // nlq explain bar\n    oNlqExplainBar: SearchNlqExplainBar;\n    // search bar\n    oSearchBar: OverflowToolbar;\n    oFilterButton: OverflowToolbarToggleButton;\n    oSelectionButton: OverflowToolbarToggleButton;\n    oDataSourceTabBar: IconTabBar;\n    oGenericItemsToolbar: OverflowToolbar;\n    resultViewSwitch: SegmentedButton;\n    // search results container(s)\n    oSearchResultContainer: SearchResultContainer;\n    oSearchResultPanel: SearchResultPanel;\n    resultView: Array<Control>;\n    countBreadcrumbsHiddenElement: InvisibleText;\n    showMoreFooter: FlexBox;\n    sortDialog: ViewSettingsDialog;\n    // context bar\n    oContextBar: Bar;\n    oContextBarContainer: VerticalLayout;\n    oSearchCountBreadcrumbs: Control;\n    // selection bar\n    oSearchSelectionBar: SearchSelectionBar;\n    // no results\n    noResultScreen: VBox; // needed for 'Destroy'\n    noResultScreenFolder: VBox; // needed for 'Destroy'\n    // result views\n    searchResultTable: SearchResultTable;\n    searchResultList: SearchResultList;\n    appResultListItem: CustomListItem;\n    searchResultGrid: SearchResultGrid;\n    searchSpreadsheet: SearchSpreadsheet;\n    appSearchResult: VerticalLayout;\n    oAppView: Control;\n    // footer\n    oFooter: OverflowToolbar;\n    oErrorPopover: MessagePopover;\n    oFocusHandler: SearchFocusHandler;\n\n    model: SearchModel;\n    toolbarAssembler: ToolbarAssembler;\n    resultViewsAssembler: ResultViewsAssembler;\n    private static eshCompCounter = 0;\n    private subscribeDone_SearchStarted: boolean;\n    private subscribeDone_SearchFinished: boolean;\n    private subscribeDone_SelectionChanged: boolean;\n    // private subscribeDone_ResultViewSelectionChanged: boolean;   ToDo, activate as of 1.142\n    private subscribeDone_ResultViewTypeChanged: boolean;\n    private subscribeDone_ShowResultDetail: boolean;\n\n    private _cssClass: string;\n    private _oLogger: Logger;\n    private initSearchPromise: Promise<void>;\n    private _onHashChangedHandler: () => void;\n    private isHashChangedAttached = false;\n\n    constructor(sId?: string, settings?: Partial<SearchConfigurationSettings>) {\n        const initialErrorHandler = ErrorHandler.getInstance({ label: sId });\n        let searchModel: SearchModel;\n        let createContentRunning = false;\n        try {\n            // unify input parameters\n            const unifiedParameters = SearchCompositeControl.unifyInputParameters(sId, settings);\n            sId = unifiedParameters.sId;\n            settings = unifiedParameters.settings;\n\n            // application component shall be provided (needed for error messages and supportability)\n            assert(\n                settings?.applicationComponent !== undefined && settings?.applicationComponent !== \"\",\n                `Provide property 'applicationComponent' (example: \"LOD-ANA-LS\").\\nRelevant for SAP partners and SAP, the \"Application Component\" you expect customers to create incidents.`\n            );\n\n            // if 'exclusiveDataSource' is provided, we (internally) set 'dataSource' and 'defaultDataSource' to same value.\n            // to prevent confusion, DO NOT provide 'dataSource' and 'defaultDataSource'\n            assert(\n                settings.exclusiveDataSource === undefined ||\n                    settings.exclusiveDataSource === \"\" ||\n                    ((settings.dataSource === undefined || settings.dataSource === \"\") &&\n                        (settings.defaultDataSource === undefined || settings.defaultDataSource === \"\")),\n                `Property 'exclusiveDataSource' is provided ('${settings.exclusiveDataSource}').\\nDo NOT provide properties 'dataSource' or 'defaultDataSource'.`\n            );\n\n            // create search model (within search model the SearchConfiguration is created and initialized with settings)\n            searchModel = settings[\"model\"] || settings[\"searchModel\"]; // ToDo, adjust flp/cflp, user 'searchModel' instead of 'model' (renamed because of syntax check errors with type of existing property 'model')\n            if (!searchModel) {\n                searchModel = new SearchModel({\n                    configuration: settings,\n                });\n            } else {\n                searchModel.config.id = sId; // FLP use case\n            }\n            initialErrorHandler.setSearchModel(searchModel);\n\n            // call super constructor with all UI5 relevant settings\n            const settingsKnownToUI5 = SearchCompositeControl.getUI5ControlSettings(searchModel.config);\n            super(sId, settingsKnownToUI5);\n            this.errorHandler = initialErrorHandler;\n\n            // init composite control\n            this._oLogger = Log.getLogger(\"sap.esh.search.ui.SearchCompositeControl\");\n            this.addStyleClass(\"sapUshellSearchInputHelpPage\"); // obsolete, but could be still used in some applications\n            this.addStyleClass(\"sapElisaSearchCompositeControl\");\n            if (searchModel.config.optimizeForValueHelp) {\n                this.addStyleClass(\"sapUshellSearchInputHelpPageValueHelp\");\n            }\n            this.setModelInternal(searchModel);\n            this.setModelInternal(searchModel.publicSearchModel, searchModel.publicSearchModel.modelName);\n            this.setModelInternal(new ResourceModel({ bundle: i18n }), \"i18n\");\n            const scc = this as SearchCompositeControl;\n            this.oFocusHandler = new SearchHelper.SearchFocusHandler(scc);\n            searchModel.focusHandler = this.oFocusHandler;\n            this.toolbarAssembler = new ToolbarAssembler(scc);\n            this.resultViewsAssembler = new ResultViewsAssembler(scc);\n\n            // create views\n            searchModel.config.performanceLogger?.enterMethod({ name: \"createContent\" }, { isSearch: true });\n            createContentRunning = true;\n            this.createContent();\n            searchModel.config.performanceLogger?.leaveMethod({ name: \"createContent\" });\n            createContentRunning = false;\n\n            // console.log(\"searchCompositeControl ID: \" + this.getId());\n\n            // drag&drop config (helper)\n            this.oSearchCompositeControlDragDropConfig = new SearchCompositeControlDragDropConfig({\n                eshComp: this,\n            });\n\n            ResizeHandler.register(this, () => {\n                this._resizeHandler();\n            });\n\n            this._onHashChangedHandler = () => {\n                this.closePopovers();\n            };\n            if (!this.isHashChangedAttached) {\n                RoutingHashChanger.getInstance().attachEvent(\"hashChanged\", this._onHashChangedHandler, this);\n                this.isHashChangedAttached = true;\n            }\n\n            // trigger async search init\n            this.initSearchPromise = this.initSearch();\n        } catch (error) {\n            initialErrorHandler.onError(error);\n            throw error;\n        } finally {\n            if (createContentRunning) {\n                searchModel.config.performanceLogger?.leaveMethod({\n                    name: \"createContent\",\n                });\n                createContentRunning = false;\n            }\n        }\n    }\n\n    public getPublicSina(): PublicSina {\n        return (this.getModelInternal() as SearchModel).sinaNext.getPublicSina();\n    }\n\n    getModel(sName?: string) {\n        // for internal use, see function 'getSearchModelInternal'\n        const callStack = new Error().stack;\n        if (\n            sName !== undefined ||\n            callStack.includes(\"._setModelInternal\") ||\n            callStack.includes(\"setModelInternal\") ||\n            callStack.includes(\"onAllSearchFinished\") ||\n            callStack.includes(\".updateBindingContext\") || // update of existing binding\n            callStack.includes(\".updatePropertyValue\") ||\n            callStack.includes(\"addContent\")\n        ) {\n            // OK, called by SearchCompositeControl, function setModelInternal\n        } else {\n            assert(\n                false,\n                `The main model of this control is private.\\nTo access the public search model, call function 'getPublicSearchModel' or bind to it (model name 'publicSearchModel').\\nThe main model of this control is private and cannot be accessed (for internal use, see function 'getSearchModelInternal').`\n            );\n        }\n        // for now, return the search model (remove this as all soon as stakeholders have migrated)\n        return this.getModelInternal(sName);\n    }\n\n    setModel(oModel: Model, sName?: string): this {\n        const oSearchModelInternal = this.getModelInternal() as SearchModel;\n        if (!sName) {\n            assert(false, `Main model cannot be set (for internal use, see function 'setModelInternal').`);\n            return this;\n        } else if (sName === oSearchModelInternal?.publicSearchModel?.modelName) {\n            assert(\n                false,\n                `Model cannot be set, name '${oSearchModelInternal?.publicSearchModel?.modelName}' is reserved for public search model (for internal use, see function 'setModelInternal').`\n            );\n            return this;\n        } else {\n            return super.setModel(oModel, sName);\n        }\n    }\n\n    private setModelInternal(oModel: Model, sName?: string) {\n        return super.setModel(oModel, sName);\n    }\n\n    private browserHasValidSearchUrl(): boolean {\n        const searchModel = this.getModelInternal() as SearchModel;\n        if (!searchModel.config.isSearchUrl(SearchHelper.getHashFromUrl())) {\n            return false;\n        }\n        const oParametersLowerCased = SearchHelper.getUrlParameters();\n        if (core.isEmptyObject(oParametersLowerCased)) {\n            return false;\n        }\n        return true;\n    }\n\n    private async initSearch() {\n        // log method entry\n        const searchModel = this.getModelInternal() as SearchModel;\n        searchModel.config.performanceLogger?.enterMethod({ name: \"init search\" }, { isSearch: true });\n\n        // init model\n        await searchModel.initAsync();\n\n        // start search\n        if (searchModel.config.updateUrl && this.browserHasValidSearchUrl()) {\n            // 1) via URL\n            await searchModel.searchUrlParser.parse();\n        } else if (this.getProperty(\"searchOnStart\") && !searchModel.config.isUshell) {\n            // 2) initial search\n            await this.search();\n        }\n\n        // log method leave\n        if (searchModel) {\n            searchModel.config.performanceLogger?.leaveMethod({\n                name: \"init search\",\n            });\n        }\n    }\n\n    private static getUI5ControlSettings(settings: SearchConfigurationSettings): $ControlSettings {\n        const settingsKnownToUI5: $ControlSettings = {}; // this is a subset of settings which contain only parameters and events (aggregations not relevant, there is only 'content') which are also in this controls metadata\n        // properties\n        const metadataProperties = SearchCompositeControl.getMetadata().getProperties();\n        for (const metadataProperty in metadataProperties) {\n            if (typeof settings[metadataProperty] === \"undefined\") {\n                continue;\n            }\n            settingsKnownToUI5[metadataProperty] = settings[metadataProperty];\n        }\n        // events (added 1.121)\n        const metadataEvents = SearchCompositeControl.getMetadata().getEvents();\n        for (const metadataEvent in metadataEvents) {\n            if (typeof settings[metadataEvent] === \"undefined\") {\n                continue;\n            }\n            settingsKnownToUI5[metadataEvent] = settings[metadataEvent];\n        }\n        // aggregations\n        // -> not relevant, we only have aggregation 'content' and this shall not be taken over\n        return settingsKnownToUI5;\n    }\n\n    private static unifyInputParameters(\n        sId: string,\n        settings: Partial<SearchConfigurationSettings>\n    ): { sId: string; settings: Partial<SearchConfigurationSettings> } {\n        // shift arguments in case sId was missing, but mSettings was given\n        if (typeof sId !== \"string\" && sId !== undefined && settings === undefined) {\n            settings = sId;\n            sId = settings && settings.id;\n        } else if (typeof settings === \"undefined\") {\n            settings = {};\n        }\n\n        // add sId to mSettings\n        if (typeof sId === \"string\" && sId.length > 0) {\n            settings.id = sId;\n        }\n\n        // no id -> create one\n        if (!sId || sId.length === 0) {\n            sId = \"eshComp\" + \"GenId_\" + SearchCompositeControl.eshCompCounter++;\n            settings.id = sId;\n        }\n\n        // check sId === mSettings.id\n        if (typeof sId === \"string\" && sId.length > 0 && typeof settings.id !== \"undefined\") {\n            if (sId !== settings.id) {\n                throw new Error(\n                    \"Constructor of component 'sap.esh.search.ui.SearchCompositeControl' has failed\\n\\n\" +\n                        \"sId and mSettings.id are not the same. It is sufficient to set either 'id' (sId) or 'settings.id' (mSettings.id).\"\n                );\n            }\n        }\n\n        return { sId, settings };\n    }\n\n    exit(): void {\n        if (this.isHashChangedAttached) {\n            RoutingHashChanger.getInstance().detachEvent(\"hashChanged\", this._onHashChangedHandler, this);\n            this.isHashChangedAttached = false;\n        }\n\n        if (this.oFilterBar) {\n            // ToDo: ugly workaround for \"ap22: duplicate id 'eshCompGenId_0-searchFilterBar'\"\n            // -> after adding a stable id to the filter bar, the existing memory clean-up issue became a duplicate id issue\n            this.oFilterBar.destroy();\n        }\n\n        if (this.noResultScreen) {\n            // in case a custom result screen is used, we need to explicitely destroy the default no result screen\n            // in the shadow dom of UI5. Otherwise a duplicate id exception will be thrown if search composite control\n            // is instantiated next time.\n            this.noResultScreen.destroy();\n        }\n\n        if (this.noResultScreenFolder) {\n            // in case a custom result screen is used, we need to explicitely destroy the default no result screen\n            // in the shadow dom of UI5. Otherwise a duplicate id exception will be thrown if search composite control\n            // is instantiated next time.\n            this.noResultScreenFolder.destroy();\n        }\n\n        // avoid to create same-id-TablePersoDialog by oTablePersoController.activate()\n        // destroy TablePersoDialog when exit search app\n        this.searchResultTable?.tablePersonalizer?.destroyControllerAndDialog();\n\n        if (this[\"oFacetDialog\"]) {\n            // oFacetDialog doesn't have id\n            // destroy oFacetDialog when exit search app anyway\n            this[\"oFacetDialog\"].destroy(); // ToDo\n            this[\"oFacetDialog\"] = null;\n        }\n\n        const oModel = this.getModelInternal() as SearchModel;\n        oModel.unsubscribe(UIEvents.ESHSearchStarted, this.onAllSearchStarted, this);\n        oModel.unsubscribe(UIEvents.ESHSearchFinished, this.onAllSearchFinished, this);\n        oModel.unsubscribe(UIEvents.ESHSelectionChanged, this.onSelectionChanged, this);\n        // oModel.unsubscribe(UIEvents.ESHResultViewTypeChanged, this.onResultViewTypeChanged, this); activate as of version 1.142.0\n        oModel.unsubscribe(UIEvents.ESHShowResultDetail, this.onShowResultDetail, this);\n    }\n\n    //#region create UI elements\n\n    static renderer = {\n        apiVersion: 2,\n    };\n\n    createContent(): void {\n        const oModel = this.getModelInternal() as SearchModel;\n\n        // create search container\n        if (!oModel.config.isUshell) {\n            this.oSearchFieldGroup = this.createSearchFieldGroup();\n        }\n\n        if (oModel?.subscribe) {\n            if (!this.subscribeDone_SearchStarted) {\n                oModel.subscribe(UIEvents.ESHSearchStarted, this.onAllSearchStarted, this);\n                this.subscribeDone_SearchStarted = true;\n            }\n            if (!this.subscribeDone_SearchFinished) {\n                oModel.subscribe(UIEvents.ESHSearchFinished, this.onAllSearchFinished, this);\n                this.subscribeDone_SearchFinished = true;\n            }\n            if (!this.subscribeDone_SelectionChanged) {\n                oModel.subscribe(UIEvents.ESHSelectionChanged, this.onSelectionChanged, this);\n                this.subscribeDone_SelectionChanged = true;\n            }\n            /* if (!this.subscribeDone_ResultViewSelectionChanged) {      ToDo, activate as of 1.142\n                oModel.subscribe(\n                    UIEvents.ESHResultViewSelectionChanged,\n                    this.onResultViewSelectionChanged,\n                    this\n                );\n                this.subscribeDone_ResultViewSelectionChanged = true;\n            } */\n            if (!this.subscribeDone_ResultViewTypeChanged) {\n                oModel.subscribe(UIEvents.ESHResultViewTypeChanged, this.onResultViewTypeChanged, this);\n                this.subscribeDone_SelectionChanged = true;\n            }\n            if (!this.subscribeDone_ShowResultDetail) {\n                oModel.subscribe(UIEvents.ESHShowResultDetail, this.onShowResultDetail, this);\n                this.subscribeDone_ShowResultDetail = true;\n            }\n        }\n\n        this.oFilterButton = this.toolbarAssembler.assembleFilterButton();\n        this.oDataSourceTabBar = this.toolbarAssembler.assembleDataSourceTabBar();\n        const genericButtonsToolbarData = this.toolbarAssembler.assembleGenericButtonsToolbar();\n        let toolbarLeftContent: Array<Control>;\n        if (\n            oModel?.config?.showSelectionToggleButton === true &&\n            oModel?.config?.resultviewSelectionMode !== SelectionMode.None\n        ) {\n            this.oSelectionButton = this.toolbarAssembler.assembleResultviewSelectionButton();\n        }\n        if (oModel?.config?.facetToggleButtonLocation === \"End\") {\n            toolbarLeftContent = [new ToolbarSpacer(), this.oDataSourceTabBar];\n            this.oGenericItemsToolbar = genericButtonsToolbarData.toolbar;\n            this.oGenericItemsToolbar.addContent(this.oFilterButton);\n        } else {\n            toolbarLeftContent = [this.oFilterButton, this.oDataSourceTabBar];\n            this.oGenericItemsToolbar = genericButtonsToolbarData.toolbar;\n        }\n        this.oGenericItemsToolbar.addContent(this.oSelectionButton);\n        const searchBarContent = toolbarLeftContent.concat(this.oGenericItemsToolbar);\n        this.oSearchBar = new OverflowToolbar(this.getId() + \"-searchBar\", {\n            width: \"100%\",\n            visible: {\n                parts: [{ path: \"/count\" }],\n                formatter: (count) => {\n                    return count !== 0 || oModel?.config?.showSearchBarForNoResults;\n                },\n            },\n            content: searchBarContent,\n            design: ToolbarDesign.Transparent,\n        });\n        this.oSearchBar.addStyleClass(\"sapUshellSearchBar\");\n        if (genericButtonsToolbarData.hasCustomButtons) {\n            this.oDataSourceTabBar.addStyleClass(\"sapUshellSearchBarHasCustomButtons\");\n        } else {\n            this.oDataSourceTabBar.removeStyleClass(\"sapUshellSearchBarHasCustomButtons\");\n        }\n        if (oModel.config.optimizeForValueHelp) {\n            this.oSearchBar.addStyleClass(\"sapUshellSearchBarValueHelp\");\n        }\n\n        this.oNlqExplainBar = new SearchNlqExplainBar(this.getId() + \"-nlqExplainBar\", {\n            visible: {\n                parts: [\n                    {\n                        path: \"/nlqResult/success\",\n                    },\n                    {\n                        path: \"/isBusy\",\n                    },\n                ],\n                formatter: (success, isBusy) => {\n                    const cfg = (this.getModelInternal() as SearchModel).config;\n                    return !!success && !isBusy && cfg.aiNlqExplainBar;\n                },\n            },\n        });\n\n        this.oFilterBar = new SearchFilterBar(this.getId() + \"-searchFilterBar\");\n        this.createSearchPage(this.getId());\n    }\n\n    createSearchFieldGroup(): SearchFieldGroup {\n        const oModel = this.getModelInternal() as SearchModel;\n        if (oModel.config.isWebCompSearchFieldGroupEnabled()) {\n            return this.createWebCompSearchFieldGroup();\n        } else {\n            return this.createClassicSearchFieldGroup();\n        }\n    }\n\n    createWebCompSearchFieldGroup(): SearchFieldGroup {\n        const oSearchFieldGroup = new Search(\"searchFieldInShell\");\n        createWebCompSearchFieldGroupBindings(oSearchFieldGroup);\n        return oSearchFieldGroup as SearchFieldGroup;\n    }\n\n    createClassicSearchFieldGroup(): SearchFieldGroup {\n        const oModel = this.getModelInternal() as SearchModel;\n        const oSearchFieldGroup = new SearchFieldGroup(this.getId() + \"-searchInputHelpPageSearchFieldGroup\");\n        if (oModel.config.exclusiveDataSource) {\n            oSearchFieldGroup.setSelectActive(false);\n        }\n        oSearchFieldGroup.setCancelButtonActive(false);\n        oSearchFieldGroup.addStyleClass(\"sapUshellSearchInputHelpPageSearchFieldGroup\");\n        oSearchFieldGroup.input.setShowValueHelp(false);\n\n        oModel.setProperty(\"/inputHelp\", oSearchFieldGroup.input);\n\n        if (oModel.config.optimizeForValueHelp) {\n            oSearchFieldGroup.setActionsMenuButtonActive(true);\n            oSearchFieldGroup.setSelectQsDsActive(true);\n            oSearchFieldGroup.addStyleClass(\"sapUiTinyMarginBegin\");\n            oSearchFieldGroup.addStyleClass(\"sapUiTinyMarginEnd\");\n        }\n\n        return oSearchFieldGroup;\n    }\n\n    onAfterRendering(): void {\n        const oModel = this?.getModelInternal() as SearchModel;\n        if (oModel?.subscribe) {\n            // search started\n            if (!this.subscribeDone_SearchStarted) {\n                oModel.subscribe(UIEvents.ESHSearchStarted, this.onAllSearchStarted, this);\n                this.subscribeDone_SearchStarted = true;\n            }\n            // search finished\n            if (!this.subscribeDone_SearchFinished) {\n                oModel.subscribe(UIEvents.ESHSearchFinished, this.onAllSearchFinished, this);\n                this.subscribeDone_SearchFinished = true;\n            }\n            // selection changed\n            if (!this.subscribeDone_SelectionChanged) {\n                oModel.subscribe(UIEvents.ESHSelectionChanged, this.onSelectionChanged, this);\n                this.subscribeDone_SelectionChanged = true;\n            }\n            // result view selection changed\n            /* if (!this.subscribeDone_ResultViewSelectionChanged) {  ToDo, activate as of 1.142\n                oModel.subscribe(UIEvents.ESHResultViewSelectionChanged, this.onResultViewSelectionChanged, this);\n                this.subscribeDone_ResultViewSelectionChanged = true;\n            } */\n            // result view type changed\n            if (!this.subscribeDone_ResultViewTypeChanged) {\n                oModel.subscribe(UIEvents.ESHResultViewTypeChanged, this.onResultViewTypeChanged, this);\n                this.subscribeDone_ResultViewTypeChanged = true;\n            }\n            // show result detail\n            if (!this.subscribeDone_ShowResultDetail) {\n                oModel.subscribe(UIEvents.ESHShowResultDetail, this.onShowResultDetail, this);\n                this.subscribeDone_ShowResultDetail = true;\n            }\n        }\n    }\n\n    isShowMoreFooterVisible(): boolean {\n        const oModel = this.getModelInternal() as SearchModel;\n        return oModel.getProperty(\"/boCount\") > oModel.getProperty(\"/boResults\").length;\n    }\n\n    // #endregion\n    // #region drag and drop\n\n    assignDragDropConfig(): void {\n        this.oSearchCompositeControlDragDropConfig.assignDragDropConfig();\n    }\n\n    override addDragDropConfig(oDragDropConfig: DragDropBase): this {\n        return this.oSearchCompositeControlDragDropConfig.addDragDropConfig(oDragDropConfig);\n    }\n\n    override insertDragDropConfig(oDragDropConfig: DragDropBase, iIndex: number): this {\n        return this.oSearchCompositeControlDragDropConfig.insertDragDropConfig(oDragDropConfig, iIndex);\n    }\n\n    override indexOfDragDropConfig(oDragDropConfig: DragDropBase): number {\n        return this.oSearchCompositeControlDragDropConfig.indexOfDragDropConfig(oDragDropConfig);\n    }\n\n    override getDragDropConfig(): Array<DragDropBase> {\n        return this.oSearchCompositeControlDragDropConfig.getDragDropConfig();\n    }\n\n    override removeDragDropConfig(vDragDropConfig: DragDropBase | string | number): DragDropBase {\n        return this.oSearchCompositeControlDragDropConfig.removeDragDropConfig(vDragDropConfig);\n    }\n\n    override removeAllDragDropConfig(): Array<DragDropBase> {\n        return this.oSearchCompositeControlDragDropConfig.removeAllDragDropConfig();\n    }\n\n    override destroyDragDropConfig(): this {\n        return this.oSearchCompositeControlDragDropConfig.destroyDragDropConfig();\n    }\n\n    // #endregion\n\n    onAllSearchStarted(): void {\n        this.fireEvent(\"searchStarted\");\n    }\n\n    onAllSearchFinished(): void {\n        const oModel = this.getModelInternal() as SearchModel;\n        this.assignDragDropConfig(); // reassign drag&drop config (result view regenerated/switched)\n        this.chooseNoResultScreen(); // there can be custom no-result-screems, depending on data source\n        this.oFocusHandler.setFocus();\n        // the search-app container of FLP has ID \"viewPortContainer\"\n        if (oModel.config.isUshell) {\n            const viewPortContainer = Element.getElementById(\"viewPortContainer\") as any; // sap.ushell.ui.AppContainer\n            if (viewPortContainer?.switchState) {\n                viewPortContainer.switchState(\"Center\");\n            }\n        }\n        this.fireEvent(\"searchFinished\");\n\n        // optimize layout (css)\n        setTimeout(() => {\n            // search toolbar ('overflow' of buttons at the right)\n            this.adjustSearchbarCustomGenericButtonWidth();\n        }, 0);\n    }\n\n    onSelectionChanged(): void {\n        this.fireEvent(\"selectionChanged\");\n    }\n\n    /* onResultViewSelectionChanged(): void {\n        this.fireEvent(\"resultViewSelectionChanged\");   ToDo, activate and complete implementation as of UI5 1.142\n    } */\n\n    onResultViewTypeChanged(): void {\n        this.fireEvent(\"resultViewTypeChanged\");\n    }\n\n    onShowResultDetail(): void {\n        this.fireEvent(\"showResultDetail\");\n    }\n\n    // create content\n    // ===================================================================\n    createSearchPage(idPrefix: string): void {\n        const oModel = this.getModelInternal() as SearchModel;\n        this.oFilterBar.bindProperty(\"visible\", {\n            parts: [{ path: \"/count\" }, { path: \"/facetVisibility\" }, { path: \"/uiFilter/rootCondition\" }],\n            formatter: (count: number, facetVisibility: boolean, rootCondition: ComplexCondition) => {\n                let filterBarVisible = false;\n                if (!facetVisibility && rootCondition && rootCondition.hasFilters()) {\n                    filterBarVisible = true;\n                }\n                // There are conditions only from static hierarchy facet (Collection area), no condition from dynamic static facet or attribute facet ('Filter By' area).\n                // Hide the filter bar\n                if (rootCondition && oModel.hasStaticHierarchyFacetFilterConditionOnly()) {\n                    filterBarVisible = false;\n                }\n                // exit isFilterBarVisible\n                if (rootCondition && typeof oModel.config.isFilterBarVisible === \"function\") {\n                    try {\n                        if (!oModel.config.isFilterBarVisible(rootCondition)) {\n                            filterBarVisible = false;\n                        }\n                    } catch (error) {\n                        const oError = new errors.ConfigurationExitError(\n                            \"isFilterBarVisible\",\n                            oModel.config.applicationComponent,\n                            error\n                        );\n                        this.errorHandler.onError(oError);\n                    }\n                }\n                return filterBarVisible;\n            },\n        });\n\n        this.oFooter = this.createFooter(this.getId()); // not available for device type 'phone'\n        if (this.oFooter) {\n            this.oFooter.bindProperty(\"visible\", {\n                parts: [{ path: \"/errors/length\" }],\n                formatter: (numberErrors: number): boolean => {\n                    const footerVisible = numberErrors > 0 ? true : false;\n                    return footerVisible;\n                },\n            });\n        }\n\n        this.searchContainer = this.createSearchContainer(idPrefix);\n        let searchPageItems = [];\n        if (this.oSearchFieldGroup && oModel?.config?.searchInputLocation === \"Top\") {\n            searchPageItems.push(this.oSearchFieldGroup);\n        }\n        searchPageItems = searchPageItems.concat([\n            this.oSearchBar,\n            this.oNlqExplainBar,\n            this.oFilterBar,\n            this.searchContainer,\n            this.oFooter,\n        ]);\n\n        for (const searchPageItem of searchPageItems) {\n            this.addContent(searchPageItem);\n        }\n        this.setWidth(\"100%\");\n    }\n\n    private createNoResultScreen(idPrefix: string, type: \"default\" | \"folder\"): VBox {\n        const additionalContent = [];\n        const illustrationSize = IllustratedMessageSize.Auto;\n        let title;\n        let description;\n        let illustrationType;\n        if (type === \"folder\") {\n            title = {\n                parts: [{ path: \"/queryFilter/searchTerm\" }],\n                formatter: (searchTerm) => i18n.getText(\"no_results_info_1_folderEmpty\", [searchTerm]),\n            };\n            description = i18n.getText(\"no_results_info_2_folderEmpty\");\n            illustrationType = IllustratedMessageType.EmptyList;\n        } else {\n            title = {\n                parts: [{ path: \"/queryFilter/searchTerm\" }],\n                formatter: (searchTerm) => i18n.getText(\"no_results_info_1\", [searchTerm]),\n            };\n            description = i18n.getText(\"no_results_info_2\");\n            illustrationType = IllustratedMessageType.NoSearchResults;\n        }\n        const illustratedMessageSettings: $IllustratedMessageSettings = {\n            title: title,\n            description: description,\n            illustrationSize: illustrationSize,\n            illustrationType: illustrationType,\n            additionalContent: additionalContent,\n        };\n        let noResultsScreenIdPrefix;\n        if (type === \"folder\") {\n            noResultsScreenIdPrefix = `${idPrefix}-searchContainerResultsView-noResultFolderScreen`;\n        } else {\n            noResultsScreenIdPrefix = `${idPrefix}-searchContainerResultsView-noResultScreen`;\n        }\n        const oIllustratedMessage = new IllustratedMessage(\n            `${noResultsScreenIdPrefix}-searchContainerResultsView-noResultScreen-illustratedMessage`,\n            illustratedMessageSettings\n        ).addStyleClass(\"sapElisaNoResultScreen\");\n        oIllustratedMessage.addStyleClass(\"sapUiMediumMarginTop\");\n        const noResultScreen = new VBox(\n            `${noResultsScreenIdPrefix}-searchContainerResultsView-noResultScreen`,\n            {\n                items: oIllustratedMessage,\n                width: \"100%\",\n                justifyContent: FlexJustifyContent.Center,\n                visible: {\n                    parts: [{ path: \"/count\" }, { path: \"/isBusy\" }, { path: \"/firstSearchWasExecuted\" }],\n                    formatter: function (count, isBusy, firstSearchWasExecuted) {\n                        return count === 0 && !isBusy && firstSearchWasExecuted;\n                    },\n                },\n            }\n        );\n        if (type === \"folder\") {\n            this.noResultScreenFolder = noResultScreen;\n        } else {\n            this.noResultScreen = noResultScreen;\n        }\n        return noResultScreen;\n    }\n\n    createSearchContainer(idPrefix: string): SearchLayoutResponsive {\n        const oModel = this.getModelInternal() as SearchModel;\n\n        // total count hidden element for ARIA purposes\n        this.countBreadcrumbsHiddenElement =\n            this.resultViewsAssembler.assembleCountBreadcrumbsHiddenElement();\n\n        // center area\n        this.resultView = this.resultViewsAssembler.assembleResultView(idPrefix);\n\n        // main result list\n        this.oSearchCountBreadcrumbs = new SearchCountBreadcrumbs(\n            this.getId() + \"-SearchCountBreadcrumbs\"\n        ).addStyleClass(\"sapElisaSearchContextBarContent\");\n        this.oContextBar = new Bar(this.getId() + \"-searchContextBar\", {\n            contentLeft: this.oSearchCountBreadcrumbs,\n            design: {\n                parts: [\n                    {\n                        path: \"/isFolderMode\",\n                    },\n                ],\n                formatter: (isFolderMode: boolean): string => {\n                    if (oModel.config.folderMode === true && isFolderMode === true) {\n                        this.oContextBar.addStyleClass(\"sapElisaSearchContextBarFolderMode\");\n                    } else {\n                        this.oContextBar.removeStyleClass(\"sapElisaSearchContextBarFolderMode\");\n                    }\n                    return BarDesign.Auto;\n                },\n            },\n        }).addStyleClass(\"sapElisaSearchContextBar\");\n        this.oSearchSelectionBar = new SearchSelectionBar(this.getId() + \"-searchSelectionBar\");\n        this.oContextBarContainer = new VerticalLayout(\"\", {\n            content: [this.oSearchSelectionBar, this.oContextBar],\n        });\n        this.oContextBarContainer.enhanceAccessibilityState = function (oElement, mAriaProps) {\n            mAriaProps[\"role\"] = \"heading\";\n            mAriaProps[\"level\"] = 2;\n        };\n        this.oContextBarContainer.addStyleClass(\"sapElisaSearchContextBarContainer\");\n        this.oContextBarContainer.addStyleClass(\"sapUiNoMarginBegin\");\n        this.oContextBarContainer.addStyleClass(\"sapUiNoMarginEnd\");\n        this.oSearchResultContainer = new SearchResultContainer(`${idPrefix}-searchContainerResultsView`);\n        this.oSearchResultContainer.setNoResultScreen(this.createNoResultScreen(idPrefix, \"default\"));\n        this.resultView.push(this.oSearchResultContainer.getNoResultScreen());\n        this.resultView.forEach((element) => {\n            this.oSearchResultContainer.addContent(element);\n        });\n        this.oSearchResultPanel = new SearchResultPanel(`${idPrefix}-searchResultPanel`, {\n            fixContent: [this.oContextBarContainer],\n            flexContent: this.oSearchResultContainer,\n        });\n\n        // container for normal search, result view and facets\n        const searchLayoutResponsiveSettings: Partial<$SearchLayoutResponsiveSettings> = {\n            resultPanelContent: this.oSearchResultPanel,\n            searchIsBusy: { path: \"/isBusy\" },\n            busyDelay: { path: \"/busyDelay\" },\n            // facets\n            facetPanelResizable: oModel.config.facetPanelResizable,\n            facetPanelWidthInPercent: oModel.config.facetPanelWidthInPercent,\n            facetPanelContent: new SearchFacetList(`${this.getId()}-SearchFacetList`),\n            showFacets: {\n                parts: [{ path: \"/facetVisibility\" }],\n                formatter: (facetVisibility): boolean => {\n                    if (!facetVisibility) {\n                        return false;\n                    }\n                    return true;\n                },\n            },\n        };\n        const searchLayout = new SearchLayoutResponsive(\n            `${this.getId()}-searchLayout`,\n            searchLayoutResponsiveSettings\n        ).addStyleClass(\"sapUshellSearchLayout\");\n\n        return searchLayout;\n    }\n\n    isSearchFieldGroupLocatedInsideSearchComposite(currentControlDomRef?: HTMLElement | ParentNode): boolean {\n        // check if the search field group is a child of the SearchCompositeControl\n        if (typeof currentControlDomRef === \"undefined\" || currentControlDomRef === null) {\n            // null: before first rendering\n            return false;\n        } else if ((currentControlDomRef as HTMLElement).classList) {\n            if ((currentControlDomRef as HTMLElement).classList.contains(\"sapUshellSearchInputHelpPage\")) {\n                return true;\n            } else if (typeof currentControlDomRef.parentNode !== \"undefined\") {\n                return this.isSearchFieldGroupLocatedInsideSearchComposite(currentControlDomRef.parentNode);\n            } else {\n                console.error(\n                    \"function: isSearchFieldGroupLocatedInsideSearchComposite: Element has no property 'parentNode' but has property 'classlist'\"\n                );\n                return false;\n            }\n        } else if (currentControlDomRef.nodeType === Node.DOCUMENT_NODE) {\n            // document node (root)\n            return false;\n        } else {\n            console.error(\n                \"function: isSearchFieldGroupLocatedInsideSearchComposite: Element has no property 'classlist'\"\n            );\n            return false;\n        }\n    }\n\n    adjustSearchbarCustomGenericButtonWidth(): void {\n        if (this.getDomRef() === null) {\n            return; // SearchCompositeControl not rendered ---postponed attachment to dom or not at all (unit tests)\n        }\n        if (this.oFilterButton.getVisible() && this.oFilterButton.getDomRef() === null) {\n            return; // not yet rendered\n        }\n        const searchCompositeControlSizes = window.document\n            .getElementById(this.getDomRef().id)\n            .getBoundingClientRect();\n        const filterButtonWidth = this.oFilterButton.getVisible()\n            ? window.document.getElementById(this.oFilterButton.getDomRef().id).getBoundingClientRect().width\n            : 0;\n        let dataSourceTabBarWidthPx = 0;\n        if (this.oDataSourceTabBar.getVisible()) {\n            const totalTextLength = this.oDataSourceTabBar\n                .getItems()\n                .reduce((accumulator, item) => accumulator + item[\"getText\"]().length, 0);\n            if (totalTextLength < 20) {\n                // tiny\n                this.oDataSourceTabBar.addStyleClass(\"searchDataSourceTabStripBarTinyItemsTextLength\");\n                this.oDataSourceTabBar.removeStyleClass(\"searchDataSourceTabStripBarMediumItemsTextLength\");\n            } else if (totalTextLength < 45) {\n                // medium\n                this.oDataSourceTabBar.addStyleClass(\"searchDataSourceTabStripBarMediumItemsTextLength\");\n                this.oDataSourceTabBar.removeStyleClass(\"searchDataSourceTabStripBarTinyItemsTextLength\");\n            } else {\n                // default\n                this.oDataSourceTabBar.removeStyleClass(\"searchDataSourceTabStripBarTinyItemsTextLength\");\n                this.oDataSourceTabBar.removeStyleClass(\"searchDataSourceTabStripBarMediumItemsTextLength\");\n            }\n            const dataSourceTabBarDomRef = this.oDataSourceTabBar.getDomRef();\n            if (dataSourceTabBarDomRef?.id) {\n                dataSourceTabBarWidthPx = window.document\n                    .getElementById(dataSourceTabBarDomRef.id)\n                    .getBoundingClientRect().width;\n            } else {\n                // data source tab bar not rendered any longer because of i.e. window/container width less than 500px (see media query)\n                // nothing to do, default value dataSourceTabBarWidthPx = 0 is OK\n            }\n        }\n        const genericToolbarWidthPx =\n            searchCompositeControlSizes.width - filterButtonWidth - dataSourceTabBarWidthPx;\n        const genericToolbarWidthRem = this.convertPixelToRem(genericToolbarWidthPx);\n        if (dataSourceTabBarWidthPx === 0) {\n            if (genericToolbarWidthRem < 30) {\n                this.oGenericItemsToolbar.setWidth(`${genericToolbarWidthRem - 1.1}rem`);\n            } else {\n                this.oGenericItemsToolbar.setWidth(`${genericToolbarWidthRem - 3.0}rem`);\n            }\n        } else {\n            this.oGenericItemsToolbar.setWidth(`${genericToolbarWidthRem - 2.75}rem`);\n        }\n    }\n\n    _resizeHandler() {\n        // search toolbar ('overflow' of buttons at the right)\n        setTimeout(() => this.adjustSearchbarCustomGenericButtonWidth(), 0);\n    }\n\n    convertPixelToRem(pxValue: number): number {\n        return pxValue / parseFloat(getComputedStyle(document.documentElement).fontSize);\n    }\n\n    createFooter(idPrefix: string): OverflowToolbar {\n        const oModel = this.getModelInternal() as SearchModel;\n\n        // create error message popover\n        this.oErrorPopover = new MessagePopover(\n            idPrefix + \"-\" + messagePopoverId++ + \"-\" + \"-searchMessagePopover\",\n            {\n                placement: PlacementType.Top,\n            }\n        );\n        this.oErrorPopover.setModel(oModel);\n\n        oModel.setProperty(\"/messagePopoverControlId\", this.oErrorPopover.getId());\n\n        this.oErrorPopover.bindAggregation(\"items\", {\n            path: \"/errors\",\n            factory: () => {\n                const item = new MessageItem(\"\", {\n                    type: \"{type}\",\n                    title: \"{title}\",\n                    description: \"{description}\",\n                });\n                return item;\n            },\n        });\n\n        // create error message popover button\n        const oErrorButton = new Button(this.getId() + \"-searchErrorButton\", {\n            icon: IconPool.getIconURI(\"alert\"),\n            text: {\n                parts: [{ path: \"/errors/length\" }],\n                formatter: function (length) {\n                    return length;\n                },\n            },\n            visible: {\n                parts: [{ path: \"/errors/length\" }],\n                formatter: (length) => {\n                    return length > 0;\n                },\n                mode: BindingMode.OneWay,\n            },\n            type: ButtonType.Emphasized,\n            tooltip: i18n.getText(\"errorBtn\"),\n            press: () => {\n                if (this.oErrorPopover.isOpen()) {\n                    this.oErrorPopover.close();\n                } else {\n                    this.oErrorPopover.setVisible(true);\n                    this.oErrorPopover.openBy(oErrorButton);\n                }\n            },\n        });\n        oErrorButton.addStyleClass(\"sapUiSmallMarginBegin\");\n        oErrorButton[\"addDelegate\"]({\n            onAfterRendering: () => {\n                const oModel = this.getModelInternal() as SearchModel;\n                if (!oModel.getProperty(\"/isErrorPopovered\")) {\n                    // automatically open the error popup (only after first rendering of button)\n                    oErrorButton.firePress();\n                    oModel.setProperty(\"/isErrorPopovered\", true);\n                }\n            },\n        });\n\n        oErrorButton.setLayoutData(\n            new OverflowToolbarLayoutData(\"\", {\n                priority: OverflowToolbarPriority.NeverOverflow,\n            })\n        );\n\n        // create footer bar\n        const footer = new OverflowToolbar(this.getId() + \"-searchFooter\", {\n            content: [oErrorButton],\n        });\n        footer.addStyleClass(\"sapUiTinyMarginTop\");\n\n        return footer;\n    }\n\n    chooseNoResultScreen(): void {\n        // update \"no result screen\"\n        const oModel = this.getModelInternal() as SearchModel;\n        let noResultScreen;\n        if (typeof oModel?.config?.getCustomNoResultScreen === \"function\") {\n            try {\n                const customNoResultScreen = oModel.config.getCustomNoResultScreen(\n                    oModel.getDataSource(),\n                    oModel\n                );\n                if (customNoResultScreen && customNoResultScreen.isDestroyed()) {\n                    const oError = new errors.ConfigurationExitError(\n                        \"getCustomNoResultScreen\",\n                        oModel.config.applicationComponent,\n                        new Error(\n                            `The 'no results screen' instance provided by exit 'getCustomNoResultScreen' is already destroyed.\\nWe have switched to standard 'no results screen'.\\nFor stability reasons, we are destroying old instances with each roundtrip unless custom 'no results screen' instance stays the same.\\nThis is needed to keep a cleaned-up dom with no ghost instances (i.e. still described to events).`\n                        )\n                    );\n                    this.errorHandler.onError(oError);\n                    // do not throw oError, use standard 'no results screen'\n                    noResultScreen = this.oSearchResultContainer.getNoResultScreen();\n                }\n                // if needed, destroy 'no results screen' instance\n                const currentNoResultsPage = this.oSearchResultContainer.getNoResultScreen();\n                if (\n                    currentNoResultsPage !== this.noResultScreenFolder &&\n                    currentNoResultsPage !== this.noResultScreen &&\n                    currentNoResultsPage !== customNoResultScreen\n                ) {\n                    if (currentNoResultsPage instanceof Control) {\n                        currentNoResultsPage.destroy();\n                    }\n                }\n                noResultScreen = customNoResultScreen;\n            } catch (err) {\n                const oError = new errors.ConfigurationExitError(\n                    \"getCustomNoResultScreen\",\n                    oModel.config.applicationComponent,\n                    err\n                );\n                this.errorHandler.onError(oError);\n                // do not throw oError, use standard 'no results screen'\n                noResultScreen = this.oSearchResultContainer.getNoResultScreen();\n            }\n        }\n        if (!noResultScreen) {\n            if (oModel.getProperty(\"/isFolderMode\")) {\n                if (!this.noResultScreenFolder) {\n                    this.noResultScreenFolder = this.createNoResultScreen(this.getId(), \"folder\");\n                }\n                noResultScreen = this.noResultScreenFolder;\n            } else {\n                noResultScreen = this.noResultScreen;\n            }\n        }\n        this.oSearchResultContainer.setNoResultScreen(noResultScreen);\n    }\n\n    openSortDialog() {\n        // issue: selection information is lost by clicking cancel, multiple reset selection in UI5\n        // workaround: rebind sort items by opening dialog\n        this.sortDialog.unbindAggregation(\"sortItems\", false);\n        this.sortDialog.bindAggregation(\"sortItems\", {\n            path: \"/sortableAttributes\",\n            factory: (): ViewSettingsItem => {\n                return new ViewSettingsItem(\"\", {\n                    key: { path: \"key\" },\n                    text: { path: \"name\" },\n                    selected: { path: \"selected\" },\n                });\n            },\n        });\n        this.sortDialog.open();\n    }\n\n    openShowMoreDialog(dimension?: string) {\n        openShowMoreDialog({\n            searchModel: this.getModelInternal() as SearchModel,\n            dimension: dimension,\n            selectedTabBarIndex: 0,\n            tabBarItems: undefined,\n            sourceControl: this,\n        });\n    }\n\n    // #region public API\n\n    /**\n     * Parse the browser URL, update properties and trigger search call (if needed)\n     * @public\n     * @this sap.esh.search.ui.SearchCompositeControl\n     * @since 1.122.0\n     * @returns this\n     */\n    parseURL(): SearchCompositeControl {\n        (this.getModelInternal() as SearchModel).parseURL();\n        return this;\n    }\n\n    /**\n     * Get the public part of the search model (JSON)\n     * In general the model is read-only but a few properties can be modified.\n     * Modifiable properties (i.e. consumtion via two-way binding):\n     *  - 'results[i].data.selected'\n     * For binding use model 'publicSearchModel' (i.e. \"publicSearchModel>results/...\")\n     * @public\n     * @this sap.esh.search.ui.SearchCompositeControl\n     * @since 1.122.0\n     * @returns {object} A JSON model containing public artefacts of internal search model\n     */\n    public getPublicSearchModel(): PublicSearchModel {\n        return this.getModelInternal(\"publicSearchModel\") as PublicSearchModel;\n    }\n\n    /**\n     * Get activation status of master detail mode\n     * @public\n     * @this sap.esh.search.ui.SearchCompositeControl\n     * @since 1.141.0\n     * @returns {boolean} The activation status of master detail mode\n     */\n    public getResultviewMasterDetailMode(): boolean {\n        const oModel = this.getModelInternal() as SearchModel;\n        if (typeof oModel === \"undefined\" || typeof oModel.config === \"undefined\") {\n            // if search model hasn't been instantiated yet (see constructor of SearchCompositeControl)\n            // -> do nothing!\n            return undefined;\n        }\n        return oModel.getProperty(\"/config/resultviewMasterDetailMode\");\n    }\n\n    /**\n     * Set activation status of master detail mode\n     * @public\n     * @this sap.esh.search.ui.SearchCompositeControl\n     * @since 1.141.0\n     * @returns this\n     */\n    public setResultviewMasterDetailMode(bMasterDetailMode: boolean): SearchCompositeControl {\n        const oModel = this.getModelInternal() as SearchModel;\n        if (typeof oModel === \"undefined\" || typeof oModel.config === \"undefined\") {\n            // if search model hasn't been instantiated yet (see constructor of SearchCompositeControl)\n            // -> do nothing!\n            return this;\n        }\n        oModel.setProperty(\"/config/resultviewMasterDetailMode\", bMasterDetailMode);\n        return this;\n    }\n\n    /**\n     * Get result view selection mode ('None', 'OneItem', 'MultipleItems')\n     * @public\n     * @this sap.esh.search.ui.SearchCompositeControl\n     * @since 1.141.0\n     * @returns {string} The result view selection mode\n     */\n    public getResultviewSelectionMode(): boolean {\n        const oModel = this.getModelInternal() as SearchModel;\n        if (typeof oModel === \"undefined\" || typeof oModel.config === \"undefined\") {\n            // if search model hasn't been instantiated yet (see constructor of SearchCompositeControl)\n            // -> do nothing!\n            return undefined;\n        }\n        return oModel.getProperty(\"/config/resultviewSelectionMode\");\n    }\n\n    /**\n     * Set result view selection mode ('None', 'OneItem', 'MultipleItems')\n     * @public\n     * @this sap.esh.search.ui.SearchCompositeControl\n     * @since 1.141.0\n     * @returns this\n     */\n    public setResultviewSelectionMode(selectionMode: SelectionMode): SearchCompositeControl {\n        const oModel = this.getModelInternal() as SearchModel;\n        if (typeof oModel === \"undefined\" || typeof oModel.config === \"undefined\") {\n            // if search model hasn't been instantiated yet (see constructor of SearchCompositeControl)\n            // -> do nothing!\n            return this;\n        }\n        oModel.setProperty(\"/config/resultviewSelectionMode\", selectionMode);\n        return this;\n    }\n\n    /**\n     * Get the internal search model (JSON)\n     * In general the internal search model shall not be accessed by consumers of SearchCompositeControl\n     * The preferred consumption of search model data is to use public search model 'publicSearchModel' (i.e. \"publicSearchModel>results/...\"), also see function getPublicSearchModel\n     * @public\n     * @this sap.esh.search.ui.SearchCompositeControl\n     * @since 1.122.0\n     * @returns {object} A JSON model containing public artefacts of internal search model\n     */\n    public getModelInternal(sName?: string) {\n        return super.getModel(sName);\n    }\n\n    /**\n     * Gets the set of result items\n     * @public\n     * @this sap.esh.search.ui.SearchCompositeControl\n     * @since 1.114.0\n     * @returns {object} The result set containg 'items'.\n     */\n    getSearchResultSet(): ResultSet {\n        // search never finished (search running, searchOnStart = false or no sinaConfiguration.provider n.a.)\n        // -> return empty result set\n        let resultSet;\n        const searchModel = this.getModelInternal() as SearchModel;\n        if (typeof searchModel[\"resultSet\"] === \"undefined\" || searchModel[\"resultSet\"] === null) {\n            resultSet = { items: [] };\n        } else {\n            resultSet = this.getModelInternal(\"publicSearchModel\").getProperty(\"/results\");\n        }\n        return resultSet;\n    }\n\n    /**\n     * Gets search result view types\n     * @public\n     * @this sap.esh.search.ui.SearchCompositeControl\n     * @since 1.98.0\n     * @returns {string[]} The array of active search result view types.\n     */\n    getResultViewTypes(): Array<string> {\n        const oModel = this.getModelInternal() as SearchModel;\n        return oModel?.getResultViewTypes();\n        // if search model hasn't been instantiated yet (see constructor of SearchCompositeControl)\n        // -> do nothing!\n    }\n\n    /**\n     * Sets search result view types\n     * @public\n     * @this sap.esh.search.ui.SearchCompositeControl\n     * @since 1.98.0\n     * @param {string[]} resultViewTypes The array of active search result view types.\n     * @example\n     * setResultViewTypes([\"searchResultList\", \"searchResultTable\"])\n     * @returns this\n     */\n    setResultViewTypes(resultViewTypes: Array<string>): SearchCompositeControl {\n        const oModel = this.getModelInternal() as SearchModel;\n        if (typeof resultViewTypes === \"undefined\") {\n            throw Error(\n                \"Search Result View Type Error In SearchCompositeControl:\\n\\n\" +\n                    \"The function parameter 'resultViewTypes' is mandatory.\\n\" +\n                    'Valid example: setResultViewTypes([\"searchResultList\"])'\n            );\n        } else if (typeof oModel === \"undefined\" || typeof oModel.config === \"undefined\") {\n            // if search model hasn't been instantiated yet (see constructor of SearchCompositeControl)\n            // -> do nothing!\n            return this;\n        }\n        this.setResultViewSettings({\n            resultViewTypes: resultViewTypes,\n            resultViewType: oModel.getResultViewType(),\n        });\n        return this;\n    }\n\n    /**\n     * Gets search result view type\n     * @public\n     * @this sap.esh.search.ui.SearchCompositeControl\n     * @since 1.98.0\n     * @returns {\"appSearchResult\" | \"searchResultList\" | \"searchResultTable\" | \"searchResultGrid\" | \"\" | string} The active search result view type.\n     */\n    getResultViewType(): string {\n        const oModel = this.getModelInternal() as SearchModel;\n        return oModel?.getResultViewType();\n    }\n\n    /**\n     * Sets search result view type\n     * @public\n     * @this sap.esh.search.ui.SearchCompositeControl\n     * @since 1.98.0\n     * @param {\"appSearchResult\" | \"searchResultList\" | \"searchResultTable\" | \"searchResultGrid\"} resultViewType The active search result view type.\n     * @example\n     * setResultViewType(\"searchResultList\")\n     * @returns this\n     */\n    setResultViewType(resultViewType: string): SearchCompositeControl {\n        const oModel = this.getModelInternal() as SearchModel;\n        if (typeof resultViewType === \"undefined\") {\n            throw Error(\n                \"Search Result View Type Error In SearchCompositeControl:\\n\\n\" +\n                    \"The function parameter 'resultlViewType' is mandatory.\\n\" +\n                    'Valid example: setResultViewType(\"searchResultList\")'\n            );\n        } else if (typeof oModel === \"undefined\" || typeof oModel.config === \"undefined\") {\n            // if search model hasn't been instantiated yet (see constructor of SearchCompositeControl)\n            // -> do nothing!\n            return this;\n        }\n        this.setResultViewSettings({\n            resultViewTypes: oModel.getResultViewTypes(),\n            resultViewType: resultViewType,\n        });\n        return this;\n        // if search model hasn't been instantiated yet (see constructor of SearchCompositeControl)\n        // -> do nothing!\n    }\n\n    /**\n     * Gets search result view type settings\n     * @public\n     * @this sap.esh.search.ui.SearchCompositeControl\n     * @since 1.100.0\n     * @returns {object} The object of resultViewTypes and resultViewType.\n     */\n    getResultViewSettings(): { resultViewTypes: Array<string>; resultViewType: string } {\n        const oModel = this.getModelInternal() as SearchModel;\n        if (oModel) {\n            return {\n                resultViewTypes: oModel.getResultViewTypes(),\n                resultViewType: oModel.getResultViewType(),\n            };\n        }\n        // if search model hasn't been instantiated yet (see constructor of SearchCompositeControl)\n        // -> do nothing!\n    }\n\n    /**\n     * Sets search result view type settings\n     * @public\n     * @this sap.esh.search.ui.SearchCompositeControl\n     * @since 1.100.0\n     * @param {object} settings The object of resultViewTypes and resultViewType.\n     * @example\n     * setResultViewSettings({resultViewTypes: [\"searchResultList\", \"searchResultTable\"], resultViewType: \"searchResultList\"})\n     * @returns this\n     */\n    setResultViewSettings(resultlViewSettings: {\n        resultViewTypes: Array<string>;\n        resultViewType: string;\n    }): SearchCompositeControl {\n        const oModel = this.getModelInternal() as SearchModel;\n        if (typeof resultlViewSettings === \"undefined\") {\n            throw Error(\n                \"Search Result View Type Error In SearchCompositeControl:\\n\\n\" +\n                    \"The function parameter 'resultlViewSettings' is mandatory.\\n\" +\n                    'Valid example: setResultViewSettings({resultViewTypes: [\"searchResultList\", \"searchResultTable\"], resultViewType: \"searchResultList\"})'\n            );\n        } else if (typeof oModel === \"undefined\" || typeof oModel.config === \"undefined\") {\n            // if search model hasn't been instantiated yet (see constructor of SearchCompositeControl) -> do nothing!\n            return this;\n        }\n        if (\n            typeof resultlViewSettings.resultViewTypes === \"undefined\" ||\n            typeof resultlViewSettings.resultViewType === \"undefined\"\n        ) {\n            throw Error(\n                \"Search Result View Type Error In SearchCompositeControl:\\n\\n\" +\n                    \"One of properties of function parameter is undefined.\\n\" +\n                    'Valid example: setResultViewSettings({resultViewTypes: [\"searchResultList\", \"searchResultTable\"], resultViewType: \"searchResultList\"})'\n            );\n        }\n        oModel.calculateResultViewSwitchVisibility({\n            resultViewTypes: resultlViewSettings.resultViewTypes,\n            resultViewType: resultlViewSettings.resultViewType,\n        });\n        this.showMoreFooter.setVisible(this.isShowMoreFooterVisible());\n        oModel.enableOrDisableMultiSelection();\n        this.search(); // search will not be retriggered if model /isQueryInvalidated\n        this.assignDragDropConfig(); // reassign drag&drop config (onAllSearchFinished not called, when search query unchanged)\n        return this;\n    }\n\n    getControllerName(): string {\n        return \"sap.esh.search.ui.container.Search\";\n    }\n\n    /**\n     * Gets the additional CSS class which was applied to this control\n     * @public\n     * @since 1.98.0\n     * @this sap.esh.search.ui.SearchCompositeControl\n     * @returns {string} The additional CSS class which was applied to this control\n     */\n    getCssClass(): string {\n        return this._cssClass;\n    }\n\n    /**\n     * Adds an additional CSS class to this control\n     * @public\n     * @since 1.98.0\n     * @this sap.esh.search.ui.SearchCompositeControl\n     * @param {string} cssClass The new CSS class\n     * @returns this\n     */\n    setCssClass(cssClass: string): SearchCompositeControl {\n        if (cssClass && !this.hasStyleClass(cssClass)) {\n            this._cssClass = cssClass;\n            this.addStyleClass(cssClass);\n        }\n        return this;\n    }\n\n    /**\n     * Gets the id of the active data source which is selected in the data source drop down list.\n     * @public\n     * @this sap.esh.search.ui.SearchCompositeControl\n     * @since 1.98.0\n     * @returns {string} The id of currently selected data source.\n     */\n    getDataSource(): string {\n        if (typeof this.getModelInternal() !== \"undefined\") {\n            const oModel = this.getModelInternal() as SearchModel;\n            const ds = oModel.getDataSource();\n            return ds.id;\n        }\n    }\n\n    /**\n     * Sets the id of the active data source which is selected in the data source drop down list.\n     * @public\n     * @since 1.98.0\n     * @this sap.esh.search.ui.SearchCompositeControl\n     * @param {string} dataSource The id of the new to be selected data source\n     * @param {boolean} [fireQuery=true] If true, fires a search query right away. Set to false for batch updates.\n     * @param {boolean} [resetTop=true] If true, top will be reset to the default number of visible results.\n     */\n    setDataSource(dataSourceId: string, fireQuery: boolean, resetTop: boolean): SearchCompositeControl {\n        if (typeof this.getModelInternal() !== \"undefined\") {\n            const oModel = this.getModelInternal() as SearchModel;\n            oModel.setDataSourceById(dataSourceId, fireQuery, resetTop);\n        }\n        return this;\n    }\n\n    /**\n     * Resets the active data source which is selected in the data source drop down list to its default (see 'defaultDataSource'/'exclusiveDataSource').\n     * @public\n     * @since 1.124.0\n     * @this sap.esh.search.ui.SearchCompositeControl\n     * @memberof sap.esh.search.ui.SearchCompositeControl.prototype\n     * @param {boolean} [fireQuery=true] If true, fires a search query right away. Set to 'false' for batch updates.\n     * @returns {this}\n     */\n    async resetDataSource(fireQuery = true): Promise<SearchCompositeControl | void> {\n        if (typeof this.getModelInternal() !== \"undefined\") {\n            const oModel = this.getModelInternal() as SearchModel;\n            return oModel.resetDataSource(fireQuery); // ToDo: Make 'await' nescessary\n        }\n        return this;\n    }\n\n    /**\n     * Invalidate the search cache and optionally fire a new search.\n     * Also see functions 'retriggerSearch' and 'invalidateSearchResultCache'.\n     * @public\n     * @since 1.124.0\n     * @this sap.esh.search.ui.SearchCompositeControl\n     * @memberof sap.esh.search.ui.SearchCompositeControl.prototype\n     * @param {boolean} [invalidateQuery=false] Indicates wether the search query should be resetted. Set to 'true' to reset the query.\n     * @param {boolean} [fireQuery=true] Indicates wether the search query should be sent to the search service or not. Set to 'false', to prevent auto-update of search results.\n     * @returns {Promise<true | void>} Returns 'true' if the search query was fired, otherwise 'void'.\n     */\n    async search(invalidateQuery = false, fireQuery = true): Promise<true | void> {\n        const internalSearchModel = this.getModelInternal() as SearchModel;\n        if (invalidateQuery) {\n            internalSearchModel.invalidateQuery();\n        }\n        if (fireQuery) {\n            return internalSearchModel.fireSearchQuery();\n        }\n    }\n\n    /**\n     * Resets the UI / search results (reset search query and fire a new search).\n     * @public\n     * @since 1.125.0\n     * @this sap.esh.search.ui.SearchCompositeControl\n     * @memberof sap.esh.search.ui.SearchCompositeControl.prototype\n     * @returns {Promise<void>}\n     */\n    async resetSearch(): Promise<void> {\n        const internalSearchModel = this.getModelInternal() as SearchModel;\n        internalSearchModel.resetQuery();\n        this.retriggerSearch();\n    }\n\n    /**\n     * Fire a new search (includes invalidation of search cache).\n     * To invalidate the search cache w/o triggering a new search, use function 'invalidateSearchResultCache' instead.\n     * @public\n     * @since 1.124.0\n     * @this sap.esh.search.ui.SearchCompositeControl\n     * @memberof sap.esh.search.ui.SearchCompositeControl.prototype\n     * @returns {Promise<void>}\n     */\n    async retriggerSearch(): Promise<void> {\n        this.search(true, true); // invalidateQuery: true, fireQuery: true\n    }\n\n    /**\n     * Invalidate the search cache.\n     * To trigger a search in addition, use function 'retriggerSearch' instead.\n     * @public\n     * @since 1.124.0\n     * @this sap.esh.search.ui.SearchCompositeControl\n     * @memberof sap.esh.search.ui.SearchCompositeControl.prototype\n     * @returns {Promise<void>}\n     */\n    async invalidateSearchResultCache(): Promise<void> {\n        this.search(true, false); // invalidateQuery: true, fireQuery: false\n    }\n\n    /**\n     * Gets the search term which is displayed in the search box.\n     * @public\n     * @since 1.98.0\n     * @this sap.esh.search.ui.SearchCompositeControl\n     * @returns {string} The search term\n     */\n    getSearchTerm(): string {\n        if (typeof this.getModelInternal() !== \"undefined\") {\n            const oModel = this.getModelInternal() as SearchModel;\n            return oModel.getSearchBoxTerm();\n        }\n        return SearchCompositeControl.getMetadata().getPropertyDefaults()[\"searchTerm\"];\n    }\n\n    /**\n     * Sets the search term which is displayed in the search box.\n     * @public\n     * @since 1.98.0\n     * @this sap.esh.search.ui.SearchCompositeControl\n     * @param {string} searchTerm Sets the new search term\n     * @param {boolean} [fireQuery=true] Indicates wether the search query should be sent to the search service or not.\n     * Not sending it could be useful for batch updates, for example if the data source shall also be changed.\n     * This way, the search service will not have to deal with outdated queries which will improve overall performance.\n     * @returns this\n     */\n    setSearchTerm(searchTerm: string, fireQuery: boolean): SearchCompositeControl {\n        if (typeof this.getModelInternal() !== \"undefined\") {\n            const oModel = this.getModelInternal() as SearchModel;\n            oModel.setSearchBoxTerm(searchTerm, fireQuery);\n        }\n        return this;\n    }\n\n    /**\n     * Gets the settings.\n     * @public\n     * @since 1.125.0\n     * @this sap.esh.search.ui.SearchCompositeControl\n     * @returns {object} The settings (search configuration)\n     */\n    getConfig(): SearchConfiguration {\n        if (this.getModelInternal()) {\n            const oModel = this.getModelInternal() as SearchModel;\n            return oModel.config;\n        }\n        return;\n    }\n\n    /**\n     * Gets the filter containing all attribute filters currently set and functions to manipulate the filter.\n     * @public\n     * @since 1.124.0\n     * @this sap.esh.search.ui.SearchCompositeControl\n     * @returns {object} The filter\n     */\n    getFilter(): Filter {\n        if (this.getModelInternal()) {\n            const oModel = this.getModelInternal() as SearchModel;\n            return oModel.getProperty(\"/uiFilter\");\n        }\n        return;\n    }\n\n    /**\n     * Gets the filter root condition which contains all attribute filters currently set.\n     * @public\n     * @since 1.98.0\n     * @this sap.esh.search.ui.SearchCompositeControl\n     * @returns {object} The filter root condition\n     */\n    getFilterRootCondition(): ComplexCondition {\n        if (this.getModelInternal()) {\n            const oModel = this.getModelInternal() as SearchModel;\n            return oModel.getFilterRootCondition();\n        }\n        return SearchCompositeControl.getMetadata().getPropertyDefaults()[\"filterRootCondition\"];\n    }\n\n    /**\n     * Update hierarchy facet\n     * Updates the one and only (static) hierarchy facet (tree control on facet panel).\n     * If no hierarchy facet exists, nothing will happen.\n     * @public\n     * @since 1.126.0\n     * @this sap.esh.search.ui.SearchCompositeControl\n     * @memberof sap.esh.search.ui.SearchCompositeControl.prototype\n     * @returns {Promise<void>}\n     */\n    async updateStaticHierarchyFacet(): Promise<void> {\n        const oModel = this.getModelInternal() as SearchModel;\n        const dataSourceId = this.getDataSource();\n        const hierarchyAttributeId = oModel.sinaNext\n            .getDataSource(dataSourceId)\n            .getStaticHierarchyAttributeMetadata().id;\n        if (hierarchyAttributeId) {\n            const staticHierarchyFacet = oModel\n                .getProperty(\"/facets\")\n                .filter((item) => item.attributeId === hierarchyAttributeId);\n            if (staticHierarchyFacet.length > 0) {\n                await staticHierarchyFacet[0]?.updateTree();\n            }\n        }\n    }\n\n    /**\n     * Recalculate the placeholder text of search input field. If implemented, this will also call function 'getSearchInputPlaceholderLabel' to get the label for the placeholder text.\n     * @public\n     * @since 1.136.0\n     * @returns void\n     */\n    recalculateSearchInputPlaceholder(): void {\n        if (this.getModelInternal()) {\n            const oModel = this.getModelInternal() as SearchModel;\n            oModel.setProperty(\"/searchTermPlaceholder\", oModel.calculatePlaceholder());\n        }\n    }\n\n    /**\n     * Sets the filter root condition for the search query.\n     *\n     * The filter root condition can contain multiple attribute filter which are then combined using AND or OR operators.\n     * For a more comprehensive explanation and examples, see the description of the filterRootCondition property of this control.\n     *\n     * @public\n     * @since 1.98.0\n     * @this sap.esh.search.ui.SearchCompositeControl\n     * @param {object} filterRootCondition Sets the new filter root condition.\n     * @param {boolean} [fireQuery=true] Indicates wether the search query should be sent to the search service or not.\n     * Not sending it could be useful for batch updates, for example if the data source shall also be changed.\n     * This way, the search service will not have to deal with outdated queries which will improve overall performance.\n     * @returns this\n     */\n    setFilterRootCondition(\n        filterRootCondition: ComplexCondition,\n        fireQuery: boolean\n    ): SearchCompositeControl {\n        if (this.getModelInternal()) {\n            const oModel = this.getModelInternal() as SearchModel;\n            oModel.setFilterRootCondition(filterRootCondition, fireQuery);\n        }\n        return this;\n    }\n\n    /**\n     * Assembles a search URL.\n     *\n     * Use this method for the creation of links to the search UI.\n     *\n     * @public\n     * @since 1.103.0\n     * @this sap.esh.search.ui.SearchCompositeControl\n     * @param {number} top Number of search results to be displayed.\n     * @param {object} filter A sina filter object storing the searchterm, datasource  and the filter conditions.\n     * @param {boolean} encodeFilter A boolean whether to encode the URL parameters or not.\n     * @returns {string} search URL.\n     * @deprecated Use createSearchNavigationTarget\n     */\n    renderSearchUrlFromParameters(top: number, filter: Filter, encodeFilter: boolean): string {\n        const model = this.getModelInternal() as SearchModel;\n        if (!model) {\n            throw new ProgramError(null, \"cannot construct URL because model is undefined\");\n        }\n        return model.createSearchNavigationTarget({\n            top: top,\n            filter: filter,\n            encodeFilter: encodeFilter,\n            updateUrl: true, // --> always create navigation target with url (overwrites config.updateUrl)\n        }).targetUrl;\n    }\n\n    /**\n     * Create a NavigationTarget instance for filtering/search.\n     *\n     * Use this method for the creation a NavigationTarget instance with filter and label.\n     *\n     * @public\n     * @since 1.114.0\n     * @this sap.esh.search.ui.SearchCompositeControl\n     * @param {object} filter A sina filter object storing the searchterm, datasource  and the filter conditions.\n     * @param {string} label The label of the navigation target.\n     * @returns {object} The NavigationTarget instance. If the configuration parameter updateUrl is true, it contains targetUrl, otherwise it contains targetFunction.\n     */\n    createSearchNavigationTarget(filter: Filter, label: string): NavigationTarget {\n        const model = this.getModelInternal() as SearchModel;\n        return model.createSearchNavigationTarget(filter, label);\n    }\n\n    /**\n     * Create a NavigationTarget instance for hierarchy.\n     *\n     * Use this method for the creation a NavigationTarget instance by hierarchical node id value and its label.\n     *\n     * @public\n     * @since 1.114.0\n     * @this sap.esh.search.ui.SearchCompositeControl\n     * @param {object} hierarchyNodeId The hiearchical node id value of the giving datasource or its helper hierarchical datasource.\n     * @param {string} hierarchyNodeLabel The label of the hiearchical node id.\n     * @param {object} dataSource The datasource instance.\n     * @param {string} navigationTargetLabel The label of the NavigatonTarget instance.\n     * @returns {object} The NavigationTarget instance. If the configuration parameter updateUrl is true, it contains targetUrl, otherwise it contains targetFunction.\n     */\n    createStaticHierarchySearchNavigationTarget(\n        // Goto Folder\n        hierarchyNodeId: Value,\n        hierarchyNodeLabel: string,\n        dataSource: DataSource,\n        navigationTargetLabel: string\n    ): NavigationTarget {\n        const model = this.getModelInternal() as SearchModel;\n        return model.sinaNext.createStaticHierarchySearchNavigationTarget(\n            hierarchyNodeId,\n            hierarchyNodeLabel,\n            dataSource,\n            navigationTargetLabel\n        );\n    }\n\n    /**\n     * Adds a callback function which is called whenever there is a user triggered event.\n     *\n     * @public\n     * @since 1.120.0\n     * @this sap.esh.search.ui.SearchCompositeControl\n     * @returns void\n     * @callback eventConsumer This function will be called when the user triggered an UI event. As arguments this\n     * function will receive the UI event along with details of the event.\n     * @example A simple event consumer which could be passed to the addEventConsumer function\n     * const logEventConsumer = {\n     *     label: \"my log event consumer\",\n     *     logEvent: (event) => {\n     *         console.log(\"user event happened: \" + event.type)\n     *     }\n     * }\n     * mySearchCompositeControl.addEventConsumer(logEventConsumer);\n     */\n    addEventConsumer(eventConsumer: EventConsumer): void {\n        const model = this.getModelInternal() as SearchModel;\n        model?.eventLogger?.addConsumer(eventConsumer);\n    }\n\n    /**\n     * Returns all event consumers.\n     *\n     * @public\n     * @since 1.120.0\n     * @this sap.esh.search.ui.SearchCompositeControl\n     * @returns {array} List containing all event consumers.\n     */\n    getEventConsumers(): Array<EventConsumer> {\n        const model = this.getModelInternal() as SearchModel;\n        return model?.eventLogger?.consumers;\n    }\n\n    /**\n     * Sets a list of event consumers.\n     *\n     * @public\n     * @since 1.120.0\n     * @this sap.esh.search.ui.SearchCompositeControl\n     * @param {array} eventConsumers List containing all event consumers.\n     * @returns {SearchCompositeControl}\n     */\n    setEventConsumers(eventConsumers: Array<EventConsumer>): SearchCompositeControl {\n        const model = this.getModelInternal() as SearchModel;\n        model?.eventLogger?.setConsumers(eventConsumers);\n        return this;\n    }\n\n    /**\n     * close old visible dialogs after new search starts\n     *\n     * List of ui elements: Result Sort Dialog, Result Table Personalization Dialog, Result Export Limitation Dialog, Result Share Action Sheet, Facet Show More Dialog, Result Save/Share Action Sheet.\n     *\n     * @public\n     * @since 1.130.0\n     * @this sap.esh.search.ui.SearchCompositeControl\n     * @returns void\n     */\n    private closePopovers(): void {\n        // close popover opened by SearchResultTablePersonalizer reset button\n        // close it firstly, because it is popover over another popover\n        const domDialogs = document.getElementsByClassName(\"sapMDialogOpen\") || []; // DOM elements\n        for (const domDialog of domDialogs) {\n            const ui5Dialog = Element?.getElementById(domDialog.id) as Dialog; // UI5 instance\n            if (\n                ui5Dialog &&\n                ui5Dialog?.getParent()?.getId()?.endsWith(\"search-result-table-personalizer-resetBtn\")\n            ) {\n                const buttons = ui5Dialog?.getButtons() || [];\n                for (const btn of buttons) {\n                    if (btn?.getType() === ButtonType.Default) {\n                        // cancel button is Default type\n                        btn?.firePress();\n                        break;\n                    }\n                }\n            }\n        }\n\n        // list of all possiblely opened dialogs / actionsheets\n        const selectors = [\n            \"sapUshellSearchFacetDialog\",\n            \"sapUshellSearchResultSortDialog\",\n            \"sapUshellSearchResultTablePersonalizationDialog\",\n            \"sapUshellSearchResultExportDialog\",\n            \"sapUshellSearchResultShareActionSheet\",\n            \"bookmarkDialog\", // unified.shell AddBookmarkButton hard coded id\n            \"sapUshellSearchMessageBox\", // instance of Dialog\n        ];\n\n        for (const selector of selectors) {\n            const domElement =\n                document.getElementsByClassName(selector)[0] || document.getElementById(selector); // DOM element\n            const ui5Element = Element?.getElementById(domElement?.id); // UI5 instance\n            if (ui5Element) {\n                if (ui5Element instanceof Dialog) {\n                    const buttons = ui5Element?.getButtons() || [];\n                    for (const btn of buttons) {\n                        if (btn?.getType() === ButtonType.Default) {\n                            // cancel button is Default type\n                            btn?.firePress();\n                            break;\n                        }\n                    }\n                }\n                if (ui5Element instanceof ActionSheet) {\n                    ui5Element?.close();\n                }\n            }\n        }\n\n        // Related Apps Action Sheet in Result Table closed after new search starts\n        // Related Apps Action Sheet in Result List in narrow window closed after new search starts\n        // Do nothing\n    }\n\n    /**\n     * Get the status of initialization. In unsuccessful case, the corresponding error instance is returned either.\n     *\n     * @public\n     * @since 1.132.0\n     * @this sap.esh.search.ui.SearchCompositeControl\n     * @memberof sap.esh.search.ui.SearchCompositeControl.prototype\n     * @returns {object} Promise<{success: boolean;error?: Error;}> If success is true, the initialization was successful. If success is false, the error property contains the error instance for further handling.\n     *\n     * @example Check the initialization status and handle potential ESHNoBusinessObjectDatasourceError\n     * const searchCompControl = new SearchCompositeControl(sId, searchConfig);\n     * const status = await searchCompControl.getInitializationStatus();\n     * if (\n     *       status &&\n     *       status.success === false &&\n     *       status.error instanceof NoValidEnterpriseSearchAPIConfigurationFoundError &&\n     *       status.error.previous instanceof ESHNoBusinessObjectDatasourceError\n     * ) {\n     *       console.error(\"Error creating SearchCompositeControl: \", status.error.previous.message);\n     * }\n     */\n    async getInitializationStatus(): Promise<{\n        success: boolean;\n        error?: Error;\n    }> {\n        const status = await (this.getModelInternal() as SearchModel).getInitializationStatus();\n        if (!status.success) {\n            return status;\n        }\n        try {\n            await this.initSearchPromise;\n        } catch (e) {\n            return { success: false, error: e };\n        }\n        return { success: true };\n    }\n\n    /**\n     * Retrieves a list of filter conditions from the root filter\n     * that do not belong to the standard filter-by conditions.\n     * These conditions often represent additional static or hierarchy-based filters\n     * that are not meant to be displayed in the typical filter-by UI.\n     *\n     * This method is a convenience wrapper calling an internal engine-level function\n     * (`getStaticHierarchyFilterConditions`) on the underlying `SearchModel`.\n     *\n     * @public\n     * @since 1.133.0\n     * @this sap.esh.search.ui.SearchCompositeControl\n     * @returns {Condition[]} An array of filter conditions which are considered\n     *                       \"static hierarchy facet filter\" conditions.\n     */\n    public getStaticHierarachyFilters(): Condition[] {\n        const model = this.getModelInternal() as SearchModel;\n        return model.getStaticHierarchyFilterConditions();\n    }\n\n    /**\n     * This method checks if the filter contains only static hierarchy facet filter conditions.\n     *\n     * @public\n     * @since 1.136.0\n     * @this sap.esh.search.ui.SearchCompositeControl\n     * @returns {boolean} true if the filter contains only static hierarchy facet filter conditions,\n     *                    false otherwise.\n     */\n    public hasStaticHierarchyFacetFilterConditionOnly(): boolean {\n        const model = this.getModelInternal() as SearchModel;\n        return model.hasStaticHierarchyFacetFilterConditionOnly();\n    }\n\n    /**\n     * Clears the object selection in the search results list,table or grid.\n     * It is useful when you want to clear any user selections and start fresh.\n     *\n     * @public\n     * @since 1.133.0\n     * @this sap.esh.search.ui.SearchCompositeControl\n     * @returns void\n     */\n    public clearObjectSelection(): void {\n        const model = this.getModelInternal() as SearchModel;\n        if (model) {\n            model.resetKeyStore();\n        }\n    }\n    // #endregion\n}\nlet messagePopoverId = 1;\n"],"mappings":";;;;;AAAAA,IAAAC,GAAAC,OAAA,47CAAAC,SAAAC,IAAAC,EAAAC,EAAAC,IAAAC,EAAAC,EAAAC,EAAAC,IAAAC,IAAAC,EAAAC,EAAAC,EAAAC,MAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAD,EAAAE,EAAAC,IAAAC,EAAAC,EAAAC,EAAAC,IAAAC,IAAAC,EAAAC,EAAAC,EAAAC,IAAAC,EAAAC,EAAAC,EAAAC,MAAAC,EAAAC,KAAA,sBAAAC,EAAAC,GAAA,OAAAA,KAAAC,mBAAAD,EAAAE,UAAA,YAAAF,EAAAE,QAAAF,CAAA,OAKOG,EAAYJ,EAAApC,GAAA,MACZyC,EAAIL,EAAAnC,GAAA,MAEJyC,EAAgBN,EAAAlC,GAAA,MAKhByC,EAAqBP,EAAA/B,GAAA,MAMrBuC,GAAsBR,EAAA9B,GAAA,MAUpBuC,GAAUlC,EAAA,oBAAEmC,GAAanC,EAAA,uBACzBoC,GAAapC,EAAA,uBAKbqC,GAAuBrC,EAAA,iCAIvBsC,GAAkBtC,EAAA,4BAOlBuC,GAAYjC,EAAA,sBAWZkC,GAAkB3B,EAAA,4BACpB4B,GAAQhB,EAAAiB,GAAA,MAKNC,GAAS3C,EAAA,mBAEX4C,GAAoCnB,EAAAX,GAAA,MAEpC+B,GAAepB,EAAAV,GAAA,MAIf+B,GAAgBrB,EAAAR,GAAA,MAChB8B,GAAoBtB,EAAAP,GAAA,MAEpB8B,GAAkBvB,EAAAN,GAAA,MAClB8B,GAAiBxB,EAAAyB,GAAA,MAMfC,GAAqC7B,EAAA,+CACvC8B,GAAM3B,EAAA4B,GAAA,MAGJC,GAAa9B,EAAA,iBA8CtB,MAGqB+B,GAA+BzD,EAAc0D,OAAA,4CAkkCvDC,SAAW,CACdC,WAAY,GAlkCAC,SAAW,CACvBC,QAAS,oBACTC,IAAK,CAAEC,UAAW,KAAMC,UAAW,OACnCC,WAAY,CAKRC,SAAU,CACNC,KAAM,UAOVC,WAAY,CACRD,KAAM,SACNE,MAAO,OACPC,aAAc,IAOlBC,cAAe,CACXJ,KAAM,UACNE,MAAO,WACPC,aAAc,MAyFlBE,oBAAqB,CACjBL,KAAM,SACNE,MAAO,QAOXI,kBAAmB,CACfN,KAAM,SACNE,MAAO,QAOXK,WAAY,CACRP,KAAM,SACNE,MAAO,QAiBXM,oBAAqB,CACjBR,KAAM,SACNE,MAAO,QAiBXO,gBAAiB,CACbT,KAAM,WACNE,MAAO,OACPC,aAAc,CAAC,mBAAoB,sBAqBvCO,eAAgB,CACZV,KAAM,SACNE,MAAO,OACPC,aAAc,oBAgBlBQ,mBAAoB,CAChBC,SAAU,CACNH,gBAAiB,WACjBC,eAAgB,UAEpBR,MAAO,OACPC,aAAc,CACVM,gBAAiB,CAAC,mBAAoB,qBACtCC,eAAgB,qBAaxBG,2BAA4B,CACxBb,KAAM,UACNE,MAAO,OACPC,aAAc,OAUlBW,mBAAoB,CAChBd,KAAM,WACNE,MAAO,QAqBXa,WAAY,CACRf,KAAM,UACNE,MAAO,OACPC,aAAc,OAOlBa,2BAA4B,CACxBhB,KAAM,UACNE,MAAO,OACPC,aAAc,OAQlBc,qCAAsC,CAClCjB,KAAM,UACNE,MAAO,OACPC,aAAc,OASlBe,oBAAqB,CACjBlB,KAAM,UACNE,MAAO,OACPC,aAAc,OAOlBgB,qBAAsB,CAClBnB,KAAM,SACNE,MAAO,OACPC,aAAc,iBAOlBiB,oBAAqB,CACjBpB,KAAM,UACNE,MAAO,OACPC,aAAc,MAOlBkB,yBAA0B,CACtBrB,KAAM,QACNE,MAAO,OACPC,aAAc,IAOlBmB,wBAAyB,CACrBtB,KAAM,WACNE,MAAO,QAOXqB,+BAAgC,CAC5BvB,KAAM,WACNE,MAAO,QASXsB,oBAAqB,CACjBxB,KAAM,SACNE,MAAO,OACPC,aAAc,OASlBsB,sBAAuB,CACnBzB,KAAM,UACNE,MAAO,QASXwB,kBAAmB,CACf1B,KAAM,SACNE,MAAO,QAMXyB,qBAAsB,CAClB3B,KAAM,UACNE,MAAO,QAQX0B,kBAAmB,CACf5B,KAAM,WACNE,MAAO,QAOX2B,OAAQ,CACJ7B,KAAM,UACNE,MAAO,OACPC,aAAc,MAUlB2B,gBAAiB,CACb9B,KAAM,UACNE,MAAO,OACPC,aAAc,OAUlB4B,0BAA2B,CACvB/B,KAAM,SACNE,MAAO,OACPC,aAAc,SAQlB6B,aAAc,CACVhC,KAAM,UACNE,MAAO,OACPC,aAAc,OAOlB8B,cAAe,CACXjC,KAAM,UACNE,MAAO,OACPC,aAAc,OAQlB+B,mCAAoC,CAChClC,KAAM,UACNE,MAAO,OACPC,aAAc,OAOlBgC,UAAW,CACPnC,KAAM,UACNE,MAAO,OACPC,aAAc,MAqBlBiC,gBAAiB,CACbpC,KAAM,WACNE,MAAO,QAcXmC,YAAa,CACTrC,KAAM,WACNE,MAAO,QAQXoC,yBAA0B,CACtBtC,KAAM,WACNE,MAAO,QAOXqC,uBAAwB,CACpBvC,KAAM,SACNE,MAAO,QAQXsC,gBAAiB,CACbxC,KAAM,WACNE,MAAO,QAOXuC,UAAW,CACPzC,KAAM,WACNE,MAAO,QAUXwC,gCAAiC,CAC7B1C,KAAM,UACNE,MAAO,OACPC,aAAc,OAYlBwC,wBAAyB,CACrB3C,KAAM,SACNE,MAAO,OACPC,aAAc,OACdyC,OAAQ,CACJ,CAAEC,KAAM,OAAQC,IAAK,QACrB,CAAED,KAAM,UAAWC,IAAK,WACxB,CAAED,KAAM,gBAAiBC,IAAK,mBAYtCC,0BAA2B,CACvB/C,KAAM,UACNE,MAAO,OACPC,aAAc,OAQlB6C,SAAU,CACNhD,KAAM,MACNE,MAAO,OACPC,aAAc,IAOlB8C,oBAAqB,CACjBjD,KAAM,WACNE,MAAO,QAOXgD,mBAAoB,CAChBlD,KAAM,WACNE,MAAO,QAuBXiD,eAAgB,CACZC,aAAc,gBACdC,SAAU,KACVnD,MAAO,QAMXoD,sBAAuB,CACnBtD,KAAM,MACNE,MAAO,OACPC,aAAc,KAMlBoD,kBAAmB,CACfvD,KAAM,UACNE,MAAO,OACPC,aAAc,OAGtBqD,aAAc,CAKVC,QAAS,CACLL,aAAc,UACdC,SAAU,OAGlBK,OAAQ,CAKJC,cAAe,CAAC,EAMhBC,eAAgB,CAAC,EAajBC,iBAAkB,CAAC,EAMnBC,sBAAuB,CAAC,EAOxBC,iBAAkB,CAAC,IAiE3BC,YAAW,SAAAC,EAACC,EAActD,GAAiDuD,KAFnEC,sBAAwB,MAG5B,MAAMC,EAAsB1G,EAAa2G,YAAY,CAAEC,MAAOL,IAC9D,IAAIM,EACJ,IAAIC,EAAuB,MAC3B,IAEI,MAAMC,EAAoBrF,GAAuBsF,qBAAqBT,EAAKtD,GAC3EsD,EAAMQ,EAAkBR,IACxBtD,EAAW8D,EAAkB9D,SAG7BgE,EACIhE,GAAUO,uBAAyB0D,WAAajE,GAAUO,uBAAyB,GACnF,8KAKJyD,EACIhE,EAASJ,sBAAwBqE,WAC7BjE,EAASJ,sBAAwB,KAC/BI,EAASL,aAAesE,WAAajE,EAASL,aAAe,MAC1DK,EAASc,oBAAsBmD,WAAajE,EAASc,oBAAsB,IACpF,gDAAgDd,EAASJ,0FAI7DgE,EAAc5D,EAAS,UAAYA,EAAS,eAC5C,IAAK4D,EAAa,CACdA,EAAc,IAAIlJ,EAAY,CAC1BwJ,cAAelE,GAEvB,KAAO,CACH4D,EAAYO,OAAOC,GAAKd,CAC5B,CACAG,EAAoBY,eAAeT,GAGnC,MAAMU,EAAqB7F,GAAuB8F,sBAAsBX,EAAYO,QACpFK,6BAAAjB,KAAMD,EAAKgB,GACXf,KAAKkB,aAAehB,EAGpBF,KAAKmB,SAAWC,EAAIC,UAAU,4CAC9BrB,KAAKsB,cAAc,gCACnBtB,KAAKsB,cAAc,kCACnB,GAAIjB,EAAYO,OAAOpD,qBAAsB,CACzCwC,KAAKsB,cAAc,wCACvB,CACAtB,KAAKuB,iBAAiBlB,GACtBL,KAAKuB,iBAAiBlB,EAAYmB,kBAAmBnB,EAAYmB,kBAAkBC,WACnFzB,KAAKuB,iBAAiB,IAAIG,EAAc,CAAEC,OAAQlI,IAAS,QAC3D,MAAMmI,EAAM5B,KACZA,KAAK6B,cAAgB,IAAIrK,EAAasK,mBAAmBF,GACzDvB,EAAY0B,aAAe/B,KAAK6B,cAChC7B,KAAKgC,iBAAmB,IAAIvH,GAAiBmH,GAC7C5B,KAAKiC,qBAAuB,IAAIvH,GAAqBkH,GAGrDvB,EAAYO,OAAOsB,mBAAmBC,YAAY,CAAEzD,KAAM,iBAAmB,CAAE0D,SAAU,OACzF9B,EAAuB,KACvBN,KAAKqC,gBACLhC,EAAYO,OAAOsB,mBAAmBI,YAAY,CAAE5D,KAAM,kBAC1D4B,EAAuB,MAKvBN,KAAKuC,sCAAwC,IAAIhI,GAAqC,CAClFiI,QAASxC,OAGbyC,EAAcC,SAAS1C,KAAM,KACzBA,KAAK2C,mBAGT3C,KAAK4C,sBAAwB,KACzB5C,KAAK6C,iBAET,IAAK7C,KAAKC,sBAAuB,CAC7B1H,EAAmB4H,cAAc2C,YAAY,cAAe9C,KAAK4C,sBAAuB5C,MACxFA,KAAKC,sBAAwB,IACjC,CAGAD,KAAK+C,kBAAoB/C,KAAKgD,YAClC,CAAE,MAAOC,GACL/C,EAAoBgD,QAAQD,GAC5B,MAAMA,CACV,CAAC,QACG,GAAI3C,EAAsB,CACtBD,EAAYO,OAAOsB,mBAAmBI,YAAY,CAC9C5D,KAAM,kBAEV4B,EAAuB,KAC3B,CACJ,CACJ,EAEO6C,cAAa,SAAAC,IAChB,OAAQpD,KAAKqD,mBAAmCC,SAASH,eAC7D,EAEAI,SAAQ,SAAAC,EAACC,GAEL,MAAMC,GAAY,IAAIC,OAAQC,MAC9B,GACIH,IAAU/C,WACVgD,EAAUG,SAAS,uBACnBH,EAAUG,SAAS,qBACnBH,EAAUG,SAAS,wBACnBH,EAAUG,SAAS,0BACnBH,EAAUG,SAAS,yBACnBH,EAAUG,SAAS,cACrB,CACE,KACG,CACHpD,EACI,MACA,mSAER,CAEA,OAAOT,KAAKqD,iBAAiBI,EACjC,EAEAK,SAAQ,SAAAC,EAACC,EAAeP,GACpB,MAAMQ,EAAuBjE,KAAKqD,mBAClC,IAAKI,EAAO,CACRhD,EAAO,MAAO,iFACd,OAAOT,IACX,MAAO,GAAIyD,IAAUQ,GAAsBzC,mBAAmBC,UAAW,CACrEhB,EACI,MACA,8BAA8BwD,GAAsBzC,mBAAmBC,uGAE3E,OAAOzB,IACX,KAAO,CACH,OAAAkE,0BAAAlE,KAAsBgE,EAAQP,EAClC,CACJ,EAEQlC,iBAAgB,SAAA4C,EAACH,EAAeP,GACpC,OAAAS,0BAAAlE,KAAsBgE,EAAQP,EAClC,EAEQW,yBAAwB,SAAAC,IAC5B,MAAMhE,EAAcL,KAAKqD,mBACzB,IAAKhD,EAAYO,OAAO1C,YAAY1G,EAAa8M,kBAAmB,CAChE,OAAO,KACX,CACA,MAAMC,EAAwB/M,EAAagN,mBAC3C,GAAIxL,EAAKyL,cAAcF,GAAwB,CAC3C,OAAO,KACX,CACA,OAAO,IACX,EAEcvB,WAAU0B,eAAAC,IAEpB,MAAMtE,EAAcL,KAAKqD,mBACzBhD,EAAYO,OAAOsB,mBAAmBC,YAAY,CAAEzD,KAAM,eAAiB,CAAE0D,SAAU,aAGjF/B,EAAY/B,YAGlB,GAAI+B,EAAYO,OAAO5C,WAAagC,KAAKoE,2BAA4B,OAE3D/D,EAAYuE,gBAAgBC,OACtC,MAAO,GAAI7E,KAAK8E,YAAY,mBAAqBzE,EAAYO,OAAOmE,SAAU,OAEpE/E,KAAKgF,QACf,CAGA,GAAI3E,EAAa,CACbA,EAAYO,OAAOsB,mBAAmBI,YAAY,CAC9C5D,KAAM,eAEd,CACJ,EA6DAuG,KAAI,SAAAC,IACA,GAAIlF,KAAKC,sBAAuB,CAC5B1H,EAAmB4H,cAAcgF,YAAY,cAAenF,KAAK4C,sBAAuB5C,MACxFA,KAAKC,sBAAwB,KACjC,CAEA,GAAID,KAAKoF,WAAY,CAGjBpF,KAAKoF,WAAWC,SACpB,CAEA,GAAIrF,KAAKsF,eAAgB,CAIrBtF,KAAKsF,eAAeD,SACxB,CAEA,GAAIrF,KAAKuF,qBAAsB,CAI3BvF,KAAKuF,qBAAqBF,SAC9B,CAIArF,KAAKwF,mBAAmBC,mBAAmBC,6BAE3C,GAAI1F,KAAK,gBAAiB,CAGtBA,KAAK,gBAAgBqF,UACrBrF,KAAK,gBAAkB,IAC3B,CAEA,MAAMgE,EAAShE,KAAKqD,mBACpBW,EAAO2B,YAAYvL,GAASwL,iBAAkB5F,KAAK6F,mBAAoB7F,MACvEgE,EAAO2B,YAAYvL,GAAS0L,kBAAmB9F,KAAK+F,oBAAqB/F,MACzEgE,EAAO2B,YAAYvL,GAAS4L,oBAAqBhG,KAAKiG,mBAAoBjG,MAE1EgE,EAAO2B,YAAYvL,GAAS8L,oBAAqBlG,KAAKmG,mBAAoBnG,KAC9E,EAQAqC,cAAa,SAAA+D,IACT,MAAMpC,EAAShE,KAAKqD,mBAGpB,IAAKW,EAAOpD,OAAOmE,SAAU,CACzB/E,KAAKqG,kBAAoBrG,KAAKsG,wBAClC,CAEA,GAAItC,GAAQuC,UAAW,CACnB,IAAKvG,KAAKwG,4BAA6B,CACnCxC,EAAOuC,UAAUnM,GAASwL,iBAAkB5F,KAAK6F,mBAAoB7F,MACrEA,KAAKwG,4BAA8B,IACvC,CACA,IAAKxG,KAAKyG,6BAA8B,CACpCzC,EAAOuC,UAAUnM,GAAS0L,kBAAmB9F,KAAK+F,oBAAqB/F,MACvEA,KAAKyG,6BAA+B,IACxC,CACA,IAAKzG,KAAK0G,+BAAgC,CACtC1C,EAAOuC,UAAUnM,GAAS4L,oBAAqBhG,KAAKiG,mBAAoBjG,MACxEA,KAAK0G,+BAAiC,IAC1C,CASA,IAAK1G,KAAK2G,oCAAqC,CAC3C3C,EAAOuC,UAAUnM,GAASwM,yBAA0B5G,KAAK6G,wBAAyB7G,MAClFA,KAAK0G,+BAAiC,IAC1C,CACA,IAAK1G,KAAK8G,+BAAgC,CACtC9C,EAAOuC,UAAUnM,GAAS8L,oBAAqBlG,KAAKmG,mBAAoBnG,MACxEA,KAAK8G,+BAAiC,IAC1C,CACJ,CAEA9G,KAAK+G,cAAgB/G,KAAKgC,iBAAiBgF,uBAC3ChH,KAAKiH,kBAAoBjH,KAAKgC,iBAAiBkF,2BAC/C,MAAMC,EAA4BnH,KAAKgC,iBAAiBoF,gCACxD,IAAIC,EACJ,GACIrD,GAAQpD,QAAQhC,4BAA8B,MAC9CoF,GAAQpD,QAAQpC,0BAA4BvD,GAAcqM,KAC5D,CACEtH,KAAKuH,iBAAmBvH,KAAKgC,iBAAiBwF,mCAClD,CACA,GAAIxD,GAAQpD,QAAQhD,4BAA8B,MAAO,CACrDyJ,EAAqB,CAAC,IAAInO,EAAiB8G,KAAKiH,mBAChDjH,KAAKyH,qBAAuBN,EAA0BO,QACtD1H,KAAKyH,qBAAqBE,WAAW3H,KAAK+G,cAC9C,KAAO,CACHM,EAAqB,CAACrH,KAAK+G,cAAe/G,KAAKiH,mBAC/CjH,KAAKyH,qBAAuBN,EAA0BO,OAC1D,CACA1H,KAAKyH,qBAAqBE,WAAW3H,KAAKuH,kBAC1C,MAAMK,EAAmBP,EAAmBQ,OAAO7H,KAAKyH,sBACxDzH,KAAK8H,WAAa,IAAIC,EAAgB/H,KAAKgI,QAAU,aAAc,CAC/DC,MAAO,OACPC,QAAS,CACLC,MAAO,CAAC,CAAEC,KAAM,WAChBC,UAAYC,GACDA,IAAU,GAAKtE,GAAQpD,QAAQ2H,2BAG9CjJ,QAASsI,EACTY,OAAQ1O,GAAc2O,cAE1BzI,KAAK8H,WAAWxG,cAAc,sBAC9B,GAAI6F,EAA0BuB,iBAAkB,CAC5C1I,KAAKiH,kBAAkB3F,cAAc,qCACzC,KAAO,CACHtB,KAAKiH,kBAAkB0B,iBAAiB,qCAC5C,CACA,GAAI3E,EAAOpD,OAAOpD,qBAAsB,CACpCwC,KAAK8H,WAAWxG,cAAc,8BAClC,CAEAtB,KAAK4I,eAAiB,IAAIrR,EAAoByI,KAAKgI,QAAU,iBAAkB,CAC3EE,QAAS,CACLC,MAAO,CACH,CACIC,KAAM,sBAEV,CACIA,KAAM,YAGdC,UAAWA,CAACQ,EAASC,KACjB,MAAMC,EAAO/I,KAAKqD,mBAAmCzC,OACrD,QAASiI,IAAYC,GAAUC,EAAIC,oBAK/ChJ,KAAKoF,WAAa,IAAI6D,EAAgBjJ,KAAKgI,QAAU,oBACrDhI,KAAKkJ,iBAAiBlJ,KAAKgI,QAC/B,EAEA1B,uBAAsB,SAAA6C,IAClB,MAAMnF,EAAShE,KAAKqD,mBACpB,GAAIW,EAAOpD,OAAOwI,mCAAoC,CAClD,OAAOpJ,KAAKqJ,+BAChB,KAAO,CACH,OAAOrJ,KAAKsJ,+BAChB,CACJ,EAEAD,8BAA6B,SAAAE,IACzB,MAAMlD,EAAoB,IAAItL,GAAO,sBACrCD,GAAsCuL,GACtC,OAAOA,CACX,EAEAiD,8BAA6B,SAAAE,IACzB,MAAMxF,EAAShE,KAAKqD,mBACpB,MAAMgD,EAAoB,IAAI3M,EAAiBsG,KAAKgI,QAAU,wCAC9D,GAAIhE,EAAOpD,OAAOvE,oBAAqB,CACnCgK,EAAkBoD,gBAAgB,MACtC,CACApD,EAAkBqD,sBAAsB,OACxCrD,EAAkB/E,cAAc,gDAChC+E,EAAkBsD,MAAMC,iBAAiB,OAEzC5F,EAAO6F,YAAY,aAAcxD,EAAkBsD,OAEnD,GAAI3F,EAAOpD,OAAOpD,qBAAsB,CACpC6I,EAAkByD,2BAA2B,MAC7CzD,EAAkB0D,oBAAoB,MACtC1D,EAAkB/E,cAAc,wBAChC+E,EAAkB/E,cAAc,qBACpC,CAEA,OAAO+E,CACX,EAEA2D,iBAAgB,SAAAC,IACZ,MAAMjG,EAAShE,MAAMqD,mBACrB,GAAIW,GAAQuC,UAAW,CAEnB,IAAKvG,KAAKwG,4BAA6B,CACnCxC,EAAOuC,UAAUnM,GAASwL,iBAAkB5F,KAAK6F,mBAAoB7F,MACrEA,KAAKwG,4BAA8B,IACvC,CAEA,IAAKxG,KAAKyG,6BAA8B,CACpCzC,EAAOuC,UAAUnM,GAAS0L,kBAAmB9F,KAAK+F,oBAAqB/F,MACvEA,KAAKyG,6BAA+B,IACxC,CAEA,IAAKzG,KAAK0G,+BAAgC,CACtC1C,EAAOuC,UAAUnM,GAAS4L,oBAAqBhG,KAAKiG,mBAAoBjG,MACxEA,KAAK0G,+BAAiC,IAC1C,CAOA,IAAK1G,KAAK2G,oCAAqC,CAC3C3C,EAAOuC,UAAUnM,GAASwM,yBAA0B5G,KAAK6G,wBAAyB7G,MAClFA,KAAK2G,oCAAsC,IAC/C,CAEA,IAAK3G,KAAK8G,+BAAgC,CACtC9C,EAAOuC,UAAUnM,GAAS8L,oBAAqBlG,KAAKmG,mBAAoBnG,MACxEA,KAAK8G,+BAAiC,IAC1C,CACJ,CACJ,EAEAoD,wBAAuB,SAAAC,IACnB,MAAMnG,EAAShE,KAAKqD,mBACpB,OAAOW,EAAOc,YAAY,YAAcd,EAAOc,YAAY,cAAcsF,MAC7E,EAKAC,qBAAoB,SAAAC,IAChBtK,KAAKuC,sCAAsC8H,sBAC/C,EAESE,kBAAiB,SAAAC,EAACC,GACvB,OAAOzK,KAAKuC,sCAAsCgI,kBAAkBE,EACxE,EAESC,qBAAoB,SAAAC,EAACF,EAA+BG,GACzD,OAAO5K,KAAKuC,sCAAsCmI,qBAAqBD,EAAiBG,EAC5F,EAESC,sBAAqB,SAAAC,EAACL,GAC3B,OAAOzK,KAAKuC,sCAAsCsI,sBAAsBJ,EAC5E,EAESM,kBAAiB,SAAAC,IACtB,OAAOhL,KAAKuC,sCAAsCwI,mBACtD,EAESE,qBAAoB,SAAAC,EAACC,GAC1B,OAAOnL,KAAKuC,sCAAsC0I,qBAAqBE,EAC3E,EAESC,wBAAuB,SAAAC,IAC5B,OAAOrL,KAAKuC,sCAAsC6I,yBACtD,EAESE,sBAAqB,SAAAC,IAC1B,OAAOvL,KAAKuC,sCAAsC+I,uBACtD,EAIAzF,mBAAkB,SAAA2F,IACdxL,KAAKyL,UAAU,gBACnB,EAEA1F,oBAAmB,SAAA2F,IACf,MAAM1H,EAAShE,KAAKqD,mBACpBrD,KAAKqK,uBACLrK,KAAK2L,uBACL3L,KAAK6B,cAAc+J,WAEnB,GAAI5H,EAAOpD,OAAOmE,SAAU,CACxB,MAAM8G,EAAoBlT,EAAQmT,eAAe,qBACjD,GAAID,GAAmBE,YAAa,CAChCF,EAAkBE,YAAY,SAClC,CACJ,CACA/L,KAAKyL,UAAU,kBAGfO,WAAW,KAEPhM,KAAKiM,2CACN,EACP,EAEAhG,mBAAkB,SAAAiG,IACdlM,KAAKyL,UAAU,mBACnB,EAMA5E,wBAAuB,SAAAsF,IACnBnM,KAAKyL,UAAU,wBACnB,EAEAtF,mBAAkB,SAAAiG,IACdpM,KAAKyL,UAAU,mBACnB,EAIAvC,iBAAgB,SAAAmD,EAACC,GACb,MAAMtI,EAAShE,KAAKqD,mBACpBrD,KAAKoF,WAAWmH,aAAa,UAAW,CACpCpE,MAAO,CAAC,CAAEC,KAAM,UAAY,CAAEA,KAAM,oBAAsB,CAAEA,KAAM,4BAClEC,UAAWA,CAACC,EAAe3K,EAA0B6O,KACjD,IAAIC,EAAmB,MACvB,IAAK9O,GAAmB6O,GAAiBA,EAAcE,aAAc,CACjED,EAAmB,IACvB,CAGA,GAAID,GAAiBxI,EAAO2I,6CAA8C,CACtEF,EAAmB,KACvB,CAEA,GAAID,UAAwBxI,EAAOpD,OAAO7B,qBAAuB,WAAY,CACzE,IACI,IAAKiF,EAAOpD,OAAO7B,mBAAmByN,GAAgB,CAClDC,EAAmB,KACvB,CACJ,CAAE,MAAOxJ,GACL,MAAM2J,EAAS,IAAItU,EAAOuU,uBACtB,qBACA7I,EAAOpD,OAAO5D,qBACdiG,GAEJjD,KAAKkB,aAAagC,QAAQ0J,EAC9B,CACJ,CACA,OAAOH,KAIfzM,KAAK8M,QAAU9M,KAAK+M,aAAa/M,KAAKgI,SACtC,GAAIhI,KAAK8M,QAAS,CACd9M,KAAK8M,QAAQP,aAAa,UAAW,CACjCpE,MAAO,CAAC,CAAEC,KAAM,mBAChBC,UAAY2E,IACR,MAAMC,EAAgBD,EAAe,EAAI,KAAO,MAChD,OAAOC,IAGnB,CAEAjN,KAAKkN,gBAAkBlN,KAAKmN,sBAAsBb,GAClD,IAAIc,EAAkB,GACtB,GAAIpN,KAAKqG,mBAAqBrC,GAAQpD,QAAQvD,sBAAwB,MAAO,CACzE+P,EAAgBC,KAAKrN,KAAKqG,kBAC9B,CACA+G,EAAkBA,EAAgBvF,OAAO,CACrC7H,KAAK8H,WACL9H,KAAK4I,eACL5I,KAAKoF,WACLpF,KAAKkN,gBACLlN,KAAK8M,UAGT,IAAK,MAAMQ,KAAkBF,EAAiB,CAC1CpN,KAAK2H,WAAW2F,EACpB,CACAtN,KAAKuN,SAAS,OAClB,EAEQC,qBAAoB,SAAAC,EAACnB,EAAkBzQ,GAC3C,MAAM6R,EAAoB,GAC1B,MAAMC,EAAmBtV,EAAuBuV,KAChD,IAAIC,EACJ,IAAIC,EACJ,IAAIC,EACJ,GAAIlS,IAAS,SAAU,CACnBgS,EAAQ,CACJ1F,MAAO,CAAC,CAAEC,KAAM,4BAChBC,UAAYvM,GAAerC,EAAKuU,QAAQ,gCAAiC,CAAClS,KAE9EgS,EAAcrU,EAAKuU,QAAQ,iCAC3BD,EAAmB3V,EAAuB6V,SAC9C,KAAO,CACHJ,EAAQ,CACJ1F,MAAO,CAAC,CAAEC,KAAM,4BAChBC,UAAYvM,GAAerC,EAAKuU,QAAQ,oBAAqB,CAAClS,KAElEgS,EAAcrU,EAAKuU,QAAQ,qBAC3BD,EAAmB3V,EAAuB8V,eAC9C,CACA,MAAMC,EAA0D,CAC5DN,MAAOA,EACPC,YAAaA,EACbH,iBAAkBA,EAClBI,iBAAkBA,EAClBL,kBAAmBA,GAEvB,IAAIU,EACJ,GAAIvS,IAAS,SAAU,CACnBuS,EAA0B,GAAG9B,mDACjC,KAAO,CACH8B,EAA0B,GAAG9B,6CACjC,CACA,MAAM+B,EAAsB,IAAIlW,EAC5B,GAAGiW,iEACHD,GACF7M,cAAc,0BAChB+M,EAAoB/M,cAAc,wBAClC,MAAMgE,EAAiB,IAAIpN,EACvB,GAAGkW,8CACH,CACIE,MAAOD,EACPpG,MAAO,OACPsG,eAAgBtU,GAAmBuU,OACnCtG,QAAS,CACLC,MAAO,CAAC,CAAEC,KAAM,UAAY,CAAEA,KAAM,WAAa,CAAEA,KAAM,4BACzDC,UAAW,SAAUC,EAAOQ,EAAQ2F,GAChC,OAAOnG,IAAU,IAAMQ,GAAU2F,CACrC,KAIZ,GAAI5S,IAAS,SAAU,CACnBmE,KAAKuF,qBAAuBD,CAChC,KAAO,CACHtF,KAAKsF,eAAiBA,CAC1B,CACA,OAAOA,CACX,EAEA6H,sBAAqB,SAAAuB,EAACpC,GAClB,MAAMtI,EAAShE,KAAKqD,mBAGpBrD,KAAK2O,8BACD3O,KAAKiC,qBAAqB2M,wCAG9B5O,KAAK6O,WAAa7O,KAAKiC,qBAAqB6M,mBAAmBxC,GAG/DtM,KAAK+O,wBAA0B,IAAInV,GAC/BoG,KAAKgI,QAAU,2BACjB1G,cAAc,mCAChBtB,KAAKgP,YAAc,IAAIC,EAAIjP,KAAKgI,QAAU,oBAAqB,CAC3DkH,YAAalP,KAAK+O,wBAClBvG,OAAQ,CACJL,MAAO,CACH,CACIC,KAAM,kBAGdC,UAAY8G,IACR,GAAInL,EAAOpD,OAAOhE,aAAe,MAAQuS,IAAiB,KAAM,CAC5DnP,KAAKgP,YAAY1N,cAAc,qCACnC,KAAO,CACHtB,KAAKgP,YAAYrG,iBAAiB,qCACtC,CACA,OAAOrO,GAAUsT,SAG1BtM,cAAc,4BACjBtB,KAAKoP,oBAAsB,IAAIzU,GAAmBqF,KAAKgI,QAAU,uBACjEhI,KAAKqP,qBAAuB,IAAI5X,EAAe,GAAI,CAC/C6H,QAAS,CAACU,KAAKoP,oBAAqBpP,KAAKgP,eAE7ChP,KAAKqP,qBAAqBC,0BAA4B,SAAUC,EAAUC,GACtEA,EAAW,QAAU,UACrBA,EAAW,SAAW,CAC1B,EACAxP,KAAKqP,qBAAqB/N,cAAc,qCACxCtB,KAAKqP,qBAAqB/N,cAAc,sBACxCtB,KAAKqP,qBAAqB/N,cAAc,oBACxCtB,KAAKyP,uBAAyB,IAAI9V,EAAsB,GAAG2S,gCAC3DtM,KAAKyP,uBAAuBC,kBAAkB1P,KAAKwN,qBAAqBlB,EAAU,YAClFtM,KAAK6O,WAAWxB,KAAKrN,KAAKyP,uBAAuBE,qBACjD3P,KAAK6O,WAAWe,QAASC,IACrB7P,KAAKyP,uBAAuB9H,WAAWkI,KAE3C7P,KAAK8P,mBAAqB,IAAIlV,GAAkB,GAAG0R,sBAA8B,CAC7EyD,WAAY,CAAC/P,KAAKqP,sBAClBW,YAAahQ,KAAKyP,yBAItB,MAAMQ,EAA2E,CAC7EC,mBAAoBlQ,KAAK8P,mBACzBK,aAAc,CAAE/H,KAAM,WACtBgI,UAAW,CAAEhI,KAAM,cAEnBnL,oBAAqB+G,EAAOpD,OAAO3D,oBACnCC,yBAA0B8G,EAAOpD,OAAO1D,yBACxCmT,kBAAmB,IAAI7V,GAAgB,GAAGwF,KAAKgI,2BAC/CsI,WAAY,CACRnI,MAAO,CAAC,CAAEC,KAAM,qBAChBC,UAAY1K,IACR,IAAKA,EAAiB,CAClB,OAAO,KACX,CACA,OAAO,QAInB,MAAM4S,EAAe,IAAInZ,EACrB,GAAG4I,KAAKgI,uBACRiI,GACF3O,cAAc,yBAEhB,OAAOiP,CACX,EAEAC,+CAA8C,SAAAC,EAACC,GAE3C,UAAWA,IAAyB,aAAeA,IAAyB,KAAM,CAE9E,OAAO,KACX,MAAO,GAAKA,EAAqCC,UAAW,CACxD,GAAKD,EAAqCC,UAAUC,SAAS,gCAAiC,CAC1F,OAAO,IACX,MAAO,UAAWF,EAAqBG,aAAe,YAAa,CAC/D,OAAO7Q,KAAKwQ,+CAA+CE,EAAqBG,WACpF,KAAO,CACHC,QAAQ7N,MACJ,+HAEJ,OAAO,KACX,CACJ,MAAO,GAAIyN,EAAqBK,WAAaC,KAAKC,cAAe,CAE7D,OAAO,KACX,KAAO,CACHH,QAAQ7N,MACJ,iGAEJ,OAAO,KACX,CACJ,EAEAgJ,wCAAuC,SAAAiF,IACnC,GAAIlR,KAAKmR,cAAgB,KAAM,CAC3B,MACJ,CACA,GAAInR,KAAK+G,cAAcqK,cAAgBpR,KAAK+G,cAAcoK,cAAgB,KAAM,CAC5E,MACJ,CACA,MAAME,EAA8BC,OAAOC,SACtCzF,eAAe9L,KAAKmR,YAAYtQ,IAChC2Q,wBACL,MAAMC,EAAoBzR,KAAK+G,cAAcqK,aACvCE,OAAOC,SAASzF,eAAe9L,KAAK+G,cAAcoK,YAAYtQ,IAAI2Q,wBAAwBvJ,MAC1F,EACN,IAAIyJ,EAA0B,EAC9B,GAAI1R,KAAKiH,kBAAkBmK,aAAc,CACrC,MAAMO,EAAkB3R,KAAKiH,kBACxB2K,WACAC,OAAO,CAACC,EAAaC,IAASD,EAAcC,EAAK,aAAa3H,OAAQ,GAC3E,GAAIuH,EAAkB,GAAI,CAEtB3R,KAAKiH,kBAAkB3F,cAAc,kDACrCtB,KAAKiH,kBAAkB0B,iBAAiB,mDAC5C,MAAO,GAAIgJ,EAAkB,GAAI,CAE7B3R,KAAKiH,kBAAkB3F,cAAc,oDACrCtB,KAAKiH,kBAAkB0B,iBAAiB,iDAC5C,KAAO,CAEH3I,KAAKiH,kBAAkB0B,iBAAiB,kDACxC3I,KAAKiH,kBAAkB0B,iBAAiB,mDAC5C,CACA,MAAMqJ,EAAyBhS,KAAKiH,kBAAkBkK,YACtD,GAAIa,GAAwBnR,GAAI,CAC5B6Q,EAA0BJ,OAAOC,SAC5BzF,eAAekG,EAAuBnR,IACtC2Q,wBAAwBvJ,KACjC,KAAO,CAEH,CAER,CACA,MAAMgK,EACFZ,EAA4BpJ,MAAQwJ,EAAoBC,EAC5D,MAAMQ,EAAyBlS,KAAKmS,kBAAkBF,GACtD,GAAIP,IAA4B,EAAG,CAC/B,GAAIQ,EAAyB,GAAI,CAC7BlS,KAAKyH,qBAAqB8F,SAAS,GAAG2E,EAAyB,SACnE,KAAO,CACHlS,KAAKyH,qBAAqB8F,SAAS,GAAG2E,EAAyB,OACnE,CACJ,KAAO,CACHlS,KAAKyH,qBAAqB8F,SAAS,GAAG2E,EAAyB,UACnE,CACJ,EAEAvP,eAAc,SAAAA,IAEVqJ,WAAW,IAAMhM,KAAKiM,0CAA2C,EACrE,EAEAkG,kBAAiB,SAAAC,EAACC,GACd,OAAOA,EAAUC,WAAWC,iBAAiBhB,SAASiB,iBAAiBC,SAC3E,EAEA1F,aAAY,SAAA2F,EAACpG,GACT,MAAMtI,EAAShE,KAAKqD,mBAGpBrD,KAAK2S,cAAgB,IAAI5a,EACrBuU,EAAW,IAAMsG,KAAqB,IAAM,wBAC5C,CACIC,UAAW9Y,GAAc+Y,MAGjC9S,KAAK2S,cAAc7O,SAASE,GAE5BA,EAAO6F,YAAY,2BAA4B7J,KAAK2S,cAAc3K,SAElEhI,KAAK2S,cAAcI,gBAAgB,QAAS,CACxC3K,KAAM,UACN4K,QAASA,KACL,MAAMjB,EAAO,IAAI/Z,EAAY,GAAI,CAC7B6D,KAAM,SACNgS,MAAO,UACPC,YAAa,kBAEjB,OAAOiE,KAKf,MAAMkB,EAAe,IAAIrb,EAAOoI,KAAKgI,QAAU,qBAAsB,CACjEkL,KAAMC,EAASC,WAAW,SAC1BC,KAAM,CACFlL,MAAO,CAAC,CAAEC,KAAM,mBAChBC,UAAW,SAAU+B,GACjB,OAAOA,CACX,GAEJlC,QAAS,CACLC,MAAO,CAAC,CAAEC,KAAM,mBAChBC,UAAY+B,GACDA,EAAS,EAEpBkJ,KAAM5b,EAAY6b,QAEtB1X,KAAMhC,GAAW2Z,WACjBC,QAASha,EAAKuU,QAAQ,YACtB0F,MAAOA,KACH,GAAI1T,KAAK2S,cAAcgB,SAAU,CAC7B3T,KAAK2S,cAAciB,OACvB,KAAO,CACH5T,KAAK2S,cAAckB,WAAW,MAC9B7T,KAAK2S,cAAcmB,OAAOb,EAC9B,KAGRA,EAAa3R,cAAc,yBAC3B2R,EAAa,eAAe,CACxBjJ,iBAAkBA,KACd,MAAMhG,EAAShE,KAAKqD,mBACpB,IAAKW,EAAOc,YAAY,qBAAsB,CAE1CmO,EAAac,YACb/P,EAAO6F,YAAY,oBAAqB,KAC5C,KAIRoJ,EAAae,cACT,IAAInc,EAA0B,GAAI,CAC9Boc,SAAUja,GAAwBka,iBAK1C,MAAMC,EAAS,IAAIpM,EAAgB/H,KAAKgI,QAAU,gBAAiB,CAC/D1I,QAAS,CAAC2T,KAEdkB,EAAO7S,cAAc,sBAErB,OAAO6S,CACX,EAEAxI,qBAAoB,SAAAyI,IAEhB,MAAMpQ,EAAShE,KAAKqD,mBACpB,IAAIiC,EACJ,UAAWtB,GAAQpD,QAAQzD,0BAA4B,WAAY,CAC/D,IACI,MAAMkX,EAAuBrQ,EAAOpD,OAAOzD,wBACvC6G,EAAOsQ,gBACPtQ,GAEJ,GAAIqQ,GAAwBA,EAAqBE,cAAe,CAC5D,MAAM3H,EAAS,IAAItU,EAAOuU,uBACtB,0BACA7I,EAAOpD,OAAO5D,qBACd,IAAI2G,MACA,mYAGR3D,KAAKkB,aAAagC,QAAQ0J,GAE1BtH,EAAiBtF,KAAKyP,uBAAuBE,mBACjD,CAEA,MAAM6E,EAAuBxU,KAAKyP,uBAAuBE,oBACzD,GACI6E,IAAyBxU,KAAKuF,sBAC9BiP,IAAyBxU,KAAKsF,gBAC9BkP,IAAyBH,EAC3B,CACE,GAAIG,aAAgCC,EAAS,CACzCD,EAAqBnP,SACzB,CACJ,CACAC,EAAiB+O,CACrB,CAAE,MAAOK,GACL,MAAM9H,EAAS,IAAItU,EAAOuU,uBACtB,0BACA7I,EAAOpD,OAAO5D,qBACd0X,GAEJ1U,KAAKkB,aAAagC,QAAQ0J,GAE1BtH,EAAiBtF,KAAKyP,uBAAuBE,mBACjD,CACJ,CACA,IAAKrK,EAAgB,CACjB,GAAItB,EAAOc,YAAY,iBAAkB,CACrC,IAAK9E,KAAKuF,qBAAsB,CAC5BvF,KAAKuF,qBAAuBvF,KAAKwN,qBAAqBxN,KAAKgI,QAAS,SACxE,CACA1C,EAAiBtF,KAAKuF,oBAC1B,KAAO,CACHD,EAAiBtF,KAAKsF,cAC1B,CACJ,CACAtF,KAAKyP,uBAAuBC,kBAAkBpK,EAClD,EAEAqP,eAAc,SAAAC,IAGV5U,KAAK6U,WAAWC,kBAAkB,YAAa,OAC/C9U,KAAK6U,WAAW9B,gBAAgB,YAAa,CACzC3K,KAAM,sBACN4K,QAASA,IACE,IAAIlb,EAAiB,GAAI,CAC5B6G,IAAK,CAAEyJ,KAAM,OACbiL,KAAM,CAAEjL,KAAM,QACd2M,SAAU,CAAE3M,KAAM,gBAI9BpI,KAAK6U,WAAWG,MACpB,EAEA7a,mBAAkB,SAAA8a,EAACC,GACf/a,GAAmB,CACfkG,YAAaL,KAAKqD,mBAClB6R,UAAWA,EACXC,oBAAqB,EACrBC,YAAa1U,UACb2U,cAAerV,MAEvB,EAWAsV,SAAQ,SAAAC,IACHvV,KAAKqD,mBAAmCiS,WACzC,OAAOtV,IACX,EAaOwV,qBAAoB,SAAAC,IACvB,OAAOzV,KAAKqD,iBAAiB,oBACjC,EASOqS,8BAA6B,SAAAC,IAChC,MAAM3R,EAAShE,KAAKqD,mBACpB,UAAWW,IAAW,oBAAsBA,EAAOpD,SAAW,YAAa,CAGvE,OAAOF,SACX,CACA,OAAOsD,EAAOc,YAAY,qCAC9B,EASO8Q,8BAA6B,SAAAC,EAACC,GACjC,MAAM9R,EAAShE,KAAKqD,mBACpB,UAAWW,IAAW,oBAAsBA,EAAOpD,SAAW,YAAa,CAGvE,OAAOZ,IACX,CACAgE,EAAO6F,YAAY,qCAAsCiM,GACzD,OAAO9V,IACX,EASO+V,2BAA0B,SAAAC,IAC7B,MAAMhS,EAAShE,KAAKqD,mBACpB,UAAWW,IAAW,oBAAsBA,EAAOpD,SAAW,YAAa,CAGvE,OAAOF,SACX,CACA,OAAOsD,EAAOc,YAAY,kCAC9B,EASOmR,2BAA0B,SAAAC,EAACC,GAC9B,MAAMnS,EAAShE,KAAKqD,mBACpB,UAAWW,IAAW,oBAAsBA,EAAOpD,SAAW,YAAa,CAGvE,OAAOZ,IACX,CACAgE,EAAO6F,YAAY,kCAAmCsM,GACtD,OAAOnW,IACX,EAWOqD,iBAAgB,SAAA+S,EAAC3S,GACpB,OAAA4S,0BAAArW,KAAsByD,EAC1B,EASA6S,mBAAkB,SAAAC,IAGd,IAAIC,EACJ,MAAMnW,EAAcL,KAAKqD,mBACzB,UAAWhD,EAAY,eAAiB,aAAeA,EAAY,eAAiB,KAAM,CACtFmW,EAAY,CAAElI,MAAO,GACzB,KAAO,CACHkI,EAAYxW,KAAKqD,iBAAiB,qBAAqByB,YAAY,WACvE,CACA,OAAO0R,CACX,EASAC,mBAAkB,SAAAC,IACd,MAAM1S,EAAShE,KAAKqD,mBACpB,OAAOW,GAAQyS,oBAGnB,EAYAE,mBAAkB,SAAAC,EAACta,GACf,MAAM0H,EAAShE,KAAKqD,mBACpB,UAAW/G,IAAoB,YAAa,CACxC,MAAMqH,MACF,+DACI,2DACA,0DAEZ,MAAO,UAAWK,IAAW,oBAAsBA,EAAOpD,SAAW,YAAa,CAG9E,OAAOZ,IACX,CACAA,KAAK6W,sBAAsB,CACvBva,gBAAiBA,EACjBC,eAAgByH,EAAO8S,sBAE3B,OAAO9W,IACX,EASA8W,kBAAiB,SAAAC,IACb,MAAM/S,EAAShE,KAAKqD,mBACpB,OAAOW,GAAQ8S,mBACnB,EAYAE,kBAAiB,SAAAC,EAAC1a,GACd,MAAMyH,EAAShE,KAAKqD,mBACpB,UAAW9G,IAAmB,YAAa,CACvC,MAAMoH,MACF,+DACI,2DACA,uDAEZ,MAAO,UAAWK,IAAW,oBAAsBA,EAAOpD,SAAW,YAAa,CAG9E,OAAOZ,IACX,CACAA,KAAK6W,sBAAsB,CACvBva,gBAAiB0H,EAAOyS,qBACxBla,eAAgBA,IAEpB,OAAOyD,IAGX,EASAkX,sBAAqB,SAAAC,IACjB,MAAMnT,EAAShE,KAAKqD,mBACpB,GAAIW,EAAQ,CACR,MAAO,CACH1H,gBAAiB0H,EAAOyS,qBACxBla,eAAgByH,EAAO8S,oBAE/B,CAGJ,EAYAD,sBAAqB,SAAAO,EAACC,GAIlB,MAAMrT,EAAShE,KAAKqD,mBACpB,UAAWgU,IAAwB,YAAa,CAC5C,MAAM1T,MACF,+DACI,+DACA,yIAEZ,MAAO,UAAWK,IAAW,oBAAsBA,EAAOpD,SAAW,YAAa,CAE9E,OAAOZ,IACX,CACA,UACWqX,EAAoB/a,kBAAoB,oBACxC+a,EAAoB9a,iBAAmB,YAChD,CACE,MAAMoH,MACF,+DACI,0DACA,yIAEZ,CACAK,EAAOsT,oCAAoC,CACvChb,gBAAiB+a,EAAoB/a,gBACrCC,eAAgB8a,EAAoB9a,iBAExCyD,KAAKuX,eAAe1D,WAAW7T,KAAKkK,2BACpClG,EAAOwT,gCACPxX,KAAKgF,SACLhF,KAAKqK,uBACL,OAAOrK,IACX,EAEAyX,kBAAiB,SAAAC,IACb,MAAO,oCACX,EASAC,YAAW,SAAAC,IACP,OAAO5X,KAAK6X,SAChB,EAUAC,YAAW,SAAAC,EAACnc,GACR,GAAIA,IAAaoE,KAAKgY,cAAcpc,GAAW,CAC3CoE,KAAK6X,UAAYjc,EACjBoE,KAAKsB,cAAc1F,EACvB,CACA,OAAOoE,IACX,EASAsU,cAAa,SAAA2D,IACT,UAAWjY,KAAKqD,qBAAuB,YAAa,CAChD,MAAMW,EAAShE,KAAKqD,mBACpB,MAAM6U,EAAKlU,EAAOsQ,gBAClB,OAAO4D,EAAGrX,EACd,CACJ,EAWAsX,cAAa,SAAAC,EAACC,EAAsBC,EAAoBC,GACpD,UAAWvY,KAAKqD,qBAAuB,YAAa,CAChD,MAAMW,EAAShE,KAAKqD,mBACpBW,EAAOwU,kBAAkBH,EAAcC,EAAWC,EACtD,CACA,OAAOvY,IACX,EAWMyY,gBAAe/T,eAAAgU,EAACJ,EAAY,MAC9B,UAAWtY,KAAKqD,qBAAuB,YAAa,CAChD,MAAMW,EAAShE,KAAKqD,mBACpB,OAAOW,EAAOyU,gBAAgBH,EAClC,CACA,OAAOtY,IACX,EAaMgF,OAAMN,eAAAiU,EAACC,EAAkB,MAAON,EAAY,MAC9C,MAAMO,EAAsB7Y,KAAKqD,mBACjC,GAAIuV,EAAiB,CACjBC,EAAoBD,iBACxB,CACA,GAAIN,EAAW,CACX,OAAOO,EAAoBC,iBAC/B,CACJ,EAUMC,YAAWrU,eAAAsU,IACb,MAAMH,EAAsB7Y,KAAKqD,mBACjCwV,EAAoBI,aACpBjZ,KAAKkZ,iBACT,EAWMA,gBAAexU,eAAAyU,IACjBnZ,KAAKgF,OAAO,KAAM,KACtB,EAWMoU,4BAA2B1U,eAAA2U,IAC7BrZ,KAAKgF,OAAO,KAAM,MACtB,EASAsU,cAAa,SAAAC,IACT,UAAWvZ,KAAKqD,qBAAuB,YAAa,CAChD,MAAMW,EAAShE,KAAKqD,mBACpB,OAAOW,EAAOwV,kBAClB,CACA,OAAOte,GAAuBue,cAAcC,sBAAsB,aACtE,EAaAC,cAAa,SAAAC,EAAC9d,EAAoBwc,GAC9B,UAAWtY,KAAKqD,qBAAuB,YAAa,CAChD,MAAMW,EAAShE,KAAKqD,mBACpBW,EAAO6V,iBAAiB/d,EAAYwc,EACxC,CACA,OAAOtY,IACX,EASA8Z,UAAS,SAAAC,IACL,GAAI/Z,KAAKqD,mBAAoB,CACzB,MAAMW,EAAShE,KAAKqD,mBACpB,OAAOW,EAAOpD,MAClB,CACA,MACJ,EASAoZ,UAAS,SAAAC,IACL,GAAIja,KAAKqD,mBAAoB,CACzB,MAAMW,EAAShE,KAAKqD,mBACpB,OAAOW,EAAOc,YAAY,YAC9B,CACA,MACJ,EASAoV,uBAAsB,SAAAC,IAClB,GAAIna,KAAKqD,mBAAoB,CACzB,MAAMW,EAAShE,KAAKqD,mBACpB,OAAOW,EAAOkW,wBAClB,CACA,OAAOhf,GAAuBue,cAAcC,sBAAsB,sBACtE,EAYMU,2BAA0B1V,eAAA2V,IAC5B,MAAMrW,EAAShE,KAAKqD,mBACpB,MAAMgV,EAAerY,KAAKsU,gBAC1B,MAAMgG,EAAuBtW,EAAOV,SAC/BgR,cAAc+D,GACdkC,sCAAsC1Z,GAC3C,GAAIyZ,EAAsB,CACtB,MAAME,EAAuBxW,EACxBc,YAAY,WACZ2V,OAAQ1I,GAASA,EAAK2I,cAAgBJ,GAC3C,GAAIE,EAAqBpQ,OAAS,EAAG,OAC3BoQ,EAAqB,IAAIG,aACnC,CACJ,CACJ,EAQAC,kCAAiC,SAAAC,IAC7B,GAAI7a,KAAKqD,mBAAoB,CACzB,MAAMW,EAAShE,KAAKqD,mBACpBW,EAAO6F,YAAY,yBAA0B7F,EAAO8W,uBACxD,CACJ,EAiBAC,uBAAsB,SAAAC,EAClB9e,EACAoc,GAEA,GAAItY,KAAKqD,mBAAoB,CACzB,MAAMW,EAAShE,KAAKqD,mBACpBW,EAAO+W,uBAAuB7e,EAAqBoc,EACvD,CACA,OAAOtY,IACX,EAgBAib,8BAA6B,SAAAC,EAACC,EAAaV,EAAgBW,GACvD,MAAMC,EAAQrb,KAAKqD,mBACnB,IAAKgY,EAAO,CACR,MAAM,IAAInhB,GAAa,KAAM,kDACjC,CACA,OAAOmhB,EAAMC,6BAA6B,CACtCH,IAAKA,EACLV,OAAQA,EACRW,aAAcA,EACdpd,UAAW,OACZud,SACP,EAcAD,6BAA4B,SAAAE,EAACf,EAAgBra,GACzC,MAAMib,EAAQrb,KAAKqD,mBACnB,OAAOgY,EAAMC,6BAA6Bb,EAAQra,EACtD,EAgBAqb,4CAA2C,SAAAC,EAEvCC,EACAC,EACAxf,EACAyf,GAEA,MAAMR,EAAQrb,KAAKqD,mBACnB,OAAOgY,EAAM/X,SAASmY,4CAClBE,EACAC,EACAxf,EACAyf,EAER,EAoBAC,iBAAgB,SAAAC,EAACC,GACb,MAAMX,EAAQrb,KAAKqD,mBACnBgY,GAAOY,aAAaC,YAAYF,EACpC,EAUAG,kBAAiB,SAAAC,IACb,MAAMf,EAAQrb,KAAKqD,mBACnB,OAAOgY,GAAOY,aAAaI,SAC/B,EAWAC,kBAAiB,SAAAC,EAACvd,GACd,MAAMqc,EAAQrb,KAAKqD,mBACnBgY,GAAOY,aAAaO,aAAaxd,GACjC,OAAOgB,IACX,EAYQ6C,cAAa,SAAA4Z,IAGjB,MAAMC,EAAanL,SAASoL,uBAAuB,mBAAqB,GACxE,IAAK,MAAMC,KAAaF,EAAY,CAChC,MAAMG,EAAYlkB,GAASmT,eAAe8Q,EAAU/b,IACpD,GACIgc,GACAA,GAAWC,aAAa9U,SAAS+U,SAAS,6CAC5C,CACE,MAAMC,EAAUH,GAAWI,cAAgB,GAC3C,IAAK,MAAMC,KAAOF,EAAS,CACvB,GAAIE,GAAKC,YAActjB,GAAWujB,QAAS,CAEvCF,GAAKnJ,YACL,KACJ,CACJ,CACJ,CACJ,CAGA,MAAMsJ,EAAY,CACd,6BACA,kCACA,kDACA,oCACA,wCACA,iBACA,6BAGJ,IAAK,MAAMC,KAAYD,EAAW,CAC9B,MAAME,EACFhM,SAASoL,uBAAuBW,GAAU,IAAM/L,SAASzF,eAAewR,GAC5E,MAAME,EAAa7kB,GAASmT,eAAeyR,GAAY1c,IACvD,GAAI2c,EAAY,CACZ,GAAIA,aAAsBC,EAAQ,CAC9B,MAAMT,EAAUQ,GAAYP,cAAgB,GAC5C,IAAK,MAAMC,KAAOF,EAAS,CACvB,GAAIE,GAAKC,YAActjB,GAAWujB,QAAS,CAEvCF,GAAKnJ,YACL,KACJ,CACJ,CACJ,CACA,GAAIyJ,aAAsBzkB,EAAa,CACnCykB,GAAY5J,OAChB,CACJ,CACJ,CAKJ,EAuBM8J,wBAAuBhZ,eAAAiZ,IAIzB,MAAMC,QAAgB5d,KAAKqD,mBAAmCqa,0BAC9D,IAAKE,EAAO/U,QAAS,CACjB,OAAO+U,CACX,CACA,UACU5d,KAAK+C,iBACf,CAAE,MAAO8a,GACL,MAAO,CAAEhV,QAAS,MAAO5F,MAAO4a,EACpC,CACA,MAAO,CAAEhV,QAAS,KACtB,EAiBOiV,2BAA0B,SAAAC,IAC7B,MAAM1C,EAAQrb,KAAKqD,mBACnB,OAAOgY,EAAM2C,oCACjB,EAWOrR,2CAA0C,SAAAsR,IAC7C,MAAM5C,EAAQrb,KAAKqD,mBACnB,OAAOgY,EAAM1O,4CACjB,EAWOuR,qBAAoB,SAAAC,IACvB,MAAM9C,EAAQrb,KAAKqD,mBACnB,GAAIgY,EAAO,CACPA,EAAM+C,eACV,CACJ,IAtmFiBljB,GAmxBFmjB,eAAiB,EAnxBfnjB,GAw9BF8F,sBAAqB,SAArBA,EAAsBvE,GACjC,MAAMsE,EAAuC,CAAC,EAE9C,MAAMud,EAAqBpjB,GAAuBue,cAAc8E,gBAChE,IAAK,MAAMC,KAAoBF,EAAoB,CAC/C,UAAW7hB,EAAS+hB,KAAsB,YAAa,CACnD,QACJ,CACAzd,EAAmByd,GAAoB/hB,EAAS+hB,EACpD,CAEA,MAAMC,EAAiBvjB,GAAuBue,cAAciF,YAC5D,IAAK,MAAMC,KAAiBF,EAAgB,CACxC,UAAWhiB,EAASkiB,KAAmB,YAAa,CAChD,QACJ,CACA5d,EAAmB4d,GAAiBliB,EAASkiB,EACjD,CAGA,OAAO5d,CACX,EA7+BiB7F,GA++BFsF,qBAAoB,SAApBA,EACXT,EACAtD,GAGA,UAAWsD,IAAQ,UAAYA,IAAQW,WAAajE,IAAaiE,UAAW,CACxEjE,EAAWsD,EACXA,EAAMtD,GAAYA,EAASoE,EAC/B,MAAO,UAAWpE,IAAa,YAAa,CACxCA,EAAW,CAAC,CAChB,CAGA,UAAWsD,IAAQ,UAAYA,EAAIqK,OAAS,EAAG,CAC3C3N,EAASoE,GAAKd,CAClB,CAGA,IAAKA,GAAOA,EAAIqK,SAAW,EAAG,CAC1BrK,EAAM,UAAY,SAAW7E,GAAuBmjB,iBACpD5hB,EAASoE,GAAKd,CAClB,CAGA,UAAWA,IAAQ,UAAYA,EAAIqK,OAAS,UAAY3N,EAASoE,KAAO,YAAa,CACjF,GAAId,IAAQtD,EAASoE,GAAI,CACrB,MAAM,IAAI8C,MACN,qFACI,oHAEZ,CACJ,CAEA,MAAO,CAAE5D,MAAKtD,WAClB,EAwlDJ,IAAImW,GAAmB,EAAE,OAzmFJ1X,EAAsB","ignoreList":[]}