{"version":3,"file":"PersonalizationStorage-dbg.js","names":["sap","ui","define","__Personalizer","_interopRequireDefault","obj","__esModule","default","Personalizer","PersonalizationStorage","constructor","keyValueStore","searchModel","prefix","isStorageOfPersonalDataAllowed","saveNotDelayed","Promise","resolve","save","getPersonalizer","key","deleteItem","getItem","setItem","data"],"sources":["PersonalizationStorage.ts"],"sourcesContent":["/*!\n * SAPUI5\n * Copyright (c) 2025 SAP SE or an SAP affiliate company. All rights reserved.\n * \n */\nimport SearchModel from \"../SearchModel\";\nimport Personalizer from \"./Personalizer\";\n\nexport interface IKeyValueStore {\n    isStorageOfPersonalDataAllowed(context: { searchModel: SearchModel }): boolean;\n\n    save(context: { searchModel: SearchModel }): Promise<unknown>;\n\n    /**\n     * Remove item with given key from storage.\n     * @param key Key to search for data in the storage\n     * @returns void\n     */\n    deleteItem(key: string, context: { searchModel: SearchModel }): void;\n\n    /**\n     * Return item with given key from storage if found.\n     * @param key the key to search for data in the storage\n     * @returns the data if found or otherwise null\n     */\n    getItem(key: string, context: { searchModel: SearchModel }): unknown;\n\n    /**\n     * Add item with given key and data to the storage.\n     * @param key Key for to access the data later on\n     * @param data Data to store\n     * @returns true if save was successful, otherwise false\n     */\n    setItem(key: string, data: unknown, context: { searchModel: SearchModel }): boolean;\n}\n\ninterface IPersonalizationStorage {\n    saveNotDelayed(): Promise<void>;\n    getPersonalizer(key: string): Personalizer;\n}\n\nexport default class PersonalizationStorage implements IPersonalizationStorage {\n    constructor(\n        readonly keyValueStore: IKeyValueStore,\n        readonly searchModel: SearchModel,\n        readonly prefix = \"default\"\n    ) {}\n\n    isStorageOfPersonalDataAllowed(): boolean {\n        return this.keyValueStore.isStorageOfPersonalDataAllowed({ searchModel: this.searchModel });\n    }\n\n    saveNotDelayed(): Promise<void> {\n        return Promise.resolve();\n    }\n\n    save(): Promise<unknown> {\n        return this.keyValueStore.save({ searchModel: this.searchModel });\n    }\n\n    getPersonalizer(key: string): Personalizer {\n        return new Personalizer(key, this);\n    }\n\n    deleteItem(key: string): void {\n        this.keyValueStore.deleteItem(key, { searchModel: this.searchModel });\n    }\n\n    getItem(key: string): unknown {\n        return this.keyValueStore.getItem(key, { searchModel: this.searchModel });\n    }\n\n    setItem(key: string, data: unknown): boolean {\n        return this.keyValueStore.setItem(key, data, { searchModel: this.searchModel });\n    }\n}\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AAJAA,GAAA,CAAAC,EAAA,CAAAC,MAAA,+BAAAC,cAAA;EAAA;;EAAA,SAAAC,uBAAAC,GAAA;IAAA,OAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,WAAAD,GAAA,CAAAE,OAAA,mBAAAF,GAAA,CAAAE,OAAA,GAAAF,GAAA;EAAA;EAAA,MAMOG,YAAY,GAAAJ,sBAAA,CAAAD,cAAA;EAmCJ,MAAMM,sBAAsB,CAAoC;IAC3EC,WAAWA,CACEC,aAA6B,EAC7BC,WAAwB,EACxBC,MAAM,GAAG,SAAS,EAC7B;MAAA,KAHWF,aAA6B,GAA7BA,aAA6B;MAAA,KAC7BC,WAAwB,GAAxBA,WAAwB;MAAA,KACxBC,MAAM,GAANA,MAAM;IAChB;IAEHC,8BAA8BA,CAAA,EAAY;MACtC,OAAO,IAAI,CAACH,aAAa,CAACG,8BAA8B,CAAC;QAAEF,WAAW,EAAE,IAAI,CAACA;MAAY,CAAC,CAAC;IAC/F;IAEAG,cAAcA,CAAA,EAAkB;MAC5B,OAAOC,OAAO,CAACC,OAAO,CAAC,CAAC;IAC5B;IAEAC,IAAIA,CAAA,EAAqB;MACrB,OAAO,IAAI,CAACP,aAAa,CAACO,IAAI,CAAC;QAAEN,WAAW,EAAE,IAAI,CAACA;MAAY,CAAC,CAAC;IACrE;IAEAO,eAAeA,CAACC,GAAW,EAAgB;MACvC,OAAO,IAAIZ,YAAY,CAACY,GAAG,EAAE,IAAI,CAAC;IACtC;IAEAC,UAAUA,CAACD,GAAW,EAAQ;MAC1B,IAAI,CAACT,aAAa,CAACU,UAAU,CAACD,GAAG,EAAE;QAAER,WAAW,EAAE,IAAI,CAACA;MAAY,CAAC,CAAC;IACzE;IAEAU,OAAOA,CAACF,GAAW,EAAW;MAC1B,OAAO,IAAI,CAACT,aAAa,CAACW,OAAO,CAACF,GAAG,EAAE;QAAER,WAAW,EAAE,IAAI,CAACA;MAAY,CAAC,CAAC;IAC7E;IAEAW,OAAOA,CAACH,GAAW,EAAEI,IAAa,EAAW;MACzC,OAAO,IAAI,CAACb,aAAa,CAACY,OAAO,CAACH,GAAG,EAAEI,IAAI,EAAE;QAAEZ,WAAW,EAAE,IAAI,CAACA;MAAY,CAAC,CAAC;IACnF;EACJ;EAAC,OAAAH,sBAAA;AAAA","ignoreList":[]}