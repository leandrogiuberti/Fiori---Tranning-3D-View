{"version":3,"file":"PersonalizationStorage.js","names":["sap","ui","define","__Personalizer","_interopRequireDefault","obj","__esModule","default","Personalizer","PersonalizationStorage","constructor","keyValueStore","searchModel","prefix","this","isStorageOfPersonalDataAllowed","saveNotDelayed","Promise","resolve","save","getPersonalizer","key","deleteItem","getItem","setItem","data"],"sources":["PersonalizationStorage.ts"],"sourcesContent":["/*!\n * SAPUI5\n * Copyright (c) 2025 SAP SE or an SAP affiliate company. All rights reserved.\n * \n */\nimport SearchModel from \"../SearchModel\";\nimport Personalizer from \"./Personalizer\";\n\nexport interface IKeyValueStore {\n    isStorageOfPersonalDataAllowed(context: { searchModel: SearchModel }): boolean;\n\n    save(context: { searchModel: SearchModel }): Promise<unknown>;\n\n    /**\n     * Remove item with given key from storage.\n     * @param key Key to search for data in the storage\n     * @returns void\n     */\n    deleteItem(key: string, context: { searchModel: SearchModel }): void;\n\n    /**\n     * Return item with given key from storage if found.\n     * @param key the key to search for data in the storage\n     * @returns the data if found or otherwise null\n     */\n    getItem(key: string, context: { searchModel: SearchModel }): unknown;\n\n    /**\n     * Add item with given key and data to the storage.\n     * @param key Key for to access the data later on\n     * @param data Data to store\n     * @returns true if save was successful, otherwise false\n     */\n    setItem(key: string, data: unknown, context: { searchModel: SearchModel }): boolean;\n}\n\ninterface IPersonalizationStorage {\n    saveNotDelayed(): Promise<void>;\n    getPersonalizer(key: string): Personalizer;\n}\n\nexport default class PersonalizationStorage implements IPersonalizationStorage {\n    constructor(\n        readonly keyValueStore: IKeyValueStore,\n        readonly searchModel: SearchModel,\n        readonly prefix = \"default\"\n    ) {}\n\n    isStorageOfPersonalDataAllowed(): boolean {\n        return this.keyValueStore.isStorageOfPersonalDataAllowed({ searchModel: this.searchModel });\n    }\n\n    saveNotDelayed(): Promise<void> {\n        return Promise.resolve();\n    }\n\n    save(): Promise<unknown> {\n        return this.keyValueStore.save({ searchModel: this.searchModel });\n    }\n\n    getPersonalizer(key: string): Personalizer {\n        return new Personalizer(key, this);\n    }\n\n    deleteItem(key: string): void {\n        this.keyValueStore.deleteItem(key, { searchModel: this.searchModel });\n    }\n\n    getItem(key: string): unknown {\n        return this.keyValueStore.getItem(key, { searchModel: this.searchModel });\n    }\n\n    setItem(key: string, data: unknown): boolean {\n        return this.keyValueStore.setItem(key, data, { searchModel: this.searchModel });\n    }\n}\n"],"mappings":";;;;;AAAAA,IAAAC,GAAAC,OAAA,4BAAAC,GAAA,sBAAAC,EAAAC,GAAA,OAAAA,KAAAC,mBAAAD,EAAAE,UAAA,YAAAF,EAAAE,QAAAF,CAAA,OAMOG,EAAYJ,EAAAD,GAmCJ,MAAMM,EACjBC,YACaC,EACAC,EACAC,EAAS,WACpBC,KAHWH,gBAA6BG,KAC7BF,cAAwBE,KACxBD,QACV,CAEHE,iCACI,OAAOD,KAAKH,cAAcI,+BAA+B,CAAEH,YAAaE,KAAKF,aACjF,CAEAI,iBACI,OAAOC,QAAQC,SACnB,CAEAC,OACI,OAAOL,KAAKH,cAAcQ,KAAK,CAAEP,YAAaE,KAAKF,aACvD,CAEAQ,gBAAgBC,GACZ,OAAO,IAAIb,EAAaa,EAAKP,KACjC,CAEAQ,WAAWD,GACPP,KAAKH,cAAcW,WAAWD,EAAK,CAAET,YAAaE,KAAKF,aAC3D,CAEAW,QAAQF,GACJ,OAAOP,KAAKH,cAAcY,QAAQF,EAAK,CAAET,YAAaE,KAAKF,aAC/D,CAEAY,QAAQH,EAAaI,GACjB,OAAOX,KAAKH,cAAca,QAAQH,EAAKI,EAAM,CAAEb,YAAaE,KAAKF,aACrE,EACH,OAAAH,CAAA","ignoreList":[]}