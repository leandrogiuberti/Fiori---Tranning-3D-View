/*!
 * SAPUI5
 * Copyright (c) 2025 SAP SE or an SAP affiliate company. All rights reserved.
 * 
 */
sap.ui.define(["sap/ui/layout/ResponsiveSplitter","sap/ui/layout/SplitterLayoutData","sap/m/VBox","sap/ui/layout/SplitPane","sap/ui/layout/PaneContainer","sap/ui/core/library","sap/m/Text","../UIEvents"],function(e,t,n,a,i,s,o,r){"use strict";function l(e){return e&&e.__esModule&&typeof e.default!=="undefined"?e.default:e}const c=s["Orientation"];const u=l(r);const h=e.extend("sap.esh.search.ui.controls.SearchLayoutResponsive",{renderer:{apiVersion:2},metadata:{properties:{searchIsBusy:{type:"boolean"},busyDelay:{type:"int"},showFacets:{type:"boolean"},facetPanelResizable:{type:"boolean",defaultValue:false},facetPanelWidthInPercent:{type:"int",defaultValue:25},facetPanelMinWidth:{type:"int",defaultValue:288},animateFacetTransition:{type:"boolean",defaultValue:false}},aggregations:{resultPanelContent:{type:"object",multiple:false},facetPanelContent:{type:"object",multiple:false}}},constructor:function s(r,l){e.prototype.constructor.call(this,r,l);const u=new n("",{items:[new o]});this._paneLeft=new a({requiredParentWidth:10,content:u});this._paneRight=new a({requiredParentWidth:10,content:this._resultPanelContent});this._paneLeft.setLayoutData(new t({size:"0%",resizable:false}));this._paneMainContainer=new i({orientation:c.Horizontal,panes:[this._paneLeft,this._paneRight],resize:()=>{this.triggerUpdateLayout()}});this._paneMainContainer.setLayoutData(new t({size:"100%",resizable:false}));const h=this._paneMainContainer;this.setRootPaneContainer(h);this.setDefaultPane(this._paneRight)},getFacetPanelContent:function e(){const t=this._paneLeft;if(t?.getContent()){return t.getContent()}return undefined},setFacetPanelContent:function e(t){this._facetPanelContent=t;const n=this._paneLeft;if(n){n.setContent(t)}},setResultPanelContent:function e(t){this._resultPanelContent=t;if(this._paneRight){this._paneRight.setContent(t)}},setSearchIsBusy:function e(t){const n=this.getModel();if(!n){return}const a=n.getSearchCompositeControlInstanceByChildControl(this);if(!a){return}a.setBusyIndicatorDelay(this.getProperty("busyDelay"));a.setBusy(t)},setShowFacets:function e(t){if(!this._paneRight){return}this.updateLayout(t);return this},setFacetPanelWidthInPercent:function e(t){this.setProperty("facetPanelWidthInPercent",t,true);this._facetPanelWidthSizeIsOutdated=true;return this},triggerUpdateLayout:function e(){const t=this?._paneLeft.getLayoutData();const n=t.getProperty("size").replace("%","");const a=parseInt(n);const i=a>0;this.updateLayout(i)},updateLayout:function e(a){const i=this._paneLeft;if(i?.getContent()instanceof n){const e=i.getContent().getItems();if(e?.length>0&&e[0]instanceof o){i.setContent(this._facetPanelContent)}}if(this._facetPanelContent){if(this.getProperty("animateFacetTransition")){this._facetPanelContent.addStyleClass("sapUshellSearchFacetAnimation")}else{this._facetPanelContent.removeStyleClass("sapUshellSearchFacetAnimation")}}if(this?._paneLeft?.getContent()){let e;const n=this?._paneLeft.getLayoutData();if(!a){this._paneLeft.getContent().setVisible(false);this._paneLeft.setLayoutData(new t({size:"0%",minSize:0,resizable:false}))}else{this._paneLeft.getContent().setVisible(true);const a=this.getModel();let i=this.getProperty("facetPanelMinWidth");if(a.config.optimizeForValueHelp){e=.01;i=0}else if(this._facetPanelWidthSizeIsOutdated){e=this.getProperty("facetPanelWidthInPercent");this._facetPanelWidthSizeIsOutdated=false}else{e=parseInt(n.getProperty("size").replace("%",""));if(e<1){if(this._previousFacetPanelWidthSize){e=this._previousFacetPanelWidthSize}else{e=this.getProperty("facetPanelWidthInPercent")}}}this._paneLeft.setLayoutData(new t({size:e+"%",minSize:i,resizable:this.getProperty("facetPanelResizable")}));this._previousFacetPanelWidthSize=e}}this._paneMainContainer.setLayoutData(new t({size:"100%",resizable:false}));const s=()=>{this.getModel().notifySubscribers(u.ESHSearchLayoutChanged)};const r=document.querySelector(".sapUiFixFlexFixed");if(r){const e=()=>{s();r.removeEventListener("transitionend",e)};r.addEventListener("transitionend",e)}},convertRemToPixel:function e(t){return t*parseFloat(getComputedStyle(document.documentElement).fontSize)},convertPixelToRem:function e(t){return t/parseFloat(getComputedStyle(document.documentElement).fontSize)}});return h});
//# sourceMappingURL=SearchLayoutResponsive.js.map