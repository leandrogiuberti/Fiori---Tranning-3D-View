{"version":3,"file":"SearchText-dbg.js","names":["sap","ui","define","Text","Icon","SearchHelper","SearchText","extend","renderer","apiVersion","render","rm","control","openStart","getId","class","getWrapping","tooltip","getTooltip_AsString","attr","openEnd","icon","getAggregation","renderControl","close","metadata","properties","maxLines","type","text","defaultValue","wrapping","aggregations","_text","multiple","constructor","_constructor","sId","settings","Text.prototype.constructor.call","init","_init","setAggregation","getProperty","addStyleClass","_addStyleClass","sStyleClass","setText","_setText","sText","setProperty","setMaxLines","_setMaxLines","iMaxLines","setWrapping","_setWrapping","bWrapping","setIcon","_setIcon","setTooltip","_setTooltip","sTooltip","onAfterRendering","_onAfterRendering","oEvent","Text.prototype.onAfterRendering.call","isDestroyed","iconDomRef","getDomRef","textDomRef","insertBefore","firstChild","boldTagUnescaper","calculateTooltipForwordEllipsis"],"sources":["SearchText.ts"],"sourcesContent":["/*!\n * SAPUI5\n * Copyright (c) 2025 SAP SE or an SAP affiliate company. All rights reserved.\n * \n */\nimport Text from \"sap/m/Text\";\nimport Icon from \"sap/ui/core/Icon\";\nimport * as SearchHelper from \"sap/esh/search/ui/SearchHelper\";\nimport { $TextSettings } from \"sap/m/Text\";\nimport Control from \"sap/ui/core/Control\";\nimport { MetadataOptions } from \"sap/ui/base/ManagedObject\";\nimport RenderManager from \"sap/ui/core/RenderManager\";\nimport TooltipBase from \"sap/ui/core/TooltipBase\";\n\nexport interface SearchTextSettings extends $TextSettings {\n    icon?: Icon;\n}\n\n/**\n * @namespace sap.esh.search.ui.controls\n */\nexport default class SearchText extends Text {\n    static readonly metadata: MetadataOptions = {\n        properties: {\n            maxLines: {\n                type: \"int\",\n            },\n            text: {\n                type: \"string\",\n                defaultValue: \"\",\n            },\n            wrapping: {\n                type: \"boolean\",\n                defaultValue: true,\n            },\n        },\n        aggregations: {\n            _text: {\n                type: \"sap.m.Text\",\n                multiple: false,\n            },\n            icon: {\n                type: \"sap.ui.core.Icon\",\n                multiple: false,\n            },\n        },\n    };\n\n    constructor(sId?: string, settings?: SearchTextSettings) {\n        super(sId, settings);\n    }\n\n    init(): void {\n        this.setAggregation(\n            \"_text\",\n            new Text(this.getId() + \"-Text\", {\n                text: this.getProperty(\"text\"),\n                maxLines: this.getProperty(\"maxLines\"),\n                wrapping: this.getProperty(\"wrapping\"),\n            }).addStyleClass(\"sapUshellSearchTextText\")\n        );\n    }\n\n    /**\n     * Assigns the given css class to the inner text control, because that's the way\n     * it worked before the control was refactored to be a composite control. Now\n     * an additional span element is added around the text control, see renderer method.\n     * @param sStyleClass name of the css class to be added\n     * @returns SearchText\n     */\n    addStyleClass(sStyleClass: string): this {\n        (this.getAggregation(\"_text\") as Text).addStyleClass(sStyleClass);\n        return this;\n    }\n\n    setText(sText: string): this {\n        this.setProperty(\"text\", sText);\n        (this.getAggregation(\"_text\") as Text).setText(sText);\n        return this;\n    }\n\n    setMaxLines(iMaxLines: int): this {\n        this.setProperty(\"maxLines\", iMaxLines);\n        (this.getAggregation(\"_text\") as Text).setMaxLines(iMaxLines);\n        return this;\n    }\n\n    setWrapping(bWrapping: boolean): this {\n        this.setProperty(\"wrapping\", bWrapping);\n        (this.getAggregation(\"_text\") as Text).setWrapping(bWrapping);\n        return this;\n    }\n\n    setIcon(icon: Icon): SearchText {\n        if (icon instanceof Icon) {\n            icon.addStyleClass(\"sapUshellSearchTextIcon\");\n            this.setAggregation(\"icon\", icon);\n        }\n        return this;\n    }\n\n    setTooltip(sTooltip?: string | TooltipBase): this {\n        (this.getAggregation(\"_text\") as Text).setTooltip(sTooltip);\n        return this;\n    }\n\n    onAfterRendering(oEvent): void {\n        super.onAfterRendering(oEvent);\n\n        if (this.isDestroyed()) {\n            return;\n        }\n\n        // move icon to the front of the text\n        const iconDomRef = (this.getAggregation(\"icon\") as Icon)?.getDomRef();\n        const textDomRef = (this.getAggregation(\"_text\") as Text)?.getDomRef() as HTMLElement;\n        if (iconDomRef) {\n            textDomRef.insertBefore(iconDomRef, textDomRef.firstChild);\n        }\n\n        // recover bold tag with the help of text() in a safe way\n        SearchHelper.boldTagUnescaper(textDomRef);\n\n        SearchHelper.calculateTooltipForwordEllipsis(textDomRef);\n    }\n\n    static renderer = {\n        apiVersion: 2,\n        render: (rm: RenderManager, control: SearchText) => {\n            rm.openStart(\"span\", control.getId());\n            rm.class(\"sapUshellSearchText\");\n            if (!control.getWrapping()) {\n                rm.class(\"sapUshellSearchText-nowrap\");\n            }\n            const tooltip = control.getTooltip_AsString();\n            if (tooltip) {\n                rm.attr(\"title\", tooltip);\n            }\n            rm.openEnd();\n            const icon = control.getAggregation(\"icon\") as Icon;\n            if (icon) {\n                rm.renderControl(icon as Icon);\n            }\n            rm.renderControl(<Control>control.getAggregation(\"_text\"));\n            rm.close(\"span\");\n        },\n    };\n}\n"],"mappings":"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","ignoreList":[]}