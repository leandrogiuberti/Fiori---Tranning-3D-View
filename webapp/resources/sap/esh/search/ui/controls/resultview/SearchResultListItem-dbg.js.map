{"version":3,"file":"SearchResultListItem-dbg.js","names":["sap","ui","define","__i18n","__SearchText","__SearchRelatedObjectsToolbar","Button","sap_m_library","Label","Text","CheckBox","Icon","IconPool","InvisibleText","Control","ManagedObject","____eventlogging_UserEvents","____UIUtil","__SearchLink","____sinaNexTS_sina_NavigationTarget","____uiConstants","____sinaNexTS_sina_AttributeFormatType","_interopRequireDefault","obj","__esModule","default","i18n","SearchText","SearchRelatedObjectsToolbar","ButtonType","UserEventType","registerHandler","SearchLink","NavigationTarget","initialValueUnicode","AttributeFormatType","SearchResultListItem","extend","renderer","apiVersion","render","oRm","oControl","_renderer","metadata","properties","dataSource","itemId","title","isTitleHighlighted","titleDescription","isTitleDescriptionHighlighted","titleNavigation","titleIconUrl","titleInfoIconUrl","titleInfoIconTooltip","geoJson","type","imageUrl","imageFormat","imageNavigation","attributes","multiple","navigationObjects","selected","selectionEnabled","customItemStyleClass","expanded","parentListItem","additionalParameters","positionInList","resultSetId","layoutCache","countBreadcrumbsHiddenElement","aggregations","_titleLink","visibility","_titleText","_titleLinkDescription","_titleInfoIcon","_titleDelimiter","_typeText","_typeLink","_typeLinkAriaDescription","_multiLineDescriptionText","_selectionCheckBox","_expandButton","_attributeLabels","_attributeValues","_attributeValuesWithoutWhyfoundHiddenTexts","_relatedObjectActionsToolbar","_titleLabeledByText","_attributesLabeledByText","_expandStateLabeledByText","constructor","_constructor","sId","settings","Control.prototype.constructor.call","_visibleAttributes","undefined","_detailsArea","_showExpandButton","setAggregation","getId","addStyleClass","wrapping","iconSetting","src","path","tooltip","titleInfoIcon","titleDelimiter","text","addEventDelegate","onAfterRendering","domRef","getDomRef","setAttribute","getText","addAriaDescribedBy","getAggregation","maxLines","data","select","oEvent","setProperty","getParameter","oModel","getModel","updateMultiSelectionSelected","enabled","visible","Transparent","press","toggleDetails","parts","formatter","resultviewMasterDetailMode","_setProperty","name","value","suppressInvalidate","res","Control.prototype.setProperty.call","_syncSelectionCssClass","resultListItem","relatedObjectsToolbar","querySelector","window","getComputedStyle","display","config","optimizeForValueHelp","style","_registerItemPressHandler","_resetPrecalculatedValues","_renderContainer","_renderAccessibilityInformation","openStart","getProperty","class","toLowerCase","openEnd","_renderContentContainer","_renderExpandButtonContainer","close","_renderTitleContainer","_renderAttributesContainer","icon","getIconURI","expandButton","setIcon","setTooltip","setAriaExpandedState","renderControl","_renderCheckbox","handleTitleIconSearchText","titleControl","titleLinkIcon","oIcon","escapeSettingsValue","setTimeout","isHierarchyItem","supportsDragAndDrop","domElement","titleText","trim","length","noValue","adjustCssDragAndDrop","setNavigationTarget","children","setText","titleLinkDescription","_renderRelatedObjectsToolbar","exclusiveDataSource","getDataSource","typeText","uiFilterClone","clone","setDataSource","navigationTarget","createSearchNavigationTarget","typeLink","labelPlural","_renderImageForPhone","checkbox","Round","attr","_renderImageForDocument","imageNavigationUrl","targetUrl","_zoomIcon","destroy","useIconTooltip","_cutDescrAttributeOutOfAttributeList","i","attribute","longtext","splice","_renderMultiLineDescription","description","descriptionText","whyfound","valueWithoutWhyfound","hiddenValueText","descriptionTextDom","getAttribute","addAggregation","itemAttributes","_renderImageAttribute","_renderAllAttributes","itemAttribute","labelText","valueText","label","isLongText","numberOfRenderedAttributes","numberOfColumnsDesktop","numberOfColumnsTablet","distributionOfAttributesDesktop","distributionOfAttributesTablet","additionalWhyFoundAttributesDesktop","additionalWhyFoundAttributesTablet","longTextColumnNumber","isDocumentItem","includeImageAttribute","remainingSlotsForAttributesDesktop","remainingSlotsForAttributesTablet","destroyAggregation","createAfterRenderingFunctionForAddingAriaDescribedBy","control","dom","describedBy","removeAttribute","isTitle","_rowCountTablet","_rowCountDesktop","_attributeWeight","desktop","tablet","attributeLayout","key","_howManyColumnsToUseForLongTextAttribute","k","displayOnly","showColon","defaultNavigationTarget","iconUrl","getTooltip","availableSpaceOnFirstLineDesktop","availableSpaceOnFirstLineTablet","attributeValue","imageIsOnlyAttribute","relatedObjectActionsToolbar","_renderAriaDescriptionElementForTitle","_renderAriaDescriptionElementForAttributes","_renderAriaDescriptionElementForCollapsedOrExpandedState","_addAriaDescriptionToParentListElement","event","relatedTarget","classList","contains","closest","onsapspace","onsapenter","performNavigation","getAccessibilityInfo","_getAccessibilityInfo","args","accInfo","prototype","apply","withPrefix","doRender","_searchResultListPrefix","titleLabeledByText","attributesLabeledByText","querySelectorAll","labelledByText","forEach","attrElem","isVisible","offsetParent","attributeKeyElem","attributeKey","textContent","attributeValueContainer","attributeValueElem","expandStateLabeledByText","expandButtonDom","isShowingDetails","Array","isArray","includeTotalCountElement","itemAriaLabeledBy","parentDomRef","_getExpandAreaObjectInfo","resultListItemDomRef","Error","add","attributesExpandContainer","relatedObjectsToolbarHidden","currentHeight","offsetHeight","expandedHeight","remove","elementsToFadeInOrOut","_getElementsInExpandArea","expandAnimationDuration","fadeInOrOutAnimationDuration","expandAreaObjectInfo","attributeElements","from","firstLineY","getBoundingClientRect","top","el","push","removeStyleClass","_isShowingDetails","showDetails","_showDetails","relatedToolbar","opacity","layoutToolbarElements","transition","height","hideDetails","_hideDetails","fadeOutStarted","attributeHeight","mainAttr","spacerAttr","onTransitionEnd","propertyName","removeEventListener","clearTimeout","fadeOutTimeout","addEventListener","_toggleDetails","eventType","ITEM_HIDE_DETAILS","ITEM_SHOW_DETAILS","eventLogger","logEvent","itemPosition","executionId","dataSourceKey","id","_onAfterRendering","_showOrHideExpandButton","resizeEventHappened","_resizeEventHappened","titleLink","titleControlDom","draggable","_isHierarchyItem","_supportsDragAndDrop","getSearchCompositeControlInstanceByChildControl","getDragDropConfig","_getPhoneSize","expandButtonContainer","shouldBeVisible","actionBar","elementsInExpandArea","_setAriaExpandedState","thisDom","parentListItemDom","attachPress","_performTitleNavigation","params","_adjustCssDragAndDrop"],"sources":["SearchResultListItem.ts"],"sourcesContent":["/*!\n * SAPUI5\n * Copyright (c) 2025 SAP SE or an SAP affiliate company. All rights reserved.\n * \n */\nimport i18n from \"../../i18n\";\nimport SearchText from \"./SearchText\";\nimport SearchRelatedObjectsToolbar from \"./SearchRelatedObjectsToolbar\";\nimport Button from \"sap/m/Button\";\nimport { ButtonType } from \"sap/m/library\";\n// import { ListType } from \"sap/m/library\";\nimport Label from \"sap/m/Label\";\nimport Text from \"sap/m/Text\";\nimport CheckBox, { CheckBox$SelectEvent } from \"sap/m/CheckBox\";\nimport Icon, { $IconSettings } from \"sap/ui/core/Icon\";\nimport IconPool from \"sap/ui/core/IconPool\";\nimport InvisibleText from \"sap/ui/core/InvisibleText\";\nimport RenderManager from \"sap/ui/core/RenderManager\";\nimport Control, { $ControlSettings } from \"sap/ui/core/Control\";\nimport SearchModel from \"sap/esh/search/ui/SearchModel\";\nimport { FormattedResultItemAttribute } from \"../../SearchResultFormatter\";\nimport Event from \"sap/ui/base/Event\";\nimport ManagedObject, { PropertyBindingInfo } from \"sap/ui/base/ManagedObject\";\nimport { UserEventType } from \"../../eventlogging/UserEvents\";\nimport { registerHandler } from \"../../UIUtil\";\nimport SearchLink from \"../SearchLink\";\nimport { NavigationTarget } from \"../../sinaNexTS/sina/NavigationTarget\";\nimport { initialValueUnicode } from \"../../uiConstants\";\nimport { DataSource } from \"../../sinaNexTS/sina/DataSource\";\nimport CustomListItem from \"sap/m/CustomListItem\";\nimport { AttributeFormatType } from \"../../sinaNexTS/sina/AttributeFormatType\";\n\nexport interface $SearchResultListItemSettings extends $ControlSettings {\n    dataSource: DataSource;\n    itemId: string;\n    title: string;\n    isTitleHighlighted: boolean | PropertyBindingInfo;\n    titleDescription: string;\n    isTitleDescriptionHighlighted: boolean | PropertyBindingInfo;\n    titleNavigation: NavigationTarget | PropertyBindingInfo;\n    titleIconUrl: string | PropertyBindingInfo;\n    titleInfoIconUrl: string | PropertyBindingInfo;\n    geoJson: unknown;\n    type: string;\n    imageUrl: string;\n    imageFormat: string;\n    imageNavigation: NavigationTarget | PropertyBindingInfo;\n    attributes: Array<unknown> | PropertyBindingInfo;\n    navigationObjects: Array<NavigationTarget> | PropertyBindingInfo;\n    selected: boolean | PropertyBindingInfo;\n    selectionEnabled: boolean | PropertyBindingInfo;\n    customItemStyleClass: string | PropertyBindingInfo;\n    expanded: boolean | PropertyBindingInfo;\n    parentListItem: CustomListItem;\n    additionalParameters: unknown;\n    positionInList: number | PropertyBindingInfo;\n    resultSetId: string | PropertyBindingInfo;\n    layoutCache: object | PropertyBindingInfo;\n    countBreadcrumbsHiddenElement: InvisibleText;\n}\n/**\n * @namespace sap.esh.search.ui.controls\n */\nexport default class SearchResultListItem extends Control {\n    // the control API:\n    static readonly metadata = {\n        properties: {\n            dataSource: \"object\", // sina data source\n            itemId: \"string\",\n            title: \"string\",\n            isTitleHighlighted: \"boolean\",\n            titleDescription: \"string\",\n            isTitleDescriptionHighlighted: \"boolean\",\n            titleNavigation: \"object\",\n            titleIconUrl: \"string\",\n            titleInfoIconUrl: \"string\",\n            titleInfoIconTooltip: \"string\",\n            geoJson: \"object\",\n            type: \"string\",\n            imageUrl: \"string\",\n            imageFormat: \"string\",\n            imageNavigation: \"object\",\n            attributes: {\n                type: \"object\",\n                multiple: true,\n            },\n            navigationObjects: {\n                type: \"object\",\n                multiple: true,\n            },\n            selected: \"boolean\",\n            selectionEnabled: \"boolean\",\n            customItemStyleClass: \"string\",\n            expanded: \"boolean\",\n            parentListItem: \"object\",\n            additionalParameters: \"object\",\n            positionInList: \"int\",\n            resultSetId: \"string\",\n            layoutCache: \"object\",\n            countBreadcrumbsHiddenElement: \"object\",\n        },\n        aggregations: {\n            _titleLink: {\n                type: \"sap.esh.search.ui.controls.SearchLink\",\n                multiple: false,\n                visibility: \"hidden\",\n            },\n            _titleText: {\n                type: \"sap.esh.search.ui.controls.SearchText\",\n                multiple: false,\n                visibility: \"hidden\",\n            },\n            _titleLinkDescription: {\n                type: \"sap.esh.search.ui.controls.SearchText\",\n                multiple: false,\n                visibility: \"hidden\",\n            },\n            _titleInfoIcon: {\n                type: \"sap.ui.core.Icon\",\n                multiple: false,\n                visibility: \"hidden\",\n            },\n            _titleDelimiter: {\n                type: \"sap.m.Text\",\n                multiple: false,\n                visibility: \"hidden\",\n            },\n            _typeText: {\n                type: \"sap.esh.search.ui.controls.SearchText\",\n                multiple: false,\n                visibility: \"hidden\",\n            },\n            _typeLink: {\n                type: \"sap.esh.search.ui.controls.SearchLink\",\n                multiple: false,\n                visibility: \"hidden\",\n            },\n            _typeLinkAriaDescription: {\n                type: \"sap.ui.core.InvisibleText\",\n                multiple: false,\n                visibility: \"hidden\",\n            },\n            _multiLineDescriptionText: {\n                type: \"sap.esh.search.ui.controls.SearchText\",\n                multiple: false,\n                visibility: \"hidden\",\n            },\n            _selectionCheckBox: {\n                type: \"sap.m.CheckBox\",\n                multiple: false,\n                visibility: \"hidden\",\n            },\n            _expandButton: {\n                type: \"sap.m.Button\",\n                multiple: false,\n                visibility: \"hidden\",\n            },\n            _attributeLabels: {\n                type: \"sap.m.Label\",\n                multiple: true,\n                visibility: \"hidden\",\n            },\n            _attributeValues: {\n                type: \"sap.ui.core.Control\",\n                multiple: true,\n                visibility: \"hidden\",\n            },\n            _attributeValuesWithoutWhyfoundHiddenTexts: {\n                type: \"sap.ui.core.InvisibleText\",\n                multiple: true,\n                visibility: \"hidden\",\n            },\n            _relatedObjectActionsToolbar: {\n                type: \"sap.esh.search.ui.controls.SearchRelatedObjectsToolbar\",\n                multiple: false,\n                visibility: \"hidden\",\n            },\n            _titleLabeledByText: {\n                type: \"sap.ui.core.InvisibleText\",\n                multiple: false,\n                visibility: \"hidden\",\n            },\n            _attributesLabeledByText: {\n                type: \"sap.ui.core.InvisibleText\",\n                multiple: false,\n                visibility: \"hidden\",\n            },\n            _expandStateLabeledByText: {\n                type: \"sap.ui.core.InvisibleText\",\n                multiple: false,\n                visibility: \"hidden\",\n            },\n        },\n    };\n\n    static readonly noValue = initialValueUnicode; // dash\n    private _visibleAttributes = undefined;\n    private _detailsArea = undefined;\n    private _showExpandButton = false;\n    private _searchResultListPrefix: string;\n    private _zoomIcon: Icon;\n\n    constructor(sId?: string, settings?: Partial<$SearchResultListItemSettings>) {\n        super(sId, settings);\n        this.setAggregation(\n            \"_titleLink\",\n            new SearchLink(`${this.getId()}--titleLink`)\n                .addStyleClass(\"sapUshellSearchResultListItem-HeaderEntry\")\n                .addStyleClass(\"sapUshellSearchResultListItem-Title\")\n                .addStyleClass(\"sapUshellSearchResultListItem-MightOverflow\")\n        );\n        this.setAggregation(\n            \"_titleText\",\n            new SearchText(`${this.getId()}--titleText`, {\n                wrapping: false,\n            })\n                .addStyleClass(\"sapUshellSearchResultListItem-HeaderEntry\")\n                .addStyleClass(\"sapUshellSearchResultListItem-Title\")\n                .addStyleClass(\"sapUshellSearchResultListItem-MightOverflow\")\n        );\n        this.setAggregation(\n            \"_titleLinkDescription\",\n            new SearchText(`${this.getId()}--titleLinkDescription`, {\n                wrapping: false,\n            })\n                .addStyleClass(\"sapUshellSearchResultListItem-HeaderEntry\")\n                .addStyleClass(\"sapUshellSearchResultListItem-TitleDescription\")\n                .addStyleClass(\"sapUshellSearchResultListItem-MightOverflow\")\n        );\n        const iconSetting: $IconSettings = {\n            src: { path: \"titleInfoIconUrl\" },\n            tooltip: \"{= ${titleInfoIconTooltip} ? ${titleInfoIconTooltip} : ${i18n>collectionShared} }\",\n        };\n        const titleInfoIcon = new Icon(`${this.getId()}--titleInfoIcon`, iconSetting);\n        titleInfoIcon.addStyleClass(\"sapUiSmallMarginEnd\");\n        this.setAggregation(\"_titleInfoIcon\", titleInfoIcon);\n        titleInfoIcon.addStyleClass(\"sapUshellSearchResultListItem-TitleInfoIcon\");\n\n        const titleDelimiter = new Text(`${this.getId()}--titleDelimiter`, {\n            text: \"|\",\n        });\n        titleDelimiter.addEventDelegate({\n            onAfterRendering: () => {\n                const domRef = titleDelimiter.getDomRef();\n                domRef?.setAttribute(\"aria-hidden\", \"true\");\n            },\n        });\n        this.setAggregation(\n            \"_titleDelimiter\",\n            titleDelimiter\n                .addStyleClass(\"sapUshellSearchResultListItem-HeaderEntry\")\n                .addStyleClass(\"sapUshellSearchResultListItem-TitleDelimiter\")\n                .addStyleClass(\"sapUshellSearchResultListItem-MightOverflow\")\n        );\n\n        this.setAggregation(\n            \"_typeText\",\n            new SearchText(`${this.getId()}--typeText`)\n                .addStyleClass(\"sapUshellSearchResultListItem-HeaderEntry\")\n                .addStyleClass(\"sapUshellSearchResultListItem-TitleCategory\")\n                .addStyleClass(\"sapUshellSearchResultListItem-MightOverflow\")\n        );\n\n        this.setAggregation(\n            \"_typeLinkAriaDescription\",\n            new InvisibleText({\n                text: i18n.getText(\"result_list_item_type_link_description\"),\n            })\n        );\n        this.setAggregation(\n            \"_typeLink\",\n            new SearchLink(`${this.getId()}--typeLink`)\n                .addStyleClass(\"sapUshellSearchResultListItem-HeaderEntry\")\n                .addStyleClass(\"sapUshellSearchResultListItem-TitleCategoryLink\")\n                .addStyleClass(\"sapUshellSearchResultListItem-MightOverflow\")\n                .addAriaDescribedBy(\n                    this.getAggregation(\n                        \"_typeLinkAriaDescription\"\n                    ) as import(\"sap/ui/core/InvisibleText\").default\n                )\n        );\n\n        this.setAggregation(\n            \"_multiLineDescriptionText\",\n            new SearchText(`${this.getId()}--multilineDescription`, {\n                maxLines: 5,\n            })\n                .addStyleClass(\"sapUshellSearchResultListItem-MultiLineDescription\")\n                .addStyleClass(\"sapUshellSearchResultListItem-MightOverflow\")\n                .data(\"islongtext\", \"true\", true)\n        );\n\n        this.setAggregation(\n            \"_selectionCheckBox\",\n            new CheckBox(`${this.getId()}--selectionCheckbox`, {\n                selected: { path: \"selected\" },\n                select: (oEvent: CheckBox$SelectEvent): void => {\n                    // console.log(\"SELECTION: list checkbox, select event\");\n                    this.setProperty(\n                        \"selected\",\n                        oEvent.getParameter(\"selected\"),\n                        true // no re-rendering needed, change originates in HTML\n                    );\n                    const oModel = this.getModel() as SearchModel;\n                    oModel.updateMultiSelectionSelected();\n                },\n                enabled: { path: \"/selectionEnabled\" },\n                visible: { path: \"/resultviewSelectionVisibility\" },\n            })\n        );\n\n        this.setAggregation(\n            \"_expandButton\",\n            new Button(`${this.getId()}--expandButton`, {\n                type: ButtonType.Transparent,\n                press: () => {\n                    this.toggleDetails();\n                },\n                visible: {\n                    parts: [{ path: \"/config/resultviewMasterDetailMode\" }],\n                    formatter: (resultviewMasterDetailMode: boolean): boolean => !resultviewMasterDetailMode,\n                },\n            })\n        );\n\n        this.setAggregation(\n            \"_relatedObjectActionsToolbar\",\n            new SearchRelatedObjectsToolbar(`${this.getId()}--relatedObjectActionsToolbar`)\n        );\n        this.setAggregation(\"_titleLabeledByText\", new InvisibleText());\n        this.setAggregation(\"_attributesLabeledByText\", new InvisibleText());\n        this.setAggregation(\"_expandStateLabeledByText\", new InvisibleText());\n    }\n\n    static renderer: Record<string, unknown> = {\n        apiVersion: 2,\n        render(oRm: RenderManager, oControl: SearchResultListItem): void {\n            // static function, so use the given \"oControl\" instance instead of \"this\" in the renderer function\n            oControl._renderer(oRm, oControl);\n        },\n    };\n\n    /**\n     * override setProperty to sync selection CSS class when selected property changes\n     */\n    setProperty(name: string, value: unknown, suppressInvalidate?: boolean): this {\n        const res = super.setProperty(name, value, suppressInvalidate);\n        if (name === \"selected\") this._syncSelectionCssClass();\n        return res;\n    }\n\n    // the part creating the HTML\n    protected _renderer(oRm: RenderManager, oControl: SearchResultListItem): void {\n        const resultListItem = this.getDomRef() as HTMLElement;\n        const relatedObjectsToolbar = resultListItem\n            ? (resultListItem.querySelector(\n                  \".sapUshellSearchResultListItem-RelatedObjectsToolbar\"\n              ) as HTMLElement)\n            : null;\n        if (relatedObjectsToolbar && window.getComputedStyle(relatedObjectsToolbar).display === \"none\") {\n            const oModel = this.getModel() as SearchModel;\n            if (oModel.config.optimizeForValueHelp) {\n                relatedObjectsToolbar.style.display = \"block\";\n            }\n        }\n\n        this._registerItemPressHandler();\n\n        this._resetPrecalculatedValues();\n        this._renderContainer(oRm, oControl);\n        this._renderAccessibilityInformation(oRm);\n    }\n\n    private _renderContainer(oRm: RenderManager, oControl: SearchResultListItem): void {\n        const oModel = this.getModel() as SearchModel;\n        oRm.openStart(\"div\", this);\n        if (this.getProperty(\"customItemStyleClass\")) {\n            oRm.class(this.getProperty(\"customItemStyleClass\"));\n        }\n        oRm.class(\"sapUshellSearchResultListItem-Container\");\n        if (this.getProperty(\"imageUrl\")) {\n            oRm.class(\"sapUshellSearchResultListItem-WithImage\");\n        }\n        if (this.getProperty(\"imageFormat\")?.toLowerCase() === \"documentthumbnail\") {\n            oRm.class(\"sapUshellSearchResultListItem-Document\");\n        }\n        oRm.openEnd();\n\n        this._renderContentContainer(oRm, oControl);\n\n        if (!oModel.config.optimizeForValueHelp) {\n            this._renderExpandButtonContainer(oRm);\n        }\n\n        oRm.close(\"div\");\n    }\n\n    protected _renderContentContainer(oRm: RenderManager, oControl: SearchResultListItem): void {\n        oRm.openStart(\"div\", oControl.getId() + \"-content\");\n        oRm.class(\"sapUshellSearchResultListItem-Content\");\n        oRm.openEnd();\n\n        this._renderTitleContainer(oRm, oControl);\n        this._renderAttributesContainer(oRm);\n\n        oRm.close(\"div\");\n    }\n\n    private _renderExpandButtonContainer(oRm: RenderManager): void {\n        oRm.openStart(\"div\", this.getId() + \"-expand-button-container\");\n        oRm.class(\"sapUshellSearchResultListItem-ExpandButtonContainer\");\n        oRm.openEnd();\n\n        oRm.openStart(\"div\", this.getId() + \"-expand-button\");\n        oRm.class(\"sapUshellSearchResultListItem-ExpandButton\");\n        oRm.openEnd();\n\n        let icon, tooltip;\n        const expanded = this.getProperty(\"expanded\");\n        if (expanded) {\n            icon = IconPool.getIconURI(\"slim-arrow-up\");\n            tooltip = i18n.getText(\"hideDetailBtn_tooltip\");\n        } else {\n            icon = IconPool.getIconURI(\"slim-arrow-down\");\n            tooltip = i18n.getText(\"showDetailBtn_tooltip\");\n        }\n\n        const expandButton = this.getAggregation(\"_expandButton\") as Button;\n        expandButton.setIcon(icon);\n        expandButton.setTooltip(tooltip);\n\n        expandButton.addEventDelegate({\n            onAfterRendering: () => {\n                this.setAriaExpandedState();\n            },\n        });\n\n        oRm.renderControl(expandButton);\n\n        oRm.close(\"div\");\n        oRm.close(\"div\");\n    }\n\n    protected _renderTitleContainer(oRm: RenderManager, oControl: SearchResultListItem): void {\n        const oModel = this.getModel() as SearchModel;\n\n        if (!oModel.config.optimizeForValueHelp) {\n            oRm.openStart(\"div\", this.getId() + \"-title-and-image-container\");\n            oRm.class(\"sapUshellSearchResultListItem-TitleAndImageContainer\");\n            oRm.openEnd();\n        }\n        oRm.openStart(\"div\", this.getId() + \"-title-container\");\n        oRm.class(\"sapUshellSearchResultListItem-TitleContainer\");\n        if (oModel.config.optimizeForValueHelp) {\n            oRm.class(\"sapUshellSearchResultListItem-TitleContainerValueHelp\");\n        }\n        oRm.openEnd();\n\n        this._renderCheckbox(oRm);\n\n        /// Title\n        const handleTitleIconSearchText = (titleControl: SearchText, oModel: SearchModel) => {\n            const titleLinkIcon = titleControl.getAggregation(\"icon\") as Icon;\n            if (titleLinkIcon instanceof Icon) {\n                titleLinkIcon.addStyleClass(\"sapUshellSearchResultListItem-Clickable\");\n            } else if (this.getProperty(\"titleIconUrl\")) {\n                const oIcon = new Icon(`${this.getId()}--titleIcon`, {\n                    src: ManagedObject.escapeSettingsValue(this.getProperty(\"titleIconUrl\")),\n                });\n                oIcon?.addStyleClass(\"sapUshellSearchResultListItem-Clickable\");\n                titleControl.setIcon(oIcon);\n                setTimeout(() => {\n                    if (!this.isHierarchyItem() && this.supportsDragAndDrop(titleControl, oModel)) {\n                        const domElement = oIcon?.getDomRef();\n                        if (domElement) {\n                            domElement[\"draggable\"] = false;\n                        }\n                    }\n                }, 100);\n            }\n        };\n        const titleNavigation = this.getProperty(\"titleNavigation\") as NavigationTarget;\n        let titleText = this.getProperty(\"title\");\n        let titleControl;\n        if (!titleText || titleText.trim().length === 0) {\n            titleText = SearchResultListItem.noValue;\n            titleControl = this.getAggregation(\"_titleText\") as SearchText;\n            handleTitleIconSearchText(titleControl, oModel);\n        } else if (!titleNavigation && !this.isHierarchyItem()) {\n            titleControl = this.getAggregation(\"_titleText\") as SearchText;\n            this.adjustCssDragAndDrop(titleControl, oModel);\n            handleTitleIconSearchText(titleControl, oModel);\n        } else {\n            titleControl = this.getAggregation(\"_titleLink\") as SearchLink;\n            titleControl.setNavigationTarget(titleNavigation);\n            titleControl.setIcon(this.getProperty(\"titleIconUrl\"));\n            if (this.isHierarchyItem()) {\n                setTimeout(() => {\n                    if (this.supportsDragAndDrop(titleControl, oModel)) {\n                        // no drag&drop of title link (<a>-tag, first child of span)\n                        if (\n                            titleControl.getDomRef()?.children.length > 0 &&\n                            titleControl.getDomRef()?.children[0][\"tagName\"] === \"A\"\n                        ) {\n                            titleControl.getDomRef().children[0][\"draggable\"] = false;\n                        } else {\n                            titleControl.getDomRef()[\"draggable\"] = false;\n                        }\n                        this.addStyleClass(\"sapUshellSearchResultListItem-NotDraggableNotClickable\");\n                    }\n                }, 100);\n            } else {\n                setTimeout(() => {\n                    if (this.supportsDragAndDrop(titleControl, oModel)) {\n                        // no drag&drop of title link (<a>-tag)\n                        titleControl.getDomRef()[\"draggable\"] = false;\n                    }\n                }, 100);\n            }\n        }\n        titleControl.setText(titleText);\n        if (this.getProperty(\"isTitleHighlighted\")) {\n            titleControl.addStyleClass(\"sapUshellSearchResultItem-AttributeValueHighlighted\");\n        }\n\n        oRm.renderControl(titleControl);\n\n        if (oControl.getProperty(\"titleInfoIconUrl\")) {\n            const titleInfoIcon = oControl.getAggregation(\"_titleInfoIcon\") as Icon;\n            if (titleInfoIcon) {\n                if (oModel.config.optimizeForValueHelp) {\n                    titleInfoIcon.addStyleClass(\"sapUshellSearchResultListItem-TitleInfoIconValueHelp\");\n                }\n                this.adjustCssDragAndDrop(titleInfoIcon, oModel);\n                oRm.renderControl(titleInfoIcon);\n            }\n        }\n\n        /// sub-title aka Title Description\n        if (!oModel.config.optimizeForValueHelp) {\n            const titleDescription = this.getProperty(\"titleDescription\");\n            if (titleDescription && titleDescription.trim().length > 0) {\n                const titleLinkDescription = this.getAggregation(\"_titleLinkDescription\") as SearchText;\n                titleLinkDescription.setText(titleDescription);\n                if (this.getProperty(\"isTitleDescriptionHighlighted\")) {\n                    titleLinkDescription.addStyleClass(\"sapUshellSearchResultItem-AttributeValueHighlighted\");\n                }\n                oRm.renderControl(titleLinkDescription);\n            }\n        }\n\n        if (oModel.config.optimizeForValueHelp) {\n            this._renderRelatedObjectsToolbar(oRm);\n        } else if (!oModel.config.exclusiveDataSource) {\n            // delimiter between title and sub-title or object type\n            const titleDelimiter = this.getAggregation(\"_titleDelimiter\") as Text;\n            oRm.renderControl(titleDelimiter);\n\n            // object type\n            if (oModel.getDataSource() === this.getProperty(\"dataSource\")) {\n                const typeText = this.getAggregation(\"_typeText\") as SearchText;\n                typeText.setText(this.getProperty(\"type\"));\n                oRm.renderControl(typeText);\n            } else {\n                const uiFilterClone = this.getModel().getProperty(\"/uiFilter\").clone();\n                uiFilterClone.setDataSource(this.getProperty(\"dataSource\"));\n                const navigationTarget = oModel.createSearchNavigationTarget(\n                    uiFilterClone,\n                    this.getProperty(\"type\")\n                );\n                const typeLink = this.getAggregation(\"_typeLink\") as SearchLink;\n                typeLink.setNavigationTarget(navigationTarget);\n                typeLink.setText(this.getProperty(\"type\"));\n                typeLink.setTooltip(\n                    i18n.getText(\"searchInDataSourceTooltip\", [this.getProperty(\"dataSource\").labelPlural])\n                );\n                oRm.renderControl(\n                    this.getAggregation(\n                        \"_typeLinkAriaDescription\"\n                    ) as import(\"sap/ui/core/InvisibleText\").default\n                );\n                oRm.renderControl(typeLink);\n            }\n        }\n\n        oRm.close(\"div\");\n\n        if (!oModel.config.optimizeForValueHelp) {\n            this._renderImageForPhone(oRm);\n            oRm.close(\"div\");\n        }\n    }\n\n    protected _renderCheckbox(oRm: RenderManager): void {\n        oRm.openStart(\"div\", this.getId() + \"-checkbox-expand-container\");\n        oRm.class(\"sapUshellSearchResultListItem-CheckboxExpandContainer\");\n        oRm.openEnd();\n\n        oRm.openStart(\"div\", this.getId() + \"-checkbox-container\");\n        oRm.class(\"sapUshellSearchResultListItem-CheckboxContainer\");\n        oRm.openEnd();\n\n        oRm.openStart(\"div\", this.getId() + \"-checkbox-alignment-container\");\n        oRm.class(\"sapUshellSearchResultListItem-CheckboxAlignmentContainer\");\n        oRm.openEnd();\n\n        const checkbox = this.getAggregation(\"_selectionCheckBox\") as CheckBox;\n        /* const selected = this.getProperty(\"selected\");\n        const selectionEnabled = this.getProperty(\"selectionEnabled\");\n        checkbox.setSelected(selected);\n        checkbox.setEnabled(selectionEnabled); */\n        oRm.renderControl(checkbox);\n\n        oRm.close(\"div\");\n        oRm.close(\"div\");\n        oRm.close(\"div\");\n    }\n\n    protected _renderImageForPhone(oRm: RenderManager): void {\n        if (this.getProperty(\"imageUrl\")) {\n            oRm.openStart(\"div\", this.getId() + \"-title-image\");\n            oRm.class(\"sapUshellSearchResultListItem-TitleImage\");\n            if (this.getProperty(\"imageFormat\") === AttributeFormatType.Round) {\n                oRm.class(\"sapUshellSearchResultListItem-ImageContainerRound\");\n            }\n            oRm.openEnd();\n\n            oRm.openStart(\"div\", this.getId() + \"-image-container-aligmnent-helper\");\n            oRm.class(\"sapUshellSearchResultListItem-ImageContainerAlignmentHelper\");\n            oRm.openEnd();\n            oRm.close(\"div\");\n\n            oRm.openStart(\"img\", this.getId() + \"-image-1\");\n            oRm.class(\"sapUshellSearchResultListItem-Image\");\n            oRm.attr(\"src\", this.getProperty(\"imageUrl\"));\n            oRm.openEnd();\n            oRm.close(\"div\");\n\n            oRm.close(\"div\");\n        }\n    }\n\n    private _renderImageForDocument(oRm: RenderManager): void {\n        if (\n            this.getProperty(\"imageFormat\") &&\n            this.getProperty(\"imageFormat\").toLowerCase() === \"documentthumbnail\"\n        ) {\n            const imageNavigation: NavigationTarget = this.getProperty(\"imageNavigation\");\n            const imageNavigationUrl = imageNavigation ? imageNavigation.targetUrl : \"\";\n            if (typeof this._zoomIcon !== \"undefined\") {\n                this._zoomIcon.destroy();\n            }\n            this._zoomIcon = new Icon(\"\", {\n                // ToDo: Stable ID, see below\n                // this._zoomIcon = new Icon(`${this.getId()}--zoomIcon`, {\n                // -> duplicate ID ?!?\n                src: IconPool.getIconURI(\"search\"),\n                useIconTooltip: false,\n            });\n            this._zoomIcon.addStyleClass(`${this.getId()}--zoomIcon`); // ToDo -> remove as soon as stable ID works\n            this._zoomIcon.addStyleClass(\"sapUshellSearchResultListItem-DocumentThumbnailZoomIcon\");\n            const imageUrl = this.getProperty(\"imageUrl\");\n\n            oRm.openStart(\"div\", this.getId() + \"-document-thumbnail-container\");\n            oRm.class(\"sapUshellSearchResultListItem-DocumentThumbnailContainer\");\n            oRm.openEnd();\n\n            if (imageNavigationUrl && imageNavigationUrl.length > 0) {\n                oRm.openStart(\"a\", this.getId() + \"-document-thumbnail-border-1\");\n                oRm.attr(\"href\", imageNavigationUrl);\n                oRm.class(\"sapUshellSearchResultListItem-DocumentThumbnailBorder\");\n                oRm.openEnd();\n\n                oRm.openStart(\"div\", this.getId() + \"-document-thumbnail-dogear-1\");\n                oRm.class(\"sapUshellSearchResultListItem-DocumentThumbnail-DogEar\");\n                oRm.openEnd();\n                oRm.close(\"div\");\n\n                oRm.renderControl(this._zoomIcon);\n\n                if (imageUrl && imageUrl.length > 0) {\n                    oRm.openStart(\"img\", this.getId() + \"-document-thumbnail-1\");\n                    oRm.class(\"sapUshellSearchResultListItem-DocumentThumbnail\");\n                    oRm.attr(\"src\", this.getProperty(\"imageUrl\"));\n                    oRm.openEnd();\n                    oRm.close(\"img\");\n                } // else: is there a placeholder image that could be shown instead?\n\n                oRm.close(\"a\");\n            } else {\n                oRm.openStart(\"div\", this.getId() + \"-document-thumbnail-border-2\");\n                oRm.class(\"sapUshellSearchResultListItem-DocumentThumbnailBorder\");\n                oRm.openEnd();\n\n                oRm.openStart(\"div\", this.getId() + \"-document-thumbnail-dogear-2\");\n                oRm.class(\"sapUshellSearchResultListItem-DocumentThumbnail-DogEar\");\n                oRm.openEnd();\n                oRm.close(\"div\");\n\n                oRm.renderControl(this._zoomIcon);\n\n                if (imageUrl && imageUrl.length > 0) {\n                    oRm.openStart(\"img\", this.getId() + \"-document-thumbnail-2\");\n                    oRm.class(\"sapUshellSearchResultListItem-DocumentThumbnail\");\n                    oRm.attr(\"src\", this.getProperty(\"imageUrl\"));\n                    oRm.openEnd();\n                    oRm.close(\"img\");\n                } // else: is there a placeholder image that could be shown instead?\n\n                oRm.close(\"div\");\n            }\n            oRm.close(\"div\");\n        }\n    }\n\n    private _cutDescrAttributeOutOfAttributeList(): FormattedResultItemAttribute {\n        const attributes = this.getProperty(\"attributes\");\n        for (let i = 0; i < attributes.length; i++) {\n            const attribute = attributes[i];\n            if (attribute.longtext) {\n                attributes.splice(i, 1);\n                this.setProperty(\"attributes\", attributes);\n                return attribute;\n            }\n        }\n        return undefined;\n    }\n\n    private _renderMultiLineDescription(oRm: RenderManager): void {\n        const oModel = this.getModel() as SearchModel;\n        if (this.getProperty(\"imageFormat\")?.toLowerCase() === \"documentthumbnail\") {\n            // for the time being, only render multiline attribute, if this is a document result item\n            const description = this._cutDescrAttributeOutOfAttributeList();\n            if (description?.value?.length > 0) {\n                const descriptionText = this.getAggregation(\"_multiLineDescriptionText\") as SearchText;\n                descriptionText.setText(description.value);\n\n                if (description.whyfound) {\n                    descriptionText.data(\"ishighlighted\", \"true\", true);\n                } else {\n                    descriptionText.data(\"ishighlighted\", \"false\", true);\n                }\n\n                if (description.valueWithoutWhyfound) {\n                    // for attribute values with why-found information, use the raw value information (without why-found-tags) for tooltip and ARIA description\n                    const hiddenValueText = new InvisibleText({});\n                    hiddenValueText.setText(description.valueWithoutWhyfound);\n                    descriptionText.data(\"tooltippedBy\", hiddenValueText.getId(), true);\n                    descriptionText.addEventDelegate({\n                        onAfterRendering: () => {\n                            const descriptionTextDom = descriptionText.getDomRef();\n                            if (descriptionTextDom) {\n                                descriptionTextDom.setAttribute(\n                                    \"aria-describedby\",\n                                    descriptionTextDom.getAttribute(\"data-tooltippedby\") || \"\"\n                                );\n                            }\n                        },\n                    });\n                    this.addAggregation(\n                        \"_attributeValuesWithoutWhyfoundHiddenTexts\",\n                        hiddenValueText,\n                        true /* do not invalidate this object */\n                    );\n                    oRm.renderControl(hiddenValueText);\n                }\n                this.adjustCssDragAndDrop(descriptionText, oModel);\n                oRm.renderControl(descriptionText);\n            } else {\n                oRm.openStart(\"div\", this.getId() + \"-multiline-description\");\n                oRm.class(\"sapUshellSearchResultListItem-MultiLineDescription\");\n                oRm.openEnd();\n                oRm.close(\"div\");\n            }\n        }\n    }\n\n    protected _renderAttributesContainer(oRm: RenderManager): void {\n        const oModel = this.getModel() as SearchModel;\n        oRm.openStart(\"div\", this.getId() + \"-attribute-expand-container\");\n        oRm.class(\"sapUshellSearchResultListItem-AttributesExpandContainer\");\n        if (oModel.config.optimizeForValueHelp) {\n            oRm.class(\"sapUshellSearchResultListItem-AttributesExpandContainerValueHelp\");\n        }\n        const expanded = this.getProperty(\"expanded\");\n        if (expanded) {\n            oRm.class(\"sapUshellSearchResultListItem-AttributesExpanded\");\n        }\n        oRm.openEnd();\n\n        oRm.openStart(\"div\", this.getId() + \"-attributes-and-actions\");\n        oRm.class(\"sapUshellSearchResultListItem-AttributesAndActions\");\n        oRm.openEnd();\n\n        if (!oModel.config.optimizeForValueHelp) {\n            this._renderImageForDocument(oRm);\n            this._renderMultiLineDescription(oRm);\n        }\n\n        oRm.openStart(\"ul\", this.getId() + \"-attributes\");\n        oRm.class(\"sapUshellSearchResultListItem-Attributes\");\n        oRm.openEnd();\n\n        const itemAttributes = this.getProperty(\"attributes\");\n\n        if (!oModel.config.optimizeForValueHelp) {\n            this._renderImageAttribute(oRm, /* imageIsOnlyAttribute= */ itemAttributes.length === 0);\n        }\n\n        this._renderAllAttributes(oRm, itemAttributes);\n\n        // this is just a dummy attribute to store additional spacer information for the expand and collapse JavaScript function\n        if (!oModel.config.optimizeForValueHelp) {\n            oRm.openStart(\"li\", this.getId() + \"-expand-spacer-attribute\");\n            oRm.class(\"sapUshellSearchResultListItem-ExpandSpacerAttribute\");\n            oRm.attr(\"aria-hidden\", \"true\");\n            oRm.openEnd();\n            oRm.close(\"li\");\n        }\n\n        oRm.close(\"ul\");\n\n        if (!oModel.config.optimizeForValueHelp) {\n            // related objects toolbar will be rendered in line with title attribute\n            this._renderRelatedObjectsToolbar(oRm);\n        }\n\n        oRm.close(\"div\");\n        oRm.close(\"div\");\n    }\n\n    // render Attributes\n    // ===================================================================\n    protected _renderAllAttributes(oRm: RenderManager, itemAttributes: Array<unknown>): void {\n        const oModel = this.getModel() as SearchModel;\n        if (itemAttributes.length === 0) {\n            oRm.openStart(\"li\", this.getId() + \"-generic-attribute-1\");\n            oRm.class(\"sapUshellSearchResultListItem-GenericAttribute\");\n            if (oModel.config.optimizeForValueHelp) {\n                oRm.class(\"sapUshellSearchResultListItem-GenericAttributeValueHelp\");\n            }\n            oRm.class(\"sapUshellSearchResultListItem-MainAttribute\");\n            oRm.class(\"sapUshellSearchResultListItem-EmptyAttributePlaceholder\");\n            oRm.attr(\"aria-hidden\", \"true\");\n            oRm.openEnd();\n            oRm.close(\"li\");\n            return;\n        }\n\n        let itemAttribute;\n        let labelText;\n        let valueText;\n        let valueWithoutWhyfound;\n        let label, value, isLongText;\n        let hiddenValueText;\n        let oIcon;\n\n        const layoutCache = this.getProperty(\"layoutCache\") || {};\n        this.setProperty(\"layoutCache\", layoutCache, /* suppress rerender */ true);\n        if (!layoutCache.attributes) {\n            layoutCache.attributes = {};\n        }\n\n        let i = 0,\n            numberOfRenderedAttributes = 0;\n\n        let numberOfColumnsDesktop = 4;\n        let numberOfColumnsTablet = 3;\n        let distributionOfAttributesDesktop = [0, 0, 0]; // three rows for desktop resolution\n        let distributionOfAttributesTablet = [0, 0, 0, 0]; // four rows for tablet resolution\n        let additionalWhyFoundAttributesDesktop = 2;\n        let additionalWhyFoundAttributesTablet = 2;\n        let longTextColumnNumber;\n\n        const isDocumentItem =\n            this.getProperty(\"imageFormat\") &&\n            this.getProperty(\"imageFormat\").toLowerCase() === \"documentthumbnail\";\n        const includeImageAttribute =\n            this.getProperty(\"imageUrl\") && !isDocumentItem && !oModel.config.optimizeForValueHelp;\n        if (isDocumentItem && !oModel.config.optimizeForValueHelp) {\n            numberOfColumnsDesktop = numberOfColumnsTablet = 2;\n            distributionOfAttributesDesktop = distributionOfAttributesTablet = [0, 0];\n            additionalWhyFoundAttributesDesktop = additionalWhyFoundAttributesTablet = 4;\n        }\n\n        let remainingSlotsForAttributesDesktop =\n            numberOfColumnsDesktop * distributionOfAttributesDesktop.length;\n        let remainingSlotsForAttributesTablet = numberOfColumnsTablet * distributionOfAttributesTablet.length;\n\n        if (includeImageAttribute) {\n            remainingSlotsForAttributesDesktop--;\n            remainingSlotsForAttributesTablet--;\n            distributionOfAttributesDesktop[0]++;\n            distributionOfAttributesTablet[0]++;\n        }\n\n        this.destroyAggregation(\"_attributeLabels\");\n        this.destroyAggregation(\"_attributeValues\");\n        this.destroyAggregation(\"_attributeValuesWithoutWhyfoundHiddenTexts\");\n\n        // eslint-disable-next-line @typescript-eslint/no-unused-vars\n        const createAfterRenderingFunctionForAddingAriaDescribedBy = (control) => {\n            return () => {\n                const dom = this.getDomRef() as HTMLElement;\n                if (dom) {\n                    const describedBy = dom.getAttribute(\"data-tooltippedby\");\n                    if (describedBy) {\n                        dom.setAttribute(\"aria-describedby\", describedBy);\n                    } else {\n                        dom.removeAttribute(\"aria-describedby\");\n                    }\n                }\n            };\n        };\n\n        for (\n            i = 0;\n            !(additionalWhyFoundAttributesDesktop <= 0 && additionalWhyFoundAttributesTablet <= 0) &&\n            i < itemAttributes.length;\n            i++\n        ) {\n            itemAttribute = itemAttributes[i];\n\n            const oModel = this.getModel() as SearchModel;\n            if (oModel.config.optimizeForValueHelp && !itemAttribute.whyfound) {\n                continue; // for value help mode, only render title and why found\n            }\n\n            if (isDocumentItem && numberOfRenderedAttributes >= 4) {\n                break;\n            }\n\n            if (itemAttribute.isTitle) {\n                continue;\n            }\n\n            if (\n                remainingSlotsForAttributesDesktop <= 0 &&\n                remainingSlotsForAttributesTablet <= 0 &&\n                !itemAttribute.whyfound\n            ) {\n                continue;\n            }\n\n            labelText = itemAttribute.name;\n            valueText = itemAttribute.value;\n            if (labelText === undefined || valueText === undefined) {\n                continue;\n            }\n            if (!valueText || valueText.trim().length === 0) {\n                valueText = SearchResultListItem.noValue;\n            }\n\n            if (\n                itemAttribute.longtext === undefined ||\n                itemAttribute.longtext === null ||\n                itemAttribute.longtext === \"\"\n            ) {\n                isLongText = false;\n            } else {\n                isLongText = true;\n            }\n\n            valueWithoutWhyfound = itemAttribute.valueWithoutWhyfound;\n\n            let _rowCountTablet = -1,\n                _rowCountDesktop = -1,\n                _attributeWeight = {\n                    desktop: 1,\n                    tablet: 1,\n                };\n\n            const attributeLayout = layoutCache.attributes[itemAttribute.key] || {};\n            layoutCache.attributes[itemAttribute.key] = attributeLayout;\n\n            oRm.openStart(\"li\", this.getId() + \"-generic-attribute-2-\" + i);\n            oRm.class(\"sapUshellSearchResultListItem-GenericAttribute\");\n            if (oModel.config.optimizeForValueHelp) {\n                oRm.class(\"sapUshellSearchResultListItem-GenericAttributeValueHelp\");\n            }\n            oRm.class(\"sapUshellSearchResultListItem-MainAttribute\");\n\n            if (isLongText) {\n                longTextColumnNumber =\n                    attributeLayout.longTextColumnNumber ||\n                    this._howManyColumnsToUseForLongTextAttribute(valueWithoutWhyfound);\n                attributeLayout.longTextColumnNumber = longTextColumnNumber;\n                _attributeWeight = longTextColumnNumber;\n                oRm.class(\"sapUshellSearchResultListItem-LongtextAttribute\");\n            }\n\n            if (remainingSlotsForAttributesDesktop <= 0) {\n                if (itemAttribute.whyfound && additionalWhyFoundAttributesDesktop > 0) {\n                    oRm.class(\"sapUshellSearchResultListItem-WhyFoundAttribute-Desktop\");\n                    additionalWhyFoundAttributesDesktop--;\n                } else {\n                    oRm.class(\"sapUshellSearchResultListItem-DisplayNoneAttribute-Desktop\");\n                }\n            }\n\n            if (remainingSlotsForAttributesTablet <= 0) {\n                if (itemAttribute.whyfound && additionalWhyFoundAttributesTablet > 0) {\n                    oRm.class(\"sapUshellSearchResultListItem-WhyFoundAttribute-Tablet\");\n                    additionalWhyFoundAttributesTablet--;\n                } else {\n                    oRm.class(\"sapUshellSearchResultListItem-DisplayNoneAttribute-Tablet\");\n                }\n            }\n\n            if (isLongText && includeImageAttribute && distributionOfAttributesDesktop[0] === 1) {\n                _rowCountDesktop = 0;\n                longTextColumnNumber =\n                    attributeLayout.longTextColumnNumber.desktop < numberOfColumnsDesktop\n                        ? attributeLayout.longTextColumnNumber.desktop\n                        : numberOfColumnsDesktop - 1;\n                distributionOfAttributesDesktop[0] += longTextColumnNumber;\n                remainingSlotsForAttributesDesktop -= longTextColumnNumber;\n            } else {\n                for (let k = 0; k < distributionOfAttributesDesktop.length; k++) {\n                    if (\n                        distributionOfAttributesDesktop[k] + _attributeWeight.desktop <=\n                        numberOfColumnsDesktop\n                    ) {\n                        distributionOfAttributesDesktop[k] += _attributeWeight.desktop;\n                        remainingSlotsForAttributesDesktop -= _attributeWeight.desktop;\n                        _rowCountDesktop = k;\n                        break;\n                    }\n                }\n            }\n\n            if (_rowCountDesktop < 0) {\n                _rowCountDesktop = distributionOfAttributesDesktop.length;\n            }\n\n            if (isLongText && includeImageAttribute && distributionOfAttributesTablet[0] === 1) {\n                _rowCountTablet = 0;\n                longTextColumnNumber =\n                    attributeLayout.longTextColumnNumber.tablet < numberOfColumnsTablet\n                        ? attributeLayout.longTextColumnNumber.tablet\n                        : numberOfColumnsTablet - 1;\n                distributionOfAttributesTablet[0] += longTextColumnNumber;\n                remainingSlotsForAttributesTablet -= longTextColumnNumber;\n            } else {\n                for (let k = 0; k < distributionOfAttributesTablet.length; k++) {\n                    if (\n                        distributionOfAttributesTablet[k] + _attributeWeight.tablet <=\n                        numberOfColumnsTablet\n                    ) {\n                        distributionOfAttributesTablet[k] += _attributeWeight.tablet;\n                        remainingSlotsForAttributesTablet -= _attributeWeight.tablet;\n                        _rowCountTablet = k;\n                        break;\n                    }\n                }\n            }\n\n            if (_rowCountTablet < 0) {\n                _rowCountTablet = distributionOfAttributesTablet.length;\n            }\n\n            oRm.class(\"sapUshellSearchResultListItem-OrderTablet-\" + _rowCountTablet);\n            oRm.class(\"sapUshellSearchResultListItem-OrderDesktop-\" + _rowCountDesktop);\n\n            if (isLongText) {\n                oRm.attr(\"data-sap-searchresultitem-attributeweight-desktop\", _attributeWeight.desktop);\n                oRm.attr(\"data-sap-searchresultitem-attributeweight-tablet\", _attributeWeight.tablet);\n            }\n\n            oRm.openEnd();\n\n            label = new Label(`${this.getId()}--attr${i}_labelText`, {\n                displayOnly: true,\n                showColon: true,\n            });\n            label.setText(labelText);\n            label.addStyleClass(\"sapUshellSearchResultListItem-AttributeKey\");\n            label.addStyleClass(\"sapUshellSearchResultListItem-MightOverflow\");\n            this.adjustCssDragAndDrop(label, oModel);\n            oRm.renderControl(label);\n\n            oRm.openStart(\"span\", this.getId() + \"-attribute-value-container-\" + i);\n            oRm.class(\"sapUshellSearchResultListItem-AttributeValueContainer\");\n            if (oModel.config.optimizeForValueHelp) {\n                oRm.class(\"sapUshellSearchResultListItem-AttributeValueContainerValueHelp\");\n            }\n            oRm.openEnd();\n\n            if (itemAttribute.defaultNavigationTarget instanceof NavigationTarget) {\n                const navigationTarget = itemAttribute.defaultNavigationTarget;\n                value = new SearchLink(`${this.getId()}--attr${i}_defNavTarget_Link`, {\n                    navigationTarget: null,\n                    wrapping: false,\n                    tooltip: ManagedObject.escapeSettingsValue(itemAttribute.tooltip || \"\"),\n                });\n                // Lazy loading because of potential {} in the href will be understood as binding path by UI5\n                value.setNavigationTarget(navigationTarget);\n                value.setText(valueText);\n                value.addStyleClass(\"sapUshellSearchResultListItem-AttributeLink\");\n                value.setIcon(itemAttribute.iconUrl);\n            } else {\n                value = new SearchText(`${this.getId()}--attr${i}_noDefNavTarget_Text`);\n                value.setText(valueText);\n                oIcon = undefined;\n                if (itemAttribute.iconUrl) {\n                    oIcon = new Icon(`${this.getId()}--attr${i}_itemAttributeIcon`, {\n                        src: ManagedObject.escapeSettingsValue(itemAttribute.iconUrl),\n                    });\n                    oIcon.addStyleClass(\"sapUshellSearchResultListItem-AttributeIcon\");\n                }\n                if (oIcon) {\n                    value.setIcon(oIcon);\n                }\n            }\n\n            value.addStyleClass(\"sapUshellSearchResultListItem-AttributeValue\");\n            value.addStyleClass(\"sapUshellSearchResultListItem-MightOverflow\");\n            if (itemAttribute.whyfound) {\n                value.data(\"ishighlighted\", \"true\", true);\n                value.addStyleClass(\"sapUshellSearchResultItem-AttributeValueHighlighted\");\n            }\n            if (isLongText) {\n                value.data(\"islongtext\", \"true\", true);\n            }\n            if (valueWithoutWhyfound && !(value instanceof SearchLink && value.getTooltip())) {\n                // for attribute values with why-found information, use the raw value information (without why-found-tags) for tooltip and ARIA description\n                hiddenValueText = new InvisibleText({});\n                hiddenValueText.addStyleClass(\n                    \"sapUshellSearchResultListItem-AttributeValueContainer-HiddenText\"\n                );\n                hiddenValueText.setText(valueWithoutWhyfound);\n                value.data(\"tooltippedBy\", hiddenValueText.getId(), true);\n                value.addEventDelegate({\n                    onAfterRendering: createAfterRenderingFunctionForAddingAriaDescribedBy(value),\n                });\n                this.addAggregation(\n                    \"_attributeValuesWithoutWhyfoundHiddenTexts\",\n                    hiddenValueText,\n                    true /* do not invalidate this object */\n                );\n                oRm.renderControl(hiddenValueText);\n            }\n            this.adjustCssDragAndDrop(value, oModel);\n            oRm.renderControl(value);\n\n            oRm.close(\"span\");\n            oRm.close(\"li\");\n\n            this.addAggregation(\"_attributeLabels\", label, true /* do not invalidate this object */);\n            this.addAggregation(\"_attributeValues\", value, true /* do not invalidate this object */);\n\n            numberOfRenderedAttributes++;\n        }\n\n        if (includeImageAttribute) {\n            const availableSpaceOnFirstLineDesktop =\n                numberOfColumnsDesktop - distributionOfAttributesDesktop[0];\n            const availableSpaceOnFirstLineTablet = numberOfColumnsTablet - distributionOfAttributesTablet[0];\n\n            if (availableSpaceOnFirstLineDesktop > 0 || availableSpaceOnFirstLineTablet > 0) {\n                oRm.openStart(\"li\", this.getId() + \"-generic-attribute-3\");\n                oRm.class(\"sapUshellSearchResultListItem-GenericAttribute\");\n                if (oModel.config.optimizeForValueHelp) {\n                    oRm.class(\"sapUshellSearchResultListItem-GenericAttributeValueHelp\");\n                }\n                oRm.class(\"sapUshellSearchResultListItem-MainAttribute\");\n                oRm.class(\"sapUshellSearchResultListItem-OrderTablet-0\");\n                oRm.class(\"sapUshellSearchResultListItem-OrderDesktop-0\");\n                oRm.attr(\n                    \"data-sap-searchresultitem-attributeweight-desktop\",\n                    availableSpaceOnFirstLineDesktop\n                );\n                oRm.attr(\"data-sap-searchresultitem-attributeweight-tablet\", availableSpaceOnFirstLineTablet);\n                oRm.openEnd();\n                oRm.close(\"li\");\n            }\n        }\n    }\n\n    private _howManyColumnsToUseForLongTextAttribute(attributeValue: string): {\n        tablet: number;\n        desktop: number;\n    } {\n        if (attributeValue.length < 50) {\n            return {\n                tablet: 1,\n                desktop: 1,\n            };\n        }\n        if (attributeValue.length < 85) {\n            return {\n                tablet: 2,\n                desktop: 2,\n            };\n        }\n        if (attributeValue.length < 135) {\n            return {\n                tablet: 3,\n                desktop: 3,\n            };\n        }\n        return {\n            tablet: 3,\n            desktop: 4,\n        };\n    }\n\n    private _renderImageAttribute(oRm: RenderManager, imageIsOnlyAttribute: boolean): void {\n        const oModel = this.getModel() as SearchModel;\n\n        if (\n            !this.getProperty(\"imageUrl\") ||\n            (this.getProperty(\"imageFormat\") &&\n                this.getProperty(\"imageFormat\").toLowerCase() === \"documentthumbnail\")\n        ) {\n            return;\n        }\n\n        oRm.openStart(\"li\", this.getId() + \"-generic-attribute-4\");\n        oRm.class(\"sapUshellSearchResultListItem-GenericAttribute\");\n        if (oModel.config.optimizeForValueHelp) {\n            oRm.class(\"sapUshellSearchResultListItem-GenericAttributeValueHelp\");\n        }\n        oRm.class(\"sapUshellSearchResultListItem-ImageAttribute\");\n\n        if (imageIsOnlyAttribute) {\n            oRm.class(\"sapUshellSearchResultListItem-LonelyImageAttribute\");\n        }\n        oRm.openEnd();\n        oRm.openStart(\"div\", this.getId() + \"-image-container\");\n        oRm.class(\"sapUshellSearchResultListItem-ImageContainer\");\n        if (this.getProperty(\"imageFormat\") === AttributeFormatType.Round) {\n            oRm.class(\"sapUshellSearchResultListItem-ImageContainerRound\");\n        }\n        oRm.openEnd();\n\n        if (this.getProperty(\"imageUrl\")) {\n            oRm.openStart(\"img\", this.getId() + \"-image-2\");\n            oRm.class(\"sapUshellSearchResultListItem-Image\");\n            if (this.getProperty(\"imageFormat\") === AttributeFormatType.Round) {\n                //\n            }\n            oRm.attr(\"src\", this.getProperty(\"imageUrl\"));\n            oRm.openEnd();\n            oRm.close(\"img\");\n        }\n\n        if (this.getProperty(\"imageFormat\") !== \"round\") {\n            oRm.openStart(\"div\", this.getId() + \"-image-container-aligment-helper\");\n            oRm.class(\"sapUshellSearchResultListItem-ImageContainerAlignmentHelper\");\n            oRm.openEnd();\n            oRm.close(\"div\");\n        }\n        oRm.close(\"div\");\n        oRm.close(\"li\");\n    }\n\n    // render Related Objects Toolbar\n    // ===================================================================\n    protected _renderRelatedObjectsToolbar(oRm: RenderManager): void {\n        const navigationObjects = this.getProperty(\"navigationObjects\") as Array<NavigationTarget>;\n\n        if (!navigationObjects || navigationObjects.length === 0) {\n            return;\n        }\n\n        this._showExpandButton = true;\n\n        const relatedObjectActionsToolbar = this.getAggregation(\n            \"_relatedObjectActionsToolbar\"\n        ) as SearchRelatedObjectsToolbar;\n\n        relatedObjectActionsToolbar.setProperty(\"navigationObjects\", navigationObjects);\n        relatedObjectActionsToolbar.setProperty(\"positionInList\", this.getProperty(\"positionInList\"));\n\n        oRm.renderControl(relatedObjectActionsToolbar);\n    }\n\n    private _renderAccessibilityInformation(oRm: RenderManager): void {\n        const parentListItem = this.getProperty(\"parentListItem\") as CustomListItem;\n        if (parentListItem) {\n            this._renderAriaDescriptionElementForTitle(oRm, /* withPrefix = */ true, /* doRender= */ true);\n            this._renderAriaDescriptionElementForAttributes(oRm, /* withPrefix = */ /* doRender= */ true);\n            this._renderAriaDescriptionElementForCollapsedOrExpandedState(\n                oRm,\n                /* withPrefix = */ /* doRender= */ true\n            );\n\n            parentListItem.addEventDelegate({\n                onAfterRendering: () => {\n                    this._addAriaDescriptionToParentListElement(\n                        parentListItem,\n                        /* includeTotalCountElement = */ true\n                    );\n\n                    registerHandler(\n                        \"acc-listitem-focusin\",\n                        [parentListItem.getDomRef()],\n                        \"focusin\",\n                        (event: any) => {\n                            const relatedTarget = event.relatedTarget as HTMLElement;\n                            if (\n                                relatedTarget?.classList.contains(\"sapUshellSearchResultListItem\") ||\n                                (relatedTarget?.closest(\".sapUshellSearchResultListItemApps\") &&\n                                    !relatedTarget.classList.contains(\"sapUshellResultListMoreFooter\"))\n                            ) {\n                                this._renderAriaDescriptionElementForTitle(\n                                    oRm,\n                                    /* withPrefix = */ false,\n                                    /* doRender= */ false\n                                );\n                                this._renderAriaDescriptionElementForAttributes(\n                                    oRm,\n                                    /* withPrefix = */ /* doRender= */ false\n                                );\n                                this._renderAriaDescriptionElementForCollapsedOrExpandedState(\n                                    oRm,\n                                    /* withPrefix = */ /* doRender= */ false\n                                );\n                                this._addAriaDescriptionToParentListElement(\n                                    parentListItem,\n                                    /* includeTotalCountElement = */ false\n                                );\n                            } else {\n                                this._renderAriaDescriptionElementForTitle(\n                                    oRm,\n                                    /* withPrefix = */ true,\n                                    /* doRender= */ false\n                                );\n                                this._renderAriaDescriptionElementForAttributes(\n                                    oRm,\n                                    /* withPrefix = */ /* doRender= */ false\n                                );\n                                this._renderAriaDescriptionElementForCollapsedOrExpandedState(\n                                    oRm,\n                                    /* withPrefix = */ /* doRender= */ false\n                                );\n                                this._addAriaDescriptionToParentListElement(\n                                    parentListItem,\n                                    /* includeTotalCountElement = */ true\n                                );\n                            }\n                        }\n                    );\n                },\n                onsapspace: (oEvent: Event): void => {\n                    if (oEvent[\"target\"] === oEvent[\"currentTarget\"]) {\n                        this.toggleDetails();\n                    }\n                },\n                onsapenter: (oEvent: Event): void => {\n                    if (oEvent[\"target\"] === oEvent[\"currentTarget\"]) {\n                        const titleNavigation: NavigationTarget = this.getProperty(\"titleNavigation\");\n                        if (titleNavigation instanceof NavigationTarget) {\n                            titleNavigation.performNavigation();\n                        }\n                    }\n                },\n            });\n        }\n    }\n    public getAccessibilityInfo(...args: unknown[]): Record<string, unknown> {\n        let accInfo = {};\n        if (Control.prototype.getAccessibilityInfo) {\n            accInfo = Control.prototype.getAccessibilityInfo.apply(this, args) || accInfo;\n        }\n        accInfo[\"description\"] = \"\"; // description will be provided dynamically in _renderAccessibilityInformation\n        return accInfo;\n    }\n\n    private _renderAriaDescriptionElementForTitle(\n        oRm: RenderManager,\n        withPrefix: boolean,\n        doRender: boolean\n    ): void {\n        this._searchResultListPrefix =\n            this._searchResultListPrefix || i18n.getText(\"result_list_announcement_screenreaders\");\n        let labelText = this.getProperty(\"title\") + \", \" + this.getProperty(\"type\") + \".\";\n        if (withPrefix) {\n            labelText = this._searchResultListPrefix + \" \" + labelText;\n        }\n\n        const titleLabeledByText = this.getAggregation(\"_titleLabeledByText\") as InvisibleText;\n        if (titleLabeledByText) {\n            titleLabeledByText.setText(labelText);\n        }\n\n        if (doRender && oRm) {\n            oRm.renderControl(titleLabeledByText);\n        }\n    }\n\n    private _renderAriaDescriptionElementForAttributes(oRm: RenderManager, doRender: boolean): void {\n        const attributesLabeledByText = this.getAggregation(\"_attributesLabeledByText\") as InvisibleText;\n\n        const domRef = this.getDomRef() as HTMLElement;\n        if (!domRef) {\n            return; // ToDo: function _renderAriaDescriptionElementForAttributes should not be called for invalidated items (i.e. click on list when table is active)\n        }\n\n        const attributes = domRef.querySelectorAll(\n            \".sapUshellSearchResultListItem-Attributes .sapUshellSearchResultListItem-MainAttribute\"\n        );\n\n        let labelledByText;\n        if (attributes.length === 0) {\n            labelledByText = i18n.getText(\"result_list_item_aria_no_attributes\");\n        } else {\n            labelledByText = i18n.getText(\"result_list_item_aria_has_attributes\");\n            attributes.forEach((attrElem) => {\n                const isVisible =\n                    (attrElem as HTMLElement).offsetParent !== null &&\n                    (attrElem as HTMLElement).getAttribute(\"aria-hidden\") !== \"true\";\n                if (isVisible) {\n                    const attributeKeyElem = attrElem.querySelector(\n                        \".sapUshellSearchResultListItem-AttributeKey\"\n                    );\n                    const attributeKey = attributeKeyElem ? attributeKeyElem.textContent : \"\";\n                    const attributeValueContainer = attrElem.querySelector(\n                        \".sapUshellSearchResultListItem-AttributeValueContainer\"\n                    );\n                    let attributeValueElem =\n                        attributeValueContainer &&\n                        attributeValueContainer.querySelector(\n                            \".sapUshellSearchResultListItem-AttributeValueContainer-HiddenText\"\n                        );\n                    if (!attributeValueElem) {\n                        attributeValueElem = attributeValueContainer;\n                    }\n                    const attributeValue = attributeValueElem ? attributeValueElem.textContent : \"\";\n                    labelledByText += i18n.getText(\"result_list_item_aria_attribute_and_value\", [\n                        attributeKey,\n                        attributeValue,\n                    ]);\n                }\n            });\n        }\n\n        if (attributesLabeledByText) {\n            attributesLabeledByText.setText(labelledByText);\n        }\n\n        if (doRender && oRm) {\n            oRm.renderControl(attributesLabeledByText);\n        }\n    }\n\n    private _renderAriaDescriptionElementForCollapsedOrExpandedState(\n        oRm: RenderManager,\n        doRender: boolean\n    ): void {\n        const expandStateLabeledByText = this.getAggregation(\"_expandStateLabeledByText\") as InvisibleText;\n        let labelledByText;\n\n        const expandButton = this.getAggregation(\"_expandButton\") as Button;\n        if (!expandButton) {\n            return;\n        }\n        const expandButtonDom = expandButton.getDomRef() as HTMLElement;\n        if (expandButtonDom && window.getComputedStyle(expandButtonDom).visibility !== \"hidden\") {\n            if (this.isShowingDetails()) {\n                labelledByText = i18n.getText(\"result_list_item_aria_expanded\");\n                const navigationObjects = this.getProperty(\"navigationObjects\");\n                if (Array.isArray(navigationObjects) && navigationObjects.length > 0) {\n                    labelledByText = i18n.getText(\"result_list_item_aria_has_links\") + labelledByText;\n                }\n            } else {\n                labelledByText = i18n.getText(\"result_list_item_aria_collapsed\");\n            }\n        }\n        expandStateLabeledByText.setText(labelledByText);\n\n        if (doRender && oRm) {\n            oRm.renderControl(expandStateLabeledByText);\n        }\n    }\n\n    private _addAriaDescriptionToParentListElement(\n        parentListItem: CustomListItem,\n        includeTotalCountElement: boolean\n    ): void {\n        const titleLabeledByText = this.getAggregation(\"_titleLabeledByText\") as InvisibleText;\n        if (!titleLabeledByText) {\n            return;\n        }\n        let itemAriaLabeledBy = titleLabeledByText.getId();\n        if (includeTotalCountElement) {\n            const countBreadcrumbsHiddenElement = this.getProperty(\"countBreadcrumbsHiddenElement\");\n            if (countBreadcrumbsHiddenElement) {\n                itemAriaLabeledBy += \" \" + countBreadcrumbsHiddenElement.getId();\n            }\n        }\n\n        const attributesLabeledByText = this.getAggregation(\"_attributesLabeledByText\") as InvisibleText;\n        itemAriaLabeledBy += \" \" + attributesLabeledByText.getId();\n\n        const expandStateLabeledByText = this.getAggregation(\"_expandStateLabeledByText\") as InvisibleText;\n        itemAriaLabeledBy += \" \" + expandStateLabeledByText.getId();\n\n        const parentDomRef = parentListItem.getDomRef() as HTMLElement;\n        if (parentDomRef) {\n            parentDomRef.setAttribute(\"aria-labelledby\", itemAriaLabeledBy);\n        }\n    }\n\n    protected _getExpandAreaObjectInfo(): {\n        resultListItem: Element;\n        attributesExpandContainer: HTMLElement;\n        currentHeight: number;\n        expandedHeight: number;\n        elementsToFadeInOrOut: Array<HTMLElement>;\n        expandAnimationDuration: number;\n        fadeInOrOutAnimationDuration: number;\n        relatedObjectsToolbar: HTMLElement;\n    } {\n        const oModel = this.getModel() as SearchModel;\n\n        // get the root DOM element\n        const resultListItemDomRef = this.getDomRef() as HTMLElement;\n        if (!resultListItemDomRef) {\n            throw new Error(\"DOM reference not found\");\n        }\n        // add class for expansion preparation\n        const domRef = this.getDomRef() as HTMLElement;\n        domRef?.classList.add(\"sapUshellSearchResultListItem-AttributesPrepareExpansion\");\n\n        // find the attributes expand container and related objects toolbar\n        const attributesExpandContainer = resultListItemDomRef.querySelector(\n            \".sapUshellSearchResultListItem-AttributesExpandContainer\"\n        ) as HTMLElement;\n        const relatedObjectsToolbar = resultListItemDomRef.querySelector(\n            \".sapUshellSearchResultListItem-RelatedObjectsToolbar\"\n        ) as HTMLElement;\n\n        let relatedObjectsToolbarHidden = false;\n        if (\n            relatedObjectsToolbar &&\n            window.getComputedStyle(relatedObjectsToolbar).display === \"none\" &&\n            !oModel.config.optimizeForValueHelp\n        ) {\n            relatedObjectsToolbar.style.display = \"block\";\n            relatedObjectsToolbarHidden = true;\n        }\n\n        const currentHeight = attributesExpandContainer ? attributesExpandContainer.offsetHeight : 0;\n        const expandedHeight =\n            (\n                resultListItemDomRef.querySelector(\n                    \".sapUshellSearchResultListItem-AttributesAndActions\"\n                ) as HTMLElement\n            )?.offsetHeight || 0;\n\n        resultListItemDomRef.classList.remove(\"sapUshellSearchResultListItem-AttributesPrepareExpansion\");\n\n        if (relatedObjectsToolbar && relatedObjectsToolbarHidden) {\n            relatedObjectsToolbar.style.display = \"\";\n        }\n\n        const elementsToFadeInOrOut = this._getElementsInExpandArea();\n        const expandAnimationDuration = 200;\n        const fadeInOrOutAnimationDuration = expandAnimationDuration / 10;\n\n        const expandAreaObjectInfo = {\n            resultListItem: this.getDomRef(),\n            attributesExpandContainer: attributesExpandContainer,\n            currentHeight: currentHeight,\n            expandedHeight: expandedHeight,\n            elementsToFadeInOrOut: elementsToFadeInOrOut,\n            expandAnimationDuration: expandAnimationDuration,\n            fadeInOrOutAnimationDuration: fadeInOrOutAnimationDuration,\n            relatedObjectsToolbar: relatedObjectsToolbar,\n        };\n\n        return expandAreaObjectInfo;\n    }\n\n    private _getElementsInExpandArea(): HTMLElement[] {\n        const domRef = this.getDomRef() as HTMLElement;\n        const elementsToFadeInOrOut: HTMLElement[] = [];\n        if (!domRef) {\n            return elementsToFadeInOrOut;\n        }\n\n        domRef.classList.add(\"sapUshellSearchResultListItem-AttributesPrepareExpansion\");\n\n        const attributeElements = Array.from(\n            domRef.querySelectorAll(\n                \".sapUshellSearchResultListItem-GenericAttribute:not(.sapUshellSearchResultListItem-ImageAttribute)\"\n            )\n        ) as HTMLElement[];\n\n        if (attributeElements.length > 0) {\n            const firstLineY = attributeElements[0].getBoundingClientRect().top;\n            attributeElements.forEach((el) => {\n                if (el.getBoundingClientRect().top > firstLineY) {\n                    elementsToFadeInOrOut.push(el);\n                }\n            });\n        }\n\n        domRef.classList.remove(\"sapUshellSearchResultListItem-AttributesPrepareExpansion\");\n\n        return elementsToFadeInOrOut;\n    }\n\n    // Sync the CSS class for selection state\n    private _syncSelectionCssClass(): void {\n        const selected = this.getProperty(\"selected\") as boolean;\n        if (selected) {\n            this.addStyleClass(\"sapUshellSearchResultListItem-Selected\");\n        } else {\n            this.removeStyleClass(\"sapUshellSearchResultListItem-Selected\");\n        }\n    }\n\n    public isShowingDetails(): boolean {\n        const expandAreaObjectInfo = this._getExpandAreaObjectInfo();\n\n        /////////////////////////////\n        // Expand Result List Item\n        if (expandAreaObjectInfo.currentHeight < expandAreaObjectInfo.expandedHeight) {\n            return false;\n        }\n        return true;\n    }\n\n    public showDetails(): void {\n        if (this.isShowingDetails()) {\n            return;\n        }\n\n        const expandAreaObjectInfo = this._getExpandAreaObjectInfo();\n\n        let attributesExpandContainer;\n        if (expandAreaObjectInfo?.attributesExpandContainer) {\n            attributesExpandContainer = expandAreaObjectInfo.attributesExpandContainer;\n        }\n\n        // set relatedObjectsToolbar opacity and display using native DOM\n        if (expandAreaObjectInfo.relatedObjectsToolbar) {\n            const relatedToolbar = expandAreaObjectInfo?.relatedObjectsToolbar;\n            if (relatedToolbar) {\n                relatedToolbar.style.opacity = \"0\";\n                relatedToolbar.style.display = \"block\";\n            }\n        }\n\n        const relatedObjectActionsToolbar = this.getAggregation(\n            \"_relatedObjectActionsToolbar\"\n        ) as SearchRelatedObjectsToolbar;\n        if (relatedObjectActionsToolbar) {\n            relatedObjectActionsToolbar.layoutToolbarElements();\n        }\n\n        const domRef = this.getDomRef() as HTMLElement;\n        if (domRef) {\n            domRef.classList.add(\"sapUshellSearchResultListItem-AttributesPrepareExpansion\");\n        }\n        let relatedObjectsToolbar;\n        if (expandAreaObjectInfo?.relatedObjectsToolbar) {\n            relatedObjectsToolbar = expandAreaObjectInfo.relatedObjectsToolbar;\n        }\n        const elementsToFadeInOrOut = expandAreaObjectInfo.elementsToFadeInOrOut;\n        const expandedHeight = expandAreaObjectInfo.expandedHeight;\n        const expandAnimationDuration = expandAreaObjectInfo.expandAnimationDuration;\n        const fadeInOrOutAnimationDuration = expandAreaObjectInfo.fadeInOrOutAnimationDuration;\n\n        // animate height of attributesExpandContainer\n        if (attributesExpandContainer) {\n            attributesExpandContainer.style.transition = `height ${expandAnimationDuration}ms`;\n            attributesExpandContainer.style.height = `${expandedHeight}px`;\n        }\n\n        // fade in elements in expand area\n        elementsToFadeInOrOut.forEach((el) => {\n            el.style.transition = `opacity ${fadeInOrOutAnimationDuration}ms`;\n            el.style.opacity = \"1\";\n        });\n\n        // fade in relatedObjectsToolbar\n        if (relatedObjectsToolbar) {\n            relatedObjectsToolbar.style.transition = `opacity ${expandAnimationDuration}ms`;\n            setTimeout(() => {\n                relatedObjectsToolbar.style.opacity = \"1\";\n            }, expandAnimationDuration / 2);\n        }\n\n        // after animation, update state and clean up\n        setTimeout(() => {\n            this.setProperty(\"expanded\", true, true);\n            if (attributesExpandContainer) {\n                attributesExpandContainer.classList.add(\"sapUshellSearchResultListItem-AttributesExpanded\");\n            }\n            elementsToFadeInOrOut.forEach((el) => {\n                el.style.opacity = \"\";\n                el.style.transition = \"\";\n            });\n            const domRef = this.getDomRef() as HTMLElement;\n            if (domRef) {\n                domRef.classList.remove(\"sapUshellSearchResultListItem-AttributesPrepareExpansion\");\n            }\n            if (relatedObjectsToolbar) {\n                relatedObjectsToolbar.style.display = \"\";\n                relatedObjectsToolbar.style.opacity = \"\";\n                relatedObjectsToolbar.style.transition = \"\";\n            }\n            // update expand button icon and tooltip\n            const expandButton = this.getAggregation(\"_expandButton\") as Button;\n            if (expandButton) {\n                expandButton.setTooltip(i18n.getText(\"hideDetailBtn_tooltip\"));\n                expandButton.setIcon(IconPool.getIconURI(\"slim-arrow-up\"));\n            }\n            this._renderAriaDescriptionElementForAttributes(\n                undefined,\n                /* withPrefix = */ /* doRender= */ false\n            );\n            this._renderAriaDescriptionElementForCollapsedOrExpandedState(\n                undefined,\n                /* withPrefix = */ /* doRender= */ false\n            );\n        }, expandAnimationDuration);\n    }\n\n    public hideDetails(): void {\n        if (!this.isShowingDetails()) {\n            return;\n        }\n\n        const expandAreaObjectInfo = this._getExpandAreaObjectInfo();\n        const elementsToFadeInOrOut = expandAreaObjectInfo.elementsToFadeInOrOut;\n        const expandAnimationDuration = expandAreaObjectInfo.expandAnimationDuration;\n        const fadeInOrOutAnimationDuration = expandAreaObjectInfo.fadeInOrOutAnimationDuration;\n        let fadeOutStarted = false;\n\n        let attributesExpandContainer;\n        if (expandAreaObjectInfo?.attributesExpandContainer) {\n            attributesExpandContainer = expandAreaObjectInfo.attributesExpandContainer;\n        }\n        let relatedObjectsToolbar;\n        if (expandAreaObjectInfo?.relatedObjectsToolbar) {\n            relatedObjectsToolbar = expandAreaObjectInfo.relatedObjectsToolbar;\n        }\n\n        // fade out relatedObjectsToolbar\n        if (relatedObjectsToolbar) {\n            relatedObjectsToolbar.style.transition = `opacity ${expandAnimationDuration / 2}ms`;\n            relatedObjectsToolbar.style.opacity = \"0\";\n        }\n\n        // calculate collapsed height (height of first attribute + spacer)\n        const domRef = this.getDomRef() as HTMLElement;\n        let attributeHeight = 0;\n        if (domRef) {\n            const mainAttr = domRef.querySelector(\n                \".sapUshellSearchResultListItem-MainAttribute\"\n            ) as HTMLElement;\n            const spacerAttr = domRef.querySelector(\n                \".sapUshellSearchResultListItem-ExpandSpacerAttribute\"\n            ) as HTMLElement;\n            if (mainAttr) {\n                attributeHeight += mainAttr.offsetHeight;\n            }\n            if (spacerAttr) {\n                attributeHeight += spacerAttr.offsetHeight;\n            }\n        }\n\n        // after animation, update state and clean up\n        const onTransitionEnd = (event: TransitionEvent) => {\n            if (event.propertyName === \"height\") {\n                if (attributesExpandContainer) {\n                    attributesExpandContainer.removeEventListener(\"transitionend\", onTransitionEnd);\n                }\n                clearTimeout(fadeOutTimeout);\n                // ensure fade out is done\n                if (!fadeOutStarted) {\n                    elementsToFadeInOrOut.forEach((el) => {\n                        el.style.opacity = \"0\";\n                    });\n                }\n                // clean up styles\n                if (attributesExpandContainer) {\n                    attributesExpandContainer.classList.remove(\n                        \"sapUshellSearchResultListItem-AttributesExpanded\"\n                    );\n                    attributesExpandContainer.style.height = \"\";\n                    attributesExpandContainer.style.transition = \"\";\n                }\n                elementsToFadeInOrOut.forEach((el) => {\n                    el.style.opacity = \"\";\n                    el.style.transition = \"\";\n                });\n                if (relatedObjectsToolbar) {\n                    relatedObjectsToolbar.style.opacity = \"\";\n                    relatedObjectsToolbar.style.transition = \"\";\n                }\n                this.setProperty(\"expanded\", false, true);\n                // update expand button icon and tooltip\n                const expandButton = this.getAggregation(\"_expandButton\") as Button;\n                if (expandButton) {\n                    expandButton.setTooltip(i18n.getText(\"showDetailBtn_tooltip\"));\n                    expandButton.setIcon(IconPool.getIconURI(\"slim-arrow-down\"));\n                }\n                this._renderAriaDescriptionElementForAttributes(\n                    undefined,\n                    /* withPrefix = */ /* doRender= */ false\n                );\n                this._renderAriaDescriptionElementForCollapsedOrExpandedState(\n                    undefined,\n                    /* withPrefix = */ /* doRender= */ false\n                );\n            }\n        };\n\n        // animate height of attributesExpandContainer\n        if (attributesExpandContainer) {\n            attributesExpandContainer.addEventListener(\"transitionend\", onTransitionEnd);\n            attributesExpandContainer.style.transition = `height ${expandAnimationDuration}ms`;\n            attributesExpandContainer.style.height = `${attributeHeight}px`;\n        }\n\n        // fade out elements in expand area (after most of the collapse animation)\n        const fadeOutTimeout = setTimeout(() => {\n            fadeOutStarted = true;\n            elementsToFadeInOrOut.forEach((el) => {\n                el.style.transition = `opacity ${fadeInOrOutAnimationDuration}ms`;\n                el.style.opacity = \"0\";\n            });\n        }, expandAnimationDuration - fadeInOrOutAnimationDuration);\n    }\n\n    public toggleDetails(): void {\n        let eventType;\n        const oModel = this.getModel() as SearchModel;\n\n        if (this.isShowingDetails()) {\n            eventType = UserEventType.ITEM_HIDE_DETAILS;\n            this.hideDetails();\n        } else {\n            eventType = UserEventType.ITEM_SHOW_DETAILS;\n            this.showDetails();\n        }\n\n        oModel.eventLogger.logEvent({\n            type: eventType,\n            itemPosition: this.getProperty(\"positionInList\"),\n            executionId: this.getProperty(\"resultSetId\"),\n            dataSourceKey: oModel.getDataSource().id,\n        });\n    }\n\n    // after rendering\n    // ===================================================================\n    onAfterRendering(): void {\n        this._showOrHideExpandButton();\n        // this._setListItemStatusBasedOnWindowSize();\n\n        this._renderAriaDescriptionElementForTitle(\n            undefined,\n            /* withPrefix = */ false,\n            /* doRender= */ false\n        );\n        this._renderAriaDescriptionElementForAttributes(undefined, /* withPrefix = */ /* doRender= */ false);\n        this._renderAriaDescriptionElementForCollapsedOrExpandedState(\n            undefined,\n            /* withPrefix = */ /* doRender= */ false\n        );\n\n        this._syncSelectionCssClass();\n        // use boldtagunescape like in highlighting for suggestions // TODO\n    }\n\n    public resizeEventHappened(): void {\n        this._showOrHideExpandButton();\n        // this._setListItemStatusBasedOnWindowSize();\n\n        const titleLink = this.getAggregation(\"_titleLink\") as Control;\n        const titleText = this.getAggregation(\"_titleText\") as Control;\n        const titleControl = titleLink.getDomRef() ? titleLink : titleText;\n        const oModel = this.getModel() as SearchModel;\n        if (this.supportsDragAndDrop(titleLink, oModel)) {\n            if (oModel.config.optimizeForValueHelp) {\n                const titleControlDom = titleControl.getDomRef() as HTMLElement;\n                titleControlDom.draggable = false;\n            }\n        }\n    }\n\n    // ===================================================================\n    //  some Helper Functions\n    // ===================================================================\n\n    private isHierarchyItem(): boolean {\n        return this.getProperty(\"titleIconUrl\") === \"sap-icon://folder-blank\"; // ToDo: Remove workaround\n    }\n\n    private supportsDragAndDrop(oControl: Control, oModel: SearchModel): boolean {\n        return (\n            typeof oModel.getSearchCompositeControlInstanceByChildControl(oControl) !== \"undefined\" &&\n            oModel.getSearchCompositeControlInstanceByChildControl(oControl).getDragDropConfig().length > 0\n        );\n    }\n\n    private _getPhoneSize(): number {\n        return 767;\n    }\n\n    private _resetPrecalculatedValues(): void {\n        this._visibleAttributes = undefined;\n        this._detailsArea = undefined;\n        this._showExpandButton = false;\n    }\n\n    /* private _setListItemStatusBasedOnWindowSize() {\n        const windowWidth = window.innerWidth;\n        const parentListItem = this.getProperty(\"parentListItem\");\n        if (this.getProperty(\"titleNavigation\") && windowWidth <= this._getPhoneSize()) {\n            parentListItem.setType(ListType.Active);\n        } else {\n            parentListItem.setType(ListType.Inactive);\n        }\n    } */\n\n    private _showOrHideExpandButton() {\n        const domRef = this.getDomRef() as HTMLElement;\n        if (!domRef) {\n            return;\n        }\n\n        const expandButtonContainer = domRef.querySelector(\n            \".sapUshellSearchResultListItem-ExpandButtonContainer\"\n        ) as HTMLElement | null;\n        if (!expandButtonContainer) {\n            return;\n        }\n        const isVisible = window.getComputedStyle(expandButtonContainer).visibility !== \"hidden\";\n\n        let shouldBeVisible = false;\n\n        const isDocumentItem = this.getProperty(\"imageFormat\")?.toLowerCase() === \"documentthumbnail\";\n\n        if (!isDocumentItem) {\n            const actionBar = domRef.querySelectorAll(\".sapUshellSearchResultListItem-RelatedObjectsToolbar\");\n            shouldBeVisible = actionBar.length > 0;\n        }\n\n        if (!isDocumentItem && !shouldBeVisible) {\n            const elementsInExpandArea = this._getElementsInExpandArea();\n            if (elementsInExpandArea.length > 0) {\n                shouldBeVisible = true;\n            }\n        }\n\n        if (isVisible && !shouldBeVisible) {\n            expandButtonContainer.style.visibility = \"hidden\";\n            expandButtonContainer.setAttribute(\"aria-hidden\", \"true\");\n            this.setAriaExpandedState();\n        } else if (!isVisible && shouldBeVisible) {\n            expandButtonContainer.style.visibility = \"\";\n            expandButtonContainer.removeAttribute(\"aria-hidden\");\n            this.setAriaExpandedState();\n        }\n    }\n\n    setAriaExpandedState(): boolean {\n        const expandButton = this.getAggregation(\"_expandButton\") as Button;\n        if (!expandButton) {\n            return;\n        }\n        const expandButtonDom = expandButton.getDomRef() as HTMLElement;\n        const thisDom = this.getDomRef() as HTMLElement;\n        let parentListItemDom: HTMLElement | null = null;\n        const parentListItem = this.getProperty(\"parentListItem\");\n        if (parentListItem) {\n            parentListItemDom = parentListItem.getDomRef() as HTMLElement;\n        } else if (thisDom) {\n            parentListItemDom = thisDom.closest(\"li\");\n        }\n        const expandButtonContainer = thisDom?.querySelector(\n            \".sapUshellSearchResultListItem-ExpandButtonContainer\"\n        ) as HTMLElement;\n\n        if (expandButtonContainer && window.getComputedStyle(expandButtonContainer).visibility === \"hidden\") {\n            if (expandButtonDom) {\n                expandButtonDom.removeAttribute(\"aria-expanded\");\n            }\n            if (parentListItemDom) {\n                parentListItemDom.removeAttribute(\"aria-expanded\");\n            }\n        } else {\n            const expanded = this.getProperty(\"expanded\");\n            if (expandButtonDom) {\n                expandButtonDom.setAttribute(\"aria-expanded\", expanded ? \"true\" : \"false\");\n            }\n            if (parentListItemDom) {\n                parentListItemDom.setAttribute(\"aria-expanded\", expanded ? \"true\" : \"false\");\n            }\n        }\n    }\n\n    private _registerItemPressHandler(): void {\n        const parentListItem = this.getProperty(\"parentListItem\");\n        if (parentListItem) {\n            parentListItem.attachPress((oEvent: Event) => {\n                this._performTitleNavigation({ event: oEvent });\n            });\n            this._registerItemPressHandler = () => {\n                //\n            };\n        }\n    }\n\n    private _performTitleNavigation(params?: { event: Event }): void {\n        const titleNavigation: NavigationTarget = this.getProperty(\"titleNavigation\");\n        if (titleNavigation instanceof NavigationTarget) {\n            titleNavigation.performNavigation({\n                event: params?.event,\n            });\n        }\n    }\n\n    private adjustCssDragAndDrop(value: Control, oModel: SearchModel) {\n        // Drag&Drop - cursor 'grab'\n        setTimeout(() => {\n            if (\n                typeof oModel.getSearchCompositeControlInstanceByChildControl(value) !== \"undefined\" &&\n                oModel.getSearchCompositeControlInstanceByChildControl(value).getDragDropConfig().length > 0\n            ) {\n                value.addStyleClass(\"sapUshellSearchResultListItem-SupportsDragAndDrop\");\n            }\n        });\n    }\n}\n"],"mappings":"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","ignoreList":[]}