/*!
 * SAPUI5
 * Copyright (c) 2025 SAP SE or an SAP affiliate company. All rights reserved.
 * 
 */
sap.ui.define(["../../SearchUtil","sap/esh/search/ui/SearchHelper"],function(e,t){"use strict";const s=e["StateWatcher"];class a{stateWatcher;shellHeader;model;searchFieldGroup;constructor(e){this.shellHeader=e.shellHeader;this.model=e.model;this.searchFieldGroup=e.searchFieldGroup;const t=this?.model?.config?.searchFieldCheckInterval??100;this.stateWatcher=new s({getState:()=>({isNoResultsScreen:this.isNoResultsScreen(),isSearchInputFocused:this.isSearchInputFocused()}),compareStates:(e,t)=>e.isNoResultsScreen===t.isNoResultsScreen&&e.isSearchInputFocused===t.isSearchInputFocused,changed:this.handleStateChanged.bind(this),interval:t});if(t>0){this.stateWatcher.start()}}handleStateChanged(e){const t=e.isSearchInputFocused&&!e.isNoResultsScreen;if(t&&!this.isOverlayShown()){this.shellHeader.setSearchState("EXP_S",35,false);this.shellHeader.setSearchState("EXP",35,true)}if(!t&&this.isOverlayShown){this.shellHeader.setSearchState("EXP_S",35,false);this.shellHeader.setSearchState("EXP",35,false)}}expandSearch(){this.shellHeader.setSearchState("EXP",35,false)}collapseSearch(){this.shellHeader.setSearchState("COL",35,false)}isNoResultsScreen(){return t.isSearchAppActive()&&this.model.getProperty("/boCount")===0&&this.model.getProperty("/appCount")===0}isSearchInputFocused(){if(!document.querySelector("#searchFieldInShell:not([collapsed])")){return false}return document.activeElement===this.searchFieldGroup.getDomRef()}isOverlayShown(){return!!document.querySelector(".sapUshellShellShowSearchOverlay")}}return a});
//# sourceMappingURL=WebCompSearchFieldStateManager.js.map