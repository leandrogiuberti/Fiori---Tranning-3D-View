{"version":3,"file":"WebCompSearchFieldGroupBindings-dbg.js","names":["sap","ui","define","__SearchScope","__SearchItem","__SearchItemGroup","__SearchItemShowMore","BindingMode","__SuggestionType","____error_errors","SearchHelper","__UIEvents","EventBus","_interopRequireDefault","obj","__esModule","default","SearchScope","SearchItem","SearchItemGroup","SearchItemShowMore","SuggestionType","isSearchSuggestion","ProgramError","UIEvents","createWebCompSearchFieldGroupBindings","webCompSearchFieldGroup","webComps","webCompSearchFieldGroupTmp","addMethods","bindProperty","parts","path","formatter","initializingObjSearch","mode","OneWay","bindAggregation","template","text","selected","selectedKey","key","attachEvent","event","dataSource","mParameters","scope","getBindingContext","getObject","model","getModel","setDataSource","setTimeout","focus","TwoWay","factory","sId","oContext","createSuggestionItem","length","triggerSuggestions","suggestionControl","getParameter","suggestion","e","preventDefault","handleSuggestionItemSelected","getValue","triggerSearch","searchFieldGroup","Object","assign","uiSuggestionType","Header","headerText","label","DataSource","scopeName","App","title","icon","SearchTermData","SearchTermHistory","SearchTermAI","isShowMoreApps","createShowMoreAppsSuggestion","searchTerm","label1","description","label2","Search","showMoreItem","itemsToShowCount","totalCount","onAfterRendering","eshRegistered","getDomRef","addEventListener","abortSuggestions","setSearchBoxTerm","getLastSearchTerm","titleNavigation","performNavigation","keyCode","handleAppSuggestionItemSelected","targetURL","url","indexOf","getHashFromUrl","decodeURIComponent","query","filter","notifySubscribers","ESHSearchFinished","getInstance","publish","window","hasher","prependHash","slice","setHash","location","href","logRecentActivity","open","getSearchBoxTerm","config","bRecentSearches","doSuggestion","subscribeOnlyOnce","autoStartApp","trim","isUshell","setValue","navigateToSearchApp","isSearchAppActive","fireSearchQuery","resetSearchResultItemMemory","sHash","createSearchNavigationTargetCurrentState","updateUrl","targetUrl","hash","require","Config","AppType","bLogRecentActivity","last","oRecentEntry","appType","URL","appId","ushell","Container","getRenderer","__exports"],"sources":["WebCompSearchFieldGroupBindings.ts"],"sourcesContent":["/*!\n * SAPUI5\n * Copyright (c) 2025 SAP SE or an SAP affiliate company. All rights reserved.\n * \n */\nimport SearchScope from \"@ui5/webcomponents-fiori/dist/SearchScope\";\nimport SearchItem from \"@ui5/webcomponents-fiori/dist/SearchItem\";\nimport SearchItemGroup from \"@ui5/webcomponents-fiori/dist/SearchItemGroup\";\nimport SearchItemShowMore from \"@ui5/webcomponents-fiori/dist/SearchItemShowMore\";\nimport Search from \"@ui5/webcomponents-fiori/dist/Search\";\nimport Control from \"sap/ui/core/Control\";\nimport BindingMode from \"sap/ui/model/BindingMode\";\nimport SuggestionType, { isSearchSuggestion, Suggestion } from \"../../suggestions/SuggestionType\";\nimport { ProgramError } from \"../../error/errors\";\nimport type SearchModel from \"../../SearchModel\";\nimport * as SearchHelper from \"../../SearchHelper\";\nimport UIEvents from \"../../UIEvents\";\nimport EventBus from \"sap/ui/core/EventBus\";\nimport { SearchWebComps } from \"./UShellWebCompLoader\";\n\nexport function createWebCompSearchFieldGroupBindings(\n    webCompSearchFieldGroup: Search,\n    webComps?: SearchWebComps\n) {\n    // if no webcomponents provided -> use default webcomponents delivered with elisa\n    if (!webComps) {\n        webComps = {\n            SearchScope: SearchScope,\n            SearchItem: SearchItem,\n            SearchItemGroup: SearchItemGroup,\n            SearchItemShowMore: SearchItemShowMore,\n        };\n    }\n\n    // create alias because types do not work\n    const webCompSearchFieldGroupTmp = webCompSearchFieldGroup as Control;\n\n    // add methods\n    addMethods(webCompSearchFieldGroup);\n\n    // bind enabled\n    webCompSearchFieldGroupTmp.bindProperty(\"blocked\", {\n        parts: [\n            {\n                path: \"/initializingObjSearch\",\n            },\n        ],\n        formatter: (initializingObjSearch) => initializingObjSearch,\n    });\n\n    // bind placeholder\n    webCompSearchFieldGroupTmp.bindProperty(\"placeholder\", {\n        path: \"/searchTermPlaceholder\",\n        mode: BindingMode.OneWay,\n    });\n\n    // bind datasources dropdown\n    webCompSearchFieldGroupTmp.bindAggregation(\"scopes\", {\n        path: \"/dataSources\",\n        template: new (webComps.SearchScope as any)({\n            text: \"{labelPlural}\",\n            selected: {\n                parts: [\"/uiFilter/dataSource/id\", \"id\"],\n                formatter: (selectedKey: string, key: string) => {\n                    return selectedKey === key;\n                },\n            },\n        }) as Control,\n    });\n\n    // bind datasource change\n    webCompSearchFieldGroupTmp.attachEvent(\"scopeChange\", (event) => {\n        const dataSource = event.mParameters.scope.getBindingContext().getObject();\n        const model = webCompSearchFieldGroupTmp.getModel() as SearchModel;\n        model.setDataSource(dataSource, false);\n        setTimeout(() => {\n            webCompSearchFieldGroupTmp.focus();\n        }, 200);\n    });\n\n    // bind input box value (two-way)\n    webCompSearchFieldGroupTmp.bindProperty(\"value\", {\n        path: \"/uiFilter/searchTerm\",\n        mode: BindingMode.TwoWay,\n    });\n\n    // bind suggestion items\n    webCompSearchFieldGroupTmp.bindAggregation(\"items\", {\n        path: \"/suggestions\",\n        factory: (sId, oContext) => {\n            return (webCompSearchFieldGroup as any).createSuggestionItem(sId, oContext, webComps);\n        },\n    });\n\n    // bind suggestion popup open\n    webCompSearchFieldGroupTmp.bindProperty(\"open\", {\n        parts: [\"/suggestions/length\"],\n        formatter: (length) => length > 0,\n    });\n\n    // bind busy indicator\n    webCompSearchFieldGroupTmp.bindProperty(\"loading\", {\n        path: \"/isBusySuggestions\",\n    });\n\n    // register to suggestion events\n    webCompSearchFieldGroupTmp.attachEvent(\"input\", () => {\n        // console.log(\"xx fetch sugg\", (webCompSearchFieldGroupTmp as any).getValue(), x, y);\n        (webCompSearchFieldGroup as any).triggerSuggestions();\n    });\n\n    // register to search events\n    webCompSearchFieldGroupTmp.attachEvent(\"search\", (event) => {\n        const suggestionControl = event.getParameter(\"item\");\n        if (suggestionControl /*&& suggestionControl.getMetadata*/) {\n            // console.log(\"xx sug selected\");\n            let suggestion;\n            try {\n                suggestion = suggestionControl.getBindingContext().getObject();\n                // eslint-disable-next-line @typescript-eslint/no-unused-vars\n            } catch (e) {\n                // console.log(\"xx suggestion object error\", e);\n                return;\n            }\n            // console.log(\"xx\", suggestion);\n            // prevent writing suggestion term to input box after this callback has finished\n            // input box content is handle in suggestionItemSelected dependend on suggestions type\n            event.preventDefault();\n            (webCompSearchFieldGroup as any).handleSuggestionItemSelected(suggestion);\n            return;\n        }\n        if ((webCompSearchFieldGroupTmp as any).getValue().length > 0) {\n            // for length=0 -> search field is collapsed, no need for search\n            // console.log(\"xx search\", (webCompSearchFieldGroupTmp as any).getValue());\n            (webCompSearchFieldGroup as any).triggerSearch();\n        }\n    });\n}\n\nexport function addMethods(searchFieldGroup) {\n    Object.assign(searchFieldGroup, {\n        createSuggestionItem(sId, oContext, webComps: SearchWebComps) {\n            const suggestion = oContext.getObject();\n            switch (suggestion.uiSuggestionType) {\n                case SuggestionType.Header:\n                    return new (webComps.SearchItemGroup as any)({\n                        headerText: suggestion.label,\n                    });\n                case SuggestionType.DataSource:\n                    return new (webComps.SearchItem as any)({\n                        text: suggestion.dataSource.label,\n                        scopeName: \"\",\n                    });\n                case SuggestionType.App:\n                    return new (webComps.SearchItem as any)({\n                        text: suggestion.title,\n                        icon: suggestion.icon,\n                        scopeName: \"\",\n                    });\n                case SuggestionType.SearchTermData:\n                case SuggestionType.SearchTermHistory:\n                case SuggestionType.SearchTermAI:\n                    if (suggestion.isShowMoreApps) {\n                        return this.createShowMoreAppsSuggestion(suggestion, webComps);\n                    }\n                    return new (webComps.SearchItem as any)({\n                        text: suggestion.searchTerm,\n                        scopeName: \"\",\n                    });\n                case SuggestionType.Object:\n                    return new (webComps.SearchItem as any)({\n                        text: suggestion.label1,\n                        description: suggestion.label2,\n                        scopeName: \"\",\n                    });\n                case SuggestionType.Search:\n                    return new (webComps.SearchItem as any)({\n                        text: \"search suggestion:\" + suggestion.label,\n                        scopeName: \"\",\n                    });\n                default:\n                    throw new ProgramError(null, \"Unknown suggestion type: \" + suggestion.uiSuggestionType);\n            }\n        },\n\n        createShowMoreAppsSuggestion(suggestion, webComps: SearchWebComps): SearchItemShowMore {\n            const model = this.getModel() as SearchModel;\n            const showMoreItem = new (webComps.SearchItemShowMore as any)({\n                itemsToShowCount: suggestion.totalCount,\n            });\n            // workaround because there is no suggestions event for SearchItemShowMore\n            Object.assign(showMoreItem, {\n                onAfterRendering: () => {\n                    if (!showMoreItem.eshRegistered) {\n                        showMoreItem.getDomRef().addEventListener(\"click\", () => {\n                            model.abortSuggestions();\n                            model.setSearchBoxTerm(model.getLastSearchTerm(), false); // restore search term TODO comment\n                            suggestion.titleNavigation.performNavigation();\n                        });\n                        showMoreItem.getDomRef().addEventListener(\"keydown\", (event) => {\n                            if (event.keyCode !== 13) {\n                                return;\n                            }\n                            model.abortSuggestions();\n                            model.setSearchBoxTerm(model.getLastSearchTerm(), false); // restore search term TODO comment\n                            suggestion.titleNavigation.performNavigation();\n                        });\n                        showMoreItem.eshRegistered = true;\n                    }\n                },\n            });\n            return showMoreItem;\n        },\n\n        handleSuggestionItemSelected(suggestion) {\n            const model = this.getModel() as SearchModel;\n            model.abortSuggestions();\n            switch (suggestion.uiSuggestionType) {\n                case SuggestionType.App:\n                    this.handleAppSuggestionItemSelected(suggestion);\n                    break;\n                case SuggestionType.Search:\n                case SuggestionType.SearchTermData:\n                case SuggestionType.SearchTermHistory:\n                case SuggestionType.SearchTermAI:\n                case SuggestionType.Object:\n                    model.setSearchBoxTerm(model.getLastSearchTerm(), false); // restore search term TODO comment\n                    if (isSearchSuggestion(suggestion)) {\n                        suggestion.titleNavigation.performNavigation();\n                    }\n                    break;\n                case SuggestionType.DataSource:\n                    model.setDataSource(suggestion.dataSource, false);\n                    model.setSearchBoxTerm(\"\", false);\n                    setTimeout(() => {\n                        this.focus();\n                    }, 200);\n                    break;\n                default:\n                    break; // log error?\n            }\n        },\n\n        handleAppSuggestionItemSelected(suggestion: Suggestion) {\n            const model = this.getModel() as SearchModel;\n\n            let targetURL = suggestion.url;\n\n            if (targetURL[0] === \"#\") {\n                if (\n                    targetURL.indexOf(\"#Action-search\") === 0 &&\n                    (targetURL === SearchHelper.getHashFromUrl() ||\n                        targetURL === decodeURIComponent(SearchHelper.getHashFromUrl()))\n                ) {\n                    // ugly workaround\n                    // in case the app suggestion points to the search app with query identical to current query\n                    // --> do noting except: restore query term + focus again the first item in the result list\n                    model.setSearchBoxTerm(model.query.filter.searchTerm, false);\n                    model.setDataSource(model.query.filter.dataSource, false);\n                    model.notifySubscribers(UIEvents.ESHSearchFinished);\n                    EventBus.getInstance().publish(UIEvents.ESHSearchFinished);\n                    return;\n                }\n                if (window[\"hasher\"]) {\n                    if (targetURL[1] === window.hasher.prependHash) {\n                        // hasher preprends a \"prependHash\" character between \"#\" and the rest.\n                        // so we remove the same character to have the desired string in the end after hasher changed it\n                        // this avoids a wrong url if the application does not use window.hasher.getHash which removes prependHash again\n                        targetURL = targetURL.slice(0, 1) + targetURL.slice(2);\n                    }\n                    window[\"hasher\"].setHash(targetURL);\n                } else {\n                    window.location.href = targetURL;\n                }\n                model.setSearchBoxTerm(\"\", false);\n            } else {\n                // special logging: only for urls started via suggestions\n                // (apps/urls started via click ontile have logger in tile click handler)\n                this.logRecentActivity(suggestion);\n                window.open(targetURL, \"_blank\", \"noopener,noreferrer\");\n                model.setSearchBoxTerm(\"\", false);\n            }\n        },\n\n        triggerSuggestions() {\n            const model = this.getModel() as SearchModel;\n            if (model.getSearchBoxTerm().length > 0 || model.config.bRecentSearches) {\n                model.doSuggestion();\n            } else {\n                model.abortSuggestions();\n            }\n        },\n\n        triggerSearch() {\n            // auto-start app\n            // it is necessay to do this in search input (and not in search model) because otherwise navigating back from the app to the\n            // search UI would result in a repeated navigation to the app\n            const model = this.getModel() as SearchModel;\n            SearchHelper.subscribeOnlyOnce(\n                \"triggerSearch\",\n                UIEvents.ESHSearchFinished,\n                function () {\n                    (this.getModel() as SearchModel).autoStartApp();\n                },\n                this\n            );\n            // special behaviour for S/4 -> replace empty search term with \"*\"\n            if (this.getValue().trim() === \"\" && model.config.isUshell) {\n                this.setValue(\"*\");\n            }\n            this.navigateToSearchApp();\n        },\n\n        navigateToSearchApp() {\n            const model = this.getModel() as SearchModel;\n            model.abortSuggestions();\n            if (SearchHelper.isSearchAppActive() || !model.config.isUshell) {\n                // app running -> just fire query\n                model.fireSearchQuery();\n            } else {\n                // app not running -> start via hash\n                // change hash:\n                // - do not use Searchhelper.hasher here\n                // - this is starting the search app from outside\n                model.resetSearchResultItemMemory();\n                const sHash = model.createSearchNavigationTargetCurrentState({\n                    updateUrl: true,\n                }).targetUrl;\n                window.location.hash = sHash;\n            }\n        },\n\n        logRecentActivity(suggestion: Suggestion): void {\n            // load ushell deps lazy only in case of FLP\n            sap.ui.require([\"sap/ushell/Config\", \"sap/ushell/services/AppType\"], function (Config, AppType) {\n                // ToDo 'require'\n                const bLogRecentActivity =\n                    Config.last(\"/core/shell/enableRecentActivity\") &&\n                    Config.last(\"/core/shell/enableRecentActivityLogging\");\n                if (bLogRecentActivity) {\n                    const oRecentEntry = {\n                        title: suggestion.title,\n                        appType: AppType.URL,\n                        url: suggestion.url,\n                        appId: suggestion.url,\n                    };\n                    ((window.sap.ushell as any).Container.getRenderer(\"fiori2\") as any).logRecentActivity(\n                        oRecentEntry\n                    );\n                }\n            });\n        },\n    });\n}\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AAJAA,GAAA,CAAAC,EAAA,CAAAC,MAAA,iWAAAC,aAAA,EAAAC,YAAA,EAAAC,iBAAA,EAAAC,oBAAA,EAAAC,WAAA,EAAAC,gBAAA,EAAAC,gBAAA,EAAAC,YAAA,EAAAC,UAAA,EAAAC,QAAA;EAAA;;EAAA,SAAAC,uBAAAC,GAAA;IAAA,OAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,WAAAD,GAAA,CAAAE,OAAA,mBAAAF,GAAA,CAAAE,OAAA,GAAAF,GAAA;EAAA;EAAA,MAKOG,WAAW,GAAAJ,sBAAA,CAAAV,aAAA;EAAA,MACXe,UAAU,GAAAL,sBAAA,CAAAT,YAAA;EAAA,MACVe,eAAe,GAAAN,sBAAA,CAAAR,iBAAA;EAAA,MACfe,kBAAkB,GAAAP,sBAAA,CAAAP,oBAAA;EAAA,MAIlBe,cAAc,GAAAR,sBAAA,CAAAL,gBAAA;EAAA,MAAIc,kBAAkB,GAAAd,gBAAA;EAAA,MAClCe,YAAY,GAAAd,gBAAA;EAAA,MAGde,QAAQ,GAAAX,sBAAA,CAAAF,UAAA;EAIR,SAASc,qCAAqCA,CACjDC,uBAA+B,EAC/BC,QAAyB,EAC3B;IACE;IACA,IAAI,CAACA,QAAQ,EAAE;MACXA,QAAQ,GAAG;QACPV,WAAW,EAAEA,WAAW;QACxBC,UAAU,EAAEA,UAAU;QACtBC,eAAe,EAAEA,eAAe;QAChCC,kBAAkB,EAAEA;MACxB,CAAC;IACL;;IAEA;IACA,MAAMQ,0BAA0B,GAAGF,uBAAkC;;IAErE;IACAG,UAAU,CAACH,uBAAuB,CAAC;;IAEnC;IACAE,0BAA0B,CAACE,YAAY,CAAC,SAAS,EAAE;MAC/CC,KAAK,EAAE,CACH;QACIC,IAAI,EAAE;MACV,CAAC,CACJ;MACDC,SAAS,EAAGC,qBAAqB,IAAKA;IAC1C,CAAC,CAAC;;IAEF;IACAN,0BAA0B,CAACE,YAAY,CAAC,aAAa,EAAE;MACnDE,IAAI,EAAE,wBAAwB;MAC9BG,IAAI,EAAE5B,WAAW,CAAC6B;IACtB,CAAC,CAAC;;IAEF;IACAR,0BAA0B,CAACS,eAAe,CAAC,QAAQ,EAAE;MACjDL,IAAI,EAAE,cAAc;MACpBM,QAAQ,EAAE,IAAKX,QAAQ,CAACV,WAAW,CAAS;QACxCsB,IAAI,EAAE,eAAe;QACrBC,QAAQ,EAAE;UACNT,KAAK,EAAE,CAAC,yBAAyB,EAAE,IAAI,CAAC;UACxCE,SAAS,EAAEA,CAACQ,WAAmB,EAAEC,GAAW,KAAK;YAC7C,OAAOD,WAAW,KAAKC,GAAG;UAC9B;QACJ;MACJ,CAAC;IACL,CAAC,CAAC;;IAEF;IACAd,0BAA0B,CAACe,WAAW,CAAC,aAAa,EAAGC,KAAK,IAAK;MAC7D,MAAMC,UAAU,GAAGD,KAAK,CAACE,WAAW,CAACC,KAAK,CAACC,iBAAiB,CAAC,CAAC,CAACC,SAAS,CAAC,CAAC;MAC1E,MAAMC,KAAK,GAAGtB,0BAA0B,CAACuB,QAAQ,CAAC,CAAgB;MAClED,KAAK,CAACE,aAAa,CAACP,UAAU,EAAE,KAAK,CAAC;MACtCQ,UAAU,CAAC,MAAM;QACbzB,0BAA0B,CAAC0B,KAAK,CAAC,CAAC;MACtC,CAAC,EAAE,GAAG,CAAC;IACX,CAAC,CAAC;;IAEF;IACA1B,0BAA0B,CAACE,YAAY,CAAC,OAAO,EAAE;MAC7CE,IAAI,EAAE,sBAAsB;MAC5BG,IAAI,EAAE5B,WAAW,CAACgD;IACtB,CAAC,CAAC;;IAEF;IACA3B,0BAA0B,CAACS,eAAe,CAAC,OAAO,EAAE;MAChDL,IAAI,EAAE,cAAc;MACpBwB,OAAO,EAAEA,CAACC,GAAG,EAAEC,QAAQ,KAAK;QACxB,OAAQhC,uBAAuB,CAASiC,oBAAoB,CAACF,GAAG,EAAEC,QAAQ,EAAE/B,QAAQ,CAAC;MACzF;IACJ,CAAC,CAAC;;IAEF;IACAC,0BAA0B,CAACE,YAAY,CAAC,MAAM,EAAE;MAC5CC,KAAK,EAAE,CAAC,qBAAqB,CAAC;MAC9BE,SAAS,EAAG2B,MAAM,IAAKA,MAAM,GAAG;IACpC,CAAC,CAAC;;IAEF;IACAhC,0BAA0B,CAACE,YAAY,CAAC,SAAS,EAAE;MAC/CE,IAAI,EAAE;IACV,CAAC,CAAC;;IAEF;IACAJ,0BAA0B,CAACe,WAAW,CAAC,OAAO,EAAE,MAAM;MAClD;MACCjB,uBAAuB,CAASmC,kBAAkB,CAAC,CAAC;IACzD,CAAC,CAAC;;IAEF;IACAjC,0BAA0B,CAACe,WAAW,CAAC,QAAQ,EAAGC,KAAK,IAAK;MACxD,MAAMkB,iBAAiB,GAAGlB,KAAK,CAACmB,YAAY,CAAC,MAAM,CAAC;MACpD,IAAID,iBAAiB,CAAC,sCAAsC;QACxD;QACA,IAAIE,UAAU;QACd,IAAI;UACAA,UAAU,GAAGF,iBAAiB,CAACd,iBAAiB,CAAC,CAAC,CAACC,SAAS,CAAC,CAAC;UAC9D;QACJ,CAAC,CAAC,OAAOgB,CAAC,EAAE;UACR;UACA;QACJ;QACA;QACA;QACA;QACArB,KAAK,CAACsB,cAAc,CAAC,CAAC;QACrBxC,uBAAuB,CAASyC,4BAA4B,CAACH,UAAU,CAAC;QACzE;MACJ;MACA,IAAKpC,0BAA0B,CAASwC,QAAQ,CAAC,CAAC,CAACR,MAAM,GAAG,CAAC,EAAE;QAC3D;QACA;QACClC,uBAAuB,CAAS2C,aAAa,CAAC,CAAC;MACpD;IACJ,CAAC,CAAC;EACN;EAEO,SAASxC,UAAUA,CAACyC,gBAAgB,EAAE;IACzCC,MAAM,CAACC,MAAM,CAACF,gBAAgB,EAAE;MAC5BX,oBAAoBA,CAACF,GAAG,EAAEC,QAAQ,EAAE/B,QAAwB,EAAE;QAC1D,MAAMqC,UAAU,GAAGN,QAAQ,CAACT,SAAS,CAAC,CAAC;QACvC,QAAQe,UAAU,CAACS,gBAAgB;UAC/B,KAAKpD,cAAc,CAACqD,MAAM;YACtB,OAAO,IAAK/C,QAAQ,CAACR,eAAe,CAAS;cACzCwD,UAAU,EAAEX,UAAU,CAACY;YAC3B,CAAC,CAAC;UACN,KAAKvD,cAAc,CAACwD,UAAU;YAC1B,OAAO,IAAKlD,QAAQ,CAACT,UAAU,CAAS;cACpCqB,IAAI,EAAEyB,UAAU,CAACnB,UAAU,CAAC+B,KAAK;cACjCE,SAAS,EAAE;YACf,CAAC,CAAC;UACN,KAAKzD,cAAc,CAAC0D,GAAG;YACnB,OAAO,IAAKpD,QAAQ,CAACT,UAAU,CAAS;cACpCqB,IAAI,EAAEyB,UAAU,CAACgB,KAAK;cACtBC,IAAI,EAAEjB,UAAU,CAACiB,IAAI;cACrBH,SAAS,EAAE;YACf,CAAC,CAAC;UACN,KAAKzD,cAAc,CAAC6D,cAAc;UAClC,KAAK7D,cAAc,CAAC8D,iBAAiB;UACrC,KAAK9D,cAAc,CAAC+D,YAAY;YAC5B,IAAIpB,UAAU,CAACqB,cAAc,EAAE;cAC3B,OAAO,IAAI,CAACC,4BAA4B,CAACtB,UAAU,EAAErC,QAAQ,CAAC;YAClE;YACA,OAAO,IAAKA,QAAQ,CAACT,UAAU,CAAS;cACpCqB,IAAI,EAAEyB,UAAU,CAACuB,UAAU;cAC3BT,SAAS,EAAE;YACf,CAAC,CAAC;UACN,KAAKzD,cAAc,CAACkD,MAAM;YACtB,OAAO,IAAK5C,QAAQ,CAACT,UAAU,CAAS;cACpCqB,IAAI,EAAEyB,UAAU,CAACwB,MAAM;cACvBC,WAAW,EAAEzB,UAAU,CAAC0B,MAAM;cAC9BZ,SAAS,EAAE;YACf,CAAC,CAAC;UACN,KAAKzD,cAAc,CAACsE,MAAM;YACtB,OAAO,IAAKhE,QAAQ,CAACT,UAAU,CAAS;cACpCqB,IAAI,EAAE,oBAAoB,GAAGyB,UAAU,CAACY,KAAK;cAC7CE,SAAS,EAAE;YACf,CAAC,CAAC;UACN;YACI,MAAM,IAAIvD,YAAY,CAAC,IAAI,EAAE,2BAA2B,GAAGyC,UAAU,CAACS,gBAAgB,CAAC;QAC/F;MACJ,CAAC;MAEDa,4BAA4BA,CAACtB,UAAU,EAAErC,QAAwB,EAAsB;QACnF,MAAMuB,KAAK,GAAG,IAAI,CAACC,QAAQ,CAAC,CAAgB;QAC5C,MAAMyC,YAAY,GAAG,IAAKjE,QAAQ,CAACP,kBAAkB,CAAS;UAC1DyE,gBAAgB,EAAE7B,UAAU,CAAC8B;QACjC,CAAC,CAAC;QACF;QACAvB,MAAM,CAACC,MAAM,CAACoB,YAAY,EAAE;UACxBG,gBAAgB,EAAEA,CAAA,KAAM;YACpB,IAAI,CAACH,YAAY,CAACI,aAAa,EAAE;cAC7BJ,YAAY,CAACK,SAAS,CAAC,CAAC,CAACC,gBAAgB,CAAC,OAAO,EAAE,MAAM;gBACrDhD,KAAK,CAACiD,gBAAgB,CAAC,CAAC;gBACxBjD,KAAK,CAACkD,gBAAgB,CAAClD,KAAK,CAACmD,iBAAiB,CAAC,CAAC,EAAE,KAAK,CAAC,CAAC,CAAC;gBAC1DrC,UAAU,CAACsC,eAAe,CAACC,iBAAiB,CAAC,CAAC;cAClD,CAAC,CAAC;cACFX,YAAY,CAACK,SAAS,CAAC,CAAC,CAACC,gBAAgB,CAAC,SAAS,EAAGtD,KAAK,IAAK;gBAC5D,IAAIA,KAAK,CAAC4D,OAAO,KAAK,EAAE,EAAE;kBACtB;gBACJ;gBACAtD,KAAK,CAACiD,gBAAgB,CAAC,CAAC;gBACxBjD,KAAK,CAACkD,gBAAgB,CAAClD,KAAK,CAACmD,iBAAiB,CAAC,CAAC,EAAE,KAAK,CAAC,CAAC,CAAC;gBAC1DrC,UAAU,CAACsC,eAAe,CAACC,iBAAiB,CAAC,CAAC;cAClD,CAAC,CAAC;cACFX,YAAY,CAACI,aAAa,GAAG,IAAI;YACrC;UACJ;QACJ,CAAC,CAAC;QACF,OAAOJ,YAAY;MACvB,CAAC;MAEDzB,4BAA4BA,CAACH,UAAU,EAAE;QACrC,MAAMd,KAAK,GAAG,IAAI,CAACC,QAAQ,CAAC,CAAgB;QAC5CD,KAAK,CAACiD,gBAAgB,CAAC,CAAC;QACxB,QAAQnC,UAAU,CAACS,gBAAgB;UAC/B,KAAKpD,cAAc,CAAC0D,GAAG;YACnB,IAAI,CAAC0B,+BAA+B,CAACzC,UAAU,CAAC;YAChD;UACJ,KAAK3C,cAAc,CAACsE,MAAM;UAC1B,KAAKtE,cAAc,CAAC6D,cAAc;UAClC,KAAK7D,cAAc,CAAC8D,iBAAiB;UACrC,KAAK9D,cAAc,CAAC+D,YAAY;UAChC,KAAK/D,cAAc,CAACkD,MAAM;YACtBrB,KAAK,CAACkD,gBAAgB,CAAClD,KAAK,CAACmD,iBAAiB,CAAC,CAAC,EAAE,KAAK,CAAC,CAAC,CAAC;YAC1D,IAAI/E,kBAAkB,CAAC0C,UAAU,CAAC,EAAE;cAChCA,UAAU,CAACsC,eAAe,CAACC,iBAAiB,CAAC,CAAC;YAClD;YACA;UACJ,KAAKlF,cAAc,CAACwD,UAAU;YAC1B3B,KAAK,CAACE,aAAa,CAACY,UAAU,CAACnB,UAAU,EAAE,KAAK,CAAC;YACjDK,KAAK,CAACkD,gBAAgB,CAAC,EAAE,EAAE,KAAK,CAAC;YACjC/C,UAAU,CAAC,MAAM;cACb,IAAI,CAACC,KAAK,CAAC,CAAC;YAChB,CAAC,EAAE,GAAG,CAAC;YACP;UACJ;YACI;UAAO;QACf;MACJ,CAAC;MAEDmD,+BAA+BA,CAACzC,UAAsB,EAAE;QACpD,MAAMd,KAAK,GAAG,IAAI,CAACC,QAAQ,CAAC,CAAgB;QAE5C,IAAIuD,SAAS,GAAG1C,UAAU,CAAC2C,GAAG;QAE9B,IAAID,SAAS,CAAC,CAAC,CAAC,KAAK,GAAG,EAAE;UACtB,IACIA,SAAS,CAACE,OAAO,CAAC,gBAAgB,CAAC,KAAK,CAAC,KACxCF,SAAS,KAAKhG,YAAY,CAACmG,cAAc,CAAC,CAAC,IACxCH,SAAS,KAAKI,kBAAkB,CAACpG,YAAY,CAACmG,cAAc,CAAC,CAAC,CAAC,CAAC,EACtE;YACE;YACA;YACA;YACA3D,KAAK,CAACkD,gBAAgB,CAAClD,KAAK,CAAC6D,KAAK,CAACC,MAAM,CAACzB,UAAU,EAAE,KAAK,CAAC;YAC5DrC,KAAK,CAACE,aAAa,CAACF,KAAK,CAAC6D,KAAK,CAACC,MAAM,CAACnE,UAAU,EAAE,KAAK,CAAC;YACzDK,KAAK,CAAC+D,iBAAiB,CAACzF,QAAQ,CAAC0F,iBAAiB,CAAC;YACnDtG,QAAQ,CAACuG,WAAW,CAAC,CAAC,CAACC,OAAO,CAAC5F,QAAQ,CAAC0F,iBAAiB,CAAC;YAC1D;UACJ;UACA,IAAIG,MAAM,CAAC,QAAQ,CAAC,EAAE;YAClB,IAAIX,SAAS,CAAC,CAAC,CAAC,KAAKW,MAAM,CAACC,MAAM,CAACC,WAAW,EAAE;cAC5C;cACA;cACA;cACAb,SAAS,GAAGA,SAAS,CAACc,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,GAAGd,SAAS,CAACc,KAAK,CAAC,CAAC,CAAC;YAC1D;YACAH,MAAM,CAAC,QAAQ,CAAC,CAACI,OAAO,CAACf,SAAS,CAAC;UACvC,CAAC,MAAM;YACHW,MAAM,CAACK,QAAQ,CAACC,IAAI,GAAGjB,SAAS;UACpC;UACAxD,KAAK,CAACkD,gBAAgB,CAAC,EAAE,EAAE,KAAK,CAAC;QACrC,CAAC,MAAM;UACH;UACA;UACA,IAAI,CAACwB,iBAAiB,CAAC5D,UAAU,CAAC;UAClCqD,MAAM,CAACQ,IAAI,CAACnB,SAAS,EAAE,QAAQ,EAAE,qBAAqB,CAAC;UACvDxD,KAAK,CAACkD,gBAAgB,CAAC,EAAE,EAAE,KAAK,CAAC;QACrC;MACJ,CAAC;MAEDvC,kBAAkBA,CAAA,EAAG;QACjB,MAAMX,KAAK,GAAG,IAAI,CAACC,QAAQ,CAAC,CAAgB;QAC5C,IAAID,KAAK,CAAC4E,gBAAgB,CAAC,CAAC,CAAClE,MAAM,GAAG,CAAC,IAAIV,KAAK,CAAC6E,MAAM,CAACC,eAAe,EAAE;UACrE9E,KAAK,CAAC+E,YAAY,CAAC,CAAC;QACxB,CAAC,MAAM;UACH/E,KAAK,CAACiD,gBAAgB,CAAC,CAAC;QAC5B;MACJ,CAAC;MAED9B,aAAaA,CAAA,EAAG;QACZ;QACA;QACA;QACA,MAAMnB,KAAK,GAAG,IAAI,CAACC,QAAQ,CAAC,CAAgB;QAC5CzC,YAAY,CAACwH,iBAAiB,CAC1B,eAAe,EACf1G,QAAQ,CAAC0F,iBAAiB,EAC1B,YAAY;UACP,IAAI,CAAC/D,QAAQ,CAAC,CAAC,CAAiBgF,YAAY,CAAC,CAAC;QACnD,CAAC,EACD,IACJ,CAAC;QACD;QACA,IAAI,IAAI,CAAC/D,QAAQ,CAAC,CAAC,CAACgE,IAAI,CAAC,CAAC,KAAK,EAAE,IAAIlF,KAAK,CAAC6E,MAAM,CAACM,QAAQ,EAAE;UACxD,IAAI,CAACC,QAAQ,CAAC,GAAG,CAAC;QACtB;QACA,IAAI,CAACC,mBAAmB,CAAC,CAAC;MAC9B,CAAC;MAEDA,mBAAmBA,CAAA,EAAG;QAClB,MAAMrF,KAAK,GAAG,IAAI,CAACC,QAAQ,CAAC,CAAgB;QAC5CD,KAAK,CAACiD,gBAAgB,CAAC,CAAC;QACxB,IAAIzF,YAAY,CAAC8H,iBAAiB,CAAC,CAAC,IAAI,CAACtF,KAAK,CAAC6E,MAAM,CAACM,QAAQ,EAAE;UAC5D;UACAnF,KAAK,CAACuF,eAAe,CAAC,CAAC;QAC3B,CAAC,MAAM;UACH;UACA;UACA;UACA;UACAvF,KAAK,CAACwF,2BAA2B,CAAC,CAAC;UACnC,MAAMC,KAAK,GAAGzF,KAAK,CAAC0F,wCAAwC,CAAC;YACzDC,SAAS,EAAE;UACf,CAAC,CAAC,CAACC,SAAS;UACZzB,MAAM,CAACK,QAAQ,CAACqB,IAAI,GAAGJ,KAAK;QAChC;MACJ,CAAC;MAEDf,iBAAiBA,CAAC5D,UAAsB,EAAQ;QAC5C;QACAhE,GAAG,CAACC,EAAE,CAAC+I,OAAO,CAAC,CAAC,mBAAmB,EAAE,6BAA6B,CAAC,EAAE,UAAUC,MAAM,EAAEC,OAAO,EAAE;UAC5F;UACA,MAAMC,kBAAkB,GACpBF,MAAM,CAACG,IAAI,CAAC,kCAAkC,CAAC,IAC/CH,MAAM,CAACG,IAAI,CAAC,yCAAyC,CAAC;UAC1D,IAAID,kBAAkB,EAAE;YACpB,MAAME,YAAY,GAAG;cACjBrE,KAAK,EAAEhB,UAAU,CAACgB,KAAK;cACvBsE,OAAO,EAAEJ,OAAO,CAACK,GAAG;cACpB5C,GAAG,EAAE3C,UAAU,CAAC2C,GAAG;cACnB6C,KAAK,EAAExF,UAAU,CAAC2C;YACtB,CAAC;YACCU,MAAM,CAACrH,GAAG,CAACyJ,MAAM,CAASC,SAAS,CAACC,WAAW,CAAC,QAAQ,CAAC,CAAS/B,iBAAiB,CACjFyB,YACJ,CAAC;UACL;QACJ,CAAC,CAAC;MACN;IACJ,CAAC,CAAC;EACN;EAAC,IAAAO,SAAA;IAAA7I,UAAA;EAAA;EAAA6I,SAAA,CAAAnI,qCAAA,GAAAA,qCAAA;EAAAmI,SAAA,CAAA/H,UAAA,GAAAA,UAAA;EAAA,OAAA+H,SAAA;AAAA","ignoreList":[]}