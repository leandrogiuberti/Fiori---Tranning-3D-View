{"version":3,"file":"SearchObjectSuggestionImage-dbg.js","names":["sap","ui","define","Image","SearchObjectSuggestionImage","extend","renderer","apiVersion","metadata","properties","isCircular","type","multiple","constructor","_constructor","sId","options","Image.prototype.constructor.call","attachLoad","wrapImage","attachError","addStyleClass","_wrapImage","isError","imageNode","getDomRef","parent","parentNode","classList","contains","adaptContainer","createContainer","_createContainer","containerNode","document","createElement","add","offsetHeight","offsetWidth","getProperty","style","borderRadius","insertBefore","removeChild","appendChild","remove","_adaptContainer"],"sources":["SearchObjectSuggestionImage.ts"],"sourcesContent":["/*!\n * SAPUI5\n * Copyright (c) 2025 SAP SE or an SAP affiliate company. All rights reserved.\n * \n */\nimport Image, { $ImageSettings } from \"sap/m/Image\";\nimport { PropertyBindingInfo } from \"sap/ui/base/ManagedObject\";\n\nexport interface $SearchObjectSuggestionImageOptions extends $ImageSettings {\n    isCircular?: boolean | PropertyBindingInfo;\n}\n\n/**\n * @namespace sap.esh.search.ui.controls\n */\nexport default class SearchObjectSuggestionImage extends Image {\n    static readonly metadata = {\n        properties: {\n            isCircular: {\n                type: \"boolean\",\n                multiple: false,\n            },\n        },\n    };\n\n    constructor(sId?: string, options?: Partial<$SearchObjectSuggestionImageOptions>) {\n        super(sId, options);\n\n        this.attachLoad(() => this.wrapImage);\n        this.attachError(() => this.wrapImage(true));\n\n        this.addStyleClass(\"sapUshellSearchObjectSuggestionImage-Initial\");\n    }\n\n    wrapImage(isError: boolean): void {\n        const imageNode = this.getDomRef();\n        if (!imageNode) return;\n\n        const parent = imageNode.parentNode as HTMLElement;\n        if (\n            parent?.classList.contains(\"sapUshellSearchObjectSuggestionImage-Wrapper-Portrait\") ||\n            parent?.classList.contains(\"sapUshellSearchObjectSuggestionImage-Wrapper-Landscape\")\n        ) {\n            this.adaptContainer(isError);\n            // adapt necessary because UI5 tries to load image with correct content density (see @2 in url)\n            // if desired content density is not available the fallback \"normal\" image is loaded\n            // -> wrap image triggered twice\n        } else {\n            this.createContainer(isError);\n        }\n    }\n\n    createContainer(isError: boolean): void {\n        const imageNode = this.getDomRef() as HTMLElement;\n        if (!imageNode) return;\n\n        // assemble image wrapper container node\n        const containerNode = document.createElement(\"div\");\n        containerNode.classList.add(\"sapUshellSearchObjectSuggestionImage-Wrapper\");\n\n        if (imageNode.offsetHeight > imageNode.offsetWidth) {\n            containerNode.classList.add(\"sapUshellSearchObjectSuggestionImage-Wrapper-Portrait\");\n        } else {\n            containerNode.classList.add(\"sapUshellSearchObjectSuggestionImage-Wrapper-Landscape\");\n        }\n\n        // make circular\n        if (this.getProperty(\"isCircular\")) {\n            containerNode.style.borderRadius = \"50%\";\n        }\n\n        // put image into container\n        const parent = imageNode.parentNode;\n        if (parent) {\n            parent.insertBefore(containerNode, imageNode);\n            parent.removeChild(imageNode);\n            containerNode.appendChild(imageNode);\n            imageNode.classList.remove(\"sapUshellSearchObjectSuggestionImage-Initial\");\n        }\n\n        // add error marker\n        if (isError) {\n            containerNode.classList.add(\"sapUshellSearchObjectSuggestionImage-Wrapper-Error\");\n        }\n    }\n\n    adaptContainer(isError: boolean): void {\n        const imageNode = this.getDomRef() as HTMLElement;\n        if (!imageNode) return;\n\n        const containerNode = imageNode.parentNode as HTMLElement;\n        if (!containerNode) return;\n\n        if (imageNode.offsetHeight > imageNode.offsetWidth) {\n            containerNode.classList.add(\"sapUshellSearchObjectSuggestionImage-Wrapper-Portrait\");\n            containerNode.classList.remove(\"sapUshellSearchObjectSuggestionImage-Wrapper-Landscape\");\n        } else {\n            containerNode.classList.add(\"sapUshellSearchObjectSuggestionImage-Wrapper-Landscape\");\n            containerNode.classList.remove(\"sapUshellSearchObjectSuggestionImage-Wrapper-Portrait\");\n        }\n\n        if (isError) {\n            containerNode.classList.add(\"sapUshellSearchObjectSuggestionImage-Wrapper-Error\");\n        } else {\n            containerNode.classList.remove(\"sapUshellSearchObjectSuggestionImage-Wrapper-Error\");\n        }\n    }\n\n    static renderer = {\n        apiVersion: 2,\n    };\n}\n"],"mappings":"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","ignoreList":[]}