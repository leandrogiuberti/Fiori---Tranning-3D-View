{"version":3,"file":"SearchSelect-dbg.js","names":["sap","ui","define","__i18n","Select","sap_m_library","Item","BindingMode","____eventlogging_UserEvents","_interopRequireDefault","obj","__esModule","default","i18n","SelectType","UserEventType","SearchSelect","extend","renderer","apiVersion","constructor","_constructor","sId","settings","Select.prototype.constructor.call","bindProperty","path","setAutoAdjustWidth","bindItems","template","key","text","mode","OneWay","parts","formatter","labelPlural","getText","attachChange","item","getSelectedItem","context","getBindingContext","dataSource","getObject","oModel","getModel","dataSourceKeyOld","getDataSource","id","eventLogger","logEvent","type","DROPDOWN_SELECT_DS","dataSourceKey","setDataSource","abortSuggestions","initializingObjSearch","addStyleClass","setDisplayMode","_setDisplayMode","setType","IconOnly","setIcon","Default"],"sources":["SearchSelect.ts"],"sourcesContent":["/*!\n * SAPUI5\n * Copyright (c) 2025 SAP SE or an SAP affiliate company. All rights reserved.\n * \n */\nimport i18n from \"../../i18n\";\nimport Select, { $SelectSettings } from \"sap/m/Select\";\nimport { SelectType } from \"sap/m/library\";\nimport Item from \"sap/ui/core/Item\";\nimport BindingMode from \"sap/ui/model/BindingMode\";\nimport SearchModel from \"sap/esh/search/ui/SearchModel\";\nimport { DataSource } from \"../../sinaNexTS/sina/DataSource\";\nimport { UserEventType } from \"../../eventlogging/UserEvents\";\n\n/**\n * @namespace sap.esh.search.ui.controls\n */\nexport default class SearchSelect extends Select {\n    constructor(sId?: string, settings?: $SelectSettings) {\n        super(sId, settings);\n\n        this.bindProperty(\"visible\", { path: \"/businessObjSearchEnabled\" });\n        this.setAutoAdjustWidth(true);\n        this.bindItems({\n            path: \"/dataSources\",\n            template: new Item(\"\", {\n                key: \"{id}\",\n                text: \"{labelPlural}\",\n            }),\n        });\n        this.bindProperty(\"selectedKey\", {\n            path: \"/uiFilter/dataSource/id\",\n            mode: BindingMode.OneWay,\n        });\n        this.bindProperty(\"tooltip\", {\n            parts: [\n                {\n                    path: \"/uiFilter/dataSource/labelPlural\",\n                },\n            ],\n            formatter: (labelPlural) => {\n                return i18n.getText(\"searchInPlaceholder\", [labelPlural]);\n            },\n        });\n        this.attachChange(() => {\n            const item = this.getSelectedItem();\n            const context = item.getBindingContext();\n            const dataSource = context.getObject() as DataSource;\n            const oModel = this.getModel() as SearchModel;\n            const dataSourceKeyOld = oModel.getDataSource().id;\n            oModel.eventLogger.logEvent({\n                type: UserEventType.DROPDOWN_SELECT_DS,\n                dataSourceKey: dataSource.id,\n                dataSourceKeyOld,\n            });\n            oModel.setDataSource(dataSource, false);\n            oModel.abortSuggestions();\n        });\n        this.bindProperty(\"enabled\", {\n            parts: [\n                {\n                    path: \"/initializingObjSearch\",\n                },\n            ],\n            formatter: (initializingObjSearch) => !initializingObjSearch,\n        });\n        this.addStyleClass(\"searchSelect\");\n    }\n\n    setDisplayMode(mode: \"icon\" | \"default\"): void {\n        switch (mode) {\n            case \"icon\":\n                this.setType(SelectType.IconOnly);\n                this.setIcon(\"sap-icon://slim-arrow-down\");\n                break;\n            case \"default\":\n                this.setType(SelectType.Default);\n                break;\n            default:\n                break;\n        }\n    }\n    static renderer = {\n        apiVersion: 2,\n    };\n}\n"],"mappings":"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","ignoreList":[]}