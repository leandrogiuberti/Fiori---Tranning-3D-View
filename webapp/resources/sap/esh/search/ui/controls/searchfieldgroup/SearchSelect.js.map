{"version":3,"file":"SearchSelect.js","names":["sap","ui","define","__i18n","Select","sap_m_library","Item","BindingMode","____eventlogging_UserEvents","_interopRequireDefault","obj","__esModule","default","i18n","SelectType","UserEventType","SearchSelect","extend","renderer","apiVersion","constructor","_constructor","sId","settings","Select.prototype.constructor.call","this","bindProperty","path","setAutoAdjustWidth","bindItems","template","key","text","mode","OneWay","parts","formatter","labelPlural","getText","attachChange","item","getSelectedItem","context","getBindingContext","dataSource","getObject","oModel","getModel","dataSourceKeyOld","getDataSource","id","eventLogger","logEvent","type","DROPDOWN_SELECT_DS","dataSourceKey","setDataSource","abortSuggestions","initializingObjSearch","addStyleClass","setDisplayMode","_setDisplayMode","setType","IconOnly","setIcon","Default"],"sources":["SearchSelect.ts"],"sourcesContent":["/*!\n * SAPUI5\n * Copyright (c) 2025 SAP SE or an SAP affiliate company. All rights reserved.\n * \n */\nimport i18n from \"../../i18n\";\nimport Select, { $SelectSettings } from \"sap/m/Select\";\nimport { SelectType } from \"sap/m/library\";\nimport Item from \"sap/ui/core/Item\";\nimport BindingMode from \"sap/ui/model/BindingMode\";\nimport SearchModel from \"sap/esh/search/ui/SearchModel\";\nimport { DataSource } from \"../../sinaNexTS/sina/DataSource\";\nimport { UserEventType } from \"../../eventlogging/UserEvents\";\n\n/**\n * @namespace sap.esh.search.ui.controls\n */\nexport default class SearchSelect extends Select {\n    constructor(sId?: string, settings?: $SelectSettings) {\n        super(sId, settings);\n\n        this.bindProperty(\"visible\", { path: \"/businessObjSearchEnabled\" });\n        this.setAutoAdjustWidth(true);\n        this.bindItems({\n            path: \"/dataSources\",\n            template: new Item(\"\", {\n                key: \"{id}\",\n                text: \"{labelPlural}\",\n            }),\n        });\n        this.bindProperty(\"selectedKey\", {\n            path: \"/uiFilter/dataSource/id\",\n            mode: BindingMode.OneWay,\n        });\n        this.bindProperty(\"tooltip\", {\n            parts: [\n                {\n                    path: \"/uiFilter/dataSource/labelPlural\",\n                },\n            ],\n            formatter: (labelPlural) => {\n                return i18n.getText(\"searchInPlaceholder\", [labelPlural]);\n            },\n        });\n        this.attachChange(() => {\n            const item = this.getSelectedItem();\n            const context = item.getBindingContext();\n            const dataSource = context.getObject() as DataSource;\n            const oModel = this.getModel() as SearchModel;\n            const dataSourceKeyOld = oModel.getDataSource().id;\n            oModel.eventLogger.logEvent({\n                type: UserEventType.DROPDOWN_SELECT_DS,\n                dataSourceKey: dataSource.id,\n                dataSourceKeyOld,\n            });\n            oModel.setDataSource(dataSource, false);\n            oModel.abortSuggestions();\n        });\n        this.bindProperty(\"enabled\", {\n            parts: [\n                {\n                    path: \"/initializingObjSearch\",\n                },\n            ],\n            formatter: (initializingObjSearch) => !initializingObjSearch,\n        });\n        this.addStyleClass(\"searchSelect\");\n    }\n\n    setDisplayMode(mode: \"icon\" | \"default\"): void {\n        switch (mode) {\n            case \"icon\":\n                this.setType(SelectType.IconOnly);\n                this.setIcon(\"sap-icon://slim-arrow-down\");\n                break;\n            case \"default\":\n                this.setType(SelectType.Default);\n                break;\n            default:\n                break;\n        }\n    }\n    static renderer = {\n        apiVersion: 2,\n    };\n}\n"],"mappings":";;;;;AAAAA,IAAAC,GAAAC,OAAA,qIAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,GAAA,sBAAAC,EAAAC,GAAA,OAAAA,KAAAC,mBAAAD,EAAAE,UAAA,YAAAF,EAAAE,QAAAF,CAAA,OAKOG,EAAIJ,EAAAN,GAAA,MAEFW,EAAUT,EAAA,oBAKVU,EAAaP,EAAA,iBAEtB,MAGqBQ,EAAqBZ,EAAMa,OAAA,2CAiErCC,SAAW,CACdC,WAAY,GAjEhBC,YAAW,SAAAC,EAACC,EAAcC,GACtBC,6BAAAC,KAAMH,EAAKC,GAEXE,KAAKC,aAAa,UAAW,CAAEC,KAAM,8BACrCF,KAAKG,mBAAmB,MACxBH,KAAKI,UAAU,CACXF,KAAM,eACNG,SAAU,IAAIxB,EAAK,GAAI,CACnByB,IAAK,OACLC,KAAM,oBAGdP,KAAKC,aAAa,cAAe,CAC7BC,KAAM,0BACNM,KAAM1B,EAAY2B,SAEtBT,KAAKC,aAAa,UAAW,CACzBS,MAAO,CACH,CACIR,KAAM,qCAGdS,UAAYC,GACDxB,EAAKyB,QAAQ,sBAAuB,CAACD,MAGpDZ,KAAKc,aAAa,KACd,MAAMC,EAAOf,KAAKgB,kBAClB,MAAMC,EAAUF,EAAKG,oBACrB,MAAMC,EAAaF,EAAQG,YAC3B,MAAMC,EAASrB,KAAKsB,WACpB,MAAMC,EAAmBF,EAAOG,gBAAgBC,GAChDJ,EAAOK,YAAYC,SAAS,CACxBC,KAAMtC,EAAcuC,mBACpBC,cAAeX,EAAWM,GAC1BF,qBAEJF,EAAOU,cAAcZ,EAAY,OACjCE,EAAOW,qBAEXhC,KAAKC,aAAa,UAAW,CACzBS,MAAO,CACH,CACIR,KAAM,2BAGdS,UAAYsB,IAA2BA,IAE3CjC,KAAKkC,cAAc,eACvB,EAEAC,eAAc,SAAAC,EAAC5B,GACX,OAAQA,GACJ,IAAK,OACDR,KAAKqC,QAAQhD,EAAWiD,UACxBtC,KAAKuC,QAAQ,8BACb,MACJ,IAAK,UACDvC,KAAKqC,QAAQhD,EAAWmD,SACxB,MACJ,QACI,MAEZ,IAAC,OAhEgBjD,CAAY","ignoreList":[]}