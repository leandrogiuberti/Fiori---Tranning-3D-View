{"version":3,"file":"SearchObjectSuggestionImage.js","names":["sap","ui","define","Image","SearchObjectSuggestionImage","extend","renderer","apiVersion","metadata","properties","isCircular","type","multiple","constructor","_constructor","sId","options","Image.prototype.constructor.call","this","attachLoad","wrapImage","attachError","addStyleClass","_wrapImage","isError","imageNode","getDomRef","parent","parentNode","classList","contains","adaptContainer","createContainer","_createContainer","containerNode","document","createElement","add","offsetHeight","offsetWidth","getProperty","style","borderRadius","insertBefore","removeChild","appendChild","remove","_adaptContainer"],"sources":["SearchObjectSuggestionImage.ts"],"sourcesContent":["/*!\n * SAPUI5\n * Copyright (c) 2025 SAP SE or an SAP affiliate company. All rights reserved.\n * \n */\nimport Image, { $ImageSettings } from \"sap/m/Image\";\nimport { PropertyBindingInfo } from \"sap/ui/base/ManagedObject\";\n\nexport interface $SearchObjectSuggestionImageOptions extends $ImageSettings {\n    isCircular?: boolean | PropertyBindingInfo;\n}\n\n/**\n * @namespace sap.esh.search.ui.controls\n */\nexport default class SearchObjectSuggestionImage extends Image {\n    static readonly metadata = {\n        properties: {\n            isCircular: {\n                type: \"boolean\",\n                multiple: false,\n            },\n        },\n    };\n\n    constructor(sId?: string, options?: Partial<$SearchObjectSuggestionImageOptions>) {\n        super(sId, options);\n\n        this.attachLoad(() => this.wrapImage);\n        this.attachError(() => this.wrapImage(true));\n\n        this.addStyleClass(\"sapUshellSearchObjectSuggestionImage-Initial\");\n    }\n\n    wrapImage(isError: boolean): void {\n        const imageNode = this.getDomRef();\n        if (!imageNode) return;\n\n        const parent = imageNode.parentNode as HTMLElement;\n        if (\n            parent?.classList.contains(\"sapUshellSearchObjectSuggestionImage-Wrapper-Portrait\") ||\n            parent?.classList.contains(\"sapUshellSearchObjectSuggestionImage-Wrapper-Landscape\")\n        ) {\n            this.adaptContainer(isError);\n            // adapt necessary because UI5 tries to load image with correct content density (see @2 in url)\n            // if desired content density is not available the fallback \"normal\" image is loaded\n            // -> wrap image triggered twice\n        } else {\n            this.createContainer(isError);\n        }\n    }\n\n    createContainer(isError: boolean): void {\n        const imageNode = this.getDomRef() as HTMLElement;\n        if (!imageNode) return;\n\n        // assemble image wrapper container node\n        const containerNode = document.createElement(\"div\");\n        containerNode.classList.add(\"sapUshellSearchObjectSuggestionImage-Wrapper\");\n\n        if (imageNode.offsetHeight > imageNode.offsetWidth) {\n            containerNode.classList.add(\"sapUshellSearchObjectSuggestionImage-Wrapper-Portrait\");\n        } else {\n            containerNode.classList.add(\"sapUshellSearchObjectSuggestionImage-Wrapper-Landscape\");\n        }\n\n        // make circular\n        if (this.getProperty(\"isCircular\")) {\n            containerNode.style.borderRadius = \"50%\";\n        }\n\n        // put image into container\n        const parent = imageNode.parentNode;\n        if (parent) {\n            parent.insertBefore(containerNode, imageNode);\n            parent.removeChild(imageNode);\n            containerNode.appendChild(imageNode);\n            imageNode.classList.remove(\"sapUshellSearchObjectSuggestionImage-Initial\");\n        }\n\n        // add error marker\n        if (isError) {\n            containerNode.classList.add(\"sapUshellSearchObjectSuggestionImage-Wrapper-Error\");\n        }\n    }\n\n    adaptContainer(isError: boolean): void {\n        const imageNode = this.getDomRef() as HTMLElement;\n        if (!imageNode) return;\n\n        const containerNode = imageNode.parentNode as HTMLElement;\n        if (!containerNode) return;\n\n        if (imageNode.offsetHeight > imageNode.offsetWidth) {\n            containerNode.classList.add(\"sapUshellSearchObjectSuggestionImage-Wrapper-Portrait\");\n            containerNode.classList.remove(\"sapUshellSearchObjectSuggestionImage-Wrapper-Landscape\");\n        } else {\n            containerNode.classList.add(\"sapUshellSearchObjectSuggestionImage-Wrapper-Landscape\");\n            containerNode.classList.remove(\"sapUshellSearchObjectSuggestionImage-Wrapper-Portrait\");\n        }\n\n        if (isError) {\n            containerNode.classList.add(\"sapUshellSearchObjectSuggestionImage-Wrapper-Error\");\n        } else {\n            containerNode.classList.remove(\"sapUshellSearchObjectSuggestionImage-Wrapper-Error\");\n        }\n    }\n\n    static renderer = {\n        apiVersion: 2,\n    };\n}\n"],"mappings":";;;;;AAAAA,IAAAC,GAAAC,OAAA,yBAAAC,GAAA,aAYA,MAGqBC,EAAoCD,EAAKE,OAAA,0DA6FnDC,SAAW,CACdC,WAAY,GA7FAC,SAAW,CACvBC,WAAY,CACRC,WAAY,CACRC,KAAM,UACNC,SAAU,SAKtBC,YAAW,SAAAC,EAACC,EAAcC,GACtBC,6BAAAC,KAAMH,EAAKC,GAEXE,KAAKC,WAAW,IAAMD,KAAKE,WAC3BF,KAAKG,YAAY,IAAMH,KAAKE,UAAU,OAEtCF,KAAKI,cAAc,+CACvB,EAEAF,UAAS,SAAAG,EAACC,GACN,MAAMC,EAAYP,KAAKQ,YACvB,IAAKD,EAAW,OAEhB,MAAME,EAASF,EAAUG,WACzB,GACID,GAAQE,UAAUC,SAAS,0DAC3BH,GAAQE,UAAUC,SAAS,0DAC7B,CACEZ,KAAKa,eAAeP,EAIxB,KAAO,CACHN,KAAKc,gBAAgBR,EACzB,CACJ,EAEAQ,gBAAe,SAAAC,EAACT,GACZ,MAAMC,EAAYP,KAAKQ,YACvB,IAAKD,EAAW,OAGhB,MAAMS,EAAgBC,SAASC,cAAc,OAC7CF,EAAcL,UAAUQ,IAAI,gDAE5B,GAAIZ,EAAUa,aAAeb,EAAUc,YAAa,CAChDL,EAAcL,UAAUQ,IAAI,wDAChC,KAAO,CACHH,EAAcL,UAAUQ,IAAI,yDAChC,CAGA,GAAInB,KAAKsB,YAAY,cAAe,CAChCN,EAAcO,MAAMC,aAAe,KACvC,CAGA,MAAMf,EAASF,EAAUG,WACzB,GAAID,EAAQ,CACRA,EAAOgB,aAAaT,EAAeT,GACnCE,EAAOiB,YAAYnB,GACnBS,EAAcW,YAAYpB,GAC1BA,EAAUI,UAAUiB,OAAO,+CAC/B,CAGA,GAAItB,EAAS,CACTU,EAAcL,UAAUQ,IAAI,qDAChC,CACJ,EAEAN,eAAc,SAAAgB,EAACvB,GACX,MAAMC,EAAYP,KAAKQ,YACvB,IAAKD,EAAW,OAEhB,MAAMS,EAAgBT,EAAUG,WAChC,IAAKM,EAAe,OAEpB,GAAIT,EAAUa,aAAeb,EAAUc,YAAa,CAChDL,EAAcL,UAAUQ,IAAI,yDAC5BH,EAAcL,UAAUiB,OAAO,yDACnC,KAAO,CACHZ,EAAcL,UAAUQ,IAAI,0DAC5BH,EAAcL,UAAUiB,OAAO,wDACnC,CAEA,GAAItB,EAAS,CACTU,EAAcL,UAAUQ,IAAI,qDAChC,KAAO,CACHH,EAAcL,UAAUiB,OAAO,qDACnC,CACJ,IAAC,OA3FgB1C,CAA2B","ignoreList":[]}