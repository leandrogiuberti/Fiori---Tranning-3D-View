/*!
 * SAPUI5
 * Copyright (c) 2025 SAP SE or an SAP affiliate company. All rights reserved.
 * 
 */
sap.ui.define(["../i18n","sap/ui/layout/HorizontalLayout","sap/m/Button","sap/m/library","sap/m/Input","sap/m/Select","sap/m/CheckBox","sap/m/DateRangeSelection","sap/ui/core/InvisibleText","sap/ui/core/Item","sap/m/Label","../SearchFacetDialogHelper","sap/ui/core/Element"],function(e,t,n,a,o,l,s,i,c,r,g,d,p){"use strict";function h(e){return e&&e.__esModule&&typeof e.default!=="undefined"?e.default:e}const u=h(e);const C=a["ButtonType"];const S=h(d);const f=t.extend("sap.esh.search.ui.controls.SearchAdvancedCondition",{renderer:{apiVersion:2},metadata:{properties:{type:{type:"string"}}},constructor:function e(n,a){t.prototype.constructor.call(this,n,a);this.setAllowWrapping(a?.allowWrapping);this.addStyleClass("sapUshellSearchFacetDialogDetailPageCondition");if(a?.type){const e=this.contentFactory(a);for(const t of e){this.addContent(t)}}},contentFactory:function e(a){const d=new s("",{select:e=>{S.updateCountInfo(this.getDetailPage(e.getSource()))}}).addStyleClass("sapUshellSearchFacetDialogDetailPageConditionCheckBox");let h=p.getElementById("advancedCheckBoxLabel");if(!h){h=new c("advancedCheckBoxLabel",{text:u.getText("checkBox")})}d.addAriaLabelledBy("advancedCheckBoxLabel");let f=p.getElementById("operatorLabel");if(!f){f=new c("operatorLabel",{text:u.getText("operator")})}let y,D,w,P;switch(a.type){case"timestamp":case"date":y=new i({width:"86%",change:e=>{this.onDateRangeSelectionChange(e)}}).addStyleClass("sapUshellSearchFacetDialogDetailPageConditionInput");y.onAfterRendering=function(){const e=this.getDomRef();if(e){const t=e.querySelectorAll("input");t.forEach(e=>{e.setAttribute("readonly","readonly")})}};break;case"string":d.setVisible(false);w=new o({width:"56%",placeholder:u.getText("filterCondition"),liveChange:e=>{this.onAdvancedInputChange(e)}}).addStyleClass("sapUshellSearchFacetDialogDetailPageConditionInput");P=new l({width:"40%",tooltip:u.getText("operator"),items:[new r({text:u.getText("equals"),key:"eq"}),new r({text:u.getText("beginsWith"),key:"bw"}),new r({text:u.getText("endsWith"),key:"ew"}),new r({text:u.getText("contains"),key:"co"})]}).addStyleClass("sapUshellSearchFacetDialogDetailPageConditionSelect");P.addAriaLabelledBy("operatorLabel");y=new t({allowWrapping:true,content:[P,w]});D=new n({icon:"sap-icon://sys-cancel",type:C.Transparent,tooltip:u.getText("removeButton"),press:()=>{this.onDeleteButtonPress()}});break;case"text":d.setVisible(false);w=new o({width:"56%",placeholder:u.getText("filterCondition"),liveChange:e=>{this.onAdvancedInputChange(e)}}).addStyleClass("sapUshellSearchFacetDialogDetailPageConditionInput");P=new l({width:"40%",tooltip:u.getText("operator"),items:[new r({text:u.getText("containsWords"),key:"co"})]}).addStyleClass("sapUshellSearchFacetDialogDetailPageConditionSelect");P.addAriaLabelledBy("operatorLabel");y=new t({allowWrapping:true,content:[P,w]});D=new n({icon:"sap-icon://sys-cancel",type:C.Transparent,tooltip:u.getText("removeButton"),press:()=>{this.onDeleteButtonPress()}});break;case"integer":case"number":{const e=new o("",{width:"46.5%",placeholder:u.getText("fromPlaceholder"),liveChange:e=>{this.onAdvancedNumberInputChange(e)}}).addStyleClass("sapUshellSearchFacetDialogDetailPageConditionInput");const n=new o("",{width:"46.5%",placeholder:u.getText("toPlaceholder"),liveChange:e=>{this.onAdvancedNumberInputChange(e)}}).addStyleClass("sapUshellSearchFacetDialogDetailPageConditionInput");const a=new g("",{text:u.getText("threeDots")}).addStyleClass("sapUshellSearchFacetDialogDetailPageConditionLabel");y=new t("",{allowWrapping:true,content:[e,a,n]});y.addEventDelegate({onAfterRendering:e=>{const t=e.srcControl.getParent().getParent().getContent().length;const n=e.srcControl.getParent().getParent().indexOfAggregation("content",e.srcControl.getParent());if(n===t-2){const t=e.srcControl.getContent()[2].getValue();e.srcControl.getContent()[2].setValue();e.srcControl.getContent()[2].setValue(t)}}});break}default:break}return[d,y,D]},getDetailPage:function e(t){if(t.hasStyleClass&&(t.hasStyleClass("sapUshellSearchFacetDialogDetailPageString")||t.hasStyleClass("sapUshellSearchFacetDialogDetailPage"))){return t}else{return this.getDetailPage(t.getParent())}},onDateRangeSelectionChange:function e(t){const n=t.getSource();const a=n.getParent();const o=a.getContent()[0];if(n.getDateValue()&&n.getSecondDateValue()){o.setSelected(true);S.insertNewAdvancedCondition(a,"date");S.updateCountInfo(a.getParent().getParent())}else{o.setSelected(false)}},onAdvancedInputChange:function e(t){const n=t.getSource();const a=n.getParent().getParent();const o=a.getContent()[0];if(n.getValue()){o.setSelected(true);S.updateCountInfo(this.getDetailPage(o))}else{o.setSelected(false)}},onDeleteButtonPress:function e(){S.deleteAdvancedCondition(this)},onAdvancedNumberInputChange:function e(t){const n=t.getSource();const a=n.getParent().getParent();const o=a.getContent()[0];const l=n.getParent();const s=l.getContent()[0];const i=l.getContent()[2];if(s.getValue()&&i.getValue()){o.setSelected(true);S.insertNewAdvancedCondition(a,"number");S.updateCountInfo(a.getParent().getParent())}else{o.setSelected(false)}}});f.injectSearchFacetDialogHelper=function e(t){f.searchFacetDialogHelper=t};return f});
//# sourceMappingURL=SearchAdvancedCondition.js.map