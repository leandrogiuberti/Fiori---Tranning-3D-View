/*!
 * SAPUI5
 * Copyright (c) 2025 SAP SE or an SAP affiliate company. All rights reserved.
 * 
 */
sap.ui.define(["../../../../i18n","sap/suite/ui/microchart/ComparisonMicroChart","sap/suite/ui/microchart/ComparisonMicroChartData","sap/ui/core/Control","sap/m/library","sap/ui/core/Element"],function(e,t,a,o,i,s){"use strict";function r(e){return e&&e.__esModule&&typeof e.default!=="undefined"?e.default:e}const n=r(e);const l=i["ValueColor"];const c=o.extend("sap.esh.search.ui.controls.SearchFacetBarChart",{renderer:{apiVersion:2,render(e,a){e.openStart("div",a);e.openEnd();const o=new t("",{width:"90%",colorPalette:[],tooltip:"",shrinkable:true});if(a.options?.oSearchFacetDialog){o.setWidth("95%");o.addStyleClass("sapUshellSearchFacetBarChartLarge")}else{o.addStyleClass("sapUshellSearchFacetBarChart")}o.addEventDelegate({onAfterRendering:function(){const e=document.getElementById(this.getId());if(e&&e.querySelector(".Good")){e.classList.add("sapUshellSearchFacetBarChartSelected")}const t=this.getBindingContext().getObject();o.getDomRef().setAttribute("data-test-id-facet-dimension-value",`${t.title}-${t.dimension}`)}.bind(a)});let i=a.getAggregation("items");const s=a.getProperty("aItems");if(i.length===0&&s){i=s}let r=0;for(const e of i){if(!a.options.oSearchFacetDialog){if(e.getProperty("value")){o.addData(e)}else{r++}}else{o.addData(e)}}a.iMissingCnt=r;e.renderControl(o);e.close("div")}},metadata:{properties:{aItems:{type:"object"},oSearchFacetDialog:{type:"sap.esh.search.ui.controls.SearchFacetDialog"}},aggregations:{items:{type:"sap.suite.ui.microchart.ComparisonMicroChartData",multiple:true}}},constructor:function e(t,i){o.prototype.constructor.call(this,t,i);this.options=i||{};this.bindAggregation("items",{path:"items",factory:()=>{const e=new a({title:{path:"label"},value:{path:"value"},color:{path:"selected",formatter:e=>{let t;if(e){t=l.Good}else{t=l.Neutral}return t}},tooltip:{parts:[{path:"label"},{path:"value"}],formatter:(e,t)=>e+": "+t},displayValue:{path:"valueLabel"},press:e=>{const t=e.getSource().getBindingContext();const a=t.getModel();const o=t.getObject();const i=o.selected;const s=o.filterCondition;if(i){if(this.options.oSearchFacetDialog){this.options.oSearchFacetDialog.onDetailPageSelectionChangeCharts(e)}else{a.removeFilterCondition(s,true)}}else if(this.options.oSearchFacetDialog){this.options.oSearchFacetDialog.onDetailPageSelectionChangeCharts(e)}else{a.addFilterCondition(s,true)}}});return e}})},onAfterRendering:function e(){const t=this.getDomRef();const a=t.closest(".sapUshellSearchFacetIconTabBar");if(!a){return}const o=a.querySelector(".sapUshellSearchFacetInfoZeile");if(!o){return}const i=s.getElementById(o.id);if(this.iMissingCnt>0){i.setVisible(true);const e=n.getText("infoZeileNumberMoreSelected",[this.iMissingCnt]);i.setText(e);i.rerender()}else{i.setVisible(false)}}});return c});
//# sourceMappingURL=SearchFacetBarChart.js.map