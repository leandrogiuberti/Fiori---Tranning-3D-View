{"version":3,"file":"SearchResultSetItemAttributeGroup.js","names":["sap","ui","define","___SearchResultSetItemAttributeBase","SearchResultSetItemAttributeBase","SearchResultSetItemAttributeGroup","template","attributes","displayAttributes","constructor","properties","super","this","toString","valueFormatted","pos","match","regex","RegExp","exec","substring","index","attributeName","slice","lastIndex","label","isAttributeDisplayed","attributeId","Array","isArray","includes","getSubAttributes","attributeMemberShip","push","attribute","__exports","__esModule"],"sources":["SearchResultSetItemAttributeGroup.ts"],"sourcesContent":["/*!\n * SAPUI5\n * Copyright (c) 2025 SAP SE or an SAP affiliate company. All rights reserved.\n * \n */\nimport {\n    SearchResultSetItemAttributeBase,\n    SearchResultSetItemAttributeBaseOptions,\n} from \"./SearchResultSetItemAttributeBase\";\nimport { SearchResultSetItemAttributeGroupMembership } from \"./SearchResultSetItemAttributeGroupMembership\";\nimport { AttributeGroupMetadata } from \"./AttributeGroupMetadata\";\nimport { SearchResultSetItemAttribute } from \"./SearchResultSetItemAttribute\";\n\nexport interface SearchResultSetItemAttributeGroupOptions extends SearchResultSetItemAttributeBaseOptions {\n    id: string;\n    metadata: AttributeGroupMetadata;\n    template?: string;\n    attributes: Array<SearchResultSetItemAttributeGroupMembership>;\n    displayAttributes?: Array<string>;\n}\nexport class SearchResultSetItemAttributeGroup extends SearchResultSetItemAttributeBase {\n    // _meta: {\n    //     properties: {\n    //         template: {\n    //             required: false\n    //         },\n    //         attributes: {\n    //             required: true,\n    //             default: function () {\n    //                 return [];\n    //             }\n    //         }\n    //         displayAttributes: {\n    //             required: false,\n    //             default: function () {\n    //                 return [];\n    //             }\n    //         }\n    //     }\n    // }\n\n    template: string;\n    attributes: Array<SearchResultSetItemAttributeGroupMembership> = [];\n    displayAttributes: Array<string> = [];\n\n    constructor(properties: SearchResultSetItemAttributeGroupOptions) {\n        super(properties);\n        this.template = properties.template ?? this.template;\n        this.attributes = properties.attributes ?? this.attributes;\n        this.displayAttributes = properties.displayAttributes ?? this.displayAttributes;\n    }\n\n    toString(): string {\n        let valueFormatted = \"\",\n            pos = 0;\n        let match;\n        const regex = RegExp(\"{[a-z]+}\", \"gi\");\n        while ((match = regex.exec(this.template)) !== null) {\n            valueFormatted += this.template.substring(pos, match.index);\n            const attributeName = match[0].slice(1, -1);\n            valueFormatted +=\n                (this.attributes[attributeName] && this.attributes[attributeName].valueFormatted) || \"\"; // TODO: What if this.attributes[attributeName] is a group?\n            pos = regex.lastIndex;\n        }\n        valueFormatted += this.template.substring(pos);\n        return this.label + \": \" + valueFormatted;\n    }\n\n    isAttributeDisplayed(attributeId: string): boolean {\n        if (Array.isArray(this.displayAttributes)) {\n            return this.displayAttributes.includes(attributeId);\n        }\n        return false;\n    }\n\n    getSubAttributes(): Array<SearchResultSetItemAttribute> {\n        const attributes: Array<SearchResultSetItemAttribute> = [];\n        for (const attributeMemberShip of this.attributes) {\n            attributes.push(...attributeMemberShip.attribute.getSubAttributes());\n        }\n        return attributes;\n    }\n}\n"],"mappings":";;;;;AAAAA,IAAAC,GAAAC,OAAA,gDAAAC,GAAA,mBAMIC,EAAgCD,EAAA,oCAc7B,MAAME,UAA0CD,EAqBnDE,SACAC,WAAiE,GACjEC,kBAAmC,GAEnCC,YAAYC,GACRC,MAAMD,GACNE,KAAKN,SAAWI,EAAWJ,UAAYM,KAAKN,SAC5CM,KAAKL,WAAaG,EAAWH,YAAcK,KAAKL,WAChDK,KAAKJ,kBAAoBE,EAAWF,mBAAqBI,KAAKJ,iBAClE,CAEAK,WACI,IAAIC,EAAiB,GACjBC,EAAM,EACV,IAAIC,EACJ,MAAMC,EAAQC,OAAO,WAAY,MACjC,OAAQF,EAAQC,EAAME,KAAKP,KAAKN,aAAe,KAAM,CACjDQ,GAAkBF,KAAKN,SAASc,UAAUL,EAAKC,EAAMK,OACrD,MAAMC,EAAgBN,EAAM,GAAGO,MAAM,GAAI,GACzCT,GACKF,KAAKL,WAAWe,IAAkBV,KAAKL,WAAWe,GAAeR,gBAAmB,GACzFC,EAAME,EAAMO,SAChB,CACAV,GAAkBF,KAAKN,SAASc,UAAUL,GAC1C,OAAOH,KAAKa,MAAQ,KAAOX,CAC/B,CAEAY,qBAAqBC,GACjB,GAAIC,MAAMC,QAAQjB,KAAKJ,mBAAoB,CACvC,OAAOI,KAAKJ,kBAAkBsB,SAASH,EAC3C,CACA,OAAO,KACX,CAEAI,mBACI,MAAMxB,EAAkD,GACxD,IAAK,MAAMyB,KAAuBpB,KAAKL,WAAY,CAC/CA,EAAW0B,QAAQD,EAAoBE,UAAUH,mBACrD,CACA,OAAOxB,CACX,EACH,IAAA4B,EAAA,CAAAC,WAAA,MAAAD,EAAA9B,oCAAA,OAAA8B,CAAA","ignoreList":[]}