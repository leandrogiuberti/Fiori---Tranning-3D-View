{"version":3,"file":"HierarchyQuery-dbg.js","names":["sap","ui","define","___DataSourceType","___FacetQuery","DataSourceSubType","DataSourceType","FacetQuery","HierarchyQuery","attributeId","nodeId","constructor","properties","top","equals","other","clone","label","icon","skip","nlq","sortOrder","filter","searchTerm","getSearchTerm","sina","_execute","query","_doExecuteHierarchyQuery","transformedQuery","_filteredQueryTransform","resultSet","provider","executeHierarchyQuery","_filteredQueryBackTransform","_genericFilteredQueryTransform","dataSource","type","BusinessObject","subType","Filtered","__exports","__esModule"],"sources":["HierarchyQuery.ts"],"sourcesContent":["/*!\n * SAPUI5\n * Copyright (c) 2025 SAP SE or an SAP affiliate company. All rights reserved.\n * \n */\nimport { DataSourceSubType, DataSourceType } from \"./DataSourceType\";\nimport { FacetQuery } from \"./FacetQuery\";\nimport { HierarchyResultSet } from \"./HierarchyResultSet\";\nimport { Query, QueryOptions } from \"./Query\";\n\nexport interface HierarchyQueryOptions extends QueryOptions {\n    attributeId: string;\n    nodeId: string;\n}\n\nexport class HierarchyQuery extends FacetQuery {\n    attributeId: string;\n    nodeId: string;\n\n    constructor(properties: HierarchyQueryOptions) {\n        super(properties);\n        this.top = properties.top ?? 30;\n        this.attributeId = properties.attributeId;\n        this.nodeId = properties.nodeId;\n    }\n\n    equals(other: Query /*, mode?: EqualsMode*/): boolean {\n        return other instanceof HierarchyQuery && super.equals(other) && this.nodeId === other.nodeId;\n    }\n\n    clone(): HierarchyQuery {\n        return new HierarchyQuery({\n            label: this.label,\n            icon: this.icon,\n            top: this.top,\n            skip: this.skip,\n            nlq: this.nlq,\n            sortOrder: this.sortOrder,\n            filter: this.filter.clone(),\n            searchTerm: this.getSearchTerm(),\n            sina: this.sina,\n            attributeId: this.attributeId,\n            nodeId: this.nodeId,\n        });\n    }\n\n    async _execute(query: HierarchyQuery): Promise<HierarchyResultSet> {\n        return this._doExecuteHierarchyQuery(query);\n    }\n\n    async _doExecuteHierarchyQuery(query: HierarchyQuery): Promise<HierarchyResultSet> {\n        const transformedQuery = this._filteredQueryTransform(query);\n        const resultSet = await this.sina.provider.executeHierarchyQuery(transformedQuery);\n        return this._filteredQueryBackTransform(query, resultSet);\n    }\n\n    _filteredQueryTransform(query: HierarchyQuery): HierarchyQuery {\n        return this._genericFilteredQueryTransform(query) as HierarchyQuery;\n    }\n\n    _filteredQueryBackTransform(query: HierarchyQuery, resultSet: HierarchyResultSet): HierarchyResultSet {\n        if (\n            query.filter.dataSource.type !== DataSourceType.BusinessObject ||\n            query.filter.dataSource.subType !== DataSourceSubType.Filtered\n        ) {\n            return resultSet;\n        }\n        resultSet.query = query;\n        return resultSet;\n    }\n}\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AAJAA,GAAA,CAAAC,EAAA,CAAAC,MAAA,iDAAAC,iBAAA,EAAAC,aAAA;EAAA;;EAAA,MAKSC,iBAAiB,GAAAF,iBAAA;EAAA,MAAEG,cAAc,GAAAH,iBAAA;EAAA,MACjCI,UAAU,GAAAH,aAAA;EASZ,MAAMI,cAAc,SAASD,UAAU,CAAC;IAC3CE,WAAW;IACXC,MAAM;IAENC,WAAWA,CAACC,UAAiC,EAAE;MAC3C,KAAK,CAACA,UAAU,CAAC;MACjB,IAAI,CAACC,GAAG,GAAGD,UAAU,CAACC,GAAG,IAAI,EAAE;MAC/B,IAAI,CAACJ,WAAW,GAAGG,UAAU,CAACH,WAAW;MACzC,IAAI,CAACC,MAAM,GAAGE,UAAU,CAACF,MAAM;IACnC;IAEAI,MAAMA,CAACC,KAAY,EAAmC;MAClD,OAAOA,KAAK,YAAYP,cAAc,IAAI,KAAK,CAACM,MAAM,CAACC,KAAK,CAAC,IAAI,IAAI,CAACL,MAAM,KAAKK,KAAK,CAACL,MAAM;IACjG;IAEAM,KAAKA,CAAA,EAAmB;MACpB,OAAO,IAAIR,cAAc,CAAC;QACtBS,KAAK,EAAE,IAAI,CAACA,KAAK;QACjBC,IAAI,EAAE,IAAI,CAACA,IAAI;QACfL,GAAG,EAAE,IAAI,CAACA,GAAG;QACbM,IAAI,EAAE,IAAI,CAACA,IAAI;QACfC,GAAG,EAAE,IAAI,CAACA,GAAG;QACbC,SAAS,EAAE,IAAI,CAACA,SAAS;QACzBC,MAAM,EAAE,IAAI,CAACA,MAAM,CAACN,KAAK,CAAC,CAAC;QAC3BO,UAAU,EAAE,IAAI,CAACC,aAAa,CAAC,CAAC;QAChCC,IAAI,EAAE,IAAI,CAACA,IAAI;QACfhB,WAAW,EAAE,IAAI,CAACA,WAAW;QAC7BC,MAAM,EAAE,IAAI,CAACA;MACjB,CAAC,CAAC;IACN;IAEA,MAAMgB,QAAQA,CAACC,KAAqB,EAA+B;MAC/D,OAAO,IAAI,CAACC,wBAAwB,CAACD,KAAK,CAAC;IAC/C;IAEA,MAAMC,wBAAwBA,CAACD,KAAqB,EAA+B;MAC/E,MAAME,gBAAgB,GAAG,IAAI,CAACC,uBAAuB,CAACH,KAAK,CAAC;MAC5D,MAAMI,SAAS,GAAG,MAAM,IAAI,CAACN,IAAI,CAACO,QAAQ,CAACC,qBAAqB,CAACJ,gBAAgB,CAAC;MAClF,OAAO,IAAI,CAACK,2BAA2B,CAACP,KAAK,EAAEI,SAAS,CAAC;IAC7D;IAEAD,uBAAuBA,CAACH,KAAqB,EAAkB;MAC3D,OAAO,IAAI,CAACQ,8BAA8B,CAACR,KAAK,CAAC;IACrD;IAEAO,2BAA2BA,CAACP,KAAqB,EAAEI,SAA6B,EAAsB;MAClG,IACIJ,KAAK,CAACL,MAAM,CAACc,UAAU,CAACC,IAAI,KAAK/B,cAAc,CAACgC,cAAc,IAC9DX,KAAK,CAACL,MAAM,CAACc,UAAU,CAACG,OAAO,KAAKlC,iBAAiB,CAACmC,QAAQ,EAChE;QACE,OAAOT,SAAS;MACpB;MACAA,SAAS,CAACJ,KAAK,GAAGA,KAAK;MACvB,OAAOI,SAAS;IACpB;EACJ;EAAC,IAAAU,SAAA;IAAAC,UAAA;EAAA;EAAAD,SAAA,CAAAjC,cAAA,GAAAA,cAAA;EAAA,OAAAiC,SAAA;AAAA","ignoreList":[]}