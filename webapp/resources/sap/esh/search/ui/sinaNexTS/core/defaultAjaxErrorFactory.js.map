{"version":3,"file":"defaultAjaxErrorFactory.js","names":["sap","ui","define","___sina_i18n","___errors","getText","ServerErrorCode","ServerError","NoConnectionError","createDefaultAjaxErrorFactory","props","allowedStatusCodes","defaultAjaxErrorFactory","request","response","indexOf","status","url","code","E001","message","statusText","data","__exports","__esModule"],"sources":["defaultAjaxErrorFactory.ts"],"sourcesContent":["/*!\n * SAPUI5\n * Copyright (c) 2025 SAP SE or an SAP affiliate company. All rights reserved.\n * \n */\nimport { getText } from \"../sina/i18n\";\nimport { AjaxErrorFactory, RequestProperties, ResponseProperties } from \"./ajax\";\nimport { ServerErrorCode, SinaError, ServerError, NoConnectionError } from \"./errors\";\n\nexport interface DefaultAjaxErrorFactoryProperties {\n    allowedStatusCodes?: Array<number>;\n}\n\nexport function createDefaultAjaxErrorFactory(props?: DefaultAjaxErrorFactoryProperties): AjaxErrorFactory {\n    const allowedStatusCodes = props?.allowedStatusCodes ?? [200, 201, 204];\n    return function defaultAjaxErrorFactory(\n        request: RequestProperties,\n        response: ResponseProperties\n    ): SinaError {\n        if (allowedStatusCodes.indexOf(response.status) >= 0) {\n            return; // no error\n        }\n        if (response.status == 0) {\n            return new NoConnectionError(request.url);\n        }\n        return new ServerError({\n            request: request,\n            response: response,\n            code: ServerErrorCode.E001,\n            message: getText(\"error.sina.generalServerError\", [\n                request.url,\n                \"\" + response.status,\n                response.statusText,\n                response.data,\n            ]),\n        });\n    };\n}\n"],"mappings":";;;;;AAAAA,IAAAC,GAAAC,OAAA,qCAAAC,EAAAC,GAAA,mBAKSC,EAAOF,EAAA,iBAEPG,EAAeF,EAAA,yBAAaG,EAAWH,EAAA,qBAAEI,EAAiBJ,EAAA,qBAM5D,SAASK,EAA8BC,GAC1C,MAAMC,EAAqBD,GAAOC,oBAAsB,CAAC,IAAK,IAAK,KACnE,OAAO,SAASC,EACZC,EACAC,GAEA,GAAIH,EAAmBI,QAAQD,EAASE,SAAW,EAAG,CAClD,MACJ,CACA,GAAIF,EAASE,QAAU,EAAG,CACtB,OAAO,IAAIR,EAAkBK,EAAQI,IACzC,CACA,OAAO,IAAIV,EAAY,CACnBM,QAASA,EACTC,SAAUA,EACVI,KAAMZ,EAAgBa,KACtBC,QAASf,EAAQ,gCAAiC,CAC9CQ,EAAQI,IACR,GAAKH,EAASE,OACdF,EAASO,WACTP,EAASQ,QAGrB,CACJ,CAAC,IAAAC,EAAA,CAAAC,WAAA,MAAAD,EAAAd,gCAAA,OAAAc,CAAA","ignoreList":[]}