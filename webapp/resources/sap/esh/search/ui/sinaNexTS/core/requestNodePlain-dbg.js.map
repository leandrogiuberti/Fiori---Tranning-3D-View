{"version":3,"file":"requestNodePlain-dbg.js","names":["sap","ui","define","___ajaxUtil","__ui5_require_async","path","Promise","resolve","reject","require","module","__esModule","endsWith","default","Object","defineProperty","value","err","addEncodedUrlParameters","requestNodePlain","properties","https","url","startsWith","Buffer","parameters","urlObj","URL","options","rejectUnauthorized","hostname","pathname","search","port","method","headers","data","byteLength","req","request","res","responseData","on","chunk","status","statusCode","statusText","statusMessage","error","write","end","__exports"],"sources":["requestNodePlain.ts"],"sourcesContent":["/*!\n * SAPUI5\n * Copyright (c) 2025 SAP SE or an SAP affiliate company. All rights reserved.\n * \n */\nimport { RequestProperties, ResponseProperties } from \"./ajax\";\nimport { addEncodedUrlParameters } from \"./ajaxUtil\";\n\nexport async function requestNodePlain(properties: RequestProperties): Promise<ResponseProperties> {\n    const https = properties.url.startsWith(\"https\") ? await import(\"node:https\") : await import(\"node:http\");\n    const { Buffer } = await import(\"node:buffer\");\n    return new Promise((resolve) => {\n        const url = addEncodedUrlParameters(properties.url, properties.parameters);\n        const urlObj = new URL(url);\n        const options = {\n            rejectUnauthorized: false,\n            //requestCert: true,\n            //agent: false,\n            hostname: urlObj.hostname,\n            path: urlObj.pathname + urlObj.search,\n            port: urlObj.port,\n            method: properties.method,\n            headers: properties.headers,\n        };\n\n        if (properties.data) {\n            options.headers[\"Content-Length\"] = \"\" + Buffer.byteLength(properties.data);\n        }\n\n        const req = https.request(options, (res) => {\n            let responseData = \"\";\n\n            res.on(\"data\", (chunk) => {\n                responseData += chunk;\n            });\n\n            res.on(\"end\", () => {\n                resolve({\n                    status: res.statusCode,\n                    statusText: res.statusMessage,\n                    data: responseData,\n                    headers: res.headers,\n                });\n            });\n        });\n\n        req.on(\"error\", (error) => {\n            resolve({\n                status: 0,\n                statusText: \"\" + error,\n                data: \"\",\n                headers: {},\n            });\n        });\n\n        if (properties.data) {\n            req.write(properties.data);\n        }\n\n        req.end();\n    });\n}\n"],"mappings":"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","ignoreList":[]}