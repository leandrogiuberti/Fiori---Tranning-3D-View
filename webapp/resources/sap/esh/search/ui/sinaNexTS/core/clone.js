/*!
 * SAPUI5
 * Copyright (c) 2025 SAP SE or an SAP affiliate company. All rights reserved.
 * 
 */
sap.ui.define([],function(){"use strict";var e=function(e){e["Primitive"]="Primitive";e["List"]="List";e["Object"]="Object";return e}(e||{});class t{cloneBuffer;constructor(){this.cloneBuffer=[]}put(e,t){this.cloneBuffer.push({object:e,clonedObject:t})}get(e){const t=this.cloneBuffer.find(t=>t.object===e);if(!t){return undefined}return t.clonedObject}}class n{config;classConfigCache;buffer;constructor(e){this.config=e??{classes:[]}}getType(t){if(typeof t==="string"||typeof t==="number"||typeof t==="boolean"||typeof t==="function"||typeof t==="undefined"){return e.Primitive}if(typeof t=="object"){if(Array.isArray(t)){return e.List}else{return e.Object}}throw`Program error: Clone utitliy does not support type ${typeof t}`}clone(e){this.buffer=new t;return this.internalClone(e)}internalClone(t){switch(this.getType(t)){case e.List:return this.cloneList(t);case e.Object:return this.cloneObject(t);case e.Primitive:return this.clonePrimitive(t)}}cloneList(e){let t=this.buffer.get(e);if(t){return t}t=[];this.buffer.put(e,t);for(const n of e){if(!this.isCloneableObject(n)){continue}t.push(this.internalClone(n))}return t}cloneObject(e){let t=this.buffer.get(e);if(t){return t}const n=this.getClassConfig(e);if(n?.cloneFunction){return n.cloneFunction(e)}if(n?.useOriginalObject){return e}t={};this.buffer.put(e,t);for(const n in e){if(!this.isCloneableProperty(e,n)){continue}t[n]=this.internalClone(e[n])}return t}clonePrimitive(e){return e}getClassConfig(e){if(this.classConfigCache&&e instanceof this.classConfigCache.class){return this.classConfigCache}this.classConfigCache=this.config.classes.find(t=>e instanceof t.class);return this.classConfigCache}isCloneableObject(e){if(e?.constructor===Object){return true}const t=this.getClassConfig(e);if(!t){return false}return true}isCloneableProperty(e,t){if(e?.constructor===Object){return true}const n=this.getClassConfig(e);if(!n){return false}return n.properties.indexOf(t)>=0}}var i={__esModule:true};i.CloneService=n;return i});
//# sourceMappingURL=clone.js.map