{"version":3,"file":"defaultAjaxErrorFactory-dbg.js","names":["sap","ui","define","___sina_i18n","___errors","getText","ServerErrorCode","ServerError","NoConnectionError","createDefaultAjaxErrorFactory","props","allowedStatusCodes","defaultAjaxErrorFactory","request","response","indexOf","status","url","code","E001","message","statusText","data","__exports","__esModule"],"sources":["defaultAjaxErrorFactory.ts"],"sourcesContent":["/*!\n * SAPUI5\n * Copyright (c) 2025 SAP SE or an SAP affiliate company. All rights reserved.\n * \n */\nimport { getText } from \"../sina/i18n\";\nimport { AjaxErrorFactory, RequestProperties, ResponseProperties } from \"./ajax\";\nimport { ServerErrorCode, SinaError, ServerError, NoConnectionError } from \"./errors\";\n\nexport interface DefaultAjaxErrorFactoryProperties {\n    allowedStatusCodes?: Array<number>;\n}\n\nexport function createDefaultAjaxErrorFactory(props?: DefaultAjaxErrorFactoryProperties): AjaxErrorFactory {\n    const allowedStatusCodes = props?.allowedStatusCodes ?? [200, 201, 204];\n    return function defaultAjaxErrorFactory(\n        request: RequestProperties,\n        response: ResponseProperties\n    ): SinaError {\n        if (allowedStatusCodes.indexOf(response.status) >= 0) {\n            return; // no error\n        }\n        if (response.status == 0) {\n            return new NoConnectionError(request.url);\n        }\n        return new ServerError({\n            request: request,\n            response: response,\n            code: ServerErrorCode.E001,\n            message: getText(\"error.sina.generalServerError\", [\n                request.url,\n                \"\" + response.status,\n                response.statusText,\n                response.data,\n            ]),\n        });\n    };\n}\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AAJAA,GAAA,CAAAC,EAAA,CAAAC,MAAA,yCAAAC,YAAA,EAAAC,SAAA;EAAA;;EAAA,MAKSC,OAAO,GAAAF,YAAA;EAAA,MAEPG,eAAe,GAAAF,SAAA;EAAA,MAAaG,WAAW,GAAAH,SAAA;EAAA,MAAEI,iBAAiB,GAAAJ,SAAA;EAM5D,SAASK,6BAA6BA,CAACC,KAAyC,EAAoB;IACvG,MAAMC,kBAAkB,GAAGD,KAAK,EAAEC,kBAAkB,IAAI,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,CAAC;IACvE,OAAO,SAASC,uBAAuBA,CACnCC,OAA0B,EAC1BC,QAA4B,EACnB;MACT,IAAIH,kBAAkB,CAACI,OAAO,CAACD,QAAQ,CAACE,MAAM,CAAC,IAAI,CAAC,EAAE;QAClD,OAAO,CAAC;MACZ;MACA,IAAIF,QAAQ,CAACE,MAAM,IAAI,CAAC,EAAE;QACtB,OAAO,IAAIR,iBAAiB,CAACK,OAAO,CAACI,GAAG,CAAC;MAC7C;MACA,OAAO,IAAIV,WAAW,CAAC;QACnBM,OAAO,EAAEA,OAAO;QAChBC,QAAQ,EAAEA,QAAQ;QAClBI,IAAI,EAAEZ,eAAe,CAACa,IAAI;QAC1BC,OAAO,EAAEf,OAAO,CAAC,+BAA+B,EAAE,CAC9CQ,OAAO,CAACI,GAAG,EACX,EAAE,GAAGH,QAAQ,CAACE,MAAM,EACpBF,QAAQ,CAACO,UAAU,EACnBP,QAAQ,CAACQ,IAAI,CAChB;MACL,CAAC,CAAC;IACN,CAAC;EACL;EAAC,IAAAC,SAAA;IAAAC,UAAA;EAAA;EAAAD,SAAA,CAAAd,6BAAA,GAAAA,6BAAA;EAAA,OAAAc,SAAA;AAAA","ignoreList":[]}