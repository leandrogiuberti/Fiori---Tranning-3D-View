{"version":3,"file":"nlqParser-dbg.js","names":["sap","ui","define","____sina_i18n","getText","parseNlqInfo","sina","nlqInfos","length","success","filterDescription","filterDescriptionsList","nlqInfo","dataSourceId","NLQConnectorQueries","results","ConnectorID","dataSource","getDataSource","push","label","Description","join","__exports","__esModule"],"sources":["nlqParser.ts"],"sourcesContent":["/*!\n * SAPUI5\n * Copyright (c) 2025 SAP SE or an SAP affiliate company. All rights reserved.\n * \n */\nimport { getText } from \"../../sina/i18n\";\nimport { NlqResult } from \"../../sina/NlqResult\";\nimport { Sina } from \"../../sina/Sina\";\nimport { ABAPOdataSearchResponseDataSourceNlqInfo } from \"./Provider\";\n\nexport function parseNlqInfo(\n    sina: Sina,\n    nlqInfos: Array<ABAPOdataSearchResponseDataSourceNlqInfo>\n): NlqResult {\n    // check nlq infos\n    if (!nlqInfos || nlqInfos.length === 0) {\n        return { success: false, filterDescription: \"\" };\n    }\n    // assemble list of filter descriptions\n    const filterDescriptionsList = [];\n    for (const nlqInfo of nlqInfos) {\n        if (nlqInfos.length > 1) {\n            const dataSourceId = nlqInfo?.NLQConnectorQueries?.results[0]?.ConnectorID;\n            const dataSource = sina.getDataSource(dataSourceId);\n            filterDescriptionsList.push(\n                getText(\"nlqDataSourceAndFilterDescription\", [\n                    dataSource ? dataSource.label : dataSourceId,\n                    nlqInfo.Description,\n                ])\n            );\n        } else {\n            filterDescriptionsList.push(nlqInfo.Description);\n        }\n    }\n    // assemble filter description form filter descriptions list\n    let filterDescription = \"\";\n    if (filterDescriptionsList.length > 0) {\n        filterDescription = \"<code>\" + filterDescriptionsList.join(\"<br/>\") + \"</code>\";\n    }\n    // return nlq result\n    return {\n        success: true,\n        filterDescription: filterDescription,\n    };\n}\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AAJAA,GAAA,CAAAC,EAAA,CAAAC,MAAA,gCAAAC,aAAA;EAAA;;EAAA,MAKSC,OAAO,GAAAD,aAAA;EAKT,SAASE,YAAYA,CACxBC,IAAU,EACVC,QAAyD,EAChD;IACT;IACA,IAAI,CAACA,QAAQ,IAAIA,QAAQ,CAACC,MAAM,KAAK,CAAC,EAAE;MACpC,OAAO;QAAEC,OAAO,EAAE,KAAK;QAAEC,iBAAiB,EAAE;MAAG,CAAC;IACpD;IACA;IACA,MAAMC,sBAAsB,GAAG,EAAE;IACjC,KAAK,MAAMC,OAAO,IAAIL,QAAQ,EAAE;MAC5B,IAAIA,QAAQ,CAACC,MAAM,GAAG,CAAC,EAAE;QACrB,MAAMK,YAAY,GAAGD,OAAO,EAAEE,mBAAmB,EAAEC,OAAO,CAAC,CAAC,CAAC,EAAEC,WAAW;QAC1E,MAAMC,UAAU,GAAGX,IAAI,CAACY,aAAa,CAACL,YAAY,CAAC;QACnDF,sBAAsB,CAACQ,IAAI,CACvBf,OAAO,CAAC,mCAAmC,EAAE,CACzCa,UAAU,GAAGA,UAAU,CAACG,KAAK,GAAGP,YAAY,EAC5CD,OAAO,CAACS,WAAW,CACtB,CACL,CAAC;MACL,CAAC,MAAM;QACHV,sBAAsB,CAACQ,IAAI,CAACP,OAAO,CAACS,WAAW,CAAC;MACpD;IACJ;IACA;IACA,IAAIX,iBAAiB,GAAG,EAAE;IAC1B,IAAIC,sBAAsB,CAACH,MAAM,GAAG,CAAC,EAAE;MACnCE,iBAAiB,GAAG,QAAQ,GAAGC,sBAAsB,CAACW,IAAI,CAAC,OAAO,CAAC,GAAG,SAAS;IACnF;IACA;IACA,OAAO;MACHb,OAAO,EAAE,IAAI;MACbC,iBAAiB,EAAEA;IACvB,CAAC;EACL;EAAC,IAAAa,SAAA;IAAAC,UAAA;EAAA;EAAAD,SAAA,CAAAlB,YAAA,GAAAA,YAAA;EAAA,OAAAkB,SAAA;AAAA","ignoreList":[]}