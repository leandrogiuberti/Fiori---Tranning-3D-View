{"version":3,"file":"typeConverter-dbg.js","names":["sap","ui","define","____sina_AttributeType","sinaUtil","____core_errors","AttributeType","NotImplementedError","UnknownAttributeTypeError","sina2Odata","attributeType","value","context","Double","toString","Integer","String","sina2OdataString","ImageUrl","ImageBlob","GeoJson","Date","sina2OdataDate","Time","sina2OdataTime","Timestamp","sina2OdataTimestamp","odata2Sina","parseFloat","parseInt","odata2SinaDate","odata2SinaTime","odata2SinaTimestamp","length","trim","year","slice","month","day","hour","minute","seconds","microseconds","isNaN","UTC","getUTCFullYear","getUTCMonth","getUTCDate","getUTCHours","getUTCMinutes","getUTCSeconds","getUTCMilliseconds","result","addLeadingZeros","convertOperator2Wildcards","operator","__exports","__esModule"],"sources":["typeConverter.ts"],"sourcesContent":["/*!\n * SAPUI5\n * Copyright (c) 2025 SAP SE or an SAP affiliate company. All rights reserved.\n * \n */\nimport { AttributeType } from \"../../sina/AttributeType\";\nimport * as sinaUtil from \"../../sina/util\";\nimport { NotImplementedError, UnknownAttributeTypeError } from \"../../core/errors\";\n\nexport function sina2Odata(attributeType: AttributeType, value, context = {}) {\n    switch (attributeType) {\n        case AttributeType.Double:\n            return value.toString();\n        case AttributeType.Integer:\n            return value.toString();\n        case AttributeType.String:\n            return sina2OdataString(value, context);\n        case AttributeType.ImageUrl:\n            return value;\n        case AttributeType.ImageBlob:\n            throw new NotImplementedError();\n        case AttributeType.GeoJson:\n            return value;\n        case AttributeType.Date:\n            return sina2OdataDate(value);\n        case AttributeType.Time:\n            return sina2OdataTime(value);\n        case AttributeType.Timestamp:\n            return sina2OdataTimestamp(value);\n        default:\n            throw new UnknownAttributeTypeError(attributeType);\n    }\n}\n\nexport function odata2Sina(attributeType: AttributeType, value) {\n    switch (attributeType) {\n        case AttributeType.Double:\n            return parseFloat(value);\n        case AttributeType.Integer:\n            return parseInt(value, 10);\n        case AttributeType.String:\n            return value;\n        case AttributeType.ImageUrl:\n            return value;\n        case AttributeType.ImageBlob:\n            throw new NotImplementedError();\n        case AttributeType.GeoJson:\n            return value;\n        case AttributeType.Date:\n            return odata2SinaDate(value);\n        case AttributeType.Time:\n            return odata2SinaTime(value);\n        case AttributeType.Timestamp:\n            return odata2SinaTimestamp(value);\n        default:\n            throw new UnknownAttributeTypeError(attributeType);\n    }\n}\n\n// TODO: refactory parseDate, reference HANA Odata\nexport function odata2SinaTimestamp(value): Date | string {\n    if (value.length === 0) {\n        return \"\";\n    }\n\n    // odata:2017-12-31T23:59:59.0000000Z\n    // sina: Date object\n    value = value.trim();\n\n    const year = parseInt(value.slice(0, 4), 10);\n    const month = parseInt(value.slice(5, 7), 10);\n    const day = parseInt(value.slice(8, 10), 10);\n    const hour = parseInt(value.slice(11, 13), 10);\n    const minute = parseInt(value.slice(14, 16), 10);\n    const seconds = parseInt(value.slice(17, 19), 10);\n    const microseconds = isNaN(parseInt(value.slice(20, 20 + 6), 10))\n        ? 0\n        : parseInt(value.slice(20, 20 + 6), 10);\n\n    return new Date(Date.UTC(year, month - 1, day, hour, minute, seconds, microseconds / 1000));\n}\n\nexport function sina2OdataTimestamp(value: Date | \"$$now$$\"): string {\n    if (typeof value === \"string\") {\n        if (value.length === 0) {\n            return \"\";\n        }\n        if (value === \"$$now$$\") {\n            value = new Date();\n        }\n    }\n\n    // odata:2017-12-31T23:59:59.0000000Z\n    // sina: Date object\n    const year = value.getUTCFullYear();\n    const month = value.getUTCMonth() + 1;\n    const day = value.getUTCDate();\n    const hour = value.getUTCHours();\n    const minute = value.getUTCMinutes();\n    const seconds = value.getUTCSeconds();\n    const microseconds = value.getUTCMilliseconds() * 1000;\n\n    const result =\n        addLeadingZeros(year.toString(), 4) +\n        \"-\" +\n        addLeadingZeros(month.toString(), 2) +\n        \"-\" +\n        addLeadingZeros(day.toString(), 2) +\n        \"T\" +\n        addLeadingZeros(hour.toString(), 2) +\n        \":\" +\n        addLeadingZeros(minute.toString(), 2) +\n        \":\" +\n        addLeadingZeros(seconds.toString(), 2) +\n        \".\" +\n        addLeadingZeros(microseconds.toString(), 7) +\n        \"Z\";\n\n    return result;\n}\n\nexport function odata2SinaTime(value) {\n    if (value.length === 0) {\n        return \"\";\n    }\n    // odata: hh:mm:ss\n    // sina: hh:mm:ss\n    value = value.trim();\n    return value;\n}\n\nexport function sina2OdataTime(value) {\n    if (value.length === 0) {\n        return \"\";\n    }\n    // odata: hh:mm:ss\n    // sina: hh:mm:ss\n    return value;\n}\n\nexport function odata2SinaDate(value) {\n    if (value.length === 0) {\n        return \"\";\n    }\n\n    // odata: YYYY-MM-DD\n    // sina: YYYY/MM/DD\n    value = value.trim();\n    return value.slice(0, 4) + \"/\" + value.slice(5, 7) + \"/\" + value.slice(8, 10);\n}\n\nexport function sina2OdataDate(value) {\n    if (value.length === 0) {\n        return \"\";\n    }\n\n    // odata: YYYY-MM-DD\n    // sina: YYYY/MM/DD\n    return value.slice(0, 4) + \"-\" + value.slice(5, 7) + \"-\" + value.slice(8, 10);\n}\n\nexport function sina2OdataString(value, context) {\n    return sinaUtil.convertOperator2Wildcards(value, context.operator);\n}\n\nexport function addLeadingZeros(value, length) {\n    return \"00000000000000\".slice(0, length - value.length) + value;\n}\n"],"mappings":"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","ignoreList":[]}