/*!
 * SAPUI5
 * Copyright (c) 2025 SAP SE or an SAP affiliate company. All rights reserved.
 * 
 */
sap.ui.define(["../../sina/Capabilities","../sample2/Provider"],function(e,t){"use strict";const i=e["Capabilities"];const a=t["Provider"];class s extends a{id="mock_suggestiontypes";aiSuggestionConfig={count:0,timeout:0};async initAsync(e){let t=await super.initAsync(e);t={...t,capabilities:new i({...t?.capabilities,nlq:true,nlqEnabledInfoOnDataSource:true})};return t}async executeSuggestionQuery(e){const t=e.getSearchTerm();const i=t.split(/ +/g).map(e=>e.trim().split(":")).reduce((e,[t,i,a])=>({...e,[t]:{count:parseInt(i,10)||0,timeout:parseInt(a,10)||0}}),{});if(i["ai"]){this.aiSuggestionConfig=i["ai"];console.log(`AI suggestion updated: ${JSON.stringify(this.aiSuggestionConfig)}`)}const a={...{ai:this.aiSuggestionConfig},...i};const s=[];const n=e.getDataSource().id;const o=e.types||[];const r=e.calculationModes||[];const c={dataSource:o.includes("DataSource")&&!r.includes("History"),bo:(o.includes("SearchTerm")||o.includes("SearchTermAndDataSource"))&&!r.includes("History"),history:r.includes("History"),ai:o.includes("SearchTermAI")&&r.includes("Data")};let u=0;for(const[e,{count:t,timeout:i}]of Object.entries(a)){if(!c[e]||t<=0){continue}for(let i=0;i<t;i++){s.push({type:e,searchTerm:`${e} ${i+1}/${t} <b>${e?.toUpperCase()+" "+(i+1)}</b> of ${t}`,dataSource:n})}u=Math.max(u,i)}const l=s.map(e=>this._createSuggestion(e)).filter(e=>e);console.log(`SuggestionTypes: suggestion (${e.types} - ${e.calculationModes})`);console.dir(l);if(u>0){await new Promise(e=>setTimeout(e,u))}return this.sina._createSuggestionResultSet({title:"Suggestions",query:e,items:l})}_createSuggestion(e){const t=e.searchTerm??"";const i=e.label??t;const a=e.dataSource?this.sina.getDataSource(e.dataSource):undefined;switch(e.type){case"history":return this.sina._createSearchTermSuggestion({searchTerm:t,label:i,calculationMode:this.sina.SuggestionCalculationMode.History,filter:this.sina.createFilter({dataSource:a,searchTerm:t})});case"bo":return this.sina._createSearchTermSuggestion({searchTerm:t,label:i,calculationMode:this.sina.SuggestionCalculationMode.Data,filter:this.sina.createFilter({dataSource:a,searchTerm:t})});case"ai":return this.sina._createSearchTermAISuggestion({searchTerm:t,label:i,calculationMode:this.sina.SuggestionCalculationMode.Data,filter:this.sina.createFilter({dataSource:a,searchTerm:t})});case"dataSource":return this.sina._createDataSourceSuggestion({calculationMode:this.sina.SuggestionCalculationMode.Data,dataSource:a,label:i});default:return undefined}}}var n={__esModule:true};n.MockSuggestionTypesProvider=s;return n});
//# sourceMappingURL=MockSuggestionTypesProvider.js.map