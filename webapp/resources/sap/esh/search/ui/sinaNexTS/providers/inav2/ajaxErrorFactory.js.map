{"version":3,"file":"ajaxErrorFactory.js","names":["sap","ui","define","____core_errors","____sina_i18n","ServerErrorCode","ServerError","getText","ajaxErrorFactory","request","response","data","parsedError","dataJSON","Error","Code","Message","detailMessages","ErrorDetails","i","length","errorDetail","push","Messages","j","errorMessage","Number","Text","Type","code","E001","message","details","join","__exports","__esModule"],"sources":["ajaxErrorFactory.ts"],"sourcesContent":["/*!\n * SAPUI5\n * Copyright (c) 2025 SAP SE or an SAP affiliate company. All rights reserved.\n * \n */\nimport { RequestProperties, ResponseProperties } from \"../../core/ajax\";\nimport { ServerErrorCode, SinaError, ServerError } from \"../../core/errors\";\nimport { getText } from \"../../sina/i18n\";\n\nexport function ajaxErrorFactory(request: RequestProperties, response: ResponseProperties): SinaError {\n    //\n    // check for response data\n    if (!response?.data) {\n        return;\n    }\n\n    // check for json\n    const parsedError: any = response.dataJSON;\n    if (!parsedError) {\n        return;\n    }\n\n    // check for error\n    if (typeof parsedError !== \"object\") {\n        return;\n    }\n    if (!parsedError?.Error?.Code || !parsedError?.Error?.Message) {\n        return;\n    }\n\n    // parse error details\n    const detailMessages = [];\n    if (parsedError?.ErrorDetails) {\n        for (let i = 0; i < parsedError.ErrorDetails.length; ++i) {\n            const errorDetail = parsedError.ErrorDetails[i];\n            detailMessages.push(errorDetail.Code + \": \" + errorDetail.Message);\n        }\n    }\n\n    // parse additional messages\n    if (parsedError?.Messages) {\n        for (let j = 0; j < parsedError.Messages.length; ++j) {\n            const errorMessage = parsedError.Messages[j];\n            detailMessages.push(\n                errorMessage.Number + \": \" + errorMessage.Text + \" (\" + errorMessage.Type + \")\"\n            );\n        }\n    }\n\n    // create error\n    return new ServerError({\n        request: request,\n        response: response,\n        code: ServerErrorCode.E001,\n        message: getText(\"error.sina.serverError\", [parsedError.Error.Code, parsedError.Error.Message]),\n        details: detailMessages.join(\"\\n\"),\n    });\n}\n"],"mappings":";;;;;AAAAA,IAAAC,GAAAC,OAAA,iDAAAC,EAAAC,GAAA,mBAMSC,EAAeF,EAAA,yBAAaG,EAAWH,EAAA,qBACvCI,EAAOH,EAAA,WAET,SAASI,EAAiBC,EAA4BC,GAGzD,IAAKA,GAAUC,KAAM,CACjB,MACJ,CAGA,MAAMC,EAAmBF,EAASG,SAClC,IAAKD,EAAa,CACd,MACJ,CAGA,UAAWA,IAAgB,SAAU,CACjC,MACJ,CACA,IAAKA,GAAaE,OAAOC,OAASH,GAAaE,OAAOE,QAAS,CAC3D,MACJ,CAGA,MAAMC,EAAiB,GACvB,GAAIL,GAAaM,aAAc,CAC3B,IAAK,IAAIC,EAAI,EAAGA,EAAIP,EAAYM,aAAaE,SAAUD,EAAG,CACtD,MAAME,EAAcT,EAAYM,aAAaC,GAC7CF,EAAeK,KAAKD,EAAYN,KAAO,KAAOM,EAAYL,QAC9D,CACJ,CAGA,GAAIJ,GAAaW,SAAU,CACvB,IAAK,IAAIC,EAAI,EAAGA,EAAIZ,EAAYW,SAASH,SAAUI,EAAG,CAClD,MAAMC,EAAeb,EAAYW,SAASC,GAC1CP,EAAeK,KACXG,EAAaC,OAAS,KAAOD,EAAaE,KAAO,KAAOF,EAAaG,KAAO,IAEpF,CACJ,CAGA,OAAO,IAAItB,EAAY,CACnBG,QAASA,EACTC,SAAUA,EACVmB,KAAMxB,EAAgByB,KACtBC,QAASxB,EAAQ,yBAA0B,CAACK,EAAYE,MAAMC,KAAMH,EAAYE,MAAME,UACtFgB,QAASf,EAAegB,KAAK,OAErC,CAAC,IAAAC,EAAA,CAAAC,WAAA,MAAAD,EAAA1B,mBAAA,OAAA0B,CAAA","ignoreList":[]}