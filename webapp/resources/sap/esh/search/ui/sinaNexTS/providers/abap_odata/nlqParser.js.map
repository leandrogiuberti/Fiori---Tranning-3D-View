{"version":3,"file":"nlqParser.js","names":["sap","ui","define","____sina_i18n","getText","parseNlqInfo","sina","nlqInfos","length","success","filterDescription","filterDescriptionsList","nlqInfo","dataSourceId","NLQConnectorQueries","results","ConnectorID","dataSource","getDataSource","push","label","Description","join","__exports","__esModule"],"sources":["nlqParser.ts"],"sourcesContent":["/*!\n * SAPUI5\n * Copyright (c) 2025 SAP SE or an SAP affiliate company. All rights reserved.\n * \n */\nimport { getText } from \"../../sina/i18n\";\nimport { NlqResult } from \"../../sina/NlqResult\";\nimport { Sina } from \"../../sina/Sina\";\nimport { ABAPOdataSearchResponseDataSourceNlqInfo } from \"./Provider\";\n\nexport function parseNlqInfo(\n    sina: Sina,\n    nlqInfos: Array<ABAPOdataSearchResponseDataSourceNlqInfo>\n): NlqResult {\n    // check nlq infos\n    if (!nlqInfos || nlqInfos.length === 0) {\n        return { success: false, filterDescription: \"\" };\n    }\n    // assemble list of filter descriptions\n    const filterDescriptionsList = [];\n    for (const nlqInfo of nlqInfos) {\n        if (nlqInfos.length > 1) {\n            const dataSourceId = nlqInfo?.NLQConnectorQueries?.results[0]?.ConnectorID;\n            const dataSource = sina.getDataSource(dataSourceId);\n            filterDescriptionsList.push(\n                getText(\"nlqDataSourceAndFilterDescription\", [\n                    dataSource ? dataSource.label : dataSourceId,\n                    nlqInfo.Description,\n                ])\n            );\n        } else {\n            filterDescriptionsList.push(nlqInfo.Description);\n        }\n    }\n    // assemble filter description form filter descriptions list\n    let filterDescription = \"\";\n    if (filterDescriptionsList.length > 0) {\n        filterDescription = \"<code>\" + filterDescriptionsList.join(\"<br/>\") + \"</code>\";\n    }\n    // return nlq result\n    return {\n        success: true,\n        filterDescription: filterDescription,\n    };\n}\n"],"mappings":";;;;;AAAAA,IAAAC,GAAAC,OAAA,6BAAAC,GAAA,mBAKSC,EAAOD,EAAA,WAKT,SAASE,EACZC,EACAC,GAGA,IAAKA,GAAYA,EAASC,SAAW,EAAG,CACpC,MAAO,CAAEC,QAAS,MAAOC,kBAAmB,GAChD,CAEA,MAAMC,EAAyB,GAC/B,IAAK,MAAMC,KAAWL,EAAU,CAC5B,GAAIA,EAASC,OAAS,EAAG,CACrB,MAAMK,EAAeD,GAASE,qBAAqBC,QAAQ,IAAIC,YAC/D,MAAMC,EAAaX,EAAKY,cAAcL,GACtCF,EAAuBQ,KACnBf,EAAQ,oCAAqC,CACzCa,EAAaA,EAAWG,MAAQP,EAChCD,EAAQS,cAGpB,KAAO,CACHV,EAAuBQ,KAAKP,EAAQS,YACxC,CACJ,CAEA,IAAIX,EAAoB,GACxB,GAAIC,EAAuBH,OAAS,EAAG,CACnCE,EAAoB,SAAWC,EAAuBW,KAAK,SAAW,SAC1E,CAEA,MAAO,CACHb,QAAS,KACTC,kBAAmBA,EAE3B,CAAC,IAAAa,EAAA,CAAAC,WAAA,MAAAD,EAAAlB,eAAA,OAAAkB,CAAA","ignoreList":[]}