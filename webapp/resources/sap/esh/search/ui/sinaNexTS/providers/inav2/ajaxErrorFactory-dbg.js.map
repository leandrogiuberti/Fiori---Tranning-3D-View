{"version":3,"file":"ajaxErrorFactory-dbg.js","names":["sap","ui","define","____core_errors","____sina_i18n","ServerErrorCode","ServerError","getText","ajaxErrorFactory","request","response","data","parsedError","dataJSON","Error","Code","Message","detailMessages","ErrorDetails","i","length","errorDetail","push","Messages","j","errorMessage","Number","Text","Type","code","E001","message","details","join","__exports","__esModule"],"sources":["ajaxErrorFactory.ts"],"sourcesContent":["/*!\n * SAPUI5\n * Copyright (c) 2025 SAP SE or an SAP affiliate company. All rights reserved.\n * \n */\nimport { RequestProperties, ResponseProperties } from \"../../core/ajax\";\nimport { ServerErrorCode, SinaError, ServerError } from \"../../core/errors\";\nimport { getText } from \"../../sina/i18n\";\n\nexport function ajaxErrorFactory(request: RequestProperties, response: ResponseProperties): SinaError {\n    //\n    // check for response data\n    if (!response?.data) {\n        return;\n    }\n\n    // check for json\n    const parsedError: any = response.dataJSON;\n    if (!parsedError) {\n        return;\n    }\n\n    // check for error\n    if (typeof parsedError !== \"object\") {\n        return;\n    }\n    if (!parsedError?.Error?.Code || !parsedError?.Error?.Message) {\n        return;\n    }\n\n    // parse error details\n    const detailMessages = [];\n    if (parsedError?.ErrorDetails) {\n        for (let i = 0; i < parsedError.ErrorDetails.length; ++i) {\n            const errorDetail = parsedError.ErrorDetails[i];\n            detailMessages.push(errorDetail.Code + \": \" + errorDetail.Message);\n        }\n    }\n\n    // parse additional messages\n    if (parsedError?.Messages) {\n        for (let j = 0; j < parsedError.Messages.length; ++j) {\n            const errorMessage = parsedError.Messages[j];\n            detailMessages.push(\n                errorMessage.Number + \": \" + errorMessage.Text + \" (\" + errorMessage.Type + \")\"\n            );\n        }\n    }\n\n    // create error\n    return new ServerError({\n        request: request,\n        response: response,\n        code: ServerErrorCode.E001,\n        message: getText(\"error.sina.serverError\", [parsedError.Error.Code, parsedError.Error.Message]),\n        details: detailMessages.join(\"\\n\"),\n    });\n}\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AAJAA,GAAA,CAAAC,EAAA,CAAAC,MAAA,qDAAAC,eAAA,EAAAC,aAAA;EAAA;;EAAA,MAMSC,eAAe,GAAAF,eAAA;EAAA,MAAaG,WAAW,GAAAH,eAAA;EAAA,MACvCI,OAAO,GAAAH,aAAA;EAET,SAASI,gBAAgBA,CAACC,OAA0B,EAAEC,QAA4B,EAAa;IAClG;IACA;IACA,IAAI,CAACA,QAAQ,EAAEC,IAAI,EAAE;MACjB;IACJ;;IAEA;IACA,MAAMC,WAAgB,GAAGF,QAAQ,CAACG,QAAQ;IAC1C,IAAI,CAACD,WAAW,EAAE;MACd;IACJ;;IAEA;IACA,IAAI,OAAOA,WAAW,KAAK,QAAQ,EAAE;MACjC;IACJ;IACA,IAAI,CAACA,WAAW,EAAEE,KAAK,EAAEC,IAAI,IAAI,CAACH,WAAW,EAAEE,KAAK,EAAEE,OAAO,EAAE;MAC3D;IACJ;;IAEA;IACA,MAAMC,cAAc,GAAG,EAAE;IACzB,IAAIL,WAAW,EAAEM,YAAY,EAAE;MAC3B,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGP,WAAW,CAACM,YAAY,CAACE,MAAM,EAAE,EAAED,CAAC,EAAE;QACtD,MAAME,WAAW,GAAGT,WAAW,CAACM,YAAY,CAACC,CAAC,CAAC;QAC/CF,cAAc,CAACK,IAAI,CAACD,WAAW,CAACN,IAAI,GAAG,IAAI,GAAGM,WAAW,CAACL,OAAO,CAAC;MACtE;IACJ;;IAEA;IACA,IAAIJ,WAAW,EAAEW,QAAQ,EAAE;MACvB,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGZ,WAAW,CAACW,QAAQ,CAACH,MAAM,EAAE,EAAEI,CAAC,EAAE;QAClD,MAAMC,YAAY,GAAGb,WAAW,CAACW,QAAQ,CAACC,CAAC,CAAC;QAC5CP,cAAc,CAACK,IAAI,CACfG,YAAY,CAACC,MAAM,GAAG,IAAI,GAAGD,YAAY,CAACE,IAAI,GAAG,IAAI,GAAGF,YAAY,CAACG,IAAI,GAAG,GAChF,CAAC;MACL;IACJ;;IAEA;IACA,OAAO,IAAItB,WAAW,CAAC;MACnBG,OAAO,EAAEA,OAAO;MAChBC,QAAQ,EAAEA,QAAQ;MAClBmB,IAAI,EAAExB,eAAe,CAACyB,IAAI;MAC1BC,OAAO,EAAExB,OAAO,CAAC,wBAAwB,EAAE,CAACK,WAAW,CAACE,KAAK,CAACC,IAAI,EAAEH,WAAW,CAACE,KAAK,CAACE,OAAO,CAAC,CAAC;MAC/FgB,OAAO,EAAEf,cAAc,CAACgB,IAAI,CAAC,IAAI;IACrC,CAAC,CAAC;EACN;EAAC,IAAAC,SAAA;IAAAC,UAAA;EAAA;EAAAD,SAAA,CAAA1B,gBAAA,GAAAA,gBAAA;EAAA,OAAA0B,SAAA;AAAA","ignoreList":[]}