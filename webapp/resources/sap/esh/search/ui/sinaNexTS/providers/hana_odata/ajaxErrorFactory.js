/*!
 * SAPUI5
 * Copyright (c) 2025 SAP SE or an SAP affiliate company. All rights reserved.
 * 
 */
sap.ui.define(["../../core/errors","../../sina/i18n"],function(e,r){"use strict";const s=e["ServerErrorCode"];const t=e["ServerError"];const n=r["getText"];function o(e){if(["E100","E101","E102","E200","E201","E202","E203","E300","E400"].includes(e)){return e}return s.E001}function a(e,r){if(!r){return}if(!r||!Array.isArray(r)){return JSON.stringify(r)}const s=[];for(const t of r){if(t.message===e){continue}s.push(t.code+":"+t.message)}if(s.length===0){return undefined}return s.join("\n")}function c(e){if(!e.error){return}const r=e.error;return{dataSource:"dummy",code:o(r.code),message:r.message,details:a(r.message,r.details)}}function i(e){const r=e["@com.sap.vocabularies.Search.v1.SearchStatistics"];if(!r){return[]}const s=r.ConnectorStatistics;if(!s){return[]}if(!Array.isArray(s)){return[]}const t=[];for(const e of s){if(!e.error){continue}const r=e.error;t.push({dataSource:e.Name,code:o(r.code),message:r.message,details:a(r.message,r.details)})}return t}function u(e){let r;for(const t of e){if(!r){r=t}if(t!==r){return s.E001}}if(!r){r=s.E001}return r}function d(e,r){const s=r.dataJSON;if(!s){return}const o=c(s);const a=i(s);if(o){return new t({request:e,response:r,code:u([o.code,...a.map(e=>e.code)]),message:o.message,details:o.details,dataSourceErrors:a})}else{let s;switch(a.length){case 0:return;case 1:return new t({request:e,response:r,code:a[0].code,message:a[0].message,details:a[0].details,dataSourceErrors:a});default:s=a.map(e=>e.dataSource).join(", ");return new t({request:e,response:r,code:u(a.map(e=>e.code)),message:n("error.sina.errorInMultipleDataSources",[s]),dataSourceErrors:a})}}}var f={__esModule:true};f.ajaxErrorFactory=d;return f});
//# sourceMappingURL=ajaxErrorFactory.js.map