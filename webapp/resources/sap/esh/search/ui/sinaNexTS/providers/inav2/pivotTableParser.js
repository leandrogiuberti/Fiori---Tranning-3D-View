/*!
 * SAPUI5
 * Copyright (c) 2025 SAP SE or an SAP affiliate company. All rights reserved.
 * 
 */
sap.ui.define(["../../core/core"],function(e){"use strict";class t{resultSet;constructor(e){this.resultSet=e.resultSet}parseNamedValue(e){let t;let s;let r;for(const n in e){switch(n){case"Name":s=e[n];break;case"Value":t=e[n];break;default:if(!r){r={}}r[n]=e[n]}}if(r){r.Value=t;return{name:s,value:r}}return{name:s,value:t}}formatItem(e){let t;if(e.NamedValues){t=e.NamedValues}if(!t){return e}const s={};for(let e=0;e<t.length;++e){const r=t[e];const n=this.parseNamedValue(r);s[n.name]=this.formatItem(n.value)}return s}formatItems(t){const s={};for(let r=0;r<t.length;++r){const n=t[r];const l=this.formatItem(n);e.extend(s,l)}return s}parse(){if(!this.resultSet.Grids||!this.resultSet.Grids[0]||!this.resultSet.Grids[0].Axes){return{cells:[],axes:[]}}this.enhance(this.resultSet);const e=this.resultSet.Grids[0];if(e.Cells.length>0){return this.parseWithCells(e)}return this.parseWithoutCells(e)}parseWithCells(t){const s={axes:[],cells:[]};for(let r=0;r<t.Cells.length;r++){const n=t.Cells[r];const l=[];for(let e=0;e<n.Index.length;e++){const s=n.Index[e];const r=t.Axes[e];const o=this.resolve(r,s);l.push(...o)}const o=e.extend({},n);delete o.Index;l.push(o);s.cells.push(this.formatItems(l))}return s}parseWithoutCells(e){const t={axes:[],cells:[]};for(let s=0;s<e.Axes.length;++s){const r=e.Axes[s];const n=[];t.axes.push(n);for(let e=0;e<r.Tuples.length;++e){const t=this.resolve(r,e);n.push(this.formatItems(t))}}return t}resolve(e,t){const s=[];if(e.Tuples.length===0){return s}const r=e.Tuples[t];for(let t=0;t<r.length;++t){const n=r[t];const l=e.Dimensions[t].ItemList.Items[n];s.push(l)}return s}enhance(e){const t={};for(let s=0;s<e.ItemLists.length;++s){const r=e.ItemLists[s];t[r.Name]=r}for(let s=0;s<e.Grids.length;++s){const r=e.Grids[s];for(let e=0;e<r.Axes.length;++e){const s=r.Axes[e];for(let e=0;e<s.Dimensions.length;++e){const r=s.Dimensions[e];r.ItemList=t[r.ItemListName]}}}}}function s(e){const s=new t({resultSet:e});return s.parse()}var r={__esModule:true};r.ResultSetParser=t;r.parse=s;return r});
//# sourceMappingURL=pivotTableParser.js.map