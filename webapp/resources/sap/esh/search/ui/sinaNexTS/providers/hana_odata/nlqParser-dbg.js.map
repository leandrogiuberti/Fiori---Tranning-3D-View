{"version":3,"file":"nlqParser-dbg.js","names":["sap","ui","define","____sina_i18n","getText","parseNlqInfo","sina","nlqInfos","success","filterDescription","filter","nlqInfo","ai","length","filterDescriptionsList","natural_language","dataSource","getDataSource","Name","push","label","join","__exports","__esModule"],"sources":["nlqParser.ts"],"sourcesContent":["/*!\n * SAPUI5\n * Copyright (c) 2025 SAP SE or an SAP affiliate company. All rights reserved.\n * \n */\nimport { NlqResult } from \"../../sina/NlqResult\";\nimport { Sina } from \"../../sina/Sina\";\nimport { HANAOdataSearchResponseDataSourceNlqInfo } from \"./Provider\";\nimport { getText } from \"../../sina/i18n\";\n\nexport function parseNlqInfo(\n    sina: Sina,\n    nlqInfos: Array<HANAOdataSearchResponseDataSourceNlqInfo>\n): NlqResult {\n    // check for nlq infos\n    if (!nlqInfos) {\n        return { success: false, filterDescription: \"\" };\n    }\n    // filter for nql infos with ai activated\n    nlqInfos = nlqInfos.filter((nlqInfo) => nlqInfo.ai);\n    if (nlqInfos.length === 0) {\n        return { success: false, filterDescription: \"\" };\n    }\n    // assemble list of filter descriptions\n    const filterDescriptionsList = [];\n    for (const nlqInfo of nlqInfos) {\n        if (!nlqInfo.filter.natural_language) {\n            continue;\n        }\n        if (nlqInfos.length > 1) {\n            const dataSource = sina.getDataSource(nlqInfo.Name);\n            filterDescriptionsList.push(\n                getText(\"nlqDataSourceAndFilterDescription\", [\n                    dataSource ? dataSource.label : nlqInfo.Name,\n                    nlqInfo.filter.natural_language,\n                ])\n            );\n        } else {\n            filterDescriptionsList.push(nlqInfo.filter.natural_language);\n        }\n    }\n    // assemble filter description form filter descriptions list\n    let filterDescription = \"\";\n    if (filterDescriptionsList.length > 0) {\n        filterDescription = \"<code>\" + filterDescriptionsList.join(\"<br/>\") + \"</code>\";\n    }\n    // return nlq result\n    return {\n        success: true,\n        filterDescription: filterDescription,\n    };\n}\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AAJAA,GAAA,CAAAC,EAAA,CAAAC,MAAA,gCAAAC,aAAA;EAAA;;EAAA,MAQSC,OAAO,GAAAD,aAAA;EAET,SAASE,YAAYA,CACxBC,IAAU,EACVC,QAAyD,EAChD;IACT;IACA,IAAI,CAACA,QAAQ,EAAE;MACX,OAAO;QAAEC,OAAO,EAAE,KAAK;QAAEC,iBAAiB,EAAE;MAAG,CAAC;IACpD;IACA;IACAF,QAAQ,GAAGA,QAAQ,CAACG,MAAM,CAAEC,OAAO,IAAKA,OAAO,CAACC,EAAE,CAAC;IACnD,IAAIL,QAAQ,CAACM,MAAM,KAAK,CAAC,EAAE;MACvB,OAAO;QAAEL,OAAO,EAAE,KAAK;QAAEC,iBAAiB,EAAE;MAAG,CAAC;IACpD;IACA;IACA,MAAMK,sBAAsB,GAAG,EAAE;IACjC,KAAK,MAAMH,OAAO,IAAIJ,QAAQ,EAAE;MAC5B,IAAI,CAACI,OAAO,CAACD,MAAM,CAACK,gBAAgB,EAAE;QAClC;MACJ;MACA,IAAIR,QAAQ,CAACM,MAAM,GAAG,CAAC,EAAE;QACrB,MAAMG,UAAU,GAAGV,IAAI,CAACW,aAAa,CAACN,OAAO,CAACO,IAAI,CAAC;QACnDJ,sBAAsB,CAACK,IAAI,CACvBf,OAAO,CAAC,mCAAmC,EAAE,CACzCY,UAAU,GAAGA,UAAU,CAACI,KAAK,GAAGT,OAAO,CAACO,IAAI,EAC5CP,OAAO,CAACD,MAAM,CAACK,gBAAgB,CAClC,CACL,CAAC;MACL,CAAC,MAAM;QACHD,sBAAsB,CAACK,IAAI,CAACR,OAAO,CAACD,MAAM,CAACK,gBAAgB,CAAC;MAChE;IACJ;IACA;IACA,IAAIN,iBAAiB,GAAG,EAAE;IAC1B,IAAIK,sBAAsB,CAACD,MAAM,GAAG,CAAC,EAAE;MACnCJ,iBAAiB,GAAG,QAAQ,GAAGK,sBAAsB,CAACO,IAAI,CAAC,OAAO,CAAC,GAAG,SAAS;IACnF;IACA;IACA,OAAO;MACHb,OAAO,EAAE,IAAI;MACbC,iBAAiB,EAAEA;IACvB,CAAC;EACL;EAAC,IAAAa,SAAA;IAAAC,UAAA;EAAA;EAAAD,SAAA,CAAAjB,YAAA,GAAAA,YAAA;EAAA,OAAAiB,SAAA;AAAA","ignoreList":[]}