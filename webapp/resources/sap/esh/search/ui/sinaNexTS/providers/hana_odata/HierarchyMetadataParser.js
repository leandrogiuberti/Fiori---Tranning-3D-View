/*!
 * SAPUI5
 * Copyright (c) 2025 SAP SE or an SAP affiliate company. All rights reserved.
 * 
 */
sap.ui.define(["../../sina/HierarchyDisplayType"],function(e){"use strict";const t=e["HierarchyDisplayType"];class i{jQuery;constructor(jQuery){this.jQuery=jQuery}parse(e,t){const i=this;const r={};i.jQuery(t).find(">Collection").each(function(){i.jQuery(this).find(">Record").each(function(){const t=i.parseRecord(e,this);r[t.attributeName]=t})});return r}parseRecord(e,i){const r={name:"",attributeName:"",displayType:t.DynamicHierarchyFacet,isHierarchyDefinition:false,parentAttributeName:"",childAttributeName:""};const a=this;a.jQuery(i).find(">PropertyValue").each(function(){switch(a.jQuery(this).attr("Property")){case"Definition":r.name=a.jQuery(this).attr("String");break;case"Name":r.attributeName=a.jQuery(this).attr("String");break;case"displayType":switch(a.jQuery(this).attr("String")){case"TREE":r.displayType=t.StaticHierarchyFacet;break;case"FLAT":r.displayType=t.HierarchyResultView;break}break;case"Recurse":Object.assign(r,a.parseRecurse(this))}});r.isHierarchyDefinition=a.calculateIsHierarchyDefinition(e,r.name);if(r.isHierarchyDefinition){delete r.displayType}return r}calculateIsHierarchyDefinition(e,t){if(e.endsWith("Type")){e=e.slice(0,-4)}t=t.replace(/[.:]/g,"");return e===t}parseRecurse(e){const t=this;const i={parentAttributeName:"",childAttributeName:""};t.jQuery(e).find("PropertyValue").each(function(){switch(t.jQuery(this).attr("Property")){case"Parent":t.jQuery(this).find("Collection").each(function(){i.parentAttributeName=t.parseCollection(this)});break;case"Child":t.jQuery(this).find(">Collection").each(function(){i.childAttributeName=t.parseCollection(this)})}});return i}parseCollection(e){const t=this;let i;t.jQuery(e).find(">PropertyPath").each(function(){i=t.jQuery(this).text()});return i}}var r={__esModule:true};r.HierarchyMetadataParser=i;return r});
//# sourceMappingURL=HierarchyMetadataParser.js.map