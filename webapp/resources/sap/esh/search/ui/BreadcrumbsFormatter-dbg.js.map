{"version":3,"file":"BreadcrumbsFormatter-dbg.js","names":["sap","ui","define","___sinaNexTS_sina_HierarchyDisplayType","HierarchyDisplayType","Formatter","model","constructor","formatNodePaths","searchResultSet","path","_selectNodePath","formatHierarchyAttribute","name","paths","hierarchyNodePaths","Array","isArray","length","i","attributeName","attrMetadata","query","getDataSource","attributesMetadata","find","attributeMetadata","id","isHierarchy","hierarchyDisplayType","HierarchyResultView","StaticHierarchyFacet","__exports","__esModule"],"sources":["BreadcrumbsFormatter.ts"],"sourcesContent":["/*!\n * SAPUI5\n * Copyright (c) 2025 SAP SE or an SAP affiliate company. All rights reserved.\n * \n */\nimport SearchModel from \"./SearchModel\";\nimport { AttributeMetadata } from \"./sinaNexTS/sina/AttributeMetadata\";\nimport { HierarchyDisplayType } from \"./sinaNexTS/sina/HierarchyDisplayType\";\nimport { HierarchyNode } from \"./sinaNexTS/sina/HierarchyNode\";\nimport { HierarchyNodePath } from \"./sinaNexTS/sina/HierarchyNodePath\";\nimport { SearchResultSet } from \"./sinaNexTS/sina/SearchResultSet\";\n\nexport class Formatter {\n    model: SearchModel;\n    constructor(model: SearchModel) {\n        this.model = model;\n    }\n    formatNodePaths(searchResultSet: SearchResultSet): Array<HierarchyNode> {\n        if (searchResultSet) {\n            const path = this._selectNodePath(searchResultSet);\n            if (path) {\n                return path.path;\n            }\n        }\n        return [];\n    }\n\n    formatHierarchyAttribute(searchResultSet: SearchResultSet): string {\n        if (searchResultSet) {\n            const path = this._selectNodePath(searchResultSet);\n            if (path) {\n                return path.name;\n            }\n        }\n        return \"\";\n    }\n\n    _selectNodePath(searchResultSet: SearchResultSet): HierarchyNodePath {\n        const paths = searchResultSet.hierarchyNodePaths;\n        if (paths && Array.isArray(paths) && paths.length > 0) {\n            for (let i = 0; i < paths.length; i++) {\n                const path = paths[i];\n                const attributeName = path.name;\n                if (path && Array.isArray(path.path) && attributeName) {\n                    const attrMetadata = searchResultSet.query\n                        .getDataSource()\n                        ?.attributesMetadata?.find(\n                            (attributeMetadata) => attributeMetadata.id === attributeName\n                        ) as AttributeMetadata | undefined;\n                    if (\n                        attrMetadata &&\n                        attrMetadata.isHierarchy === true &&\n                        (attrMetadata.hierarchyDisplayType === HierarchyDisplayType.HierarchyResultView ||\n                            attrMetadata.hierarchyDisplayType === HierarchyDisplayType.StaticHierarchyFacet)\n                    ) {\n                        return path;\n                    }\n                }\n            }\n        }\n        return null;\n    }\n}\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AAJAA,GAAA,CAAAC,EAAA,CAAAC,MAAA,sDAAAC,sCAAA;EAAA;;EAAA,MAOSC,oBAAoB,GAAAD,sCAAA;EAKtB,MAAME,SAAS,CAAC;IACnBC,KAAK;IACLC,WAAWA,CAACD,KAAkB,EAAE;MAC5B,IAAI,CAACA,KAAK,GAAGA,KAAK;IACtB;IACAE,eAAeA,CAACC,eAAgC,EAAwB;MACpE,IAAIA,eAAe,EAAE;QACjB,MAAMC,IAAI,GAAG,IAAI,CAACC,eAAe,CAACF,eAAe,CAAC;QAClD,IAAIC,IAAI,EAAE;UACN,OAAOA,IAAI,CAACA,IAAI;QACpB;MACJ;MACA,OAAO,EAAE;IACb;IAEAE,wBAAwBA,CAACH,eAAgC,EAAU;MAC/D,IAAIA,eAAe,EAAE;QACjB,MAAMC,IAAI,GAAG,IAAI,CAACC,eAAe,CAACF,eAAe,CAAC;QAClD,IAAIC,IAAI,EAAE;UACN,OAAOA,IAAI,CAACG,IAAI;QACpB;MACJ;MACA,OAAO,EAAE;IACb;IAEAF,eAAeA,CAACF,eAAgC,EAAqB;MACjE,MAAMK,KAAK,GAAGL,eAAe,CAACM,kBAAkB;MAChD,IAAID,KAAK,IAAIE,KAAK,CAACC,OAAO,CAACH,KAAK,CAAC,IAAIA,KAAK,CAACI,MAAM,GAAG,CAAC,EAAE;QACnD,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGL,KAAK,CAACI,MAAM,EAAEC,CAAC,EAAE,EAAE;UACnC,MAAMT,IAAI,GAAGI,KAAK,CAACK,CAAC,CAAC;UACrB,MAAMC,aAAa,GAAGV,IAAI,CAACG,IAAI;UAC/B,IAAIH,IAAI,IAAIM,KAAK,CAACC,OAAO,CAACP,IAAI,CAACA,IAAI,CAAC,IAAIU,aAAa,EAAE;YACnD,MAAMC,YAAY,GAAGZ,eAAe,CAACa,KAAK,CACrCC,aAAa,CAAC,CAAC,EACdC,kBAAkB,EAAEC,IAAI,CACrBC,iBAAiB,IAAKA,iBAAiB,CAACC,EAAE,KAAKP,aACpD,CAAkC;YACtC,IACIC,YAAY,IACZA,YAAY,CAACO,WAAW,KAAK,IAAI,KAChCP,YAAY,CAACQ,oBAAoB,KAAKzB,oBAAoB,CAAC0B,mBAAmB,IAC3ET,YAAY,CAACQ,oBAAoB,KAAKzB,oBAAoB,CAAC2B,oBAAoB,CAAC,EACtF;cACE,OAAOrB,IAAI;YACf;UACJ;QACJ;MACJ;MACA,OAAO,IAAI;IACf;EACJ;EAAC,IAAAsB,SAAA;IAAAC,UAAA;EAAA;EAAAD,SAAA,CAAA3B,SAAA,GAAAA,SAAA;EAAA,OAAA2B,SAAA;AAAA","ignoreList":[]}