{"version":3,"file":"ResultViewsAssembler-dbg.js","names":["sap","ui","define","__SearchResultTable","InvisibleText","__SearchResultList","__i18n","sap_m_library","__SearchResultGrid","GridContainerSettings","__errors","VerticalLayout","GridContainer","___eventlogging_UserEvents","GridContainerItemLayoutData","Text","Button","FlexBox","CustomListItem","___controls_SearchTileHighlighter","__CustomSearchResultListItem","__SearchResultListItem","GenericTile","TileContent","Element","___SelectionMode","__UIEvents","EventBus","_interopRequireDefault","obj","__esModule","default","SearchResultTable","SearchResultList","i18n","ButtonType","FlexJustifyContent","ListMode","ListType","SearchResultGrid","errors","UserEventType","Highlighter","CustomSearchResultListItem","SearchResultListItem","SelectionMode","UIEvents","ResultViewsAssembler","compositeControl","constructor","assembleResultView","idPrefix","searchResultList","assembleSearchResultList","searchResultTable","assembleSearchResultTable","searchResultGrid","assembleSearchResultGrid","appSearchResult","assembleAppSearch","showMoreFooter","assembleShowMoreFooter","resultView","countBreadcrumbsHiddenElement","assembleCountBreadcrumbsHiddenElement","text","parts","path","formatter","count","getText","toString","oModel","getModelInternal","resultTable","assembleTable","addEventDelegate","onAfterRendering","controlDom","getDomRef","rows","querySelectorAll","row","Array","from","rowId","getAttribute","tableRow","getElementById","currentAriaLabelledBy","getAriaLabelledBy","indexOf","getId","addAriaLabelledBy","resultList","mode","None","width","showNoData","visible","resultViewType","bindItems","factory","oContext","assembleListItem","resultGrid","config","customGridView","err","oError","ConfigurationExitError","applicationComponent","gridContainerSettings","rowSize","columnSize","gap","layout","snapToRow","bUseExtendedChangeDetection","bindProperty","addStyleClass","gridContainer","isAppCategory","isUserCategoryAppSearchOnlyWithoutBOs","items","id","context","item","getObject","visualization","visualizationService","uShellVisualizationInstantiationService","visualizationControl","instantiateVisualization","attachPress","eventLogger","logEvent","type","TILE_NAVIGATE","tileTitle","title","targetUrl","targetURL","highlightTile","setActive","setLayoutData","getLayout","button","Transparent","appCount","appResults","length","press","newTop","getTop","pageSize","setProperty","setTop","SHOW_MORE","verticalLayout","content","oEvent","oInnerControl","getAggregation","aControls","findAggregatedObjects","oControl","isA","getComponentInstance","tile","tileHighlighter","setHighlightTerms","getModel","getProperty","highlight","oCurrentModel","container","boCount","boResults","justifyContent","Center","addItem","resultItemPath","oData","selected","appResultListItem","assembleAppContainerResultListItem","assembleResultListItem","dataSourceConfig","getDataSourceConfig","dataSource","searchResultListItemSettings","isTitleHighlighted","titleDescription","isTitleDescriptionHighlighted","titleNavigation","imageUrl","imageFormat","imageNavigation","geoJson","attributes","navigationObjects","selectionEnabled","customItemStyleClass","expanded","positionInList","resultSetId","layoutCache","titleIconUrl","titleInfoIconUrl","titleInfoIconTooltip","itemContent","searchResultListItemControl","searchResultListItemContentControl","setCountBreadcrumbsHiddenElement","listItem","resultviewMasterDetailMode","resultviewSelectionMode","newType","pressFunction","notifySubscribers","ESHShowResultDetail","getInstance","publish","Navigation","bind","OneItem","Active","detachPress","Inactive","setParentListItem","appItemContainerLayout","appContainerId","tileWidth","tileMargin","tileWidthWithMargin","containerPaddingLeft","fullItems","getItems","lastItem","clientWidth","maxWidth","hasStyleClass","slice","maxItems","Math","floor","i","appContainerShowMoreId","showMoreTile","tileContent","setDataSource","appDataSource","domRef","removeAttribute","setAttribute"],"sources":["ResultViewsAssembler.ts"],"sourcesContent":["/*!\n * SAPUI5\n * Copyright (c) 2025 SAP SE or an SAP affiliate company. All rights reserved.\n * \n */\nimport Control from \"sap/ui/core/Control\";\nimport SearchCompositeControl from \"../SearchCompositeControl\";\nimport SearchResultTable from \"../controls/resultview/SearchResultTable\";\nimport ListItemBase from \"sap/m/ListItemBase\";\nimport InvisibleText from \"sap/ui/core/InvisibleText\";\nimport SearchModel from \"../SearchModel\";\nimport SearchResultList from \"../controls/resultview/SearchResultList\";\nimport i18n from \"../i18n\";\nimport { ButtonType, FlexJustifyContent, ListMode, ListType } from \"sap/m/library\";\nimport SearchResultGrid from \"../controls/resultview/SearchResultGrid\";\nimport GridContainerSettings from \"sap/f/GridContainerSettings\";\nimport errors from \"../error/errors\";\nimport VerticalLayout from \"sap/ui/layout/VerticalLayout\";\nimport GridContainer from \"sap/f/GridContainer\";\nimport { ESHApp } from \"../appsearch/CatalogSearch\";\nimport { UserEventType } from \"../eventlogging/UserEvents\";\nimport GridContainerItemLayoutData from \"sap/f/GridContainerItemLayoutData\";\nimport Text from \"sap/m/Text\";\nimport Button from \"sap/m/Button\";\nimport FlexBox from \"sap/m/FlexBox\";\nimport CustomListItem from \"sap/m/CustomListItem\";\nimport { ListItem } from \"../SearchModelTypes\";\nimport { Highlighter } from \"../controls/SearchTileHighlighter\";\nimport CustomSearchResultListItem from \"../controls/resultview/CustomSearchResultListItem\";\nimport SearchResultListItem from \"../controls/resultview/SearchResultListItem\";\nimport GenericTile from \"sap/m/GenericTile\";\nimport TileContent from \"sap/m/TileContent\";\nimport Element from \"sap/ui/core/Element\";\nimport { SelectionMode } from \"../SelectionMode\";\nimport UIEvents from \"../UIEvents\";\nimport EventBus from \"sap/ui/core/EventBus\";\n\nexport default class ResultViewsAssembler {\n    compositeControl: SearchCompositeControl;\n\n    constructor(compositeControl: SearchCompositeControl) {\n        this.compositeControl = compositeControl;\n    }\n\n    /* private _getPhoneSize(): number {\n        return 767;\n    } */\n\n    assembleResultView(idPrefix: string): Array<Control> {\n        // list\n        this.compositeControl.searchResultList = this.assembleSearchResultList(idPrefix);\n\n        // table\n        this.compositeControl.searchResultTable = this.assembleSearchResultTable(idPrefix);\n\n        // grid\n        this.compositeControl.searchResultGrid = this.assembleSearchResultGrid(idPrefix);\n\n        // app search result\n        this.compositeControl.appSearchResult = this.assembleAppSearch(idPrefix);\n\n        // show more footer\n        this.compositeControl.showMoreFooter = this.assembleShowMoreFooter();\n\n        const resultView = [\n            this.compositeControl.searchResultList,\n            this.compositeControl.searchResultTable,\n            this.compositeControl.searchResultGrid,\n            this.compositeControl.appSearchResult,\n            this.compositeControl.showMoreFooter,\n            this.compositeControl.countBreadcrumbsHiddenElement,\n        ];\n        return resultView;\n    }\n\n    assembleCountBreadcrumbsHiddenElement(): InvisibleText {\n        const countBreadcrumbsHiddenElement = new InvisibleText(\"\", {\n            text: {\n                parts: [{ path: \"/count\" }],\n                formatter: (count: number) => {\n                    if (typeof count !== \"number\") {\n                        return \"\";\n                    }\n                    return i18n.getText(\"results_count_for_screenreaders\", [count.toString()]);\n                },\n            },\n        });\n        return countBreadcrumbsHiddenElement;\n    }\n\n    assembleSearchResultTable(idPrefix: string): SearchResultTable {\n        const oModel = this.compositeControl.getModelInternal() as SearchModel;\n        const resultTable = new SearchResultTable(`${idPrefix}-ushell-search-result-table`, {});\n        resultTable.assembleTable(oModel);\n        // add aria label to table header row\n        // eslint-disable-next-line @typescript-eslint/no-this-alias\n        resultTable.addEventDelegate({\n            onAfterRendering: (): void => {\n                const controlDom = this.compositeControl.getDomRef() as HTMLElement;\n                if (!controlDom) {\n                    return;\n                }\n                const rows = controlDom.querySelectorAll(\"table tbody tr\");\n                for (const row of Array.from(rows)) {\n                    const rowId = row.getAttribute(\"id\");\n                    const tableRow = Element.getElementById(rowId) as unknown as ListItemBase;\n                    if (tableRow) {\n                        const currentAriaLabelledBy = tableRow.getAriaLabelledBy();\n                        if (\n                            currentAriaLabelledBy.indexOf(\n                                this.compositeControl.countBreadcrumbsHiddenElement.getId()\n                            ) === -1\n                        ) {\n                            tableRow.addAriaLabelledBy(this.compositeControl.countBreadcrumbsHiddenElement);\n                        }\n                    }\n                    break; // stop after first line for now\n                }\n            },\n        });\n        return resultTable;\n    }\n\n    assembleSearchResultList(idPrefix: string): SearchResultList {\n        const resultList = new SearchResultList(idPrefix + \"-ushell-search-result-list\", {\n            mode: ListMode.None,\n            width: \"auto\",\n            showNoData: false,\n            visible: {\n                parts: [{ path: \"/resultViewType\" }, { path: \"/count\" }],\n                formatter: (resultViewType, count) => {\n                    return resultViewType === \"searchResultList\" && count !== 0;\n                },\n            },\n        });\n        resultList.bindItems({\n            path: \"/results\",\n            factory: (path: string, oContext) => {\n                return this.assembleListItem(path, oContext);\n            },\n        });\n\n        return resultList;\n    }\n\n    assembleSearchResultGrid(idPrefix: string): SearchResultGrid {\n        const oModel = this.compositeControl.getModelInternal() as SearchModel;\n        let resultGrid;\n        if (typeof oModel.config.customGridView === \"function\") {\n            try {\n                resultGrid = oModel.config.customGridView();\n            } catch (err) {\n                const oError = new errors.ConfigurationExitError(\n                    \"customGridView\",\n                    oModel.config.applicationComponent,\n                    err\n                );\n                throw oError;\n            }\n        } else {\n            const gridContainerSettings = new GridContainerSettings(\"\", {\n                rowSize: \"11rem\",\n                columnSize: \"11rem\",\n                gap: \"0.5rem\",\n            });\n            resultGrid = new SearchResultGrid(idPrefix + \"-ushell-search-result-grid\", {\n                layout: gridContainerSettings,\n                snapToRow: true,\n            });\n        }\n        resultGrid.bUseExtendedChangeDetection = false; // workaround to avoid circular structure issue for data binding\n        resultGrid.bindProperty(\"visible\", {\n            parts: [\"/resultViewType\", \"/count\"],\n            formatter: (resultViewType: string, count: number) => {\n                return resultViewType === \"searchResultGrid\" && count !== 0;\n            },\n        });\n        resultGrid.addStyleClass(\"sapUshellSearchGrid\");\n        return resultGrid;\n    }\n\n    assembleAppSearch(idPrefix: string): VerticalLayout {\n        const gridContainerSettings = new GridContainerSettings(\"\", {\n            rowSize: \"5.5rem\",\n            columnSize: \"5.5rem\",\n            gap: \"0.25rem\",\n        });\n        const gridContainer = new GridContainer(idPrefix + \"-ushell-search-result-app\", {\n            layout: gridContainerSettings,\n            snapToRow: true,\n            visible: {\n                parts: [{ path: \"/count\" }],\n                formatter: (count) => {\n                    const oModel = this.compositeControl.getModelInternal() as SearchModel;\n                    return (\n                        (oModel.isAppCategory() || oModel.isUserCategoryAppSearchOnlyWithoutBOs()) &&\n                        count !== 0\n                    );\n                },\n            },\n            items: {\n                path: \"/appResults\",\n                factory: (id, context) => {\n                    const oModel = this.compositeControl.getModelInternal() as SearchModel;\n                    if (oModel.isAppCategory() || oModel.isUserCategoryAppSearchOnlyWithoutBOs()) {\n                        const item = context.getObject() as ESHApp;\n                        const visualization = item.visualization;\n                        const visualizationService = oModel.uShellVisualizationInstantiationService;\n                        const visualizationControl =\n                            visualizationService.instantiateVisualization(visualization);\n                        visualizationControl.attachPress(() => {\n                            oModel.eventLogger.logEvent({\n                                type: UserEventType.TILE_NAVIGATE,\n                                tileTitle: visualization.title,\n                                targetUrl: visualization.targetURL,\n                            });\n                        });\n                        visualizationControl.addEventDelegate({\n                            onAfterRendering: this.highlightTile,\n                        });\n                        visualizationControl.setActive(false, true);\n                        visualizationControl.setLayoutData(\n                            new GridContainerItemLayoutData(visualizationControl.getLayout())\n                        );\n                        return visualizationControl;\n                    }\n                    // bind dummy view, prevent douplicated binding\n                    return new Text(\"\", { text: \"\" });\n                },\n            },\n        });\n        gridContainer.addStyleClass(\"sapUshellSearchGridContainer\");\n        const button = new Button({\n            text: \"{i18n>showMore}\",\n            type: ButtonType.Transparent,\n            visible: {\n                parts: [{ path: \"/appCount\" }, { path: \"/appResults\" }],\n                formatter: (appCount, appResults) => {\n                    const oModel = this.compositeControl.getModelInternal() as SearchModel;\n                    return (\n                        (oModel.isAppCategory() || oModel.isUserCategoryAppSearchOnlyWithoutBOs()) &&\n                        appResults.length < appCount\n                    );\n                },\n            },\n            press: () => {\n                const oModel = this.compositeControl.getModelInternal() as SearchModel;\n                const newTop = oModel.getTop() + oModel.pageSize;\n                oModel.setProperty(\"/focusIndex\", oModel.getTop());\n                oModel.setTop(newTop);\n                oModel.eventLogger.logEvent({\n                    type: UserEventType.SHOW_MORE,\n                });\n            },\n        });\n        button.addStyleClass(\"sapUshellResultListMoreFooter\");\n\n        const verticalLayout = new VerticalLayout(\"\", {\n            width: \"100%\",\n            visible: {\n                parts: [{ path: \"/count\" }],\n                formatter: (count) => {\n                    const oModel = this.compositeControl.getModelInternal() as SearchModel;\n                    return (\n                        (oModel.isAppCategory() || oModel.isUserCategoryAppSearchOnlyWithoutBOs()) &&\n                        count !== 0\n                    );\n                },\n            },\n            content: [gridContainer, button],\n        });\n        verticalLayout.addStyleClass(\"sapUshellResultApps\");\n\n        return verticalLayout;\n    }\n\n    highlightTile(oEvent: Event): void {\n        const oInnerControl = oEvent[\"srcControl\"]?.getAggregation(\"content\"); // ToDo\n        if (oInnerControl) {\n            let aControls = oInnerControl.findAggregatedObjects(true, (oControl) => {\n                return oControl.isA(\"sap.m.GenericTile\") || oControl.isA(\"sap.f.Card\");\n            });\n            if (aControls.length === 0 && oInnerControl.getComponentInstance) {\n                aControls = oInnerControl.getComponentInstance().findAggregatedObjects(true, (oControl) => {\n                    return oControl.isA(\"sap.m.GenericTile\") || oControl.isA(\"sap.f.Card\");\n                });\n            }\n            if (aControls.length > 0) {\n                const tile = aControls[0];\n                const tileHighlighter = new Highlighter();\n                tileHighlighter.setHighlightTerms(\n                    oEvent[\"srcControl\"]?.getModel().getProperty(\"/uiFilter/searchTerm\")\n                );\n                tileHighlighter.highlight(tile);\n            }\n        }\n    }\n\n    assembleShowMoreFooter(): FlexBox {\n        const button = new Button(this.compositeControl.getId() + \"-resultview-moreFooter-button\", {\n            text: \"{i18n>showMore}\",\n            type: ButtonType.Transparent,\n            press: (): void => {\n                const oCurrentModel = this.compositeControl.getModelInternal() as SearchModel;\n                oCurrentModel.setProperty(\"/focusIndex\", oCurrentModel.getTop());\n                const newTop = oCurrentModel.getTop() + oCurrentModel.pageSize;\n                oCurrentModel.setTop(newTop);\n                oCurrentModel.eventLogger.logEvent({\n                    type: UserEventType.SHOW_MORE,\n                });\n            },\n        });\n        button.addStyleClass(\"sapUshellResultListMoreFooter\");\n        const container = new FlexBox(this.compositeControl.getId() + \"-resultview-moreFooter\", {\n            visible: {\n                parts: [{ path: \"/boCount\" }, { path: \"/boResults\" }],\n                formatter: (boCount: number, boResults: Array<unknown>): boolean => {\n                    return boResults.length < boCount;\n                },\n            },\n            justifyContent: FlexJustifyContent.Center,\n        });\n        container.addStyleClass(\"sapUshellResultListMoreFooterContainer\");\n        container.addItem(button);\n        return container;\n    }\n\n    assembleListItem(resultItemPath: string, oContext): CustomListItem {\n        const oData = oContext.getObject() as ListItem; // ToDo\n        if (oData.type === \"footer\") {\n            return new CustomListItem(`${resultItemPath}-footerItem`, {\n                selected: { path: \"selected\" },\n            }); // return empty list item\n        } else if (oData.type === \"appcontainer\") {\n            this.compositeControl.appResultListItem = this.assembleAppContainerResultListItem(resultItemPath);\n            return this.compositeControl.appResultListItem;\n        }\n        return this.assembleResultListItem(resultItemPath, oData);\n    }\n\n    assembleResultListItem(resultItemPath: string, oData): CustomListItem {\n        const oModel = this.compositeControl.getModelInternal() as SearchModel;\n        const dataSourceConfig = oModel.config.getDataSourceConfig(oData.dataSource);\n\n        const searchResultListItemSettings = {\n            dataSource: oData.dataSource,\n            title: \"{title}\",\n            isTitleHighlighted: { path: \"isTitleHighlighted\" },\n            titleDescription: \"{titleDescription}\",\n            isTitleDescriptionHighlighted: { path: \"isTitleDescriptionHighlighted\" },\n            titleNavigation: { path: \"titleNavigation\" },\n            type: \"{dataSourceName}\",\n            imageUrl: \"{imageUrl}\",\n            imageFormat: \"{imageFormat}\",\n            imageNavigation: { path: \"imageNavigation\" },\n            geoJson: \"{geoJson}\",\n            attributes: { path: \"itemattributes\" },\n            navigationObjects: { path: \"navigationObjects\" },\n            selected: { path: \"selected\" },\n            selectionEnabled: { path: \"selectionEnabled\" },\n            customItemStyleClass: { path: \"customItemStyleClass\" },\n            expanded: { path: \"expanded\" },\n            positionInList: { path: \"positionInList\" },\n            resultSetId: { path: \"resultSetId\" },\n            layoutCache: { path: \"layoutCache\" },\n            titleIconUrl: { path: \"titleIconUrl\" },\n            titleInfoIconUrl: { path: \"titleInfoIconUrl\" },\n            titleInfoIconTooltip: \"{titleInfoIconTooltip}\",\n        };\n\n        let itemContent;\n        if (dataSourceConfig.searchResultListItemControl) {\n            itemContent = new dataSourceConfig.searchResultListItemControl(searchResultListItemSettings);\n        } else if (dataSourceConfig.searchResultListItemContentControl) {\n            searchResultListItemSettings[\"content\"] = // ToDo\n                new dataSourceConfig.searchResultListItemContentControl();\n            itemContent = new CustomSearchResultListItem(\n                `${resultItemPath}--customItemContent`,\n                searchResultListItemSettings\n            );\n        } else {\n            itemContent = new SearchResultListItem(\n                `${resultItemPath}--itemContent`,\n                searchResultListItemSettings\n            );\n        }\n\n        if (itemContent.setCountBreadcrumbsHiddenElement) {\n            itemContent.setCountBreadcrumbsHiddenElement(this.compositeControl.countBreadcrumbsHiddenElement);\n        }\n\n        const listItem = new CustomListItem(`${resultItemPath}--customListItem`, {\n            content: itemContent,\n        });\n        listItem.addStyleClass(\"sapUshellSearchResultListItem\");\n\n        listItem.bindProperty(\"type\", {\n            parts: [\n                { path: \"/config/resultviewMasterDetailMode\" },\n                { path: \"/config/resultviewSelectionMode\" },\n            ],\n            formatter: (resultviewMasterDetailMode: string, resultviewSelectionMode: SelectionMode) => {\n                let newType;\n                const pressFunction = (oEvent): void => {\n                    // notify subscribers\n                    oModel.notifySubscribers(UIEvents.ESHShowResultDetail);\n                    EventBus.getInstance().publish(UIEvents.ESHShowResultDetail, oEvent);\n                };\n                if (resultviewMasterDetailMode) {\n                    newType = ListType.Navigation;\n                    listItem.attachPress(pressFunction.bind(this));\n                } else if (resultviewSelectionMode === SelectionMode.OneItem) {\n                    newType = ListType.Active;\n                    listItem.detachPress(pressFunction);\n                } else {\n                    newType = ListType.Inactive;\n                    listItem.detachPress(pressFunction);\n                }\n\n                // special handling for phone mode, see _setListItemStatusBasedOnWindowSize in SearchResultListItem.ts\n                /* const windowWidth = window.innerWidth;\n                if (\n                    listItem.getContent()[0].getProperty(\"titleNavigation\") &&\n                    windowWidth <= this._getPhoneSize()\n                ) {\n                    newType = ListType.Active;\n                } */\n                return newType;\n            },\n        });\n        if (itemContent.setParentListItem) {\n            itemContent.setParentListItem(listItem);\n        }\n\n        return listItem;\n    }\n\n    assembleAppContainerResultListItem(resultItemPath: string): CustomListItem {\n        const appItemContainerLayout = new GridContainerSettings(\"\", {\n            rowSize: \"5.5rem\",\n            columnSize: \"5.5rem\",\n            gap: \"0.25rem\",\n        });\n        const appContainerId = `${resultItemPath}-appItemContainer`;\n        const container = new GridContainer(appContainerId, {\n            layout: appItemContainerLayout,\n            snapToRow: true,\n            items: {\n                path: \"/appResults\",\n                factory: (id, context) => {\n                    const oModel = this.compositeControl.getModelInternal() as SearchModel;\n                    if (!oModel.isAppCategory()) {\n                        const item = context.getObject() as ESHApp;\n                        const visualization = item.visualization;\n                        const visualizationService = oModel.uShellVisualizationInstantiationService;\n                        const visualizationControl =\n                            visualizationService.instantiateVisualization(visualization);\n                        visualizationControl.attachPress(() => {\n                            const oModel = this.compositeControl.getModelInternal() as SearchModel;\n                            oModel.eventLogger.logEvent({\n                                type: UserEventType.TILE_NAVIGATE,\n                                tileTitle: visualization.title,\n                                targetUrl: visualization.targetURL,\n                            });\n                        });\n                        visualizationControl.addEventDelegate({\n                            onAfterRendering: this.highlightTile,\n                        });\n                        visualizationControl.setActive(false, true);\n                        visualizationControl.setLayoutData(\n                            new GridContainerItemLayoutData(visualizationControl.getLayout())\n                        );\n                        return visualizationControl;\n                    }\n                    // bind dummy view, prevent duplicated binding\n                    // tile can handle only one view\n                    return new Text(id, {\n                        text: \"\",\n                    });\n                },\n            },\n        });\n        container.addStyleClass(\"sapUshellSearchGridContainer\");\n\n        container.addEventDelegate(\n            {\n                onAfterRendering: () => {\n                    const oModel = this.compositeControl.getModelInternal() as SearchModel;\n\n                    const tileWidth = 180;\n                    const tileMargin = 4;\n                    const tileWidthWithMargin = tileWidth + tileMargin;\n                    const containerPaddingLeft = 6;\n\n                    const fullItems = container.getItems();\n                    const appCount = oModel.getProperty(\"/appCount\");\n                    const boCount = oModel.getProperty(\"/boCount\");\n                    const lastItem = fullItems[fullItems.length - 1];\n\n                    // calculate the suitable items for container\n                    if (container.getDomRef().clientWidth === 0) {\n                        return;\n                    }\n                    let maxWidth = container.getDomRef().clientWidth - containerPaddingLeft - tileWidth; // container width - padding left - last show more tile width\n\n                    // after introducing new layout, we should new calculation for showMore button\n                    if (maxWidth < 0) {\n                        if (lastItem.hasStyleClass(\"sapUshellSearchResultListItemAppsShowMore\")) {\n                            const appResults = oModel.getProperty(\"/appResults\");\n                            oModel.setProperty(\"/appResults\", appResults.slice(0, -1));\n                        }\n                        return;\n                    }\n                    if (maxWidth < tileWidth) {\n                        maxWidth = tileWidth;\n                    }\n                    const maxItems = Math.floor(maxWidth / tileWidthWithMargin);\n\n                    if (lastItem.hasStyleClass(\"sapUshellSearchResultListItemAppsShowMore\")) {\n                        return; // already done with cutting and adding show more tile, do not do multipule times\n                    }\n\n                    if (fullItems.length > maxItems + 1) {\n                        // items greater than maxItems+showMore, must be cut\n                        let width = 0,\n                            i = 0;\n                        for (; i < fullItems.length; i++) {\n                            width = width + fullItems[i].getDomRef().clientWidth + tileMargin; // tile width + margin\n                            if (width > maxWidth) {\n                                break;\n                            }\n                        }\n                        const appResults = oModel.getProperty(\"/appResults\");\n                        oModel.setProperty(\"/appResults\", appResults.slice(0, i));\n                    } else if (fullItems.length < maxItems + 1) {\n                        // appCount greater than maxItems, add showMore tile\n                        if (\n                            appCount > maxItems &&\n                            !lastItem.hasStyleClass(\"sapUshellSearchResultListItemAppsShowMore\")\n                        ) {\n                            const appContainerShowMoreId = `${appContainerId}--showMore`;\n                            const showMoreTile = new GenericTile(appContainerShowMoreId, {\n                                tileContent: new TileContent(`${appContainerShowMoreId}--content`, {\n                                    content: new Text(`${appContainerShowMoreId}--content--text`, {\n                                        text: i18n.getText(\"showMoreApps\"),\n                                    }),\n                                }),\n                                press: () => {\n                                    const oModel = this.compositeControl.getModelInternal() as SearchModel;\n                                    oModel.setDataSource(oModel.appDataSource);\n                                },\n                            });\n                            showMoreTile.addStyleClass(\"sapUshellSearchResultListItemAppsShowMore\");\n                            container.addItem(showMoreTile);\n                            // force update showMore button to avoid outdated binding\n                            oModel.setProperty(\"/resultViewType\", \"appSearchResult\");\n                            oModel.setProperty(\"/resultViewType\", \"searchResultList\");\n                            oModel.setProperty(\"/boCount\", 0);\n                            oModel.setProperty(\"/boCount\", boCount);\n                        }\n                    }\n                },\n            },\n            container\n        );\n        const listItem = new CustomListItem(`${this.compositeControl.getId()}-appItem`, {\n            content: container,\n        });\n        listItem.addStyleClass(\"sapUshellSearchResultListItem\");\n        listItem.addStyleClass(\"sapUshellSearchResultListItemApps\");\n\n        listItem.addEventDelegate(\n            {\n                onAfterRendering: function () {\n                    const domRef = listItem.getDomRef() as HTMLElement;\n                    if (domRef) {\n                        domRef.removeAttribute(\"role\");\n                        domRef.setAttribute(\"aria-hidden\", \"true\");\n                    }\n                },\n            },\n            listItem\n        );\n\n        return listItem;\n    }\n}\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AAJAA,GAAA,CAAAC,EAAA,CAAAC,MAAA,gsBAAAC,mBAAA,EAAAC,aAAA,EAAAC,kBAAA,EAAAC,MAAA,EAAAC,aAAA,EAAAC,kBAAA,EAAAC,qBAAA,EAAAC,QAAA,EAAAC,cAAA,EAAAC,aAAA,EAAAC,0BAAA,EAAAC,2BAAA,EAAAC,IAAA,EAAAC,MAAA,EAAAC,OAAA,EAAAC,cAAA,EAAAC,iCAAA,EAAAC,4BAAA,EAAAC,sBAAA,EAAAC,WAAA,EAAAC,WAAA,EAAAC,OAAA,EAAAC,gBAAA,EAAAC,UAAA,EAAAC,QAAA;EAAA;;EAAA,SAAAC,uBAAAC,GAAA;IAAA,OAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,WAAAD,GAAA,CAAAE,OAAA,mBAAAF,GAAA,CAAAE,OAAA,GAAAF,GAAA;EAAA;EAAA,MAOOG,iBAAiB,GAAAJ,sBAAA,CAAAzB,mBAAA;EAAA,MAIjB8B,gBAAgB,GAAAL,sBAAA,CAAAvB,kBAAA;EAAA,MAChB6B,IAAI,GAAAN,sBAAA,CAAAtB,MAAA;EAAA,MACF6B,UAAU,GAAA5B,aAAA;EAAA,MAAE6B,kBAAkB,GAAA7B,aAAA;EAAA,MAAE8B,QAAQ,GAAA9B,aAAA;EAAA,MAAE+B,QAAQ,GAAA/B,aAAA;EAAA,MACpDgC,gBAAgB,GAAAX,sBAAA,CAAApB,kBAAA;EAAA,MAEhBgC,MAAM,GAAAZ,sBAAA,CAAAlB,QAAA;EAAA,MAIJ+B,aAAa,GAAA5B,0BAAA;EAAA,MAOb6B,WAAW,GAAAvB,iCAAA;EAAA,MACbwB,0BAA0B,GAAAf,sBAAA,CAAAR,4BAAA;EAAA,MAC1BwB,oBAAoB,GAAAhB,sBAAA,CAAAP,sBAAA;EAAA,MAIlBwB,aAAa,GAAApB,gBAAA;EAAA,MACfqB,QAAQ,GAAAlB,sBAAA,CAAAF,UAAA;EAGA,MAAMqB,oBAAoB,CAAC;IACtCC,gBAAgB;IAEhBC,WAAWA,CAACD,gBAAwC,EAAE;MAClD,IAAI,CAACA,gBAAgB,GAAGA,gBAAgB;IAC5C;;IAEA;AACJ;AACA;;IAEIE,kBAAkBA,CAACC,QAAgB,EAAkB;MACjD;MACA,IAAI,CAACH,gBAAgB,CAACI,gBAAgB,GAAG,IAAI,CAACC,wBAAwB,CAACF,QAAQ,CAAC;;MAEhF;MACA,IAAI,CAACH,gBAAgB,CAACM,iBAAiB,GAAG,IAAI,CAACC,yBAAyB,CAACJ,QAAQ,CAAC;;MAElF;MACA,IAAI,CAACH,gBAAgB,CAACQ,gBAAgB,GAAG,IAAI,CAACC,wBAAwB,CAACN,QAAQ,CAAC;;MAEhF;MACA,IAAI,CAACH,gBAAgB,CAACU,eAAe,GAAG,IAAI,CAACC,iBAAiB,CAACR,QAAQ,CAAC;;MAExE;MACA,IAAI,CAACH,gBAAgB,CAACY,cAAc,GAAG,IAAI,CAACC,sBAAsB,CAAC,CAAC;MAEpE,MAAMC,UAAU,GAAG,CACf,IAAI,CAACd,gBAAgB,CAACI,gBAAgB,EACtC,IAAI,CAACJ,gBAAgB,CAACM,iBAAiB,EACvC,IAAI,CAACN,gBAAgB,CAACQ,gBAAgB,EACtC,IAAI,CAACR,gBAAgB,CAACU,eAAe,EACrC,IAAI,CAACV,gBAAgB,CAACY,cAAc,EACpC,IAAI,CAACZ,gBAAgB,CAACe,6BAA6B,CACtD;MACD,OAAOD,UAAU;IACrB;IAEAE,qCAAqCA,CAAA,EAAkB;MACnD,MAAMD,6BAA6B,GAAG,IAAI3D,aAAa,CAAC,EAAE,EAAE;QACxD6D,IAAI,EAAE;UACFC,KAAK,EAAE,CAAC;YAAEC,IAAI,EAAE;UAAS,CAAC,CAAC;UAC3BC,SAAS,EAAGC,KAAa,IAAK;YAC1B,IAAI,OAAOA,KAAK,KAAK,QAAQ,EAAE;cAC3B,OAAO,EAAE;YACb;YACA,OAAOnC,IAAI,CAACoC,OAAO,CAAC,iCAAiC,EAAE,CAACD,KAAK,CAACE,QAAQ,CAAC,CAAC,CAAC,CAAC;UAC9E;QACJ;MACJ,CAAC,CAAC;MACF,OAAOR,6BAA6B;IACxC;IAEAR,yBAAyBA,CAACJ,QAAgB,EAAqB;MAC3D,MAAMqB,MAAM,GAAG,IAAI,CAACxB,gBAAgB,CAACyB,gBAAgB,CAAC,CAAgB;MACtE,MAAMC,WAAW,GAAG,IAAI1C,iBAAiB,CAAC,GAAGmB,QAAQ,6BAA6B,EAAE,CAAC,CAAC,CAAC;MACvFuB,WAAW,CAACC,aAAa,CAACH,MAAM,CAAC;MACjC;MACA;MACAE,WAAW,CAACE,gBAAgB,CAAC;QACzBC,gBAAgB,EAAEA,CAAA,KAAY;UAC1B,MAAMC,UAAU,GAAG,IAAI,CAAC9B,gBAAgB,CAAC+B,SAAS,CAAC,CAAgB;UACnE,IAAI,CAACD,UAAU,EAAE;YACb;UACJ;UACA,MAAME,IAAI,GAAGF,UAAU,CAACG,gBAAgB,CAAC,gBAAgB,CAAC;UAC1D,KAAK,MAAMC,GAAG,IAAIC,KAAK,CAACC,IAAI,CAACJ,IAAI,CAAC,EAAE;YAChC,MAAMK,KAAK,GAAGH,GAAG,CAACI,YAAY,CAAC,IAAI,CAAC;YACpC,MAAMC,QAAQ,GAAG/D,OAAO,CAACgE,cAAc,CAACH,KAAK,CAA4B;YACzE,IAAIE,QAAQ,EAAE;cACV,MAAME,qBAAqB,GAAGF,QAAQ,CAACG,iBAAiB,CAAC,CAAC;cAC1D,IACID,qBAAqB,CAACE,OAAO,CACzB,IAAI,CAAC3C,gBAAgB,CAACe,6BAA6B,CAAC6B,KAAK,CAAC,CAC9D,CAAC,KAAK,CAAC,CAAC,EACV;gBACEL,QAAQ,CAACM,iBAAiB,CAAC,IAAI,CAAC7C,gBAAgB,CAACe,6BAA6B,CAAC;cACnF;YACJ;YACA,MAAM,CAAC;UACX;QACJ;MACJ,CAAC,CAAC;MACF,OAAOW,WAAW;IACtB;IAEArB,wBAAwBA,CAACF,QAAgB,EAAoB;MACzD,MAAM2C,UAAU,GAAG,IAAI7D,gBAAgB,CAACkB,QAAQ,GAAG,4BAA4B,EAAE;QAC7E4C,IAAI,EAAE1D,QAAQ,CAAC2D,IAAI;QACnBC,KAAK,EAAE,MAAM;QACbC,UAAU,EAAE,KAAK;QACjBC,OAAO,EAAE;UACLjC,KAAK,EAAE,CAAC;YAAEC,IAAI,EAAE;UAAkB,CAAC,EAAE;YAAEA,IAAI,EAAE;UAAS,CAAC,CAAC;UACxDC,SAAS,EAAEA,CAACgC,cAAc,EAAE/B,KAAK,KAAK;YAClC,OAAO+B,cAAc,KAAK,kBAAkB,IAAI/B,KAAK,KAAK,CAAC;UAC/D;QACJ;MACJ,CAAC,CAAC;MACFyB,UAAU,CAACO,SAAS,CAAC;QACjBlC,IAAI,EAAE,UAAU;QAChBmC,OAAO,EAAEA,CAACnC,IAAY,EAAEoC,QAAQ,KAAK;UACjC,OAAO,IAAI,CAACC,gBAAgB,CAACrC,IAAI,EAAEoC,QAAQ,CAAC;QAChD;MACJ,CAAC,CAAC;MAEF,OAAOT,UAAU;IACrB;IAEArC,wBAAwBA,CAACN,QAAgB,EAAoB;MACzD,MAAMqB,MAAM,GAAG,IAAI,CAACxB,gBAAgB,CAACyB,gBAAgB,CAAC,CAAgB;MACtE,IAAIgC,UAAU;MACd,IAAI,OAAOjC,MAAM,CAACkC,MAAM,CAACC,cAAc,KAAK,UAAU,EAAE;QACpD,IAAI;UACAF,UAAU,GAAGjC,MAAM,CAACkC,MAAM,CAACC,cAAc,CAAC,CAAC;QAC/C,CAAC,CAAC,OAAOC,GAAG,EAAE;UACV,MAAMC,MAAM,GAAG,IAAIrE,MAAM,CAACsE,sBAAsB,CAC5C,gBAAgB,EAChBtC,MAAM,CAACkC,MAAM,CAACK,oBAAoB,EAClCH,GACJ,CAAC;UACD,MAAMC,MAAM;QAChB;MACJ,CAAC,MAAM;QACH,MAAMG,qBAAqB,GAAG,IAAIvG,qBAAqB,CAAC,EAAE,EAAE;UACxDwG,OAAO,EAAE,OAAO;UAChBC,UAAU,EAAE,OAAO;UACnBC,GAAG,EAAE;QACT,CAAC,CAAC;QACFV,UAAU,GAAG,IAAIlE,gBAAgB,CAACY,QAAQ,GAAG,4BAA4B,EAAE;UACvEiE,MAAM,EAAEJ,qBAAqB;UAC7BK,SAAS,EAAE;QACf,CAAC,CAAC;MACN;MACAZ,UAAU,CAACa,2BAA2B,GAAG,KAAK,CAAC,CAAC;MAChDb,UAAU,CAACc,YAAY,CAAC,SAAS,EAAE;QAC/BrD,KAAK,EAAE,CAAC,iBAAiB,EAAE,QAAQ,CAAC;QACpCE,SAAS,EAAEA,CAACgC,cAAsB,EAAE/B,KAAa,KAAK;UAClD,OAAO+B,cAAc,KAAK,kBAAkB,IAAI/B,KAAK,KAAK,CAAC;QAC/D;MACJ,CAAC,CAAC;MACFoC,UAAU,CAACe,aAAa,CAAC,qBAAqB,CAAC;MAC/C,OAAOf,UAAU;IACrB;IAEA9C,iBAAiBA,CAACR,QAAgB,EAAkB;MAChD,MAAM6D,qBAAqB,GAAG,IAAIvG,qBAAqB,CAAC,EAAE,EAAE;QACxDwG,OAAO,EAAE,QAAQ;QACjBC,UAAU,EAAE,QAAQ;QACpBC,GAAG,EAAE;MACT,CAAC,CAAC;MACF,MAAMM,aAAa,GAAG,IAAI7G,aAAa,CAACuC,QAAQ,GAAG,2BAA2B,EAAE;QAC5EiE,MAAM,EAAEJ,qBAAqB;QAC7BK,SAAS,EAAE,IAAI;QACflB,OAAO,EAAE;UACLjC,KAAK,EAAE,CAAC;YAAEC,IAAI,EAAE;UAAS,CAAC,CAAC;UAC3BC,SAAS,EAAGC,KAAK,IAAK;YAClB,MAAMG,MAAM,GAAG,IAAI,CAACxB,gBAAgB,CAACyB,gBAAgB,CAAC,CAAgB;YACtE,OACI,CAACD,MAAM,CAACkD,aAAa,CAAC,CAAC,IAAIlD,MAAM,CAACmD,qCAAqC,CAAC,CAAC,KACzEtD,KAAK,KAAK,CAAC;UAEnB;QACJ,CAAC;QACDuD,KAAK,EAAE;UACHzD,IAAI,EAAE,aAAa;UACnBmC,OAAO,EAAEA,CAACuB,EAAE,EAAEC,OAAO,KAAK;YACtB,MAAMtD,MAAM,GAAG,IAAI,CAACxB,gBAAgB,CAACyB,gBAAgB,CAAC,CAAgB;YACtE,IAAID,MAAM,CAACkD,aAAa,CAAC,CAAC,IAAIlD,MAAM,CAACmD,qCAAqC,CAAC,CAAC,EAAE;cAC1E,MAAMI,IAAI,GAAGD,OAAO,CAACE,SAAS,CAAC,CAAW;cAC1C,MAAMC,aAAa,GAAGF,IAAI,CAACE,aAAa;cACxC,MAAMC,oBAAoB,GAAG1D,MAAM,CAAC2D,uCAAuC;cAC3E,MAAMC,oBAAoB,GACtBF,oBAAoB,CAACG,wBAAwB,CAACJ,aAAa,CAAC;cAChEG,oBAAoB,CAACE,WAAW,CAAC,MAAM;gBACnC9D,MAAM,CAAC+D,WAAW,CAACC,QAAQ,CAAC;kBACxBC,IAAI,EAAEhG,aAAa,CAACiG,aAAa;kBACjCC,SAAS,EAAEV,aAAa,CAACW,KAAK;kBAC9BC,SAAS,EAAEZ,aAAa,CAACa;gBAC7B,CAAC,CAAC;cACN,CAAC,CAAC;cACFV,oBAAoB,CAACxD,gBAAgB,CAAC;gBAClCC,gBAAgB,EAAE,IAAI,CAACkE;cAC3B,CAAC,CAAC;cACFX,oBAAoB,CAACY,SAAS,CAAC,KAAK,EAAE,IAAI,CAAC;cAC3CZ,oBAAoB,CAACa,aAAa,CAC9B,IAAInI,2BAA2B,CAACsH,oBAAoB,CAACc,SAAS,CAAC,CAAC,CACpE,CAAC;cACD,OAAOd,oBAAoB;YAC/B;YACA;YACA,OAAO,IAAIrH,IAAI,CAAC,EAAE,EAAE;cAAEkD,IAAI,EAAE;YAAG,CAAC,CAAC;UACrC;QACJ;MACJ,CAAC,CAAC;MACFwD,aAAa,CAACD,aAAa,CAAC,8BAA8B,CAAC;MAC3D,MAAM2B,MAAM,GAAG,IAAInI,MAAM,CAAC;QACtBiD,IAAI,EAAE,iBAAiB;QACvBwE,IAAI,EAAEtG,UAAU,CAACiH,WAAW;QAC5BjD,OAAO,EAAE;UACLjC,KAAK,EAAE,CAAC;YAAEC,IAAI,EAAE;UAAY,CAAC,EAAE;YAAEA,IAAI,EAAE;UAAc,CAAC,CAAC;UACvDC,SAAS,EAAEA,CAACiF,QAAQ,EAAEC,UAAU,KAAK;YACjC,MAAM9E,MAAM,GAAG,IAAI,CAACxB,gBAAgB,CAACyB,gBAAgB,CAAC,CAAgB;YACtE,OACI,CAACD,MAAM,CAACkD,aAAa,CAAC,CAAC,IAAIlD,MAAM,CAACmD,qCAAqC,CAAC,CAAC,KACzE2B,UAAU,CAACC,MAAM,GAAGF,QAAQ;UAEpC;QACJ,CAAC;QACDG,KAAK,EAAEA,CAAA,KAAM;UACT,MAAMhF,MAAM,GAAG,IAAI,CAACxB,gBAAgB,CAACyB,gBAAgB,CAAC,CAAgB;UACtE,MAAMgF,MAAM,GAAGjF,MAAM,CAACkF,MAAM,CAAC,CAAC,GAAGlF,MAAM,CAACmF,QAAQ;UAChDnF,MAAM,CAACoF,WAAW,CAAC,aAAa,EAAEpF,MAAM,CAACkF,MAAM,CAAC,CAAC,CAAC;UAClDlF,MAAM,CAACqF,MAAM,CAACJ,MAAM,CAAC;UACrBjF,MAAM,CAAC+D,WAAW,CAACC,QAAQ,CAAC;YACxBC,IAAI,EAAEhG,aAAa,CAACqH;UACxB,CAAC,CAAC;QACN;MACJ,CAAC,CAAC;MACFX,MAAM,CAAC3B,aAAa,CAAC,+BAA+B,CAAC;MAErD,MAAMuC,cAAc,GAAG,IAAIpJ,cAAc,CAAC,EAAE,EAAE;QAC1CsF,KAAK,EAAE,MAAM;QACbE,OAAO,EAAE;UACLjC,KAAK,EAAE,CAAC;YAAEC,IAAI,EAAE;UAAS,CAAC,CAAC;UAC3BC,SAAS,EAAGC,KAAK,IAAK;YAClB,MAAMG,MAAM,GAAG,IAAI,CAACxB,gBAAgB,CAACyB,gBAAgB,CAAC,CAAgB;YACtE,OACI,CAACD,MAAM,CAACkD,aAAa,CAAC,CAAC,IAAIlD,MAAM,CAACmD,qCAAqC,CAAC,CAAC,KACzEtD,KAAK,KAAK,CAAC;UAEnB;QACJ,CAAC;QACD2F,OAAO,EAAE,CAACvC,aAAa,EAAE0B,MAAM;MACnC,CAAC,CAAC;MACFY,cAAc,CAACvC,aAAa,CAAC,qBAAqB,CAAC;MAEnD,OAAOuC,cAAc;IACzB;IAEAhB,aAAaA,CAACkB,MAAa,EAAQ;MAC/B,MAAMC,aAAa,GAAGD,MAAM,CAAC,YAAY,CAAC,EAAEE,cAAc,CAAC,SAAS,CAAC,CAAC,CAAC;MACvE,IAAID,aAAa,EAAE;QACf,IAAIE,SAAS,GAAGF,aAAa,CAACG,qBAAqB,CAAC,IAAI,EAAGC,QAAQ,IAAK;UACpE,OAAOA,QAAQ,CAACC,GAAG,CAAC,mBAAmB,CAAC,IAAID,QAAQ,CAACC,GAAG,CAAC,YAAY,CAAC;QAC1E,CAAC,CAAC;QACF,IAAIH,SAAS,CAACb,MAAM,KAAK,CAAC,IAAIW,aAAa,CAACM,oBAAoB,EAAE;UAC9DJ,SAAS,GAAGF,aAAa,CAACM,oBAAoB,CAAC,CAAC,CAACH,qBAAqB,CAAC,IAAI,EAAGC,QAAQ,IAAK;YACvF,OAAOA,QAAQ,CAACC,GAAG,CAAC,mBAAmB,CAAC,IAAID,QAAQ,CAACC,GAAG,CAAC,YAAY,CAAC;UAC1E,CAAC,CAAC;QACN;QACA,IAAIH,SAAS,CAACb,MAAM,GAAG,CAAC,EAAE;UACtB,MAAMkB,IAAI,GAAGL,SAAS,CAAC,CAAC,CAAC;UACzB,MAAMM,eAAe,GAAG,IAAIhI,WAAW,CAAC,CAAC;UACzCgI,eAAe,CAACC,iBAAiB,CAC7BV,MAAM,CAAC,YAAY,CAAC,EAAEW,QAAQ,CAAC,CAAC,CAACC,WAAW,CAAC,sBAAsB,CACvE,CAAC;UACDH,eAAe,CAACI,SAAS,CAACL,IAAI,CAAC;QACnC;MACJ;IACJ;IAEA5G,sBAAsBA,CAAA,EAAY;MAC9B,MAAMsF,MAAM,GAAG,IAAInI,MAAM,CAAC,IAAI,CAACgC,gBAAgB,CAAC4C,KAAK,CAAC,CAAC,GAAG,+BAA+B,EAAE;QACvF3B,IAAI,EAAE,iBAAiB;QACvBwE,IAAI,EAAEtG,UAAU,CAACiH,WAAW;QAC5BI,KAAK,EAAEA,CAAA,KAAY;UACf,MAAMuB,aAAa,GAAG,IAAI,CAAC/H,gBAAgB,CAACyB,gBAAgB,CAAC,CAAgB;UAC7EsG,aAAa,CAACnB,WAAW,CAAC,aAAa,EAAEmB,aAAa,CAACrB,MAAM,CAAC,CAAC,CAAC;UAChE,MAAMD,MAAM,GAAGsB,aAAa,CAACrB,MAAM,CAAC,CAAC,GAAGqB,aAAa,CAACpB,QAAQ;UAC9DoB,aAAa,CAAClB,MAAM,CAACJ,MAAM,CAAC;UAC5BsB,aAAa,CAACxC,WAAW,CAACC,QAAQ,CAAC;YAC/BC,IAAI,EAAEhG,aAAa,CAACqH;UACxB,CAAC,CAAC;QACN;MACJ,CAAC,CAAC;MACFX,MAAM,CAAC3B,aAAa,CAAC,+BAA+B,CAAC;MACrD,MAAMwD,SAAS,GAAG,IAAI/J,OAAO,CAAC,IAAI,CAAC+B,gBAAgB,CAAC4C,KAAK,CAAC,CAAC,GAAG,wBAAwB,EAAE;QACpFO,OAAO,EAAE;UACLjC,KAAK,EAAE,CAAC;YAAEC,IAAI,EAAE;UAAW,CAAC,EAAE;YAAEA,IAAI,EAAE;UAAa,CAAC,CAAC;UACrDC,SAAS,EAAEA,CAAC6G,OAAe,EAAEC,SAAyB,KAAc;YAChE,OAAOA,SAAS,CAAC3B,MAAM,GAAG0B,OAAO;UACrC;QACJ,CAAC;QACDE,cAAc,EAAE/I,kBAAkB,CAACgJ;MACvC,CAAC,CAAC;MACFJ,SAAS,CAACxD,aAAa,CAAC,wCAAwC,CAAC;MACjEwD,SAAS,CAACK,OAAO,CAAClC,MAAM,CAAC;MACzB,OAAO6B,SAAS;IACpB;IAEAxE,gBAAgBA,CAAC8E,cAAsB,EAAE/E,QAAQ,EAAkB;MAC/D,MAAMgF,KAAK,GAAGhF,QAAQ,CAACyB,SAAS,CAAC,CAAa,CAAC,CAAC;MAChD,IAAIuD,KAAK,CAAC9C,IAAI,KAAK,QAAQ,EAAE;QACzB,OAAO,IAAIvH,cAAc,CAAC,GAAGoK,cAAc,aAAa,EAAE;UACtDE,QAAQ,EAAE;YAAErH,IAAI,EAAE;UAAW;QACjC,CAAC,CAAC,CAAC,CAAC;MACR,CAAC,MAAM,IAAIoH,KAAK,CAAC9C,IAAI,KAAK,cAAc,EAAE;QACtC,IAAI,CAACzF,gBAAgB,CAACyI,iBAAiB,GAAG,IAAI,CAACC,kCAAkC,CAACJ,cAAc,CAAC;QACjG,OAAO,IAAI,CAACtI,gBAAgB,CAACyI,iBAAiB;MAClD;MACA,OAAO,IAAI,CAACE,sBAAsB,CAACL,cAAc,EAAEC,KAAK,CAAC;IAC7D;IAEAI,sBAAsBA,CAACL,cAAsB,EAAEC,KAAK,EAAkB;MAClE,MAAM/G,MAAM,GAAG,IAAI,CAACxB,gBAAgB,CAACyB,gBAAgB,CAAC,CAAgB;MACtE,MAAMmH,gBAAgB,GAAGpH,MAAM,CAACkC,MAAM,CAACmF,mBAAmB,CAACN,KAAK,CAACO,UAAU,CAAC;MAE5E,MAAMC,4BAA4B,GAAG;QACjCD,UAAU,EAAEP,KAAK,CAACO,UAAU;QAC5BlD,KAAK,EAAE,SAAS;QAChBoD,kBAAkB,EAAE;UAAE7H,IAAI,EAAE;QAAqB,CAAC;QAClD8H,gBAAgB,EAAE,oBAAoB;QACtCC,6BAA6B,EAAE;UAAE/H,IAAI,EAAE;QAAgC,CAAC;QACxEgI,eAAe,EAAE;UAAEhI,IAAI,EAAE;QAAkB,CAAC;QAC5CsE,IAAI,EAAE,kBAAkB;QACxB2D,QAAQ,EAAE,YAAY;QACtBC,WAAW,EAAE,eAAe;QAC5BC,eAAe,EAAE;UAAEnI,IAAI,EAAE;QAAkB,CAAC;QAC5CoI,OAAO,EAAE,WAAW;QACpBC,UAAU,EAAE;UAAErI,IAAI,EAAE;QAAiB,CAAC;QACtCsI,iBAAiB,EAAE;UAAEtI,IAAI,EAAE;QAAoB,CAAC;QAChDqH,QAAQ,EAAE;UAAErH,IAAI,EAAE;QAAW,CAAC;QAC9BuI,gBAAgB,EAAE;UAAEvI,IAAI,EAAE;QAAmB,CAAC;QAC9CwI,oBAAoB,EAAE;UAAExI,IAAI,EAAE;QAAuB,CAAC;QACtDyI,QAAQ,EAAE;UAAEzI,IAAI,EAAE;QAAW,CAAC;QAC9B0I,cAAc,EAAE;UAAE1I,IAAI,EAAE;QAAiB,CAAC;QAC1C2I,WAAW,EAAE;UAAE3I,IAAI,EAAE;QAAc,CAAC;QACpC4I,WAAW,EAAE;UAAE5I,IAAI,EAAE;QAAc,CAAC;QACpC6I,YAAY,EAAE;UAAE7I,IAAI,EAAE;QAAe,CAAC;QACtC8I,gBAAgB,EAAE;UAAE9I,IAAI,EAAE;QAAmB,CAAC;QAC9C+I,oBAAoB,EAAE;MAC1B,CAAC;MAED,IAAIC,WAAW;MACf,IAAIvB,gBAAgB,CAACwB,2BAA2B,EAAE;QAC9CD,WAAW,GAAG,IAAIvB,gBAAgB,CAACwB,2BAA2B,CAACrB,4BAA4B,CAAC;MAChG,CAAC,MAAM,IAAIH,gBAAgB,CAACyB,kCAAkC,EAAE;QAC5DtB,4BAA4B,CAAC,SAAS,CAAC;QAAG;QACtC,IAAIH,gBAAgB,CAACyB,kCAAkC,CAAC,CAAC;QAC7DF,WAAW,GAAG,IAAIxK,0BAA0B,CACxC,GAAG2I,cAAc,qBAAqB,EACtCS,4BACJ,CAAC;MACL,CAAC,MAAM;QACHoB,WAAW,GAAG,IAAIvK,oBAAoB,CAClC,GAAG0I,cAAc,eAAe,EAChCS,4BACJ,CAAC;MACL;MAEA,IAAIoB,WAAW,CAACG,gCAAgC,EAAE;QAC9CH,WAAW,CAACG,gCAAgC,CAAC,IAAI,CAACtK,gBAAgB,CAACe,6BAA6B,CAAC;MACrG;MAEA,MAAMwJ,QAAQ,GAAG,IAAIrM,cAAc,CAAC,GAAGoK,cAAc,kBAAkB,EAAE;QACrEtB,OAAO,EAAEmD;MACb,CAAC,CAAC;MACFI,QAAQ,CAAC/F,aAAa,CAAC,+BAA+B,CAAC;MAEvD+F,QAAQ,CAAChG,YAAY,CAAC,MAAM,EAAE;QAC1BrD,KAAK,EAAE,CACH;UAAEC,IAAI,EAAE;QAAqC,CAAC,EAC9C;UAAEA,IAAI,EAAE;QAAkC,CAAC,CAC9C;QACDC,SAAS,EAAEA,CAACoJ,0BAAkC,EAAEC,uBAAsC,KAAK;UACvF,IAAIC,OAAO;UACX,MAAMC,aAAa,GAAI1D,MAAM,IAAW;YACpC;YACAzF,MAAM,CAACoJ,iBAAiB,CAAC9K,QAAQ,CAAC+K,mBAAmB,CAAC;YACtDlM,QAAQ,CAACmM,WAAW,CAAC,CAAC,CAACC,OAAO,CAACjL,QAAQ,CAAC+K,mBAAmB,EAAE5D,MAAM,CAAC;UACxE,CAAC;UACD,IAAIuD,0BAA0B,EAAE;YAC5BE,OAAO,GAAGpL,QAAQ,CAAC0L,UAAU;YAC7BT,QAAQ,CAACjF,WAAW,CAACqF,aAAa,CAACM,IAAI,CAAC,IAAI,CAAC,CAAC;UAClD,CAAC,MAAM,IAAIR,uBAAuB,KAAK5K,aAAa,CAACqL,OAAO,EAAE;YAC1DR,OAAO,GAAGpL,QAAQ,CAAC6L,MAAM;YACzBZ,QAAQ,CAACa,WAAW,CAACT,aAAa,CAAC;UACvC,CAAC,MAAM;YACHD,OAAO,GAAGpL,QAAQ,CAAC+L,QAAQ;YAC3Bd,QAAQ,CAACa,WAAW,CAACT,aAAa,CAAC;UACvC;;UAEA;UACA;AAChB;AACA;AACA;AACA;AACA;AACA;UACgB,OAAOD,OAAO;QAClB;MACJ,CAAC,CAAC;MACF,IAAIP,WAAW,CAACmB,iBAAiB,EAAE;QAC/BnB,WAAW,CAACmB,iBAAiB,CAACf,QAAQ,CAAC;MAC3C;MAEA,OAAOA,QAAQ;IACnB;IAEA7B,kCAAkCA,CAACJ,cAAsB,EAAkB;MACvE,MAAMiD,sBAAsB,GAAG,IAAI9N,qBAAqB,CAAC,EAAE,EAAE;QACzDwG,OAAO,EAAE,QAAQ;QACjBC,UAAU,EAAE,QAAQ;QACpBC,GAAG,EAAE;MACT,CAAC,CAAC;MACF,MAAMqH,cAAc,GAAG,GAAGlD,cAAc,mBAAmB;MAC3D,MAAMN,SAAS,GAAG,IAAIpK,aAAa,CAAC4N,cAAc,EAAE;QAChDpH,MAAM,EAAEmH,sBAAsB;QAC9BlH,SAAS,EAAE,IAAI;QACfO,KAAK,EAAE;UACHzD,IAAI,EAAE,aAAa;UACnBmC,OAAO,EAAEA,CAACuB,EAAE,EAAEC,OAAO,KAAK;YACtB,MAAMtD,MAAM,GAAG,IAAI,CAACxB,gBAAgB,CAACyB,gBAAgB,CAAC,CAAgB;YACtE,IAAI,CAACD,MAAM,CAACkD,aAAa,CAAC,CAAC,EAAE;cACzB,MAAMK,IAAI,GAAGD,OAAO,CAACE,SAAS,CAAC,CAAW;cAC1C,MAAMC,aAAa,GAAGF,IAAI,CAACE,aAAa;cACxC,MAAMC,oBAAoB,GAAG1D,MAAM,CAAC2D,uCAAuC;cAC3E,MAAMC,oBAAoB,GACtBF,oBAAoB,CAACG,wBAAwB,CAACJ,aAAa,CAAC;cAChEG,oBAAoB,CAACE,WAAW,CAAC,MAAM;gBACnC,MAAM9D,MAAM,GAAG,IAAI,CAACxB,gBAAgB,CAACyB,gBAAgB,CAAC,CAAgB;gBACtED,MAAM,CAAC+D,WAAW,CAACC,QAAQ,CAAC;kBACxBC,IAAI,EAAEhG,aAAa,CAACiG,aAAa;kBACjCC,SAAS,EAAEV,aAAa,CAACW,KAAK;kBAC9BC,SAAS,EAAEZ,aAAa,CAACa;gBAC7B,CAAC,CAAC;cACN,CAAC,CAAC;cACFV,oBAAoB,CAACxD,gBAAgB,CAAC;gBAClCC,gBAAgB,EAAE,IAAI,CAACkE;cAC3B,CAAC,CAAC;cACFX,oBAAoB,CAACY,SAAS,CAAC,KAAK,EAAE,IAAI,CAAC;cAC3CZ,oBAAoB,CAACa,aAAa,CAC9B,IAAInI,2BAA2B,CAACsH,oBAAoB,CAACc,SAAS,CAAC,CAAC,CACpE,CAAC;cACD,OAAOd,oBAAoB;YAC/B;YACA;YACA;YACA,OAAO,IAAIrH,IAAI,CAAC8G,EAAE,EAAE;cAChB5D,IAAI,EAAE;YACV,CAAC,CAAC;UACN;QACJ;MACJ,CAAC,CAAC;MACF+G,SAAS,CAACxD,aAAa,CAAC,8BAA8B,CAAC;MAEvDwD,SAAS,CAACpG,gBAAgB,CACtB;QACIC,gBAAgB,EAAEA,CAAA,KAAM;UACpB,MAAML,MAAM,GAAG,IAAI,CAACxB,gBAAgB,CAACyB,gBAAgB,CAAC,CAAgB;UAEtE,MAAMgK,SAAS,GAAG,GAAG;UACrB,MAAMC,UAAU,GAAG,CAAC;UACpB,MAAMC,mBAAmB,GAAGF,SAAS,GAAGC,UAAU;UAClD,MAAME,oBAAoB,GAAG,CAAC;UAE9B,MAAMC,SAAS,GAAG7D,SAAS,CAAC8D,QAAQ,CAAC,CAAC;UACtC,MAAMzF,QAAQ,GAAG7E,MAAM,CAACqG,WAAW,CAAC,WAAW,CAAC;UAChD,MAAMI,OAAO,GAAGzG,MAAM,CAACqG,WAAW,CAAC,UAAU,CAAC;UAC9C,MAAMkE,QAAQ,GAAGF,SAAS,CAACA,SAAS,CAACtF,MAAM,GAAG,CAAC,CAAC;;UAEhD;UACA,IAAIyB,SAAS,CAACjG,SAAS,CAAC,CAAC,CAACiK,WAAW,KAAK,CAAC,EAAE;YACzC;UACJ;UACA,IAAIC,QAAQ,GAAGjE,SAAS,CAACjG,SAAS,CAAC,CAAC,CAACiK,WAAW,GAAGJ,oBAAoB,GAAGH,SAAS,CAAC,CAAC;;UAErF;UACA,IAAIQ,QAAQ,GAAG,CAAC,EAAE;YACd,IAAIF,QAAQ,CAACG,aAAa,CAAC,2CAA2C,CAAC,EAAE;cACrE,MAAM5F,UAAU,GAAG9E,MAAM,CAACqG,WAAW,CAAC,aAAa,CAAC;cACpDrG,MAAM,CAACoF,WAAW,CAAC,aAAa,EAAEN,UAAU,CAAC6F,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;YAC9D;YACA;UACJ;UACA,IAAIF,QAAQ,GAAGR,SAAS,EAAE;YACtBQ,QAAQ,GAAGR,SAAS;UACxB;UACA,MAAMW,QAAQ,GAAGC,IAAI,CAACC,KAAK,CAACL,QAAQ,GAAGN,mBAAmB,CAAC;UAE3D,IAAII,QAAQ,CAACG,aAAa,CAAC,2CAA2C,CAAC,EAAE;YACrE,OAAO,CAAC;UACZ;UAEA,IAAIL,SAAS,CAACtF,MAAM,GAAG6F,QAAQ,GAAG,CAAC,EAAE;YACjC;YACA,IAAInJ,KAAK,GAAG,CAAC;cACTsJ,CAAC,GAAG,CAAC;YACT,OAAOA,CAAC,GAAGV,SAAS,CAACtF,MAAM,EAAEgG,CAAC,EAAE,EAAE;cAC9BtJ,KAAK,GAAGA,KAAK,GAAG4I,SAAS,CAACU,CAAC,CAAC,CAACxK,SAAS,CAAC,CAAC,CAACiK,WAAW,GAAGN,UAAU,CAAC,CAAC;cACnE,IAAIzI,KAAK,GAAGgJ,QAAQ,EAAE;gBAClB;cACJ;YACJ;YACA,MAAM3F,UAAU,GAAG9E,MAAM,CAACqG,WAAW,CAAC,aAAa,CAAC;YACpDrG,MAAM,CAACoF,WAAW,CAAC,aAAa,EAAEN,UAAU,CAAC6F,KAAK,CAAC,CAAC,EAAEI,CAAC,CAAC,CAAC;UAC7D,CAAC,MAAM,IAAIV,SAAS,CAACtF,MAAM,GAAG6F,QAAQ,GAAG,CAAC,EAAE;YACxC;YACA,IACI/F,QAAQ,GAAG+F,QAAQ,IACnB,CAACL,QAAQ,CAACG,aAAa,CAAC,2CAA2C,CAAC,EACtE;cACE,MAAMM,sBAAsB,GAAG,GAAGhB,cAAc,YAAY;cAC5D,MAAMiB,YAAY,GAAG,IAAInO,WAAW,CAACkO,sBAAsB,EAAE;gBACzDE,WAAW,EAAE,IAAInO,WAAW,CAAC,GAAGiO,sBAAsB,WAAW,EAAE;kBAC/DxF,OAAO,EAAE,IAAIjJ,IAAI,CAAC,GAAGyO,sBAAsB,iBAAiB,EAAE;oBAC1DvL,IAAI,EAAE/B,IAAI,CAACoC,OAAO,CAAC,cAAc;kBACrC,CAAC;gBACL,CAAC,CAAC;gBACFkF,KAAK,EAAEA,CAAA,KAAM;kBACT,MAAMhF,MAAM,GAAG,IAAI,CAACxB,gBAAgB,CAACyB,gBAAgB,CAAC,CAAgB;kBACtED,MAAM,CAACmL,aAAa,CAACnL,MAAM,CAACoL,aAAa,CAAC;gBAC9C;cACJ,CAAC,CAAC;cACFH,YAAY,CAACjI,aAAa,CAAC,2CAA2C,CAAC;cACvEwD,SAAS,CAACK,OAAO,CAACoE,YAAY,CAAC;cAC/B;cACAjL,MAAM,CAACoF,WAAW,CAAC,iBAAiB,EAAE,iBAAiB,CAAC;cACxDpF,MAAM,CAACoF,WAAW,CAAC,iBAAiB,EAAE,kBAAkB,CAAC;cACzDpF,MAAM,CAACoF,WAAW,CAAC,UAAU,EAAE,CAAC,CAAC;cACjCpF,MAAM,CAACoF,WAAW,CAAC,UAAU,EAAEqB,OAAO,CAAC;YAC3C;UACJ;QACJ;MACJ,CAAC,EACDD,SACJ,CAAC;MACD,MAAMuC,QAAQ,GAAG,IAAIrM,cAAc,CAAC,GAAG,IAAI,CAAC8B,gBAAgB,CAAC4C,KAAK,CAAC,CAAC,UAAU,EAAE;QAC5EoE,OAAO,EAAEgB;MACb,CAAC,CAAC;MACFuC,QAAQ,CAAC/F,aAAa,CAAC,+BAA+B,CAAC;MACvD+F,QAAQ,CAAC/F,aAAa,CAAC,mCAAmC,CAAC;MAE3D+F,QAAQ,CAAC3I,gBAAgB,CACrB;QACIC,gBAAgB,EAAE,SAAAA,CAAA,EAAY;UAC1B,MAAMgL,MAAM,GAAGtC,QAAQ,CAACxI,SAAS,CAAC,CAAgB;UAClD,IAAI8K,MAAM,EAAE;YACRA,MAAM,CAACC,eAAe,CAAC,MAAM,CAAC;YAC9BD,MAAM,CAACE,YAAY,CAAC,aAAa,EAAE,MAAM,CAAC;UAC9C;QACJ;MACJ,CAAC,EACDxC,QACJ,CAAC;MAED,OAAOA,QAAQ;IACnB;EACJ;EAAC,OAAAxK,oBAAA;AAAA","ignoreList":[]}