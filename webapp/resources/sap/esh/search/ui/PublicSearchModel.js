/*!
 * SAPUI5
 * Copyright (c) 2025 SAP SE or an SAP affiliate company. All rights reserved.
 * 
 */
sap.ui.define(["sap/ui/model/json/JSONModel","./sinaNexTS/sina/cloneUtil"],function(e,t){"use strict";const s=t["clonePublic"];const l=e.extend("sap.esh.search.ui.PublicSearchModel",{constructor:function t(s){e.prototype.constructor.call(this);this.modelName=s.modelName;this.internalSearchModel=s.internalSearchModel},setPropertyFromInternalModel:function e(t,l,r,o,a){let c;let i=l;if(o){i=`${o.getPath()}/${l}`}if(i==="/results"){const e=e=>{if(e["type"]==="appcontainer"){return e.tiles}else{return e.sinaItem}};let l;try{l={items:r.map((l,r)=>{const o=s(e(l));const a={key:l.key,data:o,title:l.title,selected:l.selected,setSelected:e=>{t.setProperty(`/results/${r}/selected`,e)},selectionEnabled:l.selectionEnabled,setSelectionEnabled:e=>{t.setProperty(`/results/${r}/selectionEnabled`,e)},customItemStyleClass:l.customItemStyleClass,setCustomItemStyleClass:e=>{t.setProperty(`/results/${r}/customItemStyleClass`,e)}};return a})}}catch(e){throw new Error("Public Model could not be updated. Error: "+e+")")}c=l}if(!c){c=r}this.setPropertyInternal(i,c,undefined,a)},setPropertyInternal:function t(s,l,r,o){let a=s;let c;if(r){a=`${r.getPath()}/${s}`}const i=this.isPublicProperty(a);if(i.length>0){if(typeof i[0]?.targetPath!=="undefined"){if(typeof i[0]?.targetPath==="function"){c=e.prototype.setProperty.call(this,i[0]?.targetPath(a),l,undefined,o)}else{c=e.prototype.setProperty.call(this,i[0]?.targetPath,l,r,o)}}else{c=e.prototype.setProperty.call(this,s,l,r,o)}if(a.startsWith("/results/")&&a.endsWith("/selected")){this.internalSearchModel.updateMultiSelectionSelected()}}else{}return c},setProperty:function t(s,l,r,o){let a=s;if(r){a=`${r.getPath()}/${s}`}if(a.startsWith("/results/items/")&&a.endsWith("/selected")){const t=e.prototype.setProperty.call(this,s,l,r,o);const c=`/results/${a.replace("/results/items/","").replace("/selected","")}/selected`;const i=this.internalSearchModel.setPropertyInternal(c,l,undefined,o,false);console.log("SELECTION: publ model, set 'selected' property (path: '/results/items/.../selected')");this.internalSearchModel.updateMultiSelectionSelected();return t&&i}else if(a.startsWith("/results/items/")&&a.endsWith("/selectionEnabled")){const t=e.prototype.setProperty.call(this,s,l,r,o);const c=`/results/${a.replace("/results/items/","").replace("/selectionEnabled","")}/selectionEnabled`;const i=this.internalSearchModel.setPropertyInternal(c,l,undefined,o,false);return t&&i}else if(a.startsWith("/results/items/")&&a.endsWith("/customItemStyleClass")){const t=e.prototype.setProperty.call(this,s,l,r,o);const c=`/results/${a.replace("/results/items/","").replace("/customItemStyleClass","")}/customItemStyleClass`;const i=this.internalSearchModel.setPropertyInternal(c,l,undefined,o,false);return t&&i}else{throw new Error(`The public search model '${this.modelName}' is read-only but for properties "/results/items/<idx>/selected", "/results/items/<idx>/selectionEnabled" and "/results/items/<idx>/customItemStyleClass". You are changing property '${a}'.`)}},isPublicProperty:function e(t){const s=l.publicSearchModelPropertyPath.filter(e=>{if(e.sourcePath instanceof RegExp){return t.match(e.sourcePath)}else{return e.sourcePath===t}});return s}});l.defaultModelName="publicSearchModel";l.publicSearchModelPropertyPath=[{sourcePath:"/results"},{sourcePath:/^\/results\/.*\/selected$/,targetPath:e=>e.replace("/results/","/results/items/")},{sourcePath:/^\/tableRows\/.*\/selected$/,targetPath:e=>e.replace("/tableRows/","/results/items/")},{sourcePath:/^\/results\/.*\/selectionEnabled$/,targetPath:e=>e.replace("/results/","/results/items/")},{sourcePath:/^\/tableRows\/.*\/selectionEnabled$/,targetPath:e=>e.replace("/tableRows/","/results/items/")},{sourcePath:/^\/results\/.*\/customItemStyleClass$/,targetPath:e=>e.replace("/results/","/results/items/")},{sourcePath:/^\/tableRows\/.*\/customItemStyleClass$/,targetPath:e=>e.replace("/tableRows/","/results/items/")},{sourcePath:"/count"},{sourcePath:"/config"},{sourcePath:"/singleSelectionSelected"},{sourcePath:"/multiSelectionSelected"},{sourcePath:"/multiSelectionObjects"},{sourcePath:"/resultviewSelectionVisibility"},{sourcePath:"/hierarchyNodePaths"}];return l});
//# sourceMappingURL=PublicSearchModel.js.map