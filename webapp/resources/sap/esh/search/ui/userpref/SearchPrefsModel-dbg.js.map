{"version":3,"file":"SearchPrefsModel-dbg.js","names":["sap","ui","define","__i18n","JSONModel","SearchModel","___personalization_PersonalizationKeys","_interopRequireDefault","obj","__esModule","default","i18n","PersonalizationKeys","SearchPrefsModel","searchModel","initializePromise","userCategory","userCategoryManager","configuration","asyncInit","getModelSingleton","initAsync","config","searchBusinessObjects","setProperty","initSearchPersonalization","initMyFavorites","initNlq","sinaNext","provider","id","getConfigurationAsync","isPersonalizedSearchEditable","personalizedSearch","isMyFavoritesAvailable","initSubDataSources","reload","newDS","getUserCategoryManager","then","getCategory","dataSources","filter","x","type","DataSourceType","BusinessObject","appDataSource","forEach","unshift","label","labelPlural","selected","isIncludeApps","undefined","push","hasSubDataSource","undefinedSubDataSources","getUndefinedSubDataSourceIds","reverse","undefinedSubDataSource","getText","isFavActive","getNumberSubDataSources","getNumberSelectedSubDataSources","isNlqAreaVisible","aiNlq","capabilities","nlq","nlqActive","getPersonalizationStorageInstance","getItem","nlqEnabledInfoOnDataSource","nlqDataSources","ds","saveNlq","setItem","getProperty","save","calculateIsNlqActive","length","saveSubDataSources","subDataSources","setIncludeApps","setFavActive","clearSubDataSources","clearUndefinedSubDataSourceIds","subDataSource","sinaSubDataSource","sina","getDataSource","addSubDataSource","addUndefinedSubDataSourceId","shortStatus","isPersonalizedSearchActive","isSearchPrefsActive","isMultiProvider","savePreferences","setPersonalizedSearch","saveAsync","cancelPreferences","resetProfile","resetPersonalizedSearchDataAsync"],"sources":["SearchPrefsModel.ts"],"sourcesContent":["/*!\n * SAPUI5\n * Copyright (c) 2025 SAP SE or an SAP affiliate company. All rights reserved.\n * \n */\nimport i18n from \"../i18n\";\nimport JSONModel from \"sap/ui/model/json/JSONModel\";\nimport SearchModel from \"sap/esh/search/ui/SearchModel\";\nimport { UserCategoryDataSource } from \"../sinaNexTS/sina/UserCategoryDataSource\";\nimport UserCategoryManager from \"../usercategories/UserCategoryManager\";\nimport { Configuration } from \"../sinaNexTS/sina/Configuration\";\nimport { PersonalizationKeys } from \"../personalization/PersonalizationKeys\";\n\n// model class for search preferences view\n// =======================================================================\n\nexport default class SearchPrefsModel extends JSONModel {\n    private searchModel: SearchModel;\n    private initializePromise: Promise<void>;\n    private userCategory: UserCategoryDataSource;\n    private userCategoryManager: UserCategoryManager;\n    private configuration: Configuration;\n\n    //const path = \"sap.esh.search.ui.userpref.SearchPrefsModel\";\n    asyncInit(): Promise<void> {\n        // check cache\n        if (this.initializePromise) {\n            return this.initializePromise;\n        }\n        this.initializePromise = (async () => {\n            // get search model\n            this.searchModel = SearchModel.getModelSingleton({}, \"flp\") as SearchModel;\n\n            // ensure that search model is initialized\n            await this.searchModel.initAsync();\n\n            // if bo search is disabled -> disable search prefs + return\n            if (!this.searchModel.config.searchBusinessObjects) {\n                this.setProperty(\"/isSearchPrefsActive\", false);\n                this.setProperty(\"/isPersonalizedSearchEditable\", false);\n                this.setProperty(\"/personalizedSearch\", false);\n                this.setProperty(\"/resetButtonWasClicked\", false);\n                return;\n            }\n\n            // activate search entry\n            this.setProperty(\"/isSearchPrefsActive\", true);\n\n            // init subareas\n            await this.initSearchPersonalization();\n            await this.initMyFavorites();\n            await this.initNlq();\n        })();\n        return this.initializePromise;\n    }\n\n    async initSearchPersonalization(): Promise<void> {\n        const sinaNext = this.searchModel.sinaNext;\n        // set property for visibility of Personalized Search area (oPersSearchVBox)\n        // not visible in case of cross system search\n        this.setProperty(\"/isPersonalizedSearchAreaVisible\", sinaNext.provider.id === \"multi\" ? false : true);\n        this.configuration = await sinaNext.getConfigurationAsync();\n        this.setProperty(\"/isPersonalizedSearchEditable\", this.configuration.isPersonalizedSearchEditable);\n        this.setProperty(\"/personalizedSearch\", this.configuration.personalizedSearch);\n        this.setProperty(\"/resetButtonWasClicked\", false);\n    }\n\n    async initMyFavorites(): Promise<void> {\n        this.setProperty(\"/isMyFavoritesAvailable\", this.searchModel.isMyFavoritesAvailable());\n        if (this.searchModel.isMyFavoritesAvailable()) {\n            this.initSubDataSources();\n        }\n    }\n\n    reload(): Promise<void> {\n        return this.asyncInit();\n    }\n\n    initSubDataSources(): void {\n        const newDS = [];\n\n        this.searchModel.getUserCategoryManager().then((userCategoryManager) => {\n            this.userCategoryManager = userCategoryManager;\n            this.userCategory = userCategoryManager.getCategory(\"MyFavorites\");\n            // get datasources from sina\n            const dataSources = this.searchModel.sinaNext.dataSources;\n\n            dataSources\n                .filter(\n                    (x) =>\n                        (x.type === this.searchModel.sinaNext.DataSourceType.BusinessObject ||\n                            x === this.searchModel.appDataSource) &&\n                        x.id !== \"CD$ALL~ESH_TRANSACTION~\"\n                )\n                .forEach((x) => {\n                    if (x === this.searchModel.appDataSource) {\n                        newDS.unshift({\n                            id: x.id,\n                            label: x.labelPlural,\n                            selected: this.userCategory.isIncludeApps(),\n                            undefined: false,\n                        });\n                    } else {\n                        newDS.push({\n                            id: x.id,\n                            label: x.labelPlural,\n                            selected: this.userCategory.hasSubDataSource(x.id),\n                            undefined: false,\n                        });\n                    }\n                });\n\n            // add undefinedSubDataSources to the top of the list\n            const undefinedSubDataSources = this.userCategory.getUndefinedSubDataSourceIds().reverse();\n            for (const undefinedSubDataSource of undefinedSubDataSources) {\n                newDS.unshift({\n                    id: undefinedSubDataSource,\n                    label: undefinedSubDataSource + \" \" + i18n.getText(\"sp.connectorNotExists\"),\n                    selected: true,\n                    undefined: true,\n                });\n            }\n\n            this.setProperty(\"/favActive\", this.userCategoryManager.isFavActive());\n\n            this.setProperty(\"/subDataSources\", newDS);\n            this.setProperty(\"/dataSourceCount\", this.getNumberSubDataSources());\n            this.setProperty(\"/selectedDataSourceCount\", this.getNumberSelectedSubDataSources());\n        });\n    }\n\n    async initNlq(): Promise<void> {\n        // visibility of area\n        const isNlqAreaVisible = !!(\n            this.searchModel.config.aiNlq && this.searchModel.sinaNext.capabilities.nlq\n        );\n        this.setProperty(\"/isNlqAreaVisible\", isNlqAreaVisible);\n        if (!isNlqAreaVisible) {\n            return;\n        }\n\n        // nlq active checkbox\n        const nlqActive = this.searchModel\n            .getPersonalizationStorageInstance()\n            .getItem(PersonalizationKeys.nlqActive);\n        this.setProperty(\"/nlqActive\", nlqActive);\n\n        // nlq data sources list\n        if (this.searchModel.sinaNext.capabilities.nlqEnabledInfoOnDataSource) {\n            const nlqDataSources = this.searchModel.sinaNext.dataSources.filter((ds) => ds.nlq);\n            this.setProperty(\"/nlqDataSources\", nlqDataSources);\n            this.setProperty(\"/nlqEnabledInfoOnDataSource\", true);\n        } else {\n            this.setProperty(\"/nlqDataSources\", []);\n            this.setProperty(\"/nlqEnabledInfoOnDataSource\", false);\n        }\n    }\n\n    async saveNlq(): Promise<void> {\n        this.searchModel\n            .getPersonalizationStorageInstance()\n            .setItem(PersonalizationKeys.nlqActive, this.getProperty(\"/nlqActive\"));\n        await this.searchModel.getPersonalizationStorageInstance().save();\n        this.searchModel.calculateIsNlqActive();\n    }\n\n    getNumberSubDataSources(): number {\n        return this.getProperty(\"/subDataSources\").length;\n    }\n\n    getNumberSelectedSubDataSources(): number {\n        return this.getProperty(\"/subDataSources\").filter((x) => x.selected).length; //x.selected === true)\n    }\n\n    saveSubDataSources(): void {\n        const subDataSources = this.getProperty(\"/subDataSources\");\n        this.userCategory.setIncludeApps(false);\n        this.userCategoryManager.setFavActive(this.getProperty(\"/favActive\"));\n        this.userCategory.clearSubDataSources();\n        this.userCategory.clearUndefinedSubDataSourceIds();\n\n        for (const subDataSource of subDataSources) {\n            if (subDataSource.selected === true) {\n                if (subDataSource.id === this.searchModel.appDataSource.id) {\n                    this.userCategory.setIncludeApps(true);\n                } else {\n                    const sinaSubDataSource = this.userCategoryManager.sina.getDataSource(subDataSource.id);\n                    if (sinaSubDataSource) {\n                        this.userCategory.addSubDataSource(sinaSubDataSource);\n                    } else {\n                        this.userCategory.addUndefinedSubDataSourceId(subDataSource.id);\n                    }\n                }\n            }\n        }\n        this.userCategoryManager.save();\n    }\n\n    //not used in future -> delete\n    shortStatus(): Promise<string> {\n        return this.asyncInit().then(() => {\n            return this.getProperty(\"/personalizedSearch\") ? i18n.getText(\"sp.on\") : i18n.getText(\"sp.off\");\n        });\n    }\n\n    isPersonalizedSearchActive(): Promise<boolean> {\n        return this.asyncInit().then(() => {\n            return this.getProperty(\"/personalizedSearch\");\n        });\n    }\n\n    isSearchPrefsActive(): Promise<boolean> {\n        return this.asyncInit().then(() => {\n            return this.getProperty(\"/isSearchPrefsActive\");\n        });\n    }\n\n    isMultiProvider(): Promise<boolean> {\n        return this.asyncInit().then(() => {\n            return this.searchModel.sinaNext.provider.id === \"multi\";\n        });\n    }\n\n    async savePreferences() {\n        // nlq\n        await this.saveNlq();\n        // my favorites\n        if (this.searchModel.isMyFavoritesAvailable()) {\n            this.saveSubDataSources();\n        }\n        // search personaization\n        if (this.configuration.isPersonalizedSearchEditable) {\n            this.configuration.setPersonalizedSearch(this.getProperty(\"/personalizedSearch\"));\n            await this.configuration.saveAsync();\n        }\n        this.setProperty(\"/resetButtonWasClicked\", false);\n    }\n\n    cancelPreferences(): void {\n        this.setProperty(\"/personalizedSearch\", this.configuration.personalizedSearch);\n        this.setProperty(\"/resetButtonWasClicked\", false);\n        this.initNlq();\n    }\n\n    resetProfile(): Promise<void> {\n        return this.configuration.resetPersonalizedSearchDataAsync().then(() => {\n            this.setProperty(\"/resetButtonWasClicked\", true);\n        });\n    }\n}\n"],"mappings":"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","ignoreList":[]}