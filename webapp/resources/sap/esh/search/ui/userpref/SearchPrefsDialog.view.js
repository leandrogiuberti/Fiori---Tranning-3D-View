/*!
 * SAPUI5
 * Copyright (c) 2025 SAP SE or an SAP affiliate company. All rights reserved.
 * 
 */
sap.ui.define(["sap/m/Button","sap/m/CheckBox","sap/m/FlexBox","sap/m/FlexItemData","sap/m/Label","sap/m/library","sap/m/List","sap/m/MessageBox","sap/m/StandardListItem","sap/m/Title","sap/m/VBox","sap/ui/core/mvc/View","sap/ui/model/BindingMode","../i18n"],function(e,t,a,s,n,o,i,r,l,c,p,d,h,u){"use strict";function g(e){return e&&e.__esModule&&typeof e.default!=="undefined"?e.default:e}const S=o["ListMode"];const f=g(u);const m=d.extend("sap.esh.search.ui.userpref.SearchPrefsDialog",{createContent:function e(){this.firstTimeBeforeRendering=true;const t=new p({items:[this.createSearchPersonalizationContent(),this.createNlqContent(),this.createMyFavoritesContent()]});return[t]},createSearchPersonalizationContent:function n(){const o=new c({text:f.getText("sp.personalizedSearch")});const i=new t("personalizedSearchCheckbox",{selected:{path:"/personalizedSearch",mode:h.TwoWay},text:f.getText("sp.trackPersonalizedSearch"),enabled:{path:"/isPersonalizedSearchEditable"},layoutData:new s({growFactor:1})});const r=new e("",{text:f.getText("sp.deleteSearchTracks"),press:this.resetHistory.bind(this),enabled:{parts:[{path:"/isPersonalizedSearchEditable"},{path:"/resetButtonWasClicked"}],formatter:(e,t)=>e&&!t}});const l=new a({items:[i,r]});return new p("",{items:[o,l],visible:{path:"/isPersonalizedSearchAreaVisible"}})},createMyFavoritesContent:function e(){const o=new c({text:f.getText("sp.defaultSearchScope")});const r=new t("defaultSearchScopeCheckbox",{selected:{path:"/favActive",mode:h.TwoWay},text:f.getText("sp.usePersSearchScope")});const d=new n("connectorListLabel",{text:f.getText("sp.connectorList"),visible:{path:"/favActive"},layoutData:new s({growFactor:1})}).addStyleClass("sapUiSmallMarginTop");const u=new n("",{text:{parts:[{path:"/selectedDataSourceCount"},{path:"/dataSourceCount"}],formatter:(e,t)=>f.getText("sp.connectorListCount",[e,t])},visible:{path:"/favActive"}}).addStyleClass("sapUiSmallMarginTop");const g=new a({items:[d,u]});const m=new i("connectorListId",{mode:S.MultiSelect,visible:{path:"/favActive"},selectionChange:e=>{this.onListItemSelectionChange(e)},growing:true,growingThreshold:1e3}).addStyleClass("sapUiTinyMarginTop");m.bindAggregation("items",{path:"/subDataSources",factory:()=>{const e=new l("",{title:{path:"label"},selected:{path:"selected"}});return e}});const w=new p("",{items:[o,r,g,m],visible:{path:"/isMyFavoritesAvailable"}}).addStyleClass("sapUiSmallMarginTop");return w},createNlqContent:function e(){const a=[];const o=new c({text:f.getText("sp.nlqTitle")});a.push(o);const r=new t("",{selected:{path:"/nlqActive",mode:h.TwoWay},text:f.getText("sp.nlqSwitch"),layoutData:new s({growFactor:1})});r.addStyleClass("sapUshellSearchPrefsNlq");a.push(r);const d=new n({text:f.getText("sp.nlqConnectorListTitle"),visible:{parts:["/nlqActive","/nlqEnabledInfoOnDataSource"],formatter:(e,t)=>!!(e&&t)}});d.addStyleClass("sapUiSmallMarginTop");a.push(d);const u=new i({visible:{parts:["/nlqActive","/nlqEnabledInfoOnDataSource","/nlqDataSources"],formatter:(e,t,a)=>!!(e&&t&&a.length>0)},growing:true,growingThreshold:10,growingScrollToLoad:false,items:{path:"/nlqDataSources",template:new l({title:"{label}"})}});u.addStyleClass("sapUshellSearchPrefsNlqConnectorList");a.push(u);const g=new n({visible:{parts:["/nlqActive","/nlqEnabledInfoOnDataSource","/nlqDataSources"],formatter:(e,t,a)=>!!(e&&t&&a.length===0)},text:f.getText("sp.nlqNoConnectorsAvailable")});a.push(g);const S=new p("",{items:a,visible:{path:"/isNlqAreaVisible"}});S.addStyleClass("sapUiSmallMarginTop");return S},onBeforeRendering:function e(){if(this.firstTimeBeforeRendering){this.firstTimeBeforeRendering=false;return}this.getModel().reload()},resetHistory:function e(){this.getModel().resetProfile().then(()=>{},e=>{let t=f.getText("sp.resetFailed");t+="\n"+e;r.show(t,{title:f.getText("sp.resetFailedTitle"),icon:r.Icon.ERROR,actions:[r.Action.OK],styleClass:"sapUshellSearchMessageBox"})})},onListItemSelectionChange:function e(t){this.getModel().setProperty("/selectedDataSourceCount",t.getSource().getSelectedItems().length)}});return m});
//# sourceMappingURL=SearchPrefsDialog.view.js.map