/*!
 * SAPUI5
 * Copyright (c) 2025 SAP SE or an SAP affiliate company. All rights reserved.
 * 
 */
sap.ui.define(["./SearchConfigurationSettings","sap/base/Log","./sinaNexTS/core/Log","./navigationtrackers/CustomNavigationTracker","./navigationtrackers/EventLoggerNavigationTracker","sap/base/i18n/ResourceBundle","sap/ui/core/format/NumberFormat","sap/ui/core/format/DateFormat","./i18n","sap/base/i18n/Localization"],function(e,r,o,i,n,t,a,u,g,s){"use strict";function c(e){return e&&e.__esModule&&typeof e.default!=="undefined"?e.default:e}const f=e["sinaParameters"];const l=o["Severity"];const d=i["generateCustomNavigationTracker"];const m=n["generateEventLoggerNavigationTracker"];const v=c(g);class L{model;loadedResourceBundles;constructor(e){this.model=e;this.loadedResourceBundles=new Map}configure(e){const r=[];for(const o of e){r.push(this.configureSina(o,{configureLogging:true,configureCommonParameters:true,configureNavigationTrackers:true,configureGetTextFromResourceBundle:true,configureFormatLibrary:true,configureGetText:true,configureLanguage:true}))}return r}configureSina(e,r){e=this.normalizeConfiguration(e);if(r.configureCommonParameters){this.configureCommonParameters(e)}if(r.configureFormatLibrary){this.configureFormatLibrary(e)}if(r.configureLogging){this.configureLogging(e)}if(r.configureNavigationTrackers){this.configureNavigationTracking(e)}if(r.configureGetTextFromResourceBundle){this.configureGetTextFromResourceBundle(e)}if(r.configureGetText){this.configureGetText(e)}if(r.configureLanguage){this.configureLanguage(e)}if(e.subProviders){e.subProviders=e.subProviders.map(e=>this.configureSina(e,{configureNavigationTrackers:true}))}return e}normalizeConfiguration(e){if(typeof e==="string"){return{provider:e,url:""}}return e}configureLanguage(e){if(this.model.config.isUshell&&typeof sap.cf==="undefined"){return}if(!e.getLanguage){const r=()=>s.getLanguage();e["getLanguage"]=r}}configureNavigationTracking(e){e.navigationTrackers=e.navigationTrackers||[];e.navigationTrackers.push(d(this.model));e.navigationTrackers.push(m(this.model))}configureCommonParameters(e){for(const r of f){if(!e[r]){e[r]=this.model.config[r]}}}configureFormatLibrary(e){e.NumberFormat=a;e.DateFormat=u}configureLogging(e){const o=r.getLogger("sap.esh.search.ui.sina");e.logTarget={debug:o.debug,info:o.info,warn:o.warning,error:o.error};let i=l.ERROR;switch(o.getLevel()){case r.Level.ALL:case r.Level.TRACE:case r.Level.DEBUG:i=l.DEBUG;break;case r.Level.INFO:i=l.INFO;break;case r.Level.WARNING:i=l.WARN;break}e.logLevel=i}configureGetTextFromResourceBundle(e){e.getTextFromResourceBundle=async(e,r)=>{let o;if(this.loadedResourceBundles.has(e)){o=this.loadedResourceBundles.get(e)}else{o=await t.create({url:e});this.loadedResourceBundles.set(e,o)}return o.getText(r)}}configureGetText(e){e.getText=v.getText.bind(v)}}var h={__esModule:true};h.SinaConfigurator=L;return h});
//# sourceMappingURL=SinaConfigurator.js.map