{"version":3,"file":"SearchFacetDialogHelperDynamicHierarchy.js","names":["sap","ui","define","__FacetItem","_interopRequireDefault","obj","__esModule","default","FacetItem","async","updateDetailPageforDynamicHierarchy","model","dynamicHierarchyFacet","filters","handleSetFilter","node","set","filterCondition","facet","getData","facetItem","createFilterFacetItemForDynamicHierarchy","addFilter","removeFilter","facetFilter","sina","createFilter","dataSource","getDataSource","staticHierarchyFilterConditions","getStaticHierarchyFilterConditions","length","nonFilterByCondition","autoInsertCondition","filter","setFilter","setHandleSetFilter","treeNodeFactory","updateRecursively","updateNodesFromHierarchyNodePaths","getProperty","mixinFilterNodes","updateUI","condition","selected","level","value","valueLabel","label","title","facetTitle","facetAttribute","attributeId","advanced","listed","icon","visible","__exports"],"sources":["SearchFacetDialogHelperDynamicHierarchy.ts"],"sourcesContent":["/*!\n * SAPUI5\n * Copyright (c) 2025 SAP SE or an SAP affiliate company. All rights reserved.\n * \n */\nimport FacetItem from \"./FacetItem\";\nimport SearchHierarchyDynamicFacet from \"./hierarchydynamic/SearchHierarchyDynamicFacet\";\nimport SearchHierarchyDynamicTreeNode from \"./hierarchydynamic/SearchHierarchyDynamicTreeNode\";\nimport SearchFacetDialogModel from \"./SearchFacetDialogModel\";\nimport { SimpleCondition } from \"./sinaNexTS/sina/SimpleCondition\";\n\nexport async function updateDetailPageforDynamicHierarchy(\n    model: SearchFacetDialogModel,\n    dynamicHierarchyFacet: SearchHierarchyDynamicFacet,\n    filters: Array<any>\n) {\n    function handleSetFilter(\n        node: SearchHierarchyDynamicTreeNode,\n        set: boolean,\n        filterCondition: SimpleCondition\n    ) {\n        const facet = node.getData().facet as SearchHierarchyDynamicFacet;\n        const facetItem = createFilterFacetItemForDynamicHierarchy(facet, filterCondition);\n        if (set) {\n            model.addFilter(facetItem);\n        } else {\n            model.removeFilter(facetItem);\n        }\n    }\n\n    const facetFilter = dynamicHierarchyFacet.sina.createFilter({ dataSource: model.getDataSource() });\n    // firstly add static hierachy facets\n    const staticHierarchyFilterConditions = model.getStaticHierarchyFilterConditions();\n    if (staticHierarchyFilterConditions.length > 0) {\n        for (const nonFilterByCondition of staticHierarchyFilterConditions) {\n            facetFilter.autoInsertCondition(nonFilterByCondition);\n        }\n    }\n    for (const filter of filters) {\n        facetFilter.autoInsertCondition(filter.filterCondition);\n    }\n    dynamicHierarchyFacet.setFilter(facetFilter);\n    dynamicHierarchyFacet.setHandleSetFilter(handleSetFilter);\n    await dynamicHierarchyFacet.treeNodeFactory.updateRecursively();\n    dynamicHierarchyFacet.updateNodesFromHierarchyNodePaths(model.getProperty(\"/hierarchyNodePaths\"));\n    dynamicHierarchyFacet.mixinFilterNodes();\n    dynamicHierarchyFacet.treeNodeFactory.updateUI();\n}\n\nexport function createFilterFacetItemForDynamicHierarchy(\n    facet: SearchHierarchyDynamicFacet,\n    condition: SimpleCondition\n): FacetItem {\n    return new FacetItem({\n        selected: false,\n        level: 0,\n        filterCondition: condition,\n        value: condition.value as string,\n        valueLabel: condition.valueLabel,\n        label: facet.title,\n        facetTitle: facet.title,\n        facetAttribute: facet.attributeId,\n        advanced: true,\n        listed: true,\n        icon: null,\n        visible: true,\n    });\n}\n"],"mappings":";;;;;AAAAA,IAAAC,GAAAC,OAAA,yBAAAC,GAAA,sBAAAC,EAAAC,GAAA,OAAAA,KAAAC,mBAAAD,EAAAE,UAAA,YAAAF,EAAAE,QAAAF,CAAA,OAKOG,EAASJ,EAAAD,GAMTM,eAAeC,EAClBC,EACAC,EACAC,GAEA,SAASC,EACLC,EACAC,EACAC,GAEA,MAAMC,EAAQH,EAAKI,UAAUD,MAC7B,MAAME,EAAYC,EAAyCH,EAAOD,GAClE,GAAID,EAAK,CACLL,EAAMW,UAAUF,EACpB,KAAO,CACHT,EAAMY,aAAaH,EACvB,CACJ,CAEA,MAAMI,EAAcZ,EAAsBa,KAAKC,aAAa,CAAEC,WAAYhB,EAAMiB,kBAEhF,MAAMC,EAAkClB,EAAMmB,qCAC9C,GAAID,EAAgCE,OAAS,EAAG,CAC5C,IAAK,MAAMC,KAAwBH,EAAiC,CAChEL,EAAYS,oBAAoBD,EACpC,CACJ,CACA,IAAK,MAAME,KAAUrB,EAAS,CAC1BW,EAAYS,oBAAoBC,EAAOjB,gBAC3C,CACAL,EAAsBuB,UAAUX,GAChCZ,EAAsBwB,mBAAmBtB,SACnCF,EAAsByB,gBAAgBC,oBAC5C1B,EAAsB2B,kCAAkC5B,EAAM6B,YAAY,wBAC1E5B,EAAsB6B,mBACtB7B,EAAsByB,gBAAgBK,UAC1C,CAEO,SAASrB,EACZH,EACAyB,GAEA,OAAO,IAAInC,EAAU,CACjBoC,SAAU,MACVC,MAAO,EACP5B,gBAAiB0B,EACjBG,MAAOH,EAAUG,MACjBC,WAAYJ,EAAUI,WACtBC,MAAO9B,EAAM+B,MACbC,WAAYhC,EAAM+B,MAClBE,eAAgBjC,EAAMkC,YACtBC,SAAU,KACVC,OAAQ,KACRC,KAAM,KACNC,QAAS,MAEjB,CAAC,IAAAC,EAAA,CAAAnD,WAAA,MAAAmD,EAAA/C,sCAAA+C,EAAApC,2CAAA,OAAAoC,CAAA","ignoreList":[]}