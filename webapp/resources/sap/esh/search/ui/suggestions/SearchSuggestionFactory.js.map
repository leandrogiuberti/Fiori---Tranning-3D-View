{"version":3,"file":"SearchSuggestionFactory.js","names":["sap","ui","define","__i18n","__SuggestionType","_interopRequireDefault","obj","__esModule","default","i18n","SuggestionType","Type","assembleLabel","searchModel","hierarchyNodePathLength","getProperty","length","breadCrumb","pathSep","hierarchyNodes","slice","document","documentElement","getAttribute","reverse","forEach","hierarchyNode","index","label","getText","getSearchBoxTerm","getDataSource","labelPlural","hasFilter","filter","dataSource","staticHierarchyAttributeId","getStaticHierarchyAttributeMetadata","id","filterAttributes","rootCondition","getAttributes","attributeId","createSearchSuggestionForCurrentSearch","searchTerm","icon","titleNavigation","createSearchNavigationTargetCurrentState","uiSuggestionType","Search","position","properties","filterIcon","__exports"],"sources":["SearchSuggestionFactory.ts"],"sourcesContent":["/*!\n * SAPUI5\n * Copyright (c) 2025 SAP SE or an SAP affiliate company. All rights reserved.\n * \n */\nimport SearchModel from \"../SearchModel\";\nimport i18n from \"../i18n\";\nimport { HierarchyNode } from \"../sinaNexTS/sina/HierarchyNode\";\nimport SuggestionType, { SearchSuggestion, Type } from \"./SuggestionType\";\n\nfunction assembleLabel(searchModel: SearchModel): string {\n    // if the model has has a selected hierarchy node (folder), use that:\n    const hierarchyNodePathLength = searchModel.getProperty(\"/breadcrumbsHierarchyNodePaths\").length;\n    if (hierarchyNodePathLength > 0) {\n        let breadCrumb = \"\";\n        let pathSep = \" > \";\n        let hierarchyNodes = (\n            searchModel.getProperty(\"/breadcrumbsHierarchyNodePaths\") as HierarchyNode[]\n        ).slice();\n        if (document.documentElement.getAttribute(\"dir\") === \"rtl\") {\n            pathSep = \" < \";\n            hierarchyNodes = hierarchyNodes.reverse();\n        }\n        hierarchyNodes.forEach((hierarchyNode, index) => {\n            breadCrumb += hierarchyNode.label;\n            if (++index < hierarchyNodePathLength) {\n                breadCrumb += pathSep;\n            }\n        });\n        return i18n.getText(\"resultsIn\", [\"<span>\" + searchModel.getSearchBoxTerm() + \"</span>\", breadCrumb]);\n    }\n    // if the model has more than one data source, add the data source to the label:\n    if (searchModel.getProperty(\"/dataSources\").length > 1) {\n        return i18n.getText(\"resultsIn\", [\n            \"<span>\" + searchModel.getSearchBoxTerm() + \"</span>\",\n            searchModel.getDataSource().labelPlural,\n        ]);\n    }\n    // fallback just use searchterm\n    return searchModel.getSearchBoxTerm();\n}\n\nfunction hasFilter(searchModel: SearchModel): boolean {\n    const filter = searchModel.getProperty(\"/uiFilter\");\n    const dataSource = filter.dataSource;\n    const staticHierarchyAttributeId = dataSource.getStaticHierarchyAttributeMetadata()?.id;\n    const filterAttributes = filter.rootCondition.getAttributes().filter((attributeId) => {\n        // ignore static hierarchy filter conditions\n        if (staticHierarchyAttributeId && staticHierarchyAttributeId === attributeId) {\n            return false;\n        }\n        return true;\n    });\n    return filterAttributes.length > 0;\n}\n\nexport function createSearchSuggestionForCurrentSearch(searchModel: SearchModel): SearchSuggestion {\n    const searchTerm = searchModel.getSearchBoxTerm();\n\n    if (!searchTerm || searchTerm === \"*\" || searchTerm === \"\") return;\n\n    return {\n        label: assembleLabel(searchModel),\n        icon: \"sap-icon://search\",\n        titleNavigation: searchModel.createSearchNavigationTargetCurrentState(),\n        uiSuggestionType: Type.Search,\n        position: SuggestionType.properties.Search.position,\n        filterIcon: hasFilter(searchModel) ? \"sap-icon://filter\" : \"\",\n    };\n}\n"],"mappings":";;;;;AAAAA,IAAAC,GAAAC,OAAA,wCAAAC,EAAAC,GAAA,sBAAAC,EAAAC,GAAA,OAAAA,KAAAC,mBAAAD,EAAAE,UAAA,YAAAF,EAAAE,QAAAF,CAAA,OAMOG,EAAIJ,EAAAF,GAAA,MAEJO,EAAcL,EAAAD,GAAA,MAAsBO,EAAIP,EAAA,QAE/C,SAASQ,EAAcC,GAEnB,MAAMC,EAA0BD,EAAYE,YAAY,kCAAkCC,OAC1F,GAAIF,EAA0B,EAAG,CAC7B,IAAIG,EAAa,GACjB,IAAIC,EAAU,MACd,IAAIC,EACAN,EAAYE,YAAY,kCAC1BK,QACF,GAAIC,SAASC,gBAAgBC,aAAa,SAAW,MAAO,CACxDL,EAAU,MACVC,EAAiBA,EAAeK,SACpC,CACAL,EAAeM,QAAQ,CAACC,EAAeC,KACnCV,GAAcS,EAAcE,MAC5B,KAAMD,EAAQb,EAAyB,CACnCG,GAAcC,CAClB,IAEJ,OAAOT,EAAKoB,QAAQ,YAAa,CAAC,SAAWhB,EAAYiB,mBAAqB,UAAWb,GAC7F,CAEA,GAAIJ,EAAYE,YAAY,gBAAgBC,OAAS,EAAG,CACpD,OAAOP,EAAKoB,QAAQ,YAAa,CAC7B,SAAWhB,EAAYiB,mBAAqB,UAC5CjB,EAAYkB,gBAAgBC,aAEpC,CAEA,OAAOnB,EAAYiB,kBACvB,CAEA,SAASG,EAAUpB,GACf,MAAMqB,EAASrB,EAAYE,YAAY,aACvC,MAAMoB,EAAaD,EAAOC,WAC1B,MAAMC,EAA6BD,EAAWE,uCAAuCC,GACrF,MAAMC,EAAmBL,EAAOM,cAAcC,gBAAgBP,OAAQQ,IAElE,GAAIN,GAA8BA,IAA+BM,EAAa,CAC1E,OAAO,KACX,CACA,OAAO,OAEX,OAAOH,EAAiBvB,OAAS,CACrC,CAEO,SAAS2B,EAAuC9B,GACnD,MAAM+B,EAAa/B,EAAYiB,mBAE/B,IAAKc,GAAcA,IAAe,KAAOA,IAAe,GAAI,OAE5D,MAAO,CACHhB,MAAOhB,EAAcC,GACrBgC,KAAM,oBACNC,gBAAiBjC,EAAYkC,2CAC7BC,iBAAkBrC,EAAKsC,OACvBC,SAAUxC,EAAeyC,WAAWF,OAAOC,SAC3CE,WAAYnB,EAAUpB,GAAe,oBAAsB,GAEnE,CAAC,IAAAwC,EAAA,CAAA9C,WAAA,MAAA8C,EAAAV,yCAAA,OAAAU,CAAA","ignoreList":[]}