/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)

(c) Copyright 2009-2017 SAP SE. All rights reserved
 */
sap.ui.define(["sap/base/Log","sap/collaboration/components/utils/JamUtil","sap/ui/core/mvc/Controller","sap/collaboration/library"],function(e,t,i,a){"use strict";var o=a.AppType;return i.extend("sap.collaboration.components.fiori.feed.commons.Detail",{onInit:function(){this.sJamToken=this.getView().getViewData().jamToken;this.sJamURL=this.getView().getViewData().jamURL;this.oLangBundle=this.getView().getViewData().langBundle;this.sPrefixId=this.getView().getViewData().controlId;this.oBusinessObject=this.getView().getViewData().businessObject;this.bJamWidgetInitialized=false;if(this.getView().getViewData().appType===o.split){}else{this.sFeedType=this.getView().getViewData().feedType;this.getView().oDetailPage.setShowHeader(false)}this.oJamUtil=new t},onBeforeRendering:function(){},onAfterRendering:function(){try{this.loadFeedWidget(this.sJamURL)}catch(t){e.error(t,"","sap.collaboration.components.fiori.feed.commons.Detail.onInit()");throw t}},loadFeedWidget:function(t){var i=this;try{var a=i.getView().getViewData().groupIds;var o=this.oJamUtil.prepareWidgetData(i.sJamToken,i.sFeedType,a,i.oBusinessObject);var s=function(t){e.info("Jam Feed Widget Loaded Successfully","sap.collaboration.components.fiori.feed.commons.Detail.onInit()");i.oJamUtil.initializeJamWidget(i.sJamURL);i.bJamWidgetInitialized=true;i.oJamUtil.createJamWidget(i.sPrefixId+"widgetContainer",o)};var n=function(t){e.error(t,"","sap.collaboration.components.fiori.feed.commons.Detail.loadFeedWidgetScript()");throw t};if(this.bJamWidgetInitialized===false){this.oJamUtil.loadFeedWidgetScript(t,s,n)}else{this.oJamUtil.createJamWidget(i.sPrefixId+"widgetContainer",o)}}catch(t){e.error(t,"","sap.collaboration.components.fiori.feed.commons.Detail.loadFeedWidgetScript()");throw t}}})});
//# sourceMappingURL=Detail.controller.js.map