// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.define(["sap/ushell_abap/bootstrap/evo/abap.xhrlogon.LibLoader","sap/ushell_abap/bootstrap/evo/abap.xhrlogon.configure","sap/ushell_abap/bootstrap/evo/abap.bootstrap.utils","sap/ushell_abap/bootstrap/evo/XhrLogonEventHandler","sap/base/Log"],(e,o,n,a,t)=>{"use strict";const r={};r.getLogonMode=function(e){return n.getUrlParameterValue("sap-ushell-xhrLogon-mode")||e&&e.xhrLogon&&e.xhrLogon.mode||"frame"};r.initXhrLogon=function(n){e.getLib().then(e=>{const a=r.getLogonMode(n);const s=r.createXhrLogonEventHandler(window,a);const g=e.LogonManager.getInstance();const l=e.XHRLogonManager.getInstance();const i={explicitMatchOnCORS:true};e.start(i);if(a==="reload"||a==="logoffAndRedirect"){g.unregisterAllHandlers();g.registerAuthHandler("*",e=>{s.handleEvent(e)})}else if(a!=="frame"){t.warning(`Unknown setting for xhrLogonMode: '${a}'. Using default mode 'frame'.`,null,"sap.ushell_abap.bootstrap.evo.abap.xhrlogon.handler")}e.Log.set(o.createUi5ConnectedXhrLogger());o.initXhrLogonIgnoreList(l)})};r.createXhrLogonEventHandler=function(e,o){return new a(e,o)};return r});
//# sourceMappingURL=abap.xhrlogon.handler.js.map