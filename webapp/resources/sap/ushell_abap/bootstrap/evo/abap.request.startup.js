// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.define(["./abap.bootstrap.utils","sap/base/util/ObjectPath","sap/base/Log","sap/ushell_abap/pbServices/ui2/Utils","sap/ushell/utils"],(e,t,r,a,s)=>{"use strict";const n={};function o(t,r,n){let o="/sap/bc/ui2/start_up?";const i=a.getParameterMap();let c;if(t){o+=`${t}&`}function u(e){const t=i[e];if(t){o+=`${e}=${encodeURIComponent(t[0])}&`}}r.forEach(u);o+=`shellType=${s.getShellType()}&depth=0`;if(n){o+=e.getCacheIdAsQueryParameter(n);c=e.createAndOpenXHR(o,n)}return new Promise((e,t)=>{a.get(o,false,t=>{const r=JSON.parse(t);e(r)},e=>{t(new Error(e))},c)})}n.requestStartupConfig=function(){const e=t.get("sap-ushell-config.services.Container.adapter.config");if(e){return Promise.resolve(e)}return o("",["sap-language","sap-client"])};n.requestFullTM=function(e){return o("so=%2A&action=%2A&systemAliasesFormat=object",["sap-language","sap-client","sap-ui2-cache-disable"],e).then(e=>{if(e){if(e.client){throw new Error("A start up response was returned in a target mappings request.")}return e}return{}}).catch(e=>{r.error("navTargetDataPromise rejected:",e);throw e})};n.requestDirectStart=function(e,t,r){const s=a.getFormFactor();let n="";n=`so=${t.semanticObject}&action=${t.action}`;n+="&systemAliasesFormat=object";Object.keys(r).forEach(e=>{n+=`&${e}=${r[e]}`});if(s){n+=`&formFactor=${encodeURIComponent(s)}`}return o(n,["sap-language","sap-client"],e).then(e=>Promise.resolve(e))};return n});
//# sourceMappingURL=abap.request.startup.js.map