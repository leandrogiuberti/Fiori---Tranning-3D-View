{"version":3,"file":"Utils.js","names":["sap","ui","define","URI","Log","SrvcError","Device","Utils","oCache","absoluteUrl","sUrl","sBase","window","location","href","indexOf","charAt","addCacheBusterTokenUsingUshellConfig","search","replace","callHandler","fnSuccess","fnFailure","bAsync","setTimeout","oError","sMessage","message","toString","error","get","bXml","oXHR","bCache","XMLHttpRequest","onreadystatechange","oResult","oXml","this","readyState","status","statusText","responseText","debug","responseXML","documentElement","put","bind","containsKey","OPENED","open","send","addCacheBusterToken","oPattern","sReplacement","sToken","test","removeCBAndNormalizeUrl","sUrlPrefix","sCacheBusterSegment","sUrlPostfix","isUriWithRelativeOrEmptyPath","sUrl0","oUri","sPath","path","is","aMatches","match","normalizePath","normalizePathname","isRelativePathWithDotSegmentsThatGoOutside","aSegments","segment","i","iPos","length","oCacheBusting","cacheBusting","oPatterns","patterns","sCacheBusterUrl","aParameterMap","aRules","getParameterMap","sSapUshellNoCb","urls","substr","hasOwnProperty","cacheBusterToken","Object","keys","forEach","sPattern","oRule","pattern","RegExp","push","sort","oRule1","oRule2","order","every","replacement","clearCache","Map","getFormFactor","system","desktop","SYSTEMTYPE","DESKTOP","tablet","TABLET","phone","PHONE","sSearchString","n","mResult","sKey","sValue","iIndexOfEquals","sSearch","arguments","aKeyValuePairs","substring","split","aKeyValuePairsLength","slice","decodeURIComponent","prototype","call","getParameterValue","sName","oParameterMap","iQueryIndex","isArray","o","apply","isString","name","parseXml","sXml","DOMParser","parseFromString","getElementsByTagName","entries","vValue","vOldValue","undefined","remove","aResult","JSON","stringify","join"],"sources":["Utils-dbg.js"],"mappings":"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","ignoreList":[]}