//@ui5-bundle sap/ushell_abap/library-preload.js
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell_abap/adapters/abap/AdapterContainer", ["sap/base/util/ObjectPath","sap/base/Log","sap/ui/thirdparty/jquery","sap/ui/core/format/DateFormat","sap/ushell_abap/pbServices/ui2/ODataService","sap/ushell/services/_Personalization/constants","sap/ushell/utils/LaunchpadError"],(e,t,jQuery,n,r,o,i)=>{"use strict";const a="PersContainers";const s="yyyyMMddHHmmss";const c=new Date(9999,1,1,0,0,0);const p=new Date(9999,1,1,0,0,0,0);const u="ADMIN#sap-ushell-container-expireUTCTimestamp";const l="ADMIN#sap-ushell-container-storageUTCTimestamp";const y="ADMIN#sap-ushell-container-scope";function h(e){const n="sap.ushell.personalization#";if(e.substring(0,n.length)!==n){t.error(`Unexpected ContainerKey ${e}`);return e}return e.substring(n.length,n.length+40)}function f(t,n,r,o){this._oService=n;this._oScope=r;this["sap-cache-id"]=e.get("_oService._oConfig.services.personalization.cacheId",this);this._sContainerKey=h(t);this._sAppName=o||"";this._category=this._determineCategory(r);this._oJSONContainer={category:this._category,clientExpirationTime:p,appName:this._sAppName,component:"",id:this._sContainerKey,PersContainerItems:[]};this._oPropertyBag={};this._aOperationQueue=[]}f.prototype._reset=function(){this._oJSONContainer.PersContainerItems=[]};f.prototype._obtainODataWrapper=function(){return this._oService._oWrapper};f.prototype.load=function(){const e=new jQuery.Deferred;const n=this;const o=this._obtainODataWrapper();let s=`${a}(category='${this._category}',id='${encodeURIComponent(this._sContainerKey)}')?$expand=PersContainerItems`;if(this._category&&this._category==="P"&&this["sap-cache-id"]){s=`${s}&sap-cache-id=${this["sap-cache-id"]}`}r.call(this,o,()=>false);o.read(s,t=>{n._oJSONContainer=t;n._oJSONContainer.category=n._category;n._oJSONContainer.id=n._sContainerKey;n._oJSONContainer.appName=n._sAppName;n._oJSONContainer.PersContainerItems=n._oJSONContainer.PersContainerItems&&n._oJSONContainer.PersContainerItems.results||[];e.resolve(n)},(n,r)=>{t.error(n);e.reject(new i(n,r))});return e.promise()};f.prototype.save=function(){t.debug("[000] save","AdapterContainer");const e=new jQuery.Deferred;const n=this;const o=this._obtainODataWrapper();const s=a;r.call(this,o,()=>false);o.create(s,this._oJSONContainer,()=>{e.resolve(n)},(t,n)=>{e.reject(new i(t,n))});return e.promise()};f.prototype.del=function(){const e=new jQuery.Deferred;const t=this;const n=this._obtainODataWrapper();const o=`${a}(category='${this._category}',id='${encodeURIComponent(this._sContainerKey)}')`;r.call(this,n,()=>false);n.del(o,n=>{e.resolve(t)},(t,n)=>{e.reject(new i(t,n))});this._reset();return e.promise()};f.prototype.getItemKeys=function(){const e=[];this._oJSONContainer.PersContainerItems.forEach(t=>{if(t.category==="V"){e.push(`VARIANTSET#${t.id}`)}else if(t.category==="I"){e.push(`ITEM#${t.id}`)}});if(this._oJSONContainer.validity>=0){e.push(l);e.push(u);e.push(y)}return e};f.prototype.containsItem=function(e){return this.getItemKeys().indexOf(e)>=0};function d(e){if(e===undefined||e===null){return null}const t=n.getDateInstance({pattern:s});return t.parse(JSON.parse(e),true)}function _(e){const r=n.getDateInstance({pattern:s});if(e===null){e=p}if(typeof e==="string"){if(/\/Date\(([0-9]+)\)\//.exec(e)){e=new Date(parseInt(/\/Date\(([0-9]+)\)\//.exec(e)[1],10))}else{t.error(`Expected Date format ${e}`)}}if(+e===+p){return undefined}return r.format(e,true)}f.prototype._findItemIndex=function(e,t){let n;for(n=0;n<this._oJSONContainer.PersContainerItems.length;n=n+1){if(this._oJSONContainer.PersContainerItems[n].id===e&&this._oJSONContainer.PersContainerItems[n].category===t){return n}}return undefined};f.prototype._locateItem=function(e){const n={index:-1};if(e===u){return{containerProperty:"clientExpirationTime",initialValue:p,convToABAP:d,convFromABAP:_}}if(e===y){return{containerProperty:"validity",initialValue:0,convToABAP:function(e){if(!e){return null}return JSON.parse(e).validity},convFromABAP:function(e,t){if(e<=0){return undefined}t=t||{};t.validity=e;return t}}}if(e===l){return{containerProperty:" ignore",initialValue:c,convToABAP:d,convFromABAP:_}}if(e.indexOf("ITEM#")===0){n.trueItemKey=e.substring("ITEM#".length,"ITEM#".length+40);n.category="I"}else if(e.indexOf("VARIANTSET#")===0){n.trueItemKey=e.substring("VARIANTSET#".length,"VARIANTSET#".length+40);n.category="V"}else if(e.indexOf("ADMIN#")!==0){t.error(`Unknown itemkey prefix${e}`)}n.index=this._findItemIndex(n.trueItemKey,n.category);return n};f.prototype.getItemValue=function(e){let t="";let n;const r=this._locateItem(e);if(r.containerProperty===" ignore"){return undefined}if(r.index>=0){t=this._oJSONContainer.PersContainerItems[r.index].value;try{n=JSON.parse(t)}catch{if(t==="X"){n=true}else{n=undefined}}}if(r.containerProperty){if(typeof r.convFromABAP==="function"){return r.convFromABAP(this._oJSONContainer[r.containerProperty],n)}return this._oJSONContainer[r.containerProperty]}return n};f.prototype.setItemValue=function(e,t){const n=JSON.stringify(t);const r=this._locateItem(e);if(r.containerProperty===" ignore"){return}if(r.containerProperty){if(typeof r.convToABAP==="function"){this._oJSONContainer[r.containerProperty]=r.convToABAP(n)}else{this._oJSONContainer[r.containerProperty]=n}if(!r.trueItemKey){return}}if(r.index>=0){this._oJSONContainer.PersContainerItems[r.index].value=n;return}this._oJSONContainer.PersContainerItems.push({value:n,id:r.trueItemKey,category:r.category,containerId:this._sContainerKey,containerCategory:this._category})};f.prototype.delItem=function(e){const t=this._locateItem(e);if(t.containerProperty===" ignore"){return}if(t.containerProperty){this._oJSONContainer[t.containerProperty]=t.initialValue;return}if(t.index>=0){this._oJSONContainer.PersContainerItems.splice(t.index,1);return}};f.prototype._determineCategory=function(e){if(!e){return"U"}const t=o;if(e.keyCategory&&e.keyCategory===t.keyCategory.FIXED_KEY&&e.writeFrequency&&e.writeFrequency===t.writeFrequency.LOW&&e.clientStorageAllowed&&e.clientStorageAllowed===true){return"P"}return"U"};return f});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell_abap/adapters/abap/AppStateAdapter", ["sap/base/util/ObjectPath","sap/ui/thirdparty/jquery","sap/base/Log","sap/ushell/utils","sap/ushell_abap/pbServices/ui2/ODataWrapper","sap/ushell_abap/pbServices/ui2/Error","sap/ushell_abap/pbServices/ui2/ODataService","sap/ushell/Container"],(e,jQuery,a,r,t,p,s,o)=>{"use strict";function n(a,r,n){this._oConfig=n&&n.config;const i=`${e.get("services.appState.baseUrl",n)||"/sap/opu/odata/UI2/INTEROP"}/`;const l={baseUrl:i,"sap-language":o.getUser().getLanguage(),"sap-client":o.getLogonSystem().getClient()};this._oWrapper=t.createODataWrapper(l);function u(e){throw new p(e,"sap.ushell_abap.adapters.abap.AppStateAdapter")}s.call(this,this._oWrapper,u)}n.prototype.saveAppState=function(e,r,t,p,s){const o=new jQuery.Deferred;const n="GlobalContainers";const i={id:e,sessionKey:r,component:s,appName:p,value:t};this._oWrapper.create(n,i,()=>{o.resolve()},e=>{a.error(`AppState save failed: ${e}`);o.reject(new Error(e))});return o.promise()};n.prototype.loadAppState=function(e){const t=new jQuery.Deferred;const p=`GlobalContainers(id='${encodeURIComponent(e)}')`;if(!e){throw new r.Error("The sKey is mandatory to read the data from the persistence layer")}this._oWrapper.openBatchQueue();this._oWrapper.read(p,e=>{t.resolve(e.id,e.value)},e=>{a.error(`AppState load failed: ${e}`);t.reject(new Error(e))},false);this._oWrapper.submitBatchQueue(()=>{},e=>{a.error(`AppState load failed: ${e}`);t.reject(new Error(e))});return t.promise()};return n});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell_abap/adapters/abap/ClientSideTargetResolutionAdapter", ["sap/base/util/ObjectPath","sap/base/util/isPlainObject","sap/base/util/deepExtend","sap/ushell/utils","sap/ushell/utils/UrlParsing","sap/base/Log","sap/ushell_abap/pbServices/ui2/ODataWrapper","sap/ushell_abap/pbServices/ui2/Utils","sap/ui/thirdparty/URI","sap/ushell/Container"],(e,t,a,r,i,s,n,o,l,p)=>{"use strict";const u="sap.ushell_abap.adapters.abap.ClientSideTargetResolutionAdapter";const f=["sap-wd-configId","SAP-WD-CONFIGID","sap-client","SAP-CLIENT","System","SYSTEM","sap-language","SAP-LANGUAGE","sap-wd-htmlrendermode","sap-wd-deltarendering","wdallowvaluesuggest","sap-wd-lightspeed","sap-wd-remotedesktop","sap-wd-flashdebug","sap-accessibility","sap-theme","sap-*","SAP-*","wd*","WD*"];function c(e,t,a){const i=this;const o=p;let l="";if(o){l=o.getLogonSystem().getProductName()||""}this._oLocalSystemAlias={http:{id:"",host:"",port:"",pathPrefix:"/sap/bc/"},https:{id:"",host:"",port:"",pathPrefix:"/sap/bc/"},rfc:{id:"",systemId:"",host:"",service:0,loginGroup:"",sncNameR3:"",sncQoPR3:""},id:"",label:"local",client:"",language:"",properties:{productName:l}};this.hasSegmentedAccess=true;this._oAdapterConfig=a&&a.config;this._wdLengthLimit=1800;this._oODataWrapper=undefined;this._getODataWrapper=function(){if(!this._oODataWrapper){this._oODataWrapper=n.createODataWrapper("/sap/opu/odata/UI2/INTEROP/")}return this._oODataWrapper};this._aTargetMappings=[];this._aInbounds=[];this._aInitialSegment=undefined;this._oSystemAliasBuffer=new r.Map;this._oURLTemplates={};this._storeFromFullStartupResponse=function(e){if(e){if(e.targetMappings){i._aTargetMappings=e.targetMappings}if(e.systemAliases){i._writeUserSystemAliasesToBuffer(e.systemAliases)}if(e.urlTemplates){i._oURLTemplates=e.urlTemplates}}};this._fallbackToFullStartupRequest=function(e,t){s.debug("Falling back to full start_up request from adapter","","sap.ushell_abap.adapters.abap.ClientSideTargetResolutionAdapter");i._requestAllTargetMappings().then(t=>{i._storeFromFullStartupResponse(t);e()}).catch(e=>{t(e)})};this._iTargetMappingsUnusedPromiseRejectCount=0;this._oInitialSegmentPromise=a&&a.config&&a.config.initialSegmentPromise||new Promise((e,t)=>{i._iTargetMappingsUnusedPromiseRejectCount++;if(i._iTargetMappingsUnusedPromiseRejectCount===2){i._fallbackToFullStartupRequest(e,t)}});this._oNavTargetPromise=a&&a.config&&a.config.navTargetDataPromise||new Promise((e,t)=>{i._iTargetMappingsUnusedPromiseRejectCount++;if(i._iTargetMappingsUnusedPromiseRejectCount===2){i._fallbackToFullStartupRequest(e,t)}});this._oInitialSegmentPromise.then(e=>{if(e===null){s.debug("Initial target mappings segment promise resolved with 'null'","Will not process initial target mappings segments again (mostly likely because this is no longer needed)","sap.ushell_abap.adapters.abap.ClientSideTargetResolutionAdapter");return}if(i._aTargetMappings.length===0){s.debug("Segmented start_up response returned","storing system aliases and inbounds from segment","sap.ushell_abap.adapters.abap.ClientSideTargetResolutionAdapter");const t=e[0];const a=e[1];const r=e[2];if(e.length>3){i._oURLTemplates=e[3]}i._aTargetMappings=a;i._writeUserSystemAliasesToBuffer(r);i._aInitialSegment=t}else{s.debug("Segmented start_up response returned","ignoring response because the full target mapping response returned before","sap.ushell_abap.adapters.abap.ClientSideTargetResolutionAdapter")}}).catch(e=>{s.error("Initial segment promise was rejected.",e,"sap.ushell_abap.adapters.abap.ClientSideTargetResolutionAdapter")});this._oNavTargetPromise.then(e=>{s.debug("Full start_up response returned","storing system aliases and inbounds","sap.ushell_abap.adapters.abap.ClientSideTargetResolutionAdapter");i._storeFromFullStartupResponse(e)})}c.prototype._adjustNavTargetResult=function(e){if(e){let t=e.url;let a;const r={applicationType:e.applicationType,additionalInformation:e.applicationData};let i;let n;let p;if(e.text){r.text=e.text}if(e.applicationType==="URL"||e.applicationType==="SAPUI5"){n=/^SAPUI5\.Component=(.*)/.exec(e.applicationData);i=n&&n[1];if(i||e.applicationDependencies){if(i){r.ui5ComponentName=i}if(e.applicationDependencies){try{p=JSON.parse(e.applicationDependencies);if(!r.ui5ComponentName&&p.name){r.ui5ComponentName=p.name;r.additionalInformation=`SAPUI5.Component=${r.ui5ComponentName}`}if(p&&p.url&&typeof p.url==="string"){a=t&&new l(t);if(a){if(p.url.toUpperCase().indexOf(a.path().toUpperCase())!==0){s.debug("Component URL defined in target mapping "+"does not match the URL retrieved from application index. "+"The URL of the application index is used for further processing.",`Target mapping URL: ${e.url}\nApplication index URL: ${p.url}`,"sap.ushell_abap.bootstrap.abap")}a.path(p.url);t=a.toString();s.debug("ResolveLink result's component url has been replaced with the url specified "+"in Application Dependencies, which includes cache buster token")}else{t=p.url}}r.applicationDependencies=p}catch(e){s.error(`Parsing of applicationDependencies attribute in resolveLink result failed for SAPUI5 component '${i}'`,e,"sap.ushell_abap.bootstrap.abap")}}t=o.addCacheBusterTokenUsingUshellConfig(t)}}r.url=t;return r}};c.prototype.resolveHashFragmentFallback=function(e,t,a){const r=this._constructShellHashForLpdCust(t,a);const i=a&&a["sap-system"]&&a["sap-system"][0];return this._resolveHashFragmentBE(r||e).then(e=>{if(e&&i){e["sap-system"]=e["sap-system"]||i}return e})};c.prototype.getInbounds=function(e){return new Promise((t,a)=>{this._oInitialSegmentPromise.then(a=>{if(a===null){return}if(this._isInSegment(e,this._aInitialSegment)){s.debug("Got inbounds from initial segment","","sap.ushell_abap.adapters.abap.ClientSideTargetResolutionAdapter");this._aInbounds=this._formatDirectStart(this._aTargetMappings);t(this._aInbounds)}else{s.debug("Did not get inbound in initial segment","","sap.ushell_abap.adapters.abap.ClientSideTargetResolutionAdapter")}});this._oNavTargetPromise.then(()=>{s.debug("Got inbounds from full start_up response","","sap.ushell_abap.adapters.abap.ClientSideTargetResolutionAdapter");this._aInbounds=this._formatDirectStart(this._aTargetMappings);this.getInbounds=function(){return Promise.resolve(this._aInbounds)};t(this._aInbounds)}).catch(a)})};c.prototype._isInSegment=function(e,t){if(!Array.isArray(t)||!Array.isArray(e)){return false}return e.every(e=>!t.every(t=>!(e.semanticObject===t.semanticObject&&e.action===t.action)))};c.prototype._requestAllTargetMappings=function(){const t=o.getParameterMap();let a="/sap/bc/ui2/start_up?so=%2A&action=%2A&";const i=e.create("services.targetMappings",this._oAdapterConfig).cacheId&&`&sap-cache-id=${e.create("services.targetMappings",this._oAdapterConfig).cacheId}`||"";function s(e){const r=t[e];if(r){a+=`${e}=${encodeURIComponent(r[0])}&`}}s("sap-language");s("sap-client");return new Promise((e,t)=>{o.get(`${a}&shellType=${r.getShellType()}&depth=0${i}`,false,a=>{const r=JSON.parse(a);if(!r){t(new Error("Malformed Full TM Result"))}e(r)},e=>{t(new Error(e))})})};c.prototype._formatDirectStart=function(e){const r=this;if(!e){this._aInitialSegment=undefined;return[]}function i(e,i){const n={};const o=e.match(/^([^-]+)-([^~]+)/);if(!o){s.warning(`The target mapping id ${e} is not valid`,"this target mapping will be discarded","sap.ushell_abap.adapters.abap.ClientSideTargetResolutionAdapter");return undefined}if(!i.hasOwnProperty("text")){i.text=""}n.semanticObject=o[1];n.action=o[2];n.id=e;n.title=i.text;n.permanentKey=`X-SAP-UI2-PAGE:${i.catalogId}:${i.tmChipId}`;n.contentProviderId="";const l={};["applicationType","applicationDependencies","applicationData","postParameters","text","url","systemAlias"].forEach(e=>{l[e]=i[e]});n.resolutionResult=c.prototype._adjustNavTargetResult(l);n.resolutionResult.additionalInformation=n.resolutionResult.additionalInformation||"";n.resolutionResult.appId=n.permanentKey;const p=n.resolutionResult;const u=p.applicationType;if(e.indexOf("Shell-startWCF")===0&&u==="URL"){n.resolutionResult.systemAliasSemantics="apply"}n.resolutionResult.applicationType=r._formatApplicationType(e,n.resolutionResult);n.resolutionResult.systemAlias=i.systemAlias||"";n.deviceTypes=i.formfactors;n.resolutionResult["sap.ui"]={};n.resolutionResult["sap.ui"].technology=n.resolutionResult.applicationType;if(n.resolutionResult["sap.ui"].technology==="SAPUI5"){n.resolutionResult["sap.ui"].technology="UI5"}if(n.resolutionResult["sap.ui"].technology==="TR"){n.resolutionResult["sap.ui"].technology="GUI"}if(!n.deviceTypes){n.deviceTypes=i.formFactors||{}}n.deviceTypes.desktop=n.deviceTypes.desktop||false;n.deviceTypes.phone=n.deviceTypes.phone||false;n.deviceTypes.tablet=n.deviceTypes.tablet||false;if(Array.isArray(i.signature)){n.signature={};n.signature.additionalParameters=i.allowParams?"allowed":"ignored";n.signature.parameters={};i.signature.forEach(e=>{const t={};let a;const i=e.name;if(e.defaultValue&&e.defaultValue.value){t.defaultValue={};t.defaultValue.value=e.defaultValue.value;t.defaultValue.format=e.defaultValue.format||"plain";a=r._extractUserDefaultValue(t.defaultValue.value);if(a){t.defaultValue={value:a,format:"reference"}}}if(e.filter&&e.filter.value){t.filter={};t.filter.value=e.filter.value;t.filter.format=e.filter.format||"plain";a=r._extractUserDefaultValue(t.filter.value);if(a){t.filter={value:a,format:"reference"}}}if(e.renameTo){t.renameTo=e.renameTo}t.required=e.required||false;n.signature.parameters[i]=t})}else{n.signature=a({parameters:{}},i.signature);n.signature.additionalParameters=n.signature.additionalParameters||(i.allowParams?"allowed":"ignored");Object.keys(n.signature.parameters).forEach(e=>{const t=n.signature.parameters[e];if(t.filter){t.filter.format=t.filter.format||"plain"}if(t.defaultValue){t.defaultValue.format=t.defaultValue.format||"plain"}t.required=t.required||false;if(t.filter&&t.filter.hasOwnProperty("format")&&!t.filter.hasOwnProperty("value")){delete t.filter}if(t.defaultValue&&t.defaultValue.hasOwnProperty("format")&&!t.defaultValue.hasOwnProperty("value")){delete t.defaultValue}})}const f=n.signature&&n.signature.parameters&&n.signature.parameters["sap-hide-intent-link"];if(f&&f.hasOwnProperty("defaultValue")){n.hideIntentLink=f.defaultValue.value==="true"}if(f&&!f.required&&f.hasOwnProperty("defaultValue")){delete n.signature.parameters["sap-hide-intent-link"]}if(typeof i.parameterMappings==="object"){Object.keys(i.parameterMappings).forEach(e=>{const t=i.parameterMappings[e];if(e&&t.target){n.signature.parameters[e]=n.signature.parameters[e]||{};n.signature.parameters[e].renameTo=t.target}})}if(n.resolutionResult.applicationType==="URL"&&t(i.urlTemplate)){n.templateContext=r.getUrlTemplateContext(i)}if(i.tcode){n.resolutionResult.appInfo={"abap.transaction":i.tcode}}return n}const n=[];Object.keys(e).forEach(t=>{const a=i(t,e[t]);if(a){n.push(a)}});return n};c.prototype._formatApplicationType=function(e,t){const a=t.applicationType;const r=t.url||"";function i(t,a){s.warning(`Cannot detect application type for TargetMapping id '${e}', will default to ${a} application type`,`TargetMapping URL is '${r}'`,u)}if(a==="SAPUI5"){return"SAPUI5"}if(a==="URL"&&t.additionalInformation&&t.additionalInformation.indexOf("SAPUI5.Component=")===0){return"SAPUI5"}if(a==="WDA"||a==="TR"||a==="WCF"){return a}if(e.indexOf("Shell-startWCF")===0&&a==="URL"){return"WCF"}if(a==="NWBC"){if(r.indexOf("/~canvas;window=app/wda")>=0){return"WDA"}if(r.indexOf("/~canvas;window=app/transaction")>=0){return"TR"}i(t,"TR");return"TR"}if(a!=="URL"){i(t,"URL")}return"URL"};c.prototype._extractUserDefaultValue=function(e){let t;const a=new RegExp("^%%(UserDefault[.].+)%%$");const r=a.exec(e);return r?r[1]:t};c.prototype._formatSignature=function(e,t){const a=this;const r={parameters:{},additionalParameters:t===false?"ignored":"allowed"};if(!e.results){return r}e.results.forEach(t=>{const i=t.name;let n;if(Object.prototype.hasOwnProperty.call(r.parameters,i)){s.error(`Duplicate property name ${i} in ${JSON.stringify(e)}`,"ClientSideTargetResolutionAdapter._formatSignature")}r.parameters[i]={required:a._getObjectDefaulting(t,"required",false)};const o=r.parameters[i];const l=a._getObjectDefaulting(t,"value","");if(t.regexp===true){o.filter={value:l===""?".*":l,format:"regexp"};return}if(t.required===false){n=a._extractUserDefaultValue(l);if(n){o.defaultValue={value:n,format:"reference"};return}if(l!==""){o.defaultValue={value:l}}return}if(t.required===true&&t.value){n=a._extractUserDefaultValue(l);if(n){o.filter={value:n,format:"reference"};return}if(l!==""){o.filter={value:l}}}});return r};c.prototype._mergeParameterMappingsIntoSignature=function(e,t){const a=t.results;if(!a){return}a.forEach(t=>{const a=t.source;const r=t.target;if(r){e.parameters[a]=e.parameters[a]||{};if(e.parameters[a].renameTo){s.warning(`duplicate parameter mapping for'${a}'`,`OData Parameter mappings is ${JSON.stringify(t,null,"   ")}`,u)}e.parameters[a].renameTo=r}})};c.prototype._formatDeviceTypes=function(e){const t={};const a=this;["desktop","tablet","phone"].forEach(r=>{t[r]=a._getObjectDefaulting(e,r,false)});return t};c.prototype._getObjectDefaulting=function(t,a,r){const i=e.get(a||"",t);return i===undefined?r:i};c.prototype._constructShellHashForLpdCust=function(a,r){let n="";let o;const l=e.get("resolutionResult._original",a);if(!t(l)){o="the given target mapping is not an object"}if(!o&&!l.hasOwnProperty("id")){o="no id found in target mapping _original object"}if(!o&&typeof l.id!=="string"){o="the target mapping id was not a string"}if(!o&&l.id.length===0){o="the target mapping id was an empty string"}if(o){s.error("Cannot construct Shell Hash for LPD_CUST resolution",o,"sap.ushell_abap.adapters.abap.ClientSideTargetResolutionAdapter");return undefined}n+=l.id;const p=i.paramsToString(r);if(p.length>0){n+=`?${p}`}return n};c.prototype._openBatchQueueUnlessOpen=function(e){if(e.isBatchQueueOpen()){return false}e.openBatchQueue();return true};c.prototype._resolveHashFragmentBE=function(e){const t=this;const a=o.getFormFactor();function i(e){return encodeURIComponent(e).replace(/'/g,"''")}const n=this._openBatchQueueUnlessOpen(this._getODataWrapper());function l(e,t){if(e){t+=t.indexOf("?")<0?"?":"&";t+=e}return t}return new Promise((o,p)=>{this._oODataWrapper.read(`ResolveLink?linkId='${i(e)}'&shellType='${r.getShellType()}'${a?`&formFactor='${i(a)}'`:""}`,a=>{let r;let i="";let n;if(a.results.length){if(a.results.length>1){for(r=0;r<a.results.length;r+=1){delete a.results[r].__metadata;i+=(r===0?"used target: ":"\nignored target: ")+JSON.stringify(a.results[r])}s.error("INTEROP service's ResolveLink operation "+`returned ${a.results.length} targets for hash '#${e}', first one is used.`,i,"sap.ushell_abap.adapters.abap.ClientSideTargetResolutionAdapter")}a=a.results[0];n=c.prototype._adjustNavTargetResult(a);n.url=l(a.postParameters,n.url);if(n&&n.applicationType==="SAPUI5"){n.applicationType="URL"}t._compactTooLongWdaUrl(n).then(e=>{o(e)}).catch(t=>{s.error(`Could not resolve link '${e}' due to compactation failure`,t);p(t)})}else{p(new Error(`Could not resolve link '${e}'`))}},e=>{p(new Error(e))});if(n){t._getODataWrapper().submitBatchQueue(()=>{},e=>{p(new Error(e))})}})};c.prototype._compactTooLongWdaUrl=function(e){const t=e&&e.url;return new Promise((a,r)=>{if(e&&e.applicationType==="NWBC"&&t&&t.indexOf("/ui2/nwbc/~canvas;window=")===0&&t.length>this._getWDAUrlShorteningLengthLimit()){this._compactUrl(t).then(t=>{e.url=t;a(e)}).catch(r)}else{a(e)}})};c.prototype._compactUrl=function(e){const t=e.match(/\?.*/);const a=t&&t[0];const r=this._getWDAUrlShorteningLengthLimit()-200;return new Promise((s,n)=>{if(a&&a.length<r){return s(e)}const o=i.parseParameters(t[0]);p.getServiceAsync("ShellNavigationInternal").then(t=>{t.compactParams(o,f,undefined).done(t=>{const a=`${e.match(/^[^?]*/)[0]}?${i.paramsToString(t)}`;s(a)}).fail(n)}).catch(n)})};c.prototype._getWDAUrlShorteningLengthLimit=function(){const e=r.getParameterValueBoolean("sap-ushell-nowdaurlshortening");if(e){return 6e6}return this._wdLengthLimit};c.prototype.resolveSystemAlias=function(e){let t;const a=this;let r;return new Promise((i,n)=>{function o(){r=a._readSystemAliasFromBuffer(e);if(r){s.debug(`System alias '${e}' is now in buffer`,"Skipping INTEROP service call","sap.ushell_abap.adapters.abap.ClientSideTargetResolutionAdapter");i(r)}else{s.debug(`System alias '${e}' still not in buffer`,"Resolving via INTEROP service","sap.ushell_abap.adapters.abap.ClientSideTargetResolutionAdapter");a._readSystemAliasViaInterop(e).catch(e=>{n(e)}).then(e=>{r=a._fixSystemAlias(e);if(r&&r.id){a._writeSystemAliasToBuffer(r);i(r)}else{t="Data returned for system alias is not valid. Has no 'id'. System alias data will not be cached.";s.warning(`ClientSideTargetResolutionAdapter: ${t}`);i(r)}})}}r=this._readSystemAliasFromBuffer(e);if(r){s.debug(`System alias '${e}' was already buffered`,"","sap.ushell_abap.adapters.abap.ClientSideTargetResolutionAdapter");window.setTimeout(()=>{i(r)},0)}else{s.debug(`System alias '${e}' is not in buffer`,"","sap.ushell_abap.adapters.abap.ClientSideTargetResolutionAdapter");this._oInitialSegmentPromise.finally(o)}})};c.prototype._writeUserSystemAliasesToBuffer=function(e){const a=this;if(typeof e==="undefined"){return}if(t(e)){Object.keys(e).forEach(t=>{a._writeSystemAliasToBuffer(a._fixSystemAlias(e[t]))});return}e.forEach(e=>{a._writeSystemAliasToBuffer(a._fixSystemAlias(e))})};c.prototype._readSystemAliasFromBuffer=function(e){const t=this._oSystemAliasBuffer.get(e);if(e===""){if(!t){return this._oLocalSystemAlias}t.properties=a({},this._oLocalSystemAlias.properties,t.properties||{})}return t};c.prototype._writeSystemAliasToBuffer=function(e){if(e&&e.id){this._oSystemAliasBuffer.put(e.id,e)}return e};c.prototype._fixSystemAlias=function(e){e=e||{};delete e.__metadata;const t={};t.id=e.id||"";t.client=e.client||"";t.language=e.language||"";["http","https"].forEach(r=>{if(e.hasOwnProperty(r)){delete e[r].__metadata;if(e[r].id!==""){t[r]=a({id:"",host:"",port:"",pathPrefix:""},e[r])}}});if(e.hasOwnProperty("rfc")&&e.rfc.id){delete e.rfc.__metadata;t.rfc=a({id:"",systemId:"",host:"",service:0,loginGroup:"",sncNameR3:"",sncQoPR3:""},e.rfc)}return t};c.prototype._readSystemAliasViaInterop=function(e){const t=`SystemAliases(id='${encodeURIComponent(e)}')?$format=json`;return new Promise((e,a)=>{this._getODataWrapper().read(t,t=>{e(t)},e=>{a(new Error(e))})})};c.prototype.getSystemAliases=function(){return this._oSystemAliasBuffer&&this._oSystemAliasBuffer.entries||{}};c.prototype.getUrlTemplateContext=function(e){const t=this._oURLTemplates[e.urlTemplate.id];if(!t){s.error("No URL template found.");return null}const a={systemAliases:this.getSystemAliases(),urlTemplates:this._oURLTemplates};return{payload:t.payload,site:a,siteAppSection:e}};return c});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell_abap/adapters/abap/CommonDataModelAdapter", [],()=>{"use strict";return function(){}});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell_abap/adapters/abap/ConfigurationDefaultsAdapter", ["sap/ushell_abap/bootstrap/evo/abap.constants","sap/base/util/deepClone"],(e,t)=>{"use strict";return function(){this.getDefaultConfig=function(){return Promise.resolve(t(e.defaultUshellConfig))}}});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell_abap/adapters/abap/ContainerAdapter", ["sap/ui/thirdparty/jquery","sap/ushell/System","sap/ushell/User","sap/ushell/utils","sap/ushell_abap/bootstrap/evo/abap.bootstrap.utils","sap/ushell_abap/pbServices/ui2/ODataWrapper","sap/ui/thirdparty/URI","sap/ui/thirdparty/datajs","sap/base/util/deepClone","sap/base/util/ObjectPath","sap/base/Log","sap/ushell/Container"],(jQuery,e,t,s,a,i,r,n,o,l,u,c)=>{"use strict";function d(f,m,p){let g;const y="/sap/public/bc/icf/logoff";this._logoutViaHiddenIFrame=function(e){return new Promise(t=>{const s=document.createElement("iframe");const a=e.replace(/"/g,'\\"');window.addEventListener("message",s=>{if(s.data===e){t()}});s.style.visibility="hidden";s.setAttribute("src",e);function i(){window.parent.postMessage(a,"*")}s.addEventListener("load",i);s.addEventListener("error",i);document.body.appendChild(s)})};this.getSystem=function(){return f};this.getUser=function(){return g};this._determineAccessibility=function(e){let t=s.getParameterValueBoolean("sap-accessibility");if(t!==undefined){return t}t=e.accessibility;if(t!==undefined){return t}return false};this._setThemeAccessibilityFlags=function(e){if(e.userProfile&&e.userProfile.length){const t=e.userProfile.filter(e=>e.id&&e.id==="THEME")[0];if(t&&t.value){e.setThemePermitted=t.editState===3}else{e.oUserProfileDataTheme=false}const s=e.userProfile.filter(e=>e.id&&e.id==="ACCESSIBILITY")[0];if(s&&s.id){e.setAccessibilityPermitted=s.editState===3}else{e.setAccessibilityPermitted=false}if(s&&s.value==="true"){e.accessibility=true}if(s&&s.value==="false"){e.accessibility=false}e.accessiblity=this._determineAccessibility(e)}};this._setUserProfileFlags=function(e){if(e.userProfile&&e.userProfile.length&&Array.isArray(e.userProfile)){const t={};e.setContentDensityPermitted=false;e.userProfile.forEach(s=>{if(s.id in t){return}t[s.id]=s.id;if(s.id==="CONTENT_DENSITY"){e.contentDensity=s.value;e.setContentDensityPermitted=s&&s.editState===3||false}if(s.id==="TRACKING_USAGE_ANALYTICS"){if(typeof s.value==="string"){if(s.value.toLowerCase()==="true"||s.value.toLowerCase()==="false"){s.value=s.value.toLowerCase()==="true"||false}else{s.value=undefined}}if(typeof s.value==="undefined"||typeof s.value==="boolean"){e.trackUsageAnalytics=s.value}else{e.trackUsageAnalytics=undefined}}if(s.id==="MYHOME_IMPORT_FROM_CLASSIC"){e.importBookmarks=s.value}if(s.id==="MYHOME_ENABLEMENT"){switch(s.value){case"false":e.showMyHome=false;break;case"true":e.showMyHome=true;break;default:e.showMyHome=undefined;break}}if(s.id==="THEME_DARKMODE_AUTO_DETECTION"){switch(s.value){case"false":e.detectDarkMode=false;break;case"true":e.detectDarkMode=true;break;default:e.detectDarkMode=undefined;break}}})}};this._removeUnsupportedUserProperties=function(e){const t=o(e);const s=["id","email","firstName","lastName","fullName","isJamActive","isAdminUser","timeZone","language","languageBcp47","image","isImageConsent","isLanguagePersonalized","calendarWeekNumbering","trackUsageAnalytics","contentDensity","setContentDensityPermitted","accessibility","setAccessibilityPermitted","bootTheme","themeRoot","ranges","setThemePermitted","importBookmarks","showMyHome","detectDarkMode","userProfile"];Object.keys(t).forEach(e=>{if(!s.includes(e)){delete t[e]}});return t};this.load=function(){const s=new jQuery.Deferred;const a=p.config;const r=a.systemProperties;f=new e({alias:f.getAlias(),platform:f.getPlatform(),baseUrl:a.baseUrl,client:a.client,clientRole:a.clientRole,system:a.system,productName:r&&r.productName,systemName:r&&r.systemName,systemRole:r&&r.systemRole,tenantRole:r&&r.tenantRole,productVersion:a.productVersion,isTrialSystem:a.isTrialSystem,sysInfoBar:r&&r.sysInfoBar,sysInfoBarColor:r&&r.sysInfoBarColor,sysInfoBarMainText:r&&r.sysInfoBarMainText,sysInfoBarSecondaryText:r&&r.sysInfoBarSecondaryText,sysInfoBarIcon:r&&r.sysInfoBarIcon});this._setThemeAccessibilityFlags(a);this._setUserProfileFlags(a);const n=this._removeUnsupportedUserProperties(a);g=new t(n);i["sap-language"]=a.language;i["sap-client"]=a.client;if(a.target){d.startUpApplication={adjustedInitialTarget:a.adjustedInitialTarget,target:a.target}}this._setUserImage(g);return s.resolve().promise()};this.addFurtherRemoteSystems=function(){const t=new jQuery.Deferred;c.getServiceAsync("PageBuilding").then(s=>{s.getFactory().getPageBuildingService().readAllCatalogsForUser("type eq 'H' or type eq 'REMOTE'",s=>{const a="/sap/opu/odata/sap/SM_CATALOG_SRV/";if(s.results){s.results.forEach(t=>{const s=/^\/sap\/hba\//.test(t.baseUrl);if(t.type==="H"||t.baseUrl===a||s){c.addRemoteSystem(new e({alias:t.systemAlias,platform:s||t.type==="H"?"hana":"abap",baseUrl:t.type==="H"?"":";o="}))}})}t.resolve()},e=>{u.error("Reading REMOTE catalogs failed:",e,"sap.ushell_abap.adapters.abap.ContainerAdapter");t.reject(new Error(e))})}).catch(t.reject);return t.promise()};this.getCurrentUrl=function(){return window.location.href};this.sessionKeepAlive=function(){const e="/sap/opu/odata/UI2/PAGE_BUILDER_PERS";const t=a.createAndOpenXHR(e,null,"HEAD");t.onreadystatechange=function(){if(this.readyState===4){u.debug("server session was extended")}};t.send()};this.logout=async function(e){if(e){if(s.hasNativeLogoutCapability()){const e=new r(y).absoluteTo(this.getCurrentUrl()).search("").toString();window.external.getPrivateEpcm().doLogOff(e)}else{this.logoutRedirect()}u.info(`ABAP system logged out: ${f.getAlias()}`,null,"sap.ushell_abap.adapters.abap.ContainerAdapter")}else{const e=this._setUrlLanguage(f.adjustUrl(y));u.info(`Logging out from system '${f.getAlias()}' via hidden iframe`);await this._logoutViaHiddenIFrame(e)}};this.logoutRedirect=function(){const e=this._setUrlLanguage(f.adjustUrl(y));this._setDocumentLocation(e)};this._setDocumentLocation=function(e){window.document.location=e};this._setUserImage=function(e){function t(){const e=window["sap-ushell-config"];const t=l.get("renderers.fiori2.componentData.config.enableUserImage",e);return!!t}if(t()&&e&&e.isJamActive&&e.isJamActive()){n.read("/sap/bc/ui2/smi/rest_tunnel/Jam/api/v1/OData/Self?$format=json",t=>{const s=t.results.Id;const a=`/sap/bc/ui2/smi/rest_tunnel/Jam/api/v1/OData/Members('${s}')/ProfilePhoto/$value`;e.setImage(a)},e=>{u.error("Could not receive JAM user data")})}};this._setUrlLanguage=function(e){const t=this.getUser().getLanguage();if(t){e+=`${e.indexOf("?")>=0?"&":"?"}sap-language=${t}`}return e}}return d});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell_abap/adapters/abap/FlpLaunchPageAdapter", ["sap/ui/thirdparty/URI","sap/ushell/components/cards/ManifestPropertyHelper","sap/ui/thirdparty/jquery","sap/base/util/ObjectPath","sap/base/util/isEmptyObject","sap/m/GenericTile","sap/ushell/Config","sap/base/util/deepExtend","sap/ushell/utils/chipsUtils","sap/ushell_abap/pbServices/ui2/Utils","sap/ushell_abap/pbServices/ui2/Page","sap/base/Log","sap/m/library","sap/ushell/ui/tile/StaticTile","sap/ushell/utils","sap/ushell_abap/pbServices/ui2/contracts/preview","sap/ushell/Container","sap/ushell/utils/LaunchpadError"],(e,t,jQuery,i,r,n,o,s,a,l,c,u,g,p,f,d,h,_)=>{"use strict";const C=g.LoadState;const m="sap.ushell_abap.adapters.abap.LaunchPageAdapter";const y="/UI2/Fiori2LaunchpadHome";const T="/UI2/FLPD_CATALOG";const I="X-SAP-UI2-CHIP:/UI2/DYNAMIC_APPLAUNCHER";const P="X-SAP-UI2-CHIP:/UI2/STATIC_APPLAUNCHER";const b="X-SAP-UI2-CHIP:/UI2/CARD";const S={catalogTileNotFound:"catalogTileNotFound",referenceTileNotFound:"referenceTileNotFound",noTargetMapping:"noTargetMapping",emptyConfiguration:"emptyConfiguration",tileIntentSupportException:"tileIntentSupportException"};const v="/UI2/FLPNoActionChip";function w(g,E,O){let k;let A;let x;const j=new l.Map;const D=O&&O.config||{};const B=D.services&&D.services.launchPage;const N={};const $=this;this._oCurrentPageSet=null;this._bPageSetFullyLoaded=false;this._aOtherChipsPromises=[];d.setEnvironmentType("runtime");function L(e,t,i){try{return e.getImplementationAsSapui5()}catch(e){u.error(i,e,m);return new p({icon:"sap-icon://error",info:"",infoState:"Critical",subtitle:e.message||e,title:t}).addStyleClass("sapUshellTileError")}}w.prototype._getBagText=function(e,t,i){if(e.getBagIds().indexOf(t)>-1&&e.getBag(t).getTextNames().indexOf(i)>-1){return e.getBag(t).getText(i)}return undefined};w.prototype._getConfigurationProperty=function(e,t,i){let r;let n;try{r=e.getConfigurationParameter(t);n=JSON.parse(r)}catch{return undefined}if(n[i]!==undefined){return n[i]}return undefined};w.prototype._orderBasedOnConfiguration=function(e,t){let i=e&&l.isArray(e.order)?e.order:[];const r={};const n=[];let o;let s;let a;i=i.concat(e&&l.isArray(e.linkOrder)?e.linkOrder:[]);for(s=0,a=t.length;s<a;s+=1){o=t[s];r[o.getId()]=o}for(s=0,a=i.length;s<a;s+=1){const e=i[s];if(Object.prototype.hasOwnProperty.call(r,e)){n.push(r[e]);delete r[e]}}for(s=0,a=t.length;s<a;s+=1){o=t[s];if(Object.prototype.hasOwnProperty.call(r,o.getId())){n.push(o)}}return n};function R(e,t){const i=e.indexOf(t);if(i<0){return i}e.splice(i,1);return i}function F(e,t,i){if(i==="link"){return R(e.linkOrder,t.getId())}return R(e.order,t.getId())}function G(e,t,i,r){if(r==="link"){i=i-e.order.length;e.linkOrder.splice(i,0,t)}else{e.order.splice(i,0,t)}}function U(e,t){const i=t.getGroupTiles(e);const r={order:[],linkOrder:[]};i.forEach(e=>{const i=t.getTileType(e);if(i==="link"){r.linkOrder.push(e.getId())}else{r.order.push(e.getId())}});return r}function M(){let e;try{e=JSON.parse($._oCurrentPageSet.getConfiguration());e.order.splice(0,0,$._oCurrentPageSet.getDefaultPage().getId())}catch{e={order:[$._oCurrentPageSet.getDefaultPage().getId()]}}return w.prototype._orderBasedOnConfiguration(e,$._oCurrentPageSet.getPages())}this.hideGroups=function(e){const t=new jQuery.Deferred;if(!e||!(e instanceof Array)){t.reject(new Error("Input parameter must be of type Array."))}else{const i=JSON.parse($._oCurrentPageSet.getConfiguration()||"{}");i.hiddenGroups=e;$._oCurrentPageSet.setConfiguration(JSON.stringify(i),t.resolve.bind(t),e=>{t.reject(new Error(e))})}return t.promise()};this.isGroupVisible=function(e){const t=$._oCurrentPageSet.getConfiguration();if(!t){return true}const i=JSON.parse(t);if(!i||!i.hiddenGroups){return true}const r=i.hiddenGroups;for(let t=0;t<r.length;t+=1){if(r[t]===e.getId()){return false}}return true};w.prototype._triggerChipInstanceLoad=function(e){function t(){if(e._loadingDeferred){e._loadingDeferred.resolve()}delete e._loadingDeferred;delete e.$loadingPromise}function i(t){u.error(`Failed to load tile '${e.toString()}': ${t}`,null,m);if(e._loadingDeferred){e._loadingDeferred.reject(new Error(t))}delete e._loadingDeferred;delete e.$loadingPromise}e.load(t,i)};function J(e){const t=e.getChip().getBaseChipId();return t===I||t===P}function H(e){const t=e.getChip().getBaseChipId();return b===t}function q(e){return!!e.getChip().getRemoteCatalog()}function z(e){return!q(e)&&e.getChip().getBaseChipId()===undefined}this._loadApplaunchersAndDelayLoadingOfOtherChips=function(e,t){let i=0;const r=[];const n=[];function o(){if(i<=0){t()}}function s(e){e._loadingDeferred=new jQuery.Deferred;e.$loadingPromise=e._loadingDeferred.promise();$._aOtherChipsPromises.push(new Promise((t,i)=>{e.$loadingPromise.done(t).fail(i)}));if(window["sap-ui-debug"]===true){w.prototype._triggerChipInstanceLoad(e)}else{sap.ui.require(["sap/ushell/EventHub"],t=>{const i=t.on("CoreResourcesComplementLoaded");i.do(t=>{if(t.status==="success"){w.prototype._triggerChipInstanceLoad(e);i.off()}else{u.error("Did not load custom tile as core resources where not loaded",null,m)}})})}}function a(e){function t(){i-=1;o()}i+=1;e.load(t,i=>{u.error(`Failed to load tile: ${i}`,e.toString(),m);t()})}e.forEach(e=>{e.getChipInstances().forEach(e=>{if(q(e)){n.push(e)}else if(z(e)){}else if(J(e)||H(e)){a(e)}else{r.push(e)}})});r.forEach(e=>{s(e)});n.forEach(e=>{s(e)});o()};w.prototype._readTargetMappings=function(){const e=new jQuery.Deferred;function t(e){const t=[];const i=e.targetMappings||e||{};Object.keys(i).forEach(e=>{const r={};["semanticObject","semanticAction","formFactors"].forEach(t=>{r[t]=i[e][t]});t.push(r)});return t}if(i.get("compactTMPromise",D)){D.compactTMPromise.then(i=>{const r=t(i||{});e.resolve({results:r})}).catch(t=>{e.reject(t)});return e.promise()}const r=i.create("services.targetMappings",D);const n=r.cacheId||"";let o=`/sap/bc/ui2/start_up?so=%2A&action=%2A&tm-compact=true&shellType=${f.getShellType()}&depth=0`;if(n){o+=`${o.indexOf("?")<0?"?":"&"}sap-cache-id=${n}`}const s=r.sUI2CacheDisable;if(s){o+=`${o.indexOf("?")<0?"?":"&"}sap-ui2-cache-disable=${s}`}l.get(o,false,i=>{const r=JSON.parse(i);const n=r.targetMappings||{};const o=t(n);e.resolve({results:o})},t=>{e.reject(new Error(t))});return e.promise()};w.prototype._makeTargetMappingSupportKey=function(e,t){return`${e}-${t}`};w.prototype._isWrapperOnly=function(e){return!e.getConfiguration()};function V(e,t){const i=[];t.forEach(t=>{const r=t.getRemoteCatalog();if(t.getBaseChipId()==="X-SAP-UI2-CHIP:/UI2/ACTION"){return}const n=e.createChipInstance({chipId:t.getId(),remoteCatalogId:r&&r.getId()});i.push(n)});return i}function K(e){const t=$._oCurrentPageSet.getDefaultPage().getAllCatalogs();const i=t.getCatalogs();const r=[];for(let t=0;t<i.length;t+=1){const n=i[t];r.push({data:{},errorMessage:undefined,id:n.getId(),title:n.isStub()?n.getId():n.getTitle(),tiles:n.isStub()?[]:V(e,n.getChips()),ui2catalog:n})}return r}function W(e){let t;const i=e.getConfigurationParameter("tileConfiguration");try{t=JSON.parse(i||"{}")}catch(t){u.error(`Tile with ID '${e.getId()}' has a corrupt configuration containing a 'tileConfiguration' value '${i}' which could not be parsed. If present, a (stringified) JSON is expected as value.`,t,"sap.ushell_abap.adapters.abap.LaunchPageAdapter");return{}}return t}function X(e){const t={};let i;let r;let n;try{i=JSON.parse(e.getChip()._getChipRawConfigurationString());r=JSON.parse(i&&i.tileConfiguration||"{}");n=JSON.parse(r&&r.TILE_PROPERTIES||"{}");if(n.semanticObject&&n.semanticAction){t.navigation_use_semantic_object=true;t.navigation_semantic_object=n.semanticObject;t.navigation_semantic_action=n.semanticAction}}catch(e){return{}}return t}function Q(e){let t;if(e.getChip().getBaseChipId()==="X-SAP-UI2-CHIP:/UI2/AR_SRVC_NEWS"){return{navigation_use_semantic_object:true,navigation_semantic_object:"NewsFeed",navigation_semantic_action:"displayNewsList",navigation_semantic_parameters:"",navigation_target_url:"#NewsFeed-displayNewsList"}}const i=X(e);if(i.navigation_use_semantic_object){return i}try{const i=JSON.parse(e.getChip()._getChipRawConfigurationString());t=JSON.parse(i&&i.tileConfiguration||"{}")}catch(e){return{}}return t}this._parseFullChipId=function(e){const t=e.split(":");const i=t.pop();let r=null;if(t.length>2){r=t.shift()}return{id:i,prefix:r,catalog:t.join(":")}};this.getTargetMappingSupport=function(){return j};this._parseReferenceLost=function(e){const t=e||"";if(!t.match(/^Reference lost: Note \d+ Page.+\s,\sInstance ID.+$/)){u.warning("The string that describes a lost reference is in an unexpected format",`This is expected to be a string exactly like 'Reference lost: Note <#> Page <CATALOG_ID> , Instance ID <CHIP_ID>' instead of the given '${e}'`,"sap.ushell_abap.adapters.abap.LaunchPageAdapter");return{id:"Unknown",catalog:"Unknown"}}const i=t.split(" , ").map(e=>e.split(" ").pop());return{id:i[1],catalog:i[0]}};this._flattenArray=function(e){const t=this;if(Object.prototype.toString.apply(e)!=="[object Array]"){return e}return e.reduce((e,i)=>e.concat(t._flattenArray(i)),[])};this._findAndReportTileErrors=function(e,t){const i=this._getPossibleTileErrors(e,t);if(i.length>0){this._reportTileErrors(i)}};this._getPossibleTileErrors=function(e,t){const i=this;return e.map(e=>({group:{id:e.getId(),title:e.getTitle()},errors:i._getPossibleTileErrorsFromOnePage(e,t)}))};this._getPossibleTileErrorsFromOnePage=function(e,t){const i=this;const r=e.getChipInstances().reduce((e,r)=>{let n;let o;const s=r.getChip();const a=i._parseFullChipId(s.getId());if(!s.isInitiallyDefined()){e.push({type:S.catalogTileNotFound,chipInstanceId:r.getId(),chipId:a.id,chipCatalogId:a.catalog})}else if(s.isReference()&&s.isBrokenReference()){const t=i._parseReferenceLost(s.getTitle());e.push({type:S.referenceTileNotFound,chipInstanceId:r.getId(),referenceChipId:a.id,referenceChipCatalogId:a.catalog,missingReferredChipId:t.id,missingReferredCatalogId:t.catalog})}else{try{n=i._checkTileIntentSupport(r,t)}catch(e){n={isSupported:false,reason:S.tileIntentSupportException,exception:e}}if(!n.isSupported){const t=i._getBagText(r,"tileProperties","display_title_text");const s=i._getBagText(r,"tileProperties","display_subtitle_text");switch(n.reason){case S.noTargetMapping:if(J(r)){o=W(r)}else{o=Q(r)}e.push({type:S.noTargetMapping,chipInstanceId:r.getId(),chipInstanceTitle:t||o.display_title_text||r.getTitle(),chipInstanceSubtitle:s||o.display_subtitle_text,tileURL:o.navigation_target_url||`#${o.navigation_semantic_object}-${o.navigation_semantic_action}${o.navigation_semantic_parameters?`?${o.navigation_semantic_parameters}`:""}`});break;case S.emptyConfiguration:const i=r.getConfigurationParameter("tileConfiguration");e.push({type:S.emptyConfiguration,chipInstanceId:r.getId(),chipInstanceTitle:t||r.getTitle(),chipInstanceSubtitle:s||null,tileConfiguration:i});break;case S.tileIntentSupportException:e.push({type:S.tileIntentSupportException,exception:n.exception,chipInstanceId:r.getId()});break;case S.referenceTileNotFound:break;default:}}}return e},[]);return r};this._formatTileError=function(e){switch(e.type){case S.catalogTileNotFound:return`comes from catalog tile with ID '${e.chipId}' but this cannot be found in catalog '${e.chipCatalogId}' (CATALOG TILE NOT FOUND).`;case S.referenceTileNotFound:return`comes from reference tile '${e.referenceChipId}'`+` in catalog '${e.referenceChipCatalogId}'`+` which in turn refers to the tile '${e.missingReferredChipId}'`+` from catalog '${e.missingReferredCatalogId}', but this is missing (REFERENCED TILE NOT FOUND).`;case S.noTargetMapping:return`was hidden because a target mapping for the tile URL '${e.tileURL}' was not found (TARGET MAPPING NOT FOUND).`;case S.emptyConfiguration:return`the tile configuration '${e.tileConfiguration}' is empty or invalid (BAD CONFIGURATION).`;case S.tileIntentSupportException:return`exception occurred while checking tile intent support: ${e.exception} (EXCEPTION RAISED).`;default:return`unknown error type '${e.type}' (UNKNOWN ERROR). Error data: ${JSON.stringify(e,null,3)}`}};this._reportTileErrors=function(e){const t=this;const i=[];const r=[];function n(e,t){const i=[e,t].map((e,t)=>t===1&&e?`(${e})`:e).filter(e=>typeof e==="string"&&e.length>0).join(" ");return i.length>0?`'${i}'`:""}e.forEach(e=>{const o=`  in Group '${e.group.title}' with Group ID '${e.group.id}'`;const s=[];const a=[];e.errors.forEach(e=>{const i=["  - tile instance",n(e.chipInstanceTitle,e.chipInstanceSubtitle),`with ID '${e.chipInstanceId}'`].filter(e=>e.length>0).join(" ");if(e.type===S.noTargetMapping){a.push([i,`    ${t._formatTileError(e)}`].join("\n"))}else{s.push([i,`    ${t._formatTileError(e)}`].join("\n"))}});if(s.length>0){r.push([o,s.join("\n")].join("\n"))}if(a.length>0){i.push([o,a.join("\n")].join("\n"))}});if(r.length>0){r.unshift("Tile error(s) were detected:");u.error(r.join("\n"),null,"sap.ushell_abap.adapters.abap.LaunchPageAdapter")}if(i.length>0){i.unshift("Tile warning(s) were detected:");u.warning(i.join("\n"),null,"sap.ushell_abap.adapters.abap.LaunchPageAdapter")}};this.getGroups=function(){if(this._bPageSetFullyLoaded){return(new jQuery.Deferred).resolve(M()).promise()}if(!A){A=new jQuery.Deferred;const e=new jQuery.Deferred;h.getServiceAsync("PageBuilding").then(t=>{const i=t.getFactory().getPageBuildingService().readPageSet;if(B&&B.cacheId){i.cacheBusterTokens.put(y,B.cacheId)}if(B&&B["sap-ui2-cache-disable"]&&i){const e=i.appendedParameters||{};e["sap-ui2-cache-disable"]=B["sap-ui2-cache-disable"];i.appendedParameters=e}const r=this._loadTargetMappings();if(o.last("/core/spaces/enabled")){const e=t.getFactory();const i=new c(e,{id:v});$._oCurrentPageSet={getDefaultPage:function(){return i},getPages:function(){return[i]},appendPage:function(){throw new Error("Not implemented in Pages Runtime")},isPageRemovable:function(){return false},removePage:function(){throw new Error("Not implemented in Pages Runtime")},isPageResettable:function(){return true},resetPage:function(){},getConfiguration:function(){return"{}"},setConfiguration:function(){},filter:function(){}};A.resolve([])}else{const i=t.getPageSet(y);i.fail(e.reject.bind(e)).done(t=>{this._oCurrentPageSet=t;this._oCurrentPageSet.filter([y],[T]);this._loadApplaunchersAndDelayLoadingOfOtherChips(t.getPages(),e.resolve.bind(e,t))});jQuery.when(r,e).done((e,t)=>{this._bPageSetFullyLoaded=true;if(u.getLevel()>=u.Level.DEBUG){this._findAndReportTileErrors(t.getPages(),j)}A.resolve(M())}).fail(A.reject.bind(A))}})}return A.promise()};this._loadTargetMappings=function(){if(this._oTargetMappingPromise){return this._oTargetMappingPromise}this._oTargetMappingPromise=this._readTargetMappings().done(e=>{const t=l.getFormFactor();e.results.forEach(e=>{const i=w.prototype._makeTargetMappingSupportKey(e.semanticObject,e.semanticAction);j.put(i,j.get(i)||!!(e.formFactors&&e.formFactors[t]))})});return this._oTargetMappingPromise};this.getGroupsAndWaitForAllChips=function(){return new Promise((e,t)=>{$.getGroups().done(e).fail(t)}).then(e=>Promise.allSettled($._aOtherChipsPromises).then(()=>e))};this.getDefaultGroup=function(){const e=new jQuery.Deferred;this.getGroups().done(()=>{e.resolve($._oCurrentPageSet.getDefaultPage())}).fail(e.reject.bind(e));return e.promise()};this.getGroupTitle=function(e){return e.getTitle()};this.getGroupId=function(e){return e.getId()};this.getGroupTiles=function(e){let t;try{t=JSON.parse(e.getLayout())}catch(t){u.warning(`Group ${e.getId()}: invalid layout: ${e.getLayout()}`,t,m)}return this._orderBasedOnConfiguration(t,e.getChipInstances())};this.getGroupTileClones=function(e){const t=this.getGroupTiles(e);const i=t.map(e=>e.clone());return Promise.allSettled(i).then(e=>e.map(e=>{if(!e.value){u.warning("Group tile was filtered out: ",e.reason)}return e.value}).filter(e=>e))};this.addGroup=function(e){const t=new jQuery.Deferred;$._oCurrentPageSet.appendPage(e,T,t.resolve.bind(t),e=>{t.reject(new Error(e),M())});return t.promise()};this.removeGroup=function(e){const t=new jQuery.Deferred;if($._oCurrentPageSet.isPageRemovable(e)){$._oCurrentPageSet.removePage(e,t.resolve.bind(t),i=>{u.error(`Failed to remove group '${e.toString()}'`,i,m);t.reject(new Error(i),M())})}else{t.reject(new Error("Group is not removable"),M())}return t.promise()};this.resetGroup=function(e){const t=new jQuery.Deferred;const i=this;if(i._oCurrentPageSet.isPageRemovable(e)){t.reject(new Error("Group is not removable"),M())}else if(i._oCurrentPageSet.isPageResettable(e)){i._oCurrentPageSet.resetPage(e,()=>{i._loadApplaunchersAndDelayLoadingOfOtherChips([e],t.resolve.bind(t,e))},e=>{t.reject(new Error("Failed to reset group"),M())})}else{t.resolve(e)}return t.promise()};this.isGroupRemovable=function(e){return $._oCurrentPageSet.isPageRemovable(e)};this.isGroupLocked=function(e){return e.isPersonalizationLocked()};this.isLinkPersonalizationSupported=function(e){if(!e){return true}if(!e.isStub()){const t=e.getContract&&e.getContract("types");const i=t&&t.getAvailableTypes()||[];return i.indexOf("link")!==-1}return false};this.isTileIntentSupported=function(e){if(!this._oTargetMappingPromise||this._oTargetMappingPromise.state()!=="resolved"){u.error("isTileIntentSupported might return wrong results as data loading hasn't finished yet!","sap.ushell_abap.adapters.abap.LaunchPageAdapter")}let t;const i=this._checkTileIntentSupport(e,j);if(!i.isSupported&&i.reason===S.noTargetMapping){if(J(e)){t=W(e)}else{t=Q(e)}const i=this._getBagText(e,"tileProperties","display_title_text")||t.display_title_text;const r=this._getBagText(e,"tileProperties","display_subtitle_text")||t.display_subtitle_text;const n=t.navigation_target_url;u.warning(`Group tile with ID '${e.getId()}' is filtered out as the current user has no target mapping assigned for the intent '${n}'`,`\nGroup Tile ID: '${e.getId()}'\n`+`Title: '${i}'\n`+`Subtitle: '${r}'\n`+`Intent: '${n}' - `,"sap.ushell_abap.adapters.abap.LaunchPageAdapter")}return i.isSupported};this.isTileIntentSupportedAsync=function(e){return this._loadTargetMappings().then(()=>this.isTileIntentSupported(e))};this._checkTileIntentSupport=function(e,t){let i;let n;const o=w.prototype._makeTargetMappingSupportKey;if(!J(e)){i=Q(e);if(!i.navigation_use_semantic_object||!i.navigation_semantic_object||!i.navigation_semantic_action){return{isSupported:true}}n=t.get(o(i.navigation_semantic_object,i.navigation_semantic_action));if(!n){n=t.get(o("*",i.navigation_semantic_action))}if(!n){return{isSupported:false,reason:S.noTargetMapping}}return{isSupported:true}}if(e.isStub()){u.error("Applauncher Tile not loaded completely! This might be caused by a RemoteCatalog content. Standard Tiles are not supported as part of RemoteCatalogs",new Error("Applauncher Tile is still a stub"),"sap.ushell_abap.adapters.abap.LaunchPageAdapter");return{isSupported:true}}if(e.getChip()&&typeof e.getChip().isBrokenReference==="function"&&e.getChip().isBrokenReference()){return{isSupported:false,reason:S.referenceTileNotFound}}i=W(e);if(r(i)){return{isSupported:false,reason:S.emptyConfiguration}}if(!i.navigation_use_semantic_object){return{isSupported:true}}n=t.get(o(i.navigation_semantic_object,i.navigation_semantic_action));if(n){return{isSupported:true}}return{isSupported:false,reason:S.noTargetMapping}};this.moveGroup=function(e,t){const i=new jQuery.Deferred;function r(e){const t=[];e.forEach(e=>{t.push(e.getId())});const r=JSON.parse($._oCurrentPageSet.getConfiguration()||"{}");r.order=t;$._oCurrentPageSet.setConfiguration(JSON.stringify(r),i.resolve.bind(i),e=>{i.reject(new Error(e),M())})}this.getGroups().done(i=>{const n=i.indexOf(e);i.splice(n,1);i.splice(t,0,e);r(i)});return i.promise()};this.setGroupTitle=function(e,t){const i=new jQuery.Deferred;e.setTitle(t,i.resolve.bind(i),t=>{i.reject(new Error("Failed to set group title"),e.getTitle())});return i.promise()};this.addTile=function(e,t){const i=new jQuery.Deferred;const r=e.getChip();if(e.isStub()){i.reject(new Error("Tile was not added to the group as the tile failed loading"),M())}else{if(!t){t=$._oCurrentPageSet.getDefaultPage()}t.addChipInstance(r,i.resolve.bind(i),e=>{i.reject(new Error(e),M())})}return i.promise()};this.removeTile=function(e,t){const i=new jQuery.Deferred;e.removeChipInstance(t,i.resolve.bind(i),e=>{i.reject(new Error(e),M())});return i.promise()};this.moveTile=function(e,t,i,r,n,o){const s=new jQuery.Deferred;const a=this._isWrapperOnly(e);const c=new l.Map;let g;function p(e){s.reject(new Error(e),M())}let f=2;function d(e){f-=1;g=g||e;if(f<=0){s.resolve(g)}}if(!n){n=r}const _=U(r,this);const C=U(n,this);const y=this.getTileType(e);t=F(_,e,y);if(t<0){u.error("moveTile: tile not found in source group",null,m);p("moveTile: tile not found in source group");return s.promise()}if(r===n){G(_,e.getId(),i,o);r.setLayout(JSON.stringify(_),s.resolve.bind(s,e),p)}else{h.getServiceAsync("PageBuilding").then(t=>{const s=t.getFactory().getPageBuildingService();const l=e.getBagIds();l.forEach(t=>{const i={texts:[],properties:[]};const r=e.getBag(t);r.getOwnTextNames().forEach(e=>{i.texts.push({name:e,value:r.getText(e)})});r.getOwnPropertyNames().forEach(e=>{i.properties.push({name:e,value:r.getProperty(e)})});if(i.texts.length>0||i.properties.length>0){c.put(t,i)}});s.openBatchQueue();const g=this.getGroupTiles(n);n.addChipInstance(a?e.getChip():e,function(e){let t;g.splice(i,0,e);l.forEach(i=>{const r=c.get(i);if(r){t=e.getBag(i);r.texts.forEach(e=>{t.setText(e.name,e.value)});r.properties.forEach(e=>{t.setProperty(e.name,e.value)});t.save(()=>{},()=>{u.error(`Bag ${i}: could not be saved`,null,m)})}});G(C,e.getId(),i,o);n.setLayout(JSON.stringify(C),d.bind(this,e),p)},p,e.isStub());r.removeChipInstance(e,d,p);r.setLayout(JSON.stringify(_),undefined,p);s.submitBatchQueue(undefined,p)})}return s.promise()};this.getTileId=function(e){return e.getId()};this.getTileType=function(e){const t=e.getPage();try{const i=JSON.parse(t.getLayout());if(i.linkOrder&&i.linkOrder.indexOf(e.getId())>-1){return"link"}}catch(e){u.warning(`Group ${t.getId()}: invalid layout: ${t.getLayout()}`,e,m)}if(e.isStub()===false){const t=e.getContract("types");if(t&&t.getAvailableTypes().indexOf("card")>-1){return"card"}}return"tile"};this.getCardManifest=function(e){try{const i=e.getConfigurationParameter("cardManifest");let r=JSON.parse(i);const n=t.getCardData(e);r=t.mergeCardData(r,n);return r}catch(t){u.error(`Manifest of card with id '${e.getId()}' could not be read.`,t)}};this.getTileTitle=function(e){return e.getTitle()};this.getTileView=function(e){const t=this;const i=new jQuery.Deferred;function r(e){u.error("Tile not successfully loaded:",e,m);i.reject(e)}function o(){let o;const s=e.getContract("types");if(s){o=t.getTileType(e);s.setType(o)}e.getImplementationAsSapui5Async().then(e=>{if(o==="link"){if(!e.hasModel()){e=e.getComponentInstance().getRootControl()}const t=e.getModel();const r=e.getController();const o=t&&t.getProperty?t.getProperty("/nav/navigation_target_url"):undefined;const s=new n({mode:"{view>/mode}",header:"{view>/config/display_title_text}",subheader:"{view>/config/display_subtitle_text}",sizeBehavior:"{view>/sizeBehavior}",size:"Auto",url:r.formatters&&r.formatters.leanURL(o),press:[r.onPress,r]});s.setModel(t,"view");i.resolve(s);return}i.resolve(e)}).catch(r)}if(!e.$loadingPromise){if(!e.isStub()){l.callHandler(o,r,!J(e))}else{r(new Error("Tile failed to load - tile is still a stub"))}}else{e.$loadingPromise.fail(r).done(()=>{try{o()}catch(e){r(e)}})}return i.promise()};this.getTileSize=function(e){const t=!e.isStub()&&e.getConfigurationParameter("row")||"1";const i=!e.isStub()&&e.getConfigurationParameter("col")||"1";return`${t}x${i}`};this.refreshTile=function(e){e.refresh()};this.setTileVisible=function(e,t){const i=!e.isStub()&&e.getContract("visible");if(i){i.setVisible(t);return}if(e.isStub()&&e.$loadingPromise){const i=this.getTileId(e);const r=N[i];N[i]=t;if(r===undefined){e.$loadingPromise.done(()=>{const t=e.getContract("visible");if(t){t.setVisible(N[i])}})}return}};this.getTileActions=function(e){const t=!e.isStub()&&e.getContract("actions");if(t){return t.getActions()}return[]};this.getTileTarget=function(){return null};this.getTileDebugInfo=function(e){const t=e.getChip();const i=t.getCatalog();const r={chipId:t.getId(),chipInstanceId:e.getId(),chipTitle:t.getTitle(),chipDescription:t.getDescription(),completelyLoaded:!e.isStub()};if(i){r.catalogId=i.getId()}const n=JSON.stringify(r);return n};this.getCatalogs=function(){let e;const t=x;const i=k===false;if(t&&!t.$notified&&!i){e=t}else{x=new jQuery.Deferred;e=x;e.done(()=>{if(e===x){k=true}}).always(()=>{if(e===x){x=null}});if(t){if(i){k=undefined}t.always(()=>{this._startLoading(e,i)})}else{this._startLoading(e,i)}}return e.promise()};this._refreshRemoteCatalogs=function(e){return h.getServiceAsync("PageBuilding").then(t=>{let i=0;const r=t.getFactory();const n=K(r);n.forEach(t=>{const o=t.ui2catalog;if(o.isStub()||o.getType()==="H"||o.getType()==="REMOTE"){i+=1;o.refresh(()=>{t.title=o.getTitle();t.tiles=V(r,o.getChips());e.notify(t);i-=1;if(i<=0){e.resolve(n)}},r=>{u.error(`Failed to load catalog: ${r}`,o.toString(),m);t.errorMessage=r||"Error";e.notify(t);i-=1;if(i<=0){e.resolve(n)}})}else{e.notify(t);e.$notified=true}});if(i<=0){e.resolve(n)}})};this._useKnownCatalogs=function(e){return h.getServiceAsync("PageBuilding").then(t=>{const i=K(t.getFactory());i.forEach(t=>{e.notify(t)});e.resolve(i)})};this._doGetCatalogs=function(e,t){const i=this._oCurrentPageSet.getDefaultPage().getAllCatalogs();if(i.isStub()){i.load(()=>{this._refreshRemoteCatalogs(e)},t=>{e.reject(new Error(t))},"type eq 'CATALOG_PAGE' or type eq 'H' or type eq 'SM_CATALOG' or type eq 'REMOTE'",true,"title",true)}else if(t){this._refreshRemoteCatalogs(e)}else{this._useKnownCatalogs(e)}};this._startLoading=function(e,t){let i;if(B&&B.cacheId){i=h.getServiceAsync("PageBuilding").then(e=>{const t=e.getFactory().getPageBuildingService().readAllCatalogs.cacheBusterTokens;t.put(y,B.cacheId);if(o.last("/core/spaces/enabled")){t.put(v,B.cacheId)}}).catch(e.reject)}else{i=Promise.resolve()}i.then(()=>{if($._bPageSetFullyLoaded){this._doGetCatalogs(e,t)}else{this.getGroups().done(()=>{this._doGetCatalogs(e,t)}).fail(e.reject)}}).catch(e.reject)};this.isCatalogsValid=function(){return!!k};this.getCatalogData=function(e){return e.ui2catalog.getCatalogData()};this.getCatalogError=function(e){return e.errorMessage};this.getCatalogId=function(e){return e.id};this.getCatalogTitle=function(e){return e.title};this.getCatalogTiles=function(e){const t=new jQuery.Deferred;let i=0;function r(){i-=1;if(i===0){t.resolve(e.tiles)}}function n(e,t){u.error(`Failed to load catalog tile: ${t}`,e.toString(),m);r()}for(let t=0;t<e.tiles.length;t+=1){const o=e.tiles[t];if(o.isStub()){i+=1;o.load(r,n.bind(null,o))}}if(i===0){t.resolve(e.tiles)}return t.promise()};this.getCatalogTileNumberUnit=a.getCatalogTileNumberUnit;this.getCatalogTileId=function(e){const t=e.getChip();let i=t.getId();if(t.getCatalog()&&t.getCatalog().getCatalogData()&&t.getCatalog().getCatalogData().systemAlias){i+=`_${t.getCatalog().getCatalogData().systemAlias}`}return i};this.getStableCatalogTileId=function(e){const t=e.getChip();let i=t.getReferenceChipId();if(i==="O"){i=null}if(!i){i=this.getCatalogTileId(e)}return i};this.getCatalogTileTitle=function(e){return e.getChip().getTitle()};this.getCatalogTileSize=a.getCatalogTileSize;this.getCatalogTileView=function(e,t){t=typeof t!=="undefined"?t:true;const i=this.getCatalogTileTitle(e);if(e.isStub()){u.warning("CHIP (instance) is just a stub!",e.toString(true),m);return new p({icon:"sap-icon://hide",info:"",infoState:"Critical",subtitle:"",title:i}).addStyleClass("sapUshellTileError")}if(t){const t=e.getContract("preview");if(t){t.setEnabled(true)}else{return new p({title:i,subtitle:"",info:"",infoState:"Neutral",icon:"sap-icon://folder-full"})}}return L(e,i,"Cannot get catalog tile view as SAPUI5")};this.getCatalogTileViewControl=function(e,t){const i=new jQuery.Deferred;t=typeof t!=="undefined"?t:true;const r=this.getCatalogTileTitle(e);if(e.isStub()){u.warning("CHIP (instance) is just a stub!",e.toString(true),m);i.resolve(this._createErrorTile(r,"CHIP was just a stub!"));return i.promise()}if(t){const t=e.getContract("preview");if(t){t.setEnabled(true)}else{i.resolve(this._createPreviewTile(r));return i.promise()}}e.getImplementationAsSapui5Async().catch(e=>{u.error(`Cannot get catalog tile view as SAPUI5: ${e.message||e}`,e.stack,m);return this._createErrorTile(r,e.message||e)}).then(i.resolve);return i.promise()};this._createErrorTile=function(e,t){const i=new n({state:C.Failed,header:e,subheader:t||""}).addStyleClass("sapUshellTileError");return i};this._createPreviewTile=function(e){return new p({title:e,subtitle:"",info:"",infoState:"Neutral",icon:"sap-icon://folder-full"})};this.getCatalogTileTargetURL=a.getCatalogTileTargetURL;this.getCatalogTilePreviewSubtitle=a.getCatalogTilePreviewSubtitle;this.getCatalogTilePreviewTitle=a.getCatalogTilePreviewTitle;this.getCatalogTilePreviewInfo=a.getCatalogTilePreviewInfo;this.getCatalogTilePreviewIndicatorDataSource=a.getCatalogTilePreviewIndicatorDataSource;this.getCatalogTilePreviewIcon=a.getCatalogTilePreviewIcon;this.getCatalogTileKeywords=function(e){const t={};const i=e.getTitle();const r=this.getCatalogTilePreviewSubtitle(e);const n=e.getChip().getDescription();function o(e,t){if(l.isArray(t)){t.forEach(t=>{if(e.hasOwnProperty(t)){return}e[t]=null})}}function s(e){const t=w.prototype._getBagText(e,"tileProperties","display_search_keywords");if(!l.isString(t)||t===""){return[]}return t.trim().split(/\s*,\s*/g)}function a(e){const t=w.prototype._getBagText(e,"tileProperties","display_info_text");if(t){return[t]}return[]}function c(e){const t=w.prototype._getConfigurationProperty(e,"tileConfiguration","display_number_unit");if(t){return[t]}return[]}function u(e){if(e.isStub()){return[]}const t=e.getContract("search");if(t){return t.getKeywords()}return[]}o(t,s(e));o(t,a(e));o(t,c(e));o(t,u(e));if(i){o(t,[i])}if(r){o(t,[r])}if(n){o(t,[n])}return Object.keys(t)};this.addBookmark=function(e,t){let r=P;let n={display_icon_url:e.icon||"",display_info_text:e.info||"",display_subtitle_text:e.subtitle||"",display_title_text:e.title};const o=new jQuery.Deferred;const s={tileProperties:{texts:{display_title_text:n.display_title_text,display_subtitle_text:n.display_subtitle_text,display_info_text:n.display_info_text}}};if(e.serviceUrl){r=I;n.display_number_unit=e.numberUnit;n.service_refresh_interval=e.serviceRefreshInterval||0;n.service_url=e.serviceUrl;if(e.dataSource){n.data_source={type:e.dataSource.type,settings:{odataVersion:i.get(["dataSource","settings","odataVersion"],e)}}}}if(t&&!(t instanceof c)){o.reject(new Error("The given object is not a group"));return o.promise()}n={tileConfiguration:JSON.stringify(n)};this._createBookmarkTile(r,e.url,n,s,e.title,t).then(()=>{o.resolve()}).catch(e=>{o.reject(e)});return o.promise()};this.addCustomBookmark=function(e,t){const i=e.vizConfig["sap.flp"].chipConfig;const r=new jQuery.Deferred;if(t&&!(t instanceof c)){r.reject(new Error("The given object is not a group"));return r.promise()}this._createBookmarkTile(i.chipId,e.url,i.configuration,i.bags,e.title,t).then(()=>{r.resolve()}).catch(e=>{r.reject(e)});return r.promise()};this._getTileTargetConfiguration=function(t){return h.getServiceAsync("URLParsing").then(i=>{const r={navigation_target_url:t,navigation_use_semantic_object:false};const n=new e;const o=new e(t);const s=o.host()+o.path()===n.host()+n.path();const a=w.prototype._makeTargetMappingSupportKey;if(t[0]==="#"||s){const e=i.parseShellHash(i.getShellHash(t));if(e&&j.get(a(e.semanticObject,e.action))!==undefined){r.navigation_use_semantic_object=true;r.navigation_semantic_object=e.semanticObject;r.navigation_semantic_action=e.action;r.navigation_semantic_parameters=i.paramsToString(e.params)}}return r})};this._updateBags=function(e,t){const i=[];const r=[];if(!t){t={};i.push(Promise.resolve([]))}Object.keys(t).forEach(n=>{let o;let s=false;const a=t[n];const l=e.getBag(n);try{for(o in a.properties){l.setProperty(o,a.properties[o]);s=true}for(o in a.texts){l.setText(o,a.texts[o]);s=true}i.push(new Promise((e,t)=>{if(s){r.push(n);l.save(e,(e,i)=>{const r=Object.keys(e)[0];t(new _(`Bag save failed: ${e[r]}`,{info:i[r],otherMessages:e,otherInfo:i}))})}else{e()}}))}catch(e){i.push(Promise.reject(e))}});return Promise.all(i).then(()=>r)};this._checkBookmarkConfiguration=function(e){return new Promise((t,i)=>{try{const i=W(e);if(!i.navigation_target_url){throw new Error("tileConfiguration.navigation_target_url was not set")}this.getTileSize(e);t()}catch(t){const r=`Chip configuration check failed for '${e.getId()}':`;u.error(r,t,m);i(t)}})};this._createBookmarkTile=function(e,t,i,r,n,o){return Promise.all([h.getServiceAsync("PageBuilding"),this._getTileTargetConfiguration(t)]).then(t=>{const r=t[0];const a=t[1];if(!i.tileConfiguration){i.tileConfiguration=JSON.stringify(a)}else{let e=JSON.parse(i.tileConfiguration);e=s({},e,a);i.tileConfiguration=JSON.stringify(e)}const l=r.getFactory();const c=l.getPageBuildingService();return new Promise((t,r)=>{if(this._bPageSetFullyLoaded){o=o||this._oCurrentPageSet.getDefaultPage();const s=l.createChipInstance({chipId:e,pageId:o.getId(),title:n,configuration:JSON.stringify(i),layoutData:""});o.addChipInstance(s,t,e=>{r(new Error(e))},undefined)}else{try{c.createPageChipInstanceFromRawData({chipId:e,configuration:JSON.stringify(i),pageId:"/UI2/Fiori2LaunchpadHome",title:n},e=>{l.createChipInstance(e,t,e=>{r(new Error(e))},undefined)},e=>{r(new Error(e))})}catch(e){r(e)}}})}).then(e=>this._updateBags(e,r).then(()=>this._checkBookmarkConfiguration(e)).catch(t=>new Promise((i,r)=>{e.remove(r.bind(undefined,t),r.bind(undefined,t))})))};w.prototype._isBookmarkFor=function(e,t){const i=e.getChip().getBaseChipId();if(i!==undefined){const r=W(e).navigation_target_url;if(typeof t==="string"){return J(e)&&r===t}return t.chipId===i&&t.url===r}return false};w.prototype._visitBookmarks=function(e,t){const i=[];const r=new jQuery.Deferred;$.getGroupsAndWaitForAllChips().then(n=>{let o=0;n.forEach(r=>{r.getChipInstances().forEach(r=>{if($._isBookmarkFor(r,e)){o+=1;if(t){i.push(t(r))}}})});if(i.length===0){r.resolve(o)}else{jQuery.when.apply(jQuery,i).fail(e=>{r.reject(e)}).done(()=>{r.resolve(o)})}}).catch(e=>{r.reject(e)});return r.promise()};this._visitCustomBookmarks=async function(e,t){if(!e.chipId){throw new Error("_visitCustomBookmarks: Required parameter is missing: oIdentifier.chipId")}return new Promise((i,r)=>{this.getGroups().fail(r).done(n=>{const o=[];let s=0;n.forEach(i=>{i.getChipInstances().forEach(i=>{if(w.prototype._isBookmarkFor(i,e)){s+=1;if(t){o.push(t(i))}}})});Promise.all(o).then(()=>{i(s)}).catch(r)})})};this.countBookmarks=function(e){return w.prototype._visitBookmarks(e)};this.countCustomBookmarks=function(e){return this._visitCustomBookmarks(e)};this.deleteBookmarks=function(e){return w.prototype._visitBookmarks(e,e=>{const t=new jQuery.Deferred;e.remove(t.resolve.bind(t),e=>{t.reject(new Error(e))});return t.promise()})};this.deleteCustomBookmarks=function(e){return this._visitCustomBookmarks(e,e=>new Promise((t,i)=>{e.remove(t,e=>{i(new Error(e))})}))};this.updateBookmarks=function(e,t){return w.prototype._visitBookmarks(e,e=>{const i=W(e);const r=new jQuery.Deferred;const n={tileProperties:{texts:{}}};if(t.title){n.tileProperties.texts.display_title_text=t.title}if(typeof t.subtitle==="string"){n.tileProperties.texts.display_subtitle_text=t.subtitle}if(typeof t.info==="string"){n.tileProperties.texts.display_info_text=t.info}let o={display_icon_url:typeof t.icon==="string"?t.icon:i.display_icon_url,display_info_text:typeof t.info==="string"?t.info:i.display_info_text,display_subtitle_text:typeof t.subtitle==="string"?t.subtitle:i.display_subtitle_text,display_title_text:t.title||i.display_title_text,display_number_unit:typeof t.numberUnit==="string"?t.numberUnit:i.display_number_unit,service_refresh_interval:t.serviceRefreshInterval||i.service_refresh_interval,service_url:t.serviceUrl||i.service_url};const a={};this._getTileTargetConfiguration(t.url||i.navigation_target_url).then(e=>{o=s({},o,e);a.tileConfiguration=JSON.stringify(o)}).then(()=>new Promise((t,i)=>{e.updateConfiguration(a,t,e=>{i(new Error(e))})})).then(()=>{e.getContract("configuration").fireConfigurationUpdated(Object.keys(a));return this._updateBags(e,n)}).then(t=>{if(t.length){e.getContract("bag").fireBagsUpdated(t)}r.resolve()}).catch(e=>{r.reject(e)});return r.promise()})};this.updateCustomBookmarks=function(e,t){const r=i.get(["vizConfig","sap.flp","chipConfig"],t)||{};const n=r.configuration||{};const o=r.bags||{};const a=t.url;return this._visitCustomBookmarks(e,e=>this._getTileTargetConfiguration(a).then(t=>{let i;if(!n.tileConfiguration){i=W(e);i=s({},i,t);n.tileConfiguration=JSON.stringify(i)}else{i=JSON.parse(n.tileConfiguration);i=s({},i,t);n.tileConfiguration=JSON.stringify(i)}return new Promise((t,i)=>{try{e.updateConfiguration(n,t,e=>{i(new Error(e))})}catch(e){i(e)}})}).then(()=>{e.getContract("configuration").fireConfigurationUpdated(Object.keys(n));return this._checkBookmarkConfiguration(e)}).then(()=>this._updateBags(e,o)).then(i=>{if(i.length){e.getContract("bag").fireBagsUpdated(i)}return new Promise((i,r)=>{if(t.title){e.setTitle(t.title,true,i,e=>{r(new Error(e))})}else{i()}})}))};this.onCatalogTileAdded=function(){k=false};this.isCustomTile=function(e){return!J(e)}}w.prototype._getCatalogTileIndex=function(){this._oCatalogTileIndexPromise=h.getServiceAsync("PageBuilding").then(e=>{const t=e.getFactory().getPageBuildingService();return new Promise((e,i)=>{t.readAllCatalogs(v,e,e=>{i(new Error(e))},"type eq 'CATALOG_PAGE' or type eq 'H' or type eq 'SM_CATALOG' or type eq 'REMOTE'","title",true)})}).then(e=>{const t={};e.results.forEach(e=>{e.Chips.results.forEach(e=>{let i;if(e.referenceChipId){i=e.referenceChipId}else{i=e.id}if(!t[i]){t[i]=e}})});return t}).catch(()=>({}));return this._oCatalogTileIndexPromise};return w});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell_abap/adapters/abap/LaunchPageAdapter", ["sap/ushell_abap/adapters/abap/FlpLaunchPageAdapter"],a=>{"use strict";return a});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell_abap/adapters/abap/MenuAdapter", ["sap/base/Log","sap/base/util/isPlainObject","sap/ushell/components/pages/controller/PagesAndSpaceId","sap/ushell/Config","sap/ushell/library","sap/ushell/utils"],(e,t,n,i,s,o)=>{"use strict";const a=s.ContentNodeType;function r(){}r.prototype.isMenuEnabled=function(){const e=i.last("/core/menu/enabled");const t=this._getAssignedSpaces().length;return Promise.resolve(e&&t>0)};r.prototype.isSideNavigationEnabled=async function(){if(!i.last("/core/sideNavigation/enabled")){return false}const e=await this.getMenuEntries();return e.length>0};r.prototype.getMenuEntries=function(){return n.getUserMyHomeEnablement().then(e=>{const t=i.last("/core/homeApp/enabled");const n=i.last("/core/spaces/myHome/enabled");const s=i.last("/core/spaces/myHome/myHomeSpaceId");let o=this._getAssignedSpaces();if(t&&n||n&&!e){for(let e=0;e<o.length;e++){if(o[e].id===s){o=o.slice(1);break}}}const a=this._buildMenuEntries(o);return a})};r.prototype.getMenuPersonalization=function(){const e=document.querySelector("meta[name='sap.ushell.menuPersonalization']");if(!e){return null}const t=JSON.parse(e.getAttribute("content"));return t};r.prototype.getContentNodeEntries=function(){const e=this._getAssignedSpaces();this._removeMyHomeForContentNodes(e);const t=this._buildMenuEntries(e);return Promise.resolve(t)};r.prototype.getContentNodes=function(){const e=this._getAssignedSpaces();this._removeMyHomeForContentNodes(e);const t=this._buildContentNodes(e);return Promise.resolve(t)};r.prototype._buildMenuEntries=function(e){const t=e.filter(this._isSpaceNotEmpty.bind(null,"FLP menu")).map((e,t)=>{const n={id:e.id,title:e.title||e.id,"help-id":`Space-${e.id}`,description:e.description,icon:undefined,type:"IBN",target:{semanticObject:"Launchpad",action:"openFLPPage",parameters:[{name:"spaceId",value:e.id},{name:"pageId",value:e.pages[0].id}],innerAppRoute:undefined},isHomeEntry:t===0&&e.id===i.last("/core/spaces/myHome/myHomeSpaceId"),menuEntries:[]};const s=e.pages.map(t=>({id:t.id,title:t.title||t.id,"help-id":`Page-${t.id}`,description:t.description,icon:undefined,type:"IBN",target:{semanticObject:"Launchpad",action:"openFLPPage",parameters:[{name:"spaceId",value:e.id},{name:"pageId",value:t.id}],innerAppRoute:undefined},menuEntries:[]}));if(s.length>1){n.menuEntries=s}return n});return t};r.prototype._buildContentNodes=function(e){const t=e.filter(this._isSpaceNotEmpty.bind(null,"content nodes")).map(e=>({id:e.id,label:e.title||e.id,type:a.Space,isContainer:false,children:e.pages.map(e=>({id:e.id,label:e.title||e.id,type:a.Page,isContainer:true}))}));return t};r.prototype._isSpaceNotEmpty=function(t,n){if(!n.pages||n.pages.length===0){e.warning(`FLP space ${n.id} without page omitted in ${t}.`,"","sap.ushell_abap.adapters.abap.MenuAdapter");return false}return true};r.prototype._removeMyHomeForContentNodes=function(e){const t=i.last("/core/homeApp/enabled");const n=i.last("/core/spaces/myHome/enabled");const s=i.last("/core/spaces/myHome/userEnabled");const o=i.last("/core/spaces/myHome/myHomeSpaceId");if(t){return}if(n&&!s){if(e[0]&&e[0].id===o){e.shift()}}};r.prototype._getAssignedSpaces=function(){const e=document.querySelector("meta[name='sap.ushell.assignedSpaces']");if(!e){return[]}const n=o.getFormFactor();const i=JSON.parse(e.getAttribute("content"));return i.filter(e=>{if(!t(e.visibility)){return true}return e.visibility[n]}).map(e=>{e.pages=e.pages.filter(e=>{if(!t(e.visibility)){return true}return e.visibility[n]});return e})};return r});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell_abap/adapters/abap/NavTargetResolutionAdapter", [],()=>{"use strict";return function(){}});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell_abap/adapters/abap/NavTargetResolutionInternalAdapter", [],()=>{"use strict";return function(){}});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell_abap/adapters/abap/PageBuildingAdapter", ["sap/base/util/ObjectPath","sap/base/Log","sap/ushell_abap/pbServices/ui2/Factory"],(e,a,t)=>{"use strict";return function(s,o,i){let r="PERS";let c="/sap/opu/odata/UI2/PAGE_BUILDER_PERS/";const p=i.config.remoteCatalogServices||{};const n=e.get("config.services.pageBuilding.baseUrl",i);o=o?o.toUpperCase():"";if(o==="CONF"||o==="CUST"){r=o;c=`/sap/opu/odata/UI2/PAGE_BUILDER_${r}/`}else if(n&&e.get("config.services.pageBuilding.relativeUrl",i)){c=n}const l=e.get("sap-ushell-config.services.Container.adapter.config.services.pbFioriHome.cacheId");const u=t.createFactory(c,undefined,r==="PERS",l);this.getFactory=function(){return u};(function(){["/sap/hba/apps/kpi/s/odata/hana_chip_catalog.xsodata/","/sap/hba/r/sb/core/odata/modeler/SMART_BUSINESS.xsodata/","/sap/hba/r/sb/core/odata/runtime/SMART_BUSINESS.xsodata/","/sap/opu/odata/sap/SM_CATALOG_SRV/"].forEach(e=>{if(!Object.prototype.hasOwnProperty.call(p,e)){p[e]="sap.ushell_abap.pbServices.ui2.RemoteCatalogService"}});Object.keys(p).forEach(e=>{let t=p[e];if(t==="sap.ui2.srvc.RemoteCatalogService"){t="sap.ushell_abap.pbServices.ui2.RemoteCatalogService"}const s=(t||"").replace(/\./g,"/");let o;if(!(o=sap.ui.require(s))){a.warning(`FLP PageBuildingAdapter: remote catalog service ${s} must be loaded before use.`);o=sap.ui.requireSync(s)}u.addRemoteCatalogService(e,new o)})})()}});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell_abap/adapters/abap/PagePersistenceAdapter", ["sap/base/i18n/Localization","sap/base/util/ObjectPath","sap/ushell/utils/HttpClient","sap/ushell/resources","sap/ushell/utils/chipsUtils","sap/ushell/Container","sap/ushell/utils/LaunchpadError"],(e,t,i,a,n,s,o)=>{"use strict";function r(){const e=window["sap-ushell-config"].services&&window["sap-ushell-config"].services.PagePersistence||{};return(t.get("config.serviceUrl",e.adapter)||"").replace(/\/?$/,"/")}function c(){this.S_COMPONENT_NAME="sap.ushell_abap.adapters.abap.PagePersistenceAdapter"}c.prototype.getPage=function(e){return Promise.all([this._readPage(e),s.getServiceAsync("URLParsing")]).then(e=>{const t=e[0];const i=e[1];return this._convertODataToReferenceData(t,i)}).catch(this._rejectWithError.bind(this))};c.prototype.getPages=function(e){return Promise.all([this._readPages(e),s.getServiceAsync("URLParsing")]).then(e=>{const t=e[0].results;const i=e[1];return t.map(e=>this._convertODataToReferenceData(e,i))}).catch(this._rejectWithError.bind(this))};c.prototype._readPage=function(t){return new Promise((a,n)=>{const o={"Cache-Control":"no-cache, no-store, must-revalidate",Pragma:"no-cache",Expires:"0","Accept-Language":e.getLanguage()||"",Accept:"application/json, text/plain"};const c=s.getUser().getLanguage();if(c){o["sap-language"]=c}const p=s.getLogonSystem();const l=p?p.getClient():"";if(l){o["sap-client"]=l}const d=r();const g=new i(d,{headers:o});const u=`${d}pageSet('${encodeURIComponent(t)}')`+"?$expand=sections/viz,vizReferences/chipBags/properties,tileTypes/vizOptions/displayFormats/supported";g.get(u).then(e=>{a(JSON.parse(e.responseText).d)}).catch(n)})};c.prototype._readPages=function(t){return new Promise((a,n)=>{const o={"Cache-Control":"no-cache, no-store, must-revalidate",Pragma:"no-cache",Expires:"0","Accept-Language":e.getLanguage()||"",Accept:"application/json, text/plain","content-type":"multipart/mixed; boundary=batch_bd56-ff53-571c"};const c=s.getUser().getLanguage();if(c){o["sap-language"]=c}const p=s.getLogonSystem();const l=p?p.getClient():"";if(l){o["sap-client"]=l}const d=`pageSet?$expand=${encodeURIComponent("sections/viz,vizReferences/chipBags/properties,tileTypes/vizOptions/displayFormats/supported")}&$filter=`;const g=t.length?`id eq '${t.join("' or id eq '")}'`:"";const u=r();const h=`${u}$batch`;const m=new i(u,{headers:o});const f=this._createBatchData(d+encodeURIComponent(g).replace(/[!'()*]/g,escape));m.post(h,{data:f}).then(e=>{const t=this._retrieveBatchData(e);a(t)}).catch(n)})};c.prototype._createBatchData=function(e){const t=s.getUser().getLanguage();const i=s.getLogonSystem()?s.getLogonSystem().getClient():"";const a=["--batch_bd56-ff53-571c","Content-Type: application/http","Content-Transfer-Encoding: binary","",`GET ${e} HTTP/1.1`,"sap-cancel-on-close: true",`sap-language: ${t||""}`,`sap-client: ${i||""}`,"sap-contextid-accept: header","Accept: application/json",`Accept-Language: ${t||""}`,"DataServiceVersion: 2.0","MaxDataServiceVersion: 2.0","X-Requested-With: XMLHttpRequest","","","","--batch_bd56-ff53-571c--"];return a.join("\r\n")};c.prototype._retrieveBatchData=function(e){const t=e.responseText.split("\r\n");let i=[];for(let e=0;e<t.length;e++){if(t[e].startsWith("{")){i=t[e]}}return JSON.parse(i).d};c.prototype._convertODataToReferenceData=function(e,t){const i={};const a={page:{id:e.id,title:e.title,description:e.description,createdBy:e.createdBy,createdByFullname:e.createdByFullname||e.createdBy,modifiedBy:e.modifiedBy,modifiedByFullname:e.modifiedByFullname||e.modifiedBy,sections:e.sections.results.map(e=>({id:e.id,sectionIndex:e.sectionIndex,title:e.title,viz:e.viz.results.map(e=>({catalogTileId:e.catalogTileId,id:e.id,itemIndex:e.itemIndex,targetMappingId:e.targetMappingId,vizId:e.catalogTileIdStable,inboundPermanentKey:e.targetMappingIdStable,displayFormatHint:e.displayFormatHint})).sort((e,t)=>e.itemIndex-t.itemIndex)})).sort((e,t)=>e.sectionIndex-t.sectionIndex)},visualizations:e.vizReferences.results.reduce((e,a)=>{const s=this._getSimplifiedChip(a);const o={vizId:a.catalogTileIdStable,vizType:a.tileType,title:a.title,subTitle:a.subTitle,icon:a.iconUrl,info:n.getInfoFromSimplifiedChip(s),keywords:n.getKeywordsFromSimplifiedChip(s),size:n.getTileSizeFromSimplifiedChip(s),indicatorDataSource:n.getIndicatorDataSourceFromSimplifiedChip(s),url:n.getTargetUrlFromSimplifiedChip(s,t),numberUnit:n.getNumberUnitFromSimplifiedChip(s),isCustomTile:n.isCustomTileFromSimplifiedChip(s),_instantiationData:{platform:"ABAP",simplifiedChipFormat:true,chip:s}};e[a.catalogTileIdStable]=o;if(a.fromPersonalization&&a.id!==a.catalogTileIdStable){i[a.id]=o}return e},{}),vizTypes:e.tileTypes.results.reduce((e,t)=>{const i=t.vizOptions.displayFormats;const a=t.id;e[a]={id:a,url:t.url,vizOptions:{displayFormats:{supported:i.supported.results.map(e=>e.id),default:i.preferred}}};return e},{})};a.unstableVisualizations=Object.keys(i).length>0?i:null;return a};c.prototype._getSimplifiedChip=function(e){const t={};let i;try{i=JSON.parse(e.configuration)}catch{i={}}e.chipBags.results.forEach(e=>{t[e.id]={texts:{},properties:{}};e.properties.results.forEach(i=>{if(i.translatable){t[e.id].texts[i.id]=i.value}else{t[e.id].properties[i.id]=i.value}})});return{chipId:e.tileType,configuration:i,bags:t}};c.prototype._rejectWithError=async function(e){throw new o(e.message,{component:this.S_COMPONENT_NAME,description:a.i18n.getText("PagePersistenceAdapter.CannotLoadPage"),detail:e},e)};return c});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell_abap/adapters/abap/PersonalizationAdapter", ["sap/ushell_abap/adapters/abap/AdapterContainer","sap/ushell_abap/pbServices/ui2/ODataWrapper","sap/ushell_abap/pbServices/ui2/ODataService","sap/ushell_abap/pbServices/ui2/Error","sap/base/util/ObjectPath","sap/base/Log","sap/ushell/Container"],(e,a,t,r,p,s,n)=>{"use strict";function o(e,o,i){s.debug("[000] PersonalizationAdapter: constructor","PersonalizationAdapter");this._oConfig=i&&i.config;const u=`${p.get("config.services.personalization.baseUrl",i)||"/sap/opu/odata/UI2/INTEROP"}/`;const l={baseUrl:u,"sap-language":n.getUser().getLanguage(),"sap-client":n.getLogonSystem().getClient()};this._oWrapper=a.createODataWrapper(l);function c(e){throw new r(e,"sap.ushell_abap.adapters.abap.PersonalizationAdapter")}t.call(this,this._oWrapper,c)}o.prototype.supportsGetWithoutSubsequentLoad=true;o.prototype.getAdapterContainer=function(a,t,r){return new e(a,this,t,r)};o.prototype.delAdapterContainer=function(e,a){return this.getAdapterContainer(e,a).del()};return o});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell_abap/adapters/abap/PersonalizationV2Adapter", ["./PersonalizationAdapter"],e=>{"use strict";return e});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell_abap/adapters/abap/SearchAdapter", [],()=>{"use strict";return function(){}});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell_abap/adapters/abap/SupportTicketAdapter", ["sap/base/util/isEmptyObject","sap/base/util/ObjectPath","sap/ushell/utils","sap/ushell_abap/pbServices/ui2/ODataWrapper","sap/ushell_abap/pbServices/ui2/ODataService","sap/ushell/Container"],(t,e,a,n,s,i)=>{"use strict";return function(){function r(e){let a;if(e&&!t(e)){a=JSON.stringify(e);return a.replace(/\{|\}|\\n|,/g,"\n")}return""}this.createTicket=function(t){const o="/sap/opu/odata/UI2/INTEROP/";const c="Messages";const l=i;let u;let g;let p;let b;if(!t.text){throw new a.Error("Support Ticket data does not contain text member")}u=e.get("clientContext.navigationData.applicationInformation.url",t);g=e.get("clientContext.navigationData.navigationHash",t);p=e.get("clientContext.navigationData.tileDebugInfo",t);u=typeof u==="string"?u:"";g=typeof g==="string"?g:"";p=typeof p==="string"&&p.length>0?JSON.parse(p).catalogId||"":"";t.text=t.text.trim();t.subject=t.subject.trim();if(t.subject.length>40){t.text=`${t.subject}\n${t.text}`;t.subject=`${t.subject.substring(0,40).slice(0,-3)}...`}t.url=u;t.catalogId=p;t.hash=g;t.clientContext=r(t.clientContext);const f=new Promise((e,a)=>{const i={baseUrl:o,"sap-language":l.getUser().getLanguage(),"sap-client":l.getLogonSystem().getClient()};b=n.createODataWrapper(i);s.call(this,b,()=>false);b.create(c,t,t=>{e(t.messageNumber)},t=>{a(new Error(t))})});return f}}});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell_abap/adapters/abap/Ui5ComponentLoaderAdapter", [],()=>{"use strict";return function(){}});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell_abap/adapters/abap/UserInfoAdapter", ["sap/ushell_abap/pbServices/ui2/ODataWrapper","sap/ui/thirdparty/datajs","sap/ui/thirdparty/jquery","sap/ui/VersionInfo","sap/base/Log","sap/ushell/resources","sap/base/i18n/date/CalendarWeekNumbering","sap/ushell/utils/LaunchpadError"],(e,t,jQuery,r,a,s,n,i)=>{"use strict";let o;const p="default";return function(){this._updateODataObjectBasedOnDatatype=function(e,t){if(typeof e==="string"){t.value=e.toString();t.dataType="Edm.String"}if(typeof e==="boolean"){t.value=e.toString();t.dataType="Edm.Boolean"}return t};this._getThemeList=async function(){let e="/sap/bc/rest/themes";const t=window["sap-ushell-config"]?.startupConfig?.client;if(t){e+=`/~client-${t}`}const a=`${e}/themeroot/v1`;e+="/themelist/v1";const s=await r.load();const n=s.version;if(n){e+=`/~v=UI5:${n}`}e+="?filter-types=STANDARD,SET";const i=await fetch(e);if(!i.ok){throw new Error(`List API failed with status: ${i.status}`)}const o=await i.json();const p=[];const u=[];o.forEach(e=>{if(e?.type==="STANDARD"){e.name=e.label;p.push(e)}else if(e?.type==="SET"){u.push(e)}});return{themes:p,sets:u,themeRoot:a}};this.getThemeList=function(){const e=new jQuery.Deferred;this._getThemeList().then(t=>{e.resolve({options:t.themes,sets:t.sets,themeRoot:t.themeRoot})}).catch(r=>{a.error(r.message,r,"sap.ushell_abap.adapters.abap.UserInfoAdapter");t.read({requestUri:"/sap/opu/odata/UI2/INTEROP/Themes"},t=>{e.resolve({options:t?.results||[]})},t=>{a.error(t.message,null,"sap.ushell_abap.adapters.abap.UserInfoAdapter");const r=new i(`Failed to fetch data: ${t.message}`,{dataJsError:t});e.reject(r)})});return e.promise()};this.getCalendarWeekNumberingList=function(){return[{value:n.Default,title:s.i18n.getText("DefaultWeekNumberingTitle"),description:s.i18n.getText("DefaultWeekNumberingText")},{value:n.ISO_8601,title:s.i18n.getText("ISO_8601WeekNumberingTitle"),description:s.i18n.getText("ISO_8601WeekNumberingText")},{value:n.MiddleEastern,title:s.i18n.getText("MiddleEasternWeekNumberingTitle"),description:s.i18n.getText("MiddleEasternWeekNumberingText")},{value:n.WesternTraditional,title:s.i18n.getText("WesternTraditionalWeekNumberingTitle"),description:s.i18n.getText("WesternTraditionalWeekNumberingText")}]};this.getLanguageList=function(){const e=new jQuery.Deferred;const r=encodeURI("/sap/opu/odata/UI2/INTEROP/UserProfilePropertyValues?$filter=id eq 'PREFERRED_LOGON_LANGUAGE'");t.read({requestUri:r},t=>{let r=[{text:s.i18n.getText("userSettings.browserLanguage"),key:p}];const a=t.results.map(e=>({text:e.description,key:e.value})).sort((e,t)=>e.text.localeCompare(t.text));r=r.concat(a);e.resolve(r)},t=>{a.error(t.message,null,"sap.ushell_abap.adapters.abap.UserInfoAdapter");const r=new i(`Failed to fetch data: ${t.message}`,{dataJsError:t});e.reject(r)});return e.promise()};this.getUserProfilePropertyValueLists=function(){const e=new jQuery.Deferred;let t;const r={};const s=["NUMBER_FORMAT","TIME_ZONE","TIME_FORMAT","DATE_FORMAT","CALENDAR_WEEK_NUMBERING"];const n=this._createWrapper("/sap/opu/odata/UI2/INTEROP/");n.openBatchQueue();let i;for(let e=0;e<s.length;e++){i=s[e];t=encodeURI(`UserProfilePropertyValues?$filter=id eq '${i}'&$select=description,value`);n.read(t,function(e){r[this]=e.results}.bind(i),e=>{a.error(e,null,"sap.ushell_abap.adapters.abap.UserInfoAdapter")})}n.submitBatchQueue(()=>{e.resolve(r)},t=>{a.error(t,null,"sap.ushell_abap.adapters.abap.UserInfoAdapter");e.reject(new Error(t))});return e.promise()};this._createWrapper=function(t){return e.createODataWrapper(t,false,e=>{})};this.updateUserPreferences=function(e){a.debug("[000] updateUserPreferences","UserInfoAdapter");const t=this;let r;let s;let n;const i=new jQuery.Deferred;function u(){s-=1;if(s===0){i.resolve()}}function l(e,t){i.reject(new Error(e),t)}a.debug("[000] updateUserPreferences: _createWrapper","UserInfoAdapter");o=this._createWrapper("/sap/opu/odata/UI2/INTEROP/");a.debug("[000] updateUserPreferences: oDataWrapper.openBatchQueue","UserInfoAdapter");o.openBatchQueue();const d=e.getChangedProperties()||[];a.debug("[000] updateUserPreferences: getChangedProperties","UserInfoAdapter");s=d.length;d.forEach(e=>{let s=e.name;let i=e.newValue;if(s.toUpperCase()==="LANGUAGE"){s="PREFERRED_LOGON_LANGUAGE";i=i===p?undefined:i}r=`UserProfileProperties(${[`id='${s}'`,"shellType='FLP')"].join(",")}`;n={id:s,shellType:"FLP",value:i};t._updateODataObjectBasedOnDatatype(i,n);a.debug("[000] updateUserPreferences: oDataWrapper: put","UserInfoAdapter");o.put(r,n,u,l)});a.debug("[000] updateUserPreferences: submitBatchQueue","UserInfoAdapter");o.submitBatchQueue(()=>{if(s===0){i.resolve()}},l);return i.promise()}}});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell_abap/adapters/hana/ContainerAdapter", ["sap/ui/thirdparty/jquery","sap/base/Log"],(jQuery,e)=>{"use strict";return function(a){let s;this.getSystem=function(){return a};this.getUser=function(){return s};this.logout=function(){const s=new jQuery.Deferred;jQuery.ajax({type:"HEAD",url:a.adjustUrl("/sap/hana/xs/formLogin/token.xsjs"),headers:{"X-CSRF-Token":"Fetch"},success:function(t,r,n){jQuery.ajax({type:"POST",url:a.adjustUrl("/sap/hana/xs/formLogin/logout.xscfunc"),headers:{"X-CSRF-Token":n.getResponseHeader("X-CSRF-Token")},success:function(){e.info(`HANA system logged out: ${a.getAlias()}`,null,"sap.ushell_abap.adapters.hana.ContainerAdapter");s.resolve()},error:function(){e.error(`Logging out HANA system failed: ${a.getAlias()}`,null,"sap.ushell_abap.adapters.hana.ContainerAdapter");s.resolve()}})},error:function(){e.error(`Fetching X-CSRF-Token failed: ${a.getAlias()}`,null,"sap.ushell_abap.adapters.hana.ContainerAdapter");s.resolve()}});return s.promise()}}},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell_abap/bootstrap/evo/SAPCompanionConditionSetter", ["sap/base/Log","sap/base/util/Deferred"],(e,n)=>{"use strict";const i={};i._timeoutCounter=120;i._ushellConfig=undefined;i.run=function(){let s=0;const t=new n;if(i._ushellConfig===undefined){i._ushellConfig=window["sap-ushell-config"]}function o(){if(window.Help4!==undefined){const n=i._ushellConfig.ushell.spaces;const s={};s.FLPClassicHPActiveCurrentUser=!n.enabled;s.FLPClassicHPPossActiveAllUsers=n.configurable===false&&n.enabled===false||n.configurable===true;s.FLPClientRole=i._ushellConfig.startupConfig.clientRole;window.Help4.API.setConditions(s);e.info(`Conditions transferred to SAP Compagnion / SAP Help: ${JSON.stringify(s)}`);return true}return false}function l(){if(s<i._timeoutCounter){s++;if(!o()){setTimeout(l,1e3)}else{t.resolve();return}}else{t.reject(new Error("Timeout reached while trying to set conditions"))}}l();return t.promise};return i});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell_abap/bootstrap/evo/XhrLogonEventHandler", ["./abap.bootstrap.utils","sap/base/util/ObjectPath","sap/base/Log"],(e,t,o)=>{"use strict";const i="sap-ushell-reloaded";function n(e,t){this._oWindow=e||window;this._sXhrLogonMode=t;this._bPending=false}n.prototype.handleEvent=function(e){if(this._bPending){return true}if(e.type==="logon"){this._bPending=true;if(this._sXhrLogonMode==="logoffAndRedirect"){this._showErrorAndReload({key:"bootstrap.xhr.authenticationRequired",text:"Authentication required"},{key:"bootstrap.xhr.sessionExpired",text:"Your session has expired. Press OK to reload."},this._logoffAndRedirect,this._handleAuthenticationRequiredNoUi5.bind(this))}else{this._showErrorAndReload({key:"bootstrap.xhr.authenticationRequired",text:"Authentication required"},{key:"bootstrap.xhr.sessionExpired",text:"Your session has expired. Press OK to reload."},this._reloadPage,this._handleAuthenticationRequiredNoUi5.bind(this))}}else{o.error(`Cannot handle event with type: ${e.type}`,null,"sap.ushell_abap.bootstrap.evo.XhrLogonEventHandler")}return true};n.prototype._getUpdatedLocationSearchForReload=function(e){const t=Date.now();const o=new RegExp(["(.*)([?&])",i,"(=[^&]*)?(.*)"].join(""));let n;let r=false;if(typeof e!=="string"){throw new Error("Illegal argument: sCurrentLocationSearch must be a string")}n=e.replace(o,(e,o,n,s,a)=>{r=true;return[o,n,i,"=",t,a].join("")});if(!r){if(e){n=[e,"&",i,"=",t].join("")}else{n=["?",i,"=",t].join("")}}return n};n.prototype._reloadPage=function(){const e=this;e._oWindow.setTimeout(()=>{e._oWindow.location.search=e._getUpdatedLocationSearchForReload(e._oWindow.location.search)},0)};n.prototype._logoffAndRedirect=function(){const o=e.getLocationHref();const i=t.get("sap-ushell-config.services.Container.adapter.config.client");const n=new URI("/sap/public/bc/icf/logoff").absoluteTo(o).search(`sap-client=${i}&propagateLogoff=false&redirectURL=${encodeURIComponent(o)}`).toString();document.location=n};n.prototype._isPageReloaded=function(){return new RegExp(["[?&]",i].join("")).test(this._oWindow.location.search)};n.prototype._handleAuthenticationRequiredNoUi5=function(e){if(!this._isPageReloaded()){o.error("Illegal state: XHR authentication (mode=reload) requested before SAPUI5 is initialized. "+"This should not happen if the FioriLaunchpad.html page is loaded from the server. Trying to reload page once.",null,"sap.ushell_abap.bootstrap.evo.XhrLogonEventHandler");const t="Authentication required\n\nYour session might have expired. Press OK to reload.";this._oWindow.alert(t);e.call(this)}else{o.error("Illegal state: XHR authentication (mode=reload) requested before SAPUI5 is initialized and page reload has been triggered once."+" Stopping reload to avoid endless loop. This state cannot be overcome. Please ensure that the FioriLaunchpad.html"+" page is not cached, but always loaded from the server.",null,"sap.ushell_abap.bootstrap.evo.XhrLogonEventHandler")}};n.prototype._showErrorAndReload=function(e,t,o,i){let n;let r;if(sap.ui.require("sap/ui/core/Core")&&sap.ui.require("sap/m/MessageBox")){const i=sap.ui.require("sap/m/MessageBox");const s=i.Action;const a=i.Icon;const l=sap.ui.require("sap/ushell/resources");if(l){n=this._getText(e,l);r=this._getText(t,l)}if(sap.ui.require("sap/ui/core/BusyIndicator")){const e=sap.ui.require("sap/ui/core/BusyIndicator");if(typeof e.show==="function"&&typeof e.hide==="function"){e.hide();e.show=function(){}}}i.show(r,{icon:a.ERROR,title:n,actions:[s.OK],onClose:o.bind(this)})}else{i.call(this,o)}};n.prototype._getText=function(e,t){const o=t.i18n.getText(e.key);if(o&&o!==e.key){return o}return e.text};return n},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell_abap/bootstrap/evo/abap-def-dev", ["./abap.configure.ushell","./abap.configure.theme","./abap.load.launchpad","./boottask","sap/ushell/bootstrap/common/common.configure.ui5","sap/ushell/bootstrap/common/common.configure.ui5.extractLibs","sap/ushell/bootstrap/common/common.debug.mode","sap/ushell/bootstrap/common/common.load.bootstrapExtension"],(a,o,s,t,e,p,l,m)=>{"use strict";window["sap-ui-debug"]=l.isDebug();const n=a();const{theme:b,themeRoots:u}=o(n);e({ushellConfig:n,libs:p(n),theme:b,themeRoots:u,platform:"abap",platformAdapters:{abap:"sap.ushell_abap.adapters.abap",hana:"sap.ushell_abap.adapters.hana"},bootTask:t.start,onInitCallback:s});m(n)});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell_abap/bootstrap/evo/abap-def", ["./abap.configure.ushell","./abap.configure.theme","./abap.load.launchpad","./boottask","sap/ushell/bootstrap/common/common.configure.ui5","sap/ushell/bootstrap/common/common.configure.ui5.extractLibs","sap/ushell/bootstrap/common/common.load.bootstrapExtension","sap/ushell/bootstrap/common/common.debug.mode","sap/ushell/bootstrap/common/common.load.core-min"],(o,a,s,e,t,l,m,p,n)=>{"use strict";window["sap-ui-debug"]=p.isDebug();const u=o();const{theme:b,themeRoots:c}=a(u);t({ushellConfig:u,libs:l(u),theme:b,themeRoots:c,platform:"abap",platformAdapters:{abap:"sap.ushell_abap.adapters.abap",hana:"sap.ushell_abap.adapters.hana"},bootTask:e.start,onInitCallback:s});n.load(u.ushell.customPreload);m(u)});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell_abap/bootstrap/evo/abap.bootstrap.utils", ["sap/base/util/ObjectPath","sap/ushell_abap/pbServices/ui2/Utils"],(e,t)=>{"use strict";const n=Object.getOwnPropertyNames(Object.prototype);const r={};r.getUrlParameterValue=function(e,n){const r=n||t.getParameterMap();return r[e]&&r[e][0]};r.createAndOpenXHR=function(e,t,n){n=n||"GET";const o=new XMLHttpRequest;o.open(n,e,true);if(t){r.addCommonHeadersToXHR(o,t)}return o};r.addCommonHeadersToXHR=function(e,t){e.setRequestHeader("Accept","application/json");if(t.client){e.setRequestHeader("sap-client",t.client)}if(t.language){e.setRequestHeader("sap-language",t.language)}return e};r.getCacheIdAsQueryParameter=function(t){const n=e.get("services.targetMappings.cacheId",t);if(typeof n==="string"){return`&sap-cache-id=${n}`}return""};r.mergeConfig=function(e,t,o){const a=o?JSON.parse(JSON.stringify(t)):t;if(typeof t!=="object"){return}Object.keys(a).forEach(t=>{if(n.includes(t)){return}if(Object.prototype.toString.apply(e[t])==="[object Object]"&&Object.prototype.toString.apply(a[t])==="[object Object]"){r.mergeConfig(e[t],a[t],false);return}e[t]=a[t]})};r.getLocationOrigin=function(){return`${window.location.protocol}//${window.location.host}`};r.getLocationHref=function(){return window.location.href};return r});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell_abap/bootstrap/evo/abap.configure.theme", [],()=>{"use strict";function e(e){let t;const i=e?.startupConfig||{};const s=i.userProfile?.find(e=>e?.id==="THEME");const n=s?.value||i.theme||"sap_horizon";let o=i.themeRoot;if(!o&&i.client){o=`/sap/public/bc/themes/~client-${i.client}`}if(o&&!n.startsWith("sap_")){t={};t[n]=o.replace(/\/?$/,"/UI5/")}return{theme:n,themeRoots:t}}return e});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell_abap/bootstrap/evo/abap.configure.ushell", ["./abap.constants","sap/ushell/bootstrap/common/common.configure.ushell","sap/base/util/ObjectPath","sap/base/Log"],(e,t,s,o)=>{"use strict";function n(e){const t="sap/ushell_abap/bootstrap/evo/abap.configure.ushell";const s=e.messages;if(s&&s.length>0){for(let e=0;e<s.length;e+=1){if(s[e].severity==="error"){o.error(s[e].text,null,t)}else if(s[e].severity==="warning"){o.warning(s[e].text,null,t)}}}}function a(e){if(e.startupConfig){const t=s.get("services.Container.adapter.config.systemProperties",e);const o=s.create("services.Container.adapter",e);o.config=e.startupConfig;if(t){o.config.systemProperties=t}}}function r(e){const t=s.get("ushell.spaces.configurable",e);if(t){const t=s.get("startupConfig.userProfile",e)||[];const o=t.filter(e=>e.id==="SPACES_ENABLEMENT")[0];const n=o&&o.value;if(n==="true"){s.set("ushell.spaces.enabled",true,e)}else if(n==="false"){s.set("ushell.spaces.enabled",false,e)}}}function i(e){const t=s.create("services.CommonDataModel.adapter",e);t.module="sap.ushell.adapters.cdm.PagesCommonDataModelAdapter"}function l(e){const t=s.get("bootstrapPlugins",e)||{};Object.keys(t).forEach(e=>{const s=t[e];if(s.hasOwnProperty("formFactors")){const e=s.formFactors;const t={};t.desktop=e.desktop||false;t.tablet=e.tablet||false;t.phone=e.phone||false;s.deviceTypes=t;delete s.formFactors}})}function c(e){const t=s.get("startupConfig.userProfile",e)||[];const o=t.filter(e=>e.id==="PREFERRED_LOGON_LANGUAGE")[0];if(o&&o.value!==undefined){const t=o.value!=="";e.startupConfig.isLanguagePersonalized=t}}function f(){const o=t(e);n(o);c(o);a(o);r(o);if(s.get("ushell.spaces.enabled",o)){i(o)}l(o);return o}return f});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell_abap/bootstrap/evo/abap.constants", [],()=>{"use strict";return{defaultUshellConfig:{defaultRenderer:"fiori2",ushell:{home:{tilesWrappingType:"Hyphenated"},darkMode:{enabled:true},spaces:{myHome:{enabled:true}},customPreload:{enabled:true,coreResources:["sap/ushell/preload-bundles/thirdparty.js","sap/ushell_abap/bootstrap/evo/core-min-0.js","sap/ushell_abap/bootstrap/evo/core-min-1.js","sap/ushell_abap/bootstrap/evo/core-min-2.js","sap/ushell_abap/bootstrap/evo/core-min-3.js"],coreResourcesComplement:["sap/ushell_abap/bootstrap/evo/core-ext-light-0.js","sap/ushell_abap/bootstrap/evo/core-ext-light-1.js","sap/ushell_abap/bootstrap/evo/core-ext-light-2.js","sap/ushell_abap/bootstrap/evo/core-ext-light-3.js"]}},renderers:{fiori2:{componentData:{config:{sessionTimeoutReminderInMinutes:5,sessionTimeoutIntervalInMinutes:-1,sessionTimeoutTileStopRefreshIntervalInMinutes:15,enableContentDensity:true,enableAutomaticSignout:true,enablePersonalization:true,enableAbout:true,enableTagFiltering:false,enableSearch:true,enableSetTheme:true,enableSetLanguage:true,enableAccessibility:true,enableHelp:false,enableUserDefaultParameters:true,preloadLibrariesForRootIntent:false,enableNotificationsUI:false,enableRecentActivity:true,tilesWrappingType:"Hyphenated",applications:{"Shell-home":{enableEasyAccess:true,enableHideGroups:false,homePageGroupDisplay:"scroll",enableTileActionsIcon:false}},rootIntent:"Shell-home"}}}},services:{Personalization:{config:{appVariantStorage:{enabled:true,adapter:{module:"sap.ushell.adapters.AppVariantPersonalizationAdapter"}}}},PersonalizationV2:{config:{appVariantStorage:{enabled:true,adapter:{module:"sap.ushell.adapters.AppVariantPersonalizationAdapter"}}}},CrossApplicationNavigation:{config:{"sap-ushell-enc-test":false}},NavTargetResolution:{config:{enableClientSideTargetResolution:true}},NavTargetResolutionInternal:{config:{enableClientSideTargetResolution:true}},ShellNavigation:{config:{reload:false}},ShellNavigationInternal:{config:{reload:false}},UserDefaultParameterPersistence:{adapter:{module:"sap.ushell.adapters.local.UserDefaultParameterPersistenceAdapter"}},Notifications:{config:{enabled:false,serviceUrl:"/sap/opu/odata4/iwngw/notification/default/iwngw/notification_srv/0001",webSocketUrl:"/sap/bc/apc/iwngw/notification_push_apc",pollingIntervalInSeconds:30,enableNotificationsPreview:false}},NotificationsV2:{config:{enabled:false,serviceUrl:"/sap/opu/odata4/iwngw/notification/default/iwngw/notification_srv/0001",webSocketUrl:"/sap/bc/apc/iwngw/notification_push_apc",pollingIntervalInSeconds:30,enableNotificationsPreview:false}},AllMyApps:{config:{enabled:true,showHomePageApps:true,showCatalogApps:true}},NavigationDataProvider:{adapter:{module:"sap.ushell_abap.adapters.abap.ClientSideTargetResolutionAdapter"}},PagePersistence:{adapter:{config:{serviceUrl:"/sap/opu/odata/UI2/FDM_PAGE_RUNTIME_SRV/"}}},Menu:{adapter:{config:{enabled:false}}}},xhrLogon:{mode:"frame"},bootstrapPlugins:{UiAdaptationPersonalization:{component:"sap.ushell.plugins.rta-personalize",enabled:false}},ui5:{libs:{"sap.ui.core":true,"sap.m":true,"sap.ushell":true},timeZoneFromServerInUI5:false},apps:{placeholder:{enabled:true},inputFieldSuggestions:{enabled:true}}}}});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell_abap/bootstrap/evo/abap.load.launchpad", ["./boottask","sap/ushell_abap/pbServices/ui2/contracts/bag","sap/ushell_abap/pbServices/ui2/contracts/configuration","sap/ushell_abap/pbServices/ui2/contracts/configurationUi","sap/ushell_abap/pbServices/ui2/contracts/fullscreen","sap/ushell_abap/pbServices/ui2/contracts/preview","sap/ushell_abap/pbServices/ui2/contracts/visible","sap/ushell_abap/pbServices/ui2/contracts/refresh","sap/ushell_abap/pbServices/ui2/contracts/search","sap/ushell_abap/pbServices/ui2/contracts/url","sap/ushell_abap/pbServices/ui2/contracts/actions","sap/ushell_abap/pbServices/ui2/contracts/types"],e=>{"use strict";return function(){sap.ui.require(["sap/ushell/Container","sap/ushell/iconfonts","sap/ushell/state/StateManager"],(e,s,a)=>{const t=a.ShellMode;e.createRendererInternal("fiori2").then(s=>{s.placeAt("canvas","only");const r=e.getLogonSystem();const l=a.getShellMode();if(!r.getSysInfoBar()||l===t.Headerless){return}sap.ui.require(["sap/ushell/renderer/ShellLayout","sap/ushell/ui/shell/SysInfoBar"],(e,s)=>{const a="<div id='systemInfo-shellArea'></div>";const t=document.getElementById(e.ShellArea.ShellHeader);t.insertAdjacentHTML("beforebegin",a);new s({icon:r.getSysInfoBarIcon(),text:r.getSysInfoBarMainText(),subText:r.getSysInfoBarSecondaryText(),color:r.getSysInfoBarColor()}).placeAt("systemInfo-shellArea")})});s.registerFiori2IconFont()});e.afterBootstrap()}});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell_abap/bootstrap/evo/abap.request.pageset", ["./abap.bootstrap.utils","sap/ushell/bootstrap/common/common.util","sap/ui/thirdparty/jquery","sap/ushell_abap/pbServices/ui2/Utils","sap/base/Log"],(e,a,jQuery,s,t)=>{"use strict";const i={};const r="/sap/opu/odata/UI2/PAGE_BUILDER_PERS";const n="Pages/PageChipInstances/Chip/ChipBags/ChipProperties,"+"Pages/PageChipInstances/RemoteCatalog,"+"Pages/PageChipInstances/ChipInstanceBags/ChipInstanceProperties,"+"AssignedPages,DefaultPage";const c="PageSets('%2FUI2%2FFiori2LaunchpadHome')";let l=a.isSapStatisticsSet();function o(e,a,s,i,r){let n;let c;let l=false;if(e.services){if(e.services[a]){c=e.services[a]}else{c={};e.services[a]=c;l=true}}else{c={};e.services={};e.services[a]=c;l=true}if(!c.baseUrl||!c.relativeUrl){c.baseUrl=s;c.relativeUrl=i;l=true}if(l){t.warning(`URL for ${a} service not found in startup service result; fallback to default; cache invalidation might fail`,null,"sap.ushell_abap.bootstrap")}if(c.baseUrl.lastIndexOf("/")!==c.baseUrl.length-1){c.baseUrl+="/"}if(c.relativeUrl[0]==="/"){c.relativeUrl=c.relativeUrl.slice(1)}n=c.baseUrl+c.relativeUrl;if(!/\$expand=/.test(n)&&r){n+=`${n.indexOf("?")<0?"?":"&"}$expand=${r}`}if(c.cacheId){n+=`${n.indexOf("?")<0?"?":"&"}sap-cache-id=${c.cacheId}`}if(c["sap-ui2-cache-disable"]){n+=`${n.indexOf("?")<0?"?":"&"}sap-ui2-cache-disable=${c["sap-ui2-cache-disable"]}`}return n}function u(e,a,s,t){if(a===200){e.resolve(JSON.parse(t).d,s)}else{e.reject(new Error(`PageSet request failed: ${t}`))}}function p(a){const s=e.getUrlParameterValue("sap-ui2-cache-disable");if(s&&a&&a.services&&a.services.pbFioriHome){a.services.pbFioriHome["sap-ui2-cache-disable"]=s}return o(a,"pbFioriHome",r,c,n)}function d(e){const a=new jQuery.Deferred;sap.ui.require(["sap/ui/thirdparty/datajs"],t=>{OData.read.$cache=OData.read.$cache||new s.Map;OData.read.$cache.put(e,a.promise())});return a}function f(a,s,t){const i=e.createAndOpenXHR(a,s);if(l){i.setRequestHeader("sap-statistics","true")}i.onreadystatechange=function(){if(this.readyState!==4){return}t(i.status,undefined,i.responseText)};i.send()}function h(e){const a=p(e);const s=d(a);f(a,e,(e,a,t)=>{u(s,e,a,t)})}i.requestPageSet=h;i._getAndAdjustServiceURL=o;i._getAndAdjustPageSetServiceURL=p;i._setSapStatistics=function(e){l=e};return i});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell_abap/bootstrap/evo/abap.request.startup", ["./abap.bootstrap.utils","sap/base/util/ObjectPath","sap/base/Log","sap/ushell_abap/pbServices/ui2/Utils","sap/ushell/utils"],(e,t,r,a,s)=>{"use strict";const n={};function o(t,r,n){let o="/sap/bc/ui2/start_up?";const i=a.getParameterMap();let c;if(t){o+=`${t}&`}function u(e){const t=i[e];if(t){o+=`${e}=${encodeURIComponent(t[0])}&`}}r.forEach(u);o+=`shellType=${s.getShellType()}&depth=0`;if(n){o+=e.getCacheIdAsQueryParameter(n);c=e.createAndOpenXHR(o,n)}return new Promise((e,t)=>{a.get(o,false,t=>{const r=JSON.parse(t);e(r)},e=>{t(new Error(e))},c)})}n.requestStartupConfig=function(){const e=t.get("sap-ushell-config.services.Container.adapter.config");if(e){return Promise.resolve(e)}return o("",["sap-language","sap-client"])};n.requestFullTM=function(e){return o("so=%2A&action=%2A&systemAliasesFormat=object",["sap-language","sap-client","sap-ui2-cache-disable"],e).then(e=>{if(e){if(e.client){throw new Error("A start up response was returned in a target mappings request.")}return e}return{}}).catch(e=>{r.error("navTargetDataPromise rejected:",e);throw e})};n.requestDirectStart=function(e,t,r){const s=a.getFormFactor();let n="";n=`so=${t.semanticObject}&action=${t.action}`;n+="&systemAliasesFormat=object";Object.keys(r).forEach(e=>{n+=`&${e}=${r[e]}`});if(s){n+=`&formFactor=${encodeURIComponent(s)}`}return o(n,["sap-language","sap-client"],e).then(e=>Promise.resolve(e))};return n});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell_abap/bootstrap/evo/abap.theme.handler", ["sap/ui/thirdparty/URI","sap/base/Log","sap/ushell/bootstrap/common/common.read.metatags"],(e,t,o)=>{"use strict";const i={};function a(e){const i=o.readMetaTags("sap-allowed-theme-origins",e=>e.trim());let a="";if(i.length>0){a=i[0]}else{t.debug('No meta tag "sap-allowed-theme-origins" was found. No allowed origin for "theme-url" was applied.')}return!!a&&a.split(",").some(t=>t==="*"||e===t.trim())}i.isThemeRootSafe=function(t){const o=new e(t).search("");const i=o.origin().toString();if(i===""||a(i)||o.origin()===window.location.origin){return true}return false};return i});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell_abap/bootstrap/evo/abap.xhrlogon.LibLoader", ["sap/ushell/bootstrap/common/common.debug.mode"],e=>{"use strict";const s=new Promise(s=>{const t=`sap/ushell_abap/thirdparty/sap-xhrlib-esm${e.isDebug()?"-dbg":""}.js`;const r=sap.ui.require.toUrl(t);import(r).then(e=>{s(e.xhrlib)})});return{getLib:function(){return s}}});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell_abap/bootstrap/evo/abap.xhrlogon.configure", ["sap/ushell/bootstrap/common/common.util","sap/base/Log"],(n,r)=>{"use strict";function e(){return["error","warning","info","debug"].reduce((n,e)=>{n[e]=function(n){return r[e](n)};return n},{})}function o(r){const e=n.getLocationOrigin();const o=sap.ui.require.toUrl("");if(o&&o.indexOf(`${e}/`)===-1){r.ignore.add(o)}}const t={initXhrLogonIgnoreList:o,createUi5ConnectedXhrLogger:e};return t});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell_abap/bootstrap/evo/abap.xhrlogon.handler", ["sap/ushell_abap/bootstrap/evo/abap.xhrlogon.LibLoader","sap/ushell_abap/bootstrap/evo/abap.xhrlogon.configure","sap/ushell_abap/bootstrap/evo/abap.bootstrap.utils","sap/ushell_abap/bootstrap/evo/XhrLogonEventHandler","sap/base/Log"],(e,o,n,a,t)=>{"use strict";const r={};r.getLogonMode=function(e){return n.getUrlParameterValue("sap-ushell-xhrLogon-mode")||e&&e.xhrLogon&&e.xhrLogon.mode||"frame"};r.initXhrLogon=function(n){e.getLib().then(e=>{const a=r.getLogonMode(n);const s=r.createXhrLogonEventHandler(window,a);const g=e.LogonManager.getInstance();const l=e.XHRLogonManager.getInstance();const i={explicitMatchOnCORS:true};e.start(i);if(a==="reload"||a==="logoffAndRedirect"){g.unregisterAllHandlers();g.registerAuthHandler("*",e=>{s.handleEvent(e)})}else if(a!=="frame"){t.warning(`Unknown setting for xhrLogonMode: '${a}'. Using default mode 'frame'.`,null,"sap.ushell_abap.bootstrap.evo.abap.xhrlogon.handler")}e.Log.set(o.createUi5ConnectedXhrLogger());o.initXhrLogonIgnoreList(l)})};r.createXhrLogonEventHandler=function(e,o){return new a(e,o)};return r});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell_abap/bootstrap/evo/boottask", ["sap/ushell_abap/bootstrap/evo/abap.xhrlogon.LibLoader","./abap.bootstrap.utils","./abap.request.startup","./abap.request.pageset","./abap.xhrlogon.handler","./abap.theme.handler","sap/ushell/EventHub","sap/ui/performance/trace/initTraces","sap/base/util/ObjectPath","sap/base/Log","sap/ushell_abap/pbServices/ui2/Utils","sap/ushell/bootstrap/common/common.util","./SAPCompanionConditionSetter","sap/ushell/utils/UrlParsing"],(e,t,a,n,i,s,r,o,l,c,u,p,g,f)=>{"use strict";const m={};const h=new RegExp("^(#)?([A-Za-z0-9_]+)-([A-Za-z0-9_]+)");let d;let b;function v(e){function t(e){if(!e){return false}return e.indexOf("Shell-home")===0||e.indexOf("Launchpad-openFLPPage")===0||e.indexOf("Shell-appfinder")===0||e.indexOf("Shell-catalog")===0||e.indexOf("shell-catalog")===0||e.indexOf("Action-search")===0}function a(){return window["sap-ushell_abap-bootstrap-abap-noInitialTarget"]!==undefined}const n=e.match(h);const i=n&&n[2];const s=n&&n[3];const r=e&&!t(e)&&!a()&&i&&s;return r}function P(){const e=t.getLocationHref();const a=e.indexOf("#");if(a<0){return""}const n=decodeURI(e.slice(a+1));return n}function S(){const e=P();const t=e.indexOf("&/");return t<0?e:e.slice(0,t)}function C(){return sap.ui.require("sap/ushell/Container")}function y(e){const t=e.match(h);return t?{semanticObject:t[2],action:t[3]}:undefined}function F(e){if(!e||e==="#"){return true}return e.indexOf("Shell-home")===0||e.indexOf("Launchpad-openFLPPage")===0||e.indexOf("Shell-appfinder")===0||e.indexOf("Shell-catalog")===0||e.indexOf("shell-catalog")===0}function A(e){if(e===undefined){return undefined}try{return JSON.parse(JSON.stringify(e))}catch(e){c.error("Could not clone object",e,"sap.ushell_abap.bootstrap");return undefined}}function w(e){return e.indexOf("sap_")===0}function T(e,t){c.debug("setSapui5Settings()",JSON.stringify(e),"sap.ushell_abap.bootstrap.abap");const a=sap.ui.require("sap/base/i18n/Formatting");const n=sap.ui.require("sap/base/i18n/Localization");if(e.language){n.setLanguage(e.language,e.ABAPLanguage)}if(e.legacyDateFormat){a.setABAPDateFormat(e.legacyDateFormat)}if(e.legacyDateCalendarCustomizing){a.setCustomIslamicCalendarData(e.legacyDateCalendarCustomizing)}if(e.legacyNumberFormat){a.setABAPNumberFormat(e.legacyNumberFormat)}if(e.legacyTimeFormat){a.setABAPTimeFormat(e.legacyTimeFormat)}if(typeof t==="object"){a.addCustomCurrencies(t)}if(e.useTimeZoneIana&&e.timeZoneIana!==""){n.setTimezone(e.timeZoneIana)}}function _(e){(l.get("sap-ushell-config.services.Container.adapter.config")||l.create("sap-ushell-config.services.Container.adapter.config")).bootTheme=A(e)}function x(e){if(!e){c.error("extractSystemThemeRoot: mandatory parameter oStartupServiceResult not supplied")}if(e.themeRoot){return e.themeRoot}if(e.client){c.warning("Theme root was not contained in startup service result. A fallback to /sap/public/bc/themes/~client-<client number> is used",null,"sap.ushell_abap.bootstrap");return`/sap/public/bc/themes/~client-${e.client}`}c.error("extractSystemThemeRoot: Could not determine system theme root")}function L(e){let t;let a;if(e&&e.userProfile&&e.userProfile.filter){t=e.userProfile.filter(e=>e.id==="THEME");a=t.length?t[0]:{};if(a.value){return a.value}}if(e&&e.theme){return e.theme}return""}function I(e,t){if(e&&w(e)){return""}return t}function R(e,t){const a=L(e);return{theme:a,root:I(a,t)}}function O(e){let a;const n=t.getUrlParameterValue("sap-theme")||t.getUrlParameterValue("sap-ui-theme");if(n){if(n.indexOf("@")>0){a=n.split("@",2);return{theme:a[0],root:a[1]}}return{theme:n,root:I(n,e)}}return undefined}function H(){const e=u.getParameterMap();return e["sap-theme"]?.[0]||e["sap-ui-theme"]?.[0]}function D(e){const t=e;const a=e.indexOf("@");if(a>=0){const e=t.slice(a+1);return s.isThemeRootSafe(e)}return true}function M(e,t){let a;const n={};let i;const s=H();if(s&&D(s)){a=O(t);i=a;c.debug(`theme: URL theme = "${i.theme}"  theme root = "${i.root}"`,null,"sap.ushell_abap.bootstrap")}else if(e){i=e;c.debug(`theme: startup service theme = "${i.theme}"  theme root = "${i.root}"`,null,"sap.ushell_abap.bootstrap");if(s){const e=i.theme;sap.ui.require("sap/ui/core/Core").ready(()=>sap.ui.require("sap/ui/core/Theming").setTheme(e))}}else{n.theme=l.get("sap-ui-config.theme");if(n.theme){n.root=l.get(`sap-ui-config.themeRoots.${n.theme}`||"");if(!n.root){n.root=I(n.theme,t)}i={theme:n.theme,root:n.root};c.debug(`theme: html file theme = "${i.theme}"  theme root = "${i.root}"`,null,"sap.ushell_abap.bootstrap")}else{i={theme:"",root:""};c.error("Could not determine theme",null,"sap.ushell_abap.bootstrap")}}_(i);return i}function q(e){const a=u.getParameterMap();const n=t.getUrlParameterValue("sap-locale",a);const i={services:{}};const s=l.get("sap-ushell-config.services.SupportTicket.config.enabled");if(s!==false){i.services.SupportTicket={config:{enabled:e.isEmbReportingActive===true}}}i.services.ClientSideTargetResolution={adapter:{config:{services:{targetMappings:e?.services?.targetMappings}}}};i.services.LaunchPage={adapter:{config:{services:{targetMappings:e?.services?.targetMappings,launchPage:e?.services?.pbFioriHome}}}};i.services.VisualizationDataProvider={adapter:{module:"sap.ushell_abap.adapters.abap.FlpLaunchPageAdapter",config:{services:{targetMappings:e?.services?.targetMappings,launchPage:e?.services?.pbFioriHome}}}};i.services.PageBuilding={adapter:{config:{services:{pageBuilding:e?.services?.pbFioriHome}}}};i.services.Personalization={adapter:{config:{services:{personalization:e?.services?.personalization}}}};let r={};if(!n){r={language:e.languageBcp47||e.language,ABAPLanguage:e.language,legacyDateFormat:e.dateFormat,legacyDateCalendarCustomizing:e.tislcal,legacyNumberFormat:e.numberFormat===""?" ":e.numberFormat,legacyTimeFormat:e.timeFormat}}let o=l.get("sap-ushell-config.ui5.timeZoneFromServerInUI5");if(o===undefined){o=false;l.set("startupConfig.timeZoneFromServerInUI5",o,i);l.set("ushell.ui5.timeZoneFromServerInUI5",o)}let c=l.get("sap-ushell-config.startupConfig.timeZone");if(c===undefined){c="";l.set("startupConfig.timeZone",c,i)}r.useTimeZoneIana=o;r.timeZoneIana=c;const g=p.getV2ServiceMigrationConfig(i);p.mergeConfig(window["sap-ushell-config"],g,true);p.mergeConfig(window["sap-ushell-config"],i,true);M(b,d);T(r,e.currencyFormats)}function z(e){const t=m._getShellHash();const n=P();const i=y(t);const s=[i];const r={};const o={};let c;const u=l.get("sap-ushell-config.services.AppState.config")||l.create("sap-ushell-config.services.AppState.config");const p=l.get("sap-ushell-config.services.ClientSideTargetResolution.adapter.config")||l.create("sap-ushell-config.services.ClientSideTargetResolution.adapter.config");function g(e,t){const a=t.match(e);let n=[];if(!a){return}n=a[2].toString().split("=");o[n[0]]=n[1]}function f(e,t,a,n,i){if(t&&t[i]&&a&&a[n]){e[a[n]]=t[i]}}if(v(t)){g(/(\?|&)(sap-xapp-state=[A-Z0-9]+)/,t);g(/(\?|&)(sap-intent-param=[A-Z0-9]+)/,t);g(/(\?|&)(sap-system=[A-Z0-9]+)/,t);g(/(\?|&|[/])(sap-iapp-state=[A-Z0-9]+)/,n);c=a.requestDirectStart(e,i,o);u.initialAppStatesPromise=c.then(e=>{f(r,e,o,"sap-intent-param","iparState");f(r,e,o,"sap-iapp-state","iappState");f(r,e,o,"sap-xapp-state","xappState");u.initialAppStates=r;return Promise.resolve(r)});p.initialSegmentPromise=c.then(e=>{if(e.targetMappings){return Promise.resolve([s,e.targetMappings,e.systemAliases,e.urlTemplates])}return Promise.resolve(null)})}else{u.initialAppStatesPromise=Promise.resolve({});p.initialSegmentPromise=Promise.resolve(null)}}function Z(){const e=new Promise((e,t)=>{let a;function n(){c.info("Direct application start: resolving component waitFor promise after shell renderer created event fired.");e();C().detachRendererCreatedEvent(n)}r.once("ShellNavigationInitialized").do(()=>{a=C().getRendererInternal();if(a){c.info("Direct application start: resolving component waitFor promise immediately (shell renderer already created).");e()}else{C().attachRendererCreatedEvent(n)}})});return e}function N(){g.run().catch(()=>{c.info("SAPCompanion conditions could not be set.")});const t=m._getShellHash();if(F(t)&&window["sap-ushell-config"].ushell&&window["sap-ushell-config"].ushell.spaces&&window["sap-ushell-config"].ushell.spaces.enabled){m._loadPage(t)}e.getLib().then(e=>{const t=e.FrameLogonManager.getInstance();C().oFrameLogonManager=t});if(v(t)){let e;let t;window["sap-ushell-async-libs-promise-directstart"]=new Promise((a,n)=>{e=a;t=n});window["sap-ushell-async-libs-promise-directstart"].catch(e=>{});C().getServiceAsync("NavTargetResolutionInternal").then(a=>{const n=`#${m._getShellHash()}`;a.resolveHashFragment(n).done(a=>{sap.ui.require(["sap/ushell/services/AppConfiguration"],i=>{i.setCurrentApplication(a);if(a&&a.ui5ComponentName){const i=f.getBasicHash(n);a.ui5ComponentId=`application-${i}-component`;C().getServiceAsync("Ui5ComponentLoader").then(i=>{i.createComponent(a,y(n),Z(),"Application").then(t=>{e({resolvedHashFragment:t,dependenciesLoaded:true})}).catch(e=>{t(e)})})}else{e({resolvedHashFragment:a,dependenciesLoaded:false})}})}).fail(e=>{t(e)})})}}function B(e){if(e&&e.indexOf("Shell-appfinder")===0){return}C().getServiceAsync("PersonalizationV2").then(async e=>{const t={container:"sap.ushell.cdm3-1.personalization",item:"data"};const a={validity:"Infinity",keyCategory:e.KeyCategory.GENERATED_KEY,writeFrequency:e.WriteFrequency.HIGH,clientStorageAllowed:false};const n=await e.getPersonalizer(t,a);return n.getPersData()});sap.ui.require(["sap/ushell/components/pages/controller/PagesAndSpaceId","sap/ushell/resources"],async(t,a)=>{await a.awaitResourceBundle();const n=t.getPageAndSpaceId(e);const i=C().getServiceAsync("PagePersistence");Promise.all([n,i]).then(e=>{const t=e[0];const a=e[1];a.getPage(t.pageId)}).catch(e=>{c.error("getPage failed",e)})})}function E(e){i.initXhrLogon(window["sap-ushell-config"]);o();a.requestStartupConfig().catch(e=>{c.error("start_up request failed:",e,"sap.ushell_abap.bootstrap");return{}}).then(e=>{const t=m._getShellHash();(l.get("sap-ushell-config.services.Container.adapter")||l.create("sap-ushell-config.services.Container.adapter")).config=e;const i=l.get("sap-ushell-config.services.LaunchPage.adapter.config")||l.create("sap-ushell-config.services.LaunchPage.adapter.config");const s=l.get("sap-ushell-config.services.ClientSideTargetResolution.adapter.config")||l.create("sap-ushell-config.services.ClientSideTargetResolution.adapter.config");if(l.get("sap-ushell-config.ushell.spaces.enabled")){l.set("sap-ushell-config.services.VisualizationDataProvider.adapter.config",i);l.set("sap-ushell-config.services.NavigationDataProvider.adapter.config",s)}z(e);d=x(e);b=R(e,d);if(!H()&&b){c.debug("theme: load theme from startup service via window",null,"sap.ushell_abap.bootstrap")}if(F(t)&&!l.get("sap-ushell-config.ushell.spaces.enabled")){n.requestPageSet(e)}const r=a.requestFullTM(e);s.navTargetDataPromise=r;i.compactTMPromise=r;l.set("sap-ushell-config.services.FlpLaunchPage.adapter.config.compactTMPromise",r);return Promise.resolve(e)}).then(t=>{q(t);e()})}m.start=E;m.afterBootstrap=N;m._getShellHash=S;m._getFullShellHash=P;m._createWaitForRendererCreatedPromise=Z;m._loadPage=B;return m});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell_abap/components/TCodeNavigation", ["sap/ushell/Container","sap/base/Log","sap/ushell/api/performance/Extension","sap/ushell/api/performance/NavigationSource","sap/ushell_abap/components/TCodeNavigation/TCodeNavigationError","sap/ushell_abap/components/TCodeNavigation/MessageCode"],(a,e,t,n,o,i)=>{"use strict";class s{static#a=new t("TCodeNavigation");static MessageCode=i;static async navigateByTCode(t,s){try{const e=await a.getServiceAsync("NavigationDataProvider");const r=await e.getNavigationData();const c=this.#e(r,t);if(c){const{semanticObject:e,action:t}=c;const o={};if(s){o["sap-ushell-navmode"]="explace"}this.#a.addNavigationSource(n.SearchDirectLaunch);const r=await a.getServiceAsync("Navigation");await r.navigate({target:{semanticObject:e,action:t},params:o});return{successful:true,messagecode:i.NAV_SUCCESS}}throw new o(`No matching inbound found for transaction code: ${t}`,{code:i.NO_INBOUND_FOUND})}catch(a){e.error("Error during TCode navigation",a);const t=new o("Error during TCode navigation.",{successful:false,code:a.code});throw t}}static#e(a,t){if(!a?.inbounds){e.error("No navigation data found");return null}const n=a.inbounds.filter(a=>a.resolutionResult?.appInfo?.["abap.transaction"]===t);if(n.length===0){return null}const s=n.find(a=>{const e=a.signature?.parameters;if(!e){return true}return Object.values(e).every(a=>!a.required||a.defaultValue&&a.defaultValue.value)});if(!s){throw new o(`Mandatory parameter is missing for transaction ${t}`,{code:i.NO_INBOUND_FOUND})}return s}}return s});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell_abap/components/TCodeNavigation/MessageCode", [],()=>{"use strict";const N={NAV_SUCCESS:"NAV_SUCCESS",NO_INBOUND_FOUND:"NO_INBOUND_FOUND",UNKNOWN_ERROR:"UNKNOWN_ERROR"};return N});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell_abap/components/TCodeNavigation/TCodeNavigationError", ["sap/ushell_abap/components/TCodeNavigation/MessageCode"],s=>{"use strict";class e extends Error{constructor(e,c={}){super(e);this.code=c.code||s.UNKNOWN_ERROR;this.messagecode=this.code;this.successful=c.successful??false}}return e});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell_abap/integration/fileshares/AppRuntimeFileShareSupport", ["sap/base/i18n/Localization","sap/ui/core/Manifest","sap/base/Log"],(e,t,a)=>{"use strict";const n={_getDataSourcePromise:null};const r="sap.ushell_abap.integration.fileshares.AppRuntimeFileShareSupport";const s="FileShare";const o="manage";const i=`/sap/bc/ui2/start_up?so=${s}&action=${o}&systemAliasesFormat=object&formFactor=desktop&shellType=FLP&depth=0`;n.getDataSource=async function(){const s=n._getClient();const o=`${i}&sap-client=${s}`;if(!s){a.error("Could not determine sap-client parameter.",null,r);throw new Error("Could not determine sap-client parameter.")}if(!n._getDataSourcePromise){n._getDataSourcePromise=fetch(o,{method:"GET",headers:{"Content-Type":"application/json; charset=utf-8",Accept:"application/json","Accept-Language":e.getLanguageTag().toString()}}).then(e=>{if(e.ok===false){a.error("Could not fetch data, request failed",`error: ${e.status}, ${e.statusText},\nurl: ${o}`,r);throw new Error(e.statusText)}return e.json()}).then(e=>{if(e&&e.targetMappings&&Object.keys(e.targetMappings).length>0){const n=e.targetMappings[Object.keys(e.targetMappings)[0]].applicationDependencies;if(n){let s;try{s=JSON.parse(n).manifest}catch(t){a.error(`Could not parse JSON data of applicationDependencies for targetMapping '${Object.keys(e.targetMappings)[0]}': ${t.message}`,null,r)}if(s){return t.load({manifestUrl:s,async:true})}}}const n=`No manifest URL defined: ${JSON.stringify(e)}`;a.error(n,null,r);throw new Error(n)}).then(e=>e.getEntry("/sap.app/dataSources/mainService"))}return n._getDataSourcePromise};n._getClient=function(){const e=document.getElementsByTagName("meta")["sap-client"];return e&&e.content};return n});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell_abap/integration/fileshares/NavTargetResolutionFileShareSupport", ["sap/base/Log","sap/ui/core/Manifest","sap/ushell/Container"],(e,a,t)=>{"use strict";const n={};const r="sap.ushell_abap.integration.fileshares.NavTargetResolutionFileShareSupport";const i="#FileShare-manage";n.getDataSource=function(){if(!n._getDataSourcePromise){n._getDataSourcePromise=t.getServiceAsync("NavTargetResolutionInternal").then(e=>e.resolveHashFragment(i)).then(t=>{const n=t&&t.applicationDependencies&&t.applicationDependencies.manifest;if(n){return a.load({manifestUrl:n,async:true})}const i=["No manifest URL defined in resolved navigation target:",JSON.stringify(t)].join(" ");e.error(i,null,r);throw new Error(i)}).then(e=>e.getEntry("/sap.app/dataSources/mainService"))}return n._getDataSourcePromise};return n});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell_abap/library", ["sap/ui/core/Lib","sap/ui/core/library","sap/m/library"],(p,a,i)=>{"use strict";const s=p.init({name:"sap.ushell_abap",apiVersion:2,version:"1.141.1",dependencies:["sap.ui.core","sap.m"],noLibraryCSS:true,extensions:{"sap.ui.support":{diagnosticPlugins:["sap/ushell_abap/support/plugins/app-infra/AppInfraOnSapNetWeaverSupportPlugin"]}}});return s});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell_abap/pbServices/ui2/AllCatalogs", ["sap/ushell_abap/pbServices/ui2/Error","sap/base/Log"],(t,l)=>{"use strict";function e(e,s){let i=[];let a=true;const n=this;function o(){if(a){throw new t(`${n}: collection is just a stub`,"AllCatalogs")}}this.getCatalogs=function(){o();return i.slice()};this.isStub=function(){return a};this.load=function(o,u,r,g,c,f){if(!a){throw new t(`${n}: collection is not a stub anymore`,"AllCatalogs")}function h(){let t;let l;let e;if(!g){for(t=0,l=i.length;t<l;t+=1){e=i[t];if(e.isStub()){e.load(h,u);return}}}o()}function d(t){let s;let o;l.debug(`Loaded: ${n}`,null,"AllCatalogs");a=false;i=[];for(s=0,o=t.results.length;s<o;s+=1){i.push(e.createCatalog(t.results[s]))}l.debug(`Initialized: ${n}`,null,"AllCatalogs");h()}e.getPageBuildingService().readAllCatalogs(s,d,u,r,c,!!f)};this.toString=function(t){const l=['AllCatalogs({sPageId:"',s,'",bIsStub:',a];if(t){l.push(",aCatalogs:",JSON.stringify(i))}l.push("})");return l.join("")};if(!s){throw new t("Missing page ID","AllCatalogs")}l.debug(`Created: ${this}`,null,"AllCatalogs")}return e});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell_abap/pbServices/ui2/Bag", ["sap/ushell_abap/pbServices/ui2/Utils","sap/ushell_abap/pbServices/ui2/Error","sap/base/Log"],(e,t,n)=>{"use strict";function r(r,a,s,i){let u;let l=false;let o=false;const p=this;function c(){if(l){throw new t("The previous reset operation is not finished yet","Bag")}}function f(){if(o){throw new t("The previous save operation is not finished yet","Bag")}}function h(t,n){const r=t.Properties&&t.Properties.results||t.ChipInstanceProperties&&t.ChipInstanceProperties.results||t.ChipProperties&&t.ChipProperties.results||[];u=u||new e.Map;r.forEach(e=>{const t=e.name;let r;if(!n||n.containsKey(t)){r=u.put(t,e);e.$currentValue=r?r.$currentValue:e.value}});delete t.ChipInstanceProperties;delete t.ChipProperties;delete t.Properties}function g(t,n){if(t.length===0){u.keys().forEach(e=>{if(n===(u.get(e).translatable==="X")){t.push(e)}});return t}const r=new e.Map;t.forEach(e=>{r.put(e)});u.keys().forEach(e=>{if(n===(u.get(e).translatable==="X")){r.put(e)}});return r.keys()}function d(){if(a.instanceId){return{pageId:a.pageId,instanceId:a.instanceId}}return{id:a.pageId}}function b(e,n,r){let a;if(!e){throw new t("Property name must not be empty","sap.ushell_abap.pbServices.ui2.Bag")}if(typeof e!=="string"){throw new t("Property name must be a string","sap.ushell_abap.pbServices.ui2.Bag")}a=u.get(e);if(a&&a.translatable==="X"!==r){throw new t(`'${e}' already exists as a ${r?"non-translatable":"translatable text"} property`,"sap.ushell_abap.pbServices.ui2.Bag")}if(typeof n!=="string"){throw new t("Property value must be a string","sap.ushell_abap.pbServices.ui2.Bag")}c();if(!a){a={name:e,translatable:r?"X":" "};u.put(e,a)}a.$currentValue=n;return p}this.getId=function(){return a.id};this.getOwnPropertyNames=function(){return g([],false)};this.getOwnTextNames=function(){return g([],true)};this.getProperty=function(e,n){const r=u.get(e);if(r&&r.translatable==="X"){throw new t(`'${e}' is a translatable text property`,"sap.ushell_abap.pbServices.ui2.Bag")}if(r){return r.$currentValue}if(s){return s.getProperty(e,n)}return n};this.getPropertyNames=function(){const e=s?s.getPropertyNames():[];return g(e,false)};this.getText=function(e){const n=u.get(e);if(n&&n.translatable!=="X"){throw new t(`'${e}' is a non-translatable property`,"sap.ushell_abap.pbServices.ui2.Bag")}if(n){return n.$currentValue}if(s){return s.getText(e)}return e};this.getTextNames=function(){const e=s?s.getTextNames():[];return g(e,true)};this.reset=function(n,s){const o=d();const g=r.getPageBuildingService();function b(e){l=false;a=e;u=undefined;h(a);if(i){i(p)}n()}if(typeof n!=="function"){throw new t("Missing success handler","sap.ushell_abap.pbServices.ui2.Bag")}f();c();l=true;s=s||g.getDefaultErrorHandler();if(a.$tmp){e.callHandler(b.bind(null,a),s,true);return}g.deleteBag(o,a.id,()=>{a.$tmp=true;g.readBag(o,a.id,b,b.bind(null,a))},function(){l=false;s.apply(null,arguments)})};this.resetProperty=function(e){const t=u.get(e);if(t){t.$currentValue=undefined;if(!Object.prototype.hasOwnProperty.call(t,"value")){u.remove(e)}}return this};this.save=function(n,s){let l=0;const g=new e.Map;const b={};const y={};const w=d();const v=r.getPageBuildingService();if(typeof n!=="function"){throw new t("Missing success handler","sap.ushell_abap.pbServices.ui2.Bag")}if(typeof s!=="function"){throw new t("Missing error handler","sap.ushell_abap.pbServices.ui2.Bag")}f();c();v.openBatchQueue();u.keys().forEach(e=>{let t;const n=u.get(e);function r(t,n){b[e]=t;y[e]=n}if(n.$currentValue!==n.value){l+=1;if(Object.prototype.hasOwnProperty.call(n,"value")){if(n.$currentValue===undefined){g.put(e);v.deleteProperty(n,()=>{if(n.$currentValue===undefined){u.remove(e)}else{delete n.value}},r)}else{t=JSON.parse(JSON.stringify(n));t.value=n.$currentValue;v.updateProperty(t,()=>{n.value=t.value},r)}}else{v.createProperty(w,a.id,e,n.$currentValue,n.translatable,t=>{t.$currentValue=n.$currentValue;u.put(e,t)},r)}}});if(g.keys().length){v.readBag(w,a.id,e=>{h(e,g)})}o=true;v.submitBatchQueue(()=>{o=false;if(i&&l>Object.keys(b).length){i(p)}if(Object.keys(b).length>0){s(b,y)}else{a.$tmp=false;n()}})};this.setProperty=function(e,t){return b(e,t,false)};this.setText=function(e,t){return b(e,t,true)};this.toString=function(e){const t=['Bag({id:"',a.id,'",pageId:"',a.pageId];if(a.instanceId){t.push('",instanceId:"',a.instanceId)}t.push('"');if(e){t.push(",oAlterEgo:",JSON.stringify(a));t.push(",oPropertiesByName:",u.toString());t.push(",bResetting:",l);t.push(",bSaving:",o)}t.push("})");return t.join("")};this.update=function(e){if(!e||a.id!==e.id){throw new t("Bag data belongs to another bag","sap.ushell_abap.pbServices.ui2.Bag")}u=undefined;h(e)};this._getChangeHandler=function(){return i};this._getRawBagData=function(){return a};this._getParentBag=function(){return s};h(a);n.debug(`Created: ${this}`,null,"sap.ushell_abap.pbServices.ui2.Bag")}return r});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell_abap/pbServices/ui2/Catalog", ["sap/ui/core/EventBus","sap/ushell_abap/pbServices/ui2/Error","sap/ushell_abap/pbServices/ui2/Utils","sap/base/Log","sap/ui/thirdparty/jquery"],(e,t,i,n,jQuery)=>{"use strict";function a(a,r){let s;let o;let l=[];let u;let d=true;let g;let f;let c;let h=[];const p=this;function C(){if(d){throw new t(`${p}: page is just a stub`,"Page")}}function S(){if(!s){throw new t(`${p}: catalog is just an ID`,"Catalog")}}this.exit=function(){const e=p.toString();if(o){o.exit()}s=undefined;r=undefined;l=[];d=true;u=undefined;c=undefined;h=[];Object.keys(p).forEach(e=>{if(!/getCatalogData|getId|isStub|toString/.test(e)){delete p[e]}});a.forgetCatalog(p);n.debug(`Exited: ${e}`,null,"Catalog")};this.getRemoteBaseUrl=function(){return p.addSystemToServiceUrl(s.type==="H"?"/sap/hba/apps/kpi/s/odata/hana_chip_catalog.xsodata/":s.baseUrl)};this.getRemoteCatalogService=function(){return a.getRemoteCatalogService(s)||{readChips:function(e,t,a,r,o){n.error(`Catalog '${s.id}', type '${s.type}' not supported`,null,"Catalog");i.callHandler(r.bind(null,{results:[]}),undefined,true)}}};function m(){let e;let t;let i;n.debug(`Loaded: ${p}`,null,"Catalog");if(s.Chips){i=s.Chips.results||s.Chips;delete s.Chips;l=[];for(e=0,t=i.length;e<t;e+=1){l[e]=a.createChip(i[e])}d=false;n.debug(`Initialized: ${p}`,null,"Catalog")}delete s.CatalogPage}this.read=function(e,t,n){let r;function o(e){s=e;m();r.resolve()}function l(e){s.Chips=e;m();r.resolve()}function d(e){e.results.forEach(e=>{e.remoteCatalogId=f});l(e)}function c(){m();g=arguments;r.reject.apply(this,arguments)}function h(t){let i;if(t.remoteId){s=t;try{i=p.getRemoteBaseUrl()}catch(e){c(e.toString());return}p.getRemoteCatalogService().readChips(i,s.remoteId,undefined,d,c)}else if(s&&e){l(t.Chips)}else{o(t)}}if(!u||u.state()!=="pending"){r=new jQuery.Deferred;u=r.promise();if(!s||e&&!s.remoteId){a.getPageBuildingService().readCatalog(f,h,r.reject.bind(r))}else{h.bind(this)(s)}}n=n||a.getPageBuildingService().getDefaultErrorHandler();u.done(i.callHandler.bind(null,t,n));u.fail(n)};this.addSystemToServiceUrl=function(i,n){if(i.indexOf("/")!==0||i.indexOf("//")===0){throw new t(`addSystemToServiceUrl: Invalid URL: ${i}`,"Catalog")}n=n||this.getSystemAlias();if(/^[^?]*(;o=([\/;?]|$))/.test(i)){i=i.replace(/;o=([\/;?]|$)/,(n?";o="+n:"")+"$1")}else if(!/^[^?]*;o=/.test(i)&&n){i=i.replace(/(\/[^?]*?)(\/$|$|(\/?\?.*))/,`$1;o=${n}$2`)}e.getInstance().publish("sap.ushell.Container","addRemoteSystemForServiceUrl",i);return i};this.clone=function(e,t,i,n){let r;function o(e,t){return n(e,undefined,t)}if(s&&s.type==="REMOTE"){r=this.getCatalogData();delete r.id;r.domainId=e;if(t!==undefined){r.title=t}a.createNewCatalog(r,i,n)}else{a.getPageBuildingService().cloneCatalog(this.getId(),e,t,e=>{a.createCatalog(e.id,i,o)},o)}};this.getCatalogData=function(){if(!s){return undefined}const e=JSON.parse(JSON.stringify(s));delete e.__metadata;return e};this.getCatalogPage=function(){S();if(s.type!=="P"&&s.type!=="CATALOG_PAGE"){return undefined}if(!o){o=a.createPage(f)}return o};this.getChips=function(){if(d){throw new t(`${p}: catalog is just a stub`,"Catalog")}return l.slice()};this.getDomainId=function(){return s&&s.domainId};this.getId=function(){return f};this.getSystemAlias=function(){return s&&s.systemAlias||undefined};this.getTitle=function(){S();return s.title};this.getType=function(){S();return s&&s.type};this.isOutdated=function(){S();return o&&!o.isStub()&&o.isOutdated()||s.outdated==="X"};this.isReadOnly=function(){C();return s.isReadOnly==="X"};this.isStub=function(){return d};this.getCachedRemoteFailureArguments=function(){return g};this.load=function(e,i){if(!d){throw new t("Catalog is not a stub anymore","Catalog")}this.read(false,e,i)};this.readChips=function(e,t,n){function r(e){e.results.forEach(e=>{a.createChip(e)});i.callHandler(t,n)}function o(e){e.results.forEach(e=>{e.remoteCatalogId=f});r(e)}function l(t){s=t;if(s.remoteId){this.getRemoteCatalogService().readChips(this.getRemoteBaseUrl(),s.remoteId,e,o,n)}else{a.getPageBuildingService().readCatalogChips(f,e,r,n)}}if(!s){a.getPageBuildingService().readCatalog(f,l.bind(this),n,true)}else{l.bind(this)(s)}};this.readRegisteredChips=function(e,t){function n(){const e=new jQuery.Deferred;const t=h;h=[];if(t.length){p.readChips(t,e.resolve.bind(e),e.reject.bind(e))}else{e.resolve()}return e.promise()}if(!c||c.state()!=="pending"){c=n()}t=t||a.getPageBuildingService().getDefaultErrorHandler();c.fail(t).done(i.callHandler.bind(null,e,t))};this.refresh=function(e,t){this.read(true,e,t)};this.registerChip=function(e){if(c&&c.state()==="pending"){throw new t("Invalid state: registerChip while readRegisteredChips pending","Catalog")}h.push(e.getId())};this.remove=function(e,i){S();if(u&&u.state()==="pending"){throw new t(`Catalog is being refreshed: ${this}`,"Catalog")}n.debug(`Removing: ${this}`,null,"Catalog");a.getPageBuildingService().deleteCatalog(s,()=>{this.exit();e()},i)};this.toString=function(e){const t=['Catalog({sId:"',f,'"',",bIsStub:",d];if(e){t.push(",oAlterEgo:",JSON.stringify(s),",oFactory:",a.toString(e),",aChips:",JSON.stringify(l))}t.push("})");return t.join("")};this.update=function(e,i,n){S();if(Object.hasOwnProperty.call(e,"__metadata")){throw new t("Unsupported __metadata update","Catalog")}const r=JSON.parse(JSON.stringify(s));Object.keys(e).forEach(t=>{r[t]=e[t]});d=true;g=undefined;a.getPageBuildingService().updateCatalog(r,()=>{s=r;this.read(true,i,n)},function(){d=false;n=n||a.getPageBuildingService().getDefaultErrorHandler();n.apply(null,arguments)})};if(typeof r==="object"){f=r.id;if(r.remoteId){delete r.Chips}s=r;m()}else if(typeof r==="string"){f=r}if(!f){throw new t("Missing ID","Catalog")}n.debug(`Created: ${this}`,null,"Catalog")}return a});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell_abap/pbServices/ui2/Chip", ["sap/ushell_abap/pbServices/ui2/Bag","sap/ushell_abap/pbServices/ui2/Utils","sap/ushell_abap/pbServices/ui2/Error","sap/ushell_abap/pbServices/ui2/ChipDefinition","sap/base/Log"],(e,t,i,n,r)=>{"use strict";const a={};let o={};function s(e){return Object.prototype.hasOwnProperty.call(a,e)?a[e]:null}function p(a,p){const u=this;let c;let l;let f;let h;let g;let C;let d;let m;let w;function I(){if(!h){throw new i(`${u}: CHIP is just a stub`,"sap.ushell_abap.pbServices.ui2.Chip")}}function P(i){let n;c=new t.Map;if(!i){return}for(n=0;n<i.length;n+=1){c.put(i[n].id,new e(p,i[n]))}}function $(e){let t=e.basePath;let n;let r;let a;let o=e.viewName;if(e.componentName){e.$Namespace=e.componentName}else{r=/^(?:([^\/]+)\/)?(.*)\.view\.(.*)$/.exec(o);if(!r){throw new i(`${u}: Illegal view name: ${o}`,"Chip")}a=r[1];o=r[2];e.$ViewType=r[3].toUpperCase();if(a){o=`${a}.${o}`}else{n=o.lastIndexOf(".");if(n<1){throw new i(`${u}: Missing namespace: ${o}`,"Chip")}a=o.substring(0,n)}e.$Namespace=a;e.$ViewName=o}const s=e.virtualNamespace;if(s){e.$VirtualNamespace=s}e.$UrlPrefix=e.$Namespace.replace(/\./g,"/");if(t!=="."){t=t.replace(/\/?$/,"/");e.$UrlPrefix=t+e.$UrlPrefix}e.$UrlPrefix=u.toAbsoluteUrl(e.$UrlPrefix)}function y(){f={};if(h.contracts.configuration&&h.contracts.configuration.parameters){f=JSON.parse(JSON.stringify(h.contracts.configuration.parameters))}u.updateConfiguration(f,a.configuration)}function b(e){let t;let n;if(h){throw new i(`${u}: cannot initialize twice`,null,"Chip")}h=e;h.contracts=h.contracts||{};if(!h.implementation||!h.implementation.sapui5){throw new i(`${u}: Missing SAPUI5 implementation`,"Chip")}$(h.implementation.sapui5);y();r.debug(`Initialized: ${u}`,null,"Chip");if(d){for(t=0,n=d.length;t<n;t+=2){d[t]()}d=null}}this.updateBags=function(t){let i;let n;const r=c.keys();for(i=0;i<t.length;i+=1){n=t[i].id;if(c.containsKey(n)){c.get(n).update(t[i]);r.splice(r.indexOf(n),1)}else{c.put(n,new e(p,t[i]))}}for(i=0;i<r.length;i+=1){c.remove(r[i])}};this.createApi=function(e,t){const n={};let r;let a;let o;I();const p=h.contracts;if(p){for(o in p){if(Object.prototype.hasOwnProperty.call(p,o)){a=s(o);if(!a){throw new i(`${this}: Contract '${o}' is not supported`,"Chip")}n[o]={};r=a.call(n[o],e);if(t){t.put(o,r)}}}}return n};this.getAvailableTypes=function(){let e;I();if(h.contracts.types&&h.contracts.types.parameters&&typeof h.contracts.types.parameters.supportedTypes==="string"&&h.contracts.types.parameters.supportedTypes!==""){e=h.contracts.types.parameters.supportedTypes.toLowerCase();return e.split(",")}return[]};this.getDefaultType=function(){const e=this.getAvailableTypes();if(h.contracts.types&&h.contracts.types.parameters&&typeof h.contracts.types.parameters.defaultType==="string"&&h.contracts.types.parameters.defaultType!==""){let t=h.contracts.types.parameters.defaultType;t=t.toLowerCase();if(e.indexOf(t)>-1){return t}throw new i(`The chip has the default type: ${t} which is not supported`)}if(e.indexOf("tile")>-1){return"tile"}if(e.length>0){return e[0]}return""};this.getBag=function(e){if(!e){throw new i("Missing bag ID","Chip")}return c.get(e)};this.getBagIds=function(){return c.keys()};this.getBaseChipId=function(){return a.baseChipId};this.getCatalog=function(){if(m){return m}return a.$proxy?undefined:p.createCatalog(a.catalogId)};this.getConfigurationParameter=function(e){I();return f[e]};this._getChipRawConfigurationString=function(){return a.configuration};this.getDescription=function(){return a.description};this.getId=function(){return a.id};this.getReferenceChipId=function(){return a.referenceChipId};this.getImplementationAsSapui5=function(e){r.error("Deprecated API call of 'Chip.getImplementationAsSapui5'. Please use 'getImplementationAsSapui5Async' instead",null,"sap.ushell_abap.pbServices.ui2.Chip");I();const t={chip:e};const i=h.implementation.sapui5;const n=this.getBaseChipId();if(n!=="X-SAP-UI2-CHIP:/UI2/STATIC_APPLAUNCHER"&&n!=="X-SAP-UI2-CHIP:/UI2/DYNAMIC_APPLAUNCHER"){if(i.$VirtualNamespace){i.$absolutePath=this.toAbsoluteUrl(i.basePath);sap.ui.loader.config({paths:JSON.parse(`{"${i.$Namespace.replace(/\./g,"/")}":"${i.$absolutePath}"}`)})}else{sap.ui.loader.config({paths:JSON.parse(`{"${i.$Namespace.replace(/\./g,"/")}":"${i.$UrlPrefix}"}`)})}}if(i.componentName){if(n==="X-SAP-UI2-CHIP:/UI2/STATIC_APPLAUNCHER"||n==="X-SAP-UI2-CHIP:/UI2/DYNAMIC_APPLAUNCHER"){t.manifest=false}const e=sap.ui.requireSync("sap/ui/core/ComponentContainer");const r=new e;this.oComponentPromise=new Promise((e,n)=>{sap.ui.require(["sap/ui/core/Component"],a=>{a.create({name:i.componentName,componentData:t}).then(e=>{r.setComponent(e)}).then(e).catch(n)})});return r}return sap.ui.view({type:i.$ViewType,viewName:i.$ViewName,viewData:t})};this.getImplementationAsSapui5Async=async function(e){I();return new Promise((t,i)=>{sap.ui.require(["sap/ui/core/ComponentContainer","sap/ui/core/Component","sap/ui/core/mvc/View"],(n,r,a)=>{const s={chip:e};const p=h.implementation.sapui5;const u=this.getBaseChipId();if(u!=="X-SAP-UI2-CHIP:/UI2/STATIC_APPLAUNCHER"&&u!=="X-SAP-UI2-CHIP:/UI2/DYNAMIC_APPLAUNCHER"){if(p.$VirtualNamespace){p.$absolutePath=this.toAbsoluteUrl(p.basePath);sap.ui.loader.config({paths:JSON.parse(`{"${p.$Namespace.replace(/\./g,"/")}":"${p.$absolutePath}"}`)})}else{sap.ui.loader.config({paths:JSON.parse(`{"${p.$Namespace.replace(/\./g,"/")}":"${p.$UrlPrefix}"}`)})}}if(p.componentName){let e=true;if(u==="X-SAP-UI2-CHIP:/UI2/STATIC_APPLAUNCHER"||u==="X-SAP-UI2-CHIP:/UI2/DYNAMIC_APPLAUNCHER"){e=false}if(!o[p.componentName]){o[p.componentName]=r.create({name:p.componentName,componentData:s,manifest:e});return o[p.componentName].then(e=>new n({component:e})).then(t).catch(i)}return o[p.componentName].then(()=>r.create({name:p.componentName,componentData:s,manifest:e})).then(e=>new n({component:e})).then(t).catch(i)}return a.create({type:p.$ViewType,viewName:p.$ViewName,viewData:s}).then(t).catch(i)})})};this.getRemoteCatalog=function(){return m};this.getTitle=function(){return a.title||h&&h.appearance&&h.appearance.title};this.isBasedOn=function(e){const t=`X-SAP-UI2-PAGE:${e.getPage().getId()}:${e.getId()}`;function i(e){return e===t||e.indexOf(`${t}:`)===0}return a.referenceChipId&&i(a.referenceChipId)||i(a.id)};this.isReference=function(){return!!a.referenceChipId};this.isBrokenReference=function(){return a.referenceChipId==="O"};this.isStub=function(){return!h};this.load=function(e,o){function s(e,t){g=e;C=t;let i;let n;if(d){for(i=1,n=d.length;i<n;i+=2){d[i](e,t)}d=null}}function c(){if(p){p.createChipDefinition(a.url,b,s);return}t.get(a.url,true,e=>{r.debug(`Loaded: ${u}`,null,"Chip");b(new n(e))},s)}function f(){if(!a.url){if(w){throw new i(`Remote catalog did not deliver CHIP '${a.id}'`,"Chip")}throw new i("Missing module URL","Chip")}w=false;l=t.absoluteUrl(a.url);c()}if(!this.isStub()){throw new i("Chip is not a stub anymore","Chip")}if(typeof e!=="function"){throw new i("Missing success handler","Chip")}o=o||p.getPageBuildingService().getDefaultErrorHandler();if(g){t.callHandler(o.bind(null,g,C),null,true);return}if(d){d.push(e,o);return}if(a.url){c()}else if(a.remoteCatalogId){this.getRemoteCatalog().readRegisteredChips(f,s);w=true}else{p.getPageBuildingService().readChip(a.id,e=>{a=e;f()},s)}d=[e,o]};this.refresh=function(e,t){function n(t){a.title=t.title;a.configuration=t.configuration;a.referenceChipId=t.referenceChipId;P(t.ChipBags&&t.ChipBags.results);if(!u.isStub()){u.updateConfiguration(f,a.configuration)}e()}function r(e){if(e.results[0]){n(e.results[0])}else{t=t||p.getPageBuildingService().getDefaultErrorHandler();t(`Could not refresh CHIP. No update received from catalog ${a.remoteCatalogId}`)}}if(typeof e!=="function"){throw new i("Missing success handler","Chip")}if(!a.url){throw new i(`${u}: CHIP is just a stub`,"Chip")}if(a.remoteCatalogId){this.getRemoteCatalog().readChips([a.id],r,t)}else{p.getPageBuildingService().readChip(a.id,n,t)}};this.update=function(e){if(typeof e!=="object"||e.id!==this.getId()){throw new i(`Invalid update data: ${this}`,"Chip")}if(e.ChipBags&&e.ChipBags.results){this.updateBags(e.ChipBags&&e.ChipBags.results)}if(a.url){return}if(!e.url){return}a=e;l=t.absoluteUrl(a.url);r.debug(`Updated: ${this}`,null,"Chip")};this.updateConfiguration=function(e,t){let n;let a;let o;if(!t){return}if(typeof t==="string"){try{n=JSON.parse(t)}catch(e){r.warning(`${this}: ignoring invalid configuration "${t}"`,e,"Chip");return}}else{n=t}for(a in n){if(Object.prototype.hasOwnProperty.call(n,a)){if(Object.prototype.hasOwnProperty.call(f,a)){o=n[a];if(o===undefined){delete e[a]}else if(typeof o!=="string"){throw new i(`Value for '${a}' must be a string`,"Chip")}else{e[a]=o}}else{r.warning(`${this}: ignoring unknown configuration parameter ${a}`,null,"Chip")}}}};this.toAbsoluteUrl=function(e){return t.absoluteUrl(e,l)};this.toString=function(e){const t=['Chip({sChipUrl:"',l,'"'];if(e){t.push(",oAlterEgo:",JSON.stringify(a),",oBags:",c.toString(),",oDefinition:",JSON.stringify(h))}t.push("})");return t.join("")};this.isInitiallyDefined=function(e){return e}.bind(null,a&&!a.hasOwnProperty("$proxy"));this._setDefinition=function(e){h=e};if(!a){throw new i("Missing CHIP description","Chip")}l=t.absoluteUrl(a.url);if(a.remoteCatalogId){m=p.createCatalog(a.remoteCatalogId);if(!a.url){m.registerChip(this)}}P(a.ChipBags&&a.ChipBags.results);r.debug(`Created: ${this}`,null,"Chip")}p.addContract=function(e,t){if(s(e)){throw new i(`Cannot register contract '${e}' twice`,"Chip")}a[e]=t};p.removeContract=function(e){delete a[e]};if(!a.navigation){p.addContract("navigation",function(e){this.navigateToUrl=function(e,t){throw new i("'navigation' contract not implemented!")}})}p.prototype._clearComponentCache=function(){o={}};return p});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell_abap/pbServices/ui2/ChipDefinition", ["sap/ushell_abap/pbServices/ui2/Error"],t=>{"use strict";const e="http://schemas.sap.com/sapui2/services/Chip/1";function n(t){return t.localName||t.baseName}function i(t,e){let i;let a;let s;if(typeof t.getAttributeNS==="function"){return t.getAttributeNS(null,e)}const c=t.attributes;for(a=0,s=c.length;a<s;a+=1){i=c[a];if(!i.namespaceURI&&n(i)===e){return i.nodeValue}}return""}function a(t){return t.textContent||t.text||""}function s(t,i,a){let s;const c=i.childNodes;let o;let r;let u;for(r=0,u=c.length;r<u;r+=1){s=c[r];if(s.namespaceURI===e){o=a[n(s)];if(o){o.call(t,s)}}}}function c(o){const r=this;if(o instanceof c){o=JSON.parse(JSON.stringify(o));["appearance","contracts","id","implementation"].forEach(t=>{if(Object.prototype.hasOwnProperty.call(o,t)){r[t]=o[t]}});return}if(n(o.documentElement)!=="chip"||o.documentElement.namespaceURI!==e){throw new t("Missing root <chip>","ChipDefinition")}s(this,o.documentElement,{appearance:function(t){this.appearance={};s(this.appearance,t,{description:function(t){this.description=a(t)},title:function(t){this.title=a(t)}})},contracts:function(t){this.contracts={};s(this.contracts,t,{consume:function(t){const e=i(t,"id");this[e]={};s(this[e],t,{parameters:function(t){this.parameters={};s(this.parameters,t,{parameter:function(t){const e=i(t,"name");this[e]=a(t)}})}})}})},id:function(t){this.id=a(t)},implementation:function(t){this.implementation={};s(this.implementation,t,{sapui5:function(t){this.sapui5={basePath:"."};let e;s(this.sapui5,t,{basePath:function(t){this.basePath=a(t)},componentName:function(t){this.componentName=a(t);e=i(t,"virtualNamespace")},viewName:function(t){this.viewName=a(t);e=i(t,"virtualNamespace")}});if(e){this.sapui5.virtualNamespace=e==="true"}}})}});o=null}return c});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell_abap/pbServices/ui2/Error", ["sap/base/Log"],r=>{"use strict";function e(e,n,u){const t=new Error(e);u=u===undefined?true:u;t.name="Error";if(u===true){r.error(e,null,n)}return t}return e});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell_abap/pbServices/ui2/Factory", ["sap/ushell_abap/pbServices/ui2/Chip","sap/ushell_abap/pbServices/ui2/Error","sap/ushell_abap/pbServices/ui2/Catalog","sap/ushell_abap/pbServices/ui2/ChipDefinition","sap/ushell_abap/pbServices/ui2/PageBuildingService","sap/ushell_abap/pbServices/ui2/ChipInstance","sap/ushell_abap/pbServices/ui2/Page","sap/ushell_abap/pbServices/ui2/PageSet","sap/ushell_abap/pbServices/ui2/Utils","sap/base/Log","sap/base/util/LoaderExtensions"],(e,t,a,i,n,l,s,r,o,c,u)=>{"use strict";function p(n){const p={};const h={};const g={};const d=this;const f=new o.Map;if(!n){throw new t("Missing page building service","Factory")}c.debug(`Created: ${this}`,null,"Factory");this.addRemoteCatalogService=function(e,a){if(!e){throw new t("Invalid base URL","sap.ushell_abap.pbServices.ui2.Factory")}if(typeof a.readChips!=="function"){throw new t("Invalid remote catalog service","sap.ushell_abap.pbServices.ui2.Factory")}e=e.replace(/\/$/,"");if(f.containsKey(e)){throw new t(`Base URL '${e}' already registered`,"sap.ushell_abap.pbServices.ui2.Factory")}f.put(e,a)};this.createCatalog=function(e,t,i){const n=this;let l;const s=typeof e==="object"?e.id:e;function r(){let e;i=i||n.getPageBuildingService().getDefaultErrorHandler();if(i){e=Array.prototype.slice.call(arguments);e.splice(1,0,l);i.apply(null,e)}}function c(){r.apply(null,l.getCachedRemoteFailureArguments())}if(Object.prototype.hasOwnProperty.call(h,s)){l=h[s].catalog;if(typeof e==="object"&&l.getCatalogData()===undefined){a.call(l,this,e)}}else{l=new a(this,e);h[s]={catalog:l,chips:{}}}if(t){if(l.isStub()){l.load(t.bind(null,l),r)}else if(l.getCachedRemoteFailureArguments()!==undefined){o.callHandler(c,c,true)}else{o.callHandler(t.bind(null,l),r,true)}}return l};this.createChip=function(t,a,i){const n=t.remoteCatalogId;const l=t.id;let s;let r;if(n){this.createCatalog(n);s=h[n].chips}else{s=p}if(Object.prototype.hasOwnProperty.call(s,l)){r=s[l];r.update(t)}else{r=new e(t,this);s[l]=r}if(a){if(r.isStub()){r.load(a.bind(null,r),i)}else{i=i||this.getPageBuildingService().getDefaultErrorHandler();o.callHandler(a.bind(null,r),i,true)}}return r};this.createChipDefinition=function(e,a,n){let l;let s;function r(e,t,a,n){o.callHandler(t.bind(null,new i(e)),a,n)}function c(t){let a;let n;const l=new i(t);g[e]=l;for(a=0,n=s.length;a<n;a+=2){r(l,s[a],s[a+1],false)}}function p(t){let a;let i;let n;if(typeof t==="string"){n=t}else{n=t.message}g[e]=n;for(a=0,i=s.length;a<i;a+=2){s[a+1](n)}}if(!e){throw new t("Missing URL","Factory")}if(typeof a!=="function"){throw new t("Missing success handler","Factory")}n=n||this.getPageBuildingService().getDefaultErrorHandler();e=o.addCacheBusterTokenUsingUshellConfig(e);if(Object.prototype.hasOwnProperty.call(g,e)){l=s=g[e];if(o.isArray(s)){s.push(a,n)}else if(l instanceof i){r(l,a,n,true)}else{o.callHandler(n.bind(null,l),null,true)}return}s=[a,n];g[e]=s;u.loadResource({dataType:"xml",url:e,async:true}).then(c).catch(p)};this.createChipInstance=function(e,t,a,i){e.Chip=e.Chip||{$proxy:true};e.Chip.id=e.Chip.id||e.chipId;e.Chip.remoteCatalogId=e.Chip.remoteCatalogId||e.remoteCatalogId;if(e.RemoteCatalog&&e.RemoteCatalog.id){this.createCatalog(e.RemoteCatalog)}const n=this.createChip(e.Chip);const s=new l(this,e,n,i);if(t){s.load(t.bind(null,s),a)}return s};this.createNewCatalog=function(e,t,a){this.getPageBuildingService().createCatalog(e,e=>{const i=d.createCatalog(e);i.load(t.bind(null,i),(e,t)=>{a(e,i,t)})},(e,t)=>{a(e,undefined,t)})};this.createNewPageBasedCatalog=function(e,t,a,i){this.getPageBuildingService().createPageBasedCatalog(e,t,e=>{d.createCatalog(e,a,i)},i)};this.createPage=function(e,t,a,i){const n=new s(this,e);if(t){n.load(t.bind(null,n),a,i)}return n};this.createPageSet=function(e,t,a){const i=new r(this,e);if(t){i.load(t.bind(null,i),a)}return i};this.forgetCatalog=function(e){delete h[e.getId()]};this.getPageBuildingService=function(){return n};this.getRemoteCatalogService=function(e){const t=e.type==="H"?"/sap/hba/apps/kpi/s/odata/hana_chip_catalog.xsodata":e.baseUrl;return t?f.get(t.replace(/\/$/,"")):undefined};this.toString=function(e){const t=["Factory({oPbs:",n.toString(e)];if(e){t.push(",mChips:",JSON.stringify(p))}t.push("})");return t.join("")}}p.createFactory=function(e,t,a,i){return new p(n.createPageBuildingService(e,t,a,i))};return p});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell_abap/pbServices/ui2/ODataService", ["sap/ushell_abap/pbServices/ui2/Utils","sap/ushell_abap/pbServices/ui2/Error"],(e,t)=>{"use strict";let n=new e.Map;function r(e,r){if(!e){throw new t("Missing OData wrapper","ODataService")}const s=e.getBaseUrl();this.getCsrfToken=function(){if(n.get(s)&&n.get(s).token){return n.get(s).token}return""};this.getDefaultErrorHandler=function(){return r};this.openBatchQueue=function(){e.openBatchQueue()};this.refreshCsrfToken=function(i,o){if(typeof i!=="function"){throw new t("Success callback is not a function","ODataService")}o=o||r;const a=n.get(s);if(!a.fetchingInProgress){a.token=undefined;a.fetchingInProgress=true;e.read("",()=>{if(!n.get(s)||!n.get(s).token){o("No CSRF token delivered");a.errorHandlers.forEach(e=>{e("No CSRF token delivered")})}else{i();a.successHandlers.forEach(e=>{e()})}a.successHandlers=[];a.errorHandlers=[];a.fetchingInProgress=false},function(){a.fetchingInProgress=false;o.apply(null,arguments)})}else{a.successHandlers.push(i);a.errorHandlers.push(o)}};this.setCsrfToken=function(e){if(e&&typeof e!=="string"){throw new t(`Invalid CSRF token: ${e}`,"ODataService")}const r=n.get(s);r.token=e};this.setDefaultErrorHandler=function(e){if(e&&typeof e!=="function"){throw new t("Error callback is not a function","ODataService")}r=e||function(){}};this.submitBatchQueue=function(){e.submitBatchQueue.apply(e,arguments)};this.toString=function(t){const n=["ODataService({"];if(t){n.push('csrfToken:"',this.getCsrfToken(),'"');n.push(",oODataWrapper:",e.toString(true))}n.push("})");return n.join("")};if(!n.get(s)){n.put(s,{fetchingInProgress:false,successHandlers:[],errorHandlers:[]})}this.setDefaultErrorHandler(r)}r.resetSharedCsrfTokens=function(){n=new e.Map};return r});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell_abap/pbServices/ui2/ODataWrapper", ["sap/ui/thirdparty/datajs","sap/base/i18n/Localization","sap/ui/core/Supportability","sap/ushell_abap/pbServices/ui2/Utils","sap/ushell_abap/pbServices/ui2/ODataService","sap/ushell_abap/pbServices/ui2/Error","sap/base/Log","sap/ui/thirdparty/jquery"],(e,t,a,r,s,n,i,jQuery)=>{"use strict";function o(){}function u(e,t){if(r.isArray(e)){e.forEach(e=>{e.reject(t)})}else{e.reject(t)}}function c(e){if(e===undefined){return undefined}try{return JSON.parse(JSON.stringify(e))}catch{return undefined}}function f(e,a){const s="saplb";let l;let p;let d;const h=this;let g;let b;function O(e){const t={};t.baseUrl=e[0];if(typeof e[2]==="boolean"){t.supportsChangeSets=e[2]}return t}this.getBatchQueue=function(){return l};f.headerValue=function(e,t){e=e.toLowerCase();for(const a in t){if(Object.prototype.hasOwnProperty.call(t,a)&&a.toLowerCase()===e){return t[a]}}return undefined};function S(t){const a=e["sap-language"]||f["sap-language"];const r=e["sap-statistics"]||f["sap-statistics"];const s=e["sap-client"]||f["sap-client"];t=t||{};if(a){t["sap-language"]=a}if(r||r==="false"){t["sap-statistics"]=`${r}`}if(s){t["sap-client"]=s}return t}function y(e){e=e||{};const t=f.oStickySessionConfiguration[g];if(typeof t==="undefined"){return e}if(t&&t.enabled&&typeof t.value!=="undefined"){e[s]=t.value}return e}this.detectStickySession=function(e){const t=f.oStickySessionConfiguration[g];if(!t||!t.enabled){return}const a=f.headerValue(s,e);if(typeof a==="undefined"){return}if(t.value!==a){t.value=a}};f.csrfTokenValue=function(e){const t=f.headerValue("x-csrf-token",e);if(t==="Required"){return t}const a=f.headerValue("cache-control",e);if(a===undefined||a.indexOf("max-age=0")>-1||a.indexOf("no-cache")>-1){return t||""}return""};this.doRequest=function(e,s,n,u,c,l,p){i.debug("[000] do request, sMethod",s,"ODataWrapper");u=u||o;c=c||a.getDefaultErrorHandler();h.check(u,c);const d={Accept:"application/json","Accept-Language":t.getLanguage()||"","X-CSRF-Token":a.getCsrfToken()};if(a.getCsrfToken()===""&&s!=="GET"){a.refreshCsrfToken(this.doRequest.bind(h,e,s,n,u,c,l,true),c);return}S(d);y(d);OData.request({requestUri:e,method:s,data:n,headers:d},(t,a)=>{this.detectStickySession((a||{}).headers);i.debug(`Received OData response for ${s} "${e}"`,null,"ODataWrapper");r.callHandler(u.bind(null,t),c)},t=>{function r(){c.apply(null,arguments)}function o(){u.apply(null,arguments)}if(!p&&t.response.statusCode===403&&f.csrfTokenValue(t.response.headers).toLowerCase()==="required"){i.debug(`CSRF token required for ${s} "${e}", refreshing it`,JSON.stringify(t.response),"ODataWrapper");a.refreshCsrfToken(this.doRequest.bind(h,e,s,n,o,r,l,true),r)}else{h.onError(s,e,c,null,t)}},l);i.debug(`Sent OData request for ${s} "${e}"`,null,"ODataWrapper")};this.toRelativeUrl=function(e){const t=e.indexOf(g);if(t<0){throw new n(`Not relative to base URL "${g}": ${e}`,"ODataWrapper")}return e.slice(t+g.length)};this.toRequestUrl=function(e){if(/^\//.test(e)){throw new n(`Not a relative URL: ${e}`,"ODataWrapper")}return g+e};this.readOrBatch=function(e,a,r){let s;const n=this.toRequestUrl(e);const o=y(S());if(l&&e!==""){i.debug(`Queued OData request for GET "${e}"`,null,"ODataWrapper");l.push({method:"GET",requestUri:e,headers:o});s=(new jQuery.Deferred).done(a).fail(r);d.push(s);p=false;return}o.Accept="application/json";o["Accept-Language"]=t.getLanguage()||"";o["X-CSRF-Token"]="Fetch";OData.read({requestUri:n,headers:o},a,r);i.debug(`Sent OData request for GET "${n}"`,null,"ODataWrapper")};this.requestOrBatch=function(e,t,s,n,u){let c;const f={data:s,method:t,requestUri:e,headers:y(S())};const g=this.toRequestUrl(e);if(l){n=n||o;u=u||a.getDefaultErrorHandler();h.check(n,u);i.debug(`Queued OData request for ${t} "${e}"`,null,"ODataWrapper");if(!p){l.push({__changeRequests:[]});d.push([]);p=b}l[l.length-1].__changeRequests.push(f);c=(new jQuery.Deferred).done((e,a)=>{i.debug(`Received OData response for ${t} "${g}"`,null,"ODataWrapper");r.callHandler(n.bind(null,e),u)}).fail(h.onError.bind(h,t,g,u,null));d[d.length-1].push(c);return}this.doRequest(g,t,s,n,u)};this.isStickySessionEnabled=function(){return(f.oStickySessionConfiguration[g]||{}).enabled||false};this.enableStickySession=function(){f.oStickySessionConfiguration[g].enabled=true};this.check=function(e,t){if(!e){throw new n("Missing success callback","ODataWrapper")}if(typeof e!=="function"){throw new n("Success callback is not a function","ODataWrapper")}if(!t){throw new n("Missing error callback","ODataWrapper")}if(typeof t!=="function"){throw new n("Error callback is not a function","ODataWrapper")}};this.create=function(e,t,a,r){i.debug("[000] create: url",e,"ODataWrapper");this.requestOrBatch(e,"POST",t,a,r)};this.del=function(e,t,a){let r=e;if(typeof r!=="string"){r=this.toRelativeUrl(e.__metadata.uri)}this.requestOrBatch(r,"DELETE",null,e=>{if(t){t()}},a)};this.getBaseUrl=function(){return g};this.getODataService=function(){return a};this.onError=function(e,t,a,r,s){let n;let o="Error ";if(s.response&&s.response.statusCode){o+=`(${s.response.statusCode}, ${s.response.statusText}) `}o+=`in OData response for ${e} "${t}": ${s.message}`;if(s.response&&s.response.body){try{n=JSON.parse(s.response.body).error;if(n){if(n.hasOwnProperty("message")&&n.message.hasOwnProperty("value")){o+=`\nDetails: ${n.message.value}`}if(s.response.statusCode&&!n.httpStatus){n.httpStatus=s.response.statusCode}}}catch(e){}}i.error(o,JSON.stringify(s.response),"ODataWrapper");if(r){r.reject(o,n)}a(o,n)};this.openBatchQueue=function(){if(l){throw new n("Batch queue already open","ODataWrapper")}l=[];d=[];p=false};this.isBatchQueueOpen=function(){return!!l};this.read=function(e,t,s,n){let o;const u=this.toRequestUrl(e);let c;function l(e,n){this.detectStickySession(n.headers);a.setCsrfToken(f.csrfTokenValue(n.headers)||a.getCsrfToken());i.debug(`Received OData response for GET "${u}"`,null,"ODataWrapper");c=f.headerValue("sap-message",n.headers);if(c){i.warning(`SAP message for GET ${u}`,c,"ODataWrapper")}if(o){o.resolve(JSON.parse(JSON.stringify(e)),a.getCsrfToken())}r.callHandler(t.bind(null,e),s)}s=s||a.getDefaultErrorHandler();this.check(t,s);if(n){OData.read.$cache=OData.read.$cache||new r.Map;o=OData.read.$cache.get(u);if(o){i.debug(`Using cached response for GET "${u}"`,null,"ODataWrapper");o.done((e,n)=>{a.setCsrfToken(a.getCsrfToken()||n);r.callHandler(t.bind(null,JSON.parse(JSON.stringify(e))),s)}).fail(s);return}o=new jQuery.Deferred;OData.read.$cache.put(u,o.promise())}this.readOrBatch(e,l.bind(this),this.onError.bind(this,"GET",u,s,o))};this.batch=function(e,t,a){const r=this.toRequestUrl("$batch");this.doRequest(r,"POST",e,t,a,OData.batchHandler)};this.submitBatchQueue=function(e,t){const s=d;function o(n){const i=n.__batchResponses.length;const o=s.length;if(o!==i){h.onError("POST",this.toRequestUrl("$batch"),t,null,{message:`Protocol error! Expected ${o} responses, but received ${i}`});return}n.__batchResponses.forEach((e,t)=>{const a=s[t];if(e.response){u(a,e)}else if(e.__changeResponses){e.__changeResponses.forEach((e,t)=>{a[t].resolve(e.data,e)})}else{a.resolve(e.data,e)}});if(e){r.callHandler(e,a.getDefaultErrorHandler())}}if(!l){throw new n("No open batch queue to submit","ODataWrapper")}if(l.length>0){i.debug("[000] submit batch queue: batch","ODataWrpper");this.batch({__batchRequests:l},o.bind(this),t)}else if(e){r.callHandler(e,a.getDefaultErrorHandler(),true)}i.debug("[000] submit batch queue","ODataWrapper");l=undefined;d=undefined};this.toString=function(e){const t=['ODataWrapper({sBaseUrl:"',g,'"'];t.push("})");return t.join("")};this.put=function(e,t,a,r){i.debug("[000] put: request or batch, payload.id",t.id,"ODataWrapper");this.requestOrBatch(e,"PUT",t,e=>{if(a){a()}},r)};this.update=function(e,t,a){const r={__metadata:{type:e.__metadata&&e.__metadata.type}};let s;const n=this.toRelativeUrl(e.__metadata.uri);for(s in e){if(Object.prototype.hasOwnProperty.call(e,s)&&s.indexOf("$")!==0&&typeof e[s]!=="object"){r[s]=e[s]}}this.put(n,r,t,a)};if(typeof e==="string"){e=O(arguments)}else if(typeof e==="object"){e=c(e)}if(!e||!e.baseUrl||typeof e.baseUrl!=="string"){throw new n("Missing base URL","ODataWrapper")}if(!a||typeof a!=="object"){throw new n("Missing OData service facade","ODataWrapper")}e.baseUrl=`${e.baseUrl.replace(/\/$/,"")}/`;g=e.baseUrl;b=e.supportsChangeSets;if(typeof f.oStickySessionConfiguration==="undefined"){i.error("ODataWrapper.oStickySessionConfiguration is not defined!","the ODataWrapper constructor was called before the static property was defined","ODataWrapper")}else if(typeof f.oStickySessionConfiguration[g]==="undefined"){f.oStickySessionConfiguration[g]={enabled:false,value:undefined}}}function l(e){const t={};const a={};t.baseUrl=e[0];if(typeof e[1]==="boolean"){t.supportsChangeSets=e[1]}if(typeof e[2]==="function"){a.defaultFailure=e[2]}a.settings=t;return a}if(typeof f.oStickySessionConfiguration==="undefined"){f.oStickySessionConfiguration={}}f.checkSapStatisticsSetting=function(e){try{f["sap-statistics"]=a.isStatisticsEnabled()}catch{f["sap-statistics"]=/sap-statistics=(true|x|X)/.test(e)}};f.checkSapStatisticsSetting(window.location.search);f._Service=function e(t,a){const r=new f(t,this);s.call(this,r,a);return r};f.createODataWrapper=function(e,t){i.debug("[000] createOdataWrapper","ODataWrapper");if(typeof arguments[0]==="string"){const a=l(arguments);e=a.settings;if(a.defaultFailure){t=a.defaultFailure}}else if(typeof arguments[0]==="object"){e=c(e)}return new f._Service(e,t)};return f});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell_abap/pbServices/ui2/PageBuildingService", ["sap/ushell_abap/pbServices/ui2/Utils","sap/ushell_abap/pbServices/ui2/ODataService","sap/ushell_abap/pbServices/ui2/ODataWrapper","sap/ushell_abap/pbServices/ui2/Error"],(e,t,n,i)=>{"use strict";function a(n,s,r,o){let c;const g=this;function d(e){return e.replace(/'/g,"''").replace(/&/g,"%26")}function l(e,t,n){let i;if(typeof e==="string"){i=e}else{if(e.instanceId){return`ChipInstanceBags(pageId='${encodeURIComponent(e.pageId)}',instanceId='${encodeURIComponent(e.instanceId)}',id='${encodeURIComponent(t)}')${n?"?$expand=ChipInstanceProperties":""}`}i=e.id}return`Bags(pageId='${encodeURIComponent(i)}',id='${encodeURIComponent(t)}')${n?"?$expand=Properties":""}`}a.extractBatchResponseEntry=function(e){if(e.statusCode==="201"){return e.data}if(e.statusCode==="204"){return undefined}return e.message||""};this.batch=function(t,n,i,s){let r=[];function o(e){let t;const n=[];for(t=0;t<e.length;t+=1){n[t]=a.extractBatchResponseEntry(e[t])}return n}i=i||function(){};s=s||g.getDefaultErrorHandler();c.check(i,s);t=t||[];n=n||[];if(t.length>0){r.push({__changeRequests:t})}r=r.concat(n);if(r.length===0){e.callHandler(i.bind(null,[],[]),s,true);return}c.batch({__batchRequests:r},n=>{const a=n.__batchResponses;const g=a[0].__changeResponses;if(a[0].response&&a[0].message){c.onError("POST",`${c.getBaseUrl()}$batch`,s,undefined,n.__batchResponses[0]);return}if(g&&g.length!==t.length||a.length!==r.length){s("Number of requests differs from number of responses in $batch");return}if(g){e.callHandler(i.bind(null,o(g),o(a.slice(1))),s,false)}else{e.callHandler(i.bind(null,[],o(a)),s,false)}},s)};this.isPersonalization=function(){return!!r};this.readMetadata=function(t,n,i){const a=`${c.getBaseUrl()}$metadata${i?`?${Date.now()}`:""}`;n=n||this.getDefaultErrorHandler();c.check(t,n);OData.read(a,i=>{e.callHandler(t.bind(null,i),n)},c.onError.bind(c,"GET",a,n,undefined),OData.metadataHandler)};this.deleteBag=function(e,t,n,a){if(!e){throw new i("Missing parent ID or object","PageBuildingService")}if(!t){throw new i("Missing bag ID","PageBuildingService")}c.del(l(e,t,false),n,a)};this.readBag=function(e,t,n,a){if(!e){throw new i("Missing parent ID or object","PageBuildingService")}if(!t){throw new i("Missing bag ID","PageBuildingService")}c.read(l(e,t,true),n,a)};this.readAllCatalogs=function(e,t,n,i,a,s){let r="id";s=s===undefined?true:s;if(a&&typeof a==="string"){r=a}let o=`Pages('${encodeURIComponent(e)}')/allCatalogs?$expand=Chips/ChipBags/ChipProperties&`+`$orderby=${r}`;if(i&&typeof i==="string"){o=`${o}&$filter=${encodeURIComponent(i)}`}if(this.readAllCatalogs.cacheBusterTokens&&this.readAllCatalogs.cacheBusterTokens.get(e)){o+=`&sap-cache-id=${this.readAllCatalogs.cacheBusterTokens.get(e)}`}c.read(o,t,n,s)};this.readCatalogs=function(e,t,n){let i="Catalogs?$orderby=id";if(n&&typeof n==="string"){i=`${i}&$filter=${encodeURIComponent(n)}`}c.read(i,e,t)};this.readAllCatalogsForUser=function(e,t,n){const i=e?`?$filter=${encodeURIComponent(e)}`:"";c.read(`Pages('unused')/allCatalogs${i}`,t,n)};this.getReferencingCatalogIds=function(e,t,n){if(typeof t!=="function"){t=n;n=arguments[3]}function a(n){const i=[];const a=n.results||[];a.forEach(t=>{if(t.referenceChipId===e){if(i.indexOf(t.catalogId)===-1){i.push(t.catalogId)}}});t(i)}if(typeof e!=="string"){throw new i("sReferencedChipId must be a string","PageBuildingService")}if(typeof t!=="function"){throw new i("fnSuccess is mandatory","PageBuildingService")}c.read(`Chips?$filter=${encodeURIComponent(`referenceChipId eq '${d(e)}'`)}`,a,function(e){new i(e,"PageBuildingService");n.apply(null,arguments)})};this.createPageBasedCatalog=function(e,t,n,a){if(!e){throw new i("Missing domain ID","PageBuildingService")}c.create("Catalogs",{domainId:e,title:t,type:"CATALOG_PAGE"},n,a)};this.createCatalog=function(e,t,n){c.create("Catalogs",e,t,n)};this.deleteCatalog=function(e,t,n){c.del(e,t,n)};this.cloneCatalog=function(e,t,n,a,s){if(!e){throw new i("Missing source catalog ID","PageBuildingService")}if(!t){throw new i("Missing new domain ID","PageBuildingService")}if(t.indexOf(":")>=0){throw new i(`Illegal domain ID: ${t}`,"PageBuildingService")}c.create(`CloneCatalog?sourceId='${encodeURIComponent(e)}'&targetId='${encodeURIComponent(t)}${n!==undefined?`'&title='${encodeURIComponent(n)}'`:"'"}`,{},a,s)};this.clonePageChipInstance=function(e,t,n,a,s){if(!e){throw new i("Missing source page ID","PageBuildingService")}if(!t){throw new i("Missing source CHIP instance ID","PageBuildingService")}if(!n){throw new i("Missing target page ID","PageBuildingService")}c.create(`ClonePageChipInstance?sourcePageId='${encodeURIComponent(e)}'&sourceChipInstanceId='${encodeURIComponent(t)}'&targetPageId='${encodeURIComponent(n)}'`,{},e=>{c.read(`PageChipInstances(pageId='${encodeURIComponent(e.pageId)}',instanceId='${encodeURIComponent(e.instanceId)}')`+"?$expand=ChipInstanceBags/ChipInstanceProperties",a,s)},s)};this.readCatalog=function(e,t,n,a,s){let r;if(!e){throw new i("Missing catalog ID","PageBuildingService")}r=`Catalogs('${encodeURIComponent(e)}')`;if(!a){r+="?$expand=Chips";if(!s){r+="/ChipBags/ChipProperties"}}c.read(r,t,n)};this.updateCatalog=function(e,t,n){c.update(e,t,n)};this.readCatalogChips=function(e,t,n,a){let s="";let r="?$filter=";if(!e){throw new i("Missing catalog ID","PageBuildingService")}const o=`Catalogs('${encodeURIComponent(e)}')/Chips`;if(t){if(!t.length){throw new i("No CHIP IDs given","PageBuildingService")}t.forEach(e=>{s=`${s+r}id%20eq%20'${encodeURIComponent(e)}'`;r="%20or%20"});if(c.getBaseUrl().length+o.length+s.length>2e3){s=""}}c.read(o+s,n,a)};this.createPage=function(e,t,n,a,s,r){if(!e){throw new i("Missing page ID","PageBuildingService")}c.create("Pages",{id:e,catalogId:t,layout:n,title:a},s,r)};this.readPages=function(e,t,n){let i="Pages?";if(!n){i+="$expand=Catalog&"}c.read(`${i}$orderby=id`,e,t)};this.readPage=function(e,t,n,a){let s=`Pages('${encodeURIComponent(e)}')`;if(!e){throw new i("Missing page ID","PageBuildingService")}if(a===undefined){s+="?$expand=Bags/Properties,PageChipInstances/Chip/ChipBags/ChipProperties,"+"PageChipInstances/RemoteCatalog,"+"PageChipInstances/ChipInstanceBags/ChipInstanceProperties"}else if(a!==""){s+=`?$expand=${a}`}c.read(s,t,n)};this.readPageSet=function(e,t,n,a){let s;const r=this;let o;a=a===undefined?true:a;if(!e){throw new i("Missing page set ID","PageBuildingService")}s=`PageSets('${encodeURIComponent(e)}')?$expand=`+"Pages/PageChipInstances/Chip/ChipBags/ChipProperties,"+"Pages/PageChipInstances/RemoteCatalog,"+"Pages/PageChipInstances/ChipInstanceBags/ChipInstanceProperties,"+"AssignedPages,"+"DefaultPage";if(this.readPageSet.cacheBusterTokens&&this.readPageSet.cacheBusterTokens.get(e)){s+=`&sap-cache-id=${this.readPageSet.cacheBusterTokens.get(e)}`}if(this.readPageSet.appendedParameters){o=Object.keys(this.readPageSet.appendedParameters);if(o.length>0){o.sort();o.forEach(e=>{s+=`&${encodeURIComponent(e)}=${encodeURIComponent(r.readPageSet.appendedParameters[e])}`})}}c.read(s,t,n,a)};this.updatePageSet=function(e,t,n){c.update(e,t,n)};this.createPageInPageSet=function(e,t,n,a,s){if(!e){throw new i("Missing page set ID","PageBuildingService")}c.create(`PageSets('${encodeURIComponent(e)}')/Pages`,{catalogId:n||"",layout:"",title:t||""},a,s)};this.updatePage=function(e,t,n){c.update(e,t,n)};this.deletePage=function(e,t,n){if(!e){throw new i("Missing page ID","PageBuildingService")}c.del(`Pages('${encodeURIComponent(e)}')`,t,n)};this.createPageChipInstance=function(e,t,n,i,a,s,r,o){this.createPageChipInstanceFromRawData({pageId:e,instanceId:t,chipId:n,title:i,configuration:a,layoutData:s},r,o)};this.createPageChipInstanceFromRawData=function(e,t,n){if(typeof e!=="object"){throw new i("Invalid raw data","PageBuildingService")}if(!e.pageId){throw new i("Missing page ID","PageBuildingService")}if(!e.chipId){throw new i("Missing CHIP ID","PageBuildingService")}e.instanceId=e.instanceId||"";e.title=e.title||"";e.configuration=e.configuration||"";e.layoutData=e.layoutData||"";c.create("PageChipInstances",e,t,n)};this.updatePageChipInstance=function(e,t,n){c.update(e,t,n)};this.deletePageChipInstance=function(e,t,n,a){if(!e){throw new i("Missing page ID","PageBuildingService")}if(!t){throw new i("Missing instance ID","PageBuildingService")}c.del(`PageChipInstances(pageId='${encodeURIComponent(e)}',instanceId='${encodeURIComponent(t)}')`,n,a)};this.updateBagProperties=function(e,t,n,a,s,r,o){const g=[];const d=[];let l;let p;let h;let u;const f="__metadata";function I(e){const t={__metadata:{type:e[f].type,uri:e[f].uri}};let n;for(n in e){if(Object.prototype.hasOwnProperty.call(e,n)&&n!==f&&n.indexOf("$")!==0&&typeof e[n]!=="object"){t[n]=e[n]}}return t}if(!e){throw new i("Missing parent object","PageBuildingService")}if(!t){throw new i("Missing bag ID","PageBuildingService")}if(typeof s==="function"){this.updateBagProperties(e,t,n,a,[],s,r);return}n=n||[];a=a||[];s=s||[];if(n.length===0&&a.length===0&&s.length===0){throw new i("No properties to update, create or reset","PageBuildingService")}for(l=0;l<n.length;l+=1){h=n[l];u=h[f].uri;p=u.indexOf(c.getBaseUrl());if(p>=0){u=u.slice(p+c.getBaseUrl().length)}g.push({requestUri:u,method:"PUT",data:I(h)})}u=e.instanceId?"ChipInstanceProperties":"Properties";for(l=0;l<a.length;l+=1){h=a[l];if(!h.name){throw new i("Missing property name","PageBuildingService")}if(e.instanceId){h.instanceId=e.instanceId;h.pageId=e.pageId}else{h.pageId=e.id}h.bagId=t;g.push({requestUri:u,method:"POST",data:h})}for(l=0;l<s.length;l+=1){h=s[l];u=h[f].uri;p=u.indexOf(c.getBaseUrl());if(p>=0){u=u.slice(p+c.getBaseUrl().length)}g.push({requestUri:u,method:"DELETE"});d.push({requestUri:u,method:"GET"})}this.batch(g,d,(e,t)=>{const i=e.slice(a.length+n.length);let s;for(s=0;s<i.length;s+=1){if(i[s]===undefined){if(typeof t[s]==="object"){i[s]=t[s]}}}if(r){r(e.slice(0,n.length),e.slice(n.length,a.length+n.length),i)}},o)};this.createProperty=function(e,t,n,a,s,r,o){if(!e){throw new i("Missing parent ID or object","PageBuildingService")}if(!t){throw new i("Missing bag ID","PageBuildingService")}if(!n){throw new i("Missing property name","PageBuildingService")}if(typeof s==="function"){this.createProperty(e,t,n,a,undefined,s,r);return}const g={bagId:t,name:n,pageId:e,translatable:s,value:a};if(typeof e!=="string"){if(e.instanceId){g.instanceId=e.instanceId;g.pageId=e.pageId}else{g.pageId=e.id}}c.create(g.instanceId?"ChipInstanceProperties":"Properties",g,r,o)};this.updateProperty=function(e,t,n){c.update(e,t,n)};this.deleteProperty=function(e,t,n){c.del(e,t,n)};this.readChip=function(e,t,n){if(!e){throw new i("Missing CHIP ID","PageBuildingService")}let a=`Chips('${encodeURIComponent(e)}')?$expand=ChipBags/ChipProperties`;if(o!==undefined){a=`${a}&sap-cache-id=${o}`}c.read(a,t,n)};if(typeof n==="string"){c=a._createODataWrapper(n,this)}else{c=n}this.readAllCatalogs.cacheBusterTokens=new e.Map;this.readPageSet.cacheBusterTokens=new e.Map;if(!c.isStickySessionEnabled()&&!r){c.enableStickySession()}t.call(this,c,s)}a._createODataWrapper=function(e,t){return new n(e,t,true)};a.createPageBuildingService=function(e,t,n,i){return new a(e,t,n,i)};return a});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell_abap/pbServices/ui2/PageSet", ["sap/ushell_abap/pbServices/ui2/Utils","sap/ushell_abap/pbServices/ui2/Page","sap/ushell_abap/pbServices/ui2/Error","sap/base/Log"],(e,t,i,s)=>{"use strict";const n={assigned:1,userCreated:2,personalized:3,defaultPage:4};function a(a,g){let u;let r;let o=[];let l;let f=true;const c=this;const d=g;if(!d){throw new i("Missing page set ID","PageSet")}s.debug(`Created: ${this}`,null,"PageSet");function p(){if(f){throw new i(`${c}: page set is just a stub`,"sap.ushell_abap.pbServices.ui2.PageSet")}}this.getPageType=function(e){const t=e.getId();let s;p();if(!l.containsKey(t)){throw new i(`Unknown page ${t}`,"sap.ushell_abap.pbServices.ui2.PageSet")}s=l.get(t);if(s===n.assigned&&e.isPersonalized()){s=n.personalized}return s};function h(i){const g=i.DefaultPage.id;const d=i.AssignedPages&&i.AssignedPages.results||[];u=i;l=new e.Map;d.forEach(e=>{l.put(e.id,n.assigned)});u.Pages.results.forEach(e=>{const i=new t(a,e);const s=i.getId();o.push(i);if(g===s){r=i;l.put(s,n.defaultPage)}else if(!l.containsKey(s)){l.put(s,n.userCreated)}});delete u.AssignedPages;delete u.DefaultPage;delete u.Pages;f=false;s.debug(`Initialized: ${c}`,null,"PageSet")}this.appendPage=function(e,g,u,r){p();if(typeof u!=="function"){throw new i("Missing success handler","PageSet")}a.getPageBuildingService().createPageInPageSet(d,e,g,e=>{const i=new t(a,e);o.push(i);l.put(i.getId(),n.userCreated);s.debug(`Appended new page with ID ${i.getId()} to pageset ${c}`,null,"PageSet");u(i)},r)};this.isPageRemovable=function(e){return this.getPageType(e)===n.userCreated};this.isPageResettable=function(e){return this.getPageType(e)===n.personalized};this.removePage=function(e,t,s){if(!this.isPageRemovable(e)){throw new i(`Cannot remove page ${e.getId()}`,"PageSet")}e.remove(()=>{o.splice(o.indexOf(e),1);l.remove(e.getId());if(t){t()}},s)};this.resetPage=function(e,t,s){if(!this.isPageResettable(e)){throw new i(`Cannot reset page ${e.getId()}`,"sap.ushell_abap.pbServices.ui2.PageSet")}e.remove(()=>{e.load(t,s,true)},s)};this.filter=function(e,t){let i;const s=[];let n;p();e=e||[];t=t||[];for(i=0;i<o.length;i+=1){n=o[i];if(e.indexOf(n.getId())!==-1){s.push(n)}else if(n.getCatalog()&&t.indexOf(n.getCatalog().getId())!==-1){s.push(n)}}o=s};this.getConfiguration=function(){p();return u.configuration};this.setConfiguration=function(t,s,n){p();if(typeof s!=="function"){throw new i("Missing success handler","PageSet")}if(u.configuration===t){e.callHandler(s,n,true);return}u.configuration=t;a.getPageBuildingService().updatePageSet(u,e=>{s()},n)};this.getDefaultPage=function(){p();return r};this.getId=function(){return d};this.getPages=function(){p();return o.slice()};this.isStub=function(){return f};this.load=function(e,t){if(!f){throw new i("Page set is not a stub anymore","PageSet")}a.getPageBuildingService().readPageSet(d,t=>{s.debug(`Loaded: ${c}`,null,"PageSet");h(t);e()},t,true)};this.toString=function(e){const t=['PageSet({sId:"',d,'",bIsStub:',f];if(e){t.push(",oAlterEgo:",JSON.stringify(u),",oFactory:",a.toString(e),",aPages:",JSON.stringify(o))}t.push("})");return t.join("")}}return a});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell_abap/pbServices/ui2/RemoteCatalogService", ["sap/ushell_abap/pbServices/ui2/PageBuildingService"],e=>{"use strict";function i(){this.readChips=function(i,a,r,s,u){e.createPageBuildingService(i).readCatalogChips(a,r,s,u)}}return i});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell_abap/pbServices/ui2/Utils", ["sap/ui/thirdparty/URI","sap/base/Log","sap/ushell_abap/pbServices/ui2/Error","sap/ui/Device"],(e,t,n,r)=>{"use strict";function s(){}let o;s.absoluteUrl=function(e,t){t=t||window.location.href;if(t.indexOf("://")<0&&t.charAt(0)!=="/"){throw new n(`Illegal base URL: ${t}`)}if(!e||e.indexOf("://")>=0||e.charAt(0)==="/"){return s.addCacheBusterTokenUsingUshellConfig(e)}if(t.search(/^([^:]*:)?\/\/[^/]+$/)<0){t=t.replace(/\/[^/]*$/,"")}return s.addCacheBusterTokenUsingUshellConfig(`${t}/${e}`)};s.callHandler=function(e,n,r){if(r){setTimeout(()=>{s.callHandler(e,n,false)},0);return}try{e()}catch(e){const r=e.message||e.toString();t.error(`Call to success handler failed: ${r}`,e);if(n){n(r)}}};s.get=function(e,r,i,a,u,l){if(typeof i!=="function"){throw new n("Missing success handler")}if(typeof a!=="function"){throw new n("Missing error handler")}if(r&&l){throw new n("Caching of XML responses not supported")}if(typeof s.addCacheBusterTokenUsingUshellConfig==="function"){e=s.addCacheBusterTokenUsingUshellConfig(e)}u=u||new XMLHttpRequest;u.onreadystatechange=function(){let n;let u;if(this.readyState!==4){return}if(this.status!==200){t.error(`Error ${this.status} in response for URL ${e}`,null);a(`${e}: ${this.status} ${this.statusText}`,this.responseText);return}t.debug(`Received response for URL ${e}`,null);if(r){u=this.responseXML;if(u===null||!u.documentElement){a(`${e}: no valid XML`);return}n=u}else{n=this.responseText;if(l){o.put(e,n)}}s.callHandler(i.bind(null,n),a)};if(!r&&o.containsKey(e)){t.debug(`Return cached response for URL ${e}`,null);s.callHandler(i.bind(null,o.get(e)),a)}else{try{if(u.readyState<XMLHttpRequest.OPENED){u.open("GET",e,true)}else{t.debug(`XHR Request was already opened for ${e}`,null)}u.send();t.debug(`Sent request to URL ${e}`,null)}catch(n){t.error(`Error '${n.message||n}' in request to URL ${e}`,null);throw n}}};s.addCacheBusterToken=function(e,t,n,r){if(t.test(e)){e=e.replace(t,n);e=e.replace(/\[CacheBusterToken\]/g,r)}return e};s.removeCBAndNormalizeUrl=function(t){let n;let r;let s;function o(t){const n=new e(t);const r=n.path();if(n.is("absolute")){return false}if(r&&r.charAt(0)==="/"){return false}return true}if(typeof t!=="string"||t===""||o(t)){return t}const i=t.match(/(.*)(\/~[\w-]+~[A-Z0-9]?)(.*)/);if(i){n=i[1];r=i[2];s=i[3]}function a(t){return new e(t).normalizePathname().toString()}function u(t){const n=new e(t).segment();let r;let s=0;for(r=0;r<n.length&&s>=0;r+=1){if(n[r]===".."){s=s-1}else{s=s+1}}return s<0}if(r){if(s&&u(s)){t=n+s}}return a(t)};s.addCacheBusterTokenUsingUshellConfig=function(e){const t=window["sap-ushell-config"]&&window["sap-ushell-config"].cacheBusting;const n=t&&t.patterns;let r=e;let o=[];const i=[];o=s.getParameterMap();const a=o["sap-ushell-nocb"]&&o["sap-ushell-nocb"][0];if((a==="true"||a==="X")&&typeof e==="string"){e=e.replace(/\/~[\w-]+~[A-Z0-9]?/,"");return e}if(!t||typeof e!=="string"||e===""||/[/=]~[\w-]+~[A-Z0-9]?[/#?&]/.test(e)||/[/=]~[\w-]+~[A-Z0-9]?$/.test(e)){return e}if(t&&t.urls){if(e.charAt(e.length-1)==="/"){e=e.substr(0,e.length-1)}if(t.urls.hasOwnProperty(e)){return`${e}/${t.urls[e].cacheBusterToken}`}if(t.urls.hasOwnProperty(`${e}/`)){return`${e}/${t.urls[`${e}/`].cacheBusterToken}`}}if(!n){return e}Object.keys(n).forEach(e=>{if(n.hasOwnProperty(e)){const t=n[e];t.pattern=new RegExp(e);i.push(t)}});i.sort((e,t)=>e.order-t.order);i.every(n=>{if(n.pattern.test(e)){if(!n.cacheBusterToken){n.cacheBusterToken=t.cacheBusterToken}r=s.addCacheBusterToken(e,n.pattern,n.replacement,n.cacheBusterToken);return false}return true});return r};s.clearCache=function(){o=new s.Map};s.getFormFactor=function(){if(r.system.desktop){return r.system.SYSTEMTYPE.DESKTOP}if(r.system.tablet){return r.system.SYSTEMTYPE.TABLET}if(r.system.phone){return r.system.SYSTEMTYPE.PHONE}};s.getParameterMap=function(e){let t;let r;const s={};let o;let i;let a;const u=arguments.length>0?e:window.location.search;if(u&&u.charAt(0)!=="?"){throw new n(`Illegal search string ${u}`)}if(!u||u==="?"){return{}}const l=u.substring(1).replace(/\+/g," ").split(/[&;]/);const c=l.length<500?l.length:500;for(t=0,r=c;t<r;t+=1){o=l[t];i="";a=o.indexOf("=");if(a>=0){i=o.slice(a+1);i=decodeURIComponent(i);o=o.slice(0,a)}o=decodeURIComponent(o);if(!Object.prototype.hasOwnProperty.call(s,o)){s[o]=[]}s[o].push(i)}return s};s.getParameterValue=function(e,t){let r;if(typeof t!=="string"){throw new n("Missing parameter name")}e=e.split("#")[0];const o=e.indexOf("?");if(o>=0){r=s.getParameterMap(e.slice(o));if(r[t]){return r[t][0]}}return""};s.isArray=function(e){return Object.prototype.toString.apply(e)==="[object Array]"};s.isString=function e(t){return/String/.test(Object.prototype.toString.call(t))};s.parseXml=function(e){if(!e||typeof e!=="string"){return null}const t=(new DOMParser).parseFromString(e,"text/xml");if(t.getElementsByTagName("parsererror").length){throw new n(`Invalid XML: ${e}`)}return t};s.Map=function(){this.entries={}};s.Map.prototype.put=function(e,t){const n=this.get(e);this.entries[e]=t;return n};s.Map.prototype.containsKey=function(e){if(typeof e!=="string"){throw new n(`Not a string key: ${e}`)}return Object.prototype.hasOwnProperty.call(this.entries,e)};s.Map.prototype.get=function(e){if(this.containsKey(e)){return this.entries[e]}return undefined};s.Map.prototype.keys=function(){return Object.keys(this.entries)};s.Map.prototype.remove=function(e){delete this.entries[e]};s.Map.prototype.toString=function(){const e=["Map("];e.push(JSON.stringify(this.entries));e.push(")");return e.join("")};s.clearCache();return s});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell_abap/pbServices/ui2/contracts/actions", ["sap/ushell_abap/pbServices/ui2/Chip","sap/ushell_abap/pbServices/ui2/Error","sap/base/Log"],(t,e,n)=>{"use strict";t.addContract("actions",function(t){let n;this.setActionsProvider=function(t){if(typeof t!=="function"){throw new e("CHIP actions provider is not a function","chip.actions")}n=t};return{getActions:function(){if(n){return n()}return[]}}});t.addContract("types",function(t){let i;let o;this.attachSetType=function(t){if(typeof t!=="function"){throw new e("Change event handler is not a function","chip.types")}if(o===t){return}o=t;if(i){o(i)}};return{getAvailableTypes:function(){return t.getChip().getAvailableTypes()},getDefaultType:function(){return t.getChip().getDefaultType()},setType:function(t){if(typeof t!=="string"||t===""){throw new e("The given type is not a string","contract.types")}const r=t.toLowerCase();if(this.getAvailableTypes().indexOf(r)<0){throw new e(`The CHIP does not support type '${r}'`,"contract.types")}i=r;if(!o){return}try{o(r)}catch(t){n.error(`Could not set CHIP type '${r}': ${t.message||t.toString()}`,null,"chip.types")}}}})});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell_abap/pbServices/ui2/contracts/bag", ["sap/ushell_abap/pbServices/ui2/Chip","sap/ushell_abap/pbServices/ui2/Utils","sap/ushell_abap/pbServices/ui2/Error"],(t,e,a)=>{"use strict";t.addContract("bag",function(t){let i;this.getBag=function(e){return t.getBag(e)};this.getBagIds=function(){return t.getBagIds()};this.getOriginalLanguage=function(){return t.getPage()&&t.getPage().getOriginalLanguage()};this.attachBagsUpdated=function(t){if(typeof t!=="function"){throw new a("The given handler is not a function","chip.bag")}i=t};return{fireBagsUpdated:function(t){if(!e.isArray(t)||t.length<1){throw new a("At least one bag ID must be given","contract.bag")}if(i){i(t)}}}})});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell_abap/pbServices/ui2/contracts/configuration", ["sap/ushell_abap/pbServices/ui2/Chip","sap/ushell_abap/pbServices/ui2/Error","sap/ushell_abap/pbServices/ui2/Utils"],(t,i,n)=>{"use strict";t.addContract("configuration",function(t){let e;this.getParameterValueAsString=function(i){return t.getConfigurationParameter(i)};this.attachConfigurationUpdated=function(t){if(typeof t!=="function"){throw new i("The given handler is not a function","chip.configuration")}e=t};return{fireConfigurationUpdated:function(t){if(!n.isArray(t)||t.length<1){throw new i("At least one configuration property key must be given","contract.configuration")}if(e){e(t)}}}});t.addContract("writeConfiguration",function(t){this.setParameterValues=function(i,n,e){t.updateConfiguration(i,n,e)}})});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell_abap/pbServices/ui2/contracts/configurationUi", ["sap/ushell_abap/pbServices/ui2/Chip","sap/ushell_abap/pbServices/ui2/Error"],(n,i)=>{"use strict";n.addContract("configurationUi",function(n){let t;let e;let o;let u=false;let f;let c;let r;this.attachCancel=function(n){if(typeof n!=="function"){throw new i("Cancel event handler is not a function","chip.configurationUi")}t=n};this.attachSave=function(n){if(typeof n!=="function"){throw new i("Save event handler is not a function","chip.configurationUi")}f=n};this.display=function(){if(e){e()}};this.isEnabled=function(){return u};this.isReadOnly=function(){return n.isReadOnly()};this.setDirtyProvider=function(n){o=n};this.setUiProvider=function(n){c=n};this.setAsyncUiProvider=function(n){r=n};return{attachDisplay:function(n){if(typeof n!=="function"){throw new i("Display event handler is not a function","ChipInstance")}e=n},fireCancel:function(){if(t){t()}},fireSave:function(){return f?f():undefined},getUi:function(n){return c?c(n):undefined},getUiAsync:function(n){return r?r(n):undefined},isDirty:function(){return o?o():undefined},setEnabled:function(n){u=n}}})});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell_abap/pbServices/ui2/contracts/fullscreen", ["sap/ushell_abap/pbServices/ui2/Chip"],e=>{"use strict";e.addContract("fullscreen",function(e){this.getFullscreen=function(){return e.getFullscreen()};this.setFullscreen=function(t){e.setFullscreen(t)};this.attachFullscreen=function(t){e.attachFullscreen(t)}})});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell_abap/pbServices/ui2/contracts/preview", ["sap/ushell_abap/pbServices/ui2/Chip"],e=>{"use strict";const t={};t.setEnvironmentType=function(e){if(e!=="runtime"&&e!=="designtime"){throw new Error("setEnvironmentType only accepts the values 'runtime' or 'designtime'")}this.environment=e};t.getEnvironmentType=function(){return this.environment};e.addContract("preview",function(e){let n=false;let i;let r;let u;let o;this.getDescription=function(){return e.getChip().getDescription()};this.getTitle=function(){return e.getTitle()};this.isEnabled=function(){return n};this.getEnvironmentType=function(){return t.getEnvironmentType()};this.setPreviewIcon=function(e){i=e};this.setPreviewSubtitle=function(e){r=e};this.setPreviewTitle=function(e){u=e};this.setTargetUrl=function(e){o=e};return{getPreviewIcon:function(){return i},getPreviewSubtitle:function(){return r},getPreviewTitle:function(){return u},getTargetUrl:function(){return o},setEnabled:function(e){n=e}}});return t});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell_abap/pbServices/ui2/contracts/search", ["sap/ushell_abap/pbServices/ui2/Chip","sap/ushell_abap/pbServices/ui2/Error","sap/ushell_abap/pbServices/ui2/Utils"],(i,e,t)=>{"use strict";i.addContract("search",function(i){let r;let s;this.setKeywords=function(i){if(!t.isArray(i)){throw new e(`Not an array: ${i}`,"chip.search")}s=i.slice()};this.attachHighlight=function(i){if(typeof i!=="function"){throw new e(`Not a function: ${i}`,"chip.search")}r=i};return{getKeywords:function(){return s?s.slice():[]},fireHighlight:function(i){if(r){r(i)}}}})});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell_abap/pbServices/ui2/contracts/url", ["sap/ushell_abap/pbServices/ui2/Chip"],t=>{"use strict";t.addContract("url",function(t){this.addSystemToServiceUrl=function(e,i){return t.getChip().getCatalog().addSystemToServiceUrl(e,i)};this.getApplicationSystem=function(){return t.getChip().getCatalog().getSystemAlias()};this.toAbsoluteUrl=function(e){return t.getChip().toAbsoluteUrl(e)}})});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell_abap/ui5appruntime/AppInfoAdapter", ["sap/base/Log","sap/ui/thirdparty/URI","sap/ui/thirdparty/jquery"],(e,a,jQuery)=>{"use strict";const n=e.getLogger("sap/ushell_abap/ui5appruntime/AppInfoAdapter",e.Level.INFO);function p(){}p.prototype.getAppInfo=async function(e){const a=new URLSearchParams(window.location.search);if(e===undefined){e=a.get("sap-ui-app-id")}if(e){return this._loadAppIndexData("/sap/bc/ui2/app_index/ui5_app_info_json",e)}return new Error("Cannot load app info - no app-id provided and URL parameter 'sap-ui-app-id' not set")};p.prototype._loadAppIndexData=function(e,p){const o=new a(e).query({id:p}).toString();return new Promise((e,a)=>{jQuery.ajax({type:"GET",dataType:"json",url:o}).done(n=>{const r=n[p];if(r){e(n[p])}else{a(new Error(`UI5 app index data loaded from ${o} does not contain app ${p}`))}}).fail(e=>{n.error(e.responseText);a(new Error(`Failed to load UI5 app index data loaded from ${o}: ${e.responseText}`))})})};return new p});
sap.ui.require.preload({
	"sap/ushell_abap/bootstrap/evo/abap-def-loader.js":function(){
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
(function(){"use strict";const a=document.getElementById("sap-ui-bootstrap").getAttribute("data-sap-ui-async");if(a&&a.toLowerCase()==="true"){sap.ui.require(["sap/ushell_abap/bootstrap/evo/abap-def"]);return}sap.ui.requireSync("sap/ushell_abap/bootstrap/evo/abap-def")})();
},
	"sap/ushell_abap/manifest.json":'{"_version":"1.21.0","sap.app":{"id":"sap.ushell_abap","type":"library","embeds":[],"applicationVersion":{"version":"1.141.1"},"title":"SAP library: sap.ushell_abap","description":"SAP library: sap.ushell_abap","ach":"CA-FLP-FE-UI","resources":"resources.json","offline":true},"sap.ui":{"technology":"UI5","supportedThemes":[]},"sap.ui5":{"dependencies":{"minUI5Version":"1.141","libs":{"sap.ui.core":{"minVersion":"1.141.1"},"sap.m":{"minVersion":"1.141.1"},"sap.ushell":{"minVersion":"1.141.1"},"sap.ui.layout":{"minVersion":"1.141.1","lazy":true},"sap.ui.fl":{"minVersion":"1.141.1","lazy":true},"sap.f":{"minVersion":"1.141.1","lazy":true}}},"library":{"i18n":false,"css":false,"content":{"controls":[],"elements":[],"types":[],"interfaces":[]}}}}',
	"sap/ushell_abap/pbServices/ui2/ChipInstance.js":function(){
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
this.sap=this.sap||{};sap.ui.define(["sap/ushell_abap/pbServices/ui2/Bag","sap/ushell_abap/pbServices/ui2/Utils","sap/ushell_abap/pbServices/ui2/Error","sap/base/Log"],(e,t,n,i)=>{"use strict";function r(r,a,s,u){let c;let o;let l;let f;let g;let h;const p=new t.Map;let d=false;let I=[];const C=this;const y=Object.assign({},a);function S(){a.referenceChipInstanceId="";a.referencePageId=""}function P(){S();if(u){u.updateScope()}}function b(){if(!c){throw new n(`${C}: CHIP instance is just a stub`,"ChipInstance")}}function m(e,n){if(!c){c=s.createApi(C,p)}i.debug(`Initialized: ${C}`,null,"ChipInstance");t.callHandler(e,n)}function w(t){let n;const i=s.getBagIds();let u;for(n=0;n<t.length;n+=1){o.put(t[n].id,new e(r,t[n],s.getBag(t[n].id),P))}for(n=0;n<i.length;n+=1){u={pageId:a.pageId,instanceId:a.instanceId,id:i[n],$tmp:true};if(!o.containsKey(u.id)){o.put(u.id,new e(r,u,s.getBag(u.id),P))}}}function B(){if(s.isStub()){throw new n(`${this}: initializeConfiguration expects that the CHIP is no stub anymore`,"ChipInstance",false)}if(!l){l={};s.updateConfiguration(l,a.configuration)}}this.persist=function(e,t){r.getPageBuildingService().updatePageChipInstance(a,()=>{S();if(u){u.updateScope()}if(e){e()}},t)};this.attachFullscreen=function(e){if(typeof e!=="function"){throw new n(`${this}: fullscreen event handler is not a function`,"ChipInstance")}I.push(e)};this.attachRefresh=function(e){if(e&&typeof e!=="function"){throw new n(`${this}: refresh event handler is not a function`,"ChipInstance")}f=e};this.attachTitleChange=function(e){h=e};this.detachAll=function(){I=[];f=null};this.exit=function(){i.debug(`Exit: ${C}`,null,"ChipInstance");c=null;o=new t.Map;l=null;g=null;h=null};this.getApi=function(){return c};this.getBagIds=function(){return o.keys()};this.getBag=function(t){let i;if(!t){throw new n("Missing bag ID","ChipInstance")}i=o.get(t);if(i){return i}i=new e(r,{pageId:a.pageId,instanceId:a.instanceId,id:t,$tmp:true},null,P);o.put(t,i);return i};this.getChip=function(){return s};this.getConfiguration=function(){return a.configuration};this.getConfigurationParameter=function(e){B();if(Object.prototype.hasOwnProperty.call(l,e)){return l[e]}return s.getConfigurationParameter(e)};this.getContract=function(e){b();return p.get(e)};this.getFullscreen=function(){return d};this.getId=function(){return a.instanceId};this.getImplementationAsSapui5=function(){i.error("Deprecated API call of 'ChipInstance.getImplementationAsSapui5'. Please use 'getImplementationAsSapui5Async' instead",null,"sap.ushell_abap.pbServices.ui2.ChipInstance");b();return s.getImplementationAsSapui5(c)};this.getImplementationAsSapui5Async=async function(){b();return s.getImplementationAsSapui5Async(c)};this.getLayoutData=function(){return a.layoutData};this.getPage=function(){return u};this.getTitle=function(){return g||a.title||s.getTitle()};this.getUpdated=function(e){function t(){i.error("Parse Error: CHIP instance's updated property has unexpected format",`value of updated property: '${a.updated}'`,"ChipInstance")}let n;let r;if(a.updated&&!e){n=/\((\d*)\)/.exec(a.updated);if(!n){t();return undefined}r=new Date(parseInt(n[1],10));if(isNaN(r.getTime())){t();return undefined}return r}return a.updated};this.isOutdated=function(){return a.outdated==="X"};this.isReadOnly=function(){b();return a.isReadOnly==="X"};this.isReference=function(){return!!a.referenceChipInstanceId||!!a.referencePageId};this.isBrokenReference=function(){return a.referenceChipInstanceId==="O"||a.referencePageId==="O"};this.getOriginalId=function(){return a.referenceChipInstanceId===""||a.referenceChipInstanceId==="O"?undefined:a.referenceChipInstanceId};this.getOriginalPageId=function(){return a.referencePageId===""||a.referencePageId==="O"?undefined:a.referencePageId};this.isStub=function(){return!c};this.load=function(e,n){n=n||r.getPageBuildingService().getDefaultErrorHandler();const i=m.bind(null,e,n);if(s.isStub()){s.load(i,n)}else{t.callHandler(i,n,true)}};this.remove=function(e,t){if(u&&u.removeChipInstance(C,e,t)){return}this.exit();r.getPageBuildingService().deletePageChipInstance(a.pageId,a.instanceId,e,t)};this.refresh=function(){if(f){try{f();return true}catch(e){i.error(`${C.getId()}: call to refresh handler failed:`,e,"ChipInstance");return false}}return false};this.setFullscreen=function(e){let t;let n;if(d!==e){d=e;for(t=0,n=I.length;t<n;t+=1){I[t]()}}};this.setLayoutData=function(e,n,i){if(a.layoutData===e){if(n){i=i||r.getPageBuildingService().getDefaultErrorHandler();t.callHandler(n,i,true)}return}a.layoutData=e;this.persist(n,i)};this.setTitle=function(e,n,i,s){let u;s=s||r.getPageBuildingService().getDefaultErrorHandler();if(g!==e){g=e;if(h){t.callHandler(h.bind(null,this),s,!n)}}if(n&&a.title!==g){u=a.title;a.title=g;g=undefined;this.persist(i,function(){a.title=u;g=undefined;s.apply(null,arguments)})}else if(i){t.callHandler(i,s,true)}};this.toString=function(e){const t=["ChipInstance({oChip:",s.toString(e),",bFullscreen:",d];if(e){t.push(",oAlterEgo:",JSON.stringify(a),",oApi:",JSON.stringify(c),",oBags:",o.toString(),",oConfiguration:",JSON.stringify(l),",oFactory:",r.toString(e),",aFullscreenHandlers.length:",I.length,',sTitle:"',g,'"')}t.push("})");return t.join("")};this.updateConfiguration=function(e,t,n){B();s.updateConfiguration(l,e);a.configuration=JSON.stringify(l);this.persist(t,n)};this._getConstructorData=function(){return{factory:r,alterEgo:y,chip:s,page:u}};this._getBags=function(){return o};this._setBags=function(e){o=e};o=new t.Map;w(a.ChipInstanceBags&&a.ChipInstanceBags.results||[]);delete a.Chip;i.debug(`Created: ${this}`,null,"ChipInstance")}r.prototype.clone=function(){const e=this._getConstructorData();const t=new r(e.factory,e.alterEgo,e.chip,e.page);return new Promise((e,n)=>{t.load(e,n)}).then(()=>{t._setBags(this._getBags());return t})};return r});
},
	"sap/ushell_abap/pbServices/ui2/Page.js":function(){
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
this.sap=this.sap||{};sap.ui.define(["sap/ushell_abap/pbServices/ui2/Bag","sap/ushell_abap/pbServices/ui2/AllCatalogs","sap/ushell_abap/pbServices/ui2/Utils","sap/ushell_abap/pbServices/ui2/Error","sap/base/Log","sap/ui/thirdparty/jquery"],(e,t,i,n,a,jQuery)=>{"use strict";function s(s,g){let o;let r;let u;let l;let c;let d=[];let f=true;let h=true;const p=this;function P(){if(h){throw new n(`${p}: page is just a stub`,"Page")}}function I(t){let i;const n=!!(t.Bags&&t.Bags.results);const a=n?t.Bags.results:[];const g=t.PageChipInstances&&t.PageChipInstances.results||[];const o=a.length;const r=g.length;f=!n;delete t.Bags;delete t.Catalog;delete t.PageChipInstances;u=t;h=false;for(i=0;i<o;i+=1){l.put(a[i].id,new e(s,a[i]))}for(i=0;i<r;i+=1){d[i]=s.createChipInstance(g[i],null,null,p)}}function C(e,t){s.getPageBuildingService().updatePage(u,t=>{p.updateScope();if(e){e()}},t)}this.addChipInstance=function(e,t,i,n){const a=s.getPageBuildingService();let g;let o;function r(e){const a=s.createChipInstance(e,n?null:t,i,p);d.push(a);p.updateScope();if(n){t(a)}}P();if(e.getChip){o=e;g=o.getChip()}else{g=e}if(g.getRemoteCatalog()){a.createPageChipInstanceFromRawData({pageId:u.id,chipId:g.getId(),configuration:o&&o.getConfiguration()||"",title:o&&o.getTitle(),remoteCatalogId:g.getRemoteCatalog().getId()},r,i)}else{a.createPageChipInstance(u.id,null,g.getId(),o&&o.getTitle(),o&&o.getConfiguration()||"","",r,i)}};this.addChipInstanceReference=function(e,t,i){const n=s.getPageBuildingService();function a(n){const a=s.createChipInstance(n,e.isStub()?null:t,i,p);d.push(a);if(e.isStub()){t(a)}}P();n.clonePageChipInstance(e.getPage().getId(),e.getId(),this.getId(),a,i)};this.exit=function(){let e;let t;a.debug(`Exiting: ${this}`,null,"Page");for(e=0,t=d.length;e<t;e+=1){d[e].exit()}u=null;l=new i.Map;c=null;d=[];h=true;a.debug(`Exited: ${this}`,null,"Page")};this.getAllCatalogs=function(){if(!r){r=new t(s,o)}return r};this.getBagIds=function(){if(f){throw new n(`${p}: page is just a stub, load bags on demand`,"Page")}return l.keys()};this.getBag=function(t){if(f){throw new n(`${p}: page is just a stub, load bags on demand`,"Page")}if(!t){throw new n("Missing bag ID","Page")}if(l.containsKey(t)){return l.get(t)}const i=new e(s,{pageId:this.getId(),id:t,$tmp:true});l.put(t,i);return i};this.loadBag=function(t){let i;if(!t){throw new n("Missing bag ID","Page")}if(l.containsKey(t)){i=l.get(t)}else{i=new jQuery.Deferred;l.put(t,i);s.getPageBuildingService().readBag(o,t,t=>{i.resolve(new e(s,t))},()=>{i.resolve(new e(s,{pageId:o,id:t,$tmp:true}))})}return i.promise()};this.getCatalog=function(){P();if(!c&&u.catalogId){c=s.createCatalog(u.catalogId)}return c};this.getChipInstances=function(){P();return d.slice()};this.getId=function(){return o};this.getLayout=function(){P();return u.layout};this.setLayout=function(e,t,n){P();if(u.layout===e){if(t){n=n||s.getPageBuildingService().getDefaultErrorHandler();i.callHandler(t,n,true)}return}u.layout=e;C(t,n)};this.getOriginalLanguage=function(){P();return u.originalLanguage};this.getScope=function(){P();return u.scope};this.getTitle=function(){P();return u.title};this.setTitle=function(e,t,n){P();if(u.title===e){if(t){n=n||s.getPageBuildingService().getDefaultErrorHandler();i.callHandler(t,n,true)}return}u.title=e;C(t,n)};this.isCatalogPage=function(){P();return u.isCatalogPage==="X"};this.isPersonalizationLocked=function(){P();return u.isPersLocked==="X"};this.setPersonalizationLocked=function(e,t,a){P();if(s.getPageBuildingService().isPersonalization()){throw new n("Personalization locking cannot be changed at personalization scope","Page")}if(u.isPersLocked==="X"&&e||u.isPersLocked!=="X"&&!e){if(t){a=a||s.getPageBuildingService().getDefaultErrorHandler();i.callHandler(t,a,true)}return}u.isPersLocked=e?"X":" ";C(t,a)};this.isOutdated=function(){P();return u.outdated==="X"};this.isReadOnly=function(){P();return u.isReadOnly==="X"};this.isPersonalized=function(){P();return u.scope==="PERSONALIZATION"};this.isStub=function(){return h};this.load=function(e,t,i){let g;if(!h){throw new n("Page is not a stub anymore","Page")}function r(){if(g===0){a.debug(`Initialized: ${p}`,null,"Page");e()}}function u(){g-=1;r()}s.getPageBuildingService().readPage(o,e=>{let n;const s=e.PageChipInstances&&e.PageChipInstances.results||[];const o=s.length;a.debug(`Loaded: ${p}`,null,"Page");I(e);g=i?0:o;if(!i){for(n=0;n<o;n+=1){d[n].load(u,t)}}r()},t)};this.remove=function(e,t){this.exit();s.getPageBuildingService().deletePage(o,e,t)};this.removeChipInstance=function(e,t,i){const n=d.indexOf(e);P();if(n>=0){d.splice(n,1);e.remove(function(){p.updateScope();if(t){t.apply(this,arguments)}},function(){d.splice(n,0,e);i=i||s.getPageBuildingService().getDefaultErrorHandler();i.apply(this,arguments)});return true}return false};this.toString=function(e){const t=['Page({sId:"',o,'",bIsStub:',h,",bIsLoadingBagsOnDemand:",f];if(e){t.push(",oAlterEgo:",JSON.stringify(u),",oCatalog:",c?c.toString(e):c,",oFactory:",s.toString(e),",aChipInstances:",JSON.stringify(d))}t.push("})");return t.join("")};this.updateScope=function(){if(s.getPageBuildingService().isPersonalization()){u.scope="PERSONALIZATION"}};if(typeof g==="object"){o=g.id;I(g)}else if(typeof g==="string"){o=g}if(!o){throw new n("Missing ID","Page")}l=new i.Map;a.debug(`Created: ${this}`,null,"Page")}return s});
},
	"sap/ushell_abap/pbServices/ui2/contracts/refresh.js":function(){
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.require(["sap/ushell_abap/pbServices/ui2/Chip"],e=>{"use strict";e.addContract("refresh",function(e){this.attachRefresh=function(t){e.attachRefresh(t)}})});
},
	"sap/ushell_abap/pbServices/ui2/contracts/types.js":function(){
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
(function(){"use strict"})();
},
	"sap/ushell_abap/pbServices/ui2/contracts/visible.js":function(){
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.require(["sap/ushell_abap/pbServices/ui2/Chip","sap/ushell_abap/pbServices/ui2/Error","sap/base/Log"],(i,e,t)=>{"use strict";i.addContract("visible",function(i){let r=true;let s;function n(){try{s(r)}catch(e){t.error(`${i}: call to visible handler failed: ${e.message||e.toString()}`,null,"chip.visible")}}this.attachVisible=function(i){if(typeof i!=="function"){throw new e(`Not a function: ${i}`,"chip.visible")}if(s===i){return}s=i;n()};this.isVisible=function(){return r};return{setVisible:function(i){if(r===i){return}r=i;if(s){n()}}}})});
}
});
//# sourceMappingURL=library-preload.js.map
