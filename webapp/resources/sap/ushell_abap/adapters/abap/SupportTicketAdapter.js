// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.define(["sap/base/util/isEmptyObject","sap/base/util/ObjectPath","sap/ushell/utils","sap/ushell_abap/pbServices/ui2/ODataWrapper","sap/ushell_abap/pbServices/ui2/ODataService","sap/ushell/Container"],(t,e,a,n,s,i)=>{"use strict";return function(){function r(e){let a;if(e&&!t(e)){a=JSON.stringify(e);return a.replace(/\{|\}|\\n|,/g,"\n")}return""}this.createTicket=function(t){const o="/sap/opu/odata/UI2/INTEROP/";const c="Messages";const l=i;let u;let g;let p;let b;if(!t.text){throw new a.Error("Support Ticket data does not contain text member")}u=e.get("clientContext.navigationData.applicationInformation.url",t);g=e.get("clientContext.navigationData.navigationHash",t);p=e.get("clientContext.navigationData.tileDebugInfo",t);u=typeof u==="string"?u:"";g=typeof g==="string"?g:"";p=typeof p==="string"&&p.length>0?JSON.parse(p).catalogId||"":"";t.text=t.text.trim();t.subject=t.subject.trim();if(t.subject.length>40){t.text=`${t.subject}\n${t.text}`;t.subject=`${t.subject.substring(0,40).slice(0,-3)}...`}t.url=u;t.catalogId=p;t.hash=g;t.clientContext=r(t.clientContext);const f=new Promise((e,a)=>{const i={baseUrl:o,"sap-language":l.getUser().getLanguage(),"sap-client":l.getLogonSystem().getClient()};b=n.createODataWrapper(i);s.call(this,b,()=>false);b.create(c,t,t=>{e(t.messageNumber)},t=>{a(new Error(t))})});return f}}});
//# sourceMappingURL=SupportTicketAdapter.js.map