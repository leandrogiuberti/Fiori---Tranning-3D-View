{"version":3,"file":"NewsFeedVisibilityChange-dbg.js","names":["sap","ui","define","CondenserClassification","getContainer","control","getItems","find","item","getMetadata","getName","debounceTimeout","NewsFeedVisibilityChange","applyChange","change","container","clearTimeout","setTimeout","newsVisibilityChangeHandler","getContent","revertChange","isNewsFeedVisible","completeChangeContent","getCondenserInfo","affectedControl","getSelector","classification","LastOneWins","uniqueKey"],"sources":["NewsFeedVisibilityChange.ts"],"sourcesContent":["/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n *  * (c) Copyright 2009-2025 SAP SE. All rights reserved\n */\n\nimport Control from \"sap/ui/core/Control\";\nimport CondenserClassification from \"sap/ui/fl/changeHandler/condenser/Classification\";\nimport BaseLayout from \"../BaseLayout\";\nimport { IKeyUserChangeObject, INewsFeedVisibiliyChange } from \"../interface/KeyUserInterface\";\nimport NewsAndPagesContainer from \"../NewsAndPagesContainer\";\n\nfunction getContainer(control: Control): NewsAndPagesContainer {\n\treturn (control as BaseLayout)\n\t\t.getItems()\n\t\t.find((item) => item.getMetadata().getName() === \"sap.cux.home.NewsAndPagesContainer\") as NewsAndPagesContainer;\n}\nlet debounceTimeout: ReturnType<typeof setTimeout> | null = null;\n\nconst NewsFeedVisibilityChange = {\n\tapplyChange: (change: IKeyUserChangeObject, control: Control) => {\n\t\tconst container = getContainer(control);\n\n\t\t// Debounce the newsPersonalization call\n\t\tif (debounceTimeout) {\n\t\t\tclearTimeout(debounceTimeout);\n\t\t}\n\n\t\tdebounceTimeout = setTimeout(() => {\n\t\t\tcontainer?.newsVisibilityChangeHandler(change.getContent());\n\t\t}, 0);\n\n\t\treturn true;\n\t},\n\trevertChange: (change: IKeyUserChangeObject, control: Control) => {\n\t\tconst container = getContainer(control);\n\t\tlet revertChange = change.getContent() as INewsFeedVisibiliyChange;\n\t\trevertChange.isNewsFeedVisible = !revertChange.isNewsFeedVisible;\n\t\tcontainer?.newsVisibilityChangeHandler(revertChange);\n\t},\n\tcompleteChangeContent: () => {\n\t\treturn;\n\t},\n\tgetCondenserInfo: (change: IKeyUserChangeObject) => {\n\t\treturn {\n\t\t\taffectedControl: change.getSelector(),\n\t\t\tclassification: (CondenserClassification as { LastOneWins: string }).LastOneWins,\n\t\t\tuniqueKey: \"newsFeedVisibility\"\n\t\t};\n\t}\n};\n\nexport default NewsFeedVisibilityChange;\n"],"mappings":"AAAA;AACA;AACA;AACA;AAHAA,GAAA,CAAAC,EAAA,CAAAC,MAAA,iEAAAC,uBAAA;EAAA;;EAWA,SAASC,YAAYA,CAACC,OAAgB,EAAyB;IAC9D,OAAQA,OAAO,CACbC,QAAQ,CAAC,CAAC,CACVC,IAAI,CAAEC,IAAI,IAAKA,IAAI,CAACC,WAAW,CAAC,CAAC,CAACC,OAAO,CAAC,CAAC,KAAK,oCAAoC,CAAC;EACxF;EACA,IAAIC,eAAqD,GAAG,IAAI;EAEhE,MAAMC,wBAAwB,GAAG;IAChCC,WAAW,EAAEA,CAACC,MAA4B,EAAET,OAAgB,KAAK;MAChE,MAAMU,SAAS,GAAGX,YAAY,CAACC,OAAO,CAAC;;MAEvC;MACA,IAAIM,eAAe,EAAE;QACpBK,YAAY,CAACL,eAAe,CAAC;MAC9B;MAEAA,eAAe,GAAGM,UAAU,CAAC,MAAM;QAClCF,SAAS,EAAEG,2BAA2B,CAACJ,MAAM,CAACK,UAAU,CAAC,CAAC,CAAC;MAC5D,CAAC,EAAE,CAAC,CAAC;MAEL,OAAO,IAAI;IACZ,CAAC;IACDC,YAAY,EAAEA,CAACN,MAA4B,EAAET,OAAgB,KAAK;MACjE,MAAMU,SAAS,GAAGX,YAAY,CAACC,OAAO,CAAC;MACvC,IAAIe,YAAY,GAAGN,MAAM,CAACK,UAAU,CAAC,CAA6B;MAClEC,YAAY,CAACC,iBAAiB,GAAG,CAACD,YAAY,CAACC,iBAAiB;MAChEN,SAAS,EAAEG,2BAA2B,CAACE,YAAY,CAAC;IACrD,CAAC;IACDE,qBAAqB,EAAEA,CAAA,KAAM;MAC5B;IACD,CAAC;IACDC,gBAAgB,EAAGT,MAA4B,IAAK;MACnD,OAAO;QACNU,eAAe,EAAEV,MAAM,CAACW,WAAW,CAAC,CAAC;QACrCC,cAAc,EAAGvB,uBAAuB,CAA6BwB,WAAW;QAChFC,SAAS,EAAE;MACZ,CAAC;IACF;EACD,CAAC;EAAC,OAEahB,wBAAwB;AAAA","ignoreList":[]}