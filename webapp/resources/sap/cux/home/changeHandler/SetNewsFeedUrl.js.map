{"version":3,"file":"SetNewsFeedUrl.js","names":["sap","ui","define","CondenserClassification","getContainer","control","getItems","find","item","getMetadata","getName","debounceTimeout","SetNewsFeedUrl","applyChange","change","container","clearTimeout","setTimeout","newsPersonalization","getContent","revertChange","revertChanges","newsFeedURL","oldNewsFeedUrl","showCustomNewsFeed","oldShowCustomNewsFeed","customNewsFeedKey","oldCustomNewsFeedKey","showDefaultNewsFeed","oldshowDefaultNewsFeed","showRssNewsFeed","oldShowRssNewsFeed","completeChangeContent","getCondenserInfo","affectedControl","getSelector","classification","LastOneWins","uniqueKey"],"sources":["SetNewsFeedUrl.ts"],"sourcesContent":["/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n *  * (c) Copyright 2009-2025 SAP SE. All rights reserved\n */\n\nimport Control from \"sap/ui/core/Control\";\nimport CondenserClassification from \"sap/ui/fl/changeHandler/condenser/Classification\";\nimport BaseLayout from \"../BaseLayout\";\nimport { IKeyUserChangeObject, INewsPersData } from \"../interface/KeyUserInterface\";\nimport NewsAndPagesContainer from \"../NewsAndPagesContainer\";\n\nfunction getContainer(control: Control): NewsAndPagesContainer {\n\treturn (control as BaseLayout)\n\t\t.getItems()\n\t\t.find((item) => item.getMetadata().getName() === \"sap.cux.home.NewsAndPagesContainer\") as NewsAndPagesContainer;\n}\nlet debounceTimeout: ReturnType<typeof setTimeout> | null = null;\n\nconst SetNewsFeedUrl = {\n\tapplyChange: (change: IKeyUserChangeObject, control: Control) => {\n\t\tconst container = getContainer(control);\n\n\t\t// Debounce the newsPersonalization call\n\t\tif (debounceTimeout) {\n\t\t\tclearTimeout(debounceTimeout);\n\t\t}\n\n\t\tdebounceTimeout = setTimeout(() => {\n\t\t\tcontainer?.newsPersonalization(change.getContent());\n\t\t}, 0);\n\n\t\treturn true;\n\t},\n\trevertChange: (change: IKeyUserChangeObject, control: Control) => {\n\t\tconst container = getContainer(control);\n\t\tlet revertChanges = change.getContent() as INewsPersData;\n\t\trevertChanges.newsFeedURL = revertChanges.oldNewsFeedUrl;\n\t\trevertChanges.showCustomNewsFeed = revertChanges.oldShowCustomNewsFeed;\n\t\trevertChanges.customNewsFeedKey = revertChanges.oldCustomNewsFeedKey;\n\t\trevertChanges.showDefaultNewsFeed = revertChanges.oldshowDefaultNewsFeed;\n\t\trevertChanges.showRssNewsFeed = revertChanges.oldShowRssNewsFeed;\n\t\tcontainer?.newsPersonalization(revertChanges);\n\t},\n\tcompleteChangeContent: () => {\n\t\treturn;\n\t},\n\tgetCondenserInfo: (change: IKeyUserChangeObject) => {\n\t\treturn {\n\t\t\taffectedControl: change.getSelector(),\n\t\t\tclassification: (CondenserClassification as { LastOneWins: string }).LastOneWins,\n\t\t\tuniqueKey: \"newsFeedUrl\"\n\t\t};\n\t}\n};\n\nexport default SetNewsFeedUrl;\n"],"mappings":";;;;AAAAA,IAAAC,GAAAC,OAAA,8DAAAC,GAAA,aAWA,SAASC,EAAaC,GACrB,OAAQA,EACNC,WACAC,KAAMC,GAASA,EAAKC,cAAcC,YAAc,qCACnD,CACA,IAAIC,EAAwD,KAE5D,MAAMC,EAAiB,CACtBC,YAAaA,CAACC,EAA8BT,KAC3C,MAAMU,EAAYX,EAAaC,GAG/B,GAAIM,EAAiB,CACpBK,aAAaL,EACd,CAEAA,EAAkBM,WAAW,KAC5BF,GAAWG,oBAAoBJ,EAAOK,eACpC,GAEH,OAAO,MAERC,aAAcA,CAACN,EAA8BT,KAC5C,MAAMU,EAAYX,EAAaC,GAC/B,IAAIgB,EAAgBP,EAAOK,aAC3BE,EAAcC,YAAcD,EAAcE,eAC1CF,EAAcG,mBAAqBH,EAAcI,sBACjDJ,EAAcK,kBAAoBL,EAAcM,qBAChDN,EAAcO,oBAAsBP,EAAcQ,uBAClDR,EAAcS,gBAAkBT,EAAcU,mBAC9ChB,GAAWG,oBAAoBG,IAEhCW,sBAAuBA,OAGvBC,iBAAmBnB,IACX,CACNoB,gBAAiBpB,EAAOqB,cACxBC,eAAiBjC,EAAoDkC,YACrEC,UAAW,iBAGZ,OAEa1B,CAAc","ignoreList":[]}