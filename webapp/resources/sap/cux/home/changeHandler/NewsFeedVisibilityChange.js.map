{"version":3,"file":"NewsFeedVisibilityChange.js","names":["sap","ui","define","CondenserClassification","getContainer","control","getItems","find","item","getMetadata","getName","debounceTimeout","NewsFeedVisibilityChange","applyChange","change","container","clearTimeout","setTimeout","newsVisibilityChangeHandler","getContent","revertChange","isNewsFeedVisible","completeChangeContent","getCondenserInfo","affectedControl","getSelector","classification","LastOneWins","uniqueKey"],"sources":["NewsFeedVisibilityChange.ts"],"sourcesContent":["/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n *  * (c) Copyright 2009-2025 SAP SE. All rights reserved\n */\n\nimport Control from \"sap/ui/core/Control\";\nimport CondenserClassification from \"sap/ui/fl/changeHandler/condenser/Classification\";\nimport BaseLayout from \"../BaseLayout\";\nimport { IKeyUserChangeObject, INewsFeedVisibiliyChange } from \"../interface/KeyUserInterface\";\nimport NewsAndPagesContainer from \"../NewsAndPagesContainer\";\n\nfunction getContainer(control: Control): NewsAndPagesContainer {\n\treturn (control as BaseLayout)\n\t\t.getItems()\n\t\t.find((item) => item.getMetadata().getName() === \"sap.cux.home.NewsAndPagesContainer\") as NewsAndPagesContainer;\n}\nlet debounceTimeout: ReturnType<typeof setTimeout> | null = null;\n\nconst NewsFeedVisibilityChange = {\n\tapplyChange: (change: IKeyUserChangeObject, control: Control) => {\n\t\tconst container = getContainer(control);\n\n\t\t// Debounce the newsPersonalization call\n\t\tif (debounceTimeout) {\n\t\t\tclearTimeout(debounceTimeout);\n\t\t}\n\n\t\tdebounceTimeout = setTimeout(() => {\n\t\t\tcontainer?.newsVisibilityChangeHandler(change.getContent());\n\t\t}, 0);\n\n\t\treturn true;\n\t},\n\trevertChange: (change: IKeyUserChangeObject, control: Control) => {\n\t\tconst container = getContainer(control);\n\t\tlet revertChange = change.getContent() as INewsFeedVisibiliyChange;\n\t\trevertChange.isNewsFeedVisible = !revertChange.isNewsFeedVisible;\n\t\tcontainer?.newsVisibilityChangeHandler(revertChange);\n\t},\n\tcompleteChangeContent: () => {\n\t\treturn;\n\t},\n\tgetCondenserInfo: (change: IKeyUserChangeObject) => {\n\t\treturn {\n\t\t\taffectedControl: change.getSelector(),\n\t\t\tclassification: (CondenserClassification as { LastOneWins: string }).LastOneWins,\n\t\t\tuniqueKey: \"newsFeedVisibility\"\n\t\t};\n\t}\n};\n\nexport default NewsFeedVisibilityChange;\n"],"mappings":";;;;AAAAA,IAAAC,GAAAC,OAAA,8DAAAC,GAAA,aAWA,SAASC,EAAaC,GACrB,OAAQA,EACNC,WACAC,KAAMC,GAASA,EAAKC,cAAcC,YAAc,qCACnD,CACA,IAAIC,EAAwD,KAE5D,MAAMC,EAA2B,CAChCC,YAAaA,CAACC,EAA8BT,KAC3C,MAAMU,EAAYX,EAAaC,GAG/B,GAAIM,EAAiB,CACpBK,aAAaL,EACd,CAEAA,EAAkBM,WAAW,KAC5BF,GAAWG,4BAA4BJ,EAAOK,eAC5C,GAEH,OAAO,MAERC,aAAcA,CAACN,EAA8BT,KAC5C,MAAMU,EAAYX,EAAaC,GAC/B,IAAIe,EAAeN,EAAOK,aAC1BC,EAAaC,mBAAqBD,EAAaC,kBAC/CN,GAAWG,4BAA4BE,IAExCE,sBAAuBA,OAGvBC,iBAAmBT,IACX,CACNU,gBAAiBV,EAAOW,cACxBC,eAAiBvB,EAAoDwB,YACrEC,UAAW,wBAGZ,OAEahB,CAAwB","ignoreList":[]}