/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *  * (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.define(["sap/base/Log","sap/m/GenericTile","sap/m/library","sap/ushell/Container","./BaseApp","./utils/AppManager"],function(e,t,n,r,o,s){"use strict";function c(e){return e&&e.__esModule&&typeof e.default!=="undefined"?e.default:e}const i=c(o);const a=c(s);const u=i.extend("sap.cux.home.App",{metadata:{library:"sap.cux.home",properties:{url:{type:"string",group:"Misc",defaultValue:""},vizId:{type:"string",group:"Misc",defaultValue:""}}},constructor:function e(t,n){i.prototype.constructor.call(this,t,n)},_getSSBRootControl:function t(n){try{return n.getContent().getComponentInstance().getRootControl()}catch(t){e.error(t instanceof Error?t.message:String(t));return null}},_getInnerGenericTile:function e(r){if(!r){return null}const o=r.getMetadata();const s=o.getDefaultAggregation();const c=s?s?.name:"content";const i=c?r.getAggregation(c):null;const a=Array.isArray(i)?i[0]:i;if(!a){return null}if(a instanceof t&&a.getState()===n.LoadState.Loaded){return a}return this._getInnerGenericTile(a)},_launchApp:function e(t){try{const e=this;e.appManagerInstance=e.appManagerInstance||a.getInstance();const n=t.getSource();return Promise.resolve(e.appManagerInstance.fetchFavVizs(false,true)).then(function(t){const o=t.find(e=>{const t=e.url||"";return n.getUrl().includes(t)});const s=o?.vizInstance;const c=o?.isSmartBusinessTile;if(s){const t=e._getSSBRootControl(s);const n=c&&e._getInnerGenericTile(t);if(n){n.firePress();return}}return Promise.resolve(r.getServiceAsync("SpaceContent")).then(function(t){return Promise.resolve(t.launchTileTarget(e.getUrl(),e.getTitle())).then(function(){})})})}catch(e){return Promise.reject(e)}},_handlePress:function e(t){try{const e=this;const n=function(){if(e.getUrl()){return Promise.resolve(e._launchApp(t)).then(function(){})}}();return Promise.resolve(n&&n.then?n.then(function(){}):void 0)}catch(e){return Promise.reject(e)}}});return u});
//# sourceMappingURL=App.js.map