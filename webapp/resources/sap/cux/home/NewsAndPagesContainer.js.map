{"version":3,"file":"NewsAndPagesContainer.js","names":["sap","ui","define","__BaseContainer","___utils_placeholder_NewsAndPagesPlaceholder","___library","___utils_Device","_interopRequireDefault","obj","__esModule","default","_iteratorSymbol","Symbol","iterator","_settle","pact","state","value","s","_Pact","v","o","bind","then","observer","prototype","onFulfilled","onRejected","result","this","callback","e","_this","_isSettledPact","thenable","_forTo","array","body","check","i","reject","_cycle","length","BaseContainer","_forOf","target","step","next","done","return","_fixup","TypeError","values","push","getNewsPagesPlaceholder","NewsType","OrientationType","DeviceType","NewsAndPagesContainer","extend","metadata","properties","colorPersonalizations","type","group","defaultValue","visibility","iconPersonalizations","newsFeedVisibility","renderer","apiVersion","constructor","_constructor","id","settings","BaseContainer.prototype.constructor.call","panelLoaded","keyUserChange","isEndUserChange","isEndUser","newsType","None","init","_init","BaseContainer.prototype.init.call","setProperty","getDeviceType","Desktop","LargeDesktop","XLargeDesktop","Horizontal","Vertical","addCustomSetting","_i18nBundle","getText","addStyleClass","load","_load","aContent","getContent","_temp","oContent","checkEndUserChanges","Promise","resolve","getData","getProperty","getMetadata","getName","setVisible","setColorPersonalizations","_setColorPersonalizations","personalizations","existingPers","updatedPers","concat","forEach","applyColorPersonalizations","setIconPersonalizations","_setIconPersonalizations","applyIconPersonalizations","_checkEndUserChanges","getIsEndUserChange","_getIsEndUserChange","newsVisibilityChangeHandler","_newsVisibilityChangeHandler","personalization","newsPanel","isNewsFeedVisible","newsPersonalization","_newsPersonalization","Boolean","showCustomNewsFeed","Custom","showRssNewsFeed","NewsUrl","Default","newsFeedURL","customNewsFeedKey","customNewsFeedFileName","url","customFeedKey","String","setCustomNewsFeed","showDefaultNewsFeed","setDefaultNews","setURL","panelLoadedFn","_panelLoadedFn","sPanelType","oVal","pagePanel","adjustLayout","adjustStyleLayout","_adjustStyleLayout","bIsNewsTileVisible","sDeviceType","newsContentWrapper","undefined","pagesContentWrapper","setWidth","setOrientation","Tablet","setJustifyContent","removeStyleClass","setTimeout","attachResizeHandler","getDomRef","clientWidth","_adjustLayout","getVisible","loaded","removeContent","getGenericPlaceholderContent","_getGenericPlaceholderContent"],"sources":["NewsAndPagesContainer.ts"],"sourcesContent":["/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n *  * (c) Copyright 2009-2025 SAP SE. All rights reserved\n */\n\nimport type { MetadataOptions } from \"sap/ui/core/Element\";\nimport BaseContainer from \"./BaseContainer\";\nimport BasePanel from \"./BasePanel\";\nimport type { $NewsAndPagesContainerSettings } from \"./NewsAndPagesContainer\";\nimport { getNewsPagesPlaceholder } from \"./utils/placeholder/NewsAndPagesPlaceholder\";\nimport NewsPanel from \"./NewsPanel\";\nimport PagePanel from \"./PagePanel\";\nimport { INewsFeedVisibiliyChange, INewsPersData, ISpacePagePersonalization } from \"./interface/KeyUserInterface\";\nimport { NewsType, OrientationType } from \"./library\";\nimport { DeviceType } from \"./utils/Device\";\nimport VBox from \"sap/m/VBox\";\n\ninterface IpanelLoaded {\n\t[key: string]: { loaded: boolean; count: number };\n}\n\ninterface EndUserChangeStatus {\n\tisEndUser: boolean;\n\tnewsType: NewsType;\n}\n\n/**\n *\n * Container class for managing and storing News and Pages.\n *\n * @extends BaseContainer\n *\n * @author SAP SE\n * @version 0.0.1\n * @since 1.121\n *\n * @private\n * @ui5-restricted ux.eng.s4producthomes1\n *\n * @alias sap.cux.home.NewsAndPagesContainer\n */\n\nexport default class NewsAndPagesContainer extends BaseContainer {\n\tstatic renderer = {\n\t\t...BaseContainer.renderer,\n\t\tapiVersion: 2\n\t};\n\tstatic readonly metadata: MetadataOptions = {\n\t\tproperties: {\n\t\t\t/**\n\t\t\t * Color Personalizations for Spaces & Pages\n\t\t\t */\n\t\t\tcolorPersonalizations: { type: \"array\", group: \"Misc\", defaultValue: [], visibility: \"hidden\" },\n\t\t\t/**\n\t\t\t * Icon Personalizations for Spaces & Pages\n\t\t\t */\n\t\t\ticonPersonalizations: { type: \"array\", group: \"Misc\", defaultValue: [], visibility: \"hidden\" },\n\t\t\t/**\n\t\t\t * News feed visibility flag\n\t\t\t */\n\t\t\tnewsFeedVisibility: { type: \"boolean\", group: \"Misc\", defaultValue: true, visibility: \"hidden\" }\n\t\t}\n\t};\n\n\tprivate panelLoaded: IpanelLoaded = {};\n\tprivate pagePanel!: PagePanel;\n\tprivate newsPanel!: NewsPanel;\n\tprivate keyUserChange: boolean = false;\n\tprivate isEndUserChange: EndUserChangeStatus = { isEndUser: false, newsType: NewsType.None };\n\n\tconstructor(id?: string | $NewsAndPagesContainerSettings);\n\tconstructor(id?: string, settings?: $NewsAndPagesContainerSettings);\n\t/**\n\t * Constructor for the new News and Pages container.\n\t *\n\t * @param {string} [id] ID for the new control, generated automatically if an ID is not provided\n\t * @param {object} [settings] Initial settings for the new control\n\t */\n\tpublic constructor(id?: string, settings?: $NewsAndPagesContainerSettings) {\n\t\tsuper(id, settings);\n\t}\n\n\t/**\n\t * Init lifecycle method\n\t *\n\t * @private\n\t * @override\n\t */\n\tpublic init(): void {\n\t\tsuper.init();\n\t\tthis.panelLoaded = {};\n\n\t\tthis.setProperty(\n\t\t\t\"orientation\",\n\t\t\tthis.getDeviceType() === DeviceType.Desktop ||\n\t\t\t\tthis.getDeviceType() === DeviceType.LargeDesktop ||\n\t\t\t\tthis.getDeviceType() === DeviceType.XLargeDesktop\n\t\t\t\t? OrientationType.Horizontal\n\t\t\t\t: OrientationType.Vertical\n\t\t);\n\t\tthis.addCustomSetting(\"title\", this._i18nBundle.getText(\"myInterestMsg\") as string);\n\t\tthis.addStyleClass(\"sapCuxNewsAndPagesContainer\");\n\t}\n\n\t/**\n\t * Loads the News and Pages section.\n\t * Overrides the load method of the BaseContainer.\n\t *\n\t * @private\n\t * @override\n\t */\n\tpublic async load() {\n\t\tconst aContent = this.getContent() as PagePanel[] | NewsPanel[];\n\t\tfor (const oContent of aContent) {\n\t\t\tif (!this.keyUserChange) {\n\t\t\t\tthis.checkEndUserChanges(oContent);\n\t\t\t}\n\t\t\tawait oContent.getData();\n\n\t\t\t// If the newsVisibilityChangeHandler is invoked before the data is loaded,\n\t\t\t// it may result in the news panel being incorrectly displayed if it was already set hidden by the handler.\n\t\t\t// newsFeedVisibility is set as false, then hide the news panel\n\t\t\tconst newsFeedVisibility = this.getProperty(\"newsFeedVisibility\") as boolean;\n\t\t\t// if newsFeedVisibility is false, hide the news panel\n\t\t\tif (oContent && oContent.getMetadata().getName() === \"sap.cux.home.NewsPanel\" && !newsFeedVisibility) {\n\t\t\t\toContent.setVisible(false);\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Sets property value for colorPersonalization.\n\t * Overridden to update cached personalizations.\n\t *\n\t * @private\n\t * @override\n\t * @returns {NewsAndPagesContainer} the container for chaining\n\t */\n\tsetColorPersonalizations(personalizations: Array<ISpacePagePersonalization>): NewsAndPagesContainer {\n\t\tconst existingPers = (this.getProperty(\"colorPersonalizations\") as ISpacePagePersonalization[]) || [];\n\t\tconst updatedPers = existingPers.concat(personalizations);\n\t\tthis.setProperty(\"colorPersonalizations\", updatedPers);\n\t\tthis.getContent().forEach((oContent) => {\n\t\t\tif (oContent.getMetadata().getName() === \"sap.cux.home.PagePanel\") {\n\t\t\t\t(oContent as PagePanel).applyColorPersonalizations(updatedPers);\n\t\t\t}\n\t\t});\n\t\treturn this;\n\t}\n\n\t/**\n\t * Sets property value for iconPersonalization.\n\t * Overridden to update cached personalizations.\n\t *\n\t * @private\n\t * @override\n\t * @returns {NewsAndPagesContainer} the container for chaining\n\t */\n\tsetIconPersonalizations(personalizations: Array<ISpacePagePersonalization>): NewsAndPagesContainer {\n\t\tconst existingPers = (this.getProperty(\"iconPersonalizations\") as ISpacePagePersonalization[]) || [];\n\t\tconst updatedPers = existingPers.concat(personalizations);\n\t\tthis.setProperty(\"iconPersonalizations\", updatedPers);\n\t\tthis.getContent().forEach((oContent) => {\n\t\t\tif (oContent.getMetadata().getName() === \"sap.cux.home.PagePanel\") {\n\t\t\t\t(oContent as PagePanel).applyIconPersonalizations(updatedPers);\n\t\t\t}\n\t\t});\n\t\treturn this;\n\t}\n\n\t/**\n\t * Marks the change as an end-user change if the content is a NewsPanel with a URL and no key user changes exist.\n\t *\n\t * @private\n\t * @param {BasePanel} oContent - The content panel to evaluate, typically of type `sap.cux.home.NewsPanel`.\n\t */\n\tpublic checkEndUserChanges(oContent: BasePanel) {\n\t\tif (oContent.getMetadata().getName() === \"sap.cux.home.NewsPanel\" && oContent.getProperty(\"url\") && !this.keyUserChange) {\n\t\t\tthis.isEndUserChange.isEndUser = true;\n\t\t}\n\t}\n\n\t/**\n\t * Returns the current end-user change status.\n\t *\n\t * @private\n\t * @returns {EndUserChangeStatus} An object containing the end-user change flag and the news type.\n\t */\n\tpublic getIsEndUserChange(): EndUserChangeStatus {\n\t\treturn this.isEndUserChange;\n\t}\n\n\tpublic newsVisibilityChangeHandler(personalization: INewsFeedVisibiliyChange) {\n\t\tconst aContent = this.getContent();\n\t\taContent.forEach((oContent: BasePanel) => {\n\t\t\tif (oContent.getMetadata().getName() === \"sap.cux.home.NewsPanel\") {\n\t\t\t\tlet newsPanel = oContent as NewsPanel;\n\t\t\t\tif (personalization.isNewsFeedVisible) {\n\t\t\t\t\tthis.setProperty(\"newsFeedVisibility\", true);\n\t\t\t\t\tnewsPanel.setVisible(true);\n\t\t\t\t} else {\n\t\t\t\t\tthis.setProperty(\"newsFeedVisibility\", false);\n\t\t\t\t\tnewsPanel.setVisible(false);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\n\tpublic newsPersonalization(personalizations: INewsPersData) {\n\t\tconst aContent = this.getContent();\n\t\tlet type: NewsType;\n\t\taContent.forEach((oContent: BasePanel) => {\n\t\t\tthis.checkEndUserChanges(oContent);\n\t\t\tif (oContent.getMetadata().getName() === \"sap.cux.home.NewsPanel\" && !this.isEndUserChange.isEndUser) {\n\t\t\t\tlet newsPanel = oContent as NewsPanel;\n\t\t\t\tconst newsFeedVisibility = Boolean(this.getProperty(\"newsFeedVisibility\"));\n\t\t\t\tthis.keyUserChange = true;\n\n\t\t\t\tif (personalizations.showCustomNewsFeed) {\n\t\t\t\t\ttype = NewsType.Custom;\n\t\t\t\t} else if (personalizations.showRssNewsFeed) {\n\t\t\t\t\ttype = NewsType.NewsUrl;\n\t\t\t\t} else {\n\t\t\t\t\ttype = NewsType.Default;\n\t\t\t\t}\n\t\t\t\tnewsPanel.setProperty(\"type\", type);\n\t\t\t\tnewsPanel.setProperty(\"url\", personalizations.newsFeedURL);\n\t\t\t\tnewsPanel.setProperty(\"customFeedKey\", personalizations.customNewsFeedKey);\n\t\t\t\tnewsPanel.setProperty(\"customFileName\", personalizations.customNewsFeedFileName);\n\n\t\t\t\tif (newsFeedVisibility) {\n\t\t\t\t\tconst url = personalizations.newsFeedURL as string;\n\t\t\t\t\tnewsPanel.setVisible(true);\n\t\t\t\t\tconst customFeedKey = String(newsPanel.getProperty(\"customFeedKey\"));\n\t\t\t\t\tif (personalizations.showCustomNewsFeed && customFeedKey) {\n\t\t\t\t\t\tnewsPanel.setProperty(\"newsAvailable\", true);\n\t\t\t\t\t\tvoid newsPanel.setCustomNewsFeed(customFeedKey);\n\t\t\t\t\t} else if (personalizations.showDefaultNewsFeed) {\n\t\t\t\t\t\tvoid newsPanel.setDefaultNews();\n\t\t\t\t\t} else if (personalizations.showRssNewsFeed && url) {\n\t\t\t\t\t\tvoid newsPanel.setURL(url);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tnewsPanel.setVisible(false);\n\t\t\t\t\t\tthis.setProperty(\"newsFeedVisibility\", false);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\n\tpublic panelLoadedFn(sPanelType: string, oVal: { loaded: boolean; count: number }) {\n\t\t// same issue of panelwrapper not available at this time\n\t\tconst aContent = this.getContent();\n\t\taContent.forEach((oContent: BasePanel) => {\n\t\t\tif (oContent.getMetadata().getName() === \"sap.cux.home.PagePanel\") {\n\t\t\t\tthis.pagePanel = oContent as PagePanel;\n\t\t\t} else if (oContent.getMetadata().getName() === \"sap.cux.home.NewsPanel\") {\n\t\t\t\tthis.newsPanel = oContent as NewsPanel;\n\t\t\t}\n\t\t});\n\t\tthis.panelLoaded[sPanelType] = oVal;\n\t\tthis.adjustLayout();\n\t}\n\n\tpublic adjustStyleLayout(bIsNewsTileVisible: boolean) {\n\t\tconst sDeviceType = this.getDeviceType();\n\t\tconst newsContentWrapper = this.newsPanel ? this.newsPanel.getContent()?.[0] as VBox : undefined;\n\t\tconst pagesContentWrapper = this.pagePanel ? this.pagePanel.getContent()?.[0] as VBox : undefined;\n\t\tif (bIsNewsTileVisible) {\n\t\t\tthis.newsPanel.adjustLayout();\n\t\t}\n\t\tif (sDeviceType === DeviceType.Desktop || sDeviceType === DeviceType.LargeDesktop || sDeviceType === DeviceType.XLargeDesktop) {\n\t\t\tif (bIsNewsTileVisible) {\n\t\t\t\tpagesContentWrapper?.setWidth(\"100%\");\n\t\t\t}\n\t\t\tthis.setOrientation(OrientationType.Horizontal);\n\t\t\tnewsContentWrapper?.setWidth(\"100%\");\n\t\t\tnewsContentWrapper?.addStyleClass(\"newsTileMaxWidth\");\n\t\t} else if (sDeviceType === DeviceType.Tablet) {\n\t\t\tthis.setOrientation(OrientationType.Vertical);\n\t\t\tpagesContentWrapper?.setWidth(\"100%\");\n\t\t\tpagesContentWrapper?.setJustifyContent(\"Start\");\n\t\t\tnewsContentWrapper?.setWidth(\"calc(100vw - 64px)\");\n\t\t\tnewsContentWrapper?.removeStyleClass(\"newsTileMaxWidth\");\n\t\t} else {\n\t\t\tthis.setOrientation(OrientationType.Vertical);\n\t\t\tnewsContentWrapper?.setWidth(\"calc(100vw - 16px)\");\n\t\t}\n\n\t\tif (pagesContentWrapper) {\n\t\t\tsetTimeout(\n\t\t\t\tthis.pagePanel.attachResizeHandler.bind(\n\t\t\t\t\tthis.pagePanel,\n\t\t\t\t\tbIsNewsTileVisible,\n\t\t\t\t\tthis.getDomRef()?.clientWidth || 0,\n\t\t\t\t\tpagesContentWrapper\n\t\t\t\t)\n\t\t\t);\n\t\t}\n\t}\n\n\t/**\n\t * Adjusts the layout of the all panels in the container.\n\t *\n\t * @private\n\t * @override\n\t */\n\tpublic adjustLayout() {\n\t\tif (this.pagePanel && this.newsPanel && this.newsPanel.getVisible()) {\n\t\t\tlet bIsNewsTileVisible = true;\n\t\t\tif (this.panelLoaded[\"Page\"]?.loaded || this.panelLoaded[\"News\"]?.loaded) {\n\t\t\t\t// In case News Panel fails to load remove the panel and apply styles for page to take full width\n\t\t\t\tif (this.panelLoaded[\"News\"]?.loaded === false) {\n\t\t\t\t\tbIsNewsTileVisible = false;\n\t\t\t\t\tthis.removeContent(this.newsPanel);\n\t\t\t\t} else if (this.panelLoaded[\"Page\"]?.loaded === false) {\n\t\t\t\t\tthis.removeContent(this.pagePanel);\n\t\t\t\t}\n\t\t\t\tthis.adjustStyleLayout(bIsNewsTileVisible);\n\t\t\t}\n\t\t} else if (this.pagePanel && this.panelLoaded[\"Page\"]?.loaded) {\n\t\t\t// If News Panel is not present apply styles for page to take full width\n\t\t\tthis.adjustStyleLayout(false);\n\t\t}\n\t}\n\n\t/**\n\t * Retrieves the generic placeholder content for the News and Pages container.\n\t *\n\t * @returns {string} The HTML string representing the News and Pages container's placeholder content.\n\t */\n\tprotected getGenericPlaceholderContent(): string {\n\t\treturn getNewsPagesPlaceholder();\n\t}\n}\n"],"mappings":"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","ignoreList":[]}