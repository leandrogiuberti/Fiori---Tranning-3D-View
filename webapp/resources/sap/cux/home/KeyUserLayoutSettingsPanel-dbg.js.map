{"version":3,"file":"KeyUserLayoutSettingsPanel-dbg.js","names":["sap","ui","define","Column","ColumnListItem","HBox","ObjectIdentifier","Table","ToggleButton","CustomData","Element","Icon","__BaseSettingsPanel","___flexibility_Layoutflexibility","___utils_Constants","___utils_DataFormatUtils","___utils_DragDropUtils","_interopRequireDefault","obj","__esModule","default","BaseSettingsPanel","CHANGE_TYPES","KEYUSER_SETTINGS_PANELS_KEYS","recycleId","focusDraggedItem","KeyUserLayoutSettingsPanel","extend","metadata","library","init","_init","BaseSettingsPanel.prototype.init.call","setProperty","LAYOUT","_i18nBundle","getText","addAggregation","getContent","attachPanelNavigated","layout","_getPanel","resetSections","loadSections","_getContent","layoutTable","getId","width","items","columns","addStyleClass","addDragDropConfigTo","event","onDropLayoutSettings","_loadSections","_this","Promise","resolve","_calculateSectionsState","then","orderedSections","getSections","keyUserSettingsDialog","getParent","removeAllItems","forEach","section","index","addItem","type","hasDetailsPage","completeId","cells","alignItems","src","justifyContent","title","text","tooltip","visible","icon","enabled","blocked","press","createShowHideChangeFile","pressed","ariaLabelledBy","navigateToPage","getDetailsPage","customData","key","value","e","reject","_onDropLayoutSettings","wrapper","wrapperId","dragItem","getParameter","draggedControl","dragItemIndex","indexOfItem","dropItem","droppedControl","dropItemIndex","sectionOrder","dragObject","data","dropObject","actualDragItemIndex","_getActualIndex","actualDropItemIndex","_rearrangeLayoutElements","splice","setSections","addKeyUserChanges","selectorControl","changeSpecificData","changeType","MOVE","content","movedElements","id","sourceIndex","targetIndex","source","aggregation","target","_allLayoutElements","getItems","isLayoutExpanded","getProperty","expandedElementConfig","_getCurrentExpandedElement","some","element","targetContainer","findIndex","container","_createShowHideChangeFile","oControlEvent","isCheckBoxSelected","keyUserChanges","getKeyUserChanges","UNHIDE","HIDE","oExistingChange","find","oChange","getElementById"],"sources":["KeyUserLayoutSettingsPanel.ts"],"sourcesContent":["/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n *  * (c) Copyright 2009-2025 SAP SE. All rights reserved\n */\n\nimport Column from \"sap/m/Column\";\nimport ColumnListItem from \"sap/m/ColumnListItem\";\nimport HBox from \"sap/m/HBox\";\nimport ObjectIdentifier from \"sap/m/ObjectIdentifier\";\nimport Table from \"sap/m/Table\";\nimport ToggleButton, { ToggleButton$PressEvent } from \"sap/m/ToggleButton\";\nimport Control from \"sap/ui/core/Control\";\nimport CustomData from \"sap/ui/core/CustomData\";\nimport { DropInfo$DropEvent } from \"sap/ui/core/dnd/DropInfo\";\nimport type { MetadataOptions } from \"sap/ui/core/Element\";\nimport Element from \"sap/ui/core/Element\";\nimport Icon from \"sap/ui/core/Icon\";\nimport BaseContainer from \"./BaseContainer\";\nimport BaseSettingsPanel from \"./BaseSettingsPanel\";\nimport { CHANGE_TYPES } from \"./flexibility/Layout.flexibility\";\nimport { IDragEvent, IElement } from \"./interface/LayoutInterface\";\nimport KeyUserSettingsDialog from \"./KeyUserSettingsDialog\";\nimport Layout from \"./Layout\";\nimport { KEYUSER_SETTINGS_PANELS_KEYS } from \"./utils/Constants\";\nimport { recycleId } from \"./utils/DataFormatUtils\";\nimport { focusDraggedItem } from \"./utils/DragDropUtils\";\n\n/**\n *\n * Class for Layout Settings Panel for KeyUser Settings Dialog.\n *\n * @extends BaseSettingsPanel\n *\n * @author SAP SE\n * @version 0.0.1\n * @since 1.121\n * @private\n *\n * @alias sap.cux.home.KeyUserLayoutSettingsPanel\n */\nexport default class KeyUserLayoutSettingsPanel extends BaseSettingsPanel {\n\tstatic readonly metadata: MetadataOptions = {\n\t\tlibrary: \"sap.cux.home\"\n\t};\n\n\tprivate layoutTable!: Table;\n\tprivate orderedSections!: IElement[];\n\tprivate _allLayoutElements!: BaseContainer[];\n\n\t/**\n\t * Init lifecycle method\n\t *\n\t * @public\n\t * @override\n\t */\n\tpublic init(): void {\n\t\tsuper.init();\n\n\t\t//setup panel\n\t\tthis.setProperty(\"key\", KEYUSER_SETTINGS_PANELS_KEYS.LAYOUT);\n\t\tthis.setProperty(\"title\", this._i18nBundle.getText(\"editModeTitle\"));\n\n\t\t// //setup layout content\n\t\tthis.addAggregation(\"content\", this.getContent());\n\n\t\t//fired every time on panel navigation\n\t\tthis.attachPanelNavigated(() => {\n\t\t\tconst layout = this._getPanel() as Layout;\n\t\t\tlayout.resetSections();\n\t\t\tvoid this.loadSections();\n\t\t});\n\t}\n\n\t/**\n\t * Returns the content for the Layout Settings Panel.\n\t *\n\t * @private\n\t * @returns {VBox} The control containing the Layout Settings Panel content.\n\t */\n\tprivate getContent(): Table {\n\t\tif (!this.layoutTable) {\n\t\t\tthis.layoutTable = new Table(this.getId() + \"--idLayoutSettingsTable\", {\n\t\t\t\twidth: \"calc(100% - 2rem)\",\n\t\t\t\titems: [],\n\t\t\t\tcolumns: [\n\t\t\t\t\tnew Column(this.getId() + \"--idSectionTitleColumn\", {\n\t\t\t\t\t\twidth: \"100%\"\n\t\t\t\t\t})\n\t\t\t\t]\n\t\t\t}).addStyleClass(\"layoutSettingsTable sapContrastPlus sapUiSmallMarginBegin\");\n\t\t\tthis.addDragDropConfigTo(this.layoutTable, (event) => this.onDropLayoutSettings(event));\n\t\t}\n\t\treturn this.layoutTable;\n\t}\n\n\t/**\n\t * Method to load the sections\n\t *\n\t * @private\n\t */\n\tprivate async loadSections(): Promise<void> {\n\t\tconst layout = this._getPanel() as Layout;\n\t\tawait layout._calculateSectionsState();\n\t\tthis.orderedSections = layout.getSections() || [];\n\n\t\tconst keyUserSettingsDialog = this.getParent() as KeyUserSettingsDialog;\n\n\t\tthis.layoutTable.removeAllItems();\n\t\tthis.orderedSections.forEach((section: IElement, index: number) => {\n\t\t\tthis.layoutTable\n\t\t\t\t.addItem(\n\t\t\t\t\tnew ColumnListItem(recycleId(`${this.getId()}--layoutSettingsColumnListItem--${index}`), {\n\t\t\t\t\t\ttype: (this.getParent() as KeyUserSettingsDialog)?.hasDetailsPage?.(section.completeId) ? \"Navigation\" : \"Inactive\",\n\t\t\t\t\t\tcells: [\n\t\t\t\t\t\t\tnew HBox(recycleId(`${this.getId()}--layoutColumnListHBox--${index}`), {\n\t\t\t\t\t\t\t\talignItems: \"Center\",\n\t\t\t\t\t\t\t\titems: [\n\t\t\t\t\t\t\t\t\tnew Icon(recycleId(`${this.getId()}--layoutColumnListItemIcon--${index}`), {\n\t\t\t\t\t\t\t\t\t\tsrc: \"sap-icon://vertical-grip\"\n\t\t\t\t\t\t\t\t\t}).addStyleClass(\"sapUiSmallMarginEnd\"),\n\t\t\t\t\t\t\t\t\tnew HBox(recycleId(`${this.getId()}--layoutColumnListItemHBox--${index}`), {\n\t\t\t\t\t\t\t\t\t\tjustifyContent: \"SpaceBetween\",\n\t\t\t\t\t\t\t\t\t\talignItems: \"Center\",\n\t\t\t\t\t\t\t\t\t\twidth: \"100%\",\n\t\t\t\t\t\t\t\t\t\titems: [\n\t\t\t\t\t\t\t\t\t\t\tnew ObjectIdentifier(recycleId(`${this.getId()}--layoutColumnListObjectIdentifier--${index}`), {\n\t\t\t\t\t\t\t\t\t\t\t\ttitle: section.title,\n\t\t\t\t\t\t\t\t\t\t\t\ttext: section.text,\n\t\t\t\t\t\t\t\t\t\t\t\ttooltip: section.title\n\t\t\t\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t\t\t\t\tnew ToggleButton(recycleId(`${this.getId()}--layoutColumnListToggleButton--${index}`), {\n\t\t\t\t\t\t\t\t\t\t\t\ttooltip: section.visible\n\t\t\t\t\t\t\t\t\t\t\t\t\t? this._i18nBundle.getText(\"hideBtn\")\n\t\t\t\t\t\t\t\t\t\t\t\t\t: this._i18nBundle.getText(\"showBtn\"),\n\t\t\t\t\t\t\t\t\t\t\t\ticon: \"sap-icon://show\",\n\t\t\t\t\t\t\t\t\t\t\t\ttype: \"Emphasized\",\n\t\t\t\t\t\t\t\t\t\t\t\tenabled: !section.blocked,\n\t\t\t\t\t\t\t\t\t\t\t\tpress: (event) => this.createShowHideChangeFile(event, section),\n\t\t\t\t\t\t\t\t\t\t\t\tpressed: !section.visible,\n\t\t\t\t\t\t\t\t\t\t\t\tariaLabelledBy: [\"selectLabel\"]\n\t\t\t\t\t\t\t\t\t\t\t}).addStyleClass(\"sapUiTinyMarginEnd sapUiTinyMarginTop\")\n\t\t\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t\t\t}).addStyleClass(\"sapUiTinyMarginBegin\")\n\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\twidth: \"100%\"\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t],\n\t\t\t\t\t\tpress: () => keyUserSettingsDialog?.navigateToPage?.(keyUserSettingsDialog.getDetailsPage(section.completeId)),\n\t\t\t\t\t\tcustomData: new CustomData(recycleId(`${this.getId()}--custom-data--${index}`), {\n\t\t\t\t\t\t\tkey: \"sectionObject\",\n\t\t\t\t\t\t\tvalue: section\n\t\t\t\t\t\t})\n\t\t\t\t\t})\n\t\t\t\t)\n\t\t\t\t.addStyleClass(\"insightsListItem insightsListMargin\");\n\t\t});\n\t}\n\n\t/**\n\t * Function to execute drag and drop among sections\n\t *\n\t * @private\n\t */\n\tprivate onDropLayoutSettings(event: DropInfo$DropEvent | IDragEvent) {\n\t\tconst wrapper = this._getPanel() as Layout | Control;\n\t\tconst wrapperId = wrapper.getId();\n\t\tconst dragItem = ((event as DropInfo$DropEvent).getParameter?.(\"draggedControl\") ||\n\t\t\t(event as IDragEvent).draggedControl) as ColumnListItem;\n\t\tconst dragItemIndex = (dragItem.getParent() as Table)?.indexOfItem(dragItem);\n\t\tconst dropItem = ((event as DropInfo$DropEvent).getParameter?.(\"droppedControl\") ||\n\t\t\t(event as IDragEvent).droppedControl) as ColumnListItem;\n\t\tconst dropItemIndex = (dragItem.getParent() as Table)?.indexOfItem(dropItem);\n\n\t\tif (dragItemIndex !== dropItemIndex) {\n\t\t\tconst sectionOrder = this.orderedSections;\n\t\t\tconst dragObject = dragItem.data(\"sectionObject\") as IElement;\n\t\t\tconst dropObject = dropItem.data(\"sectionObject\") as IElement;\n\n\t\t\tconst actualDragItemIndex = this._getActualIndex(dragObject.completeId);\n\t\t\tconst actualDropItemIndex = this._getActualIndex(dropObject.completeId);\n\t\t\tthis._rearrangeLayoutElements(actualDragItemIndex, actualDropItemIndex);\n\n\t\t\tsectionOrder.splice(dragItemIndex, 1);\n\t\t\tsectionOrder.splice(dropItemIndex, 0, dragObject);\n\t\t\t(wrapper as Layout).setSections(sectionOrder);\n\n\t\t\tthis.addKeyUserChanges({\n\t\t\t\tselectorControl: wrapper as Control,\n\t\t\t\tchangeSpecificData: {\n\t\t\t\t\tchangeType: CHANGE_TYPES.MOVE,\n\t\t\t\t\tcontent: {\n\t\t\t\t\t\tmovedElements: [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tid: dragObject.completeId,\n\t\t\t\t\t\t\t\tsourceIndex: actualDragItemIndex,\n\t\t\t\t\t\t\t\ttargetIndex: actualDropItemIndex\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t],\n\t\t\t\t\t\tsource: {\n\t\t\t\t\t\t\tid: wrapperId,\n\t\t\t\t\t\t\taggregation: \"items\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\ttarget: {\n\t\t\t\t\t\t\tid: wrapperId,\n\t\t\t\t\t\t\taggregation: \"items\"\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tvoid this.loadSections();\n\t\t}\n\t\tfocusDraggedItem(this.layoutTable, dropItemIndex);\n\t}\n\n\t/**\n\t * Retrieves the actual index of a layout element by its ID.\n\t *\n\t * @private\n\t * @param {string} id - The ID of the layout element to find.\n\t * @returns {number} The index of the layout element.\n\t */\n\tprivate _getActualIndex(id: string): number {\n\t\tconst layout = this._getPanel() as Layout;\n\t\tthis._allLayoutElements = this._allLayoutElements || [...layout.getItems()];\n\t\tconst isLayoutExpanded = layout.getProperty(\"expanded\") as boolean;\n\t\tconst expandedElementConfig = layout._getCurrentExpandedElement();\n\n\t\tif (isLayoutExpanded && expandedElementConfig) {\n\t\t\t// add the expanded element if it isn't already in the list\n\t\t\tif (!this._allLayoutElements.some((element) => element.getId() === expandedElementConfig.targetContainer.getId())) {\n\t\t\t\tthis._allLayoutElements.splice(\n\t\t\t\t\tlayout.indexOfItem(expandedElementConfig.targetContainer),\n\t\t\t\t\t0,\n\t\t\t\t\texpandedElementConfig.targetContainer\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\treturn this._allLayoutElements.findIndex((element) => element.getId() === id);\n\t}\n\n\t/**\n\t * Rearranges the layout elements by moving an element from the source index to the target index.\n\t *\n\t * @private\n\t * @param {number} sourceIndex - The index of the element to move.\n\t * @param {number} targetIndex - The index to move the element to.\n\t */\n\tprivate _rearrangeLayoutElements(sourceIndex: number, targetIndex: number): void {\n\t\tconst container = this._allLayoutElements.splice(sourceIndex, 1)[0];\n\t\tthis._allLayoutElements.splice(targetIndex, 0, container);\n\t}\n\n\t/**\n\t * Method to set visibility of the container sections\n\t * Toggle button pressed event handler\n\t *\n\t * @private\n\t */\n\tprivate createShowHideChangeFile(oControlEvent: ToggleButton$PressEvent, section: IElement): void {\n\t\tconst isCheckBoxSelected: boolean = !oControlEvent.getParameter(\"pressed\");\n\t\tconst keyUserChanges = this.getKeyUserChanges();\n\t\tconst changeType = isCheckBoxSelected ? CHANGE_TYPES.UNHIDE : CHANGE_TYPES.HIDE;\n\t\tconst oExistingChange = keyUserChanges.find((oChange) => {\n\t\t\treturn oChange.selectorControl.getId() === section.completeId;\n\t\t});\n\n\t\t//Check if the change already exists\n\t\tif (oExistingChange) {\n\t\t\toExistingChange.changeSpecificData.changeType = changeType;\n\t\t} else {\n\t\t\tthis.addKeyUserChanges({\n\t\t\t\tselectorControl: Element.getElementById(section.completeId) as Control,\n\t\t\t\tchangeSpecificData: {\n\t\t\t\t\tchangeType\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n}\n"],"mappings":"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","ignoreList":[]}