{"version":3,"file":"KeyUserNewsPagesSettingsPanel-dbg.js","names":["sap","ui","define","List","Page","StandardListItem","VBox","Element","EventBus","__BaseSettingsPanel","___flexibility_Layoutflexibility","__KeyUserNewsSettingsPanel","__KeyUserPagesSettingsPanel","__NewsPanel","__PagePanel","___utils_Constants","___utils_DataFormatUtils","_interopRequireDefault","obj","__esModule","default","_catch","body","recover","result","e","then","BaseSettingsPanel","CHANGE_TYPES","KeyUserNewsSettingsPanel","KeyUserPagesSettingsPanel","NewsPanel","PagePanel","KEYUSER_SETTINGS_PANELS_KEYS","recycleId","KeyUserNewsPagesSettingsPanel","extend","metadata","library","init","_init","BaseSettingsPanel.prototype.init.call","setProperty","NEWS_PAGES","_i18nBundle","getText","_eventBus","getInstance","subscribe","channelId","eventId","data","changes","addNewsPagesChanges","addAggregation","getContent","attachPanelNavigated","loadSettings","_getContent","wrapperVBox","getId","_loadSettings","associatedPanelId","getPanel","associatedPanel","getElementById","container","getParent","forEach","panel","newsPanel","addItem","getNewsSettingsList","pagePanel","getPageSettingsList","newsVisibilityChangeHandler","_newsVisibilityChangeHandler","oEvent","newsVisibilityCheckBox","getParameter","newsFeedVisibility","getSelected","_getPanel","newsPageContainer","layout","keyUserChanges","getKeyUserChanges","existingChange","find","change","changeSpecificData","changeType","NEWS_FEED_VISIBILITY","newsSettingsPanel","removeUrlMesageStrip","addKeyUserChanges","selectorControl","content","isNewsFeedVisible","_getNewsSettingsList","newsSettingsList","selectionChange","bind","mode","standardListItem","selected","getVisible","press","navigateToNewsSettingsPage","type","getIsEndUserChange","isEndUser","title","setAssociation","undefined","setSelected","Boolean","getProperty","_getPageSettingsList","pageSettingsList","items","openPageSettingsDialog","onNavBack","_onNavBack","navContainer","back","_navigateToNewsSettingsPage","getNavContainer","newsSettingsPage","showHeader","getAggregation","backgroundDesign","showNavButton","navButtonPress","addPage","to","firePanelNavigated","_openPageSettingsDialog","pageSettingsPanel","pageSettingsDialog","open","_addNewsPagesChanges","isNewsChangesValid","_isNewsChangesValid","_this","Promise","resolve","isValidChanges","onSaveClearChanges","_onSaveClearChanges","clearKeyUserChanges","onCancelClearKeyUserChanges","_onCancelClearKeyUserChanges","clearNewsPanelChanges"],"sources":["KeyUserNewsPagesSettingsPanel.ts"],"sourcesContent":["/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n *  * (c) Copyright 2009-2025 SAP SE. All rights reserved\n */\n\nimport Dialog from \"sap/m/Dialog\";\nimport List from \"sap/m/List\";\nimport { ListBase$SelectionChangeEvent } from \"sap/m/ListBase\";\nimport NavContainer from \"sap/m/NavContainer\";\nimport Page from \"sap/m/Page\";\nimport StandardListItem from \"sap/m/StandardListItem\";\nimport VBox from \"sap/m/VBox\";\nimport Control from \"sap/ui/core/Control\";\nimport type { MetadataOptions } from \"sap/ui/core/Element\";\nimport Element from \"sap/ui/core/Element\";\nimport EventBus from \"sap/ui/core/EventBus\";\nimport BaseContainer from \"./BaseContainer\";\nimport BaseLayout from \"./BaseLayout\";\nimport BasePanel from \"./BasePanel\";\nimport BaseSettingsPanel from \"./BaseSettingsPanel\";\nimport { CHANGE_TYPES } from \"./flexibility/Layout.flexibility\";\nimport { IKeyUserChange, INewsFeedVisibiliyChange } from \"./interface/KeyUserInterface\";\nimport KeyUserNewsSettingsPanel from \"./KeyUserNewsSettingsPanel\";\nimport KeyUserPagesSettingsPanel from \"./KeyUserPagesSettingsPanel\";\nimport KeyUserSettingsDialog from \"./KeyUserSettingsDialog\";\nimport NewsAndPagesContainer from \"./NewsAndPagesContainer\";\nimport NewsPanel from \"./NewsPanel\";\nimport PagePanel from \"./PagePanel\";\nimport { KEYUSER_SETTINGS_PANELS_KEYS } from \"./utils/Constants\";\nimport { recycleId } from \"./utils/DataFormatUtils\";\n\n/**\n *\n * Class for News & Pages Settings Panel for KeyUser Settings Dialog.\n *\n * @extends BaseSettingsPanel\n *\n * @author SAP SE\n * @version 0.0.1\n * @since 1.121\n * @private\n *\n * @alias sap.cux.home.KeyUserNewsPagesSettingsPanel\n */\nexport default class KeyUserNewsPagesSettingsPanel extends BaseSettingsPanel {\n\tstatic readonly metadata: MetadataOptions = {\n\t\tlibrary: \"sap.cux.home\"\n\t};\n\tprivate wrapperVBox!: VBox;\n\tprivate newsPanel!: NewsPanel;\n\tprivate newsSettingsPanel!: KeyUserNewsSettingsPanel;\n\tprivate newsSettingsList!: List;\n\tprivate newsSettingsPage!: Page;\n\tprivate pagePanel!: PagePanel;\n\tprivate pageSettingsPanel!: KeyUserPagesSettingsPanel;\n\tprivate pageSettingsList!: List;\n\tprivate pageSettingsDialog!: Dialog;\n\tprivate _eventBus!: EventBus;\n\tprivate newsFeedVisibility!: boolean | undefined;\n\tprivate standardListItem!: StandardListItem;\n\n\t/**\n\t * Init lifecycle method\n\t *\n\t * @public\n\t * @override\n\t */\n\tpublic init(): void {\n\t\tsuper.init();\n\n\t\t//setup panel\n\t\tthis.setProperty(\"key\", KEYUSER_SETTINGS_PANELS_KEYS.NEWS_PAGES);\n\t\tthis.setProperty(\"title\", this._i18nBundle.getText(\"editNewsPages\"));\n\n\t\t// Subscribe to event bus\n\t\tthis._eventBus = EventBus.getInstance();\n\t\tthis._eventBus.subscribe(\n\t\t\t\"KeyUserChanges\",\n\t\t\t\"addNewsPagesChanges\",\n\t\t\t(channelId?: string, eventId?: string, data?: object) => {\n\t\t\t\t//errorstate is false when import is successful\n\t\t\t\tconst { changes } = data as { changes: Array<IKeyUserChange> };\n\t\t\t\tthis.addNewsPagesChanges(changes);\n\t\t\t},\n\t\t\tthis\n\t\t);\n\n\t\t// setup layout content\n\t\tthis.addAggregation(\"content\", this.getContent());\n\n\t\t// fired every time on panel navigation\n\t\tthis.attachPanelNavigated(() => this.loadSettings());\n\t}\n\n\t/**\n\t * Returns the content for the KeyUser News Pages Settings Panel.\n\t *\n\t * @private\n\t * @returns {VBox} The control containing the KeyUser News Pages Settings Panel content.\n\t */\n\tprivate getContent(): VBox {\n\t\tif (!this.wrapperVBox) {\n\t\t\tthis.wrapperVBox = new VBox(`${this.getId()}-wrapperVBox`);\n\t\t}\n\t\treturn this.wrapperVBox;\n\t}\n\n\t/**\n\t * Load settings for the panel.\n\t *\n\t * @private\n\t */\n\tprivate loadSettings(): void {\n\t\tconst associatedPanelId = this.getPanel();\n\t\tconst associatedPanel = Element.getElementById(associatedPanelId) as BasePanel;\n\t\tconst container = associatedPanel?.getParent() as BaseContainer;\n\t\tcontainer.getContent()?.forEach((panel: BasePanel) => {\n\t\t\tif (panel instanceof NewsPanel) {\n\t\t\t\tthis.newsPanel = panel;\n\t\t\t\tthis.wrapperVBox.addItem(this.getNewsSettingsList(panel));\n\t\t\t}\n\t\t\tif (panel instanceof PagePanel) {\n\t\t\t\tthis.pagePanel = panel;\n\t\t\t\tthis.wrapperVBox.addItem(this.getPageSettingsList(panel));\n\t\t\t}\n\t\t});\n\t}\n\n\tprivate newsVisibilityChangeHandler(oEvent: ListBase$SelectionChangeEvent): void {\n\t\tconst newsVisibilityCheckBox = oEvent.getParameter(\"listItem\");\n\t\tthis.newsFeedVisibility = newsVisibilityCheckBox?.getSelected();\n\t\tconst newsPanel = this._getPanel() as NewsPanel;\n\t\tconst newsPageContainer = newsPanel.getParent() as NewsAndPagesContainer;\n\t\tconst layout = newsPageContainer.getParent() as BaseLayout;\n\t\tconst keyUserChanges = this.getKeyUserChanges();\n\t\tconst existingChange = keyUserChanges.find((change) => {\n\t\t\treturn change.changeSpecificData.changeType === CHANGE_TYPES.NEWS_FEED_VISIBILITY;\n\t\t});\n\t\tif (!this.newsFeedVisibility && this.newsSettingsPanel) {\n\t\t\tthis.newsSettingsPanel.removeUrlMesageStrip();\n\t\t}\n\t\tif (!existingChange) {\n\t\t\tthis.addKeyUserChanges({\n\t\t\t\tselectorControl: layout,\n\t\t\t\tchangeSpecificData: {\n\t\t\t\t\tchangeType: CHANGE_TYPES.NEWS_FEED_VISIBILITY,\n\t\t\t\t\tcontent: {\n\t\t\t\t\t\tisNewsFeedVisible: this.newsFeedVisibility\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t} else if ((existingChange.changeSpecificData.content as INewsFeedVisibiliyChange).isNewsFeedVisible !== this.newsFeedVisibility) {\n\t\t\t(existingChange.changeSpecificData.content as INewsFeedVisibiliyChange).isNewsFeedVisible = this.newsFeedVisibility;\n\t\t}\n\t}\n\n\t/**\n\t * Returns News Settings Panel to the content.\n\t *\n\t * @private\n\t * @returns {List} The control containing the News Settings Panel content.\n\t */\n\tprivate getNewsSettingsList(panel: NewsPanel): List {\n\t\tconst newsPanel = this._getPanel() as NewsPanel;\n\t\tconst newsPageContainer = newsPanel.getParent() as NewsAndPagesContainer;\n\t\tif (!this.newsSettingsList) {\n\t\t\tthis.newsSettingsList = new List(`${this.getId()}-news-settings-list`, {\n\t\t\t\tselectionChange: this.newsVisibilityChangeHandler.bind(this),\n\t\t\t\tmode: \"MultiSelect\"\n\t\t\t});\n\t\t\tthis.standardListItem = new StandardListItem(`${this.getId()}-newsSettingsStandardListItem`, {\n\t\t\t\tselected: newsPanel.getVisible(), // TO-DO: Integrate with keyuser data\n\t\t\t\tpress: this.navigateToNewsSettingsPage.bind(this),\n\t\t\t\ttype: newsPageContainer.getIsEndUserChange().isEndUser ? \"Inactive\" : \"Navigation\",\n\t\t\t\ttitle: this._i18nBundle.getText(\"newsFeed\")\n\t\t\t});\n\t\t\tthis.newsSettingsList.addItem(this.standardListItem);\n\t\t\tthis.newsSettingsList.setAssociation(\"panel\", panel);\n\t\t} else {\n\t\t\tif (this.newsFeedVisibility === undefined) {\n\t\t\t\tthis.standardListItem.setSelected(\n\t\t\t\t\tBoolean(newsPanel.getParent()?.getProperty(\"newsFeedVisibility\")) && Boolean(newsPanel.getProperty(\"newsAvailable\"))\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\tthis.standardListItem.setSelected(this.newsFeedVisibility);\n\t\t\t}\n\t\t}\n\t\treturn this.newsSettingsList;\n\t}\n\n\t/**\n\t * Returns Page Settings Panel to the content.\n\t *\n\t * @private\n\t * @returns {List} The control containing the Page Settings Panel content.\n\t */\n\tprivate getPageSettingsList(panel: PagePanel): List {\n\t\tif (!this.pageSettingsList) {\n\t\t\tthis.pageSettingsList = new List(`${this.getId()}-page-settings-list`, {\n\t\t\t\tmode: \"None\",\n\t\t\t\titems: [\n\t\t\t\t\tnew StandardListItem(`${this.getId()}-pageSettingsList`, {\n\t\t\t\t\t\tselected: true, // TO-DO: Integrate with keyuser data\n\t\t\t\t\t\tpress: this.openPageSettingsDialog.bind(this),\n\t\t\t\t\t\ttype: \"Navigation\",\n\t\t\t\t\t\ttitle: this._i18nBundle.getText(\"pageGroupHeader\")\n\t\t\t\t\t})\n\t\t\t\t]\n\t\t\t});\n\t\t\tthis.pageSettingsList.setAssociation(\"panel\", panel);\n\t\t}\n\t\treturn this.pageSettingsList;\n\t}\n\n\tprivate onNavBack(navContainer: NavContainer): void {\n\t\tnavContainer?.back();\n\t\tif (!this.standardListItem.getSelected()) {\n\t\t\tthis.newsSettingsPanel?.removeUrlMesageStrip();\n\t\t}\n\t}\n\n\t/**\n\t * Adds News Settings Page to the dialog.\n\t *\n\t * @private\n\t */\n\tprivate navigateToNewsSettingsPage(): void {\n\t\tconst navContainer = (this.getParent() as KeyUserSettingsDialog)?.getNavContainer?.();\n\t\tif (!this.newsSettingsPage) {\n\t\t\tthis.newsSettingsPanel = new KeyUserNewsSettingsPanel(recycleId(`${this.getId()}--news-settings-panel`));\n\t\t\tthis.newsSettingsPanel.setAssociation(\"panel\", this.newsPanel);\n\t\t\tthis.newsSettingsPage = new Page(`${this.getId()}-news-settings-page`, {\n\t\t\t\ttitle: this.newsSettingsPanel.getProperty(\"title\") as string,\n\t\t\t\tshowHeader: true,\n\t\t\t\tcontent: this.newsSettingsPanel.getAggregation(\"content\") as Control,\n\t\t\t\tbackgroundDesign: \"Transparent\",\n\t\t\t\tshowNavButton: true,\n\t\t\t\tnavButtonPress: this.onNavBack.bind(this, navContainer)\n\t\t\t});\n\t\t}\n\t\tnavContainer?.addPage(this.newsSettingsPage);\n\t\tnavContainer?.to(this.newsSettingsPage);\n\t\tthis.newsSettingsPanel.firePanelNavigated();\n\t}\n\n\t/**\n\t * Opens Page Settings Dialog.\n\t *\n\t * @private\n\t */\n\tprivate openPageSettingsDialog(): void {\n\t\tif (!this.pageSettingsPanel) {\n\t\t\tthis.pageSettingsPanel = new KeyUserPagesSettingsPanel(`${this.getId()}--pages-settings-panel`);\n\t\t\tthis.pageSettingsPanel.setAssociation(\"panel\", this.pagePanel);\n\t\t\tthis.pageSettingsDialog = (this.pageSettingsPanel.getAggregation(\"content\") as Dialog[])?.[0];\n\t\t}\n\t\tthis.pageSettingsDialog?.open();\n\t\tthis.pageSettingsPanel?.firePanelNavigated();\n\t}\n\n\t/**\n\t * Handles Space Page Changes.\n\t *\n\t * @private\n\t * @param {Array<IKeyUserChange>} changes All Key User Changes.\n\t */\n\tprivate addNewsPagesChanges(changes: Array<IKeyUserChange>): void {\n\t\tchanges.forEach((change) => {\n\t\t\tthis.addKeyUserChanges(change);\n\t\t});\n\t}\n\n\tpublic async isNewsChangesValid() {\n\t\ttry {\n\t\t\treturn await this.newsSettingsPanel?.isValidChanges(this.standardListItem.getSelected());\n\t\t} catch {\n\t\t\treturn true;\n\t\t}\n\t}\n\n\tpublic onSaveClearChanges() {\n\t\tthis.newsFeedVisibility = undefined;\n\t\tthis.newsSettingsPanel?.clearKeyUserChanges();\n\t}\n\n\tpublic onCancelClearKeyUserChanges() {\n\t\tconst newsPanel = this._getPanel() as NewsPanel;\n\t\tthis.newsFeedVisibility = undefined;\n\t\tthis.standardListItem?.setSelected(newsPanel.getVisible());\n\t\tthis.newsSettingsPanel?.clearNewsPanelChanges();\n\t}\n}\n"],"mappings":"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","ignoreList":[]}