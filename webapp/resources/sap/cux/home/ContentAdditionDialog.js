/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *  * (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.define(["sap/m/Button","sap/m/FlexBox","sap/m/IconTabBar","sap/m/IconTabFilter","sap/m/IllustratedMessage","sap/m/IllustratedMessageSize","sap/m/IllustratedMessageType","sap/m/library","./AppsAdditionPanel","./BaseSettingsDialog","./InsightsAdditionPanel","./utils/Constants","./utils/FESRUtil"],function(t,e,n,i,s,o,r,a,c,l,d,u,h){"use strict";function f(t){return t&&t.__esModule&&typeof t.default!=="undefined"?t.default:t}const g=typeof Symbol!=="undefined"?Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator")):"@@iterator";function p(t,e,n){if(!t.s){if(n instanceof y){if(n.s){if(e&1){e=n.s}n=n.v}else{n.o=p.bind(null,t,e);return}}if(n&&n.then){n.then(p.bind(null,t,e),p.bind(null,t,2));return}t.s=e;t.v=n;const i=t.o;if(i){i(t)}}}const y=function(){function t(){}t.prototype.then=function(e,n){const i=new t;const s=this.s;if(s){const t=s&1?e:n;if(t){try{p(i,1,t(this.v))}catch(t){p(i,2,t)}return i}else{return this}}this.o=function(t){try{const s=t.v;if(t.s&1){p(i,1,e?e(s):s)}else if(n){p(i,1,n(s))}else{p(i,2,s)}}catch(t){p(i,2,t)}};return i};return t}();function B(t){return t instanceof y&&t.s&1}function b(t,e,n){var i=-1,s,o;function r(a){try{while(++i<t.length&&(!n||!n())){a=e(i);if(a&&a.then){if(B(a)){a=a.v}else{a.then(r,o||(o=p.bind(null,s=new y,2)));return}}}if(s){p(s,1,a)}else{s=a}}catch(t){p(s||(s=new y),2,t)}}r();return s}const T=a["BackgroundDesign"];function C(t,e,n){if(typeof t[g]==="function"){var i=t[g](),s,o,r;function d(t){try{while(!(s=i.next()).done&&(!n||!n())){t=e(s.value);if(t&&t.then){if(B(t)){t=t.v}else{t.then(d,r||(r=p.bind(null,o=new y,2)));return}}}if(o){p(o,1,t)}else{o=t}}catch(t){p(o||(o=new y),2,t)}}d();if(i.return){var a=function(t){try{if(!s.done){i.return()}}catch(t){}return t};if(o&&o.then){return o.then(a,function(t){throw a(t)})}a()}return o}if(!("length"in t)){throw new TypeError("Object is not iterable")}var c=[];for(var l=0;l<t.length;l++){c.push(t[l])}return b(c,function(t){return e(c[t])},n)}const P=a["ButtonType"];const m=a["IconTabHeaderMode"];const S=f(c);const I=f(l);const A=f(d);const w=u["FESR_IDS"];const v=h["addFESRSemanticStepName"];const E=h["FESR_EVENTS"];const _=I.extend("sap.cux.home.ContentAdditionDialog",{renderer:{apiVersion:2},init:function t(){I.prototype.init.call(this);this.setStretch(false);this.setContentWidth("59.375rem");this.setContentHeight("43.75rem");this.setVerticalScrolling(false);this.setTitle(this._i18nBundle.getText("addContent"));this.addStyleClass("sapCuxContentAdditionDialog");this.attachAfterClose(this.onDialogClose.bind(this));this.addPanel(new S(`${this.getId()}-appsAdditionPanel`));this.addPanel(new A(`${this.getId()}-cardsAdditionPanel`));this._setupDialogContent()},_setupDialogContent:function t(){this.iconTabBar=new n(`${this.getId()}-iconTabBar`,{headerMode:m.Inline,backgroundDesign:T.Transparent,expandable:false,select:()=>{this.setProperty("selectedKey",this.iconTabBar.getSelectedKey());this.updateActionButtons()}});this.errorMessageContainer=new e(`${this.getId()}-errorMessageContainer`,{direction:"Column",renderType:"Bare",height:"100%",justifyContent:"Center",items:[new s(`${this.getId()}-errorMessage`,{illustrationSize:o.Auto,illustrationType:r.NoData})]});const i=new e(`${this.getId()}-wrapper`,{direction:"Column",renderType:"Bare",height:"100%",items:[this.iconTabBar,this.errorMessageContainer]});this.addContent(i)},onBeforeRendering:function t(e){I.prototype.onBeforeRendering.call(this,e);void this._addPanelsToIconTabBar();const n=this.getProperty("selectedKey")||this.getPanels()[0]?.getProperty("key");this.iconTabBar.setSelectedKey(n);this.updateActionButtons()},_addPanelsToIconTabBar:function t(){try{const t=this;const e=function(){if(!t.panelsAdded){function e(){const e=t.iconTabBar.getItems().length>0;t.iconTabBar.setVisible(e);t.errorMessageContainer.setVisible(!e)}t.panelsAdded=true;const n=t.getPanels();const s=C(n,function(e){return Promise.resolve(e.isSupported()).then(function(n){if(!n){return}const s=e.getProperty("key");const o=new i(`${t.getId()}-${e.getId()}-${s}`,{key:s,text:e.getProperty("title")});const r=e.getAggregation("content");r?.forEach(t=>o.addContent(t));t.iconTabBar.addItem(o);v(o,E.SELECT,e.getProperty("key"))})});return s&&s.then?s.then(e):e(s)}}();return Promise.resolve(e&&e.then?e.then(function(){}):void 0)}catch(t){return Promise.reject(t)}},_getSelectedPanel:function t(e){let n=this.getPanels().find(t=>t.getProperty("key")===e);if(!n){n=this.getPanels()[0];this.setProperty("selectedKey",n?.getProperty("key"))}return n},updateActionButtons:function e(){this.cancelButton=this.cancelButton||new t(`${this.getId()}-close-btn`,{text:this._i18nBundle.getText("XBUT_CANCEL"),type:P.Transparent,press:()=>this.close()});v(this.cancelButton,E.PRESS,w.CANCEL_CONTENT_DIALOG);const n=this.getProperty("selectedKey");this.removeAllButtons();this._getSelectedPanel(n)?.getActionButtons().forEach(t=>{this.addButton(t)});this.addButton(this.cancelButton)},onDialogClose:function t(){this.getPanels().forEach(t=>t.fireEvent("onDialogClose"))}});return _});
//# sourceMappingURL=ContentAdditionDialog.js.map